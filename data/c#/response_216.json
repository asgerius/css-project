[{"tags": ["c#", "asp.net-web-api"], "comments": [{"owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "edited": false, "score": 0, "creation_date": 1551313082, "post_id": 54916340, "comment_id": 96599129, "body": "Can you post your WebAPIConfig here? It worked from my side"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1551313176, "post_id": 54916340, "comment_id": 96599156, "body": "@itsdeft Do you have any action filters in the pipeline that are reading the request body before it reaches the action? The code shown should work for that action."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "reply_to_user": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "edited": false, "score": 0, "creation_date": 1551313236, "post_id": 54916340, "comment_id": 96599170, "body": "@HienNguyen I added the config file in my post ! :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1551313303, "post_id": 54916340, "comment_id": 96599190, "body": "@Nkosi What do you mean by pipeline ? I&#39;m not english speaker :/ But if you mean that there is code before this method the answer is no"}, {"owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "edited": false, "score": 0, "creation_date": 1551313454, "post_id": 54916340, "comment_id": 96599226, "body": "Can you post full your api controller here?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "reply_to_user": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "edited": false, "score": 0, "creation_date": 1551313650, "post_id": 54916340, "comment_id": 96599276, "body": "@HienNguyen done ! :)"}, {"owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "edited": false, "score": 0, "creation_date": 1551314003, "post_id": 54916340, "comment_id": 96599358, "body": "what is visual studio version for creating this project?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "reply_to_user": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "edited": false, "score": 0, "creation_date": 1551314112, "post_id": 54916340, "comment_id": 96599382, "body": "@HienNguyen VS Community 2017 version 15.8.7"}, {"owner": {"reputation": 284, "user_id": 793976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fffd0f55e936433c1f53a8893b9313fa?s=128&d=identicon&r=PG", "display_name": "qnguyen", "link": "https://stackoverflow.com/users/793976/qnguyen"}, "edited": false, "score": 0, "creation_date": 1551318195, "post_id": 54916340, "comment_id": 96600260, "body": "Restart your Visual Studio?"}, {"owner": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "edited": false, "score": 1, "creation_date": 1551320669, "post_id": 54916340, "comment_id": 96600786, "body": "Have you removed the default json serializer by chance?"}], "owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551317001, "creation_date": 1551311631, "last_edit_date": 1551317001, "question_id": 54916340, "link": "https://stackoverflow.com/questions/54916340/object-null-post-method-web-api", "title": "Object null POST method Web API", "body": "<p>When I use Postman to test the POST method of my API and I switch to debug mode, the object received by the method is always null</p>\n\n<p><a href=\"https://i.stack.imgur.com/dMufU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dMufU.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the code of my DTO :</p>\n\n<pre><code>public class CharacterDTO\n{\n        public int Id { get; set; }\n        [Required]\n        public string FirstName { get; set; }\n        public string LastName { get; set; }\n}\n</code></pre>\n\n<p>And finally the JSON I'm sending with Postman: </p>\n\n<pre><code>{\n    \"FirstName\" : \"John\",\n    \"LastName\" : \"Snow\"\n}\n</code></pre>\n\n<p>If you ever need it, here is the request that Postman makes:</p>\n\n<pre><code>POST /api/characters HTTP/1.1\nHost: localhost:49463\nContent-Type: application/json\ncache-control: no-cache\nPostman-Token: 1e303be2-f318-4104-b189-5142fa6ddad6\n{\n    \"FirstName\" : \"John\",\n    \"LastName\" : \"Snow\"\n}\n------WebKitFormBoundary7MA4YWxkTrZu0gW--\n</code></pre>\n\n<p>And the full screenshot of my Postman request :</p>\n\n<p><a href=\"https://i.stack.imgur.com/PNUec.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PNUec.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the WebApiConfig.cs file :</p>\n\n<pre><code>public static class WebApiConfig\n    {\n        public static void Register(HttpConfiguration config)\n        {\n            // Web API configuration and services\n\n            // Web API routes\n            config.MapHttpAttributeRoutes();\n\n            config.Routes.MapHttpRoute(\n                name: \"DefaultApi\",\n                routeTemplate: \"api/{controller}/{id}\",\n                defaults: new { id = RouteParameter.Optional }\n            );\n        }\n    }\n</code></pre>\n\n<p>And finally here is the controller :</p>\n\n<pre><code>public class CharactersController : ApiController\n    {\n        // GET: api/characters\n        public IEnumerable&lt;CharacterDTO&gt; GetAllCharacters()\n        {\n            List&lt;CharacterDTO&gt; list = new List&lt;CharacterDTO&gt;();\n            ThronesTournamentManager m = new ThronesTournamentManager();\n\n            foreach (var element in m.GetAllCharacters())\n            {\n                list.Add(new CharacterDTO(element));\n            }\n            return list;\n        }\n        // GET : api/characters/{id}\n        public CharacterDTO GetCharacter(int id)\n        {\n            Character result;\n            ThronesTournamentManager m  = new ThronesTournamentManager();\n            List&lt;Character&gt; list        = m.GetAllCharacters();\n\n            result = list.SingleOrDefault(c =&gt; c.ID == id);\n\n            return new CharacterDTO(result);\n        }\n\n\n        // POST: api/characters\n        public HttpResponseMessage Post([FromBody]CharacterDTO character)\n        {\n            if (!ModelState.IsValid)\n            {\n                var errors = new List&lt;string&gt;();\n                foreach (var state in ModelState)\n                {\n                    foreach (var error in state.Value.Errors)\n                    {\n                        errors.Add(error.ErrorMessage);\n                    }\n                }\n                return Request.CreateResponse(HttpStatusCode.Forbidden, errors);\n            }\n\n\n            ThronesTournamentManager m = new ThronesTournamentManager();\n            m.AddCharacter(character.Transform());\n\n            return Request.CreateResponse(HttpStatusCode.Created, character);\n        }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "asp.net-web-api", "entity-framework-6"], "answers": [{"tags": [], "owner": {"reputation": 15861, "user_id": 509600, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b28cfca4046ffeb1503a27b18a6acfb3?s=128&d=identicon&r=PG", "display_name": "katit", "link": "https://stackoverflow.com/users/509600/katit"}, "is_accepted": true, "score": 0, "last_activity_date": 1554482143, "creation_date": 1554482143, "answer_id": 55539907, "question_id": 54916282, "link": "https://stackoverflow.com/questions/54916282/merging-2-entity-graphs-in-entity-framework/55539907#55539907", "title": "Merging 2 entity graphs in Entity Framework", "body": "<p>Noone responded but I found a solution, maybe going to help someone:\n<a href=\"http://blog.brentmckendrick.com/graphdiff-aggregate-mappings/\" rel=\"nofollow noreferrer\">http://blog.brentmckendrick.com/graphdiff-aggregate-mappings/</a></p>\n\n<p>There is extension for DbContext which will allow for 2 entity graph merging. Exactly what we were looking for.</p>\n"}], "owner": {"reputation": 15861, "user_id": 509600, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b28cfca4046ffeb1503a27b18a6acfb3?s=128&d=identicon&r=PG", "display_name": "katit", "link": "https://stackoverflow.com/users/509600/katit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 55539907, "answer_count": 1, "score": 0, "last_activity_date": 1554482143, "creation_date": 1551311224, "last_edit_date": 1551331880, "question_id": 54916282, "link": "https://stackoverflow.com/questions/54916282/merging-2-entity-graphs-in-entity-framework", "title": "Merging 2 entity graphs in Entity Framework", "body": "<p>Does EF have support for something like this? Let's pretend I have 3 entities </p>\n\n<pre><code>Customer\nOrders\nOrderLines\n</code></pre>\n\n<p><code>Orders</code> is a childs of <code>Customer</code> and <code>OrderLines</code> is a child of <code>Order</code></p>\n\n<p>Once I load this structure using EF - I return it to Web API client (disconnected).</p>\n\n<p>When client returns graph (POSTs back to server) - I know only one fact: this is the same <code>Customer</code> but I want to merge Orders/Lines to the database. </p>\n\n<p>Probably not perfect example with Orders, but this is what we need. We want to support standard \"REST\" type logic on client and not make client track entities. </p>\n\n<p>So, I want (when data is POSTed back) to load same graph from server and take this disconnected graph and apply to loaded one.</p>\n\n<p>Basically walking properties one by one on <code>Customer</code>, then seeing which Orders got deleted, which got Added and update properties on those Updated. </p>\n\n<p>Is there a built-in generic way to update property values from one entity to another?</p>\n\n<p>Or maybe there is ready to go pattern/tutorial for doing exactly this?</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "edited": false, "score": 0, "creation_date": 1551311866, "post_id": 54916250, "comment_id": 96598829, "body": "Are you supposed to display each score in a <b>different</b> message box?...or use a for loop to iterate over all of them, adding them to a string as you go, then display all of them at once in ONE message box?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1551315578, "post_id": 54916250, "comment_id": 96599706, "body": "I don&#39;t see where you check if the input is a number between 1 and 100"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1551315748, "post_id": 54916250, "comment_id": 96599744, "body": "You are also doing <code>scores.Add(1)</code> instead of <code>scores.Add(Score)</code>. Is that intentional?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1551315841, "post_id": 54916250, "comment_id": 96599761, "body": "<i>&quot;it just shows a system message&quot;</i> What does the message say? That might be a good clue..."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1551316754, "post_id": 54916250, "comment_id": 96599967, "body": "Please fill in the <code>foreach</code> with the code that&#39;s not working so we can help correct where it went wrong. Are you trying to build a string with all the values (like, &quot;You entered: 1, 2, 3&quot;) or show a separate message box for each score?"}], "answers": [{"comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1551314206, "post_id": 54916409, "comment_id": 96599406, "body": "Why do you concatenate an empty string to everything, like <code>0+&quot;&quot;</code>? Why not <code>&quot;0&quot;</code>?"}, {"owner": {"reputation": 388, "user_id": 10008842, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4yFbIG-hzn4/AAAAAAAAAAI/AAAAAAAAAB8/P7EMMqLaPys/photo.jpg?sz=128", "display_name": "Vin&#237;cius Gabriel", "link": "https://stackoverflow.com/users/10008842/vin%c3%adcius-gabriel"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1551314469, "post_id": 54916409, "comment_id": 96599447, "body": "Its a way of forcing the <code>ToString()</code> method to be called without actually referencing it."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1551314925, "post_id": 54916409, "comment_id": 96599561, "body": "I know, I was just curious if there was a reason - I haven&#39;t seen that pattern before (unless the appended string has a value, of course). Does this incur boxing in the underlying call to Concat?"}, {"owner": {"reputation": 388, "user_id": 10008842, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4yFbIG-hzn4/AAAAAAAAAAI/AAAAAAAAAB8/P7EMMqLaPys/photo.jpg?sz=128", "display_name": "Vin&#237;cius Gabriel", "link": "https://stackoverflow.com/users/10008842/vin%c3%adcius-gabriel"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1551315484, "post_id": 54916409, "comment_id": 96599689, "body": "I believe so. But is just force of habit. I could use &quot;0&quot; and this is probably more efficient. However, I usually have a variable and instead of using <code>ToString()</code> i use +&quot;&quot;; for short."}, {"owner": {"reputation": 55, "user_id": 10988044, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211194388249430/picture?type=large", "display_name": "Amanda", "link": "https://stackoverflow.com/users/10988044/amanda"}, "edited": false, "score": 0, "creation_date": 1551321196, "post_id": 54916409, "comment_id": 96600911, "body": "This was very very helpful! The only thing is it needs to display in only one message box as a list of variables."}, {"owner": {"reputation": 388, "user_id": 10008842, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4yFbIG-hzn4/AAAAAAAAAAI/AAAAAAAAAB8/P7EMMqLaPys/photo.jpg?sz=128", "display_name": "Vin&#237;cius Gabriel", "link": "https://stackoverflow.com/users/10008842/vin%c3%adcius-gabriel"}, "edited": false, "score": 0, "creation_date": 1551321564, "post_id": 54916409, "comment_id": 96601001, "body": "you mean each of the elements of the list in one messagebox?"}, {"owner": {"reputation": 55, "user_id": 10988044, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211194388249430/picture?type=large", "display_name": "Amanda", "link": "https://stackoverflow.com/users/10988044/amanda"}, "edited": false, "score": 0, "creation_date": 1551324580, "post_id": 54916409, "comment_id": 96601631, "body": "exactly, Vinicius."}, {"owner": {"reputation": 55, "user_id": 10988044, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211194388249430/picture?type=large", "display_name": "Amanda", "link": "https://stackoverflow.com/users/10988044/amanda"}, "edited": false, "score": 0, "creation_date": 1551332154, "post_id": 54916409, "comment_id": 96603463, "body": "@Vin&#237;ciusGabriel I was finally able to get it to work right private void btnClear_Click(object sender, EventArgs e)         {                                        txtScore.Text = 0+&quot;&quot;;             txtAverage.Text = 0+&quot;&quot;;             txtTotal.Text = 0+&quot;&quot;;             txtCount.Text = 0+&quot;&quot;;                          scores.Clear();  scores.Clear();  is not clearing the list at all."}, {"owner": {"reputation": 388, "user_id": 10008842, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4yFbIG-hzn4/AAAAAAAAAAI/AAAAAAAAAB8/P7EMMqLaPys/photo.jpg?sz=128", "display_name": "Vin&#237;cius Gabriel", "link": "https://stackoverflow.com/users/10008842/vin%c3%adcius-gabriel"}, "edited": false, "score": 1, "creation_date": 1551332542, "post_id": 54916409, "comment_id": 96603590, "body": "are you sure about that? check if scores.Count is zero in a messagebox after the Clear(). If indeed, for some reason, the list is not being cleared, try creating the list again: scores = new List&lt;int&gt;();"}], "tags": [], "owner": {"reputation": 388, "user_id": 10008842, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4yFbIG-hzn4/AAAAAAAAAAI/AAAAAAAAAB8/P7EMMqLaPys/photo.jpg?sz=128", "display_name": "Vin&#237;cius Gabriel", "link": "https://stackoverflow.com/users/10008842/vin%c3%adcius-gabriel"}, "is_accepted": true, "score": 1, "last_activity_date": 1551325198, "last_edit_date": 1551325198, "creation_date": 1551312152, "answer_id": 54916409, "question_id": 54916250, "link": "https://stackoverflow.com/questions/54916250/adding-and-displaying-variables-in-a-list/54916409#54916409", "title": "Adding and displaying variables in a list", "body": "<p>The variables 'Total' and 'Count' are basically useless. Try this:</p>\n\n<pre><code>private void btnAdd_Click(object sender, EventArgs e){\n    scores.Add(Convert.ToInt32(txtScore.Text));\n    txtTotal.Text = scores.Sum()+\"\";\n    txtCount.Text = scores.Count()+\"\";\n    txtAverage.Text = scores.Average()+\"\";\n    txtScore.Focus();\n}\n</code></pre>\n\n<p>And then, in the clear button:</p>\n\n<pre><code>private void btnClear_Click(object sender, EventArgs e){\n    scores.Clear();\n    txtScore.Text = 0+\"\";\n    txtAverage.Text = 0+\"\";\n    txtTotal.Text = 0+\"\";\n    txtCount.Text = 0+\"\";\n}\n</code></pre>\n\n<p>In the display button:</p>\n\n<pre><code>private void btnDisplay_Click(object sender, EventArgs e){\n    string message = \"\";\n    int index = 0;\n    foreach (var score in scores)  {\n         message += $\"[{index++}]: {score}\\n\";\n    }\n    MessageBox.Show(message);\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 10988044, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211194388249430/picture?type=large", "display_name": "Amanda", "link": "https://stackoverflow.com/users/10988044/amanda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 54916409, "answer_count": 1, "score": 0, "last_activity_date": 1551325198, "creation_date": 1551311090, "last_edit_date": 1551315717, "question_id": 54916250, "link": "https://stackoverflow.com/questions/54916250/adding-and-displaying-variables-in-a-list", "title": "Adding and displaying variables in a list", "body": "<p>This is a score calculator, when you input a score between 1 and 100 it stores it, shows the count of how many scores have been entered and what the average is. We're supposed to have it add the data using List&lt; int> and display using foreach in a message box. I have tried multiple different ways to add and display the data. When I do scores.Add(whatever) and try to call it in the click action for \"Display\" it just shows a system message however many times you've entered in. I cannot seem to get it to work.</p>\n\n<pre><code>int Count = 0;\ndecimal Total = 0m;\nList&lt;int&gt; scores = new List&lt;int&gt;();\n\nprivate void btnAdd_Click(object sender, EventArgs e)\n{\n    int Score = Convert.ToInt32(txtScore.Text);\n    scores.Add(1);\n\n    Total += Score;\n    Count++;\n\n    decimal Average = Total / Count;\n\n    txtTotal.Text = Total.ToString();\n    txtCount.Text = Count.ToString();\n    txtAverage.Text = Average.ToString();\n    txtScore.Focus();\n}\n\nprivate void btnClear_Click(object sender, EventArgs e)\n{\n    int Count = 0;\n    decimal Total = 0m;\n    decimal Average = 0m;\n    int Score = 0;\n\n    scores.Clear();\n    txtScore.Text = Score.ToString();\n    txtAverage.Text = Average.ToString();\n    txtTotal.Text = Total.ToString();\n    txtCount.Text = Count.ToString();\n}\n\nprivate void btnDisplay_Click(object sender, EventArgs e)\n{\n    foreach (int scoring in scores)                       \n}\n</code></pre>\n\n<p>I've tried looking at the examples in my book and on here but they're all for string. This is about as far into my code as I'm able to get. I am so stuck!</p>\n"}, {"tags": ["c#", "visual-studio-2017"], "comments": [{"owner": {"reputation": 33538, "user_id": 276994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f81585f940e68c3bab934cc6f59c901e?s=128&d=identicon&r=PG", "display_name": "Vlad", "link": "https://stackoverflow.com/users/276994/vlad"}, "edited": false, "score": 0, "creation_date": 1551312874, "post_id": 54916164, "comment_id": 96599083, "body": "Fresh Visual Studio 2017 compiles your example just fine. <a href=\"https://sharplab.io/#v2:C4LgbgpgTglgZgTwDQBMQGoA+ABADAAmwEYBuAWACg9CiBWcqgZkICZ8BhSgb0vz8ObYAbAB5iuAHz4A4hGAAxADYB7AO7D8XfAHM5JfAGc9+AL6Ve/AA5RlwCAGM7KQgBZ8ABQCuBgBbCAFNi0YkSS+HCeAHb2AJQWfDwU/MkyckpqGgC8hEIAdABKUf4R0bkAkpFgygDWEDEMyWYUJkA==\" rel=\"nofollow noreferrer\">sharplab.io/&hellip;</a>. Could you please provide a minimal ready-to-paste example, reproducing the problem at your side?"}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1551313276, "post_id": 54916164, "comment_id": 96599179, "body": "Could you please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? The code you&#39;ve provided (<code>public Task&lt;string&gt; GetFlowTask { get; set; } protected void PushTask(Func&lt;string&gt; func) { this.GetFlowTask = Task.Run(func.Invoke); }</code>) works just fine. So you must have some other code causing the issue."}, {"owner": {"reputation": 4665, "user_id": 1447389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iQhtr.jpg?s=128&g=1", "display_name": "Soleil", "link": "https://stackoverflow.com/users/1447389/soleil"}, "edited": false, "score": 0, "creation_date": 1551314981, "post_id": 54916164, "comment_id": 96599576, "body": "Here, with VS2017 15.9.7 (and resharper 2018.3.3) I have the error. I updated the function so it&#39;s complete."}], "answers": [{"tags": [], "owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "is_accepted": true, "score": 2, "last_activity_date": 1551316168, "last_edit_date": 1551316168, "creation_date": 1551315666, "answer_id": 54916822, "question_id": 54916164, "link": "https://stackoverflow.com/questions/54916164/cs0121-the-call-is-ambiguous-between-task-runtresultfunctresult-and-tas/54916822#54916822", "title": "CS0121 The call is ambiguous between &#39;Task.Run&lt;TResult&gt;(Func&lt;TResult&gt;)&#39; and &#39;Task.Run(Func&lt;Task&gt;)&#39;", "body": "<p>It seems like the compiler doesn't correctly infer the type for <code>func.Invoke</code> passed as a parameter.</p>\n\n<pre><code>GetFlowTask = Task.Run(func.Invoke);\n//Fails in 15.9.7 (but works in LINQPad v5.36.03)\n</code></pre>\n\n<p>But there are easy alternatives.</p>\n\n<pre><code>GetFlowTask = Task.Run(func); //Succeeds\nGetFlowTask = Task.Run(() =&gt; func.Invoke()); //Succeeds\n</code></pre>\n"}], "owner": {"reputation": 4665, "user_id": 1447389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iQhtr.jpg?s=128&g=1", "display_name": "Soleil", "link": "https://stackoverflow.com/users/1447389/soleil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 54916822, "answer_count": 1, "score": 0, "last_activity_date": 1551316168, "creation_date": 1551310597, "last_edit_date": 1551314897, "question_id": 54916164, "link": "https://stackoverflow.com/questions/54916164/cs0121-the-call-is-ambiguous-between-task-runtresultfunctresult-and-tas", "title": "CS0121 The call is ambiguous between &#39;Task.Run&lt;TResult&gt;(Func&lt;TResult&gt;)&#39; and &#39;Task.Run(Func&lt;Task&gt;)&#39;", "body": "<p>I have the error happening at <code>GetFlowTask = Task.Run(func.Invoke);</code>.</p>\n\n<p>He context is the following:</p>\n\n<pre><code>public Task&lt;string&gt; GetFlowTask { get; set; }\n</code></pre>\n\n<p>And the faulty line is inside a function:</p>\n\n<pre><code>protected void PushTask(Func&lt;string&gt; func)\n{\n    GetFlowTask = Task.Run(func.Invoke);\n}\n</code></pre>\n\n<p>I did not have this error until recently (I believe a VS 2017 update).</p>\n\n<p>Furthermore I have not idea how to lift the ambiguity. Any hint ?</p>\n\n<p>And why Roslyn is not picking <code>Task.Run&lt;TResult&gt;(Func&lt;TResult&gt;)</code> in the first place ?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1551313618, "post_id": 54916133, "comment_id": 96599267, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.file.copy?view=netframework-4.7.2#System_IO_File_Copy_System_String_System_String_System_Boolean_\" rel=\"nofollow noreferrer\"><code>System.IO.File.Copy()</code></a>?"}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 1, "creation_date": 1551315024, "post_id": 54916133, "comment_id": 96599586, "body": "Here are the problems with this question... you say &quot;<i>The code below creates the directories <b>and the file I need is copied into the Customize folder</b>&quot;</i> What file? there is no copy here. <i>&quot;The problem is that I don&#39;t need the folders created&quot;</i> what do you mean?  you are only creating one &quot;<i>I just need the Customize folder to be overwritten and the Customize.xml file to be added to it from a different location</i>&quot; what customizw folder? <i>&quot;added to it from a different location&quot;</i> what location ? .... please reword this, add more information and be specif, this is very ambiguous, i am guessing"}], "answers": [{"comments": [{"owner": {"reputation": 412, "user_id": 1617879, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bd045e70688a2cf2d8a33a9945062c30?s=128&d=identicon&r=PG", "display_name": "webby68", "link": "https://stackoverflow.com/users/1617879/webby68"}, "edited": false, "score": 0, "creation_date": 1551366403, "post_id": 54917927, "comment_id": 96621836, "body": "While that works targetpath is defined by the following: string targetPath = @&quot;\\\\workstation\\c$\\USERPROFILE\\APPDATA\\Roaming\\Litera\\Custom&zwnj;&#8203;ize&quot;; it&#39;s possible that I am not explaining this clear enough. I need to copy the customize.xml to all user files when they log in. However, what I have defined as the  targetPath creates a folder USERPROFILE and all subfolders. I don&#39;t need it to do that. I just want the targetPath to be the Customize folder (that already exists) and to place the customize.xml in that folder and overwrite any current one that may be there."}], "tags": [], "owner": {"reputation": 3935, "user_id": 6564276, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/24e7a72ccc1527b501c1672edff06203?s=128&d=identicon&r=PG&f=1", "display_name": "Vijunav Vastivch", "link": "https://stackoverflow.com/users/6564276/vijunav-vastivch"}, "is_accepted": false, "score": 0, "last_activity_date": 1551324345, "creation_date": 1551324345, "answer_id": 54917927, "question_id": 54916133, "link": "https://stackoverflow.com/questions/54916133/how-to-iterate-through-a-directory-to-overwrite-a-file/54917927#54917927", "title": "How to iterate through a directory to overwrite a file?", "body": "<p>This is just only something:</p>\n\n<pre><code>string fileNamenameToCopy = \"D:\\\\Folder1\\\\Customize.xml\"; \nFile.Copy(fileNamenameToCopy, targetPath+ \"\\\\Customize.xml\");\n</code></pre>\n"}], "owner": {"reputation": 412, "user_id": 1617879, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bd045e70688a2cf2d8a33a9945062c30?s=128&d=identicon&r=PG", "display_name": "webby68", "link": "https://stackoverflow.com/users/1617879/webby68"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551366717, "creation_date": 1551310328, "last_edit_date": 1551366717, "question_id": 54916133, "link": "https://stackoverflow.com/questions/54916133/how-to-iterate-through-a-directory-to-overwrite-a-file", "title": "How to iterate through a directory to overwrite a file?", "body": "<p>I have a directory path that is already created in the user profiles.\nThe code below creates the directories and the customize.xml is copied into the Customize folder. This code creates folders rather than just drilling down into the userprofile and all sub-directories. I just need the Customize folder to be overwritten or just the Customize.xml file to be added to it and overwrite the one that may already be there. How do I do this?</p>\n\n<pre><code>string fileName = \"Customize.xml\"; \nstring targetPath = @\"\\\\desktoppath\\c$\\%USERPROFILE%\\%APPDATA%\\%Roaming%\\%Litera%\\Customize\";\n//string targetPath = @\"\\\\desktoppath\\c$\\TestFolder\";\n// Use Path class to manipulate file and directory paths.\nstring sourceFile = Path.Combine(sourcePath, fileName);\nstring destFile = Path.Combine(targetPath, fileName);\n\n// To copy a folder's contents to a new location:\n// Create a new target folder, if necessary.\nif (!Directory.Exists(targetPath))\n{\n    Directory.CreateDirectory(targetPath);\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "parallel-processing", "async-await"], "answers": [{"tags": [], "owner": {"reputation": 15649, "user_id": 126995, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bdd0d42e87a7c2636f0570ce12d069e5?s=128&d=identicon&r=PG", "display_name": "Soonts", "link": "https://stackoverflow.com/users/126995/soonts"}, "is_accepted": false, "score": 0, "last_activity_date": 1551314680, "creation_date": 1551314680, "answer_id": 54916700, "question_id": 54916095, "link": "https://stackoverflow.com/questions/54916095/how-to-process-potentially-async-aggregate-tasks-in-parallel-and-process-them-as/54916700#54916700", "title": "How to process potentially async aggregate tasks in parallel and process them as each task completes in Unity", "body": "<p>You probably need something like this.</p>\n\n<p>Not particularly efficient if you have thousands of them, but if you have a few dozen should work fine.</p>\n\n<pre><code>class TransitionRunner\n{\n    readonly List&lt;IDayTransitionAction&gt; list = new List&lt;IDayTransitionAction&gt;();\n    readonly HashSet&lt;Task&gt; runningTasks = new HashSet&lt;Task&gt;();\n\n    public async Task runAll()\n    {\n        Debug.Assert( 0 == runningTasks.Count );\n\n        foreach( var dta in list )\n        {\n            if( dta.IsThreadSafe )\n            {\n                // Thread safe tasks are started and finished on the thread pool's threads\n                Func&lt;Task&gt; fnRun = dta.ProcessTransitionAsync;\n                runningTasks.Add( Task.Run( fnRun ) );\n            }\n            else\n            {\n                // Non-thread safe tasks are started and finished on the GUI thread.\n                // If they're not actually async, the following line will run the complete task.\n                Task task  = dta.ProcessTransitionAsync();\n                if( task.IsCompleted )\n                {\n                    // It was a blocking task without await\n                    // Or maybe await that completed extremely fast.\n                    if( task.IsCompletedSuccessfully )\n                        OnIndividualItemProcessed();\n                    else\n                        await task; // Propagate exception\n                }\n                else\n                    runningTasks.Add( task );\n            }\n        }\n\n        while( runningTasks.Count &gt; 0 )\n        {\n            runningTasks.Remove( await Task.WhenAny( runningTasks ) );\n            OnIndividualItemProcessed();\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 462, "user_id": 634074, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c9c8a82521b88694eae9dd3855b4da78?s=128&d=identicon&r=PG", "display_name": "Tyler W", "link": "https://stackoverflow.com/users/634074/tyler-w"}, "edited": false, "score": 0, "creation_date": 1551316384, "post_id": 54916878, "comment_id": 96599876, "body": "I actually want parallel (multiple-threads), not just concurrent operation, for the thread safe operations."}, {"owner": {"reputation": 462, "user_id": 634074, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c9c8a82521b88694eae9dd3855b4da78?s=128&d=identicon&r=PG", "display_name": "Tyler W", "link": "https://stackoverflow.com/users/634074/tyler-w"}, "edited": false, "score": 0, "creation_date": 1551318298, "post_id": 54916878, "comment_id": 96600288, "body": "I&#39;m wondering if, in the composed method you suggested, I were to instead do await Task.Run(() =&gt; actionItem.ProcessTransitionAsync()) if that would send them off to the threadpool, while executing the event when the task completes on the main thread.  The issue then is would that guarantee they run on a thread other than the main thread or not..."}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "reply_to_user": {"reputation": 462, "user_id": 634074, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c9c8a82521b88694eae9dd3855b4da78?s=128&d=identicon&r=PG", "display_name": "Tyler W", "link": "https://stackoverflow.com/users/634074/tyler-w"}, "edited": false, "score": 0, "creation_date": 1551366436, "post_id": 54916878, "comment_id": 96621863, "body": "@TylerW: Sorry, I interpreted by your question (and the variable name <code>nonThreadSafeActions</code>) that these actions <i>did</i> require the main thread, and you just wanted the truly asynchronous ones to run concurrently. If you have all thread-safe actions, then you can just change the one line as you propose: <code>await actionItem.ProcessTransitionAsync();</code> becomes <code>await Task.Run(() =&gt; actionItem.ProcessTransitionAsync());</code>. <code>Task.Run</code> guarantees that the transitions run on a thread pool thread, and <code>OnIndividualItemProcessed</code> will run on the UI thread."}, {"owner": {"reputation": 462, "user_id": 634074, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c9c8a82521b88694eae9dd3855b4da78?s=128&d=identicon&r=PG", "display_name": "Tyler W", "link": "https://stackoverflow.com/users/634074/tyler-w"}, "edited": false, "score": 0, "creation_date": 1551374607, "post_id": 54916878, "comment_id": 96626570, "body": "Heh yeah, I&#39;m actually doing both. I have one list in there of thread safe operations, and one of non-thread safe operations.  With the non-thread safe ones I don&#39;t care about concurrency because I know it&#39;s a mix of async and non-async code. It&#39;ll block till it gets to a truly async method no matter what.  I might want to sort them so that there&#39;s a truly async operation every so often instead of just add order (so the UI animations can move), but that&#39;s a thing I&#39;ll do once I measure performance."}, {"owner": {"reputation": 462, "user_id": 634074, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c9c8a82521b88694eae9dd3855b4da78?s=128&d=identicon&r=PG", "display_name": "Tyler W", "link": "https://stackoverflow.com/users/634074/tyler-w"}, "edited": false, "score": 0, "creation_date": 1551374736, "post_id": 54916878, "comment_id": 96626629, "body": "But side note, when you have time can you edit the answer to point to the comments and then I can mark it as the accepted answer (just want to make sure people that end up searching see the comments parts about task.run() to do it in parallel)"}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "reply_to_user": {"reputation": 462, "user_id": 634074, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c9c8a82521b88694eae9dd3855b4da78?s=128&d=identicon&r=PG", "display_name": "Tyler W", "link": "https://stackoverflow.com/users/634074/tyler-w"}, "edited": false, "score": 0, "creation_date": 1551401111, "post_id": 54916878, "comment_id": 96636943, "body": "@TylerW: Done.\u200b"}], "tags": [], "owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "is_accepted": true, "score": 2, "last_activity_date": 1551401058, "last_edit_date": 1551401058, "creation_date": 1551316135, "answer_id": 54916878, "question_id": 54916095, "link": "https://stackoverflow.com/questions/54916095/how-to-process-potentially-async-aggregate-tasks-in-parallel-and-process-them-as/54916878#54916878", "title": "How to process potentially async aggregate tasks in parallel and process them as each task completes in Unity", "body": "<blockquote>\n  <p>I'm not really sure how to kick them off in a way that allows them to be run in parallel while also sending out an event as each individual one completes</p>\n</blockquote>\n\n<p>The easiest way to solve this is to introduce a new <code>async</code> method. It's way easier to introduce a new <code>async</code> method than to try to build a collection and process them as they complete by adding a new action to them. Instead, you want to first <em>compose</em> the action item and the event raising, and <em>then</em> do them concurrently. (It's \"concurrent\", not \"parallel\", since we're only using one thread).</p>\n\n<p>The new <code>async</code> method, a composition of the two:</p>\n\n<pre><code>private async Task ProcessActionAndRaiseEvent(ActionItem actionItem)\n{\n  await actionItem.ProcessTransitionAsync();\n  this.OnIndividualItemProcessed();  \n}\n</code></pre>\n\n<p>Then you can run them concurrently:</p>\n\n<pre><code>protected async Task ProcessNonThreadSafeTasks()\n{\n  var tasks = this.nonThreadSafeActions.Select(ProcessActionAndRaiseEvent).ToList();\n  await Task.WhenAll(tasks);\n}\n</code></pre>\n\n<p>The <code>Select(..).ToList</code> will start all the tasks. However, the synchronous tasks <em>will</em> block, which may delay starting some of the truly asynchronous tasks. You might want to add a designator for \"truly asynchronous\" tasks and sort them first in your <code>nonThreadSafeActions</code> collection. That way, all the asynchronous tasks will start, followed by the blocking tasks.</p>\n\n<p>If you want to run the (possibly blocking) transition logic on thread pool threads, you can do some easy parallelization by invoking them with <code>Task.Run</code>:</p>\n\n<pre><code>private async Task ProcessActionAndRaiseEvent(ActionItem actionItem)\n{\n  await Task.Run(() =&gt; actionItem.ProcessTransitionAsync());\n  this.OnIndividualItemProcessed();  \n}\n</code></pre>\n\n<p>These then compose the same way as the previous example (using <code>Task.WhenAll</code>).</p>\n"}], "owner": {"reputation": 462, "user_id": 634074, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c9c8a82521b88694eae9dd3855b4da78?s=128&d=identicon&r=PG", "display_name": "Tyler W", "link": "https://stackoverflow.com/users/634074/tyler-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "accepted_answer_id": 54916878, "answer_count": 2, "score": 0, "last_activity_date": 1551401058, "creation_date": 1551310037, "last_edit_date": 1551317265, "question_id": 54916095, "link": "https://stackoverflow.com/questions/54916095/how-to-process-potentially-async-aggregate-tasks-in-parallel-and-process-them-as", "title": "How to process potentially async aggregate tasks in parallel and process them as each task completes in Unity", "body": "<p>I've got myself into a situation that, in \"normal\" c# land would probably be relatively easy to solve, but is a bit more complex with the caveats of Unity.</p>\n\n<p>The high level is I've got a set of tasks that need to run, some of which can be in parallel, and some of which are async, others not. For those that can be run in parallel, as each task completes I need to fire off an event (in the main thread) to let any interested parties know that a task was completed.</p>\n\n<p>To dig into the specifics, this is for a game in Unity, however this particular code has a requirement that it can't touch the Unity API as it's going to be in a separate project that is pure c#.</p>\n\n<p>Conceptually in my game, I have a \"Day Transition\". Each night when the player goes to bed (or passes out from exhaustion/gets knocked out by enemies) the game will go to a loading screen to process longer running operations that I wouldn't want to do in the middle of gameplay. Things such as running the simulation to update the daily economy, or file I/O to load in things to be used during the next day. </p>\n\n<p>These takes may or may not be thread safe, and may or may not actually be true async calls (file loads will be, for example).</p>\n\n<p>My goal is to do this in a way that blocks the main thread as little as possible (some blocking is going to happen, it's unavoidable since some tasks may touch the Unity API which is required to happen on the main thread. Those aren't thread safe).</p>\n\n<p>Because some things will be async, I treat everything as awaitable.</p>\n\n<p>My DayTransitioner class has a list of IDayTransitionAction objects:</p>\n\n<pre><code>public interface IDayTransitionAction\n{\n    bool IsRepeating { get; }\n    bool IsThreadSafe { get; }\n    Task ProcessTransitionAsync();\n}\n</code></pre>\n\n<p>There are really two distinct processes that need to happen here. </p>\n\n<p>The first is that code that is threadsafe (async or not) needs to be able to be kicked off in a way where they can actually run in parallel, and as they complete an event needs to fire off on the main thread.</p>\n\n<pre><code>protected async Task ProcessThreadSafeTasks()\n{\n    //1st kick off in parallel, probably using one of the Task \n    //methods such as WhenAll or WhenAny or some other voodoo...\n    //Not really sure what API calls or structure to use to do it...\n\n    //As each comes back an event needs to be fired. \n    //The event needs to occur on the main thread.\n    //this.OnIndividualItemProcessed();\n}\n</code></pre>\n\n<p>The second is that the things that aren't thread safe need to get run and awaited on (I understand that the synchronous process in this group will block the main thread, but when one is truly async it shouldn't).</p>\n\n<p>The second case is actually the easiest to resolve because Unity provides a synchronization context that forces execution on the main thread. So the latter, I think, can simply await in a loop.</p>\n\n<pre><code>protected async Task ProcessNonThreadSafeTasks()\n{\n    foreach (var actionItem in this.nonThreadSafeActions)\n    {\n        await actionItem.ProcessTransitionAsync();\n\n        //Raise the OnIndividualItemProcessed event so eventually\n        //a loading bar can be filled in as tasks complete, though\n        //this class doesn't know or care about the loading bar\n        //specifically. Just that interested parties want to know\n        //when an individual task is completed\n        this.OnIndividualItemProcessed();\n    }\n}\n</code></pre>\n\n<p>It's that pesky first case that's giving me a headache as I'm not really sure how to kick them off in a way that allows them to be run in parallel while also sending out an event as each individual one completes (especially given Unity's sync context...I assume I have to temporarily override that somehow). How would I go about accomplishing this?</p>\n\n<p>Thanks in advance!</p>\n\n<p>Also, for reference the method that will call both of the above...</p>\n\n<pre><code>public async Task ProcessTransitionActions()\n{\n    //Used primarily to lock down the lists while processing is ongoing.\n    //The Add method will dump anything that's attempting to be stored\n    //to another list to be sorted and added to the main lists after processing\n    //is finished.\n    IsProcessing = true;\n\n    await this.ProcessThreadSafeTasks();\n    await this.ProcessNonThreadSafeTasks();\n\n    //Purge any actions that aren't repeating.\n    this.CleanNonRepeatingActions();\n    //Add any actions that were stored while processing to the main lists.\n    this.SortStoredActions();\n\n    IsProcessing = false;\n\n    //Send out an event to allow interested parties to know processing is\n    //finished.\n    this.OnProcessingCompleted();\n}\n</code></pre>\n\n<p><strong>Edit 1*</strong></p>\n\n<p>Just to clarify, the \"thread-safe\" operations are intended to be run (or at least be capable of being run) on other threads (true-parallel) as opposed to simply concurrently on the main thread. It's when they're completed and I need to shoot out the event that that event specifically needs to go out on the main thread.</p>\n"}, {"tags": ["c#"], "answers": [{"tags": [], "owner": {"reputation": 278, "user_id": 4204181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15fbf6463aec4667698e056c2a7bffd6?s=128&d=identicon&r=PG&f=1", "display_name": "ScottyD0nt", "link": "https://stackoverflow.com/users/4204181/scottyd0nt"}, "is_accepted": false, "score": 0, "last_activity_date": 1551309572, "creation_date": 1551309572, "answer_id": 54916031, "question_id": 54916003, "link": "https://stackoverflow.com/questions/54916003/getasynckeystate0x14-to-check-that-caps-lock-is-pressed/54916031#54916031", "title": "GetAsyncKeyState(0x14) To check that Caps Lock is pressed", "body": "<p>The <a href=\"https://docs.microsoft.com/en-us/windows/desktop/api/winuser/nf-winuser-getasynckeystate\" rel=\"nofollow noreferrer\">documentation</a> states that the least significant bit is used to tell you whether or not the key was pressed after the previous call to GetAsyncKeyState.</p>\n"}, {"tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": false, "score": 0, "last_activity_date": 1551309826, "creation_date": 1551309826, "answer_id": 54916067, "question_id": 54916003, "link": "https://stackoverflow.com/questions/54916003/getasynckeystate0x14-to-check-that-caps-lock-is-pressed/54916067#54916067", "title": "GetAsyncKeyState(0x14) To check that Caps Lock is pressed", "body": "<p>You should just check non-zero for key press:</p>\n\n<blockquote>\n  <h1>Return Value</h1>\n  \n  <p>If the function succeeds, the return value specifies whether the key was pressed since the last call to GetAsyncKeyState, and whether the key is currently up or down. If the most significant bit is set, the key is down, and if the least significant bit is set, the key was pressed after the previous call to GetAsyncKeyState. <strong>However, you should not rely on this last behavior;</strong> for more information, see the Remarks.\n  [...]</p>\n  \n  <h1>Remarks</h1>\n  \n  <p>[...] <strong>Although the least significant bit of the return value indicates whether the key has been pressed since the last query, due to the pre-emptive multitasking nature of Windows, another application can call GetAsyncKeyState and receive the \"recently pressed\" bit instead of your application.</strong> The behavior of the least significant bit of the return value is retained strictly for compatibility with 16-bit Windows applications (which are non-preemptive) and should not be relied upon. [...]<br>\n  -- <a href=\"https://docs.microsoft.com/en-us/windows/desktop/api/winuser/nf-winuser-getasynckeystate\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/windows/desktop/api/winuser/nf-winuser-getasynckeystate</a></p>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 11127825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-C0qF8pXfupk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcypgOzzwLWD4UoD4hhF-NFu_9VpQ/mo/photo.jpg?sz=128", "display_name": "Furkan Kaya", "link": "https://stackoverflow.com/users/11127825/furkan-kaya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551309826, "creation_date": 1551309311, "question_id": 54916003, "link": "https://stackoverflow.com/questions/54916003/getasynckeystate0x14-to-check-that-caps-lock-is-pressed", "title": "GetAsyncKeyState(0x14) To check that Caps Lock is pressed", "body": "<pre><code>if (GetAsyncKeyState(0x14) == -32767)\n            {\n                MessageBox.Show(\"message\");\n\n            }\n</code></pre>\n\n<p>with this code I can check whether the caps lock key is pressed. however, this code does not work on some computers. code is working when I change to -32768. Why did I encounter such a problem?</p>\n"}, {"tags": ["c#", "windows-10", "device-manager"], "comments": [{"owner": {"reputation": 360, "user_id": 1341210, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OhVgH.gif?s=128&g=1", "display_name": "Tintenfiisch", "link": "https://stackoverflow.com/users/1341210/tintenfiisch"}, "edited": false, "score": 0, "creation_date": 1551317366, "post_id": 54915919, "comment_id": 96600111, "body": "Hello David,  there are plenty of different tutorials in the web about your question. (What did you tried so far ?) Please checkout the tutorials, if you have any detail question the community will be very kind to find a solution for your topics."}], "answers": [{"comments": [{"owner": {"reputation": 304, "user_id": 5552623, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xJ8Sm193tD8/AAAAAAAAAAI/AAAAAAAAtn4/yr3vY_UGtwU/photo.jpg?sz=128", "display_name": "Alberto Santos", "link": "https://stackoverflow.com/users/5552623/alberto-santos"}, "edited": false, "score": 0, "creation_date": 1551321686, "post_id": 54917088, "comment_id": 96601017, "body": "I changed the &quot;Win32_PnPSignedDriver&quot; library to &quot;Win32_PnPEntity&quot; that best suits what you asked."}], "tags": [], "owner": {"reputation": 304, "user_id": 5552623, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xJ8Sm193tD8/AAAAAAAAAAI/AAAAAAAAtn4/yr3vY_UGtwU/photo.jpg?sz=128", "display_name": "Alberto Santos", "link": "https://stackoverflow.com/users/5552623/alberto-santos"}, "is_accepted": false, "score": 2, "last_activity_date": 1551321547, "last_edit_date": 1551321547, "creation_date": 1551317846, "answer_id": 54917088, "question_id": 54915919, "link": "https://stackoverflow.com/questions/54915919/read-camera-device-name-and-store-it-as-a-variable-in-c/54917088#54917088", "title": "Read camera device name and store it as a variable in c#", "body": "<p>You can try to filter the items in the <code>Win32_PnPEntity</code> class to only show items referring to the <strong>IMAGE</strong> or <strong>MEDIA</strong> category, which usually list items referring to the webcam connected to usb.</p>\n\n<p>In the SQL command you can change the category.</p>\n\n<pre><code>    using System.Management;  \n\n    private static void GetUSBDevices()\n    {\n        var searcher = new ManagementObjectSearcher(\"SELECT * FROM Win32_PnPEntity WHERE (PNPClass = 'Image' OR PNPClass = 'Camera')\");\n\n        foreach (var device in searcher.Get())\n        {\n            Console.WriteLine($\"Device: {device[\"PNPClass\"]} / {device[\"Caption\"]}\");\n        }\n    }\n</code></pre>\n\n<p>You will need to add the System.Management dependency to the project.</p>\n"}], "owner": {"reputation": 1, "user_id": 11127653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a75deb494baf15d8717d6eb02b4ddb54?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/11127653/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 540, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1551321547, "creation_date": 1551308772, "question_id": 54915919, "link": "https://stackoverflow.com/questions/54915919/read-camera-device-name-and-store-it-as-a-variable-in-c", "title": "Read camera device name and store it as a variable in c#", "body": "<p>I would like to Read the name of USB camera (i.e., HD USB camera) attached to Windows 10 and store the name as a variable in C#.</p>\n"}, {"tags": ["c#", "entity-framework", "linq", "iqueryable"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 3233975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0cab1211b5df3336e517bbd99bba9ef?s=128&d=identicon&r=PG&f=1", "display_name": "Devin", "link": "https://stackoverflow.com/users/3233975/devin"}, "edited": false, "score": 0, "creation_date": 1551924437, "post_id": 54916348, "comment_id": 96822293, "body": "I had success with your first option to eliminate the <code>SeasonLimits</code> object and the <code>QuerySeasonLimits</code> method, and to write the contents of the method directly in the original query. It will duplicate my code but at least it will execute.  Also, I attempted the <code>ToList</code> route but this query is the first part of a much larger query and Visual Studio quickly timed out when debugging as I expanded the query."}], "tags": [], "owner": {"reputation": 372, "user_id": 8582270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa7901a9f019ea383acc0cd7a3dd62a3?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/8582270/marty"}, "is_accepted": true, "score": 1, "last_activity_date": 1551311710, "creation_date": 1551311710, "answer_id": 54916348, "question_id": 54915909, "link": "https://stackoverflow.com/questions/54915909/linq-querying-using-an-entity-object-not-in-the-database-error-linq-to-entiti/54916348#54916348", "title": "LINQ querying using an entity object not in the database - Error: LINQ to Entities does not recognize the method", "body": "<p>EF is trying to translate your query to SQL and as there is no direct mapping between your method and the generated SQL you're getting the error.</p>\n\n<p>First option would be not to use the method and instead write the contents of the method directly in the original query (I'm not sure at the moment if this would work, as I don't have a VS running). In the case this would work, you'll most likely end up with a very complicated SQL with a poor performance.</p>\n\n<p>So here comes the second option: don't be afraid to use multiple queries to get what you need. Sometimes it also makes sense to send a simpler query to the DB and continue with modifications (aggregation, selection, ...) in the C# code. The query gets translated to SQL everytime you try to enumerate over it or if you use one of the <code>ToList</code>, <code>ToDictionary</code>, <code>ToArray</code>, <code>ToLookup</code> methods or if you're using a <code>First</code>, <code>FirstOrDefault</code>, <code>Single</code> or <code>SingleOrDefault</code> calls (see the <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/ef/language-reference/linq-to-entities\" rel=\"nofollow noreferrer\">LINQ documentation</a> for the specifics).</p>\n\n<p>One possible example that could fix your query (but most likely is not the best solution) is to start your query with:</p>\n\n<pre><code>var seasonHoursByYear =\n    from d in context.AuxiliaryDateHours.ToList()\n    [...]\n</code></pre>\n\n<p>and continue with all the rest. This minor change has fundamental impact: </p>\n\n<ol>\n<li>by calling <code>ToList</code> the DB will be immediately queried and the whole \n<code>AuxiliaryDateHours</code> table will be loaded into the application (this will be a performance problem if the table has too many rows) </li>\n<li>a second query will be generated when calling your QuerySeasonLimits method (you could/should also include a <code>ToList</code> call for that)</li>\n<li>the rest of the <code>seasonHoursByYear</code> query: <code>where</code>, grouping, ... will happen in memory</li>\n</ol>\n\n<p>There are a couple of other points that might be unrelated at this point.</p>\n\n<p>I haven't really investigated the intent of your code - as this could lead to further optimizations - even total reworks that could bring you more gains in the end...</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 3233975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0cab1211b5df3336e517bbd99bba9ef?s=128&d=identicon&r=PG&f=1", "display_name": "Devin", "link": "https://stackoverflow.com/users/3233975/devin"}, "is_accepted": false, "score": 0, "last_activity_date": 1551926227, "creation_date": 1551926227, "answer_id": 55035187, "question_id": 54915909, "link": "https://stackoverflow.com/questions/54915909/linq-querying-using-an-entity-object-not-in-the-database-error-linq-to-entiti/55035187#55035187", "title": "LINQ querying using an entity object not in the database - Error: LINQ to Entities does not recognize the method", "body": "<p>I eliminated the SeasonLimits object and the QuerySeasonLimits method, and wrote the contents of the method directly in the original query.</p>\n\n<pre><code>// MVC Project\nvar seasonLimits =\n    from s in context.Season\n        .Where(s =&gt; s.Locations.Project.Project_Group.Any(pg =&gt; pg.Project_Group_ID == Project_Group_ID))\n    group s by new\n    {\n        s.Year\n    } into grp\n    select new\n    {\n        grp.Key.Year,\n        Min_Start_Date = grp.Min(x =&gt; x.Start_Date),\n        Min_Start_Date_ID = grp.Min(x =&gt; x.Start_Date_ID),\n        Max_End_Date = grp.Max(x =&gt; x.End_Date),\n        Max_End_Date_ID = grp.Max(x =&gt; x.End_Date_ID)\n    };\n\nvar seasonHoursByYear =\n    from d in context.AuxiliaryDateHours\n    from sl in seasonLimits\n    where d.Date_ID &gt;= sl.Min_Start_Date_ID\n        &amp;&amp; d.Date_ID &lt; sl.Max_End_Date_ID\n    group d by new\n    {\n        d.Year\n    } into grp4\n    orderby grp4.Key.Year\n    select new\n    {\n        Year = grp4.Key.Year,\n        HoursInYear = grp4.Count()\n    };\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 3233975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0cab1211b5df3336e517bbd99bba9ef?s=128&d=identicon&r=PG&f=1", "display_name": "Devin", "link": "https://stackoverflow.com/users/3233975/devin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 54916348, "answer_count": 2, "score": 1, "last_activity_date": 1551926227, "creation_date": 1551308711, "last_edit_date": 1551925913, "question_id": 54915909, "link": "https://stackoverflow.com/questions/54915909/linq-querying-using-an-entity-object-not-in-the-database-error-linq-to-entiti", "title": "LINQ querying using an entity object not in the database - Error: LINQ to Entities does not recognize the method", "body": "<p>I have an Entity Framework v5 model created from a database. The table Season has a corresponding entity called Season. <a href=\"https://i.stack.imgur.com/r9GQk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r9GQk.png\" alt=\"A screenshot of the Entity Framework EDMX showing the Season, Locations, Project, and Project_Group entities\"></a>I need to calculate the Season's minimum start date and maximum end date for each year for a Project_Group. I then need to be able to JOIN those yearly min/max Season values in other LINQ queries. To do so, I have created a SeasonLimits class in my Data Access Layer project. (A SeasonLimits table <em>does not</em> exist in the database.)</p>\n\n<pre><code>public partial class SeasonLimits : EntityObject\n{\n    public int Year { get; set; }\n    public DateTime Min_Start_Date { get; set; }\n    public int Min_Start_Date_ID { get; set; }\n    public DateTime Max_End_Date { get; set; }\n    public int Max_End_Date_ID { get; set; }\n\n    public static IQueryable&lt;SeasonLimits&gt; QuerySeasonLimits(MyEntities context, int project_Group_ID)\n    {\n        return context\n            .Season\n            .Where(s =&gt; s.Locations.Project.Project_Group.Any(pg =&gt; pg.Project_Group_ID == project_Group_ID))\n            .GroupBy(x =&gt; x.Year)\n            .Select(sl =&gt; new SeasonLimits\n            {\n                Year = sl.Key,\n                Min_Start_Date = sl.Min(d =&gt; d.Start_Date),\n                Min_Start_Date_ID = sl.Min(d =&gt; d.Start_Date_ID),\n                Max_End_Date = sl.Max(d =&gt; d.End_Date),\n                Max_End_Date_ID = sl.Max(d =&gt; d.End_Date_ID)\n            });\n    }\n}\n\n// MVC Project\nvar seasonHoursByYear =\n    from d in context.AuxiliaryDateHours\n    from sl in SeasonLimits.QuerySeasonLimits(context, pg.Project_Group_ID)\n    where d.Date_ID &gt;= sl.Min_Start_Date_ID\n        &amp;&amp; d.Date_ID &lt; sl.Max_End_Date_ID\n    group d by new\n    {\n        d.Year\n    } into grp4\n    orderby grp4.Key.Year\n    select new\n    {\n        Year = grp4.Key.Year,\n        HoursInYear = grp4.Count()\n    };\n</code></pre>\n\n<p>In my MVC project, whenever I attempt to use the QuerySeasonLimits method in a LINQ query JOIN, I receive the message, </p>\n\n<blockquote>\n  <p>\"LINQ to Entities does not recognize the method\n  'System.Linq.IQueryable`1[MyDAL.SeasonLimits]\n  QuerySeasonLimits(MyDAL.MyEntities, MyDAL.Project_Group)' method, and\n  this method cannot be translated into a store expression.\"</p>\n</blockquote>\n\n<p>Is this error being generated because SeasonLimits is not an entity that exists in the database? If this can't be done this way, is there another way to reference the logic so that it can be used in other LINQ queries?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1309, "user_id": 1531189, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3c62b569e446192810c13aabeb8dad05?s=128&d=identicon&r=PG", "display_name": "Demarsch", "link": "https://stackoverflow.com/users/1531189/demarsch"}, "edited": false, "score": 0, "creation_date": 1551308773, "post_id": 54915906, "comment_id": 96598020, "body": "Please consider posting your code snippet here"}, {"owner": {"reputation": 801, "user_id": 1535270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8051bdfc4b2fa6f15c08ec38b2e1102a?s=128&d=identicon&r=PG&f=1", "display_name": "abestrad", "link": "https://stackoverflow.com/users/1535270/abestrad"}, "edited": false, "score": 0, "creation_date": 1551308840, "post_id": 54915906, "comment_id": 96598045, "body": "Questions seeking debugging help must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself."}, {"owner": {"reputation": 23, "user_id": 11127746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7b98dbefd08eedf59988b7df8d56693?s=128&d=identicon&r=PG&f=1", "display_name": "Jaxix", "link": "https://stackoverflow.com/users/11127746/jaxix"}, "edited": false, "score": 0, "creation_date": 1551308936, "post_id": 54915906, "comment_id": 96598082, "body": "New to using the site, how am I able to put the snippet into the post? Ive linked two photos using the snipping tool?"}, {"owner": {"reputation": 6063, "user_id": 3225495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/57OBG.jpg?s=128&g=1", "display_name": "BJ Myers", "link": "https://stackoverflow.com/users/3225495/bj-myers"}, "edited": false, "score": 0, "creation_date": 1551309406, "post_id": 54915906, "comment_id": 96598205, "body": "Snippet != snipping tool.  We want a <i>textual</i> code block that we could copy/paste into our own IDE to get the same error you are seeing.  See <a href=\"https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks\">this post</a> on how to format your code."}, {"owner": {"reputation": 2073, "user_id": 121626, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7a831efd240c56f74f4c4f2618d9a51a?s=128&d=identicon&r=PG", "display_name": "edelwater", "link": "https://stackoverflow.com/users/121626/edelwater"}, "edited": false, "score": 0, "creation_date": 1551309627, "post_id": 54915906, "comment_id": 96598270, "body": "Your program works but the variable is not assigned a value (so variable playername needs a value)"}, {"owner": {"reputation": 23, "user_id": 11127746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7b98dbefd08eedf59988b7df8d56693?s=128&d=identicon&r=PG&f=1", "display_name": "Jaxix", "link": "https://stackoverflow.com/users/11127746/jaxix"}, "edited": false, "score": 0, "creation_date": 1551309801, "post_id": 54915906, "comment_id": 96598315, "body": "Is this any better guys? Seems really trivial that theres just something im missing?"}, {"owner": {"reputation": 23, "user_id": 11127746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7b98dbefd08eedf59988b7df8d56693?s=128&d=identicon&r=PG&f=1", "display_name": "Jaxix", "link": "https://stackoverflow.com/users/11127746/jaxix"}, "reply_to_user": {"reputation": 2073, "user_id": 121626, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7a831efd240c56f74f4c4f2618d9a51a?s=128&d=identicon&r=PG", "display_name": "edelwater", "link": "https://stackoverflow.com/users/121626/edelwater"}, "edited": false, "score": 0, "creation_date": 1551310147, "post_id": 54915906, "comment_id": 96598416, "body": "@edelwater does that mean I need to give it a value in the class at the beginning or in the main?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11127746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7b98dbefd08eedf59988b7df8d56693?s=128&d=identicon&r=PG&f=1", "display_name": "Jaxix", "link": "https://stackoverflow.com/users/11127746/jaxix"}, "edited": false, "score": 0, "creation_date": 1551310722, "post_id": 54916143, "comment_id": 96598563, "body": "Sorry to be a pain, is there any way to explain what the parts of your response mean? Im new to the syntax and cant quite follow what youve written?"}, {"owner": {"reputation": 2073, "user_id": 121626, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7a831efd240c56f74f4c4f2618d9a51a?s=128&d=identicon&r=PG", "display_name": "edelwater", "link": "https://stackoverflow.com/users/121626/edelwater"}, "reply_to_user": {"reputation": 23, "user_id": 11127746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7b98dbefd08eedf59988b7df8d56693?s=128&d=identicon&r=PG&f=1", "display_name": "Jaxix", "link": "https://stackoverflow.com/users/11127746/jaxix"}, "edited": false, "score": 0, "creation_date": 1551310865, "post_id": 54916143, "comment_id": 96598594, "body": "which part specifically ?"}, {"owner": {"reputation": 23, "user_id": 11127746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7b98dbefd08eedf59988b7df8d56693?s=128&d=identicon&r=PG&f=1", "display_name": "Jaxix", "link": "https://stackoverflow.com/users/11127746/jaxix"}, "edited": false, "score": 0, "creation_date": 1551311291, "post_id": 54916143, "comment_id": 96598698, "body": "Well, the &quot; public string Name{ get; set;} &quot;and the lines which run like &quot; UserInterface userinterface = new UserInterface(player); &quot; also the reasoning for splitting it into three classes?"}, {"owner": {"reputation": 2073, "user_id": 121626, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7a831efd240c56f74f4c4f2618d9a51a?s=128&d=identicon&r=PG", "display_name": "edelwater", "link": "https://stackoverflow.com/users/121626/edelwater"}, "reply_to_user": {"reputation": 23, "user_id": 11127746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7b98dbefd08eedf59988b7df8d56693?s=128&d=identicon&r=PG&f=1", "display_name": "Jaxix", "link": "https://stackoverflow.com/users/11127746/jaxix"}, "edited": false, "score": 0, "creation_date": 1551311474, "post_id": 54916143, "comment_id": 96598741, "body": "public string Name{ get; set;}  -&gt; <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/properties\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>"}, {"owner": {"reputation": 2073, "user_id": 121626, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7a831efd240c56f74f4c4f2618d9a51a?s=128&d=identicon&r=PG", "display_name": "edelwater", "link": "https://stackoverflow.com/users/121626/edelwater"}, "reply_to_user": {"reputation": 23, "user_id": 11127746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7b98dbefd08eedf59988b7df8d56693?s=128&d=identicon&r=PG&f=1", "display_name": "Jaxix", "link": "https://stackoverflow.com/users/11127746/jaxix"}, "edited": false, "score": 0, "creation_date": 1551311513, "post_id": 54916143, "comment_id": 96598754, "body": "UserInterface userinterface = new UserInterface(player);  --&gt; <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/classes\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>"}, {"owner": {"reputation": 2073, "user_id": 121626, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7a831efd240c56f74f4c4f2618d9a51a?s=128&d=identicon&r=PG", "display_name": "edelwater", "link": "https://stackoverflow.com/users/121626/edelwater"}, "reply_to_user": {"reputation": 23, "user_id": 11127746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7b98dbefd08eedf59988b7df8d56693?s=128&d=identicon&r=PG&f=1", "display_name": "Jaxix", "link": "https://stackoverflow.com/users/11127746/jaxix"}, "edited": false, "score": 0, "creation_date": 1551311569, "post_id": 54916143, "comment_id": 96598765, "body": "I split it in 3 classes so you can define your (a) business objects in one layer e..g player, dragon, house (b) your UI in another layer so e.g. maybe later you want to make it another UI in a web interface"}, {"owner": {"reputation": 23, "user_id": 11127746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7b98dbefd08eedf59988b7df8d56693?s=128&d=identicon&r=PG&f=1", "display_name": "Jaxix", "link": "https://stackoverflow.com/users/11127746/jaxix"}, "edited": false, "score": 0, "creation_date": 1551314655, "post_id": 54916143, "comment_id": 96599490, "body": "Thankyou for your help! Solved it now, the program couldnt find the defined route to the variable so was treating it as null, derived this from your solution (userinterface = new UserInterface(player) ) and the links were very useful!"}], "tags": [], "owner": {"reputation": 2073, "user_id": 121626, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7a831efd240c56f74f4c4f2618d9a51a?s=128&d=identicon&r=PG", "display_name": "edelwater", "link": "https://stackoverflow.com/users/121626/edelwater"}, "is_accepted": true, "score": 0, "last_activity_date": 1551310740, "last_edit_date": 1551310740, "creation_date": 1551310417, "answer_id": 54916143, "question_id": 54915906, "link": "https://stackoverflow.com/questions/54915906/error-cs0649-program-will-not-display-a-variable-in-the-defined-ui/54916143#54916143", "title": "Error CS0649, Program will not display a variable in the defined UI", "body": "<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace ConsoleApp1\n{\n    class Program\n    {\n       static void Main(string[] args)\n       {            \n          Player player = new Player\n          {\n            Name = \"name coming from your input class\"\n          };\n          UserInterface userInterface = new UserInterface(player);\n        }        \n   }\n\n   class UserInterface\n   {\n     public UserInterface(Player player)\n     {\n        Console.SetWindowSize(220, 55);\n        Console.WriteLine(\"Name: {0}\", player.Name);\n     }\n   }\n\n   class Player\n   {\n     public string Name { get; set; }\n   }\n\n}\n</code></pre>\n\n<p>Or something alike. So you need to provide values for your variables.</p>\n"}, {"tags": [], "owner": {"reputation": 510, "user_id": 4269733, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-3km3aPjNEX8/AAAAAAAAAAI/AAAAAAAAAu0/HUG6E-nnOfc/photo.jpg?sz=128", "display_name": "Abhinaw Kaushik", "link": "https://stackoverflow.com/users/4269733/abhinaw-kaushik"}, "is_accepted": false, "score": 0, "last_activity_date": 1551328723, "creation_date": 1551328723, "answer_id": 54918490, "question_id": 54915906, "link": "https://stackoverflow.com/questions/54915906/error-cs0649-program-will-not-display-a-variable-in-the-defined-ui/54918490#54918490", "title": "Error CS0649, Program will not display a variable in the defined UI", "body": "<p>Just call the method  <code>userInterface()</code> after this line <code>playerName = Console.ReadLine();</code>\nthis will display the accepted value on console.</p>\n"}], "owner": {"reputation": 23, "user_id": 11127746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7b98dbefd08eedf59988b7df8d56693?s=128&d=identicon&r=PG&f=1", "display_name": "Jaxix", "link": "https://stackoverflow.com/users/11127746/jaxix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 54916143, "answer_count": 2, "score": 0, "last_activity_date": 1551328723, "creation_date": 1551308703, "last_edit_date": 1551309717, "question_id": 54915906, "link": "https://stackoverflow.com/questions/54915906/error-cs0649-program-will-not-display-a-variable-in-the-defined-ui", "title": "Error CS0649, Program will not display a variable in the defined UI", "body": "<pre><code>class Program\n    {\n        public static string playerName;\n\n        static void Main(string[] args)\n        {\n           playerName = Console.ReadLine();\n        }\n\n        public static void userInterface()\n        {\n            Console.Writeline(\"Name:\" + playerName)\n         } \n    }\n</code></pre>\n\n<p>Been trying to understand where im falling short for a few hours now and cannot figure it out, wondering if any of the SO residents can help me.\nIm trying to display a inputted username in a GUI using C# console, I have defined it as a public variable in the class and called it in the method, however its throwing me this exception and displaying a null value?\nAny help is appreciated.<a href=\"https://i.stack.imgur.com/gECg4.png\" rel=\"nofollow noreferrer\">Class and Main</a> <a href=\"https://i.stack.imgur.com/puaIT.png\" rel=\"nofollow noreferrer\">The method im trying to call the variable to</a></p>\n\n<ul>\n<li>EDIT the desired aim is to have the program display the users inputted username in the UI at the top of the console</li>\n</ul>\n"}, {"tags": ["c#", "asp.net", "sql-server"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1551308832, "post_id": 54915858, "comment_id": 96598040, "body": "The best course of action would be to find out what is creating these records in the first place. Look for any code where you might be vulnerable to SQL injection, review any stored procedures or other sql actions, lock down write access to the database to only known sources, etc. I&#39;m by no means a database expert, so I&#39;m sure there are many other things you can do. Hiding the issue in the UI is probably the last thing to do, since no one will look at the problem once you do that."}, {"owner": {"reputation": 783, "user_id": 1633949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y2kdP.jpg?s=128&g=1", "display_name": "Richard II", "link": "https://stackoverflow.com/users/1633949/richard-ii"}, "edited": false, "score": 0, "creation_date": 1551308970, "post_id": 54915858, "comment_id": 96598094, "body": "another candidate for the extra record creation could be a trigger."}, {"owner": {"reputation": 603, "user_id": 1309011, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3db4afcace34f1afa83b2a579c9006b9?s=128&d=identicon&r=PG", "display_name": "Michael McCauley", "link": "https://stackoverflow.com/users/1309011/michael-mccauley"}, "edited": false, "score": 0, "creation_date": 1551385441, "post_id": 54915858, "comment_id": 96631810, "body": "I did not create this, it&#39;s just been passed on over to me. I don&#39;t know enough about how this was engineered to even know where to find the cause of these couple of errant entries. They&#39;re not even properly correct, done in such a fashion that they&#39;re not likely added by users in any intentional fashion. And it&#39;s only the one table, which doesn&#39;t even handle access."}], "answers": [{"comments": [{"owner": {"reputation": 603, "user_id": 1309011, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3db4afcace34f1afa83b2a579c9006b9?s=128&d=identicon&r=PG", "display_name": "Michael McCauley", "link": "https://stackoverflow.com/users/1309011/michael-mccauley"}, "edited": false, "score": 0, "creation_date": 1551385550, "post_id": 54918670, "comment_id": 96631874, "body": "I would like to go that route, but honestly I can&#39;t even find what is actually pulling the data in the first place. I didn&#39;t create this, or develop it, I&#39;m just being tasked with doing some repairs/maintenance for the simple reason that I have had experience programming in C#."}, {"owner": {"reputation": 603, "user_id": 1309011, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3db4afcace34f1afa83b2a579c9006b9?s=128&d=identicon&r=PG", "display_name": "Michael McCauley", "link": "https://stackoverflow.com/users/1309011/michael-mccauley"}, "edited": false, "score": 0, "creation_date": 1551387239, "post_id": 54918670, "comment_id": 96632629, "body": "Yeah, the whole thing I need to alter is based off of this User object. I have not been able to locate the source of the class definition. I can do a lookup on the definition from within Visual Studio, but it looks like it is defined inside of some DLL somewhere. I can&#39;t modify the class to look at additional table columns."}, {"owner": {"reputation": 83, "user_id": 4586873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b307366d9d52e09b88c7e7f37b48ba?s=128&d=identicon&r=PG&f=1", "display_name": "jay.w", "link": "https://stackoverflow.com/users/4586873/jay-w"}, "reply_to_user": {"reputation": 603, "user_id": 1309011, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3db4afcace34f1afa83b2a579c9006b9?s=128&d=identicon&r=PG", "display_name": "Michael McCauley", "link": "https://stackoverflow.com/users/1309011/michael-mccauley"}, "edited": false, "score": 0, "creation_date": 1551416422, "post_id": 54918670, "comment_id": 96640037, "body": "All the best! Coding scars to reminisce over a few beers later in life."}], "tags": [], "owner": {"reputation": 83, "user_id": 4586873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b307366d9d52e09b88c7e7f37b48ba?s=128&d=identicon&r=PG&f=1", "display_name": "jay.w", "link": "https://stackoverflow.com/users/4586873/jay-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1551329899, "creation_date": 1551329899, "answer_id": 54918670, "question_id": 54915858, "link": "https://stackoverflow.com/questions/54915858/remove-list-values-based-on-series-of-other-values/54918670#54918670", "title": "Remove list values based on series of other values", "body": "<p>I will probably add a bit to the table and flag Errant rows and then skip them when I query the table, something like </p>\n\n<pre><code>&amp;&amp; !ErrantData\n</code></pre>\n\n<p>Other way, that requires a bit more upkeep but doesn't require db change, would be to keep a text file that gets periodically updated and you read it and remove users from list based on it.</p>\n\n<p>The bigger issue is unknown rows creeping in your database. Changing user credentials and adding creation timestamps may help you narrow down the search scope.</p>\n"}], "owner": {"reputation": 603, "user_id": 1309011, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3db4afcace34f1afa83b2a579c9006b9?s=128&d=identicon&r=PG", "display_name": "Michael McCauley", "link": "https://stackoverflow.com/users/1309011/michael-mccauley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551720081, "creation_date": 1551308404, "last_edit_date": 1551720081, "question_id": 54915858, "link": "https://stackoverflow.com/questions/54915858/remove-list-values-based-on-series-of-other-values", "title": "Remove list values based on series of other values", "body": "<p>I have a situation wherein a List object is built off of values pulled from a MSSQL database. However, this particular table is mysteriously getting an errant record or two tossed in. Removing the records cause trouble even though they have no referential links to any other tables, and will still get recreated without any known user actions taken. This causes some trouble as it puts unwanted values on display that add a little bit of confusion. The specific issue is that this is a platform that allows users to run a search for quotes, and the filtering allows for sales rep selection. The select/dropdown field is showing these errant values, and they need to be removed.</p>\n\n<p>Given that deleting the offending table rows does not provide a desirable result, I was thinking that maybe the best course of action was to modify the code where the List object is created and either filter the values out or remove them after the object is populated. I'd like to do this in a clean, scalible fashion by providing some kind of appendable data object where I could just add in a new string value if something else cropped up as opposed to doing something clunky that adds new code to find the value and remove it each time.</p>\n\n<p>My thought was to create a string array, and somehow loop through that to remove bad List values, but I wasn't entirely certain that was the best way to approach this, and I could not for the life of me think of a clean approach for this. I would think that the best way would be to add a filter within the Find arguments, but I don't know how to add in an array or list that way. Otherwise I figured to loop through the values either before or after the sorting of the List and remove any matches that way, but I wasn't sure that was the best choice of actions.</p>\n\n<p>I have attached the current code, and would appreciate any suggestions.</p>\n\n<pre><code>int licenseeID = Helper.GetLicenseeIdByLicenseeShortName(Membership.ApplicationName);\nList&lt;User&gt; listUsers;\n\nif (Roles.IsUserInRole(\"Admin\"))\n{\n    //get all users\n    listUsers = User.Find(x =&gt; x.LicenseeID == licenseeID).ToList();\n}\nelse\n{\n    //get only the current user\n    listUsers = User.Find(x =&gt; (x.LicenseeID == licenseeID &amp;&amp; x.EmailAddress == Membership.GetUser().Email)).ToList();\n}\nlistUsers.Sort((x, y) =&gt; string.Compare(x.FirstName, y.FirstName));\n</code></pre>\n\n<p><strong>-- EDIT --</strong></p>\n\n<p>I neglected to mention that I did not develop this, I merely inherited its maintenance after the original developer(s) disappeared, and my coworker who was assigned to it left the company. I'm not really really skilled at handling ASP.NET sites. Many object sources are hidden and unavailable for edit, I assume due to them being defined in a DLL somewhere. So, for any of these objects that are sourced from database tables, altering the tables will not help, since I would not be able to get the new data anyway.</p>\n\n<p>However, I did try to do the following to filter out the undersirable data:</p>\n\n<pre><code>List&lt;String&gt; exclude = new List&lt;String&gt;(new String[] { \"value1\" , \"value2\" });\nlistUsers = User.Find(x =&gt; x.LicenseeID == licenseeID &amp;&amp; !exclude.Contains(x.FirstName)).ToList();\n</code></pre>\n\n<p>Unfortunately it only resulted  in an error being displayed to the page.</p>\n\n<p><strong>-- EDIT #2 --</strong></p>\n\n<p>I got the server setup to accept a new event viewer source so I could write info to the Application log to see what was happening. Looks like this installation of ASP.NET does not accept \"Contains\" as an action on a List object. An error gets kicked out stating that the method is not available.</p>\n"}, {"tags": ["javascript", "c#", "arrays", "ajax", "client-server"], "comments": [{"owner": {"reputation": 4197, "user_id": 3221274, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100001233349140/picture?type=large", "display_name": "Shishir Arora", "link": "https://stackoverflow.com/users/3221274/shishir-arora"}, "edited": false, "score": 0, "creation_date": 1551308560, "post_id": 54915821, "comment_id": 96597956, "body": "convert array to string with <code>JSON.stringify(myArray)</code> and pass string value as hidden value"}, {"owner": {"reputation": 53, "user_id": 11111677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a9e9cbbfafad2305e01b085c469cf9d?s=128&d=identicon&r=PG&f=1", "display_name": "Code.Breaker", "link": "https://stackoverflow.com/users/11111677/code-breaker"}, "reply_to_user": {"reputation": 4197, "user_id": 3221274, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100001233349140/picture?type=large", "display_name": "Shishir Arora", "link": "https://stackoverflow.com/users/3221274/shishir-arora"}, "edited": false, "score": 0, "creation_date": 1551365380, "post_id": 54915821, "comment_id": 96621189, "body": "@ShishirArora Worked for me! Thank you"}], "answers": [{"tags": [], "owner": {"reputation": 398, "user_id": 6237168, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156853288825608/picture?type=large", "display_name": "Nicolay", "link": "https://stackoverflow.com/users/6237168/nicolay"}, "is_accepted": false, "score": 0, "last_activity_date": 1551309357, "creation_date": 1551309357, "answer_id": 54916009, "question_id": 54915821, "link": "https://stackoverflow.com/questions/54915821/how-can-i-pass-a-string-array-created-in-my-javascript-to-c-code-behind-file/54916009#54916009", "title": "How can I pass a string array created in my Javascript to C# code behind file?", "body": "<p>You could post it using AJAX and then treat it as a web method in your code behind</p>\n\n<p>Javascript</p>\n\n<pre><code>$.ajax({\n    type: 'POST',\n    url: '/yourpagename.aspx/ReadMyArray',\n    data: { TheArray : YourArrayData },\n    contentType: 'application/json; charset=utf-8',\n    dataType: 'json',\n    success: function (resp) {\n\n    },\n    error: function (resp) {\n\n    }\n});\n</code></pre>\n\n<p>C#</p>\n\n<pre><code>[WebMethod]\npublic static bool ReadMyArray(object TheArray)\n{\n    //handle TheArray\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 11111677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a9e9cbbfafad2305e01b085c469cf9d?s=128&d=identicon&r=PG&f=1", "display_name": "Code.Breaker", "link": "https://stackoverflow.com/users/11111677/code-breaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1551309357, "creation_date": 1551308177, "question_id": 54915821, "link": "https://stackoverflow.com/questions/54915821/how-can-i-pass-a-string-array-created-in-my-javascript-to-c-code-behind-file", "title": "How can I pass a string array created in my Javascript to C# code behind file?", "body": "<p>I have an array MyArray[] in my Javascript that is created dynamically. I now need to pass this array into my C sharp code behind file. This is because I want to write the contents of this array into a .txt file which is saved on the server. I am a beginner in web and until this point I hadn't gotten to the point where I've had to communicate back and forth between client and server. </p>\n\n<p>After some research I figured a simple string value can be passed using hidden value. However this wasn't possible with an array. If you could provide me an example/idea of how I could pass the array, it'd be really helpful. Thanks in advance! </p>\n"}, {"tags": ["c#", "asp.net", "caching", "uwp"], "answers": [{"tags": [], "owner": {"reputation": 1168, "user_id": 6389562, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/1772b30b0e56ee26badf1a9217146ece?s=128&d=identicon&r=PG&f=1", "display_name": "RN92", "link": "https://stackoverflow.com/users/6389562/rn92"}, "is_accepted": true, "score": 0, "last_activity_date": 1551314683, "last_edit_date": 1551314683, "creation_date": 1551308766, "answer_id": 54915916, "question_id": 54915694, "link": "https://stackoverflow.com/questions/54915694/how-to-implement-customized-cache-in-c-uwp-application/54915916#54915916", "title": "How to implement customized cache in C# UWP application", "body": "<p>To meet the above requirements, a customized cache was implemented in the <strong>ItemWebService</strong>.</p>\n\n<pre><code>using NodaTime;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Reactive.Linq;\nusing System.Reactive.Threading.Tasks;\nusing System.Threading.Tasks;\n\nnamespace MyNamespace.Products\n{\n    public class ItemWebService : IItemService\n    {\n        private readonly IApiRestClient _restClient;\n        private readonly string _serviceUrl = \"api/products\";\n        private static IEnumerable&lt;ProductListItem&gt; _cachedProductist = null;\n        private readonly IClock _clock;\n        private readonly Duration _productlistValidFor = Duration.FromHours(1); // Set the timeout\n        private static Instant _lastUpdate = Instant.MinValue;\n\n\n        public ItemWebService (IApiRestClient restClient)\n        {\n            _restClient = restClient;\n            _clock = SystemClock.Instance; // using NodaTime\n        }\n\n        public async Task AddProductAsync(AddProductRequest addProductRequest)\n        {\n            await _restClient.Put($\"{_serviceUrl}/add\", addProductRequest);\n\n            // Expire cache manually to update product list on next call\n            _lastUpdate = _clock.GetCurrentInstant() - _productlistValidFor ;\n        }\n\n        public async Task&lt;IObservable&lt;ProductListItem&gt;&gt; GetProductListAsync()\n        {\n            if (_cachedProductist == null || (_lastUpdate + _productlistValidFor) &lt; _clock.GetCurrentInstant())\n            {\n                _cachedProductist = await _restClient.Get&lt;IEnumerable&lt;ProductListItem&gt;&gt;($\"{_serviceUrl}/productList\");\n\n                // Update the last updated time\n                _lastUpdate = _clock.GetCurrentInstant();\n            }\n            return _cachedProductist.ToObservable();\n        }\n    }\n}\n</code></pre>\n\n<p>With this implementation I was able to avoid setting an <strong>interval</strong> which would have cause hundreds of API calls(because there are hundreds of devices running the same app) to refresh cache each hour. </p>\n\n<p>Now, whenever the device running the UWP app requests a list of products, the service would check if cache exists and not expired on that device and calls the server to refresh cache if necessary.</p>\n"}], "owner": {"reputation": 1168, "user_id": 6389562, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/1772b30b0e56ee26badf1a9217146ece?s=128&d=identicon&r=PG&f=1", "display_name": "RN92", "link": "https://stackoverflow.com/users/6389562/rn92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 1, "accepted_answer_id": 54915916, "answer_count": 1, "score": 0, "last_activity_date": 1551314702, "creation_date": 1551307424, "last_edit_date": 1551314702, "question_id": 54915694, "link": "https://stackoverflow.com/questions/54915694/how-to-implement-customized-cache-in-c-uwp-application", "title": "How to implement customized cache in C# UWP application", "body": "<p>I have a web service (<strong>ItemWebService</strong>) which calls an API and get a list of items (<strong>productList</strong>). This service is called from a <strong>UWP application</strong>.</p>\n\n<p>Requirements are:</p>\n\n<ul>\n<li>Cache the list of products for a certain time period (eg: 1 hour) and return the cached list <strong>if available</strong> and <strong>not timed out</strong> when called the <code>GetProductListAsync()</code>.</li>\n<li>No need to cache each hour, because this process is going to be a very rare process and the UWP application is run across multiple devices in an organisation. Therefore if set an <strong>interval</strong> to cache, the API would get hundreds of requests at the same time each hour.</li>\n<li>Whenever a new item is added to the product list from method <code>AddProductAsync(AddProductRequest addProductRequest )</code>, the cache should be refreshed.</li>\n</ul>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 4148, "user_id": 10209883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zd3hk.png?s=128&g=1", "display_name": "Alex Myers", "link": "https://stackoverflow.com/users/10209883/alex-myers"}, "edited": false, "score": 0, "creation_date": 1551307484, "post_id": 54915585, "comment_id": 96597619, "body": "Could you please show us where you are calling <code>ApplyDamage</code>? Also, when you say the player dies when shot, do you mean the player gameobject gets destroyed?"}, {"owner": {"reputation": 7422, "user_id": 1586390, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f07270207034d2bcbe347b028edc8f02?s=128&d=identicon&r=PG", "display_name": "Sorceri", "link": "https://stackoverflow.com/users/1586390/sorceri"}, "edited": false, "score": 1, "creation_date": 1551307593, "post_id": 54915585, "comment_id": 96597661, "body": "<code>GameObject fx = Instantiate(deathFX,....</code> seems suspect maybe post that code"}, {"owner": {"reputation": 39, "user_id": 10966313, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6w1G_DK9YbI/AAAAAAAAAAI/AAAAAAAABDU/aBDhfUji6mk/photo.jpg?sz=128", "display_name": "Martin Antonetty", "link": "https://stackoverflow.com/users/10966313/martin-antonetty"}, "edited": false, "score": 0, "creation_date": 1551308990, "post_id": 54915585, "comment_id": 96598099, "body": "This is all the code I have put together so far and yes I mean the player game object gets destroyed. I would like to know what I missing in his code any guidance/hints to what I missed will be appreciated. I understand if it does not makes sense to anyone. I&#39;m trying though :/"}, {"owner": {"reputation": 3294, "user_id": 4848859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Slzu.jpg?s=128&g=1", "display_name": "mayo", "link": "https://stackoverflow.com/users/4848859/mayo"}, "edited": false, "score": 0, "creation_date": 1551311309, "post_id": 54915585, "comment_id": 96598702, "body": "how much is <code>damageToTake</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 10966313, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6w1G_DK9YbI/AAAAAAAAAAI/AAAAAAAABDU/aBDhfUji6mk/photo.jpg?sz=128", "display_name": "Martin Antonetty", "link": "https://stackoverflow.com/users/10966313/martin-antonetty"}, "edited": false, "score": 0, "creation_date": 1551375413, "post_id": 54916558, "comment_id": 96626926, "body": "I recently updated my post please look over my script again if you have the time."}], "tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": true, "score": 3, "last_activity_date": 1551313317, "creation_date": 1551313317, "answer_id": 54916558, "question_id": 54915585, "link": "https://stackoverflow.com/questions/54915585/how-can-i-stop-the-enemy-from-instantly-killing-the-player/54916558#54916558", "title": "How can I stop the enemy from instantly killing the player?", "body": "<p>Maybe I am completely misunderstanding the question, but I think all you need is an if statement.</p>\n\n<pre><code>public void ApplyDamage(int damageToTake)\n{\n    Debug.Log(Time.frameCount + \": ApplyDamage was called.\");\n    currentHealthPlayer -= damageToTake;\n    if (currentHealthPlayer &lt;= 0)  //Only apply death effect if health goes to zero\n    {\n        Debug.Log(\"Player met an unfortunate end. Time of death: \" + Time.frameCount);\n        GameObject fx = Instantiate(deathFX, transform.position, Quaternion.identity);\n        fx.transform.parent = parent;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 10966313, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6w1G_DK9YbI/AAAAAAAAAAI/AAAAAAAABDU/aBDhfUji6mk/photo.jpg?sz=128", "display_name": "Martin Antonetty", "link": "https://stackoverflow.com/users/10966313/martin-antonetty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 54916558, "answer_count": 1, "score": 0, "last_activity_date": 1551375338, "creation_date": 1551306838, "last_edit_date": 1551375338, "question_id": 54915585, "link": "https://stackoverflow.com/questions/54915585/how-can-i-stop-the-enemy-from-instantly-killing-the-player", "title": "How can I stop the enemy from instantly killing the player?", "body": "<p>I am trying to get the player health script to decrease health value once the enemy shoots the player game object with the enemy projectile script How can I get this health script to work? I attached the script to the player but the player game object dies instantly when shot. I added a collision method to get component projectiles am I on the right path? any feedback is welcomed. </p>\n\n<pre><code>     using UnityEngine;\n     using UnityEngine.UI;\n     using System.Collections;\n\n     public class PlayerHealth : MonoBehaviour\n     {\n     [SerializeField] GameObject deathFX;\n     [SerializeField] Transform parent;\n     public Image Bar;\n     public Text Text;\n     public float max_health = 100f;\n     public float cur_health = 0f;\n\n\n     //Use this for initialization\n     void Start()\n      {\n     // Initialize the health that is given\n     cur_health = max_health;\n\n    InvokeRepeating(\"decreaseHealth\", 0f, 2f);\n\n    }\n    void Update()\n    {\n    if (cur_health &lt;= 0)\n    {\n        Destroy(gameObject);   //if the player has no health point left, destroy the player.\n    }\n    }\n    void OnCollisionEnter(Collision collision)\n    {\n    if (collision.gameObject.GetComponent&lt;Projectiles&gt;())\n    {\n    max_health -= cur_health;\n        //if the collision object has a homing script, minus player health by damageToPlayer\n    }\n    }\n    void decreaseHealth()\n    {\n    //Subtract the health at the following rate\n    //Check if the health is 0 before we do any damage\n    if (cur_health &lt; 0)\n    {\n        cur_health = 0;\n    }\n\n    //make a new variable and divide the current health my the maximum health\n    //this is because the fill value goes from 0 to 1\n    float calc_health = cur_health / max_health; // 70 / 100 = 0.7\n    SetHealth(calc_health);\n\n    //Change the color of the health bar\n    if (cur_health != 0 &amp;&amp; cur_health &lt;= max_health / 1.6 &amp;&amp; cur_health &gt; max_health / 2.9) // on the scale of 1000, if health &lt;= 625 and is greater than 345, do the following\n    {\n        Bar.color = new Color32(171, 162, 53, 255);\n    }\n    else if (cur_health != 0 &amp;&amp; cur_health &lt;= max_health / 2.9) // on the scale of 1000, if health &lt;= 625, do the following\n    {\n        Bar.color = new Color32(158, 25, 25, 255);\n    }\n}\n\nvoid SetHealth(float myHealth)\n{\n    //defill the bar based on the current health\n    Bar.fillAmount = myHealth;\n\n    //change the text to display the amount of health\n    Text.text = cur_health.ToString(\"f0\") + \"/100\";\n}\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "list", "linq", "lambda"], "answers": [{"comments": [{"owner": {"reputation": 929, "user_id": 7817343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jcl9LWPaSC0/AAAAAAAAAAI/AAAAAAAATbw/7Xwpr0AHR-0/photo.jpg?sz=128", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7817343/sarah"}, "edited": false, "score": 1, "creation_date": 1551310198, "post_id": 54915583, "comment_id": 96598430, "body": "That worked like a charm, I am not very familiar with =&gt; operator, is there a good tutorial on this. It looks like a very handy feature."}, {"owner": {"reputation": 50823, "user_id": 787016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EOk0j.png?s=128&g=1", "display_name": "Kirill Polishchuk", "link": "https://stackoverflow.com/users/787016/kirill-polishchuk"}, "reply_to_user": {"reputation": 929, "user_id": 7817343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jcl9LWPaSC0/AAAAAAAAAAI/AAAAAAAATbw/7Xwpr0AHR-0/photo.jpg?sz=128", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7817343/sarah"}, "edited": false, "score": 1, "creation_date": 1551310261, "post_id": 54915583, "comment_id": 96598445, "body": "@Sarah, this is a <code>lambda expression</code>. Have a look: <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/lambda-expressions\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>"}], "tags": [], "owner": {"reputation": 50823, "user_id": 787016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EOk0j.png?s=128&g=1", "display_name": "Kirill Polishchuk", "link": "https://stackoverflow.com/users/787016/kirill-polishchuk"}, "is_accepted": true, "score": 1, "last_activity_date": 1551306829, "creation_date": 1551306829, "answer_id": 54915583, "question_id": 54915553, "link": "https://stackoverflow.com/questions/54915553/c-lists-create-list-object-from-a-list-of-objects/54915583#54915583", "title": "C# Lists, create list object from a list of objects", "body": "<p>You need to use Linq <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.select?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>Select</code></a> method, e.g.:</p>\n\n<pre><code>List&lt;int&gt; OnlySites = lsite.Select(s =&gt; s.Id).ToList();\n</code></pre>\n\n<p>This will produce a list of site Ids.</p>\n"}], "owner": {"reputation": 929, "user_id": 7817343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jcl9LWPaSC0/AAAAAAAAAAI/AAAAAAAATbw/7Xwpr0AHR-0/photo.jpg?sz=128", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7817343/sarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1974, "favorite_count": 0, "accepted_answer_id": 54915583, "answer_count": 1, "score": 0, "last_activity_date": 1551310282, "creation_date": 1551306668, "last_edit_date": 1551310282, "question_id": 54915553, "link": "https://stackoverflow.com/questions/54915553/c-lists-create-list-object-from-a-list-of-objects", "title": "C# Lists, create list object from a list of objects", "body": "<p>I have a list object like this</p>\n\n<pre><code>List&lt;Site&gt; lsite = GetSitesById(Id);\n</code></pre>\n\n<p>and the Site object is </p>\n\n<pre><code>public Site(int nId, string name, int Count)\n        {\n            Id = nId;\n            Name = name;\n            SiteOverrideCount = Count;\n        }\n</code></pre>\n\n<p>What I need is <code>List&lt;int&gt; OnlySites=</code> which will have a list of only Site Id's</p>\n\n<p>How can I get only id's from the lsite object, dump them in a list object and assign that to  List OnlySites</p>\n\n<p>I am new at this, hope my question made sense.</p>\n"}, {"tags": ["c#", ".net-core", "nuget"], "comments": [{"owner": {"reputation": 3493, "user_id": 4414656, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/2H1CV.png?s=128&g=1", "display_name": "Parth Patel", "link": "https://stackoverflow.com/users/4414656/parth-patel"}, "edited": false, "score": 0, "creation_date": 1551310626, "post_id": 54915518, "comment_id": 96598537, "body": "Can you please post .nuspec file as well."}, {"owner": {"reputation": 16708, "user_id": 548048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/77ea111e2291af61cee5df04fad69197?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/548048/anders"}, "reply_to_user": {"reputation": 3493, "user_id": 4414656, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/2H1CV.png?s=128&g=1", "display_name": "Parth Patel", "link": "https://stackoverflow.com/users/4414656/parth-patel"}, "edited": false, "score": 0, "creation_date": 1551310759, "post_id": 54915518, "comment_id": 96598572, "body": "no problem its added"}, {"owner": {"reputation": 16708, "user_id": 548048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/77ea111e2291af61cee5df04fad69197?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/548048/anders"}, "reply_to_user": {"reputation": 3493, "user_id": 4414656, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/2H1CV.png?s=128&g=1", "display_name": "Parth Patel", "link": "https://stackoverflow.com/users/4414656/parth-patel"}, "edited": false, "score": 1, "creation_date": 1551313198, "post_id": 54915518, "comment_id": 96599160, "body": "Found problem, cache problem"}], "answers": [{"tags": [], "owner": {"reputation": 16708, "user_id": 548048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/77ea111e2291af61cee5df04fad69197?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/548048/anders"}, "is_accepted": true, "score": 4, "last_activity_date": 1551313989, "last_edit_date": 1551313989, "creation_date": 1551313176, "answer_id": 54916542, "question_id": 54915518, "link": "https://stackoverflow.com/questions/54915518/package-is-not-compatible-with-netcoreapp2-2/54916542#54916542", "title": "Package is not compatible with netcoreapp2.2", "body": "<p>If anyone else runs into this. Nuget keeps a cache. So even if you use a temporary local nuget folder for testing, it will use the cache, so if the cached one contains  error (in my case a lib/netcore) it will not update.  </p>\n\n<p>Fixed by clearing cache</p>\n"}], "owner": {"reputation": 16708, "user_id": 548048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/77ea111e2291af61cee5df04fad69197?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/548048/anders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2040, "favorite_count": 1, "accepted_answer_id": 54916542, "answer_count": 1, "score": 1, "last_activity_date": 1551313989, "creation_date": 1551306478, "last_edit_date": 1551310750, "question_id": 54915518, "link": "https://stackoverflow.com/questions/54915518/package-is-not-compatible-with-netcoreapp2-2", "title": "Package is not compatible with netcoreapp2.2", "body": "<p>I have ported one of my libraries to net core. It works fine from a netcore 2.2 web app. Now I want to package it with nuget. I use the folder convention way.</p>\n\n<p>I have tried </p>\n\n<p>lib/netcore/mylib.dll</p>\n\n<p>lib/netstandard2.0/mylib.dll</p>\n\n<p>lib/netcoreapp2.2</p>\n\n<p>But I only get\n<a href=\"https://i.stack.imgur.com/a4ZZ4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a4ZZ4.png\" alt=\"enter image description here\"></a></p>\n\n<p>What am I doing wrong? Thanks</p>\n\n<p>edit: Nuget explorer seems to look allright? Whats going on? :/ Why is it saying netcore version 0.0?\n<a href=\"https://i.stack.imgur.com/l851n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l851n.png\" alt=\"enter image description here\"></a></p>\n\n<p>edit: nuspec</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;package xmlns=\"http://schemas.microsoft.com/packaging/2013/05/nuspec.xsd\"&gt;\n  &lt;metadata&gt;\n    &lt;id&gt;SignalR.EventAggregatorProxy&lt;/id&gt;\n    &lt;version&gt;2.0.165&lt;/version&gt;\n    &lt;authors&gt;Anders Malmgren&lt;/authors&gt;\n    &lt;owners&gt;Anders Malmgren&lt;/owners&gt;\n    &lt;requireLicenseAcceptance&gt;true&lt;/requireLicenseAcceptance&gt;\n    &lt;licenseUrl&gt;http://opensource.org/licenses/MIT&lt;/licenseUrl&gt;\n    &lt;projectUrl&gt;https://github.com/AndersMalmgren/SignalR.EventAggregatorProxy&lt;/projectUrl&gt;\n    &lt;description&gt;A Event Aggregator proxy for SignalR&lt;/description&gt;\n    &lt;releaseNotes&gt;&lt;/releaseNotes&gt;\n    &lt;copyright&gt;Copyright 2013-2019&lt;/copyright&gt;\n    &lt;tags&gt;SignalR EventAggregator Proxy&lt;/tags&gt;\n    &lt;dependencies&gt;\n      &lt;group targetFramework=\".NETCoreApp2.2\"&gt;\n        &lt;dependency id=\"SignalR.EventAggregatorProxy.Constraint\" version=\"1.3.0\" exclude=\"Build,Analyzers\" /&gt;\n        &lt;dependency id=\"Microsoft.AspNetCore.SignalR\" version=\"1.1.0\" exclude=\"Build,Analyzers\" /&gt;\n      &lt;/group&gt;\n    &lt;/dependencies&gt;\n  &lt;/metadata&gt;\n&lt;/package&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", ".net-core", "asp.net-identity"], "answers": [{"comments": [{"owner": {"reputation": 7220, "user_id": 4671754, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeNSv.jpg?s=128&g=1", "display_name": "Bassie", "link": "https://stackoverflow.com/users/4671754/bassie"}, "edited": false, "score": 2, "creation_date": 1559811601, "post_id": 54930719, "comment_id": 99538778, "body": "hi can you please post a sample of how you solved this? I don&#39;t understand what you&#39;ve done with PhoneNumberTokenProvider"}], "tags": [], "owner": {"reputation": 73, "user_id": 2494044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31f9c7a22f9fb4b5075895bb3a03e840?s=128&d=identicon&r=PG", "display_name": "thepoynt", "link": "https://stackoverflow.com/users/2494044/thepoynt"}, "is_accepted": false, "score": 0, "last_activity_date": 1551373149, "creation_date": 1551373149, "answer_id": 54930719, "question_id": 54915515, "link": "https://stackoverflow.com/questions/54915515/asp-net-core-identity-generatetwofactortokenasync-returning-empty-string/54930719#54930719", "title": "ASP.NET Core Identity GenerateTwoFactorTokenAsync returning empty string", "body": "<p>For anyone who comes along later, I ended up figuring it out. I just searched through the .NET core library and found the token provider <code>PhoneNumberTokenProvider</code>. Just passed that into the generate function instead of the Authentication one, and that seems to be working great.</p>\n\n<p>Now I just need to figure out if there's a built-in way to save which kind of tfa a user is set up with, or if I need to manage that myself...</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 4055813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c3cc892e68af6f5f78ea5bdfca25550?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 R&#243;\u017cycki", "link": "https://stackoverflow.com/users/4055813/micha%c5%82-r%c3%b3%c5%bcycki"}, "is_accepted": false, "score": 1, "last_activity_date": 1580824159, "last_edit_date": 1580824159, "creation_date": 1580820240, "answer_id": 60057732, "question_id": 54915515, "link": "https://stackoverflow.com/questions/54915515/asp-net-core-identity-generatetwofactortokenasync-returning-empty-string/60057732#60057732", "title": "ASP.NET Core Identity GenerateTwoFactorTokenAsync returning empty string", "body": "<p>You can use <code>await _userManager.GenerateTwoFactorTokenAsync(user, TokenOptions.DefaultPhoneProvider);\n</code></p>\n\n<p>You can get details from docs,\n<a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/authentication/2fa?view=aspnetcore-1.1\" rel=\"nofollow noreferrer\">how implement 2-factor auth in ASP.NET Core using sms</a></p>\n"}], "owner": {"reputation": 73, "user_id": 2494044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31f9c7a22f9fb4b5075895bb3a03e840?s=128&d=identicon&r=PG", "display_name": "thepoynt", "link": "https://stackoverflow.com/users/2494044/thepoynt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1814, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1580824159, "creation_date": 1551306459, "last_edit_date": 1551333105, "question_id": 54915515, "link": "https://stackoverflow.com/questions/54915515/asp-net-core-identity-generatetwofactortokenasync-returning-empty-string", "title": "ASP.NET Core Identity GenerateTwoFactorTokenAsync returning empty string", "body": "<p>App is .NET Core 2.1.</p>\n\n<p>I'm implementing SMS two-factor auth in my site (already have app-based tfa), using Twilio, and everything's ready to go, with the minor problem of not being able to generate the token.</p>\n\n<p>The following code is what I call when the user enters their mobile number to set up TFA in the first place. Just generating a code and texting it to them. But the call to <code>_userManager.GenerateTwoFactorTokenAsync</code> is returning an empty string. Which, looking at the source code, it's hard-coded to do. Useful. </p>\n\n<p>I was hoping to use that so I could use the same verification process I already have in place for my app-based tfa. So what function should I be using to generate tfa tokens to be sending to users? Or am I approaching this incorrectly?</p>\n\n<p>EDIT: Just from my own digging, maybe I should be using the change phone number token for this initial setup. But then the question becomes, what should I use for the actual tfa process during login?</p>\n\n<pre><code>  [Authorize]\n  [HttpPost(\"send-sms\")]\n  public async Task&lt;IActionResult&gt; SendSms(SMSModel input)\n  {\n     var user = await _userManager.GetUserAsync(User);\n\n     if (String.IsNullOrWhiteSpace(_smsOptions.Sid) || String.IsNullOrWhiteSpace(_smsOptions.Token)) {\n        ModelState.AddModelError(\"phoneNumber\", \"SMS provider not set up.\");\n        return BadRequest(ModelState);\n     }\n\n     var code = await _userManager.GenerateTwoFactorTokenAsync(user, _userManager.Options.Tokens.AuthenticatorTokenProvider);\n     var message = \"Your one-time verification code is: \" + code;\n\n     TwilioClient.Init(_smsOptions.Sid, _smsOptions.Token);\n     try {\n        var result = await MessageResource.CreateAsync(\n           to: new PhoneNumber(input.phone),\n           from: new PhoneNumber(_smsOptions.From),\n           body: message\n        );\n     } catch (Exception e) {\n        ModelState.AddModelError(\"phoneNumber\", e.Message);\n        return BadRequest(ModelState);\n     }\n\n     return Ok();\n  }\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c#", ".net", "multithreading"], "comments": [{"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1551313123, "post_id": 54915347, "comment_id": 96599144, "body": "Why do you need to do this? Why not keep a reference to the thread? After all you&#39;re keeping the name."}], "answers": [{"tags": [], "owner": {"reputation": 896, "user_id": 7947315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a39d2c03f27e514282f7201612412288?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/7947315/daniel"}, "is_accepted": true, "score": 1, "last_activity_date": 1551307463, "last_edit_date": 1551307463, "creation_date": 1551306000, "answer_id": 54915414, "question_id": 54915347, "link": "https://stackoverflow.com/questions/54915347/find-c-thread-by-its-name/54915414#54915414", "title": "Find C# thread by its name", "body": "<p>In your foreach you are casting your threads array to a <code>System.Diagnostics.ProcessThread</code> rather than a <code>System.Threading.Thread</code>, so you are losing some of the properties, such as thread name. Assuming your threads are stored in a <code>List&lt;Thread&gt;();</code> you can use the following LINQ to get thread with matching identifier name:</p>\n\n<pre><code>var threads = new List&lt;Thread&gt;();\nvar thread = threads.FirstOrDefault(x =&gt; x.Name == identifier);\n</code></pre>\n\n<p>Or if you need to iterate over your list you can do: </p>\n\n<pre><code>foreach (var thread in currentThreads)    \n{\n   // Do whatever you need\n} \n</code></pre>\n\n<p><code>var</code> will be inferred as a <code>System.Threading.Thread</code></p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>What you're trying to do isn't possible. You are throwing away your reference to thread and losing the name as well as the Name property. The .NET managed Thread object is not the same as the operating system ProcessThread object. </p>\n\n<p>You should consider using the Thread ID as your identifier, or as you create new threads, store them in a list, and check the status of thread using thread name on your collection of <code>System.Threading.Thread</code>. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11127606"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2798, "favorite_count": 0, "accepted_answer_id": 54915414, "answer_count": 1, "score": 0, "last_activity_date": 1551310502, "creation_date": 1551305702, "last_edit_date": 1551310502, "question_id": 54915347, "link": "https://stackoverflow.com/questions/54915347/find-c-thread-by-its-name", "title": "Find C# thread by its name", "body": "<p>I'm using this code to create a new <code>Thread</code>:</p>\n\n<pre><code>Thread thread = new Thread(delegate()\n{\n    Thread.Sleep(TimeSpan.FromSeconds(delay));\n    method();\n});\n\nthread.Name = identifier;\nthread.Start();\n</code></pre>\n\n<p>I'm trying to loop over the threads and find the thread by its name but i can only get the id from <code>ProcessThread</code>:</p>\n\n<pre><code>ProcessThreadCollection currentThreads = Process.GetCurrentProcess().Threads;\n\nforeach (ProcessThread thread in currentThreads)    \n{\n   // Do whatever you need\n} \n</code></pre>\n\n<p>Any idea how i can get the Thread by the name i initialize?</p>\n"}, {"tags": ["c#", "dependency-injection", "configuration", ".net-core"], "answers": [{"tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 0, "last_activity_date": 1551322375, "creation_date": 1551322375, "answer_id": 54917691, "question_id": 54915299, "link": "https://stackoverflow.com/questions/54915299/net-core-iconfigurationroot-read-entire-json-file/54917691#54917691", "title": ".Net Core - IConfigurationRoot read entire json file", "body": "<p>Because of options configuration you would need to access it via <code>IOptions</code></p>\n\n<pre><code>//...\n\nvar serviceProvider = services.BuildServiceProvider();\nvar option = serviceProvider.GetService&lt;IOptions&lt;Config&gt;&gt;();\nvar config = option.Value;\n</code></pre>\n\n<p>another approach would be to extract the class directly from configuration by binding to the desired object graph and then adding it to the service collection</p>\n\n<pre><code>//...\n\nvar configuration = new ConfigurationBuilder()\n    .SetBasePath(Directory.GetCurrentDirectory())\n    .AddJsonFile(\"Config.json\", false)\n    .Build();\n\nvar config = configuration.Get&lt;Config&gt;();\nservices.AddSingleton(config);\n\n//...\n</code></pre>\n\n<p>With the above approach</p>\n\n<pre><code>//...\n\nvar config = serviceProvider.GetService&lt;Config&gt;();\n</code></pre>\n\n<p>will work as expected.</p>\n"}], "owner": {"reputation": 89, "user_id": 10799862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3315d3874b60ca536c7ae261ac1d8c55?s=128&d=identicon&r=PG&f=1", "display_name": "Milan", "link": "https://stackoverflow.com/users/10799862/milan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 714, "favorite_count": 0, "accepted_answer_id": 54917691, "answer_count": 1, "score": 2, "last_activity_date": 1565026325, "creation_date": 1551305460, "last_edit_date": 1551305966, "question_id": 54915299, "link": "https://stackoverflow.com/questions/54915299/net-core-iconfigurationroot-read-entire-json-file", "title": ".Net Core - IConfigurationRoot read entire json file", "body": "<p>I have following Config.jsonfile </p>\n\n<pre><code>{\n   \"UserId\": 2930,\n   \"Phones\":[\"&lt;HomePhoneNumber&gt;\", \"&lt;MobileNumber&gt;\"]\n}\n</code></pre>\n\n<p>And I have corresponding Config class in Config.cs</p>\n\n<pre><code>public class Config\n{\n  public int UserId { get; set; }\n  public List&lt;string&gt; Phones { get; set;}\n}\n</code></pre>\n\n<p>I was following this tutorial - <a href=\"https://keestalkstech.com/2018/04/dependency-injection-with-ioptions-in-console-apps-in-net-core-2/\" rel=\"nofollow noreferrer\">https://keestalkstech.com/2018/04/dependency-injection-with-ioptions-in-console-apps-in-net-core-2/</a> </p>\n\n<p>But I don't have sections like his appsettings.json in my config.json file. I want to read that config file as a whole. How can I do that with ConfigurationBuilder?</p>\n\n<pre><code>class Program\n{\n    static async Task Main(string[] args)\n    {\n        var services = new ServiceCollection();\n        ConfigureServices(services);\n        var serviceProvider = services.BuildServiceProvider();\n\n        var config = serviceProvider.GetService&lt;Config&gt;();\n    }\n\n    private static void ConfigureServices(IServiceCollection services)\n    {\n        services.AddLogging(builder =&gt; builder.AddDebug().AddConsole());\n\n        var configuration = new ConfigurationBuilder()\n            .SetBasePath(Directory.GetCurrentDirectory())\n            .AddJsonFile(\"Config.json\", false)\n            .Build();\n\n        services.AddOptions();\n        services.Configure&lt;Config&gt;(configuration);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 896, "user_id": 7947315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a39d2c03f27e514282f7201612412288?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/7947315/daniel"}, "edited": false, "score": 3, "creation_date": 1551305615, "post_id": 54915284, "comment_id": 96596940, "body": "public CheckingAccount(string name, double amount)                    :                base(name, amount) { }"}, {"owner": {"reputation": 21, "user_id": 10648518, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EuqZ_TbeEKU/AAAAAAAAAAI/AAAAAAAAACI/iCDcQmuZdKA/photo.jpg?sz=128", "display_name": "Rohan Juneja", "link": "https://stackoverflow.com/users/10648518/rohan-juneja"}, "reply_to_user": {"reputation": 896, "user_id": 7947315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a39d2c03f27e514282f7201612412288?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/7947315/daniel"}, "edited": false, "score": 0, "creation_date": 1551305615, "post_id": 54915284, "comment_id": 96596941, "body": "Yeah, I am trying to Create an object for CheckingAccount:  CheckingAccount myCheckingAccount = new CheckingAccount(&quot;Benjamin Franklin&quot;, 1000);  and enter values into CheckingAccount constructor and then the values should be sent to BankAccount(&quot;Benjamin Franklin&quot;, 1000);"}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1551305637, "post_id": 54915284, "comment_id": 96596950, "body": "What exactly, do you think <code>base.BankAccount</code> does?"}, {"owner": {"reputation": 21, "user_id": 10648518, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EuqZ_TbeEKU/AAAAAAAAAAI/AAAAAAAAACI/iCDcQmuZdKA/photo.jpg?sz=128", "display_name": "Rohan Juneja", "link": "https://stackoverflow.com/users/10648518/rohan-juneja"}, "edited": false, "score": 0, "creation_date": 1551305695, "post_id": 54915284, "comment_id": 96596973, "body": "The entered values in Main should be sent into the CheckingAccount constructor and then to BankAccount Class Constructor."}, {"owner": {"reputation": 1619, "user_id": 7864413, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208517922736756/picture?type=large", "display_name": "Phil M", "link": "https://stackoverflow.com/users/7864413/phil-m"}, "reply_to_user": {"reputation": 896, "user_id": 7947315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a39d2c03f27e514282f7201612412288?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/7947315/daniel"}, "edited": false, "score": 0, "creation_date": 1551305702, "post_id": 54915284, "comment_id": 96596976, "body": "@Daniel You should add that as an answer, not a comment"}, {"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1551305740, "post_id": 54915284, "comment_id": 96596995, "body": "You need to read about how to call the base constructor. <a href=\"https://stackoverflow.com/questions/12051/calling-the-base-constructor-in-c-sharp\" title=\"calling the base constructor in c sharp\">stackoverflow.com/questions/12051/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 1, "creation_date": 1551306013, "post_id": 54915352, "comment_id": 96597099, "body": "This is not the correct answer and may add attract down votes. I would suggest to remove it before it gets down voted."}, {"owner": {"reputation": 446, "user_id": 10787154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NEj0C.jpg?s=128&g=1", "display_name": "RLoris", "link": "https://stackoverflow.com/users/10787154/rloris"}, "reply_to_user": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1551306615, "post_id": 54915352, "comment_id": 96597312, "body": "You are right, I was Just trying to help, I didn&#39;t read the whole constructor, saw the base at the end, I have edited my answer, I don&#39;t care about downvotes, I&#39;m just here to help and share my experience and ideas."}, {"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1551313471, "post_id": 54915352, "comment_id": 96599232, "body": "I got you. And I believe everyone who is trying to solve the problem here has pretty much the same intention as you. Anyways right answer helps everyone."}], "tags": [], "owner": {"reputation": 446, "user_id": 10787154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NEj0C.jpg?s=128&g=1", "display_name": "RLoris", "link": "https://stackoverflow.com/users/10787154/rloris"}, "is_accepted": false, "score": 1, "last_activity_date": 1551313636, "last_edit_date": 1551313636, "creation_date": 1551305712, "answer_id": 54915352, "question_id": 54915284, "link": "https://stackoverflow.com/questions/54915284/bankaccount-does-not-contain-a-definition-for-bankaccount/54915352#54915352", "title": "BankAccount&#39; does not contain a definition for &#39;BankAccount", "body": "<p>C# Is not like Java where you call super() between the curly braces, you Need to add ' : base(name,Amout)' to call the super class constructor. Like this : </p>\n\n<pre><code>public CheckingAccount(string name, double amount) : base(name,amount)\n{\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 10648518, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EuqZ_TbeEKU/AAAAAAAAAAI/AAAAAAAAACI/iCDcQmuZdKA/photo.jpg?sz=128", "display_name": "Rohan Juneja", "link": "https://stackoverflow.com/users/10648518/rohan-juneja"}, "edited": false, "score": 0, "creation_date": 1551306007, "post_id": 54915401, "comment_id": 96597095, "body": "Thanks a lot it worked"}], "tags": [], "owner": {"reputation": 782, "user_id": 1898505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be95f487b76ad590c1f4ec332f4f663e?s=128&d=identicon&r=PG", "display_name": "Ivan Salo", "link": "https://stackoverflow.com/users/1898505/ivan-salo"}, "is_accepted": false, "score": 0, "last_activity_date": 1551305899, "creation_date": 1551305899, "answer_id": 54915401, "question_id": 54915284, "link": "https://stackoverflow.com/questions/54915284/bankaccount-does-not-contain-a-definition-for-bankaccount/54915401#54915401", "title": "BankAccount&#39; does not contain a definition for &#39;BankAccount", "body": "<p>You can call it in this way.</p>\n\n<pre><code>public CheckingAccount(string name, double amount) : base (name, amount)\n{\n\n} \n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10648518, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EuqZ_TbeEKU/AAAAAAAAAAI/AAAAAAAAACI/iCDcQmuZdKA/photo.jpg?sz=128", "display_name": "Rohan Juneja", "link": "https://stackoverflow.com/users/10648518/rohan-juneja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 1, "closed_date": 1551305671, "answer_count": 2, "score": -6, "last_activity_date": 1551313636, "creation_date": 1551305392, "last_edit_date": 1551312973, "question_id": 54915284, "link": "https://stackoverflow.com/questions/54915284/bankaccount-does-not-contain-a-definition-for-bankaccount", "closed_reason": "Duplicate", "title": "BankAccount&#39; does not contain a definition for &#39;BankAccount", "body": "<p>This is bank account class:</p>\n\n<pre><code>namespace BankAccount\n{\n    public abstract class BankAccount\n    {\n        protected static int numberOfAccounts = 100001;\n        private double balance;\n        private string owner;\n        private string accountNumber;\n\n        public BankAccount()\n        {\n            balance = 0;\n            accountNumber = numberOfAccounts + \"\";\n            numberOfAccounts++;\n        }\n\n        public BankAccount(string name, double amount)\n        {\n            owner = name;\n            balance = amount;\n            accountNumber = numberOfAccounts + \"\";\n            numberOfAccounts++;\n        }\n\n        public BankAccount(BankAccount oldAccount, double amount)\n        {\n            owner = oldAccount.owner;\n            balance = amount;\n            accountNumber = oldAccount.accountNumber;\n        }\n}\n}\n</code></pre>\n\n<p>This is Checking account class:</p>\n\n<pre><code>namespace BankAccount\n{\n    class CheckingAccount : BankAccount\n    {\n        int fee = 15;\n        public CheckingAccount(string name, double amount)\n        {\n           base.BankAccount(name, amount);\n        }\n        public new bool Withdraw(double amount)\n        {\n            double totalAmount = amount + fee;\n            return base.Withdraw(totalAmount);\n        }\n    }\n}\n</code></pre>\n\n<p>For, <code>base.BankAccount(name, amount);</code> I am getting error, </p>\n\n<blockquote>\n  <p>'BankAccount' does not contain a definition for 'BankAccount.' </p>\n</blockquote>\n\n<p>Bank account is the base class and checking account inherits the base class.  and when I remove the base keyword it says: </p>\n\n<blockquote>\n  <p>Non Invokable member cannot be used as a method.</p>\n</blockquote>\n\n<p>In the main, I created an object, I want to accept a value in Main - a string and a double and then send it to <code>CheckingAccount</code> class and <code>CheckingAccount</code> constructor should run and then send the values to <code>BankAccount</code> constructor and do the calculations.</p>\n\n<p>How can I fix the error </p>\n\n<blockquote>\n  <p>'BankAccount' does not contain a definition for 'BankAccount'</p>\n</blockquote>\n\n<p>. ?\nThanks,</p>\n"}, {"tags": ["c#", "machine-learning", "accord.net"], "comments": [{"owner": {"reputation": 1108, "user_id": 5915016, "user_type": "registered", "profile_image": "https://graph.facebook.com/1269943303023033/picture?type=large", "display_name": "Mohhamad Hasham", "link": "https://stackoverflow.com/users/5915016/mohhamad-hasham"}, "edited": false, "score": 0, "creation_date": 1553427550, "post_id": 54915210, "comment_id": 97372913, "body": "I wonder why is it marked duplicate?"}, {"owner": {"reputation": 590, "user_id": 4839262, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/l0bfF.jpg?s=128&g=1", "display_name": "mikesneider", "link": "https://stackoverflow.com/users/4839262/mikesneider"}, "reply_to_user": {"reputation": 1108, "user_id": 5915016, "user_type": "registered", "profile_image": "https://graph.facebook.com/1269943303023033/picture?type=large", "display_name": "Mohhamad Hasham", "link": "https://stackoverflow.com/users/5915016/mohhamad-hasham"}, "edited": false, "score": 0, "creation_date": 1553440650, "post_id": 54915210, "comment_id": 97376604, "body": "In the duplicate question I founded the class Accord.IO with that class now is possible save the pre-trained model. But the library must be updated"}], "owner": {"reputation": 590, "user_id": 4839262, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/l0bfF.jpg?s=128&g=1", "display_name": "mikesneider", "link": "https://stackoverflow.com/users/4839262/mikesneider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "closed_date": 1551412041, "answer_count": 0, "score": 1, "last_activity_date": 1551305001, "creation_date": 1551305001, "question_id": 54915210, "link": "https://stackoverflow.com/questions/54915210/can-i-save-my-trained-model-in-accord-net", "closed_reason": "Duplicate", "title": "Can I save my trained model in Accord.NET", "body": "<p>I created a trained model Using the library Accord.NET. I would like to keep the pre-trained model in a file (not in the RAM memory), and later to use that model in my desktop application in C#,  how this is possible?</p>\n"}, {"tags": ["c#", "json", "asp.net-web-api"], "comments": [{"owner": {"reputation": 896, "user_id": 7947315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a39d2c03f27e514282f7201612412288?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/7947315/daniel"}, "edited": false, "score": 1, "creation_date": 1551305292, "post_id": 54915205, "comment_id": 96596822, "body": "So is the exception occurring at the conversion to JSON or reading the response?"}, {"owner": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "edited": false, "score": 1, "creation_date": 1551305761, "post_id": 54915205, "comment_id": 96597005, "body": "Define &quot;fairly large&quot;."}, {"owner": {"reputation": 5, "user_id": 10543249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69da28c94776b0a39d7b090b604805f?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Chang", "link": "https://stackoverflow.com/users/10543249/jason-chang"}, "edited": false, "score": 0, "creation_date": 1551307224, "post_id": 54915205, "comment_id": 96597522, "body": "the exception occurs at json serialize. thanks.@Daniel"}, {"owner": {"reputation": 5, "user_id": 10543249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69da28c94776b0a39d7b090b604805f?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Chang", "link": "https://stackoverflow.com/users/10543249/jason-chang"}, "reply_to_user": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "edited": false, "score": 0, "creation_date": 1551307300, "post_id": 54915205, "comment_id": 96597557, "body": "@mxmissile lets say 130K records with about 30 columns."}, {"owner": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "edited": false, "score": 0, "creation_date": 1551308062, "post_id": 54915205, "comment_id": 96597806, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8157636/can-json-net-serialize-deserialize-to-from-a-stream\">Can Json.NET serialize / deserialize to / from a stream?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 403, "user_id": 807941, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b8bade7b49a03b8c2d2eef9cc3e6468e?s=128&d=identicon&r=PG", "display_name": "Bombinosh", "link": "https://stackoverflow.com/users/807941/bombinosh"}, "edited": false, "score": 0, "creation_date": 1551306855, "post_id": 54915356, "comment_id": 96597386, "body": "i think we may need more context before drawing the big gun. Also when already struggling at this point this can&#39;t help"}], "tags": [], "owner": {"reputation": 75, "user_id": 1497045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XfkBs.jpg?s=128&g=1", "display_name": "jalil", "link": "https://stackoverflow.com/users/1497045/jalil"}, "is_accepted": false, "score": 0, "last_activity_date": 1551305723, "creation_date": 1551305723, "answer_id": 54915356, "question_id": 54915205, "link": "https://stackoverflow.com/questions/54915205/how-to-post-large-object-to-a-web-api/54915356#54915356", "title": "How to post large object to a web api", "body": "<p>Passing larger number of objects thought Web API will not be reliable. You need to think different option for design your solution. You can use some message queue(i.e RabbitMQ) service and backend message handler. Web API Create some job request and message handler will process message in backend.</p>\n"}, {"tags": [], "owner": {"reputation": 5, "user_id": 10543249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69da28c94776b0a39d7b090b604805f?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Chang", "link": "https://stackoverflow.com/users/10543249/jason-chang"}, "is_accepted": false, "score": 0, "last_activity_date": 1551308370, "creation_date": 1551308370, "answer_id": 54915853, "question_id": 54915205, "link": "https://stackoverflow.com/questions/54915205/how-to-post-large-object-to-a-web-api/54915853#54915853", "title": "How to post large object to a web api", "body": "<p>Alternatively, I have also tried this, but here as well, it errors at the ser.Serialize() line with same exception.</p>\n\n<pre><code>var content = new PushStreamContent((stream, httpContent, transportContext) =&gt;\n{\n    using (var tw = new StreamWriter(stream))\n    {\n        var ser = new JsonSerializer();\n        ser.Serialize(tw, largeObject);\n    }\n});\n\nvar response = client.PostAsync(serviceEndpointURL,content).Result;\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 10543249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69da28c94776b0a39d7b090b604805f?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Chang", "link": "https://stackoverflow.com/users/10543249/jason-chang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551308370, "creation_date": 1551304967, "question_id": 54915205, "link": "https://stackoverflow.com/questions/54915205/how-to-post-large-object-to-a-web-api", "title": "How to post large object to a web api", "body": "<p>I have a class that posts data to a web API which then processes the large object and generates corresponding db records. I am dealing with a fairly large object that has multiple types of sub-objects in it. This is the code that I have:</p>\n\n<pre><code>var content = new StringContent(JsonConvert.SerializeObject(largeObject), Encoding.UTF8, \"application/json\");\nvar response = client.PostAsync(serviceEndpointURL,content).Result;\n</code></pre>\n\n<p>This returns SystemOutOfMemoryException understandably, but I am not sure how I can design this to support such large objects.</p>\n"}, {"tags": ["c#", "wcf", "windbg"], "comments": [{"owner": {"reputation": 896, "user_id": 7947315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a39d2c03f27e514282f7201612412288?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/7947315/daniel"}, "edited": false, "score": 2, "creation_date": 1551305006, "post_id": 54915153, "comment_id": 96596710, "body": "This isn&#39;t enough information to be able to provide a clear and definitive answer, but since you denoted that your app is heavily accessing a database, then your issue is likely related to that. Ensure all connections are being disposed and make sure queries aren&#39;t pulling too much data"}, {"owner": {"reputation": 896, "user_id": 7947315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a39d2c03f27e514282f7201612412288?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/7947315/daniel"}, "edited": false, "score": 0, "creation_date": 1551305067, "post_id": 54915153, "comment_id": 96596732, "body": "It will also help to look at the stack trace of the exception."}, {"owner": {"reputation": 5924, "user_id": 18482, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ab33f96b6f2ae0d5617a64e9d755bf04?s=128&d=identicon&r=PG", "display_name": "lesscode", "link": "https://stackoverflow.com/users/18482/lesscode"}, "edited": false, "score": 0, "creation_date": 1551325357, "post_id": 54915153, "comment_id": 96601802, "body": "Is it possible to attach a memory profiler? That should highlight the problem pretty quickly with a couple of snapshots."}, {"owner": {"reputation": 487, "user_id": 1602286, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05396893155418a0a93052cb05f64a3f?s=128&d=identicon&r=PG", "display_name": "Michael Daniloff", "link": "https://stackoverflow.com/users/1602286/michael-daniloff"}, "edited": false, "score": 0, "creation_date": 1551362147, "post_id": 54915153, "comment_id": 96619145, "body": "Daniel, actually my question is really regarding how to decipher data in the Windbg and its extensions, SOS, SOSEX. The stack trace is not very helpful."}, {"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 0, "creation_date": 1551723794, "post_id": 54915153, "comment_id": 96736190, "body": "There are the commands <code>DumpDomain</code> and <code>DumpAssembly</code> which might help you. I also see the <code>Attributes: Reflection</code>, so these dynamic modules may be been created by <code>Reflection.Emit</code>"}, {"owner": {"reputation": 846, "user_id": 6018839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S0fZ1.jpg?s=128&g=1", "display_name": "OldBoyCoder", "link": "https://stackoverflow.com/users/6018839/oldboycoder"}, "edited": false, "score": 0, "creation_date": 1553012093, "post_id": 54915153, "comment_id": 97224009, "body": "Stab in the dark and not an answer to your question directly but XMLserialization can generate lots of runtime assemblies see <a href=\"https://blogs.msdn.microsoft.com/asiatech/2013/10/22/case-study-outofmemory-exception-caused-by-xmlserializer-is-not-used-properly/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/asiatech/2013/10/22/&hellip;</a>"}], "owner": {"reputation": 487, "user_id": 1602286, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05396893155418a0a93052cb05f64a3f?s=128&d=identicon&r=PG", "display_name": "Michael Daniloff", "link": "https://stackoverflow.com/users/1602286/michael-daniloff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1551304714, "creation_date": 1551304714, "question_id": 54915153, "link": "https://stackoverflow.com/questions/54915153/out-of-memory-exception-in-wcf-service", "title": "Out of memory exception in WCF service", "body": "<p>I'm trying to figure out why do we get Out of memory exception in our WCF services process. The purpose of the service is to get the data from the database, format it and write to Sharepoint. The users execute multiple jobs like this simultaneously (we create a separate AppDomain for each job).</p>\n\n<p>I used WinDbg to analyze the dump file(s) and see that at least in one of the App domains contains multiple (about 200) dynamic modules (assemblies). I did a DumpModule command on one of those dynamic modules and here is what I get:</p>\n\n<pre><code>Name:       Unknown Module\nAttributes: Reflection \nAssembly:   18c1cbf8\nLoaderHeap:              00000000\nTypeDefToMethodTableMap: 1dd6eafc\nTypeRefToMethodTableMap: 1dd6eb10\nMethodDefToDescMap:      1dd6eb24\nFieldDefToDescMap:       1dd6eb4c\nMemberRefToDescMap:      00000000\nFileReferencesMap:       1dd6eb9c\nAssemblyReferencesMap:   1dd6ebb0\n</code></pre>\n\n<p>There is not MetaData start address as found for the PEFile(s), so I wonder if there is a way to determine what these dynamic modules contain.</p>\n"}, {"tags": ["c#", "reactjs", "identityserver4"], "comments": [{"owner": {"reputation": 4287, "user_id": 9073130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df7314c5520f5570313a2156d005f14?s=128&d=identicon&r=PG&f=1", "display_name": "Vidmantas Blazevicius", "link": "https://stackoverflow.com/users/9073130/vidmantas-blazevicius"}, "edited": false, "score": 0, "creation_date": 1551307065, "post_id": 54915065, "comment_id": 96597463, "body": "How did you determine that it is the same access token?"}, {"owner": {"reputation": 4041, "user_id": 345912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daca19c815f919e5ce05b5198907e451?s=128&d=identicon&r=PG", "display_name": "mackie", "link": "https://stackoverflow.com/users/345912/mackie"}, "edited": false, "score": 0, "creation_date": 1551356754, "post_id": 54915065, "comment_id": 96615930, "body": "I&#39;m assuming the child app is using the same cookie as its parent?"}, {"owner": {"reputation": 5, "user_id": 10896981, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fVKr17fo1Sw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcak1QJ87sP4lCNkGqLI_u-zjdD8HA/mo/photo.jpg?sz=128", "display_name": "Videopin me", "link": "https://stackoverflow.com/users/10896981/videopin-me"}, "reply_to_user": {"reputation": 4287, "user_id": 9073130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df7314c5520f5570313a2156d005f14?s=128&d=identicon&r=PG&f=1", "display_name": "Vidmantas Blazevicius", "link": "https://stackoverflow.com/users/9073130/vidmantas-blazevicius"}, "edited": false, "score": 0, "creation_date": 1551361420, "post_id": 54915065, "comment_id": 96618728, "body": "@VidmantasBlazevicius: see edited question. Thanks."}, {"owner": {"reputation": 5, "user_id": 10896981, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fVKr17fo1Sw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcak1QJ87sP4lCNkGqLI_u-zjdD8HA/mo/photo.jpg?sz=128", "display_name": "Videopin me", "link": "https://stackoverflow.com/users/10896981/videopin-me"}, "reply_to_user": {"reputation": 4041, "user_id": 345912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daca19c815f919e5ce05b5198907e451?s=128&d=identicon&r=PG", "display_name": "mackie", "link": "https://stackoverflow.com/users/345912/mackie"}, "edited": false, "score": 0, "creation_date": 1551361623, "post_id": 54915065, "comment_id": 96618830, "body": "@mackie. In fact if I just launch the child app first and then launch the container app in another chrome window I see the access token of the child passed to the container app. In the child app, I am required to login to IS but not in the container app."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 10896981, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fVKr17fo1Sw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcak1QJ87sP4lCNkGqLI_u-zjdD8HA/mo/photo.jpg?sz=128", "display_name": "Videopin me", "link": "https://stackoverflow.com/users/10896981/videopin-me"}, "edited": false, "score": 0, "creation_date": 1551406592, "post_id": 54931653, "comment_id": 96638122, "body": "Thank you @Vidmantas. Just to confirm when you say &#39;issue the token&#39;, you mean the same token? I read somewhere a new token is given. If only one access token is used, can I not have both apps configured in IS with different scopes? Or would the main container app contain the scopes of the child app as well?"}, {"owner": {"reputation": 4287, "user_id": 9073130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df7314c5520f5570313a2156d005f14?s=128&d=identicon&r=PG&f=1", "display_name": "Vidmantas Blazevicius", "link": "https://stackoverflow.com/users/9073130/vidmantas-blazevicius"}, "reply_to_user": {"reputation": 5, "user_id": 10896981, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fVKr17fo1Sw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcak1QJ87sP4lCNkGqLI_u-zjdD8HA/mo/photo.jpg?sz=128", "display_name": "Videopin me", "link": "https://stackoverflow.com/users/10896981/videopin-me"}, "edited": false, "score": 0, "creation_date": 1551427379, "post_id": 54931653, "comment_id": 96643687, "body": "@Videopinme should be different token, but how do you constitute different token. Your apps should not have any scopes of their own to be honest, they should be allowed some scopes, whether those are different or not, it doesn&#39;t matter if they are different clients."}, {"owner": {"reputation": 5, "user_id": 10896981, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fVKr17fo1Sw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcak1QJ87sP4lCNkGqLI_u-zjdD8HA/mo/photo.jpg?sz=128", "display_name": "Videopin me", "link": "https://stackoverflow.com/users/10896981/videopin-me"}, "edited": false, "score": 0, "creation_date": 1551471810, "post_id": 54931653, "comment_id": 96666292, "body": "So the reason I say they are not different is because when I take the access tokens and decode them they have the same information. The client id is the same in both tokens. I was expecting the client id of the child token to be different."}, {"owner": {"reputation": 4287, "user_id": 9073130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df7314c5520f5570313a2156d005f14?s=128&d=identicon&r=PG&f=1", "display_name": "Vidmantas Blazevicius", "link": "https://stackoverflow.com/users/9073130/vidmantas-blazevicius"}, "reply_to_user": {"reputation": 5, "user_id": 10896981, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fVKr17fo1Sw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcak1QJ87sP4lCNkGqLI_u-zjdD8HA/mo/photo.jpg?sz=128", "display_name": "Videopin me", "link": "https://stackoverflow.com/users/10896981/videopin-me"}, "edited": false, "score": 0, "creation_date": 1551478581, "post_id": 54931653, "comment_id": 96668656, "body": "You need to share your idsrv4 configurations or else I\u2019m lost a bit in trying to help you"}, {"owner": {"reputation": 5, "user_id": 10896981, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fVKr17fo1Sw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcak1QJ87sP4lCNkGqLI_u-zjdD8HA/mo/photo.jpg?sz=128", "display_name": "Videopin me", "link": "https://stackoverflow.com/users/10896981/videopin-me"}, "edited": false, "score": 0, "creation_date": 1551548570, "post_id": 54931653, "comment_id": 96683599, "body": "Configuration added."}, {"owner": {"reputation": 5, "user_id": 10896981, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fVKr17fo1Sw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcak1QJ87sP4lCNkGqLI_u-zjdD8HA/mo/photo.jpg?sz=128", "display_name": "Videopin me", "link": "https://stackoverflow.com/users/10896981/videopin-me"}, "edited": false, "score": 0, "creation_date": 1553433183, "post_id": 54931653, "comment_id": 97374515, "body": "Just to recap, I am stilling seeing the same issue where the child app has the same access token as the container. In fact, if I first log in with the child app, then the container app has the same token. So it looks like the IS configuration for the second app is not being used if the first app has already authenticated."}], "tags": [], "owner": {"reputation": 4287, "user_id": 9073130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df7314c5520f5570313a2156d005f14?s=128&d=identicon&r=PG&f=1", "display_name": "Vidmantas Blazevicius", "link": "https://stackoverflow.com/users/9073130/vidmantas-blazevicius"}, "is_accepted": false, "score": 0, "last_activity_date": 1551376910, "creation_date": 1551376910, "answer_id": 54931653, "question_id": 54915065, "link": "https://stackoverflow.com/questions/54915065/seeing-the-same-access-token-between-apps/54931653#54931653", "title": "Seeing the same access token between apps", "body": "<p>If I understand this correctly, then the behaviour you are describing is expected and is due to single sign on effect because when you login to Identity Server 4 with user credentials, it leaves the cookie and then once your another client redirects to the same identity provider, the cookie authentication scheme kicks in and automatically logs the user in and issues the token without requiring credential input.</p>\n\n<p>You should, however, still go through consent screen if your client is configured with <code>RequireConsent = true</code> and you are using different <code>client_id</code> for your applications.</p>\n"}], "owner": {"reputation": 5, "user_id": 10896981, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fVKr17fo1Sw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcak1QJ87sP4lCNkGqLI_u-zjdD8HA/mo/photo.jpg?sz=128", "display_name": "Videopin me", "link": "https://stackoverflow.com/users/10896981/videopin-me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1551548542, "creation_date": 1551304337, "last_edit_date": 1551548542, "question_id": 54915065, "link": "https://stackoverflow.com/questions/54915065/seeing-the-same-access-token-between-apps", "title": "Seeing the same access token between apps", "body": "<p>I have a local instance of identity server (IS). I have a container app and a child app and the container app is configured with identity server. The child app is launched from the container app (url link).</p>\n\n<p>When I launch the container app, I can log into IS as expected. Then when I launch the child app (via the link), I see the same id token and access token being used on the child app.</p>\n\n<p>I suppose this is expected.</p>\n\n<p>However, if I configure the child app with IS, I was expecting a new access token for the child app but instead, I am seeing the same access token as the container app.</p>\n\n<p>Is this correct behavior or should new access token be given for the child app?</p>\n\n<p>On my child app I have a controller with the following:</p>\n\n<pre><code>        if (User.Identity.IsAuthenticated)\n        {\n            accessToken = await HttpContext.GetTokenAsync(\"access_token\");\n            idToken = await HttpContext.GetTokenAsync(\"id_token\");\n\n            // Now you can use them. For more info on when and how to use the \n            // access_token and id_token, see https://auth0.com/docs/tokens\n        }\n</code></pre>\n\n<p>The controller has the [Authorize] attribute.</p>\n\n<p>Idsrv4 config:</p>\n\n<pre><code>new Client\n            {\n                ClientId = \"react_main_container_app_implicit\",\n                ClientSecrets = new [] { new Secret(\"secret\".Sha256()) },\n                AllowedGrantTypes = GrantTypes.Implicit,\n                AllowedScopes = new []\n                {\n                    IdentityServerConstants.StandardScopes.OpenId,\n                    IdentityServerConstants.StandardScopes.Profile,\n                    \"singlespa_access\",\n                    \"employee_info\"\n                },\n                AllowAccessTokensViaBrowser = true,\n                RedirectUris = new [] { \"http://localhost:63580/signin-oidc\" }, //mw knows how to handle this.\n                PostLogoutRedirectUris = new []{\"http://localhost:63580/signout-callback-oidc\"}\n            },\n            new Client\n            {\n                ClientId = \"react-child_app_implicit\",\n                ClientSecrets = new [] { new Secret(\"secret\".Sha256()) },\n                AllowedGrantTypes = GrantTypes.Implicit,\n                // RequireConsent =  true,\n                AllowedScopes = new []\n                {\n                    IdentityServerConstants.StandardScopes.OpenId,\n                    IdentityServerConstants.StandardScopes.Profile,\n                    \"singlespa_access\"\n                },\n                AllowAccessTokensViaBrowser = true,\n                RedirectUris = new [] { \"http://localhost:5001/signin-oidc\" }, //mw knows how to handle this.\n                PostLogoutRedirectUris = new []{\"http://localhost:5001/signout-callback-oidc\"}\n            }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>            services.AddIdentityServer()\n            .AddDeveloperSigningCredential(true)\n            .AddInMemoryClients(InMemoryConfiguration.Clients())\n            .AddInMemoryApiResources(InMemoryConfiguration.ApiResources()) // these are now called scopes. API allowed to use auth server.\n            .AddInMemoryIdentityResources(InMemoryConfiguration.IdentityResources())\n            .AddTestUsers(InMemoryConfiguration.Users());\n</code></pre>\n"}, {"tags": ["c#", "excel", "vsto"], "comments": [{"owner": {"reputation": 23462, "user_id": 3077495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZE6fb.png?s=128&g=1", "display_name": "Cindy Meister", "link": "https://stackoverflow.com/users/3077495/cindy-meister"}, "edited": false, "score": 1, "creation_date": 1551333501, "post_id": 54914995, "comment_id": 96603954, "body": "VSTO does not extend Excel in this manner."}, {"owner": {"reputation": 83, "user_id": 6100171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/41e6f18d6fbcbc6e244e3c4f60c015d5?s=128&d=identicon&r=PG&f=1", "display_name": "David Jones", "link": "https://stackoverflow.com/users/6100171/david-jones"}, "reply_to_user": {"reputation": 23462, "user_id": 3077495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZE6fb.png?s=128&g=1", "display_name": "Cindy Meister", "link": "https://stackoverflow.com/users/3077495/cindy-meister"}, "edited": false, "score": 0, "creation_date": 1551337426, "post_id": 54914995, "comment_id": 96605485, "body": "Can it be done with Excel DNA?"}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 0, "creation_date": 1551342883, "post_id": 54914995, "comment_id": 96607830, "body": "Powerpivot sounds like the perfect tool for what you need.  It&#39;s free."}, {"owner": {"reputation": 83, "user_id": 6100171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/41e6f18d6fbcbc6e244e3c4f60c015d5?s=128&d=identicon&r=PG&f=1", "display_name": "David Jones", "link": "https://stackoverflow.com/users/6100171/david-jones"}, "edited": false, "score": 0, "creation_date": 1551343705, "post_id": 54914995, "comment_id": 96608190, "body": "Need something that doesn&#39;t attempt to show many pivot rows of data.  If I have 2 million rows of data, I want to be able to have a cell showing the sum or row count and not see the rows of data."}], "owner": {"reputation": 83, "user_id": 6100171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/41e6f18d6fbcbc6e244e3c4f60c015d5?s=128&d=identicon&r=PG&f=1", "display_name": "David Jones", "link": "https://stackoverflow.com/users/6100171/david-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1551303934, "creation_date": 1551303934, "question_id": 54914995, "link": "https://stackoverflow.com/questions/54914995/vsto-c-cache-data-for-excel", "title": "VSTO C# Cache data for excel", "body": "<p>I want to know if this is possible with vsto.  </p>\n\n<p>Can I create an addin that can cache many records, e.g. more than the excel row count, lets say 2 million (read from a database)... and have a pivot table run off from the data cache?</p>\n\n<p>Any views appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "model-validation"], "comments": [{"owner": {"reputation": 651, "user_id": 5564500, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b981710a9fe70c570a63e4c2a59876b9?s=128&d=identicon&r=PG", "display_name": "Tinaira", "link": "https://stackoverflow.com/users/5564500/tinaira"}, "reply_to_user": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1551303865, "post_id": 54914928, "comment_id": 96596246, "body": "it allows combination of numbers without alphabets"}, {"owner": {"reputation": 5291, "user_id": 3917754, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/WBbll.jpg?s=128&g=1", "display_name": "demo", "link": "https://stackoverflow.com/users/3917754/demo"}, "edited": false, "score": 0, "creation_date": 1551304365, "post_id": 54914928, "comment_id": 96596461, "body": "<code>\\D+\\S</code> maybe something like this?"}, {"owner": {"reputation": 783, "user_id": 1633949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y2kdP.jpg?s=128&g=1", "display_name": "Richard II", "link": "https://stackoverflow.com/users/1633949/richard-ii"}, "edited": false, "score": 0, "creation_date": 1551304431, "post_id": 54914928, "comment_id": 96596493, "body": "when you say &quot;it must have at least one character&quot; do you mean one alphanumeric character, or one alphabetic character?"}, {"owner": {"reputation": 783, "user_id": 1633949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y2kdP.jpg?s=128&g=1", "display_name": "Richard II", "link": "https://stackoverflow.com/users/1633949/richard-ii"}, "edited": false, "score": 1, "creation_date": 1551305088, "post_id": 54914928, "comment_id": 96596745, "body": "You should probably include examples of input that is allowed and not allowed.  The answers you are getting already demonstrates that your question is unclear about what is meant by &quot;character&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 783, "user_id": 1633949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y2kdP.jpg?s=128&g=1", "display_name": "Richard II", "link": "https://stackoverflow.com/users/1633949/richard-ii"}, "edited": false, "score": 1, "creation_date": 1551304761, "post_id": 54915120, "comment_id": 96596625, "body": "OP didn&#39;t say it must <i>start</i> with an alpha character.  This fails on input that starts with a digit.    Try it on  9abcDEF"}], "tags": [], "owner": {"reputation": 750, "user_id": 11078764, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kbElKkbyRl8/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPDUvEbIZcdiAnJw2Kd5HsVMPQCjQ/mo/photo.jpg?sz=128", "display_name": "nissim abehcera", "link": "https://stackoverflow.com/users/11078764/nissim-abehcera"}, "is_accepted": false, "score": 0, "last_activity_date": 1551342451, "last_edit_date": 1551342451, "creation_date": 1551304563, "answer_id": 54915120, "question_id": 54914928, "link": "https://stackoverflow.com/questions/54914928/regex-to-allow-only-alphanumerics-with-at-least-one-character-and-no-empty-space/54915120#54915120", "title": "Regex to allow only alphanumerics with at least one character and no empty space", "body": "<p>Try this regex => <code>^[A-Za-z0-9]+$</code></p>\n\n<p>^ start of line</p>\n\n<p>[A-Za-z0-9]+ any character inside brackets , one or more times</p>\n\n<p>$ end of line</p>\n\n<p>This regex accepts only numbers and alphabetic characters and at least 1 character</p>\n"}, {"comments": [{"owner": {"reputation": 651, "user_id": 5564500, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b981710a9fe70c570a63e4c2a59876b9?s=128&d=identicon&r=PG", "display_name": "Tinaira", "link": "https://stackoverflow.com/users/5564500/tinaira"}, "edited": false, "score": 0, "creation_date": 1551611214, "post_id": 54915178, "comment_id": 96696122, "body": "this works partly, I need also to ignore spaces wherever in the string (start, middle, end)"}], "tags": [], "owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1551627103, "last_edit_date": 1551627103, "creation_date": 1551304814, "answer_id": 54915178, "question_id": 54914928, "link": "https://stackoverflow.com/questions/54914928/regex-to-allow-only-alphanumerics-with-at-least-one-character-and-no-empty-space/54915178#54915178", "title": "Regex to allow only alphanumerics with at least one character and no empty space", "body": "<p>Try Regex: <code>^(?=\\w*[A-Za-z])\\w*$</code></p>\n\n<p><a href=\"https://regex101.com/r/uMvcB1/2\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 651, "user_id": 5564500, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b981710a9fe70c570a63e4c2a59876b9?s=128&d=identicon&r=PG", "display_name": "Tinaira", "link": "https://stackoverflow.com/users/5564500/tinaira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 54915178, "answer_count": 2, "score": -2, "last_activity_date": 1551627103, "creation_date": 1551303674, "last_edit_date": 1551611409, "question_id": 54914928, "link": "https://stackoverflow.com/questions/54914928/regex-to-allow-only-alphanumerics-with-at-least-one-character-and-no-empty-space", "title": "Regex to allow only alphanumerics with at least one character and no empty space", "body": "<p>I keep trying everything from the search result (google) but without success till now.\nFor my username input I want only to allow alphanumerics, without empty spaces and no tabs. The username can have a combination of letters and numbers, but must have at least one character.\nCan someone please share a regex able to do that, and with a bit explanation if some changes are required to be made later on.</p>\n\n<p>Thank you in advance.</p>\n\n<p>edit:\nexamples what should be allowed:\"a012\", \"2342a\", \"anyalpha\", \"abc2xyz\".\nwhat should not be allowed: \"1234123\", \" ace12\", \"any space\", \"space2 \", \" space3\"</p>\n"}, {"tags": ["c#", "rest", "tfs"], "comments": [{"owner": {"reputation": 553, "user_id": 9806096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2503b83446bea433a14b39780ae6009?s=128&d=identicon&r=PG&f=1", "display_name": "J Marlow", "link": "https://stackoverflow.com/users/9806096/j-marlow"}, "edited": false, "score": 0, "creation_date": 1551311389, "post_id": 54914812, "comment_id": 96598725, "body": "Are you using a personal access token to authenticate? If so double check that the token has read and write/update permissions."}, {"owner": {"reputation": 1350, "user_id": 1295134, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/d62bb40c7627aeb42d9700ede48654dd?s=128&d=identicon&r=PG", "display_name": "ff8mania", "link": "https://stackoverflow.com/users/1295134/ff8mania"}, "reply_to_user": {"reputation": 553, "user_id": 9806096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2503b83446bea433a14b39780ae6009?s=128&d=identicon&r=PG&f=1", "display_name": "J Marlow", "link": "https://stackoverflow.com/users/9806096/j-marlow"}, "edited": false, "score": 0, "creation_date": 1551311520, "post_id": 54914812, "comment_id": 96598755, "body": "thanks @JMarlow but that personal access token has already all the permission"}], "answers": [{"tags": [], "owner": {"reputation": 1350, "user_id": 1295134, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/d62bb40c7627aeb42d9700ede48654dd?s=128&d=identicon&r=PG", "display_name": "ff8mania", "link": "https://stackoverflow.com/users/1295134/ff8mania"}, "is_accepted": false, "score": 0, "last_activity_date": 1551368746, "creation_date": 1551368746, "answer_id": 54929438, "question_id": 54914812, "link": "https://stackoverflow.com/questions/54914812/tfs-rest-api-authorizing-get-but-not-patch/54929438#54929438", "title": "TFS rest api authorizing GET but not PATCH", "body": "<p>After a lot of trying, I found out that the solution is pretty easy.</p>\n\n<p>To make it work from the Authentication point of view, it's enough to use the <strong>NtlmAuthenticator</strong> (with Username and password) instead of the HttpBasicAuthenticator (even though is working for the get).\nI replaced my authenticator with NtlmAuthenticator for both get and patch and now is working fine.</p>\n\n<pre><code>var client = new RestClient(uri);\nclient.Authenticator = new NtlmAuthenticator(this.TFSUsername, this.TFSPassword);\n</code></pre>\n\n<p>The other tricky part that I found out (not precisely linked to the authentication) is that for the PATCH the content type has to be <strong>application/json-patch+json</strong></p>\n\n<p>Hope it helps</p>\n"}], "owner": {"reputation": 1350, "user_id": 1295134, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/d62bb40c7627aeb42d9700ede48654dd?s=128&d=identicon&r=PG", "display_name": "ff8mania", "link": "https://stackoverflow.com/users/1295134/ff8mania"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1551368853, "creation_date": 1551303126, "last_edit_date": 1551368853, "question_id": 54914812, "link": "https://stackoverflow.com/questions/54914812/tfs-rest-api-authorizing-get-but-not-patch", "title": "TFS rest api authorizing GET but not PATCH", "body": "<p>I'm trying to change the status for a work item using the rest API provided by my TFS 2015 Update 3 (on premises).\nWhen I try to get the list of my items, everything works fine:</p>\n\n<pre><code>var client = new RestClient(uri);\nclient.Authenticator = new HttpBasicAuthenticator(this.TFSUsername, this.SecurityToken);\nvar request = new RestRequest(Method.GET);\nrequest.AddHeader(\"cache-control\", \"no-cache\");\n\nIRestResponse response = client.Execute(request);\n</code></pre>\n\n<p>After I get this answer and I have all the information I need, I was going to update the status of one of these work items.</p>\n\n<p>Using the same approach (and of course, the same credential), I'm getting the 401 status code, <strong>as I was trying to do it anonymously</strong>.</p>\n\n<p>The only difference is that I'm using the verb PATCH (as documentation said I have to) and that I'm passing a body to identify what status I want to edit.</p>\n\n<p>This is the code I'm using for the edit:</p>\n\n<pre><code>var client = new RestClient(uri);\nclient.Authenticator = new HttpBasicAuthenticator(this.TFSUsername, this.SecurityToken);\nvar request = new RestRequest(Method.PATCH);\nrequest.AddHeader(\"cache-control\", \"no-cache\");\n\nstring body = @\"\n  {\n   'op':'add',\n   'path':'/fields/System.State',\n   'value':'Closed'\n  }\";\nrequest.AddJsonBody(body);\nIRestResponse response = client.Execute(request);\n</code></pre>\n\n<p>Any hints on why just changing the HTTP VERB is causing me this authorization issue?</p>\n\n<p>Trying to do it with Postman is causing me the same issue.</p>\n\n<p>UPDATE:</p>\n\n<p>looking at the response header, I noticed this:</p>\n\n<pre><code>X-TFS-ProcessId \u2192e2b98235-1d3a-4bb7-868f-0d91805aa307\nActivityId \u219208909688-ac81-4c37-9cea-b47e84fd3efe\nX-TFS-Session \u219208909688-ac81-4c37-9cea-b47e84fd3efe\nX-VSS-E2EID \u219208909688-ac81-4c37-9cea-b47e84fd3efe\nX-FRAME-OPTIONS \u2192SAMEORIGIN\nWWW-Authenticate \u2192Basic realm=\"http://xxxxxxx/tfs\"\nWWW-Authenticate \u2192Negotiate\nWWW-Authenticate \u2192NTLM\nX-Powered-By \u2192ASP.NET\nP3P \u2192CP=\"CAO DSP COR ADMa DEV CONo TELo CUR PSA PSD TAI IVDo OUR SAMi BUS DEM NAV STA UNI COM INT PHY ONL FIN PUR LOC CNT\"\nLfs-Authenticate \u2192NTLM\nX-Content-Type-Options \u2192nosniff\nDate \u2192Thu, 28 Feb 2019 00:20:57 GMT\nContent-Length \u21920\n</code></pre>\n\n<p>What caught my attention was:</p>\n\n<p><strong>WWW-Authenticate \u2192Basic realm=\"http://xxxxxxx/tfs\"</strong></p>\n\n<p><strong>WWW-Authenticate \u2192Negotiate</strong></p>\n\n<p><strong>WWW-Authenticate \u2192NTLM</strong></p>\n\n<p>So it would support Basic authentication as the Get, but is not working. Are \"Negotiate\" and \"NTLM\" interfere somehow?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "wpf", "winforms", "richtextbox", "rtf"], "comments": [{"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 1, "creation_date": 1551311134, "post_id": 54914749, "comment_id": 96598664, "body": "Try to insert a PNG image in a WinForms&#39; RichTextBox. You&#39;ll probably have more luck pasting from the Clipboard. When you do, see the format that is actually pasted in. You&#39;ll probably see <code>\\wmetafile8</code>. Without embedding the image in a metafile (WMF), the bitmap is probably just ignored."}], "owner": {"reputation": 2038, "user_id": 108040, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1d2a8a488fc2c72fb1546abef14ce41?s=128&d=identicon&r=PG", "display_name": "Robin", "link": "https://stackoverflow.com/users/108040/robin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551302755, "creation_date": 1551302755, "question_id": 54914749, "link": "https://stackoverflow.com/questions/54914749/rtf-string-with-image-from-wpf-richtextbox-wont-display-in-winforms-richtextbox", "title": "RTF string with image from WPF RichTextBox won&#39;t display in WinForms RichTextBox", "body": "<p>The RTF string below contains an image and was created from a WPF RichTextBox. When I set the RTF string below to a WinForms RichTextBox.Rtf property the image is not displayed. How can I get the image to show in the WinForms RichTextBox?</p>\n\n<p>Here is the code to create the RTF string from the WPF RichTextBox:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>  private static string ExportRtf(RichTextBox richTextBox)\n  {\n     var document = richTextBox.Document;\n     var r = new TextRange(document.ContentStart, document.ContentEnd);\n     using (var stream = new MemoryStream())\n     {\n        r.Save(stream, DataFormats.Rtf);\n        return encoding.GetString(stream.ToArray());\n     }\n  }\n</code></pre>\n\n<p>Here is the WPF RichTextBox display:</p>\n\n<p><a href=\"https://i.stack.imgur.com/r2Qwf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r2Qwf.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the WinForms RichTextBox display:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Wkaxz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wkaxz.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the RTF string:</p>\n\n<pre><code>{\\rtf1\\ansi\\ansicpg1252\\uc1\\htmautsp\\deff2{\\fonttbl{\\f0\\fcharset0 Times New Roman;}{\\f2\\fcharset0 Calibri;}}{\\colortbl\\red0\\green0\\blue0;\\red255\\green255\\blue255;}\\loch\\hich\\dbch\\pard\\plain\\ltrpar\\itap0{\\lang1033\\fs21\\f2\\cf0 \\cf0\\ql{\\f2 {\\ltrch help}{\\ltrch {\\*\\shppict{\\pict\\picwgoal435\\pichgoal300\\pngblip\n424d460900000000000036000000280000001d00000014000000010020000000000000000000c40e0000c40e00000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff358f3aff358f3aff358f3aff358f3aff358f3aff358f3aff358f3aff358f3aff358f3aff358f3aff358f3aff358f3aff358f3aff358f3affffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff358f3afff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8ff358f3affffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe4a421ffe4a421ffe4a421ffe4a421ffe4a421ffffffffffffffffff358f3afff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8ff358f3affffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe4a421ffe4a421fff8f8f8ffe4a421ffe4a421ffffffffffffffffff358f3afff8f8f8fff8f8f8ff9e9e9fff444444ff444444ffbfbfc0fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8ff358f3affffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe4a421ffe4a421fff8f8f8ffe4a421ffe4a421ffffffffffffffffff358f3afff8f8f8ff9e9e9fff444444ffedededfff8f8f8ffe1e1e2fff8f8f8ff444444fff8f8f8ff444444fff8f8f8fff8f8f8ff358f3affffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe4a421ffe4a421ffe4a421ffe4a421ffe4a421ffffffffffffffffff358f3afff8f8f8ff444444ffcbcbccfff8f8f8fff8f8f8fff8f8f8ff444444ff444444ff444444ff444444ff444444fff8f8f8ff358f3affffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff358f3afff8f8f8ff444444ffcbcbccfff8f8f8fff8f8f8fff8f8f8fff8f8f8ff444444fff8f8f8ff444444fff8f8f8fff8f8f8ff358f3affffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe6b145ffeed49efff9f7f2ffefd6a4ffe5ad39fffdfefdffffffffff358f3afff8f8f8ffb4b4b5ff444444ffedededfff8f8f8ffe1e1e2ff444444ff444444ff444444ff444444ff444444fff8f8f8ff358f3afffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff5ead5ffe7b44cffe3a525ffe6b248fff3e7cdffffffffffffffffff358f3afff8f8f8fff8f8f8ffb4b4b5ff444444ff444444ffb4b4b5fff8f8f8ff444444fff8f8f8ff444444fff8f8f8fff8f8f8ff358f3affffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff358f3afff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8ff358f3affffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff358f3afff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8fff8f8f8ff358f3affffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff358f3aff358f3aff358f3aff358f3aff358f3aff358f3aff358f3aff358f3aff358f3aff358f3aff358f3aff358f3aff358f3aff358f3affffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff}}}\\li0\\ri0\\sa0\\sb0\\fi0\\ql\\par}\n}\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asynchronous", "async-await"], "comments": [{"owner": {"reputation": 11572, "user_id": 1950321, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rLmaR.jpg?s=128&g=1", "display_name": "James Sampica", "link": "https://stackoverflow.com/users/1950321/james-sampica"}, "edited": false, "score": 1, "creation_date": 1551302717, "post_id": 54914719, "comment_id": 96595748, "body": "check out <a href=\"https://www.hangfire.io/\" rel=\"nofollow noreferrer\">hangfire.io</a> seems to do what you want"}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1551302924, "post_id": 54914719, "comment_id": 96595840, "body": "How often should the cache be refreshed?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 2, "creation_date": 1551303945, "post_id": 54914719, "comment_id": 96596286, "body": "Very unclear what you are asking for - there is no code shown in the post that will cancel the <code>readFromWebTask</code> task... so eventually it will finish in some way... which sound exactly behavior you want. So could you please clarify what you still missing of current behavior? (obviously letting tasks run past request completion is dangerous, but it does not look like you have problems with that)"}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 1, "creation_date": 1551304486, "post_id": 54914719, "comment_id": 96596518, "body": "ASP.NET Classic already has a task collection that even ties into lifetime services: <code>HostingEnvironment.QueueBackgroundWorkItem</code>. But as Alexei pointed out, the code <i>already does</i> what you&#39;re asking for it to do; you don&#39;t need the task collection, whether built-in or custom."}, {"owner": {"reputation": 30188, "user_id": 3218692, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4pA4T.jpg?s=128&g=1", "display_name": "Yeldar Kurmangaliyev", "link": "https://stackoverflow.com/users/3218692/yeldar-kurmangaliyev"}, "edited": false, "score": 0, "creation_date": 1551308683, "post_id": 54914719, "comment_id": 96597992, "body": "Just as an experiment: what if you do <code>Task a = DelayAndLog().ConfigureAwait(false);</code>? Does it still write only Foo to the file?"}, {"owner": {"reputation": 1511, "user_id": 2138811, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wbUeG.jpg?s=128&g=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/2138811/tony"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1551312811, "post_id": 54914719, "comment_id": 96599066, "body": "@Alexei and @Stephen: That is the assumption I had initially.  However in runtime, ASP.NET does not let <code>readFromWebTask</code> to complete to the end.  Please see the clarification I have added."}, {"owner": {"reputation": 1511, "user_id": 2138811, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wbUeG.jpg?s=128&g=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/2138811/tony"}, "reply_to_user": {"reputation": 11572, "user_id": 1950321, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rLmaR.jpg?s=128&g=1", "display_name": "James Sampica", "link": "https://stackoverflow.com/users/1950321/james-sampica"}, "edited": false, "score": 0, "creation_date": 1551314640, "post_id": 54914719, "comment_id": 96599486, "body": "@Shoe: Thanks for the suggestion. HangFire seems to be a nice library, but it is heavy duty.  I can use <code>Task.When</code> to be notified when the web task is complete or it is time out.  However, HangFire does not have an easy for me to do the same thing.  Moreover, I want to avoid creating a new thread for each request."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1551319129, "post_id": 54914719, "comment_id": 96600450, "body": "You are looking for <a href=\"https://stackoverflow.com/questions/40639255/asp-net-mvc-5-long-running-task-how-to-ensure-that-worker-thread-wont-be-th\" title=\"asp net mvc 5 long running task how to ensure that worker thread wont be th\">stackoverflow.com/questions/40639255/&hellip;</a> and links from it. And check <a href=\"https://stackoverflow.com/questions/29938522/difference-between-task-run-and-queuebackgroundworkitem-in-asp-net\" title=\"difference between task run and queuebackgroundworkitem in asp net\">stackoverflow.com/questions/29938522/&hellip;</a>"}, {"owner": {"reputation": 1511, "user_id": 2138811, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wbUeG.jpg?s=128&g=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/2138811/tony"}, "reply_to_user": {"reputation": 30188, "user_id": 3218692, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4pA4T.jpg?s=128&g=1", "display_name": "Yeldar Kurmangaliyev", "link": "https://stackoverflow.com/users/3218692/yeldar-kurmangaliyev"}, "edited": false, "score": 0, "creation_date": 1551401804, "post_id": 54914719, "comment_id": 96637078, "body": "@Yeldar:  It has the same behavior after I changed the code to <code>DelayAndLog().ConfigureAwait(false);</code>.  However, Bar is written to the file if I change the code to <code>Task.Delay(2000).ConfigureAwait(false);</code>  I found this <a href=\"https://blogs.msdn.microsoft.com/benwilli/2017/02/09/an-alternative-to-configureawaitfalse-everywhere/\" rel=\"nofollow noreferrer\">article</a> is helpful for understanding ConfigureAwait."}], "owner": {"reputation": 1511, "user_id": 2138811, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wbUeG.jpg?s=128&g=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/2138811/tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1551307850, "creation_date": 1551302630, "last_edit_date": 1551307850, "question_id": 54914719, "link": "https://stackoverflow.com/questions/54914719/keep-an-async-task-to-continue-exeuction-after-result-is-returned-asp-net", "title": "Keep an async task to continue exeuction after result is returned (ASP.NET)", "body": "<p>I am building an ASP.NET application.  The application displays result from a third-party WebAPI.  If the WebAPI takes more than 2 seconds, it will return the cached result.  </p>\n\n<p>The code below creates two <code>async</code> tasks, one for calling the WebAPI and one for retrieving from the cache.  It also has a timer task.  If the web task completes in less than 2 seconds, its result is returned.  If the timer task ends first or the web task has an exception, the cached result is returned.  The code runs so far so good.  </p>\n\n<pre><code>public async Task&lt;ActionResult&gt; Index()\n{\n    Task&lt;string&gt; readFromCacheTask = ReadFromCacheAsync();\n    Task&lt;string&gt; readFromWebTask = ReadFromWebAsync();\n\n    try\n    {\n        Task timerTask = Task.Delay(2000);\n        Task completedTask = await Task.WhenAny(readFromWebTask, timerTask);\n        await completedTask;\n        if (readFromWebTask.Status == TaskStatus.RanToCompletion)\n        {\n            return Content(readFromWebTask.Result);\n        }\n    }\n    catch (Exception)\n    {\n        // Return cache result if there is an error getting from web.\n    }\n    return Content(await readfromCacheTask);\n}\n</code></pre>\n\n<p><strong>Question</strong>: What I want in addition is allowing the web task to continue running even after the cached result is returned to the caller so that an updated web result will be cached and will be available for the next caller.  </p>\n\n<p>What I have in mind is spawning an async background thread using <code>Task.Run</code> in <code>Application_Start</code>.  The thread contains a task collection and runs in a continuous loop.  When the controller is called, it creates a readFromWebTask and adds it to the task collection in the background thread.</p>\n\n<p>Is this a good approach?  Are there better ways to achieve?  </p>\n\n<p><strong>Clarification @2019-02-27 14:46</strong>: The readFromWebTask contains the logic for updating the cache.  From the run-time observation, ASP.NET does not let readFromWebTask to run past the request completion.  The task was aborted and did not run to the end.  In following example, only Foo was written in the text file.  Bar is not there.</p>\n\n<pre><code>public class HomeController : Controller\n{\n    public async Task DelayAndLog()\n    {\n        string path = @\"C:\\temp\\test.txt\";\n        System.IO.File.AppendAllText(path, string.Format(\"{0}: Foo\", DateTime.Now));\n        await Task.Delay(2000);\n        System.IO.File.AppendAllText(path, string.Format(\"{0}: Bar\", DateTime.Now));\n    }\n\n\n    public async Task&lt;ActionResult&gt; Index()\n    {\n        Task a = DelayAndLog();\n        await Task.Delay(1);\n        return Content(\"Hello World\");\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-core", "asp.net-core-webapi"], "comments": [{"owner": {"reputation": 3377, "user_id": 2348125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vc2jx.png?s=128&g=1", "display_name": "rad", "link": "https://stackoverflow.com/users/2348125/rad"}, "edited": false, "score": 0, "creation_date": 1551303463, "post_id": 54914704, "comment_id": 96596058, "body": "Do you also have a default MapRoute?"}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "reply_to_user": {"reputation": 3377, "user_id": 2348125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vc2jx.png?s=128&g=1", "display_name": "rad", "link": "https://stackoverflow.com/users/2348125/rad"}, "edited": false, "score": 0, "creation_date": 1551303547, "post_id": 54914704, "comment_id": 96596096, "body": "@rad I do not at the moment, as I am hoping to make this the default."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 3987426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33b5bbc7dc774eb06324a3eb0bccdec5?s=128&d=identicon&r=PG", "display_name": "Rachel R.", "link": "https://stackoverflow.com/users/3987426/rachel-r"}, "reply_to_user": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1551365314, "post_id": 54915295, "comment_id": 96621145, "body": "Can you share the URL you are using? Hard to give you more help without sharing that."}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1551383677, "post_id": 54915295, "comment_id": 96630974, "body": "I posted above, I\u2019d like to do api/devices/sampler/8"}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1551463730, "post_id": 54915295, "comment_id": 96662970, "body": "Appreciate the update, I forgot to add the <code>GetSampler</code> that was my fault.  But that should exists.  Really I want to use <code>api&#47;devices&#47;sampler&#47;getsampler&#47;8</code> which does not work still.  Where if I do the default route, without <code>MapAreaRoute</code> I can make it work."}], "tags": [], "owner": {"reputation": 113, "user_id": 3987426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33b5bbc7dc774eb06324a3eb0bccdec5?s=128&d=identicon&r=PG", "display_name": "Rachel R.", "link": "https://stackoverflow.com/users/3987426/rachel-r"}, "is_accepted": false, "score": 2, "last_activity_date": 1551387015, "last_edit_date": 1551387015, "creation_date": 1551305433, "answer_id": 54915295, "question_id": 54914704, "link": "https://stackoverflow.com/questions/54914704/issue-with-area-route-in-asp-net-core-2-2/54915295#54915295", "title": "Issue with area route in Asp.Net Core 2.2", "body": "<p>You need to define the area this controller belongs in by using an attribute <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/controllers/areas?view=aspnetcore-2.2#associate-the-controller-with-an-area\" rel=\"nofollow noreferrer\">per the docs</a>.</p>\n\n<pre><code>    [Area(\"Products\")]\n    public class ManageController : Controller\n</code></pre>\n\n<p>Update:\nAlso you defined <code>api/{area:exists}/{controller}/{action}/{id?}</code> as your route and per your comment you are trying <code>api/devices/sampler/8</code>. So using your route as a guide your URL should be <code>api/devices/sampler/GetSamples/8</code>. You need to include the action name in the url since that is how its laid out in your route: <code>api/{area:exists}/{controller}/{action}/{id?}</code></p>\n"}], "owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551457174, "creation_date": 1551302554, "last_edit_date": 1551457174, "question_id": 54914704, "link": "https://stackoverflow.com/questions/54914704/issue-with-area-route-in-asp-net-core-2-2", "title": "Issue with area route in Asp.Net Core 2.2", "body": "<p>Inside my application I appear to have an issue with my route.  I cannot determine why the route would be failing.  The solution contains a controller that derives from the <code>[ApiController]</code> to adhere to Web Api standards.</p>\n\n<pre><code>Area &gt; &gt; &gt; Devices &gt; &gt; &gt; Sampler (Controller)\n/api/Devices/Sampler/GetSamples/1\n{area:exists}/{controller}/{action}/{id?}\n</code></pre>\n\n<p>My notion that the third line template would correlate representing the first and second line when <code>MapAreaRoute</code> is utilized.</p>\n\n<pre><code>application.UseMvc(routes =&gt;\n{\n     routes.MapAreaRoute(\n          name: \"Device Route\",\n          areaName: \"Devices\",\n          template: \"api/{area:exists}/{controller}/{action}/{id?}\n     );\n}\n</code></pre>\n\n<p>Even if I remove <code>api</code> from template, specify the area, controller, and action I still receive a 404.  </p>\n\n<pre><code>[ApiController]\n[Area(\"Devices\")]\n[Route(\"api/[controller]\")]\npublic class SamplerController : ControllerBase\n{\n     [HttpGet(\"{id}\")]\n     public JsonResult GetSamples(Guid id) =&gt; new JsonResult(\"...\");\n}\n</code></pre>\n\n<p>Could someone elaborate on why the area does not work?  If I create a directory called Controllers, then use <code>MapRoute</code> with the same above code the route works as intended.  </p>\n"}, {"tags": ["c#", "windows", "bluetooth", "32feet"], "comments": [{"owner": {"reputation": 741, "user_id": 5429584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vvb2K.jpg?s=128&g=1", "display_name": "Mike Petrichenko", "link": "https://stackoverflow.com/users/5429584/mike-petrichenko"}, "edited": false, "score": 1, "creation_date": 1551303301, "post_id": 54914630, "comment_id": 96595987, "body": "It is correct behaviour for MS drivers. In order to resolve this you have to process some WM_DEVICECHANGE message in your application (Refer to MSDN: Bluetooth and WM_DEVICECHANGE). Bluetooth sends this message to the subscribed applications when device name is resolved. In is the similar to reading empty device name issue."}, {"owner": {"reputation": 23, "user_id": 4098073, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002127928112/picture?type=large", "display_name": "Ashok Palakurthi", "link": "https://stackoverflow.com/users/4098073/ashok-palakurthi"}, "reply_to_user": {"reputation": 741, "user_id": 5429584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vvb2K.jpg?s=128&g=1", "display_name": "Mike Petrichenko", "link": "https://stackoverflow.com/users/5429584/mike-petrichenko"}, "edited": false, "score": 0, "creation_date": 1551391717, "post_id": 54914630, "comment_id": 96634440, "body": "Thanks @mike-petrichenko, I downloaded your framework for Demo and when tested with your framework it is working Perfect. I mean even though I change the name of the Bluetooth device, with your Demo application if I discover, it is giving correct blue tooth device name(i mean the new updated name). I assume your framework might be using these WM_DEVICECHANGE  messages. I will try to use them and see if I can make any progress. Thanks a lot:)"}, {"owner": {"reputation": 741, "user_id": 5429584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vvb2K.jpg?s=128&g=1", "display_name": "Mike Petrichenko", "link": "https://stackoverflow.com/users/5429584/mike-petrichenko"}, "edited": false, "score": 0, "creation_date": 1551425237, "post_id": 54914630, "comment_id": 96642782, "body": "You are welcome."}, {"owner": {"reputation": 23, "user_id": 4098073, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002127928112/picture?type=large", "display_name": "Ashok Palakurthi", "link": "https://stackoverflow.com/users/4098073/ashok-palakurthi"}, "reply_to_user": {"reputation": 741, "user_id": 5429584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vvb2K.jpg?s=128&g=1", "display_name": "Mike Petrichenko", "link": "https://stackoverflow.com/users/5429584/mike-petrichenko"}, "edited": false, "score": 0, "creation_date": 1551463789, "post_id": 54914630, "comment_id": 96662999, "body": "@mike-petrichenko NativeMethods.DEV_BROADCAST_DEVICEINTERFACE deviceInterface = new NativeMethods.DEV_BROADCAST_DEVICEINTERFACE(); int size = Marshal.SizeOf(deviceInterface); deviceInterface.dbcc_size = size; deviceInterface.dbcc_devicetype = NativeMethods.DBT_DEVTYP_DEVICEINTERFACE; IntPtr buffer = default(IntPtr); buffer = Marshal.AllocHGlobal(size); Marshal.StructureToPtr(deviceInterface, buffer, true); NativeMethods.RegisterDeviceNotification(radiohandle, buffer, NativeMethods.DEVICE_NOTIFY_SERVICE_HANDLE | NativeMethods.DEVICE_NOTIFY_ALL_INTERFACE_CLASSES);"}, {"owner": {"reputation": 23, "user_id": 4098073, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002127928112/picture?type=large", "display_name": "Ashok Palakurthi", "link": "https://stackoverflow.com/users/4098073/ashok-palakurthi"}, "reply_to_user": {"reputation": 741, "user_id": 5429584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vvb2K.jpg?s=128&g=1", "display_name": "Mike Petrichenko", "link": "https://stackoverflow.com/users/5429584/mike-petrichenko"}, "edited": false, "score": 0, "creation_date": 1551463948, "post_id": 54914630, "comment_id": 96663056, "body": "@mike-petrichenko  I registered for the device notification like above, then Do I need to write windows message pump handler to get receive and process the messages?"}, {"owner": {"reputation": 741, "user_id": 5429584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vvb2K.jpg?s=128&g=1", "display_name": "Mike Petrichenko", "link": "https://stackoverflow.com/users/5429584/mike-petrichenko"}, "edited": false, "score": 1, "creation_date": 1551471825, "post_id": 54914630, "comment_id": 96666299, "body": "You should use DEV_BROADCAST_DEVICEHANDLE. But the first step you have to use BluetoothFindFirstRadio() function to get Bluetooth Radio driver object handle and use this handle in RegisterDeviceNotification() function to subscribe to notifications."}, {"owner": {"reputation": 741, "user_id": 5429584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vvb2K.jpg?s=128&g=1", "display_name": "Mike Petrichenko", "link": "https://stackoverflow.com/users/5429584/mike-petrichenko"}, "edited": false, "score": 1, "creation_date": 1551471932, "post_id": 54914630, "comment_id": 96666346, "body": "I am not sure if that works with DEVICE_NOTIFY_SERVICE_HANDLE. If yes, then you do not need message pump. If no then you need message pump."}, {"owner": {"reputation": 23, "user_id": 4098073, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002127928112/picture?type=large", "display_name": "Ashok Palakurthi", "link": "https://stackoverflow.com/users/4098073/ashok-palakurthi"}, "reply_to_user": {"reputation": 741, "user_id": 5429584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vvb2K.jpg?s=128&g=1", "display_name": "Mike Petrichenko", "link": "https://stackoverflow.com/users/5429584/mike-petrichenko"}, "edited": false, "score": 0, "creation_date": 1551708851, "post_id": 54914630, "comment_id": 96727770, "body": "Thank you @mike-petrichenko  Do  I need to assign any guid for devHandle.dcbh_eventguid ? what is that Guid value."}, {"owner": {"reputation": 23, "user_id": 4098073, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002127928112/picture?type=large", "display_name": "Ashok Palakurthi", "link": "https://stackoverflow.com/users/4098073/ashok-palakurthi"}, "reply_to_user": {"reputation": 741, "user_id": 5429584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vvb2K.jpg?s=128&g=1", "display_name": "Mike Petrichenko", "link": "https://stackoverflow.com/users/5429584/mike-petrichenko"}, "edited": false, "score": 0, "creation_date": 1551708936, "post_id": 54914630, "comment_id": 96727816, "body": "IntPtr findhandle = NativeMethods.BluetoothFindFirstRadio(ref bfrp, out handle); NativeMethods.DEV_BROADCAST_DEVICEHANDLE devHandle = new NativeMethods.DEV_BROADCAST_DEVICEHANDLE(); devHandle.dbch_size = (uint)Marshal.SizeOf(devHandle); devHandle.dbch_devicetype = NativeMethods.DBT_DEVTYP_HANDLE; IntPtr buffer = default(IntPtr); buffer = Marshal.AllocHGlobal(Marshal.SizeOf(devHandle)); Marshal.StructureToPtr(devHandle, buffer, true); IntPtr testIntPtr = NativeMethods.RegisterDeviceNotification(handle, ref devHandle, 0);"}], "owner": {"reputation": 23, "user_id": 4098073, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002127928112/picture?type=large", "display_name": "Ashok Palakurthi", "link": "https://stackoverflow.com/users/4098073/ashok-palakurthi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551302197, "creation_date": 1551302197, "question_id": 54914630, "link": "https://stackoverflow.com/questions/54914630/blue-tooth-discover-is-giving-old-name-if-i-discover-after-bluetooth-device-rena", "title": "Blue Tooth Discover is giving old name if I discover after bluetooth device rename", "body": "<p>I am using 32 feet library to connect and discover Bluetooth devices.\nIf I rename my bluetooth device name, after that if I try to discover, its giving me old name.</p>\n\n<p>1)Connect to bluetooh device1.\n2)Disconnect to bluetooh device1.\n3)Rename bluetoothdevice1 to bluetoothdevice2.\n4)If I discover now, I am getting bluetoothdevice1, I do second discover again I am getting bluetoothdevice2.</p>\n\n<p>Not sure it is the issue with 32feet or windows.Is it caching somewhere in the system and it is returning it?</p>\n"}, {"tags": ["c#", "azure-functions", "appsettings"], "owner": {"reputation": 1239, "user_id": 4966168, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8b5db65772a2e611438a2345814709bc?s=128&d=identicon&r=PG&f=1", "display_name": "toshiomagic", "link": "https://stackoverflow.com/users/4966168/toshiomagic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1551336982, "creation_date": 1551301731, "question_id": 54914528, "link": "https://stackoverflow.com/questions/54914528/randomly-inaccessible-app-settings-in-azure-function-local-settings-json", "title": "Randomly inaccessible app settings in azure function local.settings.json", "body": "<p>I have an azure function with an app setting in the local.settings.json file. Sometimes when I start my function to debug, I get to a line to retrieve the setting and it is null. Other times it is the string from the json. There doesn't seem to be a rhyme or reason to it. Is there a way to force it to get the correct value every time? Is it some race condition when the debugger attaches?</p>\n\n<p>My Function code:</p>\n\n<pre><code>[FunctionName(\"MyAzureFunction\")]\npublic static async Task&lt;HttpResponseMessage&gt; Run([HttpTrigger(AuthorizationLevel.Function, \"post\", Route = null)]HttpRequestMessage req, TraceWriter log)\n{\n    // this string is null sometimes, sometimes not\n    var baseApiString = ConfigurationManager.AppSettings[\"ApiBaseUrl\"];\n\n    //...more code\n}\n</code></pre>\n\n<p>My local.settings.json file:</p>\n\n<pre><code>{\n    \"IsEncrypted\": false,\n    \"Values\": {\n        \"ApiBaseUrl\": \"http://myurl.api.local/\"\n    }\n}\n</code></pre>\n\n<p>Using Azure 2.9</p>\n"}, {"tags": ["c#", ".net", "windows", "winforms", "propertygrid"], "comments": [{"owner": {"reputation": 363, "user_id": 7576532, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QSGdx.jpg?s=128&g=1", "display_name": "schulmaster", "link": "https://stackoverflow.com/users/7576532/schulmaster"}, "edited": false, "score": 0, "creation_date": 1551305556, "post_id": 54914511, "comment_id": 96596920, "body": "Have you tried subscribing to the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.propertygrid.selectedobjectschanged?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">SelectedObjectsChanged</a> event, and repositioning there?"}, {"owner": {"reputation": 627, "user_id": 3233467, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/600526326/picture?type=large", "display_name": "Cliff", "link": "https://stackoverflow.com/users/3233467/cliff"}, "reply_to_user": {"reputation": 363, "user_id": 7576532, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QSGdx.jpg?s=128&g=1", "display_name": "schulmaster", "link": "https://stackoverflow.com/users/7576532/schulmaster"}, "edited": false, "score": 0, "creation_date": 1551307142, "post_id": 54914511, "comment_id": 96597494, "body": "@schulmaster Yes."}], "answers": [{"comments": [{"owner": {"reputation": 627, "user_id": 3233467, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/600526326/picture?type=large", "display_name": "Cliff", "link": "https://stackoverflow.com/users/3233467/cliff"}, "edited": false, "score": 1, "creation_date": 1551406435, "post_id": 54916897, "comment_id": 96638096, "body": "Beautifully explained and works perfectly. Thanks much!"}], "tags": [], "owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "is_accepted": true, "score": 2, "last_activity_date": 1551324437, "last_edit_date": 1551324437, "creation_date": 1551316283, "answer_id": 54916897, "question_id": 54914511, "link": "https://stackoverflow.com/questions/54914511/propertygrid-scroll-position-not-changing-when-set/54916897#54916897", "title": "PropertyGrid scroll position not changing when set", "body": "<p>The <code>VerticalScroll</code> property is not relevant for the PropertyGrid class. It references the internal properties of the <strong><code>VScrollBar</code></strong> control. The Scroll event is never rised.<br>\nThe <code>VScrollBar</code> is child of the <strong><code>System.Windows.Forms.PropertyGridInternal.PropertyGridView</code></strong> control, a class that is not directly accessible.  </p>\n\n<p>You can get it anyway, casting PropertyGrid to Control or ignoring the <code>Browsable(false)</code> attribute of the PropertyGrid's <code>Controls</code> property, then find the <code>VScrollBar</code> child, store the current value then set it again after you have changed the <code>SelectedObject</code> property.<br>\nNote that this new Control can have a different number of properties than the previous, the Scroll bar will just be set where it was before.<br>\nTo be more <em>precise</em>, you could get the number of properties shown before and after the new <code>SelectedObject</code> is set and perform a <em>relative</em> scroll.  </p>\n\n<p>Here, I find the <code>PropertyGridView</code> by its <strong><code>AccessibilityObject.Role</code></strong> which is <code>AccessibleRole.Table</code>, but you can also find it by its Text (<code>\"PropertyGridView\"</code>):  </p>\n\n<pre><code>var vScroll = propertyGrid1.Controls.OfType&lt;Control&gt;()\n                           .Where(ctl =&gt; ctl.AccessibilityObject.Role == AccessibleRole.Table)\n                           .First().Controls.OfType&lt;VScrollBar&gt;().First();\nvar vScrollValue = vScroll.Value;\npropertyGrid1.SelectedObject = [Some Other Object];\nvScroll.Value = vScrollValue;\n</code></pre>\n\n<p>If you want (as previously described), reposition the scroll bar in the same relative position, the code might become:  </p>\n\n<pre><code>BindingFlags flags = BindingFlags.NonPublic | BindingFlags.Instance;\nvar propGrid = propertyGrid1.Controls.OfType&lt;Control&gt;()\n                            .Where(ctl =&gt; ctl.AccessibilityObject.Role == AccessibleRole.Table).First();\nvar totalProperties = (int)propGrid.GetType().GetField(\"totalProps\", flags).GetValue(propGrid);\nvar vScroll = propertyGrid1.Controls.OfType&lt;Control&gt;()\n                           .Where(ctl =&gt; ctl.AccessibilityObject.Role == AccessibleRole.Table)\n                           .First().Controls.OfType&lt;VScrollBar&gt;().First();\n\nvar vRelativeScroll = vScroll.Value / (float)totalProperties;\npropertyGrid1.SelectedObject = [Some Other Object];\ntotalProperties = (int)propGrid.GetType().GetField(\"totalProps\", flags).GetValue(propGrid);\nvScroll.Value = (int)(vRelativeScroll * totalProperties);\n</code></pre>\n"}], "owner": {"reputation": 627, "user_id": 3233467, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/600526326/picture?type=large", "display_name": "Cliff", "link": "https://stackoverflow.com/users/3233467/cliff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 54916897, "answer_count": 1, "score": 2, "last_activity_date": 1551324437, "creation_date": 1551301673, "question_id": 54914511, "link": "https://stackoverflow.com/questions/54914511/propertygrid-scroll-position-not-changing-when-set", "title": "PropertyGrid scroll position not changing when set", "body": "<p>I have a <code>PropertyGrid</code> in a Windows Forms application. Whenever its <code>SelectedObject</code> changes, it resets its <code>VerticalScroll</code> value to 0. I need it to remain where it was. The code below doesn't seem to do anything. I've tried <code>PerformLayout</code> and a bunch of other solutions with no success. Any ideas?</p>\n\n<pre><code>int pos = MyGrid.VerticalScroll.Value;\nMyGrid.SelectedObject = SomeDifferentObject;\nMyGrid.VerticalScroll.Value = pos;\n</code></pre>\n"}, {"tags": ["c#", ".net", "wpf", "optimization", "datagrid"], "comments": [{"owner": {"reputation": 319, "user_id": 2320942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f429c4e4078f92da8112933a2a3d3e0c?s=128&d=identicon&r=PG", "display_name": "Alok Saini", "link": "https://stackoverflow.com/users/2320942/alok-saini"}, "edited": false, "score": 0, "creation_date": 1551301856, "post_id": 54914498, "comment_id": 96595357, "body": "there is not a single list, multiple data lists can be created so that data can be compared visually in diffrent datagrid windows."}, {"owner": {"reputation": 3724, "user_id": 967885, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d024fba65c96618ea159a6962f3a0e59?s=128&d=identicon&r=PG", "display_name": "Peregrine", "link": "https://stackoverflow.com/users/967885/peregrine"}, "edited": false, "score": 0, "creation_date": 1551304416, "post_id": 54914498, "comment_id": 96596484, "body": "what are you doing to your poor users giving them a list with a million items in it."}, {"owner": {"reputation": 319, "user_id": 2320942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f429c4e4078f92da8112933a2a3d3e0c?s=128&d=identicon&r=PG", "display_name": "Alok Saini", "link": "https://stackoverflow.com/users/2320942/alok-saini"}, "reply_to_user": {"reputation": 3724, "user_id": 967885, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d024fba65c96618ea159a6962f3a0e59?s=128&d=identicon&r=PG", "display_name": "Peregrine", "link": "https://stackoverflow.com/users/967885/peregrine"}, "edited": false, "score": 0, "creation_date": 1551304668, "post_id": 54914498, "comment_id": 96596592, "body": "window congaing disassembly of a binary which is interactive and can jump from one end to another, nm, it is not as you are thinking, its a requirement."}, {"owner": {"reputation": 934, "user_id": 2466207, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d72ac435e8a8a8b51d9e7f36b70555a3?s=128&d=identicon&r=PG", "display_name": "Luk&#225;\u0161 Koten", "link": "https://stackoverflow.com/users/2466207/luk%c3%a1%c5%a1-koten"}, "edited": false, "score": 0, "creation_date": 1551309637, "post_id": 54914498, "comment_id": 96598273, "body": "Why do you need to display million objects in a list? Did you consider some pagination to limit max number of data that can be displayed at one time? You can convert data at render time pretty easily if you use MVVM and your list has enabled UI virtualization - if so the getter for data on your ViewModel will be called only when the object will be rendered (visibled/scrolled on UI)."}, {"owner": {"reputation": 319, "user_id": 2320942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f429c4e4078f92da8112933a2a3d3e0c?s=128&d=identicon&r=PG", "display_name": "Alok Saini", "link": "https://stackoverflow.com/users/2320942/alok-saini"}, "edited": false, "score": 0, "creation_date": 1551310606, "post_id": 54914498, "comment_id": 96598535, "body": "i cannot use pagination. list has enabled ui virtualization, but data in memory reaches 3-4gb and also need memory to process data. emulation decompilationd and all"}, {"owner": {"reputation": 934, "user_id": 2466207, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d72ac435e8a8a8b51d9e7f36b70555a3?s=128&d=identicon&r=PG", "display_name": "Luk&#225;\u0161 Koten", "link": "https://stackoverflow.com/users/2466207/luk%c3%a1%c5%a1-koten"}, "edited": false, "score": 0, "creation_date": 1551310974, "post_id": 54914498, "comment_id": 96598619, "body": "So what is exactly the reason you need to show million of items when the user can see just a tiny part of it?"}, {"owner": {"reputation": 319, "user_id": 2320942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f429c4e4078f92da8112933a2a3d3e0c?s=128&d=identicon&r=PG", "display_name": "Alok Saini", "link": "https://stackoverflow.com/users/2320942/alok-saini"}, "edited": false, "score": 0, "creation_date": 1551311084, "post_id": 54914498, "comment_id": 96598648, "body": "because the data shows the disassembly of a section of a exe file, and while emulating that can jump to any part of that list"}, {"owner": {"reputation": 934, "user_id": 2466207, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d72ac435e8a8a8b51d9e7f36b70555a3?s=128&d=identicon&r=PG", "display_name": "Luk&#225;\u0161 Koten", "link": "https://stackoverflow.com/users/2466207/luk%c3%a1%c5%a1-koten"}, "edited": false, "score": 0, "creation_date": 1551311676, "post_id": 54914498, "comment_id": 96598789, "body": "Well you can try to create strings from char array when the item is rendered using ui virtualization as i said previously."}, {"owner": {"reputation": 319, "user_id": 2320942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f429c4e4078f92da8112933a2a3d3e0c?s=128&d=identicon&r=PG", "display_name": "Alok Saini", "link": "https://stackoverflow.com/users/2320942/alok-saini"}, "edited": false, "score": 0, "creation_date": 1551330078, "post_id": 54914498, "comment_id": 96602934, "body": "rhats what i am asking, how to do that!"}, {"owner": {"reputation": 319, "user_id": 2320942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f429c4e4078f92da8112933a2a3d3e0c?s=128&d=identicon&r=PG", "display_name": "Alok Saini", "link": "https://stackoverflow.com/users/2320942/alok-saini"}, "reply_to_user": {"reputation": 934, "user_id": 2466207, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d72ac435e8a8a8b51d9e7f36b70555a3?s=128&d=identicon&r=PG", "display_name": "Luk&#225;\u0161 Koten", "link": "https://stackoverflow.com/users/2466207/luk%c3%a1%c5%a1-koten"}, "edited": false, "score": 0, "creation_date": 1551337546, "post_id": 54914498, "comment_id": 96605535, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/189168/discussion-between-alok-saini-and-lukas-koten\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 319, "user_id": 2320942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f429c4e4078f92da8112933a2a3d3e0c?s=128&d=identicon&r=PG", "display_name": "Alok Saini", "link": "https://stackoverflow.com/users/2320942/alok-saini"}, "is_accepted": true, "score": 0, "last_activity_date": 1551537092, "creation_date": 1551537092, "answer_id": 54959568, "question_id": 54914498, "link": "https://stackoverflow.com/questions/54914498/efficient-way-to-show-data-in-wpf-datagrid/54959568#54959568", "title": "Efficient way to show data in wpf datagrid?", "body": "<p>i solved the problem using data virtualization, as there is no way you can reduce memory usage of string, list or object classes.</p>\n\n<p>i used this grid, works with .net 4.7, dont know if works with below versions.</p>\n\n<blockquote>\n  <p><a href=\"https://github.com/FormatD/FastWpfGrid\" rel=\"nofollow noreferrer\">https://github.com/FormatD/FastWpfGrid</a></p>\n</blockquote>\n\n<p>And used a database at backend.</p>\n"}], "owner": {"reputation": 319, "user_id": 2320942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f429c4e4078f92da8112933a2a3d3e0c?s=128&d=identicon&r=PG", "display_name": "Alok Saini", "link": "https://stackoverflow.com/users/2320942/alok-saini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 54959568, "answer_count": 1, "score": 0, "last_activity_date": 1551537092, "creation_date": 1551301625, "question_id": 54914498, "link": "https://stackoverflow.com/questions/54914498/efficient-way-to-show-data-in-wpf-datagrid", "title": "Efficient way to show data in wpf datagrid?", "body": "<p>I have a a million objects in a list, the object contains multiple string and therefore memory usage is almost double. As strings in c# take 26 + (length * 2) bytes of memory.</p>\n\n<p>As i want to display huge data sets, memory is a problem. i thought of to store string as null terminated char arrays and convert them to string at render time of datagrid rows, but cant find a way to change data at render time.</p>\n\n<p>is there any way i can achieve that?\nor any other solution?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 2, "creation_date": 1551301745, "post_id": 54914477, "comment_id": 96595305, "body": "The word <i>must</i> is not accurate. It&#39;s just a common pattern, a best practice. Certainly if you have a reason to make that sort of thing public, or are certain you will never want to override it, you don&#39;t have to make it protected or virtual at all."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11127417"}, "edited": false, "score": 0, "creation_date": 1551301997, "post_id": 54914477, "comment_id": 96595429, "body": "You use protected to prevent the external world from accessing a member while allowing subclasses to access it, and virtual when you want to allow derived classes to provide their own specialized implementation of the method."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1551302065, "post_id": 54914477, "comment_id": 96595455, "body": "Bingo. And there is your answer @polskaamoshen. It really is that simple. You use protected so any class that inherits from this class can raise the event (by calling <code>OnPriceChanged</code>). And you use virtual so any class that inherits from this class can add their own specialised implementation (maybe they want to show a message to the user before raising the event). The pattern in your book is a nice way to allow a class, and classes that inherit from it, to raise events."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11127417"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1551302395, "post_id": 54914477, "comment_id": 96595617, "body": "@mjwills, I see now. It&#39;s  just too so straightforward to understand. I was just confused by the usage of the term pattern to express this. Thank you for your patience in ansering a newbie question, and interest ."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1551302448, "post_id": 54914477, "comment_id": 96595639, "body": "Think of <code>pattern</code> as a reusable approach to make your life easier. By doing it this way, your life is easier if you ever add a class that inherits from this class."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11127417"}, "edited": false, "score": 1, "creation_date": 1551302468, "post_id": 54914562, "comment_id": 96595647, "body": "I see now thank you. This answers the question :)."}], "tags": [], "owner": {"reputation": 3386, "user_id": 4158603, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/6A1qm.png?s=128&g=1", "display_name": "areller", "link": "https://stackoverflow.com/users/4158603/areller"}, "is_accepted": true, "score": 2, "last_activity_date": 1551302155, "last_edit_date": 1551302155, "creation_date": 1551301935, "answer_id": 54914562, "question_id": 54914477, "link": "https://stackoverflow.com/questions/54914477/why-the-method-that-fires-the-c-event-must-be-protected-virtual/54914562#54914562", "title": "Why the method that fires the C# event must be protected virtual?", "body": "<p><code>virtual</code> means that a class can inherit from <code>Stock</code> and override that method.\n<code>protected</code> means that only <code>Stock</code> or classes that inherit from <code>Stock</code> can access that method.</p>\n\n<p>Events by themselves don't have to be fired from virtual or protected methods. This is just a pattern that some applications use, which allow derived classes to fire the event as well.</p>\n\n<p>Classes that inherit from <code>Stock</code> and override <code>OnPriceChanged</code> can call <code>base. OnPriceChanged</code> and It would fire the event.</p>\n\n<p>For example,</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>class MyStock : Stock\n{\n    protected override void OnPriceChanged (PriceChangedEventArgs e)\n    {\n        // Do something\n        base.OnPriceChanged(e); // will call OnPriceChanged in the base class, and fire the event\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": false, "score": 3, "last_activity_date": 1551304545, "last_edit_date": 1551304545, "creation_date": 1551302687, "answer_id": 54914728, "question_id": 54914477, "link": "https://stackoverflow.com/questions/54914477/why-the-method-that-fires-the-c-event-must-be-protected-virtual/54914728#54914728", "title": "Why the method that fires the C# event must be protected virtual?", "body": "<p>It's a pattern from the days of \"Component-oriented programming\" - it's still valid, but \nnot as relevant today as Delegate-based events which use the <code>OnEventName</code>-pattern aren't as popular because UI programming is either done in JavaScript (thus avoiding .NET entirely) or uses the ViewModel-pattern which doesn't use Delegate events at all.</p>\n\n<p>As an explanation for \"why\" - let's look at the canonical example of Component-oriented programming: WinForms controls. All controls derive from <code>System.Windows.Forms.Control</code> which represents an ecapsulation of a Win32 \"<code>hWnd</code>\" window, which is a 2D surface which accepts Win32 Window Messages for user-input (mouse, keyboard, touch, etc) and paints to itself.</p>\n\n<p>The <code>Control</code> class exposes its own initial set of events, like <code>Load</code> and <code>MouseMove</code>. All of these events are exposed in two ways:</p>\n\n<ol>\n<li><p>Publicly accessible <code>event</code> members. Essentially multicast, strongly-typed <code>Delegate</code> properties.</p>\n\n<ul>\n<li><p>These are subscribe-only. So a consumer of a component can listen to events, but they cannot invoke events themselves.</p></li>\n<li><p>In C# they look like this:</p>\n\n<pre><code>public event DelegateType EventName;\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>public class Control : Component\n{\n    public event EventHandler Click;\n}\n</code></pre></li>\n</ul></li>\n<li><p>Methods that invoke each <code>event</code> (by invoking the multicast <code>Delegate</code>).</p>\n\n<ul>\n<li>These methods are not <code>public</code> because that would break encapsulation (i.e. you don't want a consumer to be able to raise events), so they can be either <code>private</code> or <code>protected</code>.</li>\n<li><p>By choosing <code>protected</code> instead of <code>private</code> means that subclasses can invoke events themselves, if appropriate.</p></li>\n<li><p>In C# they look like this:</p>\n\n<pre><code>public class Control : Component\n{\n    public event EventHandler Click;\n\n    protected virtual void OnClick(EventArgs e)\n    {\n        this.Click?.Invoke( this, e ); \n    }\n\n    private void OnWin32WindowMessage( Message m )\n    {\n        switch( m.EventId )\n        {\n            case Win32.MouseClick:\n                this.OnClick( EventArgs.Empty );\n                break;\n            case Win32.MouseMove:\n                this.OnMouseMove( EventArgs.Empty );\n                break;\n            case Win32.KeyDown:\n                this.OnKeyDown( EventArgs.Empty );\n                break;\n            // etc\n        }\n    }\n}\n</code></pre></li>\n</ul></li>\n</ol>\n\n<p>You can argue that if a component subclass only wants to subscribe to events belonging to its superclass then it should not be able to invoke certain events themselves and so the <code>On{EventName}</code> methods should be <code>private</code> and not <code>protected</code> - and the subclass should set-up an <code>EventHandler</code> inside its constructor. Like so:</p>\n\n<pre><code>public class MySubclass : Control\n{\n    public MySubclass()\n    {\n        this.Click += new EventHandler( this.Clicked );\n    }\n\n    private void Clicked(Object sender, EventArgs e)\n    {\n        MessageBox.Show( \"boop!\" );\n    }\n}\n</code></pre>\n\n<p>...and this is valid.</p>\n\n<p>However, there are at least three reasons for using <code>protected virtual</code> methods instead of <code>private</code>:</p>\n\n<ol>\n<li><p>The advantage to using <code>virtual</code> methods is that it lets the subclass override the behaviour.</p>\n\n<ul>\n<li><p>For example, if the superclass has a trivial <code>OnClick</code> method that simply (and always) invokes the <code>Click</code> <code>event</code> but you want your subclass to only allow the <code>Click</code> <code>event</code> to be invoked if <code>this.Disabled == true</code>):</p>\n\n<pre><code>public class MySubclass : Control\n{\n    protected override OnClick( EventArgs e )\n    {\n        if( !this.Disabled )\n        {\n            base.OnClick( e );\n        } \n    }\n\n    public Boolean Disabled { get; set; }\n}\n</code></pre></li>\n</ul></li>\n<li><p>Allowing subclasses to be notified first.</p>\n\n<ul>\n<li><p>Multicast delegates in C# do not offer any control over the precise order-of-execution - by using <code>virtual</code> methods this allows a subclass to always be notified first, before any external consumers. This is important if the state of <code>MySubclass</code> will change in an event-handler. For example:</p>\n\n<pre><code>public class MySubclass : Control\n{\n    public MySubclass()\n    {\n        this.Click += new EventHandler( this.Clicked );\n    }\n\n    private void Clicked(Object sender, EventArgs e)\n    {\n        this.BackgroundColor = Colors.Red;\n    }\n}\n\npublic class MyForm : Form\n{\n    private readonly MySubclass sc;\n\n    public MyForm()\n    {\n        this.sc = new MySubclass();\n        this.Controls.Add( this.sc );\n\n        this.sc.Click += new EventHandler( this.SCClicked );\n    }\n\n    private void SCClicked (Object sender, EventArgs e)\n    {\n        MessageBox.Show( \"The control's colour is \" + this.sc.BackgroundColor );\n    }\n}\n</code></pre>\n\n<p>As it's possible for <code>MyForm.SCClicked</code> to run before <code>MySubclass.Clicked</code>, <code>SCClicked</code> may report the old colour, not the new colour.</p>\n\n<p>By using a <code>virtual</code> method <code>override</code> this can be avoided:</p>\n\n<pre><code>public class MySubclass : Control\n{\n    protected override void OnClick(EventArgs e)\n    {\n        this.BackgroundColor = Colors.Red;\n\n        base.OnClick( e );\n    }\n}\n\npublic class MyForm : Form { /* unchanged */ }\n</code></pre></li>\n</ul></li>\n</ol>\n\n<p>...and it will now work as-expected.</p>\n\n<ol start=\"3\">\n<li>The other reason is performance.\n\n<ul>\n<li>Delegates are more expensive than a <code>virtual</code> method call. So by overriding the method means a subclass can subscribe to an event with less runtime overhead than using an <code>event</code>-handler.</li>\n<li>While this isn't important for one-off events like <code>Load</code> or maybe even <code>Paint</code> and <code>Click</code>, it can matter if it's a high-frequency event (think: thousands of times per second).</li>\n<li>Performance can matter, even on today's computers that are 10-50x faster than the late-1990s machines that were around when .NET and WinForms was originally designed. Especially as event-handling code in WinForms has to run in the UI thread.</li>\n<li>Today, high-frequency events tend to use the <a href=\"https://en.wikipedia.org/wiki/Observer_pattern\" rel=\"nofollow noreferrer\">Observer pattern</a> instead of Delegate events, precisely because that avoids the overhead of using delegates (the linked Wikipedia article does describe C#'s <code>event</code> support as an example of the Observer pattern, which is strictly true - but when people talk about the Observer pattern they usually mean something like Reactive programming: <a href=\"http://reactivex.io/\" rel=\"nofollow noreferrer\">http://reactivex.io/</a></li>\n</ul></li>\n</ol>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11127417"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 0, "closed_date": 1551304239, "accepted_answer_id": 54914562, "answer_count": 2, "score": 1, "last_activity_date": 1551304545, "creation_date": 1551301530, "question_id": 54914477, "link": "https://stackoverflow.com/questions/54914477/why-the-method-that-fires-the-c-event-must-be-protected-virtual", "closed_reason": "Opinion-based", "title": "Why the method that fires the C# event must be protected virtual?", "body": "<p>While reading a book on C# I found this source code : </p>\n\n<pre><code>public class Stock \n{  \n    ...  \n    public event EventHandler&lt;PriceChangedEventArgs&gt; PriceChanged; \n\n    protected virtual void OnPriceChanged (PriceChangedEventArgs e)  \n    {    \n       if (PriceChanged != null) PriceChanged (this, e);  \n    } \n} \n</code></pre>\n\n<p>The author states that the standard event pattern requires, I quote : </p>\n\n<blockquote>\n  <p>The pattern requires that you write a protected virtual method that fires the event. The name must match the name of the event, prefixed with the word On, and then accept a single EventArgs argument:</p>\n</blockquote>\n\n<p>Why should it be protected and virtual ? </p>\n"}, {"tags": ["c#", "linq"], "answers": [{"comments": [{"owner": {"reputation": 310, "user_id": 4836975, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/56724aeed74535fdf3dbe3a7cb7676af?s=128&d=identicon&r=PG&f=1", "display_name": "Bayern", "link": "https://stackoverflow.com/users/4836975/bayern"}, "edited": false, "score": 0, "creation_date": 1551694544, "post_id": 54914745, "comment_id": 96720043, "body": "Thank you for the explanation and resolution."}], "tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 3, "last_activity_date": 1551302742, "creation_date": 1551302742, "answer_id": 54914745, "question_id": 54914418, "link": "https://stackoverflow.com/questions/54914418/groupjoin-returning-sequence-contains-no-elements/54914745#54914745", "title": "GroupJoin returning Sequence contains no elements", "body": "<p>Looking at the expression <code>b?.Max</code>, looks like you are expecting that the variable <code>b</code>, which represents the related elements of the inner list will be <code>null</code> when there are no matches.  </p>\n\n<p>But <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.groupjoin?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">GroupJoin</a> documentation explicitly states:</p>\n\n<blockquote>\n  <p>If there are no correlated elements in <code>inner</code> for a given element of <code>outer</code>, the sequence of matches for that element will be <strong>empty</strong> but will still appear in the results. </p>\n</blockquote>\n\n<p>So <code>b</code> is never <code>null</code> and <code>Max</code> throws the exception in question when it is empty.</p>\n\n<p>You can solve it in two ways.</p>\n\n<p>First is to use the nullable overload of <code>Max</code> which returns <code>null</code> instead of throwing exception on empty sequence:</p>\n\n<pre><code>maxDate = b.Max(m =&gt; (DateTime?)m.Date.Date) ?? new DateTime(2000, 01, 01)\n</code></pre>\n\n<p>This works well for both <code>Enumerable</code> and <code>Queryable</code> implementations.</p>\n\n<p>The second way which works only for <code>Enumerable</code> is to use a combination of <code>Select</code>, <code>DefaultIfEmpty</code> and <code>Max</code>:</p>\n\n<pre><code>maxDate = b.Select(m =&gt; m.Date.Date).DefaultIfEmpty(new DateTime(2000, 01, 01)).Max()\n</code></pre>\n"}], "owner": {"reputation": 310, "user_id": 4836975, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/56724aeed74535fdf3dbe3a7cb7676af?s=128&d=identicon&r=PG&f=1", "display_name": "Bayern", "link": "https://stackoverflow.com/users/4836975/bayern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 54914745, "answer_count": 1, "score": 1, "last_activity_date": 1551302742, "creation_date": 1551301307, "last_edit_date": 1551301896, "question_id": 54914418, "link": "https://stackoverflow.com/questions/54914418/groupjoin-returning-sequence-contains-no-elements", "title": "GroupJoin returning Sequence contains no elements", "body": "<p>I have this 2 lists list1 and list2 and created this GroupJoin:</p>\n\n<p>List1 is a list of Persons (Id, Name) and list2 is a list of Objects (Id, Car, Date).</p>\n\n<p>PS: list1 contains arround 40 elements and list2 for the moment only one element.</p>\n\n<p>I try to set the maxDate but get the error \"Sequence contains no elements\"</p>\n\n<pre><code>var result = list1.GroupJoin(list2, \n                l1 =&gt; l1.Id,\n                l2 =&gt; l2.Id\n                (a, b) =&gt; new\n                {\n                    listA = a,\n                    maxDate = b?.Max(m =&gt; m.Date).Date ??\n                        new DateTime(2000, 01, 01)\n                                 }).ToList();\n</code></pre>\n"}, {"tags": ["c#", "asp.net", ".net", "iis-7"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1551301944, "post_id": 54914414, "comment_id": 96595404, "body": "&quot;because they do not possess a common algorithm&quot; That&#39;s an issue with TLS handshakes."}, {"owner": {"reputation": 11, "user_id": 827348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18e0dd57d15da5ababc7306292827977?s=128&d=identicon&r=PG", "display_name": "ematus", "link": "https://stackoverflow.com/users/827348/ematus"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1551305293, "post_id": 54914414, "comment_id": 96596823, "body": "Yes.. but why is working on my local machine (win 10)? I tried in another server with windows server 2012 and works fine"}, {"owner": {"reputation": 11, "user_id": 827348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18e0dd57d15da5ababc7306292827977?s=128&d=identicon&r=PG", "display_name": "ematus", "link": "https://stackoverflow.com/users/827348/ematus"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1551305902, "post_id": 54914414, "comment_id": 96597057, "body": "The server where is not working in windows server 2008 SP2"}], "owner": {"reputation": 11, "user_id": 827348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18e0dd57d15da5ababc7306292827977?s=128&d=identicon&r=PG", "display_name": "ematus", "link": "https://stackoverflow.com/users/827348/ematus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551301283, "creation_date": 1551301283, "question_id": 54914414, "link": "https://stackoverflow.com/questions/54914414/net-version-update", "title": ".NET Version Update", "body": "<p>Have a problem with the .NET version installed on my server. In my local machine I have the version 4.7.3324.0 installed (the clr.dll file have that number for the product name and product version)</p>\n\n<p>My server had 4.0 and upgrade to 4.6.1 (the clr.dll file now have File Version = 4.6.81.0 and product version = 4.0.30319.0)</p>\n\n<p>The thing is, the asp.net web page works fine in my local machine but in the server it does't. We had to upgrade to use the TLs12 but even with the upgrade I'm unable to make it work (I'm setting <code>ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;</code>).</p>\n\n<p>Any ideas?</p>\n\n<p>Thank you</p>\n\n<p><code>System.ServiceModel.CommunicationException: An error occurred while receiving\nthe HTTP response to https://myservice/webservices/current/logon.asmx. This could be due to theservi ice endpoint binding not using the HTTP protocol. This could also be due to an HTTP request context being aborted by the server\n(possibly due to the service shutting down). See server logs for more details. ---&gt; System.Net.WebException: The underlying connection was closed: An unexpected \nerror occurred on a receive. ---&gt; System.ComponentModel.Win32Exception: The client and server cannot communicate, because they do not possess a common \nalgorithm\n</code></p>\n"}, {"tags": ["c#", ".net", "dictionary", "functional-programming", "visual-studio-2017"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1551301287, "post_id": 54914373, "comment_id": 96595096, "body": "You could use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.union?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>Union</code></a> if you want to create a list from multiple other lists with unique values. You just have to provide a equality comparor as well as figure out what to do if a value (for the same key) is different between 2 sources."}], "answers": [{"tags": [], "owner": {"reputation": 278, "user_id": 4204181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15fbf6463aec4667698e056c2a7bffd6?s=128&d=identicon&r=PG&f=1", "display_name": "ScottyD0nt", "link": "https://stackoverflow.com/users/4204181/scottyd0nt"}, "is_accepted": false, "score": 1, "last_activity_date": 1551302339, "creation_date": 1551302339, "answer_id": 54914665, "question_id": 54914373, "link": "https://stackoverflow.com/questions/54914373/how-to-do-a-left-join-between-a-list-and-a-dictionary/54914665#54914665", "title": "how to do a left join between a list and a dictionary?", "body": "<p>You could use TryGetValue when creating the new dictionary to populate it with the defaults.</p>\n\n<pre><code>public static IDictionary&lt;string, string&gt; GetValues(IReadOnlyList&lt;string&gt; keys, IHeaderDictionary headers, string defaultValue) \n{\n    return keys.ToDictionary(k =&gt; k, k =&gt; headers.TryGetValue(k, out string val) ? val : defaultValue);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "edited": false, "score": 0, "creation_date": 1551309980, "post_id": 54914680, "comment_id": 96598367, "body": "thanks! any way to make these case-insensitive comparisons? i want to intersect but not care about casing"}, {"owner": {"reputation": 667, "user_id": 3725233, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8d91b22516acfd8f61d33654ae4e9859?s=128&d=identicon&r=PG&f=1", "display_name": "PRS", "link": "https://stackoverflow.com/users/3725233/prs"}, "reply_to_user": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "edited": false, "score": 0, "creation_date": 1551351864, "post_id": 54914680, "comment_id": 96613095, "body": "Yep - you would have to define your dictionary as follows: var requestHeaders = new Dictionary&lt;string, string&gt;(StringComparer.OrdinalIgnoreCase), then also do the Intersect as case insensitive: keys.Intersect(headers.Keys, StringComparer.OrdinalIgnoreCase)"}], "tags": [], "owner": {"reputation": 667, "user_id": 3725233, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8d91b22516acfd8f61d33654ae4e9859?s=128&d=identicon&r=PG&f=1", "display_name": "PRS", "link": "https://stackoverflow.com/users/3725233/prs"}, "is_accepted": false, "score": 1, "last_activity_date": 1551302437, "creation_date": 1551302437, "answer_id": 54914680, "question_id": 54914373, "link": "https://stackoverflow.com/questions/54914373/how-to-do-a-left-join-between-a-list-and-a-dictionary/54914680#54914680", "title": "how to do a left join between a list and a dictionary?", "body": "<p>Try this Linq in your GetValues function:</p>\n\n<pre><code>return keys.Intersect(headers.Keys)\n    .Select(k =&gt; new KeyValuePair&lt;string, string&gt;(k, headers[k]))\n    .Union(keys.Where(k =&gt; !headers.Keys.Contains(k)).Select(k =&gt; new KeyValuePair&lt;string, string&gt;(k, \"myDefaultValue\")))\n    .ToDictionary(p =&gt; p.Key, p =&gt; p.Value);\n</code></pre>\n\n<p>It is doing a union with any values in the header dictionary keys that can't be found in the key list, and pairing these with the default value.</p>\n"}, {"comments": [{"owner": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "edited": false, "score": 0, "creation_date": 1551309983, "post_id": 54915272, "comment_id": 96598370, "body": "thanks! any way to make these case-insensitive comparisons? i want to intersect but not care about casing"}, {"owner": {"reputation": 1324, "user_id": 1110329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H2gnp.jpg?s=128&g=1", "display_name": "hujtomi", "link": "https://stackoverflow.com/users/1110329/hujtomi"}, "reply_to_user": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "edited": false, "score": 0, "creation_date": 1551345395, "post_id": 54915272, "comment_id": 96609072, "body": "It is case insensitive already, but if you want to change it GroupJoin has an IEqualityComparer&lt;TKey&gt; comparer parameter, so you can change it like this: keys.GroupJoin(headers, key =&gt; key, header =&gt; header.Key, (key, header) =&gt; new { key, header }, StringComparer.OrdinalIgnoreCase)"}], "tags": [], "owner": {"reputation": 1324, "user_id": 1110329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H2gnp.jpg?s=128&g=1", "display_name": "hujtomi", "link": "https://stackoverflow.com/users/1110329/hujtomi"}, "is_accepted": true, "score": 1, "last_activity_date": 1551305343, "creation_date": 1551305343, "answer_id": 54915272, "question_id": 54914373, "link": "https://stackoverflow.com/questions/54914373/how-to-do-a-left-join-between-a-list-and-a-dictionary/54915272#54915272", "title": "how to do a left join between a list and a dictionary?", "body": "<p>Based on this example: <a href=\"https://stackoverflow.com/questions/33961414/left-join-on-two-lists-and-maintain-one-property-from-the-right-with-linq\">Left join on two Lists and maintain one property from the right with Linq</a> you can also solve it with <code>GroupJoin</code> like this:</p>\n\n<pre><code>public static IDictionary&lt;string, string&gt; GetValues(IReadOnlyList&lt;string&gt; keys, IHeaderDictionary headers, string defaultValue)\n{\n    return keys.GroupJoin(headers, key =&gt; key, header =&gt; header.Key, (key, header) =&gt; new { key, header })\n        .SelectMany(x =&gt; x.header.DefaultIfEmpty(), (x, header) =&gt; new { x.key, header.Value })\n        .Select(x =&gt; new KeyValuePair&lt;string, string&gt;(x.key, x.Value))\n        .ToDictionary(p =&gt; p.Key, p =&gt; p.Value ?? defaultValue);\n}\n</code></pre>\n"}], "owner": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 54915272, "answer_count": 3, "score": 1, "last_activity_date": 1551305343, "creation_date": 1551301112, "question_id": 54914373, "link": "https://stackoverflow.com/questions/54914373/how-to-do-a-left-join-between-a-list-and-a-dictionary", "title": "how to do a left join between a list and a dictionary?", "body": "<p>I'm attempting to intersect a list with a dictionary, which works perfectly:</p>\n\n<pre><code>    public static IDictionary&lt;string, string&gt; GetValues(IReadOnlyList&lt;string&gt; keys, IHeaderDictionary headers)\n    {\n        return keys.Intersect(headers.Keys)\n            .Select(k =&gt; new KeyValuePair&lt;string, string&gt;(k, headers[k]))\n            .ToDictionary(p =&gt; p.Key, p =&gt; p.Value);\n    }\n</code></pre>\n\n<p>The usage of the above method would be something like this:</p>\n\n<pre><code>    [TestMethod]\n    public void GetValues_returns_dictionary_of_header_values()\n    {\n        var headers = new List&lt;string&gt; { { \"trackingId\" }, { \"SourceParty\" }, { \"DestinationParty\" } };\n        var trackingIdValue = \"thisismytrackingid\";\n        var sourcePartyValue = \"thisismysourceparty\";\n        var destinationPartyValue = \"thisismydestinationparty\";\n        var requestHeaders = new HeaderDictionary\n        {\n            {\"trackingId\", new Microsoft.Extensions.Primitives.StringValues(trackingIdValue) },\n            {\"SourceParty\", new Microsoft.Extensions.Primitives.StringValues(sourcePartyValue) },\n            {\"DestinationParty\", new Microsoft.Extensions.Primitives.StringValues(destinationPartyValue) },\n            {\"randomHeader\", new Microsoft.Extensions.Primitives.StringValues(\"dontcare\") }\n        };\n        var headerValues = HeaderOperators.GetValues(headers, requestHeaders);\n        Assert.IsTrue(headerValues.ContainsKey(\"trackingId\"));\n        Assert.IsTrue(headerValues.ContainsKey(\"SourceParty\"));\n        Assert.IsTrue(headerValues.ContainsKey(\"DestinationParty\"));\n        Assert.IsTrue(headerValues.Count == headers.Count);\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/AYcm8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AYcm8.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, rather than an <code>intersect</code> I would like to do a <code>left join</code>, where for example if I search the dictionary for a value that does not exist it would still return that key with some default <code>value</code>.</p>\n\n<p>For example, if we input <code>oneMoreKey</code>:</p>\n\n<pre><code>        var headers = new List&lt;string&gt; { { \"trackingId\" }, { \"SourceParty\" }, { \"DestinationParty\" }, {\"oneMoreKey\"} };\n</code></pre>\n\n<p>Then I would expect that the result of this would be something like this:</p>\n\n<pre><code>        var headerValues = HeaderOperators.GetValues(headers, requestHeaders, \"myDefaultValue\");\n</code></pre>\n\n<p>Where <code>headerValues</code> is:</p>\n\n<pre><code> {\"trackingId\", \"thisismytrackingid\"}\n {\"SourceParty\", \"thisismysourceparty\"}\n {\"DestinationParty\", \"thisismydestinationparty\"}\n {\"oneMoreKey\", \"myDefaultValue\"}\n</code></pre>\n\n<p><strong>How do I add a default value to the intersection if one does not exist?</strong></p>\n"}, {"tags": ["c#", "winforms", "textbox", "parent-child"], "comments": [{"owner": {"reputation": 121, "user_id": 9328171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b52596ac29337607c5883f50b28d58e?s=128&d=identicon&r=PG&f=1", "display_name": "Noor", "link": "https://stackoverflow.com/users/9328171/noor"}, "reply_to_user": {"reputation": 16152, "user_id": 205233, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd3b79356ba4ea1f7e8d6be783446e59?s=128&d=identicon&r=PG&f=1", "display_name": "Filburt", "link": "https://stackoverflow.com/users/205233/filburt"}, "edited": false, "score": 0, "creation_date": 1551301409, "post_id": 54914231, "comment_id": 96595157, "body": "@Filburt help me resolve my issue as well"}, {"owner": {"reputation": 16152, "user_id": 205233, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd3b79356ba4ea1f7e8d6be783446e59?s=128&d=identicon&r=PG&f=1", "display_name": "Filburt", "link": "https://stackoverflow.com/users/205233/filburt"}, "edited": false, "score": 0, "creation_date": 1551304067, "post_id": 54914231, "comment_id": 96596339, "body": "See if <a href=\"https://stackoverflow.com/q/280579/205233\">How do I pass a value from a child back to the parent form</a> or <a href=\"https://stackoverflow.com/q/5233502/205233\">How to return a value from a Form in C#</a> has an answer for you. If you got the chance, switch to WPF and do stuff like this the MVVM way."}], "answers": [{"tags": [], "owner": {"reputation": 167, "user_id": 8978833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345e2f95224802c86523ce8b18ad35ef?s=128&d=identicon&r=PG&f=1", "display_name": "Anil", "link": "https://stackoverflow.com/users/8978833/anil"}, "is_accepted": false, "score": 0, "last_activity_date": 1551334871, "creation_date": 1551334871, "answer_id": 54919574, "question_id": 54914231, "link": "https://stackoverflow.com/questions/54914231/pass-quantity-amount-text-box-value-from-child-form-to-a-variable-on-parent-form/54919574#54919574", "title": "Pass quantity amount text box value from child form to a variable on parent form", "body": "<p>You can make the <code>textbox</code> modifier to public, that way you can access <code>textbox</code> from parent form using reference to child form, moreover if you want integer values use <code>numeric up down</code> rather than simple <code>textbox</code>. To convert string to text you can use <code>Convert.ToInt32</code> or <code>Int32.TryParse</code> methods in c#</p>\n"}], "owner": {"reputation": 121, "user_id": 9328171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b52596ac29337607c5883f50b28d58e?s=128&d=identicon&r=PG&f=1", "display_name": "Noor", "link": "https://stackoverflow.com/users/9328171/noor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551334871, "creation_date": 1551300497, "last_edit_date": 1551300628, "question_id": 54914231, "link": "https://stackoverflow.com/questions/54914231/pass-quantity-amount-text-box-value-from-child-form-to-a-variable-on-parent-form", "title": "Pass quantity amount text box value from child form to a variable on parent form", "body": "<p>The parent form of my windows form application (Point Of Sale Application) has a grid view with data from the database like Product Name, Quantity and Unit Price (excluding Quantity as I have set its default value to 1). Here is my code:</p>\n\n<pre><code>        string productName = dr[0];\n        int quantity = 1;\n        int unitPrice = Convert.ToInt32(dr[1]);\n\n        DataGridViewRow row = new DataGridViewRow();\n        row.CreateCells(dgvAllSoldItems);\n\n        row.Cells[0].Value = productName;\n        row.Cells[1].Value = quantity;\n        row.Cells[2].Value = unitPrice;\n        row.Cells[3].Value = (quantity * unitPrice);\n\n        dgvAllSoldItems.Rows.Add(row);\n</code></pre>\n\n<p>What I want is to allow my users to update the quantity amount of specific items if required. I want this to be accomplished using a child form. The child form will have a text box on it for the quantity (custom quantity).</p>\n\n<p>I have configured the child form and I am able to show it upon double-clicking the target product (the data grid view row). What I want is to allow users to replace the default value of quantity [<code>int quantity = 1;</code>] on the main form with a custom value that the user will put on the text box located on the child form.</p>\n\n<p>I am only having a problem in passing this custom quantity (text box value) from the child form to my parent form. So far, I have used the following code for passing the text box value to my parent form and I am lucky enough to get the text box value in the public method [<code>GetSoldItemQuantity</code>] on my parent form.</p>\n\n<pre><code>public void GetSoldItemQuantity(string customQuantity)\n    {\n        string globalQuantity = customQuantity;\n    }\n</code></pre>\n\n<p>At this point, I always get the custom quantity value from the child form in <code>string globalQuantity</code> but I am unable to assign this value back to <code>int quantity</code> or replace its existing value with this one.</p>\n\n<p>Here is the button click code on my child form that pass the custom quantity value from text box to the public method on my parent form.</p>\n\n<pre><code>private void btnPassCustomQuantityToParentForm_Click(object sender, EventArgs e)\n        {\n            string newItemQuantity = txtCustomQuantity.Text;\n\n            frmSale newSale = new frmSale();\n            newSale.GetSoldItemQuantity(newItemQuantity);\n            this.Close();\n        }\n</code></pre>\n\n<p>How can I pass this custom quantity to the quantity variable whose default value is 1 in my first code snippet?</p>\n"}, {"tags": ["c#", ".net", "visual-studio-2017", "native"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1551307125, "post_id": 54914230, "comment_id": 96597486, "body": "0xC0000005 is very nasty and impossible to get help with.  Try another machine."}, {"owner": {"reputation": 41, "user_id": 11087544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a46d414342b35a19ac431301f98dcf?s=128&d=identicon&r=PG", "display_name": "swallis", "link": "https://stackoverflow.com/users/11087544/swallis"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1551323929, "post_id": 54914230, "comment_id": 96601512, "body": "Other machines have exhibited the same results. There must be a way to get around this issue without arbitrarily cycling through PCs"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 11087544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a46d414342b35a19ac431301f98dcf?s=128&d=identicon&r=PG", "display_name": "swallis", "link": "https://stackoverflow.com/users/11087544/swallis"}, "is_accepted": true, "score": 1, "last_activity_date": 1551644403, "creation_date": 1551644403, "answer_id": 54973343, "question_id": 54914230, "link": "https://stackoverflow.com/questions/54914230/cant-pass-wack-tests-and-avoid-ilt005-error-for-net-native-c-application/54973343#54973343", "title": "Can&#39;t pass WACK tests and avoid ILT005 Error, for .Net Native C# application", "body": "<p>The solution to this was to include <strong>DoNotOptimize=\"true\"</strong> to our rd.xml Directives, for example:</p>\n\n<pre><code>&lt;Assembly Name=\"*Application*\" Dynamic=\"Required All\" DoNotOptimize=\"true\" /&gt;\n</code></pre>\n\n<p>This allowed for us to both build in Release mode with \"Compile .Net Native tool chain\" and \"Optimize Code\" both selected - but also actually get the WACK tests to pass.</p>\n"}], "owner": {"reputation": 41, "user_id": 11087544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a46d414342b35a19ac431301f98dcf?s=128&d=identicon&r=PG", "display_name": "swallis", "link": "https://stackoverflow.com/users/11087544/swallis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "accepted_answer_id": 54973343, "answer_count": 1, "score": 3, "last_activity_date": 1551644403, "creation_date": 1551300494, "question_id": 54914230, "link": "https://stackoverflow.com/questions/54914230/cant-pass-wack-tests-and-avoid-ilt005-error-for-net-native-c-application", "title": "Can&#39;t pass WACK tests and avoid ILT005 Error, for .Net Native C# application", "body": "<p>I am in the process of trying to get our solution to build under the .Net Native tool chain, as well as passing the WACK <em>(Windows App Cert Kit)</em> tests that will be required to eventually upload our application to the store.</p>\n\n<p>We currently have the build passing with the \"Compile .Net Native tool chain\" selected, as shown here <em>(note optimize code not being checked)</em>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PMG2m.png\" rel=\"nofollow noreferrer\">Project Properties</a></p>\n\n<p>However, while the build passes, we get the one following error when running the WACK:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YwBA8.png\" rel=\"nofollow noreferrer\">WACK Failure with Optimize Code Disabled</a></p>\n\n<p>Doing some googling, it appears this error is only cropping up for us because we have not enabled Optimize Code in the properties above - however, when we enable this setting, our build fails with the following error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/N57LG.png\" rel=\"nofollow noreferrer\">Build Failure with Optimize Code Enabled</a></p>\n\n<p>Everyone I've seen with this issue on the internet has been having issues with either their Visual Studio language settings, or were living in some old version of Windows 10/Visual Studio, and had this issue just resolve itself over time.</p>\n\n<p>I'm using the default English languages for the machine and Visual Studio. I'm  also on an up-to-date Visual Studio 2017 <em>(15.9.7 Professional)</em>, and the latest version of Windows 10 <em>(17763.316)</em>. So none of these other resolutions apply to me here.</p>\n\n<p>I'm hoping somebody out there has some knowledge around this ILT0005 error and how we can get around it. We are developing a C# application that uses some C++ projects, and the code all compiles fine with either <em>.Net Native</em> or <em>Optimize Code</em> enabled in the properties, but <strong>not both</strong>.</p>\n"}, {"tags": ["c#", "wpf"], "answers": [{"comments": [{"owner": {"reputation": 782, "user_id": 1898505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be95f487b76ad590c1f4ec332f4f663e?s=128&d=identicon&r=PG", "display_name": "Ivan Salo", "link": "https://stackoverflow.com/users/1898505/ivan-salo"}, "edited": false, "score": 0, "creation_date": 1551306778, "post_id": 54915076, "comment_id": 96597359, "body": "Player is on the same level as Game. So this is not a problem and it won&#39;t help."}], "tags": [], "owner": {"reputation": 111, "user_id": 10198065, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WR4JPtuQx88/AAAAAAAAAAI/AAAAAAAAACo/Wi8bmiSdXvw/photo.jpg?sz=128", "display_name": "David Smith", "link": "https://stackoverflow.com/users/10198065/david-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1551304377, "creation_date": 1551304377, "answer_id": 54915076, "question_id": 54914183, "link": "https://stackoverflow.com/questions/54914183/edit-xml-file-using-xmldocument-search-by-attribute/54915076#54915076", "title": "Edit xml file using xmldocument, search by attribute", "body": "<p>Your code doesn't exactly match the structure of your Xml document.  You left out the Player element.  Try XmlNode node = xdoc[\"Data\"][\"Place\"][\"Date\"][\"Player\"][\"Game\"]</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 11076367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a195c7b22cfc27f79e5b646b2c96d766?s=128&d=identicon&r=PG&f=1", "display_name": "Greenw", "link": "https://stackoverflow.com/users/11076367/greenw"}, "edited": false, "score": 0, "creation_date": 1551383375, "post_id": 54915116, "comment_id": 96630825, "body": "This solutions works fine, thanks a lot. But all solutions here are good"}, {"owner": {"reputation": 104, "user_id": 3186875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HGUCj.jpg?s=128&g=1", "display_name": "Javid Gahramanov", "link": "https://stackoverflow.com/users/3186875/javid-gahramanov"}, "reply_to_user": {"reputation": 13, "user_id": 11076367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a195c7b22cfc27f79e5b646b2c96d766?s=128&d=identicon&r=PG&f=1", "display_name": "Greenw", "link": "https://stackoverflow.com/users/11076367/greenw"}, "edited": false, "score": 0, "creation_date": 1551385630, "post_id": 54915116, "comment_id": 96631915, "body": "I&#39;m glad to help."}], "tags": [], "owner": {"reputation": 104, "user_id": 3186875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HGUCj.jpg?s=128&g=1", "display_name": "Javid Gahramanov", "link": "https://stackoverflow.com/users/3186875/javid-gahramanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1551304557, "creation_date": 1551304557, "answer_id": 54915116, "question_id": 54914183, "link": "https://stackoverflow.com/questions/54914183/edit-xml-file-using-xmldocument-search-by-attribute/54915116#54915116", "title": "Edit xml file using xmldocument, search by attribute", "body": "<p>Please try to use this example. \nI think it will work properly.</p>\n\n<pre><code>        string xBal = \"200\";\n        string path = \"D:\\\\xml.xml\";\n\n        XmlDocument xmlDoc = new XmlDocument();\n        xmlDoc.Load(path);\n        XmlNodeList NodeList = xmlDoc.GetElementsByTagName(\"Game\");\n\n        foreach (XmlNode item in NodeList)\n        {\n            if (item.Attributes[0].InnerText.Equals(\"Tennis\"))\n            {\n                XmlNode balance = item.SelectSingleNode(\"balance\");\n\n                balance.InnerText = xBal;\n            }\n        }\n\n        xmlDoc.Save(path);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 782, "user_id": 1898505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be95f487b76ad590c1f4ec332f4f663e?s=128&d=identicon&r=PG", "display_name": "Ivan Salo", "link": "https://stackoverflow.com/users/1898505/ivan-salo"}, "is_accepted": true, "score": 0, "last_activity_date": 1551304788, "creation_date": 1551304788, "answer_id": 54915170, "question_id": 54914183, "link": "https://stackoverflow.com/questions/54914183/edit-xml-file-using-xmldocument-search-by-attribute/54915170#54915170", "title": "Edit xml file using xmldocument, search by attribute", "body": "<p>This should work for you. Your main node already contains element Game - that's why you won't be able to find it in ChildNode. I corrected your main path not to include Game node. So now, you can find it in ChildNodes collection. I added some checks for Node.Name and Attribute name to be sure that it is Game node. It should work for you.</p>\n\n<pre><code>XmlNode node = xdoc[\"Data\"][\"Place\"][\"Date\"];\nint countvalues = 100;\nfor (int i = 0; i &lt; countvalues; i++)\n{\n    foreach (XmlNode childNode in node.ChildNodes)\n    {\n        if (childNode.Name == \"Game\" &amp;&amp; childNode.Attributes[\"Name\"].InnerText.Equals(\"Tennis\"))\n        {\n            childNode[\"balance\"].InnerText = xBal.Text;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11076367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a195c7b22cfc27f79e5b646b2c96d766?s=128&d=identicon&r=PG&f=1", "display_name": "Greenw", "link": "https://stackoverflow.com/users/11076367/greenw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 54915170, "answer_count": 3, "score": 0, "last_activity_date": 1551304788, "creation_date": 1551300305, "last_edit_date": 1551300634, "question_id": 54914183, "link": "https://stackoverflow.com/questions/54914183/edit-xml-file-using-xmldocument-search-by-attribute", "title": "Edit xml file using xmldocument, search by attribute", "body": "<p>i want to write a small programme. With this programme i want to edit a xml file by searching for a specific attribute name. This attribute name appears many times in my xml file only the number is changing. I know i can do this by using linq or xmldocument there are many solutions. The code i wrote seems right to me, i dont understand whats wrong here. Can someone have a look at my code? I would be thankful for help.</p>\n\n<p>All i want to edit is balance. Not more. Thats really all.</p>\n\n<p>My xml file:</p>\n\n<pre><code>&lt;?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d?&gt;\n&lt;Data&gt;\n&lt;Place&gt;\n&lt;Date Month=\"February\"&gt;\n  &lt;Counter&gt;2&lt;/Counter&gt;\n  &lt;Player&gt;1&lt;/Player&gt;\n  &lt;Player&gt;2&lt;/Player&gt;\n     &lt;Game Name=\"Football\"&gt;\n       &lt;IdNumber&gt;1&lt;/IdNumber&gt;\n       &lt;salutation&gt;Mr&lt;/salutation&gt;\n       &lt;prename&gt;Prename1&lt;/prename&gt;\n       &lt;surname&gt;Surname1&lt;/surname&gt;\n       &lt;maximumbalance&gt;100&lt;/maximumbalance&gt;\n       &lt;balance&gt;100&lt;/balance&gt;\n    &lt;/Game&gt;\n    &lt;Game Name=\"Tennis\"&gt;\n       &lt;IdNumber&gt;2&lt;/IdNumber&gt;\n       &lt;salutation&gt;Mr&lt;/salutation&gt;\n       &lt;prename&gt;Prename2&lt;/prename&gt;\n       &lt;surname&gt;Surname2&lt;/surname&gt;\n       &lt;maximumbalance&gt;100&lt;/maximumbalance&gt;\n       &lt;balance&gt;100&lt;/balance&gt;\n     &lt;/Game&gt;\n   &lt;/Date&gt;\n&lt;/Place&gt;\n&lt;/Data&gt; \n</code></pre>\n\n<p>My Solution is here:</p>\n\n<pre><code>private void edit_Click(object sender, RoutedEventArgs e)\n\n{\nXmlDocument xdoc = new XmlDocument();\nxdoc.Load(Path);\nXmlNode node = xdoc[\"Data\"][\"Place\"][\"Date\"][\"Game\"]\nint countvalues = 100;\n\nfor (int i = 0; i &lt; countvalues; i++)\n\nforeach (XmlNode childNode in node.ChildNodes)\n{\nif (childNode.Attributes[\"Name\"].InnerText.Equals(\"Tennis\"))\n{\nchildNode[\"balance\"].InnerText = xBal.Text;\n}\n}\nxdoc.Save(Path);\n\n}\n</code></pre>\n\n<p>There are many more entries in my xml file (Tennis1, Tennis2 and so on ) thats not the problem right now,</p>\n\n<p>the line: childNode.Attributes[\"Name\"].InnerText.Equals(\"Tennis\")) is null, dont know why</p>\n\n<p>... i am using Visual studio 2015 and WPF</p>\n\n<p>regards\nMartin</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1551299715, "post_id": 54913974, "comment_id": 96594414, "body": "have you tried <code>UseShellExecute = true</code>?"}, {"owner": {"reputation": 681, "user_id": 6763830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IClZL.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/6763830/max"}, "edited": false, "score": 0, "creation_date": 1551300201, "post_id": 54913974, "comment_id": 96594641, "body": "have you tried &quot;java.exe&quot; or a full path?"}, {"owner": {"reputation": 166, "user_id": 79520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7df3280bd557bfdc3be43f474f72975?s=128&d=identicon&r=PG", "display_name": "pabben", "link": "https://stackoverflow.com/users/79520/pabben"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1551300414, "post_id": 54913974, "comment_id": 96594725, "body": "@DanielA.White, I think I cannot use it. System.InvalidOperationException: &#39;The Process object must have the UseShellExecute property set to false in order to redirect IO streams.&#39;"}, {"owner": {"reputation": 166, "user_id": 79520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7df3280bd557bfdc3be43f474f72975?s=128&d=identicon&r=PG", "display_name": "pabben", "link": "https://stackoverflow.com/users/79520/pabben"}, "reply_to_user": {"reputation": 681, "user_id": 6763830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IClZL.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/6763830/max"}, "edited": false, "score": 0, "creation_date": 1551300758, "post_id": 54913974, "comment_id": 96594881, "body": "@Max I tried java.exe full path, got the same result, I think that won&#39;t work either since the .jar and .avro file are not in the same location as java. Just to clarify in console is working."}, {"owner": {"reputation": 681, "user_id": 6763830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IClZL.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/6763830/max"}, "edited": false, "score": 0, "creation_date": 1551303043, "post_id": 54913974, "comment_id": 96595887, "body": "That&#39;s strange. I just compiled and run your code at Windows 2012 R2 (6.3.9600). It worked just fine. Paths to jar/avro files are not checked by Windows -- they are just strings passed to Java -- java will throw error, but Java has to start to check that."}, {"owner": {"reputation": 681, "user_id": 6763830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IClZL.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/6763830/max"}, "edited": false, "score": 0, "creation_date": 1551303440, "post_id": 54913974, "comment_id": 96596047, "body": "may be try to add <code>ErrorDialog = true</code> just for debugging purposes, might give more info. Also, what about <code>FileName=&quot;cmd.exe&quot;</code> and <code>Arguments=&quot;&#47;C java -jar ...&quot;</code>. It&#39;s not elegant, but worth to try."}], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 79520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7df3280bd557bfdc3be43f474f72975?s=128&d=identicon&r=PG", "display_name": "pabben", "link": "https://stackoverflow.com/users/79520/pabben"}, "is_accepted": true, "score": 0, "last_activity_date": 1551375355, "creation_date": 1551375355, "answer_id": 54931265, "question_id": 54913974, "link": "https://stackoverflow.com/questions/54913974/system-componentmodel-win32exception-the-system-cannot-find-the-file-specified/54931265#54931265", "title": "System.ComponentModel.Win32Exception: &#39;The system cannot find the file specified&#39;", "body": "<p>Finally the solution was to add a new profile as x64 and run the debugger with it. </p>\n"}], "owner": {"reputation": 166, "user_id": 79520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7df3280bd557bfdc3be43f474f72975?s=128&d=identicon&r=PG", "display_name": "pabben", "link": "https://stackoverflow.com/users/79520/pabben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 878, "favorite_count": 0, "accepted_answer_id": 54931265, "answer_count": 1, "score": 1, "last_activity_date": 1551375355, "creation_date": 1551299358, "question_id": 54913974, "link": "https://stackoverflow.com/questions/54913974/system-componentmodel-win32exception-the-system-cannot-find-the-file-specified", "title": "System.ComponentModel.Win32Exception: &#39;The system cannot find the file specified&#39;", "body": "<p>The same code is working in Windows 10 but not in Windows Server 2012 R2.</p>\n\n<pre><code>        ProcessStartInfo start = new ProcessStartInfo();\n\n        start.FileName = \"java\";\n        start.UseShellExecute = false;\n        start.CreateNoWindow = true;\n        start.RedirectStandardOutput = true;\n        start.RedirectStandardError = true;\n\n        start.Arguments = @\"-jar avro-tools-1.8.2.jar tojson input.avro\";\n\n        using (Process process = Process.Start(start))\n        //in above line is where the error appears.\n</code></pre>\n\n<p>I checked the path and is ok. I run it from command line and is working. Not sure what else to check.</p>\n"}, {"tags": ["c#", "inheritance", "interface", "signalr"], "comments": [{"owner": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 0, "creation_date": 1551300873, "post_id": 54913935, "comment_id": 96594932, "body": "What does the client-side code look like?"}, {"owner": {"reputation": 23, "user_id": 8768473, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nXm54ToLRNs/AAAAAAAAAAI/AAAAAAAAAqI/Ye-g5OkfvNw/photo.jpg?sz=128", "display_name": "&#211;scar Funes Trigo", "link": "https://stackoverflow.com/users/8768473/%c3%93scar-funes-trigo"}, "reply_to_user": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 0, "creation_date": 1551306817, "post_id": 54913935, "comment_id": 96597374, "body": "There, I edited question to add the client-side code"}], "owner": {"reputation": 23, "user_id": 8768473, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nXm54ToLRNs/AAAAAAAAAAI/AAAAAAAAAqI/Ye-g5OkfvNw/photo.jpg?sz=128", "display_name": "&#211;scar Funes Trigo", "link": "https://stackoverflow.com/users/8768473/%c3%93scar-funes-trigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1551306429, "creation_date": 1551299233, "last_edit_date": 1551306429, "question_id": 54913935, "link": "https://stackoverflow.com/questions/54913935/signalr-on-net-cant-send-a-derived-class-or-an-implementation-of-an-interface", "title": "SignalR on .NET Can&#39;t send a derived class or an implementation of an interface to client", "body": "<p>everyone. I'm currently trying to send a derived class (or an implementation of an interface) from the server to the client. I can't do it because it won't call the method in the client. I've tried taking out the inheritance and sending it, and it does work properly, so the problem comes from trying to send a derived class to the client. Thanks in advance</p>\n\n<p>Here are the classes:</p>\n\n<p><strong>Interface:</strong></p>\n\n<pre><code>public interface ISquare\n{\n    Uri Image\n    {\n        get;\n        set;\n    }\n\n    List&lt;Player&gt; PlayerList\n    {\n        get;\n        set;\n    }\n}\n</code></pre>\n\n<p><strong>Implementations:</strong></p>\n\n<pre><code>public class Property: ISquare\n{\n    private Uri image { get; set; }\n    private List&lt;Player&gt; playerList { get; set; }\n    public int price { get; set; }\n    public int nHouses { get; set; }\n    public bool hasHotel { get; set; }\n    public bool isBought { get; set; }\n    public ColorProperty color { get; set; }\n    public int moneyToPay { get; set; }\n    public Player buyer { get; set; }\n    public int squarePosition { get; set; }\n    public Uri Image\n    {\n        get\n        {\n            return image;\n        }\n\n        set\n        {\n            image = value;\n        }\n    }\n    public List&lt;Player&gt; PlayerList\n    {\n        get\n        {\n            return playerList;\n        }\n\n        set\n        {\n            playerList = value;\n        }\n    }\n\n    public Property(int price, int nHouses, bool hasHotel, bool isBought, ColorProperty color, int moneyToPay, Player buyer, int squarePosition, Uri image, List&lt;Player&gt; playerList)\n    {\n        this.price = price;\n        this.nHouses = nHouses;\n        this.hasHotel = hasHotel;\n        this.isBought = isBought;\n        this.color = color;\n        this.dineroAPagar = moneyToPay;\n        this.buyer = buyer;\n        this.squarePosition = squarePosition;\n        this.image = image;\n        this.playerList = playerList;\n    }\n\n    public Property(int price, ColorPropiedad color, int squarePosition)\n    {\n        this.price = price;\n        this.nHouses = 0;\n        this.hasHotel = false;\n        this.isBought = false;\n        this.color = color;\n        this.dineroAPagar = 0;\n        this.buyer = null;\n        this.squarePosition = squarePosition;\n        this.image = image;\n        this.playerList = new List&lt;Player&gt;();\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public class Square : ISquare\n{\n    private Uri image { get; set; }\n    public SquareType type { get; set; }\n    private List&lt;Player&gt; playerList { get; set; }\n    public Uri Image\n    {\n        get\n        {\n            return image;\n        }\n\n        set\n        {\n            image = value;\n        }\n    }\n    public List&lt;Player&gt; playerList \n    {\n        get\n        {\n            return playerList ;\n        }\n\n        set\n        {\n            playerList = value;\n        }\n    }\n\n    public Square(SquareType type, List&lt;Player&gt; playerList)\n    {\n        this.type = type;\n        this.playerList = playerList;\n    }\n\n    public Square(SquareType type)\n    {\n        this.image = null;\n        this.type = type;\n        this.playerList= new List&lt;Player&gt;();\n    }\n\n    public Square()\n    {\n        this.image = null;\n        this.type = SquareType.PROPERTY;\n        this.playerList = new List&lt;Player&gt;();\n    }\n}\n</code></pre>\n\n<p><strong>Here's what the client looks like:</strong></p>\n\n<pre><code>private async void joinGame(Player playerServer)\n    {\n        await Windows.ApplicationModel.Core.CoreApplication.MainView.CoreWindow.Dispatcher.RunAsync(CoreDispatcherPriority.Normal,\n        () =&gt;\n        {\n            if (playerServer != null)\n            {\n                _navigationService.Navigate(\n                    typeof(GameView),\n                    new PlayerWithLobby()\n                    {\n                        player = playerServer,\n                        lobby = _lobby\n                    }\n                );\n            }\n            else\n            {\n                throw new NotImplementedException(\"Player is null\");\n            }\n        }\n        );\n    }\n</code></pre>\n"}, {"tags": ["c#", "angular", "selenium-webdriver", "hidden"], "comments": [{"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1551359483, "post_id": 54913919, "comment_id": 96617560, "body": "Update the question with the error trace log"}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1551392027, "post_id": 54913919, "comment_id": 96634546, "body": "You aren&#39;t dealing with an actual dropdown, it&#39;s a faked one with nested HTML. My guess is that you aren&#39;t clicking the dropdown to open it and expose the options inside before clicking the desired option. You may need a wait after the click to open and before the option click."}], "owner": {"reputation": 39, "user_id": 11090748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cada4435070a08d82687d0083263f9f?s=128&d=identicon&r=PG&f=1", "display_name": "christopherhe1", "link": "https://stackoverflow.com/users/11090748/christopherhe1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551299157, "creation_date": 1551299157, "question_id": 54913919, "link": "https://stackoverflow.com/questions/54913919/c-selenium-angular-cant-select-dropdown-option", "title": "C# Selenium Angular Can&#39;t Select DropDown Option", "body": "<p>I am trying to select a dropdown option.  Listed below is my code:</p>\n\n<pre><code>IWebElement webElement7 = new WebDriverWait(driver, new TimeSpan(0, 0, 30)).Until(SeleniumExtras.WaitHelpers.ExpectedConditions.ElementToBeClickable(By.XPath(\"//div[@class='k-list-scroller']//ul[@class='k-list k-reset']//li[@class='k-item' and @data-offset-index='1']\")));\nwebElement7.Click();\nThread.Sleep(2000);\n</code></pre>\n\n<p>Here is the HTML:</p>\n\n<pre><code>&lt;div class=\"k-animation-container\" style=\"width: 306px; height: 115px; margin-left: -10px; padding-left: 10px; padding-right: 10px; padding-bottom: 15px; display: none; box-sizing: content-box; overflow: hidden; position: absolute; top: 202px; z-index: 10002; left: 1427.25px;\"&gt;&lt;div class=\"k-list-container k-popup k-group k-reset\" id=\"GenderID-list\" data-role=\"popup\" style=\"position: absolute; font-size: 14px; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Helvetica Neue&amp;quot;, Arial, sans-serif; font-stretch: 100%; font-style: normal; font-weight: 400; line-height: 20px; width: 300.25px; height: auto; display: none; transform: translateY(-115px);\"&gt;&lt;div class=\"k-list-optionlabel k-state-selected k-state-focused\" id=\"e21a4b75-ad22-40c8-a3d5-dbbcd9a1f8ea\"&gt;--Select--&lt;/div&gt;&lt;div class=\"k-group-header\" style=\"display:none\"&gt;&lt;/div&gt;&lt;div class=\"k-list-scroller\" unselectable=\"on\" style=\"height: auto;\"&gt;&lt;ul unselectable=\"on\" class=\"k-list k-reset\" tabindex=\"-1\" aria-hidden=\"true\" id=\"GenderID_listbox\" aria-live=\"off\" data-role=\"staticlist\" role=\"listbox\"&gt;&lt;li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\" data-offset-index=\"0\"&gt;Female&lt;/li&gt;&lt;li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\" data-offset-index=\"1\"&gt;Male&lt;/li&gt;&lt;li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\" data-offset-index=\"2\"&gt;Unknown&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;div class=\"k-list-container k-popup k-group k-reset\" id=\"GenderID-list\" data-role=\"popup\" style=\"position: absolute; font-size: 14px; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Helvetica Neue&amp;quot;, Arial, sans-serif; font-stretch: 100%; font-style: normal; font-weight: 400; line-height: 20px; width: 300.25px; height: auto; display: none; transform: translateY(-115px);\"&gt;&lt;div class=\"k-list-optionlabel k-state-selected k-state-focused\" id=\"e21a4b75-ad22-40c8-a3d5-dbbcd9a1f8ea\"&gt;--Select--&lt;/div&gt;&lt;div class=\"k-group-header\" style=\"display:none\"&gt;&lt;/div&gt;&lt;div class=\"k-list-scroller\" unselectable=\"on\" style=\"height: auto;\"&gt;&lt;ul unselectable=\"on\" class=\"k-list k-reset\" tabindex=\"-1\" aria-hidden=\"true\" id=\"GenderID_listbox\" aria-live=\"off\" data-role=\"staticlist\" role=\"listbox\"&gt;&lt;li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\" data-offset-index=\"0\"&gt;Female&lt;/li&gt;&lt;li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\" data-offset-index=\"1\"&gt;Male&lt;/li&gt;&lt;li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\" data-offset-index=\"2\"&gt;Unknown&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;div class=\"k-list-optionlabel k-state-selected k-state-focused\" id=\"e21a4b75-ad22-40c8-a3d5-dbbcd9a1f8ea\"&gt;--Select--&lt;/div&gt;\n&lt;div class=\"k-group-header\" style=\"display:none\"&gt;&lt;/div&gt;\n&lt;div class=\"k-list-scroller\" unselectable=\"on\" style=\"height: auto;\"&gt;&lt;ul unselectable=\"on\" class=\"k-list k-reset\" tabindex=\"-1\" aria-hidden=\"true\" id=\"GenderID_listbox\" aria-live=\"off\" data-role=\"staticlist\" role=\"listbox\"&gt;&lt;li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\" data-offset-index=\"0\"&gt;Female&lt;/li&gt;&lt;li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\" data-offset-index=\"1\"&gt;Male&lt;/li&gt;&lt;li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\" data-offset-index=\"2\"&gt;Unknown&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;\n&lt;ul unselectable=\"on\" class=\"k-list k-reset\" tabindex=\"-1\" aria-hidden=\"true\" id=\"GenderID_listbox\" aria-live=\"off\" data-role=\"staticlist\" role=\"listbox\"&gt;&lt;li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\" data-offset-index=\"0\"&gt;Female&lt;/li&gt;&lt;li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\" data-offset-index=\"1\"&gt;Male&lt;/li&gt;&lt;li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\" data-offset-index=\"2\"&gt;Unknown&lt;/li&gt;&lt;/ul&gt;\n&lt;li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\" data-offset-index=\"0\"&gt;Female&lt;/li&gt;\n&lt;li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\" data-offset-index=\"1\"&gt;Male&lt;/li&gt;\n&lt;li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\" data-offset-index=\"2\"&gt;Unknown&lt;/li&gt;\n</code></pre>\n\n<p>Listed below is my error:</p>\n\n<pre><code>OpenQA.Selenium.WebDriverTimeoutException: Timed out after 30 seconds\n   at OpenQA.Selenium.Support.UI.DefaultWait`1.ThrowTimeoutException(String exceptionMessage, Exception lastException)\n   at OpenQA.Selenium.Support.UI.DefaultWait`1.Until[TResult](Func`2 condition)\n</code></pre>\n"}, {"tags": ["c#", "winforms", "console-application", ".net-4.6.1"], "comments": [{"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1551325635, "post_id": 54913906, "comment_id": 96601864, "body": "<code>Environment.Exit([Some Exit Value]);</code> before <code>return [something];</code> will return the Exit Code. If you <code>[Process].Start -&gt; [Process].WaitForExit -&gt; Console.WriteLine([Process].ExitCode)</code>."}, {"owner": {"reputation": 5810, "user_id": 846844, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5iC1B.png?s=128&g=1", "display_name": "Hoppe", "link": "https://stackoverflow.com/users/846844/hoppe"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1551455383, "post_id": 54913906, "comment_id": 96658859, "body": "A third party app is reading the errorlevel. I don&#39;t want to write a wrapper"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1551458207, "post_id": 54913906, "comment_id": 96660401, "body": "Using a <code>.cmd</code> batch, start the application; right after, insert <code>echo %errorlevel%</code>, after that <code>pause</code>. You will see the value you have set in <code>Environment.Exit()</code> printed in the Console."}], "owner": {"reputation": 5810, "user_id": 846844, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5iC1B.png?s=128&g=1", "display_name": "Hoppe", "link": "https://stackoverflow.com/users/846844/hoppe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551299095, "creation_date": 1551299095, "question_id": 54913906, "link": "https://stackoverflow.com/questions/54913906/set-application-exit-code-errorlevel-from-winforms-app-being-run-as-a-console", "title": "Set application exit code / errorlevel from WinForms app being run as a console app", "body": "<p>How can I set an application exit code from a Winforms app that I am running as a console app? Without breaking the console app into a separate DLL of course.</p>\n\n<p>I have a Winforms app. In the past someone decided to create command line parameters that will run it as a console app instead of a WinForms app. I know that breaking it out into a separate console app project is a solution, but without that, is there a way to set the application exit code?</p>\n\n<p>I tried:</p>\n\n<ol>\n<li><p>Having main return an int</p></li>\n<li><p>Calling Environment.Exit(int)</p></li>\n<li><p>Setting Environment.ExitCode = int</p></li>\n</ol>\n\n<p>None worked. </p>\n\n<p>Then of course from the command line I ran the command below. But the error code was not updating.</p>\n\n<blockquote>\n  <p>echo %errorlevel%</p>\n</blockquote>\n\n<pre><code>public static class Program\n{\n    // defines for commandline output\n    [DllImport(\"kernel32.dll\")]\n    static extern bool AttachConsole(int dwProcessId);\n\n    private const int ATTACH_PARENT_PROCESS = -1;\n\n    /// &lt;summary&gt;\n    /// The main entry point for the application.\n    /// &lt;/summary&gt;\n    [STAThread]\n    public static int Main(string[] args)\n    {\n        // redirect console output to parent process;\n        // must be before any calls to Console.WriteLine()\n        AttachConsole(ATTACH_PARENT_PROCESS);\n\n        //make sure to update 0 to another number to make sure you aren't getting a false positive\n        return 0;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "wcf"], "answers": [{"comments": [{"owner": {"reputation": 631, "user_id": 5615853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/509546125886385/picture?type=large", "display_name": "Daina Hodges", "link": "https://stackoverflow.com/users/5615853/daina-hodges"}, "edited": false, "score": 0, "creation_date": 1551301212, "post_id": 54914024, "comment_id": 96595065, "body": "I will try it. Thanks"}], "tags": [], "owner": {"reputation": 121, "user_id": 4737218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ea73bd7ea49a193f2d74f6242aadcf6?s=128&d=identicon&r=PG&f=1", "display_name": "jaroslaw", "link": "https://stackoverflow.com/users/4737218/jaroslaw"}, "is_accepted": true, "score": 3, "last_activity_date": 1551299572, "creation_date": 1551299572, "answer_id": 54914024, "question_id": 54913880, "link": "https://stackoverflow.com/questions/54913880/increase-request-timeout-asp-net-and-wcf-service/54914024#54914024", "title": "Increase Request timeout asp.net and WCF Service", "body": "<p>I believe timeouts that you are looking for are in binding configuration. If you get your data from wcf service then look for your endpoint config and configure binding for it.\nlook below:</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;system.serviceModel&gt;\n   &lt;bindings&gt;\n    &lt;basicHttpBinding&gt;\n     &lt;binding openTimeout=\"00:10:00\" \n             closeTimeout=\"00:10:00\" \n             sendTimeout=\"00:10:00\" \n             receiveTimeout=\"00:10:00\"&gt;\n    &lt;/binding&gt;\n   &lt;/basicHttpBinding&gt;\n  &lt;/bindings&gt;\n &lt;/system.serviceModel&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}], "owner": {"reputation": 631, "user_id": 5615853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/509546125886385/picture?type=large", "display_name": "Daina Hodges", "link": "https://stackoverflow.com/users/5615853/daina-hodges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 54914024, "answer_count": 1, "score": 0, "last_activity_date": 1551299572, "creation_date": 1551298975, "question_id": 54913880, "link": "https://stackoverflow.com/questions/54913880/increase-request-timeout-asp-net-and-wcf-service", "title": "Increase Request timeout asp.net and WCF Service", "body": "<p>I have an ASP.net application which calls a WCF service to retrieve Data from SQL Server.</p>\n\n<p>There is a function which has to wait the WCF to Select some rows from over 1 million records. This function causes my ASP application to generate a Request timeout error.\nI used the following lines to increase the timeout but it did not work, I cannot edit the IIS config file.</p>\n\n<pre><code>&lt;system.web&gt;\n    &lt;httpRuntime targetFramework=\"4.5.1\" executionTimeout=\"500\" /&gt;\n&lt;/system.web&gt;\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 5911, "user_id": 1688785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/07b2da937aa23792045dff6ff19556eb?s=128&d=identicon&r=PG", "display_name": "Caramiriel", "link": "https://stackoverflow.com/users/1688785/caramiriel"}, "edited": false, "score": 6, "creation_date": 1551298220, "post_id": 54913686, "comment_id": 96593742, "body": "Different overload: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.diagnostics.debug.writeline?view=netframework-4.7.2#System_Diagnostics_Debug_WriteLine_System_String_System_String_\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a> - try <code>Debug.WriteLine(&quot;Customer Name: {0}&quot;, (object)customer.Name)</code> instead"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 3, "creation_date": 1551298387, "post_id": 54913686, "comment_id": 96593818, "body": "Overload resolution rules are obscure and I wouldn&#39;t recommend memorizing them but when your types perfectly match a given signature you shouldn&#39;t be surprised that it&#39;s the one chosen."}, {"owner": {"reputation": 465, "user_id": 10520477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f188e89e1d5b12dddfbf4069570e6b3?s=128&d=identicon&r=PG&f=1", "display_name": "Jlalonde", "link": "https://stackoverflow.com/users/10520477/jlalonde"}, "edited": false, "score": 1, "creation_date": 1551298826, "post_id": 54913686, "comment_id": 96594032, "body": "Is there any aversion to using just straight interpolation? $&quot;Customer Name: {customer.Name}&quot;;?"}, {"owner": {"reputation": 466, "user_id": 3216326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c2OLN.png?s=128&g=1", "display_name": "PKonstant", "link": "https://stackoverflow.com/users/3216326/pkonstant"}, "edited": false, "score": 0, "creation_date": 1551299495, "post_id": 54913686, "comment_id": 96594314, "body": "Thank you all.  All those suggestions worked.  I&#39;m not sure why casting (object) worked though. &#39;.Name&#39; is already.  Originally, I even tried Name.ToString and it still didn&#39;t output correctly."}, {"owner": {"reputation": 3177, "user_id": 4832634, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153157104716597/picture?type=large", "display_name": "Pawe\u0142 \u0141ukasik", "link": "https://stackoverflow.com/users/4832634/pawe%c5%82-%c5%81ukasik"}, "edited": false, "score": 0, "creation_date": 1551300048, "post_id": 54913686, "comment_id": 96594576, "body": "it didn&#39;t work because using overload with two strings, the second one is the category not the value. Also the first one in such scenario is not the format but the complete message. If you want to use formatting you need to pass an array as the second one"}, {"owner": {"reputation": 5911, "user_id": 1688785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/07b2da937aa23792045dff6ff19556eb?s=128&d=identicon&r=PG", "display_name": "Caramiriel", "link": "https://stackoverflow.com/users/1688785/caramiriel"}, "edited": false, "score": 1, "creation_date": 1551300282, "post_id": 54913686, "comment_id": 96594675, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/22819117/why-does-debug-writeline-incorrectly-format-strings\">Why does Debug.WriteLine incorrectly format strings?</a>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1551300554, "post_id": 54913686, "comment_id": 96594778, "body": "<code>Debug.WriteLine</code> is, bizarrely, <b>not</b> <code>Console.WriteLine</code> but writing to the debug console rather than standard out. It would be nice if it were, but it isn&#39;t, so expecting that it is will lead to confusion."}], "answers": [{"tags": [], "owner": {"reputation": 698, "user_id": 4211807, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qYbg0pDs8F0/AAAAAAAAAAI/AAAAAAAAAEc/pgWWJ0WhGQw/photo.jpg?sz=128", "display_name": "Stormhashe", "link": "https://stackoverflow.com/users/4211807/stormhashe"}, "is_accepted": true, "score": 3, "last_activity_date": 1551300127, "creation_date": 1551300127, "answer_id": 54914143, "question_id": 54913686, "link": "https://stackoverflow.com/questions/54913686/easy-c-question-about-the-debug-writeline-with-parameters/54914143#54914143", "title": "Easy C# question about the Debug.Writeline() with parameters", "body": "<p>The problem happens because of the overload of the method. When you pass a <code>string</code> as a second parameter, it maps to the following method:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dlrFe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dlrFe.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, this overload is not expecting \"arguments\", as you would when you want to replace them in a string, but rather is waiting for a \"category\" of the de Debug information.</p>\n\n<p>The code casting your string to object works because of the following overload:</p>\n\n<p><a href=\"https://i.stack.imgur.com/psZdd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/psZdd.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, when you cast your string to \"object\", it maps to another overload of the <code>WriteLine</code> method, which is actually expecting values to be formatted into a string. I believe this answers your doubt about why it works when casting to object.</p>\n"}, {"tags": [], "owner": {"reputation": 465, "user_id": 10520477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f188e89e1d5b12dddfbf4069570e6b3?s=128&d=identicon&r=PG&f=1", "display_name": "Jlalonde", "link": "https://stackoverflow.com/users/10520477/jlalonde"}, "is_accepted": false, "score": 1, "last_activity_date": 1551300154, "creation_date": 1551300154, "answer_id": 54914146, "question_id": 54913686, "link": "https://stackoverflow.com/questions/54913686/easy-c-question-about-the-debug-writeline-with-parameters/54914146#54914146", "title": "Easy C# question about the Debug.Writeline() with parameters", "body": "<p>A working alternative is using <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/interpolated\" rel=\"nofollow noreferrer\">$ string interpolation</a></p>\n\n<p>Yielding this</p>\n\n<p><code>Debug.Writline($\"CustomerName {customer.Name});</code></p>\n\n<p>I accidently answered this in comments but found out the the actual reason is answered <a href=\"https://stackoverflow.com/questions/22819117/why-does-debug-writeline-incorrectly-format-strings\">here</a> and that we're hitting the wrong overload, and not the one for interpolation.</p>\n"}], "owner": {"reputation": 466, "user_id": 3216326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c2OLN.png?s=128&g=1", "display_name": "PKonstant", "link": "https://stackoverflow.com/users/3216326/pkonstant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 54914143, "answer_count": 2, "score": 1, "last_activity_date": 1551300154, "creation_date": 1551298122, "last_edit_date": 1551299900, "question_id": 54913686, "link": "https://stackoverflow.com/questions/54913686/easy-c-question-about-the-debug-writeline-with-parameters", "title": "Easy C# question about the Debug.Writeline() with parameters", "body": "<p>While debugging my application, I came across a behavior I'm puzzled by.  I have the following</p>\n\n<pre><code>foreach (var customer in _dbContext.Customer)\n{\n  Debug.WriteLine(\"Customer Name: {0}\", customer.Name);  // The output was not what I expected.\n...\n}\n</code></pre>\n\n<h2>Actual Output</h2>\n\n<p>Peter:Customer Name: {0}</p>\n\n<p>However, if I rewrite the statement to this.</p>\n\n<pre><code>foreach (var customer in _dbContext.Customer)\n{\n  Debug.WriteLine(\"Customer Name: \" + customer.Name);  \n...\n}\n</code></pre>\n\n<h2>Actual Output</h2>\n\n<p>Customer Name: Peter</p>\n\n<p>I added the following the code to the same file to see why my original code wasn't working.</p>\n\n<pre><code>string first = \"Peter\";\nstring last = \"Piper\";\nstring what = \"pick\";\nDebug.WriteLine(\"1 {0} 2 {1}, 3 {0} 4 {1}, 5 {2}.\", first, last, what);\n</code></pre>\n\n<h2>Actual Output</h2>\n\n<p>1 Peter 2 Piper, 3 Peter 4 Piper, 5 pick.</p>\n\n<p>I am not sure why <code>Debug.WriteLine(\"Customer Name: {0}\", customer.Name);</code> would output this <code>CusPeter:Customer Name: {0}</code></p>\n\n<p>Many Thanks</p>\n"}, {"tags": ["c#", "cmd", "process", "wix", "installation"], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 10341625, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Lmpb2dI95Z0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOSHM7vboVB-B4LwJR7CClUAwp_3A/mo/photo.jpg?sz=128", "display_name": "Zurriyotbek Ismailov", "link": "https://stackoverflow.com/users/10341625/zurriyotbek-ismailov"}, "is_accepted": true, "score": 0, "last_activity_date": 1554696542, "creation_date": 1554696542, "answer_id": 55566126, "question_id": 54913513, "link": "https://stackoverflow.com/questions/54913513/wix-installer-do-not-run-c-process-properly/55566126#55566126", "title": "WIX Installer do not run C# process properly", "body": "<p>After some research, I have found that Windows cannot run two MSI at the same time and therefore, second MSI was silently quitting.</p>\n"}], "owner": {"reputation": 23, "user_id": 10341625, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Lmpb2dI95Z0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOSHM7vboVB-B4LwJR7CClUAwp_3A/mo/photo.jpg?sz=128", "display_name": "Zurriyotbek Ismailov", "link": "https://stackoverflow.com/users/10341625/zurriyotbek-ismailov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 55566126, "answer_count": 1, "score": 0, "last_activity_date": 1554696542, "creation_date": 1551297401, "question_id": 54913513, "link": "https://stackoverflow.com/questions/54913513/wix-installer-do-not-run-c-process-properly", "title": "WIX Installer do not run C# process properly", "body": "<p>We have a big WIX Installer. After the installation, there are around 2800 scripts that should be run to upgrade the database. For that purpose, a special application is created. It just goes to the SQL machine, installs prerequisites like SQL SMO and SQL Sys Clr Types, and executes scripts. This small application is run in custom actions in WIX. Logically, it should be run with elevated privileges. In this custom action, I am using c# Processes to start the app. However, I have tried everything, and the application is still not working properly. It opens the app and app tries to install prerequisites and just exits - nothing is installed. What I have tried:\n1. Running process with elevated privileges (process.StartInfo.UseShellExecute = true)\n2. Running process with user privileges (standardinput/output with UseShellExecute=false)\n3. Running the app with a batch file.</p>\n\n<p>Overall process should be as following:\nInstaller is run with elevated privileges -> After installation, special application is run to upgrade the database -> the app installs prerequisites -> the app executes scripts.</p>\n\n<p>The interesting part is that application is working properly when I do it manually with cmd. However, when installer's custom action opens cmd.exe (c# Process) and it is still waiting, then manually opening application via cmd is not working. In other words, I have cmd (with elevated rights) opened by installer and another cmd opened by myself manually. Then, manual running the application is not working. As soon as I close the cmd opened by the installer, and run manually the application via cmd that was opened by myself, then again everything is fine, everything is working.</p>\n\n<p>I need a help how can I fix this?</p>\n\n<p>P.S. The installer's prerequisites cannot be extracted and installed separately. We do not have source code of upgrade database application.</p>\n"}, {"tags": ["c#", "rabbitmq"], "answers": [{"tags": [], "owner": {"reputation": 6400, "user_id": 1466825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b420d86764ffe237a2fdc52e28b73f4?s=128&d=identicon&r=PG", "display_name": "Luke Bakken", "link": "https://stackoverflow.com/users/1466825/luke-bakken"}, "is_accepted": false, "score": 0, "last_activity_date": 1551304655, "creation_date": 1551304655, "answer_id": 54915136, "question_id": 54913474, "link": "https://stackoverflow.com/questions/54913474/rabbitmq-doesnt-retrieve-messages-after-resetting-onmessagereceived/54915136#54915136", "title": "RabbitMQ doesn&#39;t retrieve messages after resetting OnMessageReceived", "body": "<p>Don't unsubscribe from the <code>Received</code> event, instead use the <code>BasicCancel</code> method to stop consuming messages, then use <code>BasicConsume</code> again to start consuming.</p>\n\n<p>A lot of the thread synchronization code as well as running the consumer in a <code>Task</code> isn't really the best practice. If you'd like further assistance with this code, save it in a git repository or gist somewhere and follow-up on the official mailing list.</p>\n\n<hr>\n\n<p><sub><b>NOTE:</b> the RabbitMQ team monitors the <code>rabbitmq-users</code> <a href=\"https://groups.google.com/forum/#!forum/rabbitmq-users\" rel=\"nofollow noreferrer\">mailing list</a> and only sometimes answers questions on StackOverflow.</sub></p>\n"}], "owner": {"reputation": 5966, "user_id": 465876, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/debe8b120bf8ccb06f3492900040417e?s=128&d=identicon&r=PG", "display_name": "Sri Reddy", "link": "https://stackoverflow.com/users/465876/sri-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551304655, "creation_date": 1551297244, "question_id": 54913474, "link": "https://stackoverflow.com/questions/54913474/rabbitmq-doesnt-retrieve-messages-after-resetting-onmessagereceived", "title": "RabbitMQ doesn&#39;t retrieve messages after resetting OnMessageReceived", "body": "<p>I am using RabbitMQ.Client(C#) to work with RabbitMQ. I am having trouble retrieving the messages from the queue once I remove and re-add the message received event handler. \n<code>consumer.Received -= OnMessageRecieved;</code>\nI have a complex system, where a windows service subscribes to the RabbitMQ queues and process the messages. There are multiple threads running for various things - timer to call PUSH api, another timer to do api authentication etc. If api authentication fails, we don't want to process the messages from the queue. We want to keep the messages in ready state. Only, when the api authentication is success, we want to process the messages. So, on failure event, we remove the event handler and on success we add it back. When we do that, the event handler is added successfully, but now the messages are not retrieved from the queue. </p>\n\n<p>To simulate this, I have created a console app. I have written this in less than an hour, I know this code is very raw and dirty - please excuse me for that. \n<code>sub.StopReceiveMessages();</code> has the code that removes handler <code>consumer.Received -= OnMessageRecieved</code>. And, <code>sub.StartReceiveMessages();</code> has the code that removes handler <code>consumer.Received += OnMessageRecieved</code>. When you add it back I thought it would work as normal. But, it doesn't hit the <code>MessageReceived()</code> anymore. Is it that we have to call BasicConsume again although I am using the same consumer? Any help would be appreciate.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Text;\nusing System.Threading;\nusing System.Threading.Tasks;\nusing Client = RabbitMQ.Client;\n\nnamespace RabbitMQTest\n{\n    class Program\n    {\n\n\n        static void Main(string[] args)\n        {\n            MessageBusSubscription sub = new MessageBusSubscription();\n\n            sub.Subscription(\"EmployeeDataChanged\", \"HR\", \"CompanyA\", 5, 5000);\n            sub.MessagesReceived += MessageReceived;\n            Console.WriteLine(\"Press ESC to exit\");\n            while (!(Console.KeyAvailable &amp;&amp; Console.ReadKey(true).Key == ConsoleKey.Escape))\n            {\n                // Simulating an event where we have to stop pulling the messages from the queue\n                sub.StopReceiveMessages();\n\n                Thread.Sleep(2000);\n\n                // After some time, the issue is resolved and now we resume reading the messages from the queue\n                sub.StartReceiveMessages();\n            }\n            sub.Dispose();\n            Environment.Exit(0);\n        }\n\n        private static bool MessageReceived(string topic, string subscription, List&lt;MessageContainer&gt; messages)\n        {\n            List&lt;MessageContainer&gt; data = null;\n            data = messages as List&lt;MessageContainer&gt;;\n\n            foreach (var messageContainer in data)\n            {\n                // Do something with the message\n                // Ack or Reject based on some logic\n            }\n\n            return true;\n        }\n    }\n    public class MessageBusSubscription : IDisposable\n    {\n        #region variables\n        Client.Events.EventingBasicConsumer consumer;\n        Client.ConnectionFactory factory;        \n        private System.Timers.Timer _timer = null;\n        private Client.IModel _channel = null;\n        private string _topic = string.Empty;\n        private string _subscription = string.Empty;\n        int batchCounter = 0;\n        int batchSize = 0;\n        ManualResetEvent _waitHandle = new ManualResetEvent(false);\n        bool _disposing = false;\n        bool _isSubscribed = false;\n        List&lt;MessageContainer&gt; messages = new List&lt;MessageContainer&gt;();\n        private object _processMessageLocker = new object();\n        public event Func&lt;string, string, List&lt;MessageContainer&gt;, bool&gt; MessagesReceived;\n        #endregion\n        public MessageBusSubscription()\n        {\n            Client.IConnection conn = GetConnection();\n            _channel = conn.CreateModel();\n        }\n        public void Subscription(string exchangeName, string queueName, string routingKey, int batchSize, double batchInterval)\n        {\n            _topic = exchangeName;\n            _subscription = queueName;\n            DeclareExchangeAndQueue(exchangeName, queueName, routingKey);\n\n            if (batchInterval &gt; 0 &amp;&amp; batchSize &gt; 1)\n            {\n                _timer = new System.Timers.Timer(batchInterval);\n\n                _timer.Elapsed += (o, e) =&gt; {\n                    ProcessMessagesReceived(exchangeName, queueName, true);\n                };\n            }\n            Subscribe(routingKey, exchangeName, queueName, batchSize, batchInterval);\n        }\n        public Task Subscribe(string routingKey, string topic, string subscription, int _batchSize, double batchInterval)\n        {\n            try\n            {\n                consumer = new Client.Events.EventingBasicConsumer(_channel);\n\n                batchCounter = 0;\n                batchSize = _batchSize;\n\n                consumer.Received += OnMessageRecieved;\n                _isSubscribed = true;\n\n                //RabbitMQ PUSH implementation using RabbitMQ.Client library\n                var t = Task.Factory.StartNew(() =&gt;\n                {\n                    try\n                    {\n                        if (_timer != null)\n                        {\n                            _timer.Start();\n                        }\n\n                        var queueName = string.Join(\".\", routingKey, topic, subscription);\n\n                        if (!_disposing)\n                        {\n                            _channel.BasicConsume(queueName, false, consumer);\n                            _waitHandle.WaitOne();\n                        }\n\n                        if (_timer != null)\n                        {\n                            _timer.Stop();\n                            _timer.Dispose();\n                        }\n\n                        if (_channel != null)\n                        {\n                            if (_channel.IsOpen)\n                                _channel.Close();\n                            _channel.Dispose();\n                        }\n                    }\n                    catch (Exception ex)\n                    {\n\n                    }\n\n                });\n\n                return t;\n            }\n            catch (Exception ex)\n            {\n                var exTask = new Task(() =&gt; { throw new AggregateException(ex); });\n                exTask.RunSynchronously();\n                return exTask;\n            }\n        }\n        public void OnMessageRecieved(Client.IBasicConsumer sender, Client.Events.BasicDeliverEventArgs e)\n        {\n            try\n            {\n                string sourceExchange = string.Empty;\n                string sourceQueue = string.Empty;\n\n                string body = Encoding.ASCII.GetString(e.Body);\n                string routingKey = e.RoutingKey;\n                ulong deliveryTag = e.DeliveryTag;\n                sourceExchange = \"\";\n                sourceQueue = \"\";\n                MessageContainer msgContainer = new MessageContainer();\n                msgContainer.Message = body;\n\n                batchCounter++;\n                msgContainer.DeliveryTag = deliveryTag;\n\n                lock (_processMessageLocker)\n                {\n                    messages.Add(msgContainer);\n                    ProcessMessagesReceived(_topic, _subscription, false);\n                }\n            }\n            catch (Exception ex)\n            {\n\n            }\n\n        }\n        public void ProcessMessagesReceived(string topic, string subscription, bool hasTimerElapsed)\n        {\n            try\n            {\n                // if it's the last message in the batch, or the interval has elapsed\n                if ((batchCounter % batchSize == 0 &amp;&amp; messages.Count &gt; 0) || (hasTimerElapsed &amp;&amp; messages.Count &gt; 0))\n                {\n                    if (_timer != null)\n                    {\n                        _timer.Stop();\n                    }\n\n                    lock (_processMessageLocker)\n                    {\n                        // process the message\n                        if (!MessagesReceived(topic, subscription, messages))\n                        {\n                            throw new Exception(\"Message processing exception - look in the default error queue (broker)\");\n                        }\n                        messages.Clear();\n                    }\n\n                    batchCounter = 0;\n                    if (_timer != null)\n                    {\n                        _timer.Start();\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                throw ex;\n            }\n        }\n        public Client.IConnection GetConnection()\n        {\n            factory = new Client.ConnectionFactory();\n\n            factory.UserName = \"guest\";\n            factory.Password = \"guest\";\n            factory.VirtualHost = \"/\";\n            factory.HostName = \"localhost\";\n            factory.Protocol = Client.Protocols.AMQP_0_9_1;\n            factory.Port = 5673;\n\n            return factory.CreateConnection();\n        }\n        public void DeclareExchangeAndQueue(string exchangeName, string queueName, string routingKey)\n        {\n            using (var exchangeConn = factory.CreateConnection())\n            using (Client.IModel channel = exchangeConn.CreateModel())\n            {\n                channel.ExchangeDeclare(exchangeName, Client.ExchangeType.Direct);\n\n                var queue = String.Join(\".\", routingKey, exchangeName, queueName);\n                channel.QueueDeclare(queue, false, false, false, null);\n                channel.QueueBind(queue, exchangeName, routingKey, null);\n            }\n        }\n        public void StartReceiveMessages()\n        {\n            if (_timer != null &amp;&amp; !_isSubscribed)\n            {\n                _timer.Start();\n            }\n\n            if (consumer != null &amp;&amp; !_isSubscribed)\n            {\n                consumer.Received += OnMessageRecieved;\n                _isSubscribed = true;\n            }            \n        }\n        public void StopReceiveMessages()\n        {\n            if (_timer != null)\n            {\n                _timer.Stop();\n            }\n\n            if (consumer != null)\n            {\n                consumer.Received -= OnMessageRecieved;\n                _isSubscribed = false;\n            }                        \n        }\n        public void Dispose()\n        {\n            _disposing = true;\n            _waitHandle.Set();\n            _waitHandle?.Dispose();\n            _waitHandle = null;\n\n            if (_timer != null)\n            {\n                _timer.Stop();\n                _timer.Dispose();\n            }\n        }\n    }\n    public class MessageContainer\n    {\n        public ulong DeliveryTag { get; set; }\n        public string Message { get; set; }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "windows", "authentication", "active-directory", "gpo"], "comments": [{"owner": {"reputation": 659, "user_id": 7605848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCRSr.jpg?s=128&g=1", "display_name": "Crick3t", "link": "https://stackoverflow.com/users/7605848/crick3t"}, "edited": false, "score": 0, "creation_date": 1551298259, "post_id": 54913456, "comment_id": 96593764, "body": "Hi. Just to clarify.  Would this code run when the user logs in? And would it run under their account? Who has access to those files?"}, {"owner": {"reputation": 412, "user_id": 1617879, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bd045e70688a2cf2d8a33a9945062c30?s=128&d=identicon&r=PG", "display_name": "webby68", "link": "https://stackoverflow.com/users/1617879/webby68"}, "reply_to_user": {"reputation": 659, "user_id": 7605848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCRSr.jpg?s=128&g=1", "display_name": "Crick3t", "link": "https://stackoverflow.com/users/7605848/crick3t"}, "edited": false, "score": 0, "creation_date": 1551298760, "post_id": 54913456, "comment_id": 96593996, "body": "@Crick3t. Ideally it would run every time the user logs in, for every user."}, {"owner": {"reputation": 659, "user_id": 7605848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCRSr.jpg?s=128&g=1", "display_name": "Crick3t", "link": "https://stackoverflow.com/users/7605848/crick3t"}, "edited": false, "score": 1, "creation_date": 1551301075, "post_id": 54913456, "comment_id": 96595009, "body": "I think the code is not bad. You need to make sure it runs under a user who has access to those files. Probably the best is to create a GPO rule."}, {"owner": {"reputation": 412, "user_id": 1617879, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bd045e70688a2cf2d8a33a9945062c30?s=128&d=identicon&r=PG", "display_name": "webby68", "link": "https://stackoverflow.com/users/1617879/webby68"}, "reply_to_user": {"reputation": 659, "user_id": 7605848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCRSr.jpg?s=128&g=1", "display_name": "Crick3t", "link": "https://stackoverflow.com/users/7605848/crick3t"}, "edited": false, "score": 0, "creation_date": 1551308114, "post_id": 54913456, "comment_id": 96597825, "body": "@Crick3t I finally got it to work. We already have this being pushed out by SCCM as a scheduled task  with a script but I was trying to make it work from C#. Because it is already running it was interfering. I changed the path and everything worked like a charm."}, {"owner": {"reputation": 412, "user_id": 1617879, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bd045e70688a2cf2d8a33a9945062c30?s=128&d=identicon&r=PG", "display_name": "webby68", "link": "https://stackoverflow.com/users/1617879/webby68"}, "reply_to_user": {"reputation": 659, "user_id": 7605848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCRSr.jpg?s=128&g=1", "display_name": "Crick3t", "link": "https://stackoverflow.com/users/7605848/crick3t"}, "edited": false, "score": 0, "creation_date": 1551308902, "post_id": 54913456, "comment_id": 96598071, "body": "While looking at why it wasn&#39;t creating the Customize folder with the xml file copied into it I found that c$\\%USERPROFILE% part of c$\\%USERPROFILE%\\APPDATA\\Roaming\\Litera\\Customize is the folder that is being created. I want the Customize folder created in the Litera directory. How do I make this work?"}], "owner": {"reputation": 412, "user_id": 1617879, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bd045e70688a2cf2d8a33a9945062c30?s=128&d=identicon&r=PG", "display_name": "webby68", "link": "https://stackoverflow.com/users/1617879/webby68"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 693, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551301813, "creation_date": 1551297165, "last_edit_date": 1551301813, "question_id": 54913456, "link": "https://stackoverflow.com/questions/54913456/how-to-copy-and-replace-a-file-for-all-user-profiles-with-admin-rights", "title": "How to copy and replace a file for all user profiles with Admin rights", "body": "<p>I have researched all the articles here and on Google. While some seem to be what I need I continue to run into this problem. I could certainly use some assistance getting this resolved once and for all.</p>\n\n<p>I want to copy a Customize.xml file from the server and have it replace the current file in all user profiles. I would prefer to make this so that it will run for anyone that logs on each time. Any assistance figuring this out and getting it to work would be greatly appreciated.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UNGXy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UNGXy.png\" alt=\"System.UnauthorizedAccessException\"></a></p>\n\n<pre><code>using System;\nusing System.Configuration;\nusing System.IO;\n\nnamespace copy_delete_move_files\n{\n    public class SimpleFileCopy\n    {\n        public static object Logger { get; private set; }\n\n        static void Main()\n        {\n\n            string fileName = \"Customize.xml\";\n            string sourcePath = @\"\\\\serverpath\\c$\\TestFolder\";\n            string targetPath = @\"\\\\desktoppath\\c$\\%USERPROFILE%\\APPDATA\\Roaming\\Litera\\Customize\";\n\n            // Use Path class to manipulate file and directory paths.\n            string sourceFile = Path.Combine(sourcePath, fileName);\n\n            string destFile = Path.Combine(targetPath, fileName);\n\n            // To copy a folder's contents to a new location:\n            // Create a new target folder, if necessary.\n            if (!Directory.Exists(targetPath))\n\n\n            {\n                Directory.CreateDirectory(targetPath);\n            }\n\n            // To copy a file to another location and \n            // overwrite the destination file if it already exists.\n            File.Copy(sourceFile, destFile, true);\n\n            // To copy all the files in one directory to another directory.\n            // Get the files in the source folder.\n            // Note: Check for target path was performed previously\n            // in this code example.\n\n            if (Directory.Exists(sourcePath))\n            {\n                string[] files = Directory.GetFiles(sourcePath);\n\n                // Copy the files and overwrite destination files if they already exist.\n                foreach (string s in files)\n                {\n                    // Use static Path methods to extract only the file name from the path.\n                    fileName = Path.GetFileName(s);\n                    destFile = Path.Combine(targetPath, fileName);\n                    File.Copy(s, destFile, true);\n                }\n            }\n            else\n            {\n                Console.WriteLine(\"Source path does not exist!\");\n            }\n\n            // Keep console window open in debug mode.\n            Console.WriteLine(\"Press any key to exit.\");\n            Console.ReadKey();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "mvvm", "model-binding"], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 8779797, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5a384ecd0a6378483af96b66d92b3d44?s=128&d=identicon&r=PG&f=1", "display_name": "positive perspective", "link": "https://stackoverflow.com/users/8779797/positive-perspective"}, "edited": false, "score": 0, "creation_date": 1551297512, "post_id": 54913393, "comment_id": 96593430, "body": "Thank you! You saved me much trouble while loading pages. It was taking ages"}], "tags": [], "owner": {"reputation": 51, "user_id": 6738641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MPJGp.jpg?s=128&g=1", "display_name": "mihajlo.mladenov", "link": "https://stackoverflow.com/users/6738641/mihajlo-mladenov"}, "is_accepted": true, "score": 0, "last_activity_date": 1551296922, "creation_date": 1551296922, "answer_id": 54913393, "question_id": 54913350, "link": "https://stackoverflow.com/questions/54913350/xamarin-forms-viewmodel-visited-twice-on-page-load/54913393#54913393", "title": "Xamarin.Forms ViewModel visited twice on Page load", "body": "<p>You initialize it twice. Once in OnAppearing and once in the constructor. \nTry creating a property: </p>\n\n<pre><code>public ACheckPageViewModel VM {get; set;} \n</code></pre>\n\n<p>and OnAppearing set it like this: </p>\n\n<pre><code>VM  = new ACheckPageViewModel();\nthis.BindingContext = VM;\n</code></pre>\n\n<p>and after that you can use the VM property as you like if you need it.</p>\n"}], "owner": {"reputation": 317, "user_id": 8779797, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5a384ecd0a6378483af96b66d92b3d44?s=128&d=identicon&r=PG&f=1", "display_name": "positive perspective", "link": "https://stackoverflow.com/users/8779797/positive-perspective"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 491, "favorite_count": 0, "accepted_answer_id": 54913393, "answer_count": 1, "score": 1, "last_activity_date": 1551296922, "creation_date": 1551296739, "question_id": 54913350, "link": "https://stackoverflow.com/questions/54913350/xamarin-forms-viewmodel-visited-twice-on-page-load", "title": "Xamarin.Forms ViewModel visited twice on Page load", "body": "<p>I have discovered it when debugging code on one of the ViewModels for my pages.</p>\n\n<p>I have Page code behind like this:</p>\n\n<pre><code>    protected override void OnAppearing()\n    {\n        this.BindingContext = new ACheckPageViewModel();\n    }\n\n    public ACheckPage ()\n    {\n        InitializeComponent ();\n        ACheckPageViewModel viewmodel = new ACheckPageViewModel();\n        //some code that needs viewmodel reference:\n        if (viewmodel.SomeValue == \"\")\n        {\n            SomeValue.IsVisible = false;\n        }\n    }\n</code></pre>\n\n<p>In OnAppearing I set binding context for everything I do between page and viewmodel.</p>\n\n<p>In ACHeckPage() main method however I reference viewmodel again to set some properties on page that depend on viewmodels other values.</p>\n\n<p>I could not access these xaml controls from viewmodel, that's why I referenced viewmodel again in main method.</p>\n\n<p>I discovered that when I load page and debug the viewmodel, the breakpoints get visited twice.</p>\n\n<p>Pages where I set Binding Context from XAML like this:</p>\n\n<pre><code>&lt;ContentPage.BindingContext&gt;\n    &lt;vm:FeaturedPageViewModel/&gt;\n&lt;/ContentPage.BindingContext&gt;\n</code></pre>\n\n<p>Don't load the viewmodel twice.</p>\n\n<p>How can I alter Page's Control's properties depending on ViewModel other property without running through the code twice?</p>\n"}, {"tags": ["c#", "arrays", "tuples", "static-initialization"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 4, "creation_date": 1551296389, "post_id": 54913216, "comment_id": 96592907, "body": "I am having no issue with the following: <code>static readonly (int id, string name)[] Tuples = new [] { (1, &quot;hello&quot;), (2, &quot;world&quot;) };</code>. What code have you tried that is causing the issue, and what is the error the compiler gives you?"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1551296390, "post_id": 54913216, "comment_id": 96592909, "body": "This is not unique to tuples, you can&#39;t use <code>var</code> to declare class members, which means you can&#39;t use anonymous types either."}, {"owner": {"reputation": 7052, "user_id": 2084315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/650350a4564c8b0eaeddbe972a48f076?s=128&d=identicon&r=PG&f=1", "display_name": "ps2goat", "link": "https://stackoverflow.com/users/2084315/ps2goat"}, "edited": false, "score": 0, "creation_date": 1551296498, "post_id": 54913216, "comment_id": 96592961, "body": "Personal preference, but <i>every</i> time I think of using a Tuple, I tell myself there&#39;d be more clarity with a class, and I opt for creating a class. Even if it&#39;s just a POCO. What&#39;s the benefit of a tuple, in your scenario?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 4, "creation_date": 1551296978, "post_id": 54913216, "comment_id": 96593194, "body": "Note that that&#39;s not a different syntax for the same code.  The first snippet is using <code>ValueTuple</code> instead of <code>Tuple</code>, which impacts the behavior."}, {"owner": {"reputation": 6327, "user_id": 754559, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62af69dc77ca52299987db4a1bee44ff?s=128&d=identicon&r=PG", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/754559/alan-moore"}, "edited": false, "score": 0, "creation_date": 1551306239, "post_id": 54913216, "comment_id": 96597170, "body": "Thanks for the tips, I actually did try the correct approach so now I&#39;m thinking that perhaps this tool does not support this feature properly.  The benefit of a tuple is to keep the code shorter.  It&#39;s only being used in this one module so a class is not particularly useful."}, {"owner": {"reputation": 6327, "user_id": 754559, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62af69dc77ca52299987db4a1bee44ff?s=128&d=identicon&r=PG", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/754559/alan-moore"}, "edited": false, "score": 0, "creation_date": 1551306459, "post_id": 54913216, "comment_id": 96597266, "body": "I&#39;m not sure why this is marked as a duplicate, the question is not why a class field can&#39;t be marked as var, please read the question carefully!"}], "answers": [{"comments": [{"owner": {"reputation": 6327, "user_id": 754559, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62af69dc77ca52299987db4a1bee44ff?s=128&d=identicon&r=PG", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/754559/alan-moore"}, "edited": false, "score": 0, "creation_date": 1551297293, "post_id": 54913356, "comment_id": 96593336, "body": "Does this tuple spec only work with var then?"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 6327, "user_id": 754559, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62af69dc77ca52299987db4a1bee44ff?s=128&d=identicon&r=PG", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/754559/alan-moore"}, "edited": false, "score": 0, "creation_date": 1551297497, "post_id": 54913356, "comment_id": 96593424, "body": "@AlanMoore only <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables\" rel=\"nofollow noreferrer\"><i>local</i> variables can be implicitly typed</a>. Class members must be explicitly typed."}, {"owner": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "reply_to_user": {"reputation": 6327, "user_id": 754559, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62af69dc77ca52299987db4a1bee44ff?s=128&d=identicon&r=PG", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/754559/alan-moore"}, "edited": false, "score": 0, "creation_date": 1551297548, "post_id": 54913356, "comment_id": 96593443, "body": "@AlanMoore It has nothing to do with tuples."}, {"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "reply_to_user": {"reputation": 6327, "user_id": 754559, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62af69dc77ca52299987db4a1bee44ff?s=128&d=identicon&r=PG", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/754559/alan-moore"}, "edited": false, "score": 1, "creation_date": 1551297700, "post_id": 54913356, "comment_id": 96593495, "body": "Although the answer is correct, the <code>You can&#39;t</code> part is wrong because the question was not whether or not it&#39;s possible to use <code>var</code>. @AlanMoore All you need to do is replace <code>var</code> with <code>(int id, string name)[]</code> in your first code block and you&#39;re good to go. Check <a href=\"https://stackoverflow.com/users/5402620/jonathon-chase\">Jonathon&#39;s comment</a> above."}, {"owner": {"reputation": 14634, "user_id": 64348, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/h3b3u.png?s=128&g=1", "display_name": "Kit", "link": "https://stackoverflow.com/users/64348/kit"}, "edited": false, "score": 0, "creation_date": 1551297751, "post_id": 54913356, "comment_id": 96593518, "body": "I&#39;ll make that more clear."}, {"owner": {"reputation": 6327, "user_id": 754559, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62af69dc77ca52299987db4a1bee44ff?s=128&d=identicon&r=PG", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/754559/alan-moore"}, "reply_to_user": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1551308097, "post_id": 54913356, "comment_id": 96597818, "body": "Thanks @AhmedAbdelhameed!  That is correct, it appears that many have misread my question."}], "tags": [], "owner": {"reputation": 14634, "user_id": 64348, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/h3b3u.png?s=128&g=1", "display_name": "Kit", "link": "https://stackoverflow.com/users/64348/kit"}, "is_accepted": true, "score": 3, "last_activity_date": 1551301044, "last_edit_date": 1551301044, "creation_date": 1551296761, "answer_id": 54913356, "question_id": 54913216, "link": "https://stackoverflow.com/questions/54913216/c-how-to-create-and-initialize-a-static-array-of-valuetuples/54913356#54913356", "title": "C# How to create and initialize a static array of ValueTuples?", "body": "<p>You can't use the \"cleaner\" <code>var</code> (implicit, but still strongly typed) type but you can initialize a tuple as the commenters have suggested. The \"cleanest\" you can get away with is this, which uses type inference on the array:</p>\n\n<pre><code>(int Index, string Name)[] tupleList = {\n    (1, \"cow\"),\n    (5, \"chickens\"),\n    (1, \"airplane\")\n};\n</code></pre>\n\n<p>That, at least, allows you to avoid specifying the type twice, which is one reason people use <code>var</code>.</p>\n\n<p>The language does not support the use of <code>var</code> when declaring member variables. This is true of both static and instance fields.</p>\n\n<p>There's a <a href=\"https://blogs.msdn.microsoft.com/ericlippert/2009/01/26/why-no-var-on-fields/\" rel=\"nofollow noreferrer\">historic reason</a> for this. That's not to say it couldn't change if you propose a change and it's vetted by the community.</p>\n"}], "owner": {"reputation": 6327, "user_id": 754559, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62af69dc77ca52299987db4a1bee44ff?s=128&d=identicon&r=PG", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/754559/alan-moore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1062, "favorite_count": 0, "closed_date": 1551297549, "accepted_answer_id": 54913356, "answer_count": 1, "score": 1, "last_activity_date": 1551307885, "creation_date": 1551296175, "last_edit_date": 1551307885, "question_id": 54913216, "link": "https://stackoverflow.com/questions/54913216/c-how-to-create-and-initialize-a-static-array-of-valuetuples", "closed_reason": "Duplicate", "title": "C# How to create and initialize a static array of ValueTuples?", "body": "<p>I want to initialize a static readonly array of ValueTuples, I'd like to use the approach from this <a href=\"https://stackoverflow.com/questions/8002455/how-to-easily-initialize-a-list-of-tuples\">SO answer</a>:</p>\n\n<pre><code>var tupleList = new (int Index, string Name)[]\n  {\n      (1, \"cow\"),\n      (5, \"chickens\"),\n      (1, \"airplane\")\n  };\n</code></pre>\n\n<p>But it doesn't work for a static member, I have to declare the type of tupleList.  I can do it as a Tuple like this, but I don't know how to do it as a ValueTuple:</p>\n\n<pre><code>static readonly Tuple&lt;uint, string&gt;[] tupleList= new Tuple&lt;uint, string&gt;[]\n{\n    new Tuple&lt;uint, string&gt;(0x1, \"string1\"),\n    ...\n};\n</code></pre>\n\n<p>But I'd prefer to use the cleaner format if I can figure out the right type, so far I've tried a variety of types with no luck.</p>\n"}, {"tags": ["c#", "websocket", "speech-recognition", "text-to-speech", "nexmo"], "comments": [{"owner": {"reputation": 2372, "user_id": 2086778, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/KJq7l.png?s=128&g=1", "display_name": "SoftSan", "link": "https://stackoverflow.com/users/2086778/softsan"}, "edited": false, "score": 0, "creation_date": 1562355971, "post_id": 54913102, "comment_id": 100361572, "body": "Have you look at this library and example? It is a wrapper of NexMo api <a href=\"https://github.com/Nexmo/nexmo-dotnet/blob/master/Nexmo.Api/Voice/Call.Stream.cs\" rel=\"nofollow noreferrer\">github.com/Nexmo/nexmo-dotnet/blob/master/Nexmo.Api/Voice/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 98, "user_id": 8909660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f883555d06c0d1823ac01f0752bca7f6?s=128&d=identicon&r=PG&f=1", "display_name": "xvercruysse", "link": "https://stackoverflow.com/users/8909660/xvercruysse"}, "edited": false, "score": 1, "creation_date": 1551434223, "post_id": 54925103, "comment_id": 96647103, "body": "I tried that as well, but it still doesn&#39;t work. I edited my question with the code used to split the array"}], "tags": [], "owner": {"reputation": 2612, "user_id": 111002, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/05cd377655b626a30d433583f75df650?s=128&d=identicon&r=PG", "display_name": "Sam Machin", "link": "https://stackoverflow.com/users/111002/sam-machin"}, "is_accepted": false, "score": 2, "last_activity_date": 1551354666, "creation_date": 1551354666, "answer_id": 54925103, "question_id": 54913102, "link": "https://stackoverflow.com/questions/54913102/how-can-i-send-audio-to-nexmo-voice-through-websocket/54925103#54925103", "title": "How can I send audio to Nexmo Voice through websocket", "body": "<p>It looks like you're writing the whole audio clip to the websocket, the Nexmo  interface requires the audio to be in 20ms frames one per message, this means that you need to break your clip up into 320 or 640 byte (depending on if you're using 8Khz or 16Khz) chunks and write each one to the socket. If you try and write too larger file to the socket it will close as you are seeing.</p>\n\n<p>See <a href=\"https://developer.nexmo.com/voice/voice-api/guides/websockets#writing-audio-to-the-websocket\" rel=\"nofollow noreferrer\">https://developer.nexmo.com/voice/voice-api/guides/websockets#writing-audio-to-the-websocket</a> for the details.</p>\n"}], "owner": {"reputation": 98, "user_id": 8909660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f883555d06c0d1823ac01f0752bca7f6?s=128&d=identicon&r=PG&f=1", "display_name": "xvercruysse", "link": "https://stackoverflow.com/users/8909660/xvercruysse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1594315958, "creation_date": 1551295716, "last_edit_date": 1592644375, "question_id": 54913102, "link": "https://stackoverflow.com/questions/54913102/how-can-i-send-audio-to-nexmo-voice-through-websocket", "title": "How can I send audio to Nexmo Voice through websocket", "body": "<p>I am trying to implement Nexmo's Voice api, with websockets, in a .Net Core 2 web api.</p>\nThis api needs to  :\n<ul>\n<li>receive audio from phone call, through <a href=\"https://developer.nexmo.com/voice/voice-api/guides/websockets\" rel=\"nofollow noreferrer\">Nexmo</a></li>\n<li>use Microsoft Cognitive <a href=\"https://docs.microsoft.com/en-us/azure/cognitive-services/Speech-Service/quickstart-csharp-dotnetcore-windows\" rel=\"nofollow noreferrer\">Speech to text</a> api</li>\n<li>send the text to a bot</li>\n<li>use Microsoft Cognitive <a href=\"https://docs.microsoft.com/en-us/azure/cognitive-services/Speech-Service/quickstart-dotnet-text-to-speech\" rel=\"nofollow noreferrer\">text to speech</a> on the reply of the bot</li>\n<li>send back the speech to nexmo, through their voice api websocket</li>\n</ul>\n<p>For now, I'm bypassing the bot steps, as I am first trying to connect to the websocket.\nWhen trying an echo method (send back to the websocket the audio received), it works without any issue.\nBut when I try to send the speech from Microsoft text to speech, the phone call ends.</p>\n<p>I am not finding any documentation implementing something different than just an echo.</p>\n<p>The TextToSpeech and SpeechToText methods work as expected when used outside of the websocket.</p>\n<p>Here's the websocket with the speech-to-text :</p>\n<pre><code>public static async Task Echo(HttpContext context, WebSocket webSocket)\n    {\n        var buffer = new byte[1024 * 4];\n        WebSocketReceiveResult result = await webSocket.ReceiveAsync(new ArraySegment&lt;byte&gt;(buffer), CancellationToken.None);\n        while (!result.CloseStatus.HasValue)\n        {\n            while(!result.EndOfMessage)\n            {\n                result = await webSocket.ReceiveAsync(new ArraySegment&lt;byte&gt;(buffer), CancellationToken.None);\n            }\n            var text = SpeechToText.RecognizeSpeechFromBytesAsync(buffer).Result;\n            Console.WriteLine(text);\n        }\n        await webSocket.CloseAsync(result.CloseStatus.Value, result.CloseStatusDescription, CancellationToken.None);\n    }\n</code></pre>\n<p>And here's the websocket with the text-to-speech :</p>\n<pre><code>public static async Task Echo(HttpContext context, WebSocket webSocket)\n    {\n        var buffer = new byte[1024 * 4];\n        WebSocketReceiveResult result = await webSocket.ReceiveAsync(new ArraySegment&lt;byte&gt;(buffer), CancellationToken.None);\n        while (!result.CloseStatus.HasValue)\n        {\n            var ttsAudio = await TextToSpeech.TransformTextToSpeechAsync(&quot;Hello, this is a test&quot;, &quot;en-US&quot;);\n            await webSocket.SendAsync(new ArraySegment&lt;byte&gt;(ttsAudio, 0, ttsAudio.Length), WebSocketMessageType.Binary, true, CancellationToken.None);\n\n            result = await webSocket.ReceiveAsync(new ArraySegment&lt;byte&gt;(buffer), CancellationToken.None);\n        }\n        await webSocket.CloseAsync(result.CloseStatus.Value, result.CloseStatusDescription, CancellationToken.None);\n    }\n</code></pre>\n<hr />\n<p><strong>Update March 1st 2019</strong></p>\n<p>in reply to <em>Sam Machin</em>'s comment\nI tried splitting the array into chunks of 640 bytes each (I'm using 16000khz sample rate), but nexmo still hangs up the call, and I still don't hear anything.</p>\n<pre><code>public static async Task NexmoTextToSpeech(HttpContext context, WebSocket webSocket)\n    {\n        var ttsAudio = await TextToSpeech.TransformTextToSpeechAsync(&quot;This is a test&quot;, &quot;en-US&quot;);\n        var buffer = new byte[1024 * 4];\n        WebSocketReceiveResult result = await webSocket.ReceiveAsync(new ArraySegment&lt;byte&gt;(buffer), CancellationToken.None);\n\n        while (!result.CloseStatus.HasValue)\n        {\n            await SendSpeech(context, webSocket, ttsAudio);\n            result = await webSocket.ReceiveAsync(new ArraySegment&lt;byte&gt;(buffer), CancellationToken.None);\n        }\n        await webSocket.CloseAsync(WebSocketCloseStatus.NormalClosure, &quot;Closing Socket&quot;, CancellationToken.None);\n    }\n\n    private static async Task SendSpeech(HttpContext context, WebSocket webSocket, byte[] ttsAudio)\n    {\n        const int chunkSize = 640;\n        var chunkCount = 1;\n        var offset = 0;\n        \n        var lastFullChunck = ttsAudio.Length &lt; (offset + chunkSize);\n        try\n        {\n            while(!lastFullChunck)\n            {\n                await webSocket.SendAsync(new ArraySegment&lt;byte&gt;(ttsAudio, offset, chunkSize), WebSocketMessageType.Binary, false, CancellationToken.None);\n                offset = chunkSize * chunkCount;\n                lastFullChunck = ttsAudio.Length &lt; (offset + chunkSize);\n                chunkCount++;\n            }\n\n            var lastMessageSize = ttsAudio.Length - offset;\n            await webSocket.SendAsync(new ArraySegment&lt;byte&gt;(ttsAudio, offset, lastMessageSize), WebSocketMessageType.Binary, true, CancellationToken.None);\n        }\n        catch (Exception ex)\n        {\n        }\n    }\n</code></pre>\n<p>Here's the exception that sometimes appears in the logs :</p>\n<blockquote>\n<p>System.Net.WebSockets.WebSocketException (0x80004005): The remote\nparty closed the WebSocket connection without completing the close\nhandshake.</p>\n</blockquote>\n"}, {"tags": ["c#", "mysql", "visual-studio", "stored-procedures", "mysql-workbench"], "comments": [{"owner": {"reputation": 3175, "user_id": 2482439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Tfso8.jpg?s=128&g=1", "display_name": "Norcino", "link": "https://stackoverflow.com/users/2482439/norcino"}, "edited": false, "score": 1, "creation_date": 1551295884, "post_id": 54912885, "comment_id": 96592699, "body": "This question does not have enough information, and the tags are incorrect, please update your question adding more details. Do not store plain passwords in the database, never! Google about the topic, hash the passwords for example. Moreover, you should try to organise your code better and give variables meaningful names."}, {"owner": {"reputation": 3, "user_id": 8273091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a1e78e75a4e8d9a6d4671a63c92e7f1?s=128&d=identicon&r=PG&f=1", "display_name": "BEN K", "link": "https://stackoverflow.com/users/8273091/ben-k"}, "reply_to_user": {"reputation": 3175, "user_id": 2482439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Tfso8.jpg?s=128&g=1", "display_name": "Norcino", "link": "https://stackoverflow.com/users/2482439/norcino"}, "edited": false, "score": 0, "creation_date": 1551296203, "post_id": 54912885, "comment_id": 96592822, "body": "@Manuel How? all the tags are correct it what I am using every single tag has to do with my code. Also, what others details can I add?"}, {"owner": {"reputation": 3175, "user_id": 2482439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Tfso8.jpg?s=128&g=1", "display_name": "Norcino", "link": "https://stackoverflow.com/users/2482439/norcino"}, "edited": false, "score": 0, "creation_date": 1551296586, "post_id": 54912885, "comment_id": 96592996, "body": "Tags like mysql and mysql-workbench are not really necessary here, but tag aside, the code you shared seems to be doing already what you say, in the else statement you already populate a table, is that code not producing the desired effects?"}, {"owner": {"reputation": 3, "user_id": 8273091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a1e78e75a4e8d9a6d4671a63c92e7f1?s=128&d=identicon&r=PG&f=1", "display_name": "BEN K", "link": "https://stackoverflow.com/users/8273091/ben-k"}, "reply_to_user": {"reputation": 3175, "user_id": 2482439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Tfso8.jpg?s=128&g=1", "display_name": "Norcino", "link": "https://stackoverflow.com/users/2482439/norcino"}, "edited": false, "score": 0, "creation_date": 1551296795, "post_id": 54912885, "comment_id": 96593112, "body": "@Manuel no the code works but not the way I want it. When the user logs in with his credentials he should only view his own grade and not everyone else that where I need help. I just want the logged in user to be able to view his own info."}, {"owner": {"reputation": 3175, "user_id": 2482439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Tfso8.jpg?s=128&g=1", "display_name": "Norcino", "link": "https://stackoverflow.com/users/2482439/norcino"}, "edited": false, "score": 0, "creation_date": 1551361006, "post_id": 54912885, "comment_id": 96618467, "body": "I see, you need to run a query filtering by the user ID. Do not use a stored procedure to read data, use a select statement. When you authenticate the user, you get back a list of rows, that in theory should only be one. Check the table stdinfotable , look for an ID and use that ID to filter the table grades"}, {"owner": {"reputation": 3, "user_id": 8273091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a1e78e75a4e8d9a6d4671a63c92e7f1?s=128&d=identicon&r=PG&f=1", "display_name": "BEN K", "link": "https://stackoverflow.com/users/8273091/ben-k"}, "reply_to_user": {"reputation": 3175, "user_id": 2482439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Tfso8.jpg?s=128&g=1", "display_name": "Norcino", "link": "https://stackoverflow.com/users/2482439/norcino"}, "edited": false, "score": 0, "creation_date": 1551463186, "post_id": 54912885, "comment_id": 96662763, "body": "@Manuel how can I put this in code language I am still a beginner."}, {"owner": {"reputation": 3175, "user_id": 2482439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Tfso8.jpg?s=128&g=1", "display_name": "Norcino", "link": "https://stackoverflow.com/users/2482439/norcino"}, "edited": false, "score": 0, "creation_date": 1551545557, "post_id": 54912885, "comment_id": 96682865, "body": "In order to be able to answer you need to add some more details, like the data structure."}, {"owner": {"reputation": 3, "user_id": 8273091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a1e78e75a4e8d9a6d4671a63c92e7f1?s=128&d=identicon&r=PG&f=1", "display_name": "BEN K", "link": "https://stackoverflow.com/users/8273091/ben-k"}, "reply_to_user": {"reputation": 3175, "user_id": 2482439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Tfso8.jpg?s=128&g=1", "display_name": "Norcino", "link": "https://stackoverflow.com/users/2482439/norcino"}, "edited": false, "score": 0, "creation_date": 1551809192, "post_id": 54912885, "comment_id": 96772950, "body": "@Norcino what do you mean by data structure? I am learning this by myself if you could help I would really appreciate it"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8273091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a1e78e75a4e8d9a6d4671a63c92e7f1?s=128&d=identicon&r=PG&f=1", "display_name": "BEN K", "link": "https://stackoverflow.com/users/8273091/ben-k"}, "edited": false, "score": 0, "creation_date": 1551463102, "post_id": 54913971, "comment_id": 96662728, "body": "I just put in the studentinfo table"}], "tags": [], "owner": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "is_accepted": false, "score": 0, "last_activity_date": 1551299349, "creation_date": 1551299349, "answer_id": 54913971, "question_id": 54912885, "link": "https://stackoverflow.com/questions/54912885/how-can-i-make-it-so-only-the-logged-in-user-view-his-own-grade/54913971#54913971", "title": "How can I make it so only the logged in user view his own grade?", "body": "<p>Right now your stored procedure is selecting all of the grades. First thing to do would be to parameterize the query, accepting the user as the input, and using the WHERE clause to find only the grades for that student. Without seeing your tables, I cannot tell you exactly what this would look like, but as an example:  SELECT * FROM Grades WHERE StudentId = @StudentId;</p>\n\n<p>The second thing you need to figure out is how to get the current user's student id and then pass it to the stored procedure. Again, without seeing your tables, I can hardly guess. It appears you already have the username of the current user. Are you able to run a query to find the studentId from the username? If so, then you first need to run that procedure with username as the parameter to get the studentId.</p>\n\n<p>A third concern is with your first query. Since it has not been parameterized, it is susceptible to SQL injection attacks. This poses a MAJOR security risk. If someone maliciously enters a username or password, they can escape the SQL you intended to run and drop all of your tables.</p>\n\n<p>Hopefully that helps!</p>\n"}], "owner": {"reputation": 3, "user_id": 8273091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a1e78e75a4e8d9a6d4671a63c92e7f1?s=128&d=identicon&r=PG&f=1", "display_name": "BEN K", "link": "https://stackoverflow.com/users/8273091/ben-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557504601, "creation_date": 1551294882, "last_edit_date": 1557504601, "question_id": 54912885, "link": "https://stackoverflow.com/questions/54912885/how-can-i-make-it-so-only-the-logged-in-user-view-his-own-grade", "title": "How can I make it so only the logged in user view his own grade?", "body": "<p><a href=\"https://i.stack.imgur.com/1XTjy.png\" rel=\"nofollow noreferrer\">This is the student info table where the student info comes from</a>    //This is the login code for the user and it get the user log in info from the studentinfo table.  </p>\n\n<pre><code>private void btnlogin_Click(object sender, EventArgs e)\n{\n        i = 0;\n        con.Open();\n        MySqlCommand cmd = con.CreateCommand();\n\n        cmd.CommandType = CommandType.Text;\n        cmd.CommandText = \"select * from stdinfotable WHERE Username='\" + textuser.Text + \"' and Password= '\" + textpass.Text + \"'\";\n        cmd.ExecuteNonQuery();\n\n        DataTable dt = new DataTable();\n        MySqlDataAdapter dta = new MySqlDataAdapter(cmd);\n        dta.Fill(dt);\n\n        i = Convert.ToInt32(dt.Rows.Count.ToString());\n\n        if(i==0)\n        {\n            MessageBox.Show(\"Error\");\n        }\n        else\n        {\n            this.Hide();\n            StudentPage f = new StudentPage();\n            f.Show();\n            MySqlDataAdapter data = new MySqlDataAdapter(\"ViewAllGrades\", con);\n            data.SelectCommand.CommandType = CommandType.StoredProcedure;\n            DataTable dtTable = new DataTable();\n\n            data.Fill(dtTable);\n            dtTable.Select(\"Last_Name\");\n\n            f.stdGrade.DataSource = dtTable;\n            f.stdGrade.Columns[0].Visible = false;\n        }\n\n        con.Close();\n}\n</code></pre>\n\n<p>This is the <code>ViewlAllGrades</code> stored procedure where the grade info is returned from</p>\n\n<pre><code> CREATE DEFINER=`root`@`localhost` PROCEDURE `ViewAllGrades`()\n BEGIN\n    SELECT * \n  FROM  Grades;\n\n  END\n</code></pre>\n\n<p>I am trying to make it so only the logged in user can view his own grade rather than viewing every user grade. So I am wondering should I try to do within the stored procedure or in Visual Studio and how would I achieve such thing? Also my primary keys which are ID are from both table are auto incremented so I cant not necessarily use those</p>\n"}, {"tags": ["c#", "windows", "xaml", "uwp"], "comments": [{"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1551298796, "post_id": 54912703, "comment_id": 96594014, "body": "I recommend just using an <code>ItemsControl</code> instead.  Then build up around it what you need.  If there&#39;s nothing the <code>ListView</code> offers that you&#39;re using then it&#39;s just a bloated <code>ItemsControl</code> anyway."}], "answers": [{"tags": [], "owner": {"reputation": 446, "user_id": 10787154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NEj0C.jpg?s=128&g=1", "display_name": "RLoris", "link": "https://stackoverflow.com/users/10787154/rloris"}, "is_accepted": false, "score": -1, "last_activity_date": 1551299642, "creation_date": 1551299642, "answer_id": 54914040, "question_id": 54912703, "link": "https://stackoverflow.com/questions/54912703/creating-a-simplistic-listview-in-uwp/54914040#54914040", "title": "Creating a simplistic ListView in UWP", "body": "<p>try using this : </p>\n\n<pre><code>&lt;ListView SelectionMode=\"None\" IsItemClickEnabled=\"False\"  &gt;\n    &lt;ListView.ItemContainerStyle&gt;\n        &lt;Style TargetType=\"ListViewItem\"&gt;\n            &lt;Setter Property=\"FocusVisualPrimaryThickness\" Value=\"0\" /&gt;\n            &lt;Setter Property=\"FocusVisualSecondaryThickness\" Value=\"0\" /&gt;\n            &lt;Setter Property=\"IsTabStop\" Value=\"False\" /&gt;\n        &lt;/Style&gt;\n    &lt;/ListView.ItemContainerStyle&gt;\n&lt;/ListView&gt;\n</code></pre>\n\n<p>All It does is reduce the visual tickness ( top and bottom ) to 0 making it disappear and hides the visual selection. Hope this solves your problem ?</p>\n"}], "owner": {"reputation": 49, "user_id": 11126432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c531f3eb4ce57e7f1a0e444f82ecb71?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/11126432/praveen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "closed_date": 1551434375, "answer_count": 1, "score": 0, "last_activity_date": 1551299642, "creation_date": 1551294105, "last_edit_date": 1551298692, "question_id": 54912703, "link": "https://stackoverflow.com/questions/54912703/creating-a-simplistic-listview-in-uwp", "closed_reason": "Duplicate", "title": "Creating a simplistic ListView in UWP", "body": "<p>I am using a <code>ListView</code> in my UWP app. I want a very simplistic <code>ListView</code> which has no animations and does not respond to <code>hover</code>, <code>selection</code> etc. So I am using the ListView control as:</p>\n\n<pre><code>&lt;ListView SelectionMode=\"None\" IsItemClickEnabled=\"False\"/&gt;\n</code></pre>\n\n<p>Though this does most of the things for me. But I have one more requirement, I do not want the bulging of the top and bottom of the border of my <code>ListView</code> elements when I hover over them as highlighted in red in the following screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ygqWI.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n\n<p>Is there any way I can avoid this? Any help would be appreciated.</p>\n"}, {"tags": ["c#", "variables", "math", "operator-keyword"], "comments": [{"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 5, "creation_date": 1551293910, "post_id": 54912632, "comment_id": 96591791, "body": "Seems pretty clear - you can&#39;t &quot;subtract&quot; two strings ,even iof those strings represent numeric values. You have to convert them to numeric types first."}, {"owner": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 1, "creation_date": 1551293941, "post_id": 54912632, "comment_id": 96591810, "body": "You can&#39;t add two strings together... You get a scalar out of your execute operation then immediately <code>ToString</code> it... You are trying to sum strings."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "reply_to_user": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 3, "creation_date": 1551293991, "post_id": 54912632, "comment_id": 96591830, "body": "@Charleh You <i>can</i> &quot;add&quot; two strings (meaning you can use the <code>+</code> operator), but that <i>concatenates</i> them."}, {"owner": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 0, "creation_date": 1551294106, "post_id": 54912632, "comment_id": 96591878, "body": "Yeah true, you knew what I meant though (mathematically)! Using operator+ here is not going to give you the results you want :("}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1551294236, "post_id": 54912632, "comment_id": 96591940, "body": "<i>&quot;quantity&quot; is an int type</i>"}, {"owner": {"reputation": 19, "user_id": 11123360, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ojFhIQR0fCg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdOKONa8K4u1RnhViHHI054Bu_4vQ/mo/photo.jpg?sz=128", "display_name": "sachintha imindhu", "link": "https://stackoverflow.com/users/11123360/sachintha-imindhu"}, "edited": false, "score": 0, "creation_date": 1551327236, "post_id": 54912632, "comment_id": 96602227, "body": "Thanks everybody for helping me out."}], "answers": [{"comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1551294214, "post_id": 54912694, "comment_id": 96591932, "body": "Also, he may need to check for null."}, {"owner": {"reputation": 19, "user_id": 11123360, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ojFhIQR0fCg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdOKONa8K4u1RnhViHHI054Bu_4vQ/mo/photo.jpg?sz=128", "display_name": "sachintha imindhu", "link": "https://stackoverflow.com/users/11123360/sachintha-imindhu"}, "edited": false, "score": 0, "creation_date": 1551327216, "post_id": 54912694, "comment_id": 96602219, "body": "Thanks a lot. Now it works perfectly fine. Thanks for explaining this to me."}], "tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": false, "score": 0, "last_activity_date": 1551294310, "last_edit_date": 1551294310, "creation_date": 1551294074, "answer_id": 54912694, "question_id": 54912632, "link": "https://stackoverflow.com/questions/54912632/operator-cannot-be-applied-to-operands-of-type-string-and-string/54912694#54912694", "title": "Operator &#39;-&#39; cannot be applied to operands of type string and string", "body": "<p>Convert to a numeric type rather than strings:</p>\n\n<pre><code>int temporaryquantity = (int)cmd3.ExecuteScalar();\n</code></pre>\n\n<p>Other things to note:</p>\n\n<ul>\n<li><code>ExecuteScalar</code> will give you only the <em>first</em> value from your query - are your queries guaranteed to only return one value? Or are you expecting something to sum up multiple values?</li>\n<li><code>ExecuteScalar</code> returns an <code>object</code>, meaning it can be a string, a double, an integer, null, etc. If you cast to <code>int</code> you are <em>assuming</em> that the query is returning a non-null integer value, otherwise it will fail at runtime.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 7629667, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203036352826384/picture?type=large", "display_name": "S&#233;rgio Sereno", "link": "https://stackoverflow.com/users/7629667/s%c3%a9rgio-sereno"}, "is_accepted": true, "score": 0, "last_activity_date": 1551294519, "last_edit_date": 1551294519, "creation_date": 1551294309, "answer_id": 54912755, "question_id": 54912632, "link": "https://stackoverflow.com/questions/54912632/operator-cannot-be-applied-to-operands-of-type-string-and-string/54912755#54912755", "title": "Operator &#39;-&#39; cannot be applied to operands of type string and string", "body": "<p>You can not apply arithmetic operators to strings.  Change to double or integer:</p>\n\n<pre><code>string query3 = \"SELECT Quantity FROM Supplier WHERE [Supplier ID]='\" + supplierid + \"'\";\nstring query4 = \"SELECT Quantity FROM Supplier WHERE [Book ID] = '\" + bookid + \"'\";\n\nSqlCommand cmd3 = new SqlCommand(query3, con);\nSqlCommand cmd4 = new SqlCommand(query4, con);\ncon.Open();\ndouble temporaryquantity = Convert.ToDouble( cmd3.ExecuteScalar());\ndouble temporaryquantitystocks = Convert.ToDouble(cmd4.ExecuteScalar());\ndouble totalcostforstocks = (temporaryquantitystocks - temporaryquantity + quantity) * buyingpriceperbook;\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 11123360, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ojFhIQR0fCg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdOKONa8K4u1RnhViHHI054Bu_4vQ/mo/photo.jpg?sz=128", "display_name": "sachintha imindhu", "link": "https://stackoverflow.com/users/11123360/sachintha-imindhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1145, "favorite_count": 0, "accepted_answer_id": 54912755, "answer_count": 2, "score": 1, "last_activity_date": 1551295282, "creation_date": 1551293824, "last_edit_date": 1551295282, "question_id": 54912632, "link": "https://stackoverflow.com/questions/54912632/operator-cannot-be-applied-to-operands-of-type-string-and-string", "title": "Operator &#39;-&#39; cannot be applied to operands of type string and string", "body": "<p>I want to create a new variable using two string variables. But I keep getting the error message </p>\n\n<blockquote>\n  <p>\"operator '-' cannot be applied to operands of type string and string c#\".</p>\n</blockquote>\n\n<pre><code>string query3 = \"SELECT Quantity FROM Supplier WHERE [Supplier ID]='\"+supplierid+\"'\";\nstring query4 = \"SELECT Quantity FROM Supplier WHERE [Book ID] = '\" + bookid + \"'\";\nSqlCommand cmd3 = new SqlCommand(query3, con);\nSqlCommand cmd4 = new SqlCommand(query4, con);\ncon.Open();\nstring temporaryquantity = cmd3.ExecuteScalar().ToString();\nstring temporaryquantitystocks = cmd4.ExecuteScalar().ToString();\nstring totalcostforstocks = (temporaryquantitystocks-temporaryquantity + quantity) * buyingpriceperbook;\n</code></pre>\n\n<p>\"quantity\" is in int type<br/>\n\"buyingpriceperbook\" is in double type</p>\n\n<p>Can anyone help me with this?</p>\n"}, {"tags": ["javascript", "c#", "asp.net", "core"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7296547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce2fac7cc68c5cad8a6690bac60eede2?s=128&d=identicon&r=PG&f=1", "display_name": "fahr", "link": "https://stackoverflow.com/users/7296547/fahr"}, "edited": false, "score": 0, "creation_date": 1551336059, "post_id": 54915048, "comment_id": 96604935, "body": "@ jalil - thanx a lot for your response, you are right, after serverside Rendering the button have only a href=&quot;/link&quot; instead the aps-action and so on...  Do you have an example how to change this button from javascript ? Because everytyhing i tried goes wrong...."}], "tags": [], "owner": {"reputation": 75, "user_id": 1497045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XfkBs.jpg?s=128&g=1", "display_name": "jalil", "link": "https://stackoverflow.com/users/1497045/jalil"}, "is_accepted": false, "score": 0, "last_activity_date": 1551361384, "last_edit_date": 1551361384, "creation_date": 1551304214, "answer_id": 54915048, "question_id": 54912551, "link": "https://stackoverflow.com/questions/54912551/how-can-i-access-a-variable-from-js-in-asp-net-core/54915048#54915048", "title": "How can I access a variable from JS in Asp.Net Core?", "body": "<p>I think it is not possible with asp-route-id because it is server side rendering. You need to do client side rendering like dynamically add html tag based on your criteria.</p>\n\n<p>I think it is not going to work with Asp.net Mvc Core  Tag Helpers. I am giving solution by Old ways may be you already knows. </p>\n\n<p>1.Modify button </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a  id=\"test\" class=\"mb-1 mt-1 mr-1 btn btn-primary\"&gt;\n    &lt;i class=\"fas fa-cloud\"&gt;&lt;/i&gt;\n    alle Depotst\u00e4nde aktualisieren ASP\n&lt;/a&gt;\n</code></pre>\n\n<ol start=\"2\">\n<li>script update by</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(\"test\").attr(\"href\",\u201d Task/Lengthy/\u201d+ VARIABLE ))\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7296547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce2fac7cc68c5cad8a6690bac60eede2?s=128&d=identicon&r=PG&f=1", "display_name": "fahr", "link": "https://stackoverflow.com/users/7296547/fahr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 643, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1551363114, "creation_date": 1551293516, "last_edit_date": 1551363114, "question_id": 54912551, "link": "https://stackoverflow.com/questions/54912551/how-can-i-access-a-variable-from-js-in-asp-net-core", "title": "How can I access a variable from JS in Asp.Net Core?", "body": "<p>i have a Button in a <code>.cshtml</code>:</p>\n\n<pre><code>&lt;div class=\"buttons-collection\" style=\"text-align: center\"&gt;\n    &lt;p&gt;\n        &lt;a asp-action=\"Lengthy\" asp-controller=\"Task\" id=\"test\" class=\"mb-1 mt-1 mr-1 btn btn-primary\"&gt;&lt;i class=\"fas fa-cloud\"&gt;&lt;/i&gt; alle Depotst\u00e4nde aktualisieren ASP&lt;/a&gt;\n    &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I need a script which put a <code>\"asp-route-id=\"VARIABLE\"</code> to this button where VARIABLE is from the <code>javascript</code> (<code>SignalR</code> connection Hub ID).</p>\n\n<p>All what i tried goes wrong - did everyone has an idea ?</p>\n\n<p>As i understand the <code>asp-action and asp-controller</code> is in <code>html</code> after rendering:</p>\n\n<pre><code>href=\"Task/Lengthy\"\n</code></pre>\n\n<p>at the end i need</p>\n\n<pre><code>href=\"Task/Lengthy/VARIABLE\"\n</code></pre>\n\n<p>Because i need the rerendering of the view it is necessary to use the asp-action thing,...the second button i use works well, but the view will not refresh:</p>\n\n<pre><code>&lt;button class=\"mb-1 mt-1 mr-1 btn btn-primary\" disabled=\"disabled\"\n                id=\"startButton\"\n                onclick=\"startTask()\"&gt;\n            &lt;i class=\"fas fa-cloud\"&gt;&lt;/i&gt; alle Depotst\u00e4nde aktualisieren JS\n        &lt;/button&gt;\n</code></pre>\n\n<p>and the function:</p>\n\n<pre><code>&lt;script&gt;\n    function startTask() {\n        $.post(\"/Task/Lengthy/\" + progressConnectionId);\n    }&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["c#", "sql", "sqlite"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1551294092, "post_id": 54912510, "comment_id": 96591871, "body": "You may not need to get &#39;i&#39; for every piece of data.  If you are a single user to the database get i once max work.  If you have a multi-user database then you have to worry about multiple user simultaneously try to write the next i.  So then you have a stored procedure in database get the next i and make sure only one user call the next i method."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 1, "creation_date": 1551300517, "post_id": 54913061, "comment_id": 96594765, "body": "this, possibly in combination with auto-increment should fulfill OP&#39;s needs."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11092371"}, "edited": false, "score": 0, "creation_date": 1551373101, "post_id": 54913061, "comment_id": 96625841, "body": "Any advice for SQLite? Plus I know I&#39;m not quer-ing the id correctly. Any help on how I could format that correctly?"}, {"owner": {"reputation": 565, "user_id": 9555272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LKaN8.png?s=128&g=1", "display_name": "fhcimolin", "link": "https://stackoverflow.com/users/9555272/fhcimolin"}, "edited": false, "score": 0, "creation_date": 1551380852, "post_id": 54913061, "comment_id": 96629679, "body": "@Anon SQLite has a column property called <a href=\"https://www.sqlite.org/autoinc.html\" rel=\"nofollow noreferrer\">AUTOINCREMENT</a>. You shouldn&#39;t need to query your max ID from your C# code. Just make you don&#39;t inform an ID in your insert command, and the database will provide it for you."}], "tags": [], "owner": {"reputation": 565, "user_id": 9555272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LKaN8.png?s=128&g=1", "display_name": "fhcimolin", "link": "https://stackoverflow.com/users/9555272/fhcimolin"}, "is_accepted": false, "score": 2, "last_activity_date": 1551301350, "last_edit_date": 1551301350, "creation_date": 1551295558, "answer_id": 54913061, "question_id": 54912510, "link": "https://stackoverflow.com/questions/54912510/how-am-i-able-to-use-sql-code-to-store-information-in-c/54913061#54913061", "title": "How am I able to use SQL code to store information in C#", "body": "<p>Depending on which database you're operating on, there should be a way to auto-increment to the max ID from a given table at the moment of an insert. For instance: <a href=\"https://www.w3schools.com/sql/sql_autoincrement.asp\" rel=\"nofollow noreferrer\">IDENTITY</a> on MS SQL Server and MySQL. For Oracle, you can use <a href=\"https://docs.oracle.com/cd/B12037_01/server.101/b10759/statements_6014.htm\" rel=\"nofollow noreferrer\">CREATE SEQUENCE</a>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11092371"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551301350, "creation_date": 1551293319, "question_id": 54912510, "link": "https://stackoverflow.com/questions/54912510/how-am-i-able-to-use-sql-code-to-store-information-in-c", "title": "How am I able to use SQL code to store information in C#", "body": "<p>So in this code, the entire database is called GProperty, and I need to access the table called ScannedDocs. If the filename already exists I need to do nothing. 'filename' is the variable of the read in file while 'fileName' is a field in ScannedDocs that stores new filenames in the database. If there is no file that exists I need to give it an id which is why I search for the biggest id and then add 1 to ensure I give the new file a new id. \nI just need a few pointers to make sure I'm doing this correctly. Any help is appreciated. Thank You!!</p>\n\n<pre><code>        GProperty db = new Gproperty();\n\n        List&lt;int&gt; args = (from ScannedDocs in db.ScannedDocs\n                          where filename = fileName\n                          select *).ToList(); \n\n        if (args.Count() = 0)\n        {\n            int i = select MAX(id) from db.ScannedDocs;\n            db.ScannedDocs.id = i+1;\n</code></pre>\n"}, {"tags": ["c#", ".net", "entity-framework", "entity-framework-core"], "comments": [{"owner": {"reputation": 376, "user_id": 1150999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3d259ab06aa5dc6137a1f16803611416?s=128&d=identicon&r=PG", "display_name": "cidico", "link": "https://stackoverflow.com/users/1150999/cidico"}, "edited": false, "score": 2, "creation_date": 1584745751, "post_id": 54912430, "comment_id": 107540682, "body": "Were you able to figure this out? I&#39;m hitting this problem now."}, {"owner": {"reputation": 145, "user_id": 3755355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d30c9d0d2e4226252ba814c23f6732?s=128&d=identicon&r=PG", "display_name": "poletaew", "link": "https://stackoverflow.com/users/3755355/poletaew"}, "edited": false, "score": 0, "creation_date": 1588947575, "post_id": 54912430, "comment_id": 109104214, "body": "So did you solve yor problem?"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 11579214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf5b8a8ebd32d37a64c938e56989752?s=128&d=identicon&r=PG&f=1", "display_name": "mateusz", "link": "https://stackoverflow.com/users/11579214/mateusz"}, "is_accepted": false, "score": 4, "last_activity_date": 1559233935, "creation_date": 1559233935, "answer_id": 56382165, "question_id": 54912430, "link": "https://stackoverflow.com/questions/54912430/unable-to-retrieve-project-metadata-ensure-its-an-msbuild-based-net-core-proj/56382165#56382165", "title": "Unable to retrieve project metadata. Ensure it&#39;s an MSBuild-based .NET Core project. (Migrations)", "body": "<p>You have to point to your web project</p>\n\n<pre><code> dotnet ef --startup-project ../TooSeeWeb migrations add MigrationName -c NameOfYourDBContext\n</code></pre>\n\n<p>More details about multi project you can find <a href=\"https://docs.microsoft.com/en-us/ef/core/managing-schemas/migrations/projects\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/ef/core/managing-schemas/migrations/projects</a></p>\n"}, {"tags": [], "owner": {"reputation": 142, "user_id": 10601841, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wBi_OyYwaLk/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCpZNHimbMJYruRTPo5NIoDE3H2LQ/mo/photo.jpg?sz=128", "display_name": "Manguera v", "link": "https://stackoverflow.com/users/10601841/manguera-v"}, "is_accepted": false, "score": 0, "last_activity_date": 1604593981, "creation_date": 1604593981, "answer_id": 64701394, "question_id": 54912430, "link": "https://stackoverflow.com/questions/54912430/unable-to-retrieve-project-metadata-ensure-its-an-msbuild-based-net-core-proj/64701394#64701394", "title": "Unable to retrieve project metadata. Ensure it&#39;s an MSBuild-based .NET Core project. (Migrations)", "body": "<p>I don't know how this problems appeared.<br>\nBut i truly know that most developers come from using these commands:</p>\n<blockquote>\n<p>dotnet ef migrations add &quot;MigrationName&quot; -s ../ProjectName</p>\n<p>dotnet ef migrations remove -s ../ProjectName</p>\n<p>dotnet ef database update -s ../ProjectName</p>\n</blockquote>\n<p>So replaced them with these:<br></p>\n<blockquote>\n<p>dotnet ef --startup-project ../ProjectName migrations add\nMigrationName -c DbContextName</p>\n<p>dotnet ef --startup-project ../ProjectName database update -c\nFoodTownDbContext</p>\n</blockquote>\n<p>I think the same apply for this,but haven't tested it:</p>\n<blockquote>\n<p>dotnet ef --startup-project ../ProjectName migrations remove\n-c DbContextName</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 3672, "user_id": 828184, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Drsll.png?s=128&g=1", "display_name": "CodingYourLife", "link": "https://stackoverflow.com/users/828184/codingyourlife"}, "is_accepted": false, "score": 0, "last_activity_date": 1616625913, "creation_date": 1616625913, "answer_id": 66790483, "question_id": 54912430, "link": "https://stackoverflow.com/questions/54912430/unable-to-retrieve-project-metadata-ensure-its-an-msbuild-based-net-core-proj/66790483#66790483", "title": "Unable to retrieve project metadata. Ensure it&#39;s an MSBuild-based .NET Core project. (Migrations)", "body": "<p>This is 2 years old but I was just in the same situation so it is still relevant. It's first result on Google for this error.</p>\n<p>So I can see in your Screenshot that you are not in the standard Windows Visual Studio so I assume you are not on Windows (makes a difference in how to write file paths). Also I can see that you used <code>..\\TooSeeWeb</code> with a backslash.</p>\n<p>Solution: Change all <code>\\</code> to a <code>/</code> forward slash so in your case I guess it would be:</p>\n<pre><code>dotnet ef migrations add ExampleMigration -s ../TooSeeWeb\n</code></pre>\n<p>For me it was working on Windows but failing on macOS (OS X) with this error:</p>\n<blockquote>\n<p>Unable to retrieve project metadata. Ensure it's an SDK-style project.\nIf you're using a custom BaseIntermediateOutputPath or\nMSBuildProjectExtensionsPath values, Use the\n--msbuildprojectextensionspath option.</p>\n</blockquote>\n<p>Additionally it gives the information (that gives a better hint):</p>\n<blockquote>\n<p>MSBUILD : error MSB1009: Project file does not exist.</p>\n</blockquote>\n<p><strong>Here my more complex statement WORKING with forward slashes:</strong></p>\n<pre><code>dotnet ef --startup-project ./MainProject.csproj migrations add MyMigration --context MyDbContextPostgreSQL --output-dir Migrations --project ../MyDatabasePostgreSQL/MyDatabasePostgreSQL.csproj\n</code></pre>\n"}], "owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6971, "favorite_count": 1, "answer_count": 3, "score": 6, "last_activity_date": 1616625913, "creation_date": 1551292908, "question_id": 54912430, "link": "https://stackoverflow.com/questions/54912430/unable-to-retrieve-project-metadata-ensure-its-an-msbuild-based-net-core-proj", "title": "Unable to retrieve project metadata. Ensure it&#39;s an MSBuild-based .NET Core project. (Migrations)", "body": "<p>I have a project with this structure <a href=\"https://i.stack.imgur.com/X6tSl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/X6tSl.png\" alt=\"enter image description here\"></a></p>\n\n<p>TooSeeWeb.Infrastructure is for migrations.</p>\n\n<p>When I try to run migrations with this command</p>\n\n<pre><code>dotnet ef migrations add ExampleMigration -s ..\\TooSeeWeb\n</code></pre>\n\n<p>I have this error</p>\n\n<blockquote>\n  <p>Unable to retrieve project metadata. Ensure it's an MSBuild-based .NET Core project. If you're using custom BaseIntermediateOutputPath or MSBuildProjectExtensionsPath values, Use the --msbuildprojectextensionspath option</p>\n</blockquote>\n\n<p>How I can fix this?</p>\n"}, {"tags": ["c#", "asp.net-web-api"], "comments": [{"owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1551292320, "post_id": 54912200, "comment_id": 96591052, "body": "Perhaps is trying to validate ID, try sending ID:0 or something"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "reply_to_user": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1551292480, "post_id": 54912200, "comment_id": 96591139, "body": "Precisely the ID is automatically incremented with the DB, I don&#39;t want to transmit it in JSON"}, {"owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1551292562, "post_id": 54912200, "comment_id": 96591185, "body": "But can you just test it with Postman to check if that&#39;s the issue?"}, {"owner": {"reputation": 1050, "user_id": 7097449, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a1f6a61d9d857058a4084c9fcc9f0681?s=128&d=identicon&r=PG&f=1", "display_name": "eVolve", "link": "https://stackoverflow.com/users/7097449/evolve"}, "edited": false, "score": 0, "creation_date": 1551292626, "post_id": 54912200, "comment_id": 96591213, "body": "1) Have you debugged and validated what properties are set for the emp object. 2) Using post man have you tried setting header : ContentType  &gt;&gt;  application/json ? 3) When debugging the ModelState should tell you why its failing..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "reply_to_user": {"reputation": 1050, "user_id": 7097449, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a1f6a61d9d857058a4084c9fcc9f0681?s=128&d=identicon&r=PG&f=1", "display_name": "eVolve", "link": "https://stackoverflow.com/users/7097449/evolve"}, "edited": false, "score": 0, "creation_date": 1551292839, "post_id": 54912200, "comment_id": 96591303, "body": "@eVolve I put the contentType on Json and I just have the FirstName with the value {System.Web.Http.ModelBinding.ModelError} in the ModelState in debug mode"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "reply_to_user": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1551292896, "post_id": 54912200, "comment_id": 96591335, "body": "@Tuco Doesn&#39;t work with the ID in JSON"}, {"owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 1, "creation_date": 1551293010, "post_id": 54912200, "comment_id": 96591405, "body": "Get the errors from ModelState"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "reply_to_user": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1551293171, "post_id": 54912200, "comment_id": 96591476, "body": "@Tuco in the _innerDictionnary in the ModelState I have this :  {[emp.FirstName, System.Web.Http.ModelBinding.ModelState]}"}, {"owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1551293262, "post_id": 54912200, "comment_id": 96591515, "body": "Sorry if this sounds rude, but please search this web site or google: &quot;WebAPI get Errors ModelState&quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "reply_to_user": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1551293459, "post_id": 54912200, "comment_id": 96591594, "body": "@Tuco I said I did almost all topics of the internet so please"}, {"owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1551293487, "post_id": 54912200, "comment_id": 96591609, "body": "Ok, try this answer please <a href=\"https://stackoverflow.com/a/11686747/3596441\">stackoverflow.com/a/11686747/3596441</a>"}, {"owner": {"reputation": 1050, "user_id": 7097449, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a1f6a61d9d857058a4084c9fcc9f0681?s=128&d=identicon&r=PG&f=1", "display_name": "eVolve", "link": "https://stackoverflow.com/users/7097449/evolve"}, "edited": false, "score": 0, "creation_date": 1551293783, "post_id": 54912200, "comment_id": 96591733, "body": "@itsdeft so to confirm, you are telling us that when you debug you can can see all the properties you sent down assigned in the emp object? The ModelState contains an Errors property that should have a string that will tell you why it is failing. You are yet to provide this. In postman you have selected Post as the type of request?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "reply_to_user": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1551293846, "post_id": 54912200, "comment_id": 96591764, "body": "@Tuco The list contains an empty string ..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "reply_to_user": {"reputation": 1050, "user_id": 7097449, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a1f6a61d9d857058a4084c9fcc9f0681?s=128&d=identicon&r=PG&f=1", "display_name": "eVolve", "link": "https://stackoverflow.com/users/7097449/evolve"}, "edited": false, "score": 0, "creation_date": 1551293915, "post_id": 54912200, "comment_id": 96591796, "body": "@eVolve Yes I selected POST method in Postman and NO I see nothing my emp object is NULL"}, {"owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1551293942, "post_id": 54912200, "comment_id": 96591811, "body": "Well, can you please post in this post your post request from postmant? :) I mean the raw text, with headers and all"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "reply_to_user": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1551294163, "post_id": 54912200, "comment_id": 96591905, "body": "@Tuco Ok I just added it ! :)"}, {"owner": {"reputation": 3377, "user_id": 2348125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vc2jx.png?s=128&g=1", "display_name": "rad", "link": "https://stackoverflow.com/users/2348125/rad"}, "edited": false, "score": 0, "creation_date": 1551294895, "post_id": 54912200, "comment_id": 96592268, "body": "Nothing is wrong with what you are doing!"}, {"owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1551300235, "post_id": 54912200, "comment_id": 96594655, "body": "Can you please add [DataContract] attribute to your Employee class"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "reply_to_user": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1551301117, "post_id": 54912200, "comment_id": 96595026, "body": "@Tuco Oops it didn&#39;t appear on the code I posted but I wrote it !"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "reply_to_user": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1551307151, "post_id": 54912200, "comment_id": 96597498, "body": "@Tuco I updated my post I found that my object was null"}, {"owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "edited": false, "score": 0, "creation_date": 1551359207, "post_id": 54912200, "comment_id": 96617415, "body": "can you share your solution to github or somewhere to check it?"}], "answers": [{"tags": [], "owner": {"reputation": 278, "user_id": 4204181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15fbf6463aec4667698e056c2a7bffd6?s=128&d=identicon&r=PG&f=1", "display_name": "ScottyD0nt", "link": "https://stackoverflow.com/users/4204181/scottyd0nt"}, "is_accepted": false, "score": 0, "last_activity_date": 1551293069, "creation_date": 1551293069, "answer_id": 54912472, "question_id": 54912200, "link": "https://stackoverflow.com/questions/54912200/modele-binding-error-when-post-method-called-web-api/54912472#54912472", "title": "Modele Binding error when POST method called Web API", "body": "<p>Be sure you are sending the <code>application/json</code> header from postman. Otherwise I don't see any problems with the posted code.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "edited": false, "score": 0, "creation_date": 1551297931, "post_id": 54913107, "comment_id": 96593613, "body": "I tested with an ID in my JSON but it doesn&#39;t work too"}], "tags": [], "owner": {"reputation": 4522, "user_id": 7840778, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158454600115285/picture?type=large", "display_name": "Steve Land", "link": "https://stackoverflow.com/users/7840778/steve-land"}, "is_accepted": false, "score": 0, "last_activity_date": 1551295743, "creation_date": 1551295743, "answer_id": 54913107, "question_id": 54912200, "link": "https://stackoverflow.com/questions/54912200/modele-binding-error-when-post-method-called-web-api/54913107#54913107", "title": "Modele Binding error when POST method called Web API", "body": "<p>You're defining a class that contains a non-nullable <code>int</code> but you are not providing one in your POST body. This will always fail validation unless you provide a value for that property.</p>\n\n<p>If you want this to succeed you can either -</p>\n\n<p><strong>Option 1</strong> - Change your model to accept a null Id:</p>\n\n<pre><code>public class Employee\n{\n        public int? ID { get; set; }\n        public string FirstName { get; set; }\n        public string LastName { get; set; }\n}\n</code></pre>\n\n<p><strong>Option 2</strong> - Provide a default (but valid!) <code>int</code> in your POST body that must be replaced by your database/backend code once an Id has been generated:</p>\n\n<pre><code>{\n    \"ID\" : 0,\n    \"FirstName\" : \"John\",\n    \"LastName\" : \"Malon\"\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10218123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551303191, "creation_date": 1551292062, "last_edit_date": 1551303191, "question_id": 54912200, "link": "https://stackoverflow.com/questions/54912200/modele-binding-error-when-post-method-called-web-api", "title": "Modele Binding error when POST method called Web API", "body": "<p>I come to post here after reading a lot of topics about the same mistake I have now.</p>\n\n<p>I have a WEB API that works in GET but not in POST.\nWhen I send him JSON with POSTMAN, I get an error message in the ModelState which is ModelError ModelBinding</p>\n\n<p>This is my model class:</p>\n\n<pre><code>[DataContract]\npublic class Employee\n{\n        [DataMember]\n        public int ID { get; set; }\n        [DataMember(IsRequired = true)]\n        public string FirstName { get; set; }\n        [DataMember(IsRequired = true)]\n        public string LastName { get; set; }\n}\n</code></pre>\n\n<p>Here is the Post method of the controller of my API :</p>\n\n<pre><code>public IHttpActionResult Post([FromBody]Employee emp)\n{\n            if (!ModelState.IsValid)\n                return BadRequest(\"Invalid data\");\n\n            ...\n            return Ok();\n}\n</code></pre>\n\n<p>In this controller, I pass in my if and it returns \"invalid data\" to me</p>\n\n<p>I tried everything, I removed the[DataContract] in my model, but nothing works.</p>\n\n<p>Here is an example of the JSON I am sending:</p>\n\n<pre><code>{\n    \"FirstName\" : \"John\",\n    \"LastName\" : \"Malon\"\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/viY1a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/viY1a.png\" alt=\"My header contains the contentType JSON\"></a></p>\n\n<p>Full code from Postman :</p>\n\n<pre><code>POST /api/employees HTTP/1.1\nHost: localhost:49463\nContent-Type: application/json\ncache-control: no-cache\nPostman-Token: 5ac38b20-425a-4ac7-995a-323fbd0bb9a5\n{\n    \"FirstName\" : \"John\",\n    \"LastName\" : \"Malon\",\n}------WebKitFormBoundary7MA4YWxkTrZu0gW--\n</code></pre>\n\n<p><strong>EDIT :</strong>  It seems that the emp object that I receive in the Post method is null\nI saw this post : <a href=\"https://stackoverflow.com/questions/10984040/post-parameter-is-always-null?page=1&amp;tab=votes#tab-top\">Post parameter is always null</a>\nBut english is not my primary language and I cant figure out what is the solution with the <code>=</code>\nI understand that I need to put an = in the JSON that I send, is that right ?</p>\n\n<p>Thank you in advance for your help!</p>\n"}, {"tags": ["c#", "c++-cli", "wrapper"], "comments": [{"owner": {"reputation": 465, "user_id": 10520477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f188e89e1d5b12dddfbf4069570e6b3?s=128&d=identicon&r=PG&f=1", "display_name": "Jlalonde", "link": "https://stackoverflow.com/users/10520477/jlalonde"}, "edited": false, "score": 0, "creation_date": 1551292915, "post_id": 54912131, "comment_id": 96591350, "body": "When are you getting this error, at runtime or when building"}, {"owner": {"reputation": 11, "user_id": 11126786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f79924addfbc983d0502bf2d6ba365f9?s=128&d=identicon&r=PG&f=1", "display_name": "thief", "link": "https://stackoverflow.com/users/11126786/thief"}, "reply_to_user": {"reputation": 465, "user_id": 10520477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f188e89e1d5b12dddfbf4069570e6b3?s=128&d=identicon&r=PG&f=1", "display_name": "Jlalonde", "link": "https://stackoverflow.com/users/10520477/jlalonde"}, "edited": false, "score": 0, "creation_date": 1551293132, "post_id": 54912131, "comment_id": 96591458, "body": "I am getting this error at runtime. I also noticed that when building the C# Test.exe, this shows: <code>&gt;------ Rebuild All started: Project: Test, Configuration: Debug Any CPU ------ </code> the Debug Any CPU, however I already set it to x86 in Platform Target, eh."}, {"owner": {"reputation": 465, "user_id": 10520477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f188e89e1d5b12dddfbf4069570e6b3?s=128&d=identicon&r=PG&f=1", "display_name": "Jlalonde", "link": "https://stackoverflow.com/users/10520477/jlalonde"}, "edited": false, "score": 0, "creation_date": 1551293334, "post_id": 54912131, "comment_id": 96591541, "body": "Can you add to your answer, the absolute path of the dll you&#39;re trying to target and what the path you&#39;re trying to use at runtime?"}, {"owner": {"reputation": 11, "user_id": 11126786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f79924addfbc983d0502bf2d6ba365f9?s=128&d=identicon&r=PG&f=1", "display_name": "thief", "link": "https://stackoverflow.com/users/11126786/thief"}, "reply_to_user": {"reputation": 465, "user_id": 10520477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f188e89e1d5b12dddfbf4069570e6b3?s=128&d=identicon&r=PG&f=1", "display_name": "Jlalonde", "link": "https://stackoverflow.com/users/10520477/jlalonde"}, "edited": false, "score": 0, "creation_date": 1551294537, "post_id": 54912131, "comment_id": 96592078, "body": "<code>C:\\Program Files (x86)\\Test\\Test\\Debug\\Test.Wrapper.dll</code> for both. I created a new project and targetted x86, same runtime error."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1551340317, "post_id": 54912131, "comment_id": 96606734, "body": "So you haven&#39;t done anything to ensure that the unmanaged C++ DLL gets copied as well?  Then that is what causes this problem."}], "owner": {"reputation": 11, "user_id": 11126786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f79924addfbc983d0502bf2d6ba365f9?s=128&d=identicon&r=PG&f=1", "display_name": "thief", "link": "https://stackoverflow.com/users/11126786/thief"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 320, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1581937527, "creation_date": 1551291783, "last_edit_date": 1551383423, "question_id": 54912131, "link": "https://stackoverflow.com/questions/54912131/c-cli-wrapper-could-not-load-file-or-assembly", "title": "C#/CLI wrapper &quot;Could not load file or assembly&quot;", "body": "<p>I have a C++ main.dll with exported classes which is x86, a wrapper for it in C#/CLI which is x86 and has linked main.dll's lib and I have a C# Test.exe application that makes use of that wrapper (which is also set to 32bit in Properties -> Build -> Platform Target -> x86), I referenced it by simply right clicking on References -> Add Reference -> Test.Wrapper.Dll. </p>\n\n<p>I've tried using Dependency Walker, everything looked correct except API-MS-WIN etc, but according to <a href=\"https://stackoverflow.com/a/36244530/11126786\">this</a> post, that's normal.  </p>\n\n<p>I have C++ 2013, 2015, 2017 Redistributables installed. </p>\n\n<p>Test.Wrapper.dll is also in the Test.exe's output folder. </p>\n\n<p>I have no idea after this, any kind of help is appreciated.</p>\n\n<blockquote>\n  <p>Unhandled Exception: System.IO.FileNotFoundException: Could not load\n  file or assembly 'Test.Wrapper.dll' or one of its dependencies. The\n  specified module could not be found at Test.Program.Main(String[]\n  args)</p>\n</blockquote>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 600, "user_id": 9398364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D7EPf.png?s=128&g=1", "display_name": "caxapexac", "link": "https://stackoverflow.com/users/9398364/caxapexac"}, "edited": false, "score": 1, "creation_date": 1551291836, "post_id": 54912082, "comment_id": 96590814, "body": "Just count these letters: <a href=\"https://stackoverflow.com/questions/541954/how-would-you-count-occurrences-of-a-string-actually-a-char-within-a-string\" title=\"how would you count occurrences of a string actually a char within a string\">stackoverflow.com/questions/541954/&hellip;</a>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1551293594, "post_id": 54912082, "comment_id": 96591655, "body": "<code>int upperCaseACount = s.Count(chr =&gt; chr == &#39;A&#39;);</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1551293695, "post_id": 54912082, "comment_id": 96591697, "body": "<code>int upperCaseACount = 0; foreach(char c in s) { if (c == &#39;A&#39;) upperCaseACount++; }</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1551293762, "post_id": 54912082, "comment_id": 96591724, "body": "<code>int upperCaseACount = 0; for(int i = 0; i &lt; s.Length; i++) { if (s[i] == &#39;A&#39;) upperCaseACount++; }</code>"}], "owner": {"reputation": 1, "user_id": 11126801, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JHv0OQw1aZY/AAAAAAAAAAI/AAAAAAAAACI/0Z33gcM7AdA/photo.jpg?sz=128", "display_name": "Daniel Bartusch", "link": "https://stackoverflow.com/users/11126801/daniel-bartusch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1551291995, "answer_count": 0, "score": 0, "last_activity_date": 1551291611, "creation_date": 1551291611, "question_id": 54912082, "link": "https://stackoverflow.com/questions/54912082/how-to-check-if-a-string-contains-a-specific-case-sensitive-letter", "closed_reason": "Duplicate", "title": "How to check if a string contains a specific case sensitive letter?", "body": "<p>I am literally searching everywhere but could not find an answer that suits my needs. So I want to check if a string (for example: string s = \"aoksaAsjAa\";)\nContains specific upper and lowercase letters. For the example above i want to check how many uppercase A's are in there and how many lower case a's are in there and then tell me the number of the counted letters. How do i do that?</p>\n"}, {"tags": ["c#", "html", "web-scraping", "sgmlreader"], "comments": [{"owner": {"reputation": 1545, "user_id": 8272698, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-DuuIt8xKCLw/AAAAAAAAAAI/AAAAAAAAAL8/rQ67Bbi8SKY/photo.jpg?sz=128", "display_name": "Julian Silvestri", "link": "https://stackoverflow.com/users/8272698/julian-silvestri"}, "edited": false, "score": 1, "creation_date": 1551291816, "post_id": 54912061, "comment_id": 96590804, "body": "use selenium to click on the button to load more comments then you should be able to see the data"}, {"owner": {"reputation": 91, "user_id": 7483664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b122f6f5d7b461cf50e1a90667bf0576?s=128&d=identicon&r=PG&f=1", "display_name": "heap1", "link": "https://stackoverflow.com/users/7483664/heap1"}, "edited": false, "score": 1, "creation_date": 1551291968, "post_id": 54912061, "comment_id": 96590876, "body": "Try reading <a href=\"https://stackoverflow.com/questions/24130650/scraping-data-dynamically-generated-by-javascript-in-html-document-using-c-sharp\">this question</a>. I think it will help you."}], "owner": {"user_type": "does_not_exist", "display_name": "user10911520"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551291496, "creation_date": 1551291496, "question_id": 54912061, "link": "https://stackoverflow.com/questions/54912061/how-to-get-hidden-data-in-a-html-file", "title": "How to get hidden data in a HTML file", "body": "<p>I try to get comments of a <strong>Instagram</strong> post with <code>C#</code>. But the thing is there is this <strong><em>'Load more comments'</em></strong> button which as it refers does its job and when i take a look a Firefox HTML codes all of the sudden new <code>&lt;li&gt;</code> element appears out of no where. Is this data getting there from a Database or it's embedded in HTML file? Is there a way to reach that data? I tried <code>SgmlReader</code> but i couldn't manage get all of the data that i'm looking for.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "html-agility-pack"], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 10401107, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SZGvg4fVo3E/AAAAAAAAAAI/AAAAAAAAABk/6bqKmrvXZRw/photo.jpg?sz=128", "display_name": "Dummies EBooks", "link": "https://stackoverflow.com/users/10401107/dummies-ebooks"}, "edited": false, "score": 0, "creation_date": 1551293847, "post_id": 54912362, "comment_id": 96591766, "body": "Thanks for trying .. Actually the author get a value right now .. but title not! do you know why? ... and table[2] is working in this case not 3"}, {"owner": {"reputation": 51, "user_id": 6738641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MPJGp.jpg?s=128&g=1", "display_name": "mihajlo.mladenov", "link": "https://stackoverflow.com/users/6738641/mihajlo-mladenov"}, "reply_to_user": {"reputation": 165, "user_id": 10401107, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SZGvg4fVo3E/AAAAAAAAAAI/AAAAAAAAABk/6bqKmrvXZRw/photo.jpg?sz=128", "display_name": "Dummies EBooks", "link": "https://stackoverflow.com/users/10401107/dummies-ebooks"}, "edited": false, "score": 0, "creation_date": 1551294358, "post_id": 54912362, "comment_id": 96592005, "body": "it works good on my end. Author, series and title are taken as they are on the website."}], "tags": [], "owner": {"reputation": 51, "user_id": 6738641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MPJGp.jpg?s=128&g=1", "display_name": "mihajlo.mladenov", "link": "https://stackoverflow.com/users/6738641/mihajlo-mladenov"}, "is_accepted": true, "score": 2, "last_activity_date": 1551293501, "last_edit_date": 1551293501, "creation_date": 1551292620, "answer_id": 54912362, "question_id": 54912019, "link": "https://stackoverflow.com/questions/54912019/htmlagilitypack-select-td-attribute-from-table/54912362#54912362", "title": "HtmlAgilityPack - Select td Attribute from Table", "body": "<p>Try using:</p>\n\n<pre><code>   var div = documentx.DocumentNode.SelectNodes(\"//*//table[3]//tr\");\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>    var div = documentx.DocumentNode.SelectNodes(\"//*//table[2]//tr\");\n</code></pre>\n\n<p>and use it like this:</p>\n\n<pre><code>var author = item.ChildNodes[0].InnerText;\nvar series = item.ChildNodes[1].InnerText;\nvar title = item.ChildNodes[2].InnerText;\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 10401107, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SZGvg4fVo3E/AAAAAAAAAAI/AAAAAAAAABk/6bqKmrvXZRw/photo.jpg?sz=128", "display_name": "Dummies EBooks", "link": "https://stackoverflow.com/users/10401107/dummies-ebooks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 1, "accepted_answer_id": 54912362, "answer_count": 1, "score": 0, "last_activity_date": 1551293501, "creation_date": 1551291361, "question_id": 54912019, "link": "https://stackoverflow.com/questions/54912019/htmlagilitypack-select-td-attribute-from-table", "title": "HtmlAgilityPack - Select td Attribute from Table", "body": "<p>I'm trying to get the author name from this <a href=\"http://libgen.io/foreignfiction/index.php?last=&amp;f_ext=&amp;f_lang=All\" rel=\"nofollow noreferrer\">site</a> .. The site simply shows a result of 25 Rows .. Each row contain different info like authors name, Title ...etc </p>\n\n<p>I tried lots of solution to select the author name for each tr .. but failed to retrieve the author name .. Here is my code if someone can help me to know what i missed!</p>\n\n<pre><code>var documentx = new HtmlWeb().Load(post.ExtLink);\n        var div = documentx.DocumentNode.SelectNodes(\"//*//table[2]//tr\");\n        if (div != null)\n        {\n            foreach (var item in div)\n            {\n                Book model = new Book();\n                var author= item.SelectSingleNode(\"//td[1]//a\").InnerText.ToString();\n\n                //var title = item.SelectNodes(\"//td\").Skip(2).FirstOrDefault().InnerText;\n                //var img = item.Descendants(\"img\").Select(a1 =&gt; a1.GetAttributeValue(\"src\", null)).FirstOrDefault();\n\n                model.Book_Description = author;\n\n            }\n        }\n</code></pre>\n\n<p>I want to get the author name for each row this photo explain exactly what i want:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Y1vpv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y1vpv.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I tried to debug the code .. and it's doing well before the foreach it shows that it has a 25 row result then when foreach start executing it's not showing the expected result or value.</p>\n"}, {"tags": ["c#", ".net-core", "console-application"], "answers": [{"comments": [{"owner": {"reputation": 2640, "user_id": 611628, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PV6er.jpg?s=128&g=1", "display_name": "Thulani Chivandikwa", "link": "https://stackoverflow.com/users/611628/thulani-chivandikwa"}, "edited": false, "score": 1, "creation_date": 1556831211, "post_id": 54915419, "comment_id": 98572086, "body": "In case someone wonder where IApplicationLifetime will come from in this example you need to be using the DI for this. WIth HostBuilder you would have used ConfigureService to set things up for instance by registering an implementation of IHostedService with ServiceCollection.AddHostedService. Anything injected from that level going further will then be handled accordingly and framework stuff like IApplicationLifetime come out of the box so you do not have to manually add it to the container."}, {"owner": {"reputation": 1322, "user_id": 1608705, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc5ac40e137ac74e9972a6ac4cbeac1?s=128&d=identicon&r=PG", "display_name": "annemartijn", "link": "https://stackoverflow.com/users/1608705/annemartijn"}, "edited": false, "score": 0, "creation_date": 1582125048, "post_id": 54915419, "comment_id": 106670335, "body": "&quot;This type is obsolete and will be removed in a future version. The recommended alternative is Microsoft.Extensions.Hosting.IHostApplicationLifetime.&quot;"}, {"owner": {"reputation": 717, "user_id": 3625461, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b46b43d3b4b629c2a560bc029bb928ef?s=128&d=identicon&r=PG&f=1", "display_name": "Gondil", "link": "https://stackoverflow.com/users/3625461/gondil"}, "edited": false, "score": 4, "creation_date": 1587473877, "post_id": 54915419, "comment_id": 108520687, "body": "When I call _applicationLifetime.StopApplication() in console is written that &quot;Application is shutting down...&quot; but also execution of code continues and it fails on the Exception soon in the following code :("}, {"owner": {"reputation": 828, "user_id": 5677688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b558d07bc27b12cab9b625c2eeedf17a?s=128&d=identicon&r=PG&f=1", "display_name": "liqSTAR", "link": "https://stackoverflow.com/users/5677688/liqstar"}, "reply_to_user": {"reputation": 717, "user_id": 3625461, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b46b43d3b4b629c2a560bc029bb928ef?s=128&d=identicon&r=PG&f=1", "display_name": "Gondil", "link": "https://stackoverflow.com/users/3625461/gondil"}, "edited": false, "score": 0, "creation_date": 1617706146, "post_id": 54915419, "comment_id": 118373139, "body": "@Gondil same problem here, you found any solution?"}, {"owner": {"reputation": 717, "user_id": 3625461, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b46b43d3b4b629c2a560bc029bb928ef?s=128&d=identicon&r=PG&f=1", "display_name": "Gondil", "link": "https://stackoverflow.com/users/3625461/gondil"}, "reply_to_user": {"reputation": 828, "user_id": 5677688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b558d07bc27b12cab9b625c2eeedf17a?s=128&d=identicon&r=PG&f=1", "display_name": "liqSTAR", "link": "https://stackoverflow.com/users/5677688/liqstar"}, "edited": false, "score": 0, "creation_date": 1617793676, "post_id": 54915419, "comment_id": 118404183, "body": "@liqSTAR unfortunately I don&#39;t remember anymore how I solved it or if I even solved it."}, {"owner": {"reputation": 828, "user_id": 5677688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b558d07bc27b12cab9b625c2eeedf17a?s=128&d=identicon&r=PG&f=1", "display_name": "liqSTAR", "link": "https://stackoverflow.com/users/5677688/liqstar"}, "reply_to_user": {"reputation": 717, "user_id": 3625461, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b46b43d3b4b629c2a560bc029bb928ef?s=128&d=identicon&r=PG&f=1", "display_name": "Gondil", "link": "https://stackoverflow.com/users/3625461/gondil"}, "edited": false, "score": 1, "creation_date": 1617868890, "post_id": 54915419, "comment_id": 118429864, "body": "@Gondil gladly found out myself. I just returned right after the exit to avoid any ongoing commands."}], "tags": [], "owner": {"reputation": 433, "user_id": 5301677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLeEd.jpg?s=128&g=1", "display_name": "amirhossein ghorbani", "link": "https://stackoverflow.com/users/5301677/amirhossein-ghorbani"}, "is_accepted": true, "score": 18, "last_activity_date": 1611149020, "last_edit_date": 1611149020, "creation_date": 1551306020, "answer_id": 54915419, "question_id": 54912012, "link": "https://stackoverflow.com/questions/54912012/how-to-stop-exit-terminate-dotnet-core-hostbuilder-console-application-programma/54915419#54915419", "title": "How to stop/exit/terminate dotnet core HostBuilder console application programmatically?", "body": "<p>You can use <code>IHostApplicationLifetime</code> to stop running of your application, you can access it from constructor and call <code>StopApplication()</code> method.</p>\n<pre><code>IHostApplicationLifetime _lifeTime;\npublic MyClass(IHostApplicationLifetime lifeTime)\n{\n    _lifeTime = lifeTime;\n}\n</code></pre>\n<p>then StopApplication()</p>\n<pre><code>public void Exit()\n{\n    _lifeTime.StopApplication();\n}\n</code></pre>\n<p><strong>Edited</strong> to use <code>IHostApplicationLifetime</code> as <code>IApplicationLifetime</code> is deprected.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 822275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99470d7b428690484a0a5c5e44b53b89?s=128&d=identicon&r=PG", "display_name": "ptat", "link": "https://stackoverflow.com/users/822275/ptat"}, "is_accepted": false, "score": 5, "last_activity_date": 1615977498, "last_edit_date": 1615977498, "creation_date": 1570485602, "answer_id": 58277690, "question_id": 54912012, "link": "https://stackoverflow.com/questions/54912012/how-to-stop-exit-terminate-dotnet-core-hostbuilder-console-application-programma/58277690#58277690", "title": "How to stop/exit/terminate dotnet core HostBuilder console application programmatically?", "body": "<p>Even though you are using the <a href=\"https://docs.microsoft.com/dotnet/api/microsoft.extensions.hosting.hostbuilder?view=aspnetcore-3.0\" rel=\"nofollow noreferrer\">HostBuilder</a> to register all dependencies in your application, you don't have to use the <a href=\"https://docs.microsoft.com/dotnet/api/microsoft.extensions.hosting.ihost?view=aspnetcore-3.0\" rel=\"nofollow noreferrer\">IHost</a> to execute a cmd line app. You can just execute your app via creating a service scope like so:</p>\n<pre><code>var hostbuilder = new HostBuilder();\nbuilder.ConfigureServices(ConfigureServices); //Configure all services for your application here\nvar host = hostbuilder.Build();\n\nusing (var scope = host.Services.CreateScope())\n{\n   var myAppService = scope.ServiceProvider.GetRequiredService&lt;IMyAppServiceToRun&gt;(); //Use IHost DI container to obtain instance of service to run &amp; resolve all dependencies\n\n   await myAppService.StartAsync(); // Execute your task here\n}\n\nusing (host)\n    host.StopAsync();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2057, "user_id": 1777780, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4c058db80117ed012eaf71b3f9fd101b?s=128&d=identicon&r=PG", "display_name": "Victorio Berra", "link": "https://stackoverflow.com/users/1777780/victorio-berra"}, "edited": false, "score": 1, "creation_date": 1579910220, "post_id": 59137553, "comment_id": 105936986, "body": "What about using the <code>IApplicationLifetime.StopApplication()</code> as mentioned above? What does UseConsoleLifetime do for you? Should you use both?"}], "tags": [], "owner": {"reputation": 6318, "user_id": 1767482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf351ad2c1cfa7515edfbea5d13e5626?s=128&d=identicon&r=PG", "display_name": "Alper Ebicoglu", "link": "https://stackoverflow.com/users/1767482/alper-ebicoglu"}, "is_accepted": false, "score": 0, "last_activity_date": 1575284542, "creation_date": 1575284542, "answer_id": 59137553, "question_id": 54912012, "link": "https://stackoverflow.com/questions/54912012/how-to-stop-exit-terminate-dotnet-core-hostbuilder-console-application-programma/59137553#59137553", "title": "How to stop/exit/terminate dotnet core HostBuilder console application programmatically?", "body": "<p>1- Use the <code>UseConsoleLifetime()</code> while building the host in <code>Program.cs</code></p>\n\n<p><strong><em>Program.cs:</em></strong></p>\n\n<pre><code>Host.CreateDefaultBuilder(args).UseConsoleLifetime(opts =&gt; opts.SuppressStatusMessages = true);\n</code></pre>\n\n<hr>\n\n<p>2- Registered <code>ApplicationStopped</code> event. So that you can brute force terminate the app by calling <code>Kill()</code> method of the current process.</p>\n\n<p><strong><em>Startup.cs:</em></strong></p>\n\n<pre><code>public void Configure(IHostApplicationLifetime appLifetime) {\n appLifetime.ApplicationStarted.Register(() =&gt; {\n  Console.WriteLine(\"Press Ctrl+C to shut down.\");\n });\n\n appLifetime.ApplicationStopped.Register(() =&gt; {\n  Console.WriteLine(\"Terminating application...\");\n  System.Diagnostics.Process.GetCurrentProcess().Kill();\n });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 828, "user_id": 5677688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b558d07bc27b12cab9b625c2eeedf17a?s=128&d=identicon&r=PG&f=1", "display_name": "liqSTAR", "link": "https://stackoverflow.com/users/5677688/liqstar"}, "is_accepted": false, "score": 0, "last_activity_date": 1617868806, "creation_date": 1617868806, "answer_id": 66999659, "question_id": 54912012, "link": "https://stackoverflow.com/questions/54912012/how-to-stop-exit-terminate-dotnet-core-hostbuilder-console-application-programma/66999659#66999659", "title": "How to stop/exit/terminate dotnet core HostBuilder console application programmatically?", "body": "<p>I had the same problem. I needed to terminate my web service. So I used the approach like the solution marked answer, but the service didn't terminate instantly he continued with commands. So I needed to return right after the exit.</p>\n<p>my killing method:</p>\n<pre><code>private void Exit(IHostApplicationLifetime lifetime, ExitCode code)\n{\n    Environment.ExitCode = (int)code; //just shows in debug\n    lifetime.StopApplication();\n    // add log if you want to see the exitCode\n}\n</code></pre>\n<p>the Configure method inside the Startup.cs</p>\n<pre><code>public void Configure(IApplicationBuilder app, IHostApplicationLifetime lifetime)\n{\n    // code\n    bool hasPendingMigrations = HasDatabasePendingMigrations(app);\n    if (hasPendingMigrations)\n    {\n        Exit(lifetime, ExitCode.HasPendingMigrations);\n        // we need to return explicit after exit\n        return;\n    }\n    // code\n}\n</code></pre>\n<p>You need to return.\nThe ExitCode is a custom created enum.</p>\n"}], "owner": {"reputation": 2409, "user_id": 3211221, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Qe09l.gif?s=128&g=1", "display_name": "rook", "link": "https://stackoverflow.com/users/3211221/rook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7769, "favorite_count": 3, "accepted_answer_id": 54915419, "answer_count": 4, "score": 13, "last_activity_date": 1617868806, "creation_date": 1551291345, "last_edit_date": 1615911111, "question_id": 54912012, "link": "https://stackoverflow.com/questions/54912012/how-to-stop-exit-terminate-dotnet-core-hostbuilder-console-application-programma", "title": "How to stop/exit/terminate dotnet core HostBuilder console application programmatically?", "body": "<p>I'm trying to create a dotnet core console app. The app is a simply utility app and should start, do its thing and exit.\nIt's easy to achieve using standard console application template generated by Visual Studio.\nBut these days we have HostBuilder which seems to be more attractive because it brings unifying experience with WebHostBuilder, DI, Loggin, etc.</p>\n\n<p>But it looks like this approach only designed for the long running background services. It will start and sit forever until the external termination event (like Ctrl-C).</p>\n\n<p>Is there a way to end this type of application from the inside?</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 0, "creation_date": 1551292816, "post_id": 54911998, "comment_id": 96591297, "body": "You will want to avoid saving too much information in Session - that&#39;s typically persisted with a session-state cookie that has to be carried across every HTTP request. Instead, I would recommend using something like the claims-based Identity framework, only storing the minimal you need to identify a user on each request. If you could explain what each session variable is supposed to represent, I can try adding an actual answer to get you started."}, {"owner": {"reputation": 1001, "user_id": 1588919, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9eb03b06bf23d7eae26b2c78ffc1cc51?s=128&d=identicon&r=PG", "display_name": "Joao Victor", "link": "https://stackoverflow.com/users/1588919/joao-victor"}, "reply_to_user": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 0, "creation_date": 1551294333, "post_id": 54911998, "comment_id": 96591991, "body": "You can actually ignore those three session variables. The one that matters is inside  Session[&quot;Acesso&quot;], which is the current user."}], "owner": {"reputation": 1001, "user_id": 1588919, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9eb03b06bf23d7eae26b2c78ffc1cc51?s=128&d=identicon&r=PG", "display_name": "Joao Victor", "link": "https://stackoverflow.com/users/1588919/joao-victor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551333017, "creation_date": 1551291299, "last_edit_date": 1551333017, "question_id": 54911998, "link": "https://stackoverflow.com/questions/54911998/problems-when-the-user-access-some-routes-in-my-mvc-application", "title": "Problems when the user access some routes in my MVC application", "body": "<p>I have a MVC application which my main route is defined like this:</p>\n\n<pre><code>routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n            routes.MapRoute(\n                name: \"Default\",\n                url: \"{controller}/{action}/{id}\",\n                defaults: new { controller = \"Acesso\", action = \"Index\", id = UrlParameter.Optional }\n            );\n</code></pre>\n\n<p>There are two main controllers in my app: Access and Main. When the user enters the application, it goes to Access like this:</p>\n\n<pre><code>public ActionResult Index()\n{\n            RepositorioAcesso repositorio = new RepositorioAcesso();\n            string login = System.Web.HttpContext.Current.User.Identity.Name.Split(new[] { \"\\\\\" }, StringSplitOptions.None)[1].ToLower();\n            Acesso acesso = repositorio.RecuperarAcesso(login, false);\n\n            if (acesso == null)\n            {\n                ViewBag.mensagem = \"User Not Found.\";\n                return View();\n            }\n            else\n            {\n                return RedirectToAction(\"Logando\", \"Acesso\", new { @login = login });\n            }\n        }\n</code></pre>\n\n<p>And here's the Logando method:</p>\n\n<pre><code>public RedirectToRouteResult Logando(string login)\n        {\n            RepositorioAcesso repositorio = new RepositorioAcesso();\n            RepositorioAgendamentosCliente repositorioAgendamentos = new RepositorioAgendamentosCliente();\n            Acesso acesso = repositorio.RecuperarAcesso(login, true);\n\n            Session.Timeout = 900;\n            Session[\"Login\"] = acesso.Login;\n            Session[\"LoginCompleto\"] = login.ToUpper();\n            Session[\"Nome\"] = acesso.Nome;\n            Session[\"TipoMenu\"] = ObterLayout(acesso);\n            Session[\"PaginaPrincipal\"] = ObterPaginaPrincipal(acesso);\n            Session[\"Loja\"] = acesso.Loja.LojaBase;\n            Session[\"ADABAS\"] = acesso.Loja.LojaBase;\n            Session[\"Acesso\"] = acesso;\n\n            return RedirectToAction(\"Index\", \"Principal\");\n        }\n</code></pre>\n\n<p>I did it this way because the users wanted to login using their windows account information. But if the user is recently employed by the company, he/she couldn't appear in our records because the information was not updated. So, i check if they are in our database first. If they are, then i get their info.</p>\n\n<p>Sometimes, the users would access the app directly going for the Main/Index route, which would throw an error because there would be no session information about them. So i did this:</p>\n\n<pre><code>public ActionResult Index()\n        {\n            Session[\"lista\"] = new List&lt;Alta&gt;();\n            Session[\"cliente\"] = new Cliente();\n            Session[\"Configuracao\"] = new ConfiguracaoLoja();\n            Acesso acesso = GetAcessoSession();\n\n            if (acesso == null)\n            {\n               return RedirectToAction(\"Index\", \"Acesso\");\n            }\n\n           //rest of the code here    \n}\n</code></pre>\n\n<p>It works, but not all the time, as i get some errors, which ask me to turn custom errors on on my web.config. (I still have to check those errors, as i changed my web-config 10 minutes ago).</p>\n\n<p>Is there an more efficient way to check if there is session information about the user and redirect them if needed? I'm using asp.mvc 5 btw.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "grid"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 2880234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mkcfl.jpg?s=128&g=1", "display_name": "Vetts360", "link": "https://stackoverflow.com/users/2880234/vetts360"}, "edited": false, "score": 0, "creation_date": 1551295491, "post_id": 54912999, "comment_id": 96592527, "body": "Fair enough. But It&#39;s existing functionality and I&#39;ve just been tasked to update it as simply as possible, not re-engineer it. :) The model comes directly from the DB, and the classes that handle it are all in place. :/"}, {"owner": {"reputation": 26, "user_id": 11050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jK7Ei.png?s=128&g=1", "display_name": "Luiz", "link": "https://stackoverflow.com/users/11050896/luiz"}, "reply_to_user": {"reputation": 11, "user_id": 2880234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mkcfl.jpg?s=128&g=1", "display_name": "Vetts360", "link": "https://stackoverflow.com/users/2880234/vetts360"}, "edited": false, "score": 0, "creation_date": 1551296247, "post_id": 54912999, "comment_id": 96592840, "body": "I undestand that working with legacy code can be a pain. But as a professional programmer I still would go with the viewModel object aproach and might leave a service / business layer behind."}], "tags": [], "owner": {"reputation": 26, "user_id": 11050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jK7Ei.png?s=128&g=1", "display_name": "Luiz", "link": "https://stackoverflow.com/users/11050896/luiz"}, "is_accepted": false, "score": 0, "last_activity_date": 1551295324, "creation_date": 1551295324, "answer_id": 54912999, "question_id": 54911987, "link": "https://stackoverflow.com/questions/54911987/how-do-i-dynamically-assign-a-value-to-an-mvc-grid-based-on-the-value-from-anoth/54912999#54912999", "title": "How do I dynamically assign a value to an MVC grid based on the value from another column in the row", "body": "<p>I don't see the need for a dynamic datagrid in the scenario you discribed.</p>\n\n<p>When using MVC, it's a good practice to use a ViewModel object to represent data. This way, your controller is resposible for getting the data from your business / service layer and map the result to your ViewModel object.</p>\n\n<p>Using this aproach you can create an object with your view's properties and just bind it to your gridview and other controlls.</p>\n\n<p>Your ViewModel object would look like this:</p>\n\n<pre><code>public class MyViewModelItem {\n    public int LowHouse { get; set; }\n    public int HighHouse { get; set; }\n    public char Side { get; set; }\n}\n\npublic class MyViewModel {\n    // Your other view's properties\n\n    public List&lt;MyViewModelItem&gt; List { get; set; }\n}\n</code></pre>\n\n<p>And your controller like this:</p>\n\n<pre><code>public class MyController : Controller {\n    private readonly IMyService myService;\n\n    public MyController()\n    {\n        myService = new MyService(); // Consider Dependency Injection\n    }\n\n    public ActionResult Index() {\n        var data = myService.List();\n        var myModel = MapMyModel(data);\n\n        return View(myModel);\n    }\n\n    private MyViewModel MapMyModel(IEnumerable&lt;YOUR_ENTITY&gt; data) {\n        var myModel = new MyViewModel();\n        myModel.List = new List&lt;MyViewModelItem&gt;();\n\n        foreach (var item in data)\n        {\n            myModel.List.Add(new MyViewModelItem {\n                LowHouse = item.ODD_LOW,\n                HighHouse = item.ODD_HIGH,\n                Side = [your logic]\n            })\n        }\n    }\n}\n</code></pre>\n\n<p>References:</p>\n\n<ol>\n<li><a href=\"http://rachelappel.com/use-viewmodels-to-manage-data-amp-organize-code-in-asp-net-mvc-applications/\" rel=\"nofollow noreferrer\">Use ViewModels to manage data &amp; organize code in ASP.NET MVC applications</a></li>\n<li><a href=\"https://stevemichelotti.com/aspnet-mvc-view-model-patterns/\" rel=\"nofollow noreferrer\">ASP.NET MVC View Model Patterns</a></li>\n</ol>\n"}], "owner": {"reputation": 11, "user_id": 2880234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mkcfl.jpg?s=128&g=1", "display_name": "Vetts360", "link": "https://stackoverflow.com/users/2880234/vetts360"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551341008, "creation_date": 1551291236, "last_edit_date": 1551341008, "question_id": 54911987, "link": "https://stackoverflow.com/questions/54911987/how-do-i-dynamically-assign-a-value-to-an-mvc-grid-based-on-the-value-from-anoth", "title": "How do I dynamically assign a value to an MVC grid based on the value from another column in the row", "body": "<p>I have a dataset currently that has 4 columns for values lets call them odd_low, odd_high, and even_low, even_high and I want to have two columns in the grid (LOW and HIGH) and have the values set based on the value of another column which will simply be 'O' or 'E' - This column is named side</p>\n\n<p>Here's a quick sample (right now the column is bound to the odd fields only)</p>\n\n<pre><code> columns.Add(model =&gt; model.ODD_LOW).Titled(\"Low House #\").Sortable(sortable);\ncolumns.Add(model =&gt; model.ODD_HIGH).Titled(\"High House #\").Sortable(sortable);\ncolumns.Add(model =&gt; model.SIDE).Titled(\"Side\").Sortable(sortable);\n</code></pre>\n\n<p>My guess is that I'll need to accomplish this using a script, but I'm not sure how to dynamically access the rows and fields. </p>\n"}, {"tags": ["c#", "powershell"], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 3399822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69df1c84a9b85afd1bcb2045ebab3c59?s=128&d=identicon&r=PG", "display_name": "Chris Lynch", "link": "https://stackoverflow.com/users/3399822/chris-lynch"}, "edited": false, "score": 1, "creation_date": 1551333423, "post_id": 54915511, "comment_id": 96603921, "body": "Thanks.  I stumbled across some code that actually showed me nested pipelines, as the <code>Runspace</code> class didn&#39;t have a method to attach to an existing one.  Only to create a new or new nested pipeline.  Attempting to use CreateNewPipeline method resulted in an error, which was expected.  I&#39;ll have to experiment with your guidance."}, {"owner": {"reputation": 305, "user_id": 3399822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69df1c84a9b85afd1bcb2045ebab3c59?s=128&d=identicon&r=PG", "display_name": "Chris Lynch", "link": "https://stackoverflow.com/users/3399822/chris-lynch"}, "edited": false, "score": 1, "creation_date": 1555355362, "post_id": 54915511, "comment_id": 98074047, "body": "Even though you stated your answer is incomplete, it does work for my needs.  I do wish there was a way or method to attach to an existing PowerShell session/pipeline.  But I marked your response as an acceptable answer.  Thank you for your guidance."}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "reply_to_user": {"reputation": 305, "user_id": 3399822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69df1c84a9b85afd1bcb2045ebab3c59?s=128&d=identicon&r=PG", "display_name": "Chris Lynch", "link": "https://stackoverflow.com/users/3399822/chris-lynch"}, "edited": false, "score": 0, "creation_date": 1555357631, "post_id": 54915511, "comment_id": 98074927, "body": "Understood, @ChrisLynch, and thanks for the feedback."}], "tags": [], "owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "is_accepted": true, "score": 2, "last_activity_date": 1579114418, "last_edit_date": 1579114418, "creation_date": 1551306440, "answer_id": 54915511, "question_id": 54911917, "link": "https://stackoverflow.com/questions/54911917/looking-for-how-to-write-verbose-or-debug-string-messages-to-powershell-runspace/54915511#54915511", "title": "Looking for how to write verbose or debug string messages to PowerShell runspace without C# Cmdlet definition", "body": "<p>Note:</p>\n\n<ul>\n<li><p><strong>This is <em>not</em> a complete answer</strong>, because it has severe limitations - though it may work for specific use cases.</p></li>\n<li><p>The original form of this answer used <a href=\"https://github.com/PowerShell/PowerShellStandard/issues/42#issuecomment-516255508\" rel=\"nofollow noreferrer\">since-deprecated PowerShell SDK method <code>.CreateNestedPipeline()</code></a>, which cannot be used anymore if you're writing your code against the <a href=\"https://github.com/PowerShell/PowerShellStandard\" rel=\"nofollow noreferrer\">PowerShellStandard library</a> for cross-platform and cross-edition compatibility (code that should run in both Windows PowerShell and PowerShell Core, on all supported platforms).<br>\nChris (the OP) himself found a compatible alternative, which the current form of this answer is based on.</p></li>\n</ul>\n\n<hr>\n\n<p>The challenge is to write to the <em>invoking pipeline's</em> output streams (as you've observed writing via <code>Console</code> is unrelated to PowerShell's output streams and prints directly to the console, with no ability to capture or redirect such output in PowerShell).</p>\n\n<p>While I you can obtain a reference to the invoking <em>runspace</em>, there is no way I know of to obtain a reference to the <em>running pipeline</em>.</p>\n\n<p>Using the invoking runspace you can write to PowerShell's output streams via a <em>new</em> pipeline, but that comes with <strong>severe limitations</strong>:</p>\n\n<ul>\n<li><p>You cannot write to the caller's <em>success output stream</em> (<code>1</code>) that way; that is, while you can call cmdlets that target the <em>other</em> streams, such as <code>Write-Verbose</code>, <code>Write-Output</code> does <em>not</em> work.</p></li>\n<li><p>Capturing the output from this nested pipeline in a variable or sending it through the pipeline requires enclosing the method call in <code>(...)</code> (or <code>$(...)</code> or <code>@(...)</code>) in addition to applying the appropriate redirection to the success output stream (e.g., <code>4&gt;&amp;1</code> for the verbose stream).</p></li>\n</ul>\n\n<p>See the code comments for details.</p>\n\n<pre><code>Add-Type -TypeDefinition @'\n  using System.Management.Automation;\n\n  public class Write\n  {\n\n      public static void Verbose(string msg)\n      {\n        using (PowerShell ps = PowerShell.Create(RunspaceMode.CurrentRunspace)) {\n          // IMPORTANT: Use .AddScript(), not .AddCommand().\n          //            Even though .AddCommand() + .AddParameter() is arguably a cleaner way to\n          //            formulate the command, it results in output that cannot be captured.\n          ps.AddScript(\"Write-Output '\" + msg.Replace(\"'\", \"''\") + \"'\").Invoke();\n        }\n      }\n\n  }\n'@\n\n#\"\n\n$VerbosePreference = 'Continue'\n\n# Regular output to the verbose stream.\nWrite-Verbose 'msg1'\n\n# Verbose output via the custom type.\n[Write]::Verbose('msg2')\n\n# SUPPRESSING and REDIRECTING TO A FILE work.\n[Write]::Verbose('msg3') 4&gt; $null\n[Write]::Verbose('msg4') 4&gt; t.txt\n\n# By default, REDIRECTING TO THE STANDARD OUTPUT STREAM (1) \n# works only for the OUTSIDE, i.e. for CALLERS of this script.\n[Write]::Verbose('msg5') 4&gt;&amp;1\n\n# To REDIRECT TO THE STANDARD OUTPUT STREAM (1) in order to:\n#  * CAPTURE the result INSIDE your script\n#  * SEND THE RESULT THROUGH THE PIPELINE, \n# additionally invoke the method call enclosed in (...) or $(...) or @(...)\n$out = ([Write]::Verbose('msg6') 4&gt;&amp;1); \"captured: [$out]\"\n([Write]::Verbose('msg7') 4&gt;&amp;1) | ForEach-Object { \"piped: [$_]\" }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 0, "creation_date": 1579112480, "post_id": 57280209, "comment_id": 105660735, "body": "Just noticed this, Chris - interesting development. I&#39;ve taken the liberty of using your new findings to substantially update my original answer."}], "tags": [], "owner": {"reputation": 305, "user_id": 3399822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69df1c84a9b85afd1bcb2045ebab3c59?s=128&d=identicon&r=PG", "display_name": "Chris Lynch", "link": "https://stackoverflow.com/users/3399822/chris-lynch"}, "is_accepted": false, "score": 0, "last_activity_date": 1564521751, "creation_date": 1564521751, "answer_id": 57280209, "question_id": 54911917, "link": "https://stackoverflow.com/questions/54911917/looking-for-how-to-write-verbose-or-debug-string-messages-to-powershell-runspace/57280209#57280209", "title": "Looking for how to write verbose or debug string messages to PowerShell runspace without C# Cmdlet definition", "body": "<p>While the answer above from mklement0 is a good one, it will not work if you attempt to use it with PowerShellCore or targeting .NetStandard 2.0 as the <code>CreateNestedPipeline</code> API is deprecated.  (See <a href=\"https://github.com/PowerShell/PowerShellStandard/issues/42#issuecomment-516255508\" rel=\"nofollow noreferrer\">this</a> thread on the PowerShellStandard GitHub repo.)</p>\n\n<p>So, instead, I have this working code:</p>\n\n<pre class=\"lang-bsh prettyprint-override\"><code>Add-Type -TypeDefinition @'\nusing System.Management.Automation;\nusing System.Management.Automation.Runspaces;\n\n    public class Write\n    {\n\n        public static void Verbose(string msg)\n        {\n\n            using (PowerShell initialPowerShell = PowerShell.Create(RunspaceMode.CurrentRunspace))\n            {\n\n                initialPowerShell.Commands.AddScript(\"Write-Verbose \" + msg.Replace(\"\\\"\", \"\\\"\\\"\") + \"\\\" -v\");\n                initialPowerShell.Invoke();\n\n            }\n\n        }\n\n    }\n'@\n\n$VerbosePreference = 'Continue'\n\n# Regular output to the verbose stream.\nWrite-Verbose 'msg1'\n\n# Verbose output via the custom type.\n# !! This can NOT be redirected from the outside.\n[Write]::Verbose('msg2')\n\n# !! SUPPRESSING or REDIRECTING TO A FILE only works\n# !! when DIRECTLY APPLIED to the method call.\n[Write]::Verbose('msg3') 4&gt; $null\n[Write]::Verbose('msg4') 4&gt; t.txt\n\n# !! REDIRECTING TO THE STANDARD OUTPUT STREAM (1) for the OUTSIDE works,\n# !! but obviously it then merges with success output.\n[Write]::Verbose('msg5') 4&gt;&amp;1\n\n# !! To REDIRECT TO THE STANDARD OUTPUT STREAM (1) and capture the result\n# !! INSIDE your script, invoke the method call in  (...) or $(...) or @(...)\n$out = ([Write]::Verbose('msg6') 4&gt;&amp;1)\n\"[$out]\"\n</code></pre>\n\n<p>Which works with PowerShell 5.1 for Windows, PowerShell Core 6.2.2 for Windows and Linux (Ubuntu/Debian).    </p>\n\n<p>I will still leave mklement0 reply marked as the answer to the original question.  I'm just adding another one based on research I had compiled over the past few days on migrating my class library to .NetStandard 2.0.</p>\n"}], "owner": {"reputation": 305, "user_id": 3399822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69df1c84a9b85afd1bcb2045ebab3c59?s=128&d=identicon&r=PG", "display_name": "Chris Lynch", "link": "https://stackoverflow.com/users/3399822/chris-lynch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 2, "accepted_answer_id": 54915511, "answer_count": 2, "score": 3, "last_activity_date": 1579114418, "creation_date": 1551290963, "question_id": 54911917, "link": "https://stackoverflow.com/questions/54911917/looking-for-how-to-write-verbose-or-debug-string-messages-to-powershell-runspace", "title": "Looking for how to write verbose or debug string messages to PowerShell runspace without C# Cmdlet definition", "body": "<p>I have a C# class library that provides a number of interfaces that can be called from PowerShell scripts (.PS1) and Advanced Modules (.PSM1).  I have a static method to write verbose and debug messages to the console using the <code>System.Console</code> class:</p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>public class Write\n{\n\n        public static void Verbose(string msg, string source)\n        {\n\n            if (Config.EnableVerbose)\n            {\n\n                ConsoleColor originalForeGroundColor = Console.ForegroundColor;\n                ConsoleColor originalBackGroundColor = Console.BackgroundColor;\n                Console.ForegroundColor = ConsoleColor.Yellow;\n                Console.BackgroundColor = ConsoleColor.Black;\n                Console.Write(\"VERBOSE: {0} {1}{2}\", source, msg, Environment.NewLine);\n                Console.ForegroundColor = originalForeGroundColor;\n                Console.BackgroundColor = originalBackGroundColor;\n\n            }\n\n       }\n\n}\n\n</code></pre>\n\n<p>However, when those messages are displayed in a PowerShell console, they cannot be captured using redirection, like with <code>Out-File</code>, <code>&gt;&amp;0</code> or even with <code>Start-Transcript</code>.</p>\n\n<p>I have read <code>about_Redirection</code>, and using the redirect modifiers does not capture the console output. For instance, using a PowerShell Advanced Function (aka Cmdlet) I have written:</p>\n\n<p><code>Get-CommandTrace -ScriptBlock { Get-Resource } *&gt; C:\\Temp\\capture.log</code></p>\n\n<p>The <code>Get-CommandTrace</code> Cmdlet sets the <code>$VerbosePreference = 'Continue'</code> during the ScriptBlock execution, and does capture the verbose from <code>Get-Resource</code> output there.  But does not capture the Console output from my C# library.</p>\n\n<p>So, my question is simply:  Can a C# class that is not a Cmdlet class, nor inherited class, be able to write output to the existing PowerShell runspace it is being called from?</p>\n"}, {"tags": ["c#", "wpf", "exception", "coded-ui-tests", "base-class-library"], "answers": [{"tags": [], "owner": {"reputation": 30188, "user_id": 3218692, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4pA4T.jpg?s=128&g=1", "display_name": "Yeldar Kurmangaliyev", "link": "https://stackoverflow.com/users/3218692/yeldar-kurmangaliyev"}, "is_accepted": true, "score": 0, "last_activity_date": 1551873588, "last_edit_date": 1592644375, "creation_date": 1551873588, "answer_id": 55022643, "question_id": 54911910, "link": "https://stackoverflow.com/questions/54911910/wpf-coded-ui-test-randomly-fails-with-weird-argumentexception/55022643#55022643", "title": "WPF coded UI test randomly fails with weird ArgumentException", "body": "<p>Since it looked like a bug, I have asked <a href=\"https://developercommunity.visualstudio.com/content/problem/472978/wpf-coded-ui-test-randomly-fails-with-weird-argume.html\" rel=\"nofollow noreferrer\">the same question on DeveloperCommunity</a>.</p>\n<p>It seems like the multi-screen is just unsupported:</p>\n<blockquote>\n<p>Thanks for investigation on this issue. looks like you are running coded ui test with multi screen. This is actually an unsupported scenario.</p>\n<p>Also Coded UI test is in deprecation path. Check <a href=\"https://docs.microsoft.com/en-us/visualstudio/test/use-ui-automation-to-test-your-code?view=vs-2017\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/visualstudio/test/use-ui-automation-to-test-your-code?view=vs-2017</a></p>\n<p>We suggest moving to Selenium or Appium with WinAppDriver as the case may be</p>\n</blockquote>\n"}], "owner": {"reputation": 30188, "user_id": 3218692, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4pA4T.jpg?s=128&g=1", "display_name": "Yeldar Kurmangaliyev", "link": "https://stackoverflow.com/users/3218692/yeldar-kurmangaliyev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 55022643, "answer_count": 1, "score": 1, "last_activity_date": 1551873588, "creation_date": 1551290917, "last_edit_date": 1551352719, "question_id": 54911910, "link": "https://stackoverflow.com/questions/54911910/wpf-coded-ui-test-randomly-fails-with-weird-argumentexception", "title": "WPF coded UI test randomly fails with weird ArgumentException", "body": "<p>I have coded UI tests in WPF application and they occasionally fail with the following exception:</p>\n\n<blockquote>\n  <p>Message: Test method MyMethodNameGoesHere threw exception: \n  System.ArgumentException: Parameter is not valid.</p>\n</blockquote>\n\n<p>and StackTrace:</p>\n\n<pre><code>at System.Drawing.Bitmap..ctor(Int32 width, Int32 height, PixelFormat format)\nat System.Drawing.Bitmap..ctor(Int32 width, Int32 height)\nat Microsoft.VisualStudio.TestTools.UITesting.LoggerUtility.GetDesktopImage()\nat Microsoft.VisualStudio.TestTools.UITesting.LoggerUtility.CaptureScreenShotAndDrawBounds(Int32 x, Int32 y, Int32 width, Int32 height, Int32 borderWidth, Boolean isActualControlBounds)\nat Microsoft.VisualStudio.TestTools.UITest.Extension.LoggerUtilities.CaptureScreenShotAndDrawBounds(Rectangle bounds, Int32 borderWidth, Boolean isActualControlBounds)\nat Microsoft.VisualStudio.TestTools.UITesting.Playback.CaptureScreenShot(UITestControl control)\nat Microsoft.VisualStudio.TestTools.UITesting.Playback.GetUITestControlString(UITestControl control)\nat Microsoft.VisualStudio.TestTools.UITesting.Playback.MapControlNotFoundException(COMException ex, IPlaybackContext context)\nat Microsoft.VisualStudio.TestTools.UITesting.Playback.MapAndThrowComException(COMException innerException, IPlaybackContext context)\nat Microsoft.VisualStudio.TestTools.UITesting.Playback.MapAndThrowException(Exception exception, IPlaybackContext context)\nat Microsoft.VisualStudio.TestTools.UITesting.Playback.MapAndThrowException(Exception exception, String queryId)\nat Microsoft.VisualStudio.TestTools.UITesting.UITestControl.FindFirstDescendant(String queryId, Int32 maxDepth, Int32&amp; timeLeft)\nat Microsoft.VisualStudio.TestTools.UITesting.SearchHelper.GetElement(Boolean useCache, ISearchArgument searchArg)\nat Microsoft.VisualStudio.TestTools.UITesting.SearchHelper.Search(ISearchArgument searchArg)\nat Microsoft.VisualStudio.TestTools.UITesting.UITestControl.FindInternal()\nat Microsoft.VisualStudio.TestTools.UITesting.UITestControl.&lt;Find&gt;b__175_0()\nat Microsoft.VisualStudio.TestTools.UITesting.CodedUITestMethodInvoker.InvokeMethod[T](Func`1 function, UITestControl control, Boolean firePlaybackErrorEvent, Boolean logAsAction)\nat Microsoft.VisualStudio.TestTools.UITesting.UITestControl.Find()\nat Microsoft.VisualStudio.TestTools.UITesting.UITestControl.GetPropertyPrivate(String propertyName)\nat Microsoft.VisualStudio.TestTools.UITesting.UITestControl.GetPropertyOfType[T](String propertyName)\nat Microsoft.VisualStudio.TestTools.UITesting.UITestControl.get_Exists()\nat MyProjectNamespace.UITests.TestButtonExists() in E:\\...\\UITests.cs:line 177\n</code></pre>\n\n<p>Any code that tries to access properties of <code>UITestControl</code> like <code>Exists</code>, <code>Checked</code> or <code>Selected</code> throws it. For example:</p>\n\n<pre><code>WpfButton button = UIControlBuilder&lt;WpfButton&gt;.Builder()\n    .Parent(MainPane)\n    .AutomationID(MyButtonId)\n    .Build();\n\n// ...    \n\nAssert.IsTrue(button.Exists);\n</code></pre>\n\n<p>Interestingly, this issue happens randomly, but with some pattern. If I run tests one by one, then they work well. If I run many tests in row, then after some time one test fails and then all consequent tests fail too. I thought that it could be a memory-related issue (leakage or out of memory), but I definitely have lots of memory available and processes don't seem to consume much of it. </p>\n\n<p>From my investigation UI test framework catches an exception in <code>FindFirstDescendant</code> and tries to capture a screenshot to report this exception, but fails to do this too:</p>\n\n<pre><code>// decompiled UI test framework's UITestControl.cs code\ninternal UITestControl FindFirstDescendant(string queryId, int maxDepth, ref int timeLeft)\n{\n    // ...\n    try\n    {\n        element = this.ScreenElement.FindScreenElement(queryId, maxDepth);\n    }\n    catch (Exception ex) // catches exception here\n    {\n        // but this method does also throw exception, because of a bug:\n        Microsoft.VisualStudio.TestTools.UITesting.Playback.MapAndThrowException(ex, queryId); \n        throw;\n    }\n}\n</code></pre>\n\n<p>Even more interesting that this is a very generic error which happens in the constructor of .NET's <code>Bitmap</code> (invalid width or height parameter?). </p>\n\n<p>Because of this <code>Bitmap</code> issue I can't get the original exception, so I can't understand what happens. <code>Playback.CaptureScreenShot</code> is marked with compiler warning suppression attribute, which clearly specifies that this method shouldn't throw any exceptions.<br>\nIs this a bug in UI testing framework? </p>\n\n<p>One more interesting observation. It creates screenshots in my test directory, but the application's window is highlighted incorrectly on screenshots. This is how it looks like. Red is my display setup, blue is where the main window actually is, green is how WPF highlights on test result screenshot: </p>\n\n<p><a href=\"https://i.stack.imgur.com/txmmH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/txmmH.png\" alt=\"How screenshot looks like\"></a></p>\n\n<p>The distance of green narrow line and blue narrow line for corners are equal, so for me it seems like like it takes the application's window's offset within single main display, but then it tries to take a screenshot by applying the offset to all displays. \nCan it be a cause of a bug (like going out of display's bounds) or is it just another thing?</p>\n"}, {"tags": ["c#", ".net", "asp.net-core"], "comments": [{"owner": {"reputation": 3279, "user_id": 1459036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeDJp.jpg?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/1459036/brad"}, "edited": false, "score": 1, "creation_date": 1551291108, "post_id": 54911902, "comment_id": 96590505, "body": "Please do not post images of datasets, post it in text and format it properly."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10968478, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NhvC8rTUlkY/AAAAAAAAAAI/AAAAAAAADew/HhZ-_NtHsL4/photo.jpg?sz=128", "display_name": "Luis", "link": "https://stackoverflow.com/users/10968478/luis"}, "edited": false, "score": 0, "creation_date": 1551372508, "post_id": 54912495, "comment_id": 96625500, "body": "Would you mind explaining what the code is basically doing? I&#39;m very new at this."}, {"owner": {"reputation": 928, "user_id": 1440607, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f9a9dbf73d496f2957e8d1ca7a885a88?s=128&d=identicon&r=PG", "display_name": "Dave Michener", "link": "https://stackoverflow.com/users/1440607/dave-michener"}, "reply_to_user": {"reputation": 1, "user_id": 10968478, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NhvC8rTUlkY/AAAAAAAAAAI/AAAAAAAADew/HhZ-_NtHsL4/photo.jpg?sz=128", "display_name": "Luis", "link": "https://stackoverflow.com/users/10968478/luis"}, "edited": false, "score": 0, "creation_date": 1551386802, "post_id": 54912495, "comment_id": 96632468, "body": "@Luis - I&#39;ve updated my answer with a new &quot;Update 1&quot; that has my sample code with a bunch of comments to explain what each line is attempting."}], "tags": [], "owner": {"reputation": 928, "user_id": 1440607, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f9a9dbf73d496f2957e8d1ca7a885a88?s=128&d=identicon&r=PG", "display_name": "Dave Michener", "link": "https://stackoverflow.com/users/1440607/dave-michener"}, "is_accepted": false, "score": 0, "last_activity_date": 1551386726, "last_edit_date": 1551386726, "creation_date": 1551293219, "answer_id": 54912495, "question_id": 54911902, "link": "https://stackoverflow.com/questions/54911902/how-would-i-filter-this-dataset/54912495#54912495", "title": "How would I filter this dataset?", "body": "<p>Without knowing more about these <code>DataSets</code> (like do they have primary keys, the data types of the columns, the number of rows in each table, etc), I can only provide limited help.  The following example tries to be as general as possible and avoid some basic problems:</p>\n\n<pre><code>DataSet ds1 = &lt;&lt;fetch dataset1&gt;&gt;;\nDataSet ds2 = &lt;&lt;fetch dataset2&gt;&gt;;\nforeach (DataTable tbl1 in ds1.Tables)\n{\n    if (ds2.Tables.Contains(tbl1.TableName))\n    {\n        DataTable tbl2 = ds2.Tables[tbl1.TableName];\n        List&lt;string&gt; commonColumnNames = new List&lt;string&gt;(tbl1.Columns.Cast&lt;DataColumn&gt;().Select(c =&gt; c.ColumnName).Intersect(tbl2.Columns.Cast&lt;DataColumn&gt;().Select(c =&gt; c.ColumnName)));\n        int maxRows = Math.Min(tbl1.Rows.Count, tbl2.Rows.Count);\n        for (int r = 0; r &lt;= maxRows; r++)\n        {\n            foreach (string colName in commonColumnNames)\n            {\n               if (tbl1.Rows[r][colName] != tbl2.Rows[r][colName])\n               {\n                    // Different value\n               }\n            }\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Update 1:</strong> I've added comments to the following example to explain step-by-step what this code is doing. As I try to say before, since I didn't know much about your data, I had to put in extra code. This extra code is for things like: 'Does the table <code>ABC</code> exist in both DataSets?', 'Do the two tables have the same columns in them?', 'Do the tables have the same number of rows in them?'. Your original question did not have this information, so I made this code a little more robust to handle those unknowns.</p>\n\n<pre><code>DataSet ds1 = &lt;&lt;fetch dataset1&gt;&gt;;\nDataSet ds2 = &lt;&lt;fetch dataset2&gt;&gt;;\n\n// Loop through all of the tables in the 1st DataSet\nforeach (DataTable tbl1 in ds1.Tables)\n{\n    // If the 2nd DataSet has a table with same name as the one from the 1st DataSet\n    if (ds2.Tables.Contains(tbl1.TableName))\n    {\n        DataTable tbl2 = ds2.Tables[tbl1.TableName];\n        // Create a list of column names that the two tables have in common.\n        // We will only compare the values in these two tables, in this set of matching column names.\n\n        List&lt;string&gt; commonColumnNames = new List&lt;string&gt;(tbl1.Columns.Cast&lt;DataColumn&gt;().Select(c =&gt; c.ColumnName).Intersect(tbl2.Columns.Cast&lt;DataColumn&gt;().Select(c =&gt; c.ColumnName)));\n        // Before we start comparing the rows in the two tables, find out which one has the fewer number of rows in it.\n        int maxRows = Math.Min(tbl1.Rows.Count, tbl2.Rows.Count);\n        // If the tables have a different number of rows, then we will only compare the set of rows numbered 0-to-MinRowCount\n        for (int r = 0; r &lt;= maxRows; r++)\n        {\n            // For each row, compare the values of common columns\n            foreach (string colName in commonColumnNames)\n            {\n               if (tbl1.Rows[r][colName] != tbl2.Rows[r][colName])\n               {\n                    // Different value\n               }\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10968478, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NhvC8rTUlkY/AAAAAAAAAAI/AAAAAAAADew/HhZ-_NtHsL4/photo.jpg?sz=128", "display_name": "Luis", "link": "https://stackoverflow.com/users/10968478/luis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551386726, "creation_date": 1551290882, "last_edit_date": 1551296556, "question_id": 54911902, "link": "https://stackoverflow.com/questions/54911902/how-would-i-filter-this-dataset", "title": "How would I filter this dataset?", "body": "<p>I have a dataset that looks like the image. I'm trying to filter by table and get all the columns next to it and compare them against other datasets </p>\n\n<p><img src=\"https://i.stack.imgur.com/GhvWI.png\" alt=\"\"></p>\n\n<p>This dataset has tables named table 1 and table 2 and when they're selected they look like the picture below. It shows the columns and I need to compare those columns against the rows from the matching table in the first dataset <img src=\"https://i.stack.imgur.com/Xlp2Z.png\" alt=\"\"></p>\n\n<p>I've looked at dataview but that would be a lot of work and I'm very inexperienced. I'm trying to find a way to implement a foreach loop that'll get the name of the table in the first dataset and then compare the rows in it against the columns inside the datatable in the second dataset that matched the table name from the first dataset. </p>\n"}, {"tags": ["c#", "casting"], "comments": [{"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1551290994, "post_id": 54911895, "comment_id": 96590440, "body": "check this <a href=\"https://stackoverflow.com/a/33697376/9534819\">answer</a>"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 1, "creation_date": 1551291064, "post_id": 54911895, "comment_id": 96590482, "body": "i&#39;m guessing you are losing double precision with a number that big.  use a different data type."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1551291451, "post_id": 54911895, "comment_id": 96590627, "body": "Use Big INT Class."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1551293445, "post_id": 54911895, "comment_id": 96591585, "body": "That value can&#39;t be stored exactly in a double."}, {"owner": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1551298083, "post_id": 54911895, "comment_id": 96593686, "body": "@jdweng I guess you mean the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.numerics.biginteger?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">BigInteger struct</a>?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1551305667, "post_id": 54911895, "comment_id": 96596962, "body": "The Bigint Library Class.  Converting to a double looses least significant digits."}, {"owner": {"reputation": 441, "user_id": 5656617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o2z6.png?s=128&g=1", "display_name": "ddcastrodd", "link": "https://stackoverflow.com/users/5656617/ddcastrodd"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1551322797, "post_id": 54911895, "comment_id": 96601262, "body": "@DanielA.White Thanks for the comment. I took a hard look at what I was doing and what you wrote makes the most sense. I redid my approach so as to avoid casting a string to an integer."}], "answers": [{"tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": true, "score": 0, "last_activity_date": 1551302942, "creation_date": 1551302942, "answer_id": 54914778, "question_id": 54911895, "link": "https://stackoverflow.com/questions/54911895/converting-long-string-to-double-in-c/54914778#54914778", "title": "Converting Long String to Double in C#", "body": "<p>The format of the output and the precision of the variable itself have nothing to do with each other. You can get the format you want by changing the <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/base-types/standard-numeric-format-strings\" rel=\"nofollow noreferrer\">format string</a>, e.g.</p>\n\n<pre><code>Console.WriteLine(\"{0:N}\", test1);\n</code></pre>\n\n<p>As for the precision of the variable, you should be aware that <a href=\"https://stackoverflow.com/questions/753948/why-is-floating-point-arithmetic-in-c-sharp-imprecise\">floating point numbers are not precise</a>. And your number is about ten digits too long to fit into a <code>long</code>.</p>\n\n<p>You will either need to store that number as a custom data type or, if it is just an identifier and not actually a number on which you need to perform math, simply store it as a string.</p>\n"}], "owner": {"reputation": 441, "user_id": 5656617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o2z6.png?s=128&g=1", "display_name": "ddcastrodd", "link": "https://stackoverflow.com/users/5656617/ddcastrodd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 54914778, "answer_count": 1, "score": -1, "last_activity_date": 1551302942, "creation_date": 1551290868, "question_id": 54911895, "link": "https://stackoverflow.com/questions/54911895/converting-long-string-to-double-in-c", "title": "Converting Long String to Double in C#", "body": "<p>I have the following code to convert a very long numeric string.</p>\n\n<pre><code>using System;\n\nclass MainClass {\n  public static void Main (string[] args) {\n    string longString = \"1000000000000000000000000000001\";\n    double convertedString = Double.Parse(test);\n    Console.WriteLine(test2);\n  }\n}\n</code></pre>\n\n<p>However, convertedString is outputted in scientific notation:</p>\n\n<pre><code>1E+30\n</code></pre>\n\n<p>Is there a way to retain the exact value of the double when I convert it from a string?</p>\n"}, {"tags": ["c#", "sharepoint", "microsoft-graph-api", "microsoft-graph-sdks"], "answers": [{"tags": [], "owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "is_accepted": true, "score": 3, "last_activity_date": 1551295076, "creation_date": 1551295076, "answer_id": 54912936, "question_id": 54911873, "link": "https://stackoverflow.com/questions/54911873/microsoft-graph-net-sdk-retrieving-listitem-field/54912936#54912936", "title": "Microsoft Graph .NET SDK - Retrieving ListItem Field", "body": "<p>The <code>fields</code> property of a <code>ListItem</code> is a collection that you need to \"expand\" rather than \"select\". </p>\n\n<p>The code you're using here is executing the following query:</p>\n\n<pre><code>https://graph.microsoft.com/v1.0/sites/{id}/lists/{id}/items?$select=fields\n</code></pre>\n\n<p>What you want however is:</p>\n\n<pre><code>https://graph.microsoft.com/v1.0/sites/{id}/lists/{id}/items?$expand=fields\n</code></pre>\n\n<p>When using the SDK, you'll want something like this:</p>\n\n<pre><code>IListItemsCollectionPage items = await graphClient\n    .Sites[targetstate_id]\n    .Lists[targetlist_id]\n    .Items\n    .Request()\n    .Expand(\"fields\")\n    .GetAsync();\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11126609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f29c664a46e14a979e4e45a83663916?s=128&d=identicon&r=PG&f=1", "display_name": "mimbrium", "link": "https://stackoverflow.com/users/11126609/mimbrium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 490, "favorite_count": 0, "accepted_answer_id": 54912936, "answer_count": 1, "score": 1, "last_activity_date": 1551295076, "creation_date": 1551290784, "last_edit_date": 1551294622, "question_id": 54911873, "link": "https://stackoverflow.com/questions/54911873/microsoft-graph-net-sdk-retrieving-listitem-field", "title": "Microsoft Graph .NET SDK - Retrieving ListItem Field", "body": "<p>I'm trying to retrieve the items from a list in a SharePoint subsite with the .NET SDK. I can get the subsite, list, and items, but I don't know how to retrieve the columns. For example, here I'm trying to list all the titles of each list item:</p>\n\n<pre><code>IListItemsCollectionPage items = await graphClient\n    .Sites[targetstate_id]\n    .Lists[targetlist_id]\n    .Items\n    .Request()\n    .Select(\"Fields\")\n    .GetAsync();\n\nConsole.WriteLine(\"Chosen ID: \" + lists[listindex].Id);\nConsole.WriteLine(\"Number of items: \" + items.Count);\nfor (var index = 0; index &lt; items.Count; index++) {\n    //(attempting) at writing the title of each item in list\n    Console.WriteLine(\"Title \" + items[index].Fields.AdditionalData[\"Title\"]);\n}\nConsole.WriteLine(\"Completed\");\n</code></pre>\n\n<p>What's the issue here?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1393, "user_id": 8456062, "user_type": "registered", "profile_image": "https://graph.facebook.com/1423344851113585/picture?type=large", "display_name": "Christophe Chenel", "link": "https://stackoverflow.com/users/8456062/christophe-chenel"}, "edited": false, "score": 2, "creation_date": 1551290770, "post_id": 54911834, "comment_id": 96590320, "body": "what is the error thrown ? show the stack trace pleace"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 1, "creation_date": 1551290899, "post_id": 54911834, "comment_id": 96590379, "body": "sounds like a potential permission/elevation issue."}, {"owner": {"reputation": 1, "user_id": 10824927, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-G9a2tD7y_NU/AAAAAAAAAAI/AAAAAAAAB9o/iJcathZspXM/photo.jpg?sz=128", "display_name": "Blackhat", "link": "https://stackoverflow.com/users/10824927/blackhat"}, "edited": false, "score": 0, "creation_date": 1551293909, "post_id": 54911834, "comment_id": 96591790, "body": "Yes How can I solve it?"}, {"owner": {"reputation": 2119, "user_id": 5879778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ELi77pnET0A/AAAAAAAAAAI/AAAAAAAAAEQ/7gEOlIOZ6ow/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/5879778/chris"}, "edited": false, "score": 0, "creation_date": 1551296318, "post_id": 54911834, "comment_id": 96592873, "body": "@Blackhat You&#39;re asking individuals &quot;how can I solve it&quot; when you haven&#39;t given us the error in which you&#39;re trying to solve. If you can update your post and show <i>what</i> the error actually is, we can help you much easier than taking random shots in the dark."}], "answers": [{"comments": [{"owner": {"reputation": 600, "user_id": 9398364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D7EPf.png?s=128&g=1", "display_name": "caxapexac", "link": "https://stackoverflow.com/users/9398364/caxapexac"}, "edited": false, "score": 1, "creation_date": 1551291452, "post_id": 54911893, "comment_id": 96590629, "body": "This one will remove all thing in the directory including other directories with its files"}, {"owner": {"reputation": 392, "user_id": 10997525, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BcCTshLcjog/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOgLzUwiFUW1Kich7JArODsctjmbg/mo/photo.jpg?sz=128", "display_name": "Mateus Martins", "link": "https://stackoverflow.com/users/10997525/mateus-martins"}, "reply_to_user": {"reputation": 600, "user_id": 9398364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D7EPf.png?s=128&g=1", "display_name": "caxapexac", "link": "https://stackoverflow.com/users/9398364/caxapexac"}, "edited": false, "score": 0, "creation_date": 1551292197, "post_id": 54911893, "comment_id": 96590983, "body": "@caxapexac yes, and he don&#180;t specified the files to not be deleted"}], "tags": [], "owner": {"reputation": 392, "user_id": 10997525, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BcCTshLcjog/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOgLzUwiFUW1Kich7JArODsctjmbg/mo/photo.jpg?sz=128", "display_name": "Mateus Martins", "link": "https://stackoverflow.com/users/10997525/mateus-martins"}, "is_accepted": false, "score": -2, "last_activity_date": 1551290861, "creation_date": 1551290861, "answer_id": 54911893, "question_id": 54911834, "link": "https://stackoverflow.com/questions/54911834/c-delete-all-the-things-inside-the-file/54911893#54911893", "title": "C# delete all the things inside the file", "body": "<p>use this and you will delete the entire directory and respective files recursively</p>\n\n<p><code>Directory.Delete(@\"C:\\Windows\\prefetch\", true);</code></p>\n"}, {"tags": [], "owner": {"reputation": 368, "user_id": 11119365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049de087c54b7c630e7f0bdd9574a591?s=128&d=identicon&r=PG&f=1", "display_name": "elgaspar", "link": "https://stackoverflow.com/users/11119365/elgaspar"}, "is_accepted": false, "score": 0, "last_activity_date": 1551295186, "creation_date": 1551295186, "answer_id": 54912961, "question_id": 54911834, "link": "https://stackoverflow.com/questions/54911834/c-delete-all-the-things-inside-the-file/54912961#54912961", "title": "C# delete all the things inside the file", "body": "<p>By \"errors\" you mean thrown exceptions? <code>Directory.GetFiles</code> and <code>File.Delete</code> will throw exceptions if they can't find the directory/file or if you dont have permissions to access it, etc.\nSince you want them ignored, you can just catch them and ignore them.</p>\n\n<pre><code>        try\n        {\n            string[] myFiles = Directory.GetFiles(@\"C:\\Windows\\prefetch\");\n            foreach (string f in myFiles)\n            {\n                File.Delete(f);\n            }\n        }\n        catch (Exception)\n        {\n            //do nothing\n        }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10824927, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-G9a2tD7y_NU/AAAAAAAAAAI/AAAAAAAAB9o/iJcathZspXM/photo.jpg?sz=128", "display_name": "Blackhat", "link": "https://stackoverflow.com/users/10824927/blackhat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1551295394, "creation_date": 1551290637, "last_edit_date": 1551295394, "question_id": 54911834, "link": "https://stackoverflow.com/questions/54911834/c-delete-all-the-things-inside-the-file", "title": "C# delete all the things inside the file", "body": "<p>I'm trying to delete some files from a specific directory. But there are some errors. \nI want my program to ignore these problems.</p>\n\n<pre><code>string[] myFiles = Directory.GetFiles(@\"C:\\Windows\\prefetch\");\n\nforeach (string f in myFiles)\n{\n  File.Delete(f);\n}\n</code></pre>\n"}, {"tags": ["c#", "razor", "logic", "ternary"], "answers": [{"tags": [], "owner": {"reputation": 1274, "user_id": 11102792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZBvM4.jpg?s=128&g=1", "display_name": "Pedro Figueiredo", "link": "https://stackoverflow.com/users/11102792/pedro-figueiredo"}, "is_accepted": false, "score": 1, "last_activity_date": 1551297718, "creation_date": 1551297718, "answer_id": 54913607, "question_id": 54911781, "link": "https://stackoverflow.com/questions/54911781/razor-ternary-logic-prints-the-entire-string-rather-the-model-values/54913607#54913607", "title": "Razor ternary logic prints the entire string rather the model values?", "body": "<p>You need to use the '@', so that the code is interpreted as C# and not as a raw String. Example of usage: </p>\n\n<pre><code> var imageStyles = Model.isSelected ? \"background-position-x: \"+@Model.CropPositionX+\"%; background-image: url(\"+@Model.ContentUrl+\");\" : \"background -position:\" + @Model.CropPosition+\"%; background-image: url(\"+@Model.ContentUrl+\");\";\n</code></pre>\n\n<p>You could also use string interpolation, depending on the version of C# used by your razor view engine.</p>\n\n<p>In that case, it would look like this (much cleaner, in my opinion):</p>\n\n<pre><code> var imageStyles = Model.isSelected ? $\"background-position-x: {Model.CropPositionX}%; background-image: url({Model.ContentUrl});\" : \"background -position: {Model.CropPosition}%; background-image: url({Model.ContentUrl});\";\n</code></pre>\n"}], "owner": {"reputation": 185, "user_id": 10787676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8acc559bf1fe9e5ffd91afed278eedbe?s=128&d=identicon&r=PG&f=1", "display_name": "anita", "link": "https://stackoverflow.com/users/10787676/anita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551297718, "creation_date": 1551290470, "question_id": 54911781, "link": "https://stackoverflow.com/questions/54911781/razor-ternary-logic-prints-the-entire-string-rather-the-model-values", "title": "Razor ternary logic prints the entire string rather the model values?", "body": "<p>I have been working with an logic statement which keeps giving me error as there is a syntax error but canot find where this syntax error is located?</p>\n\n<p>I basically want to change between two style sets given value of a boolean</p>\n\n<pre><code>        var imageStyles = Model.isSelected ? \"background-position-x: Model.CropPositionX%; background-image: url(Model.ContentUrl);\" : \"background -position: Model.CropPosition%; background-image: url(Model.ContentUrl);\";\n</code></pre>\n\n<p>but when i add it in my div tag Is the variable <code>imageStyles</code> rendered as a string, and the values of the model is not taken... What is wrong here?</p>\n"}, {"tags": ["c#", "asp.net-core", "cqrs", "mediatr"], "answers": [{"tags": [], "owner": {"reputation": 11835, "user_id": 466192, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3c8144999ec04e35fbcda2644ccb3445?s=128&d=identicon&r=PG&f=1", "display_name": "L-Four", "link": "https://stackoverflow.com/users/466192/l-four"}, "is_accepted": false, "score": 0, "last_activity_date": 1551291472, "creation_date": 1551291472, "answer_id": 54912057, "question_id": 54911737, "link": "https://stackoverflow.com/questions/54911737/figure-out-whether-mediatr-notification-handler-implements-a-custom-interface/54912057#54912057", "title": "Figure out whether MediatR notification handler implements a custom interface", "body": "<p>I just found it.</p>\n\n<pre><code>private async Task SyncStopOnException(IEnumerable&lt;Func&lt;Task&gt;&gt; handlers)\n    {\n        foreach (var handler in handlers)\n        {\n            object target = handler.Target;\n            if (target != null)\n            {\n                var xField = target.GetType().GetFields().Single(f =&gt; f.Name == \"x\");\n                var xFieldValue = xField.GetValue(target);\n                if (xFieldValue as IWithinTransaction != null)\n                {\n\n                }\n            }\n\n            await handler().ConfigureAwait(false);                                \n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 11835, "user_id": 466192, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3c8144999ec04e35fbcda2644ccb3445?s=128&d=identicon&r=PG&f=1", "display_name": "L-Four", "link": "https://stackoverflow.com/users/466192/l-four"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1052, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551291472, "creation_date": 1551290271, "question_id": 54911737, "link": "https://stackoverflow.com/questions/54911737/figure-out-whether-mediatr-notification-handler-implements-a-custom-interface", "title": "Figure out whether MediatR notification handler implements a custom interface", "body": "<p>I'm using MediatR to publish notifications.</p>\n\n<p>I have defined a notification handler as follows:</p>\n\n<pre><code>public class TestNotificationHandler : INotificationHandler&lt;TestNotification&gt;, IWithinTransaction\n{\n    public Task Handle(TestNotification notification, CancellationToken cancellationToken)\n    {\n        return Task.CompletedTask;\n    }\n}\n</code></pre>\n\n<p>Then I created a custom Mediatr publisher, as showcased <a href=\"https://github.com/jbogard/MediatR/tree/master/samples/MediatR.Examples.PublishStrategies\" rel=\"nofollow noreferrer\">here</a>. What happens is that in the Publisher class, depending on the chosen strategy, a specific implementation is called that invokes the registered event handlers, for example, for SyncStopOnException strategy:</p>\n\n<pre><code>private async Task SyncStopOnException(IEnumerable&lt;Func&lt;Task&gt;&gt; handlers)\n{\n    foreach (var handler in handlers)\n    {                                \n        await handler().ConfigureAwait(false);                                \n     }\n }\n</code></pre>\n\n<p>Indeed, in the foreach I get back the handler of the TestNotificationHandler correctly, and it is executed. So this works fine.</p>\n\n<p>But now I want to filter on these handlers, so that <strong>only the ones implementing my custom IWithinTransaction</strong> interface are executed. </p>\n\n<p>And this is where I have some trouble. Because the handler is of type System.Func.</p>\n\n<p>So the question is: how can I find out whether the notification handler to which the handler belongs implements this interface? The only thing that comes close is <code>handler.Target</code> property, but I have no idea how to use it or to check whether it's implementing my interface.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PYiHq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PYiHq.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any hints would be great :)</p>\n"}, {"tags": ["javascript", "c#", "asp.net", "findcontrol"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7684940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b19178c7641808644ebe8f0176a3ad?s=128&d=identicon&r=PG&f=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/7684940/umair"}, "edited": false, "score": 1, "creation_date": 1551293409, "post_id": 54912215, "comment_id": 96591574, "body": "pnlProduct is the ID of the panel. In var Size i have inserted ID of another Panel which i want to show/Hide Which is inside &#39;pnlProduct &#39;"}], "tags": [], "owner": {"reputation": 1038, "user_id": 5841406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTyRr.gif?s=128&g=1", "display_name": "MandyShaw", "link": "https://stackoverflow.com/users/5841406/mandyshaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1551293532, "last_edit_date": 1551293532, "creation_date": 1551292108, "answer_id": 54912215, "question_id": 54911728, "link": "https://stackoverflow.com/questions/54911728/find-control-in-javascript-by-using-variable/54912215#54912215", "title": "Find Control in javascript by using variable", "body": "<p>To hide an element in Javascript you would normally do something like this:</p>\n\n<pre><code>document.getElementById(\"pnlProduct\").style.display = \"none\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 7684940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b19178c7641808644ebe8f0176a3ad?s=128&d=identicon&r=PG&f=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/7684940/umair"}, "is_accepted": false, "score": 0, "last_activity_date": 1551295460, "creation_date": 1551295460, "answer_id": 54913036, "question_id": 54911728, "link": "https://stackoverflow.com/questions/54911728/find-control-in-javascript-by-using-variable/54913036#54913036", "title": "Find Control in javascript by using variable", "body": "<p>i have done it by changing variable size to:</p>\n\n<pre><code>  var Size = \"ctl00_ContentPlaceHolder1_ucSetProduct1Detail_pnlProduct1Design1Color1Size\" + l;\n</code></pre>\n\n<p>now its working fine. </p>\n"}], "owner": {"reputation": 21, "user_id": 7684940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b19178c7641808644ebe8f0176a3ad?s=128&d=identicon&r=PG&f=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/7684940/umair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551295460, "creation_date": 1551290249, "last_edit_date": 1551291191, "question_id": 54911728, "link": "https://stackoverflow.com/questions/54911728/find-control-in-javascript-by-using-variable", "title": "Find Control in javascript by using variable", "body": "<p>i have to Hide/Unhide panel of asp web form by javascript. pls Help</p>\n\n<pre><code>for (var l = 1; l &lt;= ddlSizesValue; l++) \n  {\n        var Size = \"pnlProduct1Design1Color1Size\" + l;\n        var pnl = document.getElementById('pnlProduct')\n       var pnlSize = document.getElementById(Size);\n        pnlSize.style.display = 'block';            \n   }\n</code></pre>\n\n<p>before javascript i was using </p>\n\n<pre><code>System.Web.UI.HtmlControls.HtmlControl pnlSize = (System.Web.UI.HtmlControls.HtmlControl)pnlProduct.FindControl(Size);\n</code></pre>\n\n<p>in c# to find control and it was working fine. but to avoid page load i am using javascripting.</p>\n\n<p>thanks in advance</p>\n"}, {"tags": ["c#", "linq", "group-by", "chunks"], "comments": [{"owner": {"reputation": 3268, "user_id": 9850970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/85lTf.png?s=128&g=1", "display_name": "Aldert", "link": "https://stackoverflow.com/users/9850970/aldert"}, "edited": false, "score": 1, "creation_date": 1551290357, "post_id": 54911706, "comment_id": 96590132, "body": "It is not clear what you are asking."}, {"owner": {"reputation": 4083, "user_id": 2748412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EZ1jT.png?s=128&g=1", "display_name": "Franck", "link": "https://stackoverflow.com/users/2748412/franck"}, "edited": false, "score": 0, "creation_date": 1551290362, "post_id": 54911706, "comment_id": 96590135, "body": "did you made a mistake in the first array ? don&#39;t you mean <code>[&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;]</code> instead"}, {"owner": {"reputation": 366, "user_id": 3299123, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d4e4028f96f3f16ecbcc39a424a65803?s=128&d=identicon&r=PG&f=1", "display_name": "BlackMatrix", "link": "https://stackoverflow.com/users/3299123/blackmatrix"}, "edited": false, "score": 0, "creation_date": 1551290496, "post_id": 54911706, "comment_id": 96590203, "body": "I&#39;m sorry if it&#39;s not clear what I am asking. First I want to group the array into two groups to get only the &#39;a&#39;-items and the &#39;b&#39; items. Then I want to chunk this two groups into of max size of 2. Then I want to merge every group of &#39;a&#39;-items with the groups of &#39;b&#39;-items."}, {"owner": {"reputation": 4083, "user_id": 2748412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EZ1jT.png?s=128&g=1", "display_name": "Franck", "link": "https://stackoverflow.com/users/2748412/franck"}, "edited": false, "score": 0, "creation_date": 1551290774, "post_id": 54911706, "comment_id": 96590324, "body": "@BlackMatrix So you want a group then a bin(2)."}, {"owner": {"reputation": 366, "user_id": 3299123, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d4e4028f96f3f16ecbcc39a424a65803?s=128&d=identicon&r=PG&f=1", "display_name": "BlackMatrix", "link": "https://stackoverflow.com/users/3299123/blackmatrix"}, "edited": false, "score": 0, "creation_date": 1551290938, "post_id": 54911706, "comment_id": 96590399, "body": "Is it clearer now? Added some additional information."}, {"owner": {"reputation": 4083, "user_id": 2748412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EZ1jT.png?s=128&g=1", "display_name": "Franck", "link": "https://stackoverflow.com/users/2748412/franck"}, "edited": false, "score": 0, "creation_date": 1551291044, "post_id": 54911706, "comment_id": 96590472, "body": "@BlackMatrix much clearer. But what if the input is <code>[&quot;a&quot;,&quot;b&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;]</code> in there you find a group <code>b</code> with length of 1 with multiple sequence left to the first group <code>a</code>. What is the expected result of that ?"}, {"owner": {"reputation": 366, "user_id": 3299123, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d4e4028f96f3f16ecbcc39a424a65803?s=128&d=identicon&r=PG&f=1", "display_name": "BlackMatrix", "link": "https://stackoverflow.com/users/3299123/blackmatrix"}, "edited": false, "score": 0, "creation_date": 1551291401, "post_id": 54911706, "comment_id": 96590608, "body": "I added some more letters in the example above. The expected result would be to make it alternating &quot;as much as possible&quot; so the expected result in your example would be [&quot;a&quot;,&quot;a&quot;,&quot;b&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;]"}], "answers": [{"tags": [], "owner": {"reputation": 784, "user_id": 10804423, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-beoCeR4PSSM/AAAAAAAAAAI/AAAAAAAAAHE/em5A5GKGLs0/photo.jpg?sz=128", "display_name": "iggy12345", "link": "https://stackoverflow.com/users/10804423/iggy12345"}, "is_accepted": false, "score": 0, "last_activity_date": 1551292374, "creation_date": 1551292374, "answer_id": 54912292, "question_id": 54911706, "link": "https://stackoverflow.com/questions/54911706/linq-split-list-by-condition-and-max-size-of-n/54912292#54912292", "title": "Linq: Split list by condition and max size of n", "body": "<p>I think for simplicity's sake converting your arrays into lists and then using <code>findall()</code> would be the easiest way to do this.</p>\n\n<p><code>List&lt;char&gt; list = new List&lt;char&gt;(['a', 'a', 'b'...]);</code></p>\n\n<p>if you use predicates, then you can automatically filter a list to pull out each of the two elements like below</p>\n\n<p><code>a_elements = list.findall((char c) -&gt; { return c == item; });</code></p>\n\n<p>Then for b you can do</p>\n\n<p><code>b_elements = list.findall((char c) -&gt; { return c != item; });</code></p>\n\n<p>where <code>(char c) -&gt; { return c... }</code> is a predicate, a method returns true when an item in the list qualifies for the condition and false otherwise, you can also use Microsoft's Predicate class to form these, but I prefer lambda functions.</p>\n\n<p>Now <code>a_elements</code> and <code>b_elements</code> are arrays containing matches for each corresponding <code>findall()</code> call</p>\n\n<p>From there all you have to do is group the arrays in groups of two</p>\n"}, {"comments": [{"owner": {"reputation": 366, "user_id": 3299123, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d4e4028f96f3f16ecbcc39a424a65803?s=128&d=identicon&r=PG&f=1", "display_name": "BlackMatrix", "link": "https://stackoverflow.com/users/3299123/blackmatrix"}, "edited": false, "score": 0, "creation_date": 1551293129, "post_id": 54912303, "comment_id": 96591456, "body": "I think you will be my hero :) I want to try your code but it seems like the Partition method takes a lambda and not only an int. Do I miss any extension?"}, {"owner": {"reputation": 4083, "user_id": 2748412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EZ1jT.png?s=128&g=1", "display_name": "Franck", "link": "https://stackoverflow.com/users/2748412/franck"}, "reply_to_user": {"reputation": 366, "user_id": 3299123, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d4e4028f96f3f16ecbcc39a424a65803?s=128&d=identicon&r=PG&f=1", "display_name": "BlackMatrix", "link": "https://stackoverflow.com/users/3299123/blackmatrix"}, "edited": false, "score": 0, "creation_date": 1551293312, "post_id": 54912303, "comment_id": 96591534, "body": "@BlackMatrix. Well the source code call other methods. The easiest is for sure to add the library to your project. There are 10 overloads. You probably took only one of them."}, {"owner": {"reputation": 366, "user_id": 3299123, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d4e4028f96f3f16ecbcc39a424a65803?s=128&d=identicon&r=PG&f=1", "display_name": "BlackMatrix", "link": "https://stackoverflow.com/users/3299123/blackmatrix"}, "edited": false, "score": 0, "creation_date": 1551293394, "post_id": 54912303, "comment_id": 96591565, "body": "I installed the nuget package morelinq.3.1.0"}, {"owner": {"reputation": 4083, "user_id": 2748412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EZ1jT.png?s=128&g=1", "display_name": "Franck", "link": "https://stackoverflow.com/users/2748412/franck"}, "reply_to_user": {"reputation": 366, "user_id": 3299123, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d4e4028f96f3f16ecbcc39a424a65803?s=128&d=identicon&r=PG&f=1", "display_name": "BlackMatrix", "link": "https://stackoverflow.com/users/3299123/blackmatrix"}, "edited": false, "score": 0, "creation_date": 1551293822, "post_id": 54912303, "comment_id": 96591750, "body": "@BlackMatrix i am checking and they removed that overload at some point. I am looking for the new one"}, {"owner": {"reputation": 366, "user_id": 3299123, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d4e4028f96f3f16ecbcc39a424a65803?s=128&d=identicon&r=PG&f=1", "display_name": "BlackMatrix", "link": "https://stackoverflow.com/users/3299123/blackmatrix"}, "edited": false, "score": 0, "creation_date": 1551294139, "post_id": 54912303, "comment_id": 96591891, "body": "Is it maybe an additional Extension? I tried to use several versions but couldn&#39;t find it yet."}, {"owner": {"reputation": 4083, "user_id": 2748412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EZ1jT.png?s=128&g=1", "display_name": "Franck", "link": "https://stackoverflow.com/users/2748412/franck"}, "reply_to_user": {"reputation": 366, "user_id": 3299123, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d4e4028f96f3f16ecbcc39a424a65803?s=128&d=identicon&r=PG&f=1", "display_name": "BlackMatrix", "link": "https://stackoverflow.com/users/3299123/blackmatrix"}, "edited": false, "score": 0, "creation_date": 1551294252, "post_id": 54912303, "comment_id": 96591946, "body": "@BlackMatrix just updated. <code>Partition</code> is <code>Batch</code> It&#39;s because my code already has a <code>Batch</code> extension and it was causing conflict so i changed it&#39;s name."}, {"owner": {"reputation": 366, "user_id": 3299123, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d4e4028f96f3f16ecbcc39a424a65803?s=128&d=identicon&r=PG&f=1", "display_name": "BlackMatrix", "link": "https://stackoverflow.com/users/3299123/blackmatrix"}, "edited": false, "score": 0, "creation_date": 1551294422, "post_id": 54912303, "comment_id": 96592026, "body": "@Frank that&#39;s so awesome. Thank you very much :-) I&#39;m so lucky"}], "tags": [], "owner": {"reputation": 4083, "user_id": 2748412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EZ1jT.png?s=128&g=1", "display_name": "Franck", "link": "https://stackoverflow.com/users/2748412/franck"}, "is_accepted": true, "score": 2, "last_activity_date": 1551294197, "last_edit_date": 1551294197, "creation_date": 1551292408, "answer_id": 54912303, "question_id": 54911706, "link": "https://stackoverflow.com/questions/54911706/linq-split-list-by-condition-and-max-size-of-n/54912303#54912303", "title": "Linq: Split list by condition and max size of n", "body": "<p>First you need to <code>GroupBy</code> your data. Let assume the object are <code>string</code> but it's irrelevant anyway it's your grouping condition that will change if you have anything other than that.</p>\n\n<p>For this to work you will need MoreLinq or simply include the Batch extension which does the \"group by 2 and 1 for left overs\". Details can be found <a href=\"https://github.com/morelinq/MoreLINQ#batch\" rel=\"nofollow noreferrer\">here</a></p>\n\n<blockquote>\n  <p>note that the <code>Batch(2)</code> can be changed to whatever you need. If you put <code>Batch(5)</code> and\n  you have 7 elements it will make 2 groups, one with 5 elements and one of 2 elements</p>\n</blockquote>\n\n<pre><code> // be my data, 4 x a, 3 x b, 1 x c, 2 x d, As a list for easier linQ\n var data = new[] { \"a\", \"a\", \"c\", \"b\", \"a\", \"b\", \"b\", \"d\", \"d\", \"a\" }.ToList();\n\n // group by our condition. Here it's the value so very simple\n var groupedData = data.GroupBy(o =&gt; o).ToList();\n\n // transform all groups into a custom List of List of List so they are grouped by 2 internally\n // each list level represent Grouping -&gt; Groups of 2 (or 1) -&gt; element\n var groupedDataBy2 = groupedData.Select(grp =&gt; grp.ToList().AsEnumerable().Batch(2).ToList()).ToList();\n\n // find the group with the maximum amount of groups or 2 (and 1)\n var maxCount = groupedDataBy2.Max(grp =&gt; grp.Count());\n\n // will contain our final objects listed\n var finalObjects = new List&lt;string&gt;();\n\n // loop on the count we figured out and try add each group one by one\n for (int i = 0; i &lt; maxCount; i++)\n {\n     // try each group\n     foreach (var group in groupedDataBy2)\n     {\n         // add the correct index to our final list only if the current group has enough to fill\n         if (i &lt; group.Count)\n         {\n             // add the data to our final list\n             finalObjects.AddRange(group[i]);\n         }\n     }\n }\n\n // result here is : a,a,c,b,b,d,d,a,a,b\n var results = string.Join(\",\", finalObjects);\n</code></pre>\n"}], "owner": {"reputation": 366, "user_id": 3299123, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d4e4028f96f3f16ecbcc39a424a65803?s=128&d=identicon&r=PG&f=1", "display_name": "BlackMatrix", "link": "https://stackoverflow.com/users/3299123/blackmatrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "accepted_answer_id": 54912303, "answer_count": 2, "score": 1, "last_activity_date": 1551294197, "creation_date": 1551290197, "last_edit_date": 1551291494, "question_id": 54911706, "link": "https://stackoverflow.com/questions/54911706/linq-split-list-by-condition-and-max-size-of-n", "title": "Linq: Split list by condition and max size of n", "body": "<p>I want to transform an array:</p>\n\n<pre><code>[\"a\", \"b\", \"b\", \"a\", \"b\", \"a\", \"b\"]\n</code></pre>\n\n<p>to</p>\n\n<p><code>[\"a\", \"a\", \"b\", \"b\", \"a\", \"b\", \"b\"]</code> or <code>[\"b\", \"b\", \"a\", \"a\", \"b\", \"b\", \"a\"]</code></p>\n\n<p>I want to group the array in a way where a special condition matches. In my case when <code>item == 'a'</code> or <code>item == 'b'</code>. And these groups I want to chunck into groups of 2. I'm currently a bit confused how to do it the elegant way.</p>\n\n<p>Can anyone help?</p>\n\n<p>Maybe the following makes it more clear:</p>\n\n<p>I like to group the array into 'a' and 'b'-items first like so:</p>\n\n<p>a-group:</p>\n\n<pre><code>[\"a\",\"a\",\"a\"]\n</code></pre>\n\n<p>and</p>\n\n<p>b-group:</p>\n\n<pre><code>[\"b\",\"b\",\"b\",\"b\"]\n</code></pre>\n\n<p>then I want to chunk this into groups of 2:</p>\n\n<p>a-group:</p>\n\n<pre><code>[\"a\",\"a\"]\n[\"a\"]\n</code></pre>\n\n<p>b-group:</p>\n\n<pre><code>[\"b\",\"b\"]\n[\"b\",\"b\"]\n</code></pre>\n\n<p>And now I want to merge them together to get the result:</p>\n\n<pre><code>[\"a\",\"a\",\"b\",\"b\",\"a\",\"b\",\"b\"]\n</code></pre>\n\n<p>(always 2 of each group merged together)</p>\n"}, {"tags": ["c#", "unity3d", "game-engine", "game-development"], "comments": [{"owner": {"reputation": 2849, "user_id": 10573793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XP0ED.gif?s=128&g=1", "display_name": "preciousbetine", "link": "https://stackoverflow.com/users/10573793/preciousbetine"}, "edited": false, "score": 0, "creation_date": 1551290156, "post_id": 54911619, "comment_id": 96590034, "body": "Where do you want to generate the random enemies?"}, {"owner": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 0, "creation_date": 1551290173, "post_id": 54911619, "comment_id": 96590041, "body": "My guess is that you are trying to instantiate the same enemy at a random position every 1.75 seconds?"}, {"owner": {"reputation": 600, "user_id": 9398364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D7EPf.png?s=128&g=1", "display_name": "caxapexac", "link": "https://stackoverflow.com/users/9398364/caxapexac"}, "edited": false, "score": 0, "creation_date": 1551290305, "post_id": 54911619, "comment_id": 96590108, "body": "Do not use InvokeRepeating, its very bad practice (try StartCoroutine or update time checking instead)"}, {"owner": {"reputation": 29, "user_id": 10722692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ioWJS.jpg?s=128&g=1", "display_name": "fedevmoreno", "link": "https://stackoverflow.com/users/10722692/fedevmoreno"}, "edited": false, "score": 0, "creation_date": 1551291902, "post_id": 54911619, "comment_id": 96590852, "body": "Hi! Thank you for the comments. I want to generate random time, not position."}, {"owner": {"reputation": 600, "user_id": 9398364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D7EPf.png?s=128&g=1", "display_name": "caxapexac", "link": "https://stackoverflow.com/users/9398364/caxapexac"}, "edited": false, "score": 0, "creation_date": 1551343449, "post_id": 54911619, "comment_id": 96608074, "body": "@federiandco, time randomization was added, is it what you wanted?"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 4, "creation_date": 1551295232, "post_id": 54911887, "comment_id": 96592401, "body": "Since OP wants a random time, just replace generatorTimer with Random.value and you have the answer I think."}], "tags": [], "owner": {"reputation": 600, "user_id": 9398364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D7EPf.png?s=128&g=1", "display_name": "caxapexac", "link": "https://stackoverflow.com/users/9398364/caxapexac"}, "is_accepted": false, "score": 5, "last_activity_date": 1551296825, "last_edit_date": 1551296825, "creation_date": 1551290837, "answer_id": 54911887, "question_id": 54911619, "link": "https://stackoverflow.com/questions/54911619/how-can-i-generate-enemies-in-random-time-same-position-in-unity-3d-using-c/54911887#54911887", "title": "How can I generate enemies in random time (same position) in Unity 3D using C#?", "body": "<p>You can use StartCoroutine for simple enemy instantiating:</p>\n\n<pre><code>using System.Collections;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>private IEnumerator EnemyGenerator()\n{\n    while (true)\n    {\n        Vector3 randPosition = transform.position + (Vector3.up * Random.value); //Example of randomizing\n        Instantiate (enemyPrefeb, randPosition, Quaternion.identity);\n        yield return new WaitForSeconds(generatorTimer);\n    }\n}\n\npublic void StartGenerator()\n{\n    StartCoroutine(EnemyGenerator());\n}\n\npublic void StopGenerator()\n{\n    StopAllCoroutines();\n}\n</code></pre>\n\n<p>And, as Andrew Meservy said, if you wanna add the randomness to the timer (for example to make spawn delay random from 0.5 sec to 2.0 sec) then you can just replace yield return to this one:</p>\n\n<pre><code>yield return new WaitForSeconds(Mathf.Lerp(0.5f, 2.0f, Random.value));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159, "user_id": 405649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PiDI8.jpg?s=128&g=1", "display_name": "Jasil", "link": "https://stackoverflow.com/users/405649/jasil"}, "is_accepted": false, "score": 1, "last_activity_date": 1551679021, "last_edit_date": 1551679021, "creation_date": 1551429309, "answer_id": 54940765, "question_id": 54911619, "link": "https://stackoverflow.com/questions/54911619/how-can-i-generate-enemies-in-random-time-same-position-in-unity-3d-using-c/54940765#54940765", "title": "How can I generate enemies in random time (same position) in Unity 3D using C#?", "body": "<p>Modified version to generate the enemies  </p>\n\n<p>Use StartCoroutine with Random Time  </p>\n\n<pre><code>using System.Collections;\n    using System.Collections.Generic;\n    using UnityEngine;\n\n    public class EnemyGeneratorController : MonoBehaviour\n    {\n        public GameObject enemyPrefeb;\n         public float generatorTimer { set; get; }\n\n        void Start () \n        {\n</code></pre>\n\n<p>generatorTimer = 1.75f;</p>\n\n<pre><code>    }\n\n    void Update ()\n    {\n\n    }\n\n    void IEnumerator CreateEnemy()\n    {\n        Instantiate (enemyPrefeb, transform.position, Quaternion.identity);\n        yield return new WaitForSeconds(generatorTimer);\n        generatorTimer = Random.Range(1f, 5f);\n    }\n\n    public void StartGenerator()\n    {\n        StartCoroutine(CreateEnemy());\n\n    }\n\n    public void CancelGenerator(bool clean = false)\n    {\n        CancelInvoke (\"CreateEnemy\");\n        if (clean)\n        {\n            Object[] allEnemies = GameObject.FindGameObjectsWithTag (\"Enemy\");\n            foreach (GameObject enemy in allEnemies)\n            {\n                Destroy(enemy);\n            }\n        }   \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 10722692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ioWJS.jpg?s=128&g=1", "display_name": "fedevmoreno", "link": "https://stackoverflow.com/users/10722692/fedevmoreno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1090, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1551697103, "creation_date": 1551289944, "last_edit_date": 1551697103, "question_id": 54911619, "link": "https://stackoverflow.com/questions/54911619/how-can-i-generate-enemies-in-random-time-same-position-in-unity-3d-using-c", "title": "How can I generate enemies in random time (same position) in Unity 3D using C#?", "body": "<p>I generate repeatedly enemies each <code>1.75f</code>. But I don't know how can I use a Random function. My prototype game is like the game in Chrome Browser,It appears  when the page is not found.</p>\n\n<p>Thank you for helping me.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>    using System.Collections;\n    using System.Collections.Generic;\n    using UnityEngine;\n\n    public class EnemyGeneratorController : MonoBehaviour\n    {\n        public GameObject enemyPrefeb;\n        public float generatorTimer = 1.75f;\n\n        void Start () \n        {\n\n    }\n\n    void Update ()\n    {\n\n    }\n\n    void CreateEnemy()\n    {\n        Instantiate (enemyPrefeb, transform.position, Quaternion.identity);\n    }\n\n    public void StartGenerator()\n    {\n        InvokeRepeating (\"CreateEnemy\", 0f, generatorTimer);\n    }\n\n    public void CancelGenerator(bool clean = false)\n    {\n        CancelInvoke (\"CreateEnemy\");\n        if (clean)\n        {\n            Object[] allEnemies = GameObject.FindGameObjectsWithTag (\"Enemy\");\n            foreach (GameObject enemy in allEnemies)\n            {\n                Destroy(enemy);\n            }\n        }   \n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "automapper"], "comments": [{"owner": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 2, "creation_date": 1551290128, "post_id": 54911599, "comment_id": 96590017, "body": "Your <code>ContractLoadResultDTO</code> properties include the name &quot;field&quot; but these are private in your <code>ContractLoadResult</code>. Change your property names to match or you&#39;ll need to specify them explicitly in your mapping configuration."}], "answers": [{"tags": [], "owner": {"reputation": 26262, "user_id": 2486, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0F1tS.jpg?s=128&g=1", "display_name": "Josh Mein", "link": "https://stackoverflow.com/users/2486/josh-mein"}, "is_accepted": true, "score": 1, "last_activity_date": 1551290642, "last_edit_date": 1551290642, "creation_date": 1551290205, "answer_id": 54911709, "question_id": 54911599, "link": "https://stackoverflow.com/questions/54911599/automapper-not-mapping/54911709#54911709", "title": "Automapper - not mapping", "body": "<p>AutoMapper expects the members within a class to have the exact same name as those in the class they are being mapped from by default. In your example that is not working, your DTO class has <code>field</code> added on to each member so it does not match the other class. Therefore, your DTO class should look like this unless you are going to manually map the variables:</p>\n\n<pre><code>public class ContractLoadResultDTO\n{\n    public int carrierId { get; set; }\n    public int contractId { get; set; }\n    public double balance { get; set; }\n    public int errorCode { get; set; }\n    public string stackTrace { get; set; }\n}\n</code></pre>\n\n<p>Just an additional note to add context to those who have not used AutoMapper, although private variables exist here with the same name, AutoMapper cannot see them so it cannot copy their value. </p>\n"}], "owner": {"reputation": 189, "user_id": 9693784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/grqw3.jpg?s=128&g=1", "display_name": "Ika", "link": "https://stackoverflow.com/users/9693784/ika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 54911709, "answer_count": 1, "score": 1, "last_activity_date": 1551290642, "creation_date": 1551289858, "question_id": 54911599, "link": "https://stackoverflow.com/questions/54911599/automapper-not-mapping", "title": "Automapper - not mapping", "body": "<p>I am making SOAP request and getting response. So in order send a request I am passing <code>ContractLoad</code> which I am mapping from <code>ContractLoadDTO</code> and it works just fine. When reading response I am trying to map response to DTO <code>ContractLoadResult</code> to <code>ContractLoadDTO</code> which is not getting mapped. \nI created two maps:</p>\n\n<pre><code>CreateMap&lt;ContractLoadResult, ContractLoadResultDTO&gt;(); // does not work\nCreateMap&lt;ContractLoadDTO, ContractLoad&gt; (); // works\n</code></pre>\n\n<p>My classes:</p>\n\n<pre><code> public class ContractLoadDTO\n    {\n        public int carrierId { get; set; }\n        public int contractId { get; set; }\n        public double amount { get; set; }\n        public string refNum { get; set; }\n    }  \n</code></pre>\n\n<p>And </p>\n\n<pre><code> [System.CodeDom.Compiler.GeneratedCodeAttribute(\"System.Xml\", \"4.7.3056.0\")]\n    [System.SerializableAttribute()]\n    [System.Diagnostics.DebuggerStepThroughAttribute()]\n    [System.ComponentModel.DesignerCategoryAttribute(\"code\")]\n    [System.Xml.Serialization.XmlTypeAttribute(Namespace=\"http://com.test.carriergroup.service/types\")]\n    public partial class ContractLoad {\n\n        private int carrierIdField;\n\n        private int contractIdField;\n\n        private double amountField;\n\n        private string refNumField;\n\n        /// &lt;remarks/&gt;\n        [System.Xml.Serialization.XmlElementAttribute(Form=System.Xml.Schema.XmlSchemaForm.Unqualified)]\n        public int carrierId {\n            get {\n                return this.carrierIdField;\n            }\n            set {\n                this.carrierIdField = value;\n            }\n        }\n\n        /// &lt;remarks/&gt;\n        [System.Xml.Serialization.XmlElementAttribute(Form=System.Xml.Schema.XmlSchemaForm.Unqualified)]\n        public int contractId {\n            get {\n                return this.contractIdField;\n            }\n            set {\n                this.contractIdField = value;\n            }\n        }\n\n        /// &lt;remarks/&gt;\n        [System.Xml.Serialization.XmlElementAttribute(Form=System.Xml.Schema.XmlSchemaForm.Unqualified)]\n        public double amount {\n            get {\n                return this.amountField;\n            }\n            set {\n                this.amountField = value;\n            }\n        }\n\n        /// &lt;remarks/&gt;\n        [System.Xml.Serialization.XmlElementAttribute(Form=System.Xml.Schema.XmlSchemaForm.Unqualified, IsNullable=true)]\n        public string refNum {\n            get {\n                return this.refNumField;\n            }\n            set {\n                this.refNumField = value;\n            }\n        }\n    }\n</code></pre>\n\n<p>Those get mapped right and no issue but second one now working:\nClasses:  </p>\n\n<pre><code>/// &lt;remarks/&gt;\n[System.CodeDom.Compiler.GeneratedCodeAttribute(\"System.Xml\", \"4.7.3056.0\")]\n[System.SerializableAttribute()]\n[System.Diagnostics.DebuggerStepThroughAttribute()]\n[System.ComponentModel.DesignerCategoryAttribute(\"code\")]\n[System.Xml.Serialization.XmlTypeAttribute(Namespace=\"http://com.test.carriergroup.service/types\")]\npublic partial class ContractLoadResult {\n\n    private int carrierIdField;\n\n    private int contractIdField;\n\n    private double balanceField;\n\n    private int errorCodeField;\n\n    private string stackTraceField;\n\n    /// &lt;remarks/&gt;\n    [System.Xml.Serialization.XmlElementAttribute(Form=System.Xml.Schema.XmlSchemaForm.Unqualified)]\n    public int carrierId {\n        get {\n            return this.carrierIdField;\n        }\n        set {\n            this.carrierIdField = value;\n        }\n    }\n\n    /// &lt;remarks/&gt;\n    [System.Xml.Serialization.XmlElementAttribute(Form=System.Xml.Schema.XmlSchemaForm.Unqualified)]\n    public int contractId {\n        get {\n            return this.contractIdField;\n        }\n        set {\n            this.contractIdField = value;\n        }\n    }\n\n    /// &lt;remarks/&gt;\n    [System.Xml.Serialization.XmlElementAttribute(Form=System.Xml.Schema.XmlSchemaForm.Unqualified)]\n    public double balance {\n        get {\n            return this.balanceField;\n        }\n        set {\n            this.balanceField = value;\n        }\n    }\n\n    /// &lt;remarks/&gt;\n    [System.Xml.Serialization.XmlElementAttribute(Form=System.Xml.Schema.XmlSchemaForm.Unqualified)]\n    public int errorCode {\n        get {\n            return this.errorCodeField;\n        }\n        set {\n            this.errorCodeField = value;\n        }\n    }\n\n    /// &lt;remarks/&gt;\n    [System.Xml.Serialization.XmlElementAttribute(Form=System.Xml.Schema.XmlSchemaForm.Unqualified, IsNullable=true)]\n    public string stackTrace {\n        get {\n            return this.stackTraceField;\n        }\n        set {\n            this.stackTraceField = value;\n        }\n    }\n} \n</code></pre>\n\n<p>And:  </p>\n\n<pre><code> public class ContractLoadResultDTO\n    {\n        public int carrierIdField { get; set; }\n\n        public int contractIdField { get; set; }\n\n        public double balanceField { get; set; }\n\n        public int errorCodeField { get; set; }\n\n        public string stackTraceField { get; set; }\n\n    }\n</code></pre>\n\n<p>When passing values to Soap Requesting:  </p>\n\n<pre><code>ContractLoad[] loads = new ContractLoad[ContractInfo.conractLoads.Length];\nloads = Mapper.Map&lt;ContractLoadDTO[], ContractLoad[]&gt;(ContractInfo.conractLoads);\n</code></pre>\n\n<p><code>loads</code> contain values from <code>ContractInfo.conractLoads</code> array.</p>\n\n<p>While reading response:  </p>\n\n<pre><code>ContractLoadResultDTO[] loadResult = new ContractLoadResultDTO[response.loadResults.Length];                        \nloadResult = Mapper.Map&lt;ContractLoadResult[], ContractLoadResultDTO[]&gt;(response.loadResults);\n</code></pre>\n\n<p>Values in <code>loadResult</code> are \"0\".\nAm I doing anything wrong?</p>\n"}, {"tags": ["c#", "html", "asp.net", "data-binding", "javascript-databinding"], "comments": [{"owner": {"reputation": 3279, "user_id": 1459036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeDJp.jpg?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/1459036/brad"}, "edited": false, "score": 1, "creation_date": 1551289591, "post_id": 54911482, "comment_id": 96589755, "body": "C# runs on server side and so you wont get real time updates on valies.  They dont update unless some sort of action is taken.  A button press, an onchange event is triggered from UI side, or something else"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1551289692, "post_id": 54911482, "comment_id": 96589810, "body": "How are you setting the value? Are you changing <code>assignment</code> or <code>assignmentName.Value</code>?"}, {"owner": {"reputation": 51, "user_id": 8228208, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207331020952285/picture?type=large", "display_name": "Inbaral", "link": "https://stackoverflow.com/users/8228208/inbaral"}, "edited": false, "score": 0, "creation_date": 1551290126, "post_id": 54911482, "comment_id": 96590016, "body": "The assignment is changed when another assignment is chosen. I can see that the variable does change correctly in places where the {{selectedAssignment.name}} is in the inner text (like headers) but not in that specific line"}], "owner": {"reputation": 51, "user_id": 8228208, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207331020952285/picture?type=large", "display_name": "Inbaral", "link": "https://stackoverflow.com/users/8228208/inbaral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551368167, "creation_date": 1551289407, "last_edit_date": 1551368167, "question_id": 54911482, "link": "https://stackoverflow.com/questions/54911482/html-binded-variable-to-c", "title": "html binded variable to C#", "body": "<p>I have a variable called \"selectedAssignment\" that is binded in the html, and I want to access it from C#.</p>\n\n<p>right now what I am doing is:</p>\n\n<pre><code>&lt;asp:HiddenField runat=\"server\" ID=\"assignmentName\" Value=\"{{selectedAssignment.name}}\"/&gt;\n</code></pre>\n\n<p>And in C#:</p>\n\n<pre><code>String assignment = assignmentName.Value;\n</code></pre>\n\n<p>This works fine the first time, but then when the variable changes, the value stays the same (not only in the backend, but also in the html).\nAlso, {{selectedAssignment.name}} does update in places where it's not a value attribute, like headers.</p>\n\n<p>How can I make it update in the hiddenfield?</p>\n"}, {"tags": ["c#", "html", "html-agility-pack"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8152043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e78c383c544355f8e420e3605f5de7?s=128&d=identicon&r=PG&f=1", "display_name": "tpimentel", "link": "https://stackoverflow.com/users/8152043/tpimentel"}, "edited": false, "score": 0, "creation_date": 1551297375, "post_id": 54912872, "comment_id": 96593367, "body": "I don&#39;t that will work.   This is the html element:  <code>&lt;input name=&quot;__RequestVerificationToken&quot; type=&quot;hidden&quot; value=&quot;otvY8PJ-xr7aJWYzI6K_Ls3xWHCSOevJEMQGN_rtVjvlsDG_3ySeB&zwnj;&#8203;NDc9yT-G4JkpMpRqS2Za&zwnj;&#8203;frzkblJzByOIeKLv3FYs&zwnj;&#8203;BBa4qI6mJ7jA_E1&quot; &#47;&gt;</code>  The &quot;__RequestVerificationToken&quot; isn&#39;t that element Id.   Anyway, thanks for your help, I&#39;ve figured my problem."}], "tags": [], "owner": {"reputation": 688, "user_id": 11038008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f68c4120d6df66a8bb81036977885f?s=128&d=identicon&r=PG&f=1", "display_name": "coder_b", "link": "https://stackoverflow.com/users/11038008/coder-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1551294841, "creation_date": 1551294841, "answer_id": 54912872, "question_id": 54911437, "link": "https://stackoverflow.com/questions/54911437/extract-html-element-attribute-value-with-html-agility-pack/54912872#54912872", "title": "Extract html element attribute value with html agility pack", "body": "<p>To get anti forgery token from a page your could just call GetElementById method by passing id </p>\n\n<p>For example</p>\n\n<pre><code>var page = new HtmlDocument();\npage.LoadHtml(htmlPage);\nstring token = page.GetElementbyId(\"__RequestVerificationToken\").GetAttributeValue(\"value\", \"\");;\n\n</code></pre>\n\n<p>You no need to go through the nested path</p>\n"}], "owner": {"reputation": 1, "user_id": 8152043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e78c383c544355f8e420e3605f5de7?s=128&d=identicon&r=PG&f=1", "display_name": "tpimentel", "link": "https://stackoverflow.com/users/8152043/tpimentel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551297809, "creation_date": 1551289257, "last_edit_date": 1551297809, "question_id": 54911437, "link": "https://stackoverflow.com/questions/54911437/extract-html-element-attribute-value-with-html-agility-pack", "title": "Extract html element attribute value with html agility pack", "body": "<p>I need to retrieve a form anti forgery token from the html page.\nTo do so, I'm using the <a href=\"https://html-agility-pack.net/\" rel=\"nofollow noreferrer\">Html Agility Pack</a>, but I'm fairly new to it.</p>\n\n<p>This is my code:</p>\n\n<pre><code>var page = new HtmlDocument();\n\npage.LoadHtml(htmlPage);\n\nvar tokenNode = page.DocumentNode.SelectSingleNode(\"/html/body/div[3]/div[2]/form/input\").Attributes[\"value\"].Value;\n</code></pre>\n\n<p>The 'tokenNode' variable is returning null.</p>\n\n<p>I've managed to trackdown my problem to this method:</p>\n\n<pre><code>page.DocumentNode.SelectSingleNode(\"/html/body/div[3]/div[2]/form/input\");\n</code></pre>\n\n<p>If I simply use <code>page.DocumentNode.SelectSingleNode(\"/html/body/div[3]);</code> it returns a value. However when I add the second <code>div</code> to my xpath, it starts returning null.</p>\n\n<p>What am I missing here?</p>\n\n<p>Edit: Got the xpath using chrome developer tools.</p>\n\n<p>Edit2: After all the problem was in the Xpath I got from chrome.\nTL;DR The html code in the brwoser was different from the one my http request retrieved, therefore the xpath was wrong.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/15826875/html-agility-pack-using-xpath-to-get-a-single-node-object-reference-not-set\">Here's</a> a more thorough explanation</p>\n"}, {"tags": ["c#", "windows-services", "task-parallel-library", "topshelf"], "comments": [{"owner": {"reputation": 219328, "user_id": 15498, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wi4EN.png?s=128&g=1", "display_name": "Damien_The_Unbeliever", "link": "https://stackoverflow.com/users/15498/damien-the-unbeliever"}, "edited": false, "score": 3, "creation_date": 1551289278, "post_id": 54911364, "comment_id": 96589603, "body": "Cancellation is <b>cooperative</b>. Have you written code within <code>DoWork</code> that checks for whether cancellation has been requested?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 219328, "user_id": 15498, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wi4EN.png?s=128&g=1", "display_name": "Damien_The_Unbeliever", "link": "https://stackoverflow.com/users/15498/damien-the-unbeliever"}, "edited": false, "score": 0, "creation_date": 1551289369, "post_id": 54911364, "comment_id": 96589645, "body": "Besides what @Damien_The_Unbeliever said, why are you waiting for a cancelled task to finish?"}, {"owner": {"reputation": 2856, "user_id": 4629442, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LTe3cwJRNLo/AAAAAAAAAAI/AAAAAAAAAOY/-riXzcUS4Sc/photo.jpg?sz=128", "display_name": "Josh Gust", "link": "https://stackoverflow.com/users/4629442/josh-gust"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1551289548, "post_id": 54911364, "comment_id": 96589725, "body": "@CamiloTerevinto I saw it in an example that didn&#39;t really fit my issue, so it is out of ignorance. @Damien_The_Unbeliever, baring the <code>.Wait()</code> which I understand now is not needed, if my <code>DoWork</code> checks for the cancellation request is my code in working order?"}], "answers": [{"comments": [{"owner": {"reputation": 784, "user_id": 10804423, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-beoCeR4PSSM/AAAAAAAAAAI/AAAAAAAAAHE/em5A5GKGLs0/photo.jpg?sz=128", "display_name": "iggy12345", "link": "https://stackoverflow.com/users/10804423/iggy12345"}, "edited": false, "score": 0, "creation_date": 1551290846, "post_id": 54911730, "comment_id": 96590358, "body": "I can add a code example if you need one, but I felt MSDN&#39;s example was sufficient"}, {"owner": {"reputation": 2856, "user_id": 4629442, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LTe3cwJRNLo/AAAAAAAAAAI/AAAAAAAAAOY/-riXzcUS4Sc/photo.jpg?sz=128", "display_name": "Josh Gust", "link": "https://stackoverflow.com/users/4629442/josh-gust"}, "edited": false, "score": 0, "creation_date": 1551301387, "post_id": 54911730, "comment_id": 96595146, "body": "Maybe I&#39;m still doing something wrong b/c I&#39;m still not getting the service to stop. I&#39;ll try to update my question. The live version of the <code>DoWork</code> method is using <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.filesystemwatcher?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">System.IO.FileSystemWatcher</a> if that helps."}, {"owner": {"reputation": 2856, "user_id": 4629442, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LTe3cwJRNLo/AAAAAAAAAAI/AAAAAAAAAOY/-riXzcUS4Sc/photo.jpg?sz=128", "display_name": "Josh Gust", "link": "https://stackoverflow.com/users/4629442/josh-gust"}, "edited": false, "score": 0, "creation_date": 1551307212, "post_id": 54911730, "comment_id": 96597519, "body": "My issue had something to do with the scope of the variables I was using. If I register the callback on the token to a method accessing instance fields for the watcher(s) before those fields have value, the cancellation doesn&#39;t disable the watcher event handlers. If I give those fields have value before registering the <code>TearDown</code> method it works fine. Do you know where I would find some documentation on why this happens?"}, {"owner": {"reputation": 784, "user_id": 10804423, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-beoCeR4PSSM/AAAAAAAAAAI/AAAAAAAAAHE/em5A5GKGLs0/photo.jpg?sz=128", "display_name": "iggy12345", "link": "https://stackoverflow.com/users/10804423/iggy12345"}, "reply_to_user": {"reputation": 2856, "user_id": 4629442, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LTe3cwJRNLo/AAAAAAAAAAI/AAAAAAAAAOY/-riXzcUS4Sc/photo.jpg?sz=128", "display_name": "Josh Gust", "link": "https://stackoverflow.com/users/4629442/josh-gust"}, "edited": false, "score": 0, "creation_date": 1551395203, "post_id": 54911730, "comment_id": 96635584, "body": "I&#39;ll take a look into it when I get home later"}], "tags": [], "owner": {"reputation": 784, "user_id": 10804423, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-beoCeR4PSSM/AAAAAAAAAAI/AAAAAAAAAHE/em5A5GKGLs0/photo.jpg?sz=128", "display_name": "iggy12345", "link": "https://stackoverflow.com/users/10804423/iggy12345"}, "is_accepted": true, "score": 2, "last_activity_date": 1551290250, "creation_date": 1551290250, "answer_id": 54911730, "question_id": 54911364, "link": "https://stackoverflow.com/questions/54911364/why-does-task-run-in-windows-service-onstart-cause-the-service-to-refuse-to/54911730#54911730", "title": "Why does Task.Run() in windows service OnStart() cause the service to refuse to stop?", "body": "<p>This is most likely because you either don't have a cancellation method, or there are subprocesses inside of <code>DoWork()</code> that are still running when you call <code>Cancel()</code>.  As @Damien_The_Unbeliever said cancellation is a cooperative task.</p>\n\n<p>When you call <code>_cancelTokenSource.Cancel()</code> if you haven't registered a callback function all that happens is that a boolean value <code>isCancellationRequested</code> is set to true, the <code>DoWork()</code> method is then responsible for seeing this and stopping its execution on its own.  There is a flaw here, though, as you can probably tell, that if you have a time consuming loop running in the <code>DoWork()</code> task when <code>Cancel()</code> is called, that loop will have to finish an iteration before it can check the value of <code>isCancellationRequested</code> which can lead to hanging.</p>\n\n<p>The way around this is to insert cancellation callback functions INTO the <code>DoWork()</code> method, see <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/threading/cancellation-in-managed-threads#listening-by-registering-a-callback\" rel=\"nofollow noreferrer\">here</a> and then register them to the token, so that when you call the <code>Cancel()</code> method, ALL of the tasks running in the background are stopped without having to wait for them.</p>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 2856, "user_id": 4629442, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LTe3cwJRNLo/AAAAAAAAAAI/AAAAAAAAAOY/-riXzcUS4Sc/photo.jpg?sz=128", "display_name": "Josh Gust", "link": "https://stackoverflow.com/users/4629442/josh-gust"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 0, "accepted_answer_id": 54911730, "answer_count": 1, "score": 0, "last_activity_date": 1551306421, "creation_date": 1551288994, "last_edit_date": 1592644375, "question_id": 54911364, "link": "https://stackoverflow.com/questions/54911364/why-does-task-run-in-windows-service-onstart-cause-the-service-to-refuse-to", "title": "Why does Task.Run() in windows service OnStart() cause the service to refuse to stop?", "body": "<h1>I'm not sure why this service is refusing to stop.</h1>\n<p>I ran into this when trying to correct a <code>TimeoutException</code> thrown when starting the service. Using:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public void OnStart()\n{\n    _startTask = Task.Run(DoWork, _cancelTokenSource.Token);\n}\n\nprivate void DoWork(){ [listen for things and operate on them] }\n\npublic void OnStop()\n{\n    _cancelTokenSource.Cancel();\n    _startTask.Wait();\n}\n\n</code></pre>\n<p>I understand that implementing a simple timer will solve this, but that's not the point of my question. Why does the use of <code>Task.Run(() =&gt; action, _tokenSource.Token)</code> resolve the <code>TimeoutException</code> but causes the service to not respond to control messages?</p>\n<h2>The issue Observed</h2>\n<p>After installing and starting the service (it's TopShelf BTW), I'm unable to stop the service by conventional methods.</p>\n<h3>First Attempt:</h3>\n<p><a href=\"https://i.stack.imgur.com/aggwI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aggwI.png\" alt=\"enter image description here\" /></a></p>\n<h3>All Subsequent Attempts:</h3>\n<p><a href=\"https://i.stack.imgur.com/LI5bw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LI5bw.png\" alt=\"enter image description here\" /></a></p>\n<h1>Edit: Still no joy</h1>\n<p>Here is my attempt after following the <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/threading/cancellation-in-managed-threads#listening-by-registering-a-callback\" rel=\"nofollow noreferrer\">provided example</a>.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public void Start()\n{\n    var token = _cancelTokenSource.Token;\n    Task.Factory.StartNew(() =&gt; Setup(token), token);\n}\n\npublic void Stop()\n        {\n            _cancelTokenSource.Cancel();\n            //TearDown(); &lt;-- original implementation of stop\n        }\n\nprivate void Setup(CancellationToken token)\n        {\n            _mailman.SendServiceStatusNotification(_buildMode, &quot;Started&quot;);\n            ... create some needed objects\n\n            token.Register(TearDown);\n\n            InitializeInboxWatcherProcess(...);\n\n        }\n\nprivate void TearDown()\n        {\n            _inboxWatcher.Terminate();\n            _mailman.SendServiceStatusNotification(_buildMode, &quot;Stopped&quot;);\n        }\n\nprivate void InitializeInboxWatcherProcess(...)\n        {\n            // pre create and initiate stuff\n            _inboxWatcher = new LocalFileSystemWatcherWrapper(...);\n            _inboxWatcher.Initiate();\n        }\n</code></pre>\n<hr />\n<pre class=\"lang-cs prettyprint-override\"><code>public class LocalFileSystemWatcherWrapper : IFileSystemWatcherWrapper\n    {\n        // do FileSystemWatcher setup and control stuff\n    }\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "compiler-errors", "compiler-warnings"], "answers": [{"comments": [{"owner": {"reputation": 600, "user_id": 9398364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D7EPf.png?s=128&g=1", "display_name": "caxapexac", "link": "https://stackoverflow.com/users/9398364/caxapexac"}, "reply_to_user": {"reputation": 33, "user_id": 11126572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c01a96e02aad63ee2e3af820339a257?s=128&d=identicon&r=PG&f=1", "display_name": "Journey Jennings", "link": "https://stackoverflow.com/users/11126572/journey-jennings"}, "edited": false, "score": 0, "creation_date": 1551347291, "post_id": 54911974, "comment_id": 96610253, "body": "Nothing special ;)"}, {"owner": {"reputation": 3294, "user_id": 4848859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Slzu.jpg?s=128&g=1", "display_name": "mayo", "link": "https://stackoverflow.com/users/4848859/mayo"}, "edited": false, "score": 1, "creation_date": 1571089291, "post_id": 54911974, "comment_id": 103116813, "body": "Also, according: <a href=\"https://docs.unity3d.com/Manual/PlatformDependentCompilation.html\" rel=\"nofollow noreferrer\">docs.unity3d.com/Manual/PlatformDependentCompilation.html</a> <code>Note that the .rsp file needs to match the compiler being invoked. For example:  when targeting the .NET 3.5 Equivalent (deprecated) scripting runtime version, mcs is used with mcs.rsp, and when targeting the .NET 4.x Equivalent scripting runtime version compiler, csc is used with csc.rsp.</code>"}], "tags": [], "owner": {"reputation": 600, "user_id": 9398364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D7EPf.png?s=128&g=1", "display_name": "caxapexac", "link": "https://stackoverflow.com/users/9398364/caxapexac"}, "is_accepted": true, "score": 3, "last_activity_date": 1551291180, "creation_date": 1551291180, "answer_id": 54911974, "question_id": 54911263, "link": "https://stackoverflow.com/questions/54911263/unity3d-project-configuration-treat-warnings-as-errors/54911974#54911974", "title": "Unity3D Project Configuration: Treat warnings as errors", "body": "<p>Create a text file in <code>ProjectFolder/Assets/smcs.rsp</code></p>\n\n<p>Everything in that file will end up as compiler command-line parameters</p>\n\n<p>The parameter to force warnings as errors is <code>-warnaserror+</code>, so add this to the <code>smcs.rsp</code></p>\n\n<p>If you are interested in other available parameters, run <code>UnityInstallFolder/editor/data/bin/smcs /?</code></p>\n\n<p>More on <a href=\"https://answers.unity.com/questions/216838/how-to-force-warnings-as-errors.html\" rel=\"nofollow noreferrer\">https://answers.unity.com/questions/216838/how-to-force-warnings-as-errors.html</a></p>\n"}], "owner": {"reputation": 33, "user_id": 11126572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c01a96e02aad63ee2e3af820339a257?s=128&d=identicon&r=PG&f=1", "display_name": "Journey Jennings", "link": "https://stackoverflow.com/users/11126572/journey-jennings"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 0, "accepted_answer_id": 54911974, "answer_count": 1, "score": 3, "last_activity_date": 1551291180, "creation_date": 1551288616, "question_id": 54911263, "link": "https://stackoverflow.com/questions/54911263/unity3d-project-configuration-treat-warnings-as-errors", "title": "Unity3D Project Configuration: Treat warnings as errors", "body": "<p>I'm trying to configure my project from within the Unity Editor to treat all warning messages as errors, but I can't seem to find any documentation pertaining to this. Is there a way that I can configure this for my project? Thank you so much!</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 1023, "user_id": 1299146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a6e2608fad9360a4ddfdb5800fe66db?s=128&d=identicon&r=PG", "display_name": "Eliasar", "link": "https://stackoverflow.com/users/1299146/eliasar"}, "edited": false, "score": 1, "creation_date": 1551292918, "post_id": 54911099, "comment_id": 96591353, "body": "Are you calling <code>Waypoints.Init()</code> from somewhere? I&#39;m not seeing where <code>waypoints</code> variable has any values set."}, {"owner": {"reputation": 679, "user_id": 10565555, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9CISvR6VK0U/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBM3a-D1UVXOe08ChJ66btxKqn6jw/mo/photo.jpg?sz=128", "display_name": "Dubi Duboni", "link": "https://stackoverflow.com/users/10565555/dubi-duboni"}, "reply_to_user": {"reputation": 1023, "user_id": 1299146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a6e2608fad9360a4ddfdb5800fe66db?s=128&d=identicon&r=PG", "display_name": "Eliasar", "link": "https://stackoverflow.com/users/1299146/eliasar"}, "edited": false, "score": 0, "creation_date": 1551293723, "post_id": 54911099, "comment_id": 96591706, "body": "@Eliasar Yes I have a third script attached to empty GameObject that generate the waypoints and there after generating the waypoints I&#39;m calling the Init() method."}, {"owner": {"reputation": 1023, "user_id": 1299146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a6e2608fad9360a4ddfdb5800fe66db?s=128&d=identicon&r=PG", "display_name": "Eliasar", "link": "https://stackoverflow.com/users/1299146/eliasar"}, "edited": false, "score": 0, "creation_date": 1551293848, "post_id": 54911099, "comment_id": 96591767, "body": "As a point of nomenclature (naming convention) since this is run more than once, I would rename it to <code>RefreshWaypoints</code> instead of <code>Init</code>. Also, since you&#39;re refreshing it multiple times, your coroutine will fire multiple times instead of waiting to process. You might have multiple coroutines running."}], "answers": [{"comments": [{"owner": {"reputation": 679, "user_id": 10565555, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9CISvR6VK0U/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBM3a-D1UVXOe08ChJ66btxKqn6jw/mo/photo.jpg?sz=128", "display_name": "Dubi Duboni", "link": "https://stackoverflow.com/users/10565555/dubi-duboni"}, "edited": false, "score": 0, "creation_date": 1551301698, "post_id": 54913688, "comment_id": 96595281, "body": "Tried your solution. The camera is never rotating facing the next target. It&#39;s moving to the next target but keep facing as it was in the start. It&#39;s just moving forward backward right left in straight lines depending where the next waypoint is."}, {"owner": {"reputation": 1023, "user_id": 1299146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a6e2608fad9360a4ddfdb5800fe66db?s=128&d=identicon&r=PG", "display_name": "Eliasar", "link": "https://stackoverflow.com/users/1299146/eliasar"}, "reply_to_user": {"reputation": 679, "user_id": 10565555, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9CISvR6VK0U/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBM3a-D1UVXOe08ChJ66btxKqn6jw/mo/photo.jpg?sz=128", "display_name": "Dubi Duboni", "link": "https://stackoverflow.com/users/10565555/dubi-duboni"}, "edited": false, "score": 0, "creation_date": 1551302820, "post_id": 54913688, "comment_id": 96595793, "body": "Place some debug statements in <code>LookAtCamera</code> for the target, and also where the target is set in <code>Waypoints</code>. What do they tell you about the picked target?"}, {"owner": {"reputation": 679, "user_id": 10565555, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9CISvR6VK0U/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBM3a-D1UVXOe08ChJ66btxKqn6jw/mo/photo.jpg?sz=128", "display_name": "Dubi Duboni", "link": "https://stackoverflow.com/users/10565555/dubi-duboni"}, "edited": false, "score": 0, "creation_date": 1551319364, "post_id": 54913688, "comment_id": 96600502, "body": "I found what is the problem. In the LookAtCamera script on the line: if (target != null &amp;&amp; timer &lt; 0.99f) target is not null but the other condition timer is never less then 0.99f and therefore it&#39;s never get inside and make the rotation. Used a break point on this line and timer is all the timer bigger then 0.99f I also put a break point on the line inside the transform.rotation....and it&#39;s never get there. But I checked few times in a row and each time the timer value was bigger then 0.99f"}, {"owner": {"reputation": 1023, "user_id": 1299146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a6e2608fad9360a4ddfdb5800fe66db?s=128&d=identicon&r=PG", "display_name": "Eliasar", "link": "https://stackoverflow.com/users/1299146/eliasar"}, "reply_to_user": {"reputation": 679, "user_id": 10565555, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9CISvR6VK0U/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBM3a-D1UVXOe08ChJ66btxKqn6jw/mo/photo.jpg?sz=128", "display_name": "Dubi Duboni", "link": "https://stackoverflow.com/users/10565555/dubi-duboni"}, "edited": false, "score": 1, "creation_date": 1551319702, "post_id": 54913688, "comment_id": 96600581, "body": "Then set the time to 0.0 when you set the target. Make a method to reset it, or make a method that resets the timer and sets the target instead of setting target directly in Waypoints"}, {"owner": {"reputation": 679, "user_id": 10565555, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9CISvR6VK0U/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBM3a-D1UVXOe08ChJ66btxKqn6jw/mo/photo.jpg?sz=128", "display_name": "Dubi Duboni", "link": "https://stackoverflow.com/users/10565555/dubi-duboni"}, "edited": false, "score": 0, "creation_date": 1551321698, "post_id": 54913688, "comment_id": 96601023, "body": "Ok it seems to be working. I added a new method that get float and then set the timer to that float 0.0f but once the camera rotating and finished rotating facing the new target then it&#39;s waiting another 3 second or more before start moving."}, {"owner": {"reputation": 679, "user_id": 10565555, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9CISvR6VK0U/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBM3a-D1UVXOe08ChJ66btxKqn6jw/mo/photo.jpg?sz=128", "display_name": "Dubi Duboni", "link": "https://stackoverflow.com/users/10565555/dubi-duboni"}, "edited": false, "score": 0, "creation_date": 1551321785, "post_id": 54913688, "comment_id": 96601039, "body": "Inside the case CameraState.StartRotating before setting the target to the camera I&#39;m calling the method to reset the timer: lookAtCam.setTime(0.0f); then it&#39;s doing the rest of lines picking up random target and set it to the camera. But still after rotating it&#39;s waiting more then 3 seconds before start moving."}], "tags": [], "owner": {"reputation": 1023, "user_id": 1299146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a6e2608fad9360a4ddfdb5800fe66db?s=128&d=identicon&r=PG", "display_name": "Eliasar", "link": "https://stackoverflow.com/users/1299146/eliasar"}, "is_accepted": true, "score": 2, "last_activity_date": 1551303005, "last_edit_date": 1551303005, "creation_date": 1551298127, "answer_id": 54913688, "question_id": 54911099, "link": "https://stackoverflow.com/questions/54911099/why-is-the-camera-not-rotating-to-face-the-first-waypoint/54913688#54913688", "title": "Why is the camera not rotating to face the first waypoint?", "body": "<p>Let's assume that <code>Waypoints.Init()</code> is being called and your <code>waypoints</code> variable has an array of 3.</p>\n\n<ul>\n<li><code>Waypoints.Init()</code> starts a coroutine\n\n<ul>\n<li>Your coroutine waits 3 seconds</li>\n<li>After 3 seconds, you set your camera target which <code>Slerp</code>s to face the position</li>\n</ul></li>\n<li><code>Update</code> on its first frame says <code>waypoints.Length &gt; 0 == true</code>\n\n<ul>\n<li>It's not close to its target, and <code>rot</code> is false, so it does not move</li>\n</ul></li>\n</ul>\n\n<p>Now, you're waiting 3 seconds, not rotating, and not moving.</p>\n\n<ul>\n<li>Your coroutine's 3 second wait time is up and starts the rotation toward your target</li>\n<li><code>rot</code> is now true at the start of your rotation, so your <code>Update</code> method starts moving toward the target as well</li>\n</ul>\n\n<p>It would seem that your logic is off in how the order of operations works. If it needs to act as you describe, I suggest that you operate on the target differently.</p>\n\n<p>I've implemented the following using an enum:</p>\n\n<h2>Waypoints</h2>\n\n<pre><code>public class Waypoints : MonoBehaviour\n{\n    private GameObject[] waypoints;\n    private Transform currentWaypoint;\n\n    private enum CameraState\n    {\n        StartRotating,\n        Rotating,\n        Moving,\n        Waiting\n    }\n\n    private CameraState cameraState;\n\n    public GameObject player;\n    public float speed = 5;\n    public float WPradius = 1;\n    public LookAtCamera lookAtCam;\n\n    private int current = 0;\n    private bool isCameraRotating = false;\n\n    void Start()\n    {\n        cameraState = CameraState.StartRotating;\n    }\n\n    void Update()\n    {\n        switch (cameraState)\n        {\n            // This state is used as a trigger to set the camera target and start rotation\n            case CameraState.StartRotating:\n            {\n                // Sanity check in case the waypoint array was set to length == 0 between states\n                if (waypoints.Length == 0)\n                    break;\n\n                // Tell the camera to start rotating\n                currentWaypoint = waypoints[UnityEngine.Random.Range(0, waypoints.Length)].transform;\n                lookAtCam.target = currentWaypoint;\n                cameraState = CameraState.Rotating;\n\n                break;\n            }\n\n            // This state only needs to detect when the camera has completed rotation to start movement\n            case CameraState.Rotating:\n            {\n                if (lookAtCam.IsFinishedRotating)\n                    cameraState = CameraState.StartMoving;\n\n                break;\n            }\n\n            case CameraState.Moving:\n            {\n                // Move\n                transform.position = Vector3.MoveTowards(transform.position, currentWaypoint.position, Time.deltaTime * speed);\n\n                // Check for the Waiting state\n                if (Vector3.Distance(currentWaypoint.position, transform.position) &lt; WPradius)\n                {\n                    // Set to waiting state\n                    cameraState = CameraState.Waiting;\n\n                    // Call the coroutine to wait once and not in CameraState.Waiting\n                    // Coroutine will set the next state\n                    StartCoroutine(WaitForTimer(3));\n                }\n\n                break;\n            }\n            case CameraState.Waiting:\n                // Do nothing. Timer has already started\n                break;\n        }\n    }\n\n    IEnumerator WaitForTimer(float timer)\n    {\n        yield return new WaitForSeconds(timer);\n        cameraState = CameraState.StartRotating;\n    }\n\n    public void RefreshWaypoints()\n    {\n        waypoints = GameObject.FindGameObjectsWithTag(\"Target\");\n    }\n}\n</code></pre>\n\n<h2>LookAtCamera</h2>\n\n<pre><code>public class LookAtCamera : MonoBehaviour\n{\n    // Values that will be set in the Inspector\n    public Transform target;\n    public float RotationSpeed;\n\n    private float timer = 0.0f;\n    public bool IsRotationFinished\n    {\n        get { return timer &gt; 0.99f; }\n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n        if (target != null &amp;&amp; timer &lt; 0.99f)\n        {\n            // Rotate us over time according to speed until we are in the required rotation\n            transform.rotation = Quaternion.Slerp(transform.rotation,\n                Quaternion.LookRotation((target.position - transform.position).normalized),\n                timer);\n\n            timer += Time.deltaTime * RotationSpeed;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 679, "user_id": 10565555, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9CISvR6VK0U/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBM3a-D1UVXOe08ChJ66btxKqn6jw/mo/photo.jpg?sz=128", "display_name": "Dubi Duboni", "link": "https://stackoverflow.com/users/10565555/dubi-duboni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 54913688, "answer_count": 1, "score": 2, "last_activity_date": 1551303005, "creation_date": 1551287974, "last_edit_date": 1551290220, "question_id": 54911099, "link": "https://stackoverflow.com/questions/54911099/why-is-the-camera-not-rotating-to-face-the-first-waypoint", "title": "Why is the camera not rotating to face the first waypoint?", "body": "<p>When the game starts, a random waypoint is selected from an array. The camera should then rotate to face the selected random waypoint and start moving towards it.</p>\n\n<p>Once the camera has reached the waypoint, it should wait 3 seconds before rotating to face and move towards the next random waypoint.</p>\n\n<p>The problem I have is in <code>Start()</code>. The camera does not rotate to face the first waypoint before it starts moving towards it. Instead, it moves towards the first waypoint backwards. Then, when it reaches the waypoint, it waits 3 seconds to rotate and move towards the next waypoint.</p>\n\n<p>It's working fine except that the camera does not rotate to face the first selected random waypoint. It's moving to it backward without first rotating to face it.</p>\n\n<p>Here's my code:</p>\n\n<h1>The waypoints script</h1>\n\n<pre><code>using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class Waypoints : MonoBehaviour\n{\n    public GameObject[] waypoints;\n    public GameObject player;\n    public float speed = 5;\n    public float WPradius = 1;\n    public LookAtCamera lookAtCam;\n\n    private int current = 0;\n    private bool rot = false;\n\n    public void Init()\n    {\n        waypoints = GameObject.FindGameObjectsWithTag(\"Target\");\n\n        if(waypoints.Length &gt; 0)\n        {\n            StartCoroutine(RotateFacingTarget(waypoints[UnityEngine.Random.Range(0, waypoints.Length)].transform));\n        }\n    }\n\n    void Update()\n    {\n        if (waypoints.Length &gt; 0)\n        {\n            if (Vector3.Distance(waypoints[current].transform.position, transform.position) &lt; WPradius)\n            {\n                current = UnityEngine.Random.Range(0, waypoints.Length);\n                rot = false;\n                StartCoroutine(RotateFacingTarget(waypoints[current].transform));\n\n                if (current &gt;= waypoints.Length)\n                {\n                    current = 0;\n                }\n            }\n\n            if (rot)\n                transform.position = Vector3.MoveTowards(transform.position, waypoints[current].transform.position, Time.deltaTime * speed);\n        }\n    }\n\n    IEnumerator RotateFacingTarget(Transform target)\n    {\n        yield return new WaitForSeconds(3);\n\n        lookAtCam.target = target;\n        rot = true;\n    }\n}\n</code></pre>\n\n<h1>The look at camera script</h1>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class LookAtCamera : MonoBehaviour\n{\n    //values that will be set in the Inspector\n    public Transform target;\n    public float RotationSpeed;\n\n    //values for internal use\n    private Quaternion _lookRotation;\n    private Vector3 _direction;\n\n    // Update is called once per frame\n    void Update()\n    {\n        //find the vector pointing from our position to the target\n        if (target)\n        {\n            _direction = (target.position - transform.position).normalized;\n\n            //create the rotation we need to be in to look at the target\n            _lookRotation = Quaternion.LookRotation(_direction);\n\n            //rotate us over time according to speed until we are in the required rotation\n            transform.rotation = Quaternion.Slerp(transform.rotation, _lookRotation, Time.deltaTime * RotationSpeed);\n        }\n    }\n}\n</code></pre>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["c#", ".net", "vb.net"], "comments": [{"owner": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "edited": false, "score": 5, "creation_date": 1551288012, "post_id": 54911079, "comment_id": 96588985, "body": "Can you tell us why you want to do that? Everything in .NET already has a ToString method (it sits on System.Object)"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1551288251, "post_id": 54911079, "comment_id": 96589110, "body": "How do you expect to be able to modify the String class to implement anything?"}, {"owner": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 0, "creation_date": 1551288287, "post_id": 54911079, "comment_id": 96589133, "body": "It is related to <a href=\"https://stackoverflow.com/q/54857526/10794555\">this post</a> where I created a <code>Base64String</code> type so that I can tell when my data is a Unicode String type, or a BytesEncodedIntoBase64 String type. Some of my functions should be able to take either as an <code>argument</code>. So I want to create an Interface which includes both. All I will need from the <code>Base64String</code> will be the <code>.ToString</code>, which returns a <code>String</code>."}, {"owner": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1551288393, "post_id": 54911079, "comment_id": 96589178, "body": "@CamiloTerevinto I have no idea, that&#39;s why I&#39;m here :)"}, {"owner": {"reputation": 4461, "user_id": 4424957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3oNL.jpg?s=128&g=1", "display_name": "Blackwood", "link": "https://stackoverflow.com/users/4424957/blackwood"}, "edited": false, "score": 0, "creation_date": 1551289088, "post_id": 54911079, "comment_id": 96589507, "body": "Can you explain more clearly what you are trying to do. A string is already a string, what do you want a <code>ToString</code> method to return?"}, {"owner": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 0, "creation_date": 1551289584, "post_id": 54911079, "comment_id": 96589747, "body": "I made some edits to explain further what I want to achieve"}, {"owner": {"reputation": 3179, "user_id": 582055, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/52861ca2f4d19a1b6a029c13a58ddd37?s=128&d=identicon&r=PG", "display_name": "NoviceProgrammer", "link": "https://stackoverflow.com/users/582055/noviceprogrammer"}, "edited": false, "score": 0, "creation_date": 1551289832, "post_id": 54911079, "comment_id": 96589875, "body": "Sorry but it is still not clear what you are trying to achieve. The <code>IString</code> interface is superfluous as all types inherit the <code>ToString()</code> method. You can of course override what happens inside this method in your type. if you are working with base64 strings, then there are methods available to encode/decode a string."}, {"owner": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 0, "creation_date": 1551290279, "post_id": 54911079, "comment_id": 96590099, "body": "I have a <code>Sub</code> or <code>Function</code> which should only be allowed to take variables of type <code>String</code> or <code>SomethingElse</code>. I want to avoid <code>Sub MySub(x as Object)</code> and I want to avoid having to <code>Overload</code>."}], "answers": [{"comments": [{"owner": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 0, "creation_date": 1551290013, "post_id": 54911371, "comment_id": 96589954, "body": "Thanks habib. I do not wish to modify the <code>.ToString</code> of the <code>String</code> type, I only wish to tell custom interface that <code>String</code> implements it."}, {"owner": {"reputation": 2009, "user_id": 5559267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4zGwJ.jpg?s=128&g=1", "display_name": "habib", "link": "https://stackoverflow.com/users/5559267/habib"}, "reply_to_user": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 1, "creation_date": 1551290885, "post_id": 54911371, "comment_id": 96590373, "body": "@Ama Its not possible to implement the custom interface on a third-party library."}, {"owner": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 1, "creation_date": 1551293475, "post_id": 54911371, "comment_id": 96591601, "body": "Thanks Habib, maybe that was the only reponse I needed from my original answer!"}], "tags": [], "owner": {"reputation": 2009, "user_id": 5559267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4zGwJ.jpg?s=128&g=1", "display_name": "habib", "link": "https://stackoverflow.com/users/5559267/habib"}, "is_accepted": false, "score": 0, "last_activity_date": 1551329718, "last_edit_date": 1551329718, "creation_date": 1551289029, "answer_id": 54911371, "question_id": 54911079, "link": "https://stackoverflow.com/questions/54911079/system-string-to-implement-a-custom-interface/54911371#54911371", "title": "System.String to implement a custom Interface", "body": "<p><strong>In C#</strong></p>\n\n<p>No, You can't modify the behavior of <code>.ToString()</code> function.</p>\n\n<p>One thing that you can do is by using extension methods. But unfortunately, Extension methods are only checked if there are no applicable candidate methods that match. In the case of a call to <code>ToString()</code> there will always be an applicable candidate method, namely, the ToString() on <code>object</code>. The purpose of extension methods is to extend the set of methods available on a type, not to override existing methods; that's why they're called \"extension methods\". If you want to override an existing method then you'll have to make an overriding method. So simply you shouldn't use the name <code>ToString</code> for the Extension method as it will never be called because that method already exist and you shouldn't use <code>T</code> as it's useless there.</p>\n\n<p>Here how you can write extension methods in C#</p>\n\n<pre><code>public static class ListHelper\n{\n    public static string ToMyString&lt;T&gt;(this IList&lt;String&gt; list)\n    {\n        return string.Join(\", \", list.ToArray());\n    }\n\n    public static string ToMyString&lt;T&gt;(this String[] array)\n    {\n        return string.Join(\", \", array);\n    }\n}\n</code></pre>\n\n<p><strong>Updated</strong></p>\n\n<p>You cannot implement a custom interface on third-party class.</p>\n"}, {"comments": [{"owner": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 0, "creation_date": 1551290660, "post_id": 54911797, "comment_id": 96590270, "body": "That is the workaround (see my update I think we wrote it at the same time), but is it just simply not possible to tell a native class to implement an <code>Interface</code> which I may have created myself?"}, {"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "reply_to_user": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 0, "creation_date": 1551290764, "post_id": 54911797, "comment_id": 96590314, "body": "how do we implement an interface on a class in a third pary library (read: .net framework)?"}, {"owner": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 0, "creation_date": 1551293440, "post_id": 54911797, "comment_id": 96591583, "body": "&quot;read: .net framework&quot; Can you be more specific? I did not find anything on the documentation, hence my question. And people seem tu suggest this is just not acheviable?"}, {"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "reply_to_user": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 0, "creation_date": 1551297129, "post_id": 54911797, "comment_id": 96593253, "body": "that is what I meant. As others said, we cannot implement an interface to a class that do not belong to us. string class belongs to .Net libraries."}], "tags": [], "owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "is_accepted": false, "score": 2, "last_activity_date": 1551290514, "creation_date": 1551290514, "answer_id": 54911797, "question_id": 54911079, "link": "https://stackoverflow.com/questions/54911079/system-string-to-implement-a-custom-interface/54911797#54911797", "title": "System.String to implement a custom Interface", "body": "<p>See if this works: </p>\n\n<p>Overload DoSomething as follows:</p>\n\n<pre><code>Sub DoSomething(MyData as String)\n    '... Do something using MyData string, for example send it to a WebAPI\nEnd Sub\n\nSub DoSomething(MyData as IString)\n    DoSomething(MyData.ToString())\nEnd Sub\n</code></pre>\n\n<p>When you call DoSomething with Native String, the first method will get called. and when you call DoSomething with object of type IString, the second method will be called, which internally calls the first DoSomething method with the IString.ToString() value as parameter</p>\n"}, {"comments": [{"owner": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 0, "creation_date": 1551291482, "post_id": 54911816, "comment_id": 96590639, "body": "&quot; You can even write an implicit conversion (i.e. Widening Operator CType) from string to SpecialString&quot;. Interesting. How would I do that? At the moment my <code>Base64String</code> converts into <code>String</code> via <code>Widening Operator Type</code>, but I though <code>System.String</code> could not be touched?"}, {"owner": {"reputation": 3114, "user_id": 1874682, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/32ea99b99bec4a40c65bbac338d5a7ba?s=128&d=identicon&r=PG", "display_name": "drwatsoncode", "link": "https://stackoverflow.com/users/1874682/drwatsoncode"}, "reply_to_user": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 0, "creation_date": 1551291858, "post_id": 54911816, "comment_id": 96590829, "body": "The Widening Operator can be defined in the SpecialString class, so Strings can be automatically converted to SpecialString. I&#39;ll post some code."}, {"owner": {"reputation": 3114, "user_id": 1874682, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/32ea99b99bec4a40c65bbac338d5a7ba?s=128&d=identicon&r=PG", "display_name": "drwatsoncode", "link": "https://stackoverflow.com/users/1874682/drwatsoncode"}, "reply_to_user": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 0, "creation_date": 1551298750, "post_id": 54911816, "comment_id": 96593988, "body": "It&#39;s true that you cannot modify System.String, but conversion (<code>CType</code>) operators can be defined on <i>either</i> of the classes, so you <i>can</i> add it to the custom SpecialString class (as shown in the code above). But as others have said, you cannot do anything to cause System.String to implement any new interface."}, {"owner": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 0, "creation_date": 1551453270, "post_id": 54911816, "comment_id": 96657633, "body": "Sorry I was off the radar foe a while. The problem here is that we are shifting from multiple types being grouped into an interface, to multiple instances being grouped into a type. This means the formula which do not accept an IString but solely a Base64String type will need to be converted into &#39;function(s as Specialstring): If s.GetStringType &lt;&gt; x then Throw New Exception&#39;. We are shifting the problem without really resolving it. I understand it can&#39;t really be resolved and to me the best approach is to Interface my custom types and overload the String type."}, {"owner": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 0, "creation_date": 1551453564, "post_id": 54911816, "comment_id": 96657804, "body": "I want to avoid option 2 as well because it means the function would take a string type as an input, which is prone to misleading the programmer in the sense that they may not trivially understand the string can be a Base64string. To few people <b>fully</b> read the XML doc of a function"}, {"owner": {"reputation": 3114, "user_id": 1874682, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/32ea99b99bec4a40c65bbac338d5a7ba?s=128&d=identicon&r=PG", "display_name": "drwatsoncode", "link": "https://stackoverflow.com/users/1874682/drwatsoncode"}, "reply_to_user": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 0, "creation_date": 1551589964, "post_id": 54911816, "comment_id": 96691985, "body": "@Ama, No in strategy 2 the functions would take either an <code>AnyString</code> object or a <code>Base64String</code> object. If you use <code>AnyString</code>, it accepts both <code>System.String</code> objects (which are implicitly converted into <code>NormalString</code> objects) and <code>Base64String</code>s. But you can also have other functions that only accept <code>Base64String</code> to prohibit normal strings if desired.  I updated my post to add example code for strategy 2 to show this."}, {"owner": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "edited": false, "score": 0, "creation_date": 1551780800, "post_id": 54911816, "comment_id": 96756111, "body": "I see. I tend to forget <code>inherited</code> classes can be passed through a variable which is of the <code>base</code> class type. That is great and definitely the solution which fits best."}], "tags": [], "owner": {"reputation": 3114, "user_id": 1874682, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/32ea99b99bec4a40c65bbac338d5a7ba?s=128&d=identicon&r=PG", "display_name": "drwatsoncode", "link": "https://stackoverflow.com/users/1874682/drwatsoncode"}, "is_accepted": true, "score": 3, "last_activity_date": 1551590143, "last_edit_date": 1551590143, "creation_date": 1551290589, "answer_id": 54911816, "question_id": 54911079, "link": "https://stackoverflow.com/questions/54911079/system-string-to-implement-a-custom-interface/54911816#54911816", "title": "System.String to implement a custom Interface", "body": "<p>Here are two alternative strategies for your dilemma:</p>\n\n<ol>\n<li><p>Instead of different classes for different types of strings, just create a single class (e.g. SpecialString) that has two fields -- a string and an enum value to describe what type of string it contains (e.g. Normal, Base64, etc).  Then you can pass that class to the functions that need to be able to accept both types of strings but still be able to determine which type it is.  You can even write an implicit conversion (i.e. <code>Widening Operator CType</code>) from string to SpecialString so that you don't even need to explicitly create a SpecialString for normal strings.</p></li>\n<li><p>If you want to keep the different types of strings as separate classes, you can create a base class (e.g. <code>AnyString</code>) that implements ToString. Then create <code>Base64String</code> as a class derived from <code>AnyString</code>. You can write an implicit conversion operator from <code>System.String</code> to <code>AnyString</code>.  Write your functions to accept <code>AnyString</code> if you want to accept both <code>String</code> and <code>Base64String</code>.  Or you can accept just a <code>Base64String</code> if you want to prohibit normal <code>String</code>s.</p></li>\n</ol>\n\n<h3>Example code for strategy 1:</h3>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Module Module1\n    Enum StringType\n        Normal\n        Base64\n        Base64DotBase64\n    End Enum\n\n    Class SpecialString\n        Private type As StringType\n        Private str As String\n\n        Public Sub New(s As String, Optional type As StringType = StringType.Normal)\n            Me.str = s\n            Me.type = type\n        End Sub\n\n        Shared Widening Operator CType(ByVal s As String) As SpecialString\n            Return New SpecialString(s, StringType.Normal)\n        End Operator\n\n        Public Overrides Function ToString() As String\n            Return str\n        End Function\n\n        Public Function GetStringType() As StringType\n            Return type\n        End Function\n    End Class\n\n    'Function that uses SpecialString\n    Sub Test(ss As SpecialString)\n        ' Print StringType and inner value of string\n        Console.WriteLine( ss.GetStringType().ToString(\"F\") &amp; \": \" &amp; ss.ToString())\n    End Sub\n\n    Sub Main()\n        Dim ss1 As new SpecialString(\"abcdef\", StringType.Base64)\n        Dim ss2 As new SpecialString(\"abcdef:abcdef\", StringType.Base64DotBase64)\n\n        Test(\"Hello\") 'Call with string\n        Test(ss1) 'Call with Base64\n        Test(ss2) 'Call with Base64DotBase64\n\n        ' Pause to see the screen\n        Console.ReadKey()\n    End Sub\n\nEnd Module\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Normal: Hello \nBase64: abcdef \nBase64DotBase64: abcdef:abcdef\n</code></pre>\n\n<h3>Example code for strategy 2:</h3>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Imports System.Text.Encoding\n\nModule Module1\n    'Abstract base class to represent all string types (Normal and Base64 etc)\n    MustInherit Class AnyString\n        Private str As String\n        Public Sub New(s As String)\n            Me.str = s\n        End Sub\n        Public Overrides Function ToString() As String\n            Return str\n        End Function\n        ' Allow implicit conversion of a System.String to NormalString, which inherits from AnyString\n        Shared Widening Operator CType(ByVal s As String) As AnyString\n            Return New NormalString(s)\n        End Operator\n    End Class\n\n    'Class for Base64 strings only.\n    Class Base64String\n        Inherits AnyString\n        Public Sub New(s As String)\n            MyBase.New(s)\n        End Sub\n    End Class\n    'Class for Normal strings. System.String implicitly converts to this.\n    Class NormalString\n        Inherits AnyString\n        Public Sub New(s As String)\n            MyBase.New(s)\n        End Sub\n        ' Allow implicit conversion of a System.String to NormalString\n        ' This CType Operator isn't strictly necessary for this example, \n        ' because the CType in AnyString does the implict conversion shown below, \n        ' but it might be useful in general.\n        Shared Widening Operator CType(ByVal s As String) As NormalString\n            Return New NormalString(s)\n        End Operator\n    End Class\n\n    'Function that Accepts Base64String OR Normal String\n    Sub TestAny(s As AnyString)\n        'Call ToString for whatever type of string was passed.\n        Console.WriteLine(s.GetType().Name.ToString()  &amp; \": \" &amp; s.ToString())\n\n        'Also do something special for base64 string\n        If TypeOf s Is Base64String then\n            Console.WriteLine(\"Base64 Decoded (in TestAny): \" &amp; DecodeBase64(DirectCast(s,Base64String)))\n        End If\n    End Sub\n    ' Function to convert Base64-encoded string to normal text. \n    ' This ONLY takes Base64Strings (not NormalStrings)\n    Function DecodeBase64(s64 As Base64String) As String\n        Return UTF8.GetString(System.Convert.FromBase64String(s64.ToString()))\n    End Function\n\n    Sub Main()\n        'Normal String\n        Dim s As new System.String(\"I am Normal\")\n        ' Base64String\n        Dim s64 As New Base64String(\"SGVsbG8gV29ybGQh\")\n\n        'Call TestAny with any type of string\n        TestAny(\"Hi\") 'Call with string directly\n        TestAny(s)    'Call with String object\n        TestAny(s64)  'Call with Base64DotBase64\n\n        'Call DecodeBase64 with a Base64String ONLY\n        Console.Write(\"Base64-Decoded (in Main): \")\n        Console.WriteLine(DecodeBase64(s64))   'OK call with Base64String\n        'Console.WriteLine(DecodeBase64(\"Hi\"))  !!! Invalid -- cannot call DecodeBase64 with string\n        'Console.WriteLine(DecodeBase64(s))     !!! Invalid -- cannot call DecodeBase64 with string\n\n        ' Pause to see the screen\n        Console.ReadKey()\n    End Sub\n\nEnd Module\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>NormalString: Hi\nNormalString: I am Normal\nBase64String: SGVsbG8gV29ybGQh\nBase64 Decoded (in TestAny): Hello World!\nBase64-Decoded (in Main): Hello World!\n</code></pre>\n"}], "owner": {"reputation": 893, "user_id": 10794555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0D8LRxW70DQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icioZDBlm6V-nHzFzMNQ2LTv2Nmg/mo/photo.jpg?sz=128", "display_name": "Ama", "link": "https://stackoverflow.com/users/10794555/ama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "accepted_answer_id": 54911816, "answer_count": 3, "score": 0, "last_activity_date": 1551590143, "creation_date": 1551287919, "last_edit_date": 1551293922, "question_id": 54911079, "link": "https://stackoverflow.com/questions/54911079/system-string-to-implement-a-custom-interface", "title": "System.String to implement a custom Interface", "body": "<p>\nI have an <code>Interface</code> which defines a set of classes which all implement the <code>.ToString</code> member.\nHow can I make the native Data Type <code>String</code> implement this <code>Interface</code> as well?</p>\n\n<p>First I am not sure how I would do it anyways, but something tells me that the fact that <code>String</code> is <code>NotInheritable</code> makes things even more difficult?</p>\n\n<p>My tentative below: (an answer in C# is also acceptable)</p>\n\n<p></p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Public Interface IString\n    Function ToString() As String\nEnd Interface\n\nPartial Public Class String\n    Implements IString\n\n    Public Shadows Function ToString() As String Implements IString.ToString\n        Return MyBase.ToString()\n    End Function\n\nEnd Class\n</code></pre>\n\n<hr>\n\n<h2>What I am trying to achieve</h2>\n\n<p>One of my subs should be able to take several Types as an input, one of them being the native <code>String</code> type.</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Sub DoSomething(MyData as IString)\n    '... Do something using MyData.ToString, for example send it to a WebAPI\nEnd Sub\n\nPublic Class SomeData\n    Implements IString 'Sub DoSomething should accept this type\n    Public Sub ToString() as String\n        Return 'Something\n    End Sub\nEnd Class\n\nPublic Class SomeOtherData\n    'Sub DoSomething should NOT accept this type\n    Public Sub ToString() as String\n        Return 'Something\n    End Sub\nEnd Class\n</code></pre>\n\n<p>I would like to avoid to have to do this:</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Sub DoSomething(MyData as Object)\n    If not TypeOf MyData Is String or not TypeOf MyData Is SomeData Then Throw New ArgumentException()\n    '...\nEnd Sub\n</code></pre>\n\n<p>I would like to avoid to have to do this:</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Sub DoSomething(MyData as String)\n    '...\nEnd Sub\n\n'Overload\nSub DoSomething(MyData as SomeData)\n    call DoSomething(MyData.ToString)\nEnd Sub\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 36654, "user_id": 107625, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53a82f701ae492808834e621de2586eb?s=128&d=identicon&r=PG", "display_name": "Uwe Keim", "link": "https://stackoverflow.com/users/107625/uwe-keim"}, "edited": false, "score": 0, "creation_date": 1551288007, "post_id": 54911062, "comment_id": 96588982, "body": "How about debugging your program?"}, {"owner": {"reputation": 1619, "user_id": 7864413, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208517922736756/picture?type=large", "display_name": "Phil M", "link": "https://stackoverflow.com/users/7864413/phil-m"}, "edited": false, "score": 1, "creation_date": 1551288007, "post_id": 54911062, "comment_id": 96588983, "body": "Did you step through in the debugger to make sure <code>student_grade</code> actually got the correct value?"}, {"owner": {"reputation": 1, "user_id": 10124602, "user_type": "registered", "profile_image": "https://graph.facebook.com/1856379261121530/picture?type=large", "display_name": "Seif Walid", "link": "https://stackoverflow.com/users/10124602/seif-walid"}, "edited": false, "score": 0, "creation_date": 1551288079, "post_id": 54911062, "comment_id": 96589026, "body": "the debbuger shows no errors !!!"}, {"owner": {"reputation": 5525, "user_id": 1081079, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/t9zLP.jpg?s=128&g=1", "display_name": "freshbm", "link": "https://stackoverflow.com/users/1081079/freshbm"}, "edited": false, "score": 0, "creation_date": 1551288216, "post_id": 54911062, "comment_id": 96589089, "body": "@SeifWalid Can you print the value of student_grade also ?"}, {"owner": {"reputation": 1619, "user_id": 7864413, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208517922736756/picture?type=large", "display_name": "Phil M", "link": "https://stackoverflow.com/users/7864413/phil-m"}, "edited": false, "score": 0, "creation_date": 1551288227, "post_id": 54911062, "comment_id": 96589095, "body": "Then edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem, complete with what input you give, and what output you get. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}, {"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 2, "creation_date": 1551288398, "post_id": 54911062, "comment_id": 96589182, "body": "What does <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.console.read?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>Console.Read</code></a> return? Hint:  Do you get the correct result when you enter <code>1</code>?"}, {"owner": {"reputation": 7613, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "edited": false, "score": 2, "creation_date": 1551288399, "post_id": 54911062, "comment_id": 96589183, "body": "I strongly recommend you read &quot;<i><a href=\"https://stackoverflow.com/questions/6825943/difference-between-console-read-and-console-readline\">Difference between Console.Read() and Console.ReadLine()?</a></i>&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 7613, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "edited": false, "score": 1, "creation_date": 1551288609, "post_id": 54911209, "comment_id": 96589281, "body": "I&#39;d suggest explaining <i>why</i> <code>A</code> will give the result it does."}, {"owner": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 1, "creation_date": 1551314673, "post_id": 54911209, "comment_id": 96599494, "body": "Since .NET doesn&#39;t use ASCII, &quot;Reads the next character from the standard input stream&quot; means the next <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.char?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>Char</code></a> value (UTF-16 code unit). UTF-16 is one of several character encodings of the <a href=\"http://www.unicode.org/charts/nameslist/index.html\" rel=\"nofollow noreferrer\">Unicode</a> character set. Unicode &quot;A&quot;  (U+0041) is encoded by UTF-16 as <code>&#39;\\u0041&#39;</code>, which has the decimal value of 65."}], "tags": [], "owner": {"reputation": 4097, "user_id": 2714837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7349d8c324d737e77c2d1d51d3350929?s=128&d=identicon&r=PG", "display_name": "CoolBots", "link": "https://stackoverflow.com/users/2714837/coolbots"}, "is_accepted": true, "score": 2, "last_activity_date": 1551289030, "last_edit_date": 1551289030, "creation_date": 1551288399, "answer_id": 54911209, "question_id": 54911062, "link": "https://stackoverflow.com/questions/54911062/the-operator-isnt-working-correctly-instead-of-if-else/54911209#54911209", "title": "The ? operator isn&#39;t working correctly instead of if/else", "body": "<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.console.read?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">Console.Read</a> returns an ASCII value of the first character in your input. Try your code with the letter \"A\" as input - result will be \u201cpassed\", because the ASCII value for \"A\" is 65.  It just so happens that numbers 0-9 have ASCII values 48-57, respectively; your code compares to 60, so the result is always the same. </p>\n\n<p>Converting after the input will not work; you need to use <code>Console.ReadLine()</code>, and parse the input as <code>int</code></p>\n"}], "owner": {"reputation": 1, "user_id": 10124602, "user_type": "registered", "profile_image": "https://graph.facebook.com/1856379261121530/picture?type=large", "display_name": "Seif Walid", "link": "https://stackoverflow.com/users/10124602/seif-walid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 54911209, "answer_count": 1, "score": -5, "last_activity_date": 1551289030, "creation_date": 1551287872, "last_edit_date": 1551287985, "question_id": 54911062, "link": "https://stackoverflow.com/questions/54911062/the-operator-isnt-working-correctly-instead-of-if-else", "title": "The ? operator isn&#39;t working correctly instead of if/else", "body": "<p>I was trying to put the <code>?</code> operator in my code instead of the usual if /else \nbut it gave me the same result whether it's true or false?</p>\n\n<pre><code>int student_grade;\nConsole.WriteLine(\"enter the grade:\");\nstudent_grade = Console.Read();\n\nConsole.WriteLine((student_grade &gt;= 60) ? \"passed\" :\"failed\");\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-web-api2", "asp.net-identity", "twitter-oauth"], "comments": [{"owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 0, "creation_date": 1551319192, "post_id": 54911028, "comment_id": 96600462, "body": "Doesn&#39;t the auth flow come back into <code>ExternalLoginCallback</code>?  At this point you can add all the custom claims you want"}, {"owner": {"reputation": 404, "user_id": 5360237, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/286aa1fb2d6a9e922c7a3a0a1649de1a?s=128&d=identicon&r=PG&f=1", "display_name": "Dumber_Texan2", "link": "https://stackoverflow.com/users/5360237/dumber-texan2"}, "reply_to_user": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 0, "creation_date": 1551367236, "post_id": 54911028, "comment_id": 96622377, "body": "The ExternalLoginCallback works with an MVC Web App and I actually have this working with a different Twitter and Facebook app. Now I&#39;m trying to get another Twitter and Facebook app to work with my Web API, so I&#39;ve configured the Startup.Auth to use their credentials. Everything works! I can see the AccessToken and AccessTokenSecret being created. I then add them as additional claims using context.Identity.AddClaim. When I log back on using the Bearer Token, the claims are not part of the Identity."}], "answers": [{"comments": [{"owner": {"reputation": 404, "user_id": 5360237, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/286aa1fb2d6a9e922c7a3a0a1649de1a?s=128&d=identicon&r=PG&f=1", "display_name": "Dumber_Texan2", "link": "https://stackoverflow.com/users/5360237/dumber-texan2"}, "edited": false, "score": 0, "creation_date": 1551376171, "post_id": 54929807, "comment_id": 96627352, "body": "Thanks! Any idea how Owin adds the Twitter ScreenName to the Bearer Token Identity? I can get that using identity.FindFirstValue(ClaimTypes.Name). Perhaps this method could be overwritten or somehow added to so something like this identity.FindFirstValue(&quot;access_token&quot;) would work."}, {"owner": {"reputation": 1884, "user_id": 1157051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4115d695390f2444790b8e787f9453d?s=128&d=identicon&r=PG", "display_name": "Schwarzie2478", "link": "https://stackoverflow.com/users/1157051/schwarzie2478"}, "reply_to_user": {"reputation": 404, "user_id": 5360237, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/286aa1fb2d6a9e922c7a3a0a1649de1a?s=128&d=identicon&r=PG&f=1", "display_name": "Dumber_Texan2", "link": "https://stackoverflow.com/users/5360237/dumber-texan2"}, "edited": false, "score": 0, "creation_date": 1551376846, "post_id": 54929807, "comment_id": 96627705, "body": "I&#39;m not familiar with the Twitter as such, but they are OAuth tokens, which I understand at least a bit.  Windows Authentication maps the name claim to the User Identity that you can call in your methods, You can always check the contents of a token in jwt.io to see which claims you get..."}], "tags": [], "owner": {"reputation": 1884, "user_id": 1157051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4115d695390f2444790b8e787f9453d?s=128&d=identicon&r=PG", "display_name": "Schwarzie2478", "link": "https://stackoverflow.com/users/1157051/schwarzie2478"}, "is_accepted": false, "score": 0, "last_activity_date": 1551369992, "creation_date": 1551369992, "answer_id": 54929807, "question_id": 54911028, "link": "https://stackoverflow.com/questions/54911028/add-claims-to-asp-net-web-api-2-bearer-token-in-asp-net-identity/54929807#54929807", "title": "Add Claims to Asp.Net Web API 2 Bearer Token in ASP.net Identity?", "body": "<p>You can't change tokens made by a third party.<br>\nThey are signed with a private key and validated during login.</p>\n\n<p>You could put host IdentityServer in between  the Twiiter identity prodiver and your applications.  IdentityServer is open source OpenId and OAuth 2.0 server and allows you to dictate how tokens and claims should be handled.  But it is not a simple thing to start with.  All depends on how far you want to go for this solution.</p>\n\n<p><a href=\"https://identityserver.io/\" rel=\"nofollow noreferrer\">https://identityserver.io/</a></p>\n\n<p>I can certainly recommend it!</p>\n"}, {"tags": [], "owner": {"reputation": 404, "user_id": 5360237, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/286aa1fb2d6a9e922c7a3a0a1649de1a?s=128&d=identicon&r=PG&f=1", "display_name": "Dumber_Texan2", "link": "https://stackoverflow.com/users/5360237/dumber-texan2"}, "is_accepted": true, "score": 0, "last_activity_date": 1551466032, "last_edit_date": 1551466032, "creation_date": 1551465673, "answer_id": 54950506, "question_id": 54911028, "link": "https://stackoverflow.com/questions/54911028/add-claims-to-asp-net-web-api-2-bearer-token-in-asp-net-identity/54950506#54950506", "title": "Add Claims to Asp.Net Web API 2 Bearer Token in ASP.net Identity?", "body": "<p>OK, I finally got this to work. The key is in the ExternalLoginData method (see below). This method gets called when the application redirects back from Twitter, Facebook etc... I assume this is part of the <a href=\"https://api.yourdomain.com/signin-twitter\" rel=\"nofollow noreferrer\">https://api.yourdomain.com/signin-twitter</a> and <a href=\"https://api.yourdomain.com/signin-facebook\" rel=\"nofollow noreferrer\">https://api.yourdomain.com/signin-facebook</a> etc... callbacks. Based on what I can gather, return new ExternalLoginData gets the AccessToken and AccessTokenSecret. GetClaims is then called. If the AccessToken and AccessTokenSecret are not null, they get re-added as Claims. These claims can then be accessed in the GetUserInfo or RegisterExternal method using this line of code. </p>\n\n<pre><code>ExternalLoginData externalLogin = ExternalLoginData.FromIdentity(User.Identity as ClaimsIdentity). \n</code></pre>\n\n<p>You can then get the exact values using this code.</p>\n\n<pre><code>AccessToken = externalLogin != null ? externalLogin.AccessToken : null,\n                    AccessTokenSecret = externalLogin != null ? externalLogin.AccessTokenSecret : null\n</code></pre>\n\n<p>Here is the new ExternalLoginData method.</p>\n\n<pre><code>private class ExternalLoginData\n        {\n            public string LoginProvider { get; set; }\n            public string ProviderKey { get; set; }\n            public string UserName { get; set; }\n            public string AccessToken { get; set; }\n            public string AccessTokenSecret { get; set; }\n\n\n            public IList&lt;Claim&gt; GetClaims()\n            {\n                IList&lt;Claim&gt; claims = new List&lt;Claim&gt;();\n                claims.Add(new Claim(ClaimTypes.NameIdentifier, ProviderKey, null, LoginProvider));\n\n                if (UserName != null)\n                {\n                    claims.Add(new Claim(ClaimTypes.Name, UserName, null, LoginProvider));\n                }\n\n                if (AccessToken != null)\n                {\n                    claims.Add(new Claim(\"access_token\", AccessToken, null, LoginProvider));\n                }\n\n                if (AccessTokenSecret != null)\n                {\n                    claims.Add(new Claim(\"access_token_secret\", AccessTokenSecret, null, LoginProvider));\n                }\n\n                return claims;\n            }\n\n            public static ExternalLoginData FromIdentity(ClaimsIdentity identity)\n            {\n                if (identity == null)\n                {\n                    return null;\n                }\n\n                Claim providerKeyClaim = identity.FindFirst(ClaimTypes.NameIdentifier);\n\n                if (providerKeyClaim == null || String.IsNullOrEmpty(providerKeyClaim.Issuer)\n                    || String.IsNullOrEmpty(providerKeyClaim.Value))\n                {\n                    return null;\n                }\n\n                if (providerKeyClaim.Issuer == ClaimsIdentity.DefaultIssuer)\n                {\n                    return null;\n                }\n\n                return new ExternalLoginData\n                {\n                    LoginProvider = providerKeyClaim.Issuer,\n                    ProviderKey = providerKeyClaim.Value,\n                    UserName = identity.FindFirstValue(ClaimTypes.Name),\n                    AccessToken = identity.Claims.FirstOrDefault(x =&gt; x.Type.Contains(\"access_token\")).Value,\n                    AccessTokenSecret = identity.Claims.FirstOrDefault(x =&gt; x.Type.Contains(\"access_token_secret\")).Value,\n                };\n            }\n        }\n</code></pre>\n\n<p>I'm then using the public static TwitterDto TwitterLogin method to get the email address from Twitter (see link below).</p>\n\n<p><a href=\"https://stackoverflow.com/a/36356009/5360237\">https://stackoverflow.com/a/36356009/5360237</a></p>\n\n<p>Hopefully, this will help someone else since this is not documented at all. :)</p>\n"}], "owner": {"reputation": 404, "user_id": 5360237, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/286aa1fb2d6a9e922c7a3a0a1649de1a?s=128&d=identicon&r=PG&f=1", "display_name": "Dumber_Texan2", "link": "https://stackoverflow.com/users/5360237/dumber-texan2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 960, "favorite_count": 0, "accepted_answer_id": 54950506, "answer_count": 2, "score": 0, "last_activity_date": 1551466387, "creation_date": 1551287749, "last_edit_date": 1551466387, "question_id": 54911028, "link": "https://stackoverflow.com/questions/54911028/add-claims-to-asp-net-web-api-2-bearer-token-in-asp-net-identity", "title": "Add Claims to Asp.Net Web API 2 Bearer Token in ASP.net Identity?", "body": "<p>Is it possible to add claims to a Bearer Token in order to access those claims in the future? This is the Bearer Token that is issued by the Web API. It is contained in the URL that is displayed upon redirect from the Twitter app authorization process.</p>\n\n<p>The reason I ask is that I'm trying to store the Twitter AccessToken and AccessTokenSecret as additional claims. I'm doing this so that I can access these claims when I access the GetUserInfo method using a Bearer Token. From what I can tell, this is not possible.</p>\n\n<p>It seems like I might have to store these in SQL and retrieve them using the Twitter userName when I access GetUserInfo. When I access GetUserInfo, I get the Twitter userName and userId, but I can't get the AccessToken and AccessTokenSecret. I might be able to store the context.ScreenName, context.AccessToken and context.AccessTokenSecret in SQL using the public override Task Authenticated(TwitterAuthenticatedContext context) method.</p>\n\n<p>I need the AccessToken and AccessTokenSecret, so I can call this Twitter endpoint to get the user's email address.</p>\n\n<p><a href=\"https://api.twitter.com/1.1/account/verify_credentials.json\" rel=\"nofollow noreferrer\">https://api.twitter.com/1.1/account/verify_credentials.json</a></p>\n\n<p>At this stage in the process, my user is not logged in and their local account has not been created. I am attempting to get the email address from Twitter in order to create their local account.</p>\n\n<p><strong>UPDATE 1</strong></p>\n\n<p>Here is some code. I'm calling this method from Provider in TwitterAuthenticationOptions in Startup.Auth like so. As you can see, I'm adding the claims to the context in Authenticated.</p>\n\n<pre><code>Provider = new TwitterAuthProvider(), \n\npublic class TwitterAuthProvider : TwitterAuthenticationProvider\n{\n    public string XmlSchemaString { get; private set; }\n\n    public override Task Authenticated(TwitterAuthenticatedContext context)\n    {\n        context.Identity.AddClaim(new Claim(\"access_token\", context.AccessToken, XmlSchemaString, \"Twitter\"));\n        context.Identity.AddClaim(new Claim(\"access_token_secret\", context.AccessTokenSecret, XmlSchemaString, \"Twitter\"));\n        context.Identity.AddClaim(new Claim(\"user_name\", context.ScreenName, XmlSchemaString, \"Twitter\"));\n        context.Identity.AddClaim(new Claim(\"account_type\", \"Twitter\", XmlSchemaString, \"Twitter\"));\n\n        return Task.FromResult&lt;object&gt;(null);\n    }\n\n}\n</code></pre>\n\n<p>Any help is much appreciated. Thanks in advance!</p>\n"}, {"tags": ["java", "c#", "c++", "javafx", "java-native-interface"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1551288761, "post_id": 54911014, "comment_id": 96589362, "body": "Not an answer, but <a href=\"https://docs.oracle.com/en/java/javase/11/docs/specs/jni/index.html\" rel=\"nofollow noreferrer\">this resource</a> may help."}, {"owner": {"reputation": 10057, "user_id": 2423906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rkpYv.jpg?s=128&g=1", "display_name": "Sedrick", "link": "https://stackoverflow.com/users/2423906/sedrick"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1551288803, "post_id": 54911014, "comment_id": 96589386, "body": "Thanks @Slaw. I will look at it after lunch."}], "answers": [{"comments": [{"owner": {"reputation": 10057, "user_id": 2423906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rkpYv.jpg?s=128&g=1", "display_name": "Sedrick", "link": "https://stackoverflow.com/users/2423906/sedrick"}, "edited": false, "score": 0, "creation_date": 1551291510, "post_id": 54911553, "comment_id": 96590654, "body": "I think it&#39;s an unmanaged DLL. It has Interop in front of the DLL&#39;s name in the object browers."}, {"owner": {"reputation": 10057, "user_id": 2423906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rkpYv.jpg?s=128&g=1", "display_name": "Sedrick", "link": "https://stackoverflow.com/users/2423906/sedrick"}, "edited": false, "score": 0, "creation_date": 1551292865, "post_id": 54911553, "comment_id": 96591318, "body": "When I try to load the DLL using jni4net, I get error: <code>Exception in thread &quot;main&quot; System.BadImageFormatException: Could not load file or assembly &#39;file:&#47;&#47;&#47;C:\\path1\\path2\\BatchCat2009-21.dll&#39; or one of its dependencies. The module was expected to contain an assembly manifest.</code>"}], "tags": [], "owner": {"reputation": 69, "user_id": 6121912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wcwMi.jpg?s=128&g=1", "display_name": "Ajinkya", "link": "https://stackoverflow.com/users/6121912/ajinkya"}, "is_accepted": false, "score": 0, "last_activity_date": 1551289662, "creation_date": 1551289662, "answer_id": 54911553, "question_id": 54911014, "link": "https://stackoverflow.com/questions/54911014/call-functions-in-dll-using-java/54911553#54911553", "title": "Call Functions in DLL using Java", "body": "<p>You can use the jni4net, which act as bridge between .NET and Java.</p>\n\n<p>Please refer the documentation <a href=\"http://jni4net.com/\" rel=\"nofollow noreferrer\">here</a> </p>\n"}], "owner": {"reputation": 10057, "user_id": 2423906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rkpYv.jpg?s=128&g=1", "display_name": "Sedrick", "link": "https://stackoverflow.com/users/2423906/sedrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551367943, "creation_date": 1551287687, "last_edit_date": 1551367943, "question_id": 54911014, "link": "https://stackoverflow.com/questions/54911014/call-functions-in-dll-using-java", "title": "Call Functions in DLL using Java", "body": "<p>I have been looking at ways to call DLL functions in Java. I have successfully done a few tutorials. All the tutorials and examples I have seen have been very basic. Basically, calling a DLL with one function. The DLL I need to load has two public interfaces (<code>ClassBatchCat</code> and <code>ClassItemRecord</code>). See object browser below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Jf6hj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jf6hj.png\" alt=\"enter image description here\"></a></p>\n\n<p>I need to access the functions associated with <code>ClassBatchCat</code>. See Image below.\n<a href=\"https://i.stack.imgur.com/YBjaw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YBjaw.png\" alt=\"enter image description here\"></a></p>\n\n<p>So, how do I access the functions under <code>ClassBatchCatClass</code> and how do I access the return code ENUMs. \nThis is not a JavaFX question. </p>\n"}, {"tags": ["c#", "asp.net-core-2.1"], "answers": [{"comments": [{"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 1, "creation_date": 1551299161, "post_id": 54911058, "comment_id": 96594178, "body": "This doesn&#39;t really help the OP in their particular scenario. They need to return some sort of <code>IActionResult</code>, but don&#39;t know which is best. Setting the response status code directly will be potentially overridden by the eventual result type they return."}], "tags": [], "owner": {"reputation": 3377, "user_id": 2348125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vc2jx.png?s=128&g=1", "display_name": "rad", "link": "https://stackoverflow.com/users/2348125/rad"}, "is_accepted": false, "score": 0, "last_activity_date": 1551287858, "creation_date": 1551287858, "answer_id": 54911058, "question_id": 54910965, "link": "https://stackoverflow.com/questions/54910965/can-i-return-a-504-http-code-in-asp-net-core/54911058#54911058", "title": "Can I return a 504 HTTP code in ASP net core", "body": "<p>Try this:  </p>\n\n<pre><code>context.HttpContext.Response.StatusCode = 504;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 1, "creation_date": 1551298984, "post_id": 54911080, "comment_id": 96594106, "body": "This is your answer here. When you need a response body and no other more specific result type will do, use <code>ObjectResult</code> and set the status code manually. If you do not need to actually return a response body, though, you can just use <code>StatusCodeResult</code>."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1551300190, "post_id": 54911080, "comment_id": 96594637, "body": "@ChrisPratt I&#39;ll add in that second part as additional info that will be useful to the op"}, {"owner": {"reputation": 1744, "user_id": 968671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nqf2x.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/968671/mat"}, "edited": false, "score": 0, "creation_date": 1551340494, "post_id": 54911080, "comment_id": 96606809, "body": "That worked like a charm. BTW I used the <code>StatusCodes</code> enum instead of 504"}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 4, "last_activity_date": 1551301958, "last_edit_date": 1551301958, "creation_date": 1551287928, "answer_id": 54911080, "question_id": 54910965, "link": "https://stackoverflow.com/questions/54910965/can-i-return-a-504-http-code-in-asp-net-core/54911080#54911080", "title": "Can I return a 504 HTTP code in ASP net core", "body": "<p>Use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.objectresult?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\"><code>ObjectResult</code></a> and set the status code manually.</p>\n\n<pre><code>//... omitted for brevity\n\nif (!MyService.IsConnected) {\n    var info = new ResultInformation() { \n        ResultCode = 2000056, \n        Message = \"My service is not reachable\" \n    };\n    context.Result = new ObjectResult(info) {\n        StatusCode = 504\n    };\n}\n\n//... omitted for brevity\n</code></pre>\n\n<p>Most of the standard status result types that require an object body are in fact derived from <code>ObjectResult</code> where they set their specific status code. For example <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.badrequestobjectresult?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\"><code>BadRequestObjectResult</code></a></p>\n\n<p>If you do not need to actually return a response body, you can instead use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.statuscoderesult?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\"><code>StatusCodeResult</code></a></p>\n\n<pre><code>context.Result = new StatusCodeResult(504);\n</code></pre>\n"}], "owner": {"reputation": 1744, "user_id": 968671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nqf2x.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/968671/mat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 473, "favorite_count": 0, "accepted_answer_id": 54911080, "answer_count": 2, "score": 1, "last_activity_date": 1551301958, "creation_date": 1551287492, "question_id": 54910965, "link": "https://stackoverflow.com/questions/54910965/can-i-return-a-504-http-code-in-asp-net-core", "title": "Can I return a 504 HTTP code in ASP net core", "body": "<p>Currently I have an <code>ExceptionFilterAttribute</code> to handle exceptions on <code>controllers</code>. My API connects to a service (via proprietary TCP/IP). If this service is not reachable I want to return a HTTP 504 response code with a proper error message.</p>\n\n<p>I have figured out how to send a 400 </p>\n\n<pre><code>public override void OnException(ExceptionContext context)\n{\n    if (!MyService.IsConnected)\n    {\n        context.Result = new BadRequestObjectResult(new ResultInformation() { ResultCode = 2000056, Message = \"My service is not reachable\" });\n\n    }\n    else\n    {\n        context.Result = new BadRequestObjectResult(new ResultInformation() { ResultCode = 0, Message = context.Exception.Message });\n    }\n}\n</code></pre>\n\n<p>How can I change this code to send a 504 and the error message?</p>\n"}, {"tags": ["c#", "excel", "process", "real-time", "sendmessage"], "comments": [{"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1551287394, "post_id": 54910917, "comment_id": 96588649, "body": "Why do that at all? Why not use Excel Interop, which was built for exactly this reason?"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1551287600, "post_id": 54910917, "comment_id": 96588769, "body": "The messages you send are text editing messages. Excel isn&#39;t an editor though. You can&#39;t just start typing, you have to select a cell first, enter edit mode and start editing its contents. The cell goes into edit mode automatically when you start typing or when you press F2."}, {"owner": {"reputation": 7, "user_id": 7106548, "user_type": "registered", "profile_image": "https://graph.facebook.com/1131091593673316/picture?type=large", "display_name": "Henrique Guimar&#227;es", "link": "https://stackoverflow.com/users/7106548/henrique-guimar%c3%a3es"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1551289888, "post_id": 54910917, "comment_id": 96589899, "body": "@PanagiotisKanavos can you point me to an example on how to do it with the interop?"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1551343899, "post_id": 54910917, "comment_id": 96608290, "body": "That&#39;s thoroughly documented in docs.microsoft.com, courses, tutorials and books. Just google for <code>Excel Interop</code>. Check for example <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/interop/how-to-access-office-onterop-objects\" rel=\"nofollow noreferrer\">How to: Access Office Interop Objects by Using Visual C# Features</a>"}, {"owner": {"reputation": 7, "user_id": 7106548, "user_type": "registered", "profile_image": "https://graph.facebook.com/1131091593673316/picture?type=large", "display_name": "Henrique Guimar&#227;es", "link": "https://stackoverflow.com/users/7106548/henrique-guimar%c3%a3es"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1551699732, "post_id": 54910917, "comment_id": 96722911, "body": "But how can I send strings to and excel cell without closing anything? Just like what happens with notepad. Because for that, I need processes"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1551700153, "post_id": 54910917, "comment_id": 96723113, "body": "Did you read the link to the docs? Did you <i>try</i> it? Excel isn&#39;t Notepad or any kind of text editor. You don&#39;t need to start the process yourself either, that&#39;s what <code>new Excel.Application();</code> does. Whey you try to access an application through COM, Windows itself starts the &quot;server&quot; application."}], "owner": {"reputation": 7, "user_id": 7106548, "user_type": "registered", "profile_image": "https://graph.facebook.com/1131091593673316/picture?type=large", "display_name": "Henrique Guimar&#227;es", "link": "https://stackoverflow.com/users/7106548/henrique-guimar%c3%a3es"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551287333, "creation_date": 1551287333, "question_id": 54910917, "link": "https://stackoverflow.com/questions/54910917/using-sendmessage-to-write-to-excel-in-c", "title": "Using SendMessage() to write to Excel in C#", "body": "<p>I made before a program where I could open a process of the notepad and while it's <strong>opened</strong>, be able to write in it from the C# program console. Now I'm trying to do the same but with the excel, I can run the process, I can open it and I can kill it. But when I try to write in it with the SendMessage() method, nothing happens, is there a way I can do this? Or am I missing something? Thanks!</p>\n\n<p>Here's what I tried so far</p>\n\n<p>Declarations</p>\n\n<pre><code> [return: MarshalAs(UnmanagedType.Bool)]\n    [DllImport(\"user32.dll\", SetLastError = true, CharSet = CharSet.Auto)]\n    static extern bool PostMessage(HandleRef hWnd, uint Msg, IntPtr wParam, IntPtr lParam);\n\n    //include SendMessage\n    [DllImport(\"user32.dll\")]\n    public static extern int SendMessage(IntPtr hWnd, int uMsg, int wParam, string lParam);\n\n    [DllImport(\"user32.dll\")]\n    public static extern int SendMessage(IntPtr hWnd, int uMsg, int wParam, int lParam);\n\n\n    [DllImport(\"user32.dll\", SetLastError = true)]\n    public static extern IntPtr FindWindowEx(IntPtr parentHandle, IntPtr childAfter, string className, string windowTitle);\n\n    [DllImport(\"User32.dll\")]\n    static extern int SetForegroundWindow(IntPtr point);\n\n    [DllImport(\"User32.dll\", EntryPoint = \"SendMessage\")]\n    extern static int SendMessageGetTextLength(IntPtr hWnd, int msg, IntPtr wParam, IntPtr lParam);\n\n    const uint WM_PASTE = 0x302;\n    const int WM_SETTEXT = 0X000C;\n    const int WM_GETTEXTLENGTH = 0x000E;\n    const int EM_SETSEL = 0x00B1;\n    const int EM_REPLACESEL = 0x00C2;\n\n    static void Main(string[] args)\n    {\n        //Abre o programa\n        Process prcss = new Process();\n        prcss.StartInfo.FileName = \"excel.exe\";\n        prcss.Start();\n        string aux = prcss.StartInfo.FileName;\n\n        //Verifica se o processo est\u00e1 a correr\n        Process[] processlist = Process.GetProcesses();\n</code></pre>\n\n<p>Code to write in it with the SendMessage().</p>\n\n<pre><code>case \"2\":\n\n                while (true)\n                {\n\n                    //Testar com o SendMessage\n                    Console.WriteLine(\"\\nTexto: \\n\");\n                    string texto = Console.ReadLine();\n\n                    if (aux.Length == 0)\n                    {\n                        return;\n                    }\n\n                    if (prcss != null)\n                    {\n                        IntPtr notepadTextbox = FindWindowEx(prcss.MainWindowHandle, IntPtr.Zero, \"edit\", null);\n                        int length = SendMessageGetTextLength(notepadTextbox, WM_GETTEXTLENGTH, IntPtr.Zero, IntPtr.Zero);\n\n                        if (!notepadTextbox.Equals(IntPtr.Zero))\n                        {\n                            //sending the message to the textbox\n                            SendMessage(notepadTextbox, WM_SETTEXT, 0, texto);\n                            SendMessage(notepadTextbox, EM_SETSEL, length, length);\n                            SendMessage(notepadTextbox, EM_REPLACESEL, 1, texto + \"\\n\");\n\n                        }\n                    }\n\n                    Console.WriteLine(\"Sair? (S)im / (N)\u00e3o\");\n                    sair = Console.ReadLine();\n\n                    if (sair == \"s\" || sair == \"S\")\n                    {\n                        IntPtr k = prcss.MainWindowHandle;\n                        SetForegroundWindow(k);\n                        prcss.Kill();\n                        break;\n                    }\n                }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 647, "user_id": 5987619, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/ci6LP.jpg?s=128&g=1", "display_name": "Ucho", "link": "https://stackoverflow.com/users/5987619/ucho"}, "edited": false, "score": 0, "creation_date": 1551289536, "post_id": 54910891, "comment_id": 96589718, "body": "Did you try just 2 in a row? I guess you should stuck to your click handler since there are async method calls from not async context."}], "owner": {"reputation": 11, "user_id": 11123950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a96128ba460513ad2ae1bfd751a0f7a?s=128&d=identicon&r=PG&f=1", "display_name": "unkylupus", "link": "https://stackoverflow.com/users/11123950/unkylupus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 15, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551287242, "creation_date": 1551287242, "question_id": 54910891, "link": "https://stackoverflow.com/questions/54910891/press-multiple-buttons-and-save-it-in-a-chronic-for-further-action", "title": "press multiple buttons and save it in a chronic for further action", "body": "<p>first of all, c# is new for me. let me apologize in advance for this newbie question. </p>\n\n<p>at the moment i am working on an elevator gui (windows forms in visual studio 2017). \nif i press a button on a random floor and wait until the elevator reaches its destination, and then press another button, the code seems to work. now i would like to integrate the possibility, that the buttons on the floor can be pressed almost at the same time, one after another.\ne.g. press button level floor 2, press button level floor 0, press button level floor 1. the elevator should then go to floor 2, then to floor 0 and finally reach floor 1 (voyager commands are yet excluded).</p>\n\n<p>i tried to store these calls in a list, to let the elevator working off that list. unfortunately, when i push the buttons randomely, the code doesn't work anymore. i guess the mistake is, that it always reruns the Move() function after every pressed button. </p>\n\n<p>how can i save the order of these pressed buttons, so the programm can proceed an other action with this information?\nthx for any answers. </p>\n\n<p>Code Snippet:</p>\n\n<pre><code>    int elevatorposition = 2;\n    List&lt;int&gt; Queue = new List&lt;int&gt;();\n\n    private void btnCall0_Click(object sender, EventArgs e)\n    //floor 0\n    {\n        Call(0);\n        Move();\n    }\n\n    private void btnCall1_Click(object sender, EventArgs e)\n    //floor 1\n    {\n        Call(1);\n        Move();\n    }\n\n    private void btnCall2_Click(object sender, EventArgs e)\n    //floor 2\n    {\n        Call(2);\n        Move();\n    }\n\n    private new async void Move()\n    {\n        await h();\n    }\n\n    private async Task h()\n    {\n        if (Queue.Contains(0) || Queue.Contains(1) || Queue.Contains(2))\n        {\n           int callerposition = Queue[0];\n\n           if (callerposition &lt; elevatorposition)\n            {\n               while (callerposition &lt; elevatorposition)\n                {\n                    await Task.Delay(2000);\n                    elevatorposition--;\n                    LabelElevatorPosition(elevatorposition);\n                }\n            Queue.RemoveAt(0);\n            }\n\n           else if (callerposition &gt; elevatorposition)\n            {\n               while (callerposition &gt; elevatorposition)\n                {\n                await Task.Delay(2000);\n                elevatorposition++;\n                LabelElevatorPosition(elevatorposition);\n                }\n            Queue.RemoveAt(0);\n            }   \n        }\n    }\n\n    private void Call(int x)\n    {\n        Queue.Add(x);\n    }\n</code></pre>\n"}, {"tags": ["c#", "linq"], "answers": [{"comments": [{"owner": {"reputation": 3974, "user_id": 632495, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bfcc7459b16c1eff3f1a724392ce7873?s=128&d=identicon&r=PG", "display_name": "Jon49", "link": "https://stackoverflow.com/users/632495/jon49"}, "edited": false, "score": 0, "creation_date": 1551287801, "post_id": 54910986, "comment_id": 96588878, "body": "I can&#39;t get this to compile is says <code>IDictionary</code> requires 2 type arguments."}, {"owner": {"reputation": 3974, "user_id": 632495, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bfcc7459b16c1eff3f1a724392ce7873?s=128&d=identicon&r=PG", "display_name": "Jon49", "link": "https://stackoverflow.com/users/632495/jon49"}, "edited": false, "score": 0, "creation_date": 1551287878, "post_id": 54910986, "comment_id": 96588913, "body": "In my use case the dictionary should only have a single key value pair in it. But good tip nonetheless!"}, {"owner": {"reputation": 3974, "user_id": 632495, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bfcc7459b16c1eff3f1a724392ce7873?s=128&d=identicon&r=PG", "display_name": "Jon49", "link": "https://stackoverflow.com/users/632495/jon49"}, "edited": false, "score": 0, "creation_date": 1551288051, "post_id": 54910986, "comment_id": 96589007, "body": "I&#39;m getting the error <code>ICollection</code> does not contain a definition <code>ElementAt</code>. I could probably figure that part out myself. But just thought you should know."}, {"owner": {"reputation": 2267, "user_id": 726986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/721a6cdbac66106ee86ce91bfeea3f4e?s=128&d=identicon&r=PG", "display_name": "tigerswithguitars", "link": "https://stackoverflow.com/users/726986/tigerswithguitars"}, "edited": false, "score": 1, "creation_date": 1551288202, "post_id": 54910986, "comment_id": 96589078, "body": "I think you will need to use <code>Cast&lt;string&gt;</code> in the keys collection before you can use first"}, {"owner": {"reputation": 3974, "user_id": 632495, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bfcc7459b16c1eff3f1a724392ce7873?s=128&d=identicon&r=PG", "display_name": "Jon49", "link": "https://stackoverflow.com/users/632495/jon49"}, "edited": false, "score": 0, "creation_date": 1551288353, "post_id": 54910986, "comment_id": 96589162, "body": "<code>x.Keys.First()</code> <code>ICollection</code> doesn&#39;t contain <code>First</code>"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 1, "creation_date": 1551288395, "post_id": 54910986, "comment_id": 96589180, "body": "The only risk with <code>x.Keys.OfType&lt;string&gt;()</code> is if for some reason you had a dictionary that did not use <code>string</code> as the key type, this would blow up at runtime."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "reply_to_user": {"reputation": 3974, "user_id": 632495, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bfcc7459b16c1eff3f1a724392ce7873?s=128&d=identicon&r=PG", "display_name": "Jon49", "link": "https://stackoverflow.com/users/632495/jon49"}, "edited": false, "score": 1, "creation_date": 1551288474, "post_id": 54910986, "comment_id": 96589213, "body": "@Jon49 Ahh ok I forgot <code>First()</code> doesn&#39;t work on non-generic interfaces. <code>OfType</code> will convert it for you. I&#39;ll update the answer."}], "tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 4, "last_activity_date": 1551288509, "last_edit_date": 1551288509, "creation_date": 1551287558, "answer_id": 54910986, "question_id": 54910826, "link": "https://stackoverflow.com/questions/54910826/filter-listobject-for-dictionarystring-and-get-first-key/54910986#54910986", "title": "Filter List&lt;object&gt; for Dictionary&lt;string,?&gt; and Get First Key", "body": "<p>As the error states, you can't cast a <code>Dictionary&lt;string, string[]&gt;</code> to a <code>Dictionary&lt;string, object&gt;</code>. One way to do what you want is to cast to <code>IDictionary</code> (and use <code>OfType</code> instead of the <code>Where</code> clause for better type safety:</p>\n\n<pre><code>var firstStrings =\n    list.OfType&lt;IDictionary&gt;()\n        .Select(x =&gt; x.Keys\n                      .OfType&lt;object&gt;()\n                      .First()\n                      .ToString()\n               )\n        .ToArray();\n</code></pre>\n\n<p>You may need to add <code>using System.Collections;</code> to your using block since <code>IDictionary</code> is in a different namespace than the generic class.</p>\n\n<p>One other note - dictionaries are not ordered, so the \"first\" element is arbitrary (adding a new key/value pair may change the \"first\" key you get back).</p>\n"}], "owner": {"reputation": 3974, "user_id": 632495, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bfcc7459b16c1eff3f1a724392ce7873?s=128&d=identicon&r=PG", "display_name": "Jon49", "link": "https://stackoverflow.com/users/632495/jon49"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 54910986, "answer_count": 1, "score": 0, "last_activity_date": 1551293144, "creation_date": 1551287035, "last_edit_date": 1551293144, "question_id": 54910826, "link": "https://stackoverflow.com/questions/54910826/filter-listobject-for-dictionarystring-and-get-first-key", "title": "Filter List&lt;object&gt; for Dictionary&lt;string,?&gt; and Get First Key", "body": "<p>I have a <code>IList&lt;object&gt;</code> which contains a list of <code>string</code>, <code>Dictionary&lt;string, string[]&gt;</code> or <code>Dictionary&lt;string, object&gt;</code>. I would like to get the first string of each <code>Dictionary</code>.</p>\n\n<p>I've tried:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var firstStrings =\n    list\n    .Where(x =&gt; !(x is string))\n    .Select(x =&gt; ((Dictionary&lt;string, object&gt;)x).Keys.ElementAt(0))\n    .ToArray();\n</code></pre>\n\n<p>But I get the error</p>\n\n<blockquote>\n  <p>System.InvalidCastException: Unable to cast object of type 'System.Collections.Generic.Dictionary<code>2[System.String,System.Collections.Generic.List</code>1[System.String]]' to type 'System.Collections.Generic.IDictionary`2[System.String,System.Object]'.</p>\n</blockquote>\n"}, {"tags": ["c#", "wpf", "xaml"], "comments": [{"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1551300284, "post_id": 54910791, "comment_id": 96594676, "body": "I&#39;m pretty sure dragging just moves the thumb to where the cursor is. You&#39;d have to slow the cursor movement or re-invent how sliders work."}, {"owner": {"reputation": 2088, "user_id": 6233938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SbmyV.png?s=128&g=1", "display_name": "walterlv", "link": "https://stackoverflow.com/users/6233938/walterlv"}, "edited": false, "score": 0, "creation_date": 1551314842, "post_id": 54910791, "comment_id": 96599544, "body": "You&#39;d better create a fake slider with an invisible thumb."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10398821, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-idAlR-Fou4U/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPe7-vVyD0cx6f0gPP_PUeUIKjo5A/mo/photo.jpg?sz=128", "display_name": "Shawn", "link": "https://stackoverflow.com/users/10398821/shawn"}, "edited": false, "score": 0, "creation_date": 1551372862, "post_id": 54916966, "comment_id": 96625714, "body": "This is a good way to slower cursor down but how do I move cursor to exact position I clicked, which done by origin xaml code IsMoveToPointEnabled=&quot;True&quot;?"}, {"owner": {"reputation": 3, "user_id": 10398821, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-idAlR-Fou4U/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPe7-vVyD0cx6f0gPP_PUeUIKjo5A/mo/photo.jpg?sz=128", "display_name": "Shawn", "link": "https://stackoverflow.com/users/10398821/shawn"}, "edited": false, "score": 0, "creation_date": 1551818071, "post_id": 54916966, "comment_id": 96777012, "body": "Never mind, I figured out that adding a new MouseDown event can handle that problem easily."}], "tags": [], "owner": {"reputation": 2088, "user_id": 6233938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SbmyV.png?s=128&g=1", "display_name": "walterlv", "link": "https://stackoverflow.com/users/6233938/walterlv"}, "is_accepted": true, "score": 0, "last_activity_date": 1551316780, "creation_date": 1551316780, "answer_id": 54916966, "question_id": 54910791, "link": "https://stackoverflow.com/questions/54910791/wpf-how-to-move-a-slider-thumb-slower-when-shift-key-is-pressed/54916966#54916966", "title": "WPF how to move a slider thumb slower when shift key is pressed", "body": "<p><a href=\"https://i.stack.imgur.com/uiGE2.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uiGE2.gif\" alt=\"The Preview\"></a></p>\n\n<p>I've written a fake slider to achieve your goal. I don't use the native <code>Thumb</code> because the native one captures the mouse and always follow the mouse. So I write a <code>Rectangle</code> instead of <code>Thumb</code> to do the dragging.</p>\n\n<p>This is the XAML:</p>\n\n<pre><code>&lt;Grid Width=\"400\" Height=\"32\"&gt;\n    &lt;Rectangle x:Name=\"Tracker\" Height=\"2\" Fill=\"Gray\" /&gt;\n    &lt;Rectangle x:Name=\"Thumb\" Width=\"8\" Height=\"32\" Margin=\"-4 -16\" Fill=\"DarkGray\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Center\"\n               MouseDown=\"Thumb_MouseDown\" MouseMove=\"Thumb_MouseMove\" MouseUp=\"Thumb_MouseUp\" LostMouseCapture=\"Thumb_LostMouseCapture\"&gt;\n        &lt;UIElement.RenderTransform&gt;\n            &lt;TranslateTransform x:Name=\"ThumbTranslation\" /&gt;\n        &lt;/UIElement.RenderTransform&gt;\n    &lt;/Rectangle&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>And this is the code-behind:</p>\n\n<pre><code>private Point? _lastPoint;\n\nprivate void Thumb_MouseDown(object sender, MouseButtonEventArgs e)\n{\n    _lastPoint = e.GetPosition(Tracker);\n    Thumb.CaptureMouse();\n}\n\nprivate void Thumb_MouseMove(object sender, MouseEventArgs e)\n{\n    if (_lastPoint != null)\n    {\n        var currentPoint = e.GetPosition(Tracker);\n        var offset = currentPoint - _lastPoint.Value;\n        _lastPoint = currentPoint;\n        if (Keyboard.Modifiers.HasFlag(ModifierKeys.Shift))\n        {\n            offset *= 0.2;\n        }\n        SetThumbTranslation(offset.X);\n    }\n}\n\nprivate void Thumb_MouseUp(object sender, MouseButtonEventArgs e)\n{\n    _lastPoint = null;\n    Thumb.ReleaseMouseCapture();\n}\n\nprivate void Thumb_LostMouseCapture(object sender, MouseEventArgs e)\n{\n    _lastPoint = null;\n}\n\nprivate void SetThumbTranslation(double offsetX)\n{\n    var x = ThumbTranslation.X + offsetX;\n    x = Math.Max(x, 0);\n    x = Math.Min(x, Tracker.ActualWidth);\n    ThumbTranslation.X = x;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10398821, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-idAlR-Fou4U/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPe7-vVyD0cx6f0gPP_PUeUIKjo5A/mo/photo.jpg?sz=128", "display_name": "Shawn", "link": "https://stackoverflow.com/users/10398821/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 54916966, "answer_count": 1, "score": 0, "last_activity_date": 1551316780, "creation_date": 1551286901, "last_edit_date": 1551288944, "question_id": 54910791, "link": "https://stackoverflow.com/questions/54910791/wpf-how-to-move-a-slider-thumb-slower-when-shift-key-is-pressed", "title": "WPF how to move a slider thumb slower when shift key is pressed", "body": "<p>I have a slider which I want the thumb moves to exact position when click on anywhere on the slider track and moves slower when I press Shift key and drag the thumb. I know how to detect when the shift key is pressed but I don't know how to slow down the thumb. Any help would be appreciated!</p>\n\n<p>Here is the xaml code:</p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;Slider x:Name=\"m_Slider\" IsMoveToPointEnabled=\"True\" Orientation=\"Vertical\" \n            Height=\"200\" Width=\"30\" Minimum=\"0\" Maximum=\"20\" HorizontalAlignment=\"Center\" \n            Thumb.DragStarted=\"Slider_ShiftDrag\"/&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>and here is the code-behind:</p>\n\n<pre><code>void Slider_ShiftDrag(object sender, DragStartedEventArgs e)\n{\n    if (e != null &amp;&amp; (Keyboard.IsKeyDown(Key.LeftShift) || Keyboard.IsKeyDown(Key.RightShift)))\n    {\n        //What should I do here?\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "t4"], "comments": [{"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1551287048, "post_id": 54910776, "comment_id": 96588467, "body": "Those keystrokes will work on the generated files. The changes will be lost once the file is regenerated though. Are you asking how to format each time they are regenerated?"}, {"owner": {"reputation": 54437, "user_id": 108796, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/1yySS.jpg?s=128&g=1", "display_name": "Blindy", "link": "https://stackoverflow.com/users/108796/blindy"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1551302486, "post_id": 54910776, "comment_id": 96595660, "body": "Yes. I don&#39;t want to do it manually just to lose it the next time I update the .tt file."}, {"owner": {"reputation": 572, "user_id": 1520772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f5b6b238725cee8db23074bea03786d8?s=128&d=identicon&r=PG", "display_name": "Thundter", "link": "https://stackoverflow.com/users/1520772/thundter"}, "edited": false, "score": 0, "creation_date": 1553077583, "post_id": 54910776, "comment_id": 97248400, "body": "This is the wrong approach. Try to account for your spacing chars in the template and seeing how the output is changed. Try not to use tabs and instead focus on spaces. That way your output is more uniform and you won&#39;t need to Ctrl-K-D once the file is generated."}], "owner": {"reputation": 54437, "user_id": 108796, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/1yySS.jpg?s=128&g=1", "display_name": "Blindy", "link": "https://stackoverflow.com/users/108796/blindy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551286851, "creation_date": 1551286851, "question_id": 54910776, "link": "https://stackoverflow.com/questions/54910776/how-to-auto-format-c-code-generated-by-a-tt-file", "title": "How to auto-format C# code generated by a .tt file?", "body": "<p>I assume there's some kind of IDE service object that can auto-format the generated .cs file(s) from a .tt file after it's done being generated, but I can't find it. </p>\n\n<p>Because right now I have fully working auto-generated code of 12k mis-aligned and very hard to read lines, and it would be <em>nice</em> if I could format them nicely, like CTRL-K-D / CTRL-E-D does. </p>\n"}, {"tags": ["c#", "ajax", "post", "asp.net-core", "kendo-grid"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 10140270, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-to9m9tcBJtQ/AAAAAAAAAAI/AAAAAAAAASs/-9CfAUlu_ag/photo.jpg?sz=128", "display_name": "draconastar", "link": "https://stackoverflow.com/users/10140270/draconastar"}, "edited": false, "score": 1, "creation_date": 1551445935, "post_id": 54913621, "comment_id": 96653509, "body": "Thank you for the response.  This didn&#39;t work (data was still null once it got to the controller), but it got me closer to the right answer.  I appreciate it!"}], "tags": [], "owner": {"reputation": 25337, "user_id": 804385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f600efe82b7f3a1614af15cf3f833215?s=128&d=identicon&r=PG", "display_name": "Dmitry Pavlov", "link": "https://stackoverflow.com/users/804385/dmitry-pavlov"}, "is_accepted": false, "score": 0, "last_activity_date": 1551297753, "creation_date": 1551297753, "answer_id": 54913621, "question_id": 54910755, "link": "https://stackoverflow.com/questions/54910755/ajax-post-request-not-passing-data-to-controller-method-in-asp-net-core-2-2/54913621#54913621", "title": "AJAX POST Request Not Passing Data to Controller Method in ASP.NET Core 2.2", "body": "<p>You are passing <code>JSON</code> object which corresponds to <code>C#</code> one like this: </p>\n\n<pre><code>public class Model {\n    public Accessorial[] Accessorials { get; set; }\n    public string Comments { get; set; }\n    public bool loadInfoCorrect { get; set; }\n}\n</code></pre>\n\n<p>Try to declare such class above and adjust your action method this way: </p>\n\n<pre><code>public ActionResult SaveData(Model model)\n{\n    // Code removed for brevity\n}\n</code></pre>\n\n<p>If won't help - make model parameter <code>object</code> and check in debug mode what you are getting from <code>AJAX</code> call. </p>\n"}, {"tags": [], "owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "is_accepted": false, "score": 2, "last_activity_date": 1551349835, "creation_date": 1551349835, "answer_id": 54923499, "question_id": 54910755, "link": "https://stackoverflow.com/questions/54910755/ajax-post-request-not-passing-data-to-controller-method-in-asp-net-core-2-2/54923499#54923499", "title": "AJAX POST Request Not Passing Data to Controller Method in ASP.NET Core 2.2", "body": "<p>You could pass all your data in a ViewModel and get access to it using <code>[FromBody]</code> on action</p>\n\n<pre><code>public class ViewModel\n    {\n        public List&lt;Accessorial&gt; Accessorials{ get; set; }\n        public string Comments { get; set; }\n        public bool LoadInfoCorrect { get; set; }\n    }\n</code></pre>\n\n<p>Ajax:</p>\n\n<pre><code>var model = {};//pass all you data to an object\n        model.Accessorials = allData ;\n        model.comments = comments ;\n        model.loadInfoCorrect = loadInfoCorrect;\n\n        var items = JSON.stringify(model);        \n\n        $.ajax({\n            url: '/GetAllCustDetails/SaveData',\n            type: \"POST\",\n            data: items,\n            contentType: 'application/json; charset=utf-8',\n            //dataType: \"json\",\n            success: function (response) {\n                alert(\"111\");\n            }\n        });\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult SaveData([FromBody]ViewModel model)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 177, "user_id": 10140270, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-to9m9tcBJtQ/AAAAAAAAAAI/AAAAAAAAASs/-9CfAUlu_ag/photo.jpg?sz=128", "display_name": "draconastar", "link": "https://stackoverflow.com/users/10140270/draconastar"}, "is_accepted": true, "score": 6, "last_activity_date": 1551445786, "creation_date": 1551445786, "answer_id": 54945374, "question_id": 54910755, "link": "https://stackoverflow.com/questions/54910755/ajax-post-request-not-passing-data-to-controller-method-in-asp-net-core-2-2/54945374#54945374", "title": "AJAX POST Request Not Passing Data to Controller Method in ASP.NET Core 2.2", "body": "<p>I appreciate all of the responses!  I was able to finally see valid data in my controller by changing the AJAX data type to \"text\" and simply passing the JSON directly for deserialization server-side.  For some reason this is the only way that I've been able to make this work thus far.</p>\n\n<p><strong>AJAX POST Call</strong></p>\n\n<pre><code>function saveShiftDataToServer() {\n    var grid = $(\"#accessorialGrid\").data(\"kendoGrid\");\n    var dataSource = grid.dataSource;\n    var allData = dataSource.data();\n\n    var shiftOverview = {\n        ShiftId: 0,\n        UserName: \"test\",\n        ShiftDate: null,\n        LoadList: null,\n        AccessorialList: allData,\n        LoadInfoCorrect: true,\n        Comments: \"\"\n    };        \n    var jsonData = JSON.stringify(shiftOverview);\n\n    $.ajax({\n        type: \"POST\",\n        url: '/Home/SaveData',\n        data: { json: jsonData },\n        datatype: \"text\",\n        success: function (response) {\n                alert(\"111\");\n            }\n        })\n}\n</code></pre>\n\n<p><strong>Controller Method</strong></p>\n\n<pre><code>[AcceptVerbs(\"Post\")]\npublic ActionResult SaveData(string json)\n{\n    JsonConvert.DeserializeObject&lt;ShiftOverview&gt;(json); // This produces an object with valid data!\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 124, "user_id": 7140898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d759eb0681e9d70a3c704a2282b3f42?s=128&d=identicon&r=PG", "display_name": "sle1306", "link": "https://stackoverflow.com/users/7140898/sle1306"}, "is_accepted": false, "score": 0, "last_activity_date": 1587974734, "creation_date": 1587974734, "answer_id": 61454260, "question_id": 54910755, "link": "https://stackoverflow.com/questions/54910755/ajax-post-request-not-passing-data-to-controller-method-in-asp-net-core-2-2/61454260#61454260", "title": "AJAX POST Request Not Passing Data to Controller Method in ASP.NET Core 2.2", "body": "<p>You juste have to use the [FromBody] attribute in your action method, like this :</p>\n\n<pre><code>[HttpPost]\npublic ActionResult SaveData([FromBody]Model model)\n{\n    // Code removed for brevity\n}\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 10140270, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-to9m9tcBJtQ/AAAAAAAAAAI/AAAAAAAAASs/-9CfAUlu_ag/photo.jpg?sz=128", "display_name": "draconastar", "link": "https://stackoverflow.com/users/10140270/draconastar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5204, "favorite_count": 0, "accepted_answer_id": 54945374, "answer_count": 4, "score": 3, "last_activity_date": 1587974734, "creation_date": 1551286793, "last_edit_date": 1551336573, "question_id": 54910755, "link": "https://stackoverflow.com/questions/54910755/ajax-post-request-not-passing-data-to-controller-method-in-asp-net-core-2-2", "title": "AJAX POST Request Not Passing Data to Controller Method in ASP.NET Core 2.2", "body": "<p>Before I begin, I'd like to say - I realize that this question is very similar to many others that have been posted and answered on this site.  I have read through and tried as many solutions as I could find that was related to my issue, and none have worked thus far.</p>\n\n<p>I'm attempting to pass data from my web page to a controller method.  The web page is very simple and only needs to capture information input by the user and send it off.  I'm using Telerik's Kendo Grid to bind to and organize my data.  No matter what I try, though, my AJAX post request never passes parameters forward correctly.  When using my browser's debugger, I can see that the parameters being passed into the AJAX request are valid, but by the time they hit my breakpoint in the controller method, they are all either null or default.</p>\n\n<p><strong>Function Containing AJAX Request</strong></p>\n\n<pre><code>function saveShiftDataToServer() {\n    var grid = $(\"#myGrid\").data(\"kendoGrid\");\n    var dataSource = grid.dataSource;\n    var allData = dataSource.data();\n    var comments = '@Model.Comments';\n    var loadInfoCorrect = '@Model.LoadInfoCorrect';\n\n    $.ajax({\n        type: \"POST\",\n        url: '/Home/SaveData',\n        data: JSON.stringify({ accessorials: allData, comments: comments, loadInfoCorrect: loadInfoCorrect }),\n        contentType: \"application/json; charset=utf-8\",\n        datatype: \"json\"\n    })\n}\n</code></pre>\n\n<p><strong>Controller Method</strong></p>\n\n<pre><code>[AcceptVerbs(\"Post\")]\npublic ActionResult SaveData(Accessorial[] accessorials, string comments, bool loadInfoCorrect)\n{\n    // Code removed for brevity\n}\n</code></pre>\n\n<p>My Kendo Grid is typed as Accessorial (the first controller method parameter type), so my assumption is that retrieving a collection of all present rows should return an array of that model.  Even so, \"comments\" is a string, but is only ever passed to the controller method as null.</p>\n\n<p>I'm new to ASP.NET Core and Kendo, so I'm sure there is something obvious that I'm missing.  Any help would be appreciated!</p>\n"}, {"tags": ["c#", "asp.net-identity", "identityserver4"], "comments": [{"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1551297904, "post_id": 54910744, "comment_id": 96593598, "body": "If for client_credentials the claim is added, then this means you configured the claim in the ClientClaims table?"}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1551317157, "post_id": 54910744, "comment_id": 96600068, "body": "Why should the claim be part of the access_token? It seems more a claim that should be part of the identity_token, though you won&#39;t probably find it there either because by default this only contains the sub claim, unless AlwaysIncludeUserClaimsInIdToken is true: <code>var token = await _httpContext.HttpContext.GetTokenAsync(&quot;identity_token&quot;);</code>. Otherwise get the claims from the UserInfo endpoint (using the access token)."}, {"owner": {"reputation": 11803, "user_id": 2652208, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/j3u9J.jpg?s=128&g=1", "display_name": "developer82", "link": "https://stackoverflow.com/users/2652208/developer82"}, "reply_to_user": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1551327191, "post_id": 54910744, "comment_id": 96602214, "body": "the claim is not part of the access token. I mentioned that on one type of flow the claims are carried on the token successfully and on the other it does not."}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1551337997, "post_id": 54910744, "comment_id": 96605729, "body": "Why are you adding claims to the context.Subject.Claims collection in code ? A more flexible solution would be to persist the claim in the UserClaims table."}, {"owner": {"reputation": 11803, "user_id": 2652208, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/j3u9J.jpg?s=128&g=1", "display_name": "developer82", "link": "https://stackoverflow.com/users/2652208/developer82"}, "reply_to_user": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1551339640, "post_id": 54910744, "comment_id": 96606460, "body": "@RuardvanElburg my solution does not use the EF persistant as in documentation and I have written a custom solution wrapping IdentityServer.."}], "answers": [{"comments": [{"owner": {"reputation": 11803, "user_id": 2652208, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/j3u9J.jpg?s=128&g=1", "display_name": "developer82", "link": "https://stackoverflow.com/users/2652208/developer82"}, "edited": false, "score": 0, "creation_date": 1551289790, "post_id": 54911103, "comment_id": 96589852, "body": "I&#39;m using .NET Core 2.2. Those namespaces does not seem to be valid, and <code>SetDestinations</code> and <code>OpenIdConnectConstants</code> are unrecognized."}, {"owner": {"reputation": 11803, "user_id": 2652208, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/j3u9J.jpg?s=128&g=1", "display_name": "developer82", "link": "https://stackoverflow.com/users/2652208/developer82"}, "edited": false, "score": 0, "creation_date": 1551290643, "post_id": 54911103, "comment_id": 96590261, "body": "I&#39;ve installed the following nuget: <a href=\"https://www.nuget.org/packages/AspNet.Security.OpenIdConnect.Server\" rel=\"nofollow noreferrer\">nuget.org/packages/AspNet.Security.OpenIdConnect.Server</a> unfortunately it does not help. I still don&#39;t have any claims on my token."}], "tags": [], "owner": {"reputation": 331, "user_id": 3745425, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/6832297/picture?type=large", "display_name": "rleffler", "link": "https://stackoverflow.com/users/3745425/rleffler"}, "is_accepted": false, "score": 0, "last_activity_date": 1551287986, "creation_date": 1551287986, "answer_id": 54911103, "question_id": 54910744, "link": "https://stackoverflow.com/questions/54910744/identityserver4-claims-are-not-part-of-the-token-on-hybrid-flow/54911103#54911103", "title": "IdentityServer4 claims are not part of the token on hybrid flow", "body": "<p>AspNet.Security.OpenIdConnect.Server does not serialize claims that do not have destinations set.  I ran into this when using OpenIdDict.</p>\n\n<p>try this:</p>\n\n<pre><code>var claim = new Claim(\"MyName\", \"Ophir\");\nclaim.SetDestinations(OpenIdConnectConstants.Destinations.AccessToken);\n\nawait HttpContext.SignInAsync(\"anon@nymous.com\", \"anon@nymous.com\", null, claim);\n</code></pre>\n\n<p>You will probably need to add these namespaces:</p>\n\n<pre><code>using AspNet.Security.OpenIdConnect.Extensions;\nusing AspNet.Security.OpenIdConnect.Primitives;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1551297731, "post_id": 54912933, "comment_id": 96593507, "body": "There is no <i>need</i> to implement IProfileService. This can be done by configuration only. Also, the above code will actually prevent configured claims from being added, because the line <code>context.AddRequestedClaims(context.Subject.Claims);</code> is missing. And without check on Context.Caller this code will add the claim to both the access token and identity token."}, {"owner": {"reputation": 4287, "user_id": 9073130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df7314c5520f5570313a2156d005f14?s=128&d=identicon&r=PG&f=1", "display_name": "Vidmantas Blazevicius", "link": "https://stackoverflow.com/users/9073130/vidmantas-blazevicius"}, "reply_to_user": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1551299473, "post_id": 54912933, "comment_id": 96594305, "body": "@RuardvanElburg Yeah, thanks for pointing these out, I forgot that <code>context.AddRequestedClaims()</code> is in their <code>DefaultProfileService</code> so that behaviour would have been lost. Good shout on the configuration too, I never personally used User claims in the configuration, I assume they will be added if <code>profile</code> scope is requested."}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1551300297, "post_id": 54912933, "comment_id": 96594679, "body": "If I&#39;m not mistaken then by default only <i>sub</i> is returned in the id_token. The UserInfo endpoint should be called to obtain the other claims. To prevent this extra call, when both an id_token and access_token are requested, set AlwaysIncludeUserClaimsInIdToken to true. Also note that the default profile will not include the claim <i>MyName</i>. Add <i>MyName</i> as IdentityClaim to profile (or add a new IdentityResource containing <i>MyName</i> as IdentityClaim, and make sure the scope is requested by the client)."}, {"owner": {"reputation": 4287, "user_id": 9073130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df7314c5520f5570313a2156d005f14?s=128&d=identicon&r=PG&f=1", "display_name": "Vidmantas Blazevicius", "link": "https://stackoverflow.com/users/9073130/vidmantas-blazevicius"}, "reply_to_user": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1551303495, "post_id": 54912933, "comment_id": 96596070, "body": "@RuardvanElburg Yeah, you&#39;re not mistaken about any of your comments :), I&#39;ve just tried this locally."}, {"owner": {"reputation": 11803, "user_id": 2652208, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/j3u9J.jpg?s=128&g=1", "display_name": "developer82", "link": "https://stackoverflow.com/users/2652208/developer82"}, "reply_to_user": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1551330662, "post_id": 54912933, "comment_id": 96603068, "body": "@RuardvanElburg how can this be done with configuration and without implementing IProfileService? any examples?"}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "reply_to_user": {"reputation": 11803, "user_id": 2652208, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/j3u9J.jpg?s=128&g=1", "display_name": "developer82", "link": "https://stackoverflow.com/users/2652208/developer82"}, "edited": false, "score": 0, "creation_date": 1551336932, "post_id": 54912933, "comment_id": 96605283, "body": "@developer82 That is not how to implement the IProfileService. You are now dumping <i>all</i> user claims in both tokens, which defeats the purpose of the IdentityServer implementation: to keep tokens small."}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "reply_to_user": {"reputation": 11803, "user_id": 2652208, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/j3u9J.jpg?s=128&g=1", "display_name": "developer82", "link": "https://stackoverflow.com/users/2652208/developer82"}, "edited": false, "score": 0, "creation_date": 1551337304, "post_id": 54912933, "comment_id": 96605442, "body": "@developer82 the idea is to define resources and use scopes to get certain claims into the token, instead of all claims. As documented here: <a href=\"http://docs.identityserver.io/en/latest/topics/resources.html#defining-identity-resources\" rel=\"nofollow noreferrer\">docs.identityserver.io/en/latest/topics/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4287, "user_id": 9073130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df7314c5520f5570313a2156d005f14?s=128&d=identicon&r=PG&f=1", "display_name": "Vidmantas Blazevicius", "link": "https://stackoverflow.com/users/9073130/vidmantas-blazevicius"}, "is_accepted": true, "score": 4, "last_activity_date": 1551303418, "last_edit_date": 1551303418, "creation_date": 1551295071, "answer_id": 54912933, "question_id": 54910744, "link": "https://stackoverflow.com/questions/54910744/identityserver4-claims-are-not-part-of-the-token-on-hybrid-flow/54912933#54912933", "title": "IdentityServer4 claims are not part of the token on hybrid flow", "body": "<p>You can implement custom <code>IProfileService</code> if you want to add custom claims to the token.</p>\n\n<p>You can find more info in <a href=\"http://docs.identityserver.io/en/latest/reference/profileservice.html\" rel=\"nofollow noreferrer\">Identity Server 4 docs</a>.</p>\n\n<p>An example of simple custom profile service would be:</p>\n\n<pre><code>public class CustomProfileService : IProfileService\n{\n    public Task GetProfileDataAsync(ProfileDataRequestContext context)\n    {\n        context.AddRequestedClaims(context.Subject.Claims);\n        context.IssuedClaims.Add(new Claim(\"MyName\", \"Ophir\"));\n        return Task.FromResult(0);\n    }\n\n    public Task IsActiveAsync(IsActiveContext context)\n    {\n        context.IsActive = true;    \n        return Task.FromResult(0);\n    }\n}\n</code></pre>\n\n<p>Once you have this, just register it to the DI:</p>\n\n<pre><code>services.AddTransient&lt;IProfileService, CustomProfileService&gt;();\n</code></pre>\n\n<p>It will get called whenever an <code>access_token</code> or <code>id_token</code> is requested. You would need to check <code>context.Caller</code> as per Ruard's comment if you only wanted the extra claims in certain type of token.</p>\n\n<p><strong>EDIT:</strong>\nAlso alternatively, you can add the claims directly to the user configuration as per example in one of the <a href=\"https://github.com/IdentityServer/IdentityServer4.Samples/blob/master/Quickstarts/5_HybridFlowAuthenticationWithApiAccess/src/IdentityServer/Config.cs\" rel=\"nofollow noreferrer\">Identity Server 4 quickstarts</a>:</p>\n\n<pre><code>            new TestUser\n            {\n                SubjectId = \"1\",\n                Username = \"alice\",\n                Password = \"password\",\n\n                Claims = new []\n                {\n                    new Claim(\"MyName\", \"Ophir\")\n                }\n            },\n</code></pre>\n\n<p>If you end up not implementing custom <code>IProfileService</code> and keep using <code>DefaultProfileService</code>, then you would also need add a custom <code>IdentityResource</code> in your configuration:</p>\n\n<pre><code>return new List&lt;IdentityResource&gt;\n{\n    //..Your other configured identity resources\n\n    new IdentityResource(\n    name: \"custom.name\",\n    displayName: \"Custom Name\",\n    claimTypes: new[] { \"MyName\" });\n};\n</code></pre>\n\n<p>Any clients wanting to have this claim added in the token would need request for <code>custom.name</code> scope.</p>\n"}, {"tags": [], "owner": {"reputation": 1884, "user_id": 1157051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4115d695390f2444790b8e787f9453d?s=128&d=identicon&r=PG", "display_name": "Schwarzie2478", "link": "https://stackoverflow.com/users/1157051/schwarzie2478"}, "is_accepted": false, "score": 0, "last_activity_date": 1551295621, "creation_date": 1551295621, "answer_id": 54913074, "question_id": 54910744, "link": "https://stackoverflow.com/questions/54910744/identityserver4-claims-are-not-part-of-the-token-on-hybrid-flow/54913074#54913074", "title": "IdentityServer4 claims are not part of the token on hybrid flow", "body": "<p>There are two steps in which I add  claims to tokens for our identityserver.</p>\n\n<p>Through a custom profile service like one of the other answers shows, you can define your own claims for an user.</p>\n\n<p>Those claims can then be requested through the userinfo endpoint.</p>\n\n<p>Or you create an Api ( resource)  called for example IncludeNameInAccessToken that adds the name claim by default to the access token if you request that Api as a scope.</p>\n"}], "owner": {"reputation": 11803, "user_id": 2652208, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/j3u9J.jpg?s=128&g=1", "display_name": "developer82", "link": "https://stackoverflow.com/users/2652208/developer82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1431, "favorite_count": 0, "accepted_answer_id": 54912933, "answer_count": 3, "score": 0, "last_activity_date": 1551335279, "creation_date": 1551286750, "last_edit_date": 1551335279, "question_id": 54910744, "link": "https://stackoverflow.com/questions/54910744/identityserver4-claims-are-not-part-of-the-token-on-hybrid-flow", "title": "IdentityServer4 claims are not part of the token on hybrid flow", "body": "<p>I'm trying to build a hybrid flow, and have claims on the returned access token with IdentityServer4. I'm using the <a href=\"https://github.com/IdentityServer/IdentityServer4.Quickstart.UI\" rel=\"nofollow noreferrer\">QuickStart UI</a> controlles.</p>\n\n<p>In my <code>AccountController</code> after the user was authenticated successfully, I have the following code which signs him in:</p>\n\n<pre><code>await HttpContext.SignInAsync(\"anon@nymous.com\", \"anon@nymous.com\", null, new Claim(\"MyName\", \"Ophir\"));\n</code></pre>\n\n<p>In the MVC website that is causing this flow, on the page I want to \"protect\" I have the following code:</p>\n\n<pre><code>[Authorize]\npublic IActionResult RestrictedMvcResource()\n{\n       var token = _httpContext.HttpContext.GetTokenAsync(\"access_token\").Result;\n       var identity = User.Identity;\n       return View();\n}\n</code></pre>\n\n<p>After a successful login, the debugger hits this code fine and I'm getting the access token.</p>\n\n<p>The problem is that if I decode my access token (I'm using <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">https://jwt.io/</a>) I see the name and subject, but I do not see the <code>MyName</code> claim that I have defined.</p>\n\n<p>(I have another flow in my system for <code>client_credentials</code> which does return the claims on the token - but it uses a different code flow).</p>\n\n<p>How do I return the claims on the token for the hybrid flow?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Solving this problem was a combination of 2 things:</p>\n\n<ol>\n<li>Implementing <code>IProfileService</code> as suggested in (selected) answer. here's my implementation:</li>\n</ol>\n\n<pre><code>public class ProfileService : IProfileService\n{\n    public Task GetProfileDataAsync(ProfileDataRequestContext context)\n    {\n        context.AddRequestedClaims(context.Subject.Claims);\n\n        foreach (Claim claim in context.Subject.Claims)\n        {\n            if (context.IssuedClaims.Contains(claim))\n                continue;\n\n            context.IssuedClaims.Add(claim);\n        }\n\n        return Task.FromResult(0);\n    }\n\n    public Task IsActiveAsync(IsActiveContext context)\n    {\n        context.IsActive = true;\n        return Task.FromResult(0);\n    }\n}\n</code></pre>\n\n<p>This will add any claim that isn't already on the token.</p>\n\n<ol start=\"2\">\n<li>When calling <code>HttpContext.SignInAsync</code> you must pass the list of claims, otherwise no additional claims will be in the <code>context.Subject.Claims</code> collection.</li>\n</ol>\n"}, {"tags": ["c#", "functional-programming"], "comments": [{"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 3, "creation_date": 1551286765, "post_id": 54910715, "comment_id": 96588315, "body": "If you&#39;re trying to learn functional programming, then why not use a functional langauge, like F#?"}, {"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 0, "creation_date": 1551286874, "post_id": 54910715, "comment_id": 96588386, "body": "How is <code>question1</code> defined? A functional approach would be to return a sequence of matching numbers rather than executing side-effects (like <code>Console.WriteLine</code>) as part of the process."}, {"owner": {"reputation": 1884, "user_id": 1157051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4115d695390f2444790b8e787f9453d?s=128&d=identicon&r=PG", "display_name": "Schwarzie2478", "link": "https://stackoverflow.com/users/1157051/schwarzie2478"}, "edited": false, "score": 0, "creation_date": 1551286998, "post_id": 54910715, "comment_id": 96588444, "body": "I believe calling Console.WriteLine inside already breaks the functional nature of this function."}, {"owner": {"reputation": 1471, "user_id": 960055, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/diiT0.png?s=128&g=1", "display_name": "Zergatul", "link": "https://stackoverflow.com/users/960055/zergatul"}, "edited": false, "score": 0, "creation_date": 1551287046, "post_id": 54910715, "comment_id": 96588465, "body": "To fit FP your function should return list, and not print it."}, {"owner": {"reputation": 421, "user_id": 6703342, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9f1d3bdb1efccfb178568f7a251ef545?s=128&d=identicon&r=PG&f=1", "display_name": "Rubiks", "link": "https://stackoverflow.com/users/6703342/rubiks"}, "edited": false, "score": 0, "creation_date": 1551287070, "post_id": 54910715, "comment_id": 96588479, "body": "If I change System.Console.WriteLine(start) to return start would the be functional?"}, {"owner": {"reputation": 1884, "user_id": 1157051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4115d695390f2444790b8e787f9453d?s=128&d=identicon&r=PG", "display_name": "Schwarzie2478", "link": "https://stackoverflow.com/users/1157051/schwarzie2478"}, "edited": false, "score": 0, "creation_date": 1551287408, "post_id": 54910715, "comment_id": 96588658, "body": "You should get something like this:   Integer.Range(1,20).Where(n =&gt; n.IsEven).PrintSomething()"}], "answers": [{"comments": [{"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1551289954, "post_id": 54911053, "comment_id": 96589928, "body": "if the list is not huge, we could consider replacing the String.Join with <code>.Aggregate((a, x) =&gt; a + &quot;, &quot; + x)</code>"}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "reply_to_user": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 1, "creation_date": 1551292381, "post_id": 54911053, "comment_id": 96591082, "body": "@Matt.G, I would suggest to use <code>Aggregate</code> with <code>StringBuilder</code>, then this approach will work for bigger size collections too."}], "tags": [], "owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "is_accepted": false, "score": 3, "last_activity_date": 1551292282, "last_edit_date": 1551292282, "creation_date": 1551287827, "answer_id": 54911053, "question_id": 54910715, "link": "https://stackoverflow.com/questions/54910715/functional-programming-printing-numbers-divisible-by-2/54911053#54911053", "title": "Functional Programming printing numbers divisible by 2", "body": "<p>If you want write \"functional\" code in c# - use LINQ extension methods</p>\n\n<pre><code>var valuesToPrint = \n    Enumerable.Range(start, end - start)\n              .Where(value =&gt; number % 2 == 0)\n              .Select(value =&gt; value.ToString());\nvar output = String.Join(Environment.NewLine, valuesToPrint)\n\n// Console is external resource (aka global state)\nConsole.WriteLine(output);\n</code></pre>\n\n<p>If you big fan of LINQ you can build output with <code>.Aggregate</code> extension method</p>\n\n<pre><code>var output = \n    Enumerable.Range(start, end - start)\n              .Where(value =&gt; number % 2 == 0)\n              .Aggregate(new StringBuilder(),\n                         (builder, value) =&gt; builder.AppendLine(value),\n                         builder =&gt; builder.ToString());\n\nConsole.Write(output);\n</code></pre>\n\n<p>Some would argue about <code>Aggregate</code> with <code>StringBuilder</code> not being pure functional, because we update internal state of same instance of <code>StringBuilder</code>.  </p>\n"}], "owner": {"reputation": 421, "user_id": 6703342, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9f1d3bdb1efccfb178568f7a251ef545?s=128&d=identicon&r=PG&f=1", "display_name": "Rubiks", "link": "https://stackoverflow.com/users/6703342/rubiks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1551292282, "creation_date": 1551286667, "last_edit_date": 1551287117, "question_id": 54910715, "link": "https://stackoverflow.com/questions/54910715/functional-programming-printing-numbers-divisible-by-2", "title": "Functional Programming printing numbers divisible by 2", "body": "<p>I am trying to learn functional programming and I am writing a function that prints numbers divisible 2. I know that in functioning programming it should avoid loops and should have referential transparency, so variables should be immutable. This is the function I wrote, does this fit the functional programming paradigm?</p>\n\n<pre><code>public static void evenNumbers(int start, int end)\n{\n\n    if (start &lt;= 20)\n    {\n        if (start % 2 == 0)\n        {\n            System.Console.WriteLine(start);\n        }\n        evenNumbers(start + 1, end);\n    }\n} \n</code></pre>\n\n<p>Edit I made some changes to the code</p>\n\n<pre><code>public static void evenNumbers(int start, int end)\n    {\n\n        if (start &lt;= 20)\n        {\n            if (start % 2 == 0)\n            {\n                return start;\n            }\n            evenNumbers(start + 1, end);\n        }\n    } \n</code></pre>\n"}, {"tags": ["c#", "android", "xamarin.forms", "xamarin.android"], "answers": [{"comments": [{"owner": {"reputation": 15384, "user_id": 2987066, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e8a544c42e6e31743a00b6692c89f137?s=128&d=identicon&r=PG&f=1", "display_name": "user1", "link": "https://stackoverflow.com/users/2987066/user1"}, "edited": false, "score": 0, "creation_date": 1551357910, "post_id": 54922681, "comment_id": 96616659, "body": "I tried making the string the one suggested in this answer but it didn&#39;t have any affect. I think the issue is that the android Label is not wrapping the test"}, {"owner": {"reputation": 7657, "user_id": 10627299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1009ed8c6d700200b7517ecad9657f95?s=128&d=identicon&r=PG&f=1", "display_name": "Leon Lu - MSFT", "link": "https://stackoverflow.com/users/10627299/leon-lu-msft"}, "reply_to_user": {"reputation": 15384, "user_id": 2987066, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e8a544c42e6e31743a00b6692c89f137?s=128&d=identicon&r=PG&f=1", "display_name": "user1", "link": "https://stackoverflow.com/users/2987066/user1"}, "edited": false, "score": 0, "creation_date": 1551429449, "post_id": 54922681, "comment_id": 96644596, "body": "This is demo that i added the <code>Town 1&amp;#x0d;&amp;#x0a;Town 2 &amp;#x0d;&amp;#x0a;Town 3</code>,it is worked <a href=\"https://github.com/851265601/Demo\" rel=\"nofollow noreferrer\">github.com/851265601/Demo</a> .Can you share your demo?"}, {"owner": {"reputation": 15384, "user_id": 2987066, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e8a544c42e6e31743a00b6692c89f137?s=128&d=identicon&r=PG&f=1", "display_name": "user1", "link": "https://stackoverflow.com/users/2987066/user1"}, "edited": false, "score": 0, "creation_date": 1551429727, "post_id": 54922681, "comment_id": 96644726, "body": "Lu -MSFT I see in your sample your string is in the xaml. I am binding to a string property in my view model. So I am setting the string in the view model. Is there a way I can use your string in my view model?"}, {"owner": {"reputation": 7657, "user_id": 10627299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1009ed8c6d700200b7517ecad9657f95?s=128&d=identicon&r=PG&f=1", "display_name": "Leon Lu - MSFT", "link": "https://stackoverflow.com/users/10627299/leon-lu-msft"}, "reply_to_user": {"reputation": 15384, "user_id": 2987066, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e8a544c42e6e31743a00b6692c89f137?s=128&d=identicon&r=PG&f=1", "display_name": "user1", "link": "https://stackoverflow.com/users/2987066/user1"}, "edited": false, "score": 0, "creation_date": 1551435244, "post_id": 54922681, "comment_id": 96647673, "body": "I upload a new demo by your need, you can test it.<a href=\"https://github.com/Billycool1020/NativeViewDemo\" rel=\"nofollow noreferrer\">github.com/Billycool1020/NativeViewDemo</a>"}, {"owner": {"reputation": 15384, "user_id": 2987066, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e8a544c42e6e31743a00b6692c89f137?s=128&d=identicon&r=PG&f=1", "display_name": "user1", "link": "https://stackoverflow.com/users/2987066/user1"}, "edited": false, "score": 0, "creation_date": 1551782637, "post_id": 54922681, "comment_id": 96757209, "body": "Hi Leon, I tested the sample and it worked. I think the issue is in a third party control truncating the view. Thanks for your help on this one"}], "tags": [], "owner": {"reputation": 7657, "user_id": 10627299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1009ed8c6d700200b7517ecad9657f95?s=128&d=identicon&r=PG&f=1", "display_name": "Leon Lu - MSFT", "link": "https://stackoverflow.com/users/10627299/leon-lu-msft"}, "is_accepted": true, "score": 1, "last_activity_date": 1551347312, "creation_date": 1551347312, "answer_id": 54922681, "question_id": 54910541, "link": "https://stackoverflow.com/questions/54910541/how-to-set-linebreakmode-for-android-textview-embedded-in-xamarin-forms-app/54922681#54922681", "title": "How to set linebreakmode for Android Textview embedded in Xamarin Forms app", "body": "<p>You could change locations like following Text</p>\n\n<p><code>Town 1&amp;#x0d;&amp;#x0a;Town 2 &amp;#x0d;&amp;#x0a;Town 3</code></p>\n\n<p>In Xamarin forms\uff1a</p>\n\n<p><code>\\r</code> can be replaced by <code>&amp;#x0d;</code></p>\n\n<p><code>\\n</code> can be replaced by <code>&amp;#x0a;</code></p>\n\n<p>You could make a Test in your demo.</p>\n\n<p><a href=\"https://i.stack.imgur.com/4Q4wd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Q4wd.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you want to know more information about Native view, you could refer to <a href=\"https://docs.microsoft.com/en-us/xamarin/xamarin-forms/platform/native-views/xaml\" rel=\"nofollow noreferrer\">this link</a>.</p>\n"}], "owner": {"reputation": 15384, "user_id": 2987066, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e8a544c42e6e31743a00b6692c89f137?s=128&d=identicon&r=PG&f=1", "display_name": "user1", "link": "https://stackoverflow.com/users/2987066/user1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 54922681, "answer_count": 1, "score": 0, "last_activity_date": 1551347312, "creation_date": 1551286143, "question_id": 54910541, "link": "https://stackoverflow.com/questions/54910541/how-to-set-linebreakmode-for-android-textview-embedded-in-xamarin-forms-app", "title": "How to set linebreakmode for Android Textview embedded in Xamarin Forms app", "body": "<p>I have been using <a href=\"https://msdn.microsoft.com/en-us/magazine/mt790186.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow noreferrer\">this link</a> to embed an android TextView in my Xamarin.Forms application (to optimise performance)</p>\n\n<p>I have the following:</p>\n\n<pre><code>&lt;androidWidget:TextView Grid.Column=\"0\"  Text=\"{Binding Locations}\" TextSize=\"12\" View.VerticalOptions=\"Start\" x:Arguments=\"{x:Static formsandroid:Forms.Context}\" /&gt;\n</code></pre>\n\n<p>where the namespace is:</p>\n\n<pre><code>xmlns:androidWidget=\"clr-namespace:Android.Widget;assembly=Mono.Android;targetPlatform=Android\"\n</code></pre>\n\n<p>and Locations is:</p>\n\n<blockquote>\n  <p>Town 1 \\r\\n Town 2 \\r\\n Town 3</p>\n</blockquote>\n\n<p>But the text does not wrap</p>\n\n<p>So the question is how do I word wrap an Android TextView embedded in a Xamarin.Forms application?</p>\n"}, {"tags": ["c#", "android", "unity3d", "ping"], "comments": [{"owner": {"reputation": 5560, "user_id": 8870196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N07y8.jpg?s=128&g=1", "display_name": "0xBFE1A8", "link": "https://stackoverflow.com/users/8870196/0xbfe1a8"}, "edited": false, "score": 0, "creation_date": 1551286129, "post_id": 54910454, "comment_id": 96587936, "body": "Do you have the necessary permissions?"}, {"owner": {"reputation": 335, "user_id": 8483308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/783080a40477b9771938836c4c859f80?s=128&d=identicon&r=PG", "display_name": "Piflik", "link": "https://stackoverflow.com/users/8483308/piflik"}, "reply_to_user": {"reputation": 5560, "user_id": 8870196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N07y8.jpg?s=128&g=1", "display_name": "0xBFE1A8", "link": "https://stackoverflow.com/users/8870196/0xbfe1a8"}, "edited": false, "score": 1, "creation_date": 1551295482, "post_id": 54910454, "comment_id": 96592524, "body": "Do I need extra permissions for a ping? I already (successfully) open TCP and UDP connections in the same application."}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 8483308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/783080a40477b9771938836c4c859f80?s=128&d=identicon&r=PG", "display_name": "Piflik", "link": "https://stackoverflow.com/users/8483308/piflik"}, "edited": false, "score": 0, "creation_date": 1551339414, "post_id": 54917419, "comment_id": 96606359, "body": "I don&#39;t want to ping a specific server that has our software running, I want to be able to ping an arbitrary device."}], "tags": [], "owner": {"reputation": 166, "user_id": 11118151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QhVSm.png?s=128&g=1", "display_name": "Di Zhang", "link": "https://stackoverflow.com/users/11118151/di-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1551320467, "creation_date": 1551320467, "answer_id": 54917419, "question_id": 54910454, "link": "https://stackoverflow.com/questions/54910454/ping-on-android-in-unity/54917419#54917419", "title": "Ping on Android in Unity", "body": "<p>In commercial projet, we usually send message with timeStamp to server by TCP socket, then receive message from server, in this case the ping = (Server_timeStamp - Client_timeStamp). </p>\n"}], "owner": {"reputation": 335, "user_id": 8483308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/783080a40477b9771938836c4c859f80?s=128&d=identicon&r=PG", "display_name": "Piflik", "link": "https://stackoverflow.com/users/8483308/piflik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1018, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551342186, "creation_date": 1551285924, "last_edit_date": 1551342186, "question_id": 54910454, "link": "https://stackoverflow.com/questions/54910454/ping-on-android-in-unity", "title": "Ping on Android in Unity", "body": "<p>I am currently trying to ping another device from my Unity application. I have tried both <code>UnityEngine.Ping</code> and <code>System.Net.Networkinformation.Ping</code>, but neither work correctly on Android. <code>UnityEngine.Ping</code> already fails on Windows if the target is not in the same network (I get a response from my own PC and another that is in the ethernet, but not from my phone which is on wifi). I <em>do</em> get a response from the phone if I use <code>System.Net.Networkinformation.Ping</code> on Windows.</p>\n\n<p>On Adroid, each has a different problem:</p>\n\n<p><code>UnityEngine.Ping</code>: No exception, but the Ping reports <code>isDone</code> after a second, but the <code>time</code> property is <code>-1</code> (which indicates that there was no response yet). The <code>timeout</code> was set to 45 seconds, just to be sure.</p>\n\n<pre><code>UnityEngine.Ping ping = new UnityEngine.Ping(remoteIP);\n\nfloat timer = 0;\nwhile (timer &lt;= timeout &amp;&amp; !ping.isDone) {\n    timer += Time.deltaTime;\n    yield return null;\n}\n\nif (ping.time &lt; 0 || ping.time &gt;= timeout) {\n    //do failure stuff\n} else {\n    //do success stuff\n}\n\nping.DestroyPing();\n</code></pre>\n\n<p><code>System.Net.Networkinfo.Ping</code>: I tried both <code>Send</code> and <code>SendAsync</code>. The former throws an <code>InvalidOperationException</code>, the latter invokes the <code>PingCompleted</code> callback immediately and throws a <code>NullReferenceException</code>. Both versions work perfectly fine on Windows.</p>\n\n<p>Send: </p>\n\n<pre><code>Thread pingThread = new Thread(() =&gt; {\n    using (System.Net.NetworkInformation.Ping ping = new System.Net.NetworkInformation.Ping()) {\n\n        PingReply reply = ping.Send(remoteIP, Mathf.RoundToInt(timeout * 1000));\n\n        if (reply?.Status == IPStatus.Success) {\n            //do success stuff\n        } else {\n            //do failure stuff\n        }\n    }\n});\npingThread.Start();\n</code></pre>\n\n<p>(I also tried calling it on the main thread. It <em>did</em> block on Windows, but didn't on Android, and threw the same Exception: <code>InvalidOperationException: No process is associated with this object.</code>)</p>\n\n<p>SendAsync:</p>\n\n<pre><code>using (System.Net.NetworkInformation.Ping ping = new System.Net.NetworkInformation.Ping()) {\n\n    ping.PingCompleted += (sender, args) =&gt; {\n        if (args.Reply.Status == IPStatus.Success) {\n            //do success stuff\n        } else {\n            //do failure stuff\n        }\n    };\n\n    ping.SendAsync(remoteIP, Mathf.RoundToInt(timeout * 1000));\n}\n</code></pre>\n\n<p>The  <code>NullRefereneException</code> is thrown in the line <code>if (args.Reply.Status == IPStatus.Success) {</code>.</p>\n\n<p>Can anybody here tell me what I am doing wrong? Or what else I could try?</p>\n\n<p><strong>Edit:</strong> It does not necessarily have to be an actual ICMP ping. I just need to know if an address is reachable, so alternative solutions are also very welcome.</p>\n"}, {"tags": ["c#", "async-await"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 5, "creation_date": 1551285957, "post_id": 54910375, "comment_id": 96587829, "body": "The answer is there is none.  Literally anything you do is going to have potential problems.  That&#39;s why you need to not put yourself in that position in the first place.  If there was a simple foolproof solution that always worked you wouldn&#39;t constantly have people telling you why you shouldn&#39;t be doing this, as there&#39;d be no need."}, {"owner": {"reputation": 1106, "user_id": 5711907, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/49a39cd58808dcd2f90451454c3e165a?s=128&d=identicon&r=PG", "display_name": "dibs487", "link": "https://stackoverflow.com/users/5711907/dibs487"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1551345938, "post_id": 54910375, "comment_id": 96609399, "body": "@Servy well I agree and I&#39;ve tried to find alternative libraries that have synchronous methods"}], "answers": [{"comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 1, "creation_date": 1551286501, "post_id": 54910556, "comment_id": 96588155, "body": "Stephen, I salute you for still being sane and productive after having to repeat yourself so many times on this point :D"}, {"owner": {"reputation": 465, "user_id": 10520477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f188e89e1d5b12dddfbf4069570e6b3?s=128&d=identicon&r=PG&f=1", "display_name": "Jlalonde", "link": "https://stackoverflow.com/users/10520477/jlalonde"}, "edited": false, "score": 1, "creation_date": 1551286518, "post_id": 54910556, "comment_id": 96588159, "body": "I always through sync wrappers were good until I read the link you referenced before. Probably saved me from some many <i>hard</i> bugs. Good link"}, {"owner": {"reputation": 1106, "user_id": 5711907, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/49a39cd58808dcd2f90451454c3e165a?s=128&d=identicon&r=PG", "display_name": "dibs487", "link": "https://stackoverflow.com/users/5711907/dibs487"}, "edited": false, "score": 0, "creation_date": 1551345782, "post_id": 54910556, "comment_id": 96609289, "body": "Thanks very much for that brownfield async article, very good, seeing as we&#39;re almost never IO bound and very CPU bound I suspect that&#39;s why we&#39;ve got into problems it&#39;s a shame that so much of .net is forcing async/await"}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "reply_to_user": {"reputation": 1106, "user_id": 5711907, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/49a39cd58808dcd2f90451454c3e165a?s=128&d=identicon&r=PG", "display_name": "dibs487", "link": "https://stackoverflow.com/users/5711907/dibs487"}, "edited": false, "score": 0, "creation_date": 1551366252, "post_id": 54910556, "comment_id": 96621756, "body": "@dibs487: <code>async</code> wasn&#39;t intended for CPU-bound code; it would cause problems if devs tried to use <code>async</code> where it wasn&#39;t needed. <code>async</code> works beautifully for I/O, but mixing with CPU-bound takes some care. I have a blog series on <a href=\"https://blog.stephencleary.com/2013/10/taskrun-etiquette-and-proper-usage.html\" rel=\"nofollow noreferrer\"><code>Task.Run</code> etiquette</a> that partially untangles this."}], "tags": [], "owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "is_accepted": true, "score": 6, "last_activity_date": 1551286181, "creation_date": 1551286181, "answer_id": 54910556, "question_id": 54910375, "link": "https://stackoverflow.com/questions/54910375/best-way-to-sterilise-async-methods-c/54910556#54910556", "title": "Best way to sterilise async methods c#", "body": "<p>Well, writing <a href=\"https://blogs.msdn.microsoft.com/pfxteam/2012/04/13/should-i-expose-synchronous-wrappers-for-asynchronous-methods/\" rel=\"noreferrer\">synchronous wrappers for asynchronous methods is an antipattern</a>, too.</p>\n\n<p>That said, there are a <a href=\"https://msdn.microsoft.com/en-us/magazine/mt238404.aspx\" rel=\"noreferrer\">variety of hacks covered in my Brownfield Async article</a>. The one you propose - the \"thread pool hack\" - will work <em>unless</em> the third party library requires use of the current context. E.g., if it is a method that expects to run in a scenario where it has access to UI controls, or if it expects to have <code>HttpContext.Current</code>. <strong>Most</strong> libraries do not require this, so this hack would work for them.</p>\n\n<p>There is no hack that works everywhere, in all scenarios.</p>\n\n<p>You do not need <code>ConfigureAwait(false)</code>. There is no <code>await</code> to configure.</p>\n\n<p>For exceptions, you should use <code>GetAwaiter().GetResult()</code> instead of <code>Result</code> and <code>Wait()</code>. That prevents exceptions from being wrapped in <code>AggregateException</code>.</p>\n"}], "owner": {"reputation": 1106, "user_id": 5711907, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/49a39cd58808dcd2f90451454c3e165a?s=128&d=identicon&r=PG", "display_name": "dibs487", "link": "https://stackoverflow.com/users/5711907/dibs487"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 54910556, "answer_count": 1, "score": -2, "last_activity_date": 1551286181, "creation_date": 1551285693, "question_id": 54910375, "link": "https://stackoverflow.com/questions/54910375/best-way-to-sterilise-async-methods-c", "title": "Best way to sterilise async methods c#", "body": "<p>After spending far too much time trying to sort out async/await hell we're trying to get a standard for when we have to call an async method on a library we don't control and where there is no non-async method provided and get async out of our code all together.</p>\n\n<p>I don't want a discussion of the merits of this I'm sure that for some people async/await works, just a foolproof way of calling any async method and not getting deadlocks etc.</p>\n\n<p>Does</p>\n\n<pre><code>public someObject SomeFunction(string parameter)\n{\n    return Task.Run(() =&gt; 3rdPartyLib.SomeFunctionAsync(parameter)).Result;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public void SomeMethod()\n{\n    return Task.Run(() =&gt; 3rdPartyLib.SomeMethodAsync()).Wait;\n}\n</code></pre>\n\n<p>Do the job? Do I need to configureAwait(false)? Will exceptions work normally?</p>\n"}]