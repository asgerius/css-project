[{"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 694, "user_id": 4321946, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/eb3abde8fed1a2f14fdc0154b8d516c8?s=128&d=identicon&r=PG&f=1", "display_name": "bet", "link": "https://stackoverflow.com/users/4321946/bet"}, "reply_to_user": {"reputation": 60839, "user_id": 301857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r4KmT.jpg?s=128&g=1", "display_name": "Grant Winney", "link": "https://stackoverflow.com/users/301857/grant-winney"}, "edited": false, "score": 0, "creation_date": 1425513715, "post_id": 28867470, "comment_id": 45999597, "body": "@Grant..  it&#39;s just pseudo code..   just giving ppl idea of what i&#39;m trying to achieve..   why do you need to have a compile code for?"}, {"owner": {"reputation": 20550, "user_id": 1529657, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/7GjZY.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/1529657/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1425530846, "post_id": 28867470, "comment_id": 46004156, "body": "@bet - Did you get a chance to check my answer..?"}], "answers": [{"tags": [], "owner": {"reputation": 20550, "user_id": 1529657, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/7GjZY.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/1529657/rahul-singh"}, "is_accepted": true, "score": 2, "last_activity_date": 1425521767, "creation_date": 1425521767, "answer_id": 28868846, "question_id": 28867470, "link": "https://stackoverflow.com/questions/28867470/linq-c-flatten-collection-to-dictionary/28868846#28868846", "title": "LINQ - c# flatten collection to dictionary", "body": "<p>You can do it using <a href=\"https://msdn.microsoft.com/en-IN/library/system.linq.enumerable.selectmany(v=vs.100).aspx\" rel=\"nofollow\">SelectMany</a> and <a href=\"https://msdn.microsoft.com/en-us/library/system.linq.enumerable.todictionary(v=vs.100).aspx\" rel=\"nofollow\">ToDictionary</a> Enumerable methods:-</p>\n\n<pre><code>var result = customers.SelectMany(x =&gt; x.photoIds, (custObj, photoIds) =&gt; \n                                                         new { \n                                                                 custObj, photoIds \n                                                             })\n                     .ToDictionary(x =&gt; x.photoIds, x =&gt; x.custObj.fullname);\n</code></pre>\n\n<p><a href=\"https://dotnetfiddle.net/AHBwpd\" rel=\"nofollow\">Working Fiddle</a>.</p>\n"}], "owner": {"reputation": 694, "user_id": 4321946, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/eb3abde8fed1a2f14fdc0154b8d516c8?s=128&d=identicon&r=PG&f=1", "display_name": "bet", "link": "https://stackoverflow.com/users/4321946/bet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 28868846, "answer_count": 1, "score": -2, "last_activity_date": 1425541585, "creation_date": 1425513404, "question_id": 28867470, "link": "https://stackoverflow.com/questions/28867470/linq-c-flatten-collection-to-dictionary", "title": "LINQ - c# flatten collection to dictionary", "body": "<p>I have the following data structure:</p>\n\n<pre><code>class customer\n{\n      List&lt;string&gt; photoIds;\n      string fullname;\n}\n</code></pre>\n\n<p>Sample collection:</p>\n\n<p>new customer() { new [] {\"1\", \"2\", \"3\"}, \"Cust 1\"};</p>\n\n<p>new customer() { new [] {\"5\", \"8\", \"10\"}, \"Cust 2\"};</p>\n\n<p>new customer() { new [] {\"3\", \"11\", \"4\"}, \"Cust 3\"};</p>\n\n<p>what i'm trying to achieve is converting the below data to Dictionary, where key is the photoid and value is fullname</p>\n\n<pre><code>{1, Cust 1}\n{2, Cust 1}\n{3, Cust 1}\n{5, Cust 2}\n{8, Cust 2}\n{10, Cust 2}\n{3, Cust 3}\n{11, Cust 3}\n{4, Cust 3}\n</code></pre>\n\n<p>any helps?</p>\n"}, {"tags": ["c#", "linux", "ssl", "tcp", "mono"], "comments": [{"owner": {"reputation": 2457, "user_id": 1455833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa82a718ff28a0e28fd4e802e5fe2870?s=128&d=identicon&r=PG", "display_name": "Alexander K&#246;plinger", "link": "https://stackoverflow.com/users/1455833/alexander-k%c3%b6plinger"}, "edited": false, "score": 0, "creation_date": 1425571074, "post_id": 28867370, "comment_id": 46025561, "body": "did you try with &quot;mozroots --import --sync&quot;? I believe this should get godaddy&#39;s cert as well since they are in Mozilla&#39;s list of trusted roots"}, {"owner": {"reputation": 1491, "user_id": 1127363, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/625087165/picture?type=large", "display_name": "Gutemberg Ribeiro", "link": "https://stackoverflow.com/users/1127363/gutemberg-ribeiro"}, "reply_to_user": {"reputation": 2457, "user_id": 1455833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa82a718ff28a0e28fd4e802e5fe2870?s=128&d=identicon&r=PG", "display_name": "Alexander K&#246;plinger", "link": "https://stackoverflow.com/users/1455833/alexander-k%c3%b6plinger"}, "edited": false, "score": 0, "creation_date": 1425586164, "post_id": 28867370, "comment_id": 46034790, "body": "Id doesn&#39;t, already tried that :("}, {"owner": {"reputation": 2457, "user_id": 1455833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa82a718ff28a0e28fd4e802e5fe2870?s=128&d=identicon&r=PG", "display_name": "Alexander K&#246;plinger", "link": "https://stackoverflow.com/users/1455833/alexander-k%c3%b6plinger"}, "edited": false, "score": 0, "creation_date": 1425586898, "post_id": 28867370, "comment_id": 46035174, "body": "The certmgr tool should let you import the godaddy certs from file, it ships with Mono."}, {"owner": {"reputation": 14422, "user_id": 544947, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/125e1b6d250e0529d33d3822c3787b07?s=128&d=identicon&r=PG", "display_name": "knocte", "link": "https://stackoverflow.com/users/544947/knocte"}, "edited": false, "score": 0, "creation_date": 1577347192, "post_id": 28867370, "comment_id": 105146186, "body": "hey Alex, do you know where are the sources of certmgr?"}], "owner": {"reputation": 1491, "user_id": 1127363, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/625087165/picture?type=large", "display_name": "Gutemberg Ribeiro", "link": "https://stackoverflow.com/users/1127363/gutemberg-ribeiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 885, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425512886, "creation_date": 1425512886, "question_id": 28867370, "link": "https://stackoverflow.com/questions/28867370/mono-security-protocol-tls-tlsexception-invalid-certificate-received-from-serve", "title": "Mono.Security.Protocol.Tls.TlsException: Invalid certificate received from server", "body": "<p>I'm trying to use TLS on over TCP sockets with a C# project that is suppose to run on Mono. </p>\n\n<p>On Windows the project run just fine. On linux on Mono, the following error happens:</p>\n\n<pre><code>System.IO.IOException: The authentication or decryption has failed. ---&gt; Mono.Security.Protocol.Tls.TlsException: Invalid certificate received from server.\n</code></pre>\n\n<p>I'm trying to import the root certificates with mozroots but it get certificates with everyone but Godaddy.</p>\n\n<p>So how can I manually import the Godaddy CA certificates and which ones should I import and to which store in order to get away from this error and connect to the TCP server? (the root certs can be found here <a href=\"https://certs.godaddy.com/repository/\" rel=\"nofollow\">https://certs.godaddy.com/repository/</a>)</p>\n\n<p>Thanks!\nGutemberg</p>\n"}, {"tags": ["c#", "multidimensional-array"], "comments": [{"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1425512801, "post_id": 28867327, "comment_id": 45999292, "body": "Are you already given an <code>n</code> dimensional array and just need to write the code for iterating over it?"}, {"owner": {"reputation": 23, "user_id": 3778737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89041de638aac4c0572b0f67b257ed5f?s=128&d=identicon&r=PG&f=1", "display_name": "user3778737", "link": "https://stackoverflow.com/users/3778737/user3778737"}, "reply_to_user": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1425513242, "post_id": 28867327, "comment_id": 45999469, "body": "Yes, the n dimensional array is given. I need to iterate over it, independently from the number and the size of its dimensions."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1425513831, "post_id": 28867327, "comment_id": 45999630, "body": "Given an <code>n</code> dimensional array, you can just do a flat iteration through the array and use modulo operators to figure out what index you&#39;re at."}, {"owner": {"reputation": 23, "user_id": 3778737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89041de638aac4c0572b0f67b257ed5f?s=128&d=identicon&r=PG&f=1", "display_name": "user3778737", "link": "https://stackoverflow.com/users/3778737/user3778737"}, "reply_to_user": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1425514211, "post_id": 28867327, "comment_id": 45999737, "body": "Thanks Asad for the answer. Could you please write an example? I am not sure how to use modulo operators for getting both the value and the index."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1425514659, "post_id": 28867327, "comment_id": 45999901, "body": "Yup, working on it now."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 1, "creation_date": 1425515584, "post_id": 28867327, "comment_id": 46000184, "body": "Can I assume that the lower bound in each dimension is 0 and the upper bound is simply the dimension?"}, {"owner": {"reputation": 23, "user_id": 3778737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89041de638aac4c0572b0f67b257ed5f?s=128&d=identicon&r=PG&f=1", "display_name": "user3778737", "link": "https://stackoverflow.com/users/3778737/user3778737"}, "reply_to_user": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1425516037, "post_id": 28867327, "comment_id": 46000336, "body": "This assumption is fine."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 3778737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89041de638aac4c0572b0f67b257ed5f?s=128&d=identicon&r=PG&f=1", "display_name": "user3778737", "link": "https://stackoverflow.com/users/3778737/user3778737"}, "edited": false, "score": 0, "creation_date": 1425551491, "post_id": 28868622, "comment_id": 46013330, "body": "Thanks Asad. Your code is really fine, even if I think the dimensions should not be reversed, because the array of the coordinates is wrongly reversed. You can also notice this behavior in the output you posted."}], "tags": [], "owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "is_accepted": true, "score": 3, "last_activity_date": 1440297609, "last_edit_date": 1440297609, "creation_date": 1425520207, "answer_id": 28868622, "question_id": 28867327, "link": "https://stackoverflow.com/questions/28867327/looping-through-a-n-dimensional-array/28868622#28868622", "title": "Looping through a n-dimensional array", "body": "<p>Visiting all elements in a multidimensional array is not difficult. You can simply do a flat iteration through the entire array with a single index. The tricky part is mapping this single index to the corresponding multidimensional coordinates.</p>\n\n<p>In general, given a matrix with size vector <code>D</code>, the <code>i</code>th single indexed element of this matrix has a coordinate vector <code>C_i</code>, such that:</p>\n\n<p><img src=\"https://i.stack.imgur.com/hwdS6.png\" alt=\"enter image description here\"></p>\n\n<p>For <code>0 &lt;= n &lt; size(D)</code>.</p>\n\n<p>Implementing this, the <code>IndexToCoordinates</code> method is:</p>\n\n<pre><code>static int[] IndexToCoordinates(int i, Array arr)\n{\n    var dims = Enumerable.Range(0, arr.Rank)\n        .Select(arr.GetLength)\n        .ToArray();\n\n    Func&lt;int, int, int&gt; product = (i1, i2) =&gt; i1 * i2;\n\n    return dims.Select((d, n) =&gt; (i/dims.Take(n).Aggregate(1, product))%d).ToArray();\n}\n</code></pre>\n\n<p>Now, for example, if you wanted to visit every item in a multidimensional array and output its coordinates, you could do:</p>\n\n<pre><code>static void OutputAllArrayIndices(Array arr)\n{\n    var i = 0;\n\n    foreach (int item in arr)\n    {\n        var coords = IndexToCoordinates(i++, arr);\n        Console.WriteLine(string.Join(\", \", coords));\n    }\n}\n</code></pre>\n\n<p>Running <code>OutputAllArrayIndices(new int[3, 2, 4])</code> then produces:</p>\n\n<pre><code>0, 0, 0\n1, 0, 0\n2, 0, 0\n3, 0, 0\n0, 1, 0\n1, 1, 0\n2, 1, 0\n3, 1, 0\n0, 0, 1\n1, 0, 1\n2, 0, 1\n3, 0, 1\n0, 1, 1\n1, 1, 1\n2, 1, 1\n3, 1, 1\n0, 0, 2\n1, 0, 2\n2, 0, 2\n3, 0, 2\n0, 1, 2\n1, 1, 2\n2, 1, 2\n3, 1, 2\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 3778737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89041de638aac4c0572b0f67b257ed5f?s=128&d=identicon&r=PG&f=1", "display_name": "user3778737", "link": "https://stackoverflow.com/users/3778737/user3778737"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 1, "accepted_answer_id": 28868622, "answer_count": 1, "score": 2, "last_activity_date": 1440297609, "creation_date": 1425512649, "question_id": 28867327, "link": "https://stackoverflow.com/questions/28867327/looping-through-a-n-dimensional-array", "title": "Looping through a n-dimensional array", "body": "<p>I have a generic multidimensional array having different dimensions. I need to loop through it in order to save for each element the relative array of indices and the relative value.</p>\n\n<p>In the case of an array of two dimensions, let's say 4 and 5, it would be trivial:</p>\n\n<pre><code>        var d1 = 4;\n        var d2 = 5;\n        var array = Array.CreateInstance(typeof (int), new[] {d1, d2});\n\n        //...\n        // code for populating array\n        //...\n\n        for (int i = 0; i &lt; d1; i++)\n        {\n            for (int j = 0; j &lt; d2; j++)\n            {\n                var value = array.GetValue(new[] { i, j });\n                var indices = new[] {i, j};\n            }\n        }\n</code></pre>\n\n<p>But I need to do the same thing with an array of n different dimensions. \nHow can I achieve it? Do I need to implement a recursive function?</p>\n"}, {"tags": ["c#", ".net", "unit-testing", "mocking", "moq"], "comments": [{"owner": {"reputation": 91923, "user_id": 41956, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b9da2ca6abf3a1e28fb470f2b3ae2c34?s=128&d=identicon&r=PG", "display_name": "abatishchev", "link": "https://stackoverflow.com/users/41956/abatishchev"}, "edited": false, "score": 0, "creation_date": 1425512910, "post_id": 28867312, "comment_id": 45999339, "body": "Moq mocks methods and properties of an interface. Only concrete implementation of an interface has a constructor. So create an interface which you service will implement and mock it up."}, {"owner": {"reputation": 107, "user_id": 2350386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/435pu.jpg?s=128&g=1", "display_name": "Chad", "link": "https://stackoverflow.com/users/2350386/chad"}, "reply_to_user": {"reputation": 91923, "user_id": 41956, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b9da2ca6abf3a1e28fb470f2b3ae2c34?s=128&d=identicon&r=PG", "display_name": "abatishchev", "link": "https://stackoverflow.com/users/41956/abatishchev"}, "edited": false, "score": 0, "creation_date": 1425513114, "post_id": 28867312, "comment_id": 45999420, "body": "So if I want to Mock these objects, each one needs an interface with a test and non-test implementation?  And all of these need to be added as constructor arguments for the class itself?"}, {"owner": {"reputation": 91923, "user_id": 41956, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b9da2ca6abf3a1e28fb470f2b3ae2c34?s=128&d=identicon&r=PG", "display_name": "abatishchev", "link": "https://stackoverflow.com/users/41956/abatishchev"}, "edited": false, "score": 0, "creation_date": 1425513175, "post_id": 28867312, "comment_id": 45999443, "body": "You can have an interface and implement it in various ways, say real implementation and test/stub implementation. Or instead the later one - just mock this interface up."}, {"owner": {"reputation": 107, "user_id": 2350386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/435pu.jpg?s=128&g=1", "display_name": "Chad", "link": "https://stackoverflow.com/users/2350386/chad"}, "reply_to_user": {"reputation": 91923, "user_id": 41956, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b9da2ca6abf3a1e28fb470f2b3ae2c34?s=128&d=identicon&r=PG", "display_name": "abatishchev", "link": "https://stackoverflow.com/users/41956/abatishchev"}, "edited": false, "score": 0, "creation_date": 1425514003, "post_id": 28867312, "comment_id": 45999679, "body": "Is it alright to add fields to the interface if their are subsequent calls to the ws for getting and setting?"}, {"owner": {"reputation": 91923, "user_id": 41956, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b9da2ca6abf3a1e28fb470f2b3ae2c34?s=128&d=identicon&r=PG", "display_name": "abatishchev", "link": "https://stackoverflow.com/users/41956/abatishchev"}, "edited": false, "score": 0, "creation_date": 1425514190, "post_id": 28867312, "comment_id": 45999731, "body": "Please elaborate. Interface is a contract, it usually has only method, less often properties too. It sounds like you want to create a stub implementation: you pass something to its ctor, make a call, it will return what you&#39;ve passed. It&#39;s one of the options. Another one would be  using Setup() and Return() from Moq."}, {"owner": {"reputation": 107, "user_id": 2350386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/435pu.jpg?s=128&g=1", "display_name": "Chad", "link": "https://stackoverflow.com/users/2350386/chad"}, "reply_to_user": {"reputation": 91923, "user_id": 41956, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b9da2ca6abf3a1e28fb470f2b3ae2c34?s=128&d=identicon&r=PG", "display_name": "abatishchev", "link": "https://stackoverflow.com/users/41956/abatishchev"}, "edited": false, "score": 0, "creation_date": 1425514914, "post_id": 28867312, "comment_id": 45999981, "body": "So I&#39;ll be using the implementation in place of web service itself now, if there is a method that wants to set the web service username (for example), the implementation has no knowledge of that field right?  I&#39;d have to add something to the implementation to store that variable or would I still be stubbing with one of the techniques you mentioned above?"}, {"owner": {"reputation": 91923, "user_id": 41956, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b9da2ca6abf3a1e28fb470f2b3ae2c34?s=128&d=identicon&r=PG", "display_name": "abatishchev", "link": "https://stackoverflow.com/users/41956/abatishchev"}, "edited": false, "score": 0, "creation_date": 1425515182, "post_id": 28867312, "comment_id": 46000071, "body": "Can you show please some code? How you&#39;d like it to be implemented (maybe some pseudo-code with comments) or how it&#39;s implemented now and where it lacks something you&#39;d like."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1425515626, "post_id": 28867312, "comment_id": 46000196, "body": "Side note: moq can handle virtual methods too, but generally proxies created by VS for web services do not have interfaces nor virtual methods :(."}], "answers": [{"tags": [], "owner": {"reputation": 91923, "user_id": 41956, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b9da2ca6abf3a1e28fb470f2b3ae2c34?s=128&d=identicon&r=PG", "display_name": "abatishchev", "link": "https://stackoverflow.com/users/41956/abatishchev"}, "is_accepted": true, "score": 1, "last_activity_date": 1425513089, "creation_date": 1425513089, "answer_id": 28867407, "question_id": 28867312, "link": "https://stackoverflow.com/questions/28867312/using-moq-to-create-a-mock-the-type-with-constructor/28867407#28867407", "title": "Using Moq to create a mock the type with constructor", "body": "<pre><code>interface ITokenProvider\n{\n    string GetToken();\n}\n\npublic class WebTokenProvider\n{\n    public string GetToken\n    {\n        // your actual implementation\n    }\n}\n</code></pre>\n\n<p>Mock in tests:</p>\n\n<pre><code>var mock = new Mock&lt;ITokenProvider&gt;();\nmock.Setup(m =&gt; m.GetToken()).Returns(\"test-token-1\");\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 2350386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/435pu.jpg?s=128&g=1", "display_name": "Chad", "link": "https://stackoverflow.com/users/2350386/chad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1416, "favorite_count": 0, "accepted_answer_id": 28867407, "answer_count": 1, "score": 1, "last_activity_date": 1425516539, "creation_date": 1425512578, "last_edit_date": 1425516539, "question_id": 28867312, "link": "https://stackoverflow.com/questions/28867312/using-moq-to-create-a-mock-the-type-with-constructor", "title": "Using Moq to create a mock the type with constructor", "body": "<p>I'm just getting started on unit testing on a simple method and I'm stuck on the below line (specifically the web service object):</p>\n\n<pre><code>public string GetToken()\n{\n    WebService ws = new WebService(\"https://example.com/\", HttpContext.Current.Server.MapPath(\"~/Config/agent.txt\"));\n\n    Token token = ws.GetToken(name, values, stuff);\n}\n</code></pre>\n\n<p>At first I tried to use an interface to mock the HttpContext call, but I had trouble going that route, so I'm wondering if I can just Mock the web service? Something like below, but then I don't know how to actually 'inject' this Mock object into the getToken method/class.  </p>\n\n<pre><code>var webServiceMock = new Mock&lt;WebService&gt;(\"http://test.example.com\", \"/test/file/path\");\n//maybe something along this syntax?\nwebServiceMock.Setup(it =&gt; it.CreateGetMethod(uri)).Returns(mockWebService.Object);\n</code></pre>\n\n<p>I am working through your interface solution and I can't figure out how to setup the implementation for the token without a WebService.  It calls GetIssuedTokenType but that doesn't exist in WebServiceImpl</p>\n\n<pre><code>    public class TokenImpl : IToken\n    {\n        public Token getToken(WebService ws)\n        {\n             Token token = ws.GetIssuedTokenType(\n                  \"http://example.com\",\n                  \"john.doe@example.com\", values,\n                  WebService.TokenType.EX20);\n\n        return samlToken;\n        }\n     }\n\n    public class WebServiceImpl : IWebService\n    {\n\n        public WebService getWebService()\n        {\n            WebService ws = new WebService(\"https://example.com\", HttpContext.Current.Server.MapPath(\"~/Config/agent.txt\"));\n        return ws;\n    }\n}\n</code></pre>\n\n<p>A larger snippet of the class for reference:</p>\n\n<pre><code>WebService ws = new WebService(\"https://example.com\", HttpContext.Current.Server.MapPath(\"~/Config/agent.txt\"));\nws.BasicAuthUsername = \"username\";\nws.BasicAuthPassword = \"pass1234\";\n\nSecurityToken token = ws.GetIssuedTokenType(audience, nameId, values, type);\n</code></pre>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 597, "user_id": 4154327, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GtUQU.jpg?s=128&g=1", "display_name": "CalebB", "link": "https://stackoverflow.com/users/4154327/calebb"}, "edited": false, "score": 6, "creation_date": 1425512579, "post_id": 28867291, "comment_id": 45999215, "body": "You can use <code>*=</code>: <code>Price *= (1 + MarkupPercent);</code>"}, {"owner": {"reputation": 657, "user_id": 4052227, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-ayQSJ7XAJWE/AAAAAAAAAAI/AAAAAAAACCQ/5i65DQBsNUY/photo.jpg?sz=128", "display_name": "J.D. Ray", "link": "https://stackoverflow.com/users/4052227/j-d-ray"}, "edited": false, "score": 0, "creation_date": 1425512907, "post_id": 28867291, "comment_id": 45999337, "body": "That&#39;s at least a little better."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 597, "user_id": 4154327, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GtUQU.jpg?s=128&g=1", "display_name": "CalebB", "link": "https://stackoverflow.com/users/4154327/calebb"}, "edited": false, "score": 1, "creation_date": 1425513001, "post_id": 28867291, "comment_id": 45999374, "body": "@CalebB Looks like an answer to me :)"}, {"owner": {"reputation": 637210, "user_id": 69083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0cdfd3fe268e270ec481a73046c2f?s=128&d=identicon&r=PG", "display_name": "Guffa", "link": "https://stackoverflow.com/users/69083/guffa"}, "edited": false, "score": 4, "creation_date": 1425513109, "post_id": 28867291, "comment_id": 45999415, "body": "Side note: I hope that you are aware of the limited precision of the <code>float</code> data type. Normally it&#39;s never used for repesenting monetary values."}, {"owner": {"reputation": 657, "user_id": 4052227, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-ayQSJ7XAJWE/AAAAAAAAAAI/AAAAAAAACCQ/5i65DQBsNUY/photo.jpg?sz=128", "display_name": "J.D. Ray", "link": "https://stackoverflow.com/users/4052227/j-d-ray"}, "edited": false, "score": 0, "creation_date": 1425513154, "post_id": 28867291, "comment_id": 45999436, "body": "I&#39;m not aware.  What type better represents monetary values?"}, {"owner": {"reputation": 12837, "user_id": 1289283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6032d2f69702e956cefaa866eb90d6c7?s=128&d=identicon&r=PG&f=1", "display_name": "walther", "link": "https://stackoverflow.com/users/1289283/walther"}, "edited": false, "score": 2, "creation_date": 1425513203, "post_id": 28867291, "comment_id": 45999458, "body": "Decimal.. Also, if you&#39;re using one code over and over, wouldn&#39;t be better to create a property with only a getter specified? Or a method, whatever makes sense? Like this it looks like violating DRY principle..."}, {"owner": {"reputation": 657, "user_id": 4052227, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-ayQSJ7XAJWE/AAAAAAAAAAI/AAAAAAAACCQ/5i65DQBsNUY/photo.jpg?sz=128", "display_name": "J.D. Ray", "link": "https://stackoverflow.com/users/4052227/j-d-ray"}, "edited": false, "score": 0, "creation_date": 1425513378, "post_id": 28867291, "comment_id": 45999509, "body": "CodePlex has a <code>Money</code> class available for download.  I&#39;m going to look into it and see if it helps our situation.  If not, I&#39;ll use Decimal. <a href=\"https://csharpmoney.codeplex.com/\" rel=\"nofollow noreferrer\">csharpmoney.codeplex.com</a>"}, {"owner": {"reputation": 637210, "user_id": 69083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0cdfd3fe268e270ec481a73046c2f?s=128&d=identicon&r=PG", "display_name": "Guffa", "link": "https://stackoverflow.com/users/69083/guffa"}, "edited": false, "score": 1, "creation_date": 1425513715, "post_id": 28867291, "comment_id": 45999596, "body": "@J.D.Ray: The precision of <code>float</code> only gives you six significant digits. A <code>double</code> gives you better precision, but you may still get rounding errors because it&#39;s a floating pont number. Usually <code>decimal</code> is used for monetary values, as it represents a number exactly."}, {"owner": {"reputation": 12837, "user_id": 1289283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6032d2f69702e956cefaa866eb90d6c7?s=128&d=identicon&r=PG&f=1", "display_name": "walther", "link": "https://stackoverflow.com/users/1289283/walther"}, "reply_to_user": {"reputation": 637210, "user_id": 69083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0cdfd3fe268e270ec481a73046c2f?s=128&d=identicon&r=PG", "display_name": "Guffa", "link": "https://stackoverflow.com/users/69083/guffa"}, "edited": false, "score": 1, "creation_date": 1425514027, "post_id": 28867291, "comment_id": 45999685, "body": "@Guffa, erm, that word <code>exactly</code> isn&#39;t really true. But I agree it&#39;s the most suitable one..."}, {"owner": {"reputation": 637210, "user_id": 69083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0cdfd3fe268e270ec481a73046c2f?s=128&d=identicon&r=PG", "display_name": "Guffa", "link": "https://stackoverflow.com/users/69083/guffa"}, "reply_to_user": {"reputation": 12837, "user_id": 1289283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6032d2f69702e956cefaa866eb90d6c7?s=128&d=identicon&r=PG&f=1", "display_name": "walther", "link": "https://stackoverflow.com/users/1289283/walther"}, "edited": false, "score": 0, "creation_date": 1425541671, "post_id": 28867291, "comment_id": 46007873, "body": "@walther: In what way do you think that it isn&#39;t true?"}], "answers": [{"comments": [{"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 1, "creation_date": 1425515839, "post_id": 28867774, "comment_id": 46000263, "body": "I&#39;d put parentheses around the <code>1 + Percent</code>.  It makes it more clear what the intent is."}], "tags": [], "owner": {"reputation": 657, "user_id": 4052227, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-ayQSJ7XAJWE/AAAAAAAAAAI/AAAAAAAACCQ/5i65DQBsNUY/photo.jpg?sz=128", "display_name": "J.D. Ray", "link": "https://stackoverflow.com/users/4052227/j-d-ray"}, "is_accepted": false, "score": 3, "last_activity_date": 1425574574, "last_edit_date": 1425574574, "creation_date": 1425514931, "answer_id": 28867774, "question_id": 28867291, "link": "https://stackoverflow.com/questions/28867291/a-shortcut-way-to-write-x-x-1-markup/28867774#28867774", "title": "A shortcut way to write x = x * (1 + Markup)", "body": "<p>Given all the above comments that answer the question, and that there's no actual answer contributed, I'm writing this.</p>\n\n<p>The best-known effective way to deal with this is (essentially) as follows:</p>\n\n<pre><code>public Decimal Price { get; set; } // shorthanded here for brevity\npublic Decimal GetMarkedUpPrice(Decimal Percent)\n{\n    return Price * (1 + Percent);\n}\n</code></pre>\n\n<p>OK, <em>\"best known\"</em> is probably hyperbolic.  This code captures the essence of the various comments, though.  Feel free to correct me if I've captured this wrong.</p>\n\n<p>Alternately, just mark up the Price in place:</p>\n\n<pre><code>public Decimal Price { get; set; } // shorthanded here for brevity\npublic void MarkupThePrice(Decimal Percent)\n{\n    Price *= (1 + Percent);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1425516679, "last_edit_date": 1425516679, "creation_date": 1425516046, "answer_id": 28867986, "question_id": 28867291, "link": "https://stackoverflow.com/questions/28867291/a-shortcut-way-to-write-x-x-1-markup/28867986#28867986", "title": "A shortcut way to write x = x * (1 + Markup)", "body": "<p>Here are some alternatives, to give you different ways to use the class:</p>\n\n<pre><code>public class Price\n{\n    // Instance properties\n    public decimal BasePrice { get; set; }\n    public decimal PercentMarkup { get; set; }\n    public decimal MarkedupPrice { get { return GetMarkedUpPrice(PercentMarkup); } }\n\n    // Instance method to allow you to show additional markup\n    // prices without changing the instance property\n    public decimal GetMarkedUpPrice(decimal percentMarkup)\n    {\n        return GetMarkedUpPrice(BasePrice, percentMarkup); \n    }\n\n    // Static method to get a quick calculation without instance overhead\n    public static decimal GetMarkedUpPrice(decimal basePrice, decimal percentMarkup)\n    {\n        return basePrice * (1 + percentMarkup);\n    }\n}\n</code></pre>\n\n<p>Sample usage:</p>\n\n<pre><code>public static void Main()\n{\n    var hammerPrice = new Price {BasePrice = 10, PercentMarkup = .15m};\n\n    Console.WriteLine(\"{0:C} hammers will be sold for {1:C}, except on \" + \n        \"Sunday, when they will be {2:C}\", hammerPrice.BasePrice, \n        hammerPrice.MarkedupPrice, hammerPrice.GetMarkedUpPrice(.1m));\n\n    Console.WriteLine(\"Otherwise, items with a base price of $10.00 \" + \n        \"will be sold for {0:C}\", Price.GetMarkedUpPrice(10, .2m));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": true, "score": 1, "last_activity_date": 1425517479, "creation_date": 1425517479, "answer_id": 28868220, "question_id": 28867291, "link": "https://stackoverflow.com/questions/28867291/a-shortcut-way-to-write-x-x-1-markup/28868220#28868220", "title": "A shortcut way to write x = x * (1 + Markup)", "body": "<p>Another way to do it would be to write an extension method for the <code>decimal</code> type, which would give you some added functionality:</p>\n\n<pre><code>public static class Extensions\n{\n    public static decimal GetMarkedUpPrice(this decimal basePrice, decimal percentMarkup)\n    {\n        return basePrice * (1 + percentMarkup);\n    }\n}\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>public static void Main()\n{\n    decimal somePrice = 5.6m;\n    decimal markedUpPrice = somePrice.GetMarkedUpPrice(.5m);\n}\n</code></pre>\n"}], "owner": {"reputation": 657, "user_id": 4052227, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-ayQSJ7XAJWE/AAAAAAAAAAI/AAAAAAAACCQ/5i65DQBsNUY/photo.jpg?sz=128", "display_name": "J.D. Ray", "link": "https://stackoverflow.com/users/4052227/j-d-ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 28868220, "answer_count": 3, "score": -1, "last_activity_date": 1425574574, "creation_date": 1425512473, "last_edit_date": 1425512839, "question_id": 28867291, "link": "https://stackoverflow.com/questions/28867291/a-shortcut-way-to-write-x-x-1-markup", "title": "A shortcut way to write x = x * (1 + Markup)", "body": "<p>We're writing an app that deals with product pricing.  As you might imagine, there are many uses of what amounts to <code>Price = Price * (1 + MarkupPercent);</code> throughout the code.  </p>\n\n<p>I went hunting for an operator, perhaps similar to <code>+=</code>, that would make things easier to not only write, but read.  No luck, at least as far as I can tell.  Since <code>Price</code> and <code>MarkupPercent</code> are both of type <code>float</code>, I started thinking of extending <code>float</code> to add <code>Markup(float Percent)</code>.  </p>\n\n<p>This seems feasible, but I'd rather use a more standard (i.e. included in the framework) way than start making random extensions to base classes.  Suggestions?\n</p>\n"}, {"tags": ["c#", "string", "exception", "unhandled"], "comments": [{"owner": {"reputation": 10428, "user_id": 3135317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e914266956f4052eef356be7850ea49?s=128&d=identicon&r=PG&f=1", "display_name": "FoggyDay", "link": "https://stackoverflow.com/users/3135317/foggyday"}, "edited": false, "score": 0, "creation_date": 1425512727, "post_id": 28867225, "comment_id": 45999269, "body": "Several problems: 1) What&#39;s &quot;fields[0]&quot; (is it a valid format(, and 2) Does &quot;fields[0]&quot; even <i>EXIST</i>?"}, {"owner": {"reputation": 10428, "user_id": 3135317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e914266956f4052eef356be7850ea49?s=128&d=identicon&r=PG&f=1", "display_name": "FoggyDay", "link": "https://stackoverflow.com/users/3135317/foggyday"}, "edited": false, "score": 0, "creation_date": 1425516919, "post_id": 28867225, "comment_id": 46000607, "body": "Nevertheless, the code assumes that whatever &quot;ReadLine()&quot; returns, it will be a string that can be split() into at least one comma-delimited element.  And That&#39;s Bad..."}], "answers": [{"comments": [{"owner": {"reputation": 436, "user_id": 3366604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0143f5d2f6d355cb316f0e0d4bbbc7af?s=128&d=identicon&r=PG", "display_name": "Eddie", "link": "https://stackoverflow.com/users/3366604/eddie"}, "edited": false, "score": 0, "creation_date": 1425512883, "post_id": 28867323, "comment_id": 45999329, "body": "You can wrap it in a try/catch block."}], "tags": [], "owner": {"reputation": 60839, "user_id": 301857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r4KmT.jpg?s=128&g=1", "display_name": "Grant Winney", "link": "https://stackoverflow.com/users/301857/grant-winney"}, "is_accepted": false, "score": 1, "last_activity_date": 1425512625, "creation_date": 1425512625, "answer_id": 28867323, "question_id": 28867225, "link": "https://stackoverflow.com/questions/28867225/format-exception-was-unhandled-error/28867323#28867323", "title": "Format Exception was Unhandled error", "body": "<p>If you're unsure whether or not the value will be an integer, use <code>int.TryParse</code> instead:</p>\n\n<pre><code>int idCheck;\n\nif (int.TryParse(fields[0], out idCheck))\n    empTempId.Add(idCheck);\n</code></pre>\n\n<p>This prevents a runtime exception by trying to convert, then returning <code>false</code> if it cannot do so.</p>\n"}, {"tags": [], "owner": {"reputation": 436, "user_id": 3366604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0143f5d2f6d355cb316f0e0d4bbbc7af?s=128&d=identicon&r=PG", "display_name": "Eddie", "link": "https://stackoverflow.com/users/3366604/eddie"}, "is_accepted": false, "score": 1, "last_activity_date": 1425513509, "last_edit_date": 1425513509, "creation_date": 1425513053, "answer_id": 28867401, "question_id": 28867225, "link": "https://stackoverflow.com/questions/28867225/format-exception-was-unhandled-error/28867401#28867401", "title": "Format Exception was Unhandled error", "body": "<p>You can wrap it in a try/catch block.</p>\n\n<pre><code>try {\n         int idCheck = Convert.ToInt32(fields[0]);\n        Console.WriteLine(\"{0} --&gt; {1}\", fields[0], idCheck);\n     }\ncatch (FormatException) {\n        Console.WriteLine(\"{0}: Bad Format\", fields[0]);\n     }   \ncatch (OverflowException) {\n        Console.WriteLine(\"{0}: Overflow\", fields[0]);   \n     }  \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4634480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e88c07ac9e99ca45450ff269c5255a4?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle McDonald", "link": "https://stackoverflow.com/users/4634480/kyle-mcdonald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 458, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1425513509, "creation_date": 1425512159, "question_id": 28867225, "link": "https://stackoverflow.com/questions/28867225/format-exception-was-unhandled-error", "title": "Format Exception was Unhandled error", "body": "<p>I am getting a weird error on run that I can't figure out. When I am in Visual Studio no error is thrown until I run the program. When I run it however I get an error saying that there was an unhandled exception on type. This is pertaining to the conversion of the field[0] to an int, any advice?</p>\n\n<pre><code>empReader = new StreamReader(fileName);\n\n                while (empReader.Peek() &gt; -1)\n                {\n                    string line = empReader.ReadLine();   //read a line from the text file\n                    string[] fields = line.Split(',');\n\n                    int idCheck = Convert.ToInt32(fields[0]);\n\n                    empTempId.Add(idCheck);\n                }\n\n                empReader.Close();\n</code></pre>\n"}, {"tags": ["c#", "winforms", "datagridview", "delete-row", "savechanges"], "comments": [{"owner": {"reputation": 1278, "user_id": 4516236, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PaICr2itkV8/AAAAAAAAAAI/AAAAAAAAACI/P9UnRW4EDeE/photo.jpg?sz=128", "display_name": "faljbour", "link": "https://stackoverflow.com/users/4516236/faljbour"}, "edited": false, "score": 0, "creation_date": 1425513807, "post_id": 28867153, "comment_id": 45999624, "body": "why would you need to select all after deleting one row.  Also, what do you mean by saving the remaining rows, are you saving it into a database, or a file, or you just trying to refresh the gridview."}, {"owner": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "reply_to_user": {"reputation": 1278, "user_id": 4516236, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PaICr2itkV8/AAAAAAAAAAI/AAAAAAAAACI/P9UnRW4EDeE/photo.jpg?sz=128", "display_name": "faljbour", "link": "https://stackoverflow.com/users/4516236/faljbour"}, "edited": false, "score": 0, "creation_date": 1425514296, "post_id": 28867153, "comment_id": 45999773, "body": "I am selecting all after deleting because I plan to save the selected rows back to the database but I am unsure of how to do this."}, {"owner": {"reputation": 1278, "user_id": 4516236, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PaICr2itkV8/AAAAAAAAAAI/AAAAAAAAACI/P9UnRW4EDeE/photo.jpg?sz=128", "display_name": "faljbour", "link": "https://stackoverflow.com/users/4516236/faljbour"}, "edited": false, "score": 0, "creation_date": 1425514372, "post_id": 28867153, "comment_id": 45999801, "body": "but you do not need to select all, all you need is to loop over all of the remaining rows and save to the database,"}, {"owner": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "reply_to_user": {"reputation": 1278, "user_id": 4516236, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PaICr2itkV8/AAAAAAAAAAI/AAAAAAAAACI/P9UnRW4EDeE/photo.jpg?sz=128", "display_name": "faljbour", "link": "https://stackoverflow.com/users/4516236/faljbour"}, "edited": false, "score": 0, "creation_date": 1425514502, "post_id": 28867153, "comment_id": 45999842, "body": "How would I then save the remaining to the database?"}, {"owner": {"reputation": 7899, "user_id": 1879188, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZNJ9T.jpg?s=128&g=1", "display_name": "Abdul Saleem", "link": "https://stackoverflow.com/users/1879188/abdul-saleem"}, "edited": false, "score": 0, "creation_date": 1425542123, "post_id": 28867153, "comment_id": 46008054, "body": "Why would he loop over and save items while deleting a row?"}, {"owner": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "reply_to_user": {"reputation": 7899, "user_id": 1879188, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZNJ9T.jpg?s=128&g=1", "display_name": "Abdul Saleem", "link": "https://stackoverflow.com/users/1879188/abdul-saleem"}, "edited": false, "score": 0, "creation_date": 1425600575, "post_id": 28867153, "comment_id": 46041431, "body": "@Sayka I am more looking to save all of the rows to the database after a deletion. I haven&#39;t done this before so I was thinking to save a selected row. Do you know how to save a selected row from gridview to database?"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425514441, "post_id": 28867469, "comment_id": 45999822, "body": "Thanks Khaled!  I am getting this error after using the dataGridView1.DeleteSelectedRows();  Error\t1\t&#39;System.Windows.Forms.DataGridView&#39; does not contain a definition for &#39;DeleteSelectedRows&#39; and no extension method &#39;DeleteSelectedRows&#39; accepting a first argument of type &#39;System.Windows.Forms.DataGridView&#39; could be found (are you missing a using directive or an assembly reference?)"}, {"owner": {"reputation": 116, "user_id": 1951680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a23e9481d7147380de770542b9db400b?s=128&d=identicon&r=PG", "display_name": "Khaled El Kholy", "link": "https://stackoverflow.com/users/1951680/khaled-el-kholy"}, "reply_to_user": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425515304, "post_id": 28867469, "comment_id": 46000108, "body": "Please make sure that they are both (the method definition / caller) under the same namespace, If not consider using the namespace you have defined"}, {"owner": {"reputation": 116, "user_id": 1951680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a23e9481d7147380de770542b9db400b?s=128&d=identicon&r=PG", "display_name": "Khaled El Kholy", "link": "https://stackoverflow.com/users/1951680/khaled-el-kholy"}, "reply_to_user": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425515893, "post_id": 28867469, "comment_id": 46000280, "body": "Your form cannot find the extension method you have, because it&#39;s under different namespace, You may be missing a &quot;using directive&quot;"}], "tags": [], "owner": {"reputation": 116, "user_id": 1951680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a23e9481d7147380de770542b9db400b?s=128&d=identicon&r=PG", "display_name": "Khaled El Kholy", "link": "https://stackoverflow.com/users/1951680/khaled-el-kholy"}, "is_accepted": false, "score": 0, "last_activity_date": 1425513403, "creation_date": 1425513403, "answer_id": 28867469, "question_id": 28867153, "link": "https://stackoverflow.com/questions/28867153/delete-row-and-save-datagridview/28867469#28867469", "title": "Delete Row and Save DataGridView", "body": "<p>I don't see that there's a big difference, But you could delete rows in different ways, You might want to consider using extension methods to extend the datagridview functionality with ease, For example:</p>\n\n<pre><code>public static class DataGridViewExtensions\n    {\n        public static void DeleteSelectedRows(this DataGridView dgv)\n        {\n            foreach (DataGridViewRow row in dgv.SelectedRows)\n                dgv.Rows.Remove(row);\n        }\n    }\n</code></pre>\n\n<p>And you could simply call this function like this</p>\n\n<pre><code>dataGridView1.DeleteSelectedRows();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425515450, "post_id": 28867756, "comment_id": 46000147, "body": "When I add the code I have a squiggly line under &quot;Cell&quot;. I&#39;m not sure why this is. Also, is the third piece of code for the saving portion? I really appreciate your help!"}, {"owner": {"reputation": 1278, "user_id": 4516236, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PaICr2itkV8/AAAAAAAAAAI/AAAAAAAAACI/P9UnRW4EDeE/photo.jpg?sz=128", "display_name": "faljbour", "link": "https://stackoverflow.com/users/4516236/faljbour"}, "reply_to_user": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425515722, "post_id": 28867756, "comment_id": 46000221, "body": "how do you populate the dataGridView, post the code for that, I can modify the answer based on the number of columns the dataGrid have. each cell belongs to a column in the dataGridView."}, {"owner": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425516313, "post_id": 28867756, "comment_id": 46000429, "body": "I added the code that I have below the code that you posted. I&#39;m assuming that you are looking for this. I user a dataGridView to post the data directly from the database from Visual Studios so I didn&#39;t write any of that code myself."}, {"owner": {"reputation": 1278, "user_id": 4516236, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PaICr2itkV8/AAAAAAAAAAI/AAAAAAAAACI/P9UnRW4EDeE/photo.jpg?sz=128", "display_name": "faljbour", "link": "https://stackoverflow.com/users/4516236/faljbour"}, "reply_to_user": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425517890, "post_id": 28867756, "comment_id": 46000886, "body": "you would need to find how you would save this code into the database, the code you posted only the designer code generated by Visual Studio, I only kept the dataGridView section and modified the answer based on the the number of columns the designer is indicating"}, {"owner": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425518387, "post_id": 28867756, "comment_id": 46001021, "body": "Thanks once again Faljbour! I am still trying to get rid of the error with the word &quot;Cel&#39;&quot; in the code. any clue to what is causing this?"}, {"owner": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425518904, "post_id": 28867756, "comment_id": 46001158, "body": "Error\t1\t&#39;System.Windows.Forms.DataGridViewRow&#39; does not contain a definition for &#39;Cell&#39; and no extension method &#39;Cell&#39; accepting a first argument of type &#39;System.Windows.Forms.DataGridViewRow&#39; could be found (are you missing a using directive or an assembly reference?)"}, {"owner": {"reputation": 1278, "user_id": 4516236, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PaICr2itkV8/AAAAAAAAAAI/AAAAAAAAACI/P9UnRW4EDeE/photo.jpg?sz=128", "display_name": "faljbour", "link": "https://stackoverflow.com/users/4516236/faljbour"}, "reply_to_user": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425519134, "post_id": 28867756, "comment_id": 46001223, "body": "Cory, there is nothing in the code that I posted that has DataGridViewRow, it is dataGridView1.Rows where in the code there is such an object."}, {"owner": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425519591, "post_id": 28867756, "comment_id": 46001360, "body": "It&#39;s weird that it says that because I copied the code that you gave me exactly. Copied and pasted. So my code is identical to yours but throws that error where it only specified the &quot;DataGridView&quot; and not the additional 1"}, {"owner": {"reputation": 1278, "user_id": 4516236, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PaICr2itkV8/AAAAAAAAAAI/AAAAAAAAACI/P9UnRW4EDeE/photo.jpg?sz=128", "display_name": "faljbour", "link": "https://stackoverflow.com/users/4516236/faljbour"}, "reply_to_user": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425519681, "post_id": 28867756, "comment_id": 46001385, "body": "if you click on the error, it should take you to the exact line where the error is occurs, it should list the line number too."}, {"owner": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425527854, "post_id": 28867756, "comment_id": 46003399, "body": "The error occurs every time that the word &quot;Cells&quot; is used in the code that I used."}, {"owner": {"reputation": 1278, "user_id": 4516236, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PaICr2itkV8/AAAAAAAAAAI/AAAAAAAAACI/P9UnRW4EDeE/photo.jpg?sz=128", "display_name": "faljbour", "link": "https://stackoverflow.com/users/4516236/faljbour"}, "reply_to_user": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425529336, "post_id": 28867756, "comment_id": 46003776, "body": "Ok, after looking around, it seems the Cells is not supported for any .NET Framework version of less than 4.0, so you must be using .NET 3.5 or 3.0.  I would recommend updating you project reference .NET 4.0 or 4.5."}, {"owner": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425529777, "post_id": 28867756, "comment_id": 46003895, "body": "I will try that out. I am assuming that I can do this through Visual Studios. I really appreciate your help and I have learned a lot! I can&#39;t thank you enough for your time and patience."}, {"owner": {"reputation": 1278, "user_id": 4516236, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PaICr2itkV8/AAAAAAAAAAI/AAAAAAAAACI/P9UnRW4EDeE/photo.jpg?sz=128", "display_name": "faljbour", "link": "https://stackoverflow.com/users/4516236/faljbour"}, "reply_to_user": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425530110, "post_id": 28867756, "comment_id": 46003971, "body": "Yes, through your project References, right click on it then select Add Reference -&gt; Assemblies -&gt; Framework -&gt; System make sure it is revision 4.0 or higher.   Glad to help"}, {"owner": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425600821, "post_id": 28867756, "comment_id": 46041507, "body": "I checked under the project reference and I am actually using the .Net Framework 4.0"}, {"owner": {"reputation": 1278, "user_id": 4516236, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PaICr2itkV8/AAAAAAAAAAI/AAAAAAAAACI/P9UnRW4EDeE/photo.jpg?sz=128", "display_name": "faljbour", "link": "https://stackoverflow.com/users/4516236/faljbour"}, "reply_to_user": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425601484, "post_id": 28867756, "comment_id": 46041703, "body": "It must be pointing to the incorrect .NET version, I am using the exact code in multiple projects and it I do not have that issue, if you solve the .NET issue, you should be able to compile the oce"}, {"owner": {"reputation": 1278, "user_id": 4516236, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PaICr2itkV8/AAAAAAAAAAI/AAAAAAAAACI/P9UnRW4EDeE/photo.jpg?sz=128", "display_name": "faljbour", "link": "https://stackoverflow.com/users/4516236/faljbour"}, "reply_to_user": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1425610371, "post_id": 28867756, "comment_id": 46044193, "body": "Cory, you are welcome to zip up the project and email it to me to solve the issue, omit the bin and the object directories. email it same user name @yahoo.com.  I think we posted too many comments, let&#39;s take this offline"}], "tags": [], "owner": {"reputation": 1278, "user_id": 4516236, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PaICr2itkV8/AAAAAAAAAAI/AAAAAAAAACI/P9UnRW4EDeE/photo.jpg?sz=128", "display_name": "faljbour", "link": "https://stackoverflow.com/users/4516236/faljbour"}, "is_accepted": false, "score": 0, "last_activity_date": 1425676920, "last_edit_date": 1425676920, "creation_date": 1425514839, "answer_id": 28867756, "question_id": 28867153, "link": "https://stackoverflow.com/questions/28867153/delete-row-and-save-datagridview/28867756#28867756", "title": "Delete Row and Save DataGridView", "body": "<pre><code>        Int32 rowToDelete = dataGridView1.Rows.GetFirstRow(DataGridViewElementStates.Selected);\n        if (rowToDelete &gt; -1)\n        {\n          dataGridView1.Rows.RemoveAt(rowToDelete);\n\n          dataGridView1.Invalidate();\n          string lastName = (string)dataGridView1.Rows[rowToDelete].Cells[0].Value;\n          string firstName = (string)dataGridView1.Rows[rowToDelete].Cells[1].Value;\n          string email = (string)dataGridView1.Rows[rowToDelete].Cells[2].Value;\n          string phoneNumber = (string)dataGridView1.Rows[rowToDelete].Cells[3].Value;\n          string address = (string)dataGridView1.Rows[rowToDelete].Cells[4].Value;\n          string instagram = (string)dataGridView1.Rows[rowToDelete].Cells[5].Value;\n          string carMake = (string)dataGridView1.Rows[rowToDelete].Cells[6].Value;\n          string carModel = (string)dataGridView1.Rows[rowToDelete].Cells[7].Value;\n          string additionalNotes = (string)dataGridView1.Rows[rowToDelete].Cells[8].Value;\n          SqlConnection CustomerInfo = new SqlConnection(\"Data Source=.\\\\SQLEXPRESS;AttachDbFilename=C:\\\\Users\\\\Cory\\\\Desktop\\\\DeluxWrapsWindows\\\\DeluxWrapsWindows\\\\DeluxWraps.mdf;Integrated Security=True;User Instance=True\");\n          {\n             SqlCommand xp = new SqlCommand(\"DELETE FROM CustomerInfo WHERE LastName='\" + lastName + \"' AND FirstName='\" + firstName + \"'\");\n\n             CustomerInfo.Open();\n             xp.ExecuteNonQuery();\n             CustomerInfo.Close();\n          }\n        }\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1655, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1425676920, "creation_date": 1425511785, "last_edit_date": 1425515215, "question_id": 28867153, "link": "https://stackoverflow.com/questions/28867153/delete-row-and-save-datagridview", "title": "Delete Row and Save DataGridView", "body": "<p>I haven't done too much with DataGridViews in C# form applications so my approach is a rookie one I'm sure. Any help would be awesome!</p>\n\n<p>My form is displaying the DataGridView for my database, and I want to give the user the option of deleting a particular row that is selected and then saving the changes.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>    private void btnDeleteCustomer_Click(object sender, EventArgs e)\n    {\n        foreach (DataGridViewRow item in this.dataGridView1.SelectedRows)\n        {\n            dataGridView1.Rows.RemoveAt(item.Index);\n            dataGridView1.SelectAll();\n\n        }\n    }\n\n    private void btnSelectAll_Click(object sender, EventArgs e)\n    {\n        dataGridView1.SelectAll();\n    }\n</code></pre>\n\n<p>I am attempting to delete the selected row, then select all of the remaining rows, and then save the selected remaining rows with the click of one button. I'm sure there is a better way of doing so but I can't find a solution that works. Thanks!</p>\n"}, {"tags": ["c#", "multithreading"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1425513746, "post_id": 28867151, "comment_id": 45999607, "body": "Can you show us how you&#39;re setting up the threading?"}, {"owner": {"reputation": 1278, "user_id": 4516236, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PaICr2itkV8/AAAAAAAAAAI/AAAAAAAAACI/P9UnRW4EDeE/photo.jpg?sz=128", "display_name": "faljbour", "link": "https://stackoverflow.com/users/4516236/faljbour"}, "edited": false, "score": 0, "creation_date": 1425515561, "post_id": 28867151, "comment_id": 46000176, "body": "post the code for GetXMlRecords(), I am assuming it is not part of the thread code.  if GetXMLRecords() calls any controls, then there must be an exception being thrown."}], "answers": [{"comments": [{"owner": {"reputation": 460, "user_id": 1229492, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bfcd0503cfd1d4824f9deca9c989a901?s=128&d=identicon&r=PG", "display_name": "Soul3lade", "link": "https://stackoverflow.com/users/1229492/soul3lade"}, "edited": false, "score": 0, "creation_date": 1425516664, "post_id": 28867894, "comment_id": 46000545, "body": "Thanks a lot that fixed the issue."}], "tags": [], "owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "is_accepted": true, "score": 2, "last_activity_date": 1425515554, "creation_date": 1425515554, "answer_id": 28867894, "question_id": 28867151, "link": "https://stackoverflow.com/questions/28867151/code-not-executing-without-breakpoint/28867894#28867894", "title": "Code not executing without breakpoint", "body": "<p>Your problem comes from this block right here</p>\n\n<pre><code>    if (listView1.InvokeRequired)\n    {\n        listView1.BeginInvoke(new MethodInvoker(() =&gt;\n        {\n            for (int i = 0; i &lt; listView1.Items.Count; i++)\n            {\n                Items.Add(listView1.Items[i].SubItems[0].Text.ToString());\n                Items.Add(listView1.Items[i].SubItems[1].Text.ToString());\n            }\n        }));\n        return Items;\n    }\n</code></pre>\n\n<p>Because you call <code>BeginInvoke</code> the function does not block and the list <code>Items</code> gets returned immediately. No items have yet been added to that collection. When you show a message box or put a breakpoint in it gives the code in the <code>BeginInvoke</code> a chance to execute and populate the collection, making <code>Items.Count</code> not zero and letting the for loop execute.</p>\n\n<p>The fastest way to solve this is swap out the <code>BeginInvoke</code> with the blocking <code>Invoke</code> call.</p>\n"}], "owner": {"reputation": 460, "user_id": 1229492, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bfcd0503cfd1d4824f9deca9c989a901?s=128&d=identicon&r=PG", "display_name": "Soul3lade", "link": "https://stackoverflow.com/users/1229492/soul3lade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 28867894, "answer_count": 1, "score": 0, "last_activity_date": 1425515554, "creation_date": 1425511777, "question_id": 28867151, "link": "https://stackoverflow.com/questions/28867151/code-not-executing-without-breakpoint", "title": "Code not executing without breakpoint", "body": "<p>I'm having an issue where part of my code is not running unless I either place a breakpoint in debugging mode at a certain point or I have a MessageBox put in.</p>\n\n<p>Method on Seperate thread that is being called every X seconds.</p>\n\n<pre><code>public void TimerHit()\n    {\n        List&lt;string&gt; Items = form.getItems();\n\n        MessageBox.Show(\"Hello\");\n        for (int i = 0; i &lt; Items.Count; i = i + 2)\n        {\n            GetXMLRecords(Items[i], Items[i + 1]);\n        }\n\n    }\n</code></pre>\n\n<p>Method for Retrieving items from ListView on UI thread</p>\n\n<pre><code>public List&lt;string&gt; getItems()\n    {\n        List&lt;string&gt; Items = new List&lt;string&gt;();\n        if (listView1.InvokeRequired)\n        {\n            listView1.BeginInvoke(new MethodInvoker(() =&gt;\n            {\n                for (int i = 0; i &lt; listView1.Items.Count; i++)\n                {\n                    Items.Add(listView1.Items[i].SubItems[0].Text.ToString());\n                    Items.Add(listView1.Items[i].SubItems[1].Text.ToString());\n                }\n            }));\n            return Items;\n        }\n        else\n        {\n            for (int i = 0; i &lt; listView1.Items.Count; i++)\n            {\n                Items.Add(listView1.Items[i].SubItems[0].Text.ToString());\n                Items.Add(listView1.Items[i].SubItems[1].Text.ToString());\n            }\n\n            return Items;\n        }\n\n    }\n</code></pre>\n\n<p>In TimerHit GetXMLRecords will never be called if the Messagebox is removed.  Once the MessageBox is added everything works.  I can also get everything to work if I place a breakpoint at the for loop.  However, if it doesnt hit any breakpoints before calling GetXMLRecords, it will never call the method.</p>\n\n<p>I'm assuming it has something to do with threads not syncing but I just dont know enough about how threads work to properly diagnose the issue.</p>\n"}, {"tags": ["c#", "android", "ios", "windows-phone-8", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 10414, "user_id": 1251354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650becb7843763fb2a7e8f7135d9ef5e?s=128&d=identicon&r=PG", "display_name": "rutter", "link": "https://stackoverflow.com/users/1251354/rutter"}, "edited": false, "score": 0, "creation_date": 1425520892, "post_id": 28867308, "comment_id": 46001747, "body": "That would destroy whatever GameObject this script is attached to, which may or may not be the GameObject the player has just tapped."}, {"owner": {"reputation": 26, "user_id": 4627435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a5efcc5a59f178c0124b5d9ec3382e?s=128&d=identicon&r=PG&f=1", "display_name": "Jpc133", "link": "https://stackoverflow.com/users/4627435/jpc133"}, "reply_to_user": {"reputation": 10414, "user_id": 1251354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650becb7843763fb2a7e8f7135d9ef5e?s=128&d=identicon&r=PG", "display_name": "rutter", "link": "https://stackoverflow.com/users/1251354/rutter"}, "edited": false, "score": 0, "creation_date": 1425536226, "post_id": 28867308, "comment_id": 46005807, "body": "I don&#39;t know why but I assumed the script was attached to the object your destroying."}], "tags": [], "owner": {"reputation": 26, "user_id": 4627435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a5efcc5a59f178c0124b5d9ec3382e?s=128&d=identicon&r=PG&f=1", "display_name": "Jpc133", "link": "https://stackoverflow.com/users/4627435/jpc133"}, "is_accepted": false, "score": 0, "last_activity_date": 1425512550, "creation_date": 1425512550, "answer_id": 28867308, "question_id": 28867024, "link": "https://stackoverflow.com/questions/28867024/how-do-i-use-touch-control-in-unity3d-to-destroy-a-single-object/28867308#28867308", "title": "How do I use touch control in Unity3d to destroy a single object?", "body": "<p>Try using</p>\n\n<pre><code>Destroy(gameObject);\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>Destroy(this.gameObject);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10414, "user_id": 1251354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650becb7843763fb2a7e8f7135d9ef5e?s=128&d=identicon&r=PG", "display_name": "rutter", "link": "https://stackoverflow.com/users/1251354/rutter"}, "is_accepted": false, "score": 0, "last_activity_date": 1425521236, "last_edit_date": 1495541192, "creation_date": 1425521236, "answer_id": 28868762, "question_id": 28867024, "link": "https://stackoverflow.com/questions/28867024/how-do-i-use-touch-control-in-unity3d-to-destroy-a-single-object/28868762#28868762", "title": "How do I use touch control in Unity3d to destroy a single object?", "body": "<p><a href=\"http://docs.unity3d.com/ScriptReference/Physics.Raycast.html\" rel=\"nofollow noreferrer\"><code>Physics.Raycast</code></a> returns a boolean that indicates whether or not you hit anything, which is useful, but in this case you also need to know <em>what</em> you hit.</p>\n\n<p>Luckily, there are overrides of the Raycast function that do populate this data, using an <a href=\"https://stackoverflow.com/questions/810797/which-is-better-return-value-or-out-parameter\"><code>out</code> parameter</a> to populate a <a href=\"http://docs.unity3d.com/ScriptReference/RaycastHit.html\" rel=\"nofollow noreferrer\"><code>RaycastHit</code></a>. If you haven't seen the <code>out</code> keyword in C#, before, it's similar to pass-by-reference in other languages.</p>\n\n<p>If the raycast returns true, then the hit data has been populated and you can find out more about whatever the user just tapped on. For example, which GameObject was it?</p>\n\n<p>Quick example:</p>\n\n<pre><code>RaycastHit hit;\nif (Physics.Raycast(ray, out hit)) {\n    Destroy(hit.collider.gameObject);\n}\n</code></pre>\n\n<p>For more information, including optional arguments to control the raycast or other details you can pull out of the hit data, see the manual pages I linked above.</p>\n"}], "owner": {"reputation": 15, "user_id": 4220797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3bba7a52acf8471fd58fa2a21eb178c?s=128&d=identicon&r=PG&f=1", "display_name": "Manash Yes", "link": "https://stackoverflow.com/users/4220797/manash-yes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1297, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1425521236, "creation_date": 1425511151, "question_id": 28867024, "link": "https://stackoverflow.com/questions/28867024/how-do-i-use-touch-control-in-unity3d-to-destroy-a-single-object", "title": "How do I use touch control in Unity3d to destroy a single object?", "body": "<p>I am using </p>\n\n<pre><code>void Update()\n{`for (var i = 0; i &lt; Input.touchCount; ++i)\n    {\n        if (Input.GetTouch(i).phase == TouchPhase.Began)\n        {\n\n            // Construct a ray from the current touch coordinates\n    Ray ray =      Camera.main.ScreenPointToRay(Input.GetTouch(i).position);\n             if (Physics.Raycast(ray))\nDestroy();\n        }\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>I tested on my mobile phone (Windows Phone) to see if I can touch my object to destroy. This script is also attached to the object, so when touched it should get destroyed. Instead, if I touch anywhere in the screen, all the objects, which is multiple duplicates of one object, gets destroyed instead of the specific one I touch. This does not happen when I use OnMouseDown. Is there something I can do similar to MouseDown with touch control?  </p>\n"}, {"tags": ["c#"], "answers": [{"tags": [], "owner": {"reputation": 637210, "user_id": 69083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0cdfd3fe268e270ec481a73046c2f?s=128&d=identicon&r=PG", "display_name": "Guffa", "link": "https://stackoverflow.com/users/69083/guffa"}, "is_accepted": true, "score": 4, "last_activity_date": 1425511569, "creation_date": 1425511569, "answer_id": 28867094, "question_id": 28867020, "link": "https://stackoverflow.com/questions/28867020/named-parameters-vs-optional-parameters/28867094#28867094", "title": "Named Parameters vs Optional Parameters", "body": "<p>An attribute has its own syntax. It uses the <code>name=value</code> form for named parameters.</p>\n\n<p>For a normal method you can't use that form, you are stuck with the <code>name:value</code> form.</p>\n\n<p>It would not be possible to use the <code>name=value</code> form for normal methods. The compiler would not be able to tell if you were trying to use a named parameter or if you were trying to assing a value to a variable and use the assignment as a parameter value.</p>\n"}, {"tags": [], "owner": {"reputation": 5000, "user_id": 3856907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ub3wd.jpg?s=128&g=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/3856907/erik"}, "is_accepted": false, "score": 0, "last_activity_date": 1425513456, "last_edit_date": 1425513456, "creation_date": 1425511891, "answer_id": 28867173, "question_id": 28867020, "link": "https://stackoverflow.com/questions/28867020/named-parameters-vs-optional-parameters/28867173#28867173", "title": "Named Parameters vs Optional Parameters", "body": "<p>If you do something like:</p>\n\n<pre><code>string y; \nTest(y = \"Test\")\n</code></pre>\n\n<p>You can call a function with that syntax. But be careful... the <code>y = \"Test\"</code> is actually setting the variable <code>y</code>, and then passing that to the function! There is a side-effect there which is probably undesirable.  Also <code>\"Test\"</code> is getting passed into parameter <code>x</code> of the <code>Test</code> function, not <code>y</code> because it's going in as the first parameter.</p>\n\n<p>In short, you should always avoid using this syntax when calling a function, because it doesn't do what you're expecting.</p>\n"}, {"tags": [], "owner": {"reputation": 15342, "user_id": 238688, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/224eb07d20af301aef36904f4f362ce4?s=128&d=identicon&r=PG", "display_name": "Dan J", "link": "https://stackoverflow.com/users/238688/dan-j"}, "is_accepted": false, "score": 2, "last_activity_date": 1425512802, "creation_date": 1425512802, "answer_id": 28867349, "question_id": 28867020, "link": "https://stackoverflow.com/questions/28867020/named-parameters-vs-optional-parameters/28867349#28867349", "title": "Named Parameters vs Optional Parameters", "body": "<p>Despite this syntax looking like a method call:</p>\n\n<pre><code>[Required(ErrorMessage=\"Something\")]\n</code></pre>\n\n<p>An Attribute is a <em>class</em>, not a method. You aren't specifying an argument in the line above, you are initializing a property. See the example on the <a href=\"https://msdn.microsoft.com/en-us/library/system.attribute%28v=vs.110%29.aspx\" rel=\"nofollow\">Attribute base class documentation</a> to see what I mean.</p>\n\n<p>The Attribute-specifying syntax is therefore similar to C#'s class initialization syntax:</p>\n\n<pre><code>new RequiredAttribute { ErrorMessage = \"Something\" };\n</code></pre>\n\n<p>There is currently no equivalent syntax in C# for specifying a named argument to a method.</p>\n"}], "owner": {"reputation": 133, "user_id": 4565240, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/32eb226500021251ebcc6df14317300d?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4565240/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 28867094, "answer_count": 3, "score": 2, "last_activity_date": 1425513456, "creation_date": 1425511137, "question_id": 28867020, "link": "https://stackoverflow.com/questions/28867020/named-parameters-vs-optional-parameters", "title": "Named Parameters vs Optional Parameters", "body": "<p>The optional parameters are nothing new in C# and I've known about that since the release of C# 5.0 but there is something I just came across. When I use Data Annotations for my MVC models such as the <code>Required</code> attribute I see this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/lESNm.png\" alt=\"enter image description here\"></p>\n\n<p>So I can do:</p>\n\n<pre><code>[Required(ErrorMessage=\"Something\"]\n</code></pre>\n\n<p>However when I create my own methods with optional parameters like:</p>\n\n<pre><code>void Test(String x = null, String y = null) {}\n</code></pre>\n\n<p>I can pass arguments in both these ways:</p>\n\n<pre><code>Test(x = \"Test\") OR Test(x: \"Test\")\n</code></pre>\n\n<p>this while in the <code>Required</code> attribute I always have to use the <code>=</code> and if I use the <code>:</code> it will cause error.\nfor example:</p>\n\n<pre><code> Required(ErrorMessage:\"Something\") --&gt; Compile time error\n</code></pre>\n\n<p>So what I see is that those Named Parameters are created differently than what I already knew about. And my question is How to make them for a method (How to create such Named Parameters like in the Required attribute).</p>\n"}, {"tags": ["c#", "angularjs", "signalr"], "comments": [{"owner": {"reputation": 2943, "user_id": 3284644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AbI7f.png?s=128&g=1", "display_name": "Brad Barber", "link": "https://stackoverflow.com/users/3284644/brad-barber"}, "edited": false, "score": 2, "creation_date": 1425516280, "post_id": 28867019, "comment_id": 46000411, "body": "Should you be calling chatHub.invoke(&#39;connect&#39;,...) instead?"}, {"owner": {"reputation": 3561, "user_id": 1703505, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/136ffe572f4889123332293d8a442bec?s=128&d=identicon&r=PG", "display_name": "Ben Black", "link": "https://stackoverflow.com/users/1703505/ben-black"}, "reply_to_user": {"reputation": 2943, "user_id": 3284644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AbI7f.png?s=128&g=1", "display_name": "Brad Barber", "link": "https://stackoverflow.com/users/3284644/brad-barber"}, "edited": false, "score": 0, "creation_date": 1425517496, "post_id": 28867019, "comment_id": 46000767, "body": "Oh man. I think you&#39;re right. I had it named UserConnect at one point but I did a lot of ctrl z when I was debugging and fixing another issue. I&#39;ll test once I get back in front of a computer."}, {"owner": {"reputation": 2943, "user_id": 3284644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AbI7f.png?s=128&g=1", "display_name": "Brad Barber", "link": "https://stackoverflow.com/users/3284644/brad-barber"}, "edited": false, "score": 0, "creation_date": 1425519630, "post_id": 28867019, "comment_id": 46001368, "body": "I do that all the time - also remember it converts to javascript naming conventions so when the hub method was UserConnect the invoke should use &#39;userConnect&#39;."}, {"owner": {"reputation": 3561, "user_id": 1703505, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/136ffe572f4889123332293d8a442bec?s=128&d=identicon&r=PG", "display_name": "Ben Black", "link": "https://stackoverflow.com/users/1703505/ben-black"}, "reply_to_user": {"reputation": 2943, "user_id": 3284644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AbI7f.png?s=128&g=1", "display_name": "Brad Barber", "link": "https://stackoverflow.com/users/3284644/brad-barber"}, "edited": false, "score": 0, "creation_date": 1425520217, "post_id": 28867019, "comment_id": 46001543, "body": "I was under the impression when you used the <code>.invoke().apply()</code> method and passed it in the <code>$.merge()</code> you should use the case that it is on the server. I&#39;ve always used the generated proxy and done the camel case like you mentioned though, so I could be wrong."}, {"owner": {"reputation": 2943, "user_id": 3284644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AbI7f.png?s=128&g=1", "display_name": "Brad Barber", "link": "https://stackoverflow.com/users/3284644/brad-barber"}, "edited": false, "score": 0, "creation_date": 1425520807, "post_id": 28867019, "comment_id": 46001713, "body": "I&#39;ve always used the generated proxies as well so I&#39;m not sure on that one, but thought it followed the same conventions...let me know what you find when you get back and test it."}, {"owner": {"reputation": 3561, "user_id": 1703505, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/136ffe572f4889123332293d8a442bec?s=128&d=identicon&r=PG", "display_name": "Ben Black", "link": "https://stackoverflow.com/users/1703505/ben-black"}, "reply_to_user": {"reputation": 2943, "user_id": 3284644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AbI7f.png?s=128&g=1", "display_name": "Brad Barber", "link": "https://stackoverflow.com/users/3284644/brad-barber"}, "edited": false, "score": 0, "creation_date": 1425562882, "post_id": 28867019, "comment_id": 46020096, "body": "I&#39;ve switched them so they&#39;re both <code>Connect</code>, and I&#39;ve tried <code>connect</code> on the client as well. Neither hit my breakpoint in the Hub, unfortunately. I&#39;ve edited my question to reflect the new values."}, {"owner": {"reputation": 3561, "user_id": 1703505, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/136ffe572f4889123332293d8a442bec?s=128&d=identicon&r=PG", "display_name": "Ben Black", "link": "https://stackoverflow.com/users/1703505/ben-black"}, "reply_to_user": {"reputation": 2943, "user_id": 3284644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AbI7f.png?s=128&g=1", "display_name": "Brad Barber", "link": "https://stackoverflow.com/users/3284644/brad-barber"}, "edited": false, "score": 0, "creation_date": 1425564258, "post_id": 28867019, "comment_id": 46020939, "body": "Figured it out! See my answer posted below."}], "answers": [{"comments": [{"owner": {"reputation": 823, "user_id": 948517, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0e86a7080079f174d2db2cf4c84134f4?s=128&d=identicon&r=PG", "display_name": "Marek Bar", "link": "https://stackoverflow.com/users/948517/marek-bar"}, "edited": false, "score": 0, "creation_date": 1494399388, "post_id": 28879662, "comment_id": 74805165, "body": "Great explanation, saved my time."}], "tags": [], "owner": {"reputation": 3561, "user_id": 1703505, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/136ffe572f4889123332293d8a442bec?s=128&d=identicon&r=PG", "display_name": "Ben Black", "link": "https://stackoverflow.com/users/1703505/ben-black"}, "is_accepted": true, "score": 6, "last_activity_date": 1425649475, "last_edit_date": 1425649475, "creation_date": 1425564244, "answer_id": 28879662, "question_id": 28867019, "link": "https://stackoverflow.com/questions/28867019/signalr-not-invoking-method-on-server/28879662#28879662", "title": "SignalR not invoking method on server", "body": "<p>Alright, finally figured it out. There were two separate problems I was having.</p>\n\n<p><strong>Problem Number One:</strong></p>\n\n<pre><code>chatHub.ready(function () {\n    chatHub.invoke('Connect', [ // also tried 'connect' here\n        { Name: $root.auth.profile.name, Picture: $root.auth.profile.picture },\n        { RoomKey: $routeParams.roomKey, RoomID: $routeParams.roomId }\n    ]);\n});\n</code></pre>\n\n<p>This code was passing an array of data to <code>.invoke()</code>, and then that:</p>\n\n<pre><code>        return hub.invoke.apply(hub, $.merge([methodName], $.makeArray(args)))\n</code></pre>\n\n<p>was making an array of that array. So simply change that to:</p>\n\n<pre><code>        return hub.invoke.apply(hub, $.merge([methodName], args))\n</code></pre>\n\n<p>and it's fixed. </p>\n\n<p>Then I figured, I should probably add some error logging to this to see if it's actually erroring and I'm just not doing anything with it (no <code>.fail()</code> and therefore never seeing it) So I changed it around to:</p>\n\n<pre><code>        return hub.invoke.apply(hub, $.merge([methodName], args))\n            .done(function (result) {\n                $root.$apply(function () {\n                    if (callback) {\n                        callback(result);\n                    }\n                });\n            })\n            .fail(function (error) {\n                $log.error('Error invoking ' + methodName + ' on server: ' + error);\n            });\n</code></pre>\n\n<p>Which gave me this <strong>amazing</strong> error message and <strong>Problem Number Two</strong>:</p>\n\n<pre><code>Error invoking connect on server: Error: An asynchronous operation cannot be started at this time. Asynchronous operations may only be started within an asynchronous handler or module or during certain events in the Page lifecycle. If this exception occurred while executing a Page, ensure that the Page is marked &lt;%@ Page Async=\"true\" %&gt;. This exception may also indicate an attempt to call an \"async void\" method, which is generally unsupported within ASP.NET request processing. Instead, the asynchronous method should return a Task, and the caller should await it.\n</code></pre>\n\n<p>Which makes sense because my method on the server was an <code>async void</code>, I switched it around <code>async Task</code> and voila, it worked. It's now hitting my breakpoint successfully.</p>\n"}], "owner": {"reputation": 3561, "user_id": 1703505, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/136ffe572f4889123332293d8a442bec?s=128&d=identicon&r=PG", "display_name": "Ben Black", "link": "https://stackoverflow.com/users/1703505/ben-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3707, "favorite_count": 1, "accepted_answer_id": 28879662, "answer_count": 1, "score": 4, "last_activity_date": 1425649475, "creation_date": 1425511134, "last_edit_date": 1425563494, "question_id": 28867019, "link": "https://stackoverflow.com/questions/28867019/signalr-not-invoking-method-on-server", "title": "SignalR not invoking method on server", "body": "<p>I'm using AngularJS to create a SignalR service that connects to the hub that I specify and exposes the <code>.on</code> and <code>.invoke</code> methods so my controllers can listen for events from the server and invoke methods on the server.</p>\n\n<p>Here's the relevant part of my service:</p>\n\n<pre><code>        return {\n            on: function (eventName, callback) {\n                hub.on(eventName, function (result) {\n                    $root.$apply(function () {\n                        if (callback) {\n                            callback(result);\n                        }\n                    });\n                });\n            },\n            ready: function (callback) {\n                return isLoaded.then(function () {\n                    callback();\n                });\n            },\n            invoke: function (methodName, args, callback) {\n                return hub.invoke.apply(hub, $.merge([methodName], $.makeArray(args))).done(function (result) {\n                    $root.$apply(function () {\n                        if (callback) {\n                            callback(result);\n                        }\n                    });\n                });\n            },\n            connection: connection\n        };\n</code></pre>\n\n<p>My hub is connecting perfectly, however when I try to call my invoke, nothing happens. Here's where I call it:</p>\n\n<pre><code>    var chatHub = hub('chatHub');\n\n    chatHub.on('userConnected', function (user) {\n        console.log(user);\n    });\n\n    chatHub.ready(function () {\n        chatHub.invoke('Connect', [ // also tried 'connect' here\n            { Name: $root.auth.profile.name, Picture: $root.auth.profile.picture },\n            { RoomKey: $routeParams.roomKey, RoomID: $routeParams.roomId }\n        ]);\n    });\n</code></pre>\n\n<p>So if you look at the <code>.ready()</code> function that is returned from my service, it uses a promise that when it's resolved will execute my callback passed to it. That works great (the promise <code>isLoaded</code> is resolved in my connection.start().done() which is called inside my service when it's instantiated, so it'll only execute the callback after it's successfully connected)</p>\n\n<p>It gets to my <code>.invoke</code> method (I've confirmed this with console.log), but never invokes the method on the hub, below:</p>\n\n<pre><code>public class ChatHub : Hub {\n    public async void Connect(User user, Room room) {\n        // ommitted\n    }\n}\n</code></pre>\n\n<p>The objects I pass to it have this structure: </p>\n\n<pre><code>public class Room {\n    public int RoomKey { get; set; }\n    public string RoomID { get; set; }\n    public string Name { get; set; }\n    public string Description { get; set; }\n    public List&lt;User&gt; Users { get; set; }\n    public List&lt;Message&gt; Messages { get; set; }\n}\n\npublic class User {\n    public string Name { get; set; }\n    public string Picture { get; set; }\n}\n</code></pre>\n\n<p>So I don't think it's an issue with my arguments, since nothing is required on them so it won't complain that I only passed a few of the arguments (the only ones I need).</p>\n\n<p>For clarity's sake, in my <code>chatHub.invoke('Connect', ...)</code> I'm using the case it is on the server based upon this code I found in my <code>~/signalr/hubs</code> file (I don't need this since I don't use the generated proxy, I just included it for the meantime so I could inspect their underlying code)</p>\n\n<pre><code>    proxies['chatHub'] = this.createHubProxy('chatHub'); \n    proxies['chatHub'].client = { };\n    proxies['chatHub'].server = {\n        connect: function (user, room) {\n            return proxies['chatHub'].invoke.apply(proxies['chatHub'], $.merge([\"Connect\"], $.makeArray(arguments)));\n        }\n    };\n</code></pre>\n"}, {"tags": ["c#", "generics"], "comments": [{"owner": {"reputation": 117905, "user_id": 1163867, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2fe5ef74a2c17f19c75d2f49b95fb71d?s=128&d=identicon&r=PG", "display_name": "MarcinJuraszek", "link": "https://stackoverflow.com/users/1163867/marcinjuraszek"}, "edited": false, "score": 0, "creation_date": 1425511171, "post_id": 28866952, "comment_id": 45998768, "body": "You could add <code>where T : class</code> to make it work with reference types, but there is no way to make it work for reference types and <code>bool</code> at the same time. You&#39;d need another non-generic class for <code>bool</code>, e.g. <code>SharedBool</code>"}, {"owner": {"reputation": 587, "user_id": 2667691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/82930349e2dafdf29cc830971c812f74?s=128&d=identicon&r=PG&f=1", "display_name": "danisius", "link": "https://stackoverflow.com/users/2667691/danisius"}, "edited": false, "score": 0, "creation_date": 1425511263, "post_id": 28866952, "comment_id": 45998810, "body": "do you realy need &quot;volatile&quot; in case you access the property with lock"}, {"owner": {"reputation": 8221, "user_id": 264712, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e4868b6d3075a52e98423a0ef0d8e111?s=128&d=identicon&r=PG", "display_name": "TheBuzzSaw", "link": "https://stackoverflow.com/users/264712/thebuzzsaw"}, "reply_to_user": {"reputation": 587, "user_id": 2667691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/82930349e2dafdf29cc830971c812f74?s=128&d=identicon&r=PG&f=1", "display_name": "danisius", "link": "https://stackoverflow.com/users/2667691/danisius"}, "edited": false, "score": 0, "creation_date": 1425511373, "post_id": 28866952, "comment_id": 45998849, "body": "@danisius I dunno. Do I?"}, {"owner": {"reputation": 1155, "user_id": 3252679, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4e93ea51d93ce9a00e991076650a9e73?s=128&d=identicon&r=PG&f=1", "display_name": "Med.Amine.Touil", "link": "https://stackoverflow.com/users/3252679/med-amine-touil"}, "edited": false, "score": 0, "creation_date": 1425511541, "post_id": 28866952, "comment_id": 45998893, "body": "did you try <code>public class Shared&lt;T&gt; where T:class</code>"}, {"owner": {"reputation": 8221, "user_id": 264712, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e4868b6d3075a52e98423a0ef0d8e111?s=128&d=identicon&r=PG", "display_name": "TheBuzzSaw", "link": "https://stackoverflow.com/users/264712/thebuzzsaw"}, "reply_to_user": {"reputation": 1155, "user_id": 3252679, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4e93ea51d93ce9a00e991076650a9e73?s=128&d=identicon&r=PG&f=1", "display_name": "Med.Amine.Touil", "link": "https://stackoverflow.com/users/3252679/med-amine-touil"}, "edited": false, "score": 0, "creation_date": 1425511699, "post_id": 28866952, "comment_id": 45998943, "body": "@Med.Amine.Touil Yes. That works but takes away my ability to create a <code>Shared&lt;bool&gt;</code> object."}, {"owner": {"reputation": 587, "user_id": 2667691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/82930349e2dafdf29cc830971c812f74?s=128&d=identicon&r=PG&f=1", "display_name": "danisius", "link": "https://stackoverflow.com/users/2667691/danisius"}, "edited": false, "score": 0, "creation_date": 1425512085, "post_id": 28866952, "comment_id": 45999059, "body": "if you use only the property drop volatile, take a look  here <a href=\"http://stackoverflow.com/questions/11523003/should-a-lock-variable-be-declared-volatile\" title=\"should a lock variable be declared volatile\">stackoverflow.com/questions/11523003/&hellip;</a>"}, {"owner": {"reputation": 1155, "user_id": 3252679, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4e93ea51d93ce9a00e991076650a9e73?s=128&d=identicon&r=PG&f=1", "display_name": "Med.Amine.Touil", "link": "https://stackoverflow.com/users/3252679/med-amine-touil"}, "edited": false, "score": 0, "creation_date": 1425512088, "post_id": 28866952, "comment_id": 45999061, "body": "@TheBuzzSaw take a look at my answer"}, {"owner": {"reputation": 8283, "user_id": 1789202, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Tld8r.jpg?s=128&g=1", "display_name": "CSharpie", "link": "https://stackoverflow.com/users/1789202/csharpie"}, "edited": false, "score": 0, "creation_date": 1425513027, "post_id": 28866952, "comment_id": 45999387, "body": "You might want to read this article here, it is pretty nice indepth detail on how locking and what we understand as locking, is done correctly. <a href=\"http://www.albahari.com/threading/part4.aspx\" rel=\"nofollow noreferrer\">albahari.com/threading/part4.aspx</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8221, "user_id": 264712, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e4868b6d3075a52e98423a0ef0d8e111?s=128&d=identicon&r=PG", "display_name": "TheBuzzSaw", "link": "https://stackoverflow.com/users/264712/thebuzzsaw"}, "edited": false, "score": 0, "creation_date": 1425511627, "post_id": 28867090, "comment_id": 45998926, "body": "If I drop <code>volatile</code>, I can go on using <code>Shared&lt;bool&gt;</code>, which would make me very happy."}, {"owner": {"reputation": 346, "user_id": 658018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ea98333954e3e8d764a3fdb3353703?s=128&d=identicon&r=PG", "display_name": "Cdaragorn", "link": "https://stackoverflow.com/users/658018/cdaragorn"}, "edited": false, "score": 1, "creation_date": 1425512620, "post_id": 28867090, "comment_id": 45999230, "body": "per <a href=\"https://msdn.microsoft.com/en-us/library/x13ttww7.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/x13ttww7.aspx</a>, volatile is an instruction to the compiler. It does nothing at runtime. It just prevents the compiler from turning it into a hard value because it thinks you don&#39;t change it anywhere."}, {"owner": {"reputation": 21426, "user_id": 6276, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/k3Sqp.png?s=128&g=1", "display_name": "Phil Wright", "link": "https://stackoverflow.com/users/6276/phil-wright"}, "edited": false, "score": 0, "creation_date": 1425512887, "post_id": 28867090, "comment_id": 45999331, "body": "Thanks for the link. As the link says, &#39;This ensures that the most up-to-date value is present in the field at all times.&#39;."}, {"owner": {"reputation": 346, "user_id": 658018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ea98333954e3e8d764a3fdb3353703?s=128&d=identicon&r=PG", "display_name": "Cdaragorn", "link": "https://stackoverflow.com/users/658018/cdaragorn"}, "edited": false, "score": 0, "creation_date": 1425570227, "post_id": 28867090, "comment_id": 46025007, "body": "My point is simply that this has nothing to do with how the hardware manages the caches. The CPU never changes a value in main memory. It must always pull that value into CPU cache to change it. The CPU cache always contains the truth; main memory is never used if the value is already in CPU cache.  Volatile just tells the compiler not to optimize this value."}, {"owner": {"reputation": 8221, "user_id": 264712, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e4868b6d3075a52e98423a0ef0d8e111?s=128&d=identicon&r=PG", "display_name": "TheBuzzSaw", "link": "https://stackoverflow.com/users/264712/thebuzzsaw"}, "edited": false, "score": 0, "creation_date": 1425570460, "post_id": 28867090, "comment_id": 46025170, "body": "&quot;Your locking during the read and write of the value is completely useless.&quot; -- I am aware of the atomic nature of these types, but that does not make my lock useless. I exposed the lock publicly. The whole point is that <i>other</i> code can lock the object, thus preventing the value from being changed or viewed the entire time that lock is being held."}], "tags": [], "owner": {"reputation": 21426, "user_id": 6276, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/k3Sqp.png?s=128&g=1", "display_name": "Phil Wright", "link": "https://stackoverflow.com/users/6276/phil-wright"}, "is_accepted": false, "score": 5, "last_activity_date": 1425512741, "last_edit_date": 1425512741, "creation_date": 1425511520, "answer_id": 28867090, "question_id": 28866952, "link": "https://stackoverflow.com/questions/28866952/how-can-i-make-a-field-of-type-t-volatile/28867090#28867090", "title": "How can I make a field of type T volatile?", "body": "<p>You can easily constraint the generic type to just references...</p>\n\n<pre><code>public class Shared&lt;T&gt; where T : class\n</code></pre>\n\n<p>...but there is no way to restrict this to a <strong>bool</strong> as well. The class is very small so you could just create a specific implementation for the Boolean type.</p>\n\n<p><strong>BUT...</strong></p>\n\n<p>Your locking during the read and write of the value is completely useless. The read/write of an object reference is atomic within .NET and so there is no need for the lock. It just slows it down. (Boolean is implemented as a 4 byte integer and they are atomic as well, so it is also not needed for your Boolean version)</p>\n\n<p>The volatile keyword will mean that every time the value is read it will ensure it reads the value again from memory. This gets around the issue where the value might be cached in a register or in the L1/L2 cache. In which case subsequent accesses will be the register/cached value even though another CPU might have changed it in main memory. So your volatile will prevent the value being cached in a register and ensure that each read is consistent with main memory.</p>\n"}, {"comments": [{"owner": {"reputation": 8221, "user_id": 264712, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e4868b6d3075a52e98423a0ef0d8e111?s=128&d=identicon&r=PG", "display_name": "TheBuzzSaw", "link": "https://stackoverflow.com/users/264712/thebuzzsaw"}, "edited": false, "score": 0, "creation_date": 1425570590, "post_id": 28867134, "comment_id": 46025255, "body": "This answer better falls in line with what I was trying to accomplish. While I may end up not needing the <code>volatile</code> anyway, this would indeed address the issue. Having a factory method (and hiding the constructors) would allow me to create sub-classes to deal with C#&#39;s resistance."}], "tags": [], "owner": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "is_accepted": true, "score": 1, "last_activity_date": 1425511703, "creation_date": 1425511703, "answer_id": 28867134, "question_id": 28866952, "link": "https://stackoverflow.com/questions/28866952/how-can-i-make-a-field-of-type-t-volatile/28867134#28867134", "title": "How can I make a field of type T volatile?", "body": "<p>(This is not specific to the <code>volatile</code> problem, but a possible general workaround for such cases.)</p>\n\n<p>You can make your class implement an interface (say, <code>IShared&lt;T&gt;</code>). Construct instances of it through a generic factory method. You can then provide multiple implementations.</p>\n\n<p>For reference types, you can return instances of the class you already have, with a constraint of <code>T : class</code>. For primitive types, you can return instances of specialized non-generic classes that implement <code>IShared&lt;bool&gt;</code>, <code>IShared&lt;int&gt;</code>, etc.</p>\n"}], "owner": {"reputation": 8221, "user_id": 264712, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e4868b6d3075a52e98423a0ef0d8e111?s=128&d=identicon&r=PG", "display_name": "TheBuzzSaw", "link": "https://stackoverflow.com/users/264712/thebuzzsaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 942, "favorite_count": 0, "accepted_answer_id": 28867134, "answer_count": 2, "score": 3, "last_activity_date": 1425512741, "creation_date": 1425510794, "question_id": 28866952, "link": "https://stackoverflow.com/questions/28866952/how-can-i-make-a-field-of-type-t-volatile", "title": "How can I make a field of type T volatile?", "body": "<p>I was trying to consolidate a bunch of repeat code into a utility class with the following structure:</p>\n\n<pre><code>public class Shared&lt;T&gt;\n{\n    private volatile T _value;\n\n    public object Lock { get; private set; }\n\n    public T Value\n    {\n        get { lock (Lock) return _value; }\n        set { lock (Lock) _value = value; }\n    }\n\n    public Shared(T startingValue)\n    {\n        _value = startingValue;\n        Lock = new object();\n    }\n\n    public Shared()\n        : this(default(T))\n    {\n    }\n}\n</code></pre>\n\n<p>However, C# will not let me. The documentation indicates that <code>T</code> must be a reference type or one of the primitives (int, bool, etc.). The only types I care about are reference types and bools. Obviously, I cannot use an unbounded type <code>T</code>. Is there a way I can make this work? Is it even possible to add constraints to this to make it work as a <code>Shared&lt;bool&gt;</code>? I'm not even allowed to mark other struct types volatile. :(</p>\n\n<p>If there is no possible way to mark it volatile, do I have other assurances that it will not be optimized away when multiple threads are trying to read this value?</p>\n"}, {"tags": ["c#", "ironpython"], "comments": [{"owner": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "edited": false, "score": 2, "creation_date": 1425545830, "post_id": 28866916, "comment_id": 46009885, "body": "Have you tried executing that and seeing what the return value is?"}, {"owner": {"reputation": 9546, "user_id": 58866, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6OsC0.jpg?s=128&g=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/58866/imran"}, "reply_to_user": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "edited": false, "score": 1, "creation_date": 1425567340, "post_id": 28866916, "comment_id": 46022907, "body": "No, I don&#39;t have a C# environment set up yet. I am working on the Python side and trying to help someone connect to it from C#, so I&#39;m a bit limited right now."}], "answers": [{"tags": [], "owner": {"reputation": 5899, "user_id": 468244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/104499f4d16c9363ad1564fb9415a4fc?s=128&d=identicon&r=PG", "display_name": "Simon Opelt", "link": "https://stackoverflow.com/users/468244/simon-opelt"}, "is_accepted": true, "score": 3, "last_activity_date": 1425546722, "creation_date": 1425546722, "answer_id": 28873936, "question_id": 28866916, "link": "https://stackoverflow.com/questions/28866916/call-a-python-function-with-multiple-return-values-from-c/28873936#28873936", "title": "Call a Python function with multiple return values from C#", "body": "<p>The IronPython runtime provides the result of <code>get_xyz()</code> as a <a href=\"https://github.com/IronLanguages/main/blob/ipy-2.7-maint/Languages/IronPython/IronPython/Runtime/PythonTuple.cs\" rel=\"nofollow\">PythonTuple</a> which means it can be used as <code>IList</code>, <code>ICollection</code>, <code>IEnumerable&lt;object&gt;</code> ...</p>\n\n<p>Because of the primarily static nature of C# there are no syntax constructs similar to python's way of unpacking tuples. Through the provided interfaces and collection APIs you could receive the values as</p>\n\n<pre><code>var xyz = scope.get_xyz();\nint x = xyz[0];\nint y = xyz[1];\nint z = xyz[2];\n</code></pre>\n"}], "owner": {"reputation": 9546, "user_id": 58866, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6OsC0.jpg?s=128&g=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/58866/imran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2374, "favorite_count": 1, "accepted_answer_id": 28873936, "answer_count": 1, "score": 2, "last_activity_date": 1425546722, "creation_date": 1425510620, "last_edit_date": 1495541572, "question_id": 28866916, "link": "https://stackoverflow.com/questions/28866916/call-a-python-function-with-multiple-return-values-from-c", "title": "Call a Python function with multiple return values from C#", "body": "<p><a href=\"https://stackoverflow.com/questions/7053172/how-can-i-call-ironpython-code-from-a-c-sharp-app\">This question</a> gives a nice overview of how to call a python function from C# using IronPython.</p>\n\n<p>If our python source looks like:</p>\n\n<pre><code>def get_x():\n    return 1\n</code></pre>\n\n<p>The basic approach is:</p>\n\n<pre><code>var script = @\"\ndef get_x():\n    return 1\";\n\nvar engine = Python.CreateEngine();\ndynamic scope = engine.CreateScope();\nengine.Execute(script, scope);\n\nvar x = scope.get_x();\nConsole.WriteLine(\"x is {0}\", x);\n</code></pre>\n\n<p>But what if our python source is:</p>\n\n<pre><code>def get_xyz():\n    return 1, 2, 3\n</code></pre>\n\n<p>What is the C# syntax for handling multiple return values?</p>\n"}, {"tags": ["c#", "winforms", "crystal-reports"], "answers": [{"comments": [{"owner": {"reputation": 581, "user_id": 3367801, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bfgCC.jpg?s=128&g=1", "display_name": "Junaid", "link": "https://stackoverflow.com/users/3367801/junaid"}, "edited": false, "score": 0, "creation_date": 1425571014, "post_id": 28869513, "comment_id": 46025521, "body": "Hi, i have attached the screenshot of how the two tables are linked. I think they are linked properly. (screenshot on original post). thnx"}, {"owner": {"reputation": 6430, "user_id": 3761928, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/H3Hih.jpg?s=128&g=1", "display_name": "Shell", "link": "https://stackoverflow.com/users/3761928/shell"}, "reply_to_user": {"reputation": 581, "user_id": 3367801, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bfgCC.jpg?s=128&g=1", "display_name": "Junaid", "link": "https://stackoverflow.com/users/3367801/junaid"}, "edited": false, "score": 0, "creation_date": 1425698388, "post_id": 28869513, "comment_id": 46080821, "body": "in your C# code you are assigning <code>result</code> object into <code>SetDataSource()</code> method. does it having both table data <code>Voucher_Details</code> and <code>Voucher</code>? One more thing that if the <code>V_NO</code> is primary key field than it should not displayed <code>blank</code> in the report. Do you have enabled <code>SuppressIfDuplicate</code> option for that field? if not then it should show value. You should also try to <code>show</code> report without assigning datasource. I mean remove the <code>SetDataSource</code> method and try again."}], "tags": [], "owner": {"reputation": 6430, "user_id": 3761928, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/H3Hih.jpg?s=128&g=1", "display_name": "Shell", "link": "https://stackoverflow.com/users/3761928/shell"}, "is_accepted": false, "score": 0, "last_activity_date": 1425526436, "creation_date": 1425526436, "answer_id": 28869513, "question_id": 28866849, "link": "https://stackoverflow.com/questions/28866849/duplicate-data-displaying-on-crystal-reports/28869513#28869513", "title": "Duplicate data displaying on crystal reports", "body": "<p>Check the link in your crystal report document. If there is table that is not linked with other properly then it can show duplicate records like this. for example if you have another table which has 3 records then every record will be displayed 3 times. if there is any table that is not being used in the report then remove it from Database Explorer. </p>\n\n<p>You are using Disconnected DataSource method to display report.</p>\n\n<pre><code>cr.SetDataSource(result);\n</code></pre>\n\n<p>This method will show data only which you have specified in datasource. Report will not check the data in sql server. so, make sure you have assign all the table data which are selected in Database Explorer. for example if you have taken 3 tables in your report then your dataset should contain 3 tables.</p>\n\n<pre><code>//ds.Tables[0] : \"table1\"\n//ds.Tables[1] : \"table2\"\n//ds.Tables[2] : \"table3\"\n\ncr.SetDataSource(ds);\n</code></pre>\n"}], "owner": {"reputation": 581, "user_id": 3367801, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bfgCC.jpg?s=128&g=1", "display_name": "Junaid", "link": "https://stackoverflow.com/users/3367801/junaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1308, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425571239, "creation_date": 1425510372, "last_edit_date": 1425571239, "question_id": 28866849, "link": "https://stackoverflow.com/questions/28866849/duplicate-data-displaying-on-crystal-reports", "title": "Duplicate data displaying on crystal reports", "body": "<p>I have a code like this to display data on datagridview (To check) and crystal reports</p>\n\n<pre><code>private void PrintReportForm_Load(object sender, EventArgs e)\n{\n      // Getting result from SQL server database using LINQ to SQL\n      var result = AccessorReports.GetVoucherDetailByVoucherNo(VoucherNo);\n\n      // Displaying result on data grid view\n       dataGridView1.DataSource = result;\n\n       // Displaying result on crystal report\n       VoucherRpt cr = new VoucherRpt();\n       cr.Load(\"VoucherRpt.rpt\");\n       cr.SetDataSource(result);\n       crystalReportViewer1.ReportSource = cr;\n}\n</code></pre>\n\n<p>The problem is I am getting duplicate entry on crystal report while data grid view showing single entry. Why?  (Screenshot attached)<img src=\"https://i.stack.imgur.com/xyRNP.png\" alt=\"For each entry in data grid view there is duplicate entry on crystal report \"></p>\n\n<p>For each entry in data grid view there is duplicate entry on crystal report.\nThanks for help in advance :)</p>\n\n<p>Screenshot of how tables are linked</p>\n\n<p><img src=\"https://i.stack.imgur.com/TVJrL.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["c#", "arrays", "loops", "streamreader"], "answers": [{"tags": [], "owner": {"reputation": 637210, "user_id": 69083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0cdfd3fe268e270ec481a73046c2f?s=128&d=identicon&r=PG", "display_name": "Guffa", "link": "https://stackoverflow.com/users/69083/guffa"}, "is_accepted": false, "score": 0, "last_activity_date": 1425510843, "creation_date": 1425510843, "answer_id": 28866961, "question_id": 28866805, "link": "https://stackoverflow.com/questions/28866805/read-multiple-lines-from-textfile-into-array/28866961#28866961", "title": "Read multiple lines from textfile into array", "body": "<p>You can use the <code>File.ReadLines</code> that lets you enumerate the lines without reading the entire file into an array. Keep an index of the current line and skip to that, and increase the index to get the next line the next time:</p>\n\n<pre><code>int index = 0;\nstring[] words;\n\nprivate void btnInput_Click(object sender, EventArgs e) {\n  try {\n    string line = File.ReadLines(\"pers.txt\").Skip(index).FirstOrDefault();\n    if (line != null) {\n      words = line.Split(';');\n      index++;\n    } else {\n      // reached the end of the file\n    }\n    MessageBox.Show(\"File read\", \"Info\");\n  } catch (FileNotFoundException ex) {\n    MessageBox.Show(ex.Message, \"File not found\");\n  }\n}\n</code></pre>\n\n<p>Naturally reading through the file to get a specific line is not efficient, but that's what you have to do if you don't want to keep the lines in a list. (Files are not line based (or even character based), so there is no way to get a specific line without reading the previous lines.)</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 4633753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1ca46243e451699f94b20a684eae31d?s=128&d=identicon&r=PG&f=1", "display_name": "Finsho", "link": "https://stackoverflow.com/users/4633753/finsho"}, "edited": false, "score": 0, "creation_date": 1425580486, "post_id": 28867005, "comment_id": 46031488, "body": "Thanks! This worked out for me. I made a few changes but it works for me now!"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 13, "user_id": 4633753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1ca46243e451699f94b20a684eae31d?s=128&d=identicon&r=PG&f=1", "display_name": "Finsho", "link": "https://stackoverflow.com/users/4633753/finsho"}, "edited": false, "score": 0, "creation_date": 1425589431, "post_id": 28867005, "comment_id": 46036523, "body": "I&#39;d really advise you to use <code>.List()</code>, it is more convenient. I know of a situation when you cannot use List()s, namely when <code>using System.Runtime.Serialization.Formatters.Soap</code>, but you can use regular <code>System.Xml.Serialization.XmlSerializer</code>. Well, I&#39;m glad I could help."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 0, "last_activity_date": 1425512216, "last_edit_date": 1425512216, "creation_date": 1425511073, "answer_id": 28867005, "question_id": 28866805, "link": "https://stackoverflow.com/questions/28866805/read-multiple-lines-from-textfile-into-array/28867005#28867005", "title": "Read multiple lines from textfile into array", "body": "<p>You do not have to read lines one by one.</p>\n\n<pre><code>string[][] words = null;\nprivate void btnInput_Click(object sender, EventArgs e)\n{\n   string line = \"\", contents = \"\";\n   try\n   {\n       using (StreamReader file = new StreamReader(\"pers.txt\"))\n       {\n          contents = file.ReadToEnd();\n       }\n       string[] lines = contents.Split(new string[] { \"\\r\\n\", \"\\r\", \"\\n\" }, StringSplitOptions.RemoveEmptyEntries);\n       words = new string[lines.GetLength(0)][];\n       for (int i = 0; i &lt; lines.GetLength(0); i++)\n       {\n          string[] split_words = lines[i].Split(new char[] { ';' });\n          words[i] = new string[split_words.GetLength(0)];\n          for (int j = 0; j &lt; split_words.GetLength(0); j++)\n              words[i][j] = split_words[j];\n        }\n        MessageBox.Show(\"File read\", \"Info\");\n   }\n   catch (Exception ex)\n   {\n       MessageBox.Show(ex.Message, \"File not found\");\n       return;\n   }\n}\n</code></pre>\n\n<p>Declaring a jagged array <code>string[][] words = null;</code> will allow you to address each word on any specific line by indexes. E.g. <code>string name = words[0][0]</code> to get a value from the 1st line and you know that some name is located in the 1st column.</p>\n\n<p>So, for the button:</p>\n\n<pre><code>int current_index = -1;\nprivate void btnOutput_Click(object sender, EventArgs e)\n{\n    current_index = words.GetLength(0) == current_index - 1 ? 0 : ++current_index;\n\n    txtName.Text = words[current_index][0];\n    txtdate.Text = words[current_index][1];\n    txtNr.Text = words[current_index][2];\n    txtStreet.Text = words[current_index][3];\n    txtPost.Text = words[current_index][4];\n    txtCity.Text = words[current_index][5];\n\n    MessageBox.Show(\"All persons showed\", \"Info\");\n}\n</code></pre>\n\n<p>Also, use <code>using</code> when reading/writing files, it is really convenient!</p>\n"}], "owner": {"reputation": 13, "user_id": 4633753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1ca46243e451699f94b20a684eae31d?s=128&d=identicon&r=PG&f=1", "display_name": "Finsho", "link": "https://stackoverflow.com/users/4633753/finsho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3797, "favorite_count": 1, "accepted_answer_id": 28867005, "answer_count": 2, "score": 0, "last_activity_date": 1425512216, "creation_date": 1425510173, "last_edit_date": 1425510484, "question_id": 28866805, "link": "https://stackoverflow.com/questions/28866805/read-multiple-lines-from-textfile-into-array", "title": "Read multiple lines from textfile into array", "body": "<p>I'm working on a small program which holds information about people. The information is stored in a textfile as a sentence and the words are separated by \";\". I know how to read the lines with a streamreader, I do this upon clicking on a button.\nI then split the sentence in words and save them in an array.\nWhen clicking a second button I want the separate words displayed in different textboxes (their name, birth date, etc.). And every time you click the button the info of the next person is being displayed until the whole list is displayed.</p>\n\n<p>The problem I encounter is that only the last value of my array is displayed in the textboxes. I understand that every time I loop over the readline(), the array is being filled with strings and overwritten. I don't want to use a list for now as I already found an answer with lists. I just can't find a way to save or so my information in the array and display it later on.</p>\n\n<p>I'll put my code here:</p>\n\n<pre><code>string[] words = new string[10];\n\nprivate void btnInput_Click(object sender, EventArgs e)\n{\n    string line = \"\";\n    try\n    {\n        StreamReader file = new StreamReader(\"pers.txt\");\n\n        while (file.Peek() != -1)\n        {       \n            line = file.ReadLine();   \n            words = line.Split(';');              \n        }\n        file.Close();\n\n        MessageBox.Show(\"File read\", \"Info\");\n    }\n    catch (FileNotFoundException ex)\n    {\n        MessageBox.Show(ex.Message, \"File not found\");\n        return;\n    }\n}\n\nprivate void btnOutput_Click(object sender, EventArgs e)\n{\n    txtName.Text = words[0];\n    txtdate.Text = words[1];\n    txtNr.Text = words[2];\n    txtStreet.Text = words[3];\n    txtPost.Text = words[4];\n    txtCity.Text = words[5];\n\n    MessageBox.Show(\"All persons showed\", \"Info\");\n}\n</code></pre>\n"}, {"tags": ["c#", "json", "serialization", "asp.net-web-api", "json.net"], "answers": [{"tags": [], "owner": {"reputation": 15622, "user_id": 38368, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9825eee1aeea415663794aecf29232bc?s=128&d=identicon&r=PG", "display_name": "Danny Varod", "link": "https://stackoverflow.com/users/38368/danny-varod"}, "is_accepted": true, "score": 1, "last_activity_date": 1425511455, "last_edit_date": 1425511455, "creation_date": 1425511080, "answer_id": 28867008, "question_id": 28866802, "link": "https://stackoverflow.com/questions/28866802/deserializing-dictionary-return-null/28867008#28867008", "title": "Deserializing dictionary return Null", "body": "<p>If you use:</p>\n\n<pre><code>[HttpGet]\n[Route(\"\")]\npublic IDictionary&lt;string, string&gt; Get(IDictionary&lt;string,string&gt; myParameter)\n{\n}\n</code></pre>\n\n<p>Then you'll have to pass <code>myDictionaryAsParameter</code> via the body and change to <code>[HttpPost]</code>, since Web API doesn't support a body parameter in <code>HttpGet</code>.</p>\n\n<p>A few tests I've tried show that only simple parameters are read via URL e.g.</p>\n\n<pre><code>// For URL/value\n// I've tried this with complex objects - doesn't work with complex objects\n\n[HttpGet]\n[Route(\"{myParameter}\")]\npublic IDictionary&lt;string, string&gt; Get(string myParameter)\n{\n}\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>// For URL?myParameter=value\n// Haven't tried this with complex objects - might not work with complex objects\n\n[HttpGet]\n[Route(\"\")]\npublic IDictionary&lt;string, string&gt; Get(string myParameter = \"default\")\n{\n}\n</code></pre>\n\n<p>However, you could try this with the last option (by adding a default value).</p>\n\n<p>Also, the vNext of Web API gives additional routing options, you could try this with VS2015 and the new Web API version.</p>\n"}], "owner": {"reputation": 4808, "user_id": 2848629, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2613596ffbb1046a0978439f00e1d07c?s=128&d=identicon&r=PG", "display_name": "Alberto Montellano", "link": "https://stackoverflow.com/users/2848629/alberto-montellano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 28867008, "answer_count": 1, "score": 1, "last_activity_date": 1425511455, "creation_date": 1425510168, "last_edit_date": 1425510500, "question_id": 28866802, "link": "https://stackoverflow.com/questions/28866802/deserializing-dictionary-return-null", "title": "Deserializing dictionary return Null", "body": "<p>I'm working with a Web API and trying to receive a dictionary as parameter:</p>\n\n<pre><code>[HttpGet]\npublic IDictionary&lt;string, string&gt; Get(IDictionary&lt;string,string&gt; myDictionaryAsParameter)\n</code></pre>\n\n<p>To call it, I'm creating a url querystring with:</p>\n\n<pre><code>string endpoint = \"http//localhost:1122/api/MyController/?myDictionaryAsParameter=\" + JsonConvert.SerializeObject(parameters)\n</code></pre>\n\n<p>When debugging the code, the web API method dictionary parameter is Null.</p>\n\n<p>If I change the web API signature to :</p>\n\n<pre><code>[HttpGet]\npublic IDictionary&lt;string, string&gt; Get(string myDictionaryAsParameter)\n{\n    var dict = JsonConvert.DeserializeObject(myDictionaryAsParameter);\n}\n</code></pre>\n\n<p>It gets parsed correctly. </p>\n\n<p>How should I encode/serialize my dictionary object to send it in url querystring and get it correctly parsed by web API method signature?</p>\n"}, {"tags": ["c#", ".net", "binary", "bit-manipulation", "endianness"], "comments": [{"owner": {"reputation": 43527, "user_id": 98094, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/VkdLW.jpg?s=128&g=1", "display_name": "Icemanind", "link": "https://stackoverflow.com/users/98094/icemanind"}, "edited": false, "score": 2, "creation_date": 1425511227, "post_id": 28866797, "comment_id": 45998793, "body": "Jon Skeet created a <a href=\"http://jonskeet.uk/csharp/miscutil/\" rel=\"nofollow noreferrer\">Miscellaneous Utility Library</a>. A couple of little treasures inside that library is <code>EndianBinaryReader</code>, <code>EndianBinaryWriter</code>, and <code>EndianBitConverter</code>. The reader and writer read and write binary data using the endian you specify. It should do what you need!"}, {"owner": {"reputation": 167, "user_id": 2704779, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec53325d9eed7d8843e71949c9d87c00?s=128&d=identicon&r=PG", "display_name": "Sebastien Guimmara", "link": "https://stackoverflow.com/users/2704779/sebastien-guimmara"}, "reply_to_user": {"reputation": 43527, "user_id": 98094, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/VkdLW.jpg?s=128&g=1", "display_name": "Icemanind", "link": "https://stackoverflow.com/users/98094/icemanind"}, "edited": false, "score": 0, "creation_date": 1425927531, "post_id": 28866797, "comment_id": 46153318, "body": "@Icemanind thanks for the tip !"}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 2704779, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec53325d9eed7d8843e71949c9d87c00?s=128&d=identicon&r=PG", "display_name": "Sebastien Guimmara", "link": "https://stackoverflow.com/users/2704779/sebastien-guimmara"}, "edited": false, "score": 0, "creation_date": 1425927516, "post_id": 28866976, "comment_id": 46153312, "body": "Indeed, I had a 2-byte array to use."}], "tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 4, "last_activity_date": 1425510925, "creation_date": 1425510925, "answer_id": 28866976, "question_id": 28866797, "link": "https://stackoverflow.com/questions/28866797/how-to-swap-endianness-of-int16-without-bitconverter/28866976#28866976", "title": "How to swap endianness of Int16 without BitConverter", "body": "<p>Well the math for an <code>Int16</code> would just be:</p>\n\n<pre><code>public Int16 SwitchEndianness(Int16 i)\n{\n    return (Int16)((i &lt;&lt; 8) + (i &gt;&gt; 8));\n}\n</code></pre>\n\n<p>or if you have a 2-byte array:</p>\n\n<pre><code>public Int16 SwitchEndianness(byte[] a)\n{\n    //TODO: verify length\n    return (Int16)((a[0] &lt;&lt; 8) + a[1]);\n}\n</code></pre>\n\n<p>but you'll have to try it and see if it's faster than reversing the array.</p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 5186572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3117cf5e38223befbaa11f07cca4c3c?s=128&d=identicon&r=PG&f=1", "display_name": "Rox", "link": "https://stackoverflow.com/users/5186572/rox"}, "is_accepted": false, "score": 1, "last_activity_date": 1489421969, "last_edit_date": 1495541841, "creation_date": 1489421969, "answer_id": 42768526, "question_id": 28866797, "link": "https://stackoverflow.com/questions/28866797/how-to-swap-endianness-of-int16-without-bitconverter/42768526#42768526", "title": "How to swap endianness of Int16 without BitConverter", "body": "<p>First solution proposed by Stanley fails when the Int16 value is negative.\nSee <a href=\"https://stackoverflow.com/questions/1499647/shifting-the-sign-bit-in-net\">shifting the sign bit in .Net</a> for an explanation.</p>\n\n<p>The proper implementation should be\n<code>\n    private Int16 SwitchEndianness(Int16 i)\n    {\n        return (Int16)((i &lt;&lt; 8) + ((UInt16)i &gt;&gt; 8));\n    }\n</code></p>\n"}], "owner": {"reputation": 167, "user_id": 2704779, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec53325d9eed7d8843e71949c9d87c00?s=128&d=identicon&r=PG", "display_name": "Sebastien Guimmara", "link": "https://stackoverflow.com/users/2704779/sebastien-guimmara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1731, "favorite_count": 0, "accepted_answer_id": 28866976, "answer_count": 2, "score": 1, "last_activity_date": 1489421969, "creation_date": 1425510153, "question_id": 28866797, "link": "https://stackoverflow.com/questions/28866797/how-to-swap-endianness-of-int16-without-bitconverter", "title": "How to swap endianness of Int16 without BitConverter", "body": "<p>I need to read binary files containing millions of Int16 stored as big endian.</p>\n\n<p>My first method was to use BitConverter and Array.Reverse() but that appears too slow for my purpose. Is there a way to do it with bitwise arithmetic instead ?</p>\n"}, {"tags": ["c#", "windows"], "comments": [{"owner": {"reputation": 2334, "user_id": 2360972, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7d8bd013c172c4097cfdae6e3df4fc6b?s=128&d=identicon&r=PG", "display_name": "Chief Wiggum", "link": "https://stackoverflow.com/users/2360972/chief-wiggum"}, "edited": false, "score": 0, "creation_date": 1425509953, "post_id": 28866687, "comment_id": 45998315, "body": "What commands do you mean? Something like ping, copy, calc, notepad etc?"}, {"owner": {"reputation": 123, "user_id": 4627545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/076a0786350205976c943178457917f8?s=128&d=identicon&r=PG", "display_name": "Jetscooters", "link": "https://stackoverflow.com/users/4627545/jetscooters"}, "reply_to_user": {"reputation": 2334, "user_id": 2360972, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7d8bd013c172c4097cfdae6e3df4fc6b?s=128&d=identicon&r=PG", "display_name": "Chief Wiggum", "link": "https://stackoverflow.com/users/2360972/chief-wiggum"}, "edited": false, "score": 0, "creation_date": 1425509990, "post_id": 28866687, "comment_id": 45998335, "body": "@JamesBlond Any command in general"}, {"owner": {"reputation": 2334, "user_id": 2360972, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7d8bd013c172c4097cfdae6e3df4fc6b?s=128&d=identicon&r=PG", "display_name": "Chief Wiggum", "link": "https://stackoverflow.com/users/2360972/chief-wiggum"}, "edited": false, "score": 0, "creation_date": 1425512557, "post_id": 28866687, "comment_id": 45999211, "body": "Ok, then just have a look at the duplicate link from Ken White. The chosen answer contains everything you need."}, {"owner": {"reputation": 21, "user_id": 2680889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b69ae4ab8ffbede1163be74a7e1ab5a?s=128&d=identicon&r=PG&f=1", "display_name": "Smudge", "link": "https://stackoverflow.com/users/2680889/smudge"}, "edited": false, "score": 0, "creation_date": 1425513353, "post_id": 28866687, "comment_id": 45999503, "body": "Have a look here:  <a href=\"http://stackoverflow.com/questions/1469764/run-command-prompt-commands\" title=\"run command prompt commands\">stackoverflow.com/questions/1469764/run-command-prompt-comma&zwnj;&#8203;nds</a>"}, {"owner": {"reputation": 992, "user_id": 1617161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/svd4J.jpg?s=128&g=1", "display_name": "iCode", "link": "https://stackoverflow.com/users/1617161/icode"}, "edited": false, "score": 0, "creation_date": 1425516454, "post_id": 28866687, "comment_id": 46000484, "body": "Try Process.Start(). If you are providing a string path to a file, then the file will be opened by the default application."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 4627545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/076a0786350205976c943178457917f8?s=128&d=identicon&r=PG", "display_name": "Jetscooters", "link": "https://stackoverflow.com/users/4627545/jetscooters"}, "edited": false, "score": 0, "creation_date": 1425527009, "post_id": 28869505, "comment_id": 46003171, "body": "Thanks, man! Just what I needed."}], "tags": [], "owner": {"reputation": 1239, "user_id": 2856444, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M3Hy5.png?s=128&g=1", "display_name": "Magic Mick", "link": "https://stackoverflow.com/users/2856444/magic-mick"}, "is_accepted": true, "score": 3, "last_activity_date": 1511308214, "last_edit_date": 1511308214, "creation_date": 1425526367, "answer_id": 28869505, "question_id": 28866687, "link": "https://stackoverflow.com/questions/28866687/can-i-run-windows-commands-from-a-c-form/28869505#28869505", "title": "Can I run windows commands from a c# form?", "body": "<p>The simplest way is to do the following as shown <a href=\"https://stackoverflow.com/questions/1469764/run-command-prompt-commands\">here</a>..</p>\n\n<pre><code>Process.Start(\"Executable name here\", \"parameters here\");\n</code></pre>\n\n<p>However, if you want to set a working directory, capture standard output or errors, create no window etc. You could do something like the following..</p>\n\n<pre><code>void StartNewProcess(string processName, string parameters, string startDir)\n{\n    var proc = new Process();\n    var args = new ProcessStartInfo \n    { \n        FileName = processName,\n        Arguments = parameters,\n        WorkingDirectory = startDir,\n        CreateNoWindow = true,\n        UseShellExecute = false,\n        RedirectStandardOutput = true,\n        RedirectStandardError = true\n    };\n\n    proc = Process.Start(args);\n    proc.ErrorDataReceived += p_DataReceived;\n    proc.OutputDataReceived += p_DataReceived;\n    proc.BeginErrorReadLine();\n    proc.BeginOutputReadLine();\n    proc.WaitForExit();\n}\n</code></pre>\n\n<p>And then you can process the output using something like this..</p>\n\n<pre><code>void p_DataReceived(object sender, DataReceivedEventArgs e)\n{\n   if (e.Data != null &amp;&amp; e.Data.Length &gt; 0) Console.WriteLine(e.Data); \n}\n</code></pre>\n\n<p>Example to call..</p>\n\n<pre><code>void button1_Click(object sender, EventArgs e)\n{\n    //Input params: Executable name, parameters, start directory\n    StartNewProcess(\"cmd.exe\", \"/C dir\", \"C:\\\\\");\n}\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 4627545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/076a0786350205976c943178457917f8?s=128&d=identicon&r=PG", "display_name": "Jetscooters", "link": "https://stackoverflow.com/users/4627545/jetscooters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "closed_date": 1425561646, "accepted_answer_id": 28869505, "answer_count": 1, "score": 2, "last_activity_date": 1511308214, "creation_date": 1425509580, "question_id": 28866687, "link": "https://stackoverflow.com/questions/28866687/can-i-run-windows-commands-from-a-c-form", "closed_reason": "Duplicate", "title": "Can I run windows commands from a c# form?", "body": "<p>Is it possible for me to call Windows commands, like in the command prompt, from windows forms with C sharp? If so, how?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "authentication", "jwt"], "owner": {"reputation": 78, "user_id": 4471507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/464f5398a61aca98f35eec43bd74b4fc?s=128&d=identicon&r=PG&f=1", "display_name": "qdx47", "link": "https://stackoverflow.com/users/4471507/qdx47"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 741, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1425508975, "creation_date": 1425508975, "question_id": 28866555, "link": "https://stackoverflow.com/questions/28866555/authenticating-a-user-in-a-mvc-application-using-json-web-tokens", "title": "Authenticating a user in a MVC application using JSON Web Tokens", "body": "<p>I have a legacy application from which I want to spawn a session in a new asp.net MVC application.  I am attempting to pass a JSON Web Token to the MVC application to authenticate the user.  I have it working for the most part, but it is requiring some extra code to get the user signed in (using Request.GetOwinContext().ctx.Authentication.SignIn) .  It is making me question whether I am going down the correct path.  </p>\n\n<p>From what I have read I would think that I should be able to use the ClaimsPrincipal object created by the ValidateToken method to sign the user into the application.  </p>\n\n<p>My Issues:</p>\n\n<ol>\n<li>The ClaimsIdentity instance created by ValidateToken sets the Authentication Type to Federated.  To sign the user into the MVC application, I need to set the authentication type to Cookies (I think).  To do this I am creating a new ClaimsIdentity instance based off the one created by ValidateToken and then passing ApplicationCookie as the authentication type to the constructor.  Is it necessary to be doing this and is there a way to change the authentication type on the original ClaimsIdentity instance without creating a new one?</li>\n<li>I cannot get the name property to be set automatically by the ValidateToken method.  The SignIn method seems to require that to be set.  To get around this I set it explicitly by pulling the name claim from the ClaimsIdentity instance created by ValidateToken (<code>ident2.AddClaim(new Claim(ClaimTypes.Name, myIdentity.FindFirstValue(\"Name\")));</code>).  Is there a claim I can pass in the payload of the JWT that will be mapped to this property automatically?</li>\n</ol>\n\n<p>Or in general is this the wrong approach to accomplish the authentication?</p>\n\n<p>The claims set of the payload for my JWT looks something like:</p>\n\n<pre><code>{\n  \"iss\": \"http://oldapp.testing.com\",\n  \"aud\": \"http://newapp.testing.com\",\n  \"sub\": \"99239\",\n  \"iat\": 1425507035,\n  \"exp\": 1425507065,\n  \"name\": \"First Last\",\n  \"role\": [\n    \"Admin\"\n  ]\n</code></pre>\n\n<p>And the C# code to process it:\n</p>\n\n<pre><code>        JwtSecurityToken tokenReceived = new JwtSecurityToken(token);\n\n        JwtSecurityTokenHandler recipientTokenHandler = new JwtSecurityTokenHandler();\n\n        byte[] keyBytes = Encoding.UTF8.GetBytes(\"someTestSecretKeyForTestingThis\");\n        if (keyBytes.Length &lt; 64 &amp;&amp; tokenReceived.SignatureAlgorithm == \"HS256\")\n        {\n            Array.Resize(ref keyBytes, 64);\n        }\n\n\n        TokenValidationParameters validationParameters = new TokenValidationParameters()\n        {\n            ValidIssuer = \"http://oldapp.testing.com\",\n            ValidAudience = \"http://newapp.testing.com\",\n            IssuerSigningToken = new BinarySecretSecurityToken(keyBytes)\n        };\n\n        try\n        {\n            SecurityToken validatedToken;\n            var principal = recipientTokenHandler.ValidateToken(token, validationParameters, out validatedToken);\n\n            // Pull out the ClaimIdentity created by ValidateToken\n            var myIdentity = principal.Identities.FirstOrDefault();\n\n            //\n            // Copy ClaimIdentity created by the ValidateToken method and change the Authentication\n            // type from Federated to Cookie\n            //\n            // Is there a better way to do this???\n            //\n            var ident2 = new ClaimsIdentity(myIdentity.Claims, DefaultAuthenticationTypes.ApplicationCookie);\n\n            //\n            // Make sure the Name claim is set correctly so that the SignIn method will work\n            //\n            // Why isn't the Name claim set automatically???\n            //\n            ident2.AddClaim(new Claim(ClaimTypes.Name, myIdentity.FindFirstValue(\"Name\")));\n\n            // Sign the user in\n            var ctx = Request.GetOwinContext();\n            var authManager = ctx.Authentication;\n            authManager.SignOut(DefaultAuthenticationTypes.ApplicationCookie);\n            authManager.SignIn(ident2);\n\n        }\n        catch (Exception ex)\n        {\n            System.Diagnostics.Debug.WriteLine(\"Exception :\" + ex.Message);\n</code></pre>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 665, "user_id": 3026431, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/72cdc4e7f5821ab62752fe2b97b530c7?s=128&d=identicon&r=PG", "display_name": "Blue0500", "link": "https://stackoverflow.com/users/3026431/blue0500"}, "edited": false, "score": 0, "creation_date": 1425510537, "post_id": 28866550, "comment_id": 45998534, "body": "Is it assumed that there will be no spaces inside of the hashes?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1425510805, "post_id": 28866550, "comment_id": 45998625, "body": "What would <code>be##matched##in##this##and##that###or#the#other#thing#</code> ? So, it looks like you left out %90 of it."}, {"owner": {"reputation": 665, "user_id": 3026431, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/72cdc4e7f5821ab62752fe2b97b530c7?s=128&d=identicon&r=PG", "display_name": "Blue0500", "link": "https://stackoverflow.com/users/3026431/blue0500"}, "edited": false, "score": 0, "creation_date": 1425511218, "post_id": 28866550, "comment_id": 45998787, "body": "Please see my edit below"}, {"owner": {"reputation": 665, "user_id": 3026431, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/72cdc4e7f5821ab62752fe2b97b530c7?s=128&d=identicon&r=PG", "display_name": "Blue0500", "link": "https://stackoverflow.com/users/3026431/blue0500"}, "edited": false, "score": 0, "creation_date": 1425512913, "post_id": 28866550, "comment_id": 45999340, "body": "@sln 89.79591836734694% to be precise :)"}], "answers": [{"comments": [{"owner": {"reputation": 1138, "user_id": 965970, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2fc7cbe22018350fb40da694c19c14a5?s=128&d=identicon&r=PG&f=1", "display_name": "jdross", "link": "https://stackoverflow.com/users/965970/jdross"}, "edited": false, "score": 0, "creation_date": 1425509310, "post_id": 28866576, "comment_id": 45998043, "body": "I tried that and get matches in between.  This entire line then matched  ##test## matches. #test#"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 1138, "user_id": 965970, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2fc7cbe22018350fb40da694c19c14a5?s=128&d=identicon&r=PG&f=1", "display_name": "jdross", "link": "https://stackoverflow.com/users/965970/jdross"}, "edited": false, "score": 0, "creation_date": 1425509966, "post_id": 28866576, "comment_id": 45998322, "body": "Please edit your question to include some concrete examples of the input strings and the desired output. It is not easy to make guesses with regexes."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 1138, "user_id": 965970, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2fc7cbe22018350fb40da694c19c14a5?s=128&d=identicon&r=PG&f=1", "display_name": "jdross", "link": "https://stackoverflow.com/users/965970/jdross"}, "edited": false, "score": 0, "creation_date": 1451753995, "post_id": 28866576, "comment_id": 56880853, "body": "I have updated the regex, it works a bit differently from the one accepted as it wouldn&#39;t match <code>#mixed#</code> in <code>#mixed##</code>."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 5, "last_activity_date": 1451754978, "last_edit_date": 1451754978, "creation_date": 1425509052, "answer_id": 28866576, "question_id": 28866550, "link": "https://stackoverflow.com/questions/28866550/regex-pattern-in-c-with-empty-space/28866576#28866576", "title": "Regex pattern in C# with empty space", "body": "<p>Please use <code>+</code> to match 1 or more symbols:</p>\n\n<p><code>#+.+#+</code></p>\n\n<p><strong>UPDATE</strong>:\nIf you want to only match substrings that are enclosed with <em>single hash symbols</em>, use:</p>\n\n<p><code>(?&lt;!#)#(?!#)[^#]+#(?!#)</code></p>\n\n<p>See <a href=\"http://regexstorm.net/tester?p=(%3F%3C!%23)%23(%3F!%23)%5B%5E%23%5D%2B%23(%3F!%23)&amp;i=%23some%20text%23%20%23%23some%20text%20inside%20double%20hashes%23%23%20%23%23%23triple%23%23%23%20%23single%20again%23%20%23mixed%23%23%20%231%23\" rel=\"nofollow\">regex demo</a></p>\n\n<p><em>Explanation</em>:</p>\n\n<ul>\n<li><code>(?&lt;!#)#(?!#)</code> - a <code>#</code> symbol that is not preceded with a <code>#</code> (due to the negative lookbehind <code>(?&lt;!#)</code>) and not followed by a <code>#</code> (due to the negative lookahead <code>(?!#)</code>)</li>\n<li><code>[^#]+</code> - one or more symbols other than <code>#</code> (due to the negated character class <code>[^#]</code>)</li>\n<li><code>#(?!#)</code> - a <code>#</code> symbol not followed with another <code>#</code> symbol.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 1138, "user_id": 965970, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2fc7cbe22018350fb40da694c19c14a5?s=128&d=identicon&r=PG&f=1", "display_name": "jdross", "link": "https://stackoverflow.com/users/965970/jdross"}, "edited": false, "score": 0, "creation_date": 1425509382, "post_id": 28866633, "comment_id": 45998074, "body": "When I ran that on this sentence from a reg ex site.  Edit the Expression &amp; Text to ##see## matches. #Roll# over matches or the expression for details.  I see this as matching ##see## matches. #"}, {"owner": {"reputation": 665, "user_id": 3026431, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/72cdc4e7f5821ab62752fe2b97b530c7?s=128&d=identicon&r=PG", "display_name": "Blue0500", "link": "https://stackoverflow.com/users/3026431/blue0500"}, "reply_to_user": {"reputation": 1138, "user_id": 965970, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2fc7cbe22018350fb40da694c19c14a5?s=128&d=identicon&r=PG&f=1", "display_name": "jdross", "link": "https://stackoverflow.com/users/965970/jdross"}, "edited": false, "score": 0, "creation_date": 1425509699, "post_id": 28866633, "comment_id": 45998200, "body": "Do you want the text between the double hash signs to show, or not come up at all?"}, {"owner": {"reputation": 1138, "user_id": 965970, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2fc7cbe22018350fb40da694c19c14a5?s=128&d=identicon&r=PG&f=1", "display_name": "jdross", "link": "https://stackoverflow.com/users/965970/jdross"}, "edited": false, "score": 0, "creation_date": 1425509811, "post_id": 28866633, "comment_id": 45998250, "body": "I need everything to show.   So for example #content# would return &quot;#content&quot;  but ## would be ignored"}, {"owner": {"reputation": 1138, "user_id": 965970, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2fc7cbe22018350fb40da694c19c14a5?s=128&d=identicon&r=PG&f=1", "display_name": "jdross", "link": "https://stackoverflow.com/users/965970/jdross"}, "edited": false, "score": 0, "creation_date": 1425510435, "post_id": 28866633, "comment_id": 45998504, "body": "Close, but still getting matches when ##match## is used fore example"}], "tags": [], "owner": {"reputation": 665, "user_id": 3026431, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/72cdc4e7f5821ab62752fe2b97b530c7?s=128&d=identicon&r=PG", "display_name": "Blue0500", "link": "https://stackoverflow.com/users/3026431/blue0500"}, "is_accepted": true, "score": 2, "last_activity_date": 1425511155, "last_edit_date": 1425511155, "creation_date": 1425509323, "answer_id": 28866633, "question_id": 28866550, "link": "https://stackoverflow.com/questions/28866550/regex-pattern-in-c-with-empty-space/28866633#28866633", "title": "Regex pattern in C# with empty space", "body": "<p>Instead of using <code>*</code> to match between zero and unlimited characters, replace it with <code>+</code>, which will only match if there is at least one character between the <code>#</code>'s. The edited regex should look like this: <code>#.+?#</code>. Hope this helps!</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Sorry for the incorrect regex, I had not expected multiple hash signs. This should work for your sentence: <code>#+.+?#+</code></p>\n\n<p><strong>Edit 2</strong></p>\n\n<p>I am pretty sure I got it. Try this: <code>(?&lt;!#)#[^#].*?#</code>. It might not work as expected with triple hashes though.</p>\n"}, {"comments": [{"owner": {"reputation": 403, "user_id": 4352008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3aa392af3c976f36971f227f9ef24a2?s=128&d=identicon&r=PG&f=1", "display_name": "scurrie", "link": "https://stackoverflow.com/users/4352008/scurrie"}, "edited": false, "score": 0, "creation_date": 1425510183, "post_id": 28866761, "comment_id": 45998413, "body": "Perhaps I didn&#39;t read your question correctly, are looking for matches on ##string## or do those need kicked out?"}], "tags": [], "owner": {"reputation": 403, "user_id": 4352008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3aa392af3c976f36971f227f9ef24a2?s=128&d=identicon&r=PG&f=1", "display_name": "scurrie", "link": "https://stackoverflow.com/users/4352008/scurrie"}, "is_accepted": false, "score": 1, "last_activity_date": 1425510001, "creation_date": 1425510001, "answer_id": 28866761, "question_id": 28866550, "link": "https://stackoverflow.com/questions/28866550/regex-pattern-in-c-with-empty-space/28866761#28866761", "title": "Regex pattern in C# with empty space", "body": "<p>Try:</p>\n\n<pre><code>[^#]?#.+#[^#]?\n</code></pre>\n\n<p>The [^ character_group] construction matches any single character not included in the character group. Using the ? after it will let you match at the beginning/end of a string (since it matches the preceeding character <strong>zero</strong> or more times. Check out the documentation <a href=\"https://msdn.microsoft.com/en-us/library/az24scfc(v=vs.110).aspx\" rel=\"nofollow\">here</a></p>\n"}], "owner": {"reputation": 1138, "user_id": 965970, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2fc7cbe22018350fb40da694c19c14a5?s=128&d=identicon&r=PG&f=1", "display_name": "jdross", "link": "https://stackoverflow.com/users/965970/jdross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 28866633, "answer_count": 3, "score": 2, "last_activity_date": 1451754978, "creation_date": 1425508959, "question_id": 28866550, "link": "https://stackoverflow.com/questions/28866550/regex-pattern-in-c-with-empty-space", "title": "Regex pattern in C# with empty space", "body": "<p>I am having issue with a reg ex expression and can't find the answer to my question.</p>\n\n<p>I am trying to build a reg ex pattern that will pull in any matches that have # around them.   for example #match# or #mt# would both come back.</p>\n\n<p>This works fine for that.  <code>#.*?#</code>\nHowever I don't want matches on ## to show up. Basically if there is nothing between the pound signs don't match.</p>\n\n<p>Hope this makes sense.\nThanks.</p>\n"}, {"tags": ["c#", "printing"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4430459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a8d73329be390c46ccacd4e66a20e36?s=128&d=identicon&r=PG&f=1", "display_name": "Shadoree", "link": "https://stackoverflow.com/users/4430459/shadoree"}, "edited": false, "score": 0, "creation_date": 1425561713, "post_id": 28866618, "comment_id": 46019347, "body": "Hey Stan your code works the first two times you run the App,but after the third time it prints randomly again, and more so it starts to print from bottom to top,at least there is an order if I only I could just make it permanent, don&#39;t care if it starts top to bottom or bottom to top as long as is one of them and is permanent"}], "tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": false, "score": 0, "last_activity_date": 1425509226, "creation_date": 1425509226, "answer_id": 28866618, "question_id": 28866504, "link": "https://stackoverflow.com/questions/28866504/printing-listbox-items-in-order-of-occurence/28866618#28866618", "title": "Printing listbox Items in order of occurence", "body": "<p>Just reverse the order of your <code>foreach</code> loops:</p>\n\n<pre><code>foreach (object item in listBox1.Items)\n{\n     foreach (string file in pdf_Files) \n     {\n         string fileName = Path.GetFileName(f);\n         if (fileName == line.ToString())\n         {\n              Pdf.PrintPDFs((file));\n         }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4430459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a8d73329be390c46ccacd4e66a20e36?s=128&d=identicon&r=PG&f=1", "display_name": "Shadoree", "link": "https://stackoverflow.com/users/4430459/shadoree"}, "edited": false, "score": 0, "creation_date": 1425512988, "post_id": 28866619, "comment_id": 45999371, "body": "H,i thanks Jim not happened when implemented your code."}, {"owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "reply_to_user": {"reputation": 1, "user_id": 4430459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a8d73329be390c46ccacd4e66a20e36?s=128&d=identicon&r=PG&f=1", "display_name": "Shadoree", "link": "https://stackoverflow.com/users/4430459/shadoree"}, "edited": false, "score": 0, "creation_date": 1425517375, "post_id": 28866619, "comment_id": 46000738, "body": "The code I showed should print the files in the order that they appear in the list box. If that&#39;s not the behavior you want, then you need to edit your question and explain more clearly what your listbox contains (in order), what your list of files contains (in order), what you expect the output to be, and what the output actually is. If you&#39;re getting an error then tell us <i>exactly</i> what the error message says, and on what line it occurs."}, {"owner": {"reputation": 1, "user_id": 4430459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a8d73329be390c46ccacd4e66a20e36?s=128&d=identicon&r=PG&f=1", "display_name": "Shadoree", "link": "https://stackoverflow.com/users/4430459/shadoree"}, "edited": false, "score": 0, "creation_date": 1425520115, "post_id": 28866619, "comment_id": 46001519, "body": "Thats exactly what I want Jim, but may be am doing something wrong with implementing it."}], "tags": [], "owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "is_accepted": false, "score": 0, "last_activity_date": 1425509236, "creation_date": 1425509236, "answer_id": 28866619, "question_id": 28866504, "link": "https://stackoverflow.com/questions/28866504/printing-listbox-items-in-order-of-occurence/28866619#28866619", "title": "Printing listbox Items in order of occurence", "body": "<p>The easy answer is to change the order of your loops. That is, change your loop to:</p>\n\n<pre><code>foreach (var item in listBox1.Items)\n{\n    var fname = item.ToString();\n    if (pdf_files.Contains(fname))\n    {\n        Pdf.PrintPDFs(fname);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4430459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a8d73329be390c46ccacd4e66a20e36?s=128&d=identicon&r=PG&f=1", "display_name": "Shadoree", "link": "https://stackoverflow.com/users/4430459/shadoree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1425520768, "creation_date": 1425508751, "last_edit_date": 1425509593, "question_id": 28866504, "link": "https://stackoverflow.com/questions/28866504/printing-listbox-items-in-order-of-occurence", "title": "Printing listbox Items in order of occurence", "body": "<p>I have an application that I have built and is just sort of printing app.\nFirst I populate ListBox and format it then goto c:\\somefolder\nin some folder are pdf files it looks on listbox and see if there is any file name that matches an item on the listbox and sends it to the default printer.Everything is working great ,but say I have JohnDoe.pdf,ShahRukh.pdf,Vijay.pdf\nhow can I make it to send the files in that order, for now it works great ,but I want to be able to print ==> JohnDoe.pdf first, then ShahRukh.pdf and so on and so forth.Please if you have any idea to spare is much welcome.\nThanks in advance. This what I have right now it works great but print all items that match but randomly .I want it to respond or print matches in order of occurrence from top to bottom.</p>\n\n<pre><code>public class Pdf\n{\n    public static Boolean PrintPDFs(string pdfFileName)\n    {\n        try\n        {\n            ProcessStartInfo stackOverflowHelp = new ProcessStartInfo();\n            stackOverflowHelp.Verb = \"print\";\n            stackOverflowHelp.FileName = pdfFileName;\n            stackOverflowHelp.CreateNoWindow = true;\n            stackOverflowHelp.WindowStyle = ProcessWindowStyle.Hidden;\n\n            Process gamingBoy = new Process();\n            gamingBoy.StartInfo = stackOverflowHelp;\n            gamingBoy.Start();\n            gamingBoy.WaitForInputIdle();\n\n            if (gamingBoy.HasExited == false)\n            {\n                gamingBoy.WaitForExit(20000);\n                //return true;\n            }\n            //  System.Threading.Thread.Sleep(1000);\n            gamingBoy.EnableRaisingEvents = true;\n            gamingBoy.Close();\n            //  return true;\n            //proc.Close();\n            //KillAdobe(\"AcroRd32\");\n            return true;\n        }\n        catch\n        {\n            return false;\n        }\n    }\n\nprivate void button2_Click(object sender, EventArgs e)\n{\n    string dir = @\"C:\\slim\\slimyyyy\";//\n    if (Directory.Exists(dir))//If a directory defined above exists then do the followings\n    {\n        string[] pdf_Files = Directory.GetFiles(dir);\n        if (pdf_Files.Length &gt; 0)\n        {\n            foreach (string file in pdf_Files) \n            {\n                string fileName = Path.GetFileName(file);\n                foreach (object item in listBox1.Items)\n                {\n                    if (fileName == line.ToString())\n                    {\n                        Pdf.PrintPDFs((file));\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "upload", "ftp", "dotnetnuke"], "comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1425508321, "post_id": 28866335, "comment_id": 45997637, "body": "It is quite confusing what you trying to do... Are you trying to upload files from server to other FTP server OR you trying to upload file from browser via your IIS server to external FTP server?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1425508376, "post_id": 28866335, "comment_id": 45997671, "body": "Side note: &quot;asp-classic&quot; is unlikely correct tag for your post. Probably &quot;ASP.Net&quot; + &quot;WebForms&quot; - please edit if it is the case."}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 1564533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JDwPc.jpg?s=128&g=1", "display_name": "Blue Bamboo", "link": "https://stackoverflow.com/users/1564533/blue-bamboo"}, "edited": false, "score": 0, "creation_date": 1425934336, "post_id": 28872235, "comment_id": 46156848, "body": "That path is the server path even I loaded the file from my local PC but it tried to look into the server one. I think my hosting provider does not allow me to use FTP to transfer to another server using ftp."}, {"owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "reply_to_user": {"reputation": 127, "user_id": 1564533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JDwPc.jpg?s=128&g=1", "display_name": "Blue Bamboo", "link": "https://stackoverflow.com/users/1564533/blue-bamboo"}, "edited": false, "score": 0, "creation_date": 1425971744, "post_id": 28872235, "comment_id": 46168714, "body": "I think you do not understand my answer. I know that <code>C:\\Windows\\SysWOW64\\inetsrv\\Test.mp3</code> is a server-path. I think that in your case the <code>HttpPostedFile.FileName</code> is &quot;Test.mp3&quot;. As that&#39;s not an absolute path, the current working directory (presumably &quot;C:\\Windows\\SysWOW64\\inetsrv&quot;) is assumed. Your problem is definitely not related to your hosting provider blocking FTP. You didn&#39;t even got as far yet."}, {"owner": {"reputation": 127, "user_id": 1564533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JDwPc.jpg?s=128&g=1", "display_name": "Blue Bamboo", "link": "https://stackoverflow.com/users/1564533/blue-bamboo"}, "edited": false, "score": 0, "creation_date": 1426045038, "post_id": 28872235, "comment_id": 46206988, "body": "I am sorry but I tried what you suggested (maybe not quite?) and here is the code:     HttpPostedFile fileStream = FileUpload1.PostedFile;     using (var requestStream = request.GetRequestStream())     {     fileStream.InputStream.CopyTo(requestStream);     requestStream.Close();     } Again, I tested and it worked with my local PC but it gave me the error when put on the server: InnerMessage:Unable to connect to the remote server"}, {"owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "reply_to_user": {"reputation": 127, "user_id": 1564533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JDwPc.jpg?s=128&g=1", "display_name": "Blue Bamboo", "link": "https://stackoverflow.com/users/1564533/blue-bamboo"}, "edited": false, "score": 0, "creation_date": 1426058199, "post_id": 28872235, "comment_id": 46211092, "body": "You are possibly not allowed to connect to the FTP server from the Web server. But that&#39;s a different issue, right? I believe this topic is resolved."}, {"owner": {"reputation": 127, "user_id": 1564533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JDwPc.jpg?s=128&g=1", "display_name": "Blue Bamboo", "link": "https://stackoverflow.com/users/1564533/blue-bamboo"}, "edited": false, "score": 0, "creation_date": 1426128923, "post_id": 28872235, "comment_id": 46249931, "body": "I think you are right. This is not an issue as I don&#39;t have permission to connect to another server from my current server."}], "tags": [], "owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "is_accepted": false, "score": 0, "last_activity_date": 1534776724, "last_edit_date": 1534776724, "creation_date": 1425540391, "answer_id": 28872235, "question_id": 28866335, "link": "https://stackoverflow.com/questions/28866335/ftp-file-uploaded-to-asp-page/28872235#28872235", "title": "FTP file uploaded to ASP page", "body": "<p>The <code>HttpPostedFile.FileName</code> is a <em>\"fully qualified name of the file on the <strong>client</strong>\"</em>.</p>\n\n<p>And I believe most web browsers actually provide a file name only, without any path. So you get <code>Test.mp3</code> only, and when you try to use such \"relative\" path locally on the server, it gets resolved to a current working directory of the web server, what is the <code>C:\\Windows\\SysWOW64\\inetsrv</code>.</p>\n\n<p>Instead, access an uploaded contents directly using <code>HttpPostedFile.InputStream</code> (copy that to <code>GetRequestStream</code>).</p>\n\n<p>See <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.httppostedfile\" rel=\"nofollow noreferrer\"><code>HttpPostedFile</code> documentation</a>.</p>\n"}], "owner": {"reputation": 127, "user_id": 1564533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JDwPc.jpg?s=128&g=1", "display_name": "Blue Bamboo", "link": "https://stackoverflow.com/users/1564533/blue-bamboo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 752, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534776724, "creation_date": 1425508047, "last_edit_date": 1425540487, "question_id": 28866335, "link": "https://stackoverflow.com/questions/28866335/ftp-file-uploaded-to-asp-page", "title": "FTP file uploaded to ASP page", "body": "<p>I have seen some answers similar to my question but still could not figure out.</p>\n\n<p>I am using the code below for a user to upload an MP3 file (I am using FTP) and it worked fine with local host (simple WinForm app) but it threw the error when using remote server (remote DNN site): </p>\n\n<blockquote>\n  <p>System.IO.FileNotFoundException: Could not find file 'C:\\Windows\\SysWOW64\\inetsrv\\Test.mp3'.</p>\n</blockquote>\n\n<p>I know that if the <code>test.mp3</code> file is in this server location then it should work but it was actually in my <code>C:\\Temp\\Test.mp3</code> path. I think the <code>FileUpload1</code> did not give the correct file path. How can I fix this?</p>\n\n<pre><code>protected void btnUpload_Click(object sender, EventArgs e)\n{\n    string url = System.Configuration.ConfigurationManager.AppSettings[\"FTPUrl\"].ToString();\n    string username = System.Configuration.ConfigurationManager.AppSettings[\"FTPUserName\"].ToString();\n    string password = System.Configuration.ConfigurationManager.AppSettings[\"FTPPassWord\"].ToString();\n\n    string filePath = FileUpload1.PostedFile.FileName;\n    if (filePath != String.Empty)\n        UploadFileToFtp(url, filePath, username, password);\n}\n\npublic static void UploadFileToFtp(string url, string filePath, string username, string password)\n{\n    var fileName = Path.GetFileName(filePath);\n    var request = (FtpWebRequest)WebRequest.Create(url + fileName);\n\n    request.Method = WebRequestMethods.Ftp.UploadFile;\n    request.Credentials = new NetworkCredential(username, password);\n    request.UsePassive = true;\n    request.UseBinary = true;\n    request.KeepAlive = false;\n\n    using (var fileStream = File.OpenRead(filePath))\n    {\n        using (var requestStream = request.GetRequestStream())\n        {\n            fileStream.CopyTo(requestStream);\n            requestStream.Close();\n        }\n    }\n\n    var response = (FtpWebResponse)request.GetResponse();\n    Console.WriteLine(\"Upload done: {0}\", response.StatusDescription);\n    response.Close();\n}\n</code></pre>\n"}, {"tags": ["c#", "vb6", "vb6-migration"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425507974, "post_id": 28866265, "comment_id": 45997468, "body": "so I have a few questions but will try to keep them brief and simple.. 1. Can the VB6 legacy code be converted to C# or VB.NET 2. If you can convert the code to VB.NET you can still reference the VB.Net assemblies by adding <code>using Microsoft.VisualBasic</code> to the C# Class header ... If that&#39;s not an option then I would look up how to export dll functions or google how to call vb6 dll in C#"}, {"owner": {"reputation": 3350, "user_id": 217239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7a5cd5e29666bd220d57aa1ea50c3cd?s=128&d=identicon&r=PG&f=1", "display_name": "WorkSmarter", "link": "https://stackoverflow.com/users/217239/worksmarter"}, "edited": false, "score": 1, "creation_date": 1425508057, "post_id": 28866265, "comment_id": 45997504, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/8192403/upgrade-program-for-converting-vb6-app-to-c-sharp\">upgrade program for converting vb6 app to C#</a>"}, {"owner": {"reputation": 2334, "user_id": 2360972, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7d8bd013c172c4097cfdae6e3df4fc6b?s=128&d=identicon&r=PG", "display_name": "Chief Wiggum", "link": "https://stackoverflow.com/users/2360972/chief-wiggum"}, "edited": false, "score": 3, "creation_date": 1425508154, "post_id": 28866265, "comment_id": 45997554, "body": "When you are trying to retire the VB6 app, why keep it around and try to control it? If there&#39;s some complex business logic you might be able to move it to a separate VB.net assembly and then reference that from your c# application. Moving code from VB6 to VB.net is widely documented an can, depending on the original code, a strait forward process. My suggestion is to either really retire the application/throw it away, or keep it, but don&#39;t start mixing it..."}, {"owner": {"reputation": 947, "user_id": 4244165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8a64dee69a12eb6f9be749ba00b2c89?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Krojer", "link": "https://stackoverflow.com/users/4244165/thomas-krojer"}, "edited": false, "score": 3, "creation_date": 1425536950, "post_id": 28866265, "comment_id": 46006076, "body": "A few years ago we faced the same challenge: We decided to make it a hybrid application: we made the VB6 application a dll (ok, 5 dll&#180;s), and at this point we had only an empty C# &quot;Startup&quot; form. Form by form, we wrote it new from scratch. Hard but possible (most important start hint: make the C# a target x86)"}], "answers": [{"tags": [], "owner": {"reputation": 29192, "user_id": 15639, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1f3ce1ae1497058e8efd34a05dbdee22?s=128&d=identicon&r=PG", "display_name": "MarkJ", "link": "https://stackoverflow.com/users/15639/markj"}, "is_accepted": false, "score": 1, "last_activity_date": 1425557573, "last_edit_date": 1495542716, "creation_date": 1425557573, "answer_id": 28877624, "question_id": 28866265, "link": "https://stackoverflow.com/questions/28866265/communication-b-w-c-and-vb6-app/28877624#28877624", "title": "Communication b/w c# and vb6 App", "body": "<p>This can be a good idea if the VB6 code is too large to completely rewrite from scratch. You can split the VB6 into separate DLLs and then replace the DLLs piecemeal with C# DLLs using COM-interop so that VB6 and C# talk to each other. </p>\n\n<p>For instance have a look at some of the answers to <a href=\"https://stackoverflow.com/questions/2101950/how-to-migrate-ugly-and-undocumented-vb6-code-to-net\">this question</a> </p>\n"}], "owner": {"reputation": 69, "user_id": 3019909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/085d1bf3b185daaa52f673298baeeddf?s=128&d=identicon&r=PG&f=1", "display_name": "CuriousRK", "link": "https://stackoverflow.com/users/3019909/curiousrk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1425557573, "creation_date": 1425507775, "last_edit_date": 1425557393, "question_id": 28866265, "link": "https://stackoverflow.com/questions/28866265/communication-b-w-c-and-vb6-app", "title": "Communication b/w c# and vb6 App", "body": "<p>We have legacy VB6 Application and we are trying to move this to C#. As phase one we have created starting Form in C#(with similar controls) and want this C# app to communicate with VB6 starting form so that when user clicks on c# form it will initiate button click event on VB6 Starting form(which we wants it to be hidden) \n They both share same database, could some one please give me an idea about how we can achieve this or is there any other way. Thanks</p>\n"}, {"tags": ["c#", "asp.net", "cookies", "httpcookie"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425507896, "post_id": 28866250, "comment_id": 45997432, "body": "do you have a time or date for how long the cookie should be active and or deleted..? take a look here <a href=\"https://msdn.microsoft.com/en-us/library/system.net.cookie.expires(VS.80).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}, {"owner": {"reputation": 15, "user_id": 3830917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a36415f94dfc53d05acbfcba92707fbc?s=128&d=identicon&r=PG&f=1", "display_name": "HorribleScripter", "link": "https://stackoverflow.com/users/3830917/horriblescripter"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425576024, "post_id": 28866250, "comment_id": 46028764, "body": "@MethodMan I believe I did that in code 1, line 48 to 56"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 3830917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a36415f94dfc53d05acbfcba92707fbc?s=128&d=identicon&r=PG&f=1", "display_name": "HorribleScripter", "link": "https://stackoverflow.com/users/3830917/horriblescripter"}, "edited": false, "score": 0, "creation_date": 1425575772, "post_id": 28866356, "comment_id": 46028612, "body": "That code does evaluate to true on the first run. But on the 2nd run the value is null. the cookie is new and the date it spits out is 01/jan/01. The expiry is also set to that."}], "tags": [], "owner": {"reputation": 1021, "user_id": 1321976, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JESkZ.png?s=128&g=1", "display_name": "gimg1", "link": "https://stackoverflow.com/users/1321976/gimg1"}, "is_accepted": false, "score": 0, "last_activity_date": 1425508134, "creation_date": 1425508134, "answer_id": 28866356, "question_id": 28866250, "link": "https://stackoverflow.com/questions/28866250/httpcookie-gets-deleted-for-unknown-reason/28866356#28866356", "title": "HttpCookie gets deleted for unknown reason", "body": "<p>Within the <code>userRoleRedirect</code> (<a href=\"http://pastebin.com/c2Jy7zQ1\" rel=\"nofollow\">http://pastebin.com/c2Jy7zQ1</a>) you are making the following conditional check:</p>\n\n<pre><code>else if (ckDateTime.CompareTo(DateTime.Now) &gt; 0)\n</code></pre>\n\n<p>You need to check if this will ever evaluate to true. I suspect that the cookie expiry time means that the difference between <code>Now</code> and the cookie expiry time does not add up to greater than 0. The culprit bug could lie in the following code which parses the expiry time:</p>\n\n<pre><code> DateTime.TryParseExact(myCookie.Values[\"LogoutTimer\"], DTFormat,\n                CultureInfo.InvariantCulture, DateTimeStyles.AssumeLocal, out ckDateTime);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 3830917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a36415f94dfc53d05acbfcba92707fbc?s=128&d=identicon&r=PG&f=1", "display_name": "HorribleScripter", "link": "https://stackoverflow.com/users/3830917/horriblescripter"}, "is_accepted": true, "score": 0, "last_activity_date": 1425673587, "last_edit_date": 1495541574, "creation_date": 1425665114, "answer_id": 28904887, "question_id": 28866250, "link": "https://stackoverflow.com/questions/28866250/httpcookie-gets-deleted-for-unknown-reason/28904887#28904887", "title": "HttpCookie gets deleted for unknown reason", "body": "<p>This answer has already been answered here: <a href=\"https://stackoverflow.com/questions/7510327/cookie-values-disappear-when-traversing-between-content-pages\">cookie values disappear when traversing between content pages </a></p>\n\n<p>I added this code into the first line of userRoleRedirect</p>\n\n<pre><code>if (Request.Cookies[\"Session\"] != null)\n{\n    Response.Cookies.Set(Request.Cookies[\"Session\"]);\n}\n</code></pre>\n\n<p>and <code>HttpCookie myCookie = Request.Cookies[\"Session\"];</code> <br />\nto\n<code>var myCookie = Request.Cookies[\"Session\"].Values;</code> <br />\nI fetch values using <br /><code>myCookie[\"ValueName\"]</code> <br />\nIt returns a string.</p>\n"}], "owner": {"reputation": 15, "user_id": 3830917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a36415f94dfc53d05acbfcba92707fbc?s=128&d=identicon&r=PG&f=1", "display_name": "HorribleScripter", "link": "https://stackoverflow.com/users/3830917/horriblescripter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "closed_date": 1425665394, "accepted_answer_id": 28904887, "answer_count": 2, "score": 0, "last_activity_date": 1425673587, "creation_date": 1425507694, "question_id": 28866250, "link": "https://stackoverflow.com/questions/28866250/httpcookie-gets-deleted-for-unknown-reason", "closed_reason": "Duplicate", "title": "HttpCookie gets deleted for unknown reason", "body": "<p>Alright, so. For some reason, this cookie is getting deleted/overwritten. <br />\nIt does exists for awhile. well, for one cycle of Code 2, but when code 2 is called again VIA a page load, it doesnt contain my data. <br />\nWhat the cookie contains is a encoded session ID which is used to determine who that user is and if they are an Admin or not. <br />\nand if it doesnt have the sessionID to use to compare, it directs the user to the login page.</p>\n\n<p>Assume the User Role is set to 1.</p>\n\n<p>Code 1: <a href=\"http://pastebin.com/rfP7se0x\" rel=\"nofollow\">http://pastebin.com/rfP7se0x</a> <br />\nCode 2: <a href=\"http://pastebin.com/c2Jy7zQ1\" rel=\"nofollow\">http://pastebin.com/c2Jy7zQ1</a> (stripped allot of code not pertaining to cookies.) <br />\nCode 3:<br /></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Web.UI;\nusing System.Web.UI.WebControls;\n\nnamespace FormsAuthenticateProject.Customer\n{\n    public partial class Customer : System.Web.UI.MasterPage\n    {\n        protected void Page_Load(object sender, EventArgs e)\n        {\n            if (!Page.IsPostBack)\n            {\n                DBConnLayer DBCL = new DBConnLayer();\n                DBCL.userRoleRedirect();\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1425508870, "post_id": 28866226, "comment_id": 45997862, "body": "Please be more clear about where you are running into trouble"}, {"owner": {"reputation": 59, "user_id": 3329371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed21d8a5f97c63a0d861b3812e31b630?s=128&d=identicon&r=PG&f=1", "display_name": "Amazinjoey", "link": "https://stackoverflow.com/users/3329371/amazinjoey"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1425509393, "post_id": 28866226, "comment_id": 45998079, "body": "@BradleyDotNET The problem im facing is I dont know howto print out my values such as CalcFuelConsumptionPerKm() in a Textbox by using a button"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1425509644, "post_id": 28866226, "comment_id": 45998180, "body": "Want to show your guess? I&#39;d rather help you understand it than just give you the one line answer"}, {"owner": {"reputation": 59, "user_id": 3329371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed21d8a5f97c63a0d861b3812e31b630?s=128&d=identicon&r=PG&f=1", "display_name": "Amazinjoey", "link": "https://stackoverflow.com/users/3329371/amazinjoey"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1425509833, "post_id": 28866226, "comment_id": 45998263, "body": "@BradleyDotNET Sure! :) I would rather have an explaination too fully grasp what I&#39;m suppose too do , as I&#39;m still a beginner to winforms , because I&#39;ve been googling like a mainac and could find any good guide or example of my problem"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1425510331, "post_id": 28866226, "comment_id": 45998462, "body": "Ok, then show what code you <i>think</i> should work"}, {"owner": {"reputation": 59, "user_id": 3329371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed21d8a5f97c63a0d861b3812e31b630?s=128&d=identicon&r=PG&f=1", "display_name": "Amazinjoey", "link": "https://stackoverflow.com/users/3329371/amazinjoey"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1425510986, "post_id": 28866226, "comment_id": 45998699, "body": "@BradleyDotNET   CalcConsumptionPerMetricMile() , CalcConsumptionKilometerPerSweMil() , CalcConsumptionKilometerPerLiter() , CalcCostPerKm() should work and   would need to be outputed to each TextBox(X)_TextChanged  and using (double.TryParse?) or using  choose ( textBoxX.Text?)  , here is where I get stuck"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 3329371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed21d8a5f97c63a0d861b3812e31b630?s=128&d=identicon&r=PG&f=1", "display_name": "Amazinjoey", "link": "https://stackoverflow.com/users/3329371/amazinjoey"}, "edited": false, "score": 0, "creation_date": 1425513930, "post_id": 28867324, "comment_id": 45999663, "body": "Thanks for the tips! :) I understand it abit better now how to get it in realtime and I should be able to just att the update result method in button click later too just update everything.  I&#39;m getting some parsing errors but I should be able too get past them :) Thanks again for all the help Ill write here incase I get stuck again !"}, {"owner": {"reputation": 59, "user_id": 3329371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed21d8a5f97c63a0d861b3812e31b630?s=128&d=identicon&r=PG&f=1", "display_name": "Amazinjoey", "link": "https://stackoverflow.com/users/3329371/amazinjoey"}, "edited": false, "score": 0, "creation_date": 1425518139, "post_id": 28867324, "comment_id": 46000941, "body": "Okey I&#39;ve tried and changed asmuch as possible and got everything working except  , which give me an error that I can&#39;t convert String to double so I&#39;m forced to do a parse to string which make anything over 1 become INF in the output :/                                                                                          private void UpdateResult() {     TextBox3.Text =Convert.ToString(fc.CalcConsumptionKilometerPerLiter());     //All the others }"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 59, "user_id": 3329371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed21d8a5f97c63a0d861b3812e31b630?s=128&d=identicon&r=PG&f=1", "display_name": "Amazinjoey", "link": "https://stackoverflow.com/users/3329371/amazinjoey"}, "edited": false, "score": 0, "creation_date": 1425518188, "post_id": 28867324, "comment_id": 46000958, "body": "First rule of debugging: &quot;It doesn&#39;t work&quot; is not a problem statement. <b>What</b> doesn&#39;t work? What errors do you get? Did it just punch you in the face?"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 59, "user_id": 3329371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed21d8a5f97c63a0d861b3812e31b630?s=128&d=identicon&r=PG&f=1", "display_name": "Amazinjoey", "link": "https://stackoverflow.com/users/3329371/amazinjoey"}, "edited": false, "score": 0, "creation_date": 1425518436, "post_id": 28867324, "comment_id": 46001034, "body": "Yeah, it will do that. You shoudn&#39;t need <code>Convert</code>, just do <code>fc.CalcConsumptionKilometerPerLiter().ToString()</code> I&#39;ll update my answer to include that. Been a while for me and WinForms, WPF does that call for you. Sorry for the mistake"}, {"owner": {"reputation": 59, "user_id": 3329371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed21d8a5f97c63a0d861b3812e31b630?s=128&d=identicon&r=PG&f=1", "display_name": "Amazinjoey", "link": "https://stackoverflow.com/users/3329371/amazinjoey"}, "edited": false, "score": 0, "creation_date": 1425518704, "post_id": 28867324, "comment_id": 46001103, "body": "I&#39;ve tried that before I tried the convert , but I get the error INF on both :("}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 59, "user_id": 3329371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed21d8a5f97c63a0d861b3812e31b630?s=128&d=identicon&r=PG&f=1", "display_name": "Amazinjoey", "link": "https://stackoverflow.com/users/3329371/amazinjoey"}, "edited": false, "score": 0, "creation_date": 1425518776, "post_id": 28867324, "comment_id": 46001118, "body": "@Amazinjoey Is the value you are getting any good? I would check that first. <code>ToString</code> for a double is pretty simple, so that shouldn&#39;t be the problem. The bug is probably in one of your calculations"}, {"owner": {"reputation": 59, "user_id": 3329371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed21d8a5f97c63a0d861b3812e31b630?s=128&d=identicon&r=PG&f=1", "display_name": "Amazinjoey", "link": "https://stackoverflow.com/users/3329371/amazinjoey"}, "edited": false, "score": 0, "creation_date": 1425519297, "post_id": 28867324, "comment_id": 46001265, "body": "@BradleyDonNET , You&#39;re amazing! Thanks for the help , I found the bug and it&#39;s in previous value , Ill try too fix it  :)"}], "tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": true, "score": 1, "last_activity_date": 1425518448, "last_edit_date": 1425518448, "creation_date": 1425512632, "answer_id": 28867324, "question_id": 28866226, "link": "https://stackoverflow.com/questions/28866226/output-to-textbox-and-improving-the-code/28867324#28867324", "title": "Output to textbox and improving the code", "body": "<p>If you want everything to update in realtime (which it sounds like you do) I would have a \"UpdateResult\" method that sets all the \"output\" text box's text properties:</p>\n\n<pre><code>private void UpdateResult()\n{\n    TextBox3.Text = fc.CalcConsumptionKilometerPerLiter().ToString();\n    //All the others\n}\n</code></pre>\n\n<p>And invoke that once you have validated the user's input in the \"TextChanged\" events. For example:</p>\n\n<pre><code>    private void TextBox1_TextChanged(object sender, EventArgs e)\n    {\n        if (TextBox1.Text.Trim() != \"\")\n        {\n            try\n            {\n                obedomitor = Convert.ToDouble(TextBox1.Text.Trim());\n                fc.SetCurrentReading(obedomitor);\n\n                UpdateResults();\n            }\n            catch\n            {\n                MessageBox.Show(\"Please enter a valid number\");\n                TextBox1.Text = \"\";\n            }\n\n        }\n    }\n</code></pre>\n\n<p>A couple quick notes since you are learning:</p>\n\n<ul>\n<li>TextBoxX is <em>not</em> a good naming convention. Give your controls <em>descriptive</em> names</li>\n<li>Since you mentioned it in a comment, <code>double.TryParse</code> is used for converting inputted strings into numbers. It shouldn't be involved in your output</li>\n<li>Instead of using <code>.Trim != \"\"</code>, you could just use <code>!String.IsWhitespaceOrEmpty</code>. It reads a lot better :)</li>\n<li>If you expect user error, exceptions are <strong>expensive</strong>. Use <code>double.TryParse</code> instead of <code>Convert.ToDouble</code> (which really uses <code>double.Parse</code>) so you can have a safer, non-throwing check for user input.</li>\n</ul>\n"}], "owner": {"reputation": 59, "user_id": 3329371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed21d8a5f97c63a0d861b3812e31b630?s=128&d=identicon&r=PG&f=1", "display_name": "Amazinjoey", "link": "https://stackoverflow.com/users/3329371/amazinjoey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 28867324, "answer_count": 1, "score": 1, "last_activity_date": 1425518448, "creation_date": 1425507627, "last_edit_date": 1425510019, "question_id": 28866226, "link": "https://stackoverflow.com/questions/28866226/output-to-textbox-and-improving-the-code", "title": "Output to textbox and improving the code", "body": "<p>So I'm learning C# and just hit the Forms section and it's not going aswell as I hoped and Im feeling as my code isn't properly written.\nIm also having problems figuring out how to output my calculated varible Im writting in with a button press.</p>\n\n<p>What im asking for : Help with outputing my calculation from CalcFuelConsumptionPerKm() for example too a uneditible textbox by pressing a button </p>\n\n<p>Also thanks for editing and helping out a beginner like me! You guys are awesome!</p>\n\n<p><a href=\"http://i.imgur.com/fcvV0yH.png\" rel=\"nofollow\">http://i.imgur.com/fcvV0yH.png</a> > how Winform looks</p>\n\n<p>Winform :</p>\n\n<pre><code>    namespace WindowsFormsApplication1\n     {\n    public partial class Form1 : Form\n    {\n        double obedomitor, fuel, price , oldvalue;\n        Fuel fc;\n        public Form1()\n        {\n            InitializeComponent();\n            fc = new Fuel();\n        }\n\n        private void GroupBox1_Enter(object sender, EventArgs e)\n        {\n\n        }\n\n        private void TextBox1_TextChanged(object sender, EventArgs e)\n        {\n            if (TextBox1.Text.Trim() != \"\")\n            {\n                try\n                {\n                    obedomitor = Convert.ToDouble(TextBox1.Text.Trim());\n                    fc.SetCurrentReading(obedomitor);\n                }\n                catch\n                {\n                    MessageBox.Show(\"Please enter a valid number\");\n                    TextBox1.Text = \"\";\n                }\n\n            }\n        }\n\n        private void TextBox2_TextChanged(object sender, EventArgs e)\n        {\n            if (TextBox2.Text.Trim() != \"\")\n            {\n                try\n                {\n                    oldvalue = Convert.ToDouble(TextBox1.Text.Trim());\n                    fc.setPreviousReading(oldvalue);\n\n                }\n                catch\n                {\n                    MessageBox.Show(\"Please enter a valid number\");\n                    TextBox2.Text = \"\";\n                }\n\n            }\n        }\n\n        private void Button1_Click(object sender, EventArgs e)\n        {\n\n        }\n\n        private void TextBox3_TextChanged(object sender, EventArgs e)\n        {\n            if (TextBox3.Text.Trim() != \"\")\n            {\n                try\n                {\n                    fuel = Convert.ToDouble(TextBox3.Text.Trim());\n                    fc.SetFuelAmount(fuel);\n                }\n                catch\n                {\n                    MessageBox.Show(\"Please enter a valid number\");\n                    TextBox1.Text = \"\";\n                }\n\n            }\n        }\n\n        private void TextBox4_TextChanged(object sender, EventArgs e)\n        {\n            if (TextBox4.Text.Trim() != \"\")\n            {\n                try\n                {\n                    price = Convert.ToDouble(TextBox4.Text.Trim());\n                    fc.setUnitPrice(price);\n                }\n                catch\n                {\n                    MessageBox.Show(\"Please enter a valid number\");\n                    TextBox1.Text = \"\";\n                }\n\n            }\n        }\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n\n        }\n\n        private void TextBox5_TextChanged(object sender, EventArgs e)\n        {\n\n        }\n\n        private void TextBox7_TextChanged(object sender, EventArgs e)\n        {\n\n        }\n    }\n   }\n</code></pre>\n\n<p>My other class :</p>\n\n<pre><code>      namespace WindowsFormsApplication1\n     {\n      class Fuel\n    {\n\n        double CurrentCal; \n        double FuelAmount;\n        double PreReading;\n        double unitPrice;\n        double km;\n        public  void Fuelcalculator()\n        {\n            GetPreviousReading();\n        }\n        public double CalcConsumptionKilometerPerLiter()\n        {\n            km = CurrentCal - PreReading;\n            double litPerKm = FuelAmount / km;\n            return litPerKm;\n        }\n        public double CalcConsumptionPerMetricMile()\n        {\n            const double kmToMileFactor = 0.621371192;\n            double litPerKm = CalcConsumptionKilometerPerLiter();\n            double litPerMetricMile = litPerKm / kmToMileFactor;\n            return litPerMetricMile;\n\n        }\n\n        public double CalcCostPerKm()\n        {\n            double cost = (FuelAmount / km) * unitPrice;\n            return cost;\n\n        }\n        public double CalcFuelConsumptionPerKm()\n        {\n            double consumption = FuelAmount / km;\n            return consumption;\n\n        }\n        public double CalcConsumptionKilometerPerSweMil()\n        {\n            double literPerMil = CalcConsumptionKilometerPerLiter();\n            literPerMil = literPerMil*10;\n            return literPerMil;\n\n        }\n        public double GetCurrentReading()\n        {\n            return CurrentCal;\n\n        }\n        public double GetFuelAmount()\n        {\n            return FuelAmount;\n\n        }\n        public double GetPreviousReading()\n        {\n            double previous = CurrentCal;\n            return previous;\n\n        }\n        public double UnitPrice()\n        {\n            return unitPrice;\n\n        }\n        public void SetCurrentReading(double newValue)\n        {\n            CurrentCal = newValue;\n        }\n        public void SetFuelAmount(double newValue)\n        {\n            FuelAmount = newValue;\n        }\n        public void setPreviousReading(double newValue)\n        {\n            PreReading = newValue;\n        }\n        public void setUnitPrice(double newValue)\n        {\n            unitPrice = newValue;\n        }\n    }\n }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "windows-7", ".net-4.0"], "comments": [{"owner": {"reputation": 2138, "user_id": 388158, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/nGdB2.jpg?s=128&g=1", "display_name": "JustSomeGuy", "link": "https://stackoverflow.com/users/388158/justsomeguy"}, "edited": false, "score": 0, "creation_date": 1425507610, "post_id": 28866161, "comment_id": 45997283, "body": "You are probably doing some shenanigans with foreground threads."}, {"owner": {"reputation": 649, "user_id": 2842827, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e14f6cc2a63aaae7fb89879de9f0718?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2842827/alex"}, "reply_to_user": {"reputation": 2138, "user_id": 388158, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/nGdB2.jpg?s=128&g=1", "display_name": "JustSomeGuy", "link": "https://stackoverflow.com/users/388158/justsomeguy"}, "edited": false, "score": 0, "creation_date": 1425507668, "post_id": 28866161, "comment_id": 45997310, "body": "Can you please elaborate? I&#39;m not sure what that means"}, {"owner": {"reputation": 2138, "user_id": 388158, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/nGdB2.jpg?s=128&g=1", "display_name": "JustSomeGuy", "link": "https://stackoverflow.com/users/388158/justsomeguy"}, "edited": false, "score": 0, "creation_date": 1425507737, "post_id": 28866161, "comment_id": 45997353, "body": "You are probably doing computation-bound tasks on ui thread instead of working thread quite often, which prevents application from responding to operating system in time."}], "answers": [{"comments": [{"owner": {"reputation": 649, "user_id": 2842827, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e14f6cc2a63aaae7fb89879de9f0718?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2842827/alex"}, "edited": false, "score": 0, "creation_date": 1425508423, "post_id": 28866231, "comment_id": 45997690, "body": "I think that makes sense to me.  My program is doing a lot of database work.  I had originally developed this with winforms and as my first WPF project copied all of my classes into a WPF and created some dispatchtimers.  So from what you wrote, the proper way to develop a WPF app is to have all of the work done on a separate thread from the UI?"}, {"owner": {"reputation": 520473, "user_id": 65358, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/87b3a4c585e6fd2ad5308e15e12bdc36?s=128&d=identicon&r=PG", "display_name": "Reed Copsey", "link": "https://stackoverflow.com/users/65358/reed-copsey"}, "reply_to_user": {"reputation": 649, "user_id": 2842827, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e14f6cc2a63aaae7fb89879de9f0718?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2842827/alex"}, "edited": false, "score": 0, "creation_date": 1425513458, "post_id": 28866231, "comment_id": 45999535, "body": "@AlexB Yes, though that&#39;s also true in Windows Forms.  If you did it in the main thread there, you&#39;d get the same problem."}, {"owner": {"reputation": 649, "user_id": 2842827, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e14f6cc2a63aaae7fb89879de9f0718?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2842827/alex"}, "edited": false, "score": 0, "creation_date": 1425582694, "post_id": 28866231, "comment_id": 46032704, "body": "Is it ok to have a lot of database functions and other background work on 4 separate dispatchertimers running on the UI thread?"}, {"owner": {"reputation": 520473, "user_id": 65358, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/87b3a4c585e6fd2ad5308e15e12bdc36?s=128&d=identicon&r=PG", "display_name": "Reed Copsey", "link": "https://stackoverflow.com/users/65358/reed-copsey"}, "reply_to_user": {"reputation": 649, "user_id": 2842827, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e14f6cc2a63aaae7fb89879de9f0718?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2842827/alex"}, "edited": false, "score": 1, "creation_date": 1425592264, "post_id": 28866231, "comment_id": 46038024, "body": "@AlexB That&#39;ll cause them to lock up the UI, and make this behavior."}], "tags": [], "owner": {"reputation": 520473, "user_id": 65358, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/87b3a4c585e6fd2ad5308e15e12bdc36?s=128&d=identicon&r=PG", "display_name": "Reed Copsey", "link": "https://stackoverflow.com/users/65358/reed-copsey"}, "is_accepted": true, "score": 1, "last_activity_date": 1425507639, "creation_date": 1425507639, "answer_id": 28866231, "question_id": 28866161, "link": "https://stackoverflow.com/questions/28866161/how-to-avoid-wpf-application-not-responding-when-logging-off/28866231#28866231", "title": "How to avoid WPF Application not Responding when logging off", "body": "<p>This should only be an issue if your application is not responding to the close events sent from Windows.</p>\n\n<p>This will typically happen if you are executing code on the UI thread, which prevents it from responding to messages.  As such, putting something in the closing events and similar will have no effect, as they won't be able to process until after your \"work\" finishes.</p>\n\n<p>The proper way to handle this is to move your work onto background threads.  This keeps the application responsive, which allows it to respond to the request from Windows to Close.</p>\n"}], "owner": {"reputation": 649, "user_id": 2842827, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e14f6cc2a63aaae7fb89879de9f0718?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2842827/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1455, "favorite_count": 0, "accepted_answer_id": 28866231, "answer_count": 1, "score": 0, "last_activity_date": 1425507639, "creation_date": 1425507445, "question_id": 28866161, "link": "https://stackoverflow.com/questions/28866161/how-to-avoid-wpf-application-not-responding-when-logging-off", "title": "How to avoid WPF Application not Responding when logging off", "body": "<p>When trying to press the standard Windows 7 logoff button while my WPF app is running, I get \"This program is preventing Windows from logging off\".  I would like to force it to close without having to press \"Force log off\".</p>\n\n<p>Similarly, pressing \"End Task\" in the (applications) Task Manager causes it to become non-responsive rather than just close the program.</p>\n\n<p>I have tried adding this to Window_Closing, but this doesn't seem to do it:</p>\n\n<pre><code>private void Window_Closing(object sender, System.ComponentModel.CancelEventArgs e)\n{\n    Environment.Exit(0);\n}\n</code></pre>\n\n<p>I'm new to WPF, but it seems to me that the window is not closing properly.  How can I prevent the \"program is preventing Windows from logging off\" when executing the Windows logoff, or \"Program is not responding\" when killing it from task manager?</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1425507024, "post_id": 28866024, "comment_id": 45996980, "body": "You should not delete and re-ask your question just because it has been closed: <a href=\"http://stackoverflow.com/questions/28865578/how-do-i-write-code-to-allow-changes-to-the-way-methods-are-called-without-recom\" title=\"how do i write code to allow changes to the way methods are called without recom\">stackoverflow.com/questions/28865578/&hellip;</a>"}, {"owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1425507065, "post_id": 28866024, "comment_id": 45997006, "body": "@Servy why not ask to clarify instead of closing so fast?"}, {"owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1425507177, "post_id": 28866024, "comment_id": 45997064, "body": "@Servy i dont understand what is unclear about the question"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1425507178, "post_id": 28866024, "comment_id": 45997065, "body": "Closing an unclear question allows it to be improved and clarified without burdening it with low quality answers due to its lack of clarity."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1425507211, "post_id": 28866024, "comment_id": 45997087, "body": "That doesn&#39;t make it appropriate to just keep re-posting it over and over."}, {"owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1425507290, "post_id": 28866024, "comment_id": 45997128, "body": "@Servy  I&#39;m not sure what to do.  it is frustrating, this is the only way I know how to express my question"}, {"owner": {"reputation": 2040, "user_id": 1334936, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bb1a4b3cd6950acf3315838b6ba3f423?s=128&d=identicon&r=PG", "display_name": "aush", "link": "https://stackoverflow.com/users/1334936/aush"}, "edited": false, "score": 0, "creation_date": 1425507428, "post_id": 28866024, "comment_id": 45997190, "body": "Post samples of your implementations of read and write."}, {"owner": {"reputation": 2857, "user_id": 1693158, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BeQ2W.jpg?s=128&g=1", "display_name": "dustinmoris", "link": "https://stackoverflow.com/users/1693158/dustinmoris"}, "edited": false, "score": 0, "creation_date": 1425507438, "post_id": 28866024, "comment_id": 45997196, "body": "Can you elaborate on &quot;I don&#39;t want to hardcode the instruction to call the read and write method.&quot;"}, {"owner": {"reputation": 23444, "user_id": 414413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6de2113f01432aa844dc85070ff33e89?s=128&d=identicon&r=PG", "display_name": "Cirdec", "link": "https://stackoverflow.com/users/414413/cirdec"}, "edited": false, "score": 0, "creation_date": 1425507481, "post_id": 28866024, "comment_id": 45997219, "body": "How do you plan on writing c# code without using any of the c# keywords? Do you mean you don&#39;t want the configuration file itself to be c#? Note that <code>Action</code> and <code>Func</code> aren&#39;t keywords, they are <a href=\"https://msdn.microsoft.com/en-us/library/system%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">library types</a>."}, {"owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "reply_to_user": {"reputation": 2857, "user_id": 1693158, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BeQ2W.jpg?s=128&g=1", "display_name": "dustinmoris", "link": "https://stackoverflow.com/users/1693158/dustinmoris"}, "edited": false, "score": 0, "creation_date": 1425507686, "post_id": 28866024, "comment_id": 45997325, "body": "@dustinmoris Normally you would have a function that calls the read or write in some order.  It is fixed at compile time.  I will edit to elaborate on this."}, {"owner": {"reputation": 23444, "user_id": 414413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6de2113f01432aa844dc85070ff33e89?s=128&d=identicon&r=PG", "display_name": "Cirdec", "link": "https://stackoverflow.com/users/414413/cirdec"}, "edited": false, "score": 0, "creation_date": 1425507718, "post_id": 28866024, "comment_id": 45997344, "body": "What do <code>resultid</code> and <code>locationid</code> have to do with <code>string Read()</code> and <code>void write()</code>? How do you plan on passing a <code>string to write</code> to <code>void write()</code>?"}, {"owner": {"reputation": 1262, "user_id": 234135, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/94a1246e93ca219cc5540a82f06f06ff?s=128&d=identicon&r=PG", "display_name": "BrMcMullin", "link": "https://stackoverflow.com/users/234135/brmcmullin"}, "edited": false, "score": 0, "creation_date": 1425507771, "post_id": 28866024, "comment_id": 45997372, "body": "It sounds like you&#39;re trying to get empty, dumb classes to be populated with functionality at runtime from configuration data. Is this the case?"}, {"owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "reply_to_user": {"reputation": 23444, "user_id": 414413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6de2113f01432aa844dc85070ff33e89?s=128&d=identicon&r=PG", "display_name": "Cirdec", "link": "https://stackoverflow.com/users/414413/cirdec"}, "edited": false, "score": 0, "creation_date": 1425508358, "post_id": 28866024, "comment_id": 45997658, "body": "@Cirdec I will edit to clarify that. thx"}, {"owner": {"reputation": 23444, "user_id": 414413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6de2113f01432aa844dc85070ff33e89?s=128&d=identicon&r=PG", "display_name": "Cirdec", "link": "https://stackoverflow.com/users/414413/cirdec"}, "edited": false, "score": 0, "creation_date": 1425508960, "post_id": 28866024, "comment_id": 45997893, "body": "If you are trying to ask how to do a step once for each step in the configuration file in the order they are in the file, you need to include how the configuration file is deserialized (or at least what type it is deserialized to) and your existing code to call the <code>Read</code>s."}], "answers": [{"comments": [{"owner": {"reputation": 2040, "user_id": 1334936, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bb1a4b3cd6950acf3315838b6ba3f423?s=128&d=identicon&r=PG", "display_name": "aush", "link": "https://stackoverflow.com/users/1334936/aush"}, "edited": false, "score": 0, "creation_date": 1425510039, "post_id": 28866353, "comment_id": 45998350, "body": "I don&#39;t think he is looking for reflection. Essentially, his xml just contains an order and arguments for methods he already has implemented."}, {"owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "edited": false, "score": 0, "creation_date": 1425510514, "post_id": 28866353, "comment_id": 45998523, "body": "Thanks for the suggestion and for pointing out about using attributes to prevent unwanted method calls"}], "tags": [], "owner": {"reputation": 23444, "user_id": 414413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6de2113f01432aa844dc85070ff33e89?s=128&d=identicon&r=PG", "display_name": "Cirdec", "link": "https://stackoverflow.com/users/414413/cirdec"}, "is_accepted": false, "score": 1, "last_activity_date": 1425508127, "creation_date": 1425508127, "answer_id": 28866353, "question_id": 28866024, "link": "https://stackoverflow.com/questions/28866024/how-do-i-allow-changes-to-the-way-methods-are-called-without-recompiling-each-ti/28866353#28866353", "title": "How do I allow changes to the way methods are called without recompiling each time?", "body": "<p>You are looking for a feature called <a href=\"https://msdn.microsoft.com/en-us/library/ms173183.aspx\" rel=\"nofollow\">reflection</a>.</p>\n\n<p>You can get the runtime information about the type of an object by calling it's <code>GetType()</code> method. You can then get a specific method from the <code>Type</code> by calling <a href=\"https://msdn.microsoft.com/en-us/library/system.type.getmethod%28v=vs.110%29.aspx\" rel=\"nofollow\"><code>GetMethod(string name)</code></a> or <a href=\"https://msdn.microsoft.com/en-us/library/system.type.getmethods%28v=vs.110%29.aspx\" rel=\"nofollow\"><code>GetMethods</code></a>. Once you have the <a href=\"https://msdn.microsoft.com/en-us/library/System.Reflection.MethodInfo(v=vs.110).aspx\" rel=\"nofollow\"><code>MethodInfo</code></a> for the method you wish to call, you can invoke it with its <a href=\"https://msdn.microsoft.com/en-us/library/a89hcwhh(v=vs.110).aspx\" rel=\"nofollow\"><code>Object Invoke(Object, [Object])</code></a> method. The first argument to <code>Invoke</code> is the object on which to invoke the method, and the second argument is an array of arguments to pass to the method.</p>\n\n<p>It would be wise to protect your code from executing arbitrary methods by marking those methods that can be executed from a configuration file with an <a href=\"https://msdn.microsoft.com/en-us/library/z0w1kczw.aspx\" rel=\"nofollow\"><code>Attribute</code></a> and checking that the attribute is present before invoking the method.</p>\n"}, {"comments": [{"owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "edited": false, "score": 0, "creation_date": 1425510446, "post_id": 28866402, "comment_id": 45998507, "body": "Thank you, it gives me something to try out.  I probably would keep the deserializing of the XML separate from the processing.  I.e. I probably wouldn&#39;t call processor at each xml element  I would deserialize to objects and use that in the processor."}, {"owner": {"reputation": 2040, "user_id": 1334936, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bb1a4b3cd6950acf3315838b6ba3f423?s=128&d=identicon&r=PG", "display_name": "aush", "link": "https://stackoverflow.com/users/1334936/aush"}, "reply_to_user": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "edited": false, "score": 0, "creation_date": 1425510921, "post_id": 28866402, "comment_id": 45998668, "body": "@erotavlas sure, you definitely should separate these steps. I just gave you a simplified example of the idea."}], "tags": [], "owner": {"reputation": 2040, "user_id": 1334936, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bb1a4b3cd6950acf3315838b6ba3f423?s=128&d=identicon&r=PG", "display_name": "aush", "link": "https://stackoverflow.com/users/1334936/aush"}, "is_accepted": false, "score": 2, "last_activity_date": 1425509889, "last_edit_date": 1425509889, "creation_date": 1425508295, "answer_id": 28866402, "question_id": 28866024, "link": "https://stackoverflow.com/questions/28866024/how-do-i-allow-changes-to-the-way-methods-are-called-without-recompiling-each-ti/28866402#28866402", "title": "How do I allow changes to the way methods are called without recompiling each time?", "body": "<p>For input </p>\n\n<pre><code>&lt;Root&gt;  \n    &lt;Processor Name=\"ReadValue\" Type=\"ObjectB\"&gt;\n        &lt;Read resultid=\"1\" locationid=\"12\"&gt;&lt;/Read&gt;\n        &lt;Read resultid=\"2\" locationid=\"34\"&gt;&lt;/Read&gt;\n        &lt;Write resultid=\"3\" locationid=\"4\"&gt;\n            string to write\n        &lt;/Write&gt;\n    &lt;/Processor&gt;\n    &lt;Processor Name=\"ReadValue\" Type=\"ObjectA\"&gt;\n        &lt;Read resultid=\"1\" locationid=\"12\"&gt;&lt;/Read&gt;\n        &lt;Read resultid=\"2\" locationid=\"34\"&gt;&lt;/Read&gt;\n        &lt;Write resultid=\"3\" locationid=\"4\"&gt;\n            string to write\n        &lt;/Write&gt;\n    &lt;/Processor&gt;\n&lt;/Root&gt;\n</code></pre>\n\n<p>your code can look like this:</p>\n\n<pre><code>void Main()\n{\n    var xDoc = XDocument.Load(@\"C:\\PathToXml\\instructions.xml\");\n\n    foreach (var processor in xDoc.Root.Elements())\n    {\n        if (processor.Attribute(\"Name\").Value == \"ReadValue\")\n        {\n            var readValueProcessor = new ReadValueProcessor();\n            readValueProcessor.Execute(processor);\n        }\n    }\n}\n\ninterface IObj\n{\n    string Read(int resultid, int locationid);\n    void Write(int resultid, int locationid, string text);\n}\n\nclass ObjectA : IObj\n{\n    public string Read(int resultid, int locationid)\n    {\n        return resultid + \" \" + locationid + \" From A\";\n    }\n\n    public void Write(int resultid, int locationid, string text)\n    {\n        Console.WriteLine(resultid + \" \" + locationid + \" From A : \" + text);\n    }\n}\n\nclass ObjectB : IObj\n{\n    public string Read(int resultid, int locationid)\n    {\n        return resultid + \" \" + locationid + \" From B\";\n    }\n\n    public void Write(int resultid, int locationid, string text)\n    {\n        Console.WriteLine(resultid + \" \" + locationid + \" From B : \" + text);\n    }\n}\n\nclass ReadValueProcessor\n{\n    public void Execute(XElement processorNode)\n    {\n        var typeAttribute = processorNode.Attribute(\"Type\").Value;\n        IObj objectToExecute = null;\n\n        if (typeAttribute == \"ObjectA\")\n        {\n            objectToExecute = new ObjectA();\n        }\n        else if (typeAttribute == \"ObjectB\")\n        {\n            objectToExecute = new ObjectB();\n        }\n\n        foreach (var action in processorNode.Elements())\n        {\n            if (action.Name == \"Read\")\n            {\n                var resultid = int.Parse(action.Attribute(\"resultid\").Value);\n                var locationid = int.Parse(action.Attribute(\"locationid\").Value);\n                var result = objectToExecute.Read(resultid, locationid);\n                Console.WriteLine(result);\n            }\n            else if (action.Name == \"Write\")\n            {\n                var resultid = int.Parse(action.Attribute(\"resultid\").Value);\n                var locationid = int.Parse(action.Attribute(\"locationid\").Value);\n                var text = action.Value;\n                objectToExecute.Write(resultid, locationid, text);\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1425516167, "creation_date": 1425506948, "last_edit_date": 1425516167, "question_id": 28866024, "link": "https://stackoverflow.com/questions/28866024/how-do-i-allow-changes-to-the-way-methods-are-called-without-recompiling-each-ti", "title": "How do I allow changes to the way methods are called without recompiling each time?", "body": "<p>NOTE:  Apologies in advance if this question may not be the clearest, however I am trying to accomplish something but do not have the knowledge necessary to express my idea in it's fullest. I posted here in hopes to learn more advanced way to accomplish my idea. </p>\n\n<p>I have multiple objects that follow an interface like this</p>\n\n<pre><code>interface IObj{\n\n void Parse(string document)    \n\n string Read(string locationId)\n void Write(string locationId, string valuetoWrite)\n\n}\n</code></pre>\n\n<p>These objects all are representing text document structures.  Some can be CSV format, another object can be XML, and so on.  </p>\n\n<pre><code> ObjectA : IObj{ \n //for example lets say this object represent comma separated values record\n\n List&lt;string&gt; fields; //list of columns and their values\n\n void Parse(string input){ //takes the document as string and creates the object representation\n     fields.AddRange(input.Split(',');\n }\n\n Dictionary&lt;string,ObjAlocation&gt; locations;  //maps the locations to an ID\n\n public string Read(string id){\n    //objectA implementation of read\n    //knows how to read from ObjALocation only - it takes the correct location that is stored in the dictionary by id and parses it\n\n        string result = string.Empty;\n\n        if (locations.ContainsKey(id))\n        {\n            ObjALocation position = locations[id];\n            if (position.Field &lt;= fields.Count-1)\n                result = fields[position.Field];\n        }\n\n        return result;\n }\n\n public void write(string locationId, string valuetoWrite){\n    //objectA implementation of write\n    //knows how to write to ObjALocationOnly\n }\n}\n\n\n\nclass ObjALocation{  //definition of a location for ObjectA\n\n    public int Field;\n\n}\n</code></pre>\n\n<p>These objects and others like them are arriving to a processing method one at a time. For each of the different objects I process, I read instruction from a configuration XML for that object. The instructions are simple Read or Write to the object.</p>\n\n<pre><code>  &lt;String Type=\"ObjectA\"&gt;\n    &lt;ObjALocation id=\"1\" Field=\"2\" /&gt;\n    &lt;ObjALocation id=\"2\" Field=\"4\" /&gt;\n    &lt;ObjALocation id=\"3\" Field=\"6\" /&gt;\n  &lt;/String&gt;\n\n  &lt;Processor Name=\"ReadValue\" Type=\"ObjectA\"&gt;\n    &lt;Read resultid=\"1\" locationid=\"1\"&gt;&lt;/Read&gt;\n    &lt;Read resultid=\"2\" locationid=\"2\"&gt;&lt;/Read&gt;\n    &lt;Read resultid=\"3\" locationid=\"4\"&gt;&lt;/Read&gt;\n\n    &lt;Output Path=\"C:\\\"&gt;\n      &lt;Filename extension=\"csv\"&gt;\n        &lt;![CDATA[output]]&gt;\n      &lt;/Filename&gt;\n      &lt;outputString&gt;\n         &lt;result id=\"1\"/&gt; , &lt;result id=\"2\"/&gt; \\r\\n\n      &lt;/outputString&gt;\n    &lt;/Output&gt;\n  &lt;/Processor&gt;\n</code></pre>\n\n<p>But say tomorrow the user wants to modify the configuration file in this way to read and write in a different order,</p>\n\n<pre><code>  &lt;String Type=\"ObjectA\"&gt;\n    &lt;ObjALocation id=\"1\" Field=\"12\" /&gt;\n    &lt;ObjALocation id=\"2\" Field=\"34\" /&gt;\n    &lt;ObjALocation id=\"3\" Field=\"45\" /&gt;\n  &lt;/String&gt;\n\n  &lt;Processor Name=\"ReadValue\" Type=\"ObjectA\"&gt;\n    &lt;Read resultid=\"1\" locationid=\"12\"&gt;&lt;/Read&gt;\n    &lt;Read resultid=\"2\" locationid=\"34\"&gt;&lt;/Read&gt;\n    &lt;Write resultid=\"3\" locationid=\"4\"&gt;\n        string to write\n    &lt;/Write&gt;\n.....\n  &lt;/Processor&gt;\n</code></pre>\n\n<p>In my application I guess I will need a main method called Process() where I will execute all the instruction defined in the XML configuration.</p>\n\n<p>So for example something like this</p>\n\n<pre><code>void Processor(){\n\n   Read();\n   Read();\n   Write();\n\n}\n</code></pre>\n\n<p>However normally you would have to predefine the instruction before compiling the application.  So the methods and their order would be fixed in the Processor() method.  But I don't want to hardcode the instruction to call the read and write method. I want to give end user the ability to call these methods in any order and combination they want. (By modification of the XML configuration, or using a GUI)</p>\n\n<p>So that I don't have to recompile the program every time we need to change the instruction.</p>\n\n<p>EDIT: Is there a way to do it using any of the c# keywords like Func, Action or dynamic. I'm trying to avoid using dynamic code compile option.</p>\n\n<p>There are two issues for me that go together, \nHow to get the read and write instances into the Processor() method like above.  <strong>AND</strong> also how to get them into the Processor() method in a dynamic way each time I call Processor() - because tomorrow Processor() could be processing for a totally different object with different configuration of read() and write().</p>\n"}, {"tags": ["c#", "linq", "model-view-controller", "foreach", "tabular"], "comments": [{"owner": {"reputation": 994, "user_id": 146900, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/48083e3f7287aca3abd855d5b9be5005?s=128&d=identicon&r=PG", "display_name": "karmasponge", "link": "https://stackoverflow.com/users/146900/karmasponge"}, "edited": false, "score": 0, "creation_date": 1425507151, "post_id": 28865940, "comment_id": 45997053, "body": "The &#39;linq&#39; query is not processed until you actually consume it in the &#39;for&#39; loop. Are you sure that the &#39;db.text&#39;, or sub properties, in the query are not null?"}, {"owner": {"reputation": 111, "user_id": 3022731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/225d8d19959ab957ceb36928a9fefa0f?s=128&d=identicon&r=PG&f=1", "display_name": "Carla", "link": "https://stackoverflow.com/users/3022731/carla"}, "reply_to_user": {"reputation": 994, "user_id": 146900, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/48083e3f7287aca3abd855d5b9be5005?s=128&d=identicon&r=PG", "display_name": "karmasponge", "link": "https://stackoverflow.com/users/146900/karmasponge"}, "edited": false, "score": 0, "creation_date": 1425563874, "post_id": 28865940, "comment_id": 46020680, "body": "I just returned the model in my Partial View and now the error is gone. -)"}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 3022731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/225d8d19959ab957ceb36928a9fefa0f?s=128&d=identicon&r=PG&f=1", "display_name": "Carla", "link": "https://stackoverflow.com/users/3022731/carla"}, "edited": false, "score": 0, "creation_date": 1425563774, "post_id": 28866139, "comment_id": 46020627, "body": "db.text is my database.  I just removed the name of the table and inserted text just to leave out the actual table name, I guess that was silly. I just added return PartialView(model), and it runs with no errors.  Thank you Mackan"}, {"owner": {"reputation": 6009, "user_id": 1996783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7ztb.gif?s=128&g=1", "display_name": "Mackan", "link": "https://stackoverflow.com/users/1996783/mackan"}, "reply_to_user": {"reputation": 111, "user_id": 3022731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/225d8d19959ab957ceb36928a9fefa0f?s=128&d=identicon&r=PG&f=1", "display_name": "Carla", "link": "https://stackoverflow.com/users/3022731/carla"}, "edited": false, "score": 0, "creation_date": 1425566795, "post_id": 28866139, "comment_id": 46022525, "body": "Glad to hear it. Please mark answer as accepted to close the question."}], "tags": [], "owner": {"reputation": 6009, "user_id": 1996783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7ztb.gif?s=128&g=1", "display_name": "Mackan", "link": "https://stackoverflow.com/users/1996783/mackan"}, "is_accepted": true, "score": 1, "last_activity_date": 1425507378, "creation_date": 1425507378, "answer_id": 28866139, "question_id": 28865940, "link": "https://stackoverflow.com/questions/28865940/object-reference-not-set-to-an-instance-of-an-object-when-calling-foreach-loop-w/28866139#28866139", "title": "Object reference not set to an instance of an object when calling foreach loop when calling it in the cshtml", "body": "<p>Model.catalogAttendees is null - hence the exception.</p>\n\n<p>As to why ... maybe the linq expression is not returning what it should. I'm not seeing what db.text should be, but then again I'm not seeing all the code.</p>\n\n<p>Edit: Also, you're not returning the model to the view. return PartialView(model);</p>\n"}], "owner": {"reputation": 111, "user_id": 3022731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/225d8d19959ab957ceb36928a9fefa0f?s=128&d=identicon&r=PG&f=1", "display_name": "Carla", "link": "https://stackoverflow.com/users/3022731/carla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1992, "favorite_count": 0, "closed_date": 1484670639, "accepted_answer_id": 28866139, "answer_count": 1, "score": 1, "last_activity_date": 1484670548, "creation_date": 1425506686, "last_edit_date": 1484670548, "question_id": 28865940, "link": "https://stackoverflow.com/questions/28865940/object-reference-not-set-to-an-instance-of-an-object-when-calling-foreach-loop-w", "closed_reason": "Duplicate", "title": "Object reference not set to an instance of an object when calling foreach loop when calling it in the cshtml", "body": "<p>So I am very new to MVC and development.  What I am trying to do is basically create a single row table view of an user so that I can edit and update on that single row. (I hope I am making sense) </p>\n\n<p>So I am using MVC Razor View and I want to create a table and edit within that table without using the CRUD functionality that is already built into MVC.  I want to do inline editing of my tabular view. </p>\n\n<p>So I have create a view that also has a partial view.  I have a Model and my Repository as well. WHen I run this, it says Object not set to an instance of an object, and it's talking about my foreach loop.  Here is the data below.  If someone can offer assistance, that would be greatly appreciated.  I am very new and only been really coding for about 3 months now. </p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>public ActionResult Index(string id)\n        {\n            var attendee = (Guid)Membership.GetUser(id).ProviderUserKey;\n            CatalogAttendeeModel model = new CatalogAttendeeModel();\n            model.getAttendeesList(attendee);\n            var catalog = from ca in db.text\n                          join a in db.text on ca.textID equals   a.textID\n                          where ca.textID== attendee\n                          select ca;\n            foreach (var item in catalog)\n            {\n                if (item.IsActive == null)\n                {\n                    item.IsActive = true;\n                }\n            }\n            return PartialView(); \n        }\n</code></pre>\n\n<p><strong>Index View</strong></p>\n\n<pre><code>@model ODT4.Models.CatalogAttendeeModel\n\n&lt;table&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;\n                @Html.Label(\"Catalog\")\n                @Html.Label(\"Role\")\n                @Html.Label(\"Is Admin\")\n                @Html.Label(\"Certificate Printed\")\n                @Html.Label(\"Percent Watched\")\n                @Html.Label(\"Percent Updated\")\n                @Html.Label(\"PI Name\")\n                @Html.Label(\"Action\")\n            &lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        @foreach (var row in Model.catalogAttendees) //this is where I get the errormessage\n        {\n            {\n                Html.RenderPartial(\"CatalogAttendeeSingleRow\", row);\n            }\n        }\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p><strong>Partial View</strong></p>\n\n<pre><code>@model ODT4.Models.CatalogAttendeeModel\n\n@{\n    &lt;div id = \"crud_tableEdit\" &gt;\n        &lt;table&gt;\n            &lt;tr&gt;\n                &lt;td&gt;@Html.DisplayFor(m =&gt; m.Catalog.CatalogCode)&lt;/td&gt;\n                &lt;td&gt;@Html.DisplayFor(m =&gt; m.StudyRole)&lt;/td&gt;\n                &lt;td&gt;@Html.DisplayFor(m =&gt; m.IsAdmin)&lt;/td&gt;\n                &lt;td&gt;@Html.DisplayFor(m =&gt; m.IsTrainingDocPrinted)&lt;/td&gt;\n                &lt;td&gt;@Html.DisplayFor(m =&gt; m.PercentWatched)&lt;/td&gt;\n                &lt;td&gt;@Html.DisplayFor(m =&gt; m.PercentUpdatedOn)&lt;/td&gt;\n                &lt;td&gt;@Html.DisplayFor(m =&gt; m.PIName)&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt; \n\n    &lt;/div&gt;\n\n}\n</code></pre>\n\n<p><strong>CatalogModel</strong></p>\n\n<pre><code> public List&lt;Catalog_Attendee&gt; catalogAttendees { get; set; }\n\n    public CatalogAttendeeModel()\n    {\n\n    }\n    public void getAttendeesList(Guid id)\n    {\n        //catalogAttendees = new List&lt;Catalog_Attendee&gt;();\n        CatalogAttendeeRepository rep = new CatalogAttendeeRepository();\n        catalogAttendees = rep.getAttendeesAll();\n    }\n</code></pre>\n\n<p><strong>Repository</strong></p>\n\n<pre><code>public List&lt;Catalog_Attendee&gt; getAttendeesAll()\n        {\n            return db.Catalog_Attendee.ToList();\n        }\n\n        public Catalog_Attendee getAttendeeByID(Guid id)\n        {\n            return db.Catalog_Attendee.FirstOrDefault(i =&gt; i.AttendeeID == id);\n\n        }\n</code></pre>\n\n<p><strong>Here is the error message:</strong></p>\n\n<pre><code>Server Error in '/' Application.\n________________________________________\nObject reference not set to an instance of an object. \nDescription: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. \n\nException Details: System.NullReferenceException: Object reference not set to an instance of an object.\n\nSource Error: \n\nLine 17:     &lt;/thead&gt;\nLine 18:     &lt;tbody&gt;\nLine 19:         @foreach (var row in Model.catalogAttendees)\nLine 20:         {\nLine 21:             {\n</code></pre>\n"}, {"tags": ["c#", "swagger", "swagger-ui", "swashbuckle"], "comments": [{"owner": {"reputation": 1743, "user_id": 1884140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z8kyn.jpg?s=128&g=1", "display_name": "1.618", "link": "https://stackoverflow.com/users/1884140/1-618"}, "edited": false, "score": 0, "creation_date": 1425513567, "post_id": 28865814, "comment_id": 45999561, "body": "Did you try uncommenting it?"}, {"owner": {"reputation": 911, "user_id": 1339268, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/690331b38605cfa0fc17d1fcc44c604f?s=128&d=identicon&r=PG", "display_name": "LivingOnACloud", "link": "https://stackoverflow.com/users/1339268/livingonacloud"}, "reply_to_user": {"reputation": 1743, "user_id": 1884140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z8kyn.jpg?s=128&g=1", "display_name": "1.618", "link": "https://stackoverflow.com/users/1884140/1-618"}, "edited": false, "score": 0, "creation_date": 1425561766, "post_id": 28865814, "comment_id": 46019387, "body": "I wish it was that simple :-) Yes I did try uncommenting it"}], "answers": [{"tags": [], "owner": {"reputation": 467, "user_id": 113697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0348f9b2e7aa9e319d2734276126f9?s=128&d=identicon&r=PG", "display_name": "Larry", "link": "https://stackoverflow.com/users/113697/larry"}, "is_accepted": false, "score": 5, "last_activity_date": 1429700934, "creation_date": 1429700934, "answer_id": 29795639, "question_id": 28865814, "link": "https://stackoverflow.com/questions/28865814/how-do-i-add-header-documentation-in-swashbuckle/29795639#29795639", "title": "How do I add header documentation in Swashbuckle?", "body": "<p>I had the same question and solve it this way:</p>\n\n<p>At SwaggerConfig:</p>\n\n<pre><code>var applyApiKeySecurity = new ApplyApiKeySecurity(\n    key: \"ServiceBusToken\",\n    name: \"Authorization\",\n    description: \"Service Bus Token, e.g. 'SharedAccessSignature sr=...&amp;sig=...&amp;se=...&amp;skn=...'\",\n    @in: \"header\"\n);\napplyApiKeySecurity.Apply(c);\n</code></pre>\n\n<p>ApplyApiKeySecurity:</p>\n\n<pre><code>public class ApplyApiKeySecurity : IDocumentFilter, IOperationFilter\n{\n    public ApplyApiKeySecurity(string key, string name, string description, string @in)\n    {\n        Key = key;\n        Name = name;\n        Description = description;\n        In = @in;\n    }\n\n    public string Description { get; private set; }\n\n    public string In { get; private set; }\n\n    public string Key { get; private set; }\n\n    public string Name { get; private set; }\n\n    public void Apply(SwaggerDocument swaggerDoc, SchemaRegistry schemaRegistry, System.Web.Http.Description.IApiExplorer apiExplorer)\n    {\n        IList&lt;IDictionary&lt;string, IEnumerable&lt;string&gt;&gt;&gt; security = new List&lt;IDictionary&lt;string, IEnumerable&lt;string&gt;&gt;&gt;();\n        security.Add(new Dictionary&lt;string, IEnumerable&lt;string&gt;&gt; {\n            {Key, new string[0]}\n        });\n\n        swaggerDoc.security = security;\n    }\n\n    public void Apply(Operation operation, SchemaRegistry schemaRegistry, System.Web.Http.Description.ApiDescription apiDescription)\n    {\n        operation.parameters = operation.parameters ?? new List&lt;Parameter&gt;();\n        operation.parameters.Add(new Parameter\n        {\n            name = Name,\n            description = Description,\n            @in = In,\n            required = true,\n            type = \"string\"\n        });\n    }\n\n    public void Apply(Swashbuckle.Application.SwaggerDocsConfig c)\n    {\n        c.ApiKey(Key)\n            .Name(Name)\n            .Description(Description)\n            .In(In);\n        c.DocumentFilter(() =&gt; this);\n        c.OperationFilter(() =&gt; this);\n    }\n}\n</code></pre>\n\n<p>Then the swagger file has the security definiton:</p>\n\n<pre><code>\"securityDefinitions\":{  \n  \"ServiceBusToken\":{  \n     \"type\":\"apiKey\",\n     \"description\":\"Service Bus Token, e.g. 'SharedAccessSignature sr=...&amp;sig=...&amp;se=...&amp;skn=...'\",\n     \"name\":\"Authorization\",\n     \"in\":\"header\"\n  }\n}\n</code></pre>\n\n<p>Applied to all operations at document level:</p>\n\n<pre><code>\"security\":[  \n  {  \n     \"ServiceBusToken\":[]\n  }\n]\n</code></pre>\n\n<p>And all operations have the header parameter assigned:</p>\n\n<pre><code>\"parameters\":[  \n   {  \n      \"name\":\"Authorization\",\n      \"in\":\"header\",\n      \"description\":\"Service Bus Token, e.g. 'SharedAccessSignature sr=...&amp;sig=...&amp;se=...&amp;skn=...'\",\n      \"required\":true,\n      \"type\":\"string\"\n   }\n]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 911, "user_id": 1339268, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/690331b38605cfa0fc17d1fcc44c604f?s=128&d=identicon&r=PG", "display_name": "LivingOnACloud", "link": "https://stackoverflow.com/users/1339268/livingonacloud"}, "edited": false, "score": 0, "creation_date": 1440744336, "post_id": 32262449, "comment_id": 52408682, "body": "It feels like a hack compared to how I configured everything else"}, {"owner": {"reputation": 4166, "user_id": 475876, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1c9db5049ef3f6570161f74b1bd057f?s=128&d=identicon&r=PG", "display_name": "Akira Yamamoto", "link": "https://stackoverflow.com/users/475876/akira-yamamoto"}, "reply_to_user": {"reputation": 911, "user_id": 1339268, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/690331b38605cfa0fc17d1fcc44c604f?s=128&d=identicon&r=PG", "display_name": "LivingOnACloud", "link": "https://stackoverflow.com/users/1339268/livingonacloud"}, "edited": false, "score": 0, "creation_date": 1440860876, "post_id": 32262449, "comment_id": 52452521, "body": "Sure. Not pretty. I would prefer to use the configuration you showed us on your question but the maintainer will remove it... :-( and it also does not work because of a bug."}, {"owner": {"reputation": 608, "user_id": 674623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9BjDi.jpg?s=128&g=1", "display_name": "Johnny Qian", "link": "https://stackoverflow.com/users/674623/johnny-qian"}, "edited": false, "score": 1, "creation_date": 1447005028, "post_id": 32262449, "comment_id": 54969132, "body": "Use InjectJavaScript should be a better solution. See this issue thread:  <a href=\"https://github.com/domaindrivendev/Swashbuckle/issues/222\" rel=\"nofollow noreferrer\">github.com/domaindrivendev/Swashbuckle/issues/222</a>  I use this approach to add a bearer token for authorization in http header."}, {"owner": {"reputation": 4166, "user_id": 475876, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1c9db5049ef3f6570161f74b1bd057f?s=128&d=identicon&r=PG", "display_name": "Akira Yamamoto", "link": "https://stackoverflow.com/users/475876/akira-yamamoto"}, "edited": false, "score": 0, "creation_date": 1447100796, "post_id": 32262449, "comment_id": 55009655, "body": "Cool! This way we don&#39;t need to replace the entire index file. Thanks!"}], "tags": [], "owner": {"reputation": 4166, "user_id": 475876, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1c9db5049ef3f6570161f74b1bd057f?s=128&d=identicon&r=PG", "display_name": "Akira Yamamoto", "link": "https://stackoverflow.com/users/475876/akira-yamamoto"}, "is_accepted": false, "score": 2, "last_activity_date": 1440728969, "creation_date": 1440728969, "answer_id": 32262449, "question_id": 28865814, "link": "https://stackoverflow.com/questions/28865814/how-do-i-add-header-documentation-in-swashbuckle/32262449#32262449", "title": "How do I add header documentation in Swashbuckle?", "body": "<p>Swashbuckle maintainer recommends us to provide a custom index.html to do this because he will remove these configurations in the next major version. See this <a href=\"https://github.com/domaindrivendev/Swashbuckle/issues/398\" rel=\"nofollow\">issue</a>.</p>\n\n<p><strong>Provide your own \"index\" file</strong></p>\n\n<p>Use the <strong>CustomAsset</strong> option to instruct Swashbuckle to return your version instead of the default when a request is made for \"index\". As with all custom content, the file must be included in your project as an \"Embedded Resource\", and then the resource's \"Logical Name\" is passed to the method as shown below. See <a href=\"https://github.com/domaindrivendev/Swashbuckle#injecting-custom-content\" rel=\"nofollow\">Injecting Custom Content</a> for step by step instructions.</p>\n\n<p>For compatibility, you should base your custom \"index.html\" off <a href=\"https://github.com/domaindrivendev/Swashbuckle/blob/v5.2.1/Swashbuckle.Core/SwaggerUi/CustomAssets/index.html\" rel=\"nofollow\">this version</a>.</p>\n\n<pre><code>httpConfiguration\n    .EnableSwagger(c =&gt; c.SingleApiVersion(\"v1\", \"A title for your API\"))\n    .EnableSwaggerUi(c =&gt;\n        {\n            c.CustomAsset(\"index\", yourAssembly, \"YourWebApiProject.SwaggerExtensions.index.html\");\n        });\n</code></pre>\n\n<p>In the index.html you will want to change the method below to something like this:</p>\n\n<pre><code>function addApiKeyAuthorization(){\n    var key = encodeURIComponent($('#input_apiKey')[0].value);\n    if(key &amp;&amp; key.trim() != \"\") {\n        var apiKeyAuth = new SwaggerClient.ApiKeyAuthorization(\"sessionId\", key, \"header\");\n        window.swaggerUi.api.clientAuthorizations.add(\"sessionId\", apiKeyAuth);\n        log(\"added key \" + key);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 1790170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bf0603fd198061b3e065f4471e242e0?s=128&d=identicon&r=PG", "display_name": "Roy Liu", "link": "https://stackoverflow.com/users/1790170/roy-liu"}, "is_accepted": false, "score": 0, "last_activity_date": 1524877058, "creation_date": 1524877058, "answer_id": 50071832, "question_id": 28865814, "link": "https://stackoverflow.com/questions/28865814/how-do-i-add-header-documentation-in-swashbuckle/50071832#50071832", "title": "How do I add header documentation in Swashbuckle?", "body": "<pre><code>        config.EnableSwagger(c =&gt;\n        {\n            c.SingleApiVersion(\"v1\", \"TestApiWithToken\");\n\n            c.ApiKey(\"Token\")\n            .Description(\"Filling bearer token here\")\n            .Name(\"Authorization\")\n            .In(\"header\");\n        })\n        .EnableSwaggerUi(c =&gt;\n        {\n            c.EnableApiKeySupport(\"Authorization\", \"header\");\n        });\n</code></pre>\n"}], "owner": {"reputation": 911, "user_id": 1339268, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/690331b38605cfa0fc17d1fcc44c604f?s=128&d=identicon&r=PG", "display_name": "LivingOnACloud", "link": "https://stackoverflow.com/users/1339268/livingonacloud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8019, "favorite_count": 0, "answer_count": 3, "score": 10, "last_activity_date": 1550426609, "creation_date": 1425506229, "last_edit_date": 1550426609, "question_id": 28865814, "link": "https://stackoverflow.com/questions/28865814/how-do-i-add-header-documentation-in-swashbuckle", "title": "How do I add header documentation in Swashbuckle?", "body": "<p>I am using the library Swashbuckle. Currently there is no stackoverflow tag for it.</p>\n\n<p>I don't quite understand the documentation here: <a href=\"https://github.com/domaindrivendev/Swashbuckle/blob/master/README.md\" rel=\"noreferrer\">https://github.com/domaindrivendev/Swashbuckle/blob/master/README.md</a></p>\n\n<p>The section titled \"Describing Security/Authorization Schemes\" mentions a piece of code</p>\n\n<pre><code>   c.ApiKey(\"apiKey\")\n                .Description(\"API Key Authentication\")\n                .Name(\"apiKey\")\n                .In(\"header\");\n</code></pre>\n\n<p>However when I include this nothing happens. I would also like this to only appear on certain API methods. It does mention </p>\n\n<blockquote>\n  <p>\"need to be coupled with a corresponding \"security\" property at the\n  document \"</p>\n</blockquote>\n\n<p>But I don't understand this.</p>\n\n<p>Can anyone explain?</p>\n"}, {"tags": ["c#", "asp.net-web-api", "azure-active-directory", "openid-connect"], "answers": [{"comments": [{"owner": {"reputation": 1371, "user_id": 219689, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ce66ffc3f74657d1c05fec7b508b3c86?s=128&d=identicon&r=PG", "display_name": "markpirvine", "link": "https://stackoverflow.com/users/219689/markpirvine"}, "edited": false, "score": 0, "creation_date": 1425543371, "post_id": 28866452, "comment_id": 46008642, "body": "vibronet thanks for taking the time to reply, both links were very helpful!"}], "tags": [], "owner": {"reputation": 7226, "user_id": 2276747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l4MLy.png?s=128&g=1", "display_name": "vibronet", "link": "https://stackoverflow.com/users/2276747/vibronet"}, "is_accepted": true, "score": 2, "last_activity_date": 1425508478, "creation_date": 1425508478, "answer_id": 28866452, "question_id": 28865776, "link": "https://stackoverflow.com/questions/28865776/web-api-401-redirect-azure-active-directory-openidconnect/28866452#28866452", "title": "Web API 401 Redirect Azure Active Directory OpenIdConnect", "body": "<p>Mixing authentication for MVC (as in web UX) and Web API requires special care. See <a href=\"http://www.cloudidentity.com/blog/2014/04/28/use-owin-azure-ad-to-secure-both-mvc-ux-and-web-api-in-the-same-project/\" rel=\"nofollow\">here</a> for an example of how you can combine the two.\nI know you already read a lot about the theory behind this, but you you want yet another (not required, the sample above alone should unblock you) backgrounder you can glance through <a href=\"http://www.cloudidentity.com/blog/2014/04/22/authentication-protocols-web-ux-and-web-api/\" rel=\"nofollow\">this</a>.</p>\n"}], "owner": {"reputation": 1371, "user_id": 219689, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ce66ffc3f74657d1c05fec7b508b3c86?s=128&d=identicon&r=PG", "display_name": "markpirvine", "link": "https://stackoverflow.com/users/219689/markpirvine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1292, "favorite_count": 0, "accepted_answer_id": 28866452, "answer_count": 1, "score": 1, "last_activity_date": 1502755580, "creation_date": 1425506068, "last_edit_date": 1502755580, "question_id": 28865776, "link": "https://stackoverflow.com/questions/28865776/web-api-401-redirect-azure-active-directory-openidconnect", "title": "Web API 401 Redirect Azure Active Directory OpenIdConnect", "body": "<p>I'm having trouble with 401 responses that cause a redirect (302) to the login page.  My application uses both MVC and Web API.  I'm using OpenID and Azure Active Directory to authenticate users, my auth setup is as follows:</p>\n\n<pre><code>private static string clientId = ConfigurationManager.AppSettings[\"ida:ClientId\"];\nprivate static string appKey = ConfigurationManager.AppSettings[\"ida:AppKey\"];\nprivate static string aadInstance = ConfigurationManager.AppSettings[\"ida:AADInstance\"];\nprivate static string tenant = ConfigurationManager.AppSettings[\"ida:Tenant\"];\nprivate static string postLogoutRedirectUri = ConfigurationManager.AppSettings[\"ida:PostLogoutRedirectUri\"];\nprivate static string graphResourceId = ConfigurationManager.AppSettings[\"ida:GraphResourceId\"];\npublic static readonly string authority = String.Format(CultureInfo.InvariantCulture, aadInstance, tenant);\n\nMvcApplication mvcApplication = HttpContext.Current.ApplicationInstance as MvcApplication;\n\npublic void ConfigureAuth(IAppBuilder app)\n{\n    OpenIdConnectAuthenticationOptions openIdConnectAuthenticationOptions = new OpenIdConnectAuthenticationOptions\n    {\n        ClientId = clientId,\n        Authority = authority,\n        PostLogoutRedirectUri = postLogoutRedirectUri,\n        AuthenticationMode = AuthenticationMode.Active,\n        Notifications = new OpenIdConnectAuthenticationNotifications()\n        {\n            SecurityTokenValidated = (context) =&gt;\n            {\n                string userId = context.AuthenticationTicket.Identity.FindFirst(ClaimTypes.Name).Value;\n\n                IUserManager userManager = mvcApplication.CurrentContainer.Resolve&lt;IUserManager&gt;();\n\n                if(!userManager.IsUserEnrolled(userId))\n                {\n                    string givenName = context.AuthenticationTicket.Identity.FindFirst(ClaimTypes.GivenName).Value;\n                    string surname = context.AuthenticationTicket.Identity.FindFirst(ClaimTypes.Surname).Value;\n\n                    userManager.EnrolUser(userId, givenName, surname);\n\n                    Claim groupSuper = context.AuthenticationTicket.Identity.Claims.FirstOrDefault(c =&gt; c.Type == \"groups\" &amp;&amp; c.Value.Equals(AADClaimTypes.Super, StringComparison.CurrentCultureIgnoreCase));\n\n                    if(groupSuper != null)\n                    {\n                        userManager.AddClaim(userId, CharitableClaimTypes.Super, userId);\n                    }\n                }\n\n                List&lt;Claim&gt; claims = userManager.GetUserClaims(userId);\n\n                if(claims != null &amp;&amp; claims.Count() &gt; 0)\n                {\n                    OpenIdClaimsAuthenticationManager openIdClaimsAuthenticationManager = new OpenIdClaimsAuthenticationManager();\n\n                    openIdClaimsAuthenticationManager.Authenticate(context.AuthenticationTicket.Identity, claims);\n                }\n\n                return Task.FromResult(0);\n            },\n            RedirectToIdentityProvider = (context) =&gt;\n            {\n                context.ProtocolMessage.RedirectUri = context.Request.Uri.ToString();\n                context.ProtocolMessage.PostLogoutRedirectUri = postLogoutRedirectUri;\n\n                return Task.FromResult(0);\n            },\n            AuthorizationCodeReceived = (context) =&gt;\n            {\n                Claim objectIdentifierClaim = context.AuthenticationTicket.Identity.FindFirst(\"http://schemas.microsoft.com/identity/claims/objectidentifier\");\n\n                if(objectIdentifierClaim != null)\n                {\n                    ClientCredential credential = new ClientCredential(clientId, appKey);\n                    string objectIdentifier = objectIdentifierClaim.Value;\n                    string code = context.Code;\n                    Uri redirectUri = new Uri(HttpContext.Current.Request.Url.GetLeftPart(UriPartial.Path));\n\n                    AuthenticationContext authContext = new AuthenticationContext(authority);//, new NaiveSessionCache(objectIdentifier));\n                    AuthenticationResult result = authContext.AcquireTokenByAuthorizationCode(code, redirectUri, credential, graphResourceId);\n                }\n\n                return Task.FromResult(0);\n            }\n\n        }\n    };\n\n    CookieAuthenticationOptions cookieAuthenticationOptions = new CookieAuthenticationOptions()\n    {\n        AuthenticationType = OpenIdConnectAuthenticationDefaults.AuthenticationType\n    };\n\n    app.SetDefaultSignInAsAuthenticationType(OpenIdConnectAuthenticationDefaults.AuthenticationType);// CookieAuthenticationDefaults.AuthenticationType);\n    app.UseCookieAuthentication(cookieAuthenticationOptions);\n    app.UseOpenIdConnectAuthentication(openIdConnectAuthenticationOptions);\n</code></pre>\n\n<p>When a Web API call generates a 401, I want that status returned to the client.  I've read lots of articles, like <a href=\"http://slynetblog.blogspot.co.uk/2014/03/preventing-302-redirect-for-aspnet.html\" rel=\"nofollow noreferrer\">here</a>, <a href=\"http://www.jayway.com/2014/09/25/securing-asp-net-web-api-endpoints-using-owin-oauth-2-0-and-claims/\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://stackoverflow.com/questions/20149750/unauthorised-webapi-call-returning-login-page-rather-than-401\">here</a>, however I've been unable to get a working solution.  I could return a 404, as suggested in a reply in the last link, however I would prefer not to do that.  Can anyone suggest an approach?</p>\n"}, {"tags": ["c#", "arrays", "string"], "comments": [{"owner": {"reputation": 3618, "user_id": 2394945, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/g5WxC.png?s=128&g=1", "display_name": "Moby Disk", "link": "https://stackoverflow.com/users/2394945/moby-disk"}, "edited": false, "score": 0, "creation_date": 1425507541, "post_id": 28865772, "comment_id": 45997253, "body": "Appending and prepending the parens should work fine.  Can you post the code that didn&#39;t work and explain what happened?"}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "reply_to_user": {"reputation": 3618, "user_id": 2394945, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/g5WxC.png?s=128&g=1", "display_name": "Moby Disk", "link": "https://stackoverflow.com/users/2394945/moby-disk"}, "edited": false, "score": 0, "creation_date": 1425507710, "post_id": 28865772, "comment_id": 45997340, "body": "Hmmm. The code deleted--basically, I was ending up with an extra comma at the very end but, as you can see, my code is trying to also remove a comma"}, {"owner": {"reputation": 3616, "user_id": 1981471, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/i44eN.jpg?s=128&g=1", "display_name": "RandomUs1r", "link": "https://stackoverflow.com/users/1981471/randomus1r"}, "edited": false, "score": 0, "creation_date": 1425507902, "post_id": 28865772, "comment_id": 45997435, "body": "There might be a better approach to this over at <a href=\"http://stackoverflow.com/questions/7096474/serialize-an-array-into-json-objects-using-net\" title=\"serialize an array into json objects using net\">stackoverflow.com/questions/7096474/&hellip;</a> .  Instead of string building, build a dictionary and then use a serializer on it to get proper json without the string parsing mess."}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425508107, "post_id": 28865772, "comment_id": 45997532, "body": "Yes, but I am very close: the &#39;item&#39; variable is currently populating the coords_final list string. What it needs to do is to input all item variable&#39;s data into one element of coords_final with the ( and ) attached."}, {"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1425509044, "post_id": 28865772, "comment_id": 45997934, "body": "I have edited your title. Please see, &quot;<a href=\"http://meta.stackexchange.com/questions/19190/\">Should questions include \u201ctags\u201d in their titles?</a>&quot;, where the consensus is &quot;no, they should not&quot;."}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425509228, "post_id": 28865772, "comment_id": 45998008, "body": "I didn&#39;t mean to include &#39;C#&#39; as a tag in the title: It was to draw attention to the programming environment. Was that wrong?"}, {"owner": {"reputation": 32323, "user_id": 35245, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/aefdeb6c485d20c2eda238fdc3563d36?s=128&d=identicon&r=PG", "display_name": "Peter Lillevold", "link": "https://stackoverflow.com/users/35245/peter-lillevold"}, "edited": false, "score": 0, "creation_date": 1425509369, "post_id": 28865772, "comment_id": 45998068, "body": "@Meengla - yes, it clutters the title without providing any more information. After all, your question is tagged &quot;C#&quot;."}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425510562, "post_id": 28865772, "comment_id": 45998542, "body": "Okay. Will watch out next time."}], "answers": [{"comments": [{"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425509586, "post_id": 28866545, "comment_id": 45998162, "body": "Did you mean to Deserialize the raw_coords array?"}, {"owner": {"reputation": 2998, "user_id": 2273277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZgzP.jpg?s=128&g=1", "display_name": "stefankmitph", "link": "https://stackoverflow.com/users/2273277/stefankmitph"}, "reply_to_user": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425509784, "post_id": 28866545, "comment_id": 45998241, "body": "oh... now i see... item contains the rows... i&#39;ll update my answer (deserialize item[i]...)"}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425510000, "post_id": 28866545, "comment_id": 45998339, "body": "Thanks. Let me try again. BTW, I did Deserialize the loaded JSON in a few lines of code above...not sure if that will have any bearing."}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425510288, "post_id": 28866545, "comment_id": 45998448, "body": "I don&#39;t think your code is going to work as it is given: There is already the foreach encompassing your code: foreach (var item in raw_coords.Children())"}, {"owner": {"reputation": 2998, "user_id": 2273277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZgzP.jpg?s=128&g=1", "display_name": "stefankmitph", "link": "https://stackoverflow.com/users/2273277/stefankmitph"}, "reply_to_user": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425510414, "post_id": 28866545, "comment_id": 45998498, "body": "well it should when your <code>item[i]</code> is in the form of <code>[ [    -9221176.0728999991,    4120407.4526000023  ],  [    -9221176.0427000001,    4120407.6987999976  ]],[[...],[]]</code>"}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425510480, "post_id": 28866545, "comment_id": 45998511, "body": "Says invalid arguments at: var result = (JArray)JsonConvert.DeserializeObject(item[i]);"}, {"owner": {"reputation": 2998, "user_id": 2273277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZgzP.jpg?s=128&g=1", "display_name": "stefankmitph", "link": "https://stackoverflow.com/users/2273277/stefankmitph"}, "reply_to_user": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425510560, "post_id": 28866545, "comment_id": 45998541, "body": "maybe it works with <code>(JArray)JsonConvert.DeserializeObject(item[i].ToString())</code>?"}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425510658, "post_id": 28866545, "comment_id": 45998574, "body": "No, same: Invalid arguments."}, {"owner": {"reputation": 2998, "user_id": 2273277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZgzP.jpg?s=128&g=1", "display_name": "stefankmitph", "link": "https://stackoverflow.com/users/2273277/stefankmitph"}, "reply_to_user": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425510721, "post_id": 28866545, "comment_id": 45998598, "body": "could you tell me what <code>item[i]</code> exactly is when you debug it?"}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425510736, "post_id": 28866545, "comment_id": 45998603, "body": "And please note: Item for each entity is like: [    -9221176.0728999991,    4120407.4526000023  ],  [    -9221176.0427000001,    4120407.6987999976  ]]"}, {"owner": {"reputation": 2998, "user_id": 2273277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZgzP.jpg?s=128&g=1", "display_name": "stefankmitph", "link": "https://stackoverflow.com/users/2273277/stefankmitph"}, "reply_to_user": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425510845, "post_id": 28866545, "comment_id": 45998637, "body": "could you post the entire json?"}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425510859, "post_id": 28866545, "comment_id": 45998644, "body": "The item variable, in the data given, has two arrays"}, {"owner": {"reputation": 2998, "user_id": 2273277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZgzP.jpg?s=128&g=1", "display_name": "stefankmitph", "link": "https://stackoverflow.com/users/2273277/stefankmitph"}, "reply_to_user": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425510916, "post_id": 28866545, "comment_id": 45998665, "body": "could you post the entire json?"}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 1, "creation_date": 1425510988, "post_id": 28866545, "comment_id": 45998701, "body": "Yes, working on posting the entire  JSON; ...it is big so will give a link"}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "reply_to_user": {"reputation": 2998, "user_id": 2273277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZgzP.jpg?s=128&g=1", "display_name": "stefankmitph", "link": "https://stackoverflow.com/users/2273277/stefankmitph"}, "edited": false, "score": 0, "creation_date": 1425511201, "post_id": 28866545, "comment_id": 45998780, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/72281/discussion-between-meengla-and-stefankmitph\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 2998, "user_id": 2273277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZgzP.jpg?s=128&g=1", "display_name": "stefankmitph", "link": "https://stackoverflow.com/users/2273277/stefankmitph"}, "is_accepted": true, "score": 1, "last_activity_date": 1425513133, "last_edit_date": 1425513133, "creation_date": 1425508919, "answer_id": 28866545, "question_id": 28865772, "link": "https://stackoverflow.com/questions/28865772/formatting-a-json-net-jarray-to-a-string-in-a-certain-way/28866545#28866545", "title": "Formatting a Json.NET Jarray to a String in a certain way", "body": "<p>Assuming <code>raw_coords</code> is your Jarray </p>\n\n<pre><code>List&lt;string&gt; myCoordsList = new List&lt;string&gt;();\n\nforeach(JToken item in raw_coords)\n{\n    List&lt;string&gt; listOfPairs = new List&lt;string&gt;();\n    var result = item.ToObject&lt;JArray&gt;();\n    foreach (JToken jToken in result)\n    {\n        var jarray = (JArray) jToken;\n        IEnumerable&lt;string&gt; nums = jarray.Values&lt;string&gt;();\n        listOfPairs.Add(string.Join(\" \", nums));\n    }\n\n    myCoordsList.Add(string.Format(\"({0})\", string.Join(\",\", listOfPairs)));\n}\nstring coordsString = string.Join(\",\", myCoordsList);\n</code></pre>\n\n<p>the result is</p>\n\n<pre><code>(-9221176.0729 4120407.4526),(-9221176.0427 4120407.6988),(-9221176.1341 4120407.4603),(-9221176.0729 4120407.4526),(-9221176.104 4120407.7063),(-9221176.1341 4120407.4603) ...\n</code></pre>\n\n<p>for the first few pairs of coords.</p>\n"}, {"comments": [{"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1425514237, "post_id": 28866616, "comment_id": 45999748, "body": "Thanks! Never got around to trying your solution but sure appreciate your help."}], "tags": [], "owner": {"reputation": 33, "user_id": 4537328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BZGuq.jpg?s=128&g=1", "display_name": "Carmelo Floridia", "link": "https://stackoverflow.com/users/4537328/carmelo-floridia"}, "is_accepted": false, "score": 0, "last_activity_date": 1425509223, "creation_date": 1425509223, "answer_id": 28866616, "question_id": 28865772, "link": "https://stackoverflow.com/questions/28865772/formatting-a-json-net-jarray-to-a-string-in-a-certain-way/28866616#28866616", "title": "Formatting a Json.NET Jarray to a String in a certain way", "body": "<p>The following solution gives the result you want:</p>\n\n<pre><code>string json = @\"[ \n    [    -9221176.0728999991,    4120407.4526000023  ],  \n    [    -9221176.0427000001,    4120407.6987999976  ]\n ]\";\n\nJArray raw_coords = JArray.Parse(json);\nList&lt;string&gt; coords_final = new List&lt;string&gt;();\n\nforeach (var item in raw_coords.Children())\n{\n    coords_final.Add(\"(\"+String.Join&lt;object&gt;(\",\", item)+\")\");\n}\n\nstring coords = String.Join(\",\",coords_final.ToArray());\n\nConsole.WriteLine (coords);\n</code></pre>\n\n<hr>\n\n<p>(-9221176.0729,4120407.4526),(-9221176.0427,4120407.6988)</p>\n"}], "owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3093, "favorite_count": 0, "accepted_answer_id": 28866545, "answer_count": 2, "score": 1, "last_activity_date": 1425513133, "creation_date": 1425506050, "last_edit_date": 1425509013, "question_id": 28865772, "link": "https://stackoverflow.com/questions/28865772/formatting-a-json-net-jarray-to-a-string-in-a-certain-way", "title": "Formatting a Json.NET Jarray to a String in a certain way", "body": "<p>I have the following code which is looping through a raw_coords JSON.NET JArray object. </p>\n\n<pre><code>List&lt;string&gt; coords_final = new List&lt;string&gt;();\nforeach (var item in raw_coords.Children())\n{\n    var itemcount = item.Count();\n    for (int i = 0; i &lt; itemcount; i++) //loop through rows\n    {\n        var coord_temp1 = item[i].ToString();\n        coord_temp1 = coord_temp1.Trim(new Char[] { ' ', ',', '.' });\n        coord_temp1 = coord_temp1.Trim(new Char[] { ' ', '[', '.' });\n        coord_temp1 = coord_temp1.Trim(new Char[] { ' ', ']', '.' });\n        coord_temp1 = coord_temp1.Replace(',', ' ');\n        coords_final.Add(coord_temp1);\n    }\n}\n</code></pre>\n\n<p>In the above loop, the value of the <code>item</code> variable is something like:</p>\n\n<pre><code>item [ [    -9221176.0728999991,    4120407.4526000023  ],  [    -9221176.0427000001,    4120407.6987999976  ]],[[...],[]]\n</code></pre>\n\n<p>And, in the data above, the <code>coords_final</code> does become an array with two elements. But what I <strong>need is one string variable which will have data in the form of</strong>:</p>\n\n<pre><code>(-9221176.0729 4120407.4526000023, -9221176.0427 4120407.6987999976), (..)..\n</code></pre>\n\n<p>My code above is adapted from another C# program but the data that currently yields is like:</p>\n\n<pre><code>-9221176.0729 4120407.4526000023, -9221176.0427 4120407.6987999976, -9221176.1341 4120407.4602999985,\n</code></pre>\n\n<p>which is not what I need.</p>\n\n<p>So how can I make the data to be in the desired format--as shown above? I have tried to prepend \"(\" and append \")\" but that didn't work.</p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1425507016, "post_id": 28865565, "comment_id": 45996976, "body": "How is <code>Clone</code> defined?"}, {"owner": {"reputation": 109, "user_id": 4515101, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ca3c963edfc222facc0d495f96972ce4?s=128&d=identicon&r=PG&f=1", "display_name": "user4515101", "link": "https://stackoverflow.com/users/4515101/user4515101"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1425508508, "post_id": 28865565, "comment_id": 45997719, "body": "i added please look again"}, {"owner": {"reputation": 34608, "user_id": 84206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/144fd462785db33cf6665cafd54101c7?s=128&d=identicon&r=PG", "display_name": "AaronLS", "link": "https://stackoverflow.com/users/84206/aaronls"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1425511144, "post_id": 28865565, "comment_id": 45998754, "body": "@RufusL Clone is a property name, it is defined by CWoman and CMan"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1425514271, "post_id": 28865565, "comment_id": 45999763, "body": "In your code above, the objects <code>CMan</code> and <code>CWoman</code> have no properties (except the <code>id</code> that they inherit from <code>CUser</code>. In the classes <code>Man</code> and <code>Woman</code>, there is a property called <code>Clone</code> that is of type <code>Clone.CMan</code> and <code>Clone.CWoman</code> respectively. Where is THAT type defined?"}], "answers": [{"tags": [], "owner": {"reputation": 34608, "user_id": 84206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/144fd462785db33cf6665cafd54101c7?s=128&d=identicon&r=PG", "display_name": "AaronLS", "link": "https://stackoverflow.com/users/84206/aaronls"}, "is_accepted": false, "score": 0, "last_activity_date": 1425516745, "last_edit_date": 1425516745, "creation_date": 1425511579, "answer_id": 28867096, "question_id": 28865565, "link": "https://stackoverflow.com/questions/28865565/why-i-get-double-column-in-ef/28867096#28867096", "title": "Why I Get Double Column in EF?", "body": "<p>Both of these are defined in separate derived classes, and since they are navigation properties, they generate a foreign key for each:</p>\n\n<pre><code>public Clone.CWoman Clone { get; set; }\n\npublic Clone.CMan Clone { get; set; }\n</code></pre>\n\n<p>You could move these up to the base class instead and eliminate CWoman/CMan, instead making it of type CUser:</p>\n\n<pre><code>public class User\n{\n    [Key]\n    public long id { get; set; }\n    public Clone.CUser Clone { get; set; }\n\n}\n</code></pre>\n\n<p>That should get rid of one of the duplicate FK's, but not sure if this solution fits in with what you are trying to accomplish though.</p>\n"}], "owner": {"reputation": 109, "user_id": 4515101, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ca3c963edfc222facc0d495f96972ce4?s=128&d=identicon&r=PG&f=1", "display_name": "user4515101", "link": "https://stackoverflow.com/users/4515101/user4515101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1425516745, "creation_date": 1425505299, "last_edit_date": 1425510962, "question_id": 28865565, "link": "https://stackoverflow.com/questions/28865565/why-i-get-double-column-in-ef", "title": "Why I Get Double Column in EF?", "body": "<p>Why do I get a double up of columns, as pictured:</p>\n\n<p><img src=\"https://i.stack.imgur.com/P4Wzw.png\" alt=\"enter image description here\"></p>\n\n<p>How can I get this columns united to one column instead of 2 columns? </p>\n\n<pre><code>public class User\n{\n    [Key]\n    public long id { get; set; }\n}\n\npublic class Woman : User\n{\n    public Woman()\n    {\n        s = new SharedManWoman();\n        Clone = new Clone.CWoman();\n    }\n\n    public Clone.CWoman Clone { get; set; }\n    public SharedManWoman s { get; set; }\n}\n\npublic class Man : User\n{\n    public Man()\n    {\n        s = new SharedManWoman();\n        Clone = new Clone.CMan();\n    }\n\n    public Clone.CMan Clone { get; set; }\n    public SharedManWoman s { get; set; }\n}\n\npublic class SharedManWoman\n{\n    [Key]\n    public long tableId { get; set; }\n}\n\npublic class CUser\n{\n    [Key]\n    public long id { get; set; }\n}\n\npublic class CWoman : CUser {}\n\npublic class CMan : CUser {}\n</code></pre>\n"}, {"tags": ["c#", "image", "visual-studio-2012", "bitmap", "custom-controls"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425505567, "post_id": 28865550, "comment_id": 45996189, "body": "your error message is telling you exactly what the problem is ..so why don&#39;t you provide the actual Path of the Images.. for example create an entry in your app.config file that has the file path this seems to be very straight forward"}, {"owner": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425505914, "post_id": 28865550, "comment_id": 45996381, "body": "that is exactly what I do not want, that means hard coding the exact file path, how else am I able to create this control by suing buttons ina  subfolder called images, the add this to a toolbox where it wont give me this error,clearly I am not seeing it, but thanks for your response, I apprciate some help,after all thats what I asked the question for, not for downvotes and no help"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425506363, "post_id": 28865550, "comment_id": 45996627, "body": "have you heard of a resource file..? do a google search on how to use it in C#"}, {"owner": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425507108, "post_id": 28865550, "comment_id": 45997034, "body": "@MethodMan Thank you for you suggestion, I do not mean to come accross as disrespectful, but if you make a suggest, just give a reason why u suggest this, I am a 2nd year varsity student, and we are still doing fig. console.writeline(), so I do not fully understand these concepts, so if you would be kind enough, just to explain the prob and why you suggest a res.  file, why will that solve the prob?"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425507465, "post_id": 28865550, "comment_id": 45997209, "body": "let me restate my question in a different way.. when you are creating the console application, do you have an <code>app.config</code> file that&#39;s part of your project / solution..? if not then I would read up on how to use the <code>System.COnfiguration Class</code> within the .config file you can add <code>key value</code> pairs and access them using <code>ConfigurationManager.AppSettings[&quot;your key&quot;]</code> I hope hat this makes sense"}], "answers": [{"comments": [{"owner": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "edited": false, "score": 0, "creation_date": 1425505979, "post_id": 28865660, "comment_id": 45996414, "body": "could you please give me an example of how i must do that, I am a 2nd ear varsity student, we are still doing &quot;console.writeline&quot;"}, {"owner": {"reputation": 12626, "user_id": 1102741, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1fc8cdf0e32ee9142baa67269d426b13?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/1102741/oscar"}, "reply_to_user": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "edited": false, "score": 0, "creation_date": 1425542559, "post_id": 28865660, "comment_id": 46008264, "body": "@user253935 Been an student is not enough reason for not knowing how to make a simple search in google... I already gave you the keywords ;-)  <a href=\"https://msdn.microsoft.com/en-us/library/bb514517(v=vs.90).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/bb514517(v=vs.90).aspx</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "reply_to_user": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "edited": false, "score": 1, "creation_date": 1448990112, "post_id": 28865660, "comment_id": 55807682, "body": "Don&#39;t be dopey.  He&#39;s running a Forms app, whereas you linked @cybex to a WPF app resource.  He needs to add the images to his application as strongly typed embedded images, after which he can simply grab them from his Resources namespace.  Here&#39;s an answer of mine with details <a href=\"http://stackoverflow.com/a/7970042/1228\">stackoverflow.com/a/7970042/1228</a> there&#39;s a specific option for adding them as System.Drawing.Bitmap instances."}], "tags": [], "owner": {"reputation": 12626, "user_id": 1102741, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1fc8cdf0e32ee9142baa67269d426b13?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/1102741/oscar"}, "is_accepted": false, "score": 0, "last_activity_date": 1425505630, "creation_date": 1425505630, "answer_id": 28865660, "question_id": 28865550, "link": "https://stackoverflow.com/questions/28865550/how-to-load-images-used-in-a-custom-control/28865660#28865660", "title": "How to load images used in a custom control?", "body": "<p>Don't use a hardcoded path! Instead, create a resource file an embed the image there, then load it as usually with resources.</p>\n"}], "owner": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1053, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1448989555, "creation_date": 1425505236, "last_edit_date": 1448989555, "question_id": 28865550, "link": "https://stackoverflow.com/questions/28865550/how-to-load-images-used-in-a-custom-control", "title": "How to load images used in a custom control?", "body": "<p>I am creating a custom control, a media player tool for C# Windows forms.</p>\n\n<p>My control has custom images for the standard buttons (e.g., play, pause, stop, next, previous, random).  My problem is that I can't load these images correctly.  Since I'm doing this in the control's constructor, it fails during design time when I drag the control from the toolbox and drop it onto a form.</p>\n\n<p>It works fine when I load images using the full path to the actual file</p>\n\n<pre><code>Image bmpPlay = Image.FromFile(@\"C:\\Users\\CybeX\\Documents\\Visual Studio 2012\\Projects\\WindowsFormsApplication3\\WindowsFormsApplication3\\bin\\Debug\\images\\play.bmp\");\n</code></pre>\n\n<p>But I don't want to do this as, obviously, the paths will be different depending on where the application is installed.  I tried using relative paths</p>\n\n<pre><code>Image bmpPause = Image.FromFile(@\"Images\\pause.bmp\");\n</code></pre>\n\n<p>but this throws an exception, saying that it cannot find the file specified.</p>\n\n<p>I tried copying these images to the debug folder for the application but gives the same error.</p>\n\n<p>How can I create these images during runtime in a way that will work reliably no matter where the application is installed?</p>\n\n<p>For completeness, here's the code for my control.  </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nusing System.IO;\n\nnamespace WindowsFormsApplication3\n{\n    public partial class mediaplayerbox : System.Windows.Forms.Button\n    {    \n        const int buttonwidth = 150;\n        const int buttonheight = 150;        \n\n        public mediaplayerbox()\n        {\n            InitializeComponent();\n\n            Button btnPlay = new Button();\n            Button btnPause = new Button();\n            Button btnStop = new Button();\n            Button btnNext = new Button();\n            Button btnPrevious = new Button();\n            Button btnPlayRandom = new Button();\n\n            btnPlay.SetBounds(0, 0, buttonwidth, buttonheight);\n            btnPause.SetBounds(btnPlay.Left + buttonwidth, 0, buttonwidth, buttonheight);\n            btnStop.SetBounds(btnPause.Left + buttonwidth, 0, buttonwidth, buttonheight);\n            btnNext.SetBounds(btnStop.Left + buttonwidth, 0, buttonwidth, buttonheight);\n            btnPrevious.SetBounds(btnNext.Left + buttonwidth, 0, buttonwidth, buttonheight);\n            btnPlayRandom.SetBounds(btnPrevious.Left + buttonwidth, 0, buttonwidth, buttonheight);\n\n            Image bmpPlay = Image.FromFile(@\"C:\\Users\\CybeX\\Documents\\Visual Studio 2012\\Projects\\WindowsFormsApplication3\\WindowsFormsApplication3\\bin\\Debug\\images\\play.bmp\");\n            Image bmpPause = Image.FromFile(@\"Images\\pause.bmp\");\n            Image bmpStop = Image.FromFile(@\"Images\\stop.bmp\");\n            Image bmpNext = Image.FromFile(@\"Images\\next.bmp\");\n            Image bmpPrevious = Image.FromFile(@\"Images\\previous.bmp\");\n            Image bmpPlayRandom = Image.FromFile(@\"Images\\play_random.bmp\");\n\n            btnPlay.Image = bmpPlay;\n            btnPause.Image = bmpPause;\n            btnStop.Image = bmpStop;\n            btnPrevious.Image = bmpNext;\n            btnNext.Image = bmpPrevious;\n            btnPlayRandom.Image = bmpPlayRandom;\n\n            btnPlay.ImageAlign = ContentAlignment.MiddleCenter;\n            btnPause.ImageAlign = ContentAlignment.MiddleCenter;\n            btnStop.ImageAlign = ContentAlignment.MiddleCenter;\n            btnNext.ImageAlign = ContentAlignment.MiddleCenter;\n            btnPrevious.ImageAlign = ContentAlignment.MiddleCenter;\n            btnPlayRandom.ImageAlign = ContentAlignment.MiddleCenter;\n\n            btnPlay.FlatStyle = FlatStyle.Flat;\n            btnPlay.FlatStyle = FlatStyle.Flat;\n            btnPlay.FlatStyle = FlatStyle.Flat;\n            btnNext.FlatStyle = FlatStyle.Flat;\n            btnPrevious.FlatStyle = FlatStyle.Flat;\n            btnPlayRandom.FlatStyle = FlatStyle.Flat;    \n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "dynamic"], "answers": [{"comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1425506268, "post_id": 28865596, "comment_id": 45996579, "body": "Check out Eric Lippert&#39;s answer to the same question - <a href=\"http://stackoverflow.com/questions/9382130/why-does-a-method-invocation-expression-have-type-dynamic-even-when-there-is-onl\" title=\"why does a method invocation expression have type dynamic even when there is onl\">stackoverflow.com/questions/9382130/&hellip;</a> to understand why C# defines behavior that way (and hence intellisence behaves that way)."}, {"owner": {"reputation": 2934, "user_id": 746674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7bb83e111a90fa717af1dac727d1884b?s=128&d=identicon&r=PG", "display_name": "Phil Cooper", "link": "https://stackoverflow.com/users/746674/phil-cooper"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1425544083, "post_id": 28865596, "comment_id": 46008994, "body": "@AlexeiLevenkov nice, and the title perfectly sums it up as well &#39;Why does a method invocation expression have type dynamic even when there is only one possible return type?&#39;.  &#39;only one possible return type&#39; led to my initial confusion."}, {"owner": {"reputation": 2273, "user_id": 321302, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i0esA.jpg?s=128&g=1", "display_name": "Steves", "link": "https://stackoverflow.com/users/321302/steves"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1426169916, "post_id": 28865596, "comment_id": 46269390, "body": "@Alexei Levenkov Eric Lippert says himself that there could be type inference, but they did choose not to implement it. Still intellisense and compiler were two different things, only now with Roslyn it is one thing. So intellisense implementors could choose to do some analysis to provide type info where possible."}], "tags": [], "owner": {"reputation": 2273, "user_id": 321302, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i0esA.jpg?s=128&g=1", "display_name": "Steves", "link": "https://stackoverflow.com/users/321302/steves"}, "is_accepted": false, "score": 0, "last_activity_date": 1425505405, "creation_date": 1425505405, "answer_id": 28865596, "question_id": 28865538, "link": "https://stackoverflow.com/questions/28865538/dynamic-arguments-and-return-type/28865596#28865596", "title": "Dynamic arguments and return type", "body": "<p>Because C# has methods overloads: the correct method to be invoked is determined by the static type of the arguments. The intellisense could be clever and find out that there is in fact only one candidate, but apparently it is not so clever.</p>\n\n<p>There are decent intellisense implementations for dynamic languages like PHP (PHP tools for Visual Studio), Python and they can deal with things like that. I suppose that <code>dynamic</code> is expected to be used sparsely and in truly dynamic situations, so the authors of C# intellisense did not bother to implement such clever analysis.</p>\n"}, {"comments": [{"owner": {"reputation": 2934, "user_id": 746674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7bb83e111a90fa717af1dac727d1884b?s=128&d=identicon&r=PG", "display_name": "Phil Cooper", "link": "https://stackoverflow.com/users/746674/phil-cooper"}, "edited": false, "score": 0, "creation_date": 1425505612, "post_id": 28865615, "comment_id": 45996213, "body": "But aren&#39;t I calling an extension method on object of type IEnumerable&lt;T&gt; - the dynamic just happens to be an argument?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 2934, "user_id": 746674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7bb83e111a90fa717af1dac727d1884b?s=128&d=identicon&r=PG", "display_name": "Phil Cooper", "link": "https://stackoverflow.com/users/746674/phil-cooper"}, "edited": false, "score": 1, "creation_date": 1425505652, "post_id": 28865615, "comment_id": 45996239, "body": "@PhilCooper No, you&#39;re (trying to) calling an extension method on an object of type <code>dynamic</code>, as intellisense is correctly telling you."}, {"owner": {"reputation": 2273, "user_id": 321302, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i0esA.jpg?s=128&g=1", "display_name": "Steves", "link": "https://stackoverflow.com/users/321302/steves"}, "edited": false, "score": 0, "creation_date": 1425505760, "post_id": 28865615, "comment_id": 45996296, "body": "Still does not mean that the intelisense could not be clever enough to pick this up :-)"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 2273, "user_id": 321302, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i0esA.jpg?s=128&g=1", "display_name": "Steves", "link": "https://stackoverflow.com/users/321302/steves"}, "edited": false, "score": 1, "creation_date": 1425505943, "post_id": 28865615, "comment_id": 45996395, "body": "@Steves That would be making it function incorrectly, because the expression is not in fact any type other than <code>dynamic</code>.  The type of the expression is <code>dynamic</code>.  It is <i>correctly</i> informing you of this.  It could guess at what the actual runtime type of that dynamic object might be, but <i>the whole point of using <code>dynamic</code> is that you don&#39;t know the types statically</i>.  If the types are statically know, <i>specify them statically</i>."}, {"owner": {"reputation": 2934, "user_id": 746674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7bb83e111a90fa717af1dac727d1884b?s=128&d=identicon&r=PG", "display_name": "Phil Cooper", "link": "https://stackoverflow.com/users/746674/phil-cooper"}, "edited": false, "score": 0, "creation_date": 1425506080, "post_id": 28865615, "comment_id": 45996467, "body": "Ok, thanks for the explanation, I get it now.  Looks like i&#39;ll reach out for the static method on the extension to get round this.  Now, where&#39;s that c# in depth book..."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "reply_to_user": {"reputation": 2934, "user_id": 746674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7bb83e111a90fa717af1dac727d1884b?s=128&d=identicon&r=PG", "display_name": "Phil Cooper", "link": "https://stackoverflow.com/users/746674/phil-cooper"}, "edited": false, "score": 0, "creation_date": 1425506143, "post_id": 28865615, "comment_id": 45996506, "body": "@PhilCooper linked <a href=\"http://stackoverflow.com/questions/9382130/why-does-a-method-invocation-expression-have-type-dynamic-even-when-there-is-onl\">duplicate</a> is better than a book :)"}], "tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": true, "score": 1, "last_activity_date": 1425505464, "creation_date": 1425505464, "answer_id": 28865615, "question_id": 28865538, "link": "https://stackoverflow.com/questions/28865538/dynamic-arguments-and-return-type/28865615#28865615", "title": "Dynamic arguments and return type", "body": "<p>You cannot call extension methods on object of type <code>dynamic</code>.  Extension methods are a purely compile time construct.  At runtime, it will search for an instance method called <code>FirstOrDefault</code>, not find one, and therefore error out.</p>\n\n<p>Your solutions are to either cast the result of <code>Query</code> to the appropriate type before calling <code>FirstOrDefault</code> on it, or to not use the extension method syntax and instead write out: <code>Queryable.FirstOrDefault(Query&lt;T&gt;(...))</code> which will tell the runtime binder that it's trying to bind the result of <code>Query</code> to the appropriate static method, rather than an instance method.</p>\n\n<p>As for why any method accepting arguments of type <code>dynamic</code> always resolves to an expression of type <code>dynamic</code>: that's simply what the specs say to do.  The whole <em>point</em> of using <code>dynamic</code> is to defer binding of the methods until runtime, so it cannot be sure of what the value of that expression will be until runtime; to get around that, it needs to propagate the <code>dynamic</code> type.</p>\n"}, {"tags": [], "owner": {"reputation": 9793, "user_id": 2391169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47b9c6b03a46672d5698ec565319c072?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/2391169/david"}, "is_accepted": false, "score": 1, "last_activity_date": 1425505758, "creation_date": 1425505758, "answer_id": 28865695, "question_id": 28865538, "link": "https://stackoverflow.com/questions/28865538/dynamic-arguments-and-return-type/28865695#28865695", "title": "Dynamic arguments and return type", "body": "<p>The issue is that since you called a method with <code>dynamic</code>, the return will be <code>dynamic</code> so the CLR can determine the proper method overload to use at runtime, which may cause a variation in the return type.</p>\n\n<p>This means that you cannot call <code>.FirstOrDefault</code> directly, because that method doesn't exist on the class, it's an extension method (and seeing there's bot <code>IEnumerable</code> and <code>IQueryable</code> forms, an ambiguous extension). While it would be convenient, the dynamic type doesn't look up extension methods, only ones defined on the class it has at runtime.</p>\n\n<p>One way to Fix this, though, is to call the Extension method as a static method:</p>\n\n<pre><code>return Enumerable.FirstOrDefault(Query&lt;T&gt;(command, param));\n</code></pre>\n\n<p>Not as elegant, but since all extension methods are static methods, this should solve your problem.</p>\n"}], "owner": {"reputation": 2934, "user_id": 746674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7bb83e111a90fa717af1dac727d1884b?s=128&d=identicon&r=PG", "display_name": "Phil Cooper", "link": "https://stackoverflow.com/users/746674/phil-cooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 702, "favorite_count": 0, "closed_date": 1425506034, "accepted_answer_id": 28865615, "answer_count": 3, "score": 0, "last_activity_date": 1425505758, "creation_date": 1425505188, "question_id": 28865538, "link": "https://stackoverflow.com/questions/28865538/dynamic-arguments-and-return-type", "closed_reason": "Duplicate", "title": "Dynamic arguments and return type", "body": "<p>Apologies if this is blindingly obvious but I can't work it out or string together the right search terms to find the answer I'm looking for.</p>\n\n<p>Consider the following code:</p>\n\n<pre><code>public IEnumerable&lt;T&gt; Query&lt;T&gt;(string command, dynamic param = null)\n{\n  return Enumerable.Empty&lt;T&gt;();\n}\n\npublic T FirstOrDefault&lt;T&gt;(string command, dynamic param = null)\n{\n  return Query&lt;T&gt;(command, param).FirstOrDefault();\n}\n</code></pre>\n\n<p>The <code>Linq</code> extension method <code>FirstOrDefault</code> for <code>IEnumerable&lt;T&gt;</code> is not picked up presumably because of the dynamic argument but I can't understand why.</p>\n\n<p>Intellisense on the method declares that it will be resolved at runtime but I don't understand why the return value is being affected by the dynamic argument as it's only an argument being passed through.</p>\n\n<p><img src=\"https://i.stack.imgur.com/d4VUe.png\" alt=\"enter image description here\"></p>\n\n<p>Can someone put me out of my misery?</p>\n"}, {"tags": ["c#", "error-handling", "asp.net-web-api"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 2, "creation_date": 1425505401, "post_id": 28865487, "comment_id": 45996113, "body": "can you show what code you have in regards to what you have tried or what you are trying to do..?"}], "answers": [{"tags": [], "owner": {"reputation": 462, "user_id": 4138629, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7a72e32d8f8e3d4971f930f91e0cda7e?s=128&d=identicon&r=PG&f=1", "display_name": "geohnH", "link": "https://stackoverflow.com/users/4138629/geohnh"}, "is_accepted": true, "score": 12, "last_activity_date": 1425663338, "creation_date": 1425663338, "answer_id": 28904410, "question_id": 28865487, "link": "https://stackoverflow.com/questions/28865487/how-can-i-retrieve-passed-exception-from-httpresponsemessagehttpstatuscode-exc/28904410#28904410", "title": "How can I retrieve passed exception from HttpResponseMessage(HttpStatusCode, Exception)", "body": "<p>To get the error message from the HttpResponseMessage you have to get the HttpError object as shown below. The HttpError object then contains the ExceptionMessage, ExceptionType, and StackTrace information.</p>\n\n<pre><code>if(!response.IsSuccessStatusCode){\n    HttpError error = response.Content.ReadAsAsync&lt;HttpError&gt;().Result;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2328, "user_id": 2281257, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/5vJVV.jpg?s=128&g=1", "display_name": "David McEleney", "link": "https://stackoverflow.com/users/2281257/david-mceleney"}, "is_accepted": false, "score": 6, "last_activity_date": 1436427983, "creation_date": 1436427983, "answer_id": 31311176, "question_id": 28865487, "link": "https://stackoverflow.com/questions/28865487/how-can-i-retrieve-passed-exception-from-httpresponsemessagehttpstatuscode-exc/31311176#31311176", "title": "How can I retrieve passed exception from HttpResponseMessage(HttpStatusCode, Exception)", "body": "<p>you could try using </p>\n\n<pre><code> response.EnsureSuccessStatusCode()\n</code></pre>\n\n<p>Which will throw an exception if a successful response code isn't received. </p>\n"}], "owner": {"reputation": 462, "user_id": 4138629, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7a72e32d8f8e3d4971f930f91e0cda7e?s=128&d=identicon&r=PG&f=1", "display_name": "geohnH", "link": "https://stackoverflow.com/users/4138629/geohnh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8206, "favorite_count": 0, "accepted_answer_id": 28904410, "answer_count": 2, "score": 7, "last_activity_date": 1436427983, "creation_date": 1425505006, "last_edit_date": 1425506155, "question_id": 28865487, "link": "https://stackoverflow.com/questions/28865487/how-can-i-retrieve-passed-exception-from-httpresponsemessagehttpstatuscode-exc", "title": "How can I retrieve passed exception from HttpResponseMessage(HttpStatusCode, Exception)", "body": "<p>According to the following website, you can pass an exception parameter to the HttpResponseMessage.CreateErrorResponse method (<a href=\"https://msdn.microsoft.com/en-us/library/jj127064(v=vs.118).aspx\" rel=\"noreferrer\">https://msdn.microsoft.com/en-us/library/jj127064(v=vs.118).aspx</a>)</p>\n\n<p>My question is how can I retrieve the exception information from the HttpResponseMessage created by the CreateErrorResponse method. If there is not way to get the exception information, what is the point of having a method overload for taking an exception as an input?</p>\n\n<p>To clarify on what answers I am not looking for...\nI know that I can pass a customized error reason in the content of the body (<a href=\"http://weblogs.asp.net/fredriknormen/asp-net-web-api-exception-handling\" rel=\"noreferrer\">http://weblogs.asp.net/fredriknormen/asp-net-web-api-exception-handling</a>) but I am really just curious about how to use the <em>HttpRequestMessageExtensions.CreateErrorResponse Method (HttpRequestMessage, HttpStatusCode, <strong>Exception</strong>)</em> method overload. </p>\n\n<p>Example WebAPI Controller:</p>\n\n<pre><code>Route(\"location/{locationName}/Databases/{databasename}/ProcedureSession\")][LocationSetUp]\npublic HttpResponseMessage Post([FromBody] ProcedureSessionData procedureSession)\n    {\n        try\n        {\n            throw new Exception(\"test Exception\");\n        }\n        catch (Exception e)\n        {\n           return Request.CreateErrorResponse(HttpStatusCode.InternalServerError,\n             e);\n        }\n    }\n</code></pre>\n\n<p>How do I pick up the exception in this code:</p>\n\n<pre><code>using (var client = new HttpClient())\n  {\n    client.BaseAddress = new Uri(\"http://localhost/\");\n    client.DefaultRequestHeaders.Accept.Clear();\n    client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n\n    string api = \"testApi/location/here/databases/testDb/ProcedureSession\";\n    HttpResponseMessage response = client.PostAsJsonAsync(api, newSessionData).Result;\n    if (!response.IsSuccessStatusCode)\n    {\n         //how can i pick up the exception object from here? \n         //Or am I missing the point of this CreateErrorResponse overload?\n    }\n</code></pre>\n"}, {"tags": ["c#", "svn", "visualsvn-server", "sharpsvn"], "comments": [{"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1425505152, "post_id": 28865431, "comment_id": 45995986, "body": "<a href=\"http://stackoverflow.com/q/561855/62576\">stackoverflow.com/q/561855/62576</a>"}, {"owner": {"reputation": 31, "user_id": 4564284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/805976d2a1c25a791a3183bf25c60619?s=128&d=identicon&r=PG&f=1", "display_name": "kazakm", "link": "https://stackoverflow.com/users/4564284/kazakm"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1425506254, "post_id": 28865431, "comment_id": 45996573, "body": "@Ken White: I&#39;ve seen this, and I don&#39;t know how it&#39;s related to my problem even though the error message is the same."}, {"owner": {"reputation": 4057, "user_id": 89432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab853284719020f2c0a1961a51a81ea?s=128&d=identicon&r=PG", "display_name": "Ivan Zhakov", "link": "https://stackoverflow.com/users/89432/ivan-zhakov"}, "edited": false, "score": 0, "creation_date": 1425509033, "post_id": 28865431, "comment_id": 45997930, "body": "Did you make any customizations in httpd-custom.conf? Which version of SharpSvn are you using?"}, {"owner": {"reputation": 31, "user_id": 4564284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/805976d2a1c25a791a3183bf25c60619?s=128&d=identicon&r=PG&f=1", "display_name": "kazakm", "link": "https://stackoverflow.com/users/4564284/kazakm"}, "reply_to_user": {"reputation": 4057, "user_id": 89432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab853284719020f2c0a1961a51a81ea?s=128&d=identicon&r=PG", "display_name": "Ivan Zhakov", "link": "https://stackoverflow.com/users/89432/ivan-zhakov"}, "edited": false, "score": 0, "creation_date": 1425511813, "post_id": 28865431, "comment_id": 45998977, "body": "@ivanzhakov: No, we didn&#39;t touch httpd-custom.conf. We use SharpSvn version 1.8008.3178.19, but we also tried 1.8009.3299.43 with the same result."}, {"owner": {"reputation": 4057, "user_id": 89432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab853284719020f2c0a1961a51a81ea?s=128&d=identicon&r=PG", "display_name": "Ivan Zhakov", "link": "https://stackoverflow.com/users/89432/ivan-zhakov"}, "edited": false, "score": 0, "creation_date": 1425513034, "post_id": 28865431, "comment_id": 45999388, "body": "@kazakm May be you have cached credentials in %APPDATA%\\Subversion\\auth? As far I understand log messages the situation is the following: first requests performed using one credentials, second using another (cached?) credentials.  Did you have any related errors in Security logs?"}, {"owner": {"reputation": 31, "user_id": 4564284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/805976d2a1c25a791a3183bf25c60619?s=128&d=identicon&r=PG&f=1", "display_name": "kazakm", "link": "https://stackoverflow.com/users/4564284/kazakm"}, "reply_to_user": {"reputation": 4057, "user_id": 89432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab853284719020f2c0a1961a51a81ea?s=128&d=identicon&r=PG", "display_name": "Ivan Zhakov", "link": "https://stackoverflow.com/users/89432/ivan-zhakov"}, "edited": false, "score": 0, "creation_date": 1425516620, "post_id": 28865431, "comment_id": 46000532, "body": "@IvanZhakov   I provided more info in my original post, and I also included the complete implementation of the &quot;Branch&quot; method. The application is running on machines which also have TortoiseSVN installed, and the users access the repository using both apps. They also tend to &quot;save&quot; credentials in TortoiseSVN (a checkbox in the credentials dialog).   Unfortunately, I no longer see old security log messages. They have been erased."}, {"owner": {"reputation": 4057, "user_id": 89432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab853284719020f2c0a1961a51a81ea?s=128&d=identicon&r=PG", "display_name": "Ivan Zhakov", "link": "https://stackoverflow.com/users/89432/ivan-zhakov"}, "edited": false, "score": 0, "creation_date": 1425573432, "post_id": 28865431, "comment_id": 46027083, "body": "@kazakm See my answer: basically operation still performed using credentials of logged on user since integrated authentication considered with higher priority."}, {"owner": {"reputation": 31, "user_id": 4564284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/805976d2a1c25a791a3183bf25c60619?s=128&d=identicon&r=PG&f=1", "display_name": "kazakm", "link": "https://stackoverflow.com/users/4564284/kazakm"}, "reply_to_user": {"reputation": 4057, "user_id": 89432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab853284719020f2c0a1961a51a81ea?s=128&d=identicon&r=PG", "display_name": "Ivan Zhakov", "link": "https://stackoverflow.com/users/89432/ivan-zhakov"}, "edited": false, "score": 0, "creation_date": 1425926172, "post_id": 28865431, "comment_id": 46152594, "body": "@IvanZhakov But why did it work after VisualSVN service restart? It should have kept on failing... Also, other operations involved accessing SVN using the same authentication mechanism had been working fine even before the restart."}, {"owner": {"reputation": 4057, "user_id": 89432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab853284719020f2c0a1961a51a81ea?s=128&d=identicon&r=PG", "display_name": "Ivan Zhakov", "link": "https://stackoverflow.com/users/89432/ivan-zhakov"}, "edited": false, "score": 0, "creation_date": 1427440054, "post_id": 28865431, "comment_id": 46786026, "body": "@kazakm Btw, how many files are you trying to copy? I&#39;m asking because I found another related bug that svn cannot commit more than 10K of files using NTLM."}, {"owner": {"reputation": 31, "user_id": 4564284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/805976d2a1c25a791a3183bf25c60619?s=128&d=identicon&r=PG&f=1", "display_name": "kazakm", "link": "https://stackoverflow.com/users/4564284/kazakm"}, "reply_to_user": {"reputation": 4057, "user_id": 89432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab853284719020f2c0a1961a51a81ea?s=128&d=identicon&r=PG", "display_name": "Ivan Zhakov", "link": "https://stackoverflow.com/users/89432/ivan-zhakov"}, "edited": false, "score": 0, "creation_date": 1427757502, "post_id": 28865431, "comment_id": 46900459, "body": "@IvanZhakov In this particular case, the application tried to copy about 1800 files."}, {"owner": {"reputation": 4057, "user_id": 89432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab853284719020f2c0a1961a51a81ea?s=128&d=identicon&r=PG", "display_name": "Ivan Zhakov", "link": "https://stackoverflow.com/users/89432/ivan-zhakov"}, "edited": false, "score": 0, "creation_date": 1427834081, "post_id": 28865431, "comment_id": 46936255, "body": "@kazakm On more clarification: did you copy one directory with 1800 files or <code>sources</code> parameter has 1800 entries?"}, {"owner": {"reputation": 31, "user_id": 4564284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/805976d2a1c25a791a3183bf25c60619?s=128&d=identicon&r=PG&f=1", "display_name": "kazakm", "link": "https://stackoverflow.com/users/4564284/kazakm"}, "reply_to_user": {"reputation": 4057, "user_id": 89432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab853284719020f2c0a1961a51a81ea?s=128&d=identicon&r=PG", "display_name": "Ivan Zhakov", "link": "https://stackoverflow.com/users/89432/ivan-zhakov"}, "edited": false, "score": 0, "creation_date": 1428424272, "post_id": 28865431, "comment_id": 47151841, "body": "@IvanZhakov it tried to copy 1800 individual &quot;sources&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 4057, "user_id": 89432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab853284719020f2c0a1961a51a81ea?s=128&d=identicon&r=PG", "display_name": "Ivan Zhakov", "link": "https://stackoverflow.com/users/89432/ivan-zhakov"}, "is_accepted": false, "score": 1, "last_activity_date": 1425570521, "creation_date": 1425570521, "answer_id": 28882003, "question_id": 28865431, "link": "https://stackoverflow.com/questions/28865431/svn-copy-error-501-method-not-implemented/28882003#28882003", "title": "SVN COPY error: 501 Method Not Implemented", "body": "<p>You should disable SharpSvn (and Subversion) to use Integrated Authentication ('ntlm' and 'negotiate') if you're going to specify credentials for operation. </p>\n\n<p>Try add code like this:</p>\n\n<pre><code>client.Configuration.SetOption(\"servers\", \"global\", \"http-auth-types\", \"basic\");\n</code></pre>\n\n<p>Probably this is a bug in Subversion, SharpSvn or serf, but proposed workaround should work.</p>\n"}], "owner": {"reputation": 31, "user_id": 4564284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/805976d2a1c25a791a3183bf25c60619?s=128&d=identicon&r=PG&f=1", "display_name": "kazakm", "link": "https://stackoverflow.com/users/4564284/kazakm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1425570521, "creation_date": 1425504812, "last_edit_date": 1425516505, "question_id": 28865431, "link": "https://stackoverflow.com/questions/28865431/svn-copy-error-501-method-not-implemented", "title": "SVN COPY error: 501 Method Not Implemented", "body": "<p>We've been using VisualSVN (standard edition) for a few years without any problems. We have a C# application which stores data in SVN. It uses SharpSvn (<a href=\"https://sharpsvn.open.collab.net\" rel=\"nofollow\">https://sharpsvn.open.collab.net</a>) library for SVN access. Occasionally, the application executes a server-side SVN COPY command (SharpSvn's \"RemoteCopy\") to create a branch based on a series of existing in the repository files.</p>\n\n<p>We recently updated VisualSVN from version 2.5.2 to 3.2.2 and also purchased a license to unlock enterprise features of the product. We enabled Integrated Windows Authentication, but also kept Basic Authentication for backward compatibility.</p>\n\n<p>After running for a week without any problems (performing only reads from SVN), our application tried to perform the copy for the first time, and it failed with the following error complaining about one of the files that had to be copied:</p>\n\n<p>\"COPY request on '/svn/repository/!svn/rvr/12345/trunk/file.xml' failed: 501 Method Not Implemented\" </p>\n\n<p>The server log reveals the following:</p>\n\n<pre><code>Level,Date and Time,Source,Event ID,Task Category\nError,2015-03-03 9:37:26 AM,VisualSVN Server 3.2,1001,Apache,\"Multi-author commits not supported.  [501, #175002] [client 192.168.1.100]\"\nError,2015-03-03 9:37:26 AM,VisualSVN Server 3.2,1001,Apache,\"Could not fetch resource information.  [501, #0] [client 192.168.1.100]\"\nError,2015-03-03 9:37:26 AM,VisualSVN Server 3.2,1001,Apache,\"SSPI Challenge failed: The token supplied to the function is invalid [client 192.168.1.100]\"\nError,2015-03-03 9:37:21 AM,VisualSVN Server 3.2,1001,Apache,\"SSPI Challenge failed: The token supplied to the function is invalid [client 192.168.1.100]\"\n</code></pre>\n\n<p>After restarting VisualSVN service, the command completed without any problems. This had never happened before with the older versions of VisualSVN.</p>\n\n<p>This is how we create a branch using SharpSvn:</p>\n\n<pre><code>    private static void Branch(ICollection&lt;SvnUriTarget&gt; sources, Uri targetUri, string comment, string userName, string password)\n    {\n        if (sources == null) throw new ArgumentNullException(\"sources\");\n        if (targetUri == null) throw new ArgumentNullException(\"targetUri\");\n        if (comment.IsNullEmptyOrSpaces()) throw new ArgumentNullException(\"comment\");\n        if (userName.IsNullEmptyOrSpaces()) throw new ArgumentNullException(\"userName\");\n        if (password.IsNullEmptyOrSpaces()) throw new ArgumentNullException(\"password\");\n\n        using (var client = new SvnClient())\n        {\n            client.Authentication.Clear();\n            client.Authentication.DefaultCredentials = new NetworkCredential(userName, password);\n            client.Authentication.SslServerTrustHandlers += (sender, e) =&gt; { e.AcceptedFailures = e.Failures; e.Save = true; };\n\n            SvnCommitResult commitResult;\n            if (!client.RemoteCopy(sources, targetUri, new SvnCopyArgs { CreateParents = true, LogMessage = comment }, out commitResult))\n                throw new ApplicationException(\"Failed to create tag/branch in Repository\");\n        }\n    }\n</code></pre>\n\n<p>In our application, we are still using Basic Authentication, and credentials are explicitly passed to every SharpSvn call. The application requests credentials from the user, and then it uses these credentials to perform a single call of the \"Branch\" method. \nTwo different users tried to do this using their own credentials on two different machine with the same result. Only restart of VisualSVN service fixed the problem. I'm worried that this problem may come back again...</p>\n"}, {"tags": ["c#", "asp.net-mvc", "if-statement"], "comments": [{"owner": {"reputation": 11176, "user_id": 4251546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee0787c93711e13244a8547e1316cc?s=128&d=identicon&r=PG", "display_name": "Vsevolod Goloviznin", "link": "https://stackoverflow.com/users/4251546/vsevolod-goloviznin"}, "edited": false, "score": 0, "creation_date": 1425504882, "post_id": 28865425, "comment_id": 45995848, "body": "You can use a tool like Automapper to map your viewmodel to your entity"}, {"owner": {"reputation": 11, "user_id": 2382423, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c0cfc96a3ccda165fec1e7c3ebe4bece?s=128&d=identicon&r=PG", "display_name": "minh nguyen", "link": "https://stackoverflow.com/users/2382423/minh-nguyen"}, "reply_to_user": {"reputation": 11176, "user_id": 4251546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee0787c93711e13244a8547e1316cc?s=128&d=identicon&r=PG", "display_name": "Vsevolod Goloviznin", "link": "https://stackoverflow.com/users/4251546/vsevolod-goloviznin"}, "edited": false, "score": 0, "creation_date": 1425507982, "post_id": 28865425, "comment_id": 45997473, "body": "@Vsevolod Is that something la value injector?"}, {"owner": {"reputation": 11176, "user_id": 4251546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee0787c93711e13244a8547e1316cc?s=128&d=identicon&r=PG", "display_name": "Vsevolod Goloviznin", "link": "https://stackoverflow.com/users/4251546/vsevolod-goloviznin"}, "edited": false, "score": 0, "creation_date": 1425534255, "post_id": 28865425, "comment_id": 46005121, "body": "I wouldn&#39;t say so, it transfers the values from one object to another"}], "answers": [{"comments": [{"owner": {"reputation": 17641, "user_id": 16800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea1de76c4c343fc844135e18da8a80f1?s=128&d=identicon&r=PG", "display_name": "Guvante", "link": "https://stackoverflow.com/users/16800/guvante"}, "edited": false, "score": 1, "creation_date": 1425505079, "post_id": 28865497, "comment_id": 45995959, "body": "You need a <code>ref</code> before <code>channel.Part</code> and <code>channel.Part</code> cannot be a property."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 1, "creation_date": 1425505123, "post_id": 28865497, "comment_id": 45995975, "body": "You can&#39;t pass a property as a &#39;ref&#39; parameter."}], "tags": [], "owner": {"reputation": 9968, "user_id": 312725, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9GV9q.jpg?s=128&g=1", "display_name": "Max Yankov", "link": "https://stackoverflow.com/users/312725/max-yankov"}, "is_accepted": false, "score": 0, "last_activity_date": 1425505039, "creation_date": 1425505039, "answer_id": 28865497, "question_id": 28865425, "link": "https://stackoverflow.com/questions/28865425/optimizing-code-structure-c/28865497#28865497", "title": "Optimizing code structure C#", "body": "<p>If those are fields and not properties, you can use something like this:</p>\n\n<pre><code>void ReplaceIfNotEmpty(ref string destination, string source)\n{\n    if (!string.IsNullOrEmpty(source))\n    {\n        destination = source;\n    }\n}\n</code></pre>\n\n<p>and then just</p>\n\n<pre><code>ReplaceIfNotEmpty(ref channel.Part, viewModel.Part);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": false, "score": 2, "last_activity_date": 1425505075, "creation_date": 1425505075, "answer_id": 28865508, "question_id": 28865425, "link": "https://stackoverflow.com/questions/28865425/optimizing-code-structure-c/28865508#28865508", "title": "Optimizing code structure C#", "body": "<p>If it's just the <code>if</code> that bothers you you could use the conditional operator:</p>\n\n<pre><code>channel.Part = string.IsNullOrEmpty(viewModel.Part) ? \n               channel.Part : viewModel.Part;\netc.\n</code></pre>\n\n<p>of course that <em>always</em> calls the <code>set</code> accessor for <code>Part</code>, which is fine unless there's logic in it (change tracking, etc.) that would be bad if it were called when the value doesn't really change.</p>\n\n<p>You could also refactor the conditional operator to a method, but there's no other way to <em>conditionally</em> set the value without using an <code>if</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 45401, "user_id": 20481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dc41c338d8a89f8cec603f65f6fd0c89?s=128&d=identicon&r=PG", "display_name": "plinth", "link": "https://stackoverflow.com/users/20481/plinth"}, "is_accepted": true, "score": 3, "last_activity_date": 1425507109, "last_edit_date": 1425507109, "creation_date": 1425505111, "answer_id": 28865517, "question_id": 28865425, "link": "https://stackoverflow.com/questions/28865425/optimizing-code-structure-c/28865517#28865517", "title": "Optimizing code structure C#", "body": "<p>As long as your channel object's properties do not have any side-effects other than changing a value (ie, firing events), you could do this:</p>\n\n<pre><code>string PickNonEmptyOrDefault(string value, string deflt)\n{\n    return String.IsNullOrEmpty(value) ? deflt : value;\n}\n\n...\n\nchannel.Part = PickNonEmptyOrDefault(viewModel.Part, channel.Part);\nchannel.IndexName = PickNonEmptyOrDefault(viewModel.IndexName, channel.IndexName);\netc.\n</code></pre>\n\n<p>By the way, I wanted to know if there was a way this could be done without accidentally side effecting your property. The trick is to use reflection and to use a <code>PropertyInfo</code> object to do your work:</p>\n\n<pre><code>    class Foo\n    {\n        public string Bar { get; set; }\n        public string Baz { get; set; }\n        public override string ToString()\n        {\n            return (Bar ?? \"\") + \" \" + (Baz ?? \"\");\n        }\n    }\n    delegate void propsetter(string prop, string value);\n\n    private static void SetOnNonEmpty(PropertyInfo pi, Object o, string value)\n    {\n        if (pi.PropertyType != typeof(string))\n            throw new ArgumentException(\"type mismatch on property\");\n\n        if (!String.IsNullOrEmpty(value))\n            pi.SetValue(o, value);\n    }\n\n    static void Main(string[] args)\n    {\n\n        var myObj = new Foo();\n        myObj.Baz = \"nothing\";\n        PropertyInfo piBar = myObj.GetType().GetProperty(\"Bar\");\n        PropertyInfo piBaz = myObj.GetType().GetProperty(\"Baz\");\n\n        SetOnNonEmpty(piBar, myObj, \"something\");\n        SetOnNonEmpty(piBaz, myObj, null);\n        Console.WriteLine(myObj);\n    }\n</code></pre>\n\n<p>output <code>something nothing</code></p>\n\n<p>I honestly don't recommend doing this as it doesn't really add to the readability and feels pretty gross.</p>\n\n<p>I'd be more inclined to write a chunk of code that reflects across the properties of your view model and calls a <code>Func&lt;string, string&gt;</code> to get the corresponding property name in your data model and then if that returns non-null and the property types match, call the getter on the view object and pass it to the setter on the data object.</p>\n\n<p>And I would only do this if I was doing this a significant number of times.</p>\n"}, {"tags": [], "owner": {"reputation": 589, "user_id": 4633430, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea7b06bed16823582809ee77f5b9dffe?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4633430/matthew"}, "is_accepted": false, "score": 2, "last_activity_date": 1425506043, "last_edit_date": 1425506043, "creation_date": 1425505495, "answer_id": 28865629, "question_id": 28865425, "link": "https://stackoverflow.com/questions/28865425/optimizing-code-structure-c/28865629#28865629", "title": "Optimizing code structure C#", "body": "<p>There is absolutely nothing wrong with the code you have written.</p>\n\n<p>If your objective is less lines of code, you can do this, however I think it will just add unnecessary complexity.</p>\n\n<pre><code>channel.Part = string.IsNullOrWhiteSpace(viewModel.Part) ? channel.Part : viewModel.Part;\nchannel.IndexName = string.IsNullOrWhiteSpace(viewModel.IndexName) ? channel.IndexName: viewModel.IndexName;\nchannel.MeasurementId = viewModel.MeasurementId == null ? channel.MeasurementId : viewModel.MeasurementId;\nchannel.Direction = string.IsNullOrWhiteSpace(viewModel.Direction) ? channel.Direction : viewModel.Direction;\n</code></pre>\n\n<p>Note I have switched your call from IsNullOrEmpty to IsNullOrWhiteSpace </p>\n\n<p>A string with the value of \" \" (one or more whitespace) will get through a IsNullOrEmpty check which you probably dont want.</p>\n\n<p>You can also use the coalesce operator for your nullable types (but not empty strings) like this...</p>\n\n<pre><code>channel.MeasurementId = viewModel.MeasurementId ?? channel.MeasurementId;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "is_accepted": false, "score": 2, "last_activity_date": 1425505795, "last_edit_date": 1495541251, "creation_date": 1425505795, "answer_id": 28865703, "question_id": 28865425, "link": "https://stackoverflow.com/questions/28865425/optimizing-code-structure-c/28865703#28865703", "title": "Optimizing code structure C#", "body": "<p>Your code is fine. Even <a href=\"https://stackoverflow.com/users/22656/jon-skeet\">Jon Skeet</a> uses <code>if</code> statements.</p>\n\n<p>If you want the best performing code, keep it like this. If you want to make your code look <em>pro</em>, use any suggestion done by others here. My opinion: keep it as is.</p>\n"}], "owner": {"reputation": 11, "user_id": 2382423, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c0cfc96a3ccda165fec1e7c3ebe4bece?s=128&d=identicon&r=PG", "display_name": "minh nguyen", "link": "https://stackoverflow.com/users/2382423/minh-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 28865517, "answer_count": 5, "score": -2, "last_activity_date": 1425507109, "creation_date": 1425504791, "question_id": 28865425, "link": "https://stackoverflow.com/questions/28865425/optimizing-code-structure-c", "title": "Optimizing code structure C#", "body": "<p>Here's code I write to check if properties in my viewmodel are null or not before attempting to update the database</p>\n\n<pre><code>   var channel = _context.Channels.FirstOrDefault(x =&gt; x.Id == viewModel.Id);\n\n            if (!string.IsNullOrEmpty(viewModel.Part))\n            {\n                channel.Part = viewModel.Part;\n            }\n            if (!string.IsNullOrEmpty(viewModel.IndexName))\n            {\n                channel.IndexName = viewModel.IndexName;\n            }\n            if (viewModel.MeasurementId != null)\n            {\n                channel.MeasurementId = viewModel.MeasurementId;\n            }\n            if (!string.IsNullOrEmpty(viewModel.Direction))\n            {\n                channel.Direction = viewModel.Direction;\n            }\n</code></pre>\n\n<p>The code is working fine but I use alot of if statements here which for me doesn't look really effective. Can you suggest me changes like using other syntax or structures rather than if statement to make my code more concise and abit more \"pro\"?</p>\n"}, {"tags": ["c#", "sql-server", "reporting-services", "reportingservices-2005", "rdl"], "owner": {"reputation": 347, "user_id": 3417125, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/27ab720c1902f7ab3e9e2460f18f0996?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Bhagat", "link": "https://stackoverflow.com/users/3417125/ali-bhagat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 462, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1464146729, "creation_date": 1425504534, "question_id": 28865353, "link": "https://stackoverflow.com/questions/28865353/ssrs-with-execution-account-custom-connection-strings-and-credentials-settings", "title": "SSRS with Execution Account - Custom Connection Strings and Credentials Settings", "body": "<p>We have a whole bunch of rdl files that we have published on a SQL 2005 Server Reporting Services. There is an execution account on the SSRS that has been setup which we use to retrieve the data for the reports. These existing rdl use a shared data source and have the \"Credentials Not Required\" option set. Because the execution account is set on the SSRS, the data source works without credentials from the user.</p>\n\n<p>I am trying to add a new report which has to be in the same location as the other reports with a difference that it uses a custom connection string like this: </p>\n\n<pre><code>&lt;DataSources&gt;\n    &lt;DataSource Name=\"DataSource1\"&gt;\n      &lt;rd:DataSourceID&gt;41caaa2-1111-2222-4444-466666666666&lt;/rd:DataSourceID&gt;\n      &lt;ConnectionProperties&gt;\n        &lt;DataProvider&gt;SQL&lt;/DataProvider&gt;\n        &lt;ConnectString&gt;=\"Data Source=\" &amp;amp; Parameters!dbServer.Value &amp;amp; \";Initial Catalog=\" &amp;amp; IIf(Parameters!countryCode.Value = \" \",\"SampleDB\",\"SampleDB\" &amp;amp; Parameters!countryCode.Value)&amp;amp;\";Integrated Security=SSPI;Trusted_Connection=True;\"&lt;/ConnectString&gt;\n      &lt;/ConnectionProperties&gt;\n    &lt;/DataSource&gt;\n  &lt;/DataSources&gt;\n</code></pre>\n\n<p>When creating this rdl I set the credential options as \"Credentials not required\" just like the shared data source used for the other reports. When I manually upload this rdl file to my SSRS the custom connection string remains intact and the credentials remain specified at \"Credentials not required\". </p>\n\n<p>The issue is when we promote this file to our testing and production regions using a custom installer the custom connection string remains intact but the credential options changes to \"Windows Authentication\" or changes to \"Credentials supplied by the user running the report\". In our installer code we have a custom action written in C# that uses this to publish all rdl's to SSRS:</p>\n\n<pre><code>sql2005rs.ReportingService2005.CreateReport(namewithoutExtension, \"/Reports List\", true, definition, null);\n</code></pre>\n\n<p>Any suggestions on why the credentials option that I have set in my rdl gets overwritten? Is there any specific option that I need to provide in my custom connection string to make this work? I have also tried using a connection string without the Integrated Security option and having credentials not required enabled. The results are the same i.e. when the installer publishes the report it flips the credentials to \"Windows Authentication\" or \"Credentials supplied by the user running the report\". </p>\n\n<p>Thanks in advance for any pointers.</p>\n\n<p>Regards\nAli.</p>\n"}, {"tags": ["c#", "asp.net-web-api"], "answers": [{"comments": [{"owner": {"reputation": 16396, "user_id": 188926, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9326f5c0d367d23e417d279add9cc53a?s=128&d=identicon&r=PG&f=1", "display_name": "Dunc", "link": "https://stackoverflow.com/users/188926/dunc"}, "edited": false, "score": 0, "creation_date": 1447173214, "post_id": 30983481, "comment_id": 55043522, "body": "Thanks, nice find! To quote from the link: &quot;Enabling bufferless input is not required with OWIN host, since OwinBufferPolicySelector is streaming requests by default.&quot;"}], "tags": [], "owner": {"reputation": 404, "user_id": 1812941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3e8iG.jpg?s=128&g=1", "display_name": "awquadros", "link": "https://stackoverflow.com/users/1812941/awquadros"}, "is_accepted": false, "score": 1, "last_activity_date": 1434985631, "creation_date": 1434985631, "answer_id": 30983481, "question_id": 28865349, "link": "https://stackoverflow.com/questions/28865349/empty-routedata-in-ihostbufferpolicyselectors-context-in-webapi-2/30983481#30983481", "title": "Empty RouteData in IHostBufferPolicySelector&#39;s context in WebApi 2", "body": "<p>Your post is already a bit old, but recently went through the same problem.</p>\n\n<p>Projects with Owin Host (my case and maybe yours) use OwinBufferedPolicySelector class that already does the job, so do not need to overwrite the class.</p>\n\n<p>OwinContext not exposes RouteData as HttpContextBase.</p>\n\n<p><a href=\"https://books.google.com.br/books?id=7aE8BAAAQBAJ&amp;pg=PA123&amp;lpg=PA123&amp;dq=override+WebHostBufferPolicySelector&amp;source=bl&amp;ots=fvV5SWVsJG&amp;sig=I5t4MBOXdPbgFV4mBCI_kWLWkRw&amp;hl=pt-BR&amp;sa=X&amp;ei=oheIVev2N-TgsASS2IDgCQ&amp;ved=0CD0Q6AEwAw#v=onepage&amp;q=override%20WebHostBufferPolicySelector&amp;f=false\" rel=\"nofollow\">https://books.google.com.br/books?id=7aE8BAAAQBAJ&amp;pg=PA123&amp;lpg=PA123&amp;dq=override+WebHostBufferPolicySelector&amp;source=bl&amp;ots=fvV5SWVsJG&amp;sig=I5t4MBOXdPbgFV4mBCI_kWLWkRw&amp;hl=pt-BR&amp;sa=X&amp;ei=oheIVev2N-TgsASS2IDgCQ&amp;ved=0CD0Q6AEwAw#v=onepage&amp;q=override%20WebHostBufferPolicySelector&amp;f=false</a></p>\n"}, {"tags": [], "owner": {"reputation": 109, "user_id": 3990263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/673d21cfff64b355388e96e3e7dd4d97?s=128&d=identicon&r=PG&f=1", "display_name": "Gurmit Teotia", "link": "https://stackoverflow.com/users/3990263/gurmit-teotia"}, "is_accepted": false, "score": 0, "last_activity_date": 1449248779, "creation_date": 1449248779, "answer_id": 34093701, "question_id": 28865349, "link": "https://stackoverflow.com/questions/28865349/empty-routedata-in-ihostbufferpolicyselectors-context-in-webapi-2/34093701#34093701", "title": "Empty RouteData in IHostBufferPolicySelector&#39;s context in WebApi 2", "body": "<p>I also encountered same issue and solved it by commenting out the call to \"MapHttpAttributeRoutes\" method on HttpConfiguration instance. I do not know why it interfere with RouteData.</p>\n\n<pre><code>    public static void Register(HttpConfiguration config)\n    {\n        // Web API routes \n        //Enabling of below cause empty RoutData in NoBufferPolicySelector class.\n        //config.MapHttpAttributeRoutes();\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3339, "user_id": 654708, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3fe3cf81edd5d63b58a4e6e431cc4c42?s=128&d=identicon&r=PG", "display_name": "GFoley83", "link": "https://stackoverflow.com/users/654708/gfoley83"}, "is_accepted": false, "score": 1, "last_activity_date": 1449548335, "creation_date": 1449548335, "answer_id": 34147930, "question_id": 28865349, "link": "https://stackoverflow.com/questions/28865349/empty-routedata-in-ihostbufferpolicyselectors-context-in-webapi-2/34147930#34147930", "title": "Empty RouteData in IHostBufferPolicySelector&#39;s context in WebApi 2", "body": "<p>Since you are using Owin, you are already using bufferless input so you don't need to make any changes.</p>\n\n<p>By default without Owin, the <code>WebHostBufferPolicySelector</code> is used, which has buffering set to <code>true</code> for input streams:</p>\n\n<p><a href=\"http://aspnetwebstack.codeplex.com/SourceControl/latest#src/System.Web.Http.WebHost/WebHostBufferPolicySelector.cs\" rel=\"nofollow\">http://aspnetwebstack.codeplex.com/SourceControl/latest#src/System.Web.Http.WebHost/WebHostBufferPolicySelector.cs</a></p>\n\n<pre><code>public virtual bool UseBufferedInputStream(object hostContext) {\n    if(hostContext == null) {\n        throw Error.ArgumentNull(\"hostContext\");\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>When you use the Owin middleware layer, <code>OwinBufferPolicySelector</code> is used instead of <code>WebHostBufferPolicySelector</code>, which has buffering set to <code>false</code> for all input streams:\n<a href=\"http://aspnetwebstack.codeplex.com/SourceControl/latest#src/System.Web.Http.Owin/OwinBufferPolicySelector.cs\" rel=\"nofollow\">http://aspnetwebstack.codeplex.com/SourceControl/latest#src/System.Web.Http.Owin/OwinBufferPolicySelector.cs</a></p>\n\n<pre><code>public bool UseBufferedInputStream(object hostContext) {\n    return false;\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4535274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc9b67fd9841341d790bcae93893887c?s=128&d=identicon&r=PG&f=1", "display_name": "Gobaan Raveendran", "link": "https://stackoverflow.com/users/4535274/gobaan-raveendran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 765, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1449548335, "creation_date": 1425504530, "question_id": 28865349, "link": "https://stackoverflow.com/questions/28865349/empty-routedata-in-ihostbufferpolicyselectors-context-in-webapi-2", "title": "Empty RouteData in IHostBufferPolicySelector&#39;s context in WebApi 2", "body": "<p>I am attempting to upload large files in WebApi 2. I was following <a href=\"http://www.strathweb.com/2012/09/dealing-with-large-files-in-asp-net-web-api\" rel=\"nofollow\">this tutorial</a> (which is the same recipe used in the webapi 2 cookbook) where you register a host policy </p>\n\n<pre><code>public class NoBufferPolicySelector : WebHostBufferPolicySelector\n{\n   public override bool UseBufferedInputStream(object hostContext)\n   {\n      var context = hostContext as HttpContextBase;\n\n      if (context != null)\n      {\n         if (string.Equals(context.Request.RequestContext.RouteData.Values[\"controller\"].ToString(), \"uploading\", StringComparison.InvariantCultureIgnoreCase))\n            return false;\n      }\n\n      return true;\n   }\n}\n</code></pre>\n\n<p>However context.Request.RequestContext.RouteData is basically a dummy object with no route data set.</p>\n\n<p>Is there another method for finding the RouteData in webapi 2 from an HttpBaseContext, or possible another method to get deal with bufferless uploads?</p>\n"}, {"tags": ["c#", ".net", "visual-studio", "visual-studio-2012", "msbuild"], "comments": [{"owner": {"reputation": 597, "user_id": 4154327, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GtUQU.jpg?s=128&g=1", "display_name": "CalebB", "link": "https://stackoverflow.com/users/4154327/calebb"}, "edited": false, "score": 0, "creation_date": 1425504699, "post_id": 28865273, "comment_id": 45995779, "body": "When you &quot;Build&quot; a solution as apposed to &quot;Re-Building&quot; the solution it only rebuilds files (.exes and such) that have changed, thus if you make a small changed it would take much longer for it to check over all the files within your solution looking for changes than it would to write those small changes (the actual building). This could be the slight delay you&#39;re experiencing."}, {"owner": {"reputation": 21279, "user_id": 507793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6G686.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/507793/matthew"}, "reply_to_user": {"reputation": 597, "user_id": 4154327, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GtUQU.jpg?s=128&g=1", "display_name": "CalebB", "link": "https://stackoverflow.com/users/4154327/calebb"}, "edited": false, "score": 0, "creation_date": 1425505379, "post_id": 28865273, "comment_id": 45996102, "body": "I have a considerable delay when doing a &quot;Build&quot;, even if no files have changed.  The delay is longer when doing a &quot;Build&quot; on the &quot;Solution&quot;.  My particular example is when doing a &quot;Build&quot; on a single unit-test &quot;Project&quot;."}, {"owner": {"reputation": 597, "user_id": 4154327, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GtUQU.jpg?s=128&g=1", "display_name": "CalebB", "link": "https://stackoverflow.com/users/4154327/calebb"}, "edited": false, "score": 0, "creation_date": 1425505445, "post_id": 28865273, "comment_id": 45996137, "body": "Even if nothing has changed it will still look over the solution or project for changes."}, {"owner": {"reputation": 21279, "user_id": 507793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6G686.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/507793/matthew"}, "reply_to_user": {"reputation": 597, "user_id": 4154327, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GtUQU.jpg?s=128&g=1", "display_name": "CalebB", "link": "https://stackoverflow.com/users/4154327/calebb"}, "edited": false, "score": 0, "creation_date": 1425505556, "post_id": 28865273, "comment_id": 45996185, "body": "I understand that, my question is how to reduce the delay, especially since doing msbuild through the command line gives me the same output without the delay."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 3, "creation_date": 1425508937, "post_id": 28865273, "comment_id": 45997888, "body": "Before it can figure out <i>what</i> needs to be built, it needs to look at 5000 files and retrieve their timestamps.  How long that takes greatly depends on whether that info is present in the file system cache.  With the obvious angle that you&#39;ll complain when it isn&#39;t.  Multiplied by the speed of your storage device.  Forcing it to always have to look at 5000 files is a fairly basic failure to organize.  It will do what you ask it to do, just don&#39;t expect it to be enthusiastic about it.  Perceived VS problems are always located in the corner where it stops being Visual.  And yes, it isn&#39;t."}, {"owner": {"reputation": 1030, "user_id": 756014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23adf85b16b552a7bdb35033a3b7568e?s=128&d=identicon&r=PG", "display_name": "Frank Hileman", "link": "https://stackoverflow.com/users/756014/frank-hileman"}, "edited": false, "score": 0, "creation_date": 1425511879, "post_id": 28865273, "comment_id": 45998998, "body": "With regards to &quot;failure to organize&quot;: if you really need that many projects, try copying the output files from each project build into a standard bin directory, using a build event. Then create solutions that have only a few projects in them, using the files in the bin directory for linking to external binaries (i.e. change some projects from internal to external, depending on the needs of each solution). You probably need to create more solutions."}, {"owner": {"reputation": 21279, "user_id": 507793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6G686.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/507793/matthew"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1425513511, "post_id": 28865273, "comment_id": 45999552, "body": "@HansPassant What is an appropriate number of files / projects for a solution?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1425515358, "post_id": 28865273, "comment_id": 46000121, "body": "It is one less than the number that makes me <a href=\"http://xkcd.com/303/\" rel=\"nofollow noreferrer\">pick up a sword</a>.  I don&#39;t like swords that much."}, {"owner": {"reputation": 21279, "user_id": 507793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6G686.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/507793/matthew"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1425533760, "post_id": 28865273, "comment_id": 46004978, "body": "@HansPassant I don&#39;t know how that helps me to solve my problem.  The fact is that when compiling through msbuild it does not have a delay.  Msbuild is able to detect file changes and rebuild dependencies if appropriate, so I would like to know what Visual Studio is doing different."}, {"owner": {"reputation": 21384, "user_id": 214977, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fmJRN.png?s=128&g=1", "display_name": "granadaCoder", "link": "https://stackoverflow.com/users/214977/granadacoder"}, "edited": false, "score": 0, "creation_date": 1425571804, "post_id": 28865273, "comment_id": 46026016, "body": "Here is another caveat to pay attention to: <a href=\"http://blogs.msdn.com/b/msbuild/archive/2008/02/11/what-s-up-with-xxx-sln-cache.aspx\" rel=\"nofollow noreferrer\">blogs.msdn.com/b/msbuild/archive/2008/02/11/&hellip;</a>"}, {"owner": {"reputation": 96748, "user_id": 74757, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/10331bb0b4eb995500acc85fb0d16aea?s=128&d=identicon&r=PG", "display_name": "C\u1d0f\u0280\u028f", "link": "https://stackoverflow.com/users/74757/c%e1%b4%8f%ca%80%ca%8f"}, "edited": false, "score": 0, "creation_date": 1426019351, "post_id": 28865273, "comment_id": 46198173, "body": "I&#39;m curious whether 7-12 seconds is unreasonable. Is it really that big of a deal? I have much smaller solutions with fewer files that take 30-40 seconds to build on an SSD, and I think that&#39;s still pretty impressive."}, {"owner": {"reputation": 21279, "user_id": 507793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6G686.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/507793/matthew"}, "edited": false, "score": 1, "creation_date": 1426019572, "post_id": 28865273, "comment_id": 46198310, "body": "It&#39;s a big deal when you&#39;re doing TDD and running tests every 15 - 30 seconds."}, {"owner": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1426129971, "post_id": 28865273, "comment_id": 46250205, "body": "Consider installing SSD if you haven&#39;t already..."}], "answers": [{"tags": [], "owner": {"reputation": 942, "user_id": 4631954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sr6qL.png?s=128&g=1", "display_name": "Holger Thiemann", "link": "https://stackoverflow.com/users/4631954/holger-thiemann"}, "is_accepted": false, "score": 1, "last_activity_date": 1426095767, "creation_date": 1426095767, "answer_id": 28993692, "question_id": 28865273, "link": "https://stackoverflow.com/questions/28865273/long-delay-before-visual-studio-starts-to-build/28993692#28993692", "title": "Long delay before Visual Studio starts to build", "body": "<p>I think your problem is \"I have a solution with 50 projects\".\nIn my experience this should not be used for development. This should only be used for a build server.\nSo what I would do is, make several solution files. One big with all projects for the build server, and several ones with just a few projects for development. The packaging of this several solutions should be guided by what often changes together. If the answer is everything I would question the project structure.</p>\n\n<p>Because I do not realy answer your question what exactly vs does in comparison to msbuild, I would normaly write this as a comment. But my reputation is not enough right now (working on that) but because no one else recommended this, I thought it would passibly be worth an answer. Or is this just too obvious that nobody pointed this out? Then please forgive me.</p>\n"}, {"tags": [], "owner": {"reputation": 264295, "user_id": 24874, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b85169daf0d165b94ea4fa70f409686c?s=128&d=identicon&r=PG", "display_name": "Drew Noakes", "link": "https://stackoverflow.com/users/24874/drew-noakes"}, "is_accepted": false, "score": 0, "last_activity_date": 1573777509, "creation_date": 1573777509, "answer_id": 58868556, "question_id": 28865273, "link": "https://stackoverflow.com/questions/28865273/long-delay-before-visual-studio-starts-to-build/58868556#58868556", "title": "Long delay before Visual Studio starts to build", "body": "<p>Visual Studio has its own way of checking whether a project is up to date or not. This can avoid expensive calls to MSBuild, and in general saves a lot of time when only a subset of projects need to be built.</p>\n\n<p>This issue is pretty old, and these days disks tend to be faster, but the comments above are correct. VS must test the timestamp of every input and output to the project to determine whether things are up to date or not. If you have a very large number of inputs/outputs this can take a while, especially if you have slow disks.</p>\n\n<p>Newer versions of VS have improvements to the up-to-date check. You can read more about the fast up-to-date check used by SDK-style projects here:</p>\n\n<p><a href=\"https://github.com/dotnet/project-system/blob/master/docs/up-to-date-check.md\" rel=\"nofollow noreferrer\">https://github.com/dotnet/project-system/blob/master/docs/up-to-date-check.md</a></p>\n"}, {"tags": [], "owner": {"reputation": 4471, "user_id": 1159299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TuX2G.jpg?s=128&g=1", "display_name": "Aidan", "link": "https://stackoverflow.com/users/1159299/aidan"}, "is_accepted": false, "score": 0, "last_activity_date": 1593857375, "creation_date": 1593857375, "answer_id": 62727818, "question_id": 28865273, "link": "https://stackoverflow.com/questions/28865273/long-delay-before-visual-studio-starts-to-build/62727818#62727818", "title": "Long delay before Visual Studio starts to build", "body": "<p>I had the same issue. Unloading all the projects you don't actively need will help. I managed to reduce the time before build start from about 9 seconds to 1 doing this.</p>\n<p>I guess this is more of a workaround than a solution, but it helps.</p>\n<p>To unload a project, right-click it and select &quot;Unload Project&quot;.</p>\n"}], "owner": {"reputation": 21279, "user_id": 507793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6G686.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/507793/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1638, "favorite_count": 1, "answer_count": 3, "score": 14, "last_activity_date": 1593857375, "creation_date": 1425504286, "last_edit_date": 1495540243, "question_id": 28865273, "link": "https://stackoverflow.com/questions/28865273/long-delay-before-visual-studio-starts-to-build", "title": "Long delay before Visual Studio starts to build", "body": "<p>I have a solution with 50 projects, and each project has a minimum of 100 files (which I think is relevant).</p>\n\n<p>The issue is when I build the solution, or a single project, that there is a delay of 5 to 10 seconds before the \"Build Output\" window gets written to.  Setting the \"Build Output\" verbosity to \"Diagnostic\" does not give any indication as what the cause of the delay is.  This delay even occurs when no files have been changed (previously built).</p>\n\n<pre><code>=== Build: 0 succeeded, 0 failed, 10 up-to-date, 0 skipped ==========\n</code></pre>\n\n<p>When there are changes, in the Build Output, it says the build took approximately 2 seconds to complete, however the end-to-end takes roughly 7 to 12 seconds.</p>\n\n<p>Build output:</p>\n\n<pre><code>1&gt;(omitted)\n1&gt;Time Elapsed 00:00:01.99\n========== Build: 1 succeeded, 0 failed, 9 up-to-date, 0 skipped ==========\n</code></pre>\n\n<p>MSBuild:</p>\n\n<pre><code>Build succeeded.\n     0 Warning(s)\n     0 Error(s)\n\n Time Elapsed 00:00:02.17\n\n C:\\Projects\\SharedKernel.Tests&gt;\n</code></pre>\n\n<p>Running MSBuild through the command line has no such delay, the <code>2.17</code> seconds is the time when pressing  on the keyboard to completion.</p>\n\n<p>From what I can tell, the msbuild tasks themselves execute quickly in Visual Studio, but it seems Visual Studio is doing something behind the scenes before the msbuild tasks start that is causing this delay.</p>\n\n<p>When I inspect Visual Studio (devenv.exe) though <a href=\"https://technet.microsoft.com/en-us/library/bb896645.aspx\" rel=\"noreferrer\">Process Monitor</a> I notice calls to <code>CreateFile</code>, <code>QueryDirectory</code>, and <code>CloseFile</code> for every file and folder in the project and the project's dependencies.  This seems to correlate to the delay when looking at the timeline.</p>\n\n<p>How do I reduce the delay from when I start build the build process from within Visual Studio (right click on project > build), to when the build actually occurs?</p>\n\n<p>I looked at the following answers for resolution, however they either do not reduce the delay or are simply not applicable:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/12087068/visual-studio-long-wait-before-starting-to-build\">Visual Studio Long wait before Starting to build</a></li>\n<li><a href=\"https://stackoverflow.com/questions/11573895/visual-studio-hangs-for-20-seconds-before-start-building\">Visual Studio hangs for 20 seconds before start building</a></li>\n<li><a href=\"https://stackoverflow.com/questions/26154641/visual-studio-taking-long-time-to-build-and-load-solution-because-of-nugget\">Visual Studio taking long time to build and load solution because of Nugget</a></li>\n</ul>\n"}, {"tags": ["c#", "linq", "entity-framework", "parameter-passing", "expression-trees"], "comments": [{"owner": {"reputation": 2273, "user_id": 321302, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i0esA.jpg?s=128&g=1", "display_name": "Steves", "link": "https://stackoverflow.com/users/321302/steves"}, "edited": false, "score": 0, "creation_date": 1425504887, "post_id": 28865259, "comment_id": 45995852, "body": "Take a look at this <a href=\"http://tomasp.net/blog/dynamic-linq-queries.aspx/\" rel=\"nofollow noreferrer\">tomasp.net/blog/dynamic-linq-queries.aspx</a>"}], "answers": [{"tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": true, "score": 2, "last_activity_date": 1425505062, "creation_date": 1425505062, "answer_id": 28865507, "question_id": 28865259, "link": "https://stackoverflow.com/questions/28865259/use-the-same-lambda-parameter-across-multiple-filters/28865507#28865507", "title": "Use the same lambda parameter across multiple filters", "body": "<p>You can use the following method to replace all instances of one expression with another:</p>\n\n<pre><code>public static Expression Replace(this Expression expression,\n    Expression searchEx, Expression replaceEx)\n{\n    return new ReplaceVisitor(searchEx, replaceEx).Visit(expression);\n}\ninternal class ReplaceVisitor : ExpressionVisitor\n{\n    private readonly Expression from, to;\n    public ReplaceVisitor(Expression from, Expression to)\n    {\n        this.from = from;\n        this.to = to;\n    }\n    public override Expression Visit(Expression node)\n    {\n        return node == from ? to : base.Visit(node);\n    }\n}\n</code></pre>\n\n<p>Using this you can create one parameter expression to use for your lambda and then replace all instance of the parameter in the bodies of the lambdas that you have with the new parameter that you create.</p>\n"}], "owner": {"reputation": 7717, "user_id": 984335, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/421891a2a2db5ac1bdccf96b941c11cb?s=128&d=identicon&r=PG", "display_name": "Travis Parks", "link": "https://stackoverflow.com/users/984335/travis-parks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 579, "favorite_count": 0, "accepted_answer_id": 28865507, "answer_count": 1, "score": 3, "last_activity_date": 1425505062, "creation_date": 1425504250, "question_id": 28865259, "link": "https://stackoverflow.com/questions/28865259/use-the-same-lambda-parameter-across-multiple-filters", "title": "Use the same lambda parameter across multiple filters", "body": "<p>I am writing a class that allows users to search for entities based on a search term, working against Entity Framework under the hood. Every searchable field is registered with the class. For string fields, the search simply calls <code>String.Contains</code>. For look-up values, a call out to the database lookup table is needed. </p>\n\n<p>For example, this is how to register a simple string filter:</p>\n\n<pre><code>Searcher&lt;Account&gt; searcher = new Searcher&lt;Account&gt;();\nsearcher.AddFilterMapping(\"Name\", e =&gt; e.AccountName);\n</code></pre>\n\n<p>And this is what it looks like to register a lookup value:</p>\n\n<pre><code>searcher.AddFilterMapping(\"Type\", e =&gt; context.AccountTypes.Where(t =&gt; t.Id == e.AccountTypeId).Select(t =&gt; t.Description).FirstOrDefault());\n</code></pre>\n\n<p>The <code>context</code> in the code above is the Entity Framework context. Now, ideally, someone will specify a search term like so:</p>\n\n<pre><code>searcher.SearchTerm = searchTerm;\n</code></pre>\n\n<p>The search should then loop through the filter mappings (lambda expressions) and update their lambda expressions to apply the <code>String.Contains</code>. I was able to write some pretty simply code to add the method call.</p>\n\n<pre><code>MethodInfo containsMethod = typeof(String).GetMethod(\"Contains\");\nConstantExpression searchTermExpression = Expression.Constant(searchTerm);\nforeach (Expression&lt;Func&lt;TEntity, string&gt;&gt; selector in selectors)\n{\n    Expression converter = selector.Body;\n    MethodCallExpression containsExpression = Expression.Call(converter, containsMethod, searchTermExpression);\n    LambdaExpression lambdaExpression = Expression.Lambda&lt;Func&lt;TEntity, bool&gt;&gt;(containsExpression, selector.Parameters);\n    // Then apply the filter to the IQueryable&lt;TEntity&gt; via Where\n}\n</code></pre>\n\n<p>This works fine if all I am doing is applying each filter, one after the other. However, I want to filter using an OR instead of an AND. In that case, I want a single lambda expression. I am simply combining the lambda bodies using <code>Expression.Or</code>.</p>\n\n<p>The problem is the <code>ParameterExpression</code> is different for each expression tree passed to the <code>AddFilterMapping</code>. I get errors along the lines of \"The parameter 'e' was not bound in the LINQ to Entity expression.\" I am pretty sure it is because they are completely different parameter expressions, even if they have the same name.</p>\n\n<p>Is there a way to make sure the same <code>ParameterExpression</code> is shared across all of my lambda expressions?</p>\n"}, {"tags": ["c#", "razor", "model-view-controller"], "answers": [{"comments": [{"owner": {"reputation": 957, "user_id": 4013033, "user_type": "registered", "accept_rate": 66, "profile_image": "https://lh3.googleusercontent.com/-zEKF8g6QCq4/AAAAAAAAAAI/AAAAAAAAADc/Z8HLJ_QNYFk/photo.jpg?sz=128", "display_name": "Casper Nybroe", "link": "https://stackoverflow.com/users/4013033/casper-nybroe"}, "edited": false, "score": 0, "creation_date": 1425505324, "post_id": 28865386, "comment_id": 45996075, "body": "Thank you Steves. This did it! &lt;input type=&#39;hidden&#39; name=&quot;id&quot; value=&quot;@item.LearningNumberId&quot; /&gt;                             &lt;input class=&quot;btn btn-primary&quot; type=&quot;submit&quot; value=&quot;V&#230;lg&quot; /&gt;"}], "tags": [], "owner": {"reputation": 2273, "user_id": 321302, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i0esA.jpg?s=128&g=1", "display_name": "Steves", "link": "https://stackoverflow.com/users/321302/steves"}, "is_accepted": true, "score": 3, "last_activity_date": 1425504624, "creation_date": 1425504624, "answer_id": 28865386, "question_id": 28865255, "link": "https://stackoverflow.com/questions/28865255/mvc-pass-model-id-from-view-to-controller/28865386#28865386", "title": "MVC, Pass model Id from view to controller", "body": "<pre><code>   &lt;input type='hidden' value=\"@item.LearningNumberId\"/&gt;     \n   &lt;input class=\"btn btn-primary\" id=\"@item.LearningNumberId\" type=\"submit\" value=\"V\u00e6lg\"/&gt; \n</code></pre>\n\n<p>just add a hidden with the value and correct name (the same as the action's parameter name).</p>\n"}, {"comments": [{"owner": {"reputation": 957, "user_id": 4013033, "user_type": "registered", "accept_rate": 66, "profile_image": "https://lh3.googleusercontent.com/-zEKF8g6QCq4/AAAAAAAAAAI/AAAAAAAAADc/Z8HLJ_QNYFk/photo.jpg?sz=128", "display_name": "Casper Nybroe", "link": "https://stackoverflow.com/users/4013033/casper-nybroe"}, "edited": false, "score": 0, "creation_date": 1425505371, "post_id": 28865502, "comment_id": 45996097, "body": "Thank you Jim, I used steves but your solution worked as well. And just to answer your question - yes, it is intended to use the Home controller. :) Sorry for the confusion."}], "tags": [], "owner": {"reputation": 6936, "user_id": 866022, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/88753efb648678b6c14d64fe715b216b?s=128&d=identicon&r=PG", "display_name": "yoozer8", "link": "https://stackoverflow.com/users/866022/yoozer8"}, "is_accepted": false, "score": 1, "last_activity_date": 1425505059, "last_edit_date": 1495542504, "creation_date": 1425505059, "answer_id": 28865502, "question_id": 28865255, "link": "https://stackoverflow.com/questions/28865255/mvc-pass-model-id-from-view-to-controller/28865502#28865502", "title": "MVC, Pass model Id from view to controller", "body": "<p>You need a for input with the correct name to submit the value. You can use you existing submit button (just add the <code>name=\"id\"</code> attribute to it and set the value to the id value you want), or you can add a hidden input (as <a href=\"https://stackoverflow.com/a/28865386/866022\">Steves suggests</a>).</p>\n\n<p>Additionally, you've labeled your controller code as \"My current controller\", but your form appears to point to the action specifically in your \"Home\" controller - is that the controller you intended?</p>\n"}, {"comments": [{"owner": {"reputation": 957, "user_id": 4013033, "user_type": "registered", "accept_rate": 66, "profile_image": "https://lh3.googleusercontent.com/-zEKF8g6QCq4/AAAAAAAAAAI/AAAAAAAAADc/Z8HLJ_QNYFk/photo.jpg?sz=128", "display_name": "Casper Nybroe", "link": "https://stackoverflow.com/users/4013033/casper-nybroe"}, "edited": false, "score": 0, "creation_date": 1425506673, "post_id": 28865639, "comment_id": 45996792, "body": "Thank you Lucas. I tried it just to check and this works too."}], "tags": [], "owner": {"reputation": 2732, "user_id": 3202657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8lcHD.jpg?s=128&g=1", "display_name": "Lucas Roselli", "link": "https://stackoverflow.com/users/3202657/lucas-roselli"}, "is_accepted": false, "score": 1, "last_activity_date": 1425505543, "creation_date": 1425505543, "answer_id": 28865639, "question_id": 28865255, "link": "https://stackoverflow.com/questions/28865255/mvc-pass-model-id-from-view-to-controller/28865639#28865639", "title": "MVC, Pass model Id from view to controller", "body": "<p>You don't need to create multiples forms</p>\n\n<p>Replace your view code for the code below:</p>\n\n<pre><code>@using (Html.BeginForm())\n{\n   foreach (var item in Model)\n   {\n      &lt;div class=\"col-md-12 table\" style=\"display: table; margin: 0 0 0 0; \"&gt;\n         &lt;div class=\"col-md-2\"&gt;\n            &lt;p&gt;&lt;b&gt;@Html.DisplayFor(modelItem =&gt; item.Name)&lt;/b&gt;&lt;/p&gt;\n         &lt;/div&gt;\n         &lt;div class=\"col-md-2\"&gt;\n            &lt;p&gt;\n               &lt;button type=\"submit\" value=\"@item.LearningNumberId\" name=\"id\"&gt;CLick!! &lt;/button&gt;\n            &lt;/p&gt;\n         &lt;/div&gt;\n      &lt;/div&gt;\n   }\n}\n</code></pre>\n\n<p>Note: change your input type=\"submit\" to button \nthen the name of the button will be the one who is going to bind and the value is your id </p>\n\n<p>Simple as that!!!</p>\n"}], "owner": {"reputation": 957, "user_id": 4013033, "user_type": "registered", "accept_rate": 66, "profile_image": "https://lh3.googleusercontent.com/-zEKF8g6QCq4/AAAAAAAAAAI/AAAAAAAAADc/Z8HLJ_QNYFk/photo.jpg?sz=128", "display_name": "Casper Nybroe", "link": "https://stackoverflow.com/users/4013033/casper-nybroe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2596, "favorite_count": 0, "accepted_answer_id": 28865386, "answer_count": 3, "score": 0, "last_activity_date": 1425505543, "creation_date": 1425504240, "question_id": 28865255, "link": "https://stackoverflow.com/questions/28865255/mvc-pass-model-id-from-view-to-controller", "title": "MVC, Pass model Id from view to controller", "body": "<p>I have a list of rows taken from a database. When I show them in my view I use foreach to show them all. At each row I have placed a submit button where I want the user to be able to select each row. For this to happen I need to pass the Id to the controller.</p>\n\n<p><strong>Question:</strong> How do I pass the model Id from the view to the controller?</p>\n\n<p>Right now the Id in \"changeCheckBoxStatusToTrue(int? id)\" in the controller is returning NULL.</p>\n\n<p><strong>My current view:</strong></p>\n\n<pre><code>foreach (var item in Model)\n    {\n        &lt;div class=\"col-md-12 table\" style=\"display: table; margin: 0 0 0 0; \"&gt;\n            &lt;div class=\"col-md-2\"&gt;\n                &lt;p&gt;&lt;b&gt;@Html.DisplayFor(modelItem =&gt; item.Name)&lt;/b&gt;&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col-md-2\"&gt;\n                &lt;p&gt;\n                    @using (Html.BeginForm(\"changeCheckBoxStatusToTrue\", \"Home\", FormMethod.Post))\n                    {\n                        //var id = item.LearningNumberId; &lt;-- I tried this but it didnt seem to work?\n                    &lt;input class=\"btn btn-primary\" id=\"@item.LearningNumberId\" type=\"submit\" value=\"V\u00e6lg\" /&gt;                     \n                    }                        \n                &lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    }\n</code></pre>\n\n<p><strong>My current controller:</strong></p>\n\n<pre><code>    [HttpPost]\n    public ActionResult changeCheckBoxStatusToTrue(int? id) {\n\n        var checkboxes = db.LearningNumbers.Where(em =&gt; em.LearningNumberId == id).ToList();\n        checkboxes.ForEach(em =&gt; em.setCheckBox = true);\n        db.SaveChanges();\n\n        return RedirectToAction(\"Index\");\n\n    }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "wpf-controls"], "comments": [{"owner": {"reputation": 4984, "user_id": 3258812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K7rJi.jpg?s=128&g=1", "display_name": "Ayyappan Subramanian", "link": "https://stackoverflow.com/users/3258812/ayyappan-subramanian"}, "edited": false, "score": 0, "creation_date": 1425504281, "post_id": 28865247, "comment_id": 45995530, "body": "Whats the file extension of the icon which you try to assign? It should be .ico"}], "answers": [{"comments": [{"owner": {"reputation": 12849, "user_id": 1218281, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2a7d7e9fa2049d4dbf9a508e5eccdb0a?s=128&d=identicon&r=PG", "display_name": "Cyral", "link": "https://stackoverflow.com/users/1218281/cyral"}, "reply_to_user": {"reputation": 3664, "user_id": 1890313, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/6TLgl.png?s=128&g=1", "display_name": "Abdulsalam Elsharif", "link": "https://stackoverflow.com/users/1890313/abdulsalam-elsharif"}, "edited": false, "score": 0, "creation_date": 1425504503, "post_id": 28865272, "comment_id": 45995672, "body": "Yes, this needs to be done for each window you would like to display an icon in."}, {"owner": {"reputation": 3664, "user_id": 1890313, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/6TLgl.png?s=128&g=1", "display_name": "Abdulsalam Elsharif", "link": "https://stackoverflow.com/users/1890313/abdulsalam-elsharif"}, "edited": false, "score": 0, "creation_date": 1425505399, "post_id": 28865272, "comment_id": 45996112, "body": "Thanks Cyral for helping me, Yes your answer is right but you directly type the icon name : Icon=&quot;OrderSystemIcon.ico&quot;. Thanks again :)"}, {"owner": {"reputation": 12849, "user_id": 1218281, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2a7d7e9fa2049d4dbf9a508e5eccdb0a?s=128&d=identicon&r=PG", "display_name": "Cyral", "link": "https://stackoverflow.com/users/1218281/cyral"}, "reply_to_user": {"reputation": 3664, "user_id": 1890313, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/6TLgl.png?s=128&g=1", "display_name": "Abdulsalam Elsharif", "link": "https://stackoverflow.com/users/1890313/abdulsalam-elsharif"}, "edited": false, "score": 0, "creation_date": 1425505568, "post_id": 28865272, "comment_id": 45996190, "body": "Your right, I copied it directly from my own project where it was a directory back."}], "tags": [], "owner": {"reputation": 12849, "user_id": 1218281, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2a7d7e9fa2049d4dbf9a508e5eccdb0a?s=128&d=identicon&r=PG", "display_name": "Cyral", "link": "https://stackoverflow.com/users/1218281/cyral"}, "is_accepted": true, "score": 1, "last_activity_date": 1425505572, "last_edit_date": 1425505572, "creation_date": 1425504286, "answer_id": 28865272, "question_id": 28865247, "link": "https://stackoverflow.com/questions/28865247/icon-does-not-appear-in-windows-taskbar/28865272#28865272", "title": "Icon does not appear in Windows Taskbar", "body": "<p>You need to assign the specific window an icon in your XAML or code behind for an icon to show when debugging.</p>\n\n<pre><code>&lt;Window\n    Icon=\"icon.ico\"\n&lt;/Window&gt;\n</code></pre>\n"}], "owner": {"reputation": 3664, "user_id": 1890313, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/6TLgl.png?s=128&g=1", "display_name": "Abdulsalam Elsharif", "link": "https://stackoverflow.com/users/1890313/abdulsalam-elsharif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 615, "favorite_count": 0, "accepted_answer_id": 28865272, "answer_count": 1, "score": 0, "last_activity_date": 1425505572, "creation_date": 1425504201, "question_id": 28865247, "link": "https://stackoverflow.com/questions/28865247/icon-does-not-appear-in-windows-taskbar", "title": "Icon does not appear in Windows Taskbar", "body": "<p>I work on WPF application and I finishing it, but I notice that when I run the application, the application Icon does no appear in Windows task bar ?</p>\n\n<p><img src=\"https://i.stack.imgur.com/qXwUF.jpg\" alt=\"enter image description here\"></p>\n\n<p>Although I assigned icon for my application in application properties.</p>\n\n<p>Any idea ?</p>\n\n<p>Thanks in advance\nAbdusalam</p>\n"}, {"tags": ["javascript", "c#", "jquery", "asp.net"], "answers": [{"tags": [], "owner": {"reputation": 427, "user_id": 1003954, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f9bc521004ab81dce765ede3c0c0ac81?s=128&d=identicon&r=PG", "display_name": "GVashist", "link": "https://stackoverflow.com/users/1003954/gvashist"}, "is_accepted": true, "score": 4, "last_activity_date": 1425504506, "creation_date": 1425504506, "answer_id": 28865344, "question_id": 28865246, "link": "https://stackoverflow.com/questions/28865246/show-textbox-based-on-selection-from-a-drop-down-box-in-asp-net/28865344#28865344", "title": "show textbox based on selection from a drop-down box in asp.net", "body": "<p>If you are willing to use jQuery, this is how you would do it.</p>\n\n<pre><code>$(function () {\n    $('[id*=\"ddl1\"]').on('change', function () {\n        var val = this.value,\n            $txtbox = $('[id*=\"txt1\"]');\n\n        if (val === \"Yes\") {\n            // Show text box\n            $txtbox.show();\n        } else {\n            // Hide text box\n            $txtbox.hide();\n        }\n    });\n});\n</code></pre>\n\n<p>Also make sure the textbox is hidden on load.</p>\n\n<pre><code>&lt;asp:TextBox ID=\"txt1\" runat=\"server\" style=\"display:none;\"  CssClass=\"form-control\"&gt;&lt;/asp:TextBox&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 2050429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27f8dcc1a6e78e2e8b20f0ffb6223009?s=128&d=identicon&r=PG", "display_name": "david5", "link": "https://stackoverflow.com/users/2050429/david5"}, "is_accepted": false, "score": 2, "last_activity_date": 1425505615, "creation_date": 1425505615, "answer_id": 28865657, "question_id": 28865246, "link": "https://stackoverflow.com/questions/28865246/show-textbox-based-on-selection-from-a-drop-down-box-in-asp-net/28865657#28865657", "title": "show textbox based on selection from a drop-down box in asp.net", "body": "<p>if not use jquery  make AutoPostBack=\"true\" and textbox visible false. then doubleclick ddl1 and write in selectedindexchange method <strong>c#</strong></p>\n\n<pre><code>if(ddl1.selecteditem==true) \n      txt1.visible=true;\nelse\n      txt1.visible=false;\n</code></pre>\n"}], "owner": {"reputation": 4569, "user_id": 1669621, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eba05e844a79ffbb11c2de1caf618581?s=128&d=identicon&r=PG", "display_name": "moe", "link": "https://stackoverflow.com/users/1669621/moe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4349, "favorite_count": 0, "accepted_answer_id": 28865344, "answer_count": 2, "score": -2, "last_activity_date": 1425505615, "creation_date": 1425504192, "question_id": 28865246, "link": "https://stackoverflow.com/questions/28865246/show-textbox-based-on-selection-from-a-drop-down-box-in-asp-net", "title": "show textbox based on selection from a drop-down box in asp.net", "body": "<p>I only want to display the textbox when the user selects Yes from the drop-down. I want to keep hidden or not visible by default the textbox but only show when the Yes is selected from the dropdown.  Thanks.</p>\n\n<pre><code>&lt;asp:DropDownList ID=\"ddl1\" AutoPostBack=\"false\" CssClass=\"form-control\" runat=\"server\" AppendDataBoundItems=\"true\"&gt;\n                            &lt;asp:ListItem Text=\"!!! Please make selection !!!\" Value=\"0\"&gt;&lt;/asp:ListItem&gt;\n                            &lt;asp:ListItem Text=\"Yes\" Value=\"Yes\"&gt;&lt;/asp:ListItem&gt;\n                            &lt;asp:ListItem Text=\"No\" Value=\"No\"&gt;&lt;/asp:ListItem&gt;\n                        &lt;/asp:DropDownList&gt;\n</code></pre>\n\n<p>here is the textbox</p>\n\n<pre><code> &lt;asp:TextBox ID=\"txt1\" runat=\"server\"  CssClass=\"form-control\"&gt;&lt;/asp:TextBox&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "visual-studio", "ado.net"], "comments": [{"owner": {"reputation": 3716, "user_id": 1971438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5862k.jpg?s=128&g=1", "display_name": "fnostro", "link": "https://stackoverflow.com/users/1971438/fnostro"}, "edited": false, "score": 0, "creation_date": 1425505078, "post_id": 28865217, "comment_id": 45995958, "body": "You&#39;re filling a <code>DataSet</code>, but your not using a <code>DataSet</code>. You&#39;re using a collection of &quot;guard&quot; returned from a linq statement. If the collection does not support paging, which means at minimum it must support <code>ICollection</code>, then you cannot page. I don&#39;t know enough about linq to know what&#39;s it&#39;s returning, but I do know you cannot page a <code>GridView</code> just by enabling the paging property.  Maybe fill a Collection that implements ICollection and set the gridview datasource to that.  or...it may just need to be cast to an appropriate collection"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425506161, "post_id": 28865217, "comment_id": 45996520, "body": "do you get any data returned when you use the QuickWatch hovering over <code>dataSet..? if not then change your </code>dataAdatpter.Fill` method to the following  <code>dataAdapter.Fill(dataSet);</code> also wrap the Oracle Data Objects and Oracle Connection object around a <code>using(){}</code> also I think that you should set the end of the Linq statement to use <code>.ToList()</code> when binding why not just set the datasource to the dataSet.."}, {"owner": {"reputation": 7030, "user_id": 3536342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XGovx.png?s=128&g=1", "display_name": "DavidPostill", "link": "https://stackoverflow.com/users/3536342/davidpostill"}, "edited": false, "score": 0, "creation_date": 1425579101, "post_id": 28865217, "comment_id": 46030716, "body": "grammar/formatting/spelling fixed"}, {"owner": {"reputation": 1, "user_id": 4634079, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MENrOxhND0M/AAAAAAAAAAI/AAAAAAAAKn0/DvRHunjKOn4/photo.jpg?sz=128", "display_name": "Lucian Rusu", "link": "https://stackoverflow.com/users/4634079/lucian-rusu"}, "edited": false, "score": 0, "creation_date": 1426375599, "post_id": 28865217, "comment_id": 46348134, "body": "Hello guys! I&#39;m still confused! everything works perfectly .. i can even filter the data, using a <code>where (dataRow[&quot;Nume&quot;].ToString().Contains(&quot;George&quot;)</code> clause  ... but i cannot use the paging function. I&#39;ve used this function before with DataGrid and it worked! Though, never combined with filters.  Is there any other way to do the filters then? How to filter my GridView or my dataset .. or the table inside? I need to put in my form filters by columns! Though, there&#39;s a lot of info and i kinda need paging also ..   thank you"}], "answers": [{"tags": [], "owner": {"reputation": 489, "user_id": 909954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mxL2O.jpg?s=128&g=1", "display_name": "Ovan Crone", "link": "https://stackoverflow.com/users/909954/ovan-crone"}, "is_accepted": false, "score": 1, "last_activity_date": 1426912799, "creation_date": 1426912799, "answer_id": 29179305, "question_id": 28865217, "link": "https://stackoverflow.com/questions/28865217/the-data-source-does-not-support-server-side-data-paging-tolist-is-not-worki/29179305#29179305", "title": "The data source does not support server-side data paging. .toList() is not working", "body": "<p>You will have to tell ASP.NET how to page. in this case it is .Skip().Take()</p>\n"}], "owner": {"reputation": 1, "user_id": 4634079, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MENrOxhND0M/AAAAAAAAAAI/AAAAAAAAKn0/DvRHunjKOn4/photo.jpg?sz=128", "display_name": "Lucian Rusu", "link": "https://stackoverflow.com/users/4634079/lucian-rusu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426912799, "creation_date": 1425504068, "last_edit_date": 1425579101, "question_id": 28865217, "link": "https://stackoverflow.com/questions/28865217/the-data-source-does-not-support-server-side-data-paging-tolist-is-not-worki", "title": "The data source does not support server-side data paging. .toList() is not working", "body": "<p>I'm trying to load some data from a database, and to filter them using this method.\nNow, i want also to show them by pages, especially at the non-filtered part.</p>\n\n<p>I used a <code>DataAdaptor</code> to fill up a dataset table, on which I'm making my filtering.</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n{\n\n    if (!IsPostBack)\n    {\n        string CS = ConfigurationManager.ConnectionStrings[\"DBCS\"].ConnectionString;\n        OracleConnection con = new OracleConnection(CS);\n        string query = \"select * from table1\";\n        OracleDataAdapter dataAdapter = new OracleDataAdapter(query, con);\n\n        DataSet dataSet = new DataSet();\n        dataAdapter.Fill(dataSet, \"mytbl\");\n        Session[\"DATASET\"] = dataSet;\n\n        GridView1.DataSource = from dataRow in dataSet.Tables[\"mytbl\"].AsEnumerable()\n                               orderby dataRow[\"ID\"]\n                               select new guards\n                               {\n                                   ID = Convert.ToInt32(dataRow[\"ID\"]),\n                                   Nume = dataRow[\"NUME\"].ToString()\n                               };\n        GridView1.AllowPaging = true;\n        GridView1.DataBind();\n    }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 4, "creation_date": 1425504089, "post_id": 28865173, "comment_id": 45995419, "body": "Try stepping through the code. I think you&#39;ll find that you&#39;re ending up with a <i>lot</i> more text than you expected, due to <code>navn += delnavn1 + delnavn2 + &quot; &quot;;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": false, "score": 5, "last_activity_date": 1425504271, "creation_date": 1425504271, "answer_id": 28865264, "question_id": 28865173, "link": "https://stackoverflow.com/questions/28865173/get-this-error-when-i-try-to-debug-an-exception-of-type-system-outofmemoryexc/28865264#28865264", "title": "Get this error when I try to debug. &quot;An exception of type &#39;System.OutOfMemoryException&#39; occurred in mscorlib.dll but was not handled in user code&quot;", "body": "<p>I suspect this is the immediate problem:</p>\n\n<pre><code>navn += delnavn1 + delnavn2 + \" \";\n</code></pre>\n\n<p>You're <em>concatenating</em> with the previous value of <code>navn</code>. So if you start off with \"Hello there\", when you get to the first space you'll have:</p>\n\n<pre><code>delnavn1 = \" \"\ndelnavn2 = \"There\"\nnavn = \"Hello there\" + delnavn1 + delnavn2;\n</code></pre>\n\n<p>i.e. <code>navn = \"Hello there There\"</code>.</p>\n\n<p>Here's a rather simpler approach:</p>\n\n<pre><code>char[] text = txtNavn.Text.ToCharArray();\nfor (int i = 0; i &lt; text.Length; i++)\n{\n    char c = text[i];\n    text[i] = i == 0 || text[i - 1] == ' '\n        ? char.ToUpper(c)\n        : char.ToLower(c);       \n}\ntxbMelding.Text = \"Du heter \" + new string(text);\n</code></pre>\n\n<p>Replacing the letters in an array \"in place\" is much simpler than messing around with strings concatenation and substrings.</p>\n\n<p>Note that this is still a very crude way of performing title-casing - you should probably look at <a href=\"https://msdn.microsoft.com/en-us/library/system.globalization.textinfo.totitlecase\"><code>TextInfo.ToTitleCase</code></a> for a more comprehensive culture-sensitive code (and code that you don't need to write yourself!)</p>\n"}], "owner": {"reputation": 1, "user_id": 4634123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a577ffe96d3bf40515f3bce65deb4e42?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Vatsv&#229;g", "link": "https://stackoverflow.com/users/4634123/erik-vatsv%c3%a5g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 445, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425504271, "creation_date": 1425503921, "last_edit_date": 1425504053, "question_id": 28865173, "link": "https://stackoverflow.com/questions/28865173/get-this-error-when-i-try-to-debug-an-exception-of-type-system-outofmemoryexc", "title": "Get this error when I try to debug. &quot;An exception of type &#39;System.OutOfMemoryException&#39; occurred in mscorlib.dll but was not handled in user code&quot;", "body": "<p>I am trying to make a application that makes all the first letters to capital letters and the others to small. </p>\n\n<pre><code>string navn = txtNavn.Text;\nstring delnavn1, delnavn2;\n\ndelnavn1 = navn.Substring(0, 1).ToUpper();\ndelnavn2 = navn.Substring(1).ToLower();\nnavn = delnavn1 + delnavn2;\n\nif (navn.Contains(\" \"))\n{\n\n    for (int i = 0; i &lt; navn.Length; i++)\n    {\n        if (navn.Substring(i, 1) == \" \")\n        {\n            delnavn1 = navn.Substring(i, 1).ToUpper();\n            delnavn2 = navn.Substring(i + 2).ToLower();\n            navn += delnavn1 + delnavn2 + \" \";\n        }\n\n    }\n\n}\nelse\n{\n    delnavn1 = navn.Substring(0, 1).ToUpper();\n    delnavn2 = navn.Substring(1).ToLower();\n    navn = delnavn1 + delnavn2;\n}\n\n\ntxbMelding.Text = \"Du heter \" + navn;\n</code></pre>\n\n<p>Sorry for weird variablenames, I am norwegian and did not have enough time to change them.</p>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1425504230, "post_id": 28865161, "comment_id": 45995501, "body": "Where are double quotes?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4633139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/939a0a514eccbc00395396045882269e?s=128&d=identicon&r=PG&f=1", "display_name": "timo_pomer", "link": "https://stackoverflow.com/users/4633139/timo-pomer"}, "edited": false, "score": 0, "creation_date": 1425505014, "post_id": 28865230, "comment_id": 45995924, "body": "i see you escaped many things.2 questions.1:why .+? and not all matches like i did? 2:im getting this error <a href=\"http://i.imgur.com/bLpTt1p.png\" rel=\"nofollow noreferrer\">i.imgur.com/bLpTt1p.png</a>"}], "tags": [], "owner": {"reputation": 19021, "user_id": 922198, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/RKeIA.png?s=128&g=1", "display_name": "Parimal Raj", "link": "https://stackoverflow.com/users/922198/parimal-raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1425504121, "creation_date": 1425504121, "answer_id": 28865230, "question_id": 28865161, "link": "https://stackoverflow.com/questions/28865161/c-simple-regex-match-doesnt-work-properly-for-me/28865230#28865230", "title": "C# simple regex match doesnt work properly for me", "body": "<p>Try :</p>\n\n<pre><code>var regex = new Regex(\"href=\\\"/skin/(.+?)\\\"\");\nvar matches = regex.Matches(line);\nforeach (string regfr in matches)\n    MessageBox.Show(regfr);\n</code></pre>\n\n<p>The only issue with your current Regex pattern is that it is missing <code>\"</code> after <code>=</code>. So, <code>href=/skin/(.*)</code> must be <code>href=\"/skin/(.*)</code></p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 4633139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/939a0a514eccbc00395396045882269e?s=128&d=identicon&r=PG&f=1", "display_name": "timo_pomer", "link": "https://stackoverflow.com/users/4633139/timo-pomer"}, "edited": false, "score": 0, "creation_date": 1425508064, "post_id": 28866046, "comment_id": 45997511, "body": "it works,so thank you for that,im not sure what this means:matches.Cast&lt;Match&gt;().ToList()"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 21, "user_id": 4633139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/939a0a514eccbc00395396045882269e?s=128&d=identicon&r=PG&f=1", "display_name": "timo_pomer", "link": "https://stackoverflow.com/users/4633139/timo-pomer"}, "edited": false, "score": 1, "creation_date": 1425508223, "post_id": 28866046, "comment_id": 45997583, "body": "@timo_pomer: BTW, using this <code>.Cast()</code> allows you to use LINQ on the match collection. It turned out a very handy thing for me."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1425507697, "last_edit_date": 1425507697, "creation_date": 1425507033, "answer_id": 28866046, "question_id": 28865161, "link": "https://stackoverflow.com/questions/28865161/c-simple-regex-match-doesnt-work-properly-for-me/28866046#28866046", "title": "C# simple regex match doesnt work properly for me", "body": "<p>In <code>var matches = regex.Matches(line);</code>, <code>matches</code> is a MatchCollection. You cannot declare the items as strings.</p>\n\n<p>Your error message says that a <code>Match</code> object cannot be cast to a <code>String</code>.</p>\n\n<p>You should first cast the MatchCollection to the array or list of something that can be iterated. Like this:</p>\n\n<pre><code>var regex = new Regex(@\"href=\"\"/skin/([^\"\"]*)(?=\"\")\");\nvar line = @\"&lt;a href=\"\"/skin/result1\"\"&gt;\";\nvar matches = regex.Matches(line);\nforeach (var regfr in matches.Cast&lt;Match&gt;().ToList())\n    MessageBox.Show(regfr.Groups[1].Value);\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4633139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/939a0a514eccbc00395396045882269e?s=128&d=identicon&r=PG&f=1", "display_name": "timo_pomer", "link": "https://stackoverflow.com/users/4633139/timo-pomer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 28866046, "answer_count": 2, "score": 0, "last_activity_date": 1425508321, "creation_date": 1425503893, "last_edit_date": 1425508321, "question_id": 28865161, "link": "https://stackoverflow.com/questions/28865161/c-simple-regex-match-doesnt-work-properly-for-me", "title": "C# simple regex match doesnt work properly for me", "body": "<p>I'm trying to write some code in C# to extract information out of a string using a regex:</p>\n\n<pre><code>var regex = new Regex(\"href=/skin/(.*)\");\nvar matches = regex.Matches(line);\nforeach (string regfr in matches)\n    MessageBox.Show(regfr);\n</code></pre>\n\n<p>I'm doing something REALLY WRONG, I've done regex before but here it's much more confusing.</p>\n\n<p>I want to turn:</p>\n\n<pre><code>&lt;a href=\"/skin/result1\"&gt;\n</code></pre>\n\n<p>into:</p>\n\n<pre><code>result1\n</code></pre>\n\n<p>i used this in php on preg_match which is easy to use..</p>\n\n<pre><code>a%20href=\"/skin/(.*)\"\n</code></pre>\n\n<p>and it worked, this is probably really easy, but I'm extremely confused with the way these object-oriented things work :P</p>\n"}, {"tags": ["c#", "stack-overflow", "il"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 2, "creation_date": 1425504318, "post_id": 28865139, "comment_id": 45995554, "body": "I just ran the code and both crashed at 30k in debug mode and both ran just fine at 30k on release mode.  You probably only ran the non-generic version in debug mode."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 28426, "user_id": 791010, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRxuE.png?s=128&g=1", "display_name": "James Thorpe", "link": "https://stackoverflow.com/users/791010/james-thorpe"}, "edited": false, "score": 1, "creation_date": 1425504355, "post_id": 28865139, "comment_id": 45995580, "body": "@JamesThorpe Those calls aren&#39;t going to affect the size of the stack frame though, because they won&#39;t be on the stack when its recursing."}, {"owner": {"reputation": 20130, "user_id": 479869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oiCBo.jpg?s=128&g=1", "display_name": "Steve Wellens", "link": "https://stackoverflow.com/users/479869/steve-wellens"}, "edited": false, "score": 0, "creation_date": 1425504848, "post_id": 28865139, "comment_id": 45995836, "body": "Instead of  <code>F( 1000 )</code> did you mean <code>Foo(1000)</code>?"}, {"owner": {"reputation": 2015, "user_id": 4586108, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0srZq.jpg?s=128&g=1", "display_name": "lcastillov", "link": "https://stackoverflow.com/users/4586108/lcastillov"}, "edited": false, "score": 0, "creation_date": 1425504972, "post_id": 28865139, "comment_id": 45995896, "body": "Yes, I Did. Sorry For That."}, {"owner": {"reputation": 1878, "user_id": 783757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d7414299cef6b015786d8f81cbf59f?s=128&d=identicon&r=PG", "display_name": "Sergey Krusch", "link": "https://stackoverflow.com/users/783757/sergey-krusch"}, "edited": false, "score": 2, "creation_date": 1425505168, "post_id": 28865139, "comment_id": 45995995, "body": "The stack structures that you create in both examples have nothing to do with the thread stack because they live in the heap. Thus, it doesn&#39;t really matter if you call Stack&lt;&gt;.Push method once or million times: it will not affect thread stack usage"}, {"owner": {"reputation": 1878, "user_id": 783757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d7414299cef6b015786d8f81cbf59f?s=128&d=identicon&r=PG", "display_name": "Sergey Krusch", "link": "https://stackoverflow.com/users/783757/sergey-krusch"}, "edited": false, "score": 0, "creation_date": 1425505483, "post_id": 28865139, "comment_id": 45996150, "body": "Also, the question itself... Have you double-checked everything before asking? Stack frame size differs for both methods, but not that much (i.e. not 30 times!)"}, {"owner": {"reputation": 2015, "user_id": 4586108, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0srZq.jpg?s=128&g=1", "display_name": "lcastillov", "link": "https://stackoverflow.com/users/4586108/lcastillov"}, "edited": false, "score": 0, "creation_date": 1425505682, "post_id": 28865139, "comment_id": 45996253, "body": "Sergey Krush, I know that. There is not special reason for using Stack data structure here, just the fact that in my computer the second example above crashed (on debug and release mode)."}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 1, "creation_date": 1425505840, "post_id": 28865139, "comment_id": 45996339, "body": "I replicated the OP&#39;s issue when compiling to x86. <code>Stack</code> crashes at n = 19261; <code>Stack&lt;int&gt;</code> crashes at n = 3 (i.e. much later)."}, {"owner": {"reputation": 34608, "user_id": 84206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/144fd462785db33cf6665cafd54101c7?s=128&d=identicon&r=PG", "display_name": "AaronLS", "link": "https://stackoverflow.com/users/84206/aaronls"}, "edited": false, "score": 1, "creation_date": 1425506102, "post_id": 28865139, "comment_id": 45996485, "body": "@LeandroCastilloVald&#233;s Are you getting a overflow exception, out of memory exception, or something else?"}, {"owner": {"reputation": 1878, "user_id": 783757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d7414299cef6b015786d8f81cbf59f?s=128&d=identicon&r=PG", "display_name": "Sergey Krusch", "link": "https://stackoverflow.com/users/783757/sergey-krusch"}, "reply_to_user": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 0, "creation_date": 1425506126, "post_id": 28865139, "comment_id": 45996493, "body": "@Douglas, really? How? I have tried this for x86 as well: stack frame size for the version with templates is 8 bytes, stack frame size for version with objects is 20 bytes."}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "reply_to_user": {"reputation": 1878, "user_id": 783757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d7414299cef6b015786d8f81cbf59f?s=128&d=identicon&r=PG", "display_name": "Sergey Krusch", "link": "https://stackoverflow.com/users/783757/sergey-krusch"}, "edited": false, "score": 0, "creation_date": 1425506287, "post_id": 28865139, "comment_id": 45996594, "body": "@SergeyKrusch: I&#39;m targeting .NET Framework 4.5.1 under Debug mode. Release mode works (doesn&#39;t crash) for both code versions."}, {"owner": {"reputation": 520473, "user_id": 65358, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/87b3a4c585e6fd2ad5308e15e12bdc36?s=128&d=identicon&r=PG", "display_name": "Reed Copsey", "link": "https://stackoverflow.com/users/65358/reed-copsey"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1425507890, "post_id": 28865139, "comment_id": 45997428, "body": "@Servy Did you rewrite using a loop?  On my system, non-generic crashes very, very low in both release and debug (if not looping, as described in post)"}], "answers": [{"comments": [{"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 2, "creation_date": 1425507197, "post_id": 28865954, "comment_id": 45997077, "body": "When I tested the issue, I used a for loop \u2013 <code>for (int i = 0; i &lt;= 999; i++) S.Push(i);</code> \u2013 and got behaviour similar to the OP&#39;s. This would only fit your explanation if the compiler was performing loop unrolling. Do you assume this is the case?"}, {"owner": {"reputation": 520473, "user_id": 65358, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/87b3a4c585e6fd2ad5308e15e12bdc36?s=128&d=identicon&r=PG", "display_name": "Reed Copsey", "link": "https://stackoverflow.com/users/65358/reed-copsey"}, "reply_to_user": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 0, "creation_date": 1425507281, "post_id": 28865954, "comment_id": 45997123, "body": "@Douglas With a for loop, you get significantly different IL and code - I actually wrote it out long hand, as described in the post, to get the above.  With a for loop, the post-JIT code doesn&#39;t exhibit the same problems (on my system)"}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 0, "creation_date": 1425507321, "post_id": 28865954, "comment_id": 45997145, "body": "@ReedCopsey: Fair enough. Thanks for the detailed explanation above!"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 2, "creation_date": 1425545182, "post_id": 28865954, "comment_id": 46009541, "body": "Is there any good reason for the JIT to leave the references on the stack?"}, {"owner": {"reputation": 520473, "user_id": 65358, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/87b3a4c585e6fd2ad5308e15e12bdc36?s=128&d=identicon&r=PG", "display_name": "Reed Copsey", "link": "https://stackoverflow.com/users/65358/reed-copsey"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 1, "creation_date": 1425592240, "post_id": 28865954, "comment_id": 46038011, "body": "@immibis In this case, no, but it&#39;s not optimizing it away for whatever reason.  There are many more potential optimization opportunities in the JIT that are still not being exploited... This seems like a good one."}, {"owner": {"reputation": 1236, "user_id": 318263, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a44f23900fe5a2d122d304ef0a6c1eac?s=128&d=identicon&r=PG", "display_name": "Sinix", "link": "https://stackoverflow.com/users/318263/sinix"}, "reply_to_user": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 0, "creation_date": 1426070488, "post_id": 28865954, "comment_id": 46217508, "body": "@Douglas , <code>for (int i = 0; i &lt;= 999; i++) S.Push(i);</code> Could you please add a repro code working when run without debugger? I&#39;ve checked quickly debug/release and 3.5..4.5 in different combinations, and there was no StackOverflowException. Looks like &quot;blame the debugger&quot; thing. Thanks!"}, {"owner": {"reputation": 520473, "user_id": 65358, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/87b3a4c585e6fd2ad5308e15e12bdc36?s=128&d=identicon&r=PG", "display_name": "Reed Copsey", "link": "https://stackoverflow.com/users/65358/reed-copsey"}, "reply_to_user": {"reputation": 1236, "user_id": 318263, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a44f23900fe5a2d122d304ef0a6c1eac?s=128&d=identicon&r=PG", "display_name": "Sinix", "link": "https://stackoverflow.com/users/318263/sinix"}, "edited": false, "score": 1, "creation_date": 1426108921, "post_id": 28865954, "comment_id": 46243349, "body": "@Sinix As I said, it doesn&#39;t happen with for loops for me, only when inlining the calls..."}, {"owner": {"reputation": 1236, "user_id": 318263, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a44f23900fe5a2d122d304ef0a6c1eac?s=128&d=identicon&r=PG", "display_name": "Sinix", "link": "https://stackoverflow.com/users/318263/sinix"}, "edited": false, "score": 0, "creation_date": 1426139249, "post_id": 28865954, "comment_id": 46252461, "body": "@Reed Copsey Whoops, missed that. Thanks again:)"}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "reply_to_user": {"reputation": 1236, "user_id": 318263, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a44f23900fe5a2d122d304ef0a6c1eac?s=128&d=identicon&r=PG", "display_name": "Sinix", "link": "https://stackoverflow.com/users/318263/sinix"}, "edited": false, "score": 1, "creation_date": 1426408354, "post_id": 28865954, "comment_id": 46353890, "body": "@Sinix: <a href=\"http://ideone.com/5tec26\" rel=\"nofollow noreferrer\">ideone.com/5tec26</a>. <code>StackOverflowException</code> still occurs for &quot;Start Without Debugging&quot; (albeit later). I&#39;m compiling as x86, targeting .NET Framework 4.5.1 under Debug mode. Doesn&#39;t occur on ideone since it runs Mono."}, {"owner": {"reputation": 1236, "user_id": 318263, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a44f23900fe5a2d122d304ef0a6c1eac?s=128&d=identicon&r=PG", "display_name": "Sinix", "link": "https://stackoverflow.com/users/318263/sinix"}, "reply_to_user": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 0, "creation_date": 1426498371, "post_id": 28865954, "comment_id": 46380886, "body": "@Douglas, thanks! for loop does nothing special here. You can replace it with <code>S.Push(n);</code>, same result."}], "tags": [], "owner": {"reputation": 520473, "user_id": 65358, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/87b3a4c585e6fd2ad5308e15e12bdc36?s=128&d=identicon&r=PG", "display_name": "Reed Copsey", "link": "https://stackoverflow.com/users/65358/reed-copsey"}, "is_accepted": true, "score": 59, "last_activity_date": 1425536851, "last_edit_date": 1425536851, "creation_date": 1425506732, "answer_id": 28865954, "question_id": 28865139, "link": "https://stackoverflow.com/questions/28865139/stackoverflow-doing-boxing-in-c/28865954#28865954", "title": "Stackoverflow doing boxing in C#", "body": "<blockquote>\n  <p>Why, if there is not significant overload of CIL's stack for second example, does it crash \"faster\" than the first one?</p>\n</blockquote>\n\n<p>Note that the <em>number</em> of CIL instructions does not accurately represent the amount of work or memory that will be used. A single instruction can be very low impact, or very high impact, so counting CIL instructions is not an accurate way to measure \"work\".</p>\n\n<p>Also realize that the CIL is not what gets executed. The JIT compiles the CIL to actual machine instructions, with an optimization phase, so the CIL may be very different than the actual executed instructions.</p>\n\n<p>In the second case, since you're using a non-generic collection, every <code>Push</code> call requires the integer to be boxed, as you determined in CIL.</p>\n\n<p>Boxing an integer effectively creates an object which \"wraps\" the <code>Int32</code> for you. Instead of just loading a 32-bit integer onto the stack, it now has to load a 32-bit integer onto the stack, then box it, which effectively also loads an object reference onto the stack.  </p>\n\n<p>If you inspect this in the Disassembly window, you can see the difference between the generic and non-generic version is dramatic, and much more significant than the generated CIL would suggest.</p>\n\n<p>The generic version effectively compiles to as a series of calls like so:</p>\n\n<pre><code>0000022c  nop \n            S.Push(25);\n0000022d  mov         ecx,dword ptr ds:[03834978h] \n00000233  mov         edx,19h \n00000238  cmp         dword ptr [ecx],ecx \n0000023a  call        71618DD0 \n0000023f  nop \n            S.Push(26);\n00000240  mov         ecx,dword ptr ds:[03834978h] \n00000246  mov         edx,1Ah \n0000024b  cmp         dword ptr [ecx],ecx \n0000024d  call        71618DD0 \n00000252  nop \n            S.Push(27);\n</code></pre>\n\n<p>The non-generic, on the other hand, has to create the boxed objects, and instead compiles to:</p>\n\n<pre><code>00000645  nop \n            S.Push(25);\n00000646  mov         ecx,7326560Ch \n0000064b  call        FAAC20B0 \n00000650  mov         dword ptr [ebp-48h],eax \n00000653  mov         eax,dword ptr ds:[03AF4978h] \n00000658  mov         dword ptr [ebp+FFFFFEE8h],eax \n0000065e  mov         eax,dword ptr [ebp-48h] \n00000661  mov         dword ptr [eax+4],19h \n00000668  mov         eax,dword ptr [ebp-48h] \n0000066b  mov         dword ptr [ebp+FFFFFEE4h],eax \n00000671  mov         ecx,dword ptr [ebp+FFFFFEE8h] \n00000677  mov         edx,dword ptr [ebp+FFFFFEE4h] \n0000067d  mov         eax,dword ptr [ecx] \n0000067f  mov         eax,dword ptr [eax+2Ch] \n00000682  call        dword ptr [eax+18h] \n00000685  nop \n            S.Push(26);\n00000686  mov         ecx,7326560Ch \n0000068b  call        FAAC20B0 \n00000690  mov         dword ptr [ebp-48h],eax \n00000693  mov         eax,dword ptr ds:[03AF4978h] \n00000698  mov         dword ptr [ebp+FFFFFEE0h],eax \n0000069e  mov         eax,dword ptr [ebp-48h] \n000006a1  mov         dword ptr [eax+4],1Ah \n000006a8  mov         eax,dword ptr [ebp-48h] \n000006ab  mov         dword ptr [ebp+FFFFFEDCh],eax \n000006b1  mov         ecx,dword ptr [ebp+FFFFFEE0h] \n000006b7  mov         edx,dword ptr [ebp+FFFFFEDCh] \n000006bd  mov         eax,dword ptr [ecx] \n000006bf  mov         eax,dword ptr [eax+2Ch] \n000006c2  call        dword ptr [eax+18h] \n000006c5  nop \n</code></pre>\n\n<p>Here you can see the significance of boxing.</p>\n\n<p>In your case, boxing the integer causes the boxed object references to get loaded onto the stack. On my system, this is causing a stackoverflow on any calls larger than <code>Foo(127)</code> (in 32 bit), which suggests that the integers and boxed object references (4 bytes each) are all being kept on the stack, as 127*1000*8==1016000, which is dangerously close to the default 1&nbsp;MB thread stack size for .NET applications.</p>\n\n<p>When using the generic version, since there is no boxed object, the integers aren't having to all be stored on the stack, and the same register is being reused. This allows you to recurse significantly more (>40000 on my system) before you use up the stack.</p>\n\n<p>Note that this will be CLR version and platform dependent, as there is a different JIT on x86/x64, as well.</p>\n"}], "owner": {"reputation": 2015, "user_id": 4586108, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0srZq.jpg?s=128&g=1", "display_name": "lcastillov", "link": "https://stackoverflow.com/users/4586108/lcastillov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2141, "favorite_count": 6, "accepted_answer_id": 28865954, "answer_count": 1, "score": 49, "last_activity_date": 1425695031, "creation_date": 1425503823, "last_edit_date": 1425695031, "question_id": 28865139, "link": "https://stackoverflow.com/questions/28865139/stackoverflow-doing-boxing-in-c", "title": "Stackoverflow doing boxing in C#", "body": "<p>I have these two chunks of code in C#:</p>\n\n<h3>First</h3>\n\n<pre><code>class Program\n{\n    static Stack&lt;int&gt; S = new Stack&lt;int&gt;();\n\n    static int Foo(int n) {\n        if (n == 0)\n            return 0;\n        S.Push(0);\n        S.Push(1);\n        ...\n        S.Push(999);\n        return Foo( n-1 );\n    }\n}\n</code></pre>\n\n<h3>Second</h3>\n\n<pre><code>class Program\n{\n    static Stack S = new Stack();\n\n    static int Foo(int n) {\n        if (n == 0)\n            return 0;\n        S.Push(0);\n        S.Push(1);\n        ...\n        S.Push(999);\n        return Foo( n-1 );\n    }\n}\n</code></pre>\n\n<p>They both do the same:</p>\n\n<ol>\n<li><p>Create a Stack (generic in <code>&lt;int&gt;</code> for the first example and a stack of object for the second one).</p></li>\n<li><p>Declare a method that calls itself recursively n times (n >= 0) and in every step push 1000 integers inside the created stack.</p></li>\n</ol>\n\n<p>When I run the first example with <code>Foo(30000)</code> no exception occurs, however the second example crashes with <code>Foo(1000)</code>, just n = 1000.</p>\n\n<p>When I saw the <a href=\"http://en.wikipedia.org/wiki/Common_Intermediate_Language\">CIL</a> generated for both cases the only difference was the boxing part for every push:</p>\n\n<h3>First</h3>\n\n<pre><code>IL_0030:  ldsfld     class [System]System.Collections.Generic.Stack`1&lt;int32&gt; Test.Program::S\nIL_0035:  ldc.i4     0x3e7\nIL_003a:  callvirt   instance void class [System]System.Collections.Generic.Stack`1&lt;int32&gt;::Push(!0)\nIL_003f:  nop\n</code></pre>\n\n<h3>Second</h3>\n\n<pre><code>IL_003a:  ldsfld     class [mscorlib]System.Collections.Stack Test.Program::S\nIL_003f:  ldc.i4     0x3e7\nIL_0044:  box        [mscorlib]System.Int32\nIL_0049:  callvirt   instance void [mscorlib]System.Collections.Stack::Push(object)\nIL_004e:  nop\n</code></pre>\n\n<p>My question is: Why, if there is not significant overload of CIL's stack for the second example, does it crash \"faster\" than the first one?</p>\n"}, {"tags": ["c#", "windows-runtime", "windows-phone-8.1"], "answers": [{"comments": [{"owner": {"reputation": 2620, "user_id": 1879018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pZ3Rm.jpg?s=128&g=1", "display_name": "VasileF", "link": "https://stackoverflow.com/users/1879018/vasilef"}, "edited": false, "score": 0, "creation_date": 1425543929, "post_id": 28871684, "comment_id": 46008917, "body": "This is bad news for me... I am displaying a map location in my app using a Map control. On tap, I wanted to display a list of possible apps installed on the phone which can further handle a Geopoint location and continue the flow in a Map-specialized app. So far, I&#39;ve thought of Maps default app which should absolutely work and also, the HereMaps app from Nokia. I launch a URI to display the location in HereMaps but a problem right now, is that I am unsure how to check whether HereMaps package is installed on the current device or not. @RobCaplan, do you have any suggestions how to handle?"}], "tags": [], "owner": {"reputation": 21144, "user_id": 4068779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r0Hsj.png?s=128&g=1", "display_name": "Rob Caplan - MSFT", "link": "https://stackoverflow.com/users/4068779/rob-caplan-msft"}, "is_accepted": false, "score": 1, "last_activity_date": 1425538306, "creation_date": 1425538306, "answer_id": 28871684, "question_id": 28865091, "link": "https://stackoverflow.com/questions/28865091/search-for-installed-map-apps-on-windows-phone-8-1/28871684#28871684", "title": "Search for installed Map apps on Windows Phone 8.1", "body": "<p>There is no public API to list apps like this. The referenced settings menu is part of the OS not an exertion point for apps.\nApps are blocked from setting information like this from other apps or the OS.</p>\n"}, {"comments": [{"owner": {"reputation": 2620, "user_id": 1879018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pZ3Rm.jpg?s=128&g=1", "display_name": "VasileF", "link": "https://stackoverflow.com/users/1879018/vasilef"}, "edited": false, "score": 0, "creation_date": 1425562447, "post_id": 28878316, "comment_id": 46019818, "body": "Thanks for the response! It makes sense to use the Nokia apps instead of the standard WP ones. But I&#39;d need to actually use Here Maps not Here Drive+. I will look into those URI schemes more deeply."}, {"owner": {"reputation": 2620, "user_id": 1879018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pZ3Rm.jpg?s=128&g=1", "display_name": "VasileF", "link": "https://stackoverflow.com/users/1879018/vasilef"}, "edited": false, "score": 0, "creation_date": 1425562680, "post_id": 28878316, "comment_id": 46019959, "body": "Right now, I have already implemented the Here Maps launch using a Geopoint using &quot;exploremaps&quot; URI scheme : <a href=\"http://developer.nokia.com/resources/library/Lumia/change-history/archived-content/maps-and-navigation/here-launchers/wp-uri-schemes-for-location-applications.html\" rel=\"nofollow noreferrer\">developer.nokia.com/resources/library/Lumia/change-history/&hellip;</a> But I would go for HereMaps service first and only WP standard apps as a fallback"}, {"owner": {"reputation": 5907, "user_id": 613087, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d3ac2144120f923f23c49ee4ce4437ab?s=128&d=identicon&r=PG", "display_name": "Depechie", "link": "https://stackoverflow.com/users/613087/depechie"}, "reply_to_user": {"reputation": 2620, "user_id": 1879018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pZ3Rm.jpg?s=128&g=1", "display_name": "VasileF", "link": "https://stackoverflow.com/users/1879018/vasilef"}, "edited": false, "score": 0, "creation_date": 1425563160, "post_id": 28878316, "comment_id": 46020279, "body": "Good call! By the way if I look at the reserved list there is also a generic &#39;maps.&#39; one - <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/jj207065(v=vs.105).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/apps/&hellip;</a> not sure if you can manipulate that one with extra properties though."}], "tags": [], "owner": {"reputation": 5907, "user_id": 613087, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d3ac2144120f923f23c49ee4ce4437ab?s=128&d=identicon&r=PG", "display_name": "Depechie", "link": "https://stackoverflow.com/users/613087/depechie"}, "is_accepted": true, "score": 1, "last_activity_date": 1425559919, "creation_date": 1425559919, "answer_id": 28878316, "question_id": 28865091, "link": "https://stackoverflow.com/questions/28865091/search-for-installed-map-apps-on-windows-phone-8-1/28878316#28878316", "title": "Search for installed Map apps on Windows Phone 8.1", "body": "<p>Not a correct answer, but maybe the way you should use this is by using the ms-drive-to or ms-walk-to Uri scheme! When you use those, the phone itself will launch HERE drive if it is present, otherwise Bing maps!</p>\n\n<p>My guess, in the future the user will be able so set this as an option, that he can indicate what default map app he wants to use in general. But for now it's default Bing or HERE if that is installed when using the given URI scheme.</p>\n\n<p>Get the needed example code and usage on MSDN here: <a href=\"http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj710324(v=vs.105).aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj710324(v=vs.105).aspx</a></p>\n"}], "owner": {"reputation": 2620, "user_id": 1879018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pZ3Rm.jpg?s=128&g=1", "display_name": "VasileF", "link": "https://stackoverflow.com/users/1879018/vasilef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 28878316, "answer_count": 2, "score": 1, "last_activity_date": 1425559919, "creation_date": 1425503688, "question_id": 28865091, "link": "https://stackoverflow.com/questions/28865091/search-for-installed-map-apps-on-windows-phone-8-1", "title": "Search for installed Map apps on Windows Phone 8.1", "body": "<p>Is it possible to get a list of the installed apps which provide Map functionality?</p>\n\n<p>In the maps settings menu, you can select which app should be the default one for voice navigation - in that list, my phone displays HereDrive+ and Windows Phone Maps.</p>\n\n<p>How is it possible to search for apps like this? Is such API open or that list result was acquired using a restricted API?</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1425549288, "post_id": 28865017, "comment_id": 46011886, "body": "Create your own renderer so you can change <a href=\"http://stackoverflow.com/a/9260827/17034\">its color table</a>."}, {"owner": {"reputation": 5685, "user_id": 855203, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0134d243fa8c7348c1047c3cfba21aea?s=128&d=identicon&r=PG", "display_name": "sapbucket", "link": "https://stackoverflow.com/users/855203/sapbucket"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1426019377, "post_id": 28865017, "comment_id": 46198192, "body": "I&#39;ll give that a shot..."}, {"owner": {"reputation": 7570, "user_id": 4984854, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/DLV6R.jpg?s=128&g=1", "display_name": "Yogi", "link": "https://stackoverflow.com/users/4984854/yogi"}, "edited": false, "score": 0, "creation_date": 1461239375, "post_id": 28865017, "comment_id": 61114831, "body": "<a href=\"http://stackoverflow.com/questions/36767478/color-change-for-menuitem/36768361#36768361\" title=\"color change for menuitem\">stackoverflow.com/questions/36767478/color-change-for-menuit&zwnj;&#8203;em/&hellip;</a>"}], "owner": {"reputation": 5685, "user_id": 855203, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0134d243fa8c7348c1047c3cfba21aea?s=128&d=identicon&r=PG", "display_name": "sapbucket", "link": "https://stackoverflow.com/users/855203/sapbucket"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1425506969, "creation_date": 1425503447, "question_id": 28865017, "link": "https://stackoverflow.com/questions/28865017/winforms-toolstripmenuitem-how-to-stop-inverting-color", "title": "winforms toolstripmenuitem how to stop inverting color?", "body": "<p>I set the background and foreground colors like this:</p>\n\n<pre><code>    this.loadToolStripMenuItem.BackColor = System.Drawing.Color.DarkBlue;\n    this.loadToolStripMenuItem.ForeColor = System.Drawing.Color.Yellow;\n    this.loadToolStripMenuItem.Name = \"loadToolStripMenuItem\";\n    this.loadToolStripMenuItem.Size = new System.Drawing.Size(152, 22);\n    this.loadToolStripMenuItem.Text = \"Load\";\n    this.loadToolStripMenuItem.Click += new System.EventHandler(this.loadDatabase_Click);\n</code></pre>\n\n<p>However, at run time when the ToolStripMenuItem is selected the color scheme changes such that the background is a white/grey color. Mixed with yellow this is a bad appearance. </p>\n\n<p>How does one control the background and foreground color while the item is being selected with the mouse? Ideally, I would like to keep DarkBlue and Yellow and have no change in appearance when the mouse is selecting the item.</p>\n"}, {"tags": ["c#", "wpf", "winapi", "charms-bar"], "answers": [{"tags": [], "owner": {"reputation": 1463, "user_id": 1633924, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/19de3e512d3f715eba0e801a2f1e72d7?s=128&d=identicon&r=PG", "display_name": "mcont", "link": "https://stackoverflow.com/users/1633924/mcont"}, "is_accepted": false, "score": 0, "last_activity_date": 1435393963, "creation_date": 1435393963, "answer_id": 31086765, "question_id": 28864784, "link": "https://stackoverflow.com/questions/28864784/disable-windows-8-charmsbar-in-wpf-fullscreen-app/31086765#31086765", "title": "Disable Windows 8 CharmsBar in WPF-Fullscreen App", "body": "<p>Just kill <code>explorer.exe</code> when your application launches.</p>\n"}], "owner": {"reputation": 83, "user_id": 4574978, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-rJJuhqA6wfQ/AAAAAAAAAAI/AAAAAAAAAHM/GOXUjYDb6qU/photo.jpg?sz=128", "display_name": "RonnyCSHARP", "link": "https://stackoverflow.com/users/4574978/ronnycsharp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 258, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1435393963, "creation_date": 1425502622, "question_id": 28864784, "link": "https://stackoverflow.com/questions/28864784/disable-windows-8-charmsbar-in-wpf-fullscreen-app", "title": "Disable Windows 8 CharmsBar in WPF-Fullscreen App", "body": "<p>I want to create a new fullscreen \"kiosk\" WPF Application for Windows 8.\nIt's not a modern UI app. </p>\n\n<p>The app should be start automatically and must be unclosable.\nA few things are already implemented. \nThe app disables the hardware windows key with a registry value and\nstarts with Windows. </p>\n\n<p>The only thing that doesn't work is the disabling of the Charms-Bar.\nI've tested a lot of things, like a DisableCharmsHint-Registry Value.\nBut it doesn't work. And than I searched on the web and I've seen a API-Call, that should disable the CharmsBar - But it doesn't work.\nI hope anybody could help.</p>\n\n<p>Here is my helper-class. I call the EnableEdgeGestures - Method with the MainWindow-Handle and false - disable.</p>\n\n<p>The result of the API-Call SHGetPropertyStoreForWindow is always 0.</p>\n\n<pre><code>using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.Data;\nusing System.Diagnostics;\nusing System.Runtime.InteropServices;\nusing System.Runtime.CompilerServices;\n\nnamespace Helpers {\n    public class EdgeGestureUtil {\n        #region Strukturen\n\n        [StructLayout ( LayoutKind.Sequential, Pack = 4 )]\n        public struct PropertyKey {\n            public PropertyKey ( Guid guid, UInt32 pid ) {\n                fmtid = guid;\n                this.pid = pid;\n            }\n\n            [MarshalAs ( UnmanagedType.Struct )]\n            public Guid fmtid;\n            public uint pid;\n        }\n\n        [StructLayout ( LayoutKind.Explicit )]\n        public struct PropVariant {\n            [FieldOffset ( 0 )]\n            public short vt;\n            [FieldOffset ( 2 )]\n            private short wReserved1;\n            [FieldOffset ( 4 )]\n            private short wReserved2;\n            [FieldOffset ( 6 )]\n            private short wReserved3;\n            [FieldOffset ( 8 )]\n            private sbyte cVal;\n            [FieldOffset ( 8 )]\n            private byte bVal;\n            [FieldOffset ( 8 )]\n            private short iVal;\n            [FieldOffset ( 8 )]\n            public ushort uiVal;\n            [FieldOffset ( 8 )]\n            private int lVal;\n            [FieldOffset ( 8 )]\n            private uint ulVal;\n            [FieldOffset ( 8 )]\n            private int intVal;\n            [FieldOffset ( 8 )]\n            private uint uintVal;\n            [FieldOffset ( 8 )]\n            private long hVal;\n            [FieldOffset ( 8 )]\n            private long uhVal;\n            [FieldOffset ( 8 )]\n            private float fltVal;\n            [FieldOffset ( 8 )]\n            private double dblVal;\n            [FieldOffset ( 8 )]\n            public bool boolVal;\n            [FieldOffset ( 8 )]\n            private int scode;\n            //CY cyVal;\n            [FieldOffset ( 8 )]\n            private DateTime date;\n            [FieldOffset ( 8 )]\n            private System.Runtime.InteropServices.ComTypes.FILETIME filetime;\n            //CLSID* puuid;\n            //CLIPDATA* pclipdata;\n            //BSTR bstrVal;\n            //BSTRBLOB bstrblobVal;\n            [FieldOffset ( 8 )]\n            private Blob blobVal;\n            //LPSTR pszVal;\n            [FieldOffset ( 8 )]\n            private IntPtr pwszVal;\n            //LPWSTR \n            //IUnknown* punkVal;\n            //IDispatch* pdispVal;\n            //        IStream* pStream;\n            //        IStorage* pStorage;\n            //        LPVERSIONEDSTREAM pVersionedStream;\n            //        LPSAFEARRAY parray;\n            //        CAC cac;\n            //        CAUB caub;\n            //        CAI cai;\n            //        CAUI caui;\n            //        CAL cal;\n            //        CAUL caul;\n            //        CAH cah;\n            //        CAUH cauh;\n            //        CAFLT caflt;\n            //        CADBL cadbl;\n            //        CABOOL cabool;\n            //        CASCODE cascode;\n            //        CACY cacy;\n            //        CADATE cadate;\n            //        CAFILETIME cafiletime;\n            //        CACLSID cauuid;\n            //        CACLIPDATA caclipdata;\n            //        CABSTR cabstr;\n            //        CABSTRBLOB cabstrblob;\n            //        CALPSTR calpstr;\n            //        CALPWSTR calpwstr;\n            //        CAPROPVARIANT capropvar;\n            //        CHAR* pcVal;\n            //        UCHAR* pbVal;\n            //        SHORT* piVal;\n            //        USHORT* puiVal;\n            //        LONG* plVal;\n            //        ULONG* pulVal;\n            //        INT* pintVal;\n            //        UINT* puintVal;\n            //        FLOAT* pfltVal;\n            //        DOUBLE* pdblVal;\n            //        VARIANT_BOOL* pboolVal;\n            //        DECIMAL* pdecVal;\n            //        SCODE* pscode;\n            //        CY* pcyVal;\n            //        DATE* pdate;\n            //        BSTR* pbstrVal;\n            //        IUnknown** ppunkVal;\n            //        IDispatch** ppdispVal;\n            //        LPSAFEARRAY* pparray;\n            //        PROPVARIANT* pvarVal;\n            //        \n\n            /// &lt;summary&gt;\n            /// Helper method to gets blob data\n            /// &lt;/summary&gt;\n            private byte[] GetBlob ( ) {\n                byte[] Result = new byte[ blobVal.Length ];\n                Marshal.Copy ( blobVal.Data, Result, 0, Result.Length );\n                return Result;\n            }\n\n            /// &lt;summary&gt;\n            /// Property value\n            /// &lt;/summary&gt;\n            public object Value {\n                get {\n                    VarEnum ve = ( VarEnum ) vt;\n                    switch ( ve ) {\n                        case VarEnum.VT_I1:\n                            return bVal;\n                        case VarEnum.VT_I2:\n                            return iVal;\n                        case VarEnum.VT_I4:\n                            return lVal;\n                        case VarEnum.VT_I8:\n                            return hVal;\n                        case VarEnum.VT_INT:\n                            return iVal;\n                        case VarEnum.VT_UI4:\n                            return ulVal;\n                        case VarEnum.VT_LPWSTR:\n                            return Marshal.PtrToStringUni ( pwszVal );\n                        case VarEnum.VT_BLOB:\n                            return GetBlob ( );\n                    }\n                    throw new NotImplementedException ( \"PropVariant \" + ve.ToString ( ) );\n                }\n            }\n        }\n\n        internal struct Blob {\n            public int Length;\n\n            public IntPtr Data;\n            //Code Should Compile at warning level4 without any warnings, \n            //However this struct will give us Warning CS0649: Field [Fieldname] \n            //is never assigned to, and will always have its default value\n            //You can disable CS0649 in the project options but that will disable\n            //the warning for the whole project, it's a nice warning and we do want \n            //it in other places so we make a nice dummy function to keep the compiler\n            //happy.\n            private void FixCS0649 ( ) {\n                Length = 0;\n                Data = IntPtr.Zero;\n            }\n        }\n\n        #endregion\n\n        #region PropertyStore\n\n        [ComImport, Guid ( \"886D8EEB-8CF2-4446-8D02-CDBA1DBDCF99\" ), InterfaceType ( ComInterfaceType.InterfaceIsIUnknown )]\n        interface IPropertyStore {\n            [MethodImpl ( MethodImplOptions.InternalCall, MethodCodeType = MethodCodeType.Runtime )]\n            void GetCount ( [Out] out uint cProps );\n\n            [MethodImpl ( MethodImplOptions.InternalCall, MethodCodeType = MethodCodeType.Runtime )]\n            void GetAt ( [In] uint iProp, out PropertyKey pkey );\n\n            [MethodImpl ( MethodImplOptions.InternalCall, MethodCodeType = MethodCodeType.Runtime )]\n            void GetValue ( [In] ref PropertyKey key, out PropVariant pv );\n\n            [MethodImpl ( MethodImplOptions.InternalCall, MethodCodeType = MethodCodeType.Runtime )]\n            void SetValue ( [In] ref PropertyKey key, [In] ref PropVariant pv );\n\n            [MethodImpl ( MethodImplOptions.InternalCall, MethodCodeType = MethodCodeType.Runtime )]\n            void Commit ( );\n        }\n\n        #endregion\n\n        #region Methoden\n\n        [DllImport ( \"shell32.dll\", SetLastError = true )]\n        static extern int SHGetPropertyStoreForWindow ( \n            IntPtr handle, ref Guid riid, [Out, MarshalAs ( UnmanagedType.Interface )] out IPropertyStore propertyStore );\n\n        public static void EnableEdgeGestures ( IntPtr hwnd, bool enable ) {\n\n\n\n            IPropertyStore pPropStore = null;\n            int hr = 0;\n            hr = SHGetPropertyStoreForWindow (\n                hwnd, ref IID_PROPERTY_STORE, out pPropStore );\n\n            if ( hr == 0 ) {\n                PropertyKey propKey = new PropertyKey ( );\n                propKey.fmtid = DISABLE_TOUCH_SCREEN;\n                propKey.pid = 2;\n                PropVariant var = new PropVariant ( );\n                var.vt = VT_BOOL;\n                var.boolVal = enable;\n                pPropStore.SetValue ( ref propKey, ref var );\n                Marshal.FinalReleaseComObject ( pPropStore );\n            }\n        }\n\n        #endregion\n\n        static Guid DISABLE_TOUCH_SCREEN    = new Guid ( \"32CE38B2-2C9A-41B1-9BC5-B3784394AA44\" );\n        static Guid IID_PROPERTY_STORE      = new Guid ( \"886d8eeb-8cf2-4446-8d02-cdba1dbdcf99\" );\n        static short VT_BOOL                = 11;\n    }\n}\n</code></pre>\n\n<p>Regards\nRonny</p>\n"}, {"tags": ["c#", "sqlite", "installation", "wizard"], "answers": [{"tags": [], "owner": {"reputation": 935, "user_id": 425051, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/50749458bed07c5816f12fc9c76010ba?s=128&d=identicon&r=PG", "display_name": "Ferdinando Santacroce", "link": "https://stackoverflow.com/users/425051/ferdinando-santacroce"}, "is_accepted": false, "score": 0, "last_activity_date": 1425503686, "creation_date": 1425503686, "answer_id": 28865089, "question_id": 28864764, "link": "https://stackoverflow.com/questions/28864764/add-sqlite-database-to-setup-wizard/28865089#28865089", "title": "add sqlite database to setup wizard", "body": "<p>Other than System.Data.SQLite assembly, are there x86 and x64 SQLite subfolders present? As you may know, System.Data.SQLite is only a wrapper to unmanaged dlls; they have to be deployed with your files.</p>\n"}], "owner": {"reputation": 33, "user_id": 4587825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/accac3b2d7a4116a7a8233720f17ca8a?s=128&d=identicon&r=PG&f=1", "display_name": "MohammadReza", "link": "https://stackoverflow.com/users/4587825/mohammadreza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 331, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425503686, "creation_date": 1425502583, "question_id": 28864764, "link": "https://stackoverflow.com/questions/28864764/add-sqlite-database-to-setup-wizard", "title": "add sqlite database to setup wizard", "body": "<p>I'm trying to create a setup for my windows application in VS 2010 which is in c#. my application use sqlite database. when I create a setup project ,after installing program, application can't connect to database. the whole folders of my program(like debug and bin folder which my database were there) don't copy at all. </p>\n\n<p>after that I tried setup wizard and included all the files and folders. again it Errors like this(although system.data.sqlite is one of the dependencies in setup)   :</p>\n\n<p>(System.IO.FileNotFoundException: Could not load file or assembly 'System.Data.SQLite, Version=1.0.77.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139' or one of its dependencies. The system cannot find the file specified.\nFile name: 'System.Data.SQLite, Version=1.0.77.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139')</p>\n\n<p>thank you for your help;)</p>\n"}, {"tags": ["c#", "windows-phone", "sql-server-ce"], "answers": [{"tags": [], "owner": {"reputation": 2088, "user_id": 4186431, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/jE8au.jpg?s=128&g=1", "display_name": "giannisf", "link": "https://stackoverflow.com/users/4186431/giannisf"}, "is_accepted": true, "score": 0, "last_activity_date": 1425506908, "last_edit_date": 1495540252, "creation_date": 1425506908, "answer_id": 28866003, "question_id": 28864737, "link": "https://stackoverflow.com/questions/28864737/windows-phone-8-existing-database-invalidcastexception-specified-cast-is-not-va/28866003#28866003", "title": "Windows Phone 8 existing database InvalidCastException: Specified cast is not valid", "body": "<p>Ok I read this <a href=\"https://stackoverflow.com/questions/8065207/linq-select-from-sql-server-ce-specified-cast-is-not-valid\">question</a> and found the problem, my <code>id</code> field in db was BigInt and in Entity it was <code>int</code>. I changed it to <code>long</code> and it worked.</p>\n"}], "owner": {"reputation": 2088, "user_id": 4186431, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/jE8au.jpg?s=128&g=1", "display_name": "giannisf", "link": "https://stackoverflow.com/users/4186431/giannisf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 28866003, "answer_count": 1, "score": 1, "last_activity_date": 1425506908, "creation_date": 1425502479, "last_edit_date": 1425503612, "question_id": 28864737, "link": "https://stackoverflow.com/questions/28864737/windows-phone-8-existing-database-invalidcastexception-specified-cast-is-not-va", "title": "Windows Phone 8 existing database InvalidCastException: Specified cast is not valid", "body": "<p>I am using pre populated database. When the app starts I copy the db from assets to the isostore.\nThe Entity:</p>\n\n<pre><code>[Table(Name = \"NAMES\")]\npublic class NameItem: INotifyPropertyChanged,\nINotifyPropertyChanging {\n    public event PropertyChangedEventHandler PropertyChanged;\n    public event PropertyChangingEventHandler PropertyChanging;\n\n    private string _nameString;\n    private int _id;\n\n    [Column(IsPrimaryKey = true, IsDbGenerated = true, Name = \"_id\")]\n    public int NameId {\n        get {\n            return _id;\n        }\n        set {\n            if (value != _id) {\n                OnPropertyChanging(\"NameId\");\n                _id = value;\n                OnPropertyChanged(\"NameId\");\n            }\n        }\n    }\n\n    [Column(IsPrimaryKey = false, Name = \"NAME_TEXT\")]\n    public String NameString {\n        get {\n            return _nameString;\n        }\n\n        set {\n            if (_nameString != value) {\n                OnPropertyChanging(\"NameString\");\n                _nameString = value;\n                OnPropertyChanged(\"NameString\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And here I try to read data from db:</p>\n\n<pre><code>using(var db = new MyDataContext(\"isostore:/Database/ff.sdf\")) {\n    var allNameItems = db.NameItems.ToArray(); // exception on this line\n    try {\n        MessageBox.Show(allNameItems[0].NameString);\n    } catch (Exception ex) {\n        MessageBox.Show(ex.Message);\n    }\n}\n</code></pre>\n\n<p>With this code I get InvalidCastException, but db.NameItems.Count() works.</p>\n"}, {"tags": ["c#", "asp.net", "radio-button"], "comments": [{"owner": {"reputation": 548, "user_id": 4610451, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c5db99a25c0b9310da053c50b0ee0500?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Sharma", "link": "https://stackoverflow.com/users/4610451/gaurav-sharma"}, "edited": false, "score": 0, "creation_date": 1425502675, "post_id": 28864709, "comment_id": 45994583, "body": "what about iterating through all the Radio Controls of myValueDiv and simply checking which one are selected. Can be done in one line using Linq Query."}], "answers": [{"tags": [], "owner": {"reputation": 548, "user_id": 4610451, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c5db99a25c0b9310da053c50b0ee0500?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Sharma", "link": "https://stackoverflow.com/users/4610451/gaurav-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1425503127, "creation_date": 1425503127, "answer_id": 28864912, "question_id": 28864709, "link": "https://stackoverflow.com/questions/28864709/how-can-i-check-selected-radiobuttons-when-the-radiobuttons-have-been-added-dyna/28864912#28864912", "title": "How can I check selected radiobuttons when the radiobuttons have been added dynamically", "body": "<p>This should help, as I mentioned in my comment</p>\n\n<pre><code>var checkedRadioButtons = myValueDiv.Controls.OfType&lt;RadioButton&gt;().Where(radButton =&gt; radButton.Checked);\n</code></pre>\n"}], "owner": {"reputation": 9194, "user_id": 2038257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d7c4839a46ca7fc6d9a950aa362166ba?s=128&d=identicon&r=PG", "display_name": "Marco Dinatsoli", "link": "https://stackoverflow.com/users/2038257/marco-dinatsoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425504322, "creation_date": 1425502385, "last_edit_date": 1425503930, "question_id": 28864709, "link": "https://stackoverflow.com/questions/28864709/how-can-i-check-selected-radiobuttons-when-the-radiobuttons-have-been-added-dyna", "title": "How can I check selected radiobuttons when the radiobuttons have been added dynamically", "body": "<p>I've added my radio buttons like this dynamically:</p>\n\n<pre><code>foreach(DataRow row in results.Rows) {\n    RadioButton radioButton = new RadioButton();\n    radioButton.ID = \"reason_\" + row[\"reasonName\"].ToString();\n    radioButton.GroupName = \"reason\";\n    radioButton.Text = row[\"reasonName\"].ToString();\n    div.Controls.Add(radioButton);\n    myValueDiv.Controls.Add(div);\n}\n</code></pre>\n\n<p>I have a button on my page. How to know which radio button is selected (checked) when the user clicks it?</p>\n"}, {"tags": ["javascript", "c#", "object", "attributes"], "comments": [{"owner": {"reputation": 44663, "user_id": 719034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NT87R.jpg?s=128&g=1", "display_name": "Yuck", "link": "https://stackoverflow.com/users/719034/yuck"}, "edited": false, "score": 0, "creation_date": 1425502229, "post_id": 28864638, "comment_id": 45994315, "body": "<code>dynamic</code> <a href=\"https://msdn.microsoft.com/en-us/library/dd264741.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/dd264741.aspx</a>"}, {"owner": {"reputation": 44663, "user_id": 719034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NT87R.jpg?s=128&g=1", "display_name": "Yuck", "link": "https://stackoverflow.com/users/719034/yuck"}, "edited": false, "score": 1, "creation_date": 1425502247, "post_id": 28864638, "comment_id": 45994328, "body": "And I&#39;m voting to close because this really could have been found rather easily."}], "answers": [{"comments": [{"owner": {"reputation": 8174, "user_id": 2319844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886739627f42f94f4e05159428a265fa?s=128&d=identicon&r=PG", "display_name": "Sumner Evans", "link": "https://stackoverflow.com/users/2319844/sumner-evans"}, "edited": false, "score": 1, "creation_date": 1425502451, "post_id": 28864680, "comment_id": 45994455, "body": "Do you have some documentation? I&#39;m interested in learning about this <code>ExpandoObject</code>."}, {"owner": {"reputation": 58724, "user_id": 411632, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41e7ea21270a6079bb14d6d60ec75d8a?s=128&d=identicon&r=PG", "display_name": "Mat&#237;as Fidemraizer", "link": "https://stackoverflow.com/users/411632/mat%c3%adas-fidemraizer"}, "reply_to_user": {"reputation": 8174, "user_id": 2319844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886739627f42f94f4e05159428a265fa?s=128&d=identicon&r=PG", "display_name": "Sumner Evans", "link": "https://stackoverflow.com/users/2319844/sumner-evans"}, "edited": false, "score": 1, "creation_date": 1425502518, "post_id": 28864680, "comment_id": 45994502, "body": "@jsve Maybe this article: <a href=\"http://blogs.msdn.com/b/csharpfaq/archive/2009/10/01/dynamic-in-c-4-0-introducing-the-expandoobject.aspx\" rel=\"nofollow noreferrer\">blogs.msdn.com/b/csharpfaq/archive/2009/10/01/&hellip;</a>"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 8174, "user_id": 2319844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886739627f42f94f4e05159428a265fa?s=128&d=identicon&r=PG", "display_name": "Sumner Evans", "link": "https://stackoverflow.com/users/2319844/sumner-evans"}, "edited": false, "score": 3, "creation_date": 1425502539, "post_id": 28864680, "comment_id": 45994508, "body": "@jsve: Did you try <i>looking</i> for the documentation? Just a search for <code>ExpandoObject</code> finds it for me - and adding .net or msdn to the search finds it even more cleanly."}, {"owner": {"reputation": 58724, "user_id": 411632, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41e7ea21270a6079bb14d6d60ec75d8a?s=128&d=identicon&r=PG", "display_name": "Mat&#237;as Fidemraizer", "link": "https://stackoverflow.com/users/411632/mat%c3%adas-fidemraizer"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1425502571, "post_id": 28864680, "comment_id": 45994528, "body": "@JonSkeet In fact, this is what I did to give him an article :P"}, {"owner": {"reputation": 8174, "user_id": 2319844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886739627f42f94f4e05159428a265fa?s=128&d=identicon&r=PG", "display_name": "Sumner Evans", "link": "https://stackoverflow.com/users/2319844/sumner-evans"}, "edited": false, "score": 0, "creation_date": 1425504547, "post_id": 28864680, "comment_id": 45995694, "body": "@Mat&#237;asFidemraizer I find that links to documentation often lead to more informative posts, that is why I asked for it."}, {"owner": {"reputation": 58724, "user_id": 411632, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41e7ea21270a6079bb14d6d60ec75d8a?s=128&d=identicon&r=PG", "display_name": "Mat&#237;as Fidemraizer", "link": "https://stackoverflow.com/users/411632/mat%c3%adas-fidemraizer"}, "reply_to_user": {"reputation": 8174, "user_id": 2319844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886739627f42f94f4e05159428a265fa?s=128&d=identicon&r=PG", "display_name": "Sumner Evans", "link": "https://stackoverflow.com/users/2319844/sumner-evans"}, "edited": false, "score": 1, "creation_date": 1425504801, "post_id": 28864680, "comment_id": 45995825, "body": "@jsve Check this <a href=\"http://tinyurl.com/ot7pw2v\" rel=\"nofollow noreferrer\">tinyurl.com/ot7pw2v</a> !! :D"}, {"owner": {"reputation": 8174, "user_id": 2319844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886739627f42f94f4e05159428a265fa?s=128&d=identicon&r=PG", "display_name": "Sumner Evans", "link": "https://stackoverflow.com/users/2319844/sumner-evans"}, "edited": false, "score": 0, "creation_date": 1427423938, "post_id": 28864680, "comment_id": 46781505, "body": "@Mat&#237;asFidemraizer I&#39;m so glad you used this workaround. I, for one, found it funny. I&#39;ve been reading a whole bunch of Meta posts about how people think that LMGTFY is offensive. I think it&#39;s plain funny. Thanks for &quot;bypassing the system&quot; :)."}, {"owner": {"reputation": 58724, "user_id": 411632, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41e7ea21270a6079bb14d6d60ec75d8a?s=128&d=identicon&r=PG", "display_name": "Mat&#237;as Fidemraizer", "link": "https://stackoverflow.com/users/411632/mat%c3%adas-fidemraizer"}, "reply_to_user": {"reputation": 8174, "user_id": 2319844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886739627f42f94f4e05159428a265fa?s=128&d=identicon&r=PG", "display_name": "Sumner Evans", "link": "https://stackoverflow.com/users/2319844/sumner-evans"}, "edited": false, "score": 0, "creation_date": 1427436366, "post_id": 28864680, "comment_id": 46784677, "body": "@jsve hahaha yeah it&#39;s very funny. I remember when someone gave me a link to this site a long time ago in IRC... :D"}], "tags": [], "owner": {"reputation": 58724, "user_id": 411632, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41e7ea21270a6079bb14d6d60ec75d8a?s=128&d=identicon&r=PG", "display_name": "Mat&#237;as Fidemraizer", "link": "https://stackoverflow.com/users/411632/mat%c3%adas-fidemraizer"}, "is_accepted": true, "score": 3, "last_activity_date": 1425502710, "last_edit_date": 1425502710, "creation_date": 1425502293, "answer_id": 28864680, "question_id": 28864638, "link": "https://stackoverflow.com/questions/28864638/is-it-possible-to-add-an-attribute-of-object-with-c/28864680#28864680", "title": "Is it possible to add an attribute of Object with C#", "body": "<p>Since .NET 4.0 yes, you can using <code>ExpandoObject</code>:</p>\n\n<pre><code>dynamic expando = new ExpandoObject();\nexpando.text = \"hello world\";\n</code></pre>\n\n<p>Anyway, if you're just looking to create objects <em>on-the-fly</em>, you should use an anonymous type declaration:</p>\n\n<pre><code>var obj = new { text = \"hello world\" };\n</code></pre>\n\n<p>Actually, expando objects have an added value: you can also add methods using delegates. For example:</p>\n\n<pre><code>dynamic expando = new ExpandoObject();\nexpando.DoIt = new Action\n(\n    () =&gt; \n    {\n        // Code here\n    }\n);\n\nexpando.DoIt();\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 4503578, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/e91673d283e846ee3462c2c4e1c8d52e?s=128&d=identicon&r=PG&f=1", "display_name": "James Madison", "link": "https://stackoverflow.com/users/4503578/james-madison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 1, "closed_date": 1425503380, "accepted_answer_id": 28864680, "answer_count": 1, "score": 1, "last_activity_date": 1425502710, "creation_date": 1425502199, "question_id": 28864638, "link": "https://stackoverflow.com/questions/28864638/is-it-possible-to-add-an-attribute-of-object-with-c", "closed_reason": "Duplicate", "title": "Is it possible to add an attribute of Object with C#", "body": "<p>In JavaScript, I can create a new object (called clean). Then if I want to set an attribute of that object I just set objectName.attributeName = whatever. Is it possible to do something similar in C#, <strong>WITHOUT</strong> defining a class?</p>\n\n<hr>\n\n<pre><code>var clean = new Object();\nclean.isClean = true;\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "linq", "entity-framework-6"], "comments": [{"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 1, "creation_date": 1425502845, "post_id": 28864618, "comment_id": 45994687, "body": "T-SQL does not do shortcut evaluation, unlike C#. All parts of an <code>AND</code> are potentially evaluated. (This is not an answer, I have no idea how to write this correctly using EF -- but it does explain what you&#39;re seeing.)"}, {"owner": {"reputation": 3066, "user_id": 1286621, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a7c7ed1bea2124807983a1ac9cb44a4b?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/1286621/mike"}, "edited": false, "score": 0, "creation_date": 1425503802, "post_id": 28864618, "comment_id": 45995274, "body": "<a href=\"http://stackoverflow.com/questions/13959347/string-isnullorempty-entity-framework-5\" title=\"string isnullorempty entity framework 5\">stackoverflow.com/questions/13959347/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 744, "user_id": 3306221, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/45b1a38793ab5a6e3b59d37246310ad3?s=128&d=identicon&r=PG&f=1", "display_name": "bob", "link": "https://stackoverflow.com/users/3306221/bob"}, "edited": false, "score": 0, "creation_date": 1425503152, "post_id": 28864837, "comment_id": 45994885, "body": "Actually the empty string inside POINT() is the problem. The geography operation should not be executed on rows where long/lat values are NULL but I don&#39;t know how to achieve this !"}, {"owner": {"reputation": 744, "user_id": 3306221, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/45b1a38793ab5a6e3b59d37246310ad3?s=128&d=identicon&r=PG&f=1", "display_name": "bob", "link": "https://stackoverflow.com/users/3306221/bob"}, "edited": false, "score": 0, "creation_date": 1425508315, "post_id": 28864837, "comment_id": 45997635, "body": "I&#39;ve managed to do so by using ternary operator x ? y : z where the geography operations are in y. That way they are executed only if x is true (x -&gt; lat/long != null)."}], "tags": [], "owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "is_accepted": false, "score": 3, "last_activity_date": 1425504396, "last_edit_date": 1425504396, "creation_date": 1425502847, "answer_id": 28864837, "question_id": 28864618, "link": "https://stackoverflow.com/questions/28864618/where-xxx-is-not-null-and-xxx-2-4-is-not-null-seems-to-be-executed-aft/28864837#28864837", "title": "&quot;where xxx is not null and xxx / 2 &lt; 4&quot; : &quot;is not null&quot; seems to be executed after my operation", "body": "<p>SQL Server does not perform short-circuit evaluation of <code>AND</code> operations. You might be able to resolve your issue by generating <code>IFNULL</code> statements using the <code>??</code> operator:</p>\n\n<pre><code>IQueryable&lt;Event&gt; dbQuery = context.Set&lt;Event&gt;()\n.Where(e =&gt; e.GeoLat != null &amp;&amp; e.GeoLong != null &amp;&amp; \n            user.Latitude != null &amp;&amp; user.Longitude != null)\n.Where(e =&gt; \n  DbGeography.PointFromText(\n      \"POINT(\" + (e.GeoLong ?? \"1\") + \" \" + (e.GeoLat ?? \"1\") + \")\", 4326)\n    .Distance(DbGeography.PointFromText(\n      \"POINT(\" + (user.Longitude ?? \"1\") + \" \" + (user.Latitude ?? \"1\") + \")\", 4326)\n    ) &lt; distanceKM * 1000)\n</code></pre>\n\n<p><strong>Edit</strong>: If the issue is arising because the <code>NULL</code> values are being converted to an empty string, you could try converting them to an arbitrary integer value instead, such as 1. Since the other <code>Where</code> clause will filter out these rows, their computation does not matter, as long as it doesn't throw any error.</p>\n\n<p>I understand that ideally these rows would be excluded from the <code>geography</code> operation in the first place, but that surprisingly is not as straightforward to achieve. The easiest approach is to allow the <code>geography</code> operation to proceed, then discard its results.</p>\n\n<p>To really prevent it from being executed, you need to figure out how to get your LINQ query to emit a <code>CASE WHEN</code> clause.</p>\n"}], "owner": {"reputation": 744, "user_id": 3306221, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/45b1a38793ab5a6e3b59d37246310ad3?s=128&d=identicon&r=PG&f=1", "display_name": "bob", "link": "https://stackoverflow.com/users/3306221/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 635, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1425504396, "creation_date": 1425502130, "last_edit_date": 1425503145, "question_id": 28864618, "link": "https://stackoverflow.com/questions/28864618/where-xxx-is-not-null-and-xxx-2-4-is-not-null-seems-to-be-executed-aft", "title": "&quot;where xxx is not null and xxx / 2 &lt; 4&quot; : &quot;is not null&quot; seems to be executed after my operation", "body": "<p>Here is my Entity Framework linq request (user already exists and my latitudes and longitudes are decimal) :</p>\n\n<pre><code>IQueryable&lt;Event&gt; dbQuery = context.Set&lt;Event&gt;()\n                    .Where(e =&gt; e.GeoLat != null &amp;&amp; e.GeoLong != null &amp;&amp; user.Latitude != null &amp;&amp; user.Longitude != null)\n                    .Where(e =&gt; DbGeography.PointFromText(\"POINT(\"+e.GeoLong+\" \"+ e.GeoLat+\")\", 4326)\n                        .Distance(DbGeography.PointFromText(\"POINT(\" + user.Longitude + \" \" + user.Latitude + \")\", 4326)) &lt; distanceKM*1000);\n</code></pre>\n\n<p>Here is the related part of the generated SQL request :</p>\n\n<pre><code>AND \n( \n  [Extent1].[GeoLat] IS NOT NULL \n) \nAND \n( \n  [Extent1].[GeoLong] IS NOT NULL \n) \nAND \n( \n  48,697161 \n  /* @p__linq__1 */ \n  IS NOT NULL \n) \nAND \n( \n  2,189617 \n  /* @p__linq__2 */ \n  IS NOT NULL \n) \nAND \n( \n  ( \n    geography::stpointfromtext(N'POINT(' + \n    CASE \n    WHEN ( \n        [Extent1].[GeoLong] IS NULL \n      ) \n      THEN \n      N'' \n      ELSE cast( [Extent1].[GeoLong] AS nvarchar(max)) \n    END \n    + N' ' + \n    CASE \n    WHEN ( \n        [Extent1].[GeoLat] IS NULL \n      ) \n      THEN \n      N'' \n      ELSE cast( [Extent1].[GeoLat] AS nvarchar(max)) \n    END \n    + N')', 4326).stdistance(geography::stpointfromtext(N'POINT(' + cast( 2.189617 AS nvarchar(max)) + N' ' + cast( 48.697161 AS nvarchar(max)) + N')', 4326))\n  ) \n  &lt; cast( 50 \n  /* @p__linq__3 */ \n  * 1000 AS float) \n)\n</code></pre>\n\n<p>Here is the error I get :</p>\n\n<blockquote>\n  <p>A .NET Framework error occurred during execution of user-defined routine or aggregate \"geography\": \n  System.FormatException: 24141: A number is expected at position 7 of the input. The input has ).</p>\n</blockquote>\n\n<p>The error seems to tell me that the longitudes and latitudes values in POINT() are in fact empty string (')' at the position 7 => empty values).\nI don't understand why I get this error since I tell to SQl to take only the rows where values are NOT NULL. It seems like SQL do the geography operations even on rows where values are NULL.</p>\n\n<p>Could you help me to understand the reasons why ?</p>\n\n<p>I use EF6.</p>\n"}, {"tags": ["c#", "ef-code-first"], "comments": [{"owner": {"reputation": 548, "user_id": 4610451, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c5db99a25c0b9310da053c50b0ee0500?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Sharma", "link": "https://stackoverflow.com/users/4610451/gaurav-sharma"}, "edited": false, "score": 0, "creation_date": 1425502829, "post_id": 28864615, "comment_id": 45994678, "body": "I am trying to understand your question. So Navigation properties represent relationship, Non-Navigation properties represents Columns. I don&#39;t think apply Index to a Navigation Property (that&#39;s just a relationship) should work. Please correct if I am wrong somewhere?"}, {"owner": {"reputation": 1285, "user_id": 810328, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/98951d6303cf432496217feebec6359f?s=128&d=identicon&r=PG", "display_name": "vcRobe", "link": "https://stackoverflow.com/users/810328/vcrobe"}, "reply_to_user": {"reputation": 548, "user_id": 4610451, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c5db99a25c0b9310da053c50b0ee0500?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Sharma", "link": "https://stackoverflow.com/users/4610451/gaurav-sharma"}, "edited": false, "score": 0, "creation_date": 1425503612, "post_id": 28864615, "comment_id": 45995170, "body": "I just tried using two non-navigation properties to check the Migration&#39;s result, they&#39;re useless. What I need is to create the Unique Index between the two navigation properties"}, {"owner": {"reputation": 2060, "user_id": 90180, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/574e6cf2c5a967cd2543f4c64decfaf6?s=128&d=identicon&r=PG", "display_name": "zhe", "link": "https://stackoverflow.com/users/90180/zhe"}, "edited": false, "score": 0, "creation_date": 1457106932, "post_id": 28864615, "comment_id": 59270362, "body": "I have the same problem. Did you find the solution?"}], "owner": {"reputation": 1285, "user_id": 810328, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/98951d6303cf432496217feebec6359f?s=128&d=identicon&r=PG", "display_name": "vcRobe", "link": "https://stackoverflow.com/users/810328/vcrobe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 424, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1425502117, "creation_date": 1425502117, "question_id": 28864615, "link": "https://stackoverflow.com/questions/28864615/creating-a-unique-index-between-two-navigation-properties-using-entity-framework", "title": "Creating a unique index between two navigation properties using Entity Framework Code-First v6.0", "body": "<p>I'm working on an Entity Framework 6 Code First project and I need to create a <em>Unique Index</em> that include two navigation properties.</p>\n\n<p>For some unknown reason when I do the migration <em>add-migration Foo</em> the generated code create two separated indexes (one for each property).</p>\n\n<p>Here's the code snippet of the generated code</p>\n\n<pre><code>.Index(t =&gt; t.a)\n.Index(t =&gt; t.b)\n</code></pre>\n\n<p>Now if I do the same with two non-navigation properties the generated code is the expected</p>\n\n<p>Here's the code snippet with the properties and the data annotations</p>\n\n<pre><code>[Index(\"IX_1\", 1, IsUnique = true)]\npublic int a { get; set; }\n\n[Index(\"IX_1\", 2, IsUnique = true)]\npublic int b { get; set; }\n</code></pre>\n\n<p>and here's the code snippet of the generated code (the expected one)</p>\n\n<pre><code>.Index(t =&gt; new { t.a, t.b }, unique: true, name: \"IX_1\")\n</code></pre>\n\n<p>I'm applying the same annotations with the non-navigation properties and the navigation properties.</p>\n\n<p>Why it doesn't generate the correct code with navigation properties?</p>\n\n<p>Can somebody tell me if there's a way to make it works with the navigation properties?</p>\n"}, {"tags": ["c#", "asp.net", "list"], "comments": [{"owner": {"reputation": 39314, "user_id": 385844, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21ffea7aa8a0cf833901322567c61df9?s=128&d=identicon&r=PG", "display_name": "phoog", "link": "https://stackoverflow.com/users/385844/phoog"}, "edited": false, "score": 2, "creation_date": 1425502430, "post_id": 28864612, "comment_id": 45994447, "body": "Is your Button2_Click method actually getting called?  You have to add it to the button&#39;s click event, of course, though that may be done by the designer or by writing code yourself."}, {"owner": {"reputation": 11176, "user_id": 4251546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee0787c93711e13244a8547e1316cc?s=128&d=identicon&r=PG", "display_name": "Vsevolod Goloviznin", "link": "https://stackoverflow.com/users/4251546/vsevolod-goloviznin"}, "edited": false, "score": 0, "creation_date": 1425502515, "post_id": 28864612, "comment_id": 45994499, "body": "For each request a new instance of code behind file is created, thus the new instance if <code>Class1</code> is created too."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4633999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/970a55400093f0924bd6c2944a43a1ac?s=128&d=identicon&r=PG&f=1", "display_name": "Hjgfhjghj Hjghjghj", "link": "https://stackoverflow.com/users/4633999/hjgfhjghj-hjghjghj"}, "edited": false, "score": 0, "creation_date": 1425502885, "post_id": 28864740, "comment_id": 45994713, "body": "well, ok then. Thanks"}], "tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 7, "last_activity_date": 1425502498, "creation_date": 1425502498, "answer_id": 28864740, "question_id": 28864612, "link": "https://stackoverflow.com/questions/28864612/c-adding-item-into-list-doesnt-increase-its-size/28864740#28864740", "title": "C# Adding item into List&lt;&gt; doesn&#39;t increase its size", "body": "<p>Remember that ASP.NET is <em>stateless</em> so each request creates a completely new <code>Page</code> object.  So your activity timeline looks like this:</p>\n\n<ul>\n<li>Request page\n<ul>\n<li><code>Page</code> created</li>\n<li><code>objekt</code> created</li>\n<li>page rendered</li>\n</ul></li>\n<li>Button1 clicked\n<ul>\n<li><code>Page</code> created</li>\n<li><code>objekt</code> created (<em>not</em> the same object as the first reqest)</li>\n<li><code>Label1.Text</code> set</li>\n<li>page rendered</li>\n</ul></li>\n<li>Button2 clicked\n<ul>\n<li><code>Page</code> created</li>\n<li><code>objekt</code> created (<em>not</em> the same object as either of the first two reqests)</li>\n<li><code>zvetsit_pole</code> called</li>\n<li><code>Label1.Text</code> set to return value</li>\n<li>page rendered</li>\n</ul></li>\n</ul>\n\n<p>So the button click events are dealing with different objects, so you don't see the results of one action in the next action.</p>\n\n<p>The answer is to put <code>objekt</code> in some sort of persistent storage like <code>ViewState</code>, <code>Cache</code>, or <code>Session</code>.  If you don't know which is appropriate for your needs do some research and decide for yourself.</p>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 3769352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5uDol.jpg?s=128&g=1", "display_name": "fpintos", "link": "https://stackoverflow.com/users/3769352/fpintos"}, "is_accepted": false, "score": 0, "last_activity_date": 1425503225, "creation_date": 1425503225, "answer_id": 28864948, "question_id": 28864612, "link": "https://stackoverflow.com/questions/28864612/c-adding-item-into-list-doesnt-increase-its-size/28864948#28864948", "title": "C# Adding item into List&lt;&gt; doesn&#39;t increase its size", "body": "<p>Each request creates a new instance of the <code>_Default</code> class, and correspondingly, <code>objekt</code> will be a new instance of <code>Class1</code> as well.</p>\n\n<p>This means that any change you make to <code>objekt</code> in one request will not be reflected in the next request.</p>\n\n<p>In order for the changes to be persisted between requests you will need to store them somewhere. There are different options to do that, some involve using the user's session, others using the page's view state or maybe persisting the state to disk. Which one you choose depends on what exactly you want to accomplish.</p>\n\n<p>For additional info, see pages like these:</p>\n\n<ul>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/ms178581(v=vs.140).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/ms178581(v=vs.140).aspx</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/ms972976.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/ms972976.aspx</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/1whwt1k7(v=vs.140).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/1whwt1k7(v=vs.140).aspx</a></li>\n</ul>\n"}], "owner": {"reputation": 3, "user_id": 4633999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/970a55400093f0924bd6c2944a43a1ac?s=128&d=identicon&r=PG&f=1", "display_name": "Hjgfhjghj Hjghjghj", "link": "https://stackoverflow.com/users/4633999/hjgfhjghj-hjghjghj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 28864740, "answer_count": 2, "score": 0, "last_activity_date": 1425503225, "creation_date": 1425502111, "question_id": 28864612, "link": "https://stackoverflow.com/questions/28864612/c-adding-item-into-list-doesnt-increase-its-size", "title": "C# Adding item into List&lt;&gt; doesn&#39;t increase its size", "body": "<p>I'm playing a little bit in ASP.NET and here is some code to display list size and some buttons to manipulate it. </p>\n\n<p>I have separated class to create the list with a constructor. Here is also a method to increase its size</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\n\n\npublic class Class1\n{\n    public List&lt;byte&gt; Pole { get; set; }\n    public int velikost_pole { get; set; }  //list size\n\n    public Class1()                         //constructor, default size is 3\n    {\n        List&lt;byte&gt; pole = new List&lt;byte&gt;();\n        for (byte a = 0; a &lt; 3; a++)\n        {\n            pole.Add((byte)(a * a));\n        }\n        Pole = pole;\n        velikost_pole = Pole.Count;\n    }\n    public string zvetsit_pole()            //method to increase the list size by adding item\n    {\n        if (Pole.Count &lt; 6)                 //max size\n        {\n            Pole.Add((byte)(Pole.Count*Pole.Count+1));\n            velikost_pole = Pole.Count;\n            return \"Pole zvetseno o 1\";\n        }\n        else\n        {\n            return \"Jiz nelze zvetsit\";\n        }\n    }\n}\n</code></pre>\n\n<p>In the main file, the object is created as global variable and there is a button to increase the list size. However, the size doesnt change and its still the same</p>\n\n<pre><code>public partial class _Default : System.Web.UI.Page\n{\n    Class1 objekt = new Class1();                   //create the object\n\n    protected void Page_Load(object sender, EventArgs e)\n    {\n\n    }\n    protected void Button1_Click(object sender, EventArgs e)\n    {\n        Label1.Text = \"Velikost pole je: \" + objekt.velikost_pole.ToString() + \"&lt;br /&gt;\";\n        for (int a=0;a&lt;objekt.velikost_pole;a++)\n        {\n            Label1.Text += objekt.Pole[a].ToString() + \"&amp;nbsp\";\n        }\n    }\n    protected void Button2_Click(object sender, EventArgs e)    //call method to increase the size\n    {\n        Label1.Text = objekt.zvetsit_pole();\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Thanks for ideas.</p>\n"}, {"tags": ["c#", "entity-framework"], "answers": [{"tags": [], "owner": {"reputation": 93814, "user_id": 1659, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6cc331c477243ced5ff968a32a7dd14f?s=128&d=identicon&r=PG", "display_name": "Mark Cidade", "link": "https://stackoverflow.com/users/1659/mark-cidade"}, "is_accepted": false, "score": 3, "last_activity_date": 1425502236, "creation_date": 1425502236, "answer_id": 28864653, "question_id": 28864569, "link": "https://stackoverflow.com/questions/28864569/how-do-edmfunction-work/28864653#28864653", "title": "How do EDMFunction work?", "body": "<p>The Entity Framework uses only the information in the attribute to convert the method call to SQL. The implementation is not used in this case.</p>\n"}, {"tags": [], "owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "is_accepted": true, "score": 3, "last_activity_date": 1425502694, "last_edit_date": 1425502694, "creation_date": 1425502324, "answer_id": 28864689, "question_id": 28864569, "link": "https://stackoverflow.com/questions/28864569/how-do-edmfunction-work/28864689#28864689", "title": "How do EDMFunction work?", "body": "<p>The <code>EdmFunction</code> attribute calls the specified method in SQL. The implementation you have in C# will be ignored. So in your case <a href=\"https://msdn.microsoft.com/en-us/library/ms189527.aspx\" rel=\"nofollow\"><code>STR</code></a> method is called at SQL end. </p>\n\n<p>You can have your method as:</p>\n\n<pre><code>[EdmFunction(\"SqlServer\", \"STR\")]\npublic static string ConvertToString(double? number)\n{\n   throw new NotSupportedException(\"Direct calls not supported\");  \n}\n</code></pre>\n\n<p>and still it would work. </p>\n\n<p>See: <a href=\"http://blogs.msdn.com/b/efdesign/archive/2008/10/08/edm-and-store-functions-exposed-in-linq.aspx\" rel=\"nofollow\">EDM and Store functions exposed in LINQ</a></p>\n\n<blockquote>\n  <p><strong>How it works</strong></p>\n  \n  <p>When a method with the EdmFunction attribute is detected within a LINQ\n  query expression, its treatment is identical to that of a function\n  within an Entity-SQL query. Overload resolution is performed with\n  respect to the EDM types (not CLR types) of the function arguments.\n  Ambiguous overloads, missing functions or lack of overloads result in\n  an exception. In addition, the return type of the method must be\n  validated. If the CLR return type does not have an implicit cast to\n  the appropriate EDM type, the translation will fail.</p>\n</blockquote>\n\n<p>As a side note, you can also use <a href=\"https://msdn.microsoft.com/en-us/library/dd466166.aspx\" rel=\"nofollow\"><code>SqlFunctions.StringConvert</code></a> like:</p>\n\n<pre><code>var student = (from s in Students\n        where  SqlFunctions.StringConvert((double) s.LanguageId)).Trim() == \"2\" \n        select s).FirstOrDefault();\n</code></pre>\n"}], "owner": {"reputation": 15571, "user_id": 980799, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/xbFy0.gif?s=128&g=1", "display_name": "Mister Epic", "link": "https://stackoverflow.com/users/980799/mister-epic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3137, "favorite_count": 2, "accepted_answer_id": 28864689, "answer_count": 2, "score": 2, "last_activity_date": 1425502694, "creation_date": 1425501972, "question_id": 28864569, "link": "https://stackoverflow.com/questions/28864569/how-do-edmfunction-work", "title": "How do EDMFunction work?", "body": "<p>We had a developer who attempted to filter on a numeric ID property using a string:</p>\n\n<pre><code>var student = (from s in dbStudents\n        where s.StudentId.ToString() == \"2\" \n        select s).FirstOrDefault();\n</code></pre>\n\n<p>This won't work, as <code>ToString()</code> cannot be translated into SQL by the EF Provider.</p>\n\n<p>One solution was provided works, but I honestly am unclear about why it works:</p>\n\n<pre><code>[EdmFunction(\"SqlServer\", \"STR\")]\npublic static string ConvertToString(double? number)\n{\n   return number.HasValue ? number.ToString() : null;\n}\n</code></pre>\n\n<p>And the query now looks like:</p>\n\n<pre><code>var student = (from s in Students\n        where ConvertToString((double) s.LanguageId).Trim() == \"2\" \n        select s).FirstOrDefault();\n</code></pre>\n\n<p>My understanding is this query should be building up an expression tree, but it appears that we have a CLR method being executed in the middle? I had thought that we could only use methods where the provider understood how it could be translated into SQL.</p>\n\n<p>The SQL looks right, can anyone tell me how we got from:</p>\n\n<pre><code>return number.HasValue ? number.ToString() : null;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>SELECT TOP (1) \n[Extent1].[StudentId] AS [StudentId], \n[Extent1].[Name] AS [Name]\nFROM [dbo].[Student] AS [Extent1]\nWHERE N'2' = (LTRIM(RTRIM(STR( CAST( [Extent1].[StudentId] AS float)))))\n</code></pre>\n"}, {"tags": ["c#", "linq", "expression"], "comments": [{"owner": {"reputation": 21874, "user_id": 526704, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/UJEcq.jpg?s=128&g=1", "display_name": "DLeh", "link": "https://stackoverflow.com/users/526704/dleh"}, "edited": false, "score": 3, "creation_date": 1425502001, "post_id": 28864548, "comment_id": 45994214, "body": "what is your question? It&#39;s not clear."}, {"owner": {"reputation": 133, "user_id": 4565240, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/32eb226500021251ebcc6df14317300d?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4565240/james"}, "reply_to_user": {"reputation": 21874, "user_id": 526704, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/UJEcq.jpg?s=128&g=1", "display_name": "DLeh", "link": "https://stackoverflow.com/users/526704/dleh"}, "edited": false, "score": 0, "creation_date": 1425502106, "post_id": 28864548, "comment_id": 45994270, "body": "@DLeh: I just found out that there&#39;s something called as Expression, I know what they are, let&#39;s say you have declared one (as a parameter in a method) and you wanna pass it to a LINQ query, do you call the expression&#39;s Compile method to do so or is there any special way to handle them?"}, {"owner": {"reputation": 21874, "user_id": 526704, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/UJEcq.jpg?s=128&g=1", "display_name": "DLeh", "link": "https://stackoverflow.com/users/526704/dleh"}, "edited": false, "score": 0, "creation_date": 1425502156, "post_id": 28864548, "comment_id": 45994287, "body": "how about post some real example code instead of making us try to imagine what you&#39;re talking about"}, {"owner": {"reputation": 133, "user_id": 4565240, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/32eb226500021251ebcc6df14317300d?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4565240/james"}, "reply_to_user": {"reputation": 21874, "user_id": 526704, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/UJEcq.jpg?s=128&g=1", "display_name": "DLeh", "link": "https://stackoverflow.com/users/526704/dleh"}, "edited": false, "score": 0, "creation_date": 1425502247, "post_id": 28864548, "comment_id": 45994329, "body": "@DLeh: It&#39;s not that hard, for example <code>public T Get&lt;T&gt; (Expression&lt;Func&lt;T, Boolean&gt;&gt; Selector)</code>, and how do you use the Selector in a LINQ query."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1425502264, "post_id": 28864548, "comment_id": 45994336, "body": "I don&#39;t know how Expression trees are better unless you are talking about <code>IQueryable</code>, but then the Linq extension methods for that do take Expression trees, for a reason.  Do you have a reason for using them?"}, {"owner": {"reputation": 548, "user_id": 4610451, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c5db99a25c0b9310da053c50b0ee0500?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Sharma", "link": "https://stackoverflow.com/users/4610451/gaurav-sharma"}, "edited": false, "score": 1, "creation_date": 1425502279, "post_id": 28864548, "comment_id": 45994347, "body": "Below link also have a lot of detail about this topic.    [<a href=\"http://stackoverflow.com/questions/793571/why-would-you-use-expressionfunct-rather-than-funct][1]\" title=\"why would you use expressionfunct rather than funct%5d%5b1%5d\">stackoverflow.com/questions/793571/&hellip;</a>        [1]: <a href=\"http://stackoverflow.com/questions/793571/why-would-you-use-expressionfunct-rather-than-funct\" title=\"why would you use expressionfunct rather than funct\">stackoverflow.com/questions/793571/&hellip;</a>"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1425502658, "post_id": 28864548, "comment_id": 45994577, "body": "@James An <code>Expression</code> is a representation of the constituent elements of some chunk of high level (e.g. C#) code. A <code>Func</code> on the other hand is a representation of some callable method that accepts some inputs and returns an output; a <code>Func</code> is unaware of what C# constructs went into its creation. If you&#39;re working with an API that needs to examine an abstract representation of a chunk of code, it will probably ask for an <code>Expression</code>. If you&#39;re working with an API that needs a callable that takes some inputs and produces an output, you need to give it a <code>Func</code>."}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 4565240, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/32eb226500021251ebcc6df14317300d?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4565240/james"}, "edited": false, "score": 0, "creation_date": 1425502601, "post_id": 28864657, "comment_id": 45994540, "body": "Thanks Chris, so, Let&#39;s say we have a ParallelQuery, and the extension method for this type such as the select do not use expression, so there&#39;s no need to pass expressions into such methods and compile it, is that right? and then on the other hand, when dealing with IQuerable then expression is a better move ?"}, {"owner": {"reputation": 1276, "user_id": 2015475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a80ecd0c4a15e45082bf606c41e3ab7b?s=128&d=identicon&r=PG", "display_name": "PermaFrost", "link": "https://stackoverflow.com/users/2015475/permafrost"}, "edited": false, "score": 0, "creation_date": 1425503056, "post_id": 28864657, "comment_id": 45994823, "body": "Good answer, one thing to clarify is that using expression trees with Entity Framework is optional and only required for dynamic queries (as pointed out in the last paragraph). I would avoid it if you can."}, {"owner": {"reputation": 133, "user_id": 4565240, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/32eb226500021251ebcc6df14317300d?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4565240/james"}, "reply_to_user": {"reputation": 1276, "user_id": 2015475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a80ecd0c4a15e45082bf606c41e3ab7b?s=128&d=identicon&r=PG", "display_name": "PermaFrost", "link": "https://stackoverflow.com/users/2015475/permafrost"}, "edited": false, "score": 0, "creation_date": 1425503224, "post_id": 28864657, "comment_id": 45994929, "body": "@PermaFrost: What do you mean &quot;I would avoid it if you can&quot;? You mean using Expressions ?"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 1276, "user_id": 2015475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a80ecd0c4a15e45082bf606c41e3ab7b?s=128&d=identicon&r=PG", "display_name": "PermaFrost", "link": "https://stackoverflow.com/users/2015475/permafrost"}, "edited": false, "score": 2, "creation_date": 1425503284, "post_id": 28864657, "comment_id": 45994964, "body": "@PermaFrost I&#39;m pretty sure using expression trees with Entity Framework is 90% of the value of the library. The translation from lambdas to SQL cannot work without EF examining the lambda&#39;s expression tree. It isn&#39;t some niche feature."}, {"owner": {"reputation": 12428, "user_id": 213421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c64e85336d611bcac9ecfd54baa81cf2?s=128&d=identicon&r=PG", "display_name": "Chris Pitman", "link": "https://stackoverflow.com/users/213421/chris-pitman"}, "reply_to_user": {"reputation": 133, "user_id": 4565240, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/32eb226500021251ebcc6df14317300d?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4565240/james"}, "edited": false, "score": 0, "creation_date": 1425509734, "post_id": 28864657, "comment_id": 45998218, "body": "@James Right, you are almost always better off using the same type as the provider requires. There are <i>some</i> cases where you would use an <code>Expression</code> when you need a <code>Func</code>, but they are limited to dynamically modifying the expression trees (ie really advanced, you&#39;ll know you need it)."}, {"owner": {"reputation": 1276, "user_id": 2015475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a80ecd0c4a15e45082bf606c41e3ab7b?s=128&d=identicon&r=PG", "display_name": "PermaFrost", "link": "https://stackoverflow.com/users/2015475/permafrost"}, "reply_to_user": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1425553173, "post_id": 28864657, "comment_id": 46014468, "body": "@Asad You are right that Entity Framework&#39;s query provider implementation has to look at expression trees even if you are not passing them in. That&#39;s just how it has to operate under the hood.  @Asad, @James: Yes, I meant avoiding expressions. Why? Because it&#39;s an additional level of complexity vs. using <code>Func</code> directly and I would skip it if not required (e.g. you&#39;re not having &quot;dynamic needs&quot;). I doubt there is a big performance gain when you use <code>Expression</code> instead of <code>Func</code> when working with EF, but have never measured it."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 1276, "user_id": 2015475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a80ecd0c4a15e45082bf606c41e3ab7b?s=128&d=identicon&r=PG", "display_name": "PermaFrost", "link": "https://stackoverflow.com/users/2015475/permafrost"}, "edited": false, "score": 1, "creation_date": 1425558160, "post_id": 28864657, "comment_id": 46017306, "body": "@PermaFrost But you are passing them in. When I do <code>myContext.Users.Where(u =&gt; u.FirstName == &quot;Asad&quot;)</code>, the lambda expression I&#39;m passing in is an instance of <code>Expression</code>."}, {"owner": {"reputation": 1276, "user_id": 2015475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a80ecd0c4a15e45082bf606c41e3ab7b?s=128&d=identicon&r=PG", "display_name": "PermaFrost", "link": "https://stackoverflow.com/users/2015475/permafrost"}, "reply_to_user": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1425568184, "post_id": 28864657, "comment_id": 46023509, "body": "@Asad You are right, sorry about the confusion. I actually thought code such as this would not use the method overload with <code>Expression</code> parameters, but the <code>Func</code> overload but that&#39;s not true as you pointed out (Visual Studio also thinks that way ;-))."}], "tags": [], "owner": {"reputation": 12428, "user_id": 213421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c64e85336d611bcac9ecfd54baa81cf2?s=128&d=identicon&r=PG", "display_name": "Chris Pitman", "link": "https://stackoverflow.com/users/213421/chris-pitman"}, "is_accepted": true, "score": 6, "last_activity_date": 1425502239, "creation_date": 1425502239, "answer_id": 28864657, "question_id": 28864548, "link": "https://stackoverflow.com/questions/28864548/expressionfunct-boolean-vs-funct-boolean/28864657#28864657", "title": "Expression&lt;Func&lt;T, Boolean&gt;&gt; VS Func&lt;T, Boolean&gt;", "body": "<p>Using <code>Expression</code> vs <code>Func</code> really depends on your use case and which Linq provider you are using.</p>\n\n<p>If you are using Entity Framework, Linq to SQL, or any other query provider that translates expression trees into some other query language then you <em>have</em> to use <code>Expression</code>.</p>\n\n<p>If you are using Linq to Objects, then you have a choice. Usually you would want to use <code>Func</code> directly, without first creating an expression then compiling it. </p>\n\n<p>You <em>might</em> use <code>Expression</code> if what you are doing requires building arbitrary and complex queries at runtime. In this case you would call <code>compile</code> before executing the query. The common example of this would users providing complex search queries through a UI.</p>\n"}, {"tags": [], "owner": {"reputation": 58724, "user_id": 411632, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41e7ea21270a6079bb14d6d60ec75d8a?s=128&d=identicon&r=PG", "display_name": "Mat&#237;as Fidemraizer", "link": "https://stackoverflow.com/users/411632/mat%c3%adas-fidemraizer"}, "is_accepted": false, "score": 2, "last_activity_date": 1425504206, "last_edit_date": 1425504206, "creation_date": 1425503270, "answer_id": 28864958, "question_id": 28864548, "link": "https://stackoverflow.com/questions/28864548/expressionfunct-boolean-vs-funct-boolean/28864958#28864958", "title": "Expression&lt;Func&lt;T, Boolean&gt;&gt; VS Func&lt;T, Boolean&gt;", "body": "<p>Basically, an expression tree is a data structure which may be compiled into executable code or not.</p>\n\n<p>Some methods require you to provide expression trees because they need to analyze <em>what's inside the expression</em> so it takes decisions based on this. Also, LINQ providers which execute these expressions against data sources like SQL, analyze them to translate your code to a particular SQL dialect.</p>\n\n<p>In the above case, the expression tree never gets compiled. </p>\n\n<p>Furthermore, you don't want to go with the expression trees' route to solve any problem if you're not building a possible executable code based on conditions and use cases. If you just declare expression trees because you find them powerful you're not in the right way, because you're adding an extra overhead of compiling them to delegates to make them executable...</p>\n\n<p>I would also add that expression trees are very powerful because it's practically like building C# code using <em>abstract syntax trees</em> (AST), while regular language compilation flow is translating human programming languages like C# into an AST, then into intermediate languages or machine code. In other words, it's like having a run-time compiler.</p>\n\n<p>In the .NET early days, this was only possible using <em>reflection emit</em>, Mono Cecil or other intermediate language weavers, and just imagine how you would write something like <code>() =&gt; \"hello world\"</code> using .NET intermediate language...!</p>\n"}], "owner": {"reputation": 133, "user_id": 4565240, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/32eb226500021251ebcc6df14317300d?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4565240/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "accepted_answer_id": 28864657, "answer_count": 2, "score": 1, "last_activity_date": 1425504206, "creation_date": 1425501910, "question_id": 28864548, "link": "https://stackoverflow.com/questions/28864548/expressionfunct-boolean-vs-funct-boolean", "title": "Expression&lt;Func&lt;T, Boolean&gt;&gt; VS Func&lt;T, Boolean&gt;", "body": "<p>I've just come across Expression trees and I found that its is better to use them with LINQ than just <code>Func&lt;T, Boolean&gt;</code>. However, I found that I can't directly pass an Expression to a LINQ method, let's say the <code>Select</code> method. But I found that there is a <code>Compile</code> method associated with the Expression that converts it to a normal <code>Func</code>. Now I've been wondering, is it the right way to call an Expression at all (by using the Compile method), and if so then what would be the difference between a <code>Func</code> and an <code>Expression</code>. If it is not the right way then how to use it, for example passing this:</p>\n\n<pre><code>Expression&lt;Func&lt;T, Bool&gt;&gt; Test\n</code></pre>\n\n<p>to</p>\n\n<pre><code>Data.Where(Test) --&gt; Test can't be passed to it directly \n</code></pre>\n"}, {"tags": ["c#", "xml"], "answers": [{"tags": [], "owner": {"reputation": 19084, "user_id": 2854908, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/snzI5.jpg?s=128&g=1", "display_name": "libik", "link": "https://stackoverflow.com/users/2854908/libik"}, "is_accepted": true, "score": 0, "last_activity_date": 1425502223, "creation_date": 1425502223, "answer_id": 28864647, "question_id": 28864519, "link": "https://stackoverflow.com/questions/28864519/c-dynamically-create-labels-inside-a-panel-while-getting-values-from-xmlfile/28864647#28864647", "title": "C# dynamically create labels inside a Panel while getting values from XMLfile", "body": "<p>This method <code>doc.SelectNodes(\"website/productlist\");</code> select the <code>&lt;productlist&gt;</code> node, not its childs.</p>\n\n<p>To select all child nodes you need this XPath expression : <code>doc.SelectNodes(\"website/productlist/*\");</code></p>\n"}], "owner": {"reputation": 113, "user_id": 2788953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45ff880f37e76ded30235aa976e1c2df?s=128&d=identicon&r=PG&f=1", "display_name": "Flux", "link": "https://stackoverflow.com/users/2788953/flux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 28864647, "answer_count": 1, "score": 1, "last_activity_date": 1425502223, "creation_date": 1425501819, "last_edit_date": 1425501936, "question_id": 28864519, "link": "https://stackoverflow.com/questions/28864519/c-dynamically-create-labels-inside-a-panel-while-getting-values-from-xmlfile", "title": "C# dynamically create labels inside a Panel while getting values from XMLfile", "body": "<p>XML file \"XMLFile1.xml\" </p>\n\n<pre><code>&lt;website&gt;\n    &lt;productlist&gt;\n        &lt;a&gt;dynnaplatka&lt;/a&gt;\n        &lt;b&gt;pamet&lt;/b&gt;\n        &lt;c&gt;procesor&lt;/c&gt;\n    &lt;/productlist&gt;\n&lt;/website&gt;\n</code></pre>\n\n<p>The problem is that when I run the solution the code adds 1 label with text dynnaplatkapametprocesor instead of 3 labels with text dynnaplatka,pamet,procesor</p>\n\n<p>I watch my code for 1 hour and i can't see the problem to fix it</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n{\n    XmlDocument doc = new XmlDocument();\n    doc.Load(Server.MapPath(\"~/XMLFile1.xml\"));\n    XmlNodeList nodelist = doc.SelectNodes(\"website/productlist\");\n\n    foreach (XmlNode node in nodelist)\n    {\n        Panel1.Controls.Add(new LiteralControl(\"&lt;br /&gt;\"));\n        Label lbl = new Label();\n        lbl.Text = node.InnerText;\n        lbl.CssClass = \"Labels\";\n        lbl.ID = node.InnerText;               \n        Panel1.Controls.Add(lbl);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "selenium", "nosuchelementexception"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1425501968, "post_id": 28864493, "comment_id": 45994191, "body": "How do you define <code>wait</code>? Thanks."}, {"owner": {"reputation": 2492, "user_id": 2539607, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3b7iH.png?s=128&g=1", "display_name": "levininja", "link": "https://stackoverflow.com/users/2539607/levininja"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1425502716, "post_id": 28864493, "comment_id": 45994617, "body": "@alecxe see the above edit.  Sorry I neglected to mention that."}, {"owner": {"reputation": 2492, "user_id": 2539607, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3b7iH.png?s=128&g=1", "display_name": "levininja", "link": "https://stackoverflow.com/users/2539607/levininja"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1425503488, "post_id": 28864493, "comment_id": 45995089, "body": "@alecxe I&#39;m doing that...see edit again; sorry again."}, {"owner": {"reputation": 22674, "user_id": 1173729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99644be0e1bf1be8123b845d9ff539b1?s=128&d=identicon&r=PG&f=1", "display_name": "Arran", "link": "https://stackoverflow.com/users/1173729/arran"}, "edited": false, "score": 0, "creation_date": 1425508301, "post_id": 28864493, "comment_id": 45997623, "body": "Does it actually wait the full length of time?"}], "answers": [{"tags": [], "owner": {"reputation": 2492, "user_id": 2539607, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3b7iH.png?s=128&g=1", "display_name": "levininja", "link": "https://stackoverflow.com/users/2539607/levininja"}, "is_accepted": true, "score": 1, "last_activity_date": 1425507955, "last_edit_date": 1495541831, "creation_date": 1425507955, "answer_id": 28866305, "question_id": 28864493, "link": "https://stackoverflow.com/questions/28864493/net-selenium-nosuchelementexception-webdriverwait-until-doesnt-work/28866305#28866305", "title": ".NET Selenium NoSuchElementException; WebDriverWait.Until() doesn&#39;t work", "body": "<p>I decided to just not use <code>WebDriverWait.Until()</code>, and use implicit waits on the main driver instead:</p>\n\n<pre><code>driver.Manage().Timeouts().ImplicitlyWait(TimeSpan.FromSeconds(10));\n</code></pre>\n\n<p>I give full credit to <a href=\"https://stackoverflow.com/questions/6992993/selenium-c-sharp-webdriver-wait-until-element-is-present\">this answer</a> on a different question for giving me the idea.</p>\n"}, {"tags": [], "owner": {"reputation": 363, "user_id": 4986164, "user_type": "registered", "profile_image": "https://graph.facebook.com/1026968357330483/picture?type=large", "display_name": "Raymond Dumalaog", "link": "https://stackoverflow.com/users/4986164/raymond-dumalaog"}, "is_accepted": false, "score": 0, "last_activity_date": 1488934649, "last_edit_date": 1488934649, "creation_date": 1488929779, "answer_id": 42660382, "question_id": 28864493, "link": "https://stackoverflow.com/questions/28864493/net-selenium-nosuchelementexception-webdriverwait-until-doesnt-work/42660382#42660382", "title": ".NET Selenium NoSuchElementException; WebDriverWait.Until() doesn&#39;t work", "body": "<pre><code>public static IWebElement FindElement(this IWebDriver driver, By by, int timeoutInSeconds)\n        {\n            try\n            {\n                if (timeoutInSeconds &gt; 0)\n                {\n                    var wait = new WebDriverWait(driver, TimeSpan.FromSeconds(timeoutInSeconds));\n                    return wait.Until(drv =&gt; drv.FindElement(by));\n                }\n                return driver.FindElement(by);\n            }\n            catch\n            {\n                throw;\n            }\n        }\n</code></pre>\n\n<p>or if you are having </p>\n\n<blockquote>\n  <p>NoSuchElementException</p>\n</blockquote>\n\n<p>try this code</p>\n\n<pre><code> try\n        {\n            if (timeoutInSeconds &gt; 0)\n            {\n                var wait = new WebDriverWait(driver, TimeSpan.FromSeconds(timeoutInSeconds)).Until(ExpectedConditions.ElementIsVisible(by));\n            }\n            return driver.FindElement(by);\n        }\n        catch(Exception e)\n        {\n            throw;\n        }\n</code></pre>\n"}], "owner": {"reputation": 2492, "user_id": 2539607, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3b7iH.png?s=128&g=1", "display_name": "levininja", "link": "https://stackoverflow.com/users/2539607/levininja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6061, "favorite_count": 2, "accepted_answer_id": 28866305, "answer_count": 2, "score": 4, "last_activity_date": 1488934649, "creation_date": 1425501744, "last_edit_date": 1487872186, "question_id": 28864493, "link": "https://stackoverflow.com/questions/28864493/net-selenium-nosuchelementexception-webdriverwait-until-doesnt-work", "title": ".NET Selenium NoSuchElementException; WebDriverWait.Until() doesn&#39;t work", "body": "<p>We have a .NET 4.5, MVC, C# project.  We're using Selenium for UI tests, and the tests keep intermittently failing on lines that we have <code>wait.Until()</code>.  One such example is:</p>\n\n<pre><code>NoSuchElementException was unhandled by user code\nAn exception of type 'OpenQA.Selenium.NoSuchElementException' occurred in WebDriver.dll but was not handled in user code\nAdditional information: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"#assessment-472 .status-PushedToSEAS\"}\n</code></pre>\n\n<p>It's thrown right here:</p>\n\n<pre><code>Thread.Sleep(600);\nwait.Until(drv =&gt; drv.FindElement(By.CssSelector(\"#\" + assessmentQueueId + \" .status-PushedToSEAS\")));\n</code></pre>\n\n<p>I can see that the browser opens, I see it get to that point, and I can inspect element to see that the element exists.  Its id is exactly correct.</p>\n\n<p>We have this problem <strong>A LOT</strong> and so far the solution has been to throw <code>Thread.Sleep(600)</code> (or some similar time) in front of it.  The whole point of <code>wait.Until()</code> is to not have to do that, and this is making our test suites get very long.  Also, as you can see in the example above, sometimes we have the problem even after putting a <code>Thread.Sleep()</code> in front of it and we have to extend the time.</p>\n\n<p>Why is .NET Selenium's <code>WebDriver.Until()</code> not working, and is there a different way to do the same thing without just waiting a set period of time?  Again, the problem is intermittent, meaning that it only happens sometimes, and it could happen at any number of <code>wait.Until()</code> statements, not just the one shown!</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>This is a class variable.\n<code>private WebDriverWait wait;</code></p>\n\n<p>It is instantiated like this:</p>\n\n<pre><code>this.wait = new WebDriverWait(driver, TimeSpan.FromSeconds(10));\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 18523, "user_id": 1430156, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0a2026494464ac339c71a416d342d1d5?s=128&d=identicon&r=PG", "display_name": "O. R. Mapper", "link": "https://stackoverflow.com/users/1430156/o-r-mapper"}, "edited": false, "score": 1, "creation_date": 1425501721, "post_id": 28864464, "comment_id": 45994070, "body": "Why do you initialize <code>Attributes</code> as <code>new List&lt;Paper&gt;()</code> instead of <code>new List&lt;object&gt;()</code>?"}, {"owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "edited": false, "score": 1, "creation_date": 1425501746, "post_id": 28864464, "comment_id": 45994084, "body": "Create a base class for <code>Papers</code>, <code>Authors</code>, <code>Publications</code> and use that instead of <code>List&lt;object&gt;</code>, <i>Although not really sure how <code>Author</code> and <code>Paper</code> could be related in a class model</i>"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1425501818, "post_id": 28864464, "comment_id": 45994116, "body": "Maybe create an <code>IAttribute</code> interface that <code>Paper</code>, <code>Author</code>, and <code>Publication</code> all implement and use a <code>List&lt;IAttribute&gt;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 2214923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ie4wq.jpg?s=128&g=1", "display_name": "Ainxty", "link": "https://stackoverflow.com/users/2214923/ainxty"}, "edited": false, "score": 0, "creation_date": 1425503100, "post_id": 28864517, "comment_id": 45994846, "body": "This is almost what I need. Like you mentioned in your answer though, the list needs to contain feed items of different types. So instantiating a List&lt;FeedItem&lt;Paper&gt;&gt; would limit me to just a list of those. I need a list of feed items of different types. The real world scenario is that I may have added authors to my interests, or added papers to my library, or modified my profile page. All those actions would be different types of FeedItems and they would all be in the list (that gets turned into JSON and spat out to the client)."}, {"owner": {"reputation": 23604, "user_id": 1043198, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fd794fa557e412eefe8aa19251412df8?s=128&d=identicon&r=PG", "display_name": "Ant P", "link": "https://stackoverflow.com/users/1043198/ant-p"}, "reply_to_user": {"reputation": 43, "user_id": 2214923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ie4wq.jpg?s=128&g=1", "display_name": "Ainxty", "link": "https://stackoverflow.com/users/2214923/ainxty"}, "edited": false, "score": 0, "creation_date": 1425505681, "post_id": 28864517, "comment_id": 45996252, "body": "@Ainxty In that case I would make <code>FeedItem</code> non-generic and make <code>Attributes</code> a list of <code>IAttribute</code> which exposes the relevant properties. If they have no common properties then it&#39;s not clear what use the list is going to be and you should probably define a common structure that you can map to."}], "tags": [], "owner": {"reputation": 23604, "user_id": 1043198, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fd794fa557e412eefe8aa19251412df8?s=128&d=identicon&r=PG", "display_name": "Ant P", "link": "https://stackoverflow.com/users/1043198/ant-p"}, "is_accepted": true, "score": 5, "last_activity_date": 1425501809, "creation_date": 1425501809, "answer_id": 28864517, "question_id": 28864464, "link": "https://stackoverflow.com/questions/28864464/list-of-different-types/28864517#28864517", "title": "List of different types", "body": "<p>Sounds like you need <code>FeedItem</code> to be generic:</p>\n\n<pre><code>public class FeedItem&lt;T&gt;\n{\n    public List&lt;T&gt; Attributes { get; set; }\n}\n\nvar feedData = new List&lt;FeedItem&lt;Paper&gt;&gt;();\nfeedData.Add(new FeedItem&lt;Paper&gt;\n    {\n        Attributes = new List&lt;Paper&gt;() {\n\n        }\n    });\n</code></pre>\n\n<p>If you need multiple types of attributes in one list (but given that in your example you explicitly create a <code>List&lt;Paper&gt;</code>, I don't think you do), then have <code>Paper</code>, <code>Author</code>, etc. implement a common interface and type the <code>List</code> to that. They must all offer some common functionality - a list of a bunch of completely different things is useless, right?</p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 2214923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ie4wq.jpg?s=128&g=1", "display_name": "Ainxty", "link": "https://stackoverflow.com/users/2214923/ainxty"}, "edited": false, "score": 0, "creation_date": 1425581167, "post_id": 28864586, "comment_id": 46031876, "body": "I wish I could mark both answers. This helped me as well. :) Thanks!"}], "tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": false, "score": 1, "last_activity_date": 1425502028, "creation_date": 1425502028, "answer_id": 28864586, "question_id": 28864464, "link": "https://stackoverflow.com/questions/28864464/list-of-different-types/28864586#28864586", "title": "List of different types", "body": "<p>A <code>List&lt;Paper&gt;</code> is <em>not</em> a <code>List&lt;object&gt;</code> - because it can only hold <code>Paper</code>s.  You can either declare it as a <code>List&lt;object&gt;</code> (or some other common base type to all of the types you want to support) and fill it with <code>Papers</code>:</p>\n\n<pre><code>feedData.Add(new FeedItem\n        {\n            Date = new DateTime(2015, 3, 3),\n            Type = \"library\",\n            Id = 1,\n            Attributes = new List&lt;object&gt;() { \n             ... add papers here ... \n            }\n        });\n</code></pre>\n\n<p>or make <code>FeedItem</code> generic - the drawback here is you must predefine what type of attributes the <code>FeedItem</code> can have:</p>\n\n<pre><code>public class FeedItem&lt;T&gt;\n{\n    public int Id { get; set; }\n    public string Type { get; set; }\n    public List&lt;T&gt; Attributes { get; set; }\n    public DateTime Date { get; set; }\n}\n\nvar feedData = new List&lt;FeedItem&lt;Paper&gt;&gt;();\nfeedData.Add(new FeedItem&lt;Paper&gt;\n        {\n            Date = new DateTime(2015, 3, 3),\n            Type = \"library\",\n            Id = 1,\n            Attributes = new List&lt;Paper&gt;() { \n             ... add papers here ... \n            }\n        });\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 2214923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ie4wq.jpg?s=128&g=1", "display_name": "Ainxty", "link": "https://stackoverflow.com/users/2214923/ainxty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 570, "favorite_count": 0, "accepted_answer_id": 28864517, "answer_count": 2, "score": 0, "last_activity_date": 1425502028, "creation_date": 1425501594, "question_id": 28864464, "link": "https://stackoverflow.com/questions/28864464/list-of-different-types", "title": "List of different types", "body": "<p>I have list of feed item objects and each feed item object has an Attributes property which in turn is also a list. However, this list needs to vary and I need to be able to later infer from the attributes what type of feed item I'm looking at.</p>\n\n<p>I've tried several things so far, but I'm having a hard time wrapping my head around them as I do not entirely understand the more specific OOP concepts like generics. Here's what I have arrived at so far:</p>\n\n<pre><code>public class FeedItem\n{\n    public int Id { get; set; }\n    public string Type { get; set; }\n    public List&lt;object&gt; Attributes { get; set; }\n    public DateTime Date { get; set; }\n}\n</code></pre>\n\n<p>And here's the list:</p>\n\n<pre><code>var feedData = new List&lt;FeedItem&gt;();\nfeedData.Add(new FeedItem\n        {\n            Date = new DateTime(2015, 3, 3),\n            Type = \"library\",\n            Id = 1,\n            Attributes = new List&lt;Paper&gt;() { \n             ... add papers here ... \n            }\n        });\n</code></pre>\n\n<p>The problem I run into is that it's trying to convert Paper in object. The idea is to keep the Attributes property open to having a list of varied objects, as I do want to insert Papers, Authors, Publications, etc...</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "select"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4441998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aef40ba09254121e9bb750f5e7ad0d42?s=128&d=identicon&r=PG&f=1", "display_name": "Dana", "link": "https://stackoverflow.com/users/4441998/dana"}, "edited": false, "score": 0, "creation_date": 1425530554, "post_id": 28864840, "comment_id": 46004071, "body": "That is what I wanted, I even don&#180;t need the secondAtMaxCallsCount."}, {"owner": {"reputation": 11, "user_id": 4441998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aef40ba09254121e9bb750f5e7ad0d42?s=128&d=identicon&r=PG&f=1", "display_name": "Dana", "link": "https://stackoverflow.com/users/4441998/dana"}, "edited": false, "score": 0, "creation_date": 1425606986, "post_id": 28864840, "comment_id": 46043308, "body": "I used now List&lt;int?&gt; to pass my parameters. But now I&#180;m not really sure how to implement the Enumerable.Range. Is this the right way:"}], "tags": [], "owner": {"reputation": 2040, "user_id": 1334936, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bb1a4b3cd6950acf3315838b6ba3f423?s=128&d=identicon&r=PG", "display_name": "aush", "link": "https://stackoverflow.com/users/1334936/aush"}, "is_accepted": false, "score": 0, "last_activity_date": 1425502850, "creation_date": 1425502850, "answer_id": 28864840, "question_id": 28864462, "link": "https://stackoverflow.com/questions/28864462/compare-the-results-of-two-columns-in-a-table-c-mssqlserver/28864840#28864840", "title": "compare the results of two columns in a table c# mssqlserver", "body": "<p>I don't quite get your explanation, but answering your question</p>\n\n<blockquote>\n  <p>I want to find out in which second I get the Maximum of calls.</p>\n</blockquote>\n\n<pre><code>void Main()\n{   \n    var startDate = new [] { 1, 2, 3, 1, 6, 7, 7 };\n    var endDate = new [] { 3, 3, 4, 5, 7, 8, 10 };\n    var maxCallsCount = 0;\n    var secondAtMaxCallsCount = 0;\n\n    foreach (var second in Enumerable.Range(startDate.Min(), \n                                            endDate.Max() - startDate.Min() + 1))\n    {\n        var callsCount = 0;\n\n        for (var i = 0; i &lt; startDate.Length; ++i)\n        {\n            if (startDate[i] &lt;= second &amp;&amp; second &lt;= endDate[i])\n            {\n                ++callsCount;\n            }\n        }\n\n        if (callsCount &gt; maxCallsCount)\n        {\n            maxCallsCount = callsCount;\n            secondAtMaxCallsCount = second;\n        }\n    }\n\n    Console.WriteLine(\"Max calls count is \" + maxCallsCount + \n                      \" at \" + secondAtMaxCallsCount + \" second\");\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2040, "user_id": 1334936, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bb1a4b3cd6950acf3315838b6ba3f423?s=128&d=identicon&r=PG", "display_name": "aush", "link": "https://stackoverflow.com/users/1334936/aush"}, "edited": false, "score": 0, "creation_date": 1425609864, "post_id": 28891272, "comment_id": 46044074, "body": "It&#39;s hard to follow your explanations, can you please post your code on <a href=\"https://dotnetfiddle.net\" rel=\"nofollow noreferrer\">dotnetfiddle.net</a> so I can see what error do you get?"}], "tags": [], "owner": {"reputation": 11, "user_id": 4441998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aef40ba09254121e9bb750f5e7ad0d42?s=128&d=identicon&r=PG&f=1", "display_name": "Dana", "link": "https://stackoverflow.com/users/4441998/dana"}, "is_accepted": false, "score": 0, "last_activity_date": 1425613742, "last_edit_date": 1425613742, "creation_date": 1425607786, "answer_id": 28891272, "question_id": 28864462, "link": "https://stackoverflow.com/questions/28864462/compare-the-results-of-two-columns-in-a-table-c-mssqlserver/28891272#28891272", "title": "compare the results of two columns in a table c# mssqlserver", "body": "<p>I think I solved the Problems with the parameters with <code>List&lt;int?&gt;</code>\nbut now I\u00b4m not sure how to implement the Range und Loop. \nIs the following right? </p>\n\n<pre><code>   foreach (var second in Enumerable.Range((int)beginningDate.FirstOrDefault(),\n                                            (int)endDate.Last() - (int)beginningDate.FirstOrDefault() +1))\n            {\n                var callsCount = 0;\n\n                for (var i = 0; i &lt; beginningDate.Last(); ++i)\n                {\n                    if (beginningDate[i] &lt;= second &amp;&amp; second &lt;= endDate[i])\n                    {\n                        ++callsCount;\n                    }\n                }\n\n                if (callsCount &gt; maxCallsCount)\n                {\n                    maxCallsCount = callsCount;\n                }\n            }\n</code></pre>\n\n<p>I allways get a System.ArgumentOutOfRangeException-Exception. \nIndex is out of range.</p>\n"}], "owner": {"reputation": 11, "user_id": 4441998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aef40ba09254121e9bb750f5e7ad0d42?s=128&d=identicon&r=PG&f=1", "display_name": "Dana", "link": "https://stackoverflow.com/users/4441998/dana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1425613742, "creation_date": 1425501591, "last_edit_date": 1425502010, "question_id": 28864462, "link": "https://stackoverflow.com/questions/28864462/compare-the-results-of-two-columns-in-a-table-c-mssqlserver", "title": "compare the results of two columns in a table c# mssqlserver", "body": "<p>I#m working with VisualStudio 2013 Premium C# and a MSSQLServer</p>\n\n<p>I want to order by EndDate</p>\n\n<p>Then (with a loop) I want to find out when StartDate of the next column in my table is lower than the EndDate of the current column</p>\n\n<p>StartDate and EndDate are Seconds</p>\n\n<p>Example</p>\n\n<p>StartDate   </p>\n\n<pre><code>1 \n2 \n3 \n1 \n6 \n7 \n7 \n</code></pre>\n\n<p>EndDate </p>\n\n<pre><code>3 \n3 \n4 \n5 \n7 \n8 \n10 \n</code></pre>\n\n<p>Here the program count until EndDate 5\nBecause  6&lt;=5 \nStartDate&lt;= EndDate.</p>\n\n<p>If I Count my results:</p>\n\n<p>4</p>\n\n<p>3</p>\n\n<p>Then I want to find out the maximum of the list \nIn this case 4</p>\n\n<p>Background: I want to find out in which second  I get the Maximum of calls. </p>\n\n<p>Can anybody help me out with ideas?  </p>\n"}, {"tags": ["c#", "office-interop", "onenote"], "comments": [{"owner": {"reputation": 25947, "user_id": 1603351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lQ6aZ.jpg?s=128&g=1", "display_name": "Eugene Astafiev", "link": "https://stackoverflow.com/users/1603351/eugene-astafiev"}, "edited": false, "score": 0, "creation_date": 1425542205, "post_id": 28864403, "comment_id": 46008090, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/25272434/how-to-create-new-notebook-with-onenote-api\">How to create new NoteBook with OneNote API</a>"}, {"owner": {"reputation": 1873, "user_id": 573220, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HSyf3.jpg?s=128&g=1", "display_name": "Tam Bui", "link": "https://stackoverflow.com/users/573220/tam-bui"}, "reply_to_user": {"reputation": 25947, "user_id": 1603351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lQ6aZ.jpg?s=128&g=1", "display_name": "Eugene Astafiev", "link": "https://stackoverflow.com/users/1603351/eugene-astafiev"}, "edited": false, "score": 0, "creation_date": 1425658329, "post_id": 28864403, "comment_id": 46065082, "body": "@Eugene, this question is not the same as the one that you are linking. This question was for the OneNote 2013 Interop library, and not for the OneNote REST APIs. That behavior is more suited for &quot;connected&quot; app development or the metro app development style, whereas mine is for desktop app development with Office 2013 installed on the device."}], "answers": [{"comments": [{"owner": {"reputation": 25947, "user_id": 1603351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lQ6aZ.jpg?s=128&g=1", "display_name": "Eugene Astafiev", "link": "https://stackoverflow.com/users/1603351/eugene-astafiev"}, "edited": false, "score": 0, "creation_date": 1425542226, "post_id": 28866410, "comment_id": 46008099, "body": "See <a href=\"http://stackoverflow.com/questions/25272434/how-to-create-new-notebook-with-onenote-api\" title=\"how to create new notebook with onenote api\">stackoverflow.com/questions/25272434/&hellip;</a>"}, {"owner": {"reputation": 1873, "user_id": 573220, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HSyf3.jpg?s=128&g=1", "display_name": "Tam Bui", "link": "https://stackoverflow.com/users/573220/tam-bui"}, "reply_to_user": {"reputation": 25947, "user_id": 1603351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lQ6aZ.jpg?s=128&g=1", "display_name": "Eugene Astafiev", "link": "https://stackoverflow.com/users/1603351/eugene-astafiev"}, "edited": false, "score": 0, "creation_date": 1425658255, "post_id": 28866410, "comment_id": 46065031, "body": "@Eugene, this question is not the same as the one that you are linking.  This question was for the OneNote 2013 Interop library, and not for the OneNote REST APIs.  That behavior is more suited for &quot;connected&quot; app development or the metro app development style, whereas mine is for desktop app development with Office 2013 installed on the device."}], "tags": [], "owner": {"reputation": 1873, "user_id": 573220, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HSyf3.jpg?s=128&g=1", "display_name": "Tam Bui", "link": "https://stackoverflow.com/users/573220/tam-bui"}, "is_accepted": false, "score": 0, "last_activity_date": 1425508335, "creation_date": 1425508335, "answer_id": 28866410, "question_id": 28864403, "link": "https://stackoverflow.com/questions/28864403/how-to-create-a-new-notebook-or-section-using-c-onenote-2013-15-0-com-type-libr/28866410#28866410", "title": "How to create a new notebook or section using C# OneNote 2013 15.0 COM Type Library?", "body": "<p>I guess that my approach to the problem was incorrect.  I thought that if I edited the xml data to include a new Notebook or Section, that the COM library would be smart enough to detect the newly added element(s).  After further reading, the correct way to create a new Notebook or Section is to use the OpenHierarchy() method.</p>\n\n<p>Here is a working copy of me creating a new Section to an existing Notebook.  I have not tried creating a new Notebook yet, but I assume the methodology is similar.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>private void DoOpenHierarchy(Microsoft.Office.Interop.OneNote.HierarchyScope scope)\r\n{\r\n    Output = \"Open Hierarchy Section...\\r\\n\";\r\n    var strXml = string.Empty;\r\n    var objectId = string.Empty;\r\n    _app.GetHierarchy(null, scope, out strXml);\r\n    try\r\n    {\r\n        var xdoc = XDocument.Parse(strXml);\r\n        var ns = xdoc.Root.Name.Namespace;\r\n        if (scope == Microsoft.Office.Interop.OneNote.HierarchyScope.hsSections)\r\n        {\r\n            var noteBook = xdoc.Root.Descendants(ns + \"Notebook\").FirstOrDefault();\r\n            if (noteBook != null)\r\n            {\r\n                var sectionName = \"My New Section\";\r\n                Output += string.Format(\"Attempting to create section '{0}' in {1}...\\r\\n\", sectionName, noteBook.Attribute(\"name\").Value);\r\n                var location = string.Format(\"{0}\\\\{1}.one\", noteBook.Attribute(\"path\").Value, sectionName);\r\n                _app.OpenHierarchy(location, string.Empty, out objectId, Microsoft.Office.Interop.OneNote.CreateFileType.cftSection);\r\n                Output += string.Format(\"Section ID Created: {0}\\r\\n\", objectId.ToString());\r\n            }\r\n            else\r\n            {\r\n                Output += \"ERROR: Not able to determine a 'path' in order to store new section.\\r\\n\";\r\n            }\r\n        }\r\n    }\r\n    catch (Exception ex)\r\n    {\r\n        Output += string.Format(\"{0}:{1}\\r\\n\", ex.GetType(), ex.Message);\r\n    }\r\n    Output += \"\\r\\nOpen Hierarchy Section Done.\\r\\n\";\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1873, "user_id": 573220, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HSyf3.jpg?s=128&g=1", "display_name": "Tam Bui", "link": "https://stackoverflow.com/users/573220/tam-bui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1882, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1425508335, "creation_date": 1425501379, "question_id": 28864403, "link": "https://stackoverflow.com/questions/28864403/how-to-create-a-new-notebook-or-section-using-c-onenote-2013-15-0-com-type-libr", "title": "How to create a new notebook or section using C# OneNote 2013 15.0 COM Type Library?", "body": "<p>I'm not able to create a new notebook or create a new section in an existing notebook using the OneNote 2013 Developer Reference.</p>\n\n<p>The guidance on <a href=\"https://msdn.microsoft.com/en-us/library/office/jj680120.aspx\" rel=\"nofollow\">MSDN here</a> indicates that it is possible, but provides no examples of how to do it.</p>\n\n<p>Whenever I try to add a new notebook, I get an <a href=\"https://msdn.microsoft.com/en-us/library/office/ff966472%28v=office.14%29.aspx\" rel=\"nofollow\">HRESULT: 0x80042015 error code</a> that indicates the notebook does not exist.  I know!  I'm trying to add it :-)</p>\n\n<p>Also, whenever I try to add a new section to an existing notebook, I get an HRESULT: 0x80042014 error code, which indicates the object does not exist.</p>\n\n<p>Here's a code snippet showing what I'm trying to do.  Any help would be appreciated!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>try\r\n{\r\n    _app.GetHierarchy(null, Microsoft.Office.Interop.OneNote.HierarchyScope.hsNotebooks, out strXml);\r\n    using (var stringReader = new StringReader(strXml))\r\n    {\r\n        var xdoc = XDocument.Load(stringReader);\r\n\r\n        // Get the first notebook.  Currently, I couldn't find a way to create a new Notebook using the OneNote interops.\r\n        var notebook = xdoc.Root.Descendants().First();\r\n        if (!notebook.Descendants().Any(d =&gt; d.Name == \"My New Section\"))\r\n        {\r\n            // Get ready to create a new section\r\n            XNamespace ns = \"http://schemas.microsoft.com/office/onenote/2013/onenote\";\r\n            var myNewSectionElement = new XElement(ns + \"Section\");\r\n            myNewSectionElement.Add(new XAttribute(\"name\", \"My New Section\"));\r\n            myNewSectionElement.Add(new XAttribute(\"path\", @\"C:\\MyNewSection.one\"));\r\n            myNewSectionElement.Add(new XAttribute(\"ID\", @\"{5F786510-79D4-4D0B-BC93-A637700D7543}{1}{B0}\"));\r\n            notebook.Add(myNewSectionElement);\r\n\r\n            // Update the heirarchy\r\n            var strBuilder = new StringBuilder();\r\n            using (var stringWriter = new StringWriter(strBuilder))\r\n            {\r\n                xdoc.Save(stringWriter);\r\n                _app.UpdateHierarchy(strBuilder.ToString(), Microsoft.Office.Interop.OneNote.XMLSchema.xs2013);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            Output = \"My New Section already exists.\\r\\n\";\r\n        }\r\n    }\r\n}\r\ncatch (Exception ex)\r\n{\r\n    Output = string.Format(\"{0}:{1}\\r\\n\", ex.GetType(), ex.Message);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["c#", ".net", "wpf", "xaml", ".net-4.0"], "comments": [{"owner": {"reputation": 7906, "user_id": 4620101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rPIEi.jpg?s=128&g=1", "display_name": "Szabolcs D&#233;zsi", "link": "https://stackoverflow.com/users/4620101/szabolcs-d%c3%a9zsi"}, "edited": false, "score": 3, "creation_date": 1425502735, "post_id": 28864368, "comment_id": 45994629, "body": "Not exactly monitoring the ResourceKey, but when a User Setting is changed a <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.win32.systemevents.userpreferencechanged(v=vs.100).aspx\" rel=\"nofollow noreferrer\">SystemEvents.UserPreferenceChanged</a> event will be fired.  If the user changes to a High Contrast mode the UserPreferenceChangedEventArgs&#39;s Category will be Accessibility."}, {"owner": {"reputation": 19603, "user_id": 339843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/53a8a18baa2eda6e6758c3e522f77c24?s=128&d=identicon&r=PG", "display_name": "tofutim", "link": "https://stackoverflow.com/users/339843/tofutim"}, "reply_to_user": {"reputation": 7906, "user_id": 4620101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rPIEi.jpg?s=128&g=1", "display_name": "Szabolcs D&#233;zsi", "link": "https://stackoverflow.com/users/4620101/szabolcs-d%c3%a9zsi"}, "edited": false, "score": 0, "creation_date": 1425676487, "post_id": 28864368, "comment_id": 46074866, "body": "Your answer Szabolcs is best"}], "answers": [{"tags": [], "owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "is_accepted": false, "score": 0, "last_activity_date": 1425502473, "last_edit_date": 1425502473, "creation_date": 1425502113, "answer_id": 28864613, "question_id": 28864368, "link": "https://stackoverflow.com/questions/28864368/detect-changes-in-systemparameters-highcontrast-in-net-4-0/28864613#28864613", "title": "Detect changes in SystemParameters.HighContrast in .NET 4.0", "body": "<p>You may be able to use WMI to monitor for registry key changes using the code <a href=\"https://stackoverflow.com/questions/4233746/receive-notification-when-registrykey-value-was-changed\">here</a>.  You would just have to figure out what keys correspond to the themeing values.  You could use the registry key change as a signal to examine the properties you are looking for.</p>\n"}, {"tags": [], "owner": {"reputation": 1981, "user_id": 113374, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7WZv6.jpg?s=128&g=1", "display_name": "NextInLine", "link": "https://stackoverflow.com/users/113374/nextinline"}, "is_accepted": false, "score": 0, "last_activity_date": 1425503094, "last_edit_date": 1495540613, "creation_date": 1425503094, "answer_id": 28864903, "question_id": 28864368, "link": "https://stackoverflow.com/questions/28864368/detect-changes-in-systemparameters-highcontrast-in-net-4-0/28864903#28864903", "title": "Detect changes in SystemParameters.HighContrast in .NET 4.0", "body": "<p>I would recommend taking advantage of the fact that it is a <code>DynamicResource</code> in WPF and act accordingly. Basically,</p>\n\n<ol>\n<li>Create a <code>DependencyProperty</code> with a changed handler</li>\n<li>Bind that property to the <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.systemparameters.highcontrastkey.aspx\" rel=\"nofollow noreferrer\"><code>HighContrastKey</code></a> (if doing this from code, see <a href=\"https://stackoverflow.com/questions/1754615/how-to-assign-a-dynamic-resource-style-in-code\">How to assign a dynamic resource style in code?</a>)</li>\n</ol>\n\n<p>Then, when it changes, you can trigger whatever action is necessary.</p>\n"}], "owner": {"reputation": 19603, "user_id": 339843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/53a8a18baa2eda6e6758c3e522f77c24?s=128&d=identicon&r=PG", "display_name": "tofutim", "link": "https://stackoverflow.com/users/339843/tofutim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 719, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1425506026, "creation_date": 1425501285, "last_edit_date": 1425506026, "question_id": 28864368, "link": "https://stackoverflow.com/questions/28864368/detect-changes-in-systemparameters-highcontrast-in-net-4-0", "title": "Detect changes in SystemParameters.HighContrast in .NET 4.0", "body": "<p>In .NET 4.5, I can use:</p>\n\n<pre><code>        SystemParameters.StaticPropertyChanged += SystemParameters_StaticPropertyChanged;\n</code></pre>\n\n<p>but this is not supported in .NET 4.0. However, SystemParameters does give access to the HighContrast value and HighContrastKey ResourceKey. How can I monitor the value of the ResourceKey for changes so that I can mimic the PropertyChanged event? I know that a DynamicResource in XAML can do this, but this needs to be done in code behind.</p>\n\n<p>Is it possible to detect changes in a ResourceKey value using just C# and not XAML?</p>\n\n<p><strong>Update</strong> The reason I cannot use .NET 4.5 is that (1) XP is not supported, and (2) my installer insists that he needs to detect and install 4.5.2 (not 4.5 or 4.51) which means all OSs must install .NET. Ugh.</p>\n"}, {"tags": ["c#", "asp.net", "xml", "gridview"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425501163, "post_id": 28864235, "comment_id": 45993732, "body": "when you use the debugger.. you will see that the dataSet.Tables has 3 tables so you probably are looking to do this for your datagrid  <code>gv1.DataSource = dataSet.Tables[2];  gv1.DataBind();</code> you need to understand the current structure of the .xml file it yields 3 separate DataTables when you do the dataSet.ReadXml method"}, {"owner": {"reputation": 1, "user_id": 4633548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f06a0dcf0653ebde7b0899bb41aa4f7?s=128&d=identicon&r=PG&f=1", "display_name": "AlanTK", "link": "https://stackoverflow.com/users/4633548/alantk"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425560732, "post_id": 28864235, "comment_id": 46018772, "body": "Thank you! I thought I had tried different indices, but setting it to &quot;2&quot; does bring up the data in the grid. Strangely it also creates a fourth column with the heading &quot;Grid_Id&quot; and zeros in the column... I&#39;ll have to figure out why that is next. But this was very helpful, thanks!"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425564999, "post_id": 28864235, "comment_id": 46021366, "body": "I would look at the source in regards to what&#39;s generating the XML file.. there are ways to fix your issue but you would need to write few lines of code."}, {"owner": {"reputation": 1, "user_id": 4633548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f06a0dcf0653ebde7b0899bb41aa4f7?s=128&d=identicon&r=PG&f=1", "display_name": "AlanTK", "link": "https://stackoverflow.com/users/4633548/alantk"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425573758, "post_id": 28864235, "comment_id": 46027282, "body": "Two thoughts: 1st, I checked the upload XML and it&#39;s just as shown in the example above. So that extra column is definitely being added upon &quot;import&quot; somewhere along the way."}, {"owner": {"reputation": 1, "user_id": 4633548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f06a0dcf0653ebde7b0899bb41aa4f7?s=128&d=identicon&r=PG&f=1", "display_name": "AlanTK", "link": "https://stackoverflow.com/users/4633548/alantk"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425573764, "post_id": 28864235, "comment_id": 46027289, "body": "2nd, while using the &quot;dataset.tables[2]&quot; gets me much closer, I&#39;d still love to be able to grab that portion of the dataset by name rather than index, but I guess I&#39;m puzzled by how the XML gets stored as nested tables within the dataset. Maybe a LINQ query against the dataset could extract just that table into a new recordset I could bind to instead? Trying to pull out the data for the single GridView by name seems to grab the parent, even when I tried renaming the elements. I&#39;m puzzled by this."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425576656, "post_id": 28864235, "comment_id": 46029149, "body": "you should be able to grab by name use the debugger and you will see that when you use the dropdown.. you will see the name based on the 4 different nodes"}, {"owner": {"reputation": 1, "user_id": 4633548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f06a0dcf0653ebde7b0899bb41aa4f7?s=128&d=identicon&r=PG&f=1", "display_name": "AlanTK", "link": "https://stackoverflow.com/users/4633548/alantk"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425913447, "post_id": 28864235, "comment_id": 46144514, "body": "I&#39;ve tried rewording several ways, but when I bind to the XML at the &#39;record&#39; level [&quot;item&quot; in above XML], an extra column keeps showing up, the name of which is the name of the parent of the records plus &quot;_Id&quot; [like &quot;Grid_Id&quot;], and the fields in it are all zeros. I just don&#39;t understand what is generating this phantom column. It doesn&#39;t exist in the XML file."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425913909, "post_id": 28864235, "comment_id": 46144817, "body": "if you are having issues with formatting your xml perhaps you need to read up on how to create and format xml.. I would really like to know where you are getting this xml from and if you are loading it from a file then you have to inspect the datatable results for each datatable column by column and match it up with the XML and see if you are missing something somewhere you have a formatting issue or perhaps this is formatted correctly and you need to write code to not use that column data or look at how to use the merge method of the datatable to get the columns / data into a single datatable"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425914163, "post_id": 28864235, "comment_id": 46144993, "body": "why are you using a <code>MemoryStream</code> to read the XML File when all you need to do is know the file location / Path then this line at the bottom <code>dataSet.ReadXml(file, XmlReadMode.InferSchema);</code> I use 3 lines of code to do what you are doing in 8 lines try using the example here that Infers the Xml Schema.... also you can get the file path after your extension check passes using  <code>var file = Path.GetFilePath(@FileUpload1.FileName);</code>"}], "owner": {"reputation": 1, "user_id": 4633548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f06a0dcf0653ebde7b0899bb41aa4f7?s=128&d=identicon&r=PG&f=1", "display_name": "AlanTK", "link": "https://stackoverflow.com/users/4633548/alantk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 819, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425501105, "creation_date": 1425500799, "last_edit_date": 1425501105, "question_id": 28864235, "link": "https://stackoverflow.com/questions/28864235/upload-xml-file-to-asp-net-page-bind-specific-node-to-gridview-c", "title": "Upload XML File to ASP.net Page, Bind Specific Node to GridView (C#)", "body": "<p>I am trying to create an ASP.net/C# web page that contains a GridView, and the ability for a user to upload an XML file to that page and bind the grid to a node in that XML. The XML file must be read into memory--not saved to the server first--which has prevented me from modelling this on many online examples which presume an uploaded file is physically sitting on the server when it\u2019s accessed.</p>\n\n<p>The simplified test XML file looks like this, and I do have some latitude to alter or expand it if necessary:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n  &lt;root&gt;\n    &lt;Grids&gt;\n      &lt;Grid name=\"GridView\"&gt;\n        &lt;item&gt;\n          &lt;Uno&gt;1A&lt;/Uno&gt;\n          &lt;Dos&gt;1B&lt;/Dos&gt;\n          &lt;Tres&gt;1C&lt;/Tres&gt;\n        &lt;/item&gt;\n        &lt;item&gt;\n          &lt;Uno&gt;2A&lt;/Uno&gt;\n          &lt;Dos&gt;2B&lt;/Dos&gt;\n          &lt;Tres&gt;2C&lt;/Tres&gt;\n        &lt;/item&gt;\n        &lt;item&gt;\n          &lt;Uno&gt;3A&lt;/Uno&gt;\n          &lt;Dos&gt;3B&lt;/Dos&gt;\n          &lt;Tres&gt;3C&lt;/Tres&gt;\n        &lt;/item&gt;\n        &lt;item&gt;\n          &lt;Uno&gt;4A&lt;/Uno&gt;\n          &lt;Dos&gt;4B&lt;/Dos&gt;\n           &lt;Tres&gt;4C&lt;/Tres&gt;\n        &lt;/item&gt;\n      &lt;/Grid&gt;\n    &lt;/Grids&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>The client needs to be able to click on a <em>FileUpload</em> control, browse to a local XML file, and have the grid reflect the data in the node named \"GridView\" above. I can\u2019t figure out how to extract just that node from the XML data. If I create a cut-down, poorly formed XML file with that node as the root, it works, but I don\u2019t want to do that as I plan on expanding this in the future.</p>\n\n<p>Below is the salient portion of the \u2018import\u2019 code I have at the moment. It\u2019s not optimal \u2013 I got here through trial and error so there\u2019s probably a lot of garbage in here. When I run this, I get a single-cell grid that just contains the text \u201cGrid_Id\u201d rather than the tabular data I need (although even that\u2019s broken at the moment).</p>\n\n<pre><code>protected void btnImport_Click(object sender, EventArgs e)\n        {\n            if (FileUpload1.HasFile)\n            {\n                string fileExt = System.IO.Path.GetExtension(FileUpload1.FileName);\n                if (fileExt == \".xml\")\n                {\n                    using (MemoryStream stream = new MemoryStream(FileUpload1.FileBytes))     // Using FileBytes because I can\u2019t save file to server\n                    {\n                        XmlDocument document = new XmlDocument();\n                        document.Load(stream);\n                        stream.Position = 0;\n                        string xmlFile;\n                        using (StreamReader inputStreamReader = new StreamReader(FileUpload1.PostedFile.InputStream))\n                        {\n                            xmlFile = inputStreamReader.ReadToEnd();\n                        }\n                        XmlTextReader reader = new XmlTextReader(new StringReader(xmlFile));\n\n                        DataSet dataSet = new DataSet();\n                        dataSet.ReadXml(reader);\n\n                        //gv1.DataSource = dataSet.Tables[\u201cGridView\u201d];  // Doesn\u2019t work\n                        gv1.DataSource = dataSet.Tables[0];\n                        gv1.DataBind();\n                    }\n                }\n            }\n        }\n</code></pre>\n\n<p>Ultimately I\u2019d like to create a more generic component that will allow us to any save grid data to a user\u2019s desktop and push that \u2018snapshot\u2019 back in to the grid at a later date. Thanks in advance for any guidance (this is my first post)!</p>\n"}, {"tags": ["c#", "datetime"], "comments": [{"owner": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "edited": false, "score": 0, "creation_date": 1425501224, "post_id": 28864147, "comment_id": 45993766, "body": "You should show the context (code) where <code>DateTime.Now</code> occurs. There is probably an implicit <code>.ToString(null, null)</code> or <code>.ToString()</code>."}, {"owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "edited": false, "score": 0, "creation_date": 1425501601, "post_id": 28864147, "comment_id": 45993984, "body": "Just set the current culture  of your thread to uk, and all conversions will be ok."}], "answers": [{"tags": [], "owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "is_accepted": false, "score": 3, "last_activity_date": 1425500619, "creation_date": 1425500619, "answer_id": 28864170, "question_id": 28864147, "link": "https://stackoverflow.com/questions/28864147/how-to-make-datetime-now-return-date-in-uk-format-with-c/28864170#28864170", "title": "How to make datetime.now return date in UK format with c#", "body": "<p><code>DateTime</code> doesn't have any format associated with it. Formatting is just for presentation. You can do:</p>\n\n<pre><code>string formattedDate = DateTime.Now.ToString(CultureInfo.CreateSpecificCulture(\"en-GB\"));\n</code></pre>\n\n<p>Or supply a specific/custom format like:</p>\n\n<pre><code>string formattedDate = DateTime.Now.ToString(\"dd/MM/yyyy HH:mm:ss\", \n                                       CultureInfo.InvariantCulture);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 3733737, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b25dbd7bd0bee4d3474594ae9108fbac?s=128&d=identicon&r=PG&f=1", "display_name": "user3733737", "link": "https://stackoverflow.com/users/3733737/user3733737"}, "edited": false, "score": 0, "creation_date": 1425501016, "post_id": 28864179, "comment_id": 45993634, "body": "Maybe I was not clear enough. I have a DateTime field in the database. And when I am creating a record from my home computer it stores it in the DB in the UK format, and when you retrieve it, it gives you 04/03/2015 - today&#39;s date in UK format. But when you upload the same code to the server it stores the date in the SQL DB and then when you retrieve it it shows as 03/04/2015 - US format. Oh and how I store it is by passing DateTime.Now to SQL parameter"}, {"owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "edited": false, "score": 2, "creation_date": 1425501490, "post_id": 28864179, "comment_id": 45993915, "body": "your date is not stored in the db in UK format at all. You are missing the difference between presentation and how it is phyically stored. If you want to show a date in UK format, that is presentation. The way the date is stored in the db is not changed because of that."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 57, "user_id": 3733737, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b25dbd7bd0bee4d3474594ae9108fbac?s=128&d=identicon&r=PG&f=1", "display_name": "user3733737", "link": "https://stackoverflow.com/users/3733737/user3733737"}, "edited": false, "score": 1, "creation_date": 1425502463, "post_id": 28864179, "comment_id": 45994471, "body": "@user3733737: If you&#39;re storing it as text in the database, you should stop doing that. If it&#39;s genuinely a DateTime field, then as Philip says it isn&#39;t stored in any particular format - just like <code>DateTime</code> doesn&#39;t have a format."}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": false, "score": 0, "last_activity_date": 1425500640, "creation_date": 1425500640, "answer_id": 28864179, "question_id": 28864147, "link": "https://stackoverflow.com/questions/28864147/how-to-make-datetime-now-return-date-in-uk-format-with-c/28864179#28864179", "title": "How to make datetime.now return date in UK format with c#", "body": "<blockquote>\n  <p>I want datetime.now to return the datetime object in UK format. </p>\n</blockquote>\n\n<p>There's no such concept, any more than an <code>int</code> is a value \"in hex\" or \"in decimal\". A <code>DateTime</code> is just a <code>DateTime</code> - you can specify the format when you convert it to a <code>string</code>. It's really important to understand the difference between an inherent value, and what it looks like after it's converted to text - very few types are aware of a custom, modifiable format to use when converting themselves - it's either provided externally (as for <code>DateTime</code>, numbers etc) or simply fixed.</p>\n\n<p>Before you convert start hard-coding a UK format though, I would strongly advise you to consider <em>exactly</em> what you're doing:</p>\n\n<ul>\n<li>Ideally, avoid the conversion in the first place. A lot of the time, string conversions are unnecessary and can be problematic.</li>\n<li>Is the text going to be consumed by another machine? Use an ISO-8601 standard format.</li>\n<li>Is the text going to be consumed by a person? Use <em>their</em> culture rather than some arbitrary one you decide on.\n<ul>\n<li>... Or display it in a dedicated control...</li>\n</ul></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4629364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfc37686667b720c4b0e2cdda0af9c8a?s=128&d=identicon&r=PG", "display_name": "Clark Kent", "link": "https://stackoverflow.com/users/4629364/clark-kent"}, "is_accepted": false, "score": 0, "last_activity_date": 1425500940, "creation_date": 1425500940, "answer_id": 28864269, "question_id": 28864147, "link": "https://stackoverflow.com/questions/28864147/how-to-make-datetime-now-return-date-in-uk-format-with-c/28864269#28864269", "title": "How to make datetime.now return date in UK format with c#", "body": "<p>You can use the overload of the ToString method: ToString(\"dd/MM/yyyy\"), or: ToString(\"yy/MMM/dd\"), etc. etc.</p>\n\n<p>Read more about it here: <a href=\"https://msdn.microsoft.com/en-us/library/zdtaw1bw%28v=vs.110%29.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/zdtaw1bw%28v=vs.110%29.aspx</a></p>\n\n<p>Also sounds to me that you might want to configure your (UI-)Culture in the web.config? Then it will always be in the same format regardless of the culture of your US/Japanese/european server culture..</p>\n\n<p>More about that here: <a href=\"https://msdn.microsoft.com/en-us/library/bz9tc508%28v=vs.140%29.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/bz9tc508%28v=vs.140%29.aspx</a></p>\n"}, {"comments": [{"owner": {"reputation": 338, "user_id": 6217195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W5KYJ.jpg?s=128&g=1", "display_name": "Rodrigo.A92", "link": "https://stackoverflow.com/users/6217195/rodrigo-a92"}, "edited": false, "score": 0, "creation_date": 1587765850, "post_id": 57774956, "comment_id": 108648834, "body": "This won&#39;t work the whole year as UK uses Greenwich Mean Time or Western European Time (UTC) and British Summer Time or Western European Summer Time (UTC+01:00)"}], "tags": [], "owner": {"reputation": 169, "user_id": 10773062, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-USGc0maEh_I/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-g8U-qrAkY98KIHojutJ6vyrKy9nw/mo/photo.jpg?sz=128", "display_name": "nightowl", "link": "https://stackoverflow.com/users/10773062/nightowl"}, "is_accepted": false, "score": 0, "last_activity_date": 1567525414, "creation_date": 1567525414, "answer_id": 57774956, "question_id": 28864147, "link": "https://stackoverflow.com/questions/28864147/how-to-make-datetime-now-return-date-in-uk-format-with-c/57774956#57774956", "title": "How to make datetime.now return date in UK format with c#", "body": "<pre><code>LogDate = DateTime.UtcNow.AddHours(1);\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 3733737, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b25dbd7bd0bee4d3474594ae9108fbac?s=128&d=identicon&r=PG&f=1", "display_name": "user3733737", "link": "https://stackoverflow.com/users/3733737/user3733737"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3406, "favorite_count": 1, "answer_count": 4, "score": 2, "last_activity_date": 1567525414, "creation_date": 1425500534, "question_id": 28864147, "link": "https://stackoverflow.com/questions/28864147/how-to-make-datetime-now-return-date-in-uk-format-with-c", "title": "How to make datetime.now return date in UK format with c#", "body": "<p>I want datetime.now to return the datetime object in UK format. It does so on my local computer but when I upload the code to the server it does it in US format</p>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-membership"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425500674, "post_id": 28864124, "comment_id": 45993434, "body": "out of curiosity..what does the .webconfig look like..? can you show that as well for the section that has <code>cookieless=</code> also make sure you have <code>&lt;authentication mode=&quot;Forms&quot;&gt;</code> set in the .config file.. did you debug the code as well."}, {"owner": {"reputation": 129, "user_id": 4111161, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/45646858dc63acab7388d8853a63c2cf?s=128&d=identicon&r=PG&f=1", "display_name": "sebe", "link": "https://stackoverflow.com/users/4111161/sebe"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425500978, "post_id": 28864124, "comment_id": 45993614, "body": "Authentication mode was already set to forms.  I don&#39;t see cookieless in the web.config, and yes I have tried to debug.  No unusual errors until I try saving my custom object with the properties from the returned MembershipUser - which fails because it cannot find the user in the aspnet_Users table."}], "answers": [{"tags": [], "owner": {"reputation": 129, "user_id": 4111161, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/45646858dc63acab7388d8853a63c2cf?s=128&d=identicon&r=PG&f=1", "display_name": "sebe", "link": "https://stackoverflow.com/users/4111161/sebe"}, "is_accepted": true, "score": 0, "last_activity_date": 1425501110, "creation_date": 1425501110, "answer_id": 28864311, "question_id": 28864124, "link": "https://stackoverflow.com/questions/28864124/asp-net-register-control-createduser-event-acting-like-it-worked-but-no-users-a/28864311#28864311", "title": "ASP.NET Register Control CreatedUser Event (Acting like it worked but no users are in my database)", "body": "<p>It turns out this was a fluke with App_Data.  Instead of being hooked up to our database it was making it's own database in the App_Data folder.</p>\n\n<p>What happens is when the project is set up, if there is no connection string specified, .NET creates it's own connection string \"ApplicationServices\".  Even after entering your own connection string it's necessary to change your new connection's name anywhere \"ApplicationServices\" was used.</p>\n"}], "owner": {"reputation": 129, "user_id": 4111161, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/45646858dc63acab7388d8853a63c2cf?s=128&d=identicon&r=PG&f=1", "display_name": "sebe", "link": "https://stackoverflow.com/users/4111161/sebe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 28864311, "answer_count": 1, "score": 0, "last_activity_date": 1425501110, "creation_date": 1425500454, "question_id": 28864124, "link": "https://stackoverflow.com/questions/28864124/asp-net-register-control-createduser-event-acting-like-it-worked-but-no-users-a", "title": "ASP.NET Register Control CreatedUser Event (Acting like it worked but no users are in my database)", "body": "<p>I'm trying to create a custom profile object after the registration of a new user.  The problem I'm having is that the user registration control does not seem to be storing to my database.  When I do the following:</p>\n\n<pre><code>protected void RegisterUser_CreatedUser(object sender, EventArgs e)\n    {\n        FormsAuthentication.SetAuthCookie(RegisterUser.UserName, false /* createPersistentCookie */);\n\n        MembershipUser newUser = Membership.GetUser(RegisterUser.UserName);\n    }\n</code></pre>\n\n<p>I can see that newUser has all the properties given in the RegisterUser control plus the additional imortant ones such as ProviderUserKey (implying it was legitimately created).  Where is it getting the user from if it is not in the database?  When I query the table to select the top 1000 it's completely empty.  </p>\n"}, {"tags": ["c#", ".net", "regex", "negative-lookahead"], "comments": [{"owner": {"reputation": 2390, "user_id": 372529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9776a78ebcf89f86b5147426436d5a68?s=128&d=identicon&r=PG", "display_name": "phillip", "link": "https://stackoverflow.com/users/372529/phillip"}, "edited": false, "score": 0, "creation_date": 1425500514, "post_id": 28864020, "comment_id": 45993338, "body": "what language are you using here?  there are several different types of regex depending on the environment so please be specific."}, {"owner": {"reputation": 3437, "user_id": 465942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cua5w.png?s=128&g=1", "display_name": "Kap&#233;", "link": "https://stackoverflow.com/users/465942/kap%c3%a9"}, "reply_to_user": {"reputation": 2390, "user_id": 372529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9776a78ebcf89f86b5147426436d5a68?s=128&d=identicon&r=PG", "display_name": "phillip", "link": "https://stackoverflow.com/users/372529/phillip"}, "edited": false, "score": 0, "creation_date": 1425504796, "post_id": 28864020, "comment_id": 45995824, "body": "@phillip I want to use it in a C# app, but I first tried to make it work using the default PHP flavor of regex101."}], "answers": [{"comments": [{"owner": {"reputation": 3437, "user_id": 465942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cua5w.png?s=128&g=1", "display_name": "Kap&#233;", "link": "https://stackoverflow.com/users/465942/kap%c3%a9"}, "edited": false, "score": 0, "creation_date": 1425505975, "post_id": 28864065, "comment_id": 45996410, "body": "@Necreaux It looks like that your answer does work! I see that you use the <code>s</code> (single line) modifier instead. Could you please explain the regex step by step here just like I did so that I and others can learn from this? (Instead of a link which might be broken someday)"}, {"owner": {"reputation": 8397, "user_id": 4564945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07e9dc662cc256100da2844abfad32a5?s=128&d=identicon&r=PG&f=1", "display_name": "Necreaux", "link": "https://stackoverflow.com/users/4564945/necreaux"}, "edited": false, "score": 0, "creation_date": 1425506657, "post_id": 28864065, "comment_id": 45996783, "body": "Further cleanup/clarification added."}, {"owner": {"reputation": 3437, "user_id": 465942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cua5w.png?s=128&g=1", "display_name": "Kap&#233;", "link": "https://stackoverflow.com/users/465942/kap%c3%a9"}, "edited": false, "score": 0, "creation_date": 1425507538, "post_id": 28864065, "comment_id": 45997252, "body": "@Necreaux I now see that when I have a log message which contains a date itself (or just a year), the message is not completely included in the regex anymore. A log message should be everthing except the start of a new log message which can be detected by the log format I described. Any suggestions?"}, {"owner": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "edited": false, "score": 0, "creation_date": 1425523009, "post_id": 28864065, "comment_id": 46002308, "body": "@Necreaux: You&#39;re making the same mistake as the OP, using a backreference (<code>\\1</code> or <code>\\2</code>) as a subroutine.  A backreference doesn&#39;t try to match the same subexpression again, it tries to match the actual substring that was captured in that group.  The reason your lookahead seems to work is because you&#39;re only comparing the first four characters, which all happen to be the same.  Also, you left out the start-of-line anchor (<code>^</code> in multiline mode)."}, {"owner": {"reputation": 8397, "user_id": 4564945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07e9dc662cc256100da2844abfad32a5?s=128&d=identicon&r=PG&f=1", "display_name": "Necreaux", "link": "https://stackoverflow.com/users/4564945/necreaux"}, "reply_to_user": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "edited": false, "score": 0, "creation_date": 1425561211, "post_id": 28864065, "comment_id": 46019075, "body": "@AlanMoore I totally agree about the backreference stuff. Maybe I should have approached this differently, but my approach was to try to point the OP in the correct direction by answering the specific question, rather than going off on a tangent to fix other issues in the regex."}, {"owner": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "edited": false, "score": 0, "creation_date": 1425563445, "post_id": 28864065, "comment_id": 46020451, "body": "@Necreaux: The regex I came up with was so similar to <a href=\"http://stackoverflow.com/a/28867622/20938\">@sln&#39;s</a>, there was no point posting it.  I was hoping to condense it some, but the additional details provided by the OP make it certain: you just have to write most of the regex twice."}, {"owner": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "edited": false, "score": 0, "creation_date": 1425564604, "post_id": 28864065, "comment_id": 46021144, "body": "And I agree with you about tangents, but if you spot an outright error and don&#39;t point it out, you&#39;re effectively endorsing the incorrect behavior, making it that much harder for them to unlearn it later.  And if you <i>fail</i> to notice the error (especially if you copy or repeat it in your answer) you undermine your own credibility."}], "tags": [], "owner": {"reputation": 8397, "user_id": 4564945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07e9dc662cc256100da2844abfad32a5?s=128&d=identicon&r=PG&f=1", "display_name": "Necreaux", "link": "https://stackoverflow.com/users/4564945/necreaux"}, "is_accepted": false, "score": -2, "last_activity_date": 1425506570, "last_edit_date": 1425506570, "creation_date": 1425500247, "answer_id": 28864065, "question_id": 28864020, "link": "https://stackoverflow.com/questions/28864020/parse-multiline-log-entries-using-a-regex/28864065#28864065", "title": "Parse multiline log entries using a regex", "body": "<p>What regex engine are you using? In Java for example there is a flag to tell \".\" to match newline characters.</p>\n\n<p>The following regex appears to do the trick:</p>\n\n<pre><code>/(([0-9]{4})(-[0-9]{2}){2}([^|]+\\|){3})((.(?!\\2))*)/sg\n</code></pre>\n\n<p>Modifications I made to your query were mostly some cleanup (your date capturing group was wrong). I then added a . and * in that final capturing group. <a href=\"https://regex101.com/r/fU1vV1/2\" rel=\"nofollow\">https://regex101.com/r/fU1vV1/2</a></p>\n\n<p>The most important part is the use of the sg flags. g makes it get all matches. s makes it treat it all like a single line (otherwise your negative lookahead would never work). All of this would be unnecessary if you could guarantee the comments were on one line (which they are in your example) since you could just capture to the end of the line.</p>\n"}, {"comments": [{"owner": {"reputation": 3437, "user_id": 465942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cua5w.png?s=128&g=1", "display_name": "Kap&#233;", "link": "https://stackoverflow.com/users/465942/kap%c3%a9"}, "edited": false, "score": 0, "creation_date": 1425507693, "post_id": 28866134, "comment_id": 45997331, "body": "@anubhava Thanks for your answer, but I&#39;ve the same issue as I just commented on <a href=\"http://stackoverflow.com/a/28864065/465942\">Necreaux answer</a>"}, {"owner": {"reputation": 658048, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1425508079, "post_id": 28866134, "comment_id": 45997520, "body": "I did read but don&#39;t understand for which situation it doesn&#39;t work. Can you update the demo link and provide me an updated regex101 link showing what doesn&#39;t work."}, {"owner": {"reputation": 658048, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1425508184, "post_id": 28866134, "comment_id": 45997564, "body": "<a href=\"https://regex101.com/r/eP0eD5/2\" rel=\"nofollow noreferrer\">Even with your updated sample data it works</a> since lookahead is <code>^\\d{4}</code> i.e. year part at <b>start of next line</b>"}, {"owner": {"reputation": 3437, "user_id": 465942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cua5w.png?s=128&g=1", "display_name": "Kap&#233;", "link": "https://stackoverflow.com/users/465942/kap%c3%a9"}, "edited": false, "score": 0, "creation_date": 1425508512, "post_id": 28866134, "comment_id": 45997723, "body": "@anubhava Could you <a href=\"https://regex101.com/r/eP0eD5/3\" rel=\"nofollow noreferrer\">check this link</a>? The last message should be valid (that&#39;s at least what I want) but is not."}, {"owner": {"reputation": 658048, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 1, "creation_date": 1425508824, "post_id": 28866134, "comment_id": 45997845, "body": "In the last message you have missing <code>MyApp|</code>  which is your App name. Can that really happen in application log?"}, {"owner": {"reputation": 2390, "user_id": 372529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9776a78ebcf89f86b5147426436d5a68?s=128&d=identicon&r=PG", "display_name": "phillip", "link": "https://stackoverflow.com/users/372529/phillip"}, "edited": false, "score": 1, "creation_date": 1425509146, "post_id": 28866134, "comment_id": 45997974, "body": "if it can then there is no regex in the world that will fit.  in that case the logging should be split into multiple logs so that this would work but still the logger should be able to force the output to include fields"}, {"owner": {"reputation": 3437, "user_id": 465942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cua5w.png?s=128&g=1", "display_name": "Kap&#233;", "link": "https://stackoverflow.com/users/465942/kap%c3%a9"}, "reply_to_user": {"reputation": 2390, "user_id": 372529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9776a78ebcf89f86b5147426436d5a68?s=128&d=identicon&r=PG", "display_name": "phillip", "link": "https://stackoverflow.com/users/372529/phillip"}, "edited": false, "score": 0, "creation_date": 1425546867, "post_id": 28866134, "comment_id": 46010422, "body": "@phillip No, that&#39;s why that should not be part of a new log message. I count 4, not 5. Beside of this very unlikely entry, the 2nd log message which has only a date in the log text is not captured by the regex as well."}, {"owner": {"reputation": 658048, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 3437, "user_id": 465942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cua5w.png?s=128&g=1", "display_name": "Kap&#233;", "link": "https://stackoverflow.com/users/465942/kap%c3%a9"}, "edited": false, "score": 0, "creation_date": 1425548551, "post_id": 28866134, "comment_id": 46011407, "body": "@KP_: You didn&#39;t respond to the question I asked. <b>In the last message you have missing <code>MyApp|</code> which is your App name. Can that really happen in application log?</b>"}, {"owner": {"reputation": 3437, "user_id": 465942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cua5w.png?s=128&g=1", "display_name": "Kap&#233;", "link": "https://stackoverflow.com/users/465942/kap%c3%a9"}, "edited": false, "score": 0, "creation_date": 1425549620, "post_id": 28866134, "comment_id": 46012110, "body": "@anubhava Yes I did.. What you see as last log entry is not a log entry, so that is part of the message. I&#39;ve separated the example log messages with a new line to clarify what a single log message is. As I said, this is not very likely to happen."}, {"owner": {"reputation": 3437, "user_id": 465942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cua5w.png?s=128&g=1", "display_name": "Kap&#233;", "link": "https://stackoverflow.com/users/465942/kap%c3%a9"}, "edited": false, "score": 0, "creation_date": 1425549807, "post_id": 28866134, "comment_id": 46012255, "body": "@anubhava Thanks for the updated regex, but it has 5 matches, it should have 4."}, {"owner": {"reputation": 658048, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 1, "creation_date": 1425550077, "post_id": 28866134, "comment_id": 46012400, "body": "But earlier regex already had 4 and you said <b>last message should be valid</b>"}, {"owner": {"reputation": 3437, "user_id": 465942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cua5w.png?s=128&g=1", "display_name": "Kap&#233;", "link": "https://stackoverflow.com/users/465942/kap%c3%a9"}, "reply_to_user": {"reputation": 658048, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1425550241, "post_id": 28866134, "comment_id": 46012489, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/72312/discussion-between-kp-and-anubhava\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 658048, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 3, "last_activity_date": 1425552000, "last_edit_date": 1425552000, "creation_date": 1425507353, "answer_id": 28866134, "question_id": 28864020, "link": "https://stackoverflow.com/questions/28864020/parse-multiline-log-entries-using-a-regex/28866134#28866134", "title": "Parse multiline log entries using a regex", "body": "<p>You can use this regex:</p>\n\n<pre><code>(^\\d{4}(-\\d{2}){2}([^|]+\\|){3})([\\s\\S]*?)\\n*(?=^\\d{4}.*?(?:[^|\\n]+\\|){3}|\\z)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/eP0eD5/6\" rel=\"nofollow\">RegEx Demo</a></p>\n\n<p>This regex should work in C# as well, just make sure to use <code>MULTILINE</code> flag.</p>\n"}, {"comments": [{"owner": {"reputation": 3437, "user_id": 465942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cua5w.png?s=128&g=1", "display_name": "Kap&#233;", "link": "https://stackoverflow.com/users/465942/kap%c3%a9"}, "edited": false, "score": 0, "creation_date": 1425553829, "post_id": 28867622, "comment_id": 46014870, "body": "Thank you for your answer, I see that this one works as well."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 3, "last_activity_date": 1425577243, "last_edit_date": 1425577243, "creation_date": 1425514164, "answer_id": 28867622, "question_id": 28864020, "link": "https://stackoverflow.com/questions/28864020/parse-multiline-log-entries-using-a-regex/28867622#28867622", "title": "Parse multiline log entries using a regex", "body": "<p>Something like this should work.<br>\nSee the comments in the regex.<br>\n(<em>mod</em>: make line break optional for EOS or single line message) </p>\n\n<pre><code> @\"(?m)^[0-9]{4}(?:-[0-9]{2}){2}(?:[^|\\r\\n]+\\|){3}((?:(?!^[0-9]{4}(?:-[0-9]{2}){2}(?:[^|\\r\\n]+\\|){3}).*(?:\\r?\\n)?)+)\"\n</code></pre>\n\n<p>Formatted (<a href=\"http://www.regexformat.com\" rel=\"nofollow\">with this</a>):</p>\n\n<pre><code> (?m)                          # Modifier - multiline\n ^                             # BOL\n [0-9]{4}                      # Message header\n (?: - [0-9]{2} ){2}\n (?: [^|\\r\\n]+ \\| ){3}\n (                             # (1 start), The Message\n      (?:\n           (?!                           # Assert, not a Message header\n                ^                             # BOL\n                [0-9]{4} \n                (?: - [0-9]{2} ){2}\n                (?: [^|\\r\\n]+ \\| ){3}\n           )\n           .*                            # Line is ok, its part of the message\n           (?: \\r? \\n )?                 # Optional line break\n      )+\n )                             # (1 end)\n</code></pre>\n\n<p>Output:  </p>\n\n<pre><code> **  Grp 0 -  ( pos 0 , len 74 ) \n2015-03-03 19:30:47.2725|INFO|MyApp|This is a single line log message.\n\n\n **  Grp 1 -  ( pos 36 , len 38 ) \nThis is a single line log message.\n\n--------------\n\n **  Grp 0 -  ( pos 74 , len 108 ) \n2015-03-03 19:31:29.1209|INFO|MyApp|This log message has multiple\nlines with\n2015-03-03\na date in it.\n\n\n **  Grp 1 -  ( pos 110 , len 72 ) \nThis log message has multiple\nlines with\n2015-03-03\na date in it.\n\n--------------\n\n **  Grp 0 -  ( pos 182 , len 97 ) \n2015-03-03 19:32:50.1106|INFO|MyApp|This log message has\nmultiple lines\nbut just text only.\n\n\n **  Grp 1 -  ( pos 218 , len 61 ) \nThis log message has\nmultiple lines\nbut just text only.\n\n--------------\n\n **  Grp 0 -  ( pos 279 , len 186 ) \n2015-03-03 19:33:20.2683|ERROR|MyApp|This log message has multiple lines but\nalso some confusing text like\n2015-03-03 19:33:20.2683|ERROR| which should\nstill be a valid log message.\n\n **  Grp 1 -  ( pos 316 , len 149 ) \nThis log message has multiple lines but\nalso some confusing text like\n2015-03-03 19:33:20.2683|ERROR| which should\nstill be a valid log message.\n</code></pre>\n"}], "owner": {"reputation": 3437, "user_id": 465942, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cua5w.png?s=128&g=1", "display_name": "Kap&#233;", "link": "https://stackoverflow.com/users/465942/kap%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1869, "favorite_count": 0, "accepted_answer_id": 28866134, "answer_count": 3, "score": 4, "last_activity_date": 1425577243, "creation_date": 1425500097, "last_edit_date": 1425550192, "question_id": 28864020, "link": "https://stackoverflow.com/questions/28864020/parse-multiline-log-entries-using-a-regex", "title": "Parse multiline log entries using a regex", "body": "<p>I'm trying to parse log entries in a C# app using this regex: <code>(^[0-9]{4}(-[0-9]{2}){2}([^|]+\\|){3})(?!\\1)</code> for logs in a format like <em>[date (in some format)]</em> | <em>[level]</em> | <em>[appname]</em> | <em>[message]</em>.</p>\n\n<p>Where (I think):  </p>\n\n<ul>\n<li><code>^</code> matches the begin of a line (enabled <em>/gm</em> on regex101)</li>\n<li><code>[0-9]{4}(-[0-9]{2}){2}</code> followed by the begin of the date like 2015-03-03</li>\n<li><code>([^|]+\\|){3})</code> followed by the rest of the date, the log level and app name  </li>\n<li><code>(?!\\1)</code> followed by <strong>not</strong> the start of a new log entry (should be the message)  </li>\n</ul>\n\n<p>For example, I have the following <strong>4</strong> log entries (separated by a newline for clarification):</p>\n\n<pre>\n2015-03-03 19:30:47.2725|INFO|MyApp|This is a single line log message.\n\n2015-03-03 19:31:29.1209|INFO|MyApp|This log message has multiple\nlines with\n2015-03-03\na date in it.\n\n2015-03-03 19:32:50.1106|INFO|MyApp|This log message has\nmultiple lines\nbut just text only.\n\n2015-03-03 19:33:20.2683|ERROR|MyApp|This log message has multiple lines but\nalso some confusing text like\n2015-03-03 19:33:20.2683|ERROR| which should\nstill be a valid log message.\n</pre>\n\n<p>But the regex does not capture the message when I test it on <a href=\"https://regex101.com\" rel=\"nofollow\">regex101</a>, probably because I don't understand how to capture the negative lookahead.</p>\n\n<p>If I include <code>.*</code> in the regex:\n<code>(^[0-9]{4}(-[0-9]{2}){2}([^|]+\\|){3}).*(?!\\1)</code> it matches the message but only a single line (because <code>.</code> does not match a newline).</p>\n\n<p>So how can I capture the (multiline) message?</p>\n"}, {"tags": ["c#", "wpf", "datepicker", ".net-4.5"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425500446, "post_id": 28863998, "comment_id": 45993302, "body": "have you tried for example doing the same thing like you would with a TextBox.. determine the length,then based on the difference set the focus / SelectionStart.. if worse comes to worse do a google search"}, {"owner": {"reputation": 184, "user_id": 4615266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y6gFr.jpg?s=128&g=1", "display_name": "Renaud Gauthier", "link": "https://stackoverflow.com/users/4615266/renaud-gauthier"}, "edited": false, "score": 0, "creation_date": 1425500693, "post_id": 28863998, "comment_id": 45993441, "body": "The underlying textbox can do the job, you might want to check out this <a href=\"http://stackoverflow.com/questions/3636310/custom-wpf-datepickertextbox-template-help\">Q/A</a> in order to know how to change the TextBox&#39;s behavior."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425500850, "post_id": 28863998, "comment_id": 45993536, "body": "I don&#39;t give thumbs down so not sure what you mean by that..all I did was make a suggestion.. so with that being said.. can you show some actual code as to what you have tried.. thanks"}, {"owner": {"reputation": 63, "user_id": 4288002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/079b49e1a27d370bc08ef5156bfe104c?s=128&d=identicon&r=PG&f=1", "display_name": "rapidfire", "link": "https://stackoverflow.com/users/4288002/rapidfire"}, "reply_to_user": {"reputation": 184, "user_id": 4615266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y6gFr.jpg?s=128&g=1", "display_name": "Renaud Gauthier", "link": "https://stackoverflow.com/users/4615266/renaud-gauthier"}, "edited": false, "score": 0, "creation_date": 1425563930, "post_id": 28863998, "comment_id": 46020714, "body": "@Ranud - Thanks for the suggestion. Did learn a few stuff about datepicker from there."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 4288002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/079b49e1a27d370bc08ef5156bfe104c?s=128&d=identicon&r=PG&f=1", "display_name": "rapidfire", "link": "https://stackoverflow.com/users/4288002/rapidfire"}, "edited": false, "score": 0, "creation_date": 1425563812, "post_id": 28864910, "comment_id": 46020646, "body": "@kmatyzaszek - THAT worked so well!! Thanks so much!! Awesome answer. I was always trying to do it on Mousedown using SelectionStart and CaretIndex (set to 0) but was not working. Thanks again."}, {"owner": {"reputation": 63, "user_id": 4288002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/079b49e1a27d370bc08ef5156bfe104c?s=128&d=identicon&r=PG&f=1", "display_name": "rapidfire", "link": "https://stackoverflow.com/users/4288002/rapidfire"}, "edited": false, "score": 0, "creation_date": 1425568057, "post_id": 28864910, "comment_id": 46023418, "body": "@kmatyzaszek I just noticed something while doing more testing. When I load up the form and touch/click on the textbox of datepicker field for the very first time , the mouseup event does fire but the cursor does not move to the first position. It moves on the second time I click on the textbox and then it keeps working fine. Initially it seemed to work may be because I double-clicked on the datepicker textbox control somehow. Just as a side note, I saw that setting caretindex=0 on just a PreviewMouseUp event works same as the one your solution."}, {"owner": {"reputation": 63, "user_id": 4288002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/079b49e1a27d370bc08ef5156bfe104c?s=128&d=identicon&r=PG&f=1", "display_name": "rapidfire", "link": "https://stackoverflow.com/users/4288002/rapidfire"}, "edited": false, "score": 1, "creation_date": 1425656926, "post_id": 28864910, "comment_id": 46064130, "body": "I got around the issue now. Setting the caretindex to 0 on LostMouseCapture event of parttextbox (DatePickerTextBox) does the trick."}], "tags": [], "owner": {"reputation": 18280, "user_id": 1410998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd0ed3940ccf6fb2d75455d69b257c3b?s=128&d=identicon&r=PG", "display_name": "kmatyaszek", "link": "https://stackoverflow.com/users/1410998/kmatyaszek"}, "is_accepted": true, "score": 4, "last_activity_date": 1425503121, "creation_date": 1425503121, "answer_id": 28864910, "question_id": 28863998, "link": "https://stackoverflow.com/questions/28863998/how-to-place-cursor-in-the-first-position-of-a-datepicker-control-in-c/28864910#28864910", "title": "How to place cursor in the first position of a Datepicker control in C#?", "body": "<p>You should find <code>TextBox</code> element and subscribe to event <code>PreviewMouseUp</code>.</p>\n\n<p>1) Add <code>DatePicker</code> with <code>Loaded</code> event:</p>\n\n<pre><code>&lt;DatePicker Name=\"myDatePicker\" Loaded=\"MyDatePicker_OnLoaded\" /&gt; \n</code></pre>\n\n<p>2) Find <code>TextBox</code> element (in the <code>DatePicker</code> type of the text box element is <code>DatePickerTextBox</code>) and subscribe to <code>PreviewMouseUp</code>:</p>\n\n<pre><code>private void MyDatePicker_OnLoaded(object sender, RoutedEventArgs e)\n{\n    var tb = (DatePickerTextBox)myDatePicker.Template.FindName(\"PART_TextBox\", myDatePicker);\n    if (tb != null)\n    {\n        tb.PreviewMouseUp += (s, args) =&gt;\n        {\n            tb.CaretIndex = 0;\n        };\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 4288002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/079b49e1a27d370bc08ef5156bfe104c?s=128&d=identicon&r=PG&f=1", "display_name": "rapidfire", "link": "https://stackoverflow.com/users/4288002/rapidfire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1361, "favorite_count": 1, "accepted_answer_id": 28864910, "answer_count": 1, "score": 2, "last_activity_date": 1425503121, "creation_date": 1425500024, "last_edit_date": 1425500548, "question_id": 28863998, "link": "https://stackoverflow.com/questions/28863998/how-to-place-cursor-in-the-first-position-of-a-datepicker-control-in-c", "title": "How to place cursor in the first position of a Datepicker control in C#?", "body": "<p>I have a datepicker control on a wpf form (masked as 00-00-0000). If the datepicker is empty, then I want the cursor always to be in the first position no matter where I click on the datepicker textbox. I tried using SelectionStart property (set to 0) on MouseDown event but it didn't work. Can anyone please give an idea? Please let me know if you need more info. Any help is much appreciated. Thanks!  </p>\n"}, {"tags": ["c#", "winforms", "cmd", "adb", "redirectstandardoutput"], "comments": [{"owner": {"reputation": 26831, "user_id": 1778421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIUgI.png?s=128&g=1", "display_name": "Alex P.", "link": "https://stackoverflow.com/users/1778421/alex-p"}, "edited": false, "score": 0, "creation_date": 1425501595, "post_id": 28863929, "comment_id": 45993979, "body": "everyone keeps reinventing their own wheel. just use <a href=\"https://madb.codeplex.com\" rel=\"nofollow noreferrer\">madb.codeplex.com</a>"}, {"owner": {"reputation": 273, "user_id": 2754403, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yrNyj.png?s=128&g=1", "display_name": "iTechy", "link": "https://stackoverflow.com/users/2754403/itechy"}, "reply_to_user": {"reputation": 26831, "user_id": 1778421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIUgI.png?s=128&g=1", "display_name": "Alex P.", "link": "https://stackoverflow.com/users/1778421/alex-p"}, "edited": false, "score": 0, "creation_date": 1426279404, "post_id": 28863929, "comment_id": 46323492, "body": "I dont need it. I would rather code it myself and then make it open source..."}, {"owner": {"reputation": 26831, "user_id": 1778421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIUgI.png?s=128&g=1", "display_name": "Alex P.", "link": "https://stackoverflow.com/users/1778421/alex-p"}, "edited": false, "score": 0, "creation_date": 1426287975, "post_id": 28863929, "comment_id": 46326634, "body": "if you ever decide to make a living by doing software development - get rid of your NIH syndrome. also if you have not noticed - <code>madb</code> is open source"}, {"owner": {"reputation": 273, "user_id": 2754403, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yrNyj.png?s=128&g=1", "display_name": "iTechy", "link": "https://stackoverflow.com/users/2754403/itechy"}, "reply_to_user": {"reputation": 26831, "user_id": 1778421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIUgI.png?s=128&g=1", "display_name": "Alex P.", "link": "https://stackoverflow.com/users/1778421/alex-p"}, "edited": false, "score": 0, "creation_date": 1426447483, "post_id": 28863929, "comment_id": 46365940, "body": "I know it is but I&#39;m a hobby coder. I do it to help others and why use madb when you can just include the adb.exe and fastboot.exe along with the required .dll&#39;s as it would make the program lighter (considering the toolbox contains stock images that won&#39;t be included in the open source release)"}], "answers": [{"comments": [{"owner": {"reputation": 273, "user_id": 2754403, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yrNyj.png?s=128&g=1", "display_name": "iTechy", "link": "https://stackoverflow.com/users/2754403/itechy"}, "edited": false, "score": 0, "creation_date": 1425500630, "post_id": 28863971, "comment_id": 45993415, "body": "But I specifically want <code>list of attached devices xxxxxxxx       device</code> rather than the whole speal that comes with that."}, {"owner": {"reputation": 5324, "user_id": 135702, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GoD88.png?s=128&g=1", "display_name": "Sebastiaan M", "link": "https://stackoverflow.com/users/135702/sebastiaan-m"}, "reply_to_user": {"reputation": 273, "user_id": 2754403, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yrNyj.png?s=128&g=1", "display_name": "iTechy", "link": "https://stackoverflow.com/users/2754403/itechy"}, "edited": false, "score": 0, "creation_date": 1425500922, "post_id": 28863971, "comment_id": 45993576, "body": "Try to directly start adb instead of through cmd.exe. Then maybe ReadLine does what you want."}, {"owner": {"reputation": 273, "user_id": 2754403, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yrNyj.png?s=128&g=1", "display_name": "iTechy", "link": "https://stackoverflow.com/users/2754403/itechy"}, "edited": false, "score": 0, "creation_date": 1425501147, "post_id": 28863971, "comment_id": 45993716, "body": "Thanks. The original worked. Just had to modify the arguments and directly start adb. Thank you!"}], "tags": [], "owner": {"reputation": 5324, "user_id": 135702, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GoD88.png?s=128&g=1", "display_name": "Sebastiaan M", "link": "https://stackoverflow.com/users/135702/sebastiaan-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1425499938, "creation_date": 1425499938, "answer_id": 28863971, "question_id": 28863929, "link": "https://stackoverflow.com/questions/28863929/getting-single-line-from-cmd-response-c-and-put-it-into-textbox/28863971#28863971", "title": "Getting single line from CMD response c# and put it into textbox", "body": "<p>Use StandardOutput.ReadToEnd().</p>\n"}, {"tags": [], "owner": {"reputation": 273, "user_id": 2754403, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yrNyj.png?s=128&g=1", "display_name": "iTechy", "link": "https://stackoverflow.com/users/2754403/itechy"}, "is_accepted": false, "score": 0, "last_activity_date": 1425501638, "last_edit_date": 1425501638, "creation_date": 1425501285, "answer_id": 28864367, "question_id": 28863929, "link": "https://stackoverflow.com/questions/28863929/getting-single-line-from-cmd-response-c-and-put-it-into-textbox/28864367#28864367", "title": "Getting single line from CMD response c# and put it into textbox", "body": "<p>So thanks to the above post this is my solution</p>\n\n<pre><code>startInfo.FileName = \"adb.exe\";\nstartInfo.Arguments = \"devices\";\nprocess = Process.Start(startInfo);\nconnected_devices.Text = process.StandardOutput.ReadToEnd();\n</code></pre>\n\n<p>and it printed out:</p>\n\n<p><code>List of devices attached \nxxxxxxx device</code></p>\n\n<p>which is what I wanted</p>\n"}], "owner": {"reputation": 273, "user_id": 2754403, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yrNyj.png?s=128&g=1", "display_name": "iTechy", "link": "https://stackoverflow.com/users/2754403/itechy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1010, "favorite_count": 0, "accepted_answer_id": 28863971, "answer_count": 2, "score": 0, "last_activity_date": 1425501638, "creation_date": 1425499822, "last_edit_date": 1425500661, "question_id": 28863929, "link": "https://stackoverflow.com/questions/28863929/getting-single-line-from-cmd-response-c-and-put-it-into-textbox", "title": "Getting single line from CMD response c# and put it into textbox", "body": "<p>So I want to get the response of <code>adb devices</code> put through a cmd window and then to show up in a text box. \nAt this moment in time I have this code:</p>\n\n<pre><code>Process process = new System.Diagnostics.Process();\nProcessStartInfo startInfo = new System.Diagnostics.ProcessStartInfo();\nstartInfo.WindowStyle = System.Diagnostics.ProcessWindowStyle.Hidden;\nstartInfo.RedirectStandardInput = true;\nstartInfo.RedirectStandardOutput = true;\nstartInfo.RedirectStandardError = false;\nstartInfo.UseShellExecute = false;\nstartInfo.FileName = \"cmd.exe\";\nstartInfo.Arguments = \"\";\nprocess = Process.Start(startInfo);\n**process.StandardInput.WriteLine(\"adb devices\"); \nconnected_devices.Text = process.StandardOutput.ReadLine();\n</code></pre>\n\n<p>At this moment in time I am getting the following results:</p>\n\n<pre><code>Microsoft Windows [Version 6.1.7601]\n</code></pre>\n\n<p>Rather than <strong>just</strong>: </p>\n\n<pre><code>list of attached devices\nxxxxxxxx       device\n</code></pre>\n\n<p>any help is appreciated.</p>\n"}, {"tags": ["c#", "datetime"], "comments": [{"owner": {"reputation": 4440, "user_id": 45816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f8c06aafa0c5149e3ab1997802f2be7d?s=128&d=identicon&r=PG", "display_name": "neontapir", "link": "https://stackoverflow.com/users/45816/neontapir"}, "edited": false, "score": 0, "creation_date": 1425499884, "post_id": 28863884, "comment_id": 45992986, "body": "You may be able to solve this problem by declaring a constant in a <code>Constants</code> class, like <code>const DefaultTime = new Nullable&lt;DateTime&gt;(&quot;1&#47;2&#47;2000&quot;);</code> and then reference it like <code>public void MethodName(DateTime? signedConsent2 = Constants.DefaultTime)</code> I don&#39;t have a compiler handy to verify, though."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "reply_to_user": {"reputation": 4440, "user_id": 45816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f8c06aafa0c5149e3ab1997802f2be7d?s=128&d=identicon&r=PG", "display_name": "neontapir", "link": "https://stackoverflow.com/users/45816/neontapir"}, "edited": false, "score": 1, "creation_date": 1425499948, "post_id": 28863884, "comment_id": 45993017, "body": "@neontapir <code>The type &#39;System.DateTime?&#39; cannot be declared const</code>"}], "answers": [{"comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1425500097, "post_id": 28863976, "comment_id": 45993095, "body": "I think OP wants to <code>null</code> to mean something distinct from default(datetime)."}, {"owner": {"reputation": 18731, "user_id": 37710, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/80b9bce2ab2ae2602d75894c966b4fa5?s=128&d=identicon&r=PG", "display_name": "n8wrl", "link": "https://stackoverflow.com/users/37710/n8wrl"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1425500130, "post_id": 28863976, "comment_id": 45993110, "body": "@Blorgbeard then he can put whatever he wants after the ??"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1425500176, "post_id": 28863976, "comment_id": 45993140, "body": "No, I mean I think he wants <code>MethodName()</code> (no parameter) to act differently to <code>MethodName(null)</code>."}, {"owner": {"reputation": 18731, "user_id": 37710, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/80b9bce2ab2ae2602d75894c966b4fa5?s=128&d=identicon&r=PG", "display_name": "n8wrl", "link": "https://stackoverflow.com/users/37710/n8wrl"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1425500217, "post_id": 28863976, "comment_id": 45993163, "body": "@Blorgbeard I didn&#39;t read it that way at all. Perhaps he can weigh in."}, {"owner": {"reputation": 18731, "user_id": 37710, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/80b9bce2ab2ae2602d75894c966b4fa5?s=128&d=identicon&r=PG", "display_name": "n8wrl", "link": "https://stackoverflow.com/users/37710/n8wrl"}, "edited": false, "score": 1, "creation_date": 1425500585, "post_id": 28863976, "comment_id": 45993387, "body": "Then habibhas your answer."}], "tags": [], "owner": {"reputation": 18731, "user_id": 37710, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/80b9bce2ab2ae2602d75894c966b4fa5?s=128&d=identicon&r=PG", "display_name": "n8wrl", "link": "https://stackoverflow.com/users/37710/n8wrl"}, "is_accepted": false, "score": 0, "last_activity_date": 1425499956, "creation_date": 1425499956, "answer_id": 28863976, "question_id": 28863884, "link": "https://stackoverflow.com/questions/28863884/c-default-datetime-method-parameter-where-nulls-mean-something/28863976#28863976", "title": "c# Default datetime? method parameter where nulls mean something", "body": "<p>I would declare the parameters like you did at first:</p>\n\n<pre><code>public void MethodName(DateTime? signedConsent2 = null) {\n}\n</code></pre>\n\n<p>and then when it's time to use them, coalesce the default:</p>\n\n<pre><code>var x = signedConsent2 ?? default(DateTime);\n</code></pre>\n\n<p>One advantage to this is, you may change your defaults, and you won't have to change the method signature. That's a good thing.</p>\n"}, {"comments": [{"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1425500797, "post_id": 28864092, "comment_id": 45993503, "body": "It&#39;s probably worth noting that changing from a default parameter to a parameterless overload with a <i>different</i> &quot;default&quot; may not work without rebuilding clients. Clients compiled against the method with a default parameter will <i>not</i> use the parameterless overload."}], "tags": [], "owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "is_accepted": false, "score": 2, "last_activity_date": 1425500340, "creation_date": 1425500340, "answer_id": 28864092, "question_id": 28863884, "link": "https://stackoverflow.com/questions/28863884/c-default-datetime-method-parameter-where-nulls-mean-something/28864092#28864092", "title": "c# Default datetime? method parameter where nulls mean something", "body": "<p>I believe you are looking to handle multiple scenarios. Like calling the method as:</p>\n\n<pre><code>MethodName();\nMethodName(null); //or MethodName(default(DateTime?));\n</code></pre>\n\n<p>Where calling it without parameter means something different than call it with <code>null</code> or <code>DateTime?</code> value. </p>\n\n<p>In that case You have <strong>no other option but to define two overloads.</strong> You can't handle that with <em>default parameter</em>. There is no way for you to know whether method is called without a parameter or with a valid <code>DateTime?</code> parameter holding <code>null</code> value. In either case you will end up with <code>null</code> in your parameter. </p>\n\n<pre><code>public void MethodName()\n{\n    //Method without any parameter called\n    MethodName(default(DateTime?));// call overload\n}\npublic void MethodName(DateTime? signedConsent2 = default(DateTime?))\n{\n}\n</code></pre>\n\n<p>or  <code>public void MethodName(DateTime? signedConsent2 = null)</code></p>\n\n<p>For:</p>\n\n<blockquote>\n  <p>First off, I don't understand why default(DateTime) is a compile time\n  constant but (DateTime?)default(DateTime) is not.</p>\n</blockquote>\n\n<p>The second code <code>(DateTime?)default(DateTime)</code> is doing an explicit cast which is a runtime operation and hence the error. </p>\n"}, {"tags": [], "owner": {"reputation": 117905, "user_id": 1163867, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2fe5ef74a2c17f19c75d2f49b95fb71d?s=128&d=identicon&r=PG", "display_name": "MarcinJuraszek", "link": "https://stackoverflow.com/users/1163867/marcinjuraszek"}, "is_accepted": false, "score": 3, "last_activity_date": 1425500358, "creation_date": 1425500358, "answer_id": 28864102, "question_id": 28863884, "link": "https://stackoverflow.com/questions/28863884/c-default-datetime-method-parameter-where-nulls-mean-something/28864102#28864102", "title": "c# Default datetime? method parameter where nulls mean something", "body": "<p>You'll need two overloads of your method:</p>\n\n<pre><code>public void MethodName()\n{\n    MethodName(default(DateTime));\n}\n\npublic void MethodName(DateTime? signedConsent2)\n{\n\n}\n</code></pre>\n"}], "owner": {"reputation": 4023, "user_id": 4410701, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/dea430839f410f0b642006dc1bdc5715?s=128&d=identicon&r=PG&f=1", "display_name": "pQuestions123", "link": "https://stackoverflow.com/users/4410701/pquestions123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1425500358, "creation_date": 1425499677, "question_id": 28863884, "link": "https://stackoverflow.com/questions/28863884/c-default-datetime-method-parameter-where-nulls-mean-something", "title": "c# Default datetime? method parameter where nulls mean something", "body": "<p>I have a method with a bunch of defaulted datetime? parameters. I would like to be able to process nulls. I mean, if a caller passes in a null, I would like to process it as well. </p>\n\n<p>So, I don't want to write:</p>\n\n<pre><code>public void MethodName(DateTime? signedConsent2 = null) {\n}\n</code></pre>\n\n<p>I tried: </p>\n\n<pre><code>public void MethodName(DateTime? signedConsent2 = (DateTime?)default(DateTime)) {\n}\n</code></pre>\n\n<p>but I am getting \"The default parameter must be a compile time constant\".</p>\n\n<p>First off, I don't understand why <code>default(DateTime)</code> is a compile time constant but <code>(DateTime?)default(DateTime)</code> is not. Second off, is there any solution for this problem aside form overloading methods (which would be a lot of work since I have so many arguments).</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "c++", "ios", "exception", "ifstream"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1425499933, "post_id": 28863767, "comment_id": 45993012, "body": "For C++ only: streams throwing exceptions are bad (my opinion). For C++ interacting with c++/clr it becomes worse - you have to translate C++ exceptions to C++/clr exceptions, while crossing the boundary from C++ to C++/clr"}, {"owner": {"reputation": 1688, "user_id": 1378885, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DILv8.jpg?s=128&g=1", "display_name": "Eric after dark", "link": "https://stackoverflow.com/users/1378885/eric-after-dark"}, "edited": false, "score": 0, "creation_date": 1425500131, "post_id": 28863767, "comment_id": 45993116, "body": "Thanks for your response! I&#39;m not using C++/clr. I just want to accomplish the same thing with C#."}, {"owner": {"reputation": 1463, "user_id": 1548997, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lBhvJ.png?s=128&g=1", "display_name": "pixelbadger", "link": "https://stackoverflow.com/users/1548997/pixelbadger"}, "edited": false, "score": 1, "creation_date": 1425501809, "post_id": 28863767, "comment_id": 45994111, "body": "Are you trying to have FileStream throw exceptions on IO errors? Because that&#39;s the default behaviour. Both Read and Write methods will throw an IOException if an IO error occurs."}, {"owner": {"reputation": 1688, "user_id": 1378885, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DILv8.jpg?s=128&g=1", "display_name": "Eric after dark", "link": "https://stackoverflow.com/users/1378885/eric-after-dark"}, "reply_to_user": {"reputation": 1463, "user_id": 1548997, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lBhvJ.png?s=128&g=1", "display_name": "pixelbadger", "link": "https://stackoverflow.com/users/1548997/pixelbadger"}, "edited": false, "score": 0, "creation_date": 1425502304, "post_id": 28863767, "comment_id": 45994366, "body": "@pixelbadger That&#39;s exactly what I needed to know. Thank you!"}, {"owner": {"reputation": 1463, "user_id": 1548997, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lBhvJ.png?s=128&g=1", "display_name": "pixelbadger", "link": "https://stackoverflow.com/users/1548997/pixelbadger"}, "edited": false, "score": 0, "creation_date": 1425552383, "post_id": 28863767, "comment_id": 46013936, "body": "I&#39;ve expanded on my statement in an answer. If you found my comment useful, I would be grateful if you could mark this as the answer."}], "answers": [{"tags": [], "owner": {"reputation": 1463, "user_id": 1548997, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lBhvJ.png?s=128&g=1", "display_name": "pixelbadger", "link": "https://stackoverflow.com/users/1548997/pixelbadger"}, "is_accepted": true, "score": 1, "last_activity_date": 1425552347, "last_edit_date": 1495539805, "creation_date": 1425552347, "answer_id": 28875965, "question_id": 28863767, "link": "https://stackoverflow.com/questions/28863767/c-ifstream-exception-masks-for-c/28875965#28875965", "title": "C++ ifstream exception masks for C#", "body": "<p>Both <a href=\"https://msdn.microsoft.com/en-us/library/system.io.filestream.read%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\"><code>FileStream.Read</code></a> and <a href=\"https://msdn.microsoft.com/en-us/library/system.io.filestream.write(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>FileStream.Write</code></a> methods will throw an <a href=\"https://msdn.microsoft.com/en-us/library/system.io.ioexception(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>IOException</code></a> should any underlying I/O error occur. This is default behaviour.</p>\n\n<p>Unlike C++, exception throwing is the expected form of error handling in C#. Because exceptions were a part of .NET from the beginning, there is none of <a href=\"https://stackoverflow.com/questions/3180268/why-are-c-stl-iostreams-not-exception-friendly\">the contention</a> surrounding use of exceptions with streams as there is with C++.</p>\n\n<p>Most - if not all - of the .NET framework standard libraries will throw exceptions in exceptional states. The only exception I can think of is when using the <a href=\"https://msdn.microsoft.com/en-us/library/ms229009%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">Try-Parse pattern</a>, which is pretty explicit about the expected behaviour.</p>\n"}], "owner": {"reputation": 1688, "user_id": 1378885, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DILv8.jpg?s=128&g=1", "display_name": "Eric after dark", "link": "https://stackoverflow.com/users/1378885/eric-after-dark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 28875965, "answer_count": 1, "score": 1, "last_activity_date": 1425552347, "creation_date": 1425499287, "question_id": 28863767, "link": "https://stackoverflow.com/questions/28863767/c-ifstream-exception-masks-for-c", "title": "C++ ifstream exception masks for C#", "body": "<p>How would I convert this line from C++ to C#?</p>\n\n<pre><code>std::ifstream in;\nin.exceptions(std::ios_base::badbit); //*THIS LINE*\n</code></pre>\n\n<p>According to <a href=\"http://www.cplusplus.com/reference/ios/ios/exceptions/\" rel=\"nofollow\">this page</a>, the previous line of code sets a new exception mask for the stream and clears any current error state flags. I'm also guessing that it is the \"second form\" of <code>std::ios::exceptions</code> from the page linked above. </p>\n\n<p>Because of my inexperience with C#'s <code>FileStream</code> class, I've been getting pretty confused due to the lack of anything similar. </p>\n"}, {"tags": ["c#", "wpf", "vb.net", "httpwebrequest"], "comments": [{"owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "edited": false, "score": 0, "creation_date": 1425498821, "post_id": 28863537, "comment_id": 45992351, "body": "in C# <code>HttpWebRequest request = (HttpWebRequest) HttpWebRequest.Create(&quot;https:&#47;&#47;www.google.com&#47;&quot;);</code> should compile and work fine. Not really sure what is going on."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 2, "creation_date": 1425498851, "post_id": 28863537, "comment_id": 45992379, "body": "There is nothing wrong with the posted code. Is this the line that&#39;s giving you an exception?"}, {"owner": {"reputation": 548, "user_id": 4610451, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c5db99a25c0b9310da053c50b0ee0500?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Sharma", "link": "https://stackoverflow.com/users/4610451/gaurav-sharma"}, "edited": false, "score": 0, "creation_date": 1425499205, "post_id": 28863537, "comment_id": 45992585, "body": "Can u share your exact code, you can obviously change domain names to xyz while sharing the code."}, {"owner": {"reputation": 2023, "user_id": 2761919, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/465666e277ab0e1f859b6fac0d726c0a?s=128&d=identicon&r=PG&f=1", "display_name": "MattB", "link": "https://stackoverflow.com/users/2761919/mattb"}, "edited": false, "score": 0, "creation_date": 1425499430, "post_id": 28863537, "comment_id": 45992707, "body": "This is the exact line, with a different url, that is causing the exception.  I don&#39;t really think it&#39;s an error in the code, more like some issue in .Net that maybe comes up randomly.  I&#39;ve asked the user to restart.  Again, this is the exact line, verbatim (except the url) that is causing the issue."}, {"owner": {"reputation": 4875, "user_id": 1144624, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c640c2471d507b73b93d5cb34eaebfed?s=128&d=identicon&r=PG", "display_name": "Kcvin", "link": "https://stackoverflow.com/users/1144624/kcvin"}, "edited": false, "score": 0, "creation_date": 1425501431, "post_id": 28863537, "comment_id": 45993877, "body": "Sounds like the issue lies within the string being passed to <code>Create</code>.  Figure out what addresses throw the exception and report back.  Also what is the inner exception--that may give it away."}, {"owner": {"reputation": 1981, "user_id": 113374, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7WZv6.jpg?s=128&g=1", "display_name": "NextInLine", "link": "https://stackoverflow.com/users/113374/nextinline"}, "edited": false, "score": 0, "creation_date": 1425501607, "post_id": 28863537, "comment_id": 45993987, "body": "If you can add the stacktrace to the post (renaming/obfuscating your lines of code as desired) that would help. Looking at the <a href=\"http://referencesource.microsoft.com/#System/net/System/URI.cs,1989\" rel=\"nofollow noreferrer\">.NET source</a> for WebRequest.Create shows that it&#39;s really only for a null/zero-length string that you&#39;ll get a &quot;URI is empty&quot; exception."}, {"owner": {"reputation": 2023, "user_id": 2761919, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/465666e277ab0e1f859b6fac0d726c0a?s=128&d=identicon&r=PG&f=1", "display_name": "MattB", "link": "https://stackoverflow.com/users/2761919/mattb"}, "reply_to_user": {"reputation": 1981, "user_id": 113374, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7WZv6.jpg?s=128&g=1", "display_name": "NextInLine", "link": "https://stackoverflow.com/users/113374/nextinline"}, "edited": false, "score": 0, "creation_date": 1425502321, "post_id": 28863537, "comment_id": 45994382, "body": "@NextInLine Posted some more info for you.  The string is just a hard coded string.  I don&#39;t really think the error is on my end, but if there is something I can do to prevent it I&#39;d like to do so.  Seems to be an error in .Net but I don&#39;t know for sure.  User has restarted and hasn&#39;t reported the error again - yet.  Happened a few times earlier today."}, {"owner": {"reputation": 1981, "user_id": 113374, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7WZv6.jpg?s=128&g=1", "display_name": "NextInLine", "link": "https://stackoverflow.com/users/113374/nextinline"}, "edited": false, "score": 0, "creation_date": 1425503552, "post_id": 28863537, "comment_id": 45995129, "body": "@MattB - a method that is as wide-used as this is pretty unlikely to have a bug in .NET. I&#39;d sooner suspect memory corruption on the user&#39;s machine, especially if it is intermittent. You could also try getting them to upgrade their .NET version if it persists to see if that fixes it."}, {"owner": {"reputation": 4875, "user_id": 1144624, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c640c2471d507b73b93d5cb34eaebfed?s=128&d=identicon&r=PG", "display_name": "Kcvin", "link": "https://stackoverflow.com/users/1144624/kcvin"}, "edited": false, "score": 0, "creation_date": 1425504228, "post_id": 28863537, "comment_id": 45995499, "body": "How are you generating the address that is being used in place of google.com?"}, {"owner": {"reputation": 2023, "user_id": 2761919, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/465666e277ab0e1f859b6fac0d726c0a?s=128&d=identicon&r=PG&f=1", "display_name": "MattB", "link": "https://stackoverflow.com/users/2761919/mattb"}, "reply_to_user": {"reputation": 4875, "user_id": 1144624, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c640c2471d507b73b93d5cb34eaebfed?s=128&d=identicon&r=PG", "display_name": "Kcvin", "link": "https://stackoverflow.com/users/1144624/kcvin"}, "edited": false, "score": 0, "creation_date": 1425507577, "post_id": 28863537, "comment_id": 45997273, "body": "@NETscape It is hard coded."}, {"owner": {"reputation": 2023, "user_id": 2761919, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/465666e277ab0e1f859b6fac0d726c0a?s=128&d=identicon&r=PG&f=1", "display_name": "MattB", "link": "https://stackoverflow.com/users/2761919/mattb"}, "reply_to_user": {"reputation": 1981, "user_id": 113374, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7WZv6.jpg?s=128&g=1", "display_name": "NextInLine", "link": "https://stackoverflow.com/users/113374/nextinline"}, "edited": false, "score": 0, "creation_date": 1425507746, "post_id": 28863537, "comment_id": 45997360, "body": "@NextInLine Correct, pretty unlikely.  I should have been more specific - I am guessing something is corrupted or something happened on his machine rather than a bug in .Net itself.  I guess we&#39;ll just see if it continues to happen.  It&#39;s annoying though.  I don&#39;t want to have to wrap everything in Try catch, but I&#39;ll have to rethink how I&#39;m doing some of this to give the user a chance to recover rather than booting them.  That&#39;s pretty rare though."}, {"owner": {"reputation": 2023, "user_id": 2761919, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/465666e277ab0e1f859b6fac0d726c0a?s=128&d=identicon&r=PG&f=1", "display_name": "MattB", "link": "https://stackoverflow.com/users/2761919/mattb"}, "edited": false, "score": 0, "creation_date": 1425664663, "post_id": 28863537, "comment_id": 46068854, "body": "The issue is continuing after restart.  Any ideas on how I could get closer to tracking down the root cause of this issue?"}], "answers": [{"tags": [], "owner": {"reputation": 10681, "user_id": 71380, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/42df379489c244d734385d29316b5d77?s=128&d=identicon&r=PG", "display_name": "St&#233;cy", "link": "https://stackoverflow.com/users/71380/st%c3%a9cy"}, "is_accepted": false, "score": 0, "last_activity_date": 1523621943, "creation_date": 1523621943, "answer_id": 49816833, "question_id": 28863537, "link": "https://stackoverflow.com/questions/28863537/system-uri-createthis-returning-uriformatexception-the-uri-is-empty-but-it/49816833#49816833", "title": "System.Uri.CreateThis returning UriFormatException - The URI is empty ... but it isn&#39;t", "body": "<p>I had the same problem and it was caused by an UTF8 string being passed as the URL.</p>\n\n<p>I had to copy the string to notepad++, convert it to hex and found out there was E2 80 8B characters starting the string before the http stuff.</p>\n\n<p>This prefix is the unicode indicator for UTF8.</p>\n\n<p>Retype the whole URL and it should go. Caution, erase the whole string and retype it, do not merely modify the string.</p>\n"}], "owner": {"reputation": 2023, "user_id": 2761919, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/465666e277ab0e1f859b6fac0d726c0a?s=128&d=identicon&r=PG&f=1", "display_name": "MattB", "link": "https://stackoverflow.com/users/2761919/mattb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4168, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1523621943, "creation_date": 1425498574, "last_edit_date": 1425502211, "question_id": 28863537, "link": "https://stackoverflow.com/questions/28863537/system-uri-createthis-returning-uriformatexception-the-uri-is-empty-but-it", "title": "System.Uri.CreateThis returning UriFormatException - The URI is empty ... but it isn&#39;t", "body": "<p>Here's an odd one that has come up a couple of times today.</p>\n\n<p>I have a WPF app that does some posts to a server.  I'm doing this using HttpWebRequest.Create.  In this instance, the URL that is being used is hard-coded.  Example:</p>\n\n<pre><code>Dim Request As HttpWebRequest = HttpWebRequest.Create(\"https://www.google.com/\")\n</code></pre>\n\n<p>That's really all the code I can offer, the exception is being generated from within the HttpWebRequest.Create method.  Running .Net 4.0 as far as I'm aware.</p>\n\n<p>I do C# as well, so if you have a suggestion and that is your \"native language\" then shoot.</p>\n\n<p>I've had a few asks so I thought I'd add to the rest of the surrounding code, but the line I've posted above is the line the exception is coming directly from.  You'll see it in context below, but it isn't very helpful.</p>\n\n<pre><code>Private Function edatRequest() As CookieCollection\n    Dim Request As HttpWebRequest = HttpWebRequest.Create(\"https://www.google.com/\")\n    With Request\n        .AllowAutoRedirect = False\n        .Method = \"POST\"\n        .Accept = \"*/*\"\n        .Headers.Add(\"Accept-Encoding:gzip,deflate\")\n        .Headers.Add(\"Accept-Language:en-US,en;q=0.8\")\n        .KeepAlive = True\n        .CookieContainer = Me.MyCredentials.MyCookies\n        .ContentLength = 0\n        .ContentType = \"application/x-www-form-urlencoded; charset=UTF-8\"\n        .Host = \"https://www.google.com/\"\n        .Headers.Add(\"Origin:https://www.google.com/\")\n        .Referer = \"https://wwww.google.com/\"\n        .UserAgent = \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.111 Safari/537.36\"\n    End With\n\n    Dim Response As HttpWebResponse = Request.GetResponse\n    Dim ResponseReader As New StreamReader(Response.GetResponseStream)\n    Dim ResponseText As String = ResponseReader.ReadToEnd\n\n    Dim ReturnCookies As New CookieContainer\n    ReturnCookies.Add(Response.Cookies)\n    Return ReturnCookies\nEnd Sub\n</code></pre>\n\n<p>EDIT:  Adding some stack trace information from our error notifier:</p>\n\n<pre><code>The application has encountered an unhandled exeption and must\nend.  Please forward the following information to (our \ndepartment):  System.UriFormatException: Invalid URI:  The URI is\nempty.\n    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind\nuriKind)\n    at System.Uri..ctor(String uriString)\n    at System.Net.WebRequest.Create(String requestUriString)\n    at AutoLib.Automation.edatRequest()\n    at AutoLib.Automation.LogIn()\n    at AutoLib.Automation.Submit(Request1 Request) &lt;- not actually a 1 - generic sub\n    at AutoTool.MainWindow.GetAuto()\n    at AutoTool.MainWindow.Lambda$_21()\n    at System.Threading.ThreadHelper.ThreadStart_Context(Object state)\n    at System.Threading.ExecutionContext.RunInternal(ExecutionContext\nexecutionContext, ContextCallback callback, Object state, Boolean\npreserveSyncCtx)\n    at System.Threading.ExecutionContext.Run(ExecutionContext\nexecutionContext, ContextCallback callback, Object state, Boolean\npreserveSyncCtx)\n    at System.Threading.ExecutionContext.Run(ExecutionContext\nexecutionContext, ContextCallback callback, Object state)\n    at System.Threading.ThreadHelper.ThreadStart()\n</code></pre>\n\n<p>There you go.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 8129, "user_id": 781366, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5c0e1561200995a99872fff2b7fb0a30?s=128&d=identicon&r=PG", "display_name": "ataravati", "link": "https://stackoverflow.com/users/781366/ataravati"}, "edited": false, "score": 0, "creation_date": 1425498622, "post_id": 28863526, "comment_id": 45992254, "body": "Is that whole thing just one text file? If yes, why have you formatted it like that?"}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1425498712, "post_id": 28863526, "comment_id": 45992291, "body": "Is the summary a single line? Or multiple lines? Either way, you need to keep track of what the last line with a media type was so you know where to put the summary."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1425498735, "post_id": 28863526, "comment_id": 45992299, "body": "this is not that difficult.. are you aware of the many free resources out there that yield tons of working examples in regards to reading a TextFile and Splitting a Textfile. do a google search on the following  <code>String.Split() and </code>ReadAllText Method(s)` can you edit your question and post a more accurate sample of the text file.. it appears that you have multiple delimiters ..if so then this is also very easy to split a string based on multiple delimiters.."}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 2925538, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4c598881fe4fdf51a9122390ce10d442?s=128&d=identicon&r=PG&f=1", "display_name": "khmer2040", "link": "https://stackoverflow.com/users/2925538/khmer2040"}, "edited": false, "score": 0, "creation_date": 1425499718, "post_id": 28863745, "comment_id": 45992883, "body": "Thank you so much for your advice, having to track of the current media makes a lot more sense. I really appreciate your prompt response :)"}], "tags": [], "owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "is_accepted": true, "score": 1, "last_activity_date": 1425499221, "creation_date": 1425499221, "answer_id": 28863745, "question_id": 28863526, "link": "https://stackoverflow.com/questions/28863526/read-and-separate-data-from-a-text-file/28863745#28863745", "title": "Read and separate data from a text file", "body": "<p>Assuming <code>Movie</code>, <code>Song</code> and <code>Book</code> are all sharing some common base class that is what the <code>media</code> array is (let's guess it's called <code>Media</code>). You just need to keep track of the <code>Media</code> instance you are dealing with. So, something like:</p>\n\n<pre><code>Media currentItem = null;\nwhile ((mediaRow = mediaData.ReadLine()) != null) // as long as there is more string data, the loop while continue\n{\n     if (mediaRow.StartsWith(\"BOOK\"))\n     {\n         // Do you book processing...\n         books[bookCount] = new Book(dataSplit[1].Trim(), year, dataSplit[3].Trim());\n         currentItem = books[bookCount];\n         // ....\n     }\n     else if (mediaRow.StartsWith(\"SONG\"))\n     {\n         // Do song processing\n     } \n     else if (mediaRow.StartsWith(\"MOVIE\"))\n     {\n         // Do movie processing\n     }\n     else\n     {\n         // this must be a summary for the previous item\n         // assuming Media has a summary property:\n         currentItem.Summary = mediaRow;\n     }\n}\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 2925538, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4c598881fe4fdf51a9122390ce10d442?s=128&d=identicon&r=PG&f=1", "display_name": "khmer2040", "link": "https://stackoverflow.com/users/2925538/khmer2040"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 28863745, "answer_count": 1, "score": -3, "last_activity_date": 1425499221, "creation_date": 1425498510, "last_edit_date": 1592644375, "question_id": 28863526, "link": "https://stackoverflow.com/questions/28863526/read-and-separate-data-from-a-text-file", "title": "Read and separate data from a text file", "body": "<p>I am having some issues trying to figure out how to read each line in a text file. The text file is used to store media objects such as books, songs and movies. Each media has a title, year, author/artist, and some have summaries that are encoded in rot13. I can read the lines that start with BOOK, SONG, MOVIE and used an if statement to read those lines and put the contents in to an array depending on the media type but I am not sure how to put the summaries along with the media type as it reads each line since I don't have if statements to check for lines that do not start with the media type. Text file and C# code below:</p>\n<p>Data.txt:</p>\n<blockquote>\n<p>BOOK|The Fellowship of the Ring|1954|J.R.R. Tolkien</p>\n<p>Fnheba, gur Qnex Ybeq, unf tngurerq gb uvz nyy gur Evatf bs Cbjre rkprcg bar - gur Bar Evat gung ehyrf gurz nyy - juvpu unf snyyra vagb gur unaqf bs gur uboovg Ovyob Onttvaf. Lbhat Sebqb Onttvaf svaqf uvzfrys snprq jvgu na vzzrafr gnfx jura Ovyob ragehfgf gur Evat gb uvf pner. Sebqb zhfg znxr n crevybhf wbhearl npebff Zvqqyr-rnegu gb gur Penpxf bs Qbbz, gurer gb qrfgebl gur Evat naq sbvy gur Qnex Ybeq va uvf rivy checbfr.</p>\n</blockquote>\n<hr />\n<blockquote>\n<p>SONG|Fly Me to the Moon|1964|It Might as Well be Swing|Frank Sinatra</p>\n</blockquote>\n<hr />\n<blockquote>\n<p>MOVIE|The Princess Bride|1987|Rob Reiner</p>\n<p>N xvaqyl tenaqsngure fvgf qbja jvgu uvf tenaqfba naq ernqf uvz n orqgvzr fgbel. Gur fgbel vf bar gung unf orra cnffrq qbja guebhtu sebz sngure gb fba sbe trarengvbaf. Nf gur tenaqsngure ernqf gur fgbel, gur npgvba pbzrf nyvir. Gur fgbel vf n pynffvp gnyr bs ybir naq nqiragher nf gur ornhgvshy Ohggrephc vf xvqanccrq naq uryq ntnvafg ure jvyy va beqre gb zneel gur bqvbhf Cevapr Uhzcreqvapx, naq Jrfgyrl (ure puvyqubbq ornh, abj erghearq nf gur Qernq Cvengr Eboregf) nggrzcgf gb fnir ure. Ba gur jnl ur zrrgf na nppbzcyvfurq fjbeqfzna naq n uhtr, fhcre fgebat tvnag, obgu bs jubz orpbzr uvf pbzcnavbaf va uvf dhrfg. Gurl zrrg n srj onq thlf nybat gur jnl gb erfphr Ohggrephc.</p>\n</blockquote>\n<p>C# script:</p>\n<pre><code>FileStream mediaFile = new FileStream(&quot;Data.txt&quot;, FileMode.Open, FileAccess.Read);\nStreamReader mediaData = new StreamReader(mediaFile);\n\nstring mediaRow; // temporary variable to hold the string data for each row\n\nwhile ((mediaRow = mediaData.ReadLine()) != null) // as long as there is more string data, the loop while continue\n{\n    if (mediaRow.StartsWith(&quot;BOOK&quot;))\n    {\n        string[] dataSplit = mediaRow.Split('|');\n\n        int year = 0;\n\n        bool didConvert = Int32.TryParse(dataSplit[2].Trim(), out year);\n\n        if (!didConvert)\n        {\n            Console.WriteLine(&quot;Year conversion error&quot;);\n            Environment.Exit(0);\n        }\n\n        books[bookCount] = new Book(dataSplit[1].Trim(), year, dataSplit[3].Trim());\n        media[mediaCount] = books[bookCount];\n\n        bookCount++;\n        mediaCount++;\n    }\n    else if (mediaRow.StartsWith(&quot;SONG&quot;))\n    {\n        string[] dataSplit = mediaRow.Split('|');\n\n        int year = 0;\n\n        bool didConvert = Int32.TryParse(dataSplit[2].Trim(), out year);\n\n        if (!didConvert)\n        {\n            Console.WriteLine(&quot;Year conversion error&quot;);\n            Environment.Exit(0);\n        }\n\n        songs[songCount] = new Song(dataSplit[1].Trim(), year, dataSplit[3].Trim(), dataSplit[4].Trim());\n        media[mediaCount] = songs[songCount];\n\n        songCount++;\n        mediaCount++;\n    }\n    else if (mediaRow.StartsWith(&quot;MOVIE&quot;))\n    {\n        string[] dataSplit = mediaRow.Split('|');\n\n        int year = 0;\n\n        bool didConvert = Int32.TryParse(dataSplit[2].Trim(), out year);\n\n        if (!didConvert)\n        {\n            Console.WriteLine(&quot;Year conversion error&quot;);\n            Environment.Exit(0);\n        }\n\n        movies[movieCount] = new Movie(dataSplit[1].Trim(), year, dataSplit[3].Trim());\n        media[mediaCount] = movies[movieCount];\n\n        movieCount++;\n        mediaCount++;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "gridview"], "comments": [{"owner": {"reputation": 686, "user_id": 1394339, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ugIX7.jpg?s=128&g=1", "display_name": "Elliot Rodriguez", "link": "https://stackoverflow.com/users/1394339/elliot-rodriguez"}, "edited": false, "score": 2, "creation_date": 1425498372, "post_id": 28863451, "comment_id": 45992126, "body": "Why not create a DataTable, List, or other object with a fixed set of empty rows and Bind it to the grid if the stored proc returns no rows? If named identically to the columns returned from the stored proc dataset, it should bind normally."}, {"owner": {"reputation": 499, "user_id": 1016665, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XWPKg.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1016665/steve"}, "reply_to_user": {"reputation": 686, "user_id": 1394339, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ugIX7.jpg?s=128&g=1", "display_name": "Elliot Rodriguez", "link": "https://stackoverflow.com/users/1394339/elliot-rodriguez"}, "edited": false, "score": 0, "creation_date": 1425498980, "post_id": 28863451, "comment_id": 45992450, "body": "I agree with @DeveloperDad.  Additionally, if you need a fixed number of rows and your data source returns data, but less than the required number of rows, it is easy to create blank rows to add to the DataTable (or list), then bind it."}, {"owner": {"reputation": 468, "user_id": 3056382, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7Pex1.jpg?s=128&g=1", "display_name": "Greg Van Gorp", "link": "https://stackoverflow.com/users/3056382/greg-van-gorp"}, "edited": false, "score": 0, "creation_date": 1425499063, "post_id": 28863451, "comment_id": 45992497, "body": "&quot;If named identically&quot;. That&#39;s the real part I&#39;m struggling with. What property should be set for this? I&#39;m looping and doing this...  DataRow dr = newSource.NewRow(); newSource.Rows.InsertAt(dr, i);"}, {"owner": {"reputation": 1761, "user_id": 311255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IVhgx.png?s=128&g=1", "display_name": "SelvaS", "link": "https://stackoverflow.com/users/311255/selvas"}, "edited": false, "score": 0, "creation_date": 1425499566, "post_id": 28863451, "comment_id": 45992798, "body": "@GregVanGorp possible put your code behind."}, {"owner": {"reputation": 3919, "user_id": 326040, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9c0f940a01e5226e1a4a42007e2aa3fb?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/326040/tim"}, "edited": false, "score": 0, "creation_date": 1425500196, "post_id": 28863451, "comment_id": 45993149, "body": "I&#39;ve seen something like this with an empty edit row at either the top or the bottom...is that what you need? You&#39;d add those into the footer..."}], "answers": [{"tags": [], "owner": {"reputation": 468, "user_id": 3056382, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7Pex1.jpg?s=128&g=1", "display_name": "Greg Van Gorp", "link": "https://stackoverflow.com/users/3056382/greg-van-gorp"}, "is_accepted": false, "score": 0, "last_activity_date": 1425501316, "creation_date": 1425501316, "answer_id": 28864380, "question_id": 28863451, "link": "https://stackoverflow.com/questions/28863451/inserting-blank-rows-into-an-aspgridview/28864380#28864380", "title": "Inserting blank rows into an asp:GridView", "body": "<p>The reason the rows weren't binding to the GridView was not because the rows didn't have the right column name set, it was because I didn't add the columns <em>to the DataTable</em>. This code was what I was missing:</p>\n\n<pre><code>DataTable newSource = new DataTable();\n\nnewSource.Columns.Add(\"AsOf\");\nnewSource.Columns.Add(\"Current\");\nnewSource.Columns.Add(\"Guideline\");\n\n// Now programatically add the rows that I needed\n</code></pre>\n"}], "owner": {"reputation": 468, "user_id": 3056382, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7Pex1.jpg?s=128&g=1", "display_name": "Greg Van Gorp", "link": "https://stackoverflow.com/users/3056382/greg-van-gorp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1230, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425501316, "creation_date": 1425498211, "last_edit_date": 1425499872, "question_id": 28863451, "link": "https://stackoverflow.com/questions/28863451/inserting-blank-rows-into-an-aspgridview", "title": "Inserting blank rows into an asp:GridView", "body": "<p>I have a stored procedure that brings back a record set that binds to an ASP:GridView. If the procedure can't find data that should be displayed and returns no records, I want blank rows inserted into the ASP GridView so that I can access the rows for assigning row header labels. This grid should have a <strong>static</strong> number of rows and each contains BoundFields and TemplateFields. What is required to insert these empty rows?</p>\n\n<pre><code>&lt;asp:GridView ID=\"myGrid\" runat=\"server\" OnRowDataBound=\"myGrid_rowBound\" AutoGenerateColumns=\"false\" Width=\"100%\"&gt;\n      &lt;Columns&gt;\n           &lt;asp:TemplateField&gt;\n               &lt;ItemTemplate&gt;\n                     &lt;asp:Label ID=\"lblRowHeader\" runat=\"server\"&lt;/asp:Label&gt;\n               &lt;/ItemTemplate&gt;\n           &lt;/asp:TemplateField&gt;\n           &lt;asp:BoundField DataField=\"AsOf\" DataFormatString=\"{0:F1}\" /&gt;\n           &lt;asp:TemplateField&gt;\n                &lt;ItemTemplate&gt;\n                      &lt;input type=\"text\" ID=\"txtToHire\" /&gt;\n                      &lt;asp:RegularExpressionValidator ID=\"rev\" runat=\"server\" ControlToValidate=\"txtToHire\" Display=\"None\" /&gt;\n                &lt;/ItemTemplate&gt;\n           &lt;/asp:TemplateField&gt;\n           &lt;asp:BoundField DataField=\"Current\" DataFormatString=\"{0:F1}\" /&gt;\n           &lt;asp:BoundField DataField=\"Guideline\" DataFormatString=\"{0:F1}\" /&gt;\n      &lt;/Columns&gt;\n&lt;/asp:GridView&gt;\n</code></pre>\n\n<p>Code behind:</p>\n\n<pre><code>// normal stored procedure call and binding\n// ....\n\nDataTable newSource = new DataTable();\nif (myGrid.Rows.Count == 0)\n{\n    for (int i = 0; i &lt; 2; i++)\n    {\n        DataRow dr = newSource.NewRow();\n        newSource.Rows.InsertAt(dr, i);\n    }\n\n    myGrid.DataSource = newSource;\n    myGrid.DataBind();\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "rotation"], "owner": {"reputation": 267, "user_id": 3880185, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0898bc3869d3661d87cd67e05258e6d7?s=128&d=identicon&r=PG&f=1", "display_name": "OpenGL97", "link": "https://stackoverflow.com/users/3880185/opengl97"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1425501279, "creation_date": 1425497545, "last_edit_date": 1425501279, "question_id": 28863249, "link": "https://stackoverflow.com/questions/28863249/set-2-axis-on-rotation", "title": "set 2 axis on rotation", "body": "<pre><code>    void LateUpdate () {\n    if (thirdPersonView)\n    {\n        transform.position = Vector3.Lerp(transform.position, camPos1.position, Time.deltaTime * smoothFollow);\n        transform.forward = Vector3.Lerp(transform.forward, camPos1.forward, Time.deltaTime * smoothFollow);\n    }\n    else\n    {\n        transform.position = camPos2.position;\n        transform.forward = camPos2.forward;\n    }\n}\n\nvoid Update() {\n    if (Input.GetButtonDown(\"View\"))\n        thirdPersonView = !thirdPersonView;\n\n    rotationY = Input.GetAxis(\"Mouse Y\");\n\n    transform.Rotate(Vector3.right, -rotationY);\n}\n</code></pre>\n\n<p>What I am trying to do is make the camera follow the player and when I use the mouse and moves it up and down the camera rotation should move too up and down. \nAs you can see I have tried that but this is not working right beacouse of the line:</p>\n\n<p>transform.forward = camPos2.forward;</p>\n\n<p>I have tried to split the forward to 3 part: the X Y Z and sets the X to transform.rotation but it is not working too.\nHow can I make it work?</p>\n"}, {"tags": ["c#", ".net", "regex"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1425497543, "post_id": 28863223, "comment_id": 45991635, "body": "<code>\\d</code> Also: do you literally mean a &quot;digit&quot; or a &quot;number&quot;?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1425498129, "post_id": 28863223, "comment_id": 45991980, "body": "You&#39;ve obviously searched for existing answers and found stuff like <a href=\"http://stackoverflow.com/questions/4792242/regex-to-get-number-only-from-string\" title=\"regex to get number only from string\">stackoverflow.com/questions/4792242/&hellip;</a>. Would you mind to clarify what problem you have applying solutions suggested in existing answers?"}], "answers": [{"comments": [{"owner": {"reputation": 7969, "user_id": 245008, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/489abe92989341856d15c12d3fba349a?s=128&d=identicon&r=PG", "display_name": "sanjeev40084", "link": "https://stackoverflow.com/users/245008/sanjeev40084"}, "edited": false, "score": 0, "creation_date": 1425498129, "post_id": 28863370, "comment_id": 45991979, "body": "is there a way to say find the number which is only in the string &#39;parameter[8]&#39; ?"}, {"owner": {"reputation": 7969, "user_id": 245008, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/489abe92989341856d15c12d3fba349a?s=128&d=identicon&r=PG", "display_name": "sanjeev40084", "link": "https://stackoverflow.com/users/245008/sanjeev40084"}, "edited": false, "score": 0, "creation_date": 1425498803, "post_id": 28863370, "comment_id": 45992335, "body": "var regexResult = Regex.Match(&quot;parameter[8]&quot;, @&quot;^parameter&#91;([0-9]+)&#93;$&quot;);   this returns &#39;paramter[8]&#39; as result. I thought it would return number 8 only."}, {"owner": {"reputation": 7969, "user_id": 245008, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/489abe92989341856d15c12d3fba349a?s=128&d=identicon&r=PG", "display_name": "sanjeev40084", "link": "https://stackoverflow.com/users/245008/sanjeev40084"}, "edited": false, "score": 0, "creation_date": 1425577403, "post_id": 28863370, "comment_id": 46029647, "body": "looks like it doesn&#39;t work if it has other words i.e. &#39;Command parameter[8] data..&#39;. Is there a way if i can get the number from sentence which has word parameter. More like check in this sentence, if it has parameter word and get the number inside the bracket of word parameter?"}, {"owner": {"reputation": 2282, "user_id": 3704475, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-F8g5oQDP6i4/AAAAAAAAAAI/AAAAAAAABys/zMyix6hW-5s/photo.jpg?sz=128", "display_name": "Amen Jlili", "link": "https://stackoverflow.com/users/3704475/amen-jlili"}, "reply_to_user": {"reputation": 7969, "user_id": 245008, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/489abe92989341856d15c12d3fba349a?s=128&d=identicon&r=PG", "display_name": "sanjeev40084", "link": "https://stackoverflow.com/users/245008/sanjeev40084"}, "edited": false, "score": 0, "creation_date": 1425579847, "post_id": 28863370, "comment_id": 46031162, "body": "change the pattern to &quot;parameter&#91;([0-9]+)&#93;&quot;"}], "tags": [], "owner": {"reputation": 2282, "user_id": 3704475, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-F8g5oQDP6i4/AAAAAAAAAAI/AAAAAAAABys/zMyix6hW-5s/photo.jpg?sz=128", "display_name": "Amen Jlili", "link": "https://stackoverflow.com/users/3704475/amen-jlili"}, "is_accepted": true, "score": 2, "last_activity_date": 1425499857, "last_edit_date": 1425499857, "creation_date": 1425497940, "answer_id": 28863370, "question_id": 28863223, "link": "https://stackoverflow.com/questions/28863223/get-number-from-the-string-using-regular-expression/28863370#28863370", "title": "Get Number from the string using regular expression", "body": "<p>Use the following pattern:</p>\n\n<pre><code>\\[([0-9]+)\\]\n</code></pre>\n\n<p>Demo: <a href=\"https://regex101.com/r/mE0rX2/2\" rel=\"nofollow noreferrer\">https://regex101.com/r/mE0rX2/2</a></p>\n\n<p><strong>Edit</strong>: If you want to restrict matches to strings in the form of \"<code>parameter[digits_here]</code>\", use the following pattern:</p>\n\n<pre><code>^parameter\\[([0-9]+)\\]$\n</code></pre>\n\n<p>Demo: <a href=\"https://regex101.com/r/xE3tY4/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/xE3tY4/1</a></p>\n\n<p><strong>Edit1:</strong> Code snippet in VB.net. Hopefully, you can translate that to C#</p>\n\n<pre><code>Imports System.Text.RegularExpressions\n\n    Module Module1\n\n        Sub Main()\n            Dim str As String : str = \"parameter[8]\"\n            Dim regex As New Regex(\"^parameter\\[([0-9]+)\\]$\")\n            For Each m In regex.Matches(str)\n                MsgBox(m.groups(1).ToString)\n            Next\n        End Sub\n\n    End Module\n</code></pre>\n\n<p>output:\n<img src=\"https://i.stack.imgur.com/zqlKU.png\" alt=\"enter image description here\"></p>\n"}, {"tags": [], "owner": {"reputation": 22524, "user_id": 285795, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/597432bc4cb512372176db67c6fba151?s=128&d=identicon&r=PG", "display_name": "\u03a9megaMan", "link": "https://stackoverflow.com/users/285795/%ce%a9megaman"}, "is_accepted": false, "score": 0, "last_activity_date": 1425502427, "creation_date": 1425502427, "answer_id": 28864723, "question_id": 28863223, "link": "https://stackoverflow.com/questions/28863223/get-number-from-the-string-using-regular-expression/28864723#28864723", "title": "Get Number from the string using regular expression", "body": "<p>If the number is going to be the only number in the string then simply the pattern by just searching for a number:</p>\n\n<p><code>\\d+</code> - Which says match on a number <code>+</code> one or more.</p>\n"}], "owner": {"reputation": 7969, "user_id": 245008, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/489abe92989341856d15c12d3fba349a?s=128&d=identicon&r=PG", "display_name": "sanjeev40084", "link": "https://stackoverflow.com/users/245008/sanjeev40084"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 28863370, "answer_count": 2, "score": 0, "last_activity_date": 1425503222, "creation_date": 1425497473, "last_edit_date": 1425498170, "question_id": 28863223, "link": "https://stackoverflow.com/questions/28863223/get-number-from-the-string-using-regular-expression", "title": "Get Number from the string using regular expression", "body": "<p>I am trying to capture number from my error message i.e something like this </p>\n\n<blockquote>\n  <p>Command parameter[8] '' data value could not be converted for reasons</p>\n</blockquote>\n\n<p>Does anyone know how to get the number i.e. 8 from the following string using regular expression in c#?</p>\n"}, {"tags": ["c#", "api", "rest", "curl", "parse-platform"], "answers": [{"tags": [], "owner": {"reputation": 5324, "user_id": 135702, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GoD88.png?s=128&g=1", "display_name": "Sebastiaan M", "link": "https://stackoverflow.com/users/135702/sebastiaan-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1425497506, "creation_date": 1425497506, "answer_id": 28863239, "question_id": 28863182, "link": "https://stackoverflow.com/questions/28863182/parse-com-integration-gives-bad-request-error/28863239#28863239", "title": "Parse.com Integration gives Bad request error", "body": "<p>DATA is missing a closing brace.</p>\n"}], "owner": {"reputation": 284, "user_id": 1929889, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/t5m8a.jpg?s=128&g=1", "display_name": "LojiSmith", "link": "https://stackoverflow.com/users/1929889/lojismith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 28863239, "answer_count": 1, "score": 0, "last_activity_date": 1425497506, "creation_date": 1425497368, "question_id": 28863182, "link": "https://stackoverflow.com/questions/28863182/parse-com-integration-gives-bad-request-error", "title": "Parse.com Integration gives Bad request error", "body": "<p>In my web Admin, i have to integrate the Parse.com push notification to send  the push notifications to subscribers.</p>\n\n<p>My question is </p>\n\n<blockquote>\n  <p>Do i need to integrate REST APIs with curl in my asp.net admin? or\n  there is any other standard C# SDK to implement?</p>\n</blockquote>\n\n<p>If answer is REST Api then documentation for integrating with the REST api has following example.</p>\n\n<blockquote>\n  <p>curl -X POST \\</p>\n  \n  <p>-H \"X-Parse-Application-Id: \" \\</p>\n  \n  <p>-H \"X-Parse-REST-API-Key: \" \\</p>\n  \n  <p>-H \"Content-Type: application/json\" \\</p>\n  \n  <p>-d '{\"score\":1337}' \\</p>\n  \n  <p><a href=\"https://api.parse.com/1/classes/GameScore\" rel=\"nofollow\">https://api.parse.com/1/classes/GameScore</a></p>\n</blockquote>\n\n<p>I have started to integrate the REST API by setting up a test console application to test the urls. The application i developed has following code.</p>\n\n<pre><code>    class Program\n{\n    private const string URL = \"https://api.parse.com/1/classes/GameScore\";\n    private const string DATA = @\"{\"\"score\"\":1337\";\n\n    static void Main(string[] args)\n    {\n        Program.CreateObject();\n        Console.ReadLine();\n    }\n\n    private static void CreateObject()\n    {\n        HttpWebRequest request = (HttpWebRequest)WebRequest.Create(URL);\n        request.Method = \"POST\";\n        request.ContentType = \"application/json\";\n        request.Headers.Add(\"X-Parse-Application-Id\", \"My Application ID given in example\");\n        request.Headers.Add(\"X-Parse-REST-API-Key\", \"the api key given in example\");\n        request.ContentLength = DATA.Length;\n        StreamWriter requestWriter = new StreamWriter(request.GetRequestStream(), System.Text.Encoding.ASCII);\n        requestWriter.Write(DATA);\n        requestWriter.Close();\n\n        try\n        {\n            WebResponse webResponse = request.GetResponse();\n            Stream webStream = webResponse.GetResponseStream();\n            StreamReader responseReader = new StreamReader(webStream);\n            string response = responseReader.ReadToEnd();\n            Console.Out.WriteLine(response);\n            responseReader.Close();\n        }\n        catch (Exception e)\n        {\n            Console.Out.WriteLine(\"-----------------\");\n            Console.Out.WriteLine(e.Message);\n        }\n    }\n}\n</code></pre>\n\n<p>The code gives a <strong>400 Bad request error</strong></p>\n\n<p>I don't understand what i am missing.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c#", "asp.net-mvc", "razor"], "comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1425497143, "post_id": 28863073, "comment_id": 45991410, "body": "&quot; it doesn&#39;t perform an action&quot;? Does not align with the rest of the question... Sample HTML can help (also I suspect it is default &quot;submit&quot; button)."}, {"owner": {"reputation": 1373, "user_id": 2406472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Spx0M.jpg?s=128&g=1", "display_name": "wgraham", "link": "https://stackoverflow.com/users/2406472/wgraham"}, "edited": false, "score": 0, "creation_date": 1425497319, "post_id": 28863073, "comment_id": 45991515, "body": "ASP.NET MVC is not Web Forms. Buttons do not automatically trigger a <code>Click</code> event in your code."}, {"owner": {"reputation": 22481, "user_id": 162167, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/MIM9R.jpg?s=128&g=1", "display_name": "Will Marcouiller", "link": "https://stackoverflow.com/users/162167/will-marcouiller"}, "edited": false, "score": 0, "creation_date": 1425497413, "post_id": 28863073, "comment_id": 45991564, "body": "As Alexei said, this is probably a &quot;submit&quot; button, whereas in your code is found <code>@Html.BeginForm()</code> or the like. The cshtml view code would be necessary to see what it&#39;s all about."}, {"owner": {"reputation": 5505, "user_id": 2961675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f108cc19c95f3572ee954779a866bfdf?s=128&d=identicon&r=PG", "display_name": "Praveen Paulose", "link": "https://stackoverflow.com/users/2961675/praveen-paulose"}, "edited": false, "score": 0, "creation_date": 1425497427, "post_id": 28863073, "comment_id": 45991570, "body": "It <b>doesn&#39;t</b> perform an action or it <b>does</b> perform an action?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "reply_to_user": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1425498822, "post_id": 28863073, "comment_id": 45992352, "body": "@CodeCaster <code>&lt;button &#47;&gt;</code> has <code>type=submit</code> by default... <a href=\"http://www.w3.org/wiki/HTML/Elements/button\" rel=\"nofollow noreferrer\">w3.org/wiki/HTML/Elements/button</a>"}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1425498958, "post_id": 28863073, "comment_id": 45992439, "body": "@Alexei wow, that has changed, I&#39;ll remove my comment."}], "answers": [{"comments": [{"owner": {"reputation": 2023, "user_id": 4220169, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b71b07b928c4eddd58f75cf9465d3376?s=128&d=identicon&r=PG", "display_name": "David P", "link": "https://stackoverflow.com/users/4220169/david-p"}, "edited": false, "score": 0, "creation_date": 1425497840, "post_id": 28863207, "comment_id": 45991815, "body": "If you don&#39;t want the button to submit you can can always add a onSubmit = &quot;return MyValidator()&quot; to your BeginForm and then build a javascript function that only returns true if certain conditions exist."}], "tags": [], "owner": {"reputation": 5505, "user_id": 2961675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f108cc19c95f3572ee954779a866bfdf?s=128&d=identicon&r=PG", "display_name": "Praveen Paulose", "link": "https://stackoverflow.com/users/2961675/praveen-paulose"}, "is_accepted": false, "score": 0, "last_activity_date": 1425497437, "creation_date": 1425497437, "answer_id": 28863207, "question_id": 28863073, "link": "https://stackoverflow.com/questions/28863073/how-is-button-connected-in-asp-net-mvc-app/28863207#28863207", "title": "How is button connected in asp.net MVC app?", "body": "<p>By virtue of the button being defined within the Html.BeginForm braces, the button click is wired to perform a POST submission with the form data.</p>\n"}, {"comments": [{"owner": {"reputation": 40992, "user_id": 40106, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/164ca8ba426bdb10381290b9617d3ea7?s=128&d=identicon&r=PG&f=1", "display_name": "4thSpace", "link": "https://stackoverflow.com/users/40106/4thspace"}, "edited": false, "score": 0, "creation_date": 1425498226, "post_id": 28863331, "comment_id": 45992033, "body": "The controller still needs to know about the button to handle the click."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "reply_to_user": {"reputation": 40992, "user_id": 40106, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/164ca8ba426bdb10381290b9617d3ea7?s=128&d=identicon&r=PG&f=1", "display_name": "4thSpace", "link": "https://stackoverflow.com/users/40106/4thspace"}, "edited": false, "score": 0, "creation_date": 1425499141, "post_id": 28863331, "comment_id": 45992544, "body": "@4thSpace please edit the question to align with accepted answer. Should be something along the lines &quot;how ASP.Net MVC works compared to WebForms&quot; rather than why particular button does/does not do something."}, {"owner": {"reputation": 40992, "user_id": 40106, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/164ca8ba426bdb10381290b9617d3ea7?s=128&d=identicon&r=PG&f=1", "display_name": "4thSpace", "link": "https://stackoverflow.com/users/40106/4thspace"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1425499232, "post_id": 28863331, "comment_id": 45992603, "body": "@AlexeiLevenkov How is it any different?  It&#39;s the same result.  Besides, it won&#39;t do anything for the down votes."}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "reply_to_user": {"reputation": 40992, "user_id": 40106, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/164ca8ba426bdb10381290b9617d3ea7?s=128&d=identicon&r=PG&f=1", "display_name": "4thSpace", "link": "https://stackoverflow.com/users/40106/4thspace"}, "edited": false, "score": 1, "creation_date": 1425499368, "post_id": 28863331, "comment_id": 45992673, "body": "@4thSpace at least change the obviously wrong &quot;it doesn&#39;t perform an action&quot;. You might be surprised of what fixing your question does to downvotes."}, {"owner": {"reputation": 40992, "user_id": 40106, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/164ca8ba426bdb10381290b9617d3ea7?s=128&d=identicon&r=PG&f=1", "display_name": "4thSpace", "link": "https://stackoverflow.com/users/40106/4thspace"}, "edited": false, "score": 0, "creation_date": 1425499854, "post_id": 28863331, "comment_id": 45992956, "body": "That was my original point of view.  You&#39;re asking me to add info into the question now that others have contributed additional info.  If I posted questions and kept modifying them based on all the additional info in comments and answers provided, no one will ever know what the original question was.  It can also make the comments/answers confusing or even irrelevant.  I really don&#39;t care about the down votes.  You get them by default."}], "tags": [], "owner": {"reputation": 19021, "user_id": 922198, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/RKeIA.png?s=128&g=1", "display_name": "Parimal Raj", "link": "https://stackoverflow.com/users/922198/parimal-raj"}, "is_accepted": true, "score": 2, "last_activity_date": 1425498674, "last_edit_date": 1425498674, "creation_date": 1425497834, "answer_id": 28863331, "question_id": 28863073, "link": "https://stackoverflow.com/questions/28863073/how-is-button-connected-in-asp-net-mvc-app/28863331#28863331", "title": "How is button connected in asp.net MVC app?", "body": "<p>I think you are a little confused on how ASP.NET <code>WebForm</code> and <code>MVC</code> works.</p>\n\n<p>While <code>WebForm</code> is very much similar to <code>WinForms</code> , in a sense that controls can have events that gives it a sense of Stateful appearance, <code>MVC</code> is not the same, it <strong>embraces</strong> the <code>stateless</code> nature of HTTP. </p>\n\n<p>In <code>MVC</code> when a button is clicked, it is usually associated with a <code>controller</code>and a <code>action</code> to which it posts the data. So, a button click is translated to action on a control same like method invocation in a <code>WebForm</code>.</p>\n\n<hr>\n\n<p><strong><em>Q. The controller still needs to know about the button to handle the click?</em></strong></p>\n\n<hr>\n\n<p>there is no existence of control on server side, its the downside (+side from my view) of being stateless. <strong>In MVC there is no click</strong>, but only method invocation on the controllers.</p>\n\n<p>A same action can be invoked using 10 different buttons. If u can share the code of <code>&lt;view&gt;.cshtml</code> then may be I can help a little bit more.</p>\n"}, {"tags": [], "owner": {"reputation": 1427, "user_id": 1096961, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eaada4c45f63a762d1303f4dd2fbbf7f?s=128&d=identicon&r=PG", "display_name": "Tabish Sarwar", "link": "https://stackoverflow.com/users/1096961/tabish-sarwar"}, "is_accepted": false, "score": 1, "last_activity_date": 1425497849, "creation_date": 1425497849, "answer_id": 28863337, "question_id": 28863073, "link": "https://stackoverflow.com/questions/28863073/how-is-button-connected-in-asp-net-mvc-app/28863337#28863337", "title": "How is button connected in asp.net MVC app?", "body": "<p>There could be java script in a separate file. In that JavaScript file there must be click handler attached that must be calling your action in controller via whatever mechanism.</p>\n\n<p>To begin with .. Search in your project where else that button id is used.\nThat could be the point where you can start tracing...</p>\n"}], "owner": {"reputation": 40992, "user_id": 40106, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/164ca8ba426bdb10381290b9617d3ea7?s=128&d=identicon&r=PG&f=1", "display_name": "4thSpace", "link": "https://stackoverflow.com/users/40106/4thspace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 28863331, "answer_count": 3, "score": -2, "last_activity_date": 1425498683, "creation_date": 1425497034, "question_id": 28863073, "link": "https://stackoverflow.com/questions/28863073/how-is-button-connected-in-asp-net-mvc-app", "title": "How is button connected in asp.net MVC app?", "body": "<p>I have an asp.net MVC app.  There is a <code>&lt;button&gt;</code> in a .cshtml file.  The button only has an <code>id</code>.  There isn't any javascript associated with it.  I don't see this button name in any of the controllers.</p>\n\n<p>Yet, when the button is clicked, it doesn't perform an action.  How do I trace down what is triggering the button action once it is clicked?</p>\n"}, {"tags": ["c#", "android", "xamarin", "finalizer"], "answers": [{"comments": [{"owner": {"reputation": 1021, "user_id": 721872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52288a83a1467198a7bbcb8108c8afa4?s=128&d=identicon&r=PG", "display_name": "rarrarrarrr", "link": "https://stackoverflow.com/users/721872/rarrarrarrr"}, "edited": false, "score": 5, "creation_date": 1425534974, "post_id": 28868582, "comment_id": 46005337, "body": "&quot;This is actually remarkably complicated&quot; &lt;------any answer that starts with this is going to be a good one."}, {"owner": {"reputation": 5625, "user_id": 1850606, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9371d959d3460b285f7f5f679a45c73?s=128&d=identicon&r=PG", "display_name": "xleon", "link": "https://stackoverflow.com/users/1850606/xleon"}, "edited": false, "score": 1, "creation_date": 1451172300, "post_id": 28868582, "comment_id": 56694157, "body": "This info is very useful. StrictMode rocks"}, {"owner": {"reputation": 143, "user_id": 2794052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R5QB.png?s=128&g=1", "display_name": "Huy.Vu", "link": "https://stackoverflow.com/users/2794052/huy-vu"}, "edited": false, "score": 0, "creation_date": 1617178103, "post_id": 28868582, "comment_id": 118228373, "body": "The StrictMode seem to be working only with Activities, is there anyway that we can do it for Fragments as well? Because it does like StrictMode does not display any leaks information regarding Fragments."}], "tags": [], "owner": {"reputation": 11143, "user_id": 1099111, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p0VQa.jpg?s=128&g=1", "display_name": "matthewrdev", "link": "https://stackoverflow.com/users/1099111/matthewrdev"}, "is_accepted": true, "score": 28, "last_activity_date": 1468296082, "last_edit_date": 1468296082, "creation_date": 1425519988, "answer_id": 28868582, "question_id": 28863058, "link": "https://stackoverflow.com/questions/28863058/xamarin-android-finalizer-not-getting-called-when-leaving-the-activity-to-go-to/28868582#28868582", "title": "Xamarin Android Finalizer not getting called when leaving the activity to go to another Activity", "body": "<p>This is actually remarkably complicated; the short answer, regarding the activity still being alive, is yes and no. Providing you have cleaned up the resources for your <code>Activity</code> correctly, your activity will be cleaned up (eventually) by the garbage collector. </p>\n\n<p>Regarding cleanup, it's import to know that <a href=\"http://www.slideshare.net/Xamarin/advanced-memory-management-on-ios-and-android-mark-probst-and-rodrigo-kumpera\" rel=\"noreferrer\">Xamarin discourages (slide 44 onwards)</a> using finalizers. Here's why:</p>\n\n<blockquote>\n  <ul>\n  <li>They are not guaranteed to run within any deadline.</li>\n  <li>They don't run in a specific sequence.</li>\n  <li>They make objects live longer.</li>\n  <li>The GC doesn't know about unmanaged resources.</li>\n  </ul>\n</blockquote>\n\n<p>Therefore, using a finalizer to perform cleanup is the wrong way of doing things... If you want to ensure that <code>MainActivity</code> is destroyed, manually dispose the <code>Activity</code> in it's <code>OnDestroy</code> callback:</p>\n\n<pre><code>protected override void OnDestroy ()\n{\n    base.OnDestroy ();\n    this.Dispose (); // Sever java binding.\n}\n</code></pre>\n\n<p>This will cause Mono to break the <a href=\"http://developer.xamarin.com/guides/android/advanced_topics/garbage_collection/#Object_Cycles\" rel=\"noreferrer\">peer object</a> connection and destroy the activity during the next garbage collection cycle (<code>GC.Collect(GC.MaxGeneration)</code>). From the docs:</p>\n\n<blockquote>\n  <p>To shorten object lifetime, Java.Lang.Object.Dispose() should be invoked. This will manually \"sever\" the connection on the object between the two VMs by freeing the global reference, thus allowing the objects to be collected faster.</p>\n</blockquote>\n\n<p>Note the call order there, <code>this.Dispose()</code> <strong>must</strong> be called <em>after</em> any code that invokes back into Android land. Why? All the connections between Java and .NET are now broken to allow Android to reclaim resources so any code that uses Android-land objects (Fragment, Activity, Adapter) will fail.</p>\n\n<p>Now, onto some debugging techniques for Activity leaks. To verify that your activity is being cleaned up, add the following code to the <code>OnCreate</code> method of your apps entry <code>Activity</code>:</p>\n\n<pre><code>var vmPolicy = new StrictMode.VmPolicy.Builder ();\nStrictMode.SetVmPolicy (vmPolicy.DetectActivityLeaks().PenaltyLog().Build ());\n</code></pre>\n\n<p>This enables <a href=\"http://developer.android.com/reference/android/os/StrictMode.html\" rel=\"noreferrer\"><code>StrictMode</code></a>, a useful debugging tool that happily informs you when you've leaked resources. When one of your apps activities isn't released correctly, it will dump something like this to the output stream:</p>\n\n<pre><code>[StrictMode] class activitydispose.LeakyActivity; instances=2; limit=1\n[StrictMode] android.os.StrictMode$InstanceCountViolation: class activitydispose.LeakyActivity; instances=2; limit=1\n[StrictMode]    at android.os.StrictMode.setClassInstanceLimit(StrictMode.java:1)\n</code></pre>\n\n<p>Combining this with the <code>Dispose()</code> call, you can check that activities are being released. Here is how you'd typically an <code>Activity</code> and its resources in Xamarin.Android:</p>\n\n<pre><code>protected override void Dispose (bool disposing)\n{\n    // TODO: Dispose logic here.\n    base.Dispose (disposing);\n    GC.Collect(GC.MaxGeneration); // Will force cleanup but not recommended.\n}\n\nprotected override void OnDestroy ()\n{\n    if (density != null) { // Release Java objects (buttons, adapters etc) here\n        density.Dispose ();\n        density = null;\n    }\n    base.OnDestroy ();\n    this.Dispose (); // Sever java binding.\n}\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 2969318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4172d063bc12a89e2d998674ad4c648e?s=128&d=identicon&r=PG&f=1", "display_name": "QWill", "link": "https://stackoverflow.com/users/2969318/qwill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3245, "favorite_count": 9, "accepted_answer_id": 28868582, "answer_count": 1, "score": 8, "last_activity_date": 1468296082, "creation_date": 1425496963, "question_id": 28863058, "link": "https://stackoverflow.com/questions/28863058/xamarin-android-finalizer-not-getting-called-when-leaving-the-activity-to-go-to", "title": "Xamarin Android Finalizer not getting called when leaving the activity to go to another Activity", "body": "<p>The Finalizer is never called after leaving the activity.  Does that mean the activity is still alive even though I moved on to the next activity.</p>\n\n<pre><code>namespace XamarinTest {\n[Activity(Label = \"XamarinTest\", Icon = \"@drawable/icon\")]\npublic class MainActivity : Activity {\n    private int count = 1;\n\n    private TextView density;\n\n    protected override void OnCreate(Bundle bundle) {\n        base.OnCreate(bundle);\n        // Set our view from the \"main\" layout resource\n        SetContentView(Resource.Layout.ScreenData);\n        density = FindViewById&lt;TextView&gt;(Resource.Id.Density);\n\n        var pendingInent = new Intent();\n        pendingInent.SetFlags(ActivityFlags.ClearTop);\n        pendingInent.SetClass(this, typeof(TestActivity));\n        StartActivity(pendingInent);\n        Finish();\n    }\n\n\n    ~MainActivity() {\n\n        Console.WriteLine(\"Finalizer called\");\n    }\n\n  protected override void Dispose(bool disposing){\n        if (disposing) {\n            density.Dispose();\n            density = null;\n        }\n        base.Dispose(disposing);\n    }\n\n  }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc-5", "asp.net-identity"], "comments": [{"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1425496564, "post_id": 28862906, "comment_id": 45991085, "body": "Add <code>using System.Linq;</code>"}, {"owner": {"reputation": 3, "user_id": 3892853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10740ef2e53eb60b3964692a6b2d18de?s=128&d=identicon&r=PG&f=1", "display_name": "RPAZ", "link": "https://stackoverflow.com/users/3892853/rpaz"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1425496823, "post_id": 28862906, "comment_id": 45991236, "body": "I followed this tutorial without problems: <a href=\"http://benfoster.io/blog/aspnet-identity-stripped-bare-mvc-part-1\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 3, "user_id": 3892853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10740ef2e53eb60b3964692a6b2d18de?s=128&d=identicon&r=PG&f=1", "display_name": "RPAZ", "link": "https://stackoverflow.com/users/3892853/rpaz"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1425497231, "post_id": 28862906, "comment_id": 45991463, "body": "@p.s.w.g Thanks, Visual Studio didn&#39;t show me what using directive I needed to use, I added it and that solved the problem"}], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 3892853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10740ef2e53eb60b3964692a6b2d18de?s=128&d=identicon&r=PG&f=1", "display_name": "RPAZ", "link": "https://stackoverflow.com/users/3892853/rpaz"}, "is_accepted": true, "score": 0, "last_activity_date": 1425497879, "creation_date": 1425497879, "answer_id": 28863350, "question_id": 28862906, "link": "https://stackoverflow.com/questions/28862906/find-user-by-custom-property-identity-asp-net-mvc/28863350#28863350", "title": "Find user by custom property identity asp.Net mvc", "body": "<p>The problem was that Visual Studio didn't suggest me any dependencies to resolve, and i didn't know which directive needed to use,</p>\n\n<p>I added </p>\n\n<pre><code>using System.Linq;\n</code></pre>\n\n<p>and that solved the problem</p>\n\n<p>Thanks @p.s.w.g for helping me</p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 3855971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8ebbc6fe199c9167b3911f71e801eba?s=128&d=identicon&r=PG&f=1", "display_name": "Alejo Ferrand", "link": "https://stackoverflow.com/users/3855971/alejo-ferrand"}, "edited": false, "score": 0, "creation_date": 1505850539, "post_id": 28864338, "comment_id": 79579283, "body": "Update:It&#39;s posible to use alt+enter and Visual Studio will suggest to add the using or include inline the respective namespace in the first and second options respectively."}], "tags": [], "owner": {"reputation": 71, "user_id": 3855971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8ebbc6fe199c9167b3911f71e801eba?s=128&d=identicon&r=PG&f=1", "display_name": "Alejo Ferrand", "link": "https://stackoverflow.com/users/3855971/alejo-ferrand"}, "is_accepted": false, "score": 1, "last_activity_date": 1425501206, "creation_date": 1425501206, "answer_id": 28864338, "question_id": 28862906, "link": "https://stackoverflow.com/questions/28862906/find-user-by-custom-property-identity-asp-net-mvc/28864338#28864338", "title": "Find user by custom property identity asp.Net mvc", "body": "<p>In Visual Studio, you can rollover the error line and it will suggest the appropriate missing <code>using</code>.</p>\n\n<p>Remember to included in your code the <code>.SingleOrDefault()</code> statement in line:</p>\n\n<pre><code>var found = adb.Users.Where(u =&gt; u.Token == \"ABDJ_SJ_ETC\").SingleOrDefault()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 512, "user_id": 7339584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da292ef05a920b379c6f31d5b33c87a?s=128&d=identicon&r=PG&f=1", "display_name": "pejman", "link": "https://stackoverflow.com/users/7339584/pejman"}, "is_accepted": false, "score": 0, "last_activity_date": 1509431440, "creation_date": 1509431440, "answer_id": 47029166, "question_id": 28862906, "link": "https://stackoverflow.com/questions/28862906/find-user-by-custom-property-identity-asp-net-mvc/47029166#47029166", "title": "Find user by custom property identity asp.Net mvc", "body": "<p>use bottom code for get custom <strong>ApplicationUser</strong> in identity with custom property</p>\n\n<pre><code>var context=new AuthContext();\nvar result=context.Users.OfType&lt;ApplicationUser&gt;.SingleOrDefault(item =&gt; item.NationalCode == \"\");\n</code></pre>\n\n<p><strong>NationalCode</strong> is custom property in <strong>ApplicationUser</strong> \n<strong>ApplicationUser</strong> is custom user that implement IdentityUser</p>\n\n<pre><code>public class ApplicationUser :  IdentityUser\n{\n    public string NationalCode { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 3892853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10740ef2e53eb60b3964692a6b2d18de?s=128&d=identicon&r=PG&f=1", "display_name": "RPAZ", "link": "https://stackoverflow.com/users/3892853/rpaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1295, "favorite_count": 0, "accepted_answer_id": 28863350, "answer_count": 3, "score": 0, "last_activity_date": 1509431440, "creation_date": 1425496494, "question_id": 28862906, "link": "https://stackoverflow.com/questions/28862906/find-user-by-custom-property-identity-asp-net-mvc", "title": "Find user by custom property identity asp.Net mvc", "body": "<p>I am trying to find an user that has a custom property \"Token\" that I added with database migration, I tried to use:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var adb = new AppDbContext();\nvar found = adb.Users.Where(u =&gt; u.Token == \"ABDJ_SJ_ETC\");//Error\n//OR found = adb.Users.SingleOrDefault(); Error too\n</code></pre>\n\n<p>My AppDbContext class</p>\n\n<p>AppDbContext.cs\n</p>\n\n<pre><code>namespace MyApp{\n    public class AppDbContext : IdentityDbContext&lt;AppUser&gt;{\n         public AppDbContext(): base(\"DefaultConnection\"){}\n    }\n}\n</code></pre>\n\n<p>AppUser.cs\n</p>\n\n<pre><code>namespace MyApp{\n    public class AppUser : IdentityUser{\n        public string Token {get;set;}\n    }\n}\n</code></pre>\n\n<p>The error is \"System.Data.Entity.IDbSet does not contain a definition for 'Where' and no extension method 'Where' accepting a first argument of type 'System.Data.Entity.IDbSet could be found (are you missing a using directive or an assembly reference?)</p>\n\n<p>Without the Where line my app runs correctly, add Users to db with my Token, etc.\nWhat i need to do to find an AppUser by that custom field??</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1425496198, "post_id": 28862799, "comment_id": 45990862, "body": "You can&#39;t. One request equals one response."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3846317"}, "reply_to_user": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1425496270, "post_id": 28862799, "comment_id": 45990913, "body": "@CodeCaster: Is there any other way to do that?"}, {"owner": {"reputation": 548, "user_id": 4610451, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c5db99a25c0b9310da053c50b0ee0500?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Sharma", "link": "https://stackoverflow.com/users/4610451/gaurav-sharma"}, "edited": false, "score": 1, "creation_date": 1425496881, "post_id": 28862799, "comment_id": 45991269, "body": "Is there a reason why can&#39;t you show the message before Response.End?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1425497845, "post_id": 28862799, "comment_id": 45991818, "body": "Side note: I strongly suspect this is daily delete/repost of the question... If this is the case instead of deleting you should have linked to old question and clarify what was not solved with deleted one."}], "answers": [{"tags": [], "owner": {"reputation": 93814, "user_id": 1659, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6cc331c477243ced5ff968a32a7dd14f?s=128&d=identicon&r=PG", "display_name": "Mark Cidade", "link": "https://stackoverflow.com/users/1659/mark-cidade"}, "is_accepted": false, "score": 0, "last_activity_date": 1425503269, "creation_date": 1425503269, "answer_id": 28864957, "question_id": 28862799, "link": "https://stackoverflow.com/questions/28862799/need-to-show-the-message-after-response-end/28864957#28864957", "title": "Need to show the message after Response.End()", "body": "<p>Once you call <code>Response.End()</code>, nothing else can be sent to the client. You will have to send anything before the call to <code>Response.End()</code>, e.g., by using <code>Response.Write()</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3846317"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 481, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1425503269, "creation_date": 1425496108, "question_id": 28862799, "link": "https://stackoverflow.com/questions/28862799/need-to-show-the-message-after-response-end", "title": "Need to show the message after Response.End()", "body": "<p>I am using Aspose.Cells to download the file and I am using following code</p>\n\n<pre><code>workbook.Save(this.Response, wbookName, ContentDisposition.Attachment, new OoxmlSaveOptions());\nthis.Response.End();\n</code></pre>\n\n<p>Now I want to show a message for download completed on my web page but I am unable to do that. \nHow I can show the message on my web page that file has been downloaded?</p>\n"}, {"tags": ["c#", "windows", "encryption", "tpm", "trusted-computing"], "comments": [{"owner": {"reputation": 4087, "user_id": 43679, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b2461fc1273954dde45f8af11a8de26e?s=128&d=identicon&r=PG", "display_name": "evildead", "link": "https://stackoverflow.com/users/43679/evildead"}, "edited": false, "score": 0, "creation_date": 1425554874, "post_id": 28862767, "comment_id": 46015482, "body": "For binding (encryption) there is no explicit function available and it it also not needed. You just create a binding key in the TPM and use its public part to encrypt a symmetric encryption key sek with systems rsa encryption function (&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;) and save it in the right structure (&quot;TcTssConstants.TSS_ENCDATA_BIND&quot;). For unbinding (decrypting) the sek you then just use the TPMs unbind function and use the sek in whatever symmetric encryption function you like. I have a rather old code base for that I did some time ago, maybe it helps: <a href=\"http://goo.gl/jV1Ouw\" rel=\"nofollow noreferrer\">goo.gl/jV1Ouw</a>"}, {"owner": {"reputation": 2178, "user_id": 1980925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UgYrw.jpg?s=128&g=1", "display_name": "Alex Mazzariol", "link": "https://stackoverflow.com/users/1980925/alex-mazzariol"}, "edited": false, "score": 0, "creation_date": 1429258517, "post_id": 28862767, "comment_id": 47523959, "body": "From wikipedia, <i>Binding \u2013 encrypts data using TPM bind key, a unique RSA key descended from a storage key.</i> <a href=\"https://en.wikipedia.org/wiki/Trusted_Platform_Module\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Trusted_Platform_Module</a> Sounds like this pair of commands (TSpi_Data_Bind / TPM_UnBind) should be enough for your needs..."}, {"owner": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "edited": false, "score": 1, "creation_date": 1429865096, "post_id": 28862767, "comment_id": 47811506, "body": "I don&#39;t think you have to use the TPM directly. It&#39;s supported through the standard CNG/NCryptXXX APIs and the &quot;Microsoft Platform Crypto Provider&quot; (for recent Windows OS platforms, and if the hardware is ok and enabled of course). Maybe you could have a look at the &quot;TPM Platform Crypto-Provider Toolkit here: <a href=\"http://research.microsoft.com/en-us/downloads/74c45746-24ad-4cb7-ba4b-0c6df2f92d5d/\" rel=\"nofollow noreferrer\">research.microsoft.com/en-us/downloads/&hellip;</a> also check this: <a href=\"http://tiw2013.cse.psu.edu/slides/Using%20Windows%208%20Platform%20Crypto%20Provider%20and%20Associated%20TPM%20Functionality-%20Penn%20State%2006.04.2013.pdf\" rel=\"nofollow noreferrer\">tiw2013.cse.psu.edu/slides/&hellip;</a>"}, {"owner": {"reputation": 8766, "user_id": 451321, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7Sdao.jpg?s=128&g=1", "display_name": "Michael Chourdakis", "link": "https://stackoverflow.com/users/451321/michael-chourdakis"}, "edited": false, "score": 0, "creation_date": 1470921611, "post_id": 28862767, "comment_id": 65153987, "body": "CryptProtectData does not necessarily use the TPM. On the other hand, if you can get a valid CNG or CSP handle for the TPM, you can use it in crypto functions."}, {"owner": {"reputation": 547, "user_id": 853966, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5dcece51e911dfa44eeaa715455fa62c?s=128&d=identicon&r=PG", "display_name": "b3nj1", "link": "https://stackoverflow.com/users/853966/b3nj1"}, "edited": false, "score": 0, "creation_date": 1518442717, "post_id": 28862767, "comment_id": 84495467, "body": "I&#39;m actually trying to do the same as you. Did you had a chance to use the TPM to do what you wanted? This projects now exists <a href=\"https://github.com/tpm2-software/tpm2-tools\" rel=\"nofollow noreferrer\">github.com/tpm2-software/tpm2-tools</a> <a href=\"https://github.com/Microsoft/TSS.MSR\" rel=\"nofollow noreferrer\">github.com/Microsoft/TSS.MSR</a> tpm2_tools is good."}, {"owner": {"reputation": 219318, "user_id": 12597, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4b534325156758d6592fb624d7b60e22?s=128&d=identicon&r=PG", "display_name": "Ian Boyd", "link": "https://stackoverflow.com/users/12597/ian-boyd"}, "reply_to_user": {"reputation": 547, "user_id": 853966, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5dcece51e911dfa44eeaa715455fa62c?s=128&d=identicon&r=PG", "display_name": "b3nj1", "link": "https://stackoverflow.com/users/853966/b3nj1"}, "edited": false, "score": 1, "creation_date": 1518465331, "post_id": 28862767, "comment_id": 84509686, "body": "@b3nj1 No i wasn&#39;t; nobody was able to answer the question."}], "answers": [{"comments": [{"owner": {"reputation": 219318, "user_id": 12597, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4b534325156758d6592fb624d7b60e22?s=128&d=identicon&r=PG", "display_name": "Ian Boyd", "link": "https://stackoverflow.com/users/12597/ian-boyd"}, "edited": false, "score": 0, "creation_date": 1432822605, "post_id": 30502113, "comment_id": 49093774, "body": "Microsoft has their <a href=\"https://tpm2lib.codeplex.com/\" rel=\"nofollow noreferrer\">C# .NET managed library for using the TPM</a>. They also have a <a href=\"http://research.microsoft.com/en-US/downloads/35116857-e544-4003-8e7b-584182dc6833/default.aspx\" rel=\"nofollow noreferrer\">a TPM emulator</a>, that the managed library can connect to as a debugging alternative if a real TPM is not present. They also have the <a href=\"http://research.microsoft.com/en-us/downloads/74c45746-24ad-4cb7-ba4b-0c6df2f92d5d/\" rel=\"nofollow noreferrer\">TPM Platform Provider Toolkit</a>, which contains documentation and sample code for using the TPM. Now if only someone could figure out how to use the TPM to encrypt bytes."}, {"owner": {"reputation": 13969, "user_id": 460542, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/eebab55141cf1fbdfb9a54f4efcfc99e?s=128&d=identicon&r=PG", "display_name": "Scolytus", "link": "https://stackoverflow.com/users/460542/scolytus"}, "reply_to_user": {"reputation": 219318, "user_id": 12597, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4b534325156758d6592fb624d7b60e22?s=128&d=identicon&r=PG", "display_name": "Ian Boyd", "link": "https://stackoverflow.com/users/12597/ian-boyd"}, "edited": false, "score": 0, "creation_date": 1433011926, "post_id": 30502113, "comment_id": 49172181, "body": "Your first two links are TPM 2.0 only. If you want to use these, I&#39;m afraid I&#39;m of no help."}], "tags": [], "owner": {"reputation": 13969, "user_id": 460542, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/eebab55141cf1fbdfb9a54f4efcfc99e?s=128&d=identicon&r=PG", "display_name": "Scolytus", "link": "https://stackoverflow.com/users/460542/scolytus"}, "is_accepted": false, "score": 7, "last_activity_date": 1432806216, "last_edit_date": 1432806216, "creation_date": 1432804283, "answer_id": 30502113, "question_id": 28862767, "link": "https://stackoverflow.com/questions/28862767/how-to-encrypt-bytes-using-the-tpm-trusted-platform-module/30502113#30502113", "title": "How to encrypt bytes using the TPM (Trusted Platform Module)", "body": "<h2>Primer</h2>\n\n<p>All that follows is about TPM 1.2. Keep in mind that Microsoft requires a TPM 2.0 for all future Windows versions. The 2.0 generation is fundamentally different to the 1.2</p>\n\n<p>There is no one-line solution because of TPM design principles. Think of the TPM as a microcontroller with limited resources. It main design goal was to be cheap, while still secure. So the TPM was ripped of all logic which was not necessary for a secure operation. Thus a TPM is only working when you have at least some more or less <strong>fat</strong> software, issuing a lot of commands in the correct order. And those sequences of commands may get very complex. That's why TCG specified the TSS with a well defined API. If you would like to go the Java way, there is even an high level <a href=\"https://jsr321.java.net/\" rel=\"noreferrer\">Java API</a>. I'm not aware of an similar project for C# / .net</p>\n\n<h2>Development</h2>\n\n<p>In your case I'd suggest you look at IBM's software TPM.</p>\n\n<ul>\n<li><a href=\"http://ibmswtpm.sourceforge.net/\" rel=\"noreferrer\">Project page</a></li>\n<li><a href=\"http://sourceforge.net/projects/ibmswtpm/\" rel=\"noreferrer\">Donwload the whole package</a></li>\n</ul>\n\n<p>In the package you will find 3 very usefull components:</p>\n\n<ul>\n<li>a software TPM emulator</li>\n<li>a lightweight tpm lib</li>\n<li>some basic command line utilities</li>\n</ul>\n\n<p>You don't necessarily need the software TPM emulator, you can also connect to the machine's HW TPM. However, you can intercept the issued commands and look at the responses, thus learning how they are assembled and how they correspond to the command specification.</p>\n\n<h2>High level</h2>\n\n<p>Prerequisites:</p>\n\n<ol>\n<li>TPM is activated</li>\n<li>TPM driver is loaded</li>\n<li>you have taken ownership of the TPM</li>\n</ol>\n\n<p>In order to seal a blob, you need to do the following:</p>\n\n<ol>\n<li>create a key</li>\n<li>store the key-blob somewhere</li>\n<li>ensure that the key is loaded in the TPM</li>\n<li>seal the blob</li>\n</ol>\n\n<p>To unseal you need to:</p>\n\n<ol>\n<li>obtain the key-blob</li>\n<li>load the key to the TPM</li>\n<li>unseal the sealed blob</li>\n</ol>\n\n<p>You can store the key-blob in your data structure you use to store the protected bytes.</p>\n\n<p>Most of the TPM commands you need are authorized ones. Therefore you need to establish authorization sessions where needed. AFAIR those are mostly OSAP sessions.</p>\n\n<h2>TPM commands</h2>\n\n<p>Currently I can't run a debug version, so I can't provide you with the exact sequence. So consider this an <strong>unordered</strong> list of commands you will have to use:</p>\n\n<ul>\n<li><code>TPM_OSAP</code></li>\n<li><code>TPM_CreateWrapKey</code></li>\n<li><code>TPM_LoadKey2</code></li>\n<li><code>TPM_Seal</code></li>\n</ul>\n\n<p>If you want to read the current PCR values, too:</p>\n\n<ul>\n<li><code>TPM_PCRRead</code></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 2817, "user_id": 767676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/njYjc.jpg?s=128&g=1", "display_name": "Acapulco", "link": "https://stackoverflow.com/users/767676/acapulco"}, "edited": false, "score": 0, "creation_date": 1438916467, "post_id": 30509888, "comment_id": 51656784, "body": "Do you have any idea when where these two new types of keys were added? In which version I mean. I am currently using 1.2 (company packages) and that one doesn&#39;t support these. Maybe in 1.5+?"}, {"owner": {"reputation": 54272, "user_id": 328397, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9cc3e3bb2ff2ef30810be80ca741de70?s=128&d=identicon&r=PG", "display_name": "halfbit", "link": "https://stackoverflow.com/users/328397/halfbit"}, "edited": false, "score": 1, "creation_date": 1470309156, "post_id": 30509888, "comment_id": 64902863, "body": "What is the source of this posting? The end refers to a document <code>Documentation&#47;security&#47;keys-ecryptfs.tx</code>"}, {"owner": {"reputation": 219318, "user_id": 12597, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4b534325156758d6592fb624d7b60e22?s=128&d=identicon&r=PG", "display_name": "Ian Boyd", "link": "https://stackoverflow.com/users/12597/ian-boyd"}, "edited": false, "score": 0, "creation_date": 1586175879, "post_id": 30509888, "comment_id": 108022584, "body": "These seem to all be calls to a command line program. I see no code on how to use the TPM."}], "tags": [], "owner": {"reputation": 129, "user_id": 4693521, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2a9d3977878f7072d350af4883bf2084?s=128&d=identicon&r=PG", "display_name": "chandana", "link": "https://stackoverflow.com/users/4693521/chandana"}, "is_accepted": false, "score": 4, "last_activity_date": 1432829429, "last_edit_date": 1432829429, "creation_date": 1432824388, "answer_id": 30509888, "question_id": 28862767, "link": "https://stackoverflow.com/questions/28862767/how-to-encrypt-bytes-using-the-tpm-trusted-platform-module/30509888#30509888", "title": "How to encrypt bytes using the TPM (Trusted Platform Module)", "body": "<h2>Trusted and Encrypted Keys</h2>\n\n<p>Trusted and Encrypted Keys are two new key types added to the existing kernel\nkey ring service.  Both of these new types are variable length symmetric keys,\nand in both cases all keys are created in the kernel, and user space sees,\nstores, and loads only encrypted blobs.  Trusted Keys require the availability\nof a Trusted Platform Module (TPM) chip for greater security, while Encrypted\nKeys can be used on any system.  All user level blobs, are displayed and loaded\nin hex ascii for convenience, and are integrity verified.</p>\n\n<p>Trusted Keys use a TPM both to generate and to seal the keys.  Keys are sealed\nunder a 2048 bit RSA key in the TPM, and optionally sealed to specified PCR\n(integrity measurement) values, and only unsealed by the TPM, if PCRs and blob\nintegrity verifications match.  A loaded Trusted Key can be updated with new\n(future) PCR values, so keys are easily migrated to new pcr values, such as\nwhen the kernel and initramfs are updated.  The same key can have many saved\nblobs under different PCR values, so multiple boots are easily supported.</p>\n\n<p>By default, trusted keys are sealed under the SRK, which has the default\nauthorization value (20 zeros).  This can be set at takeownership time with the\ntrouser's utility: <code>tpm_takeownership -u -z</code>.</p>\n\n<pre><code>Usage:\n    keyctl add trusted name \"new keylen [options]\" ring\n    keyctl add trusted name \"load hex_blob [pcrlock=pcrnum]\" ring\n    keyctl update key \"update [options]\"\n    keyctl print keyid\n\n    options:\n    keyhandle= ascii hex value of sealing key default 0x40000000 (SRK)\n    keyauth=   ascii hex auth for sealing key default 0x00...i\n        (40 ascii zeros)\n    blobauth=  ascii hex auth for sealed data default 0x00...\n        (40 ascii zeros)\n    blobauth=  ascii hex auth for sealed data default 0x00...\n        (40 ascii zeros)\n    pcrinfo=   ascii hex of PCR_INFO or PCR_INFO_LONG (no default)\n    pcrlock=   pcr number to be extended to \"lock\" blob\n    migratable= 0|1 indicating permission to reseal to new PCR values,\n                default 1 (resealing allowed)\n</code></pre>\n\n<p><code>keyctl print</code> returns an ascii hex copy of the sealed key, which is in standard\nTPM_STORED_DATA format.  The key length for new keys are always in bytes.\nTrusted Keys can be 32 - 128 bytes (256 - 1024 bits), the upper limit is to fit\nwithin the 2048 bit SRK (RSA) keylength, with all necessary structure/padding.</p>\n\n<p>Encrypted keys do not depend on a TPM, and are faster, as they use AES for\nencryption/decryption.  New keys are created from kernel generated random\nnumbers, and are encrypted/decrypted using a specified 'master' key.  The\n'master' key can either be a trusted-key or user-key type.  The main\ndisadvantage of encrypted keys is that if they are not rooted in a trusted key,\nthey are only as secure as the user key encrypting them.  The master user key\nshould therefore be loaded in as secure a way as possible, preferably early in\nboot.</p>\n\n<p>The decrypted portion of encrypted keys can contain either a simple symmetric\nkey or a more complex structure. The format of the more complex structure is\napplication specific, which is identified by 'format'.</p>\n\n<pre><code>Usage:\n    keyctl add encrypted name \"new [format] key-type:master-key-name keylen\"\n        ring\n    keyctl add encrypted name \"load hex_blob\" ring\n    keyctl update keyid \"update key-type:master-key-name\"\n\nformat:= 'default | ecryptfs'\nkey-type:= 'trusted' | 'user'\n</code></pre>\n\n<h2>Examples of trusted and encrypted key usage</h2>\n\n<p>Create and save a trusted key named \"kmk\" of length 32 bytes:</p>\n\n<pre><code>$ keyctl add trusted kmk \"new 32\" @u\n440502848\n\n$ keyctl show\nSession Keyring\n       -3 --alswrv    500   500  keyring: _ses\n 97833714 --alswrv    500    -1   \\_ keyring: _uid.500\n440502848 --alswrv    500   500       \\_ trusted: kmk\n\n$ keyctl print 440502848\n0101000000000000000001005d01b7e3f4a6be5709930f3b70a743cbb42e0cc95e18e915\n3f60da455bbf1144ad12e4f92b452f966929f6105fd29ca28e4d4d5a031d068478bacb0b\n27351119f822911b0a11ba3d3498ba6a32e50dac7f32894dd890eb9ad578e4e292c83722\na52e56a097e6a68b3f56f7a52ece0cdccba1eb62cad7d817f6dc58898b3ac15f36026fec\nd568bd4a706cb60bb37be6d8f1240661199d640b66fb0fe3b079f97f450b9ef9c22c6d5d\ndd379f0facd1cd020281dfa3c70ba21a3fa6fc2471dc6d13ecf8298b946f65345faa5ef0\nf1f8fff03ad0acb083725535636addb08d73dedb9832da198081e5deae84bfaf0409c22b\ne4a8aea2b607ec96931e6f4d4fe563ba\n\n$ keyctl pipe 440502848 &gt; kmk.blob\n</code></pre>\n\n<p>Load a trusted key from the saved blob:</p>\n\n<pre><code>$ keyctl add trusted kmk \"load `cat kmk.blob`\" @u\n268728824\n\n$ keyctl print 268728824\n0101000000000000000001005d01b7e3f4a6be5709930f3b70a743cbb42e0cc95e18e915\n3f60da455bbf1144ad12e4f92b452f966929f6105fd29ca28e4d4d5a031d068478bacb0b\n27351119f822911b0a11ba3d3498ba6a32e50dac7f32894dd890eb9ad578e4e292c83722\na52e56a097e6a68b3f56f7a52ece0cdccba1eb62cad7d817f6dc58898b3ac15f36026fec\nd568bd4a706cb60bb37be6d8f1240661199d640b66fb0fe3b079f97f450b9ef9c22c6d5d\ndd379f0facd1cd020281dfa3c70ba21a3fa6fc2471dc6d13ecf8298b946f65345faa5ef0\nf1f8fff03ad0acb083725535636addb08d73dedb9832da198081e5deae84bfaf0409c22b\ne4a8aea2b607ec96931e6f4d4fe563ba\n</code></pre>\n\n<p>Reseal a trusted key under new pcr values:</p>\n\n<pre><code>$ keyctl update 268728824 \"update pcrinfo=`cat pcr.blob`\"\n$ keyctl print 268728824\n010100000000002c0002800093c35a09b70fff26e7a98ae786c641e678ec6ffb6b46d805\n77c8a6377aed9d3219c6dfec4b23ffe3000001005d37d472ac8a44023fbb3d18583a4f73\nd3a076c0858f6f1dcaa39ea0f119911ff03f5406df4f7f27f41da8d7194f45c9f4e00f2e\ndf449f266253aa3f52e55c53de147773e00f0f9aca86c64d94c95382265968c354c5eab4\n9638c5ae99c89de1e0997242edfb0b501744e11ff9762dfd951cffd93227cc513384e7e6\ne782c29435c7ec2edafaa2f4c1fe6e7a781b59549ff5296371b42133777dcc5b8b971610\n94bc67ede19e43ddb9dc2baacad374a36feaf0314d700af0a65c164b7082401740e489c9\n7ef6a24defe4846104209bf0c3eced7fa1a672ed5b125fc9d8cd88b476a658a4434644ef\ndf8ae9a178e9f83ba9f08d10fa47e4226b98b0702f06b3b8\n</code></pre>\n\n<p>The initial consumer of trusted keys is EVM, which at boot time needs a high\nquality symmetric key for HMAC protection of file metadata.  The use of a\ntrusted key provides strong guarantees that the EVM key has not been\ncompromised by a user level problem, and when sealed to specific boot PCR\nvalues, protects against boot and offline attacks.  Create and save an\nencrypted key \"evm\" using the above trusted key \"kmk\":</p>\n\n<p>option 1: omitting 'format'</p>\n\n<pre><code>$ keyctl add encrypted evm \"new trusted:kmk 32\" @u\n159771175\n</code></pre>\n\n<p>option 2: explicitly defining 'format' as 'default'</p>\n\n<pre><code>$ keyctl add encrypted evm \"new default trusted:kmk 32\" @u\n159771175\n\n$ keyctl print 159771175\ndefault trusted:kmk 32 2375725ad57798846a9bbd240de8906f006e66c03af53b1b3\n82dbbc55be2a44616e4959430436dc4f2a7a9659aa60bb4652aeb2120f149ed197c564e0\n24717c64 5972dcb82ab2dde83376d82b2e3c09ffc\n\n$ keyctl pipe 159771175 &gt; evm.blob\n</code></pre>\n\n<p>Load an encrypted key \"evm\" from saved blob:</p>\n\n<pre><code>$ keyctl add encrypted evm \"load `cat evm.blob`\" @u\n831684262\n\n$ keyctl print 831684262\ndefault trusted:kmk 32 2375725ad57798846a9bbd240de8906f006e66c03af53b1b3\n82dbbc55be2a44616e4959430436dc4f2a7a9659aa60bb4652aeb2120f149ed197c564e0\n24717c64 5972dcb82ab2dde83376d82b2e3c09ffc\n</code></pre>\n\n<p>Other uses for trusted and encrypted keys, such as for disk and file encryption\nare anticipated.  In particular the new format 'ecryptfs' has been defined in\nin order to use encrypted keys to mount an eCryptfs filesystem.  More details\nabout the usage can be found in the file\n'Documentation/security/keys-ecryptfs.txt'.</p>\n"}, {"comments": [{"owner": {"reputation": 1380, "user_id": 3911632, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e704ae76f3286c3e7050cfe48c1e3a51?s=128&d=identicon&r=PG&f=1", "display_name": "Chad", "link": "https://stackoverflow.com/users/3911632/chad"}, "edited": false, "score": 0, "creation_date": 1574564001, "post_id": 37821155, "comment_id": 104275876, "body": "So is there perhaps a code sample showing <i>how</i> to specify (point to) the HMAC key to be used in C# or another language?"}], "tags": [], "owner": {"reputation": 21, "user_id": 6466927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/979b9f4c0b5b9dbd6e12125d949efb7d?s=128&d=identicon&r=PG", "display_name": "DCC", "link": "https://stackoverflow.com/users/6466927/dcc"}, "is_accepted": false, "score": 2, "last_activity_date": 1465997968, "last_edit_date": 1465997968, "creation_date": 1465934798, "answer_id": 37821155, "question_id": 28862767, "link": "https://stackoverflow.com/questions/28862767/how-to-encrypt-bytes-using-the-tpm-trusted-platform-module/37821155#37821155", "title": "How to encrypt bytes using the TPM (Trusted Platform Module)", "body": "<p>When it says</p>\n\n<blockquote>\n  <p>specifying the HMAC key</p>\n</blockquote>\n\n<p>it does NOT mean <em>provide</em> the HMAC key - it means to <em>\"point to the HMAC key that you want to use\"</em>.  </p>\n\n<p>TPMs can use a virtually unlimited number of HMAC keys, as is pointed out in the book.  You have to tell the TPM which one to use.</p>\n"}, {"tags": [], "owner": {"reputation": 9367, "user_id": 4454124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c094d8979fb41b789a7c7f21d9329359?s=128&d=identicon&r=PG&f=1", "display_name": "mnistic", "link": "https://stackoverflow.com/users/4454124/mnistic"}, "is_accepted": false, "score": 4, "last_activity_date": 1577378973, "creation_date": 1577378973, "answer_id": 59491180, "question_id": 28862767, "link": "https://stackoverflow.com/questions/28862767/how-to-encrypt-bytes-using-the-tpm-trusted-platform-module/59491180#59491180", "title": "How to encrypt bytes using the TPM (Trusted Platform Module)", "body": "<blockquote>\n  <p>How can I encrypt bytes using a machine's TPM module?</p>\n</blockquote>\n\n<p>Depends on your intent and circumstances:</p>\n\n<ul>\n<li>What kind of a TPM do you have (1-family or 2-family)?</li>\n<li>What state is the TPM in? Has it been owned? Has it been provisioned?</li>\n<li>What is your programming language?</li>\n<li>Do you want to encrypt or sign? (that's vague from the rest of the question)</li>\n<li>How big is the data you want to encrypt?</li>\n<li>Do you want to use a symmetric key or an asymmetric key?</li>\n<li>Do you want to use a key that already exists on the TPM, or do you want to have it create the key first?</li>\n<li>By \"encrypt\" do you perhaps mean \"wrap a key\"?</li>\n<li>Do you want to lock the encrypted data to the system configuration, so that it can only be decrypted when the system is back in the same configuration?</li>\n<li>Do you want to require authorization for decrypting?</li>\n<li>Perhaps you don't need to encrypt at all, but rather store the data within the TPM?</li>\n<li>If you are storing the data within the TPM, do you want to require authorization, or for the system to be in a particular configuration, for retrieval?</li>\n</ul>\n\n<p>Each of these use cases (and there are more) -- or a combination thereof -- presents a different implementation path. Think of the TPM as a Swiss Army knife of cryptographic devices: there isn't much you can't do with it, but ease of use suffers for that versatility. The question keeps bouncing between encrypting, signing and locking to system configuration, but the main part of this answer will consider the Seal command to cover most of the needs described in the question.</p>\n\n<blockquote>\n  <p>Now it's time to take this one step further. I want to encrypt some\n  data (e.g. a hard drive encryption master key) that can only be\n  decrypted by the local TPM.</p>\n</blockquote>\n\n<p>This is what the Bind command is for (superseded by the Create command for TPM 2). You load a key that derives from a TPM-bound key and encrypt with it (or directly with a hardware-bound key). This way the data can only be decrypted with access to the same TPM.</p>\n\n<blockquote>\n  <p>In other words, I want to replace the Qualcomm Trusted Execution\n  Environment (TEE) in the block diagram below for Android, with the TPM\n  in Windows:</p>\n</blockquote>\n\n<p>Not sure if replicating this whole process is a good idea. For one, there is no need to use a signing operation anywhere in the process. It would appear that, at the time when Android 5 was being developed, the <a href=\"https://source.android.com/security/keystore\" rel=\"nofollow noreferrer\">Keystore API was limited</a> to signing and verification operations. My best guess is that the disk encryption team did their best to work with what they had and devised an algorithm whereby one of the intermediate keys was derived with a <em>signing</em> operation, using a stored TEE key, thereby tying the whole process to a hardware-bound key only available on the platform -- as signing was the only way to do that at the time. However, there is no need to constrain yourself in such ways if have access to a TPM, which gives you more capabilities than you knew you needed!</p>\n\n<blockquote>\n  <p>I realize that the TPM doesn't do data-signing</p>\n</blockquote>\n\n<p>This is false, both versions of TPM support signing.</p>\n\n<blockquote>\n  <p>(or if it does, it does not guarantee that signing the same data will\n  give the same binary output every time)</p>\n</blockquote>\n\n<p>This makes no sense. Signing the same data with the same key <em>will</em> produce the same signature. You may be confusing the signing operation with the quoting operation, which will mix in a nonce.</p>\n\n<blockquote>\n  <p>Which is why I'd be willing to replace \"RSA signing\" with \"encrypting\n  a 256-bit blob with a hardware bound key\".</p>\n</blockquote>\n\n<p>This should actually be the preferred option, although both are possible with a TPM. See above.</p>\n\n<blockquote>\n  <p>The problem is that TPM programming is completely undocumented on\n  MSDN. There is no API available to perform any operations.</p>\n</blockquote>\n\n<p>Unfortunately there isn't much to document. The Win API is limited to a couple of TBS functions which are one level removed from the driver.</p>\n\n<blockquote>\n  <p>Instead you have to find yourself a copy of the Trusted Computing\n  Group's Software Stack (aka TSS), figure out what commands to send to\n  the TPM, with payloads, in what order, and call Window's\n  Tbsip_Submit_Command function to submit commands directly:</p>\n</blockquote>\n\n<p>Actually, no, if you had a TSS you wouldn't have to use <code>Tbsip_submit_Command()</code>. That's the whole point of having a TSS -- the low-level details are abstracted away.</p>\n\n<blockquote>\n  <p>Windows has no higher level API to perform actions.</p>\n</blockquote>\n\n<p>Still true for TPM 1, but for TPM 2 there is <a href=\"https://github.com/Microsoft/TSS.MSR\" rel=\"nofollow noreferrer\">TSS.MSR</a>.</p>\n\n<blockquote>\n  <p>It's the moral equivalent of trying to create a text file by issuing\n  SATA I/O commands to your hard drive.</p>\n</blockquote>\n\n<p>Correct.</p>\n\n<blockquote>\n  <p>Why not just use Trousers ... The problem with that code is that it is\n  not portable into the Windows world. For example, you can't use it\n  from Delphi, you cannot use it from C#. It requires:\n      OpenSSL, \n      pThread</p>\n</blockquote>\n\n<p>It's not clear that this is an insurmountable challenge. Accessing TrouSerS through an interop should be preferable to rewriting all the data structuring code. Also, there was <a href=\"https://github.com/smuthubabu/doTSS\" rel=\"nofollow noreferrer\"><code>doTSS</code></a> at the time of writing the question.</p>\n\n<blockquote>\n  <p>What is the equivalent code to encrypt data using the TPM? It probably\n  involves the TPM_seal command. Although I think I don't want to seal\n  data, I think I want to bind it:</p>\n</blockquote>\n\n<p>The question contains a quote describing the difference between the two commands, so there shouldn't be much confusion. Sealing is similar to binding, with the added constraint that the system state must be the same for the data to be unsealed.</p>\n\n<blockquote>\n  <p>In the same way I was able to provide:</p>\n\n<pre><code>Byte[] ProtectBytes_Crypt(Byte[] plaintext)\n{\n   //...\n   CryptProtectData(...); \n   //...\n}\n</code></pre>\n  \n  <p>can someone provide the corresponding equivalent:</p>\n\n<pre><code>Byte[] ProtectBytes_TPM(Byte[] plaintext)\n{\n   //...\n   Tbsip_Submit_Command(...);\n   Tbsip_Submit_Command(...);\n   Tbsip_Submit_Command(...);\n   //...snip...\n   Tbsip_Submit_Command(...);\n   //...\n}\n</code></pre>\n  \n  <p>that does the same thing, except rather than a key locked away in\n  System LSA, is locked away in the TPM?</p>\n</blockquote>\n\n<p>First, it's worth pointing out that there are two major versions of TPM, which are totally incompatible between each other. So virtually no code you may have written for TPM 1 will work for TPM 2. The TBS API is the only common code between the two and, to be fair to Microsoft, this may have been one of the reasons why that API never grew. The main part of the answer will present the code for TPM 1 for two reasons: </p>\n\n<ul>\n<li>The question is loaded with TPM 1 specific concepts, so people using TPM 1 are more likely to land here searching for them</li>\n<li>There is a Microsoft implementation of TSS for TPM 2.</li>\n</ul>\n\n<p>Second, let's make the question more specific. I'm reinterpreting it as follows: </p>\n\n<blockquote>\n<pre><code>How do I write code in C#, using only the TBS API, to interface with\nan already owned and provisioned TPM to, without user interaction,\nencrypt no more than 128 bytes of arbitrary data with an asymmetric\nkey already resident in the TPM and bound to it, but not protected\nwith a password, so that in order to decrypt the data the system may\nneed to be in the same state it was in at encryption time based on an\neasily configurable variable?\n</code></pre>\n</blockquote>\n\n<p>The Seal command is best suited for this, as it performs the same function as the Bind command when the PCR selection size is set to zero, but the PCR selection can easily be changed to include any PCRs you may want. It makes one wonder why the Bind command was included in the spec at all, and as noted it was removed in the TPM 2 spec and the two were combined in one Create command.</p>\n\n<p>Here is the C# code for using the TPM 1.2 Seal command to encrypt data with only TBS functions <em>(note: this code is untested and not likely to work without debugging)</em>:</p>\n\n<pre><code>[DllImport (\"tbs.dll\")]\nunsafe static extern UInt32 Tbsi_Context_Create (UInt32 * version, IntPtr * hContext);\n\n[DllImport (\"tbs.dll\")]\nunsafe static extern UInt32 Tbsip_Context_Close (IntPtr hContext);\n\n[DllImport (\"tbs.dll\")]\nunsafe static extern UInt32 Tbsip_Submit_Command (\n    IntPtr hContext, UInt32 Locality, \n    UInt32 Priority, \n    byte * pCommandBuf, \n    UInt32 CommandBufLen, \n    byte * pResultBuf, \n    UInt32 * pResultBufLen);\n\nbyte[] ProtectBytes_TPM (byte[] plaintext) {\n\n    void AddUInt32Reversed (byte[] a, System.UInt32 o, ref int i) {\n        byte[] bytes = System.BitConverter.GetBytes (o);\n        Array.Reverse (bytes);\n        Array.Copy (bytes, 0, a, i, bytes.Length);\n        i += bytes.Length;\n    }\n    void AddUInt16Reversed (byte[] a, System.UInt16 o, ref int i) {\n        byte[] bytes = System.BitConverter.GetBytes (o);\n        Array.Reverse (bytes);\n        Array.Copy (bytes, 0, a, i, bytes.Length);\n        i += bytes.Length;\n    }\n    void AddBool (byte[] a, byte b, ref int i) {\n        a[i] = b;\n        i += 1;\n    }\n    void AddBlob (byte[] a, byte[] b, ref int i) {\n        Array.Copy (b, 0, a, i, b.Length);\n        i += b.Length;\n    }\n    byte[] Xor (byte[] text, byte[] key) {\n        byte[] xor = new byte[text.Length];\n        for (int i = 0; i &lt; text.Length; i++) {\n            xor[i] = (byte) (text[i] ^ key[i % key.Length]);\n        }\n        return xor;\n    }\n\n    int offset;\n\n    Random rnd = new Random ();\n\n    IntPtr hContext = IntPtr.Zero;\n    unsafe {\n        UInt32 version = 1;\n        IntPtr handle = hContext;\n        UInt32 result = Tbsi_Context_Create ( &amp; version, &amp; handle);\n\n        if (result == 0) {\n            hContext = handle;\n        }\n    }\n\n    byte[] cmdBuf = new byte[768];\n\n    //OSAP\n    System.UInt32 outSize;\n\n    byte[] oddOsap = new byte[20];\n    byte[] evenOsap = new byte[20];\n    byte[] nonceEven = new byte[20];\n    byte[] nonceOdd = new byte[20];\n    System.UInt32 hAuth = 0;\n\n    offset = 0;\n    AddUInt16Reversed (cmdBuf, 0x00C1, ref offset);\n    offset = 6;\n    AddUInt32Reversed (cmdBuf, 0x0000000B, ref offset);\n\n    offset = 2 + 4 + 4; //2 for tag, 4 for size and 4 for command code\n\n    AddUInt16Reversed (cmdBuf, 0x0004, ref offset); //Entity Type SRK = 0x0004\n    AddUInt32Reversed (cmdBuf, 0x40000000, ref offset); //Entity Value SRK = 0x40000000\n    rnd.NextBytes (oddOsap);\n    AddBlob (cmdBuf, oddOsap, ref offset);\n    uint cmdSize = (System.UInt32) offset;\n    offset = 2;\n    AddUInt32Reversed (cmdBuf, cmdSize, ref offset);\n\n    outSize = (System.UInt32) (Marshal.SizeOf (hAuth) + nonceEven.Length + evenOsap.Length);\n\n    byte[] response = new byte[outSize];\n    unsafe {\n        UInt32 result = 0;\n\n        //uint cmdSize = (uint)offset;\n        uint resSize = outSize;\n        fixed (byte * pCmd = cmdBuf, pRes = response) {\n            result = Tbsip_Submit_Command (hContext, 0, 200, pCmd, cmdSize, pRes, &amp; resSize);\n        }\n    }\n\n    byte contSession = 0;\n    System.UInt32 hKey = 0x40000000; //TPM_KH_SRK;\n    System.UInt32 pcrInfoSize = 0;\n    byte[] srkAuthdata = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\n    uint inDataSize = (uint) plaintext.Length;\n\n    offset = 2 + 4 + 4; //2 for tag, 4 for size and 4 for return code\n    byte[] hauthbytes = new byte[Marshal.SizeOf (hAuth)];\n    Array.Copy (response, offset, hauthbytes, 0, hauthbytes.Length);\n    Array.Reverse (hauthbytes);\n    hAuth = System.BitConverter.ToUInt32 (hauthbytes, 0);\n    offset += Marshal.SizeOf (hAuth);\n    Array.Copy (response, offset, nonceEven, 0, nonceEven.Length);\n    offset += nonceEven.Length;\n    Array.Copy (response, offset, evenOsap, 0, evenOsap.Length);\n\n    //shared-secret = HMAC(srk_auth, even_osap || odd_osap)\n    byte[] sharedSecretBuf = new byte[evenOsap.Length + oddOsap.Length];\n    Array.Copy (evenOsap, 0, sharedSecretBuf, 0, evenOsap.Length);\n    Array.Copy (oddOsap, 0, sharedSecretBuf, evenOsap.Length, oddOsap.Length);\n    System.Security.Cryptography.HMACSHA1 sharedSecretHmac = new System.Security.Cryptography.HMACSHA1 (srkAuthdata);\n    byte[] sharedSecret = sharedSecretHmac.ComputeHash (sharedSecretBuf);\n\n    byte[] authSha1InBuf = new byte[sharedSecret.Length + nonceEven.Length];\n    Array.Copy (sharedSecret, 0, authSha1InBuf, 0, sharedSecret.Length);\n    Array.Copy (nonceEven, 0, authSha1InBuf, sharedSecret.Length, nonceEven.Length);\n    System.Security.Cryptography.SHA1Managed sha1 = new System.Security.Cryptography.SHA1Managed ();\n    byte[] authSha1 = sha1.ComputeHash (authSha1InBuf);\n    byte[] encAuth = Xor (srkAuthdata, authSha1);\n\n    //inParamDigest = sha1(1S ~ 6S) \n    int paramInDigestInBufSize =\n        sizeof (System.UInt32) + \n        encAuth.Length +\n        Marshal.SizeOf (pcrInfoSize) +\n        Marshal.SizeOf (inDataSize) +\n        (int) inDataSize;\n    byte[] paramInDigestInBuf = new byte[paramInDigestInBufSize];\n    offset = 0;\n    AddUInt32Reversed (paramInDigestInBuf, 0x00000017, ref offset);\n    AddBlob (paramInDigestInBuf, encAuth, ref offset);\n    AddUInt32Reversed (paramInDigestInBuf, 0x0, ref offset); //PCR info size\n    AddUInt32Reversed (paramInDigestInBuf, inDataSize, ref offset);\n    AddBlob (paramInDigestInBuf, plaintext, ref offset);\n\n    byte[] paramInDigest = sha1.ComputeHash (paramInDigestInBuf);\n\n    int pubAuthInBufSize = paramInDigest.Length + nonceEven.Length + nonceOdd.Length + Marshal.SizeOf (contSession);\n    byte[] pubAuthInBuf = new byte[pubAuthInBufSize];\n\n    offset = 0;\n    AddBlob (pubAuthInBuf, paramInDigest, ref offset);\n    AddBlob (pubAuthInBuf, nonceEven, ref offset);\n    AddBlob (pubAuthInBuf, nonceOdd, ref offset);\n    AddBool (pubAuthInBuf, contSession, ref offset);\n    System.Security.Cryptography.HMACSHA1 pubAuthHmac = new System.Security.Cryptography.HMACSHA1 (sharedSecret);\n    byte[] pubAuth = pubAuthHmac.ComputeHash (pubAuthInBuf);\n\n    //Seal\n    offset = 0;\n    AddUInt16Reversed (cmdBuf, 0x00C2, ref offset); // TPM_TAG_RQU_AUTH1_COMMAND;\n    offset = 6;\n    AddUInt32Reversed (cmdBuf, 0x00000017, ref offset); // TPM_ORD_SEAL;\n    offset = 2 + 4 + 4; //2 for tag, 4 for size and 4 for command code\n\n    AddUInt32Reversed (cmdBuf, hKey, ref offset);\n    AddBlob (cmdBuf, encAuth, ref offset);\n    AddUInt32Reversed (cmdBuf, pcrInfoSize, ref offset);\n    AddUInt32Reversed (cmdBuf, inDataSize, ref offset);\n    AddBlob (cmdBuf, plaintext, ref offset);\n\n    AddUInt32Reversed (cmdBuf, hAuth, ref offset);\n    AddBlob (cmdBuf, nonceOdd, ref offset);\n    AddBool (cmdBuf, contSession, ref offset);\n    AddBlob (cmdBuf, pubAuth, ref offset);\n    cmdSize = (System.UInt32) offset;\n    offset = 2;\n    AddUInt32Reversed (cmdBuf, cmdSize, ref offset);\n\n    outSize = 768;\n    uint responseSize = 0;\n\n    response = new byte[outSize];\n    unsafe {\n        UInt32 result = 0;\n\n        uint resSize = outSize;\n        fixed (byte * pCmd = cmdBuf, pRes = response) {\n            result = Tbsip_Submit_Command (hContext, 0, 200, pCmd, cmdSize, pRes, &amp; resSize);\n        }\n        responseSize = resSize;\n    }\n\n    byte[] retBuffer = new byte[responseSize - 10];\n    Array.Copy (response, 10, retBuffer, 0, retBuffer.Length);\n    Tbsip_Context_Close (hContext);\n    return retBuffer;\n\n}\n</code></pre>\n\n<hr>\n\n<p>Code Analysis:</p>\n\n<pre><code>[DllImport (\"tbs.dll\")]\n...\n</code></pre>\n\n<p>These are some of the few functions available in Tbs.h and the only ones we'll use here. They basically allow you to open a handle to the device and communicate with it by sending and receiving raw bytes.</p>\n\n<pre><code>    void AddUInt32Reversed (byte[] a, System.UInt32 o, ref int i) { ... }\n    void AddUInt16Reversed (byte[] a, System.UInt16 o, ref int i) { ... }\n    void AddBool (byte[] a, byte b, ref int i) { ... }\n    void AddBlob (byte[] a, byte[] b, ref int i) { ... }\n</code></pre>\n\n<p>TPM is big endian, Windows is little endian. So the byte order will have to be reversed for any data we're sending over. We only need to worry about reversing 32-bit and 16-bit unsigned ints here.</p>\n\n<pre><code>    ...\n    UInt32 result = Tbsi_Context_Create ( &amp; version, &amp; handle);\n    ...\n</code></pre>\n\n<p>Here we use <a href=\"https://docs.microsoft.com/en-us/windows/win32/api/tbs/nf-tbs-tbsi_context_create\" rel=\"nofollow noreferrer\">Tbsi_Context_Create()</a> to open a handle to talk to the TPM. The <a href=\"https://docs.microsoft.com/en-us/windows/win32/api/tbs/ns-tbs-tbs_context_params\" rel=\"nofollow noreferrer\"><code>TBS_CONTEXT_PARAMS</code></a> parameter is just a C struct with one unsigned 32-bit int field that must be set to 1 to talk to a TPM 1.2 instance, and that what we set it to.</p>\n\n<pre><code>    byte[] cmdBuf = new byte[768];\n</code></pre>\n\n<p>This is specified as the minimum buffer size in the <a href=\"https://trustedcomputinggroup.org/wp-content/uploads/TCG_PCClientTPMSpecification_1-20_1-00_FINAL.pdf\" rel=\"nofollow noreferrer\">TPM PC Client Spec</a>. It will be more than enough for our needs here.</p>\n\n<p><a href=\"https://trustedcomputinggroup.org/wp-content/uploads/TPM-Main-Part-3-Commands_v1.2_rev116_01032011.pdf\" rel=\"nofollow noreferrer\">TPM 1.2 Spec Part 3</a> says the following:   </p>\n\n<blockquote>\n<pre><code>TPM_Seal requires the encryption of one parameter (\u201cSecret\u201d). For the\nsake of uniformity with other commands that require the encryption of\nmore than one parameter, the string used for XOR encryption is\ngenerated by concatenating a nonce (created during the OSAP session)\nwith the session shared secret and then hashing the result.\n</code></pre>\n</blockquote>\n\n<p>We need to XOR-encrypt this \"secret\" parameter using a nonce generated during an OSAP session. One of the Seal command input handles is also an OSAP handle:</p>\n\n<blockquote>\n<pre><code>The authorization session handle used for keyHandle authorization.\nMust be an OSAP session for this command.\n</code></pre>\n</blockquote>\n\n<p>So we need to establish this OSAP session first. OSAP is described in <a href=\"https://trustedcomputinggroup.org/wp-content/uploads/TPM-Main-Part-1-Design-Principles_v1.2_rev116_01032011.pdf\" rel=\"nofollow noreferrer\">TPM 1.2 Spec Part 1</a>. OSAP, or Object-Specific Authorization Protocol, was invented to handle the use case where you want to use a TPM object that requires authorization multiple times, but don't want to provide authorization each time: an OSAP session is used instead, which relies on the concept of \"shared secret\", which is an <a href=\"https://en.wikipedia.org/wiki/HMAC\" rel=\"nofollow noreferrer\">HMAC</a> which mixes in the object authorization data with nonces generated on each side to prevent reply attacks. Therefore the \"shared secret\" is only known to the two sides in this session: the side that initiated the session (user) and the side that accepted it (TPM); also, both sides must have the same object authorization data for the \"shared secret\" to be the same; additionally, \"shared secret\" used in one session will be invalid in another. This diagram from the spec describes the process:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vIBP3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vIBP3.png\" alt=\"OSAP\"></a></p>\n\n<p>We will not be using multiple sessions in this particular case (in fact, that parameter is ignored with the Seal command!) and the key we will be using does not require authorization, but unfortunately we are still bound by the spec to establish an OSAP session.</p>\n\n<pre><code>    offset = 0;\n    AddUInt16Reversed (cmdBuf, 0x00C1, ref offset);\n    offset = 6;\n    AddUInt32Reversed (cmdBuf, 0x0000000B, ref offset);\n\n    offset = 2 + 4 + 4; //2 for tag, 4 for size and 4 for command code\n\n    AddUInt16Reversed (cmdBuf, 0x0004, ref offset); //Entity Type SRK = 0x0004\n    AddUInt32Reversed (cmdBuf, 0x40000000, ref offset); //Entity Value SRK = 0x40000000\n    rnd.NextBytes (oddOsap);\n    AddBlob (cmdBuf, oddOsap, ref offset);\n    uint cmdSize = (System.UInt32) offset;\n</code></pre>\n\n<p>TPM_OSAP command operands are:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wPkwg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wPkwg.png\" alt=\"TPM_OSAP operands\"></a></p>\n\n<p>Each TPM 1.2 command is laid out like this:</p>\n\n<pre><code>  2 bytes       4 bytes             4 bytes\n+---------+------------------+------------------+---------------------------\n|   Tag   |       Size       |   Command code   |    Command body    ....\n+---------+------------------+------------------+---------------------------\n</code></pre>\n\n<p>The tag is a two-byte value that indicates whether what follows is either input or output, and whether there are any auth data values following command parameters. For TPM_OSAP, the tag must be TPM_TAG_RQU_COMMAND (0x00C1) as per the spec, which means \"a command with no authorization\".</p>\n\n<p>Size is a four-byte value that specifies the size of the command in bytes, including the tag and size itself. We will set this value later, once we have computed it.</p>\n\n<p>Command code is a four-byte value that servers as a command ID: it tells the TPM how to interpret the rest of the command. Our command code here is TPM_OSAP (0x0000000B).</p>\n\n<p>The next two things to set are entity type and entity value. Since we want to use a key that already exists in the TPM, we will use entity type \"SRK\" (0x0004), and since we are working under the assumption that the TPM has already been owned, it is safe to assume that it has an SRK loaded under the permanent handle 0x40000000 as per the spec, so we will use this permanent handle value for our entity value. (SRK stands for \"Storage Root Key\" and is the root key from which most other TPM-owned keys derive)</p>\n\n<pre><code>    result = Tbsip_Submit_Command (hContext, 0, 200, pCmd, cmdSize, pRes, &amp; resSize);\n</code></pre>\n\n<p>Finally we compute the command size and set it, and send the command.</p>\n\n<pre><code>    offset = 2 + 4 + 4; //2 for tag, 4 for size and 4 for return code\n    byte[] hauthbytes = new byte[Marshal.SizeOf (hAuth)];\n    Array.Copy (response, offset, hauthbytes, 0, hauthbytes.Length);\n    Array.Reverse (hauthbytes);\n    hAuth = System.BitConverter.ToUInt32 (hauthbytes, 0);\n    offset += Marshal.SizeOf (hAuth);\n    Array.Copy (response, offset, nonceEven, 0, nonceEven.Length);\n    offset += nonceEven.Length;\n    Array.Copy (response, offset, evenOsap, 0, evenOsap.Length);\n</code></pre>\n\n<p>The data we're supposed to get back from the TPM on TPM_OSAP is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/eRHSH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eRHSH.png\" alt=\"TPM_OSAP response\"></a></p>\n\n<p>So we get back:</p>\n\n<ul>\n<li>The authorization handle to use with our main command (Seal)</li>\n<li>nonceEven: the nonce generated by the TPM to use with the main command</li>\n<li>nonceEvenOSAP: the OSAP nonce that is the counter-nonce to the nonce we generated on our side before sending the TPM_OSAP command. These two nonces will be used in generating the \"shared secret\".</li>\n</ul>\n\n<p>We extract those values and store them in variables.</p>\n\n<pre><code>    byte[] sharedSecretBuf = new byte[evenOsap.Length + oddOsap.Length];\n    Array.Copy (evenOsap, 0, sharedSecretBuf, 0, evenOsap.Length);\n    Array.Copy (oddOsap, 0, sharedSecretBuf, evenOsap.Length, oddOsap.Length);\n    System.Security.Cryptography.HMACSHA1 sharedSecretHmac = new System.Security.Cryptography.HMACSHA1 (srkAuthdata);\n    byte[] sharedSecret = sharedSecretHmac.ComputeHash (sharedSecretBuf);\n</code></pre>\n\n<p>Then we calculate the \"shared secret\". As per the spec, the values that go into the calculation are the two OSAP nonces (one generated by the user and one generated by the TPM) and the authorization value for the key we want to use -- the SRK. By convention, the SRK auth value is the \"well-known auth\": a zeroed out 20-byte buffer. Technically, one could change this value to something else when taking ownership of the TPM, but this is not done in practice, so we can safely assume the \"well-known auth\" value is good.</p>\n\n<p>Next let's take a look at what goes into the TPM_Seal command:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kqaWn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kqaWn.png\" alt=\"TPM_Seal\"></a></p>\n\n<p>Most of these parameters are trivial to build, except for two of them: <code>encAuth</code> and <code>pubAuth</code>. Let's look at them one by one.</p>\n\n<p><code>encAuth</code> is \"The encrypted AuthData for the sealed data.\" Our AuthData here is the \"well-known auth\" from before, but yes we still have to encrypt it. Because we are using an OSAP session it is encrypted following ADIP, or Authorization-Data Insertion Protocol. From the spec: \"The ADIP allows for the creation of new entities and the secure insertion of the new entity AuthData. The transmission of the new AuthData uses encryption with the key based on the shared secret of an OSAP session.\" Additionally: \"For the mandatory XOR encryption algorithm, the creator builds an encryption key using a SHA-1 hash of the OSAP shared secret and a session nonce. The creator XOR encrypts the new AuthData using the encryption key as a one-time pad and sends this encrypted data along with the creation request to the TPM.\" So we have to build an XOR key from the session nonce and the \"shared secret\" and then XOR-encrypt our \"well-known auth\" with that key.</p>\n\n<p>The following diagram explains how ADIP operates:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TBLXD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TBLXD.png\" alt=\"ADIP\"></a></p>\n\n<p><code>pubAuth</code> is \"The authorization session digest for inputs and keyHandle.\" Part 1 of the spec, in \"Parameter Declarations for OIAP and OSAP Examples\" explains how to interpret the TPM_Seal parameter table above: \"The HMAC # column details the parameters used in the HMAC calculation. Parameters 1S, 2S, etc. are concatenated and hashed to inParamDigest or outParamDigest, implicitly called 1H1 and possibly 1H2 if there are two authorization sessions. For the first session, 1H1, 2H1, 3H1, and 4H1 are concatenated and HMAC\u2019ed.  For the second session, 1H2, 2H2, 3H2, and 4H2 are concatenated and HMAC\u2019ed.\" So we will have to hash the plaintext, its size, PCR info size, <code>encAuth</code> from above and the TPM_Seal ordinal, and then HMAC that with the two nonces and the \"continue session\" boolean using the OSAP \"shared secret\" as the HMAC key.</p>\n\n<p>Putting it all together in a diagram:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0QAT0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0QAT0.png\" alt=\"pubAuth computation\"></a></p>\n\n<p>Notice how we set \"PCR info size\" to zero in this code, as we just want to encrypt the data without locking it to a system state. However it is trivial to provide a \"PCR info\" structure if needed.</p>\n\n<pre><code>    offset = 0;\n    AddUInt16Reversed (cmdBuf, 0x00C2, ref offset); \n    offset = 6;\n    AddUInt32Reversed (cmdBuf, 0x00000017, ref offset); // TPM_ORD_SEAL;\n    ...\n    result = Tbsip_Submit_Command (hContext, 0, 200, pCmd, cmdSize, pRes, &amp; resSize);\n</code></pre>\n\n<p>Finally we construct the command and send it.</p>\n\n<pre><code>    byte[] retBuffer = new byte[responseSize - 10];\n    Array.Copy (response, 10, retBuffer, 0, retBuffer.Length);\n    Tbsip_Context_Close (hContext);\n    return retBuffer;\n</code></pre>\n\n<p>We use the <a href=\"https://docs.microsoft.com/en-us/windows/win32/api/tbs/nf-tbs-tbsip_context_close\" rel=\"nofollow noreferrer\">Tbsip_Context_Close()</a> function to close our communication handle.</p>\n\n<p>We return the response as-is here. Ideally you would want to reverse the bytes again and  validate it by recomputing the <code>resAuth</code> value to prevent man-in-the-middle attacks.</p>\n\n<hr>\n\n<blockquote>\n  <p>What's confusing is there is no Tspi_Data_Bind command.</p>\n</blockquote>\n\n<p>This is because Tspi_Data_Bind is a TSS command, not a TPM command. The reason why is because it requires no secrets (only the public key is used) so it can be done without involving the TPM. This caused confusion, however, and even the commands that require no secrets are now included in the TPM 2 spec.</p>\n\n<blockquote>\n  <p>How can I encrypt a key with the TPM's public key?</p>\n</blockquote>\n\n<p>Depends on the TPM version. With the TPM_CreateWrapKey command for TPM 1.2. With the TPM2_Create command for TPM 2.</p>\n\n<blockquote>\n  <p>How does a developer lock a key to the TPM?</p>\n</blockquote>\n\n<p>Either create it in the TPM, or wrap it, or use any other of the available methods.</p>\n\n<blockquote>\n  <p>TPM2_Create, specifying an HMAC key</p>\n</blockquote>\n\n<p>The text in the book is confusing. You don't specify <em>the HMAC key</em>, you specify that you want <em>an HMAC key</em>. </p>\n\n<blockquote>\n  <p>The fact that the HMAC key isn't secret makes sense</p>\n</blockquote>\n\n<p>No it does not make sense. The key is secret.</p>\n\n<blockquote>\n  <p>...use keys while keeping them safe in a hardware device... Excellent!\n  How do you do it!?</p>\n</blockquote>\n\n<p>There are commands to either create keys or import them for both version of TPM. For TPM 1 there was only one root key -- the SRK -- from which you could establish a key hierarchy by creating wrapped keys. With TPM 2 you can have multiple primary, or root, keys.</p>\n\n<blockquote>\n  <p>Does the TPM have the ability to generate cryptographic keys and\n  protect its secrets within a hardware boundary? Is so, how?</p>\n</blockquote>\n\n<p>See above.</p>\n\n<blockquote>\n  <p>Excellent! This is exactly the use case I happen to want. It's also\n  the use case the Microsoft uses the TPM for. How do I do it!?</p>\n</blockquote>\n\n<p>Probably depends on the type of the drive. In the case of non-SED drives, the drive encryption key is probably wrapped with a TPM key. In the case of SED drives, the Admin1 password (or such) is sealed with the TPM.</p>\n\n<blockquote>\n  <p>The Endorsement Key or EK... Somewhere inside the TPM is an RSA\n  private key. That key is locked away in there - never to be seen by\n  the outside world. I want the TPM to sign something with its private\n  key (i.e. encrypt it with it's private key).</p>\n</blockquote>\n\n<p>The EK is not a signing key -- it's an encryption key. However, it's not a general-purpose encryption key: <a href=\"https://stackoverflow.com/a/53605369/4454124\">it can only be used in certain contexts</a>.</p>\n\n<blockquote>\n  <p>But the thing I'd really want to do is to \"seal\" some data</p>\n</blockquote>\n\n<p>See above.</p>\n"}], "owner": {"reputation": 219318, "user_id": 12597, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4b534325156758d6592fb624d7b60e22?s=128&d=identicon&r=PG", "display_name": "Ian Boyd", "link": "https://stackoverflow.com/users/12597/ian-boyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17622, "favorite_count": 30, "answer_count": 4, "score": 115, "last_activity_date": 1577381415, "creation_date": 1425495987, "last_edit_date": 1577381415, "question_id": 28862767, "link": "https://stackoverflow.com/questions/28862767/how-to-encrypt-bytes-using-the-tpm-trusted-platform-module", "title": "How to encrypt bytes using the TPM (Trusted Platform Module)", "body": "<p>How can I encrypt bytes using a machine's TPM module?</p>\n\n<h1>CryptProtectData</h1>\n\n<p>Windows provides a (relatively) simple API to encrypt a blob using the <code>CryptProtectData</code> API, which we can wrap an easy to use function:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public Byte[] ProtectBytes(Byte[] plaintext)\n{\n   //...\n}\n</code></pre>\n\n<p>The details of <code>ProtectBytes</code> are less important than the idea that you can use it quite easily:</p>\n\n<ul>\n<li>here are the bytes I want encrypted by a secret key held in the <code>System</code></li>\n<li>give me back the encrypted blob</li>\n</ul>\n\n<p>The returned <em>blob</em> is an undocumented <a href=\"http://www.passcape.com/index.php?section=blog&amp;cmd=details&amp;id=20#31\" rel=\"noreferrer\"><sup>documentation</sup></a> structure that contains everything needed to decrypt and return the original data (hash algorithm, cipher algorithm, salt, HMAC signature, etc).</p>\n\n<p>For completeness, here's the sample pseudocode implementation of <code>ProtectBytes</code> that uses the <code>Crypt API</code> to protect bytes:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public Byte[] ProtectBytes(Byte[] plaintext)\n{\n   //Setup our n-byte plaintext blob\n   DATA_BLOB dataIn;\n   dataIn.cbData = plaintext.Length;\n   dataIn.pbData = Addr(plaintext[0]);\n\n   DATA_BLOB dataOut;\n\n   //dataOut = EncryptedFormOf(dataIn)\n   BOOL bRes = CryptProtectData(\n         dataIn,\n         null,     //data description (optional PWideChar)\n         null,     //optional entropy (PDATA_BLOB)\n         null,     //reserved\n         null,     //prompt struct\n         CRYPTPROTECT_UI_FORBIDDEN || CRYPTPROTECT_LOCAL_MACHINE,\n         ref dataOut);\n   if (!bRes) then\n   {\n      DWORD le = GetLastError();\n      throw new Win32Error(le, \"Error calling CryptProtectData\");\n   }\n\n   //Copy ciphertext from dataOut blob into an actual array\n   bytes[] result;\n   SetLength(result, dataOut.cbData);\n   CopyMemory(dataOut.pbData, Addr(result[0]), dataOut.cbData);\n\n   //When you have finished using the DATA_BLOB structure, free its pbData member by calling the LocalFree function\n   LocalFree(HANDLE(dataOut.pbData)); //LocalFree takes a handle, not a pointer. But that's what the SDK says.\n}\n</code></pre>\n\n<h1>How to do the same with the TPM?</h1>\n\n<p>The above code is useful for encrypting data for the local machine only. The data is encrypted using the <code>System</code> account as the key generator (<a href=\"http://www.passcape.com/index.php?section=blog&amp;cmd=details&amp;id=20#31\" rel=\"noreferrer\">details, while interesting, are unimportant</a>). The end result is that I can encrypt data (e.g. a hard drive encryption master key) that can only be decrypted by the local machine.</p>\n\n<p>Now it's time to take this one step further. I want to encrypt some data (e.g. a hard drive encryption master key) that can only be decrypted by the local TPM. In other words, I want to replace the Qualcomm Trusted Execution Environment (<a href=\"http://www.globalplatform.org/mediaguidetee.asp\" rel=\"noreferrer\">TEE</a>) in the block diagram below for Android, with the TPM in Windows:</p>\n\n<p><img src=\"https://i.stack.imgur.com/X4TlZ.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Note</strong>: I realize that the TPM doesn't do data-signing (or if it does, it does not guarantee that signing the same data will give the same binary output every time). Which is why I'd be willing to replace <em>\"RSA signing\"</em> with <em>\"encrypting a 256-bit blob with a hardware bound key\"</em>.</p>\n\n<h1>So where's the code?</h1>\n\n<p>The problem is that TPM programming is <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa446796.aspx\" rel=\"noreferrer\">completely undocumented on MSDN</a>. There is no API available to perform any operations. Instead you have to find yourself a copy of the <a href=\"http://www.trustedcomputinggroup.org/developers/software_stack/specifications\" rel=\"noreferrer\">Trusted Computing Group's Software Stack (aka TSS)</a>, figure out what commands to send to the TPM, with payloads, in what order, and call <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa446799(v=vs.85).aspx\" rel=\"noreferrer\">Window's <strong>Tbsip_Submit_Command</strong> function</a> to submit commands directly:</p>\n\n<pre><code>TBS_RESULT Tbsip_Submit_Command(\n  _In_     TBS_HCONTEXT hContext,\n  _In_     TBS_COMMAND_LOCALITY Locality,\n  _In_     TBS_COMMAND_PRIORITY Priority,\n  _In_     const PCBYTE *pabCommand,\n  _In_     UINT32 cbCommand,\n  _Out_    PBYTE *pabResult,\n  _Inout_  UINT32 *pcbOutput\n);\n</code></pre>\n\n<p>Windows has no higher level API to perform actions.</p>\n\n<p><em>It's the moral equivalent of trying to create a text file by issuing SATA I/O commands to your hard drive</em>.</p>\n\n<h1>Why not just use Trousers</h1>\n\n<p>The Trusted Computing Group (TCG) did define their own API: <a href=\"http://www.trustedcomputinggroup.org/resources/tcg_software_stack_tss_specification\" rel=\"noreferrer\"><strong>TCB Software Stack</strong> (TSS)</a>. An implementation of this API was created by some people, and is called <a href=\"http://trousers.sourceforge.net/faq.html\" rel=\"noreferrer\">TrouSerS</a>. A guy then <a href=\"http://security.polito.it/trusted-computing/trousers-for-windows/\" rel=\"noreferrer\">ported that project to Windows</a>.</p>\n\n<p>The problem with that code is that it is not portable into the Windows world. For example, you can't use it from Delphi, you cannot use it from C#. It requires:</p>\n\n<ul>\n<li>OpenSSL</li>\n<li>pThread</li>\n</ul>\n\n<p>I just want the <strong>code</strong> to encrypt something with my TPM.</p>\n\n<p>The above <code>CryptProtectData</code> requires nothing other than what's in the function body.</p>\n\n<p>What is the equivalent code to encrypt data using the TPM? As others have noted, <a href=\"https://stackoverflow.com/questions/24145810/sealing-data-using-tpm-in-windows\">you probably have to consult the three TPM manuals, and construct the blobs yourself</a>. It probably involves the <code>TPM_seal</code> command. Although I think I don't want to <strong>seal</strong> data, I think I want to <strong>bind</strong> it:</p>\n\n<blockquote>\n  <p><strong>Binding</strong> \u2013 encrypts data using TPM bind key, a unique RSA key descended from a storage key.\n  <strong>Sealing</strong> \u2013 encrypts data in a similar manner to binding, but in addition specifies a state in which TPM must be in order for the data to be decrypted (unsealed)</p>\n</blockquote>\n\n<p>I try to read the three required volumes in order to find the 20 lines of code I need:</p>\n\n<ul>\n<li><a href=\"http://www.trustedcomputinggroup.org/files/static_page_files/72C26AB5-1A4B-B294-D002BC0B8C062FF6/TPM%20Main-Part%201%20Design%20Principles_v1.2_rev116_01032011.pdf\" rel=\"noreferrer\">Part 1 - Design Principles</a></li>\n<li><a href=\"http://www.trustedcomputinggroup.org/files/static_page_files/E55A303C-1A4B-B294-D066E66A82DAE27D/TPM%20Main-Part%202%20TPM%20Structures_v1.2_rev116_01032011.pdf\" rel=\"noreferrer\">Part 2 - Structures of the TPM</a></li>\n<li><a href=\"http://www.trustedcomputinggroup.org/files/static_page_files/72C33D71-1A4B-B294-D02C7DF86630BE7C/TPM%20Main-Part%203%20Commands_v1.2_rev116_01032011.pdf\" rel=\"noreferrer\">Part 3 - Commands</a></li>\n</ul>\n\n<p>But I have <em>no</em> idea what I'm reading. If there was any kind of tutorial or examples, I might have a shot. But I'm completely lost. </p>\n\n<h1>So we ask Stackoverflow</h1>\n\n<p>In the same way I was able to provide:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>Byte[] ProtectBytes_Crypt(Byte[] plaintext)\n{\n   //...\n   CryptProtectData(...); \n   //...\n}\n</code></pre>\n\n<p>can someone provide the corresponding equivalent:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>Byte[] ProtectBytes_TPM(Byte[] plaintext)\n{\n   //...\n   Tbsip_Submit_Command(...);\n   Tbsip_Submit_Command(...);\n   Tbsip_Submit_Command(...);\n   //...snip...\n   Tbsip_Submit_Command(...);\n   //...\n}\n</code></pre>\n\n<p>that does the same thing, except rather than a key locked away in <code>System</code> LSA, is locked away in the TPM?</p>\n\n<h1>Start of Research</h1>\n\n<p>I don't know exactly what <em>bind</em> means. But looking at TPM Main - Part 3 Commands - Specification Version 1.2, there is a mention of <strong>bind</strong>:</p>\n\n<blockquote>\n  <p><strong>10.3 TPM_UnBind</strong></p>\n  \n  <p>TPM_UnBind takes the data blob that is the result of a Tspi_Data_Bind command and decrypts it for export to the User. The caller must authorize the use of the key that will decrypt the incoming blob.\n  TPM_UnBind operates on a block-by-block basis, and has no notion of any relation between one block and another.</p>\n</blockquote>\n\n<p>What's confusing is there <strong>is</strong> no <code>Tspi_Data_Bind</code> command.</p>\n\n<h1>Research Effort</h1>\n\n<p>It is horrifying how nobody has ever bothered to document the TPM or its operation. It's as if they spent all their time coming up with this cool <em>thing</em> to play with, but didn't want to deal with the painful step of making it <em>usable</em> for something.</p>\n\n<p>Starting with the (now) free book <a href=\"https://play.google.com/store/books/details/Will_Arthur_A_Practical_Guide_to_TPM_2_0?id=F69zBgAAQBAJ\" rel=\"noreferrer\"><strong>A Practical Guide to TPM 2.0: Using the Trusted Platform Module in the New Age of Security</strong></a>:</p>\n\n<blockquote>\n  <h1>Chapter 3 - Quick Tutorial on TPM 2.0</h1>\n  \n  <p>The TPM has access to a self-generated private key, so it can encrypt keys with a public key and then store the resulting blob on the hard disk. This way, the TPM can keep a virtually unlimited number of keys available for use but not waste valuable internal storage. Keys stored on the hard disk can be erased, but they can also be backed up, which seemed to the designers like an acceptable trade-off.</p>\n</blockquote>\n\n<p>How can I encrypt a key with the TPM's public key?</p>\n\n<blockquote>\n  <h1>Chapter 4 - Existing Applications That Use TPMs</h1>\n  \n  <h2>Applications That Should Use the TPM but Don\u2019t</h2>\n  \n  <p>In the past few years, the number of web-based applications has increased. Among them are web-based backup and storage. A large number of companies now offer such services, but as far as we are aware, none of the clients for these services let the user lock the key for the backup service to a TPM. If this were done, it would certainly be nice if the TPM key itself were backed up by duplicating it on multiple machines. This appears to be an opportunity for developers.</p>\n</blockquote>\n\n<p>How does a developer lock a key to the TPM?</p>\n\n<blockquote>\n  <h1>Chapter 9 - Heirarchies</h1>\n  \n  <h2>USE CASE: STORING LOGIN PASSWORDS</h2>\n  \n  <p>A typical password file stores salted hashes of passwords. Verification consists of salting and hashing a supplied password and comparing it to the stored value. Because the calculation doesn\u2019t include a secret, it\u2019s subject to an offline attack on the password file.</p>\n  \n  <p>This use case uses a TPM-generated HMAC key. The password file stores an HMAC of the salted password. Verification consists of salting and HMACing the supplied password and comparing it to the stored value. Because an offline attacker doesn\u2019t have the HMAC key, the attacker can\u2019t mount an attack by performing the calculation.</p>\n</blockquote>\n\n<p>This <em>could</em> work. If the TPM has a secret HMAC key, and only my TPM knows the HMAC key, then I could replace \"Sign (aka TPM encrypt with it's private key)\" with \"HMAC\". But then in the very next line he reverses himself completely:</p>\n\n<blockquote>\n  <p>TPM2_Create, specifying an HMAC key</p>\n</blockquote>\n\n<p>It's not a TPM secret if I have to specify the HMAC key. The fact that the HMAC key isn't secret makes sense when you realize this is the chapter about cryptographic utilities that the TPM provides. Rather than you having to write SHA2, AES, HMAC, or RSA yourself, you can re-use what the TPM already has laying around.</p>\n\n<blockquote>\n  <h1>Chapter 10 - Keys</h1>\n  \n  <p>As a security device, the ability of an application to <strong>use keys while keeping them safe in a hardware device</strong> is the TPM\u2019s greatest strength. The TPM can both generate and import externally generated keys. It supports both asymmetric and symmetric keys.</p>\n</blockquote>\n\n<p>Excellent! How do you do it!?</p>\n\n<blockquote>\n  <h2>Key Generator</h2>\n  \n  <p>Arguably, the TPM\u2019s greatest strength is its ability to generate a cryptographic key and protect its secret within a hardware boundary. The key generator is based on the TPM\u2019s own random number generator and doesn\u2019t rely on external sources of randomness. It thus eliminates weaknesses based on weak softwaresoftware with an insufficient source of entropy.</p>\n</blockquote>\n\n<p><strong>Does</strong> the TPM have the ability to generate cryptographic keys and protect its secrets within a hardware boundary? Is so, how?</p>\n\n<blockquote>\n  <h1>Chapter 12 - Platform Configuration Registers</h1>\n  \n  <h2>PCRs for Authorization</h2>\n  \n  <h1>USE CASE: SEALING A HARD DISK ENCRYPTION KEY TO PLATFORM STATE</h1>\n  \n  <p>Full-disk encryption applications are far more secure if a TPM protects theencryption key than if it\u2019s stored on the same disk, protected only by a password. \n  First, the TPM hardware has anti-hammering protection (see Chapter 8 for a detailed description of TPM dictionary attack protection), making a brute-force attack on the password impractical. A key protected only by software is far more vulnerable to a weak password. Second, a software key stored on disk is far easier to steal. Take the disk (or a backup of the disk), and you get the key. When a TPM holds the key, \n  the entire platform, or at least the disk and the motherboard, must be stolen.</p>\n  \n  <p>Sealing permits the key to be protected not only by a password but by a policy. A typical policy locks the key to PCR values (the software state) current at the time of sealing. This assumes that the state at first boot isn\u2019t compromised. Any preinstalled malware present at first boot would be measured into the PCRs, and thus the key would be sealed to a compromised software state. A less trusting enterprise might have a standard disk image and seal to PCRs representing that image. These PCR values would be precalculated on a presumably more trusted platform. An even more sophisticated enterprise would use TPM2_PolicyAuthorize, and provide several tickets authorizing a set of trusted PCR values. See Chapter 14 for a detailed description of policy authorize and its application to solve the PCRbrittleness problem.</p>\n  \n  <p>Although a password could also protect the key, there is a security gain even without a TPM key password. An attacker could boot the platform without supplying a TPMkey password but could not log in without the OS username and password. The OSsecurity protects the data. The attacker could boot an alternative OS, say from a live DVD or USB stick rather that from the hard drive, to bypass the OS login security. However, this different boot configuration and software would change the PCRvalues. Because these new PCRs would not match the sealed values, the TPM would not release the decryption key, and the hard drive could not be decrypted.</p>\n</blockquote>\n\n<p>Excellent! This is exactly the use case I happen to want. It's also the use case the Microsoft uses the TPM for. How do I do it!?</p>\n\n<p>So I read that entire book, and it provided nothing useful. Which is quite impressive because it's 375 pages. You wonder what the book contained - and looking back on it, I have no idea.</p>\n\n<p>So we give up on the definitive guide to programming the TPM, and turn instead to some documentation from Microsoft:</p>\n\n<p>From the <a href=\"http://research.microsoft.com/en-us/downloads/74c45746-24ad-4cb7-ba4b-0c6df2f92d5d/\" rel=\"noreferrer\"><strong>Microsoft TPM Platform Crypto-Provider Toolkit</strong></a>. It mentions exactly what I want to do:</p>\n\n<blockquote>\n  <h2>The Endorsement Key or EK</h2>\n  \n  <p>The EK is designed to provide a reliable cryptographic identifier for the platform. An enterprise might maintain a database of the Endorsement Keys belonging to the TPMs of all of the PCs in their enterprise, or a data center fabric controller might have a database of the TPMs in all of the blades. On Windows you can use the NCrypt provider described in the section \u201cPlatform Crypto Provider in Windows 8\u201d to read the public part of the EK.</p>\n</blockquote>\n\n<p>Somewhere inside the TPM is an RSA private key. That key is locked away in there - never to be seen by the outside world. I want the TPM to sign something with it's private key (i.e. encrypt it with it's private key). </p>\n\n<p>So I want the most <em>basic</em> operation that can possibly exist:</p>\n\n<p><img src=\"https://i.stack.imgur.com/0kduF.png\" alt=\"enter image description here\"></p>\n\n<p>Encrypt something with your private key. I'm not even (yet) asking for the more complicated stuff:</p>\n\n<ul>\n<li><em>\"sealing\"</em> it based on PCR state</li>\n<li>creating a key and storing it in volatile or non-volatile memroy</li>\n<li>creating a symmetric key and trying to load it into the TPM</li>\n</ul>\n\n<p>I am asking for the most basic operation a TPM can do. Why is it impossible to get any information about how to do it? </p>\n\n<h1>I can get random data</h1>\n\n<p>I suppose I was being glib when I said RSA signing was the most basic thing the TPM can do. The <strong>most</strong> basic thing the TPM can be asked to do is give me random bytes. <strong>That</strong> I have figured out how to do:</p>\n\n<pre><code>public Byte[] GetRandomBytesTPM(int desiredBytes)\n{\n   //The maximum random number size is limited to 4,096 bytes per call\n   Byte[] result = new Byte[desiredBytes];\n\n   BCRYPT_ALG_HANDLE hAlgorithm;\n\n   BCryptOpenAlgorithmProvider(\n         out hAlgorithm,\n         BCRYPT_RNG_ALGORITHM, //AlgorithmID: \"RNG\"\n         MS_PLATFORM_CRYPTO_PROVIDER, //Implementation: \"Microsoft Platform Crypto Provider\" i.e. the TPM\n         0 //Flags\n   );\n   try\n   {                \n      BCryptGenRandom(hAlgorithm, @result[0], desiredBytes, 0);\n   }\n   finally\n   {\n      BCryptCloseAlgorithmProvider(hAlgorithm);\n   }\n\n   return result;\n}\n</code></pre>\n\n<h1>The Fancy Thing</h1>\n\n<p>I realize the volume of people using the TPM is very low. That is why nobody on Stackoverflow has an answer. So I can't really get too greedy in getting a solution to my common problem. But the thing I'd <em>really</em> want to do is to <em>\"seal\"</em> some data:</p>\n\n<p><img src=\"https://i.stack.imgur.com/4eZIW.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>present the TPM some data (e.g. 32 bytes of key material)</li>\n<li>have the TPM encrypt the data, returning some opaque blob structure</li>\n<li>later ask the TPM to decrypt the blob</li>\n<li>the decryption will only work if the TPM's PCR registers are the same as they were during encryption.</li>\n</ul>\n\n<p>In other words:</p>\n\n<pre><code>Byte[] ProtectBytes_TPM(Byte[] plaintext, Boolean sealToPcr)\n{\n   //...\n}\n\nByte[] UnprotectBytes_TPM(Byte[] protectedBlob)\n{\n   //...\n}\n</code></pre>\n\n<h1>Cryptography Next Gen (Cng, aka BCrypt) supports TPM</h1>\n\n<p>The original Cryptography API in Windows was knows as the Crypto API.</p>\n\n<p>Starting with Windows Vista, the Crypto API has been replaced with <strong><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa376210.aspx\" rel=\"noreferrer\">Cryptography API: Next Generation</a></strong> (internally known as <em>BestCrypt</em>, abbreviated as <em>BCrypt</em>, not to be confused with <a href=\"https://en.wikipedia.org/wiki/Bcrypt\" rel=\"noreferrer\">the password hashing algorithm</a>).</p>\n\n<p>Windows ships with two BCrypt <em>providers</em>:</p>\n\n<ul>\n<li><strong>Microsoft Primitive Provider</strong> (<code>MS_PRIMITIVE_PROVIDER</code>) <strong>default</strong>: Default software implementation of all the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb204776(v=vs.85).aspx\" rel=\"noreferrer\">primitives (hashing, symmetric encryption, digital signatures, etc)</a></li>\n<li><strong>Microsoft Platform Crypto Provider</strong> (<code>MS_PLATFORM_CRYPTO_PROVIDER</code>): Provider that provides TPM access</li>\n</ul>\n\n<p>The <em>Platform Crypto</em> provider is not documented on MSDN, but does have documentation from a 2012 Microsoft Research site:</p>\n\n<blockquote>\n  <h2><a href=\"http://research.microsoft.com/en-us/downloads/74c45746-24ad-4cb7-ba4b-0c6df2f92d5d/default.aspx\" rel=\"noreferrer\">TPM Platform Crypto-Provider Toolkit</a></h2>\n  \n  <p>The TPM Platform Crypto Provider and Toolkit contains sample code, utilities and documentation for using TPM-related functionality in Windows 8. Subsystems described include the TPM-backed Crypto-Next-Gen (CNG) platform crypto-provider, and how attestation-service providers can use the new Windows features. Both TPM1.2 and TPM2.0-based systems are supported.</p>\n</blockquote>\n\n<p>It seems that Microsoft's intent is to surface TPM crypto functionality with the <strong>Microsoft Platform Crypto Provider</strong> of the <strong>Cryptography NG</strong> API.</p>\n\n<h1>Public key encryption using Microsoft BCrypt</h1>\n\n<p>Given that:</p>\n\n<ul>\n<li>i want to perform RSA asymmetric encryption (using the TPM)</li>\n<li>Microsoft <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa376210(v=vs.85).aspx\" rel=\"noreferrer\">BestCrypt supports RSA asymmetric encryption</a></li>\n<li>Microsoft BestCrypt has a <strong>TPM Provider</strong></li>\n</ul>\n\n<p>a way forward might be to figure out how to do digital signing using the <strong>Microsoft Cryptography Next Gen API</strong>.</p>\n\n<p>My next step will be to come up with the code to do encryption in BCrypt, with an RSA public key, using the standard provider (<code>MS_PRIMITIVE_PROVIDER</code>). E.g.:</p>\n\n<ul>\n<li><code>modulus</code>: 0xDC 67 FA F4 9E F2 72 1D 45 2C B4  80 79 06 A0 94 27 50 8209 DD 67 CE 57 B8 6C 4A  4F 40 9F D2 D1 69 FB 995D 85 0C 07 A1 F9 47 1B  56 16 6E F6 7F B9 CF 2A 58 36 37 99 29 AA 4F A8  12 E8 4F C7 82 2B 9D 72 2A 9C DE 6F C2 EE 12 6D  CF F0 F2 B8 C4 DD 7C 5C 1A C8 17 51 A9 AC DF 08  22 04 9D 2B D7 F9 4B 09 DE 9A EB 5C 51 1A D8 F8  F9 56 9E F8 FB 37 9B 3F D3 74 65 24 0D FF 34 75 57 A4 F5 BF 55</li>\n<li><code>publicExponent</code>: 65537 </li>\n</ul>\n\n<p>With that code functioning, i may be able to switch to using the TPM Provider (<code>MS_PLATFORM_CRYPTO_PROVIDER</code>).  </p>\n\n<p>2/22/2016: And with Apple being compelled to help decrypt user data, there is renewed interest in how to make the TPM perform the most simplest task that it was invented for - encrypting something. </p>\n\n<p>It's roughly equivalent to everyone owning a car, but nobody knows how to start one. It can do really useful and cool things, if only we could get past <strong>Step 1</strong>.</p>\n\n<h1>Bonus Reading</h1>\n\n<ul>\n<li><a href=\"http://source.android.com/devices/tech/security/encryption/index.html#storing_the_encrypted_key\" rel=\"noreferrer\">Android - Encryption - Storing the encrypted key</a></li>\n<li><a href=\"http://nelenkov.blogspot.ca/2014/10/revisiting-android-disk-encryption.html\" rel=\"noreferrer\">Android Explorations - Revisiting Android disk encryption</a></li>\n<li><a href=\"http://www.passcape.com/index.php?section=blog&amp;cmd=details&amp;id=20#31\" rel=\"noreferrer\">DPAPI Secrets. Security analysis and data recovery in DPAPI (Part 1)</a></li>\n</ul>\n"}, {"tags": ["c#", ".net", "dictionary", "memory-leaks", "garbage-collection"], "comments": [{"owner": {"reputation": 39314, "user_id": 385844, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21ffea7aa8a0cf833901322567c61df9?s=128&d=identicon&r=PG", "display_name": "phoog", "link": "https://stackoverflow.com/users/385844/phoog"}, "edited": false, "score": 4, "creation_date": 1425495824, "post_id": 28862713, "comment_id": 45990643, "body": "What evidence do you have that tells you there is a memory leak?"}, {"owner": {"reputation": 33311, "user_id": 5620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2f98606c6c7002862ef3be62cfc97c?s=128&d=identicon&r=PG", "display_name": "Peter Ritchie", "link": "https://stackoverflow.com/users/5620/peter-ritchie"}, "edited": false, "score": 1, "creation_date": 1425495857, "post_id": 28862713, "comment_id": 45990657, "body": "You have no assertion in your test, could you please detail what you assert is the problem?"}, {"owner": {"reputation": 2143, "user_id": 3438208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0fa8fddc89c8a0466ce8e1f35f7f57f?s=128&d=identicon&r=PG&f=1", "display_name": "Julian50", "link": "https://stackoverflow.com/users/3438208/julian50"}, "reply_to_user": {"reputation": 39314, "user_id": 385844, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21ffea7aa8a0cf833901322567c61df9?s=128&d=identicon&r=PG", "display_name": "phoog", "link": "https://stackoverflow.com/users/385844/phoog"}, "edited": false, "score": 0, "creation_date": 1425496033, "post_id": 28862713, "comment_id": 45990762, "body": "@phoog In the task manager I can see the memory usage increased"}, {"owner": {"reputation": 410, "user_id": 1332387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8686e427aacac95acd3482745966fc0c?s=128&d=identicon&r=PG", "display_name": "Samir Banjanovic", "link": "https://stackoverflow.com/users/1332387/samir-banjanovic"}, "edited": false, "score": 2, "creation_date": 1425496093, "post_id": 28862713, "comment_id": 45990805, "body": "Increase in memory usage is expected in this case, you&#39;re deserializing data.  CLR will perform the work required, and allocate memory needed to make it happen."}, {"owner": {"reputation": 2143, "user_id": 3438208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0fa8fddc89c8a0466ce8e1f35f7f57f?s=128&d=identicon&r=PG&f=1", "display_name": "Julian50", "link": "https://stackoverflow.com/users/3438208/julian50"}, "reply_to_user": {"reputation": 33311, "user_id": 5620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2f98606c6c7002862ef3be62cfc97c?s=128&d=identicon&r=PG", "display_name": "Peter Ritchie", "link": "https://stackoverflow.com/users/5620/peter-ritchie"}, "edited": false, "score": 0, "creation_date": 1425496122, "post_id": 28862713, "comment_id": 45990821, "body": "@PeterRitchie You are right, It&#39;s test just to run easyly the loop in see the problem in the task manager. After 2000 loop in the while loop +30mo in the memory"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 2, "creation_date": 1425496448, "post_id": 28862713, "comment_id": 45991007, "body": "@Julian50 The fact that the code uses memory doesn&#39;t mean it&#39;s leaking memory.  It just means it&#39;s using a lot of memory."}, {"owner": {"reputation": 39314, "user_id": 385844, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21ffea7aa8a0cf833901322567c61df9?s=128&d=identicon&r=PG", "display_name": "phoog", "link": "https://stackoverflow.com/users/385844/phoog"}, "edited": false, "score": 0, "creation_date": 1425496618, "post_id": 28862713, "comment_id": 45991115, "body": "@Julian50 the memory may be in use, but it is almost entirely eligible for garbage collection, so it is not a memory leak."}, {"owner": {"reputation": 2143, "user_id": 3438208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0fa8fddc89c8a0466ce8e1f35f7f57f?s=128&d=identicon&r=PG&f=1", "display_name": "Julian50", "link": "https://stackoverflow.com/users/3438208/julian50"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1425496748, "post_id": 28862713, "comment_id": 45991192, "body": "@Servy but I don&#39;t understand, because I don&#39;t keep the dic named &#39;tesfezf&#39;, I overide it in each loop, right ? So the GC should&#39;t free the memory ?? Just overide and overide always the same thing ??"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1425496981, "post_id": 28862713, "comment_id": 45991320, "body": "Precompiled or at least cached serializer should fix the issue with multiple dynamically compiled assemblies consuming all memory... <a href=\"http://stackoverflow.com/questions/678676/precompile-xmlserializers-with-xmlattributeoverrides\" title=\"precompile xmlserializers with xmlattributeoverrides\">stackoverflow.com/questions/678676/&hellip;</a>"}, {"owner": {"reputation": 39314, "user_id": 385844, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21ffea7aa8a0cf833901322567c61df9?s=128&d=identicon&r=PG", "display_name": "phoog", "link": "https://stackoverflow.com/users/385844/phoog"}, "edited": false, "score": 0, "creation_date": 1425499192, "post_id": 28862713, "comment_id": 45992574, "body": "@Julian50 The GC doesn&#39;t free the memory except under certain conditions."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1425502429, "post_id": 28862713, "comment_id": 45994445, "body": "@Julian50 - &quot;Just override and overide always the same thing?&quot; - That is not how it works. In your loop variable tesfezf is a reference pointer. Each time you do a deserialize in your loop it points to a new block of memory that was allocated on the heap (ref type). In your case the pointer/var is re-declared but it would not matter even if you had it outside the loop, the pointer only takes up a limited of space (4 or 8 bytes) on the stack. So each new deserialized is put on the heap and GC will only free it when GC runs. Test it add GC.Collect(); inside your loop and check your memory now."}, {"owner": {"reputation": 2143, "user_id": 3438208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0fa8fddc89c8a0466ce8e1f35f7f57f?s=128&d=identicon&r=PG&f=1", "display_name": "Julian50", "link": "https://stackoverflow.com/users/3438208/julian50"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1425506014, "post_id": 28862713, "comment_id": 45996433, "body": "@igor thanks for your details answer. I tried with GC.Collect() inside the loop but still the same.... So I did a new test. Instead of serialize a create a new dictionary&lt;string,string&gt;() and added one item. This new dictionary is ref type as well right ? And in this case I have no problem. So I think there is something wrong with my function deserialize, The GC doesn&#39;t want to collect. .. ?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1425517832, "post_id": 28862713, "comment_id": 46000871, "body": "@Julian50 - I added an answer after testing your scenario. You are right, there is a leak but not where you thought it was. It is more of a cache that is built on constantly though, not really a memory leak but something you should be aware of when designing your application. Check out the links I posted, they also contain plenty of suggestions on how to work around the problem."}], "answers": [{"comments": [{"owner": {"reputation": 2143, "user_id": 3438208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0fa8fddc89c8a0466ce8e1f35f7f57f?s=128&d=identicon&r=PG&f=1", "display_name": "Julian50", "link": "https://stackoverflow.com/users/3438208/julian50"}, "edited": false, "score": 0, "creation_date": 1425537677, "post_id": 28867348, "comment_id": 46006339, "body": "thanks a lot. Only these contructor works in my case &#39;XmlSerializer(type) and XmlSerializer(type, defaultNameSpace)&#39; and fix my problem. I mean don&#39;t charge the memory. I don&#39;t know why my question was downvote so many times... anyway. Thanks you are my superman ;)"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 2143, "user_id": 3438208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0fa8fddc89c8a0466ce8e1f35f7f57f?s=128&d=identicon&r=PG&f=1", "display_name": "Julian50", "link": "https://stackoverflow.com/users/3438208/julian50"}, "edited": false, "score": 0, "creation_date": 1425556362, "post_id": 28867348, "comment_id": 46016291, "body": "Glad I could help. I am not sure why either but I will +1 it to help you out."}], "tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 2, "last_activity_date": 1425557481, "last_edit_date": 1495541653, "creation_date": 1425512800, "answer_id": 28867348, "question_id": 28862713, "link": "https://stackoverflow.com/questions/28862713/c-memory-leak-on-deserialize-dictionary/28867348#28867348", "title": "c# memory leak on Deserialize dictionary", "body": "<p>It has nothing to do with the deserialization but with the instatiation of the <a href=\"https://msdn.microsoft.com/en-us/library/system.xml.serialization.xmlserializer%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">XmlSerializer</a>. This particular constructor overload generates a new temporary assembly which is loaded in the application domain with every call and will never be unloaded. End result is you should cache your XmlSerializer or use a different constructor if you plan on using it many times in the life cycle of the application domain.</p>\n\n<p>You can test it with this bit of code, and you will see your memory use increase.</p>\n\n<pre><code>var root = new XmlRootAttribute() {ElementName = \"items\"};\nvar type = typeof (Item&lt;string, string&gt;[]);\nwhile (true)\n{\n    XmlSerializer serializer = new XmlSerializer(type, root);\n    GC.Collect();\n}\n</code></pre>\n\n<p>If you move the block <em>XmlSerializer serializer = new XmlSerializer(type, root);</em> out of the loop in your code and just deserialize in the loop the memory stays about constant.</p>\n\n<p>Here are plenty articles all describing the same problem including a support article on Microsoft's web site.</p>\n\n<p><a href=\"http://support.microsoft.com/kb/886385\" rel=\"nofollow noreferrer\">Microsoft Support KB 886385</a></p>\n\n<p><a href=\"http://blogs.msdn.com/b/tess/archive/2006/02/15/net-memory-leak-xmlserializing-your-way-to-a-memory-leak.aspx\" rel=\"nofollow noreferrer\">Blog on Msdn - .NET Memory Leak: XmlSerializing your way to a Memory Leak</a></p>\n\n<p><a href=\"http://www-jo.se/f.pfleger/memoryleak\" rel=\"nofollow noreferrer\">A Memory Leak brought to you by XmlSerializer</a></p>\n\n<p><a href=\"https://stackoverflow.com/a/23897411/1260204\">Question and Answer on StackOverflow</a></p>\n"}, {"tags": [], "owner": {"reputation": 42417, "user_id": 591656, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd9280f11bd464381fcdc6ba9851139f?s=128&d=identicon&r=PG", "display_name": "CharithJ", "link": "https://stackoverflow.com/users/591656/charithj"}, "is_accepted": false, "score": 0, "last_activity_date": 1425515709, "last_edit_date": 1425515709, "creation_date": 1425514147, "answer_id": 28867617, "question_id": 28862713, "link": "https://stackoverflow.com/questions/28862713/c-memory-leak-on-deserialize-dictionary/28867617#28867617", "title": "c# memory leak on Deserialize dictionary", "body": "<p>There is no memory leak as far as I see. But there is an obvious bad memory usage in your test case.</p>\n\n<p>CG.Collect() is not imminent most of the time. Specially when there are non-managed resources, it has to clear finalization queue before releasing all the unwanted memory.</p>\n\n<p>In this case it consumes a lot of memory and it doesn't allow Garbage collector to finish its finalization process.</p>\n\n<p>So, after Deserialize, you can call GC.Collect() and wait until GC finish its finalization.  </p>\n\n<pre><code>   //Force garbage collection.\n   GC.Collect();\n\n   // Wait for all finalizers to complete before continuing. \n   // Without this call to GC.WaitForPendingFinalizers,  \n   // the worker loop below might execute at the same time  \n   // as the finalizers. \n   // With this call, the worker loop executes only after \n   // all finalizers have been called.\n   GC.WaitForPendingFinalizers();\n</code></pre>\n\n<p>Refer : </p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.gc.waitforpendingfinalizers(v=vs.110).aspx\" rel=\"nofollow\">GC.WaitForPendingFinalizers</a></p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/cc647068(v=vs.100).aspx\" rel=\"nofollow\">GC.WaitForFullGCComplete Method</a></p>\n"}], "owner": {"reputation": 2143, "user_id": 3438208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0fa8fddc89c8a0466ce8e1f35f7f57f?s=128&d=identicon&r=PG&f=1", "display_name": "Julian50", "link": "https://stackoverflow.com/users/3438208/julian50"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1245, "favorite_count": 0, "accepted_answer_id": 28867348, "answer_count": 2, "score": -3, "last_activity_date": 1437366841, "creation_date": 1425495781, "last_edit_date": 1437366841, "question_id": 28862713, "link": "https://stackoverflow.com/questions/28862713/c-memory-leak-on-deserialize-dictionary", "title": "c# memory leak on Deserialize dictionary", "body": "<p>When I deserialize a dictionary with the method, I have I memory leak. Here the following test to reproduce the problem.</p>\n\n<pre><code>public static Dictionary&lt;TKey, TValue&gt; DeserializeDictionary&lt;TKey, TValue&gt;(this string iSerialization)\n    {\n        Dictionary&lt;TKey, TValue&gt; dic;\n\n        using (var textWriter = new StringReader(iSerialization))\n        {\n            XmlSerializer serializer = new XmlSerializer(typeof(Item&lt;TKey, TValue&gt;[]), new XmlRootAttribute() { ElementName = \"items\" });\n            dic = ((Item&lt;TKey, TValue&gt;[])serializer.Deserialize(textWriter)).ToDictionary(i =&gt; i.Key, i =&gt; i.Value);\n            textWriter.Close();\n        }\n        return dic;\n    }\n\npublic class Item&lt;TKey, TValue&gt;\n    {\n        [XmlAttribute]\n        public TKey Key;\n\n        [XmlAttribute]\n        public TValue Value;\n    }\n</code></pre>\n\n<p>the test : </p>\n\n<pre><code>[TestMethod]\n    public void test()\n    {\n        string test = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"utf-16\\\"?&gt;&lt;items xmlns:xsd=\\\"http://www.w3.org/2001/XMLSchema\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\"&gt;&lt;ItemOfStringString Key=\\\"mykey\\\" Value=\\\"myvalue\\\" /&gt;&lt;/items&gt;\";\n\n        while(true)\n        {\n            Dictionary&lt;string, string&gt; tesfezf = test.DeserializeDictionary&lt;string, string&gt;();\n        }\n\n    }\n</code></pre>\n\n<p>Do you know where is the problem ?</p>\n\n<p>EDIT: I use this method in a workerazure role, in a loop (arround 20000), and this fill the memory and throw outofmemory exception.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-web-api", "bearer-token"], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 4686789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74df31500c1526cb9a796abc540e3570?s=128&d=identicon&r=PG&f=1", "display_name": "why_not", "link": "https://stackoverflow.com/users/4686789/why-not"}, "is_accepted": false, "score": 0, "last_activity_date": 1426759311, "creation_date": 1426759311, "answer_id": 29141577, "question_id": 28862664, "link": "https://stackoverflow.com/questions/28862664/asp-net-spa-webapi-bearer-token-not-being-remembered-on-winhost/29141577#29141577", "title": "ASP.NET SPA WEBAPI BEARER TOKEN not being remembered on winhost", "body": "<p>In IIS the  Machine Key can be set at the application level, every time the app pool recycles a new Machine Key is generated hence you need a new token </p>\n"}, {"tags": [], "owner": {"reputation": 9207, "user_id": 631527, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/92e59.jpg?s=128&g=1", "display_name": "Toolkit", "link": "https://stackoverflow.com/users/631527/toolkit"}, "is_accepted": false, "score": 0, "last_activity_date": 1448858862, "last_edit_date": 1495542222, "creation_date": 1448858862, "answer_id": 33991620, "question_id": 28862664, "link": "https://stackoverflow.com/questions/28862664/asp-net-spa-webapi-bearer-token-not-being-remembered-on-winhost/33991620#33991620", "title": "ASP.NET SPA WEBAPI BEARER TOKEN not being remembered on winhost", "body": "<p>Answered <a href=\"https://stackoverflow.com/a/33991495/631527\">here</a></p>\n\n<p>Add to web.config not to be affected by app pool recycling </p>\n\n<pre><code>&lt;system.web&gt;\n   &lt;machineKey validationKey=\"21F090935F6E49C2C797F69BBAAD8402ABD2EE0B667A8B44EA7DD4374267A75D7AD972A119482D15A4127461DB1DC347C1A63AE5F1CCFAACFF1B72A7F0A281B\"\n            decryptionKey=\"261F793EB53B761503AC445E0CA28DA44AA9B3CF06263B77\"\n            validation=\"SHA1\"/&gt;\n</code></pre>\n\n<p>Read here how to generate <a href=\"https://support.microsoft.com/en-us/kb/312906\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/kb/312906</a></p>\n"}], "owner": {"reputation": 61, "user_id": 3000751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a28c23bf6cc9d43a9e44058f778cd73?s=128&d=identicon&r=PG&f=1", "display_name": "user3000751", "link": "https://stackoverflow.com/users/3000751/user3000751"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 752, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1448858862, "creation_date": 1425495628, "last_edit_date": 1495539880, "question_id": 28862664, "link": "https://stackoverflow.com/questions/28862664/asp-net-spa-webapi-bearer-token-not-being-remembered-on-winhost", "title": "ASP.NET SPA WEBAPI BEARER TOKEN not being remembered on winhost", "body": "<p>I have this ASP.NET web SPA web api project that uses BEARER TOKEN Authentication.</p>\n\n<p>I have deployed it to a couple different places, locally and azure cloud, and I do NOT see this issue. </p>\n\n<p>Because of budget reasons I decided to buy from a hosting company (winhost). When the site is running from this host only I only see the following issue. </p>\n\n<p>The issue is after you have logged into the site and sit idle for X minutes the next request fails till you refresh and login. (I get a 401 (Unauthorized)) </p>\n\n<p>The expiration of the token seems to only be  10-20 minutes instead of 2 weeks (which works by default on azure and my visual studio local). I have also printed out the token when received and it is 2 weeks.</p>\n\n<p>The behavior I'm expecting is the bearer token to be cached (which I have confirmed by logging the header), then be sent with the next request, which then is authorized and returns results. </p>\n\n<p>This new host has some default IIS settings that I think is breaking it. I already had to change a few default settings, such as manually turning off basic auth through the IIS manager. </p>\n\n<p>Any ideas?</p>\n\n<p>The only thing I could find matching the description of what I am seeing is this link.\n<a href=\"https://stackoverflow.com/questions/28480848/asp-net-web-api-authorization-tokens-expiring-early\">ASP.NET Web API Authorization tokens expiring early</a></p>\n\n<p>I would of commented on that post but I do not have high enough reputation points. Out of convenience I have copied that post below.</p>\n\n<p>I have implemented security for my web api (individual accounts) as discussed <a href=\"http://www.asp.net/web-api/overview/security/individual-accounts-in-web-api\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>I have hosted the website on godaddy (shared hosting) and its working fine. \nWhen I ask for token by using url \"domain.com/token\", I get the token with expiration date of within 15 days. I have set this in \"StartupAuth.cs\" using</p>\n\n<pre><code>AccessTokenExpireTimeSpan = TimeSpan.FromDays(15)\n</code></pre>\n\n<p>e.g.: </p>\n\n<pre><code>{\n  \"access_token\":\"qwertyuiop.....\",\n  \"token_type\":\"bearer\",\n  \"expires_in\":1209599, \n  \"userName\":\"user@example.com\",\n  \".issued\":\"Wed, 11 Feb 2015 01:00:00 GMT\",\n  \".expires\":\"Thu, 26 Feb 2015 01:00:00 GMT\"\n}\n</code></pre>\n\n<p>(I put values in above code, but you get the idea of the \".expires\" field.</p>\n\n<p>5 minutes after getting the token, when I try and access \"get\" or \"post\" or any method in my API by passing authorization: bearer token in header as:</p>\n\n<pre><code>Authorization: Bearer qwertyuiop.....\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>{\"Message\":\"Authorization has been denied for this request.\"}\n</code></pre>\n\n<p>Although its just been 5 minutes and token is supposed to last 15 days, it expires within 5 minutes. \nWhen I request any method \"get\"/\"post\" within interval of 5 minutes, I get the proper response with my data in JSON. In short, authorization succeeds.</p>\n\n<p>I have repeated this behavior by testing it via Fiddler, REST plugin of Chrome and via the mobile app which uses the API.</p>\n\n<p>I have web.config values for session as below (I thought its related)</p>\n\n<pre><code>&lt;sessionState timeout=\"180\" /&gt;\n</code></pre>\n\n<p>Note that forms authentication is not used, so timeout on that section in web.config is not necessary.</p>\n\n<p>Any idea what's going on? This timeout is causing the users of mobile apps which use the API to re-login every now and then. Any help would be appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "asp.net", "datagridview"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 2809499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100001281571297/picture?type=large", "display_name": "Dinesh Soni", "link": "https://stackoverflow.com/users/2809499/dinesh-soni"}, "edited": false, "score": 0, "creation_date": 1425496515, "post_id": 28862763, "comment_id": 45991054, "body": "yes it did. now &quot;cells&quot; in this line &quot;if (dataGridView1.Rows.cells(1).value == dr[1].ToString())&quot; is showing error. How to solve that, and why its showing ?"}, {"owner": {"reputation": 8041, "user_id": 1771817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zeTmI.jpg?s=128&g=1", "display_name": "adv12", "link": "https://stackoverflow.com/users/1771817/adv12"}, "reply_to_user": {"reputation": 19, "user_id": 2809499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100001281571297/picture?type=large", "display_name": "Dinesh Soni", "link": "https://stackoverflow.com/users/2809499/dinesh-soni"}, "edited": false, "score": 0, "creation_date": 1425496910, "post_id": 28862763, "comment_id": 45991287, "body": "There are several things wrong with that bit of code.  First of all, dataGridView1.Rows will return a collection, not a single row.  You&#39;ll need to specify a specific row, like this: <code>dataGridView1.Rows[someNumber]</code>.  Next, C# is case sensitive.  <code>DataGridViewRow</code> does not have a property named <code>cells</code>; it&#39;s <code>Cells</code> with a capital C.  Next, to get a cell from the list you need to use square brackets rather than parentheses: <code>Cells[1]</code> rather than <code>Cells(1)</code>.  The error messages in Visual Studio combined with a little googling should be all you need to make sense of syntax errors like these."}, {"owner": {"reputation": 19, "user_id": 2809499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100001281571297/picture?type=large", "display_name": "Dinesh Soni", "link": "https://stackoverflow.com/users/2809499/dinesh-soni"}, "edited": false, "score": 0, "creation_date": 1425497333, "post_id": 28862763, "comment_id": 45991520, "body": "I want o check if the data is already present in the datagridview or not. How should I check that then ?"}, {"owner": {"reputation": 8041, "user_id": 1771817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zeTmI.jpg?s=128&g=1", "display_name": "adv12", "link": "https://stackoverflow.com/users/1771817/adv12"}, "reply_to_user": {"reputation": 19, "user_id": 2809499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100001281571297/picture?type=large", "display_name": "Dinesh Soni", "link": "https://stackoverflow.com/users/2809499/dinesh-soni"}, "edited": false, "score": 0, "creation_date": 1425497768, "post_id": 28862763, "comment_id": 45991769, "body": "I recommend you make the changes necessary to get your code to compile (by googling the error messages), then if it doesn&#39;t work as expected, ask a new question for help with the algorithm."}, {"owner": {"reputation": 8041, "user_id": 1771817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zeTmI.jpg?s=128&g=1", "display_name": "adv12", "link": "https://stackoverflow.com/users/1771817/adv12"}, "reply_to_user": {"reputation": 19, "user_id": 2809499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100001281571297/picture?type=large", "display_name": "Dinesh Soni", "link": "https://stackoverflow.com/users/2809499/dinesh-soni"}, "edited": false, "score": 0, "creation_date": 1425498495, "post_id": 28862763, "comment_id": 45992182, "body": "Additionally, I recommend getting a beginning C# book to learn the basic syntax so you don&#39;t make these syntax errors in the first place.  Once you&#39;ve got the basic syntax, I recommend the MSDN documentation for specific classes.  For instance, to know how to use a <code>DataGridView</code>, google &quot;DataGridView class&quot; and follow the top link, which will take you to the MSDN documentation for that class."}, {"owner": {"reputation": 19, "user_id": 2809499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100001281571297/picture?type=large", "display_name": "Dinesh Soni", "link": "https://stackoverflow.com/users/2809499/dinesh-soni"}, "edited": false, "score": 0, "creation_date": 1425567163, "post_id": 28862763, "comment_id": 46022781, "body": "Thanks a lot for your time n help @adv12 :) Finally I got the answere, here it is: if (dgvIndex &gt;= 1) { foreach ( DataGridViewRow row in dataGridView1.Rows) { if (row.Cells[1].value.ToString() == dr[1].ToString()) MessageBox.Show(&quot;Item already added&quot;); } }"}], "tags": [], "owner": {"reputation": 8041, "user_id": 1771817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zeTmI.jpg?s=128&g=1", "display_name": "adv12", "link": "https://stackoverflow.com/users/1771817/adv12"}, "is_accepted": true, "score": 3, "last_activity_date": 1425495977, "creation_date": 1425495977, "answer_id": 28862763, "question_id": 28862657, "link": "https://stackoverflow.com/questions/28862657/how-to-find-if-item-already-present-in-the-datagridview/28862763#28862763", "title": "How to find if item already present in the datagridview", "body": "<p>The <code>foreach</code> keyword expects you to say something like:</p>\n\n<pre><code>foreach(DataGridViewRow row in dataGridView1.Rows)\n</code></pre>\n\n<p>The <code>DataGridView</code> is for specifying the type of the <code>row</code> variable.  The compiler is telling you that <code>dataGridView1</code> is not a type.</p>\n\n<p>I think you have some other syntax errors to fix, like the casing on <code>row.cells[1].value</code>.  In any case, hopefully this gets you a bit closer to compiling.</p>\n"}], "owner": {"reputation": 19, "user_id": 2809499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100001281571297/picture?type=large", "display_name": "Dinesh Soni", "link": "https://stackoverflow.com/users/2809499/dinesh-soni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 763, "favorite_count": 0, "accepted_answer_id": 28862763, "answer_count": 1, "score": 0, "last_activity_date": 1425495977, "creation_date": 1425495606, "last_edit_date": 1425495782, "question_id": 28862657, "link": "https://stackoverflow.com/questions/28862657/how-to-find-if-item-already-present-in-the-datagridview", "title": "How to find if item already present in the datagridview", "body": "<p>I am trying to find if the item i want to add is already present in the datagridview or not ?</p>\n\n<pre><code>if (dgvIndex &gt;= 1)\n{\n    foreach (dataGridView1 row in dataGridView1.Rows)\n    {\n        if (row.cells[1].value == dr[1].ToString())\n        {\n            MessageBox.Show(\"Item already added\");\n        }\n    }\n}\n</code></pre>\n\n<p>is is correct ?</p>\n\n<p>I am getting an error: datagridview1 is a 'field' but is used like a 'type'.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "unit-testing", "moq"], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 4624125, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c1f6a21ab610fa8dd9753bbce11feb8f?s=128&d=identicon&r=PG&f=1", "display_name": "User456789", "link": "https://stackoverflow.com/users/4624125/user456789"}, "edited": false, "score": 0, "creation_date": 1425501337, "post_id": 28864248, "comment_id": 45993830, "body": "So i changed it to, <code>accountController.ControllerContext = new HttpControllerContext(context.Object, new RouteData(), accountController);</code> but now i get an error saying <code>Error\t7\tThe best overloaded method match for &#39;System.Web.Http.Controllers.HttpControllerContext.HttpContr&zwnj;&#8203;ollerContext(System.&zwnj;&#8203;Web.Http.HttpConfigu&zwnj;&#8203;ration, System.Web.Http.Routing.IHttpRouteData, System.Net.Http.HttpRequestMessage)&#39; has some invalid arguments</code>"}, {"owner": {"reputation": 12923, "user_id": 108602, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ebf7ab4c1962cda1c7b74b4635948b50?s=128&d=identicon&r=PG", "display_name": "mfanto", "link": "https://stackoverflow.com/users/108602/mfanto"}, "reply_to_user": {"reputation": 377, "user_id": 4624125, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c1f6a21ab610fa8dd9753bbce11feb8f?s=128&d=identicon&r=PG&f=1", "display_name": "User456789", "link": "https://stackoverflow.com/users/4624125/user456789"}, "edited": false, "score": 0, "creation_date": 1425501462, "post_id": 28864248, "comment_id": 45993893, "body": "It has a different signature, so you unfortunately can&#39;t just replace the type. I edited my answer to include a link on how to mock HttpControllerContext."}, {"owner": {"reputation": 377, "user_id": 4624125, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c1f6a21ab610fa8dd9753bbce11feb8f?s=128&d=identicon&r=PG&f=1", "display_name": "User456789", "link": "https://stackoverflow.com/users/4624125/user456789"}, "edited": false, "score": 0, "creation_date": 1425503744, "post_id": 28864248, "comment_id": 45995243, "body": "Now it is throwing an exception when I ran the test. <code>TestGetCompanyList threw exception:  System.IO.FileLoadException: Could not load file or assembly &#39;Newtonsoft.Json, Version=6.0.0.0, Culture=neutral, PublicKeyToken=30ad4fe6b2a6aeed&#39; or one of its dependencies</code>"}, {"owner": {"reputation": 12923, "user_id": 108602, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ebf7ab4c1962cda1c7b74b4635948b50?s=128&d=identicon&r=PG", "display_name": "mfanto", "link": "https://stackoverflow.com/users/108602/mfanto"}, "reply_to_user": {"reputation": 377, "user_id": 4624125, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c1f6a21ab610fa8dd9753bbce11feb8f?s=128&d=identicon&r=PG&f=1", "display_name": "User456789", "link": "https://stackoverflow.com/users/4624125/user456789"}, "edited": false, "score": 0, "creation_date": 1425504251, "post_id": 28864248, "comment_id": 45995514, "body": "That&#39;s a separate issue. Your unit test project can&#39;t find the Newtonsoft.Json libraries. Check to make sure they are referenced properly, and that you have any necessary binding redirects"}, {"owner": {"reputation": 377, "user_id": 4624125, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c1f6a21ab610fa8dd9753bbce11feb8f?s=128&d=identicon&r=PG&f=1", "display_name": "User456789", "link": "https://stackoverflow.com/users/4624125/user456789"}, "edited": false, "score": 0, "creation_date": 1425504999, "post_id": 28864248, "comment_id": 45995917, "body": "I updated the error I am still getting, I would really appreaciate it if you looked into."}, {"owner": {"reputation": 12923, "user_id": 108602, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ebf7ab4c1962cda1c7b74b4635948b50?s=128&d=identicon&r=PG", "display_name": "mfanto", "link": "https://stackoverflow.com/users/108602/mfanto"}, "reply_to_user": {"reputation": 377, "user_id": 4624125, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c1f6a21ab610fa8dd9753bbce11feb8f?s=128&d=identicon&r=PG&f=1", "display_name": "User456789", "link": "https://stackoverflow.com/users/4624125/user456789"}, "edited": false, "score": 1, "creation_date": 1425594596, "post_id": 28864248, "comment_id": 46039113, "body": "If you&#39;re still having problems, you should ask another question on SO. If my answer fixed your problem, can you mark it as accepted (even though there&#39;s now another problem)? That way people that are having your specific issue will know that this is a solution."}], "tags": [], "owner": {"reputation": 12923, "user_id": 108602, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ebf7ab4c1962cda1c7b74b4635948b50?s=128&d=identicon&r=PG", "display_name": "mfanto", "link": "https://stackoverflow.com/users/108602/mfanto"}, "is_accepted": false, "score": 1, "last_activity_date": 1425501433, "last_edit_date": 1425501433, "creation_date": 1425500843, "answer_id": 28864248, "question_id": 28862554, "link": "https://stackoverflow.com/questions/28862554/moq-controller-to-controllerbase-convert-error/28864248#28864248", "title": "Moq Controller to ControllerBase convert error", "body": "<p>The problem is that your <code>AccountServiceController</code> does not inherit from <code>ControllerBase</code>, it inherits from <code>ApiController</code>. The <a href=\"https://msdn.microsoft.com/en-us/library/system.web.mvc.controllercontext%28v=vs.118%29.aspx\" rel=\"nofollow\">ControllerContext</a> you're creating (on the line that errors) is for MVC controllers, and expects the last parameter to be of type <code>ControllerBase</code>. </p>\n\n<p>You need to use <a href=\"https://msdn.microsoft.com/en-us/library/system.web.http.controllers.httpcontrollercontext.httpcontrollercontext(v=vs.118).aspx\" rel=\"nofollow\">HttpControllerContext</a> from System.Web.Http. The last parameter is an <code>IHttpController</code>, which <code>ApiController</code> implements. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/21261992/how-to-stub-httpcontrollercontext\">See here for an example of how to mock HttpControllerContext</a>. </p>\n"}, {"tags": [], "owner": {"reputation": 1195, "user_id": 3839344, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/eq0HA.png?s=128&g=1", "display_name": "Niraj Trivedi", "link": "https://stackoverflow.com/users/3839344/niraj-trivedi"}, "is_accepted": false, "score": 0, "last_activity_date": 1535585637, "creation_date": 1535585637, "answer_id": 52087385, "question_id": 28862554, "link": "https://stackoverflow.com/questions/28862554/moq-controller-to-controllerbase-convert-error/52087385#52087385", "title": "Moq Controller to ControllerBase convert error", "body": "<p>I found other way to add a ControllerContext object into your webcontroller.ControllerContext during Web API as follow</p>\n\n<pre><code>[Test]\npublic void TestMethod()\n{\n    var controllerContext = new HttpControllerContext();\n    var request = new HttpRequestMessage();\n    request.Headers.Add(\"TestHeader\", \"TestHeader\");\n    controllerContext.Request = request;\n    _controller.ControllerContext = controllerContext;\n\n    var result = _controller.YourAPIMethod();\n    //Your assertion\n}\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 4624125, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c1f6a21ab610fa8dd9753bbce11feb8f?s=128&d=identicon&r=PG&f=1", "display_name": "User456789", "link": "https://stackoverflow.com/users/4624125/user456789"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1900, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1535585637, "creation_date": 1425495295, "last_edit_date": 1425504973, "question_id": 28862554, "link": "https://stackoverflow.com/questions/28862554/moq-controller-to-controllerbase-convert-error", "title": "Moq Controller to ControllerBase convert error", "body": "<p>I am getting this error when I am trying to use moq so that I can access application variables. In this case the application variable is <code>ConnectionString</code> with a value of <code>TheConnectionString</code>. I need the value to be available in the <code>GetCompanyList()</code> because the value is used inside <code>accountService</code> class</p>\n\n<p>The Error is :</p>\n\n<p><code>Error  5   Argument 3: cannot convert from 'Webapp.AccountServiceController' to 'System.Web.Mvc.ControllerBase'</code></p>\n\n<pre><code>[TestMethod]\npublic void TestGetCompanyList()\n {\n     var accountController = new AccountServiceController();\n     var context = new Mock&lt;HttpContextBase&gt;();\n     var application = new Mock&lt;HttpApplicationStateBase&gt;();\n     var request = new Mock&lt;HttpRequestBase&gt;();\n\n     application.Setup(m =&gt; m.Add(\"ConnectionString\",\"TheConnectionString\");\n     request.SetupGet(x =&gt; x.Headers).Returns(new System.Net.WebHeaderCollection { { \"X-Requested-With\", \"XMLHttpRequest\" } });\n     context.SetupGet(ctx =&gt; ctx.Request).Returns(request.Object);\n     context.SetupGet(ctx =&gt; ctx.Application).Returns(application.Object);\n\n     accountController.ControllerContext = new ControllerContext(context.Object, new RouteData(), accountController); //Error here\n\n     CompanyInput cInput = new CompanyInput();\n     cInput.IssuerName = \"Be\";\n     cInput.Ticker = \"BR\";\n     var result = accountController.GetCompanyList(cInput) as IEnumerable&lt;CompanyListResult&gt;;\n     Assert.IsNotNull(result);\n }\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>public class AccountServiceController : ApiController\n{\n    public AccountServiceFacade accoutService;\n    public AccountServiceController()\n    {\n        accoutService = new AccountServiceFacade();\n    }\n\n    public AccountServiceController(AccountServiceFacade facade)\n    {\n        accoutService = facade;\n    }\n\n    [System.Web.Http.HttpPost]\n    public dynamic GetCompanyList([FromBody]CompanyInput cInput)\n    {\n        IEnumerable&lt;CompanyListResult&gt; companyList = accoutService.GetCompanyList(cInput);\n        return companyList;\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<pre><code> [TestMethod]\n    public void TestGetCompanyList()\n    {\n        var controller = new AccountServiceController();\n        var config = new HttpConfiguration();\n        var request = new HttpRequestMessage(HttpMethod.Get, \"http://localhost/api/test\");\n        var route = config.Routes.MapHttpRoute(\"DFS\", \"api/{controller}/{id}\");\n        var routeData = new HttpRouteData(route, new HttpRouteValueDictionary\n        {\n            {\n                \"ConnectionString\", \"TheConnectionString\" \n\n            },\n            {\n                \"Username\", \"TheUserName\"\n            }\n        });\n        controller.ControllerContext = new HttpControllerContext(config, routeData, request);\n        controller.Request = request;\n        controller.Request.Properties[HttpPropertyKeys.HttpConfigurationKey] = config;\n\n        CompanyInput cInput = new CompanyInput();\n        cInput.IssuerName = \"Be\";\n        cInput.Ticker = \"BR\";\n        var result = controller.GetCompanyList(cInput) as IEnumerable&lt;CompanyListResult&gt;;\n        Assert.IsNotNull(result);\n\n        //Assert.IsNotNull(result.IssueTicker);\n    }\n</code></pre>\n\n<p>Now when my code reaches this line(which is in class that gets called by the accountService)</p>\n\n<pre><code>static string _authUsername = HttpContext.Current.Application[\"Username\"].ToString();\n</code></pre>\n\n<p>The test throws this error : <code>System.NullReferenceException: Object reference not set to an instance of an object.1</code></p>\n"}, {"tags": ["c#", "datagridview", "listbox"], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 4430188, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2769dce7dc8f1ff3b58b8e295557ecfa?s=128&d=identicon&r=PG&f=1", "display_name": "Josh M", "link": "https://stackoverflow.com/users/4430188/josh-m"}, "edited": false, "score": 0, "creation_date": 1425496475, "post_id": 28862629, "comment_id": 45991021, "body": "Thank you.  All I changed from that was from RoleName.SelectedIndices to RoleName.SelectedItems since I missed that"}, {"owner": {"reputation": 548, "user_id": 4610451, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c5db99a25c0b9310da053c50b0ee0500?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Sharma", "link": "https://stackoverflow.com/users/4610451/gaurav-sharma"}, "reply_to_user": {"reputation": 179, "user_id": 4430188, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2769dce7dc8f1ff3b58b8e295557ecfa?s=128&d=identicon&r=PG&f=1", "display_name": "Josh M", "link": "https://stackoverflow.com/users/4430188/josh-m"}, "edited": false, "score": 0, "creation_date": 1425496565, "post_id": 28862629, "comment_id": 45991086, "body": "Cool, I edited the code to say SelectedItems as well."}], "tags": [], "owner": {"reputation": 548, "user_id": 4610451, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c5db99a25c0b9310da053c50b0ee0500?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Sharma", "link": "https://stackoverflow.com/users/4610451/gaurav-sharma"}, "is_accepted": true, "score": 0, "last_activity_date": 1425496544, "last_edit_date": 1425496544, "creation_date": 1425495550, "answer_id": 28862629, "question_id": 28862541, "link": "https://stackoverflow.com/questions/28862541/add-list-items-to-datagridview-and-database-table/28862629#28862629", "title": "Add list items to datagridview and database table", "body": "<p>You are saving SelectedItem instead of every item from loop. CHeck below comment</p>\n\n<pre><code>foreach (var currentItem in RoleName.SelectedItems)\n            {\n                cmdAdd.Parameters[\"@UserID\"].Value = label1.Text;\n                cmdAdd.Parameters[\"@RoleName\"].Value = currentItem // Or i in your code. \n//RoleName.SelectedItem; selected item is always same.\n                cmdAdd.ExecuteNonQuery();\n            }\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 4430188, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2769dce7dc8f1ff3b58b8e295557ecfa?s=128&d=identicon&r=PG&f=1", "display_name": "Josh M", "link": "https://stackoverflow.com/users/4430188/josh-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 28862629, "answer_count": 1, "score": 0, "last_activity_date": 1425496544, "creation_date": 1425495233, "question_id": 28862541, "link": "https://stackoverflow.com/questions/28862541/add-list-items-to-datagridview-and-database-table", "title": "Add list items to datagridview and database table", "body": "<p>I have a listbox with a list of values (listbox name = RoleName).  Based on selections in the listbox, those values get added to the RoleName table.  However, when I try adding, it adds the right number of rows, but the same value (the first value) all the way down.  label1.Text shows the correct UserID at the top.  Is something wrong with my loop?</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n        {\n            SqlCommand cmdAdd = new SqlCommand(\"insert into Josh_REL_Table (UserID, RoleName) Values (@UserID , @RoleName)\", con);\n            DataGridViewRow row = new DataGridViewRow();\n            con.Open();\n            cmdAdd.Parameters.Add(\"@UserID\", SqlDbType.VarChar);\n            cmdAdd.Parameters.Add(\"@RoleName\", SqlDbType.VarChar);\n\n            foreach (var i in RoleName.SelectedIndices)\n            {\n                cmdAdd.Parameters[\"@UserID\"].Value = label1.Text;\n                cmdAdd.Parameters[\"@RoleName\"].Value = RoleName.SelectedItem;\n                cmdAdd.ExecuteNonQuery();\n            }\n}\n</code></pre>\n"}, {"tags": ["c#", "unit-testing", "interface", "dependency-injection", "moq"], "comments": [{"owner": {"reputation": 11041, "user_id": 255259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e635e8a2fd0ac54928153ff921a15a?s=128&d=identicon&r=PG", "display_name": "dugas", "link": "https://stackoverflow.com/users/255259/dugas"}, "edited": false, "score": 2, "creation_date": 1425495329, "post_id": 28862507, "comment_id": 45990344, "body": "A couple of ways: on the FooGenerator class, create a constructor that accepts IPathProvider or create a property that can be set to an instance of IPathProvider. Refer to section 3.4 of this wonderful book <a href=\"http://artofunittesting.com/storage/chapters/SampleChapter3.htm\" rel=\"nofollow noreferrer\">artofunittesting.com/storage/chapters/SampleChapter3.htm</a> by Roy Osherove for more detailed information on test seams. I also recommend buying the book."}], "answers": [{"tags": [], "owner": {"reputation": 3380, "user_id": 864313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/46d9bb3f16218a79557903d469a05aa3?s=128&d=identicon&r=PG", "display_name": "EyasSH", "link": "https://stackoverflow.com/users/864313/eyassh"}, "is_accepted": true, "score": 1, "last_activity_date": 1425495949, "last_edit_date": 1425495949, "creation_date": 1425495592, "answer_id": 28862651, "question_id": 28862507, "link": "https://stackoverflow.com/questions/28862507/mocking-an-implementation-class-with-test-class-within-unit-test-in-c/28862651#28862651", "title": "Mocking an implementation class with test class within unit test in C#", "body": "<p>There are a few options.</p>\n\n<h3>Accepting parameters</h3>\n\n<p>In general, you want your <code>FooProvider</code> to have a <code>IPathProvider</code> instead of <code>ServicePathProvider</code> as its <code>servicePathProvider</code> member variable.</p>\n\n<p>You can have two constructors for <code>FooProvider</code>:</p>\n\n<ol>\n<li>A default constructor that instantiates <code>servicePathProvider = new ServicePathProvider();</code>, and</li>\n<li>A non-default constructor that instantiates takes in a <code>IServiceProvider</code> as an argument and sets <code>servicePathProvider</code> to that.</li>\n</ol>\n\n<h3>Generic classes</h3>\n\n<p>Change <code>FooProvider</code> as follows:</p>\n\n<pre><code>public class FooProvider&lt;T&gt; where T : IServiceProvider, new()\n</code></pre>\n\n<p>In non-unit testing code, you would use <code>FooProvider&lt;ServicePathProvider&gt;</code> and for unit tests, you would use <code>FooProvider&lt;Mock&gt;</code>.</p>\n\n<p>This makes <code>FooProvider</code> accepts a generic type <code>T</code> which is a subtype of <code>IServiceProvider</code> <em>and</em> has a default constructor (that's the <code>new()</code> part) in the where clause.</p>\n"}], "owner": {"reputation": 107, "user_id": 2350386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/435pu.jpg?s=128&g=1", "display_name": "Chad", "link": "https://stackoverflow.com/users/2350386/chad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 0, "accepted_answer_id": 28862651, "answer_count": 1, "score": 1, "last_activity_date": 1425495949, "creation_date": 1425495087, "last_edit_date": 1425495565, "question_id": 28862507, "link": "https://stackoverflow.com/questions/28862507/mocking-an-implementation-class-with-test-class-within-unit-test-in-c", "title": "Mocking an implementation class with test class within unit test in C#", "body": "<p>I'm trying to write a simple unit test where I have wrapped the HttpContext.Current.Server.MapPath with an interface and implementation. I'm not positive if the implementation is in the right place.</p>\n\n<pre><code>public class FooGenerator\n{\n    ServerPathProvider serverPathProvider = new ServerPathProvider();\n\n    public string generateFoo()\n    {\n        BarWebService bws = new BarWebService(serverPathProvider.MapPath(\"~/path/file\"));\n        return stuff;\n    }\n}\n\n\npublic class ServerPathProvider : IPathProvider\n{\n    public string MapPath(string path)\n    {\n        return HttpContext.Current.Server.MapPath(path);\n    }\n}\n</code></pre>\n\n<p>In the test I have my own implementation I want to use, but I cannot figure out how to inject this into the real class during the unit test.  </p>\n\n<pre><code>[TestClass()]\npublic class FooGeneratorTests\n{\n    [TestMethod()]\n    public void generateFooTest()\n    {\n        FooGenerator fg = new FooGenerator();\n\n        //Some kind of mock dependency injection\n        Mock&lt;IPathProvider&gt; provider = new Mock&lt;IPathProvider&gt;();\n        //stub ServerPathProvider object with provider mock\n\n        string token = fg.generateFoo;\n        Assert.IsNotNull(token);\n    }\n}\n\npublic class TestPathProvider : IPathProvider\n{\n    public string MapPath(string path)\n    {\n        return Path.Combine(@\"C:\\project\\\", path);\n    }\n}\n</code></pre>\n\n<p>Finally, here is my interface just in case.  Basically I just want to swap out two implementations depending on whether or not I am unit test.  This is my first unit test so much of this is new to me. Sorry if I'm missing something basic, but I've been digging through stack overflow for a while now and can't find the steps to do this part.  </p>\n\n<pre><code>public interface IPathProvider\n{\n    string MapPath(string path);\n}\n</code></pre>\n"}, {"tags": ["c#", "windows-runtime", "windows-phone-8.1"], "answers": [{"comments": [{"owner": {"reputation": 1282, "user_id": 1052495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/24f800d9750220e912c876f011d22ca6?s=128&d=identicon&r=PG", "display_name": "Juan", "link": "https://stackoverflow.com/users/1052495/juan"}, "edited": false, "score": 0, "creation_date": 1436986770, "post_id": 28864627, "comment_id": 50847212, "body": "Do you have an example for this?"}], "tags": [], "owner": {"reputation": 21144, "user_id": 4068779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r0Hsj.png?s=128&g=1", "display_name": "Rob Caplan - MSFT", "link": "https://stackoverflow.com/users/4068779/rob-caplan-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1425502169, "creation_date": 1425502169, "answer_id": 28864627, "question_id": 28862500, "link": "https://stackoverflow.com/questions/28862500/inking-for-windows-phone-8-1-not-silverlight/28864627#28864627", "title": "Inking for Windows Phone 8.1 (Not Silverlight)", "body": "<p>There is no special purpose inking control. You can handle pointer events to track the touch point and draw your own strikes from those positions.</p>\n"}], "owner": {"reputation": 107, "user_id": 4593393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/372725fd8375e914c7b218dce362a0ff?s=128&d=identicon&r=PG&f=1", "display_name": "Saira", "link": "https://stackoverflow.com/users/4593393/saira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 28864627, "answer_count": 1, "score": 0, "last_activity_date": 1425502169, "creation_date": 1425495064, "question_id": 28862500, "link": "https://stackoverflow.com/questions/28862500/inking-for-windows-phone-8-1-not-silverlight", "title": "Inking for Windows Phone 8.1 (Not Silverlight)", "body": "<p>Is there any way to use Inking for Windows phone 8.1 application. I am able to use it in Silverlight application for freehand drawing. </p>\n\n<p>But is there anything available to use for this purpose in WinRT?</p>\n"}, {"tags": ["c#", "android", "exception", "xamarin", "catch-block"], "owner": {"reputation": 11, "user_id": 955168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc42aad50e0917e86869d73a2ddf1f1?s=128&d=identicon&r=PG", "display_name": "Jon Betzold", "link": "https://stackoverflow.com/users/955168/jon-betzold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 399, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1425541846, "creation_date": 1425495063, "last_edit_date": 1425541846, "question_id": 28862499, "link": "https://stackoverflow.com/questions/28862499/xamarin-android-vs2013-not-catching-exceptions", "title": "Xamarin Android (VS2013) not catching exceptions", "body": "<p>I am working with the latest version of Xamarin Android in Visual Studio 2013. When I debug my code, the catch blocks are not catching any thrown exceptions. It was working, and then it just seemed to stop. I have no idea what happened. The following code is a simplified representation of an actual instance of the problem.</p>\n\n<pre><code>// private Context _context; set by class constructor and is valid\n// private Version _storedVersions\ntry\n{\n    // This line works as expected.\n    ISharedPreferences sharedPrefs = _context.GetSharedPreferences(\"shared.prefs.file\", FileCreationMode.Private);\n\n    // This line also works as expected. GetString() returns the default 'null'\n    // because the sharePrefs file was just created and is empty.\n    string versions = sharedPrefs.GetString(\"Versions\", null)\n\n    // This line throws a System.ArgumentNullException because 'versions' is null.\n    // This is also to be expected.\n    _storedVersions = JsonConvert.DeserializeObject&lt;Versions&gt;(versions);\n\n    // The problem is that 'catch' does not catch the exception.\n    // The debugger breaks on the JsonConvert line above.\n    // RespondAccordingly() does not get called.\n}\ncatch\n{\n    // Never called\n    RespondAccordingly();\n}\n</code></pre>\n\n<p>Has anyone ever seen this? Better yet, does anyone know how to fix it? I am dead in the water until I can get this fixed.</p>\n\n<p><strong>UPDATE: The non-debug version of the app loads and runs fine on the device. The debug version also runs just fine on the device as long as the debugger is not attached.</strong>  </p>\n"}, {"tags": ["c#", "string", "format"], "answers": [{"comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 2, "creation_date": 1425494791, "post_id": 28862413, "comment_id": 45990017, "body": "Actually the OP isn&#39;t using <code>string.format</code> correctly.  There is no <code>{0}</code> in the format."}, {"owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1425494854, "post_id": 28862413, "comment_id": 45990061, "body": "@juharr, just added it after your comment."}], "tags": [], "owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "is_accepted": false, "score": 2, "last_activity_date": 1425495315, "last_edit_date": 1425495315, "creation_date": 1425494706, "answer_id": 28862413, "question_id": 28862366, "link": "https://stackoverflow.com/questions/28862366/formating-string-from-listt/28862413#28862413", "title": "Formating string from List&lt;T&gt;", "body": "<p>The reason is because of call to <code>ToString</code> in <code>String.Format</code> and not specifying the <a href=\"https://msdn.microsoft.com/en-us/library/txafckwd%28v=vs.110%29.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow\">place holder</a>. </p>\n\n<pre><code>String.Format(\"0.0000\", coefficient.ToString())\n                                  //^^^^^\n</code></pre>\n\n<p><code>String.Format</code> with your format should expect a floating point number, it will not work on string values, for <code>string</code> values, format would be ignored and passed value will be returned. </p>\n\n<p>Also you have to <strong>specify the place  holder</strong> like:</p>\n\n<pre><code>string str = (String.Format(\"{0:0.0000}\", coefficient));\n</code></pre>\n\n<p>Consider the following example:</p>\n\n<pre><code>String.Format(\"{0:0.0000}\", 1.2345123123) //would return \"1.2345\"\nString.Format(\"{0:0.0000}\", \"1.2345123123\")//would return \"1.2345123123\" ignoring the format\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": false, "score": 5, "last_activity_date": 1425494800, "creation_date": 1425494800, "answer_id": 28862447, "question_id": 28862366, "link": "https://stackoverflow.com/questions/28862366/formating-string-from-listt/28862447#28862447", "title": "Formating string from List&lt;T&gt;", "body": "<p>String.Format needs a very specific kind of string. You gave it a literal string to print:</p>\n\n<pre><code>String.Format(\"0.0000\", coefficient.ToString());\n</code></pre>\n\n<p>So it just printed it. If you had given it a <em>placeholder</em>:</p>\n\n<pre><code>String.Format(\"{0}\", coefficient.ToString(\"0.0000\"));\n</code></pre>\n\n<p>It would have substituted the passed argument in. You can also specify the format of the placeholder:</p>\n\n<pre><code>String.Format(\"{0:f4}\", coefficient);\n</code></pre>\n\n<p>\"f4\" would give you your format. The standard formatting strings can be found on <a href=\"https://msdn.microsoft.com/en-us/library/dwhawy9k%28v=vs.110%29.aspx\" rel=\"noreferrer\">MSDN</a></p>\n"}, {"tags": [], "owner": {"reputation": 106665, "user_id": 60188, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8c1138ec9662140a53914eddcc0285d0?s=128&d=identicon&r=PG", "display_name": "Anton Gogolev", "link": "https://stackoverflow.com/users/60188/anton-gogolev"}, "is_accepted": false, "score": 4, "last_activity_date": 1425494878, "creation_date": 1425494878, "answer_id": 28862466, "question_id": 28862366, "link": "https://stackoverflow.com/questions/28862366/formating-string-from-listt/28862466#28862466", "title": "Formating string from List&lt;T&gt;", "body": "<p>First, you don't need a <code>ToString()</code> call on the <code>coefficient.ToString()</code>. Second, your format string is a bit incorrect: you need to use the <code>\"{0:0.0000}\"</code> form.</p>\n\n<p>And while we're at it, your code can be greatly simplified:</p>\n\n<pre><code>var result = string.Join(\";\", coefficients.Select(c =&gt; string.Format(\"{0:0.0000}\", c));\nreturn result;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2960, "user_id": 3521243, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/EJDD8.jpg?s=128&g=1", "display_name": "Emile Pels", "link": "https://stackoverflow.com/users/3521243/emile-pels"}, "edited": false, "score": 0, "creation_date": 1425495197, "post_id": 28862480, "comment_id": 45990278, "body": "@BradleyDotNET I have edited my answer, but nonetheless - I think using <code>string.Join</code> is far more readable than OPs solution. Matter of personal preferrence. I appreciate your comment, though."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1425495383, "post_id": 28862480, "comment_id": 45990373, "body": "I was actually referencing the derivation of <code>IEnumerable</code> to solve this, not string.Join (which I think is a good solution). Then I noticed the OP was already doing this, so I removed the comment :) The only thing missing from your answer is an explanation"}, {"owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "edited": false, "score": 0, "creation_date": 1425495431, "post_id": 28862480, "comment_id": 45990402, "body": "It is <i>actually</i> a very good solution, considering OP is doing the same thing with removing last character from the generated string. +1 for <code>String.Join</code>"}], "tags": [], "owner": {"reputation": 2960, "user_id": 3521243, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/EJDD8.jpg?s=128&g=1", "display_name": "Emile Pels", "link": "https://stackoverflow.com/users/3521243/emile-pels"}, "is_accepted": false, "score": 2, "last_activity_date": 1425494931, "creation_date": 1425494931, "answer_id": 28862480, "question_id": 28862366, "link": "https://stackoverflow.com/questions/28862366/formating-string-from-listt/28862480#28862480", "title": "Formating string from List&lt;T&gt;", "body": "<pre><code>public class PolynomialCoefficients&lt;T&gt; : IEnumerable&lt;T&gt;\n{\n    private List&lt;T&gt; coefficients;\n\n    public string ToString(string format)\n    {\n        const string separator = \":\";\n        return string.Join(separator, coefficients.Select(c =&gt; string.Format(\"{0:f4}\", c)));\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1425500353, "creation_date": 1425500353, "answer_id": 28864101, "question_id": 28862366, "link": "https://stackoverflow.com/questions/28862366/formating-string-from-listt/28864101#28864101", "title": "Formating string from List&lt;T&gt;", "body": "<p>You should constrain <code>T</code> to <code>IFormattable</code>:</p>\n\n<pre><code>public class PolynomialCoefficients&lt;T&gt; : IEnumerable&lt;T&gt;\n    where T : IFormattable\n</code></pre>\n\n<p>With that you can use <code>coefficient.ToString(\"0.0000\", null)</code> where <code>coefficient</code> is a <code>T</code>. You can also use:</p>\n\n<pre><code>polynomialString.AppendFormat(\"{0:0.0000}\", coefficient)\n</code></pre>\n\n<p>with your <code>StringBuilder</code>. That will end up calling <code>coefficient.ToString(\"0.0000\", null)</code> as well.</p>\n"}], "owner": {"reputation": 277, "user_id": 3989196, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ca5e973362a399c5220e63709530a6b3?s=128&d=identicon&r=PG&f=1", "display_name": "rungus2", "link": "https://stackoverflow.com/users/3989196/rungus2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 1, "answer_count": 5, "score": 0, "last_activity_date": 1425500353, "creation_date": 1425494571, "last_edit_date": 1425494811, "question_id": 28862366, "link": "https://stackoverflow.com/questions/28862366/formating-string-from-listt", "title": "Formating string from List&lt;T&gt;", "body": "<p>I have a class with List</p>\n\n<pre><code>public class PolynomialCoefficients&lt;T&gt; : IEnumerable&lt;T&gt;\n{\n    private List&lt;T&gt; coefficients;\n\n    public string ToString(string format)\n    {\n        StringBuilder polynomialString = new StringBuilder();\n        char separator = ':';\n\n        foreach(T coefficient in coefficients)\n        {\n            polynomialString.Append(String.Format(\"0.0000\", coefficient.ToString()));\n            polynomialString.Append(separator);\n        }\n\n        polynomialString.Remove(polynomialString.Length - 1, 1); \n        return polynomialString.ToString();\n    }\n}\n</code></pre>\n\n<p>Lets say that list contains elements: 1,2,3\nI want to call\n    ToString(\"0.000\")\nand get output: 1.000:2.000:3.000\nbut every time output is similar to 0.000:0.000:0.000</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-mvc-5", "entity-framework-6"], "comments": [{"owner": {"reputation": 7411, "user_id": 117242, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0a4a3d9b09139058bfe3cae8c5708d8e?s=128&d=identicon&r=PG", "display_name": "albertjan", "link": "https://stackoverflow.com/users/117242/albertjan"}, "edited": false, "score": 0, "creation_date": 1425494625, "post_id": 28862315, "comment_id": 45989913, "body": "please format your code"}, {"owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "reply_to_user": {"reputation": 7411, "user_id": 117242, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0a4a3d9b09139058bfe3cae8c5708d8e?s=128&d=identicon&r=PG", "display_name": "albertjan", "link": "https://stackoverflow.com/users/117242/albertjan"}, "edited": false, "score": 0, "creation_date": 1425494779, "post_id": 28862315, "comment_id": 45990010, "body": "@albertjan  I am not sure the code is formatted, the first part is the error message not the code."}, {"owner": {"reputation": 12837, "user_id": 1289283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6032d2f69702e956cefaa866eb90d6c7?s=128&d=identicon&r=PG&f=1", "display_name": "walther", "link": "https://stackoverflow.com/users/1289283/walther"}, "edited": false, "score": 0, "creation_date": 1425494856, "post_id": 28862315, "comment_id": 45990062, "body": "The error message is pretty self-explanatory. Which part you don&#39;t understand? Your view expects a different model..."}, {"owner": {"reputation": 11216, "user_id": 2692688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/woiEs.png?s=128&g=1", "display_name": "Tushar", "link": "https://stackoverflow.com/users/2692688/tushar"}, "edited": false, "score": 0, "creation_date": 1425495164, "post_id": 28862315, "comment_id": 45990264, "body": "CAn you show your view code?"}, {"owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "reply_to_user": {"reputation": 11216, "user_id": 2692688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/woiEs.png?s=128&g=1", "display_name": "Tushar", "link": "https://stackoverflow.com/users/2692688/tushar"}, "edited": false, "score": 0, "creation_date": 1425495568, "post_id": 28862315, "comment_id": 45990485, "body": "@TusharGupta I have added the view to the code. You are right the view is using different update as it just Auto populated when I have added the streo proc."}], "answers": [{"comments": [{"owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "edited": false, "score": 0, "creation_date": 1425498849, "post_id": 28862553, "comment_id": 45992376, "body": "Thanks you, I have added the solution to my question."}], "tags": [], "owner": {"reputation": 12923, "user_id": 108602, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ebf7ab4c1962cda1c7b74b4635948b50?s=128&d=identicon&r=PG", "display_name": "mfanto", "link": "https://stackoverflow.com/users/108602/mfanto"}, "is_accepted": true, "score": 2, "last_activity_date": 1425495294, "creation_date": 1425495294, "answer_id": 28862553, "question_id": 28862315, "link": "https://stackoverflow.com/questions/28862315/how-show-the-return-data-from-stored-procedure-in-mvc-using-entity-framework/28862553#28862553", "title": "How show the return data from stored procedure in MVC using Entity Framework", "body": "<p>The problem is your view is expecting a different type than what you're returning. </p>\n\n<p>At the top of your view, you probably have a line that looks like:</p>\n\n<pre><code>@model CustomerPortal_MVC.Customer\n</code></pre>\n\n<p>It should be:</p>\n\n<pre><code>@model CustomerPortal_MVC.Models.CustomerModel\n</code></pre>\n\n<p>Whatever you pass to View() should be the same type that the view expects. This is one of the advantages over the ViewBag, in that you get type checking of your models. </p>\n"}], "owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6492, "favorite_count": 0, "accepted_answer_id": 28862553, "answer_count": 1, "score": 0, "last_activity_date": 1479546608, "creation_date": 1425494382, "last_edit_date": 1479546608, "question_id": 28862315, "link": "https://stackoverflow.com/questions/28862315/how-show-the-return-data-from-stored-procedure-in-mvc-using-entity-framework", "title": "How show the return data from stored procedure in MVC using Entity Framework", "body": "<p>I am new to MVC and Entity Framework so excuse me if it is simple question. </p>\n\n<p>I am developing simple project(MVC5-EF6) that query the customer table based on First-name and last-name and return the customer info. I am using Entity Framework to call a stored procedure to return data. </p>\n\n<p>I have imported the database and everything seems to be working. The only thing I am not sure about, is how should I show the return data using a view?</p>\n\n<p>I tried to put the data in a Model that I had created, but when I debug the data is there though I'm not sure what it should return in this line:  </p>\n\n<pre><code> return View(customerModel);\n</code></pre>\n\n<p>as I am getting this error:</p>\n\n<blockquote>\n  <p>The model item passed into the dictionary is of type   'CustomerPortal_MVC.Models.CustomerModel', but this dictionary requires a model item of type 'CustomerPortal_MVC.Customer'.</p>\n</blockquote>\n\n<p>This is the method that calls the stored procedure:</p>\n\n<pre><code>public ActionResult Details()\n{\n    using (var context = new CustomerPortalEntities())\n    {\n        var customers = context.Search_Customer_By_Name(\"NONA\", \"WHITE\", null);\n        CustomerModel customerModel = new CustomerModel();\n\n        foreach (var item in customers)\n        {\n            customerModel.Account_Number = item.Account_Number;\n            customerModel.First_Name = item.First_Name;\n            customerModel.Last_Name = item.Last_Name;\n            customerModel.Payment_in = item.Payment_in;\n        }\n\n        return View(customerModel);\n    }\n}\n</code></pre>\n\n<p>and this is model:</p>\n\n<pre><code>public class CustomerModel\n{\n    public int Customer_ID { get; set; }\n    public string Account_Number { get; set; }\n    public string First_Name { get; set; }\n    public string Last_Name { get; set; }\n    public string Payment_in { get; set; }\n}\n</code></pre>\n\n<p>and this is the code of the View, that is Auto populated.</p>\n\n<pre><code> @model CustomerPortal_MVC.Customer\n\n @{\n  ViewBag.Title = \"Details\";\n   }\n\n&lt;h2&gt;Details&lt;/h2&gt;\n\n&lt;div&gt;\n&lt;h4&gt;Customer&lt;/h4&gt;\n&lt;hr /&gt;\n&lt;dl class=\"dl-horizontal\"&gt;\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.Account_Number)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.Account_Number)\n    &lt;/dd&gt;\n\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.First_Name)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.First_Name)\n    &lt;/dd&gt;\n\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.Middle_Name)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.Middle_Name)\n    &lt;/dd&gt;\n\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.Last_Name)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.Last_Name)\n    &lt;/dd&gt;\n\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.Password)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.Password)\n    &lt;/dd&gt;\n\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.isRegistered)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.isRegistered)\n    &lt;/dd&gt;\n\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.isActivated)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.isActivated)\n    &lt;/dd&gt;\n\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.isActive)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.isActive)\n    &lt;/dd&gt;\n\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.isLocked)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.isLocked)\n    &lt;/dd&gt;\n\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.Account_Payment_Status)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.Account_Payment_Status)\n    &lt;/dd&gt;\n\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.unsuccessful_login_count)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.unsuccessful_login_count)\n    &lt;/dd&gt;\n\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.Username)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.Username)\n    &lt;/dd&gt;\n\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.Last4SSN)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.Last4SSN)\n    &lt;/dd&gt;\n\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.Create_Date)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.Create_Date)\n    &lt;/dd&gt;\n\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.Modified_Date)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.Modified_Date)\n    &lt;/dd&gt;\n\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.Account_Status)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.Account_Status)\n    &lt;/dd&gt;\n\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.Salt)\n    &lt;/dt&gt;\n\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.Salt)\n    &lt;/dd&gt;\n\n&lt;/dl&gt;\n&lt;/div&gt;\n&lt;p&gt;\n@Html.ActionLink(\"Edit\", \"Edit\", new { id = Model.Customer_ID }) |\n@Html.ActionLink(\"Back to List\", \"Index\")\n</code></pre>\n\n<p></p></p>\n\n<p><strong>Solution:</strong></p>\n\n<p>I have changed the View like this:</p>\n\n<pre><code> @model CustomerPortal_MVC.Models.CustomerModel\n\n@{\n     ViewBag.Title = \"Details\";\n}\n\n &lt;h2&gt;Details&lt;/h2&gt;\n\n &lt;div&gt;\n&lt;h4&gt;Customer&lt;/h4&gt;\n&lt;hr /&gt;\n&lt;table&gt;\n\n\n    &lt;tr&gt;\n        &lt;td&gt;\n            @Html.DisplayFor(model =&gt; model.First_Name)\n             @Html.DisplayFor(model =&gt; model.Account_Number)\n        &lt;/td&gt;\n\n    &lt;/tr&gt;\n\n&lt;/table&gt;\n\n&lt;/div&gt;\n   &lt;p&gt;\n    @Html.ActionLink(\"Edit\", \"Edit\", new { id = Model.Customer_ID }) |\n@Html.ActionLink(\"Back to List\", \"Index\")\n&lt;/p&gt;\n</code></pre>\n"}, {"tags": ["c#", "exception", "dll"], "comments": [{"owner": {"reputation": 2960, "user_id": 3521243, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/EJDD8.jpg?s=128&g=1", "display_name": "Emile Pels", "link": "https://stackoverflow.com/users/3521243/emile-pels"}, "edited": false, "score": 0, "creation_date": 1425494354, "post_id": 28862271, "comment_id": 45989763, "body": "Does the DLL target a higher version of the .NET framework than your console application referencing it?"}, {"owner": {"reputation": 9648, "user_id": 3178237, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d809533c5ce964b709e2b38e6573973b?s=128&d=identicon&r=PG", "display_name": "Yerko Palma", "link": "https://stackoverflow.com/users/3178237/yerko-palma"}, "reply_to_user": {"reputation": 2960, "user_id": 3521243, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/EJDD8.jpg?s=128&g=1", "display_name": "Emile Pels", "link": "https://stackoverflow.com/users/3521243/emile-pels"}, "edited": false, "score": 0, "creation_date": 1425494533, "post_id": 28862271, "comment_id": 45989859, "body": "The console application and the class library dll are on the same .NET version, that is version 4.5"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1425494896, "post_id": 28862271, "comment_id": 45990083, "body": "&quot;Original.dll&quot; and &quot;external.dll&quot; are useless names when the error is about &quot;LynkLib&quot;.  Use Fuslogvw.exe to troubleshoot assembly resolution problems.  Watch out for auto-generated version numbers like 1.0.5533.27875"}, {"owner": {"reputation": 9648, "user_id": 3178237, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d809533c5ce964b709e2b38e6573973b?s=128&d=identicon&r=PG", "display_name": "Yerko Palma", "link": "https://stackoverflow.com/users/3178237/yerko-palma"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1425495335, "post_id": 28862271, "comment_id": 45990346, "body": "@HansPassant I don&#39;t know if I&#39;m right but the <i>LynkLib</i> name is a reference to the Lynk class, because I don&#39;t have any class, object or file called LynkLib. The .cs file is called Lynk.cs and the class of the object that throw the exception is <code>Lynk</code>. Two more things, I don&#39;t know how to use <code>Fuslogvw.exe</code> and I also noticed the auto generated version number, because I checked my assemblyInfo.cs file I have version 1.0.0.0 for <code>AssemblyVersion</code> and <code>AssemblyFileVersion</code>"}], "answers": [{"comments": [{"owner": {"reputation": 9648, "user_id": 3178237, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d809533c5ce964b709e2b38e6573973b?s=128&d=identicon&r=PG", "display_name": "Yerko Palma", "link": "https://stackoverflow.com/users/3178237/yerko-palma"}, "edited": false, "score": 0, "creation_date": 1425501681, "post_id": 28862770, "comment_id": 45994046, "body": "I used <code>DotPeek</code> as you suggested and found some info that might help, check my update of the question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2930590"}, "reply_to_user": {"reputation": 9648, "user_id": 3178237, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d809533c5ce964b709e2b38e6573973b?s=128&d=identicon&r=PG", "display_name": "Yerko Palma", "link": "https://stackoverflow.com/users/3178237/yerko-palma"}, "edited": false, "score": 0, "creation_date": 1425531861, "post_id": 28862770, "comment_id": 46004429, "body": "Double check that both your project, the internal dll targets are targeting the same .NET framework as the external.dll. Also, you might have duplicate LinkLib dll&#39;s and the wrong one is picked up than the one you are referencing."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2930590"}, "is_accepted": false, "score": 1, "last_activity_date": 1425497287, "last_edit_date": 1425497287, "creation_date": 1425495993, "answer_id": 28862770, "question_id": 28862271, "link": "https://stackoverflow.com/questions/28862271/how-to-call-a-c-dll-from-console-project/28862770#28862770", "title": "How to call a C# DLL from console project?", "body": "<p>Usually it is when you reference dll's that are build to a different .net target or platform (x86 or 64bit) as your settings for your current project. Otherwise one of the dll's is referencing another dll which cannot be found. You can download DotPeek from JetBrains for free and install. Open the dll's with DotPeek and see which other dll's they reference.</p>\n"}], "owner": {"reputation": 9648, "user_id": 3178237, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d809533c5ce964b709e2b38e6573973b?s=128&d=identicon&r=PG", "display_name": "Yerko Palma", "link": "https://stackoverflow.com/users/3178237/yerko-palma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1053, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425501634, "creation_date": 1425494230, "last_edit_date": 1425501634, "question_id": 28862271, "link": "https://stackoverflow.com/questions/28862271/how-to-call-a-c-dll-from-console-project", "title": "How to call a C# DLL from console project?", "body": "<p>I'm having problems with my C# project. This is my scenario.</p>\n\n<p>I have an external dll let's say <code>original.dll</code> and I need to wrap it so it can be used in multiple vb.net apps, so I'm making another dll to wrapp this orginal dll called <code>external.dll</code>. So while I'm developing this class library dll, I'm using a simple console project to test it, I included the references, build and test it with no problem... at least the first time, because when I try to rebuild my library and run it again it throws an exception</p>\n\n<blockquote>\n  <h3>FileNotFoundException</h3>\n  \n  <p>Can't load file or assembly 'LynkLib, Version=1.0.5533.27875, Culture=neutral, PublicKeyToken=null' or any of it's dependencies. </p>\n</blockquote>\n\n<p>I have already double checked the reference in VS, and the file on my folder. I try to restart VS and nothing.</p>\n\n<p>Here is my code, but I don't know if it helps because I think is some kind of configuration issue.</p>\n\n<h3>External library</h3>\n\n<pre><code>using System.IO;\nusing System.Net;\n...\n\n[assembly: CLSCompliant(true)] //to use also in vb.net \n\nnamespace externalDLL{\n\n    [ComVisible(true)]\n    public class Lynk\n    {\n        //...my code\n    }\n}\n</code></pre>\n\n<h3>Console project to test</h3>\n\n<pre><code>...\nusing externalDLL;\n\nnamespace TestLynk\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            externalDLL.Lynk l = new Lynk(); //Here the exception is triggered\n            ...\n        }\n    }\n}\n</code></pre>\n\n<h3>UPDATE</h3>\n\n<p>I found that the problem is on the <code>original.dll</code>. I can't modify the code of that dll, I can only edit the <code>external.dll</code>. I decompile the original dll and I can see the following assembly info</p>\n\n<pre><code>using System.Diagnostics;\nusing System.Reflection;\nusing System.Runtime.CompilerServices;\n\n// Assembly LynkLib, Version=1.0.5533.27875, Culture=neutral,      PublicKeyToken=null\n// MVID: E24FF563-B283-431E-9D53-71A59E4750E1\n// References: System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\n// References: mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\n// References: System.Security, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\n// References: System.Xml, Version=4.0.0.0, Culture=neutral,  PublicKeyToken=b77a5c561934e089\n\n[assembly: AssemblyTitle(\"LynkLib\")]\n[assembly: AssemblyDescription(\"\")]\n[assembly: AssemblyConfiguration(\"\")]\n[assembly: AssemblyCompany(\"###\")]\n[assembly: AssemblyProduct(\"###\")]\n[assembly: AssemblyCopyright(\"###\")]\n[assembly: AssemblyTrademark(\"\")]\n[assembly: Debuggable(DebuggableAttribute.DebuggingModes.DisableOptimizations | DebuggableAttribute.DebuggingModes.IgnoreSymbolStoreSequencePoints)]\n[assembly: RuntimeCompatibility(WrapNonExceptionThrows = true)]\n[assembly: AssemblyVersion(\"1.0.5533.27875\")]\n</code></pre>\n\n<p>On the rest of the code, I can see a lot of issues, there are many, but they say basically two things <code>// ISSUE: explicit constructor call</code> and <code>// ISSUE: variable of a boxed type</code></p>\n\n<p>I also downgraded my .NET version to 4.0 but still have problems. Any ideas?</p>\n"}, {"tags": ["c#", "asp.net-mvc-5", "asp.net-identity", "structuremap", "unit-of-work"], "comments": [{"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1425495131, "post_id": 28862270, "comment_id": 45990242, "body": "the whole point of a Unit Of Work is that it&#39;s self contained;  It is a Work process from context creation, item manipulation, database transaction, context destruction.  Why would you need to reference something from within this cycle from somewhere else?"}, {"owner": {"reputation": 99, "user_id": 2136002, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e530eaf652dde50797fcb1f1c898e43e?s=128&d=identicon&r=PG&f=1", "display_name": "Claudio Gareca", "link": "https://stackoverflow.com/users/2136002/claudio-gareca"}, "reply_to_user": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1425495385, "post_id": 28862270, "comment_id": 45990376, "body": "hi, because i want use the identity asp and some repository for my others Entities, for example every works ok until I try to use the other entities in my Account Controller. if i need get some currency and asig to my user entity i have the next error  &quot;An entity object cannot be referenced by multiple instances of IEntityChangeTracker&quot;"}, {"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1425495623, "post_id": 28862270, "comment_id": 45990525, "body": "The question is really unanswerable in this state.  It is not possible to know what your Context or UnitOfWork look like or how to restructure them without any code."}, {"owner": {"reputation": 99, "user_id": 2136002, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e530eaf652dde50797fcb1f1c898e43e?s=128&d=identicon&r=PG&f=1", "display_name": "Claudio Gareca", "link": "https://stackoverflow.com/users/2136002/claudio-gareca"}, "reply_to_user": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1425496362, "post_id": 28862270, "comment_id": 45990961, "body": "I Update the content whit my class."}], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 2136002, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e530eaf652dde50797fcb1f1c898e43e?s=128&d=identicon&r=PG&f=1", "display_name": "Claudio Gareca", "link": "https://stackoverflow.com/users/2136002/claudio-gareca"}, "is_accepted": true, "score": 2, "last_activity_date": 1429484187, "creation_date": 1429484187, "answer_id": 29736846, "question_id": 28862270, "link": "https://stackoverflow.com/questions/28862270/how-i-can-inject-context-from-unitofwork-using-structuremap/29736846#29736846", "title": "How i can inject context from UnitOfWork using StructureMap", "body": "<p>after a lot analyzing and understand, I finally find the solution,\nfirst i have to inject the same context to avoid inject a new instance of the Context. the solution is:</p>\n\n<pre><code>For&lt;DbContext&gt;().Use(()=&gt;System.Web.HttpContext.Current.GetOwinContext().Get&lt;ApplicationDbContext&gt;());\n</code></pre>\n\n<p>before i was injecting and add a new instance of the DBContex.</p>\n\n<pre><code> For&lt;DbContext&gt;().Use&lt;ApplicationDbContext&gt;(new ApplicationDbContext());\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 2136002, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e530eaf652dde50797fcb1f1c898e43e?s=128&d=identicon&r=PG&f=1", "display_name": "Claudio Gareca", "link": "https://stackoverflow.com/users/2136002/claudio-gareca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "accepted_answer_id": 29736846, "answer_count": 1, "score": 0, "last_activity_date": 1429484187, "creation_date": 1425494229, "last_edit_date": 1425496317, "question_id": 28862270, "link": "https://stackoverflow.com/questions/28862270/how-i-can-inject-context-from-unitofwork-using-structuremap", "title": "How i can inject context from UnitOfWork using StructureMap", "body": "<p>Hi i have mi project in MVC5, i am using Identity 2.0, commonRepository and Structuremap to inject dependencies, the problem is when I am in the controller AccountController, i have one Contex and when my UnitOfWork inject the repositories it create other Instance.</p>\n\n<p>how I can inject or replace the context of the identity whit my context from my UnitOfWork.</p>\n\n<p>Regards </p>\n\n<blockquote>\n  <p>Update</p>\n</blockquote>\n\n<p>AccountController</p>\n\n<pre><code> public class AccountController : Controller\n{\n    private readonly ApplicationSignInManager SignInManager;\n    private readonly ApplicationUserManager UserManager;\n    private readonly IAuthenticationManager AuthenticationManager;\n\n   // private readonly IUbicationDao _ubicationDao;\n    private readonly ICultureDao _cultureDao;\n    private readonly ICurrencyDao _currecieDao;\n\n\n    public AccountController(ApplicationUserManager userManager, ApplicationSignInManager signInManager, ICultureDao cultureDao, ICurrencyDao currecieDao, IAuthenticationManager authenticationManager)\n    {\n        UserManager = userManager;\n        SignInManager = signInManager;\n       // _ubicationDao = ubicationDao;\n        _cultureDao = cultureDao;\n        _currecieDao = currecieDao;\n        AuthenticationManager = authenticationManager;\n    }}\n</code></pre>\n\n<p>DefaultRegistry StructureMap</p>\n\n<pre><code> public class DefaultRegistry : Registry {\n    #region Constructors and Destructors\n    public static IList&lt;string&gt; Assemblies\n    {\n        get\n        {\n            return new List&lt;string&gt;\n            {\n                \"Interfaz\",\n                \"Persistencia\"\n            };\n        }\n    }\n\n    public static IList&lt;Tuple&lt;string, string&gt;&gt; ManuallyWired\n    {\n        get\n        {\n            return new List&lt;Tuple&lt;string, string&gt;&gt;()\n            {\n                Tuple.Create(\"IUserStore&lt;ApplicationUser&gt;\", \"UserStore&lt;ApplicationUser&gt;&gt;\"),\n                Tuple.Create(\"DbContext\", \"ApplicationDbContext\"),\n                Tuple.Create(\"IAuthenticationManager\", \"HttpContext.Current.GetOwinContext().Authentication\"),\n            };\n        }\n    }\n\n    public DefaultRegistry()\n    {\n        Scan(\n            scan =&gt;\n            {\n\n                foreach (var assembly in Assemblies)\n                {\n                    scan.Assembly(assembly);\n                }\n                scan.TheCallingAssembly();\n                scan.WithDefaultConventions();\n                scan.With(new ControllerConvention());\n\n            });\n\n\n\n        For&lt;IUserStore&lt;ApplicationUser&gt;&gt;().Use&lt;UserStore&lt;ApplicationUser&gt;&gt;();\n        For&lt;DbContext&gt;().Use&lt;ApplicationDbContext&gt;(new ApplicationDbContext());\n\n        For&lt;IAuthenticationManager&gt;().Use(() =&gt; HttpContext.Current.GetOwinContext().Authentication);\n        //DAos\n        For&lt;ICultureDao&gt;().Use&lt;CultureDao&gt;();\n        For&lt;ICurrencyDao&gt;().Use&lt;CurrencyDao&gt;();\n        For&lt;IUbicationDao&gt;().Use&lt;UbicationDao&gt;();\n        For&lt;IActivatorWrapper&gt;().Use&lt;ActivatorWrapper&gt;();\n        For&lt;IUnitOfWorkHelper&gt;().Use&lt;UnitOfWorkHelper&gt;();\n    }\n\n    #endregion\n}\n</code></pre>\n\n<p>UnitofWork</p>\n\n<pre><code>public class UnitOfWorkHelper : IUnitOfWorkHelper\n{\n    private ApplicationDbContext _sessionContext;\n   public event EventHandler&lt;ObjectCreatedEventArgs&gt; ObjectCreated;\n\n\n    public IApplicationDbContext DBContext\n    {\n        get\n        {\n            if (_sessionContext == null)\n            {\n                _sessionContext = new ApplicationDbContext();\n                ((IObjectContextAdapter)_sessionContext).ObjectContext.ObjectMaterialized += (sender, e) =&gt; OnObjectCreated(e.Entity);\n            }\n\n            return _sessionContext;\n        }\n    }\n\n    private void OnObjectCreated(object entity)\n    {\n        if (ObjectCreated != null)\n            ObjectCreated(this, new ObjectCreatedEventArgs(entity));\n    }\n\n    public void SaveChanges()\n    {\n        this.DBContext.SaveChanges();\n    }\n\n    public void RollBack()\n    {\n        if (_sessionContext != null)\n            _sessionContext.ChangeTracker.Entries()\n                .ToList()\n                .ForEach(entry =&gt; entry.State = EntityState.Unchanged);\n    }\n\n    public void Dispose()\n    {\n        if (_sessionContext != null)\n            _sessionContext.Dispose();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "image", "windows-phone-8.1", "margin", "windows-phone-store"], "answers": [{"comments": [{"owner": {"reputation": 1563, "user_id": 2024925, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/APh9z.jpg?s=128&g=1", "display_name": "vITs", "link": "https://stackoverflow.com/users/2024925/vits"}, "edited": false, "score": 0, "creation_date": 1425537546, "post_id": 28863963, "comment_id": 46006291, "body": "+one for ZIndex. Cheers"}], "tags": [], "owner": {"reputation": 14835, "user_id": 2059028, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2fbf62caebe159d87e6c8a415c2f281f?s=128&d=identicon&r=PG", "display_name": "Igor Ralic", "link": "https://stackoverflow.com/users/2059028/igor-ralic"}, "is_accepted": true, "score": 1, "last_activity_date": 1425499913, "creation_date": 1425499913, "answer_id": 28863963, "question_id": 28862192, "link": "https://stackoverflow.com/questions/28862192/two-images-overlapping-case-in-windows-phone/28863963#28863963", "title": "Two images overlapping case in windows phone", "body": "<p>You can set Canvas ZIndex (or Panel ZIndex)</p>\n\n<p>Read more about Canvas.ZIndex <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.controls.canvas.zindex%28v=vs.95%29.aspx\" rel=\"nofollow\">here on MSDN</a>.</p>\n\n<p>If you want to set it in code behind, you can do this:</p>\n\n<pre><code>someImage.SetValue(Canvas.ZIndexProperty, 1); \nsomeOtherImage.SetValue(Canvas.ZIndexProperty, 2); \n</code></pre>\n"}], "owner": {"reputation": 1563, "user_id": 2024925, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/APh9z.jpg?s=128&g=1", "display_name": "vITs", "link": "https://stackoverflow.com/users/2024925/vits"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 28863963, "answer_count": 1, "score": 0, "last_activity_date": 1425499913, "creation_date": 1425493989, "question_id": 28862192, "link": "https://stackoverflow.com/questions/28862192/two-images-overlapping-case-in-windows-phone", "title": "Two images overlapping case in windows phone", "body": "<p>Consider I have a grid in that I place two images A and B. Both are visible all the times as margins are set like that. Here as A is drawn first so B is completely Visible overlapping A partially and hence A is Partially visible. Here my Question comes : I want to alternate this behavior runtime that is , A is completely Visible and B is partially. As I can not redraw B first then A for this to happen. Do we have any property or something like Depth in windows phone?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 356, "user_id": 4320092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBXRA.jpg?s=128&g=1", "display_name": "Laurence Adams", "link": "https://stackoverflow.com/users/4320092/laurence-adams"}, "edited": false, "score": 0, "creation_date": 1425494101, "post_id": 28862174, "comment_id": 45989612, "body": "In the example you give, the changed line was exactly the same as the original.  What did you change the public modifier to?"}, {"owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "edited": false, "score": 0, "creation_date": 1425494248, "post_id": 28862174, "comment_id": 45989694, "body": "A class is <code>private</code> by default.  If you don&#39;t mark the class as <code>public</code>, then the variables within that class will also be <code>private</code>, unless otherwise declared.  In your example above, the class is <code>abstract</code>, but not <code>public</code>."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "edited": false, "score": 3, "creation_date": 1425494299, "post_id": 28862174, "comment_id": 45989725, "body": "@dubstylee the default accessibility of anything is the most narrow valid accessibility; that&#39;s not always <code>private</code>.  For example, non-nested classes cannot be <code>private</code>, so they must be <code>internal</code>."}, {"owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1425494339, "post_id": 28862174, "comment_id": 45989752, "body": "@Servy thanks for the clarification! :)"}], "answers": [{"tags": [], "owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "is_accepted": true, "score": 4, "last_activity_date": 1425494144, "creation_date": 1425494144, "answer_id": 28862244, "question_id": 28862174, "link": "https://stackoverflow.com/questions/28862174/why-dont-abstract-members-be-marked-as-public-automatically/28862244#28862244", "title": "why don&#39;t abstract members be marked as public automatically?", "body": "<p>They are not <em>abstract</em> members, they are <a href=\"https://msdn.microsoft.com/en-us/library/ms173118%28v=vs.110%29.aspx\" rel=\"nofollow\">Fields</a>. </p>\n\n<p>If you don't specify any access modifier with them then they will be treated as <code>private</code>, which means they are accessible inside the class <em>only</em> and you can't access them outside the class. </p>\n\n<p>So this line:</p>\n\n<pre><code>int a, b, result;\n</code></pre>\n\n<p>means </p>\n\n<pre><code>private int a, b, result;\n</code></pre>\n\n<p>Making them <code>public</code> would allow other classes to use these fields. If you only want these fields to be accessible in the inherited class then use <code>protected</code>. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4633531"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 28862244, "answer_count": 1, "score": -3, "last_activity_date": 1425494467, "creation_date": 1425493917, "last_edit_date": 1425494467, "question_id": 28862174, "link": "https://stackoverflow.com/questions/28862174/why-dont-abstract-members-be-marked-as-public-automatically", "title": "why don&#39;t abstract members be marked as public automatically?", "body": "<pre><code>abstract class mybase\n{\n    public int a, b, result;\n\n    public int Multi()\n    {\n        return 0;\n    }\n}\n\nclass derived : mybase\n{        \n    static void Main()\n    {\n        derived de = new derived();\n\n        Console.WriteLine(\"Result of 3 * 5 = {0}\", de.Multi());\n        Console.ReadLine();\n    }\n\n    public int Multi()\n    {\n        a = 3;\n        b = 5;\n        return (result = a * b);\n    }\n}\n</code></pre>\n\n<p>If I change the line: </p>\n\n<pre><code>public int a, b, result;\n</code></pre>\n\n<p>to</p>\n\n<pre><code> int a, b, result;\n</code></pre>\n\n<p>it will not work.</p>\n\n<p>My question is: Why don't variables a, b, result be marked as \"public abstract members\" automatically? </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 10, "creation_date": 1425493987, "post_id": 28862157, "comment_id": 45989565, "body": "VS comes with a powerful debugger.  Learn It. Use It. Love It."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1425493990, "post_id": 28862157, "comment_id": 45989568, "body": "Have you tried debugging through it, and looking at the results on each iteration? Ideally, write it down on a piece of paper..."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 2, "creation_date": 1425494556, "post_id": 28862157, "comment_id": 45989876, "body": "Check out <code>Math.Pow</code>."}], "answers": [{"comments": [{"owner": {"reputation": 36654, "user_id": 107625, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53a82f701ae492808834e621de2586eb?s=128&d=identicon&r=PG", "display_name": "Uwe Keim", "link": "https://stackoverflow.com/users/107625/uwe-keim"}, "edited": false, "score": 2, "creation_date": 1425495111, "post_id": 28862436, "comment_id": 45990226, "body": "<code>salaray</code> looks kinda wrong? Great example of the benefits of the <code>*=</code> operator ;-)"}], "tags": [], "owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "is_accepted": false, "score": 0, "last_activity_date": 1425495913, "last_edit_date": 1425495913, "creation_date": 1425494765, "answer_id": 28862436, "question_id": 28862157, "link": "https://stackoverflow.com/questions/28862157/i-cant-get-the-math-right-for-this-salary-code/28862436#28862436", "title": "I can&#39;t get the Math right for this salary code", "body": "<pre><code>    for (int wage = 0; wage &lt; w; wage++)\n    {\n        salary = salary * 2;\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1425495816, "last_edit_date": 1425495816, "creation_date": 1425495354, "answer_id": 28862569, "question_id": 28862157, "link": "https://stackoverflow.com/questions/28862157/i-cant-get-the-math-right-for-this-salary-code/28862569#28862569", "title": "I can&#39;t get the Math right for this salary code", "body": "<p>So what you're really doing is multiplying salary by 2 to a power (from 0 to 13). Something like:</p>\n\n<pre><code>public static void Main(string[] args)\n{\n    int salary = 1;\n    int w;\n\n    Console.WriteLine(\"Enter number of days worked: \");\n    w = Convert.ToInt32(Console.ReadLine());\n\n    salary *= Math.Pow(2, Math.Min(w - 1, 13));\n\n    Console.WriteLine(\"The salary is: ${0}.00\", salary);\n    Console.WriteLine(\"Press any key to close....\");\n    Console.ReadKey();\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "edited": false, "score": 0, "creation_date": 1425500935, "post_id": 28862783, "comment_id": 45993584, "body": "He Does State &quot;For Example: on day 1 the output should be 1; on day 2 the output should be 2; day 3 output should be 4;&quot;"}], "tags": [], "owner": {"reputation": 548, "user_id": 4610451, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c5db99a25c0b9310da053c50b0ee0500?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Sharma", "link": "https://stackoverflow.com/users/4610451/gaurav-sharma"}, "is_accepted": true, "score": 0, "last_activity_date": 1425496037, "creation_date": 1425496037, "answer_id": 28862783, "question_id": 28862157, "link": "https://stackoverflow.com/questions/28862157/i-cant-get-the-math-right-for-this-salary-code/28862783#28862783", "title": "I can&#39;t get the Math right for this salary code", "body": "<p>I think salary don't get double every day but increases by 100% of basic salary by everyday. As you said, base salary is 1. First day it is 1, second day 2, third day 3 (would have been 4 in case of double). Please correct if my understanding is wrong. I changed your code to below as per my understanding.</p>\n\n<p><em>And output of amount earner on 14th day is 105.00</em></p>\n\n<pre><code>public static void Main(string[] args)\n        {\n            int salary = 1;\n            int w;\n            int amountEarned = 0;\n\n            Console.WriteLine(\"Enter number of days worked: \");\n            w = Convert.ToInt32(Console.ReadLine());\n\n            for (int wage = 1; wage &lt; w + 1; wage++)\n            {\n                var currentDaySalary = (salary * ((wage*100)/100));\n                amountEarned += currentDaySalary;\n            }\n            Console.WriteLine(\"The salary is: ${0}.00\", amountEarned);\n            Console.WriteLine(\"Press any key to close....\");\n            Console.ReadKey();\n\n        }\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 4543731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/792bc6717a0fd61cd386c2333435f432?s=128&d=identicon&r=PG&f=1", "display_name": "DJAY", "link": "https://stackoverflow.com/users/4543731/djay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 28862783, "answer_count": 3, "score": -4, "last_activity_date": 1425496037, "creation_date": 1425493873, "question_id": 28862157, "link": "https://stackoverflow.com/questions/28862157/i-cant-get-the-math-right-for-this-salary-code", "title": "I can&#39;t get the Math right for this salary code", "body": "<p>I can't get the math right for this code. Im trying to output a salary that doubles each day for up to 14 days. For Example: on day 1 the output should be 1; on day 2 the output should be 2; day 3 output should be 4; and on day 14 the output should be 1050.</p>\n\n<pre><code>using System;\n\npublic class Salary\n{\n    public static void Main(string[] args)\n    {\n        int salary = 1;\n        int w;\n\n        Console.WriteLine(\"Enter number of days worked: \");\n        w = Convert.ToInt32(Console.ReadLine());\n\n        for (int wage = 1; wage &lt; w + 1; wage++)\n        {\n            salary = wage * salary;\n        }\n        Console.WriteLine(\"The salary is: ${0}.00\", salary);\n        Console.WriteLine(\"Press any key to close....\");\n        Console.ReadKey();\n\n    }\n}\n</code></pre>\n"}]