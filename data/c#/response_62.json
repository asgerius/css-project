[{"tags": ["c#", "quartz-scheduler", "quartz.net"], "comments": [{"owner": {"reputation": 13559, "user_id": 381282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2a1d1820d474408cc6382716b9935f?s=128&d=identicon&r=PG", "display_name": "Michal Lev&#253;", "link": "https://stackoverflow.com/users/381282/michal-lev%c3%bd"}, "edited": false, "score": 0, "creation_date": 1458832570, "post_id": 36049164, "comment_id": 60040587, "body": "What logging framework are you using ?"}, {"owner": {"reputation": 13559, "user_id": 381282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2a1d1820d474408cc6382716b9935f?s=128&d=identicon&r=PG", "display_name": "Michal Lev&#253;", "link": "https://stackoverflow.com/users/381282/michal-lev%c3%bd"}, "edited": false, "score": 0, "creation_date": 1459336946, "post_id": 36049164, "comment_id": 60238203, "body": "Well, then you have your answer..."}], "answers": [{"tags": [], "owner": {"reputation": 13559, "user_id": 381282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2a1d1820d474408cc6382716b9935f?s=128&d=identicon&r=PG", "display_name": "Michal Lev&#253;", "link": "https://stackoverflow.com/users/381282/michal-lev%c3%bd"}, "is_accepted": true, "score": 3, "last_activity_date": 1458833799, "creation_date": 1458833799, "answer_id": 36204140, "question_id": 36049164, "link": "https://stackoverflow.com/questions/36049164/preventing-quartz-net-from-logging-jobexecutionexception/36204140#36204140", "title": "Preventing Quartz.NET from logging JobExecutionException", "body": "<p>As Quartz.NET is using Common.Logging abstraction, which you have to configure to use logging framework of your choice, best way to disable logs from Quartz is in your's logging framework configuration.</p>\n\n<p>Example for Log4net (xml config):</p>\n\n<pre><code>&lt;logger name=\"Quartz\"&gt;\n   &lt;level value=\"OFF\" /&gt;\n&lt;/logger&gt;\n</code></pre>\n"}], "owner": {"reputation": 1403, "user_id": 2981639, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d45a19d42e0043b4ee22e480f1847699?s=128&d=identicon&r=PG&f=1", "display_name": "David Waterworth", "link": "https://stackoverflow.com/users/2981639/david-waterworth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1172, "favorite_count": 0, "accepted_answer_id": 36204140, "answer_count": 1, "score": 0, "last_activity_date": 1458833799, "creation_date": 1458172234, "question_id": 36049164, "link": "https://stackoverflow.com/questions/36049164/preventing-quartz-net-from-logging-jobexecutionexception", "title": "Preventing Quartz.NET from logging JobExecutionException", "body": "<p>I've implemented a Quartz.NET scheduler which is initialised from quartz.config using the standard method i.e.</p>\n\n<pre><code>    _schedulerFactory = new StdSchedulerFactory();\n    _scheduler = _schedulerFactory.GetScheduler();\n</code></pre>\n\n<p>My understanding was out of the box Quartz doesn't log anything unless you explicitly wire up a Job or Trigger listener, however I'm getting a lot of logging, in particular when I throw a JobExecutionException I get the following INFO message which includes the full stack trace of the inner exception. I don't want this as I'm handling the exception myself in a JobListener and only want to log actual exceptions (I'm throwing FileNotFound exceptions and the JobListener will reschedule later so don't want to log this as an error)</p>\n\n<p>How can I prevent JobRunShell from logging?</p>\n\n<pre><code>2016-03-17 12:31:33,677 JobSchedulerService_Worker-1 INFO  JobRunShell                    Run                    Job Jobs.TestJob threw a JobExecutionException: \n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1458173007, "post_id": 36049158, "comment_id": 59746931, "body": "All you have done with your <code>Ticket ticket = new Ticket{ ... }</code> line of code is set the value of 2 properties - <code>Issue</code> and <code>IssuedTo</code> - No where have you set a value for <code>CategoryID</code>. And study the DotNetFiddle again - you still have multiple other errors."}, {"owner": {"reputation": 1038, "user_id": 5514388, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/43b7b5eb3f52338c6a41144cf2cc898e?s=128&d=identicon&r=PG&f=1", "display_name": "TykiMikk", "link": "https://stackoverflow.com/users/5514388/tykimikk"}, "edited": false, "score": 0, "creation_date": 1458177250, "post_id": 36049158, "comment_id": 59748147, "body": "Why do you have <code>public int Author { get; set; }</code> in the Ticket model? Should <code>CategoryID = model.CategoryID</code> be enough?<a href=\"https://dotnetfiddle.net/DOiFs2\" rel=\"nofollow noreferrer\">dotnetfiddle.net/DOiFs2</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1458177823, "post_id": 36049158, "comment_id": 59748342, "body": "The DotNetFiddle included a property <code>Author</code> to describe the user who created the Ticket (which I assume your referring to as UserID<code>). Since your </code>Ticket` needs 2 properties for users (the user who created it, and the user (administrator) its been assigned to), then you should name your properties to describe what they actually are - which is what I did in the fiddle - I named them <code>Author</code> and <code>IssuedTo</code> (but they could be <code>CreatedBy</code> and <code>Administrator</code> or what ever you want - just make them meaningful)"}, {"owner": {"reputation": 1038, "user_id": 5514388, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/43b7b5eb3f52338c6a41144cf2cc898e?s=128&d=identicon&r=PG&f=1", "display_name": "TykiMikk", "link": "https://stackoverflow.com/users/5514388/tykimikk"}, "edited": false, "score": 0, "creation_date": 1458179213, "post_id": 36049158, "comment_id": 59748762, "body": "I added <code>CategoryID = model.CategoryID</code> and <code>Author = model.UserID,</code> but since Author is type int? and UserID is type int should i just cast it?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1458180559, "post_id": 36049158, "comment_id": 59749130, "body": "You can always make it <code>int</code> rather than <code>int?</code>. But you don&#39;t seem to be understanding the logic here. Your creating a new ticket and that ticket should be assigned to the current user. The current user should not be able to create a ticket for another user. You should not evenhave a dropdownlist for that property. You only assign the value of <code>Author (or </code>UserID`) in the POST method just before you save the data model."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1458180623, "post_id": 36049158, "comment_id": 59749146, "body": "But try and make some effort to understand the code in your POST method. Your first <code>if (!ModelState.IsValid)</code> is correct except that you need to change the <code>ConfigureViewModel()</code> method to also create the <code>SelectList</code>&#39;s for AllUsers and Categories (why on earth you need AllUsers only you know). Then you create the <code>Ticket</code> data model and you need to set <b>all</b> its properties including <code>CategoryID</code>. But the 2nd <code>if (ModelState.IsValid)</code> block is pointless - it is already valid (if it wasn&#39;t) you would never have got this far."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1458180773, "post_id": 36049158, "comment_id": 59749197, "body": "Then once you call <code>db.SaveChanges()</code> you need to redirect. There is no point calling <code>return View();</code> and if you do then it will just start throwing errors because you have not populated the <code>SelectList</code>&#39;s. And finally you need to delete the last 4 line of your code - it can never even reach them because you have already exited the method"}, {"owner": {"reputation": 1038, "user_id": 5514388, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/43b7b5eb3f52338c6a41144cf2cc898e?s=128&d=identicon&r=PG&f=1", "display_name": "TykiMikk", "link": "https://stackoverflow.com/users/5514388/tykimikk"}, "edited": false, "score": 0, "creation_date": 1458430790, "post_id": 36049158, "comment_id": 59859016, "body": "I&#39;m just confused about the UserID part. If I take out the dropdown list for User ID then how would the application know who created the ticket? Anyone can go on the site and create a ticket with nothing to differentiate between them?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1458433840, "post_id": 36049158, "comment_id": 59859752, "body": "Not sure I understand what you mean. Surely your uses login, so therefore you know who the current user is. So in the POST method, then the set <code>UserID = theCurrentUserId</code>"}, {"owner": {"reputation": 1038, "user_id": 5514388, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/43b7b5eb3f52338c6a41144cf2cc898e?s=128&d=identicon&r=PG&f=1", "display_name": "TykiMikk", "link": "https://stackoverflow.com/users/5514388/tykimikk"}, "edited": false, "score": 0, "creation_date": 1458440525, "post_id": 36049158, "comment_id": 59861040, "body": "I&#39;ve added a &quot;AccountController&quot; and &quot;AccountModels&quot; into the question. This codes were not written by me but all I know is that whenever I register an account it&#39;ll save it somewhere. Where do I get theCurrentUserID?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1458440669, "post_id": 36049158, "comment_id": 59861057, "body": "<a href=\"https://www.google.com.au/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=mvc+WebSecurity+get+userid\" rel=\"nofollow noreferrer\">mvc websecurity get userid</a>"}], "owner": {"reputation": 1038, "user_id": 5514388, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/43b7b5eb3f52338c6a41144cf2cc898e?s=128&d=identicon&r=PG&f=1", "display_name": "TykiMikk", "link": "https://stackoverflow.com/users/5514388/tykimikk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 440, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1582202688, "creation_date": 1458172192, "last_edit_date": 1458440024, "question_id": 36049158, "link": "https://stackoverflow.com/questions/36049158/mvc-the-insert-statement-conflicted-with-the-foreign-key-constraint", "title": "MVC The INSERT statement conflicted with the FOREIGN KEY constraint", "body": "<p>When I try to create a ticket on my create.cshtml it gives me this error. I think it's because my Category uses a dropdownlist using ViewBags while my User and Administrator dropdown list doesn't.</p>\n\n<blockquote>\n  <p>The INSERT statement conflicted with the FOREIGN KEY constraint\n  \"FK_dbo.Ticket_dbo.Category_CategoryID\". The conflict occurred in\n  database \"RecreationalServicesTicketingSystem.DAL.IssueContext\", table\n  \"dbo.Category\", column 'CategoryID'. The statement has been\n  terminated.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/rXjoc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rXjoc.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/zXvVw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zXvVw.png\" alt=\"enter image description here\"></a></p>\n\n<p>TicketController.cs</p>\n\n<pre><code>public class TicketController : Controller\n{\n    private IssueContext db = new IssueContext();\n\n    public ActionResult Create()\n    {\n        TicketVM model = new TicketVM();\n        ConfigureViewModel(model);\n        ViewBag.CategoryID = new SelectList(db.Categories, \"CategoryID\", \"CategoryName\");\n        ViewBag.AllUsers = db.Users.ToList().Select(u =&gt; new SelectListItem() { Value = u.UserID.ToString(), Text = string.Format(\"{0} {1}\", u.FirstMidName, u.LastName) });\n        return View(model);\n    }\n\n    [HttpPost]\n    [ValidateAntiForgeryToken]\n    public ActionResult Create(TicketVM model)   \n    {\n        if (!ModelState.IsValid)\n        {\n            ConfigureViewModel(model);\n            return View(model);\n        }\n        Ticket ticket = new Ticket\n        {\n            Issue = model.Issue,\n            IssuedTo = model.IssuedTo\n        };\n        if (ModelState.IsValid)\n        {\n            db.Tickets.Add(ticket);\n ERROR------&gt;   db.SaveChanges();  &lt;------ ERROR\n            return View();\n        }\n        ViewBag.CategoryID = new SelectList(db.Categories, \"CategoryID\", \"CategoryName\", ticket.CategoryID);\n        ViewBag.AllUsers = db.Users.ToList().Select(u =&gt; new SelectListItem() { Value = u.UserID.ToString(), Text = string.Format(\"{0} {1}\", u.FirstMidName, u.LastName) });\n        ViewBag.AllAdmins = db.Users.Where(u =&gt; u.IsAdministrator).Include(u =&gt; u.Tickets);\n        return View(ticket);\n    }\n\n    private void ConfigureViewModel(TicketVM model)\n    {\n        IEnumerable&lt;User&gt; admins = db.Users.Where(u =&gt; u.IsAdministrator).OrderBy(u =&gt; u.LastName);\n        model.AdministratorList = admins.Select(a =&gt; new SelectListItem\n        {\n            Value = a.UserID.ToString(),\n            Text = string.Format(\"{0} {1}\", a.FirstMidName, a.LastName)\n        });\n    }\n}\n</code></pre>\n\n<p>\\Views\\Ticket\\Create.cshtml</p>\n\n<pre><code>@model RecreationalServicesTicketingSystem.ViewModels.TicketVM\n\n@{\n    ViewBag.Title = \"Create\";\n}\n\n&lt;h2&gt;Create&lt;/h2&gt;\n\n@using (Html.BeginForm()) {\n    @Html.AntiForgeryToken()\n    @Html.ValidationSummary(true)\n\n    &lt;fieldset&gt;\n        &lt;legend&gt;Ticket&lt;/legend&gt;\n\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.CategoryID, \"Category\")\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.DropDownList(\"CategoryID\", String.Empty)\n            @Html.ValidationMessageFor(model =&gt; model.CategoryID)\n        &lt;/div&gt;\n\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.UserID, \"User\")\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.DropDownListFor(m =&gt; m.UserID, (IEnumerable&lt;SelectListItem&gt;)ViewBag.AllUsers, \"Please select\")`\n            @Html.ValidationMessageFor(model =&gt; model.UserID)\n        &lt;/div&gt;\n\n        &lt;div class=\"editor-field\"&gt;\n            @using (Html.BeginForm())\n            {\n                @Html.HiddenFor(m =&gt; m.UserID)\n                &lt;div class=\"form-group\"&gt;\n                    @Html.LabelFor(m =&gt; m.IssuedTo)\n                    @Html.DropDownListFor(m =&gt; m.IssuedTo, Model.AdministratorList, \"Please select\", new { @class = \"form-control\" })\n                    @Html.ValidationMessageFor(m =&gt; m.IssuedTo)\n                &lt;/div&gt;\n                &lt;div class=\"form-group\"&gt;\n                    @Html.LabelFor(m =&gt; m.Issue)\n                    @Html.TextBoxFor(m =&gt; m.Issue, new { @class = \"form-control\" })\n                    @Html.ValidationMessageFor(m =&gt; m.Issue)\n                &lt;/div&gt;\n            }\n        &lt;/div&gt;\n        &lt;p&gt;\n            &lt;input type=\"submit\" value=\"Create\" /&gt;\n        &lt;/p&gt;\n&lt;/fieldset&gt;\n}\n\n&lt;div&gt;\n    @Html.ActionLink(\"Back to List\", \"Index\")\n&lt;/div&gt;\n\n@section Scripts {\n    @Scripts.Render(\"~/bundles/jqueryval\")\n}\n</code></pre>\n\n<p>Category.cs </p>\n\n<pre><code>public class Category\n{\n    [DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public int CategoryID { get; set; }\n    public string CategoryName { get; set; }\n    public virtual ICollection&lt;Ticket&gt; Tickets { get; set; }\n}\n</code></pre>\n\n<p>Ticket.cs</p>\n\n<pre><code>public enum Priority\n{\n    Low, Med, High\n}\npublic class Ticket\n{\n    public int? TicketID { get; set; }\n    [Required(ErrorMessage = \"Please enter the description\")]\n    public string Issue { get; set; }\n    [Display(Name = \"Administrator\")]\n    [Required(ErrorMessage = \"Please select the Administrator\")]\n    public int IssuedTo { get; set; }\n    public int Author { get; set; }\n\n    [DisplayFormat(NullDisplayText = \"No Priority\")]\n    public Priority? Priority { get; set; }\n    [ForeignKey(\"CategoryID\")]\n    public virtual Category Category { get; set; }\n    public int CategoryID { get; set; }\n    public int UserID { get; set; }\n    [ForeignKey(\"UserID\")]\n    public virtual User User { get; set; }\n}\n</code></pre>\n\n<p>ViewModels\\TicketVM.cs</p>\n\n<pre><code>public class TicketVM\n{\n    public int? UserID { get; set; }\n    [Required(ErrorMessage = \"Please enter the description\")]\n    public string Issue { get; set; }\n    [Display(Name = \"Administrator\")]\n    [Required(ErrorMessage = \"Please select the Administrator\")]\n    public int IssuedTo { get; set; }\n    public IEnumerable&lt;SelectListItem&gt; AdministratorList { get; set; }\n    public int CategoryID { get; set; }\n}\n</code></pre>\n\n<p>AccountController.cs</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Transactions;\nusing System.Web;\nusing System.Web.Mvc;\nusing System.Web.Security;\nusing DotNetOpenAuth.AspNet;\nusing Microsoft.Web.WebPages.OAuth;\nusing WebMatrix.WebData;\nusing RecreationalServicesTicketingSystem.Filters;\nusing RecreationalServicesTicketingSystem.Models;\n\nnamespace RecreationalServicesTicketingSystem.Controllers\n{\n    [Authorize]\n    [InitializeSimpleMembership]\n    public class AccountController : Controller\n    {\n        //\n        // GET: /Account/Login\n\n        [AllowAnonymous]\n        public ActionResult Login(string returnUrl)\n        {\n            ViewBag.ReturnUrl = returnUrl;\n            return View();\n        }\n\n        //\n        // POST: /Account/Login\n\n        [HttpPost]\n        [AllowAnonymous]\n        [ValidateAntiForgeryToken]\n        public ActionResult Login(LoginModel model, string returnUrl)\n        {\n            if (ModelState.IsValid &amp;&amp; WebSecurity.Login(model.UserName, model.Password, persistCookie: model.RememberMe))\n            {\n                return RedirectToLocal(returnUrl);\n            }\n\n            // If we got this far, something failed, redisplay form\n            ModelState.AddModelError(\"\", \"The user name or password provided is incorrect.\");\n            return View(model);\n        }\n\n        //\n        // POST: /Account/LogOff\n\n        [HttpPost]\n        [ValidateAntiForgeryToken]\n        public ActionResult LogOff()\n        {\n            WebSecurity.Logout();\n\n            return RedirectToAction(\"Index\", \"Home\");\n        }\n\n        //\n        // GET: /Account/Register\n\n        [AllowAnonymous]\n        public ActionResult Register()\n        {\n            return View();\n        }\n\n        //\n        // POST: /Account/Register\n\n        [HttpPost]\n        [AllowAnonymous]\n        [ValidateAntiForgeryToken]\n        public ActionResult Register(RegisterModel model)\n        {\n            if (ModelState.IsValid)\n            {\n                // Attempt to register the user\n                try\n                {\n                    WebSecurity.CreateUserAndAccount(model.UserName, model.Password);\n                    WebSecurity.Login(model.UserName, model.Password);\n                    return RedirectToAction(\"Index\", \"Home\");\n                }\n                catch (MembershipCreateUserException e)\n                {\n                    ModelState.AddModelError(\"\", ErrorCodeToString(e.StatusCode));\n                }\n            }\n\n            // If we got this far, something failed, redisplay form\n            return View(model);\n        }\n\n        //\n        // POST: /Account/Disassociate\n\n        [HttpPost]\n        [ValidateAntiForgeryToken]\n        public ActionResult Disassociate(string provider, string providerUserId)\n        {\n            string ownerAccount = OAuthWebSecurity.GetUserName(provider, providerUserId);\n            ManageMessageId? message = null;\n\n            // Only disassociate the account if the currently logged in user is the owner\n            if (ownerAccount == User.Identity.Name)\n            {\n                // Use a transaction to prevent the user from deleting their last login credential\n                using (var scope = new TransactionScope(TransactionScopeOption.Required, new TransactionOptions { IsolationLevel = IsolationLevel.Serializable }))\n                {\n                    bool hasLocalAccount = OAuthWebSecurity.HasLocalAccount(WebSecurity.GetUserId(User.Identity.Name));\n                    if (hasLocalAccount || OAuthWebSecurity.GetAccountsFromUserName(User.Identity.Name).Count &gt; 1)\n                    {\n                        OAuthWebSecurity.DeleteAccount(provider, providerUserId);\n                        scope.Complete();\n                        message = ManageMessageId.RemoveLoginSuccess;\n                    }\n                }\n            }\n\n            return RedirectToAction(\"Manage\", new { Message = message });\n        }\n\n        //\n        // GET: /Account/Manage\n\n        public ActionResult Manage(ManageMessageId? message)\n        {\n            ViewBag.StatusMessage =\n                message == ManageMessageId.ChangePasswordSuccess ? \"Your password has been changed.\"\n                : message == ManageMessageId.SetPasswordSuccess ? \"Your password has been set.\"\n                : message == ManageMessageId.RemoveLoginSuccess ? \"The external login was removed.\"\n                : \"\";\n            ViewBag.HasLocalPassword = OAuthWebSecurity.HasLocalAccount(WebSecurity.GetUserId(User.Identity.Name));\n            ViewBag.ReturnUrl = Url.Action(\"Manage\");\n            return View();\n        }\n\n        //\n        // POST: /Account/Manage\n\n        [HttpPost]\n        [ValidateAntiForgeryToken]\n        public ActionResult Manage(LocalPasswordModel model)\n        {\n            bool hasLocalAccount = OAuthWebSecurity.HasLocalAccount(WebSecurity.GetUserId(User.Identity.Name));\n            ViewBag.HasLocalPassword = hasLocalAccount;\n            ViewBag.ReturnUrl = Url.Action(\"Manage\");\n            if (hasLocalAccount)\n            {\n                if (ModelState.IsValid)\n                {\n                    // ChangePassword will throw an exception rather than return false in certain failure scenarios.\n                    bool changePasswordSucceeded;\n                    try\n                    {\n                        changePasswordSucceeded = WebSecurity.ChangePassword(User.Identity.Name, model.OldPassword, model.NewPassword);\n                    }\n                    catch (Exception)\n                    {\n                        changePasswordSucceeded = false;\n                    }\n\n                    if (changePasswordSucceeded)\n                    {\n                        return RedirectToAction(\"Manage\", new { Message = ManageMessageId.ChangePasswordSuccess });\n                    }\n                    else\n                    {\n                        ModelState.AddModelError(\"\", \"The current password is incorrect or the new password is invalid.\");\n                    }\n                }\n            }\n            else\n            {\n                // User does not have a local password so remove any validation errors caused by a missing\n                // OldPassword field\n                ModelState state = ModelState[\"OldPassword\"];\n                if (state != null)\n                {\n                    state.Errors.Clear();\n                }\n\n                if (ModelState.IsValid)\n                {\n                    try\n                    {\n                        WebSecurity.CreateAccount(User.Identity.Name, model.NewPassword);\n                        return RedirectToAction(\"Manage\", new { Message = ManageMessageId.SetPasswordSuccess });\n                    }\n                    catch (Exception)\n                    {\n                        ModelState.AddModelError(\"\", String.Format(\"Unable to create local account. An account with the name \\\"{0}\\\" may already exist.\", User.Identity.Name));\n                    }\n                }\n            }\n\n            // If we got this far, something failed, redisplay form\n            return View(model);\n        }\n\n        //\n        // POST: /Account/ExternalLogin\n\n        [HttpPost]\n        [AllowAnonymous]\n        [ValidateAntiForgeryToken]\n        public ActionResult ExternalLogin(string provider, string returnUrl)\n        {\n            return new ExternalLoginResult(provider, Url.Action(\"ExternalLoginCallback\", new { ReturnUrl = returnUrl }));\n        }\n\n        //\n        // GET: /Account/ExternalLoginCallback\n\n        [AllowAnonymous]\n        public ActionResult ExternalLoginCallback(string returnUrl)\n        {\n            AuthenticationResult result = OAuthWebSecurity.VerifyAuthentication(Url.Action(\"ExternalLoginCallback\", new { ReturnUrl = returnUrl }));\n            if (!result.IsSuccessful)\n            {\n                return RedirectToAction(\"ExternalLoginFailure\");\n            }\n\n            if (OAuthWebSecurity.Login(result.Provider, result.ProviderUserId, createPersistentCookie: false))\n            {\n                return RedirectToLocal(returnUrl);\n            }\n\n            if (User.Identity.IsAuthenticated)\n            {\n                // If the current user is logged in add the new account\n                OAuthWebSecurity.CreateOrUpdateAccount(result.Provider, result.ProviderUserId, User.Identity.Name);\n                return RedirectToLocal(returnUrl);\n            }\n            else\n            {\n                // User is new, ask for their desired membership name\n                string loginData = OAuthWebSecurity.SerializeProviderUserId(result.Provider, result.ProviderUserId);\n                ViewBag.ProviderDisplayName = OAuthWebSecurity.GetOAuthClientData(result.Provider).DisplayName;\n                ViewBag.ReturnUrl = returnUrl;\n                return View(\"ExternalLoginConfirmation\", new RegisterExternalLoginModel { UserName = result.UserName, ExternalLoginData = loginData });\n            }\n        }\n\n        //\n        // POST: /Account/ExternalLoginConfirmation\n\n        [HttpPost]\n        [AllowAnonymous]\n        [ValidateAntiForgeryToken]\n        public ActionResult ExternalLoginConfirmation(RegisterExternalLoginModel model, string returnUrl)\n        {\n            string provider = null;\n            string providerUserId = null;\n\n            if (User.Identity.IsAuthenticated || !OAuthWebSecurity.TryDeserializeProviderUserId(model.ExternalLoginData, out provider, out providerUserId))\n            {\n                return RedirectToAction(\"Manage\");\n            }\n\n            if (ModelState.IsValid)\n            {\n                // Insert a new user into the database\n                using (UsersContext db = new UsersContext())\n                {\n                    UserProfile user = db.UserProfiles.FirstOrDefault(u =&gt; u.UserName.ToLower() == model.UserName.ToLower());\n                    // Check if user already exists\n                    if (user == null)\n                    {\n                        // Insert name into the profile table\n                        db.UserProfiles.Add(new UserProfile { UserName = model.UserName });\n                        db.SaveChanges();\n\n                        OAuthWebSecurity.CreateOrUpdateAccount(provider, providerUserId, model.UserName);\n                        OAuthWebSecurity.Login(provider, providerUserId, createPersistentCookie: false);\n\n                        return RedirectToLocal(returnUrl);\n                    }\n                    else\n                    {\n                        ModelState.AddModelError(\"UserName\", \"User name already exists. Please enter a different user name.\");\n                    }\n                }\n            }\n\n            ViewBag.ProviderDisplayName = OAuthWebSecurity.GetOAuthClientData(provider).DisplayName;\n            ViewBag.ReturnUrl = returnUrl;\n            return View(model);\n        }\n\n        //\n        // GET: /Account/ExternalLoginFailure\n\n        [AllowAnonymous]\n        public ActionResult ExternalLoginFailure()\n        {\n            return View();\n        }\n\n        [AllowAnonymous]\n        [ChildActionOnly]\n        public ActionResult ExternalLoginsList(string returnUrl)\n        {\n            ViewBag.ReturnUrl = returnUrl;\n            return PartialView(\"_ExternalLoginsListPartial\", OAuthWebSecurity.RegisteredClientData);\n        }\n\n        [ChildActionOnly]\n        public ActionResult RemoveExternalLogins()\n        {\n            ICollection&lt;OAuthAccount&gt; accounts = OAuthWebSecurity.GetAccountsFromUserName(User.Identity.Name);\n            List&lt;ExternalLogin&gt; externalLogins = new List&lt;ExternalLogin&gt;();\n            foreach (OAuthAccount account in accounts)\n            {\n                AuthenticationClientData clientData = OAuthWebSecurity.GetOAuthClientData(account.Provider);\n\n                externalLogins.Add(new ExternalLogin\n                {\n                    Provider = account.Provider,\n                    ProviderDisplayName = clientData.DisplayName,\n                    ProviderUserId = account.ProviderUserId,\n                });\n            }\n\n            ViewBag.ShowRemoveButton = externalLogins.Count &gt; 1 || OAuthWebSecurity.HasLocalAccount(WebSecurity.GetUserId(User.Identity.Name));\n            return PartialView(\"_RemoveExternalLoginsPartial\", externalLogins);\n        }\n\n        #region Helpers\n        private ActionResult RedirectToLocal(string returnUrl)\n        {\n            if (Url.IsLocalUrl(returnUrl))\n            {\n                return Redirect(returnUrl);\n            }\n            else\n            {\n                return RedirectToAction(\"Index\", \"Home\");\n            }\n        }\n\n        public enum ManageMessageId\n        {\n            ChangePasswordSuccess,\n            SetPasswordSuccess,\n            RemoveLoginSuccess,\n        }\n\n        internal class ExternalLoginResult : ActionResult\n        {\n            public ExternalLoginResult(string provider, string returnUrl)\n            {\n                Provider = provider;\n                ReturnUrl = returnUrl;\n            }\n\n            public string Provider { get; private set; }\n            public string ReturnUrl { get; private set; }\n\n            public override void ExecuteResult(ControllerContext context)\n            {\n                OAuthWebSecurity.RequestAuthentication(Provider, ReturnUrl);\n            }\n        }\n\n        private static string ErrorCodeToString(MembershipCreateStatus createStatus)\n        {\n            // See http://go.microsoft.com/fwlink/?LinkID=177550 for\n            // a full list of status codes.\n            switch (createStatus)\n            {\n                case MembershipCreateStatus.DuplicateUserName:\n                    return \"User name already exists. Please enter a different user name.\";\n\n                case MembershipCreateStatus.DuplicateEmail:\n                    return \"A user name for that e-mail address already exists. Please enter a different e-mail address.\";\n\n                case MembershipCreateStatus.InvalidPassword:\n                    return \"The password provided is invalid. Please enter a valid password value.\";\n\n                case MembershipCreateStatus.InvalidEmail:\n                    return \"The e-mail address provided is invalid. Please check the value and try again.\";\n\n                case MembershipCreateStatus.InvalidAnswer:\n                    return \"The password retrieval answer provided is invalid. Please check the value and try again.\";\n\n                case MembershipCreateStatus.InvalidQuestion:\n                    return \"The password retrieval question provided is invalid. Please check the value and try again.\";\n\n                case MembershipCreateStatus.InvalidUserName:\n                    return \"The user name provided is invalid. Please check the value and try again.\";\n\n                case MembershipCreateStatus.ProviderError:\n                    return \"The authentication provider returned an error. Please verify your entry and try again. If the problem persists, please contact your system administrator.\";\n\n                case MembershipCreateStatus.UserRejected:\n                    return \"The user creation request has been canceled. Please verify your entry and try again. If the problem persists, please contact your system administrator.\";\n\n                default:\n                    return \"An unknown error occurred. Please verify your entry and try again. If the problem persists, please contact your system administrator.\";\n            }\n        }\n        #endregion\n    }\n}\n</code></pre>\n\n<p>Models\\AccountModels.cs</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\nusing System.ComponentModel.DataAnnotations.Schema;\nusing System.Data.Entity;\nusing System.Globalization;\nusing System.Web.Security;\n\nnamespace RecreationalServicesTicketingSystem.Models\n{\n    public class UsersContext : DbContext\n    {\n        public UsersContext()\n            : base(\"DefaultConnection\")\n        {\n        }\n\n        public DbSet&lt;UserProfile&gt; UserProfiles { get; set; }\n    }\n\n    [Table(\"UserProfile\")]\n    public class UserProfile\n    {\n        [Key]\n        [DatabaseGeneratedAttribute(DatabaseGeneratedOption.Identity)]\n        public int UserId { get; set; }\n        public string UserName { get; set; }\n    }\n\n    public class RegisterExternalLoginModel\n    {\n        [Required]\n        [Display(Name = \"User name\")]\n        public string UserName { get; set; }\n\n        public string ExternalLoginData { get; set; }\n    }\n\n    public class LocalPasswordModel\n    {\n        [Required]\n        [DataType(DataType.Password)]\n        [Display(Name = \"Current password\")]\n        public string OldPassword { get; set; }\n\n        [Required]\n        [StringLength(100, ErrorMessage = \"The {0} must be at least {2} characters long.\", MinimumLength = 6)]\n        [DataType(DataType.Password)]\n        [Display(Name = \"New password\")]\n        public string NewPassword { get; set; }\n\n        [DataType(DataType.Password)]\n        [Display(Name = \"Confirm new password\")]\n        [Compare(\"NewPassword\", ErrorMessage = \"The new password and confirmation password do not match.\")]\n        public string ConfirmPassword { get; set; }\n    }\n\n    public class LoginModel\n    {\n        [Required]\n        [Display(Name = \"User name\")]\n        public string UserName { get; set; }\n\n        [Required]\n        [DataType(DataType.Password)]\n        [Display(Name = \"Password\")]\n        public string Password { get; set; }\n\n        [Display(Name = \"Remember me?\")]\n        public bool RememberMe { get; set; }\n    }\n\n    public class RegisterModel\n    {\n        [Required]\n        [Display(Name = \"User name\")]\n        public string UserName { get; set; }\n\n        [Required]\n        [StringLength(100, ErrorMessage = \"The {0} must be at least {2} characters long.\", MinimumLength = 6)]\n        [DataType(DataType.Password)]\n        [Display(Name = \"Password\")]\n        public string Password { get; set; }\n\n        [DataType(DataType.Password)]\n        [Display(Name = \"Confirm password\")]\n        [Compare(\"Password\", ErrorMessage = \"The password and confirmation password do not match.\")]\n        public string ConfirmPassword { get; set; }\n    }\n\n    public class ExternalLogin\n    {\n        public string Provider { get; set; }\n        public string ProviderDisplayName { get; set; }\n        public string ProviderUserId { get; set; }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", ".net", "entity-framework"], "answers": [{"comments": [{"owner": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "edited": false, "score": 1, "creation_date": 1458172903, "post_id": 36049253, "comment_id": 59746895, "body": "The <code>ToSingleton</code>-method has nothing to do with the implementation of the class. You can define a regular class, Ninject will just create one instance and then reuse it. There&#39;s no need for a private constructor."}, {"owner": {"reputation": 6834, "user_id": 2216380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f211d4b44d6c2cafdf0fe0ea5e13cd4?s=128&d=identicon&r=PG", "display_name": "Royal Bg", "link": "https://stackoverflow.com/users/2216380/royal-bg"}, "reply_to_user": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "edited": false, "score": 0, "creation_date": 1458173406, "post_id": 36049253, "comment_id": 59747044, "body": "Thanks for the remark. I did not know that. Actually my remark was about the <code>Create()</code> method which ASP.NET Identity makes by default in <code>ApplicationDbContext</code>. So my thoughts was if one really wants only one instance, to change this method to be a singleton one - used by Ninject, by the developer and by Identity"}], "tags": [], "owner": {"reputation": 6834, "user_id": 2216380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f211d4b44d6c2cafdf0fe0ea5e13cd4?s=128&d=identicon&r=PG", "display_name": "Royal Bg", "link": "https://stackoverflow.com/users/2216380/royal-bg"}, "is_accepted": false, "score": 1, "last_activity_date": 1458172792, "creation_date": 1458172792, "answer_id": 36049253, "question_id": 36049135, "link": "https://stackoverflow.com/questions/36049135/is-ninject-creating-2-separate-context/36049253#36049253", "title": "Is Ninject creating 2 separate context?", "body": "<p>Most probably, it is. There's no annotation that is telling to Ninject \"Hey, stop, when you have created the instance once, reuse it\". You should agree that in most cases, you would want multiple instances of an object and that it is a rare case, where you want it only once.</p>\n\n<p>If you want to reuse the instance, use the singleton pattern. Ninject is familiar with it, so you can bind the object mapping to a method</p>\n\n<pre><code>kernel.Bind&lt;RTWAPIContext&gt;().ToMethod(c =&gt; RTWAPIContext.GetInstance());\n</code></pre>\n\n<p>There is also a <code>ToSingleton</code> binding, but I bet you cannot make your context constructor private and implement C# specific singleton due to other ASP.NET problems (e.g. ASP.NET Identity will try to invoke the context's method for object creation).</p>\n"}, {"tags": [], "owner": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "is_accepted": true, "score": 1, "last_activity_date": 1458172801, "creation_date": 1458172801, "answer_id": 36049257, "question_id": 36049135, "link": "https://stackoverflow.com/questions/36049135/is-ninject-creating-2-separate-context/36049257#36049257", "title": "Is Ninject creating 2 separate context?", "body": "<p>TL;DR;</p>\n\n<p>You probably need to change this line:</p>\n\n<pre><code>kernel.Bind&lt;RTWAPIContext&gt;().To&lt;RTWAPIContext&gt;();    \n</code></pre>\n\n<p>to</p>\n\n<pre><code>kernel.Bind&lt;RTWAPIContext&gt;().To&lt;RTWAPIContext&gt;().InRequestContext();    \n</code></pre>\n\n<p>Explanation: </p>\n\n<p>When you define a binding in Ninject, you also specify how that object's lifecycle should be handled. </p>\n\n<p>If you don't explicitly define it, Ninject's default lifecycle is <code>Transient</code>. <code>Transient</code> means that each time an instance is required, it will create a new one. In your case, you need to two instances: one for the <code>RTWRepository</code> of the <code>ModelFactory</code> and one for the <code>RTWRepository</code> of the <code>MaterialsController</code>.</p>\n\n<p>You can modify the lifestyle to one of these options:</p>\n\n<ul>\n<li>Singleton ==> <code>kernel.Bind&lt;RTWAPIContext&gt;().To&lt;RTWAPIContext&gt;().InSingleTonScope();</code></li>\n<li>Request ==> <code>kernel.Bind&lt;RTWAPIContext&gt;().To&lt;RTWAPIContext&gt;().InRequestScope();</code></li>\n<li>Thread ==> <code>kernel.Bind&lt;RTWAPIContext&gt;().To&lt;RTWAPIContext&gt;().InThreadScope();</code></li>\n<li>Named, Call, Parent, Custom</li>\n</ul>\n\n<p>In your case, I think you need <code>InRequestScope</code>, but you have to check the necessary lifecycle as it depends on the application.</p>\n\n<p>For further information please check out the documentation here: <a href=\"https://github.com/ninject/ninject/wiki/Object-Scopes\" rel=\"nofollow\">https://github.com/ninject/ninject/wiki/Object-Scopes</a></p>\n"}], "owner": {"reputation": 1138, "user_id": 1964280, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f25c21eed295b97b315821ff36bfdaca?s=128&d=identicon&r=PG&f=1", "display_name": "General Electric", "link": "https://stackoverflow.com/users/1964280/general-electric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 36049257, "answer_count": 2, "score": 1, "last_activity_date": 1458172801, "creation_date": 1458172083, "question_id": 36049135, "link": "https://stackoverflow.com/questions/36049135/is-ninject-creating-2-separate-context", "title": "Is Ninject creating 2 separate context?", "body": "<p>I'm creating a Web API and I'm using dependency inject wit Ninject.</p>\n\n<p>I have:</p>\n\n<p>IRTWRepository \nIModelFactory</p>\n\n<p>I'm injecting those 2 into my controllers like this.</p>\n\n<pre><code>private static void RegisterServices(IKernel kernel)\n        {\n            kernel.Bind&lt;IRTWRepository&gt;().To&lt;RTWRepository&gt;();\n            kernel.Bind&lt;RTWAPIContext&gt;().To&lt;RTWAPIContext&gt;();          \n            kernel.Bind&lt;IModelFactory&gt;().To&lt;ModelFactory&gt;();\n        } \n</code></pre>\n\n<p>My RTWRepository constructor looks like this</p>\n\n<pre><code> public class RTWRepository :IRTWRepository\n    {\n        private RTWAPIContext _context;\n\n        public RTWRepository(RTWAPIContext context)\n        {\n            _context = context;\n        }}\n</code></pre>\n\n<p>My ModelFactory constructor looks like this</p>\n\n<pre><code>public class ModelFactory : IModelFactory\n    {\n        private IRTWRepository _repo;        \n\n        public ModelFactory(IRTWRepository repo)\n        {\n            _repo = repo;\n        } \n}\n</code></pre>\n\n<p>I have a Controller that looks like this:</p>\n\n<pre><code>public MaterialsController(IRTWRepository repository,IModelFactory modelFactory) \n            : base(repository,modelFactory)\n        {\n\n        }\n</code></pre>\n\n<p>Now, my question is : Is Ninject creating 2 separate contexts when creating an instance of my RTWRepository and also when creating an instance of ModelFactory?.</p>\n\n<p>The reason that I'm asking that is because I'm having a problem when I try to save an entity that has a dependency to another object which was previously retrieve from the db.</p>\n\n<p>I'm saving the entity in my controller but I'm creating it in my model factory along with is dependency. </p>\n\n<pre><code>public class RecycleCenter\n    {\n        public RecycleCenter()\n        {\n\n        }\n\n        public int MyProperty { get; set; }\n\n\n        [Required]\n        public virtual Address Address { get; set; }        \n    }\n</code></pre>\n\n<p>The code above is for the entity Recycle Center which has an Address, this recycle center entity is created in my model factory and then in my controller I try to save it but when my repository execute this line</p>\n\n<pre><code> _context.RecycleCenters.Add(entity);\n</code></pre>\n\n<p>I'm getting this error</p>\n\n<pre><code>An entity object cannot be referenced by multiple instances of IEntityChangeTracker\n</code></pre>\n\n<p>So, somewhere in my code I'm using 2 context instead of 1 and I think is when creating the <code>ModelFactory</code> and <code>RTWRepository</code>, is this assumption correct?, if so how do I fix it?</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "edited": false, "score": 0, "creation_date": 1458172113, "post_id": 36049127, "comment_id": 59746616, "body": "Also it works fine within a one form. Its just the label not working."}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1458172936, "post_id": 36049127, "comment_id": 59746909, "body": "You&#39;re referring to <code>frmMain</code> as a class - when you should be using an <i>object</i> of that class."}, {"owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "reply_to_user": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1458173106, "post_id": 36049127, "comment_id": 59746961, "body": "this is what i have on the frmMain"}, {"owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "reply_to_user": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1458173155, "post_id": 36049127, "comment_id": 59746975, "body": "public partial class frmMain : Form     {                 public static List&lt;string&gt; MsgList = new List&lt;string&gt;();         public static List&lt;string&gt; MsgLink = new List&lt;string&gt;();         int EmailNum = 0;         public static String QEvent;         frmMain frm = new frmMain()"}, {"owner": {"reputation": 6472, "user_id": 2321042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea2250b729654f9c6a61d9b1c43e545?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2321042/andrew"}, "edited": false, "score": 1, "creation_date": 1458174919, "post_id": 36049127, "comment_id": 59747454, "body": "That <code>CheckForEmails</code> method is too tightly coupled to <code>frmMain</code> and should probably belong to it. If you rename a label, then the class <code>RSSFeed</code> will stop compiling, that&#39;s no good. Make each class do what that class does and do not mix responsibilities."}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "edited": false, "score": 0, "creation_date": 1458173481, "post_id": 36049284, "comment_id": 59747065, "body": "I never really did a RSS feed on a class.cs. I always did it in the form itself.  But I also will be doing about 10 different feeds."}, {"owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "edited": false, "score": 0, "creation_date": 1458173625, "post_id": 36049284, "comment_id": 59747111, "body": "Yes its the timer tick is in the frmMain. I am building a digital assistant program and I have done all of it before on a one form basis. Since I am on vacation for a month I am redoing the app and making it multiple forms"}, {"owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "edited": false, "score": 0, "creation_date": 1458173760, "post_id": 36049284, "comment_id": 59747151, "body": "Ok I see what your doing and what I did wrong. I will give this a try and get back to you. Also it was originally frmMain.Ivan.SpeakAsync so if I do implement it back to the original it would be the same, correct?"}, {"owner": {"reputation": 3094, "user_id": 909882, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Tzvdi.jpg?s=128&g=1", "display_name": "\u0189iamond \u01e4eeze\u01a6", "link": "https://stackoverflow.com/users/909882/%c6%89iamond-%c7%a4eeze%c6%a6"}, "reply_to_user": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "edited": false, "score": 0, "creation_date": 1458174231, "post_id": 36049284, "comment_id": 59747284, "body": "I don&#39;t understand your question. What do you mean by <code>frmMain.Ivan.SpeakAsync</code>?"}, {"owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "edited": false, "score": 0, "creation_date": 1458174874, "post_id": 36049284, "comment_id": 59747437, "body": "I created a digital assistant like Jarvis off Iron Man. When I first done this program I used one form. But when I used System.Speech the synthesizer was named Ivan. So the Ivan.SpeakAsync is the speech part. I am redoing the program. Instead off the RSS feed in a private void on the main form. I want to do an Rss feed like the question. But I will have the label and the synthesizer. So the label will say &quot;you have new emails&quot; and at the same time the computer will vocalize the same message."}, {"owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "edited": false, "score": 0, "creation_date": 1458174998, "post_id": 36049284, "comment_id": 59747470, "body": "FrmMain.lblEmail.Text WA originally frmMain.Ivan.SpeakAsync. Just look at the code where the label is at."}, {"owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "edited": false, "score": 0, "creation_date": 1458175386, "post_id": 36049284, "comment_id": 59747576, "body": "I know it will work. I am just curious. Because I am taking a one form with over 8,000 lines of code and seperating them out to multiple forms. The thing is this is just basic a prototype per se. The finished product will have dictation as well"}, {"owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "edited": false, "score": 0, "creation_date": 1458178708, "post_id": 36049284, "comment_id": 59748618, "body": "@Diamond GeezeR  it still does not work. All I want is the label to to tell me how many emails I have. for example,  &quot;New Emails &quot; + emailCount&quot;.. However i still have the same error for the labels in the RSSFeed. Even after I passed everything in the instance. Probably what i will do is forget the RSSFeed and do each one on a form by itself"}, {"owner": {"reputation": 3094, "user_id": 909882, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Tzvdi.jpg?s=128&g=1", "display_name": "\u0189iamond \u01e4eeze\u01a6", "link": "https://stackoverflow.com/users/909882/%c6%89iamond-%c7%a4eeze%c6%a6"}, "reply_to_user": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "edited": false, "score": 0, "creation_date": 1458207758, "post_id": 36049284, "comment_id": 59760432, "body": "The label is probably private to the form. Add a public method to the form to set the label&#39;s text, e.g. <code>public void SetLabelText(string text) { lblEmail.Text = text; }</code> and call that from RSSFeed, e.g. <code>frmMain.SetLabelText(&quot;You have no new emails.&quot;);</code>."}, {"owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "edited": false, "score": 0, "creation_date": 1458230853, "post_id": 36049284, "comment_id": 59778173, "body": "It might work but when I do the Weather, Finance, and others RSSFeeds there are labels as well if I do all of them    public void SetLabelText(string text) { lblEmail.Text = text; } and I call it frmMain.SetLabelText(&quot;....&quot;); would this cause problems with the other labels formatted the same way, even though I am calling different feeds"}], "tags": [], "owner": {"reputation": 3094, "user_id": 909882, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Tzvdi.jpg?s=128&g=1", "display_name": "\u0189iamond \u01e4eeze\u01a6", "link": "https://stackoverflow.com/users/909882/%c6%89iamond-%c7%a4eeze%c6%a6"}, "is_accepted": true, "score": 2, "last_activity_date": 1458174091, "last_edit_date": 1458174091, "creation_date": 1458172932, "answer_id": 36049284, "question_id": 36049127, "link": "https://stackoverflow.com/questions/36049127/frmmain-is-inaccessible-due-to-its-protection-level/36049284#36049284", "title": "frmMain is inaccessible due to its protection level", "body": "<p>You are missing the <code>static</code> keyword from your class and method. Should be <code>public static class RSSFeed</code> and <code>public static void CheckForEmails()</code></p>\n\n<p>You need to pass an instance of the frmMain to the method too. E.g.:</p>\n\n<pre><code>public static void CheckForEmails(frmMain frmMainInstance)\n</code></pre>\n\n<p>Putting it all together:</p>\n\n<pre><code>public static class RSSFeed\n{\n    public static void CheckForEmails(frmMain frmMainInstance)\n    {\n        string GmailAtomUrl = \"https://mail.google.com/mail/feed/atom\";\n        XmlUrlResolver xmlResolver = new XmlUrlResolver();\n\n        // ... rest of your code ...\n    }\n}\n</code></pre>\n\n<p>And the call to it would be something like:</p>\n\n<pre><code>public void tmrEmail_Tick(object sender, EventArgs e)\n{\n    // The following line will produce a compile error because\n    // CheckForEmails doesn't return a value\n    // lblEmail.Text = (\"New Emails \" + RSSFeed.CheckForEmails(this);\n    // Try this instead:\n    RSSFeed.CheckForEmails(this);\n}\n</code></pre>\n\n<p><em>Note that I am assuming <code>tmrEmail_Tick</code> is a method in <code>frmMain</code>, hence I am passing <code>this</code> as the argument to <code>CheckForEmails</code></em>.</p>\n\n<p>Instead of making <code>RSSFeed</code> and <code>CheckForEmails</code> static you could instantiate an instance of <code>RSSFeed</code>:</p>\n\n<pre><code>public void tmrEmail_Tick(object sender, EventArgs e)\n{\n    RSSFeed feed = new RSSFeed();\n    feed.CheckForEmails(this);\n}\n</code></pre>\n\n<p>Note that you still need to pass frmMain instance as an argument to <code>CheckForEmails</code>.</p>\n"}], "owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 947, "favorite_count": 0, "accepted_answer_id": 36049284, "answer_count": 1, "score": 1, "last_activity_date": 1458210710, "creation_date": 1458172062, "last_edit_date": 1458210710, "question_id": 36049127, "link": "https://stackoverflow.com/questions/36049127/frmmain-is-inaccessible-due-to-its-protection-level", "title": "frmMain is inaccessible due to its protection level", "body": "<p>OK this is what I have. I have my main form <code>frmMain.cs</code> and I have a <code>class.cs</code>. I was doing an RSSFeed for my email and I get the error:</p>\n\n<blockquote>\n  <p>inaccessible due to its protective level.</p>\n</blockquote>\n\n<p>On my <code>class.cs</code> I have the following code:</p>\n\n<pre><code>public class RSSFeed\n{\n    public void CheckForEmails()\n    {\n        string GmailAtomUrl = \"https://mail.google.com/mail/feed/atom\";\n        XmlUrlResolver xmlResolver = new XmlUrlResolver();\n        xmlResolver.Credentials = new NetworkCredential(Settings.Default.GmailUser, Settings.Default.GmailPassword);\n        XmlTextReader xmlReader = new XmlTextReader(GmailAtomUrl);\n        xmlReader.XmlResolver = xmlResolver;\n        try\n        {\n            XNamespace ns = XNamespace.Get(\"http://purl.org/atom/ns#\");\n            XDocument xmlFeed = XDocument.Load(xmlReader);\n\n            var emailItems = from item in xmlFeed.Descendants(ns + \"entry\")\n                select new\n                {\n                    Author = item.Element(ns + \"author\").Element(ns + \"name\").Value,\n                    Title = item.Element(ns + \"title\").Value,\n                    Link = item.Element(ns + \"link\").Attribute(\"href\").Value,\n                    Summary = item.Element(ns + \"summary\").Value\n                };\n\n            frmMain.MsgList.Clear();\n            frmMain.MsgLink.Clear();\n            foreach (var item in emailItems)\n            {\n                if (item.Title == String.Empty)\n                {\n                    frmMain.MsgList.Add(\"Message from \" + item.Author + \", There is no subject and the summary reads, \" + item.Summary);\n                    frmMain.MsgLink.Add(item.Link);\n                }\n                else\n                {\n                    frmMain.MsgList.Add(\"Message from \" + item.Author + \", The subject is \" + item.Title + \" and the summary reads, \" + item.Summary);\n                    frmMain.MsgLink.Add(item.Link);\n                }\n            }\n\n            if (emailItems.Count() &gt; 0)\n            {\n                if (emailItems.Count() == 1)\n                {\n                    frmMain.lblEmail.Text = (\"You have one new email, would you like me to read it to you\");\n                }\n                else \n                {\n                    frmMain.lblEmail.Text(\"You have \" + emailItems.Count() + \"new emails\");\n                }\n            }\n            else if (frmMain.QEvent == \"CheckForNewEmails\" &amp;&amp; emailItems.Count() == 0)\n            { \n                frmMain.lblEmail.Text(\"You have no new emails\"); frmMain.QEvent = String.Empty;\n            }\n        }\n        catch \n        { \n            frmMain.lblEmail.Text(\"You have submitted invalid log in information\"); \n        }\n    }\n}\n</code></pre>\n\n<p>And then I have on my main form a timer tick event:</p>\n\n<pre><code>public void tmrEmail_Tick(object sender, EventArgs e)\n{\n    lblEmail.Text = (\"New Emails \" + RSSFeed.CheckForEmails);\n}\n</code></pre>\n\n<p>What I am not understanding is when I have the label in my RSSFeed or on my main form timer tick. I get the error. I have changed everything to <code>public</code> and it still is throwing the error. </p>\n\n<p>Am I missing something or do I not have everything I should have?</p>\n\n<p>Also I am going to have another form that is just dedicated to email. Would it be better to do away with the RSSFeed.cs and just code the winform? The only thing this is doing is creating a label when I have new emails.</p>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["c#", "nhibernate", "left-join", "queryover"], "answers": [{"tags": [], "owner": {"reputation": 60637, "user_id": 2658202, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/AigLC.jpg?s=128&g=1", "display_name": "Stefan Steinegger", "link": "https://stackoverflow.com/users/2658202/stefan-steinegger"}, "is_accepted": true, "score": 6, "last_activity_date": 1458555039, "creation_date": 1458555039, "answer_id": 36128125, "question_id": 36049060, "link": "https://stackoverflow.com/questions/36049060/nhibernate-queryover-left-joinalias-with-additional-join-criteria/36128125#36128125", "title": "NHibernate QueryOver .Left.JoinAlias with additional join criteria", "body": "<p>You need the \"with clause\", which comes from HQL and had been integrated in query over:</p>\n\n<pre><code>.Left.JoinAlias(c =&gt; c.ContactInfo, () =&gt; contactInfo, () =&gt; contactInfo.ContactTypeID == 8)\n</code></pre>\n\n<p>This produces following SQL:</p>\n\n<pre><code>SELECT ...\nFROM \n   ...\n  LEFT OUTER JOIN ContactInfo as CI on (customer.UserId = CI.UserId \n    AND CI.ContactTypeID = 8)\n</code></pre>\n\n<p>In contrast to </p>\n\n<pre><code>.Left.JoinAlias(c =&gt; c.ContactInfo, () =&gt; contactInfo)\n.Where(x =&gt; contactInfo.ContactTypeID == 8)\n</code></pre>\n\n<p>Which creates </p>\n\n<pre><code>SELECT ...\nFROM \n   ...\n   LEFT OUTER JOIN ContactInfo as CI on (customer.UserId = CI.UserId)\nWHERE CI.ContactTypeID = 8\n</code></pre>\n\n<p>WITH clause in HQL looks as following:</p>\n\n<pre><code>FROM \n  ...\n  left join ContactInfo ci WITH ci.ContactTypeID = 8\n</code></pre>\n\n<p>See this <a href=\"http://fabiomaulo.blogspot.ch/2009/05/nhibernate-210-hql-with-clause.html\" rel=\"noreferrer\">blog post by Fabio</a>. </p>\n"}], "owner": {"reputation": 595, "user_id": 3066592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/9F1pe.png?s=128&g=1", "display_name": "PKD", "link": "https://stackoverflow.com/users/3066592/pkd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2102, "favorite_count": 1, "accepted_answer_id": 36128125, "answer_count": 1, "score": 3, "last_activity_date": 1458555828, "creation_date": 1458171658, "last_edit_date": 1458555828, "question_id": 36049060, "link": "https://stackoverflow.com/questions/36049060/nhibernate-queryover-left-joinalias-with-additional-join-criteria", "title": "NHibernate QueryOver .Left.JoinAlias with additional join criteria", "body": "<p>I have the following method:</p>\n\n<pre><code>    public IEnumerable&lt;MyRosterDTO&gt; MyRosterGetCustomers(\n        IEnumerable&lt;Guid&gt; SalesRepIds,\n        IEnumerable&lt;Guid&gt; escrowOfficerIds,\n        IEnumerable&lt;int&gt; targetTypes,\n        IEnumerable&lt;int&gt; tagIds,\n        IEnumerable&lt;Guid&gt; custTypes,\n        IEnumerable&lt;int&gt; distListIds,\n        bool myExceptions)\n    {\n        customerStatusLog cslAlias = null;\n        customer custAlias = null;\n        customerOptions coAlias = null;\n        employee salesRepAlias = null;\n        Office officeAlias = null;\n        ListTags tagsAlias = null;\n        MyRosterDTO dto = null;\n        contactInformation contactInfo = null;\n\n        var myRosterQuery = _sms.CurrentSession.QueryOver&lt;customer&gt;(() =&gt; custAlias)\n                                .JoinAlias(c =&gt; c.CustomerOptions, () =&gt; coAlias)\n                                .Left.JoinAlias(c =&gt; c.SalesRep, () =&gt; salesRepAlias)\n                                .JoinAlias(c =&gt; coAlias.Company, () =&gt; officeAlias)\n                                .Left.JoinAlias(c =&gt; c.ContactInfo, () =&gt; contactInfo)\n                                .Where(x =&gt; contactInfo.ContactTypeID == 8);\n\n\n        #region Where Clauses for parameters\n        if (myExceptions)\n        {\n            myRosterQuery.Where(c =&gt; salesRepAlias.Id == _ctx.User.Id &amp;&amp; _ctx.User.Id != officeAlias.RepId);\n        }\n        else\n        {\n            if (SalesRepIds != null)\n            {\n                if (SalesRepIds.Contains(Guid.Empty))\n                {\n                    if (SalesRepIds.Count() &gt; 1) { myRosterQuery.Where(c =&gt; salesRepAlias.Id.IsIn(SalesRepIds.ToArray()) || salesRepAlias.Id == null); }\n                    else\n                    { myRosterQuery.Where(c =&gt; salesRepAlias.Id == null); }\n                }\n                else\n                { myRosterQuery.Where(c =&gt; salesRepAlias.Id.IsIn(SalesRepIds.ToArray())); }\n            }\n        }\n\n        if (escrowOfficerIds != null\n            &amp;&amp; escrowOfficerIds.Any())\n        {\n            myRosterQuery.Where(c =&gt; coAlias.PreferredEscrowOfficer.IsIn(escrowOfficerIds.ToArray()));\n        }\n\n        if (targetTypes != null\n            &amp;&amp; targetTypes.Any())\n        {\n            myRosterQuery.JoinAlias(c =&gt; c.CustomerStatusLog, () =&gt; cslAlias)\n                         .Where(() =&gt; cslAlias.StatusId.IsIn(targetTypes.ToArray()));\n        }\n\n        if (tagIds != null\n            &amp;&amp; tagIds.Any())\n        {\n            myRosterQuery.JoinAlias(c =&gt; c.Tags, () =&gt; tagsAlias)\n                         .Where(() =&gt; tagsAlias.Id.IsIn(tagIds.ToArray()));\n        }\n\n        if (custTypes != null\n            &amp;&amp; custTypes.Any())\n        {\n            myRosterQuery.Where(c =&gt; coAlias.cusTypeID.IsIn(custTypes.ToArray()));\n        }\n\n        if (distListIds != null\n            &amp;&amp; distListIds.Any())\n        {\n            var distCustIds = _sms.CurrentSession.Query&lt;ListofAgents&gt;()\n                              .Where(loa =&gt; distListIds.Contains(loa.ListId))\n                              .Select(loa =&gt; loa.AgentId)\n                              .Distinct();\n\n            myRosterQuery.Where(c =&gt; c.Id.IsIn(distCustIds.ToArray()));\n        }\n        #endregion\n\n        return myRosterQuery.SelectList(list =&gt; list\n            .SelectGroup(c =&gt; c.Id).WithAlias(() =&gt; dto.Id)\n            .SelectGroup(c =&gt; c.FirstName).WithAlias(() =&gt; dto.FirstName)\n            .SelectGroup(c =&gt; c.LastName).WithAlias(() =&gt; dto.LastName)\n            .SelectGroup(() =&gt; officeAlias.Name).WithAlias(() =&gt; dto.CompanyName)\n            .SelectGroup(() =&gt; officeAlias.Address1).WithAlias(() =&gt; dto.Address1)\n            .SelectGroup(() =&gt; officeAlias.Address2).WithAlias(() =&gt; dto.Address2)\n            .SelectGroup(() =&gt; officeAlias.City).WithAlias(() =&gt; dto.City)\n            .SelectGroup(() =&gt; officeAlias.State).WithAlias(() =&gt; dto.State)\n            .SelectGroup(() =&gt; officeAlias.Zip).WithAlias(() =&gt; dto.Zip)\n            .SelectGroup(() =&gt; contactInfo.ContactData).WithAlias(() =&gt; dto.Phone)\n            .SelectGroup(() =&gt; salesRepAlias.FirstName).WithAlias(() =&gt; dto.SalesRepFirstName)\n            .SelectGroup(() =&gt; salesRepAlias.LastName).WithAlias(() =&gt; dto.SalesRepLastName)\n            )\n            .TransformUsing(Transformers.AliasToBean&lt;MyRosterDTO&gt;())\n            .List&lt;MyRosterDTO&gt;();\n    }\n</code></pre>\n\n<p>The query is nice and fast, but the problem arises where if the record doesn't have a contactInfo with a ContactTypeID of 8, then that record gets tossed out of the final results. (8 equates to Phone Number, fyi.)</p>\n\n<p>What I need to be able to do is get the customer record, show all the customers, but provide phone numbers where available, and nothing where it's not.</p>\n\n<p>The trick is that the contactInfo contains multiple types of contact information (email, phone, fax, etc), and without the .Where clause above, the output data explodes, showing a record on the screen for each contactInfo record a user has - so a user with 3 contactInfo types in the DB shows as 3 rows of output data.</p>\n\n<p>This method is used to get a list of customers based on the input parameters, but instead of showing customers who don't have phone numbers, along side those who do, I only get those who have them.</p>\n\n<p>If this were SQL, I'd just have a nice </p>\n\n<pre><code>LEFT JOIN ContactInfo as CI on customer.UserId = CI.UserId AND CI.ContactTypeID = 8\n</code></pre>\n\n<p>and my resultant query would show customers both with and without phone numbers.</p>\n"}, {"tags": ["c#", "wcf", "webserver", "x509certificate"], "comments": [{"owner": {"reputation": 2525, "user_id": 1606075, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Jjl8O.jpg?s=128&g=1", "display_name": "nikita", "link": "https://stackoverflow.com/users/1606075/nikita"}, "edited": false, "score": 1, "creation_date": 1458203573, "post_id": 36048963, "comment_id": 59757601, "body": "1. How do you find your certificate? By thumbprint? 2. IIS requires to have certificate in LocalMachine and you must give IIS process permission to that certificate. Usually I do it this way - right click certificate in MMC -&gt; All tasks -&gt; Manage Private keys (or smth like that since my windows is not US)."}, {"owner": {"reputation": 448, "user_id": 624071, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8QZVV.jpg?s=128&g=1", "display_name": "Mani5556", "link": "https://stackoverflow.com/users/624071/mani5556"}, "reply_to_user": {"reputation": 2525, "user_id": 1606075, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Jjl8O.jpg?s=128&g=1", "display_name": "nikita", "link": "https://stackoverflow.com/users/1606075/nikita"}, "edited": false, "score": 0, "creation_date": 1458234991, "post_id": 36048963, "comment_id": 59781141, "body": "We gave the AppPool access to the certificate through MMC, yes.  Also, the certificate was installed on the LocalMachine (by administrator)."}, {"owner": {"reputation": 448, "user_id": 624071, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8QZVV.jpg?s=128&g=1", "display_name": "Mani5556", "link": "https://stackoverflow.com/users/624071/mani5556"}, "reply_to_user": {"reputation": 2525, "user_id": 1606075, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Jjl8O.jpg?s=128&g=1", "display_name": "nikita", "link": "https://stackoverflow.com/users/1606075/nikita"}, "edited": false, "score": 0, "creation_date": 1458240403, "post_id": 36048963, "comment_id": 59784531, "body": "And I find the certificate by thumbprint, yes."}, {"owner": {"reputation": 7759, "user_id": 3245057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6281c2234db530ddfb8c4e7c531714ea?s=128&d=identicon&r=PG", "display_name": "pepo", "link": "https://stackoverflow.com/users/3245057/pepo"}, "edited": false, "score": 1, "creation_date": 1458243688, "post_id": 36048963, "comment_id": 59786534, "body": "Please run <code>certutil -store my</code> command as administrator in cmd. It should test all certificates in LocalMachine\\My store for encrypt/decrypt. That will tell you whether private key and the certificate are matched correctly."}, {"owner": {"reputation": 2525, "user_id": 1606075, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Jjl8O.jpg?s=128&g=1", "display_name": "nikita", "link": "https://stackoverflow.com/users/1606075/nikita"}, "edited": false, "score": 1, "creation_date": 1458277251, "post_id": 36048963, "comment_id": 59798215, "body": "Try give &#39;everyone&#39; permission through mmc.  Are you sure that you successfully find certificate by thumbprint? In mmc there are some non visible characters in thumbprint string,  so if you just copy/paste from there you will never find certificate."}, {"owner": {"reputation": 448, "user_id": 624071, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8QZVV.jpg?s=128&g=1", "display_name": "Mani5556", "link": "https://stackoverflow.com/users/624071/mani5556"}, "edited": false, "score": 0, "creation_date": 1458326295, "post_id": 36048963, "comment_id": 59828054, "body": "Did all that, gave everyone permissions, I am definitely finding the certificate by thumbprint properly in code (after dealing with the non-visible characters); I think I&#39;ve made progress, except I am now getting a &quot;The handle is invalid&quot; error.  Any further ideas?"}, {"owner": {"reputation": 2525, "user_id": 1606075, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Jjl8O.jpg?s=128&g=1", "display_name": "nikita", "link": "https://stackoverflow.com/users/1606075/nikita"}, "edited": false, "score": 0, "creation_date": 1458374261, "post_id": 36048963, "comment_id": 59842089, "body": "Stack trace would be helpful"}], "owner": {"reputation": 448, "user_id": 624071, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8QZVV.jpg?s=128&g=1", "display_name": "Mani5556", "link": "https://stackoverflow.com/users/624071/mani5556"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 225, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458171107, "creation_date": 1458171107, "last_edit_date": 1495541266, "question_id": 36048963, "link": "https://stackoverflow.com/questions/36048963/keyset-does-not-exist-attempting-to-sign-executable-from-web-service", "title": "Keyset does not exist (attempting to sign executable from web service)", "body": "<p>See this: <a href=\"https://stackoverflow.com/questions/6392268/x509certificate-keyset-does-not-exist\">X509Certificate - Keyset does not exist</a></p>\n\n<p>I am attempting to sign a certificate using a web service on IIS 8.  I thought it would be as simple as installing a PFX on a server, and then the web service could simply use that certificate (from the store) and sign an executable (these executables are created on demand, and signed by our service, at least that's the idea behind it).  </p>\n\n<p>I've exhaused all of the options linked to the above question, I've navigated to C:\\ProgramData\\Microsoft\\Crypto\\RSA\\MachineKeys, and added EVERYONE to the files to see if I can narrow down that it is (in fact) a permissions issue.  I've attempted running MMC and added the snap-in for service\\computer accounts, I've ensure that upon installing the certificate it was marked as exportable, I've even attempted to add, in the web service itself, code which would basically add the certificate to the store itself: i.e. </p>\n\n<pre><code>   X509Store store = new X509Store(StoreName.My, StoreLocation.CurrentUser);\n   store.Open(OpenFlags.ReadWrite);\n   store.Add(cert);\n   store.Close(); \n</code></pre>\n\n<p>Any ideas?  Is there another way that I could determine (for sure) if it is actually a permissions issue?  Is there no way to sign a certificate without having the certificate in the machine's store (i.e. signtool.exe allows it).</p>\n\n<p>Also, for reference, I used the class found here: <a href=\"https://stackoverflow.com/questions/6357759/has-anyone-got-any-code-to-call-signersignex-from-c\">Has anyone got any code to call SignerSignEx from C#?</a> for signing the certificate.  I've scoured the internet and most of the solutions are very much the same: permissions on the GUID cert files themselves.  Any help on this would be greatly appreciated.  </p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 2, "creation_date": 1458171280, "post_id": 36048928, "comment_id": 59746331, "body": "You have &#39;s&#39; defined twice."}, {"owner": {"reputation": 1905, "user_id": 233525, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/01b40205c8955b06f06c2532c573f42d?s=128&d=identicon&r=PG", "display_name": "WarrenB", "link": "https://stackoverflow.com/users/233525/warrenb"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458175605, "post_id": 36048928, "comment_id": 59747653, "body": "You&#39;re right. I&#39;m using &#39;s&#39; to denote minutes in an anonymous class for a key comparator... This is what happens when I skip my afternoon coffee break. Thanks!"}], "owner": {"reputation": 1905, "user_id": 233525, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/01b40205c8955b06f06c2532c573f42d?s=128&d=identicon&r=PG", "display_name": "WarrenB", "link": "https://stackoverflow.com/users/233525/warrenb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458171078, "creation_date": 1458170914, "last_edit_date": 1458171078, "question_id": 36048928, "link": "https://stackoverflow.com/questions/36048928/outputting-anonymous-types-from-linq-groupjoin", "title": "Outputting anonymous types from Linq GroupJoin", "body": "<p>I'm trying to output an anonymous type from a GroupJoin in LINQ but one query works and another one doesn't.</p>\n\n<p>The only difference is in the first query the starting <code>service</code> is an in memory IGrouping (a member from a previous call to GroupBy) instead of a direct database query.</p>\n\n<p>The error I'm getting is</p>\n\n<blockquote>\n  <p>Error 8   The type arguments for method 'System.Linq.Enumerable.GroupJoin(System.Collections.Generic.IEnumerable, System.Collections.Generic.IEnumerable, System.Func, System.Func, System.Func,TResult>)' cannot be inferred from the usage. Try specifying the type arguments explicitly.   C:\\Users\\wbutt\\Documents\\Visual Studio 2013\\Projects\\ServiceGraphMonitor\\Controllers\\ServiceQueueController.cs  148 30  ServiceGraphMonitor</p>\n</blockquote>\n\n<p>This is the query that doesn't work:</p>\n\n<pre><code>var result = index.GroupJoin(service.GroupBy(\n    s =&gt; new\n    {\n        h = s.orig_que_dt.Hour,\n        s = s.orig_que_dt.Minute / 15\n    }\n    ), i =&gt; i, s =&gt; s.Key,\n    (i, s) =&gt; new\n    {\n        x = new DateTime(start_date.Year, start_date.Month, start_date.Day, i.h, i.m * 15, 0),\n        y = s.Count()\n    }\n);\n</code></pre>\n\n<p>This one works:</p>\n\n<pre><code>var result = index.GroupJoin(db.t_svc_task_sta.Where(ts =&gt;\n    ts.t_svc_task.orig_que_dt &gt; start_date &amp;&amp;\n    ts.t_svc_task.orig_que_dt &lt; end_date\n    ).GroupBy(ts =&gt; new\n    {\n        h = ts.t_svc_task.orig_que_dt.Hour,\n        m = ts.t_svc_task.orig_que_dt.Minute / 15\n    }\n    ), i =&gt; i, ts =&gt; ts.Key,\n    (i, ts) =&gt; new // DTO.ServiceReport()\n    {\n        time = new DateTime(start_date.Year, start_date.Month, start_date.Day, i.h, i.m * 15, 0).ToUniversalTime(),\n        queue_time = ts.Sum(t =&gt; t.Where(x =&gt; x.svc_task_sta_cd == 1 &amp;&amp; x.sta_end_dt &lt;= DateTime.Now).DefaultIfEmpty(new t_svc_task_sta() {sta_start_dt = DateTime.Today, sta_end_dt = DateTime.Today }).Average(x =&gt; (x.sta_end_dt - x.sta_start_dt).TotalSeconds)),\n        exec_time = ts.Sum(t =&gt; t.Where(x =&gt; x.svc_task_sta_cd == 2 &amp;&amp; x.sta_end_dt &lt;= DateTime.Now).DefaultIfEmpty(new t_svc_task_sta() {sta_start_dt = DateTime.Today, sta_end_dt = DateTime.Today }).Average(x =&gt; (x.sta_end_dt - x.sta_start_dt).TotalSeconds)),\n        volume = ts.Sum(t =&gt; t.Count(x =&gt; x.svc_task_sta_cd == 1))\n    }\n);\n</code></pre>\n"}, {"tags": ["c#", "azure", "asp.net-web-api", "asp.net-web-api2"], "answers": [{"comments": [{"owner": {"reputation": 281, "user_id": 2812945, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/LtyaF.jpg?s=128&g=1", "display_name": "Rahul Kishore", "link": "https://stackoverflow.com/users/2812945/rahul-kishore"}, "edited": false, "score": 0, "creation_date": 1458173980, "post_id": 36049395, "comment_id": 59747208, "body": "I haven&#39;t set the <code>TrySkipIisCustomErrors</code>, I will check the <code>httpErrors</code> you&#39;re talking about. I&#39;m thinking Azure upgraded my .NET framework? Could this be a possibility. I&#39;m logged into the Azure portal now, my Web App&#39;s framework settings are pointing to 4.6, when locally I got it set to 4.5."}, {"owner": {"reputation": 8292, "user_id": 1178314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Riph7.jpg?s=128&g=1", "display_name": "Fr&#233;d&#233;ric", "link": "https://stackoverflow.com/users/1178314/fr%c3%a9d%c3%a9ric"}, "reply_to_user": {"reputation": 281, "user_id": 2812945, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/LtyaF.jpg?s=128&g=1", "display_name": "Rahul Kishore", "link": "https://stackoverflow.com/users/2812945/rahul-kishore"}, "edited": false, "score": 0, "creation_date": 1458174112, "post_id": 36049395, "comment_id": 59747247, "body": "I am not an Azure user. But those kinds of issues look familiar to me, with IIS. So I have posted those directions in case it helps you sort this out."}], "tags": [], "owner": {"reputation": 8292, "user_id": 1178314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Riph7.jpg?s=128&g=1", "display_name": "Fr&#233;d&#233;ric", "link": "https://stackoverflow.com/users/1178314/fr%c3%a9d%c3%a9ric"}, "is_accepted": false, "score": 0, "last_activity_date": 1458173623, "creation_date": 1458173623, "answer_id": 36049395, "question_id": 36048918, "link": "https://stackoverflow.com/questions/36048918/web-api-should-be-returning-custom-json-but-returns-back-http-status-code-instea/36049395#36049395", "title": "Web API Should be returning custom JSON but returns back HTTP Status Code instead", "body": "<p>Probably some kind of <a href=\"https://msdn.microsoft.com/en-us/library/h0hfz6fc%28v=vs.100%29.aspx\" rel=\"nofollow\"><code>customErrors</code></a> logic kicks in when you are remotely testing your site. Those logics are usually disabled when browsing locally.\nCheck your configuration. Under IIS, there is also the <a href=\"https://www.iis.net/configreference/system.webserver/httperrors\" rel=\"nofollow\"><code>httpErrors</code></a> configuration which may interfere.</p>\n\n<p>And have you set <code>TrySkipIisCustomErrors</code> to true when your code yields an error responses?</p>\n"}, {"tags": [], "owner": {"reputation": 281, "user_id": 2812945, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/LtyaF.jpg?s=128&g=1", "display_name": "Rahul Kishore", "link": "https://stackoverflow.com/users/2812945/rahul-kishore"}, "is_accepted": false, "score": 0, "last_activity_date": 1458186530, "creation_date": 1458186530, "answer_id": 36051329, "question_id": 36048918, "link": "https://stackoverflow.com/questions/36048918/web-api-should-be-returning-custom-json-but-returns-back-http-status-code-instea/36051329#36051329", "title": "Web API Should be returning custom JSON but returns back HTTP Status Code instead", "body": "<p>Ok, so I've figured out the issue. </p>\n\n<p>Upgraded Visual Studio to 2015 to get the .NET Framework to use 4.6. </p>\n\n<p>Changed all of my projects in the solution to point to 4.6, re-compiled, published and finally tested. </p>\n\n<p>Errors are returning back JSON now too. </p>\n\n<p>IMO, Azure could've atleast sent us an update. Anyways, posting this answer so hopefully anyone else using Web Api can easily forgo this issue. </p>\n"}], "owner": {"reputation": 281, "user_id": 2812945, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/LtyaF.jpg?s=128&g=1", "display_name": "Rahul Kishore", "link": "https://stackoverflow.com/users/2812945/rahul-kishore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1458186530, "creation_date": 1458170873, "last_edit_date": 1458174578, "question_id": 36048918, "link": "https://stackoverflow.com/questions/36048918/web-api-should-be-returning-custom-json-but-returns-back-http-status-code-instea", "title": "Web API Should be returning custom JSON but returns back HTTP Status Code instead", "body": "<p>I've discovered something peculiar that's been going on for the past 2 days. </p>\n\n<p>I'm returning back custom JSON message in my Web API 2.0. E.g. when there's been an Unauthorized Response (HttpStatusCode 401)..it's only returning back the HttpStatusCode and NOT the JSON. </p>\n\n<p>Simply put, anything apart from a HTTP Status Code 200 is NOT returning back the custom JSON that I've explicitly put in my ActionHandlers to return back. </p>\n\n<p>This has happened recently, in the past 2 days. I've tested my code locally and I'm getting the expected output I need..the custom JSON error messages but as soon as I publish to one of my slots whether it be production or dev..only HttpStatus Codes are being returned. </p>\n\n<p>Can anyone verify this for me? I need a way to sort this issue out or atleast have Azure take a look at this and tell me what to do. I suspect it's been an Azure update which I'm unaware of. </p>\n"}, {"tags": ["c#", "asp.net", "asp.net-core", "dnx", "directoryservices"], "answers": [{"comments": [{"owner": {"reputation": 695, "user_id": 1763996, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/39f51e3bb401eebbc83d91f824af4be8?s=128&d=identicon&r=PG", "display_name": "Alec Menconi", "link": "https://stackoverflow.com/users/1763996/alec-menconi"}, "edited": false, "score": 0, "creation_date": 1458247010, "post_id": 36049324, "comment_id": 59788533, "body": "Great answer, thank you.  It worked and the reason for the issue makes a lot more sense to me now."}, {"owner": {"reputation": 10797, "user_id": 5678853, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d01c96f03cca4973f6ea3041dce9ab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Rivell", "link": "https://stackoverflow.com/users/5678853/blake-rivell"}, "edited": false, "score": 0, "creation_date": 1460386310, "post_id": 36049324, "comment_id": 60704803, "body": "@Tseng So if I create a new ASP.NET Core 1.0 MVC6 webapp right now and need something like System.DirectoryServices.AccountManagement but additionally need the entire web app to target Core 1.0 is this possible at this time with RC1?"}, {"owner": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "reply_to_user": {"reputation": 10797, "user_id": 5678853, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d01c96f03cca4973f6ea3041dce9ab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Rivell", "link": "https://stackoverflow.com/users/5678853/blake-rivell"}, "edited": false, "score": 1, "creation_date": 1460392661, "post_id": 36049324, "comment_id": 60709195, "body": "@BlakeRivell: If you have at least one dependency which doesn&#39;t  work with .NET Core you&#39;ll have to either use ASP.NET Core with full .NET Framework (4.5, 4.5.1, 4.5.2 or 4.6 - or mono on linux &amp; mac) or look for an alternative that works with .NET Core"}], "tags": [], "owner": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "is_accepted": true, "score": 4, "last_activity_date": 1458173226, "creation_date": 1458173226, "answer_id": 36049324, "question_id": 36048910, "link": "https://stackoverflow.com/questions/36048910/problems-with-directory-services-and-account-management-in-asp-net-core/36049324#36049324", "title": "Problems with Directory Services and Account Management in ASP.NET Core", "body": "<p>In ASP.NET Core (the new Name for ASP.NET 5 and vNext isn't being officially used for months) a project will by default target multiple platforms. </p>\n\n<p>You have added the references to <code>dnx451</code> framework moniker, which targets the full .NET 4.5 Framework. </p>\n\n<p>Now if you use </p>\n\n<pre><code>using System.DirectoryServices;\nusing System.DirectoryServices.AccountManagement;\n</code></pre>\n\n<p>inside a *.cs file, it will work for .NET 4.5, but fail for .NET Core, because there is no reference for .NET Core to this namespaces/assemblies. On build always both versions will be compiled, that's why you get this error. </p>\n\n<p>You don't see it in the Visual Studio Editor, because it shows you the code of .NET 4.5 (above the code window is a pulldown menu where you can switch between the target frameworks).</p>\n\n<p>That being said, you have two choices:</p>\n\n<ol>\n<li><p><strong>You want to target only .NET 4.5</strong></p>\n\n<p>In this case, you just delete the <code>dnxcore50</code> moniker from your frameworks section of the project.json file (<code>net451</code> too because it's for class libraries only). This will turn your project an ASP.NET Core project which targets only the full .NET 4.5.</p></li>\n<li><p><strong>You want/need to target .NET Core w/o working against the full .NET 4.5 Framework</strong></p>\n\n<p>This is a bit more difficult. You either need a replacement for the same library in .NET Core. If it uses the same namespaces, just add its references to the <code>dnxcore50</code> moniker and you are good to go. </p>\n\n<p>If there is no direct replacement, you have to remove this code parts from .NET Core projects, by using preprocessor directives.</p>\n\n<pre><code>#if DNX451\nusing System.DirectoryServices;\nusing System.DirectoryServices.AccountManagement;\n#endif\n</code></pre></li>\n</ol>\n\n<p>Now your namespace will be used only in the .NET 4.5 target, but not in the .NET Core target. </p>\n\n<p><strong>On a sidenote:</strong> You can remove the <code>net451</code> moniker, as it's only used for Class Library (Package), the new project type for .NET Core libraries which compiles into a package which targets multiple framework targets. See the RC1 <a href=\"https://github.com/aspnet/Announcements/issues/98\" rel=\"nofollow\">announcement</a> for more. </p>\n\n<p>For applications (ASP.NET Core Web Project or xUnit project) always use the application moniker (<code>dnx451</code> and <code>dnxcore50</code> respectively). For class libraries it's <code>net451</code> and <code>dotnet5.x</code>.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4344677"}, "is_accepted": false, "score": 0, "last_activity_date": 1473318655, "creation_date": 1473318655, "answer_id": 39384622, "question_id": 36048910, "link": "https://stackoverflow.com/questions/36048910/problems-with-directory-services-and-account-management-in-asp-net-core/39384622#39384622", "title": "Problems with Directory Services and Account Management in ASP.NET Core", "body": "<p>To the anser of @Tseng I want to add that Directory Services are planned for .NET Core 1.2. Here is the feature request on GitHub: <a href=\"https://github.com/dotnet/corefx/issues/2089\" rel=\"nofollow\">https://github.com/dotnet/corefx/issues/2089</a>. You can subscribe there and get notifications when something is happening there! </p>\n\n<p>When it's released you can just use Directory Services in ASP.NET Core with .NET Core! It might take some time, considering the current state and version of .NET Core, though. </p>\n"}, {"tags": [], "owner": {"reputation": 329, "user_id": 4278837, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001303782075/picture?type=large", "display_name": "p4ulinux", "link": "https://stackoverflow.com/users/4278837/p4ulinux"}, "is_accepted": false, "score": 0, "last_activity_date": 1519726482, "creation_date": 1519726482, "answer_id": 49006171, "question_id": 36048910, "link": "https://stackoverflow.com/questions/36048910/problems-with-directory-services-and-account-management-in-asp-net-core/49006171#49006171", "title": "Problems with Directory Services and Account Management in ASP.NET Core", "body": "<p>Microsoft has released pre-release version for System.DirectoryServices in asp.net core 2.0. You can get it from nuget package manager using this command:</p>\n\n<p>Install-Package System.DirectoryServices -Version 4.5.0-preview1-25914-04</p>\n\n<p>This is working fine for me till now.</p>\n"}], "owner": {"reputation": 695, "user_id": 1763996, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/39f51e3bb401eebbc83d91f824af4be8?s=128&d=identicon&r=PG", "display_name": "Alec Menconi", "link": "https://stackoverflow.com/users/1763996/alec-menconi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3939, "favorite_count": 0, "accepted_answer_id": 36049324, "answer_count": 3, "score": 4, "last_activity_date": 1519726482, "creation_date": 1458170826, "last_edit_date": 1458172076, "question_id": 36048910, "link": "https://stackoverflow.com/questions/36048910/problems-with-directory-services-and-account-management-in-asp-net-core", "title": "Problems with Directory Services and Account Management in ASP.NET Core", "body": "<p>I have a ASP.NET Core API project and I'd like to utilize DirectoryServices and DirectoryServices.AccountManagement namespaces.</p>\n\n<p>After some research I thought I found some project.json references that would work:</p>\n\n<pre><code>{\n  \"version\": \"1.0.0-*\",\n  \"compilationOptions\": {\n    \"emitEntryPoint\": true\n  },\n\n  \"dependencies\": {\n    \"EntityFramework.Commands\": \"7.0.0-rc1-final\",\n    \"EntityFramework.MicrosoftSqlServer\": \"7.0.0-rc1-final\",\n    \"EntityFramework.MicrosoftSqlServer.Design\": \"7.0.0-rc1-final\",\n    \"Microsoft.AspNet.IISPlatformHandler\": \"1.0.0-rc1-final\",\n    \"Microsoft.AspNet.Mvc\": \"6.0.0-rc1-final\",\n    \"Microsoft.AspNet.Server.Kestrel\": \"1.0.0-rc1-final\",\n    \"Microsoft.AspNet.StaticFiles\": \"1.0.0-rc1-final\",\n    \"Microsoft.Extensions.Configuration.FileProviderExtensions\": \"1.0.0-rc1-final\",\n    \"Microsoft.Extensions.Configuration.Json\": \"1.0.0-rc1-final\",\n    \"Microsoft.Extensions.Logging\": \"1.0.0-rc1-final\",\n    \"Microsoft.Extensions.Logging.Console\": \"1.0.0-rc1-final\",\n    \"Microsoft.Extensions.Logging.Debug\": \"1.0.0-rc1-final\"\n  },\n\n  \"commands\": {\n    \"web\": \"Microsoft.AspNet.Server.Kestrel\",\n    \"ef\": \"EntityFramework.Commands\"\n  },\n\n  \"frameworks\": {\n    \"dnx451\": {\n      \"frameworkAssemblies\": {\n        \"System.DirectoryServices\": \"4.0.0.0\",\n        \"System.DirectoryServices.AccountManagement\": \"4.0.0.0\"\n      }\n    },\n    \"dnxcore50\": { },\n    \"net451\": { }\n  },\n\n  \"exclude\": [\n    \"wwwroot\",\n    \"node_modules\"\n  ],\n  \"publishExclude\": [\n    \"**.user\",\n    \"**.vspscc\"\n  ]\n}\n</code></pre>\n\n<p>After adding those, code that used classes from those references suggested the namespaces to add to the class:</p>\n\n<pre><code>using System.DirectoryServices;\nusing System.DirectoryServices.AccountManagement;\n</code></pre>\n\n<p>After that intellisense had no complaints and everything looked perfect, however if I try to build or run the project I get \"type or namespace name 'DirectoryServices' does not exist in the namespace 'System'\" errors.</p>\n\n<p>Is there a resource out there can help me figure out how to implement DirectoryServices and DirectoryServices.AccountManagement in ASP.Net 5?</p>\n\n<p>As a side note I like ASP.NET Core but it seems like having to manually create a json file for references is a big step back from adding references in MVC 5 where you just had to find them and check the box to add them.  Makes me wonder if there isn't something I'm missing that can generate that file for you rather than needing to know the exact characters and pasting them in yourself to get things working.</p>\n"}, {"tags": ["c#", "iis-7.5", "asp.net-web-api2", "iis-express", "iis-8.5"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2537701"}, "edited": false, "score": 0, "creation_date": 1458262299, "post_id": 36058423, "comment_id": 59794470, "body": "Well yes that&#39;s what it is but I&#39;ve disabled all Authentcation in IIS except Anonumous Extension not just for the application but at machine level."}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1458264825, "post_id": 36058423, "comment_id": 59795147, "body": "@Chookoos unfortunately you didn&#39;t. Either you configured the wrong machine, or you configured it in a wrong way."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2537701"}, "edited": false, "score": 0, "creation_date": 1458270174, "post_id": 36058423, "comment_id": 59796450, "body": "Could it be proxy preventing this? It works just fine in IIS Express. I&#39;ve gone into IIS management console and disabled all authentications except anonymous."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2537701"}, "edited": false, "score": 0, "creation_date": 1458271533, "post_id": 36058423, "comment_id": 59796780, "body": "Turns out I was not specifying authentication when making a HttpWebRequest. <a href=\"http://stackoverflow.com/questions/13517323/exchange-web-service-api-and-401-unauthorized-exception?rq=1\" title=\"exchange web service api and 401 unauthorized exception\">stackoverflow.com/questions/13517323/&hellip;</a> What threw me off was it was working in IIS Express."}], "tags": [], "owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "is_accepted": false, "score": 0, "last_activity_date": 1458211958, "creation_date": 1458211958, "answer_id": 36058423, "question_id": 36048908, "link": "https://stackoverflow.com/questions/36048908/web-api-getting-401-unauthorized-in-iis-but-works-in-iis-express/36058423#36058423", "title": "Web API Getting 401 Unauthorized in IIS but works in IIS Express", "body": "<p>The response from IIS clearly indicates that Windows authentication is enabled. Check the IIS configuration carefully please.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2537701"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2923, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458271602, "creation_date": 1458170823, "last_edit_date": 1495540785, "question_id": 36048908, "link": "https://stackoverflow.com/questions/36048908/web-api-getting-401-unauthorized-in-iis-but-works-in-iis-express", "title": "Web API Getting 401 Unauthorized in IIS but works in IIS Express", "body": "<p>I have a Web API project that makes a remote SOAP call. This works fine in IIS Express (win 7) but it does not work in either IIS 7.5 (win 7) or IIS 8.5 (wind server 2012 R2).</p>\n\n<p>Here's the response in IIS Express</p>\n\n<pre><code>{\nContent-Length: 429\nCache-Control: private, max-age=0\nContent-Type: text/xml; charset=utf-8\nDate: Wed, 16 Mar 2016 23:00:52 GMT\nServer: Microsoft-IIS/7.0\nX-AspNet-Version: 4.0.30319\nX-Powered-By: ASP.NET\n}\n</code></pre>\n\n<p>And here is the response in IIS 7.5</p>\n\n<pre><code>{Content-Type: text/html\nServer: Microsoft-IIS/7.0\nWWW-Authenticate: Negotiate,NTLM\nX-Powered-By: ASP.NET\nDate: Wed, 16 Mar 2016 22:13:10 GMT\nContent-Length: 1293\n\n}\n</code></pre>\n\n<p>I've <strong>disabled</strong> Windows Authentication and <strong>enabled</strong> only Anonymous authentication in IIS 7.5</p>\n\n<p>In fact, I've also done a WinDiff of applicationHost.config and copied over settings that are different (and applicable) from IIS Express to IIS 7.</p>\n\n<p>Web.Config has <code>&lt;Authentication mode =\"None\"&gt;</code></p>\n\n<p>I'm not sure what I have to do to get this working.</p>\n\n<p><strong>EDIT SOLVED ALREADY</strong></p>\n\n<p>This <a href=\"https://stackoverflow.com/questions/13517323/exchange-web-service-api-and-401-unauthorized-exception?rq=1\">SO post</a> lead me to the answer. And <a href=\"https://stackoverflow.com/a/5300659/2537701\">this SO post</a> is how I am passing the credentials.</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "edited": false, "score": 0, "creation_date": 1458171121, "post_id": 36048902, "comment_id": 59746282, "body": "<code>GameSmart.sdk.LoadData(List&lt;MissionData&gt; data = ...);</code> doesn&#39;t look like valid C# syntax. Are you trying to declare a new variable called <code>data</code> at that spot? If not, why mention the type <code>List&lt;MissionData&gt;</code>?"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "edited": false, "score": 0, "creation_date": 1458171197, "post_id": 36048902, "comment_id": 59746303, "body": "Removing that give this error: <code>Cannot convert lambda expression to type &#39;Type&#39; because it is not a delegate type</code>"}, {"owner": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "edited": false, "score": 0, "creation_date": 1458171287, "post_id": 36048902, "comment_id": 59746332, "body": "What&#39;s the signature of <code>LoadData</code>? Is there any documentation about what it expects?"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "edited": false, "score": 0, "creation_date": 1458171345, "post_id": 36048902, "comment_id": 59746354, "body": "I have added the LoadData function."}, {"owner": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "edited": false, "score": 1, "creation_date": 1458171663, "post_id": 36048902, "comment_id": 59746470, "body": "There are several problems here. First off, why are you involving the variable <code>data</code> in that call? Second, what you&#39;re passing is a <code>Func&lt;LoadDataResponse, object&gt;</code> (or something analogous), when <code>LoadData</code> is asking for an <code>Action&lt;LoadDataResponse&gt;</code>. An <code>Action</code> cannot <code>return</code> a value. (You could say that having an <code>Action&lt;T&gt;</code> is pretty much like having a <code>Func&lt;T, void&gt;</code>, except the second is illegal in C#, hence the need for a separate <code>Action</code> type.)"}, {"owner": {"reputation": 10654, "user_id": 476048, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/dhByN.jpg?s=128&g=1", "display_name": "Berin Loritsch", "link": "https://stackoverflow.com/users/476048/berin-loritsch"}, "edited": false, "score": 0, "creation_date": 1458171781, "post_id": 36048902, "comment_id": 59746508, "body": "So, <code>Func&lt;T&gt;</code> specifies that it returns the type T.  If you want to pass a variable to it, you have to use <code>Func&lt;TParam,TResult&gt;</code>.  By convention, the last type is the return value."}], "answers": [{"comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1458172362, "post_id": 36049156, "comment_id": 59746692, "body": "I don&#39;t believe LoadData is blocking. <a href=\"http://docs.unity3d.com/ScriptReference/MonoBehaviour.StartCoroutine.html\" rel=\"nofollow noreferrer\">docs.unity3d.com/ScriptReference/&hellip;</a>"}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1458172457, "post_id": 36049156, "comment_id": 59746734, "body": "@GetOffMyLawn In that case, you have two options: Make <code>LoadDataFromGameSmart</code> blocking until <code>LoadData</code> completes, or have <code>LoadDataFromGameSmart</code> take a callback method (much like <code>LoadData</code> does)"}, {"owner": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1458173801, "post_id": 36049156, "comment_id": 59747158, "body": "@GetOffMyLawn Is <code>LoadData</code> (and the rest) written by you? Can they be changed? Avoiding <code>yield return</code> would make it a regular method (instead of a coroutine)."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1458174189, "post_id": 36049156, "comment_id": 59747272, "body": "The main application was purchased. I am trying to implement our api into it. And the way it was written the function that calls  <code>LoadFromGameSmart</code> expects a value to be returned. If it is null it saves a default set of data. Since this returns null. It overwrites the data on the server with the default."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1458174252, "post_id": 36049156, "comment_id": 59747290, "body": "And yes I can change anything in the entire program and the API"}, {"owner": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "edited": false, "score": 0, "creation_date": 1458176888, "post_id": 36049156, "comment_id": 59748019, "body": "I think an Action can&#39;t have a return can it? Should be a <code>Func</code>"}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "reply_to_user": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "edited": false, "score": 0, "creation_date": 1458176999, "post_id": 36049156, "comment_id": 59748063, "body": "@GunnarB. That&#39;s correct - there&#39;s no return here though, it&#39;s a callback"}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1458177089, "post_id": 36049156, "comment_id": 59748090, "body": "@GetOffMyLawn It depends entirely on how <code>StartCoroutine</code> runs non-blocking. I&#39;m not familiar at all with unity, so I can&#39;t help you there. However, a naive way to do it would be to spin up a thread which continually checks that <code>data</code> was set. I&#39;d advise against this however, unless it&#39;s a last resort. I would either check if Unity provides a way to check on the co-routines status - or I would return data in a callback in the exact same way <code>LoadData</code> does."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1458313918, "post_id": 36049156, "comment_id": 59820152, "body": "I fixed this, I had to rewrite some of the code in the main app to listen for the <code>WWW</code> call to finish. When it does, I then move on to the next steps."}], "tags": [], "owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "is_accepted": true, "score": 2, "last_activity_date": 1458172190, "creation_date": 1458172190, "answer_id": 36049156, "question_id": 36048902, "link": "https://stackoverflow.com/questions/36048902/return-result-of-action-to-function/36049156#36049156", "title": "Return result of Action to Function", "body": "<p>Your syntax is not correct:</p>\n\n<pre><code>public Type LoadDataFromGameSmart&lt;Type&gt;(){\n    Type data = default(Type);\n    Debug.Log (\"Loading Data from GameSmart\");\n    GameSmart.sdk.LoadData(List&lt;MissionData&gt; data = (LoadDataResponse response) =&gt; {\n        return JsonUtility.FromJson&lt;GSWrapper&gt;(response.data).missionData;\n    });\n    return data;\n}\n</code></pre>\n\n<p>Some of the issues:  </p>\n\n<ol>\n<li>data is defined twice (once as <code>Type</code>, once as <code>List&lt;MissionData&gt;</code>)  </li>\n<li><code>LoadData(List&lt;MissionData&gt; data</code> is invalid syntax.</li>\n<li><code>LoadData</code> expects an <code>Action</code>, but you are returning data</li>\n<li>Your template <code>Type</code> has no constraints, as as such cannot be converted to <code>List&lt;MissionData&gt;</code></li>\n<li><code>(LoadDataResponse response)</code> should be <code>(response)</code> - you don't define argument types when passing a lambda - they're defined by <code>LoadData's signature</code> in this case</li>\n</ol>\n\n<p>You can try something like this:</p>\n\n<pre><code>public List&lt;MissionData&gt; LoadDataFromGameSmart()\n{\n   List&lt;MissionData&gt; data = null;\n   Debug.Log (\"Loading Data from GameSmart\");\n   GameSmart.sdk.LoadData(\n    (response) =&gt; {\n        data = JsonUtility.FromJson&lt;GSWrapper&gt;(response.data).missionData;\n   });\n   return data;\n}\n</code></pre>\n\n<p>Assuming <code>LoadData</code> is <em>blocking</em>, this will return the data properly.</p>\n"}], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 36049156, "answer_count": 1, "score": 0, "last_activity_date": 1458173338, "creation_date": 1458170778, "last_edit_date": 1458171333, "question_id": 36048902, "link": "https://stackoverflow.com/questions/36048902/return-result-of-action-to-function", "title": "Return result of Action to Function", "body": "<p>I am trying to return a value from an Action, but I am getting two errors:</p>\n\n<blockquote>\n  <p>Using the generic type 'List&lt;T>' requires 1 type arguments</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>'DataManager.MissionData' is a type, which is not valid in the given context </p>\n</blockquote>\n\n<p><code>GameSmart.sdk.LoadData()</code> loads data from our web server using the <code>WWW</code> class. I would like to return the response in the Action and save it in the <code>data</code> variable and have <code>LoadDataFromGameSmart</code> return that data.</p>\n\n<pre><code>public Type LoadDataFromGameSmart&lt;Type&gt;(){\n    Type data = default(Type);\n    Debug.Log (\"Loading Data from GameSmart\");\n    GameSmart.sdk.LoadData(List&lt;MissionData&gt; data = (LoadDataResponse response) =&gt; {\n        return JsonUtility.FromJson&lt;GSWrapper&gt;(response.data).missionData;\n    });\n    return data;\n}\n\n[System.SerializableAttribute]\npublic class GSWrapper {\n\n    public List&lt;MissionData&gt; missionData;\n\n    public static GSWrapper CreateFromJSON(string jsonString){\n        return JsonUtility.FromJson&lt;GSWrapper&gt;(jsonString);\n    }\n}\n</code></pre>\n\n<p><strong>LoadData</strong> looks like this:</p>\n\n<pre><code>public void LoadData(Action&lt;LoadDataResponse&gt; onComplete = null){\n    if(!IsValid()){return;}\n    Send(endpoint_loadData, onComplete);\n}\nprotected void Send&lt;T&gt;(string endpoint, Action&lt;T&gt; onComplete = null){\n    WWWForm form = new WWWForm();\n    StartCoroutine(Request(endpoint, form, onComplete));\n}\nIEnumerator Request&lt;T&gt;(string endpoint, WWWForm form, Action&lt;T&gt; onComplete = null){\n    form.AddField(\"playToken\", playToken);\n    WWW www = new WWW((protocol + \"://\" + GetHostName() + api_path) + endpoint, form);\n    yield return www;\n    if(onComplete != null){\n        onComplete(JsonUtility.FromJson&lt;T&gt;(www.text));\n    }\n}\n</code></pre>\n\n<p>I have tried using:</p>\n\n<pre><code>GameSmart.sdk.LoadData(Func&lt;Type&gt; data = (LoadDataResponse response) =&gt; {\n    return JsonUtility.FromJson&lt;GSWrapper&gt;(response.data).missionData;\n});\n</code></pre>\n\n<p>But then I get this error:</p>\n\n<blockquote>\n  <p>Using the generic type 'Func&lt;TResult>' requires 1 type arguments</p>\n</blockquote>\n\n<p>Not sure if this is relevant, but here is the <code>MissionData</code> class:</p>\n\n<pre><code>[System.Serializable]\npublic class MissionData\n{\n    public int ID;//the ID of the Mission\n    public bool isLocked = true;\n    public List&lt;LevelData&gt; levelsData = new List&lt;LevelData&gt; ();//the levels of the mission\n\n    /// &lt;summary&gt;\n    /// Find the level data by ID.\n    /// &lt;/summary&gt;\n    /// &lt;returns&gt;The level data.&lt;/returns&gt;\n    /// &lt;param name=\"ID\"&gt;the ID of the level.&lt;/param&gt;\n    public LevelData FindLevelDataById (int ID)\n    {\n        foreach (LevelData levelData in levelsData) {\n            if (levelData.ID == ID) {\n                return levelData;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>So, how can I return the result of the Action so that <code>LoadDataFromGameSmart</code> can return the final result?</p>\n"}, {"tags": ["c#", "asp.net-mvc-4", "crud", "html.dropdownlistfor"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 2, "creation_date": 1458170692, "post_id": 36048834, "comment_id": 59746131, "body": "Your not binding to a property in your model. Use <code>@Html.DropDownListFor(m =&gt; m.user_id, (SelectList)ViewBag.User_Names, &quot;Select a user&quot;)</code> (and ensure you re-assign the <code>ViewBag</code> properties if you return the view in the POST method. However I strongly recommend you stop using <code>ViewBag</code> and use strongly typed view models."}, {"owner": {"reputation": 1289, "user_id": 4303407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5feb379946286f2086055b78892368e1?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/4303407/harsh"}, "edited": false, "score": 0, "creation_date": 1458170705, "post_id": 36048834, "comment_id": 59746137, "body": "You should use <code>DropDownListFor()</code> helper method"}, {"owner": {"reputation": 7506, "user_id": 622391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cea6f87ff9eacc4b168afcb647d69977?s=128&d=identicon&r=PG", "display_name": "Simon M\u1d9cKenzie", "link": "https://stackoverflow.com/users/622391/simon-m%e1%b6%9ckenzie"}, "edited": false, "score": 1, "creation_date": 1458170867, "post_id": 36048834, "comment_id": 59746196, "body": "It appears that &#39;re using <code>@Html.DropdownList</code> when you should actually be using <code>@Html.DropdownListFor</code>."}, {"owner": {"reputation": 33, "user_id": 6073996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b61a77b6c8701824df873a3e7119d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Andra", "link": "https://stackoverflow.com/users/6073996/andra"}, "edited": false, "score": 0, "creation_date": 1458173368, "post_id": 36048834, "comment_id": 59747036, "body": "Thank you Stephen!!! That worked!"}], "owner": {"reputation": 33, "user_id": 6073996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b61a77b6c8701824df873a3e7119d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Andra", "link": "https://stackoverflow.com/users/6073996/andra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 429, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1458172104, "creation_date": 1458170406, "question_id": 36048834, "link": "https://stackoverflow.com/questions/36048834/mvc-4-c-crud-dropdownlist-selection-not-getting-selected", "title": "MVC 4 C# CRUD DropDownList selection not getting selected", "body": "<p>I am trying to create 2 DropDownLists populated from 2 separate tables and populate a 3rd table User_Roles.  I want to do this when I create and Edit.  I am trying to assign report names to users.  Here is my model:</p>\n\n<pre><code>namespace ReportMenu.Models\n{\n    public class UserReports\n    {\n        [Key]\n        public string user_id { get; set; }\n        public string report_id { get; set; }\n        [Required]\n        [DisplayFormat(ApplyFormatInEditMode = true, DataFormatString = \"{0:MM/dd/yyyy}\")]\n        [DataType(DataType.Date)]\n        public DateTime valid_date { get; set; }\n    }\n\n    public class UsersReportsContext : DbContext\n    {\n        public DbSet&lt;ZAPR_USER_REPORTS&gt; UserReportsDetail\n        {\n            get;\n            set;\n        }\n    }\n}\n</code></pre>\n\n<p>And here is my Controller:</p>\n\n<pre><code>   private REPORTS_DBEntities db = new REPORTS_DBEntities();\n    public ActionResult Create()\n    {            \n        ViewBag.Report_Names = new SelectList(db.ZAPR_REPORT, \"REPORT_ID\", \"REPORT_NAME\");\n        ViewBag.User_Names = new SelectList(db.ZAPR_USER, \"USER_ID\", \"NAME\");\n\n        return View();\n    }\n\n    //\n    // POST: /UserReports/Create\n\n    [HttpPost]\n    [ValidateAntiForgeryToken]\n    public ActionResult Create(ZAPR_USER_REPORTS zapr_user_reports)\n    {\n        if (ModelState.IsValid)\n        {\n            db.ZAPR_USER_REPORTS.Add(zapr_user_reports);\n            db.SaveChanges();\n            return RedirectToAction(\"Index\");\n        }\n\n        return View(zapr_user_reports);\n    }\n</code></pre>\n\n<p>Here is my create.cshtml view:</p>\n\n<pre><code>@model ReportMenu.ZAPR_USER_REPORTS\n\n@{\n    ViewBag.Title = \"Create\";\n}\n\n&lt;script src=\"~/Scripts/datepicker.js\"&gt;&lt;/script&gt;\n\n&lt;h2&gt;Create&lt;/h2&gt;\n\n@using (Html.BeginForm()) {\n    @Html.AntiForgeryToken()\n    @Html.ValidationSummary(true)\n\n    &lt;fieldset&gt;\n        &lt;legend&gt;ZAPR_USER_REPORTS&lt;/legend&gt;\n\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.USER_ID)\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.DropDownList(\"User_Names\", \"Select a user\")\n            @Html.ValidationMessageFor(model =&gt; model.USER_ID)\n        &lt;/div&gt;\n\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.REPORT_ID)\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.DropDownList(\"Report_Names\", \"Select a report\")\n            @Html.ValidationMessageFor(model =&gt; model.REPORT_ID)\n        &lt;/div&gt;\n\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.VALID_DATE)\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.TextBoxFor(model =&gt; model.VALID_DATE, new { @class = \"datetype\", type = \"text\" })\n            @Html.ValidationMessageFor(model =&gt; model.VALID_DATE)\n        &lt;/div&gt;\n\n        &lt;p&gt;\n            &lt;input type=\"submit\" value=\"Create\" /&gt;\n        &lt;/p&gt;\n    &lt;/fieldset&gt;\n}\n\n&lt;div&gt;\n    @Html.ActionLink(\"Back to List\", \"Index\")\n&lt;/div&gt;\n\n@section Scripts {\n    @Scripts.Render(\"~/bundles/jqueryval\")\n}\n</code></pre>\n\n<p>My dropdown lists are displayed when the create page is displayed but when the selections are selected and then Create button is clicked no values are selected....I just get Nulls in those 2 fields.  What am I doing wrong?  Thanks!</p>\n"}, {"tags": ["c#", "datacontractserializer", "windows-10-universal", ".net-native"], "comments": [{"owner": {"reputation": 1656, "user_id": 5199288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0Cru.jpg?s=128&g=1", "display_name": "MattWhilden", "link": "https://stackoverflow.com/users/5199288/mattwhilden"}, "edited": false, "score": 0, "creation_date": 1458243164, "post_id": 36048821, "comment_id": 59786181, "body": "Hello! I work on the .NET Native runtime and compiler team. I don&#39;t have an immediate answer but if you follow the instructions here:<a href=\"https://github.com/dotnet/core/blob/master/Documentation/ilcRepro.md#creating-and-sending-a-net-native-repro\" rel=\"nofollow noreferrer\">github.com/dotnet/core/blob/master/Documentation/&hellip;</a>. We can get something worked out."}, {"owner": {"reputation": 1229, "user_id": 1508001, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a80eb3e1a7f375dde7ed86c1fb49d902?s=128&d=identicon&r=PG", "display_name": "Kim Johnson", "link": "https://stackoverflow.com/users/1508001/kim-johnson"}, "reply_to_user": {"reputation": 1656, "user_id": 5199288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0Cru.jpg?s=128&g=1", "display_name": "MattWhilden", "link": "https://stackoverflow.com/users/5199288/mattwhilden"}, "edited": false, "score": 0, "creation_date": 1458339143, "post_id": 36048821, "comment_id": 59834551, "body": "Thanks, Matt.  I&#39;ve sent the repro."}], "answers": [{"comments": [{"owner": {"reputation": 1229, "user_id": 1508001, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a80eb3e1a7f375dde7ed86c1fb49d902?s=128&d=identicon&r=PG", "display_name": "Kim Johnson", "link": "https://stackoverflow.com/users/1508001/kim-johnson"}, "edited": false, "score": 0, "creation_date": 1458607926, "post_id": 36143983, "comment_id": 59926474, "body": "Thanks, that fixed it."}], "tags": [], "owner": {"reputation": 46, "user_id": 6096108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26e7bbdd185b8a2b3d21332f3f87dc52?s=128&d=identicon&r=PG&f=1", "display_name": "SGuy Ge", "link": "https://stackoverflow.com/users/6096108/sguy-ge"}, "is_accepted": true, "score": 3, "last_activity_date": 1458605315, "creation_date": 1458605315, "answer_id": 36143983, "question_id": 36048821, "link": "https://stackoverflow.com/questions/36048821/datacontractserialzer-errors-with-collectiondatacontract-in-uwp/36143983#36143983", "title": "DataContractSerialzer errors with CollectionDataContract in UWP", "body": "<p>This issue has been fixed in the latest version. To get the fix, please add an explicit reference to System.Runtime.Serialization.Xml (4.0.11) package from your UWP project. Then rebuild the project and it should work.</p>\n"}], "owner": {"reputation": 1229, "user_id": 1508001, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a80eb3e1a7f375dde7ed86c1fb49d902?s=128&d=identicon&r=PG", "display_name": "Kim Johnson", "link": "https://stackoverflow.com/users/1508001/kim-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 36143983, "answer_count": 1, "score": 2, "last_activity_date": 1458605315, "creation_date": 1458170352, "last_edit_date": 1458341035, "question_id": 36048821, "link": "https://stackoverflow.com/questions/36048821/datacontractserialzer-errors-with-collectiondatacontract-in-uwp", "title": "DataContractSerialzer errors with CollectionDataContract in UWP", "body": "<p>I'm porting existing libraries to the Windows 10 Universal Windows Platform and am having a problem serializing types which are marked with the CollectionDataContract attribute.  These classes use the KeyName and ValueName properties of the CollectionDataContract to provide custom names during serialization.  Everything works fine in debug mode but fails when the .NET Native Tool Chain is enabled.</p>\n\n<p>For example:</p>\n\n<pre><code>[CollectionDataContract(Name = \"OriginalValuesMap\",\n     ItemName = \"OriginalValues\", KeyName = \"Name\", ValueName = \"OriginalValue\")]\ninternal class OriginalValuesMap : Dictionary&lt;string, Object&gt; { ... }\n</code></pre>\n\n<p>When serialized correctly will look something like this:</p>\n\n<pre><code>&lt;OriginalValuesMap&gt;\n  &lt;OriginalValues&gt;\n     &lt;Name&gt;Company&lt;/Name&gt;\n     &lt;OriginalValue i:type=\"d:string\"&gt;Facebook&lt;/OriginalValue&gt;\n  &lt;/OriginalValues&gt;\n&lt;/OriginalValuesMap&gt;\n</code></pre>\n\n<p>Yet in the failing case looks like this:</p>\n\n<pre><code>&lt;OriginalValuesMap&gt;   \n   &lt;OriginalValues&gt;\n     &lt;b:Key&gt;Company&lt;/b:Key&gt;\n     &lt;b:Value i:type=\"d:string\"&gt;Facebook&lt;/b:Value&gt;   \n   &lt;/OriginalValues&gt; \n&lt;/OriginalValuesMap&gt;\n</code></pre>\n\n<p>Is there a way to work around this with runtime directives?</p>\n\n<p>EDIT1:\nOne workaround I thought would work, using a vanilla CollectionDataContract, also does not work.  The names serialized on the .NET Native UWP side do not match what the .NET WCF app is expecting to deserialize.  </p>\n\n<p>EDIT2:\nA workaround which does work is to remove use of the attribute.  We do actually want the customized contract names so this isn't ideal.  </p>\n"}, {"tags": ["c#", "hash", "md5"], "comments": [{"owner": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "edited": false, "score": 1, "creation_date": 1458170802, "post_id": 36048815, "comment_id": 59746175, "body": "On the line <code>hashedPassword = MD5(MD5(tempHash + salt))</code>, you&#39;re concatenating a string with an array of bytes. You should either convert the salt into a string, or better yet: pass bytes to <code>MD5()</code>."}, {"owner": {"reputation": 61, "user_id": 5665854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/066ec93128fb55ebf5143fdbfef59554?s=128&d=identicon&r=PG&f=1", "display_name": "domin8", "link": "https://stackoverflow.com/users/5665854/domin8"}, "reply_to_user": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "edited": false, "score": 0, "creation_date": 1458171113, "post_id": 36048815, "comment_id": 59746277, "body": "I see. What exactly do you mean by &quot;pass bytes to MD5()&quot;?"}, {"owner": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "edited": false, "score": 0, "creation_date": 1458171250, "post_id": 36048815, "comment_id": 59746323, "body": "You already have to convert the string you pass to your <code>MD5()</code> function into a byte array (line 3). If your <code>MD5</code> function simply accepted a byte array, then you could get the bytes of the password, concatenate with the bytes of the salt, and then give that resulting byte array to <code>MD5()</code>."}, {"owner": {"reputation": 61, "user_id": 5665854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/066ec93128fb55ebf5143fdbfef59554?s=128&d=identicon&r=PG&f=1", "display_name": "domin8", "link": "https://stackoverflow.com/users/5665854/domin8"}, "reply_to_user": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "edited": false, "score": 0, "creation_date": 1458171539, "post_id": 36048815, "comment_id": 59746428, "body": "Oh, that&#39;s actually brilliant. Why didn&#39;t I think of that. Would it be possible converting the hashed password with the salt back to string after adding the salt?"}, {"owner": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "edited": false, "score": 0, "creation_date": 1458171647, "post_id": 36048815, "comment_id": 59746463, "body": "Sure, you can always go to a string from a byte array via <code>Encoding.UTF8.GetString(bytes)</code> (substitute <code>UTF8</code> for whatever text encoding you are using)."}, {"owner": {"reputation": 61, "user_id": 5665854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/066ec93128fb55ebf5143fdbfef59554?s=128&d=identicon&r=PG&f=1", "display_name": "domin8", "link": "https://stackoverflow.com/users/5665854/domin8"}, "reply_to_user": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "edited": false, "score": 0, "creation_date": 1458171934, "post_id": 36048815, "comment_id": 59746561, "body": "Excellent! Thanks!"}, {"owner": {"reputation": 10654, "user_id": 476048, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/dhByN.jpg?s=128&g=1", "display_name": "Berin Loritsch", "link": "https://stackoverflow.com/users/476048/berin-loritsch"}, "edited": false, "score": 0, "creation_date": 1458172452, "post_id": 36048815, "comment_id": 59746730, "body": "You also might get some benefit from using <code>Convert.ToBase64String(bytes)</code> which lets you get a valid string that you don&#39;t have to replace characters on."}, {"owner": {"reputation": 61, "user_id": 5665854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/066ec93128fb55ebf5143fdbfef59554?s=128&d=identicon&r=PG&f=1", "display_name": "domin8", "link": "https://stackoverflow.com/users/5665854/domin8"}, "edited": false, "score": 0, "creation_date": 1458172642, "post_id": 36048815, "comment_id": 59746798, "body": "I wasn&#39;t aware. That&#39;s convenient. I&#39;ll try it out!"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 5665854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/066ec93128fb55ebf5143fdbfef59554?s=128&d=identicon&r=PG&f=1", "display_name": "domin8", "link": "https://stackoverflow.com/users/5665854/domin8"}, "edited": false, "score": 0, "creation_date": 1458171230, "post_id": 36048891, "comment_id": 59746318, "body": "That makes sense. However I got issues with extracting the salt from my database as a string, comparing it to the hashed password written in the textbox. Well, converting it back to <code>byte[]</code>rather. Which is why I store it as <code>varbinary</code> in SQL. How would I go about solving this?"}, {"owner": {"reputation": 4569, "user_id": 964961, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d72848634762d57b66b63e4306dfca71?s=128&d=identicon&r=PG", "display_name": "fguchelaar", "link": "https://stackoverflow.com/users/964961/fguchelaar"}, "reply_to_user": {"reputation": 61, "user_id": 5665854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/066ec93128fb55ebf5143fdbfef59554?s=128&d=identicon&r=PG&f=1", "display_name": "domin8", "link": "https://stackoverflow.com/users/5665854/domin8"}, "edited": false, "score": 0, "creation_date": 1458171445, "post_id": 36048891, "comment_id": 59746401, "body": "Well, I don&#39;t know your implementation off course, but it seems like you <i>are</i> storing the actual salt. But since your hash was never created with that salt, you&#39;ll never get a match."}, {"owner": {"reputation": 61, "user_id": 5665854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/066ec93128fb55ebf5143fdbfef59554?s=128&d=identicon&r=PG&f=1", "display_name": "domin8", "link": "https://stackoverflow.com/users/5665854/domin8"}, "edited": false, "score": 0, "creation_date": 1458171819, "post_id": 36048891, "comment_id": 59746525, "body": "Yeah I get what you mean now, that example helped a lot. Appreciate it!"}], "tags": [], "owner": {"reputation": 4569, "user_id": 964961, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d72848634762d57b66b63e4306dfca71?s=128&d=identicon&r=PG", "display_name": "fguchelaar", "link": "https://stackoverflow.com/users/964961/fguchelaar"}, "is_accepted": true, "score": 4, "last_activity_date": 1458171289, "last_edit_date": 1458171289, "creation_date": 1458170742, "answer_id": 36048891, "question_id": 36048815, "link": "https://stackoverflow.com/questions/36048815/beginner-hashing-salting/36048891#36048891", "title": "Beginner hashing &amp; salting", "body": "<p>Without going into <em>security aspects</em>, I believe you're getting the same hashes, because you are not concatenating the salt as a string: <code>tempHash + salt</code></p>\n\n<p><code>salt</code> is a byte array and by using <code>+</code> with a <code>string</code>, it's <code>ToString()</code> method is called prior to the concatenation. This will <strong>not</strong> result in a string with the actual value.</p>\n\n<p>Try converting the array to an actual string:</p>\n\n<p><code>System.Text.Encoding.Default.GetString(salt)</code></p>\n\n<p>A small example to clarify the behavior a little further:</p>\n\n<pre><code>byte[] salt = new byte[] {67,79,79,76};\nConsole.WriteLine(salt.ToString()); // prints System.Byte[]\n\nstring saltAsString = System.Text.Encoding.Default.GetString(salt);\nConsole.WriteLine(saltAsString); // prints COOL\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 5665854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/066ec93128fb55ebf5143fdbfef59554?s=128&d=identicon&r=PG&f=1", "display_name": "domin8", "link": "https://stackoverflow.com/users/5665854/domin8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 36048891, "answer_count": 1, "score": 4, "last_activity_date": 1458171289, "creation_date": 1458170301, "question_id": 36048815, "link": "https://stackoverflow.com/questions/36048815/beginner-hashing-salting", "title": "Beginner hashing &amp; salting", "body": "<p>So I'm rather new to programming (C#) and especially cryptography in general. I tried learning some by copying a couple of functions using the MD5 hashing algorithm and learning how it works. I then connected to a database and made a log in and reset password feature. However, the problem appeared when i tried making the same password, i realised the hashing value would turn out the same regardless of me adding a randomly generated salt into the hash value.</p>\n\n<pre><code>    string MD5(string input)\n    {\n        MD5 md5 = new MD5CryptoServiceProvider();                                  \n        byte[] bytes = md5.ComputeHash(Encoding.Unicode.GetBytes(input));          \n        string result = BitConverter.ToString(bytes).Replace(\"-\", String.Empty); \n        return result.ToLower();\n    }\n    public static byte[] GenerateSalt()\n    {\n        RNGCryptoServiceProvider saltGenerator = new RNGCryptoServiceProvider();\n        byte[] salt = new byte[24];\n        saltGenerator.GetBytes(salt);\n        return salt;\n    }\n</code></pre>\n\n<p>So this are my functions for generating salt and hashing an input string. This is the code for resetting passwords by filling out two textboxes in WinForms.</p>\n\n<pre><code>        private void HashNewPassword(out byte[] salt, out string hashedPassword)\n    {\n        string tempHash;\n        salt = null;\n        hashedPassword = null;\n\n        if (txtPassword1.Text == txtPassword2.Text)\n        {\n            tempHash = txtPassword1.Text;\n            salt = GenerateSalt();\n            hashedPassword = MD5(MD5(tempHash + salt));\n        }\n        else\n        {\n            throw new Exception();\n        }\n    }\n</code></pre>\n\n<p>Lastly, the click-even function:</p>\n\n<pre><code>        private void btnFinished_Click(object sender, EventArgs e)\n    {\n        try\n        {\n            string hashedPassword;\n            byte[] salt;\n\n            HashNewPassword(out salt, out hashedPassword);\n            AddPasswordToDB(salt, hashedPassword);\n        }\n        catch (Exception error)\n        {\n            MessageBox.Show(error.Message + \"   :   \" + error.GetType().ToString());\n        }\n    }\n</code></pre>\n\n<p>As you can see below, the hash value is the same, but the salt differs. Am I adding the salt in a way I should not?</p>\n\n<pre><code>bec78d2acfd2eb4f5d7da2fd231bad1c     0x21B5F48096E31092FCCD20EE22EF9B3C307ADDC1C31B8D84          \nbec78d2acfd2eb4f5d7da2fd231bad1c     0xC063774EBBD4FAED268811C84D70662F4DDB53BCA52A6720  \n</code></pre>\n\n<p>Is there a logical explanation to this, or is there something wrong with the code?\nAlso, I am not familiar with hashing algorithms, just something I stumbled across and wanted to learn more about. Is there an easier way of doing this? I have read about other algorithms that seems easy enough to use, but as I stated, I am not familiar with this. Security differences between hash algorithms is irrelevant. I did read MD5 was old and not <em>that secure</em>, however it's more than enough for my use.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", ".net", "json", "json.net", "deserialization"], "answers": [{"tags": [], "owner": {"reputation": 17641, "user_id": 16800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea1de76c4c343fc844135e18da8a80f1?s=128&d=identicon&r=PG", "display_name": "Guvante", "link": "https://stackoverflow.com/users/16800/guvante"}, "is_accepted": true, "score": 4, "last_activity_date": 1458169830, "creation_date": 1458169830, "answer_id": 36048715, "question_id": 36048687, "link": "https://stackoverflow.com/questions/36048687/json-net-doesnt-decode-escaped-quotes-after-deserialization/36048715#36048715", "title": "Json.NET doesn&#39;t decode escaped quotes after deserialization", "body": "<p>Visual Studio is escaping the quotes for the debugging view, they do not exist in the underlying string.</p>\n\n<p>The easiest solution if you need to see the unquoted version is to press the magnifying glass.</p>\n"}], "owner": {"reputation": 325, "user_id": 1251386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/70459ab1c0f97c3dc6105ab3cc22bf01?s=128&d=identicon&r=PG", "display_name": "Demchenko Anton", "link": "https://stackoverflow.com/users/1251386/demchenko-anton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "accepted_answer_id": 36048715, "answer_count": 1, "score": 1, "last_activity_date": 1458169830, "creation_date": 1458169681, "question_id": 36048687, "link": "https://stackoverflow.com/questions/36048687/json-net-doesnt-decode-escaped-quotes-after-deserialization", "title": "Json.NET doesn&#39;t decode escaped quotes after deserialization", "body": "<p>Source JSON:</p>\n\n<pre><code>[\n    {\n        \"$type\": \"Test.Contracts.TestClass, Test.Contracts\",\n        \"name\": \"name1\",\n        \"comments\": [\n            {\n                \"title\": \"Some value\",\n                \"text\": \"Some value \\\"in quotes\\\"\"\n            }\n        ]\n    }\n]\n</code></pre>\n\n<p>Deserialized string still contains escaped quotes:\n<a href=\"https://i.stack.imgur.com/h1Sdg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h1Sdg.png\" alt=\"enter image description here\"></a></p>\n\n<p>Deserialization code:</p>\n\n<pre><code>JsonConvert.DeserializeObject&lt;List&lt;TestClass&gt;&gt;(json,\n        new JsonSerializerSettings\n        {\n            TypeNameHandling = TypeNameHandling.Auto\n        });\n</code></pre>\n\n<p>Is there any solution to the problem other than manually replacing <code>\\\"</code> symbols?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "dependency-injection", "inversion-of-control", "unity-container"], "comments": [{"owner": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "edited": false, "score": 0, "creation_date": 1458172557, "post_id": 36048646, "comment_id": 59746772, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/6109646/how-do-i-use-the-decorator-pattern-with-unity-without-explicitly-specifying-ever\">How do I use the Decorator Pattern with Unity without explicitly specifying every parameter in the InjectionConstructor</a>"}, {"owner": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "edited": false, "score": 0, "creation_date": 1458172725, "post_id": 36048646, "comment_id": 59746828, "body": "See also: <a href=\"http://www.beefycode.com/post/Decorator-Unity-Container-Extension.aspx\" rel=\"nofollow noreferrer\">Decorator Unity Container Extension</a> for a robust solution."}], "answers": [{"comments": [{"owner": {"reputation": 4659, "user_id": 2595033, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/bd78391e14ec16fe30d2e1811a841c70?s=128&d=identicon&r=PG", "display_name": "user9993", "link": "https://stackoverflow.com/users/2595033/user9993"}, "edited": false, "score": 0, "creation_date": 1458406669, "post_id": 36101994, "comment_id": 59851229, "body": "This is very helpful, thank you. I will look more into Pure DI. I opted for your first approach with the magic strings, because I believe that this will allow me to select which controllers will have logging (by being passed either the decorator or the actual service). However, where would I actually choose which of the two a controller gets given? Is this where the composition root (Global.asax) comes into play? Because currently the decorator is now always being passed to controllers that use ICustomerService."}, {"owner": {"reputation": 208473, "user_id": 126014, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/33526616d4a11f1630d4939b769cfbf9?s=128&d=identicon&r=PG", "display_name": "Mark Seemann", "link": "https://stackoverflow.com/users/126014/mark-seemann"}, "reply_to_user": {"reputation": 4659, "user_id": 2595033, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/bd78391e14ec16fe30d2e1811a841c70?s=128&d=identicon&r=PG", "display_name": "user9993", "link": "https://stackoverflow.com/users/2595033/user9993"}, "edited": false, "score": 0, "creation_date": 1458426806, "post_id": 36101994, "comment_id": 59857885, "body": "@user9993 You can ask for a named component. If you ask for an <code>ICustomerService</code> component named &quot;custSvc&quot;, you&#39;ll get the <code>CustomerService</code> with the first alternative shown above. If you ask for an unnamed component, you&#39;ll get the decorator."}, {"owner": {"reputation": 4659, "user_id": 2595033, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/bd78391e14ec16fe30d2e1811a841c70?s=128&d=identicon&r=PG", "display_name": "user9993", "link": "https://stackoverflow.com/users/2595033/user9993"}, "edited": false, "score": 0, "creation_date": 1458473680, "post_id": 36101994, "comment_id": 59867186, "body": "I see, that makes sense. Where would the best place to ask for a named component? Within the Unity made <code>RegisterTypes</code> method?"}, {"owner": {"reputation": 208473, "user_id": 126014, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/33526616d4a11f1630d4939b769cfbf9?s=128&d=identicon&r=PG", "display_name": "Mark Seemann", "link": "https://stackoverflow.com/users/126014/mark-seemann"}, "reply_to_user": {"reputation": 4659, "user_id": 2595033, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/bd78391e14ec16fe30d2e1811a841c70?s=128&d=identicon&r=PG", "display_name": "user9993", "link": "https://stackoverflow.com/users/2595033/user9993"}, "edited": false, "score": 0, "creation_date": 1458475846, "post_id": 36101994, "comment_id": 59867742, "body": "@user9993 You should follow the <a href=\"http://blog.ploeh.dk/2010/09/29/TheRegisterResolveReleasepattern\" rel=\"nofollow noreferrer\">Register Resolve Release</a> pattern; you should only resolve from your <a href=\"http://blog.ploeh.dk/2011/07/28/CompositionRoot\" rel=\"nofollow noreferrer\">Composition Root</a>."}, {"owner": {"reputation": 4659, "user_id": 2595033, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/bd78391e14ec16fe30d2e1811a841c70?s=128&d=identicon&r=PG", "display_name": "user9993", "link": "https://stackoverflow.com/users/2595033/user9993"}, "edited": false, "score": 0, "creation_date": 1459118280, "post_id": 36101994, "comment_id": 60136731, "body": "I intended to award the bounty to this answer, I must have had a brain barf because somehow I ended up giving it to one of the other answers. Sorry! I&#39;ve marked as accepted answer though."}, {"owner": {"reputation": 31538, "user_id": 11545, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/414d14b5846eb63fd509ebd652c77dc9?s=128&d=identicon&r=PG", "display_name": "Cristian Diaconescu", "link": "https://stackoverflow.com/users/11545/cristian-diaconescu"}, "edited": false, "score": 0, "creation_date": 1507895857, "post_id": 36101994, "comment_id": 80404716, "body": "There is one downside to this: You won&#39;t get a compile-time error if you add more dependencies to the decorator&#39;s constructor. Using an InjectionFactory may help there: <code>container.RegisterType&lt;ICustomerService, CustomerServiceLoggingDecorator&gt;(     new InjectionFactory(ctx =&gt;         new CustomerServiceLoggingDecorator(ctx.Resolve&lt;CustomerService&gt;&zwnj;&#8203;())));</code>  About just as succinct and will fail to compile if the decorator&#39;s ctor changes."}, {"owner": {"reputation": 162, "user_id": 1873210, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/deb8056c9fe51035f99dd57b393a13d8?s=128&d=identicon&r=PG", "display_name": "Aleksei Zaitsev", "link": "https://stackoverflow.com/users/1873210/aleksei-zaitsev"}, "edited": false, "score": 0, "creation_date": 1535366256, "post_id": 36101994, "comment_id": 91025055, "body": "Great answer, but could you, please, fixed a typo in the first example? <code>new InjectionContructor(</code>"}], "tags": [], "owner": {"reputation": 208473, "user_id": 126014, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/33526616d4a11f1630d4939b769cfbf9?s=128&d=identicon&r=PG", "display_name": "Mark Seemann", "link": "https://stackoverflow.com/users/126014/mark-seemann"}, "is_accepted": true, "score": 21, "last_activity_date": 1535382900, "last_edit_date": 1535382900, "creation_date": 1458392061, "answer_id": 36101994, "question_id": 36048646, "link": "https://stackoverflow.com/questions/36048646/dependency-injection-composition-root-and-decorator-pattern/36101994#36101994", "title": "Dependency Injection composition root and decorator pattern", "body": "<h1>Preamble</h1>\n\n<p>Whenever you are having trouble with a DI Container (Unity or otherwise), ask yourself this: <a href=\"http://blog.ploeh.dk/2012/11/06/WhentouseaDIContainer\" rel=\"nofollow noreferrer\">is using a DI Container worth the effort?</a></p>\n\n<p>In most cases, the answer ought to be <strong>no</strong>. Use <a href=\"http://blog.ploeh.dk/2014/06/10/pure-di\" rel=\"nofollow noreferrer\">Pure DI</a> instead. All your answers are trivial to answer with Pure DI.</p>\n\n<h1>Unity</h1>\n\n<p>If you <em>must</em> use Unity, perhaps the following will be of help. I haven't used Unity since 2011, so things may have changed since then, but looking up the issue in section 14.3.3 in <a href=\"http://amzn.to/12p90MG\" rel=\"nofollow noreferrer\">my book</a>, something like this might do the trick:</p>\n\n<pre><code>container.RegisterType&lt;ICustomerService, CustomerService&gt;(\"custSvc\");\ncontainer.RegisterType&lt;ICustomerService, CustomerServiceLoggingDecorator&gt;(\n    new InjectionConstructor(\n        new ResolvedParameter&lt;ICustomerService&gt;(\"custSvc\")));\n</code></pre>\n\n<p>Alternatively, you may also be able to do this:</p>\n\n<pre><code>container.RegisterType&lt;ICustomerService, CustomerServiceLoggingDecorator&gt;(\n    new InjectionConstructor(\n        new ResolvedParameter&lt;CustomerService&gt;()));\n</code></pre>\n\n<p>This alternative is easier to maintain because it does not rely on named services, but has the (potential) disadvantage that you can't resolve <code>CustomerService</code> through the <code>ICustomerService</code> interface. You probably shouldn't be doing that anyway, so it ought not to be an issue, so this is probably a better alternative.</p>\n"}, {"tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": false, "score": 3, "last_activity_date": 1458910945, "last_edit_date": 1458910945, "creation_date": 1458909085, "answer_id": 36219991, "question_id": 36048646, "link": "https://stackoverflow.com/questions/36048646/dependency-injection-composition-root-and-decorator-pattern/36219991#36219991", "title": "Dependency Injection composition root and decorator pattern", "body": "<blockquote>\n  <p>Question: I believe I'm missing a key piece of information, which is leading me to StackoverflowExceptions due to circular dependencies. How do I correctly implement my decorator class while still following dependency injection/inversion of control principles and conventions?</p>\n</blockquote>\n\n<p>As was already pointed out the best way to do this is with the following construct.</p>\n\n<pre><code>container.RegisterType&lt;ICustomerService, CustomerServiceLoggingDecorator&gt;(\n    new InjectionConstructor(new ResolvedParameter&lt;CustomerService&gt;()));\n</code></pre>\n\n<p>This allows you to specify how the parameters are resolved by type. You could also do it by name but by type is a cleaner implementation and allows for better checking during compile time as a change or mistype in a string will not be caught. <em>Note that the only minute difference between this code part and the code offered by Mark Seemann is a correction in the spelling of <code>InjectionConstructor</code>. I will not elaborate on this part any more as there is nothing else to add that Mark Seemann has not already explained.</em></p>\n\n<hr>\n\n<blockquote>\n  <p>Second question: What about if I decided I only wanted to apply the logging decorator in certain circumstances? So if I had MyController1 that I wished to have a CustomerServiceLoggingDecorator dependency, but MyController2 only needs a normal CustomerService, how do I create two separate registrations?</p>\n</blockquote>\n\n<p>You can do this using the way specified above using the Fluent notation OR using named dependency with a dependency override.</p>\n\n<h2>Fluent</h2>\n\n<p>This registers the controller with the container and specifies an overrload for that type in the constructor. I prefer this approach over the second but it just depends on where you want to specify the type.</p>\n\n<pre><code>container.RegisterType&lt;MyController2&gt;(\n    new InjectionConstructor(new ResolvedParameter&lt;CustomerService&gt;()));\n</code></pre>\n\n<h2>Named dependency</h2>\n\n<p>You do this the exact same way, you register both of them like so.</p>\n\n<pre><code>container.RegisterType&lt;ICustomerService, CustomerService&gt;(\"plainService\");\n\ncontainer.RegisterType&lt;ICustomerService, CustomerServiceLoggingDecorator&gt;(\n    new InjectionConstructor(new ResolvedParameter&lt;CustomerService&gt;()));\n</code></pre>\n\n<p>The difference here is that you use a named dependency instead for the other types that can be resolved using the same interface. This is because the interface needs to be resolved to exactly one concrete type every time a resolve is done by Unity so you can not have multiple unnamed registered types that are registered to the same interface. Now you can specify an override in your controller constructor using an attribute. My example is for a controller named <code>MyController2</code> and I added the <code>Dependency</code> attribute with the name also specified above in the registration. So for this constructor a <code>CustomerService</code> type will be injected instead of the default <code>CustomerServiceLoggingDecorator</code> type. <code>MyController1</code> will still use the default unnamed registration for <code>ICustomerService</code> which is type <code>CustomerServiceLoggingDecorator</code>.</p>\n\n<pre><code>public MyController2([Dependency(\"plainService\")]ICustomerService service) \n\npublic MyController1(ICustomerService service) \n</code></pre>\n\n<p>There are also ways to do this when you manually resolve the type on the container itself, see <a href=\"https://msdn.microsoft.com/en-us/library/ff660920(v=pandp.20).aspx\" rel=\"nofollow\">Resolving Objects by Using Overrides</a>. The problem here is that you need access to the container itself to do this which is not recommended. As an alternative you could create a wrapper around the container that you then inject into the Controller (or other type) and then retrieve a type that way with overrides. Again, this gets a bit messy and I would avoid it if possible.</p>\n"}, {"tags": [], "owner": {"reputation": 772, "user_id": 5396416, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/24f8a9d61dc2a26e2954841a20c74c95?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen Ross", "link": "https://stackoverflow.com/users/5396416/stephen-ross"}, "is_accepted": false, "score": 0, "last_activity_date": 1458914192, "creation_date": 1458914192, "answer_id": 36221348, "question_id": 36048646, "link": "https://stackoverflow.com/questions/36048646/dependency-injection-composition-root-and-decorator-pattern/36221348#36221348", "title": "Dependency Injection composition root and decorator pattern", "body": "<p>Building upon Mark's second answer I'd look to registering the <code>CustomerService</code> with a <code>InjectionFactory</code> and only register it with the service type without it's interface like:</p>\n\n<pre><code>containter.RegisterType&lt;CustomerService&gt;(new InjectionFactory(\n    container =&gt; new CustomerService(containter.Resolve&lt;IGenericRepository&lt;Customer&gt;&gt;())));\n</code></pre>\n\n<p>This would then allow, as in Mark's answer, for you to register the logging object like:</p>\n\n<pre><code>containter.RegisterType&lt;ICutomerService, CutomerServiceLoggingDecorator&gt;(new InjectionConstructor(\n    new ResolvedParameter&lt;CustomerService&gt;()));\n</code></pre>\n\n<p>This is basically the same technique that I use whenever I require something to be lazily loaded as I don't want my objects to depend upon <code>Lazy&lt;IService&gt;</code> and by wrapping them in proxy allows me to only inject <code>IService</code> but have it resolved lazily through the proxy.</p>\n\n<p>This will also allow you to pick and choose where either the logging object or the normal object is injected instead of requiring <code>magic</code> strings by simply resolving a <code>CustomerService</code> for your object instead of the <code>ICustomerService</code>.</p>\n\n<p>For a logging <code>CustomerService</code>:</p>\n\n<p><code>container.Resolve&lt;ICustomerService&gt;()</code></p>\n\n<p>Or for a non-logging <code>CustomerService</code>:</p>\n\n<p><code>container.Resolve&lt;CustomerService&gt;()</code></p>\n"}], "owner": {"reputation": 4659, "user_id": 2595033, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/bd78391e14ec16fe30d2e1811a841c70?s=128&d=identicon&r=PG", "display_name": "user9993", "link": "https://stackoverflow.com/users/2595033/user9993"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7428, "favorite_count": 3, "accepted_answer_id": 36101994, "answer_count": 3, "score": 20, "last_activity_date": 1535382900, "creation_date": 1458169512, "last_edit_date": 1491982277, "question_id": 36048646, "link": "https://stackoverflow.com/questions/36048646/dependency-injection-composition-root-and-decorator-pattern", "title": "Dependency Injection composition root and decorator pattern", "body": "<p>I'm getting <code>StackoverflowException</code>'s in my implementation of the decorator pattern when using dependency injection. I think it is because I'm \"missing\" something from my understanding of DI/IoC.</p>\n\n<p>For example, I currently have <code>CustomerService</code> and <code>CustomerServiceLoggingDecorator</code>. Both classes implement <code>ICustomerService</code>, and all the decorator class does is use an injected <code>ICustomerService</code> but adds some simple NLog logging so that I can use logging without affecting the code in <code>CustomerService</code> while also not breaking the single responsibility principle.</p>\n\n<p>However the problem here is that because <code>CustomerServiceLoggingDecorator</code> implements <code>ICustomerService</code>, and it also needs an implementation of <code>ICustomerService</code> injected into it to work, Unity will keep trying to resolve it back to itself which causes an infinite loop until it overflows the stack.</p>\n\n<p>These are my services:</p>\n\n<pre><code>public interface ICustomerService\n{\n    IEnumerable&lt;Customer&gt; GetAllCustomers();\n}\n\npublic class CustomerService : ICustomerService\n{\n    private readonly IGenericRepository&lt;Customer&gt; _customerRepository;\n\n    public CustomerService(IGenericRepository&lt;Customer&gt; customerRepository)\n    {\n        if (customerRepository == null)\n        {\n            throw new ArgumentNullException(nameof(customerRepository));\n        }\n\n        _customerRepository = customerRepository;\n    }\n\n    public IEnumerable&lt;Customer&gt; GetAllCustomers()\n    {\n        return _customerRepository.SelectAll();\n    }\n}\n\npublic class CustomerServiceLoggingDecorator : ICustomerService\n{\n    private readonly ICustomerService _customerService;\n    private readonly ILogger _log = LogManager.GetCurrentClassLogger();\n\n    public CustomerServiceLoggingDecorator(ICustomerService customerService)\n    {\n        _customerService = customerService;\n    }\n\n    public IEnumerable&lt;Customer&gt; GetAllCustomers()\n    {\n        var stopwatch = Stopwatch.StartNew();\n        var result =  _customerService.GetAllCustomers();\n\n        stopwatch.Stop();\n\n        _log.Trace(\"Querying for all customers took: {0}ms\", stopwatch.Elapsed.TotalMilliseconds);\n        return result;\n    }\n}\n</code></pre>\n\n<p>I currently have the registrations setup like this (This stub method was created by <code>Unity.Mvc</code>):</p>\n\n<pre><code>        public static void RegisterTypes(IUnityContainer container)\n        {\n            // NOTE: To load from web.config uncomment the line below. Make sure to add a Microsoft.Practices.Unity.Configuration to the using statements.\n            // container.LoadConfiguration();\n\n            // TODO: Register your types here\n            // container.RegisterType&lt;IProductRepository, ProductRepository&gt;();\n\n            // Register the database context\n            container.RegisterType&lt;DbContext, CustomerDbContext&gt;();\n\n            // Register the repositories\n            container.RegisterType&lt;IGenericRepository&lt;Customer&gt;, GenericRepository&lt;Customer&gt;&gt;();\n\n            // Register the services\n\n            // Register logging decorators\n            // This way \"works\"*\n            container.RegisterType&lt;ICustomerService, CustomerServiceLoggingDecorator&gt;(\n            new InjectionConstructor(\n                new CustomerService(\n                    new GenericRepository&lt;Customer&gt;(\n                        new CustomerDbContext()))));\n\n            // This way seems more natural for DI but overflows the stack\n            container.RegisterType&lt;ICustomerService, CustomerServiceLoggingDecorator&gt;();\n\n        }\n</code></pre>\n\n<p>So now I'm not sure of the \"proper\" way of actually creating a decorator with dependency injection. I based my decorator on Mark Seemann's answer <a href=\"https://softwareengineering.stackexchange.com/questions/139111/interception-vs-injection-a-framework-architecture-decision\">here</a>. In his example, he is newing up several objects that get passed into the class. This is how my it \"works\"* snippet works. However, I think I have missed a fundamental step.</p>\n\n<p>Why manually create new objects like this? Doesn't this negate the point of having the container doing the resolving for me? Or should I instead do <code>contain.Resolve()</code> (service locator) within this one method, to get all the dependencies injected still?</p>\n\n<p>I'm slightly familiar with the \"composition root\" concept, which is where you are supposed to wire up these dependencies in one and only one place that then cascades down to the lower levels of the application. So is the <code>Unity.Mvc</code> generated <code>RegisterTypes()</code> the composition root of an ASP.NET MVC application? If so is it actually correct to be directly newing up objects here?</p>\n\n<p>I was under the impression that generally with Unity you need to create the composition root yourself, however, <code>Unity.Mvc</code> is an exception to this in that it creates it's own composition root because it seems to be able to inject dependencies into controllers that have an interface such as <code>ICustomerService</code> in the constructor without me writing code to make it do that.</p>\n\n<p><strong>Question</strong>: I believe I'm missing a key piece of information, which is leading me to <code>StackoverflowExceptions</code> due to circular dependencies. How do I correctly implement my decorator class while still following dependency injection/inversion of control principles and conventions?</p>\n\n<p><strong>Second question</strong>: What about if I decided I only wanted to apply the logging decorator in certain circumstances? So if I had <code>MyController1</code> that I wished to have a <code>CustomerServiceLoggingDecorator</code> dependency, but <code>MyController2</code> only needs a normal <code>CustomerService</code>, how do I create two separate registrations? Because if I do:</p>\n\n<pre><code>container.RegisterType&lt;ICustomerService, CustomerServiceLoggingDecorator&gt;();\ncontainer.RegisterType&lt;ICustomerService, CustomerService&gt;();\n</code></pre>\n\n<p>Then one will be overwritten meaning that both controllers will either both have a decorator injected or a normal service injected. How do I allow for both?</p>\n\n<p>Edit: This is not a duplicate question because I am having problems with circular dependencies and a lack of understanding of the correct DI approach for this. My question applies to a whole concept not just the decorator pattern like the linked question.</p>\n"}, {"tags": ["c#", ".net", "winforms"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1458169730, "post_id": 36048644, "comment_id": 59745767, "body": "Welcome to Stack Overflow. Unfortunately it&#39;s not really clear to me what you&#39;re asking, but I suspect you could make it clearer by using a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> rather than over 300 lines of code whose intention has not been revealed..."}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1458169787, "post_id": 36048644, "comment_id": 59745788, "body": "Why does a ShellExtension (?) have a form?"}, {"owner": {"reputation": 129, "user_id": 6067451, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6d8e79d9ea6ab13b258e55286c2c80d7?s=128&d=identicon&r=PG&f=1", "display_name": "benny dayag", "link": "https://stackoverflow.com/users/6067451/benny-dayag"}, "edited": false, "score": 0, "creation_date": 1458170291, "post_id": 36048644, "comment_id": 59745988, "body": "Plutonix i wanted to display on form1 some information like how many images left to resize if i&#39;m resizing or other info. Should i move it back to how it was in Program.cs and not using Form ?"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1458170335, "post_id": 36048644, "comment_id": 59746009, "body": "<a href=\"http://www.codeproject.com/Articles/174369/How-to-Write-Windows-Shell-Extension-with-NET-Lang\" rel=\"nofollow noreferrer\">This has already been done for you</a> but <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd758089(v=vs.85).aspx\" rel=\"nofollow noreferrer\">ShellExtensions in managed code</a> are not advised."}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1458170684, "post_id": 36048644, "comment_id": 59746125, "body": "Sorry, I rewrote that code to make it more usable.  The update (VB and C#m but still not advised) is here: <a href=\"http://www.codeproject.com/Articles/994299/Explorer-Shell-Extensions-in-NET-Revised\" rel=\"nofollow noreferrer\">codeproject.com/Articles/994299/&hellip;</a>"}, {"owner": {"reputation": 129, "user_id": 6067451, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6d8e79d9ea6ab13b258e55286c2c80d7?s=128&d=identicon&r=PG&f=1", "display_name": "benny dayag", "link": "https://stackoverflow.com/users/6067451/benny-dayag"}, "edited": false, "score": 0, "creation_date": 1458194362, "post_id": 36048644, "comment_id": 59753171, "body": "Plutonix since ShellExtension is not adviced how can i add context menus to the file/window explorer in other ways ?  &quot; Since Explorer Context Menus can easily be implemented without a Shell Extension, the answer may actually be &quot;no&quot;. &quot;"}], "answers": [{"tags": [], "owner": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "is_accepted": false, "score": 0, "last_activity_date": 1458174009, "creation_date": 1458174009, "answer_id": 36049463, "question_id": 36048644, "link": "https://stackoverflow.com/questions/36048644/what-parameters-should-i-give-to-the-method-args-when-calling-it-in-form1-constr/36049463#36049463", "title": "What parameters should i give to the method Args when calling it in form1 constructor?", "body": "<p>This is a very spammy question, when in actuallity, your minimum code question was how do i access the command line parameters.</p>\n\n<p>Try </p>\n\n<pre><code>string[] args = Environment.GetCommandLineArgs();\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 6067451, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6d8e79d9ea6ab13b258e55286c2c80d7?s=128&d=identicon&r=PG&f=1", "display_name": "benny dayag", "link": "https://stackoverflow.com/users/6067451/benny-dayag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1458182144, "creation_date": 1458169509, "question_id": 36048644, "link": "https://stackoverflow.com/questions/36048644/what-parameters-should-i-give-to-the-method-args-when-calling-it-in-form1-constr", "title": "What parameters should i give to the method Args when calling it in form1 constructor?", "body": "<p>I remember/think it should be kind of string array but not sure what should i do and how.\nIn the original the Args was in the Program.cs but i moved it to Form1.\nI know it worked for me before but not sure what args should Args get.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nusing System.Drawing.Imaging;\nusing System.IO;\n\nnamespace ShellContextMenu\n{\n    public partial class Form1 : Form\n    {\n        // file type to register\n        const string FileType = \"jpegfile\";\n\n        // context menu name in the registry\n        const string KeyName = \"Simple Context Menu\";\n        const string KeyName1 = \"Simple Context Menu1\";\n        const string KeyName2 = \"Simple Context Menu2\";\n\n        // context menu text\n        const string MenuText = \"Copy to Grayscale\";\n        const string MenuText1 = \"Resize all images\";\n        const string MenuText2 = \"Share Media\";\n\n        public Form1()\n        {\n            InitializeComponent();\n\n            listView1.View = View.List;\n\n        }\n\n        private void Args(string[] args)\n        {\n            // process register or unregister commands\n            if (!ProcessCommand(args))\n            {\n                string action = args[0];\n                string fileName = args[1];\n\n                if (action == \"Copy\")\n                {\n                    // invoked from shell, process the selected file\n                    CopyGrayscaleImage(fileName);\n                }\n                else if (action == \"Resize\")\n                {\n                    string FilePath = Path.Combine(\n                    Path.GetDirectoryName(fileName),\n                    string.Format(\"{0} (resized){1}\",\n                    Path.GetFileNameWithoutExtension(fileName),\n                    Path.GetExtension(fileName)));\n                    var directory = System.IO.Path.GetDirectoryName(fileName);\n                    var files = System.IO.Directory.EnumerateFiles(directory, \"*.*\")\n                        .Where(s =&gt; s.EndsWith(\".bmp\", StringComparison.OrdinalIgnoreCase)\n                                || s.EndsWith(\".jpg\", StringComparison.OrdinalIgnoreCase)\n                                || s.EndsWith(\".tiff \", StringComparison.OrdinalIgnoreCase));\n                    int count = 0;\n                    foreach (string filename in files)\n                    {\n                        count++;\n                        ImageResizer resizer = new ImageResizer(1024000, filename\n                            , directory + \"\\\\\" + System.IO.Path.GetFileNameWithoutExtension(filename)\n                            + \"resized\" + count + \".jpg\");\n                        resizer.ScaleImage();\n                    }\n                }\n            }\n        }\n\n        /// &lt;summary&gt;\n        /// Process command line actions (register or unregister).\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"args\"&gt;Command line arguments.&lt;/param&gt;\n        /// &lt;returns&gt;True if processed an action in the command line.&lt;/returns&gt;\n        private bool ProcessCommand(string[] args)\n        {\n            // register\n            if (args.Length == 0 || string.Compare(args[0], \"-register\", true) == 0)\n            {\n                // full path to self, %L is placeholder for selected file\n                string menuCommand = string.Format(\"\\\"{0}\\\" Copy \\\"%L\\\"\", Application.ExecutablePath);\n\n                // register the context menu\n                FileShellExtension.Register(FileType,\n                    KeyName, MenuText,\n                    menuCommand);\n\n                string menuCommand1 = string.Format(\"\\\"{0}\\\" Resize \\\"%L\\\"\", Application.ExecutablePath);\n\n                FileShellExtension.Register(FileType,\n                    KeyName1, MenuText1,\n                    menuCommand1);\n\n                string menuCommand2 = string.Format(\"\\\"{0}\\\" Share \\\"%L\\\"\", Application.ExecutablePath);\n\n                FileShellExtension.Register(FileType,\n                    KeyName2, MenuText2,\n                    menuCommand2);\n\n                using (Microsoft.Win32.RegistryKey key =\n                    Microsoft.Win32.Registry.ClassesRoot.CreateSubKey(@\"HKEY_CLASSES_ROOT\\jpegfile\\shell\\Simple Context Menu2\"))\n                // HKEY_CLASSES_ROOT\\jpegfile\\shell\\Simple Context Menu2\n                {\n                    key.SetValue(null, \"Tapuz\");\n                }\n\n                MessageBox.Show(string.Format(\n                    \"The {0} shell extension was registered.\",\n                    KeyName), KeyName);\n\n                return true;\n            }\n\n            // unregister       \n            if (string.Compare(args[0], \"-unregister\", true) == 0)\n            {\n                // unregister the context menu\n                FileShellExtension.Unregister(FileType, KeyName);\n\n                MessageBox.Show(string.Format(\n                    \"The {0} shell extension was unregistered.\",\n                    KeyName), KeyName);\n\n                return true;\n            }\n\n            // command line did not contain an action\n            return false;\n        }\n\n        /// &lt;summary&gt;\n        /// Make a grayscale copy of the image.\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"filePath\"&gt;Full path to the image to copy.&lt;/param&gt;\n        private void CopyGrayscaleImage(string filePath)\n        {\n            try\n            {\n                // full path to the grayscale copy\n                string grayFilePath = Path.Combine(\n                    Path.GetDirectoryName(filePath),\n                    string.Format(\"{0} (grayscale){1}\",\n                    Path.GetFileNameWithoutExtension(filePath),\n                    Path.GetExtension(filePath)));\n\n                // using calls Dispose on the objects, important \n                // so the file is not locked when the app terminates\n                using (Image image = new Bitmap(filePath))\n                using (Bitmap grayImage = new Bitmap(image.Width, image.Height))\n                using (Graphics g = Graphics.FromImage(grayImage))\n                {\n                    // setup grayscale matrix\n                    ImageAttributes attr = new ImageAttributes();\n                    attr.SetColorMatrix(new ColorMatrix(new float[][]{   \n                        new float[]{0.3086F,0.3086F,0.3086F,0,0},\n                        new float[]{0.6094F,0.6094F,0.6094F,0,0},\n                        new float[]{0.082F,0.082F,0.082F,0,0},\n                        new float[]{0,0,0,1,0,0},\n                        new float[]{0,0,0,0,1,0},\n                        new float[]{0,0,0,0,0,1}}));\n\n                    // create the grayscale image\n                    g.DrawImage(image, new Rectangle(0, 0, image.Width, image.Height),\n                        0, 0, image.Width, image.Height, GraphicsUnit.Pixel, attr);\n\n                    // save to the file system\n                    grayImage.Save(grayFilePath, ImageFormat.Jpeg);\n\n                    // success\n                    MessageBox.Show(string.Format(\"Copied grayscale image {0}\", grayFilePath), KeyName);\n                }\n            }\n            catch (Exception ex)\n            {\n                MessageBox.Show(string.Format(\"An error occurred: {0}\", ex.Message), KeyName);\n                return;\n            }\n        }\n\n        private Bitmap ResizeImages(String filename, int maxWidth, int maxHeight)\n        {\n            using (Image originalImage = Image.FromFile(filename))\n            {\n                //Caluate new Size\n                int newWidth = originalImage.Width;\n                int newHeight = originalImage.Height;\n                double aspectRatio = (double)originalImage.Width / (double)originalImage.Height;\n                if (aspectRatio &lt;= 1 &amp;&amp; originalImage.Width &gt; maxWidth)\n                {\n                    newWidth = maxWidth;\n                    newHeight = (int)Math.Round(newWidth / aspectRatio);\n                }\n                else if (aspectRatio &gt; 1 &amp;&amp; originalImage.Height &gt; maxHeight)\n                {\n                    newHeight = maxHeight;\n                    newWidth = (int)Math.Round(newHeight * aspectRatio);\n                }\n                if (newWidth &gt;= 0 &amp;&amp; newHeight &gt;= 0)\n                {\n                    Bitmap newImage = new Bitmap(newWidth, newHeight);\n                    using (Graphics g = Graphics.FromImage(newImage))\n                    {\n                        //--Quality Settings Adjust to fit your application\n                        g.InterpolationMode = System.Drawing.Drawing2D.InterpolationMode.HighQualityBilinear;\n                        g.SmoothingMode = System.Drawing.Drawing2D.SmoothingMode.HighQuality;\n                        g.PixelOffsetMode = System.Drawing.Drawing2D.PixelOffsetMode.HighQuality;\n                        g.CompositingQuality = System.Drawing.Drawing2D.CompositingQuality.HighQuality;\n                        g.DrawImage(originalImage, 0, 0, newImage.Width, newImage.Height);\n                        return newImage;\n                    }\n                }\n                return null;\n            }\n        }\n\n        private void CopyFilesToClipBoard()\n        {\n            // Copy some files to the clipboard.\n            List&lt;string&gt; file_list = new List&lt;string&gt;();\n            foreach (string file_name in Directory.GetFiles(Application.StartupPath))\n                file_list.Add(file_name);\n            Clipboard.Clear();\n            Clipboard.SetData(DataFormats.FileDrop, file_list.ToArray());\n            // Paste the file list back out of the clipboard.\n            string[] file_names = (string[])\n            Clipboard.GetData(DataFormats.FileDrop);\n            // Display the pasted file names.\n            foreach (string fname in file_names)\n                listView1.Items.Add(fname);\n        }\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n\n        }\n    }\n}\n</code></pre>\n\n<p>And the FileShellExtension class</p>\n\n<pre><code>using System;\nusing System.Diagnostics;\nusing Microsoft.Win32;\n\nnamespace ShellContextMenu\n{\n    /// &lt;summary&gt;\n    /// Register and unregister simple shell context menus.\n    /// &lt;/summary&gt;\n    static class FileShellExtension\n    {\n        /// &lt;summary&gt;\n        /// Register a simple shell context menu.\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"fileType\"&gt;The file type to register.&lt;/param&gt;\n        /// &lt;param name=\"shellKeyName\"&gt;Name that appears in the registry.&lt;/param&gt;\n        /// &lt;param name=\"menuText\"&gt;Text that appears in the context menu.&lt;/param&gt;\n        /// &lt;param name=\"menuCommand\"&gt;Command line that is executed.&lt;/param&gt;\n        public static void Register(\n            string fileType, string shellKeyName, \n            string menuText, string menuCommand)\n        {\n            Debug.Assert(!string.IsNullOrEmpty(fileType) &amp;&amp;\n                !string.IsNullOrEmpty(shellKeyName) &amp;&amp;\n                !string.IsNullOrEmpty(menuText) &amp;&amp; \n                !string.IsNullOrEmpty(menuCommand));\n\n            // create full path to registry location\n            string regPath = string.Format(@\"{0}\\shell\\{1}\", fileType, shellKeyName);\n\n            // add context menu to the registry\n            using (RegistryKey key = Registry.ClassesRoot.CreateSubKey(regPath))\n            {\n                key.SetValue(null, menuText);\n            }\n\n            // add command that is invoked to the registry\n            using (RegistryKey key = Registry.ClassesRoot.CreateSubKey(\n                string.Format(@\"{0}\\command\", regPath)))\n            {               \n                key.SetValue(null, menuCommand);\n            }\n        }\n\n        /// &lt;summary&gt;\n        /// Unregister a simple shell context menu.\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"fileType\"&gt;The file type to unregister.&lt;/param&gt;\n        /// &lt;param name=\"shellKeyName\"&gt;Name that was registered in the registry.&lt;/param&gt;\n        public static void Unregister(string fileType, string shellKeyName)\n        {\n            Debug.Assert(!string.IsNullOrEmpty(fileType) &amp;&amp;\n                !string.IsNullOrEmpty(shellKeyName));\n\n            // full path to the registry location           \n            string regPath = string.Format(@\"{0}\\shell\\{1}\", fileType, shellKeyName);\n\n            // remove context menu from the registry\n            Registry.ClassesRoot.DeleteSubKeyTree(regPath);\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "unit-testing", "mocking", "moq"], "answers": [{"tags": [], "owner": {"reputation": 2520, "user_id": 1307262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a11e97d5da4ec92d27df4c4fedde3e8d?s=128&d=identicon&r=PG&f=1", "display_name": "Red", "link": "https://stackoverflow.com/users/1307262/red"}, "is_accepted": false, "score": 1, "last_activity_date": 1458238152, "creation_date": 1458238152, "answer_id": 36068487, "question_id": 36048513, "link": "https://stackoverflow.com/questions/36048513/mocking-async-dbcontext-functions-with-input-parameter-with-c-moq-framework/36068487#36068487", "title": "Mocking async DbContext functions with input parameter with C#/Moq Framework", "body": "<p>Try changing this line:</p>\n\n<pre><code>mockSet.Setup(m =&gt; m.FindAsync(It.IsAny&lt;object[]&gt;()))\n    .Returns&lt;Task&lt;object[]&gt;&gt;(d =&gt;\n     {\n        return Task.FromResult(StaticMethodtoFindStuff&lt;T&gt;(queryableData, d));\n     });\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>mockSet.Setup(m =&gt; m.FindAsync(It.IsAny&lt;object[]&gt;()))\n    .Returns&lt;object[]&gt;(d =&gt;\n     {\n        return Task.FromResult(StaticMethodtoFindStuff&lt;T&gt;(queryableData, d));\n     });\n</code></pre>\n\n<p>The thing here is, generic argument <code>T</code> for <code>.Returns&lt;T&gt;</code> is not the type of result, but instead, that's the type of <strong>first parameter, passed inside function</strong> in <code>.Setup</code> method -- for your it's object[].</p>\n\n<p>Check Moq source code for more info:</p>\n\n<p><a href=\"https://github.com/moq/moq4/blob/b2cf2d303ea6644fda2eaf10bad43c88c05b395f/Source/Language/IReturns.Generated.cs\" rel=\"nofollow\">https://github.com/moq/moq4/blob/b2cf2d303ea6644fda2eaf10bad43c88c05b395f/Source/Language/IReturns.Generated.cs</a></p>\n\n<p>Here's a quote from the sources, check T1 and T2 parameter commentaries:</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Specifies a function that will calculate the value to return from the method, \n/// retrieving the arguments for the invocation.\n/// &lt;/summary&gt;\n/// &lt;typeparam name=\"T1\"&gt;The type of the first argument of the invoked method.&lt;/typeparam&gt;\n/// &lt;typeparam name=\"T2\"&gt;The type of the second argument of the invoked method.&lt;/typeparam&gt;\n/// &lt;param name=\"valueFunction\"&gt;The function that will calculate the return value.&lt;/param&gt;\n/// &lt;return&gt;Returns a calculated value which is evaluated lazily at the time of the invocation.&lt;/return&gt;\n/// &lt;example&gt;\n/// &lt;para&gt;\n/// The return value is calculated from the value of the actual method invocation arguments. \n/// Notice how the arguments are retrieved by simply declaring them as part of the lambda \n/// expression:\n/// &lt;/para&gt;\n/// &lt;code&gt;\n/// mock.Setup(x =&gt; x.Execute(\n///                      It.IsAny&lt;int&gt;(), \n///                      It.IsAny&lt;int&gt;()))\n///     .Returns((int arg1, int arg2) =&gt; arg1 + arg2); //I fixed that line, it's different in the documentation and is incorrect\n/// &lt;/code&gt;\n/// &lt;/example&gt;\nIReturnsResult&lt;TMock&gt; Returns&lt;T1, T2&gt;(Func&lt;T1, T2, TResult&gt; valueFunction);\n</code></pre>\n\n<p>You can also see, that it defines multiple overloads of Returns with variable number of generic parameters, so that you could mock a method with up to 16 parameters.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 3639321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bec52c238c673fd1227bc8d3220665b2?s=128&d=identicon&r=PG&f=1", "display_name": "ohansrud", "link": "https://stackoverflow.com/users/3639321/ohansrud"}, "is_accepted": true, "score": 1, "last_activity_date": 1458561506, "creation_date": 1458561506, "answer_id": 36130428, "question_id": 36048513, "link": "https://stackoverflow.com/questions/36048513/mocking-async-dbcontext-functions-with-input-parameter-with-c-moq-framework/36130428#36130428", "title": "Mocking async DbContext functions with input parameter with C#/Moq Framework", "body": "<p>Finally got it figured out. Turned out that I was missing an 'async' keyword there. Code is: </p>\n\n<pre><code>        mockSet.Setup(m =&gt; m.FindAsync(It.IsAny&lt;object[]&gt;()))\n            .Returns&lt;object[]&gt;(async (d) =&gt;\n            {\n                return await Task.FromResult(StaticMethodtoFindStuff&lt;T&gt;(queryableData, d));\n            });\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 3639321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bec52c238c673fd1227bc8d3220665b2?s=128&d=identicon&r=PG&f=1", "display_name": "ohansrud", "link": "https://stackoverflow.com/users/3639321/ohansrud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1261, "favorite_count": 0, "accepted_answer_id": 36130428, "answer_count": 2, "score": 1, "last_activity_date": 1478538204, "creation_date": 1458168815, "question_id": 36048513, "link": "https://stackoverflow.com/questions/36048513/mocking-async-dbcontext-functions-with-input-parameter-with-c-moq-framework", "title": "Mocking async DbContext functions with input parameter with C#/Moq Framework", "body": "<p>I have made a Mock of DbContext and populated with test data. DbSet is a protected class so the result cannot be mocked, so I found an extension method.</p>\n\n<pre><code>    public static class DbSetMocking\n    {\n\n    private static Mock&lt;DbSet&lt;T&gt;&gt; CreateMockSet&lt;T&gt;(IQueryable&lt;T&gt; data)\n            where T : class\n    {\n        var queryableData = data.AsQueryable();\n        var mockSet = new Mock&lt;DbSet&lt;T&gt;&gt;();\n\n        mockSet.As&lt;IQueryable&lt;T&gt;&gt;().Setup(m =&gt; m.Provider)\n                .Returns(queryableData.Provider);\n        mockSet.As&lt;IQueryable&lt;T&gt;&gt;().Setup(m =&gt; m.Expression)\n                .Returns(queryableData.Expression);\n        mockSet.As&lt;IQueryable&lt;T&gt;&gt;().Setup(m =&gt; m.ElementType)\n                .Returns(queryableData.ElementType);\n        mockSet.As&lt;IQueryable&lt;T&gt;&gt;().Setup(m =&gt; m.GetEnumerator())\n                .Returns(queryableData.GetEnumerator());\n\n      return mockSet;\n    }\n\n    public static IReturnsResult&lt;TContext&gt; ReturnsDbSet&lt;TEntity, TContext&gt;(this IReturns&lt;TContext, DbSet&lt;TEntity&gt;&gt; setup, TEntity[] entities)\n        where TEntity : class\n        where TContext : DbContext\n    {\n        var mockSet = CreateMockSet(entities.AsQueryable());\n        return setup.Returns(mockSet.Object);\n    }\n\n    public static IReturnsResult&lt;TContext&gt; ReturnsDbSet&lt;TEntity, TContext&gt;(this IReturns&lt;TContext, DbSet&lt;TEntity&gt;&gt; setup, IQueryable&lt;TEntity&gt; entities)\n        where TEntity : class\n        where TContext : DbContext\n    {\n        var mockSet = CreateMockSet(entities);\n        return setup.Returns(mockSet.Object);\n    }\n\n    public static IReturnsResult&lt;TContext&gt; ReturnsDbSet&lt;TEntity, TContext&gt;(this IReturns&lt;TContext, DbSet&lt;TEntity&gt;&gt; setup, IEnumerable&lt;TEntity&gt; entities)\n        where TEntity : class\n        where TContext : DbContext\n    {\n        var mockSet = CreateMockSet(entities.AsQueryable());\n        return setup.Returns(mockSet.Object);\n    }\n}\n</code></pre>\n\n<p>To create a Mock of DbContext:</p>\n\n<pre><code>var db = new Mock&lt;DbContext&gt;();\n\n//Populate\nthis.db.Setup(x =&gt; x.MyObjects).ReturnsDbSet(\n  new List&lt;MyObject&gt;\n  {\n     new MyObject{Id=1, Description=\"Test\"},                   \n  }\n );\n</code></pre>\n\n<p>Second, I am trying to extend the Mocks to include Find(id) and FindAsync(id) methods. Theese methods are being place in the DbSetMocking class. Find method works fine:</p>\n\n<pre><code> mockSet.Setup(m =&gt; m.Find(It.IsAny&lt;object[]&gt;()))\n      .Returns&lt;object[]&gt;(id =&gt; StaticMethodtoFindStuff&lt;T&gt;(queryableData,   id));\n</code></pre>\n\n<p>However, I cannot get the FindAsync method to work. This is what I have tried so far:</p>\n\n<pre><code>mockSet.Setup(m =&gt; m.FindAsync(It.IsAny&lt;object[]&gt;()))\n   .Returns(Task.FromResult(StaticMethodtoFindStuff&lt;T&gt;(queryableData, 1)));\n</code></pre>\n\n<p>This one works, but then I dont have access to the parameter set by the function. Tried this one, compiling works fine, but it fails on execution with the error msg: </p>\n\n<p>Object of type 'System.Object[]' cannot be converted to type 'System.Threading.Tasks.Task`1[System.Object[]]'.</p>\n\n<pre><code>mockSet.Setup(m =&gt; m.FindAsync(It.IsAny&lt;object[]&gt;()))\n    .Returns&lt;Task&lt;object[]&gt;&gt;(d =&gt;\n     {\n        return Task.FromResult(StaticMethodtoFindStuff&lt;T&gt;(queryableData, d));\n     });\n</code></pre>\n\n<p>Anybody have a clue how I can implement this function?</p>\n"}, {"tags": ["c#", "url", "pdf", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 0, "creation_date": 1458249633, "post_id": 36069336, "comment_id": 59789905, "body": "Thanks for the answer, however I have already ensured that it doesn&#39;t have any spaces."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6066644"}, "is_accepted": true, "score": 0, "last_activity_date": 1458241788, "last_edit_date": 1458241788, "creation_date": 1458240856, "answer_id": 36069336, "question_id": 36048452, "link": "https://stackoverflow.com/questions/36048452/unity-3d-open-locally-stored-pdf-in-browser/36069336#36069336", "title": "Unity 3D open locally stored PDF in browser", "body": "<p>Is it because the <code>Application.persistentDataPath</code> has spaces in it perhaps?</p>\n\n<p>Try using <a href=\"http://docs.unity3d.com/ScriptReference/WWW.EscapeURL.html\" rel=\"nofollow\">WWW.EscapeURL()</a></p>\n\n<pre><code>Application.OpenURL(\"file://\" + WWW.EscapeURL(Application.persistentDataPath) + \"/WorkSmartTour/WG0047-Neighbour-Guide-TopTips_LowRes_FINAL-(2).pdf\");\n</code></pre>\n"}], "owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2089, "favorite_count": 0, "accepted_answer_id": 36069336, "answer_count": 1, "score": 1, "last_activity_date": 1458249737, "creation_date": 1458168593, "last_edit_date": 1458249737, "question_id": 36048452, "link": "https://stackoverflow.com/questions/36048452/unity-3d-open-locally-stored-pdf-in-browser", "title": "Unity 3D open locally stored PDF in browser", "body": "<p>Unity version: 5.2.2 Building for IOS 9+.</p>\n\n<p>I am having an issue where I am unable to open a pdf stored in <code>Applicaiton.persistentData</code> in the web browser via <code>Application.OpenURL();</code></p>\n\n<p>This is what I currently have:</p>\n\n<pre><code>Debug.Log(\"file://\" + Application.persistentDataPath + \"/WorkSmartTour/WG0047-Neighbour-Guide-TopTips_LowRes_FINAL-(2).pdf\");\nApplication.OpenURL(\"file://\" + Application.persistentDataPath + \"/WorkSmartTour/WG0047-Neighbour-Guide-TopTips_LowRes_FINAL-(2).pdf\");\n</code></pre>\n\n<p>Debug Log Output:</p>\n\n<pre><code>file:///Users/myname/Library/Application%20Support/Company/WorkSmart/WorkSmartTour/WG0047-Neighbour-Guide-TopTips_LowRes_FINAL-%282%29.pdf\n</code></pre>\n\n<p>If I copy and paste the debug log into the browser then the pdf opens as expected, so I am wondering if there is something I am unaware of in regards to this process.</p>\n\n<p><strong>Additionally, please note that this application must function offline.</strong></p>\n"}, {"tags": ["c#", "interface", "explicit-interface"], "comments": [{"owner": {"reputation": 643, "user_id": 3562360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d18b6ec1bce818bd6b006d5d347cc69?s=128&d=identicon&r=PG&f=1", "display_name": "Boo", "link": "https://stackoverflow.com/users/3562360/boo"}, "edited": false, "score": 0, "creation_date": 1458168737, "post_id": 36048435, "comment_id": 59745385, "body": "why not simply use string Alias =&gt; Name (c#6) or string Alias {get { return Name;}} ?"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 643, "user_id": 3562360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d18b6ec1bce818bd6b006d5d347cc69?s=128&d=identicon&r=PG&f=1", "display_name": "Boo", "link": "https://stackoverflow.com/users/3562360/boo"}, "edited": false, "score": 0, "creation_date": 1458169459, "post_id": 36048435, "comment_id": 59745674, "body": "@Boo: Because it needs to implement the interface, which has a setter. Personally I&#39;d make the setter throw an exception instead of ignoring the call though... or redesign the interface."}], "answers": [{"tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": false, "score": 3, "last_activity_date": 1458169404, "creation_date": 1458169404, "answer_id": 36048624, "question_id": 36048435, "link": "https://stackoverflow.com/questions/36048435/why-do-i-need-to-cast-this-to-interface-type-in-a-c-explicit-implementation/36048624#36048624", "title": "Why do I need to cast &#39;this&#39; to interface type in a C# explicit implementation?", "body": "<blockquote>\n  <p>Since this within the context of an explicit interface implementation can only possibly be of type Profile and we know it was accessed through the Profile interface rather than that of the containing class or any other interface it implements, why is the cast required?</p>\n</blockquote>\n\n<p><em>Because</em> it uses explicit interface implementation. That's simply part of what explicit interface implementation does - and part of how it achieves its aim of disambiguating calls that would otherwise be ambiguous. From the C# 5 specification, section 13.4.1:</p>\n\n<blockquote>\n  <p>It is not possible to access an explicit interface member implementation through its fully qualified name in a method invocation, property access, or indexer access. An explicit interface member implementation can only be accessed through an interface instance, and is in that case referenced simply by its member name.</p>\n  \n  <p>...</p>\n  \n  <p>Explicit interface member implementations serve two primary purposes:</p>\n  \n  <ul>\n  <li>Because explicit interface member implementations are not accessible through class or struct instances, they allow interface implementations to be excluded from the public interface of a class or struct. This is particularly useful when a class or struct implements an internal interface that is of no interest to a consumer of that class or struct.</li>\n  <li>Explicit interface member implementations allow disambiguation of interface members with the same signature. Without explicit interface member implementations it would be impossible for a class or struct to have different implementations of interface members with the same signature and return type, as would it be impossible for a class or struct to have any implementation at all of interface members with the same signature but with different return types.</li>\n  </ul>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "is_accepted": true, "score": 4, "last_activity_date": 1458170364, "last_edit_date": 1458170364, "creation_date": 1458169669, "answer_id": 36048682, "question_id": 36048435, "link": "https://stackoverflow.com/questions/36048435/why-do-i-need-to-cast-this-to-interface-type-in-a-c-explicit-implementation/36048682#36048682", "title": "Why do I need to cast &#39;this&#39; to interface type in a C# explicit implementation?", "body": "<blockquote>\n  <p>Since <code>this</code> within the context of an explicit interface implementation can only possibly be of type <code>Profile</code></p>\n</blockquote>\n\n<p>This is not true. You are implementing <code>Profile.Alias</code> inside the <code>ConcreteProfile</code> class. In this context, <code>this</code> refers to the <code>ConcreteProfile</code> instance and can be used to access any member of the <code>ConcreteProfile</code> instance.</p>\n\n<p>For example, the <code>ConcreteProfile</code> class can contain another <code>Name</code> property that is not <code>Profile.Name</code>. In this case <code>this.Name</code> would refer to that property.</p>\n\n<p>Since you want to access <code>Profile.Name</code>, you have to cast <code>this</code> to <code>Profile</code>.</p>\n"}], "owner": {"reputation": 16671, "user_id": 461492, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/14f382feb5f0dd3d3700edf8d6156aa9?s=128&d=identicon&r=PG", "display_name": "jhabbott", "link": "https://stackoverflow.com/users/461492/jhabbott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 36048682, "answer_count": 2, "score": 1, "last_activity_date": 1458170364, "creation_date": 1458168525, "question_id": 36048435, "link": "https://stackoverflow.com/questions/36048435/why-do-i-need-to-cast-this-to-interface-type-in-a-c-explicit-implementation", "title": "Why do I need to cast &#39;this&#39; to interface type in a C# explicit implementation?", "body": "<p>I have an interface:</p>\n\n<pre><code>public interface Profile\n{\n    string Name { get; }\n    string Alias { get; set; }\n}\n</code></pre>\n\n<p>All objects that implement <code>Profile</code> have a <code>Name</code> and an <code>Alias</code>, but some restrict <code>Alias</code> such that it's always the same as <code>Name</code>. The ones that apply this restriction can implement <code>Alias</code> like this:</p>\n\n<pre><code>string Profile.Alias\n{\n    get\n    {\n        return ((Profile)this).Name;\n    }\n    set { }\n}\n</code></pre>\n\n<p>Since <code>this</code> within the context of an explicit interface implementation can only possibly be of type <code>Profile</code> and we know it was accessed through the <code>Profile</code> interface rather than that of the containing class or any other interface it implements, why is the cast required?</p>\n\n<p>Using <code>return this.Name;</code> for the getter implementation results in this error:</p>\n\n<pre><code>Type `ConcreteProfile' does not contain a definition for `Name' and no extension method `Name' of type `ConcreteProfile' could be found (are you missing a using directive or an assembly reference?)\n</code></pre>\n"}, {"tags": ["c#", "math"], "comments": [{"owner": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "edited": false, "score": 1, "creation_date": 1458168310, "post_id": 36048340, "comment_id": 59745207, "body": "<code>x = (y == 4 ? 1 : 0) * 12 + (y == 5 ? 1  :  0) * 24;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1458168244, "post_id": 36048364, "comment_id": 59745178, "body": "Its plain not really logical! :P"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1458168310, "post_id": 36048364, "comment_id": 59745208, "body": "Well, we don&#39;t know the type of y... it <i>is</i> possible for this code to compile in C#, using some &quot;unusual&quot; overloaded operators. (I&#39;ve just proved that...)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 0, "creation_date": 1458168333, "post_id": 36048364, "comment_id": 59745217, "body": "In C, <code>==</code> returns <code>0</code> or <code>1</code> which can be used as a number just as well as a truth value. This answer is totally wrong."}, {"owner": {"reputation": 281, "user_id": 3208534, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/181ea812070fa6e0ab3c2a31f3f29c44?s=128&d=identicon&r=PG&f=1", "display_name": "Quantum_Kernel", "link": "https://stackoverflow.com/users/3208534/quantum-kernel"}, "edited": false, "score": 0, "creation_date": 1458168337, "post_id": 36048364, "comment_id": 59745220, "body": "I did not think it was right but I was thrown by the fact that it was part of the homework for my coding class. I suspect somebody is trying to express something in pseudocode and it makes no sense."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 0, "creation_date": 1458168707, "post_id": 36048364, "comment_id": 59745373, "body": "Heh, I was typing up my own similar answer. Yeah, looks right to me."}], "tags": [], "owner": {"reputation": 50118, "user_id": 913124, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/20dGq.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/913124/christos"}, "is_accepted": false, "score": 1, "last_activity_date": 1458168472, "last_edit_date": 1458168472, "creation_date": 1458168187, "answer_id": 36048364, "question_id": 36048340, "link": "https://stackoverflow.com/questions/36048340/understanding-simple-ansi-c-math-expression-in-terms-of-c/36048364#36048364", "title": "Understanding simple ANSI C math expression in terms of C#", "body": "<p>This is definitely wrong in C#. Both expressions, <code>y==4</code> and <code>y==5</code> are evaluated as a boolean. That being said, how can you define the multiplication between a boolean and an integer? This expression is not correct in C#.</p>\n\n<p>I would say that you could try the following:</p>\n\n<pre><code>x = (y == 4 ? 1 : 0) * 12 + (y == 5 ? 1 : 0) * 24;\n</code></pre>\n\n<p>In the above expression we use the ternary operator, whose logic is quite simple it the expression evaluates to true then return the result after the question mark. Otherwise it returns the value after the <code>:</code>. So if <code>y</code> is equals to 4, then <code>(y == 4 ? 1 : 0)</code> evaluates to 1. Otherwise, it returns 0.</p>\n\n<p>The above solution is based on that hvd mentioned below in his comment, that <code>==</code> returns either 0 or 1 in C.</p>\n"}, {"comments": [{"owner": {"reputation": 1900, "user_id": 111110, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x4wRj.png?s=128&g=1", "display_name": "Broken_Window", "link": "https://stackoverflow.com/users/111110/broken-window"}, "edited": false, "score": 0, "creation_date": 1458168847, "post_id": 36048464, "comment_id": 59745427, "body": "I didn&#39;t know this! This is the reason of so many integers treated as booleans..."}, {"owner": {"reputation": 281, "user_id": 3208534, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/181ea812070fa6e0ab3c2a31f3f29c44?s=128&d=identicon&r=PG&f=1", "display_name": "Quantum_Kernel", "link": "https://stackoverflow.com/users/3208534/quantum-kernel"}, "edited": false, "score": 0, "creation_date": 1458168922, "post_id": 36048464, "comment_id": 59745463, "body": "Thanks. I will use this in reply to the homework question, though I suspect the question is either a mistake or poorly explained."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1458169546, "post_id": 36048464, "comment_id": 59745710, "body": "Comparison and boolean operators still yield an <code>int</code> result. <code>_Bool</code> is just usefull for variables, e.g. <code>_Bool b = 5;</code> or <code>int *p = NULL; _Bool b = p;</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1458169754, "post_id": 36048464, "comment_id": 59745780, "body": "@Olaf I know. I mentioned only what the original version of C was like, because the later additions don&#39;t change anything relevant to this question. Which is pretty much what you wrote in your comment. :)"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1458171125, "post_id": 36048464, "comment_id": 59746283, "body": "That was actually my point, as your answer implies things have changed to C++ behaviour (I sometimes wish it had) using past tense."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1458171756, "post_id": 36048464, "comment_id": 59746501, "body": "@Olaf The reason for the past tense is that the question is about an old version of C, not the current one. I hadn&#39;t intended for it to imply any change in behaviour (nor of lack thereof). I simply wanted to leave C99/C11 out of it. Added a note."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1458172196, "post_id": 36048464, "comment_id": 59746648, "body": "I would not bet a dime on OP really meaning C89. There are still many people who just use the term &quot;ANSI-C&quot; in contrast to (pre-standard) K&amp;R-C, but actually mean standard C (i.e. C11, C99 is not standard-C). Point is the behaviour has not changed with C99/C11, as you now have added. Which makes past tense obsolete. I just wanted to have this clarified, which you did somehow."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "is_accepted": true, "score": 4, "last_activity_date": 1458171561, "last_edit_date": 1458171561, "creation_date": 1458168648, "answer_id": 36048464, "question_id": 36048340, "link": "https://stackoverflow.com/questions/36048340/understanding-simple-ansi-c-math-expression-in-terms-of-c/36048464#36048464", "title": "Understanding simple ANSI C math expression in terms of C#", "body": "<p>Historically, C did not have a boolean type.<sup>*</sup> Comparison operators returned either <code>0</code> or <code>1</code>, type <code>int</code>. Any <code>int</code> value (as well as other types) could be interpreted in boolean context, where <code>0</code> means false and any other value means true.</p>\n\n<p>C# treats <code>int</code> and <code>bool</code> as completely separate types. The most direct C# equivalent is</p>\n\n<pre><code>x = (y == 4 ? 1 : 0) * 12 + (y == 5 ? 1 : 0) * 24;\n</code></pre>\n\n<p>Which can of course be improved greatly further.</p>\n\n<p><sub><sup>*</sup> Typically, \"ANSI C\" is intended to refer to the original version of C, even though later versions of C have been adopted by ANSI too. Those later versions do add a boolean type, but the comparison operators still return <code>int</code> values. Similarly, integers in boolean contexts are still allowed as well. They do not change anything relevant to your question.</sub></p>\n"}], "owner": {"reputation": 281, "user_id": 3208534, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/181ea812070fa6e0ab3c2a31f3f29c44?s=128&d=identicon&r=PG&f=1", "display_name": "Quantum_Kernel", "link": "https://stackoverflow.com/users/3208534/quantum-kernel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 1, "accepted_answer_id": 36048464, "answer_count": 2, "score": 0, "last_activity_date": 1458171561, "creation_date": 1458168039, "last_edit_date": 1458168059, "question_id": 36048340, "link": "https://stackoverflow.com/questions/36048340/understanding-simple-ansi-c-math-expression-in-terms-of-c", "title": "Understanding simple ANSI C math expression in terms of C#", "body": "<p>I've been presented what I think is an ANSI C statement but I don't understand what it is doing or if it is even valid.</p>\n\n<p>x = (y == 4) * 12 + (y == 5) * 24;</p>\n\n<p>Can anyone help me understand what this statement does in terms of C# (which I actually understand).</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", ".net", "multithreading"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1458207808, "post_id": 36048309, "comment_id": 59760468, "body": "<code>Func&lt;bool&gt; cancelCheck = delegate { return backgroundWorker1.CancellationPending; };</code>.  Pass cancelCheck to the deeper layers so it can periodically call it to check if the property has turned <i>true</i>.  Or use the Task class instead, it supports CancellationToken."}, {"owner": {"reputation": 4956, "user_id": 1508467, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/462d1a0d5f9b49042e775c46e7ca5344?s=128&d=identicon&r=PG", "display_name": "Rhys Jones", "link": "https://stackoverflow.com/users/1508467/rhys-jones"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1458208519, "post_id": 36048309, "comment_id": 59760963, "body": "@HansPassant The question does specifically state &quot;I don&#39;t want to refactor all the classes to pass a reference ...&quot;."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1458208603, "post_id": 36048309, "comment_id": 59761022, "body": "That comment wasn&#39;t meant for you, just to programmers that find this question and want to do it the right way."}], "answers": [{"comments": [{"owner": {"reputation": 4956, "user_id": 1508467, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/462d1a0d5f9b49042e775c46e7ca5344?s=128&d=identicon&r=PG", "display_name": "Rhys Jones", "link": "https://stackoverflow.com/users/1508467/rhys-jones"}, "edited": false, "score": 0, "creation_date": 1458288970, "post_id": 36048361, "comment_id": 59803289, "body": "Could you elaborate on why this is hacky - is it just exposing the full BackgroundWorker object this way? If the ThreadStatic static member was private and the value of CancellationPending was exposed through a simple static method that seems OK to me. Obviously not as good as doing things properly in the first place though :)"}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "reply_to_user": {"reputation": 4956, "user_id": 1508467, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/462d1a0d5f9b49042e775c46e7ca5344?s=128&d=identicon&r=PG", "display_name": "Rhys Jones", "link": "https://stackoverflow.com/users/1508467/rhys-jones"}, "edited": false, "score": 0, "creation_date": 1458331842, "post_id": 36048361, "comment_id": 59831015, "body": "By threading (mutable) state through the call chain like this you create non-local interactions and dependencies. None of them are visible in the source code or through tooling. This is a source of bugs and misunderstandings. TLS is really nasty from that standpoint. HttpContext.Current has the same problems. It constantly causes bugs in threaded code."}], "tags": [], "owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "is_accepted": true, "score": 2, "last_activity_date": 1458168164, "creation_date": 1458168164, "answer_id": 36048361, "question_id": 36048309, "link": "https://stackoverflow.com/questions/36048309/how-can-i-access-cancellationpending-for-this-thread-beyond-the-backgroundworker/36048361#36048361", "title": "How can I access CancellationPending for this thread beyond the BackgroundWorker class?", "body": "<p>There is a hack to do this. Only use this if there is no other choice. You can use a thread local variable to make the <code>BackgroundWorker</code> available anywhere on the current thread.</p>\n\n<pre><code>[ThreadStatic]\nstatic BackgroundWorker bw;\n</code></pre>\n\n<p>Then, you need to maintain this variable:</p>\n\n<pre><code>try {\n bw = ...;\n DoSomeWork();\n}\nfinally { bw = null; }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4956, "user_id": 1508467, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/462d1a0d5f9b49042e775c46e7ca5344?s=128&d=identicon&r=PG", "display_name": "Rhys Jones", "link": "https://stackoverflow.com/users/1508467/rhys-jones"}, "edited": false, "score": 0, "creation_date": 1458204445, "post_id": 36055164, "comment_id": 59758138, "body": "CancellationPending is a readonly property of the BackgroundWorker class. It gets set by calling the CancelAsync() method."}, {"owner": {"reputation": 448, "user_id": 3309311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c2a4f0f7c77445c10a2dc8fa0bc8d9?s=128&d=identicon&r=PG&f=1", "display_name": "Panda", "link": "https://stackoverflow.com/users/3309311/panda"}, "reply_to_user": {"reputation": 4956, "user_id": 1508467, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/462d1a0d5f9b49042e775c46e7ca5344?s=128&d=identicon&r=PG", "display_name": "Rhys Jones", "link": "https://stackoverflow.com/users/1508467/rhys-jones"}, "edited": false, "score": 0, "creation_date": 1458204716, "post_id": 36055164, "comment_id": 59758329, "body": "Sorry, didn&#39;t have a Visual Studio near me. I though of setting the PendingCancellationToken to true. Anyway, I think you got what I meant.  I edited my answer for a pseudo-code cancellation call."}, {"owner": {"reputation": 4956, "user_id": 1508467, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/462d1a0d5f9b49042e775c46e7ca5344?s=128&d=identicon&r=PG", "display_name": "Rhys Jones", "link": "https://stackoverflow.com/users/1508467/rhys-jones"}, "edited": false, "score": 0, "creation_date": 1458205161, "post_id": 36055164, "comment_id": 59758621, "body": "My problem is not calling Cancel, it is reading CancellationPending, and obviously it all needs to be thread safe."}], "tags": [], "owner": {"reputation": 448, "user_id": 3309311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c2a4f0f7c77445c10a2dc8fa0bc8d9?s=128&d=identicon&r=PG&f=1", "display_name": "Panda", "link": "https://stackoverflow.com/users/3309311/panda"}, "is_accepted": false, "score": 0, "last_activity_date": 1458204826, "last_edit_date": 1458204826, "creation_date": 1458203412, "answer_id": 36055164, "question_id": 36048309, "link": "https://stackoverflow.com/questions/36048309/how-can-i-access-cancellationpending-for-this-thread-beyond-the-backgroundworker/36055164#36055164", "title": "How can I access CancellationPending for this thread beyond the BackgroundWorker class?", "body": "<p>You could have a collection <code>Dictionary&lt;MyObject, BackgroundWorker&gt;</code> where you store your objects and background workers references and then an extension method :</p>\n\n<pre><code>public static void CancelWork(this MyObjectObject myObj)\n{\n  var kvp = dictionary.FirstOrDefault(o =&gt; o.Key.equals(myObj));\n\n  if(kvp.Key == null) return;\n\n  // TODO\n  // Call the background worker cancellation from the kvp.Value\n}\n</code></pre>\n\n<p>This extension method could be called from your object as :</p>\n\n<pre><code>this.CancelWork();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4956, "user_id": 1508467, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/462d1a0d5f9b49042e775c46e7ca5344?s=128&d=identicon&r=PG", "display_name": "Rhys Jones", "link": "https://stackoverflow.com/users/1508467/rhys-jones"}, "edited": false, "score": 0, "creation_date": 1458207405, "post_id": 36056104, "comment_id": 59760197, "body": "OK, I think I understand what you and @Panda are suggesting. However, it will require care to make sure the approach is thread safe (by definition my DoWork handler runs on multiple threads). I think @Usr has the right idea with <code>[ThreadStatic]</code>."}, {"owner": {"reputation": 1122, "user_id": 2007631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cfb97d041fd8f1d4c8a15b3f4d7b593?s=128&d=identicon&r=PG", "display_name": "tsul", "link": "https://stackoverflow.com/users/2007631/tsul"}, "reply_to_user": {"reputation": 4956, "user_id": 1508467, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/462d1a0d5f9b49042e775c46e7ca5344?s=128&d=identicon&r=PG", "display_name": "Rhys Jones", "link": "https://stackoverflow.com/users/1508467/rhys-jones"}, "edited": false, "score": 0, "creation_date": 1458210674, "post_id": 36056104, "comment_id": 59762615, "body": "@RhysJones, It seems that this approach and @usr approach are the same in that they work only if your <code>DoWork</code>, while started, does not jump over different threads. If not, you have to supply and propagate some id or just <code>BackgroundWorker</code> to all your <code>DoSomeWork</code>s or else how they would know what the thread that started <code>DoWork</code> was."}, {"owner": {"reputation": 4956, "user_id": 1508467, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/462d1a0d5f9b49042e775c46e7ca5344?s=128&d=identicon&r=PG", "display_name": "Rhys Jones", "link": "https://stackoverflow.com/users/1508467/rhys-jones"}, "edited": false, "score": 0, "creation_date": 1458211862, "post_id": 36056104, "comment_id": 59763492, "body": "ManagedThreadId might technically be OK to use but I don&#39;t like that approach - if I was to refactor heavily and replace BackgroundWorkers with something else then ManagedThreadId might no longer be safe. Usr&#39;s suggestion of using [ThreadStatic] means that my blocking code can just read a static member of my WorkerThread class to get the BackgroundWorker that was stored at the the start of DoWork."}, {"owner": {"reputation": 1122, "user_id": 2007631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cfb97d041fd8f1d4c8a15b3f4d7b593?s=128&d=identicon&r=PG", "display_name": "tsul", "link": "https://stackoverflow.com/users/2007631/tsul"}, "reply_to_user": {"reputation": 4956, "user_id": 1508467, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/462d1a0d5f9b49042e775c46e7ca5344?s=128&d=identicon&r=PG", "display_name": "Rhys Jones", "link": "https://stackoverflow.com/users/1508467/rhys-jones"}, "edited": false, "score": 0, "creation_date": 1458213451, "post_id": 36056104, "comment_id": 59764584, "body": "OK, and that really looks better)"}], "tags": [], "owner": {"reputation": 1122, "user_id": 2007631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cfb97d041fd8f1d4c8a15b3f4d7b593?s=128&d=identicon&r=PG", "display_name": "tsul", "link": "https://stackoverflow.com/users/2007631/tsul"}, "is_accepted": false, "score": 0, "last_activity_date": 1458206131, "creation_date": 1458206131, "answer_id": 36056104, "question_id": 36048309, "link": "https://stackoverflow.com/questions/36048309/how-can-i-access-cancellationpending-for-this-thread-beyond-the-backgroundworker/36056104#36056104", "title": "How can I access CancellationPending for this thread beyond the BackgroundWorker class?", "body": "<p>Similarly as in the @Panda's answer, you could have a static <code>Dictionary&lt;int, BackgroundWorker&gt; workers;</code> collection and fill it in the start of your <code>DoWork</code> handler:</p>\n\n<pre><code>workers[Thread.CurrentThread.ManagedThreadId] = sender as BackgroundWorker;\n</code></pre>\n\n<p>and then use it in your <code>DoSomeWork</code> like this:</p>\n\n<pre><code>bw = workers[Thread.CurrentThread.ManagedThreadId];\n// use bw.CancellationPending\n</code></pre>\n\n<p>but be aware of synchronizing this collection, it might be better to use <code>ConcurrentDictionary</code>. And one more thing, you should be sure that your <code>DoWork</code> handler runs only in one thread for this to work.</p>\n"}], "owner": {"reputation": 4956, "user_id": 1508467, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/462d1a0d5f9b49042e775c46e7ca5344?s=128&d=identicon&r=PG", "display_name": "Rhys Jones", "link": "https://stackoverflow.com/users/1508467/rhys-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 1, "accepted_answer_id": 36048361, "answer_count": 3, "score": 1, "last_activity_date": 1458206131, "creation_date": 1458167881, "question_id": 36048309, "link": "https://stackoverflow.com/questions/36048309/how-can-i-access-cancellationpending-for-this-thread-beyond-the-backgroundworker", "title": "How can I access CancellationPending for this thread beyond the BackgroundWorker class?", "body": "<p>I have a Windows service that creates a number of BackgroundWorkers. The DoWork handler of these BackgroundWorkers just contains SomeObject.DoSomeWork() and the method (i.e. DoSomeWork) does not take any reference to the BackgroundWorker. The blocking work happens many layers deeper. In the method with the blocking work I want to add logic to test CancellationPending of the owning BackgroundWorker. How???</p>\n\n<p>I don't want to refactor all the classes to pass a reference to the BackgroundWorker, I want to be able to write something like this;</p>\n\n<pre><code>(BackgroundWorker(Thread.CurrentThread)).CancellationPending\n</code></pre>\n\n<p>But this obviously doesn't work because BackgroundWorker is not a thread itself.</p>\n\n<p>I haven't tried anything because I haven't thought of anything to try. I've Googled a lot and read a lot but not found anything to point me in the right direction. It might be the case that it's not possible (at least not possible without getting too hacky) in which case I'll have to think of a different approach to the problem, but I need someone cleverer than me to tell me it's not possible :)</p>\n"}, {"tags": ["c#", "visual-studio-2013"], "comments": [{"owner": {"reputation": 47259, "user_id": 109702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1206798ebe0afcb9cb722ef597573853?s=128&d=identicon&r=PG&f=1", "display_name": "slugster", "link": "https://stackoverflow.com/users/109702/slugster"}, "edited": false, "score": 0, "creation_date": 1458175634, "post_id": 36048298, "comment_id": 59747665, "body": "<i>Debug -&gt; Windows -&gt; Locals</i> while your app is running to get the Locals window. And VS2013 does have the <i>View Details</i> option in the unhandled exceptions dialog."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5684647"}, "is_accepted": false, "score": 0, "last_activity_date": 1458168412, "creation_date": 1458168412, "answer_id": 36048408, "question_id": 36048298, "link": "https://stackoverflow.com/questions/36048298/how-do-i-get-to-innerexception-visual-studio-2013/36048408#36048408", "title": "How do I get to innerexception visual studio 2013", "body": "<p>When you capture the exception in the catch block, you can view the exception.InnerException value if it is not null.  This can also be done in the Watcch window.</p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 5205310, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6379646fa503a2ece76d10e174556c66?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5205310/mihai"}, "edited": false, "score": 0, "creation_date": 1458190594, "post_id": 36048665, "comment_id": 59751857, "body": "I can&#39;t do this, because I create the file in app.xaml.cs. I added try catch blocks, but I get System.Reflection.TargetInvocationException, not the InnerException"}, {"owner": {"reputation": 136, "user_id": 6074111, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fh-OyaOLO9U/AAAAAAAAAAI/AAAAAAAAAFI/_2WRtdR7T0o/photo.jpg?sz=128", "display_name": "hYg-Cain", "link": "https://stackoverflow.com/users/6074111/hyg-cain"}, "reply_to_user": {"reputation": 39, "user_id": 5205310, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6379646fa503a2ece76d10e174556c66?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5205310/mihai"}, "edited": false, "score": 0, "creation_date": 1458196480, "post_id": 36048665, "comment_id": 59754010, "body": "Maybe <a href=\"http://social.technet.microsoft.com/wiki/contents/articles/13638.troubleshooting-wpf-debugging-wpf.aspx\" rel=\"nofollow noreferrer\">this</a> helps you. <b>Topic:</b> Application.DispatcherUnhandledException"}], "tags": [], "owner": {"reputation": 136, "user_id": 6074111, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fh-OyaOLO9U/AAAAAAAAAAI/AAAAAAAAAFI/_2WRtdR7T0o/photo.jpg?sz=128", "display_name": "hYg-Cain", "link": "https://stackoverflow.com/users/6074111/hyg-cain"}, "is_accepted": true, "score": 0, "last_activity_date": 1458169597, "creation_date": 1458169597, "answer_id": 36048665, "question_id": 36048298, "link": "https://stackoverflow.com/questions/36048298/how-do-i-get-to-innerexception-visual-studio-2013/36048665#36048665", "title": "How do I get to innerexception visual studio 2013", "body": "<pre><code>try\n{\n//Your code\n}\ncatch(Exception ex){ MessageBox.Show(ex.InnerException.ToString()); }\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5205310, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6379646fa503a2ece76d10e174556c66?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5205310/mihai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3318, "favorite_count": 0, "accepted_answer_id": 36048665, "answer_count": 2, "score": 0, "last_activity_date": 1458174403, "creation_date": 1458167837, "last_edit_date": 1458174403, "question_id": 36048298, "link": "https://stackoverflow.com/questions/36048298/how-do-i-get-to-innerexception-visual-studio-2013", "title": "How do I get to innerexception visual studio 2013", "body": "<p>I have some exceptions in my code that I want to view details about them. I want to get to <code>InnerException</code>. I read about View Details in Unhandled Exception dialog box, but it doesn't exist in vs 2013 and about Local Window that I don't know how to open it. How can I do one of them in visual studio 2013?</p>\n"}, {"tags": ["c#", "nhibernate", "fluent-nhibernate"], "comments": [{"owner": {"reputation": 60637, "user_id": 2658202, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/AigLC.jpg?s=128&g=1", "display_name": "Stefan Steinegger", "link": "https://stackoverflow.com/users/2658202/stefan-steinegger"}, "edited": false, "score": 0, "creation_date": 1458555939, "post_id": 36048280, "comment_id": 59895792, "body": "You want to create the database with tables in the DBMS?"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 5973210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd3c93c9d3350b2b278d9b0f494f5f99?s=128&d=identicon&r=PG", "display_name": "ILYES", "link": "https://stackoverflow.com/users/5973210/ilyes"}, "edited": false, "score": 0, "creation_date": 1458215641, "post_id": 36059065, "comment_id": 59766200, "body": "Hi this is my last answer sorry for the editing many times , you can try it"}], "tags": [], "owner": {"reputation": 39, "user_id": 5973210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd3c93c9d3350b2b278d9b0f494f5f99?s=128&d=identicon&r=PG", "display_name": "ILYES", "link": "https://stackoverflow.com/users/5973210/ilyes"}, "is_accepted": false, "score": 3, "last_activity_date": 1574352707, "last_edit_date": 1574352707, "creation_date": 1458213727, "answer_id": 36059065, "question_id": 36048280, "link": "https://stackoverflow.com/questions/36048280/create-database-and-tables-with-nhibernate-and-fluentnhibernate/36059065#36059065", "title": "Create Database and Tables with NHibernate and FluentNHibernate?", "body": "<p>One full implementation could be:</p>\n\n<p>For one entity class like <em>Genre</em> there will be a mapping class like <em>GenreMap</em>. And a general nhibernate helper class to get a session to db(SessionFactory) class for mapping all entities to database:</p>\n\n<pre><code>public class Genre\n{\n    public virtual int GenreId { get; set; }\n    public virtual string Name { get; set; }\n    public virtual string Description { get; set; }\n}\n\npublic class GenreMap : ClassMap&lt;Genre&gt;\n{\n    public GenreMap()\n    {\n        Id(x =&gt; x.GenreId).Column(\"Id\");\n        Map(x =&gt; x.Name);\n        Map(x =&gt; x.Description);\n        Table(\"Genres\");\n    }\n}\n</code></pre>\n\n<p>and finally in SessionFactory class:</p>\n\n<pre><code>public static class SessionFactory\n{\n    private static ISessionFactory _factory;\n\n    public static ISession OpenSession()\n    {\n        return _factory.OpenSession();\n    }\n\n    public static void Init(string connectionString)\n    {\n        _factory = BuildSessionFactory(connectionString);\n    }\n\n    private static ISessionFactory BuildSessionFactory(string connectionString)\n    {\n        ISessionFactory sessionFactory = Fluently\n            .Configure()\n            .Database(PostgreSQLConfiguration.PostgreSQL81\n                .ConnectionString(c =&gt; c.Is(connectionString))\n                .ShowSql())\n\n            .Mappings(m =&gt; m.FluentMappings.AddFromAssemblyOf&lt;GenreMap&gt;())\n            .ExposeConfiguration(cfg =&gt; new SchemaExport(cfg).Create(true, true))\n            .BuildSessionFactory();\n\n        return sessionFactory.OpenSession();\n    }\n}\n</code></pre>\n\n<p>And the usage will be like:   </p>\n\n<pre><code>public ActionResult Index()\n{\n    using (ISession session = SessionFactory.OpenSession())\n    {\n        var persons = session.Query&lt;Genre&gt;().ToList();\n\n        return View(persons);\n    }\n}\n</code></pre>\n\n<p>And in Startup class:</p>\n\n<pre><code>SessionFactory.Init(connectionString);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4210, "user_id": 1483084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/qfNUi.jpg?s=128&g=1", "display_name": "FernandoPaiva", "link": "https://stackoverflow.com/users/1483084/fernandopaiva"}, "edited": false, "score": 0, "creation_date": 1458620702, "post_id": 36128535, "comment_id": 59929854, "body": "I created a project in Java with Hibernate to create the database first, and after it I used NHibernate to create tables, it work for me. I would use only Nhibernate but I can&#39;t find any solution to it. Thanks a lot."}], "tags": [], "owner": {"reputation": 60637, "user_id": 2658202, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/AigLC.jpg?s=128&g=1", "display_name": "Stefan Steinegger", "link": "https://stackoverflow.com/users/2658202/stefan-steinegger"}, "is_accepted": true, "score": 5, "last_activity_date": 1458556127, "last_edit_date": 1495542227, "creation_date": 1458556127, "answer_id": 36128535, "question_id": 36048280, "link": "https://stackoverflow.com/questions/36048280/create-database-and-tables-with-nhibernate-and-fluentnhibernate/36128535#36128535", "title": "Create Database and Tables with NHibernate and FluentNHibernate?", "body": "<p>Neither NHibernate nor FNH create the database itself. You have to provide either code or a precreated database yourself. But it can create the tables for you. The class doing this is call <code>SchemaExport</code>. In Fluent, it looks like this:</p>\n\n<pre><code>var sessionFactory = Fluently.Configure()\n   .Database(/* ... */)\n   .Mappings(/* ... */)\n   .ExposeConfiguration(cfg =&gt; new SchemaExport(cfg).Execute(true, true, false))\n   .BuildSessionFactory();\n</code></pre>\n\n<p>Shamelessly copied from <a href=\"https://stackoverflow.com/questions/3451761/getting-fluent-nhibernate-to-build-database-tables\">this SO question</a>.</p>\n"}], "owner": {"reputation": 4210, "user_id": 1483084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/qfNUi.jpg?s=128&g=1", "display_name": "FernandoPaiva", "link": "https://stackoverflow.com/users/1483084/fernandopaiva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3868, "favorite_count": 1, "accepted_answer_id": 36128535, "answer_count": 2, "score": 1, "last_activity_date": 1574352707, "creation_date": 1458167729, "last_edit_date": 1513445760, "question_id": 36048280, "link": "https://stackoverflow.com/questions/36048280/create-database-and-tables-with-nhibernate-and-fluentnhibernate", "title": "Create Database and Tables with NHibernate and FluentNHibernate?", "body": "<p>I'm looking for any way to create <code>database</code> and <code>tables</code> with NHibernate and FluentNHibernate.  </p>\n\n<p>How could I do this ?</p>\n\n<p>trying.</p>\n\n<pre><code>private static ISessionFactory createConnection()\n{\n    if (session != null)\n        return session;\n\n    //database configs\n    FluentConfiguration _config = Fluently.Configure().Database(\n        MySQLConfiguration.Standard.ConnectionString(\n            x =&gt; x.Server(HOST).\n            Username(USER).\n            Password(PASSWORD).\n            Database(DB)\n        ))\n        .Mappings(m =&gt; m.FluentMappings.AddFromAssemblyOf&lt;PerfilMap&gt;())\n        .Mappings(m =&gt; m.FluentMappings.AddFromAssemblyOf&lt;ModuloMap&gt;())\n        .Mappings(m =&gt; m.FluentMappings.AddFromAssemblyOf&lt;PermissaoMap&gt;())\n        .Mappings(m =&gt; m.FluentMappings.AddFromAssemblyOf&lt;UsuarioMap&gt;())\n        .Mappings(m =&gt; m.FluentMappings.AddFromAssemblyOf&lt;CategoriaMap&gt;())\n        .Mappings(m =&gt; m.FluentMappings.AddFromAssemblyOf&lt;SubcategoriaMap&gt;    ())\n        .ExposeConfiguration(cfg =&gt; new SchemaUpdate(cfg).Execute(false, true));\n\n    session = _config.BuildSessionFactory();\n    return session;\n}\n</code></pre>\n"}, {"tags": ["c#", "generics", "extension-methods", "implicit-conversion", "template-specialization"], "comments": [{"owner": {"reputation": 2259, "user_id": 374845, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68e90bb3a4cb97dab8e40b37aaf1b371?s=128&d=identicon&r=PG", "display_name": "Sergey Shandar", "link": "https://stackoverflow.com/users/374845/sergey-shandar"}, "edited": false, "score": 0, "creation_date": 1458252043, "post_id": 36048248, "comment_id": 59791033, "body": "Why do you need T parameter at all?"}, {"owner": {"reputation": 4011, "user_id": 1477064, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cd12123a743db34ac0b055a6fa736788?s=128&d=identicon&r=PG", "display_name": "xvan", "link": "https://stackoverflow.com/users/1477064/xvan"}, "reply_to_user": {"reputation": 2259, "user_id": 374845, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68e90bb3a4cb97dab8e40b37aaf1b371?s=128&d=identicon&r=PG", "display_name": "Sergey Shandar", "link": "https://stackoverflow.com/users/374845/sergey-shandar"}, "edited": false, "score": 0, "creation_date": 1458252331, "post_id": 36048248, "comment_id": 59791156, "body": "To check at compile time that <code>ISomePolicy&lt;T, U&gt;</code> is implemented by on <code>MyClass</code> (see <code>MyClassExtension</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 4011, "user_id": 1477064, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cd12123a743db34ac0b055a6fa736788?s=128&d=identicon&r=PG", "display_name": "xvan", "link": "https://stackoverflow.com/users/1477064/xvan"}, "edited": false, "score": 0, "creation_date": 1459190751, "post_id": 36139013, "comment_id": 60164951, "body": "Thanks, I had some issues with this. what&#39;s the meaning of operator <code>=&gt;</code>  in this context. It didn&#39;t compile on 4.5 framework. I replaced it by wrapping <code>{ }</code> but  the policies don&#39;t work as expected.  The first one is not an option, the second one doesn&#39;t block <code>var my = new MyClass&lt;double&gt;(0.5); my.doSomething(1)</code>, The third doesn&#39;t let me construct <code>var x = new MySuperClass&lt;SomePolicyImplementation, double&gt;(0.5);</code> unless all possible policies are implemented."}, {"owner": {"reputation": 5698, "user_id": 303290, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e752f0db2ef1d76fe72546f827117631?s=128&d=identicon&r=PG", "display_name": "mbx", "link": "https://stackoverflow.com/users/303290/mbx"}, "reply_to_user": {"reputation": 4011, "user_id": 1477064, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cd12123a743db34ac0b055a6fa736788?s=128&d=identicon&r=PG", "display_name": "xvan", "link": "https://stackoverflow.com/users/1477064/xvan"}, "edited": false, "score": 1, "creation_date": 1459954739, "post_id": 36139013, "comment_id": 60522325, "body": "@xvan <code>=&gt;</code> is used here for expression-bodied function members and just as you expected only a handy version for writing single expression methods: <a href=\"https://github.com/dotnet/roslyn/wiki/New-Language-Features-in-C%23-6#expression-bodied-function-members\" rel=\"nofollow noreferrer\">github.com/dotnet/roslyn/wiki/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2259, "user_id": 374845, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68e90bb3a4cb97dab8e40b37aaf1b371?s=128&d=identicon&r=PG", "display_name": "Sergey Shandar", "link": "https://stackoverflow.com/users/374845/sergey-shandar"}, "is_accepted": false, "score": 3, "last_activity_date": 1458585333, "creation_date": 1458585333, "answer_id": 36139013, "question_id": 36048248, "link": "https://stackoverflow.com/questions/36048248/implementing-multiparameter-c-template-like-behaviour-on-c-using-policy-patte/36139013#36139013", "title": "Implementing multiparameter C++ template like behaviour on C# using Policy Pattern", "body": "<p>Usually, policies should not contain data. For example,</p>\n\n<pre><code>interface ISomePolicy&lt;T, U&gt;\n{\n    void _doSomething(T t, U u);\n}\n\nstruct SomePolicyImplementation :\n    ISomePolicy&lt;int, double&gt;,\n    ISomePolicy&lt;int, int&gt;,\n    ISomePolicy&lt;double, double&gt;\n{\n    void ISomePolicy&lt;int, int&gt;._doSomething(int t, int u)\n        =&gt; Console.WriteLine(\"this is int, int\");\n\n    void ISomePolicy&lt;int, double&gt;._doSomething(int t, double u)\n        =&gt; Console.WriteLine(\"this is int, double\");\n\n    void ISomePolicy&lt;double, double&gt;._doSomething(double t, double u)\n        =&gt; Console.WriteLine(\"this is double, double\");\n}\n\nstatic class SomePolicyExtension\n{\n    public static void doSomething&lt;P, T, U&gt;(this P policy, T t, U u)\n        where P : struct, ISomePolicy&lt;T, U&gt;\n        =&gt; policy._doSomething(t, u);\n}\n</code></pre>\n\n<p>If you would like to combine policies and data then you may consider different interface</p>\n\n<pre><code>interface IEmbeddedPolicy&lt;U&gt;\n{\n    void _doSomething(U u);\n}\n\nclass MyClass&lt;T&gt; :\n    IEmbeddedPolicy&lt;double&gt;,\n    IEmbeddedPolicy&lt;int&gt;\n{\n    public T Value { get; }\n\n    public MyClass(T value) { this.Value = value; }\n\n    void IEmbeddedPolicy&lt;int&gt;._doSomething(int u)\n        =&gt; Console.WriteLine(\"this is T, int\");\n\n    void IEmbeddedPolicy&lt;double&gt;._doSomething(double u)\n        =&gt; Console.WriteLine(\"this is T, double\");\n}\n\nstatic class EmbeddedPolicyExtension\n{\n    public static void doSomething&lt;E, U&gt;(this E embedded, U u)\n        where E : IEmbeddedPolicy&lt;U&gt;\n        =&gt; embedded._doSomething(u);\n}\n</code></pre>\n\n<p>Or combination of these two concepts</p>\n\n<pre><code>class MySuperClass&lt;P, T&gt;:\n    IEmbeddedPolicy&lt;double&gt;,\n    IEmbeddedPolicy&lt;int&gt;\n    where P: struct, ISomePolicy&lt;T, double&gt;, ISomePolicy&lt;T, int&gt;\n{\n    public T Value { get; }\n\n    public MySuperClass(T value) { this.Value = value; }\n\n    void IEmbeddedPolicy&lt;int&gt;._doSomething(int u)\n        =&gt; new P()._doSomething(this.Value, u);\n\n    void IEmbeddedPolicy&lt;double&gt;._doSomething(double u)\n        =&gt; new P()._doSomething(this.Value, u);\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>// independent policy\nvar policy = new SomePolicyImplementation();\n\npolicy.doSomething(5, 6);\npolicy.doSomething(5, 6.7);\npolicy.doSomething(5.3, 6.7);\n\n// embedded policy\nvar my = new MyClass&lt;int&gt;(54);\nmy.doSomething(5);\nmy.doSomething(89.7);\n\n// combination\nvar x = new MySuperClass&lt;SomePolicyImplementation, int&gt;(53);\nx.doSomething(9);\nx.doSomething(18.3);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4011, "user_id": 1477064, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cd12123a743db34ac0b055a6fa736788?s=128&d=identicon&r=PG", "display_name": "xvan", "link": "https://stackoverflow.com/users/1477064/xvan"}, "edited": false, "score": 0, "creation_date": 1460032507, "post_id": 36455580, "comment_id": 60562737, "body": "Thanks, but <code>doSomething()</code> implementation depends on <code>myElement</code> type. The idea of this pattern is to catch at compile time when  a non implemented call to <code>doSomething()</code> is attempted. If going the reflection way, there is a cleaner implementation using a reflection table. BTW, good catch on the typo."}, {"owner": {"reputation": 3488, "user_id": 2338477, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6ac00e047724e6fbed304a083bc8234f?s=128&d=identicon&r=PG", "display_name": "TarmoPikaro", "link": "https://stackoverflow.com/users/2338477/tarmopikaro"}, "reply_to_user": {"reputation": 4011, "user_id": 1477064, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cd12123a743db34ac0b055a6fa736788?s=128&d=identicon&r=PG", "display_name": "xvan", "link": "https://stackoverflow.com/users/1477064/xvan"}, "edited": false, "score": 0, "creation_date": 1460041331, "post_id": 36455580, "comment_id": 60570109, "body": "My solution does catches improper type usage - just try it out. But if you want to have strongly typed data type - it van be achieved only at run-time. You could create ISomePolicy like class (convert interface to class, and move T myElement into that class) which has strong data type, but then you make implementation more complex. It typical problem of any language - making one thing simple creates more complexity on another end."}, {"owner": {"reputation": 4011, "user_id": 1477064, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cd12123a743db34ac0b055a6fa736788?s=128&d=identicon&r=PG", "display_name": "xvan", "link": "https://stackoverflow.com/users/1477064/xvan"}, "edited": false, "score": 0, "creation_date": 1460041611, "post_id": 36455580, "comment_id": 60570310, "body": "If I accept loosing compile time warnings, I could just overload <code>doSomething(typea a, typeb b)</code>, and throw and exception on <code>doSomething(object a, object b)</code>; Anyway I&#39;ll try your solution."}, {"owner": {"reputation": 3488, "user_id": 2338477, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6ac00e047724e6fbed304a083bc8234f?s=128&d=identicon&r=PG", "display_name": "TarmoPikaro", "link": "https://stackoverflow.com/users/2338477/tarmopikaro"}, "reply_to_user": {"reputation": 4011, "user_id": 1477064, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cd12123a743db34ac0b055a6fa736788?s=128&d=identicon&r=PG", "display_name": "xvan", "link": "https://stackoverflow.com/users/1477064/xvan"}, "edited": false, "score": 0, "creation_date": 1460041860, "post_id": 36455580, "comment_id": 60570495, "body": "If you don&#39;t care about performance of your code, I can recommend something like this: <a href=\"http://stackoverflow.com/a/36119881/2338477\">stackoverflow.com/a/36119881/2338477</a> - this class can call with any amount of arguments but use only ref parameter, not out. This comes because of c# programming language limitations."}], "tags": [], "owner": {"reputation": 3488, "user_id": 2338477, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6ac00e047724e6fbed304a083bc8234f?s=128&d=identicon&r=PG", "display_name": "TarmoPikaro", "link": "https://stackoverflow.com/users/2338477/tarmopikaro"}, "is_accepted": false, "score": 3, "last_activity_date": 1459956365, "creation_date": 1459956365, "answer_id": 36455580, "question_id": 36048248, "link": "https://stackoverflow.com/questions/36048248/implementing-multiparameter-c-template-like-behaviour-on-c-using-policy-patte/36455580#36455580", "title": "Implementing multiparameter C++ template like behaviour on C# using Policy Pattern", "body": "<p>Tried your code, but even simple calls did not work out of box. Main problem is that MyClass contains unknown element type 'myEement' - that type cannot be deduced from function call parameters. However - if you make a generalization and omit object type - your sample will work in out of box manner:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\n\ninterface ISomePolicy&lt;U&gt; \n{\n    void _doSomething(U u);\n}\n\npublic class MyClass&lt;U&gt; :\n     ISomePolicy&lt;double&gt;,\n     ISomePolicy&lt;int&gt;\n{\n    internal object myEement { get; set; }\n\n    public MyClass(object Element)\n    {\n        myEement = Element;\n    }\n\n    void ISomePolicy&lt;double&gt;._doSomething(double u)\n    {\n        Console.WriteLine(\"this is double\");\n    }\n\n    void ISomePolicy&lt;int&gt;._doSomething(int u)\n    {\n        Console.WriteLine(\"this is int\");\n    }\n}\n\nstatic class MyClassExtension\n{\n    public static void doSomething&lt;P, U&gt;(this P oTh, U u) where P : ISomePolicy&lt;U&gt;\n    {\n        oTh._doSomething(u);\n    }\n}\n\nclass Program\n{\n    static void Main()\n    {\n        MyClass&lt;double&gt; oClass = new MyClass&lt;double&gt;(3);\n        oClass.doSomething(0.5); //This works\n        oClass.doSomething(1);   //This works            \n        //oClass.doSomething(\"Will not work\");\n    }\n}\n</code></pre>\n\n<p>What is up to myEement (or you probably meant myElement) - you can get's it's type at run-time if necessary.</p>\n\n<pre><code>myElement.GetType(), or cast to it - e.g.\nif( myElement is int ) DoSomethingWithInt( (int) myElement );\n</code></pre>\n\n<p>However - reflection always might slow down your execution. If you don't intend to create super heavy class hierarchy with huge amount of instances - then this should be sufficient for your needs.</p>\n"}], "owner": {"reputation": 4011, "user_id": 1477064, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cd12123a743db34ac0b055a6fa736788?s=128&d=identicon&r=PG", "display_name": "xvan", "link": "https://stackoverflow.com/users/1477064/xvan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 457, "favorite_count": 0, "answer_count": 2, "score": 8, "last_activity_date": 1460032698, "creation_date": 1458167608, "last_edit_date": 1495535310, "question_id": 36048248, "link": "https://stackoverflow.com/questions/36048248/implementing-multiparameter-c-template-like-behaviour-on-c-using-policy-patte", "title": "Implementing multiparameter C++ template like behaviour on C# using Policy Pattern", "body": "<p>I'm trying to implement a c++ like template with C# generics and policy pattern based on <a href=\"https://stackoverflow.com/a/4834066/1477064\">this answer</a></p>\n\n<p>This is a sample of the pattern:</p>\n\n<pre><code>interface ISomePolicy&lt;T,U&gt;\n{\n    void _doSomething(U u);\n}\n\n\nclass MyClass&lt;T,U&gt;:\n     ISomePolicy&lt;int, double&gt;,\n     ISomePolicy&lt;int, int&gt;\n    {\n\n    internal T myElement {get;set;}\n\n    public MyClass(T Element) {\n        myElement = Element;\n    }\n\n    void ISomePolicy&lt;int, double&gt;._doSomething(double u)\n    {\n        Console.WriteLine(\"this is int, double\");\n    }\n\n    void ISomePolicy&lt;int, int&gt;._doSomething(int u)\n    {\n        Console.WriteLine(\"this is int, int\");\n    }\n\n    }\n\nstatic class MyClassExtension\n{\n\n    //What I want to do\n    public static void doSomething&lt;P, T, U&gt;(this P oTh, U u) where P : MyClass&lt;T, U&gt;, ISomePolicy&lt;T, U&gt;\n    {\n        oTh._doSomething(u);\n    }\n\n}\n</code></pre>\n\n<p>My intended behaviour is like this:</p>\n\n<pre><code>  MyClass&lt;int, double&gt; oClass = new MyClass&lt;int, double&gt;(3);\n\n  oClass.doSomething(0.5); //This works\n  oClass.doSomething(1);   //This works\n\n  oClass.doSomething(\"This should fail\"); //Breaks at compile time           \n\n  MyClass&lt;string, double&gt; oClass1 = new MyClass&lt;string, double&gt;(\"sadfsd\"); //Not implemented, wasn't able to prevent the construction.\n\n  oClass1.doSomething(0.4); //Breaks at compile time\n</code></pre>\n\n<p>But so far I wasn't able to make .net accept <a href=\"https://stackoverflow.com/q/36022971/1477064\">Generic Extension with less arguments than parameters</a></p>\n\n<p>I can call the interface explicitly, which is horrible verbose defeating the purpose of all this.</p>\n\n<pre><code>oClass.doSomething &lt; MyClass&lt;int, double&gt;,int,double&gt;(0.5);\n</code></pre>\n\n<p>I thought of working that around with a wrapper:</p>\n\n<pre><code>static class MyClassExtension{\n    private static void wrappedDoSomething&lt;P, T, U&gt;(this P oTh, U u) \n    where P : MyClass&lt;T, U&gt;, ISomePolicy&lt;T, U&gt;\n    {\n        oTh._doSomething(u);\n    }\n\n    public static void doSomething&lt;T, U&gt;(this MyClass&lt;T, U&gt; oTh, U u)\n\n    {\n        oTh.wrappedDoSomething&lt;MyClass&lt;T, U&gt;, T, U&gt;(u);\n    }\n}\n</code></pre>\n\n<p>But the wrapper can't resolve both types for the wrapped function, failing with:</p>\n\n<blockquote>\n  <p>Error 1   The type 'MyClass' cannot be used as type parameter 'P'\n  in the generic type or method\n  'MyClassExtension.wrappedDoSomething(P, U)'. There is no\n  implicit reference conversion from 'MyClass' to\n  'ISomePolicy'</p>\n</blockquote>\n\n<p>Any insights to fix the parameters issue or redesign all this are appreciated.</p>\n\n<hr>\n\n<p>For context this would be used to wrap I/O translators. <code>T</code> in my case would be the target I/O format, and <code>U</code> the object representation of that data used by my framework.</p>\n\n<p>I'm aware that this can be easily achieved with delegates or interfaces, but the objective is that the framework user easily instantiates the desired translation, and if an implementation doesn't exists, it can be trivially added to a common interface.</p>\n\n<hr>\n\n<p>EDIT: Resolving a generic method from inside another generic method/class neither seems to work on mono.</p>\n"}, {"tags": ["c#", "sql", "listview", "printing"], "comments": [{"owner": {"reputation": 1960, "user_id": 78972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e161d5a9d364d7920d31c08bdbeed003?s=128&d=identicon&r=PG", "display_name": "dovetalk", "link": "https://stackoverflow.com/users/78972/dovetalk"}, "edited": false, "score": 0, "creation_date": 1458167755, "post_id": 36048239, "comment_id": 59744988, "body": "Please include a complete, but minimal snippet of code. We have no idea how to help you with the two large, but still incomplete code blocks in your question. See this for more: <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1458172041, "post_id": 36048239, "comment_id": 59746596, "body": "Does all the text appear? You ought to include a check for null! And, probably your current issue: after each \\n you print you need to advance the y-offset or else each new line is printed on top of the last one.. Also: Try to improve your formatting and remove the sql Tag!"}], "owner": {"reputation": 67, "user_id": 5829467, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-Hqdr4YOnNrE/AAAAAAAAAAI/AAAAAAAAA7k/DL0mXF6354Y/photo.jpg?sz=128", "display_name": "Charindu Edirisuriya", "link": "https://stackoverflow.com/users/5829467/charindu-edirisuriya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1458172245, "creation_date": 1458167577, "last_edit_date": 1458172245, "question_id": 36048239, "link": "https://stackoverflow.com/questions/36048239/printing-a-listview-loop-next-line", "title": "Printing a listview, loop next line", "body": "<p>I want to print a list view.\nI want it to go to the next line when i print. (It Stays on the same line and writes over the (===)\nPlease submit a code if u can\nPlease!\n  [ But This is what the output is when I print it to a XPS Document<a href=\"http://i.stack.imgur.com/zWcbJ.png\" rel=\"nofollow\">1</a></p>\n\n<pre><code>       {\n\n         this.Hide();\n         try\n         {\n             PrintDialog printDialog = new PrintDialog();\n\n             PrintDocument printDocument = new PrintDocument();\n\n             printDialog.Document = printDocument;        \n\n             printDocument.PrintPage += new System.Drawing.Printing.PrintPageEventHandler(CreateReceipt); \n\n\n             DialogResult result = printDialog.ShowDialog();\n\n             if (result == DialogResult.OK)\n             {\n                 printDocument.Print();\n\n             }\n             if (result == DialogResult.Cancel)\n             {\n                 Form2 fr2 = new Form2();\n                 fr2.Show();\n             }\n         }\n         catch\n         {\n             MessageBox.Show(\"Error, Occured While Printing\");\n             Form2 fr2 = new Form2();\n             fr2.Show();\n         }\n         this.Show();\n     }\n\n\n     public void CreateReceipt(object sender, System.Drawing.Printing.PrintPageEventArgs e)\n     {\n         Graphics graphic = e.Graphics;\n\n         Font font = new Font(\"Courier New\", 12); \n\n         float fontHeight = font.GetHeight();\n\n         int startX = 10;\n         int startY = 10;\n         int offset = 40;\n\n         offset = offset + (int)fontHeight;\n\n         {\n\n             graphic.DrawString(\"Bill Flow\", new Font(\"Courier New\", 18), new SolidBrush(Color.Black), startX, startY);\n             string top = \"Item Name\".PadRight(15) + \"Price\".PadRight(12) + \"Quantity\";\n             graphic.DrawString(top, font, new SolidBrush(Color.Black), startX, startY + offset);\n             offset = offset + (int)fontHeight;\n             graphic.DrawString(\"-----------------------------------------------\", font, new SolidBrush(Color.Black), startX, startY + offset);\n\n\n         }\n\n\n         {\n\n             StringBuilder listViewContent = new StringBuilder();\n\n             listViewContent.ToString();\n\n//THIS IS THE PART WHERE ITS WRONG I GUESS\n\n             {\n                 for (int item = 0; item &lt; this.listView1.Items.Count; item++)\n                 {\n                     for (int subitem = 0;\n                        subitem &lt; this.listView1.Columns.Count;\n                        subitem++)\n                     {\n                         listViewContent.Append\n                         (this.listView1.Items[item].SubItems[subitem].Text);\n                         if (subitem &lt; this.listView1.Columns.Count - 1)\n                             listViewContent.Append(\"   \");\n                     }\n                     string ln;\n\n                     ln = listViewContent.ToString();\n\n                     graphic.DrawString(ln+\"\\n\", new Font(\"Courier New\", 12, FontStyle.Italic), new SolidBrush(Color.Red), startX, startY + offset);\n                     this.Show();\n\n                 }\n             }\n         }\n     }\n</code></pre>\n"}, {"tags": ["c#", "export-to-excel", "epplus"], "comments": [{"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1458167891, "post_id": 36048172, "comment_id": 59745033, "body": "Unlikely, but check this just in case <a href=\"http://ad-thomas.blogspot.com/2013/09/systemsecuritysecurityexception-request.html\" rel=\"nofollow noreferrer\">ad-thomas.blogspot.com/2013/09/&hellip;</a>"}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1458167983, "post_id": 36048172, "comment_id": 59745069, "body": "Also does the step &quot;populate worksheet&quot; involve any file IO? Perhaps you are reading something from the file system to populate the data?"}, {"owner": {"reputation": 11, "user_id": 5701910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7dc5ab4e2917ca9205560ab277e2aa?s=128&d=identicon&r=PG&f=1", "display_name": "ReneC", "link": "https://stackoverflow.com/users/5701910/renec"}, "reply_to_user": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1458168587, "post_id": 36048172, "comment_id": 59745324, "body": "Eric, the link you provided discusses giving the dll additional rights on the server, which is not an option in my company&#39;s environment."}, {"owner": {"reputation": 11, "user_id": 5701910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7dc5ab4e2917ca9205560ab277e2aa?s=128&d=identicon&r=PG&f=1", "display_name": "ReneC", "link": "https://stackoverflow.com/users/5701910/renec"}, "reply_to_user": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1458168663, "post_id": 36048172, "comment_id": 59745348, "body": "Here is the code I originally took out for populating the worksheet. It does not do any file IO. I simply take a datatable populated with data and transfer it to the worksheet:"}, {"owner": {"reputation": 11, "user_id": 5701910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7dc5ab4e2917ca9205560ab277e2aa?s=128&d=identicon&r=PG&f=1", "display_name": "ReneC", "link": "https://stackoverflow.com/users/5701910/renec"}, "reply_to_user": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1458168952, "post_id": 36048172, "comment_id": 59745474, "body": "@EricJ. Sorry, I cannot figure out how to get my code to show up correctly in the comments, so I modified my original post"}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1458173364, "post_id": 36048172, "comment_id": 59747033, "body": "It is best to update your post."}, {"owner": {"reputation": 1772, "user_id": 1383388, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/dILq8.png?s=128&g=1", "display_name": "Ads", "link": "https://stackoverflow.com/users/1383388/ads"}, "edited": false, "score": 0, "creation_date": 1469891633, "post_id": 36048172, "comment_id": 64730563, "body": "Hi @ReneC, did you ever get EPPlus working in a medium trust environment??  I&#39;ve been trying to sort this out for the last 4 hours and at 1am, I&#39;m now losing the will to be developer anymore.. well until I get some sleep anyway."}, {"owner": {"reputation": 11, "user_id": 5701910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7dc5ab4e2917ca9205560ab277e2aa?s=128&d=identicon&r=PG&f=1", "display_name": "ReneC", "link": "https://stackoverflow.com/users/5701910/renec"}, "reply_to_user": {"reputation": 1772, "user_id": 1383388, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/dILq8.png?s=128&g=1", "display_name": "Ads", "link": "https://stackoverflow.com/users/1383388/ads"}, "edited": false, "score": 0, "creation_date": 1470241877, "post_id": 36048172, "comment_id": 64871986, "body": "Hi @Ads, discovered the EPPlus dll creates a temporary file as it is creating the excel, and I couldn&#39;t find a way to prevent it. This will not work if your server environment doesn&#39;t allow you to create temporary files on the server (as is the case with our environment). A co-worker modified the source and recompiled the DLL and it now works great, even with large recordsets (40+k records with 20+ columns), in our medium trust environment. I am waiting to hear back what modification they made and will add a new comment."}, {"owner": {"reputation": 1772, "user_id": 1383388, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/dILq8.png?s=128&g=1", "display_name": "Ads", "link": "https://stackoverflow.com/users/1383388/ads"}, "edited": false, "score": 0, "creation_date": 1470291754, "post_id": 36048172, "comment_id": 64891790, "body": "Wow... Thanks @ReneC, I&#39;ll have to take a closer look at this.  Thank for the update.  I&#39;m keen to hear what your colleague did to make it work as this is still an issue for me."}, {"owner": {"reputation": 1772, "user_id": 1383388, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/dILq8.png?s=128&g=1", "display_name": "Ads", "link": "https://stackoverflow.com/users/1383388/ads"}, "edited": false, "score": 0, "creation_date": 1470744965, "post_id": 36048172, "comment_id": 65065206, "body": "@ReneC, I got dragged off this for the last few days, did you manage to find that code change??"}, {"owner": {"reputation": 11, "user_id": 5701910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7dc5ab4e2917ca9205560ab277e2aa?s=128&d=identicon&r=PG&f=1", "display_name": "ReneC", "link": "https://stackoverflow.com/users/5701910/renec"}, "reply_to_user": {"reputation": 1772, "user_id": 1383388, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/dILq8.png?s=128&g=1", "display_name": "Ads", "link": "https://stackoverflow.com/users/1383388/ads"}, "edited": false, "score": 0, "creation_date": 1470840269, "post_id": 36048172, "comment_id": 65114689, "body": "@Ads see Kirk&#39;s answer below.  He is the one who modified the code in our group and explained where the issues are. You need to pull the source code from their website and change in the code where it uses System.IO."}], "answers": [{"comments": [{"owner": {"reputation": 1772, "user_id": 1383388, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/dILq8.png?s=128&g=1", "display_name": "Ads", "link": "https://stackoverflow.com/users/1383388/ads"}, "edited": false, "score": 0, "creation_date": 1471006980, "post_id": 38772215, "comment_id": 65194091, "body": "thanks for the info, but I still don&#39;t really know which bits to change to get this to work, so I ended up going with another package that does work in Medium Trust out of the box, NPOI.  Works almost the same as EPPlus, but not quite as elegantly, but hey, it works without modifying source code.  Maybe I&#39;ll have another crack later on if I&#39;m really bothered by not using EPPlus."}], "tags": [], "owner": {"reputation": 471, "user_id": 1016754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5b2de71e7db2c06c081668daf9bea63?s=128&d=identicon&r=PG", "display_name": "Kirk Spencer", "link": "https://stackoverflow.com/users/1016754/kirk-spencer"}, "is_accepted": false, "score": 0, "last_activity_date": 1470326386, "creation_date": 1470326386, "answer_id": 38772215, "question_id": 36048172, "link": "https://stackoverflow.com/questions/36048172/error-opening-excel-generated-with-epplus-in-medium-trust-environment/38772215#38772215", "title": "Error opening excel generated with EPPlus in medium trust environment", "body": "<p>The issue is that EPPlus is using features from System.IO even when using the constructors that take a memory stream. That particular library needs full trust, so it will not run in a medium trust environment. Have a look at the following two files:</p>\n\n<p><a href=\"http://epplus.codeplex.com/SourceControl/latest#EPPlus/Packaging/ZipPackage.cs\" rel=\"nofollow\">http://epplus.codeplex.com/SourceControl/latest#EPPlus/Packaging/ZipPackage.cs</a></p>\n\n<pre><code>string name = Path.GetFileName(p.Key);\nstring extension = Path.GetExtension(p.Key);\n</code></pre>\n\n<p><a href=\"http://epplus.codeplex.com/SourceControl/latest#EPPlus/Packaging/ZipPackagePart.cs\" rel=\"nofollow\">http://epplus.codeplex.com/SourceControl/latest#EPPlus/Packaging/ZipPackagePart.cs</a></p>\n\n<pre><code>internal void WriteZip(ZipOutputStream os)\n{\n    ...code...\n    if (_rels.Count &gt; 0)\n    {\n        string f = Uri.OriginalString;\n        var name = Path.GetFileName(f);\n        _rels.WriteZip(os, (string.Format(\"{0}_rels/{1}.rels\", f.Substring(0, f.Length - name.Length), name)));\n    }\n    ...code...\n}\n</code></pre>\n\n<p>Both of those sections use the Path class from System.IO to perform some basic tasks.</p>\n\n<p>ZipPackage.cs solution:</p>\n\n<pre><code>var parts = p.Key.Split('/');\nvar name = parts[parts.Length - 1];\nparts = name.Split('.');\nvar extension = \".\" + parts[parts.Length - 1];\n</code></pre>\n\n<p>ZipPackagePart.cs solution:</p>\n\n<pre><code>internal void WriteZip(ZipOutputStream os)\n{\n    ...code...\n    if (_rels.Count &gt; 0)\n    {\n        string f = Uri.OriginalString;\n        var parts = f.Split('/');\n        var name = parts[parts.Length - 1];\n        _rels.WriteZip(os, (string.Format(\"{0}_rels/{1}.rels\", f.Substring(0, f.Length - name.Length), name)));\n    }\n    ...code...\n}\n</code></pre>\n\n<p>There may be other places where this issue presents itself, but this should give you an idea of what you need to look for and change after pulling the source code in to your solution. Best of luck!</p>\n"}], "owner": {"reputation": 11, "user_id": 5701910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7dc5ab4e2917ca9205560ab277e2aa?s=128&d=identicon&r=PG&f=1", "display_name": "ReneC", "link": "https://stackoverflow.com/users/5701910/renec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1130, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470326386, "creation_date": 1458167289, "last_edit_date": 1458170762, "question_id": 36048172, "link": "https://stackoverflow.com/questions/36048172/error-opening-excel-generated-with-epplus-in-medium-trust-environment", "title": "Error opening excel generated with EPPlus in medium trust environment", "body": "<p>I have searched high and low and find similar questions all with similar answers and none seem to solve my problem. My ultimate goal is to allow the user to save a datatable to an excel document which opens (not saves) in excel and they can choose to save it if they wish. This is to be done with the click of a button on a webpage written in c#. </p>\n\n<p>There's tons of examples on how to do this, in many different ways, many of which seem quite straightforward - I just can't seem to find a way that completely works in the environment I am in (medium trust production environment and this cannot be altered).</p>\n\n<p>Essentially, when a button is clicked on the webpage, my code creates an excel file using EPPlus:</p>\n\n<pre><code>ExcelPackage p = new ExcelPackage();\np.Workbook.Worksheets.Add(worksheetname);\nExcelWorksheet workSheet = p.Workbook.Worksheets[1];\nworkSheet.Cells[1,1].LoadFromDataTable(dt, true);\nvar range = workSheet.Cells[1,1,dt.Rows.Count,dt.Columns.Count];\nvar table = workSheet.Tables.Add(range, \"results\");\ntable.ShowTotal = false;\ntable.TableStyle = TableStyles.Medium4;\nworkSheet.Cells.AutoFitColumns();\nworkSheet.Cells.Style.HorizontalAlignment = ExcelHorizontalAlignment.Left;\nworkSheet.View.ShowGridLines = false;\nResponse.Clear();\nResponse.ClearHeaders();\nResponse.BinaryWrite(p.GetAsByteArray());\n//Also tried this instead of above line with same error: p.SaveAs(Response.OutputStream);\nResponse.ContentType = \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\nResponse.AddHeader(\"content-disposition\", \"attachment;  filename=\" + filename + \".xlsx\");\nResponse.End();\n</code></pre>\n\n<p>This code seems straightforward, and works locally from my machine. I click the button, then receive a prompt to Save or Open. I choose Open, and the file opens in Excel, which is exactly what my end users want. I then copy the website out to our dev web server(full trust) and it still works great. Then I copy to our staging environment which is medium trust, not full trust and get the following error: <code>System.Security.SecurityException Exception Message: Request for the permission of type 'System.Security.Permissions.FileIOPermission, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089' failed.</code></p>\n\n<p>I am not trying to save a file, just simply display for the end user to be able to open it in Excel. They can then choose to Save-As from Excel app if they wish.</p>\n\n<p>Doing this with Excel interop is straightforward and I got it working locally as well, but without Excel on the server, I don't believe this is a viable option. Hence my decision to try EPPlus, which seemed like the answer until it wouldn't work in our staging environment. The only difference I can think of is that our staging environment is medium trust and the development environment is full trust. I need a solution that works in medium trust, but without the errors of my other option I tried below using html.</p>\n\n<p>I used to do this as html and open with the following code, but since it isn't a true excel file, when the user selects open, they always got the error:  \"The file format and extension don't match. The file could be corrupted or unsafe. Unless you trust its source, don't open it. Do you want to open it anyway?\". They could just hit yes and most of the time the file would open and behave just fine, other times it will simply say \"Unable to read file\" and they would have to re-click the button - they have requested this error go away. Here is how I used to do it (and again, this worked most the time, and works just fine in our medium trust environment, but has that pesky error). This is why I decided to go the route of creating a 'true' excel file-to avoid this error.</p>\n\n<pre><code>System.IO.StringWriter tw = new System.IO.StringWriter();\nSystem.Web.UI.HtmlTextWriter hw = new System.Web.UI.HtmlTextWriter(tw);\nDataGrid dgGrid = new DataGrid();\ndgGrid.DataSource = dt;\ndgGrid.DataBind();\ndgGrid.RenderControl(hw);\nResponse.Clear();\nResponse.ClearContent();\nResponse.ClearHeaders();\nResponse.Buffer = true;\nResponse.Expires = 0;\nResponse.ContentType = \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\n//Also tried these two ways to see if the \"file format and extension don't match\" error go away-it didn't\n//also tried sending in filename with .xls and .xlsx extension with same results\n//Response.ContentType = \"application/vnd.ms-excel\";\n//Response.ContentType = \"application/octet-stream\";\nResponse.AppendHeader(\"Content-Disposition\", \"attachment; filename=\" + filename);\nthis.EnableViewState = false;\nResponse.Write(tw.ToString());\nResponse.Flush();\nResponse.Clear();\nResponse.End();\n</code></pre>\n\n<p>Any suggestions would be great! Also, if there is another open source tool which may do the job, that would be good too. I cannot use any and all open source options, but if someone has a suggestion on another tool that would work in medium trust, I can see if it's in my company's approved list.</p>\n"}, {"tags": ["c#", "keycode"], "comments": [{"owner": {"reputation": 10474, "user_id": 267153, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/23ca5782180a1b344c0abd6ba2eae463?s=128&d=identicon&r=PG", "display_name": "Pedro", "link": "https://stackoverflow.com/users/267153/pedro"}, "edited": false, "score": 0, "creation_date": 1458167296, "post_id": 36048148, "comment_id": 59744803, "body": "which technology? WPF? WinForms?"}, {"owner": {"reputation": 10474, "user_id": 267153, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/23ca5782180a1b344c0abd6ba2eae463?s=128&d=identicon&r=PG", "display_name": "Pedro", "link": "https://stackoverflow.com/users/267153/pedro"}, "edited": false, "score": 0, "creation_date": 1458167324, "post_id": 36048148, "comment_id": 59744813, "body": "is there an exception being thrown?"}, {"owner": {"reputation": 121, "user_id": 6020695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ecd85301389c85a558f57541b164cb4e?s=128&d=identicon&r=PG&f=1", "display_name": "Jake F.", "link": "https://stackoverflow.com/users/6020695/jake-f"}, "reply_to_user": {"reputation": 10474, "user_id": 267153, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/23ca5782180a1b344c0abd6ba2eae463?s=128&d=identicon&r=PG", "display_name": "Pedro", "link": "https://stackoverflow.com/users/267153/pedro"}, "edited": false, "score": 0, "creation_date": 1458167373, "post_id": 36048148, "comment_id": 59744835, "body": "@Pedro I am new to c# and I don&#39;t know what you mean, i guess .net framework?"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1458167814, "post_id": 36048148, "comment_id": 59745008, "body": "you need to say what it is you are trying to achieve, what you are actually doing to the keyboard, etc."}, {"owner": {"reputation": 121, "user_id": 6020695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ecd85301389c85a558f57541b164cb4e?s=128&d=identicon&r=PG&f=1", "display_name": "Jake F.", "link": "https://stackoverflow.com/users/6020695/jake-f"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1458169239, "post_id": 36048148, "comment_id": 59745586, "body": "@pm100 run some code if enter is pressed"}, {"owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "edited": false, "score": 0, "creation_date": 1458169923, "post_id": 36048148, "comment_id": 59745841, "body": "try putting it in the <code>KeyPress</code> event instead of <code>KeyDown</code>.."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1458183676, "post_id": 36048148, "comment_id": 59750000, "body": "Have you tried putting in a break-point and seeing what happens when your code runs? In my tests your code should at least run the <code>else</code> code. I suspect your event isn&#39;t even firing."}, {"owner": {"reputation": 121, "user_id": 6020695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ecd85301389c85a558f57541b164cb4e?s=128&d=identicon&r=PG&f=1", "display_name": "Jake F.", "link": "https://stackoverflow.com/users/6020695/jake-f"}, "reply_to_user": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1458224056, "post_id": 36048148, "comment_id": 59772691, "body": "@Enigmativity I know the code after the if statement is functional cause i have the exact same code on a button and it works just fine."}, {"owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "edited": false, "score": 0, "creation_date": 1458248556, "post_id": 36048148, "comment_id": 59789346, "body": "Were you able to get it to work? I think that you need to make sure to bind the <code>toolStripTextBox1.KeyPress</code> event. See my answer below."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1458256123, "post_id": 36048148, "comment_id": 59792665, "body": "@JakeF. - Can you explain why your response relates to my comment?"}], "answers": [{"tags": [], "owner": {"reputation": 158, "user_id": 6063948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UYDjL.jpg?s=128&g=1", "display_name": "Slubberdegullion", "link": "https://stackoverflow.com/users/6063948/slubberdegullion"}, "is_accepted": false, "score": 0, "last_activity_date": 1458167582, "creation_date": 1458167582, "answer_id": 36048243, "question_id": 36048148, "link": "https://stackoverflow.com/questions/36048148/if-e-keycode-keys-enter-is-non-functional/36048243#36048243", "title": "if (e.KeyCode == Keys.Enter) is non-functional", "body": "<p>Make sure that the control has focus, or redirect the event to the control</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.control.keydown%28v=vs.110%29.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/system.windows.forms.control.keydown%28v=vs.110%29.aspx</a></p>\n"}, {"tags": [], "owner": {"reputation": 3511, "user_id": 2459714, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ROy1j.png?s=128&g=1", "display_name": "Ashraf Sada", "link": "https://stackoverflow.com/users/2459714/ashraf-sada"}, "is_accepted": true, "score": 1, "last_activity_date": 1458205190, "last_edit_date": 1458205190, "creation_date": 1458169673, "answer_id": 36048684, "question_id": 36048148, "link": "https://stackoverflow.com/questions/36048148/if-e-keycode-keys-enter-is-non-functional/36048684#36048684", "title": "if (e.KeyCode == Keys.Enter) is non-functional", "body": "<p>Use your code in key up event, not key down, this will make event fully executed and eligible to read the key pressed.</p>\n\n<p>I have adjusted your code and it works, you don't have to use <code>KeyChar</code> just use <code>KeyCode</code> instead and it should work.</p>\n\n<pre><code>private void toolStripTextBox1_KeyUp(object sender, KeyEventArgs e)\n        {\n            if(e.KeyCode == Keys.Enter || e.KeyValue == (char)Keys.Return)\n            //if (e.KeyChar == (char)Keys.Enter || e.KeyChar == (char)Keys.Return)\n            {\n                var items = new[] { 500 + \"objects here\" };\n                if (toolStripTextBox1.Text.StartsWith(\"www.\"))\n                {\n                    webBrowser1.Navigate(toolStripTextBox1.Text);\n                }\n                if (toolStripTextBox1.Text.StartsWith(\"http://\"))\n                {\n                    webBrowser1.Navigate(toolStripTextBox1.Text);\n                }\n                if (toolStripTextBox1.Text.StartsWith(\"https://\"))\n                {\n                    webBrowser1.Navigate(toolStripTextBox1.Text);\n                }\n                if (items.Any(item =&gt; toolStripTextBox1.Text.Contains(item)))\n                {\n                    webBrowser1.Navigate(toolStripTextBox1.Text);\n                }\n                else\n                {\n                    webBrowser1.Navigate(\"https://www.google.ca/?gws_rd=ssl#safe=active&amp;q=\" + toolStripTextBox1);\n                }\n            }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 6020695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ecd85301389c85a558f57541b164cb4e?s=128&d=identicon&r=PG&f=1", "display_name": "Jake F.", "link": "https://stackoverflow.com/users/6020695/jake-f"}, "edited": false, "score": 0, "creation_date": 1458170572, "post_id": 36048785, "comment_id": 59746085, "body": "error: Cannot implicity convert type System.Windows.Forms.Keys to &#39;char&#39; edit: still does not work :("}, {"owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "reply_to_user": {"reputation": 121, "user_id": 6020695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ecd85301389c85a558f57541b164cb4e?s=128&d=identicon&r=PG&f=1", "display_name": "Jake F.", "link": "https://stackoverflow.com/users/6020695/jake-f"}, "edited": false, "score": 0, "creation_date": 1458170787, "post_id": 36048785, "comment_id": 59746168, "body": "make sure you include the <code>(char)</code>... that is <i>explicitly</i> casting <code>Keys.Enter</code> to a <code>char</code>."}, {"owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "reply_to_user": {"reputation": 121, "user_id": 6020695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ecd85301389c85a558f57541b164cb4e?s=128&d=identicon&r=PG&f=1", "display_name": "Jake F.", "link": "https://stackoverflow.com/users/6020695/jake-f"}, "edited": false, "score": 0, "creation_date": 1458170894, "post_id": 36048785, "comment_id": 59746205, "body": "Do you have that method linked to the <code>KeyPress</code> event on your <code>toolStripTextBox1</code>?"}, {"owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "reply_to_user": {"reputation": 121, "user_id": 6020695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ecd85301389c85a558f57541b164cb4e?s=128&d=identicon&r=PG&f=1", "display_name": "Jake F.", "link": "https://stackoverflow.com/users/6020695/jake-f"}, "edited": false, "score": 0, "creation_date": 1458170976, "post_id": 36048785, "comment_id": 59746238, "body": "Try setting a breakpoint just on the first line of code inside your <code>if()</code> statement. That should work fine, there may be something else wrong inside of your code block. Add the rest of your code to the question and we can help you further."}, {"owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "reply_to_user": {"reputation": 121, "user_id": 6020695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ecd85301389c85a558f57541b164cb4e?s=128&d=identicon&r=PG&f=1", "display_name": "Jake F.", "link": "https://stackoverflow.com/users/6020695/jake-f"}, "edited": false, "score": 0, "creation_date": 1458171496, "post_id": 36048785, "comment_id": 59746410, "body": "Did you try to set a breakpoint? Maybe your <code>webBrowser1</code> object hasn&#39;t been instantiated yet or something. Also you could wrap it in a <code>try&#47;catch</code> block and then show a <code>MessageBox</code> with the error details in the <code>catch</code> block."}, {"owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "reply_to_user": {"reputation": 121, "user_id": 6020695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ecd85301389c85a558f57541b164cb4e?s=128&d=identicon&r=PG&f=1", "display_name": "Jake F.", "link": "https://stackoverflow.com/users/6020695/jake-f"}, "edited": false, "score": 0, "creation_date": 1458171604, "post_id": 36048785, "comment_id": 59746451, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/106519/discussion-between-dub-stylee-and-jake-f\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "is_accepted": false, "score": 0, "last_activity_date": 1458248458, "last_edit_date": 1458248458, "creation_date": 1458170157, "answer_id": 36048785, "question_id": 36048148, "link": "https://stackoverflow.com/questions/36048148/if-e-keycode-keys-enter-is-non-functional/36048785#36048785", "title": "if (e.KeyCode == Keys.Enter) is non-functional", "body": "<p>Try this for your <code>KeyPress</code> event handler:</p>\n\n<pre><code>private void toolStripTextBox1_KeyPress(object sender, KeyPressEventArgs e)\n{\n    if (e.KeyChar == (char)Keys.Enter || e.KeyChar == (char)Keys.Return)\n    {\n        //Insert code here\n</code></pre>\n\n<p>It sounds like the problem may be that the method is not bound to the <code>KeyPress</code> event.</p>\n\n<p>In the designer, click on the textbox, and then over to the side where it lists all of the properties, there should be a lightning bolt looking icon, click on that, and then scroll down to <code>KeyPress</code> and make sure it says <code>toolStripTextBox1_KeyPress</code></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Alternatively, you can add the event handler programmatically. In your <code>Form_Load</code> event, add the code</p>\n\n<pre><code>toolStripTextBox1.KeyPress += toolStripTextBox1_KeyPress;\n</code></pre>\n\n<p>and in your <code>Form_Closed</code> event handler, add</p>\n\n<pre><code>toolStripTextBox1.KeyPress -= toolStripTextBox1_KeyPress;\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 6020695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ecd85301389c85a558f57541b164cb4e?s=128&d=identicon&r=PG&f=1", "display_name": "Jake F.", "link": "https://stackoverflow.com/users/6020695/jake-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2270, "favorite_count": 0, "accepted_answer_id": 36048684, "answer_count": 3, "score": 0, "last_activity_date": 1458248458, "creation_date": 1458167194, "last_edit_date": 1458171408, "question_id": 36048148, "link": "https://stackoverflow.com/questions/36048148/if-e-keycode-keys-enter-is-non-functional", "title": "if (e.KeyCode == Keys.Enter) is non-functional", "body": "<p>I have this</p>\n\n<pre><code>    private void toolStripTextBox1_KeyPress(object sender, KeyPressEventArgs e)\n    {\n        if (e.KeyChar == (char)Keys.Enter || e.KeyChar == (char)Keys.Return)\n        {\n            var items = new[] { 500+ objects here };\n            if (toolStripTextBox1.Text.StartsWith(\"www.\"))\n            {\n                webBrowser1.Navigate(toolStripTextBox1.Text);\n            }\n            if (toolStripTextBox1.Text.StartsWith(\"http://\"))\n            {\n                webBrowser1.Navigate(toolStripTextBox1.Text);\n            }\n            if (toolStripTextBox1.Text.StartsWith(\"https://\"))\n            {\n                webBrowser1.Navigate(toolStripTextBox1.Text);\n            }\n            if (items.Any(item =&gt; toolStripTextBox1.Text.Contains(item)))\n            {\n                webBrowser1.Navigate(toolStripTextBox1.Text);\n            }\n            else\n            {\n                webBrowser1.Navigate(\"https://www.google.ca/?gws_rd=ssl#safe=active&amp;q=\" + toolStripTextBox1);\n            }\n        }\n    }\n</code></pre>\n\n<p>and it litteraly doesn't work. eg. I run it, no errors, all it does is play the windows error sound and won't be functional.... </p>\n\n<p>I know the code after the if statement is functional cause i have the exact same code on a button and it works just fine.</p>\n"}, {"tags": ["c#", "win-universal-app", "visualstatemanager"], "comments": [{"owner": {"reputation": 3135, "user_id": 2354187, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9633669e34a24ffa16cfd02648548917?s=128&d=identicon&r=PG", "display_name": "Archana", "link": "https://stackoverflow.com/users/2354187/archana"}, "edited": false, "score": 1, "creation_date": 1458191223, "post_id": 36048056, "comment_id": 59752084, "body": "Can you please post xaml code?"}, {"owner": {"reputation": 115, "user_id": 5914809, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4cc34cd71291b7888c78221bd1693117?s=128&d=identicon&r=PG&f=1", "display_name": "evil gugl", "link": "https://stackoverflow.com/users/5914809/evil-gugl"}, "reply_to_user": {"reputation": 3135, "user_id": 2354187, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9633669e34a24ffa16cfd02648548917?s=128&d=identicon&r=PG", "display_name": "Archana", "link": "https://stackoverflow.com/users/2354187/archana"}, "edited": false, "score": 0, "creation_date": 1458483012, "post_id": 36048056, "comment_id": 59870134, "body": "@Archana   Sorry for a late reply, but yes, ff course...   This is the GridView with simplified xaml:       &lt;GridView x:Name=&quot;DATAGRID&quot;                                   ItemsSource=&quot;{Binding Data}&quot;                                   SelectionMode=&quot;Single&quot;&gt; \t\t\t\t\t\t\t&lt;GridView.ItemTemplate&gt; \t\t\t\t\t\t\t\t&lt;DataTemplate&gt; \t\t\t\t\t\t\t\t\t&lt;cc:MyControl x:Name=&quot;AA&quot; \t\t\t\t\t\t\t\t\t\tStyle=&quot;{StaticResource MyControlStyle1}&quot;&gt; \t\t\t\t\t\t\t\t&lt;/DataTemplate&gt; \t\t\t\t\t\t\t&lt;/GridView.ItemTemplate&gt;                         &lt;/GridView&gt;"}, {"owner": {"reputation": 115, "user_id": 5914809, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4cc34cd71291b7888c78221bd1693117?s=128&d=identicon&r=PG&f=1", "display_name": "evil gugl", "link": "https://stackoverflow.com/users/5914809/evil-gugl"}, "reply_to_user": {"reputation": 3135, "user_id": 2354187, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9633669e34a24ffa16cfd02648548917?s=128&d=identicon&r=PG", "display_name": "Archana", "link": "https://stackoverflow.com/users/2354187/archana"}, "edited": false, "score": 0, "creation_date": 1458483267, "post_id": 36048056, "comment_id": 59870236, "body": "sorry, I just can&#39;t propery format the &#39;code&#39; block :("}, {"owner": {"reputation": 13365, "user_id": 1028230, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fbeKv.png?s=128&g=1", "display_name": "ruffin", "link": "https://stackoverflow.com/users/1028230/ruffin"}, "edited": false, "score": 0, "creation_date": 1581085916, "post_id": 36048056, "comment_id": 106322942, "body": "@evilgugl I realize I&#39;m late to the game, but you can insert code in comments by <code>surrounding the code with</code> the backtick <code>`</code> (so like <code>`my code here`</code>) but, more importantly, you can edit your original question and properly format the code there. It&#39;s fair game to insert more code in your original question to address comments or even answers."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 5914809, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4cc34cd71291b7888c78221bd1693117?s=128&d=identicon&r=PG&f=1", "display_name": "evil gugl", "link": "https://stackoverflow.com/users/5914809/evil-gugl"}, "edited": false, "score": 0, "creation_date": 1458483523, "post_id": 36052273, "comment_id": 59870317, "body": "Thank you, I already &#39;copied&#39; the code from there:   Maybe I&#39;m doing something wrong...   But this is what I&#39;ve got:       &lt;VisualStateGroup&gt;                 &lt;VisualState&gt;                     &lt;VisualState.StateTriggers&gt;                         &lt;AdaptiveTrigger MinWindowWidth=&quot;768&quot; /&gt;                     &lt;/VisualState.StateTriggers&gt;                     &lt;VisualState.Setters&gt;                         &lt;Setter Target=&quot;AA.Style&quot;                                 Value=&quot;{StaticResource MyControl_WideStyle}&quot; /&gt;                     &lt;/VisualState.Setters&gt;                 &lt;/VisualState&gt;"}, {"owner": {"reputation": 115, "user_id": 5914809, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4cc34cd71291b7888c78221bd1693117?s=128&d=identicon&r=PG&f=1", "display_name": "evil gugl", "link": "https://stackoverflow.com/users/5914809/evil-gugl"}, "edited": false, "score": 0, "creation_date": 1458483567, "post_id": 36052273, "comment_id": 59870326, "body": "once again, I&#39;m sorry, I just don&#39;t know how the &#39;code&#39; tag in comments works :("}], "tags": [], "owner": {"reputation": 214, "user_id": 5745937, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207019596303702/picture?type=large", "display_name": "Carmine", "link": "https://stackoverflow.com/users/5745937/carmine"}, "is_accepted": false, "score": 1, "last_activity_date": 1458192265, "creation_date": 1458192265, "answer_id": 36052273, "question_id": 36048056, "link": "https://stackoverflow.com/questions/36048056/uwp-visualstatemanager-gridview-itemstyle/36052273#36052273", "title": "UWP - VisualStateManager - GridView ItemStyle", "body": "<p>In the ItemTemplate you can use visual states with adaptive triggers to change properties of UI elements based on screen width. <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.adaptivetrigger.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.adaptivetrigger.aspx</a></p>\n"}], "owner": {"reputation": 115, "user_id": 5914809, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4cc34cd71291b7888c78221bd1693117?s=128&d=identicon&r=PG&f=1", "display_name": "evil gugl", "link": "https://stackoverflow.com/users/5914809/evil-gugl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 559, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1581086084, "creation_date": 1458166840, "last_edit_date": 1581086084, "question_id": 36048056, "link": "https://stackoverflow.com/questions/36048056/uwp-visualstatemanager-gridview-itemstyle", "title": "UWP - VisualStateManager - GridView ItemStyle", "body": "<p>once again, I may be over-complicating simple things...</p>\n\n<p>I'm trying to apply different styles to my custom control that is set as a GridView ItemTemplate (depending on the app window width).</p>\n\n<p>I tried to just use VisualStateManager and set style property to the custom control, but It won't work, since the controls are dynamically generated.</p>\n\n<p>Latest thing I've tried is to change whole DataTemplate instead of just Style...</p>\n\n<p>Unfortunately It also doesn't work and I get following exception:</p>\n\n<pre><code>System.Runtime.InteropServices.COMException: Error HRESULT E_FAIL has been returned from a call to a COM component.\n</code></pre>\n\n<p>at Windows.UI.Xaml.FrameworkElement.MeasureOverride(Size availableSize)</p>\n\n<hr>\n\n<p><strong>XAML code:</strong></p>\n\n<pre><code>&lt;GridView x:Name=\"DATAGRID\" ItemsSource=\"{Binding Data}\" SelectionMode=\"Single\"&gt;\n    &lt;GridView.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;cc:MyControl x:Name=\"AA\" Style=\"{StaticResource MyControlStyle1}\"&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/GridView.ItemTemplate&gt;\n&lt;/GridView&gt;\n</code></pre>\n\n<p>Anyone has any idea what does it mean and how to solve it?</p>\n\n<p>Thank you :)</p>\n"}, {"tags": ["c#", "command-line", "compilation", "compiler-errors", "msbuild"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 3394623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc8e904d0509a72057db3b05e91dbd4?s=128&d=identicon&r=PG", "display_name": "MihaiP.", "link": "https://stackoverflow.com/users/3394623/mihaip"}, "edited": false, "score": 0, "creation_date": 1458170620, "post_id": 36048306, "comment_id": 59746105, "body": "My friend, I owe you a beer! :) I&#39;ve been running in circles for hours. To confirm your solution, I&#39;ve deleted and rewritten the code. It seems to be working now!"}], "tags": [], "owner": {"reputation": 3368, "user_id": 1305465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53792b9c0119678137acb4b6e225ce23?s=128&d=identicon&r=PG", "display_name": "Kalten", "link": "https://stackoverflow.com/users/1305465/kalten"}, "is_accepted": true, "score": 3, "last_activity_date": 1458167863, "creation_date": 1458167863, "answer_id": 36048306, "question_id": 36048043, "link": "https://stackoverflow.com/questions/36048043/command-line-msbuild-fails-to-compile-code/36048306#36048306", "title": "Command line MSBuild fails to compile code", "body": "<p>You have a not displayable character in <code>Authentication</code> between <code>o</code>and <code>n</code>.\nYou can see it when playing with arrow keys on keyboard.</p>\n"}], "owner": {"reputation": 123, "user_id": 3394623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc8e904d0509a72057db3b05e91dbd4?s=128&d=identicon&r=PG", "display_name": "MihaiP.", "link": "https://stackoverflow.com/users/3394623/mihaip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2644, "favorite_count": 0, "accepted_answer_id": 36048306, "answer_count": 1, "score": 0, "last_activity_date": 1458167863, "creation_date": 1458166776, "question_id": 36048043, "link": "https://stackoverflow.com/questions/36048043/command-line-msbuild-fails-to-compile-code", "title": "Command line MSBuild fails to compile code", "body": "<p>Can anyone tell me why command-line msbuild fails to build this code? </p>\n\n<pre><code>public SourceControlHandler(string sourceControlUser = null, string sourceControlPassword = null, string sourceControlDomain = null)\n        {    \n            var client = new SvnClient();\n            if (!string.IsNullOrEmpty(SourceControlUser) &amp;&amp; !string.IsNullOrEmpty(SourceControlPassword))\n            {\n                client.Authentication.Clear();\n                client.Authenticatio\u200bn.UserNameHandlers += delegate (object sender, Sv\u200bnUserNameEventArgs e)\n                {\n                    e.UserName = SourceControlUser;\n                };\n            _svnClient = client;\n        }\n</code></pre>\n\n<p>The errors are: </p>\n\n<pre><code>d:\\DEV\\EP.BuildAndDeploy\\BuildResources\\BuildProjects.build\" (Rebuild target)\n1) -&gt;\nD:\\DEV\\EP.BuildAndDeploy\\EP.BuildService\\EP.BuildService.csproj\" (default targ\nt) (5) -&gt;\nCoreCompile target) -&gt;\n Handlers\\SourceControlHandler.cs(44,39): error CS1002: ; expected [D:\\DEV\\EP.\nuildAndDeploy\\EP.BuildService\\EP.BuildService.csproj]\n Handlers\\SourceControlHandler.cs(44,39): error CS1525: Invalid expression ter\n '.' [D:\\DEV\\EP.BuildAndDeploy\\EP.BuildService\\EP.BuildService.csproj]\n Handlers\\SourceControlHandler.cs(44,40): error CS1002: ; expected [D:\\DEV\\EP.\nuildAndDeploy\\EP.BuildService\\EP.BuildService.csproj]\n Handlers\\SourceControlHandler.cs(44,107): error CS1026: ) expected [D:\\DEV\\EP\nBuildAndDeploy\\EP.BuildService\\EP.BuildService.csproj]\n Handlers\\SourceControlHandler.cs(44,108): error CS1002: ; expected [D:\\DEV\\EP\nBuildAndDeploy\\EP.BuildService\\EP.BuildService.csproj]\n Handlers\\SourceControlHandler.cs(44,108): error CS1525: Invalid expression te\nm ')' [D:\\DEV\\EP.BuildAndDeploy\\EP.BuildService\\EP.BuildService.csproj]\n Handlers\\SourceControlHandler.cs(44,109): error CS1002: ; expected [D:\\DEV\\EP\nBuildAndDeploy\\EP.BuildService\\EP.BuildService.csproj]\n Handlers\\SourceControlHandler.cs(48,14): error CS1002: ; expected [D:\\DEV\\EP.\nuildAndDeploy\\EP.BuildService\\EP.BuildService.csproj]\n Handlers\\SourceControlHandler.cs(50,10): error CS1513: } expected [D:\\DEV\\EP.\nuildAndDeploy\\EP.BuildService\\EP.BuildService.csproj]\n</code></pre>\n\n<p>Visual Studio 2015 has no issues compiling it and the code is not throwing any run-time errors. \nThe listed code starts at line 38. Therefore MSBuild/CSC is complaining - first error - about the second dot in: client.Authenticatio\u200bn.UserNameHandlers;</p>\n\n<p>Ideas?</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "edited": false, "score": 1, "creation_date": 1458166958, "post_id": 36048014, "comment_id": 59744650, "body": "What&#39;s the problem with the code you already have? Does it not work? Does it not work <i>fast enough</i>? I don&#39;t think there&#39;s any special algorithm for this problem, so you&#39;re probably limited to a few potential micro-optimizations."}, {"owner": {"reputation": 6244, "user_id": 833232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/597891901827be52a8da06e355e13bc2?s=128&d=identicon&r=PG&f=1", "display_name": "Monah", "link": "https://stackoverflow.com/users/833232/monah"}, "edited": false, "score": 0, "creation_date": 1458167804, "post_id": 36048014, "comment_id": 59745001, "body": "your code will add all the vertical points"}, {"owner": {"reputation": 111, "user_id": 203063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb3d040c9609edf933d4dab5c3872e44?s=128&d=identicon&r=PG", "display_name": "adnan", "link": "https://stackoverflow.com/users/203063/adnan"}, "reply_to_user": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "edited": false, "score": 0, "creation_date": 1458168343, "post_id": 36048014, "comment_id": 59745223, "body": "@theodoros-chatzigiannakis its currently giving me all the vertical points, I get the first coordinate added correctly and also the second, however as its going up in a vertical line, I&#39;m getting all the interim points added."}, {"owner": {"reputation": 111, "user_id": 203063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb3d040c9609edf933d4dab5c3872e44?s=128&d=identicon&r=PG", "display_name": "adnan", "link": "https://stackoverflow.com/users/203063/adnan"}, "reply_to_user": {"reputation": 6244, "user_id": 833232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/597891901827be52a8da06e355e13bc2?s=128&d=identicon&r=PG&f=1", "display_name": "Monah", "link": "https://stackoverflow.com/users/833232/monah"}, "edited": false, "score": 0, "creation_date": 1458168477, "post_id": 36048014, "comment_id": 59745280, "body": "@hadi-hassan Correct, also have a problem with the points going in diagonal directions"}, {"owner": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "edited": false, "score": 0, "creation_date": 1458168852, "post_id": 36048014, "comment_id": 59745431, "body": "Oh, I see what you mean now. In that case, the problem is that you aren&#39;t carrying all the information you need across the loops. Knowing the previous point isn&#39;t enough - you need to know the previous <i>direction</i>, which means you need to keep track of the sign of the difference (both in the X and in the Y axis) and see if it&#39;s maintained. Add to the list only those points where you have a change of the sign. Is this enough to get you going?"}, {"owner": {"reputation": 111, "user_id": 203063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb3d040c9609edf933d4dab5c3872e44?s=128&d=identicon&r=PG", "display_name": "adnan", "link": "https://stackoverflow.com/users/203063/adnan"}, "edited": false, "score": 0, "creation_date": 1458169341, "post_id": 36048014, "comment_id": 59745626, "body": "This definitely helps, the previous direction was the missing part, thanks"}, {"owner": {"reputation": 4661, "user_id": 1692706, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/GyaAv.png?s=128&g=1", "display_name": "Debosmit Ray", "link": "https://stackoverflow.com/users/1692706/debosmit-ray"}, "edited": false, "score": 0, "creation_date": 1458169968, "post_id": 36048014, "comment_id": 59745853, "body": "Just to add to the discussion, I think you will need 3 points(A,B,C) to be sure about direction changes; then use the slopes of AB and BC, and you can take it from there."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 203063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb3d040c9609edf933d4dab5c3872e44?s=128&d=identicon&r=PG", "display_name": "adnan", "link": "https://stackoverflow.com/users/203063/adnan"}, "edited": false, "score": 0, "creation_date": 1458170440, "post_id": 36048612, "comment_id": 59746054, "body": "this code sample and the provided link has helped alot, many thanks"}], "tags": [], "owner": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "is_accepted": true, "score": 1, "last_activity_date": 1458170595, "last_edit_date": 1458170595, "creation_date": 1458169357, "answer_id": 36048612, "question_id": 36048014, "link": "https://stackoverflow.com/questions/36048014/extracting-direction-changes-from-a-list-of-coordinates/36048612#36048612", "title": "Extracting direction changes from a list of coordinates", "body": "<p>You need to keep track of not just the previous point, but the <em>direction</em> that you took to arrive at that previous point. If you squint a little, you could say that this is analogous to why <a href=\"http://www.themathpage.com/acalc/max.htm\" rel=\"nofollow\">you need derivatives to find the relative minimum and relative maximum</a> in the plot of a function <em>f(x)</em>.</p>\n\n<p>Now back to your case. Assuming your possible directions are at 0, 45 or 90 degrees, then just keeping track of two signs should be more than enough to represent all possible slopes. (If my assumption doesn't hold for your case, you need to keep track of something more detailed than just the sign.)</p>\n\n<p>All that being said, you probably need something like this:</p>\n\n<pre><code>        var previous = path.First();\n        var direction = new Point(0, 0);\n\n        foreach (var item in path)\n        {\n            var signX = Math.Sign(item.X - previous.X);\n            var signY = Math.Sign(item.Y - previous.Y);\n\n            if (signX != direction.X || signY != direction.Y)\n            {\n                pointsToKeep.Add(previous);\n            }\n\n            previous = item;\n            direction = new Point(signX, signY);\n        }\n</code></pre>\n\n<p>Note that if you add <code>item</code> to the list, you're keeping track of the first point of the <em>new</em> direction, while if you add <code>previous</code> to the list, you're keeping track of the last point of the <em>previous</em> direction. (I believe you'll probably want to keep <code>previous</code>, but see it for yourself.)</p>\n"}, {"comments": [{"owner": {"reputation": 111, "user_id": 203063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb3d040c9609edf933d4dab5c3872e44?s=128&d=identicon&r=PG", "display_name": "adnan", "link": "https://stackoverflow.com/users/203063/adnan"}, "edited": false, "score": 0, "creation_date": 1458172040, "post_id": 36048629, "comment_id": 59746595, "body": "Thanks for the demo and the pointer to tracking the slope change"}], "tags": [], "owner": {"reputation": 6244, "user_id": 833232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/597891901827be52a8da06e355e13bc2?s=128&d=identicon&r=PG&f=1", "display_name": "Monah", "link": "https://stackoverflow.com/users/833232/monah"}, "is_accepted": false, "score": 1, "last_activity_date": 1458171449, "last_edit_date": 1458171449, "creation_date": 1458169441, "answer_id": 36048629, "question_id": 36048014, "link": "https://stackoverflow.com/questions/36048014/extracting-direction-changes-from-a-list-of-coordinates/36048629#36048629", "title": "Extracting direction changes from a list of coordinates", "body": "<p>You can try this</p>\n\n<pre><code>    List&lt;Point&gt; path = Point.GetData();\n    List&lt;Point&gt; pointsToKeep = new List&lt;Point&gt;();\n    var current = path[0];\n    var currentDiffX = 0;\n    var currentDiffY = 0;\n    foreach (var point in path)\n    {\n        var diffX = point.X - current.X;\n        var diffY = point.Y - current.Y;\n        if (diffX != currentDiffX || diffY != currentDiffY)\n            pointsToKeep.Add(current);\n        current = point;\n        currentDiffX = diffX;\n        currentDiffY = diffY;\n    }\n    // add the last point\n    pointsToKeep.Add(path[path.Count-1]);\n    foreach(var point in pointsToKeep)\n        Console.WriteLine(\"Ponint({0}.{1})\",point.X,point.Y);\n</code></pre>\n\n<p>for more accurate result</p>\n\n<p>-you can track the slope ( y2- y1)/(x2-x1) and once the slope changes, then add the point</p>\n\n<p>here a working <a href=\"https://dotnetfiddle.net/TdgyVn\" rel=\"nofollow\">demo</a> </p>\n"}], "owner": {"reputation": 111, "user_id": 203063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb3d040c9609edf933d4dab5c3872e44?s=128&d=identicon&r=PG", "display_name": "adnan", "link": "https://stackoverflow.com/users/203063/adnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 36048612, "answer_count": 2, "score": 1, "last_activity_date": 1458171449, "creation_date": 1458166635, "question_id": 36048014, "link": "https://stackoverflow.com/questions/36048014/extracting-direction-changes-from-a-list-of-coordinates", "title": "Extracting direction changes from a list of coordinates", "body": "<p>Given a list of coordinates, what would be the most efficient way to determine the direction changes?</p>\n\n<p><a href=\"https://i.stack.imgur.com/CJFw1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CJFw1.png\" alt=\"Path of coordinates\"></a></p>\n\n<p>What I have currently tried:</p>\n\n<pre><code>        List&lt;Point&gt; path = GetRoute();\n\n        List&lt;Point&gt; pointsToKeep = new List&lt;Point&gt;();\n\n        pointsToKeep.Add(path.First());\n\n        int previousX = path.First().X;\n        int previousY = path.First().Y;\n\n        foreach (var item in path)\n        {\n            int diffY = (item.Y - previousY);\n            bool up = diffY &gt; 0;\n            bool down = diffY &lt; 0;\n\n            if (up || down)\n            {\n                pointsToKeep.Add(item);\n            }\n\n            previousX = item.X;\n            previousY = item.Y;\n        }\n</code></pre>\n\n<p>Ideally would want the all the points highlighted in Orange to be added to the pointsToKeep list</p>\n\n<p>As the path is going from Left to Right, the X coordinate will never decrease</p>\n"}, {"tags": ["c#", "entity-framework"], "answers": [{"tags": [], "owner": {"reputation": 12959, "user_id": 873153, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b76989e85062ad137010ae537f30edcb?s=128&d=identicon&r=PG", "display_name": "COLD TOLD", "link": "https://stackoverflow.com/users/873153/cold-told"}, "is_accepted": true, "score": 2, "last_activity_date": 1458166999, "creation_date": 1458166999, "answer_id": 36048092, "question_id": 36047948, "link": "https://stackoverflow.com/questions/36047948/ef-the-navigation-property-is-not-a-declared-property-on-type/36048092#36048092", "title": "EF: The navigation property is not a declared property on type", "body": "<p>I think you have to specify the foreign key attribute if you consider it as navigation property</p>\n\n<pre><code> [ForeignKey(\"Node\"), Column(Order = 0)] \n public int NodeId { get; set; }\n</code></pre>\n"}], "owner": {"reputation": 3785, "user_id": 2659189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa5208474e7a4c1b7f5dc483beb9e222?s=128&d=identicon&r=PG", "display_name": "blgrnboy", "link": "https://stackoverflow.com/users/2659189/blgrnboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3257, "favorite_count": 0, "accepted_answer_id": 36048092, "answer_count": 1, "score": 1, "last_activity_date": 1458166999, "creation_date": 1458166398, "question_id": 36047948, "link": "https://stackoverflow.com/questions/36047948/ef-the-navigation-property-is-not-a-declared-property-on-type", "title": "EF: The navigation property is not a declared property on type", "body": "<p>I am very clueless as to why this isn't working, it seems to work just last week, and I am not seeing any changes to these classes.  Can someone please let me know why I get the error:</p>\n\n<blockquote>\n  <p>\"The navigation property 'Node' is not a declared property on type\n  'NWatchRelation'. Verify that it has not been explicitly excluded from\n  the model and that it is a valid navigation property.\"</p>\n</blockquote>\n\n<p><strong>NWatchRelation Entity</strong></p>\n\n<pre><code>public class NWatchRelation : INWatchRelation\n    {\n        private NWatchRelation()\n        {\n        }\n\n        public NWatchRelation(int nodeId, int relatedNodeId)\n        {\n            NodeId = nodeId;\n            RelatedNodeId = relatedNodeId;\n        }\n\n        public NWatchRelation(NWatchNode node, NWatchNode relatedNode)\n        {\n            Node = node;\n            RelatedNode = relatedNode;\n        }\n\n        public int Id { get; set; }\n\n        /// &lt;summary&gt;\n        /// Foreign Key for Node\n        /// &lt;/summary&gt;\n        public int NodeId { get; set; }\n\n        /// &lt;summary&gt;\n        /// Node\n        /// &lt;/summary&gt;\n        public NWatchNode Node { get; set; }\n\n        /// &lt;summary&gt;\n        /// Foreign Key for RelatedNode\n        /// &lt;/summary&gt;\n        public int RelatedNodeId { get; set; }\n\n        /// &lt;summary&gt;\n        /// Related Node\n        /// &lt;/summary&gt;\n        public NWatchNode RelatedNode { get; set; }\n\n        /// &lt;summary&gt;\n        /// Relationship Type\n        /// &lt;/summary&gt;\n        public NWatch.NWatchRelationType RelationType { get; set; }\n\n        INWatchNode INWatchRelation.Node\n        {\n            get\n            {\n                return Node;\n            }\n        }\n\n        INWatchNode INWatchRelation.RelatedNode\n        {\n            get\n            {\n                return RelatedNode;\n            }\n        }\n    }\n</code></pre>\n\n<p><strong>Configuration</strong></p>\n\n<pre><code>// NWatchRelation\n            modelBuilder.Entity&lt;NWatchRelation&gt;().Map(m =&gt;\n            {\n                m.ToTable(\"NWatchRelations\");\n            });\n            modelBuilder.Entity&lt;NWatchRelation&gt;()\n                .HasKey(t =&gt; t.Id)\n                .Property(t =&gt; t.Id)\n                .HasDatabaseGeneratedOption(DatabaseGeneratedOption.Identity);\n            modelBuilder.Entity&lt;NWatchRelation&gt;().HasRequired(t =&gt; t.Node).\n                WithMany().HasForeignKey(t =&gt; t.NodeId).WillCascadeOnDelete(false);\n            modelBuilder.Entity&lt;NWatchRelation&gt;().HasRequired(t =&gt; t.RelatedNode).\n                WithMany().HasForeignKey(t =&gt; t.RelatedNodeId).WillCascadeOnDelete(false);\n</code></pre>\n"}, {"tags": ["c#", "sql", "asp.net", ".net"], "answers": [{"tags": [], "owner": {"reputation": 1289, "user_id": 4303407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5feb379946286f2086055b78892368e1?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/4303407/harsh"}, "is_accepted": false, "score": 1, "last_activity_date": 1458166534, "creation_date": 1458166534, "answer_id": 36047991, "question_id": 36047916, "link": "https://stackoverflow.com/questions/36047916/how-can-i-pass-sp-parameter-with-n-prefix/36047991#36047991", "title": "How can I pass sp parameter with N prefix", "body": "<p>You don't need N prefix. You can specify parameter type as <code>SqlDbType.NVarChar</code> along with size. .Net will take care of preserving text encoding.</p>\n\n<pre><code>var foo = new SqlParameter(\"@test \", SqlDbType.NVarChar, 30)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12003, "user_id": 1849444, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8aa1d219c8f9cd52129a12ffc6dc0366?s=128&d=identicon&r=PG", "display_name": "teo van kot", "link": "https://stackoverflow.com/users/1849444/teo-van-kot"}, "is_accepted": false, "score": 1, "last_activity_date": 1458166556, "creation_date": 1458166556, "answer_id": 36047997, "question_id": 36047916, "link": "https://stackoverflow.com/questions/36047916/how-can-i-pass-sp-parameter-with-n-prefix/36047997#36047997", "title": "How can I pass sp parameter with N prefix", "body": "<p><code>N</code> prefix means that your string is in UNICODE.</p>\n\n<p>When you declare your variable as <code>NVARCHAR</code> it is already UNICODE.</p>\n\n<p>So you don't need this <code>N</code> lineral at the begin of your variable.</p>\n"}], "owner": {"reputation": 305, "user_id": 839911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zCyN5.jpg?s=128&g=1", "display_name": "Jorge Monta&#241;o", "link": "https://stackoverflow.com/users/839911/jorge-monta%c3%b1o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1458166556, "creation_date": 1458166246, "question_id": 36047916, "link": "https://stackoverflow.com/questions/36047916/how-can-i-pass-sp-parameter-with-n-prefix", "title": "How can I pass sp parameter with N prefix", "body": "<p>I want to pass a parameter to sp with N prefix to solve an issue with foreign languages characters recognized as ???, I can't put N@test, directly, tried different ways without luck.</p>\n\n<p>I have aspx.cs code file where I call to an sp, I want to do something like the following: </p>\n\n<pre><code>DECLARE @test NVARCHAR = 'N\"\u2605 \"' \ncreate table test (abc nvarchar) \ninsert into test values (@test) \nselect * from test \n</code></pre>\n\n<p>the code above is just an example, I will pass value to the parameter from .NET, How can I do it?</p>\n"}, {"tags": ["c#", "domain-driven-design"], "comments": [{"owner": {"reputation": 15573, "user_id": 219187, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/beb1dab6841ba29ff5bc56fafeb7cf37?s=128&d=identicon&r=PG", "display_name": "theDmi", "link": "https://stackoverflow.com/users/219187/thedmi"}, "edited": false, "score": 0, "creation_date": 1458202418, "post_id": 36047846, "comment_id": 59756922, "body": "I think you&#39;re confusing some of the DDD terms. You cannot add an aggregate to an aggregate root. Should the title of the question probably be &quot;Proper way to add an entity to an aggregate root in DDD&quot;? That would make more sense..."}, {"owner": {"reputation": 2482, "user_id": 4811392, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d6f34cb71f326f49ae06c57bea9b02a4?s=128&d=identicon&r=PG&f=1", "display_name": "user11081980", "link": "https://stackoverflow.com/users/4811392/user11081980"}, "reply_to_user": {"reputation": 15573, "user_id": 219187, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/beb1dab6841ba29ff5bc56fafeb7cf37?s=128&d=identicon&r=PG", "display_name": "theDmi", "link": "https://stackoverflow.com/users/219187/thedmi"}, "edited": false, "score": 0, "creation_date": 1458219908, "post_id": 36047846, "comment_id": 59769382, "body": "I see what you&#39;re saying... Thank you! I will change now."}], "answers": [{"comments": [{"owner": {"reputation": 2482, "user_id": 4811392, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d6f34cb71f326f49ae06c57bea9b02a4?s=128&d=identicon&r=PG&f=1", "display_name": "user11081980", "link": "https://stackoverflow.com/users/4811392/user11081980"}, "edited": false, "score": 0, "creation_date": 1458220034, "post_id": 36049129, "comment_id": 59769468, "body": "I see. So should I pass property by property (i.e. ProductName, ProductDescription, etc.) instead of the whole object?"}, {"owner": {"reputation": 855, "user_id": 6053621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be60019eff3b89b87bd45dc3f68143b6?s=128&d=identicon&r=PG", "display_name": "mgonzalezbaile", "link": "https://stackoverflow.com/users/6053621/mgonzalezbaile"}, "reply_to_user": {"reputation": 2482, "user_id": 4811392, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d6f34cb71f326f49ae06c57bea9b02a4?s=128&d=identicon&r=PG&f=1", "display_name": "user11081980", "link": "https://stackoverflow.com/users/4811392/user11081980"}, "edited": false, "score": 0, "creation_date": 1458291861, "post_id": 36049129, "comment_id": 59804801, "body": "I&#39;ve updated my answer because I misunderstood the problem at first."}], "tags": [], "owner": {"reputation": 855, "user_id": 6053621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be60019eff3b89b87bd45dc3f68143b6?s=128&d=identicon&r=PG", "display_name": "mgonzalezbaile", "link": "https://stackoverflow.com/users/6053621/mgonzalezbaile"}, "is_accepted": false, "score": 1, "last_activity_date": 1458291807, "last_edit_date": 1458291807, "creation_date": 1458172066, "answer_id": 36049129, "question_id": 36047846, "link": "https://stackoverflow.com/questions/36047846/proper-way-to-add-an-entity-to-an-aggregate-root-in-ddd/36049129#36049129", "title": "Proper way to add an entity to an aggregate root in DDD", "body": "<p>I would suggest using a factory method. Here an example:</p>\n\n<pre><code>public class Order {\n    public Product addProduct(\n        ProductId aProductId, \n        String aDescription \n    ) {\n        Product product = new Product(\n            this.orderId\n            aProductId, \n            aDescription\n        )\n\n        //Publish event ProductWasAddedToOrder(this.orderId, aProductId) \n\n        return product;\n    }\n} \n</code></pre>\n\n<p>Then if you want you can have a subscriber (Observer pattern) listening to the  NewItemWasAddedToOrder event which, for instance, it can display the item added in a shopping cart or something like that. </p>\n\n<p><strong>Update</strong>: I made a big mistake because I confused terms. When I was thinking on Product, I was imaging an Order item, something that does not exist and it is created at the moment of adding a new element to the Order, which I think can be the best way. </p>\n\n<p>Imagine that in the Order you save the ProductId (a reference to the Product), on the other hand the customer who ordered that product paid 20\u20ac for it. Two months later an admin of the system changes the price of the same product, and since you saved in the order a reference to that product if you want to check how much the customer paid that day you will get the new value instead. Saving the Product within  the Order, whenever you modify the Product you are also modifying the Order. </p>\n\n<p>Therefore I would add a new Item to the Order with the specific information that the product has at that moment. The item should hold also a reference to the Product just to know how many items have been created given a specific product. Here the example:</p>\n\n<pre><code>public class Order {\n    public OrderItem addItem(\n        OrderItemId anItemId, \n        ProductId aProductId, \n        Price aPrice, \n        String aDescription \n    ) {\n        OrderItem orderItem = new OrderItem(\n            anItemId, \n            this.orderId,\n            aProductId,\n            aDescription, \n            aPrice\n        )\n\n        //Publish event NewItemWasAddedToOrder(this.orderId, anItemId) \n\n        return orderItem;\n    }\n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15573, "user_id": 219187, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/beb1dab6841ba29ff5bc56fafeb7cf37?s=128&d=identicon&r=PG", "display_name": "theDmi", "link": "https://stackoverflow.com/users/219187/thedmi"}, "is_accepted": true, "score": 4, "last_activity_date": 1571150612, "last_edit_date": 1571150612, "creation_date": 1458223213, "answer_id": 36062781, "question_id": 36047846, "link": "https://stackoverflow.com/questions/36047846/proper-way-to-add-an-entity-to-an-aggregate-root-in-ddd/36062781#36062781", "title": "Proper way to add an entity to an aggregate root in DDD", "body": "<p>Let the aggregate create the entity. This is the simplest solution for clients, because \"create\" and \"add product\" are not separated.</p>\n\n<pre><code>public class Order \n{\n   private readonly List&lt;Product&gt; _products = new List&lt;Product&gt;();\n\n   public Product CreateProduct(string name, Price price) \n   {\n      var product = new Product(new ProductId(), name, price);\n      _products.Add(product);\n\n      return product;\n   }\n}\n</code></pre>\n\n<p>Note that the signature of <code>CreateProduct</code> may vary depending on your needs. E.g. in some cases you will want to provide the ID from the client, whereas in other cases the Order generates an ID for the product.</p>\n\n<p>Note: you probably should have aggragate Product and OrderItem or ProductOrderItem entity. OrderItem is entity which will be added to Order. When you edit your product, OrderItems will not be modified.</p>\n"}], "owner": {"reputation": 2482, "user_id": 4811392, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d6f34cb71f326f49ae06c57bea9b02a4?s=128&d=identicon&r=PG&f=1", "display_name": "user11081980", "link": "https://stackoverflow.com/users/4811392/user11081980"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1376, "favorite_count": 0, "accepted_answer_id": 36062781, "answer_count": 2, "score": 1, "last_activity_date": 1571150612, "creation_date": 1458165941, "last_edit_date": 1458223226, "question_id": 36047846, "link": "https://stackoverflow.com/questions/36047846/proper-way-to-add-an-entity-to-an-aggregate-root-in-ddd", "title": "Proper way to add an entity to an aggregate root in DDD", "body": "<p>I have an aggregate root called <code>Order</code> and I need to add a <code>Product</code> to the <code>Order</code>:</p>\n\n<pre><code>public class Order {\n  public void AddProduct(Product p) {\n  }\n}\n</code></pre>\n\n<p>I'd like to ask <code>DDD</code> guidelines when it comes to this. I'm facing two questions:</p>\n\n<ol>\n<li><p><code>Product</code> has two properties, among others: <code>Product.OrderID</code> and <code>Product.Order</code>. In terms of <code>DDD</code>, which of these properties should I set <strong>before calling</strong> <code>Order.AddProduct</code>?</p></li>\n<li><p>Or is it that I need to set either one of these two properties <strong>inside</strong> <code>Order.AddProduct</code>, something like \"<code>p.Order = this</code>\";</p></li>\n</ol>\n\n<p>Please note that I'm using <code>Order</code> and <code>Product</code> as examples. I've been told that this relationship may not be appropriate. Thank you.</p>\n"}, {"tags": ["c#", "visual-studio-lightswitch", "lightswitch-2012"], "comments": [{"owner": {"reputation": 525, "user_id": 875317, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/tQ8Th.jpg?s=128&g=1", "display_name": "B. Clay Shannon", "link": "https://stackoverflow.com/users/875317/b-clay-shannon"}, "edited": false, "score": 0, "creation_date": 1458165755, "post_id": 36047751, "comment_id": 59744115, "body": "What device is being used to scan? If Motorola, and your app runs on a WindowsCE device, I can steer you to some code."}, {"owner": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1458166077, "post_id": 36047751, "comment_id": 59744260, "body": "Depends on your barcoder, first off, some barcoders dont send line feeds so went &quot;auto&quot; press a button if you need them to, so for example, I was scanning tape codes that have a format of ZZ9999L3 so, once text entered matches that, or if it doesnt, reject it, I can send it on for searching.. on receiving of the result, you can clear the text then, or, clear it at the sending of the search if you&#39;re appending to a data set."}, {"owner": {"reputation": 628, "user_id": 2658820, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/a863c68d1a10f25c7ce466be6d7133dd?s=128&d=identicon&r=PG", "display_name": "HiTech", "link": "https://stackoverflow.com/users/2658820/hitech"}, "edited": false, "score": 0, "creation_date": 1458167048, "post_id": 36047751, "comment_id": 59744687, "body": "I&#39;m using a usb powered handheld barcode scanner. It automatically sends line feed (Enter key?) after each scan. -Note: My application is using Lightswitch HTML"}, {"owner": {"reputation": 2781, "user_id": 1301937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Kt3nM.png?s=128&g=1", "display_name": "Chris Cook", "link": "https://stackoverflow.com/users/1301937/chris-cook"}, "edited": false, "score": 0, "creation_date": 1458485080, "post_id": 36047751, "comment_id": 59870843, "body": "If possible, please can you post a designer screen shot of your current LightSwitch screen as this should make it easier to provide an appropriate example."}, {"owner": {"reputation": 628, "user_id": 2658820, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/a863c68d1a10f25c7ce466be6d7133dd?s=128&d=identicon&r=PG", "display_name": "HiTech", "link": "https://stackoverflow.com/users/2658820/hitech"}, "reply_to_user": {"reputation": 2781, "user_id": 1301937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Kt3nM.png?s=128&g=1", "display_name": "Chris Cook", "link": "https://stackoverflow.com/users/1301937/chris-cook"}, "edited": false, "score": 0, "creation_date": 1458686830, "post_id": 36047751, "comment_id": 59970533, "body": "@ChrisCook I&#39;m not sure how the screen shot would help unless you&#39;re looking for an explanation of everything in the screen shot."}, {"owner": {"reputation": 2781, "user_id": 1301937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Kt3nM.png?s=128&g=1", "display_name": "Chris Cook", "link": "https://stackoverflow.com/users/1301937/chris-cook"}, "edited": false, "score": 0, "creation_date": 1458687818, "post_id": 36047751, "comment_id": 59970930, "body": "Seeing the structure of your screen could help to confirm a few points and should allow an answer to be presented using your chosen control names etc."}, {"owner": {"reputation": 628, "user_id": 2658820, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/a863c68d1a10f25c7ce466be6d7133dd?s=128&d=identicon&r=PG", "display_name": "HiTech", "link": "https://stackoverflow.com/users/2658820/hitech"}, "reply_to_user": {"reputation": 2781, "user_id": 1301937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Kt3nM.png?s=128&g=1", "display_name": "Chris Cook", "link": "https://stackoverflow.com/users/1301937/chris-cook"}, "edited": false, "score": 0, "creation_date": 1458767214, "post_id": 36047751, "comment_id": 60012662, "body": "I updated my post to make my request a bit more clear. @ChrisCook"}, {"owner": {"reputation": 2781, "user_id": 1301937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Kt3nM.png?s=128&g=1", "display_name": "Chris Cook", "link": "https://stackoverflow.com/users/1301937/chris-cook"}, "edited": false, "score": 0, "creation_date": 1458904634, "post_id": 36047751, "comment_id": 60069191, "body": "@HiTech Thanks - just to double check, was the query added using the &#39;Add Data Item\\Query&#39; option and is its query parameter binding set to the local property that is also data bound to your search textbox?  Also, do you have your query&#39;s &#39;support paging&#39; option ticked?"}, {"owner": {"reputation": 2781, "user_id": 1301937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Kt3nM.png?s=128&g=1", "display_name": "Chris Cook", "link": "https://stackoverflow.com/users/1301937/chris-cook"}, "edited": false, "score": 0, "creation_date": 1458936287, "post_id": 36047751, "comment_id": 60085445, "body": "@HiTech Also, what type of screen are you using (Browse/View/AddEdit) and does your query only ever return one result?"}, {"owner": {"reputation": 628, "user_id": 2658820, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/a863c68d1a10f25c7ce466be6d7133dd?s=128&d=identicon&r=PG", "display_name": "HiTech", "link": "https://stackoverflow.com/users/2658820/hitech"}, "reply_to_user": {"reputation": 2781, "user_id": 1301937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Kt3nM.png?s=128&g=1", "display_name": "Chris Cook", "link": "https://stackoverflow.com/users/1301937/chris-cook"}, "edited": false, "score": 0, "creation_date": 1459200215, "post_id": 36047751, "comment_id": 60169876, "body": "@ChrisCook My post answers your question about the query/local property.  As far as I know, that&#39;s the only way you can add a query to your screen. What exactly does the paging option have anything to do with my post? Yes, paging is turned on. Also, I&#39;m using a browse screen. Updating my post again to reflect this."}, {"owner": {"reputation": 2781, "user_id": 1301937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Kt3nM.png?s=128&g=1", "display_name": "Chris Cook", "link": "https://stackoverflow.com/users/1301937/chris-cook"}, "edited": false, "score": 0, "creation_date": 1459217152, "post_id": 36047751, "comment_id": 60175217, "body": "@HiTech Thanks - I&#39;ve added a quick answer based on these details"}], "answers": [{"comments": [{"owner": {"reputation": 628, "user_id": 2658820, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/a863c68d1a10f25c7ce466be6d7133dd?s=128&d=identicon&r=PG", "display_name": "HiTech", "link": "https://stackoverflow.com/users/2658820/hitech"}, "edited": false, "score": 0, "creation_date": 1459217851, "post_id": 36274148, "comment_id": 60175398, "body": "Money. As of right now it works perfectly! That&#39;s a neat little trick. Thank you! I&#39;ll report back if i have any issues but in the meantime +1 and accepted!"}], "tags": [], "owner": {"reputation": 2781, "user_id": 1301937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Kt3nM.png?s=128&g=1", "display_name": "Chris Cook", "link": "https://stackoverflow.com/users/1301937/chris-cook"}, "is_accepted": true, "score": 1, "last_activity_date": 1485379225, "last_edit_date": 1485379225, "creation_date": 1459217038, "answer_id": 36274148, "question_id": 36047751, "link": "https://stackoverflow.com/questions/36047751/clear-searchbox-textbox-text-after-query/36274148#36274148", "title": "Clear searchbox (textbox text) after query", "body": "<p>Probably the simplest way of tackling this is to add two local barcode string properties to your screen.  </p>\n\n<p>One of these two local properties would be bound to the query's parameter but not placed on the screen (Barcode_Parameter). </p>\n\n<p>The other local property would simply be placed on the screen as a TextBox (Barcode) as shown in the following screen-shot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6FL9l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6FL9l.png\" alt=\"Example screen design\"></a></p>\n\n<p>You would then implement code along the following lines in the postRender of the TextBox: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>myapp.ScanDevice.Barcode_postRender = function (element, contentItem) {\n    var screen = contentItem.screen;\n    contentItem.dataBind(\"value\", function (value) {\n        if (value) {\n            screen.setBarcode_Parameter(value);\n            screen.setBarcode(\"\");\n        }\n    });\n};\n</code></pre>\n\n<p>This code will only update the local property that is bound to the query parameter (Barcode_Parameter) when a string is supplied and at the same point will clear the local property bound to the TextBox on the screen (Barcode).</p>\n\n<p>The following shows the cursor placed on the cleared TextBox after the string 123456 has been entered and followed by a carriage return:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bZBLV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bZBLV.png\" alt=\"Running example\"></a></p>\n"}], "owner": {"reputation": 628, "user_id": 2658820, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/a863c68d1a10f25c7ce466be6d7133dd?s=128&d=identicon&r=PG", "display_name": "HiTech", "link": "https://stackoverflow.com/users/2658820/hitech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 36274148, "answer_count": 1, "score": 0, "last_activity_date": 1485379225, "creation_date": 1458165516, "last_edit_date": 1459200508, "question_id": 36047751, "link": "https://stackoverflow.com/questions/36047751/clear-searchbox-textbox-text-after-query", "title": "Clear searchbox (textbox text) after query", "body": "<p><strong>Using HTML Lightswitch</strong></p>\n\n<p>The application I'm working on is for our inventory team to scan barcode's off devices. I have a Browse screen with a local string property used as my search box (textbox) that's binded to a query. This search box is where a barcode scanner inputs the text. The barcode scanner we use automatically presses 'Enter' after the text has been entered. This causes the binded local property to execute the query.\nI'm then displaying the results on screen as visual validation for the user. At this point, the scanned text is still in the search box. I would like to clear the searchbox text OR highlight the text so my users can scan the next device without interacting with the computers mouse/keyboard/touchscreen.</p>\n\n<p>Ideal workflow for user: </p>\n\n<ol>\n<li>Scan barcode  </li>\n<li>Visually validate returned results</li>\n<li>Scan barcode again</li>\n</ol>\n\n<p><strong>Updated above post.</strong></p>\n"}, {"tags": ["c#", "asp.net"], "answers": [{"tags": [], "owner": {"reputation": 2020, "user_id": 3442153, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/hwsHp.jpg?s=128&g=1", "display_name": "K\u1d00\u03c4\u1d22", "link": "https://stackoverflow.com/users/3442153/k%e1%b4%80%cf%84%e1%b4%a2"}, "is_accepted": true, "score": 1, "last_activity_date": 1458204438, "creation_date": 1458204438, "answer_id": 36055478, "question_id": 36047640, "link": "https://stackoverflow.com/questions/36047640/how-can-i-make-the-last-row-in-a-grid-views-colspan-equal-to-the-number-of-colu/36055478#36055478", "title": "How can I make the last row in a grid view&#39;s colspan equal to the number of columns in the grid view", "body": "<p>Try this: </p>\n\n<pre><code> protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)\n    {\n        if (e.Row.RowIndex == dt.Rows.Count - 1) //dt=Datasource\n        {\n            e.Row.Cells[0].ColumnSpan = dt.Columns.Count; //your text have to be in cell[0]\n            e.Row.Cells[1].Visible = false; //make the other cells invisible\n            e.Row.Cells[2].Visible = false;\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 2401, "user_id": 3377344, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7deCJ.jpg?s=128&g=1", "display_name": "psj01", "link": "https://stackoverflow.com/users/3377344/psj01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 36055478, "answer_count": 1, "score": 1, "last_activity_date": 1458204438, "creation_date": 1458165050, "question_id": 36047640, "link": "https://stackoverflow.com/questions/36047640/how-can-i-make-the-last-row-in-a-grid-views-colspan-equal-to-the-number-of-colu", "title": "How can I make the last row in a grid view&#39;s colspan equal to the number of columns in the grid view", "body": "<p>Hello I have a grid view i am creating and I want to have the last row of that grid view to have colspan equal to the total number of colums in the grid view.</p>\n\n<p>How can I do this programatically in c#.</p>\n\n<p>I tried to do :</p>\n\n<pre><code>protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)\n{\n     if (e.Row.RowType == DataControlRowType.DataRow)\n        {\n              e.Row.Cells[e.Row.Cells.Count-1].ColumnSpan = e.Row.Cells.Count-1;\n        }\n}\n</code></pre>\n\n<p>.... but that didn't do it.</p>\n\n<p>Here is a picture of what I am trying to do.. </p>\n\n<p><a href=\"https://i.stack.imgur.com/ijFBX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ijFBX.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "sockets", "c#-4.0", "tcpclient", "beginreceive"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 6055800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c062120891df6f3bb3849f51a867b8d?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Davis", "link": "https://stackoverflow.com/users/6055800/mark-davis"}, "is_accepted": false, "score": -1, "last_activity_date": 1458166433, "creation_date": 1458166433, "answer_id": 36047958, "question_id": 36047625, "link": "https://stackoverflow.com/questions/36047625/ansychronous-socket-client-receivecallback-not-executing/36047958#36047958", "title": "Ansychronous Socket Client ReceiveCallback not executing", "body": "<p>I would add this as a comment, but I don't have the reputation.</p>\n\n<ol>\n<li><p>Where are you calling this from? You should have a loop which is calling Receive once you've connected to your socket. Could you show us the code where Receive is being called?</p></li>\n<li><p>What is the value of StateObject.BufferSize?</p></li>\n<li><p>Are any exceptions being thrown?</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 5528260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cUE9F.jpg?s=128&g=1", "display_name": "Jiao", "link": "https://stackoverflow.com/users/5528260/jiao"}, "is_accepted": false, "score": 3, "last_activity_date": 1503106545, "last_edit_date": 1503106545, "creation_date": 1501056862, "answer_id": 45321110, "question_id": 36047625, "link": "https://stackoverflow.com/questions/36047625/ansychronous-socket-client-receivecallback-not-executing/45321110#45321110", "title": "Ansychronous Socket Client ReceiveCallback not executing", "body": "<p>Solution found at <a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/05dcda20-06f9-419b-bfc0-bcb8cfeb3693/socket-receivecallback-not-sending-notification-when-buffer-has-emptied?forum=csharpgeneral\" rel=\"nofollow noreferrer\">https://social.msdn.microsoft.com/Forums/vstudio/en-US/05dcda20-06f9-419b-bfc0-bcb8cfeb3693/socket-receivecallback-not-sending-notification-when-buffer-has-emptied?forum=csharpgeneral</a> </p>\n\n<p>Here is my fixing code. Check the \"Add to fix\" part please.</p>\n\n<pre><code>try\n        {\n            // Retrieve the state object and the client socket   \n            // from the asynchronous state object.  \n            StateObject state = (StateObject)ar.AsyncState;\n            Socket client = state.workSocket;\n            // Read data from the remote device.  \n            int bytesRead = client.EndReceive(ar);\n\n            if (bytesRead &gt; 0)\n            {\n                // There might be more data, so store the data received so far.  \n                state.sb.Append(Encoding.ASCII.GetString(state.buffer, 0, bytesRead));\n            }                                                       // Add to fix\n                                                                    // Add to fix\n            int bytesRemain = state.workSocket.Available;           // Add to fix\n            if (bytesRemain&gt;0)                                      // Add to fix\n            {                                                       // Add to fix\n                //  Get the rest of the data.  \n                client.BeginReceive(state.buffer, 0, StateObject.BufferSize, SocketFlags.None,\n                    new AsyncCallback(ReceiveCallback), state);\n            }\n            else\n            {\n                // All the data has arrived; put it in response.  \n\n                if (state.sb.Length &gt;= 1)                 //&lt;-- Fixed from&gt;1 to &gt;=1\n                    response = state.sb.ToString();\n                else\n                    response = \"\"; //OR null;\n\n                // Signal that all bytes have been received.  \n                receiveDone.Set();\n            }\n        }\n</code></pre>\n\n<p>Here is my analysis to why the orignal can't work:</p>\n\n<ul>\n<li>I send a msg to the server like \"*IDN?\". The server replied a message of 34 letters like \"Instrument ABC,xx,xx,xx\". It has been read successfully by the ReceiveCallBack. so the bytesRead = 34.</li>\n<li>But there is a check say if bytesRead >0, might be ,just might be there is still data there, so the ReceiveCallBack itself launched a new client.BeginReceive again.</li>\n<li>But this time, there is no data from the server. so the client wait and wait and wait, the ReceiveCallBack never been called back again ... </li>\n<li>So the else-branch of the ReceiveCallBack is never executed. Thus the 'response' variable never set and receiveDone never been Set either. </li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 5753829, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208365538884321/picture?type=large", "display_name": "Julio Sanchez", "link": "https://stackoverflow.com/users/5753829/julio-sanchez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1049, "favorite_count": 2, "answer_count": 2, "score": 1, "last_activity_date": 1503106545, "creation_date": 1458164969, "question_id": 36047625, "link": "https://stackoverflow.com/questions/36047625/ansychronous-socket-client-receivecallback-not-executing", "title": "Ansychronous Socket Client ReceiveCallback not executing", "body": "<p>Hi am am working on a C# Winforms Application using the sample code below:</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/bbx2eya8(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/bbx2eya8(v=vs.110).aspx</a></p>\n\n<p>It connects to the right IP address and port number but after sending a string command and waiting for a response the application gets stuck because the ReceiveCallback is not being executed therefore not setting the receiveDone ManualResetEvent. I am 100% sure im suppose to receive back a response but instead the application just gets stuck and does not execute the ReceiveCallback method. What could possibly be the reason why ReceiveCallback method is not being executed?</p>\n\n<pre><code>private static void Receive(Socket client)\n    {\n        try\n        {\n            // Create the state object.\n            StateObject state = new StateObject();\n            state.workSocket = client;\n\n            // Begin receiving the data from the remote device.\n            client.BeginReceive(state.buffer, 0, StateObject.BufferSize, 0,\n                new AsyncCallback(ReceiveCallback), state);\n        }\n        catch (Exception e)\n        {\n            Console.WriteLine(e.ToString());\n        }\n    }\n\n private static void ReceiveCallback(IAsyncResult ar)\n    {\n        try\n        {\n            // Retrieve the state object and the client socket \n            // from the asynchronous state object.\n            StateObject state = (StateObject)ar.AsyncState;\n            Socket client = state.workSocket;\n\n            // Read data from the remote device.\n            int bytesRead = client.EndReceive(ar);\n\n            if (bytesRead &gt; 0)\n            {\n                // There might be more data, so store the data received so far.\n                state.sb.Append(Encoding.ASCII.GetString(state.buffer, 0, bytesRead));\n\n                // Get the rest of the data.\n                client.BeginReceive(state.buffer, 0, StateObject.BufferSize, 0,\n                    new AsyncCallback(ReceiveCallback), state);\n            }\n            else {\n                // All the data has arrived; put it in response.\n                if (state.sb.Length &gt; 1)\n                {\n                    response = state.sb.ToString();\n                }\n                // Signal that all bytes have been received.\n                receiveDone.Set();\n            }\n        }\n        catch (Exception e)\n        {\n            Console.WriteLine(e.ToString());\n        }\n    }\n</code></pre>\n\n<p>Context: The application is an interface for a DC electric Torque Tool controller. I connect to the controllers Ip address and port 4545 than i am able to send Open Protocol commands to change settings.</p>\n"}, {"tags": ["c#", "repeater", "naming-containers"], "comments": [{"owner": {"reputation": 9742, "user_id": 207976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b84e403950c4fa57846fe0c655bee54e?s=128&d=identicon&r=PG", "display_name": "Dr. Wily&#39;s Apprentice", "link": "https://stackoverflow.com/users/207976/dr-wilys-apprentice"}, "edited": false, "score": 0, "creation_date": 1458165255, "post_id": 36047598, "comment_id": 59743885, "body": "I think you need to elaborate on the error/problem that you&#39;re experiencing. Are you saying that the SuggestComboBox class doesn&#39;t have a NamingContainer property and consequently the code doesn&#39;t compile? Or are you experiencing a problem at runtime? What does the SuggestComboBox class inherit from?"}, {"owner": {"reputation": 309, "user_id": 1736325, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c5e3ef13dfe18d0648a8f5ca38525d2f?s=128&d=identicon&r=PG", "display_name": "Jordan Wayne Crabb", "link": "https://stackoverflow.com/users/1736325/jordan-wayne-crabb"}, "reply_to_user": {"reputation": 9742, "user_id": 207976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b84e403950c4fa57846fe0c655bee54e?s=128&d=identicon&r=PG", "display_name": "Dr. Wily&#39;s Apprentice", "link": "https://stackoverflow.com/users/207976/dr-wilys-apprentice"}, "edited": false, "score": 0, "creation_date": 1458165401, "post_id": 36047598, "comment_id": 59743946, "body": "@Dr.Wily&#39;sApprentice Correct it will not compile, but it inherits from the ComboBox class that could use the NamingContainer. That&#39;s why I liked this solution in the first place, it should have been drop-in..."}, {"owner": {"reputation": 9742, "user_id": 207976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b84e403950c4fa57846fe0c655bee54e?s=128&d=identicon&r=PG", "display_name": "Dr. Wily&#39;s Apprentice", "link": "https://stackoverflow.com/users/207976/dr-wilys-apprentice"}, "edited": false, "score": 0, "creation_date": 1458165628, "post_id": 36047598, "comment_id": 59744057, "body": "Weird. It inherits from ComboBox, then it should have that property. Are you getting a runtime error, then, or compile-time? If runtime, well... the property is virtual, so theoretically the SuggestComboBox class could be overriding the implementation for some reason. Not sure why it would. That doesn&#39;t really help you with your problem... Ok, SuggestComboBox should at least have a Parent property, right? Try getting its parent and then using the naming container from that. Or, just use the FindControl method directly off of the SuggestComboBox or its parent."}, {"owner": {"reputation": 9742, "user_id": 207976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b84e403950c4fa57846fe0c655bee54e?s=128&d=identicon&r=PG", "display_name": "Dr. Wily&#39;s Apprentice", "link": "https://stackoverflow.com/users/207976/dr-wilys-apprentice"}, "edited": false, "score": 0, "creation_date": 1458166317, "post_id": 36047598, "comment_id": 59744377, "body": "Hmm. It may inherit from a class that is named ComboBox, but is that actually the same ComboBox class that you removed from the original implementation, or is it a different ComboBox class that happens to have the same name? BTW there isn&#39;t a ComboBox web control in the .NET framework; there&#39;s a DropDownList web control, though. There is a ComboBox WinForms control, though, just in case that&#39;s causing some confusion."}], "owner": {"reputation": 309, "user_id": 1736325, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c5e3ef13dfe18d0648a8f5ca38525d2f?s=128&d=identicon&r=PG", "display_name": "Jordan Wayne Crabb", "link": "https://stackoverflow.com/users/1736325/jordan-wayne-crabb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 570, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458164885, "creation_date": 1458164885, "question_id": 36047598, "link": "https://stackoverflow.com/questions/36047598/repeater-item-cant-find-namingcontainer", "title": "Repeater Item can&#39;t find NamingContainer", "body": "<p>I recently switched a ComboBox in my repeater to a SuggestComboBox (found: <a href=\"http://www.codeproject.com/Tips/631196/ComboBox-with-Suggest-Ability-based-on-Substring-S\" rel=\"nofollow\" title=\"here\">here</a>) because it is a contains search rather than a starts-with search. Previously, I was using NamingContainer of that ComboBox to find nearby elements. My new SuggestComboBox does not have this value but in my research on this problem, it looks like all children of a repeater should have this already?</p>\n\n<p>\"the NamingContainer property is available in code to any instance of that class or of a derived class.\" (found: <a href=\"https://msdn.microsoft.com/en-us/library/txxbk90b(v=vs.90).aspx\" rel=\"nofollow\">here</a>) </p>\n\n<p>What am I missing?</p>\n\n<p>Here's my repeater:</p>\n\n<pre><code>&lt;asp:Repeater ID=\"repHW\" runat=\"server\" OnItemCommand=\"rep_ItemCommand\"&gt;\n        &lt;HeaderTemplate&gt;\n            &lt;table style=\"width:100%; padding-bottom:10px\" id=\"HWtable\"&gt;\n                &lt;tr style=\"font-weight: bold\"&gt;&lt;td&gt;Product&lt;/td&gt;&lt;td&gt;Part Number&lt;/td&gt;&lt;td&gt;Cost&lt;/td&gt;&lt;td&gt;Unit Price&lt;/td&gt;&lt;td&gt;Quantity&lt;/td&gt;&lt;td&gt;Price&lt;/td&gt;&lt;td&gt;Delete&lt;/td&gt;&lt;/tr&gt;\n        &lt;/HeaderTemplate&gt;\n        &lt;ItemTemplate&gt;\n                &lt;tr&gt;\n                    &lt;asp:HiddenField ID=\"Category\" Value=\"Hardware\" runat=\"server\"/&gt;\n                    &lt;td&gt;&lt;asp:Label ID=\"Product\" runat=\"server\" Text='&lt;%# DataBinder.Eval(Container.DataItem, \"Product.Name\") %&gt;' /&gt;&lt;/td&gt; &lt;!--TODO: make this clickable to edit --&gt;\n                    &lt;td&gt;&lt;asp:Label ID=\"PartNumber\" runat=\"server\" Text='&lt;%# DataBinder.Eval(Container.DataItem, \"Product.PartNumber\") %&gt;' /&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;asp:Label ID=\"PartCost\" runat=\"server\" Text='&lt;%# DataBinder.Eval(Container.DataItem, \"Product.Cost\") %&gt;' /&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;asp:Label ID=\"UnitPrice\" runat=\"server\" Text='&lt;%# DataBinder.Eval(Container.DataItem, \"Product.Price\") %&gt;' /&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;asp:Label ID=\"Quantity\" runat=\"server\" Text='&lt;%# Eval(\"Quantity\") %&gt;' /&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;asp:Label ID=\"Price\" runat=\"server\" Text='&lt;%# Eval(\"Total\") %&gt;' /&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;asp:Button class=\"btn btn-danger\" ID=\"DeleteHardware\" runat=\"server\" Text=\"Delete\" CommandName=\"Delete\" CommandArgument='&lt;%# Container.ItemIndex %&gt;'/&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n        &lt;/ItemTemplate&gt;\n        &lt;FooterTemplate&gt;\n                &lt;tr&gt;\n                    &lt;asp:HiddenField ID=\"AddCategory\" Value=\"Hardware\" runat=\"server\"/&gt;\n                    &lt;td&gt;&lt;SuggestComboBox runat=\"server\" ID=\"AddProduct\" AutoCompleteMode=\"SuggestAppend\" AutoPostBack=\"true\" OnSelectedIndexChanged=\"ProductSelected\" OnDataBinding=\"LoadHardwareProducts\"/&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;asp:TextBox runat=\"server\" ID=\"AddPartNumber\" ClientIDMode=\"static\"/&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;asp:TextBox runat=\"server\" ID=\"AddPartCost\" ClientIDMode=\"static\"/&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;asp:TextBox runat=\"server\" ID=\"AddUnitPrice\" ClientIDMode=\"static\"/&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;asp:TextBox runat=\"server\" ID=\"AddQuantity\" ClientIDMode=\"static\"/&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;asp:Button class=\"btn btn-success\" ID=\"AddHardware\" runat=\"server\" Text=\"Add\" CommandName=\"Add\" CommandArgument='&lt;%# Container.ItemIndex %&gt;' onClientClick=\"return EmptyFieldCheck('Hardware');\"/&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;    \n        &lt;/FooterTemplate&gt;\n    &lt;/asp:Repeater&gt;\n</code></pre>\n\n<p>and here's my function I am trying to access the other elements in:</p>\n\n<pre><code>protected void ProductSelected(Object source, EventArgs e)\n    {\n        SuggestComboBox temp = (SuggestComboBox)source;\n\n        List&lt;Product&gt; results = session.Query&lt;Product&gt;()\n            .Where(x =&gt; x.Name == temp.Text)\n            .ToList();\n\n\n        if(results.Count &gt; 0)\n        {\n            Product p = results[0];\n\n            var repParent = temp.NamingContainer; //this broke\n\n            TextBox partNum = (TextBox)repParent.FindControl(\"AddPartNumber\");\n            TextBox partCost = (TextBox)repParent.FindControl(\"AddPartCost\");\n            TextBox unitPrice = (TextBox)repParent.FindControl(\"AddUnitPrice\");\n            TextBox quantity = (TextBox)repParent.FindControl(\"AddQuantity\");\n\n            partNum.Text        = p.PartNumber;\n            partCost.Text       = p.Cost.ToString();\n            unitPrice.Text      = p.Price.ToString();\n            quantity.Text       = p.DefaultQuantity.ToString();\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "sql", "ms-access-2010", "oledb", "rdbms"], "comments": [{"owner": {"reputation": 12155, "user_id": 35142, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b935a7d95c904243e5bc325587927fe9?s=128&d=identicon&r=PG", "display_name": "Bob Kaufman", "link": "https://stackoverflow.com/users/35142/bob-kaufman"}, "edited": false, "score": 1, "creation_date": 1458164886, "post_id": 36047546, "comment_id": 59743709, "body": "Can you replace <code>*</code> with a list of only the fieldnames you actually need? This may help reduce the complexity of your query."}, {"owner": {"reputation": 1314, "user_id": 3277640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Hhgk2.jpg?s=128&g=1", "display_name": "Mr Rubix", "link": "https://stackoverflow.com/users/3277640/mr-rubix"}, "reply_to_user": {"reputation": 12155, "user_id": 35142, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b935a7d95c904243e5bc325587927fe9?s=128&d=identicon&r=PG", "display_name": "Bob Kaufman", "link": "https://stackoverflow.com/users/35142/bob-kaufman"}, "edited": false, "score": 0, "creation_date": 1458165042, "post_id": 36047546, "comment_id": 59743785, "body": "@Bob Kaufman - No, because i need every Column"}, {"owner": {"reputation": 8942, "user_id": 4197505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z0zSl.jpg?s=128&g=1", "display_name": "Thomas G", "link": "https://stackoverflow.com/users/4197505/thomas-g"}, "edited": false, "score": 1, "creation_date": 1458165406, "post_id": 36047546, "comment_id": 59743950, "body": "Its normal that an Access DB grows, your issue 1 is maybe related to your issue 2: you should make compact/repair of your DB ona regular basis. That removes all garbage which decrease the size, and increase the perfs"}, {"owner": {"reputation": 1314, "user_id": 3277640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Hhgk2.jpg?s=128&g=1", "display_name": "Mr Rubix", "link": "https://stackoverflow.com/users/3277640/mr-rubix"}, "reply_to_user": {"reputation": 8942, "user_id": 4197505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z0zSl.jpg?s=128&g=1", "display_name": "Thomas G", "link": "https://stackoverflow.com/users/4197505/thomas-g"}, "edited": false, "score": 0, "creation_date": 1458165751, "post_id": 36047546, "comment_id": 59744113, "body": "@ThomasG - The compact/repair was a good idea My DB Goes from 197MB to 20 MB, But my first problem is not resolved, stil have long delay +- 1/50"}, {"owner": {"reputation": 1205, "user_id": 4595472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9F0WH.png?s=128&g=1", "display_name": "LordBaconPants", "link": "https://stackoverflow.com/users/4595472/lordbaconpants"}, "edited": false, "score": 1, "creation_date": 1458165999, "post_id": 36047546, "comment_id": 59744220, "body": "Depending on what your application is for I would suggest moving to a slightly more capable RDBMS. Probably MSSQLServer Express (again, depending on your application) That will give it some dedicated resources to run your query"}, {"owner": {"reputation": 1314, "user_id": 3277640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Hhgk2.jpg?s=128&g=1", "display_name": "Mr Rubix", "link": "https://stackoverflow.com/users/3277640/mr-rubix"}, "reply_to_user": {"reputation": 1205, "user_id": 4595472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9F0WH.png?s=128&g=1", "display_name": "LordBaconPants", "link": "https://stackoverflow.com/users/4595472/lordbaconpants"}, "edited": false, "score": 0, "creation_date": 1458166771, "post_id": 36047546, "comment_id": 59744575, "body": "@LordBaconPants I would like to move to Mysql, Is it right to say that Mysql is as fast as MSSQLServer Express ?"}, {"owner": {"reputation": 1205, "user_id": 4595472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9F0WH.png?s=128&g=1", "display_name": "LordBaconPants", "link": "https://stackoverflow.com/users/4595472/lordbaconpants"}, "edited": false, "score": 1, "creation_date": 1458167057, "post_id": 36047546, "comment_id": 59744693, "body": "@MrRubix I&#39;m not familiar enough with either anymore to give you a good answer on that one. SQLExpress has (had?) some hard limits put on it that mySQL may not, like RAM useage. It may pay to check out the latest offering of both and compare as I&#39;m sure they have changed since I last looked"}, {"owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "edited": false, "score": 3, "creation_date": 1458174376, "post_id": 36047546, "comment_id": 59747318, "body": "Please remember that Stack Overflow is a &quot;Question and Answer&quot; site, not a site for extended, meandering discussions. Please limit your questions to a single topic, in this case the occasional delays in executing your query. The additional &quot;database bloat&quot; issue is a duplicate, and the &quot;should I switch databases&quot;  and &quot;is MySQL as fast as MSSQL&quot; tangents are off-topic."}, {"owner": {"reputation": 24095, "user_id": 3820271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxCoE.jpg?s=128&g=1", "display_name": "Andre", "link": "https://stackoverflow.com/users/3820271/andre"}, "edited": false, "score": 1, "creation_date": 1458201532, "post_id": 36047546, "comment_id": 59756426, "body": "Is this table (or the database) sometimes used by another user or another process?"}, {"owner": {"reputation": 1314, "user_id": 3277640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Hhgk2.jpg?s=128&g=1", "display_name": "Mr Rubix", "link": "https://stackoverflow.com/users/3277640/mr-rubix"}, "reply_to_user": {"reputation": 24095, "user_id": 3820271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxCoE.jpg?s=128&g=1", "display_name": "Andre", "link": "https://stackoverflow.com/users/3820271/andre"}, "edited": false, "score": 0, "creation_date": 1458213474, "post_id": 36047546, "comment_id": 59764605, "body": "@Andre - good question but no, the database is only used by my main program !"}, {"owner": {"reputation": 24095, "user_id": 3820271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxCoE.jpg?s=128&g=1", "display_name": "Andre", "link": "https://stackoverflow.com/users/3820271/andre"}, "edited": false, "score": 3, "creation_date": 1458214627, "post_id": 36047546, "comment_id": 59765422, "body": "Hmm. Maybe it <i>is</i> your own program. If you need to take the 50 newest records every 30 seconds, I assume there are quite a few inserts going on. Are those processes running asynchronously? --- My best guess is a locking conflict. You&#39;d have to expand your question with details about the whole setup, so we can make more educated guesses..."}, {"owner": {"reputation": 16599, "user_id": 24472, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2020a7f739da6d67e7deb61ed40ba0a6?s=128&d=identicon&r=PG", "display_name": "Larry", "link": "https://stackoverflow.com/users/24472/larry"}, "edited": false, "score": 1, "creation_date": 1458219830, "post_id": 36047546, "comment_id": 59769317, "body": "Is ID indexed (sorry for asking) ? By the way, using a transaction (even for a select) speeds things a lot."}, {"owner": {"reputation": 1314, "user_id": 3277640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Hhgk2.jpg?s=128&g=1", "display_name": "Mr Rubix", "link": "https://stackoverflow.com/users/3277640/mr-rubix"}, "reply_to_user": {"reputation": 16599, "user_id": 24472, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2020a7f739da6d67e7deb61ed40ba0a6?s=128&d=identicon&r=PG", "display_name": "Larry", "link": "https://stackoverflow.com/users/24472/larry"}, "edited": false, "score": 0, "creation_date": 1458220134, "post_id": 36047546, "comment_id": 59769529, "body": "@Larry - Yes ID is indexed, I checked."}, {"owner": {"reputation": 1314, "user_id": 3277640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Hhgk2.jpg?s=128&g=1", "display_name": "Mr Rubix", "link": "https://stackoverflow.com/users/3277640/mr-rubix"}, "reply_to_user": {"reputation": 24095, "user_id": 3820271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxCoE.jpg?s=128&g=1", "display_name": "Andre", "link": "https://stackoverflow.com/users/3820271/andre"}, "edited": false, "score": 0, "creation_date": 1458225112, "post_id": 36047546, "comment_id": 59773540, "body": "@Andre I find out that this function is triggered at each 5 seconds and an other function is triggered just before this one. Can rapid access to DB can be dangerous ?"}, {"owner": {"reputation": 24095, "user_id": 3820271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxCoE.jpg?s=128&g=1", "display_name": "Andre", "link": "https://stackoverflow.com/users/3820271/andre"}, "edited": false, "score": 1, "creation_date": 1458225493, "post_id": 36047546, "comment_id": 59773865, "body": "Not if the functions run strictly in succession, i.e. the second doesn&#39;t start until the first has completely finished. But if they run in parallel, you can get locking conflicts."}, {"owner": {"reputation": 1314, "user_id": 3277640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Hhgk2.jpg?s=128&g=1", "display_name": "Mr Rubix", "link": "https://stackoverflow.com/users/3277640/mr-rubix"}, "reply_to_user": {"reputation": 24095, "user_id": 3820271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxCoE.jpg?s=128&g=1", "display_name": "Andre", "link": "https://stackoverflow.com/users/3820271/andre"}, "edited": false, "score": 0, "creation_date": 1458225574, "post_id": 36047546, "comment_id": 59773918, "body": "@Andre In my log file i can see that they run in succession !"}], "owner": {"reputation": 1314, "user_id": 3277640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Hhgk2.jpg?s=128&g=1", "display_name": "Mr Rubix", "link": "https://stackoverflow.com/users/3277640/mr-rubix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 336, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1458314606, "creation_date": 1458164668, "last_edit_date": 1458314606, "question_id": 36047546, "link": "https://stackoverflow.com/questions/36047546/c-ms-access-oledb-command-executereader-take-sometime-really-long-time-to", "title": "C#, MS ACCESS - OleDb Command.ExecuteReader() take sometime really long time to execute", "body": "<p>I have a Table in my MS Access DataBase which contain 60K+ rows and\ni need to take the 50 newest row every 30 Seconds.</p>\n\n<p>I use this query :</p>\n\n<pre><code>\"SELECT TOP 50 * FROM MY_TABLE ORDER BY ID DESC\"\n</code></pre>\n\n<p>The problem is that once in a while (+- 1/50) the query take more than 10 Seconds to execute and normaly the average time is 0.03 second.</p>\n\n<p>I experienced the same behaviour with a 10K rows and with only five rows but with smaller delays.</p>\n\n<p>1) Did someone have ever experienced something similar with MS Access Or with the Command.ExecuteReader() function ? Is that a C# problem or a MS ACCES problem ?</p>\n\n<p>C# - The Delay appear once in a while when i execute my reader </p>\n\n<pre><code>RunSQLReaderMyTable(myCommand.ExecuteReader());\n</code></pre>\n\n<p>The problem is not in the RunSQLReaderMyTable function because i have timewatch and i can see that the MyCommand.ExecuteReader() is the problem.</p>\n\n<pre><code>//SELECT ROWS FROM MY_TABLE\npublic static DataTable SelectTopMyTable()\n{\n    using (OleDbConnection con = new OleDbConnection(ConnStr))\n    {\n        string tmpStr = \"SELECT TOP 50 * FROM HISTORIQUE ORDER BY ID DESC\";\n\n        using (OleDbCommand myCommand = new OleDbCommand(tmpStr, con))\n        {\n            if (IsConnectedToAccess())\n            {\n                try\n                {\n                    con.Open();\n                    return RunSQLReaderMyTable(myCommand.ExecuteReader());\n                catch (Exception err)\n                {\n                    MessageBox.Show(err.ToString());\n                    return null;\n                }\n            else\n            {\n                MessageBox.Show(\"Erreur de connexion a Access. Veuillez tenter de vous reconnecter.\");\n                return null;\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "json"], "comments": [{"owner": {"reputation": 469, "user_id": 1090173, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fe9f232626e0011e05d983f23a4e27ab?s=128&d=identicon&r=PG", "display_name": "Quintium", "link": "https://stackoverflow.com/users/1090173/quintium"}, "edited": false, "score": 1, "creation_date": 1458164447, "post_id": 36047410, "comment_id": 59743507, "body": "Content-Type is incorrect for a JSON request body. Try &quot;application/json&quot; instead of &quot;x-www-form-urlencoded&quot; (which is for standard form query string data)"}, {"owner": {"reputation": 61, "user_id": 6073916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9a3281d21e793db217689e2c025c7f5?s=128&d=identicon&r=PG&f=1", "display_name": "BanggaDad", "link": "https://stackoverflow.com/users/6073916/banggadad"}, "reply_to_user": {"reputation": 469, "user_id": 1090173, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fe9f232626e0011e05d983f23a4e27ab?s=128&d=identicon&r=PG", "display_name": "Quintium", "link": "https://stackoverflow.com/users/1090173/quintium"}, "edited": false, "score": 0, "creation_date": 1458166114, "post_id": 36047410, "comment_id": 59744270, "body": "Thank you Quintium. Probably it was my mistake to use JSON in the request while the content type is for query string data. I&#39;ve updated the codes below and still get 400 bad request error."}, {"owner": {"reputation": 5782, "user_id": 847853, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40ce3c617bd44d107c176e812e4c01ad?s=128&d=identicon&r=PG", "display_name": "Low Flying Pelican", "link": "https://stackoverflow.com/users/847853/low-flying-pelican"}, "edited": false, "score": 0, "creation_date": 1458167332, "post_id": 36047410, "comment_id": 59744817, "body": "Could be completely unrelated, but usually authentication data sent in the header, and could this be the reason?"}, {"owner": {"reputation": 5830, "user_id": 3776927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb2cca9626c6d445bd05297be86251?s=128&d=identicon&r=PG&f=1", "display_name": "derpirscher", "link": "https://stackoverflow.com/users/3776927/derpirscher"}, "edited": false, "score": 0, "creation_date": 1458175631, "post_id": 36047410, "comment_id": 59747664, "body": "Well, that also depends on the API you are posting to. 400 most of the time means, there is something wrong with the data. Hard to say what without knowing the target specification. It may be a missing value, wrong data format (json vs urlencoded), mismatch between Content type and data. Or the developer was just lazy and returns 400 on any error. And many reasons more"}, {"owner": {"reputation": 469, "user_id": 1090173, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fe9f232626e0011e05d983f23a4e27ab?s=128&d=identicon&r=PG", "display_name": "Quintium", "link": "https://stackoverflow.com/users/1090173/quintium"}, "edited": false, "score": 0, "creation_date": 1458231628, "post_id": 36047410, "comment_id": 59778733, "body": "You will also need to set the Content-Length when using POST."}], "answers": [{"comments": [{"owner": {"reputation": 2458, "user_id": 132461, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e16c1541f181ce2c1cd65d66c7d22b4?s=128&d=identicon&r=PG", "display_name": "DanO", "link": "https://stackoverflow.com/users/132461/dano"}, "edited": false, "score": 1, "creation_date": 1563995207, "post_id": 36048030, "comment_id": 100889240, "body": "There is now a WebRequest.CreateHttp() constructor you can use to be more explicit and avoid the casting."}], "tags": [], "owner": {"reputation": 1599, "user_id": 1940851, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1286f9ab34446e80956701f981340bb5?s=128&d=identicon&r=PG", "display_name": "Kent Kostelac", "link": "https://stackoverflow.com/users/1940851/kent-kostelac"}, "is_accepted": false, "score": 26, "last_activity_date": 1588946214, "last_edit_date": 1588946214, "creation_date": 1458166713, "answer_id": 36048030, "question_id": 36047410, "link": "https://stackoverflow.com/questions/36047410/c-json-post-using-httpwebrequest/36048030#36048030", "title": "C# JSON Post using HttpWebRequest", "body": "<p>Here is a precise and accurate example of a POST request and reading the response(though without serializing the JSON data). Only mistake I see so far in your code is an incorrect ContentType also we can't see what url you are trying to send the server(but odds are that it is incorrect). Hope it helps you advance.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Net;\nusing System.IO;\n\nnamespace SExperiment\n{\n    class MainClass\n    {\n        public static void Main(string[] args)\n        {\n            try{\n                string webAddr=\"http://gurujsonrpc.appspot.com/guru\";\n\n                var httpWebRequest = WebRequest.CreateHttp(webAddr);\n                httpWebRequest.ContentType = \"application/json; charset=utf-8\";\n                httpWebRequest.Method = \"POST\";    \n\n                using (var streamWriter = new StreamWriter(httpWebRequest.GetRequestStream()))\n                {\n                    string json = \"{ \\\"method\\\" : \\\"guru.test\\\", \\\"params\\\" : [ \\\"Guru\\\" ], \\\"id\\\" : 123 }\";\n\n                    streamWriter.Write(json);\n                    streamWriter.Flush();\n                }\n                var httpResponse = (HttpWebResponse)httpWebRequest.GetResponse();\n                using (var streamReader = new StreamReader(httpResponse.GetResponseStream()))\n                {\n                    var responseText = streamReader.ReadToEnd();\n                    Console.WriteLine(responseText);\n\n                    //Now you have your response.\n                    //or false depending on information in the response     \n                }\n            }catch(WebException ex){\n                Console.WriteLine(ex.Message);\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5830, "user_id": 3776927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb2cca9626c6d445bd05297be86251?s=128&d=identicon&r=PG&f=1", "display_name": "derpirscher", "link": "https://stackoverflow.com/users/3776927/derpirscher"}, "edited": false, "score": 1, "creation_date": 1458174802, "post_id": 36048157, "comment_id": 59747418, "body": "I&#39;m quite sure, he used the correct URL in his original Code, as otherwise he would have gotten an DNS error instead of a 400 Bad request."}], "tags": [], "owner": {"reputation": 26, "user_id": 6055800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c062120891df6f3bb3849f51a867b8d?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Davis", "link": "https://stackoverflow.com/users/6055800/mark-davis"}, "is_accepted": false, "score": -3, "last_activity_date": 1458167228, "creation_date": 1458167228, "answer_id": 36048157, "question_id": 36047410, "link": "https://stackoverflow.com/questions/36047410/c-json-post-using-httpwebrequest/36048157#36048157", "title": "C# JSON Post using HttpWebRequest", "body": "<p>You have set requestUrl to \"some URL\". Please try with a web address that exists, in addition to changing the content type to \"application/json\".</p>\n"}], "owner": {"reputation": 61, "user_id": 6073916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9a3281d21e793db217689e2c025c7f5?s=128&d=identicon&r=PG&f=1", "display_name": "BanggaDad", "link": "https://stackoverflow.com/users/6073916/banggadad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68221, "favorite_count": 3, "answer_count": 2, "score": 6, "last_activity_date": 1588946214, "creation_date": 1458164126, "last_edit_date": 1458166482, "question_id": 36047410, "link": "https://stackoverflow.com/questions/36047410/c-json-post-using-httpwebrequest", "title": "C# JSON Post using HttpWebRequest", "body": "<p>I am new to JSON and C# and trying to write a code that will perform an http web request POST to get a token. Below is my code but I keep getting 400 bad request. Probably my codes just incorrect and I will appreciate for any helps on this. Below is my codes :</p>\n\n<pre><code>    static public string GetAuthorizationToken()\n                {\n                    string token = string.Empty;\n\n                    string requestUrl = \"some URL\";\n                    HttpWebRequest httpWebRequest = WebRequest.Create(requestUrl) as HttpWebRequest;\n                    httpWebRequest.Method = \"POST\";\n                    httpWebRequest.ContentType = \"x-www-form-urlencoded\";\n\n\n                    Dictionary&lt;string, string&gt; postParameters = new Dictionary&lt;string, string&gt;();\n                    postParameters.Add(\"grant\", \"some credentials\");\n                    postParameters.Add(\"id\", \"1234123411\");\n                    postParameters.Add(\"secret\", \"1234123411\");\n                    postParameters.Add(\"scope\", \"abcd\");\n\n                    string postData = \"\";\n\n                    foreach (string key in postParameters.Keys)\n                    {\n                        postData += WebUtility.UrlEncode(key) + \"=\"\n                              + WebUtility.UrlEncode(postParameters[key]) + \"&amp;\";\n                    }                       \n\n                    byte[] data = Encoding.ASCII.GetBytes(postData);\n\n                    httpWebRequest.ContentLength = data.Length;\n\n                    Stream requestStream = httpWebRequest.GetRequestStream();\n                    requestStream.Write(data, 0, data.Length);\n                    requestStream.Close();\n\n                    TokenResponse tokenResponse = new TokenResponse();\n\n                    using (HttpWebResponse response = httpWebRequest.GetResponse() as HttpWebResponse)\n                    {\n                        if (response.StatusCode != HttpStatusCode.OK)\n                            throw new Exception(String.Format(\n                            \"Server error (HTTP {0}: {1}).\",\n                            response.StatusCode,\n                            response.StatusDescription));\n\n                        DataContractJsonSerializer responseSerializer = new DataContractJsonSerializer(typeof(TokenResponse));\n                        Stream responseStream = response.GetResponseStream();\n                        object objResponse = responseSerializer.ReadObject(responseStream);\n\n                        tokenResponse = objResponse as TokenResponse;\n                        response.Close();\n\n                        if (tokenResponse != null)\n                        {\n                            return tokenResponse.accessToken;\n                        }\n                    }\n                    return token;\n    }\n</code></pre>\n"}, {"tags": ["c#", "dependency-injection", "asp.net-core"], "comments": [{"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1458165090, "post_id": 36047355, "comment_id": 59743807, "body": "You could probably create a second <code>ServiceCollection</code> for your <code>&#47;Test</code> routes. Not sure if it\u2019s possible to automatically inject that for a subpath though."}], "answers": [{"tags": [], "owner": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "is_accepted": false, "score": 0, "last_activity_date": 1458204281, "creation_date": 1458204281, "answer_id": 36055426, "question_id": 36047355, "link": "https://stackoverflow.com/questions/36047355/aspnet-core-route-mapping-with-different-dependency-injection/36055426#36055426", "title": "AspNet Core Route Mapping with different Dependency Injection", "body": "<p>I wouldn't suggest you trying to do it this way, you just make your job harder. </p>\n\n<p>Instead rather use what ASP.NET Core offers you: Environment specific configurations. For that you'd be required to run two different applications, but the setup can still be in the same project, you just change the environment variable. </p>\n\n<p>For this you first need a <code>launchSettings.json</code> with the settings. </p>\n\n<p>Example from the documentation</p>\n\n<pre><code>{\n  \"iisSettings\": {\n    \"windowsAuthentication\": false,\n    \"anonymousAuthentication\": true,\n    \"iisExpress\": {\n      \"applicationUrl\": \"http://localhost:40088/\",\n      \"sslPort\": 0\n    }\n  },\n  \"profiles\": {\n    \"IIS Express\": {\n      \"commandName\": \"IISExpress\",\n      \"launchBrowser\": true,\n      \"environmentVariables\": {\n        \"ASPNET_ENV\": \"Development\"\n      }\n    },\n    \"web\": {\n      \"commandName\": \"web\",\n      \"environmentVariables\": {\n        \"Hosting:Environment\": \"Staging\"\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Here the Environment is set to \"Staging\". Next you need to define a configuration for it. </p>\n\n<pre><code>using Microsoft.AspNet.Builder;\n\nnamespace Environments\n{\n    public class StartupStaging\n    {\n        public void Configure(IApplicationBuilder app)\n        {\n            app.UseWelcomePage();\n        }\n    }\n}\n\nnamespace Environments\n{\n    public class Startup\n    {\n        public void Configure(IApplicationBuilder app)\n        {\n            app.UseWelcomePage();\n        }\n    }\n}\n</code></pre>\n\n<p>Now, when your environment is set to <code>Production</code>, the <code>Startup</code> class will be called (or <code>StartupProduction</code> if existing). If your environment variable is set to <code>Staging</code>, the <code>StartupStaging</code> will be called. </p>\n\n<p>As for the different urls... In your production application, you set it to </p>\n\n<pre><code>\"iisExpress\": {\n  \"applicationUrl\": \"http://example.com/\",\n  \"sslPort\": 0\n}\n</code></pre>\n\n<p>and your test environment</p>\n\n<pre><code>\"iisExpress\": {\n  \"applicationUrl\": \"http://example.com/Test/\",\n  \"sslPort\": 0\n}\n</code></pre>\n\n<p>Code/Configuration Snippets are taken from the <a href=\"http://docs.asp.net/en/latest/fundamentals/environments.html\" rel=\"nofollow\">ASP.NET Core Docs</a>. Or just use the <code>hosting.json</code> for different environments. </p>\n\n<p><code>hosting.json</code></p>\n\n<pre><code>{\n  \"server\": \"Microsoft.AspNet.Server.Kestrel\",\n  \"server.urls\": \"http://example.com/\"\n}\n</code></pre>\n\n<p>On top of my head I think you can also have multiple files called <code>hosting.production.json</code> etc. </p>\n"}], "owner": {"reputation": 1089, "user_id": 1322584, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d09de23ae9b5c51185c2067979ffc0ee?s=128&d=identicon&r=PG", "display_name": "Gekctek", "link": "https://stackoverflow.com/users/1322584/gekctek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458204281, "creation_date": 1458163870, "question_id": 36047355, "link": "https://stackoverflow.com/questions/36047355/aspnet-core-route-mapping-with-different-dependency-injection", "title": "AspNet Core Route Mapping with different Dependency Injection", "body": "<p>I am currently working on a project in which I want to use on server for two different purposes, a test mode and a published mode. I am using AspNet core and the middleware pipeline to try to accomplish this. I want something along the lines of anything \"/Test\" in the url to do one thing and everything else to do the other mode. Normally I know how to solve these issues because AspNet Core middleware allows mapping to paths with app.Map(\"/Test\", ...) but the problem with this is they both use the same pipeline, just different dependency injection/IoC container. From what I see the ConfigureServices method runs before the Configure method and has no configuration for per request paths on what services to use. So I just need a way to have the same pipeline but different requests use different Services for the IoC Container.</p>\n"}, {"tags": ["c#", "list", "exception", "collections"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458164034, "post_id": 36047343, "comment_id": 59743313, "body": "Are you using an int to index a very large array.  Use a long instead."}, {"owner": {"reputation": 230, "user_id": 6013591, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/926bf52203bbc7670019700de5fcc514?s=128&d=identicon&r=PG&f=1", "display_name": "KOPEUE", "link": "https://stackoverflow.com/users/6013591/kopeue"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458164133, "post_id": 36047343, "comment_id": 59743365, "body": "it will iterate 8^8 times - 1.67 million times so it shouldn&#39;t be a problem for int"}, {"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1458164218, "post_id": 36047343, "comment_id": 59743399, "body": "Are you showing all relevant code? I don&#39;t see where <code>minataKolona</code> is assigned."}, {"owner": {"reputation": 415, "user_id": 1570093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/01f035b57df122d980a84e826f64bbd3?s=128&d=identicon&r=PG", "display_name": "Tim Freese", "link": "https://stackoverflow.com/users/1570093/tim-freese"}, "edited": false, "score": 0, "creation_date": 1458164541, "post_id": 36047343, "comment_id": 59743558, "body": "not to nit-pick but 8^8 is 16777216"}, {"owner": {"reputation": 230, "user_id": 6013591, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/926bf52203bbc7670019700de5fcc514?s=128&d=identicon&r=PG&f=1", "display_name": "KOPEUE", "link": "https://stackoverflow.com/users/6013591/kopeue"}, "edited": false, "score": 0, "creation_date": 1458164632, "post_id": 36047343, "comment_id": 59743615, "body": "correct, still not a problem for int"}, {"owner": {"reputation": 14974, "user_id": 5178207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ScDIA.jpg?s=128&g=1", "display_name": "Arturo Menchaca", "link": "https://stackoverflow.com/users/5178207/arturo-menchaca"}, "edited": false, "score": 0, "creation_date": 1458164752, "post_id": 36047343, "comment_id": 59743650, "body": "The problem is when you clear <code>minatRed</code> the lists inside <code>minMinatRed</code> are cleared too?"}, {"owner": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1458164782, "post_id": 36047343, "comment_id": 59743665, "body": "where do you set size and numberofvariations? (its not included)"}, {"owner": {"reputation": 230, "user_id": 6013591, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/926bf52203bbc7670019700de5fcc514?s=128&d=identicon&r=PG&f=1", "display_name": "KOPEUE", "link": "https://stackoverflow.com/users/6013591/kopeue"}, "edited": false, "score": 0, "creation_date": 1458164795, "post_id": 36047343, "comment_id": 59743674, "body": "yes that&#39;s the problem, also when i add values to <code>minatRed</code> they instantly get added to <code>minMinatRed</code> also added <code>numberOfVariations</code> to the question"}, {"owner": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1458164993, "post_id": 36047343, "comment_id": 59743758, "body": "I think you have more code than you&#39;re showing.. its really hard when you just show snippets"}, {"owner": {"reputation": 582, "user_id": 4183902, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/60cf1ae3cd746d6c170017a3cf2a8edc?s=128&d=identicon&r=PG&f=1", "display_name": "Adi Gerber", "link": "https://stackoverflow.com/users/4183902/adi-gerber"}, "edited": false, "score": 0, "creation_date": 1458165003, "post_id": 36047343, "comment_id": 59743763, "body": "Could you show the code for <code>UpdateList(novMinatRed, novaMinataKolona)</code>?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458165204, "post_id": 36047343, "comment_id": 59743863, "body": "Why are you testing minMinatRed.Count == 1000000 instead of minMinatRed.Count &gt;= 1000000?  If trueValue is never set to false count can be very large.  You should add a better method for exiting the while loop."}, {"owner": {"reputation": 230, "user_id": 6013591, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/926bf52203bbc7670019700de5fcc514?s=128&d=identicon&r=PG&f=1", "display_name": "KOPEUE", "link": "https://stackoverflow.com/users/6013591/kopeue"}, "edited": false, "score": 0, "creation_date": 1458165225, "post_id": 36047343, "comment_id": 59743871, "body": "I do have more code but im sure that all the magic is happening here. Since when it reaches <code>minatRed.Clear();</code> it just clears the nested list that means the other parts of my code aren&#39;t important.. i dont have any function that can do such a thing"}, {"owner": {"reputation": 230, "user_id": 6013591, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/926bf52203bbc7670019700de5fcc514?s=128&d=identicon&r=PG&f=1", "display_name": "KOPEUE", "link": "https://stackoverflow.com/users/6013591/kopeue"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458165255, "post_id": 36047343, "comment_id": 59743884, "body": "@jdweng i wrote that in my question it&#39;s just for testing purposes"}], "answers": [{"tags": [], "owner": {"reputation": 14974, "user_id": 5178207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ScDIA.jpg?s=128&g=1", "display_name": "Arturo Menchaca", "link": "https://stackoverflow.com/users/5178207/arturo-menchaca"}, "is_accepted": true, "score": 5, "last_activity_date": 1458165723, "last_edit_date": 1458165723, "creation_date": 1458165234, "answer_id": 36047687, "question_id": 36047343, "link": "https://stackoverflow.com/questions/36047343/c-losing-values-in-a-nested-list/36047687#36047687", "title": "C# Losing values in a nested List", "body": "<p>The problem is <code>List&lt;T&gt;</code> is a type by reference, therefore, when you add the lists <code>minatRed</code> and <code>minataKolona</code> to <code>minMinatRed</code> and <code>minMinataKolona</code> respectively, you're not creating a new (cloned) list.</p>\n\n<p>All lists in <code>minMinatRed</code> (<code>minMinataKolona</code>) points to the same one: <code>minatRed</code> (<code>minataKolona</code>), so when you clear <code>minatRed</code> (or <code>minataKolona</code>), all lists in <code>minMinatRed</code> (or <code>minMinataKolona</code>) are cleared too, since actually are the same list.</p>\n\n<p>You can solve this declaring <code>minatRed</code> and <code>minataKolona</code> inside the <code>for</code> loop:</p>\n\n<pre><code>for (int i = 0; i &lt; numberOfVariations; i++)\n{\n    var minatRed = new List&lt;int&gt;();\n    var minataKolona = new List&lt;int&gt;();\n    ...\n</code></pre>\n\n<p>And of course you can't empty the lists:</p>\n\n<pre><code>//minataKolona.Clear();  Comment this lines or just remove it\n//minatRed.Clear();      Comment this lines or just remove it\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": false, "score": 0, "last_activity_date": 1458166105, "creation_date": 1458166105, "answer_id": 36047885, "question_id": 36047343, "link": "https://stackoverflow.com/questions/36047343/c-losing-values-in-a-nested-list/36047885#36047885", "title": "C# Losing values in a nested List", "body": "<p>I agree with Arturo.  Normally the code would look something like code below.  I can't tell from your code where the equivalent to newRow (novMinatRed) is ever being cleared.</p>\n\n<pre><code>            List&lt;List&lt;int&gt;&gt; minMinatRed = new List&lt;List&lt;int&gt;&gt;();\n             for (int i = 0; i &lt; 10; i++)\n             {\n                 List&lt;int&gt; newRow = new List&lt;int&gt;();\n                 minMinatRed.Add(newRow);\n                 for (int j = 0; j &lt; 10; j++)\n                 {\n                     newRow.Add(j);\n                 }\n             }\n</code></pre>\n"}], "owner": {"reputation": 230, "user_id": 6013591, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/926bf52203bbc7670019700de5fcc514?s=128&d=identicon&r=PG&f=1", "display_name": "KOPEUE", "link": "https://stackoverflow.com/users/6013591/kopeue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 36047687, "answer_count": 2, "score": 2, "last_activity_date": 1458166105, "creation_date": 1458163827, "last_edit_date": 1458165372, "question_id": 36047343, "link": "https://stackoverflow.com/questions/36047343/c-losing-values-in-a-nested-list", "title": "C# Losing values in a nested List", "body": "<p>I'm incurring a really weird problem with my Nested List of int (<code>List&lt;List&lt;int&gt;&gt;</code>). At some point after I put over 1 million list's in it they all loose they're values i.e they have 0 elements in them .. Really weird right? I suspected that I'm putting too much list's in it. However I putted an if statement that will check if the nested list length is exactly 1 million and added a break point in it. It ended up that exceeding the nested list capability wasn't the case, it's something that completely messes with my head. I will post the code here so I can try to explain  </p>\n\n<pre><code>        //it will iterate 8^8 times - 16.7 million times\n        private static List&lt;List&lt;int&gt;&gt; minMinatRed = new List&lt;List&lt;int&gt;&gt;();\n        private static List&lt;List&lt;int&gt;&gt; minMinataKolona = new List&lt;List&lt;int&gt;&gt;();\n        var tempHodove = new List&lt;Tuple&lt;bool, int[]&gt;&gt;();\n        int novMinatRed = red;\n        int novaMinataKolona = kolona;\n        for (int i = 0; i &lt; numberOfVariations; i++)\n        {\n            tempHodove.Clear();\n            var hodove = UpdateList(novMinatRed, novaMinataKolona);\n            int x = i;\n            for (int j = 0; j &lt; size; ++j)\n            {\n                result[j] = tempArr[x % size];\n                x /= size;\n            }\n            for (int k = result.Length - 1; k &gt;= 0; k--)\n            {\n                tempHodove.Add(hodove[result[k]]);\n            }\n            bool trueValue = tempHodove.Any(c =&gt; c.Item1);\n            while (trueValue)\n            {\n                foreach (var hod in tempHodove.Where(hod =&gt; hod.Item1))\n                {\n                    novMinatRed += hod.Item2[0];\n                    novaMinataKolona += hod.Item2[1];\n                    minatRed.Add(novMinatRed);\n                    minataKolona.Add(novaMinataKolona);\n                    count++;\n                    break;\n                }\n                if (novMinatRed == kraenRed &amp;&amp; novaMinataKolona == krainaKolona)\n                {\n                    if (minCount &gt; count)\n                    {\n                        minCount = count;\n                    }\n                    minMinatRed.Add(minatRed);\n                    minMinataKolona.Add(minataKolona);\n                }\n                hodove = UpdateList(novMinatRed, novaMinataKolona);\n                tempHodove.Clear();\n                for (int k = result.Length - 1; k &gt;= 0; k--)\n                {\n                    tempHodove.Add(hodove[result[k]]);\n                }\n                trueValue = tempHodove.Any(c =&gt; c.Item1);\n            }\n            if (minMinatRed.Count == 1000000)\n            {\n\n            }\n            minataKolona.Clear();\n            minatRed.Clear();\n            count = 0;\n            novMinatRed = nachalenRed;\n            novaMinataKolona = nachalnaKolona;\n        }\n</code></pre>\n\n<p>The problem is in the <code>minMinatRed</code> and <code>minMinataKolona</code> list's as you can see there is only place where I add some values in them :</p>\n\n<pre><code>if (novMinatRed == kraenRed &amp;&amp; novaMinataKolona == krainaKolona)\n{\n     if (minCount &gt; count)\n     {\n          minCount = count;\n     }\n     minMinatRed.Add(minatRed); //here\n     minMinataKolona.Add(minataKolona); //and here\n}\n</code></pre>\n\n<p>Well once the break point is triggered in the :</p>\n\n<pre><code>if (minMinatRed.Count == 1000000){ }\n</code></pre>\n\n<p>I started checking what's going on.I found out that once the code reaches this point :</p>\n\n<pre><code>minataKolona.Clear();\nminatRed.Clear();\n</code></pre>\n\n<p>It doesn't only wipes the <code>minatRed</code> values but it also erases the <code>minMinatRed</code> values, same goes for <code>minataKolona</code> and <code>minMinataKolona</code>..\nAlso once it goes back into the loop and add's some values to <code>minatRed</code> and <code>minataKolona</code> it also add's the same values to the nested list's more specifically here :</p>\n\n<pre><code>foreach (var hod in tempHodove.Where(hod =&gt; hod.Item1))\n{\n     novMinatRed += hod.Item2[0];\n     novaMinataKolona += hod.Item2[1];\n     minatRed.Add(novMinatRed);  //here\n     minataKolona.Add(novaMinataKolona);  //and here\n     count++;\n     break;\n}\n</code></pre>\n\n<p>Now since we previously wiped all the values from <code>minatRed</code> it will obviously have nothing in it and once we add 1 item to it, it has 1 item in it (lol).. now the thing is that it also adds this exact 1 item into EVERY single one of the List's in the <code>minMinatRed</code> nested list i.e all the 1 million lists have length 1 and also just 1 duplicate variable in them. That's what I was able to find about my current problem, however I have no clue why this is happening or how can I fix it. I have also read some question and answer's written by Mystical who's a StackOverFlow user too. Where they discussed branch predictions, I'm not sure if that's my case but it might be something related. Any suggestions and explanations are welcome. English is not my native language..</p>\n\n<p><strong>Update 1</strong> forgot to include initialization of <code>minataKolona</code> and <code>minatRed</code> &amp;&amp; numberOfVariations</p>\n\n<pre><code>    private static readonly List&lt;int&gt; minatRed = new List&lt;int&gt;();\n    private static readonly List&lt;int&gt; minataKolona = new List&lt;int&gt;();\n    private static readonly double numberOfVariations = Math.Pow(size, size);\n</code></pre>\n\n<p><strong>Update 2</strong> Include the <code>UpdateList</code> method</p>\n\n<pre><code> private static List&lt;Tuple&lt;bool, int[]&gt;&gt; UpdateList(int red, int kolona)\n    {\n        var vsichkiHodove = new List&lt;Tuple&lt;bool, int[]&gt;&gt;()\n        {\n            new Tuple&lt;bool, int[]&gt;(Nadqsno(red, 1) &amp;&amp; Napred(kolona, 2), new[]\n            {\n                +1,\n                +2\n            }),\n            new Tuple&lt;bool, int[]&gt;(Nadqsno(red, 2) &amp;&amp; Napred(kolona, 1), new[]\n            {\n                +2,\n                +1\n            }),\n            new Tuple&lt;bool, int[]&gt;(Nalqvo(red, 1) &amp;&amp; Napred(kolona, 2), new[]\n            {\n                -1,\n                +2\n            }),\n            new Tuple&lt;bool, int[]&gt;(Nalqvo(red, 2) &amp;&amp; Napred(kolona, 1), new[]\n            {\n                -2,\n                +1\n            }),\n            new Tuple&lt;bool, int[]&gt;(Nadqsno(red, 2) &amp;&amp; Nazad(kolona, 1), new[]\n            {\n                +2,\n                -1\n            }),\n            new Tuple&lt;bool, int[]&gt;(Nalqvo(red, 2) &amp;&amp; Nazad(kolona, 1), new[]\n            {\n                -2,\n                -1\n            }),\n            new Tuple&lt;bool, int[]&gt;(Nadqsno(red, 1) &amp;&amp; Nazad(kolona, 2), new[]\n            {\n                +1,\n                -2\n            }),\n            new Tuple&lt;bool, int[]&gt;(Nalqvo(red, 1) &amp;&amp; Nazad(kolona, 2), new[]\n            {\n                -1,\n                -2\n            }),\n        };\n        return vsichkiHodove;\n    }\n</code></pre>\n"}, {"tags": ["c#", "razor", "asp.net-mvc-5", "session-timeout", "formsauthentication"], "comments": [{"owner": {"reputation": 6310, "user_id": 1654231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92569ddbf8ac47f66b2980ca7f69df0d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/1654231/stuart"}, "edited": false, "score": 0, "creation_date": 1458246217, "post_id": 36047329, "comment_id": 59788085, "body": "You should do that logic in the controller so you can return a login view entirely if not logged in / session times out."}, {"owner": {"reputation": 289, "user_id": 2125182, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/67e334c5955df867f78ea29ade4df79b?s=128&d=identicon&r=PG", "display_name": "Cef", "link": "https://stackoverflow.com/users/2125182/cef"}, "reply_to_user": {"reputation": 6310, "user_id": 1654231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92569ddbf8ac47f66b2980ca7f69df0d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/1654231/stuart"}, "edited": false, "score": 0, "creation_date": 1458246393, "post_id": 36047329, "comment_id": 59788177, "body": "I am actually but this never gets to the controller, I think it&#39;s IIS catching that the session is timed out and redirecting to whatever is in the web config."}, {"owner": {"reputation": 6310, "user_id": 1654231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92569ddbf8ac47f66b2980ca7f69df0d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/1654231/stuart"}, "edited": false, "score": 1, "creation_date": 1458246514, "post_id": 36047329, "comment_id": 59788237, "body": "Change web.config to point to a different page so you can confirm/eliminate this"}, {"owner": {"reputation": 289, "user_id": 2125182, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/67e334c5955df867f78ea29ade4df79b?s=128&d=identicon&r=PG", "display_name": "Cef", "link": "https://stackoverflow.com/users/2125182/cef"}, "reply_to_user": {"reputation": 6310, "user_id": 1654231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92569ddbf8ac47f66b2980ca7f69df0d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/1654231/stuart"}, "edited": false, "score": 0, "creation_date": 1458251787, "post_id": 36047329, "comment_id": 59790916, "body": "Duh. Yes put a different route in the web.config to an action that clears the session and returns a different partial view that redirects the whole page. Thanks!"}, {"owner": {"reputation": 6310, "user_id": 1654231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92569ddbf8ac47f66b2980ca7f69df0d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/1654231/stuart"}, "edited": false, "score": 0, "creation_date": 1458288751, "post_id": 36047329, "comment_id": 59803155, "body": "So that helped then!?"}, {"owner": {"reputation": 289, "user_id": 2125182, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/67e334c5955df867f78ea29ade4df79b?s=128&d=identicon&r=PG", "display_name": "Cef", "link": "https://stackoverflow.com/users/2125182/cef"}, "reply_to_user": {"reputation": 6310, "user_id": 1654231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92569ddbf8ac47f66b2980ca7f69df0d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/1654231/stuart"}, "edited": false, "score": 0, "creation_date": 1458333783, "post_id": 36047329, "comment_id": 59832012, "body": "Exactly what I was looking to do. Just couldn&#39;t figure it."}], "owner": {"reputation": 289, "user_id": 2125182, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/67e334c5955df867f78ea29ade4df79b?s=128&d=identicon&r=PG", "display_name": "Cef", "link": "https://stackoverflow.com/users/2125182/cef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 703, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1458163787, "creation_date": 1458163787, "question_id": 36047329, "link": "https://stackoverflow.com/questions/36047329/asp-net-mvc-5-razor-forms-authentication-loginurl", "title": "ASP.NET MVC 5 Razor Forms Authentication LoginURL", "body": "<p>Apologies in advance if I can't explain this very clearly. </p>\n\n<p>I am using forms authentication in my MVC Razor application. I have the following in my Web.Config:</p>\n\n<pre><code>&lt;forms loginUrl=\"~/Login/Index\" timeout=\"1\" /&gt;\n</code></pre>\n\n<p>Techincally this works fine. The issue I am having is that my application is split into a Header.cshtml that never changes, and then a content area that changes based on the button clicked in the header. If the session has timed out the application writes the Login.cshtml to the content area, instead of the whole page.</p>\n\n<p>In my WebForms application with frames simply adding the following to the login page:</p>\n\n<pre><code>if (parent.frames.length &gt; 0) {\n    parent.location.href = self.document.location;\n}\n</code></pre>\n\n<p>took care of the issue. Does anyone know what the equivalent of this is for MVC? I understand there is no parent to set the location of so I am kind of stuck.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["java", "c#", "asp.net-mvc", "design-patterns", "business-logic"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458163662, "post_id": 36047211, "comment_id": 59743105, "body": "It depends if the object/parameter changes and how many different methods use the object.  Object that don&#39;t change usually will be passed in the constructor while items that change every time get passed in the methods."}, {"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1458214436, "post_id": 36047211, "comment_id": 59765254, "body": "Something very similar was asked just three hours before: <a href=\"http://stackoverflow.com/questions/36043291/java-preferred-design-when-multiple-methods-share-same-arguments-class-member\">Java : preferred design when multiple methods share same arguments (class member ?)</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1799, "user_id": 6034170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/668ccf768c9fa76b35bd5122a5aeb75b?s=128&d=identicon&r=PG&f=1", "display_name": "jonhid", "link": "https://stackoverflow.com/users/6034170/jonhid"}, "is_accepted": true, "score": 0, "last_activity_date": 1458163908, "creation_date": 1458163908, "answer_id": 36047362, "question_id": 36047211, "link": "https://stackoverflow.com/questions/36047211/should-i-pass-a-parameter-to-the-class-constructor-or-every-method-that-requires/36047362#36047362", "title": "Should i pass a parameter to the class constructor or every method that requires it", "body": "<p>_loggedInUserId is a private member of you class so it can be reached for every method in your class without having to pass it via parameter.</p>\n"}], "owner": {"reputation": 2131, "user_id": 1786107, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0cd0711aed4cada67db0270447f6c7bd?s=128&d=identicon&r=PG", "display_name": "user1786107", "link": "https://stackoverflow.com/users/1786107/user1786107"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 878, "favorite_count": 0, "closed_date": 1458165582, "accepted_answer_id": 36047362, "answer_count": 1, "score": -2, "last_activity_date": 1458163908, "creation_date": 1458163424, "question_id": 36047211, "link": "https://stackoverflow.com/questions/36047211/should-i-pass-a-parameter-to-the-class-constructor-or-every-method-that-requires", "closed_reason": "Opinion-based", "title": "Should i pass a parameter to the class constructor or every method that requires it", "body": "<p>I have a class that looks like the following</p>\n\n<pre><code>public class OrderBL\n{\n   private _loggedInUserId;\n\n   public OrderBL(int loggedInUserId) {\n      _loggedInUserId = loggedInUserId;\n   }\n\n  public Order GetOrder()\n  {\n     //use logged in user id here\n  }\n\n  public List&lt;Order&gt; GetOrderList()\n  {\n     //use logged in user id here\n  }\n\n  public void DeleteOrder()\n  {\n     //use logged in user id here\n  }\n\n  public void SaveOrder(Order myOrder)\n  {\n     //DON'T use logged in user id here\n  }\n}\n</code></pre>\n\n<p>Should i be passing the logged in user id to every method or pass it in once to the constructor like i have done?</p>\n\n<p>Most methods in my class require the logged in user id but not all.</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458163945, "post_id": 36047210, "comment_id": 59743270, "body": "It looks like you have an xml file with more than one root tag.  XML usually has only one root tag so your xml is a fragment.  You could wrap the xml data in to a single root tag using a string method() : &lt;root&gt;your current xml&lt;/root&gt;.  string myString = &quot;&lt;root&gt;&quot; + xml + &quot;&lt;/root&gt;&quot;;"}, {"owner": {"reputation": 2789, "user_id": 3797778, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100003846611758/picture?type=large", "display_name": "Wobbles", "link": "https://stackoverflow.com/users/3797778/wobbles"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458164104, "post_id": 36047210, "comment_id": 59743347, "body": "@jdweng What? no I dont. That wouldn&#39;t even compile."}], "answers": [{"tags": [], "owner": {"reputation": 2789, "user_id": 3797778, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100003846611758/picture?type=large", "display_name": "Wobbles", "link": "https://stackoverflow.com/users/3797778/wobbles"}, "is_accepted": true, "score": 0, "last_activity_date": 1458165364, "creation_date": 1458165364, "answer_id": 36047716, "question_id": 36047210, "link": "https://stackoverflow.com/questions/36047210/style-datatrigger-not-evaluating-on-initial-load/36047716#36047716", "title": "Style DataTrigger not evaluating on initial load", "body": "<p>I feel silly, So apparently binding the <code>ContentControl</code>'s Content is not the equivalent of binding data to the <code>ContentControl</code>, thus I needed to target my DataTrigger Bindings more specifically at my original DP since it doesn't just take the parent containers binding.</p>\n\n<p>This worked:</p>\n\n<pre><code>&lt;DataTrigger Binding=\"{Binding settingGroup.childDepth, ElementName=page}\" Value=\"1\"&gt;\n    &lt;Setter Property=\"ContentTemplate\" Value=\"{StaticResource level1}\" /&gt;\n&lt;/DataTrigger&gt;\n</code></pre>\n"}], "owner": {"reputation": 2789, "user_id": 3797778, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100003846611758/picture?type=large", "display_name": "Wobbles", "link": "https://stackoverflow.com/users/3797778/wobbles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 36047716, "answer_count": 1, "score": 0, "last_activity_date": 1458165364, "creation_date": 1458163414, "question_id": 36047210, "link": "https://stackoverflow.com/questions/36047210/style-datatrigger-not-evaluating-on-initial-load", "title": "Style DataTrigger not evaluating on initial load", "body": "<p>Title says it all</p>\n\n<pre><code>&lt;Page.Resources&gt;\n    &lt;local:BoolToVisibilityConverter x:Key=\"BoolToVisibilityConverter\"/&gt;\n\n    &lt;DataTemplate x:Key=\"level1\"&gt;\n        &lt;StackPanel Orientation=\"Vertical\"&gt;\n            &lt;TextBlock x:Name=\"GroupTitle\" FontSize=\"16\" FontWeight=\"Bold\" Foreground=\"#FF000532\" Text=\"{Binding name}\"/&gt;\n            &lt;TextBlock x:Name=\"GroupDescription\" Text=\"{Binding description}\"/&gt;\n            &lt;TextBlock x:Name=\"Depth\" Text=\"{Binding childDepth}\"/&gt;\n            &lt;ItemsControl ItemsSource=\"{Binding settings}\"&gt;\n\n            &lt;/ItemsControl&gt;\n        &lt;/StackPanel&gt;\n    &lt;/DataTemplate&gt;\n\n    &lt;DataTemplate x:Key=\"level2\"&gt;\n        &lt;StackPanel Orientation=\"Vertical\"&gt;\n            &lt;TextBlock x:Name=\"GroupTitle\" FontSize=\"16\" FontWeight=\"Bold\" Foreground=\"#FF000532\" Text=\"{Binding name}\"/&gt;\n            &lt;TextBlock x:Name=\"GroupDescription\" Text=\"{Binding description}\"/&gt;\n            &lt;TextBlock x:Name=\"Depth\" Text=\"{Binding childDepth}\"/&gt;\n            &lt;ItemsControl ItemsSource=\"{Binding settings}\"&gt;\n\n            &lt;/ItemsControl&gt;\n            &lt;TabControl ItemsSource=\"{Binding groups}\"&gt;\n                &lt;TabControl.ItemTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;TextBlock Text=\"{Binding name}\" /&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/TabControl.ItemTemplate&gt;\n                &lt;TabControl.ContentTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;ContentPresenter Content=\"{Binding}\" ContentTemplate=\"{StaticResource level1}\"/&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/TabControl.ContentTemplate&gt;\n            &lt;/TabControl&gt;\n        &lt;/StackPanel&gt;\n    &lt;/DataTemplate&gt;\n&lt;/Page.Resources&gt;\n&lt;Grid&gt;\n    &lt;ContentControl x:Name=\"SettingsDisplayer\" Content=\"{Binding settingGroup, ElementName=page}\"&gt;\n        &lt;ContentControl.Resources&gt;\n            &lt;local:BoolToVisibilityConverter x:Key=\"BoolToVisibilityConverter\"/&gt;\n        &lt;/ContentControl.Resources&gt;\n        &lt;ContentControl.Style&gt;\n            &lt;Style TargetType=\"{x:Type ContentControl}\"&gt;\n                &lt;Setter Property=\"ContentTemplate\" Value=\"{StaticResource level1}\" /&gt;\n                &lt;Style.Triggers&gt;\n                    &lt;DataTrigger Binding=\"{Binding Path=childDepth}\" Value=\"1\"&gt;\n                        &lt;Setter Property=\"ContentTemplate\" Value=\"{StaticResource level1}\" /&gt;\n                    &lt;/DataTrigger&gt;\n                    &lt;DataTrigger Binding=\"{Binding Path=childDepth}\" Value=\"2\"&gt;\n                        &lt;Setter Property=\"ContentTemplate\" Value=\"{StaticResource level2}\" /&gt;\n                    &lt;/DataTrigger&gt;\n                    &lt;DataTrigger Binding=\"{Binding Path=childDepth}\" Value=\"3\"&gt;\n                        &lt;Setter Property=\"ContentTemplate\" Value=\"{StaticResource level3}\" /&gt;\n                    &lt;/DataTrigger&gt;\n                    &lt;DataTrigger Binding=\"{Binding Path=childDepth}\" Value=\"4\"&gt;\n                        &lt;Setter Property=\"ContentTemplate\" Value=\"{StaticResource level4}\" /&gt;\n                    &lt;/DataTrigger&gt;\n                &lt;/Style.Triggers&gt;\n            &lt;/Style&gt;\n        &lt;/ContentControl.Style&gt;\n    &lt;/ContentControl&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>The getter for <code>childDepth</code> is not even being accessed because I put a console trace in there to know when it is. The property is populated as it shows the proper amount when seen in the Depth <code>TextBlock</code> in the <code>DataTemplate</code>s.</p>\n\n<p>The relevant property in my class:</p>\n\n<pre><code>    public int childDepth { get { Console.WriteLine(this.getDepth()); return this.getDepth(); } }\n</code></pre>\n\n<p>No mater what the childDepth is it alwayse skipps the triggers and just uses the level1 template.</p>\n"}, {"tags": ["c#", ".net", "async-await", "webbrowser-control"], "comments": [{"owner": {"reputation": 23543, "user_id": 2281790, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pP0ow.jpg?s=128&g=1", "display_name": "Harald Coppoolse", "link": "https://stackoverflow.com/users/2281790/harald-coppoolse"}, "edited": false, "score": 0, "creation_date": 1458200862, "post_id": 36047156, "comment_id": 59756044, "body": "Apparently there is some time between starting the Navigation and function WaitLoad subscribing to event WebBrowser.DocumentCompleted. What happens if event DocumentCompleted is raised before you subscribe to the event?"}, {"owner": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "edited": false, "score": 0, "creation_date": 1458243521, "post_id": 36047156, "comment_id": 59786432, "body": "Check <code>NavigateAsync</code> from <a href=\"http://stackoverflow.com/a/22262976/1768303\">here</a>."}, {"owner": {"reputation": 567, "user_id": 4819355, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6773a1539ae9cf3f8397d21688151fe8?s=128&d=identicon&r=PG&f=1", "display_name": "JohnUbuntu", "link": "https://stackoverflow.com/users/4819355/johnubuntu"}, "reply_to_user": {"reputation": 23543, "user_id": 2281790, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pP0ow.jpg?s=128&g=1", "display_name": "Harald Coppoolse", "link": "https://stackoverflow.com/users/2281790/harald-coppoolse"}, "edited": false, "score": 0, "creation_date": 1458255157, "post_id": 36047156, "comment_id": 59792310, "body": "@HaraldDutch sort of right after I asked the question I realized that myself. And while a solution like what Noseratio proposed would help for the explicit navigates, what about a Click() and wait for the page to reload? So I&#39;m going to create a wrapper for the WebBrowser control instead, that way the event subscriptions last for as long as the instance of the object does."}, {"owner": {"reputation": 567, "user_id": 4819355, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6773a1539ae9cf3f8397d21688151fe8?s=128&d=identicon&r=PG&f=1", "display_name": "JohnUbuntu", "link": "https://stackoverflow.com/users/4819355/johnubuntu"}, "reply_to_user": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "edited": false, "score": 0, "creation_date": 1459242796, "post_id": 36047156, "comment_id": 60186273, "body": "@Noseratio, as mentioned in the comment above, your answer is only for navigating async, not for when, for example, a button is clicked which causes a new page to load. Also, I have to admit I&#39;m not a big fan of the polling - if you poll it makes no sense to even use the <code>DocumentCompleted</code> at all. Besides a page might complete (issuing a <code>DocumentCompleted</code>), then issue a redirect and while the browser is reaching to the new server the DOM stays the same for more than 500ms, which using your method would incorrectly return as having completed the navigation."}, {"owner": {"reputation": 567, "user_id": 4819355, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6773a1539ae9cf3f8397d21688151fe8?s=128&d=identicon&r=PG&f=1", "display_name": "JohnUbuntu", "link": "https://stackoverflow.com/users/4819355/johnubuntu"}, "reply_to_user": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "edited": false, "score": 0, "creation_date": 1459242882, "post_id": 36047156, "comment_id": 60186351, "body": "@Noseratio, in other words, the only way I&#39;ve found to work around the issues in the comment above is to leverage both the <code>DocumentCompleted</code> and the <code>Navigating</code> events. Polling the DOM for changes will never work reliably."}, {"owner": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "edited": false, "score": 0, "creation_date": 1459286229, "post_id": 36047156, "comment_id": 60215577, "body": "@JohnUbuntu, there&#39;s no perfect way of doing that. I explicitly mentioned that <a href=\"http://stackoverflow.com/a/20934538/1768303\">here</a>."}], "answers": [{"comments": [{"owner": {"reputation": 567, "user_id": 4819355, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6773a1539ae9cf3f8397d21688151fe8?s=128&d=identicon&r=PG&f=1", "display_name": "JohnUbuntu", "link": "https://stackoverflow.com/users/4819355/johnubuntu"}, "edited": false, "score": 0, "creation_date": 1458301259, "post_id": 36049954, "comment_id": 59810989, "body": "this doesn&#39;t quite achieve the same as what I had though. It only waits until the DocumentCompleted event is fired once, and then has a static wait of 1sec before returning. The problem is that the DocumentCompleted can fire multiple times. That was the reason for the 1 sec timer..."}, {"owner": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "reply_to_user": {"reputation": 567, "user_id": 4819355, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6773a1539ae9cf3f8397d21688151fe8?s=128&d=identicon&r=PG&f=1", "display_name": "JohnUbuntu", "link": "https://stackoverflow.com/users/4819355/johnubuntu"}, "edited": false, "score": 0, "creation_date": 1458317877, "post_id": 36049954, "comment_id": 59822957, "body": "It&#39;s been a while since I worked with the WebBrowser control, but I recall that. Picking up my code, you can put the delays where needed without managing timers."}, {"owner": {"reputation": 567, "user_id": 4819355, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6773a1539ae9cf3f8397d21688151fe8?s=128&d=identicon&r=PG&f=1", "display_name": "JohnUbuntu", "link": "https://stackoverflow.com/users/4819355/johnubuntu"}, "edited": false, "score": 0, "creation_date": 1458336228, "post_id": 36049954, "comment_id": 59833269, "body": "Sure, but then the question is... why even subscribe to the events at all? Could just use the IsBusy property on a while with a <code>Task.Delay(500);</code> in between."}, {"owner": {"reputation": 567, "user_id": 4819355, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6773a1539ae9cf3f8397d21688151fe8?s=128&d=identicon&r=PG&f=1", "display_name": "JohnUbuntu", "link": "https://stackoverflow.com/users/4819355/johnubuntu"}, "edited": false, "score": 0, "creation_date": 1459245517, "post_id": 36049954, "comment_id": 60188128, "body": "On another note, specially bearing in mind that this is the only answer to the question, if you want to me to potentially mark the answer is the right one you&#39;ll need to edit your code to do what I&#39;m actually asking. You mentioned it&#39;s easy to pick your code and modify to do what I asked, then please submit it as an answer and if it does as expected I&#39;ll mark is as correct."}], "tags": [], "owner": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "is_accepted": false, "score": 0, "last_activity_date": 1458177227, "creation_date": 1458177227, "answer_id": 36049954, "question_id": 36047156, "link": "https://stackoverflow.com/questions/36047156/webbrowser-control-wait-until-document-completed-extension-method/36049954#36049954", "title": "WebBrowser control - wait until document completed extension method", "body": "<p><a href=\"https://msdn.microsoft.com/library/hh873175\" rel=\"nofollow\" title=\"Task-based Asynchronous Pattern (TAP)\">The design guidelines state that asynchronous methods should be suffixed.</a></p>\n\n<p>That timer is making your code harder to read. Try this instead:</p>\n\n<pre><code>public static Task WaitLoad(this WebBrowser webBrowser)\n{\n    var tcs = new TaskCompletionSource&lt;object&gt;();\n\n    WebBrowserNavigatingEventHandler navigatingHandler = (sender, args) =&gt; timerInternalWait.Stop();\n    webBrowser.Navigating += navigatingHandler;\n\n    WebBrowserDocumentCompletedEventHandler documentCompletedHandler = (sender, args) =&gt; tcs.SetResult(null);\n\n    try\n    {\n        webBrowser.DocumentCompleted += documentCompletedHandler;\n\n        await tcs.Task;\n    }\n    finally\n    {\n        webBrowser.DocumentCompleted -= documentCompletedHandler;\n\n        await Task.Delay(1000);\n    }\n\n    return tcs.Task;\n}\n\npublic static Task&lt;bool&gt; WaitLoad(this WebBrowser webBrowser, int timeout)\n{\n    var webBrowserTask = webBrowser.WaitLoad();\n\n    return await Task.WhenAny(webBrowserTask, Task.Delay(timeout)) == webBrowserTask;\n}\n</code></pre>\n\n<p>But you should look into cancellation tokens instead of double timers.</p>\n"}], "owner": {"reputation": 567, "user_id": 4819355, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6773a1539ae9cf3f8397d21688151fe8?s=128&d=identicon&r=PG&f=1", "display_name": "JohnUbuntu", "link": "https://stackoverflow.com/users/4819355/johnubuntu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1030, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458177227, "creation_date": 1458163157, "question_id": 36047156, "link": "https://stackoverflow.com/questions/36047156/webbrowser-control-wait-until-document-completed-extension-method", "title": "WebBrowser control - wait until document completed extension method", "body": "<p>I'm creating an extension method for the <code>WebBrowser</code> control whose purpose is to wait for the page to have finished <em>completely loading</em> before returning.</p>\n\n<p>By <em>completely loading</em>, I mean that one second has to have elapsed after the last <code>DocumentCompleted</code> event. This is to account for pages where multiple <code>DocumentCompleted</code> events are triggered during the loading of the page (which is something that's affecting my app currently).</p>\n\n<p>I've written the current method which appears to work but I feel like could be improved: it returns a task when there's probably no need and also it suffers from the problem that an exception will be thrown if the application is closed down while it is waiting for the page to load.</p>\n\n<pre><code>    public static Task&lt;bool&gt; WaitLoad(this WebBrowser webBrowser, int wait)\n    {\n        var timerInternalWait = new Timer {Interval = 1000, Tag = \"Internal\"};\n        var timerMaxWait = new Timer {Interval = wait};\n        var tcs = new TaskCompletionSource&lt;bool&gt;();\n\n        WebBrowserNavigatingEventHandler navigatingHandler = (sender, args) =&gt; timerInternalWait.Stop();\n        webBrowser.Navigating += navigatingHandler;\n\n        WebBrowserDocumentCompletedEventHandler documentCompletedHandler = (sender, args) =&gt; { timerInternalWait.Stop(); timerInternalWait.Start(); };\n        webBrowser.DocumentCompleted += documentCompletedHandler;\n\n        EventHandler timerHandler = null;\n        timerHandler = (sender, args) =&gt;\n        {\n            webBrowser.Navigating -= navigatingHandler;\n            webBrowser.DocumentCompleted -= documentCompletedHandler;\n            timerInternalWait.Tick -= timerHandler;\n            timerMaxWait.Tick -= timerHandler;\n            timerMaxWait.Stop();\n            timerInternalWait.Stop();\n\n            tcs.SetResult(((Timer) sender).Tag.ToString() == \"Internal\");\n        };\n\n        timerInternalWait.Tick += timerHandler;\n        timerMaxWait.Tick += timerHandler;\n\n        return tcs.Task;\n    }\n</code></pre>\n\n<p>Is there something I can do to improve it?</p>\n"}, {"tags": ["c#", "html-agility-pack", "google-search", "google-custom-search", "google-search-api"], "comments": [{"owner": {"reputation": 1599, "user_id": 1940851, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1286f9ab34446e80956701f981340bb5?s=128&d=identicon&r=PG", "display_name": "Kent Kostelac", "link": "https://stackoverflow.com/users/1940851/kent-kostelac"}, "edited": false, "score": 0, "creation_date": 1458163925, "post_id": 36047136, "comment_id": 59743257, "body": "Show us some code of what you have already tried and not just some code you have copy pasted from other threads. we are here to help. Not to do your job/homework."}, {"owner": {"reputation": 1352, "user_id": 4425676, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/KL6HZ.jpg?s=128&g=1", "display_name": "Jerrod Horton", "link": "https://stackoverflow.com/users/4425676/jerrod-horton"}, "edited": false, "score": 0, "creation_date": 1458164237, "post_id": 36047136, "comment_id": 59743410, "body": "You can manually parse the html coming back just like your typical &quot;screen scraper&quot;.  This will require you to understand the google response html format and will also potentially break your code if their DOM structure changes."}], "answers": [{"tags": [], "owner": {"reputation": 1082, "user_id": 1422356, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/93db3471de6e0ead40c74b37e338dff0?s=128&d=identicon&r=PG", "display_name": "Rana", "link": "https://stackoverflow.com/users/1422356/rana"}, "is_accepted": false, "score": 4, "last_activity_date": 1458216637, "last_edit_date": 1458216637, "creation_date": 1458178535, "answer_id": 36050148, "question_id": 36047136, "link": "https://stackoverflow.com/questions/36047136/how-to-get-the-first-n-result-from-google-search-using-c/36050148#36050148", "title": "How to get the first N result from google search using C#?", "body": "<p>The following will return the first 100 result of searching 'my search term' and return the order of a specified target 'mytarget' </p>\n\n<pre><code>internal class Program\n{\n    private const string Url = \"http://www.google.com/search?num=100&amp;q=my+search+term\";\n\n    private static void Main(string[] args)\n    {\n        var result = new HtmlWeb().Load(Url);\n        var nodes = result.DocumentNode.SelectNodes(\"//html//body//div[@class='g']\");\n        var indexes = nodes == null\n                          ? new List&lt;int&gt; { 0 }\n                          : nodes.Select((x, i) =&gt; new { i, x.InnerHtml })\n                                .Where(x =&gt; x.InnerHtml.Contains(\"mytarget\"))\n                                .Select(x =&gt; x.i + 1)\n                                .ToList();\n\n\n        Console.WriteLine(String.Join(\", \", indexes));\n        Console.ReadLine();\n    }\n}\n</code></pre>\n\n<p>another way to do it using regex:</p>\n\n<pre><code> string html;\n        using (var webClient = new WebClient())\n        {\n            html = webClient.DownloadString(searchUrl);\n        }\n\n        var regex = new Regex(\"&lt;div class=\\\"g\\\"&gt;(.*?)&lt;/div&gt;\");\n\n        var matches = regex.Matches(html).Cast&lt;Match&gt;().ToList();\n\n        var indexes = matches.Select((x, i) =&gt; new { i, x })\n            .Where(x =&gt; x.ToString().Contains(\"mytarget\"))\n            .Select(x =&gt; x.i + 1)\n            .ToList();\n</code></pre>\n"}], "owner": {"reputation": 1082, "user_id": 1422356, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/93db3471de6e0ead40c74b37e338dff0?s=128&d=identicon&r=PG", "display_name": "Rana", "link": "https://stackoverflow.com/users/1422356/rana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2161, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458216637, "creation_date": 1458163085, "last_edit_date": 1458164557, "question_id": 36047136, "link": "https://stackoverflow.com/questions/36047136/how-to-get-the-first-n-result-from-google-search-using-c", "title": "How to get the first N result from google search using C#?", "body": "<p>How to get the first N result from google search using c#?</p>\n\n<pre><code>using (var webclient = new WebClient())\n        {\n            const string url = \"https://www.google.com.au/search?num=100&amp;q=my+search+term\";\n            var  result = webclient.DownloadString(url);\n        }\n</code></pre>\n\n<p>Update:</p>\n\n<p>How can I get where and how many times a specific url appeared ?</p>\n"}, {"tags": ["c#", "datagridview", "combobox"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1458163205, "post_id": 36047129, "comment_id": 59742876, "body": "You dont show the form instance.  You could also add a &quot;Delete&quot; checkbox column to the DGV rather than annoy the user with a popup form."}, {"owner": {"reputation": 301, "user_id": 5445423, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aed99cda4c5407e351091df27c4608e5?s=128&d=identicon&r=PG&f=1", "display_name": "Nelly", "link": "https://stackoverflow.com/users/5445423/nelly"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1458163395, "post_id": 36047129, "comment_id": 59742977, "body": "The thing is that depending on the selected row from the DGV, the user should be able to choose whether he wants to delete or update the record... that&#39;s why I thought a combBox would be a good idea"}, {"owner": {"reputation": 5511, "user_id": 1017065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4yZUh.jpg?s=128&g=1", "display_name": "FLICKER", "link": "https://stackoverflow.com/users/1017065/flicker"}, "edited": false, "score": 0, "creation_date": 1458165170, "post_id": 36047129, "comment_id": 59743843, "body": "I suggest to use Popup Menu which is easier to implement. You can pop the popup Menu in code-behind when user clicks on a row in your dgv."}, {"owner": {"reputation": 4985, "user_id": 3773066, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/mPcCO.jpg?s=128&g=1", "display_name": "OhBeWise", "link": "https://stackoverflow.com/users/3773066/ohbewise"}, "edited": false, "score": 0, "creation_date": 1458228016, "post_id": 36047129, "comment_id": 59775949, "body": "Or you could add button columns."}], "owner": {"reputation": 301, "user_id": 5445423, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aed99cda4c5407e351091df27c4608e5?s=128&d=identicon&r=PG&f=1", "display_name": "Nelly", "link": "https://stackoverflow.com/users/5445423/nelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1458163055, "creation_date": 1458163055, "question_id": 36047129, "link": "https://stackoverflow.com/questions/36047129/c-data-grid-view-with-combo-box", "title": "C#: data grid view with combo box", "body": "<p>So, I have a data grid view displaying some data about \"employees\" from a database. When I click on a record in dgv, I want a combo box to appear and allowing to select \"Delete\" or \"Update\". I created a new Form, with a singe Combo box, and checked if a row from dgv is selected, then the combo box should appear. My code for data grid view looks like: </p>\n\n<pre><code> private void dataGridView2_CellContentClick(object sender, DataGridViewCellEventArgs e)\n    {\n        int id = -1;\n        if (e.RowIndex &gt;= 0)\n        {\n\n            DataGridViewRow row = this.dataGridView2.Rows[e.RowIndex];\n\n\n            string text = row.Cells[\"idEmployee\"].Value.ToString();\n            Int32.TryParse(text, out id);\n\n            Form newCombo = new Form2();\n            string var;\n            var = newCombo.Text;\n\n            if (var == \"Delete\")\n            {\n                da.DeleteCommand = new SqlCommand(\"Delete from employee where idEmployee = \" + id + \";\", cs);\n\n                cs.Open();\n                da.DeleteCommand.ExecuteNonQuery();\n                cs.Close();\n             }\n\n         }\n\n      }\n</code></pre>\n\n<p>and from Combo Box:  </p>\n\n<pre><code>       private void Form1_Load(object sender, EventArgs e)\n    {\n        comboBox1.Items.Add(\"Delete\");\n        comboBox1.Items.Add(\"Update\");\n    }\n</code></pre>\n\n<p>but, whenever I click on a row in the data grid view, nothing happens.. Any help would be appreciated! Thanks in advance!</p>\n"}, {"tags": ["c#", "windows-media-player", "axwindowsmediaplayer"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 4359313, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cdf1f2487b0084aff4dc54c6b6272cfa?s=128&d=identicon&r=PG&f=1", "display_name": "Ibrahim", "link": "https://stackoverflow.com/users/4359313/ibrahim"}, "is_accepted": false, "score": 1, "last_activity_date": 1465176847, "last_edit_date": 1465176847, "creation_date": 1465172774, "answer_id": 37648102, "question_id": 36047124, "link": "https://stackoverflow.com/questions/36047124/get-index-of-current-playing-paused-song-in-playlist-windows-media-player-libra/37648102#37648102", "title": "Get index of current playing/paused song in playlist [Windows Media Player Library]", "body": "<p>May the following code help you. </p>\n\n<pre><code>        int index;\n        for (int i = 0; i &lt; playlist.count - 1; i++)\n        {\n            if (wmPlayer.currentMedia.isIdentical[playlist.Item[i]])\n            {\n                index = i;\n                break;\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 1153, "user_id": 4484340, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/WpsmO.jpg?s=128&g=1", "display_name": "HaloMediaz", "link": "https://stackoverflow.com/users/4484340/halomediaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1539, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1465176847, "creation_date": 1458163025, "question_id": 36047124, "link": "https://stackoverflow.com/questions/36047124/get-index-of-current-playing-paused-song-in-playlist-windows-media-player-libra", "title": "Get index of current playing/paused song in playlist [Windows Media Player Library]", "body": "<p>Here is my media player playlist code setup, working with the windows media player library.</p>\n\n<p>Right now what I'm doing is creating the media player and giving it a playlist. </p>\n\n<pre><code>WindowsMediaPlayer wmPlayer = new WindowsMediaPlayer();\nwmPlayer.PlayStateChange += Player_PlayStateChange;\nIWMPPlaylist playlist = wmPlayer.playlistCollection.newPlaylist(\"All\");\nwmPlayer.currentPlaylist = playlist;\n</code></pre>\n\n<p>I then add songs to the playlist</p>\n\n<pre><code>IWMPMedia media = _wmPlayer.newMedia(path); //path to mp3 is given via method parameter\nwmPlayer.currentPlaylist.appendItem(media);\n</code></pre>\n\n<p>This allows me to easily execute basic music player controls and I don't need to manually go to the next/previous song.</p>\n\n<pre><code>wmPlayer.controls.play();\nwmPlayer.controls.pause();\nwmPlayer.controls.next();\nwmPlayer.controls.previous();\n</code></pre>\n\n<p>What I would like to do is get the index of the current media that is playing/paused in the playlist (<code>wmPlayer.currentPlaylist</code>). Is that possible?</p>\n\n<p>I know that you can get a song at a specific index via <code>wmPlayer.currentPlaylist.Item[index];</code>, but I cannot find out how to get the index of the current song.</p>\n\n<p>Any help is much appreciated. Thanks. </p>\n"}, {"tags": ["c#", "video"], "comments": [{"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 0, "creation_date": 1458163405, "post_id": 36047120, "comment_id": 59742981, "body": "maybe <code>axWindowsMediaPlayer1.Stop();</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 4721148, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7721b1bbd4661d15c6907da266d45180?s=128&d=identicon&r=PG&f=1", "display_name": "iiAaronXiX", "link": "https://stackoverflow.com/users/4721148/iiaaronxix"}, "edited": false, "score": 0, "creation_date": 1458163977, "post_id": 36047237, "comment_id": 59743286, "body": "Thanks for the help!"}, {"owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "reply_to_user": {"reputation": 83, "user_id": 4721148, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7721b1bbd4661d15c6907da266d45180?s=128&d=identicon&r=PG&f=1", "display_name": "iiAaronXiX", "link": "https://stackoverflow.com/users/4721148/iiaaronxix"}, "edited": false, "score": 0, "creation_date": 1458166473, "post_id": 36047237, "comment_id": 59744445, "body": "Your welcome.. Let me know if it works. That is based on the main form closing. You can do the same if you do a borderless form. After adding mouse click events, you can make custom buttons for exit and minimize and maximize. You would put the same thing as form close event except it will be in the btnClose event."}, {"owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "reply_to_user": {"reputation": 83, "user_id": 4721148, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7721b1bbd4661d15c6907da266d45180?s=128&d=identicon&r=PG&f=1", "display_name": "iiAaronXiX", "link": "https://stackoverflow.com/users/4721148/iiaaronxix"}, "edited": false, "score": 0, "creation_date": 1458236422, "post_id": 36047237, "comment_id": 59782064, "body": "i know it can be tricky at times. But everything is working now, correct?"}], "tags": [], "owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "is_accepted": true, "score": 2, "last_activity_date": 1458163504, "creation_date": 1458163504, "answer_id": 36047237, "question_id": 36047120, "link": "https://stackoverflow.com/questions/36047120/stop-a-video-playing-upon-closing-a-form/36047237#36047237", "title": "Stop a video playing upon closing a form", "body": "<p>You can go to the form properties and go to the events. Click on FormClosed event. From there just add the code to make the player stop, upon form exit.</p>\n\n<p>I was having a similar issue, and that's what I done to fix it. I had asked the same question, except it was for bringing another form up.</p>\n\n<p>This should do the trick. Be sure to do it on each form that has a video. That you want stopped upon exiting.</p>\n\n<p>Use the .Stop();</p>\n"}], "owner": {"reputation": 83, "user_id": 4721148, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7721b1bbd4661d15c6907da266d45180?s=128&d=identicon&r=PG&f=1", "display_name": "iiAaronXiX", "link": "https://stackoverflow.com/users/4721148/iiaaronxix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 720, "favorite_count": 0, "accepted_answer_id": 36047237, "answer_count": 1, "score": 0, "last_activity_date": 1458163504, "creation_date": 1458163012, "question_id": 36047120, "link": "https://stackoverflow.com/questions/36047120/stop-a-video-playing-upon-closing-a-form", "title": "Stop a video playing upon closing a form", "body": "<p>I have created a form that will play a video upon loading. However I cannot figure out how to get the video to stop playing when the user exits the form. I have tried some other solutions that people have used but they don't seem to work.</p>\n\n<p>When I say the video doesn't stop playing I mean that the audio from the video can still be heard even after the form containing the video has been closed.</p>\n\n<p>Any suggestions?</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace RRAS\n{\n    public partial class frmVideoTutorial : Form\n    {\n        formRRAS _main;\n        public frmVideoTutorial(formRRAS main)\n        {\n            InitializeComponent();\n            _main = main;\n\n        }\n\n        private void btnClose_Click(object sender, EventArgs e)\n        {\n            this.Close();\n        }\n\n        private void frmVideoTutorial_Load(object sender, EventArgs e)\n        {\n            axWindowsMediaPlayer1.URL = @\"F:\\Group Project\\RRAS\\RRAS\\RRAS\\Tutorial.mp4\";\n        }\n\n        private void frm_close(object sender, FormClosingEventArgs e)\n        {\n            if (e.CloseReason == CloseReason.UserClosing)\n            {\n                axWindowsMediaPlayer1.close();\n            }\n            else\n            {\n                e.Cancel = true;\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "win-universal-app", ".net-core"], "comments": [{"owner": {"reputation": 3923, "user_id": 1721423, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TDlpy.jpg?s=128&g=1", "display_name": "Troels Larsen", "link": "https://stackoverflow.com/users/1721423/troels-larsen"}, "edited": false, "score": 0, "creation_date": 1458168040, "post_id": 36047098, "comment_id": 59745094, "body": "Take a look at this answer: <a href=\"http://stackoverflow.com/questions/3328990/c-sharp-get-line-number-which-threw-exception\" title=\"c sharp get line number which threw exception\">stackoverflow.com/questions/3328990/&hellip;</a>"}, {"owner": {"reputation": 6471, "user_id": 5329137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v2ATd.jpg?s=128&g=1", "display_name": "Kory Gill", "link": "https://stackoverflow.com/users/5329137/kory-gill"}, "reply_to_user": {"reputation": 3923, "user_id": 1721423, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TDlpy.jpg?s=128&g=1", "display_name": "Troels Larsen", "link": "https://stackoverflow.com/users/1721423/troels-larsen"}, "edited": false, "score": 0, "creation_date": 1458193243, "post_id": 36047098, "comment_id": 59752795, "body": "@TroelsLarsen, Actually, on WIn10/UWP this is no longer supported.  <a href=\"http://stackoverflow.com/questions/34833573/windows-10-exceptions-not-including-line-numbers\" title=\"windows 10 exceptions not including line numbers\">stackoverflow.com/questions/34833573/&hellip;</a>"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1458195350, "post_id": 36047098, "comment_id": 59753535, "body": "It is because of the U in UWP.  Being Universal means you target the .NETCore version of the CLR, currently CoreCLR.  It is much smaller and thus easier to port to different platforms.  Both contribute to the missing feature, you don&#39;t have the COM component that can read the line number info from the PDB file at runtime.  Diasymreader.dll in the desktop version of the CLR.  That nobody in the corefx team seems to know this is, well, a bit scary.  A lot of foundational knowledge has been lost at Microsoft, turn-over has been high, maybe they should ask more SO questions :)"}], "answers": [{"tags": [], "owner": {"reputation": 6471, "user_id": 5329137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v2ATd.jpg?s=128&g=1", "display_name": "Kory Gill", "link": "https://stackoverflow.com/users/5329137/kory-gill"}, "is_accepted": true, "score": 7, "last_activity_date": 1458193491, "last_edit_date": 1495541870, "creation_date": 1458193491, "answer_id": 36052529, "question_id": 36047098, "link": "https://stackoverflow.com/questions/36047098/line-numbers-in-stack-traces-for-uwp-apps/36052529#36052529", "title": "Line numbers in stack traces for UWP apps", "body": "<p>This appears to be no longer supported.  I am re-posting my answer here, because when I did a search for my answer on another question, it was very difficult to find it in the search results.  Hopefully this question will help people find this info easier.</p>\n\n<p>Reference: <a href=\"https://stackoverflow.com/questions/34833573/windows-10-exceptions-not-including-line-numbers\">windows 10 exceptions not including line numbers</a></p>\n\n<p>Other info:</p>\n\n<p>See <a href=\"https://github.com/dotnet/corefx/issues/1420\" rel=\"noreferrer\">corefx #1420</a> and related <a href=\"https://github.com/dotnet/corefx/issues/1797\" rel=\"noreferrer\">corefx #1797</a>.</p>\n\n<p>Also, there is this reference on SO: <a href=\"https://stackoverflow.com/questions/31859169/how-to-get-stacktrace-without-exception-in-windows-universal-10-app\">How to get StackTrace without Exception in Windows Universal 10 App</a></p>\n"}], "owner": {"reputation": 4316, "user_id": 2935174, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/790492d96cde9864edfb54c10904e204?s=128&d=identicon&r=PG&f=1", "display_name": "steve hannah", "link": "https://stackoverflow.com/users/2935174/steve-hannah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1225, "favorite_count": 1, "accepted_answer_id": 36052529, "answer_count": 1, "score": 8, "last_activity_date": 1458195530, "creation_date": 1458162932, "last_edit_date": 1458195530, "question_id": 36047098, "link": "https://stackoverflow.com/questions/36047098/line-numbers-in-stack-traces-for-uwp-apps", "title": "Line numbers in stack traces for UWP apps", "body": "<p>I created a blank Universal Windows App project in Visual Studio 2015.</p>\n\n<p>I add something like:</p>\n\n<pre><code>try {\n    string foo = null;\n    int len = foo.Length;\n} catch (Exception ex) {\n    System.Diagnostics.Debug.WriteLine(ex);\n}\n</code></pre>\n\n<p>I get a stack trace like:</p>\n\n<pre><code>Exception thrown: 'System.NullReferenceException' in TestStackTraces.exe\nSystem.NullReferenceException: Object reference not set to an instance of an object.\nat TestStackTraces.App.OnLaunched(LaunchActivatedEventArgs e)\n</code></pre>\n\n<p>i.e.,  No line numbers.</p>\n\n<p>How do I get line numbers to show up?</p>\n"}, {"tags": ["c#", "oracle"], "answers": [{"tags": [], "owner": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "is_accepted": false, "score": 0, "last_activity_date": 1458202141, "creation_date": 1458202141, "answer_id": 36054786, "question_id": 36047074, "link": "https://stackoverflow.com/questions/36047074/including-the-oracleclient-dll-file-with-release-version/36054786#36054786", "title": "including the OracleClient dll file with release version", "body": "<p><code>Data.OracleClient</code> is a Microsoft DLL which is usually installed on each Windows PC, i.e. :NET Framework. However, it has been <a href=\"https://msdn.microsoft.com/en-us/library/77d8yct7%28v=vs.110%29.aspx\" rel=\"nofollow\">deprecated</a> for many years and should not be used for new projects.</p>\n\n<p>You may supply <code>Oracle.DataAccess.Client</code> with you application, however the Oracle Client must be installed on the target machine. </p>\n\n<p>As an alternative consider to use the ODP.NET Managed Driver, you can download it from here: <a href=\"http://www.oracle.com/technetwork/database/windows/downloads/index-090165.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/database/windows/downloads/index-090165.html</a></p>\n\n<p>In this case you have to supply only single DLL <code>Oracle.ManagedDataAccess.dll</code></p>\n"}], "owner": {"reputation": 183, "user_id": 5976249, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/b668a83710bea96660b5f160059d8d49?s=128&d=identicon&r=PG&f=1", "display_name": "samer", "link": "https://stackoverflow.com/users/5976249/samer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458202141, "creation_date": 1458162843, "question_id": 36047074, "link": "https://stackoverflow.com/questions/36047074/including-the-oracleclient-dll-file-with-release-version", "title": "including the OracleClient dll file with release version", "body": "<p>I had made small c# program that use oracle database so I had to include \nreference </p>\n\n<blockquote>\n  <p>Data.OracleClient</p>\n</blockquote>\n\n<p>after releasing my project and move it to the working environment I got problem \nwhich is missing the reference Data.OracleClient  </p>\n\n<p>why the Data.OracleClient won't be included within the release version of my project ????? </p>\n\n<p>what should I have to do to force the including of that library which is necessary to let my project work sinces i am not able to copy the dll file to all PSs on my network ?? </p>\n\n<p>and if i used the </p>\n\n<blockquote>\n  <p>Oracle.DataAccess.Client</p>\n</blockquote>\n\n<p>how i know the equivalent keyworks with this library ??</p>\n\n<p>should I rebuild the whole project ?!</p>\n"}, {"tags": ["c#", "sql", "sql-server", "entity-framework", "generics"], "answers": [{"tags": [], "owner": {"reputation": 1214, "user_id": 2524708, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/32AwD.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2524708/daniel"}, "is_accepted": true, "score": 0, "last_activity_date": 1458162681, "creation_date": 1458162681, "answer_id": 36047032, "question_id": 36047031, "link": "https://stackoverflow.com/questions/36047031/how-to-bulk-insert-generic-source-array-into-arbitrary-sql-table/36047032#36047032", "title": "How to bulk insert generic source array into arbitrary SQL table", "body": "<p>I was surprised I couldn't find the code for something like this anywhere. Maybe this isn't the best approach to the problem? That possibility notwithstanding, here's the solution I came up with.</p>\n\n<p>My starting outline was something like this:</p>\n\n<ol>\n<li>Use the destination table and source object type to create mapping object using reflection.</li>\n<li>Iterate through the source objects, applying the mapper, to generate the insertion data.</li>\n<li>Insert the data into the destination table using the <code>System.Data.SqlClient.SqlBulkCopy</code> object.</li>\n</ol>\n\n<p>When I see an outline like this, I try to rephrase it in terms of data types, because really all I'm doing is translating my input (<code>T[]</code>) into something that <code>SqlBulkCopy</code> will accept. But to do this, I need to decide on how to map fields.</p>\n\n<p>Here's what I settled on:</p>\n\n<pre><code>var mapper = new List&lt;Tuple&lt;string, Func&lt;object, string, object&gt;&gt;&gt;();\n</code></pre>\n\n<p>I chose this to represent a table that looks like this:</p>\n\n<pre><code>+------------+----------------------------------------------+\n| Field Name |               Mapping Function               |\n+------------+----------------------------------------------+\n| Name       | Customer.Name -&gt; Data.Customers.Name         |\n| Address    | Customer.Address -&gt; Data.Customers.Address   |\n| Age        | Customer.Age -&gt; Data.Customers.Age           |\n| Comments   | Customer.Comments -&gt; Data.Customers.Comments |\n+------------+----------------------------------------------+\n</code></pre>\n\n<p>The fact that it's a list represents the rows. That leaves us with \n<code>Tuple&lt;string, Func&lt;object, string, object&gt;&gt;</code>. This creates a sort of Dictionary (but indexed) where a given string (the field name) is mapped to a function that, when given a source object <code>T</code> and a source field (e.g. <code>Address</code>), will retrieve the appropriate value. If no corresponding property is found for a table field, we'll just return null.</p>\n\n<p>After validating that the input values are valid (connection valid, table exists, etc.), we'll create our mapping object:</p>\n\n<pre><code>//get all the column names for the table to build mapping object\nSqlCommand command = new SqlCommand($\"SELECT TOP 1 * FROM {foundTableName}\", conn);\nSqlDataReader reader = command.ExecuteReader();\n\n//build mapping object by iterating through rows and verifying that there is a match in the table\nvar mapper = new List&lt;Tuple&lt;string, Func&lt;object, string, object&gt;&gt;&gt;();\nforeach (DataRow col in reader.GetSchemaTable().Rows)\n{\n    //get column information\n    string columnName = col.Field&lt;string&gt;(\"ColumnName\");\n    PropertyInfo property = typeof(T).GetProperty(columnName);\n    Func&lt;object, string, object&gt; map;\n    if (property == null)\n    {\n        //check if it's nullable and exit if not\n        bool nullable = col.Field&lt;bool&gt;(\"Is_Nullable\");\n        if (!nullable)\n            return $\"No corresponding property found for Non-nullable field '{columnName}'.\";\n\n        //if it's nullable, create mapping function\n        map = new Func&lt;object, string, object&gt;((a, b) =&gt; null);\n    }\n    else\n        map = new Func&lt;object, string, object&gt;((src, fld) =&gt; typeof(T).GetProperty(fld).GetValue(src));\n\n    //add mapping object\n    mapper.Add(new Tuple&lt;string, Func&lt;object, string, object&gt;&gt;(columnName, map));\n}\n</code></pre>\n\n<p>The <code>SqlBulkCopy</code> object accepts <code>DataRow[]</code> as an input, so from here we can simply create template <code>DataRow</code> objects from the destination table and fill them from our mapper:</p>\n\n<pre><code>//get all the data\nint dataCount = sourceData.Count();\nvar rows = new DataRow[dataCount];\nDataTable destTableDT = new DataTable();\ndestTableDT.Load(reader);\nfor (int x = 0; x &lt; dataCount; x++)\n{\n    var dataRow = destTableDT.NewRow();\n    dataRow.ItemArray = mapper.Select(m =&gt; m.Item2.Invoke(sourceData[x], m.Item1))\n                              .ToArray();\n    rows[x] = dataRow;\n}\n</code></pre>\n\n<p>Then finish it out by writing the data:</p>\n\n<pre><code>  //set up the bulk copy connection\n  SqlBulkCopy sbc = new SqlBulkCopy(conn, SqlBulkCopyOptions.TableLock | \n                                          SqlBulkCopyOptions.UseInternalTransaction, null);\n  sbc.DestinationTableName = foundTableName;\n  sbc.BatchSize = BATCH_SIZE;\n  sbc.WriteToServer(rows);\n</code></pre>\n\n<p>And that's it! Works like a charm, and ran too fast for me to bother benchmarking (EF was taking several minutes to run these imports).</p>\n\n<p>I should note that I left out a lot of my error checking code and will probably be adding more. However, if you'd like to see my class in its entirety, here it is:</p>\n\n<pre><code>  using System;\n  using System.Collections.Generic;\n  using System.Data;\n  using System.Data.Common;\n  using System.Data.SqlClient;\n  using System.Linq;\n  using System.Reflection;\n\n  namespace DatabaseUtilities\n  {\n      public static class RapidDataTools\n      {\n          const int SCHEMA_SCHEMA_NAME = 1;\n          const int SCHEMA_TABLE_NAME = 2;\n          const int BATCH_SIZE = 1000;\n\n          /// &lt;summary&gt;\n          /// Imports an array of data into a specified table. It does so by mapping object properties\n          /// to table columns. Only properties with the same name as the column name will be copied;\n          /// other columns will be left null. Non-nullable columns with no corresponding property will\n          /// throw an error.\n          /// &lt;/summary&gt;\n          /// &lt;param name=\"connectionString\"&gt;&lt;/param&gt;\n          /// &lt;param name=\"destTableName\"&gt;Qualified table name (e.g. Admin.Table)&lt;/param&gt;\n          /// &lt;param name=\"sourceData\"&gt;&lt;/param&gt;\n          /// &lt;returns&gt;&lt;/returns&gt;\n          public static string Import&lt;T&gt;(string connectionString, string destTableName, T[] sourceData)\n          {\n              //get destination table qualified name\n              string[] tableParts = destTableName.Split('.');\n              if (tableParts.Count() != 2) return $\"Invalid or unqualified destination table name: {destTableName}.\";\n              string destSchema = tableParts[0];\n              string destTable = tableParts[1];\n\n              //create the database connection\n              SqlConnection conn = GetConnection(connectionString);\n              if (conn == null) return \"Invalid connection string.\";\n\n              //establish connection\n              try { conn.Open(); }\n              catch { return \"Could not connect to database using provided connection string.\"; }\n\n              //make sure the requested table exists\n              string foundTableName = string.Empty;\n              foreach (DataRow row in conn.GetSchema(\"Tables\").Rows)\n                  if (row[SCHEMA_SCHEMA_NAME].ToString().Equals(destSchema, StringComparison.CurrentCultureIgnoreCase) &amp;&amp;\n                      row[SCHEMA_TABLE_NAME].ToString().Equals(destTable, StringComparison.CurrentCultureIgnoreCase))\n                  {\n                      foundTableName = $\"{row[SCHEMA_SCHEMA_NAME]}.{row[SCHEMA_TABLE_NAME]}\";\n                      break;\n                  }\n              if (foundTableName == string.Empty) return $\"Specified table '{destTableName}' could not be found in table.\";\n\n              //get all the column names for the table to build mapping object\n              SqlCommand command = new SqlCommand($\"SELECT TOP 1 * FROM {foundTableName}\", conn);\n              SqlDataReader reader = command.ExecuteReader();\n\n              //build mapping object by iterating through rows and verifying that there is a match in the table\n              var mapper = new List&lt;Tuple&lt;string, Func&lt;object, string, object&gt;&gt;&gt;();\n              foreach (DataRow col in reader.GetSchemaTable().Rows)\n              {\n                  //get column information\n                  string columnName = col.Field&lt;string&gt;(\"ColumnName\");\n                  PropertyInfo property = typeof(T).GetProperty(columnName);\n                  Func&lt;object, string, object&gt; map;\n                  if (property == null)\n                  {\n                      //check if it's nullable and exit if not\n                      bool nullable = col.Field&lt;bool&gt;(\"Is_Nullable\");\n                      if (!nullable)\n                          return $\"No corresponding property found for Non-nullable field '{columnName}'.\";\n\n                      //if it's nullable, create mapping function\n                      map = new Func&lt;object, string, object&gt;((a, b) =&gt; null);\n                  }\n                  else\n                      map = new Func&lt;object, string, object&gt;((src, fld) =&gt; typeof(T).GetProperty(fld).GetValue(src));\n\n                  //add mapping object\n                  mapper.Add(new Tuple&lt;string, Func&lt;object, string, object&gt;&gt;(columnName, map));\n              }\n\n              //get all the data\n              int dataCount = sourceData.Count();\n              var rows = new DataRow[dataCount];\n              DataTable destTableDT = new DataTable();\n              destTableDT.Load(reader);\n              for (int x = 0; x &lt; dataCount; x++)\n              {\n                  var dataRow = destTableDT.NewRow();\n                  dataRow.ItemArray = mapper.Select(m =&gt; m.Item2.Invoke(sourceData[x], m.Item1)).ToArray();\n                  rows[x] = dataRow;\n              }\n\n              //close the old connection\n              conn.Close();\n\n              //set up the bulk copy connection\n              SqlBulkCopy sbc = new SqlBulkCopy(conn, SqlBulkCopyOptions.TableLock | SqlBulkCopyOptions.UseInternalTransaction, null);\n              sbc.DestinationTableName = foundTableName;\n              sbc.BatchSize = BATCH_SIZE;\n\n              //establish connection\n              try { conn.Open(); }\n              catch { return \"Failed to re-established connection to the database after reading data.\"; }\n\n              //write data\n              try { sbc.WriteToServer(rows); }\n              catch (Exception ex) { return $\"Batch write failed. Details: {ex.Message} - {ex.StackTrace}\"; }\n\n              //if we got here, everything worked!\n              return string.Empty;\n          }\n\n          private static SqlConnection GetConnection(string connectionString)\n          {\n              DbConnectionStringBuilder csb = new DbConnectionStringBuilder();\n              try { csb.ConnectionString = connectionString; }\n              catch { return null; }\n              return new SqlConnection(csb.ConnectionString);\n          }\n      }\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1214, "user_id": 2524708, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/32AwD.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2524708/daniel"}, "edited": false, "score": 0, "creation_date": 1458188808, "post_id": 36049691, "comment_id": 59751281, "body": "Very cool! I saw this during my search, but didn&#39;t relish selling a paid extension to my employer."}], "tags": [], "owner": {"reputation": 9228, "user_id": 5619143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01615deeac61a4ab97c164b94c5e92c4?s=128&d=identicon&r=PG", "display_name": "Jonathan Magnan", "link": "https://stackoverflow.com/users/5619143/jonathan-magnan"}, "is_accepted": false, "score": 0, "last_activity_date": 1519304398, "last_edit_date": 1519304398, "creation_date": 1458175637, "answer_id": 36049691, "question_id": 36047031, "link": "https://stackoverflow.com/questions/36047031/how-to-bulk-insert-generic-source-array-into-arbitrary-sql-table/36049691#36049691", "title": "How to bulk insert generic source array into arbitrary SQL table", "body": "<p>There is basically 3 approach for performing Bulk Insert in Entity Framework</p>\n\n<ul>\n<li>Entity Framework Extensions <em>(Recommended)</em></li>\n<li>EntityFramework.BulkInsert <em>(Limited and unsupported)</em></li>\n<li>SqlBulkCopy (Complex to make it work)</li>\n</ul>\n\n<p>The first 2 library add extension methods to the DbContext</p>\n\n<pre><code>using (var ctx = new EntitiesContext())\n{\n    ctx.BulkInsert(list);\n}\n</code></pre>\n\n<p>You can learn more about this three techniques in this <a href=\"http://entityframework.net/fastest-way-to-insert\" rel=\"nofollow noreferrer\">article</a></p>\n\n<p><strong>Disclaimer</strong>: I'm the owner of the project <a href=\"http://entityframework-extensions.net/\" rel=\"nofollow noreferrer\">Entity Framework Extensions</a></p>\n"}, {"tags": [], "owner": {"reputation": 18794, "user_id": 1220550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G1osH.jpg?s=128&g=1", "display_name": "Peter B", "link": "https://stackoverflow.com/users/1220550/peter-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1458208138, "creation_date": 1458208138, "answer_id": 36056904, "question_id": 36047031, "link": "https://stackoverflow.com/questions/36047031/how-to-bulk-insert-generic-source-array-into-arbitrary-sql-table/36056904#36056904", "title": "How to bulk insert generic source array into arbitrary SQL table", "body": "<p>Take a look at NuGet package \"EntityFramework.Utilities\", you can add it to your project. It has features for this. You'll have to do some recoding, but this will probably benefit you in the end.</p>\n\n<p>References:</p>\n\n<blockquote>\n  <ul>\n  <li><a href=\"https://www.nuget.org/packages/EFUtilities/\" rel=\"nofollow\">https://www.nuget.org/packages/EFUtilities/</a> (package)</li>\n  <li><a href=\"https://github.com/MikaelEliasson/EntityFramework.Utilities\" rel=\"nofollow\">https://github.com/MikaelEliasson/EntityFramework.Utilities</a> (source +\n  examples)</li>\n  </ul>\n</blockquote>\n"}], "owner": {"reputation": 1214, "user_id": 2524708, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/32AwD.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2524708/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 925, "favorite_count": 0, "accepted_answer_id": 36047032, "answer_count": 3, "score": 0, "last_activity_date": 1519304398, "creation_date": 1458162681, "question_id": 36047031, "link": "https://stackoverflow.com/questions/36047031/how-to-bulk-insert-generic-source-array-into-arbitrary-sql-table", "title": "How to bulk insert generic source array into arbitrary SQL table", "body": "<p>My application uses Entity Framework. Most days I feel fine about that, but I have trouble when I need to do bulk insertions. I've yet to find a way for EF to do these quickly. As such, I need a solution that goes outside of EF to do the updates.</p>\n\n<p>I want a method that takes a connection string, destination table name, and a generic array of source data, and performs the bulk insertions. Moreover, I'd like it to map the properties of the source data to the specific table fields, ideally without requiring attributes in the source object to designate the table field.</p>\n\n<p>Thus, for this object:</p>\n\n<pre><code>public class Customer\n{\n    //property populated &amp; used only in memory\n    public string TempProperty { get; set; }\n\n    //properties saved in the database\n    public string Name { get; set; }\n    public string Address { get; set; }\n    public int Age { get; set; }\n    public string Comments { get; set; }\n\n    //various methods, constructors, etc.\n}\n</code></pre>\n\n<p>I should be able to provide the table name <code>Data.Customer</code>, and the method should map <code>Customer.Name -&gt; Data.Customers.Name</code>, <code>Customer.Address -&gt; Data.Customers.Address</code>, etc.</p>\n"}, {"tags": ["c#", "msbuild", "win-universal-app", "multilingual-app-toolkit"], "answers": [{"tags": [], "owner": {"reputation": 1415, "user_id": 3079834, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/l4Lgy.jpg?s=128&g=1", "display_name": "user3079834", "link": "https://stackoverflow.com/users/3079834/user3079834"}, "is_accepted": false, "score": -1, "last_activity_date": 1459008443, "creation_date": 1459008443, "answer_id": 36237534, "question_id": 36047021, "link": "https://stackoverflow.com/questions/36047021/multilingual-app-toolkit-with-continuous-integration/36237534#36237534", "title": "Multilingual App Toolkit with continuous integration", "body": "<p>Can you go to <em>Control Panel</em> -> <em>Programs and Features</em> and check, which version of Multilingual Toolkit you have installed.</p>\n\n<p>I just had the same error after installing MAT and it turned out to be version 3.1 instead of 4.0. Maybe you have both version installed?</p>\n\n<p>Try to deinstall all versions of MAT and reinstall latest version from <a href=\"https://visualstudiogallery.msdn.microsoft.com/6dab9154-a7e1-46e4-bbfa-18b5e81df520\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 709, "user_id": 3149172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/62DFq.jpg?s=128&g=1", "display_name": "piotrbalut", "link": "https://stackoverflow.com/users/3149172/piotrbalut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 274, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1459008443, "creation_date": 1458162656, "question_id": 36047021, "link": "https://stackoverflow.com/questions/36047021/multilingual-app-toolkit-with-continuous-integration", "title": "Multilingual App Toolkit with continuous integration", "body": "<p>In my UWP project I uses <a href=\"https://visualstudiogallery.msdn.microsoft.com/6dab9154-a7e1-46e4-bbfa-18b5e81df520\" rel=\"nofollow\">Multilingual App Toolkit</a>, but there are a problem because the build on Visual Studio Team Services generate error MSB4019: <em>The imported project \"C:\\Program Files (x86)\\MSBuild\\Microsoft\\Multilingual App Toolkit\\v4.0\\Microsoft.Multilingual.PriResources.targets</em> was not found. Confirm that the path in the  declaration is correct, and that the file exists on disk. \nIs there any way to resolve this issue ? </p>\n"}, {"tags": ["c#", "generics", "unity-container"], "comments": [{"owner": {"reputation": 11824, "user_id": 3107430, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/55fDR.jpg?s=128&g=1", "display_name": "Domysee", "link": "https://stackoverflow.com/users/3107430/domysee"}, "edited": false, "score": 0, "creation_date": 1458196383, "post_id": 36046994, "comment_id": 59753974, "body": "What errors did you get?"}], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 1467813, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/hvHpm.jpg?s=128&g=1", "display_name": "Grisha", "link": "https://stackoverflow.com/users/1467813/grisha"}, "is_accepted": true, "score": 1, "last_activity_date": 1458227538, "creation_date": 1458227538, "answer_id": 36064604, "question_id": 36046994, "link": "https://stackoverflow.com/questions/36046994/unity-register-and-resolve-class-that-implements-generic-interface/36064604#36064604", "title": "Unity : Register and resolve class that implements generic interface", "body": "<p>I found the root of the problem and I am in a hurry to share about it and a solution, if some one is going the same erroneous steps I did. It turned out that my registration was okay, but the problem was in the handler factory where I violated the Liskov substitution principle. Here is the code.</p>\n\n<pre><code> public interface IEventFactory\n {\n    IEvent Create(...);\n }\n\n public class CompletedEventFactory : IEventFactory\n {\n    ...\n\n    public IEvent Create(...)\n    {\n        return _container.Resolve&lt;CompletedEvent&gt;(new ParameterOverride(...));\n    }\n\n}\n\npublic class Service\n{\n    ...\n\n    public void DoWork()\n    {\n        var completedEvent = _eventFactory.Create(...);\n        DomainEvents.Raise(completedEvent);\n    }\n\n}\n</code></pre>\n\n<p>And my resolve was inside of the Raise method:</p>\n\n<pre><code>public static void Raise&lt;T&gt;(T args) where T : IDomainEvent\n{\n    ...\n\n    Container.ResolveAll&lt;IHandle&lt;T&gt;&gt;();   \n}\n</code></pre>\n\n<p>I was catching an <strong>InvalidOperationException</strong> - The current type, ...IHandle`1[...IEvent], is <strong>an interface and cannot be constructe</strong>d. Are you missing a type mapping?</p>\n\n<p>Here is the solution :</p>\n\n<pre><code>public interface IEventFactory\n{\n     CompletedEvent Create(...);\n}\n</code></pre>\n\n<p>Lessons that I learned:</p>\n\n<ol>\n<li>Do not violate fundamental principles, however promising it may seems at the moment.</li>\n<li>Include the exception in the post as it is a valuable input into the information about the problem. </li>\n</ol>\n"}], "owner": {"reputation": 85, "user_id": 1467813, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/hvHpm.jpg?s=128&g=1", "display_name": "Grisha", "link": "https://stackoverflow.com/users/1467813/grisha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 36064604, "answer_count": 1, "score": 0, "last_activity_date": 1458227538, "creation_date": 1458162604, "question_id": 36046994, "link": "https://stackoverflow.com/questions/36046994/unity-register-and-resolve-class-that-implements-generic-interface", "title": "Unity : Register and resolve class that implements generic interface", "body": "<p>I am trying to use generics to subscribe handlers to different events. I have the following interfaces and classes:</p>\n\n<pre><code>public interface IEvent { }\n\npublic class CompletedEvent : IEvent { }\n\npublic interface IHandle&lt;T&gt; where T: IEvent { }\n\npublic class CompletedHandler : IHandle&lt;CompletedEvent&gt;  \n{     \n    public void Handle(CompletedEvent args)\n    {  \n        args.Completed.Path = \"\\...\";\n    }\n}\n</code></pre>\n\n<p>And I would like to resolve handler like this :</p>\n\n<pre><code>Container.ResolveAll&lt;IHandle&lt;T&gt;&gt;();\n</code></pre>\n\n<p>I have tried several approaches to register the above class in Unity but I did not succeed. Among which were  </p>\n\n<pre><code>Container.RegisterType(typeof(IHandle&lt;CompletedEvent&gt;), typeof(CompletedHandler));\n</code></pre>\n\n<p>and </p>\n\n<pre><code>Container.RegisterType&lt;IHandle&lt;CompletedEvent&gt;, CompletedHandler&gt;();\n</code></pre>\n\n<p>Thank you!</p>\n"}, {"tags": ["c#", "rabbitmq", "rabbitmq-exchange", "easynetq"], "answers": [{"tags": [], "owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "is_accepted": true, "score": 2, "last_activity_date": 1458170899, "last_edit_date": 1592644375, "creation_date": 1458170899, "answer_id": 36048923, "question_id": 36046981, "link": "https://stackoverflow.com/questions/36046981/rabbitmq-basic-return/36048923#36048923", "title": "RabbitMQ basic.return", "body": "<p>Yes, you will always receive the events in that order.</p>\n<p>From the <a href=\"https://www.rabbitmq.com/confirms.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<h1>When will messages be confirmed?</h1>\n<p>For unroutable messages, the broker will issue a confirm once the exchange verifies a message won't route to any queue (returns an empty list of queues). <em><strong>If the message is also published as mandatory, the basic.return is sent to the client before basic.ack</strong></em>. The same is true for negative acknowledgements (basic.nack).</p>\n</blockquote>\n"}], "owner": {"reputation": 137, "user_id": 3815367, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0f847af8709a3f7df767976be9ebf25b?s=128&d=identicon&r=PG&f=1", "display_name": "schizofreindly", "link": "https://stackoverflow.com/users/3815367/schizofreindly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1368, "favorite_count": 1, "accepted_answer_id": 36048923, "answer_count": 1, "score": 2, "last_activity_date": 1458170899, "creation_date": 1458162565, "question_id": 36046981, "link": "https://stackoverflow.com/questions/36046981/rabbitmq-basic-return", "title": "RabbitMQ basic.return", "body": "<p>If I publish with confirmation(model.ConfirmSelect) AKA basic.ack and mandatory flag. Will I always get the basic.return event before the basic.ack event if the message was not delivered.</p>\n\n<p>I want to add all basic.return messages to ConcurrentDictionary and after publish I'll check if the message is in the dicitonary I'll throw an exception, that no queue/route exists, and remove it, on error or success.</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.ios", "eventhandler", "manualresetevent"], "comments": [{"owner": {"reputation": 2487, "user_id": 92756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82be957a7bba731ce629e570e1c6f214?s=128&d=identicon&r=PG", "display_name": "Felix Alcala", "link": "https://stackoverflow.com/users/92756/felix-alcala"}, "edited": false, "score": 0, "creation_date": 1458555793, "post_id": 36046952, "comment_id": 59895688, "body": "Would <code>SendData</code> call <code>StartListening</code>? If so, when and how? Maybe you can share some more code..."}], "owner": {"reputation": 21, "user_id": 5451111, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153026795216782/picture?type=large", "display_name": "Philippe Bourque", "link": "https://stackoverflow.com/users/5451111/philippe-bourque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 352, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1487614031, "creation_date": 1458162477, "last_edit_date": 1487614031, "question_id": 36046952, "link": "https://stackoverflow.com/questions/36046952/xamarin-forms-eventhandler-can-not-fire-when-using-manualresetevent-waitone-on", "title": "Xamarin.Forms : EventHandler can not fire when using ManualResetEvent.WaitOne only in iOS (works fine in Android)", "body": "<p>I'm working on a single App with Xamarin.Forms, Visual Studio.</p>\n\n<p>I'm using a ManualResetEvent in my code to wait for an event to fire.\nNo problem with Android, but in iOs, myManualResetEvent.WaitOne(5000) is waiting infinitely.\nBut, as soon as I get out of my function, after the timeout, I get the event....</p>\n\n<p>Why iOS is blocking and not Android?\nAnyone can help?</p>\n\n<p>(partial code)</p>\n\n<pre><code>ManualResetEvent handshaking;\nEventHandler&lt;CharacteristicReadEventArgs&gt; valueUpdatedHandler;\n\ninternal void StartListening()\n{\n    handshaking.Reset();\n\n    valueUpdatedHandler = (s, e) =&gt;\n    {\n        try\n        {\n            Debug.WriteLine(\"received data\");\n            handshaking.Set(); // Get here in Android when Waiting, NOT in iOS\n        }\n        catch (ArgumentNullException)\n        {\n            return;\n        }\n    };\n\n    something.ValueUpdated += valueUpdatedHandler;\n}\n\nprivate void SendingData()\n{\n    handshaking.Reset();\n    Debug.WriteLine(\"new line\");\n    SendData();\n\n    // wait for handshaking\n    handshaking.WaitOne(5000);  // in Android, I get Set() by my event, in iOS, NOT???\n    handshaking.Reset();\n}\n</code></pre>\n"}, {"tags": ["c#", "pdf", "unity3d", "sharppdf"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458162967, "post_id": 36046887, "comment_id": 59742751, "body": "I wouldn&#39;t use the AddImage(string, int, int) method.  Instead I would use the Addimage(image, int, int) method.  The image should be made by using a byte[] and make sure the byte array is read from a file using Encoding.UTF8."}, {"owner": {"reputation": 179, "user_id": 5267743, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0e39ed88085b79192288b941d0a9363a?s=128&d=identicon&r=PG", "display_name": "Al Wyvern", "link": "https://stackoverflow.com/users/5267743/al-wyvern"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458163121, "post_id": 36046887, "comment_id": 59742828, "body": "Using addimage(byte[],int, int) doesn&#39;t work, when I do it that way, when you open the pdf adobe gives an out of memory error"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458164621, "post_id": 36046887, "comment_id": 59743605, "body": "You have to use a method to create image from byte array.  See posting : <a href=\"http://stackoverflow.com/questions/9173904/bytearray-to-image-conversion\" title=\"bytearray to image conversion\">stackoverflow.com/questions/9173904/&hellip;</a>"}, {"owner": {"reputation": 179, "user_id": 5267743, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0e39ed88085b79192288b941d0a9363a?s=128&d=identicon&r=PG", "display_name": "Al Wyvern", "link": "https://stackoverflow.com/users/5267743/al-wyvern"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458165546, "post_id": 36046887, "comment_id": 59744017, "body": "I was using <code>File.ReadAllBytes</code>, was that not enough?"}, {"owner": {"reputation": 717, "user_id": 776442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/80e1802cd80a47d804e5773822262692?s=128&d=identicon&r=PG", "display_name": "Maxim Kamalov", "link": "https://stackoverflow.com/users/776442/maxim-kamalov"}, "edited": false, "score": 0, "creation_date": 1458165712, "post_id": 36046887, "comment_id": 59744085, "body": "You should make it work in normal .NET application first, then \u201cport\u201d it to Unity. Otherwise, you never easily know if you use API in a wrong way or Unity&#39;s issues are at fault."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458166513, "post_id": 36046887, "comment_id": 59744468, "body": "There is problems with ReadAllBytes if you are converting to a string object.  A string is a two byte object and sometimes the packing of the bytes is done incorrectly.  Encoding specifies how the bytes get packed into the string and the default that is often used in the Net library is Ascii encoding which removes all non printable character.  When you have binary data that will create errors.  I avoid putting binary data into string objects to prevent these errors."}, {"owner": {"reputation": 179, "user_id": 5267743, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0e39ed88085b79192288b941d0a9363a?s=128&d=identicon&r=PG", "display_name": "Al Wyvern", "link": "https://stackoverflow.com/users/5267743/al-wyvern"}, "reply_to_user": {"reputation": 717, "user_id": 776442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/80e1802cd80a47d804e5773822262692?s=128&d=identicon&r=PG", "display_name": "Maxim Kamalov", "link": "https://stackoverflow.com/users/776442/maxim-kamalov"}, "edited": false, "score": 0, "creation_date": 1458166831, "post_id": 36046887, "comment_id": 59744595, "body": "@MaximKamalov the API was made specifically for Unity"}, {"owner": {"reputation": 717, "user_id": 776442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/80e1802cd80a47d804e5773822262692?s=128&d=identicon&r=PG", "display_name": "Maxim Kamalov", "link": "https://stackoverflow.com/users/776442/maxim-kamalov"}, "edited": false, "score": 0, "creation_date": 1458167078, "post_id": 36046887, "comment_id": 59744703, "body": "sharpPDF itself is intended for Windows Forms and ASP.NET as described here: <a href=\"http://sharppdf.sourceforge.net\" rel=\"nofollow noreferrer\">sharppdf.sourceforge.net</a>"}, {"owner": {"reputation": 550, "user_id": 3303995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fddfa173843c0c0c83e55f8adb299dd9?s=128&d=identicon&r=PG&f=1", "display_name": "Numabyte", "link": "https://stackoverflow.com/users/3303995/numabyte"}, "edited": false, "score": 0, "creation_date": 1597986128, "post_id": 36046887, "comment_id": 112316257, "body": "There&#39;s a trick within the plugin that tries to use Unity&#39;s Web lib to convert image to byte array.    UnityWebRequest www = UnityWebRequest.Get(path);  byte[] b = www.downloadHandler.data;"}], "answers": [{"tags": [], "owner": {"reputation": 341, "user_id": 1084830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GjBLy.jpg?s=128&g=1", "display_name": "Phillip Brandon Holmes", "link": "https://stackoverflow.com/users/1084830/phillip-brandon-holmes"}, "is_accepted": false, "score": 0, "last_activity_date": 1534194638, "last_edit_date": 1534194638, "creation_date": 1534193847, "answer_id": 51830452, "question_id": 36046887, "link": "https://stackoverflow.com/questions/36046887/addimage-not-working-in-sharppdf/51830452#51830452", "title": "addImage not working in SharpPDF", "body": "<pre><code>// in your poco\npublic string HeaderImage { get; set; } =\n    Path.GetDirectoryName(Path.GetDirectoryName(\n        System.IO.Path.GetDirectoryName(System.Reflection.Assembly.GetExecutingAssembly().GetName()\n            .CodeBase))) + \"\\\\assets\\\\your_logo.png\";\n\n// then in your function\nmyDoc.addImageReference(HeaderImage.Replace(\"file:\\\\\", string.Empty), \"Logo\");\n        pdfPage.addImage(myDoc.getImageReference(\"Logo\"), 13, 720, 60, 60);\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 5267743, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0e39ed88085b79192288b941d0a9363a?s=128&d=identicon&r=PG", "display_name": "Al Wyvern", "link": "https://stackoverflow.com/users/5267743/al-wyvern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1506, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565930245, "creation_date": 1458162257, "last_edit_date": 1458162745, "question_id": 36046887, "link": "https://stackoverflow.com/questions/36046887/addimage-not-working-in-sharppdf", "title": "addImage not working in SharpPDF", "body": "<p>I've been using the sharpPDF API to try and create pdf images inside Unity3D. The hello world test went fine but no matter what I do I can't get images to work. Using the ddImage function makes the pdf reader crash and using newAddImage seems to do nothing at all. Unfortunately google has been no help at all so I'm hoping someone here can help me out!</p>\n\n<p>I did look into a different library but pdfsharp just plain didn't work giving a ton of errors on the compiler and iTextSharp is to expensive.</p>\n\n<p>API is here <a href=\"http://www.francescogallorini.com/2011/02/unity-sharp-pdf/\" rel=\"nofollow\">http://www.francescogallorini.com/2011/02/unity-sharp-pdf/</a></p>\n\n<p>and my code is:</p>\n\n<pre><code>    //byte[] image;\n    //image = File.ReadAllBytes(\"Assets/Sprites/128x128 player ship trial.png\");\n\n    pdfDocument myDoc = new sharpPDF.pdfDocument(\"Awesome Space Station\", \"Al Wyvern\");\n    pdfPage myPage = myDoc.addPage(500,500);\n    myPage.newAddImage(\"Assets/Sprites/128x128 player ship trial.png\", 10, 10);\n    //myPage.addImage(image, 0,0,256,256);\n    myPage.addText(\"Hello World\", 128, 128, predefinedFont.csCourier, 20);\n    myDoc.createPDF(\"Awesome Space Station.pdf\");\n    myPage = null;\n    myDoc = null;\n</code></pre>\n\n<p>Thanks for any help you can give</p>\n"}, {"tags": ["c#", ".net", "compiler-errors", ".net-assembly"], "comments": [{"owner": {"reputation": 13804, "user_id": 15754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DrITH.jpg?s=128&g=1", "display_name": "dbugger", "link": "https://stackoverflow.com/users/15754/dbugger"}, "edited": false, "score": 1, "creation_date": 1458162514, "post_id": 36046849, "comment_id": 59742490, "body": "You still need to add the assembly.  The compiler has access to what it needs at compile time, but if the Indirect assembly is not referenced at runtime, Assembly B cannot load, and hence Assembly A cannot load."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 3066012, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b6fad24c4e937a5aeffe8b23fcbcb43?s=128&d=identicon&r=PG&f=1", "display_name": "cjablonski76", "link": "https://stackoverflow.com/users/3066012/cjablonski76"}, "edited": false, "score": 1, "creation_date": 1458172868, "post_id": 36046970, "comment_id": 59746881, "body": "For what it is worth, to anyone else in this same situation, I actually ended up switching the second TestMethod to be internal instead of public and that was enough to get the compiler to not consider it an option. Of course, having it internal also made since for my solution, so it might not be acceptable for anyone else."}], "tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": true, "score": 1, "last_activity_date": 1458162521, "creation_date": 1458162521, "answer_id": 36046970, "question_id": 36046849, "link": "https://stackoverflow.com/questions/36046849/c-getting-error-type-indirect-class-not-defined-in-an-assembly-not-reference/36046970#36046970", "title": "C# Getting Error: Type &quot;Indirect.Class&quot; Not Defined In an Assembly Not Referenced . Must Add a reference to assembly &quot;Indirect&quot;", "body": "<p>The compiler has to pick the best matching overload, and in doing so, it evaluates the number of conversions necessary for each candidate and then ranks them.</p>\n\n<p>You and I know that because there is an exact match, it doesn't matter how bad the others are, because they can't ever win.  But that's not how the language rules are written, nor how the compiler works.</p>\n\n<p>The compiler doesn't know you aren't calling the second overload until it ranks all the overloads, including the one you aren't calling.  To do that, it checks whether the actual parameter (of type <code>string</code>) can be converted to the type of the formal parameter (<code>Indirect.Class</code>), and it needs to look inside the assembly for <code>Indirect.Class</code> because that's where such a conversion would be defined.</p>\n"}], "owner": {"reputation": 123, "user_id": 3066012, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b6fad24c4e937a5aeffe8b23fcbcb43?s=128&d=identicon&r=PG&f=1", "display_name": "cjablonski76", "link": "https://stackoverflow.com/users/3066012/cjablonski76"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 36046970, "answer_count": 1, "score": 0, "last_activity_date": 1458162521, "creation_date": 1458162135, "last_edit_date": 1458162351, "question_id": 36046849, "link": "https://stackoverflow.com/questions/36046849/c-getting-error-type-indirect-class-not-defined-in-an-assembly-not-reference", "title": "C# Getting Error: Type &quot;Indirect.Class&quot; Not Defined In an Assembly Not Referenced . Must Add a reference to assembly &quot;Indirect&quot;", "body": "<p>I realize this question has been brought up, but mine is being caused for different reasons than i've seen on the similar questions, so here is my setup.</p>\n\n<p>I have 2 c# projects, <code>A</code> and <code>B</code>, and project <code>B</code> reference a third party library, <code>Indirect</code>. <code>A</code> will call a static method defined in <code>B</code>, and when I build I get the following error.</p>\n\n<blockquote>\n  <p>Error 2   The type 'Indirect.Class' is defined in an assembly that is not referenced. You must add a reference to assembly 'Indirect, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.</p>\n</blockquote>\n\n<p>Here is the code:</p>\n\n<pre><code>//Project A\nclass A\n{\n    static void Main(string[] args)\n    {\n        B.TestMethod(\"fileName\", \"param2\");\n    }\n}\n\n//Project B\npublic class B\n{\n    public static string TestMethod(string fileName, string param2)\n    {\n        return \"\";\n    }\n\n    public static bool TestMethod(Indirect.Class doc, string anotherParam)\n    {\n        return false;\n    }\n}\n</code></pre>\n\n<p>So even though in <code>A</code> I am calling the <code>B</code> method that does not depend on the <code>Indirect</code> assembly, I still see the error. Can someone explain to me why the compiler is having trouble determining this at compile time? I could simply rename the second <code>B.TestMethod</code> and the error would go away, or I could add a third parameter to it, but all of this seems unnecessary.</p>\n"}, {"tags": ["c#", ".net", "asp.net-web-api2", "unity-container"], "comments": [{"owner": {"reputation": 2666, "user_id": 382780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e2b7c885cfa6c044bd14500052d2060?s=128&d=identicon&r=PG", "display_name": "31eee384", "link": "https://stackoverflow.com/users/382780/31eee384"}, "edited": false, "score": 0, "creation_date": 1458162221, "post_id": 36046823, "comment_id": 59742325, "body": "Have you tried opening the packages yourself to take a look? <code>.nupkg</code> files are just zip archives."}, {"owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 0, "creation_date": 1458162309, "post_id": 36046823, "comment_id": 59742369, "body": "MVC and WebAPI use different dependency resolvers.  Check out the documentation on Unity.WebAPI - <a href=\"https://github.com/devtrends/Unity.WebAPI\" rel=\"nofollow noreferrer\">github.com/devtrends/Unity.WebAPI</a>"}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 199135, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/BaD2f.jpg?s=128&g=1", "display_name": "Adam N", "link": "https://stackoverflow.com/users/199135/adam-n"}, "edited": false, "score": 0, "creation_date": 1458584555, "post_id": 36047220, "comment_id": 59915979, "body": "Thank you. That makes sense."}], "tags": [], "owner": {"reputation": 16540, "user_id": 15697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cde92ebf68457ac425d97e150ae7b3d2?s=128&d=identicon&r=PG", "display_name": "Russ Clarke", "link": "https://stackoverflow.com/users/15697/russ-clarke"}, "is_accepted": true, "score": 3, "last_activity_date": 1458163448, "creation_date": 1458163448, "answer_id": 36047220, "question_id": 36046823, "link": "https://stackoverflow.com/questions/36046823/what-is-the-difference-between-unity-and-unity-webapi-packages/36047220#36047220", "title": "What is the difference between Unity and Unity.WebApi packages", "body": "<p>Simply, the Unity.WebApi package makes it simple to integrate Unity in a WebApi project by wiring up the basic components for you.</p>\n\n<p>It does this by adding a pre-defined unity configuration class which you just reference in your Application_Start event.</p>\n\n<p>If you have Unity already configured and working, you don't need it and it's not a requirement for using Unity with WebApi.</p>\n"}], "owner": {"reputation": 115, "user_id": 199135, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/BaD2f.jpg?s=128&g=1", "display_name": "Adam N", "link": "https://stackoverflow.com/users/199135/adam-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 929, "favorite_count": 1, "accepted_answer_id": 36047220, "answer_count": 1, "score": 2, "last_activity_date": 1458163448, "creation_date": 1458162026, "question_id": 36046823, "link": "https://stackoverflow.com/questions/36046823/what-is-the-difference-between-unity-and-unity-webapi-packages", "title": "What is the difference between Unity and Unity.WebApi packages", "body": "<p>I am currently using Unity nuget package in my web api project, but from the description of that package it's a light weight Ioc container. My question is what is the difference between Unity and Unity.WebApi nuget packages? I want to make sure that I am not missing something needed in unity.webapi that unity does not have.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c#", "asp.net", "http-request-parameters"], "comments": [{"owner": {"reputation": 1683, "user_id": 3299157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd2850c64bf866ed6e6b448eca08f0ea?s=128&d=identicon&r=PG&f=1", "display_name": "Ageonix", "link": "https://stackoverflow.com/users/3299157/ageonix"}, "edited": false, "score": 2, "creation_date": 1458162284, "post_id": 36046790, "comment_id": 59742358, "body": "So what&#39;s the question?"}, {"owner": {"reputation": 2589, "user_id": 636942, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Ay7I5.png?s=128&g=1", "display_name": "Brad C", "link": "https://stackoverflow.com/users/636942/brad-c"}, "edited": false, "score": 0, "creation_date": 1458162375, "post_id": 36046790, "comment_id": 59742412, "body": "Have you tried HttpUtility.ParseQueryString()?"}], "answers": [{"tags": [], "owner": {"reputation": 1889, "user_id": 1720615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0bb1b482972b6fbf9e15b954670779b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1720615/chris"}, "is_accepted": true, "score": -1, "last_activity_date": 1458163627, "creation_date": 1458163627, "answer_id": 36047271, "question_id": 36046790, "link": "https://stackoverflow.com/questions/36046790/c-asp-net-string-values-httprequestheader/36047271#36047271", "title": "c# asp.net string values HttpRequestHeader", "body": "<p>You can do this:</p>\n\n<pre><code>var nameValueCollection = System.Web.HttpUtility.ParseQueryString(\"code1=7ea12f&amp;code2=3867&amp;code3=123&amp;code4=104\");\n\nlabel1.text = nameValueCollection[\"code1\"];\nlabel2.text = nameValueCollection[\"code2\"];\nlabel3.text = nameValueCollection[\"code3\"];\nlabel4.text = nameValueCollection[\"code4\"];\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 2016580, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f9c3223bfa51fce08464091ccd7d21fd?s=128&d=identicon&r=PG", "display_name": "amid", "link": "https://stackoverflow.com/users/2016580/amid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "closed_date": 1458378225, "accepted_answer_id": 36047271, "answer_count": 1, "score": -2, "last_activity_date": 1458377524, "creation_date": 1458161883, "last_edit_date": 1458339540, "question_id": 36046790, "link": "https://stackoverflow.com/questions/36046790/c-asp-net-string-values-httprequestheader", "closed_reason": "Needs details or clarity", "title": "c# asp.net string values HttpRequestHeader", "body": "<p><BR>\nI send data to the API via <code>HttpRequestHeader</code> (post)<BR>\nThe server response is:<BR></p>\n\n<pre><code>code1=7ea12f&amp;code2=3867&amp;code3=123&amp;code4=104\n</code></pre>\n\n<p>I need to string each value to view them in separate label.</p>\n\n<p>etc.</p>\n\n<pre><code>label1.text = code1;\nlabel2.text = code2;\nlabel3.text = code3;\nlabel4.text = code4;\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "asp.net", "windows", "server"], "comments": [{"owner": {"reputation": 3991, "user_id": 918608, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5f8e40c00556954cd5c6159ef6ae54ed?s=128&d=identicon&r=PG&f=1", "display_name": "Josh C.", "link": "https://stackoverflow.com/users/918608/josh-c"}, "edited": false, "score": 2, "creation_date": 1458162077, "post_id": 36046749, "comment_id": 59742235, "body": "This could be any number of things. Is this in a colo or provider like AWS? Do you have ipsec configured correctly in iis? A firewall could be the issue. Regardless of your site, can you reach the machine externally at all? You need to provide more info."}, {"owner": {"reputation": 284, "user_id": 2942966, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fBK06.jpg?s=128&g=1", "display_name": "Catalin Craciun", "link": "https://stackoverflow.com/users/2942966/catalin-craciun"}, "reply_to_user": {"reputation": 3991, "user_id": 918608, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5f8e40c00556954cd5c6159ef6ae54ed?s=128&d=identicon&r=PG&f=1", "display_name": "Josh C.", "link": "https://stackoverflow.com/users/918608/josh-c"}, "edited": false, "score": 0, "creation_date": 1458162162, "post_id": 36046749, "comment_id": 59742283, "body": "it&#39;s inside aws and ipsec is by default, haven&#39;t made any changes"}, {"owner": {"reputation": 3991, "user_id": 918608, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5f8e40c00556954cd5c6159ef6ae54ed?s=128&d=identicon&r=PG&f=1", "display_name": "Josh C.", "link": "https://stackoverflow.com/users/918608/josh-c"}, "edited": false, "score": 1, "creation_date": 1458162197, "post_id": 36046749, "comment_id": 59742308, "body": "only 80 and 443 are exposed in aws."}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1458162338, "post_id": 36046749, "comment_id": 59742385, "body": "You can still publish your website under &quot;Default web site&quot; which runs on port 80 by default. or if there&#39;s nothing on Default webs site remove its mapping to port 80 and change it to something else. Create a new website in IIS root and map it port 80. Deploy your website on new Website. This should work."}, {"owner": {"reputation": 3991, "user_id": 918608, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5f8e40c00556954cd5c6159ef6ae54ed?s=128&d=identicon&r=PG&f=1", "display_name": "Josh C.", "link": "https://stackoverflow.com/users/918608/josh-c"}, "edited": false, "score": 3, "creation_date": 1458162401, "post_id": 36046749, "comment_id": 59742430, "body": "This question is probably better suited for serverfault. Also, it seems this question has been asked many times there. i.e. <a href=\"http://serverfault.com/questions/317903/aws-ec2-open-port-8080\">serverfault.com/questions/317903/aws-ec2-open-port-8080</a>"}, {"owner": {"reputation": 284, "user_id": 2942966, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fBK06.jpg?s=128&g=1", "display_name": "Catalin Craciun", "link": "https://stackoverflow.com/users/2942966/catalin-craciun"}, "reply_to_user": {"reputation": 3991, "user_id": 918608, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5f8e40c00556954cd5c6159ef6ae54ed?s=128&d=identicon&r=PG&f=1", "display_name": "Josh C.", "link": "https://stackoverflow.com/users/918608/josh-c"}, "edited": false, "score": 0, "creation_date": 1458162405, "post_id": 36046749, "comment_id": 59742434, "body": "@Josh. C does that mean 8080 will not work with aws? For Inbound rules under security groups I have added TCP access for 8080 from any IP."}], "owner": {"reputation": 284, "user_id": 2942966, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fBK06.jpg?s=128&g=1", "display_name": "Catalin Craciun", "link": "https://stackoverflow.com/users/2942966/catalin-craciun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1458161734, "creation_date": 1458161734, "question_id": 36046749, "link": "https://stackoverflow.com/questions/36046749/why-cant-asp-net-api-be-accessed-via-external-ip", "title": "Why can&#39;t ASP.NET API be accessed via external ip?", "body": "<p>I have a Windows Server 2012 R2 instance and I wanted to deploy an ASP.NET Web API to it (I have used custom deployment method, saving the .rar file on disk). I have created the website inside IIS and everything is working great on <a href=\"http://localhost:8080\" rel=\"nofollow\">http://localhost:8080</a>.</p>\n\n<p>When I try to access it by its external ip (<a href=\"http://12.34.567.899:8080\" rel=\"nofollow\">http://12.34.567.899:8080</a>) it won't respond.\nAlso, the default website on port 80 is fully working.</p>\n\n<h1>Things that I have tried</h1>\n\n<p><strong>1. My port is open as I have run 'netstat -a' and port 8080 shows as 'LISTENING'</strong></p>\n\n<p><strong>2. I have already checked bindings for IIS, they are ':8080'</strong></p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["c#", "sql"], "comments": [{"owner": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "edited": false, "score": 0, "creation_date": 1458163343, "post_id": 36046696, "comment_id": 59742942, "body": "Well, if it were me, I&#39;d use a data adapter, fill a data table, then just bind the listbox to that. Is this a asp.net listbox, or a forms listbox? Also, if you use data binding, you don&#39;t need to look up the id for the selected item, it&#39;s right there for you to use."}, {"owner": {"reputation": 39, "user_id": 5847857, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/332ee6fdaba0aa25a130e9a46f00c5ae?s=128&d=identicon&r=PG&f=1", "display_name": "ArtR45", "link": "https://stackoverflow.com/users/5847857/artr45"}, "reply_to_user": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "edited": false, "score": 0, "creation_date": 1458223208, "post_id": 36046696, "comment_id": 59772023, "body": "This is a forms listbox (not asp.net)  I&#39;m using the listboxes as selections, i.e. the user makes a selection from Listbox1 and it&#39;s moved to Listbox2 ... Consequently I don&#39;t think I can use Data Binding."}, {"owner": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "edited": false, "score": 0, "creation_date": 1458223733, "post_id": 36046696, "comment_id": 59772427, "body": "Sure you can. Do they need to move items back from listbox 2 to listbox 1? Also, when they move it from L1 to L2, should it disappear from L1?"}, {"owner": {"reputation": 39, "user_id": 5847857, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/332ee6fdaba0aa25a130e9a46f00c5ae?s=128&d=identicon&r=PG&f=1", "display_name": "ArtR45", "link": "https://stackoverflow.com/users/5847857/artr45"}, "reply_to_user": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "edited": false, "score": 0, "creation_date": 1458320200, "post_id": 36046696, "comment_id": 59824503, "body": "Yes &amp; Yes.  The user selects from Listbox1, the item is removed from box1 &amp; added to box2.  In box2 they can re-sequence the items (move up or down), order is important.  They can also remove items from box2 and it gets added back to box1, which is maintained in alphabetical order.  When I tried doing this with data binding I got errors.  I followed the suggestions here and went with a data table ... this solved my problem ... I build the table with ID &amp; Name, then populate box1 with name, then as the user works with box2 I collect the ID in sequence."}, {"owner": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "edited": false, "score": 0, "creation_date": 1458325680, "post_id": 36046696, "comment_id": 59827706, "body": "You can do that with data binding, but you don&#39;t need to, and it probably is easier without it when moving things back and forth like that. Glad you got it working!"}], "answers": [{"comments": [{"owner": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "edited": false, "score": 0, "creation_date": 1458163247, "post_id": 36047019, "comment_id": 59742901, "body": "Wouldn&#39;t data adapter fill be easier if you wanted a datatable?"}, {"owner": {"reputation": 476, "user_id": 3781235, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KyK9q.jpg?s=128&g=1", "display_name": "aguertin", "link": "https://stackoverflow.com/users/3781235/aguertin"}, "reply_to_user": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "edited": false, "score": 0, "creation_date": 1458163478, "post_id": 36047019, "comment_id": 59743015, "body": "Same thing but long hand version"}], "tags": [], "owner": {"reputation": 476, "user_id": 3781235, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KyK9q.jpg?s=128&g=1", "display_name": "aguertin", "link": "https://stackoverflow.com/users/3781235/aguertin"}, "is_accepted": false, "score": 0, "last_activity_date": 1458163694, "last_edit_date": 1458163694, "creation_date": 1458162651, "answer_id": 36047019, "question_id": 36046696, "link": "https://stackoverflow.com/questions/36046696/c-working-with-mulitcolumn-list/36047019#36047019", "title": "C# Working with mulitcolumn list", "body": "<p>I like to use DataTables for this sort of thing personally. I will then reference the table instead of the database when I need the data for lookups:</p>\n\n<pre><code>sqlRead = sqlCmd.ExecuteReader();\nvar dt = new DataTable();\nfor (var i = 0; i &lt; sqlRead.FieldCount; i++)\n{\n    dt.Columns.Add(sqlRead.GetName(i), typeof(string));\n}\n\nwhile (sqlRead.Read())\n{\n    var row = dt.Rows.Add();\n    for (var i = 0; sqlRead.FieldCount; i++)\n    {\n        var val = sqlRead[i].ToString();\n        row[i] = val;\n    }\n\n}\nsqlRead.Close();\n</code></pre>\n\n<p>OR: </p>\n\n<pre><code>// Connection object is the second parameter\nusing (var a = new SqlDataAdapter(\"select ID, Name from table\", c)) \n{\n    var t = new DataTable();\n    a.Fill(t);\n}\n</code></pre>\n\n<p>Then you can reference the DataTable for data!</p>\n"}, {"tags": [], "owner": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "is_accepted": false, "score": 0, "last_activity_date": 1458164262, "creation_date": 1458164262, "answer_id": 36047440, "question_id": 36046696, "link": "https://stackoverflow.com/questions/36046696/c-working-with-mulitcolumn-list/36047440#36047440", "title": "C# Working with mulitcolumn list", "body": "<p>Example binding for winforms</p>\n\n<pre><code>private void Form1_Load(object sender, EventArgs e)\n{\n    DataTable oDataTable = new DataTable(); \n    using (SqlConnection oSqlConnection = new SqlConnection(Properties.Settings.Default.ConnectionString))\n    {\n        using (SqlCommand oSqlCommand = new SqlCommand(\"select ProductID, ProductName from Product\", oSqlConnection))\n        {\n            using (SqlDataAdapter adapter = new SqlDataAdapter(oSqlCommand))\n            {\n                adapter.Fill(oDataTable);\n            }\n        }\n    }\n    listBox1.DisplayMember = \"ProductName\";\n    listBox1.ValueMember = \"ProductID\";\n    listBox1.DataSource = oDataTable;\n\n}\n\nprivate void button1_Click(object sender, EventArgs e)\n{\n    DataRowView selectedRow = (DataRowView)listBox1.SelectedItem;\n    MessageBox.Show(selectedRow[\"ProductId\"].ToString());\n\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5847857, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/332ee6fdaba0aa25a130e9a46f00c5ae?s=128&d=identicon&r=PG&f=1", "display_name": "ArtR45", "link": "https://stackoverflow.com/users/5847857/artr45"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1458164262, "creation_date": 1458161535, "last_edit_date": 1458163082, "question_id": 36046696, "link": "https://stackoverflow.com/questions/36046696/c-working-with-mulitcolumn-list", "title": "C# Working with mulitcolumn list", "body": "<p>I've created a multicolumn list (lstItems) that I want to use for lookups so I don't have to do repeated data queries and I can't figure out how to reference the items/cells.  If an alternate structure would be better/easier, I'm open to suggestions, but this is what I've got so far.</p>\n\n<p>I can query the OLEDB table and populate lstItems but not sure how to reference the elements/cells.  As a test I populated listbox1 from the query.  Then after building lstItems I echoed back the contents, no problem.  Now I need to do two things.</p>\n\n<ol>\n<li><p>Populate listbox1 with one of the columns from lstItems instead of directly from the query.</p></li>\n<li><p>Later, be able to query lstItems so when \"nameValue\" = the second column nameValue, return the corresponding ID.</p></li>\n</ol>\n\n<p>.</p>\n\n<pre><code>sqlCmd.CommandText = \"select ID, Name from table;\nOleDbDataReader sqlRead = sqlCmd.ExecuteReader();\n\n// Create a Name/Value list\nList&lt;KeyValuePair&lt;string, string&gt;&gt; lstItems = new List&lt;KeyValuePair&lt;string, string&gt;&gt;();\nint j = 0;\n\nwhile (sqlRead.Read())\n{\n//Populate listbox1 directly from query\n  string nm= Convert.ToString(sqlRead[\"Name\"]);\n  listBox1.Items.Add(nm);  \n\n// Create the multicolumn list\n  lstItems.Add(new KeyValuePair&lt;string, string&gt;\n    (Convert.ToString(sqlRead[\"ID\"]), Convert.ToString(sqlRead[\"Name\"])));   \n// Echo out to insure the list has the proper values\n  MessageBox.Show(\"Show List: \" +lstItems [j].ToString());\n  j++;\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "winforms", "datagridview"], "answers": [{"tags": [], "owner": {"reputation": 2205, "user_id": 2468342, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cRn5Q.jpg?s=128&g=1", "display_name": "Dan Cundy", "link": "https://stackoverflow.com/users/2468342/dan-cundy"}, "is_accepted": true, "score": 4, "last_activity_date": 1458162096, "creation_date": 1458162096, "answer_id": 36046836, "question_id": 36046642, "link": "https://stackoverflow.com/questions/36046642/increasing-the-size-of-columns-to-fit-into-datagridview/36046836#36046836", "title": "increasing the size of columns to fit into datagridview", "body": "<p>You need to use <code>Fill</code> instead of <code>AllCells</code>.</p>\n\n<pre><code> dgvData.DataSource = dsData.Tables[0];        \n dgvData.AutoResizeColumns();\n\n dgvData.AutoSizeColumnsMode = DataGridViewAutoSizeColumnsMode.Fill;\n</code></pre>\n"}], "owner": {"reputation": 2760, "user_id": 2639188, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c1a58be9b3e79cc22a37cad79a992438?s=128&d=identicon&r=PG", "display_name": "DoIt", "link": "https://stackoverflow.com/users/2639188/doit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 36046836, "answer_count": 1, "score": 0, "last_activity_date": 1458162096, "creation_date": 1458161333, "question_id": 36046642, "link": "https://stackoverflow.com/questions/36046642/increasing-the-size-of-columns-to-fit-into-datagridview", "title": "increasing the size of columns to fit into datagridview", "body": "<p>I am working on a datagridview in c# winforms and I am trying to make my columns autofit into my datagridview so that the datagridview doesn't have blank space on the left.</p>\n\n<p>I am binding a dataset to my datagridview and was able to autosize the columns based on their content but able to make them fit into datagridview as I see blank space in my datagridview</p>\n\n<pre><code> dgvData.DataSource = dsData.Tables[0];        \n  dgvData.AutoResizeColumns();\n dgvData.AutoSizeColumnsMode = DataGridViewAutoSizeColumnsMode.AllCells;\n</code></pre>\n\n<p><strong>May I know a way to do this?</strong></p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 4, "creation_date": 1458161388, "post_id": 36046610, "comment_id": 59741850, "body": "I think you should define &#39;long running process&#39; first"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5447154"}, "edited": false, "score": 0, "creation_date": 1458161450, "post_id": 36046610, "comment_id": 59741890, "body": "Long runing = for long time ? the earlier ?"}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1458161550, "post_id": 36046610, "comment_id": 59741959, "body": "If you are talking actual wall time, then you can use each processes <code>StartTime</code> to figure out how long they&#39;ve been running and filter to ones above whatever threshold you want to use."}], "answers": [{"tags": [], "owner": {"reputation": 129, "user_id": 3746452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c211bef5e800e9a29f70d27abb8207fe?s=128&d=identicon&r=PG", "display_name": "rdenisi", "link": "https://stackoverflow.com/users/3746452/rdenisi"}, "is_accepted": false, "score": 2, "last_activity_date": 1458161497, "creation_date": 1458161497, "answer_id": 36046688, "question_id": 36046610, "link": "https://stackoverflow.com/questions/36046610/list-of-long-running-services-c/36046688#36046688", "title": "List Of Long Running Services C#", "body": "<p>The Process class has a datetime property Process.StartTime that gets the time that the associated process was started.\nYou could use it to figure out which ones that run for longer.</p>\n"}, {"tags": [], "owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "is_accepted": true, "score": 1, "last_activity_date": 1458177436, "last_edit_date": 1458177436, "creation_date": 1458161737, "answer_id": 36046751, "question_id": 36046610, "link": "https://stackoverflow.com/questions/36046610/list-of-long-running-services-c/36046751#36046751", "title": "List Of Long Running Services C#", "body": "<blockquote>\n  <p>I can list all processes but how can I add to filter long running ones?</p>\n</blockquote>\n\n<p>Something like (assuming you are asking for wall time):</p>\n\n<pre><code>foreach (var p in processCollection.Where(n =&gt; (DateTime.Now - p.StartTime) &gt; someThresholdInterval))\n{\n   //...long running\n}\n</code></pre>\n\n<p>There are other properties you could also use like <a href=\"https://msdn.microsoft.com/en-us/library/system.diagnostics.process.totalprocessortime(v=vs.110).aspx\" rel=\"nofollow\">TotalProcessorTime</a> which would give you the total amount of time that the process has actually been using the processor (versus sleeping) which might be more interesting in some cases.</p>\n\n<p>If you actually want services, rather than processes, then there is a different method to get those. To get services use <a href=\"https://msdn.microsoft.com/en-us/library/hde9d63a%28v=vs.110%29.aspx\" rel=\"nofollow\">ServiceController.GetServices</a> however, I don't think there's a way to get when they started.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5447154"}, "is_accepted": false, "score": 1, "last_activity_date": 1458173930, "creation_date": 1458173930, "answer_id": 36049449, "question_id": 36046610, "link": "https://stackoverflow.com/questions/36046610/list-of-long-running-services-c/36049449#36049449", "title": "List Of Long Running Services C#", "body": "<p>for running services only, we must use ServiceController and ManagementObject  . here is my code for \"long\" running services :</p>\n\n<pre><code> static public void Main()\n        {\n            TimeSpan Interval = new TimeSpan(5,0,10); // as exemple\n\n            var scServices= ServiceController.GetServices();\n\n            foreach (ServiceController scTemp in scServices)\n            {\n                if (scTemp.Status == ServiceControllerStatus.Running)\n                {\n                    ManagementObject wmiService;\n                    wmiService = new ManagementObject(\"Win32_Service.Name='\" + scTemp.ServiceName + \"'\");\n                    wmiService.Get();\n\n                    var id = Convert.ToInt32(wmiService.Properties[\"ProcessId\"].Value);\n                    Process p = Process.GetProcessById(id);\n\n                    if ((DateTime.Now.Subtract(p.StartTime)) &gt; Interval)\n                    {\n                        Console.WriteLine(\"  Service :        {0}\", scTemp.ServiceName);\n                        Console.WriteLine(\"  Display name:    {0}\", scTemp.DisplayName);\n                        Console.WriteLine(\"  StartTime:       {0}\", p.StartTime);\n                    }\n                }\n            }\n\n            Console.ReadLine();\n        }\n</code></pre>\n"}], "owner": {"reputation": 709, "user_id": 5313605, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ef0fcbbded463b4ddfe2ddbcfcf6cd64?s=128&d=identicon&r=PG&f=1", "display_name": "nlstack01", "link": "https://stackoverflow.com/users/5313605/nlstack01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 36046751, "answer_count": 3, "score": 0, "last_activity_date": 1458177436, "creation_date": 1458161202, "question_id": 36046610, "link": "https://stackoverflow.com/questions/36046610/list-of-long-running-services-c", "title": "List Of Long Running Services C#", "body": "<p>How can I get a list of long running services on my current machine?</p>\n\n<p>I can list all processes but how can I add to filter long running ones?</p>\n\n<pre><code>private void ListProcesses()  \n{  \n    Process[] processCollection = Process.GetProcesses();  \n    foreach (Process p in processCollection)  \n    {  \n        Console.WriteLine(p.ProcessName);  \n    }  \n} \n</code></pre>\n"}, {"tags": ["c#", "unity3d", "unity5", "rigid-bodies"], "comments": [{"owner": {"reputation": 11125, "user_id": 1387174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c4cb458658b24227da74b4dea41075?s=128&d=identicon&r=PG", "display_name": "Serlite", "link": "https://stackoverflow.com/users/1387174/serlite"}, "edited": false, "score": 1, "creation_date": 1458163162, "post_id": 36046597, "comment_id": 59742859, "body": "Hmmm, nothing immediately seems wrong here, since you mention that the collision is detected at the end of your post. How are you moving your player around? Is it physics-based, or does it directly modify the transform position?"}, {"owner": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "edited": false, "score": 0, "creation_date": 1458163381, "post_id": 36046597, "comment_id": 59742969, "body": "Could you provide some values? For the calculated force and mass? Also a screenshot of the rigidbody to see the stats there."}, {"owner": {"reputation": 27, "user_id": 3280790, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1364081140/picture?type=large", "display_name": "user3280790", "link": "https://stackoverflow.com/users/3280790/user3280790"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1458167447, "post_id": 36046597, "comment_id": 59744863, "body": "@Programmer - I will see what I can do. Most of the code has been documented to contain the programmer&#39;s names, so I will see if I can take them out for a version of the build without people&#39;s names.   Serlite- I am using CharacterController.Move().   GunnarB.- The player&#39;s mass, drag, and angular drag are at 1. The enemy&#39;s mass, drag, and angular drag are at 100. When turned down to 1, the enemy moves away. Problem still with player. And the message I got is: This is the force that is being added to the player when it is hit. : (4542.7, 1.4, -99896.8)  Thank you all for your help so far."}, {"owner": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "edited": false, "score": 0, "creation_date": 1458169893, "post_id": 36046597, "comment_id": 59745826, "body": "Hmm, that is a lot of force so that should not be a problem. One thing you could try is to use another ForceMode. Probably <code>Impulse</code>."}, {"owner": {"reputation": 27, "user_id": 3280790, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1364081140/picture?type=large", "display_name": "user3280790", "link": "https://stackoverflow.com/users/3280790/user3280790"}, "edited": false, "score": 0, "creation_date": 1458170688, "post_id": 36046597, "comment_id": 59746127, "body": "Tried it before, did nothing. Working on a &#39;build&#39; of the project sans people&#39;s names right now, should be up relatively soon."}, {"owner": {"reputation": 27, "user_id": 3280790, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1364081140/picture?type=large", "display_name": "user3280790", "link": "https://stackoverflow.com/users/3280790/user3280790"}, "edited": false, "score": 0, "creation_date": 1458171135, "post_id": 36046597, "comment_id": 59746287, "body": "<a href=\"https://drive.google.com/file/d/0B-vU0r3jYqlkMms2Vl9hT1k2R2M/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/0B-vU0r3jYqlkMms2Vl9hT1k2R2M/&hellip;</a> Here is the file. Note that the enemy&#39;s AI uses a Finite State Manager, so a lot of the code is from there. Look in the Created Code folder for PlayerHealth.cs and EnemyHealth.cs for where the call to the method is made. Use TestLevel1 to test the player/enemy. TopBot is the current bot I am testing. If you go within the sphere collider, you should be hit, and &#39;knocked back&#39;."}, {"owner": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "edited": false, "score": 0, "creation_date": 1458173546, "post_id": 36046597, "comment_id": 59747090, "body": "Well, I can push away the enemy with this if I get very close (basically having the cubes touch, no clicks)."}, {"owner": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "edited": false, "score": 0, "creation_date": 1458174938, "post_id": 36046597, "comment_id": 59747458, "body": "Ok, did a bit of testing and some research and it seems like that you can&#39;t use AddForce on a rigidbody when you also have a CharacterController on the same object. Have a look at this, bottom posts: <a href=\"http://forum.unity3d.com/threads/push-a-character-from-an-enemy-knockback-solved.57040/\" rel=\"nofollow noreferrer\">forum.unity3d.com/threads/&hellip;</a>"}, {"owner": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "edited": false, "score": 0, "creation_date": 1458175061, "post_id": 36046597, "comment_id": 59747488, "body": "Also this seems god, maybe even better <a href=\"http://answers.unity3d.com/questions/242648/force-on-character-controller-knockback.html\" rel=\"nofollow noreferrer\" title=\"force on character controller knockback.html\">answers.unity3d.com/questions/242648/&hellip;</a>"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1458175182, "post_id": 36046597, "comment_id": 59747517, "body": "Gunnar B is probably right. Let me know if that doesn&#39;t solve your problem and then I will download and attempt to fix it."}, {"owner": {"reputation": 27, "user_id": 3280790, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1364081140/picture?type=large", "display_name": "user3280790", "link": "https://stackoverflow.com/users/3280790/user3280790"}, "reply_to_user": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "edited": false, "score": 0, "creation_date": 1458181631, "post_id": 36046597, "comment_id": 59749467, "body": "@GunnarB. The first link did it, thank goodness. Who would&#39;ve guessed that Rigidbody and Character Controller would not work together? Anyway, thank you everyone for your assistance, patience, and understanding."}, {"owner": {"reputation": 11125, "user_id": 1387174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c4cb458658b24227da74b4dea41075?s=128&d=identicon&r=PG", "display_name": "Serlite", "link": "https://stackoverflow.com/users/1387174/serlite"}, "reply_to_user": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "edited": false, "score": 0, "creation_date": 1458224595, "post_id": 36046597, "comment_id": 59773063, "body": "@GunnarB. Nice investigation! Probably worth putting these findings up as an answer, since it seems like a problem others may face in the future."}], "answers": [{"comments": [{"owner": {"reputation": 11125, "user_id": 1387174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c4cb458658b24227da74b4dea41075?s=128&d=identicon&r=PG", "display_name": "Serlite", "link": "https://stackoverflow.com/users/1387174/serlite"}, "edited": false, "score": 0, "creation_date": 1458170679, "post_id": 36048605, "comment_id": 59746124, "body": "Ah, to quote the OP, &quot;Player/Enemy is NOT Kinematic&quot;. Though it would be a good guess if he hadn&#39;t written that..."}, {"owner": {"reputation": 27, "user_id": 3280790, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1364081140/picture?type=large", "display_name": "user3280790", "link": "https://stackoverflow.com/users/3280790/user3280790"}, "edited": false, "score": 0, "creation_date": 1458170709, "post_id": 36048605, "comment_id": 59746138, "body": "Noted above that IsKinematic is set to false."}, {"owner": {"reputation": 6625, "user_id": 1243753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8MFH6.jpg?s=128&g=1", "display_name": "Jay Soyer", "link": "https://stackoverflow.com/users/1243753/jay-soyer"}, "edited": false, "score": 0, "creation_date": 1458176510, "post_id": 36048605, "comment_id": 59747893, "body": "My bad.  Read thru that too quickly"}], "tags": [], "owner": {"reputation": 6625, "user_id": 1243753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8MFH6.jpg?s=128&g=1", "display_name": "Jay Soyer", "link": "https://stackoverflow.com/users/1243753/jay-soyer"}, "is_accepted": false, "score": 0, "last_activity_date": 1458169342, "creation_date": 1458169342, "answer_id": 36048605, "question_id": 36046597, "link": "https://stackoverflow.com/questions/36046597/addforce-method-not-working/36048605#36048605", "title": "AddForce Method Not Working", "body": "<p>Is Kinematic enabled? Doing so will make the object ignore physic forces.</p>\n"}, {"tags": [], "owner": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "is_accepted": true, "score": 0, "last_activity_date": 1458226671, "creation_date": 1458226671, "answer_id": 36064236, "question_id": 36046597, "link": "https://stackoverflow.com/questions/36046597/addforce-method-not-working/36064236#36064236", "title": "AddForce Method Not Working", "body": "<p>To summarise the comments:</p>\n\n<p><code>Rigidbody.AddForce</code> doesn't work when the object has a <code>CharacterController</code> besides the rigidbody. In this case the effect has to be \"faked\". Possible ways can be found here:</p>\n\n<ul>\n<li><a href=\"http://forum.unity3d.com/threads/push-a-character-from-an-enemy-knockback-solved.57040/\" rel=\"nofollow\">The last couple of posts</a></li>\n<li><a href=\"http://answers.unity3d.com/questions/242648/force-on-character-controller-knockback.html\" rel=\"nofollow\">Another solution, C# and Javascript</a></li>\n</ul>\n\n<p>Basically you need to apply the force using <code>CharacterController.Move</code>.</p>\n"}], "owner": {"reputation": 27, "user_id": 3280790, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1364081140/picture?type=large", "display_name": "user3280790", "link": "https://stackoverflow.com/users/3280790/user3280790"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 587, "favorite_count": 0, "accepted_answer_id": 36064236, "answer_count": 2, "score": 1, "last_activity_date": 1458226671, "creation_date": 1458161155, "question_id": 36046597, "link": "https://stackoverflow.com/questions/36046597/addforce-method-not-working", "title": "AddForce Method Not Working", "body": "<p>I am programming a top-down hack-and-slash game for a class. We want a mechanic where if you get hit by an enemy, or an enemy hits you, you get 'knocked back'. Unfortunately, no matter what I have tried, I cannot get either the enemy or the player to react to the force.</p>\n\n<p>Here is a list of things I have checked that have been suggested in other questions like this:</p>\n\n<ul>\n<li>Player/Enemy is NOT Kinematic</li>\n<li>Tried with both Gravity on and off</li>\n<li>No positions/rotations are frozen</li>\n<li>Player/Enemy have Rigidbodies attached</li>\n<li>Player/Enemy have colliders attached, one with and one without the 'isTrigger' function checked.</li>\n<li>Tried both OnCollisionEnter and OnTriggerEnter</li>\n<li>The force value is high, the mass, drag, and angular drag are low</li>\n</ul>\n\n<p>I have run out of ideas. Any and all support you can give is greatly appreciated.</p>\n\n<p>Here is a snippet of the code from a script from the player Object:</p>\n\n<pre><code> public void OnTriggerEnter(Collider col)\n{\n    if (col.gameObject.tag == \"EnemyHit\" &amp;&amp; !invincible)\n    {\n        Debug.Log(\"The player has been hit!\");\n\n        //sets player as invincible\n        invincible = true;\n\n        // Set the damaged flag so the screen will flash.\n        hit = true;\n\n        timeOfHit = Time.time;\n\n        // Reduce the current health by the damage amount.\n        currentHealth -= 1;\n\n        GetComponent&lt;Rigidbody&gt;().AddForce(transform.forward * recoilThrust, ForceMode.Force);\n        Debug.Log(\"This is the force that is being added to the player when it is hit. : \" + -transform.forward * recoilThrust);\n         //...\n         }\n }\n</code></pre>\n\n<p>I can prove (using the Debug.Log) function, that the code reaches there, and the force is calculated.</p>\n"}, {"tags": ["c#", "winforms", "graphics"], "comments": [{"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1458163024, "post_id": 36046538, "comment_id": 59742789, "body": "Do not draw the lines separately!! Collect them and use DrawLines (pl!) instead!! You may run into problems doing this because you don&#39;t draw correctly in the Paint event. See, it is usually NOT irrelevant to avoid basic mistakes ,-)  - Also look into the  pen.MiterLimit and try to keep it around half of the width of the pen!"}, {"owner": {"reputation": 527, "user_id": 4476582, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/JuUvJ.jpg?s=128&g=1", "display_name": "Alex Diamond", "link": "https://stackoverflow.com/users/4476582/alex-diamond"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1458163396, "post_id": 36046538, "comment_id": 59742978, "body": "Do you have an example snippet? I&#39;ve converted it into DrawLines by doing this <code>Point[] pts = new Point[2] { start, end};</code> <code>g.DrawLines(Pen1, pts);</code> and I set the <code>MiterLimit = 50;</code> I still get the same results."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1458163837, "post_id": 36046538, "comment_id": 59743200, "body": "Yes, you need to collect <b>all</b> your points, not just the two that make uip one line! The miterlimit will only come into play after you get the first problem out of the way.."}], "answers": [{"comments": [{"owner": {"reputation": 527, "user_id": 4476582, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/JuUvJ.jpg?s=128&g=1", "display_name": "Alex Diamond", "link": "https://stackoverflow.com/users/4476582/alex-diamond"}, "edited": false, "score": 0, "creation_date": 1458167701, "post_id": 36047319, "comment_id": 59744967, "body": "Is it not possible to create the same effect using a Bitmap persistent graphics method instead of OnPaint? I get the same results using other methods but when I use OnPaint it works. Otherwise, this is an excellent method."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "reply_to_user": {"reputation": 527, "user_id": 4476582, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/JuUvJ.jpg?s=128&g=1", "display_name": "Alex Diamond", "link": "https://stackoverflow.com/users/4476582/alex-diamond"}, "edited": false, "score": 0, "creation_date": 1458168354, "post_id": 36047319, "comment_id": 59745227, "body": "Of course you can paint into a Bitmap, if a) you have a Bitmap and b) you are sure of the graphics. You would use only a currentPoints list and upon MouseUp draw it into the Bitmap. But your question was ll about drawing onto a Form!? To paint into a Bitmap you use ` Graphics g = Graphics.FromImage(bitmap);` and the same methods as above.. Note that your original code is <b>non-persistent</b> !!"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "reply_to_user": {"reputation": 527, "user_id": 4476582, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/JuUvJ.jpg?s=128&g=1", "display_name": "Alex Diamond", "link": "https://stackoverflow.com/users/4476582/alex-diamond"}, "edited": false, "score": 0, "creation_date": 1458184586, "post_id": 36047319, "comment_id": 59750241, "body": "In the answer? Simply do a <code>currentPoints.Clear(); allPointLists.Clear(); Invalidate();</code> Similarily you can implement an unlimited <code>undo</code> by removing the last element from <code>allPointLists</code> . Do have a look into <code>List&lt;T&gt;</code>, it is so useful !!  I have updated the answer."}, {"owner": {"reputation": 527, "user_id": 4476582, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/JuUvJ.jpg?s=128&g=1", "display_name": "Alex Diamond", "link": "https://stackoverflow.com/users/4476582/alex-diamond"}, "edited": false, "score": 0, "creation_date": 1458186615, "post_id": 36047319, "comment_id": 59750696, "body": "Ah, much clearer, thank you so much. You may also want to add <code>currentPoints.Clear();</code> onto the clear button in the answer. The ability to undo is absolutely stellar. Lists actually do seem more powerful than arrays."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "reply_to_user": {"reputation": 527, "user_id": 4476582, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/JuUvJ.jpg?s=128&g=1", "display_name": "Alex Diamond", "link": "https://stackoverflow.com/users/4476582/alex-diamond"}, "edited": false, "score": 0, "creation_date": 1458197449, "post_id": 36047319, "comment_id": 59754407, "body": "Yes, and that is just the beginning: They also are a) generic, so a List&lt;Point&gt; is type safe (as opposed to an ArrayList) and they work very well with LINQ. ((Btw; the edit you suggested was observant but not necessary, as the change in the mouseup already takes care of clearing the currentpoints list))"}], "tags": [], "owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "is_accepted": true, "score": 2, "last_activity_date": 1458197998, "last_edit_date": 1458197998, "creation_date": 1458163756, "answer_id": 36047319, "question_id": 36046538, "link": "https://stackoverflow.com/questions/36046538/prevent-alpha-color-pen-from-overlapping/36047319#36047319", "title": "Prevent Alpha Color Pen from Overlapping?", "body": "<p>You have two issues with the drawing objects:</p>\n\n<ul>\n<li><p>You draw each Line separately; this will create ugly artifacts where the common points overlap. Instead draw the lines all in one go with the <code>DrawLines</code> method! (Note the plural!)</p></li>\n<li><p>You did not restrict the <code>Pen.MiterLimit</code>; this creates ugly spikes when the lines directions change sharply. Try to restrict it to around 1/2 of the <code>Pen.Width</code> or less . Setting <code>LineJoin</code> is also recommened as well a the two <code>Caps</code>..</p></li>\n</ul>\n\n<p><strong>Collect</strong> the points of your current line in a <code>List&lt;Point&gt; currentPoints</code> in the <code>MouseMove</code> and collect upon <code>MouseUp</code> the <code>currentList</code> into a <code>List&lt;List&lt;Point&gt;&gt; allPointLists</code> !</p>\n\n<p>then you can draw both in the <code>Paint</code> event..</p>\n\n<pre><code>    foreach (List&lt;Point&gt; points in allPointLists)\n        if (points.Count &gt; 1) e.Graphics.DrawLines(Pens.Gold, points.ToArray());\n    if (currentPoints.Count &gt; 1) e.Graphics.DrawLines(Pens.Gold, currentPoints.ToArray());\n</code></pre>\n\n<p><strong>Note</strong> that it will pay immediately to do it right, i.e. draw <strong>only</strong> with a valid graphics object and <strong>always</strong> rely on the <code>Paint</code> event to make sure that the drawing is always updated as needed! Using <code>control.CreateGraphics</code> is almost always wrong and will hurt as soon as you go beyond a single non-persistent drawing operation..</p>\n\n<p><a href=\"https://i.stack.imgur.com/QDkyc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QDkyc.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the full code:</p>\n\n<pre><code>List&lt;Point&gt; currentPoints = new List&lt;Point&gt;();\nList&lt;List&lt;Point&gt;&gt; allPointLists = new List&lt;List&lt;Point&gt;&gt;();\n\n\nprivate void Form1_MouseDown(object sender, MouseEventArgs e)\n{\n    currentPoints = new List&lt;Point&gt;();\n}\n\nprivate void Form1_MouseUp(object sender, MouseEventArgs e)\n{\n    if (currentPoints.Count &gt; 1)\n    {\n        allPointLists.Add(currentPoints.ToList());\n        currentPoints.Clear();\n    }\n}\n\nprivate void Form1_MouseMove(object sender, MouseEventArgs e)\n{\n    if (e.Button == System.Windows.Forms.MouseButtons.Left)\n    {\n        currentPoints.Add(e.Location);\n        Invalidate();\n    }\n}\n</code></pre>\n\n<p>Here is the <code>Paint</code> event; note that I use two different <code>Pens</code> for the currently drawn lines and the older ones. Also note that you can use <code>DrawCurve</code> instead of <code>DrawLines</code> to get even smoother results..</p>\n\n<p>Also note that I use a <code>List&lt;T&gt;</code> to be flexible wrt the number of elements and that I convert it to an array in the <code>Draw</code> commands..</p>\n\n<pre><code>private void Form1_Paint(object sender, PaintEventArgs e)\n{\n    Color c1 = Color.FromArgb(66, 77, 88, 222);\n    using (Pen pen = new Pen(c1, 50f))\n    {\n        pen.MiterLimit = pen.MiterLimit / 12;\n        pen.LineJoin = LineJoin.Round;\n        pen.StartCap = LineCap.Round;\n        pen.EndCap = LineCap.Round;\n        foreach (List&lt;Point&gt; points in allPointLists)\n            if (points.Count &gt; 1) e.Graphics.DrawLines(pen, points.ToArray());\n    }\n    Color c2 = Color.FromArgb(66, 33, 111, 222);\n\n    using (Pen pen = new Pen(c2, 50f))\n    {\n        pen.MiterLimit = pen.MiterLimit / 4;\n        pen.LineJoin = LineJoin.Round;\n        pen.StartCap = LineCap.Round;\n        pen.EndCap = LineCap.Round;\n        if (currentPoints.Count &gt; 1) e.Graphics.DrawLines(pen, currentPoints.ToArray());\n    }\n}\n</code></pre>\n\n<p>To prevent flicker don't forget to turn on <code>DoubleBuffered</code> for your <code>Form</code>; or use a <code>DoubleBuffered Panel</code> subclass or simply a <code>PictureBox</code>!</p>\n\n<p>Final note: I left out the case of simple clicks; if they are supposed to paint you will have to catch them, probably best in the <code>if (points.Count &gt; 1)</code> check and best do a <code>FillEllipse</code> at the right spot and with the right size..</p>\n\n<p><strong>Update</strong></p>\n\n<p><code>List&lt;T&gt;</code> is so useful I hardly ever use <code>arrays</code> theses days. Here is how to make use of it to implement a <code>Clear</code> and an <code>Undo</code> button:</p>\n\n<pre><code>private void buttonClear_Click(object sender, EventArgs e)\n{\n    allPointLists.Clear();\n    Invalidate();\n}\n\nprivate void buttonUndo_Click(object sender, EventArgs e)\n{\n    allPointLists.Remove(allPointLists.Last());\n    Invalidate();\n}\n</code></pre>\n\n<p>Note two small corrections in the <code>MouseUp</code> code this has required to handle the <code>currentPoints</code> list properly! The clearing is obvious; the <code>ToList()</code> call is making a <strong>copy</strong> of the data, so we don't clear the instance we have just added to te List of Lists!</p>\n"}], "owner": {"reputation": 527, "user_id": 4476582, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/JuUvJ.jpg?s=128&g=1", "display_name": "Alex Diamond", "link": "https://stackoverflow.com/users/4476582/alex-diamond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 457, "favorite_count": 0, "accepted_answer_id": 36047319, "answer_count": 1, "score": 0, "last_activity_date": 1458197998, "creation_date": 1458160955, "last_edit_date": 1458164147, "question_id": 36046538, "link": "https://stackoverflow.com/questions/36046538/prevent-alpha-color-pen-from-overlapping", "title": "Prevent Alpha Color Pen from Overlapping?", "body": "<p>I have a simple <em>highlighter</em> using a <code>Pen</code> object. When the size is very large, it creates odd stripes which you can fix by defining its Start &amp; End Cap with<code>System.Drawing.Drawing2D.LineCap.Round</code> but it instantly overlaps itself and loses its transparency. A flat cap also loses its transparency when you draw over itself multiple times.</p>\n\n<p>How can I create an opaque pen that does not overlap itself or create stripes with a large pen width?</p>\n\n<pre><code>private static Color baseColor = Color.Yellow;\nbool Draw;\nGraphics g;\nPoint start;\nPoint end;\n\n     private void Form1_Load(object sender, EventArgs e)\n    {\n        g = this.CreateGraphics();\n        Pen1.Color = Color.FromArgb(128, baseColor);\n        Pen1.Width = 50;\n        Pen1.StartCap = System.Drawing.Drawing2D.LineCap.Flat; //I know it's default, just for clarification's sake\n        Pen1.EndCap = System.Drawing.Drawing2D.LineCap.Flat;   //' '''' '' ' '''''''  '''' ''' ''''''''''''' ' ''''\n    }\n\n     private void Form1_MouseDown(object sender, MouseEventArgs e)\n    {\n        Draw = true;\n        start = e.Location;\n    }\n\n     private void Form1_MouseUp(object sender, MouseEventArgs e)\n    {\n        Draw = false;\n    }\n\n    private void Form1_MouseMove(object sender, MouseEventArgs e)\n    {\n        if (Draw == true)\n        {\n            end = e.Location;\n            g.DrawLine(Pen1, start, end);\n            start = end;\n        }\n    }\n</code></pre>\n\n<p>It behaves like this; <a href=\"https://i.stack.imgur.com/sBM7P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sBM7P.png\" alt=\"Highlighter Example\"></a></p>\n\n<p><strong>Note:</strong> Yes, I am aware <code>.CreateGraphics</code> is not a good drawing method, it has a unique purpose that is irrelevant to the question.</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6", "ef-bulkinsert"], "comments": [{"owner": {"reputation": 543, "user_id": 1877512, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rxiCm.jpg?s=128&g=1", "display_name": "Mike Wallace", "link": "https://stackoverflow.com/users/1877512/mike-wallace"}, "edited": false, "score": 0, "creation_date": 1458161243, "post_id": 36046433, "comment_id": 59741750, "body": "If you looped through rateHistory and added them all then called SaveChanges does it work? This doesn&#39;t solve the BulkInsert problem but i&#39;m curious if at least that much is working."}], "answers": [{"comments": [{"owner": {"reputation": 13888, "user_id": 469319, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/HfDJ2.png?s=128&g=1", "display_name": "RLH", "link": "https://stackoverflow.com/users/469319/rlh"}, "edited": false, "score": 0, "creation_date": 1458242494, "post_id": 36049333, "comment_id": 59785744, "body": "Sorry to take away the answer mark.  I moved to SQL Server Express 2014, and it&#39;s still not working.  Also, the above mentioned NuGet package didn&#39;t work either."}], "tags": [], "owner": {"reputation": 39443, "user_id": 129164, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ec326c009186734854c600265b69a6ce?s=128&d=identicon&r=PG", "display_name": "devuxer", "link": "https://stackoverflow.com/users/129164/devuxer"}, "is_accepted": false, "score": 1, "last_activity_date": 1487510181, "last_edit_date": 1487510181, "creation_date": 1458173274, "answer_id": 36049333, "question_id": 36046433, "link": "https://stackoverflow.com/questions/36046433/entityframework-bulkinsert-is-not-giving-any-warnings-or-errors-but-isnt-saving/36049333#36049333", "title": "EntityFramework.BulkInsert is not giving any warnings or errors but isn&#39;t saving", "body": "<p>It appears that the EntityFramework.BulkInsert NuGet package does not yet support SQL Server Compact.</p>\n\n<p>As indicated by a <a href=\"https://efbulkinsert.codeplex.com/discussions/538810\" rel=\"nofollow noreferrer\">discussion</a> on the CodePlex site:</p>\n\n<blockquote>\n  <p>SQL Server CE is not supported yet. It will be added probably in next release.</p>\n</blockquote>\n\n<p>However, the <a href=\"https://www.nuget.org/packages/EntityFramework.BulkInsert.SqlServerCe/6.0.0\" rel=\"nofollow noreferrer\">EntityFramework.BulkInsert.SqlServerCe</a> NuGet package already provides this functionality.</p>\n"}], "owner": {"reputation": 13888, "user_id": 469319, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/HfDJ2.png?s=128&g=1", "display_name": "RLH", "link": "https://stackoverflow.com/users/469319/rlh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 408, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487510181, "creation_date": 1458160615, "last_edit_date": 1458243328, "question_id": 36046433, "link": "https://stackoverflow.com/questions/36046433/entityframework-bulkinsert-is-not-giving-any-warnings-or-errors-but-isnt-saving", "title": "EntityFramework.BulkInsert is not giving any warnings or errors but isn&#39;t saving", "body": "<p>I've used BulkInsert in the past, but this is something I've not experienced.  Here is what is happening.</p>\n\n<p>I'm creating a <code>List&lt;tEntityType&gt;</code> an after I've generated my list, I call <code>context.BulkInsert(myList);</code>.  Visual Studio isn't giving me any errors, and when I run the code and put a break point on the call, it appears to execute the bulk insert and continues.  However, when I browse the underlying table, there is no data in it?</p>\n\n<p>To be clear, this is a code first, <s>SQL Compact</s>SQL Express 2014 database.  Also, within the same transaction scope, I am inserting records into other data tables and they are appearing.  So the transaction is executing, however, my bulk inserted records aren't showing up in the db.</p>\n\n<p>I wish I could give more details, but I'm not getting any errors, exceptions or warnings.  Has anyone seen this and figured out a solution?</p>\n\n<p><strong>MORE DETAILS</strong></p>\n\n<p>In case you need to see the code, this is an abbreviation of my code.  I've only removed a bit of logic to build the underlying data and changed a few names to \"protect the innocent.\"  This is, however, all that I'm doing.</p>\n\n<pre><code>        using (var ctx = new MyDbContainer())\n        {\n            using (var tx = new TransactionScope())\n            {\n                Header hr = new Header{Name= \"NewRecord\"};\n                ctx.Headers.Add(hr);\n                ctx.SaveChanges();\n\n                //Get some records to work on and bulk insert.\n                List&lt;Records&gt; recs = new List&lt;Records&gt;();\n\n                //Records are inserted into the Recs list collection...\n\n                //The purpose of this is to show that other records are being added within the same TX and are being committed to the db on the SaveChanges() call.  These records will be in the db afterwards.\n                ctx.OtherRecords.Add(new OtherRecord { /* Details... */ } );\n                ctx.OtherRecords.Add(new OtherRecord { /* Details... */ } );\n                ctx.OtherRecords.Add(new OtherRecord { /* Details... */ } );\n\n                //Do the BulkInsert and save the data.\n                ctx.BulkInsert(recs.ToList());\n                ctx.SaveChanges();\n                tx.Complete();\n            }\n        }\n</code></pre>\n\n<p>As annotated above, my bulk insert is part of a much large process.  First, I insert a header record.  I do this so that I can use it's <code>ID</code> field as a foreign-key value within my other records.  I insert a couple of records one at a time, then I call my bulk insert.</p>\n\n<p>The database is saving the HeaderRecord as well as the OtherRecords.  I can see the data.  However, the bulk inserted Records are not in the database.  What could be going on?</p>\n\n<p><em>UPDATE</em></p>\n\n<p>I migrated to SQL Server Express 2014, from SQL Compact.  This still didn't fix the problem.  The most bizarre thing is that I can't get an exception to occur and give me more details.</p>\n"}, {"tags": ["c#", "xml", "linq"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458161161, "post_id": 36046418, "comment_id": 59741695, "body": "You have to first define what is the common parent.  if the xml document has ten layers of nested tags is the common parent the 5th tag or the 8th tag?  &lt;root&gt;&lt;a&gt;&lt;b&gt;&lt;c&gt;&lt;d&gt;&lt;new&gt;123&lt;/new&gt;&lt;old&gt;456&lt;/old&gt;&lt;/d&gt;&lt;/c&gt;&lt;/b&gt;&lt;/&zwnj;&#8203;a&gt;&lt;/root&gt;.  In this case root, a, b, c, d are all parents of old &amp; new.  Without knowing the parent structure you can&#39;t randomly locate the parent of old &amp; new."}, {"owner": {"reputation": 476, "user_id": 3781235, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KyK9q.jpg?s=128&g=1", "display_name": "aguertin", "link": "https://stackoverflow.com/users/3781235/aguertin"}, "edited": false, "score": 0, "creation_date": 1458161361, "post_id": 36046418, "comment_id": 59741833, "body": "Something like: &lt;root&gt;   &lt;profile&gt;Your name is   &lt;new&gt;&lt;age&gt;&lt;/age&gt;&lt;marriage&gt;&lt;/marriage&gt;&lt;/new&gt;    &lt;old&gt;&lt;age&gt;&lt;/age&gt;&lt;marriage&gt;&lt;/marriage&gt;&lt;/old&gt;     &lt;/profile&gt;   &lt;/root&gt;"}, {"owner": {"reputation": 310, "user_id": 3735638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/30f014aafcd6c38663f5cb2d432e23ed?s=128&d=identicon&r=PG&f=1", "display_name": "civic.sir", "link": "https://stackoverflow.com/users/3735638/civic-sir"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458161873, "post_id": 36046418, "comment_id": 59742138, "body": "@jdweng in your example it should return a list with one element { 456, 123} since they both fall under the node d... If they were in different node ie.  &lt;root&gt;&lt;a&gt;&lt;new&gt;123&lt;/new&gt;&lt;/a&gt;&lt;b&gt;&lt;new&gt;55&lt;/new&gt;&lt;old&gt;3&lt;/old&gt;&lt;/b&gt;&lt;&zwnj;&#8203;c&gt;&lt;old&gt;h&lt;/old&gt;&lt;new&gt;j&zwnj;&#8203;&lt;/new&gt;&lt;/c&gt;&lt;/root&gt;"}, {"owner": {"reputation": 310, "user_id": 3735638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/30f014aafcd6c38663f5cb2d432e23ed?s=128&d=identicon&r=PG&f=1", "display_name": "civic.sir", "link": "https://stackoverflow.com/users/3735638/civic-sir"}, "edited": false, "score": 0, "creation_date": 1458161968, "post_id": 36046418, "comment_id": 59742192, "body": "Will return a list of { (&#39;&#39;, 123),(3,55),(h,j)} notice the order too."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458164230, "post_id": 36046418, "comment_id": 59743406, "body": "I know what it should return.  But if old is a child of &#39;b&#39; and new is a child of &#39;d&#39; what should be returned?  Without defining what parent should be used you can get different results.  Using descendants will cause issues in this case.  You have to determine the common parent of old and new."}], "answers": [{"comments": [{"owner": {"reputation": 310, "user_id": 3735638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/30f014aafcd6c38663f5cb2d432e23ed?s=128&d=identicon&r=PG&f=1", "display_name": "civic.sir", "link": "https://stackoverflow.com/users/3735638/civic-sir"}, "edited": false, "score": 0, "creation_date": 1458217300, "post_id": 36053117, "comment_id": 59767387, "body": "Great that works! but i have a small issue. i forgot to say that in the same node it could have more than 1 <code>old</code> and/or <code>new</code> tag they are followed by their pair in the order <code>old</code> first then <code>new</code>. IE. <code>&lt;Profile&gt;Your name is &lt;old&gt;Jason&lt;&#47;old&gt;&lt;new&gt;Sam&lt;&#47;new&gt;. It is a pleasure &lt;old&gt;have&lt;&#47;old&gt;to meet you&lt;old&gt;Jason&lt;old&gt;&lt;new&gt;Mr. Sam&lt;&#47;new&gt;&lt;&#47;Profile&gt;</code> in the previous case it should be  {Jason, Sam} {have, } {Jason, Mr. Sam} and the rest of the doc @har07"}, {"owner": {"reputation": 83665, "user_id": 2998271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B7vUA.png?s=128&g=1", "display_name": "har07", "link": "https://stackoverflow.com/users/2998271/har07"}, "reply_to_user": {"reputation": 310, "user_id": 3735638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/30f014aafcd6c38663f5cb2d432e23ed?s=128&d=identicon&r=PG&f=1", "display_name": "civic.sir", "link": "https://stackoverflow.com/users/3735638/civic-sir"}, "edited": false, "score": 0, "creation_date": 1458223788, "post_id": 36053117, "comment_id": 59772472, "body": "Check the <b>UPDATE</b> section."}], "tags": [], "owner": {"reputation": 83665, "user_id": 2998271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B7vUA.png?s=128&g=1", "display_name": "har07", "link": "https://stackoverflow.com/users/2998271/har07"}, "is_accepted": true, "score": 3, "last_activity_date": 1458223777, "last_edit_date": 1458223777, "creation_date": 1458196100, "answer_id": 36053117, "question_id": 36046418, "link": "https://stackoverflow.com/questions/36046418/xml-linq-retrieving-elements-in-same-node/36053117#36053117", "title": "xml linq retrieving elements in same node", "body": "<p><strong>UPDATE :</strong></p>\n\n<p>In response to your comment, the query would be more complex in such scenario. You can use two sub-queries in this case, say <code>q1</code> and <code>q2</code>, which you can combine using LINQ <code>Union()</code> :</p>\n\n<pre><code>var raw = @\"&lt;Profile&gt;\n  &lt;new&gt;Your&lt;/new&gt; name is \n  &lt;old&gt;Jason&lt;/old&gt;\n  &lt;new&gt;Sam&lt;/new&gt;. It is a pleasure \n  &lt;old&gt;have&lt;/old&gt;to meet you\n  &lt;old&gt;Jason&lt;/old&gt;\n  &lt;new&gt;Mr. Sam&lt;/new&gt;\n&lt;/Profile&gt;\";\nvar doc = XDocument.Parse(raw);\n\n//create Tuple from all &lt;old&gt; elements no matter it has matching &lt;new&gt; element or not\nvar q1 = from old in doc.Descendants(\"old\")\n         let nextSibling = old.NextNode\n         let _new = nextSibling != null &amp;&amp; nextSibling is XElement &amp;&amp; ((XElement)nextSibling).Name == \"new\" ? ((XElement)nextSibling).Value : \"\"\n         select Tuple.Create((string)old, _new);\n\n//create Tuple from all &lt;new&gt; elements that don't have matching &lt;old&gt; element\nvar q2 = from _new in doc.Descendants(\"new\")\n         let prevSibling = _new.PreviousNode\n         where prevSibling == null || !(prevSibling is XElement) || ((XElement)prevSibling).Name != \"old\"\n         select Tuple.Create(\"\", (string)_new);\n\nvar result = q1.Union(q2);\n</code></pre>\n\n<p>Notice, however, that the output would be in <em>'query order'</em> instead of <em>'document order'</em> i.e result of <code>q1</code> will come first, followed by result of <code>q2</code> :</p>\n\n<pre><code>(Jason, Sam)\n(have, )\n(Jason, Mr. Sam)\n(, Your)\n</code></pre>\n\n<p>If the order is important, then more conditional logic will be involved. So, IMHO, plain <code>foreach</code> loop would be more manageable then LINQ in this situation :</p>\n\n<pre><code>var result = new List&lt;Tuple&lt;string, string&gt;&gt;();\nforeach (var e in doc.Descendants().Where(o =&gt; o.Name == \"old\" || o.Name == \"new\"))\n{\n    XElement _old, _new;\n    //if current element is an &lt;old&gt; ...\n    if (e.Name == \"old\")\n    {\n        _old = e;\n        //if the next sibling is a &lt;new&gt;\n        if (e.NextNode != null &amp;&amp; e.NextNode is XElement &amp;&amp; ((XElement)e.NextNode).Name == \"new\")\n        {\n            _new = ((XElement)e.NextNode);\n        }\n        //else: &lt;old&gt; without matching &lt;new&gt;\n        else _new = null;\n        result.Add(Tuple.Create((string)_old, (string)_new));\n    }\n    //else: current element is a &lt;new&gt; ...\n    else\n    {\n        //make sure we add current &lt;new&gt; to the result only if it doesn't have matching &lt;old&gt;\n        //otherwise it would have been covered by the `if (e.Name == \"old\")` block\n        if (e.PreviousNode == null || !(e.PreviousNode is XElement) || ((XElement)e.PreviousNode).Name != \"old\")\n        {\n            _new = e;\n            _old = null;\n            result.Add(Tuple.Create((string)_old, (string)_new));\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>INITIAL ANSWER :</strong></p>\n\n<p>Assuming that <code>&lt;old&gt;</code> and <code>&lt;new&gt;</code> elements are linked by sharing the same parent element, and there is maximum of one pair in a parent element, you can try this way :</p>\n\n<pre><code>var raw = @\"&lt;root&gt;\n&lt;Profile&gt;Your name is &lt;old&gt;Jason&lt;/old&gt;&lt;new&gt;Sam&lt;/new&gt;. It is a pleasure to meet you&lt;/Profile&gt;\n&lt;Age&gt;Your age is &lt;new&gt;25&lt;/new&gt;&lt;/Age&gt;\n&lt;Marriage&gt;&lt;old&gt;Married&lt;/old&gt;&lt;/Marriage&gt;\n&lt;/root&gt;\";\n\nvar doc = XDocument.Parse(raw);\n\nvar result = doc.Descendants()\n                //filter element that has child &lt;old&gt; or &lt;new&gt; or both :\n                .Where(o =&gt; o.Element(\"old\") != null || o.Element(\"new\") != null)\n                //return tuple of old value - new value from current parent element :\n                .Select(o =&gt; Tuple.Create((string)o.Element(\"old\"), (string)o.Element(\"new\")));\n\nforeach (var r in result)\n{\n    Console.WriteLine(r);\n}\n</code></pre>\n\n<p><strong>output :</strong></p>\n\n<pre><code>(Jason, Sam)\n(, 25)\n(Married, )\n</code></pre>\n"}], "owner": {"reputation": 310, "user_id": 3735638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/30f014aafcd6c38663f5cb2d432e23ed?s=128&d=identicon&r=PG&f=1", "display_name": "civic.sir", "link": "https://stackoverflow.com/users/3735638/civic-sir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 36053117, "answer_count": 1, "score": 1, "last_activity_date": 1458223777, "creation_date": 1458160552, "question_id": 36046418, "link": "https://stackoverflow.com/questions/36046418/xml-linq-retrieving-elements-in-same-node", "title": "xml linq retrieving elements in same node", "body": "<p>I was wondering if there is a way to find a list of elements in an XML document using LiNQ where there exist an pair element <code>&lt;new&gt;</code> and <code>&lt;old&gt;</code>. However, both these elements does not have to be there ie. a XDoc with no <code>&lt;old&gt;</code>and but a <code>&lt;new&gt;</code> elements. Also I could have a huge XML file with no <code>&lt;new&gt;</code> and <code>&lt;old&gt;</code> tag.</p>\n\n<p>Here are some few examples (from the same XDoc)</p>\n\n<pre><code>&lt;Profile&gt;Your name is &lt;old&gt;Jason&lt;/old&gt;&lt;new&gt;Sam&lt;/new&gt;. It is a pleasure to meet you&lt;/Profile&gt;\n</code></pre>\n\n<p>or another element within the same doc</p>\n\n<pre><code>&lt;Age&gt;Your age is &lt;new&gt;25&lt;/new&gt;&lt;/Age&gt;\n</code></pre>\n\n<p>Or could be the case</p>\n\n<pre><code>&lt;Marriage&gt;&lt;old&gt;Married&lt;/old&gt;&lt;/Marriage&gt;\n</code></pre>\n\n<p>So in the end i need a List of the tuple pair {old, new}, in this example it'll be:\n<br/>{Jason, Sam}\n<br/>{'', 25}\n<br/>{Married,''}</p>\n\n<p>My first first attempt was to use this:</p>\n\n<pre><code>var oldElement = xml.Descendants().AsEnumerable().Where(x =&gt; x.Name == \"old\");\nvar newElement = xml.Descendants().AsEnumerable().Where(x =&gt; x.Name == \"new\");\n</code></pre>\n\n<p>and join the two by looping through the old elements. Obviously this will not work because there could be a case where the old and new count will not match (ie. when there are a whole bunch of new nodes and no old nodes)</p>\n\n<p>Is there a way to get a list of matching pair of new and old under the same parent. In our example the Profile Node has both matching parent, whereas the other two (Age) had only new node and (Marriage) only had old node. So the end result will look like the list above (if no new tags then empty string). </p>\n"}, {"tags": ["c#", "sql", "sql-server"], "comments": [{"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 1, "creation_date": 1458160330, "post_id": 36046311, "comment_id": 59741229, "body": "You can&#39;t parameterize identifiers but you can use a case expression in your order by clause that is based on a parameter value."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4278933"}, "edited": false, "score": 0, "creation_date": 1458160380, "post_id": 36046311, "comment_id": 59741259, "body": "Either I lack an understanding of the question, or you lack an understanding of the problem. Parameterized queries will not (as far as I know) prevent you from having sql injection. Sanitizing the data prior to making the SQL request will help you more."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1458160393, "post_id": 36046311, "comment_id": 59741265, "body": "If your <code>sort</code> value is not entered by a user, but chosen from a list, then you don&#39;t have a SQL injection problem - otherwise, you do."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 4, "creation_date": 1458160429, "post_id": 36046311, "comment_id": 59741286, "body": "@fiprojects parameterized queries certainly will prevent SQL injection."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1458160529, "post_id": 36046311, "comment_id": 59741347, "body": "@fiprojects can you provide sample SQL query that demonstrate your statement (assuming no user input in SQL query and only parameters allowed)?"}, {"owner": {"reputation": 35, "user_id": 2671663, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d9e7c4b367120a21f2b06e20b5a002b9?s=128&d=identicon&r=PG", "display_name": "Mikyas Gami", "link": "https://stackoverflow.com/users/2671663/mikyas-gami"}, "reply_to_user": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1458161995, "post_id": 36046311, "comment_id": 59742205, "body": "@ZoharPeled can you give me an example of what you mean?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458162005, "post_id": 36046311, "comment_id": 59742208, "body": "The SQL query is a string so when you pass a non string item to the query the low level drive has to guess the type.  If pass a number 1 to the query and the database has the type a float you could loose accuracy of the results.  If the database has a field defined at a string and you pass 1.23 the driver may convert the object to a number and then you would get a mis-match in types.  So it is &quot;best&quot; to always use parameters for every variable."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4278933"}, "edited": false, "score": 0, "creation_date": 1458220409, "post_id": 36046311, "comment_id": 59769728, "body": "I think its safe to say that I lacked an understanding of the question - and I also learned that &quot;<i>parameterized queries certainly will prevent SQL injection</i>&quot; Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1458188193, "post_id": 36046452, "comment_id": 59751099, "body": "What if the string passed is <code>select 1];drop table tablename --</code>? How would qouatname protect from that?"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "reply_to_user": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1458188337, "post_id": 36046452, "comment_id": 59751141, "body": "@ZoharPeled It would become <code>[select 1]];drop table tablename --]</code> Sql treats a <code>]]</code> inside a <code>[ ]</code> set as <code>]</code> interpeted as text. similar to how if you do <code>&quot;\\\\&quot;</code> in C# to get just a <code>\\ </code>. In the MSDN documentation they show an example of it."}, {"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1458193454, "post_id": 36046452, "comment_id": 59752864, "body": "Good to know! I wasn&#39;t aware of the fact that <code>QUOTENAME</code> actually escapes characters inside the string."}], "tags": [], "owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "is_accepted": true, "score": 4, "last_activity_date": 1458160991, "last_edit_date": 1458160991, "creation_date": 1458160668, "answer_id": 36046452, "question_id": 36046311, "link": "https://stackoverflow.com/questions/36046311/can-you-only-parameterize-the-where-clause/36046452#36046452", "title": "Can you only parameterize the where clause?", "body": "<p>You are correct that you can't use parameters directly for this use case. However the fact if you need to use parameters or not depends on how <code>sort</code> gets populated. </p>\n\n<p>If it is a list of column names that are hard coded and the user just picks which indexes in the list are going to be chosen you don't need to worry about parameterizing, the user does not have direct input in the query so they can't inject code in to it.</p>\n\n<p>If the user is providing the column names directly you must clean up the user input before passing it in, a way to do that is use the sql function <a href=\"https://msdn.microsoft.com/en-us/library/ms176114.aspx\" rel=\"nofollow\"><code>QUOTENAME</code></a> to clean up the input.</p>\n\n<pre><code>string strQ = @\"\ndeclare @query nvarchar(max)\nset @query = ';WITH lstTable as (\n                SELECT ROW_NUMBER() OVER(ORDER BY' + QUOTENAME(@sortColumn) + ') AS RowNum, *\n                FROM (\n                SELECT *\n                FROM SystemMessage\n                WHERE Deleted = 0 '\nexec sp_executesql @query\";\n</code></pre>\n\n<p>What that will do is whatever string you pass in to <code>@sortColumn</code> it will properly wrap <code>[ ]</code> around that string value. It then uses that excaped value in the dynamicly generated string and runs that with <code>sp_executesql</code>. </p>\n\n<p>One important note, this example only works with a single column name currently, you would need a <code>QUOTENAME</code> and a new parameter per column you wanted to add in to the query. If you did try passing in <code>FirstName, LastName</code> it would become </p>\n\n<pre><code>;WITH lstTable as (\n   SELECT ROW_NUMBER() OVER(ORDER BY [FirstName, LastName]) AS RowNum, *\n       FROM (\n       SELECT *\n       FROM SystemMessage\n       WHERE Deleted = 0\n</code></pre>\n\n<p>when executed so it would attempt to find a column named \"<code>[FirstName, LastName]</code>\" and would fail.</p>\n"}], "owner": {"reputation": 35, "user_id": 2671663, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d9e7c4b367120a21f2b06e20b5a002b9?s=128&d=identicon&r=PG", "display_name": "Mikyas Gami", "link": "https://stackoverflow.com/users/2671663/mikyas-gami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 36046452, "answer_count": 1, "score": 1, "last_activity_date": 1458160991, "creation_date": 1458160166, "last_edit_date": 1458160267, "question_id": 36046311, "link": "https://stackoverflow.com/questions/36046311/can-you-only-parameterize-the-where-clause", "title": "Can you only parameterize the where clause?", "body": "<p>To prevent sql injection, I am trying to use parameterized queries. But it is not clear to me whether I should only paramterize the where clause or other parts of the query. For example, I am trying to improve the following query:</p>\n\n<pre><code>string strQ = @\";WITH lstTable as (\n                SELECT ROW_NUMBER() OVER(ORDER BY \" + sort + @\") AS RowNum, *\n                FROM (\n                SELECT *\n                FROM SystemMessage\n                WHERE Deleted = 0  \";`\n</code></pre>\n\n<p>This query is being used in grid and based on user's selection, it will sort by the column name. Do I needed paramaterize 'sort' in this scenario?</p>\n"}, {"tags": ["c#", ".net", "regex", "replace"], "comments": [{"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1458161192, "post_id": 36046299, "comment_id": 59741712, "body": "<code>var output = &quot;(x1.y2.z3 + 9) + y2_z1 - x1.y2.z3&quot;.Replace(&#39;.&#39;, &#39;_&#39;);</code>, or <code>var output = Regex.Replace(&quot;(x1.y2.z3 + 9) + y2_z1 - x1.y2.z3&quot;, @&quot;\\.&quot;, &quot;_&quot;);</code> will replace the dots for you."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 2, "creation_date": 1458161422, "post_id": 36046299, "comment_id": 59741868, "body": "You can just randomly replace periods because you could have a floating point number 123.456.  You have to first parse the statement int elements around the operands +,-,*,/ and then replace the periods in each element."}, {"owner": {"reputation": 14820, "user_id": 387058, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e337de40a5e7645cbda6b8fd45a21651?s=128&d=identicon&r=PG", "display_name": "Furqan Safdar", "link": "https://stackoverflow.com/users/387058/furqan-safdar"}, "edited": false, "score": 0, "creation_date": 1458161541, "post_id": 36046299, "comment_id": 59741951, "body": "True the floating point numbers should not be replaced. Therefore i want to replace variables only in the whole expression."}, {"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458162639, "post_id": 36046299, "comment_id": 59742564, "body": "Good point @jdweng. Furqan, your pattern <code>\\w+(\\.\\w+)*</code> is matching on <code>9.99</code>. If you can get your pattern correct and only match on the actual variables, then I think the relevant question is, &quot;How do I replace a character in a string, but only if that character is part of a regex match?&quot;."}, {"owner": {"reputation": 14820, "user_id": 387058, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e337de40a5e7645cbda6b8fd45a21651?s=128&d=identicon&r=PG", "display_name": "Furqan Safdar", "link": "https://stackoverflow.com/users/387058/furqan-safdar"}, "edited": false, "score": 0, "creation_date": 1458163022, "post_id": 36046299, "comment_id": 59742787, "body": "Help me in correcting the pattern to identify variables only? I have given my requirements."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458164483, "post_id": 36046299, "comment_id": 59743523, "body": "My point is you have to tokenize first and then replace the periods."}], "answers": [{"comments": [{"owner": {"reputation": 38873, "user_id": 2415822, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zxy7G.jpg?s=128&g=1", "display_name": "JAL", "link": "https://stackoverflow.com/users/2415822/jal"}, "edited": false, "score": 0, "creation_date": 1458169949, "post_id": 36047122, "comment_id": 59745847, "body": "Adding an explanation of how this RegEx answers the question will improve your answer for future visitors (this answer was flagged as low-quality)."}], "tags": [], "owner": {"reputation": 300, "user_id": 1286900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ppzRc.jpg?s=128&g=1", "display_name": "Algemist", "link": "https://stackoverflow.com/users/1286900/algemist"}, "is_accepted": false, "score": 0, "last_activity_date": 1458223595, "last_edit_date": 1458223595, "creation_date": 1458163021, "answer_id": 36047122, "question_id": 36046299, "link": "https://stackoverflow.com/questions/36046299/using-regex-to-replace-part-of-the-entire-string-expression/36047122#36047122", "title": "Using Regex to replace part of the entire string/expression", "body": "<p>Try this:</p>\n\n<pre><code>        string input = \"(x1.y2.z3 + 9.99) + y2_z1 - x1.y2.z3\";\n        string output = Regex.Replace(input, \"\\\\.(?&lt;![a-z])\", \"_\");\n</code></pre>\n\n<p>This will replace only periods which are followed by a letter (a-z).</p>\n"}, {"comments": [{"owner": {"reputation": 14820, "user_id": 387058, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e337de40a5e7645cbda6b8fd45a21651?s=128&d=identicon&r=PG", "display_name": "Furqan Safdar", "link": "https://stackoverflow.com/users/387058/furqan-safdar"}, "edited": false, "score": 0, "creation_date": 1458193734, "post_id": 36047867, "comment_id": 59752965, "body": "I liked the idea of using MatchEvaluator. My second question means that variable can have both underscore and dot, e.g. x1_y2.z3 which will be changed to x1_y2_z3. Now how to get my original variable back replacing only the underscore to dot between y2 and z3? Further, if i change my dot to someother special character, tokeznier might not understand this variable because variable can only include alphanumeric and underscore."}, {"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "reply_to_user": {"reputation": 14820, "user_id": 387058, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e337de40a5e7645cbda6b8fd45a21651?s=128&d=identicon&r=PG", "display_name": "Furqan Safdar", "link": "https://stackoverflow.com/users/387058/furqan-safdar"}, "edited": false, "score": 0, "creation_date": 1458226933, "post_id": 36047867, "comment_id": 59775107, "body": "Sounds doable. Need to use the <code>Match.Index</code> property in the match evaluator to determine the indices of where the dots were originally, save those indexes to a global list visible by the match evaluator method, then to &quot;de-tokenize&quot; you replace all the indices in the tokenized strings with the original character (dot in this case), using the list to know which indices. I don&#39;t have time at the moment to do all of that.."}], "tags": [], "owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "is_accepted": true, "score": 1, "last_activity_date": 1458166037, "creation_date": 1458166037, "answer_id": 36047867, "question_id": 36046299, "link": "https://stackoverflow.com/questions/36046299/using-regex-to-replace-part-of-the-entire-string-expression/36047867#36047867", "title": "Using Regex to replace part of the entire string/expression", "body": "<p>This regex pattern seems to work: <code>[a-zA-Z]+\\d+\\S+</code></p>\n\n<p>To replace a dot found <em>only</em> in a match you use MatchEvaluator:</p>\n\n<pre><code>    private static char charToReplaceWith = '_';\n    static void Main(string[] args)\n    {\n        string s = \"(x1.y2.z3 + 9.99) + y2_z1 - x1.y2.z3\";\n        Console.WriteLine(Regex.Replace(s, @\"[a-zA-Z]+\\d+\\S+\", new MatchEvaluator(ReplaceDotWithCharInMatch)));\n        Console.Read();\n    }\n\n    private static string ReplaceDotWithCharInMatch(Match m)\n    {\n        return m.Value.Replace('.', charToReplaceWith);\n    }\n</code></pre>\n\n<p>Which gives this output:\n<code>(x1_y2_z3 + 9.99) + y2_z1 - x1_y2_z3</code></p>\n\n<p>I don't fully understand your second question and how to deal with tokenizing variables that already have underscores, but you should be able to choose a character to replace with (i.e., <code>if (string.Contains('_'))</code> is <code>true</code> then you choose a different character to replace with, but probably have to maintain a dictionary that says \"I replaced all dots with underscores, and all underscores with <code>^</code>, etc..).</p>\n"}, {"tags": [], "owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "is_accepted": false, "score": 0, "last_activity_date": 1458225374, "creation_date": 1458225374, "answer_id": 36063676, "question_id": 36046299, "link": "https://stackoverflow.com/questions/36046299/using-regex-to-replace-part-of-the-entire-string-expression/36063676#36063676", "title": "Using Regex to replace part of the entire string/expression", "body": "<p>Use Regex' <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow\">negative lookahead</a> by making a group that starts with <code>(?!</code></p>\n\n<p>A dot followed by something non-numeric would be as simple as this:</p>\n\n<pre><code>// matches any dot NOT followed by a character in the range 0-9\nString output = Regex.Replace(input, \"\\\\.(?![0-9])\", \"_\");\n</code></pre>\n\n<p>This has the advantage that while the [0-9] is part of the expression, it is only checked as being <em>behind</em> the match, but is not actually part of the match.</p>\n"}], "owner": {"reputation": 14820, "user_id": 387058, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e337de40a5e7645cbda6b8fd45a21651?s=128&d=identicon&r=PG", "display_name": "Furqan Safdar", "link": "https://stackoverflow.com/users/387058/furqan-safdar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 1, "accepted_answer_id": 36047867, "answer_count": 3, "score": -1, "last_activity_date": 1458225374, "creation_date": 1458160140, "last_edit_date": 1458161485, "question_id": 36046299, "link": "https://stackoverflow.com/questions/36046299/using-regex-to-replace-part-of-the-entire-string-expression", "title": "Using Regex to replace part of the entire string/expression", "body": "<p>Regex are simple yet complex at times. Stuck to replace an expression having variables, assuming variable is of the following pattern:</p>\n\n<pre><code>\\w+(\\.\\w+)*\n</code></pre>\n\n<p>I want to replace all the occurrences of my variable replacing dot (.) because i have to eventually tokenize the expression where tokenizer do not recognize variable having dots. So i thought to replace them with underscore before parsing. After tokenizing however i want to get the variable token with original value.</p>\n\n<p>Expression:</p>\n\n<pre><code>(x1.y2.z3 + 9.99) + y2_z1 - x1.y2.z3\n</code></pre>\n\n<p>Three Variables:</p>\n\n<pre><code>x1.y2.z3\n\ny2_z1\n\nx1.y2.z3\n</code></pre>\n\n<p>Desired Output:</p>\n\n<pre><code>(x1_y2_z3 + 9.99) + y2_z1 - x1_y2_z3\n</code></pre>\n\n<ul>\n<li><p>Question 1: How to use Regex replace in this case?</p></li>\n<li><p>Question 2: Is there any better way to address above mentioned problem because variable can have underscore so replacing dot with underscore is not a viable solution to get the original variable back in tokens?</p></li>\n</ul>\n"}, {"tags": ["c#", "visual-studio-2015", "asp.net-core", "asp.net-core-mvc"], "comments": [{"owner": {"reputation": 127444, "user_id": 492405, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/SSPGk.png?s=128&g=1", "display_name": "vcsjones", "link": "https://stackoverflow.com/users/492405/vcsjones"}, "edited": false, "score": 0, "creation_date": 1458160062, "post_id": 36046228, "comment_id": 59741063, "body": "Can you post your full <code>Configure</code> method in Startup.cs?"}, {"owner": {"reputation": 91, "user_id": 3798340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0019f3f01fba9a35fd529f56d318134d?s=128&d=identicon&r=PG&f=1", "display_name": "diverge", "link": "https://stackoverflow.com/users/3798340/diverge"}, "reply_to_user": {"reputation": 127444, "user_id": 492405, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/SSPGk.png?s=128&g=1", "display_name": "vcsjones", "link": "https://stackoverflow.com/users/492405/vcsjones"}, "edited": false, "score": 2, "creation_date": 1458168670, "post_id": 36046228, "comment_id": 59745350, "body": "<a href=\"http://stackoverflow.com/questions/35184997/asp-net-5-iis-on-windows-10-httpplatformhandler-getting-404-not-found\">This post solved my problem</a>. Hopefully this will help someone else too."}], "owner": {"reputation": 91, "user_id": 3798340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0019f3f01fba9a35fd529f56d318134d?s=128&d=identicon&r=PG&f=1", "display_name": "diverge", "link": "https://stackoverflow.com/users/3798340/diverge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458169549, "creation_date": 1458159864, "last_edit_date": 1458169549, "question_id": 36046228, "link": "https://stackoverflow.com/questions/36046228/routing-issues-with-mvc-6", "title": "Routing issues with MVC 6", "body": "<p>Server is 2008 R2. I am getting 404 back.</p>\n\n<p>I have confirmed that Configure and ConfigureServices in Startup.cs completed without error by placing this code at the end</p>\n\n<pre><code> app.Run(async context =&gt;\n        {\n            await context.Response.WriteAsync(\"Hello from RC1!\");\n        });\n</code></pre>\n\n<p>However, requests don't get to my controller when I navigate to it . I believe it might be a routing problem. Log files pointed to by stdoutLogFile don't show any errors.</p>\n\n<p>I can RDP in and browse to the site after running web.cmd in the approot directory. Site runs fine that way. Can not access it with IIS.</p>\n\n<p>Update</p>\n\n<pre><code>public void Configure(IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory)\n    {         \n        loggerFactory.AddConsole(Configuration.GetSection(\"Logging\"));\n        loggerFactory.AddDebug();\n        app.UseSession();       \n        app.UseIISPlatformHandler();\n        app.UseStaticFiles();\n        app.UseIdentity();\n\n        app.UseMvc(routes =&gt;\n        {\n            app.UseMvc(RouteConfig.RegisterRoutes);\n        });          \n\n    }\n\n\npublic class RouteConfig\n{\n    public static void RegisterRoutes(IRouteBuilder routes)\n    {\n        app.UseMvc(routes =&gt;\n        {\n            routes.MapRoute(\n               name: \"default\",\n               template: \"{controller=Home}/{action=Index}/{id?}\");\n         });\n     }\n}\n</code></pre>\n"}, {"tags": ["c#", "html", "regex"], "comments": [{"owner": {"reputation": 7177, "user_id": 877671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8939483dd01352eebbe71a0e9b0befd0?s=128&d=identicon&r=PG", "display_name": "Aziz", "link": "https://stackoverflow.com/users/877671/aziz"}, "edited": false, "score": 0, "creation_date": 1458159652, "post_id": 36046137, "comment_id": 59740841, "body": "by &quot;remove HTML&quot; you mean to strip the tags and get just text?"}, {"owner": {"reputation": 3, "user_id": 5561153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a213531b2bb5b7930a70e9e02ec4ed78?s=128&d=identicon&r=PG&f=1", "display_name": "Paxton", "link": "https://stackoverflow.com/users/5561153/paxton"}, "reply_to_user": {"reputation": 7177, "user_id": 877671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8939483dd01352eebbe71a0e9b0befd0?s=128&d=identicon&r=PG", "display_name": "Aziz", "link": "https://stackoverflow.com/users/877671/aziz"}, "edited": false, "score": 0, "creation_date": 1458160021, "post_id": 36046137, "comment_id": 59741044, "body": "@Aziz, I updated the code above. The regex removes the HTML, but it chokes on &gt;&gt; and &lt;&lt;. I like the expression to just ignore these double angle brackets. In fact, they are C++ code snippets."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 3, "creation_date": 1458160111, "post_id": 36046137, "comment_id": 59741097, "body": "Sigh... regex is the wrong tool for dealing with XML or HTML.  What&#39;s going to happen when a tag is broken across multiple lines?"}, {"owner": {"reputation": 2956, "user_id": 4037348, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-jvF-XwgbPrY/AAAAAAAAAAI/AAAAAAAAACM/hlkmh4xA34w/photo.jpg?sz=128", "display_name": "Gediminas Masaitis", "link": "https://stackoverflow.com/users/4037348/gediminas-masaitis"}, "edited": false, "score": 3, "creation_date": 1458160204, "post_id": 36046137, "comment_id": 59741157, "body": "Mandatory link: <a href=\"http://stackoverflow.com/a/1732454/4037348\">stackoverflow.com/a/1732454/4037348</a>"}, {"owner": {"reputation": 3, "user_id": 5561153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a213531b2bb5b7930a70e9e02ec4ed78?s=128&d=identicon&r=PG&f=1", "display_name": "Paxton", "link": "https://stackoverflow.com/users/5561153/paxton"}, "edited": false, "score": 1, "creation_date": 1458165727, "post_id": 36046137, "comment_id": 59744097, "body": "Yeah, I am aware of the link (don&#39;t use Regex for HTML parsing), but our scenario is simple and controlled."}, {"owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1458814177, "post_id": 36046137, "comment_id": 60028590, "body": "@JimGarrison since when does regex care about lines unless specifically told to care about lines?"}], "answers": [{"tags": [], "owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "is_accepted": true, "score": 1, "last_activity_date": 1458228727, "last_edit_date": 1458228727, "creation_date": 1458226701, "answer_id": 36064253, "question_id": 36046137, "link": "https://stackoverflow.com/questions/36046137/regex-expression-to-remove-html-but-with-exceptions/36064253#36064253", "title": "Regex expression to remove HTML but with exceptions", "body": "<p>Not sure why the $ at the end is in there too, but anyway... <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow\">negative lookahead and lookbehind</a> can solve this problem:</p>\n\n<pre><code>Regex regex = new Regex(\"(?&lt;![&lt;])&lt;[^&lt;&gt;]+&gt;(?![&gt;])\");\nreturn regex.Replace(input, String.Empty);\n</code></pre>\n\n<p>This will match any &lt; not preceded by another &lt;, then the content, and then any &gt; not followed by another &gt;.</p>\n"}], "owner": {"reputation": 3, "user_id": 5561153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a213531b2bb5b7930a70e9e02ec4ed78?s=128&d=identicon&r=PG&f=1", "display_name": "Paxton", "link": "https://stackoverflow.com/users/5561153/paxton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 1, "accepted_answer_id": 36064253, "answer_count": 1, "score": 0, "last_activity_date": 1458228727, "creation_date": 1458159549, "last_edit_date": 1458159936, "question_id": 36046137, "link": "https://stackoverflow.com/questions/36046137/regex-expression-to-remove-html-but-with-exceptions", "title": "Regex expression to remove HTML but with exceptions", "body": "<p>In C#, I have the following regex expression to remove HTML from a string: </p>\n\n<pre><code>var regex = new Regex(\"&lt;[^&gt;]*(&gt;|$)\");\nreturn regex.Replace(input, match =&gt; \"\");\n</code></pre>\n\n<p>There are some cases where we need to allow for double <code>&gt;&gt;</code> and <code>&lt;&lt;</code>. \nHow do I change the above expression to simply skip these double angled brackets?</p>\n"}, {"tags": ["c#", "android", "unity3d", "unity5"], "comments": [{"owner": {"reputation": 613, "user_id": 987632, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d71d3702a6a1088353a293d0e70a668b?s=128&d=identicon&r=PG", "display_name": "Yara_M", "link": "https://stackoverflow.com/users/987632/yara-m"}, "edited": false, "score": 0, "creation_date": 1458565934, "post_id": 36046136, "comment_id": 59902517, "body": "Have you try your app on device? It seems <code>TouchScreenKeyboard.Open</code> does not work in Editor."}, {"owner": {"reputation": 15, "user_id": 3640122, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0092a4837cb21c8bd6067af07c19e68c?s=128&d=identicon&r=PG&f=1", "display_name": "user3640122", "link": "https://stackoverflow.com/users/3640122/user3640122"}, "reply_to_user": {"reputation": 613, "user_id": 987632, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d71d3702a6a1088353a293d0e70a668b?s=128&d=identicon&r=PG", "display_name": "Yara_M", "link": "https://stackoverflow.com/users/987632/yara-m"}, "edited": false, "score": 0, "creation_date": 1458771045, "post_id": 36046136, "comment_id": 60014412, "body": "Oh thanks, i will try building it to my phone, i have only been using the editor with &#39;unity remote&#39; so far."}, {"owner": {"reputation": 15, "user_id": 3640122, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0092a4837cb21c8bd6067af07c19e68c?s=128&d=identicon&r=PG&f=1", "display_name": "user3640122", "link": "https://stackoverflow.com/users/3640122/user3640122"}, "reply_to_user": {"reputation": 613, "user_id": 987632, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d71d3702a6a1088353a293d0e70a668b?s=128&d=identicon&r=PG", "display_name": "Yara_M", "link": "https://stackoverflow.com/users/987632/yara-m"}, "edited": false, "score": 0, "creation_date": 1459008131, "post_id": 36046136, "comment_id": 60105362, "body": "Thanks man that was it, i would have though that using unity remote it would still work but never mind. Thanks for your help."}], "answers": [{"tags": [], "owner": {"reputation": 15, "user_id": 3640122, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0092a4837cb21c8bd6067af07c19e68c?s=128&d=identicon&r=PG&f=1", "display_name": "user3640122", "link": "https://stackoverflow.com/users/3640122/user3640122"}, "is_accepted": true, "score": 0, "last_activity_date": 1459008318, "creation_date": 1459008318, "answer_id": 36237503, "question_id": 36046136, "link": "https://stackoverflow.com/questions/36046136/unity-android-touchscreenkeyboard-does-not-appear/36237503#36237503", "title": "Unity Android TouchscreenKeyboard does not appear", "body": "<p>The comment above solves this issue. It was that TouchScreenKeyboard.Open doesn't work in the editor. Once built to my device it was all OK.</p>\n"}], "owner": {"reputation": 15, "user_id": 3640122, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0092a4837cb21c8bd6067af07c19e68c?s=128&d=identicon&r=PG&f=1", "display_name": "user3640122", "link": "https://stackoverflow.com/users/3640122/user3640122"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1844, "favorite_count": 0, "accepted_answer_id": 36237503, "answer_count": 1, "score": 0, "last_activity_date": 1459008318, "creation_date": 1458159546, "last_edit_date": 1458159934, "question_id": 36046136, "link": "https://stackoverflow.com/questions/36046136/unity-android-touchscreenkeyboard-does-not-appear", "title": "Unity Android TouchscreenKeyboard does not appear", "body": "<p>I'm making an android application using unity3d. </p>\n\n<p>The keyboard is being used to enter a Name for a digital Pet.</p>\n\n<p>The code I am using can be seen below, it is triggered by the user pressing a button in a menu screen.</p>\n\n<pre><code>TouchScreenKeyboard keyboard = TouchScreenKeyboard.Open(\"Franklin\");\n\nif (keyboard != null)\n    SetPetName(keyboard.text);\n</code></pre>\n\n<p>Once the button has been pressed the Pet's name has been changed to 'Franklin' but no keyboard appear on screen. </p>\n\n<p>I can't see where I am going wrong here, and I have not been able to find any similar issues posted.\nOne thought I had was that it may be in some way related to the fact I am locking the screen orientation to horizontal, but this is something i need to do on my application.</p>\n\n<p>Thanks in advance for any help you can offer.</p>\n"}, {"tags": ["c#", "wpf", "xaml", "user-controls", "code-behind"], "comments": [{"owner": {"reputation": 1096, "user_id": 2436859, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ac93344f8743c4577c1fe1bafdf2c905?s=128&d=identicon&r=PG", "display_name": "Taegost", "link": "https://stackoverflow.com/users/2436859/taegost"}, "edited": false, "score": 0, "creation_date": 1458159707, "post_id": 36046119, "comment_id": 59740876, "body": "Why can&#39;t you just pass it in through the constructor, or update it with properties after the new window is constructed but before it takes focus?"}, {"owner": {"reputation": 3, "user_id": 5476590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4b10295b0692757718a6048ba11930b?s=128&d=identicon&r=PG&f=1", "display_name": "Cmpsnetsua", "link": "https://stackoverflow.com/users/5476590/cmpsnetsua"}, "reply_to_user": {"reputation": 1096, "user_id": 2436859, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ac93344f8743c4577c1fe1bafdf2c905?s=128&d=identicon&r=PG", "display_name": "Taegost", "link": "https://stackoverflow.com/users/2436859/taegost"}, "edited": false, "score": 0, "creation_date": 1458160812, "post_id": 36046119, "comment_id": 59741505, "body": "The window needs to save an arbitrary number of fields. This Window will also be used by other UserControls in later development. So passing the parameters might not be the best way."}, {"owner": {"reputation": 3, "user_id": 5476590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4b10295b0692757718a6048ba11930b?s=128&d=identicon&r=PG&f=1", "display_name": "Cmpsnetsua", "link": "https://stackoverflow.com/users/5476590/cmpsnetsua"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1458161241, "post_id": 36046119, "comment_id": 59741748, "body": "@HenkHolterman No, the UserControl doesn&#39;t have a x:Name."}, {"owner": {"reputation": 1096, "user_id": 2436859, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ac93344f8743c4577c1fe1bafdf2c905?s=128&d=identicon&r=PG", "display_name": "Taegost", "link": "https://stackoverflow.com/users/2436859/taegost"}, "edited": false, "score": 0, "creation_date": 1458161749, "post_id": 36046119, "comment_id": 59742061, "body": "So what you need is a generic window that will take whatever data it&#39;s given from whatever source and display it, then save it?  You&#39;re probably best looking at creating an interface that each of those other classes implement that handle the formatting and saving, and just have the window accept an object of that interface type and call those methods, then display the output..."}, {"owner": {"reputation": 1096, "user_id": 2436859, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ac93344f8743c4577c1fe1bafdf2c905?s=128&d=identicon&r=PG", "display_name": "Taegost", "link": "https://stackoverflow.com/users/2436859/taegost"}, "edited": false, "score": 0, "creation_date": 1458161981, "post_id": 36046119, "comment_id": 59742197, "body": "Or, on the flip side of that, an interface that each control has to implement that handles their own display of the window and saving of the data..."}, {"owner": {"reputation": 3, "user_id": 5476590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4b10295b0692757718a6048ba11930b?s=128&d=identicon&r=PG&f=1", "display_name": "Cmpsnetsua", "link": "https://stackoverflow.com/users/5476590/cmpsnetsua"}, "reply_to_user": {"reputation": 1096, "user_id": 2436859, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ac93344f8743c4577c1fe1bafdf2c905?s=128&d=identicon&r=PG", "display_name": "Taegost", "link": "https://stackoverflow.com/users/2436859/taegost"}, "edited": false, "score": 0, "creation_date": 1458163213, "post_id": 36046119, "comment_id": 59742882, "body": "@Taegost You gave me an idea with your comment and I think it might be the solution. I don&#39;t need to pass the UserControl through the constructor, but I do call the Window through another function. Passing the UserControl there seems to have done the trick. I&#39;ll keep testing though to confirm."}], "answers": [{"tags": [], "owner": {"reputation": 1096, "user_id": 2436859, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ac93344f8743c4577c1fe1bafdf2c905?s=128&d=identicon&r=PG", "display_name": "Taegost", "link": "https://stackoverflow.com/users/2436859/taegost"}, "is_accepted": true, "score": 0, "last_activity_date": 1458217814, "creation_date": 1458217814, "answer_id": 36060619, "question_id": 36046119, "link": "https://stackoverflow.com/questions/36046119/how-do-i-access-one-usercontrols-code-behind-data-in-a-window-that-is-loaded-on/36060619#36060619", "title": "How do I access one UserControl&#39;s code behind data in a window that is loaded on top the UserControl?", "body": "<p>It sounds like what you need is a generic window that will take whatever data it's given from whatever source and display it. </p>\n\n<p>Your best bet is to look at creating an interface that each of those other classes implement that handle the formatting and saving, and just have the window accept an object of that interface type and call those methods to display the output and save the data</p>\n\n<p>Or, on the flip side of that, an interface that each control has to implement that handles their own display of the window and saving of the data.</p>\n"}], "owner": {"reputation": 3, "user_id": 5476590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4b10295b0692757718a6048ba11930b?s=128&d=identicon&r=PG&f=1", "display_name": "Cmpsnetsua", "link": "https://stackoverflow.com/users/5476590/cmpsnetsua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 36060619, "answer_count": 1, "score": 0, "last_activity_date": 1458217814, "creation_date": 1458159503, "last_edit_date": 1458162508, "question_id": 36046119, "link": "https://stackoverflow.com/questions/36046119/how-do-i-access-one-usercontrols-code-behind-data-in-a-window-that-is-loaded-on", "title": "How do I access one UserControl&#39;s code behind data in a window that is loaded on top the UserControl?", "body": "<p>I have a WPF application with a UserControl where most of my application lives. In this UserControl I have several different controls that hold user information. When saving the data I create a window that \"pops ups\" over the UserControl to confirm saving.</p>\n\n<p>In this Window I need some of the data that is in the UserControl to be displayed back to the User as well as saved to the data base.</p>\n\n<p>I have created an object of the UserControl in the Window in order to access the controls as such:</p>\n\n<pre><code>    UserControl Ctrl = new UserControl();\n</code></pre>\n\n<p>But this UserControl no longer holds the values I need. Also, the UserControl's constructor takes in optional parameters. I have found that creating a reference in the XAML in order to access the Controls yields the error \"The type \"UserControlName\" does not include any accessible constructors.\"  </p>\n\n<p>I'm doing a Code-behind approach to the application and would like to continue doing that for the most part. But working with dataBinding isn't an issue.</p>\n\n<p>My question is: How does the Window get access to the different values that are held in the Controls or Code-behind of the UserControl so that I can save the necessary data from the UserControl in the Window?</p>\n\n<p>The section of the UserControl's XAML that is necessary is a such:</p>\n\n<pre><code>&lt;TextBox x:Name=\"txtUserName\" Grid.Row=\"0\" Grid.Column=\"1\" Margin=\"0,0,0,20\"/&gt;\n&lt;TextBox x:Name=\"txtName\" Grid.Row=\"1\" Grid.Column=\"1\" Margin=\"0,11,0,31\" Height=\"30\" VerticalAlignment=\"Center\" TextChanged=\"txtName_Change\"/&gt;\n&lt;ComboBox x:Name=\"cboPasswordExpire\" Grid.Row=\"2\" Grid.Column=\"3\" Margin=\"0,0,0,20\" Height=\"30\"/&gt;\n&lt;TextBox x:Name=\"txtUserID\" Grid.Row=\"2\" Grid.Column=\"1\" Margin=\"0,0,0,20\" Height=\"30\" TextChanged=\"txtUserID_Change\"/&gt;\n</code></pre>\n\n<p>The Window uses a DataTable to hold the values and this DataTable (rowSecurityTrans) is used to write to the database. A sample of how the values need to be accessed from the UserControl in the Window is as such (I'm using the 'Ctrl' from the above example of using an object that doesn't work):</p>\n\n<pre><code> rowSecurityTrans[\"Name\"] = Ctrl.txtName.Text;\n rowSecurityTrans[\"UserID\"] = Ctrl.txtUserID.Text;\n strUserName = userEditor.txtUserName.Text;\n rowSecurityTrans[\"PasswordDuration\"] = General.PasswordConverter(Ctrl.cboPasswordExpire.SelectedIndex);\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "azure", "project", "upgrade"], "answers": [{"tags": [], "owner": {"reputation": 1747, "user_id": 1759987, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/123bcfdcb5c7add924028320fc883683?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1759987/aaron"}, "is_accepted": true, "score": 1, "last_activity_date": 1458166707, "last_edit_date": 1458166707, "creation_date": 1458166146, "answer_id": 36047896, "question_id": 36046071, "link": "https://stackoverflow.com/questions/36046071/how-to-fix-you-must-upgrade-the-project-to-target-microsoft-azure-tools-2-8/36047896#36047896", "title": "How to fix &quot;You must upgrade the project to target Microsoft Azure Tools 2.8&quot;?", "body": "<p>A coworker helped me to come up with the solution:</p>\n\n<ol>\n<li>Go to the \"Microsoft Azure SDK for .NET - 2.6\" page here:\n<a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=46892\" rel=\"nofollow\">https://www.microsoft.com/en-us/download/details.aspx?id=46892</a></li>\n<li>Download \"MicrosoftAzureTools.VS140.exe\" and install it</li>\n<li>Run appwiz.cpl from the run prompt and filter on \"azure\" in upper right</li>\n<li>You should see \"Microsoft Azure Tools for Microsoft Visual Studio 2015 - v2.6\"</li>\n<li>Open Visual Studio 2015 again and your project should now load without prompting to upgrade. Do a Rebuild All just in case to make sure it builds.</li>\n</ol>\n\n<p>It turns out I had dang near everything installed except that one 2015 tools + 2.6 Azure combination.</p>\n"}], "owner": {"reputation": 1747, "user_id": 1759987, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/123bcfdcb5c7add924028320fc883683?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1759987/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 0, "accepted_answer_id": 36047896, "answer_count": 1, "score": 1, "last_activity_date": 1458166707, "creation_date": 1458159365, "last_edit_date": 1458160876, "question_id": 36046071, "link": "https://stackoverflow.com/questions/36046071/how-to-fix-you-must-upgrade-the-project-to-target-microsoft-azure-tools-2-8", "title": "How to fix &quot;You must upgrade the project to target Microsoft Azure Tools 2.8&quot;?", "body": "<p>I've got a project that's set to Azure 2.6. I have Visual Studio 2015 installed. I get prompted to upgrade the project (see image 1 below), which I do <em>not</em> want to do (it's production code and I don't know what the side effects may be, how many things might break).</p>\n\n<p>I tried installing Azure 2.6 and related tools, but it doesn't help. Image 2 shows all the Azure related stuff I have installed</p>\n\n<p>I have a coworker who has Visual Studio 2015 and can load the Azure project in the solution without a problem (see image 3). So it's clear that you don't <em>have</em> to upgrade the project.</p>\n\n<p>I'm going to try installing VS 2013 Community Edition + Azure 2.7 tools to see if that satisfies it. I'm grasping at straws at this point.</p>\n\n<p>Any ideas?</p>\n\n<p><a href=\"https://i.stack.imgur.com/D7GLM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D7GLM.png\" alt=\"Warning window asking to upgrade the project\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/DoN1e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DoN1e.png\" alt=\"Azure stuff I have installed already\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/pAnEk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pAnEk.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "mongodb", "asynchronous", "mvvm"], "comments": [{"owner": {"reputation": 525, "user_id": 875317, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/tQ8Th.jpg?s=128&g=1", "display_name": "B. Clay Shannon", "link": "https://stackoverflow.com/users/875317/b-clay-shannon"}, "edited": false, "score": 0, "creation_date": 1458159907, "post_id": 36046021, "comment_id": 59740986, "body": "Did you mean &quot;not&quot; instead of &quot;now&quot;?"}, {"owner": {"reputation": 1082, "user_id": 422443, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e1dcca8470fd0523aaf7b3fa1bab6bb?s=128&d=identicon&r=PG", "display_name": "barakisbrown", "link": "https://stackoverflow.com/users/422443/barakisbrown"}, "reply_to_user": {"reputation": 525, "user_id": 875317, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/tQ8Th.jpg?s=128&g=1", "display_name": "B. Clay Shannon", "link": "https://stackoverflow.com/users/875317/b-clay-shannon"}, "edited": false, "score": 0, "creation_date": 1458161789, "post_id": 36046021, "comment_id": 59742081, "body": "I meant not thanks and I did change the heading."}, {"owner": {"reputation": 5830, "user_id": 3776927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb2cca9626c6d445bd05297be86251?s=128&d=identicon&r=PG&f=1", "display_name": "derpirscher", "link": "https://stackoverflow.com/users/3776927/derpirscher"}, "edited": false, "score": 0, "creation_date": 1458162276, "post_id": 36046021, "comment_id": 59742349, "body": "do you get any data from you database? I.e. what is the content of <code>var list</code>? Do you get any errors, exceptions, ...?"}, {"owner": {"reputation": 1082, "user_id": 422443, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e1dcca8470fd0523aaf7b3fa1bab6bb?s=128&d=identicon&r=PG", "display_name": "barakisbrown", "link": "https://stackoverflow.com/users/422443/barakisbrown"}, "reply_to_user": {"reputation": 5830, "user_id": 3776927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb2cca9626c6d445bd05297be86251?s=128&d=identicon&r=PG&f=1", "display_name": "derpirscher", "link": "https://stackoverflow.com/users/3776927/derpirscher"}, "edited": false, "score": 0, "creation_date": 1458219480, "post_id": 36046021, "comment_id": 59769034, "body": "@derpirscher, Yes. I have checked the GetData function and I am getting the right data from the database. When it leaves the function and comes back, the count goes from 5(what it should be) to 0."}, {"owner": {"reputation": 5830, "user_id": 3776927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb2cca9626c6d445bd05297be86251?s=128&d=identicon&r=PG&f=1", "display_name": "derpirscher", "link": "https://stackoverflow.com/users/3776927/derpirscher"}, "edited": false, "score": 1, "creation_date": 1458227097, "post_id": 36046021, "comment_id": 59775231, "body": "@barakisbrown If I understand you correctly <code>list</code> contains 5 elements. With the <code>foreach</code> loop, you copy them to <code>items</code>. So this <code>List&lt;DataItem&gt;</code> also contains 5 elements. Then you call <code>callback(items.ToArray(), null)</code> (is that what you mean by &quot;<i>leaves the function</i>&quot;?) and after that callback returns <code>list</code> is empty, or <code>items</code> is empty? That&#39;s hard to believe from the code shown here. Something must happen in the code you did not show us. Also set a breakpoint in the callback where you assign <code>_items = item.ToList()</code> and check the content of <code>item</code> and <code>_items</code> before and after."}, {"owner": {"reputation": 1082, "user_id": 422443, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e1dcca8470fd0523aaf7b3fa1bab6bb?s=128&d=identicon&r=PG", "display_name": "barakisbrown", "link": "https://stackoverflow.com/users/422443/barakisbrown"}, "reply_to_user": {"reputation": 5830, "user_id": 3776927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb2cca9626c6d445bd05297be86251?s=128&d=identicon&r=PG&f=1", "display_name": "derpirscher", "link": "https://stackoverflow.com/users/3776927/derpirscher"}, "edited": false, "score": 0, "creation_date": 1458252286, "post_id": 36046021, "comment_id": 59791132, "body": "@derpirscher Thank you for the help. It is working sort of. If I remove the async calls, it works but it does not work if I try to make it async."}, {"owner": {"reputation": 5830, "user_id": 3776927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb2cca9626c6d445bd05297be86251?s=128&d=identicon&r=PG&f=1", "display_name": "derpirscher", "link": "https://stackoverflow.com/users/3776927/derpirscher"}, "edited": false, "score": 1, "creation_date": 1458253316, "post_id": 36046021, "comment_id": 59791570, "body": "of course, making it synchronous changes the behaviour, ie the constructor of MainViewModel does not return until data is ready. In the async case, it returns immedately. So we don&#39;t know what happens in the meantime, until the callback is executed. Or how often the MainViewModel constructor is called, ... And to be honest, I&#39;m absolutely not deap enough into MVVM to give an answer to these questions."}], "owner": {"reputation": 1082, "user_id": 422443, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e1dcca8470fd0523aaf7b3fa1bab6bb?s=128&d=identicon&r=PG", "display_name": "barakisbrown", "link": "https://stackoverflow.com/users/422443/barakisbrown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458162270, "creation_date": 1458159201, "last_edit_date": 1458162270, "question_id": 36046021, "link": "https://stackoverflow.com/questions/36046021/databind-is-not-showing-data", "title": "Databind is not showing data", "body": "<p>I am trying to make a wpf application using MongoDB as the database. I am using the MVVM and in the view model they have the following constructor:</p>\n\n<pre><code>public MainViewModel(IDataService dataService)\n{\n    _dataService = dataService;\n    _dataService.GetData(\n        (item, error) =&gt;\n        {\n            if (error != null)\n            {\n                // Report error here\n                return;\n            }\n            _items = item.ToList();\n        });\n}\n</code></pre>\n\n<p>What I am trying to accomplish is trying to databind <code>_items</code> to my datatable. I see the wpf application open up but I have an empty table and <code>_items</code> above is empty. The following is the interface <code>IDataService</code>:</p>\n\n<pre><code>namespace ComplexDemo.Model\n{\n   public interface IDataService\n   {\n      Task GetData(Action&lt;DataItem [], Exception&gt; callback);\n   }\n}\n</code></pre>\n\n<p>and my <code>idataservice.GetData</code> function:</p>\n\n<pre><code>public async Task GetData(Action&lt;DataItem [], Exception&gt; callback)\n{\n    List&lt;DataItem&gt; items = new List&lt;DataItem&gt;();\n    // Use this to connect to the actual data service\n    var client = new MongoClient(\"mongodb://localhost:27017\");\n    var db = client.GetDatabase(\"test\");\n    var collection = db.GetCollection&lt;BsonDocument&gt;(\"users\");\n\n    var list = await collection.Find(new BsonDocument()).ToListAsync();\n    foreach(var doc in list)\n    {\n        var data = new DataItem\n        {\n            Id = doc.GetElement(\"_id\").Value.AsObjectId.ToString(),\n            Name = doc.GetElement(\"Name\").Value.AsString,\n            City = doc.GetElement(\"City\").Value.AsString,\n            State = doc.GetElement(\"State\").Value.AsString\n        };\n        items.Add(data);\n    }\n\n    callback(items.ToArray(), null);\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "memory-leaks"], "comments": [{"owner": {"reputation": 41117, "user_id": 1864167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/WalEV.jpg?s=128&g=1", "display_name": "Jeroen Vannevel", "link": "https://stackoverflow.com/users/1864167/jeroen-vannevel"}, "edited": false, "score": 0, "creation_date": 1458159256, "post_id": 36045970, "comment_id": 59740585, "body": "If you profile your application you can see exactly what is being allocated -- it will remove all doubt and saves us from pretending we&#39;re a compiler."}], "answers": [{"comments": [{"owner": {"reputation": 8200, "user_id": 3120446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/heCaC.jpg?s=128&g=1", "display_name": "dx_over_dt", "link": "https://stackoverflow.com/users/3120446/dx-over-dt"}, "edited": false, "score": 0, "creation_date": 1458159924, "post_id": 36046150, "comment_id": 59740992, "body": "Oddly, this appears to be the solution looking at Task Manager, but I still hit the <code>OutOfMemory</code> exception in the same spot, despite only using 167MB of RAM."}, {"owner": {"reputation": 8200, "user_id": 3120446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/heCaC.jpg?s=128&g=1", "display_name": "dx_over_dt", "link": "https://stackoverflow.com/users/3120446/dx-over-dt"}, "edited": false, "score": 0, "creation_date": 1458160272, "post_id": 36046150, "comment_id": 59741198, "body": "I also noticed it only seems to do this after the last frame is added.  And due to a bug in my code, I wasn&#39;t even saving the last gif at all, so it&#39;s throwing the error when trying to exit the program."}, {"owner": {"reputation": 8200, "user_id": 3120446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/heCaC.jpg?s=128&g=1", "display_name": "dx_over_dt", "link": "https://stackoverflow.com/users/3120446/dx-over-dt"}, "edited": false, "score": 0, "creation_date": 1458160650, "post_id": 36046150, "comment_id": 59741409, "body": "More accurately, it&#39;s failing when exiting the <code>foreach</code> loop on the file names."}, {"owner": {"reputation": 8200, "user_id": 3120446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/heCaC.jpg?s=128&g=1", "display_name": "dx_over_dt", "link": "https://stackoverflow.com/users/3120446/dx-over-dt"}, "edited": false, "score": 0, "creation_date": 1458160757, "post_id": 36046150, "comment_id": 59741469, "body": "And I just figured it out.  There&#39;s a hidden file called thumbs.db that I wasn&#39;t filtering out."}], "tags": [], "owner": {"reputation": 71486, "user_id": 14606, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fc4497e046f55473ab50b141d8b5ca42?s=128&d=identicon&r=PG", "display_name": "MusiGenesis", "link": "https://stackoverflow.com/users/14606/musigenesis"}, "is_accepted": true, "score": 2, "last_activity_date": 1458159594, "creation_date": 1458159594, "answer_id": 36046150, "question_id": 36045970, "link": "https://stackoverflow.com/questions/36045970/search-for-memory-leak-in-gif-from-jpgs-program/36046150#36046150", "title": "Search for Memory Leak in Gif-from-jpgs program", "body": "<p>Try this:</p>\n\n<pre><code>        using (Bitmap img = (Bitmap)Bitmap.FromFile(fileName))\n        {\n            IntPtr hBitmap = img.GetHbitmap();\n\n            BitmapSource bitmap = Imaging.CreateBitmapSourceFromHBitmap(\n                hBitmap,\n                IntPtr.Zero,\n                Int32Rect.Empty,\n                BitmapSizeOptions.FromEmptyOptions());\n\n            encoder.Frames.Add(BitmapFrame.Create(bitmap));\n\n            DeleteObject(hBitmap);\n        }\n</code></pre>\n\n<p>The documentation: <a href=\"https://msdn.microsoft.com/en-us/library/1dz311e4(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/1dz311e4(v=vs.110).aspx</a></p>\n\n<blockquote>\n  <p>You are responsible for calling the GDI DeleteObject method to free\n  the memory used by the GDI bitmap object. For more information about\n  GDI bitmaps, see Bitmaps in the Windows GDI documentation.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5936409"}, "is_accepted": false, "score": 0, "last_activity_date": 1458160092, "creation_date": 1458160092, "answer_id": 36046292, "question_id": 36045970, "link": "https://stackoverflow.com/questions/36045970/search-for-memory-leak-in-gif-from-jpgs-program/36046292#36046292", "title": "Search for Memory Leak in Gif-from-jpgs program", "body": "<p>Try with this :</p>\n\n<pre><code>encoder.Frames.Clear();\nencoder = null;\nGC.Collect();\n//GifBitmapEncoder derives from DispatcherObject which has finalizer\nGC.WaitForPendingFinalizers();\n//then create a new instance\nencoder = new GifBitmapEncoder();\n</code></pre>\n"}], "owner": {"reputation": 8200, "user_id": 3120446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/heCaC.jpg?s=128&g=1", "display_name": "dx_over_dt", "link": "https://stackoverflow.com/users/3120446/dx-over-dt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 36046150, "answer_count": 2, "score": 0, "last_activity_date": 1458160092, "creation_date": 1458159022, "last_edit_date": 1495542688, "question_id": 36045970, "link": "https://stackoverflow.com/questions/36045970/search-for-memory-leak-in-gif-from-jpgs-program", "title": "Search for Memory Leak in Gif-from-jpgs program", "body": "<p>I wrote a C# program that takes in a directory name, iterates through the files in it in batches of 100, and outputs gifs.</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        GifBitmapEncoder encoder = new GifBitmapEncoder();\n\n        int i = 0;\n        int filei = 0;\n        foreach (string fileName in Directory.GetFiles(args[0]).OrderBy(s =&gt; s))\n        {\n            i++;\n            AddFileToBitmap(encoder, fileName);\n            Console.WriteLine(\"Added file {0:000}: {1}\", i, fileName);\n\n            if (i % 100 == 0)\n            {\n                string outFile = string.Format(\"output{0}.gif\", filei);\n                Console.WriteLine(\"Saving to file: {0}\", outFile);\n                SaveGif(encoder, outFile);\n\n                filei++;\n                encoder.Frames.Clear();\n                encoder = new GifBitmapEncoder();\n                GC.Collect();\n                Console.WriteLine();\n            }\n        }\n    }\n\n    static void AddFileToBitmap(GifBitmapEncoder encoder, string fileName)\n    {\n        using (Bitmap img = (Bitmap)Bitmap.FromFile(fileName))\n        {\n            BitmapSource bitmap = Imaging.CreateBitmapSourceFromHBitmap(\n                img.GetHbitmap(),\n                IntPtr.Zero,\n                Int32Rect.Empty,\n                BitmapSizeOptions.FromEmptyOptions());\n\n            encoder.Frames.Add(BitmapFrame.Create(bitmap));\n        }\n    }\n\n    static void SaveGif(GifBitmapEncoder encoder, string fileName)\n    {\n        using (FileStream stream = new FileStream(fileName, FileMode.Create))\n        {\n            encoder.Save(stream);\n        }\n    }\n}\n</code></pre>\n\n<p>When I run it, memory usage starts at ~1MB, grows to ~800MB for the first 100 images; drops to ~400MB and grows to ~1.2GB for the second 100 images; drops to ~800MB and crashes with an out of memory error for the remaining 30 images.</p>\n\n<p>I assume there is a memory leak somewhere, but I can't find it.  <code>GifBitmapEncoder</code>, <code>BitmapSource</code>, and <code>BitmapFrame</code> are not <code>IDisposable</code> so I can't dispose any of those, and I don't see any other variables I use that could be.  Maybe <code>img.GetHbitmap()</code> which returns a <code>IntPtr</code>?</p>\n\n<p>Any thoughts?</p>\n\n<p>I got the meat of my code from <a href=\"https://stackoverflow.com/questions/1196322/how-to-create-an-animated-gif-in-net\">how to create an animated gif in .net</a>.</p>\n"}, {"tags": ["c#", "web-services"], "comments": [{"owner": {"reputation": 1889, "user_id": 1720615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0bb1b482972b6fbf9e15b954670779b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1720615/chris"}, "edited": false, "score": 0, "creation_date": 1458159771, "post_id": 36045940, "comment_id": 59740908, "body": "Your labels are wrong, since your route is /api... it seems to me you are using WebAPI controllers not MVC !"}], "answers": [{"comments": [{"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1458159287, "post_id": 36046017, "comment_id": 59740606, "body": "This sound like the way I want. And my desire <code>URL</code> would be OK?"}, {"owner": {"reputation": 1889, "user_id": 1720615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0bb1b482972b6fbf9e15b954670779b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1720615/chris"}, "reply_to_user": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1458159543, "post_id": 36046017, "comment_id": 59740767, "body": "Yes, I added a link to my answer that explains how WebAPI goes from your url to a method in the controller."}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1458159628, "post_id": 36046017, "comment_id": 59740827, "body": "Yes, I did a fast reading, but saw something to change the <code>routes.MapHttpRoute</code> ? or with only the <code>[Route(&quot; &quot;)]</code> will be ok?"}, {"owner": {"reputation": 1889, "user_id": 1720615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0bb1b482972b6fbf9e15b954670779b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1720615/chris"}, "reply_to_user": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1458160176, "post_id": 36046017, "comment_id": 59741130, "body": "You can use either one, it&#39;s up to you and what you prefer. Personally I find attribute routing (<code>[Route(&quot; &quot;)]</code>) simpler."}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1458160502, "post_id": 36046017, "comment_id": 59741325, "body": "Sound like the right solution but the route property doesnt work for me. Trying to see what is wrong, but that would be a different question."}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 1, "creation_date": 1458160943, "post_id": 36046017, "comment_id": 59741580, "body": "Don&#39;t forget to enable the AttributeRouting.  <code>config.MapHttpAttributeRoutes();</code> in WebApiConfig."}, {"owner": {"reputation": 1889, "user_id": 1720615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0bb1b482972b6fbf9e15b954670779b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1720615/chris"}, "edited": false, "score": 0, "creation_date": 1458161001, "post_id": 36046017, "comment_id": 59741612, "body": "And ensure you are using the correct namespace. WebAPI attribute is <code>[System.Web.Http.Route()]</code>"}], "tags": [], "owner": {"reputation": 1889, "user_id": 1720615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0bb1b482972b6fbf9e15b954670779b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1720615/chris"}, "is_accepted": true, "score": 3, "last_activity_date": 1458161231, "last_edit_date": 1458161231, "creation_date": 1458159176, "answer_id": 36046017, "question_id": 36045940, "link": "https://stackoverflow.com/questions/36045940/create-multiple-web-api-with-same-signature/36046017#36046017", "title": "Create multiple Web Api with same signature", "body": "<p>You can set a fixed route in the same controller like this:</p>\n\n<pre><code>using System.Web.Http;\n...    \n[HttpGet]\n[Route(\"api/Cars/GetSimpleCar\")]\npublic object GetCarsButOnlyIdAndColor()\n{\n    return db.cars.Select(r =&gt; new\n    {\n        Car_ID = r.car_id,\n        Color = r.Color,\n    }).ToList();\n}\n</code></pre>\n\n<p>WebApi doesn't care about the method's name, it's the route that matters.</p>\n\n<p>And like vendettamit  said, you will need to <a href=\"http://www.asp.net/web-api/overview/web-api-routing-and-actions/attribute-routing-in-web-api-2#enable\" rel=\"nofollow\">Enable Attribute Routing</a></p>\n\n<p>Documentation:</p>\n\n<p><a href=\"http://www.asp.net/web-api/overview/web-api-routing-and-actions/routing-and-action-selection\" rel=\"nofollow\">Routing and Action Selection in ASP.NET Web API</a></p>\n\n<p><a href=\"http://www.asp.net/web-api/overview/web-api-routing-and-actions/attribute-routing-in-web-api-2\" rel=\"nofollow\">Attribute Routing in ASP.NET Web API 2</a></p>\n"}], "owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1862, "favorite_count": 1, "accepted_answer_id": 36046017, "answer_count": 1, "score": 1, "last_activity_date": 1458161231, "creation_date": 1458158902, "last_edit_date": 1458159885, "question_id": 36045940, "link": "https://stackoverflow.com/questions/36045940/create-multiple-web-api-with-same-signature", "title": "Create multiple Web Api with same signature", "body": "<p>I have a <code>CAR</code> controller and create my API to Get a list of cars with detailed information of each car in a <code>GRID</code> and work OK. </p>\n\n<p>Now Im creating a <code>ListTree</code> for the cars and only need the basic details. <code>ID and Color</code></p>\n\n<p>How I create another method <code>GetSimpleCar()</code> with same signature in current controller or should I create another controller <code>CarSimple</code></p>\n\n<p>Current I have:</p>\n\n<pre><code>public List&lt;dtoCar&gt; Get()\n{\n   List&lt;dtoCar&gt; result = db.cars.Select(\n                                 r =&gt; new dtoCar\n                                 {\n                                   Car_ID = r.car_id,\n                                   X = r.x,\n                                   Y = r.y,\n                                   RoadName = r.rto.name,\n                                   Azimuth = (int)r.avl.azimuth,\n                                   Color = r.Color,\n                                   DateTime = r.datetime.Value, \n                                   Geom = r.geomtext\n                                 }).ToList();\n   return result;\n}\n</code></pre>\n\n<p>I dont want use the current API to create the Tree.</p>\n\n<pre><code>$('#ajax').jstree({\n    'core': {\n        'data': {\n         -- RIGHT NOW\n            \"url\": \"http://localhost/TreeTest/api/Cars/\"\n                                                  ^^   \n                                                 Controller\n         -- DESIRE CHANGE\n            \"url\": \"http://localhost/TreeTest/api/Cars/GetSimpleCar\"\n                                                            ^^ \n                                                       Second Method?\n        } \n    },\n    \"checkbox\": {\n        \"keep_selected_style\": false\n    },\n    \"plugins\": [\"wholerow\", \"checkbox\"]\n});\n</code></pre>\n"}, {"tags": ["c#", "msbuild", "static-code-analysis"], "answers": [{"tags": [], "owner": {"reputation": 529, "user_id": 275388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7faa107c0aa3ed1f12fa0cd1ec4a670a?s=128&d=identicon&r=PG", "display_name": "Mads Ravn", "link": "https://stackoverflow.com/users/275388/mads-ravn"}, "is_accepted": true, "score": 1, "last_activity_date": 1459322620, "creation_date": 1459322620, "answer_id": 36302203, "question_id": 36045924, "link": "https://stackoverflow.com/questions/36045924/parsing-static-analysis-results-interchange-format-sarif-in-msbuild/36302203#36302203", "title": "Parsing &quot;Static Analysis Results Interchange Format (SARIF)&quot; in MSBuild", "body": "<p>Since there apparently is no built-in way of doing this I ended up using an inline msbuild task (<a href=\"https://msdn.microsoft.com/en-US/library/dd722601.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-US/library/dd722601.aspx</a>), defined as </p>\n\n<pre><code>&lt;UsingTask TaskName=\"ParseUnsupressedAnalysisIssues\" TaskFactory=\"CodeTaskFactory\" AssemblyFile=\"$(MSBuildToolsPath)\\Microsoft.Build.Tasks.v4.0.dll\" &gt;\n    &lt;ParameterGroup&gt;\n        &lt;Files ParameterType=\"Microsoft.Build.Framework.ITaskItem[]\" Required=\"true\" /&gt;\n        &lt;Result ParameterType=\"Microsoft.Build.Framework.ITaskItem[]\" Output=\"true\" /&gt;\n    &lt;/ParameterGroup&gt;\n    &lt;Task&gt;\n        &lt;Reference Include=\"System.Runtime.Serialization\" /&gt;\n        &lt;Reference Include=\"System.Xml\" /&gt;\n        &lt;Reference Include=\"System.Xml.Linq\" /&gt;\n        &lt;Using Namespace=\"System\"/&gt;\n        &lt;Using Namespace=\"System.Collections.Generic\"/&gt;\n        &lt;Using Namespace=\"System.IO\"/&gt;\n        &lt;Using Namespace=\"System.Linq\"/&gt;\n        &lt;Using Namespace=\"System.Runtime.Serialization.Json\"/&gt;\n        &lt;Using Namespace=\"System.Xml\"/&gt;\n        &lt;Using Namespace=\"System.Xml.Linq\"/&gt;\n        &lt;Code Type=\"Fragment\" Language=\"cs\"&gt;\n            &lt;![CDATA[\n            List&lt;TaskItem&gt; taskItems = new List&lt;TaskItem&gt;();\n            foreach(ITaskItem item in Files)\n            {\n                try\n                {\n                    string path = item.GetMetadata(\"FullPath\");\n                    using (FileStream fs = new FileStream(path, FileMode.Open))\n                    using (XmlDictionaryReader reader = JsonReaderWriterFactory.CreateJsonReader(fs, XmlDictionaryReaderQuotas.Max))\n                    {\n                        XElement doc = XElement.Load(reader);\n                        XElement issuesRoot = doc.Elements(\"issues\").SingleOrDefault();\n                        List&lt;XElement&gt; unsupressedIssues = issuesRoot.Elements(\"item\").Where(e =&gt; !\"True\".Equals((string)e.Element(\"properties\").Element(\"isSuppressedInSource\"), StringComparison.Ordinal)).ToList();\n                        string unsupressedIssuesString = string.Join(Environment.NewLine, unsupressedIssues);\n                        if(!string.IsNullOrEmpty(unsupressedIssuesString))\n                        {\n                            taskItems.Add(new TaskItem(item.ItemSpec));\n                            Console.WriteLine(unsupressedIssuesString);\n                        }\n                    }\n                }\n                catch(Exception e)\n                {\n                    taskItems.Add(new TaskItem(item.ItemSpec));\n                    Console.WriteLine(e.ToString());\n                }\n            }\n\n            Result = taskItems.ToArray();\n            ]]&gt;\n        &lt;/Code&gt;\n    &lt;/Task&gt;\n&lt;/UsingTask&gt;\n</code></pre>\n\n<p>which can then be invoked as </p>\n\n<pre><code>&lt;ParseUnsupressedAnalysisIssues Files=\"@(AnalyzerFiles)\"&gt;\n    &lt;Output ItemName=\"FailedAnalyzerFiles\" TaskParameter=\"Result\" /&gt;\n&lt;/ParseUnsupressedAnalysisIssues&gt;\n&lt;Error Text=\"FxCopAll: Following assemblies had analyzer errors @(FailedAnalyzerFiles)\" Condition=\"'@(FailedAnalyzerFiles-&gt;Count())' &amp;gt; 0\" Code=\"2\"/&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 4284753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ZHqp.jpg?s=128&g=1", "display_name": "Larry Golding", "link": "https://stackoverflow.com/users/4284753/larry-golding"}, "is_accepted": false, "score": 4, "last_activity_date": 1471890091, "creation_date": 1471890091, "answer_id": 39086242, "question_id": 36045924, "link": "https://stackoverflow.com/questions/36045924/parsing-static-analysis-results-interchange-format-sarif-in-msbuild/39086242#39086242", "title": "Parsing &quot;Static Analysis Results Interchange Format (SARIF)&quot; in MSBuild", "body": "<p>There is a SARIF SDK available to work with SARIF files. It's available as a NuGet package Sarif.Sdk, and the source code is on GitHub in the Microsoft/sarif-sdk project. There's a How-To document docs/how-to.md that shows how to read a SARIF file from disk and deserialize it into a <code>SarifLog</code> object; then you can navigate through the SARIF object model to examine individual results.</p>\n\n<p>In your case, you're interested in the <code>isSuppressedInSource</code> property in the result's \u201cproperty bag.\u201d The How-To document explains how you would retrieve that property:</p>\n\n<pre><code>Result result = \u2026;\n\nstring isSuppressedInSource = result.GetProperty(\"isSuppressedInSource\");\n</code></pre>\n\n<p>The SARIF spec is <a href=\"https://rawgit.com/sarif-standard/sarif-spec/master/Static%20Analysis%20Results%20Interchange%20Format%20(SARIF).html\" rel=\"nofollow\">available online</a>, and there's a <a href=\"http://sarifweb.azurewebsites.net\" rel=\"nofollow\">SARIF home page</a> with links to more information.</p>\n\n<p>Finally: be aware that the SARIF format changed significantly between Visual Studio 2015 Update 2 and Update 3. The format is now at a stable 1.0.0 version.</p>\n\n<p>(NOTE: Sorry for not providing direct links to the SDK, the NuGet package, and the How-To. I don't have enough reputation points to post more than two links.)</p>\n"}], "owner": {"reputation": 529, "user_id": 275388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7faa107c0aa3ed1f12fa0cd1ec4a670a?s=128&d=identicon&r=PG", "display_name": "Mads Ravn", "link": "https://stackoverflow.com/users/275388/mads-ravn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1050, "favorite_count": 1, "accepted_answer_id": 36302203, "answer_count": 2, "score": 2, "last_activity_date": 1471890091, "creation_date": 1458158836, "question_id": 36045924, "link": "https://stackoverflow.com/questions/36045924/parsing-static-analysis-results-interchange-format-sarif-in-msbuild", "title": "Parsing &quot;Static Analysis Results Interchange Format (SARIF)&quot; in MSBuild", "body": "<p>When running various analyzers against a project using MSBuild all failures will be output in \"Static Analysis Results Interchange Format (SARIF)\" format (see eg. <a href=\"https://github.com/sarif-standard/sarif-spec\" rel=\"nofollow\">https://github.com/sarif-standard/sarif-spec</a>). For instance a build may yield the following</p>\n\n<pre><code>{\n  \"version\": \"0.1\",\n  \"toolInfo\": {\n    \"toolName\": \"Microsoft (R) Visual C# Compiler\",\n    \"productVersion\": \"1.1.0\",\n    \"fileVersion\": \"1.1.0\"\n  },\n  \"issues\": [\n    {\n      \"ruleId\": \"SA1401\",\n      \"locations\": [\n        {\n          \"analysisTarget\": [\n            {\n              \"uri\": \"C:\\\\SomeFile.cs\",\n              \"region\": {\n                \"startLine\": 708,\n                \"startColumn\": 30,\n                \"endLine\": 708,\n                \"endColumn\": 36\n              }\n            }\n          ]\n        }\n      ],\n      \"shortMessage\": \"Field must be private\",\n      \"fullMessage\": \"A field within a C# class has an access modifier other than private.\",\n      \"properties\": {\n        \"severity\": \"Warning\",\n        \"warningLevel\": \"1\",\n        \"defaultSeverity\": \"Warning\",\n        \"title\": \"Fields must be private\",\n        \"category\": \"StyleCop.CSharp.MaintainabilityRules\",\n        \"helpLink\": \"https:\\/\\/github.com\\/DotNetAnalyzers\\/StyleCopAnalyzers\\/blob\\/master\\/documentation\\/SA1401.md\",\n        \"isEnabledByDefault\": \"True\",\n        \"isSuppressedInSource\": \"True\"\n      }\n    }\n  ]\n}\n</code></pre>\n\n<p>Now I would like to be able to parse the data above in the simplest way possible (and break the build if any non-suppressed issues are encountered). How to go about doing this?</p>\n\n<p>PS. Preferably I would also like to avoid implementing my own MSBuild tasks and installing specific software (eg. PowerShell 3.0 - ConvertFrom-Json).</p>\n"}, {"tags": ["c#", "wcf"], "comments": [{"owner": {"reputation": 6512, "user_id": 2238791, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/22e9c60b9c05421e69c0c02d4ad88edc?s=128&d=identicon&r=PG", "display_name": "Pankaj Kapare", "link": "https://stackoverflow.com/users/2238791/pankaj-kapare"}, "edited": false, "score": 0, "creation_date": 1458160633, "post_id": 36045920, "comment_id": 59741400, "body": "Looks like somehow its not able to find definition of SampleClass. Also try rebuilding solution."}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1458160820, "post_id": 36045920, "comment_id": 59741507, "body": "Add SampleClass to knownTypes."}, {"owner": {"reputation": 869, "user_id": 2091061, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f39fe44c6a4b49a7cfe63b72eaebee77?s=128&d=identicon&r=PG", "display_name": "user2091061", "link": "https://stackoverflow.com/users/2091061/user2091061"}, "edited": false, "score": 0, "creation_date": 1458161686, "post_id": 36045920, "comment_id": 59742028, "body": "Have tries a numerous times but still facing the same problem."}, {"owner": {"reputation": 400, "user_id": 6023056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bw1WV.jpg?s=128&g=1", "display_name": "Emmanuel Ponnudurai", "link": "https://stackoverflow.com/users/6023056/emmanuel-ponnudurai"}, "edited": false, "score": 0, "creation_date": 1458162756, "post_id": 36045920, "comment_id": 59742638, "body": "Does the wsdl file have the information of <code>PerformanceCounters</code> ? And did you try adding attribute KnownType over the class SampleClass ? [KnownType(typeof(PerformanceCounters))]"}], "owner": {"reputation": 869, "user_id": 2091061, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f39fe44c6a4b49a7cfe63b72eaebee77?s=128&d=identicon&r=PG", "display_name": "user2091061", "link": "https://stackoverflow.com/users/2091061/user2091061"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489002210, "creation_date": 1458158814, "last_edit_date": 1489002210, "question_id": 36045920, "link": "https://stackoverflow.com/questions/36045920/wcf-service-method-unavailable-in-wcf-test-client-because-it-uses-type-samplecla", "title": "WCF service method unavailable in WCF Test Client because it uses type SampleClass", "body": "<p>I have looked for many solutions but could not find any satisfactory answer.</p>\n\n<p>I have 2 classes:</p>\n\n<pre><code>[DataContract]\n    public class SampleClass\n    {\n        [DataMember]\n        public PerformanceCounters Performance { get; set; }\n    }\n\n\n[DataContract]\n    public class PerformanceCounters\n    {\n        [DataMember]\n        public double ExecutionTime { get; set; }\n\n        [DataMember]\n        public int ResultsCount { get; set; }\n}\n</code></pre>\n\n<p>My OperationContract is -></p>\n\n<pre><code>public SampleClass GetResult ()\n        {\n            return new SampleClass(); \n        }\n</code></pre>\n\n<p>On adding this to wcfTestClient , I get the this error with red cross: \"WCF service method unavailable in WCF Test Client because it uses type SampleClass\"</p>\n\n<p>If I replace PerformanceCounters object in SampleClass with standard data types such as int, string then it works perfectly.</p>\n\n<p>I have already looked around enough but still have not got any resolution.</p>\n"}, {"tags": ["c#", "if-statement", "for-loop"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1458158903, "post_id": 36045894, "comment_id": 59740370, "body": "move it out to a local variable."}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1458158990, "post_id": 36045894, "comment_id": 59740419, "body": "Have you looked at the .Contains() function in c#? <a href=\"https://msdn.microsoft.com/en-us/library/dy85x1sa(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/dy85x1sa(v=vs.110).aspx</a>"}, {"owner": {"reputation": 814, "user_id": 4364874, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh6.googleusercontent.com/-QH-Tgeb8oVQ/AAAAAAAAAAI/AAAAAAAABrM/kkZdzQex2k0/photo.jpg?sz=128", "display_name": "Zachary Weixelbaum", "link": "https://stackoverflow.com/users/4364874/zachary-weixelbaum"}, "edited": false, "score": 0, "creation_date": 1458159102, "post_id": 36045894, "comment_id": 59740474, "body": "Can you give all your code please?"}, {"owner": {"reputation": 2143, "user_id": 1516125, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c8238d3bba119ed2716c820ee2c407a3?s=128&d=identicon&r=PG", "display_name": "Ionian316", "link": "https://stackoverflow.com/users/1516125/ionian316"}, "edited": false, "score": 0, "creation_date": 1458159683, "post_id": 36045894, "comment_id": 59740858, "body": "What do you want to return if x.product <i>doesn&#39;t</i> contain &quot;Unspecified Product&quot;? For either case, do you still want to return the tab delimited string?"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1458160224, "post_id": 36045894, "comment_id": 59741166, "body": "Note that the fact that it&#39;s within a <code>for</code> loop is irrelevant.  It&#39;s the fact that it;s within another <i>statement</i> (<code>String.Format</code>) that prevents you from using <code>if</code>."}], "answers": [{"tags": [], "owner": {"reputation": 543, "user_id": 1877512, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rxiCm.jpg?s=128&g=1", "display_name": "Mike Wallace", "link": "https://stackoverflow.com/users/1877512/mike-wallace"}, "is_accepted": false, "score": 5, "last_activity_date": 1458159243, "creation_date": 1458159243, "answer_id": 36046026, "question_id": 36045894, "link": "https://stackoverflow.com/questions/36045894/if-statement-inside-a-for-loop/36046026#36046026", "title": "if statement inside a for loop?", "body": "<p>You could do it with the Ternary syntax? There are many other ways but this seems closest to what you're already doing, to me.</p>\n\n<pre><code>    String OutputCustomer;\n    foreach (var x in rs_product_hit)\n    {\n       OutputCustomer = String.Format(\"{0}\\t{1}\\t{2}\\t{3}\\t{4}\\t{5}\\t{6}\\t{7}\\r\\n\"\n                                    , x.ph.hit_id\n                                    , SetAsSpace(x.ph.url)\n                                    , SetAsSpace(x.ph.company)\n                                    , SetAsSpace(x.ph.City)\n                                    , SetAsSpace(x.ph.State)\n                                    , SetAsSpace(x.ph.iso)\n                                    , SetAsSpace(x.ph.vendor)\n                                    , SetAsSpace(x.ph.product)\n                                    ,x.ph.product == \"Unspecified Product\" ?\n                                     \"Unspecified Tech\" : x.ph.product);\n    }\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 6073608, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9e1b74e04b96cd4c924445fab18a1abd?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan E", "link": "https://stackoverflow.com/users/6073608/ethan-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458160868, "creation_date": 1458158746, "last_edit_date": 1458160868, "question_id": 36045894, "link": "https://stackoverflow.com/questions/36045894/if-statement-inside-a-for-loop", "title": "if statement inside a for loop?", "body": "<p>I have a sql background and I'm learning c#.  Right now I have a for loop that operates on columns x.ph.company, x.ph.product, x.ph.productID, etc (all tab-delimited)</p>\n\n<p>I want to run an if statement on x.product with something to the effect of \"If x.product contains \"Unspecified Product\", then return \"Unspecified Tech\".  This is what I've got so far but I can't quite get it right.  Any help appreciated!</p>\n\n<pre><code>String OutputCustomer;\nforeach (var x in rs_product_hit)\n{\nOutputCustomer = String.Format(\"{0}\\t{1}\\t{2}\\t{3}\\t{4}\\t{5}\\t{6}\\t{7}\\r\\n\"\n, x.ph.hit_id\n, SetAsSpace(x.ph.url)\n, SetAsSpace(x.ph.company)\n, SetAsSpace(x.ph.City)\n, SetAsSpace(x.ph.State)\n, SetAsSpace(x.ph.iso)\n, SetAsSpace(x.ph.vendor)\n, SetAsSpace(x.ph.product)\nif ( x.ph.product == \"Unspecified Product\" )\n{\n   x.ph.product = \"Unspecified Tech\"\n}\n</code></pre>\n"}, {"tags": ["c#", "timespan"], "comments": [{"owner": {"reputation": 2793, "user_id": 182894, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/df52847e53e2233d2927c5fe09d2f62b?s=128&d=identicon&r=PG", "display_name": "roydukkey", "link": "https://stackoverflow.com/users/182894/roydukkey"}, "edited": false, "score": 0, "creation_date": 1458158894, "post_id": 36045862, "comment_id": 59740360, "body": "Have you looked at TimeSpan?"}, {"owner": {"reputation": 90882, "user_id": 447156, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/8348bcf40f55bc5818651824369caff1?s=128&d=identicon&r=PG", "display_name": "Soner G&#246;n&#252;l", "link": "https://stackoverflow.com/users/447156/soner-g%c3%b6n%c3%bcl"}, "edited": false, "score": 0, "creation_date": 1458159125, "post_id": 36045862, "comment_id": 59740489, "body": "What is the value and type of <code>TimeToMissionsReady</code> exactly?"}, {"owner": {"reputation": 2793, "user_id": 182894, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/df52847e53e2233d2927c5fe09d2f62b?s=128&d=identicon&r=PG", "display_name": "roydukkey", "link": "https://stackoverflow.com/users/182894/roydukkey"}, "edited": false, "score": 0, "creation_date": 1458159232, "post_id": 36045862, "comment_id": 59740573, "body": "I don&#39;t understand why this output is wrong: &quot;24:60:30 and after a second 24:59:29&quot;"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1458160499, "post_id": 36045862, "comment_id": 59741324, "body": "FromMissionCompletedSeconds must be negative or a very small number.  You are subtracting two float numbers and subtracting a very small number from a larger number can give rounding errors.  You may want to use Math.Round() or cast the subtraction to an integer (int)(86400f - FromMissionCompletedSeconds)"}, {"owner": {"reputation": 43, "user_id": 6073630, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Y_MvTtqOns8/AAAAAAAAAAI/AAAAAAAAAGA/MCXVUllPfVY/photo.jpg?sz=128", "display_name": "Pitagora", "link": "https://stackoverflow.com/users/6073630/pitagora"}, "edited": false, "score": 0, "creation_date": 1458302872, "post_id": 36045862, "comment_id": 59812042, "body": "ok, now i&#39;m using <code>TimeToMissionsReady = 86400f - FromMissionCompletedSeconds; \t\tTimeSpan ts = TimeSpan.FromSeconds(TimeToMissionsReady); \t\tTimeToMissionsReadyString = string.Format(&quot;{0}:{1}:{2}&quot;,ts.Hours, ts.Minutes, ts.Seconds);</code> and it works great, thanks to everybody, i apoligize for the bad wrinting of the question."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 6073630, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Y_MvTtqOns8/AAAAAAAAAAI/AAAAAAAAAGA/MCXVUllPfVY/photo.jpg?sz=128", "display_name": "Pitagora", "link": "https://stackoverflow.com/users/6073630/pitagora"}, "edited": false, "score": 0, "creation_date": 1458302760, "post_id": 36046545, "comment_id": 59811984, "body": "thank you very much, i&#39;m sorry i didn&#39;t explain the problem well."}, {"owner": {"reputation": 90882, "user_id": 447156, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/8348bcf40f55bc5818651824369caff1?s=128&d=identicon&r=PG", "display_name": "Soner G&#246;n&#252;l", "link": "https://stackoverflow.com/users/447156/soner-g%c3%b6n%c3%bcl"}, "reply_to_user": {"reputation": 43, "user_id": 6073630, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Y_MvTtqOns8/AAAAAAAAAAI/AAAAAAAAAGA/MCXVUllPfVY/photo.jpg?sz=128", "display_name": "Pitagora", "link": "https://stackoverflow.com/users/6073630/pitagora"}, "edited": false, "score": 0, "creation_date": 1458302931, "post_id": 36046545, "comment_id": 59812085, "body": "@Pitagora Glad to help. You might wanna check <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> page for that :)"}], "tags": [], "owner": {"reputation": 90882, "user_id": 447156, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/8348bcf40f55bc5818651824369caff1?s=128&d=identicon&r=PG", "display_name": "Soner G&#246;n&#252;l", "link": "https://stackoverflow.com/users/447156/soner-g%c3%b6n%c3%bcl"}, "is_accepted": true, "score": 7, "last_activity_date": 1458160988, "creation_date": 1458160988, "answer_id": 36046545, "question_id": 36045862, "link": "https://stackoverflow.com/questions/36045862/convert-seconds-to-hhmmss-with-string-format/36046545#36046545", "title": "Convert seconds to HH:MM:SS with String.Format", "body": "<p>You didn't <em>even</em> told us what is the type and value of <code>TimeToMissionsReady</code> exactly and I don't understand the meaning of <em>24:60:30 and after a second 24:59:29</em> sentence but the right way to solve your problem seems to using <a href=\"https://msdn.microsoft.com/en-us/library/system.timespan\" rel=\"noreferrer\"><code>TimeSpan</code></a> structure in in .NET Framework.</p>\n\n<p>Let's say your <code>TimeToMissionsReady</code> is <code>86300</code> as a <code>float</code>.</p>\n\n<pre><code>float TimeToMissionsReady = 86300f;\n</code></pre>\n\n<p>You can use <a href=\"https://msdn.microsoft.com/en-us/library/system.timespan.fromseconds\" rel=\"noreferrer\"><code>TimeSpan.FromSeconds(double)</code> method</a> to calculate those value.</p>\n\n<pre><code>TimeSpan ts = TimeSpan.FromSeconds(TimeToMissionsReady);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/vaCB0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vaCB0.png\" alt=\"enter image description here\"></a></p>\n\n<p>And you can format it with <a href=\"https://msdn.microsoft.com/en-us/library/ee372287%28v=vs.110%29.aspx\" rel=\"noreferrer\">Custom TimeSpan Format Strings</a> like;</p>\n\n<pre><code>Debug.Log(ts.ToString(\"hh\\\\:mm\\\\:ss\")); // 23:58:20\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 6073630, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Y_MvTtqOns8/AAAAAAAAAAI/AAAAAAAAAGA/MCXVUllPfVY/photo.jpg?sz=128", "display_name": "Pitagora", "link": "https://stackoverflow.com/users/6073630/pitagora"}, "edited": false, "score": 0, "creation_date": 1458302817, "post_id": 36046680, "comment_id": 59812011, "body": "thank you too, i utilized your &quot;string s&quot; line of code"}, {"owner": {"reputation": 81, "user_id": 4716645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6d3o.jpg?s=128&g=1", "display_name": "Franreau", "link": "https://stackoverflow.com/users/4716645/franreau"}, "reply_to_user": {"reputation": 43, "user_id": 6073630, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Y_MvTtqOns8/AAAAAAAAAAI/AAAAAAAAAGA/MCXVUllPfVY/photo.jpg?sz=128", "display_name": "Pitagora", "link": "https://stackoverflow.com/users/6073630/pitagora"}, "edited": false, "score": 0, "creation_date": 1458567870, "post_id": 36046680, "comment_id": 59903956, "body": "I am glad it helped. TimeSpan is really usefull for time value formatting."}], "tags": [], "owner": {"reputation": 81, "user_id": 4716645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6d3o.jpg?s=128&g=1", "display_name": "Franreau", "link": "https://stackoverflow.com/users/4716645/franreau"}, "is_accepted": false, "score": 2, "last_activity_date": 1458161466, "creation_date": 1458161466, "answer_id": 36046680, "question_id": 36045862, "link": "https://stackoverflow.com/questions/36045862/convert-seconds-to-hhmmss-with-string-format/36046680#36046680", "title": "Convert seconds to HH:MM:SS with String.Format", "body": "<p>The minutes value is rounded by the Format function.You could do this :</p>\n\n<pre><code>string TimeToMissionsReadyString = string.Format(\"{0:00}:{1:00}:{2:00}\", TimeToMissionsReady / 3600f, Math.Truncate((TimeToMissionsReady / 60f)) % 60f, TimeToMissionsReady % 60f);\n</code></pre>\n\n<p>But I believe TimeSpan is much easier to use. Here is a simple example using TimeSpan :</p>\n\n<pre><code> float f = 86400f;\n TimeSpan t = TimeSpan.FromSeconds(f);\n string s = string.Format(\"{0}:{1}:{2}\", ((int) t.TotalHours), t.Minutes, t.Seconds);\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6073630, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Y_MvTtqOns8/AAAAAAAAAAI/AAAAAAAAAGA/MCXVUllPfVY/photo.jpg?sz=128", "display_name": "Pitagora", "link": "https://stackoverflow.com/users/6073630/pitagora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6630, "favorite_count": 0, "accepted_answer_id": 36046545, "answer_count": 2, "score": 4, "last_activity_date": 1549659095, "creation_date": 1458158653, "last_edit_date": 1549659095, "question_id": 36045862, "link": "https://stackoverflow.com/questions/36045862/convert-seconds-to-hhmmss-with-string-format", "title": "Convert seconds to HH:MM:SS with String.Format", "body": "<p>I have a <code>float</code> that is an amount of seconds, I want to make a string in the format <code>hh:mm:ss</code> that represent a countdown from 24hours.\nI'm trying to use this code:</p>\n\n<pre><code>TimeToMissionsReady = 86400f - FromMissionCompletedSeconds;\nTimeToMissionsReadyString = string.Format (\"{0:00}:{1:00}:{2:00}\", TimeToMissionsReady / 3600f, (TimeToMissionsReady / 60f) % 60f, TimeToMissionsReady % 60f);\n\nDebug.Log (TimeToMissionsReadyString);\n</code></pre>\n\n<p>but it isn't working 'cause it shows weird stuff like:\n24:60:30 and after a second 24:59:29</p>\n\n<p>Am I doing something wrong?</p>\n"}, {"tags": ["c#", "delegates", "func"], "comments": [{"owner": {"reputation": 5865, "user_id": 5298696, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_Lk3Kq_mN2c/AAAAAAAAAAI/AAAAAAAAAEQ/4UXPTXc6z6U/photo.jpg?sz=128", "display_name": "CollinD", "link": "https://stackoverflow.com/users/5298696/collind"}, "edited": false, "score": 2, "creation_date": 1458158671, "post_id": 36045839, "comment_id": 59740230, "body": "Potentially useful reading: <a href=\"http://stackoverflow.com/questions/429552/can-i-get-the-signature-of-a-c-sharp-delegate-by-its-type\" title=\"can i get the signature of a c sharp delegate by its type\">stackoverflow.com/questions/429552/&hellip;</a>"}, {"owner": {"reputation": 832, "user_id": 4408842, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/vuHCi.gif?s=128&g=1", "display_name": "TaterJuice", "link": "https://stackoverflow.com/users/4408842/taterjuice"}, "reply_to_user": {"reputation": 5865, "user_id": 5298696, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_Lk3Kq_mN2c/AAAAAAAAAAI/AAAAAAAAAEQ/4UXPTXc6z6U/photo.jpg?sz=128", "display_name": "CollinD", "link": "https://stackoverflow.com/users/5298696/collind"}, "edited": false, "score": 0, "creation_date": 1458159539, "post_id": 36045839, "comment_id": 59740763, "body": "+1 Gave me exactly what I needed. Thanks! I&#39;ll post a full-code answer once I&#39;m finished, if no one else beats me to it."}], "answers": [{"comments": [{"owner": {"reputation": 832, "user_id": 4408842, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/vuHCi.gif?s=128&g=1", "display_name": "TaterJuice", "link": "https://stackoverflow.com/users/4408842/taterjuice"}, "edited": false, "score": 1, "creation_date": 1458161030, "post_id": 36046326, "comment_id": 59741626, "body": "This works, though I definitely like CollinD&#39;s link, which also gives me the names of the parameters <code>foreach (ParameterInfo param in method.GetParameters())</code>"}], "tags": [], "owner": {"reputation": 3910, "user_id": 1770952, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/743e6716b63a6502a10a212655005e81?s=128&d=identicon&r=PG", "display_name": "Ivan Gritsenko", "link": "https://stackoverflow.com/users/1770952/ivan-gritsenko"}, "is_accepted": true, "score": 4, "last_activity_date": 1458160234, "creation_date": 1458160234, "answer_id": 36046326, "question_id": 36045839, "link": "https://stackoverflow.com/questions/36045839/c-get-type-parameters-from-a-delegate-which-is-a-func/36046326#36046326", "title": "C# Get Type Parameters from a Delegate which is a Func&lt;&gt;", "body": "<blockquote>\n  <p>or at least, get the Type parameters so I can rebuild the type:</p>\n</blockquote>\n\n<p>This one is as simple as:</p>\n\n<pre><code>Type[] funcParams = (d.GetType()).GenericTypeArguments;\n</code></pre>\n"}], "owner": {"reputation": 832, "user_id": 4408842, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/vuHCi.gif?s=128&g=1", "display_name": "TaterJuice", "link": "https://stackoverflow.com/users/4408842/taterjuice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2636, "favorite_count": 0, "accepted_answer_id": 36046326, "answer_count": 1, "score": 2, "last_activity_date": 1458160234, "creation_date": 1458158524, "question_id": 36045839, "link": "https://stackoverflow.com/questions/36045839/c-get-type-parameters-from-a-delegate-which-is-a-func", "title": "C# Get Type Parameters from a Delegate which is a Func&lt;&gt;", "body": "<p>Say I've cast a Func&lt;> to a Delegate, for example...</p>\n\n<pre><code>Func&lt;object, int&gt; func = GetFunc();\nDelegate d = func;\n</code></pre>\n\n<p>Now, if I know the type of Delegate ahead of time, I can cast directly back to Func&lt;></p>\n\n<pre><code>Func&lt;object, int&gt; newFunc = (Func&lt;object, int&gt;)d;\n</code></pre>\n\n<p>But what if I don't know the function type until runtime? How do I get back my Func&lt;> from a Delegate?</p>\n\n<pre><code>Delegate d = GetFunc(); // may return a Func&lt;T&gt;, Func&lt;T,T2&gt;, Func&lt;T,T2,T3&gt;, etc...\nvar func = GetFuncFromDelegate(d);\n</code></pre>\n\n<p>or at least, get the Type parameters so I can rebuild the type:</p>\n\n<pre><code>Delegate d = GetFunc(); // may return a Func&lt;T&gt;, Func&lt;T,T2&gt;, Func&lt;T,T2,T3&gt;, etc...\nType[] funcParams = GetTypeParamsFromDelegate(d);\n</code></pre>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-web-api"], "comments": [{"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1487666594, "post_id": 36045823, "comment_id": 71874894, "body": "I have tested with CallContext.LogicalSetData and async controller (to make it switch threads before and after) and it seems to work fine. However that&#39;s quite a complex subject and it&#39;s hard to be sure by just performing simple tests."}], "answers": [{"comments": [{"owner": {"reputation": 346, "user_id": 2451865, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6zed4.png?s=128&g=1", "display_name": "imukai", "link": "https://stackoverflow.com/users/2451865/imukai"}, "edited": false, "score": 0, "creation_date": 1518008070, "post_id": 42435918, "comment_id": 84325872, "body": "CallContext.LogicalSetData and .LogicalGetData is supposed to work for async."}, {"owner": {"reputation": 15949, "user_id": 184746, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/eooRi.png?s=128&g=1", "display_name": "caesay", "link": "https://stackoverflow.com/users/184746/caesay"}, "reply_to_user": {"reputation": 346, "user_id": 2451865, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6zed4.png?s=128&g=1", "display_name": "imukai", "link": "https://stackoverflow.com/users/2451865/imukai"}, "edited": false, "score": 0, "creation_date": 1518009275, "post_id": 42435918, "comment_id": 84326840, "body": "@imukai <code>CallContext</code> was designed for remoting, and you&#39;re right - it should work for async, but on who&#39;s word? It was designed before Async even existed. It isn&#39;t documented anywhere that I could find; the only info I have is from reading other threads of people discussing and nobody seems to agree on the behaviour of <code>CallContext</code> inside asp.net. It&#39;s much better to use an <code>AsyncLocal</code> as it was designed for this purpose and <i>is</i> documented."}, {"owner": {"reputation": 2355, "user_id": 2909851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04a82288b01d348dafa60c9bd2db51d9?s=128&d=identicon&r=PG&f=1", "display_name": "themefield", "link": "https://stackoverflow.com/users/2909851/themefield"}, "edited": false, "score": 0, "creation_date": 1566926324, "post_id": 42435918, "comment_id": 101805730, "body": "<code>You lose your CallContext if ASP.Net switches threads.</code> Is this correct? I am also looking at this post: <a href=\"https://stackoverflow.com/questions/273301/callcontext-vs-threadstatic\" title=\"callcontext vs threadstatic\">stackoverflow.com/questions/273301/callcontext-vs-threadstat&zwnj;&#8203;ic</a>"}, {"owner": {"reputation": 15949, "user_id": 184746, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/eooRi.png?s=128&g=1", "display_name": "caesay", "link": "https://stackoverflow.com/users/184746/caesay"}, "reply_to_user": {"reputation": 2355, "user_id": 2909851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04a82288b01d348dafa60c9bd2db51d9?s=128&d=identicon&r=PG&f=1", "display_name": "themefield", "link": "https://stackoverflow.com/users/2909851/themefield"}, "edited": false, "score": 0, "creation_date": 1566927154, "post_id": 42435918, "comment_id": 101806082, "body": "@themefield: A quote from the question you linked: <code>Very often a request will use the same thread throughout, but it certainly won&#39;t always be the case</code>. This means that very often your CallContext might be the same one, but it might not always be. Check out <code>AsyncLocal</code> for an async safe way to store thread specific data."}, {"owner": {"reputation": 2355, "user_id": 2909851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04a82288b01d348dafa60c9bd2db51d9?s=128&d=identicon&r=PG&f=1", "display_name": "themefield", "link": "https://stackoverflow.com/users/2909851/themefield"}, "edited": false, "score": 0, "creation_date": 1566927651, "post_id": 42435918, "comment_id": 101806284, "body": "@caesay I think the sentence <code>Very often a request will use the same thread throughout, but it certainly won&#39;t always be the case</code> is saying that very often the thread might be the same one, not that the <code>CallContext</code> might be the same one."}, {"owner": {"reputation": 15949, "user_id": 184746, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/eooRi.png?s=128&g=1", "display_name": "caesay", "link": "https://stackoverflow.com/users/184746/caesay"}, "reply_to_user": {"reputation": 2355, "user_id": 2909851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04a82288b01d348dafa60c9bd2db51d9?s=128&d=identicon&r=PG&f=1", "display_name": "themefield", "link": "https://stackoverflow.com/users/2909851/themefield"}, "edited": false, "score": 0, "creation_date": 1566929870, "post_id": 42435918, "comment_id": 101807188, "body": "@themefield If I remember, the thread is the same, the CallContext will be the same - if the thread has been changed, the CallContext will be new. Although, you could test yourself to verify if this is important to you!"}], "tags": [], "owner": {"reputation": 15949, "user_id": 184746, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/eooRi.png?s=128&g=1", "display_name": "caesay", "link": "https://stackoverflow.com/users/184746/caesay"}, "is_accepted": true, "score": 3, "last_activity_date": 1487931602, "last_edit_date": 1487931602, "creation_date": 1487931094, "answer_id": 42435918, "question_id": 36045823, "link": "https://stackoverflow.com/questions/36045823/can-i-rely-on-callcontext-using-web-api/42435918#42435918", "title": "Can I rely on CallContext using Web API?", "body": "<p>You lose your CallContext if ASP.Net switches threads. In an asynchronous model, the asp.net task scheduler will take care of joining async calls back to a request thread <em>with the same HttpContext</em>, but not necessarily the same thread.</p>\n\n<p>Example: A request starts and then you go off to asynchronously wait for some slow IO before returning - while you're waiting for that slow IO there's no reason for your request thread to be sitting around doing nothing so it may get used for another request.</p>\n\n<p>ASP.Net is a big exercise in <code>Thread Agility</code> (google it), and there is also a great discussion about this here: <a href=\"http://forum.springframework.net/showthread.php?572-CallContext-vs-ThreadStatic-vs-HttpContext&amp;highlight=LogicalThreadContext\" rel=\"nofollow noreferrer\">CallContext vs ThreadStatic vs HttpContext</a></p>\n"}], "owner": {"reputation": 134, "user_id": 2558683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6155e238f1eb146b74ff854ab76d54ec?s=128&d=identicon&r=PG", "display_name": "Berlo", "link": "https://stackoverflow.com/users/2558683/berlo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1693, "favorite_count": 1, "accepted_answer_id": 42435918, "answer_count": 1, "score": 6, "last_activity_date": 1487931602, "creation_date": 1458158497, "question_id": 36045823, "link": "https://stackoverflow.com/questions/36045823/can-i-rely-on-callcontext-using-web-api", "title": "Can I rely on CallContext using Web API?", "body": "<p>Can CallContext be relied upon, through-out the whole request, when using asp.net Web API?</p>\n\n<p>I have read the <a href=\"http://piers7.blogspot.com/2005/11/threadstatic-callcontext-and_02.html\" rel=\"noreferrer\">decade-old blog post</a> and I'm not sure it still applies (as asked <a href=\"http://piers7.blogspot.com/2005/11/threadstatic-callcontext-and_02.html?showComment=1399390806034#c4998076937967713504\" rel=\"noreferrer\">there</a>).</p>\n\n<p>Assuming Thread-Agility kicks in, if I set data in a global filter, is it safe to assume it will be there through-out the request?</p>\n"}, {"tags": ["c#", "list", "collections", "duplicates", "distinct"], "comments": [{"owner": {"reputation": 400, "user_id": 6023056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bw1WV.jpg?s=128&g=1", "display_name": "Emmanuel Ponnudurai", "link": "https://stackoverflow.com/users/6023056/emmanuel-ponnudurai"}, "edited": false, "score": 1, "creation_date": 1458158760, "post_id": 36045773, "comment_id": 59740287, "body": "Please refer to <a href=\"http://stackoverflow.com/questions/12784788/c-sharp-remove-duplicates-from-listlistint\">this post</a>"}, {"owner": {"reputation": 47259, "user_id": 109702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1206798ebe0afcb9cb722ef597573853?s=128&d=identicon&r=PG&f=1", "display_name": "slugster", "link": "https://stackoverflow.com/users/109702/slugster"}, "reply_to_user": {"reputation": 400, "user_id": 6023056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bw1WV.jpg?s=128&g=1", "display_name": "Emmanuel Ponnudurai", "link": "https://stackoverflow.com/users/6023056/emmanuel-ponnudurai"}, "edited": false, "score": 0, "creation_date": 1458159521, "post_id": 36045773, "comment_id": 59740749, "body": "I modified your title, this is to highlight the difference between your question and the <a href=\"http://stackoverflow.com/questions/36045773/remove-duplicates-from-a-listlistint?noredirect=1#comment59740287_36045773\">similar suggestion</a> linked by @EmmanuelDurai."}, {"owner": {"reputation": 230, "user_id": 6013591, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/926bf52203bbc7670019700de5fcc514?s=128&d=identicon&r=PG&f=1", "display_name": "KOPEUE", "link": "https://stackoverflow.com/users/6013591/kopeue"}, "edited": false, "score": 0, "creation_date": 1458159983, "post_id": 36045773, "comment_id": 59741021, "body": "Thanks for that i should&#39;ve originally post it this way"}], "answers": [{"tags": [], "owner": {"reputation": 401, "user_id": 5410282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zKRBf.jpg?s=128&g=1", "display_name": "Peppi Alexandrova", "link": "https://stackoverflow.com/users/5410282/peppi-alexandrova"}, "is_accepted": false, "score": 1, "last_activity_date": 1458160086, "last_edit_date": 1458160086, "creation_date": 1458159280, "answer_id": 36046036, "question_id": 36045773, "link": "https://stackoverflow.com/questions/36045773/remove-duplicate-list-from-a-listlistint/36046036#36046036", "title": "Remove duplicate List from a List&lt;List&lt;int&gt;&gt;", "body": "<p>You can also use Linq with SequenceEqual before adding to the list:</p>\n\n<pre><code>Console.WriteLine(temp1.SequenceEqual(temp2));//False\nConsole.WriteLine(temp1.SequenceEqual(temp3));//True\n</code></pre>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/bb348567(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/bb348567(v=vs.110).aspx</a></p>\n"}, {"tags": [], "owner": {"reputation": 14974, "user_id": 5178207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ScDIA.jpg?s=128&g=1", "display_name": "Arturo Menchaca", "link": "https://stackoverflow.com/users/5178207/arturo-menchaca"}, "is_accepted": true, "score": 3, "last_activity_date": 1458159999, "creation_date": 1458159999, "answer_id": 36046269, "question_id": 36045773, "link": "https://stackoverflow.com/questions/36045773/remove-duplicate-list-from-a-listlistint/36046269#36046269", "title": "Remove duplicate List from a List&lt;List&lt;int&gt;&gt;", "body": "<p>You can do it with <code>Distinct()</code> but using the overload with the comparer:</p>\n\n<pre><code>class ListComparer&lt;T&gt; : EqualityComparer&lt;List&lt;T&gt;&gt;\n{\n    public override bool Equals(List&lt;T&gt; l1, List&lt;T&gt; l2)\n    {\n        if (l1 == null &amp;&amp; l2 == null) return true;\n        if (l1 == null || l2 == null) return false;\n\n        return Enumerable.SequenceEqual(l1, l2);\n    }\n\n\n    public override int GetHashCode(List&lt;T&gt; list)\n    {\n        return list.Count;\n    }\n}\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre><code>var List = new List&lt;List&lt;int&gt;&gt;();\nvar temp1 = new List&lt;int&gt;();\nvar temp2 = new List&lt;int&gt;();\nvar temp3 = new List&lt;int&gt;();\n\ntemp1.Add(0);\ntemp1.Add(1);\ntemp1.Add(2);\n\ntemp2.Add(3);\ntemp2.Add(4);\ntemp2.Add(5);\n\ntemp3.Add(0);\ntemp3.Add(1);\ntemp3.Add(2);\n\nList.Add(temp1);\nList.Add(temp2);\nList.Add(temp3);\n\n\nvar comparer = new ListComparer&lt;int&gt;();            \nvar distinct = List.Distinct(comparer).ToList();\n</code></pre>\n\n<p>You can firstly remove empty lists:</p>\n\n<pre><code>List = List.Where(l =&gt; l.Count &gt; 0).ToList();\n</code></pre>\n"}], "owner": {"reputation": 230, "user_id": 6013591, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/926bf52203bbc7670019700de5fcc514?s=128&d=identicon&r=PG&f=1", "display_name": "KOPEUE", "link": "https://stackoverflow.com/users/6013591/kopeue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 36046269, "answer_count": 2, "score": 1, "last_activity_date": 1458160086, "creation_date": 1458158325, "last_edit_date": 1458160061, "question_id": 36045773, "link": "https://stackoverflow.com/questions/36045773/remove-duplicate-list-from-a-listlistint", "title": "Remove duplicate List from a List&lt;List&lt;int&gt;&gt;", "body": "<p>as the title says how can i do this ? Let's say i have the following <code>List&lt;List&lt;int&gt;&gt;</code> :</p>\n\n<pre><code>var List = new List&lt;List&lt;int&gt;&gt;();\nvar temp1 = new List&lt;int&gt;();\nvar temp2 = new List&lt;int&gt;();\nvar temp3 = new List&lt;int&gt;();\n\ntemp1.Add(0);\ntemp1.Add(1);\ntemp1.Add(2);\n\ntemp2.Add(3);\ntemp2.Add(4);\ntemp2.Add(5);\n\ntemp3.Add(0);\ntemp3.Add(1);\ntemp3.Add(2);\n\nList.Add(temp1);\nList.Add(temp2);\nList.Add(temp3);\n</code></pre>\n\n<p>now list <code>temp1</code> and <code>temp3</code>are duplicates. How can i remove just one of them ? Not both <code>List.Distinct();</code> wont work for me. </p>\n\n<p><strong>EDIT</strong> Also if multiple list's has length of 0 they should also be removed</p>\n"}, {"tags": ["c#", "design-patterns"], "comments": [{"owner": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "edited": false, "score": 1, "creation_date": 1458173802, "post_id": 36045772, "comment_id": 59747159, "body": "Note that <a href=\"https://cuttingedge.it/blogs/steven/pivot/entry.php?id=97\" rel=\"nofollow noreferrer\">constructor overloading in conjunction with Dependency Injection is anti-pattern</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1337, "user_id": 593154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xqRfh.jpg?s=128&g=1", "display_name": "Mutmatt", "link": "https://stackoverflow.com/users/593154/mutmatt"}, "edited": false, "score": 0, "creation_date": 1458159814, "post_id": 36045854, "comment_id": 59740934, "body": "thanks for the reply, your point of rarely needing one and abuse of such is probably why it feels so wrong.  The term also helped in searching :D"}], "tags": [], "owner": {"reputation": 714, "user_id": 4560635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cmlM6.png?s=128&g=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/4560635/jeremy"}, "is_accepted": true, "score": 2, "last_activity_date": 1458158619, "creation_date": 1458158619, "answer_id": 36045854, "question_id": 36045772, "link": "https://stackoverflow.com/questions/36045772/class-taking-itself-as-a-parameter-of-the-constructor/36045854#36045854", "title": "Class taking itself as a parameter of the constructor", "body": "<p>This is called a <a href=\"https://msdn.microsoft.com/en-us/library/ms173116.aspx\" rel=\"nofollow\">copy constructor</a>.</p>\n\n<p>The idea is that the object should know how to make a clone of itself if there is a need for that in consuming code - i.e., simply providing a reference to an existing object is not desirable.</p>\n\n<p>Personally, I've never felt that I needed one, and I feel that they could be abused or misused by other developers with a non-trivial memory footprint that grows linearly with the size of the class itself.</p>\n\n<p>Creation and use of a read-only wrapper class that implements one or more common interfaces may be a desirable substitute in many instances where this pattern may be used.</p>\n"}], "owner": {"reputation": 1337, "user_id": 593154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xqRfh.jpg?s=128&g=1", "display_name": "Mutmatt", "link": "https://stackoverflow.com/users/593154/mutmatt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 474, "favorite_count": 0, "accepted_answer_id": 36045854, "answer_count": 1, "score": 1, "last_activity_date": 1458158619, "creation_date": 1458158322, "question_id": 36045772, "link": "https://stackoverflow.com/questions/36045772/class-taking-itself-as-a-parameter-of-the-constructor", "title": "Class taking itself as a parameter of the constructor", "body": "<p>I've seen similar questions but most of the time it doesn't have the same implications or nuances</p>\n\n<pre><code>public class Dog {\n  public Dog(Animal animal) {\n    this.name = animal.name;\n    this.age = animal.age;\n    ....\n  }\n  public Dog(Dog dog) {\n    this.name = dog.name;\n    this.age = dog.name;\n  }\n}\n</code></pre>\n\n<p>I saw this written by a colleague on several occasions in different contexts but have yet to see any value in the second constructor...  I was wondering if there were any reasons why this type of structure pattern is good/bad/otherwise.</p>\n"}, {"tags": ["c#", "constructor", "static-members"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 5, "creation_date": 1458158200, "post_id": 36045707, "comment_id": 59739978, "body": "you really should not be tracking that stuff in static variables"}, {"owner": {"reputation": 2230, "user_id": 1497128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QaOX5.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/1497128/tom"}, "edited": false, "score": 3, "creation_date": 1458158304, "post_id": 36045707, "comment_id": 59740041, "body": "It is impossible for anyone to answer this question without seeing what Animal&#39;s constructors look like."}], "answers": [{"tags": [], "owner": {"reputation": 309, "user_id": 4668612, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/dyXl6.png?s=128&g=1", "display_name": "small-j", "link": "https://stackoverflow.com/users/4668612/small-j"}, "is_accepted": true, "score": 0, "last_activity_date": 1458159454, "creation_date": 1458159454, "answer_id": 36046104, "question_id": 36045707, "link": "https://stackoverflow.com/questions/36045707/c-constructor-flaw/36046104#36046104", "title": "C# constructor flaw", "body": "<p>Ok, the problem was not the inheritance or static methods. It was just the same string in the setter and the constructor: TotalWeight += value;</p>\n"}], "owner": {"reputation": 309, "user_id": 4668612, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/dyXl6.png?s=128&g=1", "display_name": "small-j", "link": "https://stackoverflow.com/users/4668612/small-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 36046104, "answer_count": 1, "score": -2, "last_activity_date": 1458159454, "creation_date": 1458158062, "last_edit_date": 1458158731, "question_id": 36045707, "link": "https://stackoverflow.com/questions/36045707/c-constructor-flaw", "title": "C# constructor flaw", "body": "<p>Here's a part of my code:</p>\n\n<pre><code>class Tiger: Animal,IPredator\n{\nprivate double weight;\npublic static double AvgWeight;\npublic static int Population;\npublic static double TotalWeight;\npublic Tiger(double aWeight):this(aWeight,\"Savannah\"){}\npublic Tiger(double aWeight, params string[] aHabitat) : base(aWeight,\"Panthera Tigris\", \"Mammalia\", aHabitat)\n{\n    Population++;\n    TotalWeight += Weight;\n    AvgWeight = TotalWeight / Population;\n    Console.WriteLine($\"Let's all welcome our new Tiger: {Weight} kilos. Average pride weight: {AvgWeight}\");\n}\npublic  override double Weight\n{\n    get\n    {\n        return weight;\n    }\n\n    set\n    {\n        TotalWeight -= weight;\n        weight = value;\n        TotalWeight += weight;\n        AvgWeight = TotalWeight / Population;\n    }\n}\n</code></pre>\n\n<p>Looks fine,but when I create an instance and check the constructor, it shows double the value of the new cat's weight.</p>\n\n<p>Part of Animal's code:</p>\n\n<pre><code> abstract class Animal\n     {\n    private string kind;\n    private string @class;\n    public List&lt;string&gt; Habitat = new List&lt;string&gt;();\n    public virtual double Weight { get; set; }\n    public string Kind { get { return kind; } set { } }\n    public string @Class { get { return kind; } set { Console.WriteLine(\"Class cannot be changed\"); } }\n\n    public Animal(double aWeight,string aKind, string aClass,params string[] aHabitat)\n    {\n        kind = aKind;\n        @class = aClass;\n        Habitat.AddRange(aHabitat);\n        Weight = aWeight;\n    }\n</code></pre>\n\n<p>I was trying to avoid these issues, that's why I added an extra double field in Tiger. But I need the Tiger's to work like this and Animals should definitely have a Weight property.</p>\n"}, {"tags": ["c#", "image", "image-processing", "affinetransform"], "comments": [{"owner": {"reputation": 17623, "user_id": 2858170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4263428b9b0e0aed365e264c7a2b044?s=128&d=identicon&r=PG&f=1", "display_name": "Piglet", "link": "https://stackoverflow.com/users/2858170/piglet"}, "edited": false, "score": 0, "creation_date": 1458159149, "post_id": 36045670, "comment_id": 59740517, "body": "what is it you don&#39;t know? just pasting a few lines of code and saying you don&#39;t know what to do won&#39;t give you any good answers. describe what you do step by step, add code where it makes sense and then explain what exaclty it is you don&#39;t know"}, {"owner": {"reputation": 663, "user_id": 5844387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f5b51e68b1b2d940f7f452101e367cd?s=128&d=identicon&r=PG&f=1", "display_name": "Jay T", "link": "https://stackoverflow.com/users/5844387/jay-t"}, "edited": false, "score": 0, "creation_date": 1458161131, "post_id": 36045670, "comment_id": 59741679, "body": "An affine transform is a matrix that is applied to transform coordinates in one image into the image space of the other. Sounds like you&#39;ve calculated the the values to fill the matrix, correct? What step can&#39;t you figure out how to do, apply the matrix to each pixel in the original image?"}, {"owner": {"reputation": 11, "user_id": 4739659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0f88ca0e96a4a84314a295d3c518ab?s=128&d=identicon&r=PG&f=1", "display_name": "Rana Junaid Javed", "link": "https://stackoverflow.com/users/4739659/rana-junaid-javed"}, "reply_to_user": {"reputation": 663, "user_id": 5844387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f5b51e68b1b2d940f7f452101e367cd?s=128&d=identicon&r=PG&f=1", "display_name": "Jay T", "link": "https://stackoverflow.com/users/5844387/jay-t"}, "edited": false, "score": 0, "creation_date": 1458161288, "post_id": 36045670, "comment_id": 59741777, "body": "@JayT yes you r right that is my probmel"}, {"owner": {"reputation": 11, "user_id": 4739659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0f88ca0e96a4a84314a295d3c518ab?s=128&d=identicon&r=PG&f=1", "display_name": "Rana Junaid Javed", "link": "https://stackoverflow.com/users/4739659/rana-junaid-javed"}, "reply_to_user": {"reputation": 663, "user_id": 5844387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f5b51e68b1b2d940f7f452101e367cd?s=128&d=identicon&r=PG&f=1", "display_name": "Jay T", "link": "https://stackoverflow.com/users/5844387/jay-t"}, "edited": false, "score": 0, "creation_date": 1458161354, "post_id": 36045670, "comment_id": 59741823, "body": "@JayT I don&#39;t know how to use these values to form a pixle value to insert into the original image"}, {"owner": {"reputation": 663, "user_id": 5844387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f5b51e68b1b2d940f7f452101e367cd?s=128&d=identicon&r=PG&f=1", "display_name": "Jay T", "link": "https://stackoverflow.com/users/5844387/jay-t"}, "edited": false, "score": 0, "creation_date": 1458161635, "post_id": 36045670, "comment_id": 59742003, "body": "It should be just a simple matrix multiplication, i.e. multiply each pixel in the source image by the determined matrix to find it&#39;s location in the new image space. However, this isn&#39;t necessarily trivial because often the output pixel coordinates are not at integer values, rather they fall between pixels. In that case you need to interpolate the value. There are libraries that calculate and apply transforms out there, I have used <a href=\"http://www.itk.org/\" rel=\"nofollow noreferrer\">ITK</a> which has a <a href=\"http://www.simpleitk.org/\" rel=\"nofollow noreferrer\">C# wrapper</a> available."}], "owner": {"reputation": 11, "user_id": 4739659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0f88ca0e96a4a84314a295d3c518ab?s=128&d=identicon&r=PG&f=1", "display_name": "Rana Junaid Javed", "link": "https://stackoverflow.com/users/4739659/rana-junaid-javed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1295, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458159772, "creation_date": 1458157927, "last_edit_date": 1458159772, "question_id": 36045670, "link": "https://stackoverflow.com/questions/36045670/affine-matrix-transformation", "title": "Affine matrix transformation", "body": "<p>I have two images one is input image(<a href=\"http://i.stack.imgur.com/XuAM2.jpg\" rel=\"nofollow\">enter image description here</a>) and other is output image (<a href=\"http://i.stack.imgur.com/s5RIl.jpg\" rel=\"nofollow\">enter image description here</a>). Output image is produced using some function on input image using the affine transformation. I need to find the function using 3 tie points on the input image and then corresponding points on the output image.</p>\n\n<p>As affine matrix has the following equations</p>\n\n<pre><code> x = v * t11 + w * t21 + t31;\n\n y = v * t12 + w * t22 + t32;\n</code></pre>\n\n<p>Now after applying some calculations I found the values of all unknown variables <code>i,e t11,t21 etc.</code>. Now I want to apply these values on the input images to make it like output image.</p>\n\n<p>Here is the code in C#.</p>\n\n<pre><code>            for(int i=0; i&lt;file1.Width; i++)\n            for(int j=0; j&lt;file1.Height; j++)\n            {\n                x = i * t11 + j * t21 + t31;\n\n                y = i * t12 + j * t22 + t32;\n\n                 file1.SetPixel(i,j , );\n\n            }\n</code></pre>\n\n<p>but I cannot figure out that how to distort image 2 on image 1 to get the results though i have all the values i need. Any help will be appreciated.</p>\n"}, {"tags": ["c#", "sql"], "comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 2, "creation_date": 1458157910, "post_id": 36045614, "comment_id": 59739791, "body": "Replace <code>DGV.SelectedRows[0]</code> with <code>row</code>"}, {"owner": {"reputation": 815, "user_id": 5757586, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c1fc961c1c45c6ea8ea9e993c87e5985?s=128&d=identicon&r=PG&f=1", "display_name": "Kate", "link": "https://stackoverflow.com/users/5757586/kate"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1458160870, "post_id": 36045614, "comment_id": 59741536, "body": "@ Ivan Stoev , it worked tnx"}], "answers": [{"tags": [], "owner": {"reputation": 90882, "user_id": 447156, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/8348bcf40f55bc5818651824369caff1?s=128&d=identicon&r=PG", "display_name": "Soner G&#246;n&#252;l", "link": "https://stackoverflow.com/users/447156/soner-g%c3%b6n%c3%bcl"}, "is_accepted": true, "score": 1, "last_activity_date": 1458158932, "last_edit_date": 1458158932, "creation_date": 1458158438, "answer_id": 36045807, "question_id": 36045614, "link": "https://stackoverflow.com/questions/36045614/why-foreach-loop-does-not-work-with-datagridview-selected-rows-in-c/36045807#36045807", "title": "Why foreach loop does not work with datagridview selected rows in C#?", "body": "<blockquote>\n  <p>I multi-select rows then use this code and when I check the result in\n  sql table I find this code only consider the first selected row in\n  datagridview and ignore the rest.</p>\n</blockquote>\n\n<p>That's <em>too</em> normal because you use <em>same</em> row cell as <code>DGV.SelectedRows[0]</code> in every iteration, not the rows that you iterate.</p>\n\n<p>Change your</p>\n\n<pre><code>OrderNumber = Convert.ToInt32(DGV.SelectedRows[0].Cells[0].Value);\nOrderDateTime = Convert.ToDateTime(DGV.SelectedRows[0].Cells[4].Value);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>OrderNumber = Convert.ToInt32(row.Cells[0].Value);\nOrderDateTime = Convert.ToDateTime(row.Cells[4].Value);\n</code></pre>\n\n<p>Also use <a href=\"https://msdn.microsoft.com/en-us/library/yh598w02.aspx\" rel=\"nofollow\"><code>using</code> statement</a> to dispose your connection and command <em>automatically</em> instead of calling <code>Close</code> or <code>Dispose</code> methods manually.</p>\n\n<pre><code>using(var MyConnection = new MySqlConnection(conString))\nusing(var MyCommand = MyConnection.CreateCommand())\n{\n     MyCommand.CommandText = \"UPDATE List_of_All_Orders set Delivery_State=@_Delivery_State WHERE Order_Number=@_OrderNumber and Date_Time_Ordered =@_OrderDateTime\";\n     MyConnection.Open();  \n\n     foreach (DataGridViewRow row in DGV.SelectedRows)\n     {\n        MyCommand.Parameters.Clear();\n\n        OrderNumber = Convert.ToInt32(row.Cells[0].Value);\n        OrderDateTime = Convert.ToDateTime(row.Cells[4].Value);\n\n        MyCommand.Parameters.AddWithValue(\"@_Delivery_State\", button7.Text);\n        MyCommand.Parameters.AddWithValue(\"@_OrderNumber\", OrderNumber);\n        MyCommand.Parameters.AddWithValue(\"@_OrderDateTime\", OrderDateTime);\n\n        MyCommand.ExecuteNonQuery();\n     }\n}\n</code></pre>\n\n<p>I used <code>AddWithValue</code> in my example but you <a href=\"http://blogs.msmvps.com/jcoehoorn/blog/2014/05/12/can-we-stop-using-addwithvalue-already/\" rel=\"nofollow\">don't use this method</a>. Use <code>Add</code> method overload as you did with <em>proper</em> <code>MySqlDbType</code>, not <code>SqlDbType</code>.</p>\n"}], "owner": {"reputation": 815, "user_id": 5757586, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c1fc961c1c45c6ea8ea9e993c87e5985?s=128&d=identicon&r=PG&f=1", "display_name": "Kate", "link": "https://stackoverflow.com/users/5757586/kate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1171, "favorite_count": 0, "accepted_answer_id": 36045807, "answer_count": 1, "score": 0, "last_activity_date": 1458158932, "creation_date": 1458157740, "question_id": 36045614, "link": "https://stackoverflow.com/questions/36045614/why-foreach-loop-does-not-work-with-datagridview-selected-rows-in-c", "title": "Why foreach loop does not work with datagridview selected rows in C#?", "body": "<p>I am new to c# and using windows forms.</p>\n\n<p>The following code loops through all selected rows in <code>datagridview</code> and take variables from cell0 and 4 as condition to use in sql query.</p>\n\n<p>I multi-select rows then use this code and when I check the result in sql table I find this code only consider the first selected row in datagridview and ignore the rest.</p>\n\n<p>Anyone knows how can I fix it, or what I am doing wrong? please help , thank you</p>\n\n<pre><code> foreach (DataGridViewRow row in DGV.SelectedRows)\n                {\n\n\n\n                OrderNumber = Convert.ToInt32(DGV.SelectedRows[0].Cells[0].Value);\n                OrderDateTime = Convert.ToDateTime(DGV.SelectedRows[0].Cells[4].Value);\n\n                MyConnection.Open();\n                MyCommand.CommandText = \"UPDATE List_of_All_Orders set Delivery_State=@_Delivery_State WHERE Order_Number=@_OrderNumber and Date_Time_Ordered =@_OrderDateTime\";\n\n                MyCommand.Connection = MyConnection;\n\n                MyCommand.Parameters.Add(\"@_Delivery_State\", SqlDbType.NVarChar).Value = button7.Text;\n                MyCommand.Parameters.Add(\"@_OrderNumber\", SqlDbType.Int).Value = OrderNumber;\n                MyCommand.Parameters.Add(\"@_OrderDateTime\", SqlDbType.DateTime).Value = OrderDateTime;\n\n                MyCommand.ExecuteNonQuery();\n\n                MyCommand.Parameters.Clear();\n                MyConnection.Close();\n\n\n\n                }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1037, "user_id": 5909227, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0c26a3ebb3e603b06723ab605b4085f8?s=128&d=identicon&r=PG&f=1", "display_name": "Chara", "link": "https://stackoverflow.com/users/5909227/chara"}, "edited": false, "score": 2, "creation_date": 1458157763, "post_id": 36045587, "comment_id": 59739702, "body": "make an array of Day.d objects, then use <code>i</code> as the index?"}], "answers": [{"comments": [{"owner": {"reputation": 59056, "user_id": 6067741, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/x6Xoj.png?s=128&g=1", "display_name": "4c74356b41", "link": "https://stackoverflow.com/users/6067741/4c74356b41"}, "edited": false, "score": 0, "creation_date": 1458158271, "post_id": 36045628, "comment_id": 59740022, "body": "Yeah, it starts at 1, because day0 is a special instance, I populate it with a little bit different information (as you may have figured this is a weather app, and weather for today is much more important)."}, {"owner": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "reply_to_user": {"reputation": 59056, "user_id": 6067741, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/x6Xoj.png?s=128&g=1", "display_name": "4c74356b41", "link": "https://stackoverflow.com/users/6067741/4c74356b41"}, "edited": false, "score": 0, "creation_date": 1458158310, "post_id": 36045628, "comment_id": 59740045, "body": "Okay. That sounds logical."}], "tags": [], "owner": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "is_accepted": true, "score": 1, "last_activity_date": 1458157787, "creation_date": 1458157787, "answer_id": 36045628, "question_id": 36045587, "link": "https://stackoverflow.com/questions/36045587/use-i-in-variable-name/36045628#36045628", "title": "Use i in variable name", "body": "<p>You can create a loop where you iterate over the instances:</p>\n\n<pre><code>int counter = 1; // are you sure it shouldn't start at 0?\nforeach (TextBox tb in new TextBox[] { Day1d, Day2d, Day3d, Day4d })\n{\n    tb.Text = string.Format(\"{0:dd/MM}\", DateTime.Today.AddDays(counter));\n\n    counter++;\n}\n\ncounter = 1;\nforeach (TextBox tb in new TextBox[] { Day1t, Day2t, Day3t, Day4t })\n{\n    tb.Text = \"\u00b0\" + (myWeatherForecast.forecastlist[counter].temp).ToString();\n\n    counter++;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "edited": false, "score": 3, "creation_date": 1458158018, "post_id": 36045688, "comment_id": 59739854, "body": "Why use <code>IndexOf</code> if you can calculate the index much more efficient?"}, {"owner": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "reply_to_user": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "edited": false, "score": 0, "creation_date": 1458158065, "post_id": 36045688, "comment_id": 59739884, "body": "Cause it doesn&#39;t really matter, you&#39;re iterating over 4 items and I think it looks cleaner."}, {"owner": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "edited": false, "score": 1, "creation_date": 1458158092, "post_id": 36045688, "comment_id": 59739897, "body": "Personally I disagree."}, {"owner": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "reply_to_user": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "edited": false, "score": 0, "creation_date": 1458158160, "post_id": 36045688, "comment_id": 59739947, "body": "All primarly opinion based. Truth is, for this example it doesn&#39;t matter, the outcome is the same."}], "tags": [], "owner": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "is_accepted": false, "score": 0, "last_activity_date": 1458172232, "last_edit_date": 1458172232, "creation_date": 1458157979, "answer_id": 36045688, "question_id": 36045587, "link": "https://stackoverflow.com/questions/36045587/use-i-in-variable-name/36045688#36045688", "title": "Use i in variable name", "body": "<p>You can't compose the name of the variable using another variable. The way to do this would be to create a List and then iterate over that List</p>\n\n<pre><code>var textBoxes1 = new List&lt;TextBox&gt; { Day1d, Day2d, Day3d, Day4d }\nvar textBoxes2 = new List&lt;TextBox&gt; { Day1t, Day2t, Day3t, Day4t }\nforeach (var textbox in textBoxes1)\n{\n    var index = textBoxes1.IndexOf(textBox) + 1;\n    textbox.Text = string.Format(\"{0:dd/MM}\", DateTime.Today.AddDays(index));\n}\nforeach (var textbox in textBoxes2)\n{\n    var index = textBoxes2.IndexOf(textBox) + 1;\n    textbox.Text = \"\u00b0\" + (myWeatherForecast.forecastlist[index].temp).ToString();\n}\n</code></pre>\n\n<p>NOTE: You can solve this in different ways:</p>\n\n<ul>\n<li>using arrays instead of lists</li>\n<li>keeping your own counter, instead of doing IndexOf</li>\n<li>using a for loop, instead of a foreach</li>\n</ul>\n\n<p>Which one is better is mostly based on opinion (although my method is not the fastest, but it doesn't matter if you only have 4 items)</p>\n"}, {"tags": [], "owner": {"reputation": 674, "user_id": 4069672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bzbqy.jpg?s=128&g=1", "display_name": "Mayura Vivekananda", "link": "https://stackoverflow.com/users/4069672/mayura-vivekananda"}, "is_accepted": false, "score": 0, "last_activity_date": 1458552530, "creation_date": 1458552530, "answer_id": 36127216, "question_id": 36045587, "link": "https://stackoverflow.com/questions/36045587/use-i-in-variable-name/36127216#36127216", "title": "Use i in variable name", "body": "<p>You can use <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.frameworkelement.findname%28v=vs.110%29.aspx\" rel=\"nofollow\">FindName</a> assuming you are using WPF.</p>\n\n<p>Try:</p>\n\n<pre><code>for (int i = 1; i &lt; 5; i++)\n{\n     ((TextBox)this.FindName(\"Day\" + i + \"d\")).Text = string.Format(\"{0:dd/MM}\", DateTime.Today.AddDays(i));\n     ((TextBox)this.FindName(\"Day\" + i + \"t\")).Text = \"\u00b0\" + (myWeatherForecast.forecastlist[i].temp).ToString();\n}\n</code></pre>\n"}], "owner": {"reputation": 59056, "user_id": 6067741, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/x6Xoj.png?s=128&g=1", "display_name": "4c74356b41", "link": "https://stackoverflow.com/users/6067741/4c74356b41"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 36045628, "answer_count": 3, "score": 1, "last_activity_date": 1458552530, "creation_date": 1458157653, "last_edit_date": 1458551802, "question_id": 36045587, "link": "https://stackoverflow.com/questions/36045587/use-i-in-variable-name", "title": "Use i in variable name", "body": "<p>So I have this kind of code (I'm assigning values to XAML elements\n), which begs for a \"for\" loop.</p>\n\n<pre><code>Day1d.Text = string.Format(\"{0:dd/MM}\", DateTime.Today.AddDays(1));\nDay2d.Text = string.Format(\"{0:dd/MM}\", DateTime.Today.AddDays(2));\nDay3d.Text = string.Format(\"{0:dd/MM}\", DateTime.Today.AddDays(3));\nDay4d.Text = string.Format(\"{0:dd/MM}\", DateTime.Today.AddDays(4));\n\nDay1t.Text = \"\u00b0\" + (myWeatherForecast.forecastlist[1].temp).ToString();\nDay2t.Text = \"\u00b0\" + (myWeatherForecast.forecastlist[2].temp).ToString();\nDay3t.Text = \"\u00b0\" + (myWeatherForecast.forecastlist[3].temp).ToString();\nDay4t.Text = \"\u00b0\" + (myWeatherForecast.forecastlist[4].temp).ToString();\n</code></pre>\n\n<p>But all my attempts to include \"i\" in variable name failed miserably. Is there a way to achieve this?</p>\n"}, {"tags": ["c#", "asp.net", ".net", "active-directory"], "answers": [{"tags": [], "owner": {"reputation": 1133, "user_id": 137575, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dbabc092728c66f52f6920290e247d5b?s=128&d=identicon&r=PG", "display_name": "Mike Murphy", "link": "https://stackoverflow.com/users/137575/mike-murphy"}, "is_accepted": false, "score": 0, "last_activity_date": 1466688777, "creation_date": 1466688777, "answer_id": 37993164, "question_id": 36045479, "link": "https://stackoverflow.com/questions/36045479/getgroups-vs-getauthorizationgroups/37993164#37993164", "title": "GetGroups vs GetAuthorizationGroups", "body": "<p>GetAuthorizationGroups fails due to an obsolete SID in ActiveDirectory. Because GetAuthorizationGroups works recursively it could be a top-level SID or one attached to a top-level group. I'm including a link to hopefully help. </p>\n\n<p><a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/9dd81553-3539-4281-addd-3eb75e6e4d5d/getauthorizationgroups-fails-with-nomatchingprincipalexception?forum=csharpgeneral\" rel=\"nofollow\">https://social.msdn.microsoft.com/Forums/vstudio/en-US/9dd81553-3539-4281-addd-3eb75e6e4d5d/getauthorizationgroups-fails-with-nomatchingprincipalexception?forum=csharpgeneral</a></p>\n\n<p>NOTE: I've also been told that GetAuthorizationGroups caches the results somewhere for some length of time and isnt able to be cleared manually. Because of this I've had to write code to spelunk the Groups.</p>\n"}], "owner": {"reputation": 335, "user_id": 447704, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/d8320df01d7b211d2369951c8a84b1d8?s=128&d=identicon&r=PG", "display_name": "Tapas Mahata", "link": "https://stackoverflow.com/users/447704/tapas-mahata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2054, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1466688777, "creation_date": 1458157298, "question_id": 36045479, "link": "https://stackoverflow.com/questions/36045479/getgroups-vs-getauthorizationgroups", "title": "GetGroups vs GetAuthorizationGroups", "body": "<p>When I am using GetGroups instead of GetAuthorizationGroup, it results fine but the later one retrieve none even if group exists for the given user. The code I have used as below:</p>\n\n<pre><code>string userName = \"userid\";\n\nPrincipalContext yourDomain = CurrentPrincipalContext;\nUserPrincipal user = UserPrincipal.FindByIdentity(yourDomain, userName);\nPrincipalSearchResult&lt;Principal&gt; groups = user.GetGroups();//user.GetAuthorizationGroups();\nList&lt;GroupPrincipal&gt; result = groups.Select(x =&gt; (GroupPrincipal)x).ToList();\nreturn result.Select(g =&gt; g.Name).ToList();\n</code></pre>\n\n<p>I can use GetGroups but the GetGroups method retrieve data in localhost but fetching none when pushed it into IIS 6.0 and thus I have to stick on GetAuthorizationGroups.</p>\n\n<p>Please help me out....</p>\n"}, {"tags": ["c#", "wmi"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 4431943, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001563114295/picture?type=large", "display_name": "Wiktor Zawierucha", "link": "https://stackoverflow.com/users/4431943/wiktor-zawierucha"}, "edited": false, "score": 0, "creation_date": 1458434591, "post_id": 36045885, "comment_id": 59859930, "body": "Yeah, but the problem is that I checked the MSDN and I didn&#39;t see anything about getting drive letter this way. That&#39;s why I&#39;m asking here."}, {"owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "reply_to_user": {"reputation": 125, "user_id": 4431943, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001563114295/picture?type=large", "display_name": "Wiktor Zawierucha", "link": "https://stackoverflow.com/users/4431943/wiktor-zawierucha"}, "edited": false, "score": 0, "creation_date": 1458436344, "post_id": 36045885, "comment_id": 59860266, "body": "DeviceIDData type: stringAccess type: Read-onlyQualifiers: CIM_Key    Address or other identifying information to uniquely name the logical device."}], "tags": [], "owner": {"reputation": 117, "user_id": 5911095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d79403c899740a277b3e45700b9b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "ivansystems", "link": "https://stackoverflow.com/users/5911095/ivansystems"}, "is_accepted": false, "score": 0, "last_activity_date": 1458158707, "creation_date": 1458158707, "answer_id": 36045885, "question_id": 36045301, "link": "https://stackoverflow.com/questions/36045301/c-get-wmi-win32-diskdrive-data-by-drive-letter/36045885#36045885", "title": "C# get WMI Win32_DiskDrive data by drive letter", "body": "<p>I am doing the same thing in my diagnostic app. I would look to which ones are strings, boolean, int, etc. And create an iDictionary and program it to each one.</p>\n\n<p>If you look at msdn on all of what your doing it will say what each one is. </p>\n\n<p>I have come across the battery for example I had to create a dictionary list with the code provided.</p>\n\n<p>To pull the values you will have to look at the process code,</p>\n\n<p>Example:</p>\n\n<p>1 = Battery is critical.\n2 = Battery is charging.</p>\n\n<p>Or it will have an Ox12, you also have to make sure they are not obsolete. If I am not mistaken DeviceID is obsolete. Your code should go on an example like this:</p>\n\n<pre><code>    private void GetBatteryStatus()\n    {\n        System.Management.ManagementClass wmi = new System.Management.ManagementClass(\"Win32_Battery\");\n        var allBatteries = wmi.GetInstances();\n\n\n        foreach (var battery in allBatteries)\n        {\n            int estimatedChargeRemaining = Convert.ToInt32(battery[\"EstimatedChargeRemaining\"]);\n            if (estimatedChargeRemaining == 80)\n            {\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 4431943, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001563114295/picture?type=large", "display_name": "Wiktor Zawierucha", "link": "https://stackoverflow.com/users/4431943/wiktor-zawierucha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 928, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458158707, "creation_date": 1458156744, "question_id": 36045301, "link": "https://stackoverflow.com/questions/36045301/c-get-wmi-win32-diskdrive-data-by-drive-letter", "title": "C# get WMI Win32_DiskDrive data by drive letter", "body": "<p>How can I get the Win32_DiskDrive data by drive letter in C#?\nFor now I've got this:</p>\n\n<pre><code>ManagementObjectSearcher searcher = new ManagementObjectSearcher(\"root\\\\CIMV2\", \"SELECT SerialNumber,DeviceID, PNPDeviceID, Caption FROM Win32_DiskDrive WHERE InterfaceType='USB'\");\nManagementObjectCollection drive = searcher.Get();\n</code></pre>\n\n<p>I'm sure I'd need to add a AND to WHERE statement in the query, but I have no idea how to form it. DeviceID doesn't do the trick.</p>\n"}, {"tags": ["javascript", "c#", "asp.net"], "comments": [{"owner": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 4, "creation_date": 1458156765, "post_id": 36045291, "comment_id": 59739068, "body": "Is your javascript inside a .js file or .aspx (or equivalent)"}, {"owner": {"reputation": 2495, "user_id": 1507941, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/114b90a751acafeb9d30d2efbb60bf77?s=128&d=identicon&r=PG", "display_name": "Pluto", "link": "https://stackoverflow.com/users/1507941/pluto"}, "edited": false, "score": 0, "creation_date": 1458157037, "post_id": 36045291, "comment_id": 59739247, "body": "Based on your screenshot, it looks like even <code>var fn = &#39;&lt;%= &quot;test&quot; %&gt;&#39;;</code> wouldn&#39;t work."}, {"owner": {"reputation": 49, "user_id": 3116539, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7df2dc3708e2a254b69c49236dfc93c3?s=128&d=identicon&r=PG&f=1", "display_name": "user3116539", "link": "https://stackoverflow.com/users/3116539/user3116539"}, "edited": false, "score": 0, "creation_date": 1458160525, "post_id": 36045291, "comment_id": 59741343, "body": "is inside .js file"}], "answers": [{"tags": [], "owner": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "is_accepted": false, "score": 0, "last_activity_date": 1458157291, "last_edit_date": 1495542230, "creation_date": 1458157291, "answer_id": 36045474, "question_id": 36045291, "link": "https://stackoverflow.com/questions/36045291/how-to-use-asp-net-sessions-in-javascript/36045474#36045474", "title": "How to use asp.net sessions in javascript?", "body": "<p>You need to either have that script directly in an aspx page (not a .js file), or you need to set the values of the variables from a script in the aspx page. </p>\n\n<p>Alternatively, you could send the js files to be evaluated by the .NET engine (create a handler), but that's not a good thing to do, as a general rule because it would process ALL js files and add overhead where you don't need it. </p>\n\n<p>Last resort, you can set the values in a hidden field to then be accessed by javascript later. See <a href=\"https://stackoverflow.com/questions/14213809/accessing-asp-net-session-variables-in-js\">Accessing Asp.Net Session variables in JS</a></p>\n"}, {"tags": [], "owner": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "is_accepted": false, "score": 0, "last_activity_date": 1458157406, "creation_date": 1458157406, "answer_id": 36045513, "question_id": 36045291, "link": "https://stackoverflow.com/questions/36045291/how-to-use-asp-net-sessions-in-javascript/36045513#36045513", "title": "How to use asp.net sessions in javascript?", "body": "<p>Most likely those tags are in a <code>.js</code> file, not an <code>aspx</code> or <code>ascx</code> page. Those tags only work on those extensions. Javascript files are sent as-is.</p>\n\n<p>You can do a few things:</p>\n\n<ul>\n<li>Create a setup stub in your page, maybe from your master page, that sets the variables in javascript so you can use them later on.</li>\n<li>Load the file from an <code>ashx</code> handler and replace the session tags by hand.</li>\n<li>Load the entire Javascript file in your page. This isn't really a good idea when the file is big.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 34313, "user_id": 121309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a620f1f95441b8bde0e6c2c5140581d?s=128&d=identicon&r=PG", "display_name": "Hans Ke\ufb06ing", "link": "https://stackoverflow.com/users/121309/hans-ke%ef%ac%86ing"}, "is_accepted": true, "score": 1, "last_activity_date": 1458161583, "creation_date": 1458161583, "answer_id": 36046707, "question_id": 36045291, "link": "https://stackoverflow.com/questions/36045291/how-to-use-asp-net-sessions-in-javascript/36046707#36046707", "title": "How to use asp.net sessions in javascript?", "body": "<p>That syntax: <code>&lt;%=Session[\"FirstName\"]%&gt;</code> is a special asp.net syntax. It needs to be processed on the server, where it gets replaced with the value of that session value. Only then does this get sent to the browser.</p>\n\n<p>Some important notes:  </p>\n\n<ul>\n<li>the browser doesn't understand that <code>&lt;%= ... %&gt;</code> syntax</li>\n<li>the server needs to process it, so it must be in a file that is processed, like an .aspx or .ascx</li>\n<li>a javascript file (.js) is sent as-is, without extra processing, so this syntax doesn't work here.</li>\n</ul>\n"}], "owner": {"reputation": 49, "user_id": 3116539, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7df2dc3708e2a254b69c49236dfc93c3?s=128&d=identicon&r=PG&f=1", "display_name": "user3116539", "link": "https://stackoverflow.com/users/3116539/user3116539"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 0, "accepted_answer_id": 36046707, "answer_count": 3, "score": 0, "last_activity_date": 1458161583, "creation_date": 1458156668, "question_id": 36045291, "link": "https://stackoverflow.com/questions/36045291/how-to-use-asp-net-sessions-in-javascript", "title": "How to use asp.net sessions in javascript?", "body": "<p>I have a form in Asp.Net with 3 pages by going with a next button to the next page. \nWhat I've done so far in C# is I created sessions like this:</p>\n\n<pre><code>Session[\"FirstName\"] = txtFirst.Text;\nSession[\"LastName\"] = txtLast.Text;\n</code></pre>\n\n<p>Than what I did is on that Next button I called a javascript function where I tried to access these sessions like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var fn = '&lt;%=Session[\"FirstName\"]%&gt;';\n    var ln = '&lt;%=Session[\"LastName\"]%&gt;';\n&lt;/script&gt; \n</code></pre>\n\n<p>But it's not working, when I am debugging it gets exactly what we entered inside quotes: <a href=\"http://prntscr.com/ag3wdo\" rel=\"nofollow\">http://prntscr.com/ag3wdo</a></p>\n"}, {"tags": ["c#", "xaml"], "comments": [{"owner": {"reputation": 718, "user_id": 2455627, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/hwtDb.jpg?s=128&g=1", "display_name": "Gordon Allocman", "link": "https://stackoverflow.com/users/2455627/gordon-allocman"}, "edited": false, "score": 1, "creation_date": 1458157899, "post_id": 36045243, "comment_id": 59739786, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/4660142/what-is-a-nullreferenceexception-and-how-do-i-fix-it\" title=\"what is a nullreferenceexception and how do i fix it\">stackoverflow.com/questions/4660142/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 714, "user_id": 4560635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cmlM6.png?s=128&g=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/4560635/jeremy"}, "is_accepted": false, "score": 0, "last_activity_date": 1458156942, "creation_date": 1458156942, "answer_id": 36045361, "question_id": 36045243, "link": "https://stackoverflow.com/questions/36045243/app-crashes-when-i-navigate-to-another-frame/36045361#36045361", "title": "App crashes when I navigate to another frame", "body": "<p>A <code>NullReferenceException</code> occurs when trying to access a member of an object which is <code>null</code>.</p>\n\n<p>This is likely happening within your code.  Reproduce the error while running your application in Debug mode, and view the call stack/current point of execution when you encounter the exception.  It should then be clear to you in which statement your code is trying to access a member of a <code>null</code> object.</p>\n"}], "owner": {"reputation": 1, "user_id": 5987563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b289635740198d6ae4297089ee116d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lorenzo Laiti", "link": "https://stackoverflow.com/users/5987563/lorenzo-laiti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458157826, "creation_date": 1458156550, "last_edit_date": 1458157826, "question_id": 36045243, "link": "https://stackoverflow.com/questions/36045243/app-crashes-when-i-navigate-to-another-frame", "title": "App crashes when I navigate to another frame", "body": "<p>When I click, the second page is loaded, but the application crashes with <code>System.NullReferenceException</code>:</p>\n\n<pre><code>private async void Forecast_Click(object sender, RoutedEventArgs e)\n{\n    await\n    CoreApplication.MainView.CoreWindow.Dispatcher.RunAsync(\n            CoreDispatcherPriority.Normal,\n            () =&gt; {\n                Frame.Navigate(typeof(Forecast), null);\n            }\n    );\n}\n</code></pre>\n"}, {"tags": ["c#", "regex", "attributes"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1458156558, "post_id": 36045194, "comment_id": 59738920, "body": "You require the first character to be either a letter or a digit with <code>@&quot;^[a-zA-Z0-9]&quot;</code>. It does not seem what you need. Try <code>@&quot;^(?=\\D*\\d)(?=[^a-zA-Z]*[a-zA-Z])[a-zA-Z0-9]*$&quot;</code>. It will work <a href=\"https://regex101.com/r/yA6eJ3/1\" rel=\"nofollow noreferrer\">like this</a>."}, {"owner": {"reputation": 1623, "user_id": 581581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2cd6e8dd5168c043cd3c696b0b23bc5f?s=128&d=identicon&r=PG", "display_name": "CsharpBeginner", "link": "https://stackoverflow.com/users/581581/csharpbeginner"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1458156742, "post_id": 36045194, "comment_id": 59739055, "body": "I don&#39;t want to require the first character to be anything. Just the entire string only alpha or numeric. What ever order. I&#39;ll give it a shot. thanks"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1458156906, "post_id": 36045194, "comment_id": 59739163, "body": "<i>Just the entire string only alpha or numeric</i> sounds as if you want to allow <code>12345</code> or <code>asdf</code> like strings. However, you wrote something different in the question. I think you need  a regex to allow a string that should contain both at least 1 digit and at least 1 letter, and be composed from only letters and digits. Right?"}, {"owner": {"reputation": 1623, "user_id": 581581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2cd6e8dd5168c043cd3c696b0b23bc5f?s=128&d=identicon&r=PG", "display_name": "CsharpBeginner", "link": "https://stackoverflow.com/users/581581/csharpbeginner"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1458157237, "post_id": 36045194, "comment_id": 59739372, "body": "yes 1234 or &quot;aasdf&quot; or &quot;adsf1234&quot;. No&quot; asdf-1234&quot; or &quot;adsf^&amp;%&quot; No special characters allowed. So when they do the error message should show. it can be all letters or all numbers or a mix. But no special characters."}], "answers": [{"comments": [{"owner": {"reputation": 1623, "user_id": 581581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2cd6e8dd5168c043cd3c696b0b23bc5f?s=128&d=identicon&r=PG", "display_name": "CsharpBeginner", "link": "https://stackoverflow.com/users/581581/csharpbeginner"}, "edited": false, "score": 0, "creation_date": 1458158500, "post_id": 36045593, "comment_id": 59740152, "body": "I get an error when I put &quot; var regex = new Regex(@&quot;^[a-zA-Z0-9]*$&quot;);&quot; above &quot;public string ProgramCode&quot; Also the using statement appears grey and not like my other using statements."}, {"owner": {"reputation": 714, "user_id": 4560635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cmlM6.png?s=128&g=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/4560635/jeremy"}, "reply_to_user": {"reputation": 1623, "user_id": 581581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2cd6e8dd5168c043cd3c696b0b23bc5f?s=128&d=identicon&r=PG", "display_name": "CsharpBeginner", "link": "https://stackoverflow.com/users/581581/csharpbeginner"}, "edited": false, "score": 0, "creation_date": 1458158924, "post_id": 36045593, "comment_id": 59740381, "body": "I have edited my answer to include what your code would look like now - you only need to add the <code>*</code> and the <code>$</code>."}], "tags": [], "owner": {"reputation": 714, "user_id": 4560635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cmlM6.png?s=128&g=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/4560635/jeremy"}, "is_accepted": true, "score": 1, "last_activity_date": 1458158887, "last_edit_date": 1458158887, "creation_date": 1458157665, "answer_id": 36045593, "question_id": 36045194, "link": "https://stackoverflow.com/questions/36045194/regular-expression-attribute-that-only-allows-alpha-numeric-characters/36045593#36045593", "title": "Regular expression Attribute that only allows alpha numeric characters", "body": "<p>Your regular expression is nearly correct.  It will match any string in which the first character matches <code>[0-9A-Za-z]</code>.  Two things are missing; see the example and following explanation:</p>\n\n<p>Script:</p>\n\n<pre><code>using System;\nusing System.Text.RegularExpressions;\n\nvar regex = new Regex(@\"^[a-zA-Z0-9]*$\");\nConsole.WriteLine(regex.IsMatch(\"asdf\"));      // True\nConsole.WriteLine(regex.IsMatch(\"\"));          // True\nConsole.WriteLine(regex.IsMatch(\"123abcABC\")); // True\nConsole.WriteLine(regex.IsMatch(\"&amp;%&amp;\"));       // False\n</code></pre>\n\n<p>Explanation:</p>\n\n<ul>\n<li><code>^</code> denotes the beginning</li>\n<li><strong><code>$</code> denotes the end</strong></li>\n<li><strong><code>*</code> matches zero or more characters</strong></li>\n</ul>\n\n<p>Adding the <code>*</code> and <code>$</code> in the way I've done above ensures that any and all matches will consist <em>entirely</em> of zero or more characters matching <code>[0-9A-Za-z]</code>.</p>\n\n<p>So your example would look like this:</p>\n\n<pre><code>[Required(ErrorMessage = (\"Only alpha numeric characters are allowed.\")), Display(Name = \"Program Codes\"), RegularExpression(@\"^[a-zA-Z0-9]*$\")]\npublic string ProgramCode\n{\n    get \n    {\n        return _programCode;\n    }\n    set\n    {\n        if (OnPropertyChanging(\"ProgramCode\", _programCode, value))\n        {\n            var oldValue = _programCode;\n            _programCode = value;\n            OnPropertyChanged(\"ProgramCode\", oldValue, value);\n            OnProgramCodeChanged();\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1623, "user_id": 581581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2cd6e8dd5168c043cd3c696b0b23bc5f?s=128&d=identicon&r=PG", "display_name": "CsharpBeginner", "link": "https://stackoverflow.com/users/581581/csharpbeginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1187, "favorite_count": 0, "accepted_answer_id": 36045593, "answer_count": 1, "score": 0, "last_activity_date": 1458158887, "creation_date": 1458156364, "question_id": 36045194, "link": "https://stackoverflow.com/questions/36045194/regular-expression-attribute-that-only-allows-alpha-numeric-characters", "title": "Regular expression Attribute that only allows alpha numeric characters", "body": "<p>Using the expression below The error message shows when I enter \"asdf\" or \"%#$%#$\"</p>\n\n<p>I only want to allow alpha numeric characters. Whats wrong with my syntax below?</p>\n\n<pre><code> [Required(ErrorMessage = (\"Only alpha numeric characters are allowed.\")), Display(Name = \"Program Codes\"), RegularExpression(@\"^[a-zA-Z0-9]\")]\n    public string ProgramCode\n    {\n        get \n        {\n            return _programCode;\n        }\n        set\n        {\n            if (OnPropertyChanging(\"ProgramCode\", _programCode, value))\n            {\n                var oldValue = _programCode;\n                _programCode = value;\n                OnPropertyChanged(\"ProgramCode\", oldValue, value);\n                OnProgramCodeChanged();\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", "entity-framework", "spatial", "sqlgeography"], "answers": [{"tags": [], "owner": {"reputation": 34546, "user_id": 1216612, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/SluAb.jpg?s=128&g=1", "display_name": "JotaBe", "link": "https://stackoverflow.com/users/1216612/jotabe"}, "is_accepted": false, "score": 2, "last_activity_date": 1458210066, "creation_date": 1458210066, "answer_id": 36057635, "question_id": 36045172, "link": "https://stackoverflow.com/questions/36045172/check-if-dbgeography-point-is-on-a-line/36057635#36057635", "title": "Check if DbGeography Point is on a line", "body": "<p>Checking if a point is in a line only works in theoretical matehmatics. In the real world there is no such accuracy that allows to assert if a point is in a line or not.</p>\n\n<p>In the real world your problem is solved by checking if the distance between the point and the line is smaller than a given threshold.</p>\n\n<p>So you need to use public <a href=\"https://msdn.microsoft.com/en-us/library/system.data.spatial.dbgeography.distance(v=vs.110).aspx\" rel=\"nofollow\">Nullable Distance(DbGeography other)</a>:</p>\n\n<pre><code>var pointInLine = point.Distance(line) &lt; threshold;\n</code></pre>\n"}], "owner": {"reputation": 580, "user_id": 2868471, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e201ea9dbee32e461835c735cd0c241d?s=128&d=identicon&r=PG&f=1", "display_name": "jasdefer", "link": "https://stackoverflow.com/users/2868471/jasdefer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458210066, "creation_date": 1458156298, "question_id": 36045172, "link": "https://stackoverflow.com/questions/36045172/check-if-dbgeography-point-is-on-a-line", "title": "Check if DbGeography Point is on a line", "body": "<p>I am searching for a method or algorithm similar to <a href=\"https://msdn.microsoft.com/en-us/library/system.data.spatial.dbgeography.intersects(v=vs.110).aspx\" rel=\"nofollow\">DbGeography.Intersects()</a>. This method compares two lines and returns true, if they cross each other. If they don't touch each other, or one line ends directly on the other line, it returns false. Is there a way to determine, if one lines ends directly on the other line?</p>\n"}, {"tags": ["c#", ".net", "winforms", "button"], "comments": [{"owner": {"reputation": 2820, "user_id": 2562283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ef4e835ba48416df3d5607ae1a89bbf?s=128&d=identicon&r=PG", "display_name": "E. Moffat", "link": "https://stackoverflow.com/users/2562283/e-moffat"}, "edited": false, "score": 0, "creation_date": 1458156482, "post_id": 36045153, "comment_id": 59738877, "body": "Can you elaborate on what &quot;create a button from a string&quot; means? Are you trying to associate a string with a button in some way?"}, {"owner": {"reputation": 337, "user_id": 5330864, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/93841abc68be872a36a148f43ce21a8e?s=128&d=identicon&r=PG&f=1", "display_name": "Gewoo", "link": "https://stackoverflow.com/users/5330864/gewoo"}, "reply_to_user": {"reputation": 2820, "user_id": 2562283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ef4e835ba48416df3d5607ae1a89bbf?s=128&d=identicon&r=PG", "display_name": "E. Moffat", "link": "https://stackoverflow.com/users/2562283/e-moffat"}, "edited": false, "score": 0, "creation_date": 1458156583, "post_id": 36045153, "comment_id": 59738945, "body": "@E.Moffat I am sorry for the vague title, I would like to create the button name from a string. As I&#39;ve shown in my example. Button &quot;myButton&quot; = new Button();"}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1458156674, "post_id": 36045153, "comment_id": 59739007, "body": "<i>&quot; I know how to access a button by a string if it is already created&quot;</i> how are you planning to do that? I think you&#39;ll find they are searching by the <code>Name</code> property of a button and don&#39;t care at all what the local variable name is. Example <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.control.controlcollection.find(v=vs.100).aspx\" rel=\"nofollow noreferrer\">ControlCollection.Find</a> is searching the <code>Name</code> of a control, which is different than any local variable name"}, {"owner": {"reputation": 11104, "user_id": 469563, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XsY1A.jpg?s=128&g=1", "display_name": "GendoIkari", "link": "https://stackoverflow.com/users/469563/gendoikari"}, "edited": false, "score": 0, "creation_date": 1458156682, "post_id": 36045153, "comment_id": 59739020, "body": "It sounds like what you&#39;re trying to do is name a variable from a string... this has nothing to do with creating a button."}, {"owner": {"reputation": 2820, "user_id": 2562283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ef4e835ba48416df3d5607ae1a89bbf?s=128&d=identicon&r=PG", "display_name": "E. Moffat", "link": "https://stackoverflow.com/users/2562283/e-moffat"}, "edited": false, "score": 1, "creation_date": 1458156703, "post_id": 36045153, "comment_id": 59739028, "body": "You can&#39;t create a code identifier <code>myButton</code> from a string that is determined later (after compilation), such as <code>&quot;myButton&quot;</code>. The best you can do is use an associative container like a Dictionary, or set the <code>Name</code> property on the <code>Button</code>."}, {"owner": {"reputation": 842, "user_id": 1198986, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6af477723fb832487f84973e990d2466?s=128&d=identicon&r=PG", "display_name": "libertylocked", "link": "https://stackoverflow.com/users/1198986/libertylocked"}, "edited": false, "score": 0, "creation_date": 1458156708, "post_id": 36045153, "comment_id": 59739034, "body": "Use a Dictionary maybe? Map &quot;myButton&quot; string to myButton object. You know variable names mean nothing to the compiler right?"}, {"owner": {"reputation": 337, "user_id": 5330864, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/93841abc68be872a36a148f43ce21a8e?s=128&d=identicon&r=PG&f=1", "display_name": "Gewoo", "link": "https://stackoverflow.com/users/5330864/gewoo"}, "reply_to_user": {"reputation": 842, "user_id": 1198986, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6af477723fb832487f84973e990d2466?s=128&d=identicon&r=PG", "display_name": "libertylocked", "link": "https://stackoverflow.com/users/1198986/libertylocked"}, "edited": false, "score": 0, "creation_date": 1458156924, "post_id": 36045153, "comment_id": 59739174, "body": "@LibertyLocked But when I use a dictionary am I able to change the properties of the button? Like the position?"}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1458156995, "post_id": 36045153, "comment_id": 59739220, "body": "@J.Doe: Yes, of course. A button can be both added to a form and added to your dictionary. You can use the dictionary to quickly find buttons and you&#39;ll get a reference to the <i>same object</i> as the one you added to the form."}, {"owner": {"reputation": 337, "user_id": 5330864, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/93841abc68be872a36a148f43ce21a8e?s=128&d=identicon&r=PG&f=1", "display_name": "Gewoo", "link": "https://stackoverflow.com/users/5330864/gewoo"}, "reply_to_user": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1458157108, "post_id": 36045153, "comment_id": 59739302, "body": "@MattBurland Thanks for your comment, These are really helpful but I have one last question: How can I place the button from the Dictionary?"}, {"owner": {"reputation": 842, "user_id": 1198986, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6af477723fb832487f84973e990d2466?s=128&d=identicon&r=PG", "display_name": "libertylocked", "link": "https://stackoverflow.com/users/1198986/libertylocked"}, "edited": false, "score": 0, "creation_date": 1458157217, "post_id": 36045153, "comment_id": 59739361, "body": "Alternatively, you can set <code>myButton.Name</code> and use LINQ to search for it in your form&#39;s <code>Controls</code>"}], "answers": [{"tags": [], "owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "is_accepted": true, "score": 2, "last_activity_date": 1458157298, "creation_date": 1458157298, "answer_id": 36045478, "question_id": 36045153, "link": "https://stackoverflow.com/questions/36045153/create-a-variable-for-a-button-from-a-string/36045478#36045478", "title": "Create a variable for a button from a string", "body": "<p>Assuming you are using <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.control.controlcollection.find(v=vs.100).aspx\" rel=\"nofollow\">ControlCollection.Find</a> to find your controls by a string, then note the MSDN entry:</p>\n\n<blockquote>\n  <p>Searches for controls by their Name property and builds an array of all the controls that match.</p>\n</blockquote>\n\n<p>It doesn't care what (if any) variable name the button was assigned to (nor can it know or use it in any useful way), it cares only about the <code>Name</code> property of your button. So you could do something like this:</p>\n\n<pre><code>var IDontCareWhatThisIsCalled = new Button()\n{\n    Name = \"myButton\"\n};\nsomeForm.Controls.Add(IDontCareWhatThisIsCalled);\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>var thatButton = someForm.Controls.Find(\"myButton\");\n</code></pre>\n\n<p>However, if you have a bunch of buttons that you need to be able to look up by name, then the best option is probably to put them in a <code>Dictionary&lt;string,Button&gt;</code>:</p>\n\n<pre><code>Dictionary&lt;string,Button&gt; buttonDictionary = new Dictionary&lt;string,Button&gt;();\n// ....\nvar b = new Button();\nbuttonDictionary[\"myButton\"] = b;\nsomeForm.Controls.Add(b);\n// ...\n// To retrieve later:\nvar thatButton = buttonDictionary[\"myButton\"];   // Note if the key doesn't exist, it will\n                                                 // throw an exception - so check first\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 5330864, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/93841abc68be872a36a148f43ce21a8e?s=128&d=identicon&r=PG&f=1", "display_name": "Gewoo", "link": "https://stackoverflow.com/users/5330864/gewoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2209, "favorite_count": 0, "accepted_answer_id": 36045478, "answer_count": 1, "score": 1, "last_activity_date": 1458157582, "creation_date": 1458156261, "last_edit_date": 1458156751, "question_id": 36045153, "link": "https://stackoverflow.com/questions/36045153/create-a-variable-for-a-button-from-a-string", "title": "Create a variable for a button from a string", "body": "<p>so I would like to create a button from a string. I know how to access a button by a string if it is already created but that isn't the case atm.</p>\n\n<p>Like this: <code>Button \"myButton\" = new Button();</code></p>\n\n<p>But of course that does not work, is this possible to do?</p>\n"}, {"tags": ["c#", ".net", "sorting", "generics"], "answers": [{"comments": [{"owner": {"reputation": 1325, "user_id": 3456453, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b7522ce45c032cc3a41e5377a86ea8fd?s=128&d=identicon&r=PG&f=1", "display_name": "levelonehuman", "link": "https://stackoverflow.com/users/3456453/levelonehuman"}, "edited": false, "score": 1, "creation_date": 1458156646, "post_id": 36045171, "comment_id": 59738986, "body": "This sounds like it could be the right thing to do, but an example of this with some explanation would make for a far better answer. As it stands, this should probably just be a comment."}, {"owner": {"reputation": 1594, "user_id": 2762516, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9f4d804f3374a750732ccaa7c92b1a36?s=128&d=identicon&r=PG", "display_name": "Casey", "link": "https://stackoverflow.com/users/2762516/casey"}, "edited": false, "score": 0, "creation_date": 1458159796, "post_id": 36045171, "comment_id": 59740925, "body": "I have never used IComparer before, I will look into that. Thanks"}], "tags": [], "owner": {"reputation": 366, "user_id": 5500271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6109c831e5621569fae881d4062a931e?s=128&d=identicon&r=PG&f=1", "display_name": "mattman", "link": "https://stackoverflow.com/users/5500271/mattman"}, "is_accepted": false, "score": 0, "last_activity_date": 1458157590, "last_edit_date": 1458157590, "creation_date": 1458156297, "answer_id": 36045171, "question_id": 36045090, "link": "https://stackoverflow.com/questions/36045090/how-to-sort-object-property-in-list-by-first-two-characters-then-alpha/36045171#36045171", "title": "How to sort object property in list by first two characters then alpha", "body": "<p>Implement IComparer and put custom logic in Compare.</p>\n"}, {"comments": [{"owner": {"reputation": 1325, "user_id": 3456453, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b7522ce45c032cc3a41e5377a86ea8fd?s=128&d=identicon&r=PG&f=1", "display_name": "levelonehuman", "link": "https://stackoverflow.com/users/3456453/levelonehuman"}, "edited": false, "score": 0, "creation_date": 1458156714, "post_id": 36045198, "comment_id": 59739037, "body": "I can&#39;t believe <code>linq</code> <i>actually</i> has a <code>.ThenBy()</code> method - learn something new every day!"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "reply_to_user": {"reputation": 1325, "user_id": 3456453, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b7522ce45c032cc3a41e5377a86ea8fd?s=128&d=identicon&r=PG&f=1", "display_name": "levelonehuman", "link": "https://stackoverflow.com/users/3456453/levelonehuman"}, "edited": false, "score": 1, "creation_date": 1458156904, "post_id": 36045198, "comment_id": 59739159, "body": "@levelonehuman <code>OrderBy</code> and <code>OrderByDescending</code> actually return a <code>IOrderedEnumerable&lt;TSource&gt;</code> and <code>TheyBy</code> and <code>ThenByDescending</code> are defined as extension methods on that interface.  It basically keeps track of the set of orderings."}], "tags": [], "owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "is_accepted": false, "score": 4, "last_activity_date": 1458156378, "last_edit_date": 1592644375, "creation_date": 1458156378, "answer_id": 36045198, "question_id": 36045090, "link": "https://stackoverflow.com/questions/36045090/how-to-sort-object-property-in-list-by-first-two-characters-then-alpha/36045198#36045198", "title": "How to sort object property in list by first two characters then alpha", "body": "<p>You can achieve that with something like.</p>\n<pre><code>var list = new List&lt;string&gt; { &quot;AB10001&quot;, &quot;CA20003&quot;, &quot;CA20001&quot; };\n\nvar ordered = list.OrderByDescending(s =&gt; s.StartsWith(&quot;CA&quot;)).ThenBy(s =&gt; s);\n\nforeach(var o in ordered) Console.WriteLine(o);\n</code></pre>\n<p>which outputs</p>\n<blockquote>\n<p>CA20001</p>\n<p>CA20003</p>\n<p>AB10001</p>\n</blockquote>\n<p>Basically you first order everything by whether or not it begins with &quot;CA&quot; then by the actual string value.  You have to use descending because <code>false</code> is considered to be less than <code>true</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1458157041, "post_id": 36045260, "comment_id": 59739252, "body": "That will work with the specific data, but if there could be a value like &quot;100&quot; in there that would come before the strings that start with &quot;CA&quot;."}, {"owner": {"reputation": 34594, "user_id": 446279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37a20faec161bcc7485b3c292a2f931e?s=128&d=identicon&r=PG", "display_name": "vc 74", "link": "https://stackoverflow.com/users/446279/vc-74"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1458157130, "post_id": 36045260, "comment_id": 59739315, "body": "@juharr True but the OP wrote &#39;Well, the first part of every policy number is alpha charater, then all numeric&#39; I don&#39;t see any reason to over engineer the thing here"}, {"owner": {"reputation": 1594, "user_id": 2762516, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9f4d804f3374a750732ccaa7c92b1a36?s=128&d=identicon&r=PG", "display_name": "Casey", "link": "https://stackoverflow.com/users/2762516/casey"}, "edited": false, "score": 0, "creation_date": 1458159610, "post_id": 36045260, "comment_id": 59740812, "body": "That is one rule I can rely on being true is index(0,2) always character."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1458167809, "post_id": 36045260, "comment_id": 59745005, "body": "If you encapsulate the policy number in its own class then that rule becomes easier to enforce. You can make it literally impossible to create an invalid policy number."}], "tags": [], "owner": {"reputation": 34594, "user_id": 446279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37a20faec161bcc7485b3c292a2f931e?s=128&d=identicon&r=PG", "display_name": "vc 74", "link": "https://stackoverflow.com/users/446279/vc-74"}, "is_accepted": true, "score": 1, "last_activity_date": 1458156590, "creation_date": 1458156590, "answer_id": 36045260, "question_id": 36045090, "link": "https://stackoverflow.com/questions/36045090/how-to-sort-object-property-in-list-by-first-two-characters-then-alpha/36045260#36045260", "title": "How to sort object property in list by first two characters then alpha", "body": "<p>You can try the following:</p>\n\n<pre><code>const string CAHeader = \"CA\";\n\nIEnumerable&lt;string&gt; sorted = \n  list.OrderBy(s =&gt; s.StartsWith(CAHeader) ? s.Substring(CAHeader.Length) : s);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": false, "score": 0, "last_activity_date": 1458161577, "last_edit_date": 1458161577, "creation_date": 1458159903, "answer_id": 36046235, "question_id": 36045090, "link": "https://stackoverflow.com/questions/36045090/how-to-sort-object-property-in-list-by-first-two-characters-then-alpha/36046235#36046235", "title": "How to sort object property in list by first two characters then alpha", "body": "<p>Here's an <code>IComparer</code> implementation. It's about 1200% more lines of code than juharr's solution. But it could be handy in certain scenarios that I haven't thought of yet.</p>\n\n<p>The comparer:</p>\n\n<pre><code>public class PolicyComparer : IComparer&lt;Policy&gt;\n{\n    public static PolicyComparer Instance { get; } = new PolicyComparer();\n\n    public int Compare(Policy x, Policy y)\n    {\n        return x.PolicyNumber.StartsWith(\"CA\") ^ y.PolicyNumber.StartsWith(\"CA\") \n            ? (x.PolicyNumber.StartsWith(\"CA\") ? -1 : 1)\n            : string.Compare(x.PolicyNumber, y.PolicyNumber, StringComparison.Ordinal);\n    }\n}\n</code></pre>\n\n<p>An extension for sorting:</p>\n\n<pre><code>public static class PolicyExtensions\n{\n    public static IEnumerable&lt;Policy&gt; Sort(this IEnumerable&lt;Policy&gt; unsortedPolicies)\n    {\n        var sorted = new List&lt;Policy&gt;(unsortedPolicies);\n        sorted.Sort(PolicyComparer.Instance);\n        return sorted;\n    }\n}\n</code></pre>\n\n<p>The <code>Policy</code> class I used for testing:</p>\n\n<pre><code>public class Policy\n{\n    public string PolicyNumber { get; set; }\n}\n</code></pre>\n\n<p>A unit test:</p>\n\n<pre><code>    [TestMethod]\n    public void PoliciesAreSortedByCAfirst()\n    {\n        var unsorted = new Policy[]\n        {\n            new Policy {PolicyNumber = \"AB10001\"},\n            new Policy {PolicyNumber = \"CA20003\"},\n            new Policy {PolicyNumber = \"CA20001\"}\n        };\n\n        var sorted = unsorted.Sort();\n\n        var expectedOrder = new string[] {\"CA20001\", \"CA20003\", \"AB10001\"};\n        Assert.IsTrue(expectedOrder.SequenceEqual(sorted.Select(policy=&gt;policy.PolicyNumber)));\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": false, "score": 0, "last_activity_date": 1458164302, "creation_date": 1458164302, "answer_id": 36047457, "question_id": 36045090, "link": "https://stackoverflow.com/questions/36045090/how-to-sort-object-property-in-list-by-first-two-characters-then-alpha/36047457#36047457", "title": "How to sort object property in list by first two characters then alpha", "body": "<p>I was looking at this wrong. What needs to be sortable isn't the policy. It's the policy <em>number</em>. It's actually not a bad idea to declare the policy number as a separate class rather than using a string. The reason is that you can \"hide\" its implementation. Maybe at some point a policy \"number\" becomes a combination of two fields.</p>\n\n<p>That makes even more sense because the policy number has its own logic that has nothing to do with <code>Policy</code>. It has a custom sort order. It probably has its own rules for validation. If it's just a string attached to a <code>Policy</code> then <code>Policy</code> has to own all that. And it's not unrealistic that you might want to put a policy number on something that isn't itself a policy, like a claim against a policy. (This is the sort of ID that probably shows up everywhere.)</p>\n\n<p>Here's a solution from that angle:</p>\n\n<pre><code>public class PolicyNumber : IComparable\n{\n    private readonly string _number;\n\n    public PolicyNumber(string number)\n    {\n        _number = number;\n    }\n\n    public int CompareTo(object obj)\n    {\n        var other = obj as PolicyNumber;\n        if (other == null) return 0;\n        return _number.StartsWith(\"CA\") ^ other._number.StartsWith(\"CA\")\n            ? (_number.StartsWith(\"CA\") ? -1 : 1)\n            : string.Compare(_number, other._number, StringComparison.Ordinal);\n    }\n\n    public override string ToString()\n    {\n        return _number;\n    }\n\n    public override bool Equals(object obj)\n    {\n        var other = obj as PolicyNumber;\n        return other != null &amp;&amp; string.Equals(_number, other._number);\n    }\n\n    protected bool Equals(PolicyNumber other)\n    {\n        return string.Equals(_number, other._number);\n    }\n\n    public override int GetHashCode()\n    {\n        return (_number != null ? _number.GetHashCode() : 0);\n    }\n}\n</code></pre>\n\n<p>And the unit test:</p>\n\n<pre><code>[TestClass]\npublic class UnitTest1\n{\n    [TestMethod]\n    public void PoliciesAreSortedByCAfirst()\n    {\n        var unsorted = new Policy[]\n        {\n            new Policy{Number = new PolicyNumber(\"AB10001\")},\n            new Policy{Number = new PolicyNumber(\"CA20003\")},\n            new Policy{Number = new PolicyNumber(\"CA20001\")}\n        };\n\n        var sorted = unsorted.OrderBy(policy =&gt; policy.Number);\n        var expectedOrder = new Policy[]\n        {\n            unsorted[2], unsorted[1], unsorted[0]\n        };\n        Assert.IsTrue(expectedOrder.SequenceEqual(sorted));\n    }\n}\n</code></pre>\n\n<p>Notice how that allows <code>PolicyNumber</code> to \"own\" its own logic. Classes that use it just sort it without knowing or caring how it is sorted. And you can still compare it for equality just like a string.</p>\n\n<p>The unit test shows how easy that is to use. Instead of asking something to sort it for you, you just sort it. If it's a <code>Policy</code> with a policy number you can sort it by the policy number or by something else.</p>\n"}], "owner": {"reputation": 1594, "user_id": 2762516, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9f4d804f3374a750732ccaa7c92b1a36?s=128&d=identicon&r=PG", "display_name": "Casey", "link": "https://stackoverflow.com/users/2762516/casey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 36045260, "answer_count": 5, "score": 2, "last_activity_date": 1458164302, "creation_date": 1458156054, "question_id": 36045090, "link": "https://stackoverflow.com/questions/36045090/how-to-sort-object-property-in-list-by-first-two-characters-then-alpha", "title": "How to sort object property in list by first two characters then alpha", "body": "<p>I have a list of objects. The objects are insurance policies. Well, the first part of every policy number is alpha charater, then all numeric. I need to sort all policies with policy number starting with CA first in the list, then by alpha numeric after that. For example, if I have three policies, AB10001, CA20001, CA20003, the order should be all \"CA\" first, then sort rest like below:<code>enter code here</code></p>\n\n<pre><code>CA20001\nCA20003\nAB10001\n</code></pre>\n\n<p>What is throwing me off, as I understand regular sorts, is how to get all CA first since they do not apply to alpha order.  I think possibly, pull all of the CA prefixed policy names into a new list, then order those by numeric. Then sort the leftovers in a second list. Then append the second list to the \"CA\" sorted list if that makes sense. There must be a cleaner way though using lambda.</p>\n"}, {"tags": ["c#", "asp.net-mvc-4", "iis", "windows-authentication"], "answers": [{"comments": [{"owner": {"reputation": 1037, "user_id": 5909227, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0c26a3ebb3e603b06723ab605b4085f8?s=128&d=identicon&r=PG&f=1", "display_name": "Chara", "link": "https://stackoverflow.com/users/5909227/chara"}, "edited": false, "score": 0, "creation_date": 1458223488, "post_id": 36045651, "comment_id": 59772243, "body": "Those settings are right. Windows Authentication should authenticate the user right when they enter the page correct? Then I&#39;m checking <code>if base.isAuthorized(actionContext)</code> when the user clicks something, and it evaluates to <code>false</code>, hence why I&#39;m getting prompted for credentials again.."}], "tags": [], "owner": {"reputation": 3571, "user_id": 2018731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134baab491cb1a3ebff752e5ea96dcaa?s=128&d=identicon&r=PG", "display_name": "RogerN", "link": "https://stackoverflow.com/users/2018731/rogern"}, "is_accepted": false, "score": 0, "last_activity_date": 1458157857, "creation_date": 1458157857, "answer_id": 36045651, "question_id": 36045048, "link": "https://stackoverflow.com/questions/36045048/integrated-windows-authentication-not-working-for-mvc-net-web-app-on-iis/36045651#36045651", "title": "Integrated Windows Authentication not working for MVC .NET web app on IIS", "body": "<p>Authentication settings can be different for each web site on the server.  Check your IIS settings for this particular web site.  Make sure that Windows Authentication is enabled, and that Anonymous Authentication is <em>disabled</em>.</p>\n"}], "owner": {"reputation": 1037, "user_id": 5909227, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0c26a3ebb3e603b06723ab605b4085f8?s=128&d=identicon&r=PG&f=1", "display_name": "Chara", "link": "https://stackoverflow.com/users/5909227/chara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 529, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458157857, "creation_date": 1458155927, "question_id": 36045048, "link": "https://stackoverflow.com/questions/36045048/integrated-windows-authentication-not-working-for-mvc-net-web-app-on-iis", "title": "Integrated Windows Authentication not working for MVC .NET web app on IIS", "body": "<p>I'm working on a .NET MVC web app, and I'm using Windows authentication. My IE has \"Integrated Windows Authentication\" enabled, and it works when I navigate to other sites hosted on the same IIS server (a.k.a I am not prompted for login). However when I go to this one page and call an API method, <code>base.isAuthorized(actionContext)</code> evaluates to <code>false</code> in the C# code, resulting in me being shown the login dialog. Correct me if I'm wrong, but I thought Windows Authentication would authenticate me right when I enter the webpage... why am I still prompted for credentials?</p>\n"}]