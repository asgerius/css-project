[{"tags": ["c#", "webrequest"], "comments": [{"owner": {"reputation": 346, "user_id": 2407838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e8f78404217bcd8b23e2c1b49f90e6f3?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/2407838/dennis"}, "edited": false, "score": 0, "creation_date": 1496894633, "post_id": 44424554, "comment_id": 75850900, "body": "Gusman is correct. Your code is obsolete. Please refer to the documentation and the code sample at the bottom of this page. <a href=\"https://msdn.microsoft.com/en-us/library/system.net.webrequest(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7347668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6jOb.jpg?s=128&g=1", "display_name": "Aaron Guo", "link": "https://stackoverflow.com/users/7347668/aaron-guo"}, "edited": false, "score": 0, "creation_date": 1496888854, "post_id": 44424665, "comment_id": 75849638, "body": "Thanks,John. I was using Macbook Pro by the parallel virtual machine and the VS version is Enterprise 2017, .net framework is 4.5.2. But after I shifted to a windows laptop, and the code is running perfect. Maybe the problem is the virtual machine ? ... It&#39;s very strange. It seems that I can&#39;t just trust to the virtual machine... Anyway, Thanks for your help !"}, {"owner": {"reputation": 25, "user_id": 7347668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6jOb.jpg?s=128&g=1", "display_name": "Aaron Guo", "link": "https://stackoverflow.com/users/7347668/aaron-guo"}, "edited": false, "score": 0, "creation_date": 1496891607, "post_id": 44424665, "comment_id": 75850250, "body": "It seems that I was too optimistic. When I use Visual Studio 2017, even I build it on Windows Laptop, the error still shown. So, I think there is a high chance that the problem is Visual Studio 2017..."}], "tags": [], "owner": {"reputation": 4271, "user_id": 682840, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/sFX50.jpg?s=128&g=1", "display_name": "John M. Wright", "link": "https://stackoverflow.com/users/682840/john-m-wright"}, "is_accepted": false, "score": 0, "last_activity_date": 1496880789, "creation_date": 1496880789, "answer_id": 44424665, "question_id": 44424554, "link": "https://stackoverflow.com/questions/44424554/using-c-get-content-from-url-get-this-error-webrequest-does-not-contain-a-defi/44424665#44424665", "title": "Using C# get content from URL get this error \u201cWebRequest does not contain a definition for GetRespone and \u2026\u201d", "body": "<p>It looks like <code>reader.Close()</code> is also complaining, which leads me to believe one or more of your referenced assemblies is missing.  Can you check the <code>References</code> folder in your project and see if any have a yellow warning icon on them?</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 7347668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6jOb.jpg?s=128&g=1", "display_name": "Aaron Guo", "link": "https://stackoverflow.com/users/7347668/aaron-guo"}, "edited": false, "score": 0, "creation_date": 1496889049, "post_id": 44424703, "comment_id": 75849680, "body": "Thanks,Gusman. Actually, the code comes from official Microsoft documentation, and some others already run the code without errors. And I found that :  &quot; I was using Macbook Pro by the parallel virtual machine and the VS version is Enterprise 2017, .net framework is 4.5.2. But after I shifted to a windows laptop, and the code is running perfect. Maybe the problem is the virtual machine ? ... It&#39;s very strange. It seems that I can&#39;t just trust to the virtual machine... &quot; Anyway, Thanks for your help ! This is my first question on StackOverFlow, and you gave me a lot of help. Thank you !"}, {"owner": {"reputation": 4271, "user_id": 682840, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/sFX50.jpg?s=128&g=1", "display_name": "John M. Wright", "link": "https://stackoverflow.com/users/682840/john-m-wright"}, "edited": false, "score": 0, "creation_date": 1496889300, "post_id": 44424703, "comment_id": 75849743, "body": "<code>GetResponse</code> is a virtual method defined in the <code>WebRequest</code> class, so it&#39;s inherited by all derived classes which could be returned by <code>WebRequest.Create</code>.  Thus, this answer is incorrect.  Reference: <a href=\"https://msdn.microsoft.com/en-us/library/system.net.webrequest.getresponse(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}, {"owner": {"reputation": 25, "user_id": 7347668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6jOb.jpg?s=128&g=1", "display_name": "Aaron Guo", "link": "https://stackoverflow.com/users/7347668/aaron-guo"}, "reply_to_user": {"reputation": 4271, "user_id": 682840, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/sFX50.jpg?s=128&g=1", "display_name": "John M. Wright", "link": "https://stackoverflow.com/users/682840/john-m-wright"}, "edited": false, "score": 0, "creation_date": 1496890821, "post_id": 44424703, "comment_id": 75850069, "body": "@JohnM.Wright  Yes, you are right. That&#39;s why the Microsoft document use this code as example."}, {"owner": {"reputation": 25, "user_id": 7347668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6jOb.jpg?s=128&g=1", "display_name": "Aaron Guo", "link": "https://stackoverflow.com/users/7347668/aaron-guo"}, "edited": false, "score": 0, "creation_date": 1496891613, "post_id": 44424703, "comment_id": 75850252, "body": "It seems that I was too optimistic. When I use Visual Studio 2017, even I build it on Windows Laptop, the error still shown. So, I think there is a high chance that the problem is Visual Studio 2017..."}], "tags": [], "owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "is_accepted": true, "score": 0, "last_activity_date": 1496881383, "last_edit_date": 1496881383, "creation_date": 1496881057, "answer_id": 44424703, "question_id": 44424554, "link": "https://stackoverflow.com/questions/44424554/using-c-get-content-from-url-get-this-error-webrequest-does-not-contain-a-defi/44424703#44424703", "title": "Using C# get content from URL get this error \u201cWebRequest does not contain a definition for GetRespone and \u2026\u201d", "body": "<p>You must use an HttpWebRequest and HttpWebResponse, not a WebRequest:</p>\n\n<pre><code>using System;\nusing System.IO;\nusing System.Net;\n\nnamespace ConsoleApp1\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            // Create a request for the URL.   \n            HttpWebRequest request = (HttpWebRequest)WebRequest.Create(\n              \"http://www.contoso.com/default.html\");\n            // If required by the server, set the credentials.  \n            request.Credentials = CredentialCache.DefaultCredentials;\n            // Get the response.  \n            HttpWebResponse response = (HttpWebResponse)request.GetResponse();\n\n            // Get the stream containing content returned by the server.  \n            Stream dataStream = response.GetResponseStream();\n            // Open the stream using a StreamReader for easy access.  \n            StreamReader reader = new StreamReader(dataStream);\n            // Read the content.  \n            string responseFromServer = reader.ReadToEnd();\n            // Display the content.  \n            Console.WriteLine(responseFromServer);\n            // Clean up the streams and the response.  \n            reader.Close();\n            response.Close();\n        }\n    }\n}\n</code></pre>\n\n<p>WebRequest.Create will create a derived class of WebRequest with the exact implementation (HttpWebRequest, FtpWebRequest and so on) for the specified address, so you must cast to the concrete implementation to access the concrete functions.</p>\n\n<p>Also, as HttpWebRequest.GetResponse returns the concrete implementation of WebResponse you must cast it, in this case to HttpWebResponse.</p>\n"}], "owner": {"reputation": 25, "user_id": 7347668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6jOb.jpg?s=128&g=1", "display_name": "Aaron Guo", "link": "https://stackoverflow.com/users/7347668/aaron-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 0, "accepted_answer_id": 44424703, "answer_count": 2, "score": 0, "last_activity_date": 1496891600, "creation_date": 1496879929, "last_edit_date": 1496891600, "question_id": 44424554, "link": "https://stackoverflow.com/questions/44424554/using-c-get-content-from-url-get-this-error-webrequest-does-not-contain-a-defi", "title": "Using C# get content from URL get this error \u201cWebRequest does not contain a definition for GetRespone and \u2026\u201d", "body": "<p>This code comes from Microsoft's documentation. I put this code in a Console app and a Windows Form app separately.</p>\n\n<p>In the Console app, there is an error : \u201cWebRequest does not contain a definition for GetRespone and \u2026\u201d</p>\n\n<p>But in the Windows Form app, there is no error.</p>\n\n<p>I really don't know why this happen. I am a beginner of C#, so this question may be stupid. But I feel very confused. Please explain to me. \nThank you!</p>\n\n<p>Below are two screenshots for these two situation:</p>\n\n<p><img src=\"https://i.stack.imgur.com/7sQyw.png\" alt=\"\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/d7Jot.png\" alt=\"\"></p>\n\n<p>Here is the code.</p>\n\n<pre><code>using System;\nusing System.IO;\nusing System.Net;\n\nnamespace ConsoleApp1\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            // Create a request for the URL.   \n            WebRequest request = WebRequest.Create(\n              \"http://www.contoso.com/default.html\");\n            // If required by the server, set the credentials.  \n            request.Credentials = CredentialCache.DefaultCredentials;\n            // Get the response.  \n            WebResponse response = request.GetResponse();\n            // Display the status.  \n            Console.WriteLine(((HttpWebResponse)response).StatusDescription);\n            // Get the stream containing content returned by the server.  \n            Stream dataStream = response.GetResponseStream();\n            // Open the stream using a StreamReader for easy access.  \n            StreamReader reader = new StreamReader(dataStream);\n            // Read the content.  \n            string responseFromServer = reader.ReadToEnd();\n            // Display the content.  \n            Console.WriteLine(responseFromServer);\n            // Clean up the streams and the response.  \n            reader.Close();\n            response.Close();\n        }\n    }\n}\n</code></pre>\n\n<p>Update 1:</p>\n\n<p>I was using Macbook Pro by the parallel virtual machine and the VS version is Enterprise 2017, .net framework is 4.5.2. </p>\n\n<p>But after I shifted to a windows laptop, and the code is running perfect. Maybe the problem is the virtual machine ? ... It's very strange. It seems that I can't just trust to the virtual machine... Anyway, Thanks for helping !</p>\n\n<p>Update 2:</p>\n\n<p>It seems that I was too optimistic. When I use Visual Studio 2017, even I build it on Windows Laptop, the error still shown. So, I think there is a high chance that the problem is Visual Studio 2017...</p>\n"}, {"tags": ["c#", "wpf", "mvvm"], "comments": [{"owner": {"reputation": 4662, "user_id": 901200, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/3qRfi.jpg?s=128&g=1", "display_name": "Agustin Meriles", "link": "https://stackoverflow.com/users/901200/agustin-meriles"}, "edited": false, "score": 1, "creation_date": 1496878856, "post_id": 44424376, "comment_id": 75847307, "body": "That isn&#39;t the recommended approach to achieve something like that. You should Implement <code>INotifyPropertyChanged</code> to <code>TestClass</code> and then handle that event in your ViewModel. The code that raises the MessageBox will be in this handler"}, {"owner": {"reputation": 4651, "user_id": 6138713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kDSMP.jpg?s=128&g=1", "display_name": "jegtugado", "link": "https://stackoverflow.com/users/6138713/jegtugado"}, "reply_to_user": {"reputation": 4662, "user_id": 901200, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/3qRfi.jpg?s=128&g=1", "display_name": "Agustin Meriles", "link": "https://stackoverflow.com/users/901200/agustin-meriles"}, "edited": false, "score": 0, "creation_date": 1496883514, "post_id": 44424376, "comment_id": 75848422, "body": "As @AgustinMeriles said, implement the <code>INotifyPropertyChanged</code> interface. Look up proper mvvm tutorials. There are tons online. You will only need to implement minor changes to your existing <code>TestClass</code>. Btw AFAIK, <code>System.Windows.MessageBox</code> doesn&#39;t work in WPF. I remember that we used to implement our own dialog controls for this."}, {"owner": {"reputation": 1472, "user_id": 2975589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yNmWF.png?s=128&g=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/2975589/maxim"}, "reply_to_user": {"reputation": 4651, "user_id": 6138713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kDSMP.jpg?s=128&g=1", "display_name": "jegtugado", "link": "https://stackoverflow.com/users/6138713/jegtugado"}, "edited": false, "score": 0, "creation_date": 1496892231, "post_id": 44424376, "comment_id": 75850387, "body": "@Ephraim What do you mean <code>System.Windows.MessageBox</code> doesn&#39;t work in WPF? It works fine, I used it many times for test purposes."}], "answers": [{"tags": [], "owner": {"reputation": 1472, "user_id": 2975589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yNmWF.png?s=128&g=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/2975589/maxim"}, "is_accepted": true, "score": 2, "last_activity_date": 1496892551, "creation_date": 1496892551, "answer_id": 44426146, "question_id": 44424376, "link": "https://stackoverflow.com/questions/44424376/how-to-bind-ischecked-to-a-viewmodel-subclass/44426146#44426146", "title": "How to bind IsChecked to a ViewModel subclass", "body": "<p>Turn your <code>TC</code> public field into property and your binding will work.</p>\n\n<pre><code>public TestClass TC { get; }\n</code></pre>\n\n<p>You can learn more about this behavior from <a href=\"https://stackoverflow.com/questions/842575/why-does-wpf-support-binding-to-properties-of-an-object-but-not-fields\">this</a> post.</p>\n"}], "owner": {"reputation": 1157, "user_id": 225013, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/vXe4A.jpg?s=128&g=1", "display_name": "jbudreau", "link": "https://stackoverflow.com/users/225013/jbudreau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 44426146, "answer_count": 1, "score": 0, "last_activity_date": 1496892551, "creation_date": 1496878444, "question_id": 44424376, "link": "https://stackoverflow.com/questions/44424376/how-to-bind-ischecked-to-a-viewmodel-subclass", "title": "How to bind IsChecked to a ViewModel subclass", "body": "<p>I'm trying to make a checkbox bind to a subclass of my ViewModel class (without much luck).</p>\n\n<p>In my ViewModel class...</p>\n\n<pre><code>public class TestClass\n{\n   private bool _TestValue;\n   public bool TestValue\n   {\n      get { return _TestValue; }\n      set\n      {\n         _TestValue = value;\n         System.Windows.MessageBox.Show(\"TestValue = \" + _TestValue);\n      }\n   }\n}\npublic TestClass TC;\n</code></pre>\n\n<p>In my ViewModel constructor...</p>\n\n<pre><code>TC = new TestClass();\nTC.TestValue = false;\n</code></pre>\n\n<p>In my View...</p>\n\n<pre><code>&lt;CheckBox IsChecked=\"{Binding Path=TC.TestValue, Mode=TwoWay}\"&gt;Option 1&lt;/CheckBox&gt;\n</code></pre>\n\n<p>My expectation is that when I toggle the checkbox I should see windows popping up that say \"TestValue = True\" or \"TestValue = False\", but that doesn't happen. What am I missing?</p>\n"}, {"tags": ["c#", "design-patterns"], "comments": [{"owner": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "edited": false, "score": 0, "creation_date": 1496879105, "post_id": 44424353, "comment_id": 75847376, "body": "why do you ask, please give some background or is it just a question to increase  your points."}, {"owner": {"reputation": 2312, "user_id": 6330636, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KwL7RaFztwM/AAAAAAAAAAI/AAAAAAAAADg/34eEeb890LE/photo.jpg?sz=128", "display_name": "Filip Cordas", "link": "https://stackoverflow.com/users/6330636/filip-cordas"}, "edited": false, "score": 0, "creation_date": 1496879254, "post_id": 44424353, "comment_id": 75847403, "body": "Is there any point to this code  seams to be completely redundant? I think you can name it what ever you want as long as you make a good case to this being useful"}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1496880051, "post_id": 44424353, "comment_id": 75847604, "body": "Could you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "reply_to_user": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1496880485, "post_id": 44424353, "comment_id": 75847707, "body": "@Enigmativity: Thanks. Just added."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1496880736, "post_id": 44424353, "comment_id": 75847756, "body": "@Tim - Not quite there yet. If I copy and paste your code it does not compile."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1496880521, "post_id": 44424460, "comment_id": 75847717, "body": "Thanks. how is it a visitor pattern?"}, {"owner": {"reputation": 13531, "user_id": 1384539, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/zpNUp.jpg?s=128&g=1", "display_name": "Thiago Custodio", "link": "https://stackoverflow.com/users/1384539/thiago-custodio"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1496885150, "post_id": 44424460, "comment_id": 75848759, "body": "If you look the method Accept, it looks like the MethodA"}], "tags": [], "owner": {"reputation": 13531, "user_id": 1384539, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/zpNUp.jpg?s=128&g=1", "display_name": "Thiago Custodio", "link": "https://stackoverflow.com/users/1384539/thiago-custodio"}, "is_accepted": false, "score": 0, "last_activity_date": 1496879102, "creation_date": 1496879102, "answer_id": 44424460, "question_id": 44424353, "link": "https://stackoverflow.com/questions/44424353/do-the-following-make-use-of-some-design-patterns/44424460#44424460", "title": "Do the following make use of some design patterns?", "body": "<p>It looks like a light version of the Visitor design pattern:<a href=\"https://i.stack.imgur.com/uklik.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uklik.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>  using System;\n  using System.Text;\n\n  interface IExpressionVisitor\n  {\n    void Visit(Literal literal);\n    void Visit(Addition addition);\n  }\n\n  interface IExpression\n  {\n    void Accept(IExpressionVisitor visitor);\n  }\n\n  class Literal : IExpression\n  {\n    internal double Value { get; set; }\n\n    public Literal(double value)\n    {\n      this.Value = value;\n    }\n    public void Accept(IExpressionVisitor visitor)\n    {\n      visitor.Visit(this);\n    }\n  }\n</code></pre>\n\n<p>extracted from <a href=\"https://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Visitor_pattern</a></p>\n"}], "owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1496880468, "creation_date": 1496878312, "last_edit_date": 1496880468, "question_id": 44424353, "link": "https://stackoverflow.com/questions/44424353/do-the-following-make-use-of-some-design-patterns", "title": "Do the following make use of some design patterns?", "body": "<p>Given </p>\n\n<pre><code>class ClassA\n{\n    void MethodA(ClassB ObjB) {...}\n}\n</code></pre>\n\n<p>do the following make use of some design patterns:</p>\n\n<pre><code>class ClassC: ClassB\n{\n    void MethodC(ClassA ObjA) {ObjA.MethodA(this);}\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>class ClassD\n{   \n    ClassB _objB;\n    void MethodC(ClassA ObjA) {ObjA.MethodA(this._objB);}\n}\n</code></pre>\n\n<p>?</p>\n\n<p>For example</p>\n\n<pre><code>Class MyData\n{\n    int data;\n    void Write(BinaryWriter writer){writer.Write(data);};\n}\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "api", "evernote"], "answers": [{"tags": [], "owner": {"reputation": 395, "user_id": 3073617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iV6OR.jpg?s=128&g=1", "display_name": "Phil Seeman", "link": "https://stackoverflow.com/users/3073617/phil-seeman"}, "is_accepted": true, "score": 0, "last_activity_date": 1496892782, "creation_date": 1496892782, "answer_id": 44426178, "question_id": 44424208, "link": "https://stackoverflow.com/questions/44424208/how-can-i-search-notes-by-sequence-number/44426178#44426178", "title": "How can I search Notes by sequence number", "body": "<p>You'll want to use <a href=\"https://dev.evernote.com/doc/reference/NoteStore.html#Fn_NoteStore_getFilteredSyncChunk\" rel=\"nofollow noreferrer\">GetFilteredSyncChunk</a> using code something like the following:</p>\n\n<pre><code>List&lt;SyncChunk&gt; syncBlocks = new List&lt;SyncChunk&gt;();\nint maxEntries = 250;\n\n// These are sample filter settings; you should use what's appropriate for you based on\n// what data you want returned in your note objects.\nSyncChunkFilter filter = new SyncChunkFilter();\nfilter.IncludeNotes = true;\nfilter.IncludeNoteAttributes = true;\nfilter.IncludeNotebooks = true;\nfilter.IncludeTags = false;\nfilter.IncludeSearches = false;\nfilter.IncludeResources = false;\nfilter.IncludeLinkedNotebooks = false;\nfilter.IncludeExpunged = false;\nfilter.IncludeNoteApplicationDataFullMap = false;\nfilter.IncludeResourceApplicationDataFullMap = false;\nfilter.IncludeNoteResourceApplicationDataFullMap = false;\n\ndo\n{\n    SyncChunk chunk = store.getFilteredSyncChunk(currentUpdateCount, maxEntries, filter);\n    if (chunk == null)\n    {\n        return null;      // This can happen if there is a \"503 - Service unavailable\" error accessing this person's Evernote info\n    }\n    syncBlocks.Add(chunk);\n    currentUpdateCount = chunk.ChunkHighUSN;\n} while (currentUpdateCount &lt; serverSyncState.UpdateCount);\n\nforeach (SyncChunk chunk in syncBlocks)\n{\n    if (chunk != null &amp;&amp; chunk.Notes != null)\n    {\n        foreach (Note chunkNote in chunk.Notes)\n        {\n            // do something with the retrieved chunkNote object\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 201, "user_id": 7474547, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/46fa0e82641e3a5991a1e35bd46cb4d4?s=128&d=identicon&r=PG&f=1", "display_name": "Dzam", "link": "https://stackoverflow.com/users/7474547/dzam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 44426178, "answer_count": 1, "score": 0, "last_activity_date": 1496892782, "creation_date": 1496877274, "question_id": 44424208, "link": "https://stackoverflow.com/questions/44424208/how-can-i-search-notes-by-sequence-number", "title": "How can I search Notes by sequence number", "body": "<p>I use Evernote C# API. I understand how filters working. </p>\n\n<pre><code>ENNoteStoreClient store = ENSessionAdvanced.SharedSession.PrimaryNoteStore;\n            SyncState currentState = store.GetSyncState();\n            int currentUpdateCount = currentState.UpdateCount;\n\n            if (currentUpdateCount &gt; latestUpdateCount)\n            {\n                latestUpdateCount = currentUpdateCount;\n                // Here synchronization code\n            }\n</code></pre>\n\n<p>I have latestUpdateCount and how I can get notes with sequence number >= this number?</p>\n"}, {"tags": ["c#", ".net", "multithreading", "metrolog"], "comments": [{"owner": {"reputation": 26725, "user_id": 213550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cyZ5c.jpg?s=128&g=1", "display_name": "VMAtm", "link": "https://stackoverflow.com/users/213550/vmatm"}, "edited": false, "score": 0, "creation_date": 1497026995, "post_id": 44424203, "comment_id": 75922514, "body": "Is the <code>PacTracLogger</code> thread-safe? If yes, then you&#39;re fine"}, {"owner": {"reputation": 1470, "user_id": 5902558, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e4fd0f1c33e1f57fad38a48a1551a1de?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Bedford", "link": "https://stackoverflow.com/users/5902558/michael-bedford"}, "reply_to_user": {"reputation": 26725, "user_id": 213550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cyZ5c.jpg?s=128&g=1", "display_name": "VMAtm", "link": "https://stackoverflow.com/users/213550/vmatm"}, "edited": false, "score": 0, "creation_date": 1497053124, "post_id": 44424203, "comment_id": 75932979, "body": "@VMAtm I guess I need to research that. I assume that I am but I am not sure. I do have other threads that need to access the logger so it will need to be thread safe. I assumed that by making it a singleton with Lazy initialization, that will make sure it is thread safe. Is there more to it than that?"}, {"owner": {"reputation": 26725, "user_id": 213550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cyZ5c.jpg?s=128&g=1", "display_name": "VMAtm", "link": "https://stackoverflow.com/users/213550/vmatm"}, "edited": false, "score": 1, "creation_date": 1497054249, "post_id": 44424203, "comment_id": 75933168, "body": "By doing it with <code>Lazy</code> you only assure it to be created once <i>and</i> in thread safe fashion. You still have to provide access to that object in thread-safe way, <b>if</b> <code>PacTracLogger</code> is <b>not</b> thread-safe. Otherwise you&#39;re ok."}], "owner": {"reputation": 1470, "user_id": 5902558, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e4fd0f1c33e1f57fad38a48a1551a1de?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Bedford", "link": "https://stackoverflow.com/users/5902558/michael-bedford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 388, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496877254, "creation_date": 1496877254, "question_id": 44424203, "link": "https://stackoverflow.com/questions/44424203/how-does-lazy-initialized-singleton-that-is-thread-safe-handle-multiple-calls-to", "title": "How does Lazy initialized singleton that is thread safe handle multiple calls to instance while it is busy", "body": "<p>I have a singleton class that handles writing to a log file using MetroLog. I have initialized the singleton using Lazy pattern to make sure it is thread safe. Furthermore, MetroLog is apparently thread safe from what I read when making write calls. I did everything this way because I have a large project, with many classes that all need to access the logger. So, the class that wants to log can simply get the instance of the singleton and write to the log in one line of code.</p>\n\n<p>I am getting a fair amount of generic \"ThrowForNonSuccess\" exceptions just after the MetroLog.Targets.Target line. </p>\n\n<p>My question is, even though I assume I am thread safe, what happens if one class gets the instance of the logger singleton and calls to write but before it is done writing, another class tries to get the instance and calls to write? It seems to me that this could be what is generating my exceptions as it would be calling to write to the same log twice? Unless MetroLog is handling that for me behind the scenes?</p>\n\n<p>Here is how I intialized my logger singleton:</p>\n\n<pre><code>public class PacTracLogger\n{\n    public static readonly  Lazy&lt;PacTracLogger&gt; lazy = new Lazy&lt;PacTracLogger&gt;(() =&gt; new PacTracLogger()); \n    public static PacTracLogger Instance { get { return lazy.Value; } }\n\n    private PacTracLogger()\n    {\n\n        LogManagerFactory.DefaultConfiguration.AddTarget(LogLevel.Debug, LogLevel.Fatal,\n            new StreamingFileTarget {RetainDays = RetainDays, KeepLogFilesOpenForWrite = false});\n    }\n}\n</code></pre>\n\n<p>And then here is the call to get and write the logger inside of the singleton as well.</p>\n\n<pre><code>    public void WriteLog&lt;T&gt;(string message, LogLevel logLevel = LogLevel.Debug, Exception exception = null)\n    {\n        if (!Enabled)\n            return;\n\n        var logger = LogManagerFactory.DefaultLogManager.GetLogger&lt;T&gt;();\n\n\n        if (logLevel == LogLevel.Trace &amp;&amp; logger.IsTraceEnabled)\n        {\n            if(exception == null)\n                logger.Trace(message);\n            else\n                logger.Trace(message, exception);\n        }\n        if (logLevel == LogLevel.Debug &amp;&amp; logger.IsDebugEnabled)\n        {\n            if (exception == null)\n                logger.Debug(message);\n            else\n                logger.Debug(message, exception);\n        }\n        if (logLevel == LogLevel.Info &amp;&amp; logger.IsInfoEnabled)\n        {\n            if (exception == null)\n                logger.Info(message);\n\n            else\n                logger.Info(message, exception);\n\n        }\n        if (logLevel == LogLevel.Warn)\n        {\n            if (exception == null)\n                logger.Warn(message);\n            else\n                logger.Warn(message, exception);\n        }\n        if (logLevel == LogLevel.Error &amp;&amp; logger.IsErrorEnabled)\n        {\n            if (exception == null)\n                logger.Error(message);\n            else\n            {\n                var formattedException = FormatException(exception, message);\n                logger.Error(formattedException, exception);\n            }\n\n        }\n        if (logLevel == LogLevel.Fatal &amp;&amp; logger.IsFatalEnabled)\n        {\n            if (exception == null)\n                logger.Fatal(message);\n            else\n            {\n                var formattedException = FormatException(exception, message);\n                logger.Fatal(formattedException, exception);\n            }\n        }\n    }\n</code></pre>\n\n<p>Finally, I can call the logger and log this way:</p>\n\n<pre><code> PacTracLogger.Instance.WriteLog&lt;Splash&gt;(message, LogLevel.Error, ex);\n</code></pre>\n\n<p>So, to summarize my concern, what happens if two classes call to write the log one after another and the first one has not completed writing?</p>\n\n<p>What is the best way to have a Log client (MetroLog in my case) that can handle this?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "wpf", "data-binding"], "comments": [{"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 1, "creation_date": 1496898276, "post_id": 44424180, "comment_id": 75851948, "body": "The problem is that <code>struct Point</code> is a value type, and hence the Point that is used as DataContext of each item is a different instance than the one in the source collection. It should work if you use a custom MyPoint <i>class</i> in an ObservableCollection&lt;MyPoint&gt;."}, {"owner": {"reputation": 59, "user_id": 3683246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yE4Zv.jpg?s=128&g=1", "display_name": "amputek", "link": "https://stackoverflow.com/users/3683246/amputek"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1497044335, "post_id": 44424180, "comment_id": 75930773, "body": "Ah yes, you are right! Thanks @Clemens"}], "owner": {"reputation": 59, "user_id": 3683246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yE4Zv.jpg?s=128&g=1", "display_name": "amputek", "link": "https://stackoverflow.com/users/3683246/amputek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1496877109, "creation_date": 1496877109, "question_id": 44424180, "link": "https://stackoverflow.com/questions/44424180/twoway-binding-a-pointcollection", "title": "TwoWay Binding a PointCollection", "body": "<p>I'm attempting to simulate a kind of simple CAD-like behaviour using WPF, where a polygon is drawn onto a canvas, and the points of the polygon can be moved around.</p>\n\n<p>I've managed to get it so that a PointCollection property is displayed on the canvas by setting up an ItemsControl with an Ellipse for each Point in the collection. The polygon displays correctly, so I know the Binding is working Source-To-Target. I've set up some simple events to be able to 'pick up' points of the polygon, and move them around. The events work fine, and the polygon does change on the canvas. However, any changes I make to the point positions are not getting pushed to the Source Property.</p>\n\n<p>Any clues on how to get the Binding to work in the opposite direction? Is this sort of thing (Two-Way binding inside ItemsControl) even possible? Or perhaps there's another approach to this!</p>\n\n<p>Thanks</p>\n\n<p><strong>XAML</strong></p>\n\n<pre><code>&lt;Canvas Width=\"500\" Height=\"300\" MouseMove=\"MoveMouse\"&gt;\n    &lt;ItemsControl ItemsSource=\"{Binding Path=MyPath, Mode=TwoWay, NotifyOnSourceUpdated=True }\"&gt;\n        &lt;ItemsControl.ItemTemplate&gt;\n            &lt;DataTemplate&gt;\n                &lt;Canvas&gt;\n                    &lt;Ellipse Width=\"20\"\n                             Height=\"20\"\n                             Canvas.Left=\"{Binding Path=X, Mode=TwoWay, NotifyOnSourceUpdated=True }\"\n                             Canvas.Top=\"{Binding Path=Y, Mode=TwoWay, NotifyOnSourceUpdated=True }\"\n                             Fill=\"Red\"\n                             Margin=\"-10,-10,0,0\"\n                             MouseDown=\"ClickPoint\" /&gt;\n                &lt;/Canvas&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/ItemsControl.ItemTemplate&gt;\n    &lt;/ItemsControl&gt;\n&lt;/Canvas&gt;\n</code></pre>\n\n<p><strong>MainWindow.cs</strong></p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    public PointCollection MyPath { get; set; } = new PointCollection{ new Point(10, 10), new Point(100, 100), new Point(200, 100) };\n\n    public Ellipse selectedPoint;\n\n    public MainWindow()\n    {\n        InitializeComponent();\n    }\n\n    private void MoveMouse(object sender, MouseEventArgs e)\n    {\n        if (selectedPoint == null) return;\n\n        //Move selected point to mouse position\n        selectedPoint.SetValue(Canvas.LeftProperty, e.GetPosition(sender as UIElement).X);\n        selectedPoint.SetValue(Canvas.TopProperty, e.GetPosition(sender as UIElement).Y);\n\n        //Print out MyPath points to check if source has changed\n        Console.WriteLine(\"\");\n        foreach (Point p in MyPath)\n            Console.Write(p + \" - \");\n    }\n\n    private void ClickPoint(object sender, MouseButtonEventArgs e)\n    {\n        //Pick up point, if no point is currently selected\n        selectedPoint = selectedPoint == null ? (Ellipse)sender : null;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "triggers", "styles", "prism"], "comments": [{"owner": {"reputation": 2141, "user_id": 2029607, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/721e7dc1d51f729a9e59f50ed9094d6c?s=128&d=identicon&r=PG", "display_name": "XAMlMAX", "link": "https://stackoverflow.com/users/2029607/xamlmax"}, "edited": false, "score": 0, "creation_date": 1496911636, "post_id": 44424164, "comment_id": 75859407, "body": "Look into <a href=\"http://www.wpf-tutorial.com/styles/trigger-animations-enteractions-exitactions/\" rel=\"nofollow noreferrer\">Storyboards and Animations</a>. In case this seems not helpfull the <code>Storyboard</code>s can reference other elements by name, and you should look into a <code>DataTrigger</code> rather than <code>EventTrigger</code>."}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1496918353, "post_id": 44424164, "comment_id": 75864065, "body": "Do you want to set the Background and Foreground properties <i>whenever&quot; the AfterTouch property is set to *any</i> value? This will only change the properties <i>once</i>, right?"}, {"owner": {"reputation": 113, "user_id": 4612386, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-gC2_r7EWs3s/AAAAAAAAAAI/AAAAAAAAABE/RidmAsGnRZ0/photo.jpg?sz=128", "display_name": "Sphynx", "link": "https://stackoverflow.com/users/4612386/sphynx"}, "edited": false, "score": 0, "creation_date": 1496926811, "post_id": 44424164, "comment_id": 75870132, "body": "Yes, whenever the AfterTouch value changes I would like to update the Background and Foreground colors.  The value can change an unlimited number of times even during a single button press as it would map to a piano keyboard key&#39;s aftertouch feature (which changes based on how hard the key is pushed once held down)."}, {"owner": {"reputation": 113, "user_id": 4612386, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-gC2_r7EWs3s/AAAAAAAAAAI/AAAAAAAAABE/RidmAsGnRZ0/photo.jpg?sz=128", "display_name": "Sphynx", "link": "https://stackoverflow.com/users/4612386/sphynx"}, "edited": false, "score": 0, "creation_date": 1496930877, "post_id": 44424164, "comment_id": 75873468, "body": "Regarding the DataTrigger approach the only way I can think that might work is if I were to create a boolean property on my view model which alternated between true and false whenever AfterTouch changed (AfterTouchChangedPoller) and then duplicating the property setter logic on my view for both <code>&lt;DataTrigger Binding=&quot;{Binding AfterTouchChangedPoller&quot; Value=&quot;True&quot;&gt;</code> and <code>&lt;DataTrigger Binding=&quot;{Binding AfterTouchChangedPoller&quot; Value=&quot;False&quot;&gt;</code>.  It would work I guess, but it seems a bit hacky.  I would also have to wrap the AfterTouchChangedCommand in a master command to perform the assignment."}], "owner": {"reputation": 113, "user_id": 4612386, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-gC2_r7EWs3s/AAAAAAAAAAI/AAAAAAAAABE/RidmAsGnRZ0/photo.jpg?sz=128", "display_name": "Sphynx", "link": "https://stackoverflow.com/users/4612386/sphynx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 576, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1496927139, "creation_date": 1496877000, "last_edit_date": 1496927139, "question_id": 44424164, "link": "https://stackoverflow.com/questions/44424164/wpf-eventtrigger-to-modify-a-controls-property-values-based-upon-the-value-of-a", "title": "WPF EventTrigger to modify a control&#39;s property values based upon the value of a Property on its Parent Control&#39;s View Model changing", "body": "<p>I have a <code>Button</code> hosted within a <code>UserControl</code> which I would like to change the <code>Background</code> and <code>Foreground</code> properties of whenever the numeric value of a property held within the view model of the <code>UserControl</code> changes.</p>\n\n<p>My view model appears as follows (properties and methods removed for brevity).  I am using Prism's <code>DelegateCommand&lt;T&gt;</code> for my commands.</p>\n\n<pre><code>        public class PianoKeyViewModel : BindingTarget, IPianoKey\n        {\n            private byte afterTouch;\n            private DelegateCommand&lt;AfterTouchEventArgs&gt; afterTouchChangedCommand;\n\n            public byte AfterTouch\n            {\n                get\n                {\n                    return afterTouch;\n                }\n                set\n                {\n    //Calls a method on BindingTarget to assign to afterTouch and call RaisePropertyChanged.\n                    SetProperty(ref afterTouch, value);\n                }\n            }\n\n            public DelegateCommand&lt;AfterTouchEventArgs&gt; AfterTouchChangedCommand\n            {\n                get\n                {\n                    return afterTouchChangedCommand;\n                }\n                set\n                {\n    //Calls a method on BindingTarget to assign to afterTouchChangedCommand and call RaisePropertyChanged.\n                    SetProperty(ref afterTouchChangedCommand, value);\n                }\n            }\n\n            protected override void RaisePropertyChanged([CallerMemberName]string propertyName = null)\n            {\n                base.RaisePropertyChanged(propertyName);\n\n                switch (propertyName)\n                {\n                    case nameof(AfterTouch):\n                        AfterTouchEventArgs afterTouchEventArgs = new AfterTouchEventArgs(AfterTouch);\n\n                        if (AfterTouchChangedCommand != null &amp;&amp; AfterTouchChangedCommand.CanExecute(afterTouchEventArgs))\n                            //Executes the AfterTouchChangedCommand since the AfterTouchProperty has just changed and the command exists and can execute.\n        AfterTouchChangedCommand.Execute(afterTouchEventArgs);\n\n                        break;\n                }\n            }\n        }\n</code></pre>\n\n<p>A vastly cut-down version of my XAML for the <code>UserControl</code> is as follows.  Note the line below my TODO comment - <code>AfterTouchChanged</code> does not exist and needs replacing with a binding to <code>AfterTouchChangedCommand</code> which fires the trigger when Execute is called on it.  Also, the <code>DataContext</code> of this <code>UserControl</code> will be the View Model shown above, this is achieved with a Module utilizing Prism.</p>\n\n<pre><code>&lt;UserControl x:Class=\"MyNamespace.PianoKey.View\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:converters=\"clr-namespace:MyNamespace.PianoKey.View.Converters\"\n    mc:Ignorable=\"d\"\n    d:DesignHeight=\"300\" d:DesignWidth=\"300\"&gt;\n    &lt;UserControl.Resources&gt;\n        &lt;converters:AfterTouchToBackgroundColorConverter x:Key=\"afterTouchToBackgroundColorConverter\"/&gt;\n        &lt;converters:AfterTouchToForegroundColorConverter x:Key=\"afterTouchToForegroundColorConverter\"/&gt;\n    &lt;/UserControl.Resources&gt;\n    &lt;UserControl.Template&gt;\n        &lt;Button&gt;\n            &lt;Button.Triggers&gt;\n                &lt;!--TODO: Find out what trigger is needed here to respond to AfterTouchChangedCommand.Execute.--&gt;\n                &lt;EventTrigger RoutedEvent=\"AfterTouchChanged\"&gt;\n                    &lt;Setter Property=\"Background\" Value=\"{Binding RelativeSource={RelativeSource TemplatedParent}, Path=AfterTouch, Converter={StaticResource afterTouchToBackgroundColorConverter}}\"/&gt;\n                    &lt;Setter Property=\"Foreground\" Value=\"{Binding RelativeSource={RelativeSource TemplatedParent}, Path=AfterTouch, Converter={StaticResource afterTouchToForegroundColorConverter}}\"/&gt;\n                &lt;/EventTrigger&gt;\n            &lt;/Button.Triggers&gt;\n        &lt;/Button&gt;\n    &lt;/UserControl.Template&gt;\n&lt;/UserControl&gt;\n</code></pre>\n\n<p>What do I need to replace the <code>EventTrigger</code> with to get this to update the <code>Background</code> and <code>Foreground</code> colors of the <code>Button</code>?  <code>DataTrigger</code> looked promising but as far as I can tell this only works to respond to a single value on a property on the bound source.</p>\n"}, {"tags": ["c#", "resource-files"], "comments": [{"owner": {"reputation": 19212, "user_id": 4275342, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/KnE9R.png?s=128&g=1", "display_name": "Roman Marusyk", "link": "https://stackoverflow.com/users/4275342/roman-marusyk"}, "edited": false, "score": 1, "creation_date": 1496877057, "post_id": 44424137, "comment_id": 75846779, "body": "As it&#39;s currently written, it\u2019s hard to tell exactly what you&#39;re asking. See the <a href=\"http://stackoverflow.com/help/how-to-ask\">How to Ask</a> page for help clarifying this question"}, {"owner": {"reputation": 89, "user_id": 4799139, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-bchF7x1LUng/AAAAAAAAAAI/AAAAAAAALvo/mfS9mmIrhX8/photo.jpg?sz=128", "display_name": "Swati Bhartiya", "link": "https://stackoverflow.com/users/4799139/swati-bhartiya"}, "reply_to_user": {"reputation": 19212, "user_id": 4275342, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/KnE9R.png?s=128&g=1", "display_name": "Roman Marusyk", "link": "https://stackoverflow.com/users/4275342/roman-marusyk"}, "edited": false, "score": 0, "creation_date": 1496877311, "post_id": 44424137, "comment_id": 75846859, "body": "I have updated the question. I hope this helps"}, {"owner": {"reputation": 1633, "user_id": 7793375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/daa0c2a8dca13d8e6e362e1f3fa79b40?s=128&d=identicon&r=PG&f=1", "display_name": "The_Outsider", "link": "https://stackoverflow.com/users/7793375/the-outsider"}, "edited": false, "score": 0, "creation_date": 1496877984, "post_id": 44424137, "comment_id": 75847066, "body": "Can you add that section of the code along with your question?"}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1496878211, "post_id": 44424137, "comment_id": 75847135, "body": "Where are you seeing \u201cblah\\\\r\\\\n\\\\r\\\\nblah\u201d? In the Visual Studio debugger? Do you see quotes <code>&quot;</code> at the start and end of the string? That means you are looking at a C# literal which contains <code>blah\\r\\n\\r\\nblah</code> and does not contain quotes or backslashes. C# literals escape metacharacters so you can see them, otherwise they would be invisible."}, {"owner": {"reputation": 89, "user_id": 4799139, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-bchF7x1LUng/AAAAAAAAAAI/AAAAAAAALvo/mfS9mmIrhX8/photo.jpg?sz=128", "display_name": "Swati Bhartiya", "link": "https://stackoverflow.com/users/4799139/swati-bhartiya"}, "edited": false, "score": 0, "creation_date": 1496879907, "post_id": 44424137, "comment_id": 75847566, "body": "I am seeing <code>blah\\\\r\\\\n\\\\r\\\\nblah</code> in the debugger and the output displays <code>blah\\r\\n\\r\\nblah</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1496886887, "post_id": 44424137, "comment_id": 75849194, "body": "Showing a sample of the actual expected output might help."}], "answers": [{"tags": [], "owner": {"reputation": 19212, "user_id": 4275342, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/KnE9R.png?s=128&g=1", "display_name": "Roman Marusyk", "link": "https://stackoverflow.com/users/4275342/roman-marusyk"}, "is_accepted": true, "score": 2, "last_activity_date": 1496878053, "creation_date": 1496878053, "answer_id": 44424317, "question_id": 44424137, "link": "https://stackoverflow.com/questions/44424137/how-can-i-not-escape-a-character-sequence-in-a-string-in-c/44424317#44424317", "title": "How can I not escape a character sequence in a string in C#?", "body": "<p>Try to use <strong>Shift+Enter</strong> to add a new line in .resx file instead of <code>\\r\\n</code>. Or replase like <code>str = str.Replace(\"\\\\r\\\\n\", \"\\r\\n\");</code></p>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1496887180, "creation_date": 1496887180, "answer_id": 44425469, "question_id": 44424137, "link": "https://stackoverflow.com/questions/44424137/how-can-i-not-escape-a-character-sequence-in-a-string-in-c/44425469#44425469", "title": "How can I not escape a character sequence in a string in C#?", "body": "<p>When you stored the string, the escape characters were stored as part of the string literal, and are no longer 'escaping' anything. One thing you could do is replace your placeholder string \"\\r\\n\" with a newline character after you read it.</p>\n\n<p>For example:</p>\n\n<pre><code>private static void Main()\n{\n    var resourceStr = \"blah\\\\r\\\\n\\\\r\\\\nblah\";\n\n    Console.WriteLine(\"Original resource string:\");\n    Console.WriteLine(resourceStr);\n\n    Console.WriteLine(\"\\nAfter calling replace:\");\n    Console.WriteLine(resourceStr.Replace(\"\\\\r\\\\n\", Environment.NewLine));\n\n    Console.WriteLine(\"\\nDone!\\nPress any key to exit...\");\n    Console.ReadKey();\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/eGlN5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eGlN5.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 89, "user_id": 4799139, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-bchF7x1LUng/AAAAAAAAAAI/AAAAAAAALvo/mfS9mmIrhX8/photo.jpg?sz=128", "display_name": "Swati Bhartiya", "link": "https://stackoverflow.com/users/4799139/swati-bhartiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 913, "favorite_count": 0, "accepted_answer_id": 44424317, "answer_count": 2, "score": 2, "last_activity_date": 1496887180, "creation_date": 1496876847, "last_edit_date": 1496877263, "question_id": 44424137, "link": "https://stackoverflow.com/questions/44424137/how-can-i-not-escape-a-character-sequence-in-a-string-in-c", "title": "How can I not escape a character sequence in a string in C#?", "body": "<p>I am reading in a value from a resource file (.resx) in C# and in that value, I have added \\r\\n\\r\\n so that it gets displayed in the correct format. e.g. <code>blah\\r\\n\\r\\nblah</code>\nFor some reason, the string automatically adds a '\\' so effectively text becomes <code>blah\\\\r\\\\n\\\\r\\\\nblah</code> and thus it escapes the character sequences.</p>\n"}, {"tags": ["c#", ".net", "docker", "profiling", "monitoring"], "answers": [{"tags": [], "owner": {"reputation": 474, "user_id": 4682632, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dBePJ--cKXo/AAAAAAAAAAI/AAAAAAAAOu4/J_aRmFr79ro/photo.jpg?sz=128", "display_name": "Jonah Kowall", "link": "https://stackoverflow.com/users/4682632/jonah-kowall"}, "is_accepted": false, "score": 2, "last_activity_date": 1497027589, "creation_date": 1497027589, "answer_id": 44463197, "question_id": 44424128, "link": "https://stackoverflow.com/questions/44424128/profiling-a-c-dot-net-application-running-on-a-docker-container/44463197#44463197", "title": "Profiling a C# dot net application running on a docker container", "body": "<p>Sounds like you want an APM tool, which is essentially a production profiler. Many of them also capture deep Docker metrics along with a bunch of other data points. The leaders in this space according to Gartner are AppDynamics (where I work), Dynatrace, and New Relic. There are lots of others which will do what you ask, but they are designed to run in dev and prod. Each of these tools have free versions you could use for your dev environment. Typically Docker metrics aren't going to help you diagnose and optimize code, but the .NET instrumentation sure will :)</p>\n"}], "owner": {"reputation": 45, "user_id": 7092650, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh4.googleusercontent.com/-d7WnWfrGxAw/AAAAAAAAAAI/AAAAAAAABBc/JP-BrllSM8c/photo.jpg?sz=128", "display_name": "Akash Divakar Gore", "link": "https://stackoverflow.com/users/7092650/akash-divakar-gore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1497027589, "creation_date": 1496876794, "question_id": 44424128, "link": "https://stackoverflow.com/questions/44424128/profiling-a-c-dot-net-application-running-on-a-docker-container", "title": "Profiling a C# dot net application running on a docker container", "body": "<p>I was looking out for an open source profiling tool for C# Dot Net that could profile C# dot net code that's running inside a docker container and give out CPU,Disk and network stats to potentially help identify bottlenecks in code.</p>\n\n<p>Any suggestions would be helpful.Thanks.</p>\n"}, {"tags": ["c#", "windows", "winforms", "windows-applications"], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 8121741, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e029ffcf6b64475ef3c14d2ebdeb2ca0?s=128&d=identicon&r=PG&f=1", "display_name": "BeginnerCoder", "link": "https://stackoverflow.com/users/8121741/beginnercoder"}, "is_accepted": true, "score": 0, "last_activity_date": 1497013307, "last_edit_date": 1497013307, "creation_date": 1496882280, "answer_id": 44424861, "question_id": 44424097, "link": "https://stackoverflow.com/questions/44424097/update-textbox-control-count-of-items-inside-a-list-when-its-cleared-using-cu/44424861#44424861", "title": "Update textbox control count of items inside a list&lt;&gt; when it&#39;s cleared using Custom Events C#", "body": "<p>All I had to do was subscribe the PizzaOrdersListViewForm ClearMainList EventHandler to the custom PizzaInListHandler method inside the displayOrdersToolStripMenuItem_Click method in the MainForm.</p>\n\n<pre><code>private void displayOrdersToolStripMenuItem_Click(object sender, EventArgs e)\n{\n     PizzaOrdersListViewForm orderListV = new PizzaOrdersListViewForm();\n     orderListV.ClearMainList += ClearMainListChangeHandler;\n     orderListV.ClearMainList += PizzaInListHandler;\n}\n</code></pre>\n\n<p>I figured out my mistake with the pizzaList.Count. I accidentally used the Count that counted the sequence of each item when I should have choosen the Count that brings back the total of elements inside the List&lt;>. </p>\n"}], "owner": {"reputation": 55, "user_id": 8121741, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e029ffcf6b64475ef3c14d2ebdeb2ca0?s=128&d=identicon&r=PG&f=1", "display_name": "BeginnerCoder", "link": "https://stackoverflow.com/users/8121741/beginnercoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 44424861, "answer_count": 1, "score": 0, "last_activity_date": 1497013307, "creation_date": 1496876552, "last_edit_date": 1496882386, "question_id": 44424097, "link": "https://stackoverflow.com/questions/44424097/update-textbox-control-count-of-items-inside-a-list-when-its-cleared-using-cu", "title": "Update textbox control count of items inside a list&lt;&gt; when it&#39;s cleared using Custom Events C#", "body": "<p>I have the MainForm that contain two read-only textboxes and two buttons that either opens up as many instances of PizzaCreatorForms the user wants shown and the other buttons displays one instance of a PizzaOrdersListViewForm. The two read-only textboxes keep track of how many instance of the PizzaCreatorForm are shown (this part works) and the other keeps track of how many items are being created (this works, too). </p>\n\n<p>I should add in that every object created by PizzaCreatorForm is added in the List&lt;>, as well, as in the PizzaOrdersListViewFrom listView.Items control. There is also a clear button inside the MainForm and in the PizzaOrderListViewForm that clears the List&lt;>.</p>\n\n<p>My code works, but I ran into two problems.</p>\n\n<ol>\n<li><p>Whenever a new object is added inside the list&lt;>, it starts at 0 when I want it to start at 1. </p></li>\n<li><p>Whenever I clear the List&lt;> using the clear button inside PizzaOrderListViewForm, the listview control items are cleared, but the textbox displays the same number</p></li>\n</ol>\n\n<p>This is the custom event I tried to use for #2:</p>\n\n<p><strong>MainForm</strong></p>\n\n<pre><code>    public partial class Form1 : Form\n    { \n       public static List&lt;Pizza&gt; pizzaList = new List&lt;Pizza&gt;();\n       public List&lt;Pizza&gt; PizzaList\n       {\n           get { return pizzaList; }\n           set { pizzaList = value; }\n       }\n\n       //Where PizzaOrdersListViewForm is instantiated\n       private void displayOrdersToolStripMenuItem_Click(object sender, EventArgs e)\n       {\n           PizzaOrdersListViewForm orderListV = new PizzaOrdersListViewForm();\n\n\n       }\n       //Where PizzaCreatorForm is instantiated\n       private void newPizzaOrder_Click(object sender, EventArgs e)\n       {\n           PizzaCreatorForm pizzaForms = new PizzaCreatorForm(this);\n           pizzaForms.PizzaInList += PizzaInListHandler;\n           pizzasCreatedCounterTextBox.TextChanged += PizzaInListHandler;\n       }\n\n       public void PizzaInListHandler(object sender, EventArgs e)\n       {\n           pizzasCreatedCounterTextBox.Text = pizzaList.Count.ToString();        \n       }\n       public void ClearMainListChangeHandler(object sender, EventArgs e)\n       {  \n           pizzaList.Clear();\n       }\n    }\n</code></pre>\n\n<p><strong>PizzaCreatorForm</strong></p>\n\n<pre><code>    public partial class PizzaCreatorForm : Form\n    {\n       public EventHandler PizzaInList;\n\n       public Pizza Order\n       {\n           //Code that assigns Pizza class member variables to control values\n       }\n\n       Form1 MainForm = null;\n\n       public PizzaCreatorForm(Form1 mForm)\n       {\n            InitializeComponent();\n            MainForm = mForm\n       }\n\n       private void orderNewPizaaToolStripButton_Click(object sender, EventArgs e)\n       {\n            if(PizzaInList != null)\n            {\n                PizzaInList(this, new EventArgs());\n            }\n\n            MainForm.PizzaList.Add(Order);\n\n            Order = new Pizza();\n       }\n    }\n</code></pre>\n\n<p><strong>PizzaOrdersListViewForm</strong></p>\n\n<pre><code>    public partial class PizzaOrdersListViewForm : Form\n    {\n       public EventHandler ClearMainList;\n\n       Form1 mainForm = null;\n\n       public PizzaOrdersListViewForm(Form1 TheMain)\n       {\n          InitializeComponent();\n          mainForm = TheMain;\n       }\n\n       private void clearToolStripButton_Click(object sender, EventArgs e)\n       {\n          if(ClearMainList != null)\n          {\n              ClearMainList(this, new EventArgs());\n          }\n          ClearMainList += mainForm.ClearMainListChangeHandler;\n          pizzaListView.Items.Clear();\n\n       }\n\n    }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "checkbox", "mvvm"], "comments": [{"owner": {"reputation": 573, "user_id": 3273247, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100000049632169/picture?type=large", "display_name": "nulltron", "link": "https://stackoverflow.com/users/3273247/nulltron"}, "edited": false, "score": 0, "creation_date": 1497054371, "post_id": 44423952, "comment_id": 75933185, "body": "Couldn&#39;t you just add/remove, or change visibility programmatically in a checkbox changed event?"}, {"owner": {"reputation": 8303, "user_id": 694736, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UhYVG.jpg?s=128&g=1", "display_name": "Timothy Groote", "link": "https://stackoverflow.com/users/694736/timothy-groote"}, "reply_to_user": {"reputation": 573, "user_id": 3273247, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100000049632169/picture?type=large", "display_name": "nulltron", "link": "https://stackoverflow.com/users/3273247/nulltron"}, "edited": false, "score": 0, "creation_date": 1497261375, "post_id": 44423952, "comment_id": 75986060, "body": "@dbrad that isn&#39;t the idea of MVVM / WPF"}, {"owner": {"reputation": 8303, "user_id": 694736, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UhYVG.jpg?s=128&g=1", "display_name": "Timothy Groote", "link": "https://stackoverflow.com/users/694736/timothy-groote"}, "reply_to_user": {"reputation": 573, "user_id": 3273247, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100000049632169/picture?type=large", "display_name": "nulltron", "link": "https://stackoverflow.com/users/3273247/nulltron"}, "edited": false, "score": 1, "creation_date": 1497261479, "post_id": 44423952, "comment_id": 75986140, "body": "@dbrad besides, mm8&#39;s answer shows how to make this construction reusable, and declared completely in xaml."}], "answers": [{"comments": [{"owner": {"reputation": 290, "user_id": 2434455, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/K98Xr.jpg?s=128&g=1", "display_name": "m4gik", "link": "https://stackoverflow.com/users/2434455/m4gik"}, "edited": false, "score": 0, "creation_date": 1497048788, "post_id": 44433503, "comment_id": 75932033, "body": "Hey, sorry just getting back to this now. I wasn&#39;t clear in my question that I want the tooltip on the button to change not the tooltip on the checkbox based on the checkbox&#39;s state. I edited my question to make it more clear."}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "reply_to_user": {"reputation": 290, "user_id": 2434455, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/K98Xr.jpg?s=128&g=1", "display_name": "m4gik", "link": "https://stackoverflow.com/users/2434455/m4gik"}, "edited": false, "score": 0, "creation_date": 1497260781, "post_id": 44433503, "comment_id": 75985680, "body": "You should ask a new question if you have another issue, not change your original question into a completely different one. Anyway, I edited my answer according to your latest question."}, {"owner": {"reputation": 290, "user_id": 2434455, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/K98Xr.jpg?s=128&g=1", "display_name": "m4gik", "link": "https://stackoverflow.com/users/2434455/m4gik"}, "edited": false, "score": 1, "creation_date": 1497371632, "post_id": 44433503, "comment_id": 76045857, "body": "It&#39;s not a completely different question. I edited the question to be more clear about what I was originally asking therefore I will not be asking a new second question. Why would I have even included the button in the first place if that was not the intended question?"}], "tags": [], "owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "is_accepted": true, "score": 2, "last_activity_date": 1497260731, "last_edit_date": 1497260731, "creation_date": 1496918491, "answer_id": 44433503, "question_id": 44423952, "link": "https://stackoverflow.com/questions/44423952/conditional-tooltip-based-on-checkbox-wpf/44433503#44433503", "title": "Conditional Tooltip Based On Checkbox WPF", "body": "<p>You could use a <code>Style</code> with a <code>DataTrigger</code> that binds to the <code>IsChecked</code> property of the <code>CheckBox</code>:</p>\n\n<pre><code>&lt;CheckBox x:Name=\"chk\" Content=\"CheckBox\" /&gt;\n&lt;Button Content=\"Button\"&gt;\n    &lt;Button.Style&gt;\n        &lt;Style TargetType=\"Button\"&gt;\n            &lt;Setter Property=\"ToolTip\" Value=\"y\" /&gt;\n            &lt;Style.Triggers&gt;\n                &lt;DataTrigger Binding=\"{Binding IsChecked, ElementName=chk}\" Value=\"True\"&gt;\n                    &lt;Setter Property=\"ToolTip\" Value=\"x\" /&gt;\n                &lt;/DataTrigger&gt;\n            &lt;/Style.Triggers&gt;\n        &lt;/Style&gt;\n    &lt;/Button.Style&gt;\n&lt;/Button&gt;\n</code></pre>\n"}], "owner": {"reputation": 290, "user_id": 2434455, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/K98Xr.jpg?s=128&g=1", "display_name": "m4gik", "link": "https://stackoverflow.com/users/2434455/m4gik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 893, "favorite_count": 1, "accepted_answer_id": 44433503, "answer_count": 1, "score": 1, "last_activity_date": 1497260731, "creation_date": 1496875672, "last_edit_date": 1497048712, "question_id": 44423952, "link": "https://stackoverflow.com/questions/44423952/conditional-tooltip-based-on-checkbox-wpf", "title": "Conditional Tooltip Based On Checkbox WPF", "body": "<p>I've got a checkbox and a button in my WPF MVVM app. If the checkbox is checked I want a tooltip on the button that says \"x\" and if it's unchecked the tooltip should say \"y\". </p>\n\n<p>Anyone know the best way to do this? I think it could be done with a separate property in my view model, but maybe there's an easier way to do this in just the xaml?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 16641, "user_id": 1744164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c224e326809636f5f5d3841899571e?s=128&d=identicon&r=PG", "display_name": "Sir Rufo", "link": "https://stackoverflow.com/users/1744164/sir-rufo"}, "edited": false, "score": 0, "creation_date": 1496875835, "post_id": 44423933, "comment_id": 75846364, "body": "Writing a class with two properties is not very complicated and the data looks not very common, so do not expect there is a special datatype"}, {"owner": {"reputation": 16641, "user_id": 1744164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c224e326809636f5f5d3841899571e?s=128&d=identicon&r=PG", "display_name": "Sir Rufo", "link": "https://stackoverflow.com/users/1744164/sir-rufo"}, "edited": false, "score": 0, "creation_date": 1496876050, "post_id": 44423933, "comment_id": 75846423, "body": "BTW &quot;comma separated&quot; is representation of data and you can write code to parse or produce that ... but it has nothing to do with a datatype itself"}, {"owner": {"reputation": 19212, "user_id": 4275342, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/KnE9R.png?s=128&g=1", "display_name": "Roman Marusyk", "link": "https://stackoverflow.com/users/4275342/roman-marusyk"}, "edited": false, "score": 0, "creation_date": 1496876122, "post_id": 44423933, "comment_id": 75846446, "body": "Is <code>WAN.XX.1.0</code> string? Do you want list of comma separated pairs of string?"}], "answers": [{"tags": [], "owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "is_accepted": true, "score": 1, "last_activity_date": 1496916170, "creation_date": 1496916170, "answer_id": 44432637, "question_id": 44423933, "link": "https://stackoverflow.com/questions/44423933/is-there-a-datatype-in-c-for-list-of-comma-separated-pairs/44432637#44432637", "title": "Is there a Datatype in C# for List of comma separated pairs", "body": "<p>Would <code>List&lt;KeyValuePair&lt;string, string&gt;&gt;</code> or <code>List&lt;Tuple&lt;string, string&gt;&gt;</code> do what you need?.</p>\n\n<p>See <a href=\"https://msdn.microsoft.com/en-us/library/dd268536(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/dd268536(v=vs.110).aspx</a> and <a href=\"https://msdn.microsoft.com/en-us/library/5tbh8a42(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/5tbh8a42(v=vs.110).aspx</a> .</p>\n"}], "owner": {"reputation": 243, "user_id": 7577945, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b307cca08c5cb00b406f75b2e3ea0ffe?s=128&d=identicon&r=PG&f=1", "display_name": "dot net", "link": "https://stackoverflow.com/users/7577945/dot-net"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 44432637, "answer_count": 1, "score": -2, "last_activity_date": 1496916170, "creation_date": 1496875550, "question_id": 44423933, "link": "https://stackoverflow.com/questions/44423933/is-there-a-datatype-in-c-for-list-of-comma-separated-pairs", "title": "Is there a Datatype in C# for List of comma separated pairs", "body": "<p>Is there a datatype in C# for List of comma separated pairs like below?</p>\n\n<pre><code>[(WAN.XX.1.0, WAN.XX.1.1), (WAN.XX.1.2, WAN.XX.1.3), (WAN.XX.1.4, WAN.XX.1.5), (WAN.XX.1.6, WAN.XX.1.7), (WAN.XX.1.8, WAN.XX.1.9)]\n</code></pre>\n"}, {"tags": ["c#", "domain-driven-design", "automapper", "solid-principles", "ddd-repositories"], "comments": [{"owner": {"reputation": 12675, "user_id": 329660, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0bba6951a0d4a8cfd27254bed0d32adc?s=128&d=identicon&r=PG", "display_name": "guillaume31", "link": "https://stackoverflow.com/users/329660/guillaume31"}, "edited": false, "score": 0, "creation_date": 1497444626, "post_id": 44423892, "comment_id": 76081113, "body": "Why do you mention the Domain layer? What does it have to do with ViewModel&lt;=&gt;DTO mapping and decoupling mapping from Presentation?"}, {"owner": {"reputation": 579, "user_id": 5767017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/342ac10b2950696c69f9ed632cc49ed8?s=128&d=identicon&r=PG&f=1", "display_name": "Anderson Oki", "link": "https://stackoverflow.com/users/5767017/anderson-oki"}, "reply_to_user": {"reputation": 12675, "user_id": 329660, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0bba6951a0d4a8cfd27254bed0d32adc?s=128&d=identicon&r=PG", "display_name": "guillaume31", "link": "https://stackoverflow.com/users/329660/guillaume31"}, "edited": false, "score": 0, "creation_date": 1497537914, "post_id": 44423892, "comment_id": 76129810, "body": "We want to remove the reference of the Domain from the Presentation."}, {"owner": {"reputation": 12675, "user_id": 329660, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0bba6951a0d4a8cfd27254bed0d32adc?s=128&d=identicon&r=PG", "display_name": "guillaume31", "link": "https://stackoverflow.com/users/329660/guillaume31"}, "edited": false, "score": 0, "creation_date": 1497563745, "post_id": 44423892, "comment_id": 76144048, "body": "How is that in any way related to your mapping between Presentation layer and Application layer?"}], "answers": [{"tags": [], "owner": {"reputation": 2414, "user_id": 1723204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a3ba2c3e25a5fb5ffe0ddb1674189e6?s=128&d=identicon&r=PG", "display_name": "Batavia", "link": "https://stackoverflow.com/users/1723204/batavia"}, "is_accepted": false, "score": 0, "last_activity_date": 1496898889, "creation_date": 1496898889, "answer_id": 44427151, "question_id": 44423892, "link": "https://stackoverflow.com/questions/44423892/domain-driven-design-and-automapper/44427151#44427151", "title": "Domain Driven Design and Automapper", "body": "<p>It depends a bit on how you defined your interface. That will tell you where you need to do your mapping</p>\n\n<p>When calling the next layer from the presentation layer your code would have to look like this</p>\n\n<pre><code> ISomeService MyService;//Resolve this with your favorite dependency injection fromwork\n\n var result = MyService.MySeriviceCall(Automapper.Map&lt;SomeEntity&gt;(fooDto));\n</code></pre>\n\n<p>Notice here that the presentation layer depends on the interface (not implementation) of your service with everything that interface needs.</p>\n\n<p>If your interface looks like this</p>\n\n<pre><code> interface SomeService(SomeEntity foo)\n</code></pre>\n\n<p>THen you need to do your mapping in the presentation layer. But notice in order to call this service you already need to be aware of your domain layer since it's defined in your interface.</p>\n\n<p>However, If your interface looks like this</p>\n\n<pre><code>interface SomeService(SomeDTo foo); \n</code></pre>\n\n<p>Then the reference is from your applicationService to both your domain model and presentation layer. And the mapping is done in the application service (my prefered place, and now you have Dependency Inversion). \nNote: you can put your DTO's in a separate project so you only need to be aware of those.</p>\n\n<p>Also notice that defining your mapping and calling your mapping can de decoupled as well (<a href=\"https://github.com/AutoMapper/AutoMapper/wiki/Configuration\" rel=\"nofollow noreferrer\">https://github.com/AutoMapper/AutoMapper/wiki/Configuration</a>)</p>\n"}], "owner": {"reputation": 579, "user_id": 5767017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/342ac10b2950696c69f9ed632cc49ed8?s=128&d=identicon&r=PG&f=1", "display_name": "Anderson Oki", "link": "https://stackoverflow.com/users/5767017/anderson-oki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 638, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496898889, "creation_date": 1496875252, "last_edit_date": 1496881542, "question_id": 44423892, "link": "https://stackoverflow.com/questions/44423892/domain-driven-design-and-automapper", "title": "Domain Driven Design and Automapper", "body": "<p>I have a circular reference problem or a SOLID Violation in the following architecture:</p>\n\n<pre><code> MVC / WebAPI (Presentation Layer)\n     - ViewModels\n     - Automapper\n\nApplicationServices\n    - AppServices\n\nDomain\n     - Services\n     - Models (Business Layer)\n\nInfra.Data\n     - Repositories\n</code></pre>\n\n<p>I need to perform the Mappings between the ViewModel and DTOs. However, I have a reference between MVC and Domain (That works fine). The Mapping should be done in the topmost layer, where it is the Presentation Layer. How to decouple it, make the mapping in Presentation Layer without reference the Domain?</p>\n\n<p>If I Decouple the Automapper from Presentation Layer, I will have a circular reference because it needs the ViewModel, and the Presentation needs to call the mapping.</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 6472, "user_id": 2321042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea2250b729654f9c6a61d9b1c43e545?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2321042/andrew"}, "edited": false, "score": 0, "creation_date": 1496876348, "post_id": 44423845, "comment_id": 75846548, "body": "Just FYI, you do not need the second condition at all, just use <code>else</code> there. Also <code>== true</code> is not needed, as that&#39;s what <code>if</code> evaluates anyway."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 8067715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/202a1dddb9cf1d3e928985afafb41be3?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/8067715/jasper"}, "edited": false, "score": 0, "creation_date": 1496875938, "post_id": 44423974, "comment_id": 75846397, "body": "Error say: the name does not exist in the current context"}, {"owner": {"reputation": 35, "user_id": 8067715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/202a1dddb9cf1d3e928985afafb41be3?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/8067715/jasper"}, "edited": false, "score": 0, "creation_date": 1496876790, "post_id": 44423974, "comment_id": 75846693, "body": "i have complet its."}], "tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": false, "score": 0, "last_activity_date": 1496875782, "creation_date": 1496875782, "answer_id": 44423974, "question_id": 44423845, "link": "https://stackoverflow.com/questions/44423845/keep-the-method-somewhere-on-the-view-page-instead-of-calling-it-several-times/44423974#44423974", "title": "Keep the method somewhere on the view page, instead of calling it several times", "body": "<p>Just store the value in a variable.  In this example I use a variable named <code>flag</code>.</p>\n\n<pre><code>@var flag = HelperToTables.ContentText.ContentIdValue.GetInfoContentInfo.GetColBool(Model.HiddenId);\n\n@if (flag)\n{\n    @Html.Raw(\"col-md-8\");\n}\nelse\n{\n    @Html.Raw(\"col-md-12\");\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 8067715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/202a1dddb9cf1d3e928985afafb41be3?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/8067715/jasper"}, "edited": false, "score": 0, "creation_date": 1496876048, "post_id": 44423996, "comment_id": 75846421, "body": "THAT IS BOTH. Thanks many times. It works now! And you have a good day!. I hope u will giv me +1"}, {"owner": {"reputation": 6472, "user_id": 2321042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea2250b729654f9c6a61d9b1c43e545?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2321042/andrew"}, "edited": false, "score": 1, "creation_date": 1496876380, "post_id": 44423996, "comment_id": 75846555, "body": "I wonder why included that second condition instead of simply using an <code>else</code>."}, {"owner": {"reputation": 2614, "user_id": 4304727, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/216865497d9403575262c9acf80f6c55?s=128&d=identicon&r=PG&f=1", "display_name": "Mahedi Sabuj", "link": "https://stackoverflow.com/users/4304727/mahedi-sabuj"}, "edited": false, "score": 0, "creation_date": 1496876541, "post_id": 44423996, "comment_id": 75846620, "body": "I am just showing him how to use the <code>variable</code> different places; Yes <code>else</code> will be better."}], "tags": [], "owner": {"reputation": 2614, "user_id": 4304727, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/216865497d9403575262c9acf80f6c55?s=128&d=identicon&r=PG&f=1", "display_name": "Mahedi Sabuj", "link": "https://stackoverflow.com/users/4304727/mahedi-sabuj"}, "is_accepted": true, "score": 0, "last_activity_date": 1496875916, "creation_date": 1496875916, "answer_id": 44423996, "question_id": 44423845, "link": "https://stackoverflow.com/questions/44423845/keep-the-method-somewhere-on-the-view-page-instead-of-calling-it-several-times/44423996#44423996", "title": "Keep the method somewhere on the view page, instead of calling it several times", "body": "<p>As far I Understand, You call <code>HelperToTables.ContentText.ContentIdValue.GetInfoContentInfo.GetColBool(Model.HiddenId)</code> this function many times from the view; Now you want to store the result in any variable then use the variable all the places.</p>\n\n<p>If it is then try this:</p>\n\n<pre><code>@{\n    var variableName = HelperToTables.ContentText.ContentIdValue.GetInfoContentInfo.GetColBool(Model.HiddenId);\n} \n\n@if(variableName == true)\n{\n   // do your stuff\n}\nelse if(variableName == false)\n{\n    // do your stuff\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 8067715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/202a1dddb9cf1d3e928985afafb41be3?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/8067715/jasper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 44423996, "answer_count": 2, "score": 1, "last_activity_date": 1496890880, "creation_date": 1496874965, "last_edit_date": 1496890880, "question_id": 44423845, "link": "https://stackoverflow.com/questions/44423845/keep-the-method-somewhere-on-the-view-page-instead-of-calling-it-several-times", "title": "Keep the method somewhere on the view page, instead of calling it several times", "body": "<p>It's such that I have a method that I call 7 times and I would like the code to be made nicer and at the same time easy to read and understand.</p>\n\n<p>How can I hold it somewhere?</p>\n\n<p>Just pt, I'll do like this.</p>\n\n<pre><code>@if(HelperToTables.ContentText.ContentIdValue.GetInfoContentInfo.GetColBool(Model.HiddenId) == true)\n     {\n         @Html.Raw(\"col-md-8\");\n     }\n     else if(HelperToTables.ContentText.ContentIdValue.GetInfoContentInfo.GetColBool(Model.HiddenId) == false)\n     {\n         @Html.Raw(\"col-md-12\");\n     }\n</code></pre>\n\n<p>Basically, I think that you could do this here but it does not work in any way.</p>\n\n<p>Note that I do it for example on the <strong>index.cshtml</strong> page.</p>\n"}, {"tags": ["c#", "csv", "file-io"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1496881259, "post_id": 44423840, "comment_id": 75847877, "body": "Add parser.TrimWhiteSpace = false;"}, {"owner": {"reputation": 532, "user_id": 1169644, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2762eb5c168af11e2c19c099243aa5bf?s=128&d=identicon&r=PG", "display_name": "Poosh", "link": "https://stackoverflow.com/users/1169644/poosh"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1496932013, "post_id": 44423840, "comment_id": 75874409, "body": "@HansPassant, that fixed it. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 532, "user_id": 1169644, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2762eb5c168af11e2c19c099243aa5bf?s=128&d=identicon&r=PG", "display_name": "Poosh", "link": "https://stackoverflow.com/users/1169644/poosh"}, "is_accepted": true, "score": 0, "last_activity_date": 1500412414, "creation_date": 1500412414, "answer_id": 45177192, "question_id": 44423840, "link": "https://stackoverflow.com/questions/44423840/can-textfieldparser-in-microsoft-visualbasic-io-read-non-breaking-spaces/45177192#45177192", "title": "Can TextFieldParser in Microsoft.VisualBasic.IO Read Non-Breaking Spaces?", "body": "<p>Thanks to HansPassant for the comment, which resolved my problem.</p>\n\n<p>By default, the <code>TextFieldParser.TrimWhiteSpace</code> property is set to <code>true</code>. This causes trailing left and right white space to be removed. In my case, I was trying to replace a non-breaking space with a regular space, but when the parser read the non-breaking space from the CSV file, it ended up returning an empty string since I did not reset the value of <code>TextFieldParser.TrimWhiteSpace</code> to <code>false</code>. The following modification resolved the problem:</p>\n\n<pre><code>parser.TextFieldType = FieldType.Delimited;\nparser.SetDelimiters(\",\");\nparser.HasFieldsEnclosedInQuotes = true;\nparser.TrimWhiteSpace = false; // added so white space characters in CSV will be retained\n</code></pre>\n"}], "owner": {"reputation": 532, "user_id": 1169644, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2762eb5c168af11e2c19c099243aa5bf?s=128&d=identicon&r=PG", "display_name": "Poosh", "link": "https://stackoverflow.com/users/1169644/poosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "accepted_answer_id": 45177192, "answer_count": 1, "score": 0, "last_activity_date": 1500412414, "creation_date": 1496874939, "question_id": 44423840, "link": "https://stackoverflow.com/questions/44423840/can-textfieldparser-in-microsoft-visualbasic-io-read-non-breaking-spaces", "title": "Can TextFieldParser in Microsoft.VisualBasic.IO Read Non-Breaking Spaces?", "body": "<p>I'm using the Microsoft.VisualBasic.FileIO TextFieldParser class to read a CSV containing two columns. The first column contains a character/set of characters to be replaced, and the second column contains the replacement character(s). Here is part of the file:</p>\n\n<pre><code>\"\u00f4\",\"o\"\n\"\u00b4\",\"'\"\n\"\u2022\",\"-\"\n\"\u00bd\",\"&amp;#189;\"\n\"\u00c1\",\"&amp;#193;\"\n\"\u00fa\",\"&amp;#250;\"\n\"\u00e0\",\"&amp;#224;\"\n\"\u00ea\",\"&amp;#234;\"\n\"\u00ec\",\"&amp;#236;\"\n\"\u00d3\",\"&amp;#211;\"\n\"\u00a0\",\"&amp;#160;\"\n</code></pre>\n\n<p>The last entry is a non-breaking space (I verified this by checking in a hex editor and seeing the values <code>c2 a0</code>.</p>\n\n<p>Here is my code for reading the CSV file:</p>\n\n<pre><code>private static Dictionary&lt;string, string&gt; loadReplacementCharactersFromCsv(string filePath)\n{\n    Dictionary&lt;string, string&gt; replacementCharacters = new Dictionary&lt;string, string&gt;();\n    using (TextFieldParser parser = new TextFieldParser(filePath))\n    {\n        parser.TextFieldType = FieldType.Delimited;\n        parser.SetDelimiters(\",\");\n        parser.HasFieldsEnclosedInQuotes = true;\n        while (!parser.EndOfData)\n        {\n            string[] fields = parser.ReadFields();\n            replacementCharacters.Add(fields[0], fields[1]);\n        }\n    }\n    return replacementCharacters;\n}\n</code></pre>\n\n<p>I can't figure out why the non-breaking space is being loaded into the Dictionary as an empty string. Can you help me figure out what I am doing wrong?</p>\n"}, {"tags": ["c#", "mysql", "database"], "answers": [{"comments": [{"owner": {"reputation": 1185, "user_id": 3966890, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/21a8d5432d0e9a8b6519e9bbd6401b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Blaatz0r", "link": "https://stackoverflow.com/users/3966890/blaatz0r"}, "edited": false, "score": 0, "creation_date": 1496875657, "post_id": 44423893, "comment_id": 75846318, "body": "That could be true, but if one it was interested in the time when the post was created (locally) then using the database time might not work in such a way."}, {"owner": {"reputation": 522, "user_id": 7290225, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1353955267957747/picture?type=large", "display_name": "Adnand", "link": "https://stackoverflow.com/users/7290225/adnand"}, "reply_to_user": {"reputation": 1185, "user_id": 3966890, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/21a8d5432d0e9a8b6519e9bbd6401b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Blaatz0r", "link": "https://stackoverflow.com/users/3966890/blaatz0r"}, "edited": false, "score": 0, "creation_date": 1496876178, "post_id": 44423893, "comment_id": 75846469, "body": "That depends on application context. On this case I think would be better to add a second datetime column on database to fill our needs. We may want to save the moment when the user started to create a new record, but also the moment which he decide to press the save button, but the real data which tell us the moment when we &quot;officially&quot; have a new record on database, it&#39;s to get it on insert."}, {"owner": {"reputation": 1185, "user_id": 3966890, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/21a8d5432d0e9a8b6519e9bbd6401b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Blaatz0r", "link": "https://stackoverflow.com/users/3966890/blaatz0r"}, "edited": false, "score": 0, "creation_date": 1496876334, "post_id": 44423893, "comment_id": 75846540, "body": "Good point. Marked as answer (although I am curious on possible other ideas)"}], "tags": [], "owner": {"reputation": 522, "user_id": 7290225, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1353955267957747/picture?type=large", "display_name": "Adnand", "link": "https://stackoverflow.com/users/7290225/adnand"}, "is_accepted": true, "score": 3, "last_activity_date": 1496876488, "last_edit_date": 1496876488, "creation_date": 1496875253, "answer_id": 44423893, "question_id": 44423785, "link": "https://stackoverflow.com/questions/44423785/does-it-make-sense-to-use-a-timestamp-before-saving-or-when-saving-to-database/44423893#44423893", "title": "Does it make sense to use a timestamp before saving or when saving to database", "body": "<p>Considering that your application may run on multiple machines and users which may have different time zones or wrong time on their devices, the first option you proposed could affect data's integrity and you will end up with an unsuncronised database.</p>\n"}, {"tags": [], "owner": {"reputation": 2712, "user_id": 921127, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/e1c24b92c9b66bd981f63d9461f34a75?s=128&d=identicon&r=PG", "display_name": "Ankit Vijay", "link": "https://stackoverflow.com/users/921127/ankit-vijay"}, "is_accepted": false, "score": 2, "last_activity_date": 1496876270, "creation_date": 1496876270, "answer_id": 44424046, "question_id": 44423785, "link": "https://stackoverflow.com/questions/44423785/does-it-make-sense-to-use-a-timestamp-before-saving-or-when-saving-to-database/44424046#44424046", "title": "Does it make sense to use a timestamp before saving or when saving to database", "body": "<p>I feel it would not make much difference though it really depends on your requirement and project architecture. If you are interested in showing the time to user and you use some queue or background worker to insert row to DB (that is there could be some difference in time between creation of object and insertion into SQL), then it perhaps make sense to get the time at the time of creation of object. Else, if it only for record keeping then DB timestamp should be fine.</p>\n"}, {"tags": [], "owner": {"reputation": 185, "user_id": 6579212, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b6424c599018d5e54fb65473dcadc0f7?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir.RL", "link": "https://stackoverflow.com/users/6579212/vladimir-rl"}, "is_accepted": false, "score": 1, "last_activity_date": 1496885317, "creation_date": 1496885317, "answer_id": 44425250, "question_id": 44423785, "link": "https://stackoverflow.com/questions/44423785/does-it-make-sense-to-use-a-timestamp-before-saving-or-when-saving-to-database/44425250#44425250", "title": "Does it make sense to use a timestamp before saving or when saving to database", "body": "<p>Although your example is simple one it may represent typical scenario in enterprise environment. So, instead of one user and memo there may be lots of users, lots of tasks to be executed by those users and there are supervisors who are monitoring how users are performing. With that in mind you should try to log everything that you can since supervisors will ask for different productivity reports. And basic elements of such reports are \"Start time\" and \"End time\" of activity.</p>\n\n<p>That said, it is of lesser importance which time you are using as long as activities of all users may be compared. Do have in mind that some activities may be executed in different time zones. This leads us to the fact that time used for events (such as start time and end time) should come from common source. Either some middle layer or database. </p>\n\n<p>Implicitly, you need to log user activities. So you will have a method that will have several parameters that are sufficient for capturing user activities. Execution of such method should be on middle or database layer and therefore time registered should be consistent and comparable. </p>\n\n<p>With this approach you have possibility to extend your definition of captured events (not only start and end time but also some other relevant moments).</p>\n"}], "owner": {"reputation": 1185, "user_id": 3966890, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/21a8d5432d0e9a8b6519e9bbd6401b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Blaatz0r", "link": "https://stackoverflow.com/users/3966890/blaatz0r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 44423893, "answer_count": 3, "score": 1, "last_activity_date": 1496885317, "creation_date": 1496874618, "question_id": 44423785, "link": "https://stackoverflow.com/questions/44423785/does-it-make-sense-to-use-a-timestamp-before-saving-or-when-saving-to-database", "title": "Does it make sense to use a timestamp before saving or when saving to database", "body": "<p>Question is pretty forward and it is bothering me for quite some time now. Perhaps any of you has an interesting view on this matter.</p>\n\n<p>When creating an object lets say a memo. \nThis memo has a string (for the text obviously)\nAnd a user id who has edited said text.</p>\n\n<p>And this memo object is going to be saved to the database. </p>\n\n<p>Is it common to add the current time to the object (eg. add a DateTime field / property) and save that object to db? </p>\n\n<p>Or use the the current time of the database eg. when the row is inserted DateTime.Now in DB?</p>\n"}, {"tags": ["c#", "webrequest"], "comments": [{"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1496874624, "post_id": 44423734, "comment_id": 75845994, "body": "Don&#39;t think you have searched too much, if you read any example you will realize that what you want is not a WebRequest but an HttpWebRequest..."}, {"owner": {"reputation": 25, "user_id": 7347668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6jOb.jpg?s=128&g=1", "display_name": "Aaron Guo", "link": "https://stackoverflow.com/users/7347668/aaron-guo"}, "reply_to_user": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1496875103, "post_id": 44423734, "comment_id": 75846153, "body": "The code in the image, is totoally from Microsoft Document. It shows the error. If I should use HttpWebRequest, why the code use WebRequest ?"}, {"owner": {"reputation": 25, "user_id": 7347668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6jOb.jpg?s=128&g=1", "display_name": "Aaron Guo", "link": "https://stackoverflow.com/users/7347668/aaron-guo"}, "reply_to_user": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1496875169, "post_id": 44423734, "comment_id": 75846173, "body": "And, I have to say, I just start with C# less about 2 weeks. So, maybe I did very slow."}, {"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1496875266, "post_id": 44423734, "comment_id": 75846209, "body": "You need to cast it as an HttpWebResponse, WebRequest.Create will return an HttpWebResponse (which inherits WebResponse), just cast it and you will have access to the functions you need. Also, don&#39;t post images, add the code to your question."}, {"owner": {"reputation": 1864, "user_id": 2311047, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7f7128e0b317bb2cbb9523b7c886c118?s=128&d=identicon&r=PG", "display_name": "Mahendra Gunawardena", "link": "https://stackoverflow.com/users/2311047/mahendra-gunawardena"}, "edited": false, "score": 0, "creation_date": 1496876150, "post_id": 44423734, "comment_id": 75846454, "body": "I updated the hyperlinks. It is best that you cut and past code to the body of the question"}, {"owner": {"reputation": 25, "user_id": 7347668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6jOb.jpg?s=128&g=1", "display_name": "Aaron Guo", "link": "https://stackoverflow.com/users/7347668/aaron-guo"}, "edited": false, "score": 0, "creation_date": 1496876506, "post_id": 44423734, "comment_id": 75846604, "body": "Thanks both of you. I am a new user on StackOverFlow; please forgive me that not clear the rules. I want to update my question with my code instead of the images, but I didn&#39;t find out how to update... Is there any way to update my question ?"}, {"owner": {"reputation": 509, "user_id": 1905511, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6063a52a2bcbfdabdc6e52f073eb67a4?s=128&d=identicon&r=PG", "display_name": "Herbert Yu", "link": "https://stackoverflow.com/users/1905511/herbert-yu"}, "edited": false, "score": 0, "creation_date": 1496876836, "post_id": 44423734, "comment_id": 75846709, "body": "We cannot copy code from image, so make test this code very hard for us. Do you have link for your source code? What is the error you get? May be you have put wrong project type, or missing reference?"}, {"owner": {"reputation": 25, "user_id": 7347668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6jOb.jpg?s=128&g=1", "display_name": "Aaron Guo", "link": "https://stackoverflow.com/users/7347668/aaron-guo"}, "reply_to_user": {"reputation": 509, "user_id": 1905511, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6063a52a2bcbfdabdc6e52f073eb67a4?s=128&d=identicon&r=PG", "display_name": "Herbert Yu", "link": "https://stackoverflow.com/users/1905511/herbert-yu"}, "edited": false, "score": 0, "creation_date": 1496877172, "post_id": 44423734, "comment_id": 75846815, "body": "@HerbertYu Thank you very much. I will paste my code in the question next time. I just tried create an Winodws Form Application using the same code and the error gone. Before that, I was using Console Application. Why this happen ? Because wrong project type ?"}, {"owner": {"reputation": 25, "user_id": 7347668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6jOb.jpg?s=128&g=1", "display_name": "Aaron Guo", "link": "https://stackoverflow.com/users/7347668/aaron-guo"}, "reply_to_user": {"reputation": 509, "user_id": 1905511, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6063a52a2bcbfdabdc6e52f073eb67a4?s=128&d=identicon&r=PG", "display_name": "Herbert Yu", "link": "https://stackoverflow.com/users/1905511/herbert-yu"}, "edited": false, "score": 0, "creation_date": 1496877842, "post_id": 44423734, "comment_id": 75847015, "body": "@HerbertYu  I put my code on this link : <a href=\"http://arronguo.com/codeSample.txt\" rel=\"nofollow noreferrer\">arronguo.com/codeSample.txt</a>       if I create an Windows Form Application, there is no errors. But if I create a Console App, it shows the error. Here is the images about the situation: <a href=\"http://arronguo.com/consoleApp.png\" rel=\"nofollow noreferrer\">arronguo.com/consoleApp.png</a>          and  <a href=\"http://arronguo.com/windowFormApp.png\" rel=\"nofollow noreferrer\">arronguo.com/windowFormApp.png</a>"}, {"owner": {"reputation": 509, "user_id": 1905511, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6063a52a2bcbfdabdc6e52f073eb67a4?s=128&d=identicon&r=PG", "display_name": "Herbert Yu", "link": "https://stackoverflow.com/users/1905511/herbert-yu"}, "edited": false, "score": 0, "creation_date": 1496884275, "post_id": 44423734, "comment_id": 75848578, "body": "I ran it and it&#39;s successful. @AaronGuo"}, {"owner": {"reputation": 509, "user_id": 1905511, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6063a52a2bcbfdabdc6e52f073eb67a4?s=128&d=identicon&r=PG", "display_name": "Herbert Yu", "link": "https://stackoverflow.com/users/1905511/herbert-yu"}, "edited": false, "score": 0, "creation_date": 1496885765, "post_id": 44423734, "comment_id": 75848916, "body": "What version of Visual Studio you are using? Can you specify .Net Framework version as 4.5.2 as mine?"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7347668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6jOb.jpg?s=128&g=1", "display_name": "Aaron Guo", "link": "https://stackoverflow.com/users/7347668/aaron-guo"}, "edited": false, "score": 0, "creation_date": 1496888554, "post_id": 44425210, "comment_id": 75849571, "body": "Thanks, Herbert. I was using Macbook Pro by the parallel virtual machine and the VS version is Enterprise 2017, .net framework is the same as yours. But after I shifted to a windows laptop, and the code is running perfect. Maybe the problem is the virtual machine ? ... It&#39;s very strange.     Thanks for your help ! You are so nice.   I guess you may come from China and live in USA ? I am also from China and right now live in Canada :)"}, {"owner": {"reputation": 101, "user_id": 8016329, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sSgU-7yhmsg/AAAAAAAAAAI/AAAAAAAAAB8/HF2yczhaGIA/photo.jpg?sz=128", "display_name": "Herbert Yu", "link": "https://stackoverflow.com/users/8016329/herbert-yu"}, "reply_to_user": {"reputation": 25, "user_id": 7347668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6jOb.jpg?s=128&g=1", "display_name": "Aaron Guo", "link": "https://stackoverflow.com/users/7347668/aaron-guo"}, "edited": false, "score": 0, "creation_date": 1496889450, "post_id": 44425210, "comment_id": 75849765, "body": "@AaronGuo In that case, there is something wrong with your virtual machine. Please select this as your answer to your question. I need points now since our company moved to another domain, I lost all my points with my email address. Thank you. Yes, I&#39;m in USA."}, {"owner": {"reputation": 25, "user_id": 7347668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6jOb.jpg?s=128&g=1", "display_name": "Aaron Guo", "link": "https://stackoverflow.com/users/7347668/aaron-guo"}, "edited": false, "score": 0, "creation_date": 1496889693, "post_id": 44425210, "comment_id": 75849829, "body": "haha, I already marked. Thanks. Please help me in the future. I am a front-end developer for some years. Right now I want to expand my knowledge, but beginning is always not easy. I will keep going !"}, {"owner": {"reputation": 25, "user_id": 7347668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6jOb.jpg?s=128&g=1", "display_name": "Aaron Guo", "link": "https://stackoverflow.com/users/7347668/aaron-guo"}, "edited": false, "score": 0, "creation_date": 1496891544, "post_id": 44425210, "comment_id": 75850240, "body": "It seems that I was too optimistic. When I use Visual Studio 2017, even I build it on Windows Laptop, the error still shown. So, I think there is a high chance that the problem is Visual Studio 2017..."}, {"owner": {"reputation": 509, "user_id": 1905511, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6063a52a2bcbfdabdc6e52f073eb67a4?s=128&d=identicon&r=PG", "display_name": "Herbert Yu", "link": "https://stackoverflow.com/users/1905511/herbert-yu"}, "edited": false, "score": 0, "creation_date": 1496955302, "post_id": 44425210, "comment_id": 75888355, "body": "I&#39;m using VS2015 and Enterprise VS2017RC. On VS2017RC, this program ran successfully just now. My VS is Microsoft Visual Studio Enterprise 2017RC Visual Studio/15.0.0-RC.3+26127.3 .Net Framework is version 4.7.02046"}], "tags": [], "owner": {"reputation": 101, "user_id": 8016329, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sSgU-7yhmsg/AAAAAAAAAAI/AAAAAAAAAB8/HF2yczhaGIA/photo.jpg?sz=128", "display_name": "Herbert Yu", "link": "https://stackoverflow.com/users/8016329/herbert-yu"}, "is_accepted": true, "score": 1, "last_activity_date": 1496886592, "last_edit_date": 1496886592, "creation_date": 1496885011, "answer_id": 44425210, "question_id": 44423734, "link": "https://stackoverflow.com/questions/44423734/using-c-to-get-content-from-url-followed-by-this-error-webrequest-does-not-con/44425210#44425210", "title": "Using C# to get content from URL followed by this error &quot;WebRequest does not contain a definition for GetRespone and ...&quot;", "body": "<p>Steps below made mine successful</p>\n\n<ol>\n<li>New a solution - a Visual C# Console Application in Visual Studio. Name your project something as \"ConsoleApp1\".</li>\n<li>Copy and paste code within main function from the web, to newly generated Main function.</li>\n<li>Add below using statements</li>\n</ol>\n\n<blockquote>\n<pre><code>using System.Net;\nusing System.IO;\n</code></pre>\n</blockquote>\n\n<ol start=\"4\">\n<li>Run it by press \"F5\". It's successful. But the window closed as soon as it completes.</li>\n<li><p>For you to see the output result, put a break point at \"}\" statement to avoid the window to close. Alternatively, you can add below as last C# statement. Then you need to click any key to close the console window.</p>\n\n<p><code>Console.ReadKey();</code></p></li>\n</ol>\n\n<p>The output, I got:</p>\n\n<pre><code>OK\n&lt;html&gt;&lt;head&gt;&lt;title&gt;Microsoft Corporation&lt;/title&gt;&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=EmulateIE7\"&gt;&lt;/meta&gt;&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"&gt;&lt;/meta&gt;&lt;meta name=\"SearchTitle\" content=\"Microsoft.com\" scheme=\"\"&gt;&lt;/meta&gt;&lt;meta name=\"Description\" content=\"Get product information, support, and news from Microsoft.\" scheme=\"\"&gt;&lt;/meta&gt;&lt;meta name=\"Title\" content=\"Microsoft.com Home Page\" scheme=\"\"&gt;&lt;/meta&gt;&lt;meta name=\"Keywords\" content=\"Microsoft, product, support, help, training, Office, Windows, software, download, trial, preview, demo,  business, security, update, free, computer, PC, server, search, download, install, news\" scheme=\"\"&gt;&lt;/meta&gt;&lt;meta name=\"SearchDescription\" content=\"Microsoft.com Homepage\" scheme=\"\"&gt;&lt;/meta&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;Your current User-Agent string appears to be from an automated process, if this is incorrect, please click this link:&lt;a href=\"http://www.microsoft.com/en/us/default.aspx?redir=true\"&gt;United States English Microsoft Homepage&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 7347668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6jOb.jpg?s=128&g=1", "display_name": "Aaron Guo", "link": "https://stackoverflow.com/users/7347668/aaron-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 44425210, "answer_count": 1, "score": 0, "last_activity_date": 1496886592, "creation_date": 1496874320, "last_edit_date": 1496879632, "question_id": 44423734, "link": "https://stackoverflow.com/questions/44423734/using-c-to-get-content-from-url-followed-by-this-error-webrequest-does-not-con", "title": "Using C# to get content from URL followed by this error &quot;WebRequest does not contain a definition for GetRespone and ...&quot;", "body": "<p>This code comes from Microsoft's documentation. I put this code in a Console app and a Windows Form app separately.</p>\n\n<p>In the Console app, there is an error : \u201cWebRequest does not contain a definition for GetRespone and \u2026\u201d</p>\n\n<p>But in the Windows Form app, there is no error.</p>\n\n<p>I really don't know why this happen. I am a beginner of C#, so this question may be stupid. But I feel very confused. Please explain to me. \nThank you!</p>\n\n<p>Below are two screenshots for these two situation:</p>\n\n<p><a href=\"https://i.stack.imgur.com/eop7r.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/xRA27.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>Here is the code.</p>\n\n<pre><code>using System;\nusing System.IO;\nusing System.Net;\n\nnamespace ConsoleApp1\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            // Create a request for the URL.   \n            WebRequest request = WebRequest.Create(\n              \"http://www.contoso.com/default.html\");\n            // If required by the server, set the credentials.  \n            request.Credentials = CredentialCache.DefaultCredentials;\n            // Get the response.  \n            WebResponse response = request.GetResponse();\n            // Display the status.  \n            Console.WriteLine(((HttpWebResponse)response).StatusDescription);\n            // Get the stream containing content returned by the server.  \n            Stream dataStream = response.GetResponseStream();\n            // Open the stream using a StreamReader for easy access.  \n            StreamReader reader = new StreamReader(dataStream);\n            // Read the content.  \n            string responseFromServer = reader.ReadToEnd();\n            // Display the content.  \n            Console.WriteLine(responseFromServer);\n            // Clean up the streams and the response.  \n            reader.Close();\n            response.Close();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "removing-whitespace", "maskedtextbox"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 8015842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ba66c1f1d25ec8f9c984d6a2386d320?s=128&d=identicon&r=PG&f=1", "display_name": "Rin", "link": "https://stackoverflow.com/users/8015842/rin"}, "edited": false, "score": 0, "creation_date": 1496874659, "post_id": 44423711, "comment_id": 75846003, "body": "this isnt textbox, its maskedtextbox, so this doesnt work :("}, {"owner": {"reputation": 545, "user_id": 7616709, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPXMl.png?s=128&g=1", "display_name": "Dennis Larisch", "link": "https://stackoverflow.com/users/7616709/dennis-larisch"}, "reply_to_user": {"reputation": 71, "user_id": 8015842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ba66c1f1d25ec8f9c984d6a2386d320?s=128&d=identicon&r=PG&f=1", "display_name": "Rin", "link": "https://stackoverflow.com/users/8015842/rin"}, "edited": false, "score": 0, "creation_date": 1496874714, "post_id": 44423711, "comment_id": 75846026, "body": "So there is no KeyDown Event for a masked Textbox?"}, {"owner": {"reputation": 545, "user_id": 7616709, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPXMl.png?s=128&g=1", "display_name": "Dennis Larisch", "link": "https://stackoverflow.com/users/7616709/dennis-larisch"}, "reply_to_user": {"reputation": 71, "user_id": 8015842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ba66c1f1d25ec8f9c984d6a2386d320?s=128&d=identicon&r=PG&f=1", "display_name": "Rin", "link": "https://stackoverflow.com/users/8015842/rin"}, "edited": false, "score": 0, "creation_date": 1496874998, "post_id": 44423711, "comment_id": 75846119, "body": "@Rin there is a keydown event. Just go to your masked textbox --&gt; Look to the properties page --&gt; on the top right there is a little ligthning --&gt; Click--&gt; search for KeyDown --&gt; double click in the empty space --&gt; this should automaticly create the keydown event then copy my code and change &quot;textbox&quot; to the name of your masked textbox"}, {"owner": {"reputation": 545, "user_id": 7616709, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPXMl.png?s=128&g=1", "display_name": "Dennis Larisch", "link": "https://stackoverflow.com/users/7616709/dennis-larisch"}, "reply_to_user": {"reputation": 71, "user_id": 8015842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ba66c1f1d25ec8f9c984d6a2386d320?s=128&d=identicon&r=PG&f=1", "display_name": "Rin", "link": "https://stackoverflow.com/users/8015842/rin"}, "edited": false, "score": 0, "creation_date": 1496875275, "post_id": 44423711, "comment_id": 75846214, "body": "@Rin look at this Video and just do that with your masked textbox and with the Key down Event <a href=\"https://youtu.be/P7deKDexgao\" rel=\"nofollow noreferrer\">youtu.be/P7deKDexgao</a>"}, {"owner": {"reputation": 71, "user_id": 8015842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ba66c1f1d25ec8f9c984d6a2386d320?s=128&d=identicon&r=PG&f=1", "display_name": "Rin", "link": "https://stackoverflow.com/users/8015842/rin"}, "edited": false, "score": 0, "creation_date": 1496875336, "post_id": 44423711, "comment_id": 75846236, "body": "Thanks for help everyone, I finally figured it out and it works!"}, {"owner": {"reputation": 71, "user_id": 8015842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ba66c1f1d25ec8f9c984d6a2386d320?s=128&d=identicon&r=PG&f=1", "display_name": "Rin", "link": "https://stackoverflow.com/users/8015842/rin"}, "edited": false, "score": 1, "creation_date": 1496875573, "post_id": 44423711, "comment_id": 75846298, "body": "Btw, is there a textchanged event for masked textboxs?"}, {"owner": {"reputation": 545, "user_id": 7616709, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPXMl.png?s=128&g=1", "display_name": "Dennis Larisch", "link": "https://stackoverflow.com/users/7616709/dennis-larisch"}, "reply_to_user": {"reputation": 71, "user_id": 8015842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ba66c1f1d25ec8f9c984d6a2386d320?s=128&d=identicon&r=PG&f=1", "display_name": "Rin", "link": "https://stackoverflow.com/users/8015842/rin"}, "edited": false, "score": 0, "creation_date": 1496875671, "post_id": 44423711, "comment_id": 75846324, "body": "@Rin yes there is, Look at the official msdn Site <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.maskedtextbox_events(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}, {"owner": {"reputation": 545, "user_id": 7616709, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPXMl.png?s=128&g=1", "display_name": "Dennis Larisch", "link": "https://stackoverflow.com/users/7616709/dennis-larisch"}, "reply_to_user": {"reputation": 71, "user_id": 8015842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ba66c1f1d25ec8f9c984d6a2386d320?s=128&d=identicon&r=PG&f=1", "display_name": "Rin", "link": "https://stackoverflow.com/users/8015842/rin"}, "edited": false, "score": 0, "creation_date": 1496875694, "post_id": 44423711, "comment_id": 75846333, "body": "Adding it is the Same way like the KeyDown Event"}, {"owner": {"reputation": 2160, "user_id": 9446665, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BmYHc.png?s=128&g=1", "display_name": "William Charlton", "link": "https://stackoverflow.com/users/9446665/william-charlton"}, "edited": false, "score": 0, "creation_date": 1616205628, "post_id": 44423711, "comment_id": 117937753, "body": "Not sure why this was voted down. It definitely works"}], "tags": [], "owner": {"reputation": 545, "user_id": 7616709, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPXMl.png?s=128&g=1", "display_name": "Dennis Larisch", "link": "https://stackoverflow.com/users/7616709/dennis-larisch"}, "is_accepted": true, "score": 0, "last_activity_date": 1496874141, "creation_date": 1496874141, "answer_id": 44423711, "question_id": 44423674, "link": "https://stackoverflow.com/questions/44423674/c-maskedtextbox-how-to-disable-whitespaces/44423711#44423711", "title": "C# maskedTextbox, how to disable whitespaces?", "body": "<p>Add the KeyDown Event to your textbox and then add the following Code in the created method: </p>\n\n<pre><code>private void textBox_KeyDown(object sender, KeyEventArgs e)\n{\n  if (e.KeyCode == Keys.Space)\n  {\n    e.Handled = true;\n    e.SuppressKeyPress = true;\n    return;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 8015842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ba66c1f1d25ec8f9c984d6a2386d320?s=128&d=identicon&r=PG&f=1", "display_name": "Rin", "link": "https://stackoverflow.com/users/8015842/rin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 0, "accepted_answer_id": 44423711, "answer_count": 1, "score": 1, "last_activity_date": 1496874141, "creation_date": 1496873901, "question_id": 44423674, "link": "https://stackoverflow.com/questions/44423674/c-maskedtextbox-how-to-disable-whitespaces", "title": "C# maskedTextbox, how to disable whitespaces?", "body": "<p>I cant figure out how to disable whitespaces, I tried multiple things, and yes my mask is 00000000000 but still it allows whitespaces. Anyone know a fix?</p>\n\n<p>Not much code to show, only: </p>\n\n<p>Should only allow numbers to be entered, not whitespaces too :/</p>\n\n<p><a href=\"https://i.stack.imgur.com/v553v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v553v.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", ".net", "wcf", "generics"], "answers": [{"tags": [], "owner": {"reputation": 1396, "user_id": 3037732, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/041ad1d83789f334a781df81cbc05826?s=128&d=identicon&r=PG&f=1", "display_name": "jhilgeman", "link": "https://stackoverflow.com/users/3037732/jhilgeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1496949445, "creation_date": 1496949445, "answer_id": 44443909, "question_id": 44423600, "link": "https://stackoverflow.com/questions/44423600/c-wcf-message-inspector-doesnt-run/44443909#44443909", "title": "C# - WCF Message Inspector Doesn&#39;t Run", "body": "<p>I'm not sure why this made a difference, but I re-ordered the code to move the inspector addition to happen immediately after the client creation, so the code now looks like this:</p>\n\n<pre><code>...sanity checks, etc...\nTClient client = Activator.CreateInstance(typeof(TClient), binding, new \nEndpointAddress(url)) as TClient;\nClientBase&lt;TInterface&gt; _clientBase = client as ClientBase&lt;TInterface&gt;;\nMyEndpointBehavior _inspector = new MyEndpointBehavior()\n_clientBase.Endpoint.Behaviors.Add(_inspector);\n...credentials, timeout, etc...\n</code></pre>\n\n<p>The inspector now seems to work as expected. Strange.</p>\n"}], "owner": {"reputation": 1396, "user_id": 3037732, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/041ad1d83789f334a781df81cbc05826?s=128&d=identicon&r=PG&f=1", "display_name": "jhilgeman", "link": "https://stackoverflow.com/users/3037732/jhilgeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496949445, "creation_date": 1496873477, "question_id": 44423600, "link": "https://stackoverflow.com/questions/44423600/c-wcf-message-inspector-doesnt-run", "title": "C# - WCF Message Inspector Doesn&#39;t Run", "body": "<p>I'm working on refactoring a project that has about 5 different web services, and each web service had a ton of identical code, including adding a message inspector onto the client endpoint behaviors so we could see the request and response data. </p>\n\n<p>Part of the refactoring was to come up with a cleaner model for the web services (e.g. one abstract base service model that did all the common setup, including the addition of the message inspector).</p>\n\n<p>Now, when I make the service calls (invoked via reflection), the service call works perfectly fine, and if I add a breakpoint right after the response comes back, I can see that there are 3 behaviors added to the client's endpoint:</p>\n\n<pre><code>[0] Microsoft.VisualStudio.Diagnostics.ServiceModelSink.Behavior\n[1] System.ServiceModel.Description.ClientCredentials\n[2] MyProject.MyMessageInspector\n</code></pre>\n\n<p>...but the message inspector code doesn't seem to get called at all anymore. The inspector code is currently identical to the MSDN example here (except for the class name):\n<a href=\"https://msdn.microsoft.com/en-us/library/ms733786(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/ms733786(v=vs.110).aspx</a></p>\n\n<p>The primary difference is that I'm now using generic methods for setting up the client, which looks like this:</p>\n\n<pre><code>...sanity checks, etc...\nTClient client = Activator.CreateInstance(typeof(TClient), binding, new EndpointAddress(url)) as TClient;\nClientBase&lt;TInterface&gt; _clientBase = client as ClientBase&lt;TInterface&gt;;\n...credentials, timeout, etc...\nMyEndpointBehavior _inspector = new MyEndpointBehavior()\n_clientBase.Endpoint.Behaviors.Add(_inspector);\n</code></pre>\n\n<p>Then, when I make a call, I use this code that is located in the new abstract base class (the original code did it this way, and so far the only difference is the use of generics):</p>\n\n<pre><code>ClientBase&lt;TInterface&gt; _clientBase = _client as ClientBase&lt;TInterface&gt;;\nusing (new OperationContextScope(_clientBase.InnerChannel))\n{\n  // Get the method\n  MethodInfo mi = _client.GetType().GetMethod(APICall);\n\n  // Make the call and return the result if successful\n  object response = mi.Invoke(_client, APICallParameters);\n  return response;\n}\n</code></pre>\n\n<p>Any ideas why this worked prior to the switchover to generic methods and not now?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1732, "user_id": 8121683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1fnlik1dgxU/AAAAAAAAAAI/AAAAAAAAATk/MvX5UOgKBfg/photo.jpg?sz=128", "display_name": "Easton Bornemeier", "link": "https://stackoverflow.com/users/8121683/easton-bornemeier"}, "edited": false, "score": 0, "creation_date": 1496873559, "post_id": 44423572, "comment_id": 75845634, "body": "To answer this we need to ask ourselves: is every possible branch of the function going to return a value? The for loops aren&#39;t necessarily going to hit that if statement according to the compiler."}, {"owner": {"reputation": 916, "user_id": 1393214, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9c77aec8e279242d34f9073750f479b?s=128&d=identicon&r=PG&f=1", "display_name": "Roboticist", "link": "https://stackoverflow.com/users/1393214/roboticist"}, "reply_to_user": {"reputation": 1732, "user_id": 8121683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1fnlik1dgxU/AAAAAAAAAAI/AAAAAAAAATk/MvX5UOgKBfg/photo.jpg?sz=128", "display_name": "Easton Bornemeier", "link": "https://stackoverflow.com/users/8121683/easton-bornemeier"}, "edited": false, "score": 0, "creation_date": 1496873660, "post_id": 44423572, "comment_id": 75845672, "body": "@EastonBornemeier: Yes. I&#39;ve planned the processing to hit the mark, but seemingly there is a flaw that I can&#39;t find."}, {"owner": {"reputation": 1732, "user_id": 8121683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1fnlik1dgxU/AAAAAAAAAAI/AAAAAAAAATk/MvX5UOgKBfg/photo.jpg?sz=128", "display_name": "Easton Bornemeier", "link": "https://stackoverflow.com/users/8121683/easton-bornemeier"}, "edited": false, "score": 0, "creation_date": 1496873758, "post_id": 44423572, "comment_id": 75845706, "body": "I don&#39;t think the issue is whether or not you have safeguarded the fact that it will hit the if statement, but rather the fact that the interpreter looks at this, sees that the returns are in if statements and NOT in the else statements, and therefor there is a possibility that it won&#39;t return a value."}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1496873790, "post_id": 44423572, "comment_id": 75845714, "body": "The compiler doesn&#39;t know that you&#39;ll always reach a <code>return</code> statement. (I don&#39;t know that either.) Just put some sort of <code>return</code> (or throw an exception) at the bottom of the function."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1496873800, "post_id": 44423572, "comment_id": 75845719, "body": "What do you want to happen if <code>Q_O</code> is empty?"}, {"owner": {"reputation": 916, "user_id": 1393214, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9c77aec8e279242d34f9073750f479b?s=128&d=identicon&r=PG&f=1", "display_name": "Roboticist", "link": "https://stackoverflow.com/users/1393214/roboticist"}, "reply_to_user": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1496873951, "post_id": 44423572, "comment_id": 75845779, "body": "@DourHighArch: It&#39;s impossible according to the algorithm&#39;s logic. Put differently, it never occurs. Shall I cover this case?"}, {"owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 0, "creation_date": 1496873978, "post_id": 44423572, "comment_id": 75845790, "body": "Your notes 1 and 2 are exactly where your problem with. If those continues are hit and continue to be hit until you run out of items to foreach then it will come out of the foreach having never returned anything. You need to put something after the foreach to cover that eventuality. The compiler can&#39;t look at the data you are providing so it can&#39;t establish that it will always hit one of the returns in the foreach. If you are sure that it should never reach the end of the foreach then you can throw an exception afterwards with a message indicating it should never be hit."}, {"owner": {"reputation": 916, "user_id": 1393214, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9c77aec8e279242d34f9073750f479b?s=128&d=identicon&r=PG&f=1", "display_name": "Roboticist", "link": "https://stackoverflow.com/users/1393214/roboticist"}, "reply_to_user": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 0, "creation_date": 1496874232, "post_id": 44423572, "comment_id": 75845872, "body": "@Chris: &quot;You need to put something after the foreach to cover that eventuality&quot;: You mean both foreach loops?"}, {"owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 0, "creation_date": 1496951656, "post_id": 44423572, "comment_id": 75886509, "body": "The outer foreach loop. Think of it more as putting in a throw exception as the last thing in the method. The error you are getting is with it reaching the end of the method without an exit point so if it hasn&#39;t returned before then you put in an exit point in the form of an exception."}], "answers": [{"comments": [{"owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 0, "creation_date": 1496874074, "post_id": 44423681, "comment_id": 75845817, "body": "No, don&#39;t add a return statement. Otherwise if you get there then it will return something which would be nonsense. If it should never get there then throw an exception indicating that. That way in the exception situation that it does reach there you get an exception and are immediately told there is a problem with your logic. If you return something then... Well, what would you return that made sense?"}, {"owner": {"reputation": 1732, "user_id": 8121683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1fnlik1dgxU/AAAAAAAAAAI/AAAAAAAAATk/MvX5UOgKBfg/photo.jpg?sz=128", "display_name": "Easton Bornemeier", "link": "https://stackoverflow.com/users/8121683/easton-bornemeier"}, "reply_to_user": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 0, "creation_date": 1496874228, "post_id": 44423681, "comment_id": 75845871, "body": "That is what I meant by refactoring to catch this sort of thing. Extremely bad practice to add a return statement, I agree, nothing would make sense to return, I was just adding a direct solution to the issue. Editing my answer to fix my verbage."}, {"owner": {"reputation": 96, "user_id": 2263367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mG3ea.jpg?s=128&g=1", "display_name": "Dave Knise", "link": "https://stackoverflow.com/users/2263367/dave-knise"}, "edited": false, "score": 0, "creation_date": 1496879779, "post_id": 44423681, "comment_id": 75847532, "body": "You can simply return null... null is not nonsense. Null means there were no paths that satisfied the algorithm. Or you could throw an exception."}, {"owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 0, "creation_date": 1496951745, "post_id": 44423681, "comment_id": 75886551, "body": "If that&#39;s what you mean by refactoring then I still disagree with how you&#39;ve phrased your answer. You have said &quot;Add a return statement&quot; in the first paragraph and then your second seems to be saying &quot;And now remove that return statement in favour of an exception.&quot; Why not just suggest an exception in the first place?"}], "tags": [], "owner": {"reputation": 1732, "user_id": 8121683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1fnlik1dgxU/AAAAAAAAAAI/AAAAAAAAATk/MvX5UOgKBfg/photo.jpg?sz=128", "display_name": "Easton Bornemeier", "link": "https://stackoverflow.com/users/8121683/easton-bornemeier"}, "is_accepted": false, "score": 1, "last_activity_date": 1496873937, "creation_date": 1496873937, "answer_id": 44423681, "question_id": 44423572, "link": "https://stackoverflow.com/questions/44423572/not-all-code-paths-return-a-value-in-case-of-a-recursive-algorithm/44423681#44423681", "title": "Not all code paths return a value in case of a recursive algorithm", "body": "<p>If you are positive that the function is going to safely return a value, just add a return statement above your last bracket.</p>\n\n<p>However, I would recommend trying to refactor your code to catch this sort of thing (adding exceptions, etc) to make sure this very confusing algorithm is operating correctly. </p>\n"}], "owner": {"reputation": 916, "user_id": 1393214, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9c77aec8e279242d34f9073750f479b?s=128&d=identicon&r=PG&f=1", "display_name": "Roboticist", "link": "https://stackoverflow.com/users/1393214/roboticist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1496873937, "creation_date": 1496873234, "question_id": 44423572, "link": "https://stackoverflow.com/questions/44423572/not-all-code-paths-return-a-value-in-case-of-a-recursive-algorithm", "title": "Not all code paths return a value in case of a recursive algorithm", "body": "<p>I've just designed a recursive algorithm and implemented in C# encountering <code>not all code paths return a value</code> error. Here is the code:</p>\n\n<pre><code>public List&lt;List&lt;Event&gt;&gt; CollectPaths(IEnumerable&lt;string[]&gt; transitions, State q_r, State q_s, List&lt;State&gt; Q_T, ref List&lt;Event&gt; tempPath)\n        {\n            if (!Q_T.Any())\n            {\n                pathCollection.Add(tempPath);\n                return pathCollection;\n            }\n\n            else\n            {\n                List&lt;State&gt; Q_O = new List&lt;State&gt;();\n                Q_O = Get_Q_O(q_r, transitions);\n\n                State qq = new State(\"\");\n\n                foreach (State q in Q_O)\n                {\n                    List&lt;Event&gt; S_O = new List&lt;Event&gt;();\n                    List&lt;Event&gt; S_OO = new List&lt;Event&gt;();\n                    S_O = Get_S_O(q_r, q, transitions);\n                    S_OO = Get_S_OO(q_r, q, S_O, transitions);\n\n                    if (q.ID == q_s.ID)\n                    {\n                        tempPath.AddRange(S_O);\n                        pathCollection.Add(tempPath);\n                        Q_T.Remove(q);\n                        if (!Q_T.Any())\n                            return pathCollection;\n                        else\n                            continue; /////////////Note 1\n                    }\n\n                    else \n                    {\n                        foreach(Event sigma in S_O)\n                        {\n                            if (AFC_1(S_OO) ||\n                             AFC_2(S_OO) ||\n                             (AFC_3_1(S_OO, S_O) &amp;&amp; AFC_3_2(GetC_S_OO(S_OO), GetU_S_OO(S_OO)))\n                            )\n                            {\n                                tempPath.AddRange(S_O);\n                                Q_T.Remove(q);\n                                CollectPaths(transitions, q, q_s, Q_T, ref tempPath);\n                            }\n\n                            else\n                            {\n                                Q_T.Remove(q);\n                                if (!Q_T.Any())\n                                    return pathCollection;\n                                else\n                                    continue; /////////////Note 2\n                            }\n                        }\n                    }\n                }\n            }\n        }\n</code></pre>\n\n<p>There are many conditional branches, and I've done my best to make algorithm return the <code>pathCollection</code>, finally.</p>\n\n<p>Some Remarks:</p>\n\n<p><code>Note 1</code> and <code>Note 2</code>: the <code>continue</code> continues the <code>foreach</code> for the other values of <code>q</code>. Then, either it will get rid of the <code>if</code> and execute the <code>else</code>; or <code>Q_T</code> (a global variable which can be changed by all instantiations of the function) will become empty and <code>pathCollection</code> returns.</p>\n\n<p>But I can't figure out what's wrong with this code!</p>\n\n<p>Could you please give me some advice about it?  </p>\n"}, {"tags": ["c#", "xaml", "mvvm", "uwp"], "comments": [{"owner": {"reputation": 10000, "user_id": 5620055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7e3M5.jpg?s=128&g=1", "display_name": "Sunteen Wu", "link": "https://stackoverflow.com/users/5620055/sunteen-wu"}, "edited": false, "score": 0, "creation_date": 1496888163, "post_id": 44423543, "comment_id": 75849484, "body": "I tested your above code snippet but cannot reproduce your issue. Clean and build will be successfully. Could you please provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? I&#39;m using vs17 and uwp app target 15063."}, {"owner": {"reputation": 361, "user_id": 3777939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b7f25b7d441da8da5df8ee687a6d72?s=128&d=identicon&r=PG&f=1", "display_name": "user3777939", "link": "https://stackoverflow.com/users/3777939/user3777939"}, "edited": false, "score": 0, "creation_date": 1496901964, "post_id": 44423543, "comment_id": 75853568, "body": "Are you sure that MainViewModel is in ViewModels namespace?"}, {"owner": {"reputation": 71, "user_id": 6797541, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/19a3273dc6fc60cef9c296b42ecbb72d?s=128&d=identicon&r=PG&f=1", "display_name": "Agredo", "link": "https://stackoverflow.com/users/6797541/agredo"}, "edited": false, "score": 0, "creation_date": 1496917242, "post_id": 44423543, "comment_id": 75863318, "body": "I tested your above code snippet but cannot reproduce your issue. Clean and build will be successfully. Could you please provide Minimal, Complete, and Verifiable example? I&#39;m using vs17 and uwp app target 15063. \u2013 Sunteen Wu - MSFT 7 hours ago. ---   This sounds like my Visual Studio does not work correctly. Like I wrote: I copied my whole Project to a new Project, cleaned it an rebuild it. I used VS17 with uwp app target 15063 and 14393."}, {"owner": {"reputation": 71, "user_id": 6797541, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/19a3273dc6fc60cef9c296b42ecbb72d?s=128&d=identicon&r=PG&f=1", "display_name": "Agredo", "link": "https://stackoverflow.com/users/6797541/agredo"}, "edited": false, "score": 0, "creation_date": 1496917319, "post_id": 44423543, "comment_id": 75863369, "body": "Yes MainViewModel ist in the Namespace myApp.ViewModels"}, {"owner": {"reputation": 10000, "user_id": 5620055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7e3M5.jpg?s=128&g=1", "display_name": "Sunteen Wu", "link": "https://stackoverflow.com/users/5620055/sunteen-wu"}, "edited": false, "score": 0, "creation_date": 1496984922, "post_id": 44423543, "comment_id": 75896376, "body": "When you type <code>&lt;vm:</code> ,can the intelisense show the <code>MainViewModel</code> in the dropdownlist? And you can choose it instead of typing and try again.  Or repair your VS and try again. Otherwise, please provide a minimal reproduce project since your code snippet are not the full."}, {"owner": {"reputation": 71, "user_id": 6797541, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/19a3273dc6fc60cef9c296b42ecbb72d?s=128&d=identicon&r=PG&f=1", "display_name": "Agredo", "link": "https://stackoverflow.com/users/6797541/agredo"}, "edited": false, "score": 0, "creation_date": 1497190455, "post_id": 44423543, "comment_id": 75963574, "body": "yes it was shown in IntelliSense. But i could solve it now. i chose &quot;copy every time&quot; in the property of MainViewModel and this works. My Base View Model did not Need this. But thanks guys."}], "owner": {"reputation": 71, "user_id": 6797541, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/19a3273dc6fc60cef9c296b42ecbb72d?s=128&d=identicon&r=PG&f=1", "display_name": "Agredo", "link": "https://stackoverflow.com/users/6797541/agredo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 318, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496873104, "creation_date": 1496873104, "question_id": 44423543, "link": "https://stackoverflow.com/questions/44423543/uwp-can-not-add-viewmodel-to-mainpage-mainviewmodel-file-not-found", "title": "UWP can not add ViewModel to MainPage. MainViewModel File not found", "body": "<p>this problem drives me crazy. I have two Folders in my project: Views and ViewModels. </p>\n\n<p>In View I have my MainPage.xaml\nIn ViewModel I have the BaseViewModel.cs and the MainViewModel.cs.</p>\n\n<pre><code>    class BaseViewModel:INotifyPropertyChanged\n{\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    public void SetProperty&lt;T&gt;(ref T Storage, T Value, [CallerMemberName] string PropertyName = null)\n    {\n        if (Object.Equals(Storage, Value))\n            return;\n        else\n        {\n            Storage = Value;\n        }\n\n        PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(PropertyName));\n    }\n}\n</code></pre>\n\n<p>and my MainViewModel</p>\n\n<pre><code>    class MainViewModel:BaseViewModel\n{\n    //Bands\n    public Tuple&lt;List&lt;Band&gt;, List&lt;Band&gt;&gt; BandsFromMobileAndDesktop { get; private set; }\n    public List&lt;List&lt;Band&gt;&gt; BandsFormCSV { get; private set; }\n\n\n    private ObservableCollection&lt;Band&gt; finalList;\n\n    public ObservableCollection&lt;Band&gt; FinalList\n    {\n        get { return finalList; }\n        set { SetProperty(ref finalList, value); }\n    }\n\n\n    //Properties for View\n    private string text;\n    public string Text\n    {\n        get { return text; }\n        set { SetProperty(ref text, value); }\n    }\n\n\n    public MainViewModel()\n    {\n\n        Text = \"Hurricane festival 2017\";\n\n        CreateObservableBandList();\n\n        var result = DatabaseController.GetBandsInTimeFrame(new DateTime(2017, 06, 23, 16, 0, 0, 0), new DateTime(2017, 06, 23, 19, 0, 0, 0));\n        var a = 0;\n    }\n\n    async public Task GetBands()\n    {\n        //Get Bands\n        //First list from Mobile Second From Desktop\n        BandsFromMobileAndDesktop = await BandsCollector.BandsCollector.GetBandDates();\n        BandsFormCSV = await BandsCollector.BandsCollector.getBandsFromCSV();\n\n        BandsCollector.BandsCollector.FillBandDataFromCSVWithImageByteArray(BandsFormCSV, BandsFromMobileAndDesktop);\n\n\n        ApplicationData.Current.LocalSettings.Values[\"AlreadyStarted\"] = \"true\";\n    }\n\n    public void CreateObservableBandList()\n    {\n        //Get Bands only on first start\n        if (ApplicationData.Current.LocalSettings.Values[\"AlreadyStarted\"] == null || ApplicationData.Current.LocalSettings.Values[\"AlreadyStarted\"].ToString() != \"true\")\n        {\n            Task task = Task.Run(async () =&gt; { await GetBands(); });\n            task.Wait();\n\n            getFinalList(BandsFormCSV);\n\n            DatabaseController.CreateDataBase();\n\n            foreach (var bandFromList in FinalList)\n            {\n                DatabaseController.AddBand(bandFromList);\n            }\n        }\n\n    }\n\n    public async Task FillCollection(ObservableCollection&lt;Band&gt; dayCollection, List&lt;Band&gt; dayList)\n    {\n        for (int i = 0; i &lt; dayList.Count; i++)\n        {\n            dayCollection.Add(dayList[i]);\n        }\n    }\n\n\n    public void getFinalList(List&lt;List&lt;Band&gt;&gt; CSVList)\n    {\n        FinalList = new ObservableCollection&lt;Band&gt;();\n\n        for (int day = 0; day &lt; CSVList.Count; day++)\n        {\n            if (0 == day)\n            {\n                for (int band = 0; band &lt; CSVList[day].Count; band++)\n                {\n                    CSVList[day][band].Day = day;\n                    FinalList.Add(CSVList[day][band]);\n                }\n            }\n\n            else if (1 == day)\n            {\n                for (int band = 0; band &lt; CSVList[day].Count; band++)\n                {\n                    CSVList[day][band].Day = day;\n                    FinalList.Add(CSVList[day][band]);\n                }\n            }\n\n            else if (2 == day)\n            {\n                for (int band = 0; band &lt; CSVList[day].Count; band++)\n                {\n                    CSVList[day][band].Day = day;\n                    FinalList.Add(CSVList[day][band]);\n\n                }\n            }\n\n            else if (3 == day)\n            {\n                for (int band = 0; band &lt; CSVList[day].Count; band++)\n                {\n                    CSVList[day][band].Day = day;\n                    FinalList.Add(CSVList[day][band]);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And in my MainPage.xaml:</p>\n\n<pre><code>&lt;Page\nx:Class=\"MyApp.MainPage\"\nxmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\nxmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\nxmlns:local=\"using:MyApp\"\nxmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\nxmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\nxmlns:vm=\"using:MyApp.ViewModels\"\nmc:Ignorable=\"d\"&gt;\n\n&lt;Page.DataContext&gt;\n    &lt;vm:MainViewModel/&gt;\n&lt;/Page.DataContext&gt;\n\n&lt;Grid Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\"&gt;\n\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n\n<p>Now VS17 says that the file MainViewModel do not exist. But BaseViewModel works. </p>\n\n<p>I copied all my code from another Project, I rebuild all and I used some fixes from StackOverflow which did not work in the end.</p>\n\n<p>What is my mistake? I could not find it by myself.</p>\n\n<p>Thanks </p>\n\n<p>Agredo</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1496873667, "post_id": 44423537, "comment_id": 75845675, "body": "Just investigate a source code for differences, for example <a href=\"https://referencesource.microsoft.com/#System.Xml.Linq/System/Xml/Linq/XLinq.cs,28102f706d70b3a2\" rel=\"nofollow noreferrer\">XElement.Value</a>, because <code>XDocument.Root</code> is a <code>XElement</code> type"}], "answers": [{"comments": [{"owner": {"reputation": 1841, "user_id": 7066681, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/fd2fb2bc779c1cf9a946cc6beeccaa0c?s=128&d=identicon&r=PG&f=1", "display_name": "Frederic", "link": "https://stackoverflow.com/users/7066681/frederic"}, "edited": false, "score": 0, "creation_date": 1496873272, "post_id": 44423571, "comment_id": 75845518, "body": "Yes but they don&#39;t mention the carriage return removal"}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "reply_to_user": {"reputation": 1841, "user_id": 7066681, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/fd2fb2bc779c1cf9a946cc6beeccaa0c?s=128&d=identicon&r=PG&f=1", "display_name": "Frederic", "link": "https://stackoverflow.com/users/7066681/frederic"}, "edited": false, "score": 0, "creation_date": 1496873594, "post_id": 44423571, "comment_id": 75845650, "body": "XML ignores newlines and other whitespace."}, {"owner": {"reputation": 1841, "user_id": 7066681, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/fd2fb2bc779c1cf9a946cc6beeccaa0c?s=128&d=identicon&r=PG&f=1", "display_name": "Frederic", "link": "https://stackoverflow.com/users/7066681/frederic"}, "edited": false, "score": 0, "creation_date": 1496873640, "post_id": 44423571, "comment_id": 75845666, "body": "Well, it still keep the \\n so it doesn&#39;t totally ignore newlines, right ?"}], "tags": [], "owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "is_accepted": false, "score": 0, "last_activity_date": 1496873234, "creation_date": 1496873234, "answer_id": 44423571, "question_id": 44423537, "link": "https://stackoverflow.com/questions/44423537/xdocument-difference-between-root-value-and-root-tostring/44423571#44423571", "title": "XDocument : Difference between .Root.Value and .Root.ToString", "body": "<p>Did you read the documentation?</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.xml.linq.xelement.value(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>Value</code></a>:</p>\n\n<blockquote>\n  <p>A String that contains all of the text content of this element. If there are multiple text nodes, they will be concatenated.</p>\n</blockquote>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/bb341005(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>ToString()</code></a>:</p>\n\n<blockquote>\n  <p>Returns the indented XML for this node.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1098, "user_id": 4225626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r1OVM.jpg?s=128&g=1", "display_name": "Yatin", "link": "https://stackoverflow.com/users/4225626/yatin"}, "is_accepted": false, "score": 0, "last_activity_date": 1496873592, "creation_date": 1496873592, "answer_id": 44423619, "question_id": 44423537, "link": "https://stackoverflow.com/questions/44423537/xdocument-difference-between-root-value-and-root-tostring/44423619#44423619", "title": "XDocument : Difference between .Root.Value and .Root.ToString", "body": "<p>The primary difference is:\n<code>ToString()</code> includes the root element tags and the indentation/tabs.<br>\nFor example:<br>\n<code>&lt;Root&gt;\n  &lt;Child1&gt;1&lt;/Child1&gt;\n&lt;/Root&gt;</code><br>\nWhereas, <code>value</code> doesn't; nor does it maintain the tabs, it just shows the content inside the root tag - it will show you the tags for the children, but not for the root itself:\nFor example:<br>\n<code>&lt;Child1&gt;1&lt;/Child1&gt;</code></p>\n"}], "owner": {"reputation": 1841, "user_id": 7066681, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/fd2fb2bc779c1cf9a946cc6beeccaa0c?s=128&d=identicon&r=PG&f=1", "display_name": "Frederic", "link": "https://stackoverflow.com/users/7066681/frederic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1496873592, "creation_date": 1496873076, "question_id": 44423537, "link": "https://stackoverflow.com/questions/44423537/xdocument-difference-between-root-value-and-root-tostring", "title": "XDocument : Difference between .Root.Value and .Root.ToString", "body": "<p>Does anybody know what is the difference between those two below statements :</p>\n\n<pre><code>xdoc.Root.Value;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>xdoc.Root.ToString();\n</code></pre>\n\n<p>From my own research, I can see that the first line removes the root node and replaces the '\\r\\n' to '\\n' whereas the second one keeps the content as original. Am I correct ? any documentation to back that up ?\nAs I want to use the first line but keep the original Windows new lines, is there a way to do that ? </p>\n"}, {"tags": ["c#", "algorithm", "schedule", "c#-7.0"], "comments": [{"owner": {"reputation": 1072, "user_id": 6913895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/209a818ccbb188d9c37c38df1c13f0de?s=128&d=identicon&r=PG&f=1", "display_name": "mrogers", "link": "https://stackoverflow.com/users/6913895/mrogers"}, "edited": false, "score": 0, "creation_date": 1496871786, "post_id": 44423255, "comment_id": 75844918, "body": "How do you define &quot;best teams&quot; ?"}, {"owner": {"reputation": 1769, "user_id": 7313749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/aJ3Rw.jpg?s=128&g=1", "display_name": "obl", "link": "https://stackoverflow.com/users/7313749/obl"}, "reply_to_user": {"reputation": 1072, "user_id": 6913895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/209a818ccbb188d9c37c38df1c13f0de?s=128&d=identicon&r=PG&f=1", "display_name": "mrogers", "link": "https://stackoverflow.com/users/6913895/mrogers"}, "edited": false, "score": 0, "creation_date": 1496871831, "post_id": 44423255, "comment_id": 75844932, "body": "When the employees on each team have the smallest difference in their schedules with each other."}, {"owner": {"reputation": 67712, "user_id": 155077, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MaCKR.jpg?s=128&g=1", "display_name": "Stefan Steiger", "link": "https://stackoverflow.com/users/155077/stefan-steiger"}, "reply_to_user": {"reputation": 1072, "user_id": 6913895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/209a818ccbb188d9c37c38df1c13f0de?s=128&d=identicon&r=PG&f=1", "display_name": "mrogers", "link": "https://stackoverflow.com/users/6913895/mrogers"}, "edited": false, "score": 0, "creation_date": 1496871852, "post_id": 44423255, "comment_id": 75844945, "body": "@mrogers: That&#39;s the real question here. Once you have the metric, you can start to optimize."}, {"owner": {"reputation": 67712, "user_id": 155077, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MaCKR.jpg?s=128&g=1", "display_name": "Stefan Steiger", "link": "https://stackoverflow.com/users/155077/stefan-steiger"}, "edited": false, "score": 0, "creation_date": 1496871896, "post_id": 44423255, "comment_id": 75844964, "body": "Define &quot;the smallest difference in their schedules&quot;"}, {"owner": {"reputation": 631, "user_id": 843681, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/22a130815aa2293750190ade94573182?s=128&d=identicon&r=PG", "display_name": "Payam", "link": "https://stackoverflow.com/users/843681/payam"}, "edited": false, "score": 0, "creation_date": 1496872056, "post_id": 44423255, "comment_id": 75845024, "body": "Can you post your code here?"}, {"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1496872288, "post_id": 44423255, "comment_id": 75845112, "body": "You need to define a lot better &quot;best teams&quot;. For example, if creating a team A with the exact same schedules the left employees create a team B where the schedules are sepparated by a week, what should the algorithm do? Keep theses or try to find two groups where the difference is lower sacrificing the exactitude of the first one?"}, {"owner": {"reputation": 1769, "user_id": 7313749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/aJ3Rw.jpg?s=128&g=1", "display_name": "obl", "link": "https://stackoverflow.com/users/7313749/obl"}, "reply_to_user": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1496872444, "post_id": 44423255, "comment_id": 75845164, "body": "@Gusman Full size teams of 15 that have the exact same schedule are left alone, because they have a perfect score of 0. Ideally all the teams would be this way, where every employee on a certain team has the same exact schedule."}, {"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1496872613, "post_id": 44423255, "comment_id": 75845232, "body": "I think you didn&#39;t got my point. Suppose you have 30 persons to form two groups, you match team A to be 0 points but it leaves a team B with 100 points (or any extremely aberrant value), but if you replan the teams you can achieve two teams of 4 points, aren&#39;t those better in a global view of the set? That&#39;s what I mean, you need to define a lot better these types of cases."}, {"owner": {"reputation": 1769, "user_id": 7313749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/aJ3Rw.jpg?s=128&g=1", "display_name": "obl", "link": "https://stackoverflow.com/users/7313749/obl"}, "reply_to_user": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1496872813, "post_id": 44423255, "comment_id": 75845310, "body": "@Gusman what I meant was that the very first step of the algorithm is to match the employees who have the same exact schedule into teams. If there is a team of size 15 with the same exact schedule, those are out of the equation for the rest of the algorithm. The point that you are making is part of my question. I&#39;m not sure how to handle further optimization, so if you have any ideas that would help a lot."}, {"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1496872953, "post_id": 44423255, "comment_id": 75845366, "body": "You need to ask to the person who assigned you this task, don&#39;t suppose anything, I can consider that a better set (lower total score, higher individual scores) is better over a single perfect group and multiple aberrant groups (higher total score, lower individual score for one, higher individual score for multiple) but other person can consider the opposite."}, {"owner": {"reputation": 1769, "user_id": 7313749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/aJ3Rw.jpg?s=128&g=1", "display_name": "obl", "link": "https://stackoverflow.com/users/7313749/obl"}, "reply_to_user": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1496873161, "post_id": 44423255, "comment_id": 75845472, "body": "@Gusman The person who assigned me this task just wants the best teams overall, I just incorrectly assumed that having some perfect groups and multiple aberrant groups would yield the best overall result. So the best overall result is having the lowest combined score of all the teams in the comparison method I posted in the end of my question."}, {"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1496873760, "post_id": 44423255, "comment_id": 75845707, "body": "Hmmm, this is just an idea, if all the employees have the same number of hours per day and their work days are consecutive (I see two days and same schedule), if you take the first work hour of the first day (sat 8AM) as a timespan, sort the employees by this timespan and take groups of 15 employees wouldn&#39;t that give the result you want?"}, {"owner": {"reputation": 1769, "user_id": 7313749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/aJ3Rw.jpg?s=128&g=1", "display_name": "obl", "link": "https://stackoverflow.com/users/7313749/obl"}, "reply_to_user": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1496874197, "post_id": 44423255, "comment_id": 75845860, "body": "@Gusman Sorry the example is misleading, not all the agents work 8 hour days, although most do. Some work 8:30 hours, and a few work 3 - 6 hour days. Also many have different days off. I will edit my question to include this info."}, {"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1496874474, "post_id": 44423255, "comment_id": 75845953, "body": "Then how does those values modify the scores? I mean, if you match a worker who works 3 hours and other who works 8 hours but with the same schedule how many points will give that? And if one day matches and other not how does that modify the score? You lack a ton of information, first you need to define those rules, and then after that you can write the code. Also, as a note, S.O. is not the right place for this kind of question S.O. is meant to solve concrete doubts, not to ask general questions."}, {"owner": {"reputation": 35084, "user_id": 585411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xvEpe.jpg?s=128&g=1", "display_name": "btilly", "link": "https://stackoverflow.com/users/585411/btilly"}, "edited": false, "score": 0, "creation_date": 1496882408, "post_id": 44423255, "comment_id": 75848157, "body": "The phrase that you want to search for is &quot;simulated annealing&quot;.  Assign everyone randomly.  Keep randomly testing swaps, doing them if they are good, and possibly doing them if they are only somewhat bad.  The odds of doing them if they are only somewhat bad go up if they aren&#39;t very bad, and down over time.  Eventually you&#39;ll settle on a locally optimal solution which tends to be globally pretty good."}], "answers": [{"tags": [], "owner": {"reputation": 26725, "user_id": 213550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cyZ5c.jpg?s=128&g=1", "display_name": "VMAtm", "link": "https://stackoverflow.com/users/213550/vmatm"}, "is_accepted": false, "score": 1, "last_activity_date": 1497781490, "last_edit_date": 1497781490, "creation_date": 1496894634, "answer_id": 44426428, "question_id": 44423255, "link": "https://stackoverflow.com/questions/44423255/generate-closest-teams-based-on-employee-schedules-c/44426428#44426428", "title": "Generate closest teams based on employee schedules C#", "body": "<p>Can't say for sure about the schedules, but in string algorithms you can find an <a href=\"https://en.m.wikipedia.org/wiki/Edit_distance\" rel=\"nofollow noreferrer\">edit distance</a> calculation. The idea is to define number of operations you need to perform to get one string from another. For example, distance between <code>kitten</code> and <code>sitting</code> is 3, 2 for substitutions and 1 for deletion. I think that you can define a metric between two employees' schedule in similar way.</p>\n\n<p>Now, after you have a distance function, you may start a clusterization. The <a href=\"https://en.m.wikipedia.org/wiki/K-means_clustering\" rel=\"nofollow noreferrer\">k-means</a> algorithm may be a good start for you, but it's main disadvantage is that the number of groups is fixed initially. But I think that you can easily adjust general logic for your needs. After that, you may try some additional ways to cluster your data, but you really should start with your distance function, and then simply optimize it on your employee records.</p>\n"}, {"tags": [], "owner": {"reputation": 18716, "user_id": 240457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/675ffaa31b18c7c5ac916d95f172b7ac?s=128&d=identicon&r=PG", "display_name": "mcdowella", "link": "https://stackoverflow.com/users/240457/mcdowella"}, "is_accepted": true, "score": 1, "last_activity_date": 1496898744, "creation_date": 1496898744, "answer_id": 44427122, "question_id": 44423255, "link": "https://stackoverflow.com/questions/44423255/generate-closest-teams-based-on-employee-schedules-c/44427122#44427122", "title": "Generate closest teams based on employee schedules C#", "body": "<p>Unless you find a method that gets you an exact best answer, I would add a hill-climbing phase at the end that repeatedly checks to see if swapping any pair of agents between teams would improve things, and swaps them if this is the case, only stopping when it has rechecked every pair of agents and there are no more improvements to be made.</p>\n\n<p>I would do this for two reasons:</p>\n\n<p>1) Such hill-climbing finds reasonably good solutions surprisingly often.</p>\n\n<p>2) People are good at finding improvements like this. If you produce a computer-generated schedule and people can find simple improvements (perhaps because they notice they are often scheduled at the same time as somebody from another team) then you're going to look silly.</p>\n\n<p>Thinking about (2) another way to find local improvements would be to look for cases where a small number of people from different teams are scheduled at the same time and see if you can swap them all onto the same team.</p>\n"}], "owner": {"reputation": 1769, "user_id": 7313749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/aJ3Rw.jpg?s=128&g=1", "display_name": "obl", "link": "https://stackoverflow.com/users/7313749/obl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 44427122, "answer_count": 2, "score": 4, "last_activity_date": 1497781490, "creation_date": 1496871694, "last_edit_date": 1496894780, "question_id": 44423255, "link": "https://stackoverflow.com/questions/44423255/generate-closest-teams-based-on-employee-schedules-c", "title": "Generate closest teams based on employee schedules C#", "body": "<p>I am given a csv of employee schedules with columns:</p>\n\n<pre><code>employee ID, first last name, sunday schedule, monday schedule, ... , saturday schedule\n</code></pre>\n\n<p>1 week schedule for each employee. I've attached a screenshot of a portion of the csv file. The total file has around 300 rows.</p>\n\n<p><a href=\"https://i.stack.imgur.com/34o0z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/34o0z.png\" alt=\"schedules.csv\"></a></p>\n\n<p>I need to generate teams of 15 based on the employees' schedules (locations don't matter) so that the employees on each team have the closest schedules to each other. Pseudocode of what I have tried:</p>\n\n<ul>\n<li><p>parse csv file into array of schedules (my own struct definition)</p></li>\n<li><p>match employees who have the same exact schedule into teams (creates ~5 full sized teams, 20 - 25 half filled teams, leaves ~50 schedules who don't match with anyone)</p></li>\n<li><p>for i = 1 to 14, for each member of teams of size i, find the team with the closest schedule (as a whole) and add the member to that team. Once a team reaches size 15, mark them as \"done\".</p></li>\n</ul>\n\n<p>This worked somewhat but definitely did not give me the best teams. My question is does anyone know a better way to do this? Pseudocode or just a general idea will help, thanks.</p>\n\n<p>EDIT: Here is an example of the formula of comparison\nThe comparison is based on half hour blocks of difference between the agents schedules. Agent 25 has a score of 16 because he has a difference of 8 half hours with Agent 23 and 24. The team's total score is 32 based on everyone's scores added together.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6K9dm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6K9dm.png\" alt=\"Comparison\"></a></p>\n\n<p>Not all agents work 8 hour days, and many have different days off, which have the greatest effect on their \"closeness\" score. Also, a few agents have a different schedule on a certain day than their normal schedule. For example, one agent might work 7am - 3pm on mondays but work 8am - 4pm on tuesday - friday.</p>\n"}, {"tags": ["c#", "sql", "linq"], "answers": [{"comments": [{"owner": {"reputation": 214980, "user_id": 470005, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/09536b39b586f3ae555f8ce20d5d8bd1?s=128&d=identicon&r=PG", "display_name": "Sergey Berezovskiy", "link": "https://stackoverflow.com/users/470005/sergey-berezovskiy"}, "edited": false, "score": 0, "creation_date": 1496874167, "post_id": 44423463, "comment_id": 75845847, "body": "I don&#39;t think you need a Kundle in results, but using anonymous type for grouping is smart"}, {"owner": {"reputation": 95405, "user_id": 12725, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/98df3c7cc17f088af555c5accbdb2509?s=128&d=identicon&r=PG", "display_name": "James Curran", "link": "https://stackoverflow.com/users/12725/james-curran"}, "reply_to_user": {"reputation": 214980, "user_id": 470005, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/09536b39b586f3ae555f8ce20d5d8bd1?s=128&d=identicon&r=PG", "display_name": "Sergey Berezovskiy", "link": "https://stackoverflow.com/users/470005/sergey-berezovskiy"}, "edited": false, "score": 0, "creation_date": 1496928958, "post_id": 44423463, "comment_id": 75871876, "body": "The last line of the question states he needs the whole object.  I assume that he only returned the ID in the SQL because he was going to lookup on that later."}], "tags": [], "owner": {"reputation": 95405, "user_id": 12725, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/98df3c7cc17f088af555c5accbdb2509?s=128&d=identicon&r=PG", "display_name": "James Curran", "link": "https://stackoverflow.com/users/12725/james-curran"}, "is_accepted": true, "score": 2, "last_activity_date": 1496872631, "creation_date": 1496872631, "answer_id": 44423463, "question_id": 44423252, "link": "https://stackoverflow.com/questions/44423252/linq-to-entities-grouping/44423463#44423463", "title": "LINQ to Entities grouping", "body": "<p>Without your database, I can't test this, but this should be close:</p>\n\n<pre><code>from K in context.Kunde\njoin BO in context.Booking on K.id equals BO.Kunde_id\njoin BP  in context.Banepris on BO.starttid equals BP.time\nwhere BO.gratis == 0\ngroup new { Kunde = K, Pris = BP.pris } by K.id into g\nselect new { ID=g.Key, Kunde = g.First().Kunde, Sum = g.Sum(k=&gt;k.Pris)}\n</code></pre>\n"}], "owner": {"reputation": 456, "user_id": 8111977, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4cc66357b842c1707be023c111efd141?s=128&d=identicon&r=PG&f=1", "display_name": "Frederik Hansen", "link": "https://stackoverflow.com/users/8111977/frederik-hansen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 44423463, "answer_count": 1, "score": 0, "last_activity_date": 1496872673, "creation_date": 1496871685, "question_id": 44423252, "link": "https://stackoverflow.com/questions/44423252/linq-to-entities-grouping", "title": "LINQ to Entities grouping", "body": "<p>I have written the following SQL-query that illustrates what I'm trying to achieve:</p>\n\n<pre><code>SELECT\n    K.id,\n    SUM(BP.pris)\nFROM Kunde K\nJOIN Booking BO ON K.id = BO.Kunde_id\nJOIN Bane_Booking BB ON BO.id = BB.Booking_id\nJOIN Banepris BP ON BO.starttid = BP.time\nWHERE BO.gratis = 0\nGROUP BY K.id;\n</code></pre>\n\n<p>Basically it's retrieving the total amount spend by customers. Now I'm trying to convert this query into LINQ, as I'm using LINQ to Entities in my application. This is what I have so far:</p>\n\n<pre><code>from kunde in context.Kunde\njoin booking in context.Booking on kunde equals booking.Kunde\njoin banepris in context.Banepris on booking.starttid equals banepris.time\nfrom baneBooking in booking.Bane\nselect new { Kunde = kunde, Booking = booking, BaneBooking = baneBooking, Banepris = banepris };\n</code></pre>\n\n<p>I would like however to be able to group these in the same LINQ-query so I dont have to group them manually afterwards. How would i go about achieving this?</p>\n\n<p>I need to get the \"kunde\"-object and the sum of \"banepris.pris\".</p>\n"}, {"tags": ["c#", "list"], "comments": [{"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 2, "creation_date": 1496871740, "post_id": 44423243, "comment_id": 75844904, "body": "What would be wrong with <code>enctypes.Add( Land )</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7564765"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1496871859, "post_id": 44423243, "comment_id": 75844947, "body": "@Icepickle It says it&#39;s not available in the current context."}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 2, "creation_date": 1496871977, "post_id": 44423243, "comment_id": 75844991, "body": "Then I guess you need to change <code>Land</code>&#39;s scope. You haven&#39;t shown us enough code to know what the scope is, but you can easily tell that it&#39;s wrong from the error message."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7564765"}, "edited": false, "score": 0, "creation_date": 1496872898, "post_id": 44423243, "comment_id": 75845337, "body": "I gave Land <code>public static</code> and called from the another class <code>enctypes.Add(Land);</code>. No need for enctypeschanes anymore. Thank you for help."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7564765"}, "edited": false, "score": 0, "creation_date": 1496872895, "post_id": 44423423, "comment_id": 75845335, "body": "I gave Land <code>public static</code> and called from the another class <code>enctypes.Add(Land);</code>. No need for enctypeschanes anymore. Thank you for help."}], "tags": [], "owner": {"reputation": 395, "user_id": 872842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/36fc6e21fecaf0cb2070a7d1474737af?s=128&d=identicon&r=PG", "display_name": "bjelleklang", "link": "https://stackoverflow.com/users/872842/bjelleklang"}, "is_accepted": false, "score": 0, "last_activity_date": 1496872476, "creation_date": 1496872476, "answer_id": 44423423, "question_id": 44423243, "link": "https://stackoverflow.com/questions/44423243/how-to-add-an-item-from-a-list-to-another-list/44423423#44423423", "title": "How to add an item from a list to another list", "body": "<p><code>Land</code> has to be visible within the <code>start()</code> scope. You have to declare it inside the method, pass it in as an argument to the method, or make sure it's otherwise visible inside the class.</p>\n\n<p>As others have commented though, you should probably show us more code for a more specific answer.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7564765"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496872476, "creation_date": 1496871660, "question_id": 44423243, "link": "https://stackoverflow.com/questions/44423243/how-to-add-an-item-from-a-list-to-another-list", "title": "How to add an item from a list to another list", "body": "<p>I have a list called \"enctypechances\" and I want to give the item \"Land\" to another list.</p>\n\n<pre><code>public static List&lt;Encounter&gt; enctypechances = new List&lt;Encounter&gt;();\nEncounter Land = new Encounter(20, 20, 10, 10, 10, 10, 5, 5, 4, 4, 1, 1);\n</code></pre>\n\n<p>Here is where I want to add the \"Land\" item</p>\n\n<pre><code>List&lt;Encounter&gt; enctypes = new List&lt;Encounter&gt;();\n\nvoid Start () {\n    enctypes.Add( ??? );\n}\n</code></pre>\n"}, {"tags": ["c#", "c++", "unity3d", "interop"], "comments": [{"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1496871412, "post_id": 44423178, "comment_id": 75844804, "body": "Are those values <i>real</i> values? (the ones on the example)"}, {"owner": {"reputation": 518, "user_id": 3935751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lMCOH.jpg?s=128&g=1", "display_name": "Brent McFerrin", "link": "https://stackoverflow.com/users/3935751/brent-mcferrin"}, "reply_to_user": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1496885985, "post_id": 44423178, "comment_id": 75848980, "body": "@Gusman yes, those are real values. The values can range from 0 to maybe 5000."}], "answers": [{"tags": [], "owner": {"reputation": 30170, "user_id": 5231607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGsq.jpg?s=128&g=1", "display_name": "1201ProgramAlarm", "link": "https://stackoverflow.com/users/5231607/1201programalarm"}, "is_accepted": false, "score": 1, "last_activity_date": 1496874926, "creation_date": 1496874926, "answer_id": 44423839, "question_id": 44423178, "link": "https://stackoverflow.com/questions/44423178/update-float-array-from-c-native-plugin/44423839#44423839", "title": "Update float array from C++ native plugin", "body": "<p>The pointer you return in <code>getSomeFloats</code> is owned by <code>results</code>.  Before <code>getSomeFloats</code> returns, the vector destructor for <code>results</code> will free that memory.  When the C# code tries to use the pointer, you are accessing unallocated memory, which results in Undefined Behavior.  In your case most of the data hasn't been changed yet, but some of it has.  Potentially any or all of the data could have been changed (if the memory has been reused), or even a program crash (if the freed memory has been returned to the OS).</p>\n"}, {"comments": [{"owner": {"reputation": 518, "user_id": 3935751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lMCOH.jpg?s=128&g=1", "display_name": "Brent McFerrin", "link": "https://stackoverflow.com/users/3935751/brent-mcferrin"}, "edited": false, "score": 0, "creation_date": 1496885556, "post_id": 44424465, "comment_id": 75848866, "body": "Thank you for the detailed response. I will look into your recommendation and report back if I get something working well. Oh, I have updated the C++ method signature as it was incorrect."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 518, "user_id": 3935751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lMCOH.jpg?s=128&g=1", "display_name": "Brent McFerrin", "link": "https://stackoverflow.com/users/3935751/brent-mcferrin"}, "edited": false, "score": 0, "creation_date": 1496886552, "post_id": 44424465, "comment_id": 75849103, "body": "There shouldn&#39;t be any problem. Let me know if there is any. Remember to start slow, test then add more code and test so that you will know exactly what&#39;s going on if it stops working."}, {"owner": {"reputation": 518, "user_id": 3935751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lMCOH.jpg?s=128&g=1", "display_name": "Brent McFerrin", "link": "https://stackoverflow.com/users/3935751/brent-mcferrin"}, "edited": false, "score": 0, "creation_date": 1497450759, "post_id": 44424465, "comment_id": 76086032, "body": "I was hoping to try your &quot;recommended method&quot; before reporting back, but haven&#39;t had the time. Nevertheless, even following the general advice from your first point was enough to get me by for now. I will report back with the results of the recommended method when I get around to it. Thanks for your help!"}], "tags": [], "owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "is_accepted": true, "score": 6, "last_activity_date": 1541617062, "last_edit_date": 1541617062, "creation_date": 1496879172, "answer_id": 44424465, "question_id": 44423178, "link": "https://stackoverflow.com/questions/44423178/update-float-array-from-c-native-plugin/44424465#44424465", "title": "Update float array from C++ native plugin", "body": "<p>Found few problems in your code:</p>\n\n<p><strong>1</strong>. <code>std::vector&lt;float&gt; results;</code> is declared on the stack. It will be gone by the time the function has returned.  Declare it as a pointer </p>\n\n<pre><code>std::vector&lt;float&gt; *results = new std::vector&lt;float&gt;(10);\n</code></pre>\n\n<p>but make sure to also declare a function that will free it on the C++ side.</p>\n\n<p><strong>2</strong>.The function parameter do not match.</p>\n\n<p><em>Your C++:</em></p>\n\n<pre><code>getSomeFloats(float** points, int* count, CameraPose* pose)\n</code></pre>\n\n<p><em>Your C#:</em></p>\n\n<pre><code>getSomeFloats (ref IntPtr ptrResultItems, ref int resultItemsLength);\n</code></pre>\n\n<p>You either have to remove <code>CameraPose* pose</code> from the C++ side or add <code>IntPtr pose</code> to the C# side.</p>\n\n<p><strong>3</strong>. The use of <code>UNITY_INTERFACE_EXPORT UNITY_INTERFACE_API</code>.</p>\n\n<p>You don't need that. This is used when you want to use Unity's built in functions such as <a href=\"https://docs.unity3d.com/ScriptReference/GL.IssuePluginEvent.html\" rel=\"nofollow noreferrer\"><code>GL.IssuePluginEvent</code></a>. You are not using it in this case.</p>\n\n<p>This should do it:</p>\n\n<pre><code>#define DLLExport __declspec(dllexport)\n\nextern \"C\"\n{\n    DLLExport void fillArrayNative(float* data, int count, int* outValue) \n    {\n    }\n}\n</code></pre>\n\n<p><strong>4</strong>.C# has a garbage collector that moves variables around in the memory. You must pin C# array if you want to modify it from C++ side. You only need to pin C# array. Another option is to allocate the array on C++ side, return it to C# copy it to a temporary variable on the C# side then delete it on the C++ side. </p>\n\n<p><strong>5</strong>.Copy the result back to the array instead of assigning it.</p>\n\n<hr>\n\n<hr>\n\n<p><strong>Recommended method</strong>:</p>\n\n<p>There are just <strong>many</strong> ways to do this and some of them are extremely slow. If you want to use <code>Marshal.Copy</code>, you have to allocate the array on the C++ side or else you will run into some undefined behavior.</p>\n\n<p>The fastest and the most efficient way to do this is to allocate the array on the C# side as a global variable. Pass the array and its length to the native side. Also pass a third parameter which C++ can use to tell C# the amount of index that has been updated or written to.</p>\n\n<p>This is much more better than creating new array, copying it to C# variable then destroying it each time the function is called.</p>\n\n<p>This is what you should be using:</p>\n\n<p><strong>C++:</strong></p>\n\n<pre><code>#define DLLExport __declspec(dllexport)\n\nextern \"C\"\n{\n    DLLExport void fillArrayNative(float* data, int count, int* outValue) \n    {\n        std::vector&lt;float&gt; results;\n        for (int i = 0; i &lt; count; i++)\n        {\n            //Fill the array\n            data[i] = results[i];\n        }\n        *outValue = results.size();\n    }\n}\n</code></pre>\n\n<p>You can also use:  <code>std::copy ( data, data+count, results.begin() );</code> instead of loop to copy the data too.</p>\n\n<p><strong>C#:</strong></p>\n\n<pre><code>[DllImport(\"NativePlugin\", CallingConvention = CallingConvention.Cdecl)]\nprivate static extern void fillArrayNative(IntPtr data, int count, out int outValue);\n\npublic unsafe void getFillArrayNative(float[] outArray, int count, out int outValue)\n{\n    //Pin Memory\n    fixed (float* p = outArray)\n    {\n        fillArrayNative((IntPtr)p, count, out outValue);\n    }\n}\n</code></pre>\n\n<p><strong>Usage</strong>:</p>\n\n<pre><code>const int arraySize = 44500;\nfloat[] arrayToFill = new float[arraySize];\n\nvoid Start()\n{\n    int length = arrayToFill.Length;\n    int filledAmount = 0;\n    getFillArrayNative(arrayToFill, length, out filledAmount);\n\n    //You can then loop through it with with the returned filledAmount\n    for (int i = 0; i &lt; filledAmount; i++)\n    {\n        //Do something with arrayToFill[i]\n    }\n}\n</code></pre>\n\n<p>This is just an example and it is faster than all other methods I've used before. Avoid doing it the way you are currently doing it with <code>Marshal.Copy</code>. If you still want to do it your way or use <code>Marshal.Copy</code> then <a href=\"https://stackoverflow.com/a/43632320/3785314\">here</a> is the appropriate way to do it which requires allocation, copying data and de-allocating memory in each call. </p>\n"}], "owner": {"reputation": 518, "user_id": 3935751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lMCOH.jpg?s=128&g=1", "display_name": "Brent McFerrin", "link": "https://stackoverflow.com/users/3935751/brent-mcferrin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2693, "favorite_count": 2, "accepted_answer_id": 44424465, "answer_count": 2, "score": 1, "last_activity_date": 1541617394, "creation_date": 1496871329, "last_edit_date": 1541617394, "question_id": 44423178, "link": "https://stackoverflow.com/questions/44423178/update-float-array-from-c-native-plugin", "title": "Update float array from C++ native plugin", "body": "<p>I am seeing a pretty bizarre issue while trying to pass an array from C++ to C#. I am using Marshal.Copy (specifically: <a href=\"https://msdn.microsoft.com/en-us/library/a53bd6cz(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/a53bd6cz(v=vs.110).aspx</a>).</p>\n\n<p><strong>Problem: float array from C++ to C# is yielding a few <code>NaN</code>'s in the resulting array.</strong>\n<em>(Note: I am working in the context of the Unity game engine)</em></p>\n\n<hr>\n\n<p><strong>Code</strong></p>\n\n<p>Example C++ code:</p>\n\n<pre><code>extern \"C\" bool UNITY_INTERFACE_EXPORT UNITY_INTERFACE_API getSomeFloats(float** points, int* count) {\n        std::vector&lt;float&gt; results;\n        std::vector&lt;SOME_TYPE&gt; key_points = &lt;SOME_POINTS&gt;\n\n        for (auto iter = key_points.begin(); iter &lt; key_points.end(); iter++) {\n            results.push_back(static_cast&lt;float&gt;(iter-&gt;pt.x));\n            results.push_back(static_cast&lt;float&gt;(iter-&gt;pt.y));\n        }\n\n        *points = results.data();\n        *count = results.size();\n\n        //&lt;Print results to csv here&gt;\n\n        return true;\n}\n</code></pre>\n\n<p>Example C# code:</p>\n\n<pre><code>[DllImport(\"NativePlugin\")]\nprivate static extern bool getSomeFloats (ref IntPtr ptrResultItems, ref int resultItemsLength);\n\nprivate static float[] getFloatArrayFromNative() {\n        IntPtr ptrResultItems = IntPtr.Zero;\n        int resultItemsLength = 0;\n        bool success = getSomeFloats (ref ptrResultItems, ref resultItemsLength);\n        float[] resultItems = null;\n        if (success) {\n            // Load the results into a managed array.\n            resultItems = new float[resultItemsLength];\n            Marshal.Copy (ptrResultItems\n                , resultItems\n                , 0\n                , resultItemsLength);\n\n            // &lt;PRINT out resultItems to csv here&gt;\n\n            return resultItems;\n        } else {\n            Debug.Log (\"Something went wrong getting some floats\");\n            return new float[] { -1, -2 };\n        }\n    }\n</code></pre>\n\n<hr>\n\n<p><strong>Example Ouput:</strong>\nTake the following example:\nC++ output (print_out.csv):</p>\n\n<blockquote>\n  <p>123, 456, 789</p>\n</blockquote>\n\n<p>C# output (print_out_cs.csv):</p>\n\n<blockquote>\n  <p>123, NaN, 789</p>\n</blockquote>\n\n<hr>\n\n<p>I'm completely stumped on this one. I just don't understand why only some (roughly 7/100) floats are returning <code>NaN</code>. Does anyone have any advice/insight that might help?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "azure", "azure-cloud-services"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1496871836, "post_id": 44423125, "comment_id": 75844937, "body": "For a cloud service, you pay for it to be there, and how much you use it doesn&#39;t matter. The only way not to pay is to deallocate it."}, {"owner": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 0, "creation_date": 1496873048, "post_id": 44423125, "comment_id": 75845407, "body": "Every service in Azure has its own pricing model. Some are consumption-base. Some let you stop/start. Others are billed until destroyed. You can see all of this in the documentation."}, {"owner": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 0, "creation_date": 1496873191, "post_id": 44423125, "comment_id": 75845484, "body": "fyi This has been fully covered (cloud service billing and virtual machine billing) in other answers, including the one I marked as duplicate of."}], "answers": [{"comments": [{"owner": {"reputation": 671, "user_id": 4064630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100001958091711/picture?type=large", "display_name": "Francis Lord", "link": "https://stackoverflow.com/users/4064630/francis-lord"}, "edited": false, "score": 0, "creation_date": 1496872932, "post_id": 44423500, "comment_id": 75845352, "body": "Could you elaborate on that? I&#39;m really new to Azure, so I don&#39;t know much about it. Is there a way to (as you say) create a function, then ask Azure to call that function every 15 minutes for example? How is that setup in Azure and in Visual Studio?"}, {"owner": {"reputation": 3432, "user_id": 399436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0325de57bac5882c49e320af9851042?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/399436/mike"}, "reply_to_user": {"reputation": 671, "user_id": 4064630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100001958091711/picture?type=large", "display_name": "Francis Lord", "link": "https://stackoverflow.com/users/4064630/francis-lord"}, "edited": false, "score": 0, "creation_date": 1496873201, "post_id": 44423500, "comment_id": 75845487, "body": "I believe that you would have to call it on a schedule with REST"}, {"owner": {"reputation": 3432, "user_id": 399436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0325de57bac5882c49e320af9851042?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/399436/mike"}, "reply_to_user": {"reputation": 671, "user_id": 4064630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100001958091711/picture?type=large", "display_name": "Francis Lord", "link": "https://stackoverflow.com/users/4064630/francis-lord"}, "edited": false, "score": 0, "creation_date": 1496873264, "post_id": 44423500, "comment_id": 75845516, "body": "By the way there are lots of free azure trainings available through Microsoft"}, {"owner": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "reply_to_user": {"reputation": 671, "user_id": 4064630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100001958091711/picture?type=large", "display_name": "Francis Lord", "link": "https://stackoverflow.com/users/4064630/francis-lord"}, "edited": false, "score": 0, "creation_date": 1496873452, "post_id": 44423500, "comment_id": 75845586, "body": "@FrancisLord Please ask a new question about Azure Functions, rather than trying to start a discussion in comments. Also - as Mike said - plenty of free training / documentation. I suggest starting there, then asking specific programming questions. Your general questions should be answered already in existing documentation."}, {"owner": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 0, "creation_date": 1496873574, "post_id": 44423500, "comment_id": 75845643, "body": "Your original question asked about how cloud services are billed. And made no mention of Azure Functions (which is a completely different service)."}], "tags": [], "owner": {"reputation": 3432, "user_id": 399436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0325de57bac5882c49e320af9851042?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/399436/mike"}, "is_accepted": false, "score": -1, "last_activity_date": 1496873144, "last_edit_date": 1496873144, "creation_date": 1496872870, "answer_id": 44423500, "question_id": 44423125, "link": "https://stackoverflow.com/questions/44423125/pricing-of-azure-cloud-services-or-how-is-usage-calculated/44423500#44423500", "title": "Pricing of Azure Cloud services (or how is usage calculated)", "body": "<p>There are ways on azure to be billed dynamically.  For example,  If you create a function then it will only be provisioned when it is called and you will only be billed for that time.if you use a vm image or website then you will be billed for the whole time it is running even if it is not in use.\nHere is a link to the azure functions billing page that describes the details:\n<a href=\"https://azure.microsoft.com/en-us/pricing/details/functions/?cdn=disable\" rel=\"nofollow noreferrer\">https://azure.microsoft.com/en-us/pricing/details/functions/?cdn=disable</a></p>\n"}], "owner": {"reputation": 671, "user_id": 4064630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100001958091711/picture?type=large", "display_name": "Francis Lord", "link": "https://stackoverflow.com/users/4064630/francis-lord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "closed_date": 1496873164, "answer_count": 1, "score": 0, "last_activity_date": 1496873144, "creation_date": 1496871125, "question_id": 44423125, "link": "https://stackoverflow.com/questions/44423125/pricing-of-azure-cloud-services-or-how-is-usage-calculated", "closed_reason": "Duplicate", "title": "Pricing of Azure Cloud services (or how is usage calculated)", "body": "<p>So, I'm looking making a cloud service using the Azure platform (<a href=\"https://azure.microsoft.com/en-ca/pricing/details/cloud-services/\" rel=\"nofollow noreferrer\">here</a>), looked at the pricing and saw it was calculated per hour (or per minutes according to the banner). So I was wondering, in the case of what I want to do, the service will be doing stuff every (for example) 15 minutes, then will sleep for the rest of the duration. Does that mean I'm only gonna be charged for a couple minutes every hour, or will still count the thread sleep as being active, thus counting in the usage? If it's the latter, is there another way to avoid this (part of the service framework maybe?), short of shutting down the service of course?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 0, "creation_date": 1496871216, "post_id": 44423124, "comment_id": 75844716, "body": "Have you come across the <code>ToDictionary</code> linq method? IF not it should be just what you need!"}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "reply_to_user": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 0, "creation_date": 1496871671, "post_id": 44423124, "comment_id": 75844881, "body": "@Chris: That won&#39;t make a <code>List&lt;Dictionary&gt;</code>"}, {"owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1496871801, "post_id": 44423124, "comment_id": 75844924, "body": "@SLaks: That is true but we have the list already. I&#39;ve put an answer down now anyway to expand on it."}], "answers": [{"tags": [], "owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "is_accepted": false, "score": 1, "last_activity_date": 1496871678, "creation_date": 1496871678, "answer_id": 44423250, "question_id": 44423124, "link": "https://stackoverflow.com/questions/44423124/create-dictionary-after-selectmany/44423250#44423250", "title": "Create Dictionary after SelectMany", "body": "<p>I think what you want is this:</p>\n\n<pre><code>categories.Select(x=&gt;x.CategoriesI18N.ToDictionary(y=&gt;y.LanguageCode)).ToList()\n</code></pre>\n\n<p>The <code>Select</code> will mean it will make one entry in the final list for each catgegory. </p>\n\n<p>We then transform the category to a dictionary by using <code>ToDictionary</code> on its <code>CategoriesI18N</code> property. We pass in a simple selector to define the key for each entry. Since we provide no selector for the value it will put the object ie the <code>CategoriesI18N</code> entry) as the value in the dictionary.</p>\n\n<p>I'm not sure how the LanguageCode is defined in your <code>CategoriesI18N</code> object so you may need to edit that.</p>\n\n<p>Note that I have not used <code>SelectMany</code> - this is because it loses the information we want which is the categories. It will instead put all of the CategoriesI18N into a single list which will make it much harder to then put it in a list based on categories.</p>\n"}], "owner": {"reputation": 27795, "user_id": 577805, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dbbe0a475e6a151f0595b83e55475f34?s=128&d=identicon&r=PG", "display_name": "Miguel Moura", "link": "https://stackoverflow.com/users/577805/miguel-moura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496871678, "creation_date": 1496871116, "last_edit_date": 1496871177, "question_id": 44423124, "link": "https://stackoverflow.com/questions/44423124/create-dictionary-after-selectmany", "title": "Create Dictionary after SelectMany", "body": "<p>I have the classes Category and CategoryI18N:</p>\n\n<pre><code>public class Category {\n  public Int32 Id { get; set; }    \n  public virtual ICollection&lt;CategoryI18N&gt; CategoriesI18N { get; set; };    \n}\n\npublic class CategoryI18N {\n  public String LanguageCode { get; set; }\n  public String Name { get; set; }   \n}\n</code></pre>\n\n<p>And I have the following query:</p>\n\n<pre><code>IList&lt;Category&gt; categories = service.GetCategories();  \n\nvar result = categories.SelectMany(y =&gt; y.CategoriesI18N, (c, cI18N) =&gt; new { c, cI18N })\n</code></pre>\n\n<p>I would like result to be a <code>List&lt;Dictionary&lt;String, CategoryI18N&gt;&gt;</code> where:<br>\n1 - The list is the list of categories;<br>\n2 - The dictionary values are the <code>CategoriesI18N</code> in each <code>Category</code> and the Key is each <code>CategoryI18N</code> language code.    </p>\n\n<p>How should I do this after the <code>SelectMany</code>?</p>\n"}, {"tags": ["c#", "unity3d", "unity5"], "comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 1, "creation_date": 1496870826, "post_id": 44422991, "comment_id": 75844554, "body": "I would not expect <code>TileMapEditor</code> to be attached to a game object due to it being a editor component. Also, you need to show your code where you used <code>GetComponent</code> and it did not work"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1496870930, "post_id": 44422991, "comment_id": 75844588, "body": "But that method doesn&#39;t do anything..."}, {"owner": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1496871919, "post_id": 44422991, "comment_id": 75844973, "body": "@RufusL you right i updated the question with the TileMapEditor full code. and i&#39;m using the method TerrainObjects inside the Draw in the TileMapEditor. What i want to do is each time in real time when i create a cube in the TileMapEditor send the gameobject to the TerrainObjects script so i can use this gameobject."}, {"owner": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "edited": false, "score": 0, "creation_date": 1496872027, "post_id": 44422991, "comment_id": 75845013, "body": "I want in the TerrainObjects script to take from the returned gameobject in the TerrainObjects method some information like position,scale,rotation,tag,name....Then make manipulation with the gameobject info in the TerrainObjects script."}], "answers": [{"comments": [{"owner": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "edited": false, "score": 0, "creation_date": 1496873124, "post_id": 44423346, "comment_id": 75845458, "body": "TileMapEditor is not exist in the TerrainObjects script. I cant add there the line TileMapEditor[] tpEditorInstance = (TileMapEditor[])Resources.FindObjectsOfTypeAll(typeof(TileM&zwnj;&#8203;apEditor));"}, {"owner": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "edited": false, "score": 0, "creation_date": 1496873152, "post_id": 44423346, "comment_id": 75845469, "body": "TileMap is a script that attached to a gameobject but not accessing to the TileMapEditor."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "edited": false, "score": 0, "creation_date": 1496873648, "post_id": 44423346, "comment_id": 75845668, "body": "Please carefully read the answer again. I never mentioned <code>TerrainObjects</code> script in my answer. I only mentioned the <code>TerrainObjects</code> function in your <code>TileMapEditor</code> script. This is why you should not name function and class the-same name as that is confusing you now. You want to call <code>TerrainObjects</code> function from the <code>TileMapEditor</code> script? That&#39;s what is in my answer."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "edited": false, "score": 0, "creation_date": 1496873863, "post_id": 44423346, "comment_id": 75845747, "body": "Also check my Edit about namespace."}], "tags": [], "owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "is_accepted": true, "score": 2, "last_activity_date": 1496873842, "last_edit_date": 1496873842, "creation_date": 1496872113, "answer_id": 44423346, "question_id": 44422991, "link": "https://stackoverflow.com/questions/44422991/call-a-function-in-a-customeditor-script-from-another-script/44423346#44423346", "title": "Call a function in a CustomEditor script from another script", "body": "<p>I assume this is an Editor plugin. <code>GetComponent</code> should <strong>not</strong> work for scripts that inherits from the <code>Editor</code>. You need to use <a href=\"https://docs.unity3d.com/ScriptReference/Resources.FindObjectsOfTypeAll.html\" rel=\"nofollow noreferrer\"><code>Resources.FindObjectsOfTypeAll</code></a> to find <code>TileMapEditor</code> then call its function (<code>TerrainObjects</code>). </p>\n\n<p>If there is one instance of <code>TileMap</code>, use index <code>0</code> to call the function. If there are many of them then loop through them and call their functions.</p>\n\n<pre><code>TileMapEditor[] tpEditorInstance = (TileMapEditor[])Resources.FindObjectsOfTypeAll(typeof(TileMapEditor));\n\n//Make sure it is not null\nif (tpEditorInstance != null &amp;&amp; tpEditorInstance.Length &gt; 0)\n{\n    tpEditorInstance[0].TerrainObjects(gameObject);\n}\nelse\n{\n    Debug.Log(\"TileMapEditor is Null\");\n}\n</code></pre>\n\n<p><strong>EDIT</strong>:</p>\n\n<blockquote>\n  <p>TileMapEditor is not exist in the TerrainObjects script.</p>\n</blockquote>\n\n<p>Don't really understand that but remember that your <code>TileMapEditor</code> script is in another namespace called \"<code>CBX.Unity.Editors.Editor</code>\". You have to import that namespace too in any script that will access <code>TileMapEditor</code>.</p>\n\n<p>Just add <code>using CBX.Unity.Editors.Editor;</code> to the top of each script that will access the <code>TileMapEditor</code> script.</p>\n"}], "owner": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1416, "favorite_count": 0, "accepted_answer_id": 44423346, "answer_count": 1, "score": 0, "last_activity_date": 1496873842, "creation_date": 1496870546, "last_edit_date": 1496872484, "question_id": 44422991, "link": "https://stackoverflow.com/questions/44422991/call-a-function-in-a-customeditor-script-from-another-script", "title": "Call a function in a CustomEditor script from another script", "body": "<p>I want to use GetComponent. This script is <strong>not</strong> attached to any Gameobject:</p>\n\n<pre><code>namespace CBX.Unity.Editors.Editor\n{\n    using System;\n    using CBX.TileMapping.Unity;\n    using UnityEditor;\n    using UnityEngine;\n\n    /// &lt;summary&gt;\n    /// Provides a editor for the &lt;see cref=\"TileMap\"/&gt; component\n    /// &lt;/summary&gt;\n    [CustomEditor(typeof(TileMap))]\n    public class TileMapEditor : Editor\n    {\n        /// &lt;summary&gt;\n        /// Holds the location of the mouse hit location\n        /// &lt;/summary&gt;\n        private Vector3 mouseHitPos;\n\n        /// &lt;summary&gt;\n        /// Lets the Editor handle an event in the scene view.\n        /// &lt;/summary&gt;\n        /// \n\n        private void OnSceneGUI()\n        {\n            // if UpdateHitPosition return true we should update the scene views so that the marker will update in real time\n            if (this.UpdateHitPosition())\n            {\n                SceneView.RepaintAll();\n            }\n\n            // Calculate the location of the marker based on the location of the mouse\n            this.RecalculateMarkerPosition();\n\n            // get a reference to the current event\n            Event current = Event.current;\n\n            // if the mouse is positioned over the layer allow drawing actions to occur\n            if (this.IsMouseOnLayer())\n            {\n                // if mouse down or mouse drag event occurred\n                if (current.type == EventType.MouseDown || current.type == EventType.MouseDrag)\n                {\n                    if (current.button == 1)\n                    {\n                        // if right mouse button is pressed then we erase blocks\n                        this.Erase();\n                        current.Use();\n                    }\n                    else if (current.button == 0)\n                    {\n                        // if left mouse button is pressed then we draw blocks\n                        this.Draw();\n                        current.Use();\n                    }\n                }\n            }\n\n            // draw a UI tip in scene view informing user how to draw &amp; erase tiles\n            Handles.BeginGUI();\n            GUI.Label(new Rect(10, Screen.height - 90, 100, 100), \"LMB: Draw\");\n            GUI.Label(new Rect(10, Screen.height - 105, 100, 100), \"RMB: Erase\");\n            Handles.EndGUI();\n        }\n\n        /// &lt;summary&gt;\n        /// When the &lt;see cref=\"GameObject\"/&gt; is selected set the current tool to the view tool.\n        /// &lt;/summary&gt;\n        private void OnEnable()\n        {\n            Tools.current = Tool.View;\n            Tools.viewTool = ViewTool.FPS;\n        }\n\n        /// &lt;summary&gt;\n        /// Draws a block at the pre-calculated mouse hit position\n        /// &lt;/summary&gt;\n        private void Draw()\n        {\n            // get reference to the TileMap component\n            var map = (TileMap)this.target;\n\n            // Calculate the position of the mouse over the tile layer\n            var tilePos = this.GetTilePositionFromMouseLocation();\n\n            // Given the tile position check to see if a tile has already been created at that location\n            var cube = GameObject.Find(string.Format(\"Tile_{0}_{1}\", tilePos.x, tilePos.y));\n\n            // if there is already a tile present and it is not a child of the game object we can just exit.\n            if (cube != null &amp;&amp; cube.transform.parent != map.transform)\n            {\n                return;\n            }\n\n            // if no game object was found we will create a cube\n            if (cube == null)\n            {\n                cube = GameObject.CreatePrimitive(PrimitiveType.Cube);\n            }\n\n            // set the cubes position on the tile map\n            var tilePositionInLocalSpace = new Vector3((tilePos.x * map.TileWidth) + (map.TileWidth / 2), (tilePos.y * map.TileHeight) + (map.TileHeight / 2));\n            cube.transform.position = map.transform.position + tilePositionInLocalSpace;\n\n            // we scale the cube to the tile size defined by the TileMap.TileWidth and TileMap.TileHeight fields \n            cube.transform.localScale = new Vector3(map.TileWidth, map.TileHeight, 1);\n\n            // set the cubes parent to the game object for organizational purposes\n            cube.transform.parent = map.transform;\n\n            // give the cube a name that represents it's location within the tile map\n            cube.name = string.Format(\"Tile_{0}_{1}\", tilePos.x, tilePos.y);\n\n            // give the cube a tag\n            cube.tag = \"GridObject\";\n\n            TerrainObjects(cube);\n        }\n\n        public GameObject TerrainObjects(GameObject gameobject)\n        {\n            return gameobject;\n        }\n\n        /// &lt;summary&gt;\n        /// Erases a block at the pre-calculated mouse hit position\n        /// &lt;/summary&gt;\n        private void Erase()\n        {\n            // get reference to the TileMap component\n            var map = (TileMap)this.target;\n\n            // Calculate the position of the mouse over the tile layer\n            var tilePos = this.GetTilePositionFromMouseLocation();\n\n            // Given the tile position check to see if a tile has already been created at that location\n            var cube = GameObject.Find(string.Format(\"Tile_{0}_{1}\", tilePos.x, tilePos.y));\n            var terrainObject = GameObject.Find(string.Format(\"Terrain_{0}_{1}\", Terrain.activeTerrain.transform.position.x + tilePos.x, Terrain.activeTerrain.transform.position.z + tilePos.y));\n\n            // if a game object was found with the same name and it is a child we just destroy it immediately\n            if (cube != null &amp;&amp; cube.transform.parent == map.transform)\n            {\n                UnityEngine.Object.DestroyImmediate(cube);\n            }\n\n            if (terrainObject != null &amp;&amp; terrainObject.transform.parent == map.transform)\n            {\n                DestroyImmediate(terrainObject);\n            }\n        }\n\n        /// &lt;summary&gt;\n        /// Calculates the location in tile coordinates (Column/Row) of the mouse position\n        /// &lt;/summary&gt;\n        /// &lt;returns&gt;Returns a &lt;see cref=\"Vector2\"/&gt; type representing the Column and Row where the mouse of positioned over.&lt;/returns&gt;\n        private Vector2 GetTilePositionFromMouseLocation()\n        {\n            // get reference to the tile map component\n            var map = (TileMap)this.target;\n\n            // calculate column and row location from mouse hit location\n            var pos = new Vector3(this.mouseHitPos.x / map.TileWidth, this.mouseHitPos.y / map.TileHeight, map.transform.position.z);\n\n            // round the numbers to the nearest whole number using 5 decimal place precision\n            pos = new Vector3((int)Math.Round(pos.x, 5, MidpointRounding.ToEven), (int)Math.Round(pos.y, 5, MidpointRounding.ToEven), 0);\n\n            // do a check to ensure that the row and column are with the bounds of the tile map\n            var col = (int)pos.x;\n            var row = (int)pos.y;\n            if (row &lt; 0)\n            {\n                row = 0;\n            }\n\n            if (row &gt; map.Rows - 1)\n            {\n                row = map.Rows - 1;\n            }\n\n            if (col &lt; 0)\n            {\n                col = 0;\n            }\n\n            if (col &gt; map.Columns - 1)\n            {\n                col = map.Columns - 1;\n            }\n\n            // return the column and row values\n            return new Vector2(col, row);\n        }\n\n        /// &lt;summary&gt;\n        /// Returns true or false depending if the mouse is positioned over the tile map.\n        /// &lt;/summary&gt;\n        /// &lt;returns&gt;Will return true if the mouse is positioned over the tile map.&lt;/returns&gt;\n        private bool IsMouseOnLayer()\n        {\n            // get reference to the tile map component\n            var map = (TileMap)this.target;\n\n            // return true or false depending if the mouse is positioned over the map\n            return this.mouseHitPos.x &gt; 0 &amp;&amp; this.mouseHitPos.x &lt; (map.Columns * map.TileWidth) &amp;&amp;\n                   this.mouseHitPos.y &gt; 0 &amp;&amp; this.mouseHitPos.y &lt; (map.Rows * map.TileHeight);\n        }\n\n        /// &lt;summary&gt;\n        /// Recalculates the position of the marker based on the location of the mouse pointer.\n        /// &lt;/summary&gt;\n        private void RecalculateMarkerPosition()\n        {\n            // get reference to the tile map component\n            var map = (TileMap)this.target;\n\n            // store the tile location (Column/Row) based on the current location of the mouse pointer\n            var tilepos = this.GetTilePositionFromMouseLocation();\n\n            // store the tile position in world space\n            var pos = new Vector3(tilepos.x * map.TileWidth, tilepos.y * map.TileHeight, 0);\n\n            // set the TileMap.MarkerPosition value\n            map.MarkerPosition = map.transform.position + new Vector3(pos.x + (map.TileWidth / 2), pos.y + (map.TileHeight / 2), 0);\n        }\n\n        /// &lt;summary&gt;\n        /// Calculates the position of the mouse over the tile map in local space coordinates.\n        /// &lt;/summary&gt;\n        /// &lt;returns&gt;Returns true if the mouse is over the tile map.&lt;/returns&gt;\n        private bool UpdateHitPosition()\n        {\n            // get reference to the tile map component\n            var map = (TileMap)this.target;\n\n            // build a plane object that \n            var p = new Plane(map.transform.TransformDirection(Vector3.forward), map.transform.position);\n\n            // build a ray type from the current mouse position\n            var ray = HandleUtility.GUIPointToWorldRay(Event.current.mousePosition);\n\n            // stores the hit location\n            var hit = new Vector3();\n\n            // stores the distance to the hit location\n            float dist;\n\n            // cast a ray to determine what location it intersects with the plane\n            if (p.Raycast(ray, out dist))\n            {\n                // the ray hits the plane so we calculate the hit location in world space\n                hit = ray.origin + (ray.direction.normalized * dist);\n            }\n\n            // convert the hit location from world space to local space\n            var value = map.transform.InverseTransformPoint(hit);\n\n            // if the value is different then the current mouse hit location set the \n            // new mouse hit location and return true indicating a successful hit test\n            if (value != this.mouseHitPos)\n            {\n                this.mouseHitPos = value;\n                return true;\n            }\n\n            // return false if the hit test failed\n            return false;\n        }\n    }\n}\n</code></pre>\n\n<p>In this script i also added a public method</p>\n\n<pre><code>public GameObject TerrainObjects(GameObject gameobject)\n{\n    return gameobject;\n}\n</code></pre>\n\n<p>And I want to get access to this method TerrainObjects from another script:</p>\n\n<p>This script is attached to a GameObject:</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class TerrainObjects : MonoBehaviour {\n\n    // Use this for initialization\n    void Start ()\n    {\n      GetComponent&lt;tile&gt;\n    }\n\n    // Update is called once per frame\n    void Update ()\n    {\n\n    }\n}\n</code></pre>\n\n<p>I'm trying to type tile or TileMap or TileMapEditor but it's not exist.\nSo i can't make Getcomponent of this script.</p>\n\n<p>In the Start i tried to type:</p>\n\n<pre><code>GetComponent&lt;tile&gt;\n</code></pre>\n\n<p>But I can't access the TileMapEditor.</p>\n\n<p>Is there any way to get access to it ?\nIf it's editor type script should i attach to the same gameobject as the TerrainObjects script ?</p>\n\n<p>I don't want that the TileMapEditor will work in game only in scene.</p>\n"}, {"tags": ["c#", "android", "unity3d", "filesystems"], "comments": [{"owner": {"reputation": 221, "user_id": 1821740, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/rI8Lq.png?s=128&g=1", "display_name": "KeOt777", "link": "https://stackoverflow.com/users/1821740/keot777"}, "edited": false, "score": 0, "creation_date": 1496873037, "post_id": 44422980, "comment_id": 75845402, "body": "This might help you get an idea on how to solve it:  <a href=\"https://docs.unity3d.com/Manual/StreamingAssets.html\" rel=\"nofollow noreferrer\">docs.unity3d.com/Manual/StreamingAssets.html</a>"}, {"owner": {"reputation": 9668, "user_id": 1429487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/57fe7ba5bccd866ab2d9536243a8a25a?s=128&d=identicon&r=PG", "display_name": "Everts", "link": "https://stackoverflow.com/users/1429487/everts"}, "edited": false, "score": 0, "creation_date": 1496908762, "post_id": 44422980, "comment_id": 75857639, "body": "Considering the StreamingAssets gets turned into a jar file maybe it would be easier to use the Resources instead. You can use LoadAll and you done."}], "owner": {"reputation": 136, "user_id": 7531100, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/982219911912348/picture?type=large", "display_name": "Stastny Jakub", "link": "https://stackoverflow.com/users/7531100/stastny-jakub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 931, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496870504, "creation_date": 1496870504, "question_id": 44422980, "link": "https://stackoverflow.com/questions/44422980/unity-count-files-in-directory", "title": "unity-count files in directory", "body": "<p>I have a problem with counting files in some folder on Android device in Unity after build and run .apk file. For testing in editor, I used this code:</p>\n\n<p><code>Levels = Directory.GetFiles(Path.Combine(Application.streamingAssetsPath, \"Levels\"), \"level*.xml\").Length;\n</code></p>\n\n<p>Is here any way to count or list files in some directory after build .apk file?</p>\n"}, {"tags": ["c#", "linq", "method-group"], "answers": [{"tags": [], "owner": {"reputation": 442, "user_id": 3177862, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/449c730559351cf43ff184b48fd8c7de?s=128&d=identicon&r=PG", "display_name": "kleineg", "link": "https://stackoverflow.com/users/3177862/kleineg"}, "is_accepted": true, "score": 0, "last_activity_date": 1496931016, "creation_date": 1496931016, "answer_id": 44438090, "question_id": 44422845, "link": "https://stackoverflow.com/questions/44422845/how-to-set-properties-on-a-class-to-a-list-of-method-groups-matching-on-type/44438090#44438090", "title": "How to set properties on a class to a list of method groups matching on type?", "body": "<p>I was searching and found the question <a href=\"https://stackoverflow.com/questions/2837063/cast-object-to-generic-list\">Cast Object to Generic List</a> and changed the code in the Add method of the typed DataPackage to </p>\n\n<pre><code>    public override void Add (object list)\n    {\n        IEnumerable castList = list as IEnumerable;\n\n        if (castList != null)\n        {\n            IEnumerable&lt;T&gt; typedList = castList.OfType&lt;T&gt;();\n            this.ReturnedData.AddRange(typedList);\n        }\n    }\n</code></pre>\n\n<p>And it works fine.</p>\n"}], "owner": {"reputation": 442, "user_id": 3177862, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/449c730559351cf43ff184b48fd8c7de?s=128&d=identicon&r=PG", "display_name": "kleineg", "link": "https://stackoverflow.com/users/3177862/kleineg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 44438090, "answer_count": 1, "score": 0, "last_activity_date": 1496942334, "creation_date": 1496869927, "last_edit_date": 1496942334, "question_id": 44422845, "link": "https://stackoverflow.com/questions/44422845/how-to-set-properties-on-a-class-to-a-list-of-method-groups-matching-on-type", "title": "How to set properties on a class to a list of method groups matching on type?", "body": "<p>What we had before was a OracleCommand we were adding parameters to, then we'd run ExecuteReaderAsync on it to get a OracleDataReader. Then we filled lists of different objects by calling a \"GetList\" method that would take the reader and a method group that returns an object of the same type as the list.</p>\n\n<pre><code>// These parameters need to be in the same order as returned by the procedure.\ncommand.CommandType = CommandType.StoredProcedure;\ncommand.Parameters.Add(\"ProcedureTable1\", OracleDbType.RefCursor, ParameterDirection.Output);\ncommand.Parameters.Add(\"ProcedureTable2\", OracleDbType.RefCursor, ParameterDirection.Output);\ncommand.Parameters.Add(\"ProcedureTable3\", OracleDbType.RefCursor, ParameterDirection.Output);\n\nOracleDataReader reader = await command.ExecuteReaderAsync() as OracleDataReader;\n\n// These methods need to be called in the same order as the parameters above.\nList&lt;Type1&gt; type1s = await GetList(reader, CreateType1, false); // The first item is called with an overload that takes wht\nList&lt;Type2&gt; type2s = await GetList(reader, CreateType2);\nList&lt;Type3&gt; type3s = await GetList(reader, CreateType3);\n</code></pre>\n\n<p>The problem, as the commends suggest, is that if the parameters are put out of order we get a database exception instead of data. If the calls to the method groups are placed out of order the list simply fill with empty versions of the class they should contain.</p>\n\n<p>It was suggested to use an ordered list, so I set up a Dictionary to hold DataPackage object with a string name of the procedure in the database package and the method group. </p>\n\n<p>I was easily able to add them all in the right order once, and set up the command parameters.</p>\n\n<pre><code>// These parameter/method pairs need to be in the same order as returned by the procedure.\nList&lt;DataPackage&gt; orderedList = new List&lt;DataPackage&gt;\n{\n  new DataPackage&lt;Type1&gt;(\"Type1ProcedureName\", CreateType1MethodGroup, type1List),\n  new DataPackage&lt;Type2&gt;(\"Type2ProcedureName\", CreateType2MethodGroup, type2List),\n  new DataPackage&lt;Type3&gt;(\"Type3ProcedureName\", CreateType3MethodGroup, type1List),\n};\n\ncommand.CommandType = CommandType.StoredProcedure;\norderedList.ForEach(p =&gt; command.Parameters.Add(p.ProcedureName, OracleDbType.RefCursor, ParameterDirection.Output));\n</code></pre>\n\n<p>With the classes </p>\n\n<pre><code>public class DataPackage\n{\n    public string ProcedureName { get; protected set; }\n\n    public Func&lt;OracleDataReader, object&gt; MethodGroup { get; protected set; }\n\n    public virtual void Add(object list)\n    { \n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class DataPackage&lt;T&gt; : DataPackage\n{\n  public DataPackage(string procedureName, Func&lt;OracleDataReader, object&gt; methodGroup, List&lt;T&gt; returnedData)\n  {\n      this.ProcedureName = procedureName;\n      this.MethodGroup = methodGroup;\n      this.ReturnedData = returnedData;\n  }\n\n  public List&lt;T&gt; ReturnedData { get; set; }\n\n  public override void Add (object list)\n  {\n      List&lt;T&gt; castList = list as List&lt;T&gt;;\n\n      if (castList != null)\n      {\n            this.ReturnedData.AddRange(castList);\n      }\n  }\n}\n</code></pre>\n\n<p>At least it only needs to be added in order once, and that part works. The part where I haven't been able to figure out is calling the GetList with each method group to fill the data.  </p>\n\n<pre><code>orderedList.ForEach(async v =&gt;\n{\n  v.Add(await GetList(reader, v.MethodGroup, false));\n});\n</code></pre>\n\n<p>The problem is when I debug the Add method on DataPackage the list comes in as an object, and it tries to be cast to List but that fails, even though the list parameter is obviously a list and is filled with data. \nIs there a better way to do this?</p>\n"}, {"tags": ["c#", "windows", "api", "debugging"], "comments": [{"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1496870222, "post_id": 44422619, "comment_id": 75844276, "body": "if you yourself create process by <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms682425(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>CreateProcess</code></a> you need use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms684863(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>DEBUG_PROCESS</code></a> instead of call <code>DebugActiveProcess</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8127940"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1496874959, "post_id": 44422619, "comment_id": 75846106, "body": "Can you give me an example code,"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1496875780, "post_id": 44422619, "comment_id": 75846353, "body": "example of what ? and i not wrote on <i>c#</i>. at first you not show your debugging loop - how minimum basic details, which event and how you handle. are you got some debug messages ? you must even if process crash. <code>DebugActiveProcess</code> create additional thread in process - <code>DbgUiRemoteBreakIn</code> - so process begin itialize not in it main thread but on this thread. say on <i>xp</i> this will be process intit fail always. on win10 generally must work correct , if you correct process debug events"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8127940"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1496881271, "post_id": 44422619, "comment_id": 75847881, "body": "Sorry, I edited my initial question."}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1496936923, "post_id": 44422619, "comment_id": 75878210, "body": "because you use flag <code>CREATE_SUSPENDED</code> - and not resume thread. use only <code>DEBUG_PROCESS</code> flag without <code>CREATE_SUSPENDED</code>. and for kill debugging process - you need kill debugger, but not restart pc"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1496936949, "post_id": 44422619, "comment_id": 75878223, "body": "<code>DebugActiveProcess</code> - <b>not use it</b>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8127940"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1496937116, "post_id": 44422619, "comment_id": 75878332, "body": "But somehow I have to manage both CREATE_SUSPENDED + DEBUG_PROCESS"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1496937166, "post_id": 44422619, "comment_id": 75878377, "body": "for what you <code>CREATE_SUSPENDED</code> ??? <b>remove</b> it. use only <code>DEBUG_PROCESS</code>"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1496937303, "post_id": 44422619, "comment_id": 75878472, "body": "ok, last time explain -  remove <code>CREATE_SUSPENDED</code> flag ,<code>ResumeThread(pi.hThread);</code> and <code>DebugActiveProcess</code> use <b>only</b> <code>DEBUG_PROCESS</code> and all will be work just fine"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8127940"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1497199136, "post_id": 44422619, "comment_id": 75966403, "body": "Thanks for your suggestions, I will accept your answer. Got it working, but with DebugActiveProcess instead of DEBUG_PROCESS."}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1497205761, "post_id": 44422619, "comment_id": 75968611, "body": "but again - you not need use <code>CREATE_SUSPENDED</code> and <code>DebugActiveProcess</code> - but <code>DEBUG_PROCESS</code> <b>without</b> <code>CREATE_SUSPENDED</code> - are you understand this ? understand why <code>CREATE_SUSPENDED</code> absolute senseless here ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8127940"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1497347170, "post_id": 44422619, "comment_id": 76027805, "body": "because I can&#39;t change the headers, if it&#39;s not suspended"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1497347451, "post_id": 44422619, "comment_id": 76028017, "body": "you <b>still nothing understand</b> - you <b>not need</b> suspend process. when you debug it. all debugging messages is sent <b>synchronous</b>. when you got any debug message - all process is suspended and wait for your response. so again - you <b>NOT NEED SUSPEND</b> process in this case. it is nonsense. you need <code>DEBUG_PROCESS</code> flag without <code>CREATE_SUSPENDED</code> and in <code>&quot;CREATE_PROCESS_DEBUG_EVENT</code> you can change headers or any another task. at this point process not begin execute in user mode yet and wait for your response (ContinueDebugEvent call)"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8127940"}, "edited": false, "score": 0, "creation_date": 1496935165, "post_id": 44425190, "comment_id": 75876857, "body": "DEBUG_PROCESS freezes the process, you can&#39;t kill it, nothing executes, the only way to terminate the process is to restart PC. The only thing that works is by DebugActiveProcess. Therefore, I added LOAD_DLL_DEBUG_EVENT with CloseHandle(evt.LoadDll.hFile); and moved ContinueDebugEvent below the switch"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1496936280, "post_id": 44425190, "comment_id": 75877749, "body": "@Nox - you absolute mistake. <code>DEBUG_PROCESS</code> work just fine and nothing freeze - your else one error that you create process in <b>suspended</b> state and call <code>ResumeThread</code> only in <code>CREATE_PROCESS_DEBUG_EVENT</code> - but you never got it because thread is suspended. simply create process without <code>CREATE_SUSPENDED</code>. and not call <code>ResumeThread(pi.hThread);</code> of course. especially from debug event, but not <b>before</b> wait on this events"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1496936690, "post_id": 44425190, "comment_id": 75878076, "body": "@Nox - <code>restart PC</code> this is funny - simply kill debugger not try ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8127940"}, "edited": false, "score": 0, "creation_date": 1496937010, "post_id": 44425190, "comment_id": 75878261, "body": "Well it&#39;s not possible to change the suspended state, because what my application does. It executes code."}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1496937113, "post_id": 44425190, "comment_id": 75878327, "body": "@Nox - <code>not possible to change the suspended state</code> ?!?! simply call CreateProcess without <code>CREATE_SUSPENDED</code> flag. what is not possible ???"}], "tags": [], "owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "is_accepted": true, "score": 2, "last_activity_date": 1496938120, "last_edit_date": 1496938120, "creation_date": 1496884839, "answer_id": 44425190, "question_id": 44422619, "link": "https://stackoverflow.com/questions/44422619/debugactiveprocess-crash/44425190#44425190", "title": "DebugActiveProcess crash", "body": "<p>1) when you want debug process created via <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms682425(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>CreateProcess</code></a> set the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms684863(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>DEBUG_PROCESS</code></a> in <em>dwCreationFlags</em></p>\n\n<p>2) never call <code>DebugActiveProcess</code> in this case - this api internal create remote thread in process - <code>DbgUiRemoteBreakIn</code> - so process begin initialize not in it main thread but on this thread. say on xp this cause process initialization fail always. latter (begin form win7 ?) this fixed.</p>\n\n<p>3) <code>ContinueDebugEvent</code> need call <strong>always</strong>, after every debug event. after <code>EXIT_PROCESS_DEBUG_EVENT</code> - <strong>also</strong> - need understand that this message send to you last thread in process when it exited. and he wait for your call <code>ContinueDebugEvent</code> - process still alive and not terminated when you got <code>EXIT_PROCESS_DEBUG_EVENT</code> - so you must have one common call to <code>ContinueDebugEvent</code> after <em>swith</em></p>\n\n<p>4) what you try todo with <code>VirtualProtectEx</code> must make infinite <code>STATUS_GUARD_PAGE_VIOLATION</code> exceptions. so even not look more - main logic of \"protection\" is invalid</p>\n\n<p>5) handle <code>LOAD_DLL_DEBUG_EVENT</code> is <strong>mandatory</strong> - you must close handle  (<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms680351(v=vs.85).aspx\" rel=\"nofollow noreferrer\">hFile</a> to the loaded DLL)</p>\n\n<p>6) on <code>CREATE_PROCESS_DEBUG_EVENT</code> you also must close handle to file</p>\n\n<hr>\n\n<p>7) when we call <code>CreateProcess</code> with <code>DEBUG_PROCESS</code> flag - use the <code>CREATE_SUSPENDED</code> - <strong>absolutely senseless</strong> - for what ?? usually this flag used for do some task with process, before it thread begin execute in user mode and after this call <code>ResumeThread</code>. but when we use <code>DEBUG_PROCESS</code> initial thread in process, when it begin execute (yet in kernel mode) send to us <code>CREATE_PROCESS_DEBUG_EVENT</code> and wait for reply (until debugger not call <code>ContinueDebugEvent</code>. as result all special task with process we can done in <code>CREATE_PROCESS_DEBUG_EVENT</code> handler. misunderstandings how windows work internal leads to gross errors</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8127940"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 586, "favorite_count": 0, "accepted_answer_id": 44425190, "answer_count": 1, "score": 2, "last_activity_date": 1496938120, "creation_date": 1496869022, "last_edit_date": 1496937461, "question_id": 44422619, "link": "https://stackoverflow.com/questions/44422619/debugactiveprocess-crash", "title": "DebugActiveProcess crash", "body": "<p>I'm trying to debug a child process while it's in a suspended state. The problem is that when I attempt to do that, the application doesn't start (it starts but exits instantly). That helps against reverse engineering, but however I can't manage doing it.</p>\n\n<pre><code>static void DebuggingTest(PROCESS_INFORMATION pi, int imageBase, int sizeOfHeaders)\n{\n    int oldProtection = 0;\n    const uint STATUS_GUARD_PAGE_VIOLATION = 0x80000001;\n    const int DBG_CONTINUE = 0x00010002;\n    DEBUG_EVENT evt = new DEBUG_EVENT();\n    if (!DebugActiveProcess(Convert.ToInt32(pi.dwProcessId)))\n        throw new Win32Exception();\n    else\n        MessageBox.Show(pi.dwProcessId + \" process is being debugged.\", \"Information\", MessageBoxButtons.OK, MessageBoxIcon.Information);\n\n    while (true)\n    {\n        if (!WaitForDebugEvent(out evt, -1))\n            throw new Win32Exception();\n        else\n            MessageBox.Show(\"WaitForDebugEvent executed.\", \"Information\", MessageBoxButtons.OK, MessageBoxIcon.Information);\n\n        switch (evt.dwDebugEventCode)\n        {\n            case DebugEventType.CREATE_PROCESS_DEBUG_EVENT:\n                //if (!VirtualProtectEx(pi.hProcess, imageBase, sizeOfHeaders, 320, ref oldProtection))\n                //  throw new Exception();\n                ResumeThread(pi.hThread);\n                MessageBox.Show(\"CREATE_PROCESS_DEBUG_EVENT executed.\", \"Information\", MessageBoxButtons.OK, MessageBoxIcon.Information);\n                break;\n            case DebugEventType.EXCEPTION_DEBUG_EVENT:\n                if (evt.Exception.ExceptionRecord.ExceptionCode == STATUS_GUARD_PAGE_VIOLATION)\n                {\n                    if (!VirtualProtectEx(pi.hProcess, imageBase, sizeOfHeaders, 320, ref oldProtection))\n                        throw new Exception();\n                }\n                MessageBox.Show(\"EXCEPTION_DEBUG_EVENT executed.\", \"Information\", MessageBoxButtons.OK, MessageBoxIcon.Information);\n                break;\n            case DebugEventType.EXIT_PROCESS_DEBUG_EVENT:\n                if (!DebugActiveProcessStop(Convert.ToInt32(pi.dwProcessId)))\n                    throw new Win32Exception();\n                if (!TerminateProcess(pi.hProcess, 0))\n                    throw new Win32Exception();\n                MessageBox.Show(\"EXIT_PROCESS_DEBUG_EVENT executed.\", \"Information\", MessageBoxButtons.OK, MessageBoxIcon.Information);\n                break;\n            case DebugEventType.LOAD_DLL_DEBUG_EVENT:\n                if (CloseHandle(evt.LoadDll.hFile))\n                    MessageBox.Show(\"CloseHandle executed.\", \"Information\", MessageBoxButtons.OK, MessageBoxIcon.Information);\n                break;\n        }\n\n        if (ContinueDebugEvent(evt.dwProcessId, evt.dwThreadId, DBG_CONTINUE))\n            MessageBox.Show(\"Last ContinueDebugEvent executed.\", \"Information\", MessageBoxButtons.OK, MessageBoxIcon.Information);\n    }\n}\n</code></pre>\n\n<p><strong>Edit: VirtualProtectEx calls are failing, they are the actual problem. If I comment their lines, the application executes. Also it is lagging, probably because of the debugging loop. Is there a solution for it?</strong></p>\n\n<p><strong>Edit2: I edited the code as you suggested me, apart from DEBUG_PROCESS, because it stops the whole process, I can't even kill it through Task Manager, the only way to kill it, is to restart PC. Perhaps, I'm doing something wrong, but I don't know what. So the order the messageboxes appear: DebugActiveProcess executed -> WaitForDebugEvent executed -> CREATE_PROCESS_DEBUG_EVENT executed -> Last ContinueDebugEvent executed. Then Wait... -> CloseHandle -> ContinueDebug...</strong></p>\n"}, {"tags": ["c#", "file", "networking", "printing", "io"], "comments": [{"owner": {"reputation": 1273, "user_id": 2287427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12dacf80e8ab397c3fdcd4f0d49c32d?s=128&d=identicon&r=PG", "display_name": "Dave S", "link": "https://stackoverflow.com/users/2287427/dave-s"}, "edited": false, "score": 1, "creation_date": 1496869886, "post_id": 44422583, "comment_id": 75844129, "body": "Client-server approach?  Run a server on the printing machine, have clients send jobs using HTTP?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4650842"}, "reply_to_user": {"reputation": 1273, "user_id": 2287427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12dacf80e8ab397c3fdcd4f0d49c32d?s=128&d=identicon&r=PG", "display_name": "Dave S", "link": "https://stackoverflow.com/users/2287427/dave-s"}, "edited": false, "score": 0, "creation_date": 1496870440, "post_id": 44422583, "comment_id": 75844362, "body": "Dave S, that&#39;s a great idea. In fact, there is already a 2.0 ASP.NET webservice that runs on that machine, allowing interaction with 3rd party services. I can just add another method to that - send it the xml and it will write the file the print queue service will pick up."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1496870459, "post_id": 44422583, "comment_id": 75844374, "body": "Make a web service that accepts the files to print instead of relying on a network share?"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4650842"}, "is_accepted": true, "score": 0, "last_activity_date": 1496872279, "creation_date": 1496872279, "answer_id": 44423381, "question_id": 44422583, "link": "https://stackoverflow.com/questions/44422583/writing-or-copying-file-to-network-share-in-c/44423381#44423381", "title": "Writing or Copying File To Network Share in C#", "body": "<p>The suggestion to use our web service to save the files locally worked beautifully. Thanks everyone!</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4650842"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "accepted_answer_id": 44423381, "answer_count": 1, "score": 0, "last_activity_date": 1496872279, "creation_date": 1496868809, "question_id": 44422583, "link": "https://stackoverflow.com/questions/44422583/writing-or-copying-file-to-network-share-in-c", "title": "Writing or Copying File To Network Share in C#", "body": "<p>I've written a Windows Service that impersonates session 0 to access local printers and prints money orders to networked dot-matrix printers. That part works great, and the idea is that the client terminals (running 3.5 desktop app) will generate an xml file that is written to (or copied, I don't care) to a share on that machine, and the Print Queue Service will pick these up every few seconds, order them by number and store, and send the job to the correct store's printer. That all works.</p>\n\n<p>However our issue is that we can't save the xml files to the remote share without first saving credentials on every single computer. Despite sharing it with EVERYONE having read/write/modify access to the share, it won't work. Obviously the client is unwilling to type in a username and password for 300+ computers.</p>\n\n<p>I've tried everything I can think of. I've tried impersonation using WindowsIdentity and WindowsImpersonationContext, but I always get \"The name provided is not a properly formed account name.\" no matter if I use name@domain or domain\\name, or the application quits with no error messages logged in the event viewer or our database. I've tried using the code found <a href=\"http://www.codeguru.com/csharp/csharp/cs_network/windowsservices/article.php/c12357/C-Map-Network-Drive-API.htm\" rel=\"nofollow noreferrer\">here</a> which maps the drive successfully but I am denied access to it. I've tried alternative code to use LogonUser from the Windows API (doesn't work). I've shared and re-shared the folder with the least restrictive permissions I can find. Nothing works. </p>\n\n<p>Any suggestions on what we can do at this point? The code is here:</p>\n\n<pre><code> foreach (MoneyOrderPrinterLineItem item in this.Lines)\n        {\n            string path = Globals.MoneyOrderPrintJobsPath + Globals.Store.StoreNameID.ToString(\"0#\") +\n                (Globals.DrawerContext.GetActiveDrawer()?.DrawerNameOnly) + Security.UserName + item.Number +\n                DateTime.Now.ToString(\"MMddyyyy\") + DateTime.Now.ToString(\"hhmmss\") + \".xml\";\n\n            try\n            {\n                XmlWriterSettings settings = new XmlWriterSettings();\n                settings.Indent = true;\n                settings.Encoding = ASCIIEncoding.Unicode;\n\n\n                //create a new file for each money order\n                using (FileStream stream = new FileStream(path, FileMode.CreateNew))\n                {\n                    using (XmlWriter writer = XmlWriter.Create(stream, settings))\n                    {\n                        writer.WriteStartDocument();\n                        writer.WriteStartElement(\"PrintJob\");\n\n                        writer.WriteStartElement(\"Source\");\n                        writer.WriteElementString(\"Name\", Security.UserName);\n                        writer.WriteElementString(\"Store\", Globals.Store.StoreNameID.ToString(\"0#\"));\n                        writer.WriteElementString(\"StoreID\", Globals.Store.ID.ToString());\n                        writer.WriteElementString(\"Drawer\", Globals.DrawerContext.GetActiveDrawer()?.DrawerNameOnly);\n                        writer.WriteElementString(\"DateTime\", DateTime.Now.ToShortDateString() + \" \" + DateTime.Now.ToLongTimeString());\n                        writer.WriteElementString(\"Machine\", Environment.MachineName);\n                        writer.WriteElementString(\"PrinterName\", Globals.Store.MoneyOrderPrinter);\n                        writer.WriteEndElement();\n\n                        writer.WriteStartElement(\"Details\");\n                        writer.WriteElementString(\"Number\", item.Number);\n                        writer.WriteElementString(\"Payee\", item.Payee);\n                        writer.WriteElementString(\"Remitter\", item.Remitter);\n                        writer.WriteElementString(\"AmountDesc\", item.AmountText);\n                        writer.WriteElementString(\"Amount\", item.Amount.ToString(\"F2\"));\n                        writer.WriteElementString(\"Fee\", item.Fee.ToString(\"F2\"));\n                        writer.WriteElementString(\"BusinessDate\", item.Date);\n                        writer.WriteElementString(\"Notes\", item.StoreNotes);\n                        writer.WriteEndElement();\n\n                        writer.WriteEndElement();\n                        writer.WriteEndDocument();\n                        writer.Close();\n                    }\n                }\n            }\n            catch (IOException ioEX)\n            {\n                Methods.ProcessException(ioEX, true);\n            }\n            catch (Exception ex)\n            {\n                Methods.ProcessException(ex, true);\n            }\n        }\n</code></pre>\n\n<p>All of the machines are on the same domain. The global money order path is <code>\\\\WEB2012R2-DEV\\MOPrints</code></p>\n"}, {"tags": ["c#", "asp.net-mvc", "async-await"], "comments": [{"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1496868924, "post_id": 44422556, "comment_id": 75843717, "body": "This? <code>_mailService.SendAccountConfirmationEmailAsync(user);</code>"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 4, "creation_date": 1496869173, "post_id": 44422556, "comment_id": 75843823, "body": "Look into <a href=\"https://blog.mariusschulz.com/2014/05/07/scheduling-background-jobs-from-an-asp-net-application-in-net-4-5-2\" rel=\"nofollow noreferrer\">HostingEnvironment.QueueBackgroundWorkItem</a>."}, {"owner": {"reputation": 1956, "user_id": 777071, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6LPZE.png?s=128&g=1", "display_name": "m.rufca", "link": "https://stackoverflow.com/users/777071/m-rufca"}, "reply_to_user": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1496869539, "post_id": 44422556, "comment_id": 75843981, "body": "@LasseV.Karlsen gonna try this, but will have to update 4.5.1 to 4.5.2"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 1, "creation_date": 1496869578, "post_id": 44422556, "comment_id": 75843998, "body": ".NET 4.5.1 is no longer supported so that is a good idea anyway."}, {"owner": {"reputation": 2712, "user_id": 921127, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/e1c24b92c9b66bd981f63d9461f34a75?s=128&d=identicon&r=PG", "display_name": "Ankit Vijay", "link": "https://stackoverflow.com/users/921127/ankit-vijay"}, "edited": false, "score": 1, "creation_date": 1496876697, "post_id": 44422556, "comment_id": 75846664, "body": "If it is a time consuming operation, you can consider to put it into a queue (eg. web job if you are on Azure). This way the responsibility of sending email is taken off the Web App. You can also add retry scenarios making it more resilient."}], "answers": [{"comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1496868885, "post_id": 44422581, "comment_id": 75843695, "body": "He doesn&#39;t want to wait for it."}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1496868967, "post_id": 44422581, "comment_id": 75843729, "body": "No, that is obvious, but that <b>is</b> the reason for that message. So like it or not, he has to deal with it."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1496868996, "post_id": 44422581, "comment_id": 75843740, "body": "@SLaks Ah, I missed that line in his question. I&#39;ll update my answer to explain &quot;fire and forget&quot; better."}], "tags": [], "owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "is_accepted": false, "score": 2, "last_activity_date": 1496869143, "last_edit_date": 1496869143, "creation_date": 1496868808, "answer_id": 44422581, "question_id": 44422556, "link": "https://stackoverflow.com/questions/44422556/send-email-async-an-asynchronous-module-or-handler-completed-while-an-asynchron/44422581#44422581", "title": "Send email async: An asynchronous module or handler completed while an asynchronous operation was still pending", "body": "<p>You need to await your async call in order to avoid the error message, but then you'll need to wait for the email to finish sending before your action method returns (and a failure sending the email will cause your action method to error out).</p>\n\n<pre><code>await _mailService.SendAccountConfirmationEmailAsync(user);\n</code></pre>\n\n<p>If you ever see a method name that ends in -Async, check if that method returns a Task or Task. If it does, you need to await it.</p>\n\n<p>If you have an async call that you don't want to wait for it to complete in this context, you'll get that error. If you want to continue processing, you'll need some method of sending this email in a background task. That might be that you have a separate application that handles emails, and you communicate with it via a messaging system like RabbitMQ. Or there are <a href=\"https://www.hanselman.com/blog/HowToRunBackgroundTasksInASPNET.aspx\" rel=\"nofollow noreferrer\">ways to run code in the background directly in a website</a> such as Hangfire.</p>\n"}, {"comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 4, "creation_date": 1496869958, "post_id": 44422759, "comment_id": 75844162, "body": "Word of caution, <code>HostingEnvironment</code> is <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.hosting.hostingenvironment.queuebackgroundworkitem?view=netcore-2.0\" rel=\"nofollow noreferrer\">not available on ASP.NET Core</a>. You need to implement your own thing <a href=\"https://stackoverflow.com/questions/27676140/what-is-the-equivalent-of-registerobject-queuebackgroundworkitem-in-asp-net-5/27714453#27714453\">using <code>IApplicationLifetime</code></a>"}], "tags": [], "owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "is_accepted": true, "score": 6, "last_activity_date": 1496869547, "creation_date": 1496869547, "answer_id": 44422759, "question_id": 44422556, "link": "https://stackoverflow.com/questions/44422556/send-email-async-an-asynchronous-module-or-handler-completed-while-an-asynchron/44422759#44422759", "title": "Send email async: An asynchronous module or handler completed while an asynchronous operation was still pending", "body": "<p>Since the runtime can recycle your appdomain when it knows there are no more pending requests, starting tasks that you don't wait for is specifically not recommended, hence that message.</p>\n\n<p>In particular, without this check you would have no guarantee this email would ever be sent since the entire appdomain could be yanked down around that task after your controller action returns.</p>\n\n<p>Now in your case you might say that the loss of the email is acceptable, but the runtime doesn't know that it is <em>only an email</em>, it could very well be your database call that you've <em>forgotten</em> to wait for that would be prematurely aborted. Hence it just informs you that this is bad form.</p>\n\n<p>Instead you got two options:</p>\n\n<ol>\n<li>Wait for that task to complete, which you have specifically said you don't want to do</li>\n<li>Inform the runtime that you're firing off a task that you specifically don't want to wait for, but <em>please oh please, don't yank out the appdomain before task has completed</em></li>\n</ol>\n\n<p>This last part is what <a href=\"https://msdn.microsoft.com/en-us/library/dn636892(v=vs.110).aspx\" rel=\"noreferrer\">HostingEnvironment.QueueBackgroundWorkItem</a> is for.</p>\n\n<p>In your case you would call it like this:</p>\n\n<pre><code>HostingEnvironment.QueueBackgroundWorkItem(ct =&gt;\n    _mailService.SendAccountConfirmationEmailAsync(user));\n</code></pre>\n\n<p>Additionally, the method provides a <code>CancellationToken</code>, you should check if there is an overload of <code>SendAccountConfirmationEmailAsync</code> that accepts it. If not, and if this is your API, you should consider adding support for such tokens.</p>\n\n<p>Please be aware that this mechanism is not meant for long-running threads or tasks, for that there are other more appropriate trees to bark up, but in this case it should be enough.</p>\n"}], "owner": {"reputation": 1956, "user_id": 777071, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6LPZE.png?s=128&g=1", "display_name": "m.rufca", "link": "https://stackoverflow.com/users/777071/m-rufca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2285, "favorite_count": 1, "accepted_answer_id": 44422759, "answer_count": 2, "score": 1, "last_activity_date": 1496870743, "creation_date": 1496868720, "last_edit_date": 1496870743, "question_id": 44422556, "link": "https://stackoverflow.com/questions/44422556/send-email-async-an-asynchronous-module-or-handler-completed-while-an-asynchron", "title": "Send email async: An asynchronous module or handler completed while an asynchronous operation was still pending", "body": "<p>I'm trying to send email from a Controller asynchronous and getting the following error:</p>\n\n<p>I <strong>don't</strong> want to wait email be sent to complete the action.</p>\n\n<blockquote>\n  <p>An asynchronous module or handler completed while an asynchronous\n  operation was still pending.</p>\n</blockquote>\n\n<p>This is my implementation: I also tried using <code>void</code> instead <code>async Task</code></p>\n\n<pre><code>public async Task&lt;ActionResult&gt; Login(LoginViewModel model, string returnUrl)\n{\n    var user = await _userManager.FindByNameAsync(model.Email);\n    if (user != null)\n    {\n        if (!await _userManager.IsEmailConfirmedAsync(user.Id))\n        {\n\n            //dont want to await result\n            //just send email \n            _mailService.SendAccountConfirmationEmailAsync(user);\n            ...\n        }\n        ...\n    }\n    return View();\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>public async Task SendAccountConfirmationEmailAsync(ApplicationUser user)\n{\n    dynamic email = GetAccountConfirmationEmailTemplate();\n\n    email.Username = user.Email;\n    email.Name = user.UserName;\n    email.To = user.Email;\n    email.AccountConfirmationUrl = await GetAccountConfirmationUrl(user);\n\n    await _mailService.SendAsync(email);\n}\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["c#", "xml", "linq", "xml-parsing"], "comments": [{"owner": {"reputation": 95405, "user_id": 12725, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/98df3c7cc17f088af555c5accbdb2509?s=128&d=identicon&r=PG", "display_name": "James Curran", "link": "https://stackoverflow.com/users/12725/james-curran"}, "edited": false, "score": 0, "creation_date": 1496869106, "post_id": 44422527, "comment_id": 75843789, "body": "The line <code>string xml = &quot;&lt;error&gt;&lt;&#47;error&gt;&quot;;</code> should be replace with <code>string xml = File.ReadAllText(exception.FullName));</code>"}, {"owner": {"reputation": 67, "user_id": 7674889, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4H05C.jpg?s=128&g=1", "display_name": "jpears", "link": "https://stackoverflow.com/users/7674889/jpears"}, "reply_to_user": {"reputation": 95405, "user_id": 12725, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/98df3c7cc17f088af555c5accbdb2509?s=128&d=identicon&r=PG", "display_name": "James Curran", "link": "https://stackoverflow.com/users/12725/james-curran"}, "edited": false, "score": 0, "creation_date": 1496869441, "post_id": 44422527, "comment_id": 75843951, "body": "@JamesCurran That worked pretty well. May I please ask you to set it as the answer so I may accept it?"}, {"owner": {"reputation": 95405, "user_id": 12725, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/98df3c7cc17f088af555c5accbdb2509?s=128&d=identicon&r=PG", "display_name": "James Curran", "link": "https://stackoverflow.com/users/12725/james-curran"}, "edited": false, "score": 0, "creation_date": 1496869707, "post_id": 44422527, "comment_id": 75844050, "body": "I was expecting you to say &quot;That line is just for the example. I read the file in my real code&quot;. Then I was going to say &quot;then replace the &lt;error&gt;&lt;/error&gt; with some an actual snippet from the file&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 95405, "user_id": 12725, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/98df3c7cc17f088af555c5accbdb2509?s=128&d=identicon&r=PG", "display_name": "James Curran", "link": "https://stackoverflow.com/users/12725/james-curran"}, "is_accepted": true, "score": 1, "last_activity_date": 1496869588, "creation_date": 1496869588, "answer_id": 44422769, "question_id": 44422527, "link": "https://stackoverflow.com/questions/44422527/parsing-elmah-error-logs-using-a-console-application/44422769#44422769", "title": "Parsing Elmah error logs using a console application", "body": "<p>The line <code>string xml = \"&lt;error&gt;&lt;/error&gt;\";</code> should be replace with <code>string xml = File.ReadAllText(exception.FullName));</code> </p>\n"}], "owner": {"reputation": 67, "user_id": 7674889, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4H05C.jpg?s=128&g=1", "display_name": "jpears", "link": "https://stackoverflow.com/users/7674889/jpears"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 44422769, "answer_count": 1, "score": 0, "last_activity_date": 1496939942, "creation_date": 1496868602, "last_edit_date": 1496939942, "question_id": 44422527, "link": "https://stackoverflow.com/questions/44422527/parsing-elmah-error-logs-using-a-console-application", "title": "Parsing Elmah error logs using a console application", "body": "<p>In an effort to minimize time spent on reading error logs, I have created the following small plugin that will parse relevant information contained within Elmah error logs, and eventually produce an Excel spreadsheet. For the time being I am using a WriteLine to test. The issue I am facing is that inside the second <code>foreach</code> loop I am seeing a null reference exception in each of the node.attribute items. The expected outcome of this code is to produce a list of \"attribute\" values from within the <code>&lt;error&gt;</code> tag of each of the XML documents. </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing System.Xml;\n\nnamespace ExcelSortingAutomation\n{\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            DirectoryInfo Exceptions = new DirectoryInfo(\"C:\\\\ErrorsMay2017\");\n            FileInfo[] ExceptionFiles = Exceptions.GetFiles(\"*.xml\");\n\n            foreach (var exception in ExceptionFiles)\n            {\n                string xml = \"&lt;error&gt;&lt;/error&gt;\";\n                XmlDocument doc = new XmlDocument();\n                doc.LoadXml(xml);\n\n\n                foreach (XmlNode node in doc.SelectNodes(\"//error\"))\n                {\n                    string errorId = node.Attributes[\"errorId\"].Value;\n                    string type = node.Attributes[\"type\"].Value;\n                    string message = node.Attributes[\"message\"].Value;\n                    string time = node.Attributes[\"time\"].Value;\n                    Console.WriteLine(\"{0} - {1} - {2} = {3}\", errorId, type, message, time);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>My question is, Why would the logs, which should be pulled and parsed by this point, not be receiving the Attribute values?</p>\n\n<p>Edit 1: upon closer inspection, the XmlNode Node value is returning without \"HasAttributes\"</p>\n"}, {"tags": ["c#", "sql", ".net-core"], "comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 3, "creation_date": 1496868439, "post_id": 44422384, "comment_id": 75843468, "body": "Are these two programs being run on the same machine?"}, {"owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 0, "creation_date": 1496868469, "post_id": 44422384, "comment_id": 75843482, "body": "Default connection timeout <a href=\"https://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlconnection.connectiontimeout(v=vs.110).aspx\" rel=\"nofollow noreferrer\">should be 15 seconds</a>. What happens if you set it manually to something small?"}, {"owner": {"reputation": 121, "user_id": 8075630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/88XEG.jpg?s=128&g=1", "display_name": "g3muse", "link": "https://stackoverflow.com/users/8075630/g3muse"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1496868513, "post_id": 44422384, "comment_id": 75843513, "body": "@ScottChamberlain yes they are both being run from the same machine"}, {"owner": {"reputation": 121, "user_id": 8075630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/88XEG.jpg?s=128&g=1", "display_name": "g3muse", "link": "https://stackoverflow.com/users/8075630/g3muse"}, "reply_to_user": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 0, "creation_date": 1496868570, "post_id": 44422384, "comment_id": 75843538, "body": "@GSerg I manually set the timeout to 5 seconds, it still hangs indefinitely"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 2, "creation_date": 1496868727, "post_id": 44422384, "comment_id": 75843626, "body": "The next step I would try is get a program like <a href=\"http://www.telerik.com/fiddler\" rel=\"nofollow noreferrer\">Fiddler</a> or <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=44226\" rel=\"nofollow noreferrer\">Microsoft Message Analyzer</a> and see what is happening on the wire between the two endpoints. Check and see if it even tries to connect. The only possible cause I can think of right now is a firewall rule that lets your first program through but not the second."}, {"owner": {"reputation": 1918, "user_id": 3515969, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4a9205ca177b36ad3246659a3b6c0c9f?s=128&d=identicon&r=PG&f=1", "display_name": "IngoB", "link": "https://stackoverflow.com/users/3515969/ingob"}, "edited": false, "score": 0, "creation_date": 1496868731, "post_id": 44422384, "comment_id": 75843629, "body": "What happens to the yellow mark if you debug/step over conn.Open()? Does it stay/hang there or jump out somewhere?"}, {"owner": {"reputation": 121, "user_id": 8075630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/88XEG.jpg?s=128&g=1", "display_name": "g3muse", "link": "https://stackoverflow.com/users/8075630/g3muse"}, "reply_to_user": {"reputation": 1918, "user_id": 3515969, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4a9205ca177b36ad3246659a3b6c0c9f?s=128&d=identicon&r=PG&f=1", "display_name": "IngoB", "link": "https://stackoverflow.com/users/3515969/ingob"}, "edited": false, "score": 0, "creation_date": 1496869333, "post_id": 44422384, "comment_id": 75843905, "body": "@IngoB it still stays/hangs there"}, {"owner": {"reputation": 121, "user_id": 8075630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/88XEG.jpg?s=128&g=1", "display_name": "g3muse", "link": "https://stackoverflow.com/users/8075630/g3muse"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1496869657, "post_id": 44422384, "comment_id": 75844028, "body": "@ScottChamberlain Thanks, I&#39;ll try that next"}, {"owner": {"reputation": 1918, "user_id": 3515969, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4a9205ca177b36ad3246659a3b6c0c9f?s=128&d=identicon&r=PG&f=1", "display_name": "IngoB", "link": "https://stackoverflow.com/users/3515969/ingob"}, "edited": false, "score": 0, "creation_date": 1496869709, "post_id": 44422384, "comment_id": 75844052, "body": "It works in my test case (hmm, well, SQL Server 2014). Are you using the current nuget version of System.Data.SqlClient?"}, {"owner": {"reputation": 23885, "user_id": 20382, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cf2d51b76b8f3d77a12fa4c945096fb2?s=128&d=identicon&r=PG", "display_name": "TcKs", "link": "https://stackoverflow.com/users/20382/tcks"}, "edited": false, "score": 2, "creation_date": 1496870004, "post_id": 44422384, "comment_id": 75844178, "body": "Try to connecto to newer version of sql server. You don&#39;t do nothing wrong, maybe it&#39;s bug in combination with specific version of sql server."}, {"owner": {"reputation": 121, "user_id": 8075630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/88XEG.jpg?s=128&g=1", "display_name": "g3muse", "link": "https://stackoverflow.com/users/8075630/g3muse"}, "reply_to_user": {"reputation": 1918, "user_id": 3515969, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4a9205ca177b36ad3246659a3b6c0c9f?s=128&d=identicon&r=PG&f=1", "display_name": "IngoB", "link": "https://stackoverflow.com/users/3515969/ingob"}, "edited": false, "score": 0, "creation_date": 1496870094, "post_id": 44422384, "comment_id": 75844215, "body": "@IngoB I believe so, I&#39;m using System.Data.SqlClient version 4.3.1. It works for me in a c# console project, but just not in a .NET Core Console project"}, {"owner": {"reputation": 121, "user_id": 8075630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/88XEG.jpg?s=128&g=1", "display_name": "g3muse", "link": "https://stackoverflow.com/users/8075630/g3muse"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1496954191, "post_id": 44422384, "comment_id": 75887801, "body": "@ScottChamberlain Haven&#39;t been able to figure it out using Fiddler. I noticed though that upon rebooting my computer, when I try to run the .NET Core Console Application that I am prompted for my Login password and <code>vmmap</code> is in the header of the terminal window. But running the C# Console Application runs the program as expected without the prompt to Login beforehand... Not sure if this could be related to anything."}, {"owner": {"reputation": 121, "user_id": 8075630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/88XEG.jpg?s=128&g=1", "display_name": "g3muse", "link": "https://stackoverflow.com/users/8075630/g3muse"}, "reply_to_user": {"reputation": 23885, "user_id": 20382, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cf2d51b76b8f3d77a12fa4c945096fb2?s=128&d=identicon&r=PG", "display_name": "TcKs", "link": "https://stackoverflow.com/users/20382/tcks"}, "edited": false, "score": 2, "creation_date": 1496962452, "post_id": 44422384, "comment_id": 75890951, "body": "@TcKs My program runs when I connect to a newer version of sql server, apparently Core is unable to connect to MSSQL 2005. Thanks for the help!"}], "answers": [{"comments": [{"owner": {"reputation": 545, "user_id": 7616709, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPXMl.png?s=128&g=1", "display_name": "Dennis Larisch", "link": "https://stackoverflow.com/users/7616709/dennis-larisch"}, "edited": false, "score": 0, "creation_date": 1496869009, "post_id": 44422574, "comment_id": 75843747, "body": "Sorry, stackoverflow app bugged around ^^"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1496869079, "post_id": 44422574, "comment_id": 75843778, "body": "&quot;So it seems like you cannot connect to a sql server like the usual way.&quot; That is the exact opposite of what the accepted answer of the link to the stack overflow question says."}, {"owner": {"reputation": 545, "user_id": 7616709, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPXMl.png?s=128&g=1", "display_name": "Dennis Larisch", "link": "https://stackoverflow.com/users/7616709/dennis-larisch"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1496869276, "post_id": 44422574, "comment_id": 75843878, "body": "There is no accepted answer but ok :) the solution seems like a workaround, because i dont need to add my namespace in my project.json lol"}, {"owner": {"reputation": 545, "user_id": 7616709, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPXMl.png?s=128&g=1", "display_name": "Dennis Larisch", "link": "https://stackoverflow.com/users/7616709/dennis-larisch"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1496869424, "post_id": 44422574, "comment_id": 75843941, "body": "I dont understand why you downvote my answer if you or the op havent even tried to follow the tutorial on csharpcorner. I would love to add these links as a comment but there is no chance with &lt;50 rep"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1496869428, "post_id": 44422574, "comment_id": 75843944, "body": "Its the same thing as adding <code>System.Data.dll</code> to a normal .NET project. the only diffrence is your csproj does not include it by default for .NET core, but that would cause a compiler error not a runtime hang. Also, the downvote was for posting  a <a href=\"https://meta.stackexchange.com/questions/8231/are-answers-that-just-contain-links-elsewhere-really-good-answers\">link only answer</a>."}, {"owner": {"reputation": 707, "user_id": 1265294, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/06386f35b8720f79bc14e68bd17ba2ba?s=128&d=identicon&r=PG", "display_name": "Rojan Gh.", "link": "https://stackoverflow.com/users/1265294/rojan-gh"}, "edited": false, "score": 0, "creation_date": 1512387535, "post_id": 44422574, "comment_id": 82222631, "body": "This actually helped me fix my problem."}], "tags": [], "owner": {"reputation": 545, "user_id": 7616709, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPXMl.png?s=128&g=1", "display_name": "Dennis Larisch", "link": "https://stackoverflow.com/users/7616709/dennis-larisch"}, "is_accepted": false, "score": -1, "last_activity_date": 1496869819, "last_edit_date": 1496869819, "creation_date": 1496868784, "answer_id": 44422574, "question_id": 44422384, "link": "https://stackoverflow.com/questions/44422384/sqlconnection-open-hangs-in-net-core-consol-project-but-connects-fine-in-a-r/44422574#44422574", "title": "SqlConnection.Open() hangs in .NET Core Consol project, but connects fine in a regular C# console project", "body": "<p>Try the following:</p>\n\n<blockquote>\n  <p>Open existing Solution in Visual Studio 2015. Now, add new Client\n  Library .NET Core project in Solution.</p>\n  \n  <p>Open Add New Project Screen through Solution Context Menu >> Add >>\n  New Project Or File >> New >> Project. Select Class Library (.NET\n  Core) Template through Installed >> Templates >> Visual C# >> .NET\n  Core. Name project as \u201cWebApplicationCore.NetCore.DataAccess\u201d. Set\n  suitable location as \u201cC:\\ASP.NET Core\\Welcome To .NET Core 1.0\\\n  ASP.NET Core\u201d (selected by default to solution root). Click OK button.</p>\n  \n  <p>It will create a new class library project.</p>\n  \n  <p>Add Reference to Microsoft.EntityFrameworkCore.SqlServer, using one of\n  following methods.</p>\n  \n  <p>Open Package Manger Console through Tools >> NuGet Packet Manger >>\n  Package Manger Console and run install command \"Install-Package\n  Microsoft.EntityFrameworkCore.SqlServer\" for\n  WebApplicationCore.NetCore.DataAccess project.</p>\n  \n  <p>Open NuGet Manager through WebApplicationCore.NetCore.DataAccess\n  Reference context menu >> References >> Manage NuGet Packages. in\n  Browse tab search for \"Microsoft.EntityFrameworkCore.SqlServer\" and\n  install.</p>\n  \n  <p>Rename Class1 as BaseDataAccess and add the required implementation to\n  connect to SQL Server Database.</p>\n</blockquote>\n\n<p><a href=\"http://www.c-sharpcorner.com/article/net-core-1-0-connecting-sql-server-database/\" rel=\"nofollow noreferrer\">- Source (csharpcorner)</a></p>\n\n<p>Similar question on <a href=\"https://stackoverflow.com/q/38510740/7616709\">StackOverflow</a></p>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 8075630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/88XEG.jpg?s=128&g=1", "display_name": "g3muse", "link": "https://stackoverflow.com/users/8075630/g3muse"}, "is_accepted": true, "score": 1, "last_activity_date": 1497290177, "creation_date": 1497290177, "answer_id": 44505850, "question_id": 44422384, "link": "https://stackoverflow.com/questions/44422384/sqlconnection-open-hangs-in-net-core-consol-project-but-connects-fine-in-a-r/44505850#44505850", "title": "SqlConnection.Open() hangs in .NET Core Consol project, but connects fine in a regular C# console project", "body": "<p>My program runs when I connect to a newer version of sql server, apparently Core is unable to connect to MSSQL 2005. Thank you <a href=\"https://stackoverflow.com/users/20382/tcks%20%22@TcKs\">@TcKs</a> for the solution.</p>\n"}], "owner": {"reputation": 121, "user_id": 8075630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/88XEG.jpg?s=128&g=1", "display_name": "g3muse", "link": "https://stackoverflow.com/users/8075630/g3muse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1015, "favorite_count": 1, "accepted_answer_id": 44505850, "answer_count": 2, "score": 2, "last_activity_date": 1497290177, "creation_date": 1496868097, "question_id": 44422384, "link": "https://stackoverflow.com/questions/44422384/sqlconnection-open-hangs-in-net-core-consol-project-but-connects-fine-in-a-r", "title": "SqlConnection.Open() hangs in .NET Core Consol project, but connects fine in a regular C# console project", "body": "<p>My program connects to the server fine in a C# console project using the following code:</p>\n\n<pre><code>public static void Main(string[] args)\n        {\n            Console.WriteLine(\"Hello World!\");\n            System.Data.SqlClient.SqlConnection conn = \n                new System.Data.SqlClient.SqlConnection();\n\n            string connectionString = \"Data Source=IPOfServer;\" +\n                \"Initial Catalog=nameOfDatabase;\"+\n                \"User ID=USERNAME;\" +\n                \"Password=PASSWORD\";\n\n            conn.ConnectionString = connectionString;\n\n            try\n            {\n                Console.WriteLine(\"Before Connection\");\n                conn.Open();\n                Console.WriteLine(\"Connection Open\");\n                conn.Close();\n                Console.WriteLine(\"Connection Closed\");\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine(String.Format(\"Can't Connect; Error:{0}\", ex.Message));\n            }\n        }\n</code></pre>\n\n<p>And outputs:</p>\n\n<pre><code>Hello World!\nBefore Connection\nConnection Open\nConnection Closed\n</code></pre>\n\n<p>When I try the exact same code in a .NET Core Console project, my output is:</p>\n\n<pre><code>Hello World!\nBefore Connection\n</code></pre>\n\n<p>But the program does not ever error or end. It just hangs forever.</p>\n\n<p>I am using the packages <code>System.Data.Common</code> and <code>System.Data.SqlClient</code><br>\nIt is a MSSQL 2005 Server that I am attempting to connect to.</p>\n\n<p>What am I doing wrong/how do I connect to my server using a .NET Core Console project? I looked into using the <code>EntityFramework</code>, but would prefer to not use it unless that is my only option.</p>\n"}, {"tags": ["c#", "sql", ".net"], "comments": [{"owner": {"reputation": 2102, "user_id": 2105488, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f7ccc91924384abad653e30c1938bed4?s=128&d=identicon&r=PG", "display_name": "Allen King", "link": "https://stackoverflow.com/users/2105488/allen-king"}, "edited": false, "score": 1, "creation_date": 1496868337, "post_id": 44422303, "comment_id": 75843421, "body": "<code>DataContext.sp_UpdateRecord(ID, Name);</code> or <code>DataContext.sp_UpdateRecord(ID, Email);</code>  you can&#39;t do this because name and email same datatype, the system has no way of differentiating between Name and Email.  You will need to pass three parameters, one can be null, either the second or the third parameter and then handle the process inside the stored procedure."}, {"owner": {"reputation": 22, "user_id": 8100475, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YnN69VHNfP8/AAAAAAAAAAI/AAAAAAAACr8/87VFYpeJbvM/photo.jpg?sz=128", "display_name": "Ry.the.Stunner", "link": "https://stackoverflow.com/users/8100475/ry-the-stunner"}, "reply_to_user": {"reputation": 2102, "user_id": 2105488, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f7ccc91924384abad653e30c1938bed4?s=128&d=identicon&r=PG", "display_name": "Allen King", "link": "https://stackoverflow.com/users/2105488/allen-king"}, "edited": false, "score": 0, "creation_date": 1496868461, "post_id": 44422303, "comment_id": 75843478, "body": "Yes you can, like I said, I&#39;m manually modifying the DBML definitions of each stored procedure to adhere to the parameters.  And those manually overridden definitions are what I am keeping in the .txt file and manually replacing every time I rebuild the DBML."}, {"owner": {"reputation": 22, "user_id": 8100475, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YnN69VHNfP8/AAAAAAAAAAI/AAAAAAAACr8/87VFYpeJbvM/photo.jpg?sz=128", "display_name": "Ry.the.Stunner", "link": "https://stackoverflow.com/users/8100475/ry-the-stunner"}, "reply_to_user": {"reputation": 2102, "user_id": 2105488, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f7ccc91924384abad653e30c1938bed4?s=128&d=identicon&r=PG", "display_name": "Allen King", "link": "https://stackoverflow.com/users/2105488/allen-king"}, "edited": false, "score": 0, "creation_date": 1496868500, "post_id": 44422303, "comment_id": 75843506, "body": "However, what I wrote is just a generic example.  It&#39;s not the exact sample I&#39;m using and I don&#39;t think I have any stored procedures that are using conflicting parameter types like that.  Don&#39;t focus so much on the actual example, instead focus on the problem I&#39;m having."}, {"owner": {"reputation": 3616, "user_id": 1981471, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/i44eN.jpg?s=128&g=1", "display_name": "RandomUs1r", "link": "https://stackoverflow.com/users/1981471/randomus1r"}, "edited": false, "score": 0, "creation_date": 1496869112, "post_id": 44422303, "comment_id": 75843792, "body": "I&#39;m with Allen on this one, fix your design: sp_updaterecord(Id, null, Date) and then sp_updaterecord(Id, Name, null) are not only a lot easier to understand, they will also fix your DBML issue."}, {"owner": {"reputation": 534, "user_id": 789571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38ad45884c9a937c31e393df44a8f8a6?s=128&d=identicon&r=PG", "display_name": "Marco Hurtado", "link": "https://stackoverflow.com/users/789571/marco-hurtado"}, "edited": false, "score": 0, "creation_date": 1496869426, "post_id": 44422303, "comment_id": 75843942, "body": "I think it&#39;s better if you handle the overload in sql server. for example: DataContext.sp_updaterecord(action, id, valor). In your store procedure you can check if action = &#39;email&#39; then do something else if action = &#39;name&#39; then do something..."}, {"owner": {"reputation": 22, "user_id": 8100475, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YnN69VHNfP8/AAAAAAAAAAI/AAAAAAAACr8/87VFYpeJbvM/photo.jpg?sz=128", "display_name": "Ry.the.Stunner", "link": "https://stackoverflow.com/users/8100475/ry-the-stunner"}, "edited": false, "score": 0, "creation_date": 1496878513, "post_id": 44422303, "comment_id": 75847212, "body": "RandomUs - the reason I&#39;m doing it the way I am because I&#39;m not sure how to pass null DateTime values into a SQL Stored Procedure.  I always get exception errors when I pass a null or any variation of specifically for DateTime values.  If I remember correctly, it&#39;ll tell me that DateTime is not a nullable value.  Can someone tell me the best way to pass a null DateTime value?"}], "owner": {"reputation": 22, "user_id": 8100475, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YnN69VHNfP8/AAAAAAAAAAI/AAAAAAAACr8/87VFYpeJbvM/photo.jpg?sz=128", "display_name": "Ry.the.Stunner", "link": "https://stackoverflow.com/users/8100475/ry-the-stunner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496868580, "creation_date": 1496867800, "last_edit_date": 1496868580, "question_id": 44422303, "link": "https://stackoverflow.com/questions/44422303/overloading-stored-procedures-using-c-and-linq-to-sql", "title": "Overloading Stored Procedures using C# and LINQ to SQL", "body": "<p>I have a .NET project in which I call several stored procedures using the LINQ to SQL method.</p>\n\n<p>Several of these stored procedures are overloaded.  As in, they contain optional parameters and I may call the stored procedure in my code using any number of combinations of those parameters.</p>\n\n<pre><code>ALTER PROCEDURE [dbo].[sp_UpdateRecord]\n    @ID    INT,\n    @Name  VARCHAR(255) = NULL,\n    @Date  DATETIME     = NULL\n\nAS\nBEGIN\n\n    STORED PROCEDURE HERE\n\nEND\n</code></pre>\n\n<p>And then I'll call them in code like this:</p>\n\n<pre><code>DataContext.sp_UpdateRecord(ID, Name);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>DataContext.sp_UpdateRecord(ID, DateTime.Now);\n</code></pre>\n\n<p>depending on the situation.</p>\n\n<p>Of course, when you compile your DBML, it'll throw an exception saying \"sp_UpdateRecord does not take 2 arguments\"</p>\n\n<p>So far, my solution has been to keep a .txt file in my project handy and keep the DBML definitions of those overridden stored procedures in that file and then every time I have to rebuild the DBML, I just manually copy/paste and replace it with the overridden definitions.</p>\n\n<p>Obviously this is not ideal and can get tedious having to do this every time you rebuild the DBML.  It is also difficult and tedious to explain to the other developers how to do this and why I do this when they work on the same project.</p>\n\n<p>Does anyone have any easy ways to overcome this?  I would prefer to continue calling my stored procedures using LINQ to SQL instead of the standard CommandExecute way.</p>\n"}, {"tags": ["c#", "neo4j", "cypher", "neo4jclient"], "answers": [{"comments": [{"owner": {"reputation": 26608, "user_id": 92359, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/664d3d4c50c731d90a32db5f9e01b4b9?s=128&d=identicon&r=PG", "display_name": "InverseFalcon", "link": "https://stackoverflow.com/users/92359/inversefalcon"}, "edited": false, "score": 0, "creation_date": 1496867407, "post_id": 44422182, "comment_id": 75842954, "body": "@bjelleklang This is the correct answer, though keep in mind that node lookups like this will be unable to utilize indexes for fast lookup (though you wouldn&#39;t be able to with this query anyway, since you&#39;re not using labels)."}], "tags": [], "owner": {"reputation": 57206, "user_id": 974731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG", "display_name": "cybersam", "link": "https://stackoverflow.com/users/974731/cybersam"}, "is_accepted": false, "score": 1, "last_activity_date": 1496867261, "creation_date": 1496867261, "answer_id": 44422182, "question_id": 44422028, "link": "https://stackoverflow.com/questions/44422028/neo4j-cypher-match-on-dynamic-property/44422182#44422182", "title": "Neo4j/Cypher: Match on dynamic property", "body": "<p>The syntax, <code>n['foo']</code>, can be used to reference <code>n.foo</code>.</p>\n\n<p>So, this should work (I use the now-preferred <code>$foo</code> syntax instead of <code>{foo}</code> for parameters):</p>\n\n<pre><code>MATCH (a) WHERE a[$propName] CONTAINS $val\nRETURN a;\n</code></pre>\n\n<p>Where <code>propName: \"Description\"</code> and <code>val: \"Freeform item description\"</code></p>\n"}, {"comments": [{"owner": {"reputation": 395, "user_id": 872842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/36fc6e21fecaf0cb2070a7d1474737af?s=128&d=identicon&r=PG", "display_name": "bjelleklang", "link": "https://stackoverflow.com/users/872842/bjelleklang"}, "edited": false, "score": 0, "creation_date": 1497435580, "post_id": 44428821, "comment_id": 76074358, "body": "Many thanks, accepting this as the answer because of the indexing advantages."}, {"owner": {"reputation": 8385, "user_id": 697911, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/bbc3caf3ef84b005f839e2392cb4eafd?s=128&d=identicon&r=PG&f=1", "display_name": "user697911", "link": "https://stackoverflow.com/users/697911/user697911"}, "edited": false, "score": 0, "creation_date": 1519062552, "post_id": 44428821, "comment_id": 84746835, "body": "Why is &quot;string.Format(QueryFormat, &quot;Description&quot;);&quot;? How are the actual two parameters ({key} and {value}) passed into the query?"}, {"owner": {"reputation": 6030, "user_id": 2266, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/aa64f5e61bb8cbcc9d10372256580364?s=128&d=identicon&r=PG", "display_name": "Charlotte Skardon", "link": "https://stackoverflow.com/users/2266/charlotte-skardon"}, "edited": false, "score": 0, "creation_date": 1519726488, "post_id": 44428821, "comment_id": 85016746, "body": "<code>QueryFormat</code> is a string in the <code>string.Format</code>structure, with a <code>{0}</code> placeholder. Which is the key, to add the value you&#39;d want to pass in a parameters object with a &#39;val&#39; key/value pair"}], "tags": [], "owner": {"reputation": 6030, "user_id": 2266, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/aa64f5e61bb8cbcc9d10372256580364?s=128&d=identicon&r=PG", "display_name": "Charlotte Skardon", "link": "https://stackoverflow.com/users/2266/charlotte-skardon"}, "is_accepted": true, "score": 1, "last_activity_date": 1496905457, "creation_date": 1496905457, "answer_id": 44428821, "question_id": 44422028, "link": "https://stackoverflow.com/questions/44422028/neo4j-cypher-match-on-dynamic-property/44428821#44428821", "title": "Neo4j/Cypher: Match on dynamic property", "body": "<p>@cybersam's response is one way of getting the result, but as InverseFalcon said - you lose indexing performance - assuming you're planning on making the query a bit more detailed than just the example.</p>\n\n<p>You don't need to write hundreds of queries (1 for each property), surely this is just a job for <code>string.Format</code>?  That way you get around the concat issue of string, and you can use indexing properly. </p>\n\n<p>Something like:</p>\n\n<pre><code>const string QueryFormat = \"MATCH (a) WHERE (a.{0} CONTAINS {{val}})\";\n</code></pre>\n\n<p>which you'd use like:</p>\n\n<pre><code>string.Format(QueryFormat, \"Description\");\n</code></pre>\n\n<p>So...</p>\n\n<pre><code>session.Run(string.Format(QueryFormat, \"Description\"), /*params object here*/);\n</code></pre>\n\n<p>Presumably you've already provided a list of properties for a user to select from, so it makes sense just to pass that in with the parameters. <code>string.Format</code> doesn't have the issues that concat does so performance wise it'll be better in the long run as you can use the indexing on Neo4j when you get to it.</p>\n"}], "owner": {"reputation": 395, "user_id": 872842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/36fc6e21fecaf0cb2070a7d1474737af?s=128&d=identicon&r=PG", "display_name": "bjelleklang", "link": "https://stackoverflow.com/users/872842/bjelleklang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 893, "favorite_count": 0, "accepted_answer_id": 44428821, "answer_count": 2, "score": 0, "last_activity_date": 1496905457, "creation_date": 1496866557, "last_edit_date": 1592644375, "question_id": 44422028, "link": "https://stackoverflow.com/questions/44422028/neo4j-cypher-match-on-dynamic-property", "title": "Neo4j/Cypher: Match on dynamic property", "body": "<p>According to the developer manual section 3.2.4 on Parameters:</p>\n<blockquote>\n<p>Parameters cannot be used for the following constructs, as these form part of the &gt;query structure that is compiled into a query plan:</p>\n<ul>\n<li>property keys; so, MATCH (n) WHERE n.$param = 'something' is invalid (<a href=\"http://neo4j.com/docs/developer-manual/current/cypher/syntax/parameters/\" rel=\"nofollow noreferrer\">source</a>)</li>\n</ul>\n</blockquote>\n<p>Is there no way around this (c#, using the official driver)? I have a case where a node of a particular type can contain from a few up to hundreds of properties, and I want the users to be able to search for any of these without having to write all possible queries in advance. Ideally I'd like to be able to do something similar to</p>\n<pre><code>MATCH (a) WHERE ({prop} CONTAINS {val}) RETURN a\n</code></pre>\n<p>supplying a dictionary where <code>prop: &quot;a.Description&quot;</code> and <code>val: &quot;Freeform item description&quot;</code></p>\n<p>Is this at all possible, or is string concatenation (with related drawbacks) the only possibility here?</p>\n"}, {"tags": ["c#", "asp.net-core", "export-to-excel", "epplus", "epplus-4"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1496866835, "post_id": 44421995, "comment_id": 75842672, "body": "Well you need to start with getting a reference to a range that only points to the cells you want. Doing <code>ws.Row(i)</code> isn&#39;t going to get you that, because that will be the entire row."}, {"owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1496867425, "post_id": 44421995, "comment_id": 75842964, "body": "@mason I tried with <code>ExcelRange ExlRange = ws.Cells[1, 1, 50, 10];</code> (covering first 50 rows and 10 columns) but <code>ExcelRange</code> does not seem to have <code>ExcelRow</code> or <code>ExcelColumn</code> so the above code did not work for <code>ExlRange</code>. Any other suggestions?"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1496867659, "post_id": 44421995, "comment_id": 75843104, "body": "Did you look at my answer?"}], "answers": [{"comments": [{"owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "edited": false, "score": 0, "creation_date": 1496868031, "post_id": 44422193, "comment_id": 75843264, "body": "Line <code>ExcelFill rowFill     = ws.Cells[........]</code> gives the error <code>cannot implicitly convert ExcelRange to ExcelFill</code>. I can&#39;t use <code>var</code> since we need to have <code>RowFill.PatternType</code> property set first in order to use <code>RowFill.BackgroundColor</code>"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "reply_to_user": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "edited": false, "score": 0, "creation_date": 1496868094, "post_id": 44422193, "comment_id": 75843305, "body": "Look at my edited answer. I was using different variable names than you were."}], "tags": [], "owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "is_accepted": true, "score": 0, "last_activity_date": 1496868071, "last_edit_date": 1496868071, "creation_date": 1496867301, "answer_id": 44422193, "question_id": 44421995, "link": "https://stackoverflow.com/questions/44421995/how-to-apply-excel-settings-only-to-a-range-using-epplus/44422193#44422193", "title": "How to apply Excel settings only to a range using Epplus", "body": "<p>Instead of using <code>ws.Row(rowNumber)</code> use</p>\n\n<pre><code>var firstColumn =  1;\nvar lastColumn  = 10;\nvar rowRange    = ws.Cells[rowNumber, firstColumn, rowNumber, lastColumn];\n//now do styling on rowRange\n</code></pre>\n\n<p><code>rowRange</code> will contain references to all the cells in the rectangle defined by the values you passed to it. </p>\n"}], "owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 44422193, "answer_count": 1, "score": 0, "last_activity_date": 1496868071, "creation_date": 1496866443, "last_edit_date": 1496867933, "question_id": 44421995, "link": "https://stackoverflow.com/questions/44421995/how-to-apply-excel-settings-only-to-a-range-using-epplus", "title": "How to apply Excel settings only to a range using Epplus", "body": "<p>For the values <code>i=4 and i=6</code>, following will apply background color as <code>LightGrey</code> to the <code>entire</code> 4th and 6th rows. <strong>Question</strong>: Are there any ways so we change the Background color (or any style for that matter) of a row within certain range, say, all the rows from 1st column to the 10th column?</p>\n\n<pre><code>int i;\nExcelRow rowRange = ws.Row(i);\nExcelFill RowFill = rowRange.Style.Fill;\nRowFill.PatternType = ExcelFillStyle.Solid;\nRowFill.BackgroundColor.SetColor(System.Drawing.Color.LightGray);\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-core"], "comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1496867418, "post_id": 44421805, "comment_id": 75842961, "body": "See <a href=\"https://stackoverflow.com/questions/42904414/multiple-includes-in-ef-core\" title=\"multiple includes in ef core\">stackoverflow.com/questions/42904414/&hellip;</a>"}, {"owner": {"reputation": 1929, "user_id": 4070724, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/77b685bc319db59059a384dc38d0521a?s=128&d=identicon&r=PG&f=1", "display_name": "Palmi", "link": "https://stackoverflow.com/users/4070724/palmi"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1496870966, "post_id": 44421805, "comment_id": 75844609, "body": "Some of those solutions have errors and none of them works in a generic setting"}], "answers": [{"tags": [], "owner": {"reputation": 1185, "user_id": 7376923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fb2cb552ae2e610164ac4f4cfed1169?s=128&d=identicon&r=PG&f=1", "display_name": "andreisrob", "link": "https://stackoverflow.com/users/7376923/andreisrob"}, "is_accepted": false, "score": 1, "last_activity_date": 1502845391, "last_edit_date": 1502845391, "creation_date": 1502845043, "answer_id": 45703558, "question_id": 44421805, "link": "https://stackoverflow.com/questions/44421805/usage-of-entityframeworkqueryableextensions-theninclude-in-ef-core/45703558#45703558", "title": "Usage of EntityFrameworkQueryableExtensions.ThenInclude in EF Core", "body": "<p>Instead of passing an expression to the <code>Include()</code> method, there are two overloads you can use that take strings. </p>\n\n<p>The first takes either a single property or multi-level properties like so:</p>\n\n<pre><code>Include(\"property1\")\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>Include(\"property1.property2.property3\")\n</code></pre>\n\n<p>The second takes advantage of the <code>nameof()</code> method like so:</p>\n\n<pre><code>Include(nameof(property1), nameof(property2), nameof(property3))\n</code></pre>\n\n<p>And if you have a generic loading method that takes an array of strings to iterate over and \"Include\" (in precisely the same fashion you are iterating over your array right now), then you can use the first overload (one string) and do something like this:</p>\n\n<pre><code>MyGenericRepo.MySetInclude(new string[] {$\"{nameof(ParentEntity.ChildEntity)}.{nameof(ChildEntity.GrandchildEntity)}\"});\n</code></pre>\n\n<p>So you are still only using the one <code>Include()</code> method without adding any additional logic to your repository, but you can now \"include\" as many levels as you wish.</p>\n\n<p>To see the origins of these overloads, you can check it out <a href=\"https://github.com/aspnet/EntityFramework/issues/3921\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 1929, "user_id": 4070724, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/77b685bc319db59059a384dc38d0521a?s=128&d=identicon&r=PG&f=1", "display_name": "Palmi", "link": "https://stackoverflow.com/users/4070724/palmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502845391, "creation_date": 1496865766, "question_id": 44421805, "link": "https://stackoverflow.com/questions/44421805/usage-of-entityframeworkqueryableextensions-theninclude-in-ef-core", "title": "Usage of EntityFrameworkQueryableExtensions.ThenInclude in EF Core", "body": "<p>I tried to define a generic loading method.\nI call this generic loading method with an array of expressions like this:</p>\n\n<pre><code>var includes = new Expression&lt;Func&lt;CatalogItem, object&gt;&gt;[]\n    {\n        ci =&gt; ci.Catalog.Select(ci =&gt; ci.Supplier.Region),\n        ci =&gt; ci.Test\n    }\n</code></pre>\n\n<p>In the method I create an IQueryable:</p>\n\n<pre><code>IQueryable&lt;TAggregateRoot&gt; queryable = dbContext.Set&lt;TAggregateRoot&gt;();\n</code></pre>\n\n<p>Then for each Expression I want to load the respective data like this:</p>\n\n<pre><code>foreach (var include in includes)\n    {\n        queryable = queryable.Include(include);\n    }\n</code></pre>\n\n<p>But this only works when the Expression is only one level. With multiple levels it throws an error.<br>\nSince there is no ThenInclude I have to use the EntityFrameworkQueryableExtensions. I tried it like this</p>\n\n<pre><code>queryable = EntityFrameworkQueryableExtensions.ThenInclude(queryable, include);\n</code></pre>\n\n<p>But this does not work either.</p>\n\n<p>I cannot find any documentation to this problem. How do I solve this problem and how do I use EntityFrameworkQueryableExtensions.ThenInclude?</p>\n"}, {"tags": ["c#", "asp.net", "sqldatareader"], "answers": [{"comments": [{"owner": {"reputation": 342, "user_id": 6859601, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10207819387988049/picture?type=large", "display_name": "Jonathan Burgos Gio", "link": "https://stackoverflow.com/users/6859601/jonathan-burgos-gio"}, "edited": false, "score": 1, "creation_date": 1496866363, "post_id": 44421793, "comment_id": 75842419, "body": "I documented with MSDN, initialize the array outside the loop but then they are wrong, you helped me a lot. Thank you"}], "tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": true, "score": 1, "last_activity_date": 1496868357, "last_edit_date": 1496868357, "creation_date": 1496865713, "answer_id": 44421793, "question_id": 44421755, "link": "https://stackoverflow.com/questions/44421755/how-add-listobject-with-npgsqldatareader-c/44421793#44421793", "title": "How add list&lt;object&gt; with NpgsqlDataReader() C#", "body": "<p>You need to move the declaration and initialization of your object array inside the loop</p>\n\n<pre><code>  ....\n  while (reader.Read())\n  {\n      object[] fieldValues = new object[fieldCount];\n      ....\n  }\n</code></pre>\n\n<p>The problem that you experience is caused by the fact that when you initialize the array outside the loop and reuse it at every loop of the datareader, you replace the previous content with the content of the current record.<br>\nBut when you add the array to the list of objects you add the same reference to initial array where only the content has been changed. Obviously when you reach the last record there is only one array while the list contains n reference to the same memory area. So you display n time the same last record.</p>\n\n<p>Moving the initialization inside the loop provides the list with a new reference at each loop and each reference maintain the data of the record received during the loop.</p>\n"}], "owner": {"reputation": 342, "user_id": 6859601, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10207819387988049/picture?type=large", "display_name": "Jonathan Burgos Gio", "link": "https://stackoverflow.com/users/6859601/jonathan-burgos-gio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1364, "favorite_count": 0, "accepted_answer_id": 44421793, "answer_count": 1, "score": 0, "last_activity_date": 1496868357, "creation_date": 1496865568, "question_id": 44421755, "link": "https://stackoverflow.com/questions/44421755/how-add-listobject-with-npgsqldatareader-c", "title": "How add list&lt;object&gt; with NpgsqlDataReader() C#", "body": "<p>I do not know what I am doing wrong, when I add the values \u200b\u200bfrom my database to a <code>list&lt;object&gt;</code> it always returns the list with the total of objects but all the values \u200b\u200bare those of the last record that was made in the loop <code>while</code>.</p>\n\n<p>This is my code:</p>\n\n<pre><code>public List&lt;object&gt; getdata(string storedProcedure)\n    {\n        List&lt;object&gt; list = new List&lt;object&gt;();\n        try\n        {\n            using (var conn = new NpgsqlConnection(connstring))\n            {\n                conn.Open();\n                NpgsqlTransaction tran = conn.BeginTransaction();\n                NpgsqlDataReader reader;\n                var cmd = new NpgsqlCommand(storedProcedure, conn);\n                cmd.CommandType = CommandType.StoredProcedure;\n                reader = cmd.ExecuteReader();\n\n                int fieldCount = reader.FieldCount;\n                object[] fieldValues = new object[fieldCount];\n                while (reader.Read())\n                {\n                    int instances = reader.GetValues(fieldValues);\n                    for (int fieldCounter = 0; fieldCounter &lt; fieldCount; fieldCounter++)\n                    {\n                        if (Convert.IsDBNull(fieldValues[fieldCounter]))\n                            fieldValues[fieldCounter] = \"NA\";                               \n                    }\n                    list.Add(fieldValues);\n                }                       \n                reader.Close();                    \n                tran.Commit();\n                conn.Close();\n                return list;\n            }\n        }\n        catch (Exception ex)\n        {\n        }\n        return list;\n    }\n</code></pre>\n\n<p>This is what I get in all positions, it is the last value:\n<a href=\"https://i.stack.imgur.com/VmD4q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VmD4q.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "list", "iteration"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1496865732, "post_id": 44421739, "comment_id": 75842098, "body": "No, no. Check if it&#39;s non-generic IEnumerable, then cast to that and do a foreach on it. Make it a recursive method. Done."}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 10, "creation_date": 1496865864, "post_id": 44421739, "comment_id": 75842161, "body": "Embrace the OOP! You&#39;re fighting the language by making a list of random crap. Create strong types for whatever you&#39;re keeping in your list. Let those types handle printing themselves by overrideing the <code>ToString()</code> method or by adding a <code>Display()</code> method or similar to the interface."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1496865876, "post_id": 44421739, "comment_id": 75842169, "body": "Looks like <code>Count</code> might be the IEnumerable.Count() extension method. I don&#39;t know how you made that happen if innerList is Object; could we see the complete code?"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 3, "creation_date": 1496865923, "post_id": 44421739, "comment_id": 75842186, "body": "@itsme86 &quot;Random crap&quot; +1"}], "answers": [{"tags": [], "owner": {"reputation": 1613, "user_id": 3712036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4328bb5ae100e868fe43d27482c82f31?s=128&d=identicon&r=PG", "display_name": "entropic", "link": "https://stackoverflow.com/users/3712036/entropic"}, "is_accepted": false, "score": 0, "last_activity_date": 1496866258, "creation_date": 1496866258, "answer_id": 44421948, "question_id": 44421739, "link": "https://stackoverflow.com/questions/44421739/how-do-you-iterate-through-a-mixed-listt-and-print-contents-to-console-in-c/44421948#44421948", "title": "How do you iterate through a mixed List&lt;t&gt; and print contents to console in C#?", "body": "<p>If you know your object is a <code>List&lt;&gt;</code> of some generic type, you could always cast to <code>IList</code> and loop through it that way.  </p>\n\n<p>To paraphrase your code:</p>\n\n<pre><code>if (innerList.GetType().IsGenericType &amp;&amp; innerList.GetType().GetGenericTypeDefinition() == typeof(List&lt;&gt;))\n{\n    var list = (IList)innerList;\n    for (int inner = 0; inner &lt; list.Count; inner++)\n    {\n        Console.WriteLine(list[inner].ToString());\n        //print string\n    }\n}\n</code></pre>\n\n<p>But in reality, you should be doing what itsme86 said, and making strong types with an overriden <code>ToString()</code> or <code>Display()</code> method.</p>\n"}, {"comments": [{"owner": {"reputation": 16641, "user_id": 1744164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c224e326809636f5f5d3841899571e?s=128&d=identicon&r=PG", "display_name": "Sir Rufo", "link": "https://stackoverflow.com/users/1744164/sir-rufo"}, "edited": false, "score": 0, "creation_date": 1496866471, "post_id": 44421988, "comment_id": 75842473, "body": "You fogot the indentation, but recursion was also in my mind"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1496867465, "post_id": 44421988, "comment_id": 75842992, "body": "You&#39;re treating IEnumerable as if it were IEnumerator. That loop won&#39;t compile."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1496870689, "post_id": 44421988, "comment_id": 75844485, "body": "re: Random crap, agreed -- it&#39;s a ringing phrase, but when you want to trace a <code>List&lt;T&gt;</code>, &quot;subclass it&quot; isn&#39;t the answer."}], "tags": [], "owner": {"reputation": 5538, "user_id": 5639688, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/5GBLX.jpg?s=128&g=1", "display_name": "eocron", "link": "https://stackoverflow.com/users/5639688/eocron"}, "is_accepted": false, "score": 0, "last_activity_date": 1496867699, "last_edit_date": 1496867699, "creation_date": 1496866422, "answer_id": 44421988, "question_id": 44421739, "link": "https://stackoverflow.com/questions/44421739/how-do-you-iterate-through-a-mixed-listt-and-print-contents-to-console-in-c/44421988#44421988", "title": "How do you iterate through a mixed List&lt;t&gt; and print contents to console in C#?", "body": "<p>Here is more simplistic way of doing what you want:</p>\n\n<pre><code>public static void DeepPrint(object obj, int recursionLevel)\n{\n    if(obj == null)\n    {\n        //print null\n        return;\n    }\n    var str = obj as string;\n    if(str != null)\n    {\n        //print str\n        return;\n    }\n    var enumer = obj as IEnumerable;\n    if(enumer != null)\n    {\n        foreach(var e in enumer)\n        {\n            DeepPrint(e, recursionLevel+1);\n        }\n        return;\n    }\n    //print obj.ToString();\n}\n</code></pre>\n\n<p>Then call it like this on whatever you desire:</p>\n\n<pre><code>DeepPrint(myObjectOrList, 0);\n</code></pre>\n\n<p><strong>PS</strong> </p>\n\n<p>For those who say about \"random crap\" - embrace the string.Format(...), embrace serialization in general, embrace WCF and dynamic, and etc. There is many random things in this world, what doesn't really need strong typing. In fact it will just become \"crap\" if you provide strong typing to some common used functions.</p>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1496869707, "last_edit_date": 1496869707, "creation_date": 1496866944, "answer_id": 44422106, "question_id": 44421739, "link": "https://stackoverflow.com/questions/44421739/how-do-you-iterate-through-a-mixed-listt-and-print-contents-to-console-in-c/44422106#44422106", "title": "How do you iterate through a mixed List&lt;t&gt; and print contents to console in C#?", "body": "<p>One way you could do it is to check if the object implements <code>ICollection</code>, and if so, iterate over the contents. I created a recursive method to handle cases where a collection contained other collections, which includes an <code>indentAmount</code> argument, so that nested collections are indented by a tab each time they're encountered:</p>\n\n<pre><code>public static void PrintItem(object item, int indentAmount = 0)\n{\n    var indent = new string('\\t', indentAmount);\n    if (item == null) Console.WriteLine($\"{indent}&lt;null&gt;\");\n\n    if (item is ICollection)\n    {\n        var innerItems = item as IEnumerable;\n        Console.WriteLine($\"{indent}Collection type encountered:\");\n        indentAmount++;\n        foreach (var innerItem in innerItems)\n        {\n            PrintItem(innerItem, indentAmount);\n        }\n    }\n    else\n    {\n        Console.WriteLine($\"{indent}{item}\");\n    }\n}\n</code></pre>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>private static void Main()\n{\n    var items = new List&lt;object&gt;\n    {\n        \"first\",\n        2,\n        new List&lt;string&gt; {\"listFirst\", \"listSecond\"},\n        new[] {\"arrayFirst\", \"arraySecond\"},\n        new ArrayList {\"arrayListFirst\", \"arrayListSecond\"},\n        \"third\",\n        new List&lt;List&lt;string&gt;&gt;\n        {\n            new List&lt;string&gt; {\"nestedList1First\", \"nestedList1Second\"},\n            new List&lt;string&gt; {\"nestedList2First\", \"nestedList2Second\"}\n        },\n        4f,\n        new object[] {5d, \"six\", new List&lt;object&gt;{\"seven\", 8} },\n        9,\n        \"ten\"\n    };\n\n    PrintItem(items);\n\n    Console.WriteLine(\"\\nDone!\\nPress any key to exit...\");\n    Console.ReadKey();\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/19Mc4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/19Mc4.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 628, "user_id": 125371, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/32b2a882b64af94ec20fc54aaebb19ac?s=128&d=identicon&r=PG", "display_name": "cosmarchy", "link": "https://stackoverflow.com/users/125371/cosmarchy"}, "edited": false, "score": 1, "creation_date": 1496948902, "post_id": 44422116, "comment_id": 75885076, "body": "@EdPlunkett thanks for this however the only way to get this to compile is to change <code>public static void PrintAll(Object root)</code> to <code>public static void PrintAll(this Object root)</code> and after that I get a <code>An unhandled exception of type &#39;System.StackOverflowException&#39; occurred in mscorlib.dll</code> at the <code>foreach</code> on this line <code>foreach (var child in e.SelectAll())</code>"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "reply_to_user": {"reputation": 628, "user_id": 125371, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/32b2a882b64af94ec20fc54aaebb19ac?s=128&d=identicon&r=PG", "display_name": "cosmarchy", "link": "https://stackoverflow.com/users/125371/cosmarchy"}, "edited": false, "score": 0, "creation_date": 1496948953, "post_id": 44422116, "comment_id": 75885103, "body": "@cosmarchy Thanks, I&#39;ll take a look."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "reply_to_user": {"reputation": 628, "user_id": 125371, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/32b2a882b64af94ec20fc54aaebb19ac?s=128&d=identicon&r=PG", "display_name": "cosmarchy", "link": "https://stackoverflow.com/users/125371/cosmarchy"}, "edited": false, "score": 0, "creation_date": 1496949794, "post_id": 44422116, "comment_id": 75885544, "body": "@cosmarchy Good catch! I got confused about the recursion. Fixed now."}], "tags": [], "owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "is_accepted": true, "score": 2, "last_activity_date": 1496949777, "last_edit_date": 1496949777, "creation_date": 1496866984, "answer_id": 44422116, "question_id": 44421739, "link": "https://stackoverflow.com/questions/44421739/how-do-you-iterate-through-a-mixed-listt-and-print-contents-to-console-in-c/44422116#44422116", "title": "How do you iterate through a mixed List&lt;t&gt; and print contents to console in C#?", "body": "<pre><code>static void Main()\n{\n    var randomCrap = new List&lt;Object&gt;\n    {\n        1, \"two\",\n        new List&lt;object&gt; { 3, 4 },\n        5, 6,\n        new List&lt;object&gt; {\n            new List&lt;object&gt; { 7, 8, \"nine\" },\n        },\n    };\n\n    randomCrap.PrintAll();\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1\ntwo\n3\n4\n5\n6\n7\n8\nnine\n</code></pre>\n\n<p>Using this:</p>\n\n<pre><code>public static class Extensions\n{\n    public static void PrintAll(this Object root)\n    {\n        foreach (var x in root.SelectAll())\n        {\n            Console.WriteLine(x);\n        }\n    }\n\n    public static IEnumerable&lt;Object&gt; SelectAll(this object o)\n    {\n        //  Thank you, eocron\n        if (o is String)\n        {\n            yield return o;\n        }\n        else if (o is IEnumerable)\n        {\n            var e = o as IEnumerable;\n            foreach (var child in e)\n            {\n                foreach (var child2 in child.SelectAll())\n                    yield return child2;\n            }\n        }\n        else\n        {\n            yield return o;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 628, "user_id": 125371, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/32b2a882b64af94ec20fc54aaebb19ac?s=128&d=identicon&r=PG", "display_name": "cosmarchy", "link": "https://stackoverflow.com/users/125371/cosmarchy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 44422116, "answer_count": 4, "score": -1, "last_activity_date": 1562017160, "creation_date": 1496865529, "last_edit_date": 1562017160, "question_id": 44421739, "link": "https://stackoverflow.com/questions/44421739/how-do-you-iterate-through-a-mixed-listt-and-print-contents-to-console-in-c", "title": "How do you iterate through a mixed List&lt;t&gt; and print contents to console in C#?", "body": "<p>I have a <code>List&lt;object&gt;</code> which contains strings and even additional lists.</p>\n\n<pre><code>List&lt;object&gt; NewArray = new List&lt;object&gt;();\n</code></pre>\n\n<p>so basically the list contains a mixture....</p>\n\n<p>As a sanity check, I want to print out the contents to the console.  I start by iterating through and test to see whether the element is a list.  If it isn't then it will be a string and can be printed to the console.  If it is a list, I want to iterate through and print the string contents to the console but with a tab to indent it.</p>\n\n<p>I have this so far:</p>\n\n<pre><code>    for (int outer = 0; outer &lt; NewArray.Count; outer++)\n            {\n\n                var innerList = NewArray[outer];\n\n                if (innerList.GetType().IsGenericType &amp;&amp; innerList.GetType().GetGenericTypeDefinition() == typeof(List&lt;&gt;))\n                {\n\n                    for (int inner = 0; inner &lt; innerList.Count; inner++)\n                    {\n\n                        //print string\n                    }\n                }\n                else\n                {\n                    //print string\n                }\n    }\n</code></pre>\n\n<p>I didn't want to use a <code>foreach</code> loop as I'm not sure the order of the list would be guaranteed and will be in the future adding a increment number (which can be provided by the inner and outer variables).</p>\n\n<p>The issue I am getting is an error here:</p>\n\n<pre><code>inner &lt; innerList.Count\n</code></pre>\n\n<p>which is:</p>\n\n<blockquote>\n  <p>Operator '&lt;' cannot be applied to operands of type 'int' and 'method group'</p>\n</blockquote>\n\n<p>What do I need to do to overcome this?  I'm not sure it is the most efficient way of achieving the end result but....</p>\n"}, {"tags": ["c#", "callback", "portable-class-library", "static-classes"], "comments": [{"owner": {"reputation": 16641, "user_id": 1744164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c224e326809636f5f5d3841899571e?s=128&d=identicon&r=PG", "display_name": "Sir Rufo", "link": "https://stackoverflow.com/users/1744164/sir-rufo"}, "edited": false, "score": 1, "creation_date": 1496865598, "post_id": 44421722, "comment_id": 75842042, "body": "Is there a special reason why you did not await any of the two methods?"}], "answers": [{"tags": [], "owner": {"reputation": 4592, "user_id": 1556108, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1b3e85776ce504861dbf96a3c8f7980e?s=128&d=identicon&r=PG", "display_name": "LB2", "link": "https://stackoverflow.com/users/1556108/lb2"}, "is_accepted": true, "score": 2, "last_activity_date": 1496865790, "creation_date": 1496865790, "answer_id": 44421811, "question_id": 44421722, "link": "https://stackoverflow.com/questions/44421722/how-do-i-create-a-simple-callback-in-static-classes-in-c/44421811#44421811", "title": "How do I create a simple callback in static classes in c#", "body": "<p>Using <code>Task.WhenAll</code>, you can create a single task that wraps several tasks and completes when all wrapped tasks are completed.</p>\n\n<pre><code> public static class FirstClass{\n\n    public static async System.Threading.Tasks.Task FirstClassMethod() \n        {\n            return await Task.WhenAll(\n                SecondClass.SecondClassMethod(),\n                ThirdClass.ThirdClassMethod()\n            );\n        }\n }\n\n public static class SecondClass{\n\n    public static async System.Threading.Tasks.Task SecondClassMethod() \n        {\n\n        }\n }\n\n public static class ThirdClass{\n\n    public static async System.Threading.Tasks.Task ThirdClassMethod() \n        {\n\n        }\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 345, "user_id": 8055842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/00585bab85ea3eb39248ab374cfe8781?s=128&d=identicon&r=PG&f=1", "display_name": "Rajan M", "link": "https://stackoverflow.com/users/8055842/rajan-m"}, "edited": false, "score": 0, "creation_date": 1496913555, "post_id": 44421869, "comment_id": 75860694, "body": "if I don&#39;t use await to call async task , will it not throw any error... Correct me If I am wrong"}, {"owner": {"reputation": 345, "user_id": 8055842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/00585bab85ea3eb39248ab374cfe8781?s=128&d=identicon&r=PG&f=1", "display_name": "Rajan M", "link": "https://stackoverflow.com/users/8055842/rajan-m"}, "edited": false, "score": 0, "creation_date": 1496913618, "post_id": 44421869, "comment_id": 75860739, "body": "If I don&#39;t use await , then ThirdClassMethod can continue its execution before SecondClassMethod finishes"}, {"owner": {"reputation": 7359, "user_id": 6583901, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9dQsK.jpg?s=128&g=1", "display_name": "NtFreX", "link": "https://stackoverflow.com/users/6583901/ntfrex"}, "reply_to_user": {"reputation": 345, "user_id": 8055842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/00585bab85ea3eb39248ab374cfe8781?s=128&d=identicon&r=PG&f=1", "display_name": "Rajan M", "link": "https://stackoverflow.com/users/8055842/rajan-m"}, "edited": false, "score": 0, "creation_date": 1496913922, "post_id": 44421869, "comment_id": 75860963, "body": "@RajanM Even if you don&#39;t use await it can throw an exception but if you want to catch it you need to do something like this <code>task.ContinueWith(t =&gt; HandleError(t.Exception),     TaskContinuationOptions.OnlyOnFaulted);.</code>. If you use await you can catch it normaly."}, {"owner": {"reputation": 7359, "user_id": 6583901, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9dQsK.jpg?s=128&g=1", "display_name": "NtFreX", "link": "https://stackoverflow.com/users/6583901/ntfrex"}, "reply_to_user": {"reputation": 345, "user_id": 8055842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/00585bab85ea3eb39248ab374cfe8781?s=128&d=identicon&r=PG&f=1", "display_name": "Rajan M", "link": "https://stackoverflow.com/users/8055842/rajan-m"}, "edited": false, "score": 0, "creation_date": 1496913980, "post_id": 44421869, "comment_id": 75860997, "body": "@RajanM the second statement is correct but the point is that somewhen you have to wait for the task to compleate. If you do not know when stuff is done and the process could shut down before all tasks are done."}], "tags": [], "owner": {"reputation": 7359, "user_id": 6583901, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9dQsK.jpg?s=128&g=1", "display_name": "NtFreX", "link": "https://stackoverflow.com/users/6583901/ntfrex"}, "is_accepted": false, "score": 1, "last_activity_date": 1496866385, "last_edit_date": 1496866385, "creation_date": 1496866022, "answer_id": 44421869, "question_id": 44421722, "link": "https://stackoverflow.com/questions/44421722/how-do-i-create-a-simple-callback-in-static-classes-in-c/44421869#44421869", "title": "How do I create a simple callback in static classes in c#", "body": "<p>With the <code>await</code> keyword your waiting until the <code>Task</code> is done.</p>\n\n<pre><code>using System.Threading.Tasks;\n\npublic static async Task FirstClassMethod() \n{\n    await SecondClass. SecondClassMethod();\n    await ThirdClass. ThirdClassMethod();\n    ...\n}\n</code></pre>\n\n<p>BTW:</p>\n\n<blockquote>\n  <p>You should consider not using await only if you're sure that you don't want to wait for the asynchronous call to complete and that the called method won't raise any exceptions.</p>\n</blockquote>\n"}], "owner": {"reputation": 345, "user_id": 8055842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/00585bab85ea3eb39248ab374cfe8781?s=128&d=identicon&r=PG&f=1", "display_name": "Rajan M", "link": "https://stackoverflow.com/users/8055842/rajan-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "accepted_answer_id": 44421811, "answer_count": 2, "score": 1, "last_activity_date": 1496866385, "creation_date": 1496865412, "question_id": 44421722, "link": "https://stackoverflow.com/questions/44421722/how-do-i-create-a-simple-callback-in-static-classes-in-c", "title": "How do I create a simple callback in static classes in c#", "body": "<p>I have a static class that has a method that again calls two other static class methods </p>\n\n<p>Basically In the first static class I want to know once the operation is done in the two other static classes</p>\n\n<pre><code> public static class FirstClass{\n\n    public static async System.Threading.Tasks.Task FirstClassMethod() \n        {\n            SecondClass. SecondClassMethod();\n            ThirdClass. ThirdClassMethod();\n        }\n }\n\n public static class SecondClass{\n\n    public static async System.Threading.Tasks.Task SecondClassMethod() \n        {\n\n        }\n }\n\n public static class ThirdClass{\n\n    public static async System.Threading.Tasks.Task ThirdClassMethod() \n        {\n\n        }\n }\n</code></pre>\n\n<p>Any help on solving my problem would be appreciated very much</p>\n"}, {"tags": ["c#", "wpf", "vb.net", "xaml"], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 7432434, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/98a624a5c8c87227ea7d8a70f1516dec?s=128&d=identicon&r=PG&f=1", "display_name": "Lina", "link": "https://stackoverflow.com/users/7432434/lina"}, "is_accepted": false, "score": 0, "last_activity_date": 1496871083, "creation_date": 1496871083, "answer_id": 44423115, "question_id": 44421710, "link": "https://stackoverflow.com/questions/44421710/datepicker-in-xaml-vb/44423115#44423115", "title": "DatePicker in xaml.vb", "body": "<p>Timespan is available in vb too... check on this </p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/bk8a3558(v=vs.110).aspx?cs-save-lang=1&amp;cs-lang=vb#code-snippet-1\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/bk8a3558(v=vs.110).aspx?cs-save-lang=1&amp;cs-lang=vb#code-snippet-1</a></p>\n\n<p>Follwoing is the same code in vb .... </p>\n\n<pre><code>Private Sub dateTimePicker1_valueChanged(sender As Object, e As EventArgs)\n    Dim from As DateTime = dateTimePicker1.Value\n    Dim [to] As DateTime = dateTimePicker1.Now\n    Dim Tspan As TimeSpan = [to] - from\n    Dim days As Double = Tspan.TotalDays\n    textbox1.Text = (days / 365).ToString(\"0\")\nEnd Sub\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "is_accepted": false, "score": 1, "last_activity_date": 1496928774, "creation_date": 1496928774, "answer_id": 44437184, "question_id": 44421710, "link": "https://stackoverflow.com/questions/44421710/datepicker-in-xaml-vb/44437184#44437184", "title": "DatePicker in xaml.vb", "body": "<p><code>DateTimePicker</code> is a WindowsForms control. In WPF the control is called <code>DatePicker</code> and it has a <code>SelectedDate</code> property that returns a <code>Nullable(Of DateTime)</code>.</p>\n\n<p>Try this.</p>\n\n<p><strong>XAML:</strong></p>\n\n<pre><code>&lt;DatePicker x:Name=\"dob\" SelectedDateChanged=\"dob_SelectedDateChanged\" /&gt;\n&lt;TextBox x:Name=\"textBox1\" /&gt;\n</code></pre>\n\n<p><strong>VB.NET:</strong></p>\n\n<pre><code>Private Sub dob_SelectedDateChanged(sender As Object, e As SelectionChangedEventArgs)\n    Dim fromDate = dob.SelectedDate.Value\n    Dim toDate = DateTime.Now\n    Dim tspan = toDate - fromDate\n    Dim days = tspan.TotalDays\n    textBox1.Text = days.ToString\nEnd Sub\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5965033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e88d329fa54cfd711d5afa576a826b1a?s=128&d=identicon&r=PG", "display_name": "Hitesh", "link": "https://stackoverflow.com/users/5965033/hitesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1496928774, "creation_date": 1496865359, "question_id": 44421710, "link": "https://stackoverflow.com/questions/44421710/datepicker-in-xaml-vb", "title": "DatePicker in xaml.vb", "body": "<p>I am completely new to XAML.vb. when I want to calculate the age in .cs, I used to enter the following code:</p>\n\n<pre><code>private void dateTimePicker1_valueChanged (object sender, EventArgs e)\n{\nDateTime from = dateTimePicker1.Value;\nDateTime  to = dateTimePicker1.Now;\nTimeSpan Tspan = to-from;\ndouble days = Tspan.TotalDays;\ntextbox1.Text = (days/365)ToString(\"0\");\n}\n</code></pre>\n\n<p>The following code is from XAML.VB. All the functions that I used in cs before are not present.</p>\n\n<pre><code>Private Sub dob_ValueChanged(ByVal sender As System.Object, ByVal e As System.EventArgs)\n\n{\n\nDateTime from = dob.Value;  // it doesn't exist. I found dob.GetValue but its not helping.\n\n}\n</code></pre>\n\n<p>Same was with \"TimeSpan\" and all the other built-in functions from Microsoft they have changed it so much and much is not available on the internet. It would be great if someone has any idea about it.\nThanks</p>\n"}, {"tags": ["c#", "reflection"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1496865044, "post_id": 44421586, "comment_id": 75841735, "body": "What is <code>source</code> meant to represent? Where are you actually creating a new object of type <code>T</code>? This is pretty close, but you&#39;re trying to set property values on an object representing the <i>type</i> of the object, rather than the object itself."}, {"owner": {"reputation": 1069, "user_id": 985811, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/34ce1b1afa3d7a269d29d13a272e7eaf?s=128&d=identicon&r=PG", "display_name": "scripter78", "link": "https://stackoverflow.com/users/985811/scripter78"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1496867256, "post_id": 44421586, "comment_id": 75842883, "body": "source is representing &quot;myclass&quot; shown in var results = myclass.ReturnObject(myDataReader);  You&#39;re on target of what I am trying to do, do you have suggestions on how to fix it"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1496867322, "post_id": 44421586, "comment_id": 75842919, "body": "eocron&#39;s answer is identical to what I would have told you; he just submitted his first, and also made the wise suggestion of considering EF."}, {"owner": {"reputation": 1069, "user_id": 985811, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/34ce1b1afa3d7a269d29d13a272e7eaf?s=128&d=identicon&r=PG", "display_name": "scripter78", "link": "https://stackoverflow.com/users/985811/scripter78"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1496867749, "post_id": 44421586, "comment_id": 75843143, "body": "EF has always caused me issues in the past when data structures have to be changed. I stay away from EF altogether."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1496867831, "post_id": 44421586, "comment_id": 75843191, "body": "I thought it was just me! A lot of people seem to like it though."}], "answers": [{"comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1496865329, "post_id": 44421680, "comment_id": 75841888, "body": "He should also be checking to make sure the columns corresponding to the properties actually exist in the data reader."}, {"owner": {"reputation": 1069, "user_id": 985811, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/34ce1b1afa3d7a269d29d13a272e7eaf?s=128&d=identicon&r=PG", "display_name": "scripter78", "link": "https://stackoverflow.com/users/985811/scripter78"}, "edited": false, "score": 0, "creation_date": 1496866352, "post_id": 44421680, "comment_id": 75842407, "body": "My classes are made from the structure of database tables so the fields would be the same."}, {"owner": {"reputation": 1069, "user_id": 985811, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/34ce1b1afa3d7a269d29d13a272e7eaf?s=128&d=identicon&r=PG", "display_name": "scripter78", "link": "https://stackoverflow.com/users/985811/scripter78"}, "edited": false, "score": 0, "creation_date": 1496866844, "post_id": 44421680, "comment_id": 75842678, "body": "the goal of this is to prevent having to write a lot of repeated code, the hope was to pass the object type, read the field names and pull the data from the data reader setting the values to the object fields. Seeing as how I would be reusing this for multiple different object types specifying the object type would defeat the purpose"}, {"owner": {"reputation": 5538, "user_id": 5639688, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/5GBLX.jpg?s=128&g=1", "display_name": "eocron", "link": "https://stackoverflow.com/users/5639688/eocron"}, "edited": false, "score": 1, "creation_date": 1496866959, "post_id": 44421680, "comment_id": 75842733, "body": "Just try to read carefully about EF. The problem you described is solved long ago."}], "tags": [], "owner": {"reputation": 5538, "user_id": 5639688, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/5GBLX.jpg?s=128&g=1", "display_name": "eocron", "link": "https://stackoverflow.com/users/5639688/eocron"}, "is_accepted": false, "score": 1, "last_activity_date": 1496865685, "last_edit_date": 1496865685, "creation_date": 1496865267, "answer_id": 44421680, "question_id": 44421586, "link": "https://stackoverflow.com/questions/44421586/reflection-setting-values-of-a-class/44421680#44421680", "title": "Reflection Setting values of a class", "body": "<p>In your example there is plenty errors and it is completely unclear what you try to accomplish. Probably you tried to just apply properties from reader to your object:</p>\n\n<pre><code>public static T RetunObject&lt;T&gt;(this T source, SqlDataReader dr)\n{\n    var type = typeof(T);\n    var properties = type.GetProperties();\n    foreach (var property in properties)\n    {\n        property.SetValue(source, dr[property.Name]);\n    }\n    return source;\n}\n</code></pre>\n\n<p>But, I recommend you to use Entity Framework for this, because you probably creating another bicycle by doing this. This task was completed a lot better/faster/safer than the solution you try to accomplish.</p>\n\n<p>Try to spend a little of your time on things people commonly use before trying to implement something, that no one beside you will understand/support.</p>\n\n<p>It will be a lot more useful and faster than spending time on potentially buggy code. Here is good start in EF Code First: <a href=\"https://msdn.microsoft.com/en-us/library/jj193542(v=vs.113).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/jj193542(v=vs.113).aspx</a></p>\n"}], "owner": {"reputation": 1069, "user_id": 985811, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/34ce1b1afa3d7a269d29d13a272e7eaf?s=128&d=identicon&r=PG", "display_name": "scripter78", "link": "https://stackoverflow.com/users/985811/scripter78"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496936471, "creation_date": 1496864930, "last_edit_date": 1496936471, "question_id": 44421586, "link": "https://stackoverflow.com/questions/44421586/reflection-setting-values-of-a-class", "title": "Reflection Setting values of a class", "body": "<p>I am trying to build an extension to populate an object with values from a SQLDataReader. </p>\n\n<p>The code I have so far is </p>\n\n<pre><code>public static T RetunObject&lt;T&gt;(this Type source, SqlDataReader dr)\n    {\n        Type type = source.GetType();\n        PropertyInfo[] properties = type.GetProperties();\n        foreach (PropertyInfo property in properties)\n        {\n            property.SetValue(property, dr[property.Name]);\n            type.GetProperty(property.Name).SetValue(type, dr[property.Name]);\n        }\n\n        return type.Cast&lt;T&gt;();\n    }\n</code></pre>\n\n<p>One thing for sure is the last line is not right and not exactly sure if there is a way for this to work at this point. </p>\n\n<p>The goal results would be to use the code like </p>\n\n<pre><code>MyClass myclass = new MyClass();\nvar results = myclass.ReturnObject(myDataReader);\n</code></pre>\n\n<p>Reflection has never been my strong suit. so I am pretty sure I am pretty far off. </p>\n\n<p><strong>UPDATED CODE WHICH APPEARS TO WORK</strong></p>\n\n<pre><code>    public static object RetunObject(this object source, SqlDataReader dr)\n    {\n        while (dr.Read())\n        {\n            foreach (PropertyInfo property in source.GetType().GetRuntimeProperties())\n            {\n                if(dr.GetSchemaTable().Select(\"ColumnName='\"+ property.Name+\"'\").Count() == 1)\n                {\n                    var readervalue = dr.GetValue(dr.GetOrdinal(property.Name));\n                    property.SetValue(source, readervalue);\n                }\n            }\n        }\n        return source;\n    }\n</code></pre>\n\n<p>it is used like </p>\n\n<pre><code>     return (Role)role.RetunObject(sqlcomm.ExecuteReader());\n</code></pre>\n\n<p>Takes a SQLDataReader and returns an generic object which is able to be cast to the object type you need it to be. Obviously if you try to cast to an invalid type of object then it won't work but so far this seems to work. My next trial will be to test nested class to see if it will work there as well. </p>\n"}, {"tags": ["c#", "unity3d", "unity5"], "answers": [{"tags": [], "owner": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "is_accepted": false, "score": 0, "last_activity_date": 1496866070, "creation_date": 1496866070, "answer_id": 44421884, "question_id": 44421548, "link": "https://stackoverflow.com/questions/44421548/how-can-i-add-a-button-box-to-scene-view-not-ui/44421884#44421884", "title": "How can i add a button box to scene view ? (Not ui)", "body": "<p>Solution:</p>\n\n<pre><code>using UnityEditor;\nusing UnityEngine;\n\npublic class SceneGUI : EditorWindow\n{\n    [MenuItem(\"Window/Scene GUI/Enable\")]\n    public static void Enable()\n    {\n        SceneView.onSceneGUIDelegate += OnScene;\n        Debug.Log(\"Scene GUI : Enabled\");\n    }\n\n    [MenuItem(\"Window/Scene GUI/Disable\")]\n    public static void Disable()\n    {\n        SceneView.onSceneGUIDelegate -= OnScene;\n        Debug.Log(\"Scene GUI : Disabled\");\n    }\n\n    private static void OnScene(SceneView sceneview)\n    {\n        Handles.BeginGUI();\n        if (GUILayout.Button(\"Destroy Objects\", GUILayout.Width(100), GUILayout.Height(100)))\n        {\n\n        }\n\n        Handles.EndGUI();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1496866070, "creation_date": 1496864746, "question_id": 44421548, "link": "https://stackoverflow.com/questions/44421548/how-can-i-add-a-button-box-to-scene-view-not-ui", "title": "How can i add a button box to scene view ? (Not ui)", "body": "<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\n[ExecuteInEditMode]\npublic class Menu : MonoBehaviour {\n\n    // Use this for initialization\n    void Start ()\n    {\n\n    }\n\n    // Update is called once per frame\n    void Update ()\n    {\n        if (Input.GetKeyDown(\"m\"))\n            Debug.Log(\"menu\");\n    }\n}\n</code></pre>\n\n<p>First the Update function is not calling in scene view.\nAnd second how can i add in the Start or in other event a box menu like ? For example:</p>\n\n<pre><code>GUILayout.Window(0, new Rect(10, 10, 100, 100), (id)=&gt; {\n            GUILayout.Button(\"A Button\");\n        },\n</code></pre>\n"}, {"tags": ["c#", ".net", ".net-4.0", "contravariance", "covariant"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8127654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16ea514c1f4c6f8aa9ab12b8610ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "tones", "link": "https://stackoverflow.com/users/8127654/tones"}, "edited": false, "score": 0, "creation_date": 1496866546, "post_id": 44421674, "comment_id": 75842521, "body": "Thanks for the response and informative answer. The second example I provided does a similar thing in terms of steps. The Parent class only takes in ParentModel but I can still assign this to the base class? I thought that was the intent behind the in/out feature..."}, {"owner": {"reputation": 77196, "user_id": 784387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acd8ef9d33b72c888c544378a59be2b?s=128&d=identicon&r=PG", "display_name": "Martin Ullrich", "link": "https://stackoverflow.com/users/784387/martin-ullrich"}, "reply_to_user": {"reputation": 3, "user_id": 8127654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16ea514c1f4c6f8aa9ab12b8610ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "tones", "link": "https://stackoverflow.com/users/8127654/tones"}, "edited": false, "score": 0, "creation_date": 1496866918, "post_id": 44421674, "comment_id": 75842710, "body": "I added a paragraph about to covariant type. I&#39;m not quite sure what your actual question for that is to be honest.. (other than explaining it in easier words. replacing everything with &quot;producer&quot; and &quot;consumer&quot; always helped me figure this stuff out)"}, {"owner": {"reputation": 3, "user_id": 8127654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16ea514c1f4c6f8aa9ab12b8610ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "tones", "link": "https://stackoverflow.com/users/8127654/tones"}, "edited": false, "score": 0, "creation_date": 1496867427, "post_id": 44421674, "comment_id": 75842966, "body": "Aah that makes sense. There wasn&#39;t a question about the second point. It was like you say more to compare the two for understanding as one worked and the other didn&#39;t. In short for covariance you can assign to less specific types but contravariance you cannot. Hopefully I understood that correctly."}, {"owner": {"reputation": 77196, "user_id": 784387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acd8ef9d33b72c888c544378a59be2b?s=128&d=identicon&r=PG", "display_name": "Martin Ullrich", "link": "https://stackoverflow.com/users/784387/martin-ullrich"}, "reply_to_user": {"reputation": 3, "user_id": 8127654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16ea514c1f4c6f8aa9ab12b8610ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "tones", "link": "https://stackoverflow.com/users/8127654/tones"}, "edited": false, "score": 0, "creation_date": 1496868183, "post_id": 44421674, "comment_id": 75843349, "body": "yes that is what it means in these cases. &quot;co&quot; and &quot;contra&quot; are really just syllables to distinguish the different &quot;direction&quot; of inheritance / casting+assignment"}], "tags": [], "owner": {"reputation": 77196, "user_id": 784387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acd8ef9d33b72c888c544378a59be2b?s=128&d=identicon&r=PG", "display_name": "Martin Ullrich", "link": "https://stackoverflow.com/users/784387/martin-ullrich"}, "is_accepted": true, "score": 0, "last_activity_date": 1496866790, "last_edit_date": 1496866790, "creation_date": 1496865246, "answer_id": 44421674, "question_id": 44421546, "link": "https://stackoverflow.com/questions/44421546/c-net-4-0-covariant-vs-contravariant/44421674#44421674", "title": "c# .net 4.0 Covariant vs Contravariant", "body": "<p>Contravariance in this case means that you need to pass in types that are of the specified type or one that is \"more specialised\" (=> derive from the base type).</p>\n\n<p>Since your <code>Parent</code> implementation in your first example can only process <code>ParentModel</code>, it is invalid to pass in a <code>BaseModel</code> instance. Trying to do <code>new Parent().Process(new BaseModel())</code> also would not compile. So it is invalid to cast it to <code>IBase&lt;BaseModel&gt;</code>. (assuming <code>ParentModel</code> is a subclass of <code>BaseModel</code>).</p>\n\n<p>In this case the contravariance model is easier to reason about by thinking that an <code>IBase&lt;in T&gt;</code> \"consumes a T\". So an <code>IBase&lt;ParentModel&gt;</code> \"consumes <code>ParentModel</code>s\". This means it can only be passed values that are instances of <code>ParentModel</code> or can be treated as one (effectively only subclasses).</p>\n\n<p>In your second example you are using <code>&lt;out T&gt;</code>, which is \"covariant\". This can be described as \"it produces instances of <code>T</code>\". So a class that \"produces\" a <code>ParentModel</code> is automatically a \"producer\" of <code>BaseModel</code> as well: since <code>ParentModel</code> can be cased to <code>BaseModel</code>, <code>IBase&lt;ParentModel&gt;</code> can be casted to <code>IBase&lt;BaseModel&gt;</code> as well.</p>\n"}], "owner": {"reputation": 3, "user_id": 8127654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16ea514c1f4c6f8aa9ab12b8610ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "tones", "link": "https://stackoverflow.com/users/8127654/tones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 44421674, "answer_count": 1, "score": 0, "last_activity_date": 1496866790, "creation_date": 1496864743, "last_edit_date": 1496866634, "question_id": 44421546, "link": "https://stackoverflow.com/questions/44421546/c-net-4-0-covariant-vs-contravariant", "title": "c# .net 4.0 Covariant vs Contravariant", "body": "<p>I'm trying to get something working and struggling with the below when using Contravariance. My understanding is Covariance is where you can return a derived type from a base type. Contravariance is where you can pass in a derived type from a base type as an argument into a class.</p>\n\n<p>So I have the below interface (contravariant):   </p>\n\n<pre><code>public interface IBase&lt;in T&gt; where T: BaseModel\n{\n        void Process(T model);\n}\n</code></pre>\n\n<p>I then have an abstract class</p>\n\n<pre><code>public abstract class Base&lt;T&gt;: IBase&lt;T&gt; where T: BaseModel\n{\n    public virtual void Process(T model)\n    {\n       // throw new System.NotImplementedException();\n    }\n}\n</code></pre>\n\n<p>and another concrete class</p>\n\n<pre><code>public class Parent: Base&lt;ParentModel&gt;\n{\n    public override void Process(ParentModel model)\n    {\n        // throw new System.NotImplementedException();\n    }\n}\n</code></pre>\n\n<p>Considering the generic type is only ever used as an input and not a return type, I don't see why I cannot do the below:</p>\n\n<pre><code>IBase&lt;BaseModel&gt; baseContravariant = new  Parent();\n// This doesn't compile. I will eventually have a list of IBase&lt;BaseMode&gt; to which I'd like to pass in different parent instances.\n</code></pre>\n\n<p>I have another example using covariance which is below and works fine.</p>\n\n<pre><code>public interface IBase&lt;out T&gt; where T : BaseModel, new()\n{\n    T ProcessAndGet();\n}\n</code></pre>\n\n<p>Abstract</p>\n\n<pre><code>public abstract class Base&lt;T&gt;: IBase&lt;T&gt; where T: BaseModel, new()\n{\n    public virtual T ProcessAndGet()\n    {\n        var result = new T() as BaseModel;\n\n        // More shizzle here\n        return (T)result;\n    }\n}\n</code></pre>\n\n<p>Concrete</p>\n\n<pre><code>public class Parent : Base&lt;ParentModel&gt;\n{ \n    public override ParentModel ProcessAndGet()\n    {\n        var x = base.ProcessAndGet();\n        return x;\n    }\n}\n</code></pre>\n\n<p>Now I can do</p>\n\n<pre><code>IBase&lt;BaseModel&gt; baseInstance = new Base&lt;BaseModel&gt;();\nIBase&lt;BaseModel&gt; derived = new Parent();\nbaseInstance = derived;\n</code></pre>\n\n<p>There's more code to the above examples but I've removed it for ease of reading (hopefully!) :-)</p>\n"}, {"tags": ["c#", "mysql", "visual-studio", "entity-framework-6", "database-first"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5037441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7571becda6e6d7326d042c7c1ec8d19e?s=128&d=identicon&r=PG&f=1", "display_name": "Mustafa R", "link": "https://stackoverflow.com/users/5037441/mustafa-r"}, "edited": false, "score": 0, "creation_date": 1496868710, "post_id": 44421740, "comment_id": 75843613, "body": "it looks promising. I will check and mark it as answer if works. Thanks anyway."}, {"owner": {"reputation": 43, "user_id": 5037441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7571becda6e6d7326d042c7c1ec8d19e?s=128&d=identicon&r=PG&f=1", "display_name": "Mustafa R", "link": "https://stackoverflow.com/users/5037441/mustafa-r"}, "edited": false, "score": 0, "creation_date": 1496918050, "post_id": 44421740, "comment_id": 75863859, "body": "Tried with 2 tables and getting following errors, can you help? 1. The EntityType Model.Account specified as part of this MSL does not exist in MetadataWorkspace  2. At least one property must be mapped in the set mapping for &quot;Accounts&quot;"}, {"owner": {"reputation": 5439, "user_id": 1736047, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GY4YE.jpg?s=128&g=1", "display_name": "STLDev", "link": "https://stackoverflow.com/users/1736047/stldev"}, "reply_to_user": {"reputation": 43, "user_id": 5037441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7571becda6e6d7326d042c7c1ec8d19e?s=128&d=identicon&r=PG&f=1", "display_name": "Mustafa R", "link": "https://stackoverflow.com/users/5037441/mustafa-r"}, "edited": false, "score": 0, "creation_date": 1496972402, "post_id": 44421740, "comment_id": 75893264, "body": "Sincere apologies, but I don&#39;t have time at the moment to prove this out. I do not recall running into this issue when I utilized this with EF 5 months ago."}], "tags": [], "owner": {"reputation": 5439, "user_id": 1736047, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GY4YE.jpg?s=128&g=1", "display_name": "STLDev", "link": "https://stackoverflow.com/users/1736047/stldev"}, "is_accepted": false, "score": 0, "last_activity_date": 1496865531, "creation_date": 1496865531, "answer_id": 44421740, "question_id": 44421471, "link": "https://stackoverflow.com/questions/44421471/batch-rename-classes-in-entity-framework-database-first/44421740#44421740", "title": "Batch Rename Classes in Entity Framework Database First", "body": "<p>I'm not sure whether Entity Framework 6 has improved the situation over EF 5.  I had a similar issue a while back with EF 5 and found a solution wherein I was able to successfully transform the VS-generated EDMX.  Basically, it's a console app that takes in an EDMX file and transforms it.</p>\n\n<p>I merely (successfully) used the tool.  You'll find the original with notes here: <a href=\"https://www.tabsoverspaces.com/233202-changing-entity-names-i-e-removing-prefix-in-entity-frameworks-edmx-in-batch/\" rel=\"nofollow noreferrer\">https://www.tabsoverspaces.com/233202-changing-entity-names-i-e-removing-prefix-in-entity-frameworks-edmx-in-batch/</a></p>\n\n<p>Credit to Ji\u0159\u00ed \u010cin\u010dura (www.tabsoverspaces.com)</p>\n\n<p>Below is the code:</p>\n\n<pre><code>static void TransformEDMXEntities(string inputFile, string outputFile)\n{\n    XDocument xdoc = XDocument.Load(inputFile);\n\n    const string CSDLNamespace = \"http://schemas.microsoft.com/ado/2009/11/edm\";\n    const string MSLNamespace = \"http://schemas.microsoft.com/ado/2009/11/mapping/cs\";\n    const string DesignerNamespace = \"http://schemas.microsoft.com/ado/2009/11/edmx\";\n    XElement csdl = xdoc.Descendants(XName.Get(\"Schema\", CSDLNamespace)).First();\n    XElement msl = xdoc.Descendants(XName.Get(\"Mapping\", MSLNamespace)).First();\n    XElement designerDiagram = xdoc.Descendants(XName.Get(\"Designer\", DesignerNamespace)).First();\n\n    Func&lt;string, string&gt; transformation = (string input) =&gt;\n    {\n        const string PREFIX = \"tbl\";\n        Regex re = new Regex(string.Format(@\"{0}(\\w+)\", Regex.Escape(PREFIX)), RegexOptions.None);\n        return re.Replace(input, new MatchEvaluator(\n            (Match m) =&gt;\n            {\n                return m.Groups[1].Value;\n            }));\n    };\n\n    TransformCSDL(CSDLNamespace, csdl, transformation);\n    TransformMSL(MSLNamespace, msl, transformation);\n    TransformDesigner(DesignerNamespace, designerDiagram, transformation);\n\n    using (XmlTextWriter writer = new XmlTextWriter(outputFile, Encoding.Default))\n    {\n        xdoc.WriteTo(writer);\n    }\n}\n\nstatic void TransformDesigner(string DesignerNamespace, XElement designerDiagram, Func&lt;string, string&gt; transformation)\n{\n    foreach (var item in designerDiagram.Elements(XName.Get(\"EntityTypeShape\", DesignerNamespace)))\n    {\n        item.Attribute(\"EntityType\").Value = transformation(item.Attribute(\"EntityType\").Value);\n    }\n}\n\nstatic void TransformMSL(string MSLNamespace, XElement msl, Func&lt;string, string&gt; transformation)\n{\n    foreach (var entitySetMapping in msl.Element(XName.Get(\"EntityContainerMapping\", MSLNamespace)).Elements(XName.Get(\"EntitySetMapping\", MSLNamespace)))\n    {\n        entitySetMapping.Attribute(\"Name\").Value = transformation(entitySetMapping.Attribute(\"Name\").Value);\n        foreach (var entityTypeMapping in entitySetMapping.Elements(XName.Get(\"EntityTypeMapping\", MSLNamespace)))\n        {\n            entityTypeMapping.Attribute(\"TypeName\").Value = transformation(entityTypeMapping.Attribute(\"TypeName\").Value);\n        }\n    }\n}\n\nstatic void TransformCSDL(string CSDLNamespace, XElement csdl, Func&lt;string, string&gt; transformation)\n{\n    foreach (var entitySet in csdl.Element(XName.Get(\"EntityContainer\", CSDLNamespace)).Elements(XName.Get(\"EntitySet\", CSDLNamespace)))\n    {\n        entitySet.Attribute(\"Name\").Value = transformation(entitySet.Attribute(\"Name\").Value);\n        entitySet.Attribute(\"EntityType\").Value = transformation(entitySet.Attribute(\"EntityType\").Value);\n    }\n    foreach (var associationSet in csdl.Element(XName.Get(\"EntityContainer\", CSDLNamespace)).Elements(XName.Get(\"AssociationSet\", CSDLNamespace)))\n    {\n        foreach (var end in associationSet.Elements(XName.Get(\"End\", CSDLNamespace)))\n        {\n            end.Attribute(\"EntitySet\").Value = transformation(end.Attribute(\"EntitySet\").Value);\n        }\n    }\n\n    foreach (var entityType in csdl.Elements(XName.Get(\"EntityType\", CSDLNamespace)))\n    {\n        entityType.Attribute(\"Name\").Value = transformation(entityType.Attribute(\"Name\").Value);\n    }\n    foreach (var association in csdl.Elements(XName.Get(\"Association\", CSDLNamespace)))\n    {\n        foreach (var end in association.Elements(XName.Get(\"End\", CSDLNamespace)))\n        {\n            end.Attribute(\"Type\").Value = transformation(end.Attribute(\"Type\").Value);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5037441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7571becda6e6d7326d042c7c1ec8d19e?s=128&d=identicon&r=PG&f=1", "display_name": "Mustafa R", "link": "https://stackoverflow.com/users/5037441/mustafa-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 288, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496865531, "creation_date": 1496864381, "question_id": 44421471, "link": "https://stackoverflow.com/questions/44421471/batch-rename-classes-in-entity-framework-database-first", "title": "Batch Rename Classes in Entity Framework Database First", "body": "<p>Is it possible to batch rename the Class (Entity) names in auto generated .cs files inside edmx model? I need to have uppercase first letter for all the entities e.g. \"account\" needs to be changed to \"Account\". </p>\n\n<pre><code>partial class account\n    {\n        public long id { get; set; }\n        public int idPartner { get; set; }\n        public string accountName { get; set; }\n    }\n</code></pre>\n\n<p>Visual Studio has been generating lower case names for MySql tables used in the project which has been deployed in production &amp; the table names cannot be changed. \nI know that mappings can be changed using property window in edmx designer but it is not useful in this case because of so many tables. Is there a tool which can do this? If there is none, then what are the exact steps to modify the edmx &amp; other files so that I can create a tool for batch modification of all the entities?</p>\n"}, {"tags": ["c#", "split"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 2, "creation_date": 1496864490, "post_id": 44421466, "comment_id": 75841408, "body": "A common thing to do in CSV files is to allow a value to be enclosed in quotation marks. Anything inside the quotation marks would not be parsed."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 4, "creation_date": 1496864493, "post_id": 44421466, "comment_id": 75841410, "body": "Find a free CSV parser library. Values with commas should be quoted. Once you&#39;re doing that, you need a proper parser. CSV is a simple, fun parser to write, but kids these days, mumble mumble, Herbert Hoover."}, {"owner": {"reputation": 7084, "user_id": 492258, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/mVt7n.jpg?s=128&g=1", "display_name": "asdf_enel_hak", "link": "https://stackoverflow.com/users/492258/asdf-enel-hak"}, "edited": false, "score": 0, "creation_date": 1496864761, "post_id": 44421466, "comment_id": 75841563, "body": "Another way of manipulating such text content use json convert serialize and serialize it"}, {"owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "edited": false, "score": 0, "creation_date": 1496864994, "post_id": 44421466, "comment_id": 75841708, "body": "Try using <i>tabulation</i>, <code>&quot;\\t&quot;</code>; however, there&#39;s no guarantee that data don&#39;t have the symbol"}], "answers": [{"tags": [], "owner": {"reputation": 2038, "user_id": 7129076, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a190b1b49a5ce2f6d1ead8ccbb11dc35?s=128&d=identicon&r=PG&f=1", "display_name": "gilliduck", "link": "https://stackoverflow.com/users/7129076/gilliduck"}, "is_accepted": true, "score": 1, "last_activity_date": 1496868915, "creation_date": 1496868915, "answer_id": 44422606, "question_id": 44421466, "link": "https://stackoverflow.com/questions/44421466/character-to-use-when-splitting-strings-in-visual-c/44422606#44422606", "title": "character to use when splitting strings in visual c#?", "body": "<p>Short answer, there's no \"simple\" way to do it using Split. The best you can hope for is to set the deliminator as something cooky that wouldn't ever get used (but even that's not a guarantee). </p>\n\n<p>The simple method would be to used something like CsvHelper (get it through Nuget) or any of the other dozen or so packages that are designed for parsing CSV. </p>\n"}], "owner": {"reputation": 279, "user_id": 1420914, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/031c56ff35e5564c22d5f5f28ccc5dca?s=128&d=identicon&r=PG", "display_name": "user1420914", "link": "https://stackoverflow.com/users/1420914/user1420914"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 44422606, "answer_count": 1, "score": -2, "last_activity_date": 1496868915, "creation_date": 1496864367, "last_edit_date": 1496864510, "question_id": 44421466, "link": "https://stackoverflow.com/questions/44421466/character-to-use-when-splitting-strings-in-visual-c", "title": "character to use when splitting strings in visual c#?", "body": "<p>Ok, I'm racking my brains over this one.  It's pretty simple though (I think).  </p>\n\n<p>I'm currently creating a text file as a comma separated string of values.  </p>\n\n<p>Later, I read in that file data and then use the <code>.split</code> function to split the data by commas.  </p>\n\n<p>I discovered that sometimes one of the description fields in the data conatins an embedded comma, which ends up throwing the <code>split</code> command off.  </p>\n\n<p>Is there any special character I could use that could pretty much guarantee wouldn't be in the data, or is there a better way to accomplish this?  Thanks!</p>\n\n<pre><code>// Initial Load\nfullString = fileName + \",\" + String.Join(\",\", fieldValues);\n\n// Access later\nString[] valuesArray = myString.Split(',');\n</code></pre>\n"}, {"tags": ["c#", "configuration", "asp.net-core"], "answers": [{"comments": [{"owner": {"reputation": 3785, "user_id": 2659189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa5208474e7a4c1b7f5dc483beb9e222?s=128&d=identicon&r=PG", "display_name": "blgrnboy", "link": "https://stackoverflow.com/users/2659189/blgrnboy"}, "edited": false, "score": 0, "creation_date": 1496888166, "post_id": 44425181, "comment_id": 75849486, "body": "I&#39;m glad you brought this up. I actually ended up doing exactly that, although that class is internal, so I had to copy the code, instead of just reuse it"}], "tags": [], "owner": {"reputation": 1813, "user_id": 6239644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjYDm.jpg?s=128&g=1", "display_name": "Sigge", "link": "https://stackoverflow.com/users/6239644/sigge"}, "is_accepted": true, "score": 1, "last_activity_date": 1496885437, "last_edit_date": 1496885437, "creation_date": 1496884760, "answer_id": 44425181, "question_id": 44421445, "link": "https://stackoverflow.com/questions/44421445/add-read-configuration-from-an-encrypted-file/44425181#44425181", "title": "Add/Read configuration from an encrypted file", "body": "<p>You could solve this by taking a peek at the internal <code>JsonConfigurationFileParser</code> class <a href=\"https://github.com/aspnet/Configuration/blob/74e22a1338443b0960109d491e6e561ef8f3d74a/src/Microsoft.Extensions.Configuration.Json/JsonConfigurationFileParser.cs\" rel=\"nofollow noreferrer\">here</a> at the aspnet/Configuration repository.\nBy creating a similar class in your project, you'll be able to successfully parse the decrypted JSON string.</p>\n\n<p>To use the parser, simply feed the <code>jsonString</code> as a <code>Stream</code> to its <code>Parse()</code>method. Your <code>UnencryptMyConfiguration()</code> method would then look like this:</p>\n\n<pre><code>private IDictionary&lt;string, string&gt; UnencryptMyConfiguration()\n{\n    EncryptIfNotEncrypted();\n\n    var configFileBytes = File.ReadAllBytes(_filePath);\n\n    var decryptedData = _privKey.Decrypt(configFileBytes, RSAEncryptionPadding.Pkcs1);\n    var jsonString = Encoding.UTF8.GetString(decryptedData);\n\n    //treat the decrypted string as a Stream to let JsonConfigurationFileParser handle it\n    using (MemoryStream stream = new MemoryStream())\n    {\n        var parser = new JsonConfigurationFileParser();\n        StreamWriter writer = new StreamWriter(stream);\n        writer.Write(jsonString);\n        writer.Flush();\n        stream.Position = 0;\n        return parser.Parse(stream);\n    };\n}\n</code></pre>\n"}], "owner": {"reputation": 3785, "user_id": 2659189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa5208474e7a4c1b7f5dc483beb9e222?s=128&d=identicon&r=PG", "display_name": "blgrnboy", "link": "https://stackoverflow.com/users/2659189/blgrnboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 44425181, "answer_count": 1, "score": 1, "last_activity_date": 1496885437, "creation_date": 1496864319, "last_edit_date": 1496868135, "question_id": 44421445, "link": "https://stackoverflow.com/questions/44421445/add-read-configuration-from-an-encrypted-file", "title": "Add/Read configuration from an encrypted file", "body": "<p>I went down the path of creating my own <code>ConfigurationProvider</code>, which encrypts a file if it hasn't been already encrypted, and is also able to decrypt it.</p>\n\n<p>I am now struggling coming up with a way of adding my decrypted appsettings.json content (decrypted string) to the configuration in a similar way that that <code>.AddJsonFile()</code> does.</p>\n\n<p>Ultimately, I would like to be able to call <code>.AddEncryptedJson(\"appsettings.json\")</code> in my <code>Startup.cs</code>, which would decrypt the file and add all the configuration necessary.</p>\n\n<pre><code>public class CustomConfigProvider : ConfigurationProvider, IConfigurationSource\n{\n    private readonly RSA _pubKey;\n    private readonly RSA _privKey;\n    private readonly string _filePath;\n\n    public CustomConfigProvider(string filePath)\n    {\n        var cert = new X509Certificate2(Path.Combine(Directory.GetCurrentDirectory(), \"certs\", \"IdentityServer4Auth.pfx\"), \"test\");\n        _pubKey = RSACertificateExtensions.GetRSAPublicKey(cert);\n        _privKey = RSACertificateExtensions.GetRSAPrivateKey(cert);\n        _filePath = filePath;\n    }\n\n    public override void Load()\n    {\n        Data = UnencryptMyConfiguration();\n    }\n\n    private IDictionary&lt;string, string&gt; UnencryptMyConfiguration()\n    {\n        EncryptIfNotEncrypted();\n\n        var configFileBytes = File.ReadAllBytes(_filePath);\n\n        var decryptedData = _privKey.Decrypt(configFileBytes, RSAEncryptionPadding.Pkcs1);\n        var jsonString = Encoding.UTF8.GetString(decryptedData);\n\n        jsonString = jsonString.Trim(new char[] { '\\uFEFF', '\\u200B' });\n        dynamic result = JsonConvert.DeserializeObject(jsonString);\n        Dictionary&lt;string, string&gt; dictObj = result.ToObject&lt;Dictionary&lt;string, string&gt;&gt;();\n        return dictObj;\n    }\n\n    private void EncryptIfNotEncrypted()\n    {\n        var configFileBytes = File.ReadAllBytes(_filePath);\n\n        // Check if encrypted\n        try\n        {\n            _privKey.Decrypt(configFileBytes, RSAEncryptionPadding.Pkcs1);\n        }\n        catch\n        {\n            var encryptedData = \n                _pubKey.Encrypt(configFileBytes, RSAEncryptionPadding.Pkcs1);\n\n            using (var fs = new FileStream(_filePath, FileMode.Create, FileAccess.Write))\n            {\n                fs.Write(encryptedData, 0, encryptedData.Length);\n            }\n        }\n    }\n    public IConfigurationProvider Build(IConfigurationBuilder builder)\n    {\n        return new CustomConfigProvider(_filePath);\n    }\n}\n\npublic static class CustomConfigProviderExtensions\n{\n    public static IConfigurationBuilder AddEncryptedJson(this IConfigurationBuilder builder, string filePath)\n    {\n        return builder.Add(new CustomConfigProvider(filePath));\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "sharpdx"], "comments": [{"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 2, "creation_date": 1496867639, "post_id": 44421441, "comment_id": 75843092, "body": "All windows are driven by a loop. Games are constantly drawing everything every frame. The trick is leave actual calculations out of the render code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7970127"}, "reply_to_user": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1496925832, "post_id": 44421441, "comment_id": 75869350, "body": "Do you have any idea if it is possible to have a viewer that draws only on demand. By using Window form maybe ? The thing is that the Graphics . DrawImage is too slow for the size of image I need to display and this is why I turned on sharpDX."}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1496934876, "post_id": 44421441, "comment_id": 75876667, "body": "It shouldn&#39;t be too slow unless you are recreating the image every draw. Draw everything that&#39;s static at once, cache it, and only render the cached image each frame. Anything dynamic, overlay on top of it. If you are creating a new image/texture every frame, you&#39;re doing it wrong. With games, you only update what has to be updated and there are lots of tricks employed to optimize that."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7970127"}, "is_accepted": true, "score": 0, "last_activity_date": 1499965783, "creation_date": 1499965783, "answer_id": 45087098, "question_id": 44421441, "link": "https://stackoverflow.com/questions/44421441/sharpdx-drawing-a-form-without-using-renderloop-to-actualize-it-infinitely/45087098#45087098", "title": "SharpDX drawing a form without using RenderLoop to actualize it infinitely", "body": "<p>It is in fact possible to display an image into a Windows Form without using an infinite loop. Adding action like zooming or resizing to your form and perform action (such has redraw your image) works perfectly. </p>\n\n<p>Of course, if you are making a video game, that is not the best solution because you want constant render of your graphics. However, for an image viewer, it is perfectly fine to draw everything to a windows form only once and update it on ActionEvents.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7970127"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 491, "favorite_count": 0, "accepted_answer_id": 45087098, "answer_count": 1, "score": 0, "last_activity_date": 1499965783, "creation_date": 1496864308, "last_edit_date": 1496929088, "question_id": 44421441, "link": "https://stackoverflow.com/questions/44421441/sharpdx-drawing-a-form-without-using-renderloop-to-actualize-it-infinitely", "title": "SharpDX drawing a form without using RenderLoop to actualize it infinitely", "body": "<p>Hi so like the title says, i'm trying to make an image Viewer for a project ( a bit in the kind of Windows Image viewer). I saw a lot of code displaying their RenderForm into a RenderLoop, but I don't like this solution since I don't want to refresh the image infinitely in the RenderLoop. I want to call the Draw method only when I need to redraw(on a zoom by example.)  The problem is, now I've tried to use renderLoop.Show() but it does not stay on the screen and close right after all code has been executed... </p>\n\n<pre><code>using SharpDX;\nusing SharpDX.Windows;\nusing SharpDX.D3DCompiler;\nusing SharpDX.Direct2D1;\nusing SharpDX.Direct3D11;\nusing SharpDX.DXGI;\nusing SharpDX.Mathematics;\nusing System.Drawing;\nusing System.Windows.Forms;\n\nusing Device = SharpDX.Direct3D11.Device;\nusing Color = SharpDX.Color;\n\n\n\nnamespace SharpDXWic\n{\n    public class SharpDXDisplay : IDisposable\n    {\n\n        private const int WIDTH = 1500;\n        private const int HEIGHT = 800;\n\n        private Device device;\n        private SwapChain swapChain;\n        private RenderForm renderForm;\n        private RenderTargetView targetView;\n\n        public SharpDXDisplay(string display_title)\n        {\n\n\n\n            renderForm = new RenderForm(display_title);\n            renderForm.Width = WIDTH;\n            renderForm.Height = HEIGHT;\n\n            Texture2D target;\n\n\n            SwapChainDescription scd = new SwapChainDescription()\n            {\n                BufferCount = 1,                                \n                Flags = SwapChainFlags.None,\n                IsWindowed = true,                              \n                ModeDescription = new ModeDescription(WIDTH,HEIGHT, new Rational(60, 1),Format.R8G8B8A8_UNorm),                   \n                OutputHandle = renderForm.Handle,  \n                SampleDescription = new SampleDescription(1, 0), \n                SwapEffect = SwapEffect.Discard,\n                Usage = Usage.RenderTargetOutput\n            };\n            Device.CreateWithSwapChain( SharpDX.Direct3D.DriverType.Hardware,DeviceCreationFlags.Debug,  scd,   out device, out swapChain);\n\n            target = Texture2D.FromSwapChain&lt;Texture2D&gt;(swapChain, 0);\n            targetView = new RenderTargetView(device, target);\n            device.ImmediateContext.OutputMerger.SetRenderTargets(targetView);\n\n            renderForm.Show();\n            device.ImmediateContext.ClearRenderTargetView(targetView, Color.CornflowerBlue);\n            swapChain.Present(0, PresentFlags.None);\n\n        }\n\n        private void OnClosing()\n        {\n            Dispose();\n        }\n\n        public void Dispose()\n        {\n            device.Dispose();\n            swapChain.Dispose();\n            renderForm.Dispose();\n            targetView.Dispose();\n        }\n    }\n}\n</code></pre>\n\n<p>My goal here would be to Draw() a form without entering the RenderLoop.  I only want to refresh the image on-demand and not refresh it constantly.</p>\n"}, {"tags": ["c#", "azure", "utc", "azure-webjobs"], "comments": [{"owner": {"reputation": 40200, "user_id": 111888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3c4e7f8b11f8b8c1d77ebb70678097b4?s=128&d=identicon&r=PG", "display_name": "David Ebbo", "link": "https://stackoverflow.com/users/111888/david-ebbo"}, "edited": false, "score": 0, "creation_date": 1496865914, "post_id": 44421434, "comment_id": 75842185, "body": "Please try to isolate to a non-WebJobs repo per <a href=\"https://github.com/projectkudu/kudu/wiki/Isolating-WebJobs-and-Deployment-script-issues\" rel=\"nofollow noreferrer\">this page</a>. Also, what specific local time are you seeing in Azure? By default, local time is UTC on Azure VMs."}, {"owner": {"reputation": 31, "user_id": 7525726, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/29cfa372b273a346e489121ef9ea5410?s=128&d=identicon&r=PG&f=1", "display_name": "Radhika Bhala", "link": "https://stackoverflow.com/users/7525726/radhika-bhala"}, "reply_to_user": {"reputation": 40200, "user_id": 111888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3c4e7f8b11f8b8c1d77ebb70678097b4?s=128&d=identicon&r=PG", "display_name": "David Ebbo", "link": "https://stackoverflow.com/users/111888/david-ebbo"}, "edited": false, "score": 0, "creation_date": 1496870936, "post_id": 44421434, "comment_id": 75844594, "body": "Even if I convert local time i.e PST in UTC it still shows time in PST.. where as, if i run it locally the converted time show in UTC."}, {"owner": {"reputation": 40200, "user_id": 111888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3c4e7f8b11f8b8c1d77ebb70678097b4?s=128&d=identicon&r=PG", "display_name": "David Ebbo", "link": "https://stackoverflow.com/users/111888/david-ebbo"}, "edited": false, "score": 0, "creation_date": 1496871018, "post_id": 44421434, "comment_id": 75844633, "body": "Please do try to isolate as suggested."}, {"owner": {"reputation": 31, "user_id": 7525726, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/29cfa372b273a346e489121ef9ea5410?s=128&d=identicon&r=PG&f=1", "display_name": "Radhika Bhala", "link": "https://stackoverflow.com/users/7525726/radhika-bhala"}, "reply_to_user": {"reputation": 40200, "user_id": 111888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3c4e7f8b11f8b8c1d77ebb70678097b4?s=128&d=identicon&r=PG", "display_name": "David Ebbo", "link": "https://stackoverflow.com/users/111888/david-ebbo"}, "edited": false, "score": 0, "creation_date": 1496871539, "post_id": 44421434, "comment_id": 75844842, "body": "Tried the isolated one, it still shows me time in PST"}, {"owner": {"reputation": 40200, "user_id": 111888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3c4e7f8b11f8b8c1d77ebb70678097b4?s=128&d=identicon&r=PG", "display_name": "David Ebbo", "link": "https://stackoverflow.com/users/111888/david-ebbo"}, "edited": false, "score": 0, "creation_date": 1496871612, "post_id": 44421434, "comment_id": 75844865, "body": "Can you add the full console app test code that you are using? Also, are you setting your timezone to a non-default value in your Azure Web App?"}, {"owner": {"reputation": 40200, "user_id": 111888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3c4e7f8b11f8b8c1d77ebb70678097b4?s=128&d=identicon&r=PG", "display_name": "David Ebbo", "link": "https://stackoverflow.com/users/111888/david-ebbo"}, "edited": false, "score": 0, "creation_date": 1496871919, "post_id": 44421434, "comment_id": 75844972, "body": "I just tried a one-line console app with just <code>Console.WriteLine(DateTime.Now.ToUniversalTime());</code> and it printed UTC time. So no issue there."}, {"owner": {"reputation": 31, "user_id": 7525726, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/29cfa372b273a346e489121ef9ea5410?s=128&d=identicon&r=PG&f=1", "display_name": "Radhika Bhala", "link": "https://stackoverflow.com/users/7525726/radhika-bhala"}, "reply_to_user": {"reputation": 40200, "user_id": 111888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3c4e7f8b11f8b8c1d77ebb70678097b4?s=128&d=identicon&r=PG", "display_name": "David Ebbo", "link": "https://stackoverflow.com/users/111888/david-ebbo"}, "edited": false, "score": 0, "creation_date": 1496871955, "post_id": 44421434, "comment_id": 75844986, "body": "I did not change timezone settings.. Is there a way I can check if there are any settings through Azure portal?"}, {"owner": {"reputation": 40200, "user_id": 111888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3c4e7f8b11f8b8c1d77ebb70678097b4?s=128&d=identicon&r=PG", "display_name": "David Ebbo", "link": "https://stackoverflow.com/users/111888/david-ebbo"}, "edited": false, "score": 0, "creation_date": 1496872477, "post_id": 44421434, "comment_id": 75845180, "body": "Did you try the one-line I gave above? If that doesn&#39;t print correct UTC time, please share the Web App name and I&#39;ll take a look."}, {"owner": {"reputation": 31, "user_id": 7525726, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/29cfa372b273a346e489121ef9ea5410?s=128&d=identicon&r=PG&f=1", "display_name": "Radhika Bhala", "link": "https://stackoverflow.com/users/7525726/radhika-bhala"}, "reply_to_user": {"reputation": 40200, "user_id": 111888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3c4e7f8b11f8b8c1d77ebb70678097b4?s=128&d=identicon&r=PG", "display_name": "David Ebbo", "link": "https://stackoverflow.com/users/111888/david-ebbo"}, "edited": false, "score": 0, "creation_date": 1496872710, "post_id": 44421434, "comment_id": 75845274, "body": "So in the above code Console.WriteLine(datum.Time.ToUniversalTime()+ &quot; ? &quot;+time)  datum.Time.ToUniversalTime() gives out local time(PST) in webjob and Kudu console, where as in debug mode it gives out UTC as expected.  Also to add &#39;time&#39; in the code is in UTC so yes DateTime.Now.ToUniversalTime() gives expected result."}, {"owner": {"reputation": 40200, "user_id": 111888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3c4e7f8b11f8b8c1d77ebb70678097b4?s=128&d=identicon&r=PG", "display_name": "David Ebbo", "link": "https://stackoverflow.com/users/111888/david-ebbo"}, "edited": false, "score": 0, "creation_date": 1496874557, "post_id": 44421434, "comment_id": 75845976, "body": "Sorry, I don&#39;t follow this last comment. The code in your question is far more complicated than it needs to be, and most of it looks irrelevant to the question. Please change it to the minimal runnable code that reproduces the issue you are seeing."}, {"owner": {"reputation": 31, "user_id": 7525726, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/29cfa372b273a346e489121ef9ea5410?s=128&d=identicon&r=PG&f=1", "display_name": "Radhika Bhala", "link": "https://stackoverflow.com/users/7525726/radhika-bhala"}, "reply_to_user": {"reputation": 40200, "user_id": 111888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3c4e7f8b11f8b8c1d77ebb70678097b4?s=128&d=identicon&r=PG", "display_name": "David Ebbo", "link": "https://stackoverflow.com/users/111888/david-ebbo"}, "edited": false, "score": 0, "creation_date": 1496876857, "post_id": 44421434, "comment_id": 75846714, "body": "Tried this  <code>Console.WriteLine(new DateTime(2017, 05, 23, 8, 00, 00, 0).ToUniversalTime() + &quot;  &quot;+ DateTime.Now.ToUniversalTime());</code>  Even this does not give expected result on Kudu Console, on Kudu Console: 5/23/2017 8:00:00 AM  6/7/2017 11:04:23 PM  on Local Console: 5/23/2017 3:00:00 PM  6/7/2017 11:04:23 PM"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7525726, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/29cfa372b273a346e489121ef9ea5410?s=128&d=identicon&r=PG&f=1", "display_name": "Radhika Bhala", "link": "https://stackoverflow.com/users/7525726/radhika-bhala"}, "edited": false, "score": 0, "creation_date": 1496880512, "post_id": 44424254, "comment_id": 75847714, "body": "I get Time of my data in local time so i need to convert it in universal time and then specify its kind as Utc as below:  So In Azure I want my time to be in UTC i.e for <code>LocalTime = new DateTime(2017, 05, 23, 8, 00, 00, 0);</code> it should print out 5/23/2017 3:00:00 PM so to achieve this    <code>var dt = new DateTime(2017, 05, 23, 8, 00, 00, 0);   var dt2 = DateTime.SpecifyKind(dt.ToUniversalTime(), DateTimeKind.Utc);</code> should work right?"}, {"owner": {"reputation": 40200, "user_id": 111888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3c4e7f8b11f8b8c1d77ebb70678097b4?s=128&d=identicon&r=PG", "display_name": "David Ebbo", "link": "https://stackoverflow.com/users/111888/david-ebbo"}, "reply_to_user": {"reputation": 31, "user_id": 7525726, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/29cfa372b273a346e489121ef9ea5410?s=128&d=identicon&r=PG&f=1", "display_name": "Radhika Bhala", "link": "https://stackoverflow.com/users/7525726/radhika-bhala"}, "edited": false, "score": 0, "creation_date": 1496880898, "post_id": 44424254, "comment_id": 75847787, "body": "You say you get your data in local time, but you don&#39;t specify in what timezone. You cannot meaningfully work with local times without being clear on the time zone. If you want to set your web app to use a specific local time zone, user <a href=\"https://github.com/projectkudu/kudu/wiki/Configurable-settings#set-the-time-zone\" rel=\"nofollow noreferrer\">WEBSITE_TIME_ZONE</a>."}, {"owner": {"reputation": 31, "user_id": 7525726, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/29cfa372b273a346e489121ef9ea5410?s=128&d=identicon&r=PG&f=1", "display_name": "Radhika Bhala", "link": "https://stackoverflow.com/users/7525726/radhika-bhala"}, "edited": false, "score": 0, "creation_date": 1496940743, "post_id": 44424254, "comment_id": 75880616, "body": "I changed the time of the website. Thanks for all the help."}], "tags": [], "owner": {"reputation": 40200, "user_id": 111888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3c4e7f8b11f8b8c1d77ebb70678097b4?s=128&d=identicon&r=PG", "display_name": "David Ebbo", "link": "https://stackoverflow.com/users/111888/david-ebbo"}, "is_accepted": false, "score": 3, "last_activity_date": 1496877594, "creation_date": 1496877594, "answer_id": 44424254, "question_id": 44421434, "link": "https://stackoverflow.com/questions/44421434/console-application-as-continuous-azure-webjob-does-not-convert-time-touniversal/44424254#44424254", "title": "Console Application as continuous Azure webjob does not convert Time.ToUniversalTime() in UTC", "body": "<p>The behavior is by design, and has nothing to do with Azure. When you write</p>\n\n<pre><code>var dt = new DateTime(2017, 05, 23, 8, 00, 00, 0);\n</code></pre>\n\n<p>It treats it as local time. So of course you get a different UTC time based on the timezone of the machine you're on (which in the case of Azure VMs happens to be the same as UTC time).</p>\n\n<p>To treat the time you enter as UTC, you need to write:</p>\n\n<pre><code>var dt2 = DateTime.SpecifyKind(dt, DateTimeKind.Utc);\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/6208676/c-sharp-datetime-to-utc-time-without-changing-the-time\">C# DateTime to UTC Time without changing the time</a></p>\n"}, {"tags": [], "owner": {"reputation": 7655, "user_id": 7597097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZa9M.png?s=128&g=1", "display_name": "Amor", "link": "https://stackoverflow.com/users/7597097/amor"}, "is_accepted": false, "score": 0, "last_activity_date": 1496906400, "last_edit_date": 1496906400, "creation_date": 1496905631, "answer_id": 44428880, "question_id": 44421434, "link": "https://stackoverflow.com/questions/44421434/console-application-as-continuous-azure-webjob-does-not-convert-time-touniversal/44428880#44428880", "title": "Console Application as continuous Azure webjob does not convert Time.ToUniversalTime() in UTC", "body": "<blockquote>\n  <p>Tried this Console.WriteLine(new DateTime(2017, 05, 23, 8, 00, 00, 0).ToUniversalTime() + \" \"+ DateTime.Now.ToUniversalTime()); Even this does not give expected result on Kudu Console, on Kudu Console: 5/23/2017 8:00:00 AM 6/7/2017 11:04:23 PM on Local Console: 5/23/2017 3:00:00 PM 6/7/2017 11:04:23 PM</p>\n</blockquote>\n\n<p>The differences between your local and Azure Web App instance is that the default time zone in Azure Web App instances is UTC. According the result of your test, the time zone on your local is UTC+07:00. If you create a new instance of DateTime by year/month/day/hour/month/minute, it will use the default time zone of your system.</p>\n\n<p>It is not recommended to save a datetime to a string with this format 'year/month/day/hour/month/minute'. It will lose the time zone information.  If your code runs on a machine with different time zone, it will cause some issues. </p>\n\n<p>If you did need to store the datetime information in a string, you could store the datetime information with a time zone symbol(ex. 2017, 05, 23, 8, 00, 00, 00 UTC+07:00). To get the datetime back from the string, we need to add the offset hours.</p>\n\n<pre><code>var dateTime = new DateTime(2017, 05, 23, 8, 00, 00, 0, DateTimeKind.Utc).AddHours(7);\n</code></pre>\n\n<p>Or you could convert datetime to GMC time before save it. After that, you could create a new instance of DateTime with a DateTimeKind parameter.</p>\n\n<pre><code>var dateTime = new DateTime(2017, 05, 23, 8, 00, 00, 0, DateTimeKind.Utc);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7655, "user_id": 7597097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZa9M.png?s=128&g=1", "display_name": "Amor", "link": "https://stackoverflow.com/users/7597097/amor"}, "edited": false, "score": 0, "creation_date": 1496977410, "post_id": 44441549, "comment_id": 75894463, "body": "Since your issue is solved, please mark helpful replies as answer. It will help others quick find and fix similar problem."}], "tags": [], "owner": {"reputation": 31, "user_id": 7525726, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/29cfa372b273a346e489121ef9ea5410?s=128&d=identicon&r=PG&f=1", "display_name": "Radhika Bhala", "link": "https://stackoverflow.com/users/7525726/radhika-bhala"}, "is_accepted": false, "score": 0, "last_activity_date": 1496940838, "creation_date": 1496940838, "answer_id": 44441549, "question_id": 44421434, "link": "https://stackoverflow.com/questions/44421434/console-application-as-continuous-azure-webjob-does-not-convert-time-touniversal/44441549#44441549", "title": "Console Application as continuous Azure webjob does not convert Time.ToUniversalTime() in UTC", "body": "<p>I changed the timezone of the website on Azure portal. Thanks for all the help. </p>\n"}], "owner": {"reputation": 31, "user_id": 7525726, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/29cfa372b273a346e489121ef9ea5410?s=128&d=identicon&r=PG&f=1", "display_name": "Radhika Bhala", "link": "https://stackoverflow.com/users/7525726/radhika-bhala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1496940838, "creation_date": 1496864290, "last_edit_date": 1496875798, "question_id": 44421434, "link": "https://stackoverflow.com/questions/44421434/console-application-as-continuous-azure-webjob-does-not-convert-time-touniversal", "title": "Console Application as continuous Azure webjob does not convert Time.ToUniversalTime() in UTC", "body": "<p>I have a simple console application running as continuous webjob in Azure, Locally when I debug it gives proper output time in UTC when I convert time using \n    new DateTime(Time).ToUniversalTime()\nbut when I run it in webjob it still gives local time instead of universal time.</p>\n\n<p><code>Console.WriteLine(MyData.Time.ToUniversalTime() + \" \"+ DateTime.Now.ToUniversalTime());</code></p>\n\n<p>at 3:43 PM PST</p>\n\n<p>Kudu console (webjob): 6/7/2017 3:38:46 PM 6/7/2017 10:43:52 PM </p>\n\n<p>on local Console: 6/7/2017 10:38:46 PM 6/7/2017 10:43:52 PM </p>\n"}, {"tags": ["c#", "list", "function", "dll", "parameter-passing"], "comments": [{"owner": {"reputation": 21184, "user_id": 261050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b51dd28e87337135e9e9d08ad26c2fdc?s=128&d=identicon&r=PG", "display_name": "Maarten", "link": "https://stackoverflow.com/users/261050/maarten"}, "edited": false, "score": 1, "creation_date": 1496864313, "post_id": 44421389, "comment_id": 75841323, "body": "Try and you&#39;ll find out!"}, {"owner": {"reputation": 2349, "user_id": 2793451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BhcSp.jpg?s=128&g=1", "display_name": "Kfir Guy", "link": "https://stackoverflow.com/users/2793451/kfir-guy"}, "edited": false, "score": 1, "creation_date": 1496864318, "post_id": 44421389, "comment_id": 75841324, "body": "Try passing <code>myList.ToArray()</code>. You can pass arrays to <code>params</code> paramteter."}], "answers": [{"tags": [], "owner": {"reputation": 5538, "user_id": 5639688, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/5GBLX.jpg?s=128&g=1", "display_name": "eocron", "link": "https://stackoverflow.com/users/5639688/eocron"}, "is_accepted": true, "score": 2, "last_activity_date": 1496874144, "last_edit_date": 1496874144, "creation_date": 1496864477, "answer_id": 44421501, "question_id": 44421389, "link": "https://stackoverflow.com/questions/44421389/is-it-possible-to-pass-the-elements-of-a-list-as-arguments-of-one-function-call/44421501#44421501", "title": "Is it possible to pass the elements of a list as arguments of one function call in C#?", "body": "<p>Small explanation:</p>\n\n<pre><code>var myList = new List&lt;object&gt;() { 1, \"foo\", \"bar\"};\n\nSend(type, myList.ToArray());         //this will invoke: void Send(string, object, object, object);\nSend(type, (object)myList.ToArray()); //this will invoke: void Send(string, object);\nSend(type, myList);                   //this will invoke: void Send(string, object);\n</code></pre>\n\n<p>So if you want your list to be considered as <strong>params</strong> - you can invoke ToArray(), if you want it to be considered as <strong>single parameter</strong> - just cast it to object.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 7767897, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6zgee90uKs0/AAAAAAAAAAI/AAAAAAAAAHg/wOAgFRwq1dU/photo.jpg?sz=128", "display_name": "Larz", "link": "https://stackoverflow.com/users/7767897/larz"}, "is_accepted": false, "score": 0, "last_activity_date": 1496870718, "last_edit_date": 1496870718, "creation_date": 1496869577, "answer_id": 44422764, "question_id": 44421389, "link": "https://stackoverflow.com/questions/44421389/is-it-possible-to-pass-the-elements-of-a-list-as-arguments-of-one-function-call/44422764#44422764", "title": "Is it possible to pass the elements of a list as arguments of one function call in C#?", "body": "<blockquote>\n  <p>but the Send function is defined in a preprepared library which I can't alter.</p>\n</blockquote>\n\n<p>You could define an extension method,</p>\n\n<pre><code>// Where Lib is the type that contains the Send method.\npublic static class MyExtensions\n{\n    public static void Send(this Lib lib, string type, int obj)\n    {\n        lib.Send(type, obj);\n    }\n\n    public static void Send(this Lib lib, string type, List&lt;object&gt; objs)\n    {\n        lib.Send(type, objs.ToArray());\n    }\n\n    // Other overloads\n}\n</code></pre>\n\n<p>Then you use it just like it was built into the library to being with,</p>\n\n<pre><code>var lib = new Lib();\nlib.Send(type, 1) // Call Send(this Lib lib, string type, int obj)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7071115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WtzF8.jpg?s=128&g=1", "display_name": "wscales10", "link": "https://stackoverflow.com/users/7071115/wscales10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 44421501, "answer_count": 2, "score": 0, "last_activity_date": 1496874144, "creation_date": 1496864099, "question_id": 44421389, "link": "https://stackoverflow.com/questions/44421389/is-it-possible-to-pass-the-elements-of-a-list-as-arguments-of-one-function-call", "title": "Is it possible to pass the elements of a list as arguments of one function call in C#?", "body": "<p>I am writing a bot designed to interact with an online game. I am using a function called \"Send\" which is defined like so:</p>\n\n<pre><code>public void Send(string type, params object[] parameters);\n</code></pre>\n\n<p>\"Send\" is a function which can have a variable number of arguments, thanks to the <code>params</code> keyword. If I am storing these arguments in a <code>List&lt;object&gt;</code>, can I pass this list of arguments to the function without having to write different code for each possible number of arguments? </p>\n\n<p>I know that if that <code>params</code> keyword wasn't there I could just pass the whole list as one argument using <code>List&lt;T&gt;.ToArray()</code>, but the Send function is defined in a preprepared library which I can't alter.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 36783, "user_id": 2946329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9ygJ.jpg?s=128&g=1", "display_name": "Salah Akbari", "link": "https://stackoverflow.com/users/2946329/salah-akbari"}, "edited": false, "score": 1, "creation_date": 1496863829, "post_id": 44421283, "comment_id": 75841009, "body": "You need <a href=\"https://docs.microsoft.com/en-us/sql/t-sql/statements/bulk-insert-transact-sql\" rel=\"nofollow noreferrer\">BULK INSERT</a>"}, {"owner": {"reputation": 97, "user_id": 7593395, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c095dfef48f532f4c0e889c058540da1?s=128&d=identicon&r=PG&f=1", "display_name": "Dim", "link": "https://stackoverflow.com/users/7593395/dim"}, "reply_to_user": {"reputation": 36783, "user_id": 2946329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9ygJ.jpg?s=128&g=1", "display_name": "Salah Akbari", "link": "https://stackoverflow.com/users/2946329/salah-akbari"}, "edited": false, "score": 0, "creation_date": 1496863887, "post_id": 44421283, "comment_id": 75841063, "body": "Can i use a number in a string for making this? Example if string count=5 then insert it 5 times. Something like that"}, {"owner": {"reputation": 4956, "user_id": 5762332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhBOT.jpg?s=128&g=1", "display_name": "Magnetron", "link": "https://stackoverflow.com/users/5762332/magnetron"}, "edited": false, "score": 0, "creation_date": 1496864150, "post_id": 44421283, "comment_id": 75841219, "body": "use a <code>for</code> loop and parse the string variable for the maximum amount of times"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1496864151, "post_id": 44421283, "comment_id": 75841220, "body": "Do you mean you loop? Or do you want to create an insert statement that inserts values repeatedly into the table? It is unclear what you are actually asking for."}, {"owner": {"reputation": 97, "user_id": 7593395, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c095dfef48f532f4c0e889c058540da1?s=128&d=identicon&r=PG&f=1", "display_name": "Dim", "link": "https://stackoverflow.com/users/7593395/dim"}, "edited": false, "score": 0, "creation_date": 1496864224, "post_id": 44421283, "comment_id": 75841269, "body": "I found this but i dont understand the code very much.Can i use something more simple? <a href=\"https://www.sqlservercentral.com/Forums/Topic911157-338-1.aspx\" rel=\"nofollow noreferrer\">sqlservercentral.com/Forums/Topic911157-338-1.aspx</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8122296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eF57H.jpg?s=128&g=1", "display_name": "kagan", "link": "https://stackoverflow.com/users/8122296/kagan"}, "is_accepted": false, "score": 0, "last_activity_date": 1496865350, "last_edit_date": 1496865350, "creation_date": 1496864770, "answer_id": 44421556, "question_id": 44421283, "link": "https://stackoverflow.com/questions/44421283/run-a-query-multiple-times-with-same-values/44421556#44421556", "title": "Run a query multiple times with same values", "body": "<p>If you want to specific query, you can use in the method. Maybe firstly you should search how many same string is counted like this:</p>\n\n<pre><code>public void run() {\n  SqlCommand cmd = new SqlCommand(\"insert into InventoryTransTemp (name) values ('test')\", con);\n  cmd.ExecuteNonQuery();\n}\n\n\npublic int findString() {\n  int i = 0;\n  SqlDataReader stRead = new sqlCommand(\"SELECT * FROM database \", con);\n  while (stRead.Read()) {\n    i++;\n  }\n  return i;\n}\nint i = findString();\nfor (int j = 0; j &lt; i; j++) {\n  run();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": true, "score": 1, "last_activity_date": 1496864935, "creation_date": 1496864935, "answer_id": 44421588, "question_id": 44421283, "link": "https://stackoverflow.com/questions/44421283/run-a-query-multiple-times-with-same-values/44421588#44421588", "title": "Run a query multiple times with same values", "body": "<p>You can insert multiple rows with a single <code>INSERT</code> command by separating your parenthesis-enclosed row data with commas. So you can create a loop for the number of rows you want to add, and then add the row data values (and a comma) to your query string on each iteration:</p>\n\n<pre><code>var queryString = \"INSERT INTO InventoryTransTemp ([name]) VALUES \";\nvar rowData = \"('test')\";\nint numRows = 5;\n\nfor (int i = 0; i &lt; numRows; i++)\n{\n    queryString += rowData;\n    if (i &lt; numRows - 1) queryString += \", \";\n}\n\n// At this point, query string looks like:\n// \"INSERT INTO InventoryTransTemp ([name]) VALUES ('test'), ('test'), ('test'), ('test'), ('test')\"\n\nSqlCommand cmd = new SqlCommand(queryString, con);\ncmd.ExecuteNonQuery();\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 7593395, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c095dfef48f532f4c0e889c058540da1?s=128&d=identicon&r=PG&f=1", "display_name": "Dim", "link": "https://stackoverflow.com/users/7593395/dim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 44421588, "answer_count": 2, "score": -1, "last_activity_date": 1496865350, "creation_date": 1496863736, "last_edit_date": 1496863984, "question_id": 44421283, "link": "https://stackoverflow.com/questions/44421283/run-a-query-multiple-times-with-same-values", "title": "Run a query multiple times with same values", "body": "<p>I'm using c# and trying to insert into sql same query multiple times:\n  Here is my code:</p>\n\n<pre><code> SqlCommand cmd = new  SqlCommand (\"insert into InventoryTransTemp (name) values ('test')\",con);\n cmd.ExecuteNonQuery();\n</code></pre>\n\n<p>How can i run this same query example 5 times??</p>\n\n<p>Can i use a string for doing this? Example if string count=5 then run query 5 times</p>\n"}, {"tags": ["c#", "uwp", "windows-10", "windows-10-universal", "windows-10-mobile"], "answers": [{"comments": [{"owner": {"reputation": 1470, "user_id": 5902558, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e4fd0f1c33e1f57fad38a48a1551a1de?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Bedford", "link": "https://stackoverflow.com/users/5902558/michael-bedford"}, "edited": false, "score": 0, "creation_date": 1496878125, "post_id": 44423886, "comment_id": 75847107, "body": "thank you for the response. I had read the article you gave a link to but that and all the other stuff I read does not explain what you did, which is where to request the Extended Session from. I moved it as you suggested and IT WORKED! It is now Allowed. However, new problem, it is allowed so my StartLocationTrackingAsync method is called and all is good while it is in the foreground. However, when I suspend the app, everything stops working. I stop getting my OnPositionChanged events from the GeoLocator. When I resume, it starts working again. Did I miss another step in setup?"}, {"owner": {"reputation": 37465, "user_id": 231837, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pAqDJ.jpg?s=128&g=1", "display_name": "Justin XL", "link": "https://stackoverflow.com/users/231837/justin-xl"}, "reply_to_user": {"reputation": 1470, "user_id": 5902558, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e4fd0f1c33e1f57fad38a48a1551a1de?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Bedford", "link": "https://stackoverflow.com/users/5902558/michael-bedford"}, "edited": false, "score": 1, "creation_date": 1496881617, "post_id": 44423886, "comment_id": 75847968, "body": "Extended execution location tracking isn&#39;t designed for running it in the background but regularly interacting with geo locator in the foreground. If you want bg execution, you will need to use either a bg task or an app service."}, {"owner": {"reputation": 1470, "user_id": 5902558, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e4fd0f1c33e1f57fad38a48a1551a1de?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Bedford", "link": "https://stackoverflow.com/users/5902558/michael-bedford"}, "edited": false, "score": 0, "creation_date": 1496882201, "post_id": 44423886, "comment_id": 75848108, "body": "Okay, understood. But can you please answer one more question? I have the GeoLocation Position Changed event handler raising not on time interval, but rather on distance and it is set to 100 meters. I need the event to raise this often because I am using geo fencing. I thought I read that background tasks would only fire x number of minutes which is far too long for me. Is that true? Ideally, I have an event handler that raises like I do in the foreground. With a bg, I understand I will have to poll the location. Can I do it in seconds with one of the approaches?"}, {"owner": {"reputation": 1470, "user_id": 5902558, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e4fd0f1c33e1f57fad38a48a1551a1de?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Bedford", "link": "https://stackoverflow.com/users/5902558/michael-bedford"}, "edited": false, "score": 0, "creation_date": 1496882907, "post_id": 44423886, "comment_id": 75848283, "body": "I just read that background tasks are only run every 15 minutes, so this is no good."}, {"owner": {"reputation": 37465, "user_id": 231837, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pAqDJ.jpg?s=128&g=1", "display_name": "Justin XL", "link": "https://stackoverflow.com/users/231837/justin-xl"}, "reply_to_user": {"reputation": 1470, "user_id": 5902558, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e4fd0f1c33e1f57fad38a48a1551a1de?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Bedford", "link": "https://stackoverflow.com/users/5902558/michael-bedford"}, "edited": false, "score": 1, "creation_date": 1496890559, "post_id": 44423886, "comment_id": 75850010, "body": "Geofencing is location based, not time based. You don&#39;t want to do stuff too often when the location hasn&#39;t been changed. Also can you please ask a new question on this?"}], "tags": [], "owner": {"reputation": 37465, "user_id": 231837, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pAqDJ.jpg?s=128&g=1", "display_name": "Justin XL", "link": "https://stackoverflow.com/users/231837/justin-xl"}, "is_accepted": true, "score": 3, "last_activity_date": 1496875202, "creation_date": 1496875202, "answer_id": 44423886, "question_id": 44421264, "link": "https://stackoverflow.com/questions/44421264/windows-10-mobile-app-extended-execution-keeps-getting-denied/44423886#44423886", "title": "Windows 10 Mobile App Extended Execution keeps getting denied", "body": "<p>Assuming you have already declared <strong>Location</strong> in the app manifest, you will have to <em>run the code in the foreground</em>, which means it will work in your <code>MainPage_Loaded</code> callback but <strong>not</strong> in the suspended state.</p>\n\n<blockquote>\n  <p>A location tracking extended execution session can run as long as\n  needed. However, there can only be one such session running per\n  device. A location tracking extended execution session can only be\n  requested in the foreground, and the app must be in the Running state.\n  This ensures that the user is aware that the app has initiated an\n  extended location tracking session.</p>\n</blockquote>\n\n<p>To run this in the background, see this -</p>\n\n<blockquote>\n  <p>It is still possible to use the\n  GeoLocator while the app is in the background by using a background\n  task, or an app service, without requesting a location tracking\n  extended execution session.</p>\n</blockquote>\n\n<p>You use <code>LocationTracking</code> extended execution when you -</p>\n\n<blockquote>\n  <p>Specify ExtendedExecutionReason.LocationTracking when you create an\n  ExtendedExecutionSession if your app needs to regularly log the\n  location from the GeoLocator. Apps for fitness tracking and navigation\n  that need to regularly monitor the user's location and should use this\n  reason.</p>\n</blockquote>\n\n<p>Here is the <a href=\"https://docs.microsoft.com/en-us/windows/uwp/launch-resume/run-minimized-with-extended-execution\" rel=\"nofollow noreferrer\">full article</a> on this.</p>\n"}], "owner": {"reputation": 1470, "user_id": 5902558, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e4fd0f1c33e1f57fad38a48a1551a1de?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Bedford", "link": "https://stackoverflow.com/users/5902558/michael-bedford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 44423886, "answer_count": 1, "score": 1, "last_activity_date": 1518340846, "creation_date": 1496863645, "last_edit_date": 1504922573, "question_id": 44421264, "link": "https://stackoverflow.com/questions/44421264/windows-10-mobile-app-extended-execution-keeps-getting-denied", "title": "Windows 10 Mobile App Extended Execution keeps getting denied", "body": "<p>I am trying to use Extended Execution on my Windows 10 UWP app for the purpose of location tracking. There are many examples of this online. I am basically using this common block of code.</p>\n\n<pre><code>using (var session = new ExtendedExecutionSession())\n{\n    session.Reason = ExtendedExecutionReason.LocationTracking;\n    session.Description = \"Tracking your location\";\n    session.Revoked += NewSession_Revoked;\n    var result = await session.RequestExtensionAsync();\n\n    switch (result)\n    {\n        case ExtendedExecutionResult.Allowed:\n            await StartLocationTrackingAsync();\n            break;\n        default:\n            case ExtendedExecutionResult.Denied:\n            //Notify user or log this.\n            break;\n    }\n}\n</code></pre>\n\n<p>This block of code is executed in the Suspending event handler for my app, like this: </p>\n\n<pre><code>public Scenario1()\n{\n    this.InitializeComponent();\n    Application.Current.Suspending += Current_Suspending;\n}\n\nprivate async void Current_Suspending(object sender, Windows.ApplicationModel.SuspendingEventArgs e)\n{\n    //Do my extended execution request here.\n}\n</code></pre>\n\n<p>The first issue I had was I could not get that event to even fire but I read on SO that VS will not suspend your app while debugging. So, I forced it to suspend using the Lifecycle events drop down in VS. Now, I get the Suspending event to raise each time, which is good.</p>\n\n<p>However, when I request the extended execution session, it is denied every single time. I have tried on the emulator and on my physical W10 Mobile device, multiple times each and every time, it is denied. </p>\n\n<p>Why is this? How can I get it to be allowed?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "json", "web-services"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 2, "creation_date": 1496863837, "post_id": 44421223, "comment_id": 75841016, "body": "<i>&quot;just assume is a correctly formatted json string&quot;</i>: If I had written that sentence myself, I&#39;d suddenly feel icy knives in my heart and go find out where my JSON string was misformatted."}, {"owner": {"reputation": 734, "user_id": 1228379, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4f560996a3b0ecf96e6320f44a338e21?s=128&d=identicon&r=PG", "display_name": "inarilo", "link": "https://stackoverflow.com/users/1228379/inarilo"}, "edited": false, "score": 1, "creation_date": 1496863857, "post_id": 44421223, "comment_id": 75841034, "body": "just a guess but try passing method=POST in the url in the AJAX instead of using type as POST (i had a similar issue with FB API and this solved it)"}, {"owner": {"reputation": 6885, "user_id": 123422, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ft4KH.jpg?s=128&g=1", "display_name": "Paul Abbott", "link": "https://stackoverflow.com/users/123422/paul-abbott"}, "edited": false, "score": 1, "creation_date": 1496863871, "post_id": 44421223, "comment_id": 75841046, "body": "If you don&#39;t want it mapped to a C# class, try setting the request and response to text instead of JSON.  You are, after all, accepting and returning a string."}, {"owner": {"reputation": 15, "user_id": 5583674, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6688a5ec299829a3c405c011e4388c2c?s=128&d=identicon&r=PG&f=1", "display_name": "JoshuaRG1993", "link": "https://stackoverflow.com/users/5583674/joshuarg1993"}, "edited": false, "score": 0, "creation_date": 1496864339, "post_id": 44421223, "comment_id": 75841336, "body": "Ed Plunkett, I know right? But it&#39;s 100% not the cause. Inarilo, what do you mean? How do I do that Paul?"}], "owner": {"reputation": 15, "user_id": 5583674, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6688a5ec299829a3c405c011e4388c2c?s=128&d=identicon&r=PG&f=1", "display_name": "JoshuaRG1993", "link": "https://stackoverflow.com/users/5583674/joshuarg1993"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496864284, "creation_date": 1496863512, "last_edit_date": 1496864284, "question_id": 44421223, "link": "https://stackoverflow.com/questions/44421223/why-is-my-web-service-saying-im-giving-it-a-bad-request", "title": "Why is my web service saying I&#39;m giving it a bad request?", "body": "<p>Pulling my hair out over here, please help. All I want is a POST web service that takes a string parameter (it will be json) and then parse it into a JObject so I can get data from it. <strong>I do not want to match it to a .NET object. That is not  an option.</strong></p>\n\n<p>I have the following Web Service:</p>\n\n<pre><code>[OperationContract]\n[WebInvoke(Method = \"POST\", RequestFormat = WebMessageFormat.Json, ResponseFormat = WebMessageFormat.Json)]\n    string ProcessJsonData(string jsonData);\n\npublic string ProcessJsonData(string jsonData)\n{\n    JObject JObj = JObject.Parse(jsonData);\n    return \"Success\";\n}\n</code></pre>\n\n<p>I want both AJAX calls and code behind calls to work. But I keep getting bad request error (400).</p>\n\n<p>Here's what I'm doing in the Javascript:</p>\n\n<p>(just assume jsonObject is a correctly formatted json string (used it in other test and jsonlite.come or whatever has verified it)</p>\n\n<pre><code>var dataObj = JSON.stringify(jsonObject);\n\n    $.ajax({\n        type: \"POST\",\n        data: dataObj,\n        url: \"http://blabalblafdsfs/ProcessJsonData\",\n        success: function (data) {\n            alert(data);\n        },\n        error: function (data) {\n            alert(data);\n        }\n    })\n\n    $.ajax({\n        type: \"POST\",\n        url: \"http://blabalblafdsfs/ProcessJsonData?jsonData=\" + dataObj,\n        success: function (data) {\n            alert(data);\n        },\n        error: function (data) {\n            alert(data);\n        }\n    })\n</code></pre>\n\n<p>Neither of those methods work.\nHere is my code behind method:</p>\n\n<pre><code>string testJson = @\"{\n \"\"Questions\"\":[\n    {\"\"Code\"\":\"\"s1\"\",\"\"Questions\"\":\"\"Q1,Q2\"\"},\n    {\"\"Code\"\":\"\"s2\"\",\"\"Questions\"\":\"\"Q1,Q2,Q3\"\"},\n    {\"\"Code\"\":\"\"s3\"\",\"\"Questions\"\":\"\"Q1,Q2,Q4\"\"},\n    {\"\"Code\"\":\"\"s4\"\",\"\"Questions\"\":\"\"Q1,Q2,Q5\"\"}\n  ]\n}\";\nstring response;\n        string responseBody;\n\n        try\n        {\n            WebClient client = new WebClient();\n            client.Headers.Add(\"Content-type\", \"application/json\");\n            client.Encoding = Encoding.UTF8;\n            Uri uri = new Uri(\"http://blabalblafdsfs/ProcessJsonData\", UriKind.Absolute);\n            response = client.UploadString(uri, \"POST\", testJson);\n        }\n        catch (WebException we)\n        {\n            response = we.ToString();\n        }\n\n        try\n        {\n            using (WebClient client = new WebClient())\n            {\n                NameValueCollection requestParameters = new NameValueCollection();\n                Uri uri = new Uri(\"http://blabalblafdsfs/ProcessJsonData\", UriKind.Absolute);\n                response = client.UploadString(uri, \"POST\", testJson);\n            }\n        }\n        catch (WebException we)\n        {\n            response = we.ToString();\n        }\n</code></pre>\n\n<p>Again, no success. All help is appreciated.</p>\n"}, {"tags": ["c#", "mysql"], "answers": [{"tags": [], "owner": {"reputation": 1106495, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "is_accepted": false, "score": 0, "last_activity_date": 1496863894, "creation_date": 1496863894, "answer_id": 44421326, "question_id": 44421221, "link": "https://stackoverflow.com/questions/44421221/c-with-mysql-table-is-specified-twice-both-as-a-target-for-update/44421326#44421326", "title": "C# with MySQL Table is specified twice, both as a target for &#39;UPDATE&#39;", "body": "<p>Your dates are constants, so you can use <code>CROSS JOIN</code>:</p>\n\n<pre><code>UPDATE Nomina n CROSS JOIN\n       (SELECT SUM(totalIngresosXSemana - totalGastosXSemana) as newval\n        FROM Nomina \n        WHERE fechaInicio &gt;= @fechaInicial AND\n              fechaFin &lt;= @fechaFinal\n       ) nn\n    SET n.utilidadSemana = nn.newval   \nWHERE fechaInicio &gt;= @fechaInicial AND\n      fechaFin &lt;= @fechaFinal;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8127665, "user_type": "registered", "profile_image": "https://graph.facebook.com/1380580512011787/picture?type=large", "display_name": "Germinator Mendez", "link": "https://stackoverflow.com/users/8127665/germinator-mendez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1496863894, "creation_date": 1496863508, "last_edit_date": 1496863632, "question_id": 44421221, "link": "https://stackoverflow.com/questions/44421221/c-with-mysql-table-is-specified-twice-both-as-a-target-for-update", "title": "C# with MySQL Table is specified twice, both as a target for &#39;UPDATE&#39;", "body": "<p>This is my SQL query</p>\n\n<pre><code>UPDATE Nomina \nSET utilidadSemana = \n    (SELECT SUM(totalIngresosXSemana - totalGastosXSemana) \n        FROM Nomina \n        WHERE fechaInicio &gt;= @fechaInicial \n        AND fechaFin &lt;= @fechaFinal) \nWHERE \n    fechaInicio &gt;= @fechaInicial \n    AND fechaFin &lt;= @fechaFinal;\n</code></pre>\n"}, {"tags": ["c#", "filter", "path", "external", "gimp"], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 8080044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbb7f340de362a00181ad021b391a70?s=128&d=identicon&r=PG", "display_name": "fluffy", "link": "https://stackoverflow.com/users/8080044/fluffy"}, "reply_to_user": {"reputation": 513, "user_id": 5105585, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh3.googleusercontent.com/-MQDERXC5FUk/AAAAAAAAAAI/AAAAAAAAASU/RUhJXR4ae60/photo.jpg?sz=128", "display_name": "Viktoria", "link": "https://stackoverflow.com/users/5105585/viktoria"}, "edited": false, "score": 0, "creation_date": 1496864275, "post_id": 44421270, "comment_id": 75841302, "body": "Updated again. Give that a try."}, {"owner": {"reputation": 513, "user_id": 5105585, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh3.googleusercontent.com/-MQDERXC5FUk/AAAAAAAAAAI/AAAAAAAAASU/RUhJXR4ae60/photo.jpg?sz=128", "display_name": "Viktoria", "link": "https://stackoverflow.com/users/5105585/viktoria"}, "edited": false, "score": 0, "creation_date": 1496867627, "post_id": 44421270, "comment_id": 75843083, "body": "Now I get that error: <code>Error: ( : 1) Invalid type for argument 1 to gimp-image-width</code>"}, {"owner": {"reputation": 5658, "user_id": 6378557, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/GVoNt.png?s=128&g=1", "display_name": "xenoid", "link": "https://stackoverflow.com/users/6378557/xenoid"}, "edited": false, "score": 0, "creation_date": 1496876162, "post_id": 44421270, "comment_id": 75846461, "body": "Better split the whole thing in manageable problems. So 1) check that the SCM works inside Gimp, 2) figure out the whole incantation to call it from a command line and 3) make a C# that calls said command line. Btw I don&#39;t know C# but I&#39;m ready to bet that when you use <code>UseShellExecute=False</code> the parameters to the command should be a list of strings that correspond to the individual parameters and not a big string that lumps them all together."}, {"owner": {"reputation": 513, "user_id": 5105585, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh3.googleusercontent.com/-MQDERXC5FUk/AAAAAAAAAAI/AAAAAAAAASU/RUhJXR4ae60/photo.jpg?sz=128", "display_name": "Viktoria", "link": "https://stackoverflow.com/users/5105585/viktoria"}, "edited": false, "score": 0, "creation_date": 1496923219, "post_id": 44421270, "comment_id": 75867409, "body": "the .scm works fine in GIMP.  Don&#39;t really understand where the issue with using <code>UseShellExecute=False</code> is?"}], "tags": [], "owner": {"reputation": 213, "user_id": 8080044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbb7f340de362a00181ad021b391a70?s=128&d=identicon&r=PG", "display_name": "fluffy", "link": "https://stackoverflow.com/users/8080044/fluffy"}, "is_accepted": false, "score": 0, "last_activity_date": 1496864950, "last_edit_date": 1496864950, "creation_date": 1496863670, "answer_id": 44421270, "question_id": 44421188, "link": "https://stackoverflow.com/questions/44421188/gimp-filter-in-c/44421270#44421270", "title": "GIMP Filter in C#", "body": "<p>Maybe go and have a look <a href=\"https://www.codeproject.com/Tips/332376/Execute-Gimp-filters-in-Csharp\" rel=\"nofollow noreferrer\">here</a> and give this method a try </p>\n\n<p>But by the looks of things your:</p>\n\n<pre><code> string a = @\"-b \"\"(script-fu-tile \\\"\"\" \n        + choosenFile\n        + \"100 100 0 TRUE 70\"  \n        + @\")\"\" -b \"\"(gimp-quit 0)\"\"\";\n</code></pre>\n\n<p>Should look more like this:</p>\n\n<pre><code>string a = @\"gimp-2.6.exe -i -b \"\"(script-fu-tile \\\"\"\" +\n               choosenFile + @\"\\\"\"0 100 100 0 TRUE 70)\"\" -b \"\"(gimp-quit 0)\"\"\";\n</code></pre>\n\n<p>Or Essentially:</p>\n\n<pre><code>    string draw = \"0\";\n    string blendx = \"100\";\n    string blendy = \"100\";\n    string overlap = \"0\";\n    string sqrText = \"TRUE\";\n    string adjBright = \"70\";\n    string a = @\"gimp-2.6.exe -i -b \"\"(simple-unsharp-mask \\\"\"\" +\n              path + @\"\\\"\" \" + draw + \" \" + blendx + \" \" + blendy + \" \" + overlap + \" \"+ sqrText + \" \" + adjBright +\n              @\")\"\" -b \"\"(gimp-quit 0)\"\"\";\n</code></pre>\n\n<p>By the looks of what the error is saying that you have provided there is a problem with the above string in your code. Give those few a try and comment back to me.</p>\n"}, {"tags": [], "owner": {"reputation": 513, "user_id": 5105585, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh3.googleusercontent.com/-MQDERXC5FUk/AAAAAAAAAAI/AAAAAAAAASU/RUhJXR4ae60/photo.jpg?sz=128", "display_name": "Viktoria", "link": "https://stackoverflow.com/users/5105585/viktoria"}, "is_accepted": true, "score": 0, "last_activity_date": 1497356048, "creation_date": 1497356048, "answer_id": 44521238, "question_id": 44421188, "link": "https://stackoverflow.com/questions/44421188/gimp-filter-in-c/44521238#44521238", "title": "GIMP Filter in C#", "body": "<p>I figured it out at my own - the problem was, that the first argument img expects an object but I wrote a string as the first argument. So I edited my scm script to wrap a object as a string and it works well. </p>\n"}], "owner": {"reputation": 513, "user_id": 5105585, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh3.googleusercontent.com/-MQDERXC5FUk/AAAAAAAAAAI/AAAAAAAAASU/RUhJXR4ae60/photo.jpg?sz=128", "display_name": "Viktoria", "link": "https://stackoverflow.com/users/5105585/viktoria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 764, "favorite_count": 0, "accepted_answer_id": 44521238, "answer_count": 2, "score": 0, "last_activity_date": 1497356048, "creation_date": 1496863375, "last_edit_date": 1496863660, "question_id": 44421188, "link": "https://stackoverflow.com/questions/44421188/gimp-filter-in-c", "title": "GIMP Filter in C#", "body": "<p>I'm trying all day long to get this code run, but no chance. I would like to execute a GIMP filter on an image and save it later to a certain path. With this code: </p>\n\n<pre><code>string choosenFile = \"D:\\\\here\\\\is\\\\the\\\\image\";\nstring gimpFile = \"D:\\\\here\\\\is\\\\my\\\\gimp exe\";\n\n\n\nvoid seamlessFilter() {\n    try {\n        if (!string.IsNullOrEmpty(choosenFile)) {\n            string a = @\"-b \"\"(script-fu-tile \\\"\"\" \n            + choosenFile\n            + \"100 100 0 TRUE 70\"  \n            + @\")\"\" -b \"\"(gimp-quit 0)\"\"\";\n            string result = ExecuteCommandSync(a);\n            Texture2D newTex = loadImage (new Vector2(200, 200), Path.GetFullPath(choosenFile));\n            newTex = null;\n        } else {\n            UnityEngine.Debug.Log(\"Please select a image\");\n        }\n    } catch (Exception ex){\n        UnityEngine.Debug.Log (ex.ToString ());\n    }\n}\n\npublic string ExecuteCommandSync(string command) {\n    ProcessStartInfo processStartInfo = new ProcessStartInfo (gimpFile, command);\n    processStartInfo.RedirectStandardOutput = true;\n    processStartInfo.UseShellExecute = false;\n    processStartInfo.CreateNoWindow = true;\n\n    Process process = new Process ();\n    process.StartInfo = processStartInfo;\n\n    process.Start ();\n    StreamReader reader = process.StandardOutput;\n    string result = reader.ReadToEnd ();\n    Console.WriteLine (result);\n    return result;\n}\n</code></pre>\n\n<p>I try to execute the filter, but I get every time an error, that the string couldn't be read. \nHere is the .scm:</p>\n\n<pre><code> `\n(define (script-fu-tile img \n        drawable \n        blend-x \n        blend-y \n        overlap \n        square)\n\n(let*\n\n    (\n\n    (sel-float1 0)\n\n    (sel-float2 0)\n\n    (sel-float3 0)\n    (sel-float4 0)\n    (high-pass-layer 0)\n\n    (yoffset 0)\n\n    (img-w (/ (car (gimp-image-width img)) 2))\n\n    (img-h (/ (car (gimp-image-height img)) 2))\n\n;(newimg (car (gimp-image-new (- (car (gimp-image-width img)) blend-x) \n(- (car (gimp-image-height img)) blend-y) RGB)))\n\n    )\n\n    (if (= square 1)\n\n        (set! yoffset (+ (- (* (- img-w img-h) 2) (- blend-x blend-y)) overlap))\n\n        (set! yoffset overlap)\n\n    )\n\n\n    (gimp-undo-push-group-start img)\n\n\n    (gimp-rect-select img 0 0 img-w img-h CHANNEL-OP-REPLACE FALSE 0)\n\n\n    (gimp-edit-copy drawable)\n\n    (set! sel-float1 (car (gimp-edit-paste drawable FALSE)))\n\n    (gimp-floating-sel-to-layer sel-float1)\n\n    (gimp-layer-translate sel-float1 (- (- img-w blend-x) yoffset) (- (- img-h blend-y) overlap))\n\n\n    (gimp-rect-select img img-w 0 img-w img-h CHANNEL-OP-REPLACE FALSE 0)\n\n\n    (gimp-edit-copy drawable)\n\n    (set! sel-float2 (car (gimp-edit-paste drawable FALSE)))\n    (gimp-floating-sel-to-layer sel-float2)\n\n    (gimp-layer-translate sel-float2 (- 0 img-w) (- (- img-h blend-y) overlap))\n\n\n    (gimp-rect-select img 0 img-h img-w img-h CHANNEL-OP-REPLACE FALSE 0)\n\n\n    (gimp-edit-copy drawable)\n\n    (set! sel-float3 (car (gimp-edit-paste drawable FALSE)))\n\n    (gimp-floating-sel-to-layer sel-float3)\n\n    (gimp-layer-translate sel-float3 (- (- img-w blend-x) yoffset) (- 0 img-h))\n\n\n    (gimp-rect-select img img-w img-h img-w img-h CHANNEL-OP-REPLACE FALSE 0)\n\n\n    (gimp-edit-copy drawable)\n\n    (set! sel-float4 (car (gimp-edit-paste drawable FALSE)))\n\n    (gimp-floating-sel-to-layer sel-float4)\n\n    (gimp-layer-translate sel-float4 (- 0 img-w) (- 0 img-h))\n\n\n    (gimp-rect-select img (- 0 blend-x) (- 0 blend-x) (+ img-w (/ blend-x 2)) (+ img-h (+ blend-x blend-x)) CHANNEL-OP-REPLACE TRUE (/ blend-x 1.68))\n\n    (gimp-selection-invert img)\n\n    (gimp-edit-clear sel-float4)\n\n\n    (gimp-rect-select img (- 0 blend-y) (- 0 blend-y) (+ img-w (+ blend-y blend-y)) (+ img-h (/ blend-y 2)) CHANNEL-OP-REPLACE TRUE (/ blend-y 1.68))\n\n    (gimp-selection-invert img)\n\n    (gimp-edit-clear sel-float4)\n\n\n    (gimp-rect-select img (- (- img-w (- blend-x blend-y)) yoffset) (- 0 blend-y) (+ img-w (+ blend-y blend-y)) (+ img-h (/ blend-y 2)) CHANNEL-OP-REPLACE TRUE (/ blend-y 1.68))\n\n    (gimp-selection-invert img)\n\n    (gimp-edit-clear sel-float3)\n\n\n    (gimp-rect-select img (- 0 blend-x) (- (- img-h (+ blend-x blend-y)) overlap) (+ img-w (/ blend-x 2)) (+ img-h (+ blend-x blend-x)) CHANNEL-OP-REPLACE TRUE (/ blend-x 1.68))\n\n    (gimp-selection-invert img)\n\n    (gimp-edit-clear sel-float2)\n\n\n    (gimp-selection-none img)\n\n\n    ;(gimp-layer-delete drawable)\n\n\n    (gimp-image-crop img (- (- (* img-w 2) blend-x) yoffset) (- (- (* img-h 2) blend-y) overlap) 0 0)\n\n\n\n\n\n    ; Complete the undo group\n\n    (gimp-undo-push-group-end img)\n\n\n    ; Flush output\n\n    (gimp-displays-flush)\n\n)\n)\n\n\n\n\n (script-fu-register \"script-fu-tile\"\n\n  \"&lt;Image&gt;/Filters/Map/Tileable...\"\n\n  \"Make seamless texture\"\n\n  \"Pavel aka RPG Roshchin &lt;rpg89@post.ru&gt;\"\n\n  \"Pavel aka RPG Roshchin\"\n\n  \"2011\"\n\n  \"RGB*, GRAY*\"\n\n   SF-IMAGE \"Image\" 0\n\n   SF-DRAWABLE \"Layer to blur\" 0\n\n   SF-ADJUSTMENT \"Blend x\" '(100 0 1000 1 10 0 0)\n\n   SF-ADJUSTMENT \"Blend y\" '(100 0 1000 1 10 0 0)\n\n   SF-ADJUSTMENT \"Overlap\" '(0 0 1000 1 10 0 0)\n\n   SF-TOGGLE\n    \"Make square texture\"   TRUE\n\n   ;SF-ADJUSTMENT \"Homogenize brightness (%)\" '(70 0 100 1 10 0 0)\n\n   )`\n</code></pre>\n\n<p>I'd be so glade if anyone could help, because I despair. Thank you!</p>\n"}, {"tags": ["c#", "signalr", "signalr-hub"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 7197387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e61060919681b04a5a547edc16e2899?s=128&d=identicon&r=PG&f=1", "display_name": "John S", "link": "https://stackoverflow.com/users/7197387/john-s"}, "edited": false, "score": 0, "creation_date": 1496864902, "post_id": 44421158, "comment_id": 75841647, "body": "ahhhhhhh ... thank you. I was pulling my hair out. So then in that function call &quot;send&quot;. I would invoke the call to the server correct"}, {"owner": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "reply_to_user": {"reputation": 15, "user_id": 7197387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e61060919681b04a5a547edc16e2899?s=128&d=identicon&r=PG&f=1", "display_name": "John S", "link": "https://stackoverflow.com/users/7197387/john-s"}, "edited": false, "score": 0, "creation_date": 1496865008, "post_id": 44421158, "comment_id": 75841715, "body": "That&#39;s one way to do it, yeah for sure"}, {"owner": {"reputation": 15, "user_id": 7197387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e61060919681b04a5a547edc16e2899?s=128&d=identicon&r=PG&f=1", "display_name": "John S", "link": "https://stackoverflow.com/users/7197387/john-s"}, "edited": false, "score": 0, "creation_date": 1496866107, "post_id": 44421158, "comment_id": 75842276, "body": "Thanks a lot Mark"}], "tags": [], "owner": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "is_accepted": true, "score": 1, "last_activity_date": 1496863278, "creation_date": 1496863278, "answer_id": 44421158, "question_id": 44421078, "link": "https://stackoverflow.com/questions/44421078/signalr-calling-hub-method-from-code-behind-ajax-call/44421158#44421158", "title": "Signalr Calling Hub Method from Code Behind Ajax Call", "body": "<p>The Hub method on the server doesn't get executed... What </p>\n\n<p><code>var context = GlobalHost.ConnectionManager.GetHubContext&lt;ChatHub&gt;();\ncontext.Clients.All.send(\"a\",\"b\");</code></p>\n\n<p>is saying is : On every client that has an open/active connection to the Hub, I'm invoking a <em><code>send</code></em> function <em>on the client</em>. Not on the Hub on the server.</p>\n"}], "owner": {"reputation": 15, "user_id": 7197387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e61060919681b04a5a547edc16e2899?s=128&d=identicon&r=PG&f=1", "display_name": "John S", "link": "https://stackoverflow.com/users/7197387/john-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 805, "favorite_count": 0, "accepted_answer_id": 44421158, "answer_count": 1, "score": 1, "last_activity_date": 1496863278, "creation_date": 1496863002, "question_id": 44421078, "link": "https://stackoverflow.com/questions/44421078/signalr-calling-hub-method-from-code-behind-ajax-call", "title": "Signalr Calling Hub Method from Code Behind Ajax Call", "body": "<p>I am running the stock signalr example and trying to modify the code and try something differnt. What I am wanting is on a front end button press to call an ajax call and from there call a hub method. When I do this I am not hitting my breakpoint in my hub method</p>\n\n<p>Front end code change:</p>\n\n<pre><code>$.connection.hub.start().done(function () {\n$('#sendmessage').click(function () {\n// Call the Send method on the hub.\n$.ajax({\n\nurl: '/home/MyTest/',\ntype: \"POST\",\nsuccess: function () {\nalert(\"done\");\n}, error: function (jqXHR, exception) {\nalert(\"failed\");\n}\n\n});\n//chat.server.send($('#displayname').val(), $('#message').val());\n// Clear text box and reset focus for next comment.\n$('#message').val('').focus();\n});\n});\n</code></pre>\n\n<p>In HomeController.cs</p>\n\n<pre><code>[HttpPost]\npublic void MyTest()\n{\nvar context = GlobalHost.ConnectionManager.GetHubContext&lt;ChatHub&gt;();\ncontext.Clients.All.send(\"a\",\"b\");\n}\n</code></pre>\n\n<p>ChatHub.cs</p>\n\n<pre><code>public class ChatHub : Hub\n{\npublic void Send(string name, string message)\n{\n// Call the addNewMessageToPage method to update clients.\nClients.All.addNewMessageToPage(name, message);\n}\n}\n</code></pre>\n"}, {"tags": ["c#", "design-patterns"], "comments": [{"owner": {"reputation": 340, "user_id": 1938737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7261dd28404abc2947dad1396d5253f9?s=128&d=identicon&r=PG", "display_name": "leemac", "link": "https://stackoverflow.com/users/1938737/leemac"}, "edited": false, "score": 3, "creation_date": 1496862950, "post_id": 44420988, "comment_id": 75840496, "body": "I think what they mean is talk about a c# pattern, something that is &quot;concrete,&quot; this is just a saying. They may want a tangible, &quot;concrete&quot; example of a pattern. This might explain why you can&#39;t find anything on a concrete pattern. Edit: Any of those listed on dofactory&#39;s website may qualify."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1496862969, "post_id": 44420988, "comment_id": 75840508, "body": "Concrete isn&#39;t a design pattern.  I agree with leemac"}, {"owner": {"reputation": 629, "user_id": 5149679, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-JNKdQGAc_6k/AAAAAAAAAAI/AAAAAAAAAJE/YFkWz23cO8Q/photo.jpg?sz=128", "display_name": "Svet Angelov", "link": "https://stackoverflow.com/users/5149679/svet-angelov"}, "edited": false, "score": 0, "creation_date": 1496863067, "post_id": 44420988, "comment_id": 75840566, "body": "I have never heard about a design pattern by that name.  Are you sure you&#39;re reading the question correctly?  The term concrete is often used around design patterns to describe a class which can be instantiated (not an abstract class)"}, {"owner": {"reputation": 45, "user_id": 4991708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0kyu.jpg?s=128&g=1", "display_name": "Muhammad Sohaib Sultan", "link": "https://stackoverflow.com/users/4991708/muhammad-sohaib-sultan"}, "edited": false, "score": 0, "creation_date": 1496863107, "post_id": 44420988, "comment_id": 75840590, "body": "No I have confirmed that too just like Singleton pattern there is a concrete pattern in c# that&#39;s what my teacher said"}, {"owner": {"reputation": 45, "user_id": 4991708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0kyu.jpg?s=128&g=1", "display_name": "Muhammad Sohaib Sultan", "link": "https://stackoverflow.com/users/4991708/muhammad-sohaib-sultan"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1496863338, "post_id": 44420988, "comment_id": 75840734, "body": "@EdPlunkett can you provide a link to explain it further"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1496863367, "post_id": 44420988, "comment_id": 75840748, "body": "@Ra&#39;sAlGhul That was a witticism. Sorry to falsely get your hopes up! This question is hit number four on Google for &quot;C# concrete design pattern&quot;. There is no such design pattern in common usage."}, {"owner": {"reputation": 45, "user_id": 4991708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0kyu.jpg?s=128&g=1", "display_name": "Muhammad Sohaib Sultan", "link": "https://stackoverflow.com/users/4991708/muhammad-sohaib-sultan"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1496863512, "post_id": 44420988, "comment_id": 75840842, "body": "@EdPlunkett  thanks\u200b"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1496863527, "post_id": 44420988, "comment_id": 75840855, "body": "I&#39;m curious what the professor is referring to.  Could this be a mis-translation?"}, {"owner": {"reputation": 45, "user_id": 4991708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0kyu.jpg?s=128&g=1", "display_name": "Muhammad Sohaib Sultan", "link": "https://stackoverflow.com/users/4991708/muhammad-sohaib-sultan"}, "edited": false, "score": 0, "creation_date": 1496863820, "post_id": 44420988, "comment_id": 75841003, "body": "I don&#39;t know his words were &quot;you have to present on concrete design pattern in c#. It is a pattern in c# just like Singleton and abstract factory pattern&quot;"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1496863955, "post_id": 44420988, "comment_id": 75841097, "body": "Well, none of us have ever heard of this pattern. It isn&#39;t in my design patterns book, either."}, {"owner": {"reputation": 1196, "user_id": 183068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dbe193e72dd6ef2665ed1bde1098e2b?s=128&d=identicon&r=PG&f=1", "display_name": "Bob G", "link": "https://stackoverflow.com/users/183068/bob-g"}, "edited": false, "score": 0, "creation_date": 1496864031, "post_id": 44420988, "comment_id": 75841138, "body": "Not a thing.  You may want to find a new teacher if he believes it is."}, {"owner": {"reputation": 45, "user_id": 4991708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0kyu.jpg?s=128&g=1", "display_name": "Muhammad Sohaib Sultan", "link": "https://stackoverflow.com/users/4991708/muhammad-sohaib-sultan"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1496864049, "post_id": 44420988, "comment_id": 75841150, "body": "@Amy thanks for your\u200b help after all you have given me a point to stand on"}, {"owner": {"reputation": 18818, "user_id": 210709, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/51074bf9fb1da9546246986784cfbdd9?s=128&d=identicon&r=PG", "display_name": "IAbstract", "link": "https://stackoverflow.com/users/210709/iabstract"}, "edited": false, "score": 0, "creation_date": 1496868929, "post_id": 44420988, "comment_id": 75843720, "body": "The only possibility I can think of is that the design pattern referenced should be the Factory Pattern."}, {"owner": {"reputation": 45, "user_id": 4991708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0kyu.jpg?s=128&g=1", "display_name": "Muhammad Sohaib Sultan", "link": "https://stackoverflow.com/users/4991708/muhammad-sohaib-sultan"}, "edited": false, "score": 0, "creation_date": 1496872398, "post_id": 44420988, "comment_id": 75845149, "body": "Is it by any chance related to concept of concrete and abstract classes. Just asking"}], "owner": {"reputation": 45, "user_id": 4991708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0kyu.jpg?s=128&g=1", "display_name": "Muhammad Sohaib Sultan", "link": "https://stackoverflow.com/users/4991708/muhammad-sohaib-sultan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496862927, "creation_date": 1496862743, "last_edit_date": 1496862927, "question_id": 44420988, "link": "https://stackoverflow.com/questions/44420988/what-is-concrete-pattern-in-c", "title": "What is concrete pattern in C#", "body": "<p>I have a task in my University\u200b to talk about concrete design pattern in c# I have searched a lot about it and found </p>\n\n<p><a href=\"http://www.dofactory.com/net/design-patterns\" rel=\"nofollow noreferrer\">http://www.dofactory.com/net/design-patterns</a></p>\n\n<p>Although it has information about all the design patterns but nothing about concrete pattern so please tell that is there really a design pattern named concrete pattern in c# or not or is it another name for a pattern given in the the link above. Please help.</p>\n"}, {"tags": ["c#", "asp.net-web-api", "eventsource"], "comments": [{"owner": {"reputation": 1776, "user_id": 2289430, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/oEWpq.jpg?s=128&g=1", "display_name": "ibubi", "link": "https://stackoverflow.com/users/2289430/ibubi"}, "edited": false, "score": 0, "creation_date": 1496867296, "post_id": 44420910, "comment_id": 75842912, "body": "I have used <code>PushStreamContent</code> in one of my projects to stream audio through web api endpoint. It is working w/o any trouble.In fact, I could&#39;t catch what your code aims :)"}, {"owner": {"reputation": 700, "user_id": 1208630, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/QBADm.jpg?s=128&g=1", "display_name": "bunny1985", "link": "https://stackoverflow.com/users/1208630/bunny1985"}, "reply_to_user": {"reputation": 1776, "user_id": 2289430, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/oEWpq.jpg?s=128&g=1", "display_name": "ibubi", "link": "https://stackoverflow.com/users/2289430/ibubi"}, "edited": false, "score": 0, "creation_date": 1496904088, "post_id": 44420910, "comment_id": 75854733, "body": "Well it&#39;s another usecase. I want to use EventsSource - I want to send messages from ServiceBus directly to the frontend. I know that I can use WebSocket to accomplish this task, but PushStreamContent  is lighter i gues?"}], "answers": [{"tags": [], "owner": {"reputation": 11745, "user_id": 530630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OS1Ww.jpg?s=128&g=1", "display_name": "Jonathan Amend", "link": "https://stackoverflow.com/users/530630/jonathan-amend"}, "is_accepted": false, "score": 1, "last_activity_date": 1576778592, "creation_date": 1576778592, "answer_id": 59414803, "question_id": 44420910, "link": "https://stackoverflow.com/questions/44420910/c-pushstreamcontent-flush-bug/59414803#59414803", "title": "c# PushStreamContent flush bug?", "body": "<p>I don't quite understand why, but it works for me when sending <code>\\r\\n\\r\\n</code> (even though the spec says <code>\\n\\n</code>). For some reason, I only have this problem with IIS, because I don't need this workaround in IIS Express or OWIN self host.</p>\n\n<pre><code>sw.Write(\"data: \" + data + \"\\r\\n\\r\\n\");\nsw.Flush();\n</code></pre>\n"}], "owner": {"reputation": 700, "user_id": 1208630, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/QBADm.jpg?s=128&g=1", "display_name": "bunny1985", "link": "https://stackoverflow.com/users/1208630/bunny1985"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 608, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576778592, "creation_date": 1496862467, "question_id": 44420910, "link": "https://stackoverflow.com/questions/44420910/c-pushstreamcontent-flush-bug", "title": "c# PushStreamContent flush bug?", "body": "<p>Did anyone of you tried to use PushStreamContent with WebApi?\nI've noticed strange behavior. \nHere is my code ( crappy one I know - Just Testing ) </p>\n\n<pre><code>public class MsgModel\n    {\n        public MsgModel()\n        {\n            this.date = DateTime.Now.ToShortTimeString();\n        }\n        public string msg { get; set; }\n        public string date { get; set; }\n    }\n    [RoutePrefix(\"rx\")]\n    public class RxController : ApiController\n    {\n        private static ConcurrentDictionary&lt; string, Stream&gt; clients = new ConcurrentDictionary&lt; string, Stream&gt;();\n\n        [HttpGet]\n        [Route(\"subscribe\")]\n        public async Task&lt;HttpResponseMessage&gt; Subscribe(HttpRequestMessage request)\n        {\n            var response = request.CreateResponse();\n            response.Content = new PushStreamContent(async (a, b, c) =&gt; { await OnStreamAvailable(a, b, c); }, \"text/event-stream\");\n\n            return response;\n        }\n\n        private static  void WriteEventToStreamAsync(Guid id , string type , string data , Stream stream )\n        {\n            try\n            {\n                StreamWriter sw = new StreamWriter(stream);\n\n                sw.Write(\"event: \" + type + \"\\n\");\n                sw.Write(\"id: \" + Guid.NewGuid() + \"\\n\");\n                sw.Write(\"data: \" + data + \"\\n\\n\");\n                sw.Flush();\n                stream.Flush();\n            }\n            catch(Exception e)\n            {\n                StreamWriter ignore;\n                //clients.TryRemove( out ignore);\n            }\n        }\n\n\n\n        [HttpPost]\n        [Route(\"msg\")]\n        public IHttpActionResult Push(MsgModel model)\n        {\n\n            foreach (var clientPair in clients)\n            {\n                var client = clientPair.Value;\n                try\n                {\n\n                    WriteEventToStreamAsync(Guid.NewGuid(), \"push\", JsonConvert.SerializeObject(model), client);\n                }\n                catch (Exception)\n                {\n                    Stream ignore;\n                    clients.TryRemove(clientPair.Key ,out  ignore);\n                }\n            }\n            return Ok();\n        }\n\n\n\n\n        private async Task OnStreamAvailable(Stream stream, HttpContent content, TransportContext context)\n        {\n\n\n            WriteEventToStreamAsync(Guid.NewGuid(), \"welcome\", JsonConvert.SerializeObject(new MsgModel() { msg = \"Welcome\" }), stream);\n            var userName = this.User.Identity.Name;\n            Stream ignore;\n            clients.TryRemove(userName,out  ignore);\n            clients.TryAdd(this.User.Identity.Name  , stream);\n        }\n    } \n</code></pre>\n\n<p>And now... It seems that everything works, but in fact when I try to consume it on frontend I get most of the time one message behind current state. \nSo at first I have empty stream ( on frontend side), then after calling \"Push\" Method I Get \"Welcome\" Msg and so on. \nThe behavior remains the same when I'm using async methods. \nMoreover its not deterministic. Sometimes I get All messages, sometimes one behind. </p>\n\n<p>Pls. don;t kill me for this question ;) I might be missing something. </p>\n"}, {"tags": ["c#", "wpf", "writablebitmap"], "answers": [{"tags": [], "owner": {"reputation": 1826, "user_id": 519568, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2d77dac9b768c1f5e134afda30314c07?s=128&d=identicon&r=PG", "display_name": "David Jeske", "link": "https://stackoverflow.com/users/519568/david-jeske"}, "is_accepted": false, "score": 2, "last_activity_date": 1496910455, "last_edit_date": 1496910455, "creation_date": 1496871546, "answer_id": 44423217, "question_id": 44420825, "link": "https://stackoverflow.com/questions/44420825/howto-efficiently-have-a-writablebitmap-which-matches-a-wpf-control-pixels-11/44423217#44423217", "title": "howto efficiently have a WritableBitmap which matches a WPF control pixels 1:1?", "body": "<p>My biggest discovery is that I don't need to use a bitmap to get the results I want. I can create a <code>DrawingGroup</code> as a backingstore, draw this to the drawing context during OnRender, and then still update it later whenever I want. </p>\n\n<pre><code>DrawingGroup backingStore = new DrawingGroup();\n\nprotected override void OnRender(DrawingContext drawingContext) {      \n    base.OnRender(drawingContext);            \n\n    Render(); // put content into our backingStore\n    drawingContext.DrawDrawing(backingStore);\n}\n\n// I can call this anytime, and it'll update my visual drawing\n// without ever triggering layout or OnRender()\nprivate void Render() {            \n    var drawingContext = backingStore.Open();\n    Render(drawingContext);\n    drawingContext.Close();            \n}\n</code></pre>\n\n<hr>\n\n<p>I also learned that <code>StreamGeometry</code> with <code>Freeze()</code> is notably faster than other drawing methods, as it optimizes for no animation.</p>\n\n<hr>\n\n<p>Related to my bitmap attempts -- the correct way to be notified when the Image Control size changes is to listen to <code>SizeChanged</code>, which fires only when the control changes size. In this event handler, I had to make a new WriteableBitmap of size <code>Image.RenderSize</code> and assign it to the Image.Source. </p>\n\n<p>Also, in the Image Control instantiation, I had to set it to <code>Stretch=\"Fill\"</code> to cause it to fill it's containing box completely, instead of maintaining the image's aspect ratio.</p>\n\n<p><code>LayoutUpdated</code> is fired every time the control content updates, which is what was causing my original performance problem.</p>\n\n<p>I also found that I can use <code>RenderTargetBitmap</code> instead of <code>WriteableBitmap</code>, and then I can issue WPF drawing commands to it, instead of using a GDI Graphics context. </p>\n\n<p>..and I can catch the <code>CompositionTarget.Rendering</code> event to cause it to be redrawn every frame.</p>\n"}], "owner": {"reputation": 1826, "user_id": 519568, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2d77dac9b768c1f5e134afda30314c07?s=128&d=identicon&r=PG", "display_name": "David Jeske", "link": "https://stackoverflow.com/users/519568/david-jeske"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1496910455, "creation_date": 1496862171, "question_id": 44420825, "link": "https://stackoverflow.com/questions/44420825/howto-efficiently-have-a-writablebitmap-which-matches-a-wpf-control-pixels-11", "title": "howto efficiently have a WritableBitmap which matches a WPF control pixels 1:1?", "body": "<p>I'm using WritableBitmap to draw fast 2d graphics in WPF. </p>\n\n<p>The problem is, my WritableBitmap does not match the pixel size of the Image control 1:1. When I try to make a new WritableBitmap based on size-change events of the Image control, the performance is terrible. </p>\n\n<p>How can I render a WPF control's pixels 1:1 with a WritableBitmap?</p>\n\n<p>You can see both WPF and Windows.Forms versions of <a href=\"https://github.com/jeske/SoundLevelMonitor\" rel=\"nofollow noreferrer\">my code on github</a>.</p>\n\n<p>The application is a tiny mini-app called SoundLevelMonitor, which monitors audio levels of applications and paints a continuously moving graph with a legend. Below is a screenshot of the Windows.Forms version. The WPF version is basically the same, except the Image is a fixed size and stretched to fit the window. </p>\n\n<p><a href=\"https://i.stack.imgur.com/TGPTb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TGPTb.png\" alt=\"enter image description here\"></a></p>\n\n<p>Before I started using WritableBitmap, I tried using UIElement, but the drawing performance was horrible. One problem is that triggering repaint requires <code>InvalidateVisual()</code> which causes a slow re-layout. The other problem is that drawing text with DrawingContext is extremely slow. </p>\n\n<p>So I found this <a href=\"https://stackoverflow.com/questions/88488/getting-a-drawingcontext-for-a-wpf-writeablebitmap/797519#797519\">suggestion to write to WriteableBitmap using GDI</a>, and it actually works really well, and is SUPER fast.  (the WPF version feels more responsive than the windows forms version!)</p>\n\n<p>However, the WriteableBitmap is a fixed-sized backingstore which WPF is scaling  up to fit in the Image control. I want the WriteableBitmap to be a 1:1 pixel backing store for the control, even when the control is resized. </p>\n\n<p>I tried to use both <code>OnRender</code> and <code>LayoutUpdated</code> to trigger creating a new size-matched WriteableBitmap, but both of them were incredibly slow. Probably because setting Image.Source is triggering a relayout.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["c#", "unit-testing", "selenium", "null", "argumentnullexception"], "comments": [{"owner": {"reputation": 1054, "user_id": 2146761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88d3bc29238e60d795bd6644a548358d?s=128&d=identicon&r=PG", "display_name": "chris-crush-code", "link": "https://stackoverflow.com/users/2146761/chris-crush-code"}, "edited": false, "score": 0, "creation_date": 1496863843, "post_id": 44420728, "comment_id": 75841022, "body": "shouldn&#39;t you passing valuenum into the constructor here to set it? public ValueCommand()         {             this.valuenum = valuenum;         }"}], "answers": [{"tags": [], "owner": {"reputation": 5483, "user_id": 4607317, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/af899d41b150721c39677e9ddf19daa7?s=128&d=identicon&r=PG&f=1", "display_name": "budi", "link": "https://stackoverflow.com/users/4607317/budi"}, "is_accepted": true, "score": 1, "last_activity_date": 1496870278, "creation_date": 1496870278, "answer_id": 44422921, "question_id": 44420728, "link": "https://stackoverflow.com/questions/44420728/vs-selenium-system-argumentnullexception-text-cannot-be-null-parameter-name/44422921#44422921", "title": "VS Selenium - System.ArgumentNullException: text cannot be null Parameter name: text", "body": "<p>You forgot to pass in <code>string valuenum</code> in the constructor of the <code>ValueCommand</code> class:</p>\n\n<hr>\n\n<p>Within <code>DMPage</code> class:</p>\n\n<pre><code>public static ValueCommand EnterValue(string valuenum)\n{\n    return new ValueCommand(valuenum);\n}\n</code></pre>\n\n<p>Within <code>ValueCommand</code> class:</p>\n\n<pre><code>public ValueCommand(string valuenum)\n{\n    this.valuenum = valuenum;\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 2565973, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/232455cafa4274fbc570dca3225ad1bf?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Allen", "link": "https://stackoverflow.com/users/2565973/chris-allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2592, "favorite_count": 0, "accepted_answer_id": 44422921, "answer_count": 1, "score": 0, "last_activity_date": 1555841449, "creation_date": 1496861794, "question_id": 44420728, "link": "https://stackoverflow.com/questions/44420728/vs-selenium-system-argumentnullexception-text-cannot-be-null-parameter-name", "title": "VS Selenium - System.ArgumentNullException: text cannot be null Parameter name: text", "body": "<p>I'm writing (Selenium) Unit Tests and am running into a NULL issue. This code was previously running and working, but now is failing and not entering values into the needed fields. Can anyone give me some suggestions as to what may be wrong?</p>\n\n<p>Unit Test Objective: Navigate Web Service UI and enter a value that should display results.</p>\n\n<p><strong>DMPage.cs</strong></p>\n\n<pre><code>using System;\nusing OpenQA.Selenium;\n\nnamespace Framework.WebServicePages\n{\n    public class DMPage\n    { \n        public static void GoTo()\n        {\n            WebServiceDriver.Instance.Navigate().GoToUrl(\"URL\");\n        }\n\n        public static void Wait()\n        {\n            WebServiceDriver.Instance.Manage().Timeouts().ImplicitWait = TimeSpan.FromSeconds(20);\n        }\n\n        public static string IsAt\n        {\n            get\n            {\n                var title = WebServiceDriver.Instance.FindElement(By.XPath(\"\"));\n                if (title != null)\n                    return title.GetAttribute(\"Title\");\n                return string.Empty;\n            }\n        }\n\n        public static ValueCommand EnterValue(string valuenum)\n        {\n            return new ValueCommand();\n        }\n    }\n\n    public class ValueCommand\n    {\n        private readonly string valuenum;\n\n        public ValueCommand()\n        {\n            this.valuenum = valuenum;\n        }\n\n        public void SearchValue()\n        {\n            var inputValue = WebServiceDriver.Instance.FindElement(By.XPath(\"\"));\n            inputValue.SendKeys(valuenum);\n\n            var submitValue = WebServiceDriver.Instance.FindElement(By.XPath(\"\"));\n            submitValue.Click();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>DMTests.cs</strong></p>\n\n<pre><code>using System;\nusing Microsoft.VisualStudio.TestTools.UnitTesting;\nusing ValueMedAutomation.WebServicePages;\n\nnamespace Tests.WebServiceTestScripts\n{\n    [TestClass]\n    public class DMTests\n    {\n\n        [TestInitialize]\n        public void Init()\n        {\n            WebServiceDriver.Initialize();\n        }\n\n        [TestMethod]\n        public void DM_Meds()\n        {\n            DMPage.GoTo();\n            DMPage.Wait();\n            DMPage.EnterValue(\"123456789\").SearchValue();\n            DMPage.Wait();\n\n            Assert.AreEqual(DMPage.IsAt, \"TEST\", \"Value failed.\");\n        }\n\n        [TestCleanup]\n        public void Cleanup()\n        {\n            WebServiceDriver.Close();\n        }\n\n    }\n}\n</code></pre>\n\n<p><strong>Errors After Running Unit Test</strong></p>\n\n<ol>\n<li>Message: Test method Tests.WebServiceTestScripts.DMTests.DM_Med threw exception: <br>\nSystem.ArgumentNullException: text cannot be null\nParameter name: text</li>\n<li>StackTrace:<br>\nRemoteWebElement.SendKeys(string text)<br>\nValueCommand.SearchValue()<br>\nDMTests.DM_Med()</li>\n<li>CS1717 Assignment made to same variable; did you mean to assign something else?</li>\n</ol>\n\n<p><strong>Errors When Debugging</strong></p>\n\n<p>The following lines break when running Debug:<br></p>\n\n<pre><code>L41    this.valuenum = valuenum;\n\nL47    inputValue.SendKeys(valuenum);\n</code></pre>\n"}, {"tags": ["c#", "mergesort"], "comments": [{"owner": {"reputation": 844, "user_id": 3775798, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/EOqLt.png?s=128&g=1", "display_name": "Knowledge Cube", "link": "https://stackoverflow.com/users/3775798/knowledge-cube"}, "edited": false, "score": 1, "creation_date": 1496862626, "post_id": 44420725, "comment_id": 75840298, "body": "This kind of question would be a good fit for <a href=\"https://codereview.stackexchange.com\">Code Review</a>."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7594256, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/912c7f1fc640a8841d695f0ea9aa0f58?s=128&d=identicon&r=PG&f=1", "display_name": "Anyon", "link": "https://stackoverflow.com/users/7594256/anyon"}, "edited": false, "score": 0, "creation_date": 1497019436, "post_id": 44420775, "comment_id": 75917816, "body": "Your solution is very clever, I didn&#39;t realize such methods even existed. However I am going to stick to the Loop method"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "reply_to_user": {"reputation": 33, "user_id": 7594256, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/912c7f1fc640a8841d695f0ea9aa0f58?s=128&d=identicon&r=PG&f=1", "display_name": "Anyon", "link": "https://stackoverflow.com/users/7594256/anyon"}, "edited": false, "score": 0, "creation_date": 1497019529, "post_id": 44420775, "comment_id": 75917898, "body": "@Anyon As I said, I think that&#39;s wise. But you&#39;re going to need to initialize <code>B</code> and <code>C</code>, and I think it&#39;s very likely that you want them to be <code>List&lt;int&gt;</code>."}], "tags": [], "owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "is_accepted": false, "score": 0, "last_activity_date": 1496862960, "last_edit_date": 1496862960, "creation_date": 1496861968, "answer_id": 44420775, "question_id": 44420725, "link": "https://stackoverflow.com/questions/44420725/implementing-an-integer-merge-sort-in-c/44420775#44420775", "title": "Implementing an integer merge sort in C#", "body": "<p>You're declaring references to arrays, but never initializing them. <code>B</code> and <code>C</code> will be null and you'll get an exception if you try to do anything with them. </p>\n\n<pre><code>        //  Declares *reference* to sub array, and creates it as well.\n        int[] B = new int[A.Length];\n\n        //  Declares *reference* to sub array, and creates it as well.\n        int[] C = new int[A.Length];\n</code></pre>\n\n<p>You could use <code>List&lt;int&gt;</code> instead of arrays. </p>\n\n<p>The thing is, you'll only be using the first half of <code>B</code> and the second half of <code>C</code>. Is that what you want? If you want <code>B</code> to be <em>just</em> the first half of  <code>A</code>, and <code>C</code> to be <em>just</em> the last half of <code>A</code>, do this. You can use <code>List&lt;int&gt;</code> pretty much identically to an array, but you can <code>Add()</code> to it, and it has a <code>Count</code> property instead of a <code>Length</code> property:</p>\n\n<pre><code>        var B = new List&lt;int&gt;();\n        var C = new List&lt;int&gt;();\n\n        for (int x = 0; x &lt; A.Length ; x++)     //Performs an action for every item item in the array\n        {\n            if (x &lt; A.Length / 2)               //selects the first half of the input array and assigns it to sub-Array B\n            {\n                B.Add(A[x]);\n            }\n            if(x &gt; A.Length / 2)                //Selects the second half of the input array and assigns it to sub-Array C\n            {\n                C.Add(A[x]);\n            }\n        }\n</code></pre>\n\n<p>Another thing: I'd put an <code>else</code> before the second <code>if</code> here, for clarity more than runtime efficiency. </p>\n\n<p>But what happens if x is <em>equal</em> to <code>A.Length / 2</code>? If that case is handled in code you didn't include in your question, never mind. </p>\n\n<pre><code>            if (x &lt; A.Length / 2)               //selects the first half of the input array and assigns it to sub-Array B\n            {\n                B.Add(A[x]);\n            }\n            else if(x &gt; A.Length / 2)                //Selects the second half of the input array and assigns it to sub-Array C\n            {\n                C.Add(A[x]);\n            }\n</code></pre>\n\n<p>You could, howerver, simplify that code as follows:</p>\n\n<pre><code>if (A.Length % 2 == 0)\n{\n    //  Take the first half and make an array out of that sequence\n    var B = A.Take(A.Length / 2).ToArray();\n\n    //  Skip the first half and make an array out of the remaining sequence\n    var C = A.Skip(A.Length / 2).ToArray();\n}\n</code></pre>\n\n<p>But if you're meant to be demonstrating a grasp of basic programming fundamentals rather than C# trivia, your loop method is best. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8112033, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153432874660967/picture?type=large", "display_name": "Diego", "link": "https://stackoverflow.com/users/8112033/diego"}, "is_accepted": false, "score": 0, "last_activity_date": 1496863738, "creation_date": 1496863738, "answer_id": 44421284, "question_id": 44420725, "link": "https://stackoverflow.com/questions/44420725/implementing-an-integer-merge-sort-in-c/44421284#44421284", "title": "Implementing an integer merge sort in C#", "body": "<p>You are getting errors because you are trying to use an unassigned variable (arrays B and C). If you need to understand how arrays work go <a href=\"https://msdn.microsoft.com/en-us/library/aa288453(v=vs.71).aspx\" rel=\"nofollow noreferrer\">here</a>.\nIf you initialize <code>int[B] = new int[A.Length / 2];</code> then your code will compile without errors.</p>\n\n<p>Your code should look like this, just in order to work, I did not refactor anything, just did the minimum to make it work:</p>\n\n<pre><code> public static void MergeSort(int[] A) // WIP\n        {\n            if (A.Length % 2 == 0)     //Checks if input array is even\n            {\n                int[] B = new int[A.Length / 2];                //Declares sub array\n                int[] C = new int[A.Length / 2];                //Declares sub array\n                for (int x = 0; x &lt; A.Length; x++)     //Performs an action for every item item in the array\n                {\n                    if (x &lt; A.Length / 2)               //selects the first half of the input array and assigns it to sub-Array B\n                    {\n                        B[x] = A[x];\n                    }\n                    if (x &gt; A.Length / 2)                //Selects the second half of the input array and assigns it to sub-Array C\n                    {\n                        C[x] = A[x];\n\n                    }\n                }\n\n            }\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 7594256, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/912c7f1fc640a8841d695f0ea9aa0f58?s=128&d=identicon&r=PG&f=1", "display_name": "Anyon", "link": "https://stackoverflow.com/users/7594256/anyon"}, "is_accepted": false, "score": 0, "last_activity_date": 1497019534, "creation_date": 1497019534, "answer_id": 44460708, "question_id": 44420725, "link": "https://stackoverflow.com/questions/44420725/implementing-an-integer-merge-sort-in-c/44460708#44460708", "title": "Implementing an integer merge sort in C#", "body": "<p>Now my main issue is how to know how many arrays I need to create such that all arrays get broken down into arrays of size one, (When original input is unknown) I feel as though this is not quite an optimal implementation</p>\n"}], "owner": {"reputation": 33, "user_id": 7594256, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/912c7f1fc640a8841d695f0ea9aa0f58?s=128&d=identicon&r=PG&f=1", "display_name": "Anyon", "link": "https://stackoverflow.com/users/7594256/anyon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1497019534, "creation_date": 1496861766, "last_edit_date": 1496871864, "question_id": 44420725, "link": "https://stackoverflow.com/questions/44420725/implementing-an-integer-merge-sort-in-c", "title": "Implementing an integer merge sort in C#", "body": "<p>Recently got a bubble sort algorithm functioning, and decided I would try a merge sort algorithm, I'm trying to write it from scratch as a personal challenge, I feel as though my logic is fundamentally flawed in it however, Not knowing where else to turn for advice, I welcome any input. I feel like C# doesn't like my declaration of sub-arrays, they do seem to be an improper solution also</p>\n\n<pre><code>public static void MergeSort(int[] A) // WIP\n    {\n        if (A.Length % 2 == 0 )     //Checks if input array is even\n        {\n            int[] B;                //Declares sub array\n            int[] C;                //Declares sub array\n            for (int x = 0; x &lt; A.Length ; x++)     //Performs an action for every item item in the array\n            {\n                if (x &lt; A.Length / 2)               //selects the first half of the input array and assigns it to sub-Array B\n                {\n                    B[x] = A[x];\n                }\n                if(x &gt; A.Length / 2)                //Selects the second half of the input array and assigns it to sub-Array C\n                {\n                    C[x] = A[x];\n\n                }\n            }\n\n        }\n</code></pre>\n"}, {"tags": ["c#", "winforms", "user-controls"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1496873093, "post_id": 44420718, "comment_id": 75845443, "body": "Sounds like it is all a big ball of wax.  Adding structure to a program has to be done up front.  Beyond scratching v0.1 as a learning exercise, do consider the quick fix.  What you need as a tab control, behaves very well in the designer, but without the tabs.  <a href=\"https://stackoverflow.com/a/6954785/17034\">That is easy to do</a>."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 5632613, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/442a4fee7aa506f7a70f038ef5f87ce7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Quill", "link": "https://stackoverflow.com/users/5632613/peter-quill"}, "edited": false, "score": 0, "creation_date": 1496910987, "post_id": 44426316, "comment_id": 75858980, "body": "1. I tried setting the modifiers to public, but still no sugar. 2. As for the rest, three button is on the main form, so I tried as you&#39;ve shown and I tried the other way around, but still a no go.  But thanks anyway for trying to help :)"}], "tags": [], "owner": {"reputation": 71, "user_id": 5371848, "user_type": "registered", "profile_image": "https://graph.facebook.com/1034516463259592/picture?type=large", "display_name": "Rogger T&#226;n", "link": "https://stackoverflow.com/users/5371848/rogger-t%c3%a2n"}, "is_accepted": false, "score": 0, "last_activity_date": 1496893933, "creation_date": 1496893933, "answer_id": 44426316, "question_id": 44420718, "link": "https://stackoverflow.com/questions/44420718/access-a-listview-located-in-a-usercontrol-from-the-mainform-in-winforms/44426316#44426316", "title": "Access a ListView located in a UserControl from the MainForm in Winforms", "body": "<p>Quite many questions.</p>\n\n<ol>\n<li>You can gain access to any controls in UC. Just change the property \"Modifiers\" of the ListView in your UC to \"Public\".</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/lMZBG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lMZBG.png\" alt=\"Example1\"></a></p>\n\n<ol start=\"2\">\n<li><p>Set that method to public. Do not use keyword \"static\". Each control\nin your form is an instance of a class, not a static class actually. In the main form, create a button and double click on it in VS designer. A method will automatically generated, something like <em>private void button1_Click</em>. When the button is clicked, all of the code lines in button1_Click will run.</p></li>\n<li><p>Create a public event handler of your user control, then pass the method in main to the handler. </p></li>\n</ol>\n\n<p>So the UC class will be similar to this:</p>\n\n<pre><code>public event EventHandler button_UC_Click_handler;\n\n    public UserControl1()\n    {\n        InitializeComponent();\n    }\n\n    private void button_UC_Click(object sender, EventArgs e)\n    {\n        button_UC_Click_handler.Invoke(sender, e);\n    }\n</code></pre>\n\n<p>In main form:</p>\n\n<pre><code>public MainForm()\n    {\n        InitializeComponent();\n        userControl11.button_UC_Click_handler += UserControl11_button_UC_Click_handler;\n    }\n\n    private void UserControl11_button_UC_Click_handler(object sender, EventArgs e)\n    {\n        MessageBox.Show(\"You have clicked it!\");\n    }\n</code></pre>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 55, "user_id": 5632613, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/442a4fee7aa506f7a70f038ef5f87ce7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Quill", "link": "https://stackoverflow.com/users/5632613/peter-quill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500859782, "creation_date": 1496861736, "last_edit_date": 1500859769, "question_id": 44420718, "link": "https://stackoverflow.com/questions/44420718/access-a-listview-located-in-a-usercontrol-from-the-mainform-in-winforms", "title": "Access a ListView located in a UserControl from the MainForm in Winforms", "body": "<p>I have an app that uses a side menu, and for each button (there are 3) on the left side menu, it changes the pages shown.</p>\n\n<p>I tried doing it with multiple panels, but it's a nightmare to maintain in designer, and it's probably not a very good programming habit, I expect.</p>\n\n<p>So I search and found what seemed to be a great idea: <code>UserControl</code>.\nBut as usual, it's not that simple (for a badly self-taught guy like me)</p>\n\n<p>The general flow of the program is as follows:</p>\n\n<ul>\n<li>a Btn_uc1_Check button that gathers informations and displays them in a uc1_ListView,</li>\n<li>a Btn_uc2_Seek button that gathers informations on the net based on the uc1_ListView , and displays them on uc2_ListView,</li>\n<li>a Btn_uc3_compile that compiles the info from uc2_ListView into a file,</li>\n<li>a Clear button that clears the ListView depending on the UserControl on screen.</li>\n</ul>\n\n<p>Now to the problem:</p>\n\n<ul>\n<li>How on earth do I gain access to a ListView located in a UserControl to be able to read, clear, and add items from the MainFrom or from another UserControl?</li>\n</ul>\n\n<p>I searched and honestly found nothing corresponding to what I needed?</p>\n"}, {"tags": ["c#", "fluent-nhibernate"], "comments": [{"owner": {"reputation": 180, "user_id": 7888031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89cb7c4dbda6afe637b66ab0505be552?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Chudasama", "link": "https://stackoverflow.com/users/7888031/mukesh-chudasama"}, "edited": false, "score": 0, "creation_date": 1499947108, "post_id": 44420584, "comment_id": 77132123, "body": "check this if it helps - <a href=\"https://stackoverflow.com/questions/9108083/fluent-nhibernate-many-to-many-mapping-way\" title=\"fluent nhibernate many to many mapping way\">stackoverflow.com/questions/9108083/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1037, "user_id": 6870620, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9a3e97ef0e1d1c301425d7fc89cb2405?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/6870620/dominik"}, "edited": false, "score": 0, "creation_date": 1500290027, "post_id": 45105198, "comment_id": 77254031, "body": "You should not use contains on the object isself but do !Competitors.Any(x =&gt; x.Id == competitor.Id). Reason: If the 2 objects are from different sessions you &#39;ll get different objects/references from nHibernate and the Contains will return false.  The methods are called convinient methods and are best practice ATM"}, {"owner": {"reputation": 4511, "user_id": 505748, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/78fa9f1611d9fa7ee0d4468af481fda4?s=128&d=identicon&r=PG&f=1", "display_name": "Uwe Hafner", "link": "https://stackoverflow.com/users/505748/uwe-hafner"}, "reply_to_user": {"reputation": 1037, "user_id": 6870620, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9a3e97ef0e1d1c301425d7fc89cb2405?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/6870620/dominik"}, "edited": false, "score": 0, "creation_date": 1500290425, "post_id": 45105198, "comment_id": 77254337, "body": "@Dominik: Thanks. I changed it to your recommendation."}, {"owner": {"reputation": 8246, "user_id": 324516, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KvVGV.jpg?s=128&g=1", "display_name": "Ryan Ternier", "link": "https://stackoverflow.com/users/324516/ryan-ternier"}, "edited": false, "score": 0, "creation_date": 1500410034, "post_id": 45105198, "comment_id": 77321682, "body": "Reading this led me to my solution so I&#39;m marking it as an answer - thanks"}, {"owner": {"reputation": 4511, "user_id": 505748, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/78fa9f1611d9fa7ee0d4468af481fda4?s=128&d=identicon&r=PG&f=1", "display_name": "Uwe Hafner", "link": "https://stackoverflow.com/users/505748/uwe-hafner"}, "reply_to_user": {"reputation": 8246, "user_id": 324516, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KvVGV.jpg?s=128&g=1", "display_name": "Ryan Ternier", "link": "https://stackoverflow.com/users/324516/ryan-ternier"}, "edited": false, "score": 0, "creation_date": 1500449624, "post_id": 45105198, "comment_id": 77335506, "body": "@RyanTernier Sounds like you did something different? I would be very interested in your solution. I want to use fluentnhibernate in my next project and I usually stumble upon such problems as well."}, {"owner": {"reputation": 8246, "user_id": 324516, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KvVGV.jpg?s=128&g=1", "display_name": "Ryan Ternier", "link": "https://stackoverflow.com/users/324516/ryan-ternier"}, "edited": false, "score": 0, "creation_date": 1500480778, "post_id": 45105198, "comment_id": 77359132, "body": "The system I took over really encapsulated F NHibernate to the point you can&#39;t even write complex linq queries to get the data.  I was trying to do it with only an Issuer entity, without using a Competitor.  THe main difference was when I added a Competitor, I had to then go and add the Issuer as a competitor to the other Issuers. Ex: A &lt;&gt; B, then do B &lt;&gt; A"}], "tags": [], "owner": {"reputation": 4511, "user_id": 505748, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/78fa9f1611d9fa7ee0d4468af481fda4?s=128&d=identicon&r=PG&f=1", "display_name": "Uwe Hafner", "link": "https://stackoverflow.com/users/505748/uwe-hafner"}, "is_accepted": true, "score": 2, "last_activity_date": 1500290351, "last_edit_date": 1500290351, "creation_date": 1500041793, "answer_id": 45105198, "question_id": 44420584, "link": "https://stackoverflow.com/questions/44420584/fluent-nhibernate-many-to-many-mapping-on-a-single-table/45105198#45105198", "title": "Fluent NHibernate: Many to Many mapping on a single table", "body": "<p>I came up with the following solution in my local tests. Actually I am not really satisfied as I would hope for a better support. Maybe there is. If someone finds it please post.</p>\n\n<p>Having a store like this (shrinked down to the relevant parts of competitors):</p>\n\n<pre><code>public class Store\n{\n    public virtual int Id { get; protected set; }\n\n    public virtual IList&lt;Store&gt; Competitors { get; set; }\n}\n</code></pre>\n\n<p>I used the following mapping (same as you):  </p>\n\n<pre><code>HasManyToMany(x =&gt; x.Competitors)\n    .ParentKeyColumn(\"Store_Id\")\n    .ChildKeyColumn(\"Competitor_Id\")\n    .Table(\"CompetitorsMapping\");\n</code></pre>\n\n<p>As you state it does not work with this. But from the examples provided in the Git Repo of fluentnhibernate it wraps the add of the lists anyway.<br>\nThe \"FirstProject\" example does something similar by adding an employee to a store. It first sets the store on the employee and then adds the employee to the Staff of the store (okay a bit different then). But it automatically takes care of dependencies.  </p>\n\n<p>So you could solve your problem by not setting directly but by wrapping the add and remove (From your sample code it looks like you already do that):</p>\n\n<pre><code>public class Store\n{\n    public virtual void AddCompetitor(Store competitor)\n    {\n        if (!Competitors.Any(x =&gt; x.Id == competitor.Id))\n        {\n            competitor.Competitors.Add(this);\n            Competitors.Add(competitor);\n        }\n    }\n\n    public virtual void RemoveCompetitor(Store competitor)\n    {\n        competitor.Competitors.Remove(this);\n        Competitors.Remove(competitor);\n    }\n}\n</code></pre>\n\n<p>What I especially don't like is the contains check on Competitors. Don't know how it performs and behaves. But without you can add the same competitor over and over. Making the list long.  </p>\n\n<p>I am new to fluentnhibernate. Maybe some setting could prevent the double adds automatically. I'd be interested in that setting.</p>\n"}], "owner": {"reputation": 8246, "user_id": 324516, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KvVGV.jpg?s=128&g=1", "display_name": "Ryan Ternier", "link": "https://stackoverflow.com/users/324516/ryan-ternier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 1, "accepted_answer_id": 45105198, "answer_count": 1, "score": 2, "last_activity_date": 1500290351, "creation_date": 1496861266, "last_edit_date": 1499888733, "question_id": 44420584, "link": "https://stackoverflow.com/questions/44420584/fluent-nhibernate-many-to-many-mapping-on-a-single-table", "title": "Fluent NHibernate: Many to Many mapping on a single table", "body": "<p>I have a Table of Companies, and I'm trying to build a matrix of competitors between them.</p>\n\n<p>For example: McDonalds is a Competitor of Wendy's, and vice-versa.</p>\n\n<p>Here's the mappings I've tried:</p>\n\n<pre><code>HasManyToMany(x =&gt; x.Competitors)\n.ParentKeyColumn(\"IssuerID\")\n.ChildKeyColumn(\"CompetitorID\")\n.Table(\"Competitors\")\n.Cascade.All().Not.LazyLoad();\n</code></pre>\n\n<p>as well as:</p>\n\n<pre><code>  Table(\"Issuer\");\n            Id(x =&gt; x.Key).Column(\"Id\").GeneratedBy.Assigned();\n            Map(x =&gt; x.Name).Length(1000);   \n  HasManyToMany(x =&gt; x.Competitors).ParentKeyColumn(\"IssuerID\").ChildKeyColumn(\"CompetitorID\").Table(\"Competitors\").Cascade.All().Not.LazyLoad();\n</code></pre>\n\n<p>When I add a competitor to an Issuer, I can see the correct mapping in the database.</p>\n\n<p>So If I do:</p>\n\n<pre><code>McDonalds.AddCompetitor(Wendys);\n</code></pre>\n\n<p>I will see the correct data in the DB. I will also see the correct DB in the Entities when i get McDonalds using NHibernate.</p>\n\n<p>But, if I return Wendy's from Nhibernate and look at the Competitors object:</p>\n\n<pre><code>Wendys.Competitors\n</code></pre>\n\n<p>I don't see McDonalds.  I can understand why because Wendy's was added to McDonalds as a Child.</p>\n\n<p>How can I modify this so I can view the competitors from both directions?</p>\n"}, {"tags": ["c#", "asp.net", "json", "asp.net-core"], "comments": [{"owner": {"reputation": 1186, "user_id": 2646163, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8d59e89aa9f3bcdd26b9b66e03e4c65c?s=128&d=identicon&r=PG", "display_name": "Doug Dawson", "link": "https://stackoverflow.com/users/2646163/doug-dawson"}, "edited": false, "score": 0, "creation_date": 1496861580, "post_id": 44420551, "comment_id": 75839697, "body": "Have you logged the jsonString variable to verify that it contains valid JSON?"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1496861611, "post_id": 44420551, "comment_id": 75839716, "body": "Possibly there&#39;s a <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">BOM</a> at the beginning of the string.  If so, see for instance <a href=\"https://stackoverflow.com/q/1317700/3744182\">here</a> for suggestions on how to resolve."}, {"owner": {"reputation": 3785, "user_id": 2659189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa5208474e7a4c1b7f5dc483beb9e222?s=128&d=identicon&r=PG", "display_name": "blgrnboy", "link": "https://stackoverflow.com/users/2659189/blgrnboy"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1496862648, "post_id": 44420551, "comment_id": 75840316, "body": "@dbc, you are absolutely correct.  Doing a <code>jsonString = jsonString.Trim(new char[] { &#39;\\uFEFF&#39;, &#39;\\u200B&#39; });</code> resolved this.  Please submit an answer so I can accept."}], "answers": [{"tags": [], "owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "is_accepted": true, "score": 0, "last_activity_date": 1496864376, "creation_date": 1496864376, "answer_id": 44421469, "question_id": 44420551, "link": "https://stackoverflow.com/questions/44420551/deserialize-appsettings-json-with-asp-net-core/44421469#44421469", "title": "Deserialize appsettings.json with ASP.NET Core", "body": "<p>It seems there is a <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">Byte Order Mark</a> at the beginning of the string.  </p>\n\n<p>To strip the BOM, see answers to <a href=\"https://stackoverflow.com/q/1317700/3744182\">this question</a>.  </p>\n\n<p>However, it would be better not to include it in the string to begin with.  If you have a byte array that includes a BOM and do:</p>\n\n<pre><code>var jsonString = Encoding.UTF8.GetString(byteArray);\n</code></pre>\n\n<p>Then the BOM will be included.  But if you read the binary data with a <code>StreamReader</code> then the BOM will be processed and removed:</p>\n\n<pre><code>var jsonString = new StreamReader(new MemoryStream(byteArray)).ReadToEnd();\n</code></pre>\n\n<p>(You could add <code>using</code> statements to that if you prefer, although <code>MemoryStream</code> doesn't actually need to be disposed.)</p>\n\n<p>Or, stream, decrypt and deserialize all at once along the lines of <a href=\"https://stackoverflow.com/a/13947891/3744182\">this answer</a> (for XML) and <a href=\"https://stackoverflow.com/a/32944462/3744182\">this one</a> (for simultaneous decompression and deserialization of JSON).</p>\n"}], "owner": {"reputation": 3785, "user_id": 2659189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa5208474e7a4c1b7f5dc483beb9e222?s=128&d=identicon&r=PG", "display_name": "blgrnboy", "link": "https://stackoverflow.com/users/2659189/blgrnboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1734, "favorite_count": 0, "accepted_answer_id": 44421469, "answer_count": 1, "score": 2, "last_activity_date": 1496864376, "creation_date": 1496861160, "question_id": 44420551, "link": "https://stackoverflow.com/questions/44420551/deserialize-appsettings-json-with-asp-net-core", "title": "Deserialize appsettings.json with ASP.NET Core", "body": "<p>I am doing encryption/decryption of my appsettings.json file within my ASP.NET application.</p>\n\n<p>After decryption, my file is correctly decrypted to the following string:</p>\n\n<p>\ufeff</p>\n\n<pre><code>{\n  \"ConnectionStrings\": {\n    \"IdentityServer4\": \"server=(localdb)\\\\mssqllocaldb;database=IdentityServer4.Quickstart.EntityFramework;trusted_connection=yes\"\n  }\n}\n</code></pre>\n\n<p>I would now like to convert that result to an object, which I attempt to do using the following line of code:</p>\n\n<pre><code>dynamic result = JsonConvert.DeserializeObject(jsonString);\n</code></pre>\n\n<p>When that line executes, I receive the following error:</p>\n\n<pre><code>\"Unexpected character encountered while parsing value: \ufeff. Path '', line 0, position 0.\"\n</code></pre>\n"}, {"tags": ["c#", "multithreading", "memory", "memory-management", "tcp"], "comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1496861589, "post_id": 44420466, "comment_id": 75839701, "body": "It is highly likely that TCP connections are bottlenecked on network or bandwidth and highly unlikely they are bottlenecked on CPU; that means you will probably be reducing performance by creating many threads, not increasing it. You should consider <a href=\"https://msdn.microsoft.com/en-us/library/bbx2eya8(v=vs.110).aspx\" rel=\"nofollow noreferrer\">asynchronous sockets</a> or <a href=\"https://stackoverflow.com/questions/28008978/\">async/await</a>, not threads."}, {"owner": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "reply_to_user": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1496861786, "post_id": 44420466, "comment_id": 75839831, "body": "I would use async/await, but I&#39;m developing on a compact framework that doesn&#39;t support fancy stuff like asynchronous operations"}, {"owner": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "reply_to_user": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1496940290, "post_id": 44420466, "comment_id": 75880366, "body": "@DourHighArch and even using BeginRead starts a new worker thread for each connection, and will therefore will run out of memory eventually when there a lot of connections. I need either a way to read multiple streams with the same thread or detect when attempting to read a new connection will fail due to OOM"}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1496941932, "post_id": 44420466, "comment_id": 75881254, "body": "Where are you getting the idea that \u201cBeginRead starts a new worker thread for each connection\u201d? The docs do not say this, and that is not what the .NET Framework does. You can start one new thread and have it handle all download threads by specifying a separate callback for each connection. A connection is not a thread."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1496942854, "post_id": 44420466, "comment_id": 75881771, "body": "This question is strange; it&#39;s like saying &quot;I&#39;m going to be sending a lot of mail, so I have to hire one secretary per envelope, and that&#39;s really expensive...&quot;  OK, so then <i>don&#39;t do that</i>.  Hire worker threads to do CPU-bound tasks, not I/O bound tasks."}, {"owner": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "reply_to_user": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1496944617, "post_id": 44420466, "comment_id": 75882791, "body": "@DourHighArch From MSDN: <i>Calling the BeginRead method gives you the ability to receive data within a separate execution thread.</i>  <a href=\"https://msdn.microsoft.com/en-us/library/system.net.sockets.networkstream.beginread(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a> Also, I can see them in the debugger."}, {"owner": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1496946589, "post_id": 44420466, "comment_id": 75883805, "body": "@EricLippert I&#39;m not <i>trying</i> to hire worker threads, I&#39;m trying to do asynchronous reads from a stream using <code>BeginRead</code> which apparently creates worker threads at a one to one ratio despite IOCP saying that it won&#39;t"}], "answers": [{"tags": [], "owner": {"reputation": 545, "user_id": 7616709, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPXMl.png?s=128&g=1", "display_name": "Dennis Larisch", "link": "https://stackoverflow.com/users/7616709/dennis-larisch"}, "is_accepted": false, "score": 0, "last_activity_date": 1496861551, "creation_date": 1496861551, "answer_id": 44420668, "question_id": 44420466, "link": "https://stackoverflow.com/questions/44420466/preventing-a-thread-from-being-created-when-memory-is-low/44420668#44420668", "title": "Preventing a thread from being created when memory is low", "body": "<p>Look at this thread <a href=\"https://stackoverflow.com/q/10039296/7616709\">here</a>. It can give you many answers for that. </p>\n\n<p>But you can read your current memory usage of your process like this:</p>\n\n<pre><code>Process currentProcess = Process.GetCurrentProcess();\nlong memorySize = currentProcess.PrivateMemorySize64;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "edited": false, "score": 0, "creation_date": 1496862565, "post_id": 44420735, "comment_id": 75840263, "body": "I was under the impression that threadpools should not be used for blocking operations such as waiting for IO, which is mainly what the processing threads are doing. Is this not the case?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "edited": false, "score": 0, "creation_date": 1496862676, "post_id": 44420735, "comment_id": 75840330, "body": "@Cobalt Indeed, your question implied that it was handling work sent from a connection, not just waiting for a network operation to complete.  Of course, you shouldn&#39;t be using new threads <i>either</i>, for exactly the same reason that you shouldn&#39;t be using the thread pool. It&#39;s a pointless waste of resources to have a thread sitting there doing nothing when you have no work for it to do.  If you want to do something when some IO operation has finished, make the program asynchronous <i>and use no threads at all</i> to do that."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "edited": false, "score": 0, "creation_date": 1496862757, "post_id": 44420735, "comment_id": 75840366, "body": "@Cobalt Note that &quot;processing TCP connections&quot; implies handling the response from a connection, not waiting for a connection to connect or to receive a response, the former being CPU bound work and the latter being IO bound work."}, {"owner": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "edited": false, "score": 0, "creation_date": 1496863289, "post_id": 44420735, "comment_id": 75840703, "body": "I should have said &quot;waiting for data&quot; rather than &quot;processing&quot;. Apologies. And I would prefer to do it with async/await, but I&#39;m developing on a compact framework and async/await are not supported, so I&#39;ve resorted to waiting for reads with threads. Unless there is some way of doing asynchronous reads from a networkstream  on Win CE, CF 3.5"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "edited": false, "score": 0, "creation_date": 1496863432, "post_id": 44420735, "comment_id": 75840790, "body": "@Cobalt I haven&#39;t worked with that framework, but I&#39;m quite certain that it&#39;ll expose <i>some</i> means of performing network operations asynchronously, as it&#39;s typically a requirement of code performing network operations."}, {"owner": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "edited": false, "score": 0, "creation_date": 1496867418, "post_id": 44420735, "comment_id": 75842959, "body": "There is beginRead and endRead, but I am confused as to how to read in a loop with these methods. In the callback that calls EndRead, would BeginRead be called over again until the connection is terminated?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "edited": false, "score": 1, "creation_date": 1496867556, "post_id": 44420735, "comment_id": 75843043, "body": "@Cobalt It&#39;s well beyond the scope of this question to explain how to write an asynchronous program.  Read some tutorials, experiment a bit on your own, and if you&#39;re not able to come up with a solution after doing your due diligence, then consider asking another question on the subject.  Note that, if you do end up asking another question, &quot;how do I do this whole thing asynchronously&quot; is going to be Too Broad."}, {"owner": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "edited": false, "score": 0, "creation_date": 1496939928, "post_id": 44420735, "comment_id": 75880166, "body": "Also, using asynchronous methods <i>still</i> starts a worker thread to perform the async task. So I would still have the problem of running out of memory if there are many connections. Which is the main issue I am trying to solve here."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "edited": false, "score": 0, "creation_date": 1496941806, "post_id": 44420735, "comment_id": 75881196, "body": "@Cobalt No, the asynchronous operation <i>won&#39;t</i> start new threads.  The whole <i>point</i> of using them is that you <i>don&#39;t need a thread at all</i>."}, {"owner": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "edited": false, "score": 0, "creation_date": 1496944523, "post_id": 44420735, "comment_id": 75882720, "body": "Breaking in the debugger while waiting for reads shows that each BeginRead has an associated worker thread. Additionally the MSDN documentation states: <i>Calling the BeginRead method gives you the ability to receive data within a separate execution thread.</i> <a href=\"https://msdn.microsoft.com/en-us/library/system.net.sockets.networkstream.beginread(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "edited": false, "score": 0, "creation_date": 1496944685, "post_id": 44420735, "comment_id": 75882823, "body": "@Cobalt The callback <i>after the operation has finished</i> is going to be run in a thread pool thread (where you can do CPU bound work with the results of the operation, which is exactly what my answer covers, as that&#39;s what you originally asked about).  No thread is used while the network operation is happening."}, {"owner": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "edited": false, "score": 0, "creation_date": 1496945449, "post_id": 44420735, "comment_id": 75883218, "body": "If that is the case, why is it that if I call BeginRead 20 times on different streams and break, there are 20 worker threads visible in the debugger? Are they for callbacks? If BeginRead creates threads for its callback, isn&#39;t it semantics to say that it &quot;doesn&#39;t create threads&quot;?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "edited": false, "score": 0, "creation_date": 1496945522, "post_id": 44420735, "comment_id": 75883261, "body": "@Cobalt I can&#39;t possibly comment on the semantics of code not shown.  And again, if you have a new question to ask, then you should be asking a new question."}, {"owner": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "edited": false, "score": 0, "creation_date": 1496946101, "post_id": 44420735, "comment_id": 75883548, "body": "My question for you is, if BeginRead doesn&#39;t start threads, <i>as you claim</i>, then why does each successive call to BeginRead cause a new worker thread to show up in the debugger? As for the semantics of the code being used, it&#39;s .NET functions straight out of the box, which I posted the doc for.  My code just calls BeginRead and EndRead as per their example."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "edited": false, "score": 0, "creation_date": 1496946533, "post_id": 44420735, "comment_id": 75883767, "body": "@Cobalt And my answer to your question is that I can&#39;t tell you why your code is doing what it is when I don&#39;t know what your code is doing.  There are correct and incorrect ways to perform an asynchronous operations, and many of those incorrect ways will result in you creating a bunch of threads when you don&#39;t need to.  If you want to get an answer to that question you&#39;ll need to ask a new proper question, including enough information for others to reproduce the behavior you&#39;ve described, rather than posting a comment on an unrelated answer with incomplete information."}, {"owner": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "edited": false, "score": 0, "creation_date": 1496946889, "post_id": 44420735, "comment_id": 75883990, "body": "Fair enough, and here&#39;s a link to a better question, if you want to continue trying to hash this out. Thanks for the discussion. <a href=\"https://stackoverflow.com/questions/44439604/continously-reading-from-multiple-tcp-connections-on-cf/44442610?noredirect=1#comment75883814_44442610\" title=\"continously reading from multiple tcp connections on cf\">stackoverflow.com/questions/44439604/&hellip;</a>"}, {"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1497302125, "post_id": 44420735, "comment_id": 76010867, "body": "I didn&#39;t like the question ( it was downvoted as well by someone else but me)"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1497302208, "post_id": 44420735, "comment_id": 76010903, "body": "@baao What didn&#39;t you like about the question, and how do you think that made the answer not helpful?"}, {"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1497302315, "post_id": 44420735, "comment_id": 76010953, "body": "Someone else downvoted the question, so by your definition it was a bad question. That&#39;s why I downvoted your answer, but it must have been a bad one, by your definition. I removed the downvote, because I think that behaviour is stupid though..."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1497302465, "post_id": 44420735, "comment_id": 76011005, "body": "@baao That someone else downvoted it means that someone else thinks that it&#39;s a bad question.  I have not defined a &quot;bad question&quot; as a question that has a single downvote.  A bad question is a question that attracts low quality answers and inhibits the posting of useful answers.  If you honestly think that the question is bad, and feel that the answer isn&#39;t helpful (perhaps because of problems in the question) than by all means, downvote both posts.  But don&#39;t downvote them because someone else thinks that they&#39;re bad if you don&#39;t personally feel that they&#39;re not helpful."}, {"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1497302587, "post_id": 44420735, "comment_id": 76011061, "body": "Yeah, but that&#39;s exactly what I tried to complain against on meta, and you hardly tried to defend!"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1497302829, "post_id": 44420735, "comment_id": 76011175, "body": "@baao You weren&#39;t complaining about people downvoting posts because <i>other</i> people think they&#39;re bad, as you did here.  You were complaining about people downvoting answers to bad questions as a result of problems in the question.  If you honestly felt that there were major problems with the question, and they resulted in the answer not being helpful, then as I said, you <i>should</i> downvote."}, {"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1497302925, "post_id": 44420735, "comment_id": 76011210, "body": "No I wouldn&#39;t do that, because actually I think your answer was helpful, even if I would have downvoted the question"}], "tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": false, "score": 0, "last_activity_date": 1496861828, "creation_date": 1496861828, "answer_id": 44420735, "question_id": 44420466, "link": "https://stackoverflow.com/questions/44420466/preventing-a-thread-from-being-created-when-memory-is-low/44420735#44420735", "title": "Preventing a thread from being created when memory is low", "body": "<p>You should be using the thread pool to handle these operations, rather than creating whole new threads for every operation you need to perform.  Not only will using a thread pool that can re-use threads greatly remove effort spent creating and tearing down threads (which isn't cheap) but the thread pool will work to ensure that threads are only created when it will be beneficial to do so, and will simply let requests to have work done queue up when adding more threads wouldn't be beneficial.</p>\n"}], "owner": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1496940612, "creation_date": 1496860909, "last_edit_date": 1496940612, "question_id": 44420466, "link": "https://stackoverflow.com/questions/44420466/preventing-a-thread-from-being-created-when-memory-is-low", "title": "Preventing a thread from being created when memory is low", "body": "<p>I have an application that handles TCP connections, and when a connection is made, BeginRead is called on the stream to wait for data, and the main thread resumes waiting for new connections.</p>\n\n<p>Under normal circumstances, there will be only a few connections at a time, and so generally the number of worker threads created by BeginRead is not an issue. However, in the theoretical situation that many, many connections exist at the same time, eventually when a new connection is made, the call to BeginRead causes an OutOfMemoryException. I would like to prevent the thread from being created in this situation (or be informed of a better way to wait for data from multiple streams).</p>\n\n<p>What are some decent ways of accomplishing this? All I can think to do is to either </p>\n\n<p>a) only allow a certain number of active connections at a time, or </p>\n\n<p>b) attempt to use something called a MemoryFailPoint. After reading, I think this might be the better option, but how do I know how much memory a call to BeginRead will need to do its thing safely? </p>\n"}, {"tags": ["c#", "winforms"], "answers": [{"tags": [], "owner": {"reputation": 36783, "user_id": 2946329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9ygJ.jpg?s=128&g=1", "display_name": "Salah Akbari", "link": "https://stackoverflow.com/users/2946329/salah-akbari"}, "is_accepted": true, "score": 2, "last_activity_date": 1496907627, "last_edit_date": 1496907627, "creation_date": 1496861137, "answer_id": 44420538, "question_id": 44420431, "link": "https://stackoverflow.com/questions/44420431/keeping-track-of-how-many-instantiation-of-a-form-is-opened-or-closed/44420538#44420538", "title": "Keeping track of how many instantiation of a Form is opened or closed", "body": "<p>You can use the <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.application.openforms(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Application.OpenForms</a> <em>Property</em> like the following code:</p>\n\n<pre><code>private void questionFormButton_Click(object sender, EventArgs e)\n{\n    QuestionForm questionFormOpen = new QuestionForm();\n    questionFormOpen.Show();\n    questionFormOpen.Shown += Fr_Closed;\n    questionFormOpen.Disposed += Fr_Closed;\n}\nprivate void Fr_Closed(object sender, EventArgs e)\n{\n  countOfQuestionForm.Text = Application.OpenForms.OfType&lt;QuestionForm&gt;().Count().ToString();\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 8121741, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e029ffcf6b64475ef3c14d2ebdeb2ca0?s=128&d=identicon&r=PG&f=1", "display_name": "BeginnerCoder", "link": "https://stackoverflow.com/users/8121741/beginnercoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 44420538, "answer_count": 1, "score": 1, "last_activity_date": 1496907627, "creation_date": 1496860814, "last_edit_date": 1496863988, "question_id": 44420431, "link": "https://stackoverflow.com/questions/44420431/keeping-track-of-how-many-instantiation-of-a-form-is-opened-or-closed", "title": "Keeping track of how many instantiation of a Form is opened or closed", "body": "<p>I have an application with three forms. <code>MainForm</code>, <code>QuestionForm</code>, and <code>ViewItemsForm</code>. The <code>MainForm</code> is always displayed. The <code>MainForm</code> contains two <code>buttons</code> and two read-only <code>textboxes</code>. One of the <code>buttons</code> allows the user to open up multiple instance of the <code>QuestionForm</code> which should then display the count of how many are open in one of the textboxes in the <code>MainForm</code>. If one of the <code>QuestionForms</code> is closed, the count inside the <code>textbox</code> should go down to. </p>\n\n<p>I've tried to implement the trigger inside the button that opens the <code>QuestionFrom</code>, and another when the form is closed, but it doesn't seem to work.</p>\n\n<pre><code>public partial class Form1 : Form\n{\n   private void questionFormButton_Click(object sender, EventArgs e)\n   {\n      QuestionForm questionFormOpen = new QuestionForm();\n      questionFormOpen.Show();\n   }\n\n  private void countOfQuestionForm_TextChanged(object sender, EventArgs e)\n  {\n     countOfQuestionForm.Text = //Assign the count here\n  }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "sharepoint", "sharepoint-2013", "sharepoint-clientobject"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 6701924, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/676d0f98e4e1bfa9fdfd419166adae3b?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; Cristino", "link": "https://stackoverflow.com/users/6701924/andr%c3%a9-cristino"}, "edited": false, "score": 0, "creation_date": 1498252076, "post_id": 44707512, "comment_id": 76442735, "body": "I am alredy using it and I also tried to put &quot;domain\\UserName&quot;. Both dot not work either."}], "tags": [], "owner": {"reputation": 504, "user_id": 4927718, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/48fcb9e4eb6fcd73f117ba3004686b39?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Prasath", "link": "https://stackoverflow.com/users/4927718/naveen-prasath"}, "is_accepted": false, "score": 0, "last_activity_date": 1498158406, "creation_date": 1498158406, "answer_id": 44707512, "question_id": 44420296, "link": "https://stackoverflow.com/questions/44420296/sharepoint-clientcontext-is-always-returning-code-401-when-i-try-to-connect/44707512#44707512", "title": "Sharepoint ClientContext is always returning code 401 when i try to connect", "body": "<p>Use \"Microsoft.SharePoint.Client.dll\" and \"Microsoft.SharePoint.Client.Runtime.dll\".</p>\n\n<pre><code> using (ClientContext clientcontext = new ClientContext(\"http://mysite/\"))\n    {\n        var credentials = new NetworkCredential(domain\\UserName, password);\n        clientcontext.Credentials = credentials;\n        Web web = clientcontext.Web;\n        clientcontext.Load(web);\n        clientcontext.ExecuteQuery();\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 6701924, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/676d0f98e4e1bfa9fdfd419166adae3b?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; Cristino", "link": "https://stackoverflow.com/users/6701924/andr%c3%a9-cristino"}, "edited": false, "score": 0, "creation_date": 1499189665, "post_id": 44879047, "comment_id": 76799507, "body": "Thx @Naveen Prasath. But, I&#39;m still with the same problem. I think the problem is with the installation of Sharepoint on the Server.  I&#39;ll check with the team that takes care of this server, and if so, I&#39;ll let you know the solution."}], "tags": [], "owner": {"reputation": 504, "user_id": 4927718, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/48fcb9e4eb6fcd73f117ba3004686b39?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Prasath", "link": "https://stackoverflow.com/users/4927718/naveen-prasath"}, "is_accepted": false, "score": 1, "last_activity_date": 1499063291, "creation_date": 1499063291, "answer_id": 44879047, "question_id": 44420296, "link": "https://stackoverflow.com/questions/44420296/sharepoint-clientcontext-is-always-returning-code-401-when-i-try-to-connect/44879047#44879047", "title": "Sharepoint ClientContext is always returning code 401 when i try to connect", "body": "<p>Hi sorry for the delay.</p>\n\n<p>Please see my working code below. \nIf you are using SharePoint online, use below code</p>\n\n<pre><code> public static ClientContext GetClientContext(string url)\n    {\n\n        SecureString securePassword = new SecureString();\n        ClientContext context = null;\n        try\n        {\n            using (context = new ClientContext(url))\n            {\n                foreach (char c in \"Password\") securePassword.AppendChar(c);\n                context.Credentials = new SharePointOnlineCredentials(\"user@tenent.onmicrosoft.com\", securePassword);\n                context.Load(context.Web, w =&gt; w.ServerRelativeUrl, w =&gt; w.Url);\n                context.ExecuteQuery();\n\n\n            }\n        }\n        catch (Exception ex)\n        {\n\n        }\n\n        return context;\n    }\n</code></pre>\n\n<p>If you are using SharePoint on premises server, you can get the context in two ways. Using app pool account or by passing your user creds. Below code using the default app pool credentials. </p>\n\n<pre><code> string parentSiteUrl = Helper.GetParentWebUrl(siteUrl);\n                    clientContext = new ClientContext(parentSiteUrl);\n                    clientContext.Credentials = CredentialCache.DefaultCredentials;\n                    clientContext.Load(clientContext.Web, w =&gt; w.Url, w =&gt; w.Lists, w =&gt; w.ServerRelativeUrl, w =&gt; w.Title, w =&gt; w.SiteGroups);                        \n                    clientContext.ExecuteQuery();\n</code></pre>\n\n<p>Or you can pass your credentials as below.</p>\n\n<pre><code> var clientContext = new ClientContext(siteUrl);\n        clientContext.Credentials = new NetworkCredential(\"domain\\\\user\", \"password\");\n        clientContext.Load(clientContext.Web, w =&gt; w.Lists);\n        clientContext.ExecuteQuery();\n</code></pre>\n\n<p>Let me know if you have any queries.</p>\n"}], "owner": {"reputation": 85, "user_id": 6701924, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/676d0f98e4e1bfa9fdfd419166adae3b?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; Cristino", "link": "https://stackoverflow.com/users/6701924/andr%c3%a9-cristino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1599, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1499063291, "creation_date": 1496860341, "question_id": 44420296, "link": "https://stackoverflow.com/questions/44420296/sharepoint-clientcontext-is-always-returning-code-401-when-i-try-to-connect", "title": "Sharepoint ClientContext is always returning code 401 when i try to connect", "body": "<p>I'm trying to connect to a Sharepoint using ClientContext (Microsoft.SharePoint.Client lib). </p>\n\n<p>Unfortunately, when I execute the code that supposed to connect on Sharepoint Site, I'm getting 401 error. </p>\n\n<p>When I try to connect using a web browser it works fine.</p>\n\n<p>Here comes my code:</p>\n\n<pre><code>        using (ClientContext clientcontext = new ClientContext(\"http://mysite/\"))\n        {\n            var credentials = new NetworkCredential(user, password, domain);\n\n            clientcontext.Credentials = credentials;\n\n            Web web = clientcontext.Web;\n            clientcontext.Load(web);\n\n            clientcontext.ExecuteQuery();\n        }\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "mysql", "sql"], "comments": [{"owner": {"reputation": 2334, "user_id": 7948962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b64557f8a617effccaf4426f16e9035?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob H", "link": "https://stackoverflow.com/users/7948962/jacob-h"}, "edited": false, "score": 0, "creation_date": 1496860316, "post_id": 44420252, "comment_id": 75838973, "body": "<a href=\"https://dev.mysql.com/doc/refman/5.7/en/select-into.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/5.7/en/select-into.html</a>"}, {"owner": {"reputation": 339, "user_id": 5269642, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dOk26JdD--Y/AAAAAAAAAAI/AAAAAAAABJ4/hMxOb840eHs/photo.jpg?sz=128", "display_name": "SimMac", "link": "https://stackoverflow.com/users/5269642/simmac"}, "edited": false, "score": 0, "creation_date": 1496860336, "post_id": 44420252, "comment_id": 75838990, "body": "Just <a href=\"https://dba.stackexchange.com/a/9309\">dumping the whole table</a> doesn&#39;t work either?"}, {"owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "edited": false, "score": 1, "creation_date": 1496860350, "post_id": 44420252, "comment_id": 75839001, "body": "Is it the &quot;same server&quot; / different scheme - or an all-new production database (on a different host?)"}, {"owner": {"reputation": 492, "user_id": 5157709, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wD6j0.png?s=128&g=1", "display_name": "EMUEVIL", "link": "https://stackoverflow.com/users/5157709/emuevil"}, "edited": false, "score": 0, "creation_date": 1496862360, "post_id": 44420252, "comment_id": 75840154, "body": "I&#39;d make a transaction that moves the data over in chunks of like 10,000 rows (or an appropriate number depending on how much data is in each row).  I personally wouldn&#39;t do it all at once but I guess it depends on how much of a beast your server is."}], "answers": [{"tags": [], "owner": {"reputation": 5538, "user_id": 5639688, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/5GBLX.jpg?s=128&g=1", "display_name": "eocron", "link": "https://stackoverflow.com/users/5639688/eocron"}, "is_accepted": true, "score": 0, "last_activity_date": 1496862977, "last_edit_date": 1496862977, "creation_date": 1496862466, "answer_id": 44420909, "question_id": 44420252, "link": "https://stackoverflow.com/questions/44420252/copying-15-million-records-to-a-new-table-server/44420909#44420909", "title": "Copying 15 million records to a new table/server", "body": "<p>Well, it is important to know how you connect the two. Is they reside inside single MSSQL instance or different? Because it seems like you try to download entire history into memory of your application...</p>\n\n<p>Either way, you can always move your data in batches. For example, you can do it in Entity Framework like this:</p>\n\n<pre><code>using(var src = new MyFirstContext())\nusing(var tr = src.DataBase.BeginTransaction(IsolationLevel.ReadUncommited)) //this will speed up read of history\n{\n    int i = 0;\n    const int batchSize = 100000;\n    try\n    {\n        while(true)\n        {\n            var batch = src.History.AsNoTracking().Skip(i*batchSize).Take(batchSize).ToList();\n            if(!batch.Any())\n            {\n                break;\n            }\n            using(var dst = new MySecondContext())\n            {\n                dst.Configuration.AutoDetectChangesEnabled = false;\n                foreach(var ent1 in batch)\n                {\n                    var ent2 = Map(ent1); //here you can perform map of one history type of row to another.\n                    dst.Set&lt;HistoryRowFromSecondDatabase&gt;().Add(ent2);\n                }\n                dst.SaveChanges();\n            }\n            i++;\n        }\n    }\n    finally\n    {\n        //this is really helpful scope in case of exception.\n        //save variable 'i', so you can start from the point you left last time.\n        //Because by default your data is commited under ReadCommited transaction, it is pretty safe to rely only on\n        //single 'i' variable. Even if you add some new data in source table.\n    }\n}\n</code></pre>\n\n<p>I have not tested this, but I think you get the idea.</p>\n"}, {"tags": [], "owner": {"reputation": 42, "user_id": 4745606, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-T9k3xJvBbBg/AAAAAAAAAAI/AAAAAAAAACE/NoogVgcBYS4/photo.jpg?sz=128", "display_name": "Stefano Cucchi", "link": "https://stackoverflow.com/users/4745606/stefano-cucchi"}, "is_accepted": false, "score": 0, "last_activity_date": 1496928603, "creation_date": 1496928603, "answer_id": 44437111, "question_id": 44420252, "link": "https://stackoverflow.com/questions/44420252/copying-15-million-records-to-a-new-table-server/44437111#44437111", "title": "Copying 15 million records to a new table/server", "body": "<p>take a look to Bulk Import/Export... i think it's the fastest way.</p>\n"}, {"tags": [], "owner": {"reputation": 846, "user_id": 7425326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WBfuQ.png?s=128&g=1", "display_name": "Balasubramanian S", "link": "https://stackoverflow.com/users/7425326/balasubramanian-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1496933574, "creation_date": 1496933574, "answer_id": 44439071, "question_id": 44420252, "link": "https://stackoverflow.com/questions/44420252/copying-15-million-records-to-a-new-table-server/44439071#44439071", "title": "Copying 15 million records to a new table/server", "body": "<p>There are few options with which you can achieve it.</p>\n\n<ul>\n<li>Creating linked server to move using T-SQL scripts. </li>\n<li>Create a service file that will do the task for you. </li>\n<li>SSIS is an option that you can explore. </li>\n<li>Export/Import.</li>\n</ul>\n"}], "owner": {"reputation": 374, "user_id": 6225129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sE8uU.png?s=128&g=1", "display_name": "JvD", "link": "https://stackoverflow.com/users/6225129/jvd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 1, "accepted_answer_id": 44420909, "answer_count": 3, "score": 0, "last_activity_date": 1496933574, "creation_date": 1496860196, "question_id": 44420252, "link": "https://stackoverflow.com/questions/44420252/copying-15-million-records-to-a-new-table-server", "title": "Copying 15 million records to a new table/server", "body": "<p>Good day. I need to move 15 Million Records from one MySQL table to a new table on other schemas. This is a live system and time is a problem. The table I need to move is a history table and isn't important for day to day business. I can't leave the table as it is part of a bigger upgrade I am doing. </p>\n\n<p>I tried just moving the data with basic sql in a test environment but this doesn't work; the server kicks me out after 20min.</p>\n\n<p>What would be the best way of moving the data?</p>\n\n<p>I am a C# programmer  if someone has a coding solution</p>\n"}, {"tags": ["c#", "wpf", "prism", "prism-6", "viewmodellocator"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1496860872, "post_id": 44420238, "comment_id": 75839292, "body": "This is why you should never use these &quot;locator&quot; things. They save you from the nearly imperceptible discomfort of spending five minutes learning the basics of MVVM, and condemn you to the misery of a lifetime of doing MVVM according to rules set down by somebody who knew nothing whatsoever about it."}, {"owner": {"reputation": 455, "user_id": 1225266, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/GDOVT.jpg?s=128&g=1", "display_name": "softbear", "link": "https://stackoverflow.com/users/1225266/softbear"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1496862810, "post_id": 44420238, "comment_id": 75840397, "body": "&quot;the misery of a lifetime of doing MVVM according to rules set down by somebody&quot; - good point"}], "answers": [{"comments": [{"owner": {"reputation": 455, "user_id": 1225266, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/GDOVT.jpg?s=128&g=1", "display_name": "softbear", "link": "https://stackoverflow.com/users/1225266/softbear"}, "edited": false, "score": 0, "creation_date": 1496863200, "post_id": 44420896, "comment_id": 75840650, "body": "Yes, I guess I have to go back to creating the VM instances myself. I thought that PRISMs ViewModelLocator saved me the hassle of the DI part, guess I&#39;m back to a ServiceLocator-ish pattern to help create VMs and inject dependencies."}, {"owner": {"reputation": 8866, "user_id": 5758420, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a47e2744f0e5b6f84407efd06dbee96f?s=128&d=identicon&r=PG&f=1", "display_name": "Haukinger", "link": "https://stackoverflow.com/users/5758420/haukinger"}, "reply_to_user": {"reputation": 455, "user_id": 1225266, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/GDOVT.jpg?s=128&g=1", "display_name": "softbear", "link": "https://stackoverflow.com/users/1225266/softbear"}, "edited": false, "score": 0, "creation_date": 1496867727, "post_id": 44420896, "comment_id": 75843138, "body": "Add a factory that receives all the dependencies, so that its <code>CreateMyViewModel</code> method only has parameters for the real data."}], "tags": [], "owner": {"reputation": 8866, "user_id": 5758420, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a47e2744f0e5b6f84407efd06dbee96f?s=128&d=identicon&r=PG&f=1", "display_name": "Haukinger", "link": "https://stackoverflow.com/users/5758420/haukinger"}, "is_accepted": false, "score": 2, "last_activity_date": 1496862425, "creation_date": 1496862425, "answer_id": 44420896, "question_id": 44420238, "link": "https://stackoverflow.com/questions/44420238/prism-viewmodellocator-creates-the-view-model-instances-but-how-can-i-target/44420896#44420896", "title": "Prism: ViewModelLocator creates the view model instance(s) but how can I target it?", "body": "<p>Go for a view model-first style of navigation. If you pass a (child-)view model instance (instead of a type) to <code>ShowWindow</code>, you can create that with whatever data you need.</p>\n\n<p>Probably, you pass the data around as payload of the <code>OpenNewChildWindowPubSubEvent</code>, and the subscriber then creates the view model. Or you create the view model immediately in the command and pass that on as payload of the event.</p>\n\n<p>Anyway, don't resolve the view type from the view model type just to resolve the view model type from the view :-)</p>\n\n<p>BTW, the <code>ViewModelLocator</code> is great and really simplifies things, but you don't want to use it here, because you're not navigating <em>within</em> one shell, but creating new windows. If you would, your view model would implement <code>INavigationAware</code> and you'd pass the data to the child view model as parameter to <code>RequestNavigate</code>...</p>\n"}], "owner": {"reputation": 455, "user_id": 1225266, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/GDOVT.jpg?s=128&g=1", "display_name": "softbear", "link": "https://stackoverflow.com/users/1225266/softbear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496862425, "creation_date": 1496860156, "question_id": 44420238, "link": "https://stackoverflow.com/questions/44420238/prism-viewmodellocator-creates-the-view-model-instances-but-how-can-i-target", "title": "Prism: ViewModelLocator creates the view model instance(s) but how can I target it?", "body": "<p>Is there a way whereby I can identify a ChildViewModel instance, which was created by prism's ViewModelLocator, upon opening it's corresponding window?</p>\n\n<p>I would like to trigger that the ChildViewModel should load it's data, based on  parameters originating from the MasterViewModel.</p>\n\n<p>In code, in <code>MasterViewModel</code> has an <code>ICommand</code> in a  which is responsible for requesting opening a new child window by publishing an event, and there is a corresponding subscriber.</p>\n\n<pre><code>public ICommand OpenNewChildWindow()\n{\n    Publish(new OpenNewChildWindowPubSubEvent());\n\n    // Maybe I can publish a new PubSubEvent here\n    // but how can I target just the recently created ChildViewModel?\n}\n</code></pre>\n\n<p>Notice that the <code>MasterViewModel</code> knows nothing about the UI implementation.</p>\n\n<p>The the subscriber calls <code>ShowWindow</code> method on a custom <code>WindowManager</code> which basically resolves the View (Window in this instance) which corresponds to the ViewModel which was passed in.</p>\n\n<pre><code>public void ShowWindow(Type viewModelType)\n{\n   Type view = ResolveView(viewModelType);\n   Window w = (Window)Activator.CreateInstance(view);\n   w.Show();\n}\n</code></pre>\n\n<p>The xaml for the window the appropiate</p>\n\n<pre><code>ViewModelLocator.AutoWireViewModel=\"True\"\n</code></pre>\n"}, {"tags": ["c#", "sql", "mvvm"], "answers": [{"tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 1, "last_activity_date": 1496860253, "creation_date": 1496860253, "answer_id": 44420268, "question_id": 44420230, "link": "https://stackoverflow.com/questions/44420230/datetime-from-sql-database-with-value-null/44420268#44420268", "title": "DateTime from SQL database with value null", "body": "<p>If the column allows <code>null</code> values then you have to check for <a href=\"https://msdn.microsoft.com/en-us/library/system.dbnull(v=vs.110).aspx\" rel=\"nofollow noreferrer\">DBNull</a> when you read from it. The easiest way to do this on a <a href=\"https://msdn.microsoft.com/en-us/library/system.data.datarow(v=vs.110).aspx\" rel=\"nofollow noreferrer\">DataRow</a> is with <a href=\"https://msdn.microsoft.com/en-us/library/chk182xa(v=vs.110).aspx\" rel=\"nofollow noreferrer\">IsNull</a>. The line of code would then be: </p>\n\n<pre><code>SomeDate = DR.IsNull(2) ? null : (DateTime?)DR[2]\n</code></pre>\n\n<p>The assignment type you are using should then also be nullable or have an acceptable default value. </p>\n"}], "owner": {"reputation": 39, "user_id": 7059900, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10155069849239769/picture?type=large", "display_name": "Jurgen Volders", "link": "https://stackoverflow.com/users/7059900/jurgen-volders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 1, "accepted_answer_id": 44420268, "answer_count": 1, "score": 1, "last_activity_date": 1496861078, "creation_date": 1496860125, "question_id": 44420230, "link": "https://stackoverflow.com/questions/44420230/datetime-from-sql-database-with-value-null", "title": "DateTime from SQL database with value null", "body": "<p>I want to get datetime from SQL database and store it in a DateTime property.\nAt the moment it has value null.\nI keep getting conversion error.\nProgramming in C# with MVVM. </p>\n\n<pre><code>private void LoadFunctie()\n    {\n        _myModel = new ObservableCollection&lt;myModel&gt;();\n        DataTable DT = new DataTable();\n        DT = \n        clsDAC.ExecuteDataTable(Properties.Resources.S_myStoredProcedure);\n        foreach (DataRow DR in DT.Rows)\n        {\n            var x = new clsOrderOverzichtM()\n            {\n                SomeID = (int)DR[0],//works\n                SomeString = DR[1].ToString(),//works\n                SomeDate = (DateTime)DR[2]//ERROR\n\n            };\n            _myModel.Add(x);\n        }\n    }\n</code></pre>\n\n<p>My Property</p>\n\n<pre><code>    private DateTime? _SomeDate;\n    public DateTime? SomeDate\n    {\n        get { return _SomeDate; }\n        set\n        {\n            _SomeDate = value;\n            RaisePropertyChanged();\n        }\n    }\n</code></pre>\n\n<p>What could be my problem?</p>\n"}, {"tags": ["c#", "winforms", "visual-studio-2010", "crystal-reports", "crystal-reports-2010"], "answers": [{"comments": [{"owner": {"reputation": 3935, "user_id": 6564276, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/24e7a72ccc1527b501c1672edff06203?s=128&d=identicon&r=PG&f=1", "display_name": "Vijunav Vastivch", "link": "https://stackoverflow.com/users/6564276/vijunav-vastivch"}, "edited": false, "score": 0, "creation_date": 1496882920, "post_id": 44424932, "comment_id": 75848291, "body": "I suggest install CR Report 32bit and 64bit runtime if you are using 64bit OS."}], "tags": [], "owner": {"reputation": 3935, "user_id": 6564276, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/24e7a72ccc1527b501c1672edff06203?s=128&d=identicon&r=PG&f=1", "display_name": "Vijunav Vastivch", "link": "https://stackoverflow.com/users/6564276/vijunav-vastivch"}, "is_accepted": false, "score": 0, "last_activity_date": 1496882869, "creation_date": 1496882869, "answer_id": 44424932, "question_id": 44420176, "link": "https://stackoverflow.com/questions/44420176/crystal-report-application-crashes-after-created-windows-intstaller-in-setup-and/44424932#44424932", "title": "Crystal Report Application Crashes after created windows intstaller in setUp and Deployment in Vs 2010", "body": "<p>Check:</p>\n\n<blockquote>\n  <ol>\n  <li>crystal report runtime version.</li>\n  <li>OS 32bit or 64bit.</li>\n  <li>visual c++ redistributable.</li>\n  </ol>\n</blockquote>\n"}], "owner": {"reputation": 2008, "user_id": 4031891, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/2513ee43929b1d3e106426ecb342af79?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Sahir", "link": "https://stackoverflow.com/users/4031891/mohamed-sahir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 502, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519719292, "creation_date": 1496859912, "last_edit_date": 1496884950, "question_id": 44420176, "link": "https://stackoverflow.com/questions/44420176/crystal-report-application-crashes-after-created-windows-intstaller-in-setup-and", "title": "Crystal Report Application Crashes after created windows intstaller in setUp and Deployment in Vs 2010", "body": "<p>I have created windows form application and it has a print option , the report should be crystal report . <code>CrystalDecisions.CrystalReports.Engine.dll</code> i am using for created the report.</p>\n\n<p><strong>Scenario:</strong></p>\n\n<blockquote>\n  <p>1)The application works fine when run inside the Vs 2010.Able to print\n  the report. 2) If i close the vs and Go to Debug folder and run the\n  application , its working fine and able to create the Report.</p>\n</blockquote>\n\n<p><strong>Problem:</strong></p>\n\n<blockquote>\n  <p>3) Application Crashes while Install the application and when click\n  the print option has crashed ,all other modules are working fine.The\n  problem happens for report.</p>\n</blockquote>\n\n<p>So How to create a installable Windows application without crashing crystal report.</p>\n\n<p>This is the method i have used to create the Installable file.<a href=\"https://i.stack.imgur.com/N4oM7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N4oM7.png\" alt=\"enter image description here\"></a></p>\n\n<p>App crash when click <code>print</code> option.\n<a href=\"https://i.stack.imgur.com/Lhtmy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lhtmy.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "xamarin", "timer", "xamarin.ios", "portable-class-library"], "comments": [{"owner": {"reputation": 4474, "user_id": 1134836, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eb27fea85ac4312aaea6c32ba027fdf5?s=128&d=identicon&r=PG", "display_name": "valdetero", "link": "https://stackoverflow.com/users/1134836/valdetero"}, "edited": false, "score": 1, "creation_date": 1496861645, "post_id": 44420159, "comment_id": 75839737, "body": "Why don&#39;t you just <code>await</code> it so that it doesn&#39;t block the UI? It&#39;s a Task, so it&#39;s <i>meant</i> to be awaited."}, {"owner": {"reputation": 330, "user_id": 8053184, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/784dd070c856d0f0767a946ca2d53f03?s=128&d=identicon&r=PG&f=1", "display_name": "Elstine P", "link": "https://stackoverflow.com/users/8053184/elstine-p"}, "reply_to_user": {"reputation": 4474, "user_id": 1134836, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eb27fea85ac4312aaea6c32ba027fdf5?s=128&d=identicon&r=PG", "display_name": "valdetero", "link": "https://stackoverflow.com/users/1134836/valdetero"}, "edited": false, "score": 0, "creation_date": 1496913182, "post_id": 44420159, "comment_id": 75860446, "body": "is there any other way I can do it ?"}, {"owner": {"reputation": 1394, "user_id": 3216608, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2TxF2.jpg?s=128&g=1", "display_name": "iamIcarus", "link": "https://stackoverflow.com/users/3216608/iamicarus"}, "edited": false, "score": 0, "creation_date": 1497270707, "post_id": 44420159, "comment_id": 75992257, "body": "Try the this nuget as its is very close PCL port to System.Threading.Timer <code>https:&#47;&#47;www.nuget.org&#47;packages&#47;Amoenus.PclTimer&#47;</code>"}, {"owner": {"reputation": 330, "user_id": 8053184, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/784dd070c856d0f0767a946ca2d53f03?s=128&d=identicon&r=PG&f=1", "display_name": "Elstine P", "link": "https://stackoverflow.com/users/8053184/elstine-p"}, "reply_to_user": {"reputation": 1394, "user_id": 3216608, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2TxF2.jpg?s=128&g=1", "display_name": "iamIcarus", "link": "https://stackoverflow.com/users/3216608/iamicarus"}, "edited": false, "score": 0, "creation_date": 1497343576, "post_id": 44420159, "comment_id": 76025179, "body": "@iamIcarus - I will give a try"}, {"owner": {"reputation": 330, "user_id": 8053184, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/784dd070c856d0f0767a946ca2d53f03?s=128&d=identicon&r=PG&f=1", "display_name": "Elstine P", "link": "https://stackoverflow.com/users/8053184/elstine-p"}, "reply_to_user": {"reputation": 1394, "user_id": 3216608, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2TxF2.jpg?s=128&g=1", "display_name": "iamIcarus", "link": "https://stackoverflow.com/users/3216608/iamicarus"}, "edited": false, "score": 0, "creation_date": 1497444567, "post_id": 44420159, "comment_id": 76081078, "body": "@iamIcarus - Are you sure I can use it the same way ? like above"}, {"owner": {"reputation": 1394, "user_id": 3216608, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2TxF2.jpg?s=128&g=1", "display_name": "iamIcarus", "link": "https://stackoverflow.com/users/3216608/iamicarus"}, "edited": false, "score": 0, "creation_date": 1497445852, "post_id": 44420159, "comment_id": 76082098, "body": "Its very similar yes , take a look at the example at <code>https:&#47;&#47;gitlab.com&#47;motivated.it&#47;Amoenus.PclTimer</code>"}], "answers": [{"comments": [{"owner": {"reputation": 330, "user_id": 8053184, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/784dd070c856d0f0767a946ca2d53f03?s=128&d=identicon&r=PG&f=1", "display_name": "Elstine P", "link": "https://stackoverflow.com/users/8053184/elstine-p"}, "edited": false, "score": 0, "creation_date": 1496914502, "post_id": 44420403, "comment_id": 75861382, "body": "Background worker is available for windows desktop app development I believe"}], "tags": [], "owner": {"reputation": 545, "user_id": 7616709, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPXMl.png?s=128&g=1", "display_name": "Dennis Larisch", "link": "https://stackoverflow.com/users/7616709/dennis-larisch"}, "is_accepted": false, "score": 0, "last_activity_date": 1496860735, "creation_date": 1496860735, "answer_id": 44420403, "question_id": 44420159, "link": "https://stackoverflow.com/questions/44420159/system-threading-timer-equivalent-in-pcl/44420403#44420403", "title": "System.Threading.Timer equivalent in PCL", "body": "<p>You can start this:</p>\n\n<pre><code>System.Threading.Tasks.Task.Delay(10000) \n</code></pre>\n\n<p>In a <a href=\"https://www.dotnetperls.com/backgroundworker\" rel=\"nofollow noreferrer\">background worker</a>. \nAnd if the timer is done you can give a feedback, so that you can call your function. \nThis way will not block your UI...</p>\n"}], "owner": {"reputation": 330, "user_id": 8053184, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/784dd070c856d0f0767a946ca2d53f03?s=128&d=identicon&r=PG&f=1", "display_name": "Elstine P", "link": "https://stackoverflow.com/users/8053184/elstine-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 311, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1496860735, "creation_date": 1496859856, "question_id": 44420159, "link": "https://stackoverflow.com/questions/44420159/system-threading-timer-equivalent-in-pcl", "title": "System.Threading.Timer equivalent in PCL", "body": "<p><strong><em>System.Threading.Timer</em></strong> is not available for PCL(Portable Class Library)</p>\n\n<pre><code>System.Threading.Timer tmr = new System.Threading.Timer(this.Method1,\"Obj\", 10000, System.Threading.Timeout.Infinite);\n</code></pre>\n\n<p>I couldn't find anything equivalent in PCL.</p>\n\n<p>I found something near to that</p>\n\n<pre><code>System.Threading.Tasks.Task.Delay(10000) \n</code></pre>\n\n<p>But this blocking the UI </p>\n\n<p>while <strong><em>system.Threading.timer</em></strong> is not blocking the UI</p>\n\n<p>Basically I want to call a method after a delay without blocking the UI from PCL</p>\n\n<p>Kindly clarify this.</p>\n"}, {"tags": ["c#", "httpclient", "http-patch"], "comments": [{"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1496859990, "post_id": 44420121, "comment_id": 75838793, "body": "What&#39;s possible with HttpRequestMessage.Method is available from it&#39;s <a href=\"https://msdn.microsoft.com/en-us/library/system.net.http.httpmethod(v=vs.118).aspx\" rel=\"nofollow noreferrer\">documentation</a>. I don&#39;t see <code>.Patch</code> listed."}, {"owner": {"reputation": 1980, "user_id": 4977870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XYtfY.jpg?s=128&g=1", "display_name": "Anas Alweish", "link": "https://stackoverflow.com/users/4977870/anas-alweish"}, "edited": false, "score": 2, "creation_date": 1543421369, "post_id": 44420121, "comment_id": 93916161, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/26218764/patch-async-requests-with-windows-web-http-httpclient-class\">PATCH Async requests with Windows.Web.Http.HttpClient class</a>"}], "answers": [{"comments": [{"owner": {"reputation": 545, "user_id": 7616709, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPXMl.png?s=128&g=1", "display_name": "Dennis Larisch", "link": "https://stackoverflow.com/users/7616709/dennis-larisch"}, "edited": false, "score": 0, "creation_date": 1496860324, "post_id": 44420228, "comment_id": 75838982, "body": "But keep in mind that this is a async Task method, so you may take a look at the other answers of the linked thread, if it doesn&#39;t fit your needs..."}, {"owner": {"reputation": 545, "user_id": 7616709, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPXMl.png?s=128&g=1", "display_name": "Dennis Larisch", "link": "https://stackoverflow.com/users/7616709/dennis-larisch"}, "reply_to_user": {"reputation": 59, "user_id": 7794822, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/b59070d058ee79f932a51d115cd06718?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi Shastri", "link": "https://stackoverflow.com/users/7794822/ravi-shastri"}, "edited": false, "score": 1, "creation_date": 1496868183, "post_id": 44420228, "comment_id": 75843348, "body": "@RaviShastri np you are welcome, please mark my post as answer so other people can see it :)"}, {"owner": {"reputation": 545, "user_id": 7616709, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPXMl.png?s=128&g=1", "display_name": "Dennis Larisch", "link": "https://stackoverflow.com/users/7616709/dennis-larisch"}, "reply_to_user": {"reputation": 59, "user_id": 7794822, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/b59070d058ee79f932a51d115cd06718?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi Shastri", "link": "https://stackoverflow.com/users/7794822/ravi-shastri"}, "edited": false, "score": 0, "creation_date": 1496868224, "post_id": 44420228, "comment_id": 75843369, "body": "@RaviShastri and if you have any further questions about this, im here"}], "tags": [], "owner": {"reputation": 545, "user_id": 7616709, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPXMl.png?s=128&g=1", "display_name": "Dennis Larisch", "link": "https://stackoverflow.com/users/7616709/dennis-larisch"}, "is_accepted": false, "score": 2, "last_activity_date": 1496860122, "creation_date": 1496860122, "answer_id": 44420228, "question_id": 44420121, "link": "https://stackoverflow.com/questions/44420121/http-patch-method-c/44420228#44420228", "title": "HTTP PATCH Method C#", "body": "<p>I found this post here on StackOverflow: <a href=\"https://stackoverflow.com/q/26218764/7616709\">click</a></p>\n\n<p>He has done it with the folowing code example: </p>\n\n<pre><code>public async Task&lt;HttpResponseMessage&gt; PatchAsync(HttpClient client, Uri requestUri, IHttpContent iContent) {\n    var method = new HttpMethod(\"PATCH\");\n\n    var request = new HttpRequestMessage(method, requestUri) {\n        Content = iContent\n    };\n\n    HttpResponseMessage response = new HttpResponseMessage();\n    // In case you want to set a timeout\n    //CancellationToken cancellationToken = new CancellationTokenSource(60).Token;\n\n    try {\n         response = await client.SendRequestAsync(request);\n         // If you want to use the timeout you set\n         //response = await client.SendRequestAsync(request).AsTask(cancellationToken);\n    } catch(TaskCanceledException e) {\n        Debug.WriteLine(\"ERROR: \" + e.ToString());\n    }\n\n    return response;\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 7794822, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/b59070d058ee79f932a51d115cd06718?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi Shastri", "link": "https://stackoverflow.com/users/7794822/ravi-shastri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8577, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1543425912, "creation_date": 1496859726, "last_edit_date": 1543425912, "question_id": 44420121, "link": "https://stackoverflow.com/questions/44420121/http-patch-method-c", "title": "HTTP PATCH Method C#", "body": "<p>I don't see the option of including a HTTP \"PATCH\" request, I don't get the option using Visual Studio Intellisense? How do I include the \"PATCH\" method in this code instead of \"POST\"</p>\n\n<pre><code>using (HttpClient httpClient = new HttpClient())\n{\n    Uri requesturi = new Uri(string.Format(\"{0}/api/data/v8.2/\", url));\n    httpClient.BaseAddress = requesturi;\n    httpClient.Timeout = new TimeSpan(0, 0, 4);  // 10 minutes\n    httpClient.DefaultRequestHeaders.Accept.Clear();\n    httpClient.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n    result = GetS2SAccessToken(url, pwd);\n    httpClient.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(\"Bearer\", result);\n    httpClient.DefaultRequestHeaders.Add(\"OData-MaxVersion\", \"4.0\");\n    httpClient.DefaultRequestHeaders.Add(\"OData-Version\", \"4.0\");\n    HttpRequestMessage request = new HttpRequestMessage(HttpMethod.Post, \"\");                   \n    request.Content = new StringContent(props.ToString(), Encoding.UTF8, \"application/json\");\n}\n</code></pre>\n"}, {"tags": ["c#", "xaml"], "comments": [{"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 1, "creation_date": 1496862533, "post_id": 44420072, "comment_id": 75840249, "body": "In your second screenshot, do you see the little icon with the upward facing arrow above the thick black line right next to where it has your template name <code>EnemyTemplate (ContentControl Template)</code> at the top of the Document Outline? Click that to exit template editing. When you&#39;re editing a template the Document Outline shows the DOM of the Template you&#39;re actively editing, which in this case is of type <code>ContentControl</code> named &quot;EnemyTemplate&quot;"}, {"owner": {"reputation": 109, "user_id": 4484979, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100001809236738/picture?type=large", "display_name": "Joy", "link": "https://stackoverflow.com/users/4484979/joy"}, "reply_to_user": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 1, "creation_date": 1496863344, "post_id": 44420072, "comment_id": 75840738, "body": "Thanks bro... done! :)"}], "owner": {"reputation": 109, "user_id": 4484979, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100001809236738/picture?type=large", "display_name": "Joy", "link": "https://stackoverflow.com/users/4484979/joy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1503862851, "creation_date": 1496859519, "last_edit_date": 1503862851, "question_id": 44420072, "link": "https://stackoverflow.com/questions/44420072/creating-template-in-xaml-app-for-windows-8-1", "title": "Creating Template in Xaml app for windows 8.1", "body": "<p>I am having a problem with creating template in a xaml app. I'm using Visual Studio 2013 Pro in Windows 10. It's in the book \"Head First C#\". Previously, I've created the template but now it's creating problem. I guess something is missing. Here's a screenshot when I'm trying to create the template:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9Th1t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Th1t.png\" alt=\"enter image description here\"></a></p>\n\n<p>If I continue this way, I can't access my xaml tools from the document outline window because it has become a grid:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QdHaT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QdHaT.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "mono", "assemblies", "mono.cecil"], "comments": [{"owner": {"reputation": 213217, "user_id": 41071, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0ec0f5be7749c8cc8ccda4a809103f36?s=128&d=identicon&r=PG", "display_name": "svick", "link": "https://stackoverflow.com/users/41071/svick"}, "edited": false, "score": 0, "creation_date": 1499516989, "post_id": 44420069, "comment_id": 76946634, "body": "The code here works fine for me. Could you include a more complete example, that shows relationships between the assemblies here and how you&#39;re reading the assembly afterwards?"}], "answers": [{"tags": [], "owner": {"reputation": 945, "user_id": 732761, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/adc0949e9b6914d4e1cbd6afbb233fc2?s=128&d=identicon&r=PG", "display_name": "sebas", "link": "https://stackoverflow.com/users/732761/sebas"}, "is_accepted": true, "score": 0, "last_activity_date": 1500895412, "creation_date": 1500895412, "answer_id": 45279349, "question_id": 44420069, "link": "https://stackoverflow.com/questions/44420069/adding-a-global-custom-attribute-in-the-assembly-with-cecil/45279349#45279349", "title": "Adding a global custom attribute in the assembly with Cecil", "body": "<p>The code works indeed, it was my mistake to look for the attribute just using assembly.CustomAttributes.Contains which can't work at all. Eventually I solved it creating a TypeReference from the actual Type and check the CustomAttribute.AttributeType.FullName against the FullName of the TypeReference I need to check.</p>\n"}], "owner": {"reputation": 945, "user_id": 732761, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/adc0949e9b6914d4e1cbd6afbb233fc2?s=128&d=identicon&r=PG", "display_name": "sebas", "link": "https://stackoverflow.com/users/732761/sebas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 0, "accepted_answer_id": 45279349, "answer_count": 1, "score": 1, "last_activity_date": 1500895412, "creation_date": 1496859508, "question_id": 44420069, "link": "https://stackoverflow.com/questions/44420069/adding-a-global-custom-attribute-in-the-assembly-with-cecil", "title": "Adding a global custom attribute in the assembly with Cecil", "body": "<p>I have got this attribute class:</p>\n\n<pre><code>[AttributeUsage(AttributeTargets.Assembly)]\npublic class PostProcessedAssemblyAttribute : Attribute\n{\n}\n</code></pre>\n\n<p>and then wrote this code:</p>\n\n<pre><code>var moduleG = assembly.MainModule;\n\n            var attributeConstructor =\n                    moduleG.ImportReference(\n                        typeof(PostProcessedAssemblyAttribute).GetConstructor(Type.EmptyTypes));\n            var attribute = new CustomAttribute(attributeConstructor);\n            assembly.CustomAttributes.Add(attribute);\n\n assembly.Write(assemblyPath, writerParameters);\n</code></pre>\n\n<p>if I read back the assembly, I expect the attribute to be present, but it is not.</p>\n\n<p>I am not 100% sure of what I am doing, so surely I am doing something wrong (for example I am not sure importing the attribute from the main module is correct), can you please point out where the problem is?</p>\n\n<p>I need this just to mark an assembly as processed.</p>\n"}, {"tags": ["c#", "xna"], "comments": [{"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1496860848, "post_id": 44420066, "comment_id": 75839282, "body": "Is <code>IsFixedTimeStep</code> set to true? .0166667 per frame is ~60 frames per second.  It could also be related to vsync."}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1496861075, "post_id": 44420066, "comment_id": 75839413, "body": "<a href=\"https://blogs.msdn.microsoft.com/shawnhar/2007/07/25/understanding-gametime/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/shawnhar/2007/07/25/&hellip;</a>"}, {"owner": {"reputation": 177, "user_id": 5913518, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-7KjtdfCPF6k/AAAAAAAAAAI/AAAAAAAAABE/elgCmYXu4lA/photo.jpg?sz=128", "display_name": "harlekintiger", "link": "https://stackoverflow.com/users/5913518/harlekintiger"}, "reply_to_user": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1496862340, "post_id": 44420066, "comment_id": 75840146, "body": "It it set to the default, which should be true, yes. I read the article, thanks for that! Now I could test and confirm that even if <code>IsRunningSlowly</code> outputs true, .ElapsedGameTime is still the same - which is odd.. Either it stopps the update and starts a new one after exactly .0166667s, or it&#39;s simply lying to me! I can&#39;t explain it any other way"}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 1, "creation_date": 1496862644, "post_id": 44420066, "comment_id": 75840314, "body": "My guess, is that it is falling in to the 3rd option of &quot;give up trying to correct timing issues&quot; from the blog post.  Everything I&#39;ve written so far sets <code>IsFixedTimeStep</code> to <code>false</code>, so I don&#39;t have any direct experience with what you are seeing.  From what I <i>have</i> seen in other posts, it is most likely that XNA is lying to you about the elapsed time between frames; it <i>always</i> reports 1/60 of a second in that mode."}, {"owner": {"reputation": 177, "user_id": 5913518, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-7KjtdfCPF6k/AAAAAAAAAAI/AAAAAAAAABE/elgCmYXu4lA/photo.jpg?sz=128", "display_name": "harlekintiger", "link": "https://stackoverflow.com/users/5913518/harlekintiger"}, "reply_to_user": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1496863244, "post_id": 44420066, "comment_id": 75840680, "body": "I now tested it with <code>IsFixedTimeStep = false</code> and I found that the time now does change. Altough it nerver exceeds 0.2s per frame. I reach that number with some dozends of entities and with over a thousand it still doesn&#39;t exceed this.      What exactly is &quot;give up trying&quot; supposed to mean? Does it just stop the update cycle and start the new one?"}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1496863431, "post_id": 44420066, "comment_id": 75840789, "body": "It only &quot;gives up&quot; in fixed time step mode.  When it is set to false, it never gives up, it doesn&#39;t do anything special and just calls Update -&gt; Draw, over and over again, as fast as it can. Gametime <i>should</i> be an accurate measurement of the time from the previous update to the current update in that situation."}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1496863619, "post_id": 44420066, "comment_id": 75840896, "body": "My interpretation of &quot;give up&quot; in fixed tiem step mode, is that XNA sees that last update was too long ago (not sure what the exact criteria is), and just calls update, telling it that 1/60th of a second elapsed, then draw.  It sort of like it just pretends that everything is running optimally, even though the game its self is probably stuttering like crazy."}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1496863724, "post_id": 44420066, "comment_id": 75840947, "body": "Can I see the exact code you are using to display <code>ElapsedGameTime</code>?"}, {"owner": {"reputation": 177, "user_id": 5913518, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-7KjtdfCPF6k/AAAAAAAAAAI/AAAAAAAAABE/elgCmYXu4lA/photo.jpg?sz=128", "display_name": "harlekintiger", "link": "https://stackoverflow.com/users/5913518/harlekintiger"}, "reply_to_user": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1496864341, "post_id": 44420066, "comment_id": 75841337, "body": "I did more testing and as it turns out, I could not get it to exceed 0.5s per frame. Even if I tripple the stress, the ElapsedGameTime stays at excatly 00:00:00.5000000 .  I do beliefe that with it set to false, gameTime is an accurate measure - at least up to this point.      What do you mean what code? I put it into a Console.WriteLine:  <code>Console.WriteLine(gameTime.IsRunningSlowly + &quot;  &quot; + gameTime.ElapsedGameTime);</code>  That is an interessting theory, you could very likely be right about this"}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1496864528, "post_id": 44420066, "comment_id": 75841430, "body": "Just keep in mind that in non fixed time step mode, you have to adjust everything based on ElapsedGameTime.  The usual method is to state everything in terms of units per second.  So when moving, you would  do something like <code>position += MovementSpeed * ElapsedGameTime.TotalSeconds</code>, instead of just adding <code>MovementSpeed</code> every frame."}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1496864719, "post_id": 44420066, "comment_id": 75841530, "body": "I really don&#39;t understand why you can&#39;t get higher numbers in non fix time step mode.  I know I&#39;ve personally seen &gt;3 second frames when I&#39;ve screwed something up.  What happens if you explicitly sleep for say, 3000ms at the very end of <code>Update</code>?"}, {"owner": {"reputation": 177, "user_id": 5913518, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-7KjtdfCPF6k/AAAAAAAAAAI/AAAAAAAAABE/elgCmYXu4lA/photo.jpg?sz=128", "display_name": "harlekintiger", "link": "https://stackoverflow.com/users/5913518/harlekintiger"}, "reply_to_user": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1496865416, "post_id": 44420066, "comment_id": 75841934, "body": "Good point, thanks, I&#39;ll keep it in mind.      How would you suggest letting it sleep? With <code>System.Threading.Thread.Sleep(3000);</code> it will sleep for 3s fer update call, but the gameTime ignores it - or better to say even though we&#39;re waiting for three seconds, the output still insists only 0.5s passed. Same for TotalGameTime, it is only increased by 0.5s per update call"}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1496865552, "post_id": 44420066, "comment_id": 75842018, "body": "Try sleeping in <code>Draw</code>.  I <i>thought</i> <code>ElapsedGameTime</code> included the running time of the last update too, but I could be wrong about that."}, {"owner": {"reputation": 177, "user_id": 5913518, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-7KjtdfCPF6k/AAAAAAAAAAI/AAAAAAAAABE/elgCmYXu4lA/photo.jpg?sz=128", "display_name": "harlekintiger", "link": "https://stackoverflow.com/users/5913518/harlekintiger"}, "reply_to_user": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1496865821, "post_id": 44420066, "comment_id": 75842142, "body": "Nothing changed, even though I let it sleep in both of them - it&#39;s still at 0.5.. Well, let&#39;s just call it the border of the possible, as long as the player doesn&#39;t try very hard to break my game no one will ever reach this limit anyway. Thanks for your help, I did learn quite a lot!"}], "owner": {"reputation": 177, "user_id": 5913518, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-7KjtdfCPF6k/AAAAAAAAAAI/AAAAAAAAABE/elgCmYXu4lA/photo.jpg?sz=128", "display_name": "harlekintiger", "link": "https://stackoverflow.com/users/5913518/harlekintiger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496859502, "creation_date": 1496859502, "question_id": 44420066, "link": "https://stackoverflow.com/questions/44420066/xna-elapsedgametime-is-always-the-same-even-if-the-programm-laggs", "title": "xna .ElapsedGameTime is always the same, even if the programm laggs", "body": "<p>I was wondering about .ElapsedGameTime in xna. I already read over half a dozend questions to this, which didn't answer what I was wondering about:\nIf the programm lags (and trust me, I did get my game to lag quite a bit) there should be more time between the updates, no? Regardless of beeing in the menu or having a frame rate of one frame every several seconds, .ElapsedGameTime always equals to 00:00:00.0166667<br>\nWhy is that?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1496859574, "post_id": 44420024, "comment_id": 75838569, "body": "why is NodeArray generic? , given that it always contains Node objects."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1496860832, "post_id": 44420024, "comment_id": 75839267, "body": "nodearray and node both have a member called Nodes. Did you mean that?"}, {"owner": {"reputation": 13, "user_id": 8127206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48dee618171470c602ff878cca93e5c8?s=128&d=identicon&r=PG&f=1", "display_name": "V. Pupkin", "link": "https://stackoverflow.com/users/8127206/v-pupkin"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1496861678, "post_id": 44420024, "comment_id": 75839755, "body": "&gt;why is NodeArray generic?  For easier access inside the parent class (without having to cast it to derived class on every access)"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8127206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48dee618171470c602ff878cca93e5c8?s=128&d=identicon&r=PG&f=1", "display_name": "V. Pupkin", "link": "https://stackoverflow.com/users/8127206/v-pupkin"}, "edited": false, "score": 0, "creation_date": 1496861270, "post_id": 44420439, "comment_id": 75839545, "body": "I tried to override property without making it <code>virtual</code> in a base class. Thanks!"}], "tags": [], "owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "is_accepted": true, "score": 1, "last_activity_date": 1496860823, "creation_date": 1496860823, "answer_id": 44420439, "question_id": 44420024, "link": "https://stackoverflow.com/questions/44420024/troubles-with-accessing-property-in-derivied-class/44420439#44420439", "title": "Troubles with accessing property in derivied class", "body": "<p>Your issue might be that you're using member hiding (with the <code>new</code> keyword) rather than overriding. With member hiding, the base class and the derived class contain separate definitions of the property, despite having the same name. Thus, if you create a <code>NodeArray&lt;T&gt;</code> instance, populate its <code>_array</code> collection, and then pass it as a <code>Node</code> reference, then <code>ChildNodes</code> property would still be returning the empty collection of the <code>Node.Nodes</code> base property, rather than the <code>NodeArray&lt;T&gt;._array</code> field like you'd expect.</p>\n\n<p>To resolve this issue, switch to using virtual and overridden members, as shown below:</p>\n\n<pre><code>public abstract class Node\n{\n    protected virtual List&lt;Node&gt; Nodes { get; } = new List&lt;Node&gt;();\n    public virtual Node[] ChildNodes =&gt; Nodes.ToArray();\n    ...\n}\n\npublic sealed class NodeArray&lt;T&gt; : Node where T: Node\n{\n    private readonly List&lt;T&gt; _array = new List&lt;T&gt;(); \n    protected override List&lt;Node&gt; Nodes =&gt; _array.Cast&lt;Node&gt;().ToList();\n    public override Node[] ChildNodes =&gt; _array.Cast&lt;Node&gt;().ToArray();\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8127206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48dee618171470c602ff878cca93e5c8?s=128&d=identicon&r=PG&f=1", "display_name": "V. Pupkin", "link": "https://stackoverflow.com/users/8127206/v-pupkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 44420439, "answer_count": 1, "score": 0, "last_activity_date": 1496860823, "creation_date": 1496859345, "question_id": 44420024, "link": "https://stackoverflow.com/questions/44420024/troubles-with-accessing-property-in-derivied-class", "title": "Troubles with accessing property in derivied class", "body": "<p>I have an abstract class:</p>\n\n<pre><code>public abstract class Node\n{\n    protected readonly List&lt;Node&gt; Nodes = new List&lt;Node&gt;();\n    public Node[] ChildNodes =&gt; Nodes.ToArray();\n    ...\n}\n</code></pre>\n\n<p>And derived from him:</p>\n\n<pre><code>public sealed class NodeArray&lt;T&gt; : Node where T: Node\n{\n    private readonly List&lt;T&gt; _array = new List&lt;T&gt;(); \n    private new List&lt;Node&gt; Nodes =&gt; _array.Cast&lt;Node&gt;().ToList();\n    public new Node[] ChildNodes =&gt; _array.Cast&lt;Node&gt;().ToArray();\n    ...\n}\n</code></pre>\n\n<p>Node.Nodes list may contain NodeArray&lt;Smth&gt; through.\nBut, when I'm trying to recursively enumerate nodes, and I'm getting one of type NodeArray, it returns empty ChildNodes value (of base class I guess). \nAnd when I debugged following code, Intellisense shows two identical properties with the same name and same type!</p>\n\n<p><a href=\"https://i.stack.imgur.com/otnv8.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n\n<p>Loop code:</p>\n\n<pre><code>protected void LoadNode(Node node, XmlNode xmlNode)\n    {\n        foreach (XmlNode childNode in xmlNode.ChildNodes)\n        {\n            if (childNode.HasChildNodes)\n            {\n                var child = node.ChildNodes.First(p =&gt; p.Name == childNode.Name);  // &lt;----- Stuck here\n                if(child == null)\n                    throw new Exception(\"Unknown child \" + childNode.Name + \" in Node \" + node.Name);\n\n                LoadNode(child, childNode);\n            }\n            else\n            {\n                node[childNode.Name] = childNode.Value;\n            }\n        }\n\n        node.Load();\n    }\n</code></pre>\n\n<p>Hope you help! Sorry for bed English :)</p>\n"}, {"tags": ["c#", "xaml", "uwp", "application-lifecycle", "multiple-views"], "answers": [{"comments": [{"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1496868411, "post_id": 44422224, "comment_id": 75843455, "body": "the view object doesnt even have a Consolidated event :/"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1496868956, "post_id": 44422224, "comment_id": 75843724, "body": "ApplicationView.GetForCurrentView has it but CoreApplicationView doesnt have it"}, {"owner": {"reputation": 12794, "user_id": 686985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE56D.jpg?s=128&g=1", "display_name": "Stefan Wick  MSFT", "link": "https://stackoverflow.com/users/686985/stefan-wick-msft"}, "reply_to_user": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1496869366, "post_id": 44422224, "comment_id": 75843919, "body": "Yes, you listen to the Consolidated event on the ApplicationView instance: <a href=\"https://docs.microsoft.com/en-us/uwp/api/Windows.UI.ViewManagement.ApplicationView#events_\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/uwp/api/&hellip;</a>"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1496875224, "post_id": 44422224, "comment_id": 75846191, "body": "I tried as u suggested and used the helper class from sample project and launched my secondary view according to Scenario 1 of the sample and then when I close it, consolidated event fires as it should but it gives me error on this specific line ( Line No. 129 in file ViewLifeTimeControl.cs ) InternalReleased(this, null);// null reference exception Apparently Internal Released is null due to some unknown reason"}, {"owner": {"reputation": 12794, "user_id": 686985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE56D.jpg?s=128&g=1", "display_name": "Stefan Wick  MSFT", "link": "https://stackoverflow.com/users/686985/stefan-wick-msft"}, "reply_to_user": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1496876610, "post_id": 44422224, "comment_id": 75846642, "body": "The sample assumes that your page subscribes to the Released event on the ViewLifetimeControl, see here: <a href=\"https://github.com/Microsoft/Windows-universal-samples/blob/master/Samples/MultipleViews/cs/SecondaryViewPage.xaml.cs\" rel=\"nofollow noreferrer\">github.com/Microsoft/Windows-universal-samples/blob/master/&hellip;</a>"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1496914422, "post_id": 44422224, "comment_id": 75861325, "body": "I was successfully able to subscribe to Released event and now it proceeds but then it gives an exception when it tries   &quot;Window.Current.Close()&quot;   with in the released event. according to documentation exception occurs due to any on going changes ( which might be because of media file playing ), but I need to force close the window even when media file is playing how can I do that?  btw here is the exception :         Message = &quot;COM object that has been separated from its underlying RCW cannot be used.&quot;"}, {"owner": {"reputation": 12794, "user_id": 686985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE56D.jpg?s=128&g=1", "display_name": "Stefan Wick  MSFT", "link": "https://stackoverflow.com/users/686985/stefan-wick-msft"}, "reply_to_user": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1497205579, "post_id": 44422224, "comment_id": 75968548, "body": "I have put together a concise sample for you, please let me know if this doesn&#39;t work for you: <a href=\"https://1drv.ms/u/s!AovTwKUMywTNl5NPfMrn4gEYnG4keg\" rel=\"nofollow noreferrer\">1drv.ms/u/s!AovTwKUMywTNl5NPfMrn4gEYnG4keg</a>"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1497261952, "post_id": 44422224, "comment_id": 75986453, "body": "@Stefan_Wich_MSFT your sample works just fine when I include it in my project, but there is one problem, I am actually supplying &quot;Video&quot; class object to the &quot;CompactNowPlayingPage.xaml.cs&quot; class (which has a public static Video field for this purpose) before actually creating the secondary window, so when I try to close it gives me following exception : Message = &quot;Attempt has been made to use a COM object that does not have a backing class factory.&quot; Message = &quot;COM object that has been separated from its underlying RCW cannot be used.&quot;"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1497262942, "post_id": 44422224, "comment_id": 75987086, "body": "I have made the NowPlayingVideo field private and now initializing it through the onnavigatedTo method and I still get the exact same exception."}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1497264477, "post_id": 44422224, "comment_id": 75988109, "body": "I have edited the question to clarify it even more with my code. @Stefan please see the &quot;Update 3&quot; section of the question. Thanks"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1497265078, "post_id": 44422224, "comment_id": 75988436, "body": "Thanks a lot for the help I was able to fix the problem by adding following 3 lines before closing the window.  Media.TransportControls = null;               Media.Source = null;               NowPlayingVideo = null;  Do you know the reason why this fixed my issue?"}, {"owner": {"reputation": 12794, "user_id": 686985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE56D.jpg?s=128&g=1", "display_name": "Stefan Wick  MSFT", "link": "https://stackoverflow.com/users/686985/stefan-wick-msft"}, "reply_to_user": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1497274074, "post_id": 44422224, "comment_id": 75994834, "body": "If you could provide a repro project that demonstrates the behavior we can take a look. Thanks!"}], "tags": [], "owner": {"reputation": 12794, "user_id": 686985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE56D.jpg?s=128&g=1", "display_name": "Stefan Wick  MSFT", "link": "https://stackoverflow.com/users/686985/stefan-wick-msft"}, "is_accepted": true, "score": 3, "last_activity_date": 1496867472, "creation_date": 1496867472, "answer_id": 44422224, "question_id": 44419969, "link": "https://stackoverflow.com/questions/44419969/close-secondary-view-completely-in-uwp/44422224#44422224", "title": "Close secondary view completely in UWP", "body": "<p>The short answer is: you need to make sure nothings holds on to your view instance, and you call Window.Close in the view's Consolidated event. The longer answer with code is here in the official sample. Take a look at the ViewLifetimeControl.cs source file: <a href=\"https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/MultipleViews/cs\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/MultipleViews/cs</a></p>\n"}], "owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3153, "favorite_count": 0, "accepted_answer_id": 44422224, "answer_count": 1, "score": 3, "last_activity_date": 1586984016, "creation_date": 1496859147, "last_edit_date": 1586984016, "question_id": 44419969, "link": "https://stackoverflow.com/questions/44419969/close-secondary-view-completely-in-uwp", "title": "Close secondary view completely in UWP", "body": "<p>I am using a secondary view to run my media files, but When I close my secondary view with close button on it (while media is still playing) the secondary view/window closes but the media somehow keeps playing because I can hear the sound and source of sound seems to be the primary view (main app window). How can I completely terminate the secondary window when I close it?</p>\n\n<p>Here is my code to create the secondary view.</p>\n\n<pre><code>await CoreApplication.CreateNewView().Dispatcher.RunAsync(CoreDispatcherPriority.Normal, () =&gt;\n        {\n            var frame = new Frame();\n            frame.MinHeight = 200;\n            frame.MinWidth = 200;\n            compactViewId = ApplicationView.GetForCurrentView().Id;\n            frame.Navigate(typeof(CompactNowPlayingPage), caption);\n            Window.Current.Content = frame;\n            Window.Current.Activate();\n            ApplicationView.GetForCurrentView().Title = Title;\n\n        });\n        bool viewShown = await ApplicationViewSwitcher.TryShowAsViewModeAsync(compactViewId, ApplicationViewMode.Default);\n</code></pre>\n\n<h2>Update</h2>\n\n<p>After some debugging I've come to know that close button pressed on the secondary view only hides the view but it keeps on running on its thread, I just want that close button to completely close the secondary view, close its thread and destroy the window as a whole.</p>\n\n<h2>Update 2</h2>\n\n<p>I followed windows samples multiple views and was able to complete all steps, the code runs fine until it reaches <code>Windows.Current.Close()</code> in released event.</p>\n\n<p>Then it gives an exception when it tries \"Window.Current.Close()\" with in the released event. according to documentation exception occurs due to any on going changes ( which might be because of media file playing ), but I need to force close the window even when media file is playing how can I do that? Here is the exception:</p>\n\n<blockquote>\n  <p>Message = \"COM object that has been separated from its underlying RCW cannot be used.\"</p>\n</blockquote>\n\n<h2>Update 3</h2>\n\n<p>This is the latest updated, I am not following official sample now, just following simpler approach now.</p>\n\n<p>Code to open secondary view:</p>\n\n<pre><code>await Helpers.DeviceTypeHelper.CompactOpen(e.ClickedItem as Video, identifier); //where identified is just a string for some custom logic in the secondary view.\n\n//following method is located in a helper class within the project\ninternal static async Task CompactOpen(Video PlayingVideo, string caption)\n{\n    ApplicationView newView = null;\n    await CoreApplication.CreateNewView().Dispatcher.RunAsync(CoreDispatcherPriority.Normal, () =&gt;\n    {\n        var frame = new Frame();\n        frame.Navigate(typeof(CompactNowPlayingPage),new object[] { PlayingVideo,caption});\n        Window.Current.Content = frame;\n        Window.Current.Activate();\n        newView = ApplicationView.GetForCurrentView();\n        newView.Title = PlayingVideo.MyVideoFile.DisplayName;\n    });\n\n    await ApplicationViewSwitcher.TryShowAsStandaloneAsync(newView.Id);\n\n}  \n</code></pre>\n\n<p>Secondary View:</p>\n\n<pre><code>public sealed partial class CompactNowPlayingPage : Page\n{\n    public CompactNowPlayingViewModel ViewModel { get; } = new CompactNowPlayingViewModel();\n    private CustomMediaTransportControls controls;\n    public CompactNowPlayingPage()\n    {\n        InitializeComponent();\n        this.Loaded += MediaPage_Loaded;\n        this.Unloaded += MediaPage_Unloaded;\n        Microsoft.Toolkit.Uwp.UI.Extensions.ApplicationView.SetExtendViewIntoTitleBar(this, true);\n        Microsoft.Toolkit.Uwp.UI.Extensions.TitleBar.SetButtonBackgroundColor(this, Colors.Transparent);\n    }\n\n    protected override void OnNavigatedTo(NavigationEventArgs e)\n    {\n        string chk = \"\";\n        var paramm = e.Parameter as object[];\n        NowPlayingVideo = paramm[0] as Video;\n        var vis = Visibility.Collapsed;\n        chk = paramm[1].ToString();\n        switch (chk)\n        {\n            case \"library\":\n                vis = Visibility.Visible;\n                break;\n            case \"playlist\":\n                vis = Visibility.Visible;\n                break;\n            case \"history\":\n                vis = Visibility.Collapsed;\n                break;\n            case \"directplay\":\n                vis = Visibility.Collapsed;\n                break;\n            default:\n                break;\n        }\n        controls = new CustomMediaTransportControls(NowPlayingVideo,vis);\n        Media.TransportControls = controls;\n        PlayVideo();\n    }\n    private Video NowPlayingVideo { get; set; }\n    private void PlayVideo()\n    {\n        if (NowPlayingVideo != null)\n        {\n            string token = \"\";\n            if (StorageApplicationPermissions.FutureAccessList.Entries.Count == 800)\n            {\n                var en = StorageApplicationPermissions.FutureAccessList.Entries;\n                StorageApplicationPermissions.FutureAccessList.Remove(en.Last().Token);\n            }\n            token = StorageApplicationPermissions.FutureAccessList.Add(NowPlayingVideo.MyVideoFile);\n            Media.Source = null;\n            Media.Source = $\"winrt://{token}\";\n            SetViews();\n        }\n    }\n\n    private void SetViews()\n    {\n        NowPlayingVideo.Views++;\n        Database.DbHelper.UpdateViews(NowPlayingVideo.MyVideoFile.Path);\n    }\n    private void MediaPage_Loaded(object sender, RoutedEventArgs e)\n    {\n        Windows.UI.ViewManagement.ApplicationView.GetForCurrentView().Consolidated += MediaPage_Consolidated;\n    }\n\n    private void MediaPage_Unloaded(object sender, RoutedEventArgs e)\n    {\n        Windows.UI.ViewManagement.ApplicationView.GetForCurrentView().Consolidated -= MediaPage_Consolidated;\n    }\n\n    private void MediaPage_Consolidated(Windows.UI.ViewManagement.ApplicationView sender, Windows.UI.ViewManagement.ApplicationViewConsolidatedEventArgs args)\n    {\n        Window.Current.Close();\n    }\n\n}\n</code></pre>\n\n<p>Secondary View XAML:</p>\n\n<pre><code>&lt;Grid Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\"&gt;\n    &lt;vlc:MediaElement AreTransportControlsEnabled=\"True\"\n                      Name=\"Media\"                     \n                      HardwareAcceleration=\"True\"\n                      AutoPlay=\"True\"&gt;\n    &lt;/vlc:MediaElement&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p><strong>Case 1 :</strong> Everything runs perfect if I place a video file in Assets folder and give it as a source to the media element and comment the whole <strong>OnanvigatdTo</strong> method on secondary page. And I am able to successfully close the window as well.\n...</p>\n\n<p><strong>Case 2 :</strong> But when I try to set the media through the <strong>NowPlayingVideo</strong> object as shown in the code above and I also use default Transport Controls, so I don't comment the lines used to assign custom transport controls in the above code it runs fine, but when I then try to close the window I get following exception in <strong>App.i.g.cs</strong> file but stacktrace doesn't exist: </p>\n\n<p>Message = \"Attempt has been made to use a COM object that does not have a backing class factory.\" Message = \"COM object that has been separated from its underlying RCW cannot be used.</p>\n\n<p><strong>Case 3 :</strong> Exactly like case 2 but here I uncomment Custom transport controls lines so now I am assigning custom transport controls to my media element, this time exception is a bit different with some stacktrace as well</p>\n\n<p>StackTrace = \"   at System.StubHelpers.StubHelpers.GetCOMIPFromRCW_WinRT(Object objSrc, IntPtr pCPCMD, IntPtr&amp; ppTarget)\\r\\n   at Windows.UI.Xaml.DependencyObject.get_Dispatcher()\\r\\n   at VLC.MediaElement.d__160.MoveNext()\\r\\n--- End of stack trace ...</p>\n\n<p>Message = \"Attempt has been made to use a COM object that does not have a backing class factory.\"</p>\n"}, {"tags": ["c#", "android", "xamarin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7489552"}, "edited": false, "score": 0, "creation_date": 1496862881, "post_id": 44419853, "comment_id": 75840446, "body": "is it possible i could just assign the data been passed to  adapter to the existing recycleView?"}, {"owner": {"reputation": 15856, "user_id": 5570139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NB8AN.jpg?s=128&g=1", "display_name": "Grace Feng", "link": "https://stackoverflow.com/users/5570139/grace-feng"}, "edited": false, "score": 0, "creation_date": 1496888055, "post_id": 44419853, "comment_id": 75849458, "body": "You want to update your adapter in your activity and display it with recyclerview in fragment? Then you can keep your adapter in your activity and pass it as parameter to fragment when you inflate the fragment, get this parameter in <code>onCreateView</code> and set it as adapter of your recyclerview."}], "owner": {"user_type": "does_not_exist", "display_name": "user7489552"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496858793, "creation_date": 1496858793, "question_id": 44419853, "link": "https://stackoverflow.com/questions/44419853/retrieving-saved-data-from-firebase-xamarin-android", "title": "Retrieving Saved Data from Firebase - Xamarin Android", "body": "<p>I am able to save my data from my app into Firebase (Database). \nIn my fragment, i populate the List_Event and inflate it into a recyclerview (Fragement3). Fragment page contains my holder and adapter. My activity page is where i am trying to do the update list for my recyclerview. I am out of ideas. Kindly help me</p>\n\n<p><strong>Question : Now, what i want to do is, my recyclerviewer should update with the list of data entered into the database.</strong> </p>\n\n<p><strong>List_Event.axml in my layout folder</strong></p>\n\n\n\n<pre><code>&lt;android.support.v7.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/card_view\"\n    android:background=\"#E2E2E2\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginBottom=\"4dp\"\n    card_view:cardCornerRadius=\"7dp\"\n    android:layout_marginRight=\"4dp\"\n    android:layout_marginLeft=\"4dp\"&gt;\n    &lt;LinearLayout\n        android:id=\"@+id/list_view\"\n        android:layout_height=\"wrap_content\"\n        android:layout_width=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"horizontal\"\n            android:weightSum=\"100\"&gt;\n            &lt;ImageView\n                android:layout_width=\"0dp\"\n                android:layout_height=\"match_parent\"\n                android:layout_weight=\"25\"\n                android:adjustViewBounds=\"true\"\n                android:scaleType=\"centerCrop\"\n                android:id=\"@+id/imageView\" /&gt;\n            &lt;LinearLayout\n                android:layout_width=\"0dp\"\n                android:layout_height=\"match_parent\"\n                android:layout_weight=\"63\"\n                android:orientation=\"vertical\"\n                android:paddingRight=\"10dp\"\n                android:paddingLeft=\"10dp\"\n                android:paddingTop=\"7dp\"\n                android:paddingBottom=\"7dp\"&gt;\n                &lt;TextView\n                    android:text=\"Event Name\"\n                    android:textAppearance=\"?android:attr/textAppearanceMedium\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:id=\"@+id/textViewEvent\"\n                    android:textStyle=\"bold\"\n                    android:textColor=\"#000\"\n                    android:gravity=\"center_vertical\"\n                    android:padding=\"2dp\"\n                    android:textSize=\"18sp\" /&gt;\n                &lt;TextView\n                    android:text=\"Date and Time\"\n                    android:textAppearance=\"?android:attr/textAppearanceMedium\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:id=\"@+id/textViewDate\"\n                    android:textColor=\"#000\"\n                    android:gravity=\"center_vertical\"\n                    android:padding=\"2dp\"\n                    android:textSize=\"16sp\" /&gt;\n                &lt;TextView\n                    android:text=\"Venue\"\n                    android:textAppearance=\"?android:attr/textAppearanceMedium\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:id=\"@+id/textViewVenue\"\n                    android:textColor=\"#000\"\n                    android:gravity=\"center_vertical\"\n                    android:padding=\"2dp\"\n                    android:textSize=\"14sp\"\n                    android:singleLine=\"true\" /&gt;\n                &lt;TextView\n                    android:text=\"Description\"\n                    android:textAppearance=\"?android:attr/textAppearanceMedium\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:id=\"@+id/textViewDescription\"\n                    android:textColor=\"#000\"\n                    android:gravity=\"center_vertical\"\n                    android:padding=\"2dp\"\n                    android:textSize=\"14sp\"\n                    android:singleLine=\"true\" /&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=\"0dp\"\n                android:layout_height=\"match_parent\"\n                android:layout_weight=\"12\"\n                android:orientation=\"vertical\"\n                android:minWidth=\"25px\"\n                android:minHeight=\"25px\"\n                android:paddingRight=\"5dp\"&gt;\n                &lt;TextView\n                    android:text=\"15m\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:id=\"@+id/txtTime\"\n                    android:gravity=\"center_horizontal\"\n                    android:paddingTop=\"5dp\" /&gt;\n                &lt;CheckBox\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    android:id=\"@+id/cbxStart\"\n                    android:button=\"@android:drawable/btn_star\" /&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:weightSum=\"100\"\n            android:orientation=\"horizontal\"\n            android:layout_marginTop=\"15dp\"&gt;\n            &lt;ImageButton\n                android:src=\"@drawable/likeheart\"\n                android:layout_width=\"0dp\"\n                android:layout_weight=\"33\"\n                android:layout_height=\"25dp\"\n                android:id=\"@+id/imageButton1\"\n                android:background=\"@android:color/transparent\"\n                android:scaleType=\"fitCenter\" /&gt;\n            &lt;ImageButton\n                android:src=\"@drawable/comments\"\n                android:layout_width=\"0dp\"\n                android:layout_weight=\"33\"\n                android:layout_height=\"25dp\"\n                android:id=\"@+id/imageButton2\"\n                android:background=\"@android:color/transparent\"\n                android:scaleType=\"fitCenter\" /&gt;\n            &lt;ImageButton\n                android:src=\"@drawable/share\"\n                android:layout_width=\"0dp\"\n                android:layout_weight=\"33\"\n                android:layout_height=\"25dp\"\n                android:id=\"@+id/imageButton3\"\n                android:background=\"@android:color/transparent\"\n                android:scaleType=\"fitCenter\" /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n\n<p><strong>Fragment</strong></p>\n\n<pre><code>public class Fragment3 : SupportFragment\n\n\n    {\n\n        public override void OnCreate(Bundle savedInstanceState)\n        {\n            base.OnCreate(savedInstanceState);\n\n\n\n\n            // Create your fragment here\n        }\n\n\n        public override View OnCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\n        {\n            RecyclerView recyclerView = inflater.Inflate(Resource.Layout.Fragment3, container, false) as RecyclerView;\n\n            SetUpRecyclerView(recyclerView);\n\n            return recyclerView;\n        }\n\n\n\n\n        private void SetUpRecyclerView(RecyclerView recyclerView)\n        {\n\n            //var value= GetRandomSubList(PeaceEventsCollection.GetPeaceEvents(), 5);\n            var value = PeaceEventsCollection.GetPeaceEvents();\n\n            recyclerView.SetLayoutManager(new LinearLayoutManager(recyclerView.Context));\n\n            var Adapter = new EventAdapter(PeaceEventsCollection.GetPeaceEvents());\n\n\n\n\n        recyclerView.SetAdapter(Adapter);\n\n            recyclerView.Click += eventClicked;\n\n            Adapter.NotifyDataSetChanged();\n\n            recyclerView.SetItemClickListener((rv, position, view) =&gt;\n            {\n                //An item has been clicked\n                Context context = view.Context;\n                Intent intent = new Intent(context, typeof(EventDetailActivity));\n                intent.PutExtra(EventDetailActivity.EXTRA_NAME,  value[position].EName);\n                intent.PutExtra(EventDetailActivity.EXTRA_DETAIL, value[position].EDescritption);\n                intent.PutExtra(EventDetailActivity.EXTRA_DATE, value[position].EDate);\n\n\n\n                //perform activity to event page\n                context.StartActivity(intent);\n            });\n\n\n\n        }\n\n        private JavaList&lt;PeaceEvents&gt; GetRandomSubList(JavaList&lt;PeaceEvents&gt; items, int amount)\n        {\n            JavaList&lt;PeaceEvents&gt; list = new JavaList&lt;PeaceEvents&gt;();\n            Random random = new Random();\n            while (list.Count &lt; amount)\n            {\n                list.Add(items[random.Next(items.Count)]);\n            }\n\n            return list;\n        }\n\n        private void eventClicked(object sender, EventArgs e)\n        {\n            Intent showEvent = new Intent(Context, typeof(EventActivity));\n            this.StartActivity(showEvent);\n        }\n\n        public class EventAdapter : RecyclerView.Adapter\n        {\n\n            private JavaList&lt;PeaceEvents&gt; peaceEvents;\n\n            public EventAdapter(JavaList&lt;PeaceEvents&gt; peaceEvents)\n            {\n                this.peaceEvents = peaceEvents;\n\n\n            }\n\n\n            public override void OnBindViewHolder(RecyclerView.ViewHolder holder, int position)\n            {\n\n\n                EventHolder hold = holder as EventHolder;\n                hold.EventName.Text = peaceEvents[position].EName;\n                hold.EventImg.SetImageResource(peaceEvents[position].EImage);\n                hold.EventDate.Text = peaceEvents[position].EDate;\n                hold.EventVenue.Text = peaceEvents[position].EVenue;\n                hold.EventDescription.Text = peaceEvents[position].EDescritption;\n\n\n\n\n            }\n\n\n            public override RecyclerView.ViewHolder OnCreateViewHolder(ViewGroup parent, int viewType)\n            {\n                View v = LayoutInflater.From(parent.Context).Inflate(Resource.Layout.List_Event, parent, false);\n                EventHolder holder = new EventHolder(v);\n\n                return holder;\n            }\n\n            public override int ItemCount\n            {\n\n                get { return peaceEvents.Size(); }\n\n            }\n\n        }\n    }\n\n\n\n\n    public class EventHolder : RecyclerView.ViewHolder\n    {\n\n            public TextView EventName;\n            public ImageView EventImg;\n            public TextView EventDate;\n            public TextView EventVenue;\n            public TextView EventDescription;\n            public TextView textIcon;\n            public TextView EventDetailDescription;\n\n\n            public EventHolder(View itemView) : base(itemView)\n            {\n                EventName = itemView.FindViewById&lt;TextView&gt;(Resource.Id.textViewEvent);\n                EventImg = itemView.FindViewById&lt;ImageView&gt;(Resource.Id.imageView);\n                EventDate = itemView.FindViewById&lt;TextView&gt;(Resource.Id.textViewDate);\n                EventVenue = itemView.FindViewById&lt;TextView&gt;(Resource.Id.textViewVenue);\n                EventDescription = itemView.FindViewById&lt;TextView&gt;(Resource.Id.textViewDescription);\n\n                //textIcon = itemView.FindViewById&lt;TextView&gt;(Resource.Id.textViewDate);\n                //textIcon.SetCompoundDrawablesWithIntrinsicBounds(Resource.Drawable.ic_event, 0, 0, 0);\n\n\n\n\n                //itemView.Click += itemView_Click;\n\n\n\n            }\n\n            //private void itemView_Click(object sender, EventArgs e)\n            //{\n            //  listener(this.LayoutPosition);\n            //}\n        }\n\n\n    }\n</code></pre>\n\n<p><strong>Activity</strong></p>\n\n<pre><code>private  async Task LoadData()\n        {\n\n            var firebase = new FirebaseClient(FirebaseUrl);\n            var items = await firebase.Child(\"Games\").OnceAsync&lt;PeaceEvents&gt;();\n\n            peace_Events.Clear();\n\n            EventAdapter adpater = null;\n\n\n\n\n            foreach(var item in items){\n                PeaceEvents events = new PeaceEvents();\n                events.EName = item.Object.EName;\n                events.EDate = item.Object.EDate;\n                events.EDescritption = item.Object.EDescritption;\n                events.EVenue = item.Object.EVenue;\n\n                peace_Events.Add(events);\n\n\n\n            }\n\n            adpater = new EventAdapter(this,peace_Events);\n\n            adpater.NotifyDataSetChanged();\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "sqlite", "listview"], "answers": [{"tags": [], "owner": {"reputation": 113, "user_id": 4625359, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/56b451761b21e148ecb071506a93f9cc?s=128&d=identicon&r=PG&f=1", "display_name": "leapold", "link": "https://stackoverflow.com/users/4625359/leapold"}, "is_accepted": false, "score": 0, "last_activity_date": 1496859674, "creation_date": 1496859674, "answer_id": 44420108, "question_id": 44419816, "link": "https://stackoverflow.com/questions/44419816/c-save-to-sqlite-from-new-form/44420108#44420108", "title": "C# save to SQLite from new form", "body": "<p>Look hire \n<a href=\"http://www.c-sharpcorner.com/UploadFile/718fc8/save-delete-search-and-update-record-in-ado-net/\" rel=\"nofollow noreferrer\">http://www.c-sharpcorner.com/UploadFile/718fc8/save-delete-search-and-update-record-in-ado-net/</a></p>\n\n<p>I like to use entity framework</p>\n\n<pre><code> using (var context = new Db())\n        {\n            try\n            {\n               ...\n                context.SaveChanges();\n            }\n            catch (Exception e)\n            {\n\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 6484663, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/32d6307b96c803018b2339276cb6cede?s=128&d=identicon&r=PG&f=1", "display_name": "Arlid", "link": "https://stackoverflow.com/users/6484663/arlid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496859674, "creation_date": 1496858663, "question_id": 44419816, "link": "https://stackoverflow.com/questions/44419816/c-save-to-sqlite-from-new-form", "title": "C# save to SQLite from new form", "body": "<p>I have a small project in SQLite. I show all of examples in ListViewlike this:</p>\n\n<pre><code>SQLiteConnection oSQLiteConnection =\n                new SQLiteConnection(\"Data Source=database.s3db\");\n            SQLiteCommand oCommand = oSQLiteConnection.CreateCommand();\n            oCommand.CommandText = \"SELECT * FROM PERSONS\";\n            m_oDataAdapter = new SQLiteDataAdapter(oCommand.CommandText,\n                oSQLiteConnection);\n            SQLiteCommandBuilder oCommandBuilder =\n                new SQLiteCommandBuilder(m_oDataAdapter);\n            m_oDataSet = new DataSet();\n            m_oDataAdapter.Fill(m_oDataSet);\n            m_oDataTable = m_oDataSet.Tables[0];\n            lstItems.DataContext = m_oDataTable.DefaultView;\n</code></pre>\n\n<p>I also have a button wchich open new form with field like name, username and I want to click save (in that new open form) and save a new row to my database and update this view. How can I do that? In my \"min\" viewI can do ststaic like this</p>\n\n<pre><code>DataRow oDataRow = m_oDataTable.NewRow();\noDataRow[1] = \"Name\";\noDataRow[2] = \"Username\";\nm_oDataTable.Rows.Add(oDataRow);\nm_oDataAdapter.Update(m_oDataSet);\n</code></pre>\n\n<p>How to save this from a new form? I can't do that :(</p>\n"}, {"tags": ["c#", "sqlite", "transactions", "system.data.sqlite"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2233208"}, "is_accepted": true, "score": 0, "last_activity_date": 1496858704, "creation_date": 1496858704, "answer_id": 44419829, "question_id": 44419753, "link": "https://stackoverflow.com/questions/44419753/sqlite-read-uncommitted-in-same-transaction-as-write/44419829#44419829", "title": "SQLite Read Uncommitted in same transaction as write", "body": "<p>OK, this was my bad - I was actually reading on a different connection ...</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2233208"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 44419829, "answer_count": 1, "score": 0, "last_activity_date": 1496858704, "creation_date": 1496858419, "question_id": 44419753, "link": "https://stackoverflow.com/questions/44419753/sqlite-read-uncommitted-in-same-transaction-as-write", "title": "SQLite Read Uncommitted in same transaction as write", "body": "<p>I'm using SQLite.Net from <a href=\"https://system.data.sqlite.org/\" rel=\"nofollow noreferrer\">sqlite.org</a></p>\n\n<p>I open a connection and begin a transaction. Inside the transaction I insert some rows. In the same transaction I attempt to read the data I have written which I expected to be the default (within the same transaction) however it does not seem to be the case.</p>\n\n<p>I have open the database in WAL mode.</p>\n\n<p>How can I read uncommited in the current transaction?</p>\n"}, {"tags": ["c#", "cryptography", ".net-core", "xml-signature"], "comments": [{"owner": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 0, "creation_date": 1496859915, "post_id": 44419744, "comment_id": 75838748, "body": "Did you take a look at the <a href=\"https://github.com/tintoy/corefx/tree/master/src/System.Security.Cryptography.Xml\" rel=\"nofollow noreferrer\">github.com/tintoy/corefx/tree/master/src/&hellip;</a>"}, {"owner": {"reputation": 8515, "user_id": 1642126, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fcIzZ.jpg?s=128&g=1", "display_name": "daneejela", "link": "https://stackoverflow.com/users/1642126/daneejela"}, "reply_to_user": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 0, "creation_date": 1496861876, "post_id": 44419744, "comment_id": 75839880, "body": "I did, but there are just too many types that are not yet available in dotnet core 1.1."}], "answers": [{"tags": [], "owner": {"reputation": 22888, "user_id": 6535399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x5vsS.jpg?s=128&g=1", "display_name": "bartonjs", "link": "https://stackoverflow.com/users/6535399/bartonjs"}, "is_accepted": true, "score": 2, "last_activity_date": 1496896176, "creation_date": 1496896176, "answer_id": 44426664, "question_id": 44419744, "link": "https://stackoverflow.com/questions/44419744/how-to-verify-xml-digital-signature-in-c-without-using-signedxml/44426664#44426664", "title": "How to verify xml digital signature in c# without using SignedXml?", "body": "<p><a href=\"https://www.w3.org/TR/xmldsig-core/\" rel=\"nofollow noreferrer\">xmldsig</a> is a very large, very complicated spec.  You can try to implement it if you like, the complicated bits are turning the XML document into bytes for doing signing and verification (the <a href=\"https://www.w3.org/TR/2001/REC-xml-c14n-20010315\" rel=\"nofollow noreferrer\">canonicalization (or c14n) spec</a> is separate, and large).</p>\n\n<p>SignedXml should be available now with <a href=\"https://www.microsoft.com/net/core/preview#windowscmd\" rel=\"nofollow noreferrer\">.NET Core 2.0 Preview 1</a>, and upgrading is definitely your easiest bet.</p>\n"}], "owner": {"reputation": 8515, "user_id": 1642126, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fcIzZ.jpg?s=128&g=1", "display_name": "daneejela", "link": "https://stackoverflow.com/users/1642126/daneejela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 831, "favorite_count": 0, "accepted_answer_id": 44426664, "answer_count": 1, "score": 0, "last_activity_date": 1496896176, "creation_date": 1496858399, "question_id": 44419744, "link": "https://stackoverflow.com/questions/44419744/how-to-verify-xml-digital-signature-in-c-without-using-signedxml", "title": "How to verify xml digital signature in c# without using SignedXml?", "body": "<p>How to verify xml signature (used in SOAP requests) without usage of SignedXml (which is not available in dotnet core)? </p>\n\n<p>I am trying like this, but it gives me false all the time: </p>\n\n<pre><code> public static void CheckSignature(XElement responseXml, MyResponseType response)\n    {\n        string originalDigestValue = Convert.ToBase64String(response.Signature.SignedInfo.Reference.FirstOrDefault().DigestValue);\n        var originalSignatureValue = response.Signature.SignatureValue.Value;\n\n        X509DataType certificateData = (X509DataType)response.Signature.KeyInfo.Items[0];\n        X509Certificate2 certificate = new X509Certificate2((byte[])certificateData.Items[0]);\n\n        //for calculating digest value\n        //responseXml.Descendants(nm + \"Signature\").SingleOrDefault().Remove();\n        //var digestValue = Convert.ToBase64String(SHA1.Create().ComputeHash(System.Text.Encoding.UTF8.GetBytes(responseXml.Document.ToString())));\n\n        XNamespace nm = @\"http://www.w3.org/2000/09/xmldsig#\";\n        var signedInfoNode = responseXml.Descendants(nm + \"SignedInfo\").SingleOrDefault();\n\n        var signedInfo = signedInfoNode.ToString().Trim();\n\n        byte[] signedInfoBytes = Encoding.UTF8.GetBytes(signedInfo);\n\n        var hash = SHA1.Create().ComputeHash(signedInfoBytes);\n\n        RSA rsa = certificate.GetRSAPublicKey();\n\n        try\n        {\n            Console.WriteLine(\"Signed Info: \\n\" + signedInfo);\n            Console.WriteLine(\"Verification: \\n\" + rsa.VerifyData(signedInfoBytes, originalSignatureValue, HashAlgorithmName.SHA1, RSASignaturePadding.Pkcs1));\n            Console.WriteLine(\"Verification hash: \\n\" + rsa.VerifyData(hash, originalSignatureValue, HashAlgorithmName.SHA1, RSASignaturePadding.Pkcs1));\n        }\n        catch (Exception exc)\n        {\n           //\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "multithreading", "parallel-processing"], "comments": [{"owner": {"reputation": 4731, "user_id": 1689144, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c33331737d16ff09ad03fe5ff9914e40?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/1689144/kyle"}, "edited": false, "score": 0, "creation_date": 1496858358, "post_id": 44419666, "comment_id": 75837957, "body": "Have you tried it?  What errors/issues did you encounter?"}, {"owner": {"reputation": 3263, "user_id": 6400908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1190440477641121/picture?type=large", "display_name": "User987", "link": "https://stackoverflow.com/users/6400908/user987"}, "reply_to_user": {"reputation": 4731, "user_id": 1689144, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c33331737d16ff09ad03fe5ff9914e40?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/1689144/kyle"}, "edited": false, "score": 0, "creation_date": 1496858431, "post_id": 44419666, "comment_id": 75838007, "body": "@Kyle No I&#39;m actually not even sure how to start it, it&#39;s still &quot;blurry&quot; in my head, which is why I started the discussion to see if it&#39;s doable"}, {"owner": {"reputation": 4731, "user_id": 1689144, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c33331737d16ff09ad03fe5ff9914e40?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/1689144/kyle"}, "edited": false, "score": 0, "creation_date": 1496858639, "post_id": 44419666, "comment_id": 75838098, "body": "Just try it.  It&#39;ll probably work.  Btw, I think you meant <code>counter % allParams.Length</code>.  Passing <code>counter</code> as is will cause you to get <code>ArgumentOutOfRange</code> exception."}, {"owner": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 1, "creation_date": 1496858659, "post_id": 44419666, "comment_id": 75838106, "body": "<code>MaxDegreeOfParallelism</code> does not guarantee that 10 threads will be used. Only that 10 is the maximum."}, {"owner": {"reputation": 3263, "user_id": 6400908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1190440477641121/picture?type=large", "display_name": "User987", "link": "https://stackoverflow.com/users/6400908/user987"}, "reply_to_user": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 0, "creation_date": 1496858785, "post_id": 44419666, "comment_id": 75838172, "body": "@PeterBons it doesn&#39;t really matters how many threads would be used at a time, just that when 1 thread gets released, next available string from allParams is used"}, {"owner": {"reputation": 3263, "user_id": 6400908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1190440477641121/picture?type=large", "display_name": "User987", "link": "https://stackoverflow.com/users/6400908/user987"}, "reply_to_user": {"reputation": 4731, "user_id": 1689144, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c33331737d16ff09ad03fe5ff9914e40?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/1689144/kyle"}, "edited": false, "score": 0, "creation_date": 1496858861, "post_id": 44419666, "comment_id": 75838214, "body": "@Kyle do you mean allParams.Count? It says it doesn&#39;t have this parameter"}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1496863687, "post_id": 44419666, "comment_id": 75840929, "body": "There are no guarantees as to how many threads <code>Parallel</code> will use."}, {"owner": {"reputation": 26725, "user_id": 213550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cyZ5c.jpg?s=128&g=1", "display_name": "VMAtm", "link": "https://stackoverflow.com/users/213550/vmatm"}, "edited": false, "score": 0, "creation_date": 1497027885, "post_id": 44419666, "comment_id": 75923068, "body": "It&#39;s not clear what goes to <code>callingSomeMethod</code> - contents of second or first collection?"}], "answers": [{"tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": false, "score": 0, "last_activity_date": 1496866515, "last_edit_date": 1496866515, "creation_date": 1496862411, "answer_id": 44420892, "question_id": 44419666, "link": "https://stackoverflow.com/questions/44419666/combining-parallel-loop-with-thread-logic/44420892#44420892", "title": "Combining Parallel loop with thread logic", "body": "<p>So you have sort of a \"jagged array,\" two lists of different lengths that need to be zipped together for processing, with the shorter of the two lists repeating as needed.  That about it? </p>\n\n<p>How about something like this?</p>\n\n<pre><code>var allParams = new List&lt;string&gt;(); // supposingly has 10 items inside it\nvar secondCollection = new List&lt;string&gt;(); // collection of 100\nvar queue = new ConcurrentQueue&lt;string&gt;(secondCollection); //Copy of 100\n\nwhile (queue.Count &gt; 0)\n{\n    Parallel.ForEach(allParams, new ParallelOptions { MaxDegreeOfParallelism = 10 }, \n    (param) =&gt;\n    {\n        string item;\n        bool ok = queue.TryDequeue(out item);\n        if (ok)\n        {\n            callingSomeMethod(param, item);\n        }\n    });\n}\n</code></pre>\n\n<p>The idea is that you put items from the longer list in a <a href=\"https://msdn.microsoft.com/en-us/library/dd287208(v=vs.110).aspx\" rel=\"nofollow noreferrer\">ConcurrentQueue</a>, then iterate over the shorter list repeatedly until the queue is empty.  Each iteration gets an item from the iterator in <code>foreach</code> loop and from the queue, and can process both items together.  </p>\n"}], "owner": {"reputation": 3263, "user_id": 6400908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1190440477641121/picture?type=large", "display_name": "User987", "link": "https://stackoverflow.com/users/6400908/user987"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496866515, "creation_date": 1496858131, "question_id": 44419666, "link": "https://stackoverflow.com/questions/44419666/combining-parallel-loop-with-thread-logic", "title": "Combining Parallel loop with thread logic", "body": "<p>I have written a code which looks like this:</p>\n\n<pre><code>var allParams = new List&lt;string&gt;(); // supposingly has 10 items inside it\nvar secondCollection = new List&lt;string&gt;(); // collection of 100\nParallel.For(0, secondCollection.Count(), new ParallelOptions { \nMaxDegreeOfParallelism = 10 }, counter =&gt; \n{\n    callingSomeMethod(params[counter]);\n});\n</code></pre>\n\n<p>I'm trying to figure out the best way here how to combine my params collection with the parallel for loop to make somethnig like following:</p>\n\n<ul>\n<li>when 10 threads start at the same time, I'd like to pass all 10 elements inside the callingSomeMethod method, and when one of these threads end, then I'd like to just simply start allover again passing element at position 0 , 1, 2, 3,4,5,6,7,8,9,0,1,2,3... </li>\n</ul>\n\n<p>And so the cycle would repeat itself until the Parallel.For loop would end it's cycle...</p>\n\n<p>Is this doable with Paralllel loops? I'm not really sure how would I implement this, can someone help me out ?</p>\n"}, {"tags": ["c#", "json", "unity3d", "unity5"], "comments": [{"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1496859583, "post_id": 44419658, "comment_id": 75838572, "body": "Which platform are you building this for?"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1496859720, "post_id": 44419658, "comment_id": 75838655, "body": "For standalone builds I use <code>Application.dataPath</code> which is adjacent to the executable file itself. I then use a subfolder (e.g. <code>Application.dataPath + &quot;RuntimeData&quot;</code>) and save there."}, {"owner": {"reputation": 3181, "user_id": 1464227, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/61c5a1da1efca4f4b08366526c4d6562?s=128&d=identicon&r=PG", "display_name": "Green_qaue", "link": "https://stackoverflow.com/users/1464227/green-qaue"}, "edited": false, "score": 0, "creation_date": 1496860057, "post_id": 44419658, "comment_id": 75838820, "body": "I am building exclusively for PC. Just want to get an understanding of where everything goes after a &quot;real&quot; installation. Still very new to Unity"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1496866616, "post_id": 44419658, "comment_id": 75842563, "body": "If you have a file that contains the default value you should put it in the Resources folder. You then check if this is the first time the app is running. If so, read from the Resources folder then copy those default values to the <code>Application.persistentDataPath</code> with the <code>DataHandler</code> class. If this is not the first time then use the <code>DataHandler</code> class to read from your old value. See the last part of my answer for how to do this."}], "answers": [{"comments": [{"owner": {"reputation": 3181, "user_id": 1464227, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/61c5a1da1efca4f4b08366526c4d6562?s=128&d=identicon&r=PG", "display_name": "Green_qaue", "link": "https://stackoverflow.com/users/1464227/green-qaue"}, "edited": false, "score": 2, "creation_date": 1496867999, "post_id": 44421935, "comment_id": 75843246, "body": "Thanks, great answer. So how come I only need to read from the Resources on firstTimeOpening? Also, does this go for Sprites as well? because I set plenty of sprite images using <code>Resources.Load</code> if I need them to change at runtime."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 3181, "user_id": 1464227, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/61c5a1da1efca4f4b08366526c4d6562?s=128&d=identicon&r=PG", "display_name": "Green_qaue", "link": "https://stackoverflow.com/users/1464227/green-qaue"}, "edited": false, "score": 0, "creation_date": 1496868685, "post_id": 44421935, "comment_id": 75843593, "body": "If you have default values in a json file that your game will use....For example, all player live starts from 100. If you have that 100 and over many values inside a json file instead of hardcoding it in your code, you need a way read that json file. You also don&#39;t want this default value file to be modified. So you put it in the Resources folder. On the first time your app is ran, you load all your Game default data values from that file and save it with the <code>DataHandler</code> class."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 3181, "user_id": 1464227, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/61c5a1da1efca4f4b08366526c4d6562?s=128&d=identicon&r=PG", "display_name": "Green_qaue", "link": "https://stackoverflow.com/users/1464227/green-qaue"}, "edited": false, "score": 0, "creation_date": 1496868825, "post_id": 44421935, "comment_id": 75843667, "body": "Now, you don&#39;t need the load that default data from the resources again until player decides to reset the game. The reason you don&#39;t want to load the default value again is because the value may have been changed by the player. You now want to be loading values saved by the <code>DataHandler</code> class since that&#39;s the latest value."}, {"owner": {"reputation": 3181, "user_id": 1464227, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/61c5a1da1efca4f4b08366526c4d6562?s=128&d=identicon&r=PG", "display_name": "Green_qaue", "link": "https://stackoverflow.com/users/1464227/green-qaue"}, "edited": false, "score": 0, "creation_date": 1496907518, "post_id": 44421935, "comment_id": 75856858, "body": "It does :) I keep all my Item data in a Json, which is an Array of several hundred items, however this data will never be changed or effected by the game, so maybe I should always load it from Resources. Currently I just load/save that the same way I handle modified data (playerData, Inventory). Ill make sure to change that then."}, {"owner": {"reputation": 3181, "user_id": 1464227, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/61c5a1da1efca4f4b08366526c4d6562?s=128&d=identicon&r=PG", "display_name": "Green_qaue", "link": "https://stackoverflow.com/users/1464227/green-qaue"}, "edited": false, "score": 1, "creation_date": 1496908444, "post_id": 44421935, "comment_id": 75857459, "body": "Works like a charm btw, makes a lot more sense to save &quot;static&quot; data in the Resources folder. Thanks!!"}, {"owner": {"reputation": 1282, "user_id": 5477506, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-kc2TFMm7rkM/AAAAAAAAAAI/AAAAAAAABGQ/9rG5Wq8D2jE/photo.jpg?sz=128", "display_name": "Skylin R", "link": "https://stackoverflow.com/users/5477506/skylin-r"}, "edited": false, "score": 0, "creation_date": 1579251699, "post_id": 44421935, "comment_id": 105711438, "body": "Good answer however on iOS you don&#39;t need to create folder inside Documents because Unity will do it for you. So you can just directly create file inside persistentData."}], "tags": [], "owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "is_accepted": true, "score": 17, "last_activity_date": 1496866212, "creation_date": 1496866212, "answer_id": 44421935, "question_id": 44419658, "link": "https://stackoverflow.com/questions/44419658/location-of-application-persistentdatapath-in-a-build/44421935#44421935", "title": "Location of Application.persistentDataPath in a build", "body": "<p>In the answer below:</p>\n\n<ul>\n<li><em>companyname</em> = Company name from the <em>Build Settings</em></li>\n<li><em>productname</em> = Product name from the <em>Build Settings</em></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/tgXTI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tgXTI.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Windows</strong>:</p>\n\n<pre><code>C:\\Users\\&lt;userprofile&gt;\\AppData\\LocalLow\\&lt;companyname&gt;\\&lt;productname&gt;\n</code></pre>\n\n<p><strong>Windows Store</strong>:</p>\n\n<pre><code>%userprofile%\\AppData\\Local\\Packages\\&lt;productname&gt;\\LocalState\n</code></pre>\n\n<hr>\n\n<p><strong>Mac</strong>:</p>\n\n<pre><code>~/Library/Application Support/companyname/productname\n</code></pre>\n\n<p>older version of Unity on Mac:</p>\n\n<ul>\n<li><p><code>~/Library/Caches folder</code></p></li>\n<li><p><code>~/Library/Application Support/unity.companyname.productname.</code></p></li>\n</ul>\n\n<p><strong>Linux</strong>:</p>\n\n<pre><code>$XDG_CONFIG_HOME/unity3d/&lt;companyname&gt;/&lt;productname&gt;\n</code></pre>\n\n<p>which is the-same as </p>\n\n<pre><code>~/.config/unity3d/&lt;companyname&gt;/&lt;productname&gt;\n</code></pre>\n\n<p><strong>Android</strong>:</p>\n\n<pre><code>/Data/Data/com.&lt;companyname&gt;.&lt;productname&gt;/files\n</code></pre>\n\n<p>with SD card on the Android device:</p>\n\n<pre><code>/storage/sdcard0/Android/data/com.&lt;companyname&gt;.&lt;productname&gt;/files\n</code></pre>\n\n<p><strong>iOS</strong>:</p>\n\n<pre><code>/var/mobile/Containers/Data/Application/&lt;RandomFolderName&gt;/Documents\n</code></pre>\n\n<p>Example of the RandomFolderName full name:</p>\n\n<pre><code>/var/mobile/Containers/Data/Application/&lt;055811B9-D125-41B1-A078-F898B06F8C58&gt;/Documents\n</code></pre>\n\n<p>On iOS, you will be given access to the app's sandbox which is the Document folder. You must create folder inside this directory in order to create a new file inside it.</p>\n\n<hr>\n\n<p>If you have a default data values in a json file, put the file in <em>Assets/Resources</em> folder so that it will be <em>read-only</em> then read it with <a href=\"https://docs.unity3d.com/ScriptReference/TextAsset.html\" rel=\"noreferrer\"><code>TextAsset</code></a>. When the game loads, you can use <code>PlayerPrefs</code> to check if this is the <a href=\"https://stackoverflow.com/a/36956927/3785314\"><em>first time</em></a> the game being loaded. </p>\n\n<p>If this is the first time, use the value from <a href=\"https://docs.unity3d.com/ScriptReference/TextAsset.html\" rel=\"noreferrer\"><code>TextAsset.text</code></a>. If it is not use then value saved with the <code>DataHandler</code> class.</p>\n\n<p>Roughly something like this:</p>\n\n<pre><code>if (PlayerPrefs.GetInt(\"FIRSTTIMEOPENING\", 1) == 1)\n{\n    Debug.Log(\"First Time Opening\");\n\n    //Set first time opening to false\n    PlayerPrefs.SetInt(\"FIRSTTIMEOPENING\", 0);\n\n    //USE TextAsset to load data\n    TextAsset txtAsset = (TextAsset)Resources.Load(\"player\", typeof(TextAsset));\n    string tileFile = txtAsset.text;\n    PlayerInfo pInfo = JsonUtility.FromJson&lt;PlayerInfo&gt;(tileFile);\n}\nelse\n{\n    Debug.Log(\"NOT First Time Opening\");\n\n    //USE DataHandler to load data\n    PlayerInfo pInfo = DataHandler.loadData&lt;PlayerInfo&gt;(\"player\");\n}\n</code></pre>\n"}], "owner": {"reputation": 3181, "user_id": 1464227, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/61c5a1da1efca4f4b08366526c4d6562?s=128&d=identicon&r=PG", "display_name": "Green_qaue", "link": "https://stackoverflow.com/users/1464227/green-qaue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18183, "favorite_count": 6, "accepted_answer_id": 44421935, "answer_count": 1, "score": 4, "last_activity_date": 1496866332, "creation_date": 1496858092, "last_edit_date": 1496866332, "question_id": 44419658, "link": "https://stackoverflow.com/questions/44419658/location-of-application-persistentdatapath-in-a-build", "title": "Location of Application.persistentDataPath in a build", "body": "<p>When I run my game from the editor and save load data, I find that data in: <code>C:\\Users\\User\\AppData\\LocalLow\\DefaultCompany\\projectname\\data</code>. </p>\n\n<p>When I build it and get an executable, that data still loads fine, but if I save and restart, it does not get saved. However it does when I launch it from the Editor.</p>\n\n<p>Is this a fault in my code or is the files somewhere else when I don't run it from Unity Editor?</p>\n\n<p>Later when I export the game to launch it, I have persistent data I Json files that have to come with it for the game to work.</p>\n\n<p>For clarity, <a href=\"https://stackoverflow.com/questions/40965645/what-is-the-best-way-to-save-game-state/40966346#40966346\">here</a> is the class that handles save/load of Json:</p>\n\n<pre><code>public class DataHandler\n{\n    //Save Data\n    public static void saveData&lt;T&gt;(T dataToSave, string dataFileName)\n    {\n        string tempPath = Path.Combine(Application.persistentDataPath, \"data\");\n        tempPath = Path.Combine(tempPath, dataFileName + \".txt\");\n\n        //Convert To Json then to bytes\n        string jsonData = JsonUtility.ToJson(dataToSave, true);\n        byte[] jsonByte = Encoding.ASCII.GetBytes(jsonData);\n\n        //Create Directory if it does not exist\n        if (!Directory.Exists(Path.GetDirectoryName(tempPath)))\n        {\n            Directory.CreateDirectory(Path.GetDirectoryName(tempPath));\n        }\n        //Debug.Log(path);\n\n        try\n        {\n            File.WriteAllBytes(tempPath, jsonByte);\n            Debug.Log(\"Saved Data to: \" + tempPath.Replace(\"/\", \"\\\\\"));\n        }\n        catch (Exception e)\n        {\n            Debug.LogWarning(\"Failed To PlayerInfo Data to: \" + tempPath.Replace(\"/\", \"\\\\\"));\n            Debug.LogWarning(\"Error: \" + e.Message);\n        }\n    }\n\n    //Load Data\n    public static T loadData&lt;T&gt;(string dataFileName)\n    {\n        string tempPath = Path.Combine(Application.persistentDataPath, \"data\");\n        tempPath = Path.Combine(tempPath, dataFileName + \".txt\");\n\n        //Exit if Directory or File does not exist\n        if (!Directory.Exists(Path.GetDirectoryName(tempPath)))\n        {\n            Debug.LogWarning(\"Directory does not exist\");\n            return default(T);\n        }\n\n        if (!File.Exists(tempPath))\n        {\n            Debug.Log(\"File does not exist\");\n            return default(T);\n        }\n\n        //Load saved Json\n        byte[] jsonByte = null;\n        try\n        {\n            jsonByte = File.ReadAllBytes(tempPath);\n            Debug.Log(\"Loaded Data from: \" + tempPath.Replace(\"/\", \"\\\\\"));\n        }\n        catch (Exception e)\n        {\n            Debug.LogWarning(\"Failed To Load Data from: \" + tempPath.Replace(\"/\", \"\\\\\"));\n            Debug.LogWarning(\"Error: \" + e.Message);\n        }\n\n        //Convert to json string\n        string jsonData = Encoding.ASCII.GetString(jsonByte);\n\n        //Convert to Object\n        object resultValue = JsonUtility.FromJson&lt;T&gt;(jsonData);\n        return (T)Convert.ChangeType(resultValue, typeof(T));\n    }\n\n    public static bool deleteData(string dataFileName)\n    {\n        bool success = false;\n\n        //Load Data\n        string tempPath = Path.Combine(Application.persistentDataPath, \"data\");\n        tempPath = Path.Combine(tempPath, dataFileName + \".txt\");\n\n        //Exit if Directory or File does not exist\n        if (!Directory.Exists(Path.GetDirectoryName(tempPath)))\n        {\n            Debug.LogWarning(\"Directory does not exist\");\n            return false;\n        }\n\n        if (!File.Exists(tempPath))\n        {\n            Debug.Log(\"File does not exist\");\n            return false;\n        }\n\n        try\n        {\n            File.Delete(tempPath);\n            Debug.Log(\"Data deleted from: \" + tempPath.Replace(\"/\", \"\\\\\"));\n            success = true;\n        }\n        catch (Exception e)\n        {\n            Debug.LogWarning(\"Failed To Delete Data: \" + e.Message);\n        }\n\n        return success;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "dictionary", "reflection", "casting"], "comments": [{"owner": {"reputation": 4048, "user_id": 2173516, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/P3SKn.png?s=128&g=1", "display_name": "Noel Widmer", "link": "https://stackoverflow.com/users/2173516/noel-widmer"}, "edited": false, "score": 0, "creation_date": 1496858049, "post_id": 44419615, "comment_id": 75837787, "body": "Generics are compile time resolved. You cannot resolve a generic type during runtime with reflection."}, {"owner": {"reputation": 1375, "user_id": 2351039, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wCmqF.jpg?s=128&g=1", "display_name": "Felix Castor", "link": "https://stackoverflow.com/users/2351039/felix-castor"}, "edited": false, "score": 0, "creation_date": 1496858218, "post_id": 44419615, "comment_id": 75837873, "body": "Is <code>CacheBase</code> the interface for other derivative types?  Are you sure the key is generic or is it a property of <code>CacheBase</code>?"}, {"owner": {"reputation": 37143, "user_id": 517852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9XmOJ.jpg?s=128&g=1", "display_name": "Mike Zboray", "link": "https://stackoverflow.com/users/517852/mike-zboray"}, "edited": false, "score": 3, "creation_date": 1496858246, "post_id": 44419615, "comment_id": 75837893, "body": "<code>Dictionary&lt;T,V&gt;</code> implements a non-generic interface <code>IDictionary</code>. Perhaps you could access it through that. But in general if you don&#39;t have compile-time types, then using generics is just going to create more pain than they are worth."}], "answers": [{"tags": [], "owner": {"reputation": 240, "user_id": 4907948, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/01d7dd41e3de4ad6aa06fce05fc75425?s=128&d=identicon&r=PG&f=1", "display_name": "Carson", "link": "https://stackoverflow.com/users/4907948/carson"}, "is_accepted": true, "score": 0, "last_activity_date": 1496879478, "creation_date": 1496879478, "answer_id": 44424502, "question_id": 44419615, "link": "https://stackoverflow.com/questions/44419615/accessing-a-generic-dictionary-via-casting-at-runtime/44424502#44424502", "title": "Accessing a generic dictionary via casting at runtime", "body": "<p>Managed to fix it on my own, but for future people,</p>\n\n<p>Essentially, I had to flip the perspective. I can't cast an existing dictionary to another equivalent type via reflection, however the goal was to do so so I could modify the dictionary with Types at runtime.</p>\n\n<p>So instead, I made a generic method that would communicate with the dictionary in the way it wanted (if it expects a TKey, I made my method take a TKey so it would work properly).</p>\n\n<p>e.g.</p>\n\n<pre><code>public void RemoveFromCache&lt;TCache, TKey&gt;( Type type, TKeykey ) where TCache : CacheBase&lt;TKey&gt; {\n  ((Dictionary&lt;TKey, TCache&gt;)m_caches[type]).Remove( key );\n}\n</code></pre>\n\n<p>After that, I simply used reflection to call my generic method at runtime with the types passed in as the appropriate generics</p>\n\n<p>e.g.</p>\n\n<pre><code>var keyType = key.GetType();\nvar removeFromCache = GetType().GetMethod( nameof( RemoveFromCache ) ).MakeGenericMethod( type, keyType );\nremoveFromCache.Invoke( this, new object[] { type, key } );\n</code></pre>\n\n<p>And that let me communicate with a Dictionary that was boxed into an object at runtime with only types available.</p>\n"}], "owner": {"reputation": 240, "user_id": 4907948, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/01d7dd41e3de4ad6aa06fce05fc75425?s=128&d=identicon&r=PG&f=1", "display_name": "Carson", "link": "https://stackoverflow.com/users/4907948/carson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 44424502, "answer_count": 1, "score": -1, "last_activity_date": 1496879478, "creation_date": 1496857927, "question_id": 44419615, "link": "https://stackoverflow.com/questions/44419615/accessing-a-generic-dictionary-via-casting-at-runtime", "title": "Accessing a generic dictionary via casting at runtime", "body": "<p>Our program has a dictionary of type:</p>\n\n<pre><code>Dictionary&lt;TKey, TCache&gt;();\n</code></pre>\n\n<p>where TKey and TCache are whatever generic types the encompassing method is given, and TCache is a CacheBase.</p>\n\n<p>In another method I need to reference this object (which is stored in another dictionary where it's stored as an object) and remove a key/value pair from it. At runtime I have the TKey object boxed as an 'object' class.</p>\n\n<p>How would I go about this? I can't cast to Dictionary because this method is not generic and won't know at compile time what type of cache/key it is. These are passed as parameters.</p>\n\n<p>Is there a way to use reflection to cast the dictionary from Dictionary to effectively</p>\n\n<pre><code>Dictionary&lt;CacheBase&lt;key.GetType()&gt;, key.GetType()&gt;\n</code></pre>\n\n<p>I know this can easily fixed by not using the methods generics and instead making the Dictionary a Dictionary and making CaseBase extend an empty CacheBase, but my supervisor insisted I do it this way</p>\n"}, {"tags": ["c#", "razor", "asp.net-core", "asp.net-core-mvc"], "comments": [{"owner": {"reputation": 8765, "user_id": 1945525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E7uTt.jpg?s=128&g=1", "display_name": "rickvdbosch", "link": "https://stackoverflow.com/users/1945525/rickvdbosch"}, "edited": false, "score": 0, "creation_date": 1496859119, "post_id": 44419613, "comment_id": 75838345, "body": "Could you add some code? You might have referenced the model incorrectly, or not have the model&#39;s namespace in the view usings."}, {"owner": {"reputation": 556, "user_id": 6040687, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/KI6Bk.jpg?s=128&g=1", "display_name": "Ceshion", "link": "https://stackoverflow.com/users/6040687/ceshion"}, "reply_to_user": {"reputation": 8765, "user_id": 1945525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E7uTt.jpg?s=128&g=1", "display_name": "rickvdbosch", "link": "https://stackoverflow.com/users/1945525/rickvdbosch"}, "edited": false, "score": 0, "creation_date": 1496859208, "post_id": 44419613, "comment_id": 75838384, "body": "I figured it out pretty quickly after retracing my steps, see answer below c:"}], "answers": [{"tags": [], "owner": {"reputation": 556, "user_id": 6040687, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/KI6Bk.jpg?s=128&g=1", "display_name": "Ceshion", "link": "https://stackoverflow.com/users/6040687/ceshion"}, "is_accepted": false, "score": 0, "last_activity_date": 1496859159, "creation_date": 1496859159, "answer_id": 44419974, "question_id": 44419613, "link": "https://stackoverflow.com/questions/44419613/missing-compilation-references-in-razor-pages-after-adding-model/44419974#44419974", "title": "missing compilation references in Razor pages after adding model", "body": "<p>This will happen if the properties you're using on your view model are not marked <code>public</code>. In my case, I had them marked <code>internal</code> and so was getting this error.</p>\n"}], "owner": {"reputation": 556, "user_id": 6040687, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/KI6Bk.jpg?s=128&g=1", "display_name": "Ceshion", "link": "https://stackoverflow.com/users/6040687/ceshion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 330, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496859159, "creation_date": 1496857921, "last_edit_date": 1496858602, "question_id": 44419613, "link": "https://stackoverflow.com/questions/44419613/missing-compilation-references-in-razor-pages-after-adding-model", "title": "missing compilation references in Razor pages after adding model", "body": "<p>I am creating a .NET Core web app using framework 4.6.2. I built my first view, testing throughout, until I added my view model and the page now errors out whenever I navigate to it. The errors are shown below. The ViewModel has all of the referenced properties on it. I don't even have a project.json given it's a brand new project on VS17.</p>\n\n<p><a href=\"https://i.stack.imgur.com/xKnYD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xKnYD.png\" alt=\"screenshot showing referenced errors including Type Expected, type or namespace TModel could not be found, and several instances of &quot;View Model does not contain a definition for property&quot;\"></a></p>\n"}, {"tags": ["c#", "optimization", "stream", "biztalk", "pipeline"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1496858070, "post_id": 44419578, "comment_id": 75837796, "body": "Iterating through the string is the absolute least expensive operation you&#39;ve mentioned, and making all the rules some share the same iteration is not practical. The requirement is insane. Here&#39;s what you need to do: Call your superior who dreamed up this face-eatingly delusional notion, and say, &quot;I have a very particular set of skills...&quot;"}, {"owner": {"reputation": 1166, "user_id": 4508732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4kHbUzaSJCg/AAAAAAAAAAI/AAAAAAAABKs/pmWe5PHQpdY/photo.jpg?sz=128", "display_name": "mjw", "link": "https://stackoverflow.com/users/4508732/mjw"}, "edited": false, "score": 0, "creation_date": 1496858295, "post_id": 44419578, "comment_id": 75837915, "body": "It would probably be easier to offer suggestions or &quot;don&#39;t do this&quot; with some code. Is the requirement to improve the performance of this process, and if yes, how much of an improvement are you hoping to achieve?"}, {"owner": {"reputation": 26764, "user_id": 144746, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/170e317e1e3d42b520786bcec9dfb409?s=128&d=identicon&r=PG", "display_name": "Voo", "link": "https://stackoverflow.com/users/144746/voo"}, "edited": false, "score": 5, "creation_date": 1496858371, "post_id": 44419578, "comment_id": 75837963, "body": "The same question for every kind of performance improvement: Have you actually profiled this? And did the results seriously suggest that this was the best way to start improving? The amount of pointless work being done because people don&#39;t profile before optimising is always astonishing to me."}, {"owner": {"reputation": 19, "user_id": 3931007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dee87533bb2c19ba9f9cddd5ef7c065c?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/3931007/adam"}, "edited": false, "score": 0, "creation_date": 1496868915, "post_id": 44419578, "comment_id": 75843712, "body": "Current solution is iterating string per business rule. So, OK, suppose that is the best option as list of business rules grow, and they will grow exponentially, then so will the latency between delivery and decisions. That being said - i came up with a more object oriented approach that may suffice. Creating objects for these business rules and caching a list of these objects, i&#39;ll define a nullable property for &quot;actual value&quot;. Making a deep copy as each document arrives, then &#39;read once&#39; updating each obj with actual value for that document; returning rule listwhere expected val = actual val"}, {"owner": {"reputation": 10704, "user_id": 2855738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tKCuQ.png?s=128&g=1", "display_name": "Johns-305", "link": "https://stackoverflow.com/users/2855738/johns-305"}, "edited": false, "score": 0, "creation_date": 1496945832, "post_id": 44419578, "comment_id": 75883413, "body": "Is this a BizTalk question?"}, {"owner": {"reputation": 19, "user_id": 3931007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dee87533bb2c19ba9f9cddd5ef7c065c?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/3931007/adam"}, "edited": false, "score": 0, "creation_date": 1496956640, "post_id": 44419578, "comment_id": 75888998, "body": "Meh sort&#39;ve. After I realized I was unable to achieve a 100% streaming pipeline component given the result of these business rules would be promoted to context i focused on just the concept of optimizing the rule evaluation in a normal pipeline component. Anyways - since people were curious i did a benchmark on both solutions. Average execution time of iteration method is about 1200ms while object oriented streaming model is 12ms - happy to share if anyone is interested"}], "owner": {"reputation": 19, "user_id": 3931007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dee87533bb2c19ba9f9cddd5ef7c065c?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/3931007/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1496857824, "creation_date": 1496857824, "question_id": 44419578, "link": "https://stackoverflow.com/questions/44419578/loop-through-business-rule-checks-on-stream-while-only-reading-stream-once-c", "title": "Loop through business rule checks on stream while only reading stream once C#", "body": "<p>I'm overthinking this probably.</p>\n\n<p>I have a stream of data, which contains a delimited string. I have a ton of business rules defined in a DB that basically say \"if the value in this position equals [this] then this rule is true\" - it's a lot more complicated as the rules can be grouped/negated (if not this then true). So on so forth.</p>\n\n<p>Anyways...current state i read the stream into a string, loop through business rule groups iterating the string each time, and compile an arraylist of the business rules this string matched up to. Not efficient at all given this is a streaming component and for each new group of rules it adds to processing time.</p>\n\n<p>My requirement is to now deter from instantiating a string, read through the stream one time and still come up with the same result (array list of business rules ID that apply)</p>\n\n<p>Is this possible? Not looking for code, just concept. Have a few ideas but they don't even sound good on paper.</p>\n"}, {"tags": ["c#", "unit-testing", "integration-testing", "system-testing"], "answers": [{"tags": [], "owner": {"reputation": 1546, "user_id": 4410674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb4899e4d5ddf6c49930f0b4161af21?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Bailey", "link": "https://stackoverflow.com/users/4410674/nick-bailey"}, "is_accepted": true, "score": 1, "last_activity_date": 1496858549, "creation_date": 1496858549, "answer_id": 44419786, "question_id": 44419494, "link": "https://stackoverflow.com/questions/44419494/how-to-test-a-web-service-with-different-configurations/44419786#44419786", "title": "How to test a web service with different configurations?", "body": "<p>It depends a bit on what kind of automated testing you want to do. Under the circumstances, unit testing or integration testing against a in-process version of your application seems like it would make sense. </p>\n\n<p>Your best option in these cases is to abstract the reading of the configuration into a class that can be mocked. For example, imagine the configuration you change is in your AppSettings you might do something similar to this</p>\n\n<pre><code>public interface IConfigurationWrapper\n{\n    string GetAppSetting(string key);\n}\n\npublic class ConfigurationWrapper : IConfigurationWrapper\n{\n     public string GetAppSetting(string key)\n     {\n         return ConfigurationManager.AppSettings[key]\n     }\n}\n</code></pre>\n\n<p>Your components should take a dependency on an<br>\n<code>IConfigurationWrapper</code>, and use it whenever you need to access configuration to determine behavior. In your test, you can use a mocking library like Moq or NSubstitute, or roll your own stub implementation of the <code>IConfigurationWrapper</code> and use that to controll the behavior of the system under test, like this:</p>\n\n<pre><code>public class MyThingDoer\n{\n    public MyThingDoer(IConfigurationWrapper config)\n    {\n         _config = config\n    }\n\n    public string SaySomething()\n    {\n        var thingToSay = _config.GetAppSetting(\"ThingToSay\");\n        return thingToSay;\n    }\n}\n</code></pre>\n\n<p>And then in your test</p>\n\n<pre><code>[Fact]\npublic void ThingDoerSaysWhatConfigTellsItToSay()\n{\n    var configWrapper = new FakeConfigWrapper(thingToSay:\"Hello\");\n    var doer = new MyThingDoer(configWrapper);\n    Assert.Equal(\"Hello\", doer.SaySomething());\n}\n</code></pre>\n\n<p>Obviously that's a toy example, but it should get at the basic idea. Write an abstraction around the external dependency, then stub the dependency.</p>\n"}], "owner": {"reputation": 4705, "user_id": 746461, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cab04a8efb05937830be8df8a033e5fd?s=128&d=identicon&r=PG", "display_name": "Gqqnbig", "link": "https://stackoverflow.com/users/746461/gqqnbig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "closed_date": 1496859770, "accepted_answer_id": 44419786, "answer_count": 1, "score": 0, "last_activity_date": 1496858549, "creation_date": 1496857553, "last_edit_date": 1496857921, "question_id": 44419494, "link": "https://stackoverflow.com/questions/44419494/how-to-test-a-web-service-with-different-configurations", "closed_reason": "Duplicate", "title": "How to test a web service with different configurations?", "body": "<p>I want to automatically test <a href=\"http://localhost/api.ashx\" rel=\"nofollow noreferrer\">http://localhost/api.ashx</a>.</p>\n\n<p>api.ashx reads configurations from web.config and acts differently.</p>\n\n<p>For example one key is AllowDuplicatedQueryParameter. If web.config has</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appSettings&gt;\n  &lt;add key=\"AllowDuplicatedQueryParameter\" value=\"false\" /&gt;\n&lt;/appSettings&gt;\n</code></pre>\n\n<p>requesting to <a href=\"http://localhost/api.ashx?name=hello&amp;name=world\" rel=\"nofollow noreferrer\">http://localhost/api.ashx?<strong>name</strong>=hello&amp;<strong>name</strong>=world</a> will throw error.</p>\n\n<p>How do I have an automated test that tests different configurations, namely when AllowDuplicatedQueryParameter=true and AllowDuplicatedQueryParameter=false? </p>\n"}, {"tags": ["c#", "android", "xamarin", "while-loop"], "comments": [{"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 1, "creation_date": 1496857772, "post_id": 44419481, "comment_id": 75837624, "body": "If the first code block is executed from a UI event it will block the interface, you have a blocking loop in the case <code>IsConnectedOrConnecting</code> is true (also, the code will never exit the loop as you don&#39;t refresh the <code>NetworkInfo</code> instance and will always have the same value)."}, {"owner": {"reputation": 59, "user_id": 6491310, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/4e86a19832e440fd6c412da781e1fdc0?s=128&d=identicon&r=PG&f=1", "display_name": "Wassim Dernayka", "link": "https://stackoverflow.com/users/6491310/wassim-dernayka"}, "reply_to_user": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1496868685, "post_id": 44419481, "comment_id": 75843594, "body": "I have understand. How can I solve the problem ?"}, {"owner": {"reputation": 10428, "user_id": 5610850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SpulC.jpg?s=128&g=1", "display_name": "Elvis Xia - MSFT", "link": "https://stackoverflow.com/users/5610850/elvis-xia-msft"}, "edited": false, "score": 0, "creation_date": 1497400236, "post_id": 44419481, "comment_id": 76058598, "body": "@WassimDernayka Have you solved the problem?"}], "answers": [{"tags": [], "owner": {"reputation": 10428, "user_id": 5610850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SpulC.jpg?s=128&g=1", "display_name": "Elvis Xia - MSFT", "link": "https://stackoverflow.com/users/5610850/elvis-xia-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1496913039, "creation_date": 1496913039, "answer_id": 44431386, "question_id": 44419481, "link": "https://stackoverflow.com/questions/44419481/while-loop-is-causing-items-to-disappear/44431386#44431386", "title": "While loop is causing items to disappear", "body": "<p>You can use <code>BroadcastReceiver</code> to receive  action: <code>android.net.wifi.STATE_CHANGE</code> to detect the connecting or connected.</p>\n\n<p>WifiReceiver.cs:</p>\n\n<pre><code>[BroadcastReceiver(Enabled =true)]\n[IntentFilter( new [] { \"android.net.wifi.STATE_CHANGE\"})]\npublic class WifiReceiver : BroadcastReceiver\n{\n\n    public override void OnReceive(Context context, Intent intent)\n    {\n       NetworkInfo info=intent.GetParcelableExtra(WifiManager.ExtraNetworkInfo) as NetworkInfo;\n        if (info != null &amp;&amp; info.IsConnected)\n        {\n\n            ConnectivityManager manager =(ConnectivityManager) context.GetSystemService(Context.ConnectivityService);\n            NetworkInfo netInfo = (NetworkInfo)manager.GetNetworkInfo(ConnectivityType.Wifi);\n            AudioManager audioManager = (AudioManager)context.GetSystemService(Context.AudioService);\n\n            if (netInfo.IsConnectedOrConnecting)\n            {\n                Toast.MakeText(context, \"Wifi is connected\", ToastLength.Short).Show();\n                audioManager.RingerMode = RingerMode.Silent;\n            }\n            else\n            {\n                audioManager.RingerMode = RingerMode.Normal;\n            }\n\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 6491310, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/4e86a19832e440fd6c412da781e1fdc0?s=128&d=identicon&r=PG&f=1", "display_name": "Wassim Dernayka", "link": "https://stackoverflow.com/users/6491310/wassim-dernayka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1496913039, "creation_date": 1496857514, "last_edit_date": 1496861384, "question_id": 44419481, "link": "https://stackoverflow.com/questions/44419481/while-loop-is-causing-items-to-disappear", "title": "While loop is causing items to disappear", "body": "<p>I am working on an Android project using c# and xamarin (Visual Studio). My idea is to mute the phone whenever it connects to a wifi. So I have one textview and one button and those are my codes till now:</p>\n\n<pre><code>AudioManager audioManager = (AudioManager)GetSystemService(Context.AudioService);\nConnectivityManager connManager = (ConnectivityManager)GetSystemService(Context.ConnectivityService);\n        NetworkInfo mWifi = connManager.GetNetworkInfo(ConnectivityType.Wifi);\n            while (mWifi.IsConnectedOrConnecting)\n        {\n            audioManager.RingerMode = RingerMode.Silent;\n        }\n</code></pre>\n\n<p>My codes are working great but with some bugs: When the phone is connected to wifi, it mute but also all my items in my layout are disappearing. And when the phone is not connected to wifi, it doesn't mute but all my items are still in their place. Why is this happening ?\nIn addition, I want the program to run in the background so that whenever the phone is connected to a wifi, it mute. To do that I have created this service class but it doesn't seems to work:</p>\n\n<pre><code>  [Service]\npublic class DemoService : Service\n{\n    public override IBinder OnBind(Intent intent)\n    {\n        throw new NotImplementedException();\n    }\n\n    public override StartCommandResult OnStartCommand(Intent intent, StartCommandFlags flags, int startId)\n    {\n        var t = new Thread(() =&gt;\n        {\n            Log.Debug(\"DemoService\", \"Doing work\");\n            Thread.Sleep(5000);\n            Log.Debug(\"DemoService\", \"Work complete\");\n            StopSelf();\n        }\n        );\n        t.Start();\n        return StartCommandResult.Sticky;\n    }\n</code></pre>\n\n<p>Any help would be greatly appreciated!\nThank you</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1496857600, "post_id": 44419456, "comment_id": 75837536, "body": "Why would you put <code>if (IsPostBack)</code> in a button click handler? Unless you&#39;re manually calling <code>Button1_Click</code> somewhere in your C#, then that check is useless."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1496857624, "post_id": 44419456, "comment_id": 75837543, "body": "varbinary(max) expects a byte array.  So open the file and use ReadAllBytes."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 3, "creation_date": 1496857759, "post_id": 44419456, "comment_id": 75837620, "body": "Side note: I would recommend against persisting files in the DB. Sql Server is a relational database, a file is unstructured data which makes it a poor fit for storing in a DB. A better option would be to store the file on disk and store a pointer to that disk in the DB so you can retrieve it when needed."}], "owner": {"reputation": 11, "user_id": 8089117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f62ee82a6403e7a4f1243a09c57efcf?s=128&d=identicon&r=PG&f=1", "display_name": "Mute", "link": "https://stackoverflow.com/users/8089117/mute"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1496857530, "creation_date": 1496857409, "last_edit_date": 1496857530, "question_id": 44419456, "link": "https://stackoverflow.com/questions/44419456/upload-files-into-database", "title": "Upload files into Database", "body": "<p>I wanna create 2 texts box for (username and password), 1 fileUpload and 1 button to submit.\nand I wanna make the admin to type the username and password then he can upload the file and submit (add it to the database).</p>\n\n<p>everything it's work fine but my problem with fileupload...\n**and I wanna save it in database  as(varbinary(max)).</p>\n\n<pre><code>protected void Button1_Click(object sender, EventArgs e)\n{\n    SqlConnection IDB = new SqlConnection(ConfigurationManager.ConnectionStrings[\"DatabaseConnectionString1\"].ConnectionString);\n    {\n        SqlCommand IDBcom = new SqlCommand(\"Insert into Users(ID, Code, pdf) Values(@ID, @Code ,@pdf)\", IDB);\n\n                IDBcom.Parameters.AddWithValue(\"@ID\", TextBox1.Text);\n                IDBcom.Parameters.AddWithValue(\"@Code\", TextBox2.Text);\n\n           IDBcom.Parameters.AddWithValue(\"@pdf\", FileUpload1);\n\n                IDB.Open();\n                IDBcom.ExecuteNonQuery();\n                IDB.Close();\n\n                if (IsPostBack)\n                {\n                    TextBox1.Text = \"\";\n                    TextBox2.Text = \"\";\n                    FileUpload1 = null;\n                }\n\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "concurrency", "async-await"], "comments": [{"owner": {"reputation": 213217, "user_id": 41071, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0ec0f5be7749c8cc8ccda4a809103f36?s=128&d=identicon&r=PG", "display_name": "svick", "link": "https://stackoverflow.com/users/41071/svick"}, "edited": false, "score": 1, "creation_date": 1497784023, "post_id": 44419385, "comment_id": 76214997, "body": "This sounds like you&#39;d be better of with a Roslyn analyzer than a unit test."}], "answers": [{"tags": [], "owner": {"reputation": 1164, "user_id": 7500843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff4db79fc33cf41edadd5b21c3ff7f4?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushal", "link": "https://stackoverflow.com/users/7500843/kaushal"}, "is_accepted": false, "score": 2, "last_activity_date": 1496865613, "creation_date": 1496865613, "answer_id": 44421772, "question_id": 44419385, "link": "https://stackoverflow.com/questions/44419385/need-help-improving-the-architecture-of-a-functional-command-system/44421772#44421772", "title": "Need help improving the architecture of a functional command system", "body": "<p>You can use reflection to ensure all fields and properties are read only. However for validating if assignments are correct, you may have to validate command value assignment based on your requirement</p>\n\n<pre><code>    public void ValidateAllFieldsAreInitOnly(Type sut)\n    {\n        foreach(var field in sut.GetFields(BindingFlags.NonPublic |\n                                     BindingFlags.Instance |\n                                     BindingFlags.Static |\n                                     BindingFlags.Public))\n        {\n            Assert.IsTrue(field.IsInitOnly);\n        }\n\n        foreach (var property in sut.GetProperties(BindingFlags.NonPublic |\n                                     BindingFlags.Instance |\n                                     BindingFlags.Static |\n                                     BindingFlags.Public))\n        {\n            // returns true if the property has a set accessor, even if the accessor is private, internal \n            Assert.IsFalse(property.CanWrite);\n\n            // OR can use depending on requirement\n\n            // The MethodInfo object representing the Set method for this property if the set accessor is public, or null if the set accessor is not public.\n            Assert.IsNull(property.GetSetMethod());\n        }\n    }\n</code></pre>\n\n<p>Note this will not catch scenarios when someone declare property as read only however initialize it in wrong manner ex -</p>\n\n<p>Test will be <strong>green</strong> for </p>\n\n<pre><code>public class GoodCommand\n{\n\n    private readonly string privateField1;\n\n    private readonly string privateField2;\n    public GoodCommand(string field1, string field2)\n    {\n        privateField1 = field1;\n        privateField2 = field2;\n    }\n}\n</code></pre>\n\n<p>Test will catch <strong>(red)</strong></p>\n\n<pre><code>public class BadCommand\n{\n\n    private readonly string privateField1;\n\n    private string privateField2;\n    public BadCommand(string field1)\n    {\n        privateField1 = field1;\n        privateField2 = \"testingbadCommand\";\n    }\n}\n</code></pre>\n\n<p>For this case test is green because proper assignment checking may vary based on requirement. You can catch this scenario also by validating if value assigned is as expected.</p>\n\n<pre><code>public class SmartBadCommand\n{\n    private readonly string privateField1;\n\n    private readonly string privateField2;\n    public SmartBadCommand(string field1)\n    {\n        privateField1 = field1;\n        privateField2 = \"testingbadCommand\";\n    }\n}\n</code></pre>\n\n<p>Hope this help.</p>\n"}], "owner": {"reputation": 2512, "user_id": 650027, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6d1507ab9996c8ba8d73bef048b08f96?s=128&d=identicon&r=PG", "display_name": "jchristof", "link": "https://stackoverflow.com/users/650027/jchristof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496865613, "creation_date": 1496857154, "last_edit_date": 1496861405, "question_id": 44419385, "link": "https://stackoverflow.com/questions/44419385/need-help-improving-the-architecture-of-a-functional-command-system", "title": "Need help improving the architecture of a functional command system", "body": "<p>Given a set of commands whose Execute() method can be called concurrently, is there a way to unit test the command classes to ensure that other maintainers of the code don't add member data (other than readonly members passed to the constructor)?</p>\n\n<p>Example:\nWhen the code starts, create a mapping between scripted actions and commands that can service the action:</p>\n\n<pre><code>actionCommandTable = \n[\u201cTranslate\u201d, new TranslateCommand(appcontext)],\n[\u201cScale\u201d, new ScaleCommand(appcontext)],\n[\u201cAssignment\u201d new AssignmentCommand(appcontext, expressionEvaluator)]\n</code></pre>\n\n<p>Then at runtime:</p>\n\n<pre><code>actionCommandTable[\u201cTranslate\u201d].Execute(actionDataContext);\n</code></pre>\n\n<p>The translate command:</p>\n\n<pre><code>public class TranslateAction : ActionCommand {\n        //read-only interface\n        private readonly AliasProvider aliasMap;\n        //bad - need to prevent this instance from being added - will be overwritten unexpectedly\n        private int transientValue; \n        public TranslateAction(IAppContext appContext) {\n            aliasMap = appContext.AliasMap;\n        }\n        public override async Task Execute(ActionDataContext actionDataContext) {\n            //assign to transientValue\n            //do some work\n            //await an animation\n            //do more work\n            //read from transientValue\n        }\n\n    }\n</code></pre>\n\n<p>In this example, all the work in Execute is ok if it doesn't work on shared members.</p>\n\n<p>actionDataContext is intended to be the target of transient statefull data.</p>\n"}, {"tags": ["c#", "asp.net", "excel"], "answers": [{"comments": [{"owner": {"reputation": 2611, "user_id": 2838509, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ddc514bdff431b6db641bba4d96d7658?s=128&d=identicon&r=PG&f=1", "display_name": "NPadrutt", "link": "https://stackoverflow.com/users/2838509/npadrutt"}, "edited": false, "score": 0, "creation_date": 1496857914, "post_id": 44419557, "comment_id": 75837709, "body": "But do I not dispose the com objects when I close the excelApp?"}, {"owner": {"reputation": 1146, "user_id": 5301606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a6871f92d83ce555edcf15a5eee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "C. Helling", "link": "https://stackoverflow.com/users/5301606/c-helling"}, "reply_to_user": {"reputation": 2611, "user_id": 2838509, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ddc514bdff431b6db641bba4d96d7658?s=128&d=identicon&r=PG&f=1", "display_name": "NPadrutt", "link": "https://stackoverflow.com/users/2838509/npadrutt"}, "edited": false, "score": 0, "creation_date": 1496858394, "post_id": 44419557, "comment_id": 75837974, "body": "@NPadrutt No, you need to release the COM objects (see here: <a href=\"https://stackoverflow.com/questions/158706/how-do-i-properly-clean-up-excel-interop-objects\" title=\"how do i properly clean up excel interop objects\">stackoverflow.com/questions/158706/&hellip;</a>). Personally, I can&#39;t stand Excel Interop, and I&#39;d recommend an Excel library (e.g. ClosedXML, EPPlus, NPOI, etc) instead."}, {"owner": {"reputation": 2611, "user_id": 2838509, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ddc514bdff431b6db641bba4d96d7658?s=128&d=identicon&r=PG&f=1", "display_name": "NPadrutt", "link": "https://stackoverflow.com/users/2838509/npadrutt"}, "edited": false, "score": 0, "creation_date": 1496859787, "post_id": 44419557, "comment_id": 75838694, "body": "Thanks your answer and comments. I will also have a look at the libraries :)"}], "tags": [], "owner": {"reputation": 1463, "user_id": 4121714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204a24de5ac68f36edb9e26c7beaf0e2?s=128&d=identicon&r=PG&f=1", "display_name": "SouXin", "link": "https://stackoverflow.com/users/4121714/souxin"}, "is_accepted": true, "score": 1, "last_activity_date": 1496858576, "last_edit_date": 1496858576, "creation_date": 1496857742, "answer_id": 44419557, "question_id": 44419375, "link": "https://stackoverflow.com/questions/44419375/excel-interop-unable-to-start-server-exception-after-several-calls/44419557#44419557", "title": "excel interop unable to start server exception after several calls", "body": "<p>According to <a href=\"https://support.microsoft.com/en-us/help/870655/you-may-receive-an-error-code-80080005----server-execution-failed.-error-message-when-you-start-many-com-applications\" rel=\"nofollow noreferrer\">Microsoft Support</a>, that kind of error </p>\n\n<blockquote>\n  <p>You may receive an \"Error code 80080005 -- server execution failed.\" error message when you start many COM+ applications</p>\n</blockquote>\n\n<p>arise when you are using too many com applications. And you have a pretty much not disposed unmanaged resources. Every time use <code>using</code> statement in you are using input-output operations.</p>\n\n<p><strong>Update</strong> No. You don't. Closing an Excel is not releasing COM object while the application is running.</p>\n\n<p>You need to:</p>\n\n<pre><code>        //include marshal\n        using System.Runtime.InteropServices;\n        //release objects\n        Marshal.ReleaseComObject(excelApp);\n        Marshal.ReleaseComObject(excelWorkbooks);\n        Marshal.ReleaseComObject(workbook);\n</code></pre>\n"}], "owner": {"reputation": 2611, "user_id": 2838509, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ddc514bdff431b6db641bba4d96d7658?s=128&d=identicon&r=PG&f=1", "display_name": "NPadrutt", "link": "https://stackoverflow.com/users/2838509/npadrutt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1861, "favorite_count": 0, "accepted_answer_id": 44419557, "answer_count": 1, "score": 0, "last_activity_date": 1496858576, "creation_date": 1496857116, "question_id": 44419375, "link": "https://stackoverflow.com/questions/44419375/excel-interop-unable-to-start-server-exception-after-several-calls", "title": "excel interop unable to start server exception after several calls", "body": "<p>I have an asp.net MVC Webapplication who uses the excel interop to open a csv in an excel save the file as an xlsx and load the bytes from that file. These bytes are then passed as a download.</p>\n\n<p>So far everything works as expected. but after the 6 download I get the following exception. Unfortunately it's on german, since the server is setup in german. But the exception message is something like \"80080005 starting the server failed\".</p>\n\n<pre><code>Die COM-Klassenfactory f\u00fcr die Komponente mit CLSID {00024500-0000-0000-C000-000000000046} konnte aufgrund des folgenden Fehlers nicht abgerufen werden: 80080005 Starten des Servers fehlgeschlagen (Ausnahme von HRESULT: 0x80080005 (CO_E_SERVER_EXEC_FAILURE)).\n\n    Beschreibung: Unbehandelte Ausnahme beim Ausf\u00fchren der aktuellen Webanforderung. \u00dcberpr\u00fcfen Sie die Stapel\u00fcberwachung, um weitere Informationen \u00fcber diesen Fehler anzuzeigen und festzustellen, wo der Fehler im Code verursacht wurde. \n\n    Ausnahmedetails: System.Runtime.InteropServices.COMException: Die COM-Klassenfactory f\u00fcr die Komponente mit CLSID {00024500-0000-0000-C000-000000000046} konnte aufgrund des folgenden Fehlers nicht abgerufen werden: 80080005 Starten des Servers fehlgeschlagen (Ausnahme von HRESULT: 0x80080005 (CO_E_SERVER_EXEC_FAILURE)).\n</code></pre>\n\n<p>When I restart the website, it works again for the next 5-7 downloads.</p>\n\n<p>here is my code for the excel:</p>\n\n<pre><code>private byte[] WriteExcel(SelectionResult result)\n{\n        var csvPath = Path.Combine(Settings.Default.FileGenerationPath, DateTime.Now.ToString(\"yyMMMddhhmmss\") + \"_\" +new Random().Next(1000, 9999)+\".csv\");\n        var excelPath = Path.Combine(Settings.Default.FileGenerationPath, DateTime.Now.ToString(\"yyMMMddhhmmss\") + \"_\" + new Random().Next(1000, 9999)+\".xlsx\");\n\n        var excelApp = new Application();\n        File.WriteAllBytes(csvPath, WriteCsv(result, true));\n\n        var excelWorkbooks = excelApp.Workbooks;\n        excelWorkbooks.Open(csvPath, Delimiter: \",\");\n        var workbook = excelApp.ActiveWorkbook;\n\n        workbook.SaveAs(excelPath, XlFileFormat.xlOpenXMLWorkbook);\n\n        excelWorkbooks.Close();\n        excelApp.Quit();\n\n        var bytes = File.ReadAllBytes(excelPath);\n        File.Delete(csvPath);\n        File.Delete(excelPath);\n        return bytes;\n    }\n</code></pre>\n\n<p>What do I miss?</p>\n"}, {"tags": ["c#", "mysql", "nhibernate"], "comments": [{"owner": {"reputation": 3817, "user_id": 5588910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXypN.png?s=128&g=1", "display_name": "Naruto", "link": "https://stackoverflow.com/users/5588910/naruto"}, "edited": false, "score": 0, "creation_date": 1496858767, "post_id": 44419308, "comment_id": 75838160, "body": "Can you please provide code snippet? Then only we can help you."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 51484, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa9d84497a4d0bda5afad2ec0b9fe9eb?s=128&d=identicon&r=PG", "display_name": "cangerer", "link": "https://stackoverflow.com/users/51484/cangerer"}, "edited": false, "score": 0, "creation_date": 1496861403, "post_id": 44420034, "comment_id": 75839617, "body": "Nothing is null in the query.  I send in several constants and based on the logged query the one dynamic value is attached as a parameter."}], "tags": [], "owner": {"reputation": 3817, "user_id": 5588910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXypN.png?s=128&g=1", "display_name": "Naruto", "link": "https://stackoverflow.com/users/5588910/naruto"}, "is_accepted": false, "score": 0, "last_activity_date": 1496859404, "creation_date": 1496859404, "answer_id": 44420034, "question_id": 44419308, "link": "https://stackoverflow.com/questions/44419308/nhibernate-and-mysql-missing-column-exception/44420034#44420034", "title": "NHibernate and MySql Missing column Exception", "body": "<p>Ok got the problem. Its because some of the arguement you are passing in your prepared statement is null, thats why this error. I had similar issue earlier and i solved it by checking only if it is not null add it in query filtering.</p>\n\n<p>Also there is another possibility of row lock by any other query. Are you using lock in mysql query?</p>\n\n<p>2nd problem seems like see the solution stated below</p>\n\n<p><a href=\"https://forums.asp.net/t/1230295.aspx?IDataReader+Could+not+find+specified+column+in+results+\" rel=\"nofollow noreferrer\">https://forums.asp.net/t/1230295.aspx?IDataReader+Could+not+find+specified+column+in+results+</a></p>\n"}], "owner": {"reputation": 115, "user_id": 51484, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa9d84497a4d0bda5afad2ec0b9fe9eb?s=128&d=identicon&r=PG", "display_name": "cangerer", "link": "https://stackoverflow.com/users/51484/cangerer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496860211, "creation_date": 1496856899, "last_edit_date": 1496860211, "question_id": 44419308, "link": "https://stackoverflow.com/questions/44419308/nhibernate-and-mysql-missing-column-exception", "title": "NHibernate and MySql Missing column Exception", "body": "<p>From time to time my web application begins throwing the following errors.</p>\n\n<p>Using NHibernate 4.0.0.4000 and MySql.Data 6.8.3</p>\n\n<p>Stack Trace<br />\n<a href=\"http://pastebin.ca/3830439\" rel=\"nofollow noreferrer\">ERROR [(null)] - Message:could not execute query</a></p>\n\n<p>NHibernate log<br />\n<a href=\"http://pastebin.ca/3830438\" rel=\"nofollow noreferrer\">NHibernate.Util.ADOExceptionReporter WARN - System.IndexOutOfRangeException: Could not find specified column in results:</a></p>\n\n<p>Once once of these errors occur it begins to happen frequently until the web application is restart.  </p>\n\n<p>It's odd that it only happens to some users and not all.  Also I noticed in this particular log message the values of p4 and p5 should be swapped.</p>\n\n<p>Is this an issue with the query cache?</p>\n\n<p>Does anyone have some insight into why this is happening?</p>\n\n<p>If it helps here is the gnarly query (but I see this error on much simpler queries as well)</p>\n\n<pre><code>FunderInfoViewModel funderDto = null;\nFunder funderAlias = null;\nContact contactAlias = null;\n\nvar totalOpportunitiesAwardedCount = QueryOver.Of&lt;Opportunity&gt;()\n                .Where(o =&gt; o.Funder.Id == funderAlias.Id)\n                .And(o =&gt; o.Status == OpportunityStatus.Awarded || o.Status == OpportunityStatus.AwardedClosed)\n                .SelectList(list =&gt; list\n                    .SelectCount(o =&gt; o.Id));\n\n            var totalOpportunitiesAwardedSum = QueryOver.Of&lt;Opportunity&gt;()\n                .Where(o =&gt; o.Funder.Id == funderAlias.Id)\n                .And(o =&gt; o.Status == OpportunityStatus.Awarded || o.Status == OpportunityStatus.AwardedClosed)\n                .SelectList(list =&gt; list\n                    .SelectSum(o =&gt; o.AmountAwarded));\n\n            var totalOpportunitiesCount = QueryOver.Of&lt;Opportunity&gt;()\n                .Where(o =&gt; o.Funder.Id == funderAlias.Id)\n                .SelectList(list =&gt; list\n                    .SelectCount(o =&gt; o.Id));\n\n            IEnumerable&lt;FunderInfoViewModel&gt; funders = _session.QueryOver(() =&gt; funderAlias)\n                .Left.JoinAlias(f =&gt; f.Contacts, () =&gt; contactAlias, x =&gt; x.IsDefault)\n                .Where(o =&gt; o.Organization.Id == organizationId)\n                .SelectList(list =&gt; list\n                    .Select(x =&gt; x.Id)\n                    .WithAlias(() =&gt; funderDto.Id)\n                    .Select(x =&gt; x.Name)\n                    .WithAlias(() =&gt; funderDto.Name)\n                    .Select(x =&gt; x.Description)\n                    .WithAlias(() =&gt; funderDto.Description)\n                    .Select(x =&gt; x.AreasOfInterest)\n                    .WithAlias(() =&gt; funderDto.AreasOfInterest)\n                    .Select(x =&gt; x.Type)\n                    .WithAlias(() =&gt; funderDto.FunderType)\n                    .Select(x =&gt; x.TaxId)\n                    .WithAlias(() =&gt; funderDto.TaxId)\n                    .Select(x =&gt; x.PhoneNumber)\n                    .WithAlias(() =&gt; funderDto.PhoneNumber)\n                    .Select(x =&gt; x.FaxNumber)\n                    .WithAlias(() =&gt; funderDto.FaxNumber)\n                    .Select(x =&gt; x.EmailAddress)\n                    .WithAlias(() =&gt; funderDto.EmailAddress)\n                    .Select(x =&gt; x.Website)\n                    .WithAlias(() =&gt; funderDto.Website)\n                    .Select(x =&gt; x.CustomLink)\n                    .WithAlias(() =&gt; funderDto.CustomLink)\n                    .Select(x =&gt; x.MinimumFundingRange)\n                    .WithAlias(() =&gt; funderDto.MinimumFundingRange)\n                    .Select(x =&gt; x.MaximumFundingRange)\n                    .WithAlias(() =&gt; funderDto.MaximumFundingRange)\n                    .Select(() =&gt; contactAlias.FirstName)\n                    .WithAlias(() =&gt; funderDto.PrimaryContactFirstName)\n                    .Select(() =&gt; contactAlias.LastName)\n                    .WithAlias(() =&gt; funderDto.PrimaryContactLastName)\n                    .Select(() =&gt; contactAlias.Title)\n                    .WithAlias(() =&gt; funderDto.PrimaryContactTitle)\n                    .SelectSubQuery(totalOpportunitiesAwardedCount)\n                    .WithAlias(() =&gt; funderDto.AwardedOpportunitiesCount)\n                    .SelectSubQuery(totalOpportunitiesAwardedSum)\n                    .WithAlias(() =&gt; funderDto.AwardedOpportunitiesValue)\n                    .SelectSubQuery(totalOpportunitiesCount)\n                    .WithAlias(() =&gt; funderDto.OpportunitiesCount)\n                )\n                .OrderBy(f =&gt; f.Name)\n                .Asc\n                .TransformUsing(Transformers.AliasToBean&lt;FunderInfoViewModel&gt;())\n                .List&lt;FunderInfoViewModel&gt;();\n</code></pre>\n\n<p></p>\n"}, {"tags": ["c#", ".net", "json", "visual-studio", "asp.net-web-api2"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1496946978, "post_id": 44419281, "comment_id": 75884040, "body": "Are you getting an error?"}], "answers": [{"comments": [{"owner": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "edited": false, "score": 0, "creation_date": 1496858615, "post_id": 44419447, "comment_id": 75838083, "body": "is there an easier way to do this than having to have those attributes? rather than using json.net maybe a different library?"}, {"owner": {"reputation": 320, "user_id": 5199961, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/58494a36a24405304e06ac5c8f0fc4e1?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Gilmore", "link": "https://stackoverflow.com/users/5199961/paul-gilmore"}, "reply_to_user": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "edited": false, "score": 0, "creation_date": 1503946089, "post_id": 44419447, "comment_id": 78809671, "body": "I do custom parsing with SimpleJson as well, in some CSharp projects. SimpleJson in general isn&#39;t as fully featured, and the main repository has some bugs that haven&#39;t been resolved. But honestly, the customization isn&#39;t any easier in SimpleJson, just different."}], "tags": [], "owner": {"reputation": 320, "user_id": 5199961, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/58494a36a24405304e06ac5c8f0fc4e1?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Gilmore", "link": "https://stackoverflow.com/users/5199961/paul-gilmore"}, "is_accepted": false, "score": 0, "last_activity_date": 1496857369, "creation_date": 1496857369, "answer_id": 44419447, "question_id": 44419281, "link": "https://stackoverflow.com/questions/44419281/how-to-convert-odata-json-to-concrete-dto/44419447#44419447", "title": "how to convert odata json to concrete DTO", "body": "<p>I'm making some assumptions that you don't specify:</p>\n\n<ul>\n<li>I assume you're using Json.net</li>\n</ul>\n\n<p>For the date properties, you want to add the attribute [IsoDateTimeConverter], which comes with Json.net</p>\n\n<p>So...</p>\n\n<pre><code>[IsoDateTimeConverter]\npublic DateTime CreatedOn { get; }\n</code></pre>\n\n<p>DateTime properties won't parse ISO 8601 strings by default, you have to use the converter.</p>\n\n<p>And basically, that's your answer for the Guid's and such as well, except you also have to implement those converters for yourself.  You have to create a converter class, and read the input string, and parse it into the Guid object.  Then decorate each Guid property with a [YourCustomGuidConverter] attribute.</p>\n"}], "owner": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 285, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496857369, "creation_date": 1496856814, "question_id": 44419281, "link": "https://stackoverflow.com/questions/44419281/how-to-convert-odata-json-to-concrete-dto", "title": "how to convert odata json to concrete DTO", "body": "<p>I am attempting to take some ugly json, that looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6D4CR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6D4CR.png\" alt=\"enter image description here\"></a></p>\n\n<p>And deserialize it to my DTO:</p>\n\n<pre><code>public class Account\n{\n    [JsonProperty(\"@odata.etag\")]\n    public string etag { get; set; }\n    public Guid accountid { get; }\n    public DateTime CreatedOn { get; }\n    public Guid OwnerId { get; }\n    public string Name { get; set; }\n    public DateTime ModifiedOn { get; }\n    public Guid CreatedBy { get; }\n\n}\n\npublic class RootObject\n{\n    [JsonProperty(\"@odata.context\")]\n    public string context { get; set; }\n    public List&lt;Account&gt; value { get; set; }\n}\n</code></pre>\n\n<p>This is how I attempt to do it:</p>\n\n<pre><code>    public async Task&lt;Account&gt; GetAccount(string query)\n    {\n        var task = await Client.HTTPCLIENT.GetAsync(Client.HTTPCLIENT.BaseAddress + query);\n        var jsonString = await task.Content.ReadAsStringAsync();\n        var value = JsonConvert.DeserializeObject&lt;RootObject&gt;(jsonString);\n        return value.value.First();\n    }\n</code></pre>\n\n<p>And my response partially works:</p>\n\n<pre><code>{\"@odata.etag\":\"W/\\\"608578\\\"\",\"accountid\":\"00000000-0000-0000-0000-000000000000\",\"CreatedOn\":\"0001-01-01T00:00:00\",\"OwnerId\":\"00000000-0000-0000-0000-000000000000\",\"Name\":\"Smith\",\"ModifiedOn\":\"0001-01-01T00:00:00\",\"CreatedBy\":\"00000000-0000-0000-0000-000000000000\"}\n</code></pre>\n\n<p><strong>What am I doing wrong? How do I convert this odata json response to a c# object?</strong></p>\n"}, {"tags": ["c#", "oxyplot"], "comments": [{"owner": {"reputation": 2180, "user_id": 4651351, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kdqiZ.jpg?s=128&g=1", "display_name": "FoggyFinder", "link": "https://stackoverflow.com/users/4651351/foggyfinder"}, "edited": false, "score": 0, "creation_date": 1497330202, "post_id": 44419265, "comment_id": 76018101, "body": "So, you want to add annotation?"}], "answers": [{"tags": [], "owner": {"reputation": 759, "user_id": 6101163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6e6d0d1e518c458d8893a6a4e46615?s=128&d=identicon&r=PG&f=1", "display_name": "dd4711", "link": "https://stackoverflow.com/users/6101163/dd4711"}, "is_accepted": false, "score": 1, "last_activity_date": 1497520525, "creation_date": 1497520525, "answer_id": 44564440, "question_id": 44419265, "link": "https://stackoverflow.com/questions/44419265/how-do-i-display-text-on-a-lineseries-plot/44564440#44564440", "title": "How Do I Display Text on a LineSeries Plot?", "body": "<p>You can add annotations to your plot. For displaying text use <code>TextAnnotation</code>. </p>\n\n<p>Add the annotations to your model, providing a <code>DataPoint</code> for the location and the <code>Text</code> for the text to display. For example</p>\n\n<pre><code>yourModel.Annotations.Add(new TextAnnotation { TextPosition = new DataPoint(DateTimeAxis.ToDouble(now), wert), Text = \"82.3%\" });\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8127102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f4bf2080141bc30bdc8009bbd1eec3e?s=128&d=identicon&r=PG&f=1", "display_name": "D Ari", "link": "https://stackoverflow.com/users/8127102/d-ari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1497520525, "creation_date": 1496856762, "question_id": 44419265, "link": "https://stackoverflow.com/questions/44419265/how-do-i-display-text-on-a-lineseries-plot", "title": "How Do I Display Text on a LineSeries Plot?", "body": "<p>I'm trying to print the value of a point onto the plot, but the documentation provided is incomplete or confusing. I understand that the TrackerFormatString value can do something similar, but I want the text to always be on the plot that dynamically changes with different values. Is there something that I perhaps overlooked or maybe I could look into?</p>\n\n<pre><code>var series1 = new LineSeries { Title = \"Stage I\", MarkerType = MarkerType.Circle, Smooth = true, TrackerFormatString = \"Stage I\\nYear: {2:0.0}\\n{4:0.0} %\" };\n//let's say I have a line series like this\n//I need to enter some sort of text on the plot that has the values of the below points:\n        series1.Points.Add(new DataPoint(0.0, 100.0));\n        series1.Points.Add(new DataPoint(1, 82.3));\n        series1.Points.Add(new DataPoint(3, 59.2)); \n        series1.Points.Add(new DataPoint(5, 47.7));\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/U4GSe.png\" rel=\"nofollow noreferrer\">This is what I have:</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/EK6Xj.png\" rel=\"nofollow noreferrer\">This is what I need:</a></p>\n\n<p>Any sort of help with this would be greatly appreciated!</p>\n"}, {"tags": ["c#", "asp.net", "webforms", "code-behind"], "answers": [{"tags": [], "owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "is_accepted": true, "score": 0, "last_activity_date": 1496857018, "creation_date": 1496857018, "answer_id": 44419343, "question_id": 44419247, "link": "https://stackoverflow.com/questions/44419247/how-do-i-pass-a-value-to-a-buttons-click-handler-in-a-listview/44419343#44419343", "title": "How do I pass a value to a button&#39;s click handler in a ListView?", "body": "<p>Pass it using the CommandArgument property of the button.</p>\n\n<p>Markup:</p>\n\n<pre><code>&lt;asp:Button ID=\"RemoveButton\"\n            runat=\"server\"\n            Text=\"Usu\u0144 Produkt\"\n            OnClick=\"RemoveProductButton_Click\"\n            CommandArgument='&lt;%#:Item.id_produkt%&gt;' /&gt;\n</code></pre>\n\n<p>Code behind:</p>\n\n<pre><code>protected void RemoveProductButton_Click(object sender, EventArgs e)\n{\n    var button = (Button)sender;\n    var id_produkt = button.CommandArgument;\n}\n</code></pre>\n\n<p>This sets the CommandArgument of the buttons in the ListView to have the product ID that you want. Then when the click event handler is get, the sender will be your button. We need to cast it to a button type in order to access the CommandArgument property.</p>\n"}], "owner": {"reputation": 57, "user_id": 6306743, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/bd355899be7f6cab1d02b3905fc40024?s=128&d=identicon&r=PG", "display_name": "Nedvid", "link": "https://stackoverflow.com/users/6306743/nedvid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 0, "accepted_answer_id": 44419343, "answer_count": 1, "score": 0, "last_activity_date": 1496857318, "creation_date": 1496856687, "last_edit_date": 1496857318, "question_id": 44419247, "link": "https://stackoverflow.com/questions/44419247/how-do-i-pass-a-value-to-a-buttons-click-handler-in-a-listview", "title": "How do I pass a value to a button&#39;s click handler in a ListView?", "body": "<p>on my page I'am showing some data from database, each item have button to remove this from database.</p>\n\n<p>Here's aspx:</p>\n\n<pre><code> &lt;asp:ListView ID=\"productList\" runat=\"server\"\n                DataKeyNames=\"id_produkt\"\n                ItemType=\"Shop.Models.Produkt\" SelectMethod=\"GetProducts\"&gt;\n                &lt;ItemTemplate&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;&lt;%#:Item.id_produkt%&gt;&lt;/td&gt;\n                        &lt;td&gt;&lt;%#:Item.nazwa_produkt%&gt;&lt;/td&gt;\n                        &lt;td&gt;&lt;%#:Item.cena%&gt;&lt;/td&gt;\n                        &lt;td&gt;&lt;%#:Item.poprzednia_cena%&gt;&lt;/td&gt;\n                        &lt;td&gt;&lt;%#:Item.Ilosc%&gt;&lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;asp:Button CssClass=\"btn btn-info btn-sm\" ID=\"Edytuj\" runat=\"server\" Text=\"Edytuj\" OnClick=\"AddProductButton_Click\" CausesValidation=\"true\" /&gt;\n                            &lt;asp:Button CssClass=\"btn btn-danger btn-sm\" ID=\"RemoveButton\" runat=\"server\" Text=\"Usu\u0144 Produkt\" OnClick=\"RemoveProductButton_Click\" CausesValidation=\"false\" /&gt;\n                            &lt;a href=\"AdminPage_Details.aspx?productID=&lt;%#:Item.id_produkt%&gt;\" class=\"btn btn-info btn-sm\"&gt;Szczeg\u00f3\u0142y&lt;/a&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/ItemTemplate&gt;\n                &lt;ItemSeparatorTemplate&gt;&lt;/ItemSeparatorTemplate&gt;\n            &lt;/asp:ListView&gt;\n</code></pre>\n\n<p>How can i get Item.id_produkt in code-behind method?</p>\n\n<p>For now it looks like this:</p>\n\n<pre><code>protected void RemoveProductButton_Click(object sender, EventArgs e)\n        {\n            using (var _db = new Shop.Models.EgzemplarzContext())\n            {\n                int productId = Convert.ToInt16();\n                var myItem = (from c in _db.Produkty where c.id_produkt == productId select c).FirstOrDefault();\n\n                IQueryable&lt;Egzemplarz&gt; query = _db.Egzemplarze;\n                query = query.Where(p =&gt; p.id_produkt == productId);\n\n                if (myItem != null &amp;&amp; query != null)\n                {\n                    foreach ( var item in query)\n                    {\n                        _db.Egzemplarze.Remove(item);\n                    }\n\n                    _db.Produkty.Remove(myItem);\n                    _db.SaveChanges();\n\n                    // Reload the page.\n                    string pageUrl = Request.Url.AbsoluteUri.Substring(0, Request.Url.AbsoluteUri.Count() - Request.Url.Query.Count());\n                    Response.Redirect(pageUrl + \"?ProductAction=remove\");\n                }\n                else\n                {\n                    LabelAddStatusDanger.Text = \"Nie mo\u017cna usun\u0105\u0107 produktu.\";\n                }\n            }\n        }\n</code></pre>\n\n<p>Somehow I need to get Item.id_produkt from the productlist in this method.</p>\n\n<p>How can I do this ?</p>\n"}, {"tags": ["c#", ".net", "excel", "csv", "mailmessage"], "comments": [{"owner": {"reputation": 4731, "user_id": 1689144, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c33331737d16ff09ad03fe5ff9914e40?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/1689144/kyle"}, "edited": false, "score": 0, "creation_date": 1496856738, "post_id": 44419200, "comment_id": 75837075, "body": "Simple.  Foreach the rows of the <code>DataTable</code> -&gt; Write to text stream -&gt; With a stream onhand, you can add to mailmessage like this: <code>MailMessage.Attachments.Add(new Attachment(stream, ContentType))</code>.  One gotcha! is that you should set the <code>stream.Position = 0</code> when you&#39;re done, BEFORE you make the <code>new Attachment</code> object."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1496857837, "post_id": 44419200, "comment_id": 75837655, "body": "You can write datatable to an Xml and the send xml.  Then can be read at receiving end.  Xml can be dropped into a spread sheet and viewed easily."}, {"owner": {"reputation": 73, "user_id": 6079650, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dde3ab8ca4c1218ef94d7d3d96b54221?s=128&d=identicon&r=PG&f=1", "display_name": "beehive", "link": "https://stackoverflow.com/users/6079650/beehive"}, "reply_to_user": {"reputation": 4731, "user_id": 1689144, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c33331737d16ff09ad03fe5ff9914e40?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/1689144/kyle"}, "edited": false, "score": 0, "creation_date": 1496949098, "post_id": 44419200, "comment_id": 75885172, "body": "Thanks @Kyle, really helpful!"}], "owner": {"reputation": 73, "user_id": 6079650, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dde3ab8ca4c1218ef94d7d3d96b54221?s=128&d=identicon&r=PG&f=1", "display_name": "beehive", "link": "https://stackoverflow.com/users/6079650/beehive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 372, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496856515, "creation_date": 1496856515, "question_id": 44419200, "link": "https://stackoverflow.com/questions/44419200/c-stream-from-datatable-to-mailmessage-attachment", "title": "C# stream from DataTable to MailMessage attachment", "body": "<p>New to software development, just wondering could you stream data from a DataTable to a ZipFile object? Heres how I imagine this going down:</p>\n\n<ol>\n<li>I have a C# method which takes a sql query parameter, goes off to a database and returns data in the form of a DataTable. </li>\n<li>Ideally an Excel or CSV physical file would not need to be created. Surely a stream could be set up to create an Excel or CSV object</li>\n<li>This would need to be converted to a zip file</li>\n<li>The zip file would be added to a MailMessage attachment</li>\n</ol>\n\n<p>To summarize, I have data in a sql database. A C# application allows a user to create a report of their own design and it is now required that this report be sent out via email subscription. Due to size of data, a zipped attachment is necessary to send the mail as opposed to putting it in the body of the mail. </p>\n\n<p>Perhaps I'm going about this the wrong way. Any suggestions appreciated. I understand there is a lot in there so any pointers or advice is welcome.\nThanks!</p>\n"}]