[{"tags": ["c#", "entity-framework-core"], "comments": [{"owner": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 1, "creation_date": 1576712667, "post_id": 59401492, "comment_id": 104992030, "body": "Can you update the question to include the exception"}, {"owner": {"reputation": 2587, "user_id": 10823490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58aab0dd119c8dac4dc2bc5a209c3f11?s=128&d=identicon&r=PG&f=1", "display_name": "Jackal", "link": "https://stackoverflow.com/users/10823490/jackal"}, "reply_to_user": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 0, "creation_date": 1576712802, "post_id": 59401492, "comment_id": 104992064, "body": "updated the question"}, {"owner": {"reputation": 253, "user_id": 9096402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e66ae65026db9b697cea3b26e878c89?s=128&d=identicon&r=PG&f=1", "display_name": "aweyeahdawg", "link": "https://stackoverflow.com/users/9096402/aweyeahdawg"}, "edited": false, "score": 1, "creation_date": 1576713243, "post_id": 59401492, "comment_id": 104992169, "body": "Any .net methods or classes cannot be translated to the query. your convert.toint() and Duration.totalminutes is probably your issue. If you still want these in there, add .tolist() before your select."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 1, "creation_date": 1576713652, "post_id": 59401492, "comment_id": 104992275, "body": "Is <code>TotalTempoParado = pr.StopRecords pr.StopRecords.Sum(c =&gt; Convert.ToInt32(c.Duration.TotalMinutes))</code> a typo?"}, {"owner": {"reputation": 2587, "user_id": 10823490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58aab0dd119c8dac4dc2bc5a209c3f11?s=128&d=identicon&r=PG&f=1", "display_name": "Jackal", "link": "https://stackoverflow.com/users/10823490/jackal"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1576714017, "post_id": 59401492, "comment_id": 104992358, "body": "@ErikPhilips yes, fixed that"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 1, "creation_date": 1576715371, "post_id": 59401492, "comment_id": 104992624, "body": "You should post this question to EF Core GitHub to see what&#39;s their vision of handling something like this. Apparently switching to client evaluation as suggested is not directly possible, and adding eager/lazy loading would make it highly inefficient."}, {"owner": {"reputation": 253, "user_id": 9096402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e66ae65026db9b697cea3b26e878c89?s=128&d=identicon&r=PG&f=1", "display_name": "aweyeahdawg", "link": "https://stackoverflow.com/users/9096402/aweyeahdawg"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 1, "creation_date": 1576716802, "post_id": 59401492, "comment_id": 104992899, "body": "@ivanstoev client evaluation is possible, if you call asnotracking, then tolist, then filter those results."}], "answers": [{"comments": [{"owner": {"reputation": 2587, "user_id": 10823490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58aab0dd119c8dac4dc2bc5a209c3f11?s=128&d=identicon&r=PG&f=1", "display_name": "Jackal", "link": "https://stackoverflow.com/users/10823490/jackal"}, "edited": false, "score": 1, "creation_date": 1576713568, "post_id": 59401587, "comment_id": 104992254, "body": "also just be aware AsNoTracking has to be before AsEnumerable after"}, {"owner": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 2, "creation_date": 1576713794, "post_id": 59401587, "comment_id": 104992303, "body": "Worth noting that this will likely cause additional queries to be made to each of the three tables being summed in the Select clause. Potentially N+1 times"}, {"owner": {"reputation": 2587, "user_id": 10823490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58aab0dd119c8dac4dc2bc5a209c3f11?s=128&d=identicon&r=PG&f=1", "display_name": "Jackal", "link": "https://stackoverflow.com/users/10823490/jackal"}, "reply_to_user": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 0, "creation_date": 1576713972, "post_id": 59401587, "comment_id": 104992346, "body": "@devNull i know but this will do until i can optimize the timespan"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 1, "creation_date": 1576714076, "post_id": 59401587, "comment_id": 104992371, "body": "@devNull Or either NRE or 0 sums in case lazy loading is not enabled. The &quot;answer&quot; basically repeats the exception message and the proposed client side evaluation solution there, which is not good in general."}, {"owner": {"reputation": 444, "user_id": 2514158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HHEeV.png?s=128&g=1", "display_name": "AbuDawood", "link": "https://stackoverflow.com/users/2514158/abudawood"}, "edited": false, "score": 1, "creation_date": 1576714207, "post_id": 59401587, "comment_id": 104992401, "body": "Be careful from an open use of IEnumerable data process, as it processing at the app level while it is a resource costly."}, {"owner": {"reputation": 12628, "user_id": 12339804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/677529a68dbdac610158cfc55ec65aec?s=128&d=identicon&r=PG&f=1", "display_name": "timur", "link": "https://stackoverflow.com/users/12339804/timur"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 2, "creation_date": 1576715407, "post_id": 59401587, "comment_id": 104992634, "body": "@IvanStoev fair point, I added a bit more context and a proposed way to solve the root cause properly. Hopefully that adds enough value to the OP and community"}], "tags": [], "owner": {"reputation": 12628, "user_id": 12339804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/677529a68dbdac610158cfc55ec65aec?s=128&d=identicon&r=PG&f=1", "display_name": "timur", "link": "https://stackoverflow.com/users/12339804/timur"}, "is_accepted": true, "score": 6, "last_activity_date": 1576715191, "last_edit_date": 1576715191, "creation_date": 1576713354, "answer_id": 59401587, "question_id": 59401492, "link": "https://stackoverflow.com/questions/59401492/entityframework-core-3-linq-expression-could-not-be-translated/59401587#59401587", "title": "Entityframework Core 3 linq expression could not be translated", "body": "<p>There's been a breaking change in EF3 that will not automatically revert to client side evaluation unless at the very end of query chain (which your <code>Convert.ToInt32(c.Duration.TotalMinutes)</code> was likely relying on).</p>\n\n<p>Try rewriting your query like so:</p>\n\n<pre><code> ProductionRecords = _context.ProductionRecords\n      .Where(r =&gt; r.DataCriacao.Date == DateTime.Now.Date)\n        .AsNoTracking()\n        .AsEnumerable()\n        .Select(pr =&gt; new ProductionRecordViewModel\n        {\n            Id = pr.Id,\n            Operador = pr.Operador,\n            DataCriacao = pr.DataCriacao,\n            Celula = pr.Celula.Name,\n            Turno = pr.Turno.Name,\n            TotalPecasSemDefeito = pr.ReferenceRecords.Sum(c =&gt; c.Quantity),\n            TotalPecasComDefeito = pr.DefectRecords.Sum(c =&gt; c.Quantidade),\n            TotalTempoParado = pr.StopRecords pr.StopRecords.Sum(c =&gt; Convert.ToInt32(c.Duration.TotalMinutes)),\n        })\n      .ToList();\n</code></pre>\n\n<p><strong>UPD</strong> As it's been rightly pointed out in the comments - this will basically defer the <code>.Select</code> evaluation to the client side. Which will likely cause performance issues. Most likely this behaviour has been the reason this change was made to EF Core 3 in the first place.</p>\n\n<p>I don't have enough specifics to recommend you a proper solution, but it seems you can't really get away from loading <code>StopRecords</code> on all your results. Which is where writing a custom method translator can help you. See my <a href=\"https://stackoverflow.com/questions/59191856/using-ef-core-2-2-to-decrypt-a-string-using-sql-server-decryptbykey/59192479#59192479\">other answer</a> on how to do that. I quickly checked EF Core 3 source and it seems <a href=\"https://github.com/aspnet/EntityFrameworkCore/blob/9abd61d3fb4cdd1041f25fe2e10c70ee3dc4055e/src/EFCore.Relational/Query/IMethodCallTranslator.cs\" rel=\"nofollow noreferrer\">IMethodCallTranslator</a> is still there. Which means you have pretty high chance of building a custom function that will convert dates to TotalMinutes in SQL.</p>\n"}, {"comments": [{"owner": {"reputation": 2587, "user_id": 10823490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58aab0dd119c8dac4dc2bc5a209c3f11?s=128&d=identicon&r=PG&f=1", "display_name": "Jackal", "link": "https://stackoverflow.com/users/10823490/jackal"}, "edited": false, "score": 0, "creation_date": 1576744937, "post_id": 59402305, "comment_id": 104999941, "body": "I like this approach, i get to keep my query and just use the computed column which is more performant. I don&#39;t make it the right question because i already have accepted."}], "tags": [], "owner": {"reputation": 4650, "user_id": 4139809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950022a8882128ae019d3c0bda011723?s=128&d=identicon&r=PG", "display_name": "Jeremy Lakeman", "link": "https://stackoverflow.com/users/4139809/jeremy-lakeman"}, "is_accepted": false, "score": 5, "last_activity_date": 1576720109, "creation_date": 1576720109, "answer_id": 59402305, "question_id": 59401492, "link": "https://stackoverflow.com/questions/59401492/entityframework-core-3-linq-expression-could-not-be-translated/59402305#59402305", "title": "Entityframework Core 3 linq expression could not be translated", "body": "<p>Instead of trying to teach EF Core how to sum a timespan, how about adding a computed column to the database?</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>        public TimeSpan Duration { get; set; }\n        public int Minutes { get; }\n\n\n        entity.Property(e =&gt; e.Minutes)\n            .HasComputedColumnSql(\"DATEDIFF(MINUTE, 0, Duration)\");\n</code></pre>\n"}], "owner": {"reputation": 2587, "user_id": 10823490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58aab0dd119c8dac4dc2bc5a209c3f11?s=128&d=identicon&r=PG&f=1", "display_name": "Jackal", "link": "https://stackoverflow.com/users/10823490/jackal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6506, "favorite_count": 1, "accepted_answer_id": 59401587, "answer_count": 2, "score": 5, "last_activity_date": 1576720109, "creation_date": 1576712556, "last_edit_date": 1576714006, "question_id": 59401492, "link": "https://stackoverflow.com/questions/59401492/entityframework-core-3-linq-expression-could-not-be-translated", "title": "Entityframework Core 3 linq expression could not be translated", "body": "<p>I just upgrade to EF 3 and one of my queries that used to work, gives an exception now</p>\n\n<pre><code>   ProductionRecords = _context.ProductionRecords\n          .Where(r =&gt; r.DataCriacao.Date == DateTime.Now.Date)\n            .Select(pr =&gt; new ProductionRecordViewModel\n            {\n                Id = pr.Id,\n                Operador = pr.Operador,\n                DataCriacao = pr.DataCriacao,\n                Celula = pr.Celula.Name,\n                Turno = pr.Turno.Name,\n                TotalPecasSemDefeito = pr.ReferenceRecords.Sum(c =&gt; c.Quantity),\n                TotalPecasComDefeito = pr.DefectRecords.Sum(c =&gt; c.Quantidade),\n                TotalTempoParado = pr.StopRecords.Sum(c =&gt; Convert.ToInt32(c.Duration.TotalMinutes)),\n            })\n          .AsNoTracking()\n          .ToList();\n</code></pre>\n\n<p>The exception happens when i'm trying to sum the collection with the timespan with the duration....</p>\n\n<p>How am i supposed to handle this now?</p>\n\n<p>here is the exception</p>\n\n<blockquote>\n  <p>InvalidOperationException: The LINQ expression\n  '(EntityShaperExpression: EntityType: StopRecord\n  ValueBufferExpression: (ProjectionBindingExpression:\n  EmptyProjectionMember) IsNullable: False ).Duration.TotalMinutes'\n  could not be translated. Either rewrite the query in a form that can\n  be translated, or switch to client evaluation explicitly by inserting\n  a call to either AsEnumerable(), AsAsyncEnumerable(), ToList(), or\n  ToListAsync(). See <a href=\"https://go.microsoft.com/fwlink/?linkid=2101038\" rel=\"noreferrer\">https://go.microsoft.com/fwlink/?linkid=2101038</a> for\n  more information.</p>\n</blockquote>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms", "xamarin.android", "xamarin.ios"], "answers": [{"tags": [], "owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1576718476, "creation_date": 1576718476, "answer_id": 59402155, "question_id": 59401486, "link": "https://stackoverflow.com/questions/59401486/xamarin-allign-contentview-in-center-of-relativelayout/59402155#59402155", "title": "Xamarin Allign ContentView in center of RelativeLayout", "body": "<p>Do you mean you want the <strong>LoadingView</strong> fill the whole page,and <strong>progressBar</strong> is in the center of the page ?</p>\n\n<p>if yes,you could change like below :</p>\n\n<pre><code>ContentView LoadingView = new ContentView\n        {\n            VerticalOptions = LayoutOptions.FillAndExpand,\n            HorizontalOptions = LayoutOptions.FillAndExpand,\n            BackgroundColor = Color.Red\n        };\n\n        ProgressBar progressBar = new ProgressBar\n        {\n            ProgressColor = Color.FromHex(\"#3897F0\"),\n            HorizontalOptions = LayoutOptions.FillAndExpand,\n            HeightRequest = 30\n        };\n\n        RelativeLoadingLayout.Children.Add(LoadingView,\n                Constraint.RelativeToParent((parent) =&gt;\n                {\n                    return (0);\n                }),\n                Constraint.RelativeToParent((parent) =&gt;\n                {\n                    return (0);\n                }),\n                Constraint.RelativeToParent((parent) =&gt;\n                {\n                    return parent.Width;\n                }), Constraint.RelativeToParent((parent) =&gt;\n                {\n                    return parent.Height;\n                }));\n\nLoadingView.Content = progressBar;        \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 12390533, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDhhlKvGVxVMYBwtsHt3QnkxA7llit01te9jTN73g=k-s128", "display_name": "Prashant Gautam", "link": "https://stackoverflow.com/users/12390533/prashant-gautam"}, "is_accepted": false, "score": 1, "last_activity_date": 1576739482, "last_edit_date": 1576739482, "creation_date": 1576736059, "answer_id": 59404148, "question_id": 59401486, "link": "https://stackoverflow.com/questions/59401486/xamarin-allign-contentview-in-center-of-relativelayout/59404148#59404148", "title": "Xamarin Allign ContentView in center of RelativeLayout", "body": "<p>Use absolute layout, You problem will be solved.</p>\n\n<pre><code>&lt;ContentView x:Name=\"overlay\" AbsoluteLayout.LayoutBounds=\"0, 0, 1, 1\"  AbsoluteLayout.LayoutFlags=\"All\" IsVisible=\"{Binding isWorking}\" BackgroundColor=\"#C0808080\" Padding=\"0\"&gt;\n    &lt;ProgressBar  ProgressColor=\"#3897F0\" HeightRequest=\u201c30\"   IsVisible=\"True\"  HorizontalOptions=\"FillAndExpand\" VerticalOptions=\"CenterAndExpand\"/&gt;\n&lt;/ContentView&gt;   \n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 12520502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa20d2b716fbaf08fcfe02860ff6d03f?s=128&d=identicon&r=PG&f=1", "display_name": "Vreesie", "link": "https://stackoverflow.com/users/12520502/vreesie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 59402155, "answer_count": 2, "score": 0, "last_activity_date": 1576739482, "creation_date": 1576712515, "question_id": 59401486, "link": "https://stackoverflow.com/questions/59401486/xamarin-allign-contentview-in-center-of-relativelayout", "title": "Xamarin Allign ContentView in center of RelativeLayout", "body": "<p>I have a problem. I am trying to create a page, which got an overlay (ContentView) with a transparent background. In that ContentView I want to allign a ProgressBar in the center of the screen. The ContentView must fill the whole page.</p>\n\n<p>I tried this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;ContentPage xmlns=\"http://xamarin.com/schemas/2014/forms\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n             xmlns:d=\"http://xamarin.com/schemas/2014/forms/design\"\n             xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n             mc:Ignorable=\"d\"\n             x:Class=\"MyApp.LoadingPreview\"\n             BackgroundColor=\"#212121\"&gt;\n    &lt;ContentPage.Content&gt;\n        &lt;RelativeLayout VerticalOptions=\"FillAndExpand\" HorizontalOptions=\"FillAndExpand\" x:Name=\"RelativeLoadingLayout\"&gt;\n        &lt;/RelativeLayout&gt;\n    &lt;/ContentPage.Content&gt;\n&lt;/ContentPage&gt;\n</code></pre>\n\n<p>With this:</p>\n\n<pre><code>ContentView LoadingView = new ContentView\n{\n    VerticalOptions = LayoutOptions.CenterAndExpand,\n    HorizontalOptions = LayoutOptions.CenterAndExpand,\n    BackgroundColor = Color.Red\n};\n\nProgressBar progressBar = new ProgressBar\n{\n    ProgressColor = Color.FromHex(\"#3897F0\"),\n    HorizontalOptions = LayoutOptions.FillAndExpand,\n    HeightRequest = 30\n};\n\nRelativeLoadingLayout.Children.Add(LoadingView,\n        Constraint.RelativeToParent((parent) =&gt;\n        {\n            return (0);\n        }),\n        Constraint.RelativeToParent((parent) =&gt;\n        {\n            return ((.5 * parent.Height) - (30/2));\n        }),\n        Constraint.RelativeToParent((parent) =&gt;\n        {\n            return (parent.Width - (2 * 15));\n        }), Constraint.RelativeToParent((parent) =&gt;\n        {\n            return (parent.Height);\n        }));\n\nLoadingView.Content = progressBar;\n</code></pre>\n\n<p>But that results in a tiny ContentView at the bottom center.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["c#", "php", "encryption"], "comments": [{"owner": {"reputation": 25177, "user_id": 1064767, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/af97e0b5fa21ad9414e7c2c383d4cc81?s=128&d=identicon&r=PG", "display_name": "Sammitch", "link": "https://stackoverflow.com/users/1064767/sammitch"}, "edited": false, "score": 0, "creation_date": 1576716899, "post_id": 59401364, "comment_id": 104992925, "body": "I&#39;m giving it the old college try, but are you married to that C# code? Because that implementation is so many different flavors of awful and you really should not use it on data you care about."}, {"owner": {"reputation": 2483, "user_id": 404532, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/QFVzo.jpg?s=128&g=1", "display_name": "jagad89", "link": "https://stackoverflow.com/users/404532/jagad89"}, "edited": false, "score": 0, "creation_date": 1576717988, "post_id": 59401364, "comment_id": 104993131, "body": "possible duplicate of <a href=\"https://stackoverflow.com/questions/31656191/c-sharp-tripledes-ecb-encryption-in-php\">this</a>"}, {"owner": {"reputation": 103, "user_id": 4835868, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/819a73251ab86c424be8b94004a5e686?s=128&d=identicon&r=PG&f=1", "display_name": "php_dvp", "link": "https://stackoverflow.com/users/4835868/php-dvp"}, "edited": false, "score": 0, "creation_date": 1576718100, "post_id": 59401364, "comment_id": 104993163, "body": "hi, thank for the fast respond, i am worrying both using same method but different library, is that possible?"}, {"owner": {"reputation": 25177, "user_id": 1064767, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/af97e0b5fa21ad9414e7c2c383d4cc81?s=128&d=identicon&r=PG", "display_name": "Sammitch", "link": "https://stackoverflow.com/users/1064767/sammitch"}, "reply_to_user": {"reputation": 2483, "user_id": 404532, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/QFVzo.jpg?s=128&g=1", "display_name": "jagad89", "link": "https://stackoverflow.com/users/404532/jagad89"}, "edited": false, "score": 0, "creation_date": 1576719677, "post_id": 59401364, "comment_id": 104993443, "body": "@jagad89 MCrypt was removed as of PHP7.0 and had been deprecated/unmaintained for long before. Anyone who is still using it should ideally be working to not use it anymore."}, {"owner": {"reputation": 2483, "user_id": 404532, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/QFVzo.jpg?s=128&g=1", "display_name": "jagad89", "link": "https://stackoverflow.com/users/404532/jagad89"}, "reply_to_user": {"reputation": 25177, "user_id": 1064767, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/af97e0b5fa21ad9414e7c2c383d4cc81?s=128&d=identicon&r=PG", "display_name": "Sammitch", "link": "https://stackoverflow.com/users/1064767/sammitch"}, "edited": false, "score": 0, "creation_date": 1576719781, "post_id": 59401364, "comment_id": 104993460, "body": "@Sammitch oh, yes. You are right."}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 4835868, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/819a73251ab86c424be8b94004a5e686?s=128&d=identicon&r=PG&f=1", "display_name": "php_dvp", "link": "https://stackoverflow.com/users/4835868/php-dvp"}, "edited": false, "score": 0, "creation_date": 1576725475, "post_id": 59402245, "comment_id": 104994453, "body": "Hi Sammitch, thanks for the fast respond, It&#39;s working fine, thanks for your advise, really appreciate it so much."}], "tags": [], "owner": {"reputation": 25177, "user_id": 1064767, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/af97e0b5fa21ad9414e7c2c383d4cc81?s=128&d=identicon&r=PG", "display_name": "Sammitch", "link": "https://stackoverflow.com/users/1064767/sammitch"}, "is_accepted": false, "score": 1, "last_activity_date": 1576720446, "last_edit_date": 1576720446, "creation_date": 1576719543, "answer_id": 59402245, "question_id": 59401364, "link": "https://stackoverflow.com/questions/59401364/converting-c-encryption-to-php-openssl-encryption/59402245#59402245", "title": "Converting C# Encryption to PHP openssl Encryption", "body": "<p>Problems in your code:</p>\n\n<ol>\n<li>The algorithm is actually <code>DES-EDE-CBC</code>.</li>\n<li><code>openssl_encrypt()</code> returns base64'd data unless you specify <code>OPENSSL_RAW_DATA</code> as an option, so you're <code>bin2hex()</code>ing the wrong data.</li>\n<li><code>OPENSSL_ZERO_PADDING</code> needs to be set, not that I can figure out why.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Padding_(cryptography)#PKCS#5_and_PKCS#7\" rel=\"nofollow noreferrer\">PKCS7 padding is not zero-padding.</a></li>\n<li>When you're trying to debug your crypto use the exact input string, not a potentially buggy computation.</li>\n<li>Never ever use <code>utf8_encode()</code> or <code>utf8_decode()</code>.\n\n<ul>\n<li>They only convert between ISO8859-1 and UTF-8.</li>\n<li>They do not check what the input encoding is and will happily and silently corrupt your data.</li>\n<li>All PHP strings are binary strings/byte arrays, and <em>you</em> are responsible for managing the encoding. You must <em>always</em> explicitly <em>know</em> the encoding of your string, because you're in trouble if you don't. See: <a href=\"https://stackoverflow.com/questions/279170/utf-8-all-the-way-through\">UTF-8 all the way through</a></li>\n<li>The output of <code>json_encode()</code> is <em>always</em> valid UTF-8, in line with the JSON spec.</li>\n<li>If you <em>do</em> need to convert between encodings use something like <a href=\"https://www.php.net/manual/en/function.mb-convert-encoding.php\" rel=\"nofollow noreferrer\"><code>mb_convert_encoding()</code></a> and <em>explicitly</em> defined your input and output encodings.</li>\n</ul></li>\n</ol>\n\n<p>So:</p>\n\n<pre><code>function pkcs7_pad($data) {\n    $padlen = 8 - (strlen($data) % 8);\n    return $data . str_repeat(chr($padlen), $padlen);\n}\n\nfunction encrypt($input)\n{\n    $key        = \"testt123boowe456\";\n    $iv         = \"13313310\";\n    $result     = openssl_encrypt(pkcs7_pad($input), 'DES-EDE-CBC', $key, OPENSSL_RAW_DATA|OPENSSL_ZERO_PADDING, $iv);\n    return $result;\n}\n\n$input = \"{\\\"my_account\\\":\\\"100081\\\",\\\"status\\\":\\\"2\\\",\\\"ID\\\":\\\"3\\\",\\\"message\\\":\\\"Approved\\\"}\";\n$desired = \"A5C56BEAC60ECAD0CFC9D44898EF4B159BC8E1FB318F83ADD6E474BEA17D0C6DF0F20C672FE0372F304DCB0A001A6005828702C54CA301AF06D49F21FF48260C15D278D2841963FF\";\n\nvar_dump(\n    strtoupper(bin2hex(encrypt($input))),\n    $desired\n);\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>string(144) \"a5c56beac60ecad0cfc9d44898ef4b159bc8e1fb318f83add6e474bea17d0c6df0f20c672fe0372f304dcb0a001a6005828702c54ca301af06d49f21ff48260c15d278d2841963ff\"\nstring(144) \"A5C56BEAC60ECAD0CFC9D44898EF4B159BC8E1FB318F83ADD6E474BEA17D0C6DF0F20C672FE0372F304DCB0A001A6005828702C54CA301AF06D49F21FF48260C15D278D2841963FF\"\n</code></pre>\n\n<p>That said, the reasons why the C# implementation is wholly inadvisable:</p>\n\n<ol>\n<li>3DES is old, slow, and far less strong than other widely available and implemented algos.\n\n<ul>\n<li>NIST has deprecated the alogrithm and strongly recommends migrating away from it: <a href=\"https://csrc.nist.gov/News/2017/Update-to-Current-Use-and-Deprecation-of-TDEA\" rel=\"nofollow noreferrer\">https://csrc.nist.gov/News/2017/Update-to-Current-Use-and-Deprecation-of-TDEA</a></li>\n</ul></li>\n<li>Using a text passphrase with no Key Derivation Function is weak.</li>\n<li>Using a text IV is weak.</li>\n<li>Using a static IV is unforgivable and drastically weakens your crypto.</li>\n</ol>\n"}], "owner": {"reputation": 103, "user_id": 4835868, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/819a73251ab86c424be8b94004a5e686?s=128&d=identicon&r=PG&f=1", "display_name": "php_dvp", "link": "https://stackoverflow.com/users/4835868/php-dvp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576723266, "creation_date": 1576711554, "last_edit_date": 1576723266, "question_id": 59401364, "link": "https://stackoverflow.com/questions/59401364/converting-c-encryption-to-php-openssl-encryption", "title": "Converting C# Encryption to PHP openssl Encryption", "body": "<p>I try to convert C# encryption to PHP openssl Encryption, but the outside i different. I already use the same encryption method, but output still different, can someone advise me, which part i make mistake ?</p>\n\n<p>C# </p>\n\n<pre><code>public static void Main()\n{\n    Console.WriteLine(Encrypt(\"testt123boowe456\", \"{\\\"my_account\\\":\\\"100081\\\",\\\"status\\\":\\\"2\\\",\\\"ID\\\":\\\"3\\\",\\\"message\\\":\\\"Approved\\\"}\"));\n}\n\npublic static string Encrypt(string strKey, string strData)\n{\n    try\n    {\n        byte[] key = Encoding.UTF8.GetBytes(strKey);\n        byte[] iv = Encoding.UTF8.GetBytes(\"13313310\");\n        byte[] data = Encoding.UTF8.GetBytes(strData);\n\n        // Create a MemoryStream.\n        MemoryStream mStream = new MemoryStream();\n\n        TripleDESCryptoServiceProvider tdsp = new TripleDESCryptoServiceProvider();\n        tdsp.Mode = CipherMode.CBC;\n        tdsp.Padding = PaddingMode.PKCS7;\n\n        // Create a CryptoStream using the MemoryStream \n        // and the passed key and initialization vector (IV).\n        CryptoStream cStream = new CryptoStream(mStream,\n            tdsp.CreateEncryptor(key, iv),\n            CryptoStreamMode.Write);\n\n        // Write the byte array to the crypto stream and flush it.\n        cStream.Write(data, 0, data.Length);\n        cStream.FlushFinalBlock();\n\n        // Get an array of bytes from the \n        // MemoryStream that holds the \n        // encrypted data.\n        byte[] ret = mStream.ToArray();\n\n        // Close the streams.\n        cStream.Close();\n        mStream.Close();\n\n        // Return the encrypted buffer.\n        return byteToHexString(ret); //Convert.ToBase64String(ret);\n    }\n    catch (CryptographicException e)\n    {\n        Console.WriteLine(\"A Cryptographic error occurred: {0}\", e.Message);\n        return null;\n    }\n}\n\npublic static string byteToHexString(byte[] bytes) // 0xae00cf =&gt; \"AE00CF \"\n{\n    string hexString = string.Empty;\n\n    if (bytes != null)\n    {\n        StringBuilder strB = new StringBuilder(bytes.Length * 2 + 32);\n\n        for (int i = 0; i &lt; bytes.Length; i++)\n        {\n            strB.Append(bytes[i].ToString(\"X2\"));\n\n        }\n        hexString = strB.ToString();\n    }\n    return hexString;\n}\n</code></pre>\n\n<p>PHP</p>\n\n<pre><code>public function encrypt()\n{\n    $data = [\n        'my_account' =&gt; \"100081\",\n        'status'     =&gt; \"2\",\n        'ID'         =&gt; \"3\",\n        'message'    =&gt; 'Approved'\n    ];\n\n    $stringData = json_encode($data);\n    $key        = utf8_encode(\"testt123boowe456\");\n    $iv         = utf8_encode(\"13313310\");\n    $result     = openssl_encrypt($this-&gt;zeroPadding(utf8_encode($stringData), 8), 'DES-EDE3-CBC', $key, 0, $iv);\n    return bin2hex($result);\n}\n</code></pre>\n\n<p>C# output</p>\n\n<blockquote>\n  <p>A5C56BEAC60ECAD0CFC9D44898EF4B159BC8E1FB318F83ADD6E474BEA17D0C6DF0F20C672FE0372F304DCB0A001A6005828702C54CA301AF06D49F21FF48260C15D278D2841963FF</p>\n</blockquote>\n\n<p>PHP output</p>\n\n<blockquote>\n  <p>2f73547a753951745135785373564d38444757564a534666425a41744c6e38666161732f724d2b42335276536c76474450327343353675795a795577577850444a4c4668315a385a32463142676549676b6448587347416a2b684d71364d73734870744374797677744d513d</p>\n</blockquote>\n"}, {"tags": ["c#", "wpf", "mvvm", "statusbar"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576711408, "post_id": 59401244, "comment_id": 104991720, "body": "In MVVM you can nest ViewModels in each other. You often have VM&#39;s that Expose VM&#39;s wiuch Expose VM&#39;s. The highest one will becaome the de-fato Application View Model. | However a Command Pattern with Shortcuts and a Messaging Systems might also be the droids you are looking for."}, {"owner": {"reputation": 107, "user_id": 9185894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x4gZl.png?s=128&g=1", "display_name": "icYFTL", "link": "https://stackoverflow.com/users/9185894/icyftl"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576711668, "post_id": 59401244, "comment_id": 104991781, "body": "VM&#39;s Hierarchy?)"}, {"owner": {"reputation": 293, "user_id": 9809143, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SH6527Z1FI4/AAAAAAAAAAI/AAAAAAAAAAo/rAXgaXcYYOg/photo.jpg?sz=128", "display_name": "Mahdi Asgari", "link": "https://stackoverflow.com/users/9809143/mahdi-asgari"}, "edited": false, "score": 0, "creation_date": 1576740335, "post_id": 59401244, "comment_id": 104998123, "body": "Do you use Prism.Wpf?"}, {"owner": {"reputation": 107, "user_id": 9185894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x4gZl.png?s=128&g=1", "display_name": "icYFTL", "link": "https://stackoverflow.com/users/9185894/icyftl"}, "edited": false, "score": 0, "creation_date": 1576741270, "post_id": 59401244, "comment_id": 104998500, "body": "Yeah, I use Prism.Wpf."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 9185894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x4gZl.png?s=128&g=1", "display_name": "icYFTL", "link": "https://stackoverflow.com/users/9185894/icyftl"}, "edited": false, "score": 0, "creation_date": 1576712138, "post_id": 59401337, "comment_id": 104991896, "body": "In that case I must make an Instanse of StatusBarModel, or It&#39;ll makes exceptions.   And it still not works. StatusBar didn&#39;t changed."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576775262, "post_id": 59401337, "comment_id": 105015671, "body": "I juxt can not stress enough how bad a idea it is to use static here. It is a extremely common beginners trap. A static field that a instance is assigned to - that is about as close as I ever go to static."}, {"owner": {"reputation": 11, "user_id": 12494497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usKkR.png?s=128&g=1", "display_name": "bitclicker", "link": "https://stackoverflow.com/users/12494497/bitclicker"}, "edited": false, "score": 0, "creation_date": 1576887916, "post_id": 59401337, "comment_id": 105050986, "body": "that&#39;s fair enough, a static class is not suitable in this case. I&#39;m still learning and appreciate your feedback"}], "tags": [], "owner": {"reputation": 11, "user_id": 12494497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usKkR.png?s=128&g=1", "display_name": "bitclicker", "link": "https://stackoverflow.com/users/12494497/bitclicker"}, "is_accepted": false, "score": 0, "last_activity_date": 1576711320, "creation_date": 1576711320, "answer_id": 59401337, "question_id": 59401244, "link": "https://stackoverflow.com/questions/59401244/c-wpf-mvvm-change-binded-to-statusbar-vars/59401337#59401337", "title": "C# WPF MVVM | Change Binded to StatusBar Vars", "body": "<p>You could create a static class to hold that value. </p>\n\n<pre><code>public static class Globals()\n{\n    public static StatusBarModel GlobalStatus { get; set; }\n}\n</code></pre>\n\n<p>Then whenever you want to alter it you just do </p>\n\n<pre><code>Globals.GlobalStatus.Status = \"something\";\nGlobals.GlobalStatus.P_Value = 14;\n</code></pre>\n\n<p>does that accomplish what you need?</p>\n"}, {"tags": [], "owner": {"reputation": 469, "user_id": 6697909, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bTsdnRIJmcs/AAAAAAAAAAI/AAAAAAAAAoM/L5MXTaZ02S0/photo.jpg?sz=128", "display_name": "Jeong Yo Han", "link": "https://stackoverflow.com/users/6697909/jeong-yo-han"}, "is_accepted": true, "score": 0, "last_activity_date": 1576722096, "creation_date": 1576722096, "answer_id": 59402502, "question_id": 59401244, "link": "https://stackoverflow.com/questions/59401244/c-wpf-mvvm-change-binded-to-statusbar-vars/59402502#59402502", "title": "C# WPF MVVM | Change Binded to StatusBar Vars", "body": "<p>There are multiple ways to achieve your requirement. as @bitclicker says, you can use static class that hold its value. But I think It is too much that makes it static class, because that variable value may be used only two <code>viewmodel</code>.  </p>\n\n<p>I suggest you communicate between two view model. you will find Prism's <code>event aggregator</code> or you could implement your own event publish-subscriber model. making your own event pub-sub model would help you to make a first step into the <code>design pattern</code>.</p>\n"}], "owner": {"reputation": 107, "user_id": 9185894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x4gZl.png?s=128&g=1", "display_name": "icYFTL", "link": "https://stackoverflow.com/users/9185894/icyftl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 59402502, "answer_count": 2, "score": -2, "last_activity_date": 1576722096, "creation_date": 1576710698, "last_edit_date": 1576714362, "question_id": 59401244, "link": "https://stackoverflow.com/questions/59401244/c-wpf-mvvm-change-binded-to-statusbar-vars", "title": "C# WPF MVVM | Change Binded to StatusBar Vars", "body": "<p>So, I have a statusbar as UserControl.  </p>\n\n<p>Model: </p>\n\n<pre><code>public class StatusBarModel : BindableBase\n{\n    private string _status;\n    public string Status\n    {\n        get { return _status; }\n        set\n        {\n            _status = value;\n            RaisePropertyChanged(\"Status\");\n        }\n    }\n\n    private int _p_value;\n    public int P_Value\n    {\n        get { return _p_value; }\n        set\n        {\n            _p_value = value;\n            RaisePropertyChanged(\"P_Value\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>ViewModel:  </p>\n\n<pre><code> public class StatusBarVM : BindableBase\n{\n    readonly source.elements.StatusBar.StatusBarModel _model = new source.elements.StatusBar.StatusBarModel();\n    public StatusBarVM()\n    {\n        _model.PropertyChanged += (s, e) =&gt; { RaisePropertyChanged(e.PropertyName); };\n\n    }\n\n    public string Status\n    {\n        get { return _model.Status; }\n        set { _model.Status = value; }\n    }\n\n    public int P_Value\n    {\n        get { return _model.P_Value; }\n        set { _model.P_Value = value; }\n    }\n\n}\n</code></pre>\n\n<p>And for example I wanna change <em>Status</em> variable from others ViewModels.\nHow I can do it? I have seen examples with only buttons and etc.</p>\n"}, {"tags": ["c#", "linq", "comparator"], "comments": [{"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1576708998, "post_id": 59400945, "comment_id": 104991048, "body": "You are calling <code>Except()</code> on a collection that have been converted to parallelEnumerable using <code>AsParallel()</code>."}, {"owner": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 1, "creation_date": 1576709144, "post_id": 59400945, "comment_id": 104991092, "body": "Can you update the question to include the types of <code>list1</code> and <code>list2</code>?"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576709392, "post_id": 59400945, "comment_id": 104991174, "body": "Is list a type of <code>ParallelEnumerable</code>?"}, {"owner": {"reputation": 914, "user_id": 6184866, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Bg39h.jpg?s=128&g=1", "display_name": "Arsinclair", "link": "https://stackoverflow.com/users/6184866/arsinclair"}, "edited": false, "score": 0, "creation_date": 1576709455, "post_id": 59400945, "comment_id": 104991200, "body": "I updated the question with the types of my lists. I am not using AsParallel anywhere in the code to convert the lists."}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576709514, "post_id": 59400945, "comment_id": 104991219, "body": "Ya but show us how you&#39;re initializing and populating the list."}], "answers": [{"comments": [{"owner": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 2, "creation_date": 1576709885, "post_id": 59401095, "comment_id": 104991333, "body": "The main problem was that <code>new PropertyComparer&lt;Contact&gt;(&quot;ContactId&quot;)</code> should take a type of <code>Contact</code> to match the type parameter of the lists. OP was originally using <code>Guid</code> as the type parameter which is what caused the error"}, {"owner": {"reputation": 914, "user_id": 6184866, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Bg39h.jpg?s=128&g=1", "display_name": "Arsinclair", "link": "https://stackoverflow.com/users/6184866/arsinclair"}, "edited": false, "score": 0, "creation_date": 1576710014, "post_id": 59401095, "comment_id": 104991368, "body": "I understand now that I should have used <code>Contact</code> instead of <code>Guid</code> as the type parameter, however changing it to <code>Contact</code> doesn&#39;t resolve the problem. The error text now is <code>Error\tCS1929\t&#39;List&lt;T&gt;&#39; does not contain a definition for &#39;Except&#39; and the best extension method overload &#39;ParallelEnumerable.Except&lt;Contact&gt;(ParallelQuery&lt;Contact&gt;, ParallelQuery&lt;Contact&gt;, IEqualityComparer&lt;Contact&gt;)&#39; requires a receiver of type &#39;ParallelQuery&lt;Contact&gt;&#39;</code>"}, {"owner": {"reputation": 914, "user_id": 6184866, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Bg39h.jpg?s=128&g=1", "display_name": "Arsinclair", "link": "https://stackoverflow.com/users/6184866/arsinclair"}, "reply_to_user": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 0, "creation_date": 1576710242, "post_id": 59401095, "comment_id": 104991434, "body": "@devNull, same error, only type was updated. Should I create a separate question for that?"}, {"owner": {"reputation": 12943, "user_id": 2673029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbcZN.jpg?s=128&g=1", "display_name": "Isma", "link": "https://stackoverflow.com/users/2673029/isma"}, "edited": false, "score": 0, "creation_date": 1576710287, "post_id": 59401095, "comment_id": 104991450, "body": "Clean your project, delete the bin folder and rebuild, also, create a new empty console project and copy paste the code from the answer. It seems to work...."}, {"owner": {"reputation": 914, "user_id": 6184866, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Bg39h.jpg?s=128&g=1", "display_name": "Arsinclair", "link": "https://stackoverflow.com/users/6184866/arsinclair"}, "edited": false, "score": 0, "creation_date": 1576710584, "post_id": 59401095, "comment_id": 104991537, "body": "@Isma, cleaned the project, vs cache, etc. Still no luck. The code mentioned works in the console project, but not in the original project. In the original project I work with generic types &lt;T&gt; and use reflection to iterate over the object properties to get them, but I don&#39;t know if this is the cause of the problem, though."}, {"owner": {"reputation": 914, "user_id": 6184866, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Bg39h.jpg?s=128&g=1", "display_name": "Arsinclair", "link": "https://stackoverflow.com/users/6184866/arsinclair"}, "edited": false, "score": 1, "creation_date": 1576710637, "post_id": 59401095, "comment_id": 104991545, "body": "I will accept this answer since it addresses one of the problems and I will create another question later to seek help with the current error. Thank you!"}], "tags": [], "owner": {"reputation": 12943, "user_id": 2673029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbcZN.jpg?s=128&g=1", "display_name": "Isma", "link": "https://stackoverflow.com/users/2673029/isma"}, "is_accepted": true, "score": 3, "last_activity_date": 1576710053, "last_edit_date": 1576710053, "creation_date": 1576709700, "answer_id": 59401095, "question_id": 59400945, "link": "https://stackoverflow.com/questions/59400945/custom-iequalitycomparer-to-calculate-difference-between-two-lists-using-linq-ex/59401095#59401095", "title": "Custom IEqualityComparer to calculate Difference between two lists using LINQ Except", "body": "<p>You should pass the same type used by your list to the Except method, in your example, you are using <code>Guid</code> but it should be of type <code>Contact</code>, also, your <code>Contact</code> class doesn't have a property called \"ObjectId\", try changing that for \"<code>ContactId</code>\", the following seems to work fine:</p>\n\n<pre><code>static void Main(string[] args)\n{\n     var list1 = new List&lt;Contact&gt;();\n     list1.Add(new Contact() { ContactId = Guid.Parse(\"FB58F102-0CE4-4914-ABFF-ABBD3895D719\") });\n     list1.Add(new Contact() { ContactId = Guid.Parse(\"5A201238-6036-4385-B848-DEE598A3520C\") });\n\n     var list2 = new List&lt;Contact&gt;();\n     list2.Add(new Contact() { ContactId = Guid.Parse(\"FB58F102-0CE4-4914-ABFF-ABBD3895D719\") });\n\n     var list3 = list1.Except(list2, new PropertyComparer&lt;Contact&gt;(\"ContactId\"));\n\n     foreach (var item in list3) \n         Console.WriteLine(item.ContactId.ToString());\n\n     Console.ReadLine();\n}\n\npublic class Contact\n{\n    public Guid ContactId { get; set; }\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n}\n\npublic class PropertyComparer&lt;T&gt; : IEqualityComparer&lt;T&gt;\n{\n    private PropertyInfo _PropertyInfo;\n    public PropertyComparer(string propertyName)\n    {\n        _PropertyInfo = typeof(T).GetProperty(propertyName,\n            BindingFlags.GetProperty | BindingFlags.Instance | BindingFlags.Public);\n        if (_PropertyInfo == null)\n        {\n            throw new ArgumentException(\n                string.Format(\"{0} is not a property of type {1}.\", propertyName, typeof(T)));\n        }\n    }\n\n    public int GetHashCode(T obj)\n    {\n        object propertyValue = _PropertyInfo.GetValue(obj, null);\n        if (obj == null) return 0;\n        return propertyValue.GetHashCode();\n    }\n\n    public bool Equals(T x, T y)\n    {\n        object xValue = _PropertyInfo.GetValue(x, null);\n        object yValue = _PropertyInfo.GetValue(y, null);\n\n        if (xValue == null)\n        {\n            return yValue == null;\n        }\n\n        return xValue.Equals(yValue);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>5a201238-6036-4385-b848-dee598a3520c\n</code></pre>\n"}], "owner": {"reputation": 914, "user_id": 6184866, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Bg39h.jpg?s=128&g=1", "display_name": "Arsinclair", "link": "https://stackoverflow.com/users/6184866/arsinclair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 59401095, "answer_count": 1, "score": 1, "last_activity_date": 1576710053, "creation_date": 1576708698, "last_edit_date": 1576709760, "question_id": 59400945, "link": "https://stackoverflow.com/questions/59400945/custom-iequalitycomparer-to-calculate-difference-between-two-lists-using-linq-ex", "title": "Custom IEqualityComparer to calculate Difference between two lists using LINQ Except", "body": "<p>I am using this answer <a href=\"https://stackoverflow.com/questions/5636438/difference-between-two-lists\">Difference between two lists</a> to find a difference between two lists using Linq <code>Except</code>. However, my objects in the lists are of generic type, so I wrote a Comparer for the generic types, then I pass it to Except method. However I receive the following error message:</p>\n\n<blockquote>\n  <p>Error CS1929  <strong>'List' does not contain a definition for 'Except' and the best extension method overload</strong> 'ParallelEnumerable.Except(ParallelQuery, ParallelQuery, IEqualityComparer)' <strong>requires a receiver of type</strong> 'ParallelQuery'</p>\n</blockquote>\n\n<p>My call:</p>\n\n<pre><code>var differenceList = list1.Except(list2, new PropertyComparer&lt;Guid&gt;(\"ObjectId\"));\n</code></pre>\n\n<p>And my comparer:</p>\n\n<pre><code>public class PropertyComparer&lt;T&gt; : IEqualityComparer&lt;T&gt;\n{\n    private PropertyInfo _PropertyInfo;\n    public PropertyComparer(string propertyName)\n    {\n        _PropertyInfo = typeof(T).GetProperty(propertyName, \n            BindingFlags.GetProperty | BindingFlags.Instance | BindingFlags.Public);\n        if (_PropertyInfo == null)\n        {\n            throw new ArgumentException(\n                string.Format(\"{0} is not a property of type {1}.\", propertyName, typeof(T)));\n        }\n    }\n\n    public int GetHashCode(T obj)\n    {\n        object propertyValue = _PropertyInfo.GetValue(obj, null);\n        if (obj == null) return 0;\n        return propertyValue.GetHashCode();\n    }\n\n    public bool Equals(T x, T y)\n    {\n        object xValue = _PropertyInfo.GetValue(x, null);\n        object yValue = _PropertyInfo.GetValue(y, null);\n\n        if (xValue == null)\n        {\n            return yValue == null;\n        }\n\n        return xValue.Equals(yValue);\n    }\n}\n</code></pre>\n\n<p>And from the declaration of Except method in <code>System.Linq</code>, which fits my comparer:</p>\n\n<pre><code>public static IEnumerable&lt;TSource&gt; Except&lt;TSource&gt;(\n    this IEnumerable&lt;TSource&gt; first, \n    IEnumerable&lt;TSource&gt; second, \n    IEqualityComparer&lt;TSource&gt; comparer\n);\n</code></pre>\n\n<p>What am I doing wrong and how can I get it working?</p>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p><code>list1</code> and <code>list2</code> types:</p>\n\n<pre><code>List&lt;Contact&gt;\n</code></pre>\n\n<p>Where <code>Contact</code> is</p>\n\n<pre><code>public class Contact : EntityBase\n{\n    public Guid ContactId { get; set; }\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n    public List&lt;Email&gt; Emails {get; set;}\n}\n</code></pre>\n\n<p><code>EntityBase</code> is</p>\n\n<pre><code>public class EntityBase : IEntity\n{\n    public IQueryable&lt;T&gt; GetDBEntities&lt;T&gt;(ApplicationDbContext db) where T : class\n    {\n        return db.Set&lt;T&gt;();\n    }\n\n    public List&lt;T&gt; GetLocalEntities&lt;T&gt;() where T : class\n    {\n        var localProperties = this.GetType().GetProperties();\n        foreach (var localProperty in localProperties)\n        {\n            var localPropertyValue = localProperty.GetValue(this);\n            if (localPropertyValue != null &amp;&amp; localPropertyValue.IsGenericList() == true)\n            {\n                var localPropertyValueType = localPropertyValue.GetType(); // List&lt;object&gt;\n                var localPropertyValueTypeDecoupled = localPropertyValueType.GetGenericArguments().Single(); // List&lt;T&gt;\n                if (localPropertyValueTypeDecoupled == typeof(T))\n                {\n                    return (List&lt;T&gt;)localPropertyValue;\n                }\n            }\n        }\n        throw new Exception(\"Entity Types Validation Error\");\n    }\n\n    public void ProcessEntityReference&lt;T&gt;(ApplicationDbContext db) where T : class\n    {\n        // T is Email\n        var remoteList = this.GetDBEntities&lt;T&gt;(db).ToList();\n        var updatedList = GetLocalEntities&lt;T&gt;();\n        var toBeAdded = updatedList.Except(remoteList, new PropertyComparer&lt;Guid&gt;(\"ContactId\"));\n        var toBeDeleted = new List&lt;object&gt;();\n        throw new NotImplementedException();\n    }\n\n    public void ProcessEntityReferences(ApplicationDbContext db)\n    {\n        this.ProcessEntityReference&lt;Email&gt;(db);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "json", ".net-core", "json.net"], "comments": [{"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 0, "creation_date": 1576709003, "post_id": 59400813, "comment_id": 104991049, "body": "Hi.  Could you please include the actual code that generates the JSON shown?  As is, it&#39;s difficult to understand precisely what you mean.  Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>  Thanks."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1576709074, "post_id": 59400813, "comment_id": 104991075, "body": "Hmm, looks like a duplicate of <a href=\"https://stackoverflow.com/q/50313978/3744182\">Json.NET - Serialize generic type wrapper without property name</a>, agree?  Your <code>Option&lt;T&gt;</code> looks exactly like <code>ValueObject&lt;T&gt;</code> from that question."}, {"owner": {"reputation": 83, "user_id": 12431275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/654e0e8705b277ae203c00938aa81da7?s=128&d=identicon&r=PG&f=1", "display_name": "Dynamiquel", "link": "https://stackoverflow.com/users/12431275/dynamiquel"}, "edited": false, "score": 0, "creation_date": 1577929836, "post_id": 59400813, "comment_id": 105283420, "body": "I decided to just use YAML, it does everything that I wanted to do. That JSON setup got pretty complicated for something I would have thought would be fairly simple.  I also realised that I didn&#39;t even need to make a Generic object as I can just use dynamics, which to me, do the same job."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 12431275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/654e0e8705b277ae203c00938aa81da7?s=128&d=identicon&r=PG&f=1", "display_name": "Dynamiquel", "link": "https://stackoverflow.com/users/12431275/dynamiquel"}, "edited": false, "score": 0, "creation_date": 1576710307, "post_id": 59401101, "comment_id": 104991453, "body": "Thanks for you and everyone else suggesting this answer. I couldn&#39;t seem to find anything online. I guess I didn&#39;t know the correct terminology. I&#39;ll look into it tomorrow."}], "tags": [], "owner": {"reputation": 303, "user_id": 3470253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/1378481109/picture?type=large", "display_name": "JSarwer", "link": "https://stackoverflow.com/users/3470253/jsarwer"}, "is_accepted": false, "score": 0, "last_activity_date": 1576710525, "last_edit_date": 1576710525, "creation_date": 1576709772, "answer_id": 59401101, "question_id": 59400813, "link": "https://stackoverflow.com/questions/59400813/is-there-a-way-to-make-newtonsoft-json-shorter/59401101#59401101", "title": "Is there a way to make Newtonsoft Json shorter?", "body": "<p>This can be achieved using a custom <code>JsonConverter</code>, which you can read about <a href=\"https://www.newtonsoft.com/json/help/html/CustomJsonConverter.htm\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>In your case, you would need to write one for the <code>Option&lt;T&gt;</code> class, so that when the <code>WriteJson</code> method is called, it just outputs the value.</p>\n\n<p>As @dbc mentioned, an answer to this problem can be found here: <a href=\"https://stackoverflow.com/a/50320947/3470253\">Json.NET - Serialize generic type wrapper without property name</a>.</p>\n"}], "owner": {"reputation": 83, "user_id": 12431275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/654e0e8705b277ae203c00938aa81da7?s=128&d=identicon&r=PG&f=1", "display_name": "Dynamiquel", "link": "https://stackoverflow.com/users/12431275/dynamiquel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "closed_date": 1576712626, "answer_count": 1, "score": 0, "last_activity_date": 1580766250, "creation_date": 1576707955, "last_edit_date": 1580766250, "question_id": 59400813, "link": "https://stackoverflow.com/questions/59400813/is-there-a-way-to-make-newtonsoft-json-shorter", "closed_reason": "Duplicate", "title": "Is there a way to make Newtonsoft Json shorter?", "body": "<p>I'm currently making a simple config/option system using C# (mainly to replace the PlayerPrefs system in Unity). I orginally designed it similarly to an INI file but decided to take it a step further and use Json to allow infinite nesting of options.</p>\n\n<p>The way the objects are essentially set up are: <code>Option&lt;T&gt; {T Value} and Dictionary&lt;string, Option&gt;</code></p>\n\n<p>With the previous INI design, it was:</p>\n\n<pre><code>[GRAPHICS]\nResolution=(X=1920, Y=1080)\n</code></pre>\n\n<p>With Json.NET, it's now:</p>\n\n<pre><code>\"Graphics\": {\n    \"Value\": {\n      \"Resolution\": {\n        \"Value\": {\n          \"X\": {\n            \"Value\": 1920\n          },\n          \"Y\": {\n            \"Value\": 1080\n          }\n        }\n      }\n    }\n  }\n</code></pre>\n\n<p>As you can see, it looks really messy and was wondering if there is any way I could make it shorter. For example: remove the \"Value\" part so it's like:</p>\n\n<pre><code>\"Graphics\": {\n    \"Resolution\": {\n        \"X\": 1920,\n        \"Y\": 1080,\n    }\n}\n</code></pre>\n\n<p>The main goal is to make something that is fairly expandable whiles also being pretty easy to manually edit.\nWould simply just going to Yaml get me closer to this goal?</p>\n\n<pre><code>public class IOption // (changed to class from interface because Json.Net didn't like deserialising interface)\n    {\n        public virtual dynamic Value { get; set; }\n\n        public virtual bool SetValue(object value)\n        {\n            return false;\n        }\n    }\n\n    public class Option&lt;T&gt; : IOption\n    {\n        public override dynamic Value { get; set; }\n\n        public Option(T value)\n        {\n            Value = value;\n        }\n\n        public override bool SetValue(object value)\n        {\n            try\n            {\n                Value = (T)value;\n                return true;\n            }\n            catch (Exception e)\n            {\n                throw e;\n            }\n        }\n    }\n\nvoid SaveToJson()\n{\n    IDictionary parsableOptions = new Dictionary&lt;string, IOption&gt;();\n    Save(\"SomePath\", parsableOptions);\n}\n\n\npublic static void Save(string path, object obj)\n        {\n            var serializer = new Newtonsoft.Json.JsonSerializer();\n\n            using (var sw = new StreamWriter(path))\n            using (Newtonsoft.Json.JsonWriter writer = new Newtonsoft.Json.JsonTextWriter(sw))\n            {\n                writer.Formatting = Newtonsoft.Json.Formatting.Indented;\n                serializer.Serialize(writer, obj);\n            }\n        }\n\nUpdate: Using dynamics in place of the IOptions class produced the result I wanted. I also moved to Yaml for it's easier to read aesthetic.\n</code></pre>\n"}, {"tags": ["c#", "entity-framework-6"], "comments": [{"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1576708729, "post_id": 59400796, "comment_id": 104990970, "body": "What do you mean by &quot;the relation is not copied also&quot; and what &quot;relation&quot; member variable contains no elements? Please <a href=\"https://stackoverflow.com/posts/59400796/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."}, {"owner": {"reputation": 2649, "user_id": 1048588, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1324473728/picture?type=large", "display_name": "jstuardo", "link": "https://stackoverflow.com/users/1048588/jstuardo"}, "reply_to_user": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1576712940, "post_id": 59400796, "comment_id": 104992103, "body": "I can edit the question tomorrow but I am not sure if that will help. As I told you, this is a one to many relationship. &quot;Record&quot; s the parent entity, and &quot;Relation&quot; is the collection of child items. The original Record contains 18 child elements. After detaching, the Records contains 0 child elements."}, {"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1576713923, "post_id": 59400796, "comment_id": 104992334, "body": "The MCVE will help as it shows how the data is added, how you work with context objects and how you check for the number of entities. Detaching an object does not remove the row in the database. So the MCVE should clearly show that the number of child elements is not as expected."}, {"owner": {"reputation": 2649, "user_id": 1048588, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1324473728/picture?type=large", "display_name": "jstuardo", "link": "https://stackoverflow.com/users/1048588/jstuardo"}, "reply_to_user": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1576750831, "post_id": 59400796, "comment_id": 105002919, "body": "@Progman As you should know, relationships are loaded automatically by entity framework.By doing &quot;mydata.Where(a =&gt; some condition).ToList()&quot;, all relationships records are loaded automatically by the framework. I do nothing to load them.By the way, I think it is because that by default &quot;lazy loading&quot; is used. How can I force certain relationship to be loaded at the first query? But only one relationship. I am not interested in the others. Furthermore, maybe you did not understand the problem. Records are not removed in the DB. Problem is that detached object does not keep child records."}, {"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1576751272, "post_id": 59400796, "comment_id": 105003111, "body": "Relationships of entities are not loaded automatically, only on request. Otherwise you would load the whole database when you load only one entity. You can use <code>Include()</code> to load the related entities in your query without loading entities/relationships you don&#39;t want. &quot;Lazy loading&quot; might not be the issue here, but it&#39;s hard to tell. Please provide a MCVE which clearly shows the error in counting the entities."}, {"owner": {"reputation": 2649, "user_id": 1048588, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1324473728/picture?type=large", "display_name": "jstuardo", "link": "https://stackoverflow.com/users/1048588/jstuardo"}, "reply_to_user": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1576754334, "post_id": 59400796, "comment_id": 105004651, "body": "@Progman I edit the question. I have added screenshots of debugging session."}, {"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1576754783, "post_id": 59400796, "comment_id": 105004845, "body": "Keep in mind that <code>Detach()</code> only detach the given object, not the related entities, see <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.data.objects.objectcontext.detach?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>. Also, the children lists are empty because there are no entities &quot;pointing&quot; to the detached entities, they are still referencing to the original entities (which aren&#39;t in the current context anymore) based on the foreign keys they have. It wouldn&#39;t make sense to have them in these children list of the detached objects. The foreign key can have only one Id value."}, {"owner": {"reputation": 2649, "user_id": 1048588, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1324473728/picture?type=large", "display_name": "jstuardo", "link": "https://stackoverflow.com/users/1048588/jstuardo"}, "reply_to_user": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1576755731, "post_id": 59400796, "comment_id": 105005267, "body": "@Progman yes, I know that, but I was not actually looking for an explanation of why this is happening. I am looking for a solution. Microsoft documents only tells what is known, but not how to solve it. The title of the question is about  &quot;Duplicating Entities&quot;. To me, it would be very easy to do a For Each through the entities and then creating new objects, using db.Entity.Add instruction and finally db.SaveChanges, but I think this could be terrible slow. That&#39;s is why I thought about detaching so that I would not need to assign the properties &quot;by hand&quot; using a for each loop."}, {"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1576756241, "post_id": 59400796, "comment_id": 105005484, "body": "You might want to look at <a href=\"https://stackoverflow.com/questions/24828287/entity-framework-duplicate-object-and-all-child-properties/24828907#24828907\" title=\"entity framework duplicate object and all child properties\">stackoverflow.com/questions/24828287/&hellip;</a> to load the entities with <code>AsNoTracking()</code> (in combination with <code>Include()</code>). However you might need to reset the primary key values so EF doesn&#39;t try to insert a new row with an existing primary key for the &quot;parent&quot; entity as well for all &quot;child&quot; entities."}], "answers": [{"comments": [{"owner": {"reputation": 2649, "user_id": 1048588, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1324473728/picture?type=large", "display_name": "jstuardo", "link": "https://stackoverflow.com/users/1048588/jstuardo"}, "edited": false, "score": 0, "creation_date": 1577109883, "post_id": 59456567, "comment_id": 105094419, "body": "Thanks, but I have finally used a not so elegant solution. I have queried the database twice. Then I have detached the first entity. Finally, I have reconstructed the navigation properties from the other attached  entity."}, {"owner": {"reputation": 896, "user_id": 3456351, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/100006528991956/picture?type=large", "display_name": "As\u0131m G&#252;nd&#252;z", "link": "https://stackoverflow.com/users/3456351/as%c4%b1m-g%c3%bcnd%c3%bcz"}, "reply_to_user": {"reputation": 2649, "user_id": 1048588, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1324473728/picture?type=large", "display_name": "jstuardo", "link": "https://stackoverflow.com/users/1048588/jstuardo"}, "edited": false, "score": 0, "creation_date": 1577113119, "post_id": 59456567, "comment_id": 105095855, "body": "well if that fails in any scenario you can always use the codesnippet above"}], "tags": [], "owner": {"reputation": 896, "user_id": 3456351, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/100006528991956/picture?type=large", "display_name": "As\u0131m G&#252;nd&#252;z", "link": "https://stackoverflow.com/users/3456351/as%c4%b1m-g%c3%bcnd%c3%bcz"}, "is_accepted": false, "score": 0, "last_activity_date": 1577113060, "last_edit_date": 1577113060, "creation_date": 1577109402, "answer_id": 59456567, "question_id": 59400796, "link": "https://stackoverflow.com/questions/59400796/duplicating-entity-framework-entities/59456567#59456567", "title": "Duplicating Entity Framework entities", "body": "<p>I had the same problem, unfortunately navigation properties are lost after detaching an Item or when entity state is changed to detached.</p>\n\n<p>what you can do is clone the entity \none way to do this is : <code>Context.Entry(your_entity).CurrentValues.ToObject();</code></p>\n\n<p>however this will not clone the navigation properties either </p>\n\n<p>if you fully want to clone an object among with navigation properties \nthe easiest way for me to achieve it was using automapper library for c# </p>\n\n<p>Below is a sample usage: </p>\n\n<pre><code>var config = new MapperConfiguration(cfg =&gt; cfg.CreateMap&lt;originalObject, T&gt;());\nvar mapper = new Mapper(config);\n// or\nvar mapper = config.CreateMapper();\n\nT  clonedObject = mapper.Map&lt;T&gt;(originalObject);\n</code></pre>\n\n<p>after you clone and detach the original object, you can add </p>\n\n<pre><code>db.Record.AddRange(clonedObject );\n</code></pre>\n\n<p>and below is a generic extension to do it </p>\n\n<pre><code>public static object Map&lt;T&gt;(this T source)\n    {\n        var fullName = source.GetType().FullName;\n        var sourceType = source.GetType();\n\n        var baseType = ObjectContext.GetObjectType(source.GetType());\n\n        var config = new MapperConfiguration(cfg =&gt;\n            cfg.CreateMap(sourceType, baseType));\n\n\n\n\n        var mapper = config.CreateMapper();\n\n        var entity = mapper.Map(source, sourceType, baseType);\n\n        return entity;\n}\n</code></pre>\n\n<p>where you can call it like </p>\n\n<pre><code>var clonedObject = originalObject.Map();\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 2649, "user_id": 1048588, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1324473728/picture?type=large", "display_name": "jstuardo", "link": "https://stackoverflow.com/users/1048588/jstuardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577113060, "creation_date": 1576707827, "last_edit_date": 1576754288, "question_id": 59400796, "link": "https://stackoverflow.com/questions/59400796/duplicating-entity-framework-entities", "title": "Duplicating Entity Framework entities", "body": "<p>I have this EF query:</p>\n\n<pre><code>var records = mydata.Where(a =&gt; some condition).ToList();\n</code></pre>\n\n<p>Records is a list of <code>Record</code> objects. <code>Record</code> is a database table that has a one to many relationship called \"relation\".</p>\n\n<p>The EF object represents that member variable as <code>Collection&lt;Relation&gt;</code>. </p>\n\n<p>After the <code>where</code> above, I see that \"relation\" member variable contains a collection of 18 entities.</p>\n\n<p>I need to duplicate those <code>Record</code> objects, so that I am detaching them first, this way:</p>\n\n<pre><code>var detached = this.DetachEntities(records, db, \"RecordId\");\n</code></pre>\n\n<p>Where <code>this.DetachEntities</code> is defined this way:</p>\n\n<pre><code>    private T DetachEntity&lt;T&gt;(T entity, Repositories.GestionActivosEntities db, string keyName) where T : class\n    {\n        db.Entry(entity).State = EntityState.Detached;\n\n        if (entity.GetType().GetProperty(keyName) != null)\n        {\n            entity.GetType().GetProperty(keyName).SetValue(entity, 0);\n        }\n\n        return entity;\n    }\n\n    private List&lt;T&gt; DetachEntities&lt;T&gt;(List&lt;T&gt; entities, Repositories.GestionActivosEntities db, string keyName) where T : class\n    {\n        foreach (var entity in entities)\n        {\n            this.DetachEntity(entity, db, keyName);\n        }\n\n        return entities;\n    }\n</code></pre>\n\n<p>After I detached the entities, I am doing: </p>\n\n<pre><code>db.Record.AddRange(detached);\n</code></pre>\n\n<p>The problem, is that, after I detached the list, the relation is not copied also, resulting that \"relation\" member variable contains no elements.</p>\n\n<p>How can I keep the relation elements after detaching?</p>\n\n<p>EDIT:</p>\n\n<p>This shows the debugging session:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Itwp9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Itwp9.png\" alt=\"2 instructions 2 show the problem\"></a></p>\n\n<p>The breakpoint is placed in the line where the query is done. The cursor shows the line after the query was executed.</p>\n\n<p>This screenshot shows the child records ValorCampo and Workflow</p>\n\n<p><a href=\"https://i.stack.imgur.com/NIHJ6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NIHJ6.png\" alt=\"This screenshot shows the child records ValorCampo and Workflow\"></a></p>\n\n<p>This screenshot shows the entity after detaching it. Note the child records are not present in the detached object</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vww4s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vww4s.png\" alt=\"This screenshot shows the entity after detaching it. Note the child records are not present in the detached object\"></a></p>\n\n<p>As I have told, the problem only is when detaching. Child records are not kept. Database rows remain untouched.</p>\n"}, {"tags": ["c#", "json", "json.net", "shopify"], "answers": [{"comments": [{"owner": {"reputation": 327, "user_id": 2230626, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6a0fae52a6e0d98a3423652d4c55383b?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/2230626/ben"}, "edited": false, "score": 0, "creation_date": 1576776789, "post_id": 59401425, "comment_id": 105016297, "body": "Except in my case I am returning a &quot;product&quot; object, not &quot;products.&quot; I would think the issue in my case is not that I&#39;m trying to put a single element into the JArray....or maybe that is the issue?"}], "tags": [], "owner": {"reputation": 54, "user_id": 6604007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bc33eb1153159be0f9548c2af1004a4?s=128&d=identicon&r=PG&f=1", "display_name": "bitsNbytes", "link": "https://stackoverflow.com/users/6604007/bitsnbytes"}, "is_accepted": false, "score": 0, "last_activity_date": 1576711997, "creation_date": 1576711997, "answer_id": 59401425, "question_id": 59400792, "link": "https://stackoverflow.com/questions/59400792/shopify-sharp-c-net-library-with-json-deserializing/59401425#59401425", "title": "Shopify Sharp C#.NET library with JSON deserializing", "body": "<p>IMO you wouldn't need classes for a few items. i will give you an example of my code snippet. </p>\n\n<pre><code> Stream dataStream = response.GetResponseStream();\n StreamReader reader = new StreamReader(dataStream);\n string responseFromServer = reader.ReadToEnd();\n var data = (JObject)JsonConvert.DeserializeObject(responseFromServer);\n var products = data[\"products\"].Children();\n\n foreach (var product in products)\n        { \n         Console.WriteLine(\"the prod ID number : \"+product[\"id\"]);\n\n        }\n</code></pre>\n\n<p>you can get any product item information from json using the array index.\nhope this pushes you somewhat in the right direction. or at least gives you something to think about. </p>\n"}, {"tags": [], "owner": {"reputation": 327, "user_id": 2230626, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6a0fae52a6e0d98a3423652d4c55383b?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/2230626/ben"}, "is_accepted": false, "score": 0, "last_activity_date": 1576784897, "creation_date": 1576784897, "answer_id": 59416071, "question_id": 59400792, "link": "https://stackoverflow.com/questions/59400792/shopify-sharp-c-net-library-with-json-deserializing/59416071#59416071", "title": "Shopify Sharp C#.NET library with JSON deserializing", "body": "<p>I wound up just using the products.json endpoint rather than the one to retrieve a single one by ID (product/{product ID}.json). Then I'm grabbing the order from the entire serialized list of products.</p>\n"}], "owner": {"reputation": 327, "user_id": 2230626, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6a0fae52a6e0d98a3423652d4c55383b?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/2230626/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 318, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576784897, "creation_date": 1576707812, "question_id": 59400792, "link": "https://stackoverflow.com/questions/59400792/shopify-sharp-c-net-library-with-json-deserializing", "title": "Shopify Sharp C#.NET library with JSON deserializing", "body": "<p>I've been spinning my wheels on this issue for a couple days so I thought I'd better ask the forums.</p>\n\n<p>I am using the ShopifySharp C# library to make API calls and I'm having an issue deserializing a product.</p>\n\n<p>My app needs to grab a certain time period's worth of orders, then loop through each order's line item to retrieve products. Essentially my process will be dynamically building product review reminder emails in Bronto.</p>\n\n<p>Anyway, the part that's not working is the following:</p>\n\n<p>Here's my method that makes the call:</p>\n\n<pre><code>public List&lt;T&gt; CallService&lt;T&gt;(string query)\n    {\n\n        var data = new List&lt;T&gt;();\n        var fullyEscapedUri = _ShopUri.AbsoluteUri.EndsWith(\"/\") ? _ShopUri : new Uri(_ShopUri + \"/\");\n        var uri = new Uri(fullyEscapedUri, typeof(T).Name);\n\n        if (!string.IsNullOrWhiteSpace(query))\n        {\n\n            var uriBuilder = new UriBuilder(uri) { Query = query };\n            uri = uriBuilder.Uri;\n\n        }\n\n        string url = String.Format(\"{0}{1}\", _ShopUri, query);\n\n        // The WebRequest method will compile for .net4.5 but not 1.4.\n        var request = WebRequest.Create(url);\n        request.Method = \"GET\";\n        request.ContentType = \"application/json\";\n\n        string base64EncodedUsernameAndPassword = string.Format(\"{0}:{1}\", _Username, _Password);\n        string authHeader = string.Format(\"Basic {0}\", Convert.ToBase64String(Encoding.UTF8.GetBytes(base64EncodedUsernameAndPassword)));\n        request.Headers[\"Authorization\"] = authHeader;\n\n        using (var response = request.GetResponse())\n        {\n\n            using (var stream = response.GetResponseStream())\n            {\n\n                using (var reader = new StreamReader(stream))\n                {\n\n                    string json = reader.ReadToEnd();                                  \n                    var jsonObj = JsonConvert.DeserializeObject(json) as JObject;\n                    var jsonArray = jsonObj[_ObjectType] as JArray; // code is crashing here for product json. Order json is being parsed fine.\n\n                    foreach (var jsonEmp in jsonArray)\n                    {\n\n                        var obj = JsonConvert.DeserializeObject&lt;T&gt;(jsonEmp.ToString());\n                        data.Add(obj);\n                    }\n\n                }\n\n            }\n\n        }\n\n        return data;\n    }\n</code></pre>\n\n<p>When it hits the products, it's crashing at this line, leaving a null jsonArray JArray:</p>\n\n<pre><code>var jsonArray = jsonObj[_ObjectType] as JArray; // code is crashing here for product json. Order json is being parsed fine.\n</code></pre>\n\n<p>I've verified all the variables going into this function are fine (query URL, ObjectType, Username, Password.....). I've verified that the code right before the problem line about is returning the expected JSON string.</p>\n\n<p>Here is the JSON being returned - I'm only grabbing two fields:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n  \"product\": {\r\n    \"handle\": \"my-product-handle\",\r\n    \"images\": [\r\n      {\r\n        \"id\": 11112222333444,\r\n        \"product_id\": 1234567890,\r\n        \"position\": 1,\r\n        \"created_at\": \"2018-12-11T16:05:26-06:00\",\r\n        \"updated_at\": \"2018-12-11T16:05:26-06:00\",\r\n        \"alt\": null,\r\n        \"width\": 800,\r\n        \"height\": 800,\r\n        \"src\": \"https://cdn.shopify.com/some_url\",\r\n        \"variant_ids\": [],\r\n        \"admin_graphql_api_id\": \"gid://shopify/ProductImage/some_other_url\"\r\n      }\r\n    ]\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and here are my relevant C# classes:</p>\n\n<pre><code>public class Product : ShopifyObject\n{\n    /// &lt;summary&gt;\n    /// The name of the product. In a shop's catalog, clicking on a product's title takes you to that product's page.\n    /// On a product's page, the product's title typically appears in a large font.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"title\")]\n    public string Title { get; set; }\n\n    /// &lt;summary&gt;\n    /// The description of the product, complete with HTML formatting.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"body_html\")]\n    public string BodyHtml { get; set; }\n\n    /// &lt;summary&gt;\n    /// The name of the vendor of the product.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"vendor\")]\n    public string Vendor { get; set; }\n\n    /// &lt;summary&gt;\n    /// A categorization that a product can be tagged with, commonly used for filtering and searching.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"product_type\")]\n    public string ProductType { get; set; }\n\n    /// &lt;summary&gt;\n    /// The date and time when the product was created. The API returns this value in ISO 8601 format.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"created_at\", DefaultValueHandling = DefaultValueHandling.Ignore)]\n    public DateTimeOffset? CreatedAt { get; set; }\n\n    /// &lt;summary&gt;\n    /// A human-friendly unique string for the Product automatically generated from its title.\n    /// They are used by the Liquid templating language to refer to objects.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"handle\")]\n    public string Handle { get; set; }\n\n    /// &lt;summary&gt;\n    /// The date and time when the product was last modified. The API returns this value in ISO 8601 format.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"updated_at\", DefaultValueHandling = DefaultValueHandling.Ignore)]\n    public DateTimeOffset? UpdatedAt { get; set; }\n\n    /// &lt;summary&gt;\n    /// The date and time when the product was published. The API returns this value in ISO 8601 format. \n    /// Set to NULL to unpublish a product\n    /// &lt;/summary&gt;\n    [JsonProperty(\"published_at\", DefaultValueHandling = DefaultValueHandling.Include, NullValueHandling = NullValueHandling.Include)]\n    public DateTimeOffset? PublishedAt { get; set; }\n\n    /// &lt;summary&gt;\n    /// The suffix of the liquid template being used.\n    /// By default, the original template is called product.liquid, without any suffix.\n    /// Any additional templates will be: product.suffix.liquid.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"template_suffix\")]\n    public object TemplateSuffix { get; set; }\n\n    /// &lt;summary&gt;\n    /// A categorization that a product can be tagged with, commonly used for filtering and searching.\n    /// Each comma-separated tag has a character limit of 255.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"tags\")]\n    public string Tags { get; set; }\n\n    /// &lt;summary&gt;\n    /// The sales channels in which the product is visible.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"published_scope\")]\n    public string PublishedScope { get; set; }\n\n    /// &lt;summary&gt;\n    /// A list of variant objects, each one representing a slightly different version of the product.\n    /// For example, if a product comes in different sizes and colors, each size and color permutation (such as \"small black\", \"medium black\", \"large blue\"), would be a variant.\n    /// To reorder variants, update the product with the variants in the desired order.The position attribute on the variant will be ignored.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"variants\")]\n    public IEnumerable&lt;ProductVariant&gt; Variants { get; set; }\n\n    /// &lt;summary&gt;\n    /// Custom product property names like \"Size\", \"Color\", and \"Material\".\n    /// Products are based on permutations of these options. \n    /// A product may have a maximum of 3 options. 255 characters limit each.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"options\")]\n    public IEnumerable&lt;ProductOption&gt; Options { get; set; }\n\n    /// &lt;summary&gt;\n    /// A list of image objects, each one representing an image associated with the product.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"images\")]\n    public IEnumerable&lt;ProductImage&gt; Images { get; set; }\n}\n</code></pre>\n\n<p>and ProductImage:</p>\n\n<pre><code>public class ProductImage : ShopifyObject\n{\n    /// &lt;summary&gt;\n    /// The id of the product associated with the image.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"product_id\")]\n    public long? ProductId { get; set; }\n\n    /// &lt;summary&gt;\n    /// The order of the product image in the list. The first product image is at position 1 and is the \"main\" image for the product.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"position\")]\n    public int? Position { get; set; }\n\n    /// &lt;summary&gt;\n    /// The date and time when the product image was created. The API returns this value in ISO 8601 format.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"created_at\")]\n    public DateTimeOffset? CreatedAt { get; set; }\n\n    /// &lt;summary&gt;\n    /// The date and time when the product image was last modified. The API returns this value in ISO 8601 format.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"updated_at\")]\n    public DateTimeOffset? UpdatedAt { get; set; }\n\n    /// &lt;summary&gt;\n    /// Specifies the alt tag of the product image.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"alt\")]\n    public object Alt { get; set; }\n\n    /// &lt;summary&gt;\n    /// Specifies the width of the product image.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"width\")]\n    public int? width { get; set; }\n\n    /// &lt;summary&gt;\n    /// Specifies the height of the product image.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"height\")]\n    public int? height { get; set; }\n\n    /// &lt;summary&gt;\n    /// Specifies the location of the product image.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"src\")]\n    public string Src { get; set; }\n\n    /// &lt;summary&gt;\n    /// An array of variant ids associated with the image.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"variant_ids\")]\n    public IEnumerable&lt;long&gt; VariantIds { get; set; }\n\n    /// &lt;summary&gt;\n    /// An array of variant ids associated with the image.\n    /// &lt;/summary&gt;\n    [JsonProperty(\"admin_graphql_api_id\")]\n    public string AdminGraphQlApiId { get; set; }\n}\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>Ben</p>\n"}, {"tags": ["c#", "windows", "frontend"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1576707461, "post_id": 59400705, "comment_id": 104990537, "body": "You need to set the buttons&#39; Location properties."}, {"owner": {"reputation": 85, "user_id": 11485391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hBWmb.jpg?s=128&g=1", "display_name": "Shihabmohamed", "link": "https://stackoverflow.com/users/11485391/shihabmohamed"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1576707601, "post_id": 59400705, "comment_id": 104990588, "body": "i have location properties also ill update my question thank you"}], "answers": [{"tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": false, "score": -1, "last_activity_date": 1576709255, "creation_date": 1576709255, "answer_id": 59401032, "question_id": 59400705, "link": "https://stackoverflow.com/questions/59400705/dynamic-button-c/59401032#59401032", "title": "Dynamic button-C#", "body": "<p>All Buttons are inherently dynamically created at runtime. The Windows Forms Designer works via partial classes: You work on one part. The designer on the other (designer.cs). And at compile time the Designers code is executed by calling \"InitializeComponents()\" in the Constructor. It can only do exactly the same things you can do.</p>\n\n<p>If you need help with creating buttons yourself, you can always look into the Designer part. Just do take care not to change anything in that part. This System only works because the designer is exclusively writing in the file and compilation/loading of a Project is prone to seizing up if you did manual changes.</p>\n\n<p>As you wrote it right now, this code will create <code>dt.Rows.Count</code> buttons at the same locaiton. Usually the Button creation code it needs access to the loop variable, to adapt the positions of each consequtive element.. Personally I prefer to leave positioning of Elements as much to automatics as possible. These designs simply adapt better to changes in resolution and window size.</p>\n"}], "owner": {"reputation": 85, "user_id": 11485391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hBWmb.jpg?s=128&g=1", "display_name": "Shihabmohamed", "link": "https://stackoverflow.com/users/11485391/shihabmohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1576709255, "creation_date": 1576707326, "last_edit_date": 1576709251, "question_id": 59400705, "link": "https://stackoverflow.com/questions/59400705/dynamic-button-c", "title": "Dynamic button-C#", "body": "<p>i have buttons this buttons for categories i want when click in this buttons i want to get rows from database products table and get two data product name and price and set it those values into dynamic buttons in windows application <strong>notes i have set location properities for button such like flowLayoutPanel\ni</strong> have this code </p>\n\n<pre><code>private void btnhotdrink_Click_1(object sender, EventArgs e)\n    {\n        //int StartPositition = 100;\n        //int EndPosition = 10;\n        DataTable dt = new DataTable();\n        dt =clsprdcat.GET_HOTDRINK_CATEGORY();\n\n        for(int i=0; i &lt; dt.Rows.Count; i++)\n        {\n            for (int s=0; s &lt; dt.Columns[4]; s++)\n            {\n                Button l = addbuttons(i,s);\n                flowLayoutPanel1.Controls.Add(l);\n                //EndPosition +=70;\n            }\n        }\n    }\n\n    Button addbuttons(int i)\n    {\n        Button l = new Button();\n        l.Name = \"Name\" + l.ToString();\n        l.Text = \"label\" + l.ToString();\n        l.ForeColor = Color.White;\n        l.BackColor = Color.Green;\n        l.Font = new Font(\"Serif\", 24, FontStyle.Bold);\n        l.Width = 170;\n        l.Height = 80;\n        //l.Location = new Point(start, end);\n        l.TextAlign = ContentAlignment.MiddleCenter;\n        l.Margin = new Padding(5);\n        return l;\n    }\n</code></pre>\n\n<p><strong>How Can i Do this</strong></p>\n"}, {"tags": ["c#", "string"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1576707634, "post_id": 59400690, "comment_id": 104990606, "body": "Here&#39;s the documentation  <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/base-types/composite-formatting?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/standard/base-types/&hellip;</a>"}, {"owner": {"reputation": 13115, "user_id": 150605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pFmKd.png?s=128&g=1", "display_name": "Lance U. Matthews", "link": "https://stackoverflow.com/users/150605/lance-u-matthews"}, "edited": false, "score": 1, "creation_date": 1576707844, "post_id": 59400690, "comment_id": 104990697, "body": "I think the selected duplicate only works <i>if you already know the answer to the question</i>; this question is asking &quot;What does <i>X</i> do?&quot; while that question is asking &quot;How do I do <i>Y</i>?&quot;, to which the answer is &quot;Use <i>X</i>.&quot;  I think <a href=\"https://stackoverflow.com/q/34940355/150605\">What is String Format C# {0,12:N0} (colon and commas) means?</a> is a better duplicate since it asks the same question (and more)."}], "owner": {"reputation": 3886, "user_id": 2208112, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2af302dda0b07084e95b2e1b35b0717?s=128&d=identicon&r=PG", "display_name": "idude", "link": "https://stackoverflow.com/users/2208112/idude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "closed_date": 1576707608, "answer_count": 0, "score": 0, "last_activity_date": 1576707269, "creation_date": 1576707269, "question_id": 59400690, "link": "https://stackoverflow.com/questions/59400690/c-curly-brace-in-string-format", "closed_reason": "Duplicate", "title": "C# Curly Brace in String.Format", "body": "<p>So I'm currently learning C# and came across this example on the documentation:</p>\n\n<pre><code>DateTime date1 = new DateTime(2009, 7, 1);\nTimeSpan hiTime = new TimeSpan(14, 17, 32);\ndecimal hiTemp = 62.1m; \nTimeSpan loTime = new TimeSpan(3, 16, 10);\ndecimal loTemp = 54.8m; \n\nstring result1 = String.Format(\"Temperature on {0:d}:\\n{1,11}: {2} degrees (hi)\\n{3,11}: {4} degrees (lo)\", \n                               date1, hiTime, hiTemp, loTime, loTemp);\nConsole.WriteLine(result1);\nConsole.WriteLine();\n\nConsole.WriteLine(result2);\n// The example displays output like the following:\n//       Temperature on 7/1/2009:\n//          14:17:32: 62.1 degrees (hi)\n//          03:16:10: 54.8 degrees (lo)\n</code></pre>\n\n<p>I understand that curly braces with just one number inside it mean to take that index of the argument and put it into the string, but what I don't understand is the second number behind the comma.</p>\n\n<p>For example, what does <code>11</code> mean in <code>{1,11}</code> and <code>{3,11}</code>? What does adding a number behind a comma do when string formatting in C#?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c#", "sql-server", "database"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1576707268, "post_id": 59400669, "comment_id": 104990466, "body": "You shouldn&#39;t be specifying the database name in the queries. Just do like <code>DELETE FROM Customer</code> and <code>DELETE FROM Order</code>. The database is already specified in the connection string."}, {"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 0, "creation_date": 1576732414, "post_id": 59400669, "comment_id": 104995750, "body": "<code>ORDER</code> is a <a href=\"https://docs.microsoft.com/en-us/sql/t-sql/language-elements/reserved-keywords-transact-sql?view=sql-server-ver15\" rel=\"nofollow noreferrer\">SQL Server reserved keyword</a>, and it&#39;s generally a bad idea to re-use these reserved keywords as names for your own database objects (like tables). If you cannot change that, then you need to put the table name in square brackets and use <code>DELETE FROM [Order];</code> in order to get your code to work"}, {"owner": {"reputation": 5601, "user_id": 223752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/G6RXp.png?s=128&g=1", "display_name": "Nitin S", "link": "https://stackoverflow.com/users/223752/nitin-s"}, "edited": false, "score": 0, "creation_date": 1576732457, "post_id": 59400669, "comment_id": 104995766, "body": "or maybe you can use <code>Database.dbo.Order</code> instead of <code>Database.Order</code>"}], "answers": [{"tags": [], "owner": {"reputation": 69261, "user_id": 557445, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93a0d4a722b2fae0bf159c9283fe1aff?s=128&d=identicon&r=PG", "display_name": "Rion Williams", "link": "https://stackoverflow.com/users/557445/rion-williams"}, "is_accepted": false, "score": 2, "last_activity_date": 1576707460, "creation_date": 1576707460, "answer_id": 59400733, "question_id": 59400669, "link": "https://stackoverflow.com/questions/59400669/visual-studio-c-and-databases/59400733#59400733", "title": "Visual Studio C# and Databases", "body": "<p>Your existing Connection String is already specifying the default database to use (inferred from the <code>Database.mdf</code>), so it's likely that the query upon seeing <code>Database</code> is assuming it to be a schema and causing it to blow up. </p>\n\n<p>You could explicitly specify your database using the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.data.sqlclient.sqlconnectionstringbuilder.initialcatalog?redirectedfrom=MSDN&amp;view=netframework-4.8#System_Data_SqlClient_SqlConnectionStringBuilder_InitialCatalog\" rel=\"nofollow noreferrer\"><code>Initial Catalog</code></a> property in your connection string:</p>\n\n<pre><code>string connectionString = \"...Initial Catalog=YourDatabaseName...\";\n</code></pre>\n\n<p>You should be able to adjust your statements to use either the table name directly or preface them with the schema (e.g. <code>dbo.TableName</code>) as seen below:</p>\n\n<pre><code>const string SqlStrDeleteCustomer = \"DELETE FROM Customer;\"; // DELETE FROM dbo.Customer;\nconst string SqlStrDeleteOrder = \"DELETE FROM Order;\";       // DELETE FROM dbo.Order\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 8261575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b66681d28422f1247df0347d1613a756?s=128&d=identicon&r=PG&f=1", "display_name": "jinglyhk", "link": "https://stackoverflow.com/users/8261575/jinglyhk"}, "is_accepted": false, "score": 0, "last_activity_date": 1576708714, "creation_date": 1576708714, "answer_id": 59400946, "question_id": 59400669, "link": "https://stackoverflow.com/questions/59400669/visual-studio-c-and-databases/59400946#59400946", "title": "Visual Studio C# and Databases", "body": "<p>Instead of using Delete from Database.order,\nuse DELETE from ORDER and this should work.</p>\n\n<p>The name of the database is already passed in the connection string.</p>\n"}, {"tags": [], "owner": {"reputation": 5601, "user_id": 223752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/G6RXp.png?s=128&g=1", "display_name": "Nitin S", "link": "https://stackoverflow.com/users/223752/nitin-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1576732565, "creation_date": 1576732565, "answer_id": 59403640, "question_id": 59400669, "link": "https://stackoverflow.com/questions/59400669/visual-studio-c-and-databases/59403640#59403640", "title": "Visual Studio C# and Databases", "body": "<p>as you are using reserved word <code>order</code> in your query, Update your commands as follows</p>\n\n<pre><code>const string SqlStrDeleteCustomer = \"DELETE FROM [Database].[dbo].[Customer];\";\nconst string SqlStrDeleteOrder = \"DELETE FROM [Database].[dbo].[Order];\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>const string SqlStrDeleteCustomer = \"DELETE FROM [Customer];\";\nconst string SqlStrDeleteOrder = \"DELETE FROM [Order];\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5439, "user_id": 1736047, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GY4YE.jpg?s=128&g=1", "display_name": "STLDev", "link": "https://stackoverflow.com/users/1736047/stldev"}, "is_accepted": false, "score": 1, "last_activity_date": 1576733476, "last_edit_date": 1576733476, "creation_date": 1576732695, "answer_id": 59403658, "question_id": 59400669, "link": "https://stackoverflow.com/questions/59400669/visual-studio-c-and-databases/59403658#59403658", "title": "Visual Studio C# and Databases", "body": "<p>The only way to specify a table using just the database name and the table name is to use a syntax like this:  <code>AdventureWorks..Customer</code>, which actually specifies the Customer table from the default schema of the database AdventureWorks.</p>\n\n<p>The queries you're writing in your C# code are in T-SQL format, which is the query syntax that is native to SQL Server.</p>\n\n<p>When referring to database table names in a T-SQL query, it can be done in any of the following ways:</p>\n\n<ul>\n<li>If you use just the table name, for example, <code>Customer</code>, this references the table Customer in the default schema of the current database (which was specified in your connection string).</li>\n<li>If you specify schema name and the table name, for example, <code>dbo.Customer</code>, this references a table within a specific schema within the current database.</li>\n<li>If you specify the database name, the schema name, and the table name, for example, <code>AdventureWorks.dbo.Customer</code>, this references a table contained within a completely different database.</li>\n<li>If you specify the linked server name, the database name, the schema name, and the table name, for instance, <code>ProdServer.AdventureWorks.dbo.Customer</code>, this references the Customer table in the dbo schema of the Adventureworks database on the SQL Server specified by the Linked Server reference named \"ProdServer\"</li>\n</ul>\n"}], "owner": {"reputation": 123, "user_id": 10798307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7880a2e807f2baed8c27cb5854139a?s=128&d=identicon&r=PG&f=1", "display_name": "B. Baxter", "link": "https://stackoverflow.com/users/10798307/b-baxter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 59403640, "answer_count": 4, "score": 0, "last_activity_date": 1576733476, "creation_date": 1576707181, "last_edit_date": 1576732257, "question_id": 59400669, "link": "https://stackoverflow.com/questions/59400669/visual-studio-c-and-databases", "title": "Visual Studio C# and Databases", "body": "<p>I'm working on a small school assignment where we have to create a simple form that connects to a database and we run commands that add/delete/modify data in the said database using buttons on the Windows form.</p>\n\n<p>However, I'm struggling with the delete part.</p>\n\n<p>Essentially I want to delete all of the data in 2 tables <code>Customer</code> and <code>Order</code> - but for some reason I'm getting an error when I click the button:</p>\n\n<blockquote>\n  <p>Incorrect syntax near the keyword 'Database.Order;' </p>\n</blockquote>\n\n<p>in the below code.</p>\n\n<pre><code>private void deleteAll_Click(object sender, EventArgs e)\n{\n    string connectionString = @\"Data Source=(LocalDB)\\MSSQLLocalDB;AttachDbFilename=C:\\Users\\NOTIMPORTANT\\Desktop\\MD3\\MD3\\Database.mdf;Integrated Security=True\";\n\n    SqlConnection SqlCon = new SqlConnection(connectionString);\n\n    const string SqlStrDeleteCustomer = \"DELETE FROM Database.Customer;\";\n    const string SqlStrDeleteOrder = \"DELETE FROM Database.Order;\";\n\n    SqlCommand SqlCom = new SqlCommand();\n\n    try\n    {\n        SqlCon.Open();\n        SqlCom.Connection = SqlCon;\n        SqlCom.CommandText = SqlStrDeleteCustomer;\n\n        SqlCom.ExecuteNonQuery(); //Says the error is line 103 which is this.\n\n        SqlCom.CommandText = SqlStrDeleteOrder;\n        SqlCom.ExecuteNonQuery();\n\n        MessageBox.Show(\"All data has been deleted.\");\n        SqlCon.Close();\n    }\n    catch (System.Exception ex)\n    {\n        MessageBox.Show(ex.ToString());\n    }\n}\n</code></pre>\n\n<p>I can't seem to understand where the error is.</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-core", ".net-core"], "comments": [{"owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "edited": false, "score": 0, "creation_date": 1576735842, "post_id": 59400667, "comment_id": 104996709, "body": "Can you show how you are starting this application? And; is it a dotnet core assembly or .net standard?"}, {"owner": {"reputation": 21, "user_id": 5111320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J0SU5ONzDgU/AAAAAAAAAAI/AAAAAAAAAMw/gakgEKW0omE/photo.jpg?sz=128", "display_name": "Sonal bhosale", "link": "https://stackoverflow.com/users/5111320/sonal-bhosale"}, "reply_to_user": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "edited": false, "score": 0, "creation_date": 1576772067, "post_id": 59400667, "comment_id": 105014012, "body": "I&#39;m running application from VS2019, clicking on Docker profile. Application is using Microsoft.AspNetCore.All.dll"}], "owner": {"reputation": 21, "user_id": 5111320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J0SU5ONzDgU/AAAAAAAAAAI/AAAAAAAAAMw/gakgEKW0omE/photo.jpg?sz=128", "display_name": "Sonal bhosale", "link": "https://stackoverflow.com/users/5111320/sonal-bhosale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 957, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1576735628, "creation_date": 1576707170, "last_edit_date": 1576735628, "question_id": 59400667, "link": "https://stackoverflow.com/questions/59400667/the-target-process-exited-without-raising-a-coreclr-started-event-ensure-that-t", "title": "The target process exited without raising a CoreCLR started event. Ensure that the target process is configured to use .NET Core", "body": "<p>My microservice doesn't run in Docker, even when the dependencies are present in specified folder <code>'lib/netstandard2.0/Ben.Demystifier.dll'</code> Kindly suggest.</p>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>An assembly specified in the application dependencies manifest\n  (Service.deps.json) was not found:\n      package: 'Ben.Demystifier', version: '0.1.4'\n      path: 'lib/netstandard2.0/Ben.Demystifier.dll' The target process exited without raising a CoreCLR started event. Ensure that the target\n  process is configured to use .NET Core. This may be expected if the\n  target process did not run on .NET Core. The program 'dotnet' has\n  exited with code 140 (0x8c).</p>\n</blockquote>\n"}, {"tags": ["c#", "asp.net", "json", "serialization"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 1, "creation_date": 1576707120, "post_id": 59400624, "comment_id": 104990420, "body": "Are the escape characters included in the json string, or is that just how it&#39;s being displayed by visual studio? <code>&quot;{\\&quot;itemID\\&quot;:\\&quot;ABC\\&quot;}&quot;</code> as a string deserializes to a <code>Dictionary&lt;string,string&gt;</code> just fine as far as I can tell."}, {"owner": {"reputation": 13049, "user_id": 990502, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a146d5cbd39e3d21fce1631a35767043?s=128&d=identicon&r=PG", "display_name": "MistyD", "link": "https://stackoverflow.com/users/990502/mistyd"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1576707184, "post_id": 59400624, "comment_id": 104990440, "body": "Let me post what visual studio shows"}, {"owner": {"reputation": 37962, "user_id": 13198, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fb8927d5b991779b43ae5e35bf7cb9aa?s=128&d=identicon&r=PG", "display_name": "TheVillageIdiot", "link": "https://stackoverflow.com/users/13198/thevillageidiot"}, "edited": false, "score": 0, "creation_date": 1576707255, "post_id": 59400624, "comment_id": 104990464, "body": "What error are you getting? Or you just looked at the escaped string? I have tried this <code>var dc=JsonConvert.DeserializeObject&lt;Dictionary&lt;string,string&gt;&gt;(&zwnj;&#8203;&quot;{\\&quot;One\\&quot;:\\&quot;A\\&quot;,\\&quot;Tw&zwnj;&#8203;o\\&quot;:\\&quot;B\\&quot;,\\&quot;Three\\&quot;:&zwnj;&#8203;\\&quot;C\\&quot;}&quot;);</code> and it works fine."}, {"owner": {"reputation": 13049, "user_id": 990502, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a146d5cbd39e3d21fce1631a35767043?s=128&d=identicon&r=PG", "display_name": "MistyD", "link": "https://stackoverflow.com/users/990502/mistyd"}, "edited": false, "score": 0, "creation_date": 1576707309, "post_id": 59400624, "comment_id": 104990480, "body": "I am going to post the exact result that i see, I am running it now"}, {"owner": {"reputation": 13049, "user_id": 990502, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a146d5cbd39e3d21fce1631a35767043?s=128&d=identicon&r=PG", "display_name": "MistyD", "link": "https://stackoverflow.com/users/990502/mistyd"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1576707716, "post_id": 59400624, "comment_id": 104990648, "body": "@JonathonChase this is how its showing up <code>&quot;{\\&quot;itemID\\&quot;:\\&quot;ABC\\&quot;}&quot;</code> in visual studio. When I attempt to deserailize it to a dictionary it fails. I am not sure why its failing. The string looks fine to me. But in the locals it looks like this <code>&quot;\\&quot;{\\\\\\&quot;itemID\\\\\\&quot;:\\\\\\&quot;ABC\\\\\\&quot;}\\&quot;&quot; </code>"}, {"owner": {"reputation": 8019, "user_id": 9665021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlcMo.png?s=128&g=1", "display_name": "haldo", "link": "https://stackoverflow.com/users/9665021/haldo"}, "edited": false, "score": 0, "creation_date": 1576714283, "post_id": 59400624, "comment_id": 104992417, "body": "You should return an <code>ActionResult</code> like suggested in the duplicate. Then you&#39;ll be able to deserialise into the Dictionary. The string produced by the controller is not valid representation of json"}, {"owner": {"reputation": 37962, "user_id": 13198, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fb8927d5b991779b43ae5e35bf7cb9aa?s=128&d=identicon&r=PG", "display_name": "TheVillageIdiot", "link": "https://stackoverflow.com/users/13198/thevillageidiot"}, "edited": false, "score": 0, "creation_date": 1576718930, "post_id": 59400624, "comment_id": 104993311, "body": "Okay, you are returning JSON string which is getting escaped again. Read the referred question and return JSON instead of a string."}], "answers": [{"tags": [], "owner": {"reputation": 1018, "user_id": 5135107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa0b911e7d6ce110e763852b814fe33?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Farouk", "link": "https://stackoverflow.com/users/5135107/mohamed-farouk"}, "is_accepted": false, "score": 1, "last_activity_date": 1576707203, "creation_date": 1576707203, "answer_id": 59400674, "question_id": 59400624, "link": "https://stackoverflow.com/questions/59400624/asp-net-returning-an-invalid-json-on-client-when-serializing-a-dictionary/59400674#59400674", "title": "ASP.net - Returning an invalid json on client when serializing a dictionary", "body": "<p>Try adding [Produces(\"application/json\")] to your controller level.</p>\n\n<pre><code>[Produces(\"application/json\")]\npublic class MyController : ControllerBase\n</code></pre>\n"}], "owner": {"reputation": 13049, "user_id": 990502, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a146d5cbd39e3d21fce1631a35767043?s=128&d=identicon&r=PG", "display_name": "MistyD", "link": "https://stackoverflow.com/users/990502/mistyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1576707326, "answer_count": 1, "score": 0, "last_activity_date": 1576708023, "creation_date": 1576706915, "last_edit_date": 1576708023, "question_id": 59400624, "link": "https://stackoverflow.com/questions/59400624/asp-net-returning-an-invalid-json-on-client-when-serializing-a-dictionary", "closed_reason": "Duplicate", "title": "ASP.net - Returning an invalid json on client when serializing a dictionary", "body": "<p>This question is different from the one suggested by the mod. because I am returning a string and not an object here. </p>\n\n<p>I am attempting to send a json string back to the client. However it is invalid (the formatting is incorrect) any suggestions on how I can fix this ?</p>\n\n<p>This is the server side</p>\n\n<pre><code>    [HttpGet]\n    public string foo()\n    {\n        Dictionary&lt;string, string&gt; response = new Dictionary&lt;string, string&gt;();\n        response[\"itemID\"] = \"ABC\";\n        return JsonConvert.SerializeObject(response);\n    }\n</code></pre>\n\n<p>and on the client side I am doing this</p>\n\n<pre><code>    using (WebClient client = new WebClient())\n    {\n       string clientResponse = client.DownloadString(url);\n       Dictionary&lt;string, string&gt; response = JsonConvert.DeserializeObject&lt;Dictionary&lt;string, string&gt;&gt;(clientResponse);\n\n    }\n</code></pre>\n\n<p>clientRepsonse is apparently not properly formatted json its like this (shown below). Thats why it cannot be de-searialized</p>\n\n<pre><code>\"{\\\"itemID\\\":\\\"ABC\\\"}\"\n</code></pre>\n\n<p>Any suggestions on how I can fix this.\nIn the locals in visual studio it looks like this  <code>\"\\\"{\\\\\\\"itemID\\\\\\\":\\\\\\\"ABC\\\\\\\"}\\\"\"\n</code>\nAnd in preview it looks like this\n<code>\"{\\\"itemID\\\":\\\"ABC\\\"}\"</code></p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 3, "creation_date": 1576706495, "post_id": 59400477, "comment_id": 104990191, "body": "Are you looking for <code>Func&lt;Data, DataType, bool&gt;</code>?"}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 2, "creation_date": 1576708228, "post_id": 59400477, "comment_id": 104990823, "body": "I think the information on this question is incomplete. Are you trying to create alternate of <code>Run</code> method?"}, {"owner": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "edited": false, "score": 0, "creation_date": 1576726591, "post_id": 59400477, "comment_id": 104994680, "body": "Why your rule class is abstract?"}], "answers": [{"tags": [], "owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "is_accepted": false, "score": 0, "last_activity_date": 1576706697, "creation_date": 1576706697, "answer_id": 59400585, "question_id": 59400477, "link": "https://stackoverflow.com/questions/59400477/define-method-in-method-call/59400585#59400585", "title": "Define method in method call", "body": "<p>A <em>nondestructive</em> approach to achieve this is to create an extension method for <code>Rule</code> class. By the term <em>nondestructive</em> I mean an approach that does not modify the original architecture/concept of your code. In order to create an extension method, you have to first declare a <code>static class</code>. Then you have to define a method whose first parameter is pointing to the type of the target class (using <code>this</code> keyword). That said; you can implement what you need the following way: </p>\n\n<pre><code>public static class RuleExtensions {\n    public static Boolean SetRule (this Rule rule, Func&lt;(Definition definition, Boolean result)&gt; definitionFn) {\n       var fn = definitionFn();\n       rule.SetRule(fn.definition);\n       return fn.result;\n     }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "edited": false, "score": 0, "creation_date": 1576707721, "post_id": 59400773, "comment_id": 104990650, "body": "Would you please describe for what reason you choose definition of a delegate over simply using a <code>Func</code>?"}, {"owner": {"reputation": 23854, "user_id": 70345, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/aV45a.jpg?s=128&g=1", "display_name": "Ian Kemp", "link": "https://stackoverflow.com/users/70345/ian-kemp"}, "reply_to_user": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "edited": false, "score": 0, "creation_date": 1576708258, "post_id": 59400773, "comment_id": 104990833, "body": "@Transcendent It&#39;s better for maintainability. If the signature of <code>Rule.IsSatisfied</code> were ever to change, using the delegate approach I would only have to update the delegate declaration and <code>InlineRule.IsSatisfied</code>; whereas using action/func, I would have to copy-paste the new action/func declaration into every place that&#39;s currently using the delegate. I don&#39;t like copy-pasting because it&#39;s prone to errors. Secondly, it also (IMO) makes the code easier to read and therefore reason about."}, {"owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "edited": false, "score": 0, "creation_date": 1576708418, "post_id": 59400773, "comment_id": 104990880, "body": "That&#39;s really smart! But I still have problem with the implementation of the abstract class. How about sticking to the original implementation of <code>Rule</code> class and not creating an isotope."}, {"owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "edited": false, "score": 0, "creation_date": 1576708591, "post_id": 59400773, "comment_id": 104990932, "body": "@RufusL: It is, but it must have at least one implementation, and I mean that original implementation."}], "tags": [], "owner": {"reputation": 23854, "user_id": 70345, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/aV45a.jpg?s=128&g=1", "display_name": "Ian Kemp", "link": "https://stackoverflow.com/users/70345/ian-kemp"}, "is_accepted": false, "score": 0, "last_activity_date": 1576707675, "creation_date": 1576707675, "answer_id": 59400773, "question_id": 59400477, "link": "https://stackoverflow.com/questions/59400477/define-method-in-method-call/59400773#59400773", "title": "Define method in method call", "body": "<p>Define a delegate typed to take in <code>(Data data, DataType dataType)</code> and return a <code>bool</code>, an internal (could also be private) class that wraps and executes that delegate, and finally a method on <code>Definition</code> to create and assign a new instance of the class.</p>\n\n<pre><code>public delegate bool RuleEvaluator(Data data, DataType dataType);\n\ninternal class InlineRule : Rule\n{\n    private RuleEvaluator _ruleEvaluator;\n\n    public InlineRule(RuleEvaluator ruleEvaluator)\n    {\n        _ruleEvaluator = ruleEvaluator;\n    }\n\n    public override bool IsSatisfied(Data data, DataType dataType)\n        =&gt; _ruleEvaluator(data, dataType);\n}\n\npublic class Definition\n{\n    ... code as before...\n\n    public Definition SetRule(RuleEvaluator ruleEvaluator)\n    {\n        _rule = new InlineRule(ruleEvaluator);\n\n        return this;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "is_accepted": false, "score": 1, "last_activity_date": 1576770930, "creation_date": 1576770930, "answer_id": 59413104, "question_id": 59400477, "link": "https://stackoverflow.com/questions/59400477/define-method-in-method-call/59413104#59413104", "title": "Define method in method call", "body": "<p>Your are expecting to receive a <code>function</code> or a <code>delegate</code> and convert it into a <code>new Rule()</code> instance, that is an abstract class. </p>\n\n<p><strong>The first problem is:</strong> you can not instantiate a abstract class. So unless you add a <code>Type</code> as parameter to <code>SetRule</code> <strong>OR</strong> make <code>Rule</code> class not abstract. It will not be possible.</p>\n\n<p><strong>The second problem is:</strong> It's not a problem, but a warning. Your <code>Rule</code> class has only one method. And your <code>Definition</code> class has one one <code>Rule</code>. <strong>If this is your real code</strong>, it will be more clear if the <code>IsSatisfied</code> method was inside the <code>Definition</code> class.</p>\n\n<hr>\n\n<p>But your question is: How can I do this?</p>\n\n<pre><code>Definition.Name(\"MyDecision\").SetRule((data, dataType) =&gt; {\n  // Rule definition\n  // Return boolean result \n});\n</code></pre>\n\n<p>I'll provide an example about how to do this using <code>Rule</code> class not abstract.</p>\n\n<p>First you need to make your rule class concrete an able to receive a function or an delegate in the constructor. </p>\n\n<p>I'll use Func&lt;> as Ian Kemp already provided an solution with delegate. I suggest you to use delegate for this kind of scenarios because it's better for maintainability.</p>\n\n<pre><code>public class Rule {\n\n  protected Func&lt;Data, DataType, Boolean&gt; _isSatisfied {get; set;}\n\n  // Deafult constructor is optional. I keep it just rise a correct type of exception in case any child class call IsSatisfied without set it first.\n  public Rule()\n  {\n      _isSatisfied = (data, dataType) =&gt; { throw new NotImplementedException(); }; // Or any default behavior you want.\n  }\n\n  // this contructor will provide the behavior you want.\n  public Rule(Func&lt;Data, DataType, Boolean&gt; isSatisfied)\n  {\n      _isSatisfied = isSatisfied;\n  }\n\n  // This method now is only a wrapper to our Func&lt;&gt;\n  public virtual Boolean IsSatisfied(Data data, DataType dataType)\n  {\n      return _isSatisfied(data, dataType);\n  }\n\n}\n</code></pre>\n\n<p>Then add a new method on Definition class that receive our Func and create the rule.</p>\n\n<pre><code>public class Definition \n{\n\n  private String _name;\n  private Rule _rule;\n\n  public Definition(String name) {\n    _name = name;\n  }\n\n  public static Definition Name(String name) {\n    return new Definition(name);\n  }\n\n  public Definition SetRule(Rule rule) {\n    _rule = rule;\n    return this;\n  }\n\n  // Works like a charm\n  public Definition SetRule(Func&lt;Data, DataType, Boolean&gt; func) {\n    _rule = new Rule(func);\n    return this;\n  }\n\n  public bool Run(Data data, DataType dataType) {\n     return _rule.IsSatisfied(data, dataType);\n  }\n}\n</code></pre>\n\n<p>And if you and to create a specific <code>Rule</code> that overrides and implements its own <code>IsSatisfied</code> method you can do it like this.</p>\n\n<pre><code>public class MyRule : Rule {\n\n  public override Boolean IsSatisfied(Data data, DataType dataType) \n  {\n      Console.WriteLine(\"MyRule: Dataname:{0}, DataTypeName: {1}\", data.DataName, dataType.DataTypeName);\n      return false;\n  }\n\n}\n</code></pre>\n\n<p>And this is an small sample:</p>\n\n<pre><code>public class Program\n{\n    public static void Main()\n    {\n        var data = new Data() { DataName = \"My Data Name\" };\n        var dataType = new DataType() { DataTypeName = \"My Data Type Name\" };\n\n        try\n        {\n            // Log-&gt; MyRule: Dataname:My Data Name1, DataTypeName: My Data Type Name\n            Definition.Name(\"MyDecision\").SetRule(new MyRule()).Run(data, dataType);\n\n            // Log -&gt; Func: Dataname:My Data Name1, DataTypeName: My Data Type Name\n            Definition.Name(\"MyDecision\").SetRule((dataArg, dataTypeArg) =&gt; \n            {\n                Console.WriteLine(\"Func: Dataname:{0}, DataTypeName: {1}\", dataArg.DataName, dataTypeArg.DataTypeName);\n                return false;\n            }).Run(data, dataType);\n        }\n        catch(Exception ex)\n        {\n            Console.WriteLine(\"Error: \", ex.Message);\n        }\n    }\n}\n</code></pre>\n\n<p>You can run this sample on <a href=\"https://dotnetfiddle.net/qOCR79\" rel=\"nofollow noreferrer\">DotNetFiddle</a> if you want.</p>\n\n<p>If you are trying to create a generic rules engine I believe that you should give us more information about how you gonna implement your rules (On a new question).</p>\n\n<p>You can also take a look on how this open sources rules engines works.</p>\n\n<p><a href=\"https://github.com/NRules/NRules\" rel=\"nofollow noreferrer\">NRules</a> </p>\n\n<p><a href=\"https://github.com/lutticoelho/RulesChain\" rel=\"nofollow noreferrer\">RulesChain</a></p>\n"}], "owner": {"reputation": 27795, "user_id": 577805, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dbbe0a475e6a151f0595b83e55475f34?s=128&d=identicon&r=PG", "display_name": "Miguel Moura", "link": "https://stackoverflow.com/users/577805/miguel-moura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 1, "answer_count": 3, "score": -2, "last_activity_date": 1576770930, "creation_date": 1576706117, "last_edit_date": 1576707005, "question_id": 59400477, "link": "https://stackoverflow.com/questions/59400477/define-method-in-method-call", "title": "Define method in method call", "body": "<p>I have a class <code>Decision</code>, with Fluent interface, that I use as follows:</p>\n\n<pre><code>Decision.Name(\"MyDecision\").SetRule(new MyRule());\n</code></pre>\n\n<p>Internally <code>Decision</code> has a method <code>Run</code> that calls <code>MyRule</code> <code>IsSatisfied</code> method and pass 2 arguments: <code>Data</code> and <code>DateType</code>.</p>\n\n<p>I would also like to be able to use the following alternative syntax to define the Rule:</p>\n\n<pre><code>Decision.Name(\"MyDecision\").SetRule((data, dataType) =&gt; {\n  // Rule definition\n  // Return boolean result \n});\n</code></pre>\n\n<p>How can I do this?</p>\n\n<p><strong>Definition Class</strong></p>\n\n<pre><code>public class Definition {\n\n  private String _name;\n  private Rule rule;\n\n  public Definition(String name) {\n    _name = name;\n  }\n\n  public static Definition Name(String name) {\n    return new Definition(name);\n  }\n\n  public Definition SetRule(Rule rule) {\n    _rule = rule;\n    return this;\n  }\n\n  public bool Run(Data data, DataType dataType) {\n     return _rule.IsSatisfied(data, dataType);\n  }\n}\n</code></pre>\n\n<p><strong>Rule class</strong></p>\n\n<pre><code>public abstract class Rule {\n\n  public abstract Boolean IsSatisfied(Data data, DataType dataType);\n\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1576706039, "post_id": 59400440, "comment_id": 104990042, "body": "You can do <code>types.Any(x =&gt; x != 1 &amp;&amp; x != 2)</code>  which returns true if any values are not 1 and 2"}, {"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1576708644, "post_id": 59400440, "comment_id": 104990947, "body": "Why not use an array of your enum type?  Instead of <code>int [] types = new Int32[] {1, 2};</code> use <code>GroupTypes[] types = new GroupTypes[] {GroupTypes.Downtime, GroupTypes.Uptime};</code>"}], "answers": [{"comments": [{"owner": {"reputation": 697, "user_id": 2096928, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/du211.png?s=128&g=1", "display_name": "Joel Trauger", "link": "https://stackoverflow.com/users/2096928/joel-trauger"}, "edited": false, "score": 0, "creation_date": 1576706037, "post_id": 59400455, "comment_id": 104990039, "body": "does this work even if only 1 or 2 is present, but not both?"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "reply_to_user": {"reputation": 697, "user_id": 2096928, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/du211.png?s=128&g=1", "display_name": "Joel Trauger", "link": "https://stackoverflow.com/users/2096928/joel-trauger"}, "edited": false, "score": 0, "creation_date": 1576706357, "post_id": 59400455, "comment_id": 104990144, "body": "@JoelTrauger Yes. if the List is only <code>[1]</code> or <code>[2]</code>, all of the elements in it will be 1 or 2."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "reply_to_user": {"reputation": 697, "user_id": 2096928, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/du211.png?s=128&g=1", "display_name": "Joel Trauger", "link": "https://stackoverflow.com/users/2096928/joel-trauger"}, "edited": false, "score": 0, "creation_date": 1576706414, "post_id": 59400455, "comment_id": 104990165, "body": "@JoelTrauger Yes, because it&#39;s checking each item to see if it&#39;s 1 or 2, no matter how many items are in <code>types</code>.  Note that if <code>types</code> is empty that will not trip the <code>if</code> statement as <code>All</code> on an empty collection is always <code>true</code>."}], "tags": [], "owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "is_accepted": false, "score": 2, "last_activity_date": 1576706750, "last_edit_date": 1576706750, "creation_date": 1576705992, "answer_id": 59400455, "question_id": 59400440, "link": "https://stackoverflow.com/questions/59400440/check-if-array-only-has-numbers-that-are-allowed/59400455#59400455", "title": "Check if array only has numbers that are allowed", "body": "<p>You likely want to be using LINQ's <code>All</code> extension.</p>\n\n<pre><code>if(!types.All(a =&gt; a == 1 || a == 2))\n    return this.CreateApiError(ApiError.ApiErrors.BAD_REQUEST, \"Incorrect types input\", HttpStatusCode.BadRequest);\n</code></pre>\n\n<p>This will return true if all the values are 1 or 2, and false if any do not match.</p>\n\n<p>You could also do this using <code>Any</code>. The issue with the predicate you tried is that you were only checking that any value matched one of your expected values. You would instead want to check that any value does not match one of your expected values. The following would work: <code>types.Any(a =&gt; a != 1 &amp;&amp; a != 2)</code></p>\n"}, {"comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1576706586, "post_id": 59400538, "comment_id": 104990227, "body": "This approach also works with string representations of the enum flag."}], "tags": [], "owner": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "is_accepted": true, "score": 3, "last_activity_date": 1576706445, "creation_date": 1576706445, "answer_id": 59400538, "question_id": 59400440, "link": "https://stackoverflow.com/questions/59400440/check-if-array-only-has-numbers-that-are-allowed/59400538#59400538", "title": "Check if array only has numbers that are allowed", "body": "<p>Jonathon Chase's answer works, but it's no good if for any reason you need to increase the number of group types. This version is more extensible.</p>\n\n<pre><code>if (types.Length == 0 || !types.All(x =&gt; Enum.IsDefined(typeof(GroupType), x)))\n    return this.CreateApiError(ApiError.ApiErrors.BAD_REQUEST, \"Incorrect types input\", HttpStatusCode.BadRequest);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11326, "user_id": 9071943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QLoV.jpg?s=128&g=1", "display_name": "Nguy\u1ec5n V\u0103n Phong", "link": "https://stackoverflow.com/users/9071943/nguy%e1%bb%85n-v%c4%83n-phong"}, "is_accepted": false, "score": 1, "last_activity_date": 1576722077, "creation_date": 1576722077, "answer_id": 59402501, "question_id": 59400440, "link": "https://stackoverflow.com/questions/59400440/check-if-array-only-has-numbers-that-are-allowed/59402501#59402501", "title": "Check if array only has numbers that are allowed", "body": "<p>You can try this way, (Link live demo <a href=\"https://dotnetfiddle.net/rhwtcB\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<pre><code>using System;\nusing System.Linq;\n\npublic class Program\n{\n    public static void Main()\n    {\n\n        var validTypes = new [] {1, 2};\n        var invalidTypes = new [] {1, 2, 3};\n\n        Console.WriteLine(validTypes.Any(p =&gt; !Enum.IsDefined(typeof(GroupTypes), p)));\n        Console.WriteLine(invalidTypes.Any(p =&gt; !Enum.IsDefined(typeof(GroupTypes), p)));\n\n\n    }\n\n    public enum GroupTypes\n    {\n            Downtime = 1,\n            Uptime = 2\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1553, "user_id": 3624141, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c94f5b55339017d3ec654c65d07cc3f?s=128&d=identicon&r=PG&f=1", "display_name": "user122222", "link": "https://stackoverflow.com/users/3624141/user122222"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 59400538, "answer_count": 3, "score": 0, "last_activity_date": 1576722077, "creation_date": 1576705866, "question_id": 59400440, "link": "https://stackoverflow.com/questions/59400440/check-if-array-only-has-numbers-that-are-allowed", "title": "Check if array only has numbers that are allowed", "body": "<p>I've got two types:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public enum GroupTypes : int\r\n{\r\n        Downtime = 1,\r\n\r\n        Uptime = 2,\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And then I have an array \ne.g. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// first combo\r\nint [] types = new Int32[] {1, 2};\r\n\r\n//2nd\r\nint [] types = new Int32[] {1};\r\n\r\n//3rd\r\nint [] types = new Int32[] {2};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>array can only have 1, 2 or both types and no other are allowed.\nIf user enters wrong type, he gets an error.</p>\n\n<p>however I struggle to check that. This is how I do that:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// none types or more than two types added\r\nif ((types == null || types.Length &lt;= 0) || (types != null &amp;&amp; types.Length &gt; 1)) {\r\n  return this.CreateApiError(ApiError.ApiErrors.BAD_REQUEST, \"Incorrect types input\", HttpStatusCode.BadRequest);\r\n}\r\n\r\n// contains non-existent type\r\nif (!types.Where(a =&gt; a != 1 || a != 2).Select(x =&gt; true).FirstOrDefault()) {\r\n  return this.CreateApiError(ApiError.ApiErrors.BAD_REQUEST, \"Incorrect types input\", HttpStatusCode.BadRequest);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>the first <code>if</code> checks if length of types is fine and second should check if only type 1, type 2 or both are present and it doesn't contain non-existent types like 3, 11, ... .</p>\n\n<p>I also tried <code>types.Any(a =&gt; a == 1 || a == 2)</code> but it just checks if 1 or 2 is present and will still say it's okay even if iI'll have <code>{1, 5}</code></p>\n"}, {"tags": ["c#", "c#-8.0"], "comments": [{"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 3, "creation_date": 1576705743, "post_id": 59400410, "comment_id": 104989942, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/discards\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/discards</a> <i>&quot;Because there is only a single discard variable, and that variable may not even be allocated storage, discards can reduce memory allocations. Because they make the intent of your code clear, they enhance its readability and maintainability.&quot;</i>"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 4, "creation_date": 1576705747, "post_id": 59400410, "comment_id": 104989945, "body": "1) I seriously doubt it 2) Write separate Sum and Mult methods and only call the one you need."}, {"owner": {"reputation": 8220, "user_id": 1831530, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/RFtYx.jpg?s=128&g=1", "display_name": "mehrandvd", "link": "https://stackoverflow.com/users/1831530/mehrandvd"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1576706059, "post_id": 59400410, "comment_id": 104990047, "body": "@juharr 1) Seems it reduces memory allocations due to Herohtar comment. 2) It&#39;s just an example to describe my idea."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1576706111, "post_id": 59400410, "comment_id": 104990062, "body": "I find that assertion to be specious, or at the very least, in need of clarification... If a method returns a reference and you discard it, it still allocated the instance and returned it. You&#39;re not changing the method to not allocate it just because you don&#39;t want it."}, {"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1576706282, "post_id": 59400410, "comment_id": 104990117, "body": "@madreflection Note that it says &quot;<i>can</i> reduce&quot;. There won&#39;t be additional allocations on the calling side of the code, because the value isn&#39;t actually assigned to anything in the case of a discard. <i>&quot;<code>_</code> is not assigned a value, and may not even be assigned a storage location.&quot;</i>"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1576706665, "post_id": 59400410, "comment_id": 104990266, "body": "To clarify I doubt it will be a precieveable difference.  And you would have to let the method know what to do by passing something to it.  It cannot figure out what you do with what it returns."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1576713147, "post_id": 59400410, "comment_id": 104992145, "body": "The second question makes me think that you&#39;re possibly asking an &quot;XY&quot; question. That is, you have some real problem, you have some bizarre solution in mind to that real problem, and now you&#39;re asking a question about that solution rather than asking a question about the real problem. What is the real problem you&#39;re trying to solve here?"}, {"owner": {"reputation": 2292, "user_id": 1415462, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5cb8fa8a8438ef939e1710427a1c0ec?s=128&d=identicon&r=PG", "display_name": "Slothario", "link": "https://stackoverflow.com/users/1415462/slothario"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1576714476, "post_id": 59400410, "comment_id": 104992462, "body": "What @EricLippert said -- In 95% of the performance questions I&#39;ve seen on StackOverflow, the performance impact wasn&#39;t worth worrying about. If you want to optimize code for some purpose, try pasting the code you want to optimize."}, {"owner": {"reputation": 8220, "user_id": 1831530, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/RFtYx.jpg?s=128&g=1", "display_name": "mehrandvd", "link": "https://stackoverflow.com/users/1831530/mehrandvd"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1576834165, "post_id": 59400410, "comment_id": 105032013, "body": "@EricLippert In fact I haven&#39;t any real problem out there! I just was curious about the second question, which made me ask the former question first! Now I see it would be better to ask it another way, not mentioning the performance at all!"}], "answers": [{"tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 15, "last_activity_date": 1576713042, "last_edit_date": 1576713042, "creation_date": 1576712579, "answer_id": 59401495, "question_id": 59400410, "link": "https://stackoverflow.com/questions/59400410/are-there-any-performance-benefits-in-c-discards/59401495#59401495", "title": "Are there any performance benefits in C# discards?", "body": "<blockquote>\n  <p>If I use discard instead of a variable name, does it have performance benefit? eg. by reducing assignment operations.</p>\n</blockquote>\n\n<p>In your particular case it is unlikely that there would be a benefit in performance. The tuple that is returned is assigned to temporary storage; you've just not given a name to one part of that storage. </p>\n\n<p>Now, if you had an expression that had discards that were entire values, not fragments of a tuple, then the compiler and the jitter can be smart about not allocating any storage on the short-term pool for the result, or re-using existing storage that was already allocated. Note that by \"short-term pool\" I effectively mean \"activation record on the stack\" or \"registers\".  This could, in theory, lead to better register allocation or smaller frames (and therefore better locality of reference) and that in turn could save you entire <em>nanoseconds</em>.</p>\n\n<p>Nano-optimizations are generally not worth it; there is almost always a better bang-for-buck performance problem to attack.  But if you think it might be relevant for your scenario, <strong>measure it and see</strong>. That is the <em>only</em> way to know if there is a relevant performance difference.  Get out a nano-scale stopwatch, run the code both ways, and see which one is faster.</p>\n\n<p>The benefit you should be attempting to accrue by using discards is the \"make my program easier to understand\" benefit. Programmers are expensive; optimize for making your code easy for future programmers to read, understand and modify.</p>\n\n<blockquote>\n  <p>Is there any way to write the MultSum smart enough so it doesn't calculate the discards!?</p>\n</blockquote>\n\n<p>Yes. <em>Write your program in Haskell.</em>  Haskell will avoid performing calculations whose results are never used.  C# is not such a language.</p>\n"}], "owner": {"reputation": 8220, "user_id": 1831530, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/RFtYx.jpg?s=128&g=1", "display_name": "mehrandvd", "link": "https://stackoverflow.com/users/1831530/mehrandvd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 564, "favorite_count": 0, "accepted_answer_id": 59401495, "answer_count": 1, "score": 5, "last_activity_date": 1576713042, "creation_date": 1576705652, "question_id": 59400410, "link": "https://stackoverflow.com/questions/59400410/are-there-any-performance-benefits-in-c-discards", "title": "Are there any performance benefits in C# discards?", "body": "<p>Consider this code:</p>\n\n<pre><code>var (mult, sum) = MultSum(a, b);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>var (_, sum) = MultSum(a, b);\n</code></pre>\n\n<p><strong>Question 1.</strong>\nIf I use discard instead of a variable name, does it have performance benefit? eg. by reducing assignment operations.</p>\n\n<p><strong>Question 2.</strong>\nIs there any way to write the <code>MultSum</code> smart enough so it doesn't calculate the discards!?</p>\n"}, {"tags": ["c#", "wpf", "xaml"], "comments": [{"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1576771463, "post_id": 59400370, "comment_id": 105013732, "body": "Your code seems to work just fine for me."}, {"owner": {"reputation": 153, "user_id": 7222262, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153871840486899/picture?type=large", "display_name": "h4le5torm", "link": "https://stackoverflow.com/users/7222262/h4le5torm"}, "reply_to_user": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1576772513, "post_id": 59400370, "comment_id": 105014228, "body": "@mm8 I just tested it, and made an edit comment at the bottom of my post. Any ideas as to why I cannot have both the previewmouseleftbuttondown and the button click event?"}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 7222262, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153871840486899/picture?type=large", "display_name": "h4le5torm", "link": "https://stackoverflow.com/users/7222262/h4le5torm"}, "edited": false, "score": 0, "creation_date": 1576774500, "post_id": 59413853, "comment_id": 105015282, "body": "Wow! Ok, guess I just needed to research PreviewMouseLeftButtonDown some more... it was eating up the event. Even when I tried MouseLeftButtonDown, it wouldn&#39;t fire, it had to be the MouseLeftButtonUp. Thanks so much!"}], "tags": [], "owner": {"reputation": 36, "user_id": 12566369, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDjPJrbXxCrqB4HapO0DfPIjqGjTbaKhZQWm_WW7g=k-s128", "display_name": "Spencer Burgess", "link": "https://stackoverflow.com/users/12566369/spencer-burgess"}, "is_accepted": true, "score": 2, "last_activity_date": 1576774428, "last_edit_date": 1576774428, "creation_date": 1576773995, "answer_id": 59413853, "question_id": 59400370, "link": "https://stackoverflow.com/questions/59400370/click-event-for-button-in-listview-datatemplate-not-firing/59413853#59413853", "title": "Click Event for button in ListView DataTemplate not firing", "body": "<p><code>&lt;EventSetter Event=\"PreviewMouseLeftButtonDown\" Handler=\"ListViewItem_PreviewMouseLeftButtonDown\"/&gt;</code></p>\n\n<p>Try replacing the event <code>PreviewMouseLeftButtonDown</code> with <code>MouseLeftButtonUp</code> or <code>PreviewLeftButtonUp</code>. The <code>PreviewMouseLeftButtonDown</code> could be eating up the event that would otherwise get handled by your button.</p>\n"}], "owner": {"reputation": 153, "user_id": 7222262, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153871840486899/picture?type=large", "display_name": "h4le5torm", "link": "https://stackoverflow.com/users/7222262/h4le5torm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 0, "accepted_answer_id": 59413853, "answer_count": 1, "score": 1, "last_activity_date": 1576774428, "creation_date": 1576705373, "last_edit_date": 1576772450, "question_id": 59400370, "link": "https://stackoverflow.com/questions/59400370/click-event-for-button-in-listview-datatemplate-not-firing", "title": "Click Event for button in ListView DataTemplate not firing", "body": "<p>I've searched through many similar questions, but none seem to handle this situation. I'm trying to open a context menu through both a right click on the list view item (working) and when a user left clicks on the more ellipses button (not working). This works on another part of my program where I do essentially the same thing in a tree view, and both the ellipses button and right clicking on the treeviewitem opens the context menu. In this case however, clicking on the ellipses button does not open the context menu, only right clicking the tile works. It doesn't even hit the break point in the code behind of the button clicked handler function.</p>\n\n<p>I have a ListView set up as follows:</p>\n\n<pre><code>    &lt;ListView x:Name=\"listViewStudents\" \n            ItemsSource=\"{Binding Students}\"\n            SelectionChanged=\"StudentList_SelectionChanged\"&gt;\n        &lt;ListView.ItemContainerStyle&gt;\n            &lt;Style TargetType=\"{x:Type ListViewItem}\"&gt;\n                &lt;Setter Property=\"Height\" Value=\"36\"&gt;&lt;/Setter&gt;\n                &lt;Setter Property=\"HorizontalContentAlignment\" Value=\"Stretch\"/&gt;\n                &lt;EventSetter Event=\"PreviewMouseLeftButtonDown\" Handler=\"ListViewItem_PreviewMouseLeftButtonDown\"/&gt;\n            &lt;/Style&gt;\n        &lt;/ListView.ItemContainerStyle&gt;\n        &lt;ListView.ItemTemplate&gt;\n            &lt;DataTemplate&gt;\n                &lt;Grid&gt;\n                    &lt;Grid.ColumnDefinitions&gt;\n                        &lt;ColumnDefinition Width=\"50\"/&gt;\n                        &lt;ColumnDefinition Width=\"*\"/&gt;\n                        &lt;ColumnDefinition Width=\"*\"/&gt;\n                    &lt;/Grid.ColumnDefinitions&gt;\n                    &lt;Grid.ContextMenu&gt;\n                        &lt;ContextMenu x:Name=\"StudentContextMenu\"&gt;\n                            &lt;ContextMenu.Items&gt;\n                                &lt;MenuItem Header=\"View Details\"                               \n                                      Command=\"{Binding Source={x:Reference studentDetailsView}, Path=DataContext.OpenLinkCommand}\"\n                                      CommandParameter=\"{Binding RelativeSource={RelativeSource AncestorType=ContextMenu}, Path=PlacementTarget.DataContext}\"&gt;\n                                &lt;/MenuItem&gt;\n                            &lt;/ContextMenu.Items&gt;\n                        &lt;/ContextMenu&gt;\n                    &lt;/Grid.ContextMenu&gt;\n                    &lt;TextBlock Grid.Column=\"1\" Margin=\"0\" Text=\"{Binding Name}\" Foreground=\"Black\" FontFamily=\"{StaticResource FontFamilyBody1}\" FontSize=\"15\"/&gt;\n                    &lt;Button Grid.Column=\"2\" VerticalAlignment=\"Center\" HorizontalAlignment=\"Right\" Click=\"MoreButton_Click\" Width=\"50\" Margin=\"0,0,-14,0\"&gt;\n                        &lt;materialDesign:PackIcon Kind=\"MoreVert\"/&gt;\n                    &lt;/Button&gt;\n                &lt;/Grid&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/ListView.ItemTemplate&gt;\n    &lt;/ListView&gt;\n</code></pre>\n\n<p>And here is the code behind:</p>\n\n<pre><code>    private void MoreButton_Click(object sender, RoutedEventArgs e)\n    {\n        Button button = sender as Button;\n        ContextMenu menu = (ContextMenu)(button).FindName(\"StudentContextMenu\");\n        menu.DataContext = button.DataContext;\n        menu.IsOpen = true;\n    }\n</code></pre>\n\n<p>So why wouldn't this ListView with a button in the datatemplate call the function to open a context menu? And why would it work on a TreeView, but not here? Any help is greatly appreciated.</p>\n\n<p><strong>EDIT</strong> : I commented out the EventSetter \"PreviewMouseLeftButtonDown\" as well as the handling function in the code behind, and now the button in the xaml seems to work just fine (it is opening the context menu). But I need that EventSetter and handler for some of the logic of the app. Why would the PreviewMouseLeftButtonDown event prevent the button event? Is there a way to get both to work? </p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1576705644, "post_id": 59400355, "comment_id": 104989891, "body": "Theres a lot of unnecessary code in there... What &quot;other&quot; script says weather is null, how have you referenced the instance of the first script"}, {"owner": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "edited": false, "score": 0, "creation_date": 1576705654, "post_id": 59400355, "comment_id": 104989897, "body": "Is this in a controller somewhere? Class / instance variables aren&#39;t persisted across separate requests, generally speaking."}, {"owner": {"reputation": 303, "user_id": 11501893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b5d47cae85fc7ed1b014e1b068e301?s=128&d=identicon&r=PG&f=1", "display_name": "jmalenfant", "link": "https://stackoverflow.com/users/11501893/jmalenfant"}, "edited": false, "score": 0, "creation_date": 1576705706, "post_id": 59400355, "comment_id": 104989920, "body": "When are you calling <code>GetTemperature()</code>? Have you tried calling it within <code>Start()</code>?"}, {"owner": {"reputation": 21, "user_id": 8821349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/824fc80a79555e785be0180a0347b1be?s=128&d=identicon&r=PG&f=1", "display_name": "Sol", "link": "https://stackoverflow.com/users/8821349/sol"}, "edited": false, "score": 0, "creation_date": 1576742471, "post_id": 59400355, "comment_id": 104998924, "body": "I&#39;m running GetTemperature() in a coroutine from another script that then uses all the data and updates some text for me."}, {"owner": {"reputation": 21, "user_id": 8821349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/824fc80a79555e785be0180a0347b1be?s=128&d=identicon&r=PG&f=1", "display_name": "Sol", "link": "https://stackoverflow.com/users/8821349/sol"}, "edited": false, "score": 0, "creation_date": 1576778179, "post_id": 59400355, "comment_id": 105016848, "body": "I also read What Is A NullReferenceException, and this didn&#39;t help me at all..."}], "owner": {"reputation": 21, "user_id": 8821349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/824fc80a79555e785be0180a0347b1be?s=128&d=identicon&r=PG&f=1", "display_name": "Sol", "link": "https://stackoverflow.com/users/8821349/sol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "closed_date": 1576705703, "answer_count": 0, "score": 0, "last_activity_date": 1576705295, "creation_date": 1576705295, "question_id": 59400355, "link": "https://stackoverflow.com/questions/59400355/i-set-a-class-variable-in-my-start-function-and-use-it-a-bit-but-in-another-fu", "closed_reason": "Duplicate", "title": "I set a class variable in my Start function, and use it a bit, but in another function the variable is null", "body": "<p>In my start function, I am setting a variable, but in other functions, it is null...\nHere is my code where I set the variable:</p>\n\n<pre><code>        string Json;\n        string IPV4 = GetIPAddress();\n        Debug.Log(IPV4);\n        HttpWebRequest request = (HttpWebRequest)WebRequest.Create(\"http://ip-api.com/json/\" + IPV4);\n        try\n        {\n            WebResponse response = request.GetResponse();\n            using (Stream responseStream = response.GetResponseStream())\n            {\n                StreamReader reader = new StreamReader(responseStream, System.Text.Encoding.UTF8);\n                Json = reader.ReadToEnd();\n            }\n        }\n        catch (WebException ex)\n        {\n            WebResponse errorResponse = ex.Response;\n            using (Stream responseStream = errorResponse.GetResponseStream())\n            {\n                StreamReader reader = new StreamReader(responseStream, System.Text.Encoding.GetEncoding(\"utf-8\"));\n                String errorText = reader.ReadToEnd();\n                // log errorText\n            }\n            throw;\n        }\n        var ipRequestData = IpRequestData.FromJson(Json);\n        Weather = new WeatherData(ipRequestData.City);\n        Debug.Log(Weather.City);\n</code></pre>\n\n<p>The Debug.Log(Weather.City) works and returns my city, but in this next function, it says that Weather is null.</p>\n\n<pre><code>    public List&lt;string&gt; GetTemperature()\n    {\n        Debug.Log(Weather.City);\n        Weather.CheckWeather();\n        List&lt;string&gt; WeatherList = new List&lt;string&gt;();\n        WeatherList.Add(Weather.Temp.ToString());\n        WeatherList.Add(Weather.TempMin.ToString());\n        WeatherList.Add(Weather.TempMax.ToString());\n        return WeatherList;\n    }\n</code></pre>\n\n<p>I also at the beginning of my class made the variable like this:</p>\n\n<pre><code>WeatherData Weather;\n</code></pre>\n\n<p>For the WeatherData class, here is my code:</p>\n\n<pre><code>class WeatherData\n{\n    public WeatherData(string City)\n    {\n        city = City;\n    }\n    private string city;\n    private float temp;\n    private float tempMax;\n    private float tempMin;\n\n    public void CheckWeather()\n    {\n        WeatherAPI DataAPI = new WeatherAPI(City);\n        temp = DataAPI.GetTemp();\n        SunRise = DataAPI.GetSunrise();\n        SunSet = DataAPI.GetSunset();\n    }\n\n    public string City { get =&gt; city; set =&gt; city = value; }\n    public float Temp { get =&gt; temp; set =&gt; temp = value; }\n    public float TempMax { get =&gt; tempMax; set =&gt; tempMax = value; }\n    public float TempMin { get =&gt; tempMin; set =&gt; tempMin = value; }\n\n    public string SunRise;\n    public string SunSet;\n}\nclass WeatherAPI\n{\n    public WeatherAPI(string city)\n    {\n        SetCurrentURL(city);\n        xmlDocument = GetXML(CurrentURL);\n    }\n\n    public float GetTemp()\n    {\n        XmlNode temp_node = xmlDocument.SelectSingleNode(\"//temperature\");\n        XmlAttribute temp_value = temp_node.Attributes[\"value\"];\n        string temp_string = temp_value.Value;\n        return float.Parse(temp_string);\n    }\n    public string GetSunrise()\n    {\n        XmlNode temp_node = xmlDocument.SelectSingleNode(\"//sun\");\n        XmlAttribute time = temp_node.Attributes[\"rise\"];\n        string time_string = time.Value;\n        return time_string;\n    }\n    public string GetSunset()\n    {\n        XmlNode temp_node = xmlDocument.SelectSingleNode(\"//sun\");\n        XmlAttribute time = temp_node.Attributes[\"set\"];\n        string time_string = time.Value;\n        return time_string;\n    }\n\n    private const string APIKEY = \"MY API KEY GOES HERE :)\";\n    private string CurrentURL;\n    private XmlDocument xmlDocument;\n\n    private void SetCurrentURL(string location)\n    {\n        CurrentURL = \"http://api.openweathermap.org/data/2.5/weather?q=\"\n            + location + \"&amp;mode=xml&amp;units=metric&amp;APPID=\" + APIKEY;\n    }\n\n    private XmlDocument GetXML(string CurrentURL)\n    {\n        using (WebClient client = new WebClient())\n        {\n            string xmlContent = client.DownloadString(CurrentURL);\n            XmlDocument xmlDocument = new XmlDocument();\n            xmlDocument.LoadXml(xmlContent);\n            return xmlDocument;\n        }\n    }\n}\n\n\n</code></pre>\n\n<p>If anyone could help me with this, It would mean a lot to me. Thanks!</p>\n"}, {"tags": ["c#", "ios", "xamarin.ios"], "comments": [{"owner": {"reputation": 95, "user_id": 11718279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e524affd710f3ffac043ea67c65a6678?s=128&d=identicon&r=PG&f=1", "display_name": "asdww", "link": "https://stackoverflow.com/users/11718279/asdww"}, "reply_to_user": {"reputation": 1361, "user_id": 11808788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90824afde2c0e06cc75077e8a411590b?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/11808788/charles"}, "edited": false, "score": 0, "creation_date": 1576705121, "post_id": 59400258, "comment_id": 104989724, "body": "seconds are seconds"}, {"owner": {"reputation": 253, "user_id": 9096402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e66ae65026db9b697cea3b26e878c89?s=128&d=identicon&r=PG&f=1", "display_name": "aweyeahdawg", "link": "https://stackoverflow.com/users/9096402/aweyeahdawg"}, "edited": false, "score": 0, "creation_date": 1576712563, "post_id": 59400258, "comment_id": 104992005, "body": "Can you use async/await code in this scope? (ie. await Task.Delay(5000); ChangeColor(); )"}], "owner": {"reputation": 95, "user_id": 11718279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e524affd710f3ffac043ea67c65a6678?s=128&d=identicon&r=PG&f=1", "display_name": "asdww", "link": "https://stackoverflow.com/users/11718279/asdww"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1576705186, "answer_count": 0, "score": 0, "last_activity_date": 1576705117, "creation_date": 1576704660, "last_edit_date": 1576705117, "question_id": 59400258, "link": "https://stackoverflow.com/questions/59400258/how-to-change-color-for-5-seconds", "closed_reason": "Duplicate", "title": "How to change color for 5 seconds?", "body": "<p>i want change of color for 5 seconds\n, but this not work</p>\n\n<pre><code>DateTimeOffset startTime = DateTimeOffset.Now;\n\n            while (true)\n            {\n                viewAction.BackgroundColor = ColorPalette.Red;\n                if (DateTimeOffset.Now.Subtract(startTime).TotalMilliseconds &gt; 5000) {\n                    viewAction.BackgroundColor = ColorPalette.Brown;\n                    return;\n                }\n\n            }\n</code></pre>\n"}, {"tags": ["c#", "outlook-redemption"], "comments": [{"owner": {"reputation": 4685, "user_id": 9236994, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FTYnheSalbE/AAAAAAAAAAI/AAAAAAAAABE/Hn8Ar5C4ccY/photo.jpg?sz=128", "display_name": "Vicky Salunkhe", "link": "https://stackoverflow.com/users/9236994/vicky-salunkhe"}, "edited": false, "score": 0, "creation_date": 1576709691, "post_id": 59400221, "comment_id": 104991282, "body": "Include the code you are using with the question, if you are receiving any error do post that too, that will help others to understand your problem more easily."}], "answers": [{"tags": [], "owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1576711178, "creation_date": 1576711178, "answer_id": 59401311, "question_id": 59400221, "link": "https://stackoverflow.com/questions/59400221/c-attachments-do-not-show-in-the-rdoattachment-object/59401311#59401311", "title": "C# attachments do not show in the RDOAttachment Object", "body": "<p>You need to save the Outlook message for the MAPI system (and Redemption) to be able to see it.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12561256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eae3ad208df0c8cb9455eb98fa1e067e?s=128&d=identicon&r=PG&f=1", "display_name": "mtp1", "link": "https://stackoverflow.com/users/12561256/mtp1"}, "is_accepted": false, "score": 0, "last_activity_date": 1576737183, "creation_date": 1576737183, "answer_id": 59404357, "question_id": 59400221, "link": "https://stackoverflow.com/questions/59400221/c-attachments-do-not-show-in-the-rdoattachment-object/59404357#59404357", "title": "C# attachments do not show in the RDOAttachment Object", "body": "<p>thanks Dmitry, here is some for comments on the code. I initially developed the code in Outlook VBA and than ported it to VS C#, it somehow performs different there.</p>\n\n<p>I have a signed email and I want to remove the signature from the email, once done I remap the attachements. Once I delete the key file from the i_iMAPI secure message the attachements from the i_MAPI mail are gone. That is not the case in VBA.</p>\n\n<p>thoughts how to fix this?</p>\n\n<pre><code>        i_iMAPI = i_rdoS.GetRDOObjectFromOutlookObject(i_rdoMessage, true);\n        i_MAPI = i_rdoS.GetRDOObjectFromOutlookObject(i_rdoMessage);\n\n        //if signed message remove key file and set MessageClass to standard Message\n        if (i_iMAPI.MessageClass == \"IPM.Note.SMIME.MultipartSigned\")\n        {\n            i_iMAPI.MessageClass = \"IPM.Note\";\n            //remove the key file and make sure it is really key file\n            foreach (RDOAttachment att in i_iMAPI.Attachments)\n            {\n                if (att.DisplayName == \"Untitled Attachment\")\n                {\n                    att.Delete();\n                }\n            }\n\n            //create specific Folder for each sender\n            i_FilePath = Folders.StorageFolder + i_MAPI.SenderName;\n            i_Folder.CreateFolder(i_FilePath);\n\n            //remapp the attachements from MAPI to iMAPI Message\n            foreach (RDOAttachment rdoAtt in i_MAPI.Attachments)\n            {\n                rdoAtt.SaveAsFile(i_FilePath + @\"\\\" + rdoAtt.FileName);                    \n                i_iMAPI.Attachments.Add(i_FilePath + @\"\\\" + rdoAtt.FileName);                    \n                i_iMAPI.Attachments[i_iMAPI.Attachments.Count].Hidden = rdoAtt.Hidden;                                        \n            }\n            //save changes\n            i_iMAPI.Save();\n        }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12561256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eae3ad208df0c8cb9455eb98fa1e067e?s=128&d=identicon&r=PG&f=1", "display_name": "mtp1", "link": "https://stackoverflow.com/users/12561256/mtp1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576737183, "creation_date": 1576704482, "question_id": 59400221, "link": "https://stackoverflow.com/questions/59400221/c-attachments-do-not-show-in-the-rdoattachment-object", "title": "C# attachments do not show in the RDOAttachment Object", "body": "<p>I am reading the RDOAttachment Object, the .Count Attribute is 0, despite the outlook email has two embedded pictures in an html email.</p>\n\n<p>If have ported the same code from C# to VBA in Outlook and it shows correctly there.</p>\n\n<p>Am I doing someting wrong or is there a bug in the RDOAttachment object?</p>\n\n<p>Thanks,\nThomas</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-mvc-5"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1576704545, "post_id": 59400182, "comment_id": 104989527, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/4660142/what-is-a-nullreferenceexception-and-how-do-i-fix-it\">What is a NullReferenceException, and how do I fix it?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12561055, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-U9CMcN2MjPA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPHHITcF-Owzbc1YoCEjChHr3vHw/photo.jpg?sz=128", "display_name": "Eco Leikr", "link": "https://stackoverflow.com/users/12561055/eco-leikr"}, "edited": false, "score": 2, "creation_date": 1576705732, "post_id": 59400289, "comment_id": 104989933, "body": "You are a beautiful! Works like a charm! Thank you very much!!"}], "tags": [], "owner": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "is_accepted": true, "score": 1, "last_activity_date": 1576704919, "creation_date": 1576704919, "answer_id": 59400289, "question_id": 59400182, "link": "https://stackoverflow.com/questions/59400182/passing-viewmodel-to-controller-doesnt-fully-work/59400289#59400289", "title": "Passing ViewModel to Controller doesn&#39;t fully work", "body": "<p>Your model starts out as a blank slate here.</p>\n\n<pre><code>Workouts workout = new Workouts();\n</code></pre>\n\n<p>That means you can't Add to a List unless it exists. So when you call </p>\n\n<pre><code>workout.Sets.Add(model.Sets); // NullReferenceException here.\n</code></pre>\n\n<p>workout.Sets is null. Your object never initializes it.</p>\n\n<p>Do this in your model.</p>\n\n<pre><code>public List&lt;Sets&gt; Sets { get; set; } = new List&lt;Sets&gt;();\n</code></pre>\n\n<p>Conversely, if there are times you don't want it initialized (ORM bindings being angry or whatever), make sure you call it before you use it, like so.</p>\n\n<pre><code> Workouts workout = new Workouts();\n            workout = model.Workout;\n            workout.Sets = new List&lt;Sets&gt;();\n            workout.Sets.Add(model.Sets); \n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12561055, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-U9CMcN2MjPA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPHHITcF-Owzbc1YoCEjChHr3vHw/photo.jpg?sz=128", "display_name": "Eco Leikr", "link": "https://stackoverflow.com/users/12561055/eco-leikr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 59400289, "answer_count": 1, "score": 0, "last_activity_date": 1576706225, "creation_date": 1576704277, "last_edit_date": 1576706225, "question_id": 59400182, "link": "https://stackoverflow.com/questions/59400182/passing-viewmodel-to-controller-doesnt-fully-work", "title": "Passing ViewModel to Controller doesn&#39;t fully work", "body": "<p>I have been spending all day on and issue searching the web for a solution, however I couldn't find one for my error. It is getting quite frustrating and I have a feeling its one one those facepalm mistakes. I hope you guys can find the time to help me out.</p>\n\n<p>I am working on a Create View which uses a ViewModel. I am using a BeginForm and submit input type button. Now it passes the first property in the ViewModel but every other property passes as null.</p>\n\n<p><strong>Here is my ViewModel + Models</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing FitnessSundhed.Models;\nnamespace FitnessSundhed.ViewModels\n{\n    public class WorkoutViewModel\n    {\n        public Workouts Workout { get; set; }\n        public Sets Sets { get; set; }\n        public Execises Execises { get; set; }\n    }\n}\n</code></pre>\n\n<p>Some of these property are supposed to lists, but I choose not make them lists untill I had tried this in case of issues. Dont mind it.</p>\n\n<p><strong>Heres the Workouts Model</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\n\nnamespace FitnessSundhed.Models\n{\n    public class Workouts\n    {\n        public int Id { get; set; }\n        public string Name { get; set; }\n\n        public string Author { get; set; }\n\n        public string Description { get; set; }\n\n        public string Equipment { get; set; }\n\n        public string Targets { get; set; }\n\n        public List&lt;Sets&gt; Sets { get; set; }\n\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Sets Model</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\n\nnamespace FitnessSundhed.Models\n{\n    public class Sets\n    {\n        public int Id { get; set; }\n        public string SetName { get; set; }\n        public string SetDesc { get; set; }\n\n        public List&lt;Execises&gt; Execises { get; set; }\n    }\n}\n</code></pre>\n\n<p><strong>Execises Model</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\nusing System.Linq;\nusing System.Web;\n\nnamespace FitnessSundhed.Models\n{\n    public class Execises\n    {\n        public int Id { get; set; }\n        public string ImagePath { get; set; }\n        public string Name { get; set; }\n        public int Reps { get; set; }\n        public string Note { get; set; }\n\n    }\n}\n</code></pre>\n\n<p>Basically Workouts contains a list of Sets which contains a list of execises.</p>\n\n<p><strong>View</strong></p>\n\n<pre><code>@model FitnessSundhed.ViewModels.WorkoutViewModel\n\n@{\n    ViewBag.Title = \"Action\";\n    Layout = \"~/Views/Shared/_Layout.cshtml\";\n}\n\n&lt;h2&gt;Action&lt;/h2&gt;\n\n@using (Html.BeginForm(\"Create\", \"Workouts\", FormMethod.Post, null))\n{\n    @Html.AntiForgeryToken()\n\n&lt;div class=\"form-horizontal\"&gt;\n    &lt;h4&gt;Workouts&lt;/h4&gt;\n    &lt;hr /&gt;\n    @Html.ValidationSummary(true, \"\", new { @class = \"text-danger\" })\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.Workout.Name, htmlAttributes: new { @class = \"control-label col-md-2\" })\n        &lt;div class=\"col-md-10\"&gt;\n            @Html.EditorFor(model =&gt; model.Workout.Name, new { htmlAttributes = new { @class = \"form-control\" } })\n            @Html.ValidationMessageFor(model =&gt; model.Workout.Name, \"\", new { @class = \"text-danger\" })\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.Workout.Author, htmlAttributes: new { @class = \"control-label col-md-2\" })\n        &lt;div class=\"col-md-10\"&gt;\n            @Html.EditorFor(model =&gt; model.Workout.Author, new { htmlAttributes = new { @class = \"form-control\" } })\n            @Html.ValidationMessageFor(model =&gt; model.Workout.Author, \"\", new { @class = \"text-danger\" })\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.Workout.Description, htmlAttributes: new { @class = \"control-label col-md-2\" })\n        &lt;div class=\"col-md-10\"&gt;\n            @Html.EditorFor(model =&gt; model.Workout.Description, new { htmlAttributes = new { @class = \"form-control\" } })\n            @Html.ValidationMessageFor(model =&gt; model.Workout.Description, \"\", new { @class = \"text-danger\" })\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.Workout.Equipment, htmlAttributes: new { @class = \"control-label col-md-2\" })\n        &lt;div class=\"col-md-10\"&gt;\n            @Html.EditorFor(model =&gt; model.Workout.Equipment, new { htmlAttributes = new { @class = \"form-control\" } })\n            @Html.ValidationMessageFor(model =&gt; model.Workout.Equipment, \"\", new { @class = \"text-danger\" })\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.Workout.Targets, htmlAttributes: new { @class = \"control-label col-md-2\" })\n        &lt;div class=\"col-md-10\"&gt;\n            @Html.EditorFor(model =&gt; model.Workout.Targets, new { htmlAttributes = new { @class = \"form-control\" } })\n            @Html.ValidationMessageFor(model =&gt; model.Workout.Targets, \"\", new { @class = \"text-danger\" })\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n\n    &lt;h4&gt;Sets&lt;/h4&gt;\n    &lt;hr /&gt;\n    @Html.ValidationSummary(true, \"\", new { @class = \"text-danger\" })\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.Sets.SetName, htmlAttributes: new { @class = \"control-label col-md-2\" })\n        &lt;div class=\"col-md-10\"&gt;\n            @Html.EditorFor(model =&gt; model.Sets.SetName, new { htmlAttributes = new { @class = \"form-control\" } })\n            @Html.ValidationMessageFor(model =&gt; model.Sets.SetName, \"\", new { @class = \"text-danger\" })\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.Sets.SetDesc, htmlAttributes: new { @class = \"control-label col-md-2\" })\n        &lt;div class=\"col-md-10\"&gt;\n            @Html.EditorFor(model =&gt; model.Sets.SetDesc, new { htmlAttributes = new { @class = \"form-control\" } })\n            @Html.ValidationMessageFor(model =&gt; model.Sets.SetDesc, \"\", new { @class = \"text-danger\" })\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;div class=\"col-md-offset-2 col-md-10\"&gt;\n            &lt;input type=\"submit\" value=\"Create\" class=\"btn btn-default\" /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n}\n\n&lt;div&gt;\n    @Html.ActionLink(\"Back to List\", \"Index\")\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>[HttpPost]\n        public ActionResult Create(WorkoutViewModel model)\n        {\n            Workouts workout = new Workouts();\n            workout = model.Workout;\n            workout.Sets.Add(model.Sets); // NullReferenceException here.\n            _context.Workoutss.Add(workout);\n            _context.SaveChanges();\n            return RedirectToAction(\"Library\", \"Workouts\");\n        }\n</code></pre>\n\n<p>Execises hasn't been coded in yet.</p>\n\n<p>So all in all. It is possible for the view to pass the ViewModel and I can add Workout to the database ( I have previous done it), however when I try and use Sets or Execises I get the ''System.NullReferenceException: 'Object reference not set to an instance of an object.'' error when I try and add the set to the workout in the controller.</p>\n\n<p>I hope I have described it in somewhat good details. If not please do ask for more information.</p>\n"}, {"tags": ["java", "c#", "selenium"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 10394581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EY-duUULeVs/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXwhiLBCdGjHABrGP2ANSYEPZxdqQ/mo/photo.jpg?sz=128", "display_name": "Oleksiy Kyrylenko", "link": "https://stackoverflow.com/users/10394581/oleksiy-kyrylenko"}, "edited": false, "score": 0, "creation_date": 1576768437, "post_id": 59400568, "comment_id": 105012014, "body": "thanks @JeffC, to extend your logic, I can provide booleans in <code>public List&lt;SearchResultModel&gt; GetAllResults(boolean title, boolean isPrime, boolean isPrice)</code> and then invoke by <code>GetAllResults(true, false,true)</code>. Honestly that is not an ideal method since if a model is pretty large, lets say 15 properties, then I will need to pass 15 booleans as an argument in a proper order, which is pretty easy to mess up. Again, thanks for your answer, I wish there would be a cleaner way(maybe it is language limitation)"}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "reply_to_user": {"reputation": 49, "user_id": 10394581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EY-duUULeVs/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXwhiLBCdGjHABrGP2ANSYEPZxdqQ/mo/photo.jpg?sz=128", "display_name": "Oleksiy Kyrylenko", "link": "https://stackoverflow.com/users/10394581/oleksiy-kyrylenko"}, "edited": false, "score": 0, "creation_date": 1576769729, "post_id": 59400568, "comment_id": 105012779, "body": "Yeah... in C# you can use named parameters which makes everything easier to read so you are less likely to pass a value to the wrong parameter. Java doesn&#39;t have that. You could use the Builder Pattern in Java to create your options instance and then pass it to the method. See <a href=\"https://stackoverflow.com/questions/1988016/named-parameter-idiom-in-java/9571371\">this</a> for a good example."}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "reply_to_user": {"reputation": 49, "user_id": 10394581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EY-duUULeVs/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXwhiLBCdGjHABrGP2ANSYEPZxdqQ/mo/photo.jpg?sz=128", "display_name": "Oleksiy Kyrylenko", "link": "https://stackoverflow.com/users/10394581/oleksiy-kyrylenko"}, "edited": false, "score": 0, "creation_date": 1576769900, "post_id": 59400568, "comment_id": 105012883, "body": "To your first point... yes you could do it that way but if you package up all the options in a class, it&#39;s reusable. I use this method all the time to group say Customer info like first name, last name, address, phone numbers, email, etc. I make one instance and then I can pass the same instance to 5 different methods. A huge advantage and time saver. Creating the instance can be a pain but there&#39;s really no way around that."}], "tags": [], "owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "is_accepted": false, "score": 1, "last_activity_date": 1576706602, "creation_date": 1576706602, "answer_id": 59400568, "question_id": 59400160, "link": "https://stackoverflow.com/questions/59400160/retrieving-only-certain-properties-when-building-a-list-of-objects/59400568#59400568", "title": "retrieving only certain properties when building a list of objects", "body": "<p>I would build a class that represents what options you want to search for. It's basically a parallel to your <code>SearchResultsModel</code>. You pass an instance of that class into the <code>GetAllResults</code> method and then check each property's value to see if it should be pulled or not.</p>\n\n<p>An example of the options class</p>\n\n<pre><code>public class SearchResultsOptions\n{\n    public boolean Title{get;set;}\n    public boolean IsPrime{get;set;}\n    public boolean Price {get;set;]\n    ...\n}\n</code></pre>\n\n<p>An adapted version of your <code>GetAllResults</code> method</p>\n\n<pre><code>public List&lt;SearchResultModel&gt; GetAllResults(SearchResultsOptions searchResultsOptions)\n{\n    List&lt;SearchResultModel&gt; toReturn = new List&lt;SearchResultModel&gt;();\n    IList&lt;IWebElement&gt; results =  driver.FindElements(By.css(\"my locattors\"))\n\n    foreach(IWebElement element in results)\n    {\n        SearchResultModel result = new SearchResultModel();\n        result.Title = searchResultsOptions.Title? element.FindElement(By.css(\"some locator\")).GetText(): null;\n        result.IsPrime = searchResultsOptions.IsPrime? element.FindElement(By.css(\"some locator\")).Selected(): false;\n        result.Price = searchResultsOptions.Price? element.FindElement(By.css(\"some locator\")).GetText(): null;\n        // add more fields here\n\n        toReturn.Add(result);\n    }\n\n    return toReturn;\n}\n</code></pre>\n\n<p>You would have to instantiate the options class and then pass it to your method</p>\n\n<pre><code>SearchResultsOptions searchResultsOptions = new SearchResultsOptions(true, false, true);\nList&lt;SearchResultModel&gt; searchResultsModel = GetAllResults(searchResultsOptions);\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 10394581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EY-duUULeVs/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXwhiLBCdGjHABrGP2ANSYEPZxdqQ/mo/photo.jpg?sz=128", "display_name": "Oleksiy Kyrylenko", "link": "https://stackoverflow.com/users/10394581/oleksiy-kyrylenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576706602, "creation_date": 1576704146, "question_id": 59400160, "link": "https://stackoverflow.com/questions/59400160/retrieving-only-certain-properties-when-building-a-list-of-objects", "title": "retrieving only certain properties when building a list of objects", "body": "<p>I recently switch from C# to Java and not able to solve this problem. I am automation UI using selenium. I like to build a model for a list of elements on a page, retrieve property and then work with these properties. In the example bellow, I am searching on amazon.com and getting a list of results. I have <code>SearchResultsModel</code> class which represents every item returned, <code>public List&lt;SearchResultModel&gt; GetAllResults(bool title = false;bool isPrime = false;bool price = false)</code> method which retrieves data from UI and place it my model, it has default parameters which allows me to manipulate what data I want to retrieve instead of retrieving everything. Then I invoking by  <code>List&lt;SearchResultModel&gt; actual = myPage.GetAllResults(title:true,isPrime:true);</code> in this instance I get a list of SearchResultsModel that each contain only 2 properties - title and isPrime. </p>\n\n<p>In ideal world I should retrieve all the data from the page but it takes lots of time to do so and defeats the whole purpose of automation of being faster then manual testing. </p>\n\n<p>I could use method overload but then I end up with tens or even hundreds methods. In this example I have only 3 property so I will end up having 9 methods, in case of an object with 10 properties, I am afraid to even do a math. I could use varagrs but then building an argument will become a mess. \nI am not sure how to solve this problem in Java. Please advise</p>\n\n<pre><code>public class SearchResultsModel\n{\n    //model that represents a single search result item \n    public string Title{get;set;}\n    public boolean IsPrime{get;set;}\n    public float Price {get;set;]\n\n} \n\n\n//method to retrieve all the search results from UI\npublic List&lt;SearchResultModel&gt; GetAllResults(bool title = false;bool isPrime = false;bool price = false)\n{\n    List&lt;SearchResultModel&gt; toReturn = new List&lt;SearchResultModel&gt;();\n    IList&lt;IWebElement&gt; results =  driver.FindElements(By.css(\"my locattors\"))\n\n    foreach(IWebElement element in results)\n    {\n        SearchResultModel result = new SearchResultModel();\n        result.Title = title? element.FindElement(By.css(\"some locator\")).GetText(): null;\n        result.IsPrime = isPrime? element.FindElement(By.css(\"some locator\")).Selected(): false;\n        result.Price = price? element.FindElement(By.css(\"some locator\")).GetText(): null;\n        toReturn.Add(result);\n    }\n\n    return toReturn;\n}\n\n//this is how I can invoke objects only with a specific properties\n\nList&lt;SearchResultModel&gt; actual = myPage.GetAllResults(title:true,isPrime:true);\n\nforeach(SearchResultModel model in actual)\n{\n    Assert.That(model.isPrime == true);\n}\n</code></pre>\n"}, {"tags": ["c#", "razor", "asp.net-mvc-5"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7213995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e925a029b3b1e5077214996883e58acd?s=128&d=identicon&r=PG&f=1", "display_name": "user7213995", "link": "https://stackoverflow.com/users/7213995/user7213995"}, "is_accepted": false, "score": 0, "last_activity_date": 1577101106, "creation_date": 1577101106, "answer_id": 59454715, "question_id": 59400040, "link": "https://stackoverflow.com/questions/59400040/return-view-after-post-with-modelstate-isvalid-false-with-allowhtml-on-proper/59454715#59454715", "title": "Return View After Post with ModelState.IsValid == false with AllowHtml on property", "body": "<p>If you pass the parameters in JSON format, the HttpRequestValidationException will not be triggered. </p>\n\n<p>However you should probably perform custom validations to strip the string content from any potentially dangerous html tags.</p>\n"}], "owner": {"reputation": 813, "user_id": 881421, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/99acbf804945fbcab508b6b82b46e394?s=128&d=identicon&r=PG", "display_name": "DFTR", "link": "https://stackoverflow.com/users/881421/dftr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577101106, "creation_date": 1576703521, "last_edit_date": 1576709457, "question_id": 59400040, "link": "https://stackoverflow.com/questions/59400040/return-view-after-post-with-modelstate-isvalid-false-with-allowhtml-on-proper", "title": "Return View After Post with ModelState.IsValid == false with AllowHtml on property", "body": "<p>I have my ViewModel / Action / Controller in the form of:</p>\n\n<pre><code>[HttpPost, ValidateInput(false)]\npublic ActionResult TheActionMethod(TheViewModel aViewModelVariable)\n{\n     if (ModelState.IsValid)\n     {\n        //Do the things\n        return AnActionThatListsAllItemsOfSimilarTypeAndGivesSuccessMessage();  //Can get here\n     }\n     else\n     {\n        //Do other things \n     }\n     return View(aViewModelVariable); //Error occurs if this line executes\n}\n</code></pre>\n\n<p>And my View Model in the form of:</p>\n\n<pre><code>[Display(Name = \"Does not allow HTML\")]\npublic string AFieldThatDoesntAllowHtml{ get; set; }\n[Required]\n[Display(Name = \"Allows HTML\")]\n[AllowHtml]\npublic string AFieldThatAllowsHtml{ get; set; }\n</code></pre>\n\n<p>I can submit just fine, assuming everything validates, and save etc.\nThe issue occurs that if !ModelState.isValid, and the code reaches return View(aViewModelVariable); I will always get:</p>\n\n<pre><code>System.Web.HttpRequestValidationException (0x80004005): A potentially dangerous Request.Form value was detected from the client (AFieldThatAllowsHtml=\"&lt;div&gt;SomeText That was entered...\")\n</code></pre>\n\n<p>I am hoping to solve this <strong>WITHOUT</strong> resorting to</p>\n\n<pre><code>&lt;httpRuntime requestValidationMode=\"2.0\" /&gt;\n</code></pre>\n\n<p>I would also love to be able to do this without having ValidateInput(false) on my action</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-core", "iis", "blazor"], "comments": [{"owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "edited": false, "score": 3, "creation_date": 1576704171, "post_id": 59400039, "comment_id": 104989358, "body": "That should help : <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/blazor/?view=aspnetcore-3.1&amp;tabs=visual-studio#authenticationstateprovider-service\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/security/blazor/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 431, "user_id": 7440269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada2b39a58b18cb618dbfa45f6316a2c?s=128&d=identicon&r=PG&f=1", "display_name": "aleksander_si", "link": "https://stackoverflow.com/users/7440269/aleksander-si"}, "is_accepted": false, "score": 0, "last_activity_date": 1605209660, "last_edit_date": 1605209660, "creation_date": 1605107630, "answer_id": 64789098, "question_id": 59400039, "link": "https://stackoverflow.com/questions/59400039/how-to-enable-windows-authentication-with-server-side-blazor/64789098#64789098", "title": "How to enable Windows authentication with server side Blazor", "body": "<p>Perform the following to enable Windows authentication on Blazor and ASP.NET Core Controllers for IIS and Kestrel (applies to ASP.NET Core 3.1 and ASP.NET 5):</p>\n<ol>\n<li>Add nuget references:</li>\n</ol>\n<p>Microsoft.AspNetCore.Authentication.Negotiate</p>\n<p>Microsoft.AspNetCore.Components.Authorization</p>\n<ol start=\"2\">\n<li>update Startup.cs</li>\n</ol>\n<pre class=\"lang-cs prettyprint-override\"><code>services.AddAuthentication(NegotiateDefaults.AuthenticationScheme).AddNegotiate();\n// Windows authentication  may not be applied with Kestrel without this line\nservices.AddAuthorization(options =&gt; options.FallbackPolicy = options.DefaultPolicy);\n\n...\n\n// Add the following below app.UseRouting()\napp.UseAuthentication();\napp.UseAuthorization();\n</code></pre>\n<ol start=\"3\">\n<li>the rest is the same as with using other authentication methods.</li>\n</ol>\n<p>A full example if provided below, stars are welcome :)</p>\n<p><a href=\"https://github.com/akovac35/TestingBlazor\" rel=\"nofollow noreferrer\">Blazor and ASP.NET Core controller using Windows authentication</a></p>\n"}], "owner": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 611, "favorite_count": 1, "protected_date": 1604705694, "answer_count": 1, "score": 3, "last_activity_date": 1605209660, "creation_date": 1576703517, "last_edit_date": 1605108003, "question_id": 59400039, "link": "https://stackoverflow.com/questions/59400039/how-to-enable-windows-authentication-with-server-side-blazor", "title": "How to enable Windows authentication with server side Blazor", "body": "<p>I have a Blazor Server-side application which uses Windows Authentication using IIS. The application is hosted on IIS and I've changed the Identity of the website of the application pools to a system service account. (Say it's <code>Domain\\sys_account</code>).</p>\n\n<p>The following code is in <code>LoginDisplay.razor</code>. It can display the correct Identity of the user who opens the web page.</p>\n\n<pre><code>&lt;AuthorizeView&gt;\n    &lt;Authorized&gt;\n        @{\n            var identity = (System.Security.Principal.WindowsIdentity)context.User.Identity;\n        }\n        Hello, @identity!\n    &lt;/Authorized&gt;\n    &lt;NotAuthorized&gt;\n        You are not authorized.\n    &lt;/NotAuthorized&gt;\n&lt;/AuthorizeView&gt;\n</code></pre>\n\n<p>I need to get the current identity in the C# code. So the following class and interface are created.</p>\n\n<pre><code>public interface ICurrentUserService\n{\n    string UserId { get; }\n}\n\npublic class CurrentUserService : ICurrentUserService\n{\n    public CurrentUserService()\n    {\n        UserId = WindowsIdentity.GetCurrent().Name;\n    }\n\n    public string UserId { get; }\n}\n</code></pre>\n\n<p>And it's added to services as</p>\n\n<pre><code>    public void ConfigureServices(IServiceCollection services)\n    {\n        // ....\n        services.AddScoped&lt;ICurrentUserService, CurrentUserService&gt;();\n</code></pre>\n\n<p>However, in the following code. <code>_currentUserService.UserId</code> is <code>Domain\\sys_account</code> instead of the id of the person who accesses the site? How to get the identity of current logged in user?</p>\n\n<pre><code>public class RequestLogger&lt;TRequest&gt; : IRequestPreProcessor&lt;TRequest&gt;\n{\n    private readonly ILogger _logger;\n    private readonly ICurrentUserService _currentUserService;\n\n    public RequestLogger(ILogger&lt;TRequest&gt; logger, ICurrentUserService currentUserService)\n    {\n        _logger = logger;\n        _currentUserService = currentUserService; // _currentUserService.UserId is Domain\\sys_account instead of the id of the person who accesses the site?\n    }\n\n    public Task Process(TRequest request, CancellationToken cancellationToken)\n    {\n        var name = typeof(TRequest).Name;\n\n        _logger.LogInformation(\"Request: {Name} {@UserId} {@Request}\",\n            name, _currentUserService.UserId, request); // _currentUserService.UserId is Domain\\sys_account instead of the id of the person logged in?\n\n        return Task.CompletedTask;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "service", "screensaver"], "comments": [{"owner": {"reputation": 1361, "user_id": 11808788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90824afde2c0e06cc75077e8a411590b?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/11808788/charles"}, "edited": false, "score": 0, "creation_date": 1576704420, "post_id": 59400017, "comment_id": 104989461, "body": "i&#39;d go with Christophers Solution. If you want to do it with a service: Services run in Session 0, Session 0 doesnt have a desktop or a Screensaver. So from your service you have to create a process in Session 1,2,3... whatever session the user[s] are runnning in. Then your code will work."}], "answers": [{"tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": false, "score": 1, "last_activity_date": 1576704161, "creation_date": 1576704161, "answer_id": 59400161, "question_id": 59400017, "link": "https://stackoverflow.com/questions/59400017/why-cant-a-windows-service-created-in-c-detect-that-a-screen-saver-is-currentl/59400161#59400161", "title": "Why can&#39;t a windows service created in C# detect that a screen saver is currently running?", "body": "<p>Ever since Vista, <a href=\"https://docs.microsoft.com/en-us/windows/win32/services/interactive-services\" rel=\"nofollow noreferrer\">Services are barred from a Interactive Session</a>. Even if they run under the same rights, they do not get a interactive Session. I would guess that is getting in the way here.</p>\n\n<p>While you can overwrite this behavior in the Service settings, this is not adviseable for new code. Consider making this a Background Task started by the Task Sheduler instead.</p>\n"}, {"tags": [], "owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "is_accepted": false, "score": 0, "last_activity_date": 1576704949, "last_edit_date": 1576704949, "creation_date": 1576704164, "answer_id": 59400162, "question_id": 59400017, "link": "https://stackoverflow.com/questions/59400017/why-cant-a-windows-service-created-in-c-detect-that-a-screen-saver-is-currentl/59400162#59400162", "title": "Why can&#39;t a windows service created in C# detect that a screen saver is currently running?", "body": "<p>Because the windows service runs in different session then the windows logon. You can't interact with the desktop related services unless you run the windows service in win logon session. There used to be an option in Windows service manager where you can set the properties to \"Interact with desktop session\" but I don't think that ever worked.</p>\n\n<p>There's a work around to run the windows service using the win logo session.\nSee this helper class that can get the current logged on user session and interact with the desktop services. <a href=\"https://github.com/murrayju/CreateProcessAsUser/blob/master/ProcessExtensions/ProcessExtensions.cs\" rel=\"nofollow noreferrer\">https://github.com/murrayju/CreateProcessAsUser/blob/master/ProcessExtensions/ProcessExtensions.cs</a></p>\n"}], "owner": {"reputation": 1, "user_id": 12561124, "user_type": "registered", "profile_image": "https://graph.facebook.com/10220691671662236/picture?type=large", "display_name": "Sasha Kaploon", "link": "https://stackoverflow.com/users/12561124/sasha-kaploon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576704949, "creation_date": 1576703398, "question_id": 59400017, "link": "https://stackoverflow.com/questions/59400017/why-cant-a-windows-service-created-in-c-detect-that-a-screen-saver-is-currentl", "title": "Why can&#39;t a windows service created in C# detect that a screen saver is currently running?", "body": "<p>As part of some work I need to get done for Windows 10, I have written a code in C# that essentially detects every minute whether a PC is in screen saver mode or not, and it writes to a table in MySQL the relevant status (\"PC in use\" if the screen saver is off, \"available PC\" if the screen saver is on).</p>\n\n<p>I did this using (full link if required - <a href=\"https://www.codeproject.com/Articles/17067/Controlling-The-Screen-Saver-With-C\" rel=\"nofollow noreferrer\">https://www.codeproject.com/Articles/17067/Controlling-The-Screen-Saver-With-C</a>):</p>\n\n<p>// Returns TRUE if the screen saver is actually running\n   public static bool GetScreenSaverRunning( )\n   {\n      bool isRunning = false;</p>\n\n<pre><code>  SystemParametersInfo( SPI_GETSCREENSAVERRUNNING, 0, \n     ref isRunning, 0 );\n  return isRunning;\n</code></pre>\n\n<p>}</p>\n\n<p>The code works flawlessly in console application mode (I made a loop to test it out over a minute with a check up on screen save status every 10 seconds), this means in MySQL the status was set correctly every time, depending on the screen save status at the moment of the check up.</p>\n\n<p>The problem occurs when I use this code for a windows service. The service is installed correctly, the log on tab is set on Local System (I also tried with the logged in user instead, same results) and I allow the service to interact with the desktop, just in case, but the difference here is that no matter if the PC enters screen save or not, it always returns false on GetScreenSaverRunning(), thus setting the status of the PC in MySQL as \"PC in use\", even if the screen saver is on at the moment of check up.</p>\n\n<p>I get the sense that the problem isn't in the code itself, since it works without any issues as a console application, but perhaps something behind the scenes. I tried to search here and on many other websites, haven't found anything related to such a problem.</p>\n\n<p>Does anyone have any idea at all what might be the issue? Any help and/or suggestions will be greatly appreciated!</p>\n\n<p>Thank you in advance.</p>\n\n<p>(I could post the code if required, but it is pretty much straight forward and the main part of it, controlling the screen save detection, is taken from the website mentioned above, afterwards it's a simple if (GetScreenSaverRunning() == true) )</p>\n"}, {"tags": ["c#", "android", "visual-studio", "xamarin", "webview"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1576703136, "post_id": 59399888, "comment_id": 104989015, "body": "if repair fixes the problem, it is not a code issue, but an environment problem with your emulator."}, {"owner": {"reputation": 29, "user_id": 3403092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90b004c6c099335652907807ac524c5c?s=128&d=identicon&r=PG&f=1", "display_name": "user3403092", "link": "https://stackoverflow.com/users/3403092/user3403092"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1576706187, "post_id": 59399888, "comment_id": 104990093, "body": "Thanks Jason.  I wasn&#39;t thinking it was a code problem but I wanted to be thorough and post my code just to share how simple it was (and not likely a code problem).  All the forums and chats I&#39;ve come across indicated an issue with a known bug in VS but several of the forums had work-arounds, such as I provided in my original post.  Regardless of environment issue, code issue, known bug, etc, I am still hoping for a resolution or work-around for this.  Any detailed suggestions are highly appreciated!"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1576706393, "post_id": 59399888, "comment_id": 104990160, "body": "you can submit a bug report directly from VS"}, {"owner": {"reputation": 29, "user_id": 3403092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90b004c6c099335652907807ac524c5c?s=128&d=identicon&r=PG&f=1", "display_name": "user3403092", "link": "https://stackoverflow.com/users/3403092/user3403092"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1576707986, "post_id": 59399888, "comment_id": 104990755, "body": "I&#39;m not 100% certain it&#39;s a bug though honestly.  I&#39;ve only been able to find 2 forums discussing something very similar to my issue (where the emulator did work once), one being the URL below.  And in each forum, someone suggested a work-around that worked for that user but those work-arounds did not work for me.  The &quot;known bug&quot; I mentioned was from several posts I came across where the user could not ever get the emulator to work which is slightly different from my issue as my emulator works initially once but then not again.  So I&#39;d like to research and seek advice before reporting a bug."}, {"owner": {"reputation": 3634, "user_id": 11104068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gueSe.jpg?s=128&g=1", "display_name": "Saamer", "link": "https://stackoverflow.com/users/11104068/saamer"}, "edited": false, "score": 0, "creation_date": 1576713509, "post_id": 59399888, "comment_id": 104992237, "body": "There doesn&#39;t seem to be a reason this shouldn&#39;t be working. Have you tried the same with VS 2019? You can share your code if you like on Github, and we can try it for you."}, {"owner": {"reputation": 5513, "user_id": 2913599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/098f6fabc851434459585bb8170f950f?s=128&d=identicon&r=PG", "display_name": "jgoldberger - MSFT", "link": "https://stackoverflow.com/users/2913599/jgoldberger-msft"}, "edited": false, "score": 0, "creation_date": 1576720827, "post_id": 59399888, "comment_id": 104993628, "body": "VS 2017 only has old versions of Xamarin that may run into issues with newer versions of the emulators. Xamarin is not getting updated in VS 2017 anymore (except for security issues), so to get the latest versions of Xamarin you need to upgrade to VS 2019. And I would recommend doing so. Sometimes the Xamarin tools need to be modified to work with updated third party tools from Google (Android) and Apple, so the Android emulators can get updated and you may need to use an updated Xamarin to match."}, {"owner": {"reputation": 29, "user_id": 3403092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90b004c6c099335652907807ac524c5c?s=128&d=identicon&r=PG&f=1", "display_name": "user3403092", "link": "https://stackoverflow.com/users/3403092/user3403092"}, "edited": false, "score": 0, "creation_date": 1576764103, "post_id": 59399888, "comment_id": 105009565, "body": "Saamer, jgoldberger, thanks for the suggestion to upgrade to VS 2019.  I will give that a shot and let you guys know if I still have this issue.  Thanks guys!"}, {"owner": {"reputation": 29, "user_id": 3403092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90b004c6c099335652907807ac524c5c?s=128&d=identicon&r=PG&f=1", "display_name": "user3403092", "link": "https://stackoverflow.com/users/3403092/user3403092"}, "edited": false, "score": 0, "creation_date": 1576768832, "post_id": 59399888, "comment_id": 105012244, "body": "I installed VS 2019 and have moved the code into a blank Xamarin project.  I thought all was good and the emulator was going to work but I&#39;m still having issues with the emulator and am now getting the &quot;ADB1000: Mono.AndroidTools.AdbException: secure_mkdirs failed: No such file or directory  \u2026&quot; error.  The project builds successfully but the emulator is now displaying &quot;Decryption Unsuccessful&quot; when I run the app.  I&#39;m continuing to investigate this new issue."}, {"owner": {"reputation": 29, "user_id": 3403092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90b004c6c099335652907807ac524c5c?s=128&d=identicon&r=PG&f=1", "display_name": "user3403092", "link": "https://stackoverflow.com/users/3403092/user3403092"}, "edited": false, "score": 0, "creation_date": 1576772262, "post_id": 59399888, "comment_id": 105014118, "body": "I was able to get the emulator to run by repairing the Android SDK and doing some updates.  However, I also have to do a factory reset on Android_Accelerated_x86_Oreo each time I run the emulator but at least it&#39;s working now.  The app won&#39;t start and is instead just going to a blank white screen but I think I&#39;m making progress and will research this new issue.  I believe this thread can be closed since I&#39;m now dealing with separate issues.  Thanks to everyone for listening and helping!"}], "owner": {"reputation": 29, "user_id": 3403092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90b004c6c099335652907807ac524c5c?s=128&d=identicon&r=PG&f=1", "display_name": "user3403092", "link": "https://stackoverflow.com/users/3403092/user3403092"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576702703, "creation_date": 1576702703, "question_id": 59399888, "link": "https://stackoverflow.com/questions/59399888/xamarin-vs-2017-pro-webview-issue-app-builds-and-runs-first-time-but-not-after", "title": "Xamarin VS 2017 Pro webView Issue - App builds and runs first time but not after 1st run. Have to Repair VS to run again", "body": "<p>thanks for reading!  I\u2019m a DB guy with a little front-end dev experience in Visual Studio (mostly DB guy though).  I\u2019m trying to create a Xamarin cross-platform mobile app to use a WebView to display my girlfriends non-profit cat rescue organization.  I\u2019m using Visual Studio 2017 Professional 15.9.12.  My code for the WebView is below.  Currently on a fresh install or repair of VS, the app will build and run beautifully minus some formatting issues.  The menu control and tabs in the emulator work and all is great!  However, every time I stop the app and then try to rebuild and run again, the emulator goes to a black screen and eventually will not respond and must be shut down.  The build shows successful, but the app just won\u2019t start within the emulator, I just get the black screen.  If I do a repair of VS and reboot my machine, I can restart VS and the app will build and run perfectly on the first attempt.  But if I close the app and then rerun it, it will never display on the emulator.  It says build completed but all I get is the black screen.  I\u2019ve read a few comments about this (a couple on here) and it may still be an issue in VS but some folks have found work arounds, but they don\u2019t work for me, only a VS repair works so far and it\u2019s only good for one time, and then I must repair again.  I\u2019ve tried the following suggestions that I found online:</p>\n\n<p>-Clean and rebuild solution.  This does not work for me.</p>\n\n<p>-Unchecked \u201cUse Shared Runtime\u201d in the Android Properties section.  No change for me.</p>\n\n<p>-Tried adding additional \u201cSuggested Architectures\u201d of x86 and x86_64 in the Advanced section of the Android Properties section.  This didn\u2019t change anything.</p>\n\n<p>I\u2019ve tried the 3 above solutions independently as well as together and those changes didn\u2019t change the behavior for my app.  After an initial build and run after a VS repair, the app will run perfectly.  But once I close the app and try to rerun it the app just goes to black screen and VS displays \u201cDeploying to Android_Accelerated_x86_Oreo\u201d for a minute or so.  That status changes to Ready eventually but then when I try to interact with the black screen app it starts Not Responding and eventually shuts down.</p>\n\n<p>Has anyone had to deal with this issue before or possibly have any suggestions as to what might be the resolution?  Thanks to everyone in advance!!  BTW, I can provide print screens of anything detailed if need.  Thanks again!</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing Xamarin.Forms;\n\nnamespace App1\n{\n    public partial class MainPage : ContentPage\n    {\n        public MainPage()\n        {\n            Label header = new Label\n            {\n                Text = \"WebView\",\n                FontSize = 50,\n                FontAttributes = FontAttributes.Bold,\n                HorizontalOptions = LayoutOptions.Center\n            };\n\n            WebView = new WebView()\n            {\n                Source = new UrlWebViewSource\n                {\n                    Url = \"https://nashvillecatrescue.org/\",\n                },\n                VerticalOptions = LayoutOptions.FillAndExpand\n            };\n\n            // Build the page.\n            this.Content = new StackLayout\n            {\n                Children =\n                {\n                    //header,\n                    webView\n                }\n            };\n        }\n    }\n}\n\n</code></pre>\n"}, {"tags": ["c#", "type-conversion", "npoi"], "answers": [{"tags": [], "owner": {"reputation": 5195, "user_id": 4005175, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/3N6Ze.jpg?s=128&g=1", "display_name": "Martin Heraleck&#253;", "link": "https://stackoverflow.com/users/4005175/martin-heraleck%c3%bd"}, "is_accepted": true, "score": 1, "last_activity_date": 1576702116, "creation_date": 1576702116, "answer_id": 59399779, "question_id": 59399677, "link": "https://stackoverflow.com/questions/59399677/c-npoi-cannot-assign-fileinputstream-variable-to-xssfworkbook-variable/59399779#59399779", "title": "C# NPOI cannot assign FileInputStream variable to XSSFWorkbook variable", "body": "<p><code>XSSFWorkbook</code> ctor accepts <code>Stream</code> as its argument. However, <code>FileInputStream</code> does not extend <code>Stream</code> (nor is it implicitly convertible). One way to solve your issue is to use <code>FileStream</code> instead of <code>FileInputStream</code>. For example:</p>\n\n<pre><code>FileStream excelFile = File.OpenRead(FileName.getFile());\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 4830371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4072b7219d943b8264b2017da245ef?s=128&d=identicon&r=PG&f=1", "display_name": "baconbacon", "link": "https://stackoverflow.com/users/4830371/baconbacon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 59399779, "answer_count": 1, "score": 0, "last_activity_date": 1576702121, "creation_date": 1576701545, "last_edit_date": 1576702121, "question_id": 59399677, "link": "https://stackoverflow.com/questions/59399677/c-npoi-cannot-assign-fileinputstream-variable-to-xssfworkbook-variable", "title": "C# NPOI cannot assign FileInputStream variable to XSSFWorkbook variable", "body": "<p>So I'm using C# with the NPOI package and trying to assign my file to to a XSSF workbook variable to be read and I'm getting the following error</p>\n\n<p><a href=\"https://i.stack.imgur.com/Tmwcf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tmwcf.png\" alt=\"enter image description here\"></a></p>\n\n<p>here is the relevant code fragment </p>\n\n<pre><code>private static XSSFWorkbook workbook;\n\n        //  runs the console, which runs the gogo()\n        public static void main(String[] args)\n        {\n            Console.run2();   \n        }\n\n        public void gogo()\n        {\n\n            FileInputStream excelFile;\n            try\n            {\n                //  get the file and assign it to excelFile\n                excelFile = new FileInputStream(new File(FileName.getFile()));\n\n                //  open up the excelfile workbook\n                workbook = new XSSFWorkbook(excelFile);\n\n                //  get the # of sheets in the workbook for iterator\n                this.lastSheet = workbook.getNumberOfSheets();\n</code></pre>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 43527, "user_id": 98094, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/VkdLW.jpg?s=128&g=1", "display_name": "Icemanind", "link": "https://stackoverflow.com/users/98094/icemanind"}, "edited": false, "score": 5, "creation_date": 1576701833, "post_id": 59399671, "comment_id": 104988528, "body": "You&#39;ve got two <code>con.Open();</code> statements."}, {"owner": {"reputation": 47, "user_id": 9956973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c760d89e4321116f3b1b896fd6595b?s=128&d=identicon&r=PG&f=1", "display_name": "Sue", "link": "https://stackoverflow.com/users/9956973/sue"}, "edited": false, "score": 0, "creation_date": 1576701917, "post_id": 59399671, "comment_id": 104988562, "body": "But I remove one and then it give an error that the datareader isn&#39;t close"}, {"owner": {"reputation": 47, "user_id": 9956973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c760d89e4321116f3b1b896fd6595b?s=128&d=identicon&r=PG&f=1", "display_name": "Sue", "link": "https://stackoverflow.com/users/9956973/sue"}, "edited": false, "score": 0, "creation_date": 1576702076, "post_id": 59399671, "comment_id": 104988609, "body": "ok but i&#39;m not seeing where it wasn&#39;t close"}, {"owner": {"reputation": 47, "user_id": 9956973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c760d89e4321116f3b1b896fd6595b?s=128&d=identicon&r=PG&f=1", "display_name": "Sue", "link": "https://stackoverflow.com/users/9956973/sue"}, "edited": false, "score": 0, "creation_date": 1576702183, "post_id": 59399671, "comment_id": 104988649, "body": "So isn&#39;t there another way"}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1576703129, "post_id": 59399671, "comment_id": 104989014, "body": "All this can be done in one call, you can check if records exists, then do the insert..."}, {"owner": {"reputation": 47, "user_id": 9956973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c760d89e4321116f3b1b896fd6595b?s=128&d=identicon&r=PG&f=1", "display_name": "Sue", "link": "https://stackoverflow.com/users/9956973/sue"}, "reply_to_user": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1576703782, "post_id": 59399671, "comment_id": 104989231, "body": "@&#199;&#246;\u0111\u011bx\u011b\u0155; can you show me where I went wrong please"}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1576704160, "post_id": 59399671, "comment_id": 104989354, "body": "<code>if exists (              select 1 from PP_TruckDrivers where CUSTNAME = @CUSTNAME           ) begin   INSERT INTO PP_TruckDrivers VALUES(@CUSTNMBR,@CUSTNAME, @telephone) end</code> all you really need to do is see if the record exist, if so do the insert."}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1576704286, "post_id": 59399671, "comment_id": 104989396, "body": "To be honest, I&#39;m not sure what you want to do here? If a record doesn&#39;t exists I would assume you would want to insert a record, you example is different? If a record does exist, I would assume you would update that record..."}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1576704581, "post_id": 59399671, "comment_id": 104989540, "body": "Sorry the first comment syntax should be <code>IF NOT EXISTS(</code>... I was going off your current code in question..."}], "answers": [{"comments": [{"owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1576704384, "post_id": 59399989, "comment_id": 104989435, "body": "@madreflection: I agree with you, but sometimes it&#39;s just the matter of personal preference. Some people like a C# approach and some are fine with SQL features."}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1576704404, "post_id": 59399989, "comment_id": 104989453, "body": "TBH, the answer is vague, there&#39;s no explanation as where the OP went wrong in code, how does this <i>merge</i> statement work, will it fix the problem? Even if OP uses this, it wont work in their current solution; just some constructive feedback is all."}, {"owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "reply_to_user": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1576704502, "post_id": 59399989, "comment_id": 104989506, "body": "@&#199;&#246;\u0111\u011bx\u011b\u0155: If you read the first two lines of the question you will see that the guy the trying to add a record when a key is not already present. But his code is of low performance. I made it clear why the code is badly designed and I proposed a standard SQL solution."}, {"owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1576704651, "post_id": 59399989, "comment_id": 104989568, "body": "@madreflection: I believe that if you just post the final solution, the OP will copy and paste it and will never learn. I am against that concept. I made the example short but syntactically clear just to add a little challenge on purpose."}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1576704694, "post_id": 59399989, "comment_id": 104989585, "body": "@Transcendent I did read it, I agree with the code not being up to par, but there&#39;s no details to support your answer, adding more would benefit anyone as to how and why this solution would work."}, {"owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "reply_to_user": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 1, "creation_date": 1576704754, "post_id": 59399989, "comment_id": 104989607, "body": "@&#199;&#246;\u0111\u011bx\u011b\u0155: That is something I cannot disagree with. More information is always good. Ok I will add more information to my post :)"}, {"owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "reply_to_user": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1576705509, "post_id": 59399989, "comment_id": 104989853, "body": "@madreflection: SO is more of a place for exchanging philosophies rather than a place for instant flawless answers. We talked, and I enjoyed talking to you :)"}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 1, "creation_date": 1576705616, "post_id": 59399989, "comment_id": 104989881, "body": "I totally agree. Right back atcha."}], "tags": [], "owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "is_accepted": false, "score": 3, "last_activity_date": 1576705214, "last_edit_date": 1576705214, "creation_date": 1576703237, "answer_id": 59399989, "question_id": 59399671, "link": "https://stackoverflow.com/questions/59399671/connection-not-closed-relating-to-the-datareader/59399989#59399989", "title": "Connection not closed relating to the datareader", "body": "<p>Your code is badly written because it runs a statement (sends requests) per results obtained from another query to the database. In a commercial system that simply causes an overhead. You can instead go with a cleaner SQL solution. I have provided a very small example below:</p>\n\n<pre><code>MERGE [dbo].[PP_TruckDrivers] AS Target\nUSING (VALUES (@CUSTNMBR,@CUSTNAME, @telephone)) AS Source (CustNmbr,CustName,Telephone)\nON Target.CustName = Source.CustName\nWHEN NOT MATCHED BY TARGET THEN \n    INSERT (CustNmbr,CustName,Telephone) \n    VALUES (Source.CustNmbr,Source.CustName,Source.Telephone);\n</code></pre>\n\n<blockquote>\n  <p>What is a Merge Statement? </p>\n</blockquote>\n\n<p>Imagine you have a Target table in/from which you may want to add, update, or delete records based on the content of another data set/table. Consider the following figure</p>\n\n<p><a href=\"https://i.stack.imgur.com/VRWod.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VRWod.png\" alt=\"enter image description here\"></a></p>\n\n<p>Using the <code>MERGE</code> statement you can simply conduct pattern matching, similar to when you <code>JOIN</code> two tables while being able to apply all add, update, and delete statements on your target table. The following example shows you how to do this:</p>\n\n<pre><code>MERGE sales.category t \n    USING sales.category_staging s\nON (s.category_id = t.category_id)\nWHEN MATCHED\n    THEN UPDATE SET \n        t.category_name = s.category_name,\n        t.amount = s.amount\nWHEN NOT MATCHED BY TARGET \n    THEN INSERT (category_id, category_name, amount)\n         VALUES (s.category_id, s.category_name, s.amount)\nWHEN NOT MATCHED BY SOURCE \n    THEN DELETE;\n</code></pre>\n\n<p><a href=\"http://www.sqlservertutorial.net/sql-server-basics/sql-server-merge/\" rel=\"nofollow noreferrer\">More information is available here</a></p>\n"}], "owner": {"reputation": 47, "user_id": 9956973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c760d89e4321116f3b1b896fd6595b?s=128&d=identicon&r=PG&f=1", "display_name": "Sue", "link": "https://stackoverflow.com/users/9956973/sue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576705214, "creation_date": 1576701509, "question_id": 59399671, "link": "https://stackoverflow.com/questions/59399671/connection-not-closed-relating-to-the-datareader", "title": "Connection not closed relating to the datareader", "body": "<p>I'm trying to check if a user name exists; and if not add to the database; however it keeps giving this error: The connection was not closed. The connection's current state is open.      </p>\n\n<pre><code>protected void btnSubmit_Click(object sender, EventArgs e)\n    {\n\n        string number = txtDriverNumber.Text;\n        string name = txtDriver.Text;\n\n\n\n\n        txtDriverNumber.Text = \"\";\n        txtDriver.Text = \"\";\n        string query = \"INSERT INTO PP_TruckDrivers VALUES(@CUSTNMBR,@CUSTNAME, @telephone)\";\n        string constr = ConfigurationManager.ConnectionStrings[\"ConnectionString\"].ConnectionString;\n        using (SqlConnection con = new SqlConnection(constr))\n        {\n            using (SqlCommand command = new SqlCommand())\n            {\n                command.CommandText = \"SELECT * FROM PP_TruckDrivers WHERE CUSTNAME = @CUSTNAME \";\n                command.Parameters.AddWithValue(\"@CUSTNAME\", txtDriver.Text);\n                command.Connection = con;\n                con.Open();\n                using (SqlDataReader sdr = command.ExecuteReader())\n                {\n                    if (sdr.Read())\n                    {\n                        using (SqlCommand cmd = new SqlCommand(query))\n                        {\n                            cmd.Parameters.AddWithValue(\"@CUSTNMBR\", number);\n                            cmd.Parameters.AddWithValue(\"@CUSTNAME\", name);\n                            cmd.Parameters.AddWithValue(\"@telephone\", \"\");\n                            cmd.Connection = con;\n                            con.Open();\n                            cmd.ExecuteNonQuery();\n                            con.Close();\n                        }\n                    }\n                    else\n                    {\n                        Response.Write(\"&lt;script language='javascript'&gt;window.alert('Driver Name already exist!');window.location='AddTruckDriver.aspx';&lt;/script&gt;\");\n                    }\n                }\n            }\n        }\n        this.BindFormView();\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", ".net-4.6"], "comments": [{"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 1, "creation_date": 1576703801, "post_id": 59399662, "comment_id": 104989239, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/33761919/tls-1-2-in-net-framework-4-0\">TLS 1.2 in .NET Framework 4.0</a>"}], "owner": {"reputation": 43, "user_id": 9270234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b3c24b87a65291c74688ddff1cc0186?s=128&d=identicon&r=PG&f=1", "display_name": "Billy Joe", "link": "https://stackoverflow.com/users/9270234/billy-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 705, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1576703763, "creation_date": 1576701450, "last_edit_date": 1576703763, "question_id": 59399662, "link": "https://stackoverflow.com/questions/59399662/c-web-api-project-tls-1-2-setup-in-iis-express", "title": "C# WEB API project TLS 1.2 setup in IIS express", "body": "<p>I have a WEB API project running .net 4.6.1 that I want to get TLS 1.2 working on localhost in IIS express first, and then once I get that setup correctly, I want to deploy it to our dev server running IIS 7.5 on server 2008 R2 and have TLS setup there as well.</p>\n\n<p>I already have this in the web config from reading other posts</p>\n\n<pre><code>&lt;compilation targetFramework=\"4.6.1\"/&gt;\n&lt;httpRuntime targetFramework=\"4.6.1\"/&gt;\n&lt;pages controlRenderingCompatibilityVersion=\"4.0\"/&gt;\n</code></pre>\n\n<p>I want to go the self signed route for now even though I know Chrome will warn its unsafe.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-core", "postman", "asp.net-core-3.1"], "comments": [{"owner": {"reputation": 4650, "user_id": 4139809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950022a8882128ae019d3c0bda011723?s=128&d=identicon&r=PG", "display_name": "Jeremy Lakeman", "link": "https://stackoverflow.com/users/4139809/jeremy-lakeman"}, "edited": false, "score": 0, "creation_date": 1576713120, "post_id": 59399512, "comment_id": 104992141, "body": "Not really sure what&#39;s going on, or why you&#39;re seeing a json dictionary with the web server&#39;s namespace. Turn on all the logging, add your own middleware so you can breakpoint / debug the pipeline....?"}], "owner": {"reputation": 75, "user_id": 7101821, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-dXu_URHl6uk/AAAAAAAAAAI/AAAAAAAAAeQ/hosh_v20FVA/photo.jpg?sz=128", "display_name": "Jason Ward", "link": "https://stackoverflow.com/users/7101821/jason-ward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 485, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1576700678, "creation_date": 1576700678, "question_id": 59399512, "link": "https://stackoverflow.com/questions/59399512/asp-net-core-3-1-upgrade", "title": "ASP.Net Core 3.1 upgrade", "body": "<p>I am in the process of upgrading an existing Asp.Net Core 2.2 project to ASP.NET core3 and have followed most of the steps necessary in this: <a href=\"https://docs.microsoft.com/en-us/aspnet/core/migration/22-to-30?view=aspnetcore-3.1&amp;tabs=visual-studio\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/migration/22-to-30?view=aspnetcore-3.1&amp;tabs=visual-studio</a> to make that happen. There is an angular app attached, and I was having issues connecting to it from there, (the Core app is a web API project). I tried to start over with the upgrade from scratch, having to remove Swagger code from it as it isn't working and isn't necessary right now. I get this:</p>\n\n<pre><code>// http://localhost:{port}/\n\n{\n  \"source\": \"Microsoft.AspNetCore.Server.Kestrel.Core\"\n}\n</code></pre>\n\n<p>as the only thing on the page, and when I set up a Postman request to hit an Anon-Allowed GET action, it returns the same thing in the result, instead of the expected result.</p>\n\n<p>I have converted services.AddMvc to services.AddControllers, in ConfigureServices => Startup.cs, and converted to use app.UseRouting, UseCors, UseAuthentication, and UseEndpoints, (in that order), in Configure => Startup.cs. I also set MapControllers inside the UseEndpoints method while defining the EndpointBuilder to pass in.</p>\n\n<p>I know that it is not even hitting the method because I have placed a breakpoint at the beginning of it to see what happened and why it was returning an error and that result. That breakpoint does not get hit at all.</p>\n"}, {"tags": ["c#", ".net", ".net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1576700563, "post_id": 59399437, "comment_id": 104988079, "body": "I&#39;m guessing it is because you are changing it to update when a record of that id does not exist.  you need to insert the record before you can update."}, {"owner": {"reputation": 3381, "user_id": 1173307, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/661da69d4d513e5b58a94d670a136f5f?s=128&d=identicon&r=PG", "display_name": "pantonis", "link": "https://stackoverflow.com/users/1173307/pantonis"}, "reply_to_user": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1576700790, "post_id": 59399437, "comment_id": 104988176, "body": "@Hogan if you read my post carefully I state that the record was deleted"}, {"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1576700993, "post_id": 59399437, "comment_id": 104988255, "body": "I was not sure but if the record has been deleted how do you expect to update it?"}], "answers": [{"comments": [{"owner": {"reputation": 3381, "user_id": 1173307, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/661da69d4d513e5b58a94d670a136f5f?s=128&d=identicon&r=PG", "display_name": "pantonis", "link": "https://stackoverflow.com/users/1173307/pantonis"}, "edited": false, "score": 0, "creation_date": 1576700747, "post_id": 59399501, "comment_id": 104988156, "body": "I was thinking to use a hybrid model as well with Dapper but I wanted to keep a consistency across the system and use only EF Core. There is not any way to achieve what I need with EF Core right?"}, {"owner": {"reputation": 390, "user_id": 10542513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KI47DMswagM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX8Jyi86l0cgUSnVVBJs9q9MU5aEA/mo/photo.jpg?sz=128", "display_name": "Brian says Reinstate Monica", "link": "https://stackoverflow.com/users/10542513/brian-says-reinstate-monica"}, "reply_to_user": {"reputation": 3381, "user_id": 1173307, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/661da69d4d513e5b58a94d670a136f5f?s=128&d=identicon&r=PG", "display_name": "pantonis", "link": "https://stackoverflow.com/users/1173307/pantonis"}, "edited": false, "score": 0, "creation_date": 1576701086, "post_id": 59399501, "comment_id": 104988287, "body": "We initially went down the route of overriding some of the entity management stuff in EF to try to get away with EF only - this was several versions back now, I don&#39;t know if this approach would work better with the latest version. We were not successful, and caused a few really really nasty bugs. I don&#39;t want to disparage EF too much - it&#39;s great at what it does. But if you don&#39;t need or can&#39;t afford the overhead it&#39;s just not the right tool for the job."}, {"owner": {"reputation": 3381, "user_id": 1173307, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/661da69d4d513e5b58a94d670a136f5f?s=128&d=identicon&r=PG", "display_name": "pantonis", "link": "https://stackoverflow.com/users/1173307/pantonis"}, "edited": false, "score": 0, "creation_date": 1576701277, "post_id": 59399501, "comment_id": 104988356, "body": "Well as you said will keep simple stuff for EF Core and go with Dapper for batch ops"}, {"owner": {"reputation": 390, "user_id": 10542513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KI47DMswagM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX8Jyi86l0cgUSnVVBJs9q9MU5aEA/mo/photo.jpg?sz=128", "display_name": "Brian says Reinstate Monica", "link": "https://stackoverflow.com/users/10542513/brian-says-reinstate-monica"}, "reply_to_user": {"reputation": 3381, "user_id": 1173307, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/661da69d4d513e5b58a94d670a136f5f?s=128&d=identicon&r=PG", "display_name": "pantonis", "link": "https://stackoverflow.com/users/1173307/pantonis"}, "edited": false, "score": 0, "creation_date": 1576701811, "post_id": 59399501, "comment_id": 104988521, "body": "If you are open to EF Core extensions, there do appear to be some out there although I cannot vouch for them. But, there do seem to be more options now than before, and if they do play nicely with EF&#39;s cached/working data, you&#39;ll be better off than we were."}, {"owner": {"reputation": 3381, "user_id": 1173307, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/661da69d4d513e5b58a94d670a136f5f?s=128&d=identicon&r=PG", "display_name": "pantonis", "link": "https://stackoverflow.com/users/1173307/pantonis"}, "edited": false, "score": 0, "creation_date": 1576701865, "post_id": 59399501, "comment_id": 104988542, "body": "Can you suggest any?"}, {"owner": {"reputation": 390, "user_id": 10542513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KI47DMswagM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX8Jyi86l0cgUSnVVBJs9q9MU5aEA/mo/photo.jpg?sz=128", "display_name": "Brian says Reinstate Monica", "link": "https://stackoverflow.com/users/10542513/brian-says-reinstate-monica"}, "reply_to_user": {"reputation": 3381, "user_id": 1173307, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/661da69d4d513e5b58a94d670a136f5f?s=128&d=identicon&r=PG", "display_name": "pantonis", "link": "https://stackoverflow.com/users/1173307/pantonis"}, "edited": false, "score": 0, "creation_date": 1576702098, "post_id": 59399501, "comment_id": 104988617, "body": "I&#39;m sorry, no - we went our own route and honestly, I don&#39;t think I could be happier than I am with Dapper. But I saw a few promising libraries when I searched for &quot;ef core batch update&quot;."}], "tags": [], "owner": {"reputation": 390, "user_id": 10542513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KI47DMswagM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX8Jyi86l0cgUSnVVBJs9q9MU5aEA/mo/photo.jpg?sz=128", "display_name": "Brian says Reinstate Monica", "link": "https://stackoverflow.com/users/10542513/brian-says-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1576700607, "creation_date": 1576700607, "answer_id": 59399501, "question_id": 59399437, "link": "https://stackoverflow.com/questions/59399437/ef-core-database-operation-throws-error-data-may-have-been-modified-or-deleted/59399501#59399501", "title": "EF Core database operation throws error &quot;Data may have been modified or deleted since entities were loaded&quot;", "body": "<blockquote>\n  <p>I do not want to query the database first if the row exists and then update.</p>\n</blockquote>\n\n<p>This is the crux of your problem and the reason for the error.</p>\n\n<p>Our approach, and a common one I believe, is to use Dapper when manipulating a lot of data, and limit EF to Load -> Edit -> Save operations on single or very few entities.</p>\n"}], "owner": {"reputation": 3381, "user_id": 1173307, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/661da69d4d513e5b58a94d670a136f5f?s=128&d=identicon&r=PG", "display_name": "pantonis", "link": "https://stackoverflow.com/users/1173307/pantonis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1298, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1576700953, "creation_date": 1576700270, "last_edit_date": 1576700953, "question_id": 59399437, "link": "https://stackoverflow.com/questions/59399437/ef-core-database-operation-throws-error-data-may-have-been-modified-or-deleted", "title": "EF Core database operation throws error &quot;Data may have been modified or deleted since entities were loaded&quot;", "body": "<p>I am using EF Core 3.1 have the following code</p>\n\n<pre><code>public void Update()\n{\n    Client client = new Client();\n    client.ClientId = 1;\n    client.Name = \"New Client 1\";\n\n    dbContext.Entry&lt;Client&gt;(client).State = EntityState.Modified;\n    dbContext.Entry&lt;Client&gt;(client).Property(x =&gt; x.IdentityNumber).IsModified = false;\n\n    dbContext.SaveChanges();\n}\n</code></pre>\n\n<p>which produces the following SQL an successfully updates the column</p>\n\n<pre><code>UPDATE [Client] \nSET [Name] = @p0\nWHERE [ClientId] = @p1;\n\nSELECT @@ROWCOUNT;\n</code></pre>\n\n<p>However when I change the <code>ClientId = 4</code> which is an entry that was deleted from database it produces the same SQL query but throws the following error </p>\n\n<blockquote>\n  <p>Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded</p>\n</blockquote>\n\n<p>The error message is clear but I don't understand why it does not work as SQL Server works (0 row(s) affected) and instead throws this error. </p>\n\n<p>How can I simulate the 0 row(s) affected SQL Server behavior using EF Core?</p>\n\n<p>I do not want to query the database first if the row exists and then update. The above code is a sample. In my methods I have lists with many clients that I need to update at once and it takes long to do that using the first check if exists and then update.</p>\n"}, {"tags": ["c#", ".net-core", "httpcontext", "delegatinghandler"], "comments": [{"owner": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "edited": false, "score": 0, "creation_date": 1576702039, "post_id": 59399401, "comment_id": 104988600, "body": "Just for clarification, is <code>_context</code> null? Or the property <code>HttpContext</code> null?"}, {"owner": {"reputation": 39, "user_id": 11885807, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6pHN_MchBug/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfVWoXaLTJK35hOO1qf7CHYX2p4wQ/photo.jpg?sz=128", "display_name": "Jeremy Maddrey", "link": "https://stackoverflow.com/users/11885807/jeremy-maddrey"}, "reply_to_user": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "edited": false, "score": 0, "creation_date": 1576702424, "post_id": 59399401, "comment_id": 104988755, "body": "@mxmissile only the <code>HttpContext</code> property is null, <code>_context</code> is not null"}, {"owner": {"reputation": 23854, "user_id": 70345, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/aV45a.jpg?s=128&g=1", "display_name": "Ian Kemp", "link": "https://stackoverflow.com/users/70345/ian-kemp"}, "edited": false, "score": 0, "creation_date": 1576707793, "post_id": 59399401, "comment_id": 104990674, "body": "<code>IHttpContextAccessor</code> is only available if you call <code>services.AddHttpContextAccessor();</code> in <code>ConfigureServices</code>, which your code isn&#39;t doing."}, {"owner": {"reputation": 39, "user_id": 11885807, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6pHN_MchBug/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfVWoXaLTJK35hOO1qf7CHYX2p4wQ/photo.jpg?sz=128", "display_name": "Jeremy Maddrey", "link": "https://stackoverflow.com/users/11885807/jeremy-maddrey"}, "reply_to_user": {"reputation": 23854, "user_id": 70345, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/aV45a.jpg?s=128&g=1", "display_name": "Ian Kemp", "link": "https://stackoverflow.com/users/70345/ian-kemp"}, "edited": false, "score": 0, "creation_date": 1576763414, "post_id": 59399401, "comment_id": 105009186, "body": "@IanKemp fair point, i pared down the startup and failed to put that in the question.  thanks for catching that."}, {"owner": {"reputation": 6480, "user_id": 335062, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CaDve.jpg?s=128&g=1", "display_name": "codebased", "link": "https://stackoverflow.com/users/335062/codebased"}, "edited": false, "score": 0, "creation_date": 1607926476, "post_id": 59399401, "comment_id": 115415630, "body": "@JeremyMaddrey I have exactly this problem"}], "owner": {"reputation": 39, "user_id": 11885807, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6pHN_MchBug/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfVWoXaLTJK35hOO1qf7CHYX2p4wQ/photo.jpg?sz=128", "display_name": "Jeremy Maddrey", "link": "https://stackoverflow.com/users/11885807/jeremy-maddrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1576763364, "creation_date": 1576700047, "last_edit_date": 1576763364, "question_id": 59399401, "link": "https://stackoverflow.com/questions/59399401/why-is-ihttpcontextaccessor-httpcontext-sometimes-null", "title": "Why is IHttpContextAccessor.HttpContext sometimes null?", "body": "<p>Using .Net Core 2.2, I'm using HttpClient to call an API, along with an Http Message Handler.  The message handler injects <code>IHttpContextAccessor</code>, but that object sometimes contains an <code>HttpContext</code> property that is null - I can't understand why that would ever be null.  </p>\n\n<p>Here's the service registration in startup:</p>\n\n<pre><code>services.AddTransient&lt;HttpClientTokenHandler&gt;();\n\nservices.AddHttpClient(\"client\", c =&gt;\n    {\n        c.BaseAddress = new Uri(options.ApiUrl.TrimEnd('/') + '/');\n    }).AddHttpMessageHandler&lt;HttpClientTokenHandler&gt;();\n\nservices.AddHttpContextAccessor();\n\n</code></pre>\n\n<p>And the token handler implementation where HttpContext is sometimes null.</p>\n\n<pre><code>public HttpClientTokenHandler(IHttpContextAccessor context)\n{\n    _context = context;\n}\n\nprotected override async Task&lt;HttpResponseMessage&gt; SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)\n{    \n    var access_token = await _context.HttpContext.GetTokenAsync(Constants.TokenTypes.AccessToken);\n\n    if (!string.IsNullOrEmpty(access_token))\n    {\n        request.Headers.Authorization = new AuthenticationHeaderValue(\"Bearer\", access_token);\n    }\n    var response = await base.SendAsync(request, cancellationToken);\n    return response;\n}\n</code></pre>\n\n<p>What could cause <code>_context.HttpContext</code> to be null, when it's simply being injected?</p>\n"}, {"tags": ["c#", "html", "web-scraping", "html-agility-pack"], "comments": [{"owner": {"reputation": 372, "user_id": 8383744, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cad9d89972b1591bbe384f23a88b51d5?s=128&d=identicon&r=PG&f=1", "display_name": "Beez", "link": "https://stackoverflow.com/users/8383744/beez"}, "edited": false, "score": 1, "creation_date": 1576701848, "post_id": 59399372, "comment_id": 104988534, "body": "Share your c# code that is supposed to be scraping the div"}], "answers": [{"tags": [], "owner": {"reputation": 555, "user_id": 9195902, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208329998287230/picture?type=large", "display_name": "Yas Ikeda", "link": "https://stackoverflow.com/users/9195902/yas-ikeda"}, "is_accepted": false, "score": 0, "last_activity_date": 1576715214, "creation_date": 1576715214, "answer_id": 59401813, "question_id": 59399372, "link": "https://stackoverflow.com/questions/59399372/scraping-from-a-div/59401813#59401813", "title": "Scraping from a div", "body": "<p>I guess you might be having a trouble to write XPath to select the node. Try <code>//*[contains(@class, 'ds-hero-headline') and contains(@class, 'ds-schools-display-rating')]</code> with SelectNodes method.</p>\n\n<p>However, this XPath could have a problem if the page your targeting would also have class name like <code>ds-hero-headline-content</code>, which <code>ds-hero-headline</code> can partially match. In that case, see the solution in <a href=\"https://stackoverflow.com/questions/1604471/how-can-i-find-an-element-by-css-class-with-xpath\">How can I find an element by CSS class with XPath?</a></p>\n"}, {"tags": [], "owner": {"reputation": 639, "user_id": 9901683, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "dafie", "link": "https://stackoverflow.com/users/9901683/dafie"}, "is_accepted": false, "score": 0, "last_activity_date": 1576756014, "creation_date": 1576756014, "answer_id": 59409162, "question_id": 59399372, "link": "https://stackoverflow.com/questions/59399372/scraping-from-a-div/59409162#59409162", "title": "Scraping from a div", "body": "<p>I would use this to extract <code>0.8 mi</code></p>\n\n<pre><code>//div[@class='ds-nearby-schools-list']/div[@class='ds-school-row']/div[@class='ds-nearby-schools-info-section']/ul[@class='ds-school-info-section']/li[@class='ds-school-info']/span[@class='ds-school-value ds-body-small' and preceding-sibling::span[@class='ds-school-key ds-body-small' and text()='Distance:']]/text()\n</code></pre>\n\n<p>Then this regex to group data:</p>\n\n<pre><code>^[0-9\\.]+ (.*)$\n</code></pre>\n\n<p>At the end you can use some kind of conversion to save distance to an object.</p>\n"}, {"comments": [{"owner": {"reputation": 9368, "user_id": 1390548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee99f66a15a8e049467a0fca2b80eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jawad", "link": "https://stackoverflow.com/users/1390548/jawad"}, "edited": false, "score": 0, "creation_date": 1577723391, "post_id": 59462806, "comment_id": 105237528, "body": "@Michael does this answer your question"}], "tags": [], "owner": {"reputation": 9368, "user_id": 1390548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee99f66a15a8e049467a0fca2b80eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jawad", "link": "https://stackoverflow.com/users/1390548/jawad"}, "is_accepted": false, "score": 0, "last_activity_date": 1577602571, "last_edit_date": 1577602571, "creation_date": 1577149822, "answer_id": 59462806, "question_id": 59399372, "link": "https://stackoverflow.com/questions/59399372/scraping-from-a-div/59462806#59462806", "title": "Scraping from a div", "body": "<p>Have you tried the following to get the 8. You can search for a specific span element with the class name to get the inner text.</p>\n\n<p><strong>Note:</strong> I used text file to load the html from your question.</p>\n\n<pre><code>    string htmlFile = File.ReadAllText(@\"TempFile.html\");\n    HtmlDocument doc = new HtmlDocument();\n    doc.LoadHtml(htmlFile);\n    HtmlNode htmlDoc = doc.DocumentNode;\n\n    HtmlNode node = htmlDoc.SelectSingleNode(\"//span[@class='ds-hero-headline ds-schools-display-rating']\");\n    Console.WriteLine(node.InnerText);\n\n    // output: 8\n</code></pre>\n\n<p><strong>Alternate:</strong>\nAnother way is to specify the path that you want the value from, starting from the div element.</p>\n\n<pre><code>    HtmlNode node2 = htmlDoc.SelectSingleNode(\"//div[@class='ds-gs-rating-8']//span[@class='ds-hero-headline ds-schools-display-rating']\");\n    Console.WriteLine(subNode.InnerText);\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>8\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5041354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07351ed401d6407d6ffe4621365f0d9a?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5041354/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 296, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1577602571, "creation_date": 1576699891, "last_edit_date": 1576713748, "question_id": 59399372, "link": "https://stackoverflow.com/questions/59399372/scraping-from-a-div", "title": "Scraping from a div", "body": "<p>I am experimenting with web scraping and I am having trouble scraping a particular value out of some nested div classes. I am using the .NET HtmlAgilityPack class library in a .NET Framework C# Console App. Here is the div code:</p>\n\n<pre><code>&lt;div class=\"ds-nearby-schools-list\"&gt;\n    &lt;div class=\"ds-school-row\"&gt;\n        &lt;div class=\"ds-school-rating\"&gt;\n            &lt;div class=\"ds-gs-rating-8\"&gt;\n                &lt;span class=\"ds-hero-headline ds-schools-display-rating\"&gt;8&lt;/span&gt;\n                &lt;span class=\"ds-rating-denominator ds-legal\"&gt;/10&lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"ds-nearby-schools-info-section\"&gt;\n            &lt;a class=\"ds-school-name ds-standard-label notranslate\" href=\"https://www.greatschools.org/school?id=00870&amp;amp;state=MD\" rel=\"nofollow noopener noreferrer\" target=\"_blank\"&gt;Candlewood Elementary School&lt;/a&gt;\n            &lt;ul class=\"ds-school-info-section\"&gt;\n                &lt;li class=\"ds-school-info\"&gt;\n                    &lt;span class=\"ds-school-key ds-body-small\"&gt;Grades:&lt;/span&gt;\n                    &lt;span class=\"ds-school-value ds-body-small\"&gt;K-5&lt;/span&gt;\n                &lt;/li&gt;\n                &lt;li class=\"ds-school-info\"&gt;\n                    &lt;span class=\"ds-school-key ds-body-small\"&gt;Distance:&lt;/span&gt;\n                    &lt;span class=\"ds-school-value ds-body-small\"&gt;0.8 mi&lt;/span&gt;\n                &lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I want to scrape the \"8\" from the <code>ds-hero-headline ds-schools-display-rating</code> class. I am having trouble formulating the selector for the SelectNodes method on the DocumentNode object of the HtmlNode.HtmlDocument class.</p>\n"}, {"tags": ["c#", "excel", "ssis"], "comments": [{"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 5, "creation_date": 1576699797, "post_id": 59399310, "comment_id": 104987804, "body": "Just try and find out!!"}, {"owner": {"reputation": 163, "user_id": 11380579, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aFiSwzhE2GE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reDt9FKt2eNlyE0UXj7OY74RFlbsQ/mo/photo.jpg?sz=128", "display_name": "Mason Chambers", "link": "https://stackoverflow.com/users/11380579/mason-chambers"}, "reply_to_user": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1576700322, "post_id": 59399310, "comment_id": 104988008, "body": "Does it look like it should work in theory though, or am I breaking some fundamental rules of the language?"}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 1, "creation_date": 1576700730, "post_id": 59399310, "comment_id": 104988146, "body": "This will only break if other sheets e.g. <code>xlApp.Worksheets[2]</code> doesn&#39;t exist in the excel. Add a check before accessing additional sheets."}], "owner": {"reputation": 163, "user_id": 11380579, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aFiSwzhE2GE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reDt9FKt2eNlyE0UXj7OY74RFlbsQ/mo/photo.jpg?sz=128", "display_name": "Mason Chambers", "link": "https://stackoverflow.com/users/11380579/mason-chambers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576699594, "creation_date": 1576699594, "question_id": 59399310, "link": "https://stackoverflow.com/questions/59399310/will-this-work-if-i-change-the-active-sheets-throughout-my-code", "title": "Will this work if I change the active sheets throughout my code?", "body": "<p>I am running a script to format sheets in an existing excel file. Here is what I have now:</p>\n\n<pre><code>public void Main()\n        {\n            string datetime = DateTime.Now.ToString(\"yyyyMMddHHmm\");\n            try\n            {\n                string FileName = Dts.Variables[\"User::DestinationFilePath1\"].Value.ToString();\n                string FolderName = Dts.Variables[\"User::DestinationFolder1\"].Value.ToString();\n\n                Microsoft.Office.Interop.Excel.Application xlApp = new Microsoft.Office.Interop.Excel.Application();\n                xlApp.Visible = false;\n\n                Workbook xlWorkbook = xlApp.Workbooks.Open(FileName);\n                Sheets xlSheets = xlWorkbook.Worksheets;\n                Worksheet sheet = (Worksheet)xlApp.Worksheets[1];\n                sheet.Select(Type.Missing);\n\n\n\n\n                xlWorkbook.Save();\n                xlWorkbook.Close(true);\n\n                Dts.TaskResult = (int)ScriptResults.Success;\n            }\n\n            catch (Exception exception)\n            {\n\n                // Create Log File for Errors\n                using (StreamWriter sw = File.CreateText(Dts.Variables[\"User::DestinationFilePath1\"].Value.ToString()  + datetime + \".log\"))\n                {\n                    sw.WriteLine(exception.ToString());\n                    Dts.TaskResult = (int)ScriptResults.Failure;\n\n                }\n\n             }\n        }\n</code></pre>\n\n<p>It doesn't do anything at the moment, just opens the workbook and sets the active worksheet. There are 3 different sheets in the workbook that I need to format, so would I be able to do this like so?:</p>\n\n<pre><code>   try\n            {\n                string FileName = Dts.Variables[\"User::DestinationFilePath1\"].Value.ToString();\n                string FolderName = Dts.Variables[\"User::DestinationFolder1\"].Value.ToString();\n\n                Microsoft.Office.Interop.Excel.Application xlApp = new Microsoft.Office.Interop.Excel.Application();\n                xlApp.Visible = false;\n\n                Workbook xlWorkbook = xlApp.Workbooks.Open(FileName);\n                Sheets xlSheets = xlWorkbook.Worksheets;\n\n\n                Worksheet sheet = (Worksheet)xlApp.Worksheets[1];\n                sheet.Select(Type.Missing);\n\n                     //do work here\n\n                Worksheet sheet = (Worksheet)xlApp.Worksheets[2];\n                sheet.Select(Type.Missing);\n\n                     //do work here\n\n                Worksheet sheet = (Worksheet)xlApp.Worksheets[3];\n                sheet.Select(Type.Missing);\n\n                     //do work here\n\n                xlWorkbook.Save();\n                xlWorkbook.Close(true);\n\n                Dts.TaskResult = (int)ScriptResults.Success;\n            }\n</code></pre>\n"}, {"tags": ["c#", ".net-core", ".net-core-3.0", "actionresult"], "comments": [{"owner": {"reputation": 1409, "user_id": 7518695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dT38T.jpg?s=128&g=1", "display_name": "GrayCat", "link": "https://stackoverflow.com/users/7518695/graycat"}, "edited": false, "score": 0, "creation_date": 1576699759, "post_id": 59399221, "comment_id": 104987788, "body": "Welcome to StackOverflow! At first sight your return looks odd. Method signature says that you are returning List of Chart, yet in Ok() you create anonymous object. Maybe if you returned Ok(new Chart(...)) it would help?"}, {"owner": {"reputation": 31, "user_id": 11659800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a84e4ccffae8edc0b4c90551e40411b?s=128&d=identicon&r=PG&f=1", "display_name": "llarose40", "link": "https://stackoverflow.com/users/11659800/llarose40"}, "reply_to_user": {"reputation": 1409, "user_id": 7518695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dT38T.jpg?s=128&g=1", "display_name": "GrayCat", "link": "https://stackoverflow.com/users/7518695/graycat"}, "edited": false, "score": 0, "creation_date": 1576702726, "post_id": 59399221, "comment_id": 104988873, "body": "Thank you for your response.  I did try several variations of that.  It turns out it was the definition of the ChartDataSet class.  I posted an example below.  However, I agree with you about the return value.  I will look into changing that to be more flexible and so that it makes more sense."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 11659800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a84e4ccffae8edc0b4c90551e40411b?s=128&d=identicon&r=PG&f=1", "display_name": "llarose40", "link": "https://stackoverflow.com/users/11659800/llarose40"}, "is_accepted": true, "score": 2, "last_activity_date": 1576702546, "creation_date": 1576702546, "answer_id": 59399859, "question_id": 59399221, "link": "https://stackoverflow.com/questions/59399221/return-nested-arrays-in-restful-api-with-dotnet-core-3-0/59399859#59399859", "title": "Return nested arrays in restful api with dotnet core 3.0", "body": "<p>I did not post the definition of the ChartDataSet, but it turns out that is where the problem was.  From a discussion with a colleague, we found that the ChartDataSet attributes were not encapsulated.  After adding {get;set} to each attribute I wanted to return in the API, it seems to be working.</p>\n\n<pre><code>    [Serializable]\npublic class ChartDataSet {\n    public string label {get;set;}\n    public string backgroundColor {get;set;}\n    public List&lt;double&gt; data {get;set;}\n\n    public ChartDataSet(string lbl, string bgcolor, List&lt;double&gt; datavalue)\n    {\n        label = lbl;\n        backgroundColor = bgcolor;\n        data = datavalue;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11659800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a84e4ccffae8edc0b4c90551e40411b?s=128&d=identicon&r=PG&f=1", "display_name": "llarose40", "link": "https://stackoverflow.com/users/11659800/llarose40"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 59399859, "answer_count": 1, "score": 1, "last_activity_date": 1576752145, "creation_date": 1576699190, "last_edit_date": 1576752145, "question_id": 59399221, "link": "https://stackoverflow.com/questions/59399221/return-nested-arrays-in-restful-api-with-dotnet-core-3-0", "title": "Return nested arrays in restful api with dotnet core 3.0", "body": "<p>I'm writing an api call in dotnet core 3.0 and trying to return several objects.  I can return all the objects as long as the information in them is simple.  But, when I have an array of objects (that also contain arrays) the result for that object is empty.</p>\n\n<p>For example, in the following code, the first three items (a c# object, a list of strings and a string) all return values, but the list of chartdatasets is empty in the result of the call.  It is populated when I step through the code on the server side.</p>\n\n<p>Do I have to do something special to return an array of complex objects?</p>\n\n<pre><code>[HttpGet]\npublic ActionResult&lt;List&lt;Chart&gt;&gt; GetCharts()\n{\n    List&lt;string&gt; axisLabels = new List&lt;string&gt;() {\"CLI\",\"MC\",\"MCAL\",\"PAT\",\"PTP\",\"TP\"};\n    string chartTitle = \"Outstanding AR by Fin Group\";\n    ReturnKey retKey = new ReturnKey() {AuthKey = \"asdasdas\", Message = \"OK\"};\n\n    List&lt;ChartDataSet&gt; dataSetList = new List&lt;ChartDataSet&gt;();\n    List&lt;double&gt; cData = new List&lt;double&gt;();\n    cData.Add(37795.59);\n    cData.Add(16839.71);\n    cData.Add(144.89);\n    cData.Add(90);\n    cData.Add(216829.68);\n    cData.Add(1764.52);\n    List&lt;string&gt; cBg = new List&lt;string&gt;();\n    dataSetList.Add(new ChartDataSet(\"Outstanding AR\", cBg, cData));\n\n    return Ok(new {retKey, axisLabels, chartTitle, dataSetList});\n}\n</code></pre>\n\n<p>The result in postman looks like this.</p>\n\n<pre><code>{\n    \"retKey\": {\n        \"authKey\": \"asdasdas\",\n        \"message\": \"OK\"\n    },\n    \"axisLabels\": [\n        \"CLI\",\n        \"MC\",\n        \"MCAL\",\n        \"PAT\",\n        \"PTP\",\n        \"TP\"\n    ],\n    \"chartTitle\": \"Outstanding AR by Fin Group\",\n    \"dataSetList\": [\n        {}\n    ]\n}\n</code></pre>\n"}, {"tags": ["c#", "windows", "iis"], "comments": [{"owner": {"reputation": 1781, "user_id": 864549, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2271f7211035a67a52c8ce9ed6a0dfba?s=128&d=identicon&r=PG", "display_name": "dbarnes", "link": "https://stackoverflow.com/users/864549/dbarnes"}, "edited": false, "score": 0, "creation_date": 1576699777, "post_id": 59399138, "comment_id": 104987794, "body": "Have you tried running with the absolute path? Sometimes IIS doesn&#39;t set the correct current directory so you are creating paths where you don&#39;t think."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2979923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d5c5b208dfa387ce496327a7f002444?s=128&d=identicon&r=PG&f=1", "display_name": "Wrathkear", "link": "https://stackoverflow.com/users/2979923/wrathkear"}, "edited": false, "score": 0, "creation_date": 1576776146, "post_id": 59400544, "comment_id": 105016051, "body": "The AppPool user was added to those permissions, but I&#39;m not sure if the server was restarted. I will do that tonight and update if that works!"}], "tags": [], "owner": {"reputation": 20516, "user_id": 381588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cff6fe4f2e32e4ae131e65a0fda7f88?s=128&d=identicon&r=PG", "display_name": "Iridium", "link": "https://stackoverflow.com/users/381588/iridium"}, "is_accepted": false, "score": 1, "last_activity_date": 1576743028, "last_edit_date": 1576743028, "creation_date": 1576706507, "answer_id": 59400544, "question_id": 59399138, "link": "https://stackoverflow.com/questions/59399138/createsymboliclink-works-in-visual-studio-from-iis-throws-error-1314-a-require/59400544#59400544", "title": "CreateSymbolicLink works in Visual Studio, from IIS throws error 1314 (A required privilege is not held by the client)", "body": "<p>The permission to create symbolic links needs to be granted either to the AppPool user itself, or to the IIS_IUSRS group. It is also necessary to ensure that the process that hosts the IIS service is restarted (just restarting IIS may not be sufficient if other services are also hosted in the same process. It may therefore be easiest just to reboot the server).</p>\n\n<p>Once the above is done, it should be possible to create symbolic links from an IIS application (at least, it worked on my server).</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 2979923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d5c5b208dfa387ce496327a7f002444?s=128&d=identicon&r=PG&f=1", "display_name": "Wrathkear", "link": "https://stackoverflow.com/users/2979923/wrathkear"}, "edited": false, "score": 0, "creation_date": 1576776784, "post_id": 59407783, "comment_id": 105016294, "body": "I added an edit to show the method I used to create the link.  I also tried using ProcMon on all three servers and filter for kernel32.dll in the path, but never found anything of note with that. I&#39;ll use a few different filters to see if I find anything!"}], "tags": [], "owner": {"reputation": 2795, "user_id": 11944612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/278c2eeb5b26a5c4831612e5a288c936?s=128&d=identicon&r=PG&f=1", "display_name": "Jokies Ding", "link": "https://stackoverflow.com/users/11944612/jokies-ding"}, "is_accepted": false, "score": 0, "last_activity_date": 1576751357, "creation_date": 1576751357, "answer_id": 59407783, "question_id": 59399138, "link": "https://stackoverflow.com/questions/59399138/createsymboliclink-works-in-visual-studio-from-iis-throws-error-1314-a-require/59407783#59407783", "title": "CreateSymbolicLink works in Visual Studio, from IIS throws error 1314 (A required privilege is not held by the client)", "body": "<p>Did you create symbolic link via run Process cmd.exe with mklink commandline?</p>\n\n<ol>\n<li>I just create a new user and add it to domain Administrator group. </li>\n<li>Then I login with that user and check whether mklink can be executed under this accound(work).</li>\n<li>I just go back to the original IIS Server and set it as my application pool identity.\nFinally I am able to see the output tell me it has created symbolic link correctly.</li>\n</ol>\n\n<p>I didn't change any permission for my authenticated user (IUSR).\n<a href=\"https://i.stack.imgur.com/9IVB0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9IVB0.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Z2NDL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z2NDL.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/iwViN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iwViN.png\" alt=\"enter image description here\"></a></p>\n\n<p>Process monitor would help you check access denied error regarding system or application I/O. Maybe your environment require extra permission.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/sysinternals/downloads/procmon\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/sysinternals/downloads/procmon</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2979923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d5c5b208dfa387ce496327a7f002444?s=128&d=identicon&r=PG&f=1", "display_name": "Wrathkear", "link": "https://stackoverflow.com/users/2979923/wrathkear"}, "is_accepted": true, "score": 0, "last_activity_date": 1577721874, "creation_date": 1577721874, "answer_id": 59533631, "question_id": 59399138, "link": "https://stackoverflow.com/questions/59399138/createsymboliclink-works-in-visual-studio-from-iis-throws-error-1314-a-require/59533631#59533631", "title": "CreateSymbolicLink works in Visual Studio, from IIS throws error 1314 (A required privilege is not held by the client)", "body": "<p>After weeks of trying to diagnose this problem, the issue was a setting in IIS.</p>\n\n<p>I went to the Application Pool, clicked on \"Set Application Pool Defaults...\", and the setting for \"Load User Profile\" was set to false. Setting this to true allowed IIS to create the symbolic link.</p>\n\n<p>The odd part was in ProcMon I was seeing the domain account I created log in and make the folders and shortcuts before I made this change, it just wasn't making the symbolic link. I'm not entirely sure what this change did in the background, but whatever it was worked!</p>\n"}], "owner": {"reputation": 1, "user_id": 2979923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d5c5b208dfa387ce496327a7f002444?s=128&d=identicon&r=PG&f=1", "display_name": "Wrathkear", "link": "https://stackoverflow.com/users/2979923/wrathkear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 59533631, "answer_count": 3, "score": 0, "last_activity_date": 1577721874, "creation_date": 1576698690, "last_edit_date": 1577383958, "question_id": 59399138, "link": "https://stackoverflow.com/questions/59399138/createsymboliclink-works-in-visual-studio-from-iis-throws-error-1314-a-require", "title": "CreateSymbolicLink works in Visual Studio, from IIS throws error 1314 (A required privilege is not held by the client)", "body": "<p>I've been scouring the Stack and the Net for a week and a half trying to figure out this problem with no success.</p>\n\n<p>I have a website deployed to IIS 8 on Windows Server 2012. On my website I wrote a method to create a Directory structure on a different server.  In that structure are folders (works), shortcuts to files (works), and one symbolic link to a folder on a third server (ISSUE).</p>\n\n<p>When running through Visual Studio this symbolic link is created without error. When published to IIS the symbolic link is not created.  Through Marshall.GetLastWin32Error() I found the Error code 1314 being thrown, A required privilege is not held by the client.</p>\n\n<p>Things I've done so far:</p>\n\n<ol>\n<li>Set the Application Pool identity to run as an Active Directory account I created.</li>\n<li>Added the account to the Administrator group on all three servers.</li>\n<li>Under Local Policy, added the account to the \"Create Symbolic Links\" policy on all three servers.</li>\n<li>Under Local Policy, made sure \"User Account Control: Run all administrators in Admin Approval Mode\" is disabled on all three servers.</li>\n<li>Added IUSR to \"Create Symbolic Links\" policy on all 3 servers.</li>\n</ol>\n\n<p>I'm assuming the issue is somewhere within IIS, since it runs wonderfully through VS.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>The method I'm calling is</p>\n\n<pre><code>[DllImport(\"kernel32.dll\", CharSet = CharSet.Auto, SetLastError = true)]\n    public static extern bool CreateSymbolicLink(string lpSymlinkFileName, string lpTargetFileName, int dwFlags);\n\nCreateSymbolicLink(\"{FolderName}\", @\"//{servername}/{path}/\", 0x1)\n</code></pre>\n\n<p><strong>EDIT 2</strong>\nI'm starting from scratch with the permissions and security settings and trying Jokies' steps.  Will hopefully have an update tomorrow</p>\n"}, {"tags": ["c#", "ssl", "tls1.2", "hangfire"], "comments": [{"owner": {"reputation": 11500, "user_id": 177018, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/353d5ea02ff68805601aed1e1e84a60f?s=128&d=identicon&r=PG", "display_name": "Ergwun", "link": "https://stackoverflow.com/users/177018/ergwun"}, "edited": false, "score": 0, "creation_date": 1591102038, "post_id": 59399100, "comment_id": 109922731, "body": "I think we might have a similar problem with Http requests made inside Hangfire jobs not picking the correct security protocol despite us setting <code>ServicePointManager.SecurityProtocol</code> appropriately. Did you solve this yet?"}], "owner": {"reputation": 5620, "user_id": 2147704, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/IaUa8.jpg?s=128&g=1", "display_name": "Adrian Rosca", "link": "https://stackoverflow.com/users/2147704/adrian-rosca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576698426, "creation_date": 1576698426, "question_id": 59399100, "link": "https://stackoverflow.com/questions/59399100/the-request-was-aborted-could-not-create-ssl-tls-secure-channel-error-with-hang", "title": "The request was aborted: Could not create SSL/TLS secure channel error with Hangfire", "body": "<p>I had this error before (without Hangfire) and at that time I solved it with adding this line before the <code>WebRequest</code>:</p>\n\n<pre><code>ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12\n</code></pre>\n\n<p>But now I'm calling a WebRequest with Hangfire, that queues up a BackgroundJob and get this error.</p>\n\n<p>I've tried to add the <code>ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12</code> in the Startup.cs of the Hangfire.</p>\n\n<p>I also tried to put it right before the <code>WebRequest</code>, to no avail.</p>\n\n<p>Also tried all sorts of variants of the SecurityProtocol, such as:</p>\n\n<pre><code>ServicePointManager.SecurityProtocol |= SecurityProtocolType.Tls11 | SecurityProtocolType.Tls12;\n</code></pre>\n\n<p>But it still poops the error.</p>\n"}, {"tags": ["c#", "serilog"], "comments": [{"owner": {"reputation": 8496, "user_id": 1009661, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/776dff440138550ac0e34a1712a60e2a?s=128&d=identicon&r=PG", "display_name": "tukaef", "link": "https://stackoverflow.com/users/1009661/tukaef"}, "edited": false, "score": 0, "creation_date": 1576698673, "post_id": 59399048, "comment_id": 104987365, "body": "If I got it right, all you need is an injection factory that will create a specific logger whenever you resolve one... Something similar to what <a href=\"https://github.com/nblumhardt/autofac-serilog-integration\" rel=\"nofollow noreferrer\">autofac-serilog-integration</a> does."}, {"owner": {"reputation": 43, "user_id": 11559371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7c0702c5fe27c9032b8ffe93d4da7b?s=128&d=identicon&r=PG&f=1", "display_name": "RamDin", "link": "https://stackoverflow.com/users/11559371/ramdin"}, "reply_to_user": {"reputation": 8496, "user_id": 1009661, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/776dff440138550ac0e34a1712a60e2a?s=128&d=identicon&r=PG", "display_name": "tukaef", "link": "https://stackoverflow.com/users/1009661/tukaef"}, "edited": false, "score": 0, "creation_date": 1576785660, "post_id": 59399048, "comment_id": 105019753, "body": "Sorry. No. As I wrote, the existing code has ILogger injected. But I wanted to inject ILogger&lt;T&gt;. But as pointed out in the &quot;NEW&quot; section of code, I cant inject ILogger&lt;Child&gt; into base ctor which expects &quot;ILogger&lt;Base&gt;.  I am confused if we have to inject ILogger&lt;T&gt; into base at all. I feel each Child should have its own Logger and the Base should have its own logger."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 1, "creation_date": 1576789174, "post_id": 59399048, "comment_id": 105020973, "body": "I highly recommend reading <a href=\"https://stackoverflow.com/questions/41243485/simple-injector-register-iloggert-by-using-iloggerfactory-createloggert/41244169#41244169\">Simple Injector: Register ILogger&lt;T&gt; by using ILoggerFactory.CreateLogger&lt;T&gt;()</a>.  You can reduces your dependencies to <code>ILogger</code>."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1576789511, "post_id": 59399048, "comment_id": 105021066, "body": "Why does the base class have it&#39;s own logger type, why not just <code>ILogger</code>?"}, {"owner": {"reputation": 43, "user_id": 11559371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7c0702c5fe27c9032b8ffe93d4da7b?s=128&d=identicon&r=PG&f=1", "display_name": "RamDin", "link": "https://stackoverflow.com/users/11559371/ramdin"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1576795553, "post_id": 59399048, "comment_id": 105022947, "body": "@ErikPhilips - I will have a look at the link you suggested. However to answer your question, since am refactoring a huge no of existing services by injecting a New IMyLogger&lt;T&gt;, I want to ensure least changes. Why I use ILogger&lt;T&gt; is following MS recommendation of getting the type context the efficient/elegant way."}, {"owner": {"reputation": 43, "user_id": 11559371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7c0702c5fe27c9032b8ffe93d4da7b?s=128&d=identicon&r=PG&f=1", "display_name": "RamDin", "link": "https://stackoverflow.com/users/11559371/ramdin"}, "edited": false, "score": 0, "creation_date": 1576795769, "post_id": 59399048, "comment_id": 105023000, "body": "@ErikPhilips- And by its own logger type I meant in general each class in a chain of Dependent classes will have its own logger injected via constructor but will not be passed to the Base it derives from. This way each class can have its own ILogger&lt;Myself&gt; setup via DI. In Current implementation all Children just pass the ILogger to the Base which logs thereby losing context."}, {"owner": {"reputation": 43, "user_id": 11559371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7c0702c5fe27c9032b8ffe93d4da7b?s=128&d=identicon&r=PG&f=1", "display_name": "RamDin", "link": "https://stackoverflow.com/users/11559371/ramdin"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1576796738, "post_id": 59399048, "comment_id": 105023270, "body": "@ErikPhilips - Read the article. Thanks it opened up my understanding. But my issue is IMyLogger&lt;T&gt; is my own implementation and doesnt derive from ILogger&lt;T&gt;. I have a class MyLogger&lt;T&gt;. In its constructor I set up the actual Serilog Logger as &quot;_logger = Log.ForContext&lt;T&gt;(). So you can call the MyLogger as a Facade which hides the Serilog implementation."}], "answers": [{"comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1576789312, "post_id": 59416660, "comment_id": 105021006, "body": "Static Factory Method?  Yikes."}, {"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 1, "creation_date": 1576789866, "post_id": 59416660, "comment_id": 105021159, "body": "@ErikPhilips: Can you elaborate? As much as I prefer injection normally, I&#39;ve found that its benefits mostly don&#39;t apply to loggers. Are there times when you&#39;ve been bitten by using a static factory method to acquire a logger? Things you do with your loggers that you wouldn&#39;t be able to do if you were using static factory methods? I love hearing other people&#39;s experiences."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1576790111, "post_id": 59416660, "comment_id": 105021238, "body": "How do you configure a Static Method Logger?  Also this now requires every programmer to have <a href=\"https://en.wikipedia.org/wiki/Tribal_knowledge\" rel=\"nofollow noreferrer\">Tribal Knowledge</a> on how to create a Logger, which is why DI exists in the first place, so people don&#39;t need to know how to create interfaces."}, {"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1576790281, "post_id": 59416660, "comment_id": 105021301, "body": "In a static way. <code>Log.Logger = loggerConfiguration.CreateLogger();</code> I haven&#39;t found a need to inject different logging configurations into different services."}, {"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1576791009, "post_id": 59416660, "comment_id": 105021522, "body": "@ErikPhilips: Regarding tribal knowledge, I don&#39;t think you read my answer thoroughly. My actual code just says <code>LogTo.Debug(&quot;Some message&quot;)</code>, which requires no more tribal knowledge than injecting an <code>ILogger</code>. Fody Weavers do the magic to produce a logger and add a bunch of contextual information to it for me."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1576791309, "post_id": 59416660, "comment_id": 105021653, "body": "I&#39;m certainly not going to argue any more about the merits of DI over Static Factory Methods."}, {"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1576792435, "post_id": 59416660, "comment_id": 105022031, "body": "I&#39;m certainly not going to ask you to. <a href=\"https://stackoverflow.com/a/13714035/120955\">You&#39;d be preaching to the choir.</a> <a href=\"https://stackoverflow.com/q/3480332/120955\">I&#39;ve used</a> dependency injection to get my logger instances, so I&#39;ve seen some pros and cons inherent to that approach. I&#39;m here sharing lessons from my experience. If you have had experiences I haven&#39;t had, then I want to learn from you as well."}], "tags": [], "owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "is_accepted": false, "score": 1, "last_activity_date": 1576790852, "last_edit_date": 1576790852, "creation_date": 1576788139, "answer_id": 59416660, "question_id": 59399048, "link": "https://stackoverflow.com/questions/59399048/in-c-serilog-how-to-handle-this-design-refactoring-where-generic-interfaces/59416660#59416660", "title": "In C# (serilog) , How to handle this design refactoring where Generic Interfaces + Parent/Child relationships can be retained in a correct way?", "body": "<h2>Fody Anotar</h2>\n\n<blockquote>\n  <p>Why I need to introduce a generic Logger is to bind a type to the Logger implementation which I can use later as my Serilog Source Context.</p>\n</blockquote>\n\n<p>I've had a lot of success using the <code>Anotar.Serilog</code> add-in for Fody, so I don't have to worry about details like this.</p>\n\n<h3>Your Code</h3>\n\n<pre><code>public class MyClass\n{\n    void MyMethod()\n    {\n        LogTo.Debug(\"TheMessage\");\n    }\n}\n\n</code></pre>\n\n<h3>What gets compiled</h3>\n\n<pre><code>public class MyClass\n{\n    static ILogger logger = Log.ForContext&lt;MyClass&gt;();\n\n    void MyMethod()\n    {\n        if (logger.IsEnabled(LogEventLevel.Debug))\n        {\n            logger\n                .ForContext(\"MethodName\", \"Void MyMethod()\")\n                .ForContext(\"LineNumber\", 8)\n                .Debug(\"TheMessage\");\n        }\n    }\n}\n</code></pre>\n\n<p>The one potential draw-back is that you can't easily test the logging behavior of your class in unit tests, because you're not invoking an injected, mockable interface. But I've tried a lot of different approaches over the years, and this one has far-and-away the most advantages and the fewest disadvantages. Besides, I've come to feel that logging is a cross-cutting concern that's kind of set apart from the normal rules of software architecture.</p>\n\n<p>See <a href=\"https://github.com/Fody/Anotar\" rel=\"nofollow noreferrer\">https://github.com/Fody/Anotar</a></p>\n\n<h2>Avoiding generics with injection</h2>\n\n<p>But if you really like using an injected ILogger, you should be able to avoid injecting a generic type. Inject a non-generic <code>ILogger</code> instead. The details will depend on your DI framework, but they pretty much all will allow you to define injection using a factory that is aware of the type that you're injecting into. You can pass that type into <a href=\"https://github.com/aspnet/Extensions/blob/master/src/Logging/Logging.Abstractions/src/LoggerFactoryExtensions.cs\" rel=\"nofollow noreferrer\">the <code>CreateLogger(ILoggerFactory, Type)</code> extension method</a>.</p>\n\n<p>Of course, that means when your Base class emits a log message it will appear to be coming from its child class, which seems weird to me. You could use Property Injection instead of Constructor Injection for your loggers to avoid this.</p>\n\n<p>Or you could avoid the problem entirely by re-architecting your classes to favor composition over inheritance. Usually you can just inject the Parent class into the Child class as a dependency, and end up with a better design pattern in the long run.</p>\n"}], "owner": {"reputation": 43, "user_id": 11559371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7c0702c5fe27c9032b8ffe93d4da7b?s=128&d=identicon&r=PG&f=1", "display_name": "RamDin", "link": "https://stackoverflow.com/users/11559371/ramdin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 407, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576803997, "creation_date": 1576698153, "last_edit_date": 1576803997, "question_id": 59399048, "link": "https://stackoverflow.com/questions/59399048/in-c-serilog-how-to-handle-this-design-refactoring-where-generic-interfaces", "title": "In C# (serilog) , How to handle this design refactoring where Generic Interfaces + Parent/Child relationships can be retained in a correct way?", "body": "<p>We have existing services where interface for Logging is injected into Child constructors and passed on to its parents (base). </p>\n\n<p>Existing:</p>\n\n<pre><code>Public class Child: Parent\n    public Ctor(ILogger logger) : base(ILogger logger)\n</code></pre>\n\n<p>New: (Modified ILogger to IMyLogger which internally uses Serilog Logger APIs for logging)</p>\n\n<pre><code>Public class Child: Parent\n    public Ctor(IMyLogger&lt;Child&gt; logger) : base(IMyLogger&lt;Parent&gt; logger)\n</code></pre>\n\n<p><strong>The above will obviously not work.</strong> But I need to work around this because these constructors are mostly used only Unittesting purposes or to retain a certain hierarchy chain which will be used while registering with DI framework!</p>\n\n<p>Why I need to introduce a generic Logger is to bind a type to the Logger implementation which I can use later as my Serilog Source Context. </p>\n\n<p>2 ways I can fix the above refactoring:</p>\n\n<p><strong>Options</strong></p>\n\n<ol>\n<li>Retain <code>ILogger</code> and not make in Generic. Use <code>StackFrames</code> to find the caller Type and assign it to <code>SourceContext</code> which will later be logged</li>\n<li>Refactor <code>ILogger</code> to <code>ILogger&lt;T&gt;</code> but not pass the logger to base constructor. </li>\n</ol>\n\n<pre><code>Public class Child: Parent\n    public Ctor(ILogger&lt;Child&gt; logger) : base()\n</code></pre>\n\n<p>Option 1 uses reflection and we can never rely on the Stack Frames to find the correct method which made the Logging call. Also performance will be impacted.</p>\n\n<p>I feel option 2 is a cleaner way where each <code>Child</code> will have its own <code>Context</code> based <code>Logger&lt;Myself&gt;</code> which can later be mocked in Unit Tests.</p>\n\n<p>Loggers should be one each for each service I feel. But am open to get pounded by varying thoughts and other better ways to handle this design. :-)</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 2, "creation_date": 1576697780, "post_id": 59398945, "comment_id": 104986969, "body": "shouldn&#39;t it be v_firstname and v_lastname"}, {"owner": {"reputation": 279, "user_id": 10156802, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160646827615058/picture?type=large", "display_name": "ExecChef", "link": "https://stackoverflow.com/users/10156802/execchef"}, "reply_to_user": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1576698822, "post_id": 59398945, "comment_id": 104987418, "body": "@Clint - Ha!  What an idiot, I feel like!!  All this time, I have been working from the wrong Model!  I was calling host names from visitor model (thus the v_).  I need new glasses for sure.  Thank you for being a second pair of eyes.  That has resolved my issue.  Tonight, I will down a few shots in your honor!!!  Thank you!!"}, {"owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 1, "creation_date": 1576700483, "post_id": 59398945, "comment_id": 104988062, "body": "We all do it, an extra pair of eyes can do wonders :D"}, {"owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1579099653, "post_id": 59398945, "comment_id": 105653784, "body": "Hi @ExecChef, would you be able to mark the answer has resolved, when you have time, so that it serves as a reference to the community"}, {"owner": {"reputation": 279, "user_id": 10156802, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160646827615058/picture?type=large", "display_name": "ExecChef", "link": "https://stackoverflow.com/users/10156802/execchef"}, "reply_to_user": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1580137227, "post_id": 59398945, "comment_id": 105989222, "body": "@clint  - Done :)  Sorry it took so long."}, {"owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1580137311, "post_id": 59398945, "comment_id": 105989269, "body": "hey nps, thanks and you have a good day !!"}], "answers": [{"tags": [], "owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "is_accepted": true, "score": 0, "last_activity_date": 1576700466, "creation_date": 1576700466, "answer_id": 59399466, "question_id": 59398945, "link": "https://stackoverflow.com/questions/59398945/concatenating-multiple-fields-in-model-to-display-in-listbox/59399466#59399466", "title": "Concatenating multiple fields in Model to display in ListBox", "body": "<p><strong>Code Correction</strong></p>\n\n<p>As per OP, below correction fixed it</p>\n\n<pre><code>[NotMapped]\npublic string fullname\n{\n    get { return v_lastname + \", \" + v_firstname + \", \" + h_phone; }\n}\n</code></pre>\n"}], "owner": {"reputation": 279, "user_id": 10156802, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160646827615058/picture?type=large", "display_name": "ExecChef", "link": "https://stackoverflow.com/users/10156802/execchef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 59399466, "answer_count": 1, "score": 0, "last_activity_date": 1576700466, "creation_date": 1576697591, "last_edit_date": 1576698241, "question_id": 59398945, "link": "https://stackoverflow.com/questions/59398945/concatenating-multiple-fields-in-model-to-display-in-listbox", "title": "Concatenating multiple fields in Model to display in ListBox", "body": "<p>I am trying to concatenate three fields to display in a ListBox.  I have tried both in the Model and in the code behind the Windows Form.  Seems like, I can pull one field and it works.  But as soon as I try to concatenate fields, it fails.</p>\n\n<p>I have googled and tried concatenating the fields in the model, several different ways. No success.</p>\n\n<p>Here is my Model (the part that is relevant)</p>\n\n<pre><code>[Key]\npublic int transaction_id { get; set; }\n\n[StringLength(1)]\npublic string v_noaccess_flag { get; set; }\n\n[Required]\n[StringLength(50)]\npublic string v_lastname { get; set; }\n\n[Required]\n[StringLength(25)]\npublic string v_firstname { get; set; }\n\n[StringLength(12)]\npublic string h_phone { get; set; }\n\n[NotMapped]\npublic string fullname\n{\n    get { return h_lastname + \", \" + h_firstname + \", \" + h_phone; }\n}\n\npublic int ID { set { transaction_id = value; } }\n</code></pre>\n\n<p>And Here is the code that I use to populate the ListBox</p>\n\n<pre><code>try\n{\n    // Find results that match the last name field, entered in Textbox1 by user\n    var lstNames = oBadger_Host.EntityList.Where(a =&gt; a.h_lastname == textBox1.Text.Trim()).ToList();\n\n    listBox1.DisplayMember = \"fullname\";\n    listBox1.ValueMember = \"ID\";\n    listBox1.DataSource = lstNames;\n    listBox1.Refresh();\n    listBox1.Update();              \n\n}\n</code></pre>\n\n<p>When I run it as is above, My ListBox is populated with the following (for each time there is a record associated to the last name)</p>\n\n<p>Badger.Business.Badger_Host</p>\n\n<p>Badger.Business is namespace.  Badger_Host is model</p>\n\n<p>I can confirm the ID is working in the NotMapped fields.  Because, if I set the DisplayMember = \"ID\" I get the correct ID's for each record to display.</p>\n\n<p>I can't figure out what's wrong with my concatenation. What am I doing wrong here?  I have been working on this for almost two days now and, my lack of experience in C# and being 12 years since I worked with Windows Forms has me at a brick wall</p>\n"}, {"tags": ["c#", ".net", "asp.net-mvc", "identityserver4"], "comments": [{"owner": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 0, "creation_date": 1576701292, "post_id": 59398830, "comment_id": 104988360, "body": "Does it run outside VS?"}, {"owner": {"reputation": 21, "user_id": 12560768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c940a77646efcd372ea42503254187e?s=128&d=identicon&r=PG&f=1", "display_name": "Martien Poels", "link": "https://stackoverflow.com/users/12560768/martien-poels"}, "reply_to_user": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 0, "creation_date": 1576738596, "post_id": 59398830, "comment_id": 104997529, "body": "No. I ran it as a container, Same problem."}, {"owner": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 0, "creation_date": 1576744949, "post_id": 59398830, "comment_id": 104999950, "body": "So you only update VS, build your code, deploy into a container, same code, exact versions of all referenced components and somehow the code works or not depending on which VS was used to build it?"}, {"owner": {"reputation": 21, "user_id": 12560768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c940a77646efcd372ea42503254187e?s=128&d=identicon&r=PG&f=1", "display_name": "Martien Poels", "link": "https://stackoverflow.com/users/12560768/martien-poels"}, "reply_to_user": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 0, "creation_date": 1576750304, "post_id": 59398830, "comment_id": 105002672, "body": "Yeah it looked like that. But it&#39;s getting worse, I tried to downgrade my workpc. I had to cleanout the ms vs 2019 directory in order to install 16.3.10. After install sdk&#39;s where missing and I installed them from the .net core website. Then even with 16.3.10 the code does not run. It&#39;s driving me nuts!"}, {"owner": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 0, "creation_date": 1576756512, "post_id": 59398830, "comment_id": 105005636, "body": "Could you compare then your external references, one by one, and check which specific reference has <b>different</b> version in the build that doesn&#39;t work? This could be the culprit."}], "answers": [{"comments": [{"owner": {"reputation": 464, "user_id": 6027311, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6678a6e288a9451aea42db16a3efba78?s=128&d=identicon&r=PG&f=1", "display_name": "DonnyTian", "link": "https://stackoverflow.com/users/6027311/donnytian"}, "edited": false, "score": 0, "creation_date": 1601394228, "post_id": 59422232, "comment_id": 113391454, "body": "This answer saved my life! And please note that &quot;app.UseCookiePolicy();&quot; must appear after &quot;app.UseIdentityServer();&quot;. I spent hours to figure this out..."}], "tags": [], "owner": {"reputation": 21, "user_id": 12560768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c940a77646efcd372ea42503254187e?s=128&d=identicon&r=PG&f=1", "display_name": "Martien Poels", "link": "https://stackoverflow.com/users/12560768/martien-poels"}, "is_accepted": false, "score": 2, "last_activity_date": 1576863891, "last_edit_date": 1576863891, "creation_date": 1576831484, "answer_id": 59422232, "question_id": 59398830, "link": "https://stackoverflow.com/questions/59398830/identityserver4-not-handling-implicit-logon-flow-after-updating-vs2019-to-versio/59422232#59422232", "title": "IdentityServer4 not handling implicit logon flow after updating VS2019 to version 16.4.2", "body": "<p>The problem was not with VS2019 but with the installed version of .netCore. As of .net Core 3.0.1 and higher cookie policy handling has changed!</p>\n\n<p>With the link <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/samesite?view=aspnetcore-3.1\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/security/samesite?view=aspnetcore-3.1</a>. and the help of Chriss Ross I managed to solve the issue.  I modified the sections as suggested and now it works like a charm, I tested chrome, firefox, edge and internetexplore. All good!</p>\n\n<p>Step 1:\nModify Configure section in startup and add UseCookiePolicy</p>\n\n<pre><code>app.UseIdentityServer();\napp.UseRouting();\napp.UseCookiePolicy();\napp.UseAuthentication();\napp.UseAuthorization();\n</code></pre>\n\n<p>Step 2:\nModify Configure services:</p>\n\n<pre><code>// Cookie policy stuff\nservices.Configure&lt;CookiePolicyOptions&gt;(options =&gt;\n{\n    options.MinimumSameSitePolicy = (SameSiteMode) (-1);\n    options.OnAppendCookie = cookieContext =&gt;\n        CheckSameSite(cookieContext.Context, cookieContext.CookieOptions);\n    options.OnDeleteCookie = cookieContext =&gt;\n        CheckSameSite(cookieContext.Context, cookieContext.CookieOptions);\n});\n</code></pre>\n\n<p>Step 3: Add Checking code in startup</p>\n\n<pre><code>private void CheckSameSite(HttpContext httpContext, CookieOptions options)\n{\n    if (options.SameSite == SameSiteMode.None)\n    {\n        var userAgent = httpContext.Request.Headers[\"User-Agent\"].ToString();\n        if (DisallowsSameSiteNone(userAgent))\n        {\n            options.SameSite = (SameSiteMode) (-1);\n        }\n    }\n}\n\nprivate bool DisallowsSameSiteNone(string userAgent)\n{\n    // Cover all iOS based browsers here. This includes:\n    // - Safari on iOS 12 for iPhone, iPod Touch, iPad\n    // - WkWebview on iOS 12 for iPhone, iPod Touch, iPad\n    // - Chrome on iOS 12 for iPhone, iPod Touch, iPad\n    // All of which are broken by SameSite=None, because they use the iOS networking\n    // stack.\n    if (userAgent.Contains(\"CPU iPhone OS 12\") ||\n    userAgent.Contains(\"iPad; CPU OS 12\"))\n    {\n        return true;\n    }\n\n    // Cover Mac OS X based browsers that use the Mac OS networking stack. \n    // This includes:\n    // - Safari on Mac OS X.\n    // This does not include:\n    // - Chrome on Mac OS X\n    // Because they do not use the Mac OS networking stack.\n    if (userAgent.Contains(\"Macintosh; Intel Mac OS X 10_14\") &amp;&amp;\n        userAgent.Contains(\"Version/\") &amp;&amp; userAgent.Contains(\"Safari\"))\n    {\n        return true;\n    }\n\n    // Cover Chrome 50-69, because some versions are broken by SameSite=None, \n    // and none in this range require it.\n    // Note: this covers some pre-Chromium Edge versions, \n    // but pre-Chromium Edge does not require SameSite=None.\n    if (userAgent.Contains(\"Chrome/5\") || userAgent.Contains(\"Chrome/6\"))\n    {\n        return true;\n    }\n\n    return false;\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 12560768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c940a77646efcd372ea42503254187e?s=128&d=identicon&r=PG&f=1", "display_name": "Martien Poels", "link": "https://stackoverflow.com/users/12560768/martien-poels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 730, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576966402, "creation_date": 1576697087, "last_edit_date": 1576966402, "question_id": 59398830, "link": "https://stackoverflow.com/questions/59398830/identityserver4-not-handling-implicit-logon-flow-after-updating-vs2019-to-versio", "title": "IdentityServer4 not handling implicit logon flow after updating VS2019 to version 16.4.2", "body": "<p>I have had IdentityServer4 running for a few months and it's working perfectly. After updating VS2019 from 16.3.10 to 16.4.2 the implicit logon flow is not working any more. The user gets authenticated, but when the callback connect/authorize is initiated the user is not authenticated any more and the user trying to logon get the logon screen again. It took me four hours to find what was causing this. I had a system at home which ran the software fine, while running the same software on my workstation at work showed the faulty behaviour. When I updated my home system to the latest version I ended up with the version not working any more. </p>\n\n<p>I cannot update Identityserver. I already tried the latest version 2.5.4 instead of stable 3.0.2 but that does not cure the problem. I also tried .net core 3.1 instead of 3.0. No difference.</p>\n\n<p>I'm testing with the Oauth2 capability with the \"implicit\" logon feature of Postman which worked perfectly fine up to now. I always received a JWT token without problems. </p>\n\n<p>Beneath is the log:</p>\n\n<pre><code>info: Microsoft.AspNetCore.Hosting.Diagnostics[1]\n      Request starting HTTP/1.1 POST http://localhost:51131/account/enterpassword application/x-www-form-urlencoded 466\ninfo: Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware[10]\n      No CORS policy found for the specified request.\ninfo: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]\n      Executing endpoint 'IdentityServer4.Quickstart.UI.AccountController.EnterPassword (Identity)'\ninfo: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[3]\n      Route matched with {action = \"EnterPassword\", controller = \"Account\"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EnterPassword(IdentityServer4.Quickstart.UI.LoginInputModel, System.String) on controller IdentityServer4.Quickstart.UI.AccountController (Identity).\ninfo: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[10]\n      AuthenticationScheme: idsrv signed in.\ninfo: Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor[1]\n      Executing RedirectResult, redirecting to /connect/authorize/callback?response_type=token&amp;state&amp;client_id=openIdConnectClient&amp;scope=apiservice.user&amp;redirect_uri=https%3A%2F%2Fdev-api.bank2loyalty.com%2Fsignin-oidc.\ninfo: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[2]\n      Executed action IdentityServer4.Quickstart.UI.AccountController.EnterPassword (Identity) in 567.556ms\ninfo: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]\n      Executed endpoint 'IdentityServer4.Quickstart.UI.AccountController.EnterPassword (Identity)'\ninfo: Microsoft.AspNetCore.Hosting.Diagnostics[2]\n      Request finished in 585.8635ms 302 \ninfo: Microsoft.AspNetCore.Hosting.Diagnostics[1]\n      Request starting HTTP/1.1 GET http://localhost:51131/connect/authorize/callback?response_type=token&amp;state&amp;client_id=openIdConnectClient&amp;scope=apiservice.user&amp;redirect_uri=https%3A%2F%2Fdev-api.bank2loyalty.com%2Fsignin-oidc  \ninfo: IdentityServer4.Hosting.IdentityServerMiddleware[0]\n      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback\ninfo: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator[0]\n      Showing login: User is not authenticated\n</code></pre>\n\n<p>I managed to install 16.3.10 by downloading it from the VS2019 site.\nAnd guess what, it works again see below log. But how to resolve this?</p>\n\n<pre><code>info: Microsoft.AspNetCore.Hosting.Diagnostics[1]\n      Request starting HTTP/1.1 GET http://localhost:51131/account/enterpassword  \ninfo: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]\n      Executing endpoint 'IdentityServer4.Quickstart.UI.AccountController.EnterPassword (Identity)'\ninfo: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[3]\n      Route matched with {action = \"EnterPassword\", controller = \"Account\"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EnterPassword() on controller IdentityServer4.Quickstart.UI.AccountController (Identity).\ninfo: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]\n      Executing ViewResult, running view EnterPassword.\ninfo: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]\n      Executed ViewResult - view EnterPassword executed in 19.181900000000002ms.\ninfo: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[2]\n      Executed action IdentityServer4.Quickstart.UI.AccountController.EnterPassword (Identity) in 475.66540000000003ms\ninfo: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]\n      Executed endpoint 'IdentityServer4.Quickstart.UI.AccountController.EnterPassword (Identity)'\ninfo: Microsoft.AspNetCore.Hosting.Diagnostics[2]\n      Request finished in 490.25820000000004ms 200 text/html; charset=utf-8\ninfo: Microsoft.AspNetCore.Hosting.Diagnostics[1]\n      Request starting HTTP/1.1 POST http://localhost:51131/account/enterpassword application/x-www-form-urlencoded 466\ninfo: Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware[10]\n      No CORS policy found for the specified request.\ninfo: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]\n      Executing endpoint 'IdentityServer4.Quickstart.UI.AccountController.EnterPassword (Identity)'\ninfo: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[3]\n      Route matched with {action = \"EnterPassword\", controller = \"Account\"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EnterPassword(IdentityServer4.Quickstart.UI.LoginInputModel, System.String) on controller IdentityServer4.Quickstart.UI.AccountController (Identity).\ninfo: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[10]\n      AuthenticationScheme: idsrv signed in.\ninfo: Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor[1]\n      Executing RedirectResult, redirecting to /connect/authorize/callback?response_type=token&amp;state&amp;client_id=openIdConnectClient&amp;scope=apiservice.user&amp;redirect_uri=https%3A%2F%2Fdev-api.bank2loyalty.com%2Fsignin-oidc.\ninfo: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[2]\n      Executed action IdentityServer4.Quickstart.UI.AccountController.EnterPassword (Identity) in 514.2881ms\ninfo: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]\n      Executed endpoint 'IdentityServer4.Quickstart.UI.AccountController.EnterPassword (Identity)'\ninfo: Microsoft.AspNetCore.Hosting.Diagnostics[2]\n      Request finished in 533.3788000000001ms 302 \ninfo: Microsoft.AspNetCore.Hosting.Diagnostics[1]\n      Request starting HTTP/1.1 GET http://localhost:51131/connect/authorize/callback?response_type=token&amp;state&amp;client_id=openIdConnectClient&amp;scope=apiservice.user&amp;redirect_uri=https%3A%2F%2Fdev-api.bank2loyalty.com%2Fsignin-oidc  \ninfo: IdentityServer4.Hosting.IdentityServerMiddleware[0]\n      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback\ninfo: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[10]\n      AuthenticationScheme: idsrv signed in.\n</code></pre>\n\n<p>Some debug output from the failed situation which might a user \"skilled in the art\" to give an idea what goes wrong.</p>\n\n<pre><code>[11:06:05 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler\nAuthenticationScheme: idsrv was not authenticated.\n[11:06:05 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler\nAuthenticationScheme: idsrv signed in.\n[11:06:05 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler\nAuthenticationScheme: idsrv was not authenticated.\n[11:06:05 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler\nAuthenticationScheme: idsrv was not authenticated.\n[11:06:05 Debug] IdentityServer4.Hosting.EndpointRouter\nRequest path /connect/authorize/callback matched to endpoint type Authorize\n[11:06:05 Debug] IdentityServer4.Hosting.EndpointRouter\nEndpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint\n[11:06:05 Information] IdentityServer4.Hosting.IdentityServerMiddleware\nInvoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback\n[11:06:05 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint\nStart authorize callback request\n[11:06:05 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler\nAuthenticationScheme: idsrv was not authenticated.\n[11:06:05 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint\nNo user present in authorize request\n[11:06:05 Debug] IdentityServer4.Validation.AuthorizeRequestValidator\nStart authorize request protocol validation\n[11:06:05 Debug] IdentityServer4.Validation.AuthorizeRequestValidator\nCalling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator\n[11:06:05 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint\nValidatedAuthorizeRequest\n{\"ClientId\": \"openIdConnectClient\", \"ClientName\": \"Example Implicit Client Application\", \"RedirectUri\": \"https://localhost:44378/signin-oidc\", \"AllowedRedirectUris\": [\"https://localhost:44378/signin-oidc\", \"https://dev-api.bank2loyalty.com/signin-oidc\", \"https://api.bank2loyalty.com/signin-oidc\"], \"SubjectId\": \"anonymous\", \"ResponseType\": \"token\", \"ResponseMode\": \"fragment\", \"GrantType\": \"implicit\", \"RequestedScopes\": \"apiservice.user\", \"State\": null, \"UiLocales\": null, \"Nonce\": null, \"AuthenticationContextReferenceClasses\": null, \"DisplayMode\": null, \"PromptMode\": null, \"MaxAge\": null, \"LoginHint\": null, \"SessionId\": null, \"Raw\": {\"response_type\": \"token\", \"state\": \"\", \"client_id\": \"openIdConnectClient\", \"scope\": \"apiservice.user\", \"redirect_uri\": \"https://localhost:44378/signin-oidc\"}, \"$type\": \"AuthorizeRequestValidationLog\"}\n[11:06:05 Information] IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator\nShowing login: User is not authenticated\n[11:06:05 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler\nAuthenticationScheme: idsrv was not authenticated.\n[11:06:05 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler\nAuthenticationScheme: idsrv was not authenticated.\n[11:06:05 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler\nAuthenticationScheme: idsrv was not authenticated.\n[11:06:05 Debug] IdentityServer4.Validation.AuthorizeRequestValidator\nStart authorize request protocol validation\n[11:06:05 Debug] IdentityServer4.Validation.AuthorizeRequestValidator\nCalling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator\n</code></pre>\n"}, {"tags": ["c#", ".net", "wpf", "discord", "discord.net"], "comments": [{"owner": {"reputation": 591, "user_id": 8998175, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-y_JyZz2tJ64/AAAAAAAAAAI/AAAAAAAAA9Y/VSVrc7mwzMk/photo.jpg?sz=128", "display_name": "misticos", "link": "https://stackoverflow.com/users/8998175/misticos"}, "edited": false, "score": 0, "creation_date": 1576697231, "post_id": 59398782, "comment_id": 104986739, "body": "What&#39;s the question? What library are you using?"}, {"owner": {"reputation": 39, "user_id": 12560795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61357431b2e3b5527dbfb8225aa44bf4?s=128&d=identicon&r=PG&f=1", "display_name": "lobster123", "link": "https://stackoverflow.com/users/12560795/lobster123"}, "reply_to_user": {"reputation": 591, "user_id": 8998175, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-y_JyZz2tJ64/AAAAAAAAAAI/AAAAAAAAA9Y/VSVrc7mwzMk/photo.jpg?sz=128", "display_name": "misticos", "link": "https://stackoverflow.com/users/8998175/misticos"}, "edited": false, "score": 0, "creation_date": 1576698497, "post_id": 59398782, "comment_id": 104987290, "body": "wpf app in a .net framework and im using discord.net"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 12560795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61357431b2e3b5527dbfb8225aa44bf4?s=128&d=identicon&r=PG&f=1", "display_name": "lobster123", "link": "https://stackoverflow.com/users/12560795/lobster123"}, "edited": false, "score": 0, "creation_date": 1576700833, "post_id": 59399461, "comment_id": 104988198, "body": "What do you mean by discordValues? But yes this is what I was looking for"}, {"owner": {"reputation": 124, "user_id": 12115268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0cd5aa0f0a4ab8988263ed024b814df?s=128&d=identicon&r=PG&f=1", "display_name": "Knowledge", "link": "https://stackoverflow.com/users/12115268/knowledge"}, "reply_to_user": {"reputation": 39, "user_id": 12560795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61357431b2e3b5527dbfb8225aa44bf4?s=128&d=identicon&r=PG&f=1", "display_name": "lobster123", "link": "https://stackoverflow.com/users/12560795/lobster123"}, "edited": false, "score": 0, "creation_date": 1576700950, "post_id": 59399461, "comment_id": 104988245, "body": "@lobster123 where do you see discordValues? Also please mark solved if it solves your question."}], "tags": [], "owner": {"reputation": 124, "user_id": 12115268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0cd5aa0f0a4ab8988263ed024b814df?s=128&d=identicon&r=PG&f=1", "display_name": "Knowledge", "link": "https://stackoverflow.com/users/12115268/knowledge"}, "is_accepted": true, "score": 2, "last_activity_date": 1576700437, "creation_date": 1576700437, "answer_id": 59399461, "question_id": 59398782, "link": "https://stackoverflow.com/questions/59398782/send-a-discord-embed-via-webhook-c/59399461#59399461", "title": "Send a Discord Embed via Webhook C#", "body": "<pre><code>public class dWebHook: IDisposable\n    {\n        private readonly WebClient dWebClient;\n        private static NameValueCollection discord = new NameValueCollection();\n        public string WebHook { get; set;}\n        public string UserName { get; set; }\n        public string ProfilePicture { get; set;}\n\n        public dWebHook()\n        {\n            dWebClient = new WebClient();\n        }\n\n\n        public void SendMessage(string msgSend)\n        {\n            discord.Add(\"username\", UserName);\n            discord.Add(\"avatar_url\", ProfilePicture);\n            discord.Add(\"content\", msgSend);\n\n            dWebClient.UploadValues(WebHook, discord);\n        }\n\n        public void Dispose()\n        {\n            dWebClient.Dispose();\n        }\n</code></pre>\n\n<p>I think this is what you are looking for</p>\n"}], "owner": {"reputation": 39, "user_id": 12560795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61357431b2e3b5527dbfb8225aa44bf4?s=128&d=identicon&r=PG&f=1", "display_name": "lobster123", "link": "https://stackoverflow.com/users/12560795/lobster123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2708, "favorite_count": 0, "accepted_answer_id": 59399461, "answer_count": 1, "score": 2, "last_activity_date": 1594954561, "creation_date": 1576696820, "last_edit_date": 1576698775, "question_id": 59398782, "link": "https://stackoverflow.com/questions/59398782/send-a-discord-embed-via-webhook-c", "title": "Send a Discord Embed via Webhook C#", "body": "<p>I have this code that I want to send to a discord webhook via an embedded message:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var builder = new EmbedBuilder();\n\nbuilder.WithTitle(\"Ice Wizard Stats\");\nbuilder.AddField(\"Hit Speed\", \"1.5sec\", true); // True for inline\nbuilder.WithThumbnailUrl(\"https://i.ibb.co/rc66Lq8/logonew.png\");\nbuilder.WithColor(Color.Red);\n</code></pre>\n\n<p>How am I supposed to send that?</p>\n"}, {"tags": ["c#", "unit-testing"], "comments": [{"owner": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 5, "creation_date": 1576696658, "post_id": 59398698, "comment_id": 104986506, "body": "Unit tests probably shouldn&#39;t know about the database, that&#39;s more an integration test - are you bootstrapping your database in your unit tests? If not, could that be the issue - that your application creates the db context but your unit tests do not? What&#39;s the definition of <code>db</code> in your <code>GameListViewModel</code>?"}, {"owner": {"reputation": 441, "user_id": 181976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65d79b0fda9a9ebca0b83f9f4568890b?s=128&d=identicon&r=PG&f=1", "display_name": "user1934587390", "link": "https://stackoverflow.com/users/181976/user1934587390"}, "edited": false, "score": 0, "creation_date": 1576696776, "post_id": 59398698, "comment_id": 104986556, "body": "If you use something like Moq you can build a fixed simulation of what should be returned when your unit test requests data from your theoretical database. This would enable you to test the code/logic rather than what kind of data is in the database."}, {"owner": {"reputation": 55, "user_id": 9009876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c548f6387c2002614a9e2980d953e06?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/9009876/felix"}, "reply_to_user": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 0, "creation_date": 1576697286, "post_id": 59398698, "comment_id": 104986763, "body": "@Charleh string _dbPath = Path.Combine(System.Environment.GetFolderPath(System.Environ&zwnj;&#8203;ment.SpecialFolder.P&zwnj;&#8203;ersonal), &quot;myWishList.db3&quot;); // var db = new SQLiteConnection(_dbPath);"}, {"owner": {"reputation": 55, "user_id": 9009876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c548f6387c2002614a9e2980d953e06?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/9009876/felix"}, "reply_to_user": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 0, "creation_date": 1576697332, "post_id": 59398698, "comment_id": 104986782, "body": "@Charleh What do you mean with bootstrapping? I&#39;m new to this"}, {"owner": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 0, "creation_date": 1576698786, "post_id": 59398698, "comment_id": 104987403, "body": "When/where does this code which creates the connection happen? Can you update the question with your full view model code?"}], "answers": [{"comments": [{"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1576698905, "post_id": 59398889, "comment_id": 104987447, "body": "People don&#39;t understand the difference in Unit tests and Integration tests. Everything is Unit test if you are using a Testing Framework."}], "tags": [], "owner": {"reputation": 174, "user_id": 8512294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iBLCL.png?s=128&g=1", "display_name": "Dalton", "link": "https://stackoverflow.com/users/8512294/dalton"}, "is_accepted": false, "score": 2, "last_activity_date": 1576697334, "creation_date": 1576697334, "answer_id": 59398889, "question_id": 59398698, "link": "https://stackoverflow.com/questions/59398698/unit-test-crashes-because-it-doesnt-know-my-database-table/59398889#59398889", "title": "Unit test crashes because it doesn&#39;t know my database table", "body": "<p>Unit Tests are for testing small chunks of code. In your case, you may want to create a mock version of your Games object.</p>\n\n<p>I'm assuming that your call fails as your Unit Test does not have a valid database connection when it's running the tests.</p>\n\n<p>Ideally, you don't want to be making database calls each time you run a unit test anyway. They should be quick to run so you can run them often. You could set up more complex tests in another project, but this would not be a unit test, more of an integration test. How you implement this is up to you and the tech stack you are working with.</p>\n"}, {"tags": [], "owner": {"reputation": 11326, "user_id": 9071943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QLoV.jpg?s=128&g=1", "display_name": "Nguy\u1ec5n V\u0103n Phong", "link": "https://stackoverflow.com/users/9071943/nguy%e1%bb%85n-v%c4%83n-phong"}, "is_accepted": false, "score": 0, "last_activity_date": 1576724088, "creation_date": 1576724088, "answer_id": 59402716, "question_id": 59398698, "link": "https://stackoverflow.com/questions/59398698/unit-test-crashes-because-it-doesnt-know-my-database-table/59402716#59402716", "title": "Unit test crashes because it doesn&#39;t know my database table", "body": "<p>It seems that You don't understand the <a href=\"https://www.softwaretestingclass.com/what-is-difference-between-unit-testing-and-integration-testing/\" rel=\"nofollow noreferrer\">difference in Unit tests and Integration tests</a></p>\n\n<p>In my opinion, you had better do the following some ways </p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/31073478/copy-in-memory-sqlite-database-to-make-unit-tests-faster\">Copy in-memory SQLite Database</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/ef/core/miscellaneous/testing/sqlite\" rel=\"nofollow noreferrer\">Testing with SQLite</a></li>\n</ol>\n\n<p><strong>FYI:</strong></p>\n\n<blockquote>\n  <p>SQLite has an in-memory mode that allows you to use SQLite to write tests against a relational database, without the overhead of actual database operations</p>\n</blockquote>\n\n<p>Note that:</p>\n\n<blockquote>\n  <p>Make sure unit tests are <code>separated from integration tests</code></p>\n</blockquote>\n"}], "owner": {"reputation": 55, "user_id": 9009876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c548f6387c2002614a9e2980d953e06?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/9009876/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576724088, "creation_date": 1576696428, "last_edit_date": 1576697116, "question_id": 59398698, "link": "https://stackoverflow.com/questions/59398698/unit-test-crashes-because-it-doesnt-know-my-database-table", "title": "Unit test crashes because it doesn&#39;t know my database table", "body": "<p>My application works fine, but when I'm <code>unit testing</code> it crashes. The error output is the following: </p>\n\n<blockquote>\n  <p>\"Message: Test method MyUnitTests.UnitTest1.TestMethod threw an\n  exception:  SQLite.SQLiteException: no such table: Game\".</p>\n</blockquote>\n\n<p>This is the code of the unit test:</p>\n\n<pre><code>using Microsoft.VisualStudio.TestTools.UnitTesting;\nusing WishListProject.ViewModels;\n\nnamespace MyUnitTests\n{\n    [TestClass]\n    public class UnitTest1\n    {\n        [TestMethod]\n        public void TestMethod()\n        {\n            //Arrange\n            var vm = new GameListViewModel();\n\n\n            vm.GameNaamEntry = \"WoW:Classic\";\n            vm.GameGenreEntry = \"MMORPG\";\n            vm.GameReleaseEntry = \"27/08/2019\";\n            //Act\n            vm.AddGameCommand.Execute(null);\n\n            //Assert\n            Assert.IsNotNull(vm.Games, \"Games variabele is leeg\"); \n\n        }\n    }\n}\n</code></pre>\n\n<p>This is the line where it crashes (doesn't recognise \"Game\" as a Table):</p>\n\n<pre><code>Games = new ObservableCollection&lt;Game&gt;(db.Table&lt;Game&gt;().OrderBy(x =&gt; x.GameNaam).ToList());\n</code></pre>\n\n<p>I find it really weird because when I just test my application it works as it should and doesn't give any errors.</p>\n"}, {"tags": ["c#", "sql", "asp.net", "dataset"], "comments": [{"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1576699601, "post_id": 59398674, "comment_id": 104987715, "body": "Without any code (and exact specification of all version numbers etc) there is little chance of answer."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1576699617, "post_id": 59398674, "comment_id": 104987733, "body": "You could (should) start by creating a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 1487, "user_id": 1255136, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/58049ec6e213dae035a4245827977a95?s=128&d=identicon&r=PG", "display_name": "Gaz83", "link": "https://stackoverflow.com/users/1255136/gaz83"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1576702557, "post_id": 59398674, "comment_id": 104988802, "body": "@HenkHolterman All version numbers of what? I have a library project targeting .net 4.8"}, {"owner": {"reputation": 1487, "user_id": 1255136, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/58049ec6e213dae035a4245827977a95?s=128&d=identicon&r=PG", "display_name": "Gaz83", "link": "https://stackoverflow.com/users/1255136/gaz83"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1576703000, "post_id": 59398674, "comment_id": 104988962, "body": "@HenkHolterman Normally I would post code but the issue is coming from the MSDataSetGenerator so there is no code. What I am trying to get out is why is this tool generating the error when it runs."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1576705138, "post_id": 59398674, "comment_id": 104989732, "body": "And what version that generator?"}, {"owner": {"reputation": 1487, "user_id": 1255136, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/58049ec6e213dae035a4245827977a95?s=128&d=identicon&r=PG", "display_name": "Gaz83", "link": "https://stackoverflow.com/users/1255136/gaz83"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1576731891, "post_id": 59398674, "comment_id": 104995636, "body": "@HenkHolterman how do I find that out?"}], "owner": {"reputation": 1487, "user_id": 1255136, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/58049ec6e213dae035a4245827977a95?s=128&d=identicon&r=PG", "display_name": "Gaz83", "link": "https://stackoverflow.com/users/1255136/gaz83"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576703445, "creation_date": 1576696318, "last_edit_date": 1576703445, "question_id": 59398674, "link": "https://stackoverflow.com/questions/59398674/dataset-running-custom-tool-msdatasetgenerator-out-of-memory-error", "title": "Dataset - Running custom tool MSDataSetGenerator - out of memory error", "body": "<p>At my new job I have been given a task to fix a broken web-site left by the previous developer.\nI got the issues fixed to the point where it compiles and runs. \nThis was running using .Net 4.7.2</p>\n\n<p>When I changed the target to .Net 4.8 and compile I get the following error.</p>\n\n<blockquote>\n  <p>Custom tool error: Failed to generate code.<br>\n  Exception of type 'System.OutOfMemoryException' was thrown.<br>\n  SharedDll D:\\SHARED\\trunk\\SharedDll\\DataSetPortal.xsd</p>\n</blockquote>\n\n<p>So I went into the project <code>SharedDll</code> and right clicked the <code>DataSetPortal.xsd</code> and clicked <code>Run Custom Tool</code>.<br>\nI get message box popped up saying </p>\n\n<blockquote>\n  <p>The custom tool 'MSDataSetGenerator' failed. Exception of type<br>\n  'System.OutOfMemoryException' was thrown.</p>\n</blockquote>\n\n<p>PC has 32GB Ram.\nProject is targeting .Net 4.8 64bit</p>\n\n<p><strong>Update</strong><br>\nI have since re-targeted .Net 4.7.2 and tried running the tool and I get the same error so it is not .Net 4.8 related.</p>\n"}, {"tags": ["c#", "asp.net", "fckeditor"], "answers": [{"tags": [], "owner": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "is_accepted": false, "score": 1, "last_activity_date": 1577219782, "creation_date": 1577219782, "answer_id": 59473196, "question_id": 59398645, "link": "https://stackoverflow.com/questions/59398645/clean-text-in-fckeditor-textbox/59473196#59473196", "title": "Clean Text in FCKeditor textbox", "body": "<p>As you do not share the error message I'll give you an answer based on a common error that occurs with rich text plugins:</p>\n\n<blockquote>\n  <p>A potentially dangerous Request.Form value was detected from the client</p>\n</blockquote>\n\n<p>This error occurs because your server do not allow html content in your requests and adding html in the request is exactly what a rich text plugin does. So you need to enable it on your server.</p>\n\n<hr>\n\n<p><em>How?</em></p>\n\n<p>1) Add <code>ValidateRequest=\"false\"</code> on your .aspx file.</p>\n\n<pre><code>&lt;%@ Page Language=\"C#\" ... ValidateRequest=\"false\" %&gt;\n</code></pre>\n\n<p>2) Set <code>httpRuntime</code> <code>requestValidationMode</code> value to 2.0 on your web.config.</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;system.web&gt;\n    &lt;compilation debug=\"true\" targetFramework=\"4.5\"/&gt;\n    &lt;httpRuntime targetFramework=\"4.5\" requestValidationMode=\"2.0\"/&gt;\n  &lt;/system.web&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>3) This step should be already done on your legacy. But if not, you shoul add a custom validation to avoid script injection on the pages where you will show the HTML inputed by the user.</p>\n\n<hr>\n\n<p>Steps 1 and 2 are enough to do not get this error anymore, step 3 is \"just\" a security tip.</p>\n"}], "owner": {"reputation": 1054, "user_id": 1159362, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0113fd58e557e5c9d17950eb9ac6f0cb?s=128&d=identicon&r=PG&f=1", "display_name": "shadonar", "link": "https://stackoverflow.com/users/1159362/shadonar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1577219782, "creation_date": 1576696185, "question_id": 59398645, "link": "https://stackoverflow.com/questions/59398645/clean-text-in-fckeditor-textbox", "title": "Clean Text in FCKeditor textbox", "body": "<p>I have a legacy web application that I'm needing to migrate to a new Windows Server (to 2019 from 2008r2) and have been running into some security issues.  mainly with a rich text style textbox FCKeditor text box.  this editor adds html tags and if somebody copies from a Word doc to fill out the field, the hidden Word doc structures (xml and style content) is also brought over and thus the 2019 security throws an error message about the text being potentially hazardous.  I came up with a function to clean up the text content and bring it back to a plain text content.  however the security still throws an error and never makes it to the function i created.</p>\n\n<pre><code>protected string GetCleanedText(string content)\n{\n\n    const string tagWhiteSpace = @\"(&gt;|$)(\\W|\\n|\\r)+&lt;\"; \n    const string stripFormatting = @\"&lt;[^&gt;]*(&gt;|$)\"; \n    const string lineBreak = @\"&lt;(br|BR)\\s{0,1}\\/{0,1}&gt;\";\n    const string xmlformatting = @\"&lt;xml&gt;[\\s\\S]*?&lt;\\/xml&gt;\";\n    const string styleformatting = @\"&lt;style&gt;[\\s\\S]*?&lt;\\/style&gt;\";\n    Regex lineBreakRegex = new Regex(lineBreak, RegexOptions.Multiline);\n    Regex xmlformattingRegex = new Regex(xmlformatting, RegexOptions.Multiline);\n    Regex stripFormattingRegex = new Regex(stripFormatting, RegexOptions.Multiline);\n    Regex tagWhiteSpaceRegex = new Regex(tagWhiteSpace, RegexOptions.Multiline);\n    Regex styleformattingRegex = new Regex(styleformatting, RegexOptions.Multiline);\n\n    string text = content;\n    //xml formatting\n    text = xmlformattingRegex.Replace(text, string.Empty);\n    //style formatting\n    text = styleformattingRegex.Replace(text, string.Empty);\n    //Decode html specific characters\n    //text = System.Net.WebUtility.HtmlDecode(text);\n    //text = System.Net.WebUtility.HtmlDecode(text);\n    text = System.Web.HttpUtility.HtmlDecode(text);\n    //Remove tag whitespace/line breaks\n    text = tagWhiteSpaceRegex.Replace(text, \"&gt;&lt;\");\n    //Replace &lt;br /&gt; with line breaks\n    text = lineBreakRegex.Replace(text, Environment.NewLine);\n    //Strip formatting\n    text = stripFormattingRegex.Replace(text, string.Empty);\n\n    return text;\n}\n</code></pre>\n\n<p>The data on the aspx page is set up with two way binding via <code>Bind()</code>.  I've tried replacing it with <code>Eval()</code> and calling the<code>GetCleanedText()</code> function to clean the text content, but the data continues to get wiped due to the <code>FormView1_ItemCreated()</code> function and either leaves the text box empty or doesn't allow the content to be updated.  I've also tried to implement stuff in the <code>ItemCreated</code>, <code>ItemUpdating</code>, and <code>FormView1_DataBound()</code> functions and still either get an emtpy text box or one that when <strong>Editing</strong> the text field doesn't maintain the new text content.</p>\n\n<p>here's the aspx page (I've removed most of the other content to focus on what I'm trying to fix):</p>\n\n<pre><code>&lt;asp:FormView ID=\"FormView1\" runat=\"server\" DataKeyNames=\"id\" DataSourceID=\"ObjectDataSource1\"\n                            OnItemCreated=\"FormView1_ItemCreated\" OnDataBound=\"FormView1_DataBound\" OnItemUpdating=\"FormView1_ItemUpdating\"\n                            OnItemDeleting=\"FormView1_ItemDeleting\" BorderWidth=\"0px\" CssClass=\"nospace\"\n                            Width=\"100%\" OnItemInserting=\"FormView1_ItemInserting\" AllowPaging=\"True\" EmptyDataText=\"No records found.\"&gt;\n                            &lt;EditItemTemplate&gt;\n                &lt;table width=\"100%\" border=\"0\" cellpadding=\"2\"&gt;\n                    &lt;tr&gt;\n                                        &lt;td&gt;\n                                            &lt;b&gt;Business Reason for the Purchase:&lt;/b&gt;&lt;br /&gt;\n                                            &lt;FCKeditorV2:FCKeditor ID=\"purchase_reasonTextBox\" runat=\"server\" BasePath=\"~/fckeditor/\"\n                                                Height=\"150px\" ToolbarSet=\"Request\" Value='&lt;%# Bind(\"purchase_reason\") %&gt;'&gt;\n                                            &lt;/FCKeditorV2:FCKeditor&gt;\n                                        &lt;/td&gt;\n                                        &lt;td&gt;\n                                            &amp;nbsp;\n                                        &lt;/td&gt;\n                                        &lt;td&gt;\n                                            &lt;b&gt;Description of Product or Service:&lt;/b&gt;&lt;br /&gt;\n                                            &lt;FCKeditorV2:FCKeditor ID=\"product_descriptionTextBox\" runat=\"server\" BasePath=\"~/fckeditor/\"\n                                                Height=\"150px\" ToolbarSet=\"Request\" Value='&lt;%# Bind(\"product_description\") %&gt;'&gt;\n                                            &lt;/FCKeditorV2:FCKeditor&gt;\n                                        &lt;/td&gt;\n                                    &lt;/tr&gt;\n                                    &lt;tr&gt;\n                                        &lt;td&gt;\n                                            &lt;asp:LinkButton ID=\"UpdateButton\" runat=\"server\" CausesValidation=\"True\" CommandName=\"Update\"\n                                                CssClass=\"btn\" OnClientClick=\"RemoveDisplayMessage()\" TabIndex=\"40\" Text=\"Update\"\n                                                ValidationGroup=\"requestgroup\" /&gt;\n                                            &amp;nbsp;&lt;asp:LinkButton ID=\"UpdateCancelButton\" runat=\"server\" CausesValidation=\"False\"\n                                                CommandName=\"Cancel\" CssClass=\"btn\" OnClientClick=\"RemoveDisplayMessage()\" TabIndex=\"42\"\n                                                Text=\"Cancel\" /&gt;\n                                            &lt;asp:ValidationSummary ID=\"ValidationSummary1\" runat=\"server\" HeaderText=\"Please complete fields:\"\n                                                ShowMessageBox=\"True\" ShowSummary=\"False\" ValidationGroup=\"requestgroup\" /&gt;\n                                        &lt;/td&gt;\n                                        &lt;td align=\"right\"&gt;\n                                            &amp;nbsp;\n                                        &lt;/td&gt;\n                                        &lt;td align=\"right\"&gt;\n                                            &amp;nbsp;\n                                        &lt;/td&gt;\n                                        &lt;td align=\"right\"&gt;\n                                        &lt;/td&gt;\n                                    &lt;/tr&gt;\n                &lt;/table&gt;\n                &lt;/EditItemTemplate&gt;\n                            &lt;InsertItemTemplate&gt;\n                                &lt;table width=\"100%\" border=\"0\" cellpadding=\"2\"&gt;\n                                    &lt;tr&gt;\n                                        &lt;td&gt;\n                                            &lt;b&gt;Business Reason for the Purchase:&lt;/b&gt;&lt;br /&gt;\n                                            &lt;FCKeditorV2:FCKeditor ID=\"purchase_reasonTextBox\" runat=\"server\" BasePath=\"~/fckeditor/\"\n                                                Height=\"150px\" ToolbarSet=\"Request\" Value='&lt;%# Bind(\"purchase_reason\") %&gt;'&gt;\n                                            &lt;/FCKeditorV2:FCKeditor&gt;\n                                        &lt;/td&gt;\n                                        &lt;td&gt;\n                                            &amp;nbsp;\n                                        &lt;/td&gt;\n                                        &lt;td&gt;\n                                            &lt;b&gt;Description of Product or Service:&lt;/b&gt;&lt;br /&gt;\n                                            &lt;FCKeditorV2:FCKeditor ID=\"product_descriptionTextBox\" runat=\"server\" BasePath=\"~/fckeditor/\"\n                                                Height=\"150px\" ToolbarSet=\"Request\" Value='&lt;%# Bind(\"product_description\") %&gt;'&gt;\n                                            &lt;/FCKeditorV2:FCKeditor&gt;\n                                        &lt;/td&gt;\n                                    &lt;/tr&gt;\n                                    &lt;tr&gt;\n                                        &lt;td&gt;\n                                            &lt;asp:LinkButton ID=\"InsertButton\" runat=\"server\" CausesValidation=\"True\" CommandName=\"Insert\"\n                                                CssClass=\"btn\" OnClientClick=\"RemoveDisplayMessage()\" TabIndex=\"42\" Text=\"Insert\"\n                                                ValidationGroup=\"requestgroup\" /&gt;\n                                            &amp;nbsp;&lt;asp:LinkButton ID=\"InsertCancelButton\" runat=\"server\" CausesValidation=\"False\"\n                                                CommandName=\"Cancel\" CssClass=\"btn\" OnClientClick=\"RemoveDisplayMessage()\" TabIndex=\"44\"\n                                                Text=\"Cancel\" /&gt;\n                                            &lt;asp:ValidationSummary ID=\"ValidationSummary1\" runat=\"server\" HeaderText=\"Please complete fields:\"\n                                                ShowMessageBox=\"True\" ShowSummary=\"False\" ValidationGroup=\"requestgroup\" /&gt;\n                                        &lt;/td&gt;\n                                        &lt;td align=\"right\"&gt;\n                                            &amp;nbsp;\n                                        &lt;/td&gt;\n                                        &lt;td align=\"right\"&gt;\n                                            &amp;nbsp;\n                                        &lt;/td&gt;\n                                        &lt;td align=\"right\"&gt;\n                                        &lt;/td&gt;\n                                    &lt;/tr&gt;\n                                &lt;/table&gt;\n                            &lt;/InsertItemTemplate&gt;\n                            &lt;ItemTemplate&gt;\n                                &lt;table width=\"100%\" border=\"0\" cellpadding=\"2\"&gt;\n                                    &lt;tr&gt;\n                                        &lt;td colspan=\"2\" valign=\"top\"&gt;\n                                            &lt;b&gt;Business Reason for the Purchase:&lt;/b&gt;&lt;br /&gt;\n                                            &lt;asp:Label ID=\"purchase_reasonLabel\" runat=\"server\" Text='&lt;%# Bind(\"purchase_reason\") %&gt;'\n                                                BackColor=\"#EFF2F3\" BorderWidth=\"0\" CssClass=\"textBlock\" /&gt;\n                                        &lt;/td&gt;\n                                    &lt;/tr&gt;\n                                    &lt;tr&gt;\n                                        &lt;td colspan=\"2\" valign=\"top\"&gt;\n                                            &lt;b&gt;Description of Product or Service:&lt;/b&gt;&lt;br /&gt;\n                                            &lt;asp:Label ID=\"product_descriptionLabel\" runat=\"server\" Text='&lt;%# Bind(\"product_description\") %&gt;'\n                                                BackColor=\"#EFF2F3\" BorderWidth=\"0\" CssClass=\"textBlock\" /&gt;\n                                        &lt;/td&gt;\n                                    &lt;/tr&gt;\n                                    &lt;tr&gt;\n                                        &lt;td&gt;\n                                            &lt;asp:LinkButton ID=\"EditButton\" runat=\"server\" CausesValidation=\"False\" CommandName=\"Edit\"\n                                                CssClass=\"btn\" OnClientClick=\"RemoveDisplayMessage()\" Text=\"Edit\" /&gt;\n                                            &amp;nbsp;&lt;asp:LinkButton ID=\"DeleteButton\" runat=\"server\" CausesValidation=\"False\" CommandName=\"Delete\"\n                                                CssClass=\"btn\" OnClientClick=\"RemoveDisplayMessage(); return confirm('Do you really want to delete this item?');\"\n                                                Text=\"Delete\" /&gt;\n                                            &amp;nbsp;&lt;asp:LinkButton ID=\"NewButton\" runat=\"server\" CausesValidation=\"False\" CommandName=\"New\"\n                                                CssClass=\"btn\" OnClientClick=\"RemoveDisplayMessage()\" Text=\"New\" /&gt;\n                                        &lt;/td&gt;\n                                        &lt;td align=\"right\"&gt;\n                                            &lt;asp:LinkButton ID=\"ApproveButton\" runat=\"server\" CausesValidation=\"False\" CommandArgument='&lt;%# Eval(\"id\") %&gt;'\n                                                CommandName=\"Approve\" CssClass=\"btn\" OnCommand=\"StatusButton_Command\" Text=\"Approve\" /&gt;\n                                            &amp;nbsp;&lt;asp:LinkButton ID=\"DenyButton\" runat=\"server\" CausesValidation=\"False\" CommandArgument='&lt;%# Eval(\"id\") %&gt;'\n                                                CommandName=\"Deny\" CssClass=\"btn\" OnCommand=\"StatusButton_Command\" Text=\"Deny\" /&gt;\n                                            &amp;nbsp;&lt;asp:LinkButton ID=\"ReturnButton\" runat=\"server\" CausesValidation=\"False\" CommandArgument='&lt;%# Eval(\"id\") %&gt;'\n                                                CommandName=\"more info\" CssClass=\"btn\" OnCommand=\"StatusButton_Command\" Text=\"Require more info\" /&gt;\n                                        &lt;/td&gt;\n                                    &lt;/tr&gt;\n                                &lt;/table&gt;\n                            &lt;/ItemTemplate&gt;\n\n</code></pre>\n\n<p>and here's the C# code behind page:</p>\n\n<pre><code>\nprotected void FormView1_DataBound(object sender, EventArgs e)\n{\n    // databinding for things that weren't set up with Bind()\n    //  does not have any content for the purchase_reasonTextBox or product_descriptionTextBox\n}\nprotected void FormView1_ItemCreated(object sender, EventArgs e)\n    {\n        FormViewRow row = FormView1.Row;\n        if (FormView1.CurrentMode == FormViewMode.Edit || FormView1.CurrentMode == FormViewMode.Insert)\n        {\n            //initialize\n            if (FormView1.CurrentMode == FormViewMode.Insert)\n            {\n                // nothing relevant\n            }\n            else if (FormView1.CurrentMode == FormViewMode.Edit)\n            {\n                //nothing relevant\n            }\n\n            FredCK.FCKeditorV2.FCKeditor purchase_reasonTextBox = (FredCK.FCKeditorV2.FCKeditor)row.FindControl(\"purchase_reasonTextBox\");\n            if (purchase_reasonTextBox != null)\n            {\n                purchase_reasonTextBox.CustomConfigurationsPath = Request.ApplicationPath + \"/include/fckconfig.js\";\n                purchase_reasonTextBox.EditorAreaCSS = Request.ApplicationPath + \"/App_Themes/FrontTheme/Style.css\";\n                purchase_reasonTextBox.StylesXmlPath = Request.ApplicationPath + \"/include/fckstyles.xml\";\n            }\n\n            FredCK.FCKeditorV2.FCKeditor product_descriptionTextBox = (FredCK.FCKeditorV2.FCKeditor)row.FindControl(\"product_descriptionTextBox\");\n            if (product_descriptionTextBox != null)\n            {\n                product_descriptionTextBox.CustomConfigurationsPath = Request.ApplicationPath + \"/include/fckconfig.js\";\n                product_descriptionTextBox.EditorAreaCSS = Request.ApplicationPath + \"/App_Themes/FrontTheme/Style.css\";\n                product_descriptionTextBox.StylesXmlPath = Request.ApplicationPath + \"/include/fckstyles.xml\";\n            }\n        }\n    }\n    protected void FormView1_ItemUpdating(object sender, FormViewUpdateEventArgs e)\n    {\n        FormViewRow row = FormView1.Row;\n        if (FormView1.CurrentMode == FormViewMode.Edit)\n        {\n        //nothing relevant\n        }\n    }\n\n\n</code></pre>\n\n<p>I'm running out of ideas for how to work around this issue.  I <strong>Have</strong> to clean the content, and I'm not allowed to edit the database directly.  </p>\n\n<p>here's the last set of changes I tried:</p>\n\n<pre><code>protected void FormView1_DataBound(object sender, EventArgs e)\n{\n    FredCK.FCKeditorV2.FCKeditor purchase_reasonTextBox = (FredCK.FCKeditorV2.FCKeditor)row.FindControl(\"purchase_reasonTextBox\");\n    if (purchase_reasonTextBox != null)\n    {\n        purchase_reasonTextBox.CustomConfigurationsPath = Request.ApplicationPath + \"/include/fckconfig.js\";\n        purchase_reasonTextBox.EditorAreaCSS = Request.ApplicationPath + \"/App_Themes/FrontTheme/Style.css\";\n        purchase_reasonTextBox.StylesXmlPath = Request.ApplicationPath + \"/include/fckstyles.xml\";\n    }\n    purchase_reasonTextBox.Value = GetCleanedText(rowView[\"purchase_reason\"].ToString());\n    FredCK.FCKeditorV2.FCKeditor product_descriptionTextBox = (FredCK.FCKeditorV2.FCKeditor)row.FindControl(\"product_descriptionTextBox\");\n    if (product_descriptionTextBox != null)\n    {\n        product_descriptionTextBox.CustomConfigurationsPath = Request.ApplicationPath + \"/include/fckconfig.js\";\n        product_descriptionTextBox.EditorAreaCSS = Request.ApplicationPath + \"/App_Themes/FrontTheme/Style.css\";\n        product_descriptionTextBox.StylesXmlPath = Request.ApplicationPath + \"/include/fckstyles.xml\";\n    }\n    product_descriptionTextBox.Value = GetCleanedText(rowView[\"product_description\"].ToString());\n}\nprotected void FormView1_ItemUpdating(object sender, FormViewUpdateEventArgs e)\n{\n        FormViewRow row = FormView1.Row;\n        if (FormView1.CurrentMode == FormViewMode.Edit)\n        {\n            FredCK.FCKeditorV2.FCKeditor purchase_reasonTextBox = (FredCK.FCKeditorV2.FCKeditor)row.FindControl(\"purchase_reasonTextBox\");\n            e.NewValues[\"purchase_reason\"] = purchase_reasonTextBox.Value; //GetCleanedText(purchase_reasonTextBox.Value);\n            FredCK.FCKeditorV2.FCKeditor product_descriptionTextBox = (FredCK.FCKeditorV2.FCKeditor)row.FindControl(\"product_descriptionTextBox\");\n            e.NewValues[\"product_description\"] = product_descriptionTextBox.Value; //GetCleanedText(product_descriptionTextBox.Value);\n        }\n}\n\nprotected void FormView1_ItemInserting(object sender, FormViewInsertEventArgs e)\n{\n        Response.Write(\"  --  Item Inserting --  \");\n        FormViewRow row = FormView1.Row;\n        if (FormView1.CurrentMode == FormViewMode.Insert)\n        {\n            FredCK.FCKeditorV2.FCKeditor purchase_reasonTextBox = (FredCK.FCKeditorV2.FCKeditor)row.FindControl(\"purchase_reasonTextBox\");\n            e.Values[\"purchase_reason\"] = GetCleanedText(purchase_reasonTextBox.Value);\n            FredCK.FCKeditorV2.FCKeditor product_descriptionTextBox = (FredCK.FCKeditorV2.FCKeditor)row.FindControl(\"product_descriptionTextBox\");\n            e.Values[\"product_description\"] = GetCleanedText(product_descriptionTextBox.Value);\n    }\n}\n</code></pre>\n\n<p>I would appreciate any advice on how to get the text content inside of the text boxes returned to plain text</p>\n\n<pre><code>&lt;FCKeditorV2:FCKeditor ID=\"purchase_reasonTextBox\" runat=\"server\" BasePath=\"~/fckeditor/\" Height=\"150px\" ToolbarSet=\"Request\" Value='&lt;%# Bind(\"purchase_reason\") %&gt;'&gt;\n&lt;/FCKeditorV2:FCKeditor&gt;\n&lt;FCKeditorV2:FCKeditor ID=\"product_descriptionTextBox\" runat=\"server\" BasePath=\"~/fckeditor/\" Height=\"150px\" ToolbarSet=\"Request\" Value='&lt;%# Bind(\"product_description\") %&gt;'&gt;\n&lt;/FCKeditorV2:FCKeditor&gt;\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "edited": false, "score": 1, "creation_date": 1576696236, "post_id": 59398631, "comment_id": 104986351, "body": "Did you try <code>Distinct()</code>?"}, {"owner": {"reputation": 555, "user_id": 2339207, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f7852a33ae27b80bb56e894150d66fb5?s=128&d=identicon&r=PG", "display_name": "redux17", "link": "https://stackoverflow.com/users/2339207/redux17"}, "reply_to_user": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "edited": false, "score": 0, "creation_date": 1576696379, "post_id": 59398631, "comment_id": 104986395, "body": "No distinct does not working in this case. I need skipDuplicate but from result of first query.."}, {"owner": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "edited": false, "score": 0, "creation_date": 1576696495, "post_id": 59398631, "comment_id": 104986444, "body": "Can you give a little more context about you really need? It looks like a probelm that can be solved with Distinct. Why you need to use the results of the first query?"}, {"owner": {"reputation": 555, "user_id": 2339207, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f7852a33ae27b80bb56e894150d66fb5?s=128&d=identicon&r=PG", "display_name": "redux17", "link": "https://stackoverflow.com/users/2339207/redux17"}, "edited": false, "score": 0, "creation_date": 1576696787, "post_id": 59398631, "comment_id": 104986561, "body": "These data comes from json via customerObject.I need to check do customers exsists in db if not they need to be save to logger and they are not duplicate from this cusotmerOBject need to be added in customers table."}, {"owner": {"reputation": 3410, "user_id": 535515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be8792d522b04f051fbd7a4eb1e80e3f?s=128&d=identicon&r=PG", "display_name": "Gus", "link": "https://stackoverflow.com/users/535515/gus"}, "edited": false, "score": 2, "creation_date": 1576696811, "post_id": 59398631, "comment_id": 104986568, "body": "It looks like you&#39;ll just end up with all customer records, split by whether or not they match the query?  Maybe the group by operator can do what you want? <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.groupby?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}], "owner": {"reputation": 555, "user_id": 2339207, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f7852a33ae27b80bb56e894150d66fb5?s=128&d=identicon&r=PG", "display_name": "redux17", "link": "https://stackoverflow.com/users/2339207/redux17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577635436, "creation_date": 1576696110, "last_edit_date": 1576697088, "question_id": 59398631, "link": "https://stackoverflow.com/questions/59398631/duplicate-records-two-calls-on-database", "title": "Duplicate records two calls on database", "body": "<p>How can I avoid duplicate invoke to database. First time I wanna get duplicate records but in second invoke I want to skip records but without invoke _context again. This example of my code:</p>\n\n<pre><code>var duplicateCustomers = customerObject.Customers.\n     Where(a =&gt; _context.Customers.Any(b =&gt; a.CustomerId == b.CustomerIdRef &amp;&amp; customerObject.ClientId == b.ClientId));\n\nvar skipDuplicateCustomers = customerObject.Customers.\n     Where(a =&gt; !_context.Customers.Any(b =&gt; a.CustomerId == b.CustomerIdRef &amp;&amp; customerObject.ClientId == b.ClientId));\n</code></pre>\n\n<p>These data comes from json via customerObject.I need to check do customers exsists in db if not they need to be save to logger and they are not duplicate from this cusotmerOBject need to be added in customers table.</p>\n\n<p>I need to separate lists(duplicate, not duplicate) but with one call to database.</p>\n"}, {"tags": ["c#", "arrays"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1576697864, "post_id": 59398603, "comment_id": 104987002, "body": "you might want to throw an exception if the array has less than two items. If <code>ZL</code> has less than <code>2</code> items, it will return <code>Int16.MinValue</code>, which is not technically correct (or another option is to explicitly state that behavior)."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1576705345, "post_id": 59398603, "comment_id": 104989800, "body": "Also note that <code>int</code> (which is an alias for <code>Int32</code>) has a <b>much</b> larger range than <code>Int16</code>, so you should probably be using <code>int.MinValue</code> instead, since it&#39;s possible all the values are less than <code>Int16.MinValue</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12560660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed005ce3d08273344b3efd7961c4a9d7?s=128&d=identicon&r=PG&f=1", "display_name": "itzme", "link": "https://stackoverflow.com/users/12560660/itzme"}, "edited": false, "score": 0, "creation_date": 1576696822, "post_id": 59398635, "comment_id": 104986575, "body": "Thank you for the explanation and yes the variable are not good! But it is for school purpose :)"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1576697716, "post_id": 59398635, "comment_id": 104986938, "body": "The only way I see the logic not working as expected is if you pass in an array with less than 2 items in it. Otherwise what do you mean by <i>&quot;This kind of logic is notoriously prone for messing up&quot;</i>"}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1576702343, "post_id": 59398635, "comment_id": 104988726, "body": "@RufusL I am not 100% certain it will work. With nested If&#39;s, it is easy to miss one case. But I can not put my finger on any specific Problem."}], "tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": true, "score": 0, "last_activity_date": 1576696441, "last_edit_date": 1576696441, "creation_date": 1576696138, "answer_id": 59398635, "question_id": 59398603, "link": "https://stackoverflow.com/questions/59398603/can-someone-explain-how-does-this-code-works/59398635#59398635", "title": "Can someone explain how does this code works", "body": "<p>This code itterates over the array, trying to find the two highest numbers. However it uses completely messed up Variable names MinZ and MaxZ for that. It should be MaxA and MaxB or something like that.</p>\n\n<p>And for each number it checks if the number is larger then the current MaxZ (the highest). If yes, it hands the previous second largest down to MinZ. If not it additionally checks if it just smaler then MinZ (as a number can be bigger the MaxZ, and still smaler then MinZ).</p>\n\n<p>I am not 100% sure this works. Personally I would just sort the Arrays and get the 2nd from the right side. Or if this was a Database, get the 2nd from Bottom using a query. This kind of logic is notoriously prone for messing up.</p>\n"}, {"tags": [], "owner": {"reputation": 973, "user_id": 10473393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89a640df85b84e87172df633f941f921?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Santos", "link": "https://stackoverflow.com/users/10473393/alexander-santos"}, "is_accepted": false, "score": 0, "last_activity_date": 1576696241, "creation_date": 1576696241, "answer_id": 59398657, "question_id": 59398603, "link": "https://stackoverflow.com/questions/59398603/can-someone-explain-how-does-this-code-works/59398657#59398657", "title": "Can someone explain how does this code works", "body": "<pre><code>Int16.MinValue\n</code></pre>\n\n<p>This will get the minimal value allowed for Int16</p>\n\n<p>Then it iterates the <em>ZL</em> array, if it finds a value highest than the highest value found, it replaces the variable value, if not, it checks if it's place is possible as second highest value.</p>\n"}, {"tags": [], "owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "is_accepted": false, "score": 0, "last_activity_date": 1576697368, "last_edit_date": 1592644375, "creation_date": 1576697368, "answer_id": 59398896, "question_id": 59398603, "link": "https://stackoverflow.com/questions/59398603/can-someone-explain-how-does-this-code-works/59398896#59398896", "title": "Can someone explain how does this code works", "body": "<p>Please find my comments against the snippet below</p>\n<pre><code>static int ztgzahl(int[] ZL)\n        {\n            int MinZ = Int16.MinValue; // Min value of Int16 is -32768\n            int MaxZ = Int16.MinValue; \n            for(int i = 0; i &lt; ZL.Length; i++) //Iterating over each index of array\n            {\n                if (ZL[i] &gt; MaxZ)    //If current element is greater than MaxZ\n                {\n                    MinZ = MaxZ;    //MinZ remainsthe same\n                    MaxZ = ZL[i];   //MaxZ is the current element\n                }\n                else if (ZL[i] &gt; MinZ) //If current element is greater than MinZ\n                {\n                    MinZ = ZL[i];      //MinZ is current element\n                }\n            }\n            return MinZ;\n        }\n</code></pre>\n<p>Based on the full snipet, there will not be any negative elements in the array. So considering a short array of 4 elements {3,1,5,7}</p>\n<p><strong>1st Iteration:</strong></p>\n<p>Both MinZ and MaxZ = -1</p>\n<p>MinZ = -1</p>\n<p>MaxZ = 3</p>\n<p><strong>2nd Interation:</strong></p>\n<p>MinZ = 1</p>\n<p><strong>3rd Iteration:</strong></p>\n<p>MinZ = 3</p>\n<p>MaxZ = 5</p>\n<p><strong>4th Iteration:</strong></p>\n<p>MinZ = 5</p>\n<p>MaxZ = 7</p>\n<p>Therefore the second largest element is 5, which is returned by MinZ</p>\n"}], "owner": {"reputation": 1, "user_id": 12560660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed005ce3d08273344b3efd7961c4a9d7?s=128&d=identicon&r=PG&f=1", "display_name": "itzme", "link": "https://stackoverflow.com/users/12560660/itzme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "closed_date": 1576703638, "accepted_answer_id": 59398635, "answer_count": 3, "score": -3, "last_activity_date": 1576697368, "creation_date": 1576695971, "question_id": 59398603, "link": "https://stackoverflow.com/questions/59398603/can-someone-explain-how-does-this-code-works", "closed_reason": "Needs more focus", "title": "Can someone explain how does this code works", "body": "<p>We are doing currently <strong>C# in Arrays</strong>.And I have to get the <strong>second largest number</strong> from the <strong>Input</strong>. But i <strong>dont know</strong> <strong>the function of this code</strong>. Can someone explain this for me. <strong>For the whole code</strong> please have a view <strong><a href=\"https://pastebin.com/Kuy51ZgL\" rel=\"nofollow noreferrer\">here</a></strong></p>\n\n<p><strong>Code to explain:</strong></p>\n\n<pre><code> static int ztgzahl(int[] ZL)\n        {\n            int MinZ = Int16.MinValue;\n            int MaxZ = Int16.MinValue;\n            for(int i = 0; i &lt; ZL.Length; i++)\n            {\n                if (ZL[i] &gt; MaxZ)\n                {\n                    MinZ = MaxZ;\n                    MaxZ = ZL[i];\n                }\n                else if (ZL[i] &gt; MinZ)\n                {\n                    MinZ = ZL[i];\n                }\n            }\n            return MinZ;\n        }\n</code></pre>\n"}, {"tags": ["c#", ".net", "wcf", ".net-core", "grpc"], "comments": [{"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 1, "creation_date": 1576870826, "post_id": 59398556, "comment_id": 105046999, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/architecture/grpc-for-wcf-developers/ws-protocols?WT.mc_id=DT-MVP-5003235\" rel=\"nofollow noreferrer\">ASP.NET Core gRPC for WCF developers</a>: <i>The WS-Discovery protocol is used to locate services on a local network. gRPC services are generally located using DNS or a service registry such as Consul or ZooKeeper.</i>"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1576870861, "post_id": 59398556, "comment_id": 105047011, "body": "You can also take a look at this post:<a href=\"https://stackoverflow.com/q/37534274/3110834\">GRPC Service Discovery</a>."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1576871204, "post_id": 59398556, "comment_id": 105047104, "body": "You may also find <a href=\"https://medium.com/@FloSloot/node-js-protobuf-grpc-and-discovery-services-fd099a3fe51a\" rel=\"nofollow noreferrer\">Node.js: Protobuf, gRPC and Discovery Services</a> useful."}, {"owner": {"reputation": 1864, "user_id": 4675770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f03c96e787ca2330d89c2e3c6b8d2cb?s=128&d=identicon&r=PG", "display_name": "Jinjinov", "link": "https://stackoverflow.com/users/4675770/jinjinov"}, "reply_to_user": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1576877241, "post_id": 59398556, "comment_id": 105048873, "body": "@RezaAghaei <a href=\"https://stackoverflow.com/questions/37534274/grpc-service-discovery\" title=\"grpc service discovery\">stackoverflow.com/questions/37534274/grpc-service-discovery</a> wants to discover what GRPC requests the service is capable of receiving, given the address of a GRPC service. I want to discover the address."}], "answers": [{"comments": [{"owner": {"reputation": 1864, "user_id": 4675770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f03c96e787ca2330d89c2e3c6b8d2cb?s=128&d=identicon&r=PG", "display_name": "Jinjinov", "link": "https://stackoverflow.com/users/4675770/jinjinov"}, "edited": false, "score": 1, "creation_date": 1577456597, "post_id": 59466277, "comment_id": 105176404, "body": "Would you kindly explain the down-vote? A) gRPC library really does not have any such class and B) this code does exactly what the WCF code is doing."}], "tags": [], "owner": {"reputation": 1864, "user_id": 4675770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f03c96e787ca2330d89c2e3c6b8d2cb?s=128&d=identicon&r=PG", "display_name": "Jinjinov", "link": "https://stackoverflow.com/users/4675770/jinjinov"}, "is_accepted": true, "score": 4, "last_activity_date": 1577456872, "last_edit_date": 1577456872, "creation_date": 1577178019, "answer_id": 59466277, "question_id": 59398556, "link": "https://stackoverflow.com/questions/59398556/grpc-equivalent-of-wcf-service-discovery/59466277#59466277", "title": "gRPC equivalent of WCF service discovery", "body": "<p>gRPC has no classes equivalent to <code>ServiceDiscoveryBehavior</code>, <code>UdpDiscoveryEndpoint</code> or <code>DiscoveryClient</code>.</p>\n\n<p>You have to use <code>System.Net.Sockets</code> to write your own network discovery using UDP broadcast.</p>\n\n<p>Service:</p>\n\n<pre><code>IPAddress ipAddress = Dns.GetHostEntry(Dns.GetHostName()).AddressList.\n                      FirstOrDefault(ip =&gt; ip.AddressFamily == AddressFamily.InterNetwork);\n\nServer grpcServer = new Server\n{\n    Services = { Simulator.BindService(new Service()) },\n    Ports = { new ServerPort(ipAddress.ToString(), 8080, ServerCredentials.Insecure) }\n};\ngrpcServer.Start();\n\nTask.Run(() =&gt;\n{\n    while (true)\n    {\n        UdpClient udpServer = new UdpClient(8888);\n        IPEndPoint clientEndPoint = new IPEndPoint(IPAddress.Any, 0);\n        byte[] clientRequestData = udpServer.Receive(ref clientEndPoint);\n        string clientRequest = Encoding.ASCII.GetString(clientRequestData);\n        Console.WriteLine($\"Recived {clientRequest} from {clientEndPoint.Address}\");\n\n        byte[] responseData = Encoding.ASCII.GetBytes(\"Response\");\n        udpServer.Send(responseData, responseData.Length, clientEndPoint);\n        udpServer.Close();\n    }\n});\n</code></pre>\n\n<p>Client:</p>\n\n<pre><code>UdpClient udpClient = new UdpClient { EnableBroadcast = true };\nbyte[] requestData = Encoding.ASCII.GetBytes(\"Request\");\nudpClient.Send(requestData, requestData.Length, new IPEndPoint(IPAddress.Broadcast, 8888));\n\nIPEndPoint serverEndPoint = new IPEndPoint(IPAddress.Any, 0);\nbyte[] serverResponseData = udpClient.Receive(ref serverEndPoint);\nstring serverResponse = Encoding.ASCII.GetString(serverResponseData);\nConsole.WriteLine($\"Recived {serverResponse} from {serverEndPoint.Address}\");\n\nIPAddress ipAddress = serverEndPoint.Address;\nudpClient.Close();\n\nvar grpcChannel = new Channel(ipAddress.ToString(), 8080, ChannelCredentials.Insecure);\nvar grpcClient = new Client(grpcChannel);\n</code></pre>\n"}], "owner": {"reputation": 1864, "user_id": 4675770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f03c96e787ca2330d89c2e3c6b8d2cb?s=128&d=identicon&r=PG", "display_name": "Jinjinov", "link": "https://stackoverflow.com/users/4675770/jinjinov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1046, "favorite_count": 2, "accepted_answer_id": 59466277, "answer_count": 1, "score": 6, "last_activity_date": 1577456872, "creation_date": 1576695748, "last_edit_date": 1576878738, "question_id": 59398556, "link": "https://stackoverflow.com/questions/59398556/grpc-equivalent-of-wcf-service-discovery", "title": "gRPC equivalent of WCF service discovery", "body": "<h2>EDIT: I don't want to use Consul or ZooKeeper. I want to find the address of a web service on a local network.</h2>\n\n<p>What are the gRPC equivalents of service discovery classes in WCF, like: <code>ServiceDiscoveryBehavior</code> and <code>UdpDiscoveryEndpoint</code> and <code>DiscoveryClient</code> used in this example:</p>\n\n<p>Service:</p>\n\n<pre><code>using (ServiceHost serviceHost = new ServiceHost(typeof(CalculatorService), baseAddress))\n{\n    // Add calculator endpoint\n    serviceHost.AddServiceEndpoint(typeof(ICalculator), new WSHttpBinding(), string.Empty);\n\n    // ** DISCOVERY ** //\n    // Make the service discoverable by adding the discovery behavior\n    ServiceDiscoveryBehavior discoveryBehavior = new ServiceDiscoveryBehavior();\n    serviceHost.Description.Behaviors.Add(discoveryBehavior);\n\n    // Send announcements on UDP multicast transport\n    discoveryBehavior.AnnouncementEndpoints.Add(new UdpAnnouncementEndpoint());\n\n    // ** DISCOVERY ** //\n    // Add the discovery endpoint that specifies where to publish the services\n    serviceHost.Description.Endpoints.Add(new UdpDiscoveryEndpoint());\n\n    // Open the ServiceHost to create listeners and start listening for messages.\n    serviceHost.Open();\n}\n</code></pre>\n\n<p>Client:</p>\n\n<pre><code>{\n    DiscoveryClient discoveryClient = new DiscoveryClient(new UdpDiscoveryEndpoint());\n\n    Collection&lt;EndpointDiscoveryMetadata&gt; calculatorServices =   \n        (Collection&lt;EndpointDiscoveryMetadata&gt;)\n        discoveryClient.Find(new FindCriteria(typeof(ICalculator))).Endpoints;\n\n    discoveryClient.Close();\n\n    CalculatorClient client = new CalculatorClient();  \n    client.Endpoint.Address = calculatorServices[0].Address;\n}  \n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "linq", "lambda", "entity-framework-core"], "comments": [{"owner": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "edited": false, "score": 0, "creation_date": 1576696535, "post_id": 59398528, "comment_id": 104986459, "body": "Instead of <code>.ThenInclude</code> have you tried chaining <code>.Include(&quot;Correspondence.Comments&quot;)</code>?"}, {"owner": {"reputation": 16418, "user_id": 899271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jNYoq.jpg?s=128&g=1", "display_name": "Enigma State", "link": "https://stackoverflow.com/users/899271/enigma-state"}, "reply_to_user": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "edited": false, "score": 0, "creation_date": 1576696725, "post_id": 59398528, "comment_id": 104986531, "body": "i tries getting the same error that i was mentioned in the question <code>return _dbContext.Requests.Include(i =&gt; i.RequestStage)                                       .Include(i =&gt; i.RequestType)                                       .Include(i =&gt; i.MasterSection)                                       .Include(i =&gt; i.Correspondence)                                                                         .Include(&quot;Correspondence.Comment&quot;)</code>"}, {"owner": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "edited": false, "score": 1, "creation_date": 1576696758, "post_id": 59398528, "comment_id": 104986545, "body": "Can use share the mapping class of this classes?"}, {"owner": {"reputation": 16418, "user_id": 899271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jNYoq.jpg?s=128&g=1", "display_name": "Enigma State", "link": "https://stackoverflow.com/users/899271/enigma-state"}, "edited": false, "score": 0, "creation_date": 1576697046, "post_id": 59398528, "comment_id": 104986676, "body": "i already shared above in the question about request object with the correspondence class and i am using code first approach, please let me know if you need more info"}, {"owner": {"reputation": 16418, "user_id": 899271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jNYoq.jpg?s=128&g=1", "display_name": "Enigma State", "link": "https://stackoverflow.com/users/899271/enigma-state"}, "reply_to_user": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "edited": false, "score": 0, "creation_date": 1576697728, "post_id": 59398528, "comment_id": 104986945, "body": "@LuttiCoelho please let me know if you need anymore info"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1576698454, "post_id": 59398528, "comment_id": 104987267, "body": "How is the class related to the table structure? Is <code>Correspondence</code> in a separate table?"}, {"owner": {"reputation": 16418, "user_id": 899271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jNYoq.jpg?s=128&g=1", "display_name": "Enigma State", "link": "https://stackoverflow.com/users/899271/enigma-state"}, "edited": false, "score": 0, "creation_date": 1576698595, "post_id": 59398528, "comment_id": 104987336, "body": "sorry for confusion, there is no table correspondence it is just json blob storage that will be in request table, i will add data for request table above and we are using postgres sql with EFCore 3.0"}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1576699211, "post_id": 59398528, "comment_id": 104987563, "body": "If it&#39;s a blob field in the Request table itself you don&#39;t need to use <code>Include</code>. Include is for loading related entities."}, {"owner": {"reputation": 16418, "user_id": 899271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jNYoq.jpg?s=128&g=1", "display_name": "Enigma State", "link": "https://stackoverflow.com/users/899271/enigma-state"}, "edited": false, "score": 0, "creation_date": 1576699251, "post_id": 59398528, "comment_id": 104987576, "body": "yup got it thanks.."}, {"owner": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "reply_to_user": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1576701580, "post_id": 59398528, "comment_id": 104988451, "body": "@vendettamit please add your comment as an answer. It will help others users too."}], "answers": [{"tags": [], "owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "is_accepted": true, "score": 1, "last_activity_date": 1576703005, "creation_date": 1576703005, "answer_id": 59399942, "question_id": 59398528, "link": "https://stackoverflow.com/questions/59398528/trying-to-use-include-in-lambda-getting-an-error/59399942#59399942", "title": "trying to use include in lambda getting an error", "body": "<p>As mentioned in comments of Question, <code>correspondence</code> is a blob field in the <code>request</code> table itself you don't need to use Include. \nInclude is for loading related entities.</p>\n"}], "owner": {"reputation": 16418, "user_id": 899271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jNYoq.jpg?s=128&g=1", "display_name": "Enigma State", "link": "https://stackoverflow.com/users/899271/enigma-state"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 59399942, "answer_count": 1, "score": 2, "last_activity_date": 1576703005, "creation_date": 1576695623, "last_edit_date": 1576698789, "question_id": 59398528, "link": "https://stackoverflow.com/questions/59398528/trying-to-use-include-in-lambda-getting-an-error", "title": "trying to use include in lambda getting an error", "body": "<p>I am trying to query the comments that has relationship with request table like this below</p>\n\n<pre><code>public class Request\n{\n    public Guid Id { get; set; }\n    [Column(TypeName = \"jsonb\")]\n    public Correspondence Correspondence { get; set; }\n    public MasterSection MasterSection { get; set; }\n    public RequestStatus RequestStatus { get; set; }\n    public RequestStage RequestStage { get; set; }\n    public RequestType RequestType { get; set; }\n}\n</code></pre>\n\n<p>and here is my class for correspondence class  below</p>\n\n<pre><code> public class Comment\n{\n    public string Text { get; set; }\n    public string CommentBy { get; set; }\n    public DateTime CreatedAt { get; set; }\n}\npublic class Correspondence\n{\n    public List&lt;Comment&gt; Comments { get; set; } = new List&lt;Comment&gt;();\n}\n</code></pre>\n\n<p>and here is my linq query to get the results </p>\n\n<pre><code> public IQueryable&lt;Request&gt; GetAllRequests()\n {\n        return _dbContext.Requests.Include(i =&gt;i.RequestStage)                                 \n                                  .Include(i =&gt;i.RequestType)\n                                  .Include(i =&gt;i.MasterSection)\n                                  .Include(i=&gt; i.Correspondence).ThenInclude(i=&gt; i.Comments);\n\n  }\n</code></pre>\n\n<p>but getting an error like <code>Lambda expression used inside Include is not valid.</code> with out including correspondence, the above query is working is fine but when i included the correspondence getting above error.</p>\n\n<p>Is there any other way to get all those related data along with correspondence for the requests</p>\n\n<p>I am using EF core 3.0 </p>\n\n<p>Could any one have any idea why i am getting this error and any idea how to overcome this error that would be very grateful to me.</p>\n\n<p>Thanks in advance</p>\n\n<p>sample data </p>\n\n<p><a href=\"https://i.stack.imgur.com/0bGWa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0bGWa.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "unity3d", "networking"], "comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1576710049, "post_id": 59398501, "comment_id": 104991378, "body": "Is <code>PlayerUnit.isDead</code> a static? Does this maybe influence both players? How do you differ between <code>A</code> and <code>B</code>? maybe naming is mixed up on the client side?"}, {"owner": {"reputation": 194, "user_id": 8890269, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cl6dC-AxIGY/AAAAAAAAAAI/AAAAAAAABYA/kGmvOP0pXSY/photo.jpg?sz=128", "display_name": "Wzrd", "link": "https://stackoverflow.com/users/8890269/wzrd"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1576769571, "post_id": 59398501, "comment_id": 105012672, "body": "@derHugo <code>PlayerUnit.isDead</code> is static, but removing it doesn&#39;t change anything. If naming is mixed up on the client-side, I&#39;m not sure how it&#39;s happening because even if I remove the <code>[Command]</code> and <code>[ClientRpc]</code> attributes (i.e. make them normal methods, exactly the same way I&#39;ve done my player movement) nothing changes. Also, while running the client and host side by side - I noticed that on Player A&#39;s screen Player A dies when they kill Player B. But its the opposite on Player B&#39;s screen. I&#39;ve added this to the question."}], "answers": [{"comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1576769994, "post_id": 59406906, "comment_id": 105012927, "body": "just a sidenote but afaik player IDs are usually <code>0</code> based"}, {"owner": {"reputation": 194, "user_id": 8890269, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cl6dC-AxIGY/AAAAAAAAAAI/AAAAAAAABYA/kGmvOP0pXSY/photo.jpg?sz=128", "display_name": "Wzrd", "link": "https://stackoverflow.com/users/8890269/wzrd"}, "edited": false, "score": 0, "creation_date": 1576770437, "post_id": 59406906, "comment_id": 105013163, "body": "Hi, thanks for your input. How would I tell <code>PlayerHealth</code> who the player is? I understand how networking works on the level you describe, but I am confused because my player movement works in practically the same way as my <code>PlayerHealth</code> script except, well, that works fine."}], "tags": [], "owner": {"reputation": 100, "user_id": 4396254, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b95f43cf9d91f6a68e5d39f9281c836b?s=128&d=identicon&r=PG&f=1", "display_name": "HurpaDerpa", "link": "https://stackoverflow.com/users/4396254/hurpaderpa"}, "is_accepted": false, "score": 0, "last_activity_date": 1576748365, "creation_date": 1576748365, "answer_id": 59406906, "question_id": 59398501, "link": "https://stackoverflow.com/questions/59398501/unity-networking-clientrpc-being-called-on-the-wrong-player-object/59406906#59406906", "title": "Unity Networking | ClientRpc being called on the wrong player object", "body": "<p>From my assumptions, <code>playerHealth</code> is not stating \"who\" the player actually is; whether if its <code>Player A</code> or <code>Player B</code>. The script does not know that health should be reduced for <code>Player B</code>, rather than <code>Player A</code>. </p>\n\n<p>Each player would have a <code>PlayerID</code>; hence, <code>Player A</code> would have <code>PlayerID: 1</code>, and <code>Player B</code> would have <code>PlayerID: 2</code>.</p>\n\n<p>A more technical scenario would be the Client to Server communication.\nWhen <code>Player A</code> would want to attack <code>Player B</code>, the client (which is <code>Player A</code>) would send an <code>RPC</code> request to the server that he want to attack <code>Player B</code>.</p>\n\n<p>The server would receive a \"Packet\" containing the information sent from the <code>RPC</code>, including: <code>PlayerID</code> which is initiating the attack (in this case it is <code>PlayerID: 1</code> (A)), and the other <code>PlayerID</code> who has been attacked (<code>PlayerID: 2</code>). There would be more information in the packet for instance the <code>WeaponID</code>, and so on.</p>\n\n<p>Lastly, the server would send another <code>RPC</code> to everyone which pseudo code would be something like <code>ReducePlayerHealth(int playerID, int healthAmount, RPC.NotifyAll)</code></p>\n\n<p>That method would send each and every player in the game a packet in which the client would reduce the health of that specific player. The server must always be in command; therefore, the server sets the data, and the client reads the data.</p>\n\n<p>P.S: Had to post it as an answer since I could not input more characters under the comment section of your question. </p>\n"}], "owner": {"reputation": 194, "user_id": 8890269, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cl6dC-AxIGY/AAAAAAAAAAI/AAAAAAAABYA/kGmvOP0pXSY/photo.jpg?sz=128", "display_name": "Wzrd", "link": "https://stackoverflow.com/users/8890269/wzrd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576769788, "creation_date": 1576695520, "last_edit_date": 1576769788, "question_id": 59398501, "link": "https://stackoverflow.com/questions/59398501/unity-networking-clientrpc-being-called-on-the-wrong-player-object", "title": "Unity Networking | ClientRpc being called on the wrong player object", "body": "<p>The Problem: My <code>RpcDie</code> method is being called on the wrong GameObject. </p>\n\n<p>I.e: When Player A kills Player B, it is Player A who dies - not Player B.</p>\n\n<p>But this is only locally. So the behavior above only happens on Player A's game, and on Player B's game everything seems to be happening as expected. The opposite is also true.</p>\n\n<p>So: Player A kills player B. From Player A's perspective they are dead and Player B is alive. From Player B's perspective, they have died and Player A is alive. </p>\n\n<hr>\n\n<p>In the <code>Update</code> method of my <code>PlayerHealth</code> script I check to see if the players hp is less than 1. If it is, then I call the <code>CmdDie</code> method:</p>\n\n<pre><code>if (playerHealth &lt; 1)\n     CmdDie(); \n</code></pre>\n\n<p>From <code>CmdDie</code> I call my <code>RpcDie</code> method:</p>\n\n<pre><code>// Calls RpcDie\n[Command]\npublic void CmdDie ()\n{\n    RpcDie(); \n}\n\n// Removes the player from the game when killed by another player\n[ClientRpc]\nvoid RpcDie ()\n{\n    // Checks\n    if (!isLocalPlayer || PlayerUnit.isDead) return;\n\n    // Toggles + updates     \n    StopAllCoroutines(); \n    GameObject.Find(\"MapManager\").GetComponent&lt;GameManager&gt;().playerCount--;\n    GetComponent&lt;Renderer&gt;().enabled = false;\n    PlayerUnit.isDead = true; \n\n    // Ragdoll\n    ragdoll.SetActive(true); \n    foreach (Transform t in ragdoll.transform) \n       t.transform.position = gameObject.transform.position;\n}\n</code></pre>\n\n<p>From debugging I know that the player's health is being subtracted on the correct GameObject. It is only when a player dies that this 'switching' occurs. </p>\n"}, {"tags": ["c#", ".net-core"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576695457, "post_id": 59398467, "comment_id": 104986044, "body": "If you can not modify it, just wrap it into something you can modify. Latest when you try to use the type, VS will complain about &quot;no such Function/Property in that type&quot;."}, {"owner": {"reputation": 2820, "user_id": 2362544, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jDrp4.jpg?s=128&g=1", "display_name": "matterai", "link": "https://stackoverflow.com/users/2362544/matterai"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576695746, "post_id": 59398467, "comment_id": 104986173, "body": "We use JetBrains Rider on Linux :) by the way, it&#39;s a really good idea to wrap it with something, but first of all my goal is to expose all events out of the app, so I can get which events current service send.. sorry, maybe I miss-understood something?"}], "answers": [{"tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": false, "score": 0, "last_activity_date": 1576703236, "creation_date": 1576703236, "answer_id": 59399988, "question_id": 59398467, "link": "https://stackoverflow.com/questions/59398467/how-to-count-method-callings-in-assembly/59399988#59399988", "title": "How to count method callings in assembly?", "body": "<p>I understand that you are trying to replace a class you can not modify with something self made. And to know where to start you want to figure out wich Functions and Events are <em>actually</em> called by your rather large codebase - so you do not implement unused stuff. Ideally even splitting it up between different Function overloads and counting wich ones are used the most.</p>\n\n<p>I do not know of any way to do that kind of counting or code analysis. The best I can think off is having the Compiler complain about missing pieces.</p>\n\n<p>There are only a few ways I can think off:</p>\n\n<ol>\n<li>Just replace the instance. Follow all \"Type X does not contain the definition of Method Y\" Compiler errors.</li>\n<li>You wrap the existing class into something you wrote yourself. Go to step 1 and figure out wich functions need to be reachable. At the start, all you do is relay calls to the contained instance. That keeps the coding need to a minimum. Later you can make a alternative Implementation using this same class.</li>\n<li>You use \"Extract Interface\" or \"Extract Abstract class\" on the exisiting thing. You create a class that implements it. The default implementation is <code>throw new NotImplementedException();</code> You just test the whole thing and follow the Exceptions.</li>\n</ol>\n\n<p>As for the design, I like to use a small class Heirarchy and a static or instance variable for this:</p>\n\n<pre><code>class abstract Accessor{ }\n\nclass oldImplementation : Acessor {}\n\nclass newImplementation : Acessor {}\n</code></pre>\n\n<p>And then in code something like this:</p>\n\n<pre><code>static Acessor AcessProvider = new oldImplementation();\n//or\nstatic Acessor AcessProvider = new newImplementation();\n</code></pre>\n\n<p>However based on the Functions in your example, this sounds suspiciously like a Database Access code. Make sure not to accidentally create any Global instances that keep in memory without being Disposed. You can try to use Aliases for quick replacement:</p>\n\n<pre><code>using AcessProviderType = oldAcessType;\n</code></pre>\n\n<p>But you have to first change all code using the old thing directly to the Alias, of course. Here you can just comment out the using or even remove the reference to figure out wich places you missed.</p>\n"}], "owner": {"reputation": 2820, "user_id": 2362544, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jDrp4.jpg?s=128&g=1", "display_name": "matterai", "link": "https://stackoverflow.com/users/2362544/matterai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576703236, "creation_date": 1576695334, "question_id": 59398467, "link": "https://stackoverflow.com/questions/59398467/how-to-count-method-callings-in-assembly", "title": "How to count method callings in assembly?", "body": "<p>I have a class with just one method:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class EventPublisher\n{\n    public Task PublishAsync&lt;T&gt;(string title, T payload) { ... }\n}\n</code></pre>\n\n<p>There are a few places in the code (in one assembly) I use it. Something like:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>_publisher.PublishAsync(\"user-created\", userCreatedEvent);\n</code></pre>\n\n<p>Is it possible to count once somehow (preferably after build, before deploy) - how many times I called it in my assembly and which parameters I used for? I assume to get in the end something like this:</p>\n\n<pre><code>{\n  \"in-assembly-calls\" : [\n    \"user-created\",\n    \"user-deleted\",\n    \"user-updated\"\n  ]\n}\n</code></pre>\n\n<p>P.S. I explain. There is a code in production we can't rewrite now. But we need to expose somehow all events which current code publishes. We definitely can do it manually but if somebody missed to append the docs after fixing code - it will ruin something.</p>\n"}, {"tags": ["c#", "json", "asp.net-core", "configuration", "environment"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 1, "creation_date": 1576713385, "post_id": 59398439, "comment_id": 104992202, "body": "Based on my understanding, you cannot. I assume VS only reads launchSettings.json to learn which URL to use  and then launch the web browser. Your web app, however, is launched separately upon IIS Express, using the config file under <code>.vs</code> folder, so all it can see are those settings from there. There is a mechanism to sync <code>launchSettings.json</code> and IIS Express config file (starting in a certain version of VS), but that&#39;s also transparent to your web app."}, {"owner": {"reputation": 1922, "user_id": 3602057, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c7ce3b7185ea065d529fa4447263ac60?s=128&d=identicon&r=PG", "display_name": "Mike-E", "link": "https://stackoverflow.com/users/3602057/mike-e"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1576741308, "post_id": 59398439, "comment_id": 104998515, "body": "Thank you for your insight, @LexLi.  The ideal is to accommodate for both local development (IIS) and production.  It seems that such a basic and fundamental property of the web hosting environment would be accessible and readily available during initialization, but for some reason, it appears to be most elusive.  The <code>IHttpContextAccessor</code> is the closest approximation, but it is <code>null</code> during <code>Startup.Configure</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1922, "user_id": 3602057, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c7ce3b7185ea065d529fa4447263ac60?s=128&d=identicon&r=PG", "display_name": "Mike-E", "link": "https://stackoverflow.com/users/3602057/mike-e"}, "edited": false, "score": 1, "creation_date": 1576701028, "post_id": 59398985, "comment_id": 104988267, "body": "Thank you for your answer.  If I understand correctly, this would mean using <code>appsettings.json</code> which as I mentioned in the question is not ideal, as I then have to then manage the same data in two locations.  Please let me know if I have misunderstood something here."}, {"owner": {"reputation": 253, "user_id": 9096402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e66ae65026db9b697cea3b26e878c89?s=128&d=identicon&r=PG&f=1", "display_name": "aweyeahdawg", "link": "https://stackoverflow.com/users/9096402/aweyeahdawg"}, "reply_to_user": {"reputation": 1922, "user_id": 3602057, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c7ce3b7185ea065d529fa4447263ac60?s=128&d=identicon&r=PG", "display_name": "Mike-E", "link": "https://stackoverflow.com/users/3602057/mike-e"}, "edited": false, "score": 0, "creation_date": 1576704865, "post_id": 59398985, "comment_id": 104989647, "body": "You could do what @zonorai mentioned and add the launchSettings.json as a json file in configuration then just access that value from that part of the configuration. I added an edit to explain this a little more."}, {"owner": {"reputation": 1922, "user_id": 3602057, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c7ce3b7185ea065d529fa4447263ac60?s=128&d=identicon&r=PG", "display_name": "Mike-E", "link": "https://stackoverflow.com/users/3602057/mike-e"}, "edited": false, "score": 0, "creation_date": 1576704936, "post_id": 59398985, "comment_id": 104989666, "body": "Indeed, that seems to be the frontrunner if another answer is not presented.  I would prefer something that doesn&#39;t use <code>IConfiguration</code> and exposes the property as defined and utilized within the framework and, more specifically, the hosting (IIS) server."}, {"owner": {"reputation": 253, "user_id": 9096402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e66ae65026db9b697cea3b26e878c89?s=128&d=identicon&r=PG&f=1", "display_name": "aweyeahdawg", "link": "https://stackoverflow.com/users/9096402/aweyeahdawg"}, "reply_to_user": {"reputation": 1922, "user_id": 3602057, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c7ce3b7185ea065d529fa4447263ac60?s=128&d=identicon&r=PG", "display_name": "Mike-E", "link": "https://stackoverflow.com/users/3602057/mike-e"}, "edited": false, "score": 0, "creation_date": 1576705938, "post_id": 59398985, "comment_id": 104990002, "body": "You might want to look into environment variables then, and access that from all your apps."}], "tags": [], "owner": {"reputation": 253, "user_id": 9096402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e66ae65026db9b697cea3b26e878c89?s=128&d=identicon&r=PG&f=1", "display_name": "aweyeahdawg", "link": "https://stackoverflow.com/users/9096402/aweyeahdawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1576704306, "last_edit_date": 1576704306, "creation_date": 1576697789, "answer_id": 59398985, "question_id": 59398439, "link": "https://stackoverflow.com/questions/59398439/how-do-you-access-the-applicationurl-property-found-in-launchsettings-json-fro/59398985#59398985", "title": "How Do You Access the `applicationUrl` Property Found in launchSettings.json from Asp.NET Core 3.1 Startup class?", "body": "<p>In your <code>Startup</code> constructor, you can get an <code>IConfiguration</code> from dependency injection. With this, you can access properties inside your <code>appsettings.json</code> by using the configuration like so: </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var appUrl = _configuration[\"profiles:applicationUrl\"];\n</code></pre>\n\n<p>If you will be accessing many properties inside your <code>appsettings.json</code> you can use the <code>IConfiguration.Bind()</code> method to bind all properties within your configuration json to a class instance. For instance, you would have: </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class Config\n{\n   public Profile Profiles { get; set; }\n}\npublic class Profile\n{\n   public string ApplicationUrl { get; set; }\n}\n</code></pre>\n\n<p>Then in <code>ConfigureServices</code>: </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var config = new Config();\n_configuration.Bind(config);\n</code></pre>\n\n<p>Then if you register config into the serviceprovider you can access your configuration anywhere through DI: </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>services.AddSingleton(config);\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>To add json files other than the default appsettings.json, call <code>ConfigureAppConfiguration()</code> on the IWebHostBuilder after <code>CreateDefaultBuilder</code> in <code>Program.cs</code> documented below.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#configureappconfiguration\" rel=\"nofollow noreferrer\">Link to File Configuration Docs</a></p>\n\n<p>In the callback parameter you can add as many json,xml,ini files into the configuration you want, then use my answer above to get any values from all files. Note that if two of the same key is present, the last value for that key will be used. </p>\n"}, {"comments": [{"owner": {"reputation": 1922, "user_id": 3602057, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c7ce3b7185ea065d529fa4447263ac60?s=128&d=identicon&r=PG", "display_name": "Mike-E", "link": "https://stackoverflow.com/users/3602057/mike-e"}, "edited": false, "score": 0, "creation_date": 1576701129, "post_id": 59399076, "comment_id": 104988306, "body": "Thank you for your answer.  If I understand correctly this is relying on the <code>appSettings.json</code> file which is not preferred.  The information is in the <code>launchSettings.json</code> (or <i>somewhere</i> in memory as it is used somewhere by the IIS server), and that is what I am wanting to access it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12447201"}, "edited": false, "score": 0, "creation_date": 1576704528, "post_id": 59399076, "comment_id": 104989520, "body": "No, look in the first code block. <code>var builder = new ConfigurationBuilder().AddJsonFile(Path.Combine(Directory.Ge&zwnj;&#8203;tCurrentDirectory(), &quot;Properties&quot;, &quot;launchSettings.json&quot;));</code>"}, {"owner": {"reputation": 1922, "user_id": 3602057, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c7ce3b7185ea065d529fa4447263ac60?s=128&d=identicon&r=PG", "display_name": "Mike-E", "link": "https://stackoverflow.com/users/3602057/mike-e"}, "edited": false, "score": 0, "creation_date": 1576705459, "post_id": 59399076, "comment_id": 104989836, "body": "OK got it... I am with you now.  This seems to be a fallback strategy if another does not present itself.  As previously stated, I am aware I can simply deserialize the value from a configuration file and poking around the <code>IConfiguration</code> API is a flavor of this.  What I am looking for is this value as utilized and exposed by core framework code.  Something like <code>IApplicationBuilder.ApplicationServices.GetRequiredService&lt;I&zwnj;&#8203;ServerHostingEnviron&zwnj;&#8203;ment&gt;().ApplicationU&zwnj;&#8203;rl</code>.  You would think that this value would be readily available in <code>IWebHostEnvironment</code>, but alas."}, {"owner": {"reputation": 31, "user_id": 12553837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d663b0eaedc7019f03f8f74d2daa2a0?s=128&d=identicon&r=PG&f=1", "display_name": "Zonorai", "link": "https://stackoverflow.com/users/12553837/zonorai"}, "edited": false, "score": 0, "creation_date": 1576744220, "post_id": 59399076, "comment_id": 104999599, "body": "I understand now I thought you just wanted a cleaner way than literally reading all the text from the file and getting the value that way, if I stumble upon something I&#39;ll let you know!"}], "tags": [], "owner": {"reputation": 31, "user_id": 12553837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d663b0eaedc7019f03f8f74d2daa2a0?s=128&d=identicon&r=PG&f=1", "display_name": "Zonorai", "link": "https://stackoverflow.com/users/12553837/zonorai"}, "is_accepted": false, "score": 1, "last_activity_date": 1576698272, "creation_date": 1576698272, "answer_id": 59399076, "question_id": 59398439, "link": "https://stackoverflow.com/questions/59398439/how-do-you-access-the-applicationurl-property-found-in-launchsettings-json-fro/59399076#59399076", "title": "How Do You Access the `applicationUrl` Property Found in launchSettings.json from Asp.NET Core 3.1 Startup class?", "body": "<p>Have not tested it but I use this pattern to access appsettings.json.</p>\n\n<p>In startup.cs add launchsettings.json to the configuration builder:</p>\n\n<pre><code>public Startup(IConfiguration configuration)\n    {\n        var builder = new ConfigurationBuilder().AddJsonFile(Path.Combine(Directory.GetCurrentDirectory(), \"Properties\", \"launchSettings.json\"));\n        Configuration = builder.Build();\n    }\n\npublic IConfiguration Configuration { get; }\n</code></pre>\n\n<p>Add it as a service:</p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)\n{\n    services.AddSingleton &lt;IConfiguration&gt; (Configuration);\n}\n</code></pre>\n\n<p>Inject it in controller and get key value:</p>\n\n<pre><code>public class SomeController: ControllerBase {  \n    private IConfiguration _iconfiguration;  \n    public SomeController(IConfiguration iconfiguration) {  \n        _iconfiguration = iconfiguration;  \n    }\nvoid SomeMethod(){\nstring appUrl = _iConfiguration.GetValue&lt;string&gt;(\"applicationUrl\",\"someDefaultValue\")\n</code></pre>\n\n<p>}\n   }<br>\nHope this helps you out!</p>\n"}, {"comments": [{"owner": {"reputation": 424, "user_id": 886915, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3a5350eacbe1938c257190a43c569b68?s=128&d=identicon&r=PG", "display_name": "Saibamen", "link": "https://stackoverflow.com/users/886915/saibamen"}, "edited": false, "score": 0, "creation_date": 1612372532, "post_id": 60489767, "comment_id": 116748658, "body": "Remember about possible NRE and add <code>?</code>: <code>(&quot;ASPNETCORE_URLS&quot;)?.Split(</code>"}], "tags": [], "owner": {"reputation": 91, "user_id": 12993667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66033c14160f62f21364c90b7b500c87?s=128&d=identicon&r=PG&f=1", "display_name": "garlicbread", "link": "https://stackoverflow.com/users/12993667/garlicbread"}, "is_accepted": false, "score": 2, "last_activity_date": 1583155359, "creation_date": 1583155359, "answer_id": 60489767, "question_id": 59398439, "link": "https://stackoverflow.com/questions/59398439/how-do-you-access-the-applicationurl-property-found-in-launchsettings-json-fro/60489767#60489767", "title": "How Do You Access the `applicationUrl` Property Found in launchSettings.json from Asp.NET Core 3.1 Startup class?", "body": "<p>I was actually looking for something similar myself recently.</p>\n\n<p>It turns out you can determine what URL's were passed to the application by Visual Studio during a debugging session (from applicationUrl within launchSettings.json) By looking at the environmental variables.</p>\n\n<p>Although bearing in mind this is probably only useful for debugging within VStudio IDE which uses the launchSettings.json file</p>\n\n<pre><code>var urls = Environment.GetEnvironmentVariable(\"ASPNETCORE_URLS\").Split(\";\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 9721819, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Alex White", "link": "https://stackoverflow.com/users/9721819/alex-white"}, "is_accepted": false, "score": 0, "last_activity_date": 1614200384, "creation_date": 1614200384, "answer_id": 66358764, "question_id": 59398439, "link": "https://stackoverflow.com/questions/59398439/how-do-you-access-the-applicationurl-property-found-in-launchsettings-json-fro/66358764#66358764", "title": "How Do You Access the `applicationUrl` Property Found in launchSettings.json from Asp.NET Core 3.1 Startup class?", "body": "<p>I know, one year has passed, but this solution may be useful for somebody:</p>\n<pre><code>var configuration = new ConfigurationBuilder()\n                .AddJsonFile(&quot;appsettings.json&quot;)\n                .AddEnvironmentVariables()\n                .Build();\nvar appUrl = configuration[&quot;ASPNETCORE_URLS&quot;].Split(&quot;;&quot;).First();\n</code></pre>\n"}], "owner": {"reputation": 1922, "user_id": 3602057, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c7ce3b7185ea065d529fa4447263ac60?s=128&d=identicon&r=PG", "display_name": "Mike-E", "link": "https://stackoverflow.com/users/3602057/mike-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5863, "favorite_count": 1, "answer_count": 4, "score": 6, "last_activity_date": 1614200384, "creation_date": 1576695212, "last_edit_date": 1576705736, "question_id": 59398439, "link": "https://stackoverflow.com/questions/59398439/how-do-you-access-the-applicationurl-property-found-in-launchsettings-json-fro", "title": "How Do You Access the `applicationUrl` Property Found in launchSettings.json from Asp.NET Core 3.1 Startup class?", "body": "<p>I am currently creating an Asp.NET Core 3.1 API Application.  In it, I have a <code>launchSettings.json</code> that looks like the following:</p>\n\n<pre><code>{\n  \"iisSettings\": {\n    \"windowsAuthentication\": false,\n    \"anonymousAuthentication\": true,\n    \"iisExpress\": {\n      \"applicationUrl\": \"http://localhost:61392\",\n      \"sslPort\": 44308\n    }\n  },\n  \"$schema\": \"http://json.schemastore.org/launchsettings.json\",\n  \"profiles\": {\n    \"IIS Express\": {\n      \"commandName\": \"IISExpress\",\n      \"launchBrowser\": true,\n      \"launchUrl\": \"weatherforecast\",\n      \"environmentVariables\": {\n        \"Key\": \"Value\",\n        \"ASPNETCORE_ENVIRONMENT\": \"Development\"\n      }\n    },\n    \"Application.API\": {\n      \"commandName\": \"Project\",\n      \"launchBrowser\": true,\n      \"launchUrl\": \"weatherforecast\",\n      \"environmentVariables\": {\n        \"ASPNETCORE_ENVIRONMENT\": \"Development\"\n      },\n      \"applicationUrl\": \"https://localhost:5001;http://localhost:5000\"\n    }\n  }\n}\n</code></pre>\n\n<p>In particular, I am interested in obtaining the <code>applicationUrl</code> values defined in this file.  Unfortunately, I do not see any obvious way to access them outside of loading the file directly via JSON serialization and probing the values there.</p>\n\n<p>As such, I am looking for a more elegant solution.  Is there a way to access these values from within the <code>Startup.Configure</code> and/or <code>Startup.ConfigureServices</code> methods?</p>\n\n<p>I am thinking of something like:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public void Configure(IApplicationBuilder builder)\n{\n    var url = builder.ApplicationServices.GetRequiredService&lt;IServerHostingEnvironment&gt;().ApplicationUrl\n}\n</code></pre>\n\n<p>For reference, I did see <a href=\"https://stackoverflow.com/a/47051481/10340424\">this question</a>, but it seems that this requires an HTTP request.  In my case, I am still configuring the server before a request has been made.</p>\n\n<p>For <em>further</em> reference and context:  I am building a .NET GitHub App application, and am making the corresponding equivalent of the Smee.io client, whose Javascript code <a href=\"https://github.com/probot/smee-client/blob/master/index.js\" rel=\"noreferrer\">can be found here</a>.</p>\n\n<p>The client takes a <code>source</code> (via Server-sent events) and sends it to a <code>target</code>.  I got the <code>source</code> figured out and configured, but am ironically having trouble accessing and establishing the <code>target</code> URL (the <code>applicationUrl</code> seen above) in an obvious and configured fashion.</p>\n\n<p>Finally, I realize I could hardcode the value in <code>appSettings.json</code>, but that would then mean I would be maintaining the same value in two places -- one in <code>appSettings.json</code> and one in the already-existing <code>launchSettings.json</code>.  I would rather keep it to one place to reduce maintenance burden, if possible.</p>\n"}, {"tags": ["c#", "asp.net", "webforms"], "answers": [{"tags": [], "owner": {"reputation": 87, "user_id": 8003408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5c8cc26d8fa3d2dbac7a3fe005d5fee?s=128&d=identicon&r=PG&f=1", "display_name": "Luther", "link": "https://stackoverflow.com/users/8003408/luther"}, "is_accepted": true, "score": 1, "last_activity_date": 1576785007, "last_edit_date": 1576785007, "creation_date": 1576707317, "answer_id": 59400701, "question_id": 59398431, "link": "https://stackoverflow.com/questions/59398431/web-form-datagrid-export-to-excel-using-epplus/59400701#59400701", "title": "Web Form DataGrid export to excel using EPPlus", "body": "<p>I figured it out. I am converting my datagrid to a datatable because I need to work with it later on. The if clause inside the foreach only looks for visible columns.</p>\n\n<pre><code>private DataTable ConvertToDataTable(DataGrid dataGrid)\n        {\n            var dt = new DataTable();\n            foreach (DataGridColumn dgCol in dataGrid.Columns)\n            {\n                if (dgCol.Visible)\n                {\n                    dt.Columns.Add(dgCol.HeaderText);\n                }\n            }\n\n            return dt;\n        }\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 8003408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5c8cc26d8fa3d2dbac7a3fe005d5fee?s=128&d=identicon&r=PG&f=1", "display_name": "Luther", "link": "https://stackoverflow.com/users/8003408/luther"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 59400701, "answer_count": 1, "score": 1, "last_activity_date": 1576785007, "creation_date": 1576695173, "question_id": 59398431, "link": "https://stackoverflow.com/questions/59398431/web-form-datagrid-export-to-excel-using-epplus", "title": "Web Form DataGrid export to excel using EPPlus", "body": "<p>I have a Web Form application that has a DataGrid and hides a few columns depending on certain conditions. When I export just the headers I am also exporting the columns I am hiding in my code behind. How can I export the columns the current user is seeing?</p>\n"}, {"tags": ["c#", "winforms", "listview", ".net-4.0"], "comments": [{"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1576707325, "post_id": 59398402, "comment_id": 104990486, "body": "Your code works as expected. Performing the index change in a <code>BeginUpdate()</code>  <code>EndUpdate()</code> sequence just eliminates the flickering. Remove <code>Refresh()</code>, it&#39;s not required."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1576707937, "post_id": 59398402, "comment_id": 104990734, "body": "You could add <code>list_image.Focus();</code> in the Buttons <code>Click</code> event after the <code>moveImgList()</code> call (to better see the index change: the selected item will remain visibly selected)."}, {"owner": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1576761386, "post_id": 59398402, "comment_id": 105008076, "body": "I put <code>list_image.Focus ();</code>, but it didn&#39;t work either. I still have the same problem"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1576766118, "post_id": 59398402, "comment_id": 105010722, "body": "This is <a href=\"https://imgur.com/aiYwaxz\" rel=\"nofollow noreferrer\">your code at work</a>, I just added <code>list_image.EnsureVisible(newIndex);</code>. What is wrong with it?"}, {"owner": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1576766651, "post_id": 59398402, "comment_id": 105011039, "body": "<a href=\"https://imgur.com/IddRTsu\" rel=\"nofollow noreferrer\">link</a> This is my code working here"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1576768149, "post_id": 59398402, "comment_id": 105011863, "body": "Ah, in non-Details view. Try like this: <code>var currentView = list_image.View; list_image.BeginUpdate(); list_image.View = View.Details; list_image.Items.Remove(item); list_image.Items.Insert(newIndex, item); list_image.EnsureVisible(newIndex); list_image.View = currentView; list_image.EndUpdate();</code>"}, {"owner": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1576782016, "post_id": 59398402, "comment_id": 105018365, "body": "Good! It functioning!"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "edited": false, "score": 0, "creation_date": 1576695461, "post_id": 59398452, "comment_id": 104986046, "body": "Also adds BeginUpdate () and EndUpdate (). Unsuccessfully, unfortunately."}], "tags": [], "owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "is_accepted": true, "score": 0, "last_activity_date": 1576695265, "creation_date": 1576695265, "answer_id": 59398452, "question_id": 59398402, "link": "https://stackoverflow.com/questions/59398402/listview-move-item-with-up-and-down-button-net-framework/59398452#59398452", "title": "ListView Move Item with Up and Down Button .NET Framework", "body": "<p>Try calling the <code>BeginUpdate()</code> and <code>EndUpdate()</code> method on your list view object. This forces the UI to repaint the control.</p>\n\n<pre><code> list_image.BeginUpdate();\n list_image.Items.Remove(item);\n list_image.Items.Insert(newIndex, item);\n list_image.EndUpdate();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "edited": false, "score": 0, "creation_date": 1576696231, "post_id": 59398564, "comment_id": 104986350, "body": "Error: <i>System.ArgumentException: &#39;Cannot add or insert item&#39; Page 1 &#39;in more than one location. First you need to remove it from the current location or clone it.</i>"}, {"owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "reply_to_user": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "edited": false, "score": 0, "creation_date": 1576696329, "post_id": 59398564, "comment_id": 104986378, "body": "Are you sure? because this code neither adds nor inserts"}, {"owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "reply_to_user": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "edited": false, "score": 0, "creation_date": 1576696571, "post_id": 59398564, "comment_id": 104986471, "body": "and you are using <code>moveImgList(-1);</code> and <code>moveImgList(1);</code>?"}, {"owner": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "edited": false, "score": 0, "creation_date": 1576697766, "post_id": 59398564, "comment_id": 104986963, "body": "I had to make some modifications to the compile code, but at the time of execution gives the error I mentioned"}, {"owner": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "edited": false, "score": 0, "creation_date": 1576697770, "post_id": 59398564, "comment_id": 104986966, "body": "<code>if (list_image.SelectedItems == null) return;              ListViewItem item = list_image.SelectedItems[0];             int index = item.Index;             if ((direction == -1 &amp;&amp; index == 0) || (index == list_image.Items.Count - 1 &amp;&amp; direction == 1))                 return;             int newIndex = index + direction;             ListViewItem tmp = list_image.Items[index];             list_image.Items[index] = list_image.Items[newIndex];             list_image.Items[newIndex] = tmp;</code>"}, {"owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "reply_to_user": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "edited": false, "score": 0, "creation_date": 1576698169, "post_id": 59398564, "comment_id": 104987135, "body": "but please try it without modifications"}, {"owner": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "edited": false, "score": 0, "creation_date": 1576698484, "post_id": 59398564, "comment_id": 104987283, "body": "Just changed  <code>int index = list_image.SelectedIndex;</code> for  <code>ListViewItem item = list_image.SelectedItems [0]; \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0int index = item.Index;</code>"}, {"owner": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "edited": false, "score": 0, "creation_date": 1576698538, "post_id": 59398564, "comment_id": 104987311, "body": "And add type to variable <code>var tmp = list_image.Items[index];</code>"}, {"owner": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "edited": false, "score": 0, "creation_date": 1576698615, "post_id": 59398564, "comment_id": 104987345, "body": "Line Error: <code>list_image.Items[index] = list_image.Items[newIndex];</code>"}, {"owner": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "edited": false, "score": 0, "creation_date": 1576700552, "post_id": 59398564, "comment_id": 104988074, "body": "OK! No mistakes. But I still have the same problem as the question!"}, {"owner": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "edited": false, "score": 0, "creation_date": 1576700620, "post_id": 59398564, "comment_id": 104988098, "body": "It&#39;s like not updating the list view. In the list items is the change, but not in the preview."}, {"owner": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "edited": false, "score": 0, "creation_date": 1576700703, "post_id": 59398564, "comment_id": 104988134, "body": "<i>It moves but in listview it still displays the previous order.</i>"}], "tags": [], "owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "is_accepted": false, "score": 0, "last_activity_date": 1576700102, "last_edit_date": 1576700102, "creation_date": 1576695817, "answer_id": 59398564, "question_id": 59398402, "link": "https://stackoverflow.com/questions/59398402/listview-move-item-with-up-and-down-button-net-framework/59398564#59398564", "title": "ListView Move Item with Up and Down Button .NET Framework", "body": "<p>When you remove an item indexes change and you may insert in the wrong place or even get an exception if it is the last item. swapping 2 items is better I think: </p>\n\n<pre><code>private void moveImgList(int direction)\n{\n    if (list_image.SelectedItems == null) return; \n    int index = list_image.SelectedIndex;\n    if((direction == -1 &amp;&amp; index == 0) || (index == list_image.Items.Count - 1 &amp;&amp; direction =1)\n        return;\n    int newIndex = index + direction;\n    tmp = list_image.Items[index].Clone();\n    list_image.Items[index] = (ListViewItem)list_image.Items[newIndex].Clone();\n    list_image.Items[newIndex] = (ListViewItem)tmp;\n}\n</code></pre>\n\n<p>And then this would work:</p>\n\n<pre><code>private void btnLeft_Click(object sender, EventArgs e)\n{\n    moveImgList(-1);\n}\n\nprivate void btnRight_Click(object sender, EventArgs e)\n{\n    moveImgList(1);\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12229847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95b8306aa6d929d799048b1958cede3?s=128&d=identicon&r=PG&f=1", "display_name": "Renata Macedo", "link": "https://stackoverflow.com/users/12229847/renata-macedo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "accepted_answer_id": 59398452, "answer_count": 2, "score": 0, "last_activity_date": 1576782134, "creation_date": 1576695034, "last_edit_date": 1576782134, "question_id": 59398402, "link": "https://stackoverflow.com/questions/59398402/listview-move-item-with-up-and-down-button-net-framework", "title": "ListView Move Item with Up and Down Button .NET Framework", "body": "<p>I have a problem!</p>\n\n<p>I have a listview that will have a random number of items (according to the pages of a document). But I need to have the option to reorder these pages (which are the listview items). I did a function to use on both buttons (Up and Down) but it is not reordering right. For example: I have two items (Page 1 and Page 2) and I want to move Page 2 to position 0, it moves but in listview it still displays the previous order. Among other examples I made with more pages.\nBelow is the code and his call.</p>\n\n<pre><code>private void moveImgList(int direction)\n    {\n        if (list_image.SelectedItems == null) { return; }\n\n        ListViewItem item = list_image.SelectedItems[0];\n\n        int newIndex = item.Index + direction;\n\n        if (newIndex &lt; 0 || newIndex &gt;= list_image.Items.Count) { return; }\n\n        list_image.Items.Remove(item);\n        list_image.Items.Insert(newIndex, item);\n\n    }\n</code></pre>\n\n<p>Method call</p>\n\n<pre><code>private void btnLeft_Click(object sender, EventArgs e)\n    {\n        this.moveImgList(-1);\n    }\n\n    private void btnRight_Click(object sender, EventArgs e)\n    {\n        this.moveImgList(1);\n    }\n</code></pre>\n\n<p>Application Windows Form .NET Framework</p>\n\n<p><a href=\"https://imgur.com/IddRTsu\" rel=\"nofollow noreferrer\">My code</a></p>\n\n<p><strong>It worked that way!</strong></p>\n\n<pre><code>private void moveItem(int direction)\n    {\n        if (listView1.SelectedItems.Count == 0) { return; }\n\n        ListViewItem item = listView1.SelectedItems[0];\n\n        int newIndex = item.Index + direction;\n\n        if (newIndex &lt; 0 || newIndex &gt;= listView1.Items.Count) { return; }\n\n        var currentView = listView1.View;\n        listView1.BeginUpdate();\n        listView1.View = View.Details;\n        listView1.Items.Remove(item);\n        listView1.Items.Insert(newIndex, item);\n        listView1.EnsureVisible(newIndex);\n        listView1.View = currentView;\n        listView1.EndUpdate();\n    }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 355, "user_id": 6608667, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0a489e5bbc85ff18692d3acf8ffe0872?s=128&d=identicon&r=PG&f=1", "display_name": "Zaid Al Shattle", "link": "https://stackoverflow.com/users/6608667/zaid-al-shattle"}, "edited": false, "score": 0, "creation_date": 1576695168, "post_id": 59398373, "comment_id": 104985912, "body": "If you can store a unique symbol (e.g. &quot;&lt;*username*&gt;&quot;) where you want to insert your username you can avoid a foreach, and instead use a normal string lookup"}], "answers": [{"tags": [], "owner": {"reputation": 591, "user_id": 8998175, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-y_JyZz2tJ64/AAAAAAAAAAI/AAAAAAAAA9Y/VSVrc7mwzMk/photo.jpg?sz=128", "display_name": "misticos", "link": "https://stackoverflow.com/users/8998175/misticos"}, "is_accepted": false, "score": 0, "last_activity_date": 1576695143, "creation_date": 1576695143, "answer_id": 59398425, "question_id": 59398373, "link": "https://stackoverflow.com/questions/59398373/writing-to-a-txt-file-at-a-certain-point/59398425#59398425", "title": "Writing to a .txt file at a certain point", "body": "<p>To insert a line after a specific one, you should use a backwards for loop and a <code>List::Insert</code> method. See <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.list-1.insert\" rel=\"nofollow noreferrer\">List.Insert(Int32, T) Method</a></p>\n"}, {"comments": [{"owner": {"reputation": 243, "user_id": 3594283, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/a18025991c9792d3c19b9fe94f8c0ee2?s=128&d=identicon&r=PG&f=1", "display_name": "graham23s", "link": "https://stackoverflow.com/users/3594283/graham23s"}, "edited": false, "score": 0, "creation_date": 1576696506, "post_id": 59398547, "comment_id": 104986446, "body": "Thank you very much guys, that is a much better approach Matthew, the <code>for</code> loop was the way to go."}], "tags": [], "owner": {"reputation": 90105, "user_id": 106159, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Qfp6z.png?s=128&g=1", "display_name": "Matthew Watson", "link": "https://stackoverflow.com/users/106159/matthew-watson"}, "is_accepted": true, "score": 1, "last_activity_date": 1576695697, "creation_date": 1576695697, "answer_id": 59398547, "question_id": 59398373, "link": "https://stackoverflow.com/questions/59398373/writing-to-a-txt-file-at-a-certain-point/59398547#59398547", "title": "Writing to a .txt file at a certain point", "body": "<p>The easiest way to approach this is to use a <code>for</code> loop to index over the array of strings, rather than<code>foreach</code>.</p>\n\n<p>Then you can write a loop that starts at 1 instead of 0 and \"lags\" by one element, allowing you to append the text to the previous line more easily.</p>\n\n<p>You would then have to write the last line of the file as an extra step after the loop terminates.</p>\n\n<p>Something like this:</p>\n\n<pre><code>public void WriteToAIFile(string findThis, string writeThis)\n{\n    var fileContent = File.ReadAllLines(@\"LogicFiles\\rj-ai-fields.txt\");\n\n    using (var output = File.CreateText(\"My filename\"))\n    {\n        for (int i = 1; i &lt; fileContent.Length; ++i)\n        {\n            if (fileContent[i] == findThis)\n                output.WriteLine(fileContent[i-1] + \"|\" + writeThis);\n            else\n                output.WriteLine(fileContent[i-1]);\n        }\n\n        output.WriteLine(fileContent[fileContent.Length-1]);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 243, "user_id": 3594283, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/a18025991c9792d3c19b9fe94f8c0ee2?s=128&d=identicon&r=PG&f=1", "display_name": "graham23s", "link": "https://stackoverflow.com/users/3594283/graham23s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 59398547, "answer_count": 2, "score": 0, "last_activity_date": 1576695697, "creation_date": 1576694868, "question_id": 59398373, "link": "https://stackoverflow.com/questions/59398373/writing-to-a-txt-file-at-a-certain-point", "title": "Writing to a .txt file at a certain point", "body": "<p>What i am trying to do here is write to a .txt file a certain string the user has selected, but only at a certain part of the .txt file, for example:</p>\n\n<p>A text file will contain:</p>\n\n<pre><code>#name|user_login\nUSERNAME\n#password|pass_recovery|user_pass\nPASSWORD\n...\n...\n...\n</code></pre>\n\n<p>If i type in a <code>TextBox</code> the word <code>new_user</code> (for example) in the <code>combobox</code> drop down i'll select <code>USERNAME</code> i'm trying to find this line in the .txt file then append it like:</p>\n\n<pre><code>#name|user_login|new_user\nUSERNAME\n#password|pass_recovery|user_pass\nPASSWORD\n...\n...\n...\n</code></pre>\n\n<p>The same would go for any of the lines in capital letters, my function so far is:</p>\n\n<pre><code>        public void WriteToAIFile(string findThis, string writeThis)\n        {\n            var fileContent = File.ReadAllLines(@\"LogicFiles\\rj-ai-fields.txt\");\n            foreach (string eachLine in fileContent) {\n                if (findThis == eachLine) {\n                    // we have found the macro we want, go back up 1 line and append: \"|\" + writeThis to the end of the line ...\n\n                    //var writeContent = File.WriteAllText(@\"LogicFiles\\rj-ai-fields.txt\");\n                }\n            }\n        }\n</code></pre>\n\n<p>Is pretty basic, what i'm thinking is to loop each line until <code>findThis == eachLine</code> (which is the capital letter value) then append the <code>writeThis</code> to the end of that line, but i would need to go back up 1 line before appending, is there a bewtter way to achieve this at all? is a <code>foreach</code> loop needed at all i'm thinking? thank you for any help, it's appreciated.</p>\n"}, {"tags": ["c#", "wpf", "mvvm"], "comments": [{"owner": {"reputation": 441, "user_id": 181976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65d79b0fda9a9ebca0b83f9f4568890b?s=128&d=identicon&r=PG&f=1", "display_name": "user1934587390", "link": "https://stackoverflow.com/users/181976/user1934587390"}, "edited": false, "score": 0, "creation_date": 1576694819, "post_id": 59398335, "comment_id": 104985783, "body": "Your new windows need to have their own view models or at the very least their own properties that utilize inotifypropertychanged so the objects know that the property values have changed after you edit them"}, {"owner": {"reputation": 326, "user_id": 9195303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZQ2uZ.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/9195303/stefan"}, "reply_to_user": {"reputation": 441, "user_id": 181976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65d79b0fda9a9ebca0b83f9f4568890b?s=128&d=identicon&r=PG&f=1", "display_name": "user1934587390", "link": "https://stackoverflow.com/users/181976/user1934587390"}, "edited": false, "score": 0, "creation_date": 1576695284, "post_id": 59398335, "comment_id": 104985969, "body": "Hmm, I&#39;ve read about it, but I am not that familiar with the implementation of it"}, {"owner": {"reputation": 326, "user_id": 9195303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZQ2uZ.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/9195303/stefan"}, "reply_to_user": {"reputation": 441, "user_id": 181976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65d79b0fda9a9ebca0b83f9f4568890b?s=128&d=identicon&r=PG&f=1", "display_name": "user1934587390", "link": "https://stackoverflow.com/users/181976/user1934587390"}, "edited": false, "score": 0, "creation_date": 1576695573, "post_id": 59398335, "comment_id": 104986103, "body": "So I should create a new ViewModel for my new Window in it transfer my fields that I DataBinded, and there implement adding a new object?"}, {"owner": {"reputation": 441, "user_id": 181976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65d79b0fda9a9ebca0b83f9f4568890b?s=128&d=identicon&r=PG&f=1", "display_name": "user1934587390", "link": "https://stackoverflow.com/users/181976/user1934587390"}, "edited": false, "score": 1, "creation_date": 1576695795, "post_id": 59398335, "comment_id": 104986188, "body": "In your view models you should implement INotifyPropertyChanged events on your property setter methods. This would tell the view model that you updated the value of a given property -- otherwise you may change the value in the window but the view model never really knows it happened. It detects property value changes from the view and fires an event that notifies the view model about the change in value so it can react accordingly. Here is more about it from a WPF point of view: <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wpf/data/how-to-implement-property-change-notification\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/framework/wpf/data/&hellip;</a>"}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1576772099, "post_id": 59398335, "comment_id": 105014026, "body": "This is not MVVM. A view model is not supposed to create a new window."}], "answers": [{"comments": [{"owner": {"reputation": 326, "user_id": 9195303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZQ2uZ.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/9195303/stefan"}, "edited": false, "score": 0, "creation_date": 1576707973, "post_id": 59400491, "comment_id": 104990748, "body": "So I should create a new class named NewWindowViewModel, as I&#39;ve done with WindowViewModel"}, {"owner": {"reputation": 163, "user_id": 6470682, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aYBVPRQ25x4/AAAAAAAAAAI/AAAAAAAAABM/x12NQGL0fec/photo.jpg?sz=128", "display_name": "Sam Xia", "link": "https://stackoverflow.com/users/6470682/sam-xia"}, "reply_to_user": {"reputation": 326, "user_id": 9195303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZQ2uZ.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/9195303/stefan"}, "edited": false, "score": 0, "creation_date": 1576717170, "post_id": 59400491, "comment_id": 104992963, "body": "@Stefan Correct. Just a new ViewModel for your new window. Of course it can be any name you want."}], "tags": [], "owner": {"reputation": 163, "user_id": 6470682, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aYBVPRQ25x4/AAAAAAAAAAI/AAAAAAAAABM/x12NQGL0fec/photo.jpg?sz=128", "display_name": "Sam Xia", "link": "https://stackoverflow.com/users/6470682/sam-xia"}, "is_accepted": false, "score": 0, "last_activity_date": 1576706180, "creation_date": 1576706180, "answer_id": 59400491, "question_id": 59398335, "link": "https://stackoverflow.com/questions/59398335/how-to-extract-data-from-a-new-window-wpf-mvvm/59400491#59400491", "title": "How to extract data from a new window. WPF MVVM", "body": "<p>You could use 2 ViewModel in this question. One is used for your main window(which you alread have) and the other is used for your new window(this is a new one you need create).</p>\n\n<p>Main Window ViewModel</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>NewWindowViewModel vm = new NewWindowViewModel();\nprivate void CreatNewReactor()\n{\n    NewWindow nw = new NewWindow();\n    nw.DataContext = vm;\n    if(nw.ShowDialog() == true)\n    {\n        //do something\n        //you can also pass new window databinding into main ViewModel\n        //for example: something = vm.something\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 326, "user_id": 9195303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZQ2uZ.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/9195303/stefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1576706180, "creation_date": 1576694663, "question_id": 59398335, "link": "https://stackoverflow.com/questions/59398335/how-to-extract-data-from-a-new-window-wpf-mvvm", "title": "How to extract data from a new window. WPF MVVM", "body": "<p>I am working on WPF with MVVM architectural pattern. </p>\n\n<p>But I got stuck on this problem, and I can't seem to resolve it.</p>\n\n<p>I made a new window that is opened and user can input data for an object that should be created when the user presses \"ADD\", but I know how to open it, but I do not know how to extract the inserted data via textboxes for object creation. </p>\n\n<blockquote>\n  <p>This is the sample of my new window for inputting data, I tried to\n  implement DataBinding</p>\n</blockquote>\n\n<pre><code>&lt;Grid Margin=\"0,0,2,0\"&gt;\n        &lt;Label x:Name=\"NameLB\" Content=\"Reactor Name:\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\" Margin=\"10,10,0,0\" Width=\"89\" RenderTransformOrigin=\"0.383,0.423\"/&gt;\n        &lt;Label x:Name=\"NameErrorLB\" Content=\"\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\" Margin=\"226,10,0,0\" Width=\"143\"/&gt;\n        &lt;TextBox x:Name=\"ReactorNameTB\" Text=\"{Binding ReactorNameText}\"  HorizontalAlignment=\"Left\" Height=\"26\" Margin=\"104,10,0,0\"  VerticalAlignment=\"Top\" Width=\"117\"/&gt;\n        &lt;Label x:Name=\"IdLB\" Content=\"Reactor ID:\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\" Margin=\"10,41,0,0\" Width=\"89\" RenderTransformOrigin=\"0.383,0.423\"/&gt;\n        &lt;Label x:Name=\"IdErrorLB\" Content=\"\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\" Margin=\"226,41,0,0\" Width=\"143\"/&gt;\n        &lt;TextBox x:Name=\"ReactorIdTB\" Text=\"{Binding ReactorIdText}\" HorizontalAlignment=\"Left\" Height=\"26\" Margin=\"104,41,0,0\"  VerticalAlignment=\"Top\" Width=\"117\"/&gt;\n\n        &lt;Label x:Name=\"TypeLB\" Content=\"Reactor Type:\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\" Margin=\"10,72,0,0\" Width=\"89\" RenderTransformOrigin=\"0.383,0.423\"/&gt;\n        &lt;RadioButton x:Name=\"TypeRB1\" IsChecked=\"{Binding ReactorType1}\" Content=\"Type 1\" HorizontalAlignment=\"Left\" Margin=\"104,78,0,0\" VerticalAlignment=\"Top\" /&gt;\n        &lt;RadioButton x:Name=\"TypeRB2\" IsChecked=\"{Binding ReactorType2}\" Content=\"Type 2\" HorizontalAlignment=\"Left\" Margin=\"167,78,0,0\" VerticalAlignment=\"Top\" /&gt;\n        &lt;Label x:Name=\"TypeErrorLB\" Content=\"\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\" Margin=\"226,72,0,0\" Width=\"143\"/&gt;\n\n        &lt;Button x:Name=\"AddBT\" Command=\"{Binding AddNewReactor}\" Content=\"ADD\" HorizontalAlignment=\"Left\" Margin=\"123,102,0,0\" VerticalAlignment=\"Top\" Width=\"75\"/&gt;\n    &lt;/Grid&gt;\n</code></pre>\n\n<blockquote>\n  <p>This my ViewModel implementation with commands</p>\n</blockquote>\n\n<pre><code>        public MyICommand OpenAddReactorWindow { get; set; }\n        public MyICommand AddNewReactor { get; set; }\n        public MyICommand ExitApplication { get; set; }\n\n        // fields that i tried to bind with DataBinding\n        private string reactorNameText;\n        private string reactorIdText;\n        private string reactorType1;\n        private string reactorType2;\n\n        public ReactorViewModel()\n        {\n            OpenAddReactorWindow = new MyICommand(OpenAddReactor);\n            AddNewReactor = new MyICommand(CreatNewReactor);\n\n            ExitApplication = new MyICommand(CloseApplication);\n        }\n\n\n\n private void OpenAddReactor()\n        {\n            AddReactorWindow window = new AddReactorWindow();\n            window.Show();\n        }\nprivate void CreatNewReactor()\n        {\n            // here is where I struggle with implementation\n        }\n</code></pre>\n\n<p>This is not all of the code it would be a hell of a long post, so I want to keep it short, if something is missing I can upload it.</p>\n\n<p>If someone has a advice , or can explain to me, what I am doing wrong It would be great!</p>\n"}, {"tags": ["javascript", "c#", "html"], "comments": [{"owner": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 2, "creation_date": 1576694988, "post_id": 59398333, "comment_id": 104985852, "body": "generate on, or send it to the server, save it on the server, send it to people loading the page."}, {"owner": {"reputation": 1928, "user_id": 10549827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XGgBZ.png?s=128&g=1", "display_name": "matthew-e-brown", "link": "https://stackoverflow.com/users/10549827/matthew-e-brown"}, "edited": false, "score": 0, "creation_date": 1576695013, "post_id": 59398333, "comment_id": 104985858, "body": "Your easiest bet would probably be to generate it server-side and store it there."}], "answers": [{"tags": [], "owner": {"reputation": 15, "user_id": 8804400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1543579089043023/picture?type=large", "display_name": "Banned007", "link": "https://stackoverflow.com/users/8804400/banned007"}, "is_accepted": false, "score": 0, "last_activity_date": 1576695082, "creation_date": 1576695082, "answer_id": 59398411, "question_id": 59398333, "link": "https://stackoverflow.com/questions/59398333/how-can-i-save-a-raw-text-on-a-website-to-be-same-for-all-users-that-visit-it/59398411#59398411", "title": "How can i save a raw text on a website to be same for all users that visit it?", "body": "<p>Welcome Joe! I think that what you are trying to do is not possible to be calculated from JavaScript on the browser, the case being that if you want your key to be shared among your clients, it has to be generated from your server and be served to your clients (your client has no way of knowing what other clients key is if there is no common point of checking (Server)). You need to make an API GET method in your server for your clients to check the current key.</p>\n"}, {"tags": [], "owner": {"reputation": 1284, "user_id": 3649977, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cde22dae0b134207981672daa28d3461?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey Devloo", "link": "https://stackoverflow.com/users/3649977/jeffrey-devloo"}, "is_accepted": true, "score": 0, "last_activity_date": 1576695126, "creation_date": 1576695126, "answer_id": 59398420, "question_id": 59398333, "link": "https://stackoverflow.com/questions/59398333/how-can-i-save-a-raw-text-on-a-website-to-be-same-for-all-users-that-visit-it/59398420#59398420", "title": "How can i save a raw text on a website to be same for all users that visit it?", "body": "<p>We need to understand some concepts here.\nEvery time a user goes to a webpage, the page HTML, JavaScript and CSS is downloaded and parsed by the users browser.\nThis means that each user has their own version of the webpage.</p>\n\n<p>If you want to show every user the same, they'd need the same source of truth, which is your server. So you could do something like</p>\n\n<pre><code>window.onload = async () =&gt; {\n    const response = await fetch(&lt;API&gt;);\n    const truth = await reponse.json();\n    document.body.innerHTML = truth;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3894, "user_id": 4342563, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/xgGSM.png?s=128&g=1", "display_name": "Eric Lease", "link": "https://stackoverflow.com/users/4342563/eric-lease"}, "is_accepted": false, "score": 0, "last_activity_date": 1576695239, "creation_date": 1576695239, "answer_id": 59398446, "question_id": 59398333, "link": "https://stackoverflow.com/questions/59398333/how-can-i-save-a-raw-text-on-a-website-to-be-same-for-all-users-that-visit-it/59398446#59398446", "title": "How can i save a raw text on a website to be same for all users that visit it?", "body": "<p>What you are talking about is caching.  You mentioned C#, so I'm adding that tag to this question, as what you are describing would happen on the server, using a server side technology such as ASP.NET.  Caching is a complex topic, but to start with <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/performance/caching-in-net-framework-applications\" rel=\"nofollow noreferrer\">MSDN page regarding caching in .NET apps</a>, and specifically <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.runtime.caching.memorycache?view=netframework-4.8\" rel=\"nofollow noreferrer\">MemoryCache</a>.  The default settings will cause cache entries to expire after 24hrs, and you can provide an event handler that is triggered when a cache entry expires.  Using this, you can provide a function that will generate a store a new, unique key every time the prior day's key expires.</p>\n\n<p>Now, to provide that key to the client there are a myriad of approaches, and which one to apply would be context specific.  For example consider whether you are returning this with the initial response, or if you are returning this as the result of a subsequent AJAX request.</p>\n"}], "owner": {"reputation": 3, "user_id": 11440935, "user_type": "registered", "profile_image": "https://graph.facebook.com/2613095212250444/picture?type=large", "display_name": "Joe Ali", "link": "https://stackoverflow.com/users/11440935/joe-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 59398420, "answer_count": 3, "score": -2, "last_activity_date": 1576703123, "creation_date": 1576694661, "last_edit_date": 1576703123, "question_id": 59398333, "link": "https://stackoverflow.com/questions/59398333/how-can-i-save-a-raw-text-on-a-website-to-be-same-for-all-users-that-visit-it", "title": "How can i save a raw text on a website to be same for all users that visit it?", "body": "<p>I am trying to make a Key system that generates a random code every 24 hours to use it on a c# form but when i generate a number then i refresh it regenerates i want it to save so it can be same for all users accessing my site!</p>\n\n<pre><code>&lt;head&gt;\n&lt;script&gt;  \nsetInterval(function(){  \n    document.body.innerHTML = \"\";\n    document.write(Math.floor((Math.random()*1000000000000)+1)); \n }, 20000);\n&lt;/script&gt;     \n&lt;/head&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>So any idea on how to do that?</p>\n"}, {"tags": ["c#", "arrays", "xml", "parsing", "graphml"], "answers": [{"comments": [{"owner": {"reputation": 261, "user_id": 12393792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061b4453a944fafa89ad09f0837ef459?s=128&d=identicon&r=PG&f=1", "display_name": "brstkr", "link": "https://stackoverflow.com/users/12393792/brstkr"}, "edited": false, "score": 1, "creation_date": 1576697315, "post_id": 59398429, "comment_id": 104986774, "body": "Thank you, exactly what I was searching for!"}], "tags": [], "owner": {"reputation": 563, "user_id": 10491171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8923bd329efae398c456f2dbb1441975?s=128&d=identicon&r=PG&f=1", "display_name": "terrencep", "link": "https://stackoverflow.com/users/10491171/terrencep"}, "is_accepted": true, "score": 0, "last_activity_date": 1576695371, "last_edit_date": 1576695371, "creation_date": 1576695163, "answer_id": 59398429, "question_id": 59398325, "link": "https://stackoverflow.com/questions/59398325/c-split-xml-innertext/59398429#59398429", "title": "C# split XML InnerText", "body": "<pre><code>string splitOn = @\"[\\s+-]+\";\n\nstring[] stringArray= Regex.Split(InnerText, splitOn);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 261, "user_id": 12393792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061b4453a944fafa89ad09f0837ef459?s=128&d=identicon&r=PG&f=1", "display_name": "brstkr", "link": "https://stackoverflow.com/users/12393792/brstkr"}, "edited": false, "score": 0, "creation_date": 1576702122, "post_id": 59398956, "comment_id": 104988626, "body": "Thank you so much."}], "tags": [], "owner": {"reputation": 1323, "user_id": 4628597, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wKkDYI4u7ws/AAAAAAAAAAI/AAAAAAAAImg/PBTVUUnDauQ/photo.jpg?sz=128", "display_name": "Alvin Sartor", "link": "https://stackoverflow.com/users/4628597/alvin-sartor"}, "is_accepted": false, "score": 1, "last_activity_date": 1576697640, "creation_date": 1576697640, "answer_id": 59398956, "question_id": 59398325, "link": "https://stackoverflow.com/questions/59398325/c-split-xml-innertext/59398956#59398956", "title": "C# split XML InnerText", "body": "<p>If you don't like regex:</p>\n\n<pre><code>string[] nameAgeId = InnerText.Split(' ')\n                              .Select(x =&gt; x.Trim('+', '-')\n                              .ToArray();\n</code></pre>\n"}], "owner": {"reputation": 261, "user_id": 12393792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061b4453a944fafa89ad09f0837ef459?s=128&d=identicon&r=PG&f=1", "display_name": "brstkr", "link": "https://stackoverflow.com/users/12393792/brstkr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 59398429, "answer_count": 2, "score": 0, "last_activity_date": 1576697640, "creation_date": 1576694631, "question_id": 59398325, "link": "https://stackoverflow.com/questions/59398325/c-split-xml-innertext", "title": "C# split XML InnerText", "body": "<p>I have a <em>.graphml</em> file which is based on the <em>XML</em> data format but allows us to represent graph structures. My problem is that I have many InnerText Elements in one Node and need to split them into an array.</p>\n\n<pre><code>...&lt;y:AttributeLabel xml:space=\"preserve\"&gt;+Name +Age -Id&lt;/y:AttributeLabel&gt;...\n</code></pre>\n\n<p>From this example, I need <strong>+Name</strong>, <strong>+Age</strong> and <strong>-Id</strong> separately stored in an array. \nCan anyone help me out?</p>\n\n<p>Btw the .graphml file is huge.</p>\n"}, {"tags": ["c#", "outlook", "late-binding"], "comments": [{"owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1576695383, "post_id": 59398300, "comment_id": 104986011, "body": "what dialog are you referring to ?"}, {"owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1576695553, "post_id": 59398300, "comment_id": 104986089, "body": "try mailItem.Display(true);"}, {"owner": {"reputation": 53, "user_id": 6695457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c08dc36809cf1d95f62b1f38703b032e?s=128&d=identicon&r=PG&f=1", "display_name": "MSantos", "link": "https://stackoverflow.com/users/6695457/msantos"}, "reply_to_user": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1576782254, "post_id": 59398300, "comment_id": 105018450, "body": "I&#39;m referring to the compose email dialog. I&#39;ve tried Display(true) - It&#39;s in the example, on the commented lines, but thanks anyway!"}, {"owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1576807716, "post_id": 59398300, "comment_id": 105025293, "body": "well, I had a similar module that I implemented last year. Posting the code snippet below in my answer, that should help you out"}, {"owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1580789189, "post_id": 59398300, "comment_id": 106203612, "body": "hi MSantos, can you please confirm if the code snippet below or any other answer, helped you solve your question, if yes please consider clicking on the green tickbox to accept it"}], "answers": [{"tags": [], "owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1576728977, "creation_date": 1576728977, "answer_id": 59403232, "question_id": 59398300, "link": "https://stackoverflow.com/questions/59398300/outlook-not-showing-in-top-of-caller-application/59403232#59403232", "title": "Outlook not showing in top of caller application", "body": "<p>Display the item modelessly (<code>MailItem.Display(false)</code>), then activate the <code>Inspector</code> object by calling <code>MaiLItem.GetInspector</code> / <code>Inspector.Activate</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "is_accepted": false, "score": 0, "last_activity_date": 1576808140, "creation_date": 1576808140, "answer_id": 59419114, "question_id": 59398300, "link": "https://stackoverflow.com/questions/59398300/outlook-not-showing-in-top-of-caller-application/59419114#59419114", "title": "Outlook not showing in top of caller application", "body": "<p>Since you have stated in your comments that you have already tried Display(true) , thought I will post what we tried some time ago.</p>\n\n<p>This is from one of the simple modules we had used for Outlook and I remember it worked well</p>\n\n<p>Was tested on Win10 and Win7 with O365 / Outlook2016</p>\n\n<blockquote>\n  <p>Be sure to add COM Reference in VS \"Outlook Object 16\" I believe its\n  called</p>\n</blockquote>\n\n<hr>\n\n<pre><code>           using System;\n           using Outlook = Microsoft.Office.Interop.Outlook;\n           using System.Runtime.InteropServices;\n\n           public Class Outlook\n           {\n               public void SendMail()\n               {\n                    Outlook.Application outlookObj = null;\n\n                    Outlook.Application oApp = new Outlook.Application();\n                    Outlook._MailItem oMailItem = (Outlook._MailItem)oApp.CreateItem(Outlook.OlItemType.olMailItem);\n                    oMailItem.To = \"xyz@gmail.com\";\n                    oMailItem.Subject = $\"Primary user confirmed, survey sent\";\n                    oMailItem.Body = $\"Please find below {userEmail.Text}\";\n                    oMailItem.Display(true);\n\n                    oMailItem.Send();\n\n                    Marshal.ReleaseComObject(oApp);\n                    Marshal.ReleaseComObject(oMailItem);\n\n                }\n\n           }\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6695457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c08dc36809cf1d95f62b1f38703b032e?s=128&d=identicon&r=PG&f=1", "display_name": "MSantos", "link": "https://stackoverflow.com/users/6695457/msantos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576808140, "creation_date": 1576694561, "last_edit_date": 1576694632, "question_id": 59398300, "link": "https://stackoverflow.com/questions/59398300/outlook-not-showing-in-top-of-caller-application", "title": "Outlook not showing in top of caller application", "body": "<p>I'm using outlook to compose email using c#</p>\n\n<p>The code i use is as follows:</p>\n\n<pre><code>object outlookApp = null;\nobject mailitem = null;\nobject att = null;\n\nType typeOutlook = Type.GetTypeFromProgID(\"Outlook.Application\");\nType typeMailItem = null;\nType typeAttachment = null;\n\noutlookApp = Activator.CreateInstance(typeOutlook);\n\nobject[] parameters = new object[1] { 0 };\nmailitem = typeOutlook.InvokeMember(\"CreateItem\", System.Reflection.BindingFlags.InvokeMethod, null, outlookApp, parameters);\ntypeMailItem = mailitem.GetType();\n\natt = typeMailItem.InvokeMember(\"Attachments\", System.Reflection.BindingFlags.GetProperty, null, mailitem, null);\ntypeAttachment = att.GetType();\n\nparameters = new object[1] { sSubject };\ntypeMailItem.InvokeMember(\"Subject\", System.Reflection.BindingFlags.SetProperty, null, mailitem, parameters);\n\nparameters = new object[1] { \"someone@stackoverflow.com\" };\ntypeMailItem.InvokeMember(\"To\", System.Reflection.BindingFlags.SetProperty, null, mailitem, parameters);\n\nparameters = new object[4] { @\"c:\\somefile.txt\", 1, 1, \"somefile.txt\" };\n\ntry\n{\n    typeAttachment.InvokeMember(\"Add\", System.Reflection.BindingFlags.InvokeMethod, null, att, parameters);\n}\ncatch (Exception exAtt) { }\n\nobject inspector = typeMailItem.InvokeMember(\"GetInspector\", System.Reflection.BindingFlags.InvokeMethod, null, mailitem, null);\nType typInspector = inspector.GetType();\n//typInspector.InvokeMember(\"Activate\", System.Reflection.BindingFlags.InvokeMethod, null, inspector, null);\n\nparameters = new object[1] { true };\ntypInspector.InvokeMember(\"Display\", System.Reflection.BindingFlags.InvokeMethod, null, inspector, parameters);\n\n//parameters = new object[1] { true };\n//typeMailItem.InvokeMember(\"Display\", System.Reflection.BindingFlags.InvokeMethod, null, mailitem, parameters);\n</code></pre>\n\n<p>The problem is that, on some machines, the dialog does not show in front of my application. Any ideas on why? I can't seem to understand. As stated above, i tries using display from the mail item and Display from the inspector, but that doesn't solve the problem.\nAny help is greatly appreciated!</p>\n"}, {"tags": ["c#", "onenote", "onenote-api"], "answers": [{"comments": [{"owner": {"reputation": 467, "user_id": 4786776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eab35aabc62faba99083980e2ee3a885?s=128&d=identicon&r=PG&f=1", "display_name": "codeye", "link": "https://stackoverflow.com/users/4786776/codeye"}, "edited": false, "score": 0, "creation_date": 1577641724, "post_id": 59400085, "comment_id": 105214582, "body": "Have you tried creating a blank notebook with the appropriate name using the OneNote API and then uploading the sections into this with the OneDrive API?"}, {"owner": {"reputation": 315, "user_id": 211334, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a29f0bbba2f9cae8f7b5ec4065387565?s=128&d=identicon&r=PG", "display_name": "Locke", "link": "https://stackoverflow.com/users/211334/locke"}, "reply_to_user": {"reputation": 467, "user_id": 4786776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eab35aabc62faba99083980e2ee3a885?s=128&d=identicon&r=PG&f=1", "display_name": "codeye", "link": "https://stackoverflow.com/users/4786776/codeye"}, "edited": false, "score": 0, "creation_date": 1577735231, "post_id": 59400085, "comment_id": 105241714, "body": "Interesting idea. I tried it, by manual. (1) I downloaded the contents of OneNote package folder and saved it somewhere. (2) and deleted that OneNote notebook (3) And  I created a new notebook from OneNote website, (4) and uploaded the original contents I saved at the step 1 (*.one and *.onetoc2) to that new OneNote notebook, assuming that it is just a folder. (5) I can see proper contents from OneNote site for that new Notebook."}, {"owner": {"reputation": 315, "user_id": 211334, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a29f0bbba2f9cae8f7b5ec4065387565?s=128&d=identicon&r=PG", "display_name": "Locke", "link": "https://stackoverflow.com/users/211334/locke"}, "reply_to_user": {"reputation": 467, "user_id": 4786776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eab35aabc62faba99083980e2ee3a885?s=128&d=identicon&r=PG&f=1", "display_name": "codeye", "link": "https://stackoverflow.com/users/4786776/codeye"}, "edited": false, "score": 0, "creation_date": 1577735385, "post_id": 59400085, "comment_id": 105241771, "body": "So, if you can provide an OneDrive API that can create that special OneNote Notebook folder, we can solve one problem. The other problem still remains is that if you upload the locally generated OneNote contents as a normal folder to that synched &#39;Notebooks&#39; folder on OneDrive, it will break the OneNote API to work."}, {"owner": {"reputation": 467, "user_id": 4786776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eab35aabc62faba99083980e2ee3a885?s=128&d=identicon&r=PG&f=1", "display_name": "codeye", "link": "https://stackoverflow.com/users/4786776/codeye"}, "edited": false, "score": 0, "creation_date": 1577933560, "post_id": 59400085, "comment_id": 105283980, "body": "There isn&#39;t a OneDrive API to create or change a folder to a special OneNote Notebook folder. You will have to create the folder via the OneNote API. In what way does the OneNote API not work if you do this, can you . provide an example?"}, {"owner": {"reputation": 315, "user_id": 211334, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a29f0bbba2f9cae8f7b5ec4065387565?s=128&d=identicon&r=PG", "display_name": "Locke", "link": "https://stackoverflow.com/users/211334/locke"}, "reply_to_user": {"reputation": 467, "user_id": 4786776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eab35aabc62faba99083980e2ee3a885?s=128&d=identicon&r=PG&f=1", "display_name": "codeye", "link": "https://stackoverflow.com/users/4786776/codeye"}, "edited": false, "score": 0, "creation_date": 1577972970, "post_id": 59400085, "comment_id": 105296664, "body": "That&#39;s what this post is about. graphClient.Users[userPrincipalName].Onenote.Pages.Request() returns Code: 20258 error."}, {"owner": {"reputation": 315, "user_id": 211334, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a29f0bbba2f9cae8f7b5ec4065387565?s=128&d=identicon&r=PG", "display_name": "Locke", "link": "https://stackoverflow.com/users/211334/locke"}, "reply_to_user": {"reputation": 467, "user_id": 4786776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eab35aabc62faba99083980e2ee3a885?s=128&d=identicon&r=PG&f=1", "display_name": "codeye", "link": "https://stackoverflow.com/users/4786776/codeye"}, "edited": false, "score": 0, "creation_date": 1577973587, "post_id": 59400085, "comment_id": 105296942, "body": "And if you select a OneNote notebook from OneDrive and copy (by using &#39;Copy To&#39;button) it to some OneDrive folder in some depth, it will create a new Notebook on OneNote with the same name. Consider if you want to restore the 2 Notebooks with the same name on a different path. In OneNote API, you can not specify a &#39;path&#39; for Notebook, only display-name. So if you changed content in any of those 2 notebooks, you will lose 1 of them because you can only create 1 Notebook name."}, {"owner": {"reputation": 315, "user_id": 211334, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a29f0bbba2f9cae8f7b5ec4065387565?s=128&d=identicon&r=PG", "display_name": "Locke", "link": "https://stackoverflow.com/users/211334/locke"}, "reply_to_user": {"reputation": 467, "user_id": 4786776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eab35aabc62faba99083980e2ee3a885?s=128&d=identicon&r=PG&f=1", "display_name": "codeye", "link": "https://stackoverflow.com/users/4786776/codeye"}, "edited": false, "score": 0, "creation_date": 1577973982, "post_id": 59400085, "comment_id": 105297103, "body": "So, why don&#39;t you try for yourself instead of just asking me here? you are the developer there. Just create local Notebook contents, and upload the Notebook folder itself to OneDrive&#39;s &#39;Notebooks&#39; folder. Either OneNote/OneDrive site works fine but if you call OneNote API to get pages, you will get 20258 error."}, {"owner": {"reputation": 315, "user_id": 211334, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a29f0bbba2f9cae8f7b5ec4065387565?s=128&d=identicon&r=PG", "display_name": "Locke", "link": "https://stackoverflow.com/users/211334/locke"}, "reply_to_user": {"reputation": 467, "user_id": 4786776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eab35aabc62faba99083980e2ee3a885?s=128&d=identicon&r=PG&f=1", "display_name": "codeye", "link": "https://stackoverflow.com/users/4786776/codeye"}, "edited": false, "score": 0, "creation_date": 1577974159, "post_id": 59400085, "comment_id": 105297167, "body": "And as I pointed above, because of &#39;Copy To&#39; function in OneDrive web-page and the limitation of OneNote API for creating a Notebook, you can not properly restore the Notebook contents with the same name but on different OneDrive folder location. Either revise the OneNote API, or disable the OneDrive&lt;-&gt;OneNote synching other than &#39;Notebooks&#39; folder."}, {"owner": {"reputation": 315, "user_id": 211334, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a29f0bbba2f9cae8f7b5ec4065387565?s=128&d=identicon&r=PG", "display_name": "Locke", "link": "https://stackoverflow.com/users/211334/locke"}, "reply_to_user": {"reputation": 467, "user_id": 4786776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eab35aabc62faba99083980e2ee3a885?s=128&d=identicon&r=PG&f=1", "display_name": "codeye", "link": "https://stackoverflow.com/users/4786776/codeye"}, "edited": false, "score": 0, "creation_date": 1577974584, "post_id": 59400085, "comment_id": 105297384, "body": "Basically, you guys enabled the Synch between OneNote and OneDrive and provided the OneDrive API to get all the information of them, but did not provide the API to create that only one specific type. So asking the API consumers to call different API does not make sense. If it takes time, please revise OneNote API to work properly, or disable the synch &amp; copy-to features till your APIs get ready."}, {"owner": {"reputation": 467, "user_id": 4786776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eab35aabc62faba99083980e2ee3a885?s=128&d=identicon&r=PG&f=1", "display_name": "codeye", "link": "https://stackoverflow.com/users/4786776/codeye"}, "edited": false, "score": 0, "creation_date": 1578070720, "post_id": 59400085, "comment_id": 105331132, "body": "Sorry Locke, I&#39;m still lost. I can upload a local notebook as described without the issue you mention. Rather than using the &quot;userPrincipalName&quot; API can you access the notebook with the sharepoint siteCollectionId and siteId? I&#39;m not sure why Microsoft doesn&#39;t make it easier to move notebooks from local storage to Onedrive."}, {"owner": {"reputation": 315, "user_id": 211334, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a29f0bbba2f9cae8f7b5ec4065387565?s=128&d=identicon&r=PG", "display_name": "Locke", "link": "https://stackoverflow.com/users/211334/locke"}, "reply_to_user": {"reputation": 467, "user_id": 4786776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eab35aabc62faba99083980e2ee3a885?s=128&d=identicon&r=PG&f=1", "display_name": "codeye", "link": "https://stackoverflow.com/users/4786776/codeye"}, "edited": false, "score": 0, "creation_date": 1578076067, "post_id": 59400085, "comment_id": 105333293, "body": "@codeye, I thought you were in MS :) BTW, it&#39;s not at all related with UPN or anything and it&#39;s simple to reproduce. In the situation you get the page list no problem, Just Upload the locally created Notebook folder to OneDrives &#39;Notebooks&#39; folder. When you get the list of pages by calling OneNote API, it returns code 20258. I think I&#39;m repeating this couple of times so I hope this is clear now."}], "tags": [], "owner": {"reputation": 315, "user_id": 211334, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a29f0bbba2f9cae8f7b5ec4065387565?s=128&d=identicon&r=PG", "display_name": "Locke", "link": "https://stackoverflow.com/users/211334/locke"}, "is_accepted": true, "score": 0, "last_activity_date": 1576704858, "last_edit_date": 1576704858, "creation_date": 1576703773, "answer_id": 59400085, "question_id": 59398292, "link": "https://stackoverflow.com/questions/59398292/onenote-api-fails-with-code-20258-graphclient-usersuserprincipalname-onenote/59400085#59400085", "title": "OneNote api fails with code 20258. graphClient.Users[userPrincipalName].Onenote.Pages.Request()", "body": "<p>I found out why.</p>\n\n<p>For OneDrive/OneNote business env, OneNote business contents are synched into OneDrive storage, on the 'Notebooks' folder.</p>\n\n<p>The customer had some local OneNote files, created by locally working OneNote S/W. And moved the whole Notebook folder to the above 'Notebooks' folder of OneDrive business storage.</p>\n\n<p>That was the problem. After I moved that manual/local folder out of the 'Notebooks' folder, the error was gone.</p>\n\n<p>Now I escaped this situation, but it worries me when I think about this way of OneNote/OneDrive business synch, and Graph API.</p>\n\n<p>With OneDrive API I can download the whole contents of the 'Notebooks' folder. Actually it's a Folder with some OneNote related *.TOC file and *.ONE file. But from the OneDrive web page, it's shown as a 'shortcut' to the OneNote page. </p>\n\n<p>And with OneDrive API, you can not restore that content that you have just downloaded by the GET API. If you intentionally create a folder and upload the *.TOC and *.ONE content by using Graph API, the whole OneNote site goes malfunction. </p>\n\n<p>I have written an opinion on this limitation (or problem) to the suggestion page, asked a question on Git-hub, and even met MS engineers and told this issue, but for years the situation is the same.</p>\n\n<p>Seriously, this will become a big problem.</p>\n"}, {"tags": [], "owner": {"reputation": 518, "user_id": 8127636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f530579041079b3ad1212f3aaf783edd?s=128&d=identicon&r=PG&f=1", "display_name": "Manjusha", "link": "https://stackoverflow.com/users/8127636/manjusha"}, "is_accepted": false, "score": 0, "last_activity_date": 1578345810, "creation_date": 1578345810, "answer_id": 59619173, "question_id": 59398292, "link": "https://stackoverflow.com/questions/59398292/onenote-api-fails-with-code-20258-graphclient-usersuserprincipalname-onenote/59619173#59619173", "title": "OneNote api fails with code 20258. graphClient.Users[userPrincipalName].Onenote.Pages.Request()", "body": "<p>Perfect...thanks Locke! Yes we are looking at this issue currently and a fix is in progress for this particular API, though it might take a few weeks to rollout to Production. And yes, this might happen when you upload local OneNote files to the wrong folder or if the local files are older OneNote version</p>\n"}], "owner": {"reputation": 315, "user_id": 211334, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a29f0bbba2f9cae8f7b5ec4065387565?s=128&d=identicon&r=PG", "display_name": "Locke", "link": "https://stackoverflow.com/users/211334/locke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 59400085, "answer_count": 2, "score": 0, "last_activity_date": 1578345810, "creation_date": 1576694526, "question_id": 59398292, "link": "https://stackoverflow.com/questions/59398292/onenote-api-fails-with-code-20258-graphclient-usersuserprincipalname-onenote", "title": "OneNote api fails with code 20258. graphClient.Users[userPrincipalName].Onenote.Pages.Request()", "body": "<p>One customer reported OneNote business backup failure, and here's the message.</p>\n\n<blockquote>\n  <p>Code: 20258\n  Message: Sync of this section is not supported. Detailed error information: Getting Section</p>\n</blockquote>\n\n<p>What does that code mean?\nIs it related to AzureApp permission, or some property of that specific 'Section'?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "algorithm", "knapsack-problem", "bin-packing", "coin-change"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 1, "creation_date": 1576694454, "post_id": 59398220, "comment_id": 104985645, "body": "Stackoverflow is not a code writing service and this is clearly a homework assingment. Show us what you have done so far and wich specific problem you got, that we can help you with."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 1, "creation_date": 1576694548, "post_id": 59398220, "comment_id": 104985682, "body": "Also the solution is to add 15 until value + 15 would &gt; 57. And then repeat with size 6. Decimal is the wrong type, those should clearly be integers."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576694641, "post_id": 59398220, "comment_id": 104985719, "body": "You can do it with 2 Loops. That is all you need. While you can often switch between loops and recursions, this seems a painfully simple loop case."}, {"owner": {"reputation": 1846, "user_id": 448014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70fe8e4ef537ccbebecc5bc3ef2d7c11?s=128&d=identicon&r=PG", "display_name": "boruchsiper", "link": "https://stackoverflow.com/users/448014/boruchsiper"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576695357, "post_id": 59398220, "comment_id": 104986001, "body": "Not getting it. Some example code in an answer would be great."}], "answers": [{"comments": [{"owner": {"reputation": 1846, "user_id": 448014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70fe8e4ef537ccbebecc5bc3ef2d7c11?s=128&d=identicon&r=PG", "display_name": "boruchsiper", "link": "https://stackoverflow.com/users/448014/boruchsiper"}, "edited": false, "score": 0, "creation_date": 1576695507, "post_id": 59398364, "comment_id": 104986064, "body": "Some code in c-like language would be very helpful."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 1846, "user_id": 448014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70fe8e4ef537ccbebecc5bc3ef2d7c11?s=128&d=identicon&r=PG", "display_name": "boruchsiper", "link": "https://stackoverflow.com/users/448014/boruchsiper"}, "edited": false, "score": 0, "creation_date": 1576695692, "post_id": 59398364, "comment_id": 104986151, "body": "@boruchsiper We will not provide code for Homework assignments. Writing that yourself is part of the learning. And it is realy incredibly trivial once you know where to start. It is two loops. Not quantum Physics."}, {"owner": {"reputation": 30143, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1576695998, "post_id": 59398364, "comment_id": 104986270, "body": "It is trivial for people who have already learned how to do it; for people who are currently learning, it is not trivial. But it is important that you try for yourself, anyway."}, {"owner": {"reputation": 1846, "user_id": 448014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70fe8e4ef537ccbebecc5bc3ef2d7c11?s=128&d=identicon&r=PG", "display_name": "boruchsiper", "link": "https://stackoverflow.com/users/448014/boruchsiper"}, "edited": false, "score": 0, "creation_date": 1576700693, "post_id": 59398364, "comment_id": 104988127, "body": "<code>initialize an empty list, then while n &gt; 0 append the value in the cache at index n, and subtract that value from n.</code> What is <code>that value</code>?"}, {"owner": {"reputation": 1846, "user_id": 448014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70fe8e4ef537ccbebecc5bc3ef2d7c11?s=128&d=identicon&r=PG", "display_name": "boruchsiper", "link": "https://stackoverflow.com/users/448014/boruchsiper"}, "edited": false, "score": 0, "creation_date": 1576701036, "post_id": 59398364, "comment_id": 104988269, "body": "also, adding value at index n means at index 57 at start. Doesn&#39;t make sense to me"}, {"owner": {"reputation": 30143, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1576701808, "post_id": 59398364, "comment_id": 104988520, "body": "<i>&quot;build an array where the value at index i is the largest coin that can be used in a solution totalling i, or -1 if no solution is possible&quot;</i>. You have to build it starting from index 0. <i>&quot;That value&quot;</i> is the one you read from the cache."}], "tags": [], "owner": {"reputation": 30143, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "is_accepted": false, "score": 2, "last_activity_date": 1576694821, "creation_date": 1576694821, "answer_id": 59398364, "question_id": 59398220, "link": "https://stackoverflow.com/questions/59398220/algorithm-to-fit-into-goal-sum-using-provided-units-of-measure-with-least-overag/59398364#59398364", "title": "Algorithm to fit into goal sum using provided units of measure with least overage", "body": "<p>This is an instance of the <a href=\"https://en.wikipedia.org/wiki/Change-making_problem\" rel=\"nofollow noreferrer\">change-making problem</a>. It can be solved by dynamic programming; build an array where the value at index <em>i</em> is the largest coin that can be used in a solution totalling <em>i</em>, or -1 if no solution is possible. If you use larger units first then the solutions will satisfy the <em>\"highest unit of measure\"</em> requirement automatically; to satisfy the <em>\"least amount of overage\"</em> requirement, you can try to find a solution for 57, if that doesn't work try 58, and so on.</p>\n\n<p>The running time is at most O((<em>n</em> + 1 - <em>n</em>\u2080)<em>k</em>) where <em>n</em> is the required sum, <em>n</em>\u2080 is the largest index in the cache, and <em>k</em> is the number of units of measure. In particular, after trying 57, it takes at most O(<em>k</em>) time to try 58, then at most O(<em>k</em>) time to try 59, and so on.</p>\n\n<p>To build the output list for a sum <em>n</em>, initialize an empty list, then while <em>n</em> > 0 append the value in the cache at index <em>n</em>, and subtract that value from <em>n</em>.</p>\n"}], "owner": {"reputation": 1846, "user_id": 448014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70fe8e4ef537ccbebecc5bc3ef2d7c11?s=128&d=identicon&r=PG", "display_name": "boruchsiper", "link": "https://stackoverflow.com/users/448014/boruchsiper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576695588, "creation_date": 1576694158, "last_edit_date": 1576695588, "question_id": 59398220, "link": "https://stackoverflow.com/questions/59398220/algorithm-to-fit-into-goal-sum-using-provided-units-of-measure-with-least-overag", "title": "Algorithm to fit into goal sum using provided units of measure with least overage", "body": "<p>Here is an example:</p>\n\n<blockquote>\n  <p>Customer orders 57 single peaces of an item. The company only sells in\n  units of 15 and 6.</p>\n</blockquote>\n\n<p>The algorithm has to figure out the best possible combination of UOMs (unit of measure) with the following priorities in order of importance</p>\n\n<ol>\n<li>least amount of overage</li>\n<li>using highest unit of measure</li>\n</ol>\n\n<p>In this example the expected result is <code>List&lt;int&gt;</code>:</p>\n\n<blockquote>\n  <p>{ 15, 15, 15, 6, 6 } //sum=57</p>\n</blockquote>\n\n<p>I've researched \"bin packing\" and \"knapsack problem\" but couldn't figure out how it could be applied in this case.</p>\n\n<p>So far I have this which is clearly doesn't accomplish the best combination.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    void Main()\n{\n    var solver = new Solver();\n\n    var r  = solver.Solve(57, new decimal [] {6, 15}).Dump();\n\n}\n\npublic class Solver\n{\n    public List&lt;decimal&gt; mResults;\n\n    public List&lt;decimal&gt; Solve(decimal goal, decimal[] elements)\n    {\n\n        mResults = new List&lt;decimal&gt;();\n        RSolve(goal, 0m, elements, elements.Where(e =&gt; e &lt;= goal).OrderByDescending(x =&gt; x).FirstOrDefault());\n        return mResults;\n    }\n\n\n    public void RSolve(decimal goal, decimal currentSum, decimal[] elements, decimal toAdd)\n    {\n        if(currentSum &gt;= goal)\n            return;\n\n        currentSum += toAdd;\n        mResults.Add(toAdd);\n\n        var remainder = goal - currentSum;\n\n\n        var nextToAdd = elements.Where(e =&gt; e &lt;= remainder).OrderByDescending(e =&gt; e).FirstOrDefault();\n\n        if(nextToAdd == 0)\n            nextToAdd = elements.OrderBy(e =&gt; e).FirstOrDefault();\n\n        RSolve(goal, currentSum, elements, nextToAdd);\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "ms-access", "oledb", "ms-access-2000"], "comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 2, "creation_date": 1576694296, "post_id": 59398147, "comment_id": 104985562, "body": "It sounds like you&#39;re looking a a different database than <code>myCon.DataSource</code>."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576694304, "post_id": 59398147, "comment_id": 104985567, "body": "&quot;Now it gets a bit weird, The database happens to not show any new values. Which is weird, Then I tried renaming the database and then all those records appear later!&quot; Sounds like the Data was not yet written or the view did not properly Update while the file was in use."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1576694359, "post_id": 59398147, "comment_id": 104985601, "body": "You are either looking at the wrong database <b>or</b> it could be that you included the data file in the project and with each execution (ctl+f5) from Visual Studio you are overwriting the database file."}, {"owner": {"reputation": 355, "user_id": 6608667, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0a489e5bbc85ff18692d3acf8ffe0872?s=128&d=identicon&r=PG&f=1", "display_name": "Zaid Al Shattle", "link": "https://stackoverflow.com/users/6608667/zaid-al-shattle"}, "edited": false, "score": 0, "creation_date": 1576694464, "post_id": 59398147, "comment_id": 104985651, "body": "It&#39;s weird because if I rename the database back the records disappear again"}, {"owner": {"reputation": 355, "user_id": 6608667, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0a489e5bbc85ff18692d3acf8ffe0872?s=128&d=identicon&r=PG&f=1", "display_name": "Zaid Al Shattle", "link": "https://stackoverflow.com/users/6608667/zaid-al-shattle"}, "edited": false, "score": 0, "creation_date": 1576694520, "post_id": 59398147, "comment_id": 104985662, "body": "Also I am certainly writing the correct file. All the commands end up visible at some point."}], "owner": {"reputation": 355, "user_id": 6608667, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0a489e5bbc85ff18692d3acf8ffe0872?s=128&d=identicon&r=PG&f=1", "display_name": "Zaid Al Shattle", "link": "https://stackoverflow.com/users/6608667/zaid-al-shattle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576695434, "creation_date": 1576693767, "last_edit_date": 1576695434, "question_id": 59398147, "link": "https://stackoverflow.com/questions/59398147/access-database-acting-randomly-and-inconsistently-after-being-updated-with-oled", "title": "Access database acting randomly and inconsistently after being updated with OLEDB c#", "body": "<p>So I am having a very weird issue, At first my code to insert items into my access database stopped working, it is a simple code like this:</p>\n\n<pre><code>using (OleDbConnection myCon = new OleDbConnection())\n            {\n                OleDbCommand cmd = new OleDbCommand()\n                {\n                    CommandType = CommandType.Text,\n                    CommandText = \"insert into applicationSalts ([appName],[salt]) values (?,?)\"\n                };\n                cmd.Parameters.AddWithValue(\"@appName\", appName);\n                cmd.Parameters.AddWithValue(\"@salt\", salt);\n                myCon.ConnectionString = publicDbConnectionString;\n                cmd.Connection = myCon;\n                myCon.Open();\n                int result = cmd.ExecuteNonQuery();\n                myCon.Close();\n            }\n</code></pre>\n\n<p>So it is very straight forward, inserting those values and I checked that result = 1 (query finished successfully).</p>\n\n<p>Now it gets a bit weird, The database happens to not show any new values. Which is weird, Then I tried renaming the database and then all those records appear later! I tried using the database from another location (I was using it from C:/databaseName then now used it from D:/databaseName) then it worked. I moved the database file that worked back into C, then suddenly the records that appeared before <em>disappeared</em>.</p>\n\n<p>Much weirder is that at the beginning one of the tables in the same database used to be working with an ideantical call as the one prior to this. But this one didnt! Then when I was trying to find the issue that one also stopped working..</p>\n\n<p>Also after I manually changed some records when it was working through ms access it later ignored the changes..</p>\n\n<p>I am slowly going insane as I am not really understanding what is going on, This is using access 2000 file format.</p>\n\n<p><strong>Edit:</strong> After further experimentation it is still getting weirder for me, While the file is called onlineDb.mdb it had a single record, deleting that made it disappear, Now renaming it to onDb.mdb made that record come back, adding other records that were missing. Then renaming to onlineDB.mdb again made all records disappear.</p>\n"}, {"tags": ["c#", "html-agility-pack"], "comments": [{"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1576694025, "post_id": 59398128, "comment_id": 104985429, "body": "You question is not clear. You <code>item</code> represent the HTML of your single <code>div class=&quot;search-result&quot;</code>. You second <code>item.InnerText</code> will give all the div&#39;s html. What are trying to display here?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1576705031, "post_id": 59398128, "comment_id": 104989697, "body": "Please include an example of the HTML on which your code runs, what you are getting when you run the code on that example, and what you expect when you run the code on that example."}], "answers": [{"comments": [{"owner": {"reputation": 9368, "user_id": 1390548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee99f66a15a8e049467a0fca2b80eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jawad", "link": "https://stackoverflow.com/users/1390548/jawad"}, "edited": false, "score": 0, "creation_date": 1577223695, "post_id": 59400566, "comment_id": 105125548, "body": "This prints Every link in that page. OP is asking for hrefs specifically under the div tag with class &#39;search-result&#39;."}], "tags": [], "owner": {"reputation": 240, "user_id": 12560825, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBXsLPlWyblr1bIP8SREIyL-MOtZB6Yqse5VbQI=k-s128", "display_name": "Kyle Hurst", "link": "https://stackoverflow.com/users/12560825/kyle-hurst"}, "is_accepted": false, "score": 0, "last_activity_date": 1576706579, "creation_date": 1576706579, "answer_id": 59400566, "question_id": 59398128, "link": "https://stackoverflow.com/questions/59398128/parse-html-class-in-individual-items-with-htmlagilitypack/59400566#59400566", "title": "Parse HTML class in individual items with htmlagilitypack", "body": "<p>I think it's how you're looking up and storing the data.  Try:</p>\n\n<pre><code>    foreach (HtmlNode link doc.DocumentNode.SelectNodes(\"//a[@href]\"))\n    {\n        string hrefValue = link.GetAttributeValue( \"href\", string.Empty );            \n        MessageBox.Show(hrefValue);\n        MessageBox.Show(link.InnerText);\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9368, "user_id": 1390548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee99f66a15a8e049467a0fca2b80eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jawad", "link": "https://stackoverflow.com/users/1390548/jawad"}, "is_accepted": true, "score": 0, "last_activity_date": 1577223925, "last_edit_date": 1577223925, "creation_date": 1577223541, "answer_id": 59473587, "question_id": 59398128, "link": "https://stackoverflow.com/questions/59398128/parse-html-class-in-individual-items-with-htmlagilitypack/59473587#59473587", "title": "Parse HTML class in individual items with htmlagilitypack", "body": "<p>When you search the data from the url based on class 'search-result', there is only one node that is returned. Instead of iterating through its children, you only go through that one div, which is why you are only getting one result.</p>\n\n<p>If you want to get a list of all the links inside the div with class \"search-result\", then you can do the following.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>    string url = \"https://subscene.com/subtitles/searchbytitle?query=joker&amp;l=\";\n    HtmlWeb web = new HtmlWeb();\n    HtmlDocument doc = web.Load(url);\n\n    List&lt;string&gt; listOfUrls = new List&lt;string&gt;();\n    HtmlNode searchResult = doc.DocumentNode.SelectSingleNode(\"//div[@class='search-result']\");\n\n    // Iterate through all the child nodes that have the 'a' tag.\n    foreach (HtmlNode node in searchResult.SelectNodes(\".//a\"))\n    {\n        string thisUrl = node.GetAttributeValue(\"href\", \"\");\n        if (!string.IsNullOrEmpty(thisUrl) &amp;&amp; !listOfUrls.Contains(thisUrl))\n            listOfUrls.Add(thisUrl);\n    }\n\n</code></pre>\n\n<p><strong>What does it do?</strong></p>\n\n<ol>\n<li><code>SelectSingleNode(\"//div[@class='search-result']\")</code> -> retrieves the div that has all the search results and ignores the rest of the document.</li>\n<li>Iterates through all the \"subnodes\" only that have <code>href</code> in it and adds it to a list. Subnodes are determined based on the dot notation <code>SelectNodes(\".//a\")</code> (Instead of <code>.//</code>, if you do <code>//</code>, it will search the entire page which is not what you want).</li>\n<li>If statement makes sure its only adding unique non-null values.</li>\n</ol>\n\n<p>You have all the links now. </p>\n\n<p><strong>Fiddle:</strong> <a href=\"https://dotnetfiddle.net/j5aQFp\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/j5aQFp</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11453013"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 59473587, "answer_count": 2, "score": 0, "last_activity_date": 1577223925, "creation_date": 1576693687, "last_edit_date": 1576704638, "question_id": 59398128, "link": "https://stackoverflow.com/questions/59398128/parse-html-class-in-individual-items-with-htmlagilitypack", "title": "Parse HTML class in individual items with htmlagilitypack", "body": "<p>I want to parse HTML, I used the following code but I get all of it in one item instead of getting the items individually</p>\n\n<pre><code>var url = \"https://subscene.com/subtitles/searchbytitle?query=joker&amp;l=\";\nvar web = new HtmlWeb();\nvar doc = web.Load(url);\nIEnumerable&lt;HtmlNode&gt; nodes =\n   doc.DocumentNode.Descendants()\n     .Where(n =&gt; n.HasClass(\"search-result\"));\n\nforeach (var item in nodes)\n{\n    string itemx = item.SelectSingleNode(\".//a\").Attributes[\"href\"].Value;\n\n    MessageBox.Show(itemx);\n    MessageBox.Show(item.InnerText);\n\n}\n</code></pre>\n\n<p>I only receive 1 message for the first item and the second message displays all items</p>\n"}, {"tags": ["c#", "sql-server", "ado.net"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 5, "creation_date": 1576694592, "post_id": 59398107, "comment_id": 104985701, "body": "<b>Always use parameterized sql and avoid string concatenation</b> to add values to sql statements. This mitigates SQL Injection vulnerabilities and ensures values are passed to the statement correctly. See <a href=\"https://stackoverflow.com/q/35163361/1260204\">How can I add user-supplied input to an SQL statement?</a>, and <a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">Exploits of a Mom</a>."}, {"owner": {"reputation": 8019, "user_id": 9665021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlcMo.png?s=128&g=1", "display_name": "haldo", "link": "https://stackoverflow.com/users/9665021/haldo"}, "edited": false, "score": 3, "creation_date": 1576694700, "post_id": 59398107, "comment_id": 104985742, "body": "What is <code>accountid</code>?  Is it <code>Guid</code>?  You should always parameterise your SQL queries"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1576694908, "post_id": 59398107, "comment_id": 104985819, "body": "Maybe see <a href=\"https://stackoverflow.com/a/1436001/3744182\">this answer</a> to <a href=\"https://stackoverflow.com/q/1435908/3744182\">C# guid and SQL uniqueidentifier</a> and also <a href=\"https://stackoverflow.com/q/11724614/3744182\">Passing uniqueidentifier parameter to Stored Procedure</a>."}], "answers": [{"comments": [{"owner": {"reputation": 909, "user_id": 12059568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KVikq.jpg?s=128&g=1", "display_name": "Mikael", "link": "https://stackoverflow.com/users/12059568/mikael"}, "edited": false, "score": 1, "creation_date": 1576700087, "post_id": 59398510, "comment_id": 104987918, "body": "Thank you for the answer with examples. This solved the issue. I&#39;ve read up on it quit a bit in the past hour and you&#39;ve all taught me a few things. Much appreciated."}, {"owner": {"reputation": 11851, "user_id": 8367626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vlgmz.jpg?s=128&g=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/8367626/mary"}, "edited": false, "score": 0, "creation_date": 1576750320, "post_id": 59398510, "comment_id": 105002679, "body": "The .Add method has an overload that accepts the <code>SqlDbType</code> and another that will accept the type and field size. <code>command.Parameters.Add(&quot;@accountId&quot;, SqlDbType.UniqueIdentiifer).Value = accountid</code>"}], "tags": [], "owner": {"reputation": 8019, "user_id": 9665021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlcMo.png?s=128&g=1", "display_name": "haldo", "link": "https://stackoverflow.com/users/9665021/haldo"}, "is_accepted": true, "score": 2, "last_activity_date": 1576696882, "last_edit_date": 1576696882, "creation_date": 1576695552, "answer_id": 59398510, "question_id": 59398107, "link": "https://stackoverflow.com/questions/59398107/conversion-failed-when-converting-from-string-to-uniqueidentifier-loading-data/59398510#59398510", "title": "Conversion failed when converting from string to uniqueidentifier - loading DataTable with ExecuteReader", "body": "<p>You should always parameterise your SQL queries to help prevent SQL injection <em>and</em> avoid problems like you're facing now. See <a href=\"https://stackoverflow.com/questions/7505808/why-do-we-always-prefer-using-parameters-in-sql-statements\">Why do we always prefer using parameters in SQL statements?</a>.</p>\n\n<p>Use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.data.sqlclient.sqlparameter?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>SqlParameter</code></a> to add the parameters to the SqlCommand.</p>\n\n<pre><code>string invoiceStatusSQL = @\"select status, invoice_id from invoices where acct_id = @accountId\";\ncommand = new SqlCommand(invoiceStatusSQL, cnn);\n\nSqlParameter idParam = new SqlParameter(\"@accountId\", accountid);\ncommand.Parameters.Add(idParam);\n\nda.Load(command.ExecuteReader());\n</code></pre>\n\n<hr>\n\n<p>You can also specify the actual database type when creating the parameter, which will reduce any <a href=\"https://blogs.msmvps.com/jcoehoorn/blog/2014/05/12/can-we-stop-using-addwithvalue-already/\" rel=\"nofollow noreferrer\">issues</a> you might have with the framework inferring the type incorrectly (although I don't think that would happen in your case for a Guid/UniqueIdentifier).  One way to specify the type is shown below. </p>\n\n<pre><code>var p = new SqlParameter \n            { \n                ParameterName = \"@accountId\", \n                SqlDbType = SqlDbType.UniqueIdentifier,  \n                Value = accountid  \n            };\n</code></pre>\n"}], "owner": {"reputation": 909, "user_id": 12059568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KVikq.jpg?s=128&g=1", "display_name": "Mikael", "link": "https://stackoverflow.com/users/12059568/mikael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 59398510, "answer_count": 1, "score": -1, "last_activity_date": 1576696956, "creation_date": 1576693593, "last_edit_date": 1576696956, "question_id": 59398107, "link": "https://stackoverflow.com/questions/59398107/conversion-failed-when-converting-from-string-to-uniqueidentifier-loading-data", "title": "Conversion failed when converting from string to uniqueidentifier - loading DataTable with ExecuteReader", "body": "<p>In attempting to do a SQL query (which returns one string and one uniqueidentifier to columns 0 and 1 respectively) I get \"Conversion failed when converting from a character string to uniqueidentifier\" in my exceptions log. How can I avoid this? I'm assuming the issue is, the datatables columns are not defined, so it's expecting a string and SQL is trying to convert it. The exception is logged. Surprisingly to me the GUID is stored successfully to da[1]. So my program technically works, however I want to clear this exception and to do that I need to understand why it's happening and how to go about fixing it.</p>\n\n<pre><code>da = new DataTable();\nda.Clear();\n...\nstring invoiceStatusSQL = @\"select status,invoice_id from invoices where acct_id='\" + accountid + \"'\";\ncommand = new SqlCommand(invoiceStatusSQL, cnn);\nda.Load(command.ExecuteReader());\n</code></pre>\n"}, {"tags": ["c#", "dns", "udp", "tcpdump", "sharppcap"], "comments": [{"owner": {"reputation": 2466, "user_id": 1596750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AUl9X.jpg?s=128&g=1", "display_name": "Ross Jacobs", "link": "https://stackoverflow.com/users/1596750/ross-jacobs"}, "edited": false, "score": 0, "creation_date": 1576705013, "post_id": 59398070, "comment_id": 104989694, "body": "Welcome to Stack Overflow! Please read the <a href=\"https://stackoverflow.com/help\">help pages</a> and take the <a href=\"https://stackoverflow.com/tour\">SO tour</a>. (Someone correct me if I&#39;m wrong but) I am not seeing a DNS dissector for <a href=\"https://github.com/chmorgan/sharppcap\" rel=\"nofollow noreferrer\">SharpPcap</a>.  Given that it&#39;s it&#39;s based on libpcap/Npcap, you could do something like <a href=\"https://stackoverflow.com/questions/51376598/c-libpcap-api-extracting-dns-query\">this</a>, adapted for C#."}, {"owner": {"reputation": 101, "user_id": 12560535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7df47157e1140363ae4913ecfa51484?s=128&d=identicon&r=PG&f=1", "display_name": "notan", "link": "https://stackoverflow.com/users/12560535/notan"}, "reply_to_user": {"reputation": 2466, "user_id": 1596750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AUl9X.jpg?s=128&g=1", "display_name": "Ross Jacobs", "link": "https://stackoverflow.com/users/1596750/ross-jacobs"}, "edited": false, "score": 0, "creation_date": 1576759010, "post_id": 59398070, "comment_id": 105006848, "body": "Hi, thanks for your help. I tried reading the correct bytes out of the payload data similar to waht they did in the thread you linked. Good thing is, the name always starts at byte 54, so i know that udp.PayloadData[54] is where the names starts. Problem is, I dont know the length. Any idea on how to go about this?"}, {"owner": {"reputation": 2466, "user_id": 1596750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AUl9X.jpg?s=128&g=1", "display_name": "Ross Jacobs", "link": "https://stackoverflow.com/users/1596750/ross-jacobs"}, "edited": false, "score": 0, "creation_date": 1576778306, "post_id": 59398070, "comment_id": 105016902, "body": "Have you looked at the <a href=\"https://tools.ietf.org/html/rfc2929\" rel=\"nofollow noreferrer\">DNS RFC</a>?"}, {"owner": {"reputation": 101, "user_id": 12560535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7df47157e1140363ae4913ecfa51484?s=128&d=identicon&r=PG&f=1", "display_name": "notan", "link": "https://stackoverflow.com/users/12560535/notan"}, "reply_to_user": {"reputation": 2466, "user_id": 1596750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AUl9X.jpg?s=128&g=1", "display_name": "Ross Jacobs", "link": "https://stackoverflow.com/users/1596750/ross-jacobs"}, "edited": false, "score": 0, "creation_date": 1577021610, "post_id": 59398070, "comment_id": 105072090, "body": "Yes, i read it and also figured out how to calculate the length. I have following (somewhat working) code: <code>if (udp != null &amp;&amp; udp.HasPayloadData &amp;&amp; udp.DestinationPort == 53) { nameLen = udp.PayloadData.Length - 16; name = new byte[nameLen]; Array.Copy(udp.PayloadData, 12, name, 0, nameLen); Console.WriteLine(Encoding.ASCII.GetString(name));}</code> This prints the query. Only problem is, there are out of place special characters often before and after the query. Also insted of dots there are special chars as well"}], "owner": {"reputation": 101, "user_id": 12560535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7df47157e1140363ae4913ecfa51484?s=128&d=identicon&r=PG&f=1", "display_name": "notan", "link": "https://stackoverflow.com/users/12560535/notan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576695173, "creation_date": 1576693453, "last_edit_date": 1576695173, "question_id": 59398070, "link": "https://stackoverflow.com/questions/59398070/filter-dns-response-with-sharppcap", "title": "Filter Dns-Response with SharpPcap?", "body": "<p>I'm trying to filter out the Domain names out of DNS-Responses with the SharpPcap library.\nAt the moment, I have the following code:</p>\n\n<pre><code>public void Filter(String filename)\n{\n    ICaptureDevice device = new CaptureFileReaderDevice(filename);\n    device.Open();\n    device.OnPacketArrival += new PacketArrivalEventHandler(Device_OnPacketArrival);\n    device.Capture();\n    device.Close();\n\n}\nprivate void Device_OnPacketArrival(object sender, CaptureEventArgs e)\n{\n    Packet packet = Packet.ParsePacket(e.Packet.LinkLayerType, e.Packet.Data);\n    IPPacket ip = packet.Extract&lt;IPPacket&gt;();\n\n    if (ip != null)\n    {\n         Console.WriteLine(ip.DestinationAddress.ToString());\n         Console.WriteLine(ip.SourceAddress.ToString());\n    }\n\n    UdpPacket udp = packet.Extract&lt;UdpPacket&gt;();\n\n    if(udp != null &amp;&amp; udp.HasPayloadData)\n    {\n            // Read dns queries\n    }\n}\n</code></pre>\n\n<p>If I open the file in Wireshark, I can the the query-names easily:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5mP0w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5mP0w.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any Ideas how to read the query-name from the udp payload?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c#", "uwp", ".net-native"], "comments": [{"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 2, "creation_date": 1576693624, "post_id": 59398064, "comment_id": 104985259, "body": "Please, share your code so far"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1576694189, "post_id": 59398064, "comment_id": 104985511, "body": "<i>Or how could I find the library that is causing the issue?</i> well, with google? it seems like some microsoft azure library"}, {"owner": {"reputation": 51, "user_id": 11478450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6270dd765c4ada975f1d707696411e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/11478450/michael"}, "edited": false, "score": 0, "creation_date": 1576694296, "post_id": 59398064, "comment_id": 104985563, "body": "@Rup that&#39;s a good idea. I will do that. I&#39;m trying to compile for windows 10 using sdk 1809 - 1903"}, {"owner": {"reputation": 31408, "user_id": 243245, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/aed5c13647d581ae231f019a886e05a8?s=128&d=identicon&r=PG", "display_name": "Rup", "link": "https://stackoverflow.com/users/243245/rup"}, "edited": false, "score": 0, "creation_date": 1576694380, "post_id": 59398064, "comment_id": 104985607, "body": "Actually <a href=\"https://docs.microsoft.com/en-us/windows-hardware/drivers/ddi/wdm/nf-wdm-rtlgetversion\" rel=\"nofollow noreferrer\">&quot;RtlGetVersion is the kernel-mode equivalent of the user-mode GetVersionEx&quot;</a> - are you using any code that&#39;s possibly intended for kernel mode? I&#39;m not sure how you&#39;d get that in UWP though."}, {"owner": {"reputation": 51, "user_id": 11478450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6270dd765c4ada975f1d707696411e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/11478450/michael"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1576694651, "post_id": 59398064, "comment_id": 104985725, "body": "@Selvin I have an uwp, and 3 different libraries. So the thing is I don&#39;t know which one or where is the error being thrown."}, {"owner": {"reputation": 6904, "user_id": 9412162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KlpER.jpg?s=128&g=1", "display_name": "Richard Zhang - MSFT", "link": "https://stackoverflow.com/users/9412162/richard-zhang-msft"}, "edited": false, "score": 1, "creation_date": 1576719085, "post_id": 59398064, "comment_id": 104993337, "body": "Hi @Michael , If it does not contain sensitive data, please share your code. We ca n\u2019t locate the cause of the problem based on the error message alone. Did you introduce a library that doesn&#39;t work with UWP? (For example, only the <code>.NET Framework</code> is supported in the dependencies, not the <code>.NET Standard</code>), or some special features not supported by UWP are used (UWP has strict permission management)"}, {"owner": {"reputation": 11321, "user_id": 4184842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mD03.jpg?s=128&g=1", "display_name": "Peter Torr - MSFT", "link": "https://stackoverflow.com/users/4184842/peter-torr-msft"}, "edited": false, "score": 1, "creation_date": 1576791350, "post_id": 59398064, "comment_id": 105021666, "body": "You can use <code>ILDASM</code> (part of the SDK) to dump each of your three libraries, looking for <code>RtlGetVersion</code>."}, {"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 1, "creation_date": 1576797167, "post_id": 59398064, "comment_id": 105023364, "body": "@Michael Please <a href=\"https://stackoverflow.com/posts/59398064/edit\">edit</a> your question to include your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> here on Stack Overflow, not as an external link."}, {"owner": {"reputation": 51, "user_id": 11478450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6270dd765c4ada975f1d707696411e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/11478450/michael"}, "edited": false, "score": 0, "creation_date": 1576797611, "post_id": 59398064, "comment_id": 105023447, "body": "@RichardZhang-MSFTI&#39;ve attached a sample that reproduces the issue."}, {"owner": {"reputation": 51, "user_id": 11478450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6270dd765c4ada975f1d707696411e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/11478450/michael"}, "reply_to_user": {"reputation": 11321, "user_id": 4184842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mD03.jpg?s=128&g=1", "display_name": "Peter Torr - MSFT", "link": "https://stackoverflow.com/users/4184842/peter-torr-msft"}, "edited": false, "score": 0, "creation_date": 1576797640, "post_id": 59398064, "comment_id": 105023452, "body": "@PeterTorr-MSFT I&#39;ll give it a shot."}, {"owner": {"reputation": 51, "user_id": 11478450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6270dd765c4ada975f1d707696411e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/11478450/michael"}, "reply_to_user": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1576797718, "post_id": 59398064, "comment_id": 105023465, "body": "@Progman I&#39;ll try to update the post as well. Thanks for the info."}, {"owner": {"reputation": 6904, "user_id": 9412162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KlpER.jpg?s=128&g=1", "display_name": "Richard Zhang - MSFT", "link": "https://stackoverflow.com/users/9412162/richard-zhang-msft"}, "edited": false, "score": 0, "creation_date": 1576811141, "post_id": 59398064, "comment_id": 105025840, "body": "@Michael Hi, for UWP apps, try using <code>Class Library (Universal Windows)</code> instead of <code>Class Library (.Net Standard)</code>,"}, {"owner": {"reputation": 51, "user_id": 11478450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6270dd765c4ada975f1d707696411e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/11478450/michael"}, "reply_to_user": {"reputation": 6904, "user_id": 9412162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KlpER.jpg?s=128&g=1", "display_name": "Richard Zhang - MSFT", "link": "https://stackoverflow.com/users/9412162/richard-zhang-msft"}, "edited": false, "score": 0, "creation_date": 1576811816, "post_id": 59398064, "comment_id": 105025925, "body": "Hi @RichardZhang-MSFT , but isn&#39;t  .NetStandard the way to go in order to create a cross platform library? Or the best way to go is create a library for UWP using Class Library (Universal Windows) and another library for a Xamarin app for instance? Thanks"}, {"owner": {"reputation": 6904, "user_id": 9412162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KlpER.jpg?s=128&g=1", "display_name": "Richard Zhang - MSFT", "link": "https://stackoverflow.com/users/9412162/richard-zhang-msft"}, "edited": false, "score": 1, "creation_date": 1576812168, "post_id": 59398064, "comment_id": 105025978, "body": "@Michael <code>.Net Standard</code> is a specification that provides a common way to build code that can serve as the basis for cross-platform code sharing. But UWP has its own special characteristics. For example, you can access the file through the path in <code>.Net Standard</code>, but you cannot do so in UWP. (You can get the <code>File</code> object in <code>.Net Standard</code>, but <code>StorageFile</code> is recommended in UWP. ), There are many similar situations. So it is recommended to use <code>Class Library (Universal Windows)</code> in UWP projects."}, {"owner": {"reputation": 51, "user_id": 11478450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6270dd765c4ada975f1d707696411e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/11478450/michael"}, "reply_to_user": {"reputation": 6904, "user_id": 9412162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KlpER.jpg?s=128&g=1", "display_name": "Richard Zhang - MSFT", "link": "https://stackoverflow.com/users/9412162/richard-zhang-msft"}, "edited": false, "score": 0, "creation_date": 1576812373, "post_id": 59398064, "comment_id": 105025996, "body": "Thank you @RichardZhang-MSFT, I&#39;m going to use Class Library (Universal Windows) and see if it solves this issue."}], "answers": [{"comments": [{"owner": {"reputation": 5550, "user_id": 2416394, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/daugZ.jpg?s=128&g=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/2416394/samuel"}, "edited": false, "score": 3, "creation_date": 1576939450, "post_id": 59436911, "comment_id": 105058427, "body": "<code>It&#39;s very hard and a bit frustrating finding the solution</code> sums up our UWP experience quite nicely :) :/"}], "tags": [], "owner": {"reputation": 51, "user_id": 11478450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6270dd765c4ada975f1d707696411e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/11478450/michael"}, "is_accepted": false, "score": 2, "last_activity_date": 1576937777, "creation_date": 1576937777, "answer_id": 59436911, "question_id": 59398064, "link": "https://stackoverflow.com/questions/59398064/find-the-origin-of-mcg0007-compiler-warning/59436911#59436911", "title": "Find the origin of MCG0007 compiler warning", "body": "<p>After all the suggestions, and trying to reproduce the compiler error. I find out that the Z.EntityFramework library was the one causing the issue. Looking at the logs all that I found was a reference to EntityFrameworkCore, related to the compiler error. But from that I started to remove libraries until I finally found the one that was causing the issue.</p>\n\n<p>It's very hard and a bit frustrating finding the solution with such a cryptic message as <code>MCG0007: Unresolved P/Invoke</code> </p>\n\n<p>Thanks for your help.</p>\n"}], "owner": {"reputation": 51, "user_id": 11478450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6270dd765c4ada975f1d707696411e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/11478450/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1576937777, "creation_date": 1576693440, "last_edit_date": 1592644375, "question_id": 59398064, "link": "https://stackoverflow.com/questions/59398064/find-the-origin-of-mcg0007-compiler-warning", "title": "Find the origin of MCG0007 compiler warning", "body": "<p>I'm trying to compile an uwp app but I get the following error:</p>\n<blockquote>\n<p>Warning       MCG : warning MCG0007: Unresolved P/Invoke method 'ntdll!RtlGetVersion' for method 'System.Int32 Microsoft.DotNet.PlatformAbstractions.Native.NativeMethods.Windows.RtlGetVersion(Microsoft.DotNet.PlatformAbstractions.Native.NativeMethods.Windows.RTL_OSVERSIONINFOEX)'. Calling this method would throw exception at runtime. Please make sure the P/Invoke either points to a Windows API allowed in UWP applications, or a native DLL that is part of the package. If for some reason your P/Invoke does not satisfy those requirements, please use [DllImport(ExactSpelling=true) to indicate that you understand the implications of using non-UWP APIs.</p>\n</blockquote>\n<p>The thing is that I can't find the origin, is there a way to debug this issue? Or how could I find the library that is causing the issue?</p>\n<p>UPDATE: I attach a sample project that throws the same compilation error. If anyone could take a look. I'll be very grateful.</p>\n<p><a href=\"https://agrovidaec-my.sharepoint.com/:u:/g/personal/sistemas_agrovida_ec/Ec61Olw4KuFOgZS0o7M4iY0BiWX3l_RK02pDZ_RmbOlGHg?e=tjKfsv\" rel=\"nofollow noreferrer\">Sample project</a></p>\n<p>UPDATE 2: I have an UWP app that uses the following nuget packages:</p>\n<p>This app uses 3 .netstandard libraries.</p>\n<p>The UWP app contains the following references.</p>\n<pre><code>&lt;PackageReference Include=&quot;AdaptiveCards&quot;&gt;\n      &lt;Version&gt;1.2.4&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;MailKit&quot;&gt;\n      &lt;Version&gt;2.4.1&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;Microsoft.AppCenter&quot;&gt;\n      &lt;Version&gt;2.6.4&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;Microsoft.AppCenter.Analytics&quot;&gt;\n      &lt;Version&gt;2.6.4&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;Microsoft.AppCenter.Crashes&quot;&gt;\n      &lt;Version&gt;2.6.4&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Azure.Storage.Blob&quot;&gt;\n      &lt;Version&gt;11.1.1&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;Microsoft.NETCore.UniversalWindowsPlatform&quot;&gt;\n      &lt;Version&gt;6.2.9&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Services.Store.Engagement&quot;&gt;\n      &lt;Version&gt;10.1901.28001&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Toolkit.Uwp&quot;&gt;\n      &lt;Version&gt;6.0.0&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Toolkit.Uwp.Notifications&quot;&gt;\n      &lt;Version&gt;6.0.0&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Toolkit.Uwp.UI.Animations&quot;&gt;\n      &lt;Version&gt;6.0.0&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Toolkit.Uwp.UI.Controls&quot;&gt;\n      &lt;Version&gt;6.0.0&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Toolkit.Uwp.UI.Controls.DataGrid&quot;&gt;\n      &lt;Version&gt;6.0.0&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;Microsoft.UI.Xaml&quot;&gt;\n      &lt;Version&gt;2.3.191211002&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Xaml.Behaviors.Uwp.Managed&quot;&gt;\n      &lt;Version&gt;2.0.1&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;MimeKit&quot;&gt;\n      &lt;Version&gt;2.4.1&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;MvvmLight&quot;&gt;\n      &lt;Version&gt;5.4.1.1&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;SQLitePCLRaw.bundle_green&quot;&gt;\n      &lt;Version&gt;2.0.2&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;SQLitePCLRaw.core&quot;&gt;\n      &lt;Version&gt;2.0.2&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=&quot;Win2D.uwp&quot;&gt;\n      &lt;Version&gt;1.24.0&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n</code></pre>\n<p>It uses 3 .netStandard libraries.</p>\n<p>ServicesLibrary</p>\n<pre><code>&lt;PackageReference Include=&quot;itext7&quot; Version=&quot;7.1.9&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.AppCenter&quot; Version=&quot;2.6.4&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.AppCenter.Analytics&quot; Version=&quot;2.6.4&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Azure.Storage.Blob&quot; Version=&quot;11.1.1&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Identity.Client&quot; Version=&quot;4.7.1&quot; /&gt;\n    &lt;PackageReference Include=&quot;Newtonsoft.Json&quot; Version=&quot;12.0.3&quot; /&gt;\n    &lt;PackageReference Include=&quot;Portable.BouncyCastle&quot; Version=&quot;1.8.5.2&quot; /&gt;\n    &lt;PackageReference Include=&quot;System.Configuration.ConfigurationManager&quot; Version=&quot;4.7.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;System.IO.FileSystem&quot; Version=&quot;4.3.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;System.IO.FileSystem.AccessControl&quot; Version=&quot;4.7.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;System.ServiceModel.Http&quot; Version=&quot;4.7.0&quot; /&gt;\n</code></pre>\n<p>DataLibrary</p>\n<pre><code>&lt;PackageReference Include=&quot;Microsoft.EntityFrameworkCore&quot; Version=&quot;3.1.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.EntityFrameworkCore.Abstractions&quot; Version=&quot;3.1.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.EntityFrameworkCore.Analyzers&quot; Version=&quot;3.1.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.EntityFrameworkCore.Relational&quot; Version=&quot;3.1.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.EntityFrameworkCore.Sqlite.Core&quot; Version=&quot;3.1.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.EntityFrameworkCore.SqlServer&quot; Version=&quot;3.1.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Extensions.Logging&quot; Version=&quot;3.1.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Extensions.Logging.Debug&quot; Version=&quot;3.1.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;Z.EntityFramework.Extensions.EFCore&quot; Version=&quot;3.0.31&quot; /&gt;\n    &lt;PackageReference Include=&quot;Z.EntityFramework.Plus.EFCore&quot; Version=&quot;3.0.31&quot; /&gt;\n    &lt;PackageReference Include=&quot;Z.Expressions.Eval&quot; Version=&quot;3.0.11&quot; /&gt;\n</code></pre>\n<p>SigningLibrary</p>\n<pre><code> &lt;PackageReference Include=&quot;BouncyCastle.NetCore&quot; Version=&quot;1.8.5&quot; /&gt;\n    &lt;PackageReference Include=&quot;System.Security.AccessControl&quot; Version=&quot;4.7.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;System.Security.Cryptography.Pkcs&quot; Version=&quot;4.7.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;System.Security.Cryptography.Xml&quot; Version=&quot;4.7.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;System.Security.Permissions&quot; Version=&quot;4.7.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;System.Security.Principal.Windows&quot; Version=&quot;4.7.0&quot; /&gt;\n</code></pre>\n<p>The UWP references the ServicesLibrary and the DataLibrary, the ServicesLibrary references the SigningLibrary and the DataLibrary. That's the anatomy of the app that I'm trying to compile in release mode.</p>\n<p>Thanks a lot for your help.</p>\n"}, {"tags": ["c#", "reflection", ".net-core", "c#-8.0"], "comments": [{"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1576694664, "post_id": 59398027, "comment_id": 104985729, "body": "You linked to a <i>proposal</i> document. In C# 8 it&#39;s not possible to call a base method, period. ` ((IB)this).M();` is the explicit invocation syntax used to call the actual implementation of the method, so the stack overflow is expected. Essentially, this is a <code>M(){ M();}</code>"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1576694712, "post_id": 59398027, "comment_id": 104985749, "body": "It&#39;s not a matter of &quot;not implemented yet&quot; in C# 8. as this version is final. Base invocation <i>may</i> appear in later version or not."}, {"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1576695074, "post_id": 59398027, "comment_id": 104985879, "body": "No, there is no workaround (without taking a dependency on compiler internals, that is, which I wouldn&#39;t consider a valid workaround). There is a clear need for this and it was originally scheduled to be part of C# 8, but it proved too ambitious. This proposal is slated for implementation in C# 9, though that&#39;s subject to change. Until then, this can&#39;t be done except by making the methods available under other names/different scopes."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1576695472, "post_id": 59398027, "comment_id": 104986050, "body": "Why are you looking for base invocation anyway? There are probably other ways to do whatever you want to do"}], "answers": [{"comments": [{"owner": {"reputation": 2809, "user_id": 6720987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0TSHr.png?s=128&g=1", "display_name": "Jan-Fokke", "link": "https://stackoverflow.com/users/6720987/jan-fokke"}, "edited": false, "score": 0, "creation_date": 1576740487, "post_id": 59398412, "comment_id": 104998177, "body": "I got it working using  MethodInfo.GetFunctionPointer(); but it turned out a bit messy"}], "tags": [], "owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "is_accepted": true, "score": 7, "last_activity_date": 1576695545, "last_edit_date": 1576695545, "creation_date": 1576695087, "answer_id": 59398412, "question_id": 59398027, "link": "https://stackoverflow.com/questions/59398027/c-8-base-interfaces-default-method-invocation-workaround/59398412#59398412", "title": "C# 8 base interface&#39;s default method invocation workaround", "body": "<p>The link in the question points to a version of the proposal copied <a href=\"https://github.com/dotnet/csharplang/blob/master/proposals/csharp-8.0/default-interface-methods.md\" rel=\"noreferrer\">from the proposal document in Github</a></p>\n\n<p>The feature was <a href=\"https://github.com/dotnet/csharplang/blob/6b5a397cc4faef6d481d9bace13d7e3c19de63bb/meetings/2019/LDM-2019-04-29.md\" rel=\"noreferrer\">cut in April 2019</a> </p>\n\n<blockquote>\n  <p><strong>Conclusion</strong></p>\n  \n  <p>Cut base() syntax for C# 8. We intend to bring this back in the next major release.</p>\n</blockquote>\n\n<p>The design meeting doc explains that without runtime support (which wouldn't be available in time), the implementation would be workable at best for C# but not VB.NET. </p>\n\n<blockquote>\n  <p>If B.M is not present at run time, A.M() will be called. For base() and interfaces, this is not supported by the runtime, so the call will throw an exception instead. We'd like to add support for this in the runtime, but it is too expensive to make this release.</p>\n  \n  <p>We have some workarounds, but they do not have the behavior we want, and are not the preferred codegen. Our implementation for C# is somewhat workable, although not exactly what we would like, but the VB implementation would be much more difficult. Moreover, the implementation for VB would require the interface implementation methods to be public API surface.</p>\n</blockquote>\n\n<p>As for the infinite recursion, this</p>\n\n<pre><code>public void M()\n{\n    ((IB)this).M(); // Throws stack overflow\n}\n</code></pre>\n\n<p>That's essentially </p>\n\n<pre><code>public void M()\n{\n    M(); // Throws stack overflow\n}\n</code></pre>\n\n<p>Default interface members are called the same way explicitly implemented interface methods are, through the interface. Besides, you're asking to call the method on <code>this</code>, not <code>base</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2809, "user_id": 6720987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0TSHr.png?s=128&g=1", "display_name": "Jan-Fokke", "link": "https://stackoverflow.com/users/6720987/jan-fokke"}, "is_accepted": false, "score": 1, "last_activity_date": 1576747538, "creation_date": 1576747538, "answer_id": 59406664, "question_id": 59398027, "link": "https://stackoverflow.com/questions/59398027/c-8-base-interfaces-default-method-invocation-workaround/59406664#59406664", "title": "C# 8 base interface&#39;s default method invocation workaround", "body": "<p>There is a workaround. \nI got it working, using <code>GetFunctionPointer</code></p>\n\n<blockquote>\n  <p><strong>Warning</strong> do not use this code</p>\n</blockquote>\n\n<pre><code>static class BaseInterfaceInvocationExtension\n{\n    private static readonly string invalidExpressionMessage = \"Invalid expression.\";\n\n    public static void Base&lt;TInterface&gt;(this TInterface owner, Expression&lt;Action&lt;TInterface&gt;&gt; selector)\n    {\n        if (selector.Body is MethodCallExpression methodCallExpression)\n        {\n            MethodInfo methodInfo = methodCallExpression.Method;\n            string name = methodInfo.DeclaringType.FullName + \".\" + methodInfo.Name;\n            Type type = owner.GetType();\n            InterfaceMapping interfaceMapping = type.GetInterfaceMap(typeof(TInterface));\n            var map = interfaceMapping;\n            var interfaceMethod = map.InterfaceMethods.First(info =&gt;\n                info.Name == name);\n            var functionPointer = interfaceMethod.MethodHandle.GetFunctionPointer();\n\n            var x = methodCallExpression.Arguments.Select(expression =&gt;\n            {\n                if (expression is ConstantExpression constantExpression)\n                {\n                    return constantExpression.Value;\n                }\n                var lambda = Expression.Lambda(Expression.Convert(expression, expression.Type));\n                return lambda.Compile().DynamicInvoke();\n            }).ToArray();\n            Type actionType = null;\n            if (x.Length == 0)\n            {\n                actionType = typeof(Action);\n            }else if (x.Length == 1)\n            {\n                actionType = typeof(Action&lt;&gt;);\n            }\n            else if (x.Length == 2)\n            {\n                actionType = typeof(Action&lt;,&gt;);\n            }\n            var genericType = actionType.MakeGenericType(methodInfo.GetParameters().Select(t =&gt; t.ParameterType).ToArray());\n            var instance = Activator.CreateInstance(genericType, owner, functionPointer);\n            instance.GetType().GetMethod(\"Invoke\").Invoke(instance, x);\n        }\n        else\n        {\n            throw new Exception(invalidExpressionMessage);\n        }\n    }\n}\n\nclass D : IA, IB, IC\n{\n    public void M(int test)\n    {\n       this.Base&lt;IB&gt;(d =&gt; d.M(test));\n    }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        D d = new D();\n        d.M(12);\n        Console.ReadKey();\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 144, "user_id": 8055878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc1cc2cff6203d47dc77b1708e0b9f0f?s=128&d=identicon&r=PG&f=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/8055878/travis"}, "is_accepted": false, "score": 0, "last_activity_date": 1585780890, "creation_date": 1585780890, "answer_id": 60981453, "question_id": 59398027, "link": "https://stackoverflow.com/questions/59398027/c-8-base-interfaces-default-method-invocation-workaround/60981453#60981453", "title": "C# 8 base interface&#39;s default method invocation workaround", "body": "<p>This is a workaround. It isn't ideal. Perhaps it will help someone.</p>\n\n<pre><code>class C : IB\n{\n    public void IBM() =&gt; (this as IB).M();\n}\n\nclass D : IA, IB, IC\n{\n    private C _c = new C();\n\n    public void M()\n    {\n        _c.IBM();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2809, "user_id": 6720987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0TSHr.png?s=128&g=1", "display_name": "Jan-Fokke", "link": "https://stackoverflow.com/users/6720987/jan-fokke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 2, "accepted_answer_id": 59398412, "answer_count": 3, "score": 8, "last_activity_date": 1585780890, "creation_date": 1576693248, "question_id": 59398027, "link": "https://stackoverflow.com/questions/59398027/c-8-base-interfaces-default-method-invocation-workaround", "title": "C# 8 base interface&#39;s default method invocation workaround", "body": "<p>According to <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/proposals/csharp-8.0/default-interface-methods\" rel=\"noreferrer\">https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/proposals/csharp-8.0/default-interface-methods</a> \nIt is possible to explicitly invoke an interface base implementation with the following syntax.</p>\n\n<pre><code>base(IInterfaceType).Method();\n</code></pre>\n\n<p>But this doesn't seem to be implemented yet.</p>\n\n<p>Is there a workaround (e.g reflection) to achieve this?</p>\n\n<hr>\n\n<blockquote>\n  <p>Example code to illustrate the problem</p>\n</blockquote>\n\n<pre><code>interface IA\n{\n    void M()\n    {\n        Console.WriteLine(\"IA.M\");\n    }\n}\n\ninterface IB : IA\n{\n    void IA.M()\n    {\n        Console.WriteLine(\"IB.M\");\n    }\n}\n\ninterface IC : IA\n{\n    void IA.M()\n    {\n        Console.WriteLine(\"IC.M\");\n    }\n}\n\nclass D : IA, IB, IC\n{\n    public void M()\n    {\n        // base(IB).M(); Is not yet supported apparently\n        ((IB)this).M(); // Throws stack overflow\n    }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        D d = new D();\n        d.M();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "design-patterns", "singleton"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576693390, "post_id": 59397962, "comment_id": 104985164, "body": "If you have 3 instances of <code>cashRegister</code> They&#39;re all sharing the same instance of <code>TheeOneAndOnlyCashRegister</code>.  So when you set <code>TheeOneAndOnlyCashRegister = this;</code> in one instance of <code>cashRegister</code>, they&#39;re all using that same <code>TheeOneAndOnlyCashRegister </code>. You&#39;re example is too simple to see the benefit of this, that&#39;s probably why it&#39;s so confusing."}, {"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 1, "creation_date": 1576693546, "post_id": 59397962, "comment_id": 104985233, "body": "Very nice <a href=\"https://csharpindepth.com/articles/singleton\" rel=\"nofollow noreferrer\">article</a> about singleton from Jon Skeet"}, {"owner": {"reputation": 135, "user_id": 7718608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad51c505fc5788a3515093625628ecb?s=128&d=identicon&r=PG", "display_name": "jkuehlin", "link": "https://stackoverflow.com/users/7718608/jkuehlin"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576693606, "post_id": 59397962, "comment_id": 104985253, "body": "@Train So what does the last code block actually do in relation to the three instances of &#39;cashRegister&#39;? Can you clarify in more detail?"}, {"owner": {"reputation": 135, "user_id": 7718608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad51c505fc5788a3515093625628ecb?s=128&d=identicon&r=PG", "display_name": "jkuehlin", "link": "https://stackoverflow.com/users/7718608/jkuehlin"}, "reply_to_user": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1576693758, "post_id": 59397962, "comment_id": 104985318, "body": "@Pavel Anikhouski - I can&#39;t tell which example in the Jon Skeet Article is comparable to the one I attempted to use. Can you clarify?"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576694009, "post_id": 59397962, "comment_id": 104985425, "body": "It makes sure that you only have 1 instance of cashRegister when you call awake(). but one thing it does it allows for non static methods, so each instance of <code>cashRegister</code> doesn&#39;t have to share the <code>start() or update()</code> methods. Again this example is too simple to see the benefit in this, this is a pretty specific scenario so unless you can see a real life example of this it won&#39;t make much sense to you."}, {"owner": {"reputation": 128, "user_id": 4692951, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oWTMSIIOH2I/AAAAAAAAAAI/AAAAAAAAAYY/OKe1jmztkIs/photo.jpg?sz=128", "display_name": "Pavel Stepanets", "link": "https://stackoverflow.com/users/4692951/pavel-stepanets"}, "edited": false, "score": 0, "creation_date": 1576741623, "post_id": 59397962, "comment_id": 104998626, "body": "You should avoid using singletons at all, it behaves like a global variable makes unit testing difficult or impossible. Use dependency injection instead."}, {"owner": {"reputation": 135, "user_id": 7718608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad51c505fc5788a3515093625628ecb?s=128&d=identicon&r=PG", "display_name": "jkuehlin", "link": "https://stackoverflow.com/users/7718608/jkuehlin"}, "reply_to_user": {"reputation": 128, "user_id": 4692951, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oWTMSIIOH2I/AAAAAAAAAAI/AAAAAAAAAYY/OKe1jmztkIs/photo.jpg?sz=128", "display_name": "Pavel Stepanets", "link": "https://stackoverflow.com/users/4692951/pavel-stepanets"}, "edited": false, "score": 0, "creation_date": 1576780196, "post_id": 59397962, "comment_id": 105017698, "body": "@PavelStepanets - being new to this stuff, it seems logical to try and understand what something does, in order for the reasons why to NOT do make sense. I&#39;ve noted that it&#39;s unpopular, but since people do seem to use it, I figured it couldn&#39;t hurt to learn a thing or two about it. ...I have no idea what dependency injection is, but I&#39;ll keep that in mind as I learn more about patterns."}], "owner": {"reputation": 135, "user_id": 7718608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad51c505fc5788a3515093625628ecb?s=128&d=identicon&r=PG", "display_name": "jkuehlin", "link": "https://stackoverflow.com/users/7718608/jkuehlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576692988, "creation_date": 1576692988, "question_id": 59397962, "link": "https://stackoverflow.com/questions/59397962/what-is-the-specific-task-a-singleton-pattern-accomplishes-at-the-time-it-is-han", "title": "What is the specific task a singleton pattern accomplishes at the time it is handed .this?", "body": "<p>Trying to get a handle on what the singleton pattern is, and what it's for. I think I'm close, but I'm not quite sure. I understand we use this technique when we only want one instance of a certain thing. But I haven't gotten my head around what that means and what the code part actually does.</p>\n\n<p>FOR ANALOGY ONLY: Let's say I own a store with only one cash register. Employees and customers are scripts. I want every employee and customer in the building to use that one register for checkout related tasks. (I think that's what singleton is for)</p>\n\n<pre><code> public class cashRegister\n {\n     public static cashRegister TheeOneAndOnlyCashRegister;\n\n     void Start()\n     {\n     }\n\n     void Update()\n     {        \n     }\n\n     void Awake()\n     {\n         if (TheeOneAndOnlyCashRegister == null)\n             TheeOneAndOnlyCashRegister = this;\n     }\n }\n</code></pre>\n\n<p>So what I don't understand is what I actually did here (if I even did this correctly).</p>\n\n<p>Did I tell the store that there must be 'this' register in existence?\nOr did I tell the store that all people can only ever use this register?\nOr did I merely just name the register a name and demand the name was TheeOneAndOnlyCashRegister?</p>\n"}, {"tags": ["c#", "uwp", "windows-runtime", "task"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576693218, "post_id": 59397946, "comment_id": 104985086, "body": "You should not be writing a bacakup programm yourself. There are literal dozens of Backup Programms out there. Heck, on a Windows I could do it with Robocopy. Indeed I often do make backups with Robocopy."}, {"owner": {"reputation": 11321, "user_id": 4184842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mD03.jpg?s=128&g=1", "display_name": "Peter Torr - MSFT", "link": "https://stackoverflow.com/users/4184842/peter-torr-msft"}, "edited": false, "score": 0, "creation_date": 1576790437, "post_id": 59397946, "comment_id": 105021353, "body": "These easiest solution is to make <code>CopyFolderAsync</code> <code>private</code>, but you will need to use a deferral for your <code>taskInstance</code>."}], "owner": {"reputation": 1, "user_id": 12560409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e730bbda8a8b5ec4e325f0bc5a06f82?s=128&d=identicon&r=PG&f=1", "display_name": "Reblo84", "link": "https://stackoverflow.com/users/12560409/reblo84"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576692927, "creation_date": 1576692927, "question_id": 59397946, "link": "https://stackoverflow.com/questions/59397946/start-backup-folders-with-background-tasks-uwp", "title": "Start backup folders with background tasks UWP", "body": "<p>I have to start a backup of folders with background task so with an implememntazione of Component Windows Runtime but in Component Windows Runtime it is not possible to use public static async Task method.</p>\n\n<p>MainPage.xaml.cs:</p>\n\n<pre><code>    public MainPage()\n    {\n        this.InitializeComponent();\n    }\n\n    private async void BtnChooseFolder_Click(object sender, RoutedEventArgs e)\n    {\n        FolderPicker folderPicker = new FolderPicker();\n        folderPicker.SuggestedStartLocation = PickerLocationId.PicturesLibrary;\n        folderPicker.FileTypeFilter.Add(\"*\");\n        StorageFolder SelectFolderToLoad = await folderPicker.PickSingleFolderAsync();\n        StorageApplicationPermissions.FutureAccessList.AddOrReplace(\"FolderToCopy\", SelectFolderToLoad);\n    }\n\n    private async void BtnDestinationFolder_Click(object sender, RoutedEventArgs e)\n    {\n        FolderPicker folderPicker = new FolderPicker();\n        folderPicker.SuggestedStartLocation = PickerLocationId.PicturesLibrary;\n        folderPicker.FileTypeFilter.Add(\"*\");\n        StorageFolder SelectFolderToLoad = await folderPicker.PickSingleFolderAsync();\n        StorageApplicationPermissions.FutureAccessList.AddOrReplace(\"DestinationFolder\", SelectFolderToLoad);\n    }\n\n    private void BtnTask_Click(object sender, RoutedEventArgs e)\n    {\n        foreach (var cur in BackgroundTaskRegistration.AllTasks)\n        {\n            if (cur.Value.Name == \"TaskLocalBackup\")\n            {\n                cur.Value.Unregister(true);\n            }\n        }\n\n        var requestTask = BackgroundExecutionManager.RequestAccessAsync();\n\n        var builder = new BackgroundTaskBuilder();\n\n        builder.Name = \"TaskLocalBackup\";\n        builder.TaskEntryPoint = \"ClassBackgraundTask.BackgroundTaskClass\";\n        //builder.SetTrigger(new SystemTrigger(SystemTriggerType.UserPresent, false));\n\n        builder.SetTrigger(new TimeTrigger(15, false));\n\n        BackgroundTaskRegistration task = builder.Register();\n    }\n</code></pre>\n\n<p>BackgroundTaskClass.cs: (In Component Windows Runtime)</p>\n\n<pre><code>    public sealed class BackgroundTaskClass : IBackgroundTask\n    {\n        public void Run(IBackgroundTaskInstance taskInstance)\n        {\n            StartBackup();\n        }\n        private async static void StartBackup()\n        {\n            StorageFolder folderToSave = await \n                  StorageApplicationPermissions.FutureAccessList.GetFolderAsync(\"FolderToCopy\");\n            StorageFolder foldersSaved = await        \n                 StorageApplicationPermissions.FutureAccessList.GetFolderAsync(\"DestinationFolder\");\n            await CopyFolderAsync(folderToSave, foldersSaved);\n        }\n\n        public static async Task CopyFolderAsync(StorageFolder source, StorageFolder destinationContainer)\n        {\n            StorageFolder destinationFolder = null;\n            destinationFolder = await destinationContainer.CreateFolderAsync(\"Local\" ?? source.Name, \n                                CreationCollisionOption.ReplaceExisting);\n\n            foreach (var file in await source.GetFilesAsync())\n            {\n                await file.CopyAsync(destinationFolder, file.Name, \n                      NameCollisionOption.ReplaceExisting);\n            }\n            foreach (var folder in await source.GetFoldersAsync())\n            {\n                 await CopyFolderAsync(folder, destinationFolder);\n            }\n        }\n    }\n</code></pre>\n\n<p>This is the error:</p>\n\n<blockquote>\n  <p>Method 'ClassBackgraundTask.BackgroundTaskClass.CopyFolderAsync(Windows.Storage.StorageFolder, Windows.Storage.StorageFolder)' has a parameter of type 'System.Threading.Tasks.Task' in its signature.  Although this type is not a valid Windows Runtime type, it implements interfaces that are valid Windows Runtime types.  Consider changing the method signature to use one of the following types instead: 'System.IDisposable'.   ClassBackgraundTask </p>\n</blockquote>\n\n<p>How can it be resolved?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "wpf", "process"], "comments": [{"owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1576693343, "post_id": 59397895, "comment_id": 104985149, "body": "THat is because jpg file is being locked by the previous operation you performed on it. Use .Dispose() to release file handler"}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1576693665, "post_id": 59397895, "comment_id": 104985276, "body": "You can use <code>handle.exe</code> from sysinternals which gives you the process that uses the specified file. You can parse its output and kill that process then you can delete your file."}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1576694581, "post_id": 59397895, "comment_id": 104985697, "body": "Why are you using <code>System.Drawing.Image.FromStream</code> (which is WinForms) instead of directly loading a BitmapImage by assigning the <code>imageStream</code> to its <code>StreamSource</code> property? There doesn&#39;t seem to be any need to save the JPEG files at all."}, {"owner": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "edited": false, "score": 0, "creation_date": 1576697367, "post_id": 59397895, "comment_id": 104986793, "body": "Thank you all for your help. Now, when I display a new ppt, the first few slides are still displayed from the last ppt that was loaded, but the last few are from the new updated one. Checking the files in the folder, all of them are the new updated ones. Would anyone know why this may be?"}, {"owner": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1576703383, "post_id": 59397895, "comment_id": 104989095, "body": "@Clemens I have used the StreamSource property, but an exception is thrown when I don&#39;t have the UriSource set to the location of the file"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1576703544, "post_id": 59397895, "comment_id": 104989143, "body": "You don&#39;t need to set UriSource when you set StreamSource (and you don&#39;t need a file!). But you may have to set <code>imageStream.Position = 0;</code> before. Which exception is thrown? We can&#39;t read your mind."}, {"owner": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1576703793, "post_id": 59397895, "comment_id": 104989235, "body": "@Clemens I get a System.NotSupportedException: The component cannot be found"}], "answers": [{"comments": [{"owner": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "edited": false, "score": 0, "creation_date": 1576704493, "post_id": 59400110, "comment_id": 104989499, "body": "I am getting an exception System.NotSupportedException: No imaging component suitable to complete this operation was found"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "reply_to_user": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "edited": false, "score": 0, "creation_date": 1576704665, "post_id": 59400110, "comment_id": 104989570, "body": "Did you set <code>Position = 0</code>?"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "reply_to_user": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "edited": false, "score": 0, "creation_date": 1576705049, "post_id": 59400110, "comment_id": 104989707, "body": "See the edited answer. It copies the image stream to a MemoryStream before loading the BitmapImage."}, {"owner": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "edited": false, "score": 0, "creation_date": 1576705218, "post_id": 59400110, "comment_id": 104989753, "body": "Still get the same exception; the component cannot be found"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "reply_to_user": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "edited": false, "score": 0, "creation_date": 1576705314, "post_id": 59400110, "comment_id": 104989788, "body": "Can you try a different format than <code>Syncfusion.Drawing.ImageFormat.Jpeg</code>? E.g. PNG?"}, {"owner": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "edited": false, "score": 0, "creation_date": 1576705437, "post_id": 59400110, "comment_id": 104989832, "body": "Still the same using Syncfusion.Drawing.ImageFormat.Png"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "reply_to_user": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "edited": false, "score": 0, "creation_date": 1576705624, "post_id": 59400110, "comment_id": 104989885, "body": "That&#39;s odd. If you can create a System.Drawing.Image from the stream, save that to a file and load a BitmapImage from the file, you should of course also be able to create a BitmapImage directly from the stream. Anything else doesn&#39;t make sense..."}, {"owner": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "edited": false, "score": 0, "creation_date": 1576706260, "post_id": 59400110, "comment_id": 104990111, "body": "Yes it&#39;s very strange. The exception is thrown at bitmap.EndInit()"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "reply_to_user": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "edited": false, "score": 0, "creation_date": 1576706366, "post_id": 59400110, "comment_id": 104990148, "body": "Yes, that&#39;s exactly what happens when the stream does not contain a complete JPEG frame"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "reply_to_user": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "edited": false, "score": 0, "creation_date": 1576706685, "post_id": 59400110, "comment_id": 104990271, "body": "Just for a test, try to keep the image stream open as shown in the second code part above."}, {"owner": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "edited": false, "score": 0, "creation_date": 1576706879, "post_id": 59400110, "comment_id": 104990341, "body": "Still the same exception after removing cacheoption"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "reply_to_user": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "edited": false, "score": 0, "creation_date": 1576707517, "post_id": 59400110, "comment_id": 104990562, "body": "I&#39;ve made another edit, now with using <code>System.Drawing.Image</code>. If that still doesn&#39;t work, I don&#39;t know what else to try."}, {"owner": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "edited": false, "score": 0, "creation_date": 1576707803, "post_id": 59400110, "comment_id": 104990679, "body": "Now i get a System.FileFormatException: The image cannot be decoded. The image header might be corrupted."}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "reply_to_user": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "edited": false, "score": 0, "creation_date": 1576708149, "post_id": 59400110, "comment_id": 104990799, "body": "That&#39;s from <code>System.Drawing.Image.FromStream</code>? How did that work in your original code?"}, {"owner": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "edited": false, "score": 0, "creation_date": 1576708165, "post_id": 59400110, "comment_id": 104990803, "body": "It worked when I made the file format System.Drawing.Imaging.ImageFormat.Bmp, thank you for all of your help, I&#39;ll accept your answer"}], "tags": [], "owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "is_accepted": true, "score": 1, "last_activity_date": 1576707469, "last_edit_date": 1576707469, "creation_date": 1576703951, "answer_id": 59400110, "question_id": 59397895, "link": "https://stackoverflow.com/questions/59397895/delete-file-used-by-other-process/59400110#59400110", "title": "Delete File Used By Other Process", "body": "<p>You don't need to write any image file at all.</p>\n\n<p>Just directly use the Stream returned by <code>slide.ConvertToImage</code> to load a BitmapImage:</p>\n\n<pre><code>foreach (var slide in presentation.Slides)\n{\n    var bitmap = new BitmapImage();\n\n    using (var imageStream = slide.ConvertToImage(Syncfusion.Drawing.ImageFormat.Jpeg))\n    {\n        imageStream.Position = 0;\n\n        bitmap.BeginInit();\n        bitmap.StreamSource = imageStream;\n        bitmap.CacheOption = BitmapCacheOption.OnLoad;\n        bitmap.EndInit();\n    }\n\n    VisualAidPPT.Add(bitmap);\n}\n</code></pre>\n\n<hr>\n\n<p>EDIT: In case the above does not work, you may still decode a <code>System.Drawing.Image</code> and save that to a MemoryStream:</p>\n\n<pre><code>foreach (var slide in presentation.Slides)\n{\n    var bitmap = new BitmapImage();\n\n    using (var imageStream = slide.ConvertToImage(Syncfusion.Drawing.ImageFormat.Jpeg))\n    using (var image = System.Drawing.Image.FromStream(imageStream))\n    using (var memoryStream = new MemoryStream())\n    {\n        image.Save(memoryStream, System.Drawing.Imaging.ImageFormat.Jpeg);\n        memoryStream.Position = 0;\n\n        bitmap.BeginInit();\n        bitmap.StreamSource = memoryStream;\n        bitmap.CacheOption = BitmapCacheOption.OnLoad;\n        bitmap.EndInit();\n    }\n\n    VisualAidPPT.Add(bitmap);\n}\n</code></pre>\n"}], "owner": {"reputation": 134, "user_id": 10501171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e8fbc6dcdc59e09b8a025d02ca6f48?s=128&d=identicon&r=PG&f=1", "display_name": "jjo", "link": "https://stackoverflow.com/users/10501171/jjo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 59400110, "answer_count": 1, "score": 0, "last_activity_date": 1576707469, "creation_date": 1576692668, "question_id": 59397895, "link": "https://stackoverflow.com/questions/59397895/delete-file-used-by-other-process", "title": "Delete File Used By Other Process", "body": "<p>I am trying to create a C# app which loads a powerpoint and makes each slide a JPG that is stored in a list of BitmapImages. The user should be able to load another powerpoint, which, on load, deletes each of the other JPGs in the folder. Currently, I am unable to delete the JPGs, as they are \"being used by another process\" which happens to be this app. How can I work around this?</p>\n\n<pre><code>foreach (ISlide slide in presentation.Slides)\n{\n             System.IO.Stream imageStream = slide.ConvertToImage(Syncfusion.Drawing.ImageFormat.Jpeg);\n             System.Drawing.Image convertedImage = System.Drawing.Image.FromStream(imageStream);\n\n             if (!System.IO.File.Exists(picsPath + \"\\\\Slide_\" + slide.SlideNumber + \".jpg\"))\n                  convertedImage.Save(picsPath + \"\\\\Slide_\" + slide.SlideNumber + \".jpg\");\n             else\n             {\n                        try\n                        {\n                  System.IO.File.Delete(picsPath + \"\\\\Slide_\" + slide.SlideNumber + \".jpg\");               \n                  convertedImage.Save(picsPath + \"\\\\Slide_\" + slide.SlideNumber + \".jpg\");\n             }\n                  catch (Exception df){Console.WriteLine(df.StackTrace);}\n             }\n             bitmap = new BitmapImage();\n             bitmap.BeginInit();\n             bitmap.UriSource = new Uri(picsPath + \"\\\\Slide_\" + slide.SlideNumber + \".jpg\");\n             bitmap.CacheOption = BitmapCacheOption.OnLoad;\n             bitmap.EndInit();\n             VisualAidPPT.Add(bitmap);\n             convertedImage = null;\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml"], "comments": [{"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1576693827, "post_id": 59397891, "comment_id": 104985353, "body": "You should create new component by deriving <code>Button</code>. There is also <code>Behaviors</code> and <code>Attached Dependency Properties</code> but in this case i would suggest the component part."}, {"owner": {"reputation": 1, "user_id": 11937894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b677483c6bead3230663dc829060cab9?s=128&d=identicon&r=PG&f=1", "display_name": "Adamak18", "link": "https://stackoverflow.com/users/11937894/adamak18"}, "reply_to_user": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1576696645, "post_id": 59397891, "comment_id": 104986501, "body": "@Eldar, can you give me a link on how to do it, or show me an example please"}, {"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 0, "creation_date": 1576697096, "post_id": 59397891, "comment_id": 104986696, "body": "It&#39;s <b>CUSTOM</b> _ not &quot;costum&quot; ....."}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1576697205, "post_id": 59397891, "comment_id": 104986731, "body": "Check this <a href=\"https://stackoverflow.com/a/13276319/12354911\">answer</a>"}, {"owner": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "edited": false, "score": 0, "creation_date": 1576745809, "post_id": 59397891, "comment_id": 105000404, "body": "@Adamak18, you can find some possible aproaches <a href=\"https://stackoverflow.com/q/40657840/1506454\">in this QA post</a>"}, {"owner": {"reputation": 1, "user_id": 11937894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b677483c6bead3230663dc829060cab9?s=128&d=identicon&r=PG&f=1", "display_name": "Adamak18", "link": "https://stackoverflow.com/users/11937894/adamak18"}, "reply_to_user": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1576839790, "post_id": 59397891, "comment_id": 105034479, "body": "@Eldar, both your topic  and ahs&#39;s gave me an idea on how to do this. The solution I&#39;m looking for is attached properties, obviously, right? Well I&#39;m a beginner and I&#39;ve done a lot of research these two days and finally got my first code to work, now I&#39;m experimenting with the attached properties in many ways so I can get the results I want."}], "owner": {"reputation": 1, "user_id": 11937894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b677483c6bead3230663dc829060cab9?s=128&d=identicon&r=PG&f=1", "display_name": "Adamak18", "link": "https://stackoverflow.com/users/11937894/adamak18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576697084, "creation_date": 1576692661, "last_edit_date": 1576697084, "question_id": 59397891, "link": "https://stackoverflow.com/questions/59397891/how-to-add-a-custom-dependency-property-to-a-button-in-wpf", "title": "How to add a custom dependency property to a button in wpf?", "body": "<p>In a WPF project, I am trying to create a template for a button in resource dictionary that I will use through all my project that looks like the Photoshop template below with the option to change the Button icon (padlock in this case).</p>\n\n<p><a href=\"https://i.stack.imgur.com/4zkQk.png\" rel=\"nofollow noreferrer\">Photoshop Template</a></p>\n\n<p>I saw these two questions </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2726986/button-template-with-image-and-text-in-wpf\">Creating an image+text button with a control template?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1933127/creating-an-imagetext-button-with-a-control-template\">Button template with image and text in wpf</a></li>\n</ul>\n\n<p>Both use custom control which works fine, but I don't want to do it using a custom control.</p>\n\n<p>Also I found a solution using tag for the <code>ImageSource</code>, but in case I want to add a lot of properties, tag doesn't work</p>\n\n<p>What I want to do is add a costume dependency property to the button control so I can do something like this:</p>\n\n<pre><code> &lt;Button ImageSource=\"????\" OuterBorderBrush=\"?????\" \n      InnerBorderBrush=\"????\" Height=\"50\" Width=\"150\" \n      Content=\"LOGIN\" FontSize=\"14\" FontFamily=\"Trajan Pro 3\"/&gt;\n</code></pre>\n\n<p>This is the code that I wrote for the template:</p>\n\n<pre><code>&lt;Style TargetType=\"{x:Type Button}\"&gt;\n    &lt;Setter Property=\"BorderThickness\" Value=\"1\"/&gt;\n    &lt;Setter Property=\"BorderBrush\" Value=\"#FFC8D6E5\"/&gt;\n    &lt;Setter Property=\"Background\" Value=\"#FF5397C7\"/&gt;\n    &lt;Setter Property=\"Foreground\" Value=\"White\"/&gt;\n    &lt;Setter Property=\"HorizontalContentAlignment\" Value=\"Center\"/&gt;\n    &lt;Setter Property=\"VerticalContentAlignment\" Value=\"Center\"/&gt;\n    &lt;Setter Property=\"Padding\" Value=\"1\"/&gt;\n\n    &lt;Setter Property=\"Template\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;ControlTemplate  TargetType=\"{x:Type Button}\"&gt;\n                &lt;Border x:Name=\"OuterBorder\" CornerRadius=\"5\"\n                        BorderBrush=\"{TemplateBinding BorderBrush}\" \n                        BorderThickness=\"{TemplateBinding BorderThickness}\" \n                        Background=\"{TemplateBinding Background}\" Padding=\"2\" &gt;\n                    &lt;Border x:Name=\"iNNERBorder\" CornerRadius=\"5\"\n                        BorderBrush=\"{TemplateBinding BorderBrush}\"\n                            BorderThickness=\"{TemplateBinding BorderThickness}\"\n                            Background=\"{TemplateBinding Background}\" Padding=\"2\" &gt;\n                        &lt;Grid &gt;\n                            &lt;Grid.ColumnDefinitions&gt;\n                                &lt;ColumnDefinition Width=\"*\"/&gt;\n                                &lt;ColumnDefinition Width=\"2*\"/&gt;\n                            &lt;/Grid.ColumnDefinitions&gt;\n                            &lt;ContentPresenter Grid.Column=\"1\" HorizontalAlignment=\"Center\"\n                                          VerticalAlignment=\"Center\"/&gt;\n                            &lt;Image x:Name=\"ButtonIcon\" Width=\"20\" Height=\"20\" Margin=\"2\" Grid.Column=\"0\" \n                                   Source=\"/ControlsTemplate;component/Recources/Png/OPEN PADLOCK.png\" &gt;&lt;/Image&gt;\n                        &lt;/Grid&gt;\n                    &lt;/Border&gt;\n\n                &lt;/Border&gt;\n                &lt;ControlTemplate.Triggers&gt;\n                    &lt;Trigger Property=\"IsKeyboardFocused\" Value=\"true\"&gt;\n\n                    &lt;/Trigger&gt;\n                    &lt;Trigger Property=\"ToggleButton.IsChecked\" Value=\"true\"&gt;\n\n                    &lt;/Trigger&gt;\n                    &lt;Trigger Property=\"IsEnabled\" Value=\"false\"&gt;\n                        &lt;Setter Property=\"Foreground\" Value=\"#ADADAD\"/&gt;\n                    &lt;/Trigger&gt;\n                &lt;/ControlTemplate.Triggers&gt;\n            &lt;/ControlTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n&lt;/Style&gt;\n</code></pre>\n"}, {"tags": ["c#", "linq", "asp.net-core", "razor-pages"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576692794, "post_id": 59397886, "comment_id": 104984894, "body": "What is the type of the &quot;Engine Size&quot; field/column on the Car class/table? If it is not a simple Numeric/ordered Enumeration or Lookup Table, how would you sort them?"}, {"owner": {"reputation": 5, "user_id": 12554085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a3d7d5f1f1ce93080b8c2222820762?s=128&d=identicon&r=PG&f=1", "display_name": "Campbell1", "link": "https://stackoverflow.com/users/12554085/campbell1"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576693743, "post_id": 59397886, "comment_id": 104985310, "body": "Hi Christopher thanks for the reply, the engine size is of type integer. Would I just do a similar query to above but store the minimum and maximum value? Its unclear to me on how to go about doing that"}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576694954, "post_id": 59397886, "comment_id": 104985837, "body": "I can give you the SQL, I am not that good with LINQ: <code>Select * FROM TableCar WHERE EngineSize &gt;= Minimum AND EngineSize &lt;= Maximum</code>. With Minimum and Maximum being put in from the UI. If it is past early learning, you want to make sure to use Parametized Queries of course."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576695116, "post_id": 59397886, "comment_id": 104985892, "body": "Getting Maximum is <code>SELECT MAX(EngineSize) FROM TableCar</code> MIN is coutner point. Basic Scalar Queries."}, {"owner": {"reputation": 5, "user_id": 12554085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a3d7d5f1f1ce93080b8c2222820762?s=128&d=identicon&r=PG&f=1", "display_name": "Campbell1", "link": "https://stackoverflow.com/users/12554085/campbell1"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576695388, "post_id": 59397886, "comment_id": 104986013, "body": "Thanks for your advice i will try implement the query using that information!"}, {"owner": {"reputation": 82, "user_id": 3611193, "user_type": "registered", "profile_image": "https://graph.facebook.com/500892556/picture?type=large", "display_name": "themiDdlest", "link": "https://stackoverflow.com/users/3611193/themiddlest"}, "edited": false, "score": 0, "creation_date": 1576698593, "post_id": 59397886, "comment_id": 104987333, "body": "Are you trying to get the max and min from the list of cars? you can get the max and min from a list by doing var maxEngine= Model.CarID.Max(x=&gt;x.EngineSize); and there is a similar Min function"}, {"owner": {"reputation": 5, "user_id": 12554085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a3d7d5f1f1ce93080b8c2222820762?s=128&d=identicon&r=PG&f=1", "display_name": "Campbell1", "link": "https://stackoverflow.com/users/12554085/campbell1"}, "edited": false, "score": 0, "creation_date": 1576698761, "post_id": 59397886, "comment_id": 104987396, "body": "Yes ThemDdlest im just unsure how to go about implementing it, thanks for your reply"}, {"owner": {"reputation": 82, "user_id": 3611193, "user_type": "registered", "profile_image": "https://graph.facebook.com/500892556/picture?type=large", "display_name": "themiDdlest", "link": "https://stackoverflow.com/users/3611193/themiddlest"}, "edited": false, "score": 0, "creation_date": 1576699053, "post_id": 59397886, "comment_id": 104987516, "body": "You&#39;d either need to make a Viewmodel that has fields for your max/min engines, or in your view you can run code to get the values from the Model/list: var maxEngine= Model.CarID.Max(x=&gt;x.EngineSize); and then add the values to a drop down or something."}, {"owner": {"reputation": 5, "user_id": 12554085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a3d7d5f1f1ce93080b8c2222820762?s=128&d=identicon&r=PG&f=1", "display_name": "Campbell1", "link": "https://stackoverflow.com/users/12554085/campbell1"}, "edited": false, "score": 0, "creation_date": 1576699988, "post_id": 59397886, "comment_id": 104987879, "body": "Yeah this helps me understand greatly, although im struggling to get my code to work with this in mind"}, {"owner": {"reputation": 82, "user_id": 3611193, "user_type": "registered", "profile_image": "https://graph.facebook.com/500892556/picture?type=large", "display_name": "themiDdlest", "link": "https://stackoverflow.com/users/3611193/themiddlest"}, "edited": false, "score": 0, "creation_date": 1576705343, "post_id": 59397886, "comment_id": 104989799, "body": "@Campbell1 You should be able to do something like @Html.DisplayFor(x=&gt;Model.CarID.Max(y=&gt;y.EngineSize)) in your view."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 12554085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a3d7d5f1f1ce93080b8c2222820762?s=128&d=identicon&r=PG&f=1", "display_name": "Campbell1", "link": "https://stackoverflow.com/users/12554085/campbell1"}, "edited": false, "score": 0, "creation_date": 1576698563, "post_id": 59399037, "comment_id": 104987320, "body": "Thank you Alvin, this helps a lot. Only problem is i am trying to keep my queries similar as that is how i understand them best. Is there anyway you can &#39;dumb&#39; it down to my level which makes it similar to the query above? again much appreciated!"}, {"owner": {"reputation": 1323, "user_id": 4628597, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wKkDYI4u7ws/AAAAAAAAAAI/AAAAAAAAImg/PBTVUUnDauQ/photo.jpg?sz=128", "display_name": "Alvin Sartor", "link": "https://stackoverflow.com/users/4628597/alvin-sartor"}, "reply_to_user": {"reputation": 5, "user_id": 12554085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a3d7d5f1f1ce93080b8c2222820762?s=128&d=identicon&r=PG&f=1", "display_name": "Campbell1", "link": "https://stackoverflow.com/users/12554085/campbell1"}, "edited": false, "score": 0, "creation_date": 1576699055, "post_id": 59399037, "comment_id": 104987519, "body": "Sure @Campbell1 . You&#39;re current query, transformed to LINQ is  <code>var CarQuery = _context.Cars.Where(s =&gt; s.CarID == SearchCarID);</code>  Adding the min/max, it&#39;d become <code>var CarQuery = _context.Cars.Where(s =&gt; s.CarID == SearchCarID).Where(MinMaxFilter)</code> (using the lambda as shown above). You see that it is just matter of perspective and the two queries become very similar, just an additional condition."}, {"owner": {"reputation": 5, "user_id": 12554085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a3d7d5f1f1ce93080b8c2222820762?s=128&d=identicon&r=PG&f=1", "display_name": "Campbell1", "link": "https://stackoverflow.com/users/12554085/campbell1"}, "edited": false, "score": 0, "creation_date": 1576699747, "post_id": 59399037, "comment_id": 104987782, "body": "Great Alvin makes a lot more sense, would you be able to put it into my project so it works as i just tried and cannot grasp where where to put the query for it to work? For example could you take my example above and input your query so it runs?"}, {"owner": {"reputation": 1323, "user_id": 4628597, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wKkDYI4u7ws/AAAAAAAAAAI/AAAAAAAAImg/PBTVUUnDauQ/photo.jpg?sz=128", "display_name": "Alvin Sartor", "link": "https://stackoverflow.com/users/4628597/alvin-sartor"}, "reply_to_user": {"reputation": 5, "user_id": 12554085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a3d7d5f1f1ce93080b8c2222820762?s=128&d=identicon&r=PG&f=1", "display_name": "Campbell1", "link": "https://stackoverflow.com/users/12554085/campbell1"}, "edited": false, "score": 0, "creation_date": 1576703505, "post_id": 59399037, "comment_id": 104989133, "body": "Your code is a bit tricky to modify, as there is a lot of missing information. Consider creating simpler, Single Responsibility view models that contain the filtering algorithms. I wrote an example here: <a href=\"https://pastebin.com/DtNjk4vv\" rel=\"nofollow noreferrer\">pastebin.com/DtNjk4vv</a> I hope it is helpful."}, {"owner": {"reputation": 5, "user_id": 12554085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a3d7d5f1f1ce93080b8c2222820762?s=128&d=identicon&r=PG&f=1", "display_name": "Campbell1", "link": "https://stackoverflow.com/users/12554085/campbell1"}, "edited": false, "score": 0, "creation_date": 1576703685, "post_id": 59399037, "comment_id": 104989194, "body": "ill write a new question and link you it bare with me, your help is greatly appreciated!"}, {"owner": {"reputation": 5, "user_id": 12554085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a3d7d5f1f1ce93080b8c2222820762?s=128&d=identicon&r=PG&f=1", "display_name": "Campbell1", "link": "https://stackoverflow.com/users/12554085/campbell1"}, "edited": false, "score": 0, "creation_date": 1576704641, "post_id": 59399037, "comment_id": 104989561, "body": "<a href=\"https://stackoverflow.com/questions/59400252/linq-query-to-find-minimum-and-maximum-values-selected-from-a-listbox-on-a-webp\" title=\"linq query to find minimum and maximum values selected from a listbox on a webp\">stackoverflow.com/questions/59400252/&hellip;</a> please find my new question to see if it gives more insight to what i am trying to do! thanks"}], "tags": [], "owner": {"reputation": 1323, "user_id": 4628597, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wKkDYI4u7ws/AAAAAAAAAAI/AAAAAAAAImg/PBTVUUnDauQ/photo.jpg?sz=128", "display_name": "Alvin Sartor", "link": "https://stackoverflow.com/users/4628597/alvin-sartor"}, "is_accepted": true, "score": 0, "last_activity_date": 1576698084, "creation_date": 1576698084, "answer_id": 59399037, "question_id": 59397886, "link": "https://stackoverflow.com/questions/59397886/min-max-values-using-a-linq-query-and-select-box/59399037#59399037", "title": "Min Max values using a linq query and select box", "body": "<p>What about:</p>\n\n<pre><code>var MaxEngineSize;\nvar MinEngineSize;\n\nIEnumerable&lt;Car&gt; filteredCars = CarID.Where(x =&gt; x.EngineSize &gt;= MinEngineSize &amp;&amp; x.EngineSize &lt;= MaxEngineSize)\n\n</code></pre>\n\n<p>If you want to use LINQ like a pro:</p>\n\n<pre><code>var MaxEngineSize;\nvar MinEngineSize;\nbool EngineFilter(Car c) =&gt; c.EngineSize &gt;= MinEngineSize &amp;&amp; c.EngineSize &lt;= MaxEngineSize;\n\nvar Manifacturer = \"Toyota\";\nbool ManifacturerFiler(Car c) =&gt; c.Manifacturer == Manifacturer;\n\n\nIEnumerable&lt;Car&gt; filteredCars = CarID.Where(EngineFilter)\n                                     .Where(ManifacturerFiler);\n\n</code></pre>\n\n<p>In this way you can stack checks to create a filter for the cars you're displaying.</p>\n"}], "owner": {"reputation": 5, "user_id": 12554085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a3d7d5f1f1ce93080b8c2222820762?s=128&d=identicon&r=PG&f=1", "display_name": "Campbell1", "link": "https://stackoverflow.com/users/12554085/campbell1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 59399037, "answer_count": 1, "score": 0, "last_activity_date": 1576710831, "creation_date": 1576692637, "last_edit_date": 1576710831, "question_id": 59397886, "link": "https://stackoverflow.com/questions/59397886/min-max-values-using-a-linq-query-and-select-box", "title": "Min Max values using a linq query and select box", "body": "<p>I currently have a linq query in place that allows the user to display which 'carID' they wish. Now i want to implement a query that enables the user to be able to select the minimum and maximum engine size within a drop box saying 'min' and 'max'. I am unsure how to do this and would be grateful of some advise. Thanks</p>\n"}, {"tags": ["c#", "git", "visual-studio", ".net-core", "gitignore"], "comments": [{"owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1576693675, "post_id": 59397874, "comment_id": 104985281, "body": "You can specify the file to be added to OutputDirectory from VS file properties. and files in the BIN folder does not get tracked. right"}, {"owner": {"reputation": 492, "user_id": 372185, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9446b50bd4f61fa3e450d48e74c1d2b1?s=128&d=identicon&r=PG", "display_name": "capn", "link": "https://stackoverflow.com/users/372185/capn"}, "reply_to_user": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1577375500, "post_id": 59397874, "comment_id": 105155524, "body": "Files in the bin folder do not get tracked, but which file are you referring to that stores the VS file properties? The .sln file and the .csproj file are tracked."}, {"owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1577380412, "post_id": 59397874, "comment_id": 105157090, "body": "Any files that are part of the solution can be &quot;CopiedToOutput&quot; from VS&gt; File &gt; Properties"}, {"owner": {"reputation": 492, "user_id": 372185, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9446b50bd4f61fa3e450d48e74c1d2b1?s=128&d=identicon&r=PG", "display_name": "capn", "link": "https://stackoverflow.com/users/372185/capn"}, "reply_to_user": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1577390661, "post_id": 59397874, "comment_id": 105160086, "body": "The file properties that you are describing are stored as XML nodes inside the existing .csproj file, which is tracked, so I can&#39;t modify it and only have local changes."}], "owner": {"reputation": 492, "user_id": 372185, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9446b50bd4f61fa3e450d48e74c1d2b1?s=128&d=identicon&r=PG", "display_name": "capn", "link": "https://stackoverflow.com/users/372185/capn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576692573, "creation_date": 1576692573, "question_id": 59397874, "link": "https://stackoverflow.com/questions/59397874/specify-that-a-file-is-always-copytooutputdirectory-outside-of-the-csproj-file", "title": "Specify that a file is Always CopyToOutputDirectory outside of the .csproj file", "body": "<p>I have a file I want git to ignore locally (not in .gitignore but in .git/info/exclude), but I also need that file to be copied to bin on build.</p>\n\n<p>Is there a way I can specify that either in a separate file that can also be ignored locally without needing to modify any files that I can't ignore local changes to?</p>\n"}, {"tags": ["c#", "class", "get"], "answers": [{"tags": [], "owner": {"reputation": 3894, "user_id": 4342563, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/xgGSM.png?s=128&g=1", "display_name": "Eric Lease", "link": "https://stackoverflow.com/users/4342563/eric-lease"}, "is_accepted": true, "score": 2, "last_activity_date": 1576692566, "creation_date": 1576692566, "answer_id": 59397872, "question_id": 59397854, "link": "https://stackoverflow.com/questions/59397854/cannot-implicitly-convert-type-string-to-system-collections-generic-liststri/59397872#59397872", "title": "Cannot implicitly convert type &#39;string&#39; to &#39;System.Collections.Generic.List&lt;string&gt;&#39; c# class getter", "body": "<p>Change the return type of the getter to <code>string</code> instead of <code>List&lt;string&gt;</code>.</p>\n\n<pre><code>public string Food  // &lt;-- return type should be string, not List&lt;string&gt;\n{\n    get {\n        string aliments = \"\";\n        foreach (string aliment in Food)\n        {\n            aliments += $\"{aliment} \";\n        }\n        return aliments;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": false, "score": 1, "last_activity_date": 1576692626, "creation_date": 1576692626, "answer_id": 59397883, "question_id": 59397854, "link": "https://stackoverflow.com/questions/59397854/cannot-implicitly-convert-type-string-to-system-collections-generic-liststri/59397883#59397883", "title": "Cannot implicitly convert type &#39;string&#39; to &#39;System.Collections.Generic.List&lt;string&gt;&#39; c# class getter", "body": "<p>You said your function would return a Collection of strings - <code>List&lt;string&gt;</code> to be precise.</p>\n\n<p>Yet your return value is only a <em>single</em> string. C# as most .NET Langauges is very carefull with implicit conversions. And this is plain beyond what it will do.</p>\n\n<p>You either want to create and fill a collection. Or use a concantenated string. Please decide.</p>\n"}], "owner": {"reputation": 35, "user_id": 9847034, "user_type": "registered", "profile_image": "https://graph.facebook.com/787725078098053/picture?type=large", "display_name": "Hora\u021biu Banciu", "link": "https://stackoverflow.com/users/9847034/hora%c8%9biu-banciu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 59397872, "answer_count": 2, "score": -3, "last_activity_date": 1576692688, "creation_date": 1576692445, "question_id": 59397854, "link": "https://stackoverflow.com/questions/59397854/cannot-implicitly-convert-type-string-to-system-collections-generic-liststri", "title": "Cannot implicitly convert type &#39;string&#39; to &#39;System.Collections.Generic.List&lt;string&gt;&#39; c# class getter", "body": "<pre><code>class Fridge {\n    public List&lt;string&gt; Food\n    {\n        get {\n            string aliments = \"\";\n            foreach (string aliment in Food)\n            {\n                aliments += $\"{aliment} \";\n            }\n            return aliments;\n        }\n    }\n</code></pre>\n\n<p>I'm tryig to get a string of all the aliments inside a fridge and im getting the following error when i try to run the code Cannot implicitly convert type 'string' to 'System.Collections.Generic.List'</p>\n"}, {"tags": ["c#", "windows"], "comments": [{"owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 1, "creation_date": 1576693765, "post_id": 59397739, "comment_id": 104985323, "body": "why do you need a bat file in the first place ? you can schedule taskscheduler to run your master exe (Monitor.exe)"}, {"owner": {"reputation": 2034, "user_id": 2486496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rpd3r.jpg?s=128&g=1", "display_name": "gravity", "link": "https://stackoverflow.com/users/2486496/gravity"}, "edited": false, "score": 0, "creation_date": 1576694523, "post_id": 59397739, "comment_id": 104985665, "body": "Sounds like what a better implementation would be involved around creating a service (<code>monitor</code>) to execute as the logged-in user.  Honestly, this appears to be an X/Y problem.  We&#39;d do better understanding what you&#39;re trying to accomplish, than to try and solve through the method you&#39;re presenting."}], "answers": [{"tags": [], "owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "is_accepted": false, "score": 0, "last_activity_date": 1576694254, "creation_date": 1576694254, "answer_id": 59398238, "question_id": 59397739, "link": "https://stackoverflow.com/questions/59397739/running-dotnet-exe-from-another-dotnet-exe-which-is-running-from-schedule-task/59398238#59398238", "title": "Running DotNet exe from another DotNet EXE which is running from schedule task", "body": "<p>Considering both your child exes are console based and does not have any UI based actions.</p>\n\n<p>Have you tried the below</p>\n\n<pre><code>StartButton &gt; Task Scheduler &gt; Basic Task &gt; Path to your Monitor.exe\n</code></pre>\n\n<p>Additionally, you can also customize its Triggers and Conditions.</p>\n"}], "owner": {"reputation": 157, "user_id": 423574, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8cc1810772d2a524a4b1a5e7c704c774?s=128&d=identicon&r=PG", "display_name": "user423574", "link": "https://stackoverflow.com/users/423574/user423574"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576694254, "creation_date": 1576691987, "question_id": 59397739, "link": "https://stackoverflow.com/questions/59397739/running-dotnet-exe-from-another-dotnet-exe-which-is-running-from-schedule-task", "title": "Running DotNet exe from another DotNet EXE which is running from schedule task", "body": "<p>I have created a DotNet console EXE called Monitor.exe. This Monitor.Exe launches two DotNet console EXEs. I want to make sure that Monitor.Exe is always running on the server therefore, I have setup a schedule task and calling Monitor.Exe through a Bat file. When the schedule task runs it execute Monitor.Exe in the background and its not able to launch the other two EXEs. But if I directly run the Batch file it launches a CMD window and runs the Monitor.Exe which in turns start other two EXEs.</p>\n\n<p>Is there any way that I can schedule the Monitor.Exe in scheduled task to run in foreground. I want to schedule it in a way that logging to server is not required. </p>\n\n<p>Please suggest.  </p>\n"}, {"tags": ["c#", "blazor", "blazor-server-side", "two-way-binding"], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 11069078, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aTxyj_fRGRQ/AAAAAAAAAAI/AAAAAAAAAGk/Zg2K1TWsFKw/photo.jpg?sz=128", "display_name": "David Wolak", "link": "https://stackoverflow.com/users/11069078/david-wolak"}, "edited": false, "score": 0, "creation_date": 1576697130, "post_id": 59398612, "comment_id": 104986709, "body": "Thanks for answering my question! I understand two way data binding but the problem is I want to bind that is a child of a child. I have it set up as Parent-&gt;Child-&gt;template and I want to bind popUpVisible between the Parent and the template, ideally without adding anything extra in child."}, {"owner": {"reputation": 25716, "user_id": 6152891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b45b7f89429f8766cdbf6c776c0a9d41?s=128&d=identicon&r=PG", "display_name": "enet", "link": "https://stackoverflow.com/users/6152891/enet"}, "reply_to_user": {"reputation": 143, "user_id": 11069078, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aTxyj_fRGRQ/AAAAAAAAAAI/AAAAAAAAAGk/Zg2K1TWsFKw/photo.jpg?sz=128", "display_name": "David Wolak", "link": "https://stackoverflow.com/users/11069078/david-wolak"}, "edited": false, "score": 1, "creation_date": 1576698528, "post_id": 59398612, "comment_id": 104987306, "body": "You can pass the value of popUpVisible from the parent to the templated component by using the CascadingValue component on the parent, and  defining a CascadingParameter property named PopupVisible on the templated component. But you cannot update the passed parameter from the templated component with cascading values. Instead you can define a service which can be accessed from the parent component (inject the service into the parent component, assign a value to the boolean property),"}, {"owner": {"reputation": 25716, "user_id": 6152891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b45b7f89429f8766cdbf6c776c0a9d41?s=128&d=identicon&r=PG", "display_name": "enet", "link": "https://stackoverflow.com/users/6152891/enet"}, "reply_to_user": {"reputation": 143, "user_id": 11069078, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aTxyj_fRGRQ/AAAAAAAAAAI/AAAAAAAAAGk/Zg2K1TWsFKw/photo.jpg?sz=128", "display_name": "David Wolak", "link": "https://stackoverflow.com/users/11069078/david-wolak"}, "edited": false, "score": 1, "creation_date": 1576698533, "post_id": 59398612, "comment_id": 104987307, "body": "and from the templated component( inject the service into your component, read the value set in the parent component, assign a new value, and now the parent component can access the new value, using the injected service). You should add the service to the DI container in the Startup.ConfigureServices method"}], "tags": [], "owner": {"reputation": 25716, "user_id": 6152891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b45b7f89429f8766cdbf6c776c0a9d41?s=128&d=identicon&r=PG", "display_name": "enet", "link": "https://stackoverflow.com/users/6152891/enet"}, "is_accepted": false, "score": 5, "last_activity_date": 1576696013, "creation_date": 1576696013, "answer_id": 59398612, "question_id": 59397707, "link": "https://stackoverflow.com/questions/59397707/how-to-two-way-bind-a-cascading-value-in-blazor/59398612#59398612", "title": "How to two way bind a cascading value in Blazor", "body": "<p>You can't do two-way binding with cascading parameters. Cascading means flowing downstream, from parent to child, and not the other way around. </p>\n\n<p>I'm not sure I understand your question...however, if you wish to pass a value from a parent component and back; you can do the following:\nNote: This is a <strong>two-way Component data binding</strong></p>\n\n<h2>Child Component</h2>\n\n<pre><code>@code\n{\n    private bool visible;\n    [Parameter]\n    public bool PopupVisible\n    {\n        get { return visible }\n        set\n        {\n            if (visible != value)\n            {\n                visible = value;\n\n            }\n        }\n    } \n\n   [Parameter] public EventCallback&lt;bool&gt; PopupVisibleChanged { get; set; }\n   // Invoke the EventCallback to update the parent component' private field visible with the new value.\n\n   private Task UpdatePopupVisible()\n    {\n        PopupVisible = false;\n        return PopupVisibleChanged.InvokeAsync(PopupVisible);\n    }\n}\n</code></pre>\n\n<h2>Usage</h2>\n\n<pre><code>@page \"/\"\n\n&lt;DxPopup @bind-PopupVisible=\"visible\" /&gt;\n\n@code {\n    private bool visible;\n}\n</code></pre>\n\n<p>Note: If you need some explanation, and believe that I did not answer your question, don't hesitate to tell me, but please take the time to phrase your questions... I could not completely understand questions.</p>\n"}], "owner": {"reputation": 143, "user_id": 11069078, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aTxyj_fRGRQ/AAAAAAAAAAI/AAAAAAAAAGk/Zg2K1TWsFKw/photo.jpg?sz=128", "display_name": "David Wolak", "link": "https://stackoverflow.com/users/11069078/david-wolak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1968, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1576696013, "creation_date": 1576691850, "question_id": 59397707, "link": "https://stackoverflow.com/questions/59397707/how-to-two-way-bind-a-cascading-value-in-blazor", "title": "How to two way bind a cascading value in Blazor", "body": "<p>Im playing around with the custom template in Blazor and Im trying to find to a way to two-way a Cascading Value or achieve something similar. Right now I have the following template. </p>\n\n<pre><code>@if (PopupVisible)\n{\n    &lt;DxPopup&gt;\n        &lt;HeaderTemplate&gt;\n            &lt;h4 class=\"modal-title\"&gt;@HeaderText&lt;/h4&gt;\n            &lt;button type=\"button\" class=\"close\" @onclick=\"@UpdatePopupVisible\"&gt;&amp;times;&lt;/button&gt;\n        &lt;/HeaderTemplate&gt;\n        &lt;ChildContent&gt;\n            &lt;div class=\"modal-body\"&gt;\n                &lt;div class=\"container-fluid\"&gt;\n                  @bodyContent\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"modal-footer\"&gt;\n                @footerContent\n                &lt;button class=\"btn btn-secondary\" @onclick=\"UpdatePopupVisible\"&gt;Cancel&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/ChildContent&gt;\n    &lt;/DxPopup&gt;\n}\n\n@code {\n    [CascadingParameter] public bool PopupVisible { get; set; }\n    [CascadingParameter] public EventCallback&lt;bool&gt; PopupVisibleChanged { get; set; }\n\n    [Parameter] public RenderFragment HeaderText { get; set; }\n    [Parameter] public RenderFragment footerContent { get; set; }\n    [Parameter] public RenderFragment bodyContent { get; set; }\n\n    private async Task UpdatePopupVisible()\n    {\n        PopupVisible = false;\n        await PopupVisibleChanged.InvokeAsync(PopupVisible);\n    }\n}\n</code></pre>\n\n<p>Then I have a component that implements this template(child), and then I have that component called with a button press(parent). What I want to know is if there is a way to bind the PopupVisible Parameter from the parent without having to bind it the child and having the child pass it to the template. I haven't found a way to two-way bind a Cascading parameter but if possible I think that would be the best way to do so. Outside of that Im not sure if there is another way or Im going to have to go with my current idea of passing the value.</p>\n"}, {"tags": ["c#", "exception", "xunit"], "comments": [{"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1576692574, "post_id": 59397693, "comment_id": 104984798, "body": "Your code wouldn&#39;t compile, because you are using the same <code>ex</code> name for exception, declared in the same scope"}, {"owner": {"reputation": 3, "user_id": 3225566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134b3893838198d73b924299899177c?s=128&d=identicon&r=PG&f=1", "display_name": "user3225566", "link": "https://stackoverflow.com/users/3225566/user3225566"}, "reply_to_user": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1576692708, "post_id": 59397693, "comment_id": 104984858, "body": "You&#39;re right I was just writing from memory, I just edited my code. My question remains the same though, thanks"}, {"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1576692830, "post_id": 59397693, "comment_id": 104984912, "body": "<code>throw ex</code> resets the stack trace, it isn&#39;t such a good idea. You are throwing <code>BmpException</code> at every catch block, why do you expect its work?"}, {"owner": {"reputation": 3, "user_id": 3225566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134b3893838198d73b924299899177c?s=128&d=identicon&r=PG&f=1", "display_name": "user3225566", "link": "https://stackoverflow.com/users/3225566/user3225566"}, "reply_to_user": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1576692976, "post_id": 59397693, "comment_id": 104984981, "body": "So do you have a solution or work around to my issue? Or are you just commenting?"}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1576693157, "post_id": 59397693, "comment_id": 104985066, "body": "Does your exception class accepts InnerException as constructor Argument? If not then it should. Pass the original exception in your custom exception <code>BmpException lex = new BmpException(ex);</code> this will preserve the stack trace in InnerException. This is the standard way to wrap exception to add additional information and keeping the original exception as well. See my updated answer."}], "answers": [{"tags": [], "owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "is_accepted": false, "score": 1, "last_activity_date": 1576693380, "last_edit_date": 1576693380, "creation_date": 1576692897, "answer_id": 59397941, "question_id": 59397693, "link": "https://stackoverflow.com/questions/59397693/catch-exception-without-throwing-type/59397941#59397941", "title": "Catch exception without throwing type", "body": "<p>You can get the raised exception like this:</p>\n\n<pre><code> var ex = Assert.Throws&lt;BmpException&gt;(() =&gt; SomeClass.Method1());\n\n Assert.Equal(\"test message\", ex.Message);\n</code></pre>\n\n<p>Assuming that <code>BmpException</code> is inherited from <code>System.Exception</code> class. To preserve the original you should pass the original exception in your custom exception <code>BmpException lex = new BmpException(ex);</code> this will preserve the stack trace in InnerException. This is the standard way to wrap exception to add additional information and keeping the original exception as well. This way you will be able to assert on InnerException.</p>\n\n<pre><code>Assert.Equal(typeof(CoreException), ex.InnerException.GetType());\n//Add as many assertion as you like here.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1576699974, "post_id": 59397968, "comment_id": 104987872, "body": "It&#39;s interesting to think about the <i>atypical</i> cases where it <i>is</i> the right thing to do, to throw away the original exception and propagate a non-wrapping exception back to the caller. My personal favourite example: before the first beta version of .NET shipped, it was possible to catch a security violation exception that <i>told your code the name of the file whose name your code was not allowed to know</i> because that information was in the exception. There are numerous such situations to consider when designing exceptions for secure code."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1576704453, "post_id": 59397968, "comment_id": 104989480, "body": "@EricLippert sure, I believe there are always times when there are exceptions to a rule (for example: always wrap an exception). Unless someone has explicitly stated why they aren&#39;t following the rule, I feel like it&#39;s my responsibility ethically to at least make them aware of the issue.  I find more often than not, OP aren&#39;t aware of the issues and my comments could indirectly improve software."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1576704603, "post_id": 59397968, "comment_id": 104989548, "body": "Exactly; my comment was not intended as a critique but rather as a way to think about the problem. We often can come to understand the typical case better by carefully examining the atypical cases."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1576704715, "post_id": 59397968, "comment_id": 104989593, "body": "I took as a critique in the positive direction, then just explained it so other&#39;s who might read my comment might start doing the same as well :)"}, {"owner": {"reputation": 3, "user_id": 3225566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134b3893838198d73b924299899177c?s=128&d=identicon&r=PG&f=1", "display_name": "user3225566", "link": "https://stackoverflow.com/users/3225566/user3225566"}, "edited": false, "score": 0, "creation_date": 1577128306, "post_id": 59397968, "comment_id": 105101715, "body": "That is exactly why, I just started working at a top 500 fortune company and 90% of all their exceptions (at least on the project I&#39;m on) are custom exceptions for security reasons... Its making testing annoying. But your answer did help me complete my test case, so thank you!"}], "tags": [], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "is_accepted": true, "score": 1, "last_activity_date": 1577161711, "last_edit_date": 1592644375, "creation_date": 1576693003, "answer_id": 59397968, "question_id": 59397693, "link": "https://stackoverflow.com/questions/59397693/catch-exception-without-throwing-type/59397968#59397968", "title": "Catch exception without throwing type", "body": "<blockquote>\n<p>I have a class structure that looks like so:</p>\n</blockquote>\n<p>Its typically very bad practice to simply throw a different exception because you lose all relevant information.  At the <strong>very least</strong> you should <a href=\"https://codereview.stackexchange.com/questions/66925/is-wrapping-exceptions-good-practice\">wrap the exception</a>.</p>\n<p>Because you have <strong>not</strong> included all relevant code</p>\n<pre><code>// some code logic\n</code></pre>\n<p>It's impossible to give you an programmatic answer.  The only real answer one can give based on the lack of information is that your tests need to cause the <em>some code logic</em> to throw each of the types of exceptions (<code>CoreException</code> and <code>CodedException</code>) in order to increase your code coverage.</p>\n<blockquote>\n<p>// Test failed - Expected: CodedException Actual: BmpException</p>\n<p>// Assert.Throws(() =&gt; SomeClass.Method1());</p>\n</blockquote>\n<p>You can NEVER assert the type as <code>CoreException</code> nor <code>CodedException</code> because they are being <a href=\"https://en.wikipedia.org/wiki/Error_hiding\" rel=\"nofollow noreferrer\">Swallowed or Error Hiding</a>.  Those exceptions are lost inside the method call for all time.</p>\n<blockquote>\n<p>Since Assert.Throws&lt;&gt; catches the expression AND asserts the type, I am unable to find a workaround</p>\n</blockquote>\n<p>You have to catch the type that is being thrown:</p>\n<pre><code>var ex = Assert.Throws&lt;BmpException&gt;(() =&gt; SomeClass.Method1());\n</code></pre>\n<p>You don't care how why it's really that type of exception as long as you can provide a way for the logic to throw that type via that specific logically programmed route.</p>\n<p>For example:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public void AnyBodyWantAPeanut(int i)\n{\n  try \n  {\n    if (i == 1) \n      throw new InvalidOperationException(&quot;You keep using that word&quot;);\n    if (i == 2) \n      throw new ArgumentException(&quot;I don't think it means&quot;);\n    throw new ArithmeticException (&quot;What you think it means&quot;);\n  }\n  catch (Exception ex)\n  {\n    Throw Exception(&quot;No more rhymes now I mean it!&quot;);\n  }\n}\n\n</code></pre>\n<p>This has a cyclomatic complexity of 3, as there are three possible routes, even though there is only one outcome.  To have 100% code coverage with this code the following tests would have to tested by making sure the logic supports the outcome:</p>\n<pre><code>public class Class1_Tests\n{\n  public AnyBodyWantAPeanut_WithValue1_ReturnsException\n  {\n    //Assign\n    var a = new Class1();\n    //Act\n    var method = () =&gt; a.AnyBodyWantAPeanut(1);\n    //Assert\n    Assert.Throws&lt;Exception&gt;(method);\n  }\n  \n  public AnyBodyWantAPeanut_WithValue2_ReturnsException\n  {\n    //Assign\n    var a = new Class1();\n    //Act\n    var method = () =&gt; a.AnyBodyWantAPeanut(2);\n    //Assert\n    Assert.Throws&lt;Exception&gt;(method);\n  }\n\n  public AnyBodyWantAPeanut_WithValue1_ReturnsException\n  {\n    //Assign\n    var a = new Class1();\n    //Act\n    var method = () =&gt; a.AnyBodyWantAPeanut(0);\n    //Assert\n    Assert.Throws&lt;Exception&gt;(method);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 3225566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134b3893838198d73b924299899177c?s=128&d=identicon&r=PG&f=1", "display_name": "user3225566", "link": "https://stackoverflow.com/users/3225566/user3225566"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 59397968, "answer_count": 2, "score": 0, "last_activity_date": 1577161711, "creation_date": 1576691786, "last_edit_date": 1576693110, "question_id": 59397693, "link": "https://stackoverflow.com/questions/59397693/catch-exception-without-throwing-type", "title": "Catch exception without throwing type", "body": "<p>I am new to xUnit and I am trying to increase my test coverage. I have a class structure that looks like so:</p>\n\n<pre><code>public class Class1 \n{\n   public override void Method1() \n   {\n      try \n      {\n         // some code logic\n      } \n      catch (CoreException ex)\n      {\n         BmpException lex = new BmpException();\n         throw lex;\n      }\n      catch (CodedException ex)\n      {\n         BmpException lex = new BmpException();\n         throw lex;\n      }\n   }\n}\n</code></pre>\n\n<p>And my xUnit Testing method looks like so:</p>\n\n<pre><code>[Fact]\npublic void TestMethod()\n{\n   Class1 SomeClass = new Class1();\n\n   // Works but doesn't affect code coverage ?\n   Assert.Throws&lt;BmpException&gt;(() =&gt; SomeClass.Method1());\n\n   // Test failed - Expected: CodedException Actual: BmpException\n   // Assert.Throws&lt;CodedException&gt;(() =&gt; SomeClass.Method1());\n\n   // Test failed - Expected: CoreException Actual: BmpException\n   // Assert.Throws&lt;CoreException&gt;(() =&gt; SomeClass.Method1());\n}\n</code></pre>\n\n<p>So the issue I am facing here is I need to cover the testing for the CoreException and the CodedException blocks. Since Assert.Throws&lt;> catches the expression AND asserts the type, I am unable to find a workaround to complete my test coverage.</p>\n\n<p>Any help would be greatly appreciated. Thank you,</p>\n"}, {"tags": ["c#", "logging", ".net-core", "serilog"], "comments": [{"owner": {"reputation": 319, "user_id": 9189743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BMSVCRwAURQ/AAAAAAAAAAI/AAAAAAAACiU/EhhX5wjv0qI/photo.jpg?sz=128", "display_name": "Cristopher Rosales", "link": "https://stackoverflow.com/users/9189743/cristopher-rosales"}, "edited": false, "score": 1, "creation_date": 1576692409, "post_id": 59397633, "comment_id": 104984727, "body": "probably not the cause of your issue, but if you want to use only Serilog, you should add .UseSerilog() right before your .ConfigureServices in your Program.cs"}, {"owner": {"reputation": 1906, "user_id": 1132773, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/16283c7727881fa439aa0ce73fdecaea?s=128&d=identicon&r=PG", "display_name": "Roger", "link": "https://stackoverflow.com/users/1132773/roger"}, "reply_to_user": {"reputation": 319, "user_id": 9189743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BMSVCRwAURQ/AAAAAAAAAAI/AAAAAAAACiU/EhhX5wjv0qI/photo.jpg?sz=128", "display_name": "Cristopher Rosales", "link": "https://stackoverflow.com/users/9189743/cristopher-rosales"}, "edited": false, "score": 0, "creation_date": 1576696826, "post_id": 59397633, "comment_id": 104986581, "body": "@cristopher-rosales yes. Took me a bit to realize that I also needed add Serilog.Extensions.Hosting."}], "answers": [{"comments": [{"owner": {"reputation": 1906, "user_id": 1132773, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/16283c7727881fa439aa0ce73fdecaea?s=128&d=identicon&r=PG", "display_name": "Roger", "link": "https://stackoverflow.com/users/1132773/roger"}, "edited": false, "score": 1, "creation_date": 1576693857, "post_id": 59397812, "comment_id": 104985364, "body": "A .net core 3 console application only needs a single ref to Serilog.Sinks.File 4.1.0 to write to a file. I just tested it, so his article might be out of date. The issue I described is getting a .net core 3 worker service to write to a file."}], "tags": [], "owner": {"reputation": 2780, "user_id": 303305, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/vRJzF.jpg?s=128&g=1", "display_name": "Tom Regan", "link": "https://stackoverflow.com/users/303305/tom-regan"}, "is_accepted": false, "score": 2, "last_activity_date": 1576692255, "creation_date": 1576692255, "answer_id": 59397812, "question_id": 59397633, "link": "https://stackoverflow.com/questions/59397633/serilog-writeto-file-works-in-console-app-but-not-in-net-core-3-worker-servic/59397812#59397812", "title": "Serilog WriteTo.File() works in Console App but not in .net Core 3 Worker Service", "body": "<p>I fell victim to the same oddly-named NuGet package.  You need to add Serilog.AspNetCore, even though it is a console application.  For more information see this article: <a href=\"https://www.blinkingcaret.com/2018/02/14/net-core-console-logging/\" rel=\"nofollow noreferrer\">https://www.blinkingcaret.com/2018/02/14/net-core-console-logging/</a></p>\n"}, {"tags": [], "owner": {"reputation": 1906, "user_id": 1132773, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/16283c7727881fa439aa0ce73fdecaea?s=128&d=identicon&r=PG", "display_name": "Roger", "link": "https://stackoverflow.com/users/1132773/roger"}, "is_accepted": true, "score": 0, "last_activity_date": 1576775156, "last_edit_date": 1576775156, "creation_date": 1576697268, "answer_id": 59398881, "question_id": 59397633, "link": "https://stackoverflow.com/questions/59397633/serilog-writeto-file-works-in-console-app-but-not-in-net-core-3-worker-servic/59398881#59398881", "title": "Serilog WriteTo.File() works in Console App but not in .net Core 3 Worker Service", "body": "<p>Comment from @christopher-rosales referenced .UseSerilog(). This requires an additional package, Serilog.Extensions.Hosting. The init of the Log.Logger in Main() did not work, so I added it to the CreateHostBuilder(). </p>\n\n<p>Program.cs:</p>\n\n<pre><code>using Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Hosting;\nusing Serilog;\n\nnamespace WorkerService1\n{\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            Log.Logger = new LoggerConfiguration()\n                .MinimumLevel.Debug()\n                .WriteTo.Console()\n                .WriteTo.File(\"logs\\\\log.txt\", rollingInterval: RollingInterval.Day)\n                .CreateLogger();\n\n            CreateHostBuilder(args).Build().Run();\n        }\n\n        public static IHostBuilder CreateHostBuilder(string[] args) =&gt;\n            Host.CreateDefaultBuilder(args)\n                .ConfigureServices((hostContext, services) =&gt;\n                {\n                    services.AddHostedService&lt;Worker&gt;();\n                })\n                .UseSerilog();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1906, "user_id": 1132773, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/16283c7727881fa439aa0ce73fdecaea?s=128&d=identicon&r=PG", "display_name": "Roger", "link": "https://stackoverflow.com/users/1132773/roger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3064, "favorite_count": 0, "accepted_answer_id": 59398881, "answer_count": 2, "score": 1, "last_activity_date": 1576775156, "creation_date": 1576691567, "question_id": 59397633, "link": "https://stackoverflow.com/questions/59397633/serilog-writeto-file-works-in-console-app-but-not-in-net-core-3-worker-servic", "title": "Serilog WriteTo.File() works in Console App but not in .net Core 3 Worker Service", "body": "<p>The code below for init of a LoggerConfiguration() works in the Main() of a .net core 3 console application, but not in a worker service. With the console application the 'logs' folder and log.txt were created at run time. The folder was not created when running the service, so I tried multiple file paths (\"c:\\log.txt\", \"..\\log.txt\", \"..\\..\\log.txt\") none of which were created. Logging is showing in the Debug Console, but no log.txt file is created. No error is thrown, VS 2019 is running as administrator.</p>\n\n<p>Referenced Packages:</p>\n\n<pre><code>&lt;PackageReference Include=\"Serilog\" Version=\"2.9.0\" /&gt;\n&lt;PackageReference Include=\"Serilog.Sinks.Console\" Version=\"3.1.1\" /&gt;\n&lt;PackageReference Include=\"Serilog.Sinks.File\" Version=\"4.1.0\" /&gt;\n</code></pre>\n\n<p>Program.cs:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Hosting;\nusing Serilog;\n\nnamespace WorkerService1\n{\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            Log.Logger = new LoggerConfiguration()\n                .MinimumLevel.Debug()\n                .WriteTo.Console()\n                .WriteTo.File(\"logs\\\\log.txt\", rollingInterval: RollingInterval.Day)\n                .CreateLogger();\n\n            CreateHostBuilder(args).Build().Run();\n        }\n\n        public static IHostBuilder CreateHostBuilder(string[] args) =&gt;\n            Host.CreateDefaultBuilder(args)\n                .ConfigureServices((hostContext, services) =&gt;\n                {\n                    services.AddHostedService&lt;Worker&gt;();\n                });\n    }\n}\n</code></pre>\n\n<p>Worker.cs:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading;\nusing System.Threading.Tasks;\nusing Microsoft.Extensions.Hosting;\nusing Microsoft.Extensions.Logging;\n\nnamespace WorkerService1\n{\n    public class Worker : BackgroundService\n    {\n        private readonly ILogger&lt;Worker&gt; _logger;\n\n        public Worker(ILogger&lt;Worker&gt; logger)\n        {\n            _logger = logger;\n        }\n\n        protected override async Task ExecuteAsync(CancellationToken stoppingToken)\n        {\n            while (!stoppingToken.IsCancellationRequested)\n            {\n                _logger.LogInformation(\"Worker running at: {time}\", DateTimeOffset.Now);\n                await Task.Delay(1000, stoppingToken);\n            }\n        }\n    }\n}\n\n</code></pre>\n"}, {"tags": ["c#", "appium", "ienumerable"], "comments": [{"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 3, "creation_date": 1576691428, "post_id": 59397569, "comment_id": 104984316, "body": "Make sure you are using the LINQ namespace (<code>using System.Linq;</code>)"}, {"owner": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "edited": false, "score": 0, "creation_date": 1576691639, "post_id": 59397569, "comment_id": 104984405, "body": "<code>Where</code> is not a member of <code>IEnumerable</code> or <code>IEnumerable&lt;T&gt;</code>, it&#39;s an <i>extension</i> method: in class <code>Enumerable</code>, declared as <code>public static IEnumerable&lt;T&gt; Where(this IEnumerable&lt;T&gt; source, Func&lt;T, bool&gt; predicate)</code>"}, {"owner": {"reputation": 71, "user_id": 9497612, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yx6mNhF8ysE/AAAAAAAAAAI/AAAAAAAAYWU/TrwmNu-8Kjc/photo.jpg?sz=128", "display_name": "Hannes Ziegler", "link": "https://stackoverflow.com/users/9497612/hannes-ziegler"}, "edited": false, "score": 0, "creation_date": 1576692142, "post_id": 59397569, "comment_id": 104984596, "body": "Ah bingo, that solved the problem. Thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "is_accepted": true, "score": 1, "last_activity_date": 1576691597, "creation_date": 1576691597, "answer_id": 59397645, "question_id": 59397569, "link": "https://stackoverflow.com/questions/59397569/why-does-my-ienumeratorappiumwebelement-not-have-where/59397645#59397645", "title": "Why does my IEnumerator&lt;AppiumWebElement&gt; not have .Where()?", "body": "<p><code>Where()</code> and other methods in <code>Linq</code> are extension methods that you are using. You need to import <code>System.Linq</code>:</p>\n\n<pre><code>using System.Linq;\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 9497612, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yx6mNhF8ysE/AAAAAAAAAAI/AAAAAAAAYWU/TrwmNu-8Kjc/photo.jpg?sz=128", "display_name": "Hannes Ziegler", "link": "https://stackoverflow.com/users/9497612/hannes-ziegler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 59397645, "answer_count": 1, "score": 0, "last_activity_date": 1576691597, "creation_date": 1576691257, "question_id": 59397569, "link": "https://stackoverflow.com/questions/59397569/why-does-my-ienumeratorappiumwebelement-not-have-where", "title": "Why does my IEnumerator&lt;AppiumWebElement&gt; not have .Where()?", "body": "<p>The title mostly explains my question, my <code>IEnumerable&lt;AppiumWebElement&gt;</code> does not have a <code>.Where</code> method, and I'm hoping to learn why.</p>\n\n<p>I have a method that returns an <code>IEnumerable&lt;AppiumWebElement&gt;</code>, as follows:</p>\n\n<pre><code>public IEnumerable&lt;AppiumWebElement&gt; GetLayers()\n{\n  var items = PaneOrView.FindElementsByClassName(\"TreeViewItem\");\n  List&lt;AppiumWebElement&gt; layers = new List&lt;AppiumWebElement&gt;();\n  foreach(AppiumWebElement item in items)\n  {\n    string automationId = item.AutomationId(); \n    if (automationId != null &amp;&amp; automationId.Contains(\"Layer\"))\n    {\n      layers.Add(item);\n    }\n  }\n  return layers.AsEnumerable();\n}\n</code></pre>\n\n<p>When I check whether <code>.Where</code> is present on the return item in this method (using code completion), I get a full list of methods I would expect to see from an <code>IEnumerable</code>.</p>\n\n<p>However, when I later use this method from another namespace, for example like this:</p>\n\n<pre><code>var test = Contents.GetLayers();\n</code></pre>\n\n<p>The result in <code>test</code> doesn't contain <code>.Where</code> or any of the other methods I would expect to see from an <code>IEnumerable</code>. Any idea why?</p>\n\n<p>Thanks for any pointers!</p>\n"}, {"tags": ["c#", "xaml", "data-binding"], "answers": [{"tags": [], "owner": {"reputation": 838, "user_id": 5617177, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/34362350f98c8f738605360393da7f50?s=128&d=identicon&r=PG&f=1", "display_name": "bwall", "link": "https://stackoverflow.com/users/5617177/bwall"}, "is_accepted": false, "score": 0, "last_activity_date": 1576859987, "creation_date": 1576859987, "answer_id": 59428648, "question_id": 59397557, "link": "https://stackoverflow.com/questions/59397557/is-there-a-way-to-deactivate-bindings-when-a-control-is-not-loaded/59428648#59428648", "title": "Is there a way to deactivate bindings when a control is not loaded?", "body": "<p>One option is to change all the bindings to explicit when you leave the page, then change them back later. <code>Explicit</code> means the binding will only update when you tell it to, rather than any time the backing property changes. When the UIElement is reloaded, you can Reactivate all the bindings again.</p>\n\n<pre><code>// this will allow us to keep track of the real UpdateSourceTriggers for our bindings\nprivate Dictionary&lt;BindingExpression, UpdateSourceTrigger&gt; _deactivatedBindings = new Dictionary&lt;BindingExpression, UpdateSourceTrigger&gt;();\n\npublic static void OnUnloaded(object sender, RoutedEventArgs e)\n{\n    foreach(BindingExpreesion expression in GetBindingPaths(sender as DependencyObject))\n        expression.DeactivateBindings();\n}\n\npublic static void OnLoaded(object sender, RoutedEventArgs e)\n{\n    foreach(BindingExpreesion expression in GetBindingPaths(sender as DependencyObject))\n        expression.ReactivateBindings();\n}\n\npublic static asynce Task DeactivateBindings(this BindingExpression oldExpression)\n{\n    // you can't modify bindings once they've been used, so we'll copy the old one, modify it, and use that one instead\n    Binding duplicateBinding = oldExpression.ParentBinding.Clone();\n\n    // this means that the binding won't update when the property changes, just when we tell it to.\n    duplicateBinding.UpdateSourceTrigger = UpdateSourceTrigger.Explicit;\n\n    // here we save the 'real' value - the one we use when the element is loaded.\n    _deactivatedBindings[duplicateBinding] = oldExpression.ParentBinding.UpdateSourceTrigger;\n\n    BindingOperations.SetBinding(oldExpression.Target, oldExpression.TargetProperty, duplicateBinding);\n}\n\npublic static async Task ReactivateBindings(this BindingExpression oldExpression)\n{\n    if(_deactivatedBindings.TryGetValue(oldExpression.ParentBinding, out UpdateSourceTrigger realTrigger))\n    {\n         _deactivatedBindings.Remove(oldExpression.ParentBinding);\n         Binding duplicateBinding = oldExpression.ParentBinding.Clone();\n         duplicateBinding.UpdateSourceTrigger = realTrigger;\n         // This has the added advantage of refreshing the value so it's up to date. :)\n         BindingOperations.SetBinding(oldExpression.Target, oldExpression.TargetProperty, duplicateBinding);\n    }\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/1913576/5617177\">Clone() Method</a></p>\n\n<p><a href=\"https://stackoverflow.com/a/45865941/5617177\">GetBindingPaths() Method</a> - just save the BindingExpressions instead of the paths.</p>\n"}], "owner": {"reputation": 838, "user_id": 5617177, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/34362350f98c8f738605360393da7f50?s=128&d=identicon&r=PG&f=1", "display_name": "bwall", "link": "https://stackoverflow.com/users/5617177/bwall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576859987, "creation_date": 1576691210, "question_id": 59397557, "link": "https://stackoverflow.com/questions/59397557/is-there-a-way-to-deactivate-bindings-when-a-control-is-not-loaded", "title": "Is there a way to deactivate bindings when a control is not loaded?", "body": "<p>In general, Bindings are a very handy way of connecting data in C# with its visual representation in Xaml.  When the data changes, the Visual Representation automatically updates as well. However, in a case where you have thousands of bindings, and most of them are on pages that aren't on the screen right now, it seems silly and expensive to keep all the hidden visual representations up to date. But as you can see if you run the example below, that is exactly what a binding does by default! Even when I remove <code>CountingBlock</code> from the screen, it keeps on calling my <code>BreakpointConverter</code> every time the <code>Counter</code> updates.</p>\n\n<p>To me, it makes more sense to stop updating while Unloaded, and then as part of the LoadedEvent, reactivate all my bindings, checking for what the source has been updated to in the meantime.  <strong>Is there a way to accomplish this?</strong></p>\n\n<p>Thanks,</p>\n\n<p>The Xaml:</p>\n\n<pre><code>&lt;Window x:Class=\"DeactivateBindings.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    Title=\"MainWindow\" Height=\"450\" Width=\"800\"&gt;\n  &lt;UniformGrid&gt;\n    &lt;ContentControl Name=\"Container\"/&gt;\n    &lt;Button Content=\"Show or Hide\" Click=\"ShowOrHide_Click\"/&gt;\n  &lt;/UniformGrid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>The Converter:</p>\n\n<pre><code>class BreakpointConverter : System.Windows.Data.IValueConverter\n{\n\n    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)\n    {\n         return value; // does nothing, but you can set a breakpoint here to see if the binding is active.\n    }\n\n    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)\n    {\n        return value;\n    }\n}\n</code></pre>\n\n<p>The Code Behind:</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    bool _isCounterVisible;\n    Label CountingBlock = new Label { FontSize = 25 };\n\n    public MainWindow()\n    {\n        InitializeComponent();\n        ContingBlock.SetBinding(Label.ContentProperty, new Binding\n        {\n            Source = this,\n            Path = new PropertyPath(nameof(Counter)),\n            // this Converter is the key component that tells us the binding is still active, because we can breakpoint it.\n            Converter = new BreakpointConverter(), \n        });\n\n        StartCounting();\n    }\n\n    private async void StartCounting()\n    {\n        while(true)\n        {\n             Counter++;\n             await Task.Delay(500);\n        }\n    }\n\n    private void ShowOrHide_Click(object sender, RoutedEventArgs e)\n    {\n        _isCounterVisible = !_isCounterVisible;\n\n        Countainer.Content = _isCounterVisible ? CountingBlock : null;\n    }\n\n    public int Counter\n    {\n         get { return (int)GetValue(CounterProperty); }\n         set {SetValue(CounterProperty, value); }\n    }\n    public static readonly DependencyProperty CounterProperty = \n        DependencyProperty.Register(nameof(Counter), typeof(int), typeof(MainWindow), new PropertyMetadata(0));\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "elasticsearch", "nlog", "graylog"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12421627, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EAuYbny3OTI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOJKv0KMivFqa5TANcG6L_2DWCTw/photo.jpg?sz=128", "display_name": "Daniel Sputnikk", "link": "https://stackoverflow.com/users/12421627/daniel-sputnikk"}, "edited": false, "score": 0, "creation_date": 1576759069, "post_id": 59398600, "comment_id": 105006884, "body": "I will give it a shot"}, {"owner": {"reputation": 1, "user_id": 12421627, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EAuYbny3OTI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOJKv0KMivFqa5TANcG6L_2DWCTw/photo.jpg?sz=128", "display_name": "Daniel Sputnikk", "link": "https://stackoverflow.com/users/12421627/daniel-sputnikk"}, "edited": false, "score": 0, "creation_date": 1577037394, "post_id": 59398600, "comment_id": 105076146, "body": "Took your suggestion and changed to this successfully and logging. Not much success. Update in original"}, {"owner": {"reputation": 1, "user_id": 12421627, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EAuYbny3OTI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOJKv0KMivFqa5TANcG6L_2DWCTw/photo.jpg?sz=128", "display_name": "Daniel Sputnikk", "link": "https://stackoverflow.com/users/12421627/daniel-sputnikk"}, "edited": false, "score": 0, "creation_date": 1577039165, "post_id": 59398600, "comment_id": 105076599, "body": "Solved! OP Updated"}], "tags": [], "owner": {"reputation": 11822, "user_id": 193178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUlHJ.png?s=128&g=1", "display_name": "Rolf Kristensen", "link": "https://stackoverflow.com/users/193178/rolf-kristensen"}, "is_accepted": false, "score": 0, "last_activity_date": 1576697794, "last_edit_date": 1576697794, "creation_date": 1576695966, "answer_id": 59398600, "question_id": 59397548, "link": "https://stackoverflow.com/questions/59397548/unable-to-get-nlog-to-send-fields-as-numbers-ints-longs-from-code/59398600#59398600", "title": "Unable to get NLog to send fields as numbers/ints/longs from code", "body": "<p>Instead of using \"gelftcp\". Then you can try out GelfLayout instead:</p>\n\n<p><a href=\"https://www.nuget.org/packages/NLog.GelfLayout\" rel=\"nofollow noreferrer\">https://www.nuget.org/packages/NLog.GelfLayout</a></p>\n\n<p>You can combine it with the TCP network-target:</p>\n\n<pre><code>&lt;nlog&gt;\n  &lt;extensions&gt;\n    &lt;add assembly=\"NLog.Layouts.GelfLayout\" /&gt;\n  &lt;/extensions&gt;\n\n  &lt;targets async=\"true\"&gt;\n    &lt;target type=\"Network\" name=\"gelftcp\" address=\"tcp://192.168.95.15:12201\" newLine=\"true\" lineEnding=\"Null\"&gt;\n        &lt;layout type=\"GelfLayout\" facility=\"MyFacility\"&gt;\n            &lt;field name=\"threadid\" layout=\"${threadid}\" type=\"System.Int32\" /&gt;\n        &lt;/layout&gt;\n    &lt;/target&gt;\n  &lt;/targets&gt;\n\n  &lt;rules&gt;\n    &lt;logger name=\"*\" minlevel=\"Debug\" writeTo=\"gelftcp\" /&gt;\n  &lt;/rules&gt;\n&lt;/nlog&gt;\n</code></pre>\n\n<p>It also has some automatic conversion logic for simple NLog LogEventInfo.Properties (Decimal + Double + Integer + Boolean)</p>\n\n<p>More examples can be found here: <a href=\"https://github.com/farzadpanahi/NLog.GelfLayout\" rel=\"nofollow noreferrer\">https://github.com/farzadpanahi/NLog.GelfLayout</a></p>\n"}], "owner": {"reputation": 1, "user_id": 12421627, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EAuYbny3OTI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOJKv0KMivFqa5TANcG6L_2DWCTw/photo.jpg?sz=128", "display_name": "Daniel Sputnikk", "link": "https://stackoverflow.com/users/12421627/daniel-sputnikk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 391, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577039217, "creation_date": 1576691179, "last_edit_date": 1577039217, "question_id": 59397548, "link": "https://stackoverflow.com/questions/59397548/unable-to-get-nlog-to-send-fields-as-numbers-ints-longs-from-code", "title": "Unable to get NLog to send fields as numbers/ints/longs from code", "body": "<p>Our tack is c# .net 4.7 logging through NLog library to a \"Graylog\" GELF input which of course is storing them in an elasticsearch cluster.</p>\n\n<p>The application utilizes logging heavily, but EVERYTHING is sent through as strings - no matter if it was something other than a string in code.</p>\n\n<p>I want to be able send my custom logger properties as their true data types so that I can aggregate on my statistical number fields.</p>\n\n<p>I DO NOT want to constrain my developers and do this with scripted fields, or pre-mapping an index in elasticsearch - in fact, graylog manages my index for me. Nor do I want to utilize graylog pipeline processor - my poor graylog does enough work. I want them to be able to send stat data as their real data types and have them mapped as \"long\" or \"number\".</p>\n\n<p>A code snippet from my stuff:</p>\n\n<pre><code>public void InfoExtended2(String Message, Dictionary&lt;string, int&gt; extrafields, [CallerMemberName] string callerMethodName = \"\", [CallerFilePath] string callerFilePath = \"\", [CallerLineNumber] int sourceLineNumber = 0)\n        {\n            var fileName = callerFilePath.Substring(callerFilePath.LastIndexOf(@\"\\\") + 1).Replace(\".cs\", \"\");\n            var caller = $\"{fileName}.{callerMethodName}()Line:{sourceLineNumber}\";\n            var logger = LogManager.GetLogger(caller);\n\n            if (!(extrafields.Count == 0))\n            {\n                foreach (var field in extrafields)\n                {\n                    string mykey = field.Key.ToString();\n                    extrafields.TryGetValue(field.Key, out int myvalue);\n                    //be careful whats in object! \n                    if (!logger.Properties.ContainsKey(mykey)) { logger.Properties.Add(mykey, \"{@myvalue}\"); } else { logger.Properties[mykey] = \"{@myvalue}\"; }\n                }\n            }\n\n            logger.Info()\n                .Message(Message)\n                .Property(\"ComeOnNow3\", 87)\n\n                .Write();\n\n            // Create the LogEventInfo object\n            //LogEventInfo logEvent = new LogEventInfo();\n\n            // Now add the event characteristics\n            //logEvent.Properties[\"EventCode\"] = 2222;\n            //logEvent.Level = NLog.LogLevel.Info;\n            //logEvent.Properties[\"EventCode].\"]\n            //logEvent.Message = \"My Message\";\n            ////logEvent.Exception = ex;\n            //logger.Log(logEvent);\n\n            //logger.Info(\"{@Message}\", new Dictionary&lt;string, int&gt; { { \"key1\", 1 }, { \"key2\", 2 } }); // dict. Result:  Test \"key1\"=1, \"key2\"=2\n\n        }\n</code></pre>\n\n<p>I've tried a few different ways there with no luck.</p>\n\n<p>If I make a POST GELF call myself with JSON fields representing ints instead of strings, it works. My field is brand new to the index and when I go check the mapping it comes back as a long. I want my code to do that.</p>\n\n<p>Test GELF Call:</p>\n\n<pre><code>{\n  \"version\": \"1.1\",\n  \"host\": \"example.org\",\n  \"short_message\": \"A short message that helps you identify what is going on\",\n  \"full_message\": \"Backtrace here\\n\\nmore stuff\",\n  \"timestamp\": 1385053862.3072,\n  \"level\": 1,\n  \"_user_id\": 9001,\n  \"_some_info\": \"foo\",\n  \"_some_env_var\": \"bar\"\n}\n</code></pre>\n\n<p>Resulting mapping for user id:</p>\n\n<pre><code>          \"user_id\" : {\n            \"type\" : \"long\"\n\n</code></pre>\n\n<p>What our nlog target currently looks like:</p>\n\n<pre><code>&lt;targets&gt;\n      &lt;target name=\"gelftcp\"\n      type=\"gelftcp\"\n      facility=\"Custom Facility\"\n      remoteaddress=\"192.168.95.15\"\n      remoteport=\"12201\"\n      layout=\"${longdate}${newline}type: ${level:uppercase=true}${newline}class: ${logger}${newline}stacktrace: ${stacktrace}${newline}error message: ${message}${newline}exception: ${exception:format=tostring,data:maxinnerexceptionlevel=10}\"&gt;\n        &lt;parameter name=\"logged_at\" layout=\"${longdate}\" /&gt;\n        &lt;parameter name=\"type\" layout=\"${level:uppercase=true}\" /&gt;\n        \u00a0\u00a0  &lt;parameter name=\"class\" layout=\"${logger}\" /&gt;\n        &lt;parameter name=\"CustomInt\" layout=\"${event-properties:item=CustomInt}\" as=\"number\" /&gt;\n        \u00a0\u00a0  &lt;parameter name=\"stacktrace\" layout=\"${stacktrace}\" /&gt;\n        \u00a0\u00a0  &lt;parameter name=\"error_message\" layout=\"${message}\" /&gt;\n        &lt;parameter name=\"ComeOnNow3\" layout=\"${event-properties:item=ComeOnNow3} \" /&gt;\n        \u00a0\u00a0  &lt;parameter name=\"exception\" layout=\"${exception:format=tostring,data:maxinnerexceptionlevel=10}\" /&gt;\n        &lt;attribute name=\"eventProperties\" encode=\"false\" &gt;\n          &lt;layout type='JsonLayout' includeAllProperties=\"true\"  maxRecursionLimit=\"2\"/&gt;\n        &lt;/attribute&gt;\n          &lt;variable name=\"ComeOnNow2\" value =\"${event-context:ComeOnNow2}\" /&gt;\n\n      &lt;/target&gt;\n</code></pre>\n\n<p>Take it easy on me, I'm not the original author of this code. Just someone tasked with picking up slack &amp; deploying in its current state.</p>\n\n<p><strong>UPDATE:</strong>\nTried the first suggestion. Even added the field I'm testing:</p>\n\n<pre><code>&lt;field name=\"ComeOnNow3\" layout=\"${threadid}\" type=\"System.Int32\" /&gt;\n</code></pre>\n\n<p>Attempted this log entry:</p>\n\n<pre><code>logger.Info()\n                .Message(Message)\n                .Property(\"ComeOnNow3\", 87)\n                .Write();\n</code></pre>\n\n<p>My mapping still comes back as \"keyword\".</p>\n\n<p><strong><em>SOLVED:</em></strong></p>\n\n<p>The trick was to switch to Http instead of Tcp.</p>\n"}, {"tags": ["c#", "messagebox"], "comments": [{"owner": {"reputation": 5525, "user_id": 576857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8ec04b9d97b033d197d40642de73a4bc?s=128&d=identicon&r=PG", "display_name": "Al Kepp", "link": "https://stackoverflow.com/users/576857/al-kepp"}, "edited": false, "score": 4, "creation_date": 1576691001, "post_id": 59397490, "comment_id": 104984103, "body": "What about a counter? I mean like <code>int counter = 0;</code> and then <code>if(++counter &lt;= 5)</code>..."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576691184, "post_id": 59397490, "comment_id": 104984199, "body": "That sounds like you should have a &quot;Do not ask me again&quot; checkbox on the Message Box."}, {"owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1576829931, "post_id": 59397490, "comment_id": 105030252, "body": "Hi @Kitty,  If you feel an answer solved the problem, please mark it as &#39;accepted&#39; by clicking the green check mark so others can use that for further references."}, {"owner": {"reputation": 21, "user_id": 12411968, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBJHoWmrUGDxjmh8_iNxJOSjOkDhQA_z6ZOlq5CtA=k-s128", "display_name": "kitty", "link": "https://stackoverflow.com/users/12411968/kitty"}, "reply_to_user": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1576875793, "post_id": 59397490, "comment_id": 105048537, "body": "hello @Clint no neither will work for me it continually asks me if i want to add another driver"}, {"owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "edited": false, "score": 0, "creation_date": 1576876789, "post_id": 59397490, "comment_id": 105048773, "body": "interesting, can you show share the update code snippet ?"}], "answers": [{"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1576693110, "last_edit_date": 1576693110, "creation_date": 1576692071, "answer_id": 59397759, "question_id": 59397490, "link": "https://stackoverflow.com/questions/59397490/how-do-i-only-allow-for-a-message-box-to-show-a-maxiumum-of-5-times/59397759#59397759", "title": "How do I only allow for a message box to show a maxiumum of 5 times?", "body": "<p>You can simply put the code in a loop, which continues until the maximum times have been reached. Note that I've changed your <code>Show</code> to <code>ShowDialog</code>, which will pause execution of the loop until the other form is closed:</p>\n\n<pre><code>var maxEntries = 5;\nvar totalEntries = 0;\n\nHide();\n\nwhile (totalEntries &lt; maxEntries)\n{\n    DialogResult answer = \n        MessageBox.Show(\"Would you like to add an additional driver to policy?\" \n            \"Info\", MessageBoxButtons.YesNo, MessageBoxIcon.Information);\n\n    if (answer == DialogResult.Yes)\n    {\n        new frmAdditionalDriver().ShowDialog();\n    }\n    else\n    {\n        new frmInsurancePolicy().ShowDialog();\n    }\n\n    totalEntries++;\n}\n\nShow();\n</code></pre>\n\n<p>If you also want to exit the loop if they ever answer <code>\"No\"</code>, then we can use the loop slightly differently by using the dialog result as part of the condition:</p>\n\n<pre><code>var maxEntries = 5;\nvar totalEntries = 0;\n\nDialogResult answer = \n    MessageBox.Show(\"Would you like to add an additional driver to policy?\",\n        \"Info\", MessageBoxButtons.YesNo, MessageBoxIcon.Information);\n\nHide();\n\nwhile (totalEntries &lt; maxEntries &amp;&amp; answer == DialogResult.Yes)\n{\n    totalEntries++;\n\n    if (answer == DialogResult.Yes)\n    {\n        new frmAdditionalDriver().ShowDialog();                   \n    }\n\n    answer = MessageBox.Show(\"Would you like to add an additional driver to policy?\",\n        \"Info\", MessageBoxButtons.YesNo, MessageBoxIcon.Information);\n}\n\nnew frmInsurancePolicy().ShowDialog();\n\nShow();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "is_accepted": false, "score": 0, "last_activity_date": 1576693178, "last_edit_date": 1576693178, "creation_date": 1576692400, "answer_id": 59397845, "question_id": 59397490, "link": "https://stackoverflow.com/questions/59397490/how-do-i-only-allow-for-a-message-box-to-show-a-maxiumum-of-5-times/59397845#59397845", "title": "How do I only allow for a message box to show a maxiumum of 5 times?", "body": "<p><strong>You can simply create a Class say MessageBoxConstraints</strong> </p>\n\n<pre><code>Class MessageBoxConstraints\n{\n    public int Counter { get; set; } = 0; \n\n    public void Show()\n    {\n        if(Counter&lt;5)\n        {\n          Initiate();\n        }\n\n    }\n\n    private void Initiate ()\n    {\n        Counter++;\n        DialogResult answer = MessageBox.Show(\"Would you like to add an additional driver to policy?\", \"Info\", MessageBoxButtons.YesNo, MessageBoxIcon.Information); ;\n            if (answer == DialogResult.Yes)\n            {\n                frmAdditionalDriver form = new frmAdditionalDriver();\n                form.Show();\n                this.Hide();\n            }\n            else\n            {\n                frmInsurancePolicy form = new frmInsurancePolicy();\n                form.Show();\n                this.Hide();\n            }\n\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<p><strong>And invoke its Show() from your client</strong></p>\n\n<pre><code>class Program\n{\n    static void Main()\n    {\n\n        var popUp = new MessageBoxConstraints();\n        popUp.Show();\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 12411968, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBJHoWmrUGDxjmh8_iNxJOSjOkDhQA_z6ZOlq5CtA=k-s128", "display_name": "kitty", "link": "https://stackoverflow.com/users/12411968/kitty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1576693178, "creation_date": 1576690911, "question_id": 59397490, "link": "https://stackoverflow.com/questions/59397490/how-do-i-only-allow-for-a-message-box-to-show-a-maxiumum-of-5-times", "title": "How do I only allow for a message box to show a maxiumum of 5 times?", "body": "<p>I have a message box that I want to display a maximum of 5 times.</p>\n\n<p>here is my code</p>\n\n<p>the message box I want to display max 5 times is the \"would you like to add an additional driver to policy?\"</p>\n\n<pre><code>            DialogResult answer = MessageBox.Show(\"Would you like to add an additional driver to policy?\", \"Info\", MessageBoxButtons.YesNo, MessageBoxIcon.Information); ;\n            if (answer == DialogResult.Yes)\n            {\n                frmAdditionalDriver form = new frmAdditionalDriver();\n                form.Show();\n                this.Hide();\n            }\n            else\n            {\n                frmInsurancePolicy form = new frmInsurancePolicy();\n                form.Show();\n                this.Hide();\n            }\n</code></pre>\n"}, {"tags": ["c#", "dapper", "service-fabric-actor"], "answers": [{"tags": [], "owner": {"reputation": 1663, "user_id": 971943, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fba85664056fcefc844be96b5d56a3bc?s=128&d=identicon&r=PG", "display_name": "swcraft", "link": "https://stackoverflow.com/users/971943/swcraft"}, "is_accepted": true, "score": 0, "last_activity_date": 1576943856, "last_edit_date": 1576943856, "creation_date": 1576861664, "answer_id": 59428991, "question_id": 59397484, "link": "https://stackoverflow.com/questions/59397484/static-class-configuration-for-service-fabric-actors/59428991#59428991", "title": "static class configuration for service fabric actors", "body": "<p>I usually don't want to answer my own question, but here is what I found out so far.</p>\n\n<p>First of all, maybe I need to change the title of this question if I want the actual solution solving the issue to be more relevant to the title itself.  However since the titled question is answered with this post, I will keep it as is.</p>\n\n<p>To give the short answer, static class configuration can be done with all the places I mentioned above such as Actor constructor, OnActivateAsync(), etc, as static class is still shared across different threads (Actors are all single independent threads) within the AppDomain (And actors are running within the AppDomain.  Please correct me if I am wrong.)</p>\n\n<p>What actually caused the above issue was because the mapping definition using Dapper was declared as dynamic; shown below:</p>\n\n<pre><code>return sqlConnection.Query&lt;dynamic&gt;(some_sql_script, new { objInstance }).FirstOrDefault();\n</code></pre>\n\n<p>Once you change the expected return type T to strong type which contains the typeHandler type, then Dapper invoked the typeHandler correctly:</p>\n\n<pre><code>return sqlConnection.Query&lt;StrongType&gt;(some_sql_script, new { objInstance }).FirstOrDefault();\n</code></pre>\n"}], "owner": {"reputation": 1663, "user_id": 971943, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fba85664056fcefc844be96b5d56a3bc?s=128&d=identicon&r=PG", "display_name": "swcraft", "link": "https://stackoverflow.com/users/971943/swcraft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 59428991, "answer_count": 1, "score": 1, "last_activity_date": 1576943856, "creation_date": 1576690889, "question_id": 59397484, "link": "https://stackoverflow.com/questions/59397484/static-class-configuration-for-service-fabric-actors", "title": "static class configuration for service fabric actors", "body": "<p>Service fabric actors are used to access database and all the methods suppose to use Dapper as ORM tool.</p>\n\n<p>One thing I found out as the best way to solve current problem is using something called SqlMapper in Dapper.  With that, you can define general behavior in handling certain data types, for example:</p>\n\n<pre><code>SqlMapper.AddTypeHandler(new DateTimeHandler());\n\npublic class DateTimeHandler : SqlMapper.TypeHandler&lt;DateTime&gt;\n{\n    public override void SetValue(IDbDataParameter parameter, DateTime dateTime)\n    {\n        parameter.Value = dateTime.ValidateDateTime();\n    }\n\n    public override DateTime Parse(object value)\n    {\n        return ((DateTime)value).ValidateDateTime();\n    }\n}\n</code></pre>\n\n<p>As you declare static method above (AddTypeHandler) with custom handler such as DateTimeHandler, the mapping done using Dapper framework will make sure any dateTime type goes through above handler correctly.</p>\n\n<p>I would like to see this happening as each Actor communicates to database via Dapper.\nI haven't seen it happening yet declaring above static method in attempts with several different places such as Actor constructor() or the main method such as below:</p>\n\n<pre><code>private static void Main()\n{\n        try\n        {\n            // This line registers an Actor Service to host your actor class with the Service Fabric runtime.\n            // The contents of your ServiceManifest.xml and ApplicationManifest.xml files\n            // are automatically populated when you build this project.\n            // For more information, see https://aka.ms/servicefabricactorsplatform\n\n            ActorRuntime.RegisterActorAsync&lt;SqlRepositoryActor&gt;(\n               (context, actorType) =&gt; new ActorService(context, actorType)).GetAwaiter().GetResult();\n\n            // This doesn't seem like a right place as I don't see the handler being called when Actor uses dapper mapping methods.\n            SqlMapper.AddTypeHandler(new DateTimeHandler());\n\n            Thread.Sleep(Timeout.Infinite);\n        }\n        catch (Exception e)\n        {\n            ActorEventSource.Current.ActorHostInitializationFailed(e.ToString());\n            throw;\n        }\n} \n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "soap"], "answers": [{"comments": [{"owner": {"reputation": 23000, "user_id": 1415614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/F6BHs.jpg?s=128&g=1", "display_name": "RonC", "link": "https://stackoverflow.com/users/1415614/ronc"}, "edited": false, "score": 0, "creation_date": 1599647143, "post_id": 63809151, "comment_id": 112835604, "body": "What service are you using?  Please replace webhooks.site with that service."}, {"owner": {"reputation": 21, "user_id": 14247123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08cc64363b1aba8f60b202688df056ab?s=128&d=identicon&r=PG&f=1", "display_name": "Luka Sto\u0161i\u0107", "link": "https://stackoverflow.com/users/14247123/luka-sto%c5%a1i%c4%87"}, "reply_to_user": {"reputation": 23000, "user_id": 1415614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/F6BHs.jpg?s=128&g=1", "display_name": "RonC", "link": "https://stackoverflow.com/users/1415614/ronc"}, "edited": false, "score": 1, "creation_date": 1599649668, "post_id": 63809151, "comment_id": 112836760, "body": "@RonC Sorry - I made a typo -&gt; should be <a href=\"https://webhook.site/\" rel=\"nofollow noreferrer\">webhook.site</a> (I placed one extra &quot;s&quot;) .. fixed in the original answer"}, {"owner": {"reputation": 10118, "user_id": 5744, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/541820cf4d8844ddb0755ac69218c0cc?s=128&d=identicon&r=PG", "display_name": "harriyott", "link": "https://stackoverflow.com/users/5744/harriyott"}, "edited": false, "score": 0, "creation_date": 1599665078, "post_id": 63809151, "comment_id": 112845053, "body": "This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. You can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>. - <a href=\"/review/low-quality-posts/27123713\">From Review</a>"}], "tags": [], "owner": {"reputation": 21, "user_id": 14247123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08cc64363b1aba8f60b202688df056ab?s=128&d=identicon&r=PG&f=1", "display_name": "Luka Sto\u0161i\u0107", "link": "https://stackoverflow.com/users/14247123/luka-sto%c5%a1i%c4%87"}, "is_accepted": false, "score": 2, "last_activity_date": 1599649685, "last_edit_date": 1599649685, "creation_date": 1599645229, "answer_id": 63809151, "question_id": 59397470, "link": "https://stackoverflow.com/questions/59397470/how-to-see-contents-of-asp-net-core-soap-request/63809151#63809151", "title": "How to see contents of Asp.Net Core SOAP request", "body": "<p>I was looking for a same thing, and unfortunately couldn't find a way to see in debugger exactly what XML is sent out, so I'm using a service that can catch any request (like <a href=\"https://webhook.site\" rel=\"nofollow noreferrer\">https://webhook.site</a>). I can't configure any response, but at least I can see full XML that is sent out in the request ...</p>\n"}], "owner": {"reputation": 23000, "user_id": 1415614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/F6BHs.jpg?s=128&g=1", "display_name": "RonC", "link": "https://stackoverflow.com/users/1415614/ronc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1599649685, "creation_date": 1576690831, "question_id": 59397470, "link": "https://stackoverflow.com/questions/59397470/how-to-see-contents-of-asp-net-core-soap-request", "title": "How to see contents of Asp.Net Core SOAP request", "body": "<p>In Asp.Net Core there is support for generating a SOAP client via Connected Services in Visual Studio.  This SO Questions discusses using that code: <a href=\"https://stackoverflow.com/questions/48625444/calling-a-soap-service-in-net-core\">Calling a SOAP service in .net Core</a> </p>\n\n<p>My questions is related to debugging such a service call. Generally to  do that it's super helpful to see the actual xml that comprises the SOAP request that will be sent over the wire to the server.  Is there a way to in Asp.Net Core's SOAP support to see that SOAP xml?  </p>\n\n<p>As an aside I even tried to view it using Fiddler, but the request and response are not showing up, even though I have it configured to decrypt HTTPS traffic.  I have found other developers reporting this same issue: <a href=\"https://www.telerik.com/forums/fiddler-no-longer-capturing-web-service-requests-in-net\" rel=\"nofollow noreferrer\">https://www.telerik.com/forums/fiddler-no-longer-capturing-web-service-requests-in-net</a>   </p>\n\n<p>Is there a way to in Asp.Net Core's SOAP support to see the xml generated for the request?  </p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 598, "user_id": 6198927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/k5lkj.jpg?s=128&g=1", "display_name": "Esteban Verbel", "link": "https://stackoverflow.com/users/6198927/esteban-verbel"}, "edited": false, "score": 1, "creation_date": 1576690890, "post_id": 59397428, "comment_id": 104984047, "body": "You can use 2 StringBuilders and then print their content to the Console in the same order"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576691045, "post_id": 59397428, "comment_id": 104984129, "body": "Build the numbers once and prepend id and roll # in 2 separate stings"}], "answers": [{"comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576691096, "post_id": 59397517, "comment_id": 104984159, "body": "You only need 1 and just append it to id and roll #"}, {"owner": {"reputation": 93, "user_id": 12560365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6321445efecff928f4acf2eb899df3ef?s=128&d=identicon&r=PG&f=1", "display_name": "NetSurfer", "link": "https://stackoverflow.com/users/12560365/netsurfer"}, "edited": false, "score": 0, "creation_date": 1576691151, "post_id": 59397517, "comment_id": 104984187, "body": "can we create a logic which uses only one StringBuilder"}], "tags": [], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "is_accepted": false, "score": 1, "last_activity_date": 1576691012, "creation_date": 1576691012, "answer_id": 59397517, "question_id": 59397428, "link": "https://stackoverflow.com/questions/59397428/appending-string-horizontally-in-c/59397517#59397517", "title": "appending string horizontally in c#", "body": "<p>Instead of 1, use 2 <code>StringBuilder</code> instances:</p>\n\n<pre><code>StringBuilder sb1 = new StringBuilder();\nStringBuilder sb2 = new StringBuilder();\nsb1.Append(\"Id \");\nsb2.Append(\"Roll# \");\nfor (int i = 0; i &lt; 10; i++)\n{\n    sb1.Append(i + \" \");\n    sb2.Append(i + \" \");\n}\nConsole.WriteLine(sb1);\nConsole.WriteLine(sb2);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 5, "creation_date": 1576691290, "post_id": 59397534, "comment_id": 104984248, "body": "Well... under that hood, its looping ;)"}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 2, "creation_date": 1576691295, "post_id": 59397534, "comment_id": 104984252, "body": "Just to be clear: There is still a loop. 3 Actually. It is just loops you did not have to write."}, {"owner": {"reputation": 13228, "user_id": 8398549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8tzrl.jpg?s=128&g=1", "display_name": "Cid", "link": "https://stackoverflow.com/users/8398549/cid"}, "edited": false, "score": 2, "creation_date": 1576691340, "post_id": 59397534, "comment_id": 104984279, "body": "Yes, it&#39;s still a loop under the hood, let me rephrase that a bit"}, {"owner": {"reputation": 93, "user_id": 12560365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6321445efecff928f4acf2eb899df3ef?s=128&d=identicon&r=PG&f=1", "display_name": "NetSurfer", "link": "https://stackoverflow.com/users/12560365/netsurfer"}, "edited": false, "score": 0, "creation_date": 1576691795, "post_id": 59397534, "comment_id": 104984457, "body": "@Cid that involves Linq concepts can you please give me a logic with for loop and uses single StringBuilder basically I want to append the new character (or column) horizontally"}, {"owner": {"reputation": 93, "user_id": 12560365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6321445efecff928f4acf2eb899df3ef?s=128&d=identicon&r=PG&f=1", "display_name": "NetSurfer", "link": "https://stackoverflow.com/users/12560365/netsurfer"}, "edited": false, "score": 0, "creation_date": 1576736400, "post_id": 59397534, "comment_id": 104996848, "body": "@Cid can we replace range with foreach loop just in case if I want there list values? please guide"}, {"owner": {"reputation": 13228, "user_id": 8398549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8tzrl.jpg?s=128&g=1", "display_name": "Cid", "link": "https://stackoverflow.com/users/8398549/cid"}, "reply_to_user": {"reputation": 93, "user_id": 12560365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6321445efecff928f4acf2eb899df3ef?s=128&d=identicon&r=PG&f=1", "display_name": "NetSurfer", "link": "https://stackoverflow.com/users/12560365/netsurfer"}, "edited": false, "score": 0, "creation_date": 1576746359, "post_id": 59397534, "comment_id": 105000665, "body": "@NetSurfer I added more ways to do that"}, {"owner": {"reputation": 13228, "user_id": 8398549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8tzrl.jpg?s=128&g=1", "display_name": "Cid", "link": "https://stackoverflow.com/users/8398549/cid"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576746479, "post_id": 59397534, "comment_id": 105000730, "body": "@Christopher what are the 3 loops in the first example ?"}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576774398, "post_id": 59397534, "comment_id": 105015233, "body": "@Cid Oh, I did not see he made this via concatenation. So he did not need a loop inside WriteLine. Unless of course there is a loop that goes over the string elements."}, {"owner": {"reputation": 93, "user_id": 12560365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6321445efecff928f4acf2eb899df3ef?s=128&d=identicon&r=PG&f=1", "display_name": "NetSurfer", "link": "https://stackoverflow.com/users/12560365/netsurfer"}, "edited": false, "score": 0, "creation_date": 1576964176, "post_id": 59397534, "comment_id": 105063670, "body": "Is there anyway by which we can append two stringbuilders horizontally?"}, {"owner": {"reputation": 13228, "user_id": 8398549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8tzrl.jpg?s=128&g=1", "display_name": "Cid", "link": "https://stackoverflow.com/users/8398549/cid"}, "edited": false, "score": 0, "creation_date": 1577021927, "post_id": 59397534, "comment_id": 105072153, "body": "<code>sb1.Append(sb2);</code>"}], "tags": [], "owner": {"reputation": 13228, "user_id": 8398549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8tzrl.jpg?s=128&g=1", "display_name": "Cid", "link": "https://stackoverflow.com/users/8398549/cid"}, "is_accepted": true, "score": 4, "last_activity_date": 1576746342, "last_edit_date": 1576746342, "creation_date": 1576691111, "answer_id": 59397534, "question_id": 59397428, "link": "https://stackoverflow.com/questions/59397428/appending-string-horizontally-in-c/59397534#59397534", "title": "appending string horizontally in c#", "body": "<p>This can be done without <em>explicit</em> looping, using <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.range?view=netframework-4.8\" rel=\"nofollow noreferrer\">Enumerable.Range</a> to <em>\"generate a sequence of integral numbers within a specified range\"</em>, along with <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.string.join?view=netframework-4.8\" rel=\"nofollow noreferrer\">string.Join()</a> to concatenate the previously created range with the string <code>\" \"</code>  :</p>\n\n<pre><code>// using System.Linq;\n\nstring range = string.Join(\" \", Enumerable.Range(1, 10)); // \"1 2 3 4 5 6 7 8 9 10\"\nsb.AppendLine($\"Id {range}\");\nsb.AppendLine($\"Roll# {range}\");\n</code></pre>\n\n<hr>\n\n<p>If you really want to use a <code>for</code> loop to build your sequence, you can build your own <code>Range</code> method such as :</p>\n\n<pre><code>public static IEnumerable&lt;int&gt; Range(int min, int max)\n{\n    if (min &gt; max)\n    {\n        throw new ArgumentException(\"The min value can't be greater than the max\");\n    }\n    for (int i = min; i &lt;= max; i++)\n    {\n        yield return i;\n    }\n}\n</code></pre>\n\n<p>And then <code>Join</code> like previously :</p>\n\n<pre><code>var range = string.Join(\" \", Range(1, 10));\nsb.AppendLine($\"Id {range}\");\nsb.AppendLine($\"Roll# {range}\");\n</code></pre>\n\n<hr>\n\n<p>Or build an array/List/whatever collection and then use <code>string.Join()</code> :</p>\n\n<pre><code>var arr = new int [10];\nfor (int i = 1; i &lt;= 10; i++)\n{\n    arr[i - 1] = i;\n}\n\nstring range = string.Join(\" \", arr);\nsb.AppendLine($\"Id {range}\");\nsb.AppendLine($\"Roll# {range}\");\n</code></pre>\n\n<hr>\n\n<p>Or directly build a string in the loop :</p>\n\n<pre><code>var sbRange = new StringBuilder();\nfor (int i = 1; i &lt;= 10; i++)\n{\n    sbRange.Append($\"{i} \");\n}\n// You can use a string and trim it (there is a space in excess at the end)\nstring range = sbRange.ToString().Trim();\n\nsb.AppendLine($\"Id {range}\");\nsb.AppendLine($\"Roll# {range}\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": false, "score": 1, "last_activity_date": 1576691547, "creation_date": 1576691547, "answer_id": 59397622, "question_id": 59397428, "link": "https://stackoverflow.com/questions/59397428/appending-string-horizontally-in-c/59397622#59397622", "title": "appending string horizontally in c#", "body": "<p>This will always require at least 3 loops:</p>\n\n<ul>\n<li>One for the creation for the array. </li>\n<li>One for each WriteLine. </li>\n</ul>\n\n<p>At best you can have somebody elses code do the looping <em>for</em> you.</p>\n\n<p>Unless you are interested in pulling stunts like manually inserting the Newline into a really long string, there is no way to save even a single loop. But such a thing is just unreliable and should not be atempted.</p>\n\n<p>It honestly sounds a lot like a Speed Question, and for those we have the <a href=\"https://ericlippert.com/2012/12/17/performance-rant/\" rel=\"nofollow noreferrer\">speed rant</a>. You should read it either way, but can skip part 1.</p>\n\n<p>The only improovement I can think of is building those strings with a stringbuilder. String concatenation in loops can be a bit troublesome. But on this scale it works either way.</p>\n"}], "owner": {"reputation": 93, "user_id": 12560365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6321445efecff928f4acf2eb899df3ef?s=128&d=identicon&r=PG&f=1", "display_name": "NetSurfer", "link": "https://stackoverflow.com/users/12560365/netsurfer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 1, "accepted_answer_id": 59397534, "answer_count": 3, "score": 3, "last_activity_date": 1576746342, "creation_date": 1576690664, "last_edit_date": 1576701190, "question_id": 59397428, "link": "https://stackoverflow.com/questions/59397428/appending-string-horizontally-in-c", "title": "appending string horizontally in c#", "body": "<p>I am new to C# and trying a demo program in this program my intended output is:</p>\n\n<pre><code>Id     1 2 3 4 5 6 7 8 9\nRoll # 1 2 3 4 5 6 7 8 9\n</code></pre>\n\n<p>and this is what I have tried :</p>\n\n<pre><code>static void Main(string[] args)\n{\n    StringBuilder sb = new StringBuilder();\n    sb.Append(\"Id \");\n    for (int i = 0; i &lt; 10; i++)\n    {\n        sb.Append(i+\" \");\n    }\n    sb.AppendLine();\n    sb.Append(\"Roll# \");\n    for (int i = 0; i &lt; 10; i++)\n    {\n        sb.Append(i + \" \");\n    }\n    Console.WriteLine(sb);\n}\n</code></pre>\n\n<p>though it gives me desired output but here I have to iterate through for loop twice. Is there any way by which only iterating once I can get the same output, using some string formatting of C#?</p>\n"}, {"tags": ["javascript", "c#", "asp.net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1576694095, "post_id": 59397423, "comment_id": 104985461, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/16239513/print-pdf-directly-from-javascript\">Print PDF directly from JavaScript</a>"}, {"owner": {"reputation": 23854, "user_id": 70345, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/aV45a.jpg?s=128&g=1", "display_name": "Ian Kemp", "link": "https://stackoverflow.com/users/70345/ian-kemp"}, "edited": false, "score": 0, "creation_date": 1576709368, "post_id": 59397423, "comment_id": 104991166, "body": "This is not a great solution for many reasons, the simplest of which is that printing 400 documents via a web browser is going to tie up that browser window for a LONG time. And depending on what browser manufacturers do or don&#39;t decide, printing without user interaction may or may not continue to work in future browser releases. A more robust solution, IMO, would be to have your <code>BulkPrintExemptions</code> call queue up the PDFs to be printed somewhere (e.g. a DB table), and then on each client PC have a Windows service running that polls that queue and sends everything in it to the system printer."}], "answers": [{"tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": false, "score": 0, "last_activity_date": 1576692109, "creation_date": 1576692109, "answer_id": 59397767, "question_id": 59397423, "link": "https://stackoverflow.com/questions/59397423/print-a-list-of-pdf-files-to-clients-printer/59397767#59397767", "title": "Print a list of PDF files to Client&#39;s printer", "body": "<p>There are strict limits regarding what your WebPage can do on/to the Computer showing the WebPage. We used to be more lax. It was abused the heck out off. So it was fixed. But I doubt anyone was mad enough to ever allow JavaScript to send Print orders.</p>\n\n<p>That being said it should be possible, using a Progamm or possibly even a Addon/Extension installed on the Client side.</p>\n\n<p>You can <a href=\"https://support.shotgunsoftware.com/hc/en-us/articles/219031308-Launching-applications-using-custom-browser-protocols\" rel=\"nofollow noreferrer\">register Programms with specific Protocolls</a>, same way you would with File Extensions. Indeed that is how those Steam Links on the Desktop work - they are URL's with the custom \"steam:\" Protocoll. And all browser register both the common Filenames and the common Protocolls.</p>\n\n<p>That is about the best answer I can give you with such a broad question.</p>\n"}, {"tags": [], "owner": {"reputation": 710, "user_id": 12309486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68c1c2e0b5a16dda723201c9d74cd56b?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Miller", "link": "https://stackoverflow.com/users/12309486/nathan-miller"}, "is_accepted": false, "score": 1, "last_activity_date": 1576693894, "creation_date": 1576693894, "answer_id": 59398177, "question_id": 59397423, "link": "https://stackoverflow.com/questions/59397423/print-a-list-of-pdf-files-to-clients-printer/59398177#59398177", "title": "Print a list of PDF files to Client&#39;s printer", "body": "<p>First, that sounds like a terrible idea on your user's part. This could potentially lead to locking up her computer while it processes that many print requests.</p>\n\n<p>Second, it is possible. <a href=\"https://stackoverflow.com/questions/16239513/print-pdf-directly-from-javascript\">This SO question</a> has some options listed, and it looks like <a href=\"https://printjs.crabbly.com/\" rel=\"nofollow noreferrer\">Print.js</a> is probably your best bet. Some comments there said it didn't open the print dialog, so it may not require interaction on your user's part; but I sincerely hope it does, because allowing a website unlimited access to a printer with no user interaction sounds like a terrible idea.</p>\n\n<p>Alternatively, if it prompts for every single one of those 400+ PDFs, if you can concatenate them into one 400+ page document then you'd only have one print dialog. Still probably slow/lock up her PC while processing that request.</p>\n"}], "owner": {"reputation": 89, "user_id": 3837567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1b7ad466ff22ceca177851a51a1ab68?s=128&d=identicon&r=PG&f=1", "display_name": "Carthax", "link": "https://stackoverflow.com/users/3837567/carthax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1576693894, "creation_date": 1576690652, "last_edit_date": 1576691390, "question_id": 59397423, "link": "https://stackoverflow.com/questions/59397423/print-a-list-of-pdf-files-to-clients-printer", "title": "Print a list of PDF files to Client&#39;s printer", "body": "<p>I am writing a web application that will, amongst a lot of other things, produce a list of PDF files:</p>\n\n<pre><code>public JsonResult BulkPrintExemptions()\n        {\n            List&lt;FileContentResult&gt; retValues = new List&lt;FileContentResult&gt;();\n            var results = db.Permits.Where(m =&gt; m.Year == DateTime.Now.Year).Where(e =&gt; e.RecordDeleted == false).ToList();\n            foreach (var result in results)\n            {\n                retValues.Add(GetPDF(result, \"Exemption\"));\n            }\n            return Json(retValues, JsonRequestBehavior.AllowGet);\n        }\n</code></pre>\n\n<p>The list will be a minimum of about 400 PDF documents, and the user wants to automatically print them without any interaction on her part.</p>\n\n<p>Once I return that List of FileContentResults, how do I automagically send it to the user's default printer?</p>\n\n<p>I am fairly certain I just need to loop through the list and call Acrobat Reader for each one; I'm just at a loss as to how to do that through javascript.</p>\n\n<p>How do I do that?  Or, alternatively, I'm open to better options.</p>\n\n<p>Full disclosure, to assist with options:</p>\n\n<p>This is an MVC application in C#.  The enduser has Adobe Acrobat Reader (at least) installed, as it's a default on the \"Office Desktop\" image.</p>\n\n<p>Edit to add:  The PDF files are coming from SSRS, if that makes any difference.</p>\n"}, {"tags": ["c#", ".net-core", "stack-overflow", "brute-force"], "comments": [{"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1576692063, "post_id": 59397370, "comment_id": 104984564, "body": "Using recursion is dangerous when you don&#39;t have strong prediction that the recursion depth wouldn&#39;t exceed the stack size and should be avoided, otherwise the moment when you get a <code>StackOverflowException</code> is only a matter of time. I&#39;d suggest to use loops or trampolining as a safe alternative of recursion."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1576692665, "post_id": 59397370, "comment_id": 104984844, "body": "The best way you can improve is by <a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">learning how to debug</a>. This is a critical skill for programmers and if yours \u201cdoes not start\u201d you are doing something wrong."}], "answers": [{"comments": [{"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1576691417, "post_id": 59397449, "comment_id": 104984308, "body": "To get <code>StackOverflowException</code> you not necessarily need an infinite recursion - a simple recursion with depth which exceeds the stack size is enough to get this exception. And btw, Windows doesn&#39;t <b>decide</b> anything on that - the exception is thrown by SEH and then by .NET runtime when stack boundaries are violated."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1576691721, "post_id": 59397449, "comment_id": 104984436, "body": "@DmytroMukalov I am confused. I said the exact same thing: &quot;or at least something so big that Windows decides &quot;propably Infinite&quot;&quot; | Also the SEH <i>is</i> Windows: &quot;Microsoft Structured Exception Handling is the native exception handling mechanism for Windows and a forerunner technology to Vectored Exception Handling (VEH).[1] It features the finally mechanism not present in standard C++ exceptions (but present in most imperative languages introduced later). SEH is set up and handled separately for each thread of execution. &quot;"}, {"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1576691978, "post_id": 59397449, "comment_id": 104984535, "body": "That&#39;s not the same: <code>Windows decides &quot;propably Infinite&quot;</code> has nothing to do with exceeded stack boundaries. This statement at least misleading as there is neither conception nor definition of <b>probably infinite</b> inside infrastructure which throws this exception."}, {"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1576692261, "post_id": 59397449, "comment_id": 104984661, "body": "As for the <code>SEH is Windows</code> it&#39;s like to say that a wheel is a car."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1576692513, "post_id": 59397449, "comment_id": 104984771, "body": "@DmytroMukalov I am actually saying that Cars have Wheels. Also I think most people get run over by a car, not by a wheel. So the precise part doing stuff on you does not mater that much. | My main point was that it was infinite recursions or at elast something so deep it was asumed to be Infinite recursion."}, {"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1576692923, "post_id": 59397449, "comment_id": 104984953, "body": "Technically there is no notion of infinite recursion and no infrastructure tries to detect, <code>decide</code> or <code>assume</code> whether a recursion is infinite, probably infinite, semi-infinite or whatever else infinite."}, {"owner": {"reputation": 43, "user_id": 11267188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WbREK.jpg?s=128&g=1", "display_name": "xNPx3", "link": "https://stackoverflow.com/users/11267188/xnpx3"}, "edited": false, "score": 0, "creation_date": 1576693373, "post_id": 59397449, "comment_id": 104985161, "body": "Thanks. VSCode actually doesn&#39;t tell me in which line the StackOverflowException is when I run it using dotnet run because the debugging doesn&#39;t work. Also I&#39;m using console because I&#39;m on Linux."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1576694776, "post_id": 59397449, "comment_id": 104985764, "body": "@DmytroMukalov &quot;Technically there is no notion of infinite recursion and no infrastructure tries to detect, decide or assume whether a recursion is infinite, probably infinite, semi-infinite or whatever else infinite.&quot; So the StackOverflowException does not exist or is not thrown? That is a interesting Philosophical point. But not really talking about reality now."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 43, "user_id": 11267188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WbREK.jpg?s=128&g=1", "display_name": "xNPx3", "link": "https://stackoverflow.com/users/11267188/xnpx3"}, "edited": false, "score": 0, "creation_date": 1576694867, "post_id": 59397449, "comment_id": 104985803, "body": "@xNPx3 The debugger not working is a serious issues for debugging, obviously. But in the end any GUI technology works. The part of having a Event Loop to send callbacks too and keep the application alive really helps with getting going there. And this is a rare case where actually Multithreading might work."}, {"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1576695220, "post_id": 59397449, "comment_id": 104985945, "body": "@Christopher absence of a notion you made up doesn&#39;t imply absence of <code>StackOverfloException</code> as it&#39;s only your personal assumption that there is a relationship between these two. I&#39;m talking about real engineering things - you seem to talk about some ephemeral conceptions and this is really sad as the answer is supposed to be read by future readers and this can simply mislead them."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1576695558, "post_id": 59397449, "comment_id": 104986095, "body": "@DmytroMukalov You are the one that started this discussion to split hairs. You have gone more and more off the question. There is a protection from Infinite Recrusion. It was triggered. Sometimes that happens in error, but most likely not."}, {"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1576695802, "post_id": 59397449, "comment_id": 104986190, "body": "@Christopher I&#39;m not off the question while your answer contains <code>or at least something so big that Windows decides &quot;propably Infinite&quot; - and kills that line</code> statement which has nothing to do with reality. Simple."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1576703384, "post_id": 59397449, "comment_id": 104989096, "body": "@DmytroMukalov 40 &lt; Infinity. If I use this as limit to the Call Stack, a amount of 40 will trigger it. This can be due to a genuine Infinite recursion. Or just a really big non-infinite one. Nothing else I said."}, {"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1576741022, "post_id": 59397449, "comment_id": 104998389, "body": "@Christopher, you said this only in comment, the answer still contains this absurd about decision on <code>probably Infinite</code> and killing the line. Now about infinite recursion - there is always limit in the system and it simply isn&#39;t ware of whether your recursion is supposed to never end or just has 41 iterations, so technically it never happens unlike infinite loop  and can be only be algorithmically confirmed but I cannot see an algorithmical analysis in your answer."}, {"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1576741255, "post_id": 59397449, "comment_id": 104998488, "body": "@Christopher,  Fyi, in case you given it may fail on 41, 42, 43 as well as on many other number of iterations which are far from being infinite, so just count how many scenarios it can fail on without being in algorithmical infinite recursive loop which is just speculatively brought to the table."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1576774522, "post_id": 59397449, "comment_id": 105015297, "body": "@DmytroMukalov  40 &lt; Infinity. If I use this as limit to the Call Stack, a amount of 40 will trigger it. This can be due to a genuine Infinite recursion. Or just a really big non-infinite one. Nothing else I said."}, {"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1576777995, "post_id": 59397449, "comment_id": 105016758, "body": "You don&#39;t need to post it twice I&#39;ve already seen that and explained why your answer is incorrect."}], "tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": false, "score": 0, "last_activity_date": 1576690744, "creation_date": 1576690744, "answer_id": 59397449, "question_id": 59397370, "link": "https://stackoverflow.com/questions/59397370/c-bruteforce-application-doesnt-print-anything-when-debugging-and-terminates-w/59397449#59397449", "title": "C# bruteforce application doesn&#39;t print anything when debugging and terminates when password is more than 1 letters long", "body": "<p>You get the <code>StackOverflowException</code> if you either got a Infinite Recursion, or at least something so big that Windows decides \"propably Infinite\" - and kills that line.</p>\n\n<p>You did not specify wich line the Exception is from, but recursions is in these two parts:</p>\n\n<pre><code>    foreach (string ch in Program.c)\n    {\n        Start(previous + ch);\n    }\n\n\n\n    for (char f = first; f &lt;= last; f++)\n    {\n        attempt = p + f;\n        CharForce(p + f);\n    }\n</code></pre>\n\n<p>Additionally your programm flow is utterly broken. You have several manual <code>Environment.Exit(0);</code>?</p>\n\n<p>If this is supposed to be Multitasking (wich it really should be), you propably should not be doing it in Console. For Learning Multitasking and in Particular Multithreading (for this one it might work), I usually advise for the BackgroundWorker in a WindowsForms application.</p>\n"}], "owner": {"reputation": 43, "user_id": 11267188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WbREK.jpg?s=128&g=1", "display_name": "xNPx3", "link": "https://stackoverflow.com/users/11267188/xnpx3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1576690744, "creation_date": 1576690425, "question_id": 59397370, "link": "https://stackoverflow.com/questions/59397370/c-bruteforce-application-doesnt-print-anything-when-debugging-and-terminates-w", "title": "C# bruteforce application doesn&#39;t print anything when debugging and terminates when password is more than 1 letters long", "body": "<p>I have made this \"bruteforce\" program, but when I run it using algorithm 2 and the password is more than 1 letter, it stops and says: <code>Process is terminating due to StackOverflowException.</code>\nAlso, when I try to debug this, it does not start and ask for the algorithm number. What do I do wrong? (I know the code is bad but you can still give me feedback and improvement ideas.)</p>\n\n<p>Using .NET Core on Linux and VSCode.</p>\n\n<pre><code>class Program\n{\n    static string chars = \"- -a-b-c-d-e-f-g-h-i-j-k-l-m-n-o-p-q-r-s-t-u-v-w-x-y-z-A-B-C-D-E-F-G-H-I-J-K-L-M-N-O-P-Q-R-S-T-U-V-W-X-Y-Z-0-1-2-3-4-5-6-7-8-9\";\n    static string[] c = chars.Split(\"-\");\n    static string password = \"\";\n    static string attempt = \"\";\n    static Stopwatch sw = new Stopwatch();\n    static int i_max_length = 1;\n\n    static char first = Char.Parse(Char.ConvertFromUtf32(32));\n    static char last = Char.Parse(Char.ConvertFromUtf32(126));\n\n    static void Main(string[] args)\n    {\n        Console.ForegroundColor = ConsoleColor.Magenta;\n        Console.Write(\"Algorithm: (1/2) \");\n        string algorithm = Console.ReadLine();\n        Console.Clear();\n\n        Console.ForegroundColor = ConsoleColor.Cyan;\n        Console.Write(\"Enter password: \");\n        password = Console.ReadLine();\n        Console.Clear();\n\n        Program.sw.Start();\n\n        if (algorithm == \"1\")\n        {\n            Start(\"\");\n        }\n        else if (algorithm == \"2\")\n        {\n            CharForce(\"\");\n        }\n    }\n    static void Start(string previous)\n    {\n        if (previous.Length &gt;= i_max_length)\n            return;\n\n        foreach (string ch in Program.c)\n        {\n            attempt = previous + ch;\n            //Console.WriteLine(\"{0}\", attempt);\n            if (attempt == password)\n            {\n                Program.sw.Stop();\n                TimeSpan time = sw.Elapsed;\n                Console.WriteLine(\"Password: {0}\", attempt);\n                Console.WriteLine(\"Time elapsed: {0}\", time.ToString());\n                Environment.Exit(0);\n            }\n        }\n\n        foreach (string ch in Program.c)\n        {\n            Start(previous + ch);\n        }\n    }\n    static void CharForce(string p)\n    {\n        if (attempt != password)\n        {\n            if (p.Length &gt;= i_max_length)\n                return;\n\n            for (char f = first; f &lt;= last; f++)\n            {\n                attempt = p + f;\n                CharForce(p + f);\n            }\n        }\n        else\n        {\n            Program.sw.Stop();\n            TimeSpan time = sw.Elapsed;\n            Console.WriteLine(\"Password: {0}\", attempt);\n            Console.WriteLine(\"Time elapsed: {0}\", time.ToString());\n            Environment.Exit(0);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 4, "creation_date": 1576692392, "post_id": 59397305, "comment_id": 104984717, "body": "You arent checking what the raycast hits, only that it hits something..."}, {"owner": {"reputation": 1, "user_id": 12464957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92aac41a6ecf507273ed30c26c6844b2?s=128&d=identicon&r=PG&f=1", "display_name": "TheSaviour", "link": "https://stackoverflow.com/users/12464957/thesaviour"}, "reply_to_user": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1576694320, "post_id": 59397305, "comment_id": 104985575, "body": "can you perhaps tell me how i can check that ?"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1576764100, "post_id": 59397305, "comment_id": 105009562, "body": "Besides doing the raycast twice is redundant and only wastes performance ;)"}], "answers": [{"tags": [], "owner": {"reputation": 894, "user_id": 2051159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a84ff255bf4e6c07b816d83001f7fb30?s=128&d=identicon&r=PG", "display_name": "Enfyve", "link": "https://stackoverflow.com/users/2051159/enfyve"}, "is_accepted": false, "score": 2, "last_activity_date": 1576707855, "last_edit_date": 1576707855, "creation_date": 1576694264, "answer_id": 59398240, "question_id": 59397305, "link": "https://stackoverflow.com/questions/59397305/let-a-enemy-attack-when-he-sees-the-player/59398240#59398240", "title": "Let a enemy attack when he sees the player", "body": "<p>Like @BugFinder mentioned, you are only checking that the <code>RayCast</code> did collide with <em>something</em> and not necessarily the player.</p>\n\n<p>If you want to determine if the ray is colliding with only the player, and not another object, use the function overload that sets a <code>RaycastHit</code> object. Then you can get the <code>tag</code> and compare it with the tag of your player. (see <a href=\"https://docs.unity3d.com/ScriptReference/Physics.Raycast.html\" rel=\"nofollow noreferrer\">Physics.RayCast</a> and <a href=\"https://docs.unity3d.com/ScriptReference/RaycastHit.html\" rel=\"nofollow noreferrer\">RaycastHit</a>)</p>\n\n<p>You could achieve this like so:</p>\n\n<pre><code>RaycastHit hitInfo;\nif(Physics.Raycast(Shootpoint.position, player.transform.position, out hitInfo, chaseDistence)) \n{\n    if (hitInfo.collider.CompareTag(\"player\"))\n    {\n        // Can see\n    }\n    else \n    {\n        // Can't see, raycast hit something\n    }\n}\nelse\n{\n    // Can't see, raycast hit nothing\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12464957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92aac41a6ecf507273ed30c26c6844b2?s=128&d=identicon&r=PG&f=1", "display_name": "TheSaviour", "link": "https://stackoverflow.com/users/12464957/thesaviour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576707855, "creation_date": 1576690160, "last_edit_date": 1576693267, "question_id": 59397305, "link": "https://stackoverflow.com/questions/59397305/let-a-enemy-attack-when-he-sees-the-player", "title": "Let a enemy attack when he sees the player", "body": "<p>Can someone help me I am using the code below to try to let the enemy look if he can see the player or not.</p>\n\n<p>But the problem is can he still see me when I am behind a wall\nCan someone help me out ?</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.AI;\nusing UnityEngine.SceneManagement;\n\npublic class Test : MonoBehaviour\n{\n    [SerializeField]\n    float distance;\n\n    public GameObject player;\n    public Transform Shootpoint;\n\n    public bool CanSee = false;\n\n    [SerializeField]\n    float chaseDistence = 0.5f;\n\n\n\n    void Update()\n    {\n        distance = Vector3.Distance(Shootpoint.position, player.transform.position);\n\n        if (!Physics.Raycast(Shootpoint.position, player.transform.position, chaseDistence))\n        {\n            Debug.DrawLine(Shootpoint.position, player.transform.position, Color.red);\n            CanSee = false;\n            Debug.Log(\"CANT SEE\");\n\n        }\n        else if (Physics.Raycast(Shootpoint.position, player.transform.position, chaseDistence))\n        {\n            Debug.DrawLine(Shootpoint.position, player.transform.position, Color.green);\n            CanSee = true;\n            Debug.Log(\"CAN SEE\");\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "winforms", "ms-access"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 2, "creation_date": 1576689968, "post_id": 59397206, "comment_id": 104983610, "body": "With a Microsoft Access database, your protection abilities are pretty limited."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1576690178, "post_id": 59397206, "comment_id": 104983719, "body": "Sharing an Access database on a network share is basically the least secure way of using a database.  Switching to a real RDBMS (such as SQL Server, Oracle, MySQL, etc.) is recommended for long-term development and security.  Access was designed to be a single-user, easy-to-use DB for simple projects, not as an enterprise system."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12560242, "user_type": "registered", "profile_image": "https://graph.facebook.com/428891831325160/picture?type=large", "display_name": "Ahmed Alzaed", "link": "https://stackoverflow.com/users/12560242/ahmed-alzaed"}, "edited": false, "score": 0, "creation_date": 1576691561, "post_id": 59397340, "comment_id": 104984370, "body": "Right but Are there way I can use Access?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 1, "user_id": 12560242, "user_type": "registered", "profile_image": "https://graph.facebook.com/428891831325160/picture?type=large", "display_name": "Ahmed Alzaed", "link": "https://stackoverflow.com/users/12560242/ahmed-alzaed"}, "edited": false, "score": 0, "creation_date": 1576691628, "post_id": 59397340, "comment_id": 104984397, "body": "@AhmedAlzaed Not securely, no.  That&#39;s why you have several people suggesting you switch to a &quot;real&quot; database system."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 1, "user_id": 12560242, "user_type": "registered", "profile_image": "https://graph.facebook.com/428891831325160/picture?type=large", "display_name": "Ahmed Alzaed", "link": "https://stackoverflow.com/users/12560242/ahmed-alzaed"}, "edited": false, "score": 0, "creation_date": 1576691821, "post_id": 59397340, "comment_id": 104984470, "body": "@AhmedAlzaed It should be easy to import the existing Data in the DB Server. MS SQL propably has a function for that. Or access should be able to export as CSV."}], "tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": false, "score": 1, "last_activity_date": 1576690806, "last_edit_date": 1576690806, "creation_date": 1576690325, "answer_id": 59397340, "question_id": 59397206, "link": "https://stackoverflow.com/questions/59397206/product-database-and-application/59397340#59397340", "title": "Product Database and Application", "body": "<p>MS Access is designed to be slightly better then storing this stuff in Excel Tables, but not so good it will ruin the MS Business with SQL Server. If anything, it is about getting you \"hooked on\" using Databases.</p>\n\n<p>I think this project plainly went past the scale that Access can support. You need to go to a proper Database Server to go any further - user rights included. SQL Server Express and MySQL should both be avalible and free of charge. And of course there are tons of other Options.</p>\n"}], "owner": {"reputation": 1, "user_id": 12560242, "user_type": "registered", "profile_image": "https://graph.facebook.com/428891831325160/picture?type=large", "display_name": "Ahmed Alzaed", "link": "https://stackoverflow.com/users/12560242/ahmed-alzaed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "closed_date": 1576691005, "answer_count": 1, "score": -2, "last_activity_date": 1576690806, "creation_date": 1576689718, "last_edit_date": 1576690067, "question_id": 59397206, "link": "https://stackoverflow.com/questions/59397206/product-database-and-application", "closed_reason": "Needs details or clarity", "title": "Product Database and Application", "body": "<p>I have simple application design it by C# (windows form application) and the database is Microsoft Access, it work with multi users.</p>\n\n<p>We have Share Drive in our PC ,I put the application and database on the share drive.</p>\n\n<p>How can I protect the application and the database from the users until they do not delete or open it?</p>\n"}, {"tags": ["c#", "android", "xamarin", "xamarin.android"], "answers": [{"tags": [], "owner": {"reputation": 7502, "user_id": 6717445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZcOO7.jpg?s=128&g=1", "display_name": "Cherry Bu - MSFT", "link": "https://stackoverflow.com/users/6717445/cherry-bu-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1576723677, "creation_date": 1576723677, "answer_id": 59402672, "question_id": 59397146, "link": "https://stackoverflow.com/questions/59397146/how-can-i-implement-a-swipe-left-right-in-xamarin-android/59402672#59402672", "title": "How can I implement a swipe left/right in Xamarin.Android?", "body": "<p>According to your description, you want to implement swipe function in xamarin.android, I do one sample that you can take a look:</p>\n\n<pre><code>&lt;LinearLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:minWidth=\"25px\"\nandroid:minHeight=\"25px\"\nandroid:gravity=\"center\"&gt;\n\n&lt;Button\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"swap\"\n    android:id=\"@+id/button1\"\n    android:layout_gravity=\"center\" /&gt;\n&lt;/LinearLayout&gt;\n\n private Button btn1;\n    protected override void OnCreate(Bundle savedInstanceState)\n    {\n        base.OnCreate(savedInstanceState);\n        Xamarin.Essentials.Platform.Init(this, savedInstanceState);\n        // Set our view from the \"main\" layout resource\n        SetContentView(Resource.Layout.activity_main);\n\n        btn1 = FindViewById&lt;Button&gt;(Resource.Id.button1);\n        btn1.SetOnTouchListener(new OnSwipeTouchListener(this));\n\n    }\n\n  public class OnSwipeTouchListener : Java.Lang.Object , View.IOnTouchListener\n{\n    private  GestureDetector gestureDetector;\n   public OnSwipeTouchListener(Context ctx)\n    {\n        gestureDetector = new GestureDetector(ctx, new GestureListener());\n    }\n\n    public bool OnTouch(View v, MotionEvent e)\n    {\n        return gestureDetector.OnTouchEvent(e);\n    }\n}\npublic class GestureListener : GestureDetector.SimpleOnGestureListener\n{\n    private static  int SWIPE_THRESHOLD = 100;\n    private static  int SWIPE_VELOCITY_THRESHOLD = 100;\n    public override bool OnFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY)\n    {\n        // TODO\n        bool result = false;\n        try\n        {\n            float diffY = e2.GetY() - e1.GetY();\n            float diffX = e2.GetX() - e1.GetX();\n            if (Math.Abs(diffX) &gt; Math.Abs(diffY))\n            {\n                if (Math.Abs(diffX) &gt; SWIPE_THRESHOLD &amp;&amp; Math.Abs(velocityX) &gt; SWIPE_VELOCITY_THRESHOLD)\n                {\n                    if (diffX &gt; 0)\n                    {\n                        onSwipeRight();\n                    }\n                    else\n                    {\n                        onSwipeLeft();\n                    }\n                    result = true;\n                }\n            }\n            else if (Math.Abs(diffY) &gt; SWIPE_THRESHOLD &amp;&amp; Math.Abs(velocityY) &gt; SWIPE_VELOCITY_THRESHOLD)\n            {\n                if (diffY &gt; 0)\n                {\n                    onSwipeBottom();\n                }\n                else\n                {\n                    onSwipeTop();\n                }\n                result = true;\n            }\n        }\n        catch (Exception exception)\n        {\n            _ = exception.StackTrace;\n        }\n        return result;\n\n    }\n    public void onSwipeRight()\n    {\n        Toast.MakeText(Application.Context, \"right\", ToastLength.Short).Show();\n    }\n    public void onSwipeLeft()\n    {\n        Toast.MakeText(Application.Context, \"left\", ToastLength.Short).Show();\n    }\n    public void onSwipeTop()\n    {\n        Toast.MakeText(Application.Context, \"top\", ToastLength.Short).Show();\n    }\n    public void onSwipeBottom()\n    {\n        Toast.MakeText(Application.Context, \"up\", ToastLength.Short).Show();\n    }\n\n\n}\n</code></pre>\n\n<p>The Screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/H5dFU.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H5dFU.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 3, "user_id": 12469288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4a9af20a35b45d729cb0396a80fc506?s=128&d=identicon&r=PG&f=1", "display_name": "charp", "link": "https://stackoverflow.com/users/12469288/charp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 59402672, "answer_count": 1, "score": 0, "last_activity_date": 1576723677, "creation_date": 1576689479, "question_id": 59397146, "link": "https://stackoverflow.com/questions/59397146/how-can-i-implement-a-swipe-left-right-in-xamarin-android", "title": "How can I implement a swipe left/right in Xamarin.Android?", "body": "<p>I'm new to Xamarin Android.\nI would like to implement a swipe left/right in a Linear Layout.</p>\n\n<p>So for example:</p>\n\n<ul>\n<li>When swipping left --> method \"Open()\"</li>\n<li>When swipping right --> methode \"Close()\"</li>\n</ul>\n\n<p>My code:</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:orientation=\"vertical\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;ImageView\n    android:src=\"@drawable/reddoor\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"230dp\"\n    android:id=\"@+id/imgDoor\"\n    android:layout_marginTop=\"50px\"\n    android:layout_alignParentBottom=\"false\"\n    android:layout_alignParentEnd=\"false\"\n    android:layout_alignParentLeft=\"true\"\n    android:foregroundGravity=\"fill\"\n    android:layout_marginRight=\"0.0dp\" /&gt;\n\n&lt;Button\n    android:text=\"Open\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"50dp\"\n    android:id=\"@+id/btnOpenDoor\" /&gt;\n&lt;Button\n    android:text=\"Close\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"50dp\"\n    android:id=\"@+id/btnCloseDoor\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>How do I implement this? I searched but I just found something for Xamarin.Forms but I need Xamarin.Android. Can someon help pls?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "edited": false, "score": 2, "creation_date": 1576689898, "post_id": 59397031, "comment_id": 104983576, "body": "What reflection you are talking here? I do not see any code that makes use of reflection."}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576690045, "post_id": 59397031, "comment_id": 104983654, "body": "Use option 1. Don&#39;t even bother with option 2 because you just made a mess of things for no reason, even if you can do option 2."}, {"owner": {"reputation": 81, "user_id": 2455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247607d8960f538f35cea29b0a92e716?s=128&d=identicon&r=PG", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/2455110/ricardo"}, "reply_to_user": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "edited": false, "score": 1, "creation_date": 1576690060, "post_id": 59397031, "comment_id": 104983660, "body": "@sam 1, I&#39;m not using reflection and I&#39;m trying to achieve a solution that also doesn&#39;t use."}, {"owner": {"reputation": 3522, "user_id": 4964791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aVT1l.jpg?s=128&g=1", "display_name": "RamblinRose", "link": "https://stackoverflow.com/users/4964791/ramblinrose"}, "edited": false, "score": 0, "creation_date": 1576690113, "post_id": 59397031, "comment_id": 104983688, "body": "You have to use reflection to determine default parameter values - Option 1 is best."}, {"owner": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "edited": false, "score": 0, "creation_date": 1576690115, "post_id": 59397031, "comment_id": 104983691, "body": "@Ricardo thanks for confirming. Do you want to use param2 when param1 is null or empty? Please confirm."}, {"owner": {"reputation": 81, "user_id": 2455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247607d8960f538f35cea29b0a92e716?s=128&d=identicon&r=PG", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/2455110/ricardo"}, "reply_to_user": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "edited": false, "score": 0, "creation_date": 1576690431, "post_id": 59397031, "comment_id": 104983837, "body": "@sam, that&#39;s it! Supoose I don&#39;t know what&#39;s the default value (&quot;A&quot; in this case): I want to use param2 whenever param1 is null or empty."}, {"owner": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "edited": false, "score": 0, "creation_date": 1576690515, "post_id": 59397031, "comment_id": 104983881, "body": "@Ricardo when it is empty, then param2 value will not be used. Please see my updated answer"}, {"owner": {"reputation": 43473, "user_id": 86473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b4f6c773b0fc5997b76e736fef9330c?s=128&d=identicon&r=PG", "display_name": "JP Alioto", "link": "https://stackoverflow.com/users/86473/jp-alioto"}, "edited": false, "score": 0, "creation_date": 1576691374, "post_id": 59397031, "comment_id": 104984294, "body": "The question does not make sense.  You&#39;ve already defined the type of param1 as string.  Thus, you know the default value (i.e. &quot;&quot;).  If you want to have the type of param1 be variable, you would have to make the function generic and then you could use default(T) for the default value of the unknown type of the parameter."}, {"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1576691402, "post_id": 59397031, "comment_id": 104984303, "body": "The option 1 looks just fine"}, {"owner": {"reputation": 81, "user_id": 2455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247607d8960f538f35cea29b0a92e716?s=128&d=identicon&r=PG", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/2455110/ricardo"}, "reply_to_user": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1576691578, "post_id": 59397031, "comment_id": 104984379, "body": "@Pavel Anikhouski you are right, option 1 is ok. I just wanted to know if option 2 was possible."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1576691662, "post_id": 59397031, "comment_id": 104984410, "body": "Ideally, <code>Function2</code> should be the place to handle this case: <code>if (string.IsNullOrEmpty(param2)) param2 = &quot;A&quot;;</code>"}, {"owner": {"reputation": 81, "user_id": 2455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247607d8960f538f35cea29b0a92e716?s=128&d=identicon&r=PG", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/2455110/ricardo"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1576692128, "post_id": 59397031, "comment_id": 104984587, "body": "Thanks @RufusL . As I said, just wanted to know if it was possible, but probably not. No problem :)"}, {"owner": {"reputation": 81, "user_id": 2455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247607d8960f538f35cea29b0a92e716?s=128&d=identicon&r=PG", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/2455110/ricardo"}, "reply_to_user": {"reputation": 43473, "user_id": 86473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b4f6c773b0fc5997b76e736fef9330c?s=128&d=identicon&r=PG", "display_name": "JP Alioto", "link": "https://stackoverflow.com/users/86473/jp-alioto"}, "edited": false, "score": 0, "creation_date": 1576765905, "post_id": 59397031, "comment_id": 105010594, "body": "@JPAlioto, Sorry, but you didn&#39;t understood what I&#39;m asking. It doesn&#39;t matter it is a string or anything else, and it&#39;s also not about param1. I would like to know if there&#39;s a way to know that param2 has a default value of &quot;A&quot;, that I can call function2 using param2 default value (&quot;A&quot;) using some code like option 2 above. But OK, I quit, I&#39;ll do it like Option 1."}, {"owner": {"reputation": 43473, "user_id": 86473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b4f6c773b0fc5997b76e736fef9330c?s=128&d=identicon&r=PG", "display_name": "JP Alioto", "link": "https://stackoverflow.com/users/86473/jp-alioto"}, "edited": false, "score": 0, "creation_date": 1576857459, "post_id": 59397031, "comment_id": 105042146, "body": "@Ricardo Yes, I understand completely. My point is that there is no purpose for such an operator.  If you know the type, you know the type, if you don&#39;t know the type, then it&#39;s default(T) and if you must ascertain the type at runtime there is reflection."}], "answers": [{"comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1576689878, "post_id": 59397205, "comment_id": 104983563, "body": "In neither of these cases will the default value of <code>param2</code> (<code>&quot;A&quot;</code>) be used. If you specify an argument to the method, that value will be used."}, {"owner": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1576690006, "post_id": 59397205, "comment_id": 104983628, "body": "Per my understanding of the question, default_param_value needs to be used instead of param2. (not worrying about what&#39;s defined in Function2 header).. Please read the question before updating"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1576690245, "post_id": 59397205, "comment_id": 104983745, "body": "The OP states <i>&quot;not worrying about what&#39;s defined in Function2 header&quot;</i>, which indicates that there is no way to set <code>default_param_value</code> to the correct value. Maybe I&#39;m misreading it? But in any case, the default value of the parameter is defined in the method: <code>string param2 = &quot;A&quot;</code>. It will not be used if you pass in a value."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1576690495, "post_id": 59397205, "comment_id": 104983870, "body": "Hopefully the OP can jump in here, because he already has sample code in <code>&#47;&#47; OPTION 2</code> that does what this answer suggests (it&#39;s literally what you have in the second code block, only more concise), which is what&#39;s leading me to believe it&#39;s not correct. There is no way to set <code>default_param_value</code> to the correct value without &quot;worrying about what&#39;s defined in Function2 header&quot;. If you show how you set <code>default_param_value</code> without using reflection, that would probably be the answer."}, {"owner": {"reputation": 81, "user_id": 2455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247607d8960f538f35cea29b0a92e716?s=128&d=identicon&r=PG", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/2455110/ricardo"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1576690902, "post_id": 59397205, "comment_id": 104984059, "body": "@Rufus, you are right. default_param_value does not exists, it&#39;s not a variable. I would like to know if there&#39;s something like this pseudo keyword. The first part of this answer only works if param1 is null, but if it&#39;s empty, MessageBox will show &quot;&quot;, and I would like it to show &quot;A&quot;."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1576690944, "post_id": 59397205, "comment_id": 104984077, "body": "@sam Your edit is incorrect - if you pass <code>null</code> as the argument value, then <code>null</code> will be used. If you don&#39;t specify anything, <i>then</i> the default value will be used."}, {"owner": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "edited": false, "score": 0, "creation_date": 1576690947, "post_id": 59397205, "comment_id": 104984080, "body": "@Richardo, please use second option in my answer."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 2, "creation_date": 1576691005, "post_id": 59397205, "comment_id": 104984105, "body": "Please test your answer...it does not work the way you think it does."}, {"owner": {"reputation": 81, "user_id": 2455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247607d8960f538f35cea29b0a92e716?s=128&d=identicon&r=PG", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/2455110/ricardo"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1576691169, "post_id": 59397205, "comment_id": 104984191, "body": "@Rufus L, your aboslutely right, null will be used instead of &quot;A&quot; in this case. The second option in this answer does not work."}], "tags": [], "owner": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "is_accepted": false, "score": -1, "last_activity_date": 1576695524, "last_edit_date": 1576695524, "creation_date": 1576689715, "answer_id": 59397205, "question_id": 59397031, "link": "https://stackoverflow.com/questions/59397031/conditional-use-of-a-parameter-defaults-value-without-reflection/59397205#59397205", "title": "Conditional use of a parameter default&#39;s value, without reflection", "body": "<p>UPDATE using action delegates:</p>\n\n<pre><code>private void Function2(string param2 = \"A\")\n{\n    // no-op\n    Console.WriteLine($\"Param2 = {param2}\");\n}\n\nprivate void Function1(string param1)\n{\n    var actionsDictionary = new Dictionary&lt;bool, Action&lt;string&gt;&gt;\n    {\n        { false, this.Function2 },\n        { true, (p) =&gt; { this.Function2(); } }\n    };\n\n    actionsDictionary[string.IsNullOrWhiteSpace(param1)](param1);\n}\n\n[TestMethod]\npublic void TestNow()\n{\n    Console.WriteLine(\"Begin invoking Function1 with different params\");\n    Function1(null);\n    Function1(String.Empty);\n    Function1(\"        \");\n    Function1(\"Some Value\");\n    Console.WriteLine(\"End invoking Function1 with different params\");\n}\n</code></pre>\n\n<p><strong>And this is the test method output:</strong></p>\n\n<blockquote>\n  <p>Test Name:    TestNow</p>\n  \n  <p>Test Outcome: Passed</p>\n  \n  <p>Result StandardOutput:    </p>\n  \n  <p>Begin invoking Function1 with different params</p>\n  \n  <p>Param2 = A</p>\n  \n  <p>Param2 = A</p>\n  \n  <p>Param2 = A</p>\n  \n  <p>Param2 = Some Value</p>\n  \n  <p>End invoking Function1 with different params</p>\n</blockquote>\n\n<p>You can scratch the below answer.</p>\n\n<p>Default values will be used only if the respective data type's default value is not supplied. In your case Funciton2 takes string data type for which default value is null. So, \"A\" will only be used when Function2 receives null.</p>\n\n<ul>\n<li>If you are sure that param1 will never have empty string (like \"\" or \"   \"), then you could simply call </li>\n</ul>\n\n<blockquote>\n<pre><code>Function2(param1)\n</code></pre>\n</blockquote>\n\n<ul>\n<li>If param1 may contain empty string or spaces then in this case,\nFunction2's default value will not be taken. So,</li>\n</ul>\n\n<blockquote>\n<pre><code>if (string.IsNullOrWhiteSpace(param1))\n{\n    param1 = null;\n}\nFunction2(param1)\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 81, "user_id": 2455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247607d8960f538f35cea29b0a92e716?s=128&d=identicon&r=PG", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/2455110/ricardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1576695524, "creation_date": 1576689026, "question_id": 59397031, "link": "https://stackoverflow.com/questions/59397031/conditional-use-of-a-parameter-defaults-value-without-reflection", "title": "Conditional use of a parameter default&#39;s value, without reflection", "body": "<p>just out of curiosity, I would like to know if it's possible to conditionally use a default parameter value to call a function or not. It's easier to explain with an example:</p>\n\n<pre><code>    private void Function1(string param1)\n    {\n        // OPTION 1\n        // I can do it this way: if param is null or empty, use the Function2 default value\n        if (string.IsNullOrEmpty(param1))\n        {\n            Function2();\n        }\n        else\n        {\n            Function2(param1);\n        }\n\n        // OPTION 2\n        // Can I replace above code with this pseudo code?\n        // If param is empty, use Function2 default parameter value? In this case, default_param_value = A\n        Function2(string.IsNullOrEmpty(param1) ? default_param_value : param1);\n    }\n\n    private void Function2(string param2 = \"A\")\n    {\n        MessageBox.Show(param2);\n    }\n</code></pre>\n\n<p>Without using Reflection, can I call Function2 with a defined value or the default parameter value, not worrying about what's defined in Function2 header (using something like this pseudo keyword default_param_value)? Is there a way to achieve option 2 above?</p>\n\n<p>Thanks a lot.</p>\n"}, {"tags": ["c#", "httpclient"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576688970, "post_id": 59396913, "comment_id": 104983132, "body": "Exception handling is a pet peeve of mine. You have <code>catch (Exception e)</code> in that code, wich is a cardinal sin of Exception handling. And if you got it here, you might get it in other places too. Like the other programm or even the Service you ar accessing. There are two articles on the mater I link often: <a href=\"https://blogs.msdn.microsoft.com/ericlippert/2008/09/10/vexing-exceptions/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/ericlippert/2008/09/10/&hellip;</a> | <a href=\"https://www.codeproject.com/Articles/9538/Exception-Handling-Best-Practices-in-NET\" rel=\"nofollow noreferrer\">codeproject.com/Articles/9538/&hellip;</a>"}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576689019, "post_id": 59396913, "comment_id": 104983156, "body": "It could be a Networking propblem. The general rules is that the Network related classes do not care if the other end is on the same Computer, the same switch or the Voyager 2 Probe. If it works against localhost but not anywhere else, it is a Networking problem."}, {"owner": {"reputation": 1, "user_id": 12438707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7436e7889ed1df4427726975b2e92d5?s=128&d=identicon&r=PG&f=1", "display_name": "DanCDS", "link": "https://stackoverflow.com/users/12438707/dancds"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576689333, "post_id": 59396913, "comment_id": 104983300, "body": "Well that&#39;s what I am thinking. We can access the device on the other end of that link fine, if running vs on Mac, the app on iOS or android. but CAN&#39;T run it on vs for windows. Could this be an issue anywhere? For the record, I have tried it on 2 windows machines on the local network, and a windows machine at home, all of which had the same error."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576689884, "post_id": 59396913, "comment_id": 104983568, "body": "If it does not work on Windows but it does work on mac, it is propably the service rejecting it if there is any sign of Windows. Apple Systems are the ones prone to not talk with non-Apple. | There is a off-chance that it is the Windows Firefall. But then the error should be a &quot;can not reach&quot; rather then Unauthorized. You need to look in the service you are trying to access."}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1576690665, "post_id": 59396913, "comment_id": 104983940, "body": "Do you have proxy server setup in your network? It&#39;s possible the un-authorized exception is coming from proxy server and not from the actual service."}, {"owner": {"reputation": 1, "user_id": 12438707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7436e7889ed1df4427726975b2e92d5?s=128&d=identicon&r=PG&f=1", "display_name": "DanCDS", "link": "https://stackoverflow.com/users/12438707/dancds"}, "edited": false, "score": 0, "creation_date": 1576691048, "post_id": 59396913, "comment_id": 104984133, "body": "There isn&#39;t a proxy server, the device I am trying to connect to is like a mini server connected to a device running in the office, it is connected to our network via ethernet cable.  There isn&#39;t an exception either, it runs through the code fine, and returns the string &quot;Unauthorised&quot;. In a piece of code which I have removed from this snippet, I am debugging a serialised version of the result object so I can view the auth etc, but it all seems fine there?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12438707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7436e7889ed1df4427726975b2e92d5?s=128&d=identicon&r=PG&f=1", "display_name": "DanCDS", "link": "https://stackoverflow.com/users/12438707/dancds"}, "edited": false, "score": 0, "creation_date": 1576690567, "post_id": 59397294, "comment_id": 104983908, "body": "we have two urls, one is an internal url, the other is an external url, which is how I can access it when away from the office &amp; network. on every other platform apart from vs for windows, BOTH urls work fine."}, {"owner": {"reputation": 1, "user_id": 12438707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7436e7889ed1df4427726975b2e92d5?s=128&d=identicon&r=PG&f=1", "display_name": "DanCDS", "link": "https://stackoverflow.com/users/12438707/dancds"}, "edited": false, "score": 0, "creation_date": 1576690607, "post_id": 59397294, "comment_id": 104983922, "body": "In terms of the firewall, vs and vs debugger is allowed, but I will try adding the inbound wall now. Thanks."}, {"owner": {"reputation": 11, "user_id": 10670332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae57c88356bde0ccd3308e3b003286a?s=128&d=identicon&r=PG&f=1", "display_name": "Giorgos", "link": "https://stackoverflow.com/users/10670332/giorgos"}, "reply_to_user": {"reputation": 1, "user_id": 12438707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7436e7889ed1df4427726975b2e92d5?s=128&d=identicon&r=PG&f=1", "display_name": "DanCDS", "link": "https://stackoverflow.com/users/12438707/dancds"}, "edited": false, "score": 0, "creation_date": 1576693226, "post_id": 59397294, "comment_id": 104985091, "body": "The inbound rule should be on your server (in this case in your device with IP 192.168.8.193)."}, {"owner": {"reputation": 1, "user_id": 12438707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7436e7889ed1df4427726975b2e92d5?s=128&d=identicon&r=PG&f=1", "display_name": "DanCDS", "link": "https://stackoverflow.com/users/12438707/dancds"}, "edited": false, "score": 0, "creation_date": 1576749683, "post_id": 59397294, "comment_id": 105002344, "body": "I&#39;m not sure if that is possible to be honest. Its a VERY old java device which is connected to the network, it doesn&#39;t have an accessible interface or anything like that. But even if it did require inbound rules, it works on every other device bar windows so that wouldn&#39;t be correct anyway?"}], "tags": [], "owner": {"reputation": 11, "user_id": 10670332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae57c88356bde0ccd3308e3b003286a?s=128&d=identicon&r=PG&f=1", "display_name": "Giorgos", "link": "https://stackoverflow.com/users/10670332/giorgos"}, "is_accepted": false, "score": 0, "last_activity_date": 1601378478, "last_edit_date": 1601378478, "creation_date": 1576690113, "answer_id": 59397294, "question_id": 59396913, "link": "https://stackoverflow.com/questions/59396913/401-unauthorised-error-from-one-device-but-success-from-another-device/59397294#59397294", "title": "401 Unauthorised error from one device but success from another device", "body": "<blockquote>\n<p>The URL in question that doesn't work is <a href=\"http://192.168.8.193/get.cgi?id=26&amp;sid=255\" rel=\"nofollow noreferrer\">http://192.168.8.193/get.cgi?id=26&amp;sid=255</a>.</p>\n</blockquote>\n<p>First of all, I think you are missing the port in your URL. It should be something like <a href=\"http://192.168.8.193:5000/get.cgi?id=26&amp;sid=255\" rel=\"nofollow noreferrer\">http://192.168.8.193:5000/get.cgi?id=26&amp;sid=255</a>.</p>\n<p>Edit: This is something I got wrong. You can perfectly have a URL without a specific port.</p>\n<p>Secondly, your firewall may be blocking the connection between your projects, if they are running in different devices. You can try adding an inbound rule following <a href=\"https://docs.microsoft.com/en-us/windows/security/threat-protection/windows-firewall/create-an-inbound-port-rule\" rel=\"nofollow noreferrer\">this article</a> for Windows 10 (it is somewhat similar in other versions of windows as well).</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12438707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7436e7889ed1df4427726975b2e92d5?s=128&d=identicon&r=PG&f=1", "display_name": "DanCDS", "link": "https://stackoverflow.com/users/12438707/dancds"}, "is_accepted": false, "score": 0, "last_activity_date": 1576844480, "creation_date": 1576844480, "answer_id": 59425184, "question_id": 59396913, "link": "https://stackoverflow.com/questions/59396913/401-unauthorised-error-from-one-device-but-success-from-another-device/59425184#59425184", "title": "401 Unauthorised error from one device but success from another device", "body": "<p>Sacked this off. Rewrote the project in Xamarin UWP. Worked perfectly first time. </p>\n"}], "owner": {"reputation": 1, "user_id": 12438707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7436e7889ed1df4427726975b2e92d5?s=128&d=identicon&r=PG&f=1", "display_name": "DanCDS", "link": "https://stackoverflow.com/users/12438707/dancds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1601378478, "creation_date": 1576688572, "question_id": 59396913, "link": "https://stackoverflow.com/questions/59396913/401-unauthorised-error-from-one-device-but-success-from-another-device", "title": "401 Unauthorised error from one device but success from another device", "body": "<p>I am creating an application in Xamarin Forms for iOS and android. In VS, the test code works perfectly every time, with a response code of \"OK\" (200). However, in another little project which will work alongside the mobile apps (written in windows forms (.NET)), the EXACT same code, username, password, url, returns error \"Unauthorised\" (401).</p>\n\n<p>The url in question that doesn't work is <a href=\"http://192.168.8.193/get.cgi?id=26&amp;sid=255\" rel=\"nofollow noreferrer\">http://192.168.8.193/get.cgi?id=26&amp;sid=255</a>.\nBUT\nanother url of similar function DOES work: <a href=\"http://-Hidden-/get.cgi?id=26&amp;sid=255\" rel=\"nofollow noreferrer\">http://-Hidden-/get.cgi?id=26&amp;sid=255</a>.</p>\n\n<pre><code>public static async Task&lt;string&gt; TestConnection(string url, string username, string password)\n        {\n            url = url + PanelCommands.GET_URL + PanelCommands.CONNECT_URL;\n\n            if (GetInternetConnectivity())\n            { \n\n                NetworkCredential credential = new NetworkCredential { UserName = username, Password = password };\n\n                HttpClientHandler handler = new HttpClientHandler { Credentials = credential };\n                HttpClient client = new HttpClient(handler);\n                client.Timeout = new TimeSpan(0, 0, 10);                \n\n                try\n                {\n                    var response = await client.GetAsync(url).ConfigureAwait(false);\n\n                    return response.StatusCode.ToString();\n                }\n                catch (Exception e)\n                {\n                    Debug.WriteLine(e);\n                    return \"Failed\";\n                }\n            }\n\n</code></pre>\n\n<p>I have tried pre-authenticating, adding authentication headers, etc. But nothing seems to work.</p>\n\n<p>Any help would be appreciated,</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "asp.net", ".net-core", "entity-framework-core", "ef-core-2.2"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576689894, "post_id": 59396866, "comment_id": 104983574, "body": "Load it into memory before working on the variable."}, {"owner": {"reputation": 11, "user_id": 5057006, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FpO6RNYrdec/AAAAAAAAAAI/AAAAAAAAAFY/Ea_6JSmHii8/photo.jpg?sz=128", "display_name": "Javier Goldman", "link": "https://stackoverflow.com/users/5057006/javier-goldman"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576776840, "post_id": 59396866, "comment_id": 105016317, "body": "if i load it into memory, the query will load the complete entity instead of only what i need"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5057006, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FpO6RNYrdec/AAAAAAAAAAI/AAAAAAAAAFY/Ea_6JSmHii8/photo.jpg?sz=128", "display_name": "Javier Goldman", "link": "https://stackoverflow.com/users/5057006/javier-goldman"}, "edited": false, "score": 0, "creation_date": 1576778092, "post_id": 59401681, "comment_id": 105016800, "body": "ToSelectObjDTO is giving me an error saying &quot;IEnumerable&lt;Persons&gt; does not contain a definition for &#39;Select&#39;&quot;(dunno why). works if i use IQueryable instead of IEnumerable, though, but i kinda need it to work in IEnumerable so i can use it in both cases"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "reply_to_user": {"reputation": 11, "user_id": 5057006, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FpO6RNYrdec/AAAAAAAAAAI/AAAAAAAAAFY/Ea_6JSmHii8/photo.jpg?sz=128", "display_name": "Javier Goldman", "link": "https://stackoverflow.com/users/5057006/javier-goldman"}, "edited": false, "score": 0, "creation_date": 1576778894, "post_id": 59401681, "comment_id": 105017138, "body": "@JavierGoldman Because you can&#39;t run in memory operations on a linq statement like that, it doesn&#39;t know how to translate that to sql. That&#39;s why I suggested working with it in memory."}, {"owner": {"reputation": 11, "user_id": 5057006, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FpO6RNYrdec/AAAAAAAAAAI/AAAAAAAAAFY/Ea_6JSmHii8/photo.jpg?sz=128", "display_name": "Javier Goldman", "link": "https://stackoverflow.com/users/5057006/javier-goldman"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576801196, "post_id": 59401681, "comment_id": 105024213, "body": "@Train if i use the operation inside the statement without calling a different function, it works flawlessly. the same if i do what Jeremy said with IQueryable(which is still a query, so it&#39;s not in memory).IQueryable inherits from IEnumerable so i dont get why it doesnt work like that. I might be wrong but as far as i know it&#39;s pretty important for performance in an EF query to only get the columns you need from the DB. Specially considering i&#39;m getting data from the Users entity, if i don&#39;t do this, i&#39;ll not only get the whole Persons entity data, but also all data from related Users"}, {"owner": {"reputation": 4650, "user_id": 4139809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950022a8882128ae019d3c0bda011723?s=128&d=identicon&r=PG", "display_name": "Jeremy Lakeman", "link": "https://stackoverflow.com/users/4139809/jeremy-lakeman"}, "edited": false, "score": 0, "creation_date": 1576801836, "post_id": 59401681, "comment_id": 105024329, "body": "Oops, IQueryable. Updated. Of course you can use the compiled selector on an IEnumerable."}, {"owner": {"reputation": 11, "user_id": 5057006, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FpO6RNYrdec/AAAAAAAAAAI/AAAAAAAAAFY/Ea_6JSmHii8/photo.jpg?sz=128", "display_name": "Javier Goldman", "link": "https://stackoverflow.com/users/5057006/javier-goldman"}, "edited": false, "score": 0, "creation_date": 1576809847, "post_id": 59401681, "comment_id": 105025641, "body": "what i meant in my first comment is that i wanted to use it in IEnumerable but cant because i&#39;m getting this error: &#39;IEnumerable&lt;Persons&gt;&#39; does not contain a definition for &#39;Select&#39; and the best extension method overload &#39;Queryable.Select&lt;Persons, SelectObjDTO&gt;(IQueryable&lt;Persons&gt;, Expression&lt;Func&lt;Persons, SelectObjDTO&gt;&gt;)&#39; requires a receiver of type &#39;IQueryable&lt;Persons&gt;&#39; EDIT: My bad, the one i tried to use is not the compiled one. i&#39;m trying to use ToSelectObjDTO as it was before (with IEnumerable both in the parameter and the return type)"}, {"owner": {"reputation": 11, "user_id": 5057006, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FpO6RNYrdec/AAAAAAAAAAI/AAAAAAAAAFY/Ea_6JSmHii8/photo.jpg?sz=128", "display_name": "Javier Goldman", "link": "https://stackoverflow.com/users/5057006/javier-goldman"}, "edited": false, "score": 0, "creation_date": 1576844901, "post_id": 59401681, "comment_id": 105036549, "body": "Forgot to clarify, the reason i need it to work with IEnumerable is for one to many relationships which are ICollection"}, {"owner": {"reputation": 11, "user_id": 5057006, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FpO6RNYrdec/AAAAAAAAAAI/AAAAAAAAAFY/Ea_6JSmHii8/photo.jpg?sz=128", "display_name": "Javier Goldman", "link": "https://stackoverflow.com/users/5057006/javier-goldman"}, "edited": false, "score": 0, "creation_date": 1576848678, "post_id": 59401681, "comment_id": 105038167, "body": "It seems like the problem is that IEnumerable works with Func instead of Expression"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576854777, "post_id": 59401681, "comment_id": 105040976, "body": "Sorry maybe I should have clarified. When you work with <code>IEnuemerable</code>, it doesn&#39;t filter in the database side like <code>IQueriable</code>. When you call .select on <code>IEnuemerable</code> It pulls in all the rows from the db and then executes the filtering on the server. Currently <code>Query.Select(POCO =&gt; POCO.ToSelectObjDTO());</code> calls it on IEnumerable. That&#39;s where I made the mistake, I thought you wanted that in memory so I suggested just loading it into memory with <code>ToList()</code> and working with it like that."}, {"owner": {"reputation": 11, "user_id": 5057006, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FpO6RNYrdec/AAAAAAAAAAI/AAAAAAAAAFY/Ea_6JSmHii8/photo.jpg?sz=128", "display_name": "Javier Goldman", "link": "https://stackoverflow.com/users/5057006/javier-goldman"}, "edited": false, "score": 0, "creation_date": 1577052252, "post_id": 59401681, "comment_id": 105079351, "body": "Well, got it working using AsQueryable(), but i cant mark this as an answer, as i need it to work with IEnumerable."}, {"owner": {"reputation": 4650, "user_id": 4139809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950022a8882128ae019d3c0bda011723?s=128&d=identicon&r=PG", "display_name": "Jeremy Lakeman", "link": "https://stackoverflow.com/users/4139809/jeremy-lakeman"}, "edited": false, "score": 0, "creation_date": 1577146945, "post_id": 59401681, "comment_id": 105106003, "body": "Then you should have both an IEnumerable and IQueryable implementation. If you are claiming to require an IEnumerable because of a limitation in coding patterns of the rest of your application, then those coding patterns are the problem."}, {"owner": {"reputation": 11, "user_id": 5057006, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FpO6RNYrdec/AAAAAAAAAAI/AAAAAAAAAFY/Ea_6JSmHii8/photo.jpg?sz=128", "display_name": "Javier Goldman", "link": "https://stackoverflow.com/users/5057006/javier-goldman"}, "edited": false, "score": 0, "creation_date": 1577366478, "post_id": 59401681, "comment_id": 105152477, "body": "it&#39;s not so much a limitation of my coding patterns, but of EF, which makes relationships of type ICollection(thus i cant use this without using AsQueryable)"}], "tags": [], "owner": {"reputation": 4650, "user_id": 4139809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950022a8882128ae019d3c0bda011723?s=128&d=identicon&r=PG", "display_name": "Jeremy Lakeman", "link": "https://stackoverflow.com/users/4139809/jeremy-lakeman"}, "is_accepted": false, "score": 3, "last_activity_date": 1576801804, "last_edit_date": 1576801804, "creation_date": 1576714181, "answer_id": 59401681, "question_id": 59396866, "link": "https://stackoverflow.com/questions/59396866/using-methods-inside-ef-core-queries/59401681#59401681", "title": "Using methods inside EF Core queries", "body": "<p><code>ToSelectObjDTO</code> is a compiled function. You need to pass an <code>Expression&lt;Func&lt;...&gt;&gt;</code> as the argument to <code>Select()</code>. You can still compile it for other uses if you need to.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    public static Expression&lt;Func&lt;Persons,SelectObjDTO&gt;&gt; SelectorFunc { get; } = POCO =&gt;\n        new SelectObjDTO()\n        {\n            Id = POCO.Users.FirstOrDefault().Id,\n            FirstName= POCO.DocumentNumber+ \" - \" + POCO.FirstName + \" \" + POCO.LastName\n        };\n\n    public static Func&lt;Persons,SelectObjDTO&gt; Selector  { get; } = SelectorFunc.Compile();\n\n    public static IQueryable&lt;SelectObjDTO&gt; ToSelectObjDTO(this IQueryable&lt;Persons&gt; Query)\n        =&gt; Query.Select(SelectorFunc);\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5057006, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FpO6RNYrdec/AAAAAAAAAAI/AAAAAAAAAFY/Ea_6JSmHii8/photo.jpg?sz=128", "display_name": "Javier Goldman", "link": "https://stackoverflow.com/users/5057006/javier-goldman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 752, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1576801804, "creation_date": 1576688401, "last_edit_date": 1576689457, "question_id": 59396866, "link": "https://stackoverflow.com/questions/59396866/using-methods-inside-ef-core-queries", "title": "Using methods inside EF Core queries", "body": "<p>I've been working with EF and EF Core for a long time, but there's something that has always given me problems, one way or the other, that is using methods inside queries, specially while mapping.</p>\n\n<p>For example, right now I have this code</p>\n\n<pre><code>    public IEnumerable&lt;SelectObjDTO&gt; SelectSearch()\n    {\n        return Context.Usuarios.IncludePerson().ToSelectObjDTO();\n    }\n</code></pre>\n\n<p>and in a different class</p>\n\n<pre><code>    public static IQueryable&lt;Users&gt; IncludePerson(this IQueryable&lt;Usuers&gt; Query)\n    {\n        return Query.Include(x =&gt; x.Persons );\n    }\n\n    public static SelectObjDTO ToSelectObjDTO(this Persons POCO)\n    {\n        return new SelectObjDTO()\n        {\n            Id = POCO.Users.FirstOrDefault().Id,\n            FirstName= POCO.DocumentNumber+ \" - \" + POCO.FirstName + \" \" + POCO.LastName\n        };\n    }\n\n    public static IEnumerable&lt;SelectObjDTO&gt; ToSelectObjDTO(this IEnumerable&lt;Persons&gt; Query)\n    {\n        return Query.Select(POCO =&gt; POCO.ToSelectObjDTO());\n    }\n</code></pre>\n\n<p>The function <code>IEnumerable&lt;SelectObjDTO&gt; ToSelectObjDTO(this IEnumerable&lt;Persons&gt; Query)</code> returns an error because the <code>Users</code> is empty.</p>\n\n<p>But in <code>IEnumerable&lt;SelectObjDTO&gt; ToSelectObjDTO(this IEnumerable&lt;Persons&gt; Query)</code> the query does have something inside the <code>Users</code> list.</p>\n\n<p>This is this case, but before I've had other problems, for example an error from EF Core, which basically said that the context is running twice in the same query (I'm really sorry, can't remember exactly how it was), which was fixed by including whatever navigation property was being called.</p>\n\n<p>Just in case, I'm using lazy loading proxies.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "wpf", "async-await", "streamwriter", ".net-4.6.1"], "comments": [{"owner": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "edited": false, "score": 0, "creation_date": 1576689691, "post_id": 59396804, "comment_id": 104983461, "body": "Don&#39;t use Thread.Sleep. Use Task.Delay instead."}, {"owner": {"reputation": 8203, "user_id": 4838058, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f1a3469821a0e43e99f9c7f08b1611fe?s=128&d=identicon&r=PG&f=1", "display_name": "Funk", "link": "https://stackoverflow.com/users/4838058/funk"}, "edited": false, "score": 0, "creation_date": 1576690427, "post_id": 59396804, "comment_id": 104983832, "body": "When you don&#39;t need to return any results to the main thread, it&#39;s easiest to offload the work to a background thread explicitly: <code>await Task.Run(() =&gt; DoWork(writer));</code> And you can remove all <code>configureAwait</code> code."}, {"owner": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "reply_to_user": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "edited": false, "score": 0, "creation_date": 1576691202, "post_id": 59396804, "comment_id": 104984207, "body": "@ckuri The Thread.Sleep() is only there to demonstrate the blocking of the UI thread. If the context were switching as expected, the Thread.Sleep() would have no impact on the UI thread."}, {"owner": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "reply_to_user": {"reputation": 8203, "user_id": 4838058, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f1a3469821a0e43e99f9c7f08b1611fe?s=128&d=identicon&r=PG&f=1", "display_name": "Funk", "link": "https://stackoverflow.com/users/4838058/funk"}, "edited": false, "score": 0, "creation_date": 1576691212, "post_id": 59396804, "comment_id": 104984209, "body": "@funk That does seem to be the most realistic choice, though I was hoping that the async/await framework would have been able to function for me."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1576693198, "post_id": 59396804, "comment_id": 104985077, "body": "async/await works fantatic in WPF...   The question here is till the Thread.Sleep(). When you do have sync (blocking) work to do, use Task.Run(). Witout the Sleep() this would work great, <b>running on a single thread</b> as intended. But you don&#39;t want to Sleep() on that thread. You should almost never need ConfigureAwait()."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1576694631, "post_id": 59396804, "comment_id": 104985716, "body": "According to the <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/asynchronous-programming-patterns/task-based-asynchronous-pattern-tap#naming-parameters-and-return-types\" rel=\"nofollow noreferrer\">guidelines</a> your <code>DoWork</code> method should be named <code>DoWorkAsync</code>."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "edited": false, "score": 0, "creation_date": 1576693101, "post_id": 59397843, "comment_id": 104985037, "body": "That could, indeed, be the culprit. Which seems to suggest to me that it&#39;s not QUITE a truly async method. At any rate, Task.Run() still appears to be the best bet. It at least LOOKS like correct code, while an &quot;await Task.Delay(1).ConfigureAwait(false) looks completely out of place, though it does do something useful. I&#39;ll simply add that into a comment in my code. Thanks!"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "edited": false, "score": 1, "creation_date": 1576693749, "post_id": 59397843, "comment_id": 104985314, "body": "As a side note, <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task.yield\" rel=\"nofollow noreferrer\"><code>Task.Yield()</code></a> is designed to do what you&#39;re using <code>Task.Delay(1)</code> for (but without a <code>Timer</code>)."}, {"owner": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "edited": false, "score": 0, "creation_date": 1576694001, "post_id": 59397843, "comment_id": 104985421, "body": "Ah, that could be an even better choice instead of manually forcing a new thread with Task.Run()."}, {"owner": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "edited": false, "score": 0, "creation_date": 1576694472, "post_id": 59397843, "comment_id": 104985655, "body": "Unfortunately, Task.Yield() doesn&#39;t guarantee a context switch, either. It remains on the UI thread and the continuation still blocks. Task.Run() it is, until I find something better."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "reply_to_user": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "edited": false, "score": 0, "creation_date": 1576695339, "post_id": 59397843, "comment_id": 104985991, "body": "@Lassanter calling <code>Task.Run</code> with an asynchronous delegate doesn&#39;t force a new thread. A thread-pool thread is utilized only for <i>starting</i> the task, and it&#39;s freed afterwards. In my opinion using <code>Task.Run</code> is the preferred way for running async code from event handlers of UI application. You can read my arguments <a href=\"https://stackoverflow.com/questions/38739403/await-task-run-vs-await-c-sharp/58306020#58306020\">here</a>."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "edited": false, "score": 0, "creation_date": 1576696204, "post_id": 59397843, "comment_id": 104986338, "body": "@Lassanter Yeah, <code>Task.Run</code> would still be preferred. I was just mentioning <code>Task.Yield()</code> for the sake of random knowledge acquisition. :)"}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "reply_to_user": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "edited": false, "score": 0, "creation_date": 1576697624, "post_id": 59397843, "comment_id": 104986898, "body": "@Lassanter regarding <code>await Task.Yield</code>, according to the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task.yield#remarks\" rel=\"nofollow noreferrer\">documentation</a> it forces the asynchronous completion of an async method. This is guaranteed. What is not guaranteed is that the UI will remain responsive."}, {"owner": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "reply_to_user": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1576698294, "post_id": 59397843, "comment_id": 104987191, "body": "@TheodorZoulias I like your reasoning to a certain extent. But it seems that if I am going to manually offload to a background thread, anyway, I don&#39;t really need to be writing async code to begin with. While I understand your argument that basically says, &quot;You/I don&#39;t write good async code&quot;, that seems a poor reason to avoid it entirely. My goal is to become competent enough that the Stephens don&#39;t look down on me shamefully. Simply offloading to a background thread manually doesn&#39;t force me to recognize where my shortcomings are, and fix them. It lets me to continue writing bad async code."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "edited": false, "score": 1, "creation_date": 1576699579, "post_id": 59397843, "comment_id": 104987704, "body": "@Lassanter You are right about that. There is no meaningful penalty to creating new threads in a UI app. And it&#39;s not a big deal to lock a non-UI thread. So yeah, you could just go synchronous on another thread. That&#39;s different than ASP.NET, for example, which has a limited number of threads for the whole app. In that case, you&#39;d want to avoid creating new threads if at all possible."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "reply_to_user": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "edited": false, "score": 0, "creation_date": 1576713071, "post_id": 59397843, "comment_id": 104992130, "body": "@Lassanter the cost of offloading the <i>starting</i> of a <code>Task</code> to a background thread in extremely small. The overhead is around 2 \u03bcsec in my PC. By using <code>Task.Run</code> with async delegates in event handlers you are buying peace of mind at a cost of 1 sec of CPU time per 500,000 invocations. Even the two Stephens could decide to buy it at such a low cost! :-)"}], "tags": [], "owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "is_accepted": true, "score": 2, "last_activity_date": 1576692393, "creation_date": 1576692393, "answer_id": 59397843, "question_id": 59396804, "link": "https://stackoverflow.com/questions/59396804/streamwriter-writelineasync-does-not-continue-on-new-context/59397843#59397843", "title": "StreamWriter.WriteLineAsync() does not continue on new context", "body": "<p>It's important to understand how asynchronous methods work. All asynchronous methods start running synchronously. The magic happens at the first <code>await</code> that acts on an incomplete <code>Task</code>, at which point <code>await</code> will return its own incomplete <code>Task</code> up the stack.</p>\n\n<p>All that means that if a method is doing something synchronous (or CPU-consuming) <em>before</em> whatever asynchronous I/O request it is going to make, then that will still block the thread.</p>\n\n<p>As to what <code>WriteLineAsync</code> is doing, well, the source code is available, so you can walk through it starting <a href=\"https://referencesource.microsoft.com/#mscorlib/system/io/streamwriter.cs,732\" rel=\"nofollow noreferrer\">here</a>. If I followed it correctly, I think it ends up calling <a href=\"https://referencesource.microsoft.com/#mscorlib/system/io/stream.cs,4d9909685027b249\" rel=\"nofollow noreferrer\"><code>BeginWrite</code></a>, which calls <a href=\"https://referencesource.microsoft.com/#mscorlib/system/io/stream.cs,452\" rel=\"nofollow noreferrer\"><code>BeginWriteInternal</code></a> with the <code>serializeAsynchronously</code> parameter set to <code>false</code>. That means it ends up calling <code>semaphore.Wait()</code>, a synchronous wait. There's a comment above that:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// To avoid a race with a stream's position pointer &amp; generating ---- \n// conditions with internal buffer indexes in our own streams that \n// don't natively support async IO operations when there are multiple \n// async requests outstanding, we will block the application's main\n// thread if it does a second IO request until the first one completes.\n</code></pre>\n\n<p>Now I can't say if that's <em>actually</em> what's holding it up, but it's certainly possible.</p>\n\n<p>But in any case, the best option if you're seeing this behaviour is to just get it off the UI thread right away by using <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task.run?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>Task.Run()</code></a>:</p>\n\n<pre><code>await Task.Run(() =&gt; DoWork(writer));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "edited": false, "score": 0, "creation_date": 1576698845, "post_id": 59398832, "comment_id": 104987428, "body": "Ahhhh! THIS tells me everything. So you&#39;re saying that WriteLineAsync is guaranteed to always return a completed Task? Which means that awaiting it will never switch contexts. That&#39;s the piece I was missing. Thanks!"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "edited": false, "score": 0, "creation_date": 1576699390, "post_id": 59398832, "comment_id": 104987633, "body": "@Lassanter You can test for that by assigning the <code>Task</code> to a variable: <code>var myTask = writer.WriteLineAsync(&quot;test&quot; + i);</code> then set a breakpoint immediately after and inspect <code>myTask.IsCompleted</code>."}, {"owner": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "reply_to_user": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "edited": false, "score": 0, "creation_date": 1576710264, "post_id": 59398832, "comment_id": 104991440, "body": "@Lassanter not guaranteed, but likely. Any method which returns a Task might return a completed one, if it determines that the operation can be completed synchronously."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "reply_to_user": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "edited": false, "score": 0, "creation_date": 1576713592, "post_id": 59398832, "comment_id": 104992261, "body": "@Lassanter not guaranteed. Periodically will certainly return a non-completed <code>Task</code>. Implementations of <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.textwriter.writelineasync\" rel=\"nofollow noreferrer\"><code>TextWriter.WriteLineAsync</code></a> that always return a completed <code>Task</code> <i>do</i> exist though. For example <code>Console.Out.WriteLineAsync</code>."}], "tags": [], "owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "is_accepted": false, "score": 1, "last_activity_date": 1576713781, "last_edit_date": 1576713781, "creation_date": 1576697090, "answer_id": 59398832, "question_id": 59396804, "link": "https://stackoverflow.com/questions/59396804/streamwriter-writelineasync-does-not-continue-on-new-context/59398832#59398832", "title": "StreamWriter.WriteLineAsync() does not continue on new context", "body": "<p>Some asynchronous APIs are expected to be called multiple times in a loop, and are designed to return completed tasks most of the time. Examples of these APIs are the methods <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.streamreader.readlineasync\" rel=\"nofollow noreferrer\"><code>StreamReader.ReadLineAsync</code></a> and <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.streamwriter.writelineasync\" rel=\"nofollow noreferrer\"><code>StreamWriter.WriteLineAsync</code></a>. These objects keep an internal buffer so that they can read and write large chunks of data to the underlying <code>Stream</code> at once, for performance reasons. An async operation is initiated only when this buffer needs to be refilled or flushed. The emergence of APIs like these motivated the introduction of the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.valuetask-1\" rel=\"nofollow noreferrer\"><code>ValueTask&lt;T&gt;</code></a> type, so that the allocation of large numbers of completed <code>Task&lt;T&gt;</code> objects could be avoided. You can watch an enlightening video about the reasons that led to these decisions <a href=\"https://www.youtube.com/watch?v=fj-LVS8hqIE\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 33, "user_id": 7082872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96f9efb01dd4bf96451a7c68231d0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lassanter", "link": "https://stackoverflow.com/users/7082872/lassanter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "accepted_answer_id": 59397843, "answer_count": 2, "score": 1, "last_activity_date": 1576713781, "creation_date": 1576688134, "question_id": 59396804, "link": "https://stackoverflow.com/questions/59396804/streamwriter-writelineasync-does-not-continue-on-new-context", "title": "StreamWriter.WriteLineAsync() does not continue on new context", "body": "<p>In my WPF application I have an issue where I am writing numerous times to a text file via a StreamWriter object, primarily using the WriteLineAsync() method. I am confident that I am correctly awaiting all of the tasks. However, the UI thread is being blocked, instead of being allowed to process UI changes. I have written a small application that demonstrates the issue.</p>\n\n<pre><code>public class MainWindowViewModel : INotifyPropertyChanged\n{\n    private string _theText;\n    private string _theText2;\n\n    public MainWindowViewModel()\n    {\n        TestCommand = new DelegateCommand(TestCommand_Execute, TestCommand_CanExecute);\n        TestCommand2 = new DelegateCommand(TestCommand2_Execute, TestCommand2_CanExecute);\n    }\n\n    public ICommand TestCommand { get; }\n\n    private bool TestCommand_CanExecute(object parameter)\n    {\n        return true;\n    }\n\n    private async void TestCommand_Execute(object parameter)\n    {\n        using (StreamWriter writer = new StreamWriter(new MemoryStream()))\n        {\n            TheText = \"Started\";\n            await DoWork(writer).ConfigureAwait(true);\n            TheText = \"Complete\";\n        }\n    }\n\n    public ICommand TestCommand2 { get; }\n\n    private bool TestCommand2_CanExecute(object parameter)\n    {\n        return true;\n    }\n\n    private async void TestCommand2_Execute(object parameter)\n    {\n        using (StreamWriter writer = new StreamWriter(new MemoryStream()))\n        {\n            TheText2 = \"Started\";\n            await Task.Delay(1).ConfigureAwait(false);\n            await DoWork(writer).ConfigureAwait(true);\n            TheText2 = \"Complete\";\n        }\n    }\n\n    public string TheText\n    {\n        get =&gt; _theText;\n        set =&gt; SetValue(ref _theText, value);\n    }\n\n    public string TheText2\n    {\n        get =&gt; _theText2;\n        set =&gt; SetValue(ref _theText2, value);\n    }\n\n    private bool SetValue&lt;T&gt;(ref T storage, T value, [CallerMemberName] string propertyName = null)\n    {\n        if (EqualityComparer&lt;T&gt;.Default.Equals(storage, value)) return false;\n        storage = value;\n        OnPropertyChanged(propertyName);\n        return true;\n    }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    [NotifyPropertyChangedInvocator]\n    protected virtual void OnPropertyChanged([CallerMemberName] string propertyName = null)\n    {\n        PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n    }\n\n    private async Task DoWork(StreamWriter writer)\n    {\n        for (int i = 0; i &lt; 100; i++)\n        {\n            await writer.WriteLineAsync(\"test\" + i).ConfigureAwait(false);\n            Thread.Sleep(100);\n        }\n    }\n}\n</code></pre>\n\n<p>And the XAML</p>\n\n<pre><code>    &lt;Window x:Class=\"AsyncWpfToy.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    xmlns:local=\"clr-namespace:AsyncWpfToy\"\n    mc:Ignorable=\"d\"\n    Title=\"MainWindow\" Height=\"450\" Width=\"800\"&gt;\n&lt;Window.DataContext&gt;\n    &lt;local:MainWindowViewModel /&gt;\n&lt;/Window.DataContext&gt;\n&lt;Grid&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition Height=\"20\" /&gt;\n        &lt;RowDefinition Height=\"20\" /&gt;\n        &lt;RowDefinition Height=\"20\" /&gt;\n        &lt;RowDefinition Height=\"20\" /&gt;\n    &lt;/Grid.RowDefinitions&gt;\n    &lt;Button Grid.Row=\"0\" Command=\"{Binding TestCommand}\" Content=\"Button\" /&gt;\n    &lt;TextBlock Grid.Row=\"1\" Text=\"{Binding TheText}\" /&gt;\n    &lt;Button Grid.Row=\"2\" Command=\"{Binding TestCommand2}\" Content=\"Button2\" /&gt;\n    &lt;TextBlock Grid.Row=\"3\" Text=\"{Binding TheText2}\" /&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>\nAnd, for the sake of being complete, a basic implementation of DelegateCommand</p>\n\n<pre><code>public class DelegateCommand : ICommand\n{\n    private readonly Action&lt;object&gt; _execute;\n    private readonly Func&lt;object, bool&gt; _canExecute;\n\n    public DelegateCommand(Action&lt;object&gt; execute, Func&lt;object, bool&gt; canExecute = null)\n    {\n        _execute = execute;\n        _canExecute = canExecute;\n    }\n\n    public bool CanExecute(object parameter)\n    {\n        return _canExecute?.Invoke(parameter) ?? true;\n    }\n\n    public void Execute(object parameter)\n    {\n        _execute(parameter);\n    }\n\n    public event EventHandler CanExecuteChanged\n    {\n        add =&gt; CommandManager.RequerySuggested += value;\n        remove =&gt; CommandManager.RequerySuggested -= value;\n    }\n}\n</code></pre>\n\n<p>When I click the button simply labeled \"Button\", my UI freezes even though the body of DoWork() has all Async methods awaited with ConfigureAwait(false) set.</p>\n\n<p>When I click Button2, however, I am performing an <strong>await Task.Delay(1).ConfigureAwait(false)</strong> before awaiting the DoWork() method. This appears to correctly shift processing to another context, allowing the UI to continue. Indeed, if I move the <strong>await Task.Delay(1).ConfigureAwait(false)</strong> to the DoWork() method and set it up before the for loop, everything runs as one would expect - the UI remains responsive.</p>\n\n<p>It appears that, for whatever reason, StreamWriter.WriteLineAsync() is either not truly async, or the processing is happening so fast that the framework determines that there is no need for a context switch and allows continuation on the captured context, regardless. I have found that if I remove the <strong>Thread.Sleep(100)</strong> and, instead, iterate with a much higher number (i&lt;10000 or so, though I have not tried to find the threshold), it will lock for a few seconds but eventually switch contexts until it completes. So I'm guessing that the latter explanation is more likely.</p>\n\n<p>Ultimately, the question I have is, \"How do I ensure that my StreamWriter.WriteLineAsync() calls continue on another context so that my UI thread can remain responsive?\"</p>\n"}, {"tags": ["c#", "dll", "nuget"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 2, "creation_date": 1576688166, "post_id": 59396770, "comment_id": 104982729, "body": "I&#39;d expect any DLLs from dependencies to be there too. Those aren&#39;t being <i>generated</i> - they&#39;re being copied. But they wouldn&#39;t end up in your NuGet package. Have a look at the nupkg file after building the package, and I suspect you&#39;ll just find the DLL for your code."}, {"owner": {"reputation": 11, "user_id": 12560143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff75eb2fffef5583e37909a3cbda2c9e?s=128&d=identicon&r=PG&f=1", "display_name": "AirV68", "link": "https://stackoverflow.com/users/12560143/airv68"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1576688574, "post_id": 59396770, "comment_id": 104982931, "body": "To have a look at my NuGet package, I renamed it as zip, and opened it (correct?). Then, I could only found a single DLL in it, this DLL has the name of my NuGet package. This looks correct to me, isn&#39;t it?"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1576688610, "post_id": 59396770, "comment_id": 104982950, "body": "Yup, or download the NuGet Package Explorer."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1576688844, "post_id": 59396770, "comment_id": 104983051, "body": "All sounds as expected to me, yes."}, {"owner": {"reputation": 11, "user_id": 12560143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff75eb2fffef5583e37909a3cbda2c9e?s=128&d=identicon&r=PG&f=1", "display_name": "AirV68", "link": "https://stackoverflow.com/users/12560143/airv68"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1576689068, "post_id": 59396770, "comment_id": 104983171, "body": "And when I install the package in a brand new WinForm app, and compile it, the bin\\release folder gets populated with almost 100 DLLs..."}, {"owner": {"reputation": 388, "user_id": 5077188, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1222d16f9742f519574c2ff8789897?s=128&d=identicon&r=PG&f=1", "display_name": "WilliamW", "link": "https://stackoverflow.com/users/5077188/williamw"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1576689382, "post_id": 59396770, "comment_id": 104983326, "body": "Yes as mentioned by @JonSkeet the &quot;100 DLLs&quot; are coming from your package&#39;s dependencies. If you would like to reduce it and this package is owned by you, try to reduce the number of nuget package as much as possible"}, {"owner": {"reputation": 11, "user_id": 12560143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff75eb2fffef5583e37909a3cbda2c9e?s=128&d=identicon&r=PG&f=1", "display_name": "AirV68", "link": "https://stackoverflow.com/users/12560143/airv68"}, "edited": false, "score": 0, "creation_date": 1576745070, "post_id": 59396770, "comment_id": 105000021, "body": "Thanks you both for your answers. I found where the probleme comes from. My NuGet package is a class library that targets .NET standard 2.0 The WinForm app in which I installed the NuGet package targets the .NET Framework 6.1. When compiling, the missing dlls in the .NET Framework 6.1 were added to my output folder... When targetting the .NET Framework 4.7.2, I get the expected result :-) Have a good day"}], "owner": {"reputation": 11, "user_id": 12560143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff75eb2fffef5583e37909a3cbda2c9e?s=128&d=identicon&r=PG&f=1", "display_name": "AirV68", "link": "https://stackoverflow.com/users/12560143/airv68"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576688011, "creation_date": 1576688011, "question_id": 59396770, "link": "https://stackoverflow.com/questions/59396770/using-my-nuget-package-generates-lots-of-dlls", "title": "Using my nuget package generates lots of DLLs", "body": "<p>I am new to using NuGet packages, and need some help...</p>\n\n<p>I have created one NuGet package. When using it in a VS project, after I build the project, a lot of DLLs are created in my output folder. I would have expected a single dll corresponding to my nuget package... What am I doing wrong?</p>\n\n<p>Thanks for your help.</p>\n"}, {"tags": ["c#", ".net", "asp.net-mvc", "entity-framework", "code-first"], "comments": [{"owner": {"reputation": 1719, "user_id": 3140646, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7c9b14598515b9d00b120fca515d0523?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/3140646/matt"}, "edited": false, "score": 0, "creation_date": 1576687517, "post_id": 59396555, "comment_id": 104982383, "body": "Can you show the iterating code and how you are trying to get <code>Loan</code> etc"}, {"owner": {"reputation": 1095, "user_id": 5026114, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-SXMYnd6-FEs/AAAAAAAAAAI/AAAAAAAAACQ/HlS6yaZdnRw/photo.jpg?sz=128", "display_name": "Kieran Devlin", "link": "https://stackoverflow.com/users/5026114/kieran-devlin"}, "edited": false, "score": 0, "creation_date": 1576687562, "post_id": 59396555, "comment_id": 104982400, "body": "It sounds like <code>GroupBy</code> is evaluating locally and thus is projecting the database results to a new type which means you lose the included types. Check the console output for any LINQ translation warnings."}, {"owner": {"reputation": 3406, "user_id": 1124494, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/102e580c2f2b8aa1f54efbcbdcce70c3?s=128&d=identicon&r=PG", "display_name": "Aishwarya Shiva", "link": "https://stackoverflow.com/users/1124494/aishwarya-shiva"}, "reply_to_user": {"reputation": 1719, "user_id": 3140646, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7c9b14598515b9d00b120fca515d0523?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/3140646/matt"}, "edited": false, "score": 0, "creation_date": 1576687672, "post_id": 59396555, "comment_id": 104982452, "body": "@Matt not any complex code. Even if I do like this <code>var x = dbrepayments.FirstOrDefault().Loan</code> it is returning <code>null</code>."}, {"owner": {"reputation": 3406, "user_id": 1124494, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/102e580c2f2b8aa1f54efbcbdcce70c3?s=128&d=identicon&r=PG", "display_name": "Aishwarya Shiva", "link": "https://stackoverflow.com/users/1124494/aishwarya-shiva"}, "reply_to_user": {"reputation": 1095, "user_id": 5026114, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-SXMYnd6-FEs/AAAAAAAAAAI/AAAAAAAAACQ/HlS6yaZdnRw/photo.jpg?sz=128", "display_name": "Kieran Devlin", "link": "https://stackoverflow.com/users/5026114/kieran-devlin"}, "edited": false, "score": 0, "creation_date": 1576688235, "post_id": 59396555, "comment_id": 104982761, "body": "@KieranDevlin I don&#39;t see any warnings in Output window."}], "answers": [{"tags": [], "owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "is_accepted": false, "score": 0, "last_activity_date": 1576709954, "creation_date": 1576709954, "answer_id": 59401129, "question_id": 59396555, "link": "https://stackoverflow.com/questions/59396555/field-expression-groupby-not-returning-included-objects/59401129#59401129", "title": "Field expression GroupBy not returning included objects", "body": "<p>I'd wager the issue here is the element selector in your <code>GroupBy</code> statement:</p>\n\n<pre><code>(key, g) =&gt; g.OrderByDescending(c =&gt; c.Id).FirstOrDefault()\n</code></pre>\n\n<p>This didn't make a lot of sense when I first read it. You are taking repayments grouped by loan, but then trying to select just the last repayment for each loan? Followed by ordering those first repayments by date. </p>\n\n<p>I believe this will give you the results you're looking for with the eager loaded relationships:</p>\n\n<pre><code>var dbrepayments = _context.Repayments.Include(\"Loan\").Include(\"Loan.Borrower\").Include(\"Loan.LoanProduct\")\n                           .Where(c =&gt; c.PaidOn == null &amp;&amp; c.DateOfRepayment &lt;= today)\n                           .GroupBy(c =&gt; c.Loan.Id)\n                           .Select(c =&gt; c.OrderByDescending(x =&gt; x.Id).FirstOrDefault())\n                           .OrderBy(c =&gt; c.DateOfRepayment);\n</code></pre>\n\n<p><code>GroupBy</code> will respect <code>Include</code> but if you are using a select expression, that overrides it. You cannot add <code>Include</code> inside the selector as that is working with IEnumerable of the expected results. Instead, group the results by loan as expected, but then <code>Select</code> from the results to get the latest repayment. This will give you a list of the latest repayments that you can then order.</p>\n"}], "owner": {"reputation": 3406, "user_id": 1124494, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/102e580c2f2b8aa1f54efbcbdcce70c3?s=128&d=identicon&r=PG", "display_name": "Aishwarya Shiva", "link": "https://stackoverflow.com/users/1124494/aishwarya-shiva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576709954, "creation_date": 1576687261, "last_edit_date": 1576687746, "question_id": 59396555, "link": "https://stackoverflow.com/questions/59396555/field-expression-groupby-not-returning-included-objects", "title": "Field expression GroupBy not returning included objects", "body": "<p>In this code:</p>\n\n<pre><code>var dbrepayments = _context.Repayments.Include(\"Loan\").Include(\"Loan.Borrower\").Include(\"Loan.LoanProduct\")\n                           .Where(c =&gt; c.PaidOn == null &amp;&amp; c.DateOfRepayment &lt;= today)\n                           .GroupBy(c =&gt; c.Loan.Id, (key, g) =&gt; g.OrderByDescending(c =&gt; c.Id).FirstOrDefault())\n                           .OrderBy(c =&gt; c.DateOfRepayment);\n</code></pre>\n\n<p><code>_context</code> is <code>ApplicationDbContext</code> type that I am using to get results from database using Code-First approach.</p>\n\n<p>The problem is when I try to iterate through <code>dbrepayments</code> and get the value of <code>Loan</code>, <code>Loan.Borrower</code>, and <code>Loan.LoanProduct</code> objects they are showing as <code>null</code>. But when I remove <code>GroupBy</code>, these objects are returned correctly.</p>\n"}, {"tags": ["c#", "asp.net", ".net", "vb.net", "visual-studio"], "answers": [{"tags": [], "owner": {"reputation": 2853, "user_id": 3181, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/77b10422593a1c0b9b170f4513fb0c0c?s=128&d=identicon&r=PG", "display_name": "Stuart Grassie", "link": "https://stackoverflow.com/users/3181/stuart-grassie"}, "is_accepted": true, "score": 3, "last_activity_date": 1576687947, "last_edit_date": 1592644375, "creation_date": 1576687635, "answer_id": 59396679, "question_id": 59396552, "link": "https://stackoverflow.com/questions/59396552/how-to-create-an-offline-repository-for-nuget-packages-in-visual-studio/59396679#59396679", "title": "How to create an offline repository for nuget packages in Visual Studio", "body": "<p>You can control this using <code>%APPDATA%/Roaming/NuGet/NuGet.Config</code> and adding a config item like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;configuration&gt;\n   &lt;config&gt;\n      &lt;add key=&quot;globalPackagesFolder&quot; value=&quot;C:\\dev\\nuget\\packages&quot; /&gt;\n      &lt;add key=&quot;repositoryPath&quot; value=&quot;C:\\dev\\nuget\\packages&quot; /&gt;\n   &lt;/config&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>You can also control this on a per solution basis using a NuGet.Config file in the same folder as the .sln file, and/or per project by placing a NuGet.config next to the .csproj file.</p>\n<p>See the <a href=\"https://docs.microsoft.com/en-us/nuget/reference/nuget-config-file\" rel=\"nofollow noreferrer\">NuGet.config file reference</a> for more details about all the available options.</p>\n<p>For <strong>globalPackagesFolder</strong> (projects using PackageReference only):</p>\n<p>The location of the default global packages folder. The default is %userprofile%.nuget\\packages (Windows) or ~/.nuget/packages (Mac/Linux). A relative path can be used in project-specific nuget.config files. This setting is overridden by the NUGET_PACKAGES environment variable, which takes precedence.</p>\n<p>For <strong>repositoryPath</strong> (packages.config only):</p>\n<p>The location in which to install NuGet packages instead of the default $(Solutiondir)/packages folder. A relative path can be used in project-specific nuget.config files. This setting is overridden by the NUGET_PACKAGES environment variable, which takes precedence.</p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 12659276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f26207ad08ee20c59f2b1723ac95dd9?s=128&d=identicon&r=PG&f=1", "display_name": "John.Staff", "link": "https://stackoverflow.com/users/12659276/john-staff"}, "is_accepted": false, "score": 1, "last_activity_date": 1578285239, "creation_date": 1578285239, "answer_id": 59606726, "question_id": 59396552, "link": "https://stackoverflow.com/questions/59396552/how-to-create-an-offline-repository-for-nuget-packages-in-visual-studio/59606726#59606726", "title": "How to create an offline repository for nuget packages in Visual Studio", "body": "<p>Visual Studio. In menu bar Tools -> Manage Nuget packages -> Package manager config -> Package origins. There is the nuget.org repo , click in Add and change the origin and name of the new repo, browse your folder and give a name , just click in update and accept. You can copy the .nupkg files in your selected folder</p>\n"}], "owner": {"reputation": 443, "user_id": 9378439, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uRAIXKCAE-g/AAAAAAAAAAI/AAAAAAAAAJA/3p6Mreec-XI/photo.jpg?sz=128", "display_name": "daniel.jbatiz", "link": "https://stackoverflow.com/users/9378439/daniel-jbatiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 932, "favorite_count": 0, "accepted_answer_id": 59396679, "answer_count": 2, "score": 3, "last_activity_date": 1578285239, "creation_date": 1576687255, "question_id": 59396552, "link": "https://stackoverflow.com/questions/59396552/how-to-create-an-offline-repository-for-nuget-packages-in-visual-studio", "title": "How to create an offline repository for nuget packages in Visual Studio", "body": "<p>I have many .nupkg files downloaded and I don't always have an internet connection. So I'd like to change the nuget repository (nuget.org) to Eg. D:\\nugetOffline. In that folder I'll put the .nupkg files.</p>\n"}, {"tags": ["c#", "asp.net", "gridview", "hidden-field", "nested-gridview"], "answers": [{"tags": [], "owner": {"reputation": 3716, "user_id": 1971438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5862k.jpg?s=128&g=1", "display_name": "fnostro", "link": "https://stackoverflow.com/users/1971438/fnostro"}, "is_accepted": true, "score": 1, "last_activity_date": 1576707960, "creation_date": 1576707960, "answer_id": 59400816, "question_id": 59396547, "link": "https://stackoverflow.com/questions/59396547/value-of-hiddenfield-duplicated-when-called-from-nested-gridvew-row-editing/59400816#59400816", "title": "Value of HiddenField Duplicated when called from Nested Gridvew Row Editing", "body": "<p>You should look at your rendered html.</p>\n\n<p>When dealing with one gridview there is only ever one row open for editing at a time. And within a row's <code>TemplateField</code> the <code>ItemTemplate</code> and <code>EditTemplate</code> are mutually exclusive, that is to say that, when rendered, you will see only one or the other.  </p>\n\n<p>Likewise in the code behind, you will only have access to either the <code>ItemTemplate</code> row or the <code>EditTemplate</code> row depending on which event you process on postback.</p>\n\n<p>The same rules apply to a nested/child Gridview. </p>\n\n<p>So for the case you describe, I assume you are trying to use some ID from the parent to build a query to populate the child.  If so I do not believe you need any hidden fields at all. This ID fieldname from the parents query should be set in the <code>DataKeyNames</code> property of the parent gridview.</p>\n\n<p>You should then be able to pass the value to the procedure you are building for the child as </p>\n\n<pre><code>protected void gvhild_RowEditing(object sender, GridViewEditEventArgs e) {\n  string sql = GetChildQuery(gvParent.SelectedDataKey.Value);\n\n  child.DataSource = GetData(sql);\n  child.DataBind();\n\n  // Given that you have just populated the child I do not think the \n  // following is accurate, but that's for you to decide\n  child.SetEditRow(e.NewEditIndex);  \n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 35, "user_id": 11545984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4be48b991613d5919be8b89c1bf2634?s=128&d=identicon&r=PG&f=1", "display_name": "kirsten.madina", "link": "https://stackoverflow.com/users/11545984/kirsten-madina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 59400816, "answer_count": 1, "score": 0, "last_activity_date": 1576707960, "creation_date": 1576687227, "last_edit_date": 1576687632, "question_id": 59396547, "link": "https://stackoverflow.com/questions/59396547/value-of-hiddenfield-duplicated-when-called-from-nested-gridvew-row-editing", "title": "Value of HiddenField Duplicated when called from Nested Gridvew Row Editing", "body": "<p>Problem: I'm trying to get a value from a HiddenField object and set it to a string. A value of \"foo\" is being returned as \"foo, foo\". </p>\n\n<p>Details:\nI have a Nested Gridview, and I'm trying to make the child Gridview editable. I have a method <code>GetChildQuery(string id)</code> which form the sql query to get the data for the Child Gridview, and I have the id bound to a HiddenField object in the HTML as so:</p>\n\n<pre><code>&lt;asp:Gridview ID=\"gvChild\" runat=\"server\" AutoGenerateColumns=\"false\" OnRowEditing = \"gvChild_RowEditing\"&gt;\n &lt;Columns&gt;\n  &lt;asp:TemplateField HeaderText=\"Name\"&gt;\n   &lt;ItemTemplate&gt;\n    &lt;asp:Label runat=\"server\" ID=\"lblNameChild\" Text='&lt;% Eval(\"Name\")%&gt;'&gt;&lt;/asp:Label&gt;\n    &lt;asp:HiddenField runat=\"server\" ID=\"hidIDChild\" Value ='&lt;%# Bind(\"ItemID\") %&gt;' /&gt;\n   &lt;/ItemTemplate&gt;\n\n   &lt;EditItemTemplate&gt;\n     &lt;asp:Label runat=\"server\" ID=\"lblNameChildEdit\" Text='&lt;% Eval(\"Name\")%&gt;'&gt;&lt;/asp:Label&gt;\n    &lt;asp:HiddenField runat=\"server\" ID=\"hidIDChildEdit\" Value ='&lt;%# Bind(\"ItemID\") %&gt;' /&gt;\n   &lt;/EditItemTemplate&gt;\n  &lt;/asp:TemplateField&gt;\n\n</code></pre>\n\n<p>and I try to access it in the OnRowEditing method like:</p>\n\n<pre><code>protected void gvhild_RowEditing(object sender, GridViewEditEventArgs e) {\n  Gridview child = sender as Gridview;\n  string itemID = (child.Rows[e.NewEditIndex].FindControl(\"hidIDChild\") as HiddenField).Value.ToString();\n  string sql = GetChildQuery(itemID);\n  child.EditIndex = e.NewEditIndex;\n  child.DataSource = GetData(sql);\n  child.DataBind();\n}\n</code></pre>\n\n<p>The id is used in the <code>WHERE</code> clause of my SQL query, and therefore the output is incorrect if the value of the id is incorrect. I don't know I this problem is occurring because of how I bind data to the HiddenField or how I'm calling it from the RowEditing method, or something I'm completely overlooking. </p>\n\n<p>Ref: To make the Nested Gridview, I mainly followed <a href=\"https://www.aspsnippets.com/Articles/Nested-GridView-Example-in-ASPNet-using-C-and-VBNet.aspx\" rel=\"nofollow noreferrer\">https://www.aspsnippets.com/Articles/Nested-GridView-Example-in-ASPNet-using-C-and-VBNet.aspx</a> and <a href=\"https://www.aspforums.net/Threads/133072/Edit-Update-Delete-in-Nested-Child-GridView-in-ASPNet/\" rel=\"nofollow noreferrer\">https://www.aspforums.net/Threads/133072/Edit-Update-Delete-in-Nested-Child-GridView-in-ASPNet/</a> which  has the general format for my GetData method as well. </p>\n\n<p>EDIT: Problem subverted by replacing the <code>string itemID</code> instantiation to </p>\n\n<pre><code>string itemID= ((child.Rows[e.NewEditIndex].FindControl(\"hidIDChild\") as HiddenField).Value.Split(','))[0].ToString();\n</code></pre>\n\n<p>essentially splitting the duplication, accessing the first element, converting that to a string, and setting that equal to y string itemID. </p>\n\n<p>However while this subverts the problem, I would still appreciate anyone's feedback as to why the problem is occurring in the first place. Thanks!</p>\n"}, {"tags": ["c#", "ssl", "iis", "ssl-certificate", "mutual-authentication"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1576696188, "post_id": 59396456, "comment_id": 104986330, "body": "Open IIS log files and read the status code, <a href=\"https://support.microsoft.com/en-us/help/943891/the-http-status-code-in-iis-7-0-iis-7-5-and-iis-8-0\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/help/943891/&hellip;</a>"}, {"owner": {"reputation": 15643, "user_id": 7609093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lwHJH.png?s=128&g=1", "display_name": "Brando Zhang", "link": "https://stackoverflow.com/users/7609093/brando-zhang"}, "edited": false, "score": 0, "creation_date": 1576724127, "post_id": 59396456, "comment_id": 104994207, "body": "Do you mean you enabled the certificate auth and it show the 403 error?  I suggest you could try to checkyou have installed Server&#39;s cert issuer certificate to Trusted Root Certification Authorities under Local Computer on your IIS machine."}], "owner": {"reputation": 1, "user_id": 8585122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cfac51dad5b5fdaeabba00dfe7812db?s=128&d=identicon&r=PG&f=1", "display_name": "Bhavika Mehta", "link": "https://stackoverflow.com/users/8585122/bhavika-mehta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576686962, "creation_date": 1576686962, "question_id": 59396456, "link": "https://stackoverflow.com/questions/59396456/is-there-any-way-to-implement-mutual-authentication-using-ssl-certificate-config", "title": "Is there any way to implement mutual authentication using SSL certificate configuration in iis server", "body": "<p>I am trying using self signed client and server certificate to host my web api in iis server.i am facing forbidden error after selecting client certificate.</p>\n"}, {"tags": ["c#", "networking"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 1, "creation_date": 1576687138, "post_id": 59396455, "comment_id": 104982179, "body": "WHat&#39;s the error?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11217492"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576687240, "post_id": 59396455, "comment_id": 104982234, "body": "sorry forgot to add the picture"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 1, "creation_date": 1576687421, "post_id": 59396455, "comment_id": 104982322, "body": "1. Is the drive available to the user? 2. Do you have sufficient permission to access it? 3. Can you console.writeline the path and let us know what it looks like?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11217492"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576687677, "post_id": 59396455, "comment_id": 104982456, "body": "The User has the Permission and the path can be outputted as it should and the network drive was available"}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 1, "creation_date": 1576687852, "post_id": 59396455, "comment_id": 104982565, "body": "This file name is <i>exceptionally</i> long and string comparisions are extremely likely to fail even with short stuff. | It is also worth ponting out that Visual Studio likes to run programms until special user accounts. Ones that have limited rights and thus can not do a lot of things wrong."}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576688044, "post_id": 59396455, "comment_id": 104982673, "body": "The app Identity and the user Identity are most likely different. It&#39;s impossible to tell with this code."}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1576688046, "post_id": 59396455, "comment_id": 104982674, "body": "Which error did you get?"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 1, "creation_date": 1576688120, "post_id": 59396455, "comment_id": 104982707, "body": "Ah, the error was cleverly hidden by the TeamViewer dialog box."}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 2, "creation_date": 1576688257, "post_id": 59396455, "comment_id": 104982774, "body": "So just to make it clear, if you copy that <code>S:\\....exe</code> value, and use the Start-&gt;Run dialog of Windows, paste that in and hit enter, Symantec installer pops up?"}, {"owner": {"reputation": 1074, "user_id": 927827, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bf0b713cc147c04622361e575daef021?s=128&d=identicon&r=PG", "display_name": "user007", "link": "https://stackoverflow.com/users/927827/user007"}, "edited": false, "score": 2, "creation_date": 1576689402, "post_id": 59396455, "comment_id": 104983334, "body": "Can you test access with: var test = Directory.GetFiles(&quot;S:&quot;);. Under which account is your VS running, admin?"}], "owner": {"user_type": "does_not_exist", "display_name": "user11217492"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576687220, "creation_date": 1576686961, "last_edit_date": 1576687220, "question_id": 59396455, "link": "https://stackoverflow.com/questions/59396455/c-net-cant-run-a-exe-file-in-a-network-drive", "title": "C# .net cant run a exe file in a network drive", "body": "<p>Im trying to run a exe file from a network drive S:\n<a href=\"https://i.stack.imgur.com/DCWUv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DCWUv.png\" alt=\"enter image description here\"></a>\nthe system cannot find the path</p>\n\n<pre><code>using System;\nusing System.Diagnostics;\nusing Microsoft.Win32;\n\n\nnamespace ConsoleApp69\n{\n    class Program\n    {\n        static void Main(string[] args)\n            string InstallPath = (string)Registry.GetValue(@\"HKEY_CURRENT_USER\\Software\\Symantec\\Symantec Endpoint Protection\\SMC\\RunOnceSessionPlugin\", \"FixExtend.exe\", null);\n            string v1 = InstallPath;\n            string v2 = \"14.2\";\n\n            var version1 = new Version(v1);\n            var version2 = new Version(v2);\n\n            var result = version1.CompareTo(version2);\n            if (result &gt; 0)\n            {\n                Console.WriteLine(\"Antivirus is up to date\");\n            }\n            else if (result &lt; 0)\n            {\n                // Here is the file path of the new installation\n                Process.Start(@\"S:\\Symantec_Endpoint_Protection_14.2.1_MP1_Win64 - bit_Client_EN.exe\");\n            }\n            else\n            {\n                Console.WriteLine(\"Antivirus version is up to date\");\n            }\n            Console.WriteLine(\"Press any key \");\n            Console.ReadLine();\n        }\n\n    }\n}\n</code></pre>\n\n<p>But this strange error appered \nThis works with local files but this doesnt work on a network drive\nShould i start it in another method </p>\n"}, {"tags": ["c#", "asp.net", "xml", "parsing"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576687082, "post_id": 59396446, "comment_id": 104982146, "body": "<a href=\"https://stackoverflow.com/questions/6536715/get-connection-string-from-app-config\" title=\"get connection string from app config\">stackoverflow.com/questions/6536715/&hellip;</a>"}, {"owner": {"reputation": 379, "user_id": 8177311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/343952d3e064703d65577e596623f43f?s=128&d=identicon&r=PG&f=1", "display_name": "Masterolu", "link": "https://stackoverflow.com/users/8177311/masterolu"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576690319, "post_id": 59396446, "comment_id": 104983785, "body": "This is not from an app.config. This is an xml file in another folder"}], "answers": [{"tags": [], "owner": {"reputation": 791, "user_id": 10787774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4f7f579937b1c995f348e5291c641a3?s=128&d=identicon&r=PG&f=1", "display_name": "Jason D", "link": "https://stackoverflow.com/users/10787774/jason-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1576701335, "creation_date": 1576701335, "answer_id": 59399643, "question_id": 59396446, "link": "https://stackoverflow.com/questions/59396446/displaying-and-modifying-xml-data-with-c/59399643#59399643", "title": "Displaying and modifying xml data with C#", "body": "<p>This would be a brute force approach to parsing the connection string from an XML file.</p>\n\n<pre><code>    static void Main(string[] args)\n    {\n        XmlDocument xmlDoc = new XmlDocument();\n        xmlDoc.Load(\"settings.xml\");\n\n        string connectionStrings = xmlDoc.GetElementsByTagName(\"connectionStrings\")[0].InnerXml;\n\n        string tag = \"connectionString=\\\"\";\n        string connectionString = connectionStrings.Substring(connectionStrings.IndexOf(tag) + tag.Length);\n\n        string[] tokens = connectionString.Split(';');\n        Console.WriteLine(tokens.FirstOrDefault(t =&gt; t.Contains(\"data source=\")));\n        Console.WriteLine(tokens.FirstOrDefault(t =&gt; t.Contains(\"User Id=\")));\n        Console.WriteLine(tokens.FirstOrDefault(t =&gt; t.Contains(\"Password=\")));\n    }\n</code></pre>\n\n<p>And the output would be:</p>\n\n<p>data source=.\\SQLEXPRESS</p>\n\n<p>User Id=Tester</p>\n\n<p>Password=Test1</p>\n\n<p>With a little more code, you should be able to edit these fields, and then use xmlDoc.Save() to update your changes.</p>\n"}], "owner": {"reputation": 379, "user_id": 8177311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/343952d3e064703d65577e596623f43f?s=128&d=identicon&r=PG&f=1", "display_name": "Masterolu", "link": "https://stackoverflow.com/users/8177311/masterolu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576701335, "creation_date": 1576686938, "question_id": 59396446, "link": "https://stackoverflow.com/questions/59396446/displaying-and-modifying-xml-data-with-c", "title": "Displaying and modifying xml data with C#", "body": "<p>New to C# programming, and I'm kind of stuck right now. How would I create a simple program that let's me extract and display the data source value in connectionStrings. And lets me modify the Id and password? Am I on the right track with parsing</p>\n\n<pre><code>Document X = XDocument.Load(\"C:\\Users\\Odd_Creature\\Desktop\\SecureConfig\\\\UserProfiles\\UserInfo.exe.config\")\n\n    var configuration= X.Element(\"configuration\").Element(\"connectionStrings\");\n    var location = configuration.Descendants(\"\").Attributes(\"\").FirstOrDefault().Value;\ndoc.Save(xmlfile);\n</code></pre>\n\n<p><strong>XMLFILE</strong></p>\n\n<pre><code>&lt;configuration&gt;\n      &lt;configProtectedData /&gt;\n      &lt;system.diagnostics /&gt;\n      &lt;system.windows.forms /&gt;\n      &lt;uri /&gt;\n      &lt;appSettings&gt;\n        &lt;add key=\"GenerateProfile\" value=\"true\" /&gt;\n        &lt;add key=\"TestScore\" value=\"30\" /&gt;\n        &lt;add key=\"TestApplicationName\" value=\"User Account\" /&gt;\n      &lt;/appSettings&gt;\n      &lt;connectionStrings&gt;\n        &lt;add name=\"MyExample.database\" connectionString=\"data source=.\\SQLEXPRESS;initial catalog=wadb;integrated security=false;encrypt=true;trustservercertificate=true;User Id=Tester;Password=Test1;\"\n          providerName=\"System.Data.SqlClient\" /&gt;\n      &lt;/connectionStrings&gt;\n</code></pre>\n"}]