[{"tags": ["c#", "asp.net-core"], "comments": [{"owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 2, "creation_date": 1553126859, "post_id": 55271866, "comment_id": 97275052, "body": "Instead of <code>Session</code>, you can try <code>IMemoryCache</code>, you can insert any object in that."}, {"owner": {"reputation": 188, "user_id": 3538411, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/40e206af15bdd30536d6c4e4d27ea411?s=128&d=identicon&r=PG&f=1", "display_name": "user3538411", "link": "https://stackoverflow.com/users/3538411/user3538411"}, "reply_to_user": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 0, "creation_date": 1553127676, "post_id": 55271866, "comment_id": 97275244, "body": "Thanks Johan, I&#39;ll give that a try. It seems like I have to create my own session management built around the memory cache, as it is a system cache rather than a session cache. Is this the recommended approach?"}, {"owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 0, "creation_date": 1553128248, "post_id": 55271866, "comment_id": 97275356, "body": "Yes, you&#39;re going to have to make your cache keys use some unique id for a user, a userid or whatever identifies a user currently. Otherwise, use Marc Gravell&#39;s approach"}], "answers": [{"comments": [{"owner": {"reputation": 188, "user_id": 3538411, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/40e206af15bdd30536d6c4e4d27ea411?s=128&d=identicon&r=PG&f=1", "display_name": "user3538411", "link": "https://stackoverflow.com/users/3538411/user3538411"}, "edited": false, "score": 0, "creation_date": 1553128053, "post_id": 55272037, "comment_id": 97275319, "body": "I fully appreciate the sentiment around Datasets, and we have looked into abondoning them in the past. The data our customers consume is pretty specific and features a lot of very expensive analytical operations. We have tried to use staticly typed datasets before, but we run into maintenance burdens and problems with our most dynamic data that makes the tradeoffs not worth it. I&#39;ll look at your second suggestion and see if that helps, thank you."}], "tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": false, "score": 2, "last_activity_date": 1553127887, "creation_date": 1553127887, "answer_id": 55272037, "question_id": 55271866, "link": "https://stackoverflow.com/questions/55271866/is-there-a-way-to-utilize-sessionized-storage-in-net-core-without-the-overhead/55272037#55272037", "title": "Is there a way to utilize sessionized storage in .NET core without the overhead of binary serializers?", "body": "<blockquote>\n  <p>Our apps consume a lot of somewhat large ADO.NET datatables. It is not uncommon for them to contain thousands of rows and dozens of columns.</p>\n</blockquote>\n\n<p>I think we've found the problem :)</p>\n\n<p>Suggestions:</p>\n\n<ol>\n<li>don't try to serialize huge datasets in this kind of state; they are just too expensive</li>\n<li>enable <code>dataSet.RemotingFormat = System.Data.SerializationFormat.Binary;</code> before serializing a <code>DataSet</code> in <code>BinaryFormatter</code></li>\n<li>stop using <code>DataSet</code> and stop using <code>BinaryFormatter</code>; I'm not saying this loosely - they are pretty expensive, so <strong>if the data is actually pretty fixed</strong>, consider using a POCO type with a different serializer - protobuf would be <em>much</em> more efficient in both CPU and bandwidth (data volume)</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 188, "user_id": 3538411, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/40e206af15bdd30536d6c4e4d27ea411?s=128&d=identicon&r=PG&f=1", "display_name": "user3538411", "link": "https://stackoverflow.com/users/3538411/user3538411"}, "is_accepted": false, "score": 0, "last_activity_date": 1553202225, "last_edit_date": 1553202225, "creation_date": 1553201906, "answer_id": 55289148, "question_id": 55271866, "link": "https://stackoverflow.com/questions/55271866/is-there-a-way-to-utilize-sessionized-storage-in-net-core-without-the-overhead/55289148#55289148", "title": "Is there a way to utilize sessionized storage in .NET core without the overhead of binary serializers?", "body": "<p>I ended up using IMemoryCache as recommended by JohanP. IMemoryCache is a system store that doesn't require you to serialized your objects to store and retrieve them. </p>\n\n<p>I kept my application configured for session, so that .NET will continue to provide a cookie for session ID. I then append the session ID to the user supplied key before storing or retrieving an item, which is more or less how session is managed on .NET framework. </p>\n\n<pre><code>public class SessionManager : ISessionManager\n    {\n        private readonly IHttpContextAccessor _contextAccessor;\n        private readonly IMemoryCache _cache;\n        public SessionManager(IHttpContextAccessor contextAccessor\n                            , IMemoryCache cache\n        ) {\n            _contextAccessor = contextAccessor;\n            _cache = cache;\n         }\n        public T get&lt;T&gt;(string key)\n        {\n           object data;\n           _cache.TryGetValue(buildSessionKey(key), out data);\n           return data == null ? default(T) : (T)data;\n        }\n\n        public void set(string key, object data, TimeSpan maxLifeTime = default(TimeSpan))\n        {\n            TimeSpan adjustLifeTime = maxLifeTime.TotalMinutes &lt; 5 ? TimeSpan.FromMinutes(20) : maxLifeTime;\n            if (adjustLifeTime.TotalMinutes &gt; 90) adjustLifeTime = TimeSpan.FromMinutes(90);\n            MemoryCacheEntryOptions cacheEntryOptions = new MemoryCacheEntryOptions()\n            .SetSlidingExpiration(TimeSpan.FromMinutes(20))\n            .SetAbsoluteExpiration(adjustLifeTime);\n            _cache.Set(buildSessionKey(key), data);\n        }\n\n        public void remove(string key) {\n            _cache.Remove(buildSessionKey(key));\n        }\n\n        private string buildSessionKey(string partialKey) {\n            string sessionID = _contextAccessor.HttpContext.Session.Id;\n            return sessionID + partialKey;\n        } \n    }\n</code></pre>\n\n<p>Startup.cs  </p>\n\n<pre><code>        services.AddMemoryCache(options =&gt; \n        {\n            // options.SizeLimit = 4096;\n            options.ExpirationScanFrequency = TimeSpan.FromMinutes(20);\n        });\n        services.AddSession(options =&gt;\n        {\n            options.IdleTimeout = TimeSpan.FromMinutes(20);\n            options.Cookie.HttpOnly = true;\n            options.Cookie.IsEssential = true;\n        });\n</code></pre>\n\n<p>Using this approach, performance is similar to our .NET framework apps. </p>\n"}], "owner": {"reputation": 188, "user_id": 3538411, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/40e206af15bdd30536d6c4e4d27ea411?s=128&d=identicon&r=PG&f=1", "display_name": "user3538411", "link": "https://stackoverflow.com/users/3538411/user3538411"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1553202225, "creation_date": 1553126276, "last_edit_date": 1553126754, "question_id": 55271866, "link": "https://stackoverflow.com/questions/55271866/is-there-a-way-to-utilize-sessionized-storage-in-net-core-without-the-overhead", "title": "Is there a way to utilize sessionized storage in .NET core without the overhead of binary serializers?", "body": "<p>Session stroage in .net core apps requires you to convert it to a byte array first before retrieving it. Compared to .net framework storage, the overhead of these serialization and deserialization operations is incurring a significant amount of overhead. Operations that take 5ms in our .Net framework apps take upwards of 850ms in .Net core. I need the ability to store and retrieve fairly large quantities of data from a server cache in a high performance way, similar to how we can utilizing sessionized storage in .Net framework. </p>\n\n<p>Our apps consume a lot of somewhat large ADO.NET datatables. It is not uncommon for them to contain thousands of rows and dozens of columns. In the past we used .Net framework with session storage to quickly retrieve ADO.NET datatable objects to and from session. </p>\n\n<pre><code>DataTable dt = new DataTable();\nHttpContext.Current.Session[\"data\"] = dt; // store in session\ndt = (DataTable)HttpContext.Current.Session[\"data\"]; // retrieve from session\n</code></pre>\n\n<p>We also have our own custom classes that have datatables as members. These classes manipulate the data in different ways. We store and retrieve them from session also.</p>\n\n<pre><code>[Serializable]\n MyClass {\n    public DataTable dt;\n }\n</code></pre>\n\n<p>On our .NET framework apps typical requests for filtering and paging data take around 5ms round trip. Session access is very fast, and the performance penalty for each get and set operation is negligible.</p>\n\n<p>We have been trying to transition to .NET Core, which manages session a little bit differently. Rather than being able to store and retrieve any object in session, I first have to convert it to a byte array. I am using binary formatter with a little bit of logic to handle get and set operations. The code below is not as effecient as it could be, but by far the largest bottleneck is the deserialize operation in  the retrieveData method. </p>\n\n<pre><code>Public class SessionManager : ISessionManager\n    {\n        private readonly IHttpContextAccessor _contextAccessor;\n        public SessionManager(IHttpContextAccessor contextAccessor) {\n            _contextAccessor = contextAccessor;\n         }\n        public T get&lt;T&gt;(string key)\n        {\n            object data = retrieveData(key);\n            return data == null ? default(T) : (T)data;\n        }\n\n        public void set(string key, object data)\n        {\n            serializeBinary(key, data); \n        }\n\n        public void remove(string key) {\n            _contextAccessor.HttpContext.Session.Remove(key);\n        }\n\n        private void serializeBinary(string key, object data) {\n            BinaryFormatter bf = new BinaryFormatter();\n            using (var ms = new MemoryStream())\n            {\n                bf.Serialize(ms, data);\n                var bytes = ms.ToArray();\n                _contextAccessor.HttpContext.Session.Set(key, bytes);\n            }\n        }\n\n        private object retrieveData(string key) {\n            byte[] data = null;\n            _contextAccessor.HttpContext.Session.TryGetValue(key, out data);\n            if (data == null) return null;\n            using (MemoryStream ms = new MemoryStream(data))\n            {\n                IFormatter br = new BinaryFormatter();\n                return br.Deserialize(ms);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>MyClass c;\nc.dt = _myRepo.getLotsOfData();\n_SessionManager.set(\"data\", c);\nc = _SessionManager.get&lt;MyClass&gt;(\"data\");\n</code></pre>\n\n<p>The same paging and filtering operations we do on DataTables, utilizing the same classes, take between 850ms-950ms complete, compared to our .Net Framework apps which take 5ms. Profiling the performance in visual studio, the deserialization operation taked the lions share of that time, at 600ms for this operation alone.  </p>\n\n<p>I am aware of other libraries (like protobuf) that are much faster than binary formatter, and that is probably where I will go next. However, if I reduce the deserilization time to 300ms or even 200ms, I have still lost a lot of performance compared to.Net Framework.</p>\n\n<p>It seems to me like a different kind of caching strategy is required. Is there a way to store and retrieve data in .Net core apps, that doesn't require the overhead of serializing and deserializing  the data first?</p>\n"}, {"tags": ["c#", "asp.net-core"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1553126381, "post_id": 55271856, "comment_id": 97274933, "body": "None of the options have absolutely nothing to do with <code>Index.cshtml</code>, and this &quot;it is going to use the Home Controller with it&#39;s associated Index.cshtml file&quot; is <b>not</b> true. That just tells it&#39;s going to use the HomeController <i>by default</i> and if no action is specified then the Index action would be used"}, {"owner": {"reputation": 2241, "user_id": 176536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e48533e9bafd4e23c2c67aed41a0f164?s=128&d=identicon&r=PG", "display_name": "JustLooking", "link": "https://stackoverflow.com/users/176536/justlooking"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1553127045, "post_id": 55271856, "comment_id": 97275100, "body": "&quot;None of the options have absolutely nothing&quot; is a double negative. :)  ... I kid.  Anyhow, please forgive me as it might be obvious that I am very new to this and was clumsy with my language."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1553127345, "post_id": 55271856, "comment_id": 97275164, "body": "Yeah, blame non-native English and tiredness :) For Razor Pages (first option) look <a href=\"https://docs.microsoft.com/en-us/aspnet/core/razor-pages/razor-pages-conventions\" rel=\"nofollow noreferrer\">here</a> and for MVC (second option) <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/controllers/routing\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 2241, "user_id": 176536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e48533e9bafd4e23c2c67aed41a0f164?s=128&d=identicon&r=PG", "display_name": "JustLooking", "link": "https://stackoverflow.com/users/176536/justlooking"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1553127522, "post_id": 55271856, "comment_id": 97275205, "body": "First link was broken, but the second option ... I was there already (before I posted).  It talks of setting up routes.MapRoute, just like the MVC project, but nowhere in that article does it describe why it goes directly to index.cshtml if you define no route.  I&#39;m trying to scratch that itch!"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1553127642, "post_id": 55271856, "comment_id": 97275237, "body": "Ah sorry, I removed the last s from the url, fixed! And it does answer that, look right under &quot;The route template:&quot; with 3 bullet points at the top of the doc. And as for the View, in another doc in that tutorial series explains that using <code>return View()</code> returns a View with the name of the Action (so Home/Index =&gt; Views/Home/Index.cshtml)"}, {"owner": {"reputation": 2241, "user_id": 176536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e48533e9bafd4e23c2c67aed41a0f164?s=128&d=identicon&r=PG", "display_name": "JustLooking", "link": "https://stackoverflow.com/users/176536/justlooking"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1553127918, "post_id": 55271856, "comment_id": 97275287, "body": "Eeek!  Im going to have to disagree on that second link.  It says Using the default route: routes.MapRoute(&quot;default&quot;, &quot;{controller=Home}/{action=Index}/{id?}&quot;);  The route template: (3 bullet points).  ... See, that&#39;s actual routes.MapRoute code, just like the MVC project.   But the project I created (razor) does not have any code in it that contains the word &quot;MapRoute&quot;.  So my question was, in the absence of this code, where does it define that this is the default route."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1553128030, "post_id": 55271856, "comment_id": 97275316, "body": "The first link explains it. I&#39;m not used to Razor Pages (I hate the concept behind it) so I cannot describe it briefly as I can with MVC"}, {"owner": {"reputation": 2241, "user_id": 176536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e48533e9bafd4e23c2c67aed41a0f164?s=128&d=identicon&r=PG", "display_name": "JustLooking", "link": "https://stackoverflow.com/users/176536/justlooking"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1553128291, "post_id": 55271856, "comment_id": 97275367, "body": "Hrmm, at a glance, still not seeing it (first link).  But I&#39;m also 45 minutes later at work then I wanted to be!  Wife is texting, so I&#39;ll give it a slower read tomorrow.  Thanks for your time."}, {"owner": {"reputation": 2241, "user_id": 176536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e48533e9bafd4e23c2c67aed41a0f164?s=128&d=identicon&r=PG", "display_name": "JustLooking", "link": "https://stackoverflow.com/users/176536/justlooking"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1553184989, "post_id": 55271856, "comment_id": 97299545, "body": "Yeah, re-reading today.  Neither of those links answer or even talk about what I asked.  I guess in the absence of some type of custom or additional routing, it just magically looks for index.cshtml.  I&#39;ll hold out hope someone can chime in to confirm!"}, {"owner": {"reputation": 2241, "user_id": 176536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e48533e9bafd4e23c2c67aed41a0f164?s=128&d=identicon&r=PG", "display_name": "JustLooking", "link": "https://stackoverflow.com/users/176536/justlooking"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1553185218, "post_id": 55271856, "comment_id": 97299697, "body": "Just found this SO post: <a href=\"https://stackoverflow.com/questions/48684461/razor-pages-default-page-in-aspnetcore-2?rq=1\" title=\"razor pages default page in aspnetcore 2\">stackoverflow.com/questions/48684461/&hellip;</a>  ... where it was said in the question: &quot;By default a Razor Page app goes to Home/Index&quot; and in the accepted answer it says: &quot;The docs say the runtime controls the search for Index as the default&quot;.  I was just hoping to find some actual text/code/file that I could open and go &quot;aha!  that&#39;s where it&#39;s written!&quot;"}], "owner": {"reputation": 2241, "user_id": 176536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e48533e9bafd4e23c2c67aed41a0f164?s=128&d=identicon&r=PG", "display_name": "JustLooking", "link": "https://stackoverflow.com/users/176536/justlooking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 312, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553126653, "creation_date": 1553126202, "last_edit_date": 1553126653, "question_id": 55271856, "link": "https://stackoverflow.com/questions/55271856/asp-net-core-2-2-web-app-what-tells-it-to-display-index-cshtml", "title": "ASP.NET Core 2.2 Web App - what tells it to display Index.cshtml", "body": "<p>I'm using Visual Studio 2017 and .NET Core 2.2.</p>\n\n<p>Do the following:</p>\n\n<ol>\n<li>New Project and select ASP.NET Core Web Application (press OK)</li>\n<li>This takes you to a second dialog where you can select Web Application (has example Razor Pages) or Web Application (Model-View-Controller).</li>\n</ol>\n\n<p>I want to point out one difference between the two options, when looking at Startup.cs:</p>\n\n<p>If you select just Web Application, you will get this at the bottom of the Configure function:</p>\n\n<pre><code>        app.UseMvc();\n</code></pre>\n\n<p>If you select Web Application (Model-View-Controller), you will get this:</p>\n\n<pre><code>        app.UseMvc(routes =&gt;\n        {\n            routes.MapRoute(\n                name: \"default\",\n                template: \"{controller=Home}/{action=Index}/{id?}\");\n        });\n</code></pre>\n\n<p>So, the MVC project defines some type of routing.  Which specifically tells me that it is going to use the Home Controller by default and if no action is specified then the Index(.cshtml) action will be used.</p>\n\n<p>The first option (Razor pages), routes nothing.</p>\n\n<p>I don't understand.  Does this mean that if you don't define a MapRoute it will just always use the Index(.cshtml) action?</p>\n\n<p>Because With the MVC Project, if I used just:</p>\n\n<pre><code>        app.UseMvc();\n</code></pre>\n\n<p>and defined no MapRoute, I would get a 404.  How is the Razor app defining it's routing (and where)?</p>\n"}, {"tags": ["c#", "ms-access", "entity-framework-6", "razor-pages"], "answers": [{"tags": [], "owner": {"reputation": 1115, "user_id": 564810, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a5ebfc98dc69621291ef7bfc6ffda99?s=128&d=identicon&r=PG", "display_name": "JustJohn", "link": "https://stackoverflow.com/users/564810/justjohn"}, "is_accepted": true, "score": 0, "last_activity_date": 1554013082, "creation_date": 1554013082, "answer_id": 55438388, "question_id": 55271833, "link": "https://stackoverflow.com/questions/55271833/how-do-i-connect-an-mvc-razor-pages-project-to-an-ms-access-database/55438388#55438388", "title": "How Do I Connect an MVC Razor Pages Project to an MS Access Database", "body": "<p>Ok, pretty sure Access driver is a choice when creating a Connection.\nPick ODBC datasources> MS Access.</p>\n\n<p>What threw me off was my dev computer only recognizes the old \".mdb\" MS Access format.\nI was looking for an MS Access driver for the \".accdb\" format (newer). This is a known fault on my dev box. The correct dlls are not installed. Proof of this is I can import \".xls\" files into my SSMS 2017, but not \".xlsx\". This is another story for another bedtime.</p>\n\n<p>My workaround was to port the MS Access tables to SQLIte, download an SQLite ODBC driver, and an SQLite browser and make a connect, using the ODBC option from VS 2017 to my project. whew.</p>\n"}], "owner": {"reputation": 1115, "user_id": 564810, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a5ebfc98dc69621291ef7bfc6ffda99?s=128&d=identicon&r=PG", "display_name": "JustJohn", "link": "https://stackoverflow.com/users/564810/justjohn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 55438388, "answer_count": 1, "score": 1, "last_activity_date": 1554013082, "creation_date": 1553126041, "question_id": 55271833, "link": "https://stackoverflow.com/questions/55271833/how-do-i-connect-an-mvc-razor-pages-project-to-an-ms-access-database", "title": "How Do I Connect an MVC Razor Pages Project to an MS Access Database", "body": "<p>I created a Razor Pages Project in Visual Studio 2017. \nI have an existing MS Access database with several tables.\n(Courses and Sponsors).\nI want to use Entity Framework to have Scaffolding create the basic CRUD pages.</p>\n\n<p>I am totally lost, and I have searched for anything that will help.\nI imported 2 packages using NuGet\nSystem.Data.Odbc\nMSA.NetCore.ODBC\nbut I have no idea how to configure a connection string and DbContext class.</p>\n"}, {"tags": ["c#", "readfile"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1553126198, "post_id": 55271825, "comment_id": 97274880, "body": "(A) What does <code>streamReader.ReadToEnd()</code> do? (Check your assumptions by looking into the documentation for StreamReader.ReadToEnd / TextReader.ReadToEnd) (B). Look what methods the <code>System.IO.File</code> class provides (again, documentation for this class will give you an overview as well as details about the provided methods). Some might be helpful in simplifying your code. (C) For processing of individual lines, look into how you can detect datetime lines or when they start and end (you might do simple string comparisons/finds, or try leveraging string pattern matching with regular expressions)"}, {"owner": {"reputation": 831, "user_id": 9997280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ba0b2af09b03bca978c7e6ecc228f4?s=128&d=identicon&r=PG&f=1", "display_name": "Arphile", "link": "https://stackoverflow.com/users/9997280/arphile"}, "edited": false, "score": 0, "creation_date": 1553126803, "post_id": 55271825, "comment_id": 97275039, "body": "seems if you split with (&quot;) char, you can get dateform string on string[1]. try/catch to parse as date. if it&#39;s success, store on temp whole line."}], "answers": [{"comments": [{"owner": {"reputation": 924, "user_id": 5191640, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/avZ8N.jpg?s=128&g=1", "display_name": "Rock n&#39; Roll", "link": "https://stackoverflow.com/users/5191640/rock-n-roll"}, "edited": false, "score": 0, "creation_date": 1553130831, "post_id": 55271970, "comment_id": 97275898, "body": "Should I need to store it in string in the reading loop? I can&#39;t see any output from mine. Is it because I append them to list then loop it."}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "reply_to_user": {"reputation": 924, "user_id": 5191640, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/avZ8N.jpg?s=128&g=1", "display_name": "Rock n&#39; Roll", "link": "https://stackoverflow.com/users/5191640/rock-n-roll"}, "edited": false, "score": 0, "creation_date": 1553133510, "post_id": 55271970, "comment_id": 97276474, "body": "@Rockn&#39;Roll hi, i am not totally sure what you are asking, however i have updated with an example more inline with what you are doing."}, {"owner": {"reputation": 924, "user_id": 5191640, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/avZ8N.jpg?s=128&g=1", "display_name": "Rock n&#39; Roll", "link": "https://stackoverflow.com/users/5191640/rock-n-roll"}, "edited": false, "score": 0, "creation_date": 1553134671, "post_id": 55271970, "comment_id": 97276700, "body": "I tried your suggested code but the list returns me System.Collections.Generic.List`1[System.String]."}, {"owner": {"reputation": 924, "user_id": 5191640, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/avZ8N.jpg?s=128&g=1", "display_name": "Rock n&#39; Roll", "link": "https://stackoverflow.com/users/5191640/rock-n-roll"}, "edited": false, "score": 0, "creation_date": 1553134693, "post_id": 55271970, "comment_id": 97276703, "body": "and If I am going to loop the the temp it returns me nothing"}, {"owner": {"reputation": 924, "user_id": 5191640, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/avZ8N.jpg?s=128&g=1", "display_name": "Rock n&#39; Roll", "link": "https://stackoverflow.com/users/5191640/rock-n-roll"}, "edited": false, "score": 0, "creation_date": 1553134799, "post_id": 55271970, "comment_id": 97276732, "body": "can I give you the actual txt file? the text file size is 102mb. I just simplify my sample  content there to be fit in my question."}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "reply_to_user": {"reputation": 924, "user_id": 5191640, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/avZ8N.jpg?s=128&g=1", "display_name": "Rock n&#39; Roll", "link": "https://stackoverflow.com/users/5191640/rock-n-roll"}, "edited": false, "score": 0, "creation_date": 1553135112, "post_id": 55271970, "comment_id": 97276798, "body": "@Rockn&#39;Roll might be easier to talk here <a href=\"https://chat.stackoverflow.com/rooms/190410/helpforrocknroll\">chat.stackoverflow.com/rooms/190410/helpforrocknroll</a>"}], "tags": [], "owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "is_accepted": true, "score": 1, "last_activity_date": 1607424233, "last_edit_date": 1607424233, "creation_date": 1553127261, "answer_id": 55271970, "question_id": 55271825, "link": "https://stackoverflow.com/questions/55271825/reading-text-file-and-get-line-with-date-values/55271970#55271970", "title": "Reading text file and get line with date values", "body": "<p>You could probably (tentatively) get away with something like this <em>Pattern</em>. It takes into consideration negative <em>Extended Notation</em> and also has the tabs in the original format (not shown in the example)</p>\n<pre><code>^&quot;&quot;\\d+/\\d+/\\d+ \\d+:\\d+:\\d+ (AM|PM)&quot;&quot;\\s+-?\\d+\\s+\\d+.?\\d+e-\\d+\n</code></pre>\n<p><sub><strong>Note</strong>: I am not going to write the regex explanation as it's too long.</sub></p>\n<p><strong>Example</strong></p>\n<pre><code>var pattern = @&quot;^&quot;&quot;\\d+/\\d+/\\d+ \\d+:\\d+:\\d+ (AM|PM)&quot;&quot;\\s+-?\\d+\\s+\\d+.?\\d+e-\\d+&quot;;\nvar regex = new Regex(pattern, RegexOptions.Compiled);\n\nvar filePaths = Directory.GetFiles(@&quot;C:\\Temp&quot;, &quot;*.txt&quot;);\n\nvar results = new List&lt;string&gt;();\n\nforeach (var file in filePaths)\n{\n   var lines = File.ReadLines(@&quot;D:\\sample.txt&quot;).Where(x =&gt; regex.IsMatch(x));\n   results.AddRange(lines);\n}\n</code></pre>\n<p>However, to take this a step further you could do the following. This will put all the data parsed into a class.</p>\n<p><strong>Given</strong></p>\n<pre><code>public class ScanData\n{\n   public DateTime Time { get; set; }\n   public int Scan { get; set; }\n   public decimal?[] MassResults  { get; set; }\n\n   public static ScanData FromString(string data)\n   {\n      var split = data.Split('\\t');\n\n      decimal? Local(string value)\n      {\n         return decimal.TryParse(value, NumberStyles.Float, null, out var output) ? output : (decimal?)null;\n      }\n\n      var scanData = new ScanData()\n                     {\n                        Time = DateTime.ParseExact(split[0].Trim('&quot;'), &quot;M/d/yyyy h:m:s tt&quot;, null),\n                        Scan = int.Parse(split[1]),\n                        MassResults = split.Skip(2).Select(Local).ToArray()\n                     };\n\n      return scanData;\n   }\n\n}\n</code></pre>\n<p><strong>Example</strong></p>\n<pre><code>var pattern = @&quot;^&quot;&quot;\\d+/\\d+/\\d+ \\d+:\\d+:\\d+ (AM|PM)&quot;&quot;\\s+-?\\d+\\s+\\d+.?\\d+e-\\d+&quot;;\nvar regex = new Regex(pattern, RegexOptions.Compiled);\n\nvar filePaths = Directory.GetFiles(@&quot;C:\\Temp&quot;, &quot;*.txt&quot;);\n\nvar results = new List&lt;ScanData&gt;();\n\nforeach (var file in filePaths)\n{\n   var lines = File.ReadLines(@&quot;D:\\sample.txt&quot;)\n                   .Where(x =&gt; regex.IsMatch(x))\n                   .Select(x =&gt; ScanData.FromString(x));\n   results.AddRange(lines);\n}\n</code></pre>\n"}], "owner": {"reputation": 924, "user_id": 5191640, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/avZ8N.jpg?s=128&g=1", "display_name": "Rock n&#39; Roll", "link": "https://stackoverflow.com/users/5191640/rock-n-roll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 471, "favorite_count": 0, "accepted_answer_id": 55271970, "answer_count": 1, "score": 5, "last_activity_date": 1607424233, "creation_date": 1553125986, "question_id": 55271825, "link": "https://stackoverflow.com/questions/55271825/reading-text-file-and-get-line-with-date-values", "title": "Reading text file and get line with date values", "body": "<p>Is there an easy way to find lines that consist of date time.</p>\n\n<p>So far I can read the textfile and my next step is to parse it, but before that I think I need some guidance before I proceed. Here is my current read script:</p>\n\n<pre><code>List&lt;string&gt; Temp = new List&lt;string&gt;();            \nstring[] filePaths = Directory.GetFiles(@\"C:\\\\Temp\\\\\", \"*.txt\");\n\nforeach (string files in filePaths)\n{\n    var fileStream = new FileStream(files, FileMode.Open, FileAccess.Read);\n    using (var streamReader = new StreamReader(fileStream, Encoding.UTF8))\n    {\n        Temp.Add(streamReader.ReadToEnd());\n    }\n}\n\nforeach (string i in Temp)\n{\n    if (i.Contains(\"Events\"))\n    {\n        Console.WriteLine(i);        \n    }\n}\n</code></pre>\n\n<p>Here is the sample text template that I need to parse generated from the tool.</p>\n\n<pre><code>\"[Output]\"\n\"[Events]\"\n\"Time\"  \"Duration\"  \"Severity\"  \"Event\" \"Text1\" \"Text2\"\n\n\n\"[Acquisition Settings_1]\"\n\"Data Set\"  \"DataSet1\"\n\"Data Stream\"   \"Data\"\n\n\n\"[Scan Data (Pressures in Torr)]\"\n\"Time\"  \"Scan\"  \"Mass 1\"    \"Mass 2\"    \"Mass 3\"    \n\"10/25/2018 4:59:27 PM\" 1   5.5816e-008 1.3141e-008 -1.6109e-010    \n\"10/25/2018 4:59:35 PM\" 2   5.5484e-008 1.3403e-008 6.9720e-010 \n\"10/25/2018 4:59:41 PM\" 3   5.5633e-008 1.3388e-008 8.8094e-011 \n\"10/25/2018 4:59:48 PM\" 4   5.7289e-008 1.2343e-008 1.4095e-010 \n\"10/25/2018 4:59:54 PM\" 5   5.2841e-008 1.3219e-008 7.5257e-010 \n\n\"10/25/2018 4:59:57 PM\" \"After Calibration due to marginal data of daily pm3 rga checking\"  \n\"10/25/2018 5:49:51 PM\" \"RGA Base Pressure\nFlat pallet (2018-10-25_011_a1a)\"   \n\"10/25/2018 6:21:53 PM\" \"PM3 SiNFILL_27A\n2018-10-25_011_A4A\" \n\"10/25/2018 9:51:29 PM\" \"IBE1 STEP\nFULL TAPE\nNO PRE-BAKE\"    \n\"10/25/2018 9:58:48 PM\" \"IBE2 STEP\n</code></pre>\n\n<p>And here is my Aim or expected result is to get the line with datetime value:</p>\n\n<pre><code>\"10/25/2018 4:59:27 PM\" 1   5.5816e-008 1.3141e-008 -1.6109e-010    \n\"10/25/2018 4:59:35 PM\" 2   5.5484e-008 1.3403e-008 6.9720e-010 \n\"10/25/2018 4:59:41 PM\" 3   5.5633e-008 1.3388e-008 8.8094e-011 \n\"10/25/2018 4:59:48 PM\" 4   5.7289e-008 1.2343e-008 1.4095e-010 \n\"10/25/2018 4:59:54 PM\" 5   5.2841e-008 1.3219e-008 7.5257e-010 \n</code></pre>\n\n<p>Any suggestion TIA.</p>\n"}, {"tags": ["c#", "asp.net-mvc-5", "controller"], "owner": {"reputation": 21, "user_id": 11157122, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HZlHLNl1I2w/AAAAAAAAAAI/AAAAAAAATm4/jJHNxjXQegA/photo.jpg?sz=128", "display_name": "jwbas", "link": "https://stackoverflow.com/users/11157122/jwbas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 9, "favorite_count": 0, "closed_date": 1553124666, "answer_count": 0, "score": 1, "last_activity_date": 1553124542, "creation_date": 1553124542, "question_id": 55271612, "link": "https://stackoverflow.com/questions/55271612/applicationuser-list-in-mvc-5-is-empty", "closed_reason": "Duplicate", "title": "ApplicationUser List in MVC 5 is empty?", "body": "<p>I'm trying to create a List of the ApplicationUsers to find the customer that corresponds to the correct Invoice. I tried the following below, but got a NullReferenceException: </p>\n\n<blockquote>\n  <p>System.NullReferenceException: Object reference not set to an instance of an object.</p>\n</blockquote>\n\n<p>The code in my Controller:</p>\n\n<pre><code>private string FindCustomerForReservation(List&lt;Invoice&gt; invoices, List&lt;ApplicationUser&gt; customers, Reservation currentReservation)\n    {\n        string customername;\n\n        Invoice correspInvoice = invoices.Find(f =&gt; f.Id == currentReservation.Invoicenumber);\n\n        ApplicationUser customer =  customers.Find(k =&gt; k.Id == correspInvoice.CustomerId);\n\n        customername = customer.UserName;\n\n        return customername;\n    }\n</code></pre>\n\n<p>So I assume the list is null or empty. Is that correct or is it something else?</p>\n\n<p>How would I fix this?</p>\n"}, {"tags": ["c#", "asp.net-core"], "comments": [{"owner": {"reputation": 1429, "user_id": 1402237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sXps1.jpg?s=128&g=1", "display_name": "rekiem87", "link": "https://stackoverflow.com/users/1402237/rekiem87"}, "edited": false, "score": 0, "creation_date": 1553124462, "post_id": 55271498, "comment_id": 97274404, "body": "Have you tried with &#39;string page = HttpContext.Request.Query[&quot;page&quot;]&#39;?"}], "answers": [{"tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": true, "score": 0, "last_activity_date": 1553126165, "last_edit_date": 1553126165, "creation_date": 1553125260, "answer_id": 55271709, "question_id": 55271498, "link": "https://stackoverflow.com/questions/55271498/replace-page-request-in-asp-net-core-2/55271709#55271709", "title": "Replace Page.Request in ASP.NET Core 2", "body": "<p>ASP.NET WebForms is not directly convertable to ASP.NET MVC and ASP.NET Core because the \"web form\" paradigm does not translate well to the controller+action+model+binding system used in ASP.NET MVC. I recommend you read these other QAs first:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41577376/how-to-read-values-from-the-querystring-with-asp-net-core\">How to read values from the querystring with ASP.NET Core?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48188934/why-is-stringvalues-used-for-request-query-values\">Why is StringValues used for Request.Query values?</a></li>\n</ul>\n\n<p>The old <code>HttpRequest</code> object combined both <code>QueryString</code> and <code>Form</code> values together, but that's a bad design and now you need to explictly check one or the other (or both) so you know exactly where the value is coming from.</p>\n\n<p>However, if you have a querystring value, you should make that a controller action parameter instead of using the <code>Request</code> object. You can use strongly-typed values (like <code>Int32</code> instead of <code>String</code> so you don't need to perform validation and conversion yourself. Like so:</p>\n\n<pre><code>public async Task&lt;IActionResult&gt; GetShoppingCart( [FromQuery] Int32 productId )\n{\n    ShoppingCart cart = await this.db.GetShoppingCartAsync( productId );\n\n    ShoppingCartViewModel vm = new ShoppingCartViewModel()\n    {\n        Cart = cart\n    };\n\n    return this.View( model: vm );\n}\n</code></pre>\n\n<p>However, if you would still prefer to access raw querystring or posted form values as their original string values, then do it like so.</p>\n\n<p>Note that <code>Form</code> and <code>Query</code> are no-longer <code>NameValueCollection</code> objects but more strongly-typed classes that correctly expose \"single key, multiple values\" data more correctly. So do this to get the <code>\"ProductId\"</code> value like before:</p>\n\n<pre><code>String rawId = this.Request.Form[\"ProductId\"].FirstOrDefault() ?? this.Request.Query[\"ProductId\"].FirstOrDefault();\n</code></pre>\n\n<p>Because each <code>Form</code> entry is <code>StringValues</code> instead of <code>String</code> you need to always use <code>FirstOrDefault()</code> to get a single string value (don't use <code>SingleOrDefault()</code> because it will throw an exception if 2 or more values are present for the same key). Secondarily, the <code>??</code> operator will make the program check the querystring if the named value is not present in the posted <code>Form</code> values first.</p>\n\n<p>The <code>Form</code> and <code>Query</code> collections return <code>StringValues.Empty</code> instead of <code>null</code> if the specified key is not found in either collection so you won't risk a <code>NullReferenceException</code> by using the <code>FirstOrDefault()</code> extension method if the key isn't present in the dictionary.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11156893"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 0, "accepted_answer_id": 55271709, "answer_count": 1, "score": 1, "last_activity_date": 1553126165, "creation_date": 1553123772, "last_edit_date": 1553125055, "question_id": 55271498, "link": "https://stackoverflow.com/questions/55271498/replace-page-request-in-asp-net-core-2", "title": "Replace Page.Request in ASP.NET Core 2", "body": "<p>I am migrating project from Net 4.6.2 into Net Core 2.\nWhat is the replacement for Request in MVC Net Core 2? How do I replace this line below? \n<code>string rawId = Request[\"ProductID\"];</code> </p>\n\n<p>In Net Core 2, I am receiving</p>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>Cannot apply indexing with [] to an expression of type 'HttpRequest'    HPE.Kruta.Web.Core\n</code></pre>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.httprequest?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.web.httprequest?view=netframework-4.7.2</a></p>\n\n<p><strong>Code Example:</strong></p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)  \n{  \n    string rawId = Request[\"ProductID\"];  \n    int productId;  \n    if (!String.IsNullOrEmpty(rawId) &amp;&amp; int.TryParse(rawId, out productId))  \n    {  \n        using (ShoppingCartActions usersShoppingCart = new ShoppingCar\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1060, "user_id": 7702748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K2jOI.png?s=128&g=1", "display_name": "Twometer", "link": "https://stackoverflow.com/users/7702748/twometer"}, "edited": false, "score": 3, "creation_date": 1553123446, "post_id": 55271424, "comment_id": 97274103, "body": "what is <code>session</code> here?"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 1, "creation_date": 1553124206, "post_id": 55271424, "comment_id": 97274321, "body": "If this is Windows Forms, there&#39;s a Form Closing event.  That&#39;s where I write my user settings off to a file.  I usually write an XML file off to Isolated Storage (so that the user can&#39;t easily find and delete it)"}, {"owner": {"reputation": 1581, "user_id": 2924019, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/90e8336f378bacceea50fa5c0b647aaf?s=128&d=identicon&r=PG&f=1", "display_name": "user2924019", "link": "https://stackoverflow.com/users/2924019/user2924019"}, "edited": false, "score": 0, "creation_date": 1553175613, "post_id": 55271424, "comment_id": 97293247, "body": "session is the name of the settings file, I called it session as it contains previous session data."}], "answers": [{"comments": [{"owner": {"reputation": 1581, "user_id": 2924019, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/90e8336f378bacceea50fa5c0b647aaf?s=128&d=identicon&r=PG&f=1", "display_name": "user2924019", "link": "https://stackoverflow.com/users/2924019/user2924019"}, "edited": false, "score": 0, "creation_date": 1553175710, "post_id": 55271506, "comment_id": 97293320, "body": "I&#39;ll take another look. I do have another form which saves the settings fine, however I may be mistaken and it may revert after I restart my application. I will look again tonight. Thanks."}], "tags": [], "owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "is_accepted": false, "score": 1, "last_activity_date": 1553123813, "creation_date": 1553123813, "answer_id": 55271506, "question_id": 55271424, "link": "https://stackoverflow.com/questions/55271424/saving-form-settings-on-exit/55271506#55271506", "title": "Saving form settings on exit", "body": "<p>If this is what i think it is, then this might be relevant </p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/framework/winforms/advanced/how-to-write-user-settings-at-run-time-with-csharp\" rel=\"nofollow noreferrer\">How To: Write User Settings at Run Time with C#</a></p>\n\n<blockquote>\n  <p>Settings that are application-scoped are read-only, and can only be\n  changed at design time or by altering the .config file in between\n  application sessions. Settings that are user-scoped, however, can be\n  written at run time just as you would change any property value. The\n  new value persists for the duration of the application session. You\n  can persist the changes to the settings between application sessions\n  by calling the Save method.</p>\n</blockquote>\n\n<p>So likely, you could just call</p>\n\n<pre><code>session.Default.Save();  \n</code></pre>\n\n<p><sub><strong><em>Note</strong> : I could be completely wrong</em></sub></p>\n"}], "owner": {"reputation": 1581, "user_id": 2924019, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/90e8336f378bacceea50fa5c0b647aaf?s=128&d=identicon&r=PG&f=1", "display_name": "user2924019", "link": "https://stackoverflow.com/users/2924019/user2924019"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553123813, "creation_date": 1553123125, "question_id": 55271424, "link": "https://stackoverflow.com/questions/55271424/saving-form-settings-on-exit", "title": "Saving form settings on exit", "body": "<p>I am trying to have my application save some form settings on exit.</p>\n\n<p>Eg. I have a textbox and a checkbox and I want to save the states of both to a settings file. </p>\n\n<p>I already know how to save the settings to the settings file, the trouble is that the settings don't save in the exiting method.</p>\n\n<p>My application exit method is this:</p>\n\n<pre><code>void OnApplicationExit(object sender, EventArgs e)\n{\n    MessageBox.Show(\"Exiting...\");\n    session.Default.Path = txtPath.Text;\n    session.Default.Regex = chkRegex.Checked;\n}\n</code></pre>\n\n<p>These are the two ways I've tried to have it call on exit:</p>\n\n<pre><code>private void Form1_Load(object sender, EventArgs e)\n{\n    AppDomain.CurrentDomain.ProcessExit += new EventHandler(OnApplicationExit);\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>private void Form1_Load(object sender, EventArgs e)\n{\n    this.FormClosing += OnApplicationExit;\n}\n</code></pre>\n\n<p>With both, the method gets called, the message box is shown but neither save the settings. I think the form controls are getting unloaded before it has a chance to read the values.</p>\n\n<p>How can I save these form control values on exit?</p>\n"}, {"tags": ["c#", "macos", "xamarin", "mvvmcross", "xamarin.mac"], "comments": [{"owner": {"reputation": 21731, "user_id": 368379, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10b252748343cde1de7df537b57f11ce?s=128&d=identicon&r=PG", "display_name": "Cheesebaron", "link": "https://stackoverflow.com/users/368379/cheesebaron"}, "edited": false, "score": 1, "creation_date": 1553126525, "post_id": 55271363, "comment_id": 97274967, "body": "What do you mean with, link directly? Please elaborate"}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 1, "creation_date": 1553158504, "post_id": 55271363, "comment_id": 97283570, "body": "Not too understand &quot;link to the Main.storyboard/ViewController&quot; ,This should need CustomRenderer to make a connection between them."}, {"owner": {"reputation": 101, "user_id": 2732331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DyzTA.png?s=128&g=1", "display_name": "Boris Sclauzero", "link": "https://stackoverflow.com/users/2732331/boris-sclauzero"}, "reply_to_user": {"reputation": 21731, "user_id": 368379, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10b252748343cde1de7df537b57f11ce?s=128&d=identicon&r=PG", "display_name": "Cheesebaron", "link": "https://stackoverflow.com/users/368379/cheesebaron"}, "edited": false, "score": 0, "creation_date": 1554229555, "post_id": 55271363, "comment_id": 97672506, "body": "@Cheesebaron; I added more details, I hope this helps to understand better the issue. Thanks in advance"}, {"owner": {"reputation": 3977, "user_id": 126091, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d62b856cf2ee9ed0f4147f2d9ebc53fa?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/126091/adam"}, "edited": false, "score": 0, "creation_date": 1581648800, "post_id": 55271363, "comment_id": 106516036, "body": "Hi @BorisSclauzero - did you ever figure this one out? I&#39;m in a similar spot."}, {"owner": {"reputation": 101, "user_id": 2732331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DyzTA.png?s=128&g=1", "display_name": "Boris Sclauzero", "link": "https://stackoverflow.com/users/2732331/boris-sclauzero"}, "reply_to_user": {"reputation": 3977, "user_id": 126091, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d62b856cf2ee9ed0f4147f2d9ebc53fa?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/126091/adam"}, "edited": false, "score": 0, "creation_date": 1581786069, "post_id": 55271363, "comment_id": 106555360, "body": "Hi @Adam,  Sorry no useful response at the moment :( My next step will be to use Electron.Net with Blazor app instead of Xamarin.Mac"}, {"owner": {"reputation": 3977, "user_id": 126091, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d62b856cf2ee9ed0f4147f2d9ebc53fa?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/126091/adam"}, "edited": false, "score": 1, "creation_date": 1587779067, "post_id": 55271363, "comment_id": 108651939, "body": "Thanks @BorisSclauzero - Yeah, me too - I&#39;ve been a Xamarin guy for a long time (since it was initially released in fact), but I&#39;m spending my time these days getting familiar with Flutter. Xam Forms just doesn&#39;t deliver on the cross platform investment well enough."}], "owner": {"reputation": 101, "user_id": 2732331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DyzTA.png?s=128&g=1", "display_name": "Boris Sclauzero", "link": "https://stackoverflow.com/users/2732331/boris-sclauzero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553285569, "creation_date": 1553122772, "last_edit_date": 1553285569, "question_id": 55271363, "link": "https://stackoverflow.com/questions/55271363/using-mvvmcross-with-xamarin-mac", "title": "Using MvvmCross with Xamarin.Mac", "body": "<p>I tried to implement an OSX application using <strong>Xamrin.Mac</strong> and <strong>MvvmCross v6.2.3</strong>.</p>\n\n<p>I successfully realized a basic example as described in <a href=\"https://www.mvvmcross.com/documentation/getting-started/mvvmcross-overview\" rel=\"nofollow noreferrer\">official documentation</a> and in the <a href=\"https://github.com/MvvmCross/MvvmCross/tree/develop/ContentFiles\" rel=\"nofollow noreferrer\">instructions</a> provided with the MvvmCross library.</p>\n\n<p>I published my example on <a href=\"https://github.com/riversx/MvvmCrossExample\" rel=\"nofollow noreferrer\">github.com/riversx/MvvmCrossExample</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/zWlZa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zWlZa.png\" alt=\"enter image description here\"></a></p>\n\n<p>In this example the HomeViewModel works correctly but is presented in a separate window (Home.storyboard).</p>\n\n<p>I would like to know if it is possible to link the HomeViewModel directly to the Main.storyboard/ViewController.</p>\n\n<hr>\n\n<p>More details </p>\n\n<p>In the 'Core' library project there is a class called HomeViewModel which contains the \"business logic\".</p>\n\n<p>In the 'Mac' project there are two storyboards: Main.storyboard &amp; Home.storyboard.</p>\n\n<p>Main.storyboard is the one created while adding a new project from 'Cocoa App' template; Home.stotyboard is the one I created from scratch following the MvvmCross basic instructions for a Xamarin.Mac project.</p>\n\n<p>Main.storyboard has a controller named ViewController which inherhits from NSViewController.</p>\n\n<p>Home.storyboard has a controller named HomeView which inherhits from MvxViewController &lt; HomeViewModel > (this is what I mean as 'link directly')</p>\n\n<p>At startup both Views are presented.</p>\n\n<p>To avoid the visualization of the empty window for Main.storyboard i tried to change the application main interface option.\nBut, if in Info.plist I set 'Home' as main interface I get an ArgumentNullException in HomeView.ViewDidLoad()</p>\n\n<hr>\n\n<p>Thanks in advance </p>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-mvc", "session"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1553123508, "post_id": 55271285, "comment_id": 97274121, "body": "Why are you storing the logged in user in the session?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1553124649, "post_id": 55271285, "comment_id": 97274451, "body": "How do you have session state configured ?"}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1553134091, "post_id": 55271285, "comment_id": 97276591, "body": "You&#39;ve only given us half the equation, if that. Can you provide the code that you use that stores the session variable?"}, {"owner": {"reputation": 569, "user_id": 2311455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ebfc67295ef12ccf327e752414331356?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Ghanem", "link": "https://stackoverflow.com/users/2311455/mohammad-ghanem"}, "edited": false, "score": 0, "creation_date": 1553153308, "post_id": 55271285, "comment_id": 97281287, "body": "Session variable is not shared between different users so I think you implement something wrong, can you put your session set code including any static variable used."}], "owner": {"reputation": 11, "user_id": 2789032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a7397143163d8ed79987ca979d8c678?s=128&d=identicon&r=PG&f=1", "display_name": "user2789032", "link": "https://stackoverflow.com/users/2789032/user2789032"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553148251, "creation_date": 1553122203, "last_edit_date": 1553148251, "question_id": 55271285, "link": "https://stackoverflow.com/questions/55271285/sessionvariable-getting-overwritten-when-multiple-users-logged-in", "title": "Session[&quot;variable&quot;] getting overwritten when multiple users logged in", "body": "<p>I'm facing an Issue with <code>HttpContext.Current.Session[\"variable\"]</code>. It's getting overwritten when multiple users are logged in my web application at the same time in the same network. And the application is hosted on Windows Azure.</p>\n\n<p>My method to get the logged in user is this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public static string GetLoginUser()\n{\n    Login login = (Login)HttpContext.Current.Session[\"Login\"];\n    return login.User;\n}\n</code></pre>\n\n<p>When 2 or more users are using the application in different computers and different session one <code>Session[\"Login\"]</code> prevail above all the others. But it doesn't go against the <code>Session[\"variable\"]</code> scope?</p>\n"}, {"tags": ["c#", "uwp"], "comments": [{"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "edited": false, "score": 0, "creation_date": 1553161292, "post_id": 55271281, "comment_id": 97284953, "body": "I have tried out your code exactly (except for replacing image with a simple <code>Rectangle</code>) and the animation does work. You can find my example repo on Github - <a href=\"https://github.com/MartinZikmund/so-55271281\" rel=\"nofollow noreferrer\">github.com/MartinZikmund/so-55271281</a>"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "edited": false, "score": 0, "creation_date": 1553161529, "post_id": 55271281, "comment_id": 97285099, "body": "Are you sure the <code>this.Path[player.from, 0]</code> and <code>this.Path[player.to, 0]</code> values are different?"}], "answers": [{"comments": [{"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 181, "user_id": 1754132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e73130c23288a8582ae91a1e546a012f?s=128&d=identicon&r=PG", "display_name": "K N", "link": "https://stackoverflow.com/users/1754132/k-n"}, "edited": false, "score": 0, "creation_date": 1553184882, "post_id": 55277635, "comment_id": 97299483, "body": "Awesome, glad it helped :-)"}], "tags": [], "owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "is_accepted": true, "score": 1, "last_activity_date": 1553162291, "last_edit_date": 1553162291, "creation_date": 1553161756, "answer_id": 55277635, "question_id": 55271281, "link": "https://stackoverflow.com/questions/55271281/uwp-storyboard-not-executing-animation-correctly/55277635#55277635", "title": "UWP Storyboard not executing animation correctly", "body": "<p>I have tested your code and the animation works properly. You can find the working repo <a href=\"https://github.com/MartinZikmund/so-55271281\" rel=\"nofollow noreferrer\">on GitHub</a>. As the code is almost 1:1 copy of your sample, <strong>except</strong> I hardcoded the <code>From</code> and <code>To</code> property values of the animations. Thus I think the problem you are seeing is that <code>this.Path[player.from, 0]</code> and <code>this.Path[player.to, 0]</code> values are the same (or very similar). This way the button jumps to the <code>this.Path[player.from, 0]</code> location and stays there, not moving further.</p>\n"}], "owner": {"reputation": 181, "user_id": 1754132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e73130c23288a8582ae91a1e546a012f?s=128&d=identicon&r=PG", "display_name": "K N", "link": "https://stackoverflow.com/users/1754132/k-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 55277635, "answer_count": 1, "score": 1, "last_activity_date": 1553162291, "creation_date": 1553122175, "last_edit_date": 1553162109, "question_id": 55271281, "link": "https://stackoverflow.com/questions/55271281/uwp-storyboard-not-executing-animation-correctly", "title": "UWP Storyboard not executing animation correctly", "body": "<p>I have a small button that should adjust vertically and horizontally. I Would like to use Storyboard and manipulate the X and Y under transform.</p>\n\n<p>And I would like to do it code-behind.</p>\n\n<p>The button moves to the correct position, but no animation is active. </p>\n\n<pre><code>private void AnimatePlayerMovement(Player player)\n{\n    //This will hold hour animation\n    Piece.RenderTransform = new CompositeTransform();\n\n    //New storyboard\n    Storyboard storyboard = new Storyboard();\n\n    //New DoubleAnimation - Y\n    DoubleAnimation translateYAnimation = new DoubleAnimation();\n    translateYAnimation.From = this.Path[player.from, 1];\n    translateYAnimation.To = this.Path[player.to, 1];\n\n    translateYAnimation.EasingFunction = new ExponentialEase();\n    translateYAnimation.EasingFunction.EasingMode = EasingMode.EaseOut;\n\n    translateYAnimation.Duration = new Duration(TimeSpan.FromMilliseconds(500));\n\n    Storyboard.SetTarget(translateYAnimation, Piece);\n    Storyboard.SetTargetProperty(translateYAnimation, \n           \"(UIElement.RenderTransform).(CompositeTransform.TranslateY)\");\n\n    storyboard.Children.Add(translateYAnimation);\n\n    //New DoubleAnimation - X \n    DoubleAnimation translateXAnimation = new DoubleAnimation();\n    translateXAnimation.From = this.Path[player.from, 0];\n    translateXAnimation.To = this.Path[player.to, 0];\n    translateXAnimation.Duration = new Duration(TimeSpan.FromMilliseconds(500));\n\n    Storyboard.SetTarget(translateXAnimation, Piece);\n    Storyboard.SetTargetProperty(translateXAnimation,\n          \"(UIElement.RenderTransform).(CompositeTransform.TranslateX)\");\n\n    storyboard.Children.Add(translateXAnimation);\n\n    storyboard.Begin();\n\n}\n</code></pre>\n\n<p>And the button in xaml</p>\n\n<pre><code>&lt;Button x:Name=\"Piece\" Height=\"50\" Width=\"50\" HorizontalAlignment=\"Left\" \n        Margin=\"115,400,0,0\" VerticalAlignment=\"Top\" Click=\"Button_Click\" \n        RenderTransformOrigin=\"0.5,0.5\"&gt;\n    &lt;Button.Template&gt;\n        &lt;ControlTemplate&gt;\n            &lt;Image Source=\"Assets/piece.png\"/&gt;\n        &lt;/ControlTemplate&gt;\n    &lt;/Button.Template&gt;\n&lt;/Button&gt;\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1553121989, "post_id": 55271112, "comment_id": 97273685, "body": "Can you modify the method?"}, {"owner": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1553123072, "post_id": 55271112, "comment_id": 97273986, "body": "@TaW one is for the syntax error and one is for noop quotations. They are not the same. Another one is deleted."}, {"owner": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1553123357, "post_id": 55271112, "comment_id": 97274079, "body": "@RufusL yes I can."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1553123673, "post_id": 55271112, "comment_id": 97274170, "body": "In that case, you could make the argument optional, and do a <code>null</code> check inside the method before trying to execute it: <code>async Task Run(Func&lt;Task&gt; f = null) { if (f != null) await f(); }</code>, and then just call it like: <code>await Run();</code>"}], "answers": [{"comments": [{"owner": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "edited": false, "score": 0, "creation_date": 1553121484, "post_id": 55271141, "comment_id": 97273541, "body": "Interesting, my Visual Studio cannot prompt up <code>CompletedTask</code> after typing <code>Task.</code>."}, {"owner": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1553121906, "post_id": 55271141, "comment_id": 97273658, "body": "@Dai, I still need to call <code>Run()</code>. I just don&#39;t have anything for the paramter of <code>f</code> of <code>Run()</code>."}, {"owner": {"reputation": 4894, "user_id": 3956290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZsQ0z.png?s=128&g=1", "display_name": "Mehrzad Chehraz", "link": "https://stackoverflow.com/users/3956290/mehrzad-chehraz"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1553122025, "post_id": 55271141, "comment_id": 97273695, "body": "@Dai <code>Run</code> in a user defined method with contains code. Maybe you confused it with <code>Task.Run</code>."}, {"owner": {"reputation": 4894, "user_id": 3956290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZsQ0z.png?s=128&g=1", "display_name": "Mehrzad Chehraz", "link": "https://stackoverflow.com/users/3956290/mehrzad-chehraz"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1553122136, "post_id": 55271141, "comment_id": 97273723, "body": "@RufusL <code>Run</code> is a user defined method returning a Task. You can definitely use <code>await</code> to wait for the method to complete."}, {"owner": {"reputation": 4894, "user_id": 3956290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZsQ0z.png?s=128&g=1", "display_name": "Mehrzad Chehraz", "link": "https://stackoverflow.com/users/3956290/mehrzad-chehraz"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1553122666, "post_id": 55271141, "comment_id": 97273865, "body": "@RufusL We don&#39;t know if the method is being called inside a async method or not, I assumed it is, so I added await before it. Fixed the error as well."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1553123529, "post_id": 55271141, "comment_id": 97274130, "body": "Ah, my bad. I see even in the OP&#39;s original post he&#39;s calling it with <code>await</code>. I&#39;ll delete that comment! I like this answer, since it seems more &quot;intentional&quot; than what the OP was originally doing."}], "tags": [], "owner": {"reputation": 4894, "user_id": 3956290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZsQ0z.png?s=128&g=1", "display_name": "Mehrzad Chehraz", "link": "https://stackoverflow.com/users/3956290/mehrzad-chehraz"}, "is_accepted": true, "score": 2, "last_activity_date": 1553122533, "last_edit_date": 1553122533, "creation_date": 1553121186, "answer_id": 55271141, "question_id": 55271112, "link": "https://stackoverflow.com/questions/55271112/noop-for-functask/55271141#55271141", "title": "Noop for Func&lt;Task&gt;?", "body": "<p>The noop that you are looking for is <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task.completedtask?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">Task.CompletedTask</a>.</p>\n\n<blockquote>\n  <p>Gets a task that has already completed successfully.</p>\n</blockquote>\n\n<p>However, you still need to pass a lambda since the method requires a <code>Func&lt;T&gt;</code> not a Task as an argument.</p>\n\n<pre><code>await Run(() =&gt; Task.CompletedTask);\n</code></pre>\n\n<p>This might not be that different from using a empty block as you suggested.</p>\n"}], "owner": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "closed_date": 1553122464, "accepted_answer_id": 55271141, "answer_count": 1, "score": -2, "last_activity_date": 1599788005, "creation_date": 1553120998, "last_edit_date": 1599788005, "question_id": 55271112, "link": "https://stackoverflow.com/questions/55271112/noop-for-functask", "closed_reason": "Duplicate", "title": "Noop for Func&lt;Task&gt;?", "body": "<p>There is a function</p>\n<pre><code>async Task MyFuncation(Func&lt;Task&gt; f)\n{\n    // do something\n    //\n    await f();\n}\n</code></pre>\n<p>Sometimes I need to call the function but don't have anything for parameter <code>f</code> so I pass it <code>async () =&gt; { }</code>. Is there a noop function for it?</p>\n<pre><code>await RunMyFuncation(async () =&gt; { }); // I still need to call Run\n</code></pre>\n"}, {"tags": ["c#", "oop", "design-patterns", "architecture", "single-responsibility-principle"], "comments": [{"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 1, "creation_date": 1553125021, "post_id": 55271079, "comment_id": 97274566, "body": "SRP and pattern conversations (and that&#39;s what they are) are totally subjective and situation based topics. I personally think sometimes their guidelines and patterns can be taken too far, and following them breaks other normalcy principles. it gets messier if you intending this to be inherited.. if the login architecture is self consistent with this core service, then let it be, if you can foresee it being interchanged, then pass it in, or an interface. if it is a huge bunch of code that only relates to itself and can be reused, make another responsibility of it."}, {"owner": {"reputation": 10753, "user_id": 1371329, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oqbUC.png?s=128&g=1", "display_name": "jaco0646", "link": "https://stackoverflow.com/users/1371329/jaco0646"}, "edited": false, "score": 0, "creation_date": 1553208032, "post_id": 55271079, "comment_id": 97309813, "body": "The SRP does not mean, &quot;every class has only one duty.&quot; Start with the <a href=\"https://stackoverflow.com/tags/single-responsibility-principle/info\">tag info</a> to learn more about SRP."}, {"owner": {"reputation": 6892, "user_id": 285336, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/786bbfa1943aa036324b118790febfe8?s=128&d=identicon&r=PG", "display_name": "Oleg Sh", "link": "https://stackoverflow.com/users/285336/oleg-sh"}, "reply_to_user": {"reputation": 10753, "user_id": 1371329, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oqbUC.png?s=128&g=1", "display_name": "jaco0646", "link": "https://stackoverflow.com/users/1371329/jaco0646"}, "edited": false, "score": 0, "creation_date": 1553368185, "post_id": 55271079, "comment_id": 97361719, "body": "@jaco0646, &quot;one duty&quot; directly depends on &quot;class has only one reason to be changed&quot;"}, {"owner": {"reputation": 10753, "user_id": 1371329, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oqbUC.png?s=128&g=1", "display_name": "jaco0646", "link": "https://stackoverflow.com/users/1371329/jaco0646"}, "edited": false, "score": 0, "creation_date": 1553434798, "post_id": 55271079, "comment_id": 97374985, "body": "Oh no. Robert Martin explains it quite differently. I&#39;m sure he would disagree."}], "owner": {"reputation": 6892, "user_id": 285336, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/786bbfa1943aa036324b118790febfe8?s=128&d=identicon&r=PG", "display_name": "Oleg Sh", "link": "https://stackoverflow.com/users/285336/oleg-sh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553120820, "creation_date": 1553120820, "question_id": 55271079, "link": "https://stackoverflow.com/questions/55271079/srp-and-additional-logic-inside-class", "title": "SRP and additional logic inside class", "body": "<p>For example, I have a class, which does different requests to some external API:</p>\n\n<pre><code>internal class ServiceCore : IDisposable\n{\n    public ServiceCore(IConfiguration configuration, Func&lt;HttpMessageHandler&gt; handler)\n    {\n        _configuration = configuration;\n        _handler = handler;\n        devKey = _configuration.GetSection(\"ApiBillCom:DevKey\").Value;\n        client = new HttpClient(_handler())\n        {\n            BaseAddress = new Uri(_configuration.GetSection(\"ApiBillCom:ApiUrl\").Value)\n        };\n\n        if (_sessionId == null || !_sessionId.IsValueCreated)\n            SetSessionId();\n    }\n\n\n    public async Task&lt;JToken&gt; ListJTokenAsync(int start, int count, string endpoint, bool nested = false, List&lt;FilterData&gt; filterData = null)\n    {\n        //....\n    }\n\n    public async Task&lt;List&lt;T&gt;&gt; ListAsync&lt;T&gt;(string endpoint, int start, int count, bool nested = false, List&lt;FilterData&gt; filterData = null)\n    {\n        //.....\n    }\n</code></pre>\n\n<p>ok, but each call requires sessionId, which we can get calling <code>LoginAsync</code> method before. This <code>LoginAsync</code> method can be as private method inside this <code>ServiceCore</code> class:</p>\n\n<pre><code>private void SetSessionId()\n{\n    _sessionId = null;\n    LoginCore loginCore = new LoginCore(_configuration, _handler);\n    _sessionId = new Lazy&lt;string&gt;(() =&gt; LoginAsync().Result);\n}\n\nprivate async Task&lt;string&gt; LoginAsync()\n{\n</code></pre>\n\n<p>but then, seems, Single Responsible Principle is violated (because then <code>ServiceCode</code> has 2 duties, get (or put) data to API and supports session. I did refactoring and moved it to special class:</p>\n\n<pre><code>internal class LoginCore\n{\n    private readonly IConfiguration _configuration;\n    private readonly Func&lt;HttpMessageHandler&gt; _handler;\n\n    public LoginCore(IConfiguration configuration, Func&lt;HttpMessageHandler&gt; handler)\n    {\n        _configuration = configuration;\n        _handler = handler;\n\n    }\n\n    internal async Task&lt;string&gt; LoginAsync(string devKey)\n    {\n        // ....\n    }\n}\n</code></pre>\n\n<p>Right now no SRP violation, every class has only one duty (<code>ServiceCore</code> - work with API, <code>LoginCore</code> - get actual sessionId), but I'm not sure, that I need to do it (separate login workflow to another class). Right now I have to pass one parameter to LoginAsync (with private method I have not to do it, because <code>devKey</code> is private property inside <code>ServiceCore</code>), have to write constructor for <code>LoginCore</code> and pass the same dependency injection parameters, which I passed to <code>ServiceCore</code>. I have to create <code>LoginCore</code> instance before calling <code>LoginAsync</code></p>\n\n<p>I will not use this <code>LoginCore</code> somewhere else, only in <code>ServiceCore</code>, I need not to have dependency injection (because I need not to replace <code>LoginCore</code>, method <code>LoginAsync</code> is actual for any calls.\nI see only one benefit: I can mark <code>LoginCore</code> as:</p>\n\n<pre><code>[assembly: InternalsVisibleTo(\"BillComRealTest\")] \n</code></pre>\n\n<p>and write unit test specially only for <code>LoginAsync</code> method, with mock <code>HttpMessageHandler</code>. </p>\n\n<p>Should I create this separate class with one method for following SRP or enough to create just private method inside <code>ServiceCore</code> ?</p>\n"}, {"tags": ["c#", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "edited": false, "score": 0, "creation_date": 1553121179, "post_id": 55271073, "comment_id": 97273446, "body": "you break the joining with this line. Therefore a new query begins and file isn\u2019t scoped after the line."}, {"owner": {"reputation": 8496, "user_id": 1009661, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/776dff440138550ac0e34a1712a60e2a?s=128&d=identicon&r=PG", "display_name": "tukaef", "link": "https://stackoverflow.com/users/1009661/tukaef"}, "edited": false, "score": 1, "creation_date": 1553121204, "post_id": 55271073, "comment_id": 97273458, "body": "TL;DR: You should select <code>rt.XXX</code>."}, {"owner": {"reputation": 8496, "user_id": 1009661, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/776dff440138550ac0e34a1712a60e2a?s=128&d=identicon&r=PG", "display_name": "tukaef", "link": "https://stackoverflow.com/users/1009661/tukaef"}, "edited": false, "score": 1, "creation_date": 1553121450, "post_id": 55271073, "comment_id": 97273536, "body": "And short advice: it might become slightly simpler to understand if you switch to method syntax instead of query syntax. (<a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/linq/query-syntax-and-method-syntax-in-linq\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>)"}, {"owner": {"reputation": 8496, "user_id": 1009661, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/776dff440138550ac0e34a1712a60e2a?s=128&d=identicon&r=PG", "display_name": "tukaef", "link": "https://stackoverflow.com/users/1009661/tukaef"}, "edited": false, "score": 1, "creation_date": 1553122226, "post_id": 55271073, "comment_id": 97273742, "body": "You&#39;re probably gonna get another error on the <code>machine.Name</code> line - that&#39;s because <code>machine</code> is a collection of grouped <code>FileList</code> items. Idk if you really need this because you&#39;re selecting from this collection (line <code>from rt in machine.DefaultIfEmpty()</code>), so you might as well use <code>rt.XXX</code>."}, {"owner": {"reputation": 1362, "user_id": 1572469, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/c14df28fcd6e3cd476e33c815e39b4f9?s=128&d=identicon&r=PG", "display_name": "Eric Snyder", "link": "https://stackoverflow.com/users/1572469/eric-snyder"}, "edited": false, "score": 0, "creation_date": 1553122475, "post_id": 55271073, "comment_id": 97273815, "body": "OK. So this worked but it is complete voodoo to me. Somehow adding &quot;into mac from rt in mac.DefaultIfEmpty()&quot; and then I can get any fields from tables that have relationships with FileLists by using &quot;rt.TableName.FieldName&quot;. What is &quot;into mac from rt in mac.DefaultIfEmpty()&quot; actually doing?"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 2, "creation_date": 1553164609, "post_id": 55271073, "comment_id": 97286804, "body": "You can avoid all these confusing manual joins by defining and using navigation properties."}], "owner": {"reputation": 1362, "user_id": 1572469, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/c14df28fcd6e3cd476e33c815e39b4f9?s=128&d=identicon&r=PG", "display_name": "Eric Snyder", "link": "https://stackoverflow.com/users/1572469/eric-snyder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553120792, "creation_date": 1553120792, "question_id": 55271073, "link": "https://stackoverflow.com/questions/55271073/linq-entity-framework-query-is-not-recognizing-all-my-range-variables", "title": "Linq/Entity Framework query is not recognizing all my range variables", "body": "<p>I want everything in FileLists as long as there is a corresponding record in Tools. I have 0..1 to many relationships between Machine, PrintTypes and MaterialTypes. I have a many to one between FileLists and Tools. I want all the records from FileLists if there is a match in Tools. The values in Machine, PrintTypes and MaterialTypes are optional. If they exist in that tables I want that as well, if they do not I just want null displayed. I think this is a right outer join.</p>\n\n<p>My query looks like this:</p>\n\n<pre><code>            var query = \n                from tool in context.Tools\n                join file in context.FileLists on tool.ToolID equals file.ToolID\n                into machine from rt in machine.DefaultIfEmpty()\n                //join print in context.PrintTypes on file.PrintTypeID equals print.PrintTypeID\n                //join material in context.MaterialTypes on file.MaterialTypeID equals material.MaterialTypeID\n\n                where file.IsFirstPartRecord == false\n                orderby file.FileListID ascending\n                select new {\n                    ToolNumber = tool.ToolNumber,\n                    Description = tool.Description,\n                    Date = file.Date,\n                    Time = file.Time,\n                    FileListID = file.FileListID,\n                    MachineName = machine.Name,\n                    //PrintType = print.Name,\n                };\n</code></pre>\n\n<p>When I add the line:</p>\n\n<pre><code>            into machine from rt in machine.DefaultIfEmpty()\n</code></pre>\n\n<p>All the file.XXX have errors. The error is:</p>\n\n<blockquote>\n  <p>The name 'file' does not exist in the current context</p>\n</blockquote>\n\n<p>What is wrong with my syntax?</p>\n"}, {"tags": ["c#", "wcf", "visual-c++", "dllimport"], "comments": [{"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1553153045, "post_id": 55271035, "comment_id": 97281194, "body": "The code you present here is fine. No point in us guessing. You&#39;ll need to debug. Start with the logs."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3965196"}, "edited": false, "score": 0, "creation_date": 1553212432, "post_id": 55290886, "comment_id": 97310949, "body": "That helped! C++ was x64 and C# was set to AnyCpu. Once C# was set to x64, it all worked like a peach."}], "tags": [], "owner": {"reputation": 515, "user_id": 4167623, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fb4713d16d988bb387175b365bbf7eee?s=128&d=identicon&r=PG&f=1", "display_name": "donguy76", "link": "https://stackoverflow.com/users/4167623/donguy76"}, "is_accepted": true, "score": 0, "last_activity_date": 1553212266, "creation_date": 1553212266, "answer_id": 55290886, "question_id": 55271035, "link": "https://stackoverflow.com/questions/55271035/c-wcf-web-service-to-c-dll-calls/55290886#55290886", "title": "C# WCF web service to C++ DLL calls", "body": "<p>Assuming you got all the coding part correct, the other important thing to check is the target platform. Both  C++ &amp; C# needs to be build for the same platform.</p>\n\n<p>For e.g., if C++ DLL is set to x64 then C# also should be build with x64.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3965196"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 1, "accepted_answer_id": 55290886, "answer_count": 1, "score": 0, "last_activity_date": 1553212266, "creation_date": 1553120531, "question_id": 55271035, "link": "https://stackoverflow.com/questions/55271035/c-wcf-web-service-to-c-dll-calls", "title": "C# WCF web service to C++ DLL calls", "body": "<p>There's a C++ legacy DLL that's build in Visual Studio 2015 and am working on exposing some of the C++ functions as REST APIs. For this purpose, created a WCF Web serivice project in the same solution and trying to call C++ functions via DllImport.</p>\n\n<pre><code>[DllImport(\"ExtOutPutGenerator.dll\", CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Ansi)]\npublic static extern int CreateFrameGenerators(string node, string axis);\n</code></pre>\n\n<p>In the C++ code the above function is declared as,</p>\n\n<pre><code>extern \"C\" __declspec(dllexport) int CreateFrameGenerators(const char* node, const char* axis);\n</code></pre>\n\n<p>Now when i call the C++ function via DllImport, it's not working. </p>\n\n<p>i.e., when i call the REST API via the browser it gives the below message.</p>\n\n<pre><code>The server encountered an error processing the request. See server logs for details.\n</code></pre>\n\n<p>I know for sure that the failure is happening when it calls the C++ function from inside C#. Not sure where to find the server log.</p>\n\n<p>For testing purpose, I created a sample C++ test DLL in same solution and then called it's function via DllImport and that's working fine.</p>\n\n<p>So the problem seems to be with the legacy C++ DLL.</p>\n\n<p>I have no idea what else to look for or how to troubleshoot.</p>\n\n<p>So my question is,</p>\n\n<ol>\n<li><p>What could well be the problem with the legacy C++ DLL that's causing this issue? Any particular project settings?</p></li>\n<li><p>Is there another way to achieve this without using the DllImport? Something simpler and cleaner and might work on all C++ projects?</p></li>\n</ol>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1553121228, "post_id": 55271029, "comment_id": 97273463, "body": "What programming language / regex engine are you using?"}, {"owner": {"reputation": 417, "user_id": 3955624, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u2HjK.jpg?s=128&g=1", "display_name": "n7rider", "link": "https://stackoverflow.com/users/3955624/n7rider"}, "reply_to_user": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1553121991, "post_id": 55271029, "comment_id": 97273686, "body": "I&#39;m using C#&#39;s Regex.Replace() operation."}, {"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 1, "creation_date": 1553122114, "post_id": 55271029, "comment_id": 97273719, "body": "You may use <code>(?&lt;=(?:user|resource)=\\&quot;).*?(?=\\&quot;)</code>. <a href=\"http://regexstorm.net/tester?p=%28%3f%3c%3d%28%3f%3auser%7cresource%29%3d%5c%22%29.%2A%3f%28%3f%3d%5c%22%29&amp;i=user%3d%22panda%22+is+trying+to+access+resource%3d%22system%22\" rel=\"nofollow noreferrer\">Demo</a>."}, {"owner": {"reputation": 417, "user_id": 3955624, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u2HjK.jpg?s=128&g=1", "display_name": "n7rider", "link": "https://stackoverflow.com/users/3955624/n7rider"}, "reply_to_user": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1553122783, "post_id": 55271029, "comment_id": 97273895, "body": "Awesome! That works. Thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 417, "user_id": 3955624, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u2HjK.jpg?s=128&g=1", "display_name": "n7rider", "link": "https://stackoverflow.com/users/3955624/n7rider"}, "edited": false, "score": 0, "creation_date": 1553121970, "post_id": 55271191, "comment_id": 97273678, "body": "Thanks, it works but it returns a &#39;Full match&#39; and two groups of output. The full match contains everything from &#39;user&#39; to &#39;resource&#39;. The two groups contain the words &#39;panda&#39; and &#39;system&#39;. Is there a way to get just the groups without the full match?  Note: I tried this regex in both regex101.com and in my IDE. I get the same result as I&#39;ve mentioned here."}, {"owner": {"reputation": 417, "user_id": 3955624, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u2HjK.jpg?s=128&g=1", "display_name": "n7rider", "link": "https://stackoverflow.com/users/3955624/n7rider"}, "edited": false, "score": 0, "creation_date": 1553122197, "post_id": 55271191, "comment_id": 97273735, "body": "Btw, I am happy to match just these two words. I am using successive regex calls currently, thought of doing both in a single invocation."}], "tags": [], "owner": {"reputation": 4444, "user_id": 2770274, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/824d4f239c8905a11da6f45ee9d20317?s=128&d=identicon&r=PG&f=1", "display_name": "Adassko", "link": "https://stackoverflow.com/users/2770274/adassko"}, "is_accepted": false, "score": 1, "last_activity_date": 1553121457, "creation_date": 1553121457, "answer_id": 55271191, "question_id": 55271029, "link": "https://stackoverflow.com/questions/55271029/regex-to-get-the-word-next-to-all-of-the-given-words/55271191#55271191", "title": "Regex to get the word next to all of the given words", "body": "<p>just a simple regex with lazy matching should do the job</p>\n\n<pre><code>user=\"(.*?)\".*resource=\"(.*?)\"\n</code></pre>\n\n<p>it gets more complicated if you need to match more than two words in any order, I wouldn't use a RegEx in this case at all, you would rather want to make a lexer for that. Just make a class/procedure that will tokenize the sentence first, then parser to get the information you want</p>\n"}, {"tags": [], "owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "is_accepted": true, "score": 1, "last_activity_date": 1553123093, "creation_date": 1553123093, "answer_id": 55271417, "question_id": 55271029, "link": "https://stackoverflow.com/questions/55271029/regex-to-get-the-word-next-to-all-of-the-given-words/55271417#55271417", "title": "Regex to get the word next to all of the given words", "body": "<p>Since .NET's regex supports non-fixed length Lookbehinds, you can just add all the words you want in a non-capturing group and use alternation:</p>\n\n<pre><code>(?&lt;=(?:user|resource)=\\\").*?(?=\\\")\n</code></pre>\n\n<p><a href=\"http://regexstorm.net/tester?p=%28%3F%3C%3D%28%3F%3Auser%7Cresource%29%3D%5C%22%29.%2A%3F%28%3F%3D%5C%22%29&amp;i=user%3D%22panda%22%20is%20trying%20to%20access%20resource%3D%22system%22\" rel=\"nofollow noreferrer\">Demo</a>.</p>\n\n<p>You can also get rid of the Lookahead by using something like this:</p>\n\n<pre><code>(?&lt;=(?:user|resource)=\\\")[^\"]*\n</code></pre>\n\n<p><a href=\"http://regexstorm.net/tester?p=%28%3F%3C%3D%28%3F%3Auser%7Cresource%29%3D%5C%22%29%5B%5E%22%5D*&amp;i=user%3D%22panda%22%20is%20trying%20to%20access%20resource%3D%22system%22\" rel=\"nofollow noreferrer\">Demo #2</a></p>\n"}], "owner": {"reputation": 417, "user_id": 3955624, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u2HjK.jpg?s=128&g=1", "display_name": "n7rider", "link": "https://stackoverflow.com/users/3955624/n7rider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 1, "accepted_answer_id": 55271417, "answer_count": 2, "score": 0, "last_activity_date": 1553123093, "creation_date": 1553120506, "last_edit_date": 1553122124, "question_id": 55271029, "link": "https://stackoverflow.com/questions/55271029/regex-to-get-the-word-next-to-all-of-the-given-words", "title": "Regex to get the word next to all of the given words", "body": "<p>I need a regex to capture the word immediately next to all of the words I provide. </p>\n\n<p>Example Sentence:</p>\n\n<blockquote>\n  <p>user=\"panda\" is trying to access resource=\"system\"</p>\n</blockquote>\n\n<p>Words to be captured: panda &amp; system (i.e., the word immediately next to the words 'user' &amp; 'resource')</p>\n\n<p>Currently, I use this regex <code>(?&lt;=name=\\\")(.*?)(?=\\\";)</code> which returns the name 'panda'. I'm looking for a query that would capture both the user and the resource in the above sentence.</p>\n\n<p>Can someone help with the regex query to do this?</p>\n"}, {"tags": ["c#", "asp.net", "vb.net", "vb6", "vb6-migration"], "comments": [{"owner": {"reputation": 23837, "user_id": 10527, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/53cb42e8d0af98015cc089bf2e5908a7?s=128&d=identicon&r=PG", "display_name": "Albert D. Kallal", "link": "https://stackoverflow.com/users/10527/albert-d-kallal"}, "edited": false, "score": 3, "creation_date": 1553139410, "post_id": 55270997, "comment_id": 97277732, "body": "That answer has little to do with calling unmanaged vb6 dll&#39;s. Of course the poster gets a null object, because the unmanaged vb6 dll call is not working, not because some object not initialized. If you take that assuming, then we would NEVER have to answer a question on SO. I mean, I flip the switch and the light don&#39;t go on. You can&#39;t just post to a answer that says the light bulb not getting electricity as a valid answer. We have to suggest a broken wire, a tripped fuse, light bulb not screwed in all the way. Telling everyone the bulb is not getting electric (or null object) is not a answer"}, {"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1553176049, "post_id": 55270997, "comment_id": 97293566, "body": "What happens when you put a breakpoint on that line.  Does it reach the breakpoint?"}, {"owner": {"reputation": 72, "user_id": 5455717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ead7755caa465ddacc2635580401bce?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/5455717/harry"}, "edited": false, "score": 0, "creation_date": 1553177895, "post_id": 55270997, "comment_id": 97294785, "body": "If a put a breakpoint on that line, it means that i&#39;m running it on development on visual studio, it works perfectly on development, the problem happens when project is deployed."}, {"owner": {"reputation": 1782, "user_id": 7970461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee57a85b60ce9c462d95f972ea1811e?s=128&d=identicon&r=PG&f=1", "display_name": "R.J. Dunnill", "link": "https://stackoverflow.com/users/7970461/r-j-dunnill"}, "edited": false, "score": 0, "creation_date": 1553185373, "post_id": 55270997, "comment_id": 97299776, "body": "I suspect a dependency of the VB6 DLL is missing."}, {"owner": {"reputation": 72, "user_id": 5455717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ead7755caa465ddacc2635580401bce?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/5455717/harry"}, "edited": false, "score": 0, "creation_date": 1553187592, "post_id": 55270997, "comment_id": 97301051, "body": "I was thinking the same, but why works on development? i&#39;m using the same machine."}, {"owner": {"reputation": 1782, "user_id": 7970461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee57a85b60ce9c462d95f972ea1811e?s=128&d=identicon&r=PG&f=1", "display_name": "R.J. Dunnill", "link": "https://stackoverflow.com/users/7970461/r-j-dunnill"}, "edited": false, "score": 0, "creation_date": 1553189406, "post_id": 55270997, "comment_id": 97302062, "body": "Filepaths? Debug versus release?"}, {"owner": {"reputation": 72, "user_id": 5455717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ead7755caa465ddacc2635580401bce?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/5455717/harry"}, "edited": false, "score": 0, "creation_date": 1553201046, "post_id": 55270997, "comment_id": 97307295, "body": "Nope, the object creates without problem. I think i&#39;ll have to find the source code of that vb6 dll."}, {"owner": {"reputation": 1937, "user_id": 1335492, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2bb7485134a4957636621aa28e6f9fae?s=128&d=identicon&r=PG", "display_name": "david", "link": "https://stackoverflow.com/users/1335492/david"}, "edited": false, "score": 0, "creation_date": 1553247981, "post_id": 55270997, "comment_id": 97321976, "body": "You want to set the Application Locale, or the Users Locale, not the PC region."}, {"owner": {"reputation": 1782, "user_id": 7970461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee57a85b60ce9c462d95f972ea1811e?s=128&d=identicon&r=PG&f=1", "display_name": "R.J. Dunnill", "link": "https://stackoverflow.com/users/7970461/r-j-dunnill"}, "edited": false, "score": 1, "creation_date": 1553270679, "post_id": 55270997, "comment_id": 97335647, "body": "Are you running your dev environment under administrator privileges? That VB6 code and modules assume unfettered access to now-sensitive folders and Registry settings can be the source of difficult-to-trace runtime bugs."}, {"owner": {"reputation": 72, "user_id": 5455717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ead7755caa465ddacc2635580401bce?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/5455717/harry"}, "edited": false, "score": 0, "creation_date": 1553272661, "post_id": 55270997, "comment_id": 97336728, "body": "Since i added the reference to that dll, i have to open visual studio as administrator, otherwise i get this error <code>Cannot register assembly &#39;absolute\\path\\to\\NameOf.dll&#39; access denied. Please make sure you&#39;re running the application as administrator.</code>"}, {"owner": {"reputation": 1782, "user_id": 7970461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee57a85b60ce9c462d95f972ea1811e?s=128&d=identicon&r=PG&f=1", "display_name": "R.J. Dunnill", "link": "https://stackoverflow.com/users/7970461/r-j-dunnill"}, "edited": false, "score": 1, "creation_date": 1553272991, "post_id": 55270997, "comment_id": 97336922, "body": "Given that, I suspect your problem is that the VB6 DLL lacks the privileges for certain operations it must perform. I have come across this issue in the recent past myself."}, {"owner": {"reputation": 72, "user_id": 5455717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ead7755caa465ddacc2635580401bce?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/5455717/harry"}, "edited": false, "score": 0, "creation_date": 1553276782, "post_id": 55270997, "comment_id": 97338833, "body": "Is there a way to reopen this question? I would like to share the workaround i did, i have to edit the dll on that string. However the duplicate link didnt help at all. Thanks to everyone that helped."}, {"owner": {"reputation": 1782, "user_id": 7970461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee57a85b60ce9c462d95f972ea1811e?s=128&d=identicon&r=PG&f=1", "display_name": "R.J. Dunnill", "link": "https://stackoverflow.com/users/7970461/r-j-dunnill"}, "edited": false, "score": 0, "creation_date": 1553277735, "post_id": 55270997, "comment_id": 97339284, "body": "It&#39;s easier to create a new question, and answer it yourself."}], "owner": {"reputation": 72, "user_id": 5455717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ead7755caa465ddacc2635580401bce?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/5455717/harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "closed_date": 1553121062, "answer_count": 0, "score": 2, "last_activity_date": 1553204039, "creation_date": 1553120358, "last_edit_date": 1553204039, "question_id": 55270997, "link": "https://stackoverflow.com/questions/55270997/using-vb6-dll-object-reference-not-set-to-an-instance-of-an-object-it-works-on", "closed_reason": "Duplicate", "title": "Using vb6 dll. Object reference not set to an instance of an object. It works on development but fails on deployment asp.net", "body": "<p>I'm using a vb6 dll, running on development works perfectly, when deployed (published in the same development machine) throws this error <strong>Object reference not set to an instance of an object</strong></p>\n\n<p>Like i said, it is the same machine, so i dont know what can be wrong.\nI already set defaultapppool to enable 32 bits apps, the platform in debug configuration is x86 also. </p>\n\n<p>I tried to copy the dll file to the bin folder of the project published folder, and nothing happened.</p>\n\n<p>The error does get fired when the function CalcularNecesidadPedido is called.</p>\n\n<pre><code>Dim calc As New WinBlindCalculoProd.WBCalculoProd\n        Try\n\n            If calc.CalcularNecesidadPedido(cnnpedidos, Distribuidor.SelectedItem.Value.ToString, argument(0)) Then\n</code></pre>\n\n<p>It doesnt even trigger the catch, just throw the error message from above.</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The problem seems to be on this insert of the vb6 dll:</p>\n\n<pre><code>strSQL = \"Insert Into NecessidadePedido (Cliente,PedidoVenda,ItemVenda,Sequencia,DataExplosion,\" &amp; _\n                \" Uso,TipoComponente,Setor,Almoxarifado,TipoDocumento, \" &amp; _\n                \" Componente,CorComponente,Manter_Estoque,Dimensoes,CompraEspecifica,TipoEstoque,\" &amp; _\n                \" Altura,Largura,Comprimento,OrdemMontagem,QtdNecessaria,Consumo) Values('\" &amp; Cliente &amp; \"','\" &amp; Pedido &amp; \"',\" &amp; intItem &amp; \",\" &amp; intSequencia &amp; _\n                \",\" &amp; PrepDate(Now(), CNN, True) &amp; _\n                \",'\" &amp; strUso &amp; \"','\" &amp; strTipoComponente &amp; \"','\" &amp; strSetor &amp; \"','\" &amp; strAlmoxarifado &amp; \"','\" &amp; strTipoDocumento &amp; \"','\" &amp; _\n                strComponente &amp; \"','\" &amp; strCor &amp; \"',\" &amp; Cbit(blnManter_Estoque) &amp; \",\" &amp; intDimensoes &amp; \",\" &amp; Cbit(blnCompraEspecifica) &amp; \",'\" &amp; sTipoEstoque &amp; _\n                \"',\" &amp; sngAltura &amp; \",\" &amp; sngLargura &amp; \",\" &amp; sngComprimento &amp; \",\" &amp; Cbit(blnOrdemMontagem) &amp; \",\" &amp; sngQuantidade &amp; \",\" &amp; sngConsumo &amp; \")\"\n\n                CNN.Execute strSQL\n</code></pre>\n\n<p>I extract the strSQL string from development and deployment, this how they look like:</p>\n\n<p>Dev: <code>Insert Into NecessidadePedido (Cliente,PedidoVenda,ItemVenda,Sequencia,DataExplosion, Uso,TipoComponente,Setor,Almoxarifado,TipoDocumento,  Componente,CorComponente,Manter_Estoque,Dimensoes,CompraEspecifica,TipoEstoque, Altura,Largura,Comprimento,OrdemMontagem,QtdNecessaria,Consumo) \nValues('1','16784',1,11,{ts '2019-03-21 15:44:14'},'000','99','0001','01','PV','010216','000',1,1,0,'0',0,0,1250,1,1,1.25)</code></p>\n\n<p>Dep: <code>Insert Into NecessidadePedido (Cliente,PedidoVenda,ItemVenda,Sequencia,DataExplosion, Uso,TipoComponente,Setor,Almoxarifado,TipoDocumento,  Componente,CorComponente,Manter_Estoque,Dimensoes,CompraEspecifica,TipoEstoque, Altura,Largura,Comprimento,OrdemMontagem,QtdNecessaria,Consumo) \nValues('1','16784',1,11,{ts '2019-03-21 15:41:27'},'000','99','0001','01','PV','010216','000',1,1,0,'0',0,0,1250,1,1,1,25)</code></p>\n\n<p>So the problem seems to be that <strong>consumo</strong> value, on deplyoment throws comma instead of dot for decimals. When i comment that line, it works on deployment.</p>\n\n<p>I already tried to change the region settings of this pc, it didn't work.\nAny ideas? I don't want to modify that dll because it is used on other projects.</p>\n"}, {"tags": ["c#", "asp.net", "entity-framework", "amazon-web-services"], "comments": [{"owner": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "edited": false, "score": 0, "creation_date": 1553122299, "post_id": 55270921, "comment_id": 97273767, "body": "Did you try to change the connection string to initial catalog = master ?"}, {"owner": {"reputation": 1238, "user_id": 3401554, "user_type": "registered", "profile_image": "https://graph.facebook.com/1403940254/picture?type=large", "display_name": "Ben", "link": "https://stackoverflow.com/users/3401554/ben"}, "edited": false, "score": 1, "creation_date": 1553124722, "post_id": 55270921, "comment_id": 97274475, "body": "Not sure if you removed it just for posting, but you haven&#39;t supplied a password for your user in your connection string."}, {"owner": {"reputation": 71, "user_id": 5860796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MOpbU.jpg?s=128&g=1", "display_name": "Theodor349", "link": "https://stackoverflow.com/users/5860796/theodor349"}, "edited": false, "score": 0, "creation_date": 1553691468, "post_id": 55270921, "comment_id": 97477603, "body": "Thanks. Had forgotten to enter the password"}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 5860796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MOpbU.jpg?s=128&g=1", "display_name": "Theodor349", "link": "https://stackoverflow.com/users/5860796/theodor349"}, "is_accepted": true, "score": 0, "last_activity_date": 1553691518, "creation_date": 1553691518, "answer_id": 55377807, "question_id": 55270921, "link": "https://stackoverflow.com/questions/55270921/entity-framework-update-database-when-im-not-authorized-to-write-to-master/55377807#55377807", "title": "Entity Framework: Update-Database, when I&#39;m not authorized to write to master", "body": "<p>I needed to supply the password for the connection.</p>\n"}], "owner": {"reputation": 71, "user_id": 5860796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MOpbU.jpg?s=128&g=1", "display_name": "Theodor349", "link": "https://stackoverflow.com/users/5860796/theodor349"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 55377807, "answer_count": 1, "score": 0, "last_activity_date": 1553691518, "creation_date": 1553119915, "last_edit_date": 1553145031, "question_id": 55270921, "link": "https://stackoverflow.com/questions/55270921/entity-framework-update-database-when-im-not-authorized-to-write-to-master", "title": "Entity Framework: Update-Database, when I&#39;m not authorized to write to master", "body": "<p>I have created a SQL Server database on Amazons Web Services. This means that I'm not authorized to edit the master database (or I believe so).</p>\n\n<p>I followed the tutorial <a href=\"https://docs.microsoft.com/en-us/ef/ef6/modeling/code-first/migrations/existing-database\" rel=\"nofollow noreferrer\">code-first migrations with an existing database</a></p>\n\n<p>And I have been able to use the commands</p>\n\n<pre><code>Enable-Migrations\nAdd-Migration InitialCreate \u2013IgnoreChanges\n</code></pre>\n\n<p>But when I use this command</p>\n\n<pre><code>Update-Databse\n</code></pre>\n\n<p>I get this error</p>\n\n<blockquote>\n  <p>This operation requires a connection to the 'master' database.  Unable to create a connection to the 'master' database  because the original database connection has been opened  and credentials have been removed from the connection string. Supply an unopened connection.</p>\n</blockquote>\n\n<p>And my connection string looks like this</p>\n\n<pre><code>&lt;connectionStrings&gt;\n    &lt;add name=\"DBContext\" \n         connectionString=\"data source=DBName.ctekr2i3aabo.eu-central-1.rds.amazonaws.com,1433;initial catalog=WeeklyReview;persist security info=True;user id=theodor349;MultipleActiveResultSets=True;App=EntityFramework\" \n         providerName=\"System.Data.SqlClient\" /&gt;\n&lt;/connectionStrings&gt;\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 3860263, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/27d030d06215fa1500bf202d789cb715?s=128&d=identicon&r=PG&f=1", "display_name": "Necro1992", "link": "https://stackoverflow.com/users/3860263/necro1992"}, "edited": false, "score": 0, "creation_date": 1553123800, "post_id": 55271476, "comment_id": 97274211, "body": "i was able to fix it using viewLPO.cb_ContactPerson.SelectedValue = (dt_LPO.Rows[0][&quot;ContactPersonID&quot;].ToString()); instead of the text property. Thanks for the detailed explanation"}], "tags": [], "owner": {"reputation": 1453, "user_id": 4183988, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SO1NKG-kU34/AAAAAAAAAAI/AAAAAAAAAP8/SnOPRZsZjlY/photo.jpg?sz=128", "display_name": "Roger Leblanc", "link": "https://stackoverflow.com/users/4183988/roger-leblanc"}, "is_accepted": false, "score": 1, "last_activity_date": 1553137110, "last_edit_date": 1553137110, "creation_date": 1553123590, "answer_id": 55271476, "question_id": 55270858, "link": "https://stackoverflow.com/questions/55270858/wpf-combo-box-weird-behavior/55271476#55271476", "title": "WPF Combo Box weird behavior", "body": "<p>A possible cause to your issue might be your DataContext being set in the event handler, the <code>ItemsSource</code> Binding reevaluation may occur slightly after the SelectionChanged event is done, causing your Text property being set before the ItemsSource is populated.</p>\n\n<p>When you add a MessageBox, this will stop the execution until you dismiss the MessageBox, giving the time to the ItemsSource Binding to reevaluate.</p>\n\n<p>To see this in action, check with a break point the value of ItemsSource before affecting Text property. Also, consider affecting SelectedItem instead of Text property. </p>\n\n<p>EDIT:\n@Joey is right in his comment, edited my answer to highlight a possible cause. I was wrong when I said the event is run on a different thread. </p>\n"}], "owner": {"reputation": 87, "user_id": 3860263, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/27d030d06215fa1500bf202d789cb715?s=128&d=identicon&r=PG&f=1", "display_name": "Necro1992", "link": "https://stackoverflow.com/users/3860263/necro1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553137110, "creation_date": 1553119564, "question_id": 55270858, "link": "https://stackoverflow.com/questions/55270858/wpf-combo-box-weird-behavior", "title": "WPF Combo Box weird behavior", "body": "<p>I have an issue with my combobox.\nI have two windows, LPO_Process and New_LPO. LPO_Process will populate the data for New_LPO before showing it. I have two combo boxes in New_LPO, one is for the Supplier and one is for the contact person. Whenever the Supplier combobox item is changed, it will update the one for the contact person.</p>\n\n<pre><code>private void cb_Suppliers_SelectionChanged(object sender, SelectionChangedEventArgs e)\n{\n    cb_ContactPerson.DataContext = Database.LPO.Suppliers.SuppliersQuery.getContactPersonIdName(Convert.ToInt32(cb_Suppliers.SelectedValue));\n    cb_ContactPerson.DisplayMemberPath = \"Name\";\n    cb_ContactPerson.SelectedValuePath = \"CPID\";       \n}\n</code></pre>\n\n<p>Now, I'm loading data from LPO_Process using the following:</p>\n\n<pre><code>     viewLPO.cb_Suppliers.SelectedValue = Convert.ToInt32((dt_LPO.Rows[0][\"SID\"].ToString()));\n//MessageBox.Show(\"TEST\");\nviewLPO.cb_ContactPerson.Text = (dt_LPO.Rows[0][\"ContactPersonID\"].ToString());\nviewLPO.Show();\n</code></pre>\n\n<p>Using debug i can see that the value passed is the required value, however when the new window opens, the contact person field is empty. </p>\n\n<p>Now the weird part is, if i uncomment the message box, a message will appear before the window pops open, then after accepting, the new window will have the field populated..</p>\n\n<p>It might be an issue with the UI not populating properly, however i tried several changes and nothing worked.</p>\n\n<p>Any idea on how to proceed</p>\n\n<p>XAML:</p>\n\n<pre><code>&lt;ComboBox x:Name=\"cb_ContactPerson\" HorizontalAlignment=\"Left\" Margin=\"105,41,0,0\" VerticalAlignment=\"Top\" Width=\"279\" ItemsSource=\"{Binding}\" /&gt;\n</code></pre>\n"}, {"tags": ["c#", "audio", "system-sounds"], "comments": [{"owner": {"reputation": 804, "user_id": 3509337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98aed7da4ecdaee10d625d1b7b03cebe?s=128&d=identicon&r=PG&f=1", "display_name": "mr.coffee", "link": "https://stackoverflow.com/users/3509337/mr-coffee"}, "edited": false, "score": 0, "creation_date": 1553119875, "post_id": 55270685, "comment_id": 97273028, "body": "Did you just ask a question and then immediately answer it yourself?"}, {"owner": {"reputation": 118524, "user_id": 3146, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/acc637690f49e2b5a2146deb17874d6f?s=128&d=identicon&r=PG", "display_name": "1800 INFORMATION", "link": "https://stackoverflow.com/users/3146/1800-information"}, "reply_to_user": {"reputation": 804, "user_id": 3509337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98aed7da4ecdaee10d625d1b7b03cebe?s=128&d=identicon&r=PG&f=1", "display_name": "mr.coffee", "link": "https://stackoverflow.com/users/3509337/mr-coffee"}, "edited": false, "score": 1, "creation_date": 1553641414, "post_id": 55270685, "comment_id": 97458442, "body": "@mr.coffee yes this is valid to do. When you create the question, below the edit box there is a check box to allow you to add an answer to the question at that time. I sometimes do this when I&#39;ve figured out something that I couldn&#39;t find the answer to."}], "answers": [{"tags": [], "owner": {"reputation": 118524, "user_id": 3146, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/acc637690f49e2b5a2146deb17874d6f?s=128&d=identicon&r=PG", "display_name": "1800 INFORMATION", "link": "https://stackoverflow.com/users/3146/1800-information"}, "is_accepted": false, "score": 2, "last_activity_date": 1553118472, "creation_date": 1553118472, "answer_id": 55270686, "question_id": 55270685, "link": "https://stackoverflow.com/questions/55270685/how-to-play-systemsound-in-c-and-wait-for-it-to-complete/55270686#55270686", "title": "How to play SystemSound in c# and wait for it to complete?", "body": "<p>This is not the only solution, but it's what I came up with.</p>\n\n<p>You can do this using the <code>PlaySound</code> API (<a href=\"https://docs.microsoft.com/en-us/previous-versions/dd743680(v%3Dvs.85)\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/previous-versions/dd743680(v%3Dvs.85)</a>).</p>\n\n<p>Use DllImport to bring in the reference:</p>\n\n<pre><code>internal static class Win32\n{\n    [DllImport(\"winmm.dll\", SetLastError = true)]\n    public static extern bool PlaySound(string pszSound, UIntPtr hmod, uint fdwSound);\n\n    [Flags]\n    public enum SoundFlags\n    {\n        /// &lt;summary&gt;play synchronously (default)&lt;/summary&gt;\n        SND_SYNC = 0x0000,\n        /// &lt;summary&gt;play asynchronously&lt;/summary&gt;\n        SND_ASYNC = 0x0001,\n        /// &lt;summary&gt;silence (!default) if sound not found&lt;/summary&gt;\n        SND_NODEFAULT = 0x0002,\n        /// &lt;summary&gt;pszSound points to a memory file&lt;/summary&gt;\n        SND_MEMORY = 0x0004,\n        /// &lt;summary&gt;loop the sound until next sndPlaySound&lt;/summary&gt;\n        SND_LOOP = 0x0008,\n        /// &lt;summary&gt;don't stop any currently playing sound&lt;/summary&gt;\n        SND_NOSTOP = 0x0010,\n        /// &lt;summary&gt;Stop Playing Wave&lt;/summary&gt;\n        SND_PURGE = 0x40,\n        /// &lt;summary&gt;The pszSound parameter is an application-specific alias in the registry. You can combine this flag with the SND_ALIAS or SND_ALIAS_ID flag to specify an application-defined sound alias.&lt;/summary&gt;\n        SND_APPLICATION = 0x80,\n        /// &lt;summary&gt;don't wait if the driver is busy&lt;/summary&gt;\n        SND_NOWAIT = 0x00002000,\n        /// &lt;summary&gt;name is a registry alias&lt;/summary&gt;\n        SND_ALIAS = 0x00010000,\n        /// &lt;summary&gt;alias is a predefined id&lt;/summary&gt;\n        SND_ALIAS_ID = 0x00110000,\n        /// &lt;summary&gt;name is file name&lt;/summary&gt;\n        SND_FILENAME = 0x00020000,\n        /// &lt;summary&gt;name is resource name or atom&lt;/summary&gt;\n        SND_RESOURCE = 0x00040004\n    }\n}\n</code></pre>\n\n<p>Then your code to call it:</p>\n\n<pre><code>Win32.PlaySound(\"SystemAsterisk\", UIntPtr.Zero, (uint)(Win32.SoundFlags.SND_ALIAS | Win32.SoundFlags.SND_NODEFAULT));\n</code></pre>\n"}], "owner": {"reputation": 118524, "user_id": 3146, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/acc637690f49e2b5a2146deb17874d6f?s=128&d=identicon&r=PG", "display_name": "1800 INFORMATION", "link": "https://stackoverflow.com/users/3146/1800-information"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553118472, "creation_date": 1553118472, "question_id": 55270685, "link": "https://stackoverflow.com/questions/55270685/how-to-play-systemsound-in-c-and-wait-for-it-to-complete", "title": "How to play SystemSound in c# and wait for it to complete?", "body": "<p>You can play a system sound as follows:</p>\n\n<pre><code>SystemSounds.Asterisk.Play();\n</code></pre>\n\n<p>But it plays asynchronously. This is usually ok, but I want to wait for it to complete, and then run some other code afterwards. How to do this?</p>\n"}, {"tags": ["c#", "selenium-webdriver", "nunit", "alert", "reflect"], "comments": [{"owner": {"reputation": 1, "user_id": 11234537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fe192ac657f64a39cb2d941b35e2bd1?s=128&d=identicon&r=PG&f=1", "display_name": "Kelly", "link": "https://stackoverflow.com/users/11234537/kelly"}, "edited": false, "score": 0, "creation_date": 1553189751, "post_id": 55270664, "comment_id": 97302224, "body": "Removed the alert from the test and the element still could not be found, even though I had just found it and set its value. So this has nothing to do with Reflect.cs, nor with the alert dismissal. I would downvote my question also but it will not let me."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11234537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fe192ac657f64a39cb2d941b35e2bd1?s=128&d=identicon&r=PG&f=1", "display_name": "Kelly", "link": "https://stackoverflow.com/users/11234537/kelly"}, "edited": false, "score": 0, "creation_date": 1553187021, "post_id": 55271463, "comment_id": 97300706, "body": "Thanks, Charlie. I have been struggling to get Visual Studio to debug my tests as I run them with NUnit. It either ignores my breaks (F9) or it debugs everything."}], "tags": [], "owner": {"reputation": 10075, "user_id": 1569967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58379d5103ffb1304afdccb438ce53fb?s=128&d=identicon&r=PG", "display_name": "Charlie", "link": "https://stackoverflow.com/users/1569967/charlie"}, "is_accepted": false, "score": 2, "last_activity_date": 1553123529, "creation_date": 1553123529, "answer_id": 55271463, "question_id": 55270664, "link": "https://stackoverflow.com/questions/55270664/nunit-seems-to-lose-track-of-reflect-js-after-cancelling-an-alert/55271463#55271463", "title": "NUnit seems to lose track of Reflect.js after cancelling an alert", "body": "<p>First of all, if you read the message, it's <code>Reflect.cs</code> not <code>.js</code>.</p>\n\n<p>Secondly, it's not NUnit that's unable to find it but the VS debugger.</p>\n\n<p>The NUnit framework is written in C#. One of the files that makes it up is that one: <code>Reflect.cs</code>. You have apparently done something to ask or you have some settings that ask the debugger to step into NUnit's own code. If that's not intentional, just don't try to debug outside your own Debug code.</p>\n\n<p>If you are really intent on debugging the NUnit code, then you need to have a copy of the source code installed somewhere on your machine.</p>\n\n<p>None of this has anything to do with the actual exception that occured but the debug messages are probably obscuring your actual problem.</p>\n"}], "owner": {"reputation": 1, "user_id": 11234537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fe192ac657f64a39cb2d941b35e2bd1?s=128&d=identicon&r=PG&f=1", "display_name": "Kelly", "link": "https://stackoverflow.com/users/11234537/kelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1553123529, "creation_date": 1553118340, "last_edit_date": 1553120063, "question_id": 55270664, "link": "https://stackoverflow.com/questions/55270664/nunit-seems-to-lose-track-of-reflect-js-after-cancelling-an-alert", "title": "NUnit seems to lose track of Reflect.js after cancelling an alert", "body": "<p>I am using C# and the Selenium Webdriver in Visual Studio 2017 to automate some tests. I am currently stuck with a test that fails to find an element after canceling an alert.</p>\n\n<p>When I step through the code, I get an error indicating that Reflect.js could not be found:</p>\n\n<blockquote>\n  <p>Locating source for\n  'C:\\src\\nunit\\nunit\\src\\NUnitFramework\\framework\\Internal\\Reflect.cs'.\n  Checksum: SHA1 {db ae 17 40 7a 46 56 f6 79 ee 5a 25 c7 7 94 f1 97 c1\n  a5 de} The file\n  'C:\\src\\nunit\\nunit\\src\\NUnitFramework\\framework\\Internal\\Reflect.cs'\n  does not exist. Looking in script documents for\n  'C:\\src\\nunit\\nunit\\src\\NUnitFramework\\framework\\Internal\\Reflect.cs'...\n  Looking in the Edit-and-Continue directory\n  'C:\\GitLab\\Automated-Testing\\Selenium\\SeleniumFramework\\enc_temp_folder\\'...\n  The file with the matching checksum was not found in the\n  Edit-and-Continue directory. Looking in the projects for\n  'C:\\src\\nunit\\nunit\\src\\NUnitFramework\\framework\\Internal\\Reflect.cs'.\n  The file was not found in a project. Searching for documents embedded\n  in the symbol file. An embedded document was not found. The debug\n  source files settings for the active solution indicate that the\n  debugger will not ask the user to find the file:\n  C:\\src\\nunit\\nunit\\src\\NUnitFramework\\framework\\Internal\\Reflect.cs.\n  The debugger could not locate the source file\n  'C:\\src\\nunit\\nunit\\src\\NUnitFramework\\framework\\Internal\\Reflect.cs'.</p>\n</blockquote>\n\n<p>My suspicion is that something about canceling the alert caused NUnit to lose track of its Reflect.js file. Here is the CancelAlert code:</p>\n\n<pre><code>    public static void CancelAlert()\n    {\n        Driver.SwitchTo().Alert().Dismiss();\n    }\n</code></pre>\n\n<p>Anyone have any ideas as to how I can get past this this error?</p>\n"}, {"tags": ["c#", "forms", "class", "login"], "comments": [{"owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "edited": false, "score": 1, "creation_date": 1553118490, "post_id": 55270623, "comment_id": 97272559, "body": "Many ways.  A public property.  Pass it over when you construct the second form.  A shared class between the two.  What have you tried?"}, {"owner": {"reputation": 305, "user_id": 7902948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/txJ2r.jpg?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/7902948/alex-hall"}, "reply_to_user": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "edited": false, "score": 0, "creation_date": 1553118949, "post_id": 55270623, "comment_id": 97272700, "body": "I have tried creating a public class with a datatable as a parameter but I can&#39;t call that in the form I want to use because there is nowhere for a user to enter the username and password. I have also tried putting the userID in a label and then carrying it over into the form but the label is always empty because I cant return an int in the Button_click method"}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1553119078, "post_id": 55270623, "comment_id": 97272747, "body": "<a href=\"http://stackoverflow.com/questions/3062575/\">Duplicate 1</a>, <a href=\"http://stackoverflow.com/questions/7800731/\">duplicate 2</a>, <a href=\"http://stackoverflow.com/questions/17032484/\">duplicate 3</a>, <a href=\"http://stackoverflow.com/questions/17836398/\">duplicate 4</a>, <a href=\"http://stackoverflow.com/questions/25316230/\">duplicate 5</a>, <a href=\"http://stackoverflow.com/questions/29092707/\">duplicate 6</a>..."}], "owner": {"reputation": 305, "user_id": 7902948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/txJ2r.jpg?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/7902948/alex-hall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1553135320, "answer_count": 0, "score": 0, "last_activity_date": 1553118164, "creation_date": 1553118164, "question_id": 55270623, "link": "https://stackoverflow.com/questions/55270623/need-to-get-an-int-variable-from-one-form-to-use-in-another-form", "closed_reason": "Duplicate", "title": "Need to get an int variable from one form to use in another form", "body": "<p>I have created a function to get a userID from a user logging in, which fills a datatable and then I get the UserID from the first row of the datatable. </p>\n\n<pre><code>public int GetUserID (DataTable UserIDTable)\n    {\n\n      int UserID = Convert.ToInt32(UserIDTable.Rows[0][\"USER_ID\"]);\n        return UserID;\n    }\n</code></pre>\n\n<p>I then called the function in another form to get the userID from the datatable once the login button is hit. </p>\n\n<pre><code>int UserID =  LoginFunction.GetUserID(DataTable);\n</code></pre>\n\n<p>I then need to use this UserID to display data in a grid for that user, but I'm not sure how to get the UserID from the form with the login button to the form with the grid. </p>\n"}, {"tags": ["c#", "entity-framework", "ef-code-first", "entity-framework-core", "ef-code-first-mapping"], "answers": [{"comments": [{"owner": {"reputation": 432, "user_id": 8297552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/412A6.jpg?s=128&g=1", "display_name": "\u0141ukasz Sypniewski", "link": "https://stackoverflow.com/users/8297552/%c5%81ukasz-sypniewski"}, "edited": false, "score": 0, "creation_date": 1553119642, "post_id": 55270644, "comment_id": 97272946, "body": "As for the line you mentioned - I was creating <code>Stock</code> manually for the sake of depicting a problem. Actually, I parse a text file and pass <code>List&lt;Transaction&gt;</code> into the function and then call <code>context.Transactions.AddRange(list)</code> Of course, every stock is refered by lots of transactions. Could you elaborate a little bit more on a possible approach to solving the problem?"}], "tags": [], "owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "is_accepted": true, "score": 1, "last_activity_date": 1553118270, "creation_date": 1553118270, "answer_id": 55270644, "question_id": 55270535, "link": "https://stackoverflow.com/questions/55270535/ef-core-error-with-duplicated-key-while-adding-data-with-unique-index/55270644#55270644", "title": "EF Core - error with duplicated key while adding data with unique index", "body": "<p>There's a unique index on the <code>dbo.Stocks</code> table named <code>IX_Stocks_Name</code>.  You're violating this index.</p>\n\n<p>Your problem is this line:</p>\n\n<pre><code>var stock1 = new Stock(\"stock1\");\n</code></pre>\n\n<p>You're creating \"stock1\" over and over.  Instead, you should first be retrieving (or storing) the <code>Stock</code> entity for \"stock1\" and using that, if it already exists.  If it doesn't exist then it's safe to create one.</p>\n\n<p>In short, the code is doing an <code>INSERT</code> into <code>dbo.Stocks</code> with an existing <code>Name</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 432, "user_id": 8297552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/412A6.jpg?s=128&g=1", "display_name": "\u0141ukasz Sypniewski", "link": "https://stackoverflow.com/users/8297552/%c5%81ukasz-sypniewski"}, "edited": false, "score": 0, "creation_date": 1553123847, "post_id": 55271421, "comment_id": 97274222, "body": "Thank you for the hint. To be honest, I would expect Entity Framework to take care of associating entities in such way automatically."}, {"owner": {"reputation": 807, "user_id": 1647603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93470dce3214814a6bd928a608ceefeb?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Shinkle", "link": "https://stackoverflow.com/users/1647603/dave-shinkle"}, "edited": false, "score": 0, "creation_date": 1569965190, "post_id": 55271421, "comment_id": 102764208, "body": "It wouldn&#39;t make sense to do that automatically.  Use auto-generated numeric or guid keys to avoid this issue."}], "tags": [], "owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "is_accepted": false, "score": 0, "last_activity_date": 1553123119, "creation_date": 1553123119, "answer_id": 55271421, "question_id": 55270535, "link": "https://stackoverflow.com/questions/55270535/ef-core-error-with-duplicated-key-while-adding-data-with-unique-index/55271421#55271421", "title": "EF Core - error with duplicated key while adding data with unique index", "body": "<p>You need to check if there is a Stock already known for the desired ID. for the sake of your example:</p>\n\n<pre><code>var stock1 = context.Stocks.SingleOrDefault(x =&gt; x.StockId == \"stock1\") ?? new Stock(\"stock1\");\n</code></pre>\n\n<p>This will associate an existing stock if one is already in the database, or associate a new one if there is none.</p>\n"}, {"tags": [], "owner": {"reputation": 432, "user_id": 8297552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/412A6.jpg?s=128&g=1", "display_name": "\u0141ukasz Sypniewski", "link": "https://stackoverflow.com/users/8297552/%c5%81ukasz-sypniewski"}, "is_accepted": false, "score": 0, "last_activity_date": 1553123609, "creation_date": 1553123609, "answer_id": 55271480, "question_id": 55270535, "link": "https://stackoverflow.com/questions/55270535/ef-core-error-with-duplicated-key-while-adding-data-with-unique-index/55271480#55271480", "title": "EF Core - error with duplicated key while adding data with unique index", "body": "<p>Thanks to @Zer0's and @Steve Py's suggestions I came up with the following solution:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>void Insert(IEnumerable&lt;Transaction&gt; data)\n        {\n            using(var context = dbContextFactory.CreateDbContext(new string[0]))\n            {\n                List&lt;Stock&gt; stocks = data.Select(s =&gt; s.RelatedStock).Distinct(new StockComparer()).ToList();\n                context.AddRange(stocks);\n                context.SaveChanges();\n                stocks = context.Stocks.ToList();\n\n                List&lt;Transaction&gt; newList = new List&lt;Transaction&gt;(data.Count());\n\n                foreach (var t in data)\n                {\n                        Stock relatedStock = stocks.Where(s =&gt; s.Name == t.RelatedStock.Name).First();\n                        t.RelatedStock = relatedStock;\n                        newList.Add(t);\n                }\n\n                context.Transactions.AddRange(newList);\n                context.SaveChanges();\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 432, "user_id": 8297552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/412A6.jpg?s=128&g=1", "display_name": "\u0141ukasz Sypniewski", "link": "https://stackoverflow.com/users/8297552/%c5%81ukasz-sypniewski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3394, "favorite_count": 0, "accepted_answer_id": 55270644, "answer_count": 3, "score": 1, "last_activity_date": 1553123609, "creation_date": 1553117639, "last_edit_date": 1553121129, "question_id": 55270535, "link": "https://stackoverflow.com/questions/55270535/ef-core-error-with-duplicated-key-while-adding-data-with-unique-index", "title": "EF Core - error with duplicated key while adding data with unique index", "body": "<p>I'm trying to add data to the database using EF Core, but I cannot overcome duplicate key error: <code>Cannot insert duplicate key row in object 'dbo.Stocks' with unique index 'IX_Stocks_Name'. The duplicate key value is (stock1).</code></p>\n\n<p>I have entity <code>Stock</code> that has relation one-to-many with <code>Transaction</code> - one <code>Stock</code> can be related with many <code>Transaction</code>s. </p>\n\n<p>The problem doesn't occur only if there's no <code>Stock</code> with a given ID in the database - in that case I can add many <code>Transaction</code>s with the same <code>StockID</code> and it works:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using(var context = dbContextFactory.CreateDbContext(new string[0]))\n     {\n        List&lt;Transaction&gt; list = new List&lt;Transaction&gt;();\n        //If there's no Stock with ID \"stock1\" in the database the code works.\n        //Executing the code for the second time results in error, however, if I changed stock1 to stock2 it would work \n        var stock1 = new Stock(\"stock1\");\n        list.AddRange(new Transaction[]\n        {\n        //I can add two exactly the same `Transaction`s and it's ok when executed on a fresh database\n        new Transaction(stock1, DateTime.Now, 1M, 5),\n        new Transaction(stock1, DateTime.Now, 1M, 5),\n        });\n        context.Transactions.AddRange(list);\n        context.SaveChanges();\n     }\n</code></pre>\n\n<p>Below I added definitions of classes with their <code>IEntityTypeConfiguration</code>s.</p>\n\n<p>Thanks in advance for any hints.</p>\n\n<p><code>Transaction</code> class:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class Transaction\n    {\n        public Stock RelatedStock { get; set; }\n        public DateTime TransactionTime { get; set; }\n        public Decimal Price { get; set; }\n        public int Volume { get; set; }\n        public Transaction() { }\n    }\n</code></pre>\n\n<p><code>TransactionConfiguration</code> class:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class TransactionConfiguration : IEntityTypeConfiguration&lt;Transaction&gt;\n    {\n        public void Configure(EntityTypeBuilder&lt;Transaction&gt; builder)\n        {\n            builder\n                .ToTable(\"Transactions\");\n\n            builder\n                .Property&lt;int&gt;(\"TransactionID\")\n                .HasColumnType(\"int\")\n                .ValueGeneratedOnAdd()\n                .HasAnnotation(\"Key\", 0);\n\n            builder\n                .Property(transaction =&gt; transaction.Price)\n                .HasColumnName(\"Price\")\n                .IsRequired();\n\n            builder\n                .Property(transaction =&gt; transaction.TransactionTime)\n                .HasColumnName(\"Time\")\n                .IsRequired();\n\n            builder\n                .Property(transaction =&gt; transaction.Volume)\n                .HasColumnName(\"Volume\")\n                .IsRequired();\n\n            builder\n                .HasIndex(\"RelatedStockStockID\", nameof(Transaction.TransactionTime))\n                .IsUnique();\n        }\n    }\n</code></pre>\n\n<p><code>Stock</code> class:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class Stock\n  {\n     public string Name { get; set; }\n     public ICollection&lt;Transaction&gt; Transactions { get; set; }\n     public Stock() { }\n  }\n</code></pre>\n\n<p><code>StockConfiguration</code> class:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class StockConfiguration : IEntityTypeConfiguration&lt;Stock&gt;\n    {\n        public void Configure(EntityTypeBuilder&lt;Stock&gt; builder)\n        {\n            builder\n                .ToTable(\"Stocks\");\n\n            builder\n                .Property&lt;int&gt;(\"StockID\")\n                .HasColumnType(\"int\")\n                .ValueGeneratedOnAdd()\n                .HasAnnotation(\"Key\", 0);\n\n            builder\n                .Property(stock =&gt; stock.Name)\n                .HasColumnName(\"Name\")\n                .HasMaxLength(25)\n                .IsRequired();\n\n            builder\n                .HasMany(stock =&gt; stock.Transactions)\n                .WithOne(transaction =&gt; transaction.RelatedStock)\n                .IsRequired();\n\n            builder\n                .HasIndex(stock =&gt; stock.Name)\n                .IsUnique();\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 8, "creation_date": 1553117471, "post_id": 55270490, "comment_id": 97272162, "body": "Because your <code>class</code> doesn&#39;t override <code>ToString</code>: <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/how-to-override-the-tostring-method\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 3, "creation_date": 1553117517, "post_id": 55270490, "comment_id": 97272179, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4023462/how-do-i-automatically-display-all-properties-of-a-class-and-their-values-in-a-s\">How do I automatically display all properties of a class and their values in a string?</a>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 4, "creation_date": 1553117522, "post_id": 55270490, "comment_id": 97272182, "body": "Also, it&#39;s a bad practice to use <code>double</code> as a price. Use <code>decimal</code> to represent money quantities."}, {"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 0, "creation_date": 1553174026, "post_id": 55270490, "comment_id": 97292250, "body": "In the context of a product database, I would also consider representing quantity as a decimal.  Usually fractional product quantity purchases are exact (i.e., even if the received product is measured, the invoice quantity is considered exact for purposes of accounting and for purposes of converting between price per unit and total price)."}], "answers": [{"tags": [], "owner": {"reputation": 107, "user_id": 2361954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf327ba51213fd4e81d8ea7f1302f0f?s=128&d=identicon&r=PG", "display_name": "Txaran", "link": "https://stackoverflow.com/users/2361954/txaran"}, "is_accepted": false, "score": 1, "last_activity_date": 1553117941, "creation_date": 1553117941, "answer_id": 55270588, "question_id": 55270490, "link": "https://stackoverflow.com/questions/55270490/printing-components-from-a-list-of-objects-dont-work/55270588#55270588", "title": "Printing components from a list of objects dont work", "body": "<p>It depends on what do you want to print.</p>\n\n<p>At this line:</p>\n\n<pre><code>Console.WriteLine(info);\n</code></pre>\n\n<p>info is an instance of class Database. When Writeline tries to print \"info\", or an object of some class in general, it calls ToString() method, which by default is the full name of your class. So, you have to override ToString method and create the string representation of your class. </p>\n\n<p>Something like this:</p>\n\n<pre><code>class DataBase\n{\n    public string Name { get;  set; }\n    public double Price { get;  set; }\n    public double Quantity { get;  set; }\n\n    public override string ToString()\n    {\n         return $\"Name: {Name} Price: {Price} Quantity: {Quantity}\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 9134363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b03460c13bdf2c50d25c8ea59bf2f19b?s=128&d=identicon&r=PG&f=1", "display_name": "calin sirbu", "link": "https://stackoverflow.com/users/9134363/calin-sirbu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1553117941, "creation_date": 1553117378, "question_id": 55270490, "link": "https://stackoverflow.com/questions/55270490/printing-components-from-a-list-of-objects-dont-work", "title": "Printing components from a list of objects dont work", "body": "<pre><code>class DataBase\n    {\n        public string Name { get;  set; }\n        public double Price { get;  set; }\n        public double Quantity { get;  set; }\n    }\n\n\n\n public static void GetProdInfo(List&lt;DataBase&gt; dataInfo)\n            {\n                foreach(var info in dataInfo)\n                {\n                    Console.WriteLine(info);\n                }\n            }\n</code></pre>\n\n<p>why i am not getting the data from DataBase like name price quant etc, i'm getting MenuDatabaseUpdated.DataBase something like that, help me please, how do i print the components of DataBase? &lt;3 i've tried to write Object instead of var but the answer is the same :(</p>\n"}, {"tags": ["c#", "graphics"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1553117484, "post_id": 55270474, "comment_id": 97272168, "body": "Once you splat something on a graphic object, you can&#39;t erase it.  You have to clear the canvas."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1553117583, "post_id": 55270474, "comment_id": 97272216, "body": "@Lars: He is using the Paint event, doesn&#39;t he? Solution: Code the MouseUp event and measure the size of the Rectangle. When empty don&#39;t redraw. Call invalidate in the MouseUp as well!"}, {"owner": {"reputation": 303, "user_id": 5247955, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10100537641354924/picture?type=large", "display_name": "TulsaNewbie", "link": "https://stackoverflow.com/users/5247955/tulsanewbie"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1553117845, "post_id": 55270474, "comment_id": 97272336, "body": "@TaW I&#39;m liking where you&#39;re going with this... but not sure how to accomplish the phrase &quot;don&#39;t redraw&quot;."}, {"owner": {"reputation": 303, "user_id": 5247955, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10100537641354924/picture?type=large", "display_name": "TulsaNewbie", "link": "https://stackoverflow.com/users/5247955/tulsanewbie"}, "edited": false, "score": 0, "creation_date": 1553117987, "post_id": 55270474, "comment_id": 97272385, "body": "Wait... I think I follow now..."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1553118003, "post_id": 55270474, "comment_id": 97272396, "body": "You can calculate the new Rect . Now your Paint code will not draw."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1553118651, "post_id": 55270474, "comment_id": 97272621, "body": "Or you could measure the timespane between MouseDown and -Up and clear the Rect when it is too short ;-)"}, {"owner": {"reputation": 303, "user_id": 5247955, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10100537641354924/picture?type=large", "display_name": "TulsaNewbie", "link": "https://stackoverflow.com/users/5247955/tulsanewbie"}, "edited": false, "score": 0, "creation_date": 1553118767, "post_id": 55270474, "comment_id": 97272651, "body": "no, still not getting there... seems like the task of drawing the rectangle itself is entirely accomplished within that e.graphics.fillrectangle, right?  But setting a rectangle of 0 never calls it because of the if statement before it... and it seems like it might be dangerous to call a fillrectangle of 0... could try it I guess..."}, {"owner": {"reputation": 303, "user_id": 5247955, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10100537641354924/picture?type=large", "display_name": "TulsaNewbie", "link": "https://stackoverflow.com/users/5247955/tulsanewbie"}, "edited": false, "score": 0, "creation_date": 1553118784, "post_id": 55270474, "comment_id": 97272655, "body": "what do you mean &quot;clear the rect&quot;"}, {"owner": {"reputation": 303, "user_id": 5247955, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10100537641354924/picture?type=large", "display_name": "TulsaNewbie", "link": "https://stackoverflow.com/users/5247955/tulsanewbie"}, "edited": false, "score": 0, "creation_date": 1553118981, "post_id": 55270474, "comment_id": 97272715, "body": "I built an else statement that does e.Graphics.FillRectangle(selectionBrush, new Rectangle(0, 0, 0, 0))... that didn&#39;t work either, hah."}, {"owner": {"reputation": 303, "user_id": 5247955, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10100537641354924/picture?type=large", "display_name": "TulsaNewbie", "link": "https://stackoverflow.com/users/5247955/tulsanewbie"}, "edited": false, "score": 0, "creation_date": 1553119126, "post_id": 55270474, "comment_id": 97272762, "body": "of course, e.graphics.clear() completely wipes out the whole thing, including the image, which is bad... there&#39;s got to be a way to just blink the rectangle out of existence but... I&#39;m not finding it yet"}, {"owner": {"reputation": 303, "user_id": 5247955, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10100537641354924/picture?type=large", "display_name": "TulsaNewbie", "link": "https://stackoverflow.com/users/5247955/tulsanewbie"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1553123516, "post_id": 55270474, "comment_id": 97274125, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/190402/discussion-between-tulsanewbie-and-taw\">continue this discussion in chat</a>."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 1, "creation_date": 1553123895, "post_id": 55270474, "comment_id": 97274239, "body": "Graphics.Save saves not the stuff you draw but changes you make to the Graphics object/tool, like scaling or rotating it. Off to bed now. You may want to look into this <a href=\"https://stackoverflow.com/questions/38414334/how-to-draw-an-updating-line/38419518?r=SearchResults&amp;s=1|22.1498#38419518\">post</a> which shows the way I do non-persistent drawing. Not sure what the various parts of your app are you want to put together.."}], "answers": [{"tags": [], "owner": {"reputation": 303, "user_id": 5247955, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10100537641354924/picture?type=large", "display_name": "TulsaNewbie", "link": "https://stackoverflow.com/users/5247955/tulsanewbie"}, "is_accepted": false, "score": 0, "last_activity_date": 1553128184, "last_edit_date": 1553128184, "creation_date": 1553125348, "answer_id": 55271725, "question_id": 55270474, "link": "https://stackoverflow.com/questions/55270474/removing-a-rectangle-from-imagebox/55271725#55271725", "title": "Removing a rectangle from imagebox", "body": "<p>Finally found a way to do it where I keep the drawing inside the paint event to improve performance / remove flicker...</p>\n\n<p>It all had to do with fillRectangle<strong>s</strong></p>\n\n<p>here's the working code:</p>\n\n<pre><code>public partial class ScreenSelection : Form\n{\n    private Point RectStartPoint;\n    private Rectangle Rect = new Rectangle();\n    private Brush selectionBrush = new SolidBrush(Color.FromArgb(128, 72, 145, 220));\n    private List&lt;Rectangle&gt; Rects = new List&lt;Rectangle&gt;();\n    private bool RectStart = false;\n\n    public ScreenSelection(DataTable buttonData)\n    {\n        InitializeComponent();\n    }\n\n   private void Canvas_MouseUp(object sender, MouseEventArgs e)\n    {\n        if (e.Button == MouseButtons.Left)\n        {\n            if (RectStartPoint == e.Location)\n            {\n                int i = Rects.Count;\n                if (i &gt; 0) { Rects.RemoveAt(i - 1); }\n                Canvas.Refresh();\n            }\n        }\n    }\n\n    private void Canvas_MouseDown(object sender, MouseEventArgs e)\n    {\n        if (e.Button == MouseButtons.Left)\n        {\n            RectStartPoint = e.Location;\n            int i = Rects.Count;\n            if (i &gt;= 1) { Rects.RemoveAt(i - 1); }\n            RectStart = false;\n            Canvas.Refresh();\n        }\n    }\n\n    private void Canvas_MouseMove(object sender, MouseEventArgs e)\n    {\n        if (e.Button != MouseButtons.Left)\n            return;\n\n        Point tempEndPoint = e.Location;\n        Rect.Location = new Point(\n            Math.Min(RectStartPoint.X, tempEndPoint.X),\n            Math.Min(RectStartPoint.Y, tempEndPoint.Y));\n        Rect.Size = new Size(\n            Math.Abs(RectStartPoint.X - tempEndPoint.X),\n            Math.Abs(RectStartPoint.Y - tempEndPoint.Y));\n        if (!RectStart)\n        {\n            Rects.Add(Rect);\n            RectStart = true;\n        }\n        else\n        {\n            Rects[(Rects.Count - 1)] = Rect;\n        }\n        Canvas.Invalidate(); \n    }\n\n    private void Canvas_Paint(object sender, PaintEventArgs e)\n    {\n        // Draw the rectangle...\n        if (Canvas.Image != null)\n        {\n            if (Rects.Count &gt; 0)\n            {\n                e.Graphics.FillRectangles(selectionBrush, Rects.ToArray());\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>The bonus to this is that if I'm careful, I'll be able to also make some rectangles permanent while removing others.</p>\n"}], "owner": {"reputation": 303, "user_id": 5247955, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10100537641354924/picture?type=large", "display_name": "TulsaNewbie", "link": "https://stackoverflow.com/users/5247955/tulsanewbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553128184, "creation_date": 1553117341, "last_edit_date": 1553123145, "question_id": 55270474, "link": "https://stackoverflow.com/questions/55270474/removing-a-rectangle-from-imagebox", "title": "Removing a rectangle from imagebox", "body": "<p>I borrowed some code to draw a rectangle on an image, e.g. like a selection box.  Right now, the code draws a rectangle any time you click and drag your mouse.  If you simply left-click without dragging, nothing at all happens - the existing rectangle stays put.  If you click and drag a new rectangle, the old rectangle disappears.</p>\n\n<p>That's almost exactly like I want (I'm not wanting to permanently draw on the image... yet...), but with one change: I'd like for a single left-click to make the rectangle disappear as well.</p>\n\n<p>The code is as follows:</p>\n\n<pre><code>public partial class ScreenSelection : Form\n{\n  private Point RectStartPoint;\n  private Rectangle Rect = new Rectangle();\n  private Brush selectionBrush = new SolidBrush(Color.FromArgb(128, 72, 145, 220));\n\n  public ScreenSelection(DataTable buttonData)\n  {\n    InitializeComponent();\n  }\n\n  private void Canvas_MouseDown(object sender, MouseEventArgs e)\n  {\n    if (e.Button == MouseButtons.Left)\n    {\n      RectStartPoint = e.Location;\n      Invalidate();\n    }\n  }\n\n  private void Canvas_MouseMove(object sender, MouseEventArgs e)\n  {\n    if (e.Button != MouseButtons.Left)\n      return;\n    Point tempEndPoint = e.Location;\n    Rect.Location = new Point(\n        Math.Min(RectStartPoint.X, tempEndPoint.X),\n        Math.Min(RectStartPoint.Y, tempEndPoint.Y));\n    Rect.Size = new Size(\n        Math.Abs(RectStartPoint.X - tempEndPoint.X),\n        Math.Abs(RectStartPoint.Y - tempEndPoint.Y));\n    Canvas.Invalidate();\n  }\n\n  private void Canvas_Paint(object sender, PaintEventArgs e)\n  {\n    // Draw the rectangle...\n    if (Canvas.Image != null)\n    {\n      if (Rect != null &amp;&amp; Rect.Width &gt; 0 &amp;&amp; Rect.Height &gt; 0)\n      {\n        e.Graphics.FillRectangle(selectionBrush, Rect);\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>I also have the user load a bitmap in as the image of the canvas, so once the user does that, canvas.image won't equal null.</p>\n\n<p>so how can I make that rectangle disappear on a left click?  I'm already doing an invalidate on the left-click, and that's clearly not getting rid of it.</p>\n\n<p>I tried forcing the rectangle size on a left-click by doing:</p>\n\n<pre><code>        if (e.Button == MouseButtons.Left)\n        {\n            RectStartPoint = e.Location;\n            Rect.Height = 0;\n            Rect.Width = 0;\n            Invalidate();\n        }\n</code></pre>\n\n<p>and tried Rect.Size, Rect = Rectangle.Empty, Canvas.Refresh()... </p>\n\n<p>How can I accomplish this?</p>\n\n<p>Edit:\nI've also tried saving the graphics state and restoring it.  That doesn't work... (no errors, just not getting rid of the rectangle)</p>\n"}, {"tags": ["c#", "webclient", "webclient-download"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1553117574, "post_id": 55270472, "comment_id": 97272212, "body": "What happened when you tried both of them?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1553119469, "post_id": 55270472, "comment_id": 97272883, "body": "I don&#39;t know about the ZipArchive type you are referring to, but you might want to check if this can process a zip archive stream in a strictly forward fashion (i.e., not trying to ever seek in the ZIP archive stream). If it cannot do that (or when in doubt), trying to process the stream provided by webclient.OpenRead may not be possible, as i guess that stream (NetworkStream?) is not seekable. In this situation i would suggest to either copy the content of the stream from webclient.OpenRead into a MemoryStream if you have enough RAM, or write into to a temp ZIP file..."}, {"owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "edited": false, "score": 0, "creation_date": 1553119734, "post_id": 55270472, "comment_id": 97272976, "body": "I just thought about resume the download what needs a local file persistance due to network connection interruption... question answered :P"}], "owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553117335, "creation_date": 1553117335, "question_id": 55270472, "link": "https://stackoverflow.com/questions/55270472/difference-between-downloading-into-a-file-or-stream-for-ziparchive-extraction", "title": "Difference between downloading into a file Or stream for ZipArchive extraction", "body": "<p>I want to download a big file (2,5 GB) with .Net WebClient.</p>\n\n<p><strong>Step 1</strong></p>\n\n<p>Now I can download the zip file:</p>\n\n<p>Persist it as <strong>local file</strong> with webclient.DownloadFile method</p>\n\n<p>OR</p>\n\n<p>Persist into a <strong>stream</strong> with webclient.OpenRead method</p>\n\n<p><strong>Step 2</strong></p>\n\n<p>.Net ZipArchive does accept a stream or a local file path.</p>\n\n<p>I want to extract the .zip file and read the folders/files extracted.</p>\n\n<p>What is the better approach local file/stream concerning Step 2?</p>\n"}, {"tags": ["c#", "linq", "boolean", "nullable"], "comments": [{"owner": {"reputation": 653, "user_id": 7938246, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a744ac9497a3741586aa3e8ad655b144?s=128&d=identicon&r=PG&f=1", "display_name": "Heisenberg", "link": "https://stackoverflow.com/users/7938246/heisenberg"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1553120622, "post_id": 55270407, "comment_id": 97273276, "body": "I wish I can choose multiple answers.  Thank you all for your help!"}], "answers": [{"tags": [], "owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "is_accepted": false, "score": 1, "last_activity_date": 1553119274, "last_edit_date": 1553119274, "creation_date": 1553118967, "answer_id": 55270768, "question_id": 55270407, "link": "https://stackoverflow.com/questions/55270407/c-linq-query-aggregate-nullable-boolean/55270768#55270768", "title": "C# linq query aggregate nullable boolean", "body": "<p>I'd suggest the following solution. It requires the use of <a href=\"https://www.nuget.org/packages/morelinq/\" rel=\"nofollow noreferrer\"><code>MoreLINQ</code></a>.</p>\n\n<pre><code>List&lt;T1&gt; t1 = t2.GroupBy(g =&gt; new\n{\n    g.property1,\n    g.property2\n}).Select(groupedItems =&gt;\n    {\n        // My code starts here\n        bool? result = null;\n        var bools = groupedItems\n            .OrderBy(z =&gt; z.BoolProperty)\n            .TagFirstLast((z, first, last) =&gt; new { z, firstOrLast = first || last })\n            .Where(z =&gt; z.firstOrLast)\n            .Select(z =&gt; z.z.BoolProperty).ToList();\n\n        if (bools.Count == 0)\n        {\n            // Do nothing\n        }\n        else if (bools.First() == bools.Last())\n        {\n            result = bools.First();\n        }\n        // My code ends here\n\n        return new T1\n        {\n            property1 = groupedItems.Key.property1,\n            property2 = groupedItems.Key.property2,\n            BoolProperty = result\n        };\n    }).ToList();\n</code></pre>\n\n<p>The key bit is the use of <code>OrderBy</code>, to ensure that the <code>true</code>, <code>false</code> and <code>null</code> values are adjacent (i.e. grouped together in order).</p>\n\n<p>Then <code>TagFirstLast</code> allows us to ignore everything other than the first and last entries (which is all we need).</p>\n\n<p>Then we check whether the first and last entry are the same - if they are, use that value (whether it be <code>null</code> or <code>true</code> or <code>false</code> - either way it fits the requirements).</p>\n\n<p>Otherwise, use <code>null</code> (since that would be your <code>else</code> condition).</p>\n"}, {"tags": [], "owner": {"reputation": 2568, "user_id": 1354800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a71c67e2f068118e6608f28a5e40b07?s=128&d=identicon&r=PG", "display_name": "Peter Schneider", "link": "https://stackoverflow.com/users/1354800/peter-schneider"}, "is_accepted": false, "score": 0, "last_activity_date": 1553118995, "creation_date": 1553118995, "answer_id": 55270772, "question_id": 55270407, "link": "https://stackoverflow.com/questions/55270407/c-linq-query-aggregate-nullable-boolean/55270772#55270772", "title": "C# linq query aggregate nullable boolean", "body": "<p>You can use </p>\n\n<pre><code>var allTrue = t2.All(x=&gt;x.BoolProperty == true);\nvar allFalse = t2.All(x=&gt;x.BoolProperty == false);\nvar anyNull = t2.Any(x=&gt;x.BoolProperty.HasValue == false);\n</code></pre>\n\n<p>before grouping.</p>\n"}, {"comments": [{"owner": {"reputation": 653, "user_id": 7938246, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a744ac9497a3741586aa3e8ad655b144?s=128&d=identicon&r=PG&f=1", "display_name": "Heisenberg", "link": "https://stackoverflow.com/users/7938246/heisenberg"}, "edited": false, "score": 1, "creation_date": 1553119342, "post_id": 55270779, "comment_id": 97272833, "body": "this seems to be working....but I am not sure why someone downvoted this with no comments?"}, {"owner": {"reputation": 332, "user_id": 3817408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/791feee2ff46ab4c81e761014fca1273?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Brunner", "link": "https://stackoverflow.com/users/3817408/mike-brunner"}, "reply_to_user": {"reputation": 653, "user_id": 7938246, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a744ac9497a3741586aa3e8ad655b144?s=128&d=identicon&r=PG&f=1", "display_name": "Heisenberg", "link": "https://stackoverflow.com/users/7938246/heisenberg"}, "edited": false, "score": 0, "creation_date": 1553119367, "post_id": 55270779, "comment_id": 97272840, "body": "Yeah not sure why it was downvoted either!  Accept if it worked for you! :)"}, {"owner": {"reputation": 653, "user_id": 7938246, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a744ac9497a3741586aa3e8ad655b144?s=128&d=identicon&r=PG&f=1", "display_name": "Heisenberg", "link": "https://stackoverflow.com/users/7938246/heisenberg"}, "edited": false, "score": 0, "creation_date": 1553119435, "post_id": 55270779, "comment_id": 97272869, "body": "I am waiting for that comments while do more tests"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1553119528, "post_id": 55270779, "comment_id": 97272902, "body": "The one downside of this approach I see is that the <code>All</code> must iterate over the data set twice. Not a huge downside, admittedly."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1553119620, "post_id": 55270779, "comment_id": 97272935, "body": "<code>p.BoolProperty.HasValue &amp;&amp; !p.BoolProperty.Value</code> could perhaps be simplified to <code>!(p.BoolProperty ?? true)</code> and <code>p.BoolProperty.HasValue &amp;&amp; p.BoolProperty.Value</code> to <code>p.BoolProperty ?? false</code>."}, {"owner": {"reputation": 332, "user_id": 3817408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/791feee2ff46ab4c81e761014fca1273?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Brunner", "link": "https://stackoverflow.com/users/3817408/mike-brunner"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1553120197, "post_id": 55270779, "comment_id": 97273133, "body": "@mjwills Updated."}, {"owner": {"reputation": 332, "user_id": 3817408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/791feee2ff46ab4c81e761014fca1273?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Brunner", "link": "https://stackoverflow.com/users/3817408/mike-brunner"}, "edited": false, "score": 0, "creation_date": 1553120602, "post_id": 55270779, "comment_id": 97273269, "body": "One thing about this new version is that it doesn&#39;t treat null bools the same way if they are present in the input.  Not sure if that&#39;s a problem.  Here&#39;s the original if it is:     BoolProperty = g.All(p =&gt; p.BoolProperty.HasValue &amp;&amp; p.BoolProperty.Value)         ? true         : (g.All(p =&gt; p.BoolProperty.HasValue &amp;&amp; !p.BoolProperty.Value)             ? (bool?)false             : null)"}], "tags": [], "owner": {"reputation": 332, "user_id": 3817408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/791feee2ff46ab4c81e761014fca1273?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Brunner", "link": "https://stackoverflow.com/users/3817408/mike-brunner"}, "is_accepted": false, "score": 3, "last_activity_date": 1553120183, "last_edit_date": 1553120183, "creation_date": 1553119026, "answer_id": 55270779, "question_id": 55270407, "link": "https://stackoverflow.com/questions/55270407/c-linq-query-aggregate-nullable-boolean/55270779#55270779", "title": "C# linq query aggregate nullable boolean", "body": "<p>How about this?</p>\n\n<pre><code>BoolProperty = g.All(p =&gt; p.BoolProperty.GetValueOrDefault())\n    ? true\n    : (g.All(p =&gt; !(p.BoolProperty ?? true))\n        ? (bool?)false\n        : null)\n            }).ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1261, "user_id": 442470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/502af6b07a6bb32ac7c8fa6c68968ba5?s=128&d=identicon&r=PG", "display_name": "Yogee", "link": "https://stackoverflow.com/users/442470/yogee"}, "is_accepted": true, "score": 1, "last_activity_date": 1553120292, "creation_date": 1553120292, "answer_id": 55270985, "question_id": 55270407, "link": "https://stackoverflow.com/questions/55270407/c-linq-query-aggregate-nullable-boolean/55270985#55270985", "title": "C# linq query aggregate nullable boolean", "body": "<p>Put this in your code, </p>\n\n<pre><code>List&lt;T1&gt; t1 = t2.GroupBy(g =&gt; new\n        {\n            g.property1,\n            g.property2               \n        })\n        .Select(g =&gt; new T1\n        {\n            property1 = g.Key.property1,\n            property2 = g.Key.property2,                \n            BoolProperty =  g.GroupBy(grp =&gt; grp.BoolProperty).Count() &gt; 1 ? null : g.Select(g_val=&gt;g_val.BoolProperty).First()\n        }).ToList();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 653, "user_id": 7938246, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a744ac9497a3741586aa3e8ad655b144?s=128&d=identicon&r=PG&f=1", "display_name": "Heisenberg", "link": "https://stackoverflow.com/users/7938246/heisenberg"}, "edited": false, "score": 0, "creation_date": 1553121341, "post_id": 55271095, "comment_id": 97273499, "body": "Elegant and uses less resources. Wow, answers are just getting better"}, {"owner": {"reputation": 653, "user_id": 7938246, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a744ac9497a3741586aa3e8ad655b144?s=128&d=identicon&r=PG&f=1", "display_name": "Heisenberg", "link": "https://stackoverflow.com/users/7938246/heisenberg"}, "edited": false, "score": 0, "creation_date": 1553185735, "post_id": 55271095, "comment_id": 97299999, "body": "So what if the input list is null, false, false, false?  It would return False, while the expected return is null. Correct me if I am wrong....thanks"}, {"owner": {"reputation": 8283, "user_id": 1789202, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Tld8r.jpg?s=128&g=1", "display_name": "CSharpie", "link": "https://stackoverflow.com/users/1789202/csharpie"}, "reply_to_user": {"reputation": 653, "user_id": 7938246, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a744ac9497a3741586aa3e8ad655b144?s=128&d=identicon&r=PG&f=1", "display_name": "Heisenberg", "link": "https://stackoverflow.com/users/7938246/heisenberg"}, "edited": false, "score": 0, "creation_date": 1553190517, "post_id": 55271095, "comment_id": 97302629, "body": "@Heisenberg You are wrong. Why dont you just test it... <a href=\"https://dotnetfiddle.net/1tS3sv\" rel=\"nofollow noreferrer\">dotnetfiddle.net/1tS3sv</a>"}, {"owner": {"reputation": 653, "user_id": 7938246, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a744ac9497a3741586aa3e8ad655b144?s=128&d=identicon&r=PG&f=1", "display_name": "Heisenberg", "link": "https://stackoverflow.com/users/7938246/heisenberg"}, "edited": false, "score": 0, "creation_date": 1553191008, "post_id": 55271095, "comment_id": 97302869, "body": "I was testing the function CantFindAGoodName, it returns false....<a href=\"https://dotnetfiddle.net/aqQpqy\" rel=\"nofollow noreferrer\">dotnetfiddle.net/aqQpqy</a>"}], "tags": [], "owner": {"reputation": 8283, "user_id": 1789202, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Tld8r.jpg?s=128&g=1", "display_name": "CSharpie", "link": "https://stackoverflow.com/users/1789202/csharpie"}, "is_accepted": false, "score": 1, "last_activity_date": 1553191642, "last_edit_date": 1553191642, "creation_date": 1553120893, "answer_id": 55271095, "question_id": 55270407, "link": "https://stackoverflow.com/questions/55270407/c-linq-query-aggregate-nullable-boolean/55271095#55271095", "title": "C# linq query aggregate nullable boolean", "body": "<p>This can all be done by linq, but that would propbably never be the most efficient way because you either need to enumerate more than once or other shenenigans. Sometimes best approach ist plain old code.</p>\n\n<pre><code>public static bool? CantFindAgoodName(IEnumerable&lt;bool?&gt; items)\n{ \n     bool? check = null;\n     bool first = true;\n     foreach(var item in items)\n     {\n         if(first)\n         {\n            check = item;\n            first = false;\n         }\n         else if(check != item) \n            return null;\n     }\n     return check;\n}\n</code></pre>\n\n<p>Then just write</p>\n\n<pre><code>BoolProperty = CantFindAGoodName(g)\n</code></pre>\n\n<p>If you really wanna do it with standard Linq, it can be done with a single iteration, but its neither efficient (because it doesnt break imediately) nor beatuiful...</p>\n\n<pre><code>BoolProperty = g.Aggregate(-1,\n              (n, b) =&gt; n == -1\n                ? (b == null ? 0 : (b.Value ? 1 : 2))\n                : (n == (b == null ? 0 : (b.Value ? 1 : 2)) ? n : -2), \n              i =&gt; i == -2 ? default(bool?) : i == 1);\n</code></pre>\n\n<p>So how does it work? </p>\n\n<pre><code>-1  = seed\n 0  = null\n 1  = true\n 2  = false\n-2  = different values aka null\n</code></pre>\n\n<p>While the value is either the first or equals its predecessor, it keeps getting forwareded. So if the sequence consists purely of the same element, that will get forwarded. If its different however, -2 will get forwarded, which will allways be different to any other element remaining.\nIn the end the second lambda just transforms the result back into a <code>bool?</code></p>\n"}], "owner": {"reputation": 653, "user_id": 7938246, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a744ac9497a3741586aa3e8ad655b144?s=128&d=identicon&r=PG&f=1", "display_name": "Heisenberg", "link": "https://stackoverflow.com/users/7938246/heisenberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 0, "accepted_answer_id": 55270985, "answer_count": 5, "score": 3, "last_activity_date": 1553191642, "creation_date": 1553116985, "last_edit_date": 1553118312, "question_id": 55270407, "link": "https://stackoverflow.com/questions/55270407/c-linq-query-aggregate-nullable-boolean", "title": "C# linq query aggregate nullable boolean", "body": "<p>I'd like to use linq to aggregate a nullable bool following the logic:</p>\n\n<ul>\n<li>If all is true then true; </li>\n<li>if all is false then false;  </li>\n<li>else null</li>\n</ul>\n\n<p>Here is my code, I couldn't get the bool aggregate.</p>\n\n<pre><code>class T1\n{\n  public string property1{get;set;}\n  public string property2{get;set;}\n  public bool? BoolProperty{get;set;}\n}\n\n///initialize a list&lt;T1&gt; t2 with values......\nList&lt;T1&gt; t2 = new List&lt;T1&gt;();\nt2.Add(new T1() \n        {\n            property1=\"hello\",\n            property2=\"world\",\n            BoolProperty=true\n        });\nt2.Add(new T1() \n        {\n            property1=\"hello\",\n            property2=\"world\",\n            BoolProperty=false\n        });\n\nList&lt;T1&gt; t1 = t2.GroupBy(g =&gt; new\n        {\n            g.property1,\n            g.property2               \n        })\n        .Select(g =&gt; new T1\n        {\n            property1 = g.Key.property1,\n            property2 = g.Key.property2,                \n            BoolProperty = ////can someone help? if all object in t2 are true, true; if all object in t2 are false, false; else null\n ///in this case i am expecting a null\n        }).ToList();\n</code></pre>\n\n<p>So t1 will be \"hello\", \"world\", null;\nThanks</p>\n"}, {"tags": ["c#", "json", "winforms"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 2, "creation_date": 1553116483, "post_id": 55270286, "comment_id": 97271733, "body": "Please update your question to include the <code>Properties</code> of that file (from Visual Studio) - preferably as a screenshot."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1553116564, "post_id": 55270286, "comment_id": 97271772, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/6041332/best-way-to-get-application-folder-path\">Best way to get application folder path</a>"}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1553116672, "post_id": 55270286, "comment_id": 97271835, "body": "Is \\Folder\\file.json included in your solution? What is its Copy to Output Directory property?"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1553116715, "post_id": 55270286, "comment_id": 97271853, "body": "Please show the screenshot of the <code>Properties</code> from Visual Studio. At the very least I&#39;d expect to see a <code>Build Action</code> as well."}, {"owner": {"reputation": 4119, "user_id": 10839105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5b19eba5c32ea65bb432a004aad5e3?s=128&d=identicon&r=PG", "display_name": "Manoj Choudhari", "link": "https://stackoverflow.com/users/10839105/manoj-choudhari"}, "edited": false, "score": 1, "creation_date": 1553116725, "post_id": 55270286, "comment_id": 97271862, "body": "Mark the json file in your source code as &quot;Copy to output directory&quot; as &quot;always&quot; .  This should resolve your issue."}, {"owner": {"reputation": 55, "user_id": 9081777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9df085265206ddf060fee3da8882e3?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/9081777/gavin"}, "edited": false, "score": 0, "creation_date": 1553116840, "post_id": 55270286, "comment_id": 97271914, "body": "When i checked the properties, I did need to set copy to output directory. That was my issue."}], "answers": [{"tags": [], "owner": {"reputation": 177, "user_id": 5763765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3tzXL.jpg?s=128&g=1", "display_name": "M. Ruiz", "link": "https://stackoverflow.com/users/5763765/m-ruiz"}, "is_accepted": true, "score": 1, "last_activity_date": 1553117045, "creation_date": 1553117045, "answer_id": 55270417, "question_id": 55270286, "link": "https://stackoverflow.com/questions/55270286/cant-find-json-file-in-current-directory-folder-not-being-added-in-build/55270417#55270417", "title": "Can&#39;t find JSON file in current directory - Folder not being added in build", "body": "<p>Did you set the file properties to copy the content to the output directory? Check the attached image.</p>\n\n<p><a href=\"https://i.stack.imgur.com/xqHq7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xqHq7.png\" alt=\"Copy to Output Directory\"></a></p>\n"}], "owner": {"reputation": 55, "user_id": 9081777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9df085265206ddf060fee3da8882e3?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/9081777/gavin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1667, "favorite_count": 0, "accepted_answer_id": 55270417, "answer_count": 1, "score": -1, "last_activity_date": 1553117045, "creation_date": 1553116411, "last_edit_date": 1553116725, "question_id": 55270286, "link": "https://stackoverflow.com/questions/55270286/cant-find-json-file-in-current-directory-folder-not-being-added-in-build", "title": "Can&#39;t find JSON file in current directory - Folder not being added in build", "body": "<p>I'm trying to deserialize a JSON file which is stored within a folder in my .NET windows forms project.</p>\n\n<p>Deserialize from file:</p>\n\n<pre><code>private HashSet&lt;string&gt; swearWords = JsonConvert.DeserializeObject&lt;HashSet&lt;string&gt;&gt;(File.ReadAllText(Directory.GetCurrentDirectory() + @\"\\Folder\\file.json\"));\n</code></pre>\n\n<p>I get the error:</p>\n\n<blockquote>\n  <p>System.IO.DirectoryNotFoundException: 'Could not find a part of the\n  path\n  'C:..\\Prototypes\\Prototype1\\Prototype1\\bin\\Debug\\Folder\\file.json'.'</p>\n</blockquote>\n\n<p>When i navigate to the Debug folder, it seems that my folder containing my json files is not there. The path is correct as far as I can see, but I don't think my json files are being added when the project builds.</p>\n\n<p>The folder/files <strong>are</strong> included in the project.</p>\n\n<p>How do I make sure that this folder I created is being included when the project is built?</p>\n"}, {"tags": ["c#", "winforms", "uwp"], "comments": [{"owner": {"reputation": 7891, "user_id": 6782612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KuUfK.jpg?s=128&g=1", "display_name": "Xie Steven", "link": "https://stackoverflow.com/users/6782612/xie-steven"}, "edited": false, "score": 1, "creation_date": 1553220412, "post_id": 55270248, "comment_id": 97312661, "body": "I&#39;ve reported this question to the relevant team. They&#39;re investigating it. Thank you for your feedback."}], "answers": [{"comments": [{"owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "edited": false, "score": 0, "creation_date": 1554833092, "post_id": 55568260, "comment_id": 97893841, "body": "Per your suggestion, I tried using <code>VS2017</code> in administrator mode. I see that my Windows 10 has a package with full name <code>HoloCamera_1.0.0.5_neutral__cw5n1h2txyewy</code> installed. But (as shown in my post above) the code <code>oPkgManager.FindPackageForUser(string.Empty, &quot;HoloCamera_1.0.0.5_neutral__cw5n1h2txyewy&quot;);</code> still returns <code>Null</code>. Why?"}, {"owner": {"reputation": 7891, "user_id": 6782612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KuUfK.jpg?s=128&g=1", "display_name": "Xie Steven", "link": "https://stackoverflow.com/users/6782612/xie-steven"}, "reply_to_user": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "edited": false, "score": 0, "creation_date": 1554871244, "post_id": 55568260, "comment_id": 97904815, "body": "@nam Have you checked my reply carefully? As I said, you need to check the package&#39;s user and user securityId by my above method. If you pass the <code>string.Empty</code> as the <code>FindPackageForUser</code> method&#39;s first param, it will only return current user&#39;s package. But have u checked the &#39;HoloCamera_1.0.0.5_neutral__cw5n1h2txyewy&#39; package to see if it is installed for current user?"}], "tags": [], "owner": {"reputation": 7891, "user_id": 6782612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KuUfK.jpg?s=128&g=1", "display_name": "Xie Steven", "link": "https://stackoverflow.com/users/6782612/xie-steven"}, "is_accepted": false, "score": 0, "last_activity_date": 1554708633, "creation_date": 1554708633, "answer_id": 55568260, "question_id": 55270248, "link": "https://stackoverflow.com/questions/55270248/packagemanager-findpackageforuserstring-string-always-returning-null/55568260#55568260", "title": "PackageManager.FindPackageForUser(String, String) always returning null", "body": "<p>There's no problem with the <code>FindPackageForUser</code> method. To make this method work successfully, you first need to run your visual studio in <strong>Administrator</strong> mode(<strong>Steps: 'Start-> right click your visual studio -> More -> Run as Administrator'</strong>).</p>\n\n<p>Then, when you call <code>FindPackageForUser</code> method and pass the <code>string.Empty</code> as the first param, if it return <code>NULL</code>, it means that this package is not installed for current user.</p>\n\n<p>To validate this point, you could check the message in Output window when you call <code>FindPackages()</code> method. The different packages should have different user and user securityId. You could use the 'DisplayPackageUsers' method to see the user securityId like the following:</p>\n\n<pre><code>private static void DisplayPackageUsers(Windows.Management.Deployment.PackageManager packageManager, Windows.ApplicationModel.Package package)\n{\n    IEnumerable&lt;Windows.Management.Deployment.PackageUserInformation&gt; packageUsers = packageManager.FindUsers(package.Id.FullName);\n    Debug.Write(\"Users: \");\n    foreach (var packageUser in packageUsers)\n    {\n        Debug.Write(string.Format(\"{0},UserSecurityId: {1} \", SidToAccountName(packageUser.UserSecurityId), packageUser.UserSecurityId));\n    }\n    Debug.WriteLine(\"\");\n}\nprivate static string SidToAccountName(string sidString)\n{\n    SecurityIdentifier sid = new SecurityIdentifier(sidString);\n    try\n    {\n        NTAccount account = (NTAccount)sid.Translate(typeof(NTAccount));\n        return account.ToString();\n    }\n    catch (IdentityNotMappedException)\n    {\n        return sidString;\n    }\n}\n</code></pre>\n\n<p>So, if you want to use <code>FindPackageForUser</code> method to find some one package, you also need to pass specific user securityId as the first param. You could get the appropriate user securityId from the above methods. Then, calling the <code>FindPackageForUser</code> method will return the specific package information successfully.</p>\n"}], "owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 452, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554708633, "creation_date": 1553116260, "last_edit_date": 1553182413, "question_id": 55270248, "link": "https://stackoverflow.com/questions/55270248/packagemanager-findpackageforuserstring-string-always-returning-null", "title": "PackageManager.FindPackageForUser(String, String) always returning null", "body": "<p>Why my following code example of <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.management.deployment.packagemanager.findpackageforuser\" rel=\"nofollow noreferrer\">this</a> method is returning?   </p>\n\n<pre><code>using Windows.Management.Deployment;\n\u2026\n...\nWindows.ApplicationModel.Package oPkg = oPkgManager.FindPackageForUser(string.Empty, \"HoloCamera_1.0.0.5_neutral__cw5n1h2txyewy\");\n</code></pre>\n\n<p><strong>Remark</strong>: To test the <code>FindPackageForUser(\u2026)</code> method, you will need to first add following references to your <code>VS2017</code> project of any type (Winform, WPF, etc) as explained <a href=\"https://blogs.windows.com/buildingapps/2017/01/25/calling-windows-10-apis-desktop-application/\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<ol>\n<li>C:\\Program Files (x86)\\Windows Kits\\10\\UnionMetadata\\10.0.17763.0\\Windows.winmd</li>\n<li>C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework.NETCore\\v4.5\\System.Runtime.WindowsRuntime.dll</li>\n</ol>\n\n<p><strong>NOTE</strong>: First using <code>VS2017</code> , I ran <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.management.deployment.packagemanager.findpackages\" rel=\"nofollow noreferrer\">this</a> sample code example for <code>FindPackages()</code> method to find all the packages installed on my <code>Windows 10</code>. And I found out several packages that are installed on windows by default. And, I tried the following two but both of them return null on the above code line.</p>\n\n<p><strong>Following are two of the packages that <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.management.deployment.packagemanager.findpackages\" rel=\"nofollow noreferrer\">FindPackages()</a> method returns. And, I tried both of them in my above code example</strong>:</p>\n\n<pre><code>1.\n\nName: HoloCamera\nFullName: HoloCamera_1.0.0.5_neutral__cw5n1h2txyewy\n\nVersion: 1.0.0.5\n\nPublisher: CN=Microsoft Windows, O=Microsoft Corporation, L=Redmond, S=Washington, C=US\n\nPublisherId: cw5n1h2txyewy\n\nIsFramework: False\n\nAnd\n\n2.\n\nName: DesktopLearning\n\nFullName: DesktopLearning_1000.15063.0.0_neutral__cw5n1h2txyewy\n\nVersion: 1000.15063.0.0\n\nPublisher: CN=Microsoft Windows, O=Microsoft Corporation, L=Redmond, S=Washington, C=US\n\nPublisherId: cw5n1h2txyewy\n\nIsFramework: False\n</code></pre>\n"}, {"tags": ["c#", "winforms", "datagridview"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 2, "creation_date": 1553116676, "post_id": 55270224, "comment_id": 97271840, "body": "Does <a href=\"https://groups.google.com/forum/#!topic/microsoft.public.dotnet.framework.windowsforms.databinding/6G0y2YmT7VM\" rel=\"nofollow noreferrer\">groups.google.com/forum/#!topic/&hellip;</a> work or <a href=\"https://stackoverflow.com/questions/13826148/where-to-catch-unhandled-exception-when-editing-datagridview\" title=\"where to catch unhandled exception when editing datagridview\">stackoverflow.com/questions/13826148/&hellip;</a> ?"}, {"owner": {"reputation": 233, "user_id": 3023675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6231000356968b0514007f735f87ad1?s=128&d=identicon&r=PG&f=1", "display_name": "CarlDaniel", "link": "https://stackoverflow.com/users/3023675/carldaniel"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1553117170, "post_id": 55270224, "comment_id": 97272042, "body": "Using a RowValidating event handler, as suggested by that Google group post looks promising.  I also tried using the DataError handler which helps somewhat (prevents the error popup), but has other undesirable visual effects (causes the new row to disappear unexpectedly)."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 2, "creation_date": 1553117222, "post_id": 55270224, "comment_id": 97272063, "body": "Awesome - please let us know how you go. I found those by Googling for <code>nonullallowedexception datagridview blank</code>."}, {"owner": {"reputation": 233, "user_id": 3023675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6231000356968b0514007f735f87ad1?s=128&d=identicon&r=PG&f=1", "display_name": "CarlDaniel", "link": "https://stackoverflow.com/users/3023675/carldaniel"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1553117834, "post_id": 55270224, "comment_id": 97272331, "body": "Thanks for the research.  I hadn&#39;t searched for that specific exception (duh!) searching for DataGridView and other terms yielded way too much junk to wade through, but that exception IS quite specific."}, {"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1553137154, "post_id": 55270224, "comment_id": 97277243, "body": "I typically work the other way round; allow nulls and set the column to return a string.empty if it&#39;s null (rather than throw exception)"}], "answers": [{"tags": [], "owner": {"reputation": 233, "user_id": 3023675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6231000356968b0514007f735f87ad1?s=128&d=identicon&r=PG&f=1", "display_name": "CarlDaniel", "link": "https://stackoverflow.com/users/3023675/carldaniel"}, "is_accepted": false, "score": 1, "last_activity_date": 1553117516, "creation_date": 1553117516, "answer_id": 55270510, "question_id": 55270224, "link": "https://stackoverflow.com/questions/55270224/how-to-prevent-blank-string-from-becoming-dbnull-value-when-dgv-is-bound-to-data/55270510#55270510", "title": "How to prevent blank string from becoming DBNull.Value when DGV is bound to DataTable", "body": "<p>This looks like an acceptable solution - tweak as needed to get rid of hard-wired column indexes, etc.</p>\n\n<pre><code>private void dataGridView1_RowValidating(object sender, DataGridViewCellCancelEventArgs e)\n{\n  var dgv = sender as DataGridView;\n  if (null != dgv)\n  {\n    var row = dgv.Rows[e.RowIndex];\n    var drv = row.DataBoundItem as DataRowView;\n    if (null != drv)\n    {\n      var dr = drv.Row as DataSet1.DataTable1Row;\n      if (dr.IsNull(0))\n      {\n        dr.Path = string.Empty;\n      }\n    }\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 233, "user_id": 3023675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6231000356968b0514007f735f87ad1?s=128&d=identicon&r=PG&f=1", "display_name": "CarlDaniel", "link": "https://stackoverflow.com/users/3023675/carldaniel"}, "edited": false, "score": 0, "creation_date": 1553273931, "post_id": 55272989, "comment_id": 97337441, "body": "Interesting - I don&#39;t recall reading anything that says that an empty box is considered to be a null value by the DGV, but clearly it is at some level.  I&#39;ll check this out."}, {"owner": {"reputation": 233, "user_id": 3023675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6231000356968b0514007f735f87ad1?s=128&d=identicon&r=PG&f=1", "display_name": "CarlDaniel", "link": "https://stackoverflow.com/users/3023675/carldaniel"}, "edited": false, "score": 0, "creation_date": 1553275147, "post_id": 55272989, "comment_id": 97338038, "body": "Yep - that works.  This is a bit more work, but I like it because it&#39;s really solving the problem &quot;the right way&quot;.  Too bad this isn&#39;t the default behavior of a DGV that&#39;s bound to a DT - seems like it ought to be!  Thanks."}, {"owner": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "reply_to_user": {"reputation": 233, "user_id": 3023675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6231000356968b0514007f735f87ad1?s=128&d=identicon&r=PG&f=1", "display_name": "CarlDaniel", "link": "https://stackoverflow.com/users/3023675/carldaniel"}, "edited": false, "score": 1, "creation_date": 1553275719, "post_id": 55272989, "comment_id": 97338329, "body": "@CarlDaniel, &quot;I don&#39;t recall reading anything..&quot; -- At least you tried reading the docs.  The problem with the DGV is that it does too much and many (most) examples (including those in the doc&#39;s) show the wrong approach leading to people&#39;s frustrations and/or claiming that the Control is slow."}, {"owner": {"reputation": 233, "user_id": 3023675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6231000356968b0514007f735f87ad1?s=128&d=identicon&r=PG&f=1", "display_name": "CarlDaniel", "link": "https://stackoverflow.com/users/3023675/carldaniel"}, "edited": false, "score": 0, "creation_date": 1553528826, "post_id": 55272989, "comment_id": 97408156, "body": "&quot;DGV ... does too much&quot;  For sure!  I&#39;ve been building WinForms apps since 2002 and I&#39;m still learning new things about DGV and data binding."}], "tags": [], "owner": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "is_accepted": true, "score": 2, "last_activity_date": 1553135880, "creation_date": 1553135880, "answer_id": 55272989, "question_id": 55270224, "link": "https://stackoverflow.com/questions/55270224/how-to-prevent-blank-string-from-becoming-dbnull-value-when-dgv-is-bound-to-data/55272989#55272989", "title": "How to prevent blank string from becoming DBNull.Value when DGV is bound to DataTable", "body": "<p>The <code>DataGridView</code> can be configured to accommodate the desired usage case to send an <code>Empty.String</code> when a null input is received. </p>\n\n<p>From:  <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.datagridviewcellstyle.datasourcenullvalue?view=netframework-4.7.2#System_Windows_Forms_DataGridViewCellStyle_DataSourceNullValue\" rel=\"nofollow noreferrer\">DataGridViewCellStyle.DataSourceNullValue Property</a></p>\n\n<blockquote>\n  <p>Gets or sets the value saved to the data source when the user enters a null value into a cell.</p>\n</blockquote>\n\n<p>From:  <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.datagridviewcolumn.defaultcellstyle?view=netframework-4.7.2#System_Windows_Forms_DataGridViewColumn_DefaultCellStyle\" rel=\"nofollow noreferrer\">DataGridViewColumn.DefaultCellStyle Property</a></p>\n\n<blockquote>\n  <p>Gets or sets the column's default cell style.</p>\n</blockquote>\n\n<p>The above properties are used to configure the <code>DataGridView</code>.  However, the <code>DataTable</code> needs a slight modification.</p>\n\n<p>From: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.data.datacolumn.defaultvalue?view=netframework-4.7.2#System_Data_DataColumn_DefaultValue\" rel=\"nofollow noreferrer\">DataColumn.DefaultValue Property</a></p>\n\n<blockquote>\n  <p>Gets or sets the default value for the column when you are creating new rows.</p>\n</blockquote>\n\n<p>You might think that the <code>DataGridVierwColumn</code>'s CellTemplate's <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.datagridviewcell.defaultnewrowvalue?view=netframework-4.7.2#System_Windows_Forms_DataGridViewCell_DefaultNewRowValue\" rel=\"nofollow noreferrer\">DefaultNewRowValue Property</a> would supply this, but not in the case of a bound column.  If additional columns are used and this property is not changed from the default, the original issue would resurface.</p>\n\n<p>The following example is designed to handle your issue as described in your reproduction guidelines and assumes the <code>DataGridview.DataSource</code> is set to either a <code>DataTable</code> or <code>DataView</code> instance.  It uses the <code>DataGridView.BindingContextChanged</code> event to process the DataGridView's auto-generated columns after setting the DataSource property.</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    private DataTable dt;\n    public Form1()\n    {\n        InitializeComponent();\n        dataGridView1.BindingContextChanged += new System.EventHandler(this.dataGridView1_BindingContextChanged);\n        dt = new DataTable();\n        DataColumn dc = dt.Columns.Add(\"C0\");\n        dc.AllowDBNull = false;\n        dataGridView1.DataSource = dt.DefaultView;\n    }\n\n    private void dataGridView1_BindingContextChanged(object sender, EventArgs e)\n    {\n        if (dataGridView1.DataSource != null)\n        {\n            DataTable boundTable = dataGridView1.DataSource as DataTable;\n            if (boundTable == null)\n            {\n                DataView dv = dataGridView1.DataSource as DataView;\n                if (dv != null)\n                {\n                    boundTable = dv.Table;\n                }\n            }\n            if (boundTable != null)\n            {\n                foreach (DataGridViewColumn c in dataGridView1.Columns)\n                {\n                    if (c.IsDataBound)\n                    {\n                        DataColumn dc = boundTable.Columns[c.DataPropertyName];\n                        if (!dc.AllowDBNull &amp;&amp; dc.DataType == typeof(string))\n                        {\n                            c.DefaultCellStyle.DataSourceNullValue = string.Empty;\n                            dc.DefaultValue = string.Empty;  // this value is pulled for new rows\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13829282, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/ef45f3fc8d0e4e94d325e0bc58bb0108?s=128&d=identicon&r=PG", "display_name": "Ellen", "link": "https://stackoverflow.com/users/13829282/ellen"}, "is_accepted": false, "score": 0, "last_activity_date": 1593352339, "creation_date": 1593352339, "answer_id": 62623468, "question_id": 55270224, "link": "https://stackoverflow.com/questions/55270224/how-to-prevent-blank-string-from-becoming-dbnull-value-when-dgv-is-bound-to-data/62623468#62623468", "title": "How to prevent blank string from becoming DBNull.Value when DGV is bound to DataTable", "body": "<p>I had a similar problem and solved it by adding the 'ConvertEmptyStringToNull' property on my parameters in aspx page, like this</p>\n<pre><code>        &lt;UpdateParameters&gt;\n            &lt;asp:Parameter Name=&quot;myparam&quot; ConvertEmptyStringToNull=&quot;false&quot; /&gt;\n        &lt;/UpdateParameters&gt;\n</code></pre>\n<p>This is my first answer so hope that's OK, it was so simple I though I would post to help others searching</p>\n"}], "owner": {"reputation": 233, "user_id": 3023675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6231000356968b0514007f735f87ad1?s=128&d=identicon&r=PG&f=1", "display_name": "CarlDaniel", "link": "https://stackoverflow.com/users/3023675/carldaniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1068, "favorite_count": 1, "accepted_answer_id": 55272989, "answer_count": 3, "score": 0, "last_activity_date": 1593352339, "creation_date": 1553116112, "last_edit_date": 1553117323, "question_id": 55270224, "link": "https://stackoverflow.com/questions/55270224/how-to-prevent-blank-string-from-becoming-dbnull-value-when-dgv-is-bound-to-data", "title": "How to prevent blank string from becoming DBNull.Value when DGV is bound to DataTable", "body": "<p>Hard to post code, but easy to describe how to repro:</p>\n\n<p>Create a new Winforms project (I used VS 2017 and .NET 4.7)</p>\n\n<ol>\n<li>Add a DataSet to the project.</li>\n<li>Within the DataSet, add a DataTable (no adapter).</li>\n<li>Within the DataTable, add a single column.  It will default to varchar, but change it to NOT allow nulls.</li>\n<li>Add a Form to the project.</li>\n<li>Add a DataGridView to the form.</li>\n<li>Set the DataSource for the DGV to the DataTable in the DataSet.</li>\n<li>Run the program.</li>\n<li>Click in the single column of the single row.  </li>\n<li>Type some content.  </li>\n<li>Select all the content and hit backspace.</li>\n<li>Click in the empty second row that appeared.</li>\n</ol>\n\n<p>What happens:  A System.Data.NoNullAllowedException is raised indicating that the data column does not allow DBNull.Value.</p>\n\n<p>What should happen: The column in the row bound to the first row of the dgv should be set to blank, not null.</p>\n\n<p>What I've tried:</p>\n\n<ul>\n<li>Using a CellEndEdit handler to catch the bad value and convert it to string.Empty.  This does actually fix SOME cases (when there's more than one column)</li>\n<li>Using a CellValidating handler - not helpful</li>\n<li>Using a CellFormatting handler - not helpful</li>\n<li>Using a CellParsing handler - not helpful</li>\n<li>Using an AddingNew handler on the BindingSource to supply new rows that have non-null values - not helpful</li>\n</ul>\n\n<p>Any other ideas?</p>\n"}, {"tags": ["c#", "winforms", "class", "button", "dynamic"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 10976213, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jL3NFrMPnps/AAAAAAAAAAI/AAAAAAAAAjg/zI3U0VXpqqM/photo.jpg?sz=128", "display_name": "Itay", "link": "https://stackoverflow.com/users/10976213/itay"}, "edited": false, "score": 0, "creation_date": 1553118450, "post_id": 55270405, "comment_id": 97272545, "body": "Actually I know how to make that but i want it from another class!!! thats the point i was struggling with i know already how to create a dynamic button from the main class but not from another"}], "tags": [], "owner": {"reputation": 301, "user_id": 11205887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/799ebce1e7ed121dd93aebb2a1dd2d5c?s=128&d=identicon&r=PG&f=1", "display_name": "jonaChaz", "link": "https://stackoverflow.com/users/11205887/jonachaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1553116979, "creation_date": 1553116979, "answer_id": 55270405, "question_id": 55270221, "link": "https://stackoverflow.com/questions/55270221/how-can-i-make-dynamic-buttons-from-another-class/55270405#55270405", "title": "How can I make dynamic buttons from another class?", "body": "<p>something like this:</p>\n\n<pre><code>    private void Form1_Load(object sender, EventArgs e)\n    {\n        Button b = new Button() { Text = \"Dynamic Button\", Width = 200 };\n        this.Controls.Add(b);\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 10976213, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jL3NFrMPnps/AAAAAAAAAAI/AAAAAAAAAjg/zI3U0VXpqqM/photo.jpg?sz=128", "display_name": "Itay", "link": "https://stackoverflow.com/users/10976213/itay"}, "edited": false, "score": 0, "creation_date": 1553177276, "post_id": 55277483, "comment_id": 97294398, "body": "so what i need to put when I&#39;m calling the class in the arguments?"}, {"owner": {"reputation": 17, "user_id": 10976213, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jL3NFrMPnps/AAAAAAAAAAI/AAAAAAAAAjg/zI3U0VXpqqM/photo.jpg?sz=128", "display_name": "Itay", "link": "https://stackoverflow.com/users/10976213/itay"}, "edited": false, "score": 0, "creation_date": 1553254478, "post_id": 55277483, "comment_id": 97325777, "body": "nevermind just did it in main and now i dont want to redo it thx anyways"}], "tags": [], "owner": {"reputation": 5573, "user_id": 1547591, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fa6bd0c119d364ba4c96501478600c5c?s=128&d=identicon&r=PG", "display_name": "andy", "link": "https://stackoverflow.com/users/1547591/andy"}, "is_accepted": false, "score": 1, "last_activity_date": 1553231869, "last_edit_date": 1553231869, "creation_date": 1553161256, "answer_id": 55277483, "question_id": 55270221, "link": "https://stackoverflow.com/questions/55270221/how-can-i-make-dynamic-buttons-from-another-class/55277483#55277483", "title": "How can I make dynamic buttons from another class?", "body": "<pre><code>public class anotherClass   \n{\n  public void AddButton(Form form)\n  {\n    Button b = new Button() { Text = \"Dynamic Button\", Width = 200 };\n    form.Controls.Add(b);\n  }\n}\n\npublic class MyForm\n{\n anotherClass obj = new anotherClass();\n obj.AddButton(this);\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 10976213, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jL3NFrMPnps/AAAAAAAAAAI/AAAAAAAAAjg/zI3U0VXpqqM/photo.jpg?sz=128", "display_name": "Itay", "link": "https://stackoverflow.com/users/10976213/itay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1553231869, "creation_date": 1553116090, "last_edit_date": 1553161848, "question_id": 55270221, "link": "https://stackoverflow.com/questions/55270221/how-can-i-make-dynamic-buttons-from-another-class", "title": "How can I make dynamic buttons from another class?", "body": "<p>I'm trying to organize my project and I faced a problem that I can't add a button dynamically to the <code>MainForm</code>. How can I do that without getting errors and still making <code>MainForm</code> to launch first and not other class?</p>\n"}, {"tags": ["c#", "python", "wpf", "ipc"], "comments": [{"owner": {"reputation": 4119, "user_id": 10839105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5b19eba5c32ea65bb432a004aad5e3?s=128&d=identicon&r=PG", "display_name": "Manoj Choudhari", "link": "https://stackoverflow.com/users/10839105/manoj-choudhari"}, "edited": false, "score": 0, "creation_date": 1553116098, "post_id": 55270190, "comment_id": 97271569, "body": "Why cant you use websocket or similar thing?  You can check this question&#39;s program for inspiration.  <a href=\"https://stackoverflow.com/questions/42680413/connecting-python-socketserver-with-c-sharp-client\" title=\"connecting python socketserver with c sharp client\">stackoverflow.com/questions/42680413/&hellip;</a>"}, {"owner": {"reputation": 652, "user_id": 1317713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cd0dbe57ed107fdf0b871ecbb22759e?s=128&d=identicon&r=PG", "display_name": "Leonid", "link": "https://stackoverflow.com/users/1317713/leonid"}, "edited": false, "score": 0, "creation_date": 1553116631, "post_id": 55270190, "comment_id": 97271811, "body": "Why throw regular Python into this Mix? I would stick with IronPython - <a href=\"https://stackoverflow.com/questions/7053172/how-can-i-call-ironpython-code-from-a-c-sharp-app\" title=\"how can i call ironpython code from a c sharp app\">stackoverflow.com/questions/7053172/&hellip;</a>"}, {"owner": {"reputation": 75, "user_id": 9797162, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ben Jenney", "link": "https://stackoverflow.com/users/9797162/ben-jenney"}, "edited": false, "score": 0, "creation_date": 1553118391, "post_id": 55270190, "comment_id": 97272525, "body": "I see that IronPython seems to allow for the writing of python inside of .net, and that it can execute python scripts, I just can&#39;t find an example that seems to show how to update parameters as they are being read by a separate python script and that could keep reading those updated values on each new iteration. Would I have to execute the script every iteration? I&#39;ve been having a hard time finding a good resource I could use to figure out IronPython&#39;s functionality."}, {"owner": {"reputation": 13507, "user_id": 2846483, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/X2Bfs.jpg?s=128&g=1", "display_name": "dymanoid", "link": "https://stackoverflow.com/users/2846483/dymanoid"}, "edited": false, "score": 0, "creation_date": 1553121197, "post_id": 55270190, "comment_id": 97273455, "body": "Please consider providing a concrete example, not pseudo-code."}], "owner": {"reputation": 75, "user_id": 9797162, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ben Jenney", "link": "https://stackoverflow.com/users/9797162/ben-jenney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553116196, "creation_date": 1553115939, "last_edit_date": 1553116196, "question_id": 55270190, "link": "https://stackoverflow.com/questions/55270190/passing-data-from-wpf-program-to-python-script-on-local-machine-within-an-iterat", "title": "passing data from Wpf program to python script on local machine within an iterative process", "body": "<p>I am curious as to the best way to share data from a WPF program with a python script from within a loop where the values are continuously being updated.\nHere is a psuedo-codish example that expresses the kind of functionality I'm hoping for.</p>\n\n<h1>Wpf example:</h1>\n\n<pre><code>    while(true)\n{\nvar x = arbitraryNumber0;\nvar y = arbitraryNumber1;\nvar z = arbitraryNumber2;\n\nsendToPython(arbitraryNumber0, arbitraryNumber1, arbitraryNumber2);\n\narbitraryNumber0++;\narbitraryNumber1++;\narbitraryNumber2++;\n}\n</code></pre>\n\n<h1>Python script example:</h1>\n\n<pre><code>  #stream in x, y, z From WPF \n  product = arbNumFromWPF0 * arbNumFromWPF1 * arbNumFromWPF2\n  #do stuff with product\n</code></pre>\n\n<p>I have tried using c# process's but the problem was that it would need to start the python shell on every new iteration. Which would cause my system to crash.\nI have looked into ironpython, pipes, and sockets but can not find an example similar to what I'm trying to do, and am wondering what method I should use to achieve this functionality. Any help would be greatly appreciated. </p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11212219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db889ca71519a0607054d3bcafb623b?s=128&d=identicon&r=PG&f=1", "display_name": "Zenhal", "link": "https://stackoverflow.com/users/11212219/zenhal"}, "edited": false, "score": 0, "creation_date": 1553116182, "post_id": 55270223, "comment_id": 97271602, "body": "Thank you, so what would be a better code to fix this issue?"}, {"owner": {"reputation": 1236, "user_id": 6780701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b6H3O.jpg?s=128&g=1", "display_name": "vinicius.ras", "link": "https://stackoverflow.com/users/6780701/vinicius-ras"}, "reply_to_user": {"reputation": 3, "user_id": 11212219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db889ca71519a0607054d3bcafb623b?s=128&d=identicon&r=PG&f=1", "display_name": "Zenhal", "link": "https://stackoverflow.com/users/11212219/zenhal"}, "edited": false, "score": 0, "creation_date": 1553116495, "post_id": 55270223, "comment_id": 97271740, "body": "This depends on what you intend to do when both slots are occupied. I have added the code for a solution which first tries to find an empty slot to fit the weapon. If no slots are available, it replaces the weapon in the second found slot by the weapon you are trying to equip."}, {"owner": {"reputation": 3, "user_id": 11212219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db889ca71519a0607054d3bcafb623b?s=128&d=identicon&r=PG&f=1", "display_name": "Zenhal", "link": "https://stackoverflow.com/users/11212219/zenhal"}, "edited": false, "score": 0, "creation_date": 1553117176, "post_id": 55270223, "comment_id": 97272043, "body": "I tried changing my code but it does not seem to work. It gives me a totally different output (Replacing items in inventory with previously clicked items)."}, {"owner": {"reputation": 1236, "user_id": 6780701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b6H3O.jpg?s=128&g=1", "display_name": "vinicius.ras", "link": "https://stackoverflow.com/users/6780701/vinicius-ras"}, "reply_to_user": {"reputation": 3, "user_id": 11212219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db889ca71519a0607054d3bcafb623b?s=128&d=identicon&r=PG&f=1", "display_name": "Zenhal", "link": "https://stackoverflow.com/users/11212219/zenhal"}, "edited": false, "score": 0, "creation_date": 1553117783, "post_id": 55270223, "comment_id": 97272311, "body": "I&#39;m sorry, I got a wrong index in <code>EquipmentSlots[i].Item = item;</code>. It should be <code>EquipmentSlots[lastFoundSlotIndex].Item = item;</code>. The code is fixed now."}], "tags": [], "owner": {"reputation": 1236, "user_id": 6780701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b6H3O.jpg?s=128&g=1", "display_name": "vinicius.ras", "link": "https://stackoverflow.com/users/6780701/vinicius-ras"}, "is_accepted": true, "score": 1, "last_activity_date": 1553117770, "last_edit_date": 1553117770, "creation_date": 1553116110, "answer_id": 55270223, "question_id": 55270069, "link": "https://stackoverflow.com/questions/55270069/i-have-2-weapon-slots-of-the-same-type-but-when-i-click-items-of-weapon-type-on/55270223#55270223", "title": "I have 2 weapon slots of the same type, but when i click items of weapon type only 1 slot gets occupied", "body": "<p>Your <code>AddItem()</code> method finds the <strong>first</strong> slot of the type <code>EquipmentType.Weapon</code> and replaces it with the item you are trying to add.</p>\n\n<p>If you have 2 slots of type <code>EquipmentType.Weapon</code> as you said, this means that <code>AddItem()</code> will <strong>always</strong> replace the <strong>first</strong> found slot, and <strong>never even touch the second slot</strong>.</p>\n\n<p>This could be a possible way of doing it:</p>\n\n<pre><code>public bool AddItem(EquippableItem item, out EquippableItem previousItem)\n{\n    int lastFoundSlotIndex = -1;\n    for(int i=0; i &lt; EquipmentSlots.Length; i++)\n    {\n        if(EquipmentSlots[i].EquipmentType == item.EquipmentType)\n        {\n            lastFoundSlotIndex = i;\n\n            if (EquipmentSlots[i].Item == null)\n                break;\n        }\n    }\n\n    if (lastFoundSlotIndex &gt;= 0)\n    {\n        previousItem = (EquippableItem)EquipmentSlots[lastFoundSlotIndex].Item;\n        EquipmentSlots[lastFoundSlotIndex].Item = item;\n        return true;\n    }\n\n    previousItem = null;\n    return false;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11212219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db889ca71519a0607054d3bcafb623b?s=128&d=identicon&r=PG&f=1", "display_name": "Zenhal", "link": "https://stackoverflow.com/users/11212219/zenhal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 55270223, "answer_count": 1, "score": 0, "last_activity_date": 1553117770, "creation_date": 1553115485, "question_id": 55270069, "link": "https://stackoverflow.com/questions/55270069/i-have-2-weapon-slots-of-the-same-type-but-when-i-click-items-of-weapon-type-on", "title": "I have 2 weapon slots of the same type, but when i click items of weapon type only 1 slot gets occupied", "body": "<p>I'm creating an inventory system with 4 types of equipment using </p>\n\n<pre><code>public enum EquipmentType\n{\n    Weapon,\n    Head,\n    Body,\n    Feet,\n}\n</code></pre>\n\n<p>but I have 5 slots (2 slots for weapon). I have implemented RightClick Event (Right clicking items in inventory will equip the items to respective slots in the equipment panel). So when I right click items of type weapon, only one slot gets occupied.\nAlso I have implemented drag and drop methods which seems to be working fine for the both the slots. the following are the scripts that I used.</p>\n\n<p>EquipmentSlot.cs</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class EquipmentSlot : ItemSlot\n{ \n    public EquipmentType EquipmentType;\n    protected override void OnValidate()\n    {\n        base.OnValidate();\n        gameObject.name = EquipmentType.ToString() + \" Slot\";\n    }\n\n    public override bool CanRecieveItem(Item item)\n    {\n        if (item == null)\n            return true;\n\n        EquippableItem equippableItem = item as EquippableItem;\n        return equippableItem != null &amp;&amp; equippableItem.EquipmentType == EquipmentType;\n    }\n</code></pre>\n\n<p>EquipmentPanel.cs</p>\n\n<pre><code>using System;\nusing UnityEngine;\n\npublic class EquipmentPanel : MonoBehaviour\n{\n    public EquipmentSlot[] EquipmentSlots;\n    [SerializeField] Transform equipmentSlotsParent;\n\n    public event Action&lt;ItemSlot&gt; OnRightClickEvent;\n    public event Action&lt;ItemSlot&gt; OnPointerEnterEvent;\n    public event Action&lt;ItemSlot&gt; OnPointerExitEvent;\n    public event Action&lt;ItemSlot&gt; OnBeginDragEvent;\n    public event Action&lt;ItemSlot&gt; OnEndDragEvent;\n    public event Action&lt;ItemSlot&gt; OnDragEvent;\n    public event Action&lt;ItemSlot&gt; OnDropEvent;\n\n\n    public void Start()\n    {\n        for (int i = 0; i &lt; EquipmentSlots.Length; i++)\n        {\n            EquipmentSlots[i].OnRightClickEvent += OnRightClickEvent;\n            EquipmentSlots[i].OnPointerEnterEvent += OnPointerEnterEvent;\n            EquipmentSlots[i].OnPointerExitEvent += OnPointerExitEvent;\n            EquipmentSlots[i].OnBeginDragEvent += OnBeginDragEvent;\n            EquipmentSlots[i].OnEndDragEvent += OnEndDragEvent;\n            EquipmentSlots[i].OnDragEvent += OnDragEvent;\n            EquipmentSlots[i].OnDropEvent += OnDropEvent;\n        }\n    }\n    private void OnValidate()\n    {\n        EquipmentSlots = equipmentSlotsParent.GetComponentsInChildren&lt;EquipmentSlot&gt;();\n    }\n    public bool AddItem(EquippableItem item, out EquippableItem previousItem)\n    {\n        for(int i=0; i &lt; EquipmentSlots.Length; i++)\n        {\n            if(EquipmentSlots[i].EquipmentType == item.EquipmentType)\n            {\n                previousItem = (EquippableItem)EquipmentSlots[i].Item;\n                EquipmentSlots[i].Item = item;\n                return true;\n            }\n        }\n        previousItem = null;\n        return false;\n    }\n    public bool RemoveItem(EquippableItem item)\n    {\n        for (int i = 0; i &lt; EquipmentSlots.Length; i++)\n        {\n            if (EquipmentSlots[i].Item == item)\n            {\n                EquipmentSlots[i].Item = null;\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "metadata", "photo"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1553116247, "post_id": 55270044, "comment_id": 97271634, "body": "What do you mean by &quot;convert them&quot;?  Convert them to what?"}, {"owner": {"reputation": 972, "user_id": 4593696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8lAum.jpg?s=128&g=1", "display_name": "iakobski", "link": "https://stackoverflow.com/users/4593696/iakobski"}, "edited": false, "score": 0, "creation_date": 1553116383, "post_id": 55270044, "comment_id": 97271689, "body": "That&#39;s not really the output of your code, because <code>Math.Round</code> returns an integer. Anyway, the reason is that the Exif ApertureValue will have been rounded, see [link]<a href=\"http://web.mit.edu/graphics/src/Image-ExifTool-6.99/html/faq.html#Q4[/link]\" rel=\"nofollow noreferrer\">web.mit.edu/graphics/src/Image-ExifTool-6.99/html/faq.&zwnj;&#8203;html#Q4[/&hellip;</a> at point 4."}, {"owner": {"reputation": 972, "user_id": 4593696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8lAum.jpg?s=128&g=1", "display_name": "iakobski", "link": "https://stackoverflow.com/users/4593696/iakobski"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1553116531, "post_id": 55270044, "comment_id": 97271755, "body": "@Amy - the poster wants to convert the aperture value to an F-Number"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 972, "user_id": 4593696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8lAum.jpg?s=128&g=1", "display_name": "iakobski", "link": "https://stackoverflow.com/users/4593696/iakobski"}, "edited": false, "score": 0, "creation_date": 1553116583, "post_id": 55270044, "comment_id": 97271784, "body": "@iakobski <code>Math.Round</code> returns a <code>decimal</code> or <code>double</code>.  None of the overloads returns an integer.  <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.math.round?view=netframework-4.7.2#System_Math_Round_System_Double_\" rel=\"nofollow noreferrer\">This particular overload</a> does indeed return a <code>double</code>, since <code>Math.Pow</code> always returns a <code>double</code>."}, {"owner": {"reputation": 972, "user_id": 4593696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8lAum.jpg?s=128&g=1", "display_name": "iakobski", "link": "https://stackoverflow.com/users/4593696/iakobski"}, "edited": false, "score": 0, "creation_date": 1553116818, "post_id": 55270044, "comment_id": 97271902, "body": "Sorry, my bad, the single parameter version returns the nearest integral value."}, {"owner": {"reputation": 681, "user_id": 6763830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IClZL.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/6763830/max"}, "edited": false, "score": 0, "creation_date": 1553120679, "post_id": 55270044, "comment_id": 97273293, "body": "Have you searched for any ready-to-use libraries? For example I found: <a href=\"https://github.com/fraxedas/photo\" rel=\"nofollow noreferrer\">github.com/fraxedas/photo</a>"}], "owner": {"reputation": 563, "user_id": 10326641, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ni2qC6CXQkk/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPOzBHXKNWWu0v_iyh1Q6gnKqN6pg/mo/photo.jpg?sz=128", "display_name": "Mout Pessemier", "link": "https://stackoverflow.com/users/10326641/mout-pessemier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553117595, "creation_date": 1553115365, "last_edit_date": 1553117595, "question_id": 55270044, "link": "https://stackoverflow.com/questions/55270044/calculate-the-different-photography-parameters", "title": "Calculate the different photography parameters", "body": "<p>I'm currently working withing C# to put images in my api database (school project) and I want to store ISO, Aperture and Shutterspeed as well. Now those are stored in the metadata as APEX or EXIF and not the 'normal' values. I've already did some research and found a way to calculate the Aperture: <code>var value = Math.Round(Math.Pow(2,apexValue/2),1);</code> but it makes rounding fault for some (5.7 instead of 5.6, 22.6 instead of 22, ...) and so I was wondering if there is an easy way to convert those to the values know by people (aperture to f-stops, shutterspeed to seconds, iso to iso values)? </p>\n\n<p>At this point, I'm looking into <a href=\"https://docs.microsoft.com/nl-nl/windows/desktop/gdiplus/-gdiplus-constant-property-item-descriptions\" rel=\"nofollow noreferrer\">Property Item Descriptions</a> but I'm a bit confused by them because if we take Aperture for example: the property is called: PropertyTagExifAperture and so you would think that it is an Efix value but the description states: Lens aperture. The unit is the APEX value. So what is it then, Efix or APEX?</p>\n\n<p>Thanks for your time!</p>\n"}, {"tags": ["c#", "visual-studio", "command-line", "command-line-arguments"], "comments": [{"owner": {"reputation": 55, "user_id": 3609726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1037ba7fcc3372938cfdb136bde1d1a6?s=128&d=identicon&r=PG&f=1", "display_name": "Fadiddy", "link": "https://stackoverflow.com/users/3609726/fadiddy"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1553115918, "post_id": 55270027, "comment_id": 97271492, "body": "@KenWhite Sorry Ken, I have edited the post.  Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 301, "user_id": 11205887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/799ebce1e7ed121dd93aebb2a1dd2d5c?s=128&d=identicon&r=PG&f=1", "display_name": "jonaChaz", "link": "https://stackoverflow.com/users/11205887/jonachaz"}, "is_accepted": false, "score": 1, "last_activity_date": 1553116566, "creation_date": 1553116566, "answer_id": 55270323, "question_id": 55270027, "link": "https://stackoverflow.com/questions/55270027/how-to-execute-separate-scripts-based-on-list-box-selections-in-command-line/55270323#55270323", "title": "How to execute separate scripts based on list box selections in command line?", "body": "<p>an if statement</p>\n\n<pre><code>if(sites[choice - 1] == choice1)\n{\n     Process.Start(@\"C:\\Users\\Downloads\\insp1.pdf\");\n}\nelse if(sites[choice - 1] == choice2)\n{\n     Process.Start(@\"C:\\Users\\Downloads\\insp2.pdf\");\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3884, "user_id": 1701463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e27e87b40bc3c624c85816c6adc155?s=128&d=identicon&r=PG", "display_name": "MikeH", "link": "https://stackoverflow.com/users/1701463/mikeh"}, "is_accepted": true, "score": 3, "last_activity_date": 1553120107, "last_edit_date": 1553120107, "creation_date": 1553117647, "answer_id": 55270537, "question_id": 55270027, "link": "https://stackoverflow.com/questions/55270027/how-to-execute-separate-scripts-based-on-list-box-selections-in-command-line/55270537#55270537", "title": "How to execute separate scripts based on list box selections in command line?", "body": "<p>Use a class to describe your object.  This is the heart of object oriented programming:</p>\n\n<pre><code>class MySite\n{\n  public string Name;\n  public string Path;\n}\n</code></pre>\n\n<p>Then, for your particular case you could do something like this:</p>\n\n<pre><code>List&lt;MySite&gt; mySites = new List&lt;MySite&gt;();\nmySites.Add(new MySite() { Name = \"site1\", Path = @\"c:\\a.pdf\" });\nmySites.Add(new MySite() { Name = \"site2\", Path = @\"c:\\b.pdf\" });\nmySites.Add(new MySite() { Name = \"site3\", Path = @\"C:\\c.pdf\" });\n\nint choice = ChooseListBoxItem(mySites.Select(s=&gt;s.Name).ToArray(), 34, 3,\n    ConsoleColor.DarkGreen, ConsoleColor.White);\n\nWriteColorString(\"You chose \" + mySites[choice - 1].Name + \".\", 25, 22, \n    ConsoleColor.Black, ConsoleColor.White);\nProcess.Start(mySites[choice - 1].Path);\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 3609726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1037ba7fcc3372938cfdb136bde1d1a6?s=128&d=identicon&r=PG&f=1", "display_name": "Fadiddy", "link": "https://stackoverflow.com/users/3609726/fadiddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 55270537, "answer_count": 2, "score": 3, "last_activity_date": 1553120107, "creation_date": 1553115278, "last_edit_date": 1553115806, "question_id": 55270027, "link": "https://stackoverflow.com/questions/55270027/how-to-execute-separate-scripts-based-on-list-box-selections-in-command-line", "title": "How to execute separate scripts based on list box selections in command line?", "body": "<p>I have searched the web for this, and cannot seem to find what im looking for.  I am sure it is because I don't know the terminology (excuse me, I am not the best at coding).</p>\n\n<p>I want to list items in a command line app that a user can select individually.  When they select an item (in my case a site), I want to be able to execute a specific script stored locally for that site selected.  I tried to do a Process.Start line with a sample pdf, but I want to be able to execute specific files based on the items selected in the list the user chooses.  Here is my code so far:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace ListBoxConsole\n{\n    class ConsoleListBox\n    {\n        static void Main()\n        {\n            Console.TreatControlCAsInput = false;\n            Console.CancelKeyPress += new ConsoleCancelEventHandler(BreakHandler);\n            Console.Clear();\n            Console.CursorVisible = false;\n            Console.Title = \"List Box Items\";\n\n            string[] sites = { \"site1\", \"site2\", \"site3\", \"site4\", \"site5\" };\n\n            WriteColorString(\"Choose Site using down and up arrow keys and press enter\", 23, 20, ConsoleColor.Black, ConsoleColor.White);\n\n            int choice = ChooseListBoxItem(sites, 34, 3, ConsoleColor.DarkGreen, ConsoleColor.White);\n            // do something with choice\n            WriteColorString(\"You chose \" + sites[choice - 1] + \".\", 25, 22, ConsoleColor.Black, ConsoleColor.White);\n            Process.Start(@\"C:\\Users\\Downloads\\insp.pdf\");\n            WriteColorString(\" Press any key to exit\", 27, 24, ConsoleColor.Black, ConsoleColor.White);\n            Console.ReadKey();\n            CleanUp();\n        }\n</code></pre>\n\n<p>Any help or direction would be greatly appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "caching"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 2, "creation_date": 1553115327, "post_id": 55270001, "comment_id": 97271197, "body": "Did you look at the documentation for <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.caching.outputcache?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">OutputCache</a>? It doesn&#39;t say that it can just cache the results of any method. You should probably look into the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.caching.cache?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">Cache</a> object instead."}, {"owner": {"reputation": 166, "user_id": 8319719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/490439a23a89cfbf8c48af754ec89080?s=128&d=identicon&r=PG&f=1", "display_name": "A.naam", "link": "https://stackoverflow.com/users/8319719/a-naam"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1553115681, "post_id": 55270001, "comment_id": 97271366, "body": "According to <a href=\"https://docs.microsoft.com/en-us/aspnet/mvc/overview/older-versions-1/controllers-and-routing/improving-performance-with-output-caching-cs\" rel=\"nofollow noreferrer\">this</a> article it does work for string methods"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1553120590, "post_id": 55270001, "comment_id": 97273262, "body": "No, it doesn&#39;t say that. An action methods on a controller is not like any regular method. The framework calls the action method, and can check before it does so whether there is cached content or not. If you&#39;re calling a random method, then the responsibility is on you to implement the cache handling. They help you out with a place to store the objects you with to cache, but it&#39;s up to you to wire it up properly. Reread all of that documentation more carefully."}, {"owner": {"reputation": 5706, "user_id": 4879683, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Njifi.jpg?s=128&g=1", "display_name": "Mohamed Elrashid", "link": "https://stackoverflow.com/users/4879683/mohamed-elrashid"}, "edited": false, "score": 0, "creation_date": 1553165128, "post_id": 55270001, "comment_id": 97287101, "body": "Do you still need help ?\ud83e\udd17"}], "answers": [{"tags": [], "owner": {"reputation": 5706, "user_id": 4879683, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Njifi.jpg?s=128&g=1", "display_name": "Mohamed Elrashid", "link": "https://stackoverflow.com/users/4879683/mohamed-elrashid"}, "is_accepted": false, "score": 3, "last_activity_date": 1553125260, "last_edit_date": 1592644375, "creation_date": 1553122120, "answer_id": 55271276, "question_id": 55270001, "link": "https://stackoverflow.com/questions/55270001/how-to-cache-method-returned-value-in-c-mvc/55271276#55271276", "title": "How to cache method returned value in C# MVC", "body": "<h2>Summary :</h2>\n<ul>\n<li><p>I'm not aware of a way to :</p>\n</li>\n<li><p>make <strong>OutputCache</strong> work with normal C# method</p>\n</li>\n<li><p><strong>but</strong> you can hack around it :</p>\n</li>\n<li><p>you can use <strong>MemoryCache</strong> for normal C# method</p>\n</li>\n</ul>\n<h2>Solution</h2>\n<ul>\n<li><p>Import  <strong>System.Runtime.Caching</strong> (or use VS Intense )</p>\n</li>\n<li><p>Then:</p>\n</li>\n</ul>\n<pre><code>     private DataTable[] GetInfoTables()\n        {\n\n            ObjectCache cache = MemoryCache.Default;\n            var dataTable = cache[&quot;DataTable&quot;] as DataTable[];\n            if (dataTable == null)\n            {\n                CacheItemPolicy policy = new CacheItemPolicy();\n                policy.AbsoluteExpiration = DateTimeOffset.UtcNow.AddMinutes(5);\n                dataTable =  getDataTable() ;\n                cache.Set(&quot;DataTable&quot;, dataTable , policy);\n            }\n\n            return dataTable ;\n        }\n</code></pre>\n<h2>Screenshot</h2>\n<p>I test the Solution using EF and sql server</p>\n<p><a href=\"https://i.stack.imgur.com/9fdJl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9fdJl.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/A8qyC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A8qyC.png\" alt=\"enter image description here\" /></a></p>\n<h2>References</h2>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/12630168/memorycache-absoluteexpiration-acting-strange\">c# - MemoryCache AbsoluteExpiration acting strange - Stack Overflow</a></p>\n</li>\n<li><p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.runtime.caching.memorycache?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">MemoryCache Class (System.Runtime.Caching) | Microsoft Docs</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/7223643/is-there-an-attribute-similar-to-outputcache-that-i-can-use-on-normal-c-sharp-me\">asp.net mvc - Is there an attribute similar to OutputCache that I can use on normal C# methods? - Stack Overflow</a></p>\n</li>\n<li><p><a href=\"https://docs.microsoft.com/en-us/aspnet/mvc/overview/older-versions-1/controllers-and-routing/improving-performance-with-output-caching-cs\" rel=\"nofollow noreferrer\">Improving Performance with Output Caching (C#) | Microsoft Docs</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/14154892/scope-of-static-variable-in-multi-user-asp-net-web-application\">c# - Scope of static Variable in multi-user ASP.NET web application - Stack Overflow</a></p>\n</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 3100558, "user_type": "registered", "profile_image": "https://graph.facebook.com/659841077/picture?type=large", "display_name": "garo cm", "link": "https://stackoverflow.com/users/3100558/garo-cm"}, "is_accepted": false, "score": 0, "last_activity_date": 1553125555, "creation_date": 1553125555, "answer_id": 55271760, "question_id": 55270001, "link": "https://stackoverflow.com/questions/55270001/how-to-cache-method-returned-value-in-c-mvc/55271760#55271760", "title": "How to cache method returned value in C# MVC", "body": "<p>Output Cache stores the rendered HTML output. Therefore, you cannot use it for functions, methods etc.</p>\n\n<p>I started using <a href=\"https://github.com/MichaCo/CacheManager\" rel=\"nofollow noreferrer\">CacheManager</a> library, which gives a unique interface for caching data in different cache providers. I'd suggest to have a look. </p>\n\n<p>Other direct options are discussed in this <a href=\"https://stackoverflow.com/questions/343899/how-to-cache-data-in-a-mvc-application\">question</a></p>\n"}], "owner": {"reputation": 166, "user_id": 8319719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/490439a23a89cfbf8c48af754ec89080?s=128&d=identicon&r=PG&f=1", "display_name": "A.naam", "link": "https://stackoverflow.com/users/8319719/a-naam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1130, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1553125555, "creation_date": 1553115194, "last_edit_date": 1553115486, "question_id": 55270001, "link": "https://stackoverflow.com/questions/55270001/how-to-cache-method-returned-value-in-c-mvc", "title": "How to cache method returned value in C# MVC", "body": "<p>I'm building a web app which is selecting a lot of information from the database, and returns it. I'd like to store the returned value from the method which returns the tables from the database for 15 minutes, but it doesn't work using a <code>OutputCache</code> Filter:</p>\n\n<pre><code>[OutputCache(duration=900)]\nprivate DataTable[] GetInfoTables() {...}\n</code></pre>\n\n<p>the method does work, just find, but when I add anything to one of the tables (after first logging into site and view them) it refreshes immediately and I'd like it to cache for 15 minutes.\nI cannot cache the <code>public ActionResult Index()</code> because it checks for <code>Session</code>s value.\nThanks</p>\n"}, {"tags": ["c#", "tsql", "sap-ase"], "comments": [{"owner": {"reputation": 170, "user_id": 3104267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6156cff965d238150fe4569fa6e188e?s=128&d=identicon&r=PG&f=1", "display_name": "user3104267", "link": "https://stackoverflow.com/users/3104267/user3104267"}, "edited": false, "score": 0, "creation_date": 1553116769, "post_id": 55269925, "comment_id": 97271887, "body": "I&#180;ve used a normal System.Data.SqlClient.SqlCommand to do something similar, there the prints were also stored in e.Errors, the e.Message was the same, all &quot;errors&quot; joined by a linebreak. I would say, it&#180;s just a matter of designation."}], "answers": [{"tags": [], "owner": {"reputation": 7058, "user_id": 469701, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wb7aO.jpg?s=128&g=1", "display_name": "sheikhjabootie", "link": "https://stackoverflow.com/users/469701/sheikhjabootie"}, "is_accepted": true, "score": 1, "last_activity_date": 1560862173, "creation_date": 1560862173, "answer_id": 56649570, "question_id": 55269925, "link": "https://stackoverflow.com/questions/55269925/aseconnection-infomessage-returning-print-statement-as-an-error-message/56649570#56649570", "title": "AseConnection InfoMessage returning print statement as an error message", "body": "<p>It is just a really bizarre design decision by the authors of the driver. All messages, errors and info, share a data structure that describes the message as an <code>AseError</code>.</p>\n\n<p>I work on an open source project that produces a <a href=\"https://github.com/DataAction/AdoNetCore.AseClient\" rel=\"nofollow noreferrer\">.NET Core version</a> of the <code>AseClient</code>. One of the goals of that project is to be a drop-in replacement for the driver from SAP/Sybase - and for that reason we have replicated the above design decision - as weird as it is.</p>\n\n<p>A severity <code>&gt;10</code> is considered an error. Otherwise it is considered informational. If it helps you make sense of it, here is our code for interpreting the server messages: <a href=\"https://github.com/DataAction/AdoNetCore.AseClient/blob/master/src/AdoNetCore.AseClient/Internal/Handler/MessageTokenHandler.cs\" rel=\"nofollow noreferrer\">MessageTokenHandler.cs</a></p>\n"}], "owner": {"reputation": 178, "user_id": 7638477, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eab695e07fb9d3e913523682417b5100?s=128&d=identicon&r=PG&f=1", "display_name": "User11040", "link": "https://stackoverflow.com/users/7638477/user11040"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 56649570, "answer_count": 1, "score": 1, "last_activity_date": 1560862173, "creation_date": 1553114883, "last_edit_date": 1592644375, "question_id": 55269925, "link": "https://stackoverflow.com/questions/55269925/aseconnection-infomessage-returning-print-statement-as-an-error-message", "title": "AseConnection InfoMessage returning print statement as an error message", "body": "<p>I am working in Sybase ASE 15.7 and I am trying to return messages from a T-SQL as shown below. I'm using the AseConnection.InfoMessage event handler to capture messages from the database. It is working fine but it is also returning the print statement as an AseError message. Why is this happening and how can I correct it?</p>\n<p>Console Output:</p>\n<blockquote>\n<p>Log: 12522 rows in SomeTable</p>\n<p>AseError Log: 12522 rows in SomeTable</p>\n</blockquote>\n<pre><code>string sql= @&quot;set nocount on\n              declare @rowcount    int                            \n              select  @rowcount = count(*) from SomeTable\n              print   'Log: %1! rows in SomeTable', @rowcount&quot;;\n\nusing (var conn = GetOpenConnection(connectionString))\n{\n   conn.InfoMessage += (s,e) =&gt;\n   {\n      Console.WriteLine(e.Message);\n      foreach (var error in e.Errors)\n         Console.WriteLine(error.ToString())\n   };\n   using (var command = new AseCommand(sql, conn))\n   {\n      command.ExecuteNonQuery();\n   }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "asp.net-web-api2", "api-versioning"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 4371669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4db434323a8b24f0066096cce4d46607?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii Kalinin", "link": "https://stackoverflow.com/users/4371669/vitalii-kalinin"}, "edited": false, "score": 0, "creation_date": 1553117522, "post_id": 55270030, "comment_id": 97272183, "body": "Thanks, this looks just like my current setup. However I have a situation where some controls might be on version 1.1 and some still on version 1.0. And client will still send version 1.1 . The solution I found so far is to decorate all controls with both versions but that seems semi optimal. Was hoping I can just set all attributes on base class, but I don&#39;t think this will work"}], "tags": [], "owner": {"reputation": 4119, "user_id": 10839105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5b19eba5c32ea65bb432a004aad5e3?s=128&d=identicon&r=PG", "display_name": "Manoj Choudhari", "link": "https://stackoverflow.com/users/10839105/manoj-choudhari"}, "is_accepted": true, "score": 3, "last_activity_date": 1553115280, "creation_date": 1553115280, "answer_id": 55270030, "question_id": 55269889, "link": "https://stackoverflow.com/questions/55269889/specify-api-version-for-all-web-api-controllers/55270030#55270030", "title": "Specify API version for all WEB API controllers", "body": "<p>You can use ApiVersioning middleware as shown in below example</p>\n\n<pre><code>services.AddApiVersioning(\n    o =&gt;\n    {\n        o.AssumeDefaultVersionWhenUnspecified = true );\n        o.DefaultApiVersion = new ApiVersion( 1,0);\n    } );\n</code></pre>\n\n<p>It sets default version for all controllers to be 1.0.\nAlso if version is not specified, the call will be routed to controller with default version. </p>\n\n<p>If you want to create new version of existing controller, then you can specify the version attribute on that controller. </p>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 1145, "user_id": 9549928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QoJ1I.jpg?s=128&g=1", "display_name": "Chris Martinez", "link": "https://stackoverflow.com/users/9549928/chris-martinez"}, "is_accepted": false, "score": 2, "last_activity_date": 1556215896, "creation_date": 1556215896, "answer_id": 55855337, "question_id": 55269889, "link": "https://stackoverflow.com/questions/55269889/specify-api-version-for-all-web-api-controllers/55855337#55855337", "title": "Specify API version for all WEB API controllers", "body": "<p>The <strong>ApiVersionAttribute</strong> intentionally is not inherited because if you use inheritance on your controllers, for example <code>V2.Controllers.ValuesController</code> inherits from <code>V1.Controllers.ValuesController</code>, you end up with two controllers with the same route that both implement 1.0, which is ambiguous and will produce an error.</p>\n\n<p>There are several possible ways to achieve your goal:</p>\n\n<ol>\n<li>Create your own attribute, extending <strong>ApiVersionsBaseAttribute</strong>, allow it to be inherited and apply it to a base class.</li>\n<li>Create your own attribute, implement <strong>IApiVersionProvider</strong>, allow it to be inherited, and apply it to a base class.</li>\n<li>Enumerate all controller types in your configuration setup and use a <em>convention</em> that applies one or more API versions to all controllers. <code>options.Conventions.Controller(controllerType).HasApiVersion(1.0);</code>. This will be unioned with an explicit attributes (ex: 1.1)</li>\n<li>You can author a custom <em>convention</em>, which applies one or more API versions to all or specific controllers. Currently, the convention can only be applied to an entire controller, but per-action support will be available in the next major release (as there are breaking changes to the API, even though there is no visible change for most). For example, <code>options.Conventions.Add(new MyConvention(new ApiVersion(1,0)));</code>.</li>\n</ol>\n\n<p>I hope that helps.</p>\n"}], "owner": {"reputation": 97, "user_id": 4371669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4db434323a8b24f0066096cce4d46607?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii Kalinin", "link": "https://stackoverflow.com/users/4371669/vitalii-kalinin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "accepted_answer_id": 55270030, "answer_count": 2, "score": 0, "last_activity_date": 1556215896, "creation_date": 1553114734, "question_id": 55269889, "link": "https://stackoverflow.com/questions/55269889/specify-api-version-for-all-web-api-controllers", "title": "Specify API version for all WEB API controllers", "body": "<p>I am building an API using Web API .NET 2, created a BaseController class which all other controllers inherit. I would like to apply API versioning using [ApiVersion()] attribute, however I don't want to decorate each controller class with same attributes if I have more than one version of API. Is there a way to set all possible API versions for all controllers? I tried to set attributes on BaseController class, but unfortunately attributes are not inherited by derived classes.   </p>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 219, "user_id": 6942468, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/3fb0f546eac5c13c76fc9630c6182a60?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Green", "link": "https://stackoverflow.com/users/6942468/joe-green"}, "edited": false, "score": 0, "creation_date": 1553114888, "post_id": 55269836, "comment_id": 97270992, "body": "I  can get rid off multiple comma but it doesn&#39;t solve the issue with putting NONE: Regex.Replace (field,&quot;,{{2,}}&quot;,&quot;,&quot;) so I need something different."}, {"owner": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "edited": false, "score": 0, "creation_date": 1553115053, "post_id": 55269836, "comment_id": 97271055, "body": "It looks like you are using C#? Why not just use <code>field.TrimEnd(&#39;,&#39;)</code> to get rid of the trailing commas instead of using an expensive regex?"}, {"owner": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "edited": false, "score": 0, "creation_date": 1553115117, "post_id": 55269836, "comment_id": 97271088, "body": "Also, do you want just ONE &#39;NONE&#39; entry, if there are multiple commas?"}, {"owner": {"reputation": 4244, "user_id": 3348112, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab4cd9458f5debd780353a5554b718d8?s=128&d=identicon&r=PG&f=1", "display_name": "CAustin", "link": "https://stackoverflow.com/users/3348112/caustin"}, "edited": false, "score": 0, "creation_date": 1553118605, "post_id": 55269836, "comment_id": 97272605, "body": "Pattern replacement isn&#39;t the best tool for this. If this string came from a list or array, simply remove the empty strings from it. If it really began as a string, convert it to a list by splitting on <code>,</code> then remove the empty strings."}], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 6942468, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/3fb0f546eac5c13c76fc9630c6182a60?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Green", "link": "https://stackoverflow.com/users/6942468/joe-green"}, "edited": false, "score": 0, "creation_date": 1553115289, "post_id": 55269914, "comment_id": 97271173, "body": "thanks Christoph for answer, but how I can adopt your code to Regex.Replace (field,&quot;replace pattern&quot;)"}, {"owner": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "reply_to_user": {"reputation": 219, "user_id": 6942468, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/3fb0f546eac5c13c76fc9630c6182a60?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Green", "link": "https://stackoverflow.com/users/6942468/joe-green"}, "edited": false, "score": 0, "creation_date": 1553115402, "post_id": 55269914, "comment_id": 97271234, "body": "What programming language are you using?"}, {"owner": {"reputation": 219, "user_id": 6942468, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/3fb0f546eac5c13c76fc9630c6182a60?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Green", "link": "https://stackoverflow.com/users/6942468/joe-green"}, "edited": false, "score": 0, "creation_date": 1553115545, "post_id": 55269914, "comment_id": 97271304, "body": "C# is integrated to application and I use something like this in expression Regex.Replace (field,&quot;,{{2,}}&quot;,&quot;,&quot;)"}, {"owner": {"reputation": 219, "user_id": 6942468, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/3fb0f546eac5c13c76fc9630c6182a60?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Green", "link": "https://stackoverflow.com/users/6942468/joe-green"}, "edited": false, "score": 0, "creation_date": 1553115770, "post_id": 55269914, "comment_id": 97271411, "body": "another example I can use to replace multi hyphens with single: Regex.Replace (field_name, &quot;\\?{{1,}}&quot;,&quot;-&quot;)"}, {"owner": {"reputation": 219, "user_id": 6942468, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/3fb0f546eac5c13c76fc9630c6182a60?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Green", "link": "https://stackoverflow.com/users/6942468/joe-green"}, "edited": false, "score": 0, "creation_date": 1553115824, "post_id": 55269914, "comment_id": 97271441, "body": "I see, thanks, let me test your updated codes for C#"}, {"owner": {"reputation": 219, "user_id": 6942468, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/3fb0f546eac5c13c76fc9630c6182a60?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Green", "link": "https://stackoverflow.com/users/6942468/joe-green"}, "edited": false, "score": 0, "creation_date": 1553116682, "post_id": 55269914, "comment_id": 97271841, "body": "2 Christoph Herold: I tested, all looks good except this one - input.TrimEnd(&#39;,&#39;); still leaves comma at the end - OK,NONE,A,B,INSERV,OOS,"}, {"owner": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "reply_to_user": {"reputation": 219, "user_id": 6942468, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/3fb0f546eac5c13c76fc9630c6182a60?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Green", "link": "https://stackoverflow.com/users/6942468/joe-green"}, "edited": false, "score": 0, "creation_date": 1553117068, "post_id": 55269914, "comment_id": 97272008, "body": "Strange. Well, instead of using the <code>.TrimEnd(...)</code> you can revert to the Regex: <code>input = Regex.Replace(input, &quot;,+$&quot;, &quot;&quot;);</code> to remove the trailing commas."}, {"owner": {"reputation": 219, "user_id": 6942468, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/3fb0f546eac5c13c76fc9630c6182a60?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Green", "link": "https://stackoverflow.com/users/6942468/joe-green"}, "edited": false, "score": 0, "creation_date": 1553117259, "post_id": 55269914, "comment_id": 97272079, "body": "actually this one does the job: input =  Regex.Replace(input, &quot;,*$&quot;, &quot;,&quot;); input = Regex.Replace(input, &quot;,(?=,)&quot;, &quot;,NONE&quot;). OK, this one the same as your previous codes. Thanks a lot!!!"}, {"owner": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "reply_to_user": {"reputation": 219, "user_id": 6942468, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/3fb0f546eac5c13c76fc9630c6182a60?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Green", "link": "https://stackoverflow.com/users/6942468/joe-green"}, "edited": false, "score": 0, "creation_date": 1553117546, "post_id": 55269914, "comment_id": 97272197, "body": "You&#39;re very welcome. Please don&#39;t forget to mark the answer as <i>the</i> answer to your question."}, {"owner": {"reputation": 219, "user_id": 6942468, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/3fb0f546eac5c13c76fc9630c6182a60?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Green", "link": "https://stackoverflow.com/users/6942468/joe-green"}, "edited": false, "score": 0, "creation_date": 1553118171, "post_id": 55269914, "comment_id": 97272451, "body": "@ Christoph Herold: one more thing, can you advice, in case of input = &quot;,,A,B,INSERV,OOS,,&quot; where first one is empty how I can achieve result: &quot;NONE,NONE,A,B,INSERV,OOS&quot;, thanks?"}, {"owner": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "reply_to_user": {"reputation": 219, "user_id": 6942468, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/3fb0f546eac5c13c76fc9630c6182a60?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Green", "link": "https://stackoverflow.com/users/6942468/joe-green"}, "edited": false, "score": 0, "creation_date": 1553120416, "post_id": 55269914, "comment_id": 97273209, "body": "Replace a comma at the start of the string with &quot;NONE,&quot;: <code>input = Regex.Replace(input, &quot;^,&quot;, &quot;NONE,&quot;)</code>. The second <code>NONE</code> should be applied by the previous regex. So, first trim the commas from the end, then replace the on at the start, then the ones in the middle."}], "tags": [], "owner": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "is_accepted": true, "score": 0, "last_activity_date": 1553115553, "last_edit_date": 1553115553, "creation_date": 1553114838, "answer_id": 55269914, "question_id": 55269836, "link": "https://stackoverflow.com/questions/55269836/regex-replace-to-put-none-between-comma-and-remove-last-multiple-comma/55269914#55269914", "title": "Regex.Replace to put NONE between comma and remove last multiple comma", "body": "<p>You will need at least two replace calls, one for the trailing commas and one for the commas in the middle:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var input = 'OK,,,A,B,INSERV,OOS,,';\r\ninput = input.replace(/,*$/, ''); // remove trailing commas\r\ninput = input.replace(/,(?=,)/g, ',NONE'); // add NONE\r\nconsole.log(input);\r\n\r\ninput = 'OK,,,A,B,INSERV,OOS,,';\r\ninput = input.replace(/,*$/, ''); // remove trailing commas\r\ninput = input.replace(/,{2,}/g, ',NONE,'); // add NONE\r\nconsole.log(input);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>First, we should remove the trailing commas, to not get any 'NONE' entries there. Then, we check for a comma, followed by a lookahead assertion matching a comma. I used the lookahead to get the regex working even when multiple commas are present (see example).</p>\n\n<p>I've added two possible routes, one puts 'NONE' between all commas, the other reduces any number of commas to just ONE 'NONE' entry.</p>\n\n<p>The C# syntax would be</p>\n\n<pre><code>var input = \"OK,,,A,B,INSERV,OOS,,\";\ninput = input.TrimEnd(',');\ninput = Regex.Replace(input, \",(?=,)\", \",NONE\"); // add NONE\ninput.Dump();\n\ninput = \"OK,,,A,B,INSERV,OOS,,\";\ninput = input.TrimEnd(',');\ninput = Regex.Replace(input, \",{2,}\", \",NONE,\"); // add NONE\ninput.Dump();\n</code></pre>\n"}], "owner": {"reputation": 219, "user_id": 6942468, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/3fb0f546eac5c13c76fc9630c6182a60?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Green", "link": "https://stackoverflow.com/users/6942468/joe-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 55269914, "answer_count": 1, "score": 0, "last_activity_date": 1553118625, "creation_date": 1553114553, "last_edit_date": 1553118625, "question_id": 55269836, "link": "https://stackoverflow.com/questions/55269836/regex-replace-to-put-none-between-comma-and-remove-last-multiple-comma", "title": "Regex.Replace to put NONE between comma and remove last multiple comma", "body": "<p>I have column with following value:</p>\n\n<p>OK,,A,B,INSERV,OOS,,</p>\n\n<p>and I'd like to get following result with Regex.Replace (field,\"replace pattern\") so if there is double comma between string then put NONE between comma\nand remove last multiple comma:</p>\n\n<p>OK,NONE,A,B,INSERV,OOS</p>\n\n<p>thanks,\nS</p>\n"}, {"tags": ["c#", "entity-framework-core"], "comments": [{"owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "edited": false, "score": 2, "creation_date": 1553114246, "post_id": 55269717, "comment_id": 97270657, "body": "<code>_db.Entry(a).State = EntityState.Detached</code>"}, {"owner": {"reputation": 4935, "user_id": 5482465, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/QHF0G.png?s=128&g=1", "display_name": "Money Sets You Free", "link": "https://stackoverflow.com/users/5482465/money-sets-you-free"}, "reply_to_user": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "edited": false, "score": 0, "creation_date": 1553114319, "post_id": 55269717, "comment_id": 97270694, "body": "@Zer0: Thank you. It is very helpful. :-)"}, {"owner": {"reputation": 4935, "user_id": 5482465, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/QHF0G.png?s=128&g=1", "display_name": "Money Sets You Free", "link": "https://stackoverflow.com/users/5482465/money-sets-you-free"}, "reply_to_user": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "edited": false, "score": 0, "creation_date": 1553114479, "post_id": 55269717, "comment_id": 97270777, "body": "@Zer0: If you  are not interested to post your comment as an answer, I will delete this question shortly. Thank you."}, {"owner": {"reputation": 4935, "user_id": 5482465, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/QHF0G.png?s=128&g=1", "display_name": "Money Sets You Free", "link": "https://stackoverflow.com/users/5482465/money-sets-you-free"}, "reply_to_user": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "edited": false, "score": 0, "creation_date": 1553114742, "post_id": 55269717, "comment_id": 97270921, "body": "I will decide the accepted answer in a couple of hours."}], "answers": [{"tags": [], "owner": {"reputation": 120, "user_id": 10931383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157086068354421/picture?type=large", "display_name": "Ben Phung", "link": "https://stackoverflow.com/users/10931383/ben-phung"}, "is_accepted": false, "score": 3, "last_activity_date": 1553114559, "creation_date": 1553114559, "answer_id": 55269840, "question_id": 55269717, "link": "https://stackoverflow.com/questions/55269717/how-to-release-tracked-entities/55269840#55269840", "title": "How to release tracked entities?", "body": "<p>You can try <code>AsNoTracking()</code>.<br>\n_db.Authors.AsNoTracking().Where(a => a.AuthorId == 1831).FirstOrDefault();</p>\n"}, {"tags": [], "owner": {"reputation": 4119, "user_id": 10839105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5b19eba5c32ea65bb432a004aad5e3?s=128&d=identicon&r=PG", "display_name": "Manoj Choudhari", "link": "https://stackoverflow.com/users/10839105/manoj-choudhari"}, "is_accepted": false, "score": 3, "last_activity_date": 1553114592, "creation_date": 1553114592, "answer_id": 55269847, "question_id": 55269717, "link": "https://stackoverflow.com/questions/55269717/how-to-release-tracked-entities/55269847#55269847", "title": "How to release tracked entities?", "body": "<p>You should use <code>AsNoTracking</code> option while querying for a.</p>\n\n<p>e.g.  Below query gets all blog items but if you try to delete them you should not get any error.</p>\n\n<pre><code>var blogs = context.Blogs\n        .AsNoTracking()\n        .ToList();\n</code></pre>\n\n<p>You can set <code>AsNoTracking</code> either on query or it can also be set on the context object as shown below:</p>\n\n<pre><code>context.ChangeTracker.QueryTrackingBehavior = QueryTrackingBehavior.NoTracking;\n\nvar blogs = context.Blogs.ToList();\n</code></pre>\n\n<p>This should help you to resolve this. </p>\n\n<p>Refer <a href=\"https://docs.microsoft.com/en-us/ef/core/querying/tracking\" rel=\"nofollow noreferrer\">this MSDN page</a> for more details.</p>\n"}, {"tags": [], "owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "is_accepted": true, "score": 3, "last_activity_date": 1553116689, "creation_date": 1553116689, "answer_id": 55270353, "question_id": 55269717, "link": "https://stackoverflow.com/questions/55269717/how-to-release-tracked-entities/55270353#55270353", "title": "How to release tracked entities?", "body": "<p>There are a variety of ways to do this, but I find this the most simple since you're trying to detach a specific entity.</p>\n\n<pre><code>_db.Entry(a).State = EntityState.Detached\n</code></pre>\n\n<p>As a plus it doesn't require changing any other code, including however you fetched the entity itself.  </p>\n\n<p>This one line makes it very clear of the intent.  It also allows the following:</p>\n\n<ol>\n<li>Fetch an entity, or list of entities</li>\n<li>Do various types of work</li>\n<li>Detach an entity</li>\n</ol>\n\n<p>I dislike the idea of changing existing queries on a <code>DbContext</code> when all I want to do is detach something.</p>\n"}], "owner": {"reputation": 4935, "user_id": 5482465, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/QHF0G.png?s=128&g=1", "display_name": "Money Sets You Free", "link": "https://stackoverflow.com/users/5482465/money-sets-you-free"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2016, "favorite_count": 0, "accepted_answer_id": 55270353, "answer_count": 3, "score": 3, "last_activity_date": 1553116689, "creation_date": 1553114005, "question_id": 55269717, "link": "https://stackoverflow.com/questions/55269717/how-to-release-tracked-entities", "title": "How to release tracked entities?", "body": "<p>Hopefully the following code snippet clear enough to explain the problem. <code>_db</code> is an instance of <code>DbContext</code>.</p>\n\n<pre><code>// this scenario is only for learning purpose\nAuthor a = _db.Authors.Find(1831);\nint id = a.AuthorId;\na = null;\n\nAuthor stub = new Author { AuthorId = id };\n_db.Remove(stub);\n_db.SaveChanges();\n</code></pre>\n\n<p>The code above produces</p>\n\n<blockquote>\n  <p>'The instance of entity type 'Author' cannot be tracked because another instance with the same key value for {'AuthorId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.'</p>\n</blockquote>\n\n<h1>Question</h1>\n\n<p>How to free <code>a</code> from being tracked?</p>\n"}, {"tags": ["c#", "soundplayer", "synthesizer"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1553114079, "post_id": 55269716, "comment_id": 97270561, "body": "In short, you need a mixer.  SoundPlayer apparently doesn&#39;t have one, which is why it only allows you to play one file at a time."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1553114196, "post_id": 55269716, "comment_id": 97270627, "body": "So what you probably should do instead is figure out how to mix your waveforms together into a single sound stream prior to playing them."}, {"owner": {"reputation": 23, "user_id": 8131916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0503cdca964c36a622ccb0b48139d3c3?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/8131916/john-doe"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1553165212, "post_id": 55269716, "comment_id": 97287141, "body": "Thanks, I calculate the mean of the waveforms. :)"}], "owner": {"reputation": 23, "user_id": 8131916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0503cdca964c36a622ccb0b48139d3c3?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/8131916/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "closed_date": 1553114621, "answer_count": 0, "score": 0, "last_activity_date": 1553114005, "creation_date": 1553114005, "question_id": 55269716, "link": "https://stackoverflow.com/questions/55269716/how-can-i-play-programmatically-generated-waves-simultaneously", "closed_reason": "Duplicate", "title": "How can I play programmatically generated waves simultaneously?", "body": "<p>I'd like to make a synthesizer in C#. I know, how can I generate sine, square and saw waveforms, but I can't play them simultaneously, because the SoundPlayer class not suitable for this task. \nSo, how can I play my Generated waveforms simultaneously? \nIt doesn't work, if I make two instances of SoundPlayer. </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1553113917, "post_id": 55269681, "comment_id": 97270466, "body": "<code>-</code> has to be the first item inside square braces unless its part of a range."}, {"owner": {"reputation": 5, "user_id": 7065582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b396d170c757df92bdbb9afebc3e84?s=128&d=identicon&r=PG&f=1", "display_name": "Noo", "link": "https://stackoverflow.com/users/7065582/noo"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1553114078, "post_id": 55269681, "comment_id": 97270560, "body": "I dont know how to resolve it ?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1553114211, "post_id": 55269681, "comment_id": 97270636, "body": "Well, it has to be the first thing inside the square brackets... so move it to the front?"}, {"owner": {"reputation": 2736, "user_id": 6560579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8333bafdc079cc54ededd323a6993fe7?s=128&d=identicon&r=PG&f=1", "display_name": "Ackdari", "link": "https://stackoverflow.com/users/6560579/ackdari"}, "edited": false, "score": 0, "creation_date": 1553114288, "post_id": 55269681, "comment_id": 97270678, "body": "how has this any connection to a textbox, and if so which and from which UI-framework. WinForms, WPF, etc."}, {"owner": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "edited": false, "score": 0, "creation_date": 1553114297, "post_id": 55269681, "comment_id": 97270686, "body": "Nope, it doesn&#39;t have to be the first character, if it is properly escaped, which it is."}, {"owner": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "edited": false, "score": 1, "creation_date": 1553114355, "post_id": 55269681, "comment_id": 97270714, "body": "Please also let us know, what text is actually being input, so we can tell you, why the regular expression is NOT matching."}, {"owner": {"reputation": 5, "user_id": 7065582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b396d170c757df92bdbb9afebc3e84?s=128&d=identicon&r=PG&f=1", "display_name": "Noo", "link": "https://stackoverflow.com/users/7065582/noo"}, "edited": false, "score": 0, "creation_date": 1553114414, "post_id": 55269681, "comment_id": 97270738, "body": "It has to be numeric value *   more than 3 numbers that actually are know !"}, {"owner": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "edited": false, "score": 1, "creation_date": 1553114481, "post_id": 55269681, "comment_id": 97270779, "body": "Your regex expects exactly 6 characters."}, {"owner": {"reputation": 5081, "user_id": 1010405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uJsDG.gif?s=128&g=1", "display_name": "NoChance", "link": "https://stackoverflow.com/users/1010405/nochance"}, "edited": false, "score": 0, "creation_date": 1553114608, "post_id": 55269681, "comment_id": 97270853, "body": "If you only have a small number of allowed values you should use a CombBox."}, {"owner": {"reputation": 5, "user_id": 7065582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b396d170c757df92bdbb9afebc3e84?s=128&d=identicon&r=PG&f=1", "display_name": "Noo", "link": "https://stackoverflow.com/users/7065582/noo"}, "edited": false, "score": 0, "creation_date": 1553114658, "post_id": 55269681, "comment_id": 97270881, "body": "Yes. i have changed it to see if it works .. actually it db i have added it (nvarchar(50),not null"}, {"owner": {"reputation": 5, "user_id": 7065582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b396d170c757df92bdbb9afebc3e84?s=128&d=identicon&r=PG&f=1", "display_name": "Noo", "link": "https://stackoverflow.com/users/7065582/noo"}, "edited": false, "score": 0, "creation_date": 1553114703, "post_id": 55269681, "comment_id": 97270899, "body": "I need text box and it must allow more than 3 value example (20) or more .."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1553115817, "post_id": 55269681, "comment_id": 97271438, "body": "What do you mean by &quot;more than 3 value&quot;? Do you mean the <code>Text</code> property must be more than 3 characters? Or are you allowing multiple values (separated by some special character) in a single string?"}, {"owner": {"reputation": 5, "user_id": 7065582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b396d170c757df92bdbb9afebc3e84?s=128&d=identicon&r=PG&f=1", "display_name": "Noo", "link": "https://stackoverflow.com/users/7065582/noo"}, "edited": false, "score": 0, "creation_date": 1553117547, "post_id": 55269681, "comment_id": 97272198, "body": "Yes.. it just allows me to add 3 characters in db i have made it nvarchar(50) so just the code isnt right..  ill need example when i add  123456.."}, {"owner": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "edited": false, "score": 0, "creation_date": 1553117649, "post_id": 55269681, "comment_id": 97272248, "body": "I think, we&#39;ll need to see the code defining your textbox."}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 1, "creation_date": 1553121833, "post_id": 55269681, "comment_id": 97273636, "body": "By the way in <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, the <i>&quot;Minimal&quot;</i> part is important.  A better way to have posted this question would be to create a simple demo app with one control in it that has whatever constraint you want.  You&#39;ll find that more people will read your question if it does contains (seemingly) hundreds of lines of code.  I will also focus people on the issue you are asking about."}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 1, "creation_date": 1553122072, "post_id": 55269681, "comment_id": 97273712, "body": "I realize that English is likely not a native language for you.  However, I suspect very few people are sure that they understand what you mean by &quot;Textbox allow more than 3 values&quot;, &quot;I need text box and it must allow more than 3 value example (20) or more&quot; and &quot;Yes.. it just allows me to add 3 characters in db i have made it nvarchar(50) so just the code isnt right.. ill need example when i add 123456&quot;.  I strongly suggest you post examples of what you expect your Textbox to accept and examples of what it should reject (and why, for all cases)."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 7065582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b396d170c757df92bdbb9afebc3e84?s=128&d=identicon&r=PG&f=1", "display_name": "Noo", "link": "https://stackoverflow.com/users/7065582/noo"}, "edited": false, "score": 0, "creation_date": 1553128918, "post_id": 55271187, "comment_id": 97275488, "body": "Can i remove the restrictions .. it doesnt matter how many characters i added... ?  Bcuz i receive error"}, {"owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "reply_to_user": {"reputation": 5, "user_id": 7065582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b396d170c757df92bdbb9afebc3e84?s=128&d=identicon&r=PG&f=1", "display_name": "Noo", "link": "https://stackoverflow.com/users/7065582/noo"}, "edited": false, "score": 0, "creation_date": 1553131969, "post_id": 55271187, "comment_id": 97276145, "body": "Not sure that I or anyone else can answer that question. That depends on the requirements for the application around that field. If there is meant to be no restriction to the characters entered (length or which characters are allowed) then there is no need for that Regex and its associated error message. It was there for a reason though. Requirements and reasons change, but I&#39;d be rather concerned about someone changing code they don&#39;t first understand."}, {"owner": {"reputation": 5, "user_id": 7065582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b396d170c757df92bdbb9afebc3e84?s=128&d=identicon&r=PG&f=1", "display_name": "Noo", "link": "https://stackoverflow.com/users/7065582/noo"}, "edited": false, "score": 0, "creation_date": 1553181252, "post_id": 55271187, "comment_id": 97297131, "body": "Yes know i can add more values but when i want to add treatment to client ti shows me error"}, {"owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "reply_to_user": {"reputation": 5, "user_id": 7065582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b396d170c757df92bdbb9afebc3e84?s=128&d=identicon&r=PG&f=1", "display_name": "Noo", "link": "https://stackoverflow.com/users/7065582/noo"}, "edited": false, "score": 0, "creation_date": 1553203055, "post_id": 55271187, "comment_id": 97308106, "body": "I&#39;d be looking to make a case to your employer to hire an experienced local developer short term to review issues like this and mentor you. Unfortunately StackOverflow (or this area of it) is predominantly in English and it&#39;s very difficult to understand what your exact issue is and how best to help. 15 minutes with an experienced dev in your native tongue and you&#39;d be sorted out."}], "tags": [], "owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "is_accepted": false, "score": 3, "last_activity_date": 1553121428, "creation_date": 1553121428, "answer_id": 55271187, "question_id": 55269681, "link": "https://stackoverflow.com/questions/55269681/textbox-allow-more-than-3-values/55271187#55271187", "title": "Textbox allow more than 3 values", "body": "<p>I would suggest reading up on Regular Expressions and download a Regex tool such as Expresso (<a href=\"http://www.ultrapico.com/expresso.htm\" rel=\"nofollow noreferrer\">http://www.ultrapico.com/expresso.htm</a>), or use one of the various online Regex evaluation sites.</p>\n\n<p>\"^[A-Z0-9\\-]{6}$\"</p>\n\n<p>This conflicts with what you are saying about \"expecting 3 characters\". This Regex will expect 6, and only 6 characters ranging from A-Z, 0-9, and-or a \"-\". The text message that is added to the errors collection may still say \"3 characters\" but that is a misleading message that needs to be updated. Whatever changes you do to the regular expression, you should also update the message behind language.text003, wherever that is coming from. (Resource file, database, etc.)</p>\n\n<p>If the updated text box can accept any number of characters, but still needs to be A-Z, 0-9, and \"-\" then:</p>\n\n<p>\"^[A-Z0-9\\-]*\"</p>\n\n<p>If you want to impose a maximum of 20 characters for example:</p>\n\n<p>\"^[A-Z0-9\\-]{0,20}$\"</p>\n\n<p>If you want a minimum of 6 and maximum of 20:</p>\n\n<p>\"^[A-Z0-9\\-]{6,20}$\"</p>\n\n<p>If you just want to accept any string and remove the character restrictions all-together, then delete that whole <code>if</code> block.</p>\n"}], "owner": {"reputation": 5, "user_id": 7065582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b396d170c757df92bdbb9afebc3e84?s=128&d=identicon&r=PG&f=1", "display_name": "Noo", "link": "https://stackoverflow.com/users/7065582/noo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1553121428, "creation_date": 1553113862, "last_edit_date": 1553119605, "question_id": 55269681, "link": "https://stackoverflow.com/questions/55269681/textbox-allow-more-than-3-values", "title": "Textbox allow more than 3 values", "body": "<p>I have an issue with an textbox, once it was to accept just 3 values know i have update it to nvarchar(MAX) I updated the EntityModelDB but still after this i'm receivein an error when i add more than 3 values in my textbox<br>\nHere is my code </p>\n\n<pre><code>if (!Regex.Match(item.treatments_code, @\"^[A-Z0-9\\-]{6}$\").Success)\n{\n    ret = false;\n    errors = errors.Concat(new string[] { language.text003 }).ToArray();\n}\n</code></pre>\n\n<p>Here is my error  </p>\n\n<p>An exception of type 'System.ArgumentException' occurred in DGUIGHF.dll but was not handled in user code</p>\n\n<p>Additional information: Invalid code format. 3 character, uppercase letters [A-Z] or numbers [0-9], or minus '-'.</p>\n\n<p>FormTreatments.cs</p>\n\n<pre><code>using DG.Data.Model.Helpers;\nusing DG.DentneD.Forms.Objects;\nusing DG.DentneD.Helpers;\nusing DG.DentneD.Model;\nusing DG.DentneD.Model.Entity;\nusing DG.UI.GHF;\nusing SMcMaster;\nusing System;\nusing System.Collections.Generic;\nusing System.Data;\nusing System.Diagnostics;\nusing System.Linq;\nusing System.Windows.Forms;\nusing Zuby.ADGV;\n\nnamespace DG.DentneD.Forms\n</code></pre>\n\n<p>{\n    public partial class FormTreatments : DGUIGHFForm\n    {\n        private DentneDModel _dentnedModel = null;</p>\n\n<pre><code>    private TabElement tabElement_tabTreatments = new TabElement();\n    private TabElement tabElement_tabTreatmentsPrices = new TabElement();\n\n    private readonly BoxLoader _boxLoader = null;\n\n    /// &lt;summary&gt;\n    /// Constructor\n    /// &lt;/summary&gt;\n    public FormTreatments()\n    {\n        InitializeComponent();\n        (new TabOrderManager(this)).SetTabOrder(TabOrderManager.TabScheme.AcrossFirst);\n\n        Initialize(Program.uighfApplication);\n\n        _dentnedModel = new DentneDModel();\n        _dentnedModel.LanguageHelper.LoadFromFile(Program.uighfApplication.LanguageFilename);\n\n        _boxLoader = new BoxLoader(_dentnedModel);\n    }\n\n    /// &lt;summary&gt;\n    /// Add components language\n    /// &lt;/summary&gt;\n    public override void AddLanguageComponents()\n    {\n        //main\n        LanguageHelper.AddComponent(this);\n        LanguageHelper.AddComponent(treatmentsidDataGridViewTextBoxColumn, this.GetType().Name, \"HeaderText\");\n        LanguageHelper.AddComponent(nameDataGridViewTextBoxColumn, this.GetType().Name, \"HeaderText\");\n        LanguageHelper.AddComponent(codeDataGridViewTextBoxColumn, this.GetType().Name, \"HeaderText\");\n        LanguageHelper.AddComponent(typeDataGridViewTextBoxColumn, this.GetType().Name, \"HeaderText\");\n        LanguageHelper.AddComponent(button_export);\n        //tabTreatments\n        LanguageHelper.AddComponent(tabPage_tabTreatments);\n        LanguageHelper.AddComponent(button_tabTreatments_new);\n        LanguageHelper.AddComponent(button_tabTreatments_edit);\n        LanguageHelper.AddComponent(button_tabTreatments_delete);\n        LanguageHelper.AddComponent(button_tabTreatments_save);\n        LanguageHelper.AddComponent(button_tabTreatments_cancel);\n        LanguageHelper.AddComponent(treatments_idLabel);\n        LanguageHelper.AddComponent(treatments_nameLabel);\n        LanguageHelper.AddComponent(treatments_codeLabel);\n        LanguageHelper.AddComponent(treatmentstypes_idLabel);\n        LanguageHelper.AddComponent(treatments_mexpirationLabel);\n        LanguageHelper.AddComponent(treatments_mexpirationinfoLabel);\n        LanguageHelper.AddComponent(treatments_priceLabel);\n        LanguageHelper.AddComponent(treatments_notesLabel);\n        LanguageHelper.AddComponent(taxes_idLabel);\n        LanguageHelper.AddComponent(treatments_isunitpriceCheckBox);\n        LanguageHelper.AddComponent(button_tabTreatments_unsettaxesid);\n        //tabTreatmentsPrices\n        LanguageHelper.AddComponent(tabPage_tabTreatmentsPrices);\n        LanguageHelper.AddComponent(label_tabTreatmentsPrices_filterpriceslists);\n        LanguageHelper.AddComponent(treatmentspricesidDataGridViewTextBoxColumn, this.GetType().Name, \"HeaderText\");\n        LanguageHelper.AddComponent(pricelistDataGridViewTextBoxColumn, this.GetType().Name, \"HeaderText\");\n        LanguageHelper.AddComponent(priceDataGridViewTextBoxColumn, this.GetType().Name, \"HeaderText\");\n        LanguageHelper.AddComponent(button_tabTreatmentsPrices_new);\n        LanguageHelper.AddComponent(button_tabTreatmentsPrices_edit);\n        LanguageHelper.AddComponent(button_tabTreatmentsPrices_delete);\n        LanguageHelper.AddComponent(button_tabTreatmentsPrices_save);\n        LanguageHelper.AddComponent(button_tabTreatmentsPrices_cancel);\n        LanguageHelper.AddComponent(treatmentsprices_idLabel);\n        LanguageHelper.AddComponent(treatmentspriceslists_idLabel);\n        LanguageHelper.AddComponent(treatmentsprices_priceLabel);\n    }\n\n    /// &lt;summary&gt;\n    /// Form language dictionary\n    /// &lt;/summary&gt;\n    public class FormLanguage : IDGUIGHFLanguage\n    {\n        public string exportColumnCode = \"Code\";\n        public string exportColumnType = \"Type\";\n        public string exportColumnName = \"Name\";\n        public string exportColumnPrice = \"Price\";\n        public string exportSaveFileDialogTitle = \"Save an Excel File\";\n        public string exportErrorMessage = \"Error writing file '{0}'.\";\n        public string exportErrorTitle = \"Error\";\n        public string exportSuccessMessage = \"File created. Do you want to open it with your default application?\";\n        public string exportSuccessTitle = \"Open\";\n    }\n\n    /// &lt;summary&gt;\n    /// Form language\n    /// &lt;/summary&gt;\n    public FormLanguage language = new FormLanguage();\n\n    /// &lt;summary&gt;\n    /// Initialize TabElements\n    /// &lt;/summary&gt;\n    protected override void InitializeTabElements()\n    {\n        //set Readonly OnSetEditingMode for Controls\n        DisableReadonlyCheckOnSetEditingModeControlCollection.Add(typeof(DataGridView));\n        DisableReadonlyCheckOnSetEditingModeControlCollection.Add(typeof(AdvancedDataGridView));\n\n        //set Main BindingSource\n        BindingSourceMain = vTreatmentsBindingSource;\n        GetDataSourceMain = GetDataSource_main;\n\n        //set Main TabControl\n        TabControlMain = tabControl_main;\n\n        //set Main Panels\n        PanelFiltersMain = panel_filters;\n        PanelListMain = panel_list;\n        PanelsExtraMain = null;\n\n        //set tabTreatments\n        tabElement_tabTreatments = new TabElement()\n        {\n            TabPageElement = tabPage_tabTreatments,\n            ElementItem = new TabElement.TabElementItem()\n            {\n                PanelData = panel_tabTreatments_data,\n                PanelActions = panel_tabTreatments_actions,\n                PanelUpdates = panel_tabTreatments_updates,\n\n                ParentBindingSourceList = vTreatmentsBindingSource,\n                GetParentDataSourceList = GetDataSource_main,\n\n                BindingSourceEdit = treatmentsBindingSource,\n                GetDataSourceEdit = GetDataSourceEdit_tabTreatments,\n                AfterSaveAction = AfterSaveAction_tabTreatments,\n\n                AddButton = button_tabTreatments_new,\n                UpdateButton = button_tabTreatments_edit,\n                RemoveButton = button_tabTreatments_delete,\n                SaveButton = button_tabTreatments_save,\n                CancelButton = button_tabTreatments_cancel,\n\n                Add = Add_tabTreatments,\n                Update = Update_tabTreatments,\n                Remove = Remove_tabTreatments\n            }\n        };\n\n        //set tabTreatmentsPrices\n        tabElement_tabTreatmentsPrices = new TabElement()\n        {\n            TabPageElement = tabPage_tabTreatmentsPrices,\n            ElementListItem = new TabElement.TabElementListItem()\n            {\n                PanelFilters = panel_tabTreatmentsPrices_filters,\n                PanelList = panel_tabTreatmentsPrices_list,\n\n                PanelData = panel_tabTreatmentsPrices_data,\n                PanelActions = panel_tabTreatmentsPrices_actions,\n                PanelUpdates = panel_tabTreatmentsPrices_updates,\n\n                BindingSourceList = vTreatmentsPricesBindingSource,\n                GetDataSourceList = GetDataSourceList_tabTreatmentsPrices,\n\n                BindingSourceEdit = treatmentspricesBindingSource,\n                GetDataSourceEdit = GetDataSourceEdit_tabTreatmentsPrices,\n                AfterSaveAction = AfterSaveAction_tabTreatmentsPrices,\n\n                AddButton = button_tabTreatmentsPrices_new,\n                IsAddButtonDefaultClickEventAttached = false,\n                UpdateButton = button_tabTreatmentsPrices_edit,\n                RemoveButton = button_tabTreatmentsPrices_delete,\n                SaveButton = button_tabTreatmentsPrices_save,\n                CancelButton = button_tabTreatmentsPrices_cancel,\n\n                Add = Add_tabTreatmentsPrices,\n                Update = Update_tabTreatmentsPrices,\n                Remove = Remove_tabTreatmentsPrices\n            }\n        };\n\n        //set Elements\n        TabElements.Add(tabElement_tabTreatments);\n        TabElements.Add(tabElement_tabTreatmentsPrices);\n    }\n\n    /// &lt;summary&gt;\n    /// Loader\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"sender\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"e\"&gt;&lt;/param&gt;\n    private void FormTreatments_Load(object sender, EventArgs e)\n    {\n        IsBindingSourceLoading = true;\n        advancedDataGridView_main.SortASC(advancedDataGridView_main.Columns[2]);\n        advancedDataGridView_main.SortASC(advancedDataGridView_main.Columns[1]);\n        advancedDataGridView_main.SortASC(advancedDataGridView_main.Columns[3]);\n        IsBindingSourceLoading = false;\n\n\n\n\n        PreloadView();\n\n        ReloadView();\n    }\n\n    /// &lt;summary&gt;\n    /// Preload View\n    /// &lt;/summary&gt;\n    private void PreloadView()\n    {\n        IsBindingSourceLoading = true;\n\n        _boxLoader.LoadComboBoxTreatmentsTypes(treatmentstypes_idComboBox);\n        _boxLoader.LoadComboBoxTreatmentsPricesLists(treatmentspriceslists_idComboBox);\n        _boxLoader.LoadComboBoxTaxes(taxes_idComboBox);\n\n        _boxLoader.LoadComboBoxFilterTreatmentsPricesLists(comboBox_tabTreatmentsPrices_filterPriceslists);\n\n        IsBindingSourceLoading = false;\n    }\n\n    /// &lt;summary&gt;\n    /// Reset all the tab datagrid\n    /// &lt;/summary&gt;\n    private void ResetTabsDataGrid()\n    {\n        IsBindingSourceLoading = true;\n        advancedDataGridView_tabTreatmentsPrices_list.CleanFilterAndSort();\n        advancedDataGridView_tabTreatmentsPrices_list.SortASC(advancedDataGridView_tabTreatmentsPrices_list.Columns[1]);\n        IsBindingSourceLoading = false;\n    }\n\n    /// &lt;summary&gt;\n    /// Get main list DataSource\n    /// &lt;/summary&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    private object GetDataSource_main()\n    {\n        ResetTabsDataGrid();\n\n        IEnumerable&lt;VTreatments&gt; vTreatments =\n            _dentnedModel.Treatments.List().Select(\n            r =&gt; new VTreatments\n            {\n                treatments_id = r.treatments_id,\n                code = r.treatments_code,\n\n                type = _dentnedModel.TreatmentsTypes.Find(r.treatmentstypes_id).treatmentstypes_name,\n                name = r.treatments_name\n            }).ToList();\n\n        return DGDataTableUtils.ToDataTable&lt;VTreatments&gt;(vTreatments);\n    }\n\n    /// &lt;summary&gt;\n    /// Main list current element changed hanlder\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"sender\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"e\"&gt;&lt;/param&gt;\n    private void vTreatmentsBindingSource_CurrentChanged(object sender, EventArgs e)\n    {\n        if (IsBindingSourceLoading)\n            return;\n\n        //get current itme\n        int treatments_id = -1;\n        if (vTreatmentsBindingSource.Current != null)\n        {\n            treatments_id = (((DataRowView)vTreatmentsBindingSource.Current).Row).Field&lt;int&gt;(\"treatments_id\");\n        }\n\n        //set treatments fields\n        treatments_mexpirationTextBox.Text = \"\";\n        if (treatments_id != -1)\n        {\n            treatments treatment = _dentnedModel.Treatments.Find(treatments_id);\n            treatments_mexpirationTextBox.Text = treatment.treatments_mexpiration.ToString();\n        }\n\n        //reset treatments prices filter\n        comboBox_tabTreatmentsPrices_filterPriceslists.SelectedIndex = -1;\n    }\n\n    /// &lt;summary&gt;\n    /// Export click\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"sender\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"e\"&gt;&lt;/param&gt;\n    private void button_export_Click(object sender, EventArgs e)\n    {\n        string filename = null;\n        SaveFileDialog saveFileDialog = new SaveFileDialog();\n        saveFileDialog.Filter = \"Excel|*.xls\";\n        saveFileDialog.Title = language.exportSaveFileDialogTitle; ;\n        saveFileDialog.ShowDialog();\n        filename = saveFileDialog.FileName;\n        if (!String.IsNullOrEmpty(filename))\n        {\n            Cursor.Current = Cursors.WaitCursor;\n\n            DataTable datatable = new DataTable();\n            datatable.Clear();\n            datatable.Columns.Add(language.exportColumnCode);\n            datatable.Columns.Add(language.exportColumnType);\n            datatable.Columns.Add(language.exportColumnName);\n            datatable.Columns.Add(language.exportColumnPrice);\n            foreach (treatmentspriceslists treatmentspriceslist in _dentnedModel.TreatmentsPricesLists.List().OrderBy(r =&gt; r.treatmentspriceslists_name))\n            {\n                datatable.Columns.Add(language.exportColumnPrice + \"-\" + treatmentspriceslist.treatmentspriceslists_id);\n            }\n\n            //add datatable columns\n            foreach (treatments treatment in _dentnedModel.Treatments.List().OrderBy(r =&gt; r.treatments_code))\n            {\n                DataRow row = datatable.NewRow();\n                row[language.exportColumnCode] = treatment.treatments_code;\n                row[language.exportColumnType] = _dentnedModel.TreatmentsTypes.Find(treatment.treatmentstypes_id).treatmentstypes_name;\n                row[language.exportColumnName] = treatment.treatments_name;\n                row[language.exportColumnPrice] = treatment.treatments_price;\n                foreach (treatmentspriceslists treatmentspriceslist in _dentnedModel.TreatmentsPricesLists.List().OrderBy(r =&gt; r.treatmentspriceslists_name))\n                {\n                    Nullable&lt;decimal&gt; price = null;\n                    treatmentsprices treatmentsprice = _dentnedModel.TreatmentsPrices.FirstOrDefault(r =&gt; r.treatments_id == treatment.treatments_id &amp;&amp; r.treatmentspriceslists_id == treatmentspriceslist.treatmentspriceslists_id);\n                    if (treatmentsprice != null)\n                    {\n                        price = treatmentsprice.treatmentsprices_price;\n                    }\n                    row[language.exportColumnPrice + \"-\" + treatmentspriceslist.treatmentspriceslists_id] = price;\n                }\n                datatable.Rows.Add(row);\n            }\n\n            Cursor.Current = Cursors.Default;\n\n            //export to excel\n            DataSet dataset = new DataSet();\n            dataset.Tables.Add(datatable);\n            if (!String.IsNullOrEmpty(filename))\n            {\n                try\n                {\n                    ExcelExporter.CreateWorkbook(filename, dataset);\n                }\n                catch\n                {\n                    MessageBox.Show(String.Format(language.exportErrorMessage, filename), language.exportErrorTitle, MessageBoxButtons.OK, MessageBoxIcon.Error);\n                    return;\n                }\n\n                if (MessageBox.Show(language.exportSuccessMessage, language.exportSuccessTitle, MessageBoxButtons.YesNo, MessageBoxIcon.Question, MessageBoxDefaultButton.Button2) == DialogResult.Yes)\n                {\n                    try\n                    {\n                        Process.Start(filename);\n                    }\n                    catch { }\n                }\n            }\n        }\n    }\n\n\n    #region tabTreatments\n\n    /// &lt;summary&gt;\n    /// Load the tab DataSource\n    /// &lt;/summary&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    private object GetDataSourceEdit_tabTreatments()\n    {\n        return DGUIGHFData.LoadEntityFromCurrentBindingSource&lt;treatments, DentneDModel&gt;(_dentnedModel.Treatments, vTreatmentsBindingSource, new string[] { \"treatments_id\" });\n    }\n\n    /// &lt;summary&gt;\n    /// Do actions after Save\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"item\"&gt;&lt;/param&gt;\n    private void AfterSaveAction_tabTreatments(object item)\n    {\n        DGUIGHFData.SetBindingSourcePosition&lt;treatments, DentneDModel&gt;(_dentnedModel.Treatments, item, vTreatmentsBindingSource);\n    }\n\n    /// &lt;summary&gt;\n    /// Add an item\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"item\"&gt;&lt;/param&gt;\n    private void Add_tabTreatments(object item)\n\n    {\n\n        DGUIGHFData.Add&lt;treatments, DentneDModel&gt;(_dentnedModel.Treatments, item);\n        //update mexpiration\n        if (!String.IsNullOrEmpty(treatments_mexpirationTextBox.Text))\n            ((treatments)item).treatments_mexpiration = Convert.ToByte(treatments_mexpirationTextBox.Text);\n        else\n            ((treatments)item).treatments_mexpiration = null;\n\n\n    }\n\n    /// &lt;summary&gt;\n    /// Update an item\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"item\"&gt;&lt;/param&gt;\n    private void Update_tabTreatments(object item)\n    {\n        //update mexpiration\n        if (!String.IsNullOrEmpty(treatments_mexpirationTextBox.Text))\n            ((treatments)item).treatments_mexpiration = Convert.ToByte(treatments_mexpirationTextBox.Text);\n        else\n            ((treatments)item).treatments_mexpiration = null;\n\n        DGUIGHFData.Update&lt;treatments, DentneDModel&gt;(_dentnedModel.Treatments, item);\n    }\n\n    /// &lt;summary&gt;\n    /// Remove an item\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"item\"&gt;&lt;/param&gt;\n    private void Remove_tabTreatments(object item)\n    {\n        DGUIGHFData.Remove&lt;treatments, DentneDModel&gt;(_dentnedModel.Treatments, item);\n    }\n\n    /// &lt;summary&gt;\n    /// Unset taxes_id\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"sender\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"e\"&gt;&lt;/param&gt;\n    private void button_tabTreatments_unsettaxesid_Click(object sender, EventArgs e)\n    {\n        taxes_idComboBox.SelectedIndex = -1;\n    }\n\n    #endregion\n\n\n    #region tabTreatmentsPrices\n\n    /// &lt;summary&gt;\n    /// Get tab list DataSource\n    /// &lt;/summary&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    private object GetDataSourceList_tabTreatmentsPrices()\n    {\n        object ret = null;\n\n        //get current treatment\n        int treatments_id = -1;\n        if (vTreatmentsBindingSource.Current != null)\n        {\n            treatments_id = (((DataRowView)vTreatmentsBindingSource.Current).Row).Field&lt;int&gt;(\"treatments_id\");\n        }\n\n        //get treatments\n        List&lt;treatmentsprices&gt; treatmentspricesl = new List&lt;treatmentsprices&gt;();\n        if (comboBox_tabTreatmentsPrices_filterPriceslists.SelectedIndex != -1 &amp;&amp; comboBox_tabTreatmentsPrices_filterPriceslists.SelectedIndex != 0)\n        {\n            int treatmentspriceslists_id = Convert.ToInt32(comboBox_tabTreatmentsPrices_filterPriceslists.SelectedValue);\n            treatmentspricesl = _dentnedModel.TreatmentsPrices.List(r =&gt; r.treatments_id == treatments_id &amp;&amp; r.treatmentspriceslists_id == treatmentspriceslists_id).ToList();\n        }\n        else\n            treatmentspricesl = _dentnedModel.TreatmentsPrices.List(r =&gt; r.treatments_id == treatments_id).ToList();\n        IEnumerable&lt;VTreatmentsPrices&gt; vTreatmentsPrices =\n        treatmentspricesl.Select(\n        r =&gt; new VTreatmentsPrices\n        {\n            treatmentsprices_id = r.treatmentsprices_id,\n            price = (double)r.treatmentsprices_price,\n            pricelist = _dentnedModel.TreatmentsPricesLists.Find(r.treatmentspriceslists_id).treatmentspriceslists_name\n        }).ToList();\n\n        ret = DGDataTableUtils.ToDataTable&lt;VTreatmentsPrices&gt;(vTreatmentsPrices);\n\n        return ret;\n    }\n\n    /// &lt;summary&gt;\n    /// Load the tab DataSource\n    /// &lt;/summary&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    private object GetDataSourceEdit_tabTreatmentsPrices()\n    {\n        return DGUIGHFData.LoadEntityFromCurrentBindingSource&lt;treatmentsprices, DentneDModel&gt;(_dentnedModel.TreatmentsPrices, vTreatmentsPricesBindingSource, new string[] { \"treatmentsprices_id\" });\n    }\n\n    /// &lt;summary&gt;\n    /// Do actions after Save\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"item\"&gt;&lt;/param&gt;\n    private void AfterSaveAction_tabTreatmentsPrices(object item)\n    {\n        DGUIGHFData.SetBindingSourcePosition&lt;treatmentsprices, DentneDModel&gt;(_dentnedModel.TreatmentsPrices, item, vTreatmentsPricesBindingSource);\n    }\n\n    /// &lt;summary&gt;\n    /// Add an item\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"item\"&gt;&lt;/param&gt;\n    private void Add_tabTreatmentsPrices(object item)\n    {\n        DGUIGHFData.Add&lt;treatmentsprices, DentneDModel&gt;(_dentnedModel.TreatmentsPrices, item);\n    }\n\n    /// &lt;summary&gt;\n    /// Update an item\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"item\"&gt;&lt;/param&gt;\n    private void Update_tabTreatmentsPrices(object item)\n    {\n        DGUIGHFData.Update&lt;treatmentsprices, DentneDModel&gt;(_dentnedModel.TreatmentsPrices, item);\n    }\n\n    /// &lt;summary&gt;\n    /// Remove an item\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"item\"&gt;&lt;/param&gt;\n    private void Remove_tabTreatmentsPrices(object item)\n    {\n        DGUIGHFData.Remove&lt;treatmentsprices, DentneDModel&gt;(_dentnedModel.TreatmentsPrices, item);\n    }\n\n    /// &lt;summary&gt;\n    /// New tab button handler\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"sender\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"e\"&gt;&lt;/param&gt;\n    private void button_tabTreatmentsPrices_new_Click(object sender, EventArgs e)\n    {\n        if (vTreatmentsBindingSource.Current != null)\n        {\n            if (AddClick(tabElement_tabTreatmentsPrices))\n            {\n                ((treatmentsprices)treatmentspricesBindingSource.Current).treatments_id = (((DataRowView)vTreatmentsBindingSource.Current).Row).Field&lt;int&gt;(\"treatments_id\");\n                if (comboBox_tabTreatmentsPrices_filterPriceslists.SelectedIndex != -1 &amp;&amp; comboBox_tabTreatmentsPrices_filterPriceslists.SelectedIndex != 0)\n                {\n                    ((treatmentsprices)treatmentspricesBindingSource.Current).treatmentspriceslists_id = Convert.ToInt32(comboBox_tabTreatmentsPrices_filterPriceslists.SelectedValue);\n                    treatmentspriceslists_idComboBox.Enabled = false;\n                }\n                treatmentspricesBindingSource.ResetBindings(true);\n            }\n        }\n    }\n\n    /// &lt;summary&gt;\n    /// Treatments prices changed\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"sender\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"e\"&gt;&lt;/param&gt;\n    private void comboBox_tabTreatmentsPrices_filterPriceslists_SelectedIndexChanged(object sender, EventArgs e)\n    {\n        if (IsBindingSourceLoading)\n            return;\n\n        ReloadTab(tabElement_tabTreatmentsPrices);\n    }\n\n    /// &lt;summary&gt;\n    /// Treatments lists changed\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"sender\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"e\"&gt;&lt;/param&gt;\n    private void treatmentspriceslists_idComboBox_SelectedIndexChanged(object sender, EventArgs e)\n    {\n        if (IsBindingSourceLoading)\n            return;\n\n        if (treatmentspriceslists_idComboBox.SelectedIndex != -1 &amp;&amp; (tabElement_tabTreatmentsPrices.CurrentEditingMode == EditingMode.C || tabElement_tabTreatmentsPrices.CurrentEditingMode == EditingMode.U))\n        {\n            int treatments_id = -1;\n            if (vTreatmentsBindingSource.Current != null)\n            {\n                treatments_id = (((DataRowView)vTreatmentsBindingSource.Current).Row).Field&lt;int&gt;(\"treatments_id\");\n            }\n            if (treatments_id != -1)\n            {\n                treatments treatments = _dentnedModel.Treatments.Find(treatments_id);\n                treatmentspriceslists treatmentspriceslist = _dentnedModel.TreatmentsPricesLists.Find(treatmentspriceslists_idComboBox.SelectedValue);\n                if (treatments != null &amp;&amp; treatmentspriceslist != null)\n                {\n                    ((treatmentsprices)treatmentspricesBindingSource.Current).treatmentspriceslists_id = treatmentspriceslist.treatmentspriceslists_id;\n                    ((treatmentsprices)treatmentspricesBindingSource.Current).treatmentsprices_price = Math.Round(treatments.treatments_price * treatmentspriceslist.treatmentspriceslists_multiplier, 2);\n                }\n                treatmentspricesBindingSource.ResetBindings(true);\n            }\n        }\n    }\n\n\n\n    #endregion\n\n    private void button_tabTreatments_save_Click(object sender, EventArgs e)\n    {\n\n    }\n\n    private void treatments_codeTextBox_TextChanged(object sender, EventArgs e)\n    {\n\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "asp.net-mvc", "routes", "asp.net-web-api2", "attributerouting"], "comments": [{"owner": {"reputation": 387, "user_id": 7303452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHgsn.jpg?s=128&g=1", "display_name": "Hamlet Leon", "link": "https://stackoverflow.com/users/7303452/hamlet-leon"}, "edited": false, "score": 0, "creation_date": 1553113370, "post_id": 55269517, "comment_id": 97270198, "body": "You can just add [RoutePrefix(&quot;api/[controller]&quot;)] to allow the RouteConfig to do his own work."}, {"owner": {"reputation": 2579, "user_id": 88289, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2430f108035a5de4a18595bac2034daf?s=128&d=identicon&r=PG", "display_name": "pmcilreavy", "link": "https://stackoverflow.com/users/88289/pmcilreavy"}, "edited": false, "score": 0, "creation_date": 1553113520, "post_id": 55269517, "comment_id": 97270273, "body": "Can you explain more why you need to return a <i>View</i> and how you are calling this Api action. It sounds weird."}, {"owner": {"reputation": 896, "user_id": 7947315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a39d2c03f27e514282f7201612412288?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/7947315/daniel"}, "edited": false, "score": 1, "creation_date": 1553113682, "post_id": 55269517, "comment_id": 97270364, "body": "Attribute routing will override the traditional router, so not sure why RouteConfig is provided here"}, {"owner": {"reputation": 404, "user_id": 5360237, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/286aa1fb2d6a9e922c7a3a0a1649de1a?s=128&d=identicon&r=PG&f=1", "display_name": "Dumber_Texan2", "link": "https://stackoverflow.com/users/5360237/dumber-texan2"}, "reply_to_user": {"reputation": 2579, "user_id": 88289, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2430f108035a5de4a18595bac2034daf?s=128&d=identicon&r=PG", "display_name": "pmcilreavy", "link": "https://stackoverflow.com/users/88289/pmcilreavy"}, "edited": false, "score": 0, "creation_date": 1553113884, "post_id": 55269517, "comment_id": 97270452, "body": "@pmcilreavy I&#39;m calling this from a URL in an email. Instead of returning Ok(&quot;Success&quot;), I need to return a View with a message that can be read. The View then needs to be closed by JavaScript."}, {"owner": {"reputation": 2579, "user_id": 88289, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2430f108035a5de4a18595bac2034daf?s=128&d=identicon&r=PG", "display_name": "pmcilreavy", "link": "https://stackoverflow.com/users/88289/pmcilreavy"}, "edited": false, "score": 0, "creation_date": 1553114144, "post_id": 55269517, "comment_id": 97270593, "body": "Try adding <code>[FromQuery]</code> in front of each string parameter, i.e. <code>MyTestOne([FromQuery] string value1, [FromQuery] string value2)</code>. This will give a hint to asp.net to get these values from the querystring."}, {"owner": {"reputation": 404, "user_id": 5360237, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/286aa1fb2d6a9e922c7a3a0a1649de1a?s=128&d=identicon&r=PG&f=1", "display_name": "Dumber_Texan2", "link": "https://stackoverflow.com/users/5360237/dumber-texan2"}, "reply_to_user": {"reputation": 896, "user_id": 7947315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a39d2c03f27e514282f7201612412288?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/7947315/daniel"}, "edited": false, "score": 0, "creation_date": 1553114145, "post_id": 55269517, "comment_id": 97270595, "body": "@Daniel I assume it is needed to return the Index page for the HomeController. The Index page then links to API instructions etc..."}, {"owner": {"reputation": 404, "user_id": 5360237, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/286aa1fb2d6a9e922c7a3a0a1649de1a?s=128&d=identicon&r=PG&f=1", "display_name": "Dumber_Texan2", "link": "https://stackoverflow.com/users/5360237/dumber-texan2"}, "reply_to_user": {"reputation": 387, "user_id": 7303452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHgsn.jpg?s=128&g=1", "display_name": "Hamlet Leon", "link": "https://stackoverflow.com/users/7303452/hamlet-leon"}, "edited": false, "score": 0, "creation_date": 1553114540, "post_id": 55269517, "comment_id": 97270813, "body": "@HamletLeon Thanks, but [RoutePrefix(&quot;api/[Controller]&quot;)] did not work."}, {"owner": {"reputation": 404, "user_id": 5360237, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/286aa1fb2d6a9e922c7a3a0a1649de1a?s=128&d=identicon&r=PG&f=1", "display_name": "Dumber_Texan2", "link": "https://stackoverflow.com/users/5360237/dumber-texan2"}, "reply_to_user": {"reputation": 2579, "user_id": 88289, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2430f108035a5de4a18595bac2034daf?s=128&d=identicon&r=PG", "display_name": "pmcilreavy", "link": "https://stackoverflow.com/users/88289/pmcilreavy"}, "edited": false, "score": 0, "creation_date": 1553114779, "post_id": 55269517, "comment_id": 97270939, "body": "@pmcilreavy I can&#39;t add [FromQuery]. It could not be found."}, {"owner": {"reputation": 387, "user_id": 7303452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHgsn.jpg?s=128&g=1", "display_name": "Hamlet Leon", "link": "https://stackoverflow.com/users/7303452/hamlet-leon"}, "edited": false, "score": 0, "creation_date": 1553115031, "post_id": 55269517, "comment_id": 97271045, "body": "@Dumber_Texan2 did you add the controller with the Add Controller option of the VStudio ? If you are using VSCode do you create the folder of that controller in Views?"}, {"owner": {"reputation": 404, "user_id": 5360237, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/286aa1fb2d6a9e922c7a3a0a1649de1a?s=128&d=identicon&r=PG&f=1", "display_name": "Dumber_Texan2", "link": "https://stackoverflow.com/users/5360237/dumber-texan2"}, "edited": false, "score": 0, "creation_date": 1553115060, "post_id": 55269517, "comment_id": 97271060, "body": "If I add [RoutePrefix(&quot;Manage&quot;)], it works as expected. This leads me to believe that perhaps RouteConfig is overriding AttributeRouting or something."}, {"owner": {"reputation": 404, "user_id": 5360237, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/286aa1fb2d6a9e922c7a3a0a1649de1a?s=128&d=identicon&r=PG&f=1", "display_name": "Dumber_Texan2", "link": "https://stackoverflow.com/users/5360237/dumber-texan2"}, "reply_to_user": {"reputation": 387, "user_id": 7303452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHgsn.jpg?s=128&g=1", "display_name": "Hamlet Leon", "link": "https://stackoverflow.com/users/7303452/hamlet-leon"}, "edited": false, "score": 0, "creation_date": 1553115245, "post_id": 55269517, "comment_id": 97271152, "body": "@HamletLeon Yes, I added an empty MVC 5 Controller using VS. I then added the View. The controller and View works if I hit it like so. <a href=\"https://api.domain.com/Manage/TestOne?value1=foo&amp;value2=bar\" rel=\"nofollow noreferrer\">api.domain.com/Manage/TestOne?value1=foo&amp;value2=bar</a>"}, {"owner": {"reputation": 387, "user_id": 7303452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHgsn.jpg?s=128&g=1", "display_name": "Hamlet Leon", "link": "https://stackoverflow.com/users/7303452/hamlet-leon"}, "edited": false, "score": 0, "creation_date": 1553116247, "post_id": 55269517, "comment_id": 97271633, "body": "That happends becouse you need to add rules to RouteConfig that allows that your others parameters need to be optionals. If you add [FromQuery] on each parameter or use a class to manage it, you could access without parameters"}], "answers": [{"comments": [{"owner": {"reputation": 404, "user_id": 5360237, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/286aa1fb2d6a9e922c7a3a0a1649de1a?s=128&d=identicon&r=PG&f=1", "display_name": "Dumber_Texan2", "link": "https://stackoverflow.com/users/5360237/dumber-texan2"}, "edited": false, "score": 0, "creation_date": 1553189073, "post_id": 55271607, "comment_id": 97301885, "body": "Thanks! I ended up reformatting the URLs I was generating to work with my Default RouteConfig, but you are on the right track with your answer. I actually found this Stackoverflow that first alerted me to the existence of dueling configs. :) <a href=\"https://stackoverflow.com/questions/45120965/mvc-5-web-attribute-routing-is-not-working\" title=\"mvc 5 web attribute routing is not working\">stackoverflow.com/questions/45120965/&hellip;</a>"}], "tags": [], "owner": {"reputation": 6733, "user_id": 7775908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16ebbc43d25626d0bf3783211f0b8d7f?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/7775908/alexander"}, "is_accepted": true, "score": 3, "last_activity_date": 1553124494, "creation_date": 1553124494, "answer_id": 55271607, "question_id": 55269517, "link": "https://stackoverflow.com/questions/55269517/cant-get-route-to-work-in-asp-net-web-api-2-when-inheriting-controller/55271607#55271607", "title": "Can&#39;t get Route to work in ASP.Net Web API 2 when inheriting Controller", "body": "<p>It happens because you have 2 route configuration, one for <code>MVC</code> controllers and one for <code>Web API</code>. And in your case <code>Web API</code> route configuration goes first. <code>Global.asax.cs</code> looks like this</p>\n\n<pre><code>//some configs\nWebApiConfig.Register(GlobalConfiguration.Configuration);\n//some configs\nRouteConfig.RegisterRoutes(RouteTable.Routes);\n</code></pre>\n\n<p>And you must be having something like this in <code>Web API</code> route config</p>\n\n<pre><code>config.MapHttpAttributeRoutes();\n\nconfig.Routes.MapHttpRoute(\n    name: \"DefaultApi\",\n    routeTemplate: \"api/{controller}/{id}\",\n    defaults: new { id = RouteParameter.Optional }\n);\n</code></pre>\n\n<p>When you request <code>/api/Manage/TestOne</code> the <code>Web API</code> routing applies first. No attribute based route fits but the request perfectly matches to <code>DefaultApi</code> route. <code>Manage</code> matches to <code>{controller}</code> and <code>TestOne</code> goes to <code>{id}</code>. So the framework starts searching for api controller with name <code>Manage</code> like this</p>\n\n<pre><code>public class ManageController : ApiController\n</code></pre>\n\n<p>But there is not such controller and indeed you have an error</p>\n\n<pre><code>{\n    \"Message\": \"No HTTP resource was found that matches the request URI 'http://host/api/Manage/TestOne/?value1=foo&amp;value2=bar'.\",\n    \"MessageDetail\": \"No type was found that matches the controller named 'Manage'.\"\n}\n</code></pre>\n\n<p>So I can suggest you few possible solutions.</p>\n\n<p><strong>Change route configuration order</strong></p>\n\n<pre><code>//some configs\nRouteConfig.RegisterRoutes(RouteTable.Routes);\n//some configs\nWebApiConfig.Register(GlobalConfiguration.Configuration);\n</code></pre>\n\n<p>And then your example will work as expected but it may create unexpected errors because I don't know all possibles routes in your application.</p>\n\n<p><strong>Remove <code>DefaultApi</code> route</strong></p>\n\n<p>If you completely rely on attribute based routing for <code>Web API</code> you can just remove this configuration with no negative effect for you application</p>\n\n<pre><code>config.Routes.MapHttpRoute(\n    name: \"DefaultApi\",\n    routeTemplate: \"api/{controller}/{id}\",\n    defaults: new { id = RouteParameter.Optional }\n);\n</code></pre>\n\n<p><strong>Or just change prefix</strong></p>\n\n<p>If you change prefix from <code>api</code> to anything else it will work as well because it won't match <code>DefaultApi</code> route anymore</p>\n\n<pre><code>[RoutePrefix(\"view/Manage\")]\n</code></pre>\n"}], "owner": {"reputation": 404, "user_id": 5360237, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/286aa1fb2d6a9e922c7a3a0a1649de1a?s=128&d=identicon&r=PG&f=1", "display_name": "Dumber_Texan2", "link": "https://stackoverflow.com/users/5360237/dumber-texan2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 55271607, "answer_count": 1, "score": 2, "last_activity_date": 1553124494, "creation_date": 1553113102, "question_id": 55269517, "link": "https://stackoverflow.com/questions/55269517/cant-get-route-to-work-in-asp-net-web-api-2-when-inheriting-controller", "title": "Can&#39;t get Route to work in ASP.Net Web API 2 when inheriting Controller", "body": "<p>I'm trying to get this to work in my ASP.Net Web API 2 application. You will notice that this Controller inherits Controller. This is because I need to return a View instead of JSON. </p>\n\n<pre><code>[RoutePrefix(\"api/Manage\")]\npublic class ManageController : Controller\n{\n  [Route(\"TestOne\")]\n  public async Task&lt;ActionResult&gt; MyTestOne(string value1, string value2)\n  {\n    return View(\"\");\n  {\n}\n</code></pre>\n\n<p>Here is the error I'm getting.</p>\n\n<pre><code>&lt;error&gt;\n&lt;MessageDetail&gt; No type was found that matches the controller named 'Manage'.&lt;/MessageDetail&gt;\n&lt;/Error&gt;\n</code></pre>\n\n<p>I need to call the Manage Controller like so.</p>\n\n<p><a href=\"https://api.domain.com/api/Manage/TestOne?value1=foo&amp;value2=bar\" rel=\"nofollow noreferrer\">https://api.domain.com/api/Manage/TestOne?value1=foo&amp;value2=bar</a></p>\n\n<p>My RouteConfig is configured like so.</p>\n\n<pre><code>routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\nroutes.MapRoute(\n       name: \"Default\",\n       url: \"{controller}/{action}/{id}\",\n       defaults: new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }\n       );\n</code></pre>\n\n<p>NOTE: [RoutePrefix(\"api/Account\")] works in my AccountController. This is an API Controller and inherits ApiBase. </p>\n\n<p>Any help is much appreciated! Thanks!</p>\n"}, {"tags": ["c#", "task"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 5, "creation_date": 1553113142, "post_id": 55269501, "comment_id": 97270085, "body": "<a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">X Y Problem</a>.  You have Problem X, and you think Solution Y will solve it, but you can&#39;t make solution Y work, so instead of asking about X, you ask about Y.  <b>Ask us about X.</b>"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1553113488, "post_id": 55269501, "comment_id": 97270254, "body": "No, there is no way to clone a task.  Agree about the X/Y problem."}, {"owner": {"reputation": 39, "user_id": 10858025, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZO422kvW80o/AAAAAAAAAAI/AAAAAAAAAEU/XreiEApn_7c/photo.jpg?sz=128", "display_name": "Leonard Keret", "link": "https://stackoverflow.com/users/10858025/leonard-keret"}, "edited": false, "score": 0, "creation_date": 1553113675, "post_id": 55269501, "comment_id": 97270360, "body": "I have a problem X, then I solve this problem, and I want to run X again. But now, I can&#39;t run t1 again, that&#39;s why I want to duplicate t1 to t2 and then run t2."}, {"owner": {"reputation": 30188, "user_id": 3218692, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4pA4T.jpg?s=128&g=1", "display_name": "Yeldar Kurmangaliyev", "link": "https://stackoverflow.com/users/3218692/yeldar-kurmangaliyev"}, "edited": false, "score": 0, "creation_date": 1553113742, "post_id": 55269501, "comment_id": 97270392, "body": "@LeonardKeret They mean &quot;what exactly are you trying to achieve by cloning a task?&quot;."}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1553113770, "post_id": 55269501, "comment_id": 97270401, "body": "When you solve the problem X, you run code to setup and solve it.  To do it a second time, I believe you need to run that code again.  Put the code in a function that returns a task"}, {"owner": {"reputation": 2736, "user_id": 6560579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8333bafdc079cc54ededd323a6993fe7?s=128&d=identicon&r=PG&f=1", "display_name": "Ackdari", "link": "https://stackoverflow.com/users/6560579/ackdari"}, "edited": false, "score": 0, "creation_date": 1553113841, "post_id": 55269501, "comment_id": 97270434, "body": "Why can&#39;t you create the second <code>Task</code> like the first one?"}, {"owner": {"reputation": 2287, "user_id": 3697604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba861fd9c4a0282daf790ff90b75bfe?s=128&d=identicon&r=PG&f=1", "display_name": "willaien", "link": "https://stackoverflow.com/users/3697604/willaien"}, "edited": false, "score": 0, "creation_date": 1553113851, "post_id": 55269501, "comment_id": 97270438, "body": "Instead of worrying about cloning tasks, create a task factory that returns these tasks you want to run more than once and run each one once?"}, {"owner": {"reputation": 39, "user_id": 10858025, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZO422kvW80o/AAAAAAAAAAI/AAAAAAAAAEU/XreiEApn_7c/photo.jpg?sz=128", "display_name": "Leonard Keret", "link": "https://stackoverflow.com/users/10858025/leonard-keret"}, "edited": false, "score": 0, "creation_date": 1553121891, "post_id": 55269501, "comment_id": 97273653, "body": "What I am trying to achieve is that I can run the code again. Let&#39;s say I run something, there is an error, I show it to the user, he fixes it, and then I want to run his last action/task again."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 10858025, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZO422kvW80o/AAAAAAAAAAI/AAAAAAAAAEU/XreiEApn_7c/photo.jpg?sz=128", "display_name": "Leonard Keret", "link": "https://stackoverflow.com/users/10858025/leonard-keret"}, "edited": false, "score": 0, "creation_date": 1553121611, "post_id": 55269674, "comment_id": 97273575, "body": "I guess the answer to my question is: No, but this is the closest one."}, {"owner": {"reputation": 4708, "user_id": 2088673, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7sLX7.png?s=128&g=1", "display_name": "kernowcode", "link": "https://stackoverflow.com/users/2088673/kernowcode"}, "edited": false, "score": 0, "creation_date": 1572451854, "post_id": 55269674, "comment_id": 103566316, "body": "With the &#39;method&#39; that needs to call the same task more than once.  Instead of passing in the Task, pass in a function that returns the task, deferring the task creation.  Within the method call this function to create new instances of the task. i.e. DoSomethingWithATask(() =&gt; myTargetClass.TaskMethod()).  Inside the method call the func() i.e. await func(); await func().  They will be both different instances of the Task."}], "tags": [], "owner": {"reputation": 2579, "user_id": 88289, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2430f108035a5de4a18595bac2034daf?s=128&d=identicon&r=PG", "display_name": "pmcilreavy", "link": "https://stackoverflow.com/users/88289/pmcilreavy"}, "is_accepted": true, "score": 6, "last_activity_date": 1553113840, "creation_date": 1553113840, "answer_id": 55269674, "question_id": 55269501, "link": "https://stackoverflow.com/questions/55269501/clone-or-duplicate-a-task-in-c/55269674#55269674", "title": "Clone or duplicate a task in c#", "body": "<p>Do you truly need to <em>clone</em> a task? If not then one way to achieve the same outcome would be to first create an Action and then create two tasks that take the same Action.</p>\n\n<pre><code>var work = new Action(() =&gt;\n{\n    // do work here\n});\n\nvar t1 = new Task(work);\nvar t2 = new Task(work);\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 10858025, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZO422kvW80o/AAAAAAAAAAI/AAAAAAAAAEU/XreiEApn_7c/photo.jpg?sz=128", "display_name": "Leonard Keret", "link": "https://stackoverflow.com/users/10858025/leonard-keret"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 0, "closed_date": 1553121152, "accepted_answer_id": 55269674, "answer_count": 1, "score": -3, "last_activity_date": 1553113840, "creation_date": 1553113049, "question_id": 55269501, "link": "https://stackoverflow.com/questions/55269501/clone-or-duplicate-a-task-in-c", "closed_reason": "Needs details or clarity", "title": "Clone or duplicate a task in c#", "body": "<p>Because task can not run twice (it would throw an exception). I am creating ahead 2 tasks.\nIs there a nice way to duplicate a task instead, something maybe like that:</p>\n\n<pre><code>    Task t1 = new Task();\n    Task t2 = new Task(t1);\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "entity-framework-6", "entity-framework-migrations"], "comments": [{"owner": {"reputation": 2579, "user_id": 88289, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2430f108035a5de4a18595bac2034daf?s=128&d=identicon&r=PG", "display_name": "pmcilreavy", "link": "https://stackoverflow.com/users/88289/pmcilreavy"}, "edited": false, "score": 0, "creation_date": 1553113301, "post_id": 55269485, "comment_id": 97270165, "body": "I think you need to show more code of how your configuring the table relationships in C# and pushing the schema to the Db."}, {"owner": {"reputation": 427, "user_id": 9916663, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZZtOKC8mWPk/AAAAAAAAAAI/AAAAAAAAGaw/q8uM6m6Guoo/photo.jpg?sz=128", "display_name": "steve", "link": "https://stackoverflow.com/users/9916663/steve"}, "reply_to_user": {"reputation": 2579, "user_id": 88289, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2430f108035a5de4a18595bac2034daf?s=128&d=identicon&r=PG", "display_name": "pmcilreavy", "link": "https://stackoverflow.com/users/88289/pmcilreavy"}, "edited": false, "score": 0, "creation_date": 1553114004, "post_id": 55269485, "comment_id": 97270509, "body": "@pmcilreavy do you mean by DbContext class? I have not done any configuration for table relationships. If you mean <code>Product</code> and <code>IdentityUser</code> please ignore them for now"}], "answers": [{"comments": [{"owner": {"reputation": 427, "user_id": 9916663, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZZtOKC8mWPk/AAAAAAAAAAI/AAAAAAAAGaw/q8uM6m6Guoo/photo.jpg?sz=128", "display_name": "steve", "link": "https://stackoverflow.com/users/9916663/steve"}, "edited": false, "score": 0, "creation_date": 1553114352, "post_id": 55269599, "comment_id": 97270710, "body": "I get this error <code>To change the IDENTITY property of a column, the column needs to be dropped and recreated.</code> and in my other tables I have not had to specify attributes for keys. EF automatically recognises Id as PK and stores FK for objects"}], "tags": [], "owner": {"reputation": 4535, "user_id": 25650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f52d9bce4427e6a0e36a0f7d78ec6ae?s=128&d=identicon&r=PG", "display_name": "Andrew Lewis", "link": "https://stackoverflow.com/users/25650/andrew-lewis"}, "is_accepted": false, "score": 0, "last_activity_date": 1553113487, "creation_date": 1553113487, "answer_id": 55269599, "question_id": 55269485, "link": "https://stackoverflow.com/questions/55269485/how-do-i-store-a-list-of-objects-in-field-using-entity-framework-6/55269599#55269599", "title": "How do I store a list of objects in field using Entity Framework 6", "body": "<p>Change your OrderProduct class, then regenerate your migration:</p>\n\n<pre><code>public class OrderProduct\n{\n    [Key]\n    public int Id { get; set; }\n    public int OrderId {get;set;}\n    [ForeignKey(nameof(OrderId))]\n    public virtual Order Order { get; set; }\n    public Product Product { get; set; }\n    public int Quantity { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 427, "user_id": 9916663, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZZtOKC8mWPk/AAAAAAAAAAI/AAAAAAAAGaw/q8uM6m6Guoo/photo.jpg?sz=128", "display_name": "steve", "link": "https://stackoverflow.com/users/9916663/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 472, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1553114300, "creation_date": 1553112995, "last_edit_date": 1553114300, "question_id": 55269485, "link": "https://stackoverflow.com/questions/55269485/how-do-i-store-a-list-of-objects-in-field-using-entity-framework-6", "title": "How do I store a list of objects in field using Entity Framework 6", "body": "<p>I am trying to code a payment process for an e-commerce solution and I want to gather all products in the shopping cart, but then inside a <code>List&lt;OrderProducts&gt;</code> and then store that list into an an object <code>Order</code>. </p>\n\n<p>The POCO classes are below:</p>\n\n<p><strong>Order.cs</strong></p>\n\n<pre><code>public class Order\n{\n    public int Id { get; set; }\n    public double TotalAmount { get; set; }\n    public IdentityUser UserAccount { get; set; }\n    public virtual ICollection&lt;OrderProduct&gt; OrderProduct { get; set; }\n    public DateTime OrderDate { get; set; }\n    public bool IsComplete { get; set; }\n}\n</code></pre>\n\n<p><strong>OrderProduct.cs</strong></p>\n\n<pre><code>public class OrderProduct\n{\n    public int Id { get; set; }\n    public Order Order { get; set; }\n    public Product Product { get; set; }\n    public int Quantity { get; set; }\n}\n</code></pre>\n\n<p>After running migrations and updating the database, it seems the <code>OrderProduct</code> column in the <code>Order</code> table does not even show in the database design. </p>\n\n<p>Can someone please help or give a better solution based on the scenario above?</p>\n"}, {"tags": ["c#", "jquery", "asp.net-mvc"], "answers": [{"comments": [{"owner": {"reputation": 387, "user_id": 1965995, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d8a76a6824dda912bd34885d660478a1?s=128&d=identicon&r=PG", "display_name": "Jois_Cool", "link": "https://stackoverflow.com/users/1965995/jois-cool"}, "edited": false, "score": 0, "creation_date": 1553114122, "post_id": 55269655, "comment_id": 97270577, "body": "I am expecting the form data has  a whole to be passed   to controller for data saving while i programmatically invoke submit in the form"}, {"owner": {"reputation": 398, "user_id": 6237168, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156853288825608/picture?type=large", "display_name": "Nicolay", "link": "https://stackoverflow.com/users/6237168/nicolay"}, "reply_to_user": {"reputation": 387, "user_id": 1965995, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d8a76a6824dda912bd34885d660478a1?s=128&d=identicon&r=PG", "display_name": "Jois_Cool", "link": "https://stackoverflow.com/users/1965995/jois-cool"}, "edited": false, "score": 0, "creation_date": 1553114390, "post_id": 55269655, "comment_id": 97270732, "body": "Try $(&#39;#saveStatus&#39;).serialize();"}, {"owner": {"reputation": 387, "user_id": 1965995, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d8a76a6824dda912bd34885d660478a1?s=128&d=identicon&r=PG", "display_name": "Jois_Cool", "link": "https://stackoverflow.com/users/1965995/jois-cool"}, "edited": false, "score": 0, "creation_date": 1553196645, "post_id": 55269655, "comment_id": 97305463, "body": "No. I am trying some other method using ajax"}], "tags": [], "owner": {"reputation": 398, "user_id": 6237168, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156853288825608/picture?type=large", "display_name": "Nicolay", "link": "https://stackoverflow.com/users/6237168/nicolay"}, "is_accepted": false, "score": 0, "last_activity_date": 1553114425, "last_edit_date": 1553114425, "creation_date": 1553113746, "answer_id": 55269655, "question_id": 55269428, "link": "https://stackoverflow.com/questions/55269428/form-tag-is-not-being-populated/55269655#55269655", "title": "Form tag is not being populated", "body": "<p>Looks correct to me, you could try something like this to get a specific property.</p>\n\n<pre><code>$('#saveStatus').attr('id');\n</code></pre>\n\n<p>That should return the same ID that you are using as your selector.</p>\n\n<pre><code>$('#saveStatus').serialize();\n</code></pre>\n\n<p>This should give you all the form data as key value pairs</p>\n"}], "owner": {"reputation": 387, "user_id": 1965995, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d8a76a6824dda912bd34885d660478a1?s=128&d=identicon&r=PG", "display_name": "Jois_Cool", "link": "https://stackoverflow.com/users/1965995/jois-cool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553114425, "creation_date": 1553112723, "last_edit_date": 1553114175, "question_id": 55269428, "link": "https://stackoverflow.com/questions/55269428/form-tag-is-not-being-populated", "title": "Form tag is not being populated", "body": "<p>I am trying to get reference to my form based on form id using jquery but it is failing to reference the form when I use in developer tools.Any help in much appreciated.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7EmzL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7EmzL.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code> @model Models.ViewModel\n\n@using (Ajax.BeginForm(\"TermsAndConditions\", \"TermsAndConditions\", new AjaxOptions() { HttpMethod = \"post\", OnSuccess = \"Save\" }, new { id = \"saveStatus\" }))\n{\n    &lt;div class=\"row-container\"&gt;\n\n\n         /* My UI elements */\n\n\n    &lt;/div&gt;\n\n\n    @Html.Partial(\"_SubmitButtonPanel\", \"coverage-server-message\")\n}\n\n@Html.HiddenFor(m =&gt; m.Id)\n\n@Scripts.Render(\"~/bundles/datepicker\")\n\n&lt;script type=\"text/javascript\"&gt;\n    $(function () {\n        $('#rdate').datepicker({\n            defaultDate: '@Model.RDate',\n            showClose: true,\n            showClear: true,\n            toolbarPlacement: 'top'\n        });\n\n        $('#cdate').datepicker({\n            defaultDate: '@Model.CDate',\n            showClose: true,\n            showClear: true,\n            toolbarPlacement: 'top'\n        });\n    });\n\n    function CheckSave(data) {\n\n        if (data.success) {\n            $('#coverage-server-message').text(\"Successful save!\");\n        }\n        else {\n            alert(\"Something went wrong!\");\n        }\n    }\n\n    var formId = '#saveStatus'\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Ideally I am expecting some form to be generated with my first line of code.But its not happening.</p>\n\n<pre><code>&lt;form action=\"/[controller]/[method]/1?Length=12\" data-ajax=\"true\" data-ajax-method=\"post\" data-ajax-success=\"CheckSaveStatusEndorsements\" id=\"saveStatus\" method=\"post\"&gt; \n</code></pre>\n"}, {"tags": ["c#", "json.net", "nreco"], "comments": [{"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1553113512, "post_id": 55269379, "comment_id": 97270268, "body": "This is probably a duplicate of <a href=\"https://stackoverflow.com/q/54441810/3744182\">Token PropertyName in state Property would result in an invalid JSON object. when using custom <code>JsonConverter&lt;T&gt;</code></a> in that you need to call <code>WriteRawValue()</code> instead of <code>WriteRaw()</code>.  Can&#39;t say for sure without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1553113610, "post_id": 55269379, "comment_id": 97270324, "body": "OK, from your answer it looks like <code>WriteRawValue()</code> was the answer.  Shall I make this a duplicate then?"}, {"owner": {"reputation": 1608, "user_id": 820068, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4S74q.jpg?s=128&g=1", "display_name": "Wesley Long", "link": "https://stackoverflow.com/users/820068/wesley-long"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1553113622, "post_id": 55269379, "comment_id": 97270331, "body": "@dbc - You&#39;re absolutely correct.  I found a blog post on the existence of this issue / bug / whatever in my answer below.  Seeing this answer, though, makes it make more sense.  Thank you."}, {"owner": {"reputation": 1608, "user_id": 820068, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4S74q.jpg?s=128&g=1", "display_name": "Wesley Long", "link": "https://stackoverflow.com/users/820068/wesley-long"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1553113657, "post_id": 55269379, "comment_id": 97270356, "body": "Yes, it&#39;s a duplicate.  Not sure why I didn&#39;t find that answer in the searches I made."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1553113717, "post_id": 55269379, "comment_id": 97270382, "body": "Probably because your code doesn&#39;t throw an exception, which was the symptom in the other question."}, {"owner": {"reputation": 1608, "user_id": 820068, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4S74q.jpg?s=128&g=1", "display_name": "Wesley Long", "link": "https://stackoverflow.com/users/820068/wesley-long"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1553113772, "post_id": 55269379, "comment_id": 97270403, "body": "@dbc, oddly enough:  After I made this post, I added another property &quot;below&quot; the one in my post, and it started throwing an exception, then.  Prior to that, it had no problem writing invalid JSON to its output."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1553113917, "post_id": 55269379, "comment_id": 97270467, "body": "Sometimes <a href=\"https://www.newtonsoft.com/json/help/html/P_Newtonsoft_Json_JsonWriter_AutoCompleteOnClose.htm\" rel=\"nofollow noreferrer\"><code>JsonWriter.AutoCompleteOnClose = true</code></a> (which is <a href=\"https://github.com/JamesNK/Newtonsoft.Json/blob/master/Src/Newtonsoft.Json/JsonWriter.cs#L353\" rel=\"nofollow noreferrer\">the default</a>) can obscure bugs in JSON converters when the bug occurs writing the very last item in the file."}, {"owner": {"reputation": 1608, "user_id": 820068, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4S74q.jpg?s=128&g=1", "display_name": "Wesley Long", "link": "https://stackoverflow.com/users/820068/wesley-long"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1553114023, "post_id": 55269379, "comment_id": 97270523, "body": "@dbc - Thanks!  I&#39;m going to remember that one!"}], "owner": {"reputation": 1608, "user_id": 820068, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4S74q.jpg?s=128&g=1", "display_name": "Wesley Long", "link": "https://stackoverflow.com/users/820068/wesley-long"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "closed_date": 1553113680, "answer_count": 0, "score": 0, "last_activity_date": 1553113479, "creation_date": 1553112547, "question_id": 55269379, "link": "https://stackoverflow.com/questions/55269379/json-net-writeraw-putting-extra-data-and-closing-bracket-on-output", "closed_reason": "Duplicate", "title": "JSON.NET WriteRaw putting extra data and closing bracket on output", "body": "<p>So I've made a custom JsonConverter that seems to do just perfectly serializing an object and deserializing it.</p>\n\n<p>Specifically, I'm serializing an FFProbe output via NReco.VideoInfo:</p>\n\n<pre><code>public class NMediaInfoConverter : JsonConverter\n{  \n     public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n    { \n        var n = ((MediaInfo) value).Result.CreateNavigator();\n        n.MoveToRoot();\n        var xDoc = new XmlDocument();\n        xDoc.Load(n.ReadSubtree());\n\n        writer.WriteRaw(JsonConvert.SerializeXmlNode(xDoc, serializer.Formatting)); \n    }\n</code></pre>\n\n<p>And if I serialize it thusly:</p>\n\n<pre><code>File.WriteAllText(\"myfile.json\"), JsonConvert.SerializeObject(videoInfo, Formatting.Indented, new NMediaInfoConverter()));\n</code></pre>\n\n<p>Life is good.  The files are perfect, and they deserialize without a problem.</p>\n\n<p>Now if I make an encapsulating class, and decorate the property with the NMediaInfoConverter:</p>\n\n<pre><code>class MyMediaInfo\n{\n    [JsonConverter(typeof(NMediaInfoConverter))]\n    public NReco.VideoInfo.MediaInfo NMediaInfo { get; set; }\n}\n</code></pre>\n\n<p>At the very end of my JSON, I get an extra space, \"null\", a linefeed, and an extra closing bracket:</p>\n\n<pre><code> null\n</code></pre>\n\n<p>}</p>\n\n<p>Am I missing the point, somewhere?</p>\n"}, {"tags": ["c#", "lambda"], "answers": [{"comments": [{"owner": {"reputation": 593, "user_id": 6534541, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/561c59a13a698b9777eb0b88d2e29158?s=128&d=identicon&r=PG&f=1", "display_name": "I&#39;m here for Winter Hats", "link": "https://stackoverflow.com/users/6534541/im-here-for-winter-hats"}, "edited": false, "score": 0, "creation_date": 1553112783, "post_id": 55269404, "comment_id": 97269891, "body": "I did try that, it throws the error <code>cannot implicitly convert type System.Collections.Generic.List&lt;AppApi.PressReleases&gt; to AppApi.PressReleases</code>."}, {"owner": {"reputation": 593, "user_id": 6534541, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/561c59a13a698b9777eb0b88d2e29158?s=128&d=identicon&r=PG&f=1", "display_name": "I&#39;m here for Winter Hats", "link": "https://stackoverflow.com/users/6534541/im-here-for-winter-hats"}, "edited": false, "score": 0, "creation_date": 1553112974, "post_id": 55269404, "comment_id": 97270009, "body": "I completely overlooked that although it was right there in the error message. Was too focused on the lambda. Will mark as the answer, thank!"}], "tags": [], "owner": {"reputation": 896, "user_id": 7947315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a39d2c03f27e514282f7201612412288?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/7947315/daniel"}, "is_accepted": true, "score": 1, "last_activity_date": 1553112858, "last_edit_date": 1553112858, "creation_date": 1553112631, "answer_id": 55269404, "question_id": 55269319, "link": "https://stackoverflow.com/questions/55269319/webapi-lambda-with-datamodel-and-entitiy/55269404#55269404", "title": "WebApi Lambda with DataModel and Entitiy", "body": "<p><code>FirstOrDefault</code> as name implies will return the first record found or null</p>\n\n<p>To return all results you should use the below LINQ statement</p>\n\n<pre><code>return entities.PressReleases.Where(e =&gt; e.ShortDescription.Contains(criteria)).ToList(); \n</code></pre>\n\n<p><code>.Where()</code> to specify our filter condition and <code>.ToList()</code> to execute against our database and return the results</p>\n\n<p>And now since you're returning a List you must update your method signature to reflect the correct return type</p>\n\n<pre><code>public List&lt;PressReleases&gt; Get(string criteria)\n</code></pre>\n"}], "owner": {"reputation": 593, "user_id": 6534541, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/561c59a13a698b9777eb0b88d2e29158?s=128&d=identicon&r=PG&f=1", "display_name": "I&#39;m here for Winter Hats", "link": "https://stackoverflow.com/users/6534541/im-here-for-winter-hats"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 55269404, "answer_count": 1, "score": 0, "last_activity_date": 1553113144, "creation_date": 1553112289, "last_edit_date": 1553113144, "question_id": 55269319, "link": "https://stackoverflow.com/questions/55269319/webapi-lambda-with-datamodel-and-entitiy", "title": "WebApi Lambda with DataModel and Entitiy", "body": "<p>I have a WebAPI I am creating that returns all values when called by <code>/api/mediareleases</code> but I want to add a <code>QueryString</code> so that I can pull more specific data. </p>\n\n<h2>Data model</h2>\n\n<pre><code>public partial class PressReleases\n{\n    public int ID { get; set; }\n    public string PostDateShown { get; set; }\n    public string ShortDescription { get; set; }\n    public string FileName { get; set; }\n}\n</code></pre>\n\n<h2>Controller</h2>\n\n<pre><code>public IEnumerable&lt;PressReleases&gt; Get()\n{\n    using (MediaReleasesEntities entities = new MediaReleasesEntities())\n    {\n        //returns every release\n        return entities.PressReleases.ToList();\n    }\n}\n\npublic PressReleases Get(string criteria)\n{\n    using (MediaReleasesEntities entities = new MediaReleasesEntities())\n    {\n        try\n        {\n            //try to convert it to date\n            DateTime dt = DateTime.Parse(criteria);\n\n            //do something    \n        }\n        catch\n        {\n            //search by description\n            return entities.PressReleases.FirstOrDefault(e =&gt; e.ShortDescription.Contains(criteria)); \n        }\n    }\n}\n</code></pre>\n\n<p>I am wanting to either get a date and search for the date or search the description for a keyword. This currently works but I am only returning one value. I've tried using the <code>Select()</code> or <code>All()</code> in my lambda but that just returns syntax issues. How can I return every release that contains my criteria (the word \"meeting\")?</p>\n"}, {"tags": ["c#", ".net", "file"], "comments": [{"owner": {"reputation": 896, "user_id": 7947315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a39d2c03f27e514282f7201612412288?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/7947315/daniel"}, "edited": false, "score": 0, "creation_date": 1553112378, "post_id": 55269282, "comment_id": 97269704, "body": "Can we see how you are initializing your FileWatcherClass"}, {"owner": {"reputation": 109, "user_id": 8540301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c5cc7f472eb7e9d56b11787a4b4777?s=128&d=identicon&r=PG", "display_name": "Felipe Ramos", "link": "https://stackoverflow.com/users/8540301/felipe-ramos"}, "edited": false, "score": 0, "creation_date": 1553127636, "post_id": 55269282, "comment_id": 97275236, "body": "The answer below is correct. Only suggestion would be if you are going to have more than one directory your code would need to change a bit - currently you would just be instantiating a new _watcher for the new directory and loosing the previous one."}], "answers": [{"comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1553121306, "post_id": 55269335, "comment_id": 97273492, "body": "That&#39;s not the only problem, apps never change an XML file.  Text files can&#39;t be changed, they are created, renamed or deleted."}], "tags": [], "owner": {"reputation": 30138, "user_id": 71141, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e1f5d1bd28627ad2f5a9b47ef63a2dc8?s=128&d=identicon&r=PG", "display_name": "Etienne de Martel", "link": "https://stackoverflow.com/users/71141/etienne-de-martel"}, "is_accepted": true, "score": 5, "last_activity_date": 1553112359, "creation_date": 1553112359, "answer_id": 55269335, "question_id": 55269282, "link": "https://stackoverflow.com/questions/55269282/systemfilewatcher-does-not-fire-events/55269335#55269335", "title": "SystemFileWatcher does not fire events", "body": "<p>The issue is with your usage of the <code>using</code> statement:</p>\n\n<pre><code>using (_watcher = new FileSystemWatcher(directory, \"*.xml\"))\n</code></pre>\n\n<p>When execution reaches the end of the <code>using</code> block, the watcher is disposed, which means it can no longer raise events. </p>\n\n<p>Remove the using to fix your problem:</p>\n\n<pre><code>_watcher = new FileSystemWatcher(directory, \"*.xml\");\n</code></pre>\n\n<p>But that introduces the other issue of never disposing the watcher. An approach would be to implement <code>IDisposable</code> on <code>FileWatcherClass</code> and then dispose the watcher as needed:</p>\n\n<pre><code>public void Dispose()\n{\n    _watcher?.Dispose(); // if _watcher isn't null, dispose it\n}\n</code></pre>\n\n<p>Then you can just dispose your <code>FileWatcherClass</code> instance when you're done with it.</p>\n"}, {"tags": [], "owner": {"reputation": 109, "user_id": 8540301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c5cc7f472eb7e9d56b11787a4b4777?s=128&d=identicon&r=PG", "display_name": "Felipe Ramos", "link": "https://stackoverflow.com/users/8540301/felipe-ramos"}, "is_accepted": false, "score": 0, "last_activity_date": 1553140264, "creation_date": 1553140264, "answer_id": 55273511, "question_id": 55269282, "link": "https://stackoverflow.com/questions/55269282/systemfilewatcher-does-not-fire-events/55273511#55273511", "title": "SystemFileWatcher does not fire events", "body": "<p>Here is a slightly more flexible implementation.</p>\n\n<p><strong>Usage</strong>:</p>\n\n<pre><code>    static void Main(string[] args)\n    {\n        using (var watcherManager= new FileSystemWatcherManager())\n        {\n            watcherManager.OnChangedDetected += (a) =&gt;\n            {\n                // General event\n            };\n\n            watcherManager.RegisterWatcher(@\"C:\\temp\\helloworld\");\n            watcherManager.RegisterWatcher(@\"C:\\temp\\api-demo\", customChangeEvent: (s, e) =&gt;\n            {\n                // Handle change directly\n            });\n\n            Console.ReadKey();\n        };\n   }\n</code></pre>\n\n<p><strong>Implementation</strong>:</p>\n\n<pre><code>public sealed class FileSystemWatcherManager : IDisposable\n{\n    private bool _disposed = false;\n    private readonly Dictionary&lt;string, FileSystemWatcher&gt; _watchers;\n    public delegate void ChangedDetected(FileSystemEventArgs args);\n    public event ChangedDetected OnChangedDetected;\n\n    public FileSystemWatcherManager()\n    {\n        _watchers = new Dictionary&lt;string, FileSystemWatcher&gt;();\n    }\n\n    ~FileSystemWatcherManager()\n    {\n        Dispose(false);\n    }\n\n    public FileSystemWatcher RegisterWatcher(string directoryPath, string filter = \"*\", FileSystemEventHandler customChangeEvent = null)\n    {\n        if (Directory.Exists(directoryPath))\n        {\n            if (!_watchers.ContainsKey(directoryPath))\n            {\n                var watcher = new FileSystemWatcher(directoryPath, filter)\n                {\n                    EnableRaisingEvents = true,\n                    IncludeSubdirectories = true\n                };\n                watcher.NotifyFilter =  NotifyFilters.Attributes |\n                                        NotifyFilters.CreationTime |\n                                        NotifyFilters.FileName |\n                                        NotifyFilters.LastAccess |\n                                        NotifyFilters.LastWrite |\n                                        NotifyFilters.Size |\n                                        NotifyFilters.Security;\n\n                if (customChangeEvent != null)\n                    watcher.Changed += customChangeEvent;\n                else\n                    watcher.Changed += Watcher_Changed;\n\n                _watchers.Add(directoryPath, watcher);\n            }\n        }\n        else\n        {\n            throw new InvalidOperationException($\"Invalid Directory: {directoryPath}\");\n        }\n\n        return _watchers.TryGetValue(directoryPath, out FileSystemWatcher value) ? value : null;\n    }\n\n    private void Watcher_Changed(object sender, FileSystemEventArgs e)\n    {\n        OnChangedDetected?.Invoke(e);\n    }\n\n    public void Dispose()\n    {\n        Dispose(true);\n\n        GC.SuppressFinalize(this);\n    }\n\n    private void Dispose(bool disposing)\n    {\n        if (_disposed)\n        {\n            if (disposing)\n            {\n                foreach(KeyValuePair&lt;string,FileSystemWatcher&gt; pair in _watchers)\n                {\n                    pair.Value.Dispose();                       \n                }\n\n                _watchers.Clear();\n            }\n\n            _disposed = true;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1132, "user_id": 3654184, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/309413c5640fb23efe211fa9dd4c0704?s=128&d=identicon&r=PG&f=1", "display_name": "bobleujr", "link": "https://stackoverflow.com/users/3654184/bobleujr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 55269335, "answer_count": 2, "score": 0, "last_activity_date": 1553140264, "creation_date": 1553112129, "question_id": 55269282, "link": "https://stackoverflow.com/questions/55269282/systemfilewatcher-does-not-fire-events", "title": "SystemFileWatcher does not fire events", "body": "<p>I've been trying to understand why my FSW isn't firing any events. I instantiate a new object of my below class in my Application_Start and do a WatchFile() but nothing happens =(</p>\n\n<pre><code>public class FileWatcherClass\n    {\n        private FileSystemWatcher _watcher;\n        public void WatchFile(string fileName, string directory)\n        {\n            // Create a new FileSystemWatcher and set its properties.\n            using (_watcher = new FileSystemWatcher(directory, \"*.xml\"))\n            {\n                _watcher.NotifyFilter = NotifyFilters.Attributes |\n                                        NotifyFilters.CreationTime |\n                                        NotifyFilters.FileName |\n                                        NotifyFilters.LastAccess |\n                                        NotifyFilters.LastWrite |\n                                        NotifyFilters.Size |\n                                        NotifyFilters.Security;\n\n                // Add event handlers.\n                _watcher.Changed +=\n                new FileSystemEventHandler(OnChanged);\n\n                // Begin watching.\n                _watcher.EnableRaisingEvents = true;\n\n            }\n        }\n\n        // Define the event handlers.\n        public void OnChanged(object source, FileSystemEventArgs e) { \n            do something..\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "winforms", "entity-framework", "code-first"], "comments": [{"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 0, "creation_date": 1553114824, "post_id": 55269266, "comment_id": 97270958, "body": "You mention ASP.NET MVC 5 - but you also says it&#39;s a WInforms application - which is it now ?? I can&#39;t be both at the same time....."}, {"owner": {"reputation": 313, "user_id": 8428227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c46377bcfacec6ab3d7cfdeb1c8304?s=128&d=identicon&r=PG&f=1", "display_name": "Technology Researcher", "link": "https://stackoverflow.com/users/8428227/technology-researcher"}, "reply_to_user": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 0, "creation_date": 1553115090, "post_id": 55269266, "comment_id": 97271077, "body": "ow whoops that&#39;s wrong it&#39;s a winform application"}, {"owner": {"reputation": 23543, "user_id": 2281790, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pP0ow.jpg?s=128&g=1", "display_name": "Harald Coppoolse", "link": "https://stackoverflow.com/users/2281790/harald-coppoolse"}, "edited": false, "score": 0, "creation_date": 1553154597, "post_id": 55269266, "comment_id": 97281786, "body": "That it is winforms probably has nothing to do with your problem. I think it is in your dbContext. If you move these classes and your dbContext to a simple console app, do you get the same problem? Do you do something special in your dbContext? Can you edit the question: add dbContext and show how you add a Movie to the database?"}], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 8428227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c46377bcfacec6ab3d7cfdeb1c8304?s=128&d=identicon&r=PG&f=1", "display_name": "Technology Researcher", "link": "https://stackoverflow.com/users/8428227/technology-researcher"}, "edited": false, "score": 0, "creation_date": 1553112650, "post_id": 55269364, "comment_id": 97269827, "body": "is that new then? because i have another application where those attributes arent there and that application works perfectly. but thanks ."}, {"owner": {"reputation": 4119, "user_id": 10839105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5b19eba5c32ea65bb432a004aad5e3?s=128&d=identicon&r=PG", "display_name": "Manoj Choudhari", "link": "https://stackoverflow.com/users/10839105/manoj-choudhari"}, "reply_to_user": {"reputation": 313, "user_id": 8428227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c46377bcfacec6ab3d7cfdeb1c8304?s=128&d=identicon&r=PG&f=1", "display_name": "Technology Researcher", "link": "https://stackoverflow.com/users/8428227/technology-researcher"}, "edited": false, "score": 0, "creation_date": 1553112800, "post_id": 55269364, "comment_id": 97269898, "body": "This may be EF version specific issue then.  You can check versions in those different applications."}, {"owner": {"reputation": 313, "user_id": 8428227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c46377bcfacec6ab3d7cfdeb1c8304?s=128&d=identicon&r=PG&f=1", "display_name": "Technology Researcher", "link": "https://stackoverflow.com/users/8428227/technology-researcher"}, "edited": false, "score": 0, "creation_date": 1553113164, "post_id": 55269364, "comment_id": 97270096, "body": "Oke this is weird same problem cannot insert null into id. I have added both attribute in all the classes: Movie, Genre, Cast. altough the error came from Cast . When I look into microsoft sql server manager  it says id, Pk, int, not null.. I have read the blog and don&#39;t know why it is still giving errors"}, {"owner": {"reputation": 313, "user_id": 8428227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c46377bcfacec6ab3d7cfdeb1c8304?s=128&d=identicon&r=PG&f=1", "display_name": "Technology Researcher", "link": "https://stackoverflow.com/users/8428227/technology-researcher"}, "edited": false, "score": 0, "creation_date": 1553116391, "post_id": 55269364, "comment_id": 97271692, "body": "i might find an answer here <a href=\"https://stackoverflow.com/a/49711948/8428227\">stackoverflow.com/a/49711948/8428227</a> . the only problem is the sql code you see there i cannot add this when using code-first right? and or how can I check this. When modifying id column i already says increment 1 seed 1 identity true"}, {"owner": {"reputation": 4119, "user_id": 10839105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5b19eba5c32ea65bb432a004aad5e3?s=128&d=identicon&r=PG", "display_name": "Manoj Choudhari", "link": "https://stackoverflow.com/users/10839105/manoj-choudhari"}, "reply_to_user": {"reputation": 313, "user_id": 8428227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c46377bcfacec6ab3d7cfdeb1c8304?s=128&d=identicon&r=PG&f=1", "display_name": "Technology Researcher", "link": "https://stackoverflow.com/users/8428227/technology-researcher"}, "edited": false, "score": 0, "creation_date": 1553116634, "post_id": 55269364, "comment_id": 97271813, "body": "DatabaseGeneratedOption.Identity is for autoincrement.  While DatabaseGeneratedOption.None is for primary key but without auto increment.  So this answer should help i guess. !"}, {"owner": {"reputation": 313, "user_id": 8428227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c46377bcfacec6ab3d7cfdeb1c8304?s=128&d=identicon&r=PG&f=1", "display_name": "Technology Researcher", "link": "https://stackoverflow.com/users/8428227/technology-researcher"}, "edited": false, "score": 0, "creation_date": 1553117188, "post_id": 55269364, "comment_id": 97272050, "body": "i started with .identity but didn&#39;t work. I even deleted my database and did update-database again just to be sure"}, {"owner": {"reputation": 4119, "user_id": 10839105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5b19eba5c32ea65bb432a004aad5e3?s=128&d=identicon&r=PG", "display_name": "Manoj Choudhari", "link": "https://stackoverflow.com/users/10839105/manoj-choudhari"}, "reply_to_user": {"reputation": 313, "user_id": 8428227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c46377bcfacec6ab3d7cfdeb1c8304?s=128&d=identicon&r=PG&f=1", "display_name": "Technology Researcher", "link": "https://stackoverflow.com/users/8428227/technology-researcher"}, "edited": false, "score": 0, "creation_date": 1553117303, "post_id": 55269364, "comment_id": 97272093, "body": "Did you generate the migrations again ?"}, {"owner": {"reputation": 313, "user_id": 8428227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c46377bcfacec6ab3d7cfdeb1c8304?s=128&d=identicon&r=PG&f=1", "display_name": "Technology Researcher", "link": "https://stackoverflow.com/users/8428227/technology-researcher"}, "reply_to_user": {"reputation": 4119, "user_id": 10839105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5b19eba5c32ea65bb432a004aad5e3?s=128&d=identicon&r=PG", "display_name": "Manoj Choudhari", "link": "https://stackoverflow.com/users/10839105/manoj-choudhari"}, "edited": false, "score": 0, "creation_date": 1553117576, "post_id": 55269364, "comment_id": 97272214, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/190397/discussion-between-tim-clinckemalie-and-manoj-choudhari\">continue this discussion in chat</a>."}, {"owner": {"reputation": 999, "user_id": 5185389, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8c63dbf6d7df7773c3757322d70486b7?s=128&d=identicon&r=PG&f=1", "display_name": "DevilSuichiro", "link": "https://stackoverflow.com/users/5185389/devilsuichiro"}, "edited": false, "score": 1, "creation_date": 1553147288, "post_id": 55269364, "comment_id": 97279350, "body": "DatabaseGeneratedOption.Identity is the wrong one. Identity tells EF that the DBMS is going to generate the PK value, so it shouldn&#39;t (or rather: mustn&#39;t) send the PK value it got. However, your DBMS does not create the PK values, but needs a PK for the newly added row. Either re-create the database to have the column have proper autoincrement, or use DatabaseGeneratedOption.None and provide your own PK&#39;s. The [Key] data annotation should not be necessary though, since any Property named Id will be mapped as PK as per code first conventions."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 999, "user_id": 5185389, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8c63dbf6d7df7773c3757322d70486b7?s=128&d=identicon&r=PG&f=1", "display_name": "DevilSuichiro", "link": "https://stackoverflow.com/users/5185389/devilsuichiro"}, "edited": false, "score": 0, "creation_date": 1553164870, "post_id": 55269364, "comment_id": 97286951, "body": "The attribute is not needed because that&#39;s the default conventional behavior of <code>int</code> type PKs. As @DevilSuichiro mentioned, the migrations and database must be updated to reflect the model."}, {"owner": {"reputation": 313, "user_id": 8428227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c46377bcfacec6ab3d7cfdeb1c8304?s=128&d=identicon&r=PG&f=1", "display_name": "Technology Researcher", "link": "https://stackoverflow.com/users/8428227/technology-researcher"}, "edited": false, "score": 0, "creation_date": 1553239866, "post_id": 55269364, "comment_id": 97317881, "body": "for each change in one of the classes i made a migration and did update-database. i even tried to delet the full database and then again update-database;"}, {"owner": {"reputation": 313, "user_id": 8428227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c46377bcfacec6ab3d7cfdeb1c8304?s=128&d=identicon&r=PG&f=1", "display_name": "Technology Researcher", "link": "https://stackoverflow.com/users/8428227/technology-researcher"}, "edited": false, "score": 1, "creation_date": 1553357061, "post_id": 55269364, "comment_id": 97358259, "body": "well apparently it worked. I deleted the migrations folder then again enable-migration after that add-migration and upddate-database."}], "tags": [], "owner": {"reputation": 4119, "user_id": 10839105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5b19eba5c32ea65bb432a004aad5e3?s=128&d=identicon&r=PG", "display_name": "Manoj Choudhari", "link": "https://stackoverflow.com/users/10839105/manoj-choudhari"}, "is_accepted": true, "score": 2, "last_activity_date": 1553112459, "creation_date": 1553112459, "answer_id": 55269364, "question_id": 55269266, "link": "https://stackoverflow.com/questions/55269266/using-entity-framework-with-code-first-no-autoincrement/55269364#55269364", "title": "Using Entity Framework with code-first no autoincrement", "body": "<p>You will have to put below two attributes on ID column </p>\n\n<pre><code>[Key]\n[DatabaseGenerated(DatabaseGeneratedOption.Identity)]\npublic int Id { get; set; }\n</code></pre>\n\n<p>As per this <a href=\"https://programmium.wordpress.com/2017/07/17/ef-code-first-auto-increment-key/\" rel=\"nofollow noreferrer\">blog</a>:</p>\n\n<blockquote>\n  <p>If you forget to mention [Key] , assuming you have made it not null, and explicitly say > Id in C# code, EF will try to pass NULL since\n  its an identity and will throw an exception \u201c<strong>Cannot insert the value\n  NULL into column\u2026\u2026\u2026.</strong>\u201c, so can just modify\n  DatabaseGeneratedOption.Identity to DatabaseGeneratedOption.None \u2013\n  which might not fulfill the auto-increment need. So, just keep [Key]\n  and let DB generator to fill it for you. This is the approach when it\n  comes to concurrency.</p>\n</blockquote>\n\n<p>I hope this answers your query.</p>\n"}, {"comments": [{"owner": {"reputation": 313, "user_id": 8428227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c46377bcfacec6ab3d7cfdeb1c8304?s=128&d=identicon&r=PG&f=1", "display_name": "Technology Researcher", "link": "https://stackoverflow.com/users/8428227/technology-researcher"}, "edited": false, "score": 0, "creation_date": 1553115436, "post_id": 55269928, "comment_id": 97271256, "body": "nope primary key and stuff is working properly it&#39;s only auto increment. even when I try to insert manually in microsoft sql manager it also says cannot insert null into id so there is definitly not an auto increment :("}, {"owner": {"reputation": 868, "user_id": 3830432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HQyur.jpg?s=128&g=1", "display_name": "Doug F", "link": "https://stackoverflow.com/users/3830432/doug-f"}, "edited": false, "score": 1, "creation_date": 1553130223, "post_id": 55269928, "comment_id": 97275754, "body": "By the way, next time try not to make your answer a link-only answer.  Please post any relevant text in your answer."}], "tags": [], "owner": {"reputation": 11, "user_id": 10614247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OT60l.jpg?s=128&g=1", "display_name": "Preethi Panneerselvam", "link": "https://stackoverflow.com/users/10614247/preethi-panneerselvam"}, "is_accepted": false, "score": 1, "last_activity_date": 1553114894, "creation_date": 1553114894, "answer_id": 55269928, "question_id": 55269266, "link": "https://stackoverflow.com/questions/55269266/using-entity-framework-with-code-first-no-autoincrement/55269928#55269928", "title": "Using Entity Framework with code-first no autoincrement", "body": "<p>Following article explains the use of Key attribute in EF 6 and EF Core.</p>\n\n<p><a href=\"http://www.entityframeworktutorial.net/code-first/key-dataannotations-attribute-in-code-first.aspx\" rel=\"nofollow noreferrer\">http://www.entityframeworktutorial.net/code-first/key-dataannotations-attribute-in-code-first.aspx</a></p>\n"}, {"tags": [], "owner": {"reputation": 6781, "user_id": 6542896, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/AXVK0.jpg?s=128&g=1", "display_name": "Willy David Jr", "link": "https://stackoverflow.com/users/6542896/willy-david-jr"}, "is_accepted": false, "score": 0, "last_activity_date": 1582316392, "creation_date": 1582316392, "answer_id": 60345715, "question_id": 55269266, "link": "https://stackoverflow.com/questions/55269266/using-entity-framework-with-code-first-no-autoincrement/60345715#60345715", "title": "Using Entity Framework with code-first no autoincrement", "body": "<p>When I generated my table using code first, the definition of my primary key on my table is data type</p>\n\n<blockquote>\n  <p>double</p>\n</blockquote>\n\n<p>So when the table was generated, the identity was not present on the primary key.</p>\n\n<p>So what I did is reverse the migration, and change the data type to </p>\n\n<blockquote>\n  <p>integer</p>\n</blockquote>\n\n<p>In this case, the auto-increment or identity on the table was generated.</p>\n"}], "owner": {"reputation": 313, "user_id": 8428227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c46377bcfacec6ab3d7cfdeb1c8304?s=128&d=identicon&r=PG&f=1", "display_name": "Technology Researcher", "link": "https://stackoverflow.com/users/8428227/technology-researcher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6883, "favorite_count": 0, "accepted_answer_id": 55269364, "answer_count": 3, "score": 4, "last_activity_date": 1582316392, "creation_date": 1553112069, "last_edit_date": 1553117751, "question_id": 55269266, "link": "https://stackoverflow.com/questions/55269266/using-entity-framework-with-code-first-no-autoincrement", "title": "Using Entity Framework with code-first no autoincrement", "body": "<pre><code>public class Movie\n{\n    public int Id { get; set; }\n\n    [Required]\n    [StringLength(255)]\n    public string Name { get; set; }\n\n    public virtual IList&lt;Genre&gt; Genre { get; set; }\n    public virtual IList&lt;Cast&gt; cast { get; set; }\n\n    [Display(Name = \"Release Date\")]\n    public DateTime ReleaseDate { get; set; }\n}\n\npublic class Genre\n{\n    public int Id { get; set; }\n\n    [Required]\n    [StringLength(255)]\n    public String Name { get; set; }\n}\n</code></pre>\n\n<p>These are 2 of my models. They work perfectly well, except auto increment isn't implemented on the primary key.</p>\n\n<p>I'm getting error of the id being null and not be able to insert into the database which seems logic to me. Any ideas why there aren't any auto increments and secondly how can I add them? I'm using code-first migration in .NET Framework 4.6, it's a Winforms application.</p>\n"}, {"tags": ["c#", "function"], "answers": [{"tags": [], "owner": {"reputation": 3511, "user_id": 4416750, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/067235b492b0e0006e6ce8f5f8bc523a?s=128&d=identicon&r=PG&f=1", "display_name": "Lews Therin", "link": "https://stackoverflow.com/users/4416750/lews-therin"}, "is_accepted": true, "score": 2, "last_activity_date": 1553112385, "last_edit_date": 1553112385, "creation_date": 1553112041, "answer_id": 55269258, "question_id": 55269209, "link": "https://stackoverflow.com/questions/55269209/troubles-with-simple-pokemon-battle-in-c/55269258#55269258", "title": "Troubles with simple pokemon battle in C#", "body": "<p>The <code>MoreDamage()</code> method is only modifying the <code>powerup</code> parameter. You need to edit the <code>Pokemon</code>'s <code>damage</code> property instead.</p>\n\n<p>Change this:</p>\n\n<pre><code>public  void MoreDamage(powerup)\n{\n    powerup= powerup+ 5;\n}\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>public void MoreDamage(int powerup)\n{\n    damage += powerup;\n}\n</code></pre>\n\n<p>Then, change your call to <code>MoreDamage()</code> to pass the value you want to increase the Pokemon's damage by:</p>\n\n<pre><code>Squirtle.MoreDamage(5);\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 10941117, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jfY2YsGPE1Q/AAAAAAAAAAI/AAAAAAAAAGo/pTkZ4jt1BvQ/photo.jpg?sz=128", "display_name": "whatHever", "link": "https://stackoverflow.com/users/10941117/whathever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 55269258, "answer_count": 1, "score": -1, "last_activity_date": 1553112612, "creation_date": 1553111901, "last_edit_date": 1553112612, "question_id": 55269209, "link": "https://stackoverflow.com/questions/55269209/troubles-with-simple-pokemon-battle-in-c", "title": "Troubles with simple pokemon battle in C#", "body": "<p>I'm making a very simple Pokemon battle game with C#. The main idea is that every 5 turns the first <code>Pokemon</code> (<code>Squirtle</code>) powers up his damage with a function.\nBut when I compile it, the damage of <code>Squirtle</code> is the same. Any of idea what's happening?</p>\n\n<p>Here's the code:</p>\n\n<pre><code>using System;\n\nnamespace FirstProgram\n{\n    class MainClass\n    {\n        static void Main(string[]args)\n        {\n            int turn = 1;\n\n            int potion1 = 0;\n\n            //Creando y declarando Pikachu\n            Pokemon Pikachu = new Pokemon();\n\n            Pikachu.health = 190;\n\n            Pikachu.damage = 40;\n            //Creando y declarando Squirtle\n\n            Pokemon Squirtle = new Pokemon();\n\n            Squirtle.health = 190;\n\n            Squirtle.damage = 40;\n\n            while (Pikachu.health &gt; 0 &amp;&amp; Squirtle.health &gt; 0)\n            {\n                if(turn == 1)\n                {\n                    Squirtle.health = Squirtle.health - Pikachu.damage;\n\n                    turn = 0;\n\n                    potion1++;\n\n                    Console.WriteLine(\"Pikachu atacks!\");\n                    Console.WriteLine(\"Squirtle has only \" + Squirtle.health + \" PV!\");\n\n                    if(potion1 == 5)\n                    {\n                        potion1 = 0;\n                        Squirtle.MoreDamage(Squirtle.damage);\n                        Console.WriteLine(\"Squirtle damage now it's  \" + Squirtle.damage);\n                    }                 \n                }\n                else\n                {\n                    Pikachu.health = Pikachu.health - Squirtle.damage;\n                    turn = 1;\n                    Console.WriteLine(\"Squirtle atacks!\");\n                    Console.WriteLine(\"Pikachu has only \" + Pikachu.health + \" PV!\");\n                }\n            }\n\n            if(Pikachu.health &gt; 0)\n            {\n                Console.WriteLine(\"Pikachu wins!\");\n            }\n            else if(Squirtle.health &gt; 0)\n            {\n                Console.WriteLine(\"Squirtle wins!\");\n            }        \n        }\n    }\n}\n</code></pre>\n\n<h2>Pokemon.cs</h2>\n\n<pre><code>class Pokemon\n{\n    //Declarando la vida y el ataque\n    public int health;\n    public int damage;\n\n    //Creando metodo para aumentar el ataque\n    public  void MoreDamage(powerup)\n    {\n        powerup= powerup+ 5;\n    }\n}\n</code></pre>\n\n<p>And here is the output:\n<a href=\"https://i.stack.imgur.com/EsooT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EsooT.png\" alt=\"output\"></a></p>\n\n<p>I tried to do other things, like changing the code of the function, but all of the tries have the same result: the <code>damage</code> doesn't power up.</p>\n"}, {"tags": ["c#", ".net", "linq", "lambda"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1553112407, "post_id": 55269195, "comment_id": 97269716, "body": "I think you are confused about that <code>by l.RatecardId into g select new</code> line, separate that into <code>by l.RatecardId into g</code> and then <code>select new</code> on the following line and you&#39;ll realize that <code>select new</code> is LINQ&#39;s common select expression. Now, if you don&#39;t know how to code that select expression, you&#39;ll do well by reading a LINQ tutorial"}], "answers": [{"comments": [{"owner": {"reputation": 387, "user_id": 7303452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHgsn.jpg?s=128&g=1", "display_name": "Hamlet Leon", "link": "https://stackoverflow.com/users/7303452/hamlet-leon"}, "reply_to_user": {"reputation": 16418, "user_id": 899271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jNYoq.jpg?s=128&g=1", "display_name": "Enigma State", "link": "https://stackoverflow.com/users/899271/enigma-state"}, "edited": false, "score": 0, "creation_date": 1553113197, "post_id": 55269410, "comment_id": 97270116, "body": "If you group by MDMChannelCallLetters you cant get all elements individually to assign in a same property with the comma (,) separator."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1553116324, "post_id": 55269410, "comment_id": 97271670, "body": "Why <code>c.FirstOrDefault</code> instead of just <code>c.Key</code>?"}, {"owner": {"reputation": 387, "user_id": 7303452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHgsn.jpg?s=128&g=1", "display_name": "Hamlet Leon", "link": "https://stackoverflow.com/users/7303452/hamlet-leon"}, "edited": false, "score": 0, "creation_date": 1553116366, "post_id": 55269410, "comment_id": 97271680, "body": "Is the same thing. You can use Key or FirstOrDefault, never First() becouse it produce a NPE"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1553116445, "post_id": 55269410, "comment_id": 97271712, "body": "No you definitely can use <code>First</code> here because there has to be at least one item for it to create a group in the first place.  Also  you don&#39;t need the <code>ToList</code> because <code>string.Join</code> will take a <code>IEnumerable</code>."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1553116599, "post_id": 55269410, "comment_id": 97271793, "body": "And the <code>Key</code> will never be <code>null</code> so you don&#39;t need the null conditional."}], "tags": [], "owner": {"reputation": 387, "user_id": 7303452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHgsn.jpg?s=128&g=1", "display_name": "Hamlet Leon", "link": "https://stackoverflow.com/users/7303452/hamlet-leon"}, "is_accepted": true, "score": 1, "last_activity_date": 1553125778, "last_edit_date": 1553125778, "creation_date": 1553112651, "answer_id": 55269410, "question_id": 55269195, "link": "https://stackoverflow.com/questions/55269195/group-by-linq-with-combine-columns/55269410#55269410", "title": "group by linq with combine columns", "body": "<p>You have to first group it by the common properties:</p>\n\n<pre><code> var grouped = res.GroupBy(c =&gt; new {\n      c.RatecardId,\n      c.RatecardName,\n      c.RatecardDescription,\n      IsActive,\n      IsPrivate,\n      IsLocal,\n      IsNetwork\n });\n</code></pre>\n\n<p>And then you need to select your final result.\nSomething like this:</p>\n\n<pre><code>var results = grouped.Select(c =&gt; new {\n     c.Key.RatecardId,\n     c.Key.RatecardName,\n     c.Key.RatecardDescription,\n     c.Key.IsActive,\n     c.Key.IsPrivate,\n     c.Key.IsLocal,\n     c.Key.IsNetwork,\n     MDMChannelCallLetters = string.Join(\", \", c.Select(x =&gt; x.MDMChannelCallLetters)),\n     UserName = string.Join(\", \", c.Select(x =&gt; x.UserName))\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23543, "user_id": 2281790, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pP0ow.jpg?s=128&g=1", "display_name": "Harald Coppoolse", "link": "https://stackoverflow.com/users/2281790/harald-coppoolse"}, "is_accepted": false, "score": 0, "last_activity_date": 1553154366, "creation_date": 1553154366, "answer_id": 55275783, "question_id": 55269195, "link": "https://stackoverflow.com/questions/55269195/group-by-linq-with-combine-columns/55275783#55275783", "title": "group by linq with combine columns", "body": "<p>So <code>Res</code> is the sequence that contains the rows from your first table. I haven't got a clue what <code>Res</code> are, so let's define that one element is a <code>Re</code>.</p>\n\n<p>If you have a sequence of items, and you want to group them into groups of items that have something in common, you use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.groupby?view=netframework-4.7.2#System_Linq_Enumerable_GroupBy__3_System_Collections_Generic_IEnumerable___0__System_Func___0___1__System_Func___0___2__\" rel=\"nofollow noreferrer\">Enumerable.GroupBy</a>. If you sequence is in a database and you use entity framework for this, you should use <code>Queryable.GroupBy</code>. The syntax is similar</p>\n\n<p>GroupBy has a parameter <code>KeySelector</code>, which defines what properties that the groups should have in common. It also has a result selector: this selects what every group should contain.</p>\n\n<pre><code>var groupedItems = res.GroupBy(re =&gt; re =&gt; new\n\n// KeySelector: what should the elements of a group have in common\n// = make groups of Res with same RateCardId, RateCardName, ..., MdmChannelCallLetters\n{\n     Id = re.RateCardId,\n     Name = re.RateCardName,\n     Description = re.RateCardDescription,\n     ...\n     MdmChannel = re.MdmChannelCallLetters,\n},\n\n// ResultSelector: take the Key (= what do they have in common,\n// and all Res that have these values for key\n// to make one new object:\n(key, resWithThisKey) =&gt; new\n{\n    RateCardId = key.Id,\n    RateCardName = key.Name,\n    ...\n    MdmChannelCallLetters = key.MdmChannel,\n\n    // You want to concatenate the user names:\n    UserNames = String.Join(',', resWithThisKey.Select(re =&gt; re.UserName)),\n});\n</code></pre>\n\n<p>There is an overload of GroupBy with a parameter <code>ElementSelector</code> where you can define the elements that should be in your group. This simplifies your ResultSelector:</p>\n\n<pre><code>var result = res.GroupBy( // KeySelector: see above\n\n   // ElementSelector: what should the elements of each group be?\n   // in your case: you want a group of UserNames\n   re =&gt; re.UserName,\n\n   // ResultSelector, similar as above, but now the elements of a group are the userNames\n   (key, userNames) =&gt; new\n   {\n        RateCardId = key.Id,\n        ...\n\n        UserNames = String.Join('c', userNames),\n   });\n</code></pre>\n"}], "owner": {"reputation": 16418, "user_id": 899271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jNYoq.jpg?s=128&g=1", "display_name": "Enigma State", "link": "https://stackoverflow.com/users/899271/enigma-state"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 951, "favorite_count": 0, "accepted_answer_id": 55269410, "answer_count": 2, "score": -1, "last_activity_date": 1553154366, "creation_date": 1553111843, "last_edit_date": 1553112163, "question_id": 55269195, "link": "https://stackoverflow.com/questions/55269195/group-by-linq-with-combine-columns", "title": "group by linq with combine columns", "body": "<p>I have Object with the data like this below </p>\n\n<p><a href=\"https://i.stack.imgur.com/iRWUB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iRWUB.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am looking for results like this </p>\n\n<p><a href=\"https://i.stack.imgur.com/v5TEF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v5TEF.png\" alt=\"enter image description here\"></a></p>\n\n<p>For this i am trying with the linq query below </p>\n\n<pre><code> var results = (from l in res \n            group new\n            {\n                l.MDMChannelCallLetters,\n                l.UserName,\n                l.IsActive,\n                l.IsLocal,\n                l.IsNetwork,\n                l.IsPrivate,                 \n                l.RatecardDescription,\n                l.RatecardName,\n            } by l.RatecardId into g select new\n            {\n                // I am not sure what i need to do \n\n            } )\n</code></pre>\n\n<p>Could any one please help on this how to combine only particular column values with comma seperated) having  same ID using linq Query</p>\n\n<p>Many thanks in advance !!!</p>\n"}, {"tags": ["c#", "itext", "itext7", "acrofields"], "comments": [{"owner": {"reputation": 835, "user_id": 7434750, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-J0pKN2ppNC4/AAAAAAAAAAI/AAAAAAAAAM8/w3n_ZH0gBZA/photo.jpg?sz=128", "display_name": "Davide Vitali", "link": "https://stackoverflow.com/users/7434750/davide-vitali"}, "edited": false, "score": 0, "creation_date": 1553112050, "post_id": 55269141, "comment_id": 97269540, "body": "Have you tried working with Paragraphs and Cells? You will have to write a lot more code, but on the other hand you\u2019ll have more control on the outcome"}, {"owner": {"reputation": 11, "user_id": 11210567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8272bc21b566a54acb112b9a1e6009c7?s=128&d=identicon&r=PG&f=1", "display_name": "Talldave", "link": "https://stackoverflow.com/users/11210567/talldave"}, "reply_to_user": {"reputation": 835, "user_id": 7434750, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-J0pKN2ppNC4/AAAAAAAAAAI/AAAAAAAAAM8/w3n_ZH0gBZA/photo.jpg?sz=128", "display_name": "Davide Vitali", "link": "https://stackoverflow.com/users/7434750/davide-vitali"}, "edited": false, "score": 0, "creation_date": 1553112786, "post_id": 55269141, "comment_id": 97269894, "body": "With regard to creating the entire PDF? Unfortunately the forms are not created by us so we have to be sure the data input fits into the are provided by the state agencies. Thanks for your reply."}, {"owner": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1553153828, "post_id": 55269141, "comment_id": 97281470, "body": "<i>There is not an API for C# for Itext7</i> -&gt; that is incorrect. However, the fact that you say this, means that you (and possibly other customers) were not able to find it. How can we improve the iText website so you can find iText 7 for .NET?"}, {"owner": {"reputation": 11, "user_id": 11210567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8272bc21b566a54acb112b9a1e6009c7?s=128&d=identicon&r=PG&f=1", "display_name": "Talldave", "link": "https://stackoverflow.com/users/11210567/talldave"}, "reply_to_user": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1553187926, "post_id": 55269141, "comment_id": 97301282, "body": "@AmedeeVanGasse Thank you for your reply, I had gone to this link to find the API: <a href=\"https://itextpdf.com/en/resources/api-documentation\" rel=\"nofollow noreferrer\">itextpdf.com/en/resources/api-documentation</a> but when clicking the link under &quot;Visit or Itext7 API repository&quot; it only goes to the Java - VB API, which while usually workable into C# there are some differences I was unable to reconcile especially in itextpdf.forms.fields. Also when searching, the only pages that come up are the java API&#39;s. Maybe I am just dull but that&#39;s what I was looking through. Thank you!"}, {"owner": {"reputation": 11, "user_id": 11210567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8272bc21b566a54acb112b9a1e6009c7?s=128&d=identicon&r=PG&f=1", "display_name": "Talldave", "link": "https://stackoverflow.com/users/11210567/talldave"}, "reply_to_user": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1553188437, "post_id": 55269141, "comment_id": 97301575, "body": "@AmedeeVanGasse As far as documentation, examples are generally Java first which is understandable, but .NET beyond the actual introduction chapter examples is pretty sparse. Part of it may be that the code I used the API for isn&#39;t working, and I assumed that could be due to differences there. Thanks again."}, {"owner": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1553206948, "post_id": 55269141, "comment_id": 97309446, "body": "Thank you for the info. I first thought that you didn&#39;t find the C# download at all. So, to summarize, you did find the tutorials, which are available in both Java and C#, but when you were looking for the API documentation, you only found the Javadocs. I actually have a question for you: what is, in the .NET world, the counterpart of Javadocs? Something that generates API documentation, based on comments that are in the source code. If such software exists then it could be automatically generated. But I haven&#39;t heard of it."}, {"owner": {"reputation": 11, "user_id": 11210567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8272bc21b566a54acb112b9a1e6009c7?s=128&d=identicon&r=PG&f=1", "display_name": "Talldave", "link": "https://stackoverflow.com/users/11210567/talldave"}, "edited": false, "score": 1, "creation_date": 1553275282, "post_id": 55269141, "comment_id": 97338111, "body": "I guess the real issue with the Javadocs vs C# is that some of the API information seems to be incorrect for use in C#, or at least the recommended solutions. I am working with IText support now to try and resolve the problems but I am starting to think that there is no resolution, and I will need to find a different way to do this. Maybe it&#39;s time to swap to Java! :)"}], "owner": {"reputation": 11, "user_id": 11210567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8272bc21b566a54acb112b9a1e6009c7?s=128&d=identicon&r=PG&f=1", "display_name": "Talldave", "link": "https://stackoverflow.com/users/11210567/talldave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1024, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553111620, "creation_date": 1553111620, "question_id": 55269141, "link": "https://stackoverflow.com/questions/55269141/issues-with-filling-pdf-forms-should-i-use-c-with-itext-acrofields-to-fill-for", "title": "Issues with filling PDF forms. Should I use C# with IText AcroFields to fill forms programmatically from a database? Or is this solution outdated?", "body": "<p>TLDR; Having below issues with IText solution, and have not found a \"better\" option. </p>\n\n<p>Project currently is finding the best way to fill forms programatically from a database. After researching heavily I found a few solutions based on the following criteria and have created a (somewhat working) solution:</p>\n\n<ul>\n<li>We are currently using Access but are moving to SQL in coming months.</li>\n<li>Filling multiple unique forms that are created by state agencies based on user entered. (so we can't just create our own forms.)</li>\n<li>Forms are regularly updated by the agencies, but the data required remains the same, and will be stored in a database.</li>\n</ul>\n\n<p>To solve this I researched things like <a href=\"https://itextpdf.com/en\" rel=\"nofollow noreferrer\">IText</a> which has a ton of tools for PDF manipulation, one small part of that is it can fill a form using AcroField technology. </p>\n\n<p>I also read through a number of resources here including: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/47030621/11210567\">This description on using AcroFields and IText to fill forms</a></li>\n<li><a href=\"https://stackoverflow.com/a/16729981/11210567\">This older solution using Docotic</a></li>\n<li><p><a href=\"https://stackoverflow.com/questions/17876561/fill-a-pdf-form-from-ms-access\">This even older solution with Java</a></p>\n\n<p>Among many other resources. I found that IText seemed to be the best supported with some examples and API that helped me create the following:</p>\n\n<p><pre>\n//Creates form\npublic virtual void ManipulatePdf(string src, string dst, DataGridViewRow dataRow)\n{\n    //Initialize PDF document\n    PdfDocument pdf = new PdfDocument(new PdfReader(src), new PdfWriter(dst));\n    PdfAcroForm form = PdfAcroForm.GetAcroForm(pdf, true);\n    //form.RemoveXfaForm();\n    //form.SetNeedAppearances(true);\n    IDictionary fields = form.GetFormFields();\n    PdfFormField toSet;\n    //visits each field, fills dependant on whether dgv column exists\n    foreach (string field in fields.Keys)\n    {\n        switch (dataGridView1.Columns.Contains(field))\n        {\n            case false:\n                switch (field)\n                {\n                    case \"Date\":\n                        fields.TryGetValue(field, out toSet);\n                        toSet.SetValue(dateTime.ToString(\"MM/dd/yy\"));\n                        break;\n                    case \"Period_YY\":\n                        fields.TryGetValue(field, out toSet);\n                        toSet.SetValue(dateTime.ToString(\"yy\"));\n                        break;\n                    case \"Period_YY2\":\n                        fields.TryGetValue(field, out toSet);\n                        toSet.SetValue(dateTime.ToString(\"yy\"));\n                        break;\n                    case \"Period_Month_Start\":\n                        fields.TryGetValue(field, out toSet);\n                        toSet.SetValue(dateTime.AddMonths(-1).ToString(\"MMMM\"));\n                        break;\n                    case \"Client_Name2\":\n                        fields.TryGetValue(field, out toSet);\n                        toSet.SetValue(dataRow.Cells[\"Client_Name\"].Value.ToString());\n                        break;\n                    default:\n                        fields.TryGetValue(field, out toSet);\n                        toSet.SetValue(\"0\");\n                        //this setting does not commit, issue with hybrid XFA/AcroForm\n                        //.SetBackgroundColor(ColorConstants.YELLOW);\n                        break;\n                }\n                break;</p>\n\n<code>        case true:\n            if (dataRow.Cells[field].Value != null &amp;&amp; !DBNull.Value.Equals(dataRow.Cells[field].Value))\n            {\n                string value = dataRow.Cells[field].Value.ToString();\n                fields.TryGetValue(field, out toSet);\n                //this value is sometimes not visable on finished form\n                toSet.SetValue(value);\n            }\n            break;\n\n        default:\n            break;\n    }\n}\n//form.RemoveXfaForm();\n//pdf.GetCatalog().Remove(PdfName.Perms);\n//form.FlattenFields();\npdf.Close();\n}\n</code></pre></li>\n</ul>\n\n<p>This solution does fill forms, but there are some very big issues with it I have not been able to solve: </p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/q/55190391/11210567\">Changes do not always commit to form (for instance .backgroundcolor)/will show empty until user clicks into form box.</a> </li>\n<li>Value will print but so will form box changes such as .backgroundcolor. </li>\n<li>These forms have redundant fields and AcroForm seems to have issues with parent/child field names from Adobe. (For instance it will rename any like fields)</li>\n<li>There is not an API for C# for Itext7, and I have not been able to solve these problems. </li>\n</ol>\n\n<p>Any help, articles or insight would be appreciated, I know \"open ended\" questions don't get much help on here but had to try. Thank you. </p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1553111818, "post_id": 55269128, "comment_id": 97269410, "body": "You should be using a <code>class</code> instead of a <code>struct</code>.  See  <a href=\"https://stackoverflow.com/questions/441309/why-are-mutable-structs-evil\" title=\"why are mutable structs evil\">stackoverflow.com/questions/441309/why-are-mutable-structs-e&zwnj;&#8203;vil</a>"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 4, "creation_date": 1553112268, "post_id": 55269128, "comment_id": 97269645, "body": "Have you checked that all the bits and pieces of <code>System.Web.HttpContext.Current.Session[&quot;StaffID&quot;]</code> are non-null?  Debuggers are very handy for debugging"}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 1, "creation_date": 1553113158, "post_id": 55269128, "comment_id": 97270093, "body": "You need to identify which variable is null. A debugger can be helpful for this, as Flydog stated."}], "answers": [{"tags": [], "owner": {"reputation": 421, "user_id": 9493203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6FCFL.jpg?s=128&g=1", "display_name": "Katerine459", "link": "https://stackoverflow.com/users/9493203/katerine459"}, "is_accepted": false, "score": 0, "last_activity_date": 1553114570, "creation_date": 1553114570, "answer_id": 55269843, "question_id": 55269128, "link": "https://stackoverflow.com/questions/55269128/c-bizarre-object-reference-not-set-error-with-custom-class/55269843#55269843", "title": "C# Bizarre Object Reference Not Set error with custom class", "body": "<p>Many thanks, all! The problem appears to have fixed itself when I fixed another issue (where it wasn't always loading the most recent JobRecurrence into JobRecurrenceID.Text on load).</p>\n\n<p>I ran another test (using the debugger, as recommended), and it does appear to work correctly when the query is actually inserting a record. The issue was that I sometimes had the query run but, because of the WHERE condition (NOT EXISTS), it wasn't actually inserting a record, and it seems it was probably breaking this line of code in the GCDB.ActionQueryWithParams method (only including relevant code):</p>\n\n<pre><code>        bool bolIsInsert = (sSQLUpper.Contains(\"OUTPUT INSERTED.\"));\n        try\n        {\n            if (bolIsInsert)\n            {\n                cmd.Parameters.Add(\"@ID\", SqlDbType.Int, 4).Direction = ParameterDirection.Output;\n                InsertedID = (int)cmd.ExecuteScalar();\n            } else\n            {\n                cmd.ExecuteNonQuery();\n            }\n        }\n        catch (SqlException e)\n        {\n            Error = e.Message.ToString();\n        }\n</code></pre>\n\n<p>Apparently I need to include a way to handle INSERT statements that did not actually insert anything. Hmm... Well, that's a separate question. :)</p>\n"}], "owner": {"reputation": 421, "user_id": 9493203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6FCFL.jpg?s=128&g=1", "display_name": "Katerine459", "link": "https://stackoverflow.com/users/9493203/katerine459"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "closed_date": 1553118558, "answer_count": 1, "score": 1, "last_activity_date": 1553114570, "creation_date": 1553111570, "question_id": 55269128, "link": "https://stackoverflow.com/questions/55269128/c-bizarre-object-reference-not-set-error-with-custom-class", "closed_reason": "Duplicate", "title": "C# Bizarre Object Reference Not Set error with custom class", "body": "<p>I have a strange issue where a piece of code that I run all the time is suddenly throwing a \"System.NullReferenceException: Object reference not set to an instance of an object.\" error.</p>\n\n<p>The error occurs on a line involving a custom class that I made to simplify running TSQL action queries with parameters. With the class, I just have to use the naming convention @Param0, @Param1, etc, and pass an array of this type:</p>\n\n<pre><code>public struct SQLParam\n{\n    private SqlDbType m_Type;\n    private dynamic m_Value;\n    public SqlDbType Type\n    {\n        get { return m_Type; }\n        set { m_Type = value; }\n    }\n\n    public dynamic Value\n    {\n        get { return m_Value; }\n        set { m_Value = value; }\n    }\n    public SQLParam (SqlDbType ValType, dynamic val)\n    {\n        m_Value = val;\n        m_Type = ValType;\n    }\n    public SQLParam(SqlParameter sqlParameter)\n    {\n        m_Value = sqlParameter.Value;\n        m_Type = sqlParameter.SqlDbType;\n    }\n}\n</code></pre>\n\n<p>...into a method of an object of the class GCDB, called \"ActionQueryWithParams\", and it works. Except this one time.</p>\n\n<p>Here's the code that's having trouble. I'm including various examples of code that DOES work, and marking the code that DOESN'T in comments:</p>\n\n<pre><code>        GCDB GeekConn = new GCDB();\n\n        string sID = \"\";\n        string sRecurrenceID = JobRecurrenceID.Text.ToString();\n\n        if (string.IsNullOrEmpty(JobID.Text.ToString())) //added record\n        {\n            //insert job --- THIS WORKS\n            SQLParam[] paramslist = new SQLParam[6];\n\n            string sSQL = \"INSERT INTO [dbo].[Jobs] ([CustomerID], [JobName], [JobDescription], [IsRecurringJob], [JobStatusID], [LastModifiedByStaffID]) \" +\n                \"OUTPUT INSERTED.JobID \" +\n                \"VALUES(@Param0, @Param1, @Param2, @Param3, @Param4, @Param5)\";\n            paramslist[0] = new SQLParam(SqlDbType.Int, Convert.ToInt32(cboCustomerID.SelectedValue));\n            paramslist[1] = new SQLParam(SqlDbType.VarChar, JobName.Text);\n            paramslist[2] = new SQLParam(SqlDbType.VarChar, JobDescription.Text);\n            paramslist[3] = new SQLParam(SqlDbType.Bit, Convert.ToBoolean(IsRecurringJob.Checked));\n            paramslist[4] = new SQLParam(SqlDbType.Int, Convert.ToInt32(cboJobStatusID.SelectedValue));\n            paramslist[5] = new SQLParam(SqlDbType.Int, System.Web.HttpContext.Current.Session[\"StaffID\"]);\n            GeekConn.ActionQueryWithParams(sSQL, paramslist);\n            if (GeekConn.InsertedID != null)\n            {\n                sID = GeekConn.InsertedID.ToString();\n            }\n            paramslist = null;\n\n            //insert new assignment (if applicable - if adding a job to a staff person's list) -- THIS WORKS\n            if (!string.IsNullOrEmpty(AssignedToStaffID.Text.ToString()))\n            {\n                paramslist = new SQLParam[2];\n                sSQL = \"INSERT INTO [dbo].[JobAssignments] ([JobID], [StaffID]) \" +\n                    \"SELECT @Param0 AS JobID, @Param1 AS StaffID \" +\n                    \"WHERE NOT EXISTS(SELECT * FROM[dbo].[JobAssignments] WHERE JobID = @Param0 AND StaffID = @Param1)\";\n                paramslist[0] = new SQLParam(SqlDbType.Int, Convert.ToInt32(sID));\n                paramslist[1] = new SQLParam(SqlDbType.Int, Convert.ToInt32(AssignedToStaffID.Text.ToString()));\n                GeekConn.ActionQueryWithParams(sSQL, paramslist);\n            }\n            paramslist = null;\n        }\n        else //edited record\n        {\n            //do the main update -- THIS WORKS\n            SQLParam[] paramslist = new SQLParam[7];\n\n            string sSQL = \"UPDATE[dbo].[Jobs] \" +\n                \"SET [CustomerID] = @Param0 \" +\n                    \",[JobName] = @Param1 \" +\n                    \",[JobDescription] = @Param2 \" +\n                    \",[IsRecurringJob] = @Param3 \" +\n                    \",[JobStatusID] = @Param4 \" +\n                    \",[LastModifiedByStaffID] = @Param5 \" +\n                    \",[DateModified] = getdate() \" +\n                \"WHERE [JobID] = @Param6\";\n            paramslist[0] = new SQLParam(SqlDbType.Int, Convert.ToInt32(cboCustomerID.SelectedValue));\n            paramslist[1] = new SQLParam(SqlDbType.VarChar, JobName.Text);\n            paramslist[2] = new SQLParam(SqlDbType.VarChar, JobDescription.Text);\n            paramslist[3] = new SQLParam(SqlDbType.Bit, Convert.ToBoolean(IsRecurringJob.Checked));\n            paramslist[4] = new SQLParam(SqlDbType.Int, Convert.ToInt32(cboJobStatusID.SelectedValue));\n            paramslist[5] = new SQLParam(SqlDbType.Int, System.Web.HttpContext.Current.Session[\"StaffID\"]);\n            paramslist[6] = new SQLParam(SqlDbType.Int, Convert.ToInt32(JobID.Text));\n            GeekConn.ActionQueryWithParams(sSQL, paramslist);\n\n            paramslist = null;\n\n            //auto insert new occurrence (if this is a recurring job and there are no occurrences already) -- THIS THROWS AN ERROR\n            if ((IsRecurringJob.Checked) &amp;&amp; (JobRecurrenceID.Text.ToString() == \"\"))\n            {\n                paramslist = new SQLParam[2];\n                sSQL = \"INSERT INTO [dbo].[JobRecurrences] ([JobID], [StatusLastModified], [LastModifiedByStaffID]) \" +\n                    \"OUTPUT INSERTED.[JobRecurrenceID] \" +\n                    \"SELECT @Param0 AS JobID, getdate(), @Param1 AS StaffID \" +\n                    \"WHERE NOT EXISTS (SELECT * FROM [dbo].[JobRecurrences] WHERE JobID = @Param0)\";\n                paramslist[0] = new SQLParam(SqlDbType.Int, Convert.ToInt32(JobID.Text));\n                paramslist[1] = new SQLParam(SqlDbType.Int, System.Web.HttpContext.Current.Session[\"StaffID\"]);\n // ERROR IS HERE: System.NullReferenceException: Object reference not set to an instance of an object.\n                GeekConn.ActionQueryWithParams(sSQL, paramslist);\n                if (GeekConn.InsertedID != null)\n                {\n                    sRecurrenceID = GeekConn.InsertedID.ToString();\n                }\n            }\n            paramslist = null;\n        }\n\n        GeekConn = null;\n</code></pre>\n\n<p>I've confirmed that the SQL statement for auto-inserting a new occurrence works in SSMS. And, as far as I can tell, there's nothing in the broken code that isn't also in the working code. Can anybody spot anything I'm missing?</p>\n\n<p>Many thanks!</p>\n"}, {"tags": ["c#", "asp.net-core"], "answers": [{"tags": [], "owner": {"reputation": 4119, "user_id": 10839105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5b19eba5c32ea65bb432a004aad5e3?s=128&d=identicon&r=PG", "display_name": "Manoj Choudhari", "link": "https://stackoverflow.com/users/10839105/manoj-choudhari"}, "is_accepted": true, "score": 0, "last_activity_date": 1553111934, "creation_date": 1553111934, "answer_id": 55269221, "question_id": 55269087, "link": "https://stackoverflow.com/questions/55269087/define-and-obtain-a-list-of-asp-net-core-session/55269221#55269221", "title": "Define and obtain a list of ASP.Net Core (Session)", "body": "<p>You should be able to use methods like below:</p>\n\n<pre><code>////  your list object\nList&lt;MyClass&gt; classCollection = new List&lt;MyClass&gt;();\n\n//// To set value in session\nHttpContext.Session.Set&lt;List&lt;MyClass&gt;&gt;(\"someKey\", classCollection);\n\n//// To Get Value from Session\nList&lt;MyClass&gt; classCollection = HttpContext.Session.Get&lt;List&lt;MyClass&gt;&gt;(\"someKey\");\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 27, "user_id": 7190693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zII0J.png?s=128&g=1", "display_name": "Evandro Anholeto", "link": "https://stackoverflow.com/users/7190693/evandro-anholeto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 55269221, "answer_count": 1, "score": 1, "last_activity_date": 1553111934, "creation_date": 1553111363, "question_id": 55269087, "link": "https://stackoverflow.com/questions/55269087/define-and-obtain-a-list-of-asp-net-core-session", "title": "Define and obtain a list of ASP.Net Core (Session)", "body": "<p>I need some help.\nI have these two methods to save and retrieve a class in a session:</p>\n\n<pre><code>public static class SessionExtensions\n    {\n        public static void Set&lt;T&gt;(this ISession session, string key, T value)\n        {\n            session.SetString(key, JsonConvert.SerializeObject(value));\n        }\n\n        public static T Get&lt;T&gt;(this ISession session, string key)\n        {\n            var value = session.GetString(key);\n            return value == null ? default(T) : JsonConvert.DeserializeObject&lt;T&gt;(value);\n        }\n    }\n</code></pre>\n\n<p>I need a method to save and retrieve in a session an object of type List , how should I implement for ASP.Net Core?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "asp.net", "sql-server", "radio-button"], "comments": [{"owner": {"reputation": 55, "user_id": 4906852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cf2f9a1e267b1347f8c0c1ed319d62f?s=128&d=identicon&r=PG&f=1", "display_name": "skofi", "link": "https://stackoverflow.com/users/4906852/skofi"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1553110418, "post_id": 55268761, "comment_id": 97268740, "body": "This is what I have. It works fine if I select every radio button. I just don&#39;t know if there is a way to check if radio button is selected, I need to force user select one from each group in order to submit commands."}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1553110536, "post_id": 55268761, "comment_id": 97268802, "body": "Then you should iterate your radio buttons, and check the GroupName property, if one is selected from each GroupName, they can submit else throw out an error. If each GroupName is unique, you could create a Dictionary&lt;string, bool&gt; and set the keys as each GroupName and set the boolean value to true if one radio button with that GroupName is checked, else leave it as false, then after iteration check your dictionary to see if you have any values of False."}, {"owner": {"reputation": 55, "user_id": 4906852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cf2f9a1e267b1347f8c0c1ed319d62f?s=128&d=identicon&r=PG&f=1", "display_name": "skofi", "link": "https://stackoverflow.com/users/4906852/skofi"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1553110598, "post_id": 55268761, "comment_id": 97268835, "body": "Each GroupName is unique, any code example how to do that?"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1553110697, "post_id": 55268761, "comment_id": 97268880, "body": "<a href=\"https://stackoverflow.com/questions/974598/find-all-controls-in-wpf-window-by-type\" title=\"find all controls in wpf window by type\">stackoverflow.com/questions/974598/&hellip;</a>"}, {"owner": {"reputation": 55, "user_id": 4906852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cf2f9a1e267b1347f8c0c1ed319d62f?s=128&d=identicon&r=PG&f=1", "display_name": "skofi", "link": "https://stackoverflow.com/users/4906852/skofi"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1553111154, "post_id": 55268761, "comment_id": 97269091, "body": "No sure how to implement that in my case, :("}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1553111495, "post_id": 55268761, "comment_id": 97269253, "body": "You know how to get your window object (which contains your radio buttons)?"}, {"owner": {"reputation": 55, "user_id": 4906852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cf2f9a1e267b1347f8c0c1ed319d62f?s=128&d=identicon&r=PG&f=1", "display_name": "skofi", "link": "https://stackoverflow.com/users/4906852/skofi"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1553111880, "post_id": 55268761, "comment_id": 97269449, "body": "No I don&#39;t know"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1553111902, "post_id": 55268761, "comment_id": 97269468, "body": "Does your window have a name property?"}, {"owner": {"reputation": 55, "user_id": 4906852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cf2f9a1e267b1347f8c0c1ed319d62f?s=128&d=identicon&r=PG&f=1", "display_name": "skofi", "link": "https://stackoverflow.com/users/4906852/skofi"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1553114627, "post_id": 55268761, "comment_id": 97270863, "body": "No it doesn&#39;t have"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4906852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cf2f9a1e267b1347f8c0c1ed319d62f?s=128&d=identicon&r=PG&f=1", "display_name": "skofi", "link": "https://stackoverflow.com/users/4906852/skofi"}, "edited": false, "score": 1, "creation_date": 1553155086, "post_id": 55270140, "comment_id": 97281976, "body": "Thank you a lot. This did the job. It solved my problem. It was the answer I was looking for. Thanks. Cheers"}], "tags": [], "owner": {"reputation": 986, "user_id": 2206145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHGiK.png?s=128&g=1", "display_name": "yv989c", "link": "https://stackoverflow.com/users/2206145/yv989c"}, "is_accepted": true, "score": 2, "last_activity_date": 1553115751, "creation_date": 1553115751, "answer_id": 55270140, "question_id": 55268761, "link": "https://stackoverflow.com/questions/55268761/check-if-all-radio-buttons-are-selected-in-c/55270140#55270140", "title": "Check if all radio buttons are selected in C#", "body": "<p>The following method will give you back the <code>RadioButton</code> controls that are immediate children of a parent <code>Control</code>:</p>\n\n<pre><code>private IEnumerable&lt;RadioButton&gt; GetRadioButtons(Control container, string groupName)\n{\n    return container.Controls\n        .OfType&lt;RadioButton&gt;()\n        .Where(i =&gt; i.GroupName == groupName);\n}\n</code></pre>\n\n<p>For instance, if the radio buttons with the group name \"Gr1\" are immediate children of your form, you can get them like this:</p>\n\n<pre><code>var radioButtons = GetRadioButtons(Form, \"Gr1\");\n</code></pre>\n\n<p>Checking if any of them are checked could be done like this:</p>\n\n<pre><code>var radioButtonCheckedInGr1 = GetRadioButtons(Form, \"Gr1\").Any(i =&gt; i.Checked);\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 55, "user_id": 4906852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cf2f9a1e267b1347f8c0c1ed319d62f?s=128&d=identicon&r=PG&f=1", "display_name": "skofi", "link": "https://stackoverflow.com/users/4906852/skofi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "accepted_answer_id": 55270140, "answer_count": 1, "score": 0, "last_activity_date": 1553198472, "creation_date": 1553109997, "last_edit_date": 1553198472, "question_id": 55268761, "link": "https://stackoverflow.com/questions/55268761/check-if-all-radio-buttons-are-selected-in-c", "title": "Check if all radio buttons are selected in C#", "body": "<p>I have around 75 radio buttons (before you ask why you need that many radio buttons, lets just say I need them), I have grouped them by 5 in different groups. So, my question is, is there a way I can validate them if in each group at least one radio button is selected before I submit something. SO I have 15 groups like this.  </p>\n\n<pre><code>&lt;h4 style=\"\"&gt;1 Question? &lt;/h4&gt;\n\n&lt;asp:RadioButton ID=\"RadioButton1\"  runat=\"server\" Text=\"Strongly Disagree\" GroupName=\"Gr1\" /&gt;\n&lt;asp:RadioButton ID=\"RadioButton2\"  runat=\"server\" Text=\"Disagree\" GroupName=\"Gr1\" /&gt;\n&lt;asp:RadioButton ID=\"RadioButton3\"  runat=\"server\" Text=\"Uncertain\" GroupName=\"Gr1\" /&gt;\n&lt;asp:RadioButton ID=\"RadioButton4\"  runat=\"server\" Text=\"Agree\" GroupName=\"Gr1\" /&gt;\n&lt;asp:RadioButton ID=\"RadioButton5\"  runat=\"server\" Text=\"Strongly Agree\" GroupName=\"Gr1\" /&gt;\n</code></pre>\n\n<p>In code behind, on button click I will have something like this. It means I want first to check if user has selected at least one radio buttons from each group before I submit something with SQL Command. Every CMD has different query</p>\n\n<pre><code>if (RadioButton1.Checked)\n{\n    SqlCommand cmd = new SqlCommand(\"My query here\", con);\n    cmd.ExecuteNonQuery();\n}\n\nif (RadioButton2.Checked)\n{\n    SqlCommand cmd = new SqlCommand(\"My query here\", con);\n    cmd.ExecuteNonQuery();\n}\n</code></pre>\n"}, {"tags": ["c#", "geckofx"], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 11132301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mWkP3V_o-mU/AAAAAAAAAAI/AAAAAAAAD1Y/xxpuDSv6q5c/photo.jpg?sz=128", "display_name": "Almeida Juan", "link": "https://stackoverflow.com/users/11132301/almeida-juan"}, "is_accepted": true, "score": 1, "last_activity_date": 1553206317, "creation_date": 1553206317, "answer_id": 55290026, "question_id": 55268719, "link": "https://stackoverflow.com/questions/55268719/geckofx-print-from-url-rendered/55290026#55290026", "title": "GeckoFx print from URL rendered", "body": "<p>So my problem was that Geckofx was printing header and footer by default. If anyone ever comes into the same problem try this:</p>\n\n<pre><code>GeckoPreferences.User[\"print.print_footerright\"] = \"\";\n</code></pre>\n\n<p>You can find the rest on your own about:config or <a href=\"http://kb.mozillazine.org/About:config_entries\" rel=\"nofollow noreferrer\">http://kb.mozillazine.org/About:config_entries</a> .</p>\n"}], "owner": {"reputation": 69, "user_id": 11132301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mWkP3V_o-mU/AAAAAAAAAAI/AAAAAAAAD1Y/xxpuDSv6q5c/photo.jpg?sz=128", "display_name": "Almeida Juan", "link": "https://stackoverflow.com/users/11132301/almeida-juan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 55290026, "answer_count": 1, "score": 1, "last_activity_date": 1553206317, "creation_date": 1553109849, "last_edit_date": 1553111232, "question_id": 55268719, "link": "https://stackoverflow.com/questions/55268719/geckofx-print-from-url-rendered", "title": "GeckoFx print from URL rendered", "body": "<p>Does geckoFx support @media print? When I send windows.print() from my URL it prints like a normal windows.print() without the scss format and the URL.</p>\n\n<p>Im using Geckofx45.</p>\n"}, {"tags": ["c#", "visual-studio", "npm"], "comments": [{"owner": {"reputation": 1983, "user_id": 3787353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o8UgV.jpg?s=128&g=1", "display_name": "Hasta Tamang", "link": "https://stackoverflow.com/users/3787353/hasta-tamang"}, "edited": false, "score": 0, "creation_date": 1553110273, "post_id": 55268691, "comment_id": 97268664, "body": "you have an npm error while running build-templates share that code."}, {"owner": {"reputation": 459, "user_id": 8155679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5DjVk.jpg?s=128&g=1", "display_name": "MauriR", "link": "https://stackoverflow.com/users/8155679/maurir"}, "reply_to_user": {"reputation": 1983, "user_id": 3787353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o8UgV.jpg?s=128&g=1", "display_name": "Hasta Tamang", "link": "https://stackoverflow.com/users/3787353/hasta-tamang"}, "edited": false, "score": 0, "creation_date": 1553111866, "post_id": 55268691, "comment_id": 97269441, "body": "I don&#39;t know which code is causing the error because the <code>build-templates</code> runs every script in the solution, and the output doesn&#39;t says the line. It has to be related with my environment because other coworkers don&#39;t have the problem. We also have different versions of npm so it is not related to that either."}, {"owner": {"reputation": 1983, "user_id": 3787353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o8UgV.jpg?s=128&g=1", "display_name": "Hasta Tamang", "link": "https://stackoverflow.com/users/3787353/hasta-tamang"}, "edited": false, "score": 1, "creation_date": 1553112299, "post_id": 55268691, "comment_id": 97269663, "body": "might be different gulp version, look at this similar <a href=\"https://github.com/gulpjs/gulp/issues/2171\" rel=\"nofollow noreferrer\">error</a>"}, {"owner": {"reputation": 459, "user_id": 8155679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5DjVk.jpg?s=128&g=1", "display_name": "MauriR", "link": "https://stackoverflow.com/users/8155679/maurir"}, "reply_to_user": {"reputation": 1983, "user_id": 3787353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o8UgV.jpg?s=128&g=1", "display_name": "Hasta Tamang", "link": "https://stackoverflow.com/users/3787353/hasta-tamang"}, "edited": false, "score": 0, "creation_date": 1553113032, "post_id": 55268691, "comment_id": 97270037, "body": "Thanks, I will look into that."}], "answers": [{"tags": [], "owner": {"reputation": 459, "user_id": 8155679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5DjVk.jpg?s=128&g=1", "display_name": "MauriR", "link": "https://stackoverflow.com/users/8155679/maurir"}, "is_accepted": true, "score": 0, "last_activity_date": 1553178665, "creation_date": 1553178665, "answer_id": 55282788, "question_id": 55268691, "link": "https://stackoverflow.com/questions/55268691/the-command-call-npm-run-build-templates-exited-with-code-134/55282788#55282788", "title": "The command &quot;call npm run build-templates&quot; exited with code 134", "body": "<p>I solved it by running <code>npm install gulp</code> in the project's folder. I do not have much experience with npm so I don't know exactly what it did, but it solved my problem.</p>\n"}], "owner": {"reputation": 459, "user_id": 8155679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5DjVk.jpg?s=128&g=1", "display_name": "MauriR", "link": "https://stackoverflow.com/users/8155679/maurir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1440, "favorite_count": 1, "accepted_answer_id": 55282788, "answer_count": 1, "score": 0, "last_activity_date": 1553178665, "creation_date": 1553109764, "question_id": 55268691, "link": "https://stackoverflow.com/questions/55268691/the-command-call-npm-run-build-templates-exited-with-code-134", "title": "The command &quot;call npm run build-templates&quot; exited with code 134", "body": "<p>When trying to build my solution in Visual Studio 2017 I get this error message:</p>\n\n<pre><code>The command \"call npm run build-templates\" exited with code 134\n</code></pre>\n\n<p>Looking at the output window I found the following:</p>\n\n<pre><code>Installing npm packages for project {project}\n npm WARN No description\n npm WARN No repository field.\n\n up to date in 12.823s\n Building templates for project {project}\n\n  &gt; build-templates \n  &gt; gulp buildviews\n\n gulp[14240]: c:\\ws\\src\\node_contextify.cc:640: Assertion `args[1]-&gt;IsString()' failed.\n   1: 00007FF6C923896A v8::internal::GCIdleTimeHandler::GCIdleTimeHandler+4554\n   2: 00007FF6C91E8956 uv_loop_fork+85542\n   3: 00007FF6C91E8A03 uv_loop_fork+85715\n   4: 00007FF6C91EEAB8 uv_loop_fork+110472\n   5: 00007FF6C984DBFF v8::internal::PassesFilter+847\n   6: 00007FF6C984EE37 v8::internal::PassesFilter+5511\n   7: 00007FF6C984E0AC v8::internal::PassesFilter+2044\n   8: 00007FF6C984DFCB v8::internal::PassesFilter+1819\n   9: 000000ACAF550481 \n  npm ERR! code ELIFECYCLE\n  npm ERR! errno 134\n  npm ERR! build-templates: `gulp buildviews`\n  npm ERR! Exit status 134\n  npm ERR! \n  npm ERR! Failed at the build-templates script.\n  npm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\n  npm ERR! A complete log of this run can be found in:\n\nerror MSB3073: The command \"call npm run build-templates\" exited with code 134.\n</code></pre>\n"}, {"tags": ["c#", "async-await", "task"], "comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 4, "creation_date": 1553110402, "post_id": 55268681, "comment_id": 97268733, "body": "You have a question about what a particular program does. <b>Such questions can be answered by running the program and seeing what happens</b>.  You want to know if there is an exception handling difference between <code>await</code> and using <code>Result</code>, so <i>write the program both ways, cause an exception, and see if the program does two different things</i>, and then you will know!"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1553110545, "post_id": 55268681, "comment_id": 97268808, "body": "Your code assigns to <code>timeoutTask</code> but then never uses the variable&#39;s value for anything; what is the purpose of that choice?"}, {"owner": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "edited": false, "score": 1, "creation_date": 1553113029, "post_id": 55268681, "comment_id": 97270036, "body": "@FedericoCalvagna, instead of this design, maybe you should look at passing a <code>Task</code>-returning lambda to <code>ExecuteIOTask</code> rather than an already running task, and properly implement cancellation pattern for your IO operation, using <code>CancellationTokenSource</code> (which supports timing out)."}], "answers": [{"comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 7, "creation_date": 1553110327, "post_id": 55268786, "comment_id": 97268689, "body": "How can <code>Result</code> cause a deadlock if <code>IsCompleted</code> is true? Can you give an example of such a scenario?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 3, "creation_date": 1553110451, "post_id": 55268786, "comment_id": 97268764, "body": "This answer does not answer the question that was asked, which was &quot;<b>I think Result is not going to propagate the exceptions but await will. Is this correct?</b>&quot;"}, {"owner": {"reputation": 4119, "user_id": 10839105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5b19eba5c32ea65bb432a004aad5e3?s=128&d=identicon&r=PG", "display_name": "Manoj Choudhari", "link": "https://stackoverflow.com/users/10839105/manoj-choudhari"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1553111042, "post_id": 55268786, "comment_id": 97269028, "body": "@EricLippert - the answer is to follow the best practice and that statement does not consider the IF statement.  Also, the exceptions part was mentioned in the async programming blog URL, i have copied it in the answer for better clarity."}], "tags": [], "owner": {"reputation": 4119, "user_id": 10839105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5b19eba5c32ea65bb432a004aad5e3?s=128&d=identicon&r=PG", "display_name": "Manoj Choudhari", "link": "https://stackoverflow.com/users/10839105/manoj-choudhari"}, "is_accepted": true, "score": -1, "last_activity_date": 1553110979, "last_edit_date": 1553110979, "creation_date": 1553110076, "answer_id": 55268786, "question_id": 55268681, "link": "https://stackoverflow.com/questions/55268681/after-task-iscompleted-what-is-better-await-or-result/55268786#55268786", "title": "After Task.IsCompleted what is better: await or Result", "body": "<p>Do not use .Result, always use await. </p>\n\n<p>Please note that <a href=\"https://medium.com/rubrikkgroup/understanding-async-avoiding-deadlocks-e41f8f2c6f5d\" rel=\"nofollow noreferrer\">.Result can cause deadlocks</a> and can cause some unpredictable behaviors in the applications.   </p>\n\n<p>The only way then would be to take the process dump and then analyze dump in procdump.  Believe me it is going to be very difficult debugging. </p>\n\n<p>Please find best practices about <a href=\"https://msdn.microsoft.com/en-us/magazine/jj991977.aspx\" rel=\"nofollow noreferrer\">async programming at this blog.</a></p>\n\n<p>As far as exception handling is concerned, it is mentioned in this blog that:</p>\n\n<blockquote>\n  <p>Every Task will store a list of exceptions. When you await a Task, the\n  first exception is re-thrown, so you can catch the specific exception\n  type (such as InvalidOperationException). However, when you\n  synchronously block on a Task using Task.Wait or Task.Result, all of\n  the exceptions are wrapped in an AggregateException and thrown.</p>\n</blockquote>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 55, "user_id": 4458332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e639ee281cdfb5120a7e11fed2fb178?s=128&d=identicon&r=PG&f=1", "display_name": "Federico Calvagna", "link": "https://stackoverflow.com/users/4458332/federico-calvagna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "closed_date": 1570745208, "accepted_answer_id": 55268786, "answer_count": 1, "score": -2, "last_activity_date": 1570745229, "creation_date": 1553109692, "question_id": 55268681, "link": "https://stackoverflow.com/questions/55268681/after-task-iscompleted-what-is-better-await-or-result", "closed_reason": "Duplicate", "title": "After Task.IsCompleted what is better: await or Result", "body": "<p>I'm working in a simple timeout code for my http requests. I got this</p>\n\n<pre><code>private async Task&lt;HttpResponseMessage&gt; ExecuteIOTask(Task&lt;HttpResponseMessage&gt; ioTask, int timeout)\n    {\n        var timeoutTask = await Task.WhenAny(Task.Delay(timeout), ioTask);\n\n        if (ioTask.IsCompleted)\n            return ioTask.Result;\n\n        throw new TimeoutException();\n    }\n</code></pre>\n\n<p>After IsCompleted, is there any difference using <code>Result</code> vs <code>await</code> ? The task is already completed at that instance, so I think the performance should be the same. But i'm a little concern about the exception handling. I think <code>Result</code> is not going to propagate the exceptions but <code>await</code> will.</p>\n\n<p>Is this correct?</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11212219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db889ca71519a0607054d3bcafb623b?s=128&d=identicon&r=PG&f=1", "display_name": "Zenhal", "link": "https://stackoverflow.com/users/11212219/zenhal"}, "edited": false, "score": 0, "creation_date": 1553111263, "post_id": 55268732, "comment_id": 97269145, "body": "I&#39;m sorry, I tried doing that but it showed the same exception."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "reply_to_user": {"reputation": 3, "user_id": 11212219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db889ca71519a0607054d3bcafb623b?s=128&d=identicon&r=PG&f=1", "display_name": "Zenhal", "link": "https://stackoverflow.com/users/11212219/zenhal"}, "edited": false, "score": 0, "creation_date": 1553111331, "post_id": 55268732, "comment_id": 97269174, "body": "Post the entire stack trace of your exception.  Include some line numbers in your code so that we can reference those to the line numbers indicated in your stack trace."}, {"owner": {"reputation": 3, "user_id": 11212219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db889ca71519a0607054d3bcafb623b?s=128&d=identicon&r=PG&f=1", "display_name": "Zenhal", "link": "https://stackoverflow.com/users/11212219/zenhal"}, "edited": false, "score": 0, "creation_date": 1553111749, "post_id": 55268732, "comment_id": 97269383, "body": "i have added the log detail ."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "reply_to_user": {"reputation": 3, "user_id": 11212219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db889ca71519a0607054d3bcafb623b?s=128&d=identicon&r=PG&f=1", "display_name": "Zenhal", "link": "https://stackoverflow.com/users/11212219/zenhal"}, "edited": false, "score": 0, "creation_date": 1553111843, "post_id": 55268732, "comment_id": 97269427, "body": "Edit your question to show the fix you made to the FileMode setting.  Make sure it is exactly the same code as the code you&#39;re getting the exception with."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "reply_to_user": {"reputation": 3, "user_id": 11212219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db889ca71519a0607054d3bcafb623b?s=128&d=identicon&r=PG&f=1", "display_name": "Zenhal", "link": "https://stackoverflow.com/users/11212219/zenhal"}, "edited": false, "score": 0, "creation_date": 1553112282, "post_id": 55268732, "comment_id": 97269653, "body": "<code>WriteToBinaryFile</code> still needs to be <code>File.Create</code>.  Only change <code>ReadFromBinaryFile</code> to <code>File.Open</code>."}, {"owner": {"reputation": 3, "user_id": 11212219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db889ca71519a0607054d3bcafb623b?s=128&d=identicon&r=PG&f=1", "display_name": "Zenhal", "link": "https://stackoverflow.com/users/11212219/zenhal"}, "edited": false, "score": 0, "creation_date": 1553112847, "post_id": 55268732, "comment_id": 97269930, "body": "Oh, Im sorry. That change fixed it. Thank you so much Robert."}], "tags": [], "owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "is_accepted": true, "score": 0, "last_activity_date": 1553112623, "last_edit_date": 1553112623, "creation_date": 1553109903, "answer_id": 55268732, "question_id": 55268664, "link": "https://stackoverflow.com/questions/55268664/serializeexception-attempting-to-deserialize-an-empty-stream-error/55268732#55268732", "title": "SerializeException : Attempting to deserialize an empty stream error", "body": "<p>Change your <code>FileMode</code> for your stream in your <code>ReadFromBinaryFile</code> method from <code>FileMode.Create</code> to <code>FileMode.Open</code>.  </p>\n\n<p>I'm guessing that when you call <code>ReadFromBinaryFile</code> using <code>FileMode.Create</code> you're wiping out the file that you created using <code>WriteToBinaryFile</code>, which is why you're getting an empty stream.</p>\n\n<p>This is how it should look:</p>\n\n<pre><code>public static class FileReadWrite\n{\n    public static void WriteToBinaryFile&lt;T&gt;(string filePath , T objectToWrite)\n    {\n        using (Stream stream = File.Open(filePath, FileMode.Create))\n        {\n            var binaryFormatter = new BinaryFormatter();\n            binaryFormatter.Serialize(stream, objectToWrite);\n        }\n    }\n\n    public static T ReadFromBinaryFile&lt;T&gt;(string filePath)\n    {\n        using (Stream stream = File.Open(filePath, FileMode.Open))\n        {\n            var binaryFormatter = new BinaryFormatter();\n            return (T)binaryFormatter.Deserialize(stream);\n        }\n\n\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11212219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db889ca71519a0607054d3bcafb623b?s=128&d=identicon&r=PG&f=1", "display_name": "Zenhal", "link": "https://stackoverflow.com/users/11212219/zenhal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 660, "favorite_count": 0, "accepted_answer_id": 55268732, "answer_count": 1, "score": 0, "last_activity_date": 1553112623, "creation_date": 1553109616, "last_edit_date": 1553112069, "question_id": 55268664, "link": "https://stackoverflow.com/questions/55268664/serializeexception-attempting-to-deserialize-an-empty-stream-error", "title": "SerializeException : Attempting to deserialize an empty stream error", "body": "<p>I've been working on implementing a Save System for an Inventory System in unity following Kryzarel's tutorial on Youtube.\nHere is the code which accesses serialize and deserialize and other scripts related to save system.</p>\n\n<p>FileReadWrite.cs</p>\n\n<pre><code>using System.IO;\nusing System.Runtime.Serialization.Formatters.Binary;\n\n    public static class FileReadWrite\n    {\n        public static void WriteToBinaryFile&lt;T&gt;(string filePath , T objectToWrite)\n        {\n            using (Stream stream = File.Open(filePath, FileMode.Open))\n            {\n                var binaryFormatter = new BinaryFormatter();\n                binaryFormatter.Serialize(stream, objectToWrite);\n            }\n        }\n\n        public static T ReadFromBinaryFile&lt;T&gt;(string filePath)\n        {\n            using (Stream stream = File.Open(filePath, FileMode.Open))\n            {\n                var binaryFormatter = new BinaryFormatter();\n                return (T)binaryFormatter.Deserialize(stream);\n            }\n\n\n        }\n\n    }\n</code></pre>\n\n<p>ItemSaveIO.cs</p>\n\n<pre><code>using UnityEngine;\n\npublic static class ItemSaveIO\n{\n    private static readonly string baseSavePath;\n    static ItemSaveIO()\n    {\n        baseSavePath = Application.persistentDataPath;\n    }\n\n    public static void SaveItems(ItemContainerSaveData items, string fileName)\n    {\n        FileReadWrite.WriteToBinaryFile(baseSavePath + \"/\" + fileName + \".dat\", items);\n    }\n\n    public static ItemContainerSaveData LoadItems(string fileName)\n    {\n        string filePath = baseSavePath + \"/\" + fileName + \".dat\";\n\n        if(System.IO.File.Exists(filePath))\n        {\n            return FileReadWrite.ReadFromBinaryFile&lt;ItemContainerSaveData&gt;(filePath);\n        }\n        else\n        {\n            Debug.LogError(\"Save file not found in\" + filePath);\n            return null;\n        }\n\n    }\n}\n</code></pre>\n\n<p>ItemSaveData.cs</p>\n\n<pre><code>    using System;\n\n\n    [Serializable]\n    public class ItemSlotSaveData\n    {\n        public string ItemID;\n\n        public ItemSlotSaveData(string itemID)\n        {\n            ItemID = itemID;\n        }\n    }\n\n    [Serializable]\n    public class ItemContainerSaveData\n    {\n        public ItemSlotSaveData[] SavedSlots;\n\n        public ItemContainerSaveData(int numItems)\n        {\n            SavedSlots = new ItemSlotSaveData[numItems];\n        }\n    }\n</code></pre>\n\n<p>ItemSaveManager.cs</p>\n\n<pre><code> using System.Collections;\n    using System;\n    using System.Collections.Generic;\n    using UnityEngine;\n\n    public class ItemSaveManager : MonoBehaviour\n    {\n        [SerializeField] ItemDatabase itemDatabase;\n\n        private const string InventoryFileName = \"Inventory\";\n        private const string EquipmentFileName = \"Equipment\";\n\n        public void LoadInventory(Character character)\n        {\n            ItemContainerSaveData savedSlots = ItemSaveIO.LoadItems(InventoryFileName);\n            if (savedSlots == null) return;\n\n            character.Inventory.Clear();\n\n            for(int i = 0; i &lt; savedSlots.SavedSlots.Length; i++)\n            {\n                ItemSlot itemSlot = character.Inventory.ItemSlots[i];\n                ItemSlotSaveData savedSlot = savedSlots.SavedSlots[i];\n\n                if(savedSlot == null)\n                { \n                    itemSlot.Item = null;\n\n                }\n                else\n                {\n                    itemSlot.Item = itemDatabase.GetItemCopy(savedSlot.ItemID);\n\n                }\n            }\n        }\n\n        public void LoadEquipment(Character character)\n        {\n            ItemContainerSaveData savedSlots = ItemSaveIO.LoadItems(EquipmentFileName);\n            if (savedSlots == null) return;\n\n            foreach (ItemSlotSaveData savedSlot in savedSlots.SavedSlots)\n            {\n                if(savedSlots == null)\n                {\n                    continue;\n                }\n\n\n                Item item = itemDatabase.GetItemCopy(savedSlot.ItemID);\n                character.Inventory.AddItem(item);\n                character.Equip((EquippableItem)item);\n            }\n\n        }\n\n        public void SaveInventory(Character character)\n        {\n            SaveItems(character.Inventory.ItemSlots, InventoryFileName);\n        }\n\n        public void SaveEquipment(Character character)\n        {\n            SaveItems(character.EquipmentPanel.EquipmentSlots, EquipmentFileName);\n        }\n\n        private void SaveItems(IList&lt;ItemSlot&gt; itemSlots, string fileName)\n        {\n            var saveData = new ItemContainerSaveData(itemSlots.Count);\n\n            for(int i = 0; i &lt; saveData.SavedSlots.Length; i++)\n            {\n                ItemSlot itemSlot = itemSlots[i];\n\n                if(itemSlot.Item == null)\n                {\n                    saveData.SavedSlots[i] = null;\n                }\n                else\n                {\n                    saveData.SavedSlots[i] = new ItemSlotSaveData(itemSlot.Item.ID);\n                }\n            }\n            ItemSaveIO.SaveItems(saveData, fileName);\n        }\n\n    }\n</code></pre>\n\n<p>ItemDatabase.cs</p>\n\n<pre><code>using UnityEngine;\n#if UNITY_EDITOR\nusing UnityEditor;\n#endif\n\n\n[CreateAssetMenu]\npublic class ItemDatabase : ScriptableObject\n{\n    [SerializeField] Item[] items;\n\n    public Item GetItemReference(string itemID)\n    {\n        foreach(Item item in items)\n        {\n            if(item.ID == itemID)\n            {\n                return item;\n            }\n        }\n        return null;\n    }\n\n    public Item GetItemCopy(string itemID)\n    {\n        Item item = GetItemReference(itemID);\n        if (item == null) return null;\n        return item.GetCopy();\n    }\n#if UNITY_EDITOR\n    private void OnValidate()\n    {\n        LoadItems();\n    }\n\n    private void OnEnable()\n    {\n        EditorApplication.projectWindowChanged -= LoadItems;\n    }\n\n    private void OnDisable()\n    {\n        EditorApplication.projectWindowChanged -= LoadItems;\n    }\n\n    private void LoadItems()\n    {\n        items = FindAssetsByType&lt;Item&gt;(\"Assets\");\n    }\n\n    public static T[] FindAssetsByType&lt;T&gt;(params string[] folders) where T : Object\n    {\n        string type = typeof(T).ToString().Replace(\"UnityEngine.\", \"\");\n\n        string[] guids;\n        if (folders == null || folders.Length == 0)\n        {\n            guids = AssetDatabase.FindAssets(\"t:\" + type);\n        }\n        else\n        {\n            guids = AssetDatabase.FindAssets(\"t:\" + type, folders);\n        }\n\n        T[] assets = new T[guids.Length];\n\n        for (int i = 0; i &lt; guids.Length; i++)\n        {\n            string assetPath = AssetDatabase.GUIDToAssetPath(guids[i]);\n            assets[i] = AssetDatabase.LoadAssetAtPath&lt;T&gt;(assetPath);\n        }\n        return assets;\n    }\n#endif\n}\n</code></pre>\n\n<p>finally 2 statements in the Character script Awake() function,</p>\n\n<pre><code> itemSaveManager.LoadEquipment(this);\n\n itemSaveManager.LoadInventory(this);\n</code></pre>\n\n<p>and 2 statements in the OnDestroy() function</p>\n\n<pre><code>    itemSaveManager.SaveEquipment(this);\n\n    itemSaveManager.SaveInventory(this);\n</code></pre>\n\n<p>what could have gone wrong here?\nAlso,this is the exception : </p>\n\n<pre><code>SerializationException: Attempting to deserialize an empty stream.\nSystem.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize (System.IO.Stream serializationStream, System.Runtime.Remoting.Messaging.HeaderHandler handler, System.Boolean fCheck, System.Boolean isCrossAppDomain, System.Runtime.Remoting.Messaging.IMethodCallMessage methodCallMessage) (at &lt;d7ac571ca2d04b2f981d0d886fa067cf&gt;:0)\nSystem.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize (System.IO.Stream serializationStream, System.Runtime.Remoting.Messaging.HeaderHandler handler, System.Boolean fCheck, System.Runtime.Remoting.Messaging.IMethodCallMessage methodCallMessage) (at &lt;d7ac571ca2d04b2f981d0d886fa067cf&gt;:0)\nSystem.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize (System.IO.Stream serializationStream, System.Runtime.Remoting.Messaging.HeaderHandler handler, System.Boolean fCheck) (at &lt;d7ac571ca2d04b2f981d0d886fa067cf&gt;:0)\nSystem.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize (System.IO.Stream serializationStream, System.Runtime.Remoting.Messaging.HeaderHandler handler) (at &lt;d7ac571ca2d04b2f981d0d886fa067cf&gt;:0)\nSystem.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize (System.IO.Stream serializationStream) (at &lt;d7ac571ca2d04b2f981d0d886fa067cf&gt;:0)\nFileReadWrite.ReadFromBinaryFile[T] (System.String filePath) (at Assets/Scripts/SaveFile/FileReadWrite.cs:20)\nItemSaveIO.LoadItems (System.String fileName) (at Assets/Scripts/SaveFile/ItemSaveIO.cs:22)\nItemSaveManager.LoadEquipment (Character character) (at Assets/Scripts/SaveFile/ItemSaveManager.cs:40)\nCharacter.Awake () (at Assets/Scripts/Character.cs:62)\n</code></pre>\n"}, {"tags": ["c#", "performance", "oxyplot"], "answers": [{"comments": [{"owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "edited": false, "score": 0, "creation_date": 1553109792, "post_id": 55268605, "comment_id": 97268433, "body": "You are running a bunch of tasks on the same thread you started with (the UI thread) due to <code>TaskScheduler.FromCurrentSynchronizationContext</code>.  This is roughly equal to calling <code>Control.BeginInvoke</code> or <code>Dispatcher.BeginInvoke</code>.  So your solution is to continue blocking the UI thread, but pump some messages in between?"}, {"owner": {"reputation": 1284, "user_id": 4949050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bRZda.jpg?s=128&g=1", "display_name": "Najdan Tomi\u0107", "link": "https://stackoverflow.com/users/4949050/najdan-tomi%c4%87"}, "reply_to_user": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "edited": false, "score": 0, "creation_date": 1553110711, "post_id": 55268605, "comment_id": 97268885, "body": "@Zer0 indeed UI thread is blocked, but at least memory usage is not increased to 2GB like it was before, it&#39;s at 100 MB instead. It solves performance issue regarding memory usage, as stated in question. Thank you for pointing out that UI thread is still blocked. What would be better solution?"}, {"owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "edited": false, "score": 0, "creation_date": 1553117433, "post_id": 55268605, "comment_id": 97272152, "body": "Can you clarify why this reduces memory usage?  (1) Doing the exports one after another on the UI thread and (2) Doing the exports individually while pumping the message loop in between them.  I understand #2 will make the UI more responsive, but the same work is still being done on the same thread."}, {"owner": {"reputation": 1284, "user_id": 4949050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bRZda.jpg?s=128&g=1", "display_name": "Najdan Tomi\u0107", "link": "https://stackoverflow.com/users/4949050/najdan-tomi%c4%87"}, "reply_to_user": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "edited": false, "score": 0, "creation_date": 1553117771, "post_id": 55268605, "comment_id": 97272306, "body": "@Zer0 not really sure why it reduces memory usage. It&#39;s known issue in oxyplot library. My guess that it waits for <code>Task</code> to finish and then creates another one releasing memory from previous one, while without <code>Task</code> it holds memory for each object until loop finishes."}], "tags": [], "owner": {"reputation": 1284, "user_id": 4949050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bRZda.jpg?s=128&g=1", "display_name": "Najdan Tomi\u0107", "link": "https://stackoverflow.com/users/4949050/najdan-tomi%c4%87"}, "is_accepted": false, "score": -1, "last_activity_date": 1553109390, "creation_date": 1553109390, "answer_id": 55268605, "question_id": 55268604, "link": "https://stackoverflow.com/questions/55268604/performance-issue-while-exporting-multiple-oxyplot-models-as-png/55268605#55268605", "title": "Performance issue while exporting multiple oxyplot models as png", "body": "<p><strong>Solution</strong></p>\n\n<p>If there is <code>List</code> of <code>PlotModel</code> objects that should be exported to filesystem create <code>Task</code> for each plot model. Problem arrises with <code>ExportToBitmap</code> which requires to run on UI thread. To solve this problem create <code>scheduler</code> and start task using it.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>var scheduler = TaskScheduler.FromCurrentSynchronizationContext();\nforeach(var model in models) { // models is list of PlotModel objects\n    var task = new Task(() =&gt; {\n        var pngExporter = new PngExporter {\n            Width = 1200,\n            Height = 742,\n            Background = OxyColors.White\n        };\n        pngExporter.ExportToFile(model, path); // define your own path\n    });\n    task.Start(scheduler);\n}\n</code></pre>\n"}], "owner": {"reputation": 1284, "user_id": 4949050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bRZda.jpg?s=128&g=1", "display_name": "Najdan Tomi\u0107", "link": "https://stackoverflow.com/users/4949050/najdan-tomi%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553109390, "creation_date": 1553109390, "question_id": 55268604, "link": "https://stackoverflow.com/questions/55268604/performance-issue-while-exporting-multiple-oxyplot-models-as-png", "title": "Performance issue while exporting multiple oxyplot models as png", "body": "<p><strong>Summary</strong></p>\n\n<p>When there are multiple charts that should be exported to file as PNG it introduces performance issue with memory and it blocks UI until all charts are saved.</p>\n\n<p>Documentation states following:</p>\n\n<blockquote>\n  <p>Warning: Calling the ExportToBitmap method often in a very short\n  period may result in high memory usage.</p>\n</blockquote>\n\n<p>Problem is <code>ExportToFile</code> also calls <code>ExportToBitmap</code> and that is source of memory issue.</p>\n\n<p>When trying to run this on background thread or using <code>Parallel.ForEach</code> application will crash with following message</p>\n\n<blockquote>\n  <p>The calling thread must be STA, because many UI components require this.</p>\n</blockquote>\n\n<p><strong>Question</strong></p>\n\n<p>How to improve performance of <code>ExportToFile</code> when calling it multiple times from for loop?</p>\n"}, {"tags": ["c#", "unity3d", "children"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 10369214, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_BI1_nbjfmQ/AAAAAAAAAAI/AAAAAAAAAME/BH7NsM5DmXQ/photo.jpg?sz=128", "display_name": "Program232323", "link": "https://stackoverflow.com/users/10369214/program232323"}, "edited": false, "score": 0, "creation_date": 1553112114, "post_id": 55268751, "comment_id": 97269575, "body": "Thanks for the response, I didnt realize it had to be used like that. We&#39;re working just fine now."}], "tags": [], "owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "is_accepted": true, "score": 0, "last_activity_date": 1553110644, "last_edit_date": 1592644375, "creation_date": 1553109972, "answer_id": 55268751, "question_id": 55268581, "link": "https://stackoverflow.com/questions/55268581/childrens-component-not-being-removed-if-there-is-only-one-child/55268751#55268751", "title": "Children&#39;s component not being removed if there is only one child", "body": "<p><a href=\"https://docs.unity3d.com/ScriptReference/GameObject.GetComponentsInChildren.html\" rel=\"nofollow noreferrer\"><code>GetComponentsInChildren</code></a> includes the <code>Transform</code> of the <code>selected</code> itself and also nested children!</p>\n<blockquote>\n<p>Returns all components of Type type in the GameObject or any of its children.</p>\n<p>The search for components is carried out recursively on child objects, so it includes children of children, and so on.</p>\n</blockquote>\n<p>also note that it has an optional parameter <code>bool</code> whether to include currently inactive or disabled components.</p>\n<hr />\n<p>However why are you getting <code>Transform</code> and than <code>GetComponent&lt;cakeslice.Outline&gt;()&gt;</code>? To destroy all <code>cakeslice.Outline&gt;()</code> instances simply do</p>\n<pre><code>var outlines = selected.GetComponentsInChildren&lt;cakeslice.Outline&gt;(true);\nforeach(var line in outline)\n{\n    Destroy(line);\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 10369214, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_BI1_nbjfmQ/AAAAAAAAAAI/AAAAAAAAAME/BH7NsM5DmXQ/photo.jpg?sz=128", "display_name": "Program232323", "link": "https://stackoverflow.com/users/10369214/program232323"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 55268751, "answer_count": 1, "score": -1, "last_activity_date": 1553112978, "creation_date": 1553109314, "last_edit_date": 1553112978, "question_id": 55268581, "link": "https://stackoverflow.com/questions/55268581/childrens-component-not-being-removed-if-there-is-only-one-child", "title": "Children&#39;s component not being removed if there is only one child", "body": "<p>I have imported some .obj's, all of them have a different amount of children, some with 1 some with more. In my game I am able to use the mouse to select one of these .obj's, and it puts an outline around the one I have selected. </p>\n\n<p>My deselection functionality doesn't seem to work correctly though. When trying to delete the script for the outline from one of these objects it wont do it if the object only has one child. 2 children seems to work fine every-time, but 1 child doesn't. It is for sure entering the child deletion loop, I debugged that recently, but it only enters it once as opposed to objects with 2 children entering the loop thrice. </p>\n\n<p>Any idea what could be the issue here?</p>\n\n<pre><code>        if(selected != null){\n            Transform[] ts = selected.GetComponentsInChildren&lt;Transform&gt;();\n            foreach (Transform child in ts){\n                Destroy(child.gameObject.GetComponent&lt;cakeslice.Outline&gt;());\n            }\n            Destroy(selected.GetComponent&lt;cakeslice.Outline&gt;());\n            selected = null;\n        }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 6063, "user_id": 3225495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/57OBG.jpg?s=128&g=1", "display_name": "BJ Myers", "link": "https://stackoverflow.com/users/3225495/bj-myers"}, "edited": false, "score": 0, "creation_date": 1553109393, "post_id": 55268577, "comment_id": 97268220, "body": "Is <code>Model</code> null?"}, {"owner": {"reputation": 13115, "user_id": 150605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pFmKd.png?s=128&g=1", "display_name": "Lance U. Matthews", "link": "https://stackoverflow.com/users/150605/lance-u-matthews"}, "edited": false, "score": 1, "creation_date": 1553110477, "post_id": 55268577, "comment_id": 97268776, "body": "The proposed duplicate is a <a href=\"https://meta.stackoverflow.com/questions/291992/what-is-a-canonical-question-answer-and-what-is-their-purpose\">canonical answer</a>, not for your exact problem, but the basic idea of &quot;something somewhere is <code>null</code>; use the debugger to find it.&quot;  If not <code>Model</code> then is the <code>Model.Paygroups</code> collection itself <code>null</code>?  Even if not, the fact that it&#39;s the responsibility of the user of the <code>UploadFiles</code> class to create the <code>List&lt;&gt;</code> for <code>Paygroups</code> - rather than <code>UploadFiles</code> creating a <code>get</code>-only <code>List&lt;&gt;</code> itself - seems error-prone."}, {"owner": {"reputation": 113, "user_id": 6235840, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/185d99992a1fdeb921bf7398145308ec?s=128&d=identicon&r=PG&f=1", "display_name": "Xiodrade", "link": "https://stackoverflow.com/users/6235840/xiodrade"}, "edited": false, "score": 0, "creation_date": 1553110897, "post_id": 55268577, "comment_id": 97268962, "body": "That...actually makes sense. I was creating the list in the post with the expectation that it would generate the list on load, but I was having a brain fluff forgetting post happens after the user hits the button... This resolved my issue. Thank you."}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1553111080, "post_id": 55268577, "comment_id": 97269048, "body": "In your code, <code>Paygroup</code> is just a string passed to the method by you which is then tested with <code>IsNullOrWhiteSpace</code>.  The <code>Paygroups</code> must be a collection of strings since that is what you assign to it - which means it is something altogether different and perhaps even unrelated to <code>Paygroup</code>.   Testing a string will not prevent a collection from being null.  The dupe applies"}], "answers": [{"tags": [], "owner": {"reputation": 113, "user_id": 6235840, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/185d99992a1fdeb921bf7398145308ec?s=128&d=identicon&r=PG&f=1", "display_name": "Xiodrade", "link": "https://stackoverflow.com/users/6235840/xiodrade"}, "is_accepted": false, "score": 0, "last_activity_date": 1553111957, "last_edit_date": 1553111957, "creation_date": 1553111366, "answer_id": 55269089, "question_id": 55268577, "link": "https://stackoverflow.com/questions/55268577/object-reference-still-returning-null-even-with-isnullorwhitespace/55269089#55269089", "title": "Object reference still returning null even with IsNullOrWhiteSpace?", "body": "<p>After taking what Bacon said into consideration I resolved my issue by simply moving my list and referencing my model into my GET edit()</p>\n\n<pre><code>public class UpdateFilesController : Controller\n{\n    // GET: Default\n    public ActionResult Edit()\n    {\n        var fullpath = Path.Combine(Server.MapPath(\"~/sourcefiles\"), \"paygroup.txt\");\n        List&lt;string&gt; paygroupsList = new List&lt;string&gt; { System.IO.File.ReadAllText(fullpath) };\n        UploadFiles model = new UploadFiles\n        {\n            Paygroups = paygroupsList\n        };\n        return View(model);\n    }\n    [HttpPost]\n    public ActionResult Edit(string Paygroup)\n    {\n        if (ModelState.IsValid)\n        {\n            var fullpath = Path.Combine(Server.MapPath(\"~/sourcefiles\"), \"paygroup.txt\");\n            System.IO.File.WriteAllText(fullpath, Paygroup);\n            ViewBag.Message = ($\"{Paygroup} succesfully added\");\n        }\n        return RedirectToAction(\"Edit\", \"UpdateFiles\");\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 6235840, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/185d99992a1fdeb921bf7398145308ec?s=128&d=identicon&r=PG&f=1", "display_name": "Xiodrade", "link": "https://stackoverflow.com/users/6235840/xiodrade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "closed_date": 1553112179, "answer_count": 1, "score": -2, "last_activity_date": 1553111957, "creation_date": 1553109287, "last_edit_date": 1553110036, "question_id": 55268577, "link": "https://stackoverflow.com/questions/55268577/object-reference-still-returning-null-even-with-isnullorwhitespace", "closed_reason": "Duplicate", "title": "Object reference still returning null even with IsNullOrWhiteSpace?", "body": "<blockquote>\n  <p>Object reference not set to an instance of an object. Description: An\n  unhandled exception occurred during the execution of the current web\n  request. Please review the stack trace for more information about the\n  error and where it originated in the code. </p>\n  \n  <p>Exception Details: System.NullReferenceException: Object reference not\n  set to an instance of an object</p>\n</blockquote>\n\n<p>I read up on the below thread and I couldn't find anything in regards to the issue I'm having.\n<a href=\"https://stackoverflow.com/questions/4660142/what-is-a-nullreferenceexception-and-how-do-i-fix-it\">What is a NullReferenceException, and how do I fix it?</a>\nMy error is occurring on the View after attempting to load the page for the very first time. When I read through that page it looked to all be referencing the controller I've backtracked and they are all referencing something, so I'm not exactly sure what else I can do...</p>\n\n<p><a href=\"https://i.stack.imgur.com/MxHiB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MxHiB.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am getting this error at</p>\n\n<pre><code>@foreach (string pg in Model.Paygroups)\n</code></pre>\n\n<p>in my view. I'm a little confused because I have Paygroups specified, and in my controller, I am sending the list to the model. I've tried messing with it for a couple of hours, but I'm not seeing where I'm not referencing the object. Any help is appreciated.</p>\n\n<p>Controller</p>\n\n<pre><code>    public class UpdateFilesController : Controller\n    {\n        // GET: Default\n        public ActionResult Edit()\n        {\n            return View();\n        }\n        [HttpPost]\n        public ActionResult Edit(string Paygroup)\n        {\n\n            var fullpath = Path.Combine(Server.MapPath(\"~/sourcefiles\"), \"paygroup.txt\");\n            List&lt;string&gt; paygroupsList = new List&lt;string&gt; { System.IO.File.ReadAllText(fullpath) };\n            if (ModelState.IsValid)\n            {\n                paygroupsList.Add(Paygroup);\n                ViewBag.Message($\"{Paygroup} succesfully added\");\n            }\n            if (String.IsNullOrWhiteSpace(Paygroup))\n            {\n                UploadFiles model = new UploadFiles\n                {\n                    Paygroups = paygroupsList\n                };\n                return View(model);\n            }\n            return View();\n        }\n    }\n}\n</code></pre>\n\n<p>Model</p>\n\n<pre><code>    public class UploadFiles\n    {\n        public List&lt;string&gt; Paygroups { get; set; }\n\n        [Required(ErrorMessage = \"Please enter a paygroup.\")]\n        public string PayGroup { get; set; }\n\n    }\n</code></pre>\n\n<p>View</p>\n\n<pre><code>@model WebApplication2.Models.UploadFiles\n@{\n    ViewBag.Title = \"Paygroup Edit\";\n    Layout = \"~/Views/Shared/_Layout.cshtml\";\n}\n\n&lt;h2&gt;Update Paygroup&lt;/h2&gt;\n\n@using (Html.BeginForm(\"Edit\", \"UpdateFiles\", FormMethod.Post, new {enctype = \"multipart/form-data\"}))\n{\n    @Html.AntiForgeryToken()\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(m =&gt; m.PayGroup, new {@class = \"control-label\"})\n        @Html.EditorFor(m =&gt; m.PayGroup, new {htmlAttributes = new {@class = \"form-control\", placeholder = Html.DisplayNameFor(m =&gt; m.PayGroup)}})\n        @Html.ValidationMessageFor(m =&gt; m.PayGroup, \"\", new {@class = \"text-danger\"})\n        &lt;input type=\"submit\" value=\"Add\" class=\"btn btn-default\"/&gt;\n    &lt;/div&gt;\n}\n@if (ViewBag.Message != null)\n{\n    {\n        &lt;script type=\"text/javascript\"&gt;\n            alert(\"@ViewBag.Message\");\n        &lt;/script&gt;\n    }\n}\n&lt;table class=\"table table-striped\"&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Paygroups&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n    &lt;tr&gt;\n        @foreach (string pg in Model.Paygroups)\n        {\n            &lt;td&gt;@pg&lt;/td&gt;\n        }\n    &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n"}, {"tags": ["c#", ".net-core", "activemq", "nms"], "answers": [{"comments": [{"owner": {"reputation": 2621, "user_id": 1808082, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PhHO2.jpg?s=128&g=1", "display_name": "Jo&#227;o Menighin", "link": "https://stackoverflow.com/users/1808082/jo%c3%a3o-menighin"}, "edited": false, "score": 0, "creation_date": 1553122128, "post_id": 55271115, "comment_id": 97273721, "body": "Tim thanks for the answer. Just want to clarify one last point: You said I need to close the consumer because I may listen to a different queue. So I do need to cache the consumer in order to close it, right? Wouldn&#39;t closing the <code>Connection</code> close the <code>Consumer</code> altogether?"}, {"owner": {"reputation": 15533, "user_id": 375722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04770ed0ecf1e91e322484f66c9726ba?s=128&d=identicon&r=PG", "display_name": "Tim Bish", "link": "https://stackoverflow.com/users/375722/tim-bish"}, "reply_to_user": {"reputation": 2621, "user_id": 1808082, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PhHO2.jpg?s=128&g=1", "display_name": "Jo&#227;o Menighin", "link": "https://stackoverflow.com/users/1808082/jo%c3%a3o-menighin"}, "edited": false, "score": 0, "creation_date": 1553129876, "post_id": 55271115, "comment_id": 97275682, "body": "As I said earlier in the answer it would, but given you said you wanted to change queue names you&#39;d need a new consumer to do that as a consumer is married to the queue you created it for.  To stop the consumer and later restart (on same queue) call connection stop / start"}], "tags": [], "owner": {"reputation": 15533, "user_id": 375722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04770ed0ecf1e91e322484f66c9726ba?s=128&d=identicon&r=PG", "display_name": "Tim Bish", "link": "https://stackoverflow.com/users/375722/tim-bish"}, "is_accepted": true, "score": 0, "last_activity_date": 1553175623, "last_edit_date": 1553175623, "creation_date": 1553121012, "answer_id": 55271115, "question_id": 55268547, "link": "https://stackoverflow.com/questions/55268547/activemq-when-to-close-session/55271115#55271115", "title": "ActiveMQ - When to close session?", "body": "<p>You can interchange close and dispose calls or just use close and let the .NET runtime call dispose although not much really happens when a closed resource is disposed in the NMS client.</p>\n\n<p>You can close a Connection instance and all its client resources will be closed implicitly so you don't need to micro manage them.  Given you are stating that you need to change to listening on a different Queue then you do need to close down the consumer instance and create a new one.  You don't need to close the Session or the Connection in that case since you will just turn around and create a new Connection and thus a new Session to manage the new MessageConsumer you would then be creating.  However if you only want to stop deliveries for some time then a simple connection stop / start can accomplish that.</p>\n\n<p>It all comes down to the amount of smarts you want to employ in your application.  There is a significant performance overhead to creating and closing connections so if you can manage it then your application we be all the better for not needing to tear down and rebuild needlessly.  </p>\n"}], "owner": {"reputation": 2621, "user_id": 1808082, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PhHO2.jpg?s=128&g=1", "display_name": "Jo&#227;o Menighin", "link": "https://stackoverflow.com/users/1808082/jo%c3%a3o-menighin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1016, "favorite_count": 0, "accepted_answer_id": 55271115, "answer_count": 1, "score": 0, "last_activity_date": 1553175623, "creation_date": 1553109180, "question_id": 55268547, "link": "https://stackoverflow.com/questions/55268547/activemq-when-to-close-session", "title": "ActiveMQ - When to close session?", "body": "<p>I'm migrating my Java application to .NET Core.\nIn Java I was using Spring Boot and didn't care much about handling the opening and closing of sessions / consumers / etc (don't know if I should though n_n'). \nMigrating to .NET I'm having to do more hard work in managing these objects.</p>\n\n<p>My scenario is simple:\nUpon starting my application, I start a <code>Connection</code> with a remote broker, a <code>Session</code>, a <code>Consumer</code> and register a <code>MessageListener</code> to handle the messages.</p>\n\n<p>The problem is my user wants to be able to active/deactive the listener and change the Queue Name whenever he wants to. Right know I'm only caching the <code>Connection</code> object so upon receiving the \"deactivate listener event\" or \"change queue name event\" I can simply call <code>connection.Dispose()</code> or <code>connection.Close()</code> and re-start all the process of creating again. My doubts are:</p>\n\n<ol>\n<li>Are <code>.Close()</code> and <code>.Dispose</code> interchangeable? Or do I need to call both?</li>\n<li>Is it enough to close only the <code>Connection</code> object? Will my session and consumer die as well or should I keep them cached and close altogether?</li>\n<li>If the above is enough, is there any advantage on kinda \"micro-managing\" this? For instance, when receveing the \"deactivate listener event\" I could maybe only <code>Stop()</code> the connection instead of killing it and having to recreate it.</li>\n</ol>\n\n<p>Here's how I'm starting my listener:</p>\n\n<pre><code>_logger.LogWarning($\"Starting ActiveMQ listener [{listener.Id}] ({ActiveMqHost})...\");\n_connection = _connectionFactory.CreateConnection(ActiveMqIntegrationsManager.ActiveMqUser, ActiveMqIntegrationsManager.ActiveMqPassword);\n_connection.ClientId = $\"{listener.Id}\";\n\n_connection.AcknowledgementMode = AcknowledgementMode.AutoAcknowledge;\n\nvar session = connection.CreateSession(AcknowledgementMode.AutoAcknowledge);\nvar queue = session.GetQueue(queueName);\nvar consumer = session.CreateConsumer(queue, queueSelector);\n\nconsumer.Listener += handler.OnReceive;\n_connection.ConnectionInterruptedListener += handler.OnInterrupt;\n_connection.ExceptionListener += handler.OnException;\n_connection.ConnectionResumedListener += handler.OnResume;\n_connection.Start();\n_logger.LogWarning($\"[{listener.Id}] started successfully!\");\n</code></pre>\n"}, {"tags": ["c#", "winforms", "working-remotely"], "comments": [{"owner": {"reputation": 989, "user_id": 6534215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kSf1u.png?s=128&g=1", "display_name": "Mouse On Mars", "link": "https://stackoverflow.com/users/6534215/mouse-on-mars"}, "edited": false, "score": 0, "creation_date": 1553109084, "post_id": 55268425, "comment_id": 97268070, "body": "What have you tried? Please show us some code so we can helop"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1553109763, "post_id": 55268425, "comment_id": 97268421, "body": "There are too many ways to approach this problem. The answers would just turn into a straw-poll for which one people liked. The best thing is to do some research on the topic yourself, find two or three, <i>analyze</i> them, determine if they work for you or not, and <i>try them out</i>. Come to us when you have a specific question about something you have attempted to do."}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1553109821, "post_id": 55268425, "comment_id": 97268449, "body": "See f.e. <a href=\"https://stackoverflow.com/questions/528652/what-is-the-simplest-method-of-inter-process-communication-between-2-c-sharp-pro\">what-is-the-simplest-method-of-inter-process-communication-b&zwnj;&#8203;etween-2-c-sharp-pro</a>"}], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 8899931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0893560882f5fe5771ba253cd5dc6a7?s=128&d=identicon&r=PG", "display_name": "Mert Akkanat", "link": "https://stackoverflow.com/users/8899931/mert-akkanat"}, "is_accepted": false, "score": 0, "last_activity_date": 1553177165, "creation_date": 1553177165, "answer_id": 55282278, "question_id": 55268425, "link": "https://stackoverflow.com/questions/55268425/how-connect-remotely-2-app-in-c-windows-form/55282278#55282278", "title": "How connect remotely 2 app in c# windows form?", "body": "<p>If connection is safety critical in your app you need to use TCP/IP, if is not just use UDP Socket connection. It recommended for short messages.</p>\n\n<p>UDP connects other LAN PC with it's IP and PORT number and also your server PC (A or B) need to listen it's port.\nExample for Client Side: </p>\n\n<pre><code>            Client = new TcpClient(\"192.168.1.1\", \"1111\");\n            Stream = Client.GetStream();\n            Stream.Flush();\n            data_inc = new Byte[256];\n\n            data_inc = System.Text.Encoding.ASCII.GetBytes(\"Your MESSAGE\" + \"\\n\");\n\n            Stream.Write(data_inc, 0, data_inc.Length);\n            Array.Clear(data_inc, 0, data_inc.Length);\n\n            // Read the first batch of the TcpServer response bytes.\n            bytes = Stream.Read(data, 0, data.Length);\n\n            //if you recieve any response \n            responseData = System.Text.Encoding.ASCII.GetString(data, 0, bytes);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11204551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/005d0376da205d330396dc4ffaab1b77?s=128&d=identicon&r=PG&f=1", "display_name": "Overpool", "link": "https://stackoverflow.com/users/11204551/overpool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1553177165, "creation_date": 1553108782, "last_edit_date": 1553115993, "question_id": 55268425, "link": "https://stackoverflow.com/questions/55268425/how-connect-remotely-2-app-in-c-windows-form", "title": "How connect remotely 2 app in c# windows form?", "body": "<p>I'm working on a very important school project in c# windows forms. It will be about a system separated in 2 parts. I have 2 apps and they should be on 2 different PCs. The first app called A should be on PC1 and the second app called B should be on PC2. </p>\n\n<p>They will be connected via the same LAN. The only function of app 1 is to activate a window log in app 2. Well, I'm still a rookie in C# and I don't know what kind of connection to use or how to connect them.</p>\n"}, {"tags": ["javascript", "c#", "asp.net", "razor", "model-view-controller"], "comments": [{"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 1, "creation_date": 1553108902, "post_id": 55268345, "comment_id": 97267960, "body": "buttons inside a form I believe innately submit. You could use <code>event.preventDefault</code> on each <code>button</code> element, or you can simply change the markup and replace the <code>button</code> tags with <code>input</code> tags with a <code>type</code> of <code>button</code>"}, {"owner": {"reputation": 2942, "user_id": 5312731, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qiT59.jpg?s=128&g=1", "display_name": "Lewis", "link": "https://stackoverflow.com/users/5312731/lewis"}, "edited": false, "score": 1, "creation_date": 1553109404, "post_id": 55268345, "comment_id": 97268232, "body": "Add <i>type=\u201cbutton\u201d</i> to the buttons. They do not need to be inputs for this to work. This should prevent the behaviour explained by zfrisch."}], "answers": [{"comments": [{"owner": {"reputation": 355, "user_id": 1333874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8eee4593af2f768d7e15a35fab14ad3?s=128&d=identicon&r=PG", "display_name": "Justin Le", "link": "https://stackoverflow.com/users/1333874/justin-le"}, "edited": false, "score": 0, "creation_date": 1553269116, "post_id": 55269039, "comment_id": 97334710, "body": "I&#39;ve updated the question... if you are able to let me know what you think is going on here--I&#39;d be glad to mark this as the accepted answer. :)"}], "tags": [], "owner": {"reputation": 1253, "user_id": 11034515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yq4rSQbo6sk/AAAAAAAAAAI/AAAAAAAAKEc/oUO6vNy8cWM/photo.jpg?sz=128", "display_name": "Joey Phillips", "link": "https://stackoverflow.com/users/11034515/joey-phillips"}, "is_accepted": false, "score": 1, "last_activity_date": 1553111162, "creation_date": 1553111162, "answer_id": 55269039, "question_id": 55268345, "link": "https://stackoverflow.com/questions/55268345/trouble-getting-javascript-function-to-work/55269039#55269039", "title": "Trouble getting Javascript function to work", "body": "<p>Instead of a Button tag use an input tag, and add type=\u201cbutton\u201d to the tag and this should fix your issue. I linked a website for reference. </p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/button\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/button</a></p>\n"}, {"tags": [], "owner": {"reputation": 1253, "user_id": 11034515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yq4rSQbo6sk/AAAAAAAAAAI/AAAAAAAAKEc/oUO6vNy8cWM/photo.jpg?sz=128", "display_name": "Joey Phillips", "link": "https://stackoverflow.com/users/11034515/joey-phillips"}, "is_accepted": true, "score": 1, "last_activity_date": 1553278797, "creation_date": 1553278797, "answer_id": 55305685, "question_id": 55268345, "link": "https://stackoverflow.com/questions/55268345/trouble-getting-javascript-function-to-work/55305685#55305685", "title": "Trouble getting Javascript function to work", "body": "<p>You should pass #@ViewBag.QuestionID in quotes then it will be treated as string argument</p>\n\n<p></p>\n\n<p>Otherwise, it is treated as variable thus error is generated.</p>\n"}], "owner": {"reputation": 355, "user_id": 1333874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8eee4593af2f768d7e15a35fab14ad3?s=128&d=identicon&r=PG", "display_name": "Justin Le", "link": "https://stackoverflow.com/users/1333874/justin-le"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 55305685, "answer_count": 2, "score": 2, "last_activity_date": 1553278797, "creation_date": 1553108466, "last_edit_date": 1553112454, "question_id": 55268345, "link": "https://stackoverflow.com/questions/55268345/trouble-getting-javascript-function-to-work", "title": "Trouble getting Javascript function to work", "body": "<p>ORIGINALLY; I had a button trying to call a function but nested inside of a form, the button will trigger submit form event by default:\nThe advice was to add a \n to the button tag and I was able to get past my original problem.</p>\n\n<p>My new problem is:</p>\n\n<p>So I have these buttons:\n<a href=\"https://i.stack.imgur.com/4K7sm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4K7sm.png\" alt=\"j\"></a></p>\n\n<p>And I want to have these buttons trigger whether or not a date field is hidden or not.</p>\n\n<pre><code>    else if (question.Expected_Answer_Type == \"Date\")\n{\n    &lt;input type=\"button\" value=\"Add a Date @ViewBag.QuestionID\" onclick=\"makeDateVisible(#@ViewBag.QuestionID)\"&gt;\n\n    @Html.TextBoxFor(m =&gt; m.QuestionnaireAnswers[i].Answer, Model.Date.ToString(\"M/d/yyyy\"), new { @class = \"form-control date hidden\", @id = ViewBag.QuestionID }) if (Model.QuestionnaireAnswers == null)\n\n    {\n        &lt;script&gt;\n            $(document).ready(function () {\n                    $('#@(ViewBag.QuestionID)')\n                        .val(\"@(DateTime.Today.ToShortDateString())\");\n                }\n\n            );\n            function makeDateVisible(@ViewBag.QuestionID) {\n                alert(\"Hello\");\n            } \n\n        &lt;/script&gt;\n    }\n}\n</code></pre>\n\n<p>I can't seem to get the Alert inside the makeDateVisible to trigger.</p>\n\n<p>inside the browser....\nI get the error:\n Uncaught SyntaxError: Invalid or unexpected token\nand the red line appears at the end of this line:</p>\n\n<pre><code>  &lt;input type=\"button\" value=\"Add a Date @ViewBag.QuestionID\" onclick=\"makeDateVisible(#@ViewBag.QuestionID)\"&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc-5", "pagedlist"], "comments": [{"owner": {"reputation": 835, "user_id": 7434750, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-J0pKN2ppNC4/AAAAAAAAAAI/AAAAAAAAAM8/w3n_ZH0gBZA/photo.jpg?sz=128", "display_name": "Davide Vitali", "link": "https://stackoverflow.com/users/7434750/davide-vitali"}, "edited": false, "score": 0, "creation_date": 1553108802, "post_id": 55268318, "comment_id": 97267908, "body": "A nuget package for pagination is a tremendous overkill. You just need to add an \u2018int Page\u2019 to your model and then use that value in your index controller (through routing) to take the selected portion of data from your db using \u2018db.ICS_Supplies.Skip(n * Page).Take(n)\u2019, where \u2018n\u2019 is the number of items per page."}, {"owner": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 1, "creation_date": 1553108916, "post_id": 55268318, "comment_id": 97267969, "body": "Your table header row references the model (<code>IPagedList</code>) as if it had properties of <code>ICS_Supplies</code>."}, {"owner": {"reputation": 279, "user_id": 10156802, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160646827615058/picture?type=large", "display_name": "ExecChef", "link": "https://stackoverflow.com/users/10156802/execchef"}, "reply_to_user": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 0, "creation_date": 1553109382, "post_id": 55268318, "comment_id": 97268216, "body": "@Jasen - BINGO!  Thank you.  Your comment was all that was needed to get this working properly."}], "owner": {"reputation": 279, "user_id": 10156802, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160646827615058/picture?type=large", "display_name": "ExecChef", "link": "https://stackoverflow.com/users/10156802/execchef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553108361, "creation_date": 1553108361, "question_id": 55268318, "link": "https://stackoverflow.com/questions/55268318/adding-pagination-using-pagedlist-mvc", "title": "Adding Pagination using PagedList.MVC", "body": "<p>I have an Index Razor View (MVC5 C#), that simply displays a list of data from a table called ICS_Supplies.  This is fine, except there are many rows of data and therefore, it can take a long time to populate the view.  Thus, the need for Pagination.  I come from old asp.net forms with VB.net, where pagination is quite simple.  MVC5 and C# are still quite new . . and I am having a problem getting it working.</p>\n\n<p>Here is where I am at.  My Model:</p>\n\n<pre><code>namespace ICS20web.Models\n{\nusing System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\nusing System.ComponentModel.DataAnnotations.Schema;\nusing System.Data.Entity.Spatial;\nusing PagedList;\n\n\npublic partial class ICS_Supplies\n{\n    [Key]\n    public int Supplies_ID { get; set; }\n\n    [StringLength(25)]\n    public string Old_ItemID { get; set; }\n\n    [StringLength(80)]\n    public string ItemDescription { get; set; }\n\n    public int? OnHand { get; set; }\n\n    public int? ReorderLevel { get; set; }\n\n    public int? ReorderAmt { get; set; }\n\n    [StringLength(10)]\n    public string UnitMeasure { get; set; }\n\n    [StringLength(30)]\n    public string SupplyLocation { get; set; }\n\n    [StringLength(1)]\n    public string InvType { get; set; }\n\n    [StringLength(1)]\n    public string Discontinued { get; set; }\n}\n}\n</code></pre>\n\n<p>Here is my Controller for Index</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Data;\nusing System.Data.Entity;\nusing System.Linq;\nusing System.Net;\nusing System.Web;\nusing System.Web.Mvc;\nusing ICS20web.Models;\nusing PagedList;\n\nnamespace ICS20web.Controllers\n{\npublic class SuppliesController : Controller\n{\n    private ICS_Internal_Transactions db = new ICS_Internal_Transactions();\n\n    // GET: Supplies\n    public ActionResult Index()\n    {\n\n        var supplies = db.ICS_Supplies.OrderByDescending(g =&gt;     g.Supplies_ID).ToList();\n        var model = new PagedList&lt;ICS_Supplies&gt;(supplies, 1, 10);\n\n        return View(model);\n\n\n    }\n</code></pre>\n\n<p>And here is my View Code</p>\n\n<pre><code>@model PagedList.IPagedList&lt;ICS20web.Models.ICS_Supplies&gt;\n@using PagedList.Mvc;\n\n\n@{\nViewBag.Title = \"Index\";\n}\n\n&lt;h2&gt;Index&lt;/h2&gt;\n\n&lt;p&gt;\n@Html.ActionLink(\"Create New\", \"Create\")\n&lt;/p&gt;\n&lt;table class=\"table\"&gt;\n&lt;tr&gt;\n    &lt;th&gt;\n        @Html.DisplayNameFor(model =&gt; model.Old_ItemID)\n    &lt;/th&gt;\n    &lt;th&gt;\n        @Html.DisplayNameFor(model =&gt; model.ItemDescription)\n    &lt;/th&gt;\n    &lt;th&gt;\n        @Html.DisplayNameFor(model =&gt; model.OnHand)\n    &lt;/th&gt;\n    &lt;th&gt;\n        @Html.DisplayNameFor(model =&gt; model.ReorderLevel)\n    &lt;/th&gt;\n    &lt;th&gt;\n        @Html.DisplayNameFor(model =&gt; model.ReorderAmt)\n    &lt;/th&gt;\n    &lt;th&gt;\n        @Html.DisplayNameFor(model =&gt; model.UnitMeasure)\n    &lt;/th&gt;\n    &lt;th&gt;\n        @Html.DisplayNameFor(model =&gt; model.SupplyLocation)\n    &lt;/th&gt;\n    &lt;th&gt;\n        @Html.DisplayNameFor(model =&gt; model.InvType)\n    &lt;/th&gt;\n    &lt;th&gt;\n        @Html.DisplayNameFor(model =&gt; model.Discontinued)\n    &lt;/th&gt;\n    &lt;th&gt;&lt;/th&gt;\n  &lt;/tr&gt;\n\n@foreach (var item in Model) {\n&lt;tr&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.Old_ItemID)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.ItemDescription)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.OnHand)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.ReorderLevel)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.ReorderAmt)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.UnitMeasure)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.SupplyLocation)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.InvType)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.Discontinued)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.ActionLink(\"Edit\", \"Edit\", new { id=item.Supplies_ID }) |\n        @Html.ActionLink(\"Details\", \"Details\", new { id=item.Supplies_ID }) |\n        @Html.ActionLink(\"Delete\", \"Delete\", new { id=item.Supplies_ID })\n    &lt;/td&gt;\n&lt;/tr&gt;\n}\n\n&lt;/table&gt;\n\n@Html.PagedListPager(Model, page =&gt; Url.Action(\"Index\", new { page, pagesize = 5 }))\n</code></pre>\n\n<p>I have installed PagedList.MVC Nuget and added the appropriate references in my View Web.Config file, as instructed.  </p>\n\n<p>I am currently getting the following error when the page tries to load:</p>\n\n<p>Compiler Error Message: CS1061: 'IPagedList' does not contain a definition for 'Old_ItemID' and no extension method 'Old_ItemID' accepting a first argument of type 'IPagedList' could be found (are you missing a using directive or an assembly reference?)</p>\n\n<p>First thing I did, was remove the object 'Old_ItemID' from the view, but then the same error generates with the next object.</p>\n\n<p>I am trying to follow through the error.  Looks like it's telling me that there is no definition for 'Old_ItemID' in IPagedLIST, however when I look at the model ICS_Supplies, the definition is there.  Did I set it up wrong in the controller?  I am lost as to where to look next.</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "is_accepted": true, "score": 1, "last_activity_date": 1553109669, "last_edit_date": 1553109669, "creation_date": 1553109358, "answer_id": 55268594, "question_id": 55268317, "link": "https://stackoverflow.com/questions/55268317/how-can-i-change-a-guilayout-button-in-editor-script-text-and-color-and-back/55268594#55268594", "title": "How can I change a GUILayout.Button in editor script text and color and back?", "body": "<pre><code>// Disable the Button\nEditorGUI.BeginDisabledGroup(myScript.objectsinfo.Length == 0);\n{\n    // change fontColor\n    var originalFontColor = GUI.contentColor;\n    if(myScript.objectsinfo.Length == 0) GUI.contentColor = Color.Red;\n    {\n        // Change the text\n        if (GUILayout.Button(myScript.objectsinfo.Length == 0 ? \"No Results\" :\"Search\"))\n        {\n                myScript.Search();\n        }\n    }\n    // reset back to normal color\n    GUI.contentColor = originalFontColor;\n}\nEditorGUI.EndDisabledGroup();\n</code></pre>\n\n<p>I just add the additional <code>{</code> <code>}</code> to clean the code a bit since EditorCode usually gets very complex.</p>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"https://docs.unity3d.com/ScriptReference/GUI-contentColor.html\" rel=\"nofollow noreferrer\">GUI.contentColor</a></li>\n<li><a href=\"https://docs.unity3d.com/ScriptReference/EditorGUI.BeginDisabledGroup.html\" rel=\"nofollow noreferrer\">EditorGUI.BeginDisabledGroup</a> &amp; <a href=\"https://docs.unity3d.com/ScriptReference/EditorGUI.EndDisabledGroup.html\" rel=\"nofollow noreferrer\">EditorGUI.EndDisabledGroup</a></li>\n<li><a href=\"https://docs.microsoft.comdotnet/csharp/language-reference/operators/conditional-operator\" rel=\"nofollow noreferrer\">? (also ternary) operator</a></li>\n</ul>\n"}], "owner": {"reputation": 679, "user_id": 10565555, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9CISvR6VK0U/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBM3a-D1UVXOe08ChJ66btxKqn6jw/mo/photo.jpg?sz=128", "display_name": "Dubi Duboni", "link": "https://stackoverflow.com/users/10565555/dubi-duboni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1148, "favorite_count": 0, "accepted_answer_id": 55268594, "answer_count": 1, "score": 0, "last_activity_date": 1553109669, "creation_date": 1553108360, "question_id": 55268317, "link": "https://stackoverflow.com/questions/55268317/how-can-i-change-a-guilayout-button-in-editor-script-text-and-color-and-back", "title": "How can I change a GUILayout.Button in editor script text and color and back?", "body": "<pre><code>using UnityEngine;\nusing System.Collections;\nusing UnityEditor;\n\n[CustomEditor(typeof(GameObjectInfo))]\npublic class GameObjectInfoButton : Editor\n{\n    public override void OnInspectorGUI()\n    {\n        DrawDefaultInspector();\n\n        GameObjectInfo myScript = (GameObjectInfo)target;\n\n        var style = new GUIStyle(GUI.skin.button);\n        style.normal.textColor = Color.red;\n\n        if (myScript.useButton == false)\n        {\n            GUI.enabled = false;\n        }\n        else\n        {\n            GUI.enabled = true;\n        }\n        if(myScript.objectsinfo.Length == 0)\n        {\n\n        }\n        else\n        {\n\n        }\n        if (GUILayout.Button(\"Search\"))\n        {\n            myScript.Search();\n        }\n\n        GUILayout.Space(70);\n        if (GUILayout.Button(\"Compare\"))\n        {\n\n        }\n    }\n}\n</code></pre>\n\n<p>I want that if <code>myScript.objectsinfo.Length == 0</code> then disable the button \"Search\" change the font color to Red change the text to \"No Results\".</p>\n\n<p>And if myScript.objectsinfo.Length is large then 0 change the button back to black color font and the text \"Search\".</p>\n\n<p>And keep one button only the <code>if (GUILayout.Button(\"Search\"))</code> just switch the colors and text according to the myScript.objectsinfo.Length.</p>\n"}, {"tags": ["c#", "datetime", "asp.net-web-api", "json.net"], "comments": [{"owner": {"reputation": 867, "user_id": 2770438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8219814e55b3ab73a24b7f24fdf8eb73?s=128&d=identicon&r=PG&f=1", "display_name": "jmdon", "link": "https://stackoverflow.com/users/2770438/jmdon"}, "edited": false, "score": 0, "creation_date": 1553108490, "post_id": 55268300, "comment_id": 97267766, "body": "It really depends on a project by project basis. Providing you are consistent in your approach I have seen it done in various ways and what you&#39;re doing is fine."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1553111244, "post_id": 55268300, "comment_id": 97269134, "body": "The global setting <a href=\"https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_DateTimeZoneHandling.htm\" rel=\"nofollow noreferrer\"><code>DateTimeZoneHandling.Utc</code></a>.  may be what you need.  It converts to UTC during deserialization taking into account any explicit time zone offsets in the JSON datetime string."}, {"owner": {"reputation": 3768, "user_id": 253266, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/60f8be1907b4d9c4d1c4a6a4b0556bc7?s=128&d=identicon&r=PG", "display_name": "hyankov", "link": "https://stackoverflow.com/users/253266/hyankov"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1553111871, "post_id": 55268300, "comment_id": 97269444, "body": "@dbc &quot;taking into account any explicit time zone offsets in the JSON datetime string&quot; -  meaning if there&#39;s a timezone in the string, it won&#39;t override it, right?"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1553112634, "post_id": 55268300, "comment_id": 97269819, "body": "Meaning that it will use the time zone in the string to convert to UTC, taking the provided time zone into account.  See <a href=\"https://stackoverflow.com/q/10302902/3744182\">Can you tell JSON.Net to serialize DateTime as Utc even if unspecified?</a> Alternatively I suppose you could make a synthetic <code>DateTimeOffset</code> property in your model and do the conversion yourself in the setter."}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 0, "creation_date": 1553116070, "post_id": 55268300, "comment_id": 97271556, "body": "Can you please clarify: 1) Is this ASP.Net or ASP.Net Core? 2) Is this model used in a REST API Controller (receiving JSON)? Or is it a View Model used with a Razor MVC View (receiving form-post values)?  3) Are you sending whole dates (like <code>2019-03-20</code>) or date+time values (like <code>2019-03-20T00:00:00</code>) or date+time+offset values (like <code>2019-03-20T00:00:00-08:00</code>)?"}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 1, "creation_date": 1553116176, "post_id": 55268300, "comment_id": 97271599, "body": "One point to make right away: <code>DateTime.ToUniversalTime</code> should <i>never</i> be used in a web app.  It converts <i>from the server&#39;s local time zone</i> to UTC."}, {"owner": {"reputation": 3768, "user_id": 253266, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/60f8be1907b4d9c4d1c4a6a4b0556bc7?s=128&d=identicon&r=PG", "display_name": "hyankov", "link": "https://stackoverflow.com/users/253266/hyankov"}, "reply_to_user": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 0, "creation_date": 1553123429, "post_id": 55268300, "comment_id": 97274097, "body": "@MattJohnson, it&#39;s Web API 2 (not Core). Yes, it&#39;s a REST controller which receives JSON. It receives date+time, but I may have other use cases where I receive just the date. Thanks for the second point, I was going in the wrong direction then. I think <code>DateTimeZoneHandling.Utc</code> gives me what I need - an input in UTC."}], "answers": [{"comments": [{"owner": {"reputation": 3768, "user_id": 253266, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/60f8be1907b4d9c4d1c4a6a4b0556bc7?s=128&d=identicon&r=PG", "display_name": "hyankov", "link": "https://stackoverflow.com/users/253266/hyankov"}, "edited": false, "score": 0, "creation_date": 1553108946, "post_id": 55268442, "comment_id": 97267983, "body": "Yep, I already save the dates as UTC and by virtue I also always return UTC. I agree, it shall be up to the consumer to show it in the right timezone. The question is about the <i>input</i>. What&#39;s the best practice to either ensure that the date comes as UTC."}], "tags": [], "owner": {"reputation": 4119, "user_id": 10839105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5b19eba5c32ea65bb432a004aad5e3?s=128&d=identicon&r=PG", "display_name": "Manoj Choudhari", "link": "https://stackoverflow.com/users/10839105/manoj-choudhari"}, "is_accepted": false, "score": 0, "last_activity_date": 1553109553, "last_edit_date": 1553109553, "creation_date": 1553108839, "answer_id": 55268442, "question_id": 55268300, "link": "https://stackoverflow.com/questions/55268300/whats-the-best-practice-about-receiving-datetime-input-through-the-view-models/55268442#55268442", "title": "What&#39;s the best practice about receiving DateTime input through the View Models?", "body": "<p>If your application is to be used in multiple timezones, I would suggest to save UTC datetime object in database. </p>\n\n<p>A common practice to convert this UTC date time object to local datetime. </p>\n\n<p><strong>Intput</strong></p>\n\n<p>API should take ISO 8601 format as input <a href=\"https://www.moesif.com/blog/technical/timestamp/manage-datetime-timestamp-timezones-in-api/#\" rel=\"nofollow noreferrer\">as mentioned in this blog</a>.</p>\n\n<blockquote>\n  <p>prefer ISO 8601 (yyyy-MM-dd'T'HH:mm:ssZ) because it\u2019s\n  human readable and has a specified timezone. There is no ambiguity if\n  the epoch is in seconds or milliseconds. ISO 8601 strings are encoded\n  in a way that enable decent string sorting and comparison.</p>\n</blockquote>\n\n<p><strong>Output</strong></p>\n\n<p>I believe you want to know how should web api return the DateTime object. </p>\n\n<p>In my opinion, RESTful API should be independent of timezone and it should return date in UTC.</p>\n\n<p>The phone app / desktop app / web app which is calling this API should have responsibility to show dates in correct timezone format. </p>\n\n<p>But again, as stated earlier in the comments, this decision is driven by design of your application.  </p>\n\n<p>I hope this helps.</p>\n"}], "owner": {"reputation": 3768, "user_id": 253266, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/60f8be1907b4d9c4d1c4a6a4b0556bc7?s=128&d=identicon&r=PG", "display_name": "hyankov", "link": "https://stackoverflow.com/users/253266/hyankov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 676, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1553110555, "creation_date": 1553108296, "last_edit_date": 1553110555, "question_id": 55268300, "link": "https://stackoverflow.com/questions/55268300/whats-the-best-practice-about-receiving-datetime-input-through-the-view-models", "title": "What&#39;s the best practice about receiving DateTime input through the View Models?", "body": "<p>I have a View Model, where one of the properties is <code>DateTime</code>. I want to allow the requester to send a DateTime in any timezone they want to. On my end, I want to convert that date-time to UTC and if timezone information did not arrive with the date, to just assume it's UTC.</p>\n\n<p>Alternatively, I'd be fine with restricting the posted <code>DateTime</code> to either UTC or to at least something that contains timezone information.</p>\n\n<p>My backend works with all dates in UTC, returns them in UTC and that's how it saves too. This question is about receiving the 'client' input and what's the best practice of accepting the date and turning it into or ensuring it's UTC.</p>\n\n<p>This is what I have right now</p>\n\n<pre><code>public class MyViewModel\n{\n    /// &lt;summary&gt;\n    /// Start date, in UTC.\n    /// &lt;/summary&gt;\n    [Required]\n    [DataType(DataType.Date)]\n    public DateTime StartDate { get; set; }\n}\n</code></pre>\n\n<p>And in the Controller:</p>\n\n<pre><code>// Convert to UTC\nmodel.StartDate = model.StartDate.ToUniversalTime();\n</code></pre>\n\n<p>I guess I could also do that in the View Model itself, by adding a constructor.</p>\n\n<p>What's the best practice about receiving <code>DateTime</code> input through the View Models? Ultimately I want to ensure what I receive is UTC.</p>\n"}, {"tags": ["c#", "json", "json.net", "json-deserialization"], "comments": [{"owner": {"reputation": 2780, "user_id": 3883866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsLP1.jpg?s=128&g=1", "display_name": "Jesse de Wit", "link": "https://stackoverflow.com/users/3883866/jesse-de-wit"}, "edited": false, "score": 0, "creation_date": 1553112244, "post_id": 55268184, "comment_id": 97269630, "body": "Quick search: <a href=\"https://stackoverflow.com/a/26108527/3883866\">stackoverflow.com/a/26108527/3883866</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "is_accepted": true, "score": 0, "last_activity_date": 1553112927, "creation_date": 1553112927, "answer_id": 55269469, "question_id": 55268184, "link": "https://stackoverflow.com/questions/55268184/json-deserialize-ignoring-objects-with-wrong-values/55269469#55269469", "title": "Json deserialize ignoring objects with wrong values", "body": "<p>You can deserialize your json to anonymous type, and then filter result with linq</p>\n\n<p>Define an anonymous type like</p>\n\n<pre><code>var template = new {\n  requests = new [] {\n    new {\n      clientId = \"\",\n      requestId = \"\",\n      name = \"\",\n      quantity = \"\",\n      price = \"\"\n    } \n  }\n};\n</code></pre>\n\n<p>Here you can see that all types are string, so deserialization should work well. Now you should check that it is possible to convert each string to corresponding data type with <code>TryParse</code>. Full code:</p>\n\n<pre><code>var json = \"{\\r\\n    \\\"requests\\\":[\\r\\n        {\\r\\n            \\\"clientId\\\":\\\"1\\\",\\r\\n            \\\"requestId\\\":\\\"1\\\",\\r\\n            \\\"name\\\":\\\"Bu\u0142ka\\\",\\r\\n            \\\"quantity\\\":\\\"1\\\",\\r\\n            \\\"price\\\":\\\"10.00\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"clientId\\\":\\\"1\\\",\\r\\n            \\\"requestId\\\":\\\"2.1\\\",\\r\\n            \\\"name\\\":\\\"Chleb\\\",\\r\\n            \\\"quantity\\\":\\\"2\\\",\\r\\n            \\\"price\\\":\\\"15.00\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"clientId\\\":\\\"1\\\",\\r\\n            \\\"requestId\\\":\\\"2\\\",\\r\\n            \\\"name\\\":\\\"Chleb\\\",\\r\\n            \\\"quantity\\\":\\\"5\\\",\\r\\n            \\\"price\\\":\\\"15.00\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"clientId\\\":\\\"2\\\",\\r\\n            \\\"requestId\\\":\\\"1\\\",\\r\\n            \\\"name\\\":\\\"Chleb\\\",\\r\\n            \\\"quantity\\\":\\\"1\\\",\\r\\n            \\\"price\\\":\\\"10.00\\\"\\r\\n        }\\r\\n    ]\\r\\n}\";\n\nvar template = new { requests = new [] { new {clientId = \"\", requestId = \"\", name = \"\", quantity = \"\", price = \"\"} }};\nvar tempRequestCollection = JsonConvert.DeserializeAnonymousType(json, template);\n\nvar result = new RequestCollection\n{\n    requests = tempRequestCollection.requests\n        .Where(r =&gt; \n            long.TryParse(r.requestId, out var _)\n            &amp;&amp; int.TryParse(r.quantity, out var _)\n            &amp;&amp; double.TryParse(r.price, out var _)\n          )\n        .Select(r =&gt; new Request\n        {\n            clientId = r.clientId,\n            requestId = long.Parse(r.requestId),\n            name = r.name,\n            quantity = int.Parse(r.quantity),\n            price = double.Parse(r.price)\n        })\n        .ToList()\n};\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 7410847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/723bdd3c9ce719a7a92019ccd85622f5?s=128&d=identicon&r=PG&f=1", "display_name": "Lordzio", "link": "https://stackoverflow.com/users/7410847/lordzio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 55269469, "answer_count": 1, "score": -1, "last_activity_date": 1553112927, "creation_date": 1553107904, "last_edit_date": 1553108258, "question_id": 55268184, "link": "https://stackoverflow.com/questions/55268184/json-deserialize-ignoring-objects-with-wrong-values", "title": "Json deserialize ignoring objects with wrong values", "body": "<p>I want to make my json deserializer ignore objects with improper values (like string in place of a int) or return null for them and continue to deserialize the rest of a json file.</p>\n\n<p>Here is my json:</p>\n\n<pre><code>{\n    \"requests\":[\n        {\n            \"clientId\":\"1\",\n            \"requestId\":\"1\",\n            \"name\":\"Bu\u0142ka\",\n            \"quantity\":\"1\",\n            \"price\":\"10.00\"\n        },\n        {\n            \"clientId\":\"1\",\n            \"requestId\":\"2.1\",\n            \"name\":\"Chleb\",\n            \"quantity\":\"2\",\n            \"price\":\"15.00\"\n        },\n        {\n            \"clientId\":\"1\",\n            \"requestId\":\"2\",\n            \"name\":\"Chleb\",\n            \"quantity\":\"5\",\n            \"price\":\"15.00\"\n        },\n        {\n            \"clientId\":\"2\",\n            \"requestId\":\"1\",\n            \"name\":\"Chleb\",\n            \"quantity\":\"1\",\n            \"price\":\"10.00\"\n        }\n    ]\n}\n</code></pre>\n\n<p>Here are the classes I'm deserializing to:</p>\n\n<pre><code>class RequestCollection\n{\n    public List&lt;Request&gt; requests { get; set; }\n\n    public RequestCollection()\n    {\n        requests = new List&lt;Request&gt;();\n    }\n}\n\nclass Request\n{\n    public string clientId { get; set; }\n    public long requestId { get; set; }\n    public string name { get; set; }\n    public int quantity { get; set; }\n    public double price { get; set; }\n\n    public Request() { }\n    public Request(string clientID, long requestID, string name, int quantity, double price)\n    {\n        this.clientId = clientID;\n        this.requestId = requestID;\n        this.name = name;\n        this.quantity = quantity;\n        this.price = price;\n    }\n}\n</code></pre>\n\n<p>And here is how I deserialize the file:</p>\n\n<pre><code>requestCollectionLocal = JsonConvert.DeserializeObject&lt;RequestCollection&gt;(json);\n</code></pre>\n\n<p>As you can see I have improper value of requestId in 2nd object in json file. I want the result of deserialization to be just 3 other objects or all 4 objects with null values instead of improper ones.</p>\n"}, {"tags": ["c#", "winforms", "tablelayoutpanel"], "comments": [{"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1553112279, "post_id": 55268124, "comment_id": 97269650, "body": "It appears that only the first Row style is set to <code>Percent</code>, the other to a fixed size or to a smaller value. You should remove all the styles before assigning new values. Do the same using just the designer and assign 25% to all Rows and Columns. You&#39;ll have a different behaviour. Don&#39;t forget the <code>MaximumSize</code> and <code>MinimumSize</code> properties. Those are quite important in this kind of layout. For the TableLayoutPanel and the Controls it hosts."}, {"owner": {"reputation": 25, "user_id": 11205055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kf7Zf.jpg?s=128&g=1", "display_name": "Jader", "link": "https://stackoverflow.com/users/11205055/jader"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1553157751, "post_id": 55268124, "comment_id": 97283197, "body": "Thanks, I cleared both the <code>ColumnStyles</code> and <code>RowStyles</code>, then added a respective style to both for each row and column. The reason I&#39;m not doing this through the editor is because I only know the sizes of the array at runtime."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 1, "creation_date": 1553173447, "post_id": 55268124, "comment_id": 97291893, "body": "Sure. I suggested to test it using the Designer so the problem would pop. If you fixed it, post as an answer."}], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 11205055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kf7Zf.jpg?s=128&g=1", "display_name": "Jader", "link": "https://stackoverflow.com/users/11205055/jader"}, "is_accepted": false, "score": 1, "last_activity_date": 1553189779, "creation_date": 1553189779, "answer_id": 55286222, "question_id": 55268124, "link": "https://stackoverflow.com/questions/55268124/how-to-dynamically-scale-control-size-in-a-tablelayoutpanel/55286222#55286222", "title": "How to dynamically scale control size in a TableLayoutPanel", "body": "<h2>Solution</h2>\n\n<p>I've fixed it by clearing both the <code>ColumnStyles</code> and <code>RowStyles</code> and adding a new style for each row and column. Each style has it's <code>SizeType</code> set to <code>Percent</code> and the width/height is calculated.</p>\n\n<h2>Code</h2>\n\n<p><strong>I have replaced <code>testArr</code> with <code>sortedContainers</code>, a collection the function was made for.</strong></p>\n\n<pre><code>       // above code hasn't changed\n        Single percHeight = ((Single)1 / (Single)tableLayoutPanel_TopView.RowStyles.Count) * 100;\n        Single percWidth = ((Single)1 / (Single)tableLayoutPanel_TopView.ColumnStyles.Count) * 100;\n\n        tableLayoutPanel_TopView.ColumnStyles.Clear();\n        tableLayoutPanel_TopView.RowStyles.Clear();\n\n        for (int x = 0; x &lt; sortedContainers.Width; x++)\n        {\n            tableLayoutPanel_TopView.ColumnStyles.Add(new ColumnStyle\n            {\n                SizeType = SizeType.Percent,\n                Width = percWidth\n            });\n        }\n\n        for (int y = 0; y &lt; sortedContainers.Length; y++)\n        {\n            tableLayoutPanel_TopView.RowStyles.Add(new RowStyle\n            {\n                SizeType = SizeType.Percent,\n                Height = percHeight\n            });\n        }\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 11205055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kf7Zf.jpg?s=128&g=1", "display_name": "Jader", "link": "https://stackoverflow.com/users/11205055/jader"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553189779, "creation_date": 1553107682, "last_edit_date": 1553189759, "question_id": 55268124, "link": "https://stackoverflow.com/questions/55268124/how-to-dynamically-scale-control-size-in-a-tablelayoutpanel", "title": "How to dynamically scale control size in a TableLayoutPanel", "body": "<h2>My goal is to have a grid of buttons which represent my 2d array using a TableLayoutPanel.</h2>\n\n<p>Currently I can get the correct amount of columns and rows and it adds the buttons in the right place. </p>\n\n<p>The problem I am having is the scaling of the buttons. I've already tried <a href=\"https://stackoverflow.com/questions/16303805/windows-forms-dynamic-layout\">other solutions</a> but they don't seem to work.</p>\n\n<h2>Filling the table</h2>\n\n<pre><code>int[,] testArr = new int[,] { { 1, 2, 3, 4 }, { 5, 6, 7, 8 }, { 9, 10, 11, 12 }, { 13, 14, 15, 16 } };\n\n        tableLayoutPanel_TopView.ColumnCount = testArr.GetLength(0);\n        tableLayoutPanel_TopView.RowCount = testArr.GetLength(1);\n        tableLayoutPanel_TopView.AutoSize = true;\n\n        for (int y = 0; y &lt; testArr.GetLength(1); y++)\n        {\n            for (int x = 0; x &lt; testArr.GetLength(0); x++)\n            {\n                Button btn = new Button\n                {\n                    Text = x.ToString() + \".\" + y.ToString(),\n                    Dock = DockStyle.Fill,\n                };\n                tableLayoutPanel_TopView.Controls.Add(btn);\n            }\n        }\n\n        Single percHeight = ((Single)1 / (Single)tableLayoutPanel_TopView.RowStyles.Count) * 100;\n        Single percWidth = ((Single)1 / (Single)tableLayoutPanel_TopView.ColumnStyles.Count) * 100;\n\n        foreach (ColumnStyle style in tableLayoutPanel_TopView.ColumnStyles)\n        {\n            style.SizeType = SizeType.Percent;\n            style.Width = percWidth;\n        }\n\n        foreach (RowStyle style in tableLayoutPanel_TopView.RowStyles)\n        {\n            style.SizeType = SizeType.Percent;\n            style.Height = percHeight;\n        }\n</code></pre>\n\n<h2>TableLayoutPanel settings</h2>\n\n<pre><code>        this.tableLayoutPanel_TopView.ColumnCount = 1;\n        this.tableLayoutPanel_TopView.ColumnStyles.Add(new System.Windows.Forms.ColumnStyle());\n        this.tableLayoutPanel_TopView.Dock = System.Windows.Forms.DockStyle.Fill;\n        this.tableLayoutPanel_TopView.Location = new System.Drawing.Point(3, 16);\n        this.tableLayoutPanel_TopView.Name = \"tableLayoutPanel_TopView\";\n        this.tableLayoutPanel_TopView.RowCount = 1;\n        this.tableLayoutPanel_TopView.RowStyles.Add(new System.Windows.Forms.RowStyle());\n        this.tableLayoutPanel_TopView.Size = new System.Drawing.Size(638, 463);\n        this.tableLayoutPanel_TopView.TabIndex = 0;\n</code></pre>\n\n<p>However, this gives the following result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zsqWG.png\" rel=\"nofollow noreferrer\">Current table</a></p>\n\n<p>As you can see, the width and the height of each button only seems to make sense starting from the second column and second row. What can I do so that each button has the same size?</p>\n"}, {"tags": ["c#", "ios", "unity3d"], "comments": [{"owner": {"reputation": 1775, "user_id": 9242491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WBgTi.jpg?s=128&g=1", "display_name": "Ali Kanat", "link": "https://stackoverflow.com/users/9242491/ali-kanat"}, "edited": false, "score": 0, "creation_date": 1553108020, "post_id": 55268117, "comment_id": 97267558, "body": "What is the <a href=\"https://docs.unity3d.com/Manual/class-TextureImporterOverride.html\" rel=\"nofollow noreferrer\">Texture Format</a>?"}, {"owner": {"reputation": 545, "user_id": 4234462, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e9a682df37e9d9391ed7e5b5cae23f5d?s=128&d=identicon&r=PG&f=1", "display_name": "jeep", "link": "https://stackoverflow.com/users/4234462/jeep"}, "reply_to_user": {"reputation": 1775, "user_id": 9242491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WBgTi.jpg?s=128&g=1", "display_name": "Ali Kanat", "link": "https://stackoverflow.com/users/9242491/ali-kanat"}, "edited": false, "score": 0, "creation_date": 1553108236, "post_id": 55268117, "comment_id": 97267641, "body": "@AliKanat It&#39;s automatic. I saw someone suggesting pvrtc as the format. But  there is no such option in the mac version unity3d."}, {"owner": {"reputation": 8919, "user_id": 1159604, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZNjba.png?s=128&g=1", "display_name": "Foggzie", "link": "https://stackoverflow.com/users/1159604/foggzie"}, "edited": false, "score": 0, "creation_date": 1553117660, "post_id": 55268117, "comment_id": 97272251, "body": "You should run through <a href=\"https://docs.unity3d.com/Manual/ReducingFilesize.html\" rel=\"nofollow noreferrer\">Unity&#39;s Build Size Reduction Documentation</a>.  The first step (digging through the editor logs) will at least tell you exactly where that memory footprint is coming from."}], "owner": {"reputation": 545, "user_id": 4234462, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e9a682df37e9d9391ed7e5b5cae23f5d?s=128&d=identicon&r=PG&f=1", "display_name": "jeep", "link": "https://stackoverflow.com/users/4234462/jeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553108144, "creation_date": 1553107658, "last_edit_date": 1553107715, "question_id": 55268117, "link": "https://stackoverflow.com/questions/55268117/unity3d-game-occupies-huge-space-in-a-ios-device", "title": "Unity3d game occupies huge space in a ios device", "body": "<p>The whole image resources of my game is less than 50MB. But the installation size in iphone is 292MB(it takes up only 90MB in android). I assume there should be something wrong about textures. So I duplicate an image folder(15MB) within the Resources directory. And the new installation file size expands to 400mb. How could an increase of 15MB pictures lead to a 108MB increase in ios installation size. I have been bothered by this issue for 2 weeks. Can anyone give me any hint?</p>\n"}, {"tags": ["c#", "wpf", "inversion-of-control"], "comments": [{"owner": {"reputation": 1526, "user_id": 3133249, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/573552075/picture?type=large", "display_name": "Tronald", "link": "https://stackoverflow.com/users/3133249/tronald"}, "edited": false, "score": 0, "creation_date": 1553108217, "post_id": 55268044, "comment_id": 97267626, "body": "Hi there! Can you elaborate on what you mean when you say the &quot;code is not working&quot;. Is it throwing an exception, or what is the intended behavior you hope to achieve that it&#39;s not executing?"}, {"owner": {"reputation": 31, "user_id": 11163512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22da2287c5d15c8d3612f10603a1749f?s=128&d=identicon&r=PG&f=1", "display_name": "Vini", "link": "https://stackoverflow.com/users/11163512/vini"}, "reply_to_user": {"reputation": 1526, "user_id": 3133249, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/573552075/picture?type=large", "display_name": "Tronald", "link": "https://stackoverflow.com/users/3133249/tronald"}, "edited": false, "score": 0, "creation_date": 1553108586, "post_id": 55268044, "comment_id": 97267810, "body": "Hi, The intended behaviour I expect is, the code populates the data when i run the application without implementing Inversion of control. I want the same while i implement the Inversion of control principle. The issue I&#39;m facing is the data is not populated into the combobox while I implement Inversion of control. The combobox is empty when IOC implemented."}], "owner": {"reputation": 31, "user_id": 11163512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22da2287c5d15c8d3612f10603a1749f?s=128&d=identicon&r=PG&f=1", "display_name": "Vini", "link": "https://stackoverflow.com/users/11163512/vini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553108723, "creation_date": 1553107393, "last_edit_date": 1553108723, "question_id": 55268044, "link": "https://stackoverflow.com/questions/55268044/how-to-implement-inversion-of-control-c-wpf", "title": "How to implement Inversion of control c# - wpf", "body": "<p>I'm learning on how to implement inversion of control in the wpf application through the below link </p>\n\n<p><a href=\"https://www.codeguru.com/columns/experts/implementing-the-inversion-of-control-pattern-in-c.htm\" rel=\"nofollow noreferrer\">https://www.codeguru.com/columns/experts/implementing-the-inversion-of-control-pattern-in-c.htm</a></p>\n\n<p>The intent of the application is to load the data from table to combobox. The code works fine without any issue. So as a part of learning ooad design principle I thought below is the perfect case on which the highlevel module (Viewmodel) depend upon lowerlevel module (populatetab2combobox). I believe here we can apply dependency inversion. on reading online most of them started with inversion of control as a first step towards implementing Dependency inversion.</p>\n\n<p>I just want to iterate that I don't have prior experience in oops principle. I might be wrong in my assumption. Please correct me if I'm wrong.</p>\n\n<p>Window.xaml :</p>\n\n<pre><code>  &lt;ComboBox ItemsSource=\"{Binding populatecombobox.modeltogetusername}\" Width=\"155\" Margin=\"0,-20,-180,137\"&gt;\n                        &lt;ComboBox.ItemTemplate&gt;\n                            &lt;DataTemplate&gt;\n                                &lt;TextBlock Text=\"{Binding username}\"/&gt;\n                            &lt;/DataTemplate&gt;\n                        &lt;/ComboBox.ItemTemplate&gt;\n                    &lt;/ComboBox&gt;\n</code></pre>\n\n<p>View Model :</p>\n\n<p><strong>Code without implementing  inversion of control(This works fine without any issue):</strong></p>\n\n<pre><code>//Class to populate the combobox\n\npublic class populatetab2combobox\n{\n    public ObservableCollection&lt;comboboxdata&gt; modeltogetusername { get; set; }\n\n    public void getdatausinglinq()\n    {\n        using (Operations_Productivity_ToolEntities context = new Operations_Productivity_ToolEntities())\n        {\n            var a1 = from t1 in context.Test_ImportedAuditdata\n                     select t1;\n\n            if (modeltogetusername == null)\n                modeltogetusername = new ObservableCollection&lt;comboboxdata&gt;();\n\n            foreach (var a in a1.GroupBy(x =&gt; x.username).Select(x =&gt; x.FirstOrDefault()))\n            {\n                modeltogetusername.Add(new comboboxdata\n                {\n                 username = a.username.ToString()\n                });\n\n            }\n        }\n\n    }\n\n}\n\n\n public class ViewModel: INotifyPropertyChanged {\n\n/** You can see that I'm calling viewModel class is depended with \n   populatetab2combobox. I believe this is the perfect case for implementing \n   Inversion of control **/\n\npopulatetab2combobox_populatecombobox = new populatetab2combobox();\nprivate PopulateDatagrid _populatedatagridwithobservablecollection = new PopulateDatagrid();\nprivate Loadfileintodatabase loaddata = new Loadfileintodatabase();\n\npublic PopulateDatagrid Populatedatagridwithobservablecollection {\n    get {\n        return _populatedatagridwithobservablecollection;\n    }\n    set {\n        if (value != _populatedatagridwithobservablecollection) {\n            _populatedatagridwithobservablecollection = value;\n            OnPropertyChanged(\"Populatedatagridwithobservablecollection\");\n        }\n    }\n}\n\n\nDataModel dm = new DataModel();\n\npublic ViewModel() {\n    _populatecombobox.getdatausinglinq();\n    DoSomeThingCmd = new RelayCommand(o = &gt;search());\n    _populatedatagridwithobservablecollection.getdatausinglinq();\n}\n\n#region INotifyPropertyChanged Members\n\npublic event PropertyChangedEventHandler PropertyChanged;\nprivate void OnPropertyChanged(string propertyName) {\n    if (PropertyChanged != null) {\n        PropertyChanged(this, new PropertyChangedEventArgs(propertyName));\n    }\n}\n\n#endregion\n}\n}\n</code></pre>\n\n<p><strong>Code with implementation of inversion of control(The issue is combobox is empty when i run when IOC implemented):</strong> </p>\n\n<pre><code>public interface INofificationAction\n{\n     void getdatausinglinq();\n}\n\n\n\npublic class populatetab2combobox : INofificationAction\n{\n    public ObservableCollection&lt;comboboxdata&gt; modeltogetusername { get; set; }\n\n    public void getdatausinglinq()\n    {\n        using (Operations_Productivity_ToolEntities context = new Operations_Productivity_ToolEntities())\n        {\n            var a1 = from t1 in context.Test_ImportedAuditdata\n                     select t1;\n\n            if (modeltogetusername == null)\n                modeltogetusername = new ObservableCollection&lt;comboboxdata&gt;();\n\n            foreach (var a in a1.GroupBy(x =&gt; x.username).Select(x =&gt; x.FirstOrDefault()))\n            {\n                modeltogetusername.Add(new comboboxdata\n                {\n                 username = a.username.ToString()\n                });\n\n            }\n        }\n\n    }\n\n}\n\n public class implementingabstraction\n{\n    INofificationAction _an;\n    public implementingabstraction(INofificationAction action)\n    {\n        this._an = action;\n    }\n\n    public void getdatausinglinq()\n    {\n        _an.getdatausinglinq();\n    }\n\n}\n\n\npublic class ViewModel: INotifyPropertyChanged\n{\nINofificationAction getdata123 = new populatetab2combobox();\n\npopulatetab2combobox _populatecombobox = new populatetab2combobox();\n\npublic populatetab2combobox populatecombobox {\n    get {\n        return _populatecombobox;\n    }\n    set {\n        if (value != _populatecombobox) {\n            _populatecombobox = value;\n            OnPropertyChanged(\"populatetab2combobox\");\n        }\n    }\n}\n\npublic RelayCommand DoSomeThingCmd {\n    get;\n    set;\n}\nDataModel dm = new DataModel();\n\npublic ViewModel() {\n\n    implementingabstraction abs = new implementingabstraction(getdata123);\n    abs.getdatausinglinq();\n    DoSomeThingCmd = new RelayCommand(o = &gt;search());\n    _populatedatagridwithobservablecollection.getdatausinglinq();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>questions:</p>\n\n<p>1) since I'm very new to oops based approach.Whether the above usecase is correct.</p>\n\n<p>2) The above code is not working correctly. Can you please point out the mistake in my approach. </p>\n"}, {"tags": ["c#", "asp.net-mvc", "view", "kendo-grid", "bootbox"], "comments": [{"owner": {"reputation": 1854, "user_id": 1716709, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pHzYR.jpg?s=128&g=1", "display_name": "Nomi Ali", "link": "https://stackoverflow.com/users/1716709/nomi-ali"}, "edited": false, "score": 0, "creation_date": 1553155351, "post_id": 55267973, "comment_id": 97282078, "body": "can you elaborate your question? in bootbox, you are not using kendo multiselect but HTML list box, so it will render a simple html listbox. Are you facing a compile time error or runtime error?"}, {"owner": {"reputation": 31, "user_id": 11205453, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xsPlB.jpg?s=128&g=1", "display_name": "T S Nandakumar", "link": "https://stackoverflow.com/users/11205453/t-s-nandakumar"}, "reply_to_user": {"reputation": 1854, "user_id": 1716709, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pHzYR.jpg?s=128&g=1", "display_name": "Nomi Ali", "link": "https://stackoverflow.com/users/1716709/nomi-ali"}, "edited": false, "score": 0, "creation_date": 1553178395, "post_id": 55267973, "comment_id": 97295139, "body": "I have already created a bootbox dialog with some text box fields and dropdowns in it .so i need to add a new control ie the kendo dropdown control in the bootbox dialog."}, {"owner": {"reputation": 1854, "user_id": 1716709, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pHzYR.jpg?s=128&g=1", "display_name": "Nomi Ali", "link": "https://stackoverflow.com/users/1716709/nomi-ali"}, "edited": false, "score": 0, "creation_date": 1553343382, "post_id": 55267973, "comment_id": 97354362, "body": "check below the answer."}], "answers": [{"tags": [], "owner": {"reputation": 1854, "user_id": 1716709, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pHzYR.jpg?s=128&g=1", "display_name": "Nomi Ali", "link": "https://stackoverflow.com/users/1716709/nomi-ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1555943430, "last_edit_date": 1555943430, "creation_date": 1553163275, "answer_id": 55278116, "question_id": 55267973, "link": "https://stackoverflow.com/questions/55267973/error-while-using-kendo-multi-select-dropdrown-in-bootbox-dialog-in-mvc/55278116#55278116", "title": "Error while using Kendo Multi Select dropdrown in bootbox dialog in MVC", "body": "<p>As far I understand you need to render Kendo dropdown in the bootbox popup. You can do it as below:</p>\n\n<p>Razor C#:</p>\n\n<pre><code>@{\n    string htmlstring = \"\";\n    htmlstring += \"&lt;select id='userRoles'&gt;\";\n    foreach (Role role in ViewBag.Roles)\n    {\n        htmlstring += \"&lt;option value='\" + role.RoleID + \"'&gt;\" + role.RoleName + \"&lt;/option&gt;\";\n    }\n    htmlstring += \"&lt;/select&gt;\";\n}\n</code></pre>\n\n<p>Script:</p>\n\n<pre><code>    &lt;script&gt;\n        var renderString = \"@Html.Raw(htmlstring)\";\n        var dialog = bootbox.dialog({\n            title: 'A custom dialog with init',\n            message: renderString\n        });\n\n        var required = $(\"#userRoles\").kendoMultiSelect().data(\"kendoMultiSelect\");\n\n    &lt;/script&gt;\n</code></pre>\n\n<p>Shown as:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mUvKN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mUvKN.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 31, "user_id": 11205453, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xsPlB.jpg?s=128&g=1", "display_name": "T S Nandakumar", "link": "https://stackoverflow.com/users/11205453/t-s-nandakumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1555943430, "creation_date": 1553107080, "last_edit_date": 1553149675, "question_id": 55267973, "link": "https://stackoverflow.com/questions/55267973/error-while-using-kendo-multi-select-dropdrown-in-bootbox-dialog-in-mvc", "title": "Error while using Kendo Multi Select dropdrown in bootbox dialog in MVC", "body": "<p>I am trying to use MultiSelect dropdown in bootbox dialog in MVC but it is not working for me.\nI have tried putting the following code in bootbox.dialog in message</p>\n\n<pre><code>@(Html.Kendo().MultiSelect().Name(\"userRoles\").DataTextField(\"RoleName\").DataValueField(\"RoleID\").Enable(true).BindTo(new SelectList(ViewBag.Roles, \"RoleID\", \"RoleName\")))\n</code></pre>\n\n<p>I know for multiselect dropdown the following code will work but i need to use the kendo multiselect and i have noticed that outside the bootbox dialog it is working but errors out when used inside</p>\n\n<pre><code>@Html.ListBox(\"userRoles\", new SelectList(ViewBag.Roles, \"RoleID\", \"RoleName\"), new { @class = \"form-control\" })\n</code></pre>\n\n<p>It doesn't give any compile time error.\nError given below :</p>\n\n<blockquote>\n  <p>\"Uncaught SyntaxError: Unexpected end of input\n      at eval ()\"</p>\n</blockquote>\n"}, {"tags": ["c#", "asp.net", "webforms", "code-behind"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1553107567, "post_id": 55267940, "comment_id": 97267332, "body": "Is <code>attribute_type</code> a <code>string</code> or a <code>char</code>? You say <i>&quot;the below is working&quot;</i>, but the code shouldn&#39;t compile since you&#39;re comparing it to both types"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1553107797, "post_id": 55267940, "comment_id": 97267445, "body": "As a side note, it would be easier to read if you set the values in the same order each time - it makes visual comparison easier."}, {"owner": {"reputation": 2077, "user_id": 1681247, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rc51O.jpg?s=128&g=1", "display_name": "Sri", "link": "https://stackoverflow.com/users/1681247/sri"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1553108785, "post_id": 55267940, "comment_id": 97267895, "body": "@Rufusl It&#39;s a char. Thanks"}, {"owner": {"reputation": 2077, "user_id": 1681247, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rc51O.jpg?s=128&g=1", "display_name": "Sri", "link": "https://stackoverflow.com/users/1681247/sri"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1553108948, "post_id": 55267940, "comment_id": 97267987, "body": "I have edited and put it in the same order"}, {"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 0, "creation_date": 1553109292, "post_id": 55267940, "comment_id": 97268168, "body": "You could set them all to false or true outside the first <code>if</code>. And then only hide the ones you don&#39;t need. It saves some duplicates."}, {"owner": {"reputation": 2077, "user_id": 1681247, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rc51O.jpg?s=128&g=1", "display_name": "Sri", "link": "https://stackoverflow.com/users/1681247/sri"}, "edited": false, "score": 0, "creation_date": 1553109405, "post_id": 55267940, "comment_id": 97268234, "body": "An example would be much appreciated"}, {"owner": {"reputation": 2077, "user_id": 1681247, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rc51O.jpg?s=128&g=1", "display_name": "Sri", "link": "https://stackoverflow.com/users/1681247/sri"}, "edited": false, "score": 0, "creation_date": 1553110107, "post_id": 55267940, "comment_id": 97268592, "body": "I have updated my question and hope that&#39;s now easy to understand."}], "answers": [{"comments": [{"owner": {"reputation": 2077, "user_id": 1681247, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rc51O.jpg?s=128&g=1", "display_name": "Sri", "link": "https://stackoverflow.com/users/1681247/sri"}, "edited": false, "score": 0, "creation_date": 1553110101, "post_id": 55268628, "comment_id": 97268587, "body": "I have updated my question and hope that&#39;s now easy to understand."}, {"owner": {"reputation": 101, "user_id": 7612351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cba08bda15ec6eabea5563874251e31?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/7612351/ryan"}, "reply_to_user": {"reputation": 2077, "user_id": 1681247, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rc51O.jpg?s=128&g=1", "display_name": "Sri", "link": "https://stackoverflow.com/users/1681247/sri"}, "edited": false, "score": 0, "creation_date": 1553110748, "post_id": 55268628, "comment_id": 97268903, "body": "@Sri - I understand your question just fine. I was just giving you another option other than a convoluted if/else statement. Unfortunately, if you were to write a function that would do your setting of visibility for your controls, you&#39;d still have to perform the check one way or another."}, {"owner": {"reputation": 2077, "user_id": 1681247, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rc51O.jpg?s=128&g=1", "display_name": "Sri", "link": "https://stackoverflow.com/users/1681247/sri"}, "edited": false, "score": 0, "creation_date": 1553111355, "post_id": 55268628, "comment_id": 97269185, "body": "Thanks and I am not very keen on writing a function. Just wonder is there any way to organise this in a clear way of sorting out."}, {"owner": {"reputation": 101, "user_id": 7612351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cba08bda15ec6eabea5563874251e31?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/7612351/ryan"}, "reply_to_user": {"reputation": 2077, "user_id": 1681247, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rc51O.jpg?s=128&g=1", "display_name": "Sri", "link": "https://stackoverflow.com/users/1681247/sri"}, "edited": false, "score": 0, "creation_date": 1553111610, "post_id": 55268628, "comment_id": 97269320, "body": "@Sri - Honestly though, there&#39;s nothing wrong with the way you&#39;re doing it. It&#39;s just a little hard to follow is all. Good luck!"}, {"owner": {"reputation": 101, "user_id": 7612351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cba08bda15ec6eabea5563874251e31?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/7612351/ryan"}, "reply_to_user": {"reputation": 2077, "user_id": 1681247, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rc51O.jpg?s=128&g=1", "display_name": "Sri", "link": "https://stackoverflow.com/users/1681247/sri"}, "edited": false, "score": 0, "creation_date": 1553265245, "post_id": 55268628, "comment_id": 97332314, "body": "@Sri - If either of these answers helped you, would you mind accepting one of them please?"}], "tags": [], "owner": {"reputation": 101, "user_id": 7612351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cba08bda15ec6eabea5563874251e31?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/7612351/ryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1553111021, "last_edit_date": 1553111021, "creation_date": 1553109509, "answer_id": 55268628, "question_id": 55267940, "link": "https://stackoverflow.com/questions/55267940/how-to-set-visible-true-false-based-on-value-in-c-code-behind/55268628#55268628", "title": "how to set visible true/false based on value in c# code behind", "body": "<p>If some of the values of your controls you're setting are the same based on the value of <code>attribute_type</code>, you could use a switch statement.</p>\n\n<p>So for example if <code>Value_ddl.Visible = false</code> when <code>attribute_type == 'S'</code> or <code>attribute_type == 'D'</code>, you could do something like this:</p>\n\n<pre><code>switch(attribute_type)\n{\n     case 'S':\n     case 'D':\n          Value_ddl.Visible = false;\n          break;\n     default:\n          //default stuff\n          break;\n}\n</code></pre>\n\n<p>It might save some space in your code and make it more readable.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 7612351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cba08bda15ec6eabea5563874251e31?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/7612351/ryan"}, "is_accepted": false, "score": 1, "last_activity_date": 1553202708, "last_edit_date": 1553202708, "creation_date": 1553114189, "answer_id": 55269754, "question_id": 55267940, "link": "https://stackoverflow.com/questions/55267940/how-to-set-visible-true-false-based-on-value-in-c-code-behind/55269754#55269754", "title": "how to set visible true/false based on value in c# code behind", "body": "<p>In the comments of my other answer, I said if you were to write a single function you'd need to perform the checks still. However, you could write multiple individual functions that set the values of your controls. Doing this would alleviate having to perform the checks, but it <em>would</em> require more code.</p>\n\n<p>Create your functions:</p>\n\n<pre><code>public void SetTControls()\n{\n     Value1_tbx.Visible = true;\n     Value1_tbx.Text = some_text_value;\n     Value_ddl.Visible = false; \n     Value_Date_tbx.Visible = false;\n     Value_Date_calendar_img.Visible = false;\n     Value_rbl.Visible = false;\n}\n\npublic void SetSControls()\n{\n    Value1_tbx.Visible = false;\n    Value_ddl.Visible = true;\n    Value_ddl.Text = some_select_box_value;\n    Value_Date_tbx.Visible = false;\n    Value_Date_calendar_img.Visible = false;\n    Value_rbl.Visible = false;\n}\n\npublic void SetDControls()\n{\n    Value1_tbx.Visible = false;\n    Value_ddl.Visible = false;\n    Value_Date_tbx.Visible = true;\n    Value_Date_calendar_img.Visible = true;\n    Value_Date_tbx.Text = some_date_value;\n    Value_rbl.Visible = false;\n}\n\npublic void SetRControls()\n{\n    Value1_tbx.Visible = false;\n    Value_ddl.Visible = false;\n    Value_Date_tbx.Visible = false;\n    Value_Date_calendar_img.Visible = false;\n    Value_rbl.Visible = true;\n    Value.rbl.Text = some_value;\n}\n</code></pre>\n\n<p>Then you could clean up your if/else statement like this:</p>\n\n<pre><code>if (attribute_type == 'T')\n    SetTControls(); \nelse if (attribute_type == 'S')\n    SetSControls();\nelse if (attribute_type == 'D')\n    SetDControls();\nelse if (attribute_type == 'R')\n    SetRControls();\n</code></pre>\n\n<p>As I said, it requires more code, but definitely cleans up your if/else statement. Hope this helps!</p>\n"}], "owner": {"reputation": 2077, "user_id": 1681247, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rc51O.jpg?s=128&g=1", "display_name": "Sri", "link": "https://stackoverflow.com/users/1681247/sri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 956, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553202708, "creation_date": 1553106953, "last_edit_date": 1553110018, "question_id": 55267940, "link": "https://stackoverflow.com/questions/55267940/how-to-set-visible-true-false-based-on-value-in-c-code-behind", "title": "how to set visible true/false based on value in c# code behind", "body": "<p>I have a list of input controls like <code>Date selector, Select box, textbox, checkbox</code>. I want to set visible true and false based on the type user selects.</p>\n\n<p>I have tried the below is working but just wonder if I can make this Dry and make efficient calling from a single function or something. Any advice would be much appreciated.</p>\n\n<p>Please ignore the naming of the text boxes or anything as this is just for an example.</p>\n\n<pre><code>if (attribute_type == \"T\") { \n  Value1_tbx.Visible = true; // this is true\n  Value1_tbx.Text = some_text_value;  // and set some value\n  Value_ddl.Visible = false; \n  Value_Date_tbx.Visible = false;\n  Value_Date_calendar_img.Visible = false;\n  Value_rbl.Visible = false;\n} else if (attribute_type == \"S\") {\n  Value1_tbx.Visible = false;\n  Value_ddl.Visible = true; // this is true\n  Value_ddl.Text = some_select_box_value; // and set some value\n  Value_Date_tbx.Visible = false;\n  Value_Date_calendar_img.Visible = false;\n  Value_rbl.Visible = false;\n} else if (attribute_type == 'D') {\n  Value1_tbx.Visible = false;\n  Value_ddl.Visible = false;\n  Value_Date_tbx.Visible = true; // this is true\n  Value_Date_calendar_img.Visible = true; // calendar icon should be visible\n  Value_Date_tbx.Text = some_date_value; // and set some value\n  Value_rbl.Visible = false;\n} else if (attribute_type == 'R') {\n  Value1_tbx.Visible = false;\n  Value_ddl.Visible = false;\n  Value_Date_tbx.Visible = false;\n  Value_Date_calendar_img.Visible = false;\n  Value_rbl.Visible = true; // this is true\n  Value.rbl.Text = some_value; // and set some value\n};\n</code></pre>\n"}, {"tags": ["c#", "http", "https", "tcpclient", "tcplistener"], "answers": [{"comments": [{"owner": {"reputation": 58, "user_id": 9820181, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Michael Pfister", "link": "https://stackoverflow.com/users/9820181/michael-pfister"}, "edited": false, "score": 0, "creation_date": 1553288434, "post_id": 55300822, "comment_id": 97343625, "body": "Thank you. This solution however did only help me half way trough because now I need to somehow catch the client trying to redirect to [<a href=\"https://MYIP:443/]\" rel=\"nofollow noreferrer\">MYIP:443/]</a> and for somewhat reason I can&#39;t catch him trough a TcpListener.AcceptTcpClient(); on that ip and port. However when I open a new tab and make a new connection to the SSLPort due to the still activatet TcpListener I get a connection. Could you give me another tipp pls?"}, {"owner": {"reputation": 10980, "user_id": 200445, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/322dfbdffdbb24e5595f3585e1b5c140?s=128&d=identicon&r=PG", "display_name": "Vasiliy Faronov", "link": "https://stackoverflow.com/users/200445/vasiliy-faronov"}, "reply_to_user": {"reputation": 58, "user_id": 9820181, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Michael Pfister", "link": "https://stackoverflow.com/users/9820181/michael-pfister"}, "edited": false, "score": 0, "creation_date": 1553289835, "post_id": 55300822, "comment_id": 97344099, "body": "It\u2019s best to ask another question about this. In a nutshell, you have two options: (1) start another TCP listener on a different port (for example <code>Location: https:&#47;&#47;localhost:8081&#47;</code>), or (2) make your TCP listener distinguish SSL from unencrypted HTTP/1.x by looking at the first few incoming bytes."}], "tags": [], "owner": {"reputation": 10980, "user_id": 200445, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/322dfbdffdbb24e5595f3585e1b5c140?s=128&d=identicon&r=PG", "display_name": "Vasiliy Faronov", "link": "https://stackoverflow.com/users/200445/vasiliy-faronov"}, "is_accepted": false, "score": 1, "last_activity_date": 1553261704, "creation_date": 1553261704, "answer_id": 55300822, "question_id": 55267917, "link": "https://stackoverflow.com/questions/55267917/c-ssl-tcpserver-stuck-at-sslstream-authenticateasserver/55300822#55300822", "title": "c# SSL TCPServer stuck at SsLStream.AuthenticateAsServer()", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Upgrade-Insecure-Requests\" rel=\"nofollow noreferrer\"><code>Upgrade-Insecure-Requests</code></a> doesn\u2019t mean that the server can encrypt the <em>current</em> connection. Firefox still expects an unencrypted HTTP/1.x response. But this response can <em>redirect</em> it to another URL \u2014 perhaps on another port \u2014 where SSL will be enabled right from the start.</p>\n\n<p>See <a href=\"https://w3c.github.io/webappsec-upgrade-insecure-requests/#example-eeacfe02\" rel=\"nofollow noreferrer\">example 8 in the Upgrade Insecure Requests\n specification</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 58, "user_id": 9820181, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Michael Pfister", "link": "https://stackoverflow.com/users/9820181/michael-pfister"}, "is_accepted": true, "score": 1, "last_activity_date": 1553376791, "last_edit_date": 1553376791, "creation_date": 1553360088, "answer_id": 55316144, "question_id": 55267917, "link": "https://stackoverflow.com/questions/55267917/c-ssl-tcpserver-stuck-at-sslstream-authenticateasserver/55316144#55316144", "title": "c# SSL TCPServer stuck at SsLStream.AuthenticateAsServer()", "body": "<p>I made it! The problem was that (in my thread) I was using a X509Certificate public-made cert with no keys in it instead of a X509Certificate2 private-cert with keys in it. That's why I got hangs in my code at SslStream.AuthenticateAsServer();. <a href=\"https://stackoverflow.com/users/200445/vasiliy-faronov\">@Vasiliy Faronov</a> answer did also help me very much(I needed to add a 307 header to port 443), thx.</p>\n\n<p>Anyways here's an example of how to send an index.html to your webbrowser through https in tcp-level:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Net;\nusing System.Net.Security;\nusing System.Net.Sockets;\nusing System.Security.Cryptography.X509Certificates;\nusing System.Text;\nnamespace SSLTEST\n{\n    class Program\n    {\n        static X509Certificate2 CER = new X509Certificate2(\"privatecert.cer\",\"pass\");// Has to be a private X509cert with key\n        static void Main(string[] args)\n        {\n            TcpListener listener = new TcpListener(IPAddress.Parse(\"192.168.178.72\"), 443);\n            listener.Start();\n            TcpClient client = listener.AcceptTcpClient();\n            Console.WriteLine(\"client accepted\");\n\n            SslStream stream = new SslStream(client.GetStream());\n            stream.AuthenticateAsServer(CER, false, System.Security.Authentication.SslProtocols.Tls12, false);\n            Console.WriteLine(\"server authenticated\");\n\n\n            Console.WriteLine(\"----client request----\");\n            Decoder decoder = Encoding.UTF8.GetDecoder();\n            StringBuilder request = new StringBuilder();\n            byte[] buffer = new byte[2048];\n            int bytes = stream.Read(buffer, 0, buffer.Length);\n\n            char[] chars = new char[decoder.GetCharCount(buffer, 0, buffer.Length)];\n            decoder.GetChars(buffer, 0, bytes, chars, 0);\n\n            request.Append(chars);\n\n            Console.WriteLine(request.ToString());\n            Console.WriteLine(\"---------------------\");\n\n            String method = request.ToString().Split('\\n')[0].Split(' ')[0];\n            String requestedfile = request.ToString().Split('\\n')[0].Split(' ')[1];\n            if (method == \"GET\" &amp; requestedfile == \"/\")\n            {\n                FileStream datastream = new FileInfo(Environment.CurrentDirectory+@\"\\\"+\"index.html\").OpenRead();\n                BinaryReader datareader = new BinaryReader(datastream);\n                byte[] data = new byte[datastream.Length];\n                datastream.Read(data, 0, data.Length);\n                datastream.Close();\n\n                StringBuilder header = new StringBuilder();\n                header.AppendLine(\"HTTP/1.1 200 OK\");\n                header.AppendLine(\"Content-Length: \"+data.Length);\n                header.AppendLine();\n\n                List&lt;Byte&gt; responsedata = new List&lt;byte&gt;();\n                responsedata.AddRange(Encoding.ASCII.GetBytes(header.ToString()));\n                responsedata.AddRange(data);\n\n                stream.Write(responsedata.ToArray(), 0, responsedata.ToArray().Length);\n                Console.WriteLine(\"- response sent\");\n            }\n\n            stream.Close();\n            Console.WriteLine(\"done!\");\n            Console.Read();\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 58, "user_id": 9820181, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Michael Pfister", "link": "https://stackoverflow.com/users/9820181/michael-pfister"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1096, "favorite_count": 1, "accepted_answer_id": 55316144, "answer_count": 2, "score": 3, "last_activity_date": 1553376791, "creation_date": 1553106869, "last_edit_date": 1553112982, "question_id": 55267917, "link": "https://stackoverflow.com/questions/55267917/c-ssl-tcpserver-stuck-at-sslstream-authenticateasserver", "title": "c# SSL TCPServer stuck at SsLStream.AuthenticateAsServer()", "body": "<p><strong>Storyline:</strong></p>\n\n<p>I wanted to make my very own webserver in c#(first attempt). It went well(I was using <strong>Visual Studio to code</strong> the application and <strong>Firefox to check</strong> if I was doing right) and I managed to make a basic TCPServer. As I was trying to add SSL support to it I encountered a problem.</p>\n\n<ul>\n<li>I have been trying to authenticate as a TcpServer with SSL support using SSLStream.AuthenticateAsServer([self-signed certificate]) for the last 7 days</li>\n</ul>\n\n<p><strong>Problem:</strong></p>\n\n<p>As I get the [Upgrade-Insecure-Requests: 1] from my beloved Firefox I'm trying to [SSLStream.AuthenticateAsServer([self-signed certificate])]. Doing that <strong>my code is stuck(but doesn't freeze/crash)</strong> at this line while <strong>my Firefox is just loading forever</strong> without seeming to send me a Response.</p>\n\n<p><strong>Code:</strong>\n<hr>\nstarting my server</p>\n\n<hr>\n\n<pre><code>TCPServer.ServerStart(8080);\n</code></pre>\n\n<p><hr>\n(listener is being defined in my TCPServer class)</p>\n\n<pre><code>internal static TcpListener listener;\n</code></pre>\n\n<hr>\n\n<pre><code>async internal static void ServerStart(int port)\n    {\n        if (listener == null)\n        {\n            listener = new TcpListener(IPAddress.Any, port);\n        }\n        listener.Start();\n\n        //clients\n        await Task.Run(()=&gt; SucheNachBesuchern());\n        listener.Stop();\n    }\n</code></pre>\n\n<p><hr>\naccepting clients</p>\n\n<hr>\n\n<pre><code>private static void SucheNachBesuchern(){\n        TcpClient Besucher;\n\n        while (true)\n        {\n            Besucher = listener.AcceptTcpClient();\n            ThreadPool.QueueUserWorkItem(ThreadProzess, Besucher);\n        }\n    }\n</code></pre>\n\n<p><hr>\nhandling accepted clients</p>\n\n<hr>\n\n<pre><code>private static void ThreadProzess(object Besucher) {\n        TcpClient besucher = (TcpClient)Besucher;\n        Abfertige(besucher);\n        besucher.Close();\n        besucher.Dispose();\n    }\n</code></pre>\n\n<hr>\n\n<pre><code>private static void Abfertige(TcpClient Besucher)\n    {\n        //Reading the Request\n        StreamReader Auftrag = new StreamReader(Besucher.GetStream());\n        List&lt;String&gt; AuftragNachricht= new List&lt;String&gt;();\n        while (Auftrag.Peek()!=-1) {\n            AuftragNachricht.Add(Auftrag.ReadLine());\n        }\n\n        //Anfrage = request Class with bool Anfrage.SSLAnfrage being true\n        //if the request contains 'Upgrade-Insecure-Requests: 1'\n        Anfrage Anfrage = Anfrage.VerarbeiteAuftrag(AuftragNachricht);\n\n        if (Anfrage.SSLAnfrage)// = if([request conatined 'Upgrade-Insecure-Requests: 1'])\n        {\n            //opening an SslStream to the TcpClient Besucher\n            SslStream SSLStream = new SslStream(Besucher.GetStream(), false);\n            try\n            {\n                //Authenticating as TcpServer supporting SSL !CODE IS STUCK AT THIS LINE!\n                SSLStream.AuthenticateAsServer([SELFSINGEDX509CERTIFICATE.cer using openssl pkcs12], clientCertificateRequired: false, enabledSslProtocols: System.Security.Authentication.SslProtocols.Default, checkCertificateRevocation: false);\n\n                //set timeouts for read and write\n                SSLStream.ReadTimeout = 5000;\n                SSLStream.WriteTimeout = 5000;\n\n                //tryig to catch my Firefox as new client on SSL port 443\n                TcpListener SSLListener = new TcpListener(IPAddress.Parse(\"192.168.178.72\"), 443); \n                SSLListener.Start();\n                TcpClient SSLBesucher = SSLListener.AcceptTcpClient();\n                Debug.WriteLine(\"I'VE GOT A CLIENT HERE!!!!111\");\n            }\n            catch (Exception Error) {\n                Debug.WriteLine($\"---Error gefangen: {Error.ToString()}\");\n            }\n        }//[...more Code]\n</code></pre>\n\n<p><hr>\n(For not having any knowledge in SSL <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.net.security.sslstream?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">I used this example-code</a>)</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-core", "blazor", "razor-components"], "comments": [{"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1553113326, "post_id": 55267817, "comment_id": 97270173, "body": "&quot;using Client project instead of App&quot; - cookies are a server thing (the Browser just holds them). This approach will only work for server-side Blazor."}, {"owner": {"reputation": 25716, "user_id": 6152891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b45b7f89429f8766cdbf6c776c0a9d41?s=128&d=identicon&r=PG", "display_name": "enet", "link": "https://stackoverflow.com/users/6152891/enet"}, "edited": false, "score": 0, "creation_date": 1553113831, "post_id": 55267817, "comment_id": 97270428, "body": "&quot;IHttpContextAccessor can be used to access the HttpContext for the current thread&quot;. I&#39;m not sure you can use it that way. Use JWT for authentication."}, {"owner": {"reputation": 25716, "user_id": 6152891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b45b7f89429f8766cdbf6c776c0a9d41?s=128&d=identicon&r=PG", "display_name": "enet", "link": "https://stackoverflow.com/users/6152891/enet"}, "edited": false, "score": 0, "creation_date": 1553113883, "post_id": 55267817, "comment_id": 97270451, "body": "@if (User.Identity.Name != null){} This is bad... You&#39;ve got to check if the user is authenticated or not."}, {"owner": {"reputation": 25716, "user_id": 6152891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b45b7f89429f8766cdbf6c776c0a9d41?s=128&d=identicon&r=PG", "display_name": "enet", "link": "https://stackoverflow.com/users/6152891/enet"}, "edited": false, "score": 0, "creation_date": 1553114061, "post_id": 55267817, "comment_id": 97270551, "body": "if (User.Identity.IsAuthenticated)     {        -------     }     else     {       -------     }"}, {"owner": {"reputation": 917, "user_id": 9815389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/935740ef712d0791619f321208fca576?s=128&d=identicon&r=PG&f=1", "display_name": "SaintMSent", "link": "https://stackoverflow.com/users/9815389/saintmsent"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1553149506, "post_id": 55267817, "comment_id": 97279971, "body": "@HenkHolterman in the tutorial author has login and logout pages in server project, but accesses HttpContextAccessor in client project and it works fine, I downloaded his sample, it really works"}, {"owner": {"reputation": 917, "user_id": 9815389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/935740ef712d0791619f321208fca576?s=128&d=identicon&r=PG&f=1", "display_name": "SaintMSent", "link": "https://stackoverflow.com/users/9815389/saintmsent"}, "reply_to_user": {"reputation": 25716, "user_id": 6152891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b45b7f89429f8766cdbf6c776c0a9d41?s=128&d=identicon&r=PG", "display_name": "enet", "link": "https://stackoverflow.com/users/6152891/enet"}, "edited": false, "score": 0, "creation_date": 1553149509, "post_id": 55267817, "comment_id": 97279972, "body": "@Issac the problem is not with if statement. I looked at the dev tools and there it is said that there is not value of type IHttpContextAccessor for dependency injection. Correctness of the if statement is not what bothers me right now and not the reason I created this thread"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1553161561, "post_id": 55267817, "comment_id": 97285119, "body": "But that client project is also running server-side...  In the newer Blazor updates this would be a Razor Components project. There is no HttpContext in the Browser."}, {"owner": {"reputation": 917, "user_id": 9815389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/935740ef712d0791619f321208fca576?s=128&d=identicon&r=PG&f=1", "display_name": "SaintMSent", "link": "https://stackoverflow.com/users/9815389/saintmsent"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1553164164, "post_id": 55267817, "comment_id": 97286564, "body": "@HenkHolterman what is your suggestion for my situation?"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1553164875, "post_id": 55267817, "comment_id": 97286953, "body": "You could turn it into a razor-components app (server-side) or stay on the client-side and use JWT or similar."}, {"owner": {"reputation": 917, "user_id": 9815389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/935740ef712d0791619f321208fca576?s=128&d=identicon&r=PG&f=1", "display_name": "SaintMSent", "link": "https://stackoverflow.com/users/9815389/saintmsent"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1553165133, "post_id": 55267817, "comment_id": 97287104, "body": "@HenkHolterman can I have an example of using JWT on client side in blazor?"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1553168145, "post_id": 55267817, "comment_id": 97288830, "body": "Not here - search for it first and then ask a new question."}], "answers": [{"tags": [], "owner": {"reputation": 917, "user_id": 9815389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/935740ef712d0791619f321208fca576?s=128&d=identicon&r=PG&f=1", "display_name": "SaintMSent", "link": "https://stackoverflow.com/users/9815389/saintmsent"}, "is_accepted": true, "score": 1, "last_activity_date": 1556452303, "creation_date": 1556452303, "answer_id": 55889979, "question_id": 55267817, "link": "https://stackoverflow.com/questions/55267817/asp-net-core-with-blazor-cannot-figure-out-cookie-authentification/55889979#55889979", "title": "ASP.NET Core with Blazor: Cannot figure out cookie authentification", "body": "<p>I solved it the strange way. I created a controller I named AuthController and added these methods to it</p>\n\n<pre><code>    [Route(\"api/[controller]\")]\n    public class AuthController : Controller\n    {\n        [HttpGet]\n        [Route(\"getlogin\")]\n        public string GetLogin()\n        {\n            if (User.Identity.IsAuthenticated)\n            {\n                return $\"{User.Identity.Name}\";\n            }\n\n            return string.Empty;\n        }\n\n        [HttpGet]\n        [Route(\"getrole\")]\n        public string GetRole()\n        {\n            if (User.Identity.IsAuthenticated)\n            {\n                if (User.IsInRole(\"Admin\"))\n                {\n                    return \"Admin\";\n                }\n\n                return \"User\";\n            }\n\n            return string.Empty;\n        }\n    }\n</code></pre>\n\n<p>And then I call the API from the client side and it works perfectly for me</p>\n"}], "owner": {"reputation": 917, "user_id": 9815389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/935740ef712d0791619f321208fca576?s=128&d=identicon&r=PG&f=1", "display_name": "SaintMSent", "link": "https://stackoverflow.com/users/9815389/saintmsent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3027, "favorite_count": 0, "accepted_answer_id": 55889979, "answer_count": 1, "score": 3, "last_activity_date": 1556452303, "creation_date": 1553106520, "last_edit_date": 1553164500, "question_id": 55267817, "link": "https://stackoverflow.com/questions/55267817/asp-net-core-with-blazor-cannot-figure-out-cookie-authentification", "title": "ASP.NET Core with Blazor: Cannot figure out cookie authentification", "body": "<p>I tried to follow this tutorial (<a href=\"http://lightswitchhelpwebsite.com/Blog/tabid/61/EntryId/4316/A-Demonstration-of-Simple-Server-side-Blazor-Cookie-Authentication.aspx\" rel=\"nofollow noreferrer\">http://lightswitchhelpwebsite.com/Blog/tabid/61/EntryId/4316/A-Demonstration-of-Simple-Server-side-Blazor-Cookie-Authentication.aspx</a>) to be able to make an app with cookie authentification with ASP.NET Core 3.0 and Blazor framework v.0.9.0 (the latest version). For IDE I am using VS 2019 Preview.</p>\n\n<p>Author uses earlier version of Blazor, but I followed the tutorial using Client project instead of App, since they do the same thing, I think, just called differently in different version of Blazor.</p>\n\n<p>Here is a link to repo with my result: <a href=\"https://github.com/SaintMSent/TestBlazorCookieAuth\" rel=\"nofollow noreferrer\">https://github.com/SaintMSent/TestBlazorCookieAuth</a></p>\n\n<p>The problem is, it does not work. If I go to localhost:port/login page, cookie is created (I checked Chrome dev tools). And if I go to logout page, it is removed, so this part is fine. But other pages of the app won't load. If I remove Login component from MainLayout, everything is loading fine, so I think the problem is with HttpContext and HttpContextAccessor in Login.cshtml</p>\n\n<p><a href=\"https://i.stack.imgur.com/Movyg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Movyg.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is what Login.cshtml looks like</p>\n\n<pre><code>@using System.Security.Claims\n@using Microsoft.AspNetCore.Http\n@page \"/login\"\n@inject IHttpContextAccessor _httpContextAccessor\n@inject HttpClient Http\n@if (User.Identity.Name != null)\n{\n    &lt;b&gt;You are logged in as: @User.Identity.Name&lt;/b&gt; \n    &lt;a class=\"ml-md-auto btn btn-primary\" \n       href=\"/logout?returnUrl=/\" \n       target=\"_top\"&gt;Logout&lt;/a&gt;\n}\nelse\n{\n    &lt;a class=\"ml-md-auto btn btn-primary\" \n       href=\"/login?returnUrl=/\" \n       target=\"_top\"&gt;Login&lt;/a&gt;\n}\n@functions {\n    private ClaimsPrincipal User;\n    protected override void OnInit()\n    {\n        base.OnInit();\n        try\n        {\n    // Set the user to determine if they are logged in\n            User = _httpContextAccessor.HttpContext.User;\n        }\n        catch { }\n    }\n}\n</code></pre>\n\n<p>Please, help me to figure out what is going on here. I hope I have provided enough details, thanks.</p>\n\n<p>UPDATE: If I add this line</p>\n\n<pre><code>        services.TryAddSingleton&lt;IHttpContextAccessor, HttpContextAccessor&gt;();\n</code></pre>\n\n<p>to Startup.cs in Client project, everything is loading, but _httpContextAccessor.HttpContext.User is always null</p>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 1890, "user_id": 2647442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e6b031faf3be7a6673b0c7ac113e6c77?s=128&d=identicon&r=PG", "display_name": "Marie", "link": "https://stackoverflow.com/users/2647442/marie"}, "edited": false, "score": 1, "creation_date": 1553106308, "post_id": 55267731, "comment_id": 97266662, "body": "It really doesn&#39;t seem like you have put much effort into this. You say you have tried several ways. You should edit your question and include what you have tried so we can see what your issue is."}, {"owner": {"reputation": 21, "user_id": 10852081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/737b43fc02098d0cb201db400e503f0d?s=128&d=identicon&r=PG&f=1", "display_name": "Eshita", "link": "https://stackoverflow.com/users/10852081/eshita"}, "reply_to_user": {"reputation": 1890, "user_id": 2647442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e6b031faf3be7a6673b0c7ac113e6c77?s=128&d=identicon&r=PG", "display_name": "Marie", "link": "https://stackoverflow.com/users/2647442/marie"}, "edited": false, "score": 0, "creation_date": 1553107584, "post_id": 55267731, "comment_id": 97267341, "body": "I tried almost 3 hours. Anyway i got my solution. Thanks everyone for helping me."}], "answers": [{"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 3, "last_activity_date": 1553106607, "last_edit_date": 1553106607, "creation_date": 1553106236, "answer_id": 55267753, "question_id": 55267731, "link": "https://stackoverflow.com/questions/55267731/match-regular-expression-for-the-pattern-dddg-xyz/55267753#55267753", "title": "Match regular expression for the pattern dddG-xyz", "body": "<p>You may use</p>\n\n<pre><code>string exp1 = @\"\\d+G-\\w{3}\";\n</code></pre>\n\n<p>See the <a href=\"http://regexstorm.net/tester?p=%5Cd%2BG-%5Cw%7B3%7D&amp;i=CN%3D314G-VK1%2COU%3DGrupper%2COU%3D314%2COU%3DSkole%2COU%3D03Skien%2CDC%3Dlogin%2CDC%3Dsk-asp%2CDC%3Dno\" rel=\"nofollow noreferrer\">regex demo</a></p>\n\n<p>The <code>\\w{3}</code> pattern will match 3 word chars, i.e. mostly letters, digits, underscores. You may precise it if need be, e.g. to only match 3 uppercase ASCII letters or digits, you may use <code>[A-Z0-9]{3}</code>. To also include lowercase  letters, add them to the character class, <code>[A-Za-z0-9]{3}</code>.</p>\n\n<p><a href=\"https://jex.im/regulex/#!flags=&amp;re=%5Cd%2BG-%5Cw%7B3%7D\" rel=\"nofollow noreferrer\">Regulex regex graph</a>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/iESQb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iESQb.png\" alt=\"enter image description here\"></a></p>\n\n<p>.NET regex test results:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hjCj6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hjCj6.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://ideone.com/r4ruV7\" rel=\"nofollow noreferrer\">C# code demo</a>:</p>\n\n<pre><code>string exp1 = @\"\\d+G-\\w{3}\";\nstring s = \"CN=314G-VK1,OU=Grupper,OU=314,OU=Skole,OU=03Skien,DC=login,DC=sk-asp,DC=no\";\nstring z = Regex.Match(s, exp1)?.Value;\nConsole.WriteLine(z); // =&gt; 314G-VK1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4156, "user_id": 3835843, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/6uN8g.jpg?s=128&g=1", "display_name": "Arif", "link": "https://stackoverflow.com/users/3835843/arif"}, "is_accepted": false, "score": 1, "last_activity_date": 1553106400, "creation_date": 1553106400, "answer_id": 55267785, "question_id": 55267731, "link": "https://stackoverflow.com/questions/55267731/match-regular-expression-for-the-pattern-dddg-xyz/55267785#55267785", "title": "Match regular expression for the pattern dddG-xyz", "body": "<p>You are almost correct but, you just need to add <code>[0-9a-zA-Z]{3}</code> after <strong>G-</strong>.</p>\n\n<pre><code>string exp1 = \"\\\\d+G-[0-9a-zA-Z]{3}\";\nstring z = Regex.Match(\"CN=314G-VK1,OU=Grupper,OU=314,OU=Skole,OU=03Skien,DC=login,DC=sk-asp,DC=no\", exp1).Value;\nConsole.WriteLine(z);\n</code></pre>\n\n<p>Check demo <a href=\"https://dotnetfiddle.net/jmHF7z\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 6786717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35cc80405f54fb5558ca53d6cd9204?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey Ukolov", "link": "https://stackoverflow.com/users/6786717/alexey-ukolov"}, "is_accepted": false, "score": 0, "last_activity_date": 1553106540, "creation_date": 1553106540, "answer_id": 55267824, "question_id": 55267731, "link": "https://stackoverflow.com/questions/55267731/match-regular-expression-for-the-pattern-dddg-xyz/55267824#55267824", "title": "Match regular expression for the pattern dddG-xyz", "body": "<p>Try this:\nstring exp1 = @\"\\d+G-[a-zA-Z0-9]{3}\"</p>\n\n<p>[a-zA-Z0-9]{3} will match with 3-char alphanumeric string.</p>\n"}], "owner": {"reputation": 21, "user_id": 10852081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/737b43fc02098d0cb201db400e503f0d?s=128&d=identicon&r=PG&f=1", "display_name": "Eshita", "link": "https://stackoverflow.com/users/10852081/eshita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1553106607, "creation_date": 1553106140, "question_id": 55267731, "link": "https://stackoverflow.com/questions/55267731/match-regular-expression-for-the-pattern-dddg-xyz", "title": "Match regular expression for the pattern dddG-xyz", "body": "<p>My try:</p>\n\n<pre><code>string exp1 = \"\\\\d+G-\";\nstring z = Regex.Match(\"CN=314G-VK1,OU=Grupper,OU=314,OU=Skole,OU=03Skien,DC=login,DC=sk-asp,DC=no\",exp1).Value;\nConsole.WriteLine(z);\n</code></pre>\n\n<p>I want to match <strong>314G-VK1</strong> from the string <strong>z</strong>.</p>\n\n<p>Where,</p>\n\n<p><strong>314</strong> is decimal and it can be any number of digit. say <em>125632588</em>.</p>\n\n<p><strong>G-</strong> is constant.</p>\n\n<p>And <strong>VK1</strong> can be character or decimal but length will be only 3, say <em>er5</em>.</p>\n\n<p>How can i meet the requirements?</p>\n\n<p>From my code i only get output <strong>314G-</strong>. I tried several ways but that don't help me anymore.</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 422, "user_id": 10798916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHSeG.jpg?s=128&g=1", "display_name": "CoderJoe", "link": "https://stackoverflow.com/users/10798916/coderjoe"}, "edited": false, "score": 0, "creation_date": 1553106323, "post_id": 55267722, "comment_id": 97266669, "body": "Are you recieving any erros"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1553106432, "post_id": 55267722, "comment_id": 97266716, "body": "Trying to extract values from a datatable before even attempting to fill it cannot end well"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11102028, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-L2yq37b4eBs/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQO6GO0DhWhflJ37oB7BAy-gZeg9tQ/mo/photo.jpg?sz=128", "display_name": "Tazim Shaikh", "link": "https://stackoverflow.com/users/11102028/tazim-shaikh"}, "edited": false, "score": 0, "creation_date": 1553149957, "post_id": 55267812, "comment_id": 97280120, "body": "i want to check a specific value sir."}, {"owner": {"reputation": 116457, "user_id": 219661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/74a47a4e97bae5982d32950f4af2f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Jamiec", "link": "https://stackoverflow.com/users/219661/jamiec"}, "reply_to_user": {"reputation": 23, "user_id": 11102028, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-L2yq37b4eBs/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQO6GO0DhWhflJ37oB7BAy-gZeg9tQ/mo/photo.jpg?sz=128", "display_name": "Tazim Shaikh", "link": "https://stackoverflow.com/users/11102028/tazim-shaikh"}, "edited": false, "score": 0, "creation_date": 1553158951, "post_id": 55267812, "comment_id": 97283796, "body": "@TazimShaikh I&#39;m sorry but I dont understand what that means."}, {"owner": {"reputation": 23, "user_id": 11102028, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-L2yq37b4eBs/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQO6GO0DhWhflJ37oB7BAy-gZeg9tQ/mo/photo.jpg?sz=128", "display_name": "Tazim Shaikh", "link": "https://stackoverflow.com/users/11102028/tazim-shaikh"}, "edited": false, "score": 0, "creation_date": 1553164046, "post_id": 55267812, "comment_id": 97286492, "body": "sir, thank you so much. I have found out the solution."}], "tags": [], "owner": {"reputation": 116457, "user_id": 219661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/74a47a4e97bae5982d32950f4af2f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Jamiec", "link": "https://stackoverflow.com/users/219661/jamiec"}, "is_accepted": false, "score": 2, "last_activity_date": 1553106501, "creation_date": 1553106501, "answer_id": 55267812, "question_id": 55267722, "link": "https://stackoverflow.com/questions/55267722/condition-to-check-a-specific-value-from-table-asp-net-c/55267812#55267812", "title": "Condition to check a specific value from table asp.net c#?", "body": "<p>There is no need for the DataAdapter, DataTable etc. Simply count the number of records</p>\n\n<pre><code>select count(1) from Status where c_email=@c_email\n</code></pre>\n\n<p>and then on the <code>SqlCommand</code> just use <code>ExecuteScalar</code>:</p>\n\n<pre><code>string selstatus = \"select count(1) from Status where c_email=@c_email\";\nSqlCommand cmd = new SqlCommand(selstatus, con);\ncmd.Parameters.AddWithValue(\"@c_email\", Session[\"user\"].ToString());\nvar count = cmd.ExecuteScalar();\n// if count=0 the email doesnt exist\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11102028, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-L2yq37b4eBs/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQO6GO0DhWhflJ37oB7BAy-gZeg9tQ/mo/photo.jpg?sz=128", "display_name": "Tazim Shaikh", "link": "https://stackoverflow.com/users/11102028/tazim-shaikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1553114174, "creation_date": 1553106108, "last_edit_date": 1553114174, "question_id": 55267722, "link": "https://stackoverflow.com/questions/55267722/condition-to-check-a-specific-value-from-table-asp-net-c", "title": "Condition to check a specific value from table asp.net c#?", "body": "<pre class=\"lang-c# prettyprint-override\"><code>string constr = ConfigurationManager.ConnectionStrings[\"constr\"].ConnectionString;\nSqlConnection con = new SqlConnection(constr);\ncon.Open();\nstring selstatus = \"select status from Status where c_email=@c_email\";\nSqlCommand cmd = new SqlCommand(selstatus, con);\ncmd.Parameters.AddWithValue(\"@c_email\", Session[\"user\"].ToString());\nSqlDataAdapter sda = new SqlDataAdapter(cmd);\nDataSet ds = new DataSet();\nDataTable dt = new DataTable();\nstring value = Session[\"user\"].ToString();\nDataRow[] row =dt.Select(value);\nsda.Fill(ds);\nsda.Fill(dt);\nif(row!=null){\n  Label13.Text = ds.Tables[0].Rows[0][\"status\"].ToString();\n}else{\n  Label13.Text = \"No response from mechanic\";\n}\ncmd.ExecuteNonQuery();\ncon.Close();\n</code></pre>\n\n\n\n<p>I have been finding way to check a specific email id exist in the table. But I can't query what is the correct format to do so. I just need that if a specific email id is available then a message should be displayed. </p>\n"}, {"tags": ["c#", "xamarin.forms"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1553106991, "post_id": 55267616, "comment_id": 97266979, "body": "The binding there in your code example uses the BindingContext of the MapView. However, you are setting the BindingContext for the DisplayMap. Try setting the BindingContext of the MapView control instead..."}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1553107315, "post_id": 55267616, "comment_id": 97267196, "body": "which map control are you using?  are you sure Lat and Long are bindable properties?"}, {"owner": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1553108706, "post_id": 55267616, "comment_id": 97267860, "body": "am using a library called <a href=\"https://github.com/NAXAM/mapbox-xamarin-forms/\" rel=\"nofollow noreferrer\">github.com/NAXAM/mapbox-xamarin-forms</a> @Jason. Let me check their library if it has bindable properties."}], "answers": [{"comments": [{"owner": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "edited": false, "score": 0, "creation_date": 1553108642, "post_id": 55268069, "comment_id": 97267839, "body": "So this means that I can&#39;t bind unless, I edit the mapView library to this code."}, {"owner": {"reputation": 880, "user_id": 3098521, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/14c6594de11ca3fbc67fe8d6ab156b08?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron T", "link": "https://stackoverflow.com/users/3098521/aaron-t"}, "reply_to_user": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "edited": false, "score": 0, "creation_date": 1553109079, "post_id": 55268069, "comment_id": 97268068, "body": "@LutaayaHuzaifahIdris If in the library they have not implemented <code>Lat</code> and <code>Long</code> as bindable properties then you can try to edit the <code>Position</code> class in the library itself or, in your project, you can just create a new class that inherits from <code>Position</code> and implement the bindable properties in that new class (if you can override <code>Lat</code> and <code>Long</code> then that might be easiest)."}, {"owner": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "edited": false, "score": 0, "creation_date": 1553109204, "post_id": 55268069, "comment_id": 97268131, "body": "Actually I had started editting it but <code>this.GetValue</code> and <code>this.SetValue</code> are not existing in the current context. I also read on the documentation link you provided."}, {"owner": {"reputation": 880, "user_id": 3098521, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/14c6594de11ca3fbc67fe8d6ab156b08?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron T", "link": "https://stackoverflow.com/users/3098521/aaron-t"}, "reply_to_user": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "edited": false, "score": 0, "creation_date": 1553109420, "post_id": 55268069, "comment_id": 97268243, "body": "Make sure that your class inherits from <code>BindableObject</code>, that&#39;s where those methods are defined."}, {"owner": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "edited": false, "score": 0, "creation_date": 1553109929, "post_id": 55268069, "comment_id": 97268499, "body": "Thanks this removed the errors, now I need more of your advice, I tried to create another class to override the <code>Lat</code> and <code>Lon</code>, but the challenge comes in when I have to inherit <code>BindableObject</code>. It&#39;s like I have to embed the library code in project without using it&#39;s nuget package."}, {"owner": {"reputation": 880, "user_id": 3098521, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/14c6594de11ca3fbc67fe8d6ab156b08?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron T", "link": "https://stackoverflow.com/users/3098521/aaron-t"}, "reply_to_user": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "edited": false, "score": 0, "creation_date": 1553110286, "post_id": 55268069, "comment_id": 97268667, "body": "Looking in the source code for the library you linked, <code>Position</code> does not inherit from anything so you won&#39;t be able to make a new class that inherits from <code>Position</code> because then you can&#39;t inherit from <code>BindableObject</code>. If I were you, I would just copy the <code>Position</code> class from <a href=\"https://github.com/NAXAM/mapbox-xamarin-forms/blob/master/Naxam.Mapbox.Forms/Position.cs\" rel=\"nofollow noreferrer\">github.com/NAXAM/mapbox-xamarin-forms/blob/master/&hellip;</a>, paste it into your project, make it inherit from <code>BindableObject</code>, and implement <code>Lat</code> and <code>Long</code> with bindable properties (as shown in my answer). Then, in your XAML just reference your new class in place of <code>controls:Position</code>."}, {"owner": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "edited": false, "score": 0, "creation_date": 1553111264, "post_id": 55268069, "comment_id": 97269147, "body": "Thanks Aaron, let me do that."}, {"owner": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "edited": false, "score": 0, "creation_date": 1553112007, "post_id": 55268069, "comment_id": 97269518, "body": "So I have tried it but this but the error slight change to this      <code>Error: Position 22:18. No property, bindable property, or event found for &#39;Center&#39;, or mismatching type between value and property. (Via)</code>"}, {"owner": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "edited": false, "score": 0, "creation_date": 1553112228, "post_id": 55268069, "comment_id": 97269622, "body": "This library is becoming too complex"}, {"owner": {"reputation": 880, "user_id": 3098521, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/14c6594de11ca3fbc67fe8d6ab156b08?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron T", "link": "https://stackoverflow.com/users/3098521/aaron-t"}, "reply_to_user": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "edited": false, "score": 0, "creation_date": 1553113227, "post_id": 55268069, "comment_id": 97270135, "body": "That seems very strange to me. Perhaps create a new question for the new issue so that we can see your new XAML."}, {"owner": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "edited": false, "score": 0, "creation_date": 1553113852, "post_id": 55268069, "comment_id": 97270439, "body": "If there&#39;s a way of setting the <code>Lat</code> and <code>Long</code> without binding in XAML  but using c# code , this will be great."}, {"owner": {"reputation": 880, "user_id": 3098521, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/14c6594de11ca3fbc67fe8d6ab156b08?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron T", "link": "https://stackoverflow.com/users/3098521/aaron-t"}, "reply_to_user": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "edited": false, "score": 1, "creation_date": 1553114565, "post_id": 55268069, "comment_id": 97270832, "body": "If you want to avoid bindings, something like this should work... XAML: <code>&lt;controls:MapView x:Name=&quot;map&quot; VerticalOptions=&quot;FillAndExpand&quot; &#47;&gt;</code>. Code Behind (in <code>DisplayMap</code> constructor): <code>this.map.Center = new Position { Lat = this.latitude, Long = this.longitude };</code>"}, {"owner": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "edited": false, "score": 0, "creation_date": 1553115061, "post_id": 55268069, "comment_id": 97271061, "body": "Thanks Aaron, it worked , maybe let me go with this."}], "tags": [], "owner": {"reputation": 880, "user_id": 3098521, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/14c6594de11ca3fbc67fe8d6ab156b08?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron T", "link": "https://stackoverflow.com/users/3098521/aaron-t"}, "is_accepted": false, "score": 1, "last_activity_date": 1553109367, "last_edit_date": 1553109367, "creation_date": 1553107479, "answer_id": 55268069, "question_id": 55267616, "link": "https://stackoverflow.com/questions/55267616/binding-doesnt-work-no-property-bindable-property-or-event-found-error/55268069#55268069", "title": "Binding doesn&#39;t work - No property, bindable property, or event found error", "body": "<p>The issue seems to be a lack of publicly-accessible bindable properties in the <code>Position</code> class (notice that the error mentions <code>Lat</code> which is a member of <code>Position</code>). <code>Position</code> should look something like this:</p>\n\n<pre><code>public class Position : BindableObject\n{\n    public static readonly BindableProperty LatProperty = BindableProperty.Create(nameof(Lat), typeof(double), typeof(Position), 0);\n    public double Lat\n    {\n        get { return (double)this.GetValue(LatProperty); }\n        set { this.SetValue(LatProperty, value); }\n    } \n\n    public static readonly BindableProperty LongProperty = BindableProperty.Create(nameof(Long), typeof(double), typeof(Position), 0);\n    public double Long\n    {\n        get { return (double)this.GetValue(LongProperty); }\n        set { this.SetValue(LongProperty, value); }\n    }\n\n    // ...\n</code></pre>\n\n<p>I suggest you take a look at the <a href=\"https://docs.microsoft.com/en-us/xamarin/xamarin-forms/xaml/bindable-properties\" rel=\"nofollow noreferrer\">official documentation for Bindable Properties</a>. Essentially, the error message you are getting is because it is looking for <code>LatProperty</code> when trying to bind using the accessor <code>Lat</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 9602, "user_id": 7462031, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/APfLb.jpg?s=128&g=1", "display_name": "FreakyAli", "link": "https://stackoverflow.com/users/7462031/freakyali"}, "is_accepted": false, "score": 0, "last_activity_date": 1553109488, "creation_date": 1553109488, "answer_id": 55268625, "question_id": 55267616, "link": "https://stackoverflow.com/questions/55267616/binding-doesnt-work-no-property-bindable-property-or-event-found-error/55268625#55268625", "title": "Binding doesn&#39;t work - No property, bindable property, or event found error", "body": "<p>The reason why you are not able to use the Lat and Long property is that if you check the <a href=\"https://github.com/NAXAM/mapbox-xamarin-forms/blob/master/Naxam.Mapbox.Forms/Position.cs\" rel=\"nofollow noreferrer\">Position</a> class there is no Bindable Property defined for them in it which means you cannot access them in XAML,</p>\n\n<p>A possible solution is to download the Sample project and take the code and make the respective changes for it to have Bindable Properties.</p>\n\n<p>For that, you can check @Aaron's answer</p>\n"}], "owner": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 609, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1553109488, "creation_date": 1553105710, "question_id": 55267616, "link": "https://stackoverflow.com/questions/55267616/binding-doesnt-work-no-property-bindable-property-or-event-found-error", "title": "Binding doesn&#39;t work - No property, bindable property, or event found error", "body": "<p>Am having an issue with binding, but I first searched with several questions on this, but no luck, below is the error am getting :</p>\n\n<blockquote>\n  <p>Error: Position 18:36. No property, bindable property, or event found\n  for 'Lat', or mismatching type between value and property</p>\n</blockquote>\n\n<p>Below is my <strong>xaml</strong> file :</p>\n\n<pre><code>&lt;controls:MapView x:Name=\"map\" VerticalOptions=\"FillAndExpand\"&gt;\n            &lt;controls:MapView.Center&gt;\n                &lt;controls:Position Lat=\"{Binding latitude}\" Long=\"{Binding longitude}\" /&gt;\n            &lt;/controls:MapView.Center&gt;\n        &lt;/controls:MapView&gt;\n</code></pre>\n\n<p>Then the <strong><code>c#</code></strong> code is as below :</p>\n\n<pre><code>public partial class DisplayMap : ContentPage\n    {\n\n        private double latitude { get; } \n        private double longitude { get; } \n\n        public DisplayMap()\n        {\n\n            InitializeComponent();\n\n            this.latitude = 0.3476;\n            this.longitude = 32.5825;\n\n            BindingContext = this;\n\n        }\n</code></pre>\n\n<p><strong><em>What am I missing ?</em></strong></p>\n"}, {"tags": ["c#", ".net", "winforms"], "comments": [{"owner": {"reputation": 2849, "user_id": 10573793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XP0ED.gif?s=128&g=1", "display_name": "preciousbetine", "link": "https://stackoverflow.com/users/10573793/preciousbetine"}, "edited": false, "score": 0, "creation_date": 1553106125, "post_id": 55267607, "comment_id": 97266568, "body": "Why are you using <code>if (pages[i] == controls[i])</code>? It will never result in true because you are comparing a tabpage to a control !"}, {"owner": {"reputation": 263, "user_id": 3960216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mkK0L.jpg?s=128&g=1", "display_name": "Martin Cerman", "link": "https://stackoverflow.com/users/3960216/martin-cerman"}, "reply_to_user": {"reputation": 2849, "user_id": 10573793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XP0ED.gif?s=128&g=1", "display_name": "preciousbetine", "link": "https://stackoverflow.com/users/10573793/preciousbetine"}, "edited": false, "score": 0, "creation_date": 1553106721, "post_id": 55267607, "comment_id": 97266851, "body": "The example just shows that at some point the ControlCollection gets reordered compared to the (stable?) TabPageCollection. Both hold TabPage instances, so you definitely can compared them."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 1, "creation_date": 1553107329, "post_id": 55267607, "comment_id": 97267204, "body": "No, we don&#39;t want &quot;examples&quot;.  Post real code that duplicates the problem."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "reply_to_user": {"reputation": 2849, "user_id": 10573793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XP0ED.gif?s=128&g=1", "display_name": "preciousbetine", "link": "https://stackoverflow.com/users/10573793/preciousbetine"}, "edited": false, "score": 0, "creation_date": 1553107751, "post_id": 55267607, "comment_id": 97267422, "body": "@preciousbetine The Controls collection for a TabControl is the TabPages collection, more or less."}, {"owner": {"reputation": 263, "user_id": 3960216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mkK0L.jpg?s=128&g=1", "display_name": "Martin Cerman", "link": "https://stackoverflow.com/users/3960216/martin-cerman"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1553108482, "post_id": 55267607, "comment_id": 97267760, "body": "@LarsTech I can&#39;t, NDA. The example exactly shows my problem. I just need to know why the ControlsCollection gets reordered every time you select a tab because it screws up my indexing."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1553108716, "post_id": 55267607, "comment_id": 97267866, "body": "Then open a new project and throw some tabs on a TabControl.  Tabs don&#39;t reorder themselves unless you have code that reorders the tabs.  Your posted code doesn&#39;t do that for us."}, {"owner": {"reputation": 263, "user_id": 3960216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mkK0L.jpg?s=128&g=1", "display_name": "Martin Cerman", "link": "https://stackoverflow.com/users/3960216/martin-cerman"}, "edited": false, "score": 0, "creation_date": 1553109051, "post_id": 55267607, "comment_id": 97268052, "body": "I&#39;m talking about Controls property that inherited from Control class. The tabs don&#39;t get reordered visually, but the ControlCollection does and that&#39;s THE PROBLEM."}, {"owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "edited": false, "score": 2, "creation_date": 1553109229, "post_id": 55267607, "comment_id": 97268141, "body": "Please post code that actually reproduces the problem.  Your code works perfectly fine on everything I&#39;ve whipped up."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1553114483, "post_id": 55267607, "comment_id": 97270782, "body": "There is no guarantee that any <code>Controls</code> collection will present, each time, the same indexing. Since there are tons of ways to handle a specific indexing using classes (specialized class, <code>List&lt;Control&gt;</code> or <code>Dictionary &lt;int, Control&gt;</code> etc.), there&#39;s really no need to rely (for no good reason, IMO) on the behavior of something that never said it will behave like you want it to."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1553115932, "post_id": 55267607, "comment_id": 97271502, "body": "The TabControl is special, in that it won&#39;t actually create child controls until a Tab is selected.  My guess is, this feature might be doing something with the Controls  collection.  You could try peeking at the source code to see what it&#39;s doing under the hood when a tab is selected."}], "answers": [{"comments": [{"owner": {"reputation": 1062, "user_id": 2338036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a8e10cf6d229f9315d13e4de452bef2?s=128&d=identicon&r=PG", "display_name": "RussKie", "link": "https://stackoverflow.com/users/2338036/russkie"}, "edited": false, "score": 0, "creation_date": 1567451244, "post_id": 55299559, "comment_id": 101959385, "body": "FWIW the switch is deprecated in .NET Core 3.0 <a href=\"https://github.com/dotnet/winforms/pull/1139/commits/963e28f57e074af659d044f746e0ce4773ed5945\" rel=\"nofollow noreferrer\">github.com/dotnet/winforms/pull/1139/commits/&hellip;</a>"}], "tags": [], "owner": {"reputation": 263, "user_id": 3960216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mkK0L.jpg?s=128&g=1", "display_name": "Martin Cerman", "link": "https://stackoverflow.com/users/3960216/martin-cerman"}, "is_accepted": false, "score": 0, "last_activity_date": 1553257514, "creation_date": 1553257514, "answer_id": 55299559, "question_id": 55267607, "link": "https://stackoverflow.com/questions/55267607/tabcontrol-reordering-controlcollection-when-selecting-a-tab/55299559#55299559", "title": "TabControl reordering ControlCollection when selecting a tab", "body": "<p>Alright, I've figured out the cause of this.</p>\n\n<p>It's done by a Control.UpdateChildControlIndex(Control ctl) which gets called during handling WmWindowPosChanged</p>\n\n<p><a href=\"https://referencesource.microsoft.com/System.Windows.Forms/R/13dbf65f74593e7c.html\" rel=\"nofollow noreferrer\">https://referencesource.microsoft.com/System.Windows.Forms/R/13dbf65f74593e7c.html</a></p>\n\n<p>As it's obvious from the first lines, it can be optionally disabled.</p>\n\n<p>It's kinda a pain before .NET 4.6 (as it requires the most ugly reflection code to do it).\nFrom 4.6+, you just call</p>\n\n<pre><code>AppContext.SetSwitch(\"Switch.System.Windows.Forms.AllowUpdateChildControlIndexForTabControls\", false);\n</code></pre>\n\n<p>And profit. Hopefully.</p>\n\n<p>In my case, I don't like the idea of switching some internal state of .NET FW for my Coded UI testing so I'll switch to different control collection for TabControl, as I've talk about in my question. But it's nice to know why before I do it.</p>\n"}], "owner": {"reputation": 263, "user_id": 3960216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mkK0L.jpg?s=128&g=1", "display_name": "Martin Cerman", "link": "https://stackoverflow.com/users/3960216/martin-cerman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1553257514, "creation_date": 1553105680, "last_edit_date": 1553110554, "question_id": 55267607, "link": "https://stackoverflow.com/questions/55267607/tabcontrol-reordering-controlcollection-when-selecting-a-tab", "title": "TabControl reordering ControlCollection when selecting a tab", "body": "<p>Alright, I have a weird one here again.</p>\n\n<p>I have a running project where I'm building a tree of Controls/Components of a given form and use that to generate the shortest unique path to any one of them. Just as a context for the actual question.</p>\n\n<p>Now I've had quite a bad time dealing with TabControl, which is finished quite badly on many levels, but most of it could be dealt with WinAPI calls. Fine. Now I have a problem which I can't figure out even when looking into the Microsoft reference codebase.</p>\n\n<p>TabControl for some unknown reason reorders the ControlCollection based when a tab is selected. From a tiny test app, it seems far more random than I first anticipated. It's something that's unfortunately breaking my fallback method for dealing with unnamed Controls and the stable indexing is very important to me.</p>\n\n<pre><code>using System;\nusing System.Windows.Forms;\n\nnamespace TabControlOrderTest\n{\n    using System.Threading;\n    using System.Threading.Tasks;\n\n    public partial class Form1 : Form\n    {\n        private TabControl tabControl1;\n        private ListBox listBox1;\n\n        public Form1()\n        {\n            this.tabControl1 = new TabControl();\n            this.listBox1 = new ListBox();\n            this.InitializeComponent();\n            this.SuspendLayout();\n            // \n            // tabControl1\n            // \n            this.tabControl1.Location = new System.Drawing.Point(12, 12);\n            this.tabControl1.Name = \"tabControl1\";\n            this.tabControl1.SelectedIndex = 0;\n            this.tabControl1.Size = new System.Drawing.Size(566, 244);\n            this.tabControl1.TabIndex = 0;\n            this.tabControl1.SelectedIndexChanged += new EventHandler(this.tabControl1_SelectedIndexChanged);\n            // \n            // listBox1\n            // \n            this.listBox1.FormattingEnabled = true;\n            this.listBox1.Location = new System.Drawing.Point(658, 34);\n            this.listBox1.Name = \"listBox1\";\n            this.listBox1.Size = new System.Drawing.Size(130, 251);\n            this.listBox1.TabIndex = 2;\n\n            this.Controls.Add(this.listBox1);\n            this.Controls.Add(this.tabControl1);\n\n            this.ResumeLayout(false);\n\n\n            for (var i = 0; i &lt; 10; i++)\n            {\n                this.tabControl1.TabPages.Add(\n                    new TabPage($\"tabPage{i}\")\n                    {\n                        Name = $\"tabPage{i}\"\n                    });\n            }\n        }\n\n        protected override void OnShown(EventArgs e)\n        {\n            base.OnShown(e);\n\n            Task.Run(\n                () =&gt;\n                {\n                    for (var i = 9; i &gt;= 0; i--)\n                    {\n                        Thread.Sleep(500);\n                        this.tabControl1.SelectedIndex = i;\n                    }\n                });\n        }\n\n        private void tabControl1_SelectedIndexChanged(object sender, EventArgs e)\n        {\n            var pages = this.tabControl1.TabPages;\n            var controls = this.tabControl1.Controls;\n            this.Text = $\"{pages.Count};{controls.Count}\";\n            this.listBox1.Items.Clear();\n            for (int i = 0, count = this.tabControl1.TabCount; i &lt; count; i++)\n            {\n                if (ReferenceEquals(pages[i], controls[i]))\n                {\n                    continue;\n\n                }\n\n                this.listBox1.Items.Add($\"{pages[i].Name} != {controls[i].Name}\");\n            }\n        }     \n    }\n}\n</code></pre>\n\n<p>Sometimes it's quite stable, sometimes it gets even more messy with every click. Could someone please give me a hint why is this happening? I would be so grateful for any clues.</p>\n\n<p>EDIT: I'm asking about Controls property specifically because that's the universal place for Controls to store any underlying items. I could switch in my production code to TabPageCollection for TabControl specifically, but it could break more things than fix so that's why I'm trying to understand the behavior.</p>\n"}, {"tags": ["c#", "multithreading", "scheduled-tasks", "cancellationtokensource"], "comments": [{"owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "edited": false, "score": 0, "creation_date": 1553105772, "post_id": 55267600, "comment_id": 97266412, "body": "Cancelling != pausing.  You can&#39;t restart a cancelled Task.  Use something besides a cancellation token to pause progress."}, {"owner": {"reputation": 10012, "user_id": 2594597, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ynigx.jpg?s=128&g=1", "display_name": "Leonid Vasilev", "link": "https://stackoverflow.com/users/2594597/leonid-vasilev"}, "edited": false, "score": 0, "creation_date": 1553105838, "post_id": 55267600, "comment_id": 97266445, "body": "What are you trying to accomplish by that?"}, {"owner": {"reputation": 409, "user_id": 4682461, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5fa2cf12516975755b191a1181ac949b?s=128&d=identicon&r=PG&f=1", "display_name": "golu", "link": "https://stackoverflow.com/users/4682461/golu"}, "edited": false, "score": 0, "creation_date": 1553105861, "post_id": 55267600, "comment_id": 97266455, "body": "How can I completely stop/clean the task and start it again with new parameters? I haven&#39;t showed the complete code here for simplicity. Just want to understand how to reuse the same task code again as new."}, {"owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "edited": false, "score": 1, "creation_date": 1553105925, "post_id": 55267600, "comment_id": 97266485, "body": "Add <code>tokenSource = new CancellationTokenSource();</code> inside <code>PrintButtonText</code> before <code>Task.Factory...</code>."}, {"owner": {"reputation": 409, "user_id": 4682461, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5fa2cf12516975755b191a1181ac949b?s=128&d=identicon&r=PG&f=1", "display_name": "golu", "link": "https://stackoverflow.com/users/4682461/golu"}, "edited": false, "score": 0, "creation_date": 1553106140, "post_id": 55267600, "comment_id": 97266579, "body": "Thanks that works! But does that mean the old task is stopped too and not using memory in the background?"}, {"owner": {"reputation": 409, "user_id": 4682461, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5fa2cf12516975755b191a1181ac949b?s=128&d=identicon&r=PG&f=1", "display_name": "golu", "link": "https://stackoverflow.com/users/4682461/golu"}, "edited": false, "score": 0, "creation_date": 1553107155, "post_id": 55267600, "comment_id": 97267089, "body": "Actually just by putting tokenSource = new CancellationTokenSource(); inside PrintButtonText doesn&#39;t work. It seems the old threads are still running and printing old buttonText as well"}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1553133508, "post_id": 55267600, "comment_id": 97276472, "body": "@golu - Can you please post the complete code? I think you&#39;ve made this too simple."}, {"owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "edited": false, "score": 0, "creation_date": 1553137422, "post_id": 55267600, "comment_id": 97277303, "body": "You must not call <code>tokenSource.Dispose</code>! What if (more than likely) <code>tokenSource</code> is dosposed while the thread is sleeping? Since you changed the code from your initial code I vote to close this question as <code>Unclear what you&#39;re asking</code>..."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1553142082, "post_id": 55267600, "comment_id": 97278258, "body": "<i>&quot;I want to stop the thread and start it again with some different parameters&quot;</i> -- why don&#39;t you just do that then? There are plenty of posts on this site explaining how to a) cleanly signal a thread to exit, and b) start a thread with specific parameters. So, what exactly is it that&#39;s giving you a problem? (Other than you apparently insisting on trying to reuse an object that&#39;s, by design, not reusable.)"}, {"owner": {"reputation": 409, "user_id": 4682461, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5fa2cf12516975755b191a1181ac949b?s=128&d=identicon&r=PG&f=1", "display_name": "golu", "link": "https://stackoverflow.com/users/4682461/golu"}, "edited": false, "score": 0, "creation_date": 1553227251, "post_id": 55267600, "comment_id": 97314054, "body": "I have updated the actual code I am working with. Hope someone can help."}, {"owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "edited": false, "score": 0, "creation_date": 1553354616, "post_id": 55267600, "comment_id": 97357553, "body": "So your problem is that you&#39;re restarting too fast? After calling <code>Cancel</code> wait for the cancellation to finish: <code>WaitHandle.WaitAny(new[] { tokenSource.Token.WaitHandle });</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1789, "user_id": 3980968, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FXI47.jpg?s=128&g=1", "display_name": "BlueStrat", "link": "https://stackoverflow.com/users/3980968/bluestrat"}, "edited": false, "score": 0, "creation_date": 1553189619, "post_id": 55272955, "comment_id": 97302161, "body": "Hi, I am quite intrigued by this reactive functionality (I hadn&#39;t viewed it before). Any recommended tutorials or resources?"}], "tags": [], "owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "is_accepted": false, "score": 0, "last_activity_date": 1553135605, "creation_date": 1553135605, "answer_id": 55272955, "question_id": 55267600, "link": "https://stackoverflow.com/questions/55267600/stopping-and-starting-tasks-using-cancellationtokensource/55272955#55272955", "title": "Stopping and starting tasks using CancellationTokenSource", "body": "<p>You should use Microsoft's Reactive Framework (aka Rx) - NuGet <code>System.Reactive.Windows.Forms</code> and add <code>using System.Reactive.Linq;</code> - then you can do this:</p>\n\n<pre><code>    private void Form1_Load(object sender, EventArgs e)\n    {\n        IObservable&lt;string&gt; button1Clicks =\n            Observable\n                .FromEventPattern&lt;EventHandler, EventArgs&gt;(h =&gt; button1.Click += h, h =&gt; button1.Click -= h)\n                .Select(ep =&gt; \"Button1\");\n\n        IObservable&lt;string&gt; button2Clicks =\n            Observable\n                .FromEventPattern&lt;EventHandler, EventArgs&gt;(h =&gt; button2.Click += h, h =&gt; button2.Click -= h)\n                .Select(ep =&gt; \"Button2\");\n\n        IDisposable subscription =\n            button1Clicks\n                .Merge(button2Clicks)\n                .StartWith(\"None\")\n                .Select(x =&gt; Observable.Timer(TimeSpan.Zero, TimeSpan.FromMilliseconds(500.0)).Select(n =&gt; x))\n                .Switch()\n                .ObserveOn(this)\n                .Subscribe(x =&gt; Console.WriteLine(x));\n    }\n</code></pre>\n\n<p>That's the entire code needed to make what you want to work.</p>\n\n<p>The only thing that you need to do is move <code>subscription</code> out into a <code>private</code> field and then simply call <code>subscription.Dispose()</code> to shut this all down.</p>\n\n<p>This is much simpler than messing with cancellation tokens.</p>\n"}], "owner": {"reputation": 409, "user_id": 4682461, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5fa2cf12516975755b191a1181ac949b?s=128&d=identicon&r=PG&f=1", "display_name": "golu", "link": "https://stackoverflow.com/users/4682461/golu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553227225, "creation_date": 1553105633, "last_edit_date": 1553227225, "question_id": 55267600, "link": "https://stackoverflow.com/questions/55267600/stopping-and-starting-tasks-using-cancellationtokensource", "title": "Stopping and starting tasks using CancellationTokenSource", "body": "<p>this is just a simplified version of what I am trying to do</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    private CancellationTokenSource tokenSource = new CancellationTokenSource();\n\n    public MainWindow()\n    {\n        InitializeComponent();\n        PrintButtonText(\"None\");\n    }\n\n    private void PrintButtonText(string buttonText)\n    {\n        Console.WriteLine(\"Update!\");\n        Task.Factory.StartNew(() =&gt;\n        {\n            while (!tokenSource.Token.IsCancellationRequested)\n            {\n                Console.WriteLine(\"Button Pressed Text: \" + buttonText);\n            }\n        }, tokenSource.Token);\n    }\n\n    private void Button1_Click(object sender, RoutedEventArgs e)\n    {\n        tokenSource.Cancel();\n        PrintButtonText(\"Button1\");\n    }\n\n    private void Button2_Click(object sender, RoutedEventArgs e)\n    {\n        tokenSource.Cancel();\n        PrintButtonText(\"Button2\");\n    }\n}\n</code></pre>\n\n<p>After I do </p>\n\n<pre><code>tokenSource.Cancel();\nPrintButtonText(\"Button1\");\n</code></pre>\n\n<p>It's not able to start the task again and continue to print my line. I need it to work this way for my program. </p>\n\n<p>I want to stop the thread and start it again with some different parameters. How can I achieve this? thanks</p>\n\n<p><strong>EDIT</strong>: </p>\n\n<p>Since I didn't get a solution with my simplified version, here is full code and what I am trying to do. Basically, on wpf window camera rendering starts on start. There is a button to start saving to file, but in order to save I have to update the config and start \"pipeline\" again.</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    private Pipeline pipeline = new Pipeline(); // Create and config the pipeline to sream color and depth frames.\n    private CancellationTokenSource tokenSource = new CancellationTokenSource();\n\n    private bool saveDataToFile = false;\n\n    public MainWindow()\n    {\n        InitializeComponent();\n    }\n\n    private void Window_Loaded(object sender, RoutedEventArgs e)\n    {\n        Config cfg = SetupConfig(false);\n        PipelineProfile pp = pipeline.Start(cfg);\n        StartRenderFrames(pp);\n    }\n\n    private void StartRenderFrames(PipelineProfile pp)\n    {\n        Colorizer colorizer = new Colorizer(); // The colorizer processing block used to visualize the depth frames.\n\n        // Allocate bitmaps for rendring. Since the sample aligns the depth frames to the color frames, both of the images will have the color resolution\n        using (var p = pp.GetStream(Stream.Color) as VideoStreamProfile)\n        {\n            imgColor.Source = new WriteableBitmap(p.Width, p.Height, 96d, 96d, PixelFormats.Rgb24, null);\n            imgDepth.Source = new WriteableBitmap(p.Width, p.Height, 96d, 96d, PixelFormats.Rgb24, null);\n        }\n        Action&lt;VideoFrame&gt; updateColor = UpdateImage(imgColor);\n        Action&lt;VideoFrame&gt; updateDepth = UpdateImage(imgDepth);\n\n        Task.Factory.StartNew(() =&gt;\n        {\n            while (!tokenSource.Token.IsCancellationRequested)\n            {\n                // Wait for the next available FrameSet\n                using (var frames = pipeline.WaitForFrames())\n                {\n                    var colorFrame = frames.ColorFrame.DisposeWith(frames);\n                    var depthFrame = frames.DepthFrame.DisposeWith(frames);\n\n                    // We colorize the depth frame for visualization purposes, .\n                    var colorizedDepth = colorizer.Process(depthFrame).DisposeWith(frames);\n\n                    // Render the frames.\n                    Dispatcher.Invoke(DispatcherPriority.Render, updateDepth, colorizedDepth);\n                    Dispatcher.Invoke(DispatcherPriority.Render, updateColor, colorFrame);\n                }\n            }\n        }, tokenSource.Token);\n    }\n\n    private Config SetupConfig(bool saveDepthFile)\n    {\n        Config cfg = new Config();\n        cfg.EnableStream(Stream.Depth, 640, 480, framerate: 15);\n        cfg.EnableStream(Stream.Color, 640, 480, format: Format.Rgb8, framerate: 15);\n        if (saveDepthFile)\n        {\n            cfg.EnableRecordToFile(@\"C:\\temp\\My_test111.bag\");\n        }\n        return cfg;\n    }\n\n    static Action&lt;VideoFrame&gt; UpdateImage(Image img)\n    {\n        var wbmp = img.Source as WriteableBitmap;\n        return new Action&lt;VideoFrame&gt;(frame =&gt;\n        {\n            using (frame)\n            {\n                var rect = new Int32Rect(0, 0, frame.Width, frame.Height);\n                wbmp.WritePixels(rect, frame.Data, frame.Stride * frame.Height, frame.Stride);\n            }\n        });\n    }\n\n    private void StartSaving_Button_Click(object sender, RoutedEventArgs e)\n    {\n        tokenSource.Cancel();\n        pipeline.Stop();\n        // This is where I have a problem. Rendering thread does not stop before I want to start again.\n        Config cfg = SetupConfig(true);\n        PipelineProfile pp = pipeline.Start(cfg);\n        StartRenderFrames(pp);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "json.net"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1553105353, "post_id": 55267423, "comment_id": 97266217, "body": "I think your options are to use reflection, or to query the serialized object using <code>SelectToken</code>.  I&#39;ve run into this before and ended up using reflection.  See: <a href=\"https://stackoverflow.com/questions/33088462/can-i-specify-a-path-in-an-attribute-to-map-a-property-in-my-class-to-a-child-pr\" title=\"can i specify a path in an attribute to map a property in my class to a child pr\">stackoverflow.com/questions/33088462/&hellip;</a>"}, {"owner": {"reputation": 3049, "user_id": 3140853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73157a618d54905fae77b8e32a8db426?s=128&d=identicon&r=PG", "display_name": "alastairtree", "link": "https://stackoverflow.com/users/3140853/alastairtree"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1553105793, "post_id": 55267423, "comment_id": 97266427, "body": "That link is helpful, thanks, but I am really after the mapping model rather than the actual serialised property data - I need to be able convert the json property path into the object property path, not access the value in the json itself."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1553105922, "post_id": 55267423, "comment_id": 97266481, "body": "I&#39;m not aware of any kind of mapping model you can use.  Entity Framework has such models, but I don&#39;t think Newtonsoft does.  I could probably adapt the converter in that link for your purposes, but not until this evening."}], "owner": {"reputation": 3049, "user_id": 3140853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73157a618d54905fae77b8e32a8db426?s=128&d=identicon&r=PG", "display_name": "alastairtree", "link": "https://stackoverflow.com/users/3140853/alastairtree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553161511, "creation_date": 1553104956, "last_edit_date": 1553161511, "question_id": 55267423, "link": "https://stackoverflow.com/questions/55267423/query-the-serialisation-object-model-from-newtonsoft-json", "title": "Query the serialisation object model from Newtonsoft.Json", "body": "<p>I have a problem where I would like to be able to convert a json path into an object path based on the model used by Newtonsoft.Json to map between json and an my c# object model.</p>\n\n<p>Below I have an example of some complex types that are serialised into json. Given I have the json path of a child property <code>my_child.uppercase</code>, I would like to convert that into the object property path <code>Child.Uppercase</code>. </p>\n\n<p>Is it possible to query the model used by Newtonsoft.Json to map between the two worlds? Or do i have to build it from scratch using reflection?</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class ParentModel\n{\n   // serialised into another name!\n   [JsonProperty(PropertyName = \"my_child\")]\n   public ChildModel Child {get; set;} \n}\n\n//serialised into another case!\n[JsonObject(NamingStrategyType = typeof(CamelCaseNamingStrategy))]\npublic class ChildModel\n{\n   public string Uppercase {get; set;} \n}\n\nvoid Main()\n{\n    var item = new ParentModel() {\n        Child = new ChildModel() {\n            Uppercase = \"Joe\"\n        }\n    };\n\n    // outputs {\"my_child\":{\"uppercase\":\"Joe\"}}\n    JsonConvert.SerializeObject(item).Dump();\n\n    var expected = \"Child.Uppercase\";\n    var actual = ConvertJsonPropertiesToObjectProperties(\"my_child.uppercase\");\n\n    Debug.Assert(expected == actual);\n}\n\nstring ConvertJsonPropertiesToObjectProperties(string jsonPropertyNames){\n    return \"implement me!!\";\n}\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "windows-forms-designer"], "answers": [{"comments": [{"owner": {"reputation": 2617, "user_id": 5789864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BTnom.jpg?s=128&g=1", "display_name": "Risto M", "link": "https://stackoverflow.com/users/5789864/risto-m"}, "reply_to_user": {"reputation": 13, "user_id": 11207730, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFBWbwYl9Es/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re9_MADM4rOcSj0epnRj0OOi0_7iA/mo/photo.jpg?sz=128", "display_name": "arash karimadini", "link": "https://stackoverflow.com/users/11207730/arash-karimadini"}, "edited": false, "score": 0, "creation_date": 1553105890, "post_id": 55267477, "comment_id": 97266469, "body": "It seems, that there was some &#39;-character also missing, check updated version?"}, {"owner": {"reputation": 2617, "user_id": 5789864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BTnom.jpg?s=128&g=1", "display_name": "Risto M", "link": "https://stackoverflow.com/users/5789864/risto-m"}, "reply_to_user": {"reputation": 13, "user_id": 11207730, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFBWbwYl9Es/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re9_MADM4rOcSj0epnRj0OOi0_7iA/mo/photo.jpg?sz=128", "display_name": "arash karimadini", "link": "https://stackoverflow.com/users/11207730/arash-karimadini"}, "edited": false, "score": 0, "creation_date": 1553106232, "post_id": 55267477, "comment_id": 97266624, "body": "Also there was mismatch of String.Format parameter count and indices. It will be cleaner to have only format parameter {0},{1} etc and not mixed with inline-string concatenation.."}, {"owner": {"reputation": 13, "user_id": 11207730, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFBWbwYl9Es/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re9_MADM4rOcSj0epnRj0OOi0_7iA/mo/photo.jpg?sz=128", "display_name": "arash karimadini", "link": "https://stackoverflow.com/users/11207730/arash-karimadini"}, "edited": false, "score": 0, "creation_date": 1553107453, "post_id": 55267477, "comment_id": 97267278, "body": "another error occured: Cannot perform &#39;Like&#39; operation on System.Decimal and System.String."}, {"owner": {"reputation": 2617, "user_id": 5789864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BTnom.jpg?s=128&g=1", "display_name": "Risto M", "link": "https://stackoverflow.com/users/5789864/risto-m"}, "reply_to_user": {"reputation": 13, "user_id": 11207730, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFBWbwYl9Es/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re9_MADM4rOcSj0epnRj0OOi0_7iA/mo/photo.jpg?sz=128", "display_name": "arash karimadini", "link": "https://stackoverflow.com/users/11207730/arash-karimadini"}, "edited": false, "score": 0, "creation_date": 1553110721, "post_id": 55267477, "comment_id": 97268890, "body": "Now you have to check field datatypes and make required conversions before executing filtering. When TextBox.Text-values are strings then you have use decimal.Parse etc before search.."}], "tags": [], "owner": {"reputation": 2617, "user_id": 5789864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BTnom.jpg?s=128&g=1", "display_name": "Risto M", "link": "https://stackoverflow.com/users/5789864/risto-m"}, "is_accepted": false, "score": 2, "last_activity_date": 1553106431, "last_edit_date": 1553106431, "creation_date": 1553105161, "answer_id": 55267477, "question_id": 55267395, "link": "https://stackoverflow.com/questions/55267395/search-with-multi-textbox-windows-form-c/55267477#55267477", "title": "search with multi textbox windows form c#", "body": "<p>It seems that your query string was missing one space near <code>office_number like '\" + searchoffice.Text + \"%' and phone_number</code>, also there was one '-character missing and String.Format- parameter count mismatch. </p>\n\n<p>So try following:</p>\n\n<pre><code>public void filter()  \n    {  \n        using (SqlConnection sqlconn = new SqlConnection(@\"Data Source=DESKTOP-IIBSL6N;Initial Catalog=sales_management;Integrated Security=True\"))  \n        { \n            SqlDataAdapter sqlad = new SqlDataAdapter(\"select * From Customer\", sqlconn);  \n            DataTable dtbl = new DataTable();  \n            sqlad.Fill(dtbl);  \n            DataView dv = dtbl.DefaultView;  \n            dv.RowFilter = string.Format(\"Name like '%{0}%' and Address like \u2018%{1}%\u2019 and  office_number like '\" + searchoffice.Text + \"%' and phone_number like '\" + searchphone.Text + \"%' and acount_name like '%{0}%'\", searchname.Text,searchaddress.Text);  \n            customergrid.DataSource = dv.ToTable();  \n            dtbl.DefaultView.Sort = \"[Name] DESC\";  \n        }  \n    } \n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11207730, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFBWbwYl9Es/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re9_MADM4rOcSj0epnRj0OOi0_7iA/mo/photo.jpg?sz=128", "display_name": "arash karimadini", "link": "https://stackoverflow.com/users/11207730/arash-karimadini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553115925, "creation_date": 1553104858, "last_edit_date": 1553115925, "question_id": 55267395, "link": "https://stackoverflow.com/questions/55267395/search-with-multi-textbox-windows-form-c", "title": "search with multi textbox windows form c#", "body": "<pre><code>public void filter()  \n{  \n    using (SqlConnection sqlconn = new SqlConnection(@\"Data Source=DESKTOP-IIBSL6N;Initial Catalog=sales_management;Integrated Security=True\"))  \n    {  \n         SqlDataAdapter sqlad = new SqlDataAdapter(\"select * From Customer\", sqlconn);  \n         DataTable dtbl = new DataTable();  \n         sqlad.Fill(dtbl);  \n         DataView dv = dtbl.DefaultView;  \n         dv.RowFilter = string.Format(\"Name like '%{0}%' and Address like '%{0}% and  office_number like '\" + searchoffice.Text + \"%'and phone_number like '\" + searchphone.Text + \"%' and acount_name like '%{0}%'\", searchname.Text,searchaddress.Text,searchoffice.Text,searchphone.Text,searchaccountname.Text);  \n            customergrid.DataSource = dv.ToTable();  \n            dtbl.DefaultView.Sort = \"[Name] DESC\";  \n    }  \n}  \n</code></pre>\n\n<p>When I run this method in the <code>textbox.textchange()</code>-EventHandler, I get following Exception: </p>\n\n<pre><code>The expression contains an invalid string constant: '\n</code></pre>\n\n<p>Please help me fix the exception.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "edited": false, "score": 0, "creation_date": 1553105337, "post_id": 55267356, "comment_id": 97266204, "body": "How about to declare your <code>DistinctReaders</code> as <code>HashSet&lt;ImpinjReader&gt;</code>? You need to override <code>Equals</code> and <code>GetHashCode</code> methods in <code>ImpinjReader</code> to make it work"}, {"owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "edited": false, "score": 1, "creation_date": 1553105459, "post_id": 55267356, "comment_id": 97266267, "body": "Use the overload of <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.distinct?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>Distinct</code></a> supplying an <code>IEqualityComparer&lt;ImpinjReader&gt;</code> that compares the desired elements.  You can do this in the <code>foreach</code> if you don&#39;t want to change the <code>DistinctReaders</code> list."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1553108456, "post_id": 55267356, "comment_id": 97267746, "body": "Also, after you add an item to <code>readers</code>, it will not affect <code>DistinctReaders</code> (in the code you have currently). It may be better if you implement <code>DistinctReaders</code> as a read-only property that gets the distinct items each time it is called (use <code>=&gt;</code> instead of <code>=</code>):  <code>List&lt;ImpinjReader&gt; DistinctReaders =&gt; readers?.Distinct().ToList();</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1553108989, "post_id": 55267356, "comment_id": 97268010, "body": "Also, where is <code>address</code> defined? It would be helpful to know what type it is. And it would be nice to see the definition of the <code>ImpinjReader</code> class (at least the relevant constructor and property)"}], "answers": [{"tags": [], "owner": {"reputation": 1526, "user_id": 3133249, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/573552075/picture?type=large", "display_name": "Tronald", "link": "https://stackoverflow.com/users/3133249/tronald"}, "is_accepted": false, "score": 0, "last_activity_date": 1553105569, "creation_date": 1553105569, "answer_id": 55267587, "question_id": 55267356, "link": "https://stackoverflow.com/questions/55267356/remove-duplicate-element-from-a-class-list/55267587#55267587", "title": "Remove duplicate element from a class list", "body": "<p>It sounds like you want a distinct list based on the <code>address</code> property. The below code groups your objects by <code>address</code> and then only grabs the first item in each group before returning a new list.</p>\n\n<pre><code>List&lt;ImpinjReader&gt; DistinctReaders = readers.GroupBy(x=&gt;x.address).Select(z=&gt;z.First()).ToList();\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11233444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e6f4ac85b760fc2760303abc0cd2414?s=128&d=identicon&r=PG&f=1", "display_name": "Lonewolf", "link": "https://stackoverflow.com/users/11233444/lonewolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553105569, "creation_date": 1553104688, "last_edit_date": 1553105130, "question_id": 55267356, "link": "https://stackoverflow.com/questions/55267356/remove-duplicate-element-from-a-class-list", "title": "Remove duplicate element from a class list", "body": "<p>How can I eliminate duplication of element \"address\" from Impinjreader class list as shown below? I'm trying to avoid to connect on multiple copy of an IP address. </p>\n\n<pre><code>static List &lt;ImpinjReader&gt; readers = new List &lt;ImpinjReader&gt;();\nList&lt;ImpinjReader&gt; DistinctReaders = readers.Distinct().ToList();\n\npublic bool Con()\n{\n    try\n    {\n      readers.Add(new ImpinjReader(address, \"\"));\n\n      foreach (ImpinjReader reader in DistinctReaders)\n      {\n          // From here I am receiving a duplicate ip addresses \n          // assigned with ascending count values inside \n          // DistinctReaders.\n      }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 33990, "user_id": 14768, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/b6aMa.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/14768/joshua"}, "edited": false, "score": 1, "creation_date": 1553107692, "post_id": 55267311, "comment_id": 97267396, "body": "I am sorry, you&#39;re going to find yourself in a rats-nest of P/Invoke to get this working. The function you want is LoadIcon to get a copy of it, but it will not be in an Icon object so you&#39;re going to have to do quite a bit more to make it show up. Personally I&#39;d P/Invoke CreateWindow for a static. But it&#39;s far too much work for me to type up whole."}, {"owner": {"reputation": 2445, "user_id": 2118609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ovygf.png?s=128&g=1", "display_name": "oliver", "link": "https://stackoverflow.com/users/2118609/oliver"}, "reply_to_user": {"reputation": 33990, "user_id": 14768, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/b6aMa.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/14768/joshua"}, "edited": false, "score": 0, "creation_date": 1553107869, "post_id": 55267311, "comment_id": 97267474, "body": "Thanks Joshua for thinking about it. I have already opted for the lazy way (see my answer below)."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 1, "creation_date": 1553113206, "post_id": 55267311, "comment_id": 97270121, "body": "Readily available through a .Net class: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.drawing.systemicons\" rel=\"nofollow noreferrer\">SystemIcons</a> (e.g., <code>SystemIcons.Question</code>)."}, {"owner": {"reputation": 2445, "user_id": 2118609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ovygf.png?s=128&g=1", "display_name": "oliver", "link": "https://stackoverflow.com/users/2118609/oliver"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1553114602, "post_id": 55267311, "comment_id": 97270850, "body": "@Jimi: worked like a charm! If you post it as a short answer, I&#39;ll accept it. Otherwise I&#39;ll replace my answer&#39;s content."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 1, "creation_date": 1553115072, "post_id": 55267311, "comment_id": 97271066, "body": "Well, since you already have an answer here, you could just add it this information to yours."}], "answers": [{"comments": [{"owner": {"reputation": 2393, "user_id": 3116731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fqjdb.jpg?s=128&g=1", "display_name": "Se&#241;or CMasMas", "link": "https://stackoverflow.com/users/3116731/se%c3%b1or-cmasmas"}, "edited": false, "score": 0, "creation_date": 1553110272, "post_id": 55268158, "comment_id": 97268663, "body": "How can it be a copyright violation if you aren&#39;t copying the resource and including it as your own?"}], "tags": [], "owner": {"reputation": 2445, "user_id": 2118609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ovygf.png?s=128&g=1", "display_name": "oliver", "link": "https://stackoverflow.com/users/2118609/oliver"}, "is_accepted": true, "score": 1, "last_activity_date": 1553119237, "last_edit_date": 1553119237, "creation_date": 1553107783, "answer_id": 55268158, "question_id": 55267311, "link": "https://stackoverflow.com/questions/55267311/is-it-possible-to-retrieve-the-default-messagebox-question-icon-for-usage-in-my/55268158#55268158", "title": "Is it possible to retrieve the default MessageBox question icon for usage in my own form?", "body": "<p>Thanks to <a href=\"https://stackoverflow.com/users/7444103/jimi\">Jimi</a>, I have learned that .NET supports these kinds of icons out of the box. I added this to a panel on my dialog form.</p>\n\n<pre><code>this.panel1.BackgroundImage = Bitmap.FromHicon(SystemIcons.Question.Handle);\nthis.panel1.BackgroundImageLayout = System.Windows.Forms.ImageLayout.Center;\n</code></pre>\n\n<p>Source: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.drawing.systemicons\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.drawing.systemicons</a></p>\n"}, {"comments": [{"owner": {"reputation": 2393, "user_id": 3116731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fqjdb.jpg?s=128&g=1", "display_name": "Se&#241;or CMasMas", "link": "https://stackoverflow.com/users/3116731/se%c3%b1or-cmasmas"}, "edited": false, "score": 0, "creation_date": 1553119902, "post_id": 55268646, "comment_id": 97273037, "body": "Why has this answer been down-voted TWICE?  I get it that @Jimi answered the generic question (and well done!) but what on earth could I have done wrong providing an answer that would work for any icon?"}], "tags": [], "owner": {"reputation": 2393, "user_id": 3116731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fqjdb.jpg?s=128&g=1", "display_name": "Se&#241;or CMasMas", "link": "https://stackoverflow.com/users/3116731/se%c3%b1or-cmasmas"}, "is_accepted": false, "score": 0, "last_activity_date": 1553109570, "creation_date": 1553109570, "answer_id": 55268646, "question_id": 55267311, "link": "https://stackoverflow.com/questions/55267311/is-it-possible-to-retrieve-the-default-messagebox-question-icon-for-usage-in-my/55268646#55268646", "title": "Is it possible to retrieve the default MessageBox question icon for usage in my own form?", "body": "<p>We have a C# class that does it just a reliably as any other thing in Windows. This specific PInvoke code isn't rocket science.</p>\n\n<p>Although I can't give you our source code, I can point you at code which is using all of the same PInvoke calls that we are using.  <a href=\"https://github.com/TsudaKageyu/IconExtractor\" rel=\"nofollow noreferrer\">https://github.com/TsudaKageyu/IconExtractor</a></p>\n\n<p>It is THIS EASY to use :)</p>\n\n<pre><code>myIconExtractor = new IconExtractor(fileName);\nmyIcon = myIconExtractor.GetIcon(iconIndex);\n</code></pre>\n"}], "owner": {"reputation": 2445, "user_id": 2118609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ovygf.png?s=128&g=1", "display_name": "oliver", "link": "https://stackoverflow.com/users/2118609/oliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 55268158, "answer_count": 2, "score": 0, "last_activity_date": 1553119237, "creation_date": 1553104546, "last_edit_date": 1553116425, "question_id": 55267311, "link": "https://stackoverflow.com/questions/55267311/is-it-possible-to-retrieve-the-default-messagebox-question-icon-for-usage-in-my", "title": "Is it possible to retrieve the default MessageBox question icon for usage in my own form?", "body": "<p>Sounds so trivial that it probably has been asked before, but I can't find it.</p>\n\n<p>I want to ask the user a question that can't be answered yes or no. E.g. button names should be \"Fish\" or \"Meat\". To my knowledge this is not possible with the default MessageBox class. So I am creating my own form.</p>\n\n<p>But can I retrieve one of the standard Icons of MessageBox (e.g. the one behind MessageBoxIcon.Question) to make it look more like the default MessageBox?</p>\n"}, {"tags": ["c#", "task-parallel-library", ".net-4.5"], "comments": [{"owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "edited": false, "score": 0, "creation_date": 1553104694, "post_id": 55267155, "comment_id": 97265895, "body": "You could use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task.run?view=netframework-4.7.2#System_Threading_Tasks_Task_Run__1_System_Func___0__\" rel=\"nofollow noreferrer\">Task.Run</a> and then <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task.waitall?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">Task.WaitAll</a>."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "reply_to_user": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "edited": false, "score": 0, "creation_date": 1553112119, "post_id": 55267155, "comment_id": 97269578, "body": "@SaniSinghHuttunen EF has async methods so you don&#39;t need <code>Task.Run</code>, OP uses ASP.Net so <code>Task.WaitAll</code> will lead to deadlocks - not exactly sure if your suggestion is actively evil or just \u2026 not well thought out?"}, {"owner": {"reputation": 26725, "user_id": 213550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cyZ5c.jpg?s=128&g=1", "display_name": "VMAtm", "link": "https://stackoverflow.com/users/213550/vmatm"}, "edited": false, "score": 0, "creation_date": 1553115750, "post_id": 55267155, "comment_id": 97271400, "body": "Do not use Parallel directly in ASP.Net pages, as threads could be suspended without finishing the job, and it doesn&#39;t work correctly with <code>async</code> methods"}], "answers": [{"comments": [{"owner": {"reputation": 1389, "user_id": 9929449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nDnnU9jHyO8/AAAAAAAAAAI/AAAAAAAAAAA/z6hynXfhs0g/photo.jpg?sz=128", "display_name": "LeBigCat", "link": "https://stackoverflow.com/users/9929449/lebigcat"}, "edited": false, "score": 0, "creation_date": 1553105101, "post_id": 55267420, "comment_id": 97266092, "body": "I would add .configureAwait(false). OP need also to be sure the data he want to write in the cache are threadsafe."}, {"owner": {"reputation": 1389, "user_id": 9929449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nDnnU9jHyO8/AAAAAAAAAAI/AAAAAAAAAAA/z6hynXfhs0g/photo.jpg?sz=128", "display_name": "LeBigCat", "link": "https://stackoverflow.com/users/9929449/lebigcat"}, "edited": false, "score": 0, "creation_date": 1553105250, "post_id": 55267420, "comment_id": 97266164, "body": "He is using  web forms page"}, {"owner": {"reputation": 2320, "user_id": 5062791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17ae265babf339cb720c6448cb671bf?s=128&d=identicon&r=PG&f=1", "display_name": "ColinM", "link": "https://stackoverflow.com/users/5062791/colinm"}, "edited": false, "score": 0, "creation_date": 1553105383, "post_id": 55267420, "comment_id": 97266230, "body": "I did realize that after I&#39;d posted that comment, along with the <code>.net-4.5</code> tag. Updated code."}, {"owner": {"reputation": 1064, "user_id": 1221989, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6f2b4b0a167c23b526ff4728c693d6fd?s=128&d=identicon&r=PG", "display_name": "SP1", "link": "https://stackoverflow.com/users/1221989/sp1"}, "edited": false, "score": 0, "creation_date": 1553106558, "post_id": 55267420, "comment_id": 97266770, "body": "To include it in my Page_Load function I have marked it as async..I hope that&#39;s ok"}, {"owner": {"reputation": 2320, "user_id": 5062791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17ae265babf339cb720c6448cb671bf?s=128&d=identicon&r=PG&f=1", "display_name": "ColinM", "link": "https://stackoverflow.com/users/5062791/colinm"}, "edited": false, "score": 0, "creation_date": 1553106912, "post_id": 55267420, "comment_id": 97266945, "body": "That should be fine, if it&#39;s an event handler then <code>async void</code>, otherwise if it has a return type it&#39;ll be <code>async Task&lt;T&gt;</code>"}], "tags": [], "owner": {"reputation": 2320, "user_id": 5062791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17ae265babf339cb720c6448cb671bf?s=128&d=identicon&r=PG&f=1", "display_name": "ColinM", "link": "https://stackoverflow.com/users/5062791/colinm"}, "is_accepted": true, "score": 5, "last_activity_date": 1553105909, "last_edit_date": 1553105909, "creation_date": 1553104951, "answer_id": 55267420, "question_id": 55267155, "link": "https://stackoverflow.com/questions/55267155/run-multiple-actions-in-parallel-in-c/55267420#55267420", "title": "Run multiple actions in parallel in C#", "body": "<p>You can use asynchrony to achieve this, however it's best to have an asynchronous implementation of your Entity Framework code for adding and fetching.</p>\n\n<p>Firstly, I have refactored the code to reduce duplication and make it more readable by introducing a method <code>GetOrAddAsync</code>, this method accepts the cache key, a boolean for <code>useCaching</code> (what ever this is for?) and a delegate for the <code>ChartRenderingHelper</code> methods. It's not immediately clear what type <code>currQuarter</code> and <code>currYearType</code> are.</p>\n\n<pre><code>private async Task&lt;string&gt; GetOrAddAsync(string cacheKey, bool useCaching, int cacheDays, DateTime currYear, ? currQuarter, ? currYearType, Action&lt;string, string, string&gt; cacheFactory)\n{\n    if(DashboardCacheHelper.IsIncache(cacheKey, useCaching))\n    {\n        return DashboardCacheHelper.GetFromCache(cacheKey);\n    }\n\n    return (string)(await DashboardCacheHelper.SaveCacheAsync(bidsClosedKey, JsonConvert.SerializeObject(cacheFactory(currYear.ToString(), currQuarter.ToString(), currYearType.ToString())), DateTime.Now.AddDays(cacheDays)).ConfigureAwait(false))\n}\n</code></pre>\n\n<p>With the above method, your assignment code then becomes</p>\n\n<pre><code>var bidsCreatedCacheTask = GetOrAddAsync(bidsCreatedKey, useCaching, cacheDays, currYear, currQuarter, currYearType, ChartRenderingHelper.GenerateBidsStatusCreated);\nvar bidsSubmittedCacheTask = GetOrAddAsync(bidsSubmittedKey, useCaching, cacheDays, currYear, currQuarter, currYearType, ChartRenderingHelper.GenerateBidsStatusSubmitted);\nvar bidsClosedCacheTask = GetOrAddAsync(bidsClosedKey, useCaching, cacheDays, currYear, currQuarter, currYearType, ChartRenderingHelper.GenerateBidsStatusClosed);\n\nawait Task.WhenAll(bidsCreatedCacheTask, bidsSubmittedCacheTask, bidsClosedCacheTask).ConfigureAwait(false);\n\nbidsCreated.Value = await bidsCreatedCacheTask;\nbidsSubmitted.Value = await bidsSubmittedCacheTask;\nbidsClosed.Value = await bidsClosedCacheTask;\n</code></pre>\n\n<p>One key thing to remember is to mark your calling method as <code>async</code>, if it's an event handler then it'll be <code>async void</code> - but please bare in mind that <code>async void</code> <a href=\"https://stackoverflow.com/a/19415703/5062791\">should otherwise be avoided</a> in any method that isn't an event handler - because you're constrained to a <code>void</code> return type with an event handler.</p>\n\n<p>As LeBigCat has pointed out in the comments, <code>ConfigureAwait</code> should be used with asynchronous code that runs on .NET Framework to prevent deadlocks, read <a href=\"https://blog.stephencleary.com/2012/07/dont-block-on-async-code.html\" rel=\"nofollow noreferrer\">here</a> to see why.</p>\n"}], "owner": {"reputation": 1064, "user_id": 1221989, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6f2b4b0a167c23b526ff4728c693d6fd?s=128&d=identicon&r=PG", "display_name": "SP1", "link": "https://stackoverflow.com/users/1221989/sp1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1135, "favorite_count": 0, "accepted_answer_id": 55267420, "answer_count": 1, "score": -2, "last_activity_date": 1558738074, "creation_date": 1553104005, "last_edit_date": 1558738074, "question_id": 55267155, "link": "https://stackoverflow.com/questions/55267155/run-multiple-actions-in-parallel-in-c", "title": "Run multiple actions in parallel in C#", "body": "<p>I have the below code in a ASP.Net web forms page which basically checks if some value is in cache and if not it calls a method which gets the data and then stores it in Cache. The method which gets the data is below</p>\n\n<pre><code>ChartRenderingHelper.GenerateBidsStatusCreated(currYear.ToString(), currQuarter.ToString(), currYearType.ToString())\n</code></pre>\n\n<p>calls a Stored proc using EF and these 3 calls all call separate SP's..Now I am doing it sequentially so if each SP takes 5 seconds the total operation takes 15..I was thinking of using some Tasks to run these in parallel but not sure how I can change my current code to do that.</p>\n\n<pre><code>  bidsCreated.Value = DashboardCacheHelper.IsIncache(bidsCreatedKey, useCaching) ? DashboardCacheHelper.GetFromCache(bidsCreatedKey) : (string)DashboardCacheHelper.SaveCache(bidsCreatedKey, JsonConvert.SerializeObject(ChartRenderingHelper.GenerateBidsStatusCreated(currYear.ToString(), currQuarter.ToString(), currYearType.ToString())), DateTime.Now.AddDays(cacheDays));\n            bidsSubmitted.Value = DashboardCacheHelper.IsIncache(bidsSubmittedKey, useCaching) ? DashboardCacheHelper.GetFromCache(bidsSubmittedKey) : (string)DashboardCacheHelper.SaveCache(bidsSubmittedKey, JsonConvert.SerializeObject(ChartRenderingHelper.GenerateBidsStatusSubmitted(currYear.ToString(), currQuarter.ToString(), currYearType.ToString())), DateTime.Now.AddDays(cacheDays));\n            bidsClosed.Value = DashboardCacheHelper.IsIncache(bidsClosedKey, useCaching) ? DashboardCacheHelper.GetFromCache(bidsClosedKey) : (string)DashboardCacheHelper.SaveCache(bidsClosedKey, JsonConvert.SerializeObject(ChartRenderingHelper.GenerateBidsStatusClosed(currYear.ToString(), currQuarter.ToString(), currYearType.ToString())), DateTime.Now.AddDays(cacheDays));\n</code></pre>\n\n<p>How can I do these 3 assignments in parallel? Using TPL I know we can run methods in parallel </p>\n\n<pre><code>Parallel.Invoke(() =&gt; DoSomeWork(), () =&gt; DoSomeOtherWork());\n</code></pre>\n\n<p>Is this the recommended approach and if I have say 12 operations that need to run in parallel all calling SQL Stored Procs using EF would that be an issue in performance.</p>\n"}, {"tags": ["c#", "linux", "asp.net-core", "ubuntu-18.04"], "answers": [{"comments": [{"owner": {"reputation": 3116, "user_id": 2896495, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/42c90f6a4aa3a6adf856c6d3cafc54a1?s=128&d=identicon&r=PG&f=1", "display_name": "alvipeo", "link": "https://stackoverflow.com/users/2896495/alvipeo"}, "edited": false, "score": 0, "creation_date": 1553109485, "post_id": 55267361, "comment_id": 97268286, "body": "well, that should do. but what about some local solution? I&#39;m new to this kind of stuff with ubuntu, so I wanted to know how people usually do it right on that OS."}, {"owner": {"reputation": 594, "user_id": 2470404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/660ba77698ad4890622088a5cb50e8a3?s=128&d=identicon&r=PG", "display_name": "Jesus Salas", "link": "https://stackoverflow.com/users/2470404/jesus-salas"}, "reply_to_user": {"reputation": 3116, "user_id": 2896495, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/42c90f6a4aa3a6adf856c6d3cafc54a1?s=128&d=identicon&r=PG&f=1", "display_name": "alvipeo", "link": "https://stackoverflow.com/users/2896495/alvipeo"}, "edited": false, "score": 0, "creation_date": 1553112078, "post_id": 55267361, "comment_id": 97269557, "body": "In windows you can specify a directory to keep your keys, they will be reload when the app restart, I never did on Linux, look into the configuration system available methods."}], "tags": [], "owner": {"reputation": 594, "user_id": 2470404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/660ba77698ad4890622088a5cb50e8a3?s=128&d=identicon&r=PG", "display_name": "Jesus Salas", "link": "https://stackoverflow.com/users/2470404/jesus-salas"}, "is_accepted": false, "score": 0, "last_activity_date": 1553104714, "creation_date": 1553104714, "answer_id": 55267361, "question_id": 55267137, "link": "https://stackoverflow.com/questions/55267137/asp-net-core-2-2-web-app-on-ubuntu-how-to-implement-data-protection/55267361#55267361", "title": "ASP.NET Core 2.2 web app on Ubuntu - how to implement Data Protection", "body": "<p>The way we implemented this, supporting load balancing scenarios as well is by using Azure ATS as the key repository.</p>\n\n<p>The configuration looks this way:</p>\n\n<pre><code>  string storageUrl = \"https://[your account here].blob.core.windows.net\";\n  string sasToken = \"?sv=20XX-XX-XX&amp;ss=x&amp;srt=xxx&amp;sp=xxxx&amp;...\";\n  string containerName = \"data-protection-XXXX-XXXX-container\";\n  string blobName = \"data-protection-XXXX-XXXX-blob\";\n\n   // Create the new Storage URI\n   Uri storageUri = new Uri($\"{storageUrl}{sasToken}\");\n\n   //Create the blob client object.\n   CloudBlobClient blobClient = new CloudBlobClient(storageUri);\n\n   //Get a reference to a container. Create it if it does not exist.\n   CloudBlobContainer container = blobClient.GetContainerReference(containerName);\n\n   // (NOTE: internal library, do not use in your code)\n   AsyncHelper.Guarded&lt;bool&gt;(() =&gt; { return container.CreateIfNotExistsAsync();  });\n\n\n   services.AddDataProtection()\n        .SetApplicationName(\"[your application name here]\")\n        .PersistKeysToAzureBlobStorage(container, blobName)\n        .SetDefaultKeyLifetime(new TimeSpan(365 * 10, 0, 0, 0, 0));\n</code></pre>\n\n<p>Note: Review the encryption options when configuring Data Protection for extra security.</p>\n"}], "owner": {"reputation": 3116, "user_id": 2896495, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/42c90f6a4aa3a6adf856c6d3cafc54a1?s=128&d=identicon&r=PG&f=1", "display_name": "alvipeo", "link": "https://stackoverflow.com/users/2896495/alvipeo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 581, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553104714, "creation_date": 1553103941, "question_id": 55267137, "link": "https://stackoverflow.com/questions/55267137/asp-net-core-2-2-web-app-on-ubuntu-how-to-implement-data-protection", "title": "ASP.NET Core 2.2 web app on Ubuntu - how to implement Data Protection", "body": "<p>I've started using Ubuntu (18.04) to host some simple .NET Core 2.2 websites. And when the site is deployed and started I see the following:</p>\n\n<blockquote>\n  <p>warn:\n  Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[59]\n         Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when\n  application exits.  warn:\n  Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[35]\n         No XML encryptor configured. Key {c45288a6-63f8-4408-abdb-7894fb6d4e45} may be persisted to storage in\n  unencrypted form.  Hosting environment: Production  Content root path:\n  /var/www/mysite  Now listening on: <a href=\"http://localhost:5010\" rel=\"nofollow noreferrer\">http://localhost:5010</a>  Application\n  started. Press Ctrl+C to shut down.  warn:\n  Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware[3]\n         Failed to determine the https port for redirect.</p>\n</blockquote>\n\n<p>So what is the best and secured way of implementing Key Storage Provider for Linux (and possibly for Windows too, universal)? Is there an existing one? Are there any examples?</p>\n\n<p>PS. Yes, I've seen this docs - <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/data-protection/implementation/key-storage-providers?view=aspnetcore-2.2&amp;tabs=visual-studio\" rel=\"nofollow noreferrer\">Key Storage Providers in ASP.NET Core</a>.</p>\n"}, {"tags": ["c#", ".net-core", "proxy-pattern"], "comments": [{"owner": {"reputation": 77196, "user_id": 784387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acd8ef9d33b72c888c544378a59be2b?s=128&d=identicon&r=PG", "display_name": "Martin Ullrich", "link": "https://stackoverflow.com/users/784387/martin-ullrich"}, "edited": false, "score": 0, "creation_date": 1553112994, "post_id": 55266990, "comment_id": 97270016, "body": "So ILGenerator can be used to create method implementations, but I&#39;m not sure what you are trying to do or which problem you are hitting. Using these types require knowledge of .NET internals and the intermediate language (IL) and I&#39;m not sure which part of all the techniques involved you are asking about specifically"}, {"owner": {"reputation": 12691, "user_id": 653457, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8870f099add93fa56421a87532ea0fe3?s=128&d=identicon&r=PG", "display_name": "Luke Vo", "link": "https://stackoverflow.com/users/653457/luke-vo"}, "reply_to_user": {"reputation": 77196, "user_id": 784387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acd8ef9d33b72c888c544378a59be2b?s=128&d=identicon&r=PG", "display_name": "Martin Ullrich", "link": "https://stackoverflow.com/users/784387/martin-ullrich"}, "edited": false, "score": 0, "creation_date": 1553113328, "post_id": 55266990, "comment_id": 97270174, "body": "Thanks. Yeah that&#39;s where I am stuck. I do not know much about .NET internals. I guess this is where I cannot get deeper without getting to know IL first?"}, {"owner": {"reputation": 77196, "user_id": 784387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acd8ef9d33b72c888c544378a59be2b?s=128&d=identicon&r=PG", "display_name": "Martin Ullrich", "link": "https://stackoverflow.com/users/784387/martin-ullrich"}, "edited": false, "score": 1, "creation_date": 1553118001, "post_id": 55266990, "comment_id": 97272394, "body": "Looks like it. And you should not feel bad about it, it is not easy to understand / has a steep learning curve."}], "owner": {"reputation": 12691, "user_id": 653457, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8870f099add93fa56421a87532ea0fe3?s=128&d=identicon&r=PG", "display_name": "Luke Vo", "link": "https://stackoverflow.com/users/653457/luke-vo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 373, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553103365, "creation_date": 1553103365, "question_id": 55266990, "link": "https://stackoverflow.com/questions/55266990/how-net-dispatchproxy-works-implemented", "title": "How .NET DispatchProxy works/implemented?", "body": "<p>I was looking at a way to implement a class Proxy in .NET (Core) and found out there is actually an implementation in the framework called DispatchProxy (<a href=\"https://github.com/dotnet/corefx/blob/master/src/System.Reflection.DispatchProxy/src/System/Reflection/DispatchProxy.cs\" rel=\"nofollow noreferrer\">source code</a>). When I looked at the source code, it is actually implemented here at <a href=\"https://github.com/dotnet/corefx/blob/master/src/System.Reflection.DispatchProxy/src/System/Reflection/DispatchProxyGenerator.cs\" rel=\"nofollow noreferrer\">DispatchProxyGenerator</a>.</p>\n\n<p>I am interested in knowing how it is implemented. However I reach an impasse here as my knowledge is limited. I cannot really understand how it works. Can someone enlighten me?</p>\n\n<p>My best guess from the code is it try to create at runtime the type members using <code>System.Reflection</code> and emits some IL code, is it correct? Suppose I want to create a very simple DispatchProxy implementation, can I simply use something like <code>DynamicObject</code> and returns a delegate instead?</p>\n\n<pre><code>        private void Complete()\n        {\n            Type[] args = new Type[_fields.Count];\n            for (int i = 0; i &lt; args.Length; i++)\n            {\n                args[i] = _fields[i].FieldType;\n            }\n\n            ConstructorBuilder cb = _tb.DefineConstructor(MethodAttributes.Public, CallingConventions.HasThis, args);\n            ILGenerator il = cb.GetILGenerator();\n\n            // chained ctor call\n            ConstructorInfo baseCtor = _proxyBaseType.GetTypeInfo().DeclaredConstructors.SingleOrDefault(c =&gt; c.IsPublic &amp;&amp; c.GetParameters().Length == 0);\n            Debug.Assert(baseCtor != null);\n\n            il.Emit(OpCodes.Ldarg_0);\n            il.Emit(OpCodes.Call, baseCtor);\n\n            // store all the fields\n            for (int i = 0; i &lt; args.Length; i++)\n            {\n                il.Emit(OpCodes.Ldarg_0);\n                il.Emit(OpCodes.Ldarg, i + 1);\n                il.Emit(OpCodes.Stfld, _fields[i]);\n            }\n\n            il.Emit(OpCodes.Ret);\n        }\n</code></pre>\n"}, {"tags": ["c#", "list", "linq"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1553104620, "post_id": 55266742, "comment_id": 97265853, "body": "Note: the <code>visual-studio</code> tag should only be used when your question is <i>about</i> Visual Studio.  Read the tag text for details."}], "answers": [{"tags": [], "owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "is_accepted": false, "score": 3, "last_activity_date": 1553102649, "creation_date": 1553102649, "answer_id": 55266796, "question_id": 55266742, "link": "https://stackoverflow.com/questions/55266742/how-to-search-listt-with-user-input-string/55266796#55266796", "title": "How to search List&lt;T&gt; with user input string?", "body": "<p>in your query <code>contacts.ToString()</code> would be a something like <code>List&lt;Contact&gt;</code>, you should just try to compare your input with each contact properties (ie. firstname, lastname,...):</p>\n\n<pre><code>var result = contacts.Where(c =&gt; c.firsName.Contains(search) || c.lastName.Contains(search));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9735, "user_id": 6299857, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/O4G3u.jpg?s=128&g=1", "display_name": "Prasad Telkikar", "link": "https://stackoverflow.com/users/6299857/prasad-telkikar"}, "is_accepted": true, "score": 0, "last_activity_date": 1553103992, "last_edit_date": 1553103992, "creation_date": 1553102736, "answer_id": 55266816, "question_id": 55266742, "link": "https://stackoverflow.com/questions/55266742/how-to-search-listt-with-user-input-string/55266816#55266816", "title": "How to search List&lt;T&gt; with user input string?", "body": "<p>You can use Linq <code>Where</code> clause to find result as per users input</p>\n\n<pre><code>public static void Main()\n{\n    List&lt;Contact&gt; contacts = new List&lt;Contact&gt;();\n    contacts.Add(new Contact { firstName = \"John\", lastName = \"Doe\", phoneNumber = \"7725551234\", email = \"johndoe@email.com\" });\n    contacts.Add(new Contact { firstName = \"Kent\", lastName = \"Woods\", phoneNumber = \"7725551445\", email = \"kentwoods@email.com\" });\n    contacts.Add(new Contact { firstName = \"Jane\", lastName = \"Doe\", phoneNumber = \"7725553355\", email = \"janedoe@email.com\" });\n    contacts.Add(new Contact { firstName = \"Hank\", lastName = \"Fowland\", phoneNumber = \"7725558877\", email = \"hankfowland@email.com\" });\n    contacts.Add(new Contact { firstName = \"Tracy\", lastName = \"Yates\", phoneNumber = \"7725552768\", email = \"tracyyates@email.com\" });\n    contacts.Add(new Contact { firstName = \"Courtney\", lastName = \"Wall\", phoneNumber = \"7725556385\", email = \"courtneywall@email.com\" });\n    contacts.Add(new Contact { firstName = \"Dawson\", lastName = \"Stokes\", phoneNumber = \"7725553098\", email = \"dawsonstokes@email.com\" });\n    string search = Console.ReadLine();\n    var result = contacts.Where(c =&gt; c.firstName == search || c.lastName == search || c.phoneNumber == search || c.email == search).FirstOrDefault();\n\n\n    Console.WriteLine(result.ToString()); // This will return all the values of Contact. Override ToString() function for you **Bonus\n}\n\nprotected class Contact\n{\n    public string firstName { get; set; }\n    public string lastName { get; set; }\n    public string phoneNumber { get; set; }\n    public string email { get; set; }\n\n    public override string ToString()\n    {\n        return \"FirstName =\" + firstName + \"\\t LastName = \" + lastName + \"\\t PhoneNumber = \" + phoneNumber + \"\\t Email = \" + email;\n    }\n}\n</code></pre>\n\n<p>Here I considered user input can be any property value from Contact class</p>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 7547137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827cc7fb0f93b91e177a02e6648c74f1?s=128&d=identicon&r=PG&f=1", "display_name": "lionthefox", "link": "https://stackoverflow.com/users/7547137/lionthefox"}, "is_accepted": false, "score": 0, "last_activity_date": 1553102920, "creation_date": 1553102920, "answer_id": 55266869, "question_id": 55266742, "link": "https://stackoverflow.com/questions/55266742/how-to-search-listt-with-user-input-string/55266869#55266869", "title": "How to search List&lt;T&gt; with user input string?", "body": "<p>What @Ashkan Mobayen Khiabani wrote, except for the typo in firs(t)Name :)</p>\n\n<p>Also your should populate your list using this syntax to have cleaner code:</p>\n\n<pre><code>     var contacts = new List&lt;Contact&gt;\n    {\n        new Contact { firstName = \"John\", lastName = \"Doe\", phoneNumber = \"7725551234\", email = \"johndoe@email.com\" },\n        new Contact { firstName = \"Kent\", lastName = \"Woods\", phoneNumber = \"7725551445\", email = \"kentwoods@email.com\" },\n        new Contact { firstName = \"Jane\", lastName = \"Doe\", phoneNumber = \"7725553355\", email = \"janedoe@email.com\" }\n    };\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 9629085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62d565ca84c7ff0d5df78319a66b6b2d?s=128&d=identicon&r=PG&f=1", "display_name": "bbrand0n", "link": "https://stackoverflow.com/users/9629085/bbrand0n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 55266816, "answer_count": 3, "score": 0, "last_activity_date": 1553104596, "creation_date": 1553102485, "last_edit_date": 1553104596, "question_id": 55266742, "link": "https://stackoverflow.com/questions/55266742/how-to-search-listt-with-user-input-string", "title": "How to search List&lt;T&gt; with user input string?", "body": "<p>One of the features of my program is that it allows the user to enter a value to search through the list of contacts and have it display the contact info of the matched results. The search should find any contact where the field matches the target search string. I have tried both query and method syntax, and have read the chapter a million times but cant seem to get the hand of it.\nList:</p>\n\n<pre><code>            List&lt;Contact&gt; contacts = new List&lt;Contact&gt;();\n        {\n            contacts.Add(new Contact { firstName = \"John\", lastName = \"Doe\", phoneNumber = \"7725551234\", email = \"johndoe@email.com\" });\n            contacts.Add(new Contact { firstName = \"Kent\", lastName = \"Woods\", phoneNumber = \"7725551445\", email = \"kentwoods@email.com\" });\n            contacts.Add(new Contact { firstName = \"Jane\", lastName = \"Doe\", phoneNumber = \"7725553355\", email = \"janedoe@email.com\" });\n            contacts.Add(new Contact { firstName = \"Hank\", lastName = \"Fowland\", phoneNumber = \"7725558877\", email = \"hankfowland@email.com\" });\n            contacts.Add(new Contact { firstName = \"Tracy\", lastName = \"Yates\", phoneNumber = \"7725552768\", email = \"tracyyates@email.com\" });\n            contacts.Add(new Contact { firstName = \"Courtney\", lastName = \"Wall\", phoneNumber = \"7725556385\", email = \"courtneywall@email.com\" });\n            contacts.Add(new Contact { firstName = \"Dawson\", lastName = \"Stokes\", phoneNumber = \"7725553098\", email = \"dawsonstokes@email.com\" });\n        };\n</code></pre>\n\n<p>And here is where I try to execute the search:</p>\n\n<pre><code>            else if (userChoice == 3)\n        {\n            Console.Write(\"\\nWhat would you like to search for?: \");\n            string search = Console.ReadLine();\n            IEnumerable&lt;string&gt; results = from contact in contacts\n                                         where contacts.ToString().Contains(search)\n                                         select contact.ToString();\n            var result = contacts.Find(x =&gt; x.Contains(search) );\n            Console.WriteLine(\"{0}\", results.ToList());\n        }\n</code></pre>\n\n<p>I am so deep into trial and error that I've become lost. Thanks for the time!</p>\n"}, {"tags": ["c#", "reactjs", "wkhtmltopdf", "dinktopdf"], "comments": [{"owner": {"reputation": 96, "user_id": 3628991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJBK8.jpg?s=128&g=1", "display_name": "douglas.kirschman", "link": "https://stackoverflow.com/users/3628991/douglas-kirschman"}, "edited": false, "score": 1, "creation_date": 1553102628, "post_id": 55266659, "comment_id": 97264796, "body": "You are going to have a REALLY hard time with this.  In order for any software to convert HTML to a PDF, it basically has to know how to parse and render HTML... e.g. almost like a mini-browser.  The best such component I have ever used to render PDFs from HTML is Aspose.PDF.  It is NOT free and I seriously doubt it can handle this.  Chances of a free PDF generator doing it are slim to none."}], "answers": [{"tags": [], "owner": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "is_accepted": false, "score": 0, "last_activity_date": 1553103035, "creation_date": 1553103035, "answer_id": 55266898, "question_id": 55266659, "link": "https://stackoverflow.com/questions/55266659/c-create-a-pdf-from-html-that-uses-react/55266898#55266898", "title": "C# create a pdf from html that uses react", "body": "<p>I did this recently using <a href=\"https://wkhtmltopdf.org/\" rel=\"nofollow noreferrer\">wkhtmltopdf</a>, which is a command line version of webkit (which I think Chrome is based on).  I was able to load/parse and generate a graph using css/d3/rickshaw.</p>\n\n<p>The basic process is:</p>\n\n<ul>\n<li>Create the HTML using <a href=\"https://github.com/toddams/RazorLight\" rel=\"nofollow noreferrer\">RazorLight</a> </li>\n<li>shell out to wkhtmltopdf with the generated html.</li>\n<li>do something with generated pdf.</li>\n</ul>\n"}], "owner": {"reputation": 681, "user_id": 4425525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z9SYs.jpg?s=128&g=1", "display_name": "Jean-S&#233;bastien Gervais", "link": "https://stackoverflow.com/users/4425525/jean-s%c3%a9bastien-gervais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 442, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553103035, "creation_date": 1553102214, "question_id": 55266659, "link": "https://stackoverflow.com/questions/55266659/c-create-a-pdf-from-html-that-uses-react", "title": "C# create a pdf from html that uses react", "body": "<p>I'm looking for a way to have server side rendered pdf from a html+css+javascript source. The idea here is to have a preview and report designer available on the client side using react components. </p>\n\n<p>I've tried DinkToPdf that can render PDF from html pages, however it seems like only the top level component was mounted in the page when the PDF was rendered, even when enabling javascript in the renderer.</p>\n\n<p>Client side pdf rendering using canvases is not an option since data can be easily tampered with. </p>\n"}, {"tags": ["c#", "arrays", "asp.net-web-api", "response", "restsharp"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1553102092, "post_id": 55266608, "comment_id": 97264480, "body": "What&#39;s a <code>RestRequest</code>?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 1, "creation_date": 1553102142, "post_id": 55266608, "comment_id": 97264519, "body": "@ErikPhilips It&#39;s from RestSharp: <a href=\"http://restsharp.org/\" rel=\"nofollow noreferrer\">restsharp.org</a>"}, {"owner": {"reputation": 116, "user_id": 11219518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ITpL.png?s=128&g=1", "display_name": "Logxn", "link": "https://stackoverflow.com/users/11219518/logxn"}, "edited": false, "score": 0, "creation_date": 1553103888, "post_id": 55266608, "comment_id": 97265454, "body": "Are you sure you are supposed to get a byte array back? Null mostly means that file was either not set, has the wrong data type, or the names mismatch"}, {"owner": {"reputation": 6993, "user_id": 2706726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WRwat.jpg?s=128&g=1", "display_name": "Sachu", "link": "https://stackoverflow.com/users/2706726/sachu"}, "edited": false, "score": 0, "creation_date": 1553104089, "post_id": 55266608, "comment_id": 97265577, "body": "ya, suppose to be byte array. We are assigning the same and file exist.While debugging from webapi it is assigning and returning..im trying now below answer"}, {"owner": {"reputation": 1983, "user_id": 3787353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o8UgV.jpg?s=128&g=1", "display_name": "Hasta Tamang", "link": "https://stackoverflow.com/users/3787353/hasta-tamang"}, "edited": false, "score": 0, "creation_date": 1553105083, "post_id": 55266608, "comment_id": 97266082, "body": "Are you not forgetting to download data? <code>var fileBytes =restClient.DownloadData(request);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 177, "user_id": 5763765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3tzXL.jpg?s=128&g=1", "display_name": "M. Ruiz", "link": "https://stackoverflow.com/users/5763765/m-ruiz"}, "is_accepted": false, "score": 0, "last_activity_date": 1553102627, "creation_date": 1553102627, "answer_id": 55266791, "question_id": 55266608, "link": "https://stackoverflow.com/questions/55266608/reponse-from-webapi-with-byte-array-get-as-null/55266791#55266791", "title": "reponse from webapi with byte array get as null", "body": "<p>You should return your file as a base64 string instead of a byte[] in your return class</p>\n\n<pre><code>public string file { get; set; }\n</code></pre>\n\n<p>And change your controller</p>\n\n<pre><code>resp.file_name = \"test.xml\";\n\nbyte[] fileBytes = System.IO.File.ReadAllBytes(@\"C:\\XMLFiles\\response_files\\test.xml\");\nresp.file = Convert.ToBase64String(fileBytes);\n\nreturn resp;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6733, "user_id": 7775908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16ebbc43d25626d0bf3783211f0b8d7f?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/7775908/alexander"}, "is_accepted": false, "score": 0, "last_activity_date": 1553108122, "creation_date": 1553108122, "answer_id": 55268239, "question_id": 55266608, "link": "https://stackoverflow.com/questions/55266608/reponse-from-webapi-with-byte-array-get-as-null/55268239#55268239", "title": "reponse from webapi with byte array get as null", "body": "<p>The response is retrieved fine by <code>RestClient</code> and <code>IRestResponse&lt;T&gt;.Data</code> returns <code>null</code> just because <code>RestSharp</code> serializer couldn't handle response format. You can use <code>Json.NET</code> and deserialize response content by yourself to avoid this problem</p>\n\n<pre><code>var response = ExecuteRequest(request, requestData);\nvar result = JsonConvert.DeserializeObject&lt;Getfile_response&gt;(response.Content)\n</code></pre>\n"}], "owner": {"reputation": 6993, "user_id": 2706726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WRwat.jpg?s=128&g=1", "display_name": "Sachu", "link": "https://stackoverflow.com/users/2706726/sachu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 356, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553108122, "creation_date": 1553102046, "last_edit_date": 1553102283, "question_id": 55266608, "link": "https://stackoverflow.com/questions/55266608/reponse-from-webapi-with-byte-array-get-as-null", "title": "reponse from webapi with byte array get as null", "body": "<p>I have a response as below</p>\n\n<pre><code>public class Getfile_response\n{\n  public string file_name { get; set; }\n  public byte[] file { get; set; }\n}\n</code></pre>\n\n<p>And a call to web api as follows</p>\n\n<pre><code>var request = new RestRequest(\"API/Eprocess/GetMEREResponse\", Method.POST);\nvar response = ExecuteRequest&lt;Getfile_response&gt;(request, requestData);\n</code></pre>\n\n<p>and this call reach the webapi and it assign value as below</p>\n\n<pre><code>resp.file_name = \"test.xml\";\n\nbyte[] fileBytes = System.IO.File.ReadAllBytes(@\"C:\\XMLFiles\\response_files\\test.xml\");\nresp.file = fileBytes;\n\nreturn resp;\n</code></pre>\n\n<p>it is assigning values but when it reach the response it show as null. If I comment the byte array then the response will show with file_name. What is missing</p>\n"}, {"tags": ["c#", "object", "unity3d", "positioning"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11135397, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CJ6gH_W_KdE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdidthQrXCMlgsGJTDhclkrsffxqw/mo/photo.jpg?sz=128", "display_name": "Simple aPPS", "link": "https://stackoverflow.com/users/11135397/simple-apps"}, "edited": false, "score": 0, "creation_date": 1553103211, "post_id": 55266909, "comment_id": 97265106, "body": "Thank you how i can respawn the same objects on start position ?"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 2, "creation_date": 1553103671, "post_id": 55266909, "comment_id": 97265350, "body": "Note that for <code>FindComponentsOfType</code> the according components have to be enabled and the GameObjcts active in the hierachy."}], "tags": [], "owner": {"reputation": 87, "user_id": 11220832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aa6499e2a606bcfcf934f6ae9f927fc?s=128&d=identicon&r=PG&f=1", "display_name": "user11220832", "link": "https://stackoverflow.com/users/11220832/user11220832"}, "is_accepted": true, "score": 3, "last_activity_date": 1553103678, "last_edit_date": 1553103678, "creation_date": 1553103060, "answer_id": 55266909, "question_id": 55266595, "link": "https://stackoverflow.com/questions/55266595/unity3d-c-how-to-save-position-of-objects-and-restart-them-later/55266909#55266909", "title": "Unity3D , C# How to save position of objects and restart them later?", "body": "<p>Since your objects are MonoBehaviours you can use </p>\n\n<pre><code>ObjectController[] cs = FindComponentsOfType&lt;ObjectController&gt;();\n</code></pre>\n\n<p>Edit: you must call this from a MonoBehaviour too!</p>\n\n<p>I dont know exactly what you mean with \"restart them later\" if you mean saving it on hdd:</p>\n\n<p>your can use Json! for that you must have all saveable data in structs like:</p>\n\n<pre><code>struct DataStruct { Vector3[] positions }\nDataStruct data =  (insert your data here);\nstring dataString = JsonUtility.ToJson&lt;DataStruct&gt;();\n// this saves the struct on the hdd\nSystem.IO.File.WriteAllText(your data path);\n// this reads the file\nstring datareconstructed = System.IO.File.ReadAllText(path);\n\n// this struct will contain all the previously saved data\n// you just need to set the positions from it to you objects again\nDataStruct dataReco = JsonUtility.FromJson&lt;DataStruct&gt;(datareconstructed)\n</code></pre>\n\n<p>this wont compile you need to fit this to your data and so    but i hope i gave you a good starting point!</p>\n"}], "owner": {"reputation": 33, "user_id": 11135397, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CJ6gH_W_KdE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdidthQrXCMlgsGJTDhclkrsffxqw/mo/photo.jpg?sz=128", "display_name": "Simple aPPS", "link": "https://stackoverflow.com/users/11135397/simple-apps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1264, "favorite_count": 0, "accepted_answer_id": 55266909, "answer_count": 1, "score": 1, "last_activity_date": 1553103678, "creation_date": 1553102014, "last_edit_date": 1553102718, "question_id": 55266595, "link": "https://stackoverflow.com/questions/55266595/unity3d-c-how-to-save-position-of-objects-and-restart-them-later", "title": "Unity3D , C# How to save position of objects and restart them later?", "body": "<p>Dear StackOverFlow community,</p>\n\n<p>I need again your help in field of saving current position of objects in array.\nI need to save it because I want to restart level and their object to start position.\nI don't have idea how i can do it ..\nThis is my code of objects and they moving as game proceed so I need to save position of the objects..</p>\n\n<p>This is my code to move object and that code is in every objects that moving..</p>\n\n<pre><code>public class ObjectController : MonoBehaviour {\n\n    public bool moving = false;\n    public float speed = 1f;\n\n    private bool signaledToMove = false;\n\n    // Use this for initialization\n    void Start () {\n\n    }\n\n    // Update is called once per frame\n    void FixedUpdate () {\n        if( moving &amp;&amp; signaledToMove ){\n            this.GetComponent&lt;Rigidbody&gt;().AddForce( Vector3.back * 250 * speed );\n        }\n\n        // Destroy object to save perforomance, if it got out of the scene.\n        if( this.gameObject.transform.position.z &lt; -520  || \n           this.gameObject.transform.position.y &lt; -20 )\n            Destroy(this.gameObject);\n    }\n\n    public void SignalToMove(){\n        this. signaledToMove  = true;\n    }\n\n\n}\n</code></pre>\n\n<p>Thank you so much for help.</p>\n"}, {"tags": ["c#", "image", "web", "model-view-controller", "size"], "comments": [{"owner": {"reputation": 3800, "user_id": 1807452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PfAC9.jpg?s=128&g=1", "display_name": "Rahul Sharma", "link": "https://stackoverflow.com/users/1807452/rahul-sharma"}, "edited": false, "score": 1, "creation_date": 1553103437, "post_id": 55266562, "comment_id": 97265232, "body": "Possible duplicate of: <a href=\"https://stackoverflow.com/questions/17079090/how-to-resize-and-save-an-image-which-uploaded-using-file-upload-control-in-c-sh\" title=\"how to resize and save an image which uploaded using file upload control in c sh\">stackoverflow.com/questions/17079090/&hellip;</a>"}, {"owner": {"reputation": 53, "user_id": 10368353, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PoQ_xl_-x0A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMDbsBqEVlynwj5FrmB_OUwA2-k2w/mo/photo.jpg?sz=128", "display_name": "Abner P", "link": "https://stackoverflow.com/users/10368353/abner-p"}, "reply_to_user": {"reputation": 3800, "user_id": 1807452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PfAC9.jpg?s=128&g=1", "display_name": "Rahul Sharma", "link": "https://stackoverflow.com/users/1807452/rahul-sharma"}, "edited": false, "score": 0, "creation_date": 1553182198, "post_id": 55266562, "comment_id": 97297762, "body": "True, Did not see that post that was my solution. Thanks"}], "owner": {"reputation": 53, "user_id": 10368353, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PoQ_xl_-x0A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMDbsBqEVlynwj5FrmB_OUwA2-k2w/mo/photo.jpg?sz=128", "display_name": "Abner P", "link": "https://stackoverflow.com/users/10368353/abner-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553101895, "creation_date": 1553101895, "question_id": 55266562, "link": "https://stackoverflow.com/questions/55266562/resize-image-httppostedfilebase-mvc", "title": "Resize image HttpPostedFileBase MVC", "body": "<p>I want to reduce the image size when I uploaded to a server.</p>\n\n<p><strong>View</strong></p>\n\n<pre><code>@using (Html.BeginForm(\"UserCUD\", \"User\", FormMethod.Post, new { enctype = \"multipart/form-data\" }))\n{\n    &lt;div class=\"form-group col-md-3\"&gt;\n        &lt;label id=\"lblImage\" for=\"userImage\"&gt;Image&lt;/label&gt;\n        &lt;input type=\"file\" class=\"form-control-file\" value=\"Image\" title=\" \" id=\"userImage\" name=\"userImage\" accept=\".jpg\"&gt;\n    &lt;/div&gt;\n}\n</code></pre>\n\n<p>In my controller this is thw way I manipulate the image</p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>public ActionResult UserCUD(FormCollection collection, HttpPostedFileBase userImage)\n{\n    if (userImage != null)\n    {\n        string pic = System.IO.Path.GetFileName(SOMEID);\n        string path = System.IO.Path.Combine(Server.MapPath(\"~/Img/Users\"), pic);\n\n        userImage.SaveAs(path);\n        using (MemoryStream ms = new MemoryStream())\n        {\n            userImage.InputStream.CopyTo(ms);\n            byte[] array = ms.GetBuffer();\n        }\n    }   \n}\n</code></pre>\n\n<ul>\n<li>SOMEID = Is a User ID that I give to the file name</li>\n<li>I use FormCollection collection because I manipulate some other data</li>\n</ul>\n\n<p><strong>Question</strong></p>\n\n<p>Is there a way to reduce the image size IF this is really heavy/big?</p>\n"}, {"tags": ["c#", "exchangewebservices", "outlook-web-app"], "answers": [{"tags": [], "owner": {"reputation": 1100, "user_id": 7042745, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8d38269f207cdcbf69ff13d6f99f6c2e?s=128&d=identicon&r=PG&f=1", "display_name": "MadDev", "link": "https://stackoverflow.com/users/7042745/maddev"}, "is_accepted": true, "score": 0, "last_activity_date": 1553773304, "creation_date": 1553773304, "answer_id": 55396735, "question_id": 55266550, "link": "https://stackoverflow.com/questions/55266550/exchange-2013-to-exchange-2016/55396735#55396735", "title": "Exchange 2013 to Exchange 2016", "body": "<p>See the <em>Version differences</em> section of the official Microsoft documentation on <a href=\"https://docs.microsoft.com/en-us/exchange/client-developer/web-service-reference/webclientreadformquerystring#version-differences\" rel=\"nofollow noreferrer\">WebClientReadFormQueryString</a></p>\n\n<blockquote>\n  <p>Versions of Exchange starting with major version 15 and ending with Exchange Server 2013 build 15.0.775.38 (CU3) and Exchange Online version 15.00.0775.009 do not return a correct query string fragment in the WebClientReadFormQueryString element.</p>\n  \n  <p>In versions of Exchange earlier than major version 15, the item\n  identifier for the Outlook Web App URLs is an Outlook Web App\n  identifier. If you are targeting a version of Exchange earlier than\n  major version 15, you have to use the ConvertId operation to convert\n  the identifier.</p>\n</blockquote>\n\n<p>You might need to do something like this in your code:</p>\n\n<pre><code>    // Versions of Exchange starting with major version 15 and ending with Exchange Server 2013 build 15.0.775.09\n    // returned a different query string fragment. This optional check is not required for applications that\n    // target Exchange Online.\n    if ((serverInfo.MajorVersion == 15) &amp;amp;&amp;amp; (serverInfo.MajorBuildNumber &amp;lt; 775) &amp;amp;&amp;amp;(serverInfo.MinorBuildNumber &amp;lt; 09))\n    {\n      // If your client is connected to an Exchange 2013 server that has not been updated to CU3,\n      // this query string will be returned.\n      owaReadFormQueryString = string.Format(\"#viewmodel=_y.$Ep&amp;amp;ItemID={0}\",\n        System.Web.HttpUtility.UrlEncode(ewsIdentifer, Encoding.UTF8));\n    }\n    else\n    {\n      // If your client is connected to an Exchanger 2010, Exchange 2013 CU3, or Exchange Online server,\n      // the WebClientReadFormQueryString is used.\n      owaReadFormQueryString = msg.WebClientReadFormQueryString;\n    }\n\n    // Create the URL that Outlook Web App uses to open the email message.\n    Uri url = service.Url;\n    string owaReadAccessUrl = string.Format(\"{0}://{1}/owa/{2}\",\n      url.Scheme, url.Host, owaReadFormQueryString);\n\n    if (!string.IsNullOrEmpty(owaReadAccessUrl))\n    {\n      System.Diagnostics.Process.Start(\"IEXPLORE.EXE\", owaReadAccessUrl);\n    }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11233309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f70b9cb9fa13030cfbf50f58848a12b0?s=128&d=identicon&r=PG&f=1", "display_name": "TeePee", "link": "https://stackoverflow.com/users/11233309/teepee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 55396735, "answer_count": 1, "score": 0, "last_activity_date": 1553773304, "creation_date": 1553101842, "question_id": 55266550, "link": "https://stackoverflow.com/questions/55266550/exchange-2013-to-exchange-2016", "title": "Exchange 2013 to Exchange 2016", "body": "<p>In Exchange 2013, I have generated an email using EmailMessage object.  I save this message in the Drafts folder and get an ID back from the save method.  I then load the email message from the drafts folder by binding and from the message I compose an URL to the email created using \"WebClientReadFormQueryString\" property.  I can then direct the user to the OWA popup with this email loaded.</p>\n\n<p>Now that we migrated to Exchange 2016, the popup doesn't get loaded.  The email generated can be seen in drafts folder.  I want it to automatically display the OWA popup with the draft email loaded. (same behaviour as Exchange 2013).</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 6114, "user_id": 3070060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a936bdd7a67a345d312281305d5adde?s=128&d=identicon&r=PG&f=1", "display_name": "PaulF", "link": "https://stackoverflow.com/users/3070060/paulf"}, "edited": false, "score": 1, "creation_date": 1553102997, "post_id": 55266529, "comment_id": 97264983, "body": "Even if you have just one single bit difference between the two images the hash codes calculated are most likely to be completely different. Pretty much the only way of comparing the images and allowing for some degree of tolerance will be byte by byte. As TaW has suggested, depending on how critical you matching is - scaling to reduce  size would help speed wise - though scaling to 1/4 means you have lost 75% of image information."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 1, "creation_date": 1553103270, "post_id": 55266529, "comment_id": 97265138, "body": "For speed use LockBits ! Also: Scaling down the images to 1/4 size or less would be 4* faster. The tolerance can be calulated very fast by scaling down the channel values by, say, shifting the bytes to the right by 1 or 2 bits. Or you compare the differences.. - None of this will help if the images are skewed or shifted, though. You may want to study <a href=\"https://stackoverflow.com/questions/26224095/how-to-find-the-difference-between-two-images/26225153#26225153\">this post</a> which creates a difference image for the purpose of a faster transmission.."}], "answers": [{"tags": [], "owner": {"reputation": 415, "user_id": 838716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vbiKb.png?s=128&g=1", "display_name": "Bacon", "link": "https://stackoverflow.com/users/838716/bacon"}, "is_accepted": false, "score": 2, "last_activity_date": 1553102417, "creation_date": 1553102417, "answer_id": 55266712, "question_id": 55266529, "link": "https://stackoverflow.com/questions/55266529/c-check-images-are-equal-with-tolerance/55266712#55266712", "title": "C# check images are equal with tolerance", "body": "<p>indexing the image (and decreasing the size) should give the same result for similar images</p>\n\n<p>using </p>\n\n<pre><code>Bitmap imgtarget = imgsource.Clone(\n    new Rectangle(0, 0, imgsource.Width, imgsource.Height),\n    PixelFormat.Format8bppIndexed);\n</code></pre>\n\n<p>from <a href=\"https://stackoverflow.com/questions/15049562/how-to-save-image-in-indexed-format-and-get-its-palette\">another stackoverflow</a></p>\n"}], "owner": {"reputation": 1958, "user_id": 9851762, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ItFreak", "link": "https://stackoverflow.com/users/9851762/itfreak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1553102417, "creation_date": 1553101792, "question_id": 55266529, "link": "https://stackoverflow.com/questions/55266529/c-check-images-are-equal-with-tolerance", "title": "C# check images are equal with tolerance", "body": "<p>I have this code where I send images from a thermal camera. <code>getImage()</code> returns the actual image that is provided by the camera. There is no possibility to check directly if the camera can provide a 'new' image, so I did this method to compare two images:  </p>\n\n<pre><code>class ImageCompare\n    {\n        public enum CompareResult\n        {\n            CompareOK,\n            SizeMismatch,\n            PixelMismatch\n        };\n\n        public static CompareResult CompareImages(Image i1, Image i2)\n        {\n            CompareResult cr = CompareResult.CompareOK;\n\n            if (i1.Size != i2.Size)\n            {\n                cr = CompareResult.SizeMismatch;\n            }\n            else\n            {\n                ImageConverter ic = new ImageConverter();\n                byte[] btImage1 = new byte[1];\n                btImage1 = (byte[])ic.ConvertTo(i1, btImage1.GetType());\n                byte[] btImage2 = new byte[1];\n                btImage2 = (byte[])ic.ConvertTo(i2, btImage2.GetType());\n\n                //compute hashes\n                SHA256Managed shaM = new SHA256Managed();\n                byte[] hash1 = shaM.ComputeHash(btImage1);\n                byte[] hash2 = shaM.ComputeHash(btImage2);\n\n                for (int i = 0; i &lt; hash1.Length &amp;&amp; i &lt; hash2.Length\n                                  &amp;&amp; cr == CompareResult.CompareOK; i++)\n                {\n                    if (hash1[i] != hash2[i])\n                        cr = CompareResult.PixelMismatch;\n                }\n            }\n            return cr;\n        }\n    }\n</code></pre>\n\n<p>and here is how I use this class: </p>\n\n<pre><code>private static void HandleImageSending(Socket client, Socket s)\n        {\n            int sent;\n            int imageCount = 0;\n            long totalSize = 0;\n            try\n            {\n                while (true)\n                {\n                    Console.WriteLine(\"Starting sending...\");\n                    Image old = getImage();\n                    byte[] bmpBytes;\n                    using (Image bmp = getImage())\n                    using (MemoryStream ms = new MemoryStream())\n                    {\n                        if (ImageCompare.CompareImages(bmp, old) == ImageCompare.CompareResult.CompareOK)\n                        {\n                            bmp.Save(ms, System.Drawing.Imaging.ImageFormat.Jpeg);\n                            bmpBytes = ms.ToArray();\n                            sent = SendVarData(client, bmpBytes);\n                            imageCount++;\n                            totalSize += sent;\n                            old = bmp;\n                        }\n                    }\n                }\n            }\n            catch (Exception e)\n            { ... }\n</code></pre>\n\n<p>So my problem is that comparing by hash results in \n'different' images in about 19 of 20 cases. Since the camera provides only 8 fps, there must be something wrong.</p>\n\n<p>Is there a posibilty of comparing with a kind of tolerance, so maybe lets say 5 or 10 percent of the compared new image may differ to the old?  </p>\n\n<p>Since this is used on a mini PC, I would like to use as less CPU load as possible.<br>\nIs there anyone who can help me out here?</p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-core", ".net-core", ".net-core-2.0"], "comments": [{"owner": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 5, "creation_date": 1553102000, "post_id": 55266518, "comment_id": 97264424, "body": "The bottom line is that SProcs are a server thing, not an EF thing.  You can test stored procedures either via integration tests in C# or using an integration test directly on the server."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11156893"}, "reply_to_user": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 0, "creation_date": 1553102164, "post_id": 55266518, "comment_id": 97264535, "body": "was trying to setup multiple in memory db items, so I didn&#39;t have test in physical locations, we needed to run multiple teardown and setup seed operations for our testnig"}, {"owner": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 0, "creation_date": 1553102683, "post_id": 55266518, "comment_id": 97264826, "body": "You have to realise that Entity Framework is not SQL Server.  It&#39;s a framework that can communicate with many different database back ends.  There are MS-SQL, MySql, or as you have found InMemory.  Your code is translated into whatever &#39;language&#39; the back end requires.  SProcs are nothing to do with EF."}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1553108555, "post_id": 55266518, "comment_id": 97267793, "body": "That&#39;s not something you should be using a stored procedure for anyways. Do the test setup in code. If you need to share that, you can create a helper class or use something like <code>IClassFixture</code> in xUnit."}], "answers": [{"tags": [], "owner": {"reputation": 1530, "user_id": 2975810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/beqsf.jpg?s=128&g=1", "display_name": "rgvlee", "link": "https://stackoverflow.com/users/2975810/rgvlee"}, "is_accepted": false, "score": 0, "last_activity_date": 1563029287, "creation_date": 1563029287, "answer_id": 57020199, "question_id": 55266518, "link": "https://stackoverflow.com/questions/55266518/run-stored-procedures-in-inmemory-unit-tests/57020199#57020199", "title": "Run stored procedures in InMemory unit tests", "body": "<p>Short answer; the in-memory provider can't do it.</p>\n\n<p>I had the same issue; I had stored procs surfacing in unit tests and I needed to mock the results. After searching for a library to do it and finding none that could do the big 3 (FromSql, ExecuteSqlCommand and Queries) I wrote my own: <a href=\"https://github.com/rgvlee/EntityFrameworkCore.DbContextBackedMock.Moq\" rel=\"nofollow noreferrer\">EntityFrameworkCore.DbContextBackedMock.Moq</a>. It uses the in-memory provider for most things and provides mocks for the bits it can't do.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11156893"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2682, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1563029287, "creation_date": 1553101778, "last_edit_date": 1553102319, "question_id": 55266518, "link": "https://stackoverflow.com/questions/55266518/run-stored-procedures-in-inmemory-unit-tests", "title": "Run stored procedures in InMemory unit tests", "body": "<p>How do I run stored procedures in an in-memory databases? I am trying to search for this functionality.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/ef/core/miscellaneous/testing/in-memory\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/ef/core/miscellaneous/testing/in-memory</a></p>\n\n<p>This is for setup:</p>\n\n<pre><code>protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n{\n    if (!optionsBuilder.IsConfigured)\n    {\n        optionsBuilder.UseSqlServer(@\"Server=(localdb)\\mssqllocaldb;Database=EFProviders.InMemory;Trusted_Connection=True;ConnectRetryCount=0\");\n    }\n}\n\nvar options = new DbContextOptionsBuilder&lt;BloggingContext&gt;()\n                .UseInMemoryDatabase(databaseName: \"Find_searches_url\")\n                .Options;\n\n// Insert seed data into the database using one instance of the context\nusing (var context = new BloggingContext(options))\n{\n    context.Blogs.Add(new Blog { Url = \"http://sample.com/cats\" });\n    context.Blogs.Add(new Blog { Url = \"http://sample.com/catfish\" });\n    context.Blogs.Add(new Blog { Url = \"http://sample.com/dogs\" });\n\n    context.SaveChanges();\n}\n</code></pre>\n"}, {"tags": ["c#", "algorithm", "quicksort"], "answers": [{"comments": [{"owner": {"reputation": 536, "user_id": 2898278, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0205b796101858bbb6b501a486cae5e0?s=128&d=identicon&r=PG&f=1", "display_name": "AzureMinotaur", "link": "https://stackoverflow.com/users/2898278/azureminotaur"}, "edited": false, "score": 0, "creation_date": 1553103745, "post_id": 55267026, "comment_id": 97265388, "body": "Thanks, I didn&#39;t know linq is that smart. But at the same time, that answer is not satisfying since I&#39;ve spent a few hours trying to debug this and would like to know what exactly I am doing wrong (hence the specific question)"}], "tags": [], "owner": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "is_accepted": false, "score": 0, "last_activity_date": 1553103498, "creation_date": 1553103498, "answer_id": 55267026, "question_id": 55266443, "link": "https://stackoverflow.com/questions/55266443/k-closest-points-to-origin-k-smallest-elements-with-hoares-partitioning-not-g/55267026#55267026", "title": "K closest points to origin (K smallest elements) with hoare&#39;s partitioning not giving the correct answer for a specific input", "body": "<p>Define <code>Point</code> class</p>\n\n<pre><code>public class Point\n{\n    public int X;\n    public int Y;\n}\n</code></pre>\n\n<p>now put your points into <code>Point[] points</code> and execute simple linq query</p>\n\n<pre><code>var closest = points.OrderBy(p =&gt; p.X * p.X + p.Y * p.Y).Take(k);\n</code></pre>\n\n<p>Latest version of .NET are smart enough to use a <a href=\"https://en.wikipedia.org/wiki/Quickselect\" rel=\"nofollow noreferrer\">QuickSelect</a> if you don't need a full sorted collection, so expected complexity should be <code>O(k log N)</code></p>\n"}, {"comments": [{"owner": {"reputation": 536, "user_id": 2898278, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0205b796101858bbb6b501a486cae5e0?s=128&d=identicon&r=PG&f=1", "display_name": "AzureMinotaur", "link": "https://stackoverflow.com/users/2898278/azureminotaur"}, "edited": false, "score": 0, "creation_date": 1553104470, "post_id": 55267187, "comment_id": 97265768, "body": "Taking the square root is unnecessary computation in this case since I only care about relative distances (not the actual ones). a^2+b^2 comparison already tells me the relative distances. Of course I can sort and take the first K and like Aleks pointed out it may even be optimal, but I want to implement the details myself and hence the very specific question."}], "tags": [], "owner": {"reputation": 689, "user_id": 1348846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/pQgD5.png?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1348846/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1553104126, "creation_date": 1553104126, "answer_id": 55267187, "question_id": 55266443, "link": "https://stackoverflow.com/questions/55266443/k-closest-points-to-origin-k-smallest-elements-with-hoares-partitioning-not-g/55267187#55267187", "title": "K closest points to origin (K smallest elements) with hoare&#39;s partitioning not giving the correct answer for a specific input", "body": "<p>don't know why the outcome but since this is c# why don't you simplify the code.\ndefine the method returning the distance</p>\n\n<pre><code>private static double DistanceToCenter(int[] p)\n    {\n        return Math.Sqrt(p[0] ^ 2 + p[1] ^ 2);\n    }\n</code></pre>\n\n<p>then use linq:</p>\n\n<pre><code>var s = arr.OrderBy(p =&gt; DistanceToCenter(p));\n</code></pre>\n\n<p>this would give you the list sorted by the distance to 0.0, then select the k first to print out.</p>\n"}], "owner": {"reputation": 536, "user_id": 2898278, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0205b796101858bbb6b501a486cae5e0?s=128&d=identicon&r=PG&f=1", "display_name": "AzureMinotaur", "link": "https://stackoverflow.com/users/2898278/azureminotaur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553104126, "creation_date": 1553101525, "question_id": 55266443, "link": "https://stackoverflow.com/questions/55266443/k-closest-points-to-origin-k-smallest-elements-with-hoares-partitioning-not-g", "title": "K closest points to origin (K smallest elements) with hoare&#39;s partitioning not giving the correct answer for a specific input", "body": "<p>I am solving this question: <a href=\"https://leetcode.com/problems/k-closest-points-to-origin/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/k-closest-points-to-origin/</a></p>\n\n<p>In brief, given a list of points return the K closest to origin where the order within the K does not matter. I am trying to solve this with the quickselect variant using Hoare's partitioning, but for a specific inpput it does not give the right answer and I am unable to figure out why. The Hoare's partitioning logic itself is copied from wikipedia.</p>\n\n<p>Points: [[68,97],[34,-84],[60,100],[2,31],[-27,-38],[-73,-74],[-55,-39],[62,91],[62,92],[-57,-67]]\nK:5</p>\n\n<pre><code>namespace N\n{\n    using System;\n    using System.Collections.Generic;\n    using System.Linq;\n    using System.Text;\n\n    public class Solution\n    {\n        private readonly Random rand = new Random();\n        public int[][] KClosest(int[][] points, int K)\n        {\n            var result = new List&lt;int[]&gt;();\n            KClosestHelper(points, 0, points.Count() - 1, K);\n            return points.Take(K).ToArray();\n        }\n\n        private void KClosestHelper(int[][] points,\n                                        int left,\n                                        int right,\n                                        int k)\n        {\n            if (left &gt;= right) return;\n\n            var partitionIndex = Partition(points, left, right);\n            int leftLength = partitionIndex - left + 1;\n            if (k &lt; leftLength)\n            {\n                KClosestHelper(points, left, partitionIndex - 1, k);\n            }\n            else if (k &gt; leftLength)\n            {\n                KClosestHelper(points, partitionIndex + 1, right, k - leftLength);\n            }\n        }\n\n        private int Partition(int[][] arr, int left, int right)\n        {\n            //var randomIndex = rand.Next(left, right+1);\n            //swap(arr, left, randomIndex);\n            var pivot = arr[left];\n            left--;\n            right++;\n\n            while (true)\n            {\n                do\n                {\n                    left++;\n                } while (AIsCloserThanB(arr[left], pivot));\n\n                do\n                {\n                    right--;\n                } while (AIsFartherThanB(arr[right], pivot));\n\n                if (left &gt;= right) return right;\n\n                swap(arr, left, right);\n            }\n        }\n\n        private bool AIsCloserThanB(int[] a, int[] b)\n        {\n            return a[0] * a[0] - b[0] * b[0] + a[1] * a[1] - b[1] * b[1] &lt; 0;\n        }\n\n        private bool AIsFartherThanB(int[] a, int[] b)\n        {\n            return a[0] * a[0] - b[0] * b[0] + a[1] * a[1] - b[1] * b[1] &gt; 0;\n        }\n\n        private void swap(int[][] arr, int i, int j)\n        {\n            var temp = arr[i];\n            arr[i] = arr[j];\n            arr[j] = temp;\n        }\n    }\n    public class MainClass\n    {\n        public static void Main()\n        {\n            var arr = new int[10][];\n            arr[0] = new[] { 68, 97 };\n            arr[1] = new[] { 34, -84 };\n            arr[2] = new[] { 60, 100 };\n            arr[3] = new[] { 2, 31 };\n            arr[4] = new[] { -27, -38 };\n            arr[5] = new[] { -73, -74 };\n            arr[6] = new[] { -55, -39 };\n            arr[7] = new[] { 62, 91 };\n            arr[8] = new[] { 62, 92 };\n            arr[9] = new[] { -57, -67 };\n            var s = new Solution();\n            var closest = s.KClosest(arr, 5);\n            foreach (var item in closest)\n            {\n                Console.Out.WriteLine(string.Join(\",\", item));\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>While debugging in the Partition call with left ==3 and right ==7, 3 and 7 get swapped first (so now left is 3 and right is 7). Then left goes all the way to 7, and because of the do while right becomes 6 which is returned as the partition. But this is incorrect since points[5] is [-73,74] and points[6] is [-57,67] (so points[5] > points[6]). I think 7 should have been returned as a partition. This results in the final solution containing [-73,-74] instead of [-57,67]. Can someone please help me understand what part of the algorithm is incorrect/ not applicable to this problem since the wikipedia logic must be correct?</p>\n"}, {"tags": ["c#", ".net", "roslyn"], "comments": [{"owner": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 0, "creation_date": 1553101743, "post_id": 55266433, "comment_id": 97264256, "body": "<a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 16193, "user_id": 1188377, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/63f3c02db51b338549e6e7aff4afbb36?s=128&d=identicon&r=PG", "display_name": "Zenexer", "link": "https://stackoverflow.com/users/1188377/zenexer"}, "reply_to_user": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 2, "creation_date": 1553101909, "post_id": 55266433, "comment_id": 97264359, "body": "@Neil, I&#39;ve been on Stack Overflow quite a while; I&#39;m familiar with the process for writing a question.  There is no example to be had here.  I&#39;m asking about a process, not code."}, {"owner": {"reputation": 37143, "user_id": 517852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9XmOJ.jpg?s=128&g=1", "display_name": "Mike Zboray", "link": "https://stackoverflow.com/users/517852/mike-zboray"}, "edited": false, "score": 2, "creation_date": 1553104944, "post_id": 55266433, "comment_id": 97266010, "body": "I don&#39;t believe this is possible. Hooks into the compiler pipeline have been an ask for a long time. There are a number of open issues/proposals in the roslyn and csharp-lang repos. <a href=\"https://github.com/dotnet/roslyn/issues/637\" rel=\"nofollow noreferrer\">This issue</a> might be starting point for searching there."}], "answers": [{"tags": [], "owner": {"reputation": 1778, "user_id": 1165910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffbaeac835b600cf5761c541f1452237?s=128&d=identicon&r=PG", "display_name": "Matt Warren", "link": "https://stackoverflow.com/users/1165910/matt-warren"}, "is_accepted": true, "score": 1, "last_activity_date": 1554312135, "creation_date": 1554312135, "answer_id": 55500856, "question_id": 55266433, "link": "https://stackoverflow.com/questions/55266433/how-are-roslyn-syntax-rewriters-integrated/55500856#55500856", "title": "How are Roslyn syntax rewriters integrated?", "body": "<p>Syntax rewriters are not things that are part of the build.  They are typically used to build code fixes that are run inside Visual Studio.</p>\n"}], "owner": {"reputation": 16193, "user_id": 1188377, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/63f3c02db51b338549e6e7aff4afbb36?s=128&d=identicon&r=PG", "display_name": "Zenexer", "link": "https://stackoverflow.com/users/1188377/zenexer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 1, "accepted_answer_id": 55500856, "answer_count": 1, "score": 1, "last_activity_date": 1554312135, "creation_date": 1553101493, "last_edit_date": 1553102520, "question_id": 55266433, "link": "https://stackoverflow.com/questions/55266433/how-are-roslyn-syntax-rewriters-integrated", "title": "How are Roslyn syntax rewriters integrated?", "body": "<p>I'd like to use a Roslyn syntax rewriter in an existing .NET Core project.  However, I'm unsure how to go about integrating it.  For analysis, I have a separate NuGet package that gets referenced by the project; this works well enough.  However, I can't find any documentation on how to integrate a syntax rewriter with the existing workflow.</p>\n\n<p>Since this is a .NET Core project, I'm currently compiling using both Visual Studio and the <code>dotnet</code> command line tool.  The project is a csproj referencing netcoreapp3.0 (preview).  I'd like to integrate my syntax rewriter such that whenever I run <code>dotnet build</code> or press F5/F6 in Visual Studio, the syntax rewriter runs.  While there's a lot of documentation for building a syntax rewriter, there doesn't seem to be any for integrating it into the build process.</p>\n\n<p>To be clear, here's what I'm trying to do:</p>\n\n<ol>\n<li>I will eventually have a syntax rewriter based on <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/roslyn-sdk/get-started/syntax-transformation\" rel=\"nofollow noreferrer\">this documentation</a>.  It transforms the code at compile-time.</li>\n<li>I have a C# project with code that I would like to transform.</li>\n<li>I would like to take the syntax rewriter from step #1 and run it automatically when I compile the project from step #2.</li>\n</ol>\n\n<p>For example, say I have the following code:</p>\n\n<pre><code>class A\n{\n    [SomeAttribute]\n    void Method()\n    {\n    }\n}\n</code></pre>\n\n<p>I can easily make a syntax rewriter that takes this code in the form of a syntax tree, alters it, and produces code corresponding to the following syntax tree:</p>\n\n<pre><code>class A\n{\n    [SomeAttribute]\n    [AnotherAttribute]\n    void Method()\n    {\n        SomeCode();\n    }\n}\n</code></pre>\n\n<p>Optionally, I can produce a syntax tree by taking the code as a string input, as well as render the final syntax tree to a string.  That's easy enough.</p>\n\n<p>What I can't find instructions for is automating this process.  I don't want to have to manually run an EXE each time I build; I want to be able to integrate it into the default build process, and I'm looking for the correct way to do that.</p>\n\n<p>Ideally, this would also involve rewriting the syntax tree live in Visual Studio as the developer writes code.  This would permit IntelliSense to operate on the final syntax tree, rather than what the developer has written.  However, I don't know if this part is possible to achieve.</p>\n"}, {"tags": ["c#", "sql-server-ce"], "comments": [{"owner": {"reputation": 1695, "user_id": 1350913, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/rzC4w.jpg?s=128&g=1", "display_name": "IronAces", "link": "https://stackoverflow.com/users/1350913/ironaces"}, "edited": false, "score": 1, "creation_date": 1553101107, "post_id": 55266276, "comment_id": 97263883, "body": "I really can&#39;t fathom what it is you&#39;re asking here."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1553101145, "post_id": 55266276, "comment_id": 97263910, "body": "<code>Keyword not supported: &#39;initial catalog&#39;</code>  The error message seems clear.  Where is &quot;initial catalog&quot; in your project?  SQL CE does not support that configuration option."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11037129"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1553102122, "post_id": 55266276, "comment_id": 97264502, "body": "@Amy no I have InstallDB.sql"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11037129"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1553102374, "post_id": 55266276, "comment_id": 97264665, "body": "@Amy  It&#39;s not clear what I&#39;m wrong with. If you know where the error is, tap your finger"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11037129"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1553102611, "post_id": 55266276, "comment_id": 97264789, "body": "@Amy  Ok I&#39;m dumb. And can you say what to delete and where?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11037129"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1553103006, "post_id": 55266276, "comment_id": 97264988, "body": "@Amy connectionString=&quot;Data Source=.\\\\SQLExpress;Initial Catalog=Task5;Integrated Security=True;&quot; what can this be wrong?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1553103510, "post_id": 55266276, "comment_id": 97265272, "body": "<code>Keyword not supported: &#39;initial catalog&#39;</code>  Do you see, in your connection string, the phrase &quot;initial catalog&quot;?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11037129"}, "edited": false, "score": 0, "creation_date": 1553101798, "post_id": 55266419, "comment_id": 97264297, "body": "No, database - Microsoft SQL Server Query File (.sql)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11037129"}, "edited": false, "score": 0, "creation_date": 1553101988, "post_id": 55266419, "comment_id": 97264413, "body": "&lt;add name=&quot;DEFAULT&quot; connectionString=&quot;Data Source=.\\\\SQLExpress;Initial Catalog=Task5;Integrated Security=True;&quot; providerName=&quot;System.Data.SqlClient&quot;/&gt;"}, {"owner": {"reputation": 7264, "user_id": 146452, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/55e2e2dbef238cbc9d9a3b914b9a65a5?s=128&d=identicon&r=PG", "display_name": "mclark1129", "link": "https://stackoverflow.com/users/146452/mclark1129"}, "edited": false, "score": 1, "creation_date": 1553104185, "post_id": 55266419, "comment_id": 97265615, "body": "See above edit, if you&#39;re using SQL and not SQL CE then your code is wrong.  Please note, including these details in future questions will help users better respond to your questions and provide accurate solutions."}], "tags": [], "owner": {"reputation": 7264, "user_id": 146452, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/55e2e2dbef238cbc9d9a3b914b9a65a5?s=128&d=identicon&r=PG", "display_name": "mclark1129", "link": "https://stackoverflow.com/users/146452/mclark1129"}, "is_accepted": true, "score": 1, "last_activity_date": 1553106742, "last_edit_date": 1553106742, "creation_date": 1553101430, "answer_id": 55266419, "question_id": 55266276, "link": "https://stackoverflow.com/questions/55266276/i-missed-these-mistakes-with-database/55266419#55266419", "title": "I missed these mistakes with database", "body": "<p>As @Amy pointed out, the error message is pretty straightforward.  This looks like a problem with your connection string, as you are likely trying to use a SQL Server connection string with a SQL CE database.  I believe the format should be something like:</p>\n\n<p><code>Data Source=MyData.sdf;Persist Security Info=False;</code></p>\n\n<p>See <a href=\"https://www.connectionstrings.com/sql-server-compact/\" rel=\"nofollow noreferrer\">this link</a> for more details about SQL CE connection strings.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>If you are in fact using a SQL database (Express or otherwise) then you are using the wrong library to connect to it.  You are using <code>SqlCeConnection</code> which does not support the SQL Express connection string.  You should use <code>SqlConnection</code> and <code>SqlDataAdapter</code>.</p>\n\n<p><em>Note: I edited this without testing at all</em></p>\n\n<pre><code>private List&lt;TEntity&gt; GetTable(string where = null)\n{\n    var query = $\"select * from {GetTableName()} {where}\";\n\n    var dataTable = new DataTable();\n    using(var sqlConnection = new SqlConnection(connectionString))\n    {\n        SqlDataAdapter sqlDA = new SqlDataAdapter(query, sqlConnection);\n        sqlDA.Fill(dataTable);\n    }\n\n    var entityList = new List&lt;TEntity&gt;();\n    foreach (DataRow row in dataTable.Rows)\n    {\n        var entity = new TEntity();\n        foreach (DataColumn column in dataTable.Columns)\n        {\n            var value = row[column.ColumnName];\n            typeof(TEntity).GetProperty(column.ColumnName).SetValue(entity, value);\n        }\n\n        entityList.Add(entity);\n    }\n\n    return entityList;\n }\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11037129"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 55266419, "answer_count": 1, "score": -4, "last_activity_date": 1553106742, "creation_date": 1553101045, "last_edit_date": 1553101448, "question_id": 55266276, "link": "https://stackoverflow.com/questions/55266276/i-missed-these-mistakes-with-database", "title": "I missed these mistakes with database", "body": "<p>I missed these mistakes:</p>\n\n<pre><code>System.ArgumentException: Keyword not supported: 'initial catalog'.\n   at System.Data.SqlServerCe.SqlCeConnectionStringBuilder.GetIndex(String keyword)\n   at System.Data.SqlServerCe.SqlCeConnectionStringBuilder.set_Item(String keyword, Object value)\n   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)\n   at System.Data.SqlServerCe.SqlCeConnectionStringBuilder..ctor(String connectionString)\n   at System.Data.SqlServerCe.SqlCeConnection.set_ConnectionString(String value)\n   at System.Data.SqlServerCe.SqlCeConnection..ctor(String connectionString)\n   at Task5.Data.SqlRepository`1.GetTable(String where) in D:\\Task5\\Task5.Data\\Repositories\\SqlRepository.cs:line 96\n   at Task5.Data.SqlRepository`1.Select() in D:\\Task5\\Task5.Data\\Repositories\\SqlRepository.cs:line 39\n   at Task5.Data.Services.EntityDataService.CategoryList() in D:\\Task5\\Task5.Data\\Services\\EntityDataService.cs:line 32\n   at Task5.Program.Step1() in D:\\Task5\\Task5\\Program.cs:line 74\n</code></pre>\n\n<p>My code where error:</p>\n\n<pre><code>private List&lt;TEntity&gt; GetTable(string where = null)\n{\n    var query = $\"select * from {GetTableName()} {where}\";\n\n    var dataTable = new DataTable();\n    using(var sqlConnection = new SqlCeConnection(connectionString))\n    {\n        SqlCeDataAdapter sqlDA = new SqlCeDataAdapter(query, sqlConnection);\n        sqlDA.Fill(dataTable);\n    }\n\n    var entityList = new List&lt;TEntity&gt;();\n    foreach (DataRow row in dataTable.Rows)\n    {\n        var entity = new TEntity();\n        foreach (DataColumn column in dataTable.Columns)\n        {\n            var value = row[column.ColumnName];\n            typeof(TEntity).GetProperty(column.ColumnName).SetValue(entity, value);\n        }\n\n        entityList.Add(entity);\n    }\n\n    return entityList;\n }\n</code></pre>\n"}, {"tags": ["c#", "razor-pages", "asp.net-core-2.2"], "owner": {"reputation": 2587, "user_id": 10823490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58aab0dd119c8dac4dc2bc5a209c3f11?s=128&d=identicon&r=PG&f=1", "display_name": "Jackal", "link": "https://stackoverflow.com/users/10823490/jackal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 652, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560031376, "creation_date": 1553100887, "last_edit_date": 1560031376, "question_id": 55266215, "link": "https://stackoverflow.com/questions/55266215/asp-net-core-razor-500-http-error-when-going-to-login-page", "title": "Asp .Net Core Razor 500 Http Error when going to Login page", "body": "<p>I'm starting with razor pages and I created a login page and used ldap to authenticate and logged in. Still don't have logout option. Here's the thing, I want the Login to be default page so I deleted every single default page from razor template but the error leaving the Login only</p>\n\n<pre><code>Pages \n  Account Folder \n  Login page\n</code></pre>\n\n<p>Problem is after having logged in, now whenever i try to access login page it gives me this error</p>\n\n<blockquote>\n  <p>HTTP Error 500.0 - ANCM In-Process Handler Load Failure Common causes\n  of this issue: The specified version of Microsoft.NetCore.App or\n  Microsoft.AspNetCore.App was not found. The in process request\n  handler, Microsoft.AspNetCore.Server.IIS, was not referenced in the\n  application. ANCM could not find dotnet. Troubleshooting steps: Check\n  the system event log for error messages Enable logging the application\n  process' stdout messages Attach a debugger to the application process\n  and inspect For more information visit:\n  <a href=\"https://go.microsoft.com/fwlink/?LinkID=2028526\" rel=\"nofollow noreferrer\">https://go.microsoft.com/fwlink/?LinkID=2028526</a></p>\n</blockquote>\n\n<p>I couldn't find anything about this error happening only on one page, just about IIS.</p>\n\n<p>This only happens on login page, i can access other pages normally...</p>\n\n<p>Here is the code on my login page</p>\n\n<pre><code>@page\n@model GestaoRequisicoes.Pages.LoginModel\n@{\n    ViewData[\"Title\"] = \"Login\";\n}\n\n&lt;h1&gt;Login&lt;/h1&gt;\n\n&lt;p&gt;Autentique-se para iniciar sess\u00e3o:&lt;/p&gt;\n&lt;form method=\"post\"&gt;\n\n    &lt;div class=\"container\"&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"col-md-12\"&gt;\n\n                &lt;div class=\"form-group\"&gt;\n                    &lt;div asp-validation-summary=\"All\" class=\"text-danger\"&gt;&lt;/div&gt;\n                    &lt;label for=\"exampleInputPassword1\"&gt;Username&lt;/label&gt;\n                    &lt;input asp-for=\"loginData.Username\" value=\"username\" class=\"form-control form-control-sm\" /&gt;\n                &lt;/div&gt;\n\n                &lt;div class=\"form-group\"&gt;\n                    &lt;label for=\"exampleInputPassword1\"&gt;Password&lt;/label&gt;\n                    &lt;input asp-for=\"loginData.Password\" value=\"password\" class=\"form-control form-control-sm\" /&gt;\n                &lt;/div&gt;\n\n                &lt;div class=\"form-group form-check\"&gt;\n                    &lt;input id=\"txtRememberMe\" asp-for=\"loginData.RememberMe\" type=\"checkbox\" class=\"form-check-input\" /&gt;\n                    &lt;label class=\"form-check-label\" for=\"txtRememberMe\"&gt;Remember me&lt;/label&gt;\n                &lt;/div&gt;\n\n                &lt;input type=\"submit\" value=\"Login\" class=\"btn btn-primary\" /&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    @Html.AntiForgeryToken()\n&lt;/form&gt;\n</code></pre>\n\n<p>and cs file</p>\n\n<pre><code>public class LoginModel : PageModel\n{\n    [BindProperty]\n    public LoginData loginData { get; set; }\n\n    public void OnGet()\n    {            \n\n    }\n\n    public async Task&lt;IActionResult&gt; OnPostAsync()\n    {\n        if (ModelState.IsValid)\n        {                             \n            string dominio = \"10.35.14.240/OU=Users,OU=PLG,OU=PT,OU=EMEA,DC=sd6,DC=glb,DC=corp,DC=local\";\n            string adPath = \"LDAP://\" + dominio;\n\n            LDAPAutenticador aut = new LDAPAutenticador(adPath);\n            var isValid = aut.autenticado(dominio, loginData.Username, loginData.Password);\n\n            if (!isValid)\n            {\n                ModelState.AddModelError(\"\", \"username or password is invalid\");\n                return Page();\n            }\n            else\n            {\n                var identity = new ClaimsIdentity(CookieAuthenticationDefaults.AuthenticationScheme, ClaimTypes.Name, ClaimTypes.Role);\n                identity.AddClaim(new Claim(ClaimTypes.NameIdentifier, loginData.Username));\n                identity.AddClaim(new Claim(ClaimTypes.Name, loginData.Username));\n                var principal = new ClaimsPrincipal(identity);\n                await HttpContext.SignInAsync(CookieAuthenticationDefaults.AuthenticationScheme, principal, new AuthenticationProperties { IsPersistent = loginData.RememberMe });\n                return RedirectToPage(\"Account/Index\");\n            }                \n        }\n        else\n        {\n            ModelState.AddModelError(\"\", \"username or password is blank\");\n            return Page();\n        }\n    }\n\n    public class LoginData\n    {\n        [Required]\n        [StringLength(8)]\n        public string Username { get; set; }\n\n        [Required, DataType(DataType.Password)]\n        public string Password { get; set; }\n\n        public bool RememberMe { get; set; }\n    }\n}\n</code></pre>\n\n<p>and the startup file</p>\n\n<pre><code> public class Startup\n{\n    public Startup(IConfiguration configuration)\n    {\n        Configuration = configuration;\n    }\n\n    public IConfiguration Configuration { get; }\n\n    // This method gets called by the runtime. Use this method to add services to the container.\n    public void ConfigureServices(IServiceCollection services)\n    {\n        services.AddAuthentication(options =&gt;\n        {\n            options.DefaultSignInScheme = CookieAuthenticationDefaults.AuthenticationScheme;\n            options.DefaultAuthenticateScheme = CookieAuthenticationDefaults.AuthenticationScheme;\n            options.DefaultChallengeScheme = CookieAuthenticationDefaults.AuthenticationScheme;\n        }).AddCookie(options =&gt; { options.LoginPath = \"/Login\"; });\n\n        services.Configure&lt;CookiePolicyOptions&gt;(options =&gt;\n        {\n            // This lambda determines whether user consent for non-essential cookies is needed for a given request.\n            options.CheckConsentNeeded = context =&gt; true;\n            options.MinimumSameSitePolicy = SameSiteMode.None;\n        });\n\n\n        services.AddMvc().AddRazorPagesOptions(options =&gt; \n        {\n            options.Conventions.AuthorizeFolder(\"/Account\");\n            options.Conventions.AllowAnonymousToPage(\"/Login\");\n\n        }).SetCompatibilityVersion(CompatibilityVersion.Version_2_2);\n    }\n\n    // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n    public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n    {\n        if (env.IsDevelopment())\n        {\n            app.UseDeveloperExceptionPage();\n        }\n        else\n        {\n            app.UseExceptionHandler(\"/Error\");\n            // The default HSTS value is 30 days. You may want to change this for production scenarios, see https://aka.ms/aspnetcore-hsts.\n            app.UseHsts();\n        }\n\n        app.UseHttpsRedirection();\n        app.UseStaticFiles();\n        app.UseCookiePolicy();\n        app.UseAuthentication();\n        app.UseMvc();\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>It has been awhile but if anyone notices some error like this just check windows event viewer and it tells you the error message. The message was something about Connection Pool Timeout exception with Entity Framework. I assume Entity Framework just failed to connect to SQL Server until I refreshed databases on SQL Server explorer, probably because I'm using localdb\\mssqlserver instance for testing but it's still an odd behaviour and only happens when running your project first time everyday</p>\n"}]