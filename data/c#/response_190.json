[{"tags": ["c#", "asp.net-mvc", "razor"], "comments": [{"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1535586715, "post_id": 52087451, "comment_id": 91125293, "body": "Which property of <code>MyViewModel</code> you want to be populated ? What type is that property ?"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1535586798, "post_id": 52087451, "comment_id": 91125313, "body": "A controller doesn&#39;t care if a post came from ajax or from a standard form submit. What does the request body look like from the browser dev tools network trace?"}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1535586814, "post_id": 52087451, "comment_id": 91125317, "body": "You can always use editor templates <a href=\"https://stackoverflow.com/questions/12221314/how-do-i-bind-checkboxes-to-the-listint-property-of-a-view-model/12221514#12221514\" title=\"how do i bind checkboxes to the listint property of a view model\">stackoverflow.com/questions/12221314/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1535587057, "post_id": 52087451, "comment_id": 91125366, "body": "Your checkbox does not even have a <code>value</code> attribute (so it will only ever post back &quot;on&quot;` if checked (or nothing is unchecked). And your have given it <code>name=&quot;item.Name&quot;</code> which would only bind to a model containing a property name <code>item</code> which is a complex object. If you want to generate list of checkboxes, refer <a href=\"https://stackoverflow.com/questions/29542107/pass-list-of-checkboxes-into-view-and-pull-out-ienumerable/29554416#29554416\">Pass List of Checkboxes into View and Pull out IEnumerable</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1535587147, "post_id": 52087451, "comment_id": 91125382, "body": "Refer also <a href=\"https://stackoverflow.com/questions/30094047/post-an-html-table-to-ado-net-datatable/30094943#30094943\">Post an HTML Table to ADO.NET DataTable</a> to understand that you cannot use a <code>foreach</code> loop to generate form controls for a collection, and to understand how the <code>name</code> attribute relates to your model"}, {"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "reply_to_user": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1535649036, "post_id": 52087451, "comment_id": 91155345, "body": "@Shyju - The property is <code>MyList</code> which is a list of other viewmodels, all of which have <code>Name</code> properties"}], "answers": [{"tags": [], "owner": {"reputation": 1354, "user_id": 10230250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd88700623b97c996d5407464bd9c2a9?s=128&d=identicon&r=PG&f=1", "display_name": "dj079", "link": "https://stackoverflow.com/users/10230250/dj079"}, "is_accepted": false, "score": 0, "last_activity_date": 1535592555, "creation_date": 1535592555, "answer_id": 52088063, "question_id": 52087451, "link": "https://stackoverflow.com/questions/52087451/post-form-which-has-a-list-of-objects-as-a-viewmodel-property-without-ajax/52088063#52088063", "title": "POST Form which has a list of objects as a viewModel property (without ajax)", "body": "<p>I am assuming your <code>button</code> to submit the <code>form</code> is within the <code>&lt;form&gt; element</code> in <code>HTML</code>. </p>\n\n<p>When you are POSTing a <code>List (Array)</code> of an <code>Object</code> from <code>HTML</code> to <code>Controller</code>, you need to add index of each item in the <code>List</code> to the <code>HTML name property</code>. </p>\n\n<p>Additionally, the <code>name property</code> should also have same name as of the <code>Property</code> in the <code>C#</code> code. </p>\n\n<p>Your code should look like below to work properly.</p>\n\n<pre><code>&lt;form action=\"...\"&gt;\n   @{ \nvar i = 0; \n}\n  @foreach (var item in this.Model.MyList)\n  { var nameChecked = string.Empty; \n if(item.Name != null) nameChecked = \u201cchecked\u201d;\n&lt;input type=\"checkbox\" name=\"viewModel[i].Name\" @nameChecked  /&gt;\ni++;\n  }\n&lt;/form&gt;\n</code></pre>\n\n<blockquote>\n  <p>NOTE: This is a basic code sample. You can always enhance to work more efficiently. </p>\n</blockquote>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 371, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1535592555, "creation_date": 1535586374, "question_id": 52087451, "link": "https://stackoverflow.com/questions/52087451/post-form-which-has-a-list-of-objects-as-a-viewmodel-property-without-ajax", "title": "POST Form which has a list of objects as a viewModel property (without ajax)", "body": "<p>I have a view model which gets displayed in a cshtml view like this:</p>\n\n<pre><code>@model MyViewModel\n&lt;form action=\"...\"&gt;\n  @foreach (var item in this.Model.MyList)\n  {\n    &lt;input type=\"checkbox\" name=\"item.Name\"/&gt;\n  }\n&lt;/form&gt;\n</code></pre>\n\n<p>Then I have a controller method on the backend:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult SaveMyViewModel(MyViewModel viewModel)\n{\n...\n</code></pre>\n\n<p>When I inspect the <code>viewModel</code> in the controller method while POSTing, it has all null properties. I would expect it to have values in <code>MyList</code> and in there, bools for each item in <code>MyList</code>.</p>\n\n<p>Is this possible without Ajax? I cannot use ajax here.</p>\n\n<p>What must be done to the form in order to properly return an accurate representation of the viewModel back to the server?</p>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-webapi"], "answers": [{"comments": [{"owner": {"reputation": 4408, "user_id": 159828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8b9a05de69529b9c2db75401ebc90f82?s=128&d=identicon&r=PG", "display_name": "Bryan Lewis", "link": "https://stackoverflow.com/users/159828/bryan-lewis"}, "edited": false, "score": 1, "creation_date": 1535644493, "post_id": 52098595, "comment_id": 91152946, "body": "Thanks Chris, but wouldn&#39;t this imply that I need a policy for every endpoint method if I need the flexiblity to override role-based permissions on a per controller action basis?"}, {"owner": {"reputation": 2849, "user_id": 187100, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d1b1ab34d410adc17c0f243b33dcd13c?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/187100/andy"}, "reply_to_user": {"reputation": 4408, "user_id": 159828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8b9a05de69529b9c2db75401ebc90f82?s=128&d=identicon&r=PG", "display_name": "Bryan Lewis", "link": "https://stackoverflow.com/users/159828/bryan-lewis"}, "edited": false, "score": 0, "creation_date": 1538027743, "post_id": 52098595, "comment_id": 91999809, "body": "Hey @Bryan Lewis, I&#39;m in a similar situation. Curious to hear, which route did you go down in the end? Any pros or cons found?"}], "tags": [], "owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "is_accepted": false, "score": 0, "last_activity_date": 1535636587, "creation_date": 1535636587, "answer_id": 52098595, "question_id": 52087381, "link": "https://stackoverflow.com/questions/52087381/custom-authorization-filter-vs-policy-in-asp-net-core-2-1/52098595#52098595", "title": "Custom Authorization Filter vs Policy in ASP.Net Core 2.1", "body": "<p>Policy auth is the way to go. Yes, it might be based on a somewhat \"static\" policy, i.e. multiple actions/controllers may end up using something like <code>[Authorize(Policy = \"MyPolicy\")]</code>, but policies themselves are not static. You can define any number of conditions inside a policy handler. You may also mix and match. So, if say something is only available to a \"Foo\" role, but you also need object level permissions defined by a \"Bar\" policy, you may certainly do something like <code>[Authorize(Roles = \"Foo\", Policy = \"Bar\")]</code>.</p>\n"}], "owner": {"reputation": 4408, "user_id": 159828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8b9a05de69529b9c2db75401ebc90f82?s=128&d=identicon&r=PG", "display_name": "Bryan Lewis", "link": "https://stackoverflow.com/users/159828/bryan-lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1523, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535636587, "creation_date": 1535585582, "last_edit_date": 1535589103, "question_id": 52087381, "link": "https://stackoverflow.com/questions/52087381/custom-authorization-filter-vs-policy-in-asp-net-core-2-1", "title": "Custom Authorization Filter vs Policy in ASP.Net Core 2.1", "body": "<p>I am designing a new ASP.Net CORE 2.1 WebAPI and I am trying to figure out the best way to implement an authorization system that will fit our needs.  Our roles and permissions are database driven and can mix and match both role-based and individual resource permissions.  So for a given endpoint, the default access may be role based (say Admin only), but the administrator may also assign individual users access to that endpoint (or the opposite; and revoke access to a specific resource otherwise granted by the role).  As a result, each endpoint authorization requires a DB query to determine valid access to that resource.  It seems to me that a custom authorization filter is needed here, but a lot of MS docs and other resources push Policy-based auth and recommend against \"rolling your own.\"  I don't see how a policy based solution would work here, since it's based on static policy claims.  Can our needs be met with policies or is a custom auth filter the way to go?</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9878724, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jckEcWMDLOA/AAAAAAAAAAI/AAAAAAAAADk/tG5gXsxumwI/photo.jpg?sz=128", "display_name": "Thunder Cloud", "link": "https://stackoverflow.com/users/9878724/thunder-cloud"}, "edited": false, "score": 0, "creation_date": 1535588889, "post_id": 52087627, "comment_id": 91125683, "body": "But everything else is SquidCoinSaves plus it did not work"}, {"owner": {"reputation": 31, "user_id": 10276381, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qJRuSV2JPsk/AAAAAAAAAAI/AAAAAAAAAiM/pjmEz8h-t9s/photo.jpg?sz=128", "display_name": "Elnur Ceferli", "link": "https://stackoverflow.com/users/10276381/elnur-ceferli"}, "reply_to_user": {"reputation": 11, "user_id": 9878724, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jckEcWMDLOA/AAAAAAAAAAI/AAAAAAAAADk/tG5gXsxumwI/photo.jpg?sz=128", "display_name": "Thunder Cloud", "link": "https://stackoverflow.com/users/9878724/thunder-cloud"}, "edited": false, "score": 0, "creation_date": 1535619690, "post_id": 52087627, "comment_id": 91136003, "body": "@ThunderCloud look at my answer again"}, {"owner": {"reputation": 11, "user_id": 9878724, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jckEcWMDLOA/AAAAAAAAAAI/AAAAAAAAADk/tG5gXsxumwI/photo.jpg?sz=128", "display_name": "Thunder Cloud", "link": "https://stackoverflow.com/users/9878724/thunder-cloud"}, "edited": false, "score": 0, "creation_date": 1536618988, "post_id": 52087627, "comment_id": 91480666, "body": "what do you mean by: you can not get it like this, first you must equal this ti intiger type varible"}], "tags": [], "owner": {"reputation": 31, "user_id": 10276381, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qJRuSV2JPsk/AAAAAAAAAAI/AAAAAAAAAiM/pjmEz8h-t9s/photo.jpg?sz=128", "display_name": "Elnur Ceferli", "link": "https://stackoverflow.com/users/10276381/elnur-ceferli"}, "is_accepted": false, "score": 0, "last_activity_date": 1535619624, "last_edit_date": 1535619624, "creation_date": 1535587963, "answer_id": 52087627, "question_id": 52087379, "link": "https://stackoverflow.com/questions/52087379/squidcoin-cs-my-currency-script-is-not-working-after-adding-playerprefs/52087627#52087627", "title": "SquidCoin.cs My Currency Script is not working after adding [PlayerPrefs]", "body": "<p>i looked at all of your code and it seems there is have many wrong details. I just fixed it and noted your wrongs with comment in front of the wrong parts</p>\n\n<pre><code>using System.Collections;\n   using System.Collections.Generic;\n   using UnityEngine;\n   using UnityEngine.UI;\n\npublic class squidCoin : MonoBehaviour {\n\n\npublic Text coinDisplay;\npublic int addMoneyAmmount;\npublic int squidCoins;\npublic float saveInterval;\npublic float paycheckTime;\n\n// Use this for initialization\nvoid Start () {\nsquidCoins = 50;\nPlayerPrefs.SetInt(\"SquidCoinsSaves\", squidCoins); //your string name was wrong\n StartCoroutine(moneyADD());\n StartCoroutine(\"SaveMoney\");\n\n\n  }\n\npublic void squidCoinPayCheck(int squidCoinsToAdd){\n    squidCoins += squidCoinsToAdd;\n\n  }\n\n  public void Awake(){\n  //PlayerPrefs.GetInt(\"SquidCoinsSaves\"); //you can not get it like this, first you must equal this ti intiger type varible\n  }\n\npublic void minusSquidCoin(int squidCoinsToSubtract){\nif(squidCoins - squidCoinsToSubtract &lt; 0){\n        Debug.Log (\"Oops Hes Broke\");\n        squidCoins += addMoneyAmmount;\n    }\n    else{\n    squidCoins -= squidCoinsToSubtract;\n    }\n\n}\n\n\n  IEnumerator moneyADD(){\n     yield return new WaitForSeconds(paycheckTime);\n     squidCoins += addMoneyAmmount;\n }\n\n IEnumerator SaveMoney (){\n     while (true)\n     {\n             yield return new WaitForSeconds(saveInterval);\n             PlayerPrefs.SetInt(\"SquidCoinsSaves\", squidCoins); //string name was wrong\n\n     }\n }\n\n\n// Update is called once per frame\nvoid Update () {\n coinDisplay.text = \"You Have: \" + PlayerPrefs.GetInt(\"SquidCoinsSaves\");\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9878724, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jckEcWMDLOA/AAAAAAAAAAI/AAAAAAAAADk/tG5gXsxumwI/photo.jpg?sz=128", "display_name": "Thunder Cloud", "link": "https://stackoverflow.com/users/9878724/thunder-cloud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535619624, "creation_date": 1535585573, "last_edit_date": 1535607819, "question_id": 52087379, "link": "https://stackoverflow.com/questions/52087379/squidcoin-cs-my-currency-script-is-not-working-after-adding-playerprefs", "title": "SquidCoin.cs My Currency Script is not working after adding [PlayerPrefs]", "body": "<p>I have a currency script for my game that is not displaying how much money the user has.</p>\n\n<p>It was working before I added the PlayerPrefs class.\nBut after the addition, it will not display anything.</p>\n\n<p>FYI, the PlayerPrefs class allows me to display numbers across multiple scenes in Unity.</p>\n\n<p>I have posted my code below</p>\n\n<pre><code>   using System.Collections;\n   using System.Collections.Generic;\n   using UnityEngine;\n   using UnityEngine.UI;\n\npublic class squidCoin : MonoBehaviour {\n\n\npublic Text coinDisplay;\npublic int addMoneyAmmount;\npublic int squidCoins;\npublic float saveInterval;\npublic float paycheckTime;\n\n// Use this for initialization\nvoid Start () {\nsquidCoins = 50;\nPlayerPrefs.SetInt(\"SquidCoins\", squidCoins);\n StartCoroutine(moneyADD());\n StartCoroutine(\"SaveMoney\");\n\n\n  }\n\npublic void squidCoinPayCheck(int squidCoinsToAdd){\n    squidCoins += squidCoinsToAdd;\n\n  }\n\n  public void Awake(){\n  PlayerPrefs.GetInt(\"SquidCoinsSaves\");\n  }\n\npublic void minusSquidCoin(int squidCoinsToSubtract){\nif(squidCoins - squidCoinsToSubtract &lt; 0){\n        Debug.Log (\"Oops Hes Broke\");\n        squidCoins += addMoneyAmmount;\n    }\n    else{\n    squidCoins -= squidCoinsToSubtract;\n    }\n\n}\n\n\n  IEnumerator moneyADD(){\n     yield return new WaitForSeconds(paycheckTime);\n     squidCoins += addMoneyAmmount;\n }\n\n IEnumerator SaveMoney (){\n     while (true)\n     {\n             yield return new WaitForSeconds(saveInterval);\n             PlayerPrefs.SetInt(\"SquidCoinSaves\", squidCoins);\n\n     }\n }\n\n\n// Update is called once per frame\nvoid Update () {\n coinDisplay.text = \"You Have: \" + PlayerPrefs.GetInt(\"SquidCoinsSaves\");\n}\n}\n</code></pre>\n"}, {"tags": ["c#", "closures", "compiler-optimization", "cil"], "comments": [{"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 3, "creation_date": 1535587541, "post_id": 52087314, "comment_id": 91125458, "body": "tip: use a local function instead of a delegate, and the compiler generates the capture type as a struct instead of a class: <a href=\"https://sharplab.io/#v2:EYLgtghgzgLgpgJwD4AEAMACFBGA3AWACh0tsA6AGQEsA7ARwOIGYsAmDAYQwG8iN/SANiwAWDAFlsACgCUfAb0IDl/AG4QEGYBgC8GGnADuWgJ7wA2tjSsxAKgxWbAXUbyV/FAFYAPABMA9gCuwAA2cAB8GABmuhiyuuFu7oruqQbGAEoQNAFgsmQAcnAAHjAAQmZwUFLAMoyp7igA7FpkHNAw3rQw4fkAgqqIEADmcLL1DQC+rkoN6poQqsOxUeNJKjgAnFKLw3VJk0k4wihi4qyySSlzGlqx6aYWjnYO1iIu6wKfAgHBYdGXWapa4NAQPLI5fx5GSFErlSrVWoTUEeFrANodLo0Hr9QYIEZjfZA9zTb4YMkYeYYXYrNbEjbYba7InKQ6ESZAA\" rel=\"nofollow noreferrer\">sharplab.io/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 2, "creation_date": 1535587512, "post_id": 52087559, "comment_id": 91125455, "body": "re local functions: it becomes a struct: <a href=\"https://sharplab.io/#v2:EYLgtghgzgLgpgJwD4AEAMACFBGA3AWACh0tsA6AGQEsA7ARwOIGYsAmDAYQwG8iN/SANiwAWDAFlsACgCUfAb0IDl/AG4QEGYBgC8GGnADuWgJ7wA2tjSsxAKgxWbAXUbyV/FAFYAPABMA9gCuwAA2cAB8GABmuhiyuuFu7oruqQbGAEoQNAFgsmQAcnAAHjAAQmZwUFLAMoyp7igA7FpkHNAw3rQw4fkAgqqIEADmcLL1DQC+rkoN6poQqsOxUeNJKjgAnFKLw3VJk0k4wihi4qyySSlzGlqx6aYWjnYO1iIu6wKfAgHBYdGXWapa4NAQPLI5fx5GSFErlSrVWoTUEeFrANodLo0Hr9QYIEZjfZA9zTb4YMkYeYYXYrNbEjbYba7InKQ6ESZAA\" rel=\"nofollow noreferrer\">sharplab.io/&hellip;</a>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1535587563, "post_id": 52087559, "comment_id": 91125464, "body": "@MarcGravell: That&#39;s what I figured; thanks for confirming."}, {"owner": {"reputation": 93997, "user_id": 3010968, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5c9bc5babd6d3ceafcc3f95fbdd5b313?s=128&d=identicon&r=PG&f=1", "display_name": "Selman Gen&#231;", "link": "https://stackoverflow.com/users/3010968/selman-gen%c3%a7"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1535587859, "post_id": 52087559, "comment_id": 91125509, "body": "I have tried local function, as @MarcGravell pointed out, the compiler creates a struct instead. But I guess there is still an opportunity to optimize that the same way I suggested. if I&#39;m not accessing the local variable outside of the local function it can be inlined."}, {"owner": {"reputation": 93997, "user_id": 3010968, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5c9bc5babd6d3ceafcc3f95fbdd5b313?s=128&d=identicon&r=PG&f=1", "display_name": "Selman Gen&#231;", "link": "https://stackoverflow.com/users/3010968/selman-gen%c3%a7"}, "edited": false, "score": 0, "creation_date": 1535590117, "post_id": 52087559, "comment_id": 91125933, "body": "thanks for the answer @EricLippert, I am trying to understand this statement: &quot;multiple closures could be constructed as a partition based on the closed-over relation;&quot; but can&#39;t visualize it in my head, can you elaborate it? a short code example might help to me and to the future readers :)"}, {"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 0, "creation_date": 1535633765, "post_id": 52087559, "comment_id": 91145522, "body": "I gave an example of the compiler failing to construct multiple closures at <a href=\"https://stackoverflow.com/q/3885106/18192\">stackoverflow.com/q/3885106/18192</a>, which @EricLippert summarized in his answer."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 93997, "user_id": 3010968, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5c9bc5babd6d3ceafcc3f95fbdd5b313?s=128&d=identicon&r=PG&f=1", "display_name": "Selman Gen&#231;", "link": "https://stackoverflow.com/users/3010968/selman-gen%c3%a7"}, "edited": false, "score": 1, "creation_date": 1535648377, "post_id": 52087559, "comment_id": 91155041, "body": "@SelmanGen&#231;: What I&#39;m getting at is: consider my example: lambda 1 is closed over local x, lamba 2 is closed over y, we make a single closure for x and y.  We could make one closure for x and one for y.  Now suppose we have lambda 1 closed over x and y, lambda 2 closed over x, y and z, lambda 3 closed over z.  What&#39;s the right number of closures to make that minimizes both the number of closures created (because we don&#39;t want GC pressure) and ensures that no lambda keeps a variable alive too long?  That&#39;s the partition problem to solve if you want to do it right."}, {"owner": {"reputation": 93997, "user_id": 3010968, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5c9bc5babd6d3ceafcc3f95fbdd5b313?s=128&d=identicon&r=PG&f=1", "display_name": "Selman Gen&#231;", "link": "https://stackoverflow.com/users/3010968/selman-gen%c3%a7"}, "edited": false, "score": 0, "creation_date": 1535650185, "post_id": 52087559, "comment_id": 91155888, "body": "That&#39;s more clear now, thank you. Handling closures seems like a challenging task for the compiler."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 12, "last_activity_date": 1535588629, "last_edit_date": 1535588629, "creation_date": 1535587286, "answer_id": 52087559, "question_id": 52087314, "link": "https://stackoverflow.com/questions/52087314/why-cant-the-compiler-optimize-closure-variable-by-inlining/52087559#52087559", "title": "Why can&#39;t the compiler optimize closure variable by inlining?", "body": "<blockquote>\n  <p>Is this just not implemented as an optimization or is there anything I am missing?</p>\n</blockquote>\n\n<p>For the <em>specific</em> example you give, you'd probably not want to make that code transformation because it changes the semantics of the program. If the <code>new</code> throws an exception, in the original program it should do so before the execution of the delegate, and in your transformation, the side effect is deferred. Whether that's an important property that should be preserved is debatable.  (And doing so also creates problems for the debugger; the debugger already must pretend that elements of closure classes are locals of the containing method body, and this optimization might complicate it further.)</p>\n\n<p>However, the more general point is germane. There are many optimizations you can do if you know that a closed-over variable is only used for its value.</p>\n\n<p>When I was on the compiler team -- I left in 2012 -- Neal Gafter and I considered implementing such optimizations, as well as a number of more complex optimizations designed to reduce the likelihood of an expensive object's lifetime being extended too long by accident. </p>\n\n<p>Aside: The simplest of the more complex scenarios is: we have two lambdas converted to delegates; one is stored in a short-lived variable and is closed over a local that contains a reference to an expensive object; one is stored in a long-lived variable and is closed over a local that refers to a cheap object. The expensive object lives as long as the long-lived variable even though it is not used. More generally, multiple closures could be constructed as a partition based on the closed-over relation; at the time we only partitioned closures based on nesting; closures at the same nesting level were one closure. The given scenario is rare and there are obvious workarounds, but it would be nice if it didn't happen at all.</p>\n\n<p>We did not do so because there were more important optimizations and features during the period that we were implementing Roslyn, and we did not want to add risk to an already-long schedule.</p>\n\n<p>We could perform such optimizations confidently because in C# it is pretty easy to know when a local has been aliased, and so you can know for sure whether it is ever written to after the closure is created.</p>\n\n<p>I do not know if those optimizations have been implemented in the meanwhile; likely not.</p>\n\n<p>I also do not know if the compiler does such optimizations for C# 7 local functions, though I suspect the answer is \"yes\". See what happens if you try a local function!</p>\n"}], "owner": {"reputation": 93997, "user_id": 3010968, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5c9bc5babd6d3ceafcc3f95fbdd5b313?s=128&d=identicon&r=PG&f=1", "display_name": "Selman Gen&#231;", "link": "https://stackoverflow.com/users/3010968/selman-gen%c3%a7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 52087559, "answer_count": 1, "score": 8, "last_activity_date": 1535588629, "creation_date": 1535584939, "question_id": 52087314, "link": "https://stackoverflow.com/questions/52087314/why-cant-the-compiler-optimize-closure-variable-by-inlining", "title": "Why can&#39;t the compiler optimize closure variable by inlining?", "body": "<p>I have a <code>Main</code> method like this:</p>\n\n<pre><code>static void Main(string[] args)\n{\n     var b = new byte[1024 * 1024];\n\n     Func&lt;double&gt; f = () =&gt;\n     {\n         new Random().NextBytes(b);\n         return b.Cast&lt;int&gt;().Average();\n     };\n\n     var avg = f();\n     Console.WriteLine(avg);\n}\n</code></pre>\n\n<p>Since I am accessing a local variable <code>b</code> here the compiler creates a class to capture that variable and <code>b</code> becomes the field of that class. Then the <code>b</code> lives as long as the life time of the compiler generated class and it causes a memory leak. Even if <code>b</code> goes out of scope (maybe not in this situation but imagine this is inside of another method and not <code>Main</code>), the byte array won't be deallocated.</p>\n\n<p>What I wonder is, since I am not accessing or modifying the <code>b</code> anywhere after declaring <code>Func</code>, why can't the compiler inline that local variable and not bother with creating a class? Like this:</p>\n\n<pre><code>Func&lt;double&gt; f = () =&gt;\n{\n    var b = new byte[1024 * 1024];\n    new Random().NextBytes(b);\n    return b.Cast&lt;int&gt;().Average();\n};\n</code></pre>\n\n<p>I compiled this code in Debug and Release modes, the <code>DisplayClass</code> is generated in both:</p>\n\n<p><a href=\"https://i.stack.imgur.com/y7Ipo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/y7Ipo.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is this just not implemented as an optimization or is there anything I am missing?</p>\n"}, {"tags": ["c#", "reflection.emit"], "owner": {"reputation": 11, "user_id": 8722504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433e1e712ace2b3f49234cc645ff7d1b?s=128&d=identicon&r=PG&f=1", "display_name": "southpolenator", "link": "https://stackoverflow.com/users/8722504/southpolenator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1535584742, "creation_date": 1535584742, "question_id": 52087299, "link": "https://stackoverflow.com/questions/52087299/generate-code-for-nested-generic-enum-const-fields-circular-dependencies-with-re", "title": "Generate code for nested generic enum const fields circular dependencies with Reflection.Emit", "body": "<p>I'm trying to generate code using Reflection.Emit that would look similar to what Roslyn generates for this:</p>\n\n<pre><code>public class MyGeneric&lt;T&gt;\n{\n    public const MyGeneric2&lt;T&gt;.NestedEnum c1 = MyGeneric2&lt;T&gt;.NestedEnum.Value1;\n\n    public enum NestedEnum\n    {\n        Value1,\n        Value2,\n    }\n}\n\npublic class MyGeneric2&lt;T&gt;\n{\n    public const MyGeneric&lt;T&gt;.NestedEnum c2 = MyGeneric&lt;T&gt;.NestedEnum.Value2;\n\n    public enum NestedEnum\n    {\n        Value1,\n        Value2,\n    }\n}\n</code></pre>\n\n<p>Experimenting with constant class field of Enum type during Reflection.Emit, shows that nested generic enum needs to be created before it can be used. But, then how <a href=\"https://sharplab.io/#v2:C4LglgNgPgAgDAAhgRgNwFgBQWYGYkBMCAsgJ4DiApgHaUBOYAxgDwAqAfFgN5YCQeCRgHtqAZ2AkKNekwJt2AOgBylcZQAmAUWoBXALaDkCALySqtBozkdlq4Bu36FANQCGEHZTRYEvhHwEafQQVNS1dPR8/Hkw/BF43Dy8AGii430TPAlTYvwBfLALsTAEYIjJzGSt5bgD8YTEJCulLeVswxwMrEzMWpjbQ+3CnTMoCDFzfOoQgg0GHCLSEGLiE909kHPS/UeyloqKgA==\" rel=\"nofollow noreferrer\">this example</a> is nicely being compiled with Roslyn?</p>\n\n<p>Here is what I've tried with nested generic type enum:</p>\n\n<pre><code>AssemblyName am = new AssemblyName();\nam.Name = \"TestAsm\";\nAssemblyBuilder ab = AssemblyBuilder.DefineDynamicAssembly(am, AssemblyBuilderAccess.RunAndSave);\nModuleBuilder mb = ab.DefineDynamicModule(\"testmod\", \"TestAsm.dll\");\n\nvar gt = mb.DefineType(\"MyGeneric`1\");\ngt.DefineGenericParameters(\"T\");\n\nvar gtne = gt.DefineNestedType(\"NestedEnum\", TypeAttributes.NestedPublic | TypeAttributes.Sealed, typeof(Enum));\ngtne.DefineGenericParameters(\"T\");\ngtne.DefineField(\"value__\", typeof(int), FieldAttributes.Private | FieldAttributes.SpecialName);\ngtne.DefineField(\"Value1\", gtne, FieldAttributes.Public | FieldAttributes.Static | FieldAttributes.Literal);\ngtne.DefineField(\"Value2\", gtne, FieldAttributes.Public | FieldAttributes.Static | FieldAttributes.Literal);\n\n// First we need to create MyGeneric type before we can create NestedEnum\ngt.CreateType();\nvar ct = gtne.CreateType(); // If we were to execute this before previous line, exception would be thrown\n\nvar mt = mb.DefineType(\"MyTest\");\n\n// Here we can safely use ct since it is created type.\nmt.DefineField(\"sfield1\", ct.MakeGenericType(typeof(int)), FieldAttributes.Public | FieldAttributes.Static | FieldAttributes.Literal).SetConstant(1);\n\n// Next line fails since we must use fully created type and not type builder\nmt.DefineField(\"sfield2\", gtne.MakeGenericType(typeof(int)), FieldAttributes.Public | FieldAttributes.Static | FieldAttributes.Literal).SetConstant(1);\n</code></pre>\n\n<p>So, how would one create constant of another type that is not yet created?</p>\n"}, {"tags": ["c#", "xamarin", "binding", "linker", "xamarin.ios-binding"], "comments": [{"owner": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "edited": false, "score": 0, "creation_date": 1535590212, "post_id": 52087163, "comment_id": 91125950, "body": "Did you used Objective Sharpie?"}, {"owner": {"reputation": 66, "user_id": 7637453, "user_type": "registered", "profile_image": "https://graph.facebook.com/1805883652770388/picture?type=large", "display_name": "Jo&#227;o Palma", "link": "https://stackoverflow.com/users/7637453/jo%c3%a3o-palma"}, "reply_to_user": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "edited": false, "score": 0, "creation_date": 1535590413, "post_id": 52087163, "comment_id": 91125984, "body": "yes I used sharpie"}, {"owner": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "edited": false, "score": 0, "creation_date": 1535592746, "post_id": 52087163, "comment_id": 91126389, "body": "Have you add the Native Reference?"}, {"owner": {"reputation": 66, "user_id": 7637453, "user_type": "registered", "profile_image": "https://graph.facebook.com/1805883652770388/picture?type=large", "display_name": "Jo&#227;o Palma", "link": "https://stackoverflow.com/users/7637453/jo%c3%a3o-palma"}, "reply_to_user": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "edited": false, "score": 0, "creation_date": 1535592821, "post_id": 52087163, "comment_id": 91126402, "body": "to the binding project? yes."}, {"owner": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "edited": false, "score": 1, "creation_date": 1535593997, "post_id": 52087163, "comment_id": 91126640, "body": "Is the SDK available from cocoaPod? If you can provide the name of SDK ,I can have a try ."}, {"owner": {"reputation": 66, "user_id": 7637453, "user_type": "registered", "profile_image": "https://graph.facebook.com/1805883652770388/picture?type=large", "display_name": "Jo&#227;o Palma", "link": "https://stackoverflow.com/users/7637453/jo%c3%a3o-palma"}, "reply_to_user": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "edited": false, "score": 0, "creation_date": 1535594157, "post_id": 52087163, "comment_id": 91126681, "body": "yes it is, <a href=\"https://cocoapods.org/pods/SinchRTC\" rel=\"nofollow noreferrer\">cocoapods.org/pods/SinchRTC</a>, thank you lucas"}, {"owner": {"reputation": 66, "user_id": 7637453, "user_type": "registered", "profile_image": "https://graph.facebook.com/1805883652770388/picture?type=large", "display_name": "Jo&#227;o Palma", "link": "https://stackoverflow.com/users/7637453/jo%c3%a3o-palma"}, "reply_to_user": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "edited": false, "score": 0, "creation_date": 1535594245, "post_id": 52087163, "comment_id": 91126705, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/179075/discussion-between-joao-palma-and-lucasz\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 66, "user_id": 7637453, "user_type": "registered", "profile_image": "https://graph.facebook.com/1805883652770388/picture?type=large", "display_name": "Jo&#227;o Palma", "link": "https://stackoverflow.com/users/7637453/jo%c3%a3o-palma"}, "edited": false, "score": 0, "creation_date": 1535620078, "post_id": 52091167, "comment_id": 91136258, "body": "I can give it a try. 2 questions, did you create a new bind or thats the one i created? Also it is possible that when i try to link the error i have is a conflict of nugets?"}, {"owner": {"reputation": 66, "user_id": 7637453, "user_type": "registered", "profile_image": "https://graph.facebook.com/1805883652770388/picture?type=large", "display_name": "Jo&#227;o Palma", "link": "https://stackoverflow.com/users/7637453/jo%c3%a3o-palma"}, "edited": false, "score": 0, "creation_date": 1535621440, "post_id": 52091167, "comment_id": 91137164, "body": "Yeah, and I copied the bind project from your solution to my project and now it works. I don&#39;t know what to think about this."}, {"owner": {"reputation": 66, "user_id": 7637453, "user_type": "registered", "profile_image": "https://graph.facebook.com/1805883652770388/picture?type=large", "display_name": "Jo&#227;o Palma", "link": "https://stackoverflow.com/users/7637453/jo%c3%a3o-palma"}, "edited": false, "score": 0, "creation_date": 1535622048, "post_id": 52091167, "comment_id": 91137608, "body": "Alright forget it what I just said, it won&#39;t give me errors because you didn&#39;t had the native reference, so the bind doesn&#39;t really work without it. And when I add the native reference I have the same 4 errors that I always had."}], "tags": [], "owner": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "is_accepted": false, "score": 1, "last_activity_date": 1535613151, "creation_date": 1535613151, "answer_id": 52091167, "question_id": 52087163, "link": "https://stackoverflow.com/questions/52087163/mt5211-native-linking-failed-undefined-objective-c-class/52091167#52091167", "title": "MT5211: Native linking failed, undefined Objective-C class", "body": "<p>I have try the same steps as you did , and downloaded the project you provided.It works on my VS for Mac.So ,I suggest you can creat a new blank bind libaray and copy the code into it then build it again. </p>\n\n<p>I have uploaded my project to my gitHub.you can download it and have a try.\n<a href=\"https://github.com/MonkeyLucas/bindTest\" rel=\"nofollow noreferrer\">Demo</a> </p>\n"}], "owner": {"reputation": 66, "user_id": 7637453, "user_type": "registered", "profile_image": "https://graph.facebook.com/1805883652770388/picture?type=large", "display_name": "Jo&#227;o Palma", "link": "https://stackoverflow.com/users/7637453/jo%c3%a3o-palma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 885, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1535633945, "creation_date": 1535583554, "last_edit_date": 1535627577, "question_id": 52087163, "link": "https://stackoverflow.com/questions/52087163/mt5211-native-linking-failed-undefined-objective-c-class", "title": "MT5211: Native linking failed, undefined Objective-C class", "body": "<p>I made a binding from a objective-c framework, it is working correctly but when I try to link my Xamarin.iOS project (Link Framework SDKs Only), I get this error</p>\n\n<blockquote>\n  <p>MTOUCH: Error MT5211: Native linking failed, undefined Objective-C\n  class: GLKView. The symbol '_OBJC_CLASS_$_GLKView' could not be found\n  in any of the libraries or frameworks linked with your application.\n  (MT5211)</p>\n</blockquote>\n\n<p><a href=\"https://docs.microsoft.com/en-us/xamarin/ios/troubleshooting/mtouch-errors#MT5211\" rel=\"nofollow noreferrer\">In the microsoft documentation</a>, says to add the <strong>[Protocol]</strong> attribute to the binding project. </p>\n\n<p>I tried to add the attribute in the <strong>ApiDefinition.cs</strong>, first on top of the class and then before all methods and interfaces the classe have, with no success.</p>\n\n<p><a href=\"https://github.com/joaowd/Xamarin.iOS.SinchBind/blob/master/SinchBinding/SinchBinding/ApiDefinition.cs\" rel=\"nofollow noreferrer\">Link for the github repo</a></p>\n\n<p>What am I doing wrong ?</p>\n"}, {"tags": ["c#", "web-services", "asp.net-core"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 1, "creation_date": 1535584960, "post_id": 52087155, "comment_id": 91124923, "body": "You are using ASP.NET Core to host WCF services? Why not just create a WCF on ASP.NET project?"}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "edited": false, "score": 0, "creation_date": 1535596490, "post_id": 52087155, "comment_id": 91127189, "body": "Do you use <a href=\"https://github.com/DigDes/SoapCore\" rel=\"nofollow noreferrer\">SoapCore</a> or implement your own <code>UseSoapEndpoint</code>?"}, {"owner": {"reputation": 3455, "user_id": 1867682, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/852577b64b854aeaf589b54617e4a1a2?s=128&d=identicon&r=PG", "display_name": "PmanAce", "link": "https://stackoverflow.com/users/1867682/pmanace"}, "edited": false, "score": 0, "creation_date": 1535596944, "post_id": 52087155, "comment_id": 91127266, "body": "services.AddScoped(new InstallService()); is your problem, don&#39;t do a new here"}, {"owner": {"reputation": 3, "user_id": 6883769, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j59WdPlSjxM/AAAAAAAAAAI/AAAAAAAAABA/b5iJ0OSkPLg/photo.jpg?sz=128", "display_name": "Rafael Roland Passarella", "link": "https://stackoverflow.com/users/6883769/rafael-roland-passarella"}, "edited": false, "score": 0, "creation_date": 1535625906, "post_id": 52087155, "comment_id": 91140134, "body": "I already have this webserver running, so I&#180;m trying to append the webservice in it. Sorry, forgot to tell I&#180;m using SoapCore"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6883769, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j59WdPlSjxM/AAAAAAAAAAI/AAAAAAAAABA/b5iJ0OSkPLg/photo.jpg?sz=128", "display_name": "Rafael Roland Passarella", "link": "https://stackoverflow.com/users/6883769/rafael-roland-passarella"}, "edited": false, "score": 0, "creation_date": 1535626002, "post_id": 52087899, "comment_id": 91140198, "body": "Thanks for the answer but I&#180;m already using the SQLcontext in several other places, and it&#180;s working fine."}], "tags": [], "owner": {"reputation": 26, "user_id": 9483633, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-naI7FWRbCiw/AAAAAAAAAAI/AAAAAAAAAvc/M8aqhqbUsBg/photo.jpg?sz=128", "display_name": "Leo Vun", "link": "https://stackoverflow.com/users/9483633/leo-vun"}, "is_accepted": false, "score": 0, "last_activity_date": 1535590776, "creation_date": 1535590776, "answer_id": 52087899, "question_id": 52087155, "link": "https://stackoverflow.com/questions/52087155/asp-net-core-webservice/52087899#52087899", "title": "ASP.NET Core WebService", "body": "<p>Your problem seems difference between</p>\n\n<pre><code>public class InstallService : IService\n{\n    private SQLContext _context;\n\n    public InstallService(SQLContext context) \n    {\n        _context = context;\n    }  \n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>public class InstallService : IService\n{\n}\n</code></pre>\n\n<p>You got this exception.</p>\n\n<blockquote>\n  <p>\"System.ServiceModel.FaultException. Non-static method requires a target\"</p>\n</blockquote>\n\n<p>Probably you didn't get <code>SQLContext</code> instance.</p>\n\n<p>Please check out <code>Configuration.GetConnectionString(\"SQLConnection\"))</code> in your code.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/39083372/how-to-read-connection-string-in-net-core\">How to read connection string in .NET Core?</a></p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/ef/core/miscellaneous/connection-strings\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/ef/core/miscellaneous/connection-strings</a></p>\n\n<p>Correct me if I'm wrong. :p</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 6883769, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j59WdPlSjxM/AAAAAAAAAAI/AAAAAAAAABA/b5iJ0OSkPLg/photo.jpg?sz=128", "display_name": "Rafael Roland Passarella", "link": "https://stackoverflow.com/users/6883769/rafael-roland-passarella"}, "edited": false, "score": 0, "creation_date": 1535626281, "post_id": 52088479, "comment_id": 91140364, "body": "I&#180;ll try to implment the interface instead of the class, get back to you as soon as I try that. Thanks"}, {"owner": {"reputation": 3, "user_id": 6883769, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j59WdPlSjxM/AAAAAAAAAAI/AAAAAAAAABA/b5iJ0OSkPLg/photo.jpg?sz=128", "display_name": "Rafael Roland Passarella", "link": "https://stackoverflow.com/users/6883769/rafael-roland-passarella"}, "edited": false, "score": 0, "creation_date": 1535626668, "post_id": 52088479, "comment_id": 91140608, "body": "THANKS! That was it, saved my day."}], "tags": [], "owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "is_accepted": true, "score": 0, "last_activity_date": 1535596583, "creation_date": 1535596583, "answer_id": 52088479, "question_id": 52087155, "link": "https://stackoverflow.com/questions/52087155/asp-net-core-webservice/52088479#52088479", "title": "ASP.NET Core WebService", "body": "<p>For using <a href=\"https://github.com/DigDes/SoapCore\" rel=\"nofollow noreferrer\">SoapCore</a>, try to configure service like      </p>\n\n<pre><code>            services.AddScoped&lt;IService, InstallService&gt;();\n</code></pre>\n\n<p>And then use service like below:      </p>\n\n<pre><code>            app.UseSoapEndpoint&lt;IService&gt;(\"/ServicePath.asmx\", new BasicHttpBinding());\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6883769, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j59WdPlSjxM/AAAAAAAAAAI/AAAAAAAAABA/b5iJ0OSkPLg/photo.jpg?sz=128", "display_name": "Rafael Roland Passarella", "link": "https://stackoverflow.com/users/6883769/rafael-roland-passarella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 802, "favorite_count": 0, "accepted_answer_id": 52088479, "answer_count": 2, "score": 0, "last_activity_date": 1535596583, "creation_date": 1535583506, "last_edit_date": 1535584045, "question_id": 52087155, "link": "https://stackoverflow.com/questions/52087155/asp-net-core-webservice", "title": "ASP.NET Core WebService", "body": "<p>I\u00b4m new to asp.net core, and I\u00b4m having trouble with injections on a web service.</p>\n\n<pre><code>namespace Web.WebServices\n{\n    public class InstallService : IService\n    {\n        private SQLContext _context;\n\n        public InstallService(SQLContext context) \n        {\n            _context = context;\n        }  \n\n        public string Fcn(string msg)\n        {\n            //Just for testing, the rest of the code is not altering the results\n            return string.Join(string.Empty, msg.Reverse());\n        }        \n    }\n\n    [ServiceContract]\n    public interface IService\n    {\n        [OperationContract]\n        string Fcn(string msg);\n\n    }\n}\n</code></pre>\n\n<p>This is the ConfigureService method:</p>\n\n<pre><code>    public void ConfigureServices(IServiceCollection services)\n    {            \n        services.AddMvc();\n        services.AddSingleton(Configuration);\n        services.AddDbContext&lt;SQLContext&gt;(options =&gt; options.UseSqlServer(Configuration.GetConnectionString(\"SQLConnection\")));\n        services.AddSoapExceptionTransformer((ex) =&gt; ex.Message);            \n        services.AddScoped&lt;IService, InstallService&gt;();\n\n    }\n</code></pre>\n\n<p>And the configure method:</p>\n\n<pre><code>app.UseSoapEndpoint&lt;InstallService&gt;(\"/ServicePath.asmx\", new BasicHttpBinding());\n</code></pre>\n\n<p>Now the problem, when I try to consume the webservice I get the error:</p>\n\n<blockquote>\n  <p>\"System.ServiceModel.FaultException. Non-static method requires a target\"</p>\n</blockquote>\n\n<p>And if I remove the injection the webservice works fine.</p>\n\n<pre><code>namespace Web.WebServices\n{\n    public class InstallService : IService\n    {\n        public string Fcn(string msg)\n        {\n            return string.Join(string.Empty, msg.Reverse());\n        }        \n    }\n\n    [ServiceContract]\n    public interface IService\n    {\n        [OperationContract]\n        string Fcn(string msg);\n\n    }\n}\n</code></pre>\n\n<p>And the Configure service method:</p>\n\n<pre><code>   public void ConfigureServices(IServiceCollection services)\n    {            \n        services.AddMvc();\n        services.AddSingleton(Configuration);\n        services.AddDbContext&lt;SQLContext&gt;(options =&gt; options.UseSqlServer(Configuration.GetConnectionString(\"SQLConnection\")));\n        services.AddSoapExceptionTransformer((ex) =&gt; ex.Message);            \n        services.AddScoped(new InstallService());\n\n    }\n</code></pre>\n\n<p>But I need to use the webService to save data to the SQL Server.</p>\n\n<p>I\u00b4m almost sure something wrong is not right, but I can\u00b4t figure it out.</p>\n"}, {"tags": ["c#", "odata", "edmx"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1535585486, "post_id": 52087101, "comment_id": 91125052, "body": "Have you looked at following msdn webpage? <a href=\"https://docs.microsoft.com/en-us/visualstudio/data-tools/entity-data-model-tools-in-visual-studio?view=vs-2017\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/visualstudio/data-tools/&hellip;</a>"}, {"owner": {"reputation": 181, "user_id": 6353621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb73826e87750a7d80eb55a38276a2f?s=128&d=identicon&r=PG&f=1", "display_name": "eerick", "link": "https://stackoverflow.com/users/6353621/eerick"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1535643608, "post_id": 52087101, "comment_id": 91152366, "body": "I&#39;ve read up on edmx files, but I&#39;m unable to open the ones I have in visual studio for some reason that&#39;s not entirely clear to me"}, {"owner": {"reputation": 181, "user_id": 6353621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb73826e87750a7d80eb55a38276a2f?s=128&d=identicon&r=PG&f=1", "display_name": "eerick", "link": "https://stackoverflow.com/users/6353621/eerick"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1535644598, "post_id": 52087101, "comment_id": 91153026, "body": "honestly my main question is how to get the odata class generation tool to work with edmx files and that link doesn&#39;t say a word about that and the docs for the odata class generation tool are quite limited as are most microsoft docs"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1535646195, "post_id": 52087101, "comment_id": 91153982, "body": "Can&#39;t you copy the file locally and then modify the project configuration file to point to the local copy?"}, {"owner": {"reputation": 181, "user_id": 6353621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb73826e87750a7d80eb55a38276a2f?s=128&d=identicon&r=PG&f=1", "display_name": "eerick", "link": "https://stackoverflow.com/users/6353621/eerick"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1535646685, "post_id": 52087101, "comment_id": 91154253, "body": "yes, and it appears to work, but the generated file doesn&#39;t contain anything... after a lot of headache on this matter it appears that VS 2017 just isn&#39;t supported for this tool... though they certainly don&#39;t make that very clear... I am testing with VS 2015 now to see if that resolves my issues"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1535649544, "post_id": 52087101, "comment_id": 91155579, "body": "It has nothing to do with VS..  It has to do with version of Net.  It is in Net 4.7.2 and if you target the project for 4.7.2 you should have the feature."}, {"owner": {"reputation": 181, "user_id": 6353621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb73826e87750a7d80eb55a38276a2f?s=128&d=identicon&r=PG&f=1", "display_name": "eerick", "link": "https://stackoverflow.com/users/6353621/eerick"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1535650927, "post_id": 52087101, "comment_id": 91156219, "body": "this particular problem is most certainly a visual studio issue... changing .NET versions doesn&#39;t affect whether or not I have access to the OData client code generation tool"}], "answers": [{"comments": [{"owner": {"reputation": 1004, "user_id": 5639935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxGhZ.png?s=128&g=1", "display_name": "The Sharp Ninja", "link": "https://stackoverflow.com/users/5639935/the-sharp-ninja"}, "edited": false, "score": 0, "creation_date": 1535662764, "post_id": 52101769, "comment_id": 91161638, "body": "I still cannot get it to work with my edmx file using the DataSvcUtil.exe, it also generates an C# class with only the header comment.  Is there more secret to this sauce?"}, {"owner": {"reputation": 181, "user_id": 6353621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb73826e87750a7d80eb55a38276a2f?s=128&d=identicon&r=PG&f=1", "display_name": "eerick", "link": "https://stackoverflow.com/users/6353621/eerick"}, "reply_to_user": {"reputation": 1004, "user_id": 5639935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxGhZ.png?s=128&g=1", "display_name": "The Sharp Ninja", "link": "https://stackoverflow.com/users/5639935/the-sharp-ninja"}, "edited": false, "score": 0, "creation_date": 1535728383, "post_id": 52101769, "comment_id": 91187661, "body": "what version of OData is the endpoint you are working with? are you specifically trying to work with Microsoft Project Online data like I was or is your edmx file for something else?  the answer I mentioned above is only working for OData V1 - V3"}, {"owner": {"reputation": 1004, "user_id": 5639935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxGhZ.png?s=128&g=1", "display_name": "The Sharp Ninja", "link": "https://stackoverflow.com/users/5639935/the-sharp-ninja"}, "edited": false, "score": 0, "creation_date": 1535769960, "post_id": 52101769, "comment_id": 91200010, "body": "I have yet to get the models to build.  So, I&#39;ve decided to use Restier to host the services from my existing EF EMDX file.  I&#39;m having some progress, but still not there yet."}], "tags": [], "owner": {"reputation": 181, "user_id": 6353621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb73826e87750a7d80eb55a38276a2f?s=128&d=identicon&r=PG&f=1", "display_name": "eerick", "link": "https://stackoverflow.com/users/6353621/eerick"}, "is_accepted": true, "score": 0, "last_activity_date": 1535651178, "last_edit_date": 1535651178, "creation_date": 1535646773, "answer_id": 52101769, "question_id": 52087101, "link": "https://stackoverflow.com/questions/52087101/odata-class-generation-from-edmx-model/52101769#52101769", "title": "odata class generation from edmx model", "body": "<p>It appears VS 2017 is not supported by the odata client code generation tool.  I am trying out VS 2015 now.</p>\n\n<p>Edit:\nI have confirmed that the client code generation tool works with visual studio community 2015.  I couldn't get it to work because I was running it under visual studio professional 2017... Microsoft employees have reported on a couple of forums that this tool isn't support under VS 2017.</p>\n\n<p>Also, I found out this this service still won't work with the OData client code generator anyway since it is OData V3 and the tool only works with OData V4.  You must use DataSvcUtil.exe to generate code from earlier versions of OData.  I downloaded the .edmx file and run the following command to generate the classes:</p>\n\n<pre><code>\"%windir%\\Microsoft.NET\\Framework\\v3.5\\DataSvcUtil.exe\" /dataservicecollection /version:2.0 /language:CSharp /out:TestOutput.cs /in:C:\\Users\\[username]\\DevelLocal\\test1.edmx\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 6353621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb73826e87750a7d80eb55a38276a2f?s=128&d=identicon&r=PG&f=1", "display_name": "eerick", "link": "https://stackoverflow.com/users/6353621/eerick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 885, "favorite_count": 0, "accepted_answer_id": 52101769, "answer_count": 1, "score": 0, "last_activity_date": 1535651178, "creation_date": 1535583068, "question_id": 52087101, "link": "https://stackoverflow.com/questions/52087101/odata-class-generation-from-edmx-model", "title": "odata class generation from edmx model", "body": "<p>I am trying to work with data from an existing ODATA endpoint in code for another ODATA API.</p>\n\n<p>I have no desire to recreate all the models manually and so I was hoping to use the existing edmx models to create the classes in C# that I need.</p>\n\n<p>I looked into the \"odata client code generator\" offered by Microsoft and this seems like the perfect solution, but I can only get it to work if I connect directly to a service endpoint... it doesn't work if I download the edmx file and try to use that (even though the tutorial says you can use a URL OR a file).</p>\n\n<p>Has anyone actually been able to successfully connect this odata client code generator to an edmx file?</p>\n\n<p>If I can't get this working, does anyone have other suggestions for how to generate the classes I need from these edmx models?</p>\n\n<p>I am specifically trying to work with the metadata from Microsoft Project Online.  It gives an endpoint like this:\n<a href=\"https://[domain]/sites/pwa/_api/ProjectData/\" rel=\"nofollow noreferrer\">https://[domain]/sites/pwa/_api/ProjectData/</a>$metadata</p>\n\n<p>I can't connect directly to this unfortunately because it requires authentication and the odata client code generator doesn't support authentication...</p>\n"}, {"tags": ["c#", "roslyn", "roslyn-code-analysis"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1535587974, "post_id": 52086981, "comment_id": 91125529, "body": "<a href=\"https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1516.md\" rel=\"nofollow noreferrer\">github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/&hellip;</a> <a href=\"https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1507.md\" rel=\"nofollow noreferrer\">github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/&hellip;</a>"}, {"owner": {"reputation": 4296, "user_id": 1152054, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c20ad27b681bc191a309dd60f2ade6b0?s=128&d=identicon&r=PG", "display_name": "Dan Friedman", "link": "https://stackoverflow.com/users/1152054/dan-friedman"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1535642228, "post_id": 52086981, "comment_id": 91151529, "body": "Thanks. I used SA1513 and SA1507, respectively."}], "answers": [{"tags": [], "owner": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "is_accepted": true, "score": 1, "last_activity_date": 1535584592, "creation_date": 1535584592, "answer_id": 52087277, "question_id": 52086981, "link": "https://stackoverflow.com/questions/52086981/is-there-a-roslyn-analyzer-that-detects-newline-preferences/52087277#52087277", "title": "Is there a Roslyn Analyzer that detects newline preferences?", "body": "<p>Visual Studio 2017 has some built-in functionality with <a href=\"https://docs.microsoft.com/en-us/visualstudio/ide/create-portable-custom-editor-options\" rel=\"nofollow noreferrer\" title=\"Create portable, custom editor settings with EditorConfig\">editorconfig</a>.</p>\n\n<p>There's also <a href=\"https://www.nuget.org/packages/StyleCop.Analyzers\" rel=\"nofollow noreferrer\" title=\"StyleCop.Analyzers\">StyleCop.Analyzers</a>.</p>\n"}], "owner": {"reputation": 4296, "user_id": 1152054, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c20ad27b681bc191a309dd60f2ade6b0?s=128&d=identicon&r=PG", "display_name": "Dan Friedman", "link": "https://stackoverflow.com/users/1152054/dan-friedman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 52087277, "answer_count": 1, "score": 1, "last_activity_date": 1535584592, "creation_date": 1535582083, "question_id": 52086981, "link": "https://stackoverflow.com/questions/52086981/is-there-a-roslyn-analyzer-that-detects-newline-preferences", "title": "Is there a Roslyn Analyzer that detects newline preferences?", "body": "<p>I want to ensure that </p>\n\n<ul>\n<li>there is always a blank line between methods</li>\n<li>there are never two or more blank lines in a row</li>\n</ul>\n\n<p>Are there any Roslyn Analyzers that could handle such cases?</p>\n"}, {"tags": ["c#", "json", "visual-studio", "soap", "client"], "comments": [{"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1535584269, "post_id": 52086976, "comment_id": 91124752, "body": "I assume you have added a service reference in the project?"}, {"owner": {"reputation": 3, "user_id": 9672598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zdvvm.jpg?s=128&g=1", "display_name": "msanavarro", "link": "https://stackoverflow.com/users/9672598/msanavarro"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1535586048, "post_id": 52086976, "comment_id": 91125181, "body": "Yes, I have. So VisualStudio recognizes the methods GetData(), GetDataAsync() but I have no data type to store the result."}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1535586347, "post_id": 52086976, "comment_id": 91125241, "body": "If you use <code>var</code> and then hover over the variable what does it show?"}], "owner": {"reputation": 3, "user_id": 9672598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zdvvm.jpg?s=128&g=1", "display_name": "msanavarro", "link": "https://stackoverflow.com/users/9672598/msanavarro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535603509, "creation_date": 1535582053, "last_edit_date": 1535585898, "question_id": 52086976, "link": "https://stackoverflow.com/questions/52086976/how-can-i-store-the-json-result-from-a-soap-web-service-in-c", "title": "How can I store the JSON result from a SOAP Web Service in C#?", "body": "<p>I am trying to consume a JSON from a SOAP web service. It has a method <code>GetData()</code> which I can call from the browser and there I can see the JSON text</p>\n\n<pre><code>{\"hasError\":false,\n\"errMessage\":null,\n\"secureResponse\":{\"WebServiceDt\":[{\"attr1\":\"encryptedValue1\",\"attr2\":\"encryptedValue2\"},...]}}\n</code></pre>\n\n<p>In the WSDL there appears the GetDataResponse, but I can't get VisualStudio to recognize it. There's a message saying that I'm missing a reference.</p>\n\n<pre><code>wsReference.wsSoapClient client = wsReference.wsSoapClient();\nwsReference.GetDataResponse dataResponse = await client.GetDataAsync(\"encryptedID\", \"encryptedPassword\");\n</code></pre>\n"}, {"tags": ["c#", "if-statement", "text", "streamwriter"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1535581577, "post_id": 52086847, "comment_id": 91124034, "body": "<code>lines.Contains(textxx)</code> Note this will check that <code>textxx</code> matches the <b>entirety</b> of a line - it won&#39;t match if it was (for example) only <b>part</b> of one of the lines."}, {"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1535581626, "post_id": 52086847, "comment_id": 91124047, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/12856471/c-sharp-search-string-in-txt-file\">c# search string in txt file</a>"}, {"owner": {"reputation": 7308, "user_id": 4377430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NVk7a.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4377430/adrian"}, "reply_to_user": {"reputation": 1721, "user_id": 9070959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3fc72be4dddc4ff4156a7d875912d67?s=128&d=identicon&r=PG&f=1", "display_name": "emsimpson92", "link": "https://stackoverflow.com/users/9070959/emsimpson92"}, "edited": false, "score": 0, "creation_date": 1535581980, "post_id": 52086847, "comment_id": 91124143, "body": "@emsimpson92 Of course it does, but it won&#39;t match a word in a line of individual entry but rather the whole line. <code>String.Contains</code> does not work the same way <code>Array.Contains</code>."}, {"owner": {"reputation": 1721, "user_id": 9070959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3fc72be4dddc4ff4156a7d875912d67?s=128&d=identicon&r=PG&f=1", "display_name": "emsimpson92", "link": "https://stackoverflow.com/users/9070959/emsimpson92"}, "edited": false, "score": 0, "creation_date": 1535582092, "post_id": 52086847, "comment_id": 91124173, "body": "That&#39;s true, but if the URL doesn&#39;t exist in the file he wants to write it to the file, so It&#39;s most likely a text file full of URLs"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1535583443, "post_id": 52086847, "comment_id": 91124557, "body": "If you are reading a very large text file, you may want to read it line by line  and do the search on each line.  There&#39;s no need to read the entire file into memory."}], "answers": [{"comments": [{"owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "edited": false, "score": 0, "creation_date": 1535581876, "post_id": 52086908, "comment_id": 91124115, "body": "This is still prone to the same problem OP has. Use <code>ReadAllText</code> and <code>String.Contains</code> instead."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "edited": false, "score": 0, "creation_date": 1535582127, "post_id": 52086908, "comment_id": 91124180, "body": "@SaniSinghHuttunen I think the OP&#39;s problem is that he&#39;s not looping through all the lines...he quits just before the last one"}, {"owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1535582330, "post_id": 52086908, "comment_id": 91124247, "body": "@RufusL: That is one of the problems. The other is that there is no guarantee that <code>texxt</code> will ever equal any line. What if a line begins with a space?  &quot;    google.com&quot; and you search for &quot;google.com&quot;. Will it find it with <code>Array.Contains</code>? Or <code>texxt == lines[x]</code>?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1535582404, "post_id": 52086908, "comment_id": 91124269, "body": "True, my only clue was he said, <i>&quot;when I run this code program writes to text file twice before recognizing the text exists&quot;</i>"}], "tags": [], "owner": {"reputation": 6828, "user_id": 294120, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/60757bfd7700195c02e7cba459e69db4?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/294120/ryan"}, "is_accepted": false, "score": 3, "last_activity_date": 1535581680, "last_edit_date": 1535581680, "creation_date": 1535581538, "answer_id": 52086908, "question_id": 52086847, "link": "https://stackoverflow.com/questions/52086847/check-if-text-exists-in-text-file/52086908#52086908", "title": "Check if text exists in text file", "body": "<p>It's a lot simpler than what you've got. If you've just got an array of strings you can use <a href=\"https://msdn.microsoft.com/en-us/library/bb384015.aspx\" rel=\"nofollow noreferrer\">Array.Contains</a>.</p>\n\n<pre><code>var lines = File.ReadAllLines(\"links.txt\");\n\nif (!lines.Contains(\"google.com\")) {\n  File.AppendAllText(\"links.txt\", \"google.com\");\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": true, "score": 2, "last_activity_date": 1535583660, "last_edit_date": 1535583660, "creation_date": 1535582107, "answer_id": 52086985, "question_id": 52086847, "link": "https://stackoverflow.com/questions/52086847/check-if-text-exists-in-text-file/52086985#52086985", "title": "Check if text exists in text file", "body": "<blockquote>\n  <p><em>\"when I run this code program writes to text file twice before recognizing the text exists\"</em></p>\n</blockquote>\n\n<p>The main problem with your code is in this condition: </p>\n\n<pre><code>for (int x = 0; x &lt; lines.Length - 1; x++)\n</code></pre>\n\n<p>You are looping through all  the lines <strong>except the last one</strong>, which is likely the one you're searching for in this case.</p>\n\n<p>To resolve this, just remove the <code>- 1</code> from your exit condition.</p>\n\n<hr>\n\n<p>With that being said, your code can be simplified greatly if you use the static <code>ReadLines</code> and <code>AppendAllText</code> methods of the <code>File</code> class:</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Searches the specified file for the url and adds it if it doesn't exist.\n/// If the specified file does not exist, it will be created.\n/// &lt;/summary&gt;\n/// &lt;param name=\"filePath\"&gt;The path to the file to query.&lt;/param&gt;\n/// &lt;param name=\"url\"&gt;The url to search for and add to the file.&lt;/param&gt;\n/// &lt;returns&gt;True if the url was added, otherwise false.&lt;/returns&gt;\nprotected static bool AddUrlIfNotExist(string filePath, string url)\n{\n    if (!File.Exists(filePath)) File.Create(filePath).Close();\n\n    if (!File.ReadLines(filePath).Any(line =&gt; line.Contains(url)))\n    {\n        File.AppendAllText(filePath, url);\n        return true;\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>Then this method could be used in your code like:</p>\n\n<pre><code>protected override bool ProcessCmdKey(ref Message msg, Keys keyData)\n{\n    if (keyData == Keys.F1) { Application.Exit(); return true; }\n\n    if (keyData == Keys.F2)\n    {\n        if (AddUrlIfNotExist(\"linkx.txt\", webBrowser1.Url.AbsoluteUri))\n        {\n            MessageBox.Show(\"url copied!\");\n        }\n        else\n        {\n            MessageBox.Show(\"there is a match\");\n        }\n    }\n\n    // Call the base class\n    return base.ProcessCmdKey(ref msg, keyData);\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6307047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-L6Lv_151BS8/AAAAAAAAAAI/AAAAAAAAAn4/1oa3uRgMlnk/photo.jpg?sz=128", "display_name": "Ryze2", "link": "https://stackoverflow.com/users/6307047/ryze2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2938, "favorite_count": 0, "accepted_answer_id": 52086985, "answer_count": 2, "score": 0, "last_activity_date": 1535583660, "creation_date": 1535581182, "last_edit_date": 1535583553, "question_id": 52086847, "link": "https://stackoverflow.com/questions/52086847/check-if-text-exists-in-text-file", "title": "Check if text exists in text file", "body": "<p>I'm trying to figure out if the text URL that I get from current URL exists in 'linkx.txt', if it does then show a message, if it doesn't then write to text file. however, when I run this code program writes to text file twice before recognizing the text exists.</p>\n\n<p>[working code]</p>\n\n<pre><code>  protected override bool ProcessCmdKey(ref Message msg, Keys keyData)\n{\n    string linkx = @\"Desktop\\linkx.txt\";\n    string url = \"\";\n    if (keyData == Keys.F1) { Application.Exit(); return true; }\n    else if (keyData == Keys.F2) { url = webBrowser1.Url.AbsoluteUri; return true; }\n\n    using (StreamReader sr = File.OpenText(linkx))\n    {\n        string texxt = url;\n        string[] lines = File.ReadAllLines(linkx);\n        bool matched = false;\n        for (int x = 0; x &lt; lines.Length; x++)\n        {\n            if (texxt == lines[x])\n            {\n                sr.Close();\n                MessageBox.Show(\"there is a match\");\n                matched = true;\n            }\n        }\n        if (!matched)\n        {\n            sr.Close();\n            using (StreamWriter wriite = File.AppendText(linkx))\n            {\n                wriite.WriteLine(url);\n                MessageBox.Show(\"url copied!\");\n                return true;    // indicate that you handled this keystroke\n            }\n        }\n    }\n    // Call the base class\n    return base.ProcessCmdKey(ref msg, keyData);\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "logging", "dependency-injection", "exception-handling"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1535581997, "post_id": 52086814, "comment_id": 91124150, "body": "It would be awesome if you could provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. <i>On a completely unrelated front, feel free to remove the above <code>catch</code> blocks and <code>throw</code> calls - they don&#39;t achieve anything.</i>"}, {"owner": {"reputation": 501, "user_id": 2315112, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e79d62d029433189014b2f81ba91c81e?s=128&d=identicon&r=PG", "display_name": "ErpaDerp", "link": "https://stackoverflow.com/users/2315112/erpaderp"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1535584428, "post_id": 52086814, "comment_id": 91124798, "body": "Oh yeah those aren&#39;t staying, just trying to get a better understanding. I can certainly try putting a simple example together later on, I should throw it up on github I suppose?"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1535585512, "post_id": 52086814, "comment_id": 91125064, "body": "Please put the code here in your question. Keep it as small as possible."}], "owner": {"reputation": 501, "user_id": 2315112, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e79d62d029433189014b2f81ba91c81e?s=128&d=identicon&r=PG", "display_name": "ErpaDerp", "link": "https://stackoverflow.com/users/2315112/erpaderp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535580988, "creation_date": 1535580988, "question_id": 52086814, "link": "https://stackoverflow.com/questions/52086814/how-do-i-catch-an-unhandled-sql-connection-exception-when-using-structuremap-and", "title": "How do I catch an unhandled sql connection exception when using structuremap and EF in MVC", "body": "<p>Ok so I'm trying to install a web application on server at another facility within our company and I've run into a problem that I'm trying to diagnose.  I'm getting the infamous DI error message \"requires a parameterless constructor\", which is what is caught in the Application_Error on Global.asax.  </p>\n\n<p>I'm unable to debug remotely right now, so I'd like to rig together some basic but more detailed exception handling that can help me see what the real exception is.  Is there anything quick and easy I can to do get more details on the Application_Error exception?</p>\n\n<p>So to test this out myself, I changed my connection string to have a bad password.  This throws a SqlException \"Login failed for user 'xxxxxxxx'\".  I am not currently doing basically any exception handling throughout the project since I haven't really gotten to that yet.  I'm trying to see how I can some how transport my exceptions from my data/service projects up to the web project so I can at least see some more detail from within the browser as I try to trouble shoot the installation.</p>\n\n<p>The first database call pretty much has a call stack like so\nStructureMap DoGetInstance -> ServiceLayer UserAuthService -> DataLayer UserRepo</p>\n\n<p>I've tried wrapping my data layer method in a try/catch and rethrowing the SqlException.  I've then wrapped my ServiceLayer in another try/catch and have managed to catch that exception.  Its between the ServiceLayer and the DI resolver where I'm unable to catch it, so when debugging I get an error saying there is an unhandled exception at this point.  For testing, I tried wrapping this in a try/catch but it still goes unhandled.</p>\n\n<p>So the result is what ends up as the last exception caught in Application_Error is that the dependency for my controller could not be found / controller could not be constructed.</p>\n\n<pre><code>protected override object DoGetInstance(Type serviceType, string key) {\n        //IContainer container = (CurrentNestedContainer ?? Container);\n        IContainer container = Container;\n        if (string.IsNullOrEmpty(key))\n        {\n            try\n            {\n                    return serviceType.IsAbstract || serviceType.IsInterface\n                        ? container.TryGetInstance(serviceType)\n                        : container.GetInstance(serviceType);\n\n            }\n            catch (SqlException ex)\n            {\n                throw;\n            }\n            catch (EntityException ex)\n            {\n                throw;\n            }\n        }\n\n        return container.GetInstance(serviceType, key);\n    }\n</code></pre>\n\n<p>I'd appreciate any tips here.  I'm really not looking to build out a major exception handling or logging solution at this time, it's really not that kind of project yet.  As you can tell I don't have a lot of experience with exception handling really.  I don't know what the error is, so breaking the connection string was just a test to try and get deeper exceptions up to the surface.</p>\n"}, {"tags": ["c#", "wpf", "data-binding"], "comments": [{"owner": {"reputation": 1000, "user_id": 1366407, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2D1g2.jpg?s=128&g=1", "display_name": "LadderLogic", "link": "https://stackoverflow.com/users/1366407/ladderlogic"}, "edited": false, "score": 0, "creation_date": 1535585813, "post_id": 52086798, "comment_id": 91125133, "body": "are you saying that textbox with Host binding is working properly, but not the FeedStatus? your VM code looks good to raise FeedStatus property changed."}, {"owner": {"reputation": 1000, "user_id": 1366407, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2D1g2.jpg?s=128&g=1", "display_name": "LadderLogic", "link": "https://stackoverflow.com/users/1366407/ladderlogic"}, "edited": false, "score": 1, "creation_date": 1535586345, "post_id": 52086798, "comment_id": 91125240, "body": "Also, the UpdateSourceTrigger doesn&#39;t make sense on the TextBlock. This is telling WPF when to update the source property of the view model. Textblock is not editable, so there won&#39;t be a change to update the source property"}, {"owner": {"reputation": 6454, "user_id": 376527, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2014672faa0530abc886adf5725c5127?s=128&d=identicon&r=PG", "display_name": "Sam Goldberg", "link": "https://stackoverflow.com/users/376527/sam-goldberg"}, "reply_to_user": {"reputation": 1000, "user_id": 1366407, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2D1g2.jpg?s=128&g=1", "display_name": "LadderLogic", "link": "https://stackoverflow.com/users/1366407/ladderlogic"}, "edited": false, "score": 0, "creation_date": 1535614432, "post_id": 52086798, "comment_id": 91132799, "body": "@LadderLogic: The FeedStatus binding is working correctly, as far as displaying the <i>initial</i> value.  The problem as that when the FeedStatus property is updated with a new value, the new value does not show in TextBlock.  As far as I can tell, the problem is that no PropertyChanged event handler is being attached to the PropertyChanged event.  I thought that by setting the _MarketDataViewModel _ as the DataContext in the Window, that somehow the Window would attach to its PropertyChanged event and then propagate events to the children.  But this is not happening."}, {"owner": {"reputation": 6454, "user_id": 376527, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2014672faa0530abc886adf5725c5127?s=128&d=identicon&r=PG", "display_name": "Sam Goldberg", "link": "https://stackoverflow.com/users/376527/sam-goldberg"}, "reply_to_user": {"reputation": 1000, "user_id": 1366407, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2D1g2.jpg?s=128&g=1", "display_name": "LadderLogic", "link": "https://stackoverflow.com/users/1366407/ladderlogic"}, "edited": false, "score": 0, "creation_date": 1535614621, "post_id": 52086798, "comment_id": 91132907, "body": "@LadderLogic: re: UpdateSourceTrigger - yes, you&#39;re correct.  That was a left-over from my flailing around trying to find how to get something to attach to the ViewModel&#39;s PropertyChanged event."}], "answers": [{"comments": [{"owner": {"reputation": 6454, "user_id": 376527, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2014672faa0530abc886adf5725c5127?s=128&d=identicon&r=PG", "display_name": "Sam Goldberg", "link": "https://stackoverflow.com/users/376527/sam-goldberg"}, "edited": false, "score": 0, "creation_date": 1535639704, "post_id": 52087102, "comment_id": 91149820, "body": "Yes, silly mistake.  I thought for some reason the <code>[CallerMemberName]</code> annotation was going to auto-magically change the Property to its name.  However, once I changed the code as you suggested, it started working fine."}], "tags": [], "owner": {"reputation": 79, "user_id": 6174033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d913f9d5339a2409d53c550542207f61?s=128&d=identicon&r=PG&f=1", "display_name": "Olman Carballo Tellez", "link": "https://stackoverflow.com/users/6174033/olman-carballo-tellez"}, "is_accepted": true, "score": 3, "last_activity_date": 1535606706, "last_edit_date": 1535606706, "creation_date": 1535583069, "answer_id": 52087102, "question_id": 52086798, "link": "https://stackoverflow.com/questions/52086798/wpf-databinding-propertychange-handler-not-being-set/52087102#52087102", "title": "WPF Databinding - PropertyChange handler not being set", "body": "<p>You are passing the <code>FeedStatus</code> property value to the <code>OnPropertyChanged</code> method, instead of its name. It should look like this:</p>\n\n<pre><code>OnPropertyChanged(\"FeedStatus\");\n</code></pre>\n\n<p>or better this:</p>\n\n<pre><code>OnPropertyChanged(nameof(FeedStatus));\n</code></pre>\n"}], "owner": {"reputation": 6454, "user_id": 376527, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2014672faa0530abc886adf5725c5127?s=128&d=identicon&r=PG", "display_name": "Sam Goldberg", "link": "https://stackoverflow.com/users/376527/sam-goldberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 52087102, "answer_count": 1, "score": 0, "last_activity_date": 1535614489, "creation_date": 1535580865, "last_edit_date": 1535614489, "question_id": 52086798, "link": "https://stackoverflow.com/questions/52086798/wpf-databinding-propertychange-handler-not-being-set", "title": "WPF Databinding - PropertyChange handler not being set", "body": "<p>I have a WPF Window which has its DataContext set to a ViewModel object, and which has child controls databound to properties of that DataContext (ViewModel) object.  Those databound controls are correctly displaying the data from the ViewModel object.  However, there is a StatusBar containing a TextBlock, which is supposed to update when the underlying ViewModel object's bound property changes -- and TextBlock is not updating.  </p>\n\n<p>The problem is due to the fact that nothing is attaching to the ViewModel object's <code>PropertyChanged</code> event during the binding (or when it is set as the DataContext), and so notification of changes to the data are not routed to the TextBlock  control.</p>\n\n<p>The abbreviated XAML is this:</p>\n\n<pre><code>Window x:Class=\"MarketFeedViewer.MainWindow\"\n        xmlns:marketFeedViewer=\"clr-namespace:MarketFeedViewer\"\n        mc:Ignorable=\"d\"\n        Title=\"Market Data Viewer\" Height=\"500\" Width=\"300\" &gt;\n    &lt;Window.DataContext&gt;\n        &lt;marketFeedViewer:MarketDataViewModel /&gt;\n    &lt;/Window.DataContext&gt;\n\n    &lt;Grid Margin=\"0,0,0,0\"&gt;\n        &lt;WrapPanel  HorizontalAlignment=\"Center\" VerticalAlignment=\"Top\" Grid.Row=\"0\" Grid.ColumnSpan=\"2\" Margin=\"0,3,3,0\"&gt;\n            &lt;Label&gt;Host&lt;/Label&gt;\n            &lt;TextBox x:Name=\"Host\" VerticalContentAlignment=\"Center\" MinWidth=\"100\" Text=\"{Binding Host}\" /&gt;\n\n            &lt;Label Content=\"Port\" /&gt;\n            &lt;TextBox x:Name=\"Port\" MinWidth=\"50\" VerticalContentAlignment=\"Center\"  Text=\"{Binding Port}\"/&gt;\n        &lt;/WrapPanel&gt;\n        &lt;DataGrid x:Name=\"PricesGrid\"  HorizontalAlignment=\"Center\" Margin=\"5,5,5,5\" Grid.Row=\"1\" Grid.ColumnSpan=\"2\"\n                  Grid.Column=\"0\"\n                  VerticalAlignment=\"Stretch\"\n\n                  ItemsSource=\"{Binding MarketData}\"\n                  MinHeight=\"200\" MinWidth=\"200\" VerticalScrollBarVisibility=\"Auto\"/&gt;\n &lt;StatusBar Grid.Row=\"3\" Grid.ColumnSpan=\"2\" Grid.Column=\"0\"&gt;\n            &lt;StatusBarItem HorizontalAlignment=\"Right\"&gt;\n                &lt;TextBlock Name=\"StatusText\"  Text=\"{Binding FeedStatus}\" /&gt;\n            &lt;/StatusBarItem&gt;\n\n        &lt;/StatusBar&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>The ViewModel class implements <code>INotifyPropertyChanged</code>, and when the Status Bar's underlying property is updated from a background thread, it is firing the PropertyChange event:</p>\n\n<pre><code>public class MarketDataViewModel : INotifyPropertyChanged\n    { \n\n    public ObservableCollection&lt;WPFL1Data&gt; MarketData { get; set; }\n\n    ...\n\n    public string FeedStatus\n    {\n        get { return GetStatus(); }\n    }\n       ...\n       ...\n    private void ClientOnOnStateChange(object sender, MarketFeedConnectionState e)\n    {\n        if (App.IsInvokeRequired)\n        {\n            App.InvokeMethod(() =&gt; ClientOnOnStateChange(sender, e));\n            return;\n        }\n\n        ...\n        // here is where Status Bar's TextBlock should be notified\n        // that value has changed.\n        OnPropertyChanged(FeedStatus);\n    }\n\n    [NotifyPropertyChangedInvocator]\n    protected virtual void OnPropertyChanged([CallerMemberName] string propertyName = null)\n    {\n        var handler = PropertyChanged;\n        // problem is here: handler ==  null\n        if (handler != null) handler(this, new PropertyChangedEventArgs(propertyName));\n    }\n</code></pre>\n\n<p>What is the missing piece of code of XAML configuration?</p>\n"}, {"tags": ["c#", "entity-framework", "nullreferenceexception"], "comments": [{"owner": {"reputation": 1218, "user_id": 9801177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TZohj.png?s=128&g=1", "display_name": "Pietro Nadalini", "link": "https://stackoverflow.com/users/9801177/pietro-nadalini"}, "edited": false, "score": 0, "creation_date": 1535581106, "post_id": 52086770, "comment_id": 91123901, "body": "What are the fields you&#39;re trying to set as <code>null</code>?"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1535581177, "post_id": 52086770, "comment_id": 91123924, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4660142/what-is-a-nullreferenceexception-and-how-do-i-fix-it\">What is a NullReferenceException, and how do I fix it?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5331, "user_id": 4256749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lpRO.png?s=128&g=1", "display_name": "Kzrystof", "link": "https://stackoverflow.com/users/4256749/kzrystof"}, "is_accepted": true, "score": 1, "last_activity_date": 1535581138, "creation_date": 1535581138, "answer_id": 52086842, "question_id": 52086770, "link": "https://stackoverflow.com/questions/52086770/insert-stored-procedure-with-set-null-parameters-in-entity-framework/52086842#52086842", "title": "insert stored procedure with set null parameters in entity framework", "body": "<p>By look at the exception, it says that the <code>ComboBox</code> does not have any value selected. It is not about SQL Server not accepting <code>null</code> at this point. </p>\n\n<p>With that information, you should check that one value is selected, meaning it is not <code>null</code>, like this:</p>\n\n<pre><code>object selectedValue = comboBox1.SelectedValue;\n\nif(selectedValue != null)\n{\n    ppp.birth_provice = Convert.ToInt32(selectedValue.ToString()),\n}\n</code></pre>\n\n<p>On top of that, you may want to consider using <code>Int32.TryParse</code> to make sure the selected value is an actual integer.</p>\n"}], "owner": {"reputation": 140, "user_id": 8254069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccc6f7668f2e67ab511bbb3a98d8b7a0?s=128&d=identicon&r=PG&f=1", "display_name": "solmaz ahamdi", "link": "https://stackoverflow.com/users/8254069/solmaz-ahamdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 52086842, "answer_count": 1, "score": 0, "last_activity_date": 1535581138, "creation_date": 1535580738, "last_edit_date": 1535580992, "question_id": 52086770, "link": "https://stackoverflow.com/questions/52086770/insert-stored-procedure-with-set-null-parameters-in-entity-framework", "title": "insert stored procedure with set null parameters in entity framework", "body": "<p>I want to insert <code>null</code> parameter in some values, but I get the following error :</p>\n\n<blockquote>\n  <p>System.NullReferenceException: 'Object reference not set to an\n  instance of an object.'\n  System.Windows.Forms.ListControl.SelectedValue.get returned null.</p>\n</blockquote>\n\n<p>The program is a <code>Windows Forms</code> application, and the code is as follows:</p>\n\n<pre><code>using (var context = new SamenEntities())\n{\n    person ppp = new person()\n    {\n        id = textBox1.Text.Trim(),\n        name = textBox2.Text.Trim(),\n        family = textBox3.Text.Trim(),\n        birth_date = dateTimePicker1.Value,\n        birth_provice = Convert.ToInt32(comboBox1.SelectedValue.ToString()),\n        note = richTextBox1.Text.Trim(),\n        img_personal = ImageToByteArray(pictureBox1.Image),\n        date_register = DateTime.Now\n    };\n\n    context.persons.Add(ppp);\n    context.SaveChanges();\n}\n</code></pre>\n\n<p>How to enter <code>null</code> value or enter default value from SQL server?</p>\n"}, {"tags": ["c#", "user-interface", "unity3d", "canvas", "mapping"], "comments": [{"owner": {"reputation": 1795, "user_id": 7597141, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O-BTekkuWYs/AAAAAAAAAAI/AAAAAAAAAFg/_hF_bw8U_D4/photo.jpg?sz=128", "display_name": "Hristo", "link": "https://stackoverflow.com/users/7597141/hristo"}, "edited": false, "score": 0, "creation_date": 1535616487, "post_id": 52086759, "comment_id": 91134053, "body": "I presume this script is attached to your cube. I think you could try setting the parent of your UI element, to the Canvas."}, {"owner": {"reputation": 2064, "user_id": 5716477, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/iPOXu.jpg?s=128&g=1", "display_name": "FutureCake", "link": "https://stackoverflow.com/users/5716477/futurecake"}, "reply_to_user": {"reputation": 1795, "user_id": 7597141, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O-BTekkuWYs/AAAAAAAAAAI/AAAAAAAAAFg/_hF_bw8U_D4/photo.jpg?sz=128", "display_name": "Hristo", "link": "https://stackoverflow.com/users/7597141/hristo"}, "edited": false, "score": 0, "creation_date": 1535639995, "post_id": 52086759, "comment_id": 91150015, "body": "thanks for the suggestion totally forgot about that. But it sadly doesnt change anything, still having the same problem. See the updated question"}], "answers": [{"comments": [{"owner": {"reputation": 2064, "user_id": 5716477, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/iPOXu.jpg?s=128&g=1", "display_name": "FutureCake", "link": "https://stackoverflow.com/users/5716477/futurecake"}, "edited": false, "score": 1, "creation_date": 1536072147, "post_id": 52106561, "comment_id": 91287911, "body": "I see your answer works great even with keeping the pivot point of the UI element on the top left. But why is this happening since i redid my coordinate translation calculations in an other programming enviroment and there it worked just fine. So what makes it so that unity fails? Great answer doh!"}, {"owner": {"reputation": 748, "user_id": 10287106, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBKdI.png?s=128&g=1", "display_name": "AnLog", "link": "https://stackoverflow.com/users/10287106/anlog"}, "reply_to_user": {"reputation": 2064, "user_id": 5716477, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/iPOXu.jpg?s=128&g=1", "display_name": "FutureCake", "link": "https://stackoverflow.com/users/5716477/futurecake"}, "edited": false, "score": 0, "creation_date": 1536072890, "post_id": 52106561, "comment_id": 91288432, "body": "Weird. It did not work for me with the pivot top left when I tried it; it had to be set to bottom left. I&#39;m honestly not sure what is the cause of this peculiarity. If I ever fidget again and figure out, I&#39;ll lodge a comment."}, {"owner": {"reputation": 2064, "user_id": 5716477, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/iPOXu.jpg?s=128&g=1", "display_name": "FutureCake", "link": "https://stackoverflow.com/users/5716477/futurecake"}, "edited": false, "score": 0, "creation_date": 1536075284, "post_id": 52106561, "comment_id": 91289997, "body": "awesome, that&#39;s great!"}], "tags": [], "owner": {"reputation": 748, "user_id": 10287106, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBKdI.png?s=128&g=1", "display_name": "AnLog", "link": "https://stackoverflow.com/users/10287106/anlog"}, "is_accepted": true, "score": 1, "last_activity_date": 1535670910, "creation_date": 1535670910, "answer_id": 52106561, "question_id": 52086759, "link": "https://stackoverflow.com/questions/52086759/unity-worldtoviewportpoint-not-giving-correct-y-position/52106561#52106561", "title": "Unity WorldToViewPortPoint not giving correct y position", "body": "<p>A minimal edit to your code that gets the desired effect:</p>\n\n<pre><code>public class Test : MonoBehaviour\n{\n\n    public Camera MainC;\n    public GameObject testc;\n\n    // Use this for initialization\n    void Start()\n    {\n        var ui = Object.Instantiate((GameObject)Resources.Load(\"uit\"), Vector2.zero, Quaternion.identity);\n        ui.transform.SetParent(GameObject.FindObjectOfType&lt;Canvas&gt;().gameObject.transform, false);\n        var uiRT = ui.GetComponent&lt;RectTransform&gt;();\n        // Ensure uiRT's pivot and anchors are set to the bottom left preset.\n        uiRT.anchorMin = Vector2.zero;\n        uiRT.anchorMax = Vector2.zero;\n        uiRT.pivot = Vector2.zero;\n\n        var vertexs = testc.GetComponent&lt;MeshFilter&gt;().mesh.vertices;\n        var trs = testc.GetComponent&lt;Transform&gt;();\n        var cdc = new Vector2(GameObject.FindObjectOfType&lt;Canvas&gt;().GetComponent&lt;RectTransform&gt;().sizeDelta.x, GameObject.FindObjectOfType&lt;Canvas&gt;().GetComponent&lt;RectTransform&gt;().sizeDelta.y);\n\n        Object.Instantiate((GameObject)Resources.Load(\"pinksphere\"), trs.transform.TransformPoint(vertexs[6]), Quaternion.identity); //bottomright\n        Object.Instantiate((GameObject)Resources.Load(\"pinksphere\"), trs.transform.TransformPoint(vertexs[5]), Quaternion.identity); //topleft\n\n        var tl = MainC.WorldToViewportPoint(trs.transform.TransformPoint(vertexs[5]));\n\n        var offset = new Vector2(0, uiRT.sizeDelta.y);\n        var topleft = tl * cdc - offset;\n        uiRT.anchoredPosition = topleft;\n    }\n}\n</code></pre>\n\n<p>Your UI image's pivot and anchors <em>must</em> be set to Bottom Left for this to work:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Mlf6d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mlf6d.png\" alt=\"UI Image pivot and anchors set to bottom left\"></a></p>\n\n<p>I've added code that will ensure the pivot and anchors are set this way. You may remove it as long as you ensure the prefabs have the bottom left preset, but it's safer this way.</p>\n\n<p>The reasoning for doing it this way is the following:</p>\n\n<p>Viewport coordinates have the 0,0 origin point in the bottom left, so if you set the pivot and anchors there it all lines up and you don't need to do any translation of coordinates - it just saves a lot of headache. The only thing that's left is to subtract the height of the UI Image in order to get it to line up vertically with the 3D cube.</p>\n"}], "owner": {"reputation": 2064, "user_id": 5716477, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/iPOXu.jpg?s=128&g=1", "display_name": "FutureCake", "link": "https://stackoverflow.com/users/5716477/futurecake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 779, "favorite_count": 0, "accepted_answer_id": 52106561, "answer_count": 1, "score": 1, "last_activity_date": 1535670910, "creation_date": 1535580656, "last_edit_date": 1535639941, "question_id": 52086759, "link": "https://stackoverflow.com/questions/52086759/unity-worldtoviewportpoint-not-giving-correct-y-position", "title": "Unity WorldToViewPortPoint not giving correct y position", "body": "<p>I have a script that places an UI element on the place where a 3d object is in 3d space. I do this in the following way: </p>\n\n<pre><code>public class test : MonoBehaviour {\n\npublic Camera MainC;\npublic GameObject testc;\n\n// Use this for initialization\nvoid Start () {\n    var ui = Object.Instantiate((GameObject)Resources.Load(\"uit\"), Vector2.zero, Quaternion.identity);\n    ui.transform.SetParent(GameObject.FindObjectOfType&lt;Canvas&gt;().gameObject.transform, false);\n\n    var vertexs = testc.GetComponent&lt;MeshFilter&gt;().mesh.vertices;\n    var trs = testc.GetComponent&lt;Transform&gt;();\n    var cdc = new Vector2(GameObject.FindObjectOfType&lt;Canvas&gt;().GetComponent&lt;RectTransform&gt;().sizeDelta.x , GameObject.FindObjectOfType&lt;Canvas&gt;().GetComponent&lt;RectTransform&gt;().sizeDelta.y); \n\n    Object.Instantiate((GameObject)Resources.Load(\"pinksphere\"), trs.transform.TransformPoint(vertexs[6]), Quaternion.identity); //bottomright\n    Object.Instantiate((GameObject)Resources.Load(\"pinksphere\"), trs.transform.TransformPoint(vertexs[5]), Quaternion.identity); //topleft\n\n    var tl = MainC.WorldToViewportPoint(trs.transform.TransformPoint(vertexs[5]));\n\n    var topleft = new Vector2(tl.x * cdc.x, tl.y * -(cdc.y) );\n    ui.GetComponent&lt;RectTransform&gt;().anchoredPosition = topleft;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>But this does not place the UI Element on the desired position. See the following images for more explaination. </p>\n\n<p><a href=\"https://i.stack.imgur.com/Sbrim.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sbrim.png\" alt=\"enter image description here\"></a></p>\n\n<p>in this case i want the TOPLEFT corner of the UI element to be ontop of the pink dot at the TOPLEFT of the whitecube. But as you can see the Y-axis doesnt quite match..</p>\n\n<p>Some extra information about the conditions like canvas used and the prefab settings. See images below: </p>\n\n<p><a href=\"https://i.stack.imgur.com/vjomY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vjomY.png\" alt=\"enter image description here\"></a>\nthese are the canvas settings.   </p>\n\n<p><a href=\"https://i.stack.imgur.com/I3vPp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I3vPp.png\" alt=\"enter image description here\"></a>\nthis are the Main Camera settings. </p>\n\n<p><a href=\"https://i.stack.imgur.com/KrdTf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KrdTf.png\" alt=\"enter image description here\"></a>\nand this are the UI prefab settings. </p>\n\n<p>If you need any more information or something isnt clear let me know so i can clarify!<br>\nthe code is really inefficient and ugly but it is only for testing purposes :)</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 386, "user_id": 8242696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30d156727d19a63b70ba89bf028f23e8?s=128&d=identicon&r=PG&f=1", "display_name": "Devin L.", "link": "https://stackoverflow.com/users/8242696/devin-l"}, "edited": false, "score": 0, "creation_date": 1535581769, "post_id": 52086748, "comment_id": 91124091, "body": "Maybe try to refactor the second switch into its own method. If that doesn&#39;t work, then I don&#39;t know"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1535583945, "post_id": 52086748, "comment_id": 91124666, "body": "Just a quick caution, I see you are using <code>AttributeType</code>. Be warned that <code>System.Attribute</code> is probably in scope in most of your code, and that you don&#39;t want to get into a situation where you are possibly confusing C# attributes with your game attributes."}, {"owner": {"reputation": 13, "user_id": 10292169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831dc23f4a25bd200a90b41f30ad6e59?s=128&d=identicon&r=PG&f=1", "display_name": "James Taggart", "link": "https://stackoverflow.com/users/10292169/james-taggart"}, "edited": false, "score": 0, "creation_date": 1535595063, "post_id": 52086748, "comment_id": 91126888, "body": "Ah, that&#39;s good to know. I had no idea that was a key word. I&#39;ll probably end up renaming the variable then."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1535651050, "post_id": 52086748, "comment_id": 91156262, "body": "It&#39;s not a keyword per se, but it is a member of <code>System</code> and you almost certainly have <code>using System;</code> in a lot of your files, so you will get it in scope for free."}], "answers": [{"comments": [{"owner": {"reputation": 72582, "user_id": 27204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29671a1757eb710d42d327926b5e08b5?s=128&d=identicon&r=PG", "display_name": "gnud", "link": "https://stackoverflow.com/users/27204/gnud"}, "edited": false, "score": 2, "creation_date": 1535582624, "post_id": 52087032, "comment_id": 91124318, "body": "This was the answer I was in the process of writing :) I also wonder if enums and switches are really the best solution, especially for the Army and Unit level. Would not a simple collection and an index be easier?"}, {"owner": {"reputation": 13, "user_id": 10292169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831dc23f4a25bd200a90b41f30ad6e59?s=128&d=identicon&r=PG&f=1", "display_name": "James Taggart", "link": "https://stackoverflow.com/users/10292169/james-taggart"}, "edited": false, "score": 0, "creation_date": 1535649782, "post_id": 52087032, "comment_id": 91155689, "body": "Thank you! This really helps. I learned a lot just by reading it."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 13, "user_id": 10292169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831dc23f4a25bd200a90b41f30ad6e59?s=128&d=identicon&r=PG&f=1", "display_name": "James Taggart", "link": "https://stackoverflow.com/users/10292169/james-taggart"}, "edited": false, "score": 0, "creation_date": 1535650831, "post_id": 52087032, "comment_id": 91156183, "body": "@JamesTaggart: You&#39;re welcome. Your current logic is quite amenable to being broken down into small parts like this, but as your game logic gets more complex, you&#39;re going to run into the problem of &quot;what happens when cavalry armed with lances meets footmen defending with pikes on a hillside in the rain?&quot; and so on. It is very easy to write an even more huge mess than the one you&#39;ve already got!  I wrote a series about how attempts to solve this problem with traditional OO programming fail, though I don&#39;t really offer a concrete solution. You might find it interesting. I&#39;ll add a link."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 6, "last_activity_date": 1535650903, "last_edit_date": 1535650903, "creation_date": 1535582514, "answer_id": 52087032, "question_id": 52086748, "link": "https://stackoverflow.com/questions/52086748/replacing-nested-switch-statements/52087032#52087032", "title": "Replacing Nested Switch Statements", "body": "<p>You've got the logic inside-out; that's what's creating your problem.  Do it in the other order, and break everything up into tiny methods:</p>\n\n<pre><code>Army GetArmy(ArmyNum a)\n{\n  switch(a)\n  {\n    case ArmyNum.army1: return controller.army1;\n    ...\n  }\n}\n\nUnit GetUnit(Army a, UnitNum u)\n{\n  switch(u)\n  {\n    case UnitNum.unit1: return a.unit1;\n    ...\n  }\n}\n\nvoid ChangeAttribute(GameAttribute a, Army a, Unit u)\n{\n  switch (attributeToChange) {\n    case GameAttribute.Accuracy:\n      u.accuracy += 1;\n      break;\n      ...\n</code></pre>\n\n<p>And now the call site is simply:</p>\n\n<pre><code>Army a = GetArmy(activeArmy);\nUnit u = GetUnit(a, unitToChange);\nChangeAttribute(attributeToChange, a, u); \n</code></pre>\n\n<p>The lesson here is <strong>make small methods each of which does one thing extremely well</strong>.  Then compose more complex methods out of those smaller methods.</p>\n\n<p>Once you have done so, then you can start to change your implementation details.  For example, we might notice that <code>GetUnit</code> is properly a method of <code>Army</code>, so we'd change its signature to </p>\n\n<pre><code>Unit GetUnit(UnitNum u) // Now a method of Army\n{\n  switch(u)\n  {\n    case UnitNum.unit1: return this.unit1; // this, not 'a'.\n    ...\n  }\n}\n</code></pre>\n\n<p>And now the call site is</p>\n\n<pre><code>Army a = GetArmy(activeArmy);\nUnit u = a.GetUnit(unitToChange);\nChangeAttribute(attributeToChange, a, u); \n</code></pre>\n\n<p>which is plainly better.</p>\n\n<p>Now suppose you make a <code>Dictionary&lt;ArmyNum, Army&gt;</code> called <code>Armies</code>.  You then rewrite:</p>\n\n<pre><code>Army GetArmy(ArmyNum a) =&gt; Armies[a];\n</code></pre>\n\n<p>And similarly for GetUnits.  Once you're there, you can find sites where you use <code>GetArmy</code> and <code>GetUnit</code> and replace it with <code>Armies[a]</code> and <code>Armies[a].Units[u]</code> and so on.</p>\n\n<p>Your notion of moving towards a world where everything is parameterized is a good idea. <strong>Get there gradually</strong> by making <strong>small changes, each one of which is plainly correct</strong>.</p>\n\n<p>An <strong>advanced</strong> solution would be to make the actions associated with <em>delegates</em>:</p>\n\n<pre><code>actions = new Dictionary&lt;GameAttribute, Action&lt;Army, Unit&gt;&gt;() \n{\n  { Attribute.Accuracy, (a, u) =&gt; { u.accuracy += 1; } }, \n  ...\n};\n</code></pre>\n\n<p>and then you could write:</p>\n\n<pre><code>a = Armies[army];\nu = a.Units[unit]\nactions[attribute](a, u);\n</code></pre>\n\n<p>But walk before you run! As your program logic gets more complex, you will find that you are again making huge messes of complicated code, and then you'll try to organize it into classes using good OO principles, and <strong>that could make it worse</strong>.  I wrote a series of articles on how using OO to attempt to solve these sorts of problems goes wrong; if this topic interests you, see <a href=\"https://ericlippert.com/2015/04/27/wizards-and-warriors-part-one/\" rel=\"nofollow noreferrer\">https://ericlippert.com/2015/04/27/wizards-and-warriors-part-one/</a></p>\n"}, {"comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1535583988, "post_id": 52087177, "comment_id": 91124677, "body": "That&#39;s a reasonable architecture. As I just noted in a comment to the original poster, try to avoid using <code>Attribute</code> as it is too easily confused with <code>System.Attribute</code>."}], "tags": [], "owner": {"reputation": 5487, "user_id": 4820436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/09r1w.png?s=128&g=1", "display_name": "Ben Rubin", "link": "https://stackoverflow.com/users/4820436/ben-rubin"}, "is_accepted": false, "score": 1, "last_activity_date": 1535584227, "last_edit_date": 1535584227, "creation_date": 1535583684, "answer_id": 52087177, "question_id": 52086748, "link": "https://stackoverflow.com/questions/52086748/replacing-nested-switch-statements/52087177#52087177", "title": "Replacing Nested Switch Statements", "body": "<p>Here's a flexible architecture that you could try.  I'd recommend using string identifiers for your armies/units/attributes instead of enums because with enums you're locking your into a set list of values, and you could never have more armies or units that what's in your enum.</p>\n\n<p>If you keep using enums, set the <code>Army</code>/<code>Unit</code>/<code>Attribute</code> objects' <code>Name</code> property to the enum's <code>ToString</code> value to make this code work.  For example, <code>army.Name = ArmyTypes.Navy.ToString()</code></p>\n\n<pre><code>public class Army\n{\n    // The army's name\n    public string Name { get; set; }\n\n    // List of units in the army\n    public List&lt;Unit&gt; Units { get; set; }\n\n    // Get the named unit from this army\n    public Unit GetUnit(string name)\n    {\n        foreach (var unit in this.Units)\n        {\n            // Case insensitive comparison\n            if (string.Compare(unit.Name, name, true) == 0)\n            {\n                return unit;\n            }\n        }\n        return null;\n    }\n}\n\npublic class Unit\n{\n    // The unit's name\n    public string Name { get; set; }\n\n    // The unit's attributes\n    public List&lt;UnitAttribute&gt; Attributes { get; set; }\n\n    // Get the named attribute from this army\n    public UnitAttribute GetAttribute(string name)\n    {\n        foreach (var attribute in this.Attributes)\n        {\n            if (string.Compare(attribute.Name, name, true) == 0)\n            {\n                return attribute;\n            }\n        }\n        return null;\n    }\n}\n\npublic class UnitAttribute\n{\n    // The attribute's name\n    public string Name { get; set; }\n\n    // Current attribute value and maximum attribute value\n    public int CurrentValue { get; set; }\n    public int MaxValue { get; set; }\n\n    // Add a value to this attribute and don't let it go above its maximum\n    public void Add(int value)\n    {\n        this.CurrentValue += value;\n        if (this.CurrentValue &gt; this.MaxValue)\n        {\n            this.CurrentValue = this.MaxValue;\n        }\n    }\n}\n\npublic class Controller\n{\n    public List&lt;Army&gt; Armies { get; set; }\n\n    // I'd recommend using string parameters for your buttons instead \n    // of enum parameters, but you can do it either way\n    public void ModifyUnitButtonHandler(ArmyTypes army, UnitTypes unit, UnitAttributeTypes attribute, int value)\n    {\n        // I'm not sure if the ? operator exists in Unity's default .NET version.\n        // If not, you can use a few if/then statements to make sure that nothing\n        // returns null\n        GetArmy(army.ToString())?\n            .GetUnit(unit.ToString())?\n            .GetAttribute(attribute.ToString())?\n            .Add(value);\n    }\n\n    private Army GetArmy(string name)\n    {\n        foreach (var army in this.Armies)\n        {\n            if (string.Compare(name, army.Name, true) == 0)\n            {\n                return army;\n            }                \n        }\n        return null;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10292169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831dc23f4a25bd200a90b41f30ad6e59?s=128&d=identicon&r=PG&f=1", "display_name": "James Taggart", "link": "https://stackoverflow.com/users/10292169/james-taggart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 799, "favorite_count": 0, "accepted_answer_id": 52087032, "answer_count": 2, "score": 1, "last_activity_date": 1535650903, "creation_date": 1535580589, "last_edit_date": 1535582838, "question_id": 52086748, "link": "https://stackoverflow.com/questions/52086748/replacing-nested-switch-statements", "title": "Replacing Nested Switch Statements", "body": "<p>I'm trying to make a multipurpose script for buttons that modify variables inside of my static game controller. When clicked, each should modify the correct variable that they are bound to by serialized enums. The idea being that I can slap them on any button and just change what they do to what data by changing a few flags on the button script instance.</p>\n\n<p>The trouble comes with the number of possible permutations, I have two 'Armies' each with four 'Units' that have five 'Attributes' each. I end up with a really dense looking mess of code that I'm sure could be solved somehow but I can't find any solution. </p>\n\n<p>(For clarity <code>activeArmy</code>, <code>unitToChange</code>, <code>unitNum</code>, and <code>attributeToChange</code> are all <code>enums</code>)</p>\n\n<pre><code>if (activeArmy == ArmyNum.army1)\n{\n    switch (attributeToChange)\n    {\n        case AttributeType.Accuracy:\n            switch (unitToChange)\n            {\n                case UnitNum.unit1:\n                    //if it's not too large\n                    GameController.controller.army1.unit1.accuracy++;\n                    //recalculate unit cost\n                    GameController.controller.army1.unit1.RecalculateCost()\n                    //then give the new number to the UI to display it\n                    break;\n</code></pre>\n\n<p>Now I'd love to be able to do something like this:</p>\n\n<pre><code>GameController.controller.[activeArmy].[unitToChange].[attributeToChange]++;\n</code></pre>\n\n<p>Is that kind of pathing even possible? Is there a way to substitute in enums for paths to variables like that?</p>\n\n<p>Is this something I'd solve by changing my architecture?</p>\n"}, {"tags": ["c#", "asp.net", "angular", "asp.net-web-api", "angular6"], "comments": [{"owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 0, "creation_date": 1535582600, "post_id": 52086741, "comment_id": 91124311, "body": "Could you add <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/formats-and-model-binding/parameter-binding-in-aspnet-web-api#using-frombody\" rel=\"nofollow noreferrer\">FromBody</a> and see it work?"}, {"owner": {"reputation": 1011, "user_id": 1662570, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/FMCLW.jpg?s=128&g=1", "display_name": "Karthick Radhakrishnan", "link": "https://stackoverflow.com/users/1662570/karthick-radhakrishnan"}, "reply_to_user": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 0, "creation_date": 1535583561, "post_id": 52086741, "comment_id": 91124586, "body": "@Win I tried that..It won&#39;t work still. I tried setting it in httpParams instead of formdata, it doesn&#39;t make much difference"}, {"owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 0, "creation_date": 1535584268, "post_id": 52086741, "comment_id": 91124750, "body": "I believe you need to append individual item as key-value pair like this - <code>formData.append(&#39;item1&#39;, &#39;value1&#39;);</code>"}, {"owner": {"reputation": 1011, "user_id": 1662570, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/FMCLW.jpg?s=128&g=1", "display_name": "Karthick Radhakrishnan", "link": "https://stackoverflow.com/users/1662570/karthick-radhakrishnan"}, "reply_to_user": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 0, "creation_date": 1535584859, "post_id": 52086741, "comment_id": 91124898, "body": "@Win That works, but my intention is to send Array of objects in future. if i send an object I start getting this issue"}, {"owner": {"reputation": 1011, "user_id": 1662570, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/FMCLW.jpg?s=128&g=1", "display_name": "Karthick Radhakrishnan", "link": "https://stackoverflow.com/users/1662570/karthick-radhakrishnan"}, "reply_to_user": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 0, "creation_date": 1535584932, "post_id": 52086741, "comment_id": 91124917, "body": "Now I Changed  const body = new HttpParams().set(&#39;CalenderSchedulesModel&#39;, JSON.stringify(sch)); I was able to see the object but sill encoded data."}, {"owner": {"reputation": 7027, "user_id": 210754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c85a96b78ee58515ba23a395b2c0f30?s=128&d=identicon&r=PG", "display_name": "No Refunds No Returns", "link": "https://stackoverflow.com/users/210754/no-refunds-no-returns"}, "edited": false, "score": 0, "creation_date": 1535591244, "post_id": 52086741, "comment_id": 91126131, "body": "I think this is another chance to write a little bit of code and use a ModelBinder.  <a href=\"https://stackoverflow.com/questions/52084903/asp-net-web-api-modelbinder-single-parameter/52087361#52087361\" title=\"asp net web api modelbinder single parameter\">stackoverflow.com/questions/52084903/&hellip;</a>"}], "owner": {"reputation": 1011, "user_id": 1662570, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/FMCLW.jpg?s=128&g=1", "display_name": "Karthick Radhakrishnan", "link": "https://stackoverflow.com/users/1662570/karthick-radhakrishnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 768, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535585105, "creation_date": 1535580549, "last_edit_date": 1535585105, "question_id": 52086741, "link": "https://stackoverflow.com/questions/52086741/convert-frombody-application-x-www-form-urlencoded-form-data-to-object-on-asp", "title": "Convert [FromBody] application/x-www-form-urlencoded form data to Object on ASP.NET WebAPI", "body": "<p>I'm posting an Object from Angular 6 UI, I'm able to get the RAW data in form body as string. The data reached to controller method too. But I was not able to cast it to an object </p>\n\n<p><strong>Angular 6 - calendar.Service.ts</strong></p>\n\n<pre><code>saveSchedules():  Observable&lt;any&gt; {\n const sch: CalenderSchedulesModel = {ScheduleDate: 'today', description: 'all is well'};\n    const formData = new FormData();\n    formData.append('CalenderSchedulesModel', JSON.stringify(sch));\n    const postOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }),\n      withCredentials: true,\n    };\n\n   return this.http.post('http://mydevserver.com/api/schedules',\n   formData,\n   postOptions)\n  .pipe(catchError(this.handleError.bind(this)))\n  .pipe(map(data =&gt;console.log(JSON.stringify(data))));\n\n}\n</code></pre>\n\n<p><strong>ASP.NET WebAPI - CalenderController.cs</strong> </p>\n\n<pre><code>[HttpPost]\npublic async System.Threading.Tasks.Task&lt;String&gt; schedules(CalenderSchedulesModel CalenderSchedulesModel)\n{\n    try { \n        string content = \"\";            \n        if (ModelState.IsValid &amp;&amp; CalenderSchedulesModel != null)\n        {\n            //  This if block is passed     \n            Logger.Info(\"CalenderSchedulesModel.ScheduleDate); //prints null\n            Logger.Info(HttpUtility.HtmlEncode(CalenderSchedulesModel.ScheduleDate)); //prints null                 \n            using (var contentStream = await this.Request.Content.ReadAsStreamAsync())\n            {\n                contentStream.Seek(0, SeekOrigin.Begin);\n                using (var sr = new StreamReader(contentStream))\n                {\n                    content = sr.ReadToEnd();                        \n                    Logger.Info(content); // prints ------WebKitFormBoundaryomeguzqYBNNqAAyg information with {\"ScheduleDate\":\"today\",\"description\":\"all is well\"}\n                }\n            }\n        }   \n    }\n    catch (Exception e)\n    {\n        Logger.Error(e.Message);\n        Logger.Error(e.ToString);\n        Logger.Error(e.StackTrace);\n    }\n    return \"Recieved 200 ok\";\n}\n</code></pre>\n\n<p>after the API called response is reieved as \"Recieved 200 ok\" . But All i need is to parsing the form data to my CalenderSchedulesModel object.</p>\n\n<p>Please find the request header for this API Call</p>\n\n<p><a href=\"https://i.stack.imgur.com/SB69Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SB69Q.png\" alt=\"enter image description here\"></a></p>\n\n<p>EDIT: Changed to HttpParams instead of sending form data</p>\n\n<pre><code>const sch: CalenderSchedulesModel = {ScheduleDate: 'today', description: 'all is well'};\n    const body = new HttpParams().set('CalenderSchedulesModel', JSON.stringify(sch));\n</code></pre>\n\n<p>Now I get object but still can't parse to C# object</p>\n\n<p><a href=\"https://i.stack.imgur.com/EBFo4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EBFo4.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1535581225, "post_id": 52086725, "comment_id": 91123938, "body": "It would be awesome if you could provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> including how that function is called and the parameters involved."}, {"owner": {"reputation": 135, "user_id": 6767944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa66f38e02c4ce6dc80084d2a87aaf92?s=128&d=identicon&r=PG&f=1", "display_name": "tdinpsp", "link": "https://stackoverflow.com/users/6767944/tdinpsp"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1535583020, "post_id": 52086725, "comment_id": 91124441, "body": "I&#39;m not sure I can easily give a complete verifiable example because it would involve a pdf file.  But the call I make to this function is like the following:  protected void btnDownload_Click(object sender, ImageClickEventArgs e) {      SaveFile.SendFile(Response, &quot;FileName.pdf&quot;, &quot;application/pdf&quot;, fileBytes); }"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1535584604, "post_id": 52086725, "comment_id": 91124836, "body": "Have you tried enclosing the fielname in double quotes. e.g. <code>...; filename=\\&quot;{fileName}\\&quot;;&quot;);</code>"}, {"owner": {"reputation": 135, "user_id": 6767944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa66f38e02c4ce6dc80084d2a87aaf92?s=128&d=identicon&r=PG&f=1", "display_name": "tdinpsp", "link": "https://stackoverflow.com/users/6767944/tdinpsp"}, "edited": false, "score": 0, "creation_date": 1535585010, "post_id": 52086725, "comment_id": 91124930, "body": "Just tried it with quotes, no difference."}, {"owner": {"reputation": 135, "user_id": 6767944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa66f38e02c4ce6dc80084d2a87aaf92?s=128&d=identicon&r=PG&f=1", "display_name": "tdinpsp", "link": "https://stackoverflow.com/users/6767944/tdinpsp"}, "edited": false, "score": 0, "creation_date": 1535585113, "post_id": 52086725, "comment_id": 91124952, "body": "So you can try a functioning example at <a href=\"http://www.inferant.com\" rel=\"nofollow noreferrer\">inferant.com</a>, just click the button to download.  You can download the actual file at <a href=\"http://www.inferant.com/c4611_sample_explain.pdf\" rel=\"nofollow noreferrer\">inferant.com/c4611_sample_explain.pdf</a> and you can download a complete project at <a href=\"http://www.inferant.com/PushFile.zip\" rel=\"nofollow noreferrer\">inferant.com/PushFile.zip</a>."}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 6767944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa66f38e02c4ce6dc80084d2a87aaf92?s=128&d=identicon&r=PG&f=1", "display_name": "tdinpsp", "link": "https://stackoverflow.com/users/6767944/tdinpsp"}, "edited": false, "score": 0, "creation_date": 1535590695, "post_id": 52087402, "comment_id": 91126031, "body": "I added Button2 to my sample with your code behind it and got the same results.  I have usually found that Chrome is the most forgiving but in this one case it&#39;s the other way round.  I&#39;m also wondering if there is some sort of setup on the server that is required."}, {"owner": {"reputation": 135, "user_id": 6767944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa66f38e02c4ce6dc80084d2a87aaf92?s=128&d=identicon&r=PG&f=1", "display_name": "tdinpsp", "link": "https://stackoverflow.com/users/6767944/tdinpsp"}, "edited": false, "score": 0, "creation_date": 1535595413, "post_id": 52087402, "comment_id": 91126965, "body": "I take it back.  It does work but only because the file actually exists in the file system.  Mine does not.  The file is only in memory and I don&#39;t want to ever write it to the file system on the server."}], "tags": [], "owner": {"reputation": 438, "user_id": 10162769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3KQ5o.jpg?s=128&g=1", "display_name": "Jos&#233; Matos", "link": "https://stackoverflow.com/users/10162769/jos%c3%a9-matos"}, "is_accepted": false, "score": 0, "last_activity_date": 1535614911, "last_edit_date": 1535614911, "creation_date": 1535585852, "answer_id": 52087402, "question_id": 52086725, "link": "https://stackoverflow.com/questions/52086725/sending-a-memory-file-to-the-client-browser-via-asp-net-works-on-edge-ie-and-f/52087402#52087402", "title": "Sending a memory file to the client browser via asp.net works on Edge, IE, and Firefox but not Chrome", "body": "<p>I use this function that works on all browsers with the advantage of working from a class outside the page:</p>\n\n<pre><code>public static void SendToBrowser(string virtualPath)\n{\n    string FilePath = HttpContext.Current.Server.MapPath(virtualPath);\n    System.IO.FileInfo TargetFile = new System.IO.FileInfo(FilePath);\n    HttpContext.Current.Response.Clear();\n    HttpContext.Current.Response.AddHeader(\"Content-Disposition\", \"attachment; filename=\" + TargetFile.Name);\n    HttpContext.Current.Response.AddHeader(\"Content-Length\", TargetFile.Length.ToString());\n    HttpContext.Current.Response.ContentType = \"application/octet-stream\";\n    HttpContext.Current.Response.WriteFile(TargetFile.FullName);\n    HttpContext.Current.Response.End();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 135, "user_id": 6767944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa66f38e02c4ce6dc80084d2a87aaf92?s=128&d=identicon&r=PG&f=1", "display_name": "tdinpsp", "link": "https://stackoverflow.com/users/6767944/tdinpsp"}, "is_accepted": false, "score": 0, "last_activity_date": 1535619406, "last_edit_date": 1535619406, "creation_date": 1535604742, "answer_id": 52089423, "question_id": 52086725, "link": "https://stackoverflow.com/questions/52086725/sending-a-memory-file-to-the-client-browser-via-asp-net-works-on-edge-ie-and-f/52089423#52089423", "title": "Sending a memory file to the client browser via asp.net works on Edge, IE, and Firefox but not Chrome", "body": "<p>The problem is the <code>response.Close();</code>, seems that Chrome doesn't like it.</p>\n\n<p>By removing that line of code it works not only in Chrome, but Firefox, IE, and Edge.</p>\n"}], "owner": {"reputation": 135, "user_id": 6767944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa66f38e02c4ce6dc80084d2a87aaf92?s=128&d=identicon&r=PG&f=1", "display_name": "tdinpsp", "link": "https://stackoverflow.com/users/6767944/tdinpsp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1535619406, "creation_date": 1535580444, "question_id": 52086725, "link": "https://stackoverflow.com/questions/52086725/sending-a-memory-file-to-the-client-browser-via-asp-net-works-on-edge-ie-and-f", "title": "Sending a memory file to the client browser via asp.net works on Edge, IE, and Firefox but not Chrome", "body": "<p>I have some generic code that I use to send files from the server to the client. I'm sending a pdf file and everything works fine in debug on my local machine no matter which browser I use. However, when I deploy onto a server the file only downloads properly with the Edge, IE or Firefox browsers but not with Chrome.</p>\n\n<p>With Chrome I get a \"Network Error\" and if I resume then it downloads the html of the webpage rather than the file.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>public static void SendFile(HttpResponse response, string fileName, string contentType, byte[] fileData)\n{\n\n    BinaryWriter writer = new BinaryWriter(response.OutputStream);\n\n\n    response.Clear();\n    response.ContentType = contentType;\n    response.AddHeader(\"Content-Disposition\", $\"attachment; filename={fileName};\");\n\n    writer.Write(fileData);\n    writer.Flush();\n\n    response.Flush();\n    response.Close();\n    response.End();\n\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "twilio", "twilio-api"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1535581625, "post_id": 52086697, "comment_id": 91124046, "body": "You can install Fiddler or some other HTTP proxy and observe the requests.  Also, nice name."}, {"owner": {"reputation": 1347, "user_id": 1055516, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/798ed7255a2bbe0634d20fad9d6858e4?s=128&d=identicon&r=PG", "display_name": "Scuba Steve", "link": "https://stackoverflow.com/users/1055516/scuba-steve"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1535581746, "post_id": 52086697, "comment_id": 91124079, "body": "Yeah I thought of using fiddler, but I use an app service on azure as my test environment. I don&#39;t usually setup my dev environment to send/receive calls from Twilio due to fussing with the firewall every-time I change spots."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1535583155, "post_id": 52086697, "comment_id": 91124486, "body": "Okay.  I don&#39;t use Twilio, but let&#39;s see.  I notice in the Twilio docs that every example of the REST client uses HTTPS.  Also, going to <a href=\"http://twilio.com\" rel=\"nofollow noreferrer\">twilio.com</a> will redirect you to the HTTPS site.  While not a direct answer, we can probably infer that Twilio is committed to using HTTPS everywhere they can. If you want a more concrete answer, you could use ILSpy to decompile the library and search for &quot;http&quot;."}, {"owner": {"reputation": 1347, "user_id": 1055516, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/798ed7255a2bbe0634d20fad9d6858e4?s=128&d=identicon&r=PG", "display_name": "Scuba Steve", "link": "https://stackoverflow.com/users/1055516/scuba-steve"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1535583529, "post_id": 52086697, "comment_id": 91124573, "body": "Hmm okay. I just got the IT guy to route 8080 to my dev machine, since I&#39;m the only dev guy around. So I think I can use fiddler and go from there."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1535651817, "post_id": 52086697, "comment_id": 91156609, "body": "Yup.  The primary difference between HTTP and HTTPS is the SSL/TLS protocol wrapping the HTTP protocol.  In the HTTPS handshake, only the URL is visible in plaintext, everything else is behind the shroud of encryption.  Browsers and servers perform this encryption/decryption transparently and automatically based on the protocol.  After the HTTPS request/response is decrypted, it&#39;s now an ordinary HTTP request/response, headers and all."}], "answers": [{"comments": [{"owner": {"reputation": 1347, "user_id": 1055516, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/798ed7255a2bbe0634d20fad9d6858e4?s=128&d=identicon&r=PG", "display_name": "Scuba Steve", "link": "https://stackoverflow.com/users/1055516/scuba-steve"}, "edited": false, "score": 0, "creation_date": 1535588895, "post_id": 52087514, "comment_id": 91125685, "body": "I can see an authorization header being attached to the request though. What makes you say they&#39;re not using HTTPS?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1535589329, "post_id": 52087514, "comment_id": 91125767, "body": "The presence of auth headers isn&#39;t related to whether the connection is protected by TLS."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1535589724, "post_id": 52087514, "comment_id": 91125857, "body": "According to <a href=\"https://github.com/twilio/twilio-csharp/blob/46bf3f014c8d02b551e339abf690d5589c40b8e7/src/Twilio/Http/Request.cs#L78\" rel=\"nofollow noreferrer\">the Request class</a>, all Twilio requests use &quot;https&quot;.  I don&#39;t understand this answer.  &quot;You can see here they are using HTTP&quot;  Nowhere in the linked file is HTTP or HTTPS specified as a protocol.  <code>HttpClient</code> does both."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1535590438, "post_id": 52087514, "comment_id": 91125987, "body": "I do not think this answer is correct.  It may have been at one time in the past, but I don&#39;t think it is now.  I downloaded the repository and searched for <code>&quot;http</code>.  This brings back <i>only</i> results containing <code>&quot;https:&#47;&#47;</code>."}, {"owner": {"reputation": 1347, "user_id": 1055516, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/798ed7255a2bbe0634d20fad9d6858e4?s=128&d=identicon&r=PG", "display_name": "Scuba Steve", "link": "https://stackoverflow.com/users/1055516/scuba-steve"}, "edited": false, "score": 0, "creation_date": 1535651500, "post_id": 52087514, "comment_id": 91156476, "body": "Good to know on the former (I had assumed that System.Net.Http would turn on TLS if you supply an authorization header).  Also good to know on the latter. I will confirm with fiddler."}], "tags": [], "owner": {"reputation": 19, "user_id": 7851386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/59LOT.jpg?s=128&g=1", "display_name": "Bruno Campiol", "link": "https://stackoverflow.com/users/7851386/bruno-campiol"}, "is_accepted": false, "score": -2, "last_activity_date": 1535594858, "last_edit_date": 1535594858, "creation_date": 1535586913, "answer_id": 52087514, "question_id": 52086697, "link": "https://stackoverflow.com/questions/52086697/will-making-call-or-sms-requests-via-the-twilio-c-libraries-always-use-https/52087514#52087514", "title": "Will making call or sms requests via the Twilio C# libraries always use HTTPS?", "body": "<p>I've developed a Twilio integration for Dell.</p>\n\n<p>They have some source code available here: </p>\n\n<p><a href=\"https://github.com/twilio/twilio-csharp\" rel=\"nofollow noreferrer\">https://github.com/twilio/twilio-csharp</a></p>\n\n<p>You can see there that they are using HTTP</p>\n\n<p><a href=\"https://github.com/twilio/twilio-csharp/blob/master/src/Twilio/Http/SystemNetHttpClient.cs\" rel=\"nofollow noreferrer\">https://github.com/twilio/twilio-csharp/blob/master/src/Twilio/Http/SystemNetHttpClient.cs</a>.</p>\n\n<p>Here at Dell, I needed to create my own Twilio implementation based on their REST API because of security concerns using HTTP.</p>\n\n<p>Therefore, I highly recommend you to develop by yourself and make sure to use the HTTPS protocol.</p>\n"}, {"comments": [{"owner": {"reputation": 1347, "user_id": 1055516, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/798ed7255a2bbe0634d20fad9d6858e4?s=128&d=identicon&r=PG", "display_name": "Scuba Steve", "link": "https://stackoverflow.com/users/1055516/scuba-steve"}, "edited": false, "score": 0, "creation_date": 1536098670, "post_id": 52107303, "comment_id": 91299999, "body": "Thanks Phil. That makes sense, but wanted to confirm."}], "tags": [], "owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "is_accepted": true, "score": 2, "last_activity_date": 1535678633, "creation_date": 1535678633, "answer_id": 52107303, "question_id": 52086697, "link": "https://stackoverflow.com/questions/52086697/will-making-call-or-sms-requests-via-the-twilio-c-libraries-always-use-https/52107303#52107303", "title": "Will making call or sms requests via the Twilio C# libraries always use HTTPS?", "body": "<p>Twilio developer evangelist here.</p>\n\n<p>The API is only available over https at the base URL <code>https://api.twilio.com</code>. Also, all the officialy Twilio libraries, including the C# one, are setup to use https by default.</p>\n"}], "owner": {"reputation": 1347, "user_id": 1055516, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/798ed7255a2bbe0634d20fad9d6858e4?s=128&d=identicon&r=PG", "display_name": "Scuba Steve", "link": "https://stackoverflow.com/users/1055516/scuba-steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 52107303, "answer_count": 2, "score": 1, "last_activity_date": 1535939168, "creation_date": 1535580303, "last_edit_date": 1535589108, "question_id": 52086697, "link": "https://stackoverflow.com/questions/52086697/will-making-call-or-sms-requests-via-the-twilio-c-libraries-always-use-https", "title": "Will making call or sms requests via the Twilio C# libraries always use HTTPS?", "body": "<p>So I have some code that makes a call to the Twilio web API via the Twilio supplied C#.Net Libraries.</p>\n\n<pre><code>private static void SendSMS(Shift_Offer so, Callout co, testdb2Entities5 db)\n{\n\n    co.status = CalloutStatus.inprogress;\n\n    string ShMessage = getShiftMessage(so, co, db);\n    so.offer_timestamp = DateTime.Now;\n    string ServiceSID = \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\";\n\n    var message = MessageResource.Create\n                (\n                    body: ShMessage,\n                    messagingServiceSid: ServiceSID,\n                    to: new Twilio.Types.PhoneNumber(RCHStringHelpers.formatPhoneNumber(so.employee_phone_number)),\n                    statusCallback: new Uri(TwilioCallBotController.SMSCallBackURL)\n                );\n\n    so.status = message.Status.ToString();\n    so.twillio_sid = message.Sid;\n    db.SaveChanges();\n}\n</code></pre>\n\n<p>When I send this message request to the through the C# libraries, will it make the request using HTTPS? I'm concerned about sending the SID in plaintext.</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1535582144, "post_id": 52086675, "comment_id": 91124190, "body": "Open <code>Document Outline</code> from <code>View</code> menu, and then reorganize the main menu strip."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1535582518, "post_id": 52086675, "comment_id": 91124294, "body": "It is not obvious how a StatusStrip turned into a giant yellow blob.  But &quot;giant&quot; is surely the problem, not enough space to fit both and somebody is going to lose.  Keep a status strip as a modest strip at the bottom of the UI."}], "answers": [{"tags": [], "owner": {"reputation": 1408, "user_id": 10116473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qTVBu.png?s=128&g=1", "display_name": "Handbag Crab", "link": "https://stackoverflow.com/users/10116473/handbag-crab"}, "is_accepted": false, "score": 1, "last_activity_date": 1535582448, "last_edit_date": 1535582448, "creation_date": 1535581767, "answer_id": 52086937, "question_id": 52086675, "link": "https://stackoverflow.com/questions/52086675/vs-designer-now-showing-mainmenu/52086937#52086937", "title": "VS Designer Now Showing MainMenu", "body": "<p>It looks like your MainMenu has ended up hidden behind your other controls. Try right clicking on the main menu and selecting <code>Bring To Front</code>. If you can't right click on it, right click on the control that's filling the rest of the form and select <code>Send to back</code>.</p>\n\n<p>When you click on a menu control in the component tray it will always show it at the top of the screen (even if you click on a ContextMenu).</p>\n\n<p>One other thing worth doing is to open the Document Outline window from the View->Other Windows menu in Visual Studio. This gives you a hierarchichal view of all the controls on the current form. You should be able to see your main menu here (unless you've somehow removed it from your form!)</p>\n"}], "owner": {"reputation": 79, "user_id": 10047487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e47c37bff71e6a3982c1f13fe8b4a4?s=128&d=identicon&r=PG&f=1", "display_name": "willerson", "link": "https://stackoverflow.com/users/10047487/willerson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1535582448, "creation_date": 1535580183, "last_edit_date": 1535580877, "question_id": 52086675, "link": "https://stackoverflow.com/questions/52086675/vs-designer-now-showing-mainmenu", "title": "VS Designer Now Showing MainMenu", "body": "<p>I can't seem to fix this issue (which i hope is small) i have somehow when adding a ContextMenu did something to have the MainMenu bar not show up when i debug, if i click on the \"MainMenu\" in the designer (1st image) the menu bar shows up in the designer fine:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hKRcG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hKRcG.png\" alt=\"Designer:\"></a></p>\n\n<p>But if i click off it, then click on another control like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nMUJX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nMUJX.png\" alt=\"Other Control:\"></a></p>\n\n<p>The MainMenu disappears from the designer, when i build / debug the MainMenu is gone, is there a way to fix this easily enough (i assumed it would be as simple as checking a setting but googling did not return anything that i saw that was helpful)</p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["c#", "python", ".net", "ironpython"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1535580280, "post_id": 52086663, "comment_id": 91123655, "body": "What is that <code>regex</code> you&#39;re trying to import? Is it <a href=\"https://pypi.org/project/regex/\" rel=\"nofollow noreferrer\">this library on PyPI</a>? Is that documented to work with IronPython? AIUI, that library includes a C extension module, so it&#39;s only usable from CPython (and from PyPy via cpyext)."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1535580325, "post_id": 52086663, "comment_id": 91123668, "body": "Also: (1) do you have a local file named <code>regex.py</code>? (2) how are you calling this from C#? have you made sure to set up the sys.path properly? (3) what&#39;s the full exception, not just a description of it?"}, {"owner": {"reputation": 484, "user_id": 4115214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e01b61ded96906ad26084bb554829161?s=128&d=identicon&r=PG&f=1", "display_name": "Pallavi", "link": "https://stackoverflow.com/users/4115214/pallavi"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1535580813, "post_id": 52086663, "comment_id": 91123810, "body": "regex.py is located in my C:\\Python27\\Lib\\site-packages. That&#39;s the one the existing code is referring to. I have also added it to the ScriptEngine&#39;s searchpaths list."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1535581380, "post_id": 52086663, "comment_id": 91123987, "body": "Include the full error traceback in your post, so we can see the line of code that has the error, instead of trying to guess where it is."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1535582091, "post_id": 52086663, "comment_id": 91124172, "body": "Knowing where it is in your site-packages doesn&#39;t help; we need to know where you got it from and what it&#39;s supposed to do (and maybe also how you installed it)."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1535582204, "post_id": 52086663, "comment_id": 91124210, "body": "Also, from the path, it looks like you&#39;re trying to use a CPython stdlib and site-packages, not an IronPython one. That&#39;s unlikely to work."}, {"owner": {"reputation": 484, "user_id": 4115214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e01b61ded96906ad26084bb554829161?s=128&d=identicon&r=PG&f=1", "display_name": "Pallavi", "link": "https://stackoverflow.com/users/4115214/pallavi"}, "edited": false, "score": 0, "creation_date": 1535584277, "post_id": 52086663, "comment_id": 91124754, "body": "I have installed the IronPython stdlib nuget but I couldn&#39;t find regex.py in it. I thought it was a standard python library. Turns out the one I&#39;m using is &#39;Secret Labs&#39; Regular Expression Engine&#39;"}], "owner": {"reputation": 484, "user_id": 4115214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e01b61ded96906ad26084bb554829161?s=128&d=identicon&r=PG&f=1", "display_name": "Pallavi", "link": "https://stackoverflow.com/users/4115214/pallavi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535584524, "creation_date": 1535580119, "last_edit_date": 1535584524, "question_id": 52086663, "link": "https://stackoverflow.com/questions/52086663/importing-regex-throws-global-variable-i-not-found", "title": "Importing regex throws &quot;Global variable &#39;i&#39; not found&quot;", "body": "<p>I'm using IronPython to run my script in c#. This is the first time I'm using IronPython and I have it set up right. The script works as it should. I need to add a \"regex.compile()\" to it though and for that, I need to import regex.</p>\n\n<p>But as soon as I do that, I get a runtime exception from IronPython that 'global name 'i' is not defined'</p>\n\n<p>Here's the script that works-</p>\n\n<pre><code>def parse_failure(failure_string):\n    if failure_string:\n        try:\n            failure_string = HTMLParser.HTMLParser().unescape(failure_string)\n        except:\n            pass\n    return failure_string\n</code></pre>\n\n<p>And here's the one that throws exception-</p>\n\n<pre><code>import regex\n\ndef parse_failure(failure_string):\n    if failure_string:\n        try:\n            failure_string = HTMLParser.HTMLParser().unescape(failure_string)\n        except:\n            pass\n    if (failure_string):\n        LOG_START_PATTERN = regex.compile('(.+?)(begin\\s+captured\\s+(logging|stdout))')\n        result = LOG_START_PATTERN.search(failure_string)\n        if (result):\n            end_pos = failure_string.find(result.group(0))\n            if (end_pos != -1):\n                return failure_string[:end_pos]\n\n    return failure_string\n</code></pre>\n\n<p>Exception details-</p>\n\n<pre><code>IronPython.Runtime.UnboundNameException\n  HResult=0x80131500\n  Message=global name 'i' is not defined\n  Source=IronPython\n  StackTrace:\n   at IronPython.Compiler.PythonGlobal.GetCachedValue(Boolean lightThrow)\n   at IronPython.Compiler.PythonGlobal.get_CurrentValue()\n   at IronPython.Runtime.PythonGenerator.GetNext()\n   at IronPython.Runtime.PythonGenerator.MoveNextWorker()\n   at IronPython.Runtime.PythonGenerator.System.Collections.IEnumerator.MoveNext()\n   at IronPython.Runtime.PythonTuple.MakeItems(Object o)\n   at IronPython.Runtime.PythonTuple.__new__(CodeContext context, PythonType cls, Object sequence)\n   at Microsoft.Scripting.Interpreter.FuncCallInstruction`4.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.LightLambda.Run4[T0,T1,T2,T3,TRet](T0 arg0, T1 arg1, T2 arg2, T3 arg3)\n   at Microsoft.Scripting.Interpreter.FuncCallInstruction`6.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.LightLambda.Run4[T0,T1,T2,T3,TRet](T0 arg0, T1 arg1, T2 arg2, T3 arg3)\n   at IronPython.Compiler.Ast.CallExpression.Invoke1Instruction.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.LightLambda.Run1[T0,TRet](T0 arg0)\n   at IronPython.Compiler.RuntimeScriptCode.InvokeTarget(Scope scope)\n   at IronPython.Compiler.RuntimeScriptCode.Run(Scope scope)\n   at IronPython.Runtime.PythonContext.InitializeModule(String fileName, ModuleContext moduleContext, ScriptCode scriptCode, ModuleOptions options)\n   at IronPython.Runtime.PythonContext.CompileModule(String fileName, String moduleName, SourceUnit sourceCode, ModuleOptions options, ScriptCode&amp; scriptCode)\n   at IronPython.Runtime.Importer.LoadModuleFromSource(CodeContext context, String name, String path)\n   at IronPython.Runtime.Importer.LoadFromDisk(CodeContext context, String name, String fullName, String str)\n   at IronPython.Runtime.Importer.ImportFromPathHook(CodeContext context, String name, String fullName, List path, Func`5 defaultLoader)\n   at IronPython.Runtime.Importer.ImportFromPath(CodeContext context, String name, String fullName, List path)\n   at IronPython.Runtime.Importer.ImportTopAbsolute(CodeContext context, String name)\n   at IronPython.Runtime.Importer.ImportModule(CodeContext context, Object globals, String modName, Boolean bottom, Int32 level)\n   at IronPython.Modules.Builtin.__import__(CodeContext context, String name, Object globals, Object locals, Object fromlist, Int32 level)\n   at Microsoft.Scripting.Interpreter.FuncCallInstruction`7.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.LightLambda.Run7[T0,T1,T2,T3,T4,T5,T6,TRet](T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6)\n   at IronPython.Runtime.Importer.ImportLightThrow(CodeContext context, String fullName, PythonTuple from, Int32 level)\n   at IronPython.Runtime.Operations.PythonOps.ImportTop(CodeContext context, String fullName, Int32 level)\n   at Microsoft.Scripting.Interpreter.FuncCallInstruction`4.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.LightLambda.Run1[T0,TRet](T0 arg0)\n   at IronPython.Compiler.RuntimeScriptCode.InvokeTarget(Scope scope)\n   at IronPython.Compiler.RuntimeScriptCode.Run(Scope scope)\n   at IronPython.Runtime.PythonContext.InitializeModule(String fileName, ModuleContext moduleContext, ScriptCode scriptCode, ModuleOptions options)\n   at IronPython.Runtime.PythonContext.CompileModule(String fileName, String moduleName, SourceUnit sourceCode, ModuleOptions options, ScriptCode&amp; scriptCode)\n   at IronPython.Runtime.Importer.LoadModuleFromSource(CodeContext context, String name, String path)\n   at IronPython.Runtime.Importer.LoadFromDisk(CodeContext context, String name, String fullName, String str)\n   at IronPython.Runtime.Importer.ImportFromPathHook(CodeContext context, String name, String fullName, List path, Func`5 defaultLoader)\n   at IronPython.Runtime.Importer.ImportFromPath(CodeContext context, String name, String fullName, List path)\n   at IronPython.Runtime.Importer.ImportTopAbsolute(CodeContext context, String name)\n   at IronPython.Runtime.Importer.ImportModule(CodeContext context, Object globals, String modName, Boolean bottom, Int32 level)\n   at IronPython.Modules.Builtin.__import__(CodeContext context, String name, Object globals, Object locals, Object fromlist, Int32 level)\n   at Microsoft.Scripting.Interpreter.FuncCallInstruction`7.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.LightLambda.Run7[T0,T1,T2,T3,T4,T5,T6,TRet](T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6)\n   at IronPython.Runtime.Importer.ImportLightThrow(CodeContext context, String fullName, PythonTuple from, Int32 level)\n   at IronPython.Runtime.Operations.PythonOps.ImportBottom(CodeContext context, String fullName, Int32 level)\n   at Microsoft.Scripting.Interpreter.FuncCallInstruction`4.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.LightLambda.Run1[T0,TRet](T0 arg0)\n   at IronPython.Compiler.RuntimeScriptCode.InvokeTarget(Scope scope)\n   at IronPython.Compiler.RuntimeScriptCode.Run(Scope scope)\n   at IronPython.Runtime.PythonContext.InitializeModule(String fileName, ModuleContext moduleContext, ScriptCode scriptCode, ModuleOptions options)\n   at IronPython.Runtime.PythonContext.CompileModule(String fileName, String moduleName, SourceUnit sourceCode, ModuleOptions options, ScriptCode&amp; scriptCode)\n   at IronPython.Runtime.Importer.LoadModuleFromSource(CodeContext context, String name, String path)\n   at IronPython.Runtime.Importer.LoadFromDisk(CodeContext context, String name, String fullName, String str)\n   at IronPython.Runtime.Importer.ImportFromPathHook(CodeContext context, String name, String fullName, List path, Func`5 defaultLoader)\n   at IronPython.Runtime.Importer.ImportFromPath(CodeContext context, String name, String fullName, List path)\n   at IronPython.Runtime.Importer.ImportTopAbsolute(CodeContext context, String name)\n   at IronPython.Runtime.Importer.ImportModule(CodeContext context, Object globals, String modName, Boolean bottom, Int32 level)\n   at IronPython.Modules.Builtin.__import__(CodeContext context, String name, Object globals, Object locals, Object fromlist, Int32 level)\n   at Microsoft.Scripting.Interpreter.FuncCallInstruction`7.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.LightLambda.Run7[T0,T1,T2,T3,T4,T5,T6,TRet](T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6)\n   at IronPython.Runtime.Importer.ImportLightThrow(CodeContext context, String fullName, PythonTuple from, Int32 level)\n   at IronPython.Runtime.Operations.PythonOps.ImportTop(CodeContext context, String fullName, Int32 level)\n   at Microsoft.Scripting.Interpreter.FuncCallInstruction`4.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.LightLambda.Run1[T0,TRet](T0 arg0)\n   at IronPython.Compiler.RuntimeScriptCode.InvokeTarget(Scope scope)\n   at IronPython.Compiler.RuntimeScriptCode.Run(Scope scope)\n   at IronPython.Runtime.PythonContext.InitializeModule(String fileName, ModuleContext moduleContext, ScriptCode scriptCode, ModuleOptions options)\n   at IronPython.Runtime.PythonContext.CompileModule(String fileName, String moduleName, SourceUnit sourceCode, ModuleOptions options, ScriptCode&amp; scriptCode)\n   at IronPython.Runtime.Importer.LoadModuleFromSource(CodeContext context, String name, String path)\n   at IronPython.Runtime.Importer.LoadFromDisk(CodeContext context, String name, String fullName, String str)\n   at IronPython.Runtime.Importer.ImportFromPathHook(CodeContext context, String name, String fullName, List path, Func`5 defaultLoader)\n   at IronPython.Runtime.Importer.ImportFromPath(CodeContext context, String name, String fullName, List path)\n   at IronPython.Runtime.Importer.ImportTopAbsolute(CodeContext context, String name)\n   at IronPython.Runtime.Importer.ImportModule(CodeContext context, Object globals, String modName, Boolean bottom, Int32 level)\n   at IronPython.Modules.Builtin.__import__(CodeContext context, String name, Object globals, Object locals, Object fromlist, Int32 level)\n   at Microsoft.Scripting.Interpreter.FuncCallInstruction`7.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.LightLambda.Run7[T0,T1,T2,T3,T4,T5,T6,TRet](T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6)\n   at IronPython.Runtime.Importer.ImportLightThrow(CodeContext context, String fullName, PythonTuple from, Int32 level)\n   at IronPython.Runtime.Operations.PythonOps.ImportTop(CodeContext context, String fullName, Int32 level)\n   at Microsoft.Scripting.Interpreter.FuncCallInstruction`4.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.LightLambda.Run1[T0,TRet](T0 arg0)\n   at IronPython.Compiler.RuntimeScriptCode.InvokeTarget(Scope scope)\n   at IronPython.Compiler.RuntimeScriptCode.Run(Scope scope)\n   at IronPython.Runtime.PythonContext.InitializeModule(String fileName, ModuleContext moduleContext, ScriptCode scriptCode, ModuleOptions options)\n   at IronPython.Runtime.PythonContext.CompileModule(String fileName, String moduleName, SourceUnit sourceCode, ModuleOptions options, ScriptCode&amp; scriptCode)\n   at IronPython.Runtime.Importer.LoadModuleFromSource(CodeContext context, String name, String path)\n   at IronPython.Runtime.Importer.LoadFromDisk(CodeContext context, String name, String fullName, String str)\n   at IronPython.Runtime.Importer.ImportFromPathHook(CodeContext context, String name, String fullName, List path, Func`5 defaultLoader)\n   at IronPython.Runtime.Importer.ImportFromPath(CodeContext context, String name, String fullName, List path)\n   at IronPython.Runtime.Importer.ImportTopAbsolute(CodeContext context, String name)\n   at IronPython.Runtime.Importer.ImportModule(CodeContext context, Object globals, String modName, Boolean bottom, Int32 level)\n   at IronPython.Modules.Builtin.__import__(CodeContext context, String name, Object globals, Object locals, Object fromlist, Int32 level)\n   at Microsoft.Scripting.Interpreter.FuncCallInstruction`7.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.LightLambda.Run7[T0,T1,T2,T3,T4,T5,T6,TRet](T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6)\n   at IronPython.Runtime.Importer.ImportLightThrow(CodeContext context, String fullName, PythonTuple from, Int32 level)\n   at IronPython.Runtime.Operations.PythonOps.ImportTop(CodeContext context, String fullName, Int32 level)\n   at Microsoft.Scripting.Interpreter.FuncCallInstruction`4.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)\n   at Microsoft.Scripting.Interpreter.LightLambda.Run2[T0,T1,TRet](T0 arg0, T1 arg1)\n   at IronPython.Compiler.PythonScriptCode.RunWorker(CodeContext ctx)\n   at IronPython.Compiler.PythonScriptCode.Run(Scope scope)\n   at IronPython.Compiler.RuntimeScriptCode.InvokeTarget(Scope scope)\n   at IronPython.Compiler.RuntimeScriptCode.Run(Scope scope)\n   at Microsoft.Scripting.Hosting.CompiledCode.Execute(ScriptScope scope)\n</code></pre>\n\n<p>Not sure what I'm doing wrong. This is a preexisting code in python, I'm just trying to call it in my C# logic.</p>\n"}, {"tags": ["c#", "math", "floating-point"], "comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 2, "creation_date": 1535580214, "post_id": 52086649, "comment_id": 91123633, "body": "Rounding doesn&#39;t normally introduce a factor of 10... but if a factor of 10 is what you want, try simply <code>Math.Round(input) &#47; 10</code>."}, {"owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "edited": false, "score": 1, "creation_date": 1535582349, "post_id": 52086649, "comment_id": 91124253, "body": "If you want a <i>specific</i> rounding, could you, please provide more <i>examples</i>? Especially differences from standard <code>Math.Round</code> behaviour and <i>border cases</i> (e.g. what is the expected result for <code>-1.5</code>? <code>-2.5</code>?)"}, {"owner": {"reputation": 1432, "user_id": 4371664, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/hamlb.png?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/4371664/robin"}, "edited": false, "score": 0, "creation_date": 1535583004, "post_id": 52086649, "comment_id": 91124432, "body": "The thing is, if you have for example <code>1.44446</code>, it should be rounded to <code>2</code>, because the <code>6</code> is larger then 5, so it gets <code>1.4445</code>, then rounds again to <code>1.445</code>, because round up if 5 or bigger, and so on, untill no more digits behind the <code>.</code> are left"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 2, "creation_date": 1535583543, "post_id": 52086649, "comment_id": 91124577, "body": "That&#39;s not how any definition of rounding works. If you need a non-normal rounding, you need to provide the specific rules for all inputs. Also, in your sample code, where do you expect the &quot;rounding&quot; to occur?"}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 1, "creation_date": 1535583770, "post_id": 52086649, "comment_id": 91124630, "body": "<i>What am I doing wrong here?</i> Your requirements/definition for &#39;rounding&#39; isn&#39;t what normal rounding represents. Should first properly define those."}, {"owner": {"reputation": 1432, "user_id": 4371664, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/hamlb.png?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/4371664/robin"}, "edited": false, "score": 0, "creation_date": 1535584107, "post_id": 52086649, "comment_id": 91124708, "body": "I have added samples."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 1, "creation_date": 1535584350, "post_id": 52086649, "comment_id": 91124779, "body": "Your examples aren&#39;t consistent. You say <code>0.33425 =&gt; 0</code>, but <code>1.44445 =&gt; 2</code>. Fractional part in both is less than half, so normally they should round down. On what do you base this rounding criteria? In other words, if <code>0.33425</code> rounds down, so should <code>1.44445</code>."}, {"owner": {"reputation": 1432, "user_id": 4371664, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/hamlb.png?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/4371664/robin"}, "edited": false, "score": 0, "creation_date": 1535584545, "post_id": 52086649, "comment_id": 91124821, "body": "Last number of <code>1.44445</code> is <code>5</code>, so the <code>5</code> adds <code>1</code> to the first <code>4</code> behind before the <code>5</code>, which gives us <code>1.4445</code>, then last <code>5</code> is again to round up and we move on, add 1.. untill you get <code>2</code> as result."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1535585027, "post_id": 52086649, "comment_id": 91124933, "body": "OK so now your criteria is clear; you&#39;re looking for a <i>gradual</i> rounding where you round up/down each digit and then move to the next till you reach an integer. That wasn&#39;t clear at all at the beginning. In that case, you can&#39;t simply use <code>Math.Round()</code> and be done with it, you&#39;ll have to round repeatedly."}], "answers": [{"comments": [{"owner": {"reputation": 1432, "user_id": 4371664, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/hamlb.png?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/4371664/robin"}, "edited": false, "score": 0, "creation_date": 1535581908, "post_id": 52086869, "comment_id": 91124123, "body": "I think my solution is this; <code>System.Math.Round (n, 2, MidpointRounding.AwayFromZero); &#47;&#47; 3.15</code>"}, {"owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "reply_to_user": {"reputation": 1432, "user_id": 4371664, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/hamlb.png?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/4371664/robin"}, "edited": false, "score": 0, "creation_date": 1535582064, "post_id": 52086869, "comment_id": 91124162, "body": "@Robin: Well, <code>Math.Round(-1.444469, 2, MidpointRounding.AwayFromZero);</code> returns <code>-1.44</code> when you put &quot;it needs to be <code>-0.1</code>&quot;"}, {"owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "reply_to_user": {"reputation": 1432, "user_id": 4371664, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/hamlb.png?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/4371664/robin"}, "edited": false, "score": 0, "creation_date": 1535582251, "post_id": 52086869, "comment_id": 91124226, "body": "@Robin: <code>MidpointRounding</code> acts if we are <i>exactly</i> in the <i>middle</i>, e.g. <code>Math.Round(-2.5, 0, MidpointRounding.AwayFromZero) == -3</code> when <code>Math.Round(-2.5, 0, MidpointRounding.ToEven) == -2</code>; I sorry, but I can&#39;t derive the right <code>MidpointRounding</code> from the examples in the question"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 2, "creation_date": 1535582763, "post_id": 52086869, "comment_id": 91124360, "body": "I don&#39;t know what you think <i>round up</i> means, but you&#39;re using it wrong."}, {"owner": {"reputation": 1432, "user_id": 4371664, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/hamlb.png?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/4371664/robin"}, "edited": false, "score": 0, "creation_date": 1535620062, "post_id": 52086869, "comment_id": 91136248, "body": "<code>(int)value + (int)Math.Round((value - (int) value) * 1.125);</code> did the trick here! thanks!"}], "tags": [], "owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "is_accepted": true, "score": 2, "last_activity_date": 1535586773, "last_edit_date": 1535586773, "creation_date": 1535581314, "answer_id": 52086869, "question_id": 52086649, "link": "https://stackoverflow.com/questions/52086649/round-negative-float-up-or-down-depending-on-the-value-behind-the-comma/52086869#52086869", "title": "Round negative float up or down depending on the value behind the comma", "body": "<p>If you want to <em>round</em> the <code>value</code> then put <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.math.round?redirectedfrom=MSDN&amp;view=netframework-4.7.2#System_Math_Round_System_Double_System_Int32_\" rel=\"nofollow noreferrer\">Math.Round</a>:</p>\n\n<pre><code>  float value = -1.999969f; \n\n  // Scale: value / 10 then round up to 1 digit after the decimal point (-0.2)\n  double result = Math.Round(value / 10.0, 1); \n</code></pre>\n\n<p>If you want to <em>represent</em> <code>value</code> only (we want to keep <code>value</code> as it is, but print it out with just one digit after the decimal point), use <em>formatting</em> (<code>F1</code> format string - <code>1</code> digit after the decimal point)</p>\n\n<pre><code>  float value = -1.999969f \n\n  // Scale and then represent with 1 digit after the decimal point (-0.2)\n  Debug.WriteLine($\"Negatief! {value / 10.0:F1}\");\n</code></pre>\n\n<p><strong>Edit:</strong> If you want a <em>special kind rounding</em> (see comments to the question):</p>\n\n<blockquote>\n  <p>If you have for example <code>1.44446</code>, it should be rounded to 2, because\n  the <code>6</code> is larger then <code>5</code>, so it gets <code>1.4445</code>, then rounds again to <code>1.445</code>,\n  because round up if <code>5</code> or bigger, and so on, untill no more digits\n  behind the <code>.</code></p>\n</blockquote>\n\n<p>we have to invent the formula. As we can see</p>\n\n<pre><code> 0.444444....444 -&gt; 0\n 0.444444....445 -&gt; 1\n</code></pre>\n\n<p>which means that we can adapt <code>Math.Round</code> for these rules: in order to push <code>0.(4)</code> to <code>0.5</code> we can multiply fractional part by <code>1.25</code>:</p>\n\n<pre><code> 0.44444...444 * 1.25 = 0.5\n</code></pre>\n\n<p>Sample code:</p>\n\n<pre><code>  private static int MyRound(double value) {\n    return (int)value + (int)Math.Round((value - (int) value) * 1.125);\n  }\n</code></pre>\n\n<p>Or, if we want <code>double</code> as a result </p>\n\n<pre><code>  private static double MyRound(double value) {\n    return Math.Truncate(value) + Math.Round(value % 1 * 1.125);\n  }\n</code></pre>\n\n<p>Tests:    </p>\n\n<pre><code>  double[] tests = new double[] {\n     1.44446,\n     1.4444,\n    -1.44444,\n    -1.4445,\n     0.33425,\n    -0.33425,\n     3.2954,\n    -3.2954,\n  };\n\n  string report = string.Join(Environment.NewLine, tests\n    .Select(item =&gt; $\"{item,10} =&gt; {MyRound(item),2}\"));\n\n  Console.Write(report);\n</code></pre>\n\n<p>Outcome:</p>\n\n<pre><code>   1.44446 =&gt;  2\n    1.4444 =&gt;  1\n  -1.44444 =&gt; -1\n   -1.4445 =&gt; -2\n   0.33425 =&gt;  0\n  -0.33425 =&gt;  0\n    3.2954 =&gt;  3\n   -3.2954 =&gt; -3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 1, "last_activity_date": 1535584840, "creation_date": 1535584840, "answer_id": 52087306, "question_id": 52086649, "link": "https://stackoverflow.com/questions/52086649/round-negative-float-up-or-down-depending-on-the-value-behind-the-comma/52087306#52087306", "title": "Round negative float up or down depending on the value behind the comma", "body": "<p>What you seem to want is some type of \"gradual\" rounding, where you round one fewer place each time until you get to 0 decimal places. To do that, you will have to actually round down one place at a time.</p>\n\n<p>Implemented in an extension method:</p>\n\n<pre><code>using System.Data.SqlTypes;\n\npublic static double GradualRoundingTo0(this double d) {\n    var dp = ((SqlDecimal)(Decimal)d).Scale;\n    return Enumerable.Range(1, dp).Aggregate(d, (a, n) =&gt; Math.Round(a, dp - n, MidpointRounding.AwayFromZero));\n}\n</code></pre>\n\n<p>You will need the <code>using</code> to implement the trick I used to count the number of fractional places for rounding.</p>\n"}], "owner": {"reputation": 1432, "user_id": 4371664, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/hamlb.png?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/4371664/robin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 1, "accepted_answer_id": 52086869, "answer_count": 2, "score": -2, "last_activity_date": 1535664244, "creation_date": 1535580035, "last_edit_date": 1535664244, "question_id": 52086649, "link": "https://stackoverflow.com/questions/52086649/round-negative-float-up-or-down-depending-on-the-value-behind-the-comma", "title": "Round negative float up or down depending on the value behind the comma", "body": "<p>So as I'm trying to round a float value up or down. Now I currently use this code:</p>\n\n<pre><code>var calc_points = (distance_in_km - total_dist) * 20;\nDebug.WriteLine(\"Negatief! \" + calc_points);\npoints = (int)Math.Abs(calc_points);\n</code></pre>\n\n<p>Where <code>distance_in_km</code> is a <code>float</code>, <code>total_dist</code> is a <code>float</code>.</p>\n\n<p>What am I doing wrong here?</p>\n\n<p>Examples of in and output;</p>\n\n<pre><code> 0.33425 =&gt;  0\n-0.33425 =&gt;  0\n 1.44445 =&gt;  2\n-1.44445 =&gt; -2\n 3.2954  =&gt;  3\n-3.2954  =&gt; -3\n</code></pre>\n\n<p>It's basic maths but I have no clue on how I should do this in code, since <code>Math.Round()</code> does not the \"normal\" math....</p>\n"}, {"tags": ["c#", "visual-c#-express-2010"], "comments": [{"owner": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "edited": false, "score": 0, "creation_date": 1535580157, "post_id": 52086648, "comment_id": 91123619, "body": "You&#39;re parsing twice."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 8729416, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-qh9LF4KrRQs/AAAAAAAAAAI/AAAAAAAAJ00/DdeI1LJZjGM/photo.jpg?sz=128", "display_name": "Glorksnork", "link": "https://stackoverflow.com/users/8729416/glorksnork"}, "edited": false, "score": 0, "creation_date": 1535582492, "post_id": 52086776, "comment_id": 91124286, "body": "Wow! Thank you! I was trying to figure out how to add two variables to an if statement I forgot about &amp;&amp;"}], "tags": [], "owner": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "is_accepted": true, "score": 2, "last_activity_date": 1535581943, "last_edit_date": 1535581943, "creation_date": 1535580767, "answer_id": 52086776, "question_id": 52086648, "link": "https://stackoverflow.com/questions/52086648/is-there-any-way-i-can-simplify-this/52086776#52086776", "title": "Is there any way I can simplify this?", "body": "<p>You only need to parse once per control.  Here's a simplification you can reuse for multiple controls containing numbers as text.</p>\n\n<pre><code>private void btnCalc_Click(object sender, EventArgs e)\n{\n    if (TryParseFromTextBox(tbxHours, out double hours) &amp;&amp; \n        TryParseFromTextBox(tbxPay, out double pay))\n    {\n        double result = hours * pay;\n        MessageBox.Show($\" total amount is {result} \", \"Click Event\", \n                        MessageBoxButtons.OKCancel, MessageBoxIcon.Information);\n    }\n}\n\npublic bool TryParseFromTextBox(TextBox control, out double value)\n{\n    if (!double.TryParse(control.Text, out value))\n    {\n        MessageBox.Show($\"You must enter a number in {control.Name}\", \"Input Error\", \n                        MessageBoxButtons.OK, MessageBoxIcon.Error);\n\n        control.Clear();\n        return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>A few extra things to consider.</p>\n\n<ul>\n<li>Should you focus on the control where the number parse fails?</li>\n<li>Should your <code>btnCalc</code> even be clickable if there are not valid numbers in these textboxes?</li>\n</ul>\n"}], "owner": {"reputation": 67, "user_id": 8729416, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-qh9LF4KrRQs/AAAAAAAAAAI/AAAAAAAAJ00/DdeI1LJZjGM/photo.jpg?sz=128", "display_name": "Glorksnork", "link": "https://stackoverflow.com/users/8729416/glorksnork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 52086776, "answer_count": 1, "score": 0, "last_activity_date": 1535581943, "creation_date": 1535580034, "question_id": 52086648, "link": "https://stackoverflow.com/questions/52086648/is-there-any-way-i-can-simplify-this", "title": "Is there any way I can simplify this?", "body": "<p>I have two labels (Pay and Hours) that I want to multiply. I want an error box to show up when the user didn't put in a number but I can only figure out the easiest way to do it will be to make two if statements and do it that way. Any help would be great.</p>\n\n<pre><code>    private void btnCalc_Click(object sender, EventArgs e)\n    {\n        double hours = Double.Parse(tbxHours.Text);\n        double pay = Double.Parse(tbxPay.Text);\n\n        if (Double.TryParse(tbxPay.Text,  out pay))\n            {\n            double result = hours * pay;\n            MessageBox.Show($\" total amount is {result} \", \"Click Event\",\n            MessageBoxButtons.OKCancel, MessageBoxIcon.Information);\n\n        }\n        else\n        {\n            MessageBox.Show($\"You must enter a number\", \"Input Error\",\n        MessageBoxButtons.OK, MessageBoxIcon.Error);\n\n            tbxPay.Clear();\n\n        }\n\n\n        if (Double.TryParse(tbxHours.Text, out hours))\n        {\n            double result = hours * pay;\n        }\n        else\n        {\n            MessageBox.Show($\"You must enter a number\", \"Input Error\",\n        MessageBoxButtons.OK, MessageBoxIcon.Error);\n\n            tbxHours.Clear();\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", "wpf", "xaml", "mahapps.metro"], "answers": [{"comments": [{"owner": {"reputation": 347, "user_id": 6085050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33e9fdd8335ad09fbc539bb6959fd9a7?s=128&d=identicon&r=PG&f=1", "display_name": "Tong", "link": "https://stackoverflow.com/users/6085050/tong"}, "edited": false, "score": 0, "creation_date": 1535652830, "post_id": 52099500, "comment_id": 91157076, "body": "ThemedDictionaries didn&#39;t work for me. I think that&#39;s UWP only? Then I couldn&#39;t use x:Key on the ResourceDictionary.  It did lead me down the right path and I just used the x:Key in the TextBlock source code. Thank you for your help!"}], "tags": [], "owner": {"reputation": 844, "user_id": 10285326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VLjZ4.jpg?s=128&g=1", "display_name": "Mac", "link": "https://stackoverflow.com/users/10285326/mac"}, "is_accepted": false, "score": 1, "last_activity_date": 1535639294, "creation_date": 1535639294, "answer_id": 52099500, "question_id": 52086646, "link": "https://stackoverflow.com/questions/52086646/how-to-bind-colors-to-mahapps-metro-resource/52099500#52099500", "title": "How to bind colors to MahApps Metro resource?", "body": "<p>Inside your Application.Resources you put:</p>\n\n<pre><code>&lt;ResourceDictionary.ThemeDictionaries&gt;\n    &lt;ResourceDictionary x:Key=\"Dark\"&gt;\n        &lt;SolidColorBrush x:Key=\"RectangleFill\" Color=\"White\"/&gt;\n    &lt;/ResourceDictionary&gt;\n\n    &lt;ResourceDictionary x:Key=\"Light\"&gt;\n        &lt;SolidColorBrush x:Key=\"RectangleFill\" Color=\"Blue\"/&gt;\n    &lt;/ResourceDictionary&gt;\n &lt;/ResourceDictionary.ThemeDictionaries&gt;\n</code></pre>\n\n<p>Then you should bind the Rectangle.Fill to the ThemeResource \"RectangleFill\"</p>\n\n<pre><code>&lt;Rectangle Height=\"200\" Width=\"400\" Fill=\"{ThemeResource RectangleFill}\"&gt;&lt;/Rectangle&gt;\n</code></pre>\n"}], "owner": {"reputation": 347, "user_id": 6085050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33e9fdd8335ad09fbc539bb6959fd9a7?s=128&d=identicon&r=PG&f=1", "display_name": "Tong", "link": "https://stackoverflow.com/users/6085050/tong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 856, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535639294, "creation_date": 1535580029, "question_id": 52086646, "link": "https://stackoverflow.com/questions/52086646/how-to-bind-colors-to-mahapps-metro-resource", "title": "How to bind colors to MahApps Metro resource?", "body": "<p>I'm using the MahApps Metro theme and everything mostly works fine except for fills. I would like to bind my fill color to the color in the theme and have it change according when changing between light/dark mode. Does anyone know how to do this?</p>\n\n<p>My App.xaml:</p>\n\n<pre><code>&lt;Application \n...&gt;\n    &lt;Application.Resources&gt;\n        &lt;ResourceDictionary&gt;\n            &lt;ResourceDictionary.MergedDictionaries&gt;\n                ...\n                &lt;!-- Accent and AppTheme setting --&gt;\n                &lt;ResourceDictionary Source=\"pack://application:,,,/MahApps.Metro;component/Styles/Accents/Teal.xaml\" /&gt;\n                &lt;ResourceDictionary Source=\"pack://application:,,,/MahApps.Metro;component/Styles/Accents/BaseLight.xaml\" /&gt;\n            &lt;/ResourceDictionary.MergedDictionaries&gt;\n        &lt;/ResourceDictionary&gt;\n    &lt;/Application.Resources&gt;\n&lt;/Application&gt;\n</code></pre>\n\n\n\n<p>What I want to change:</p>\n\n<pre><code>&lt;Rectangle Fill=\"??????\"\"&gt;\n</code></pre>\n\n\n"}, {"tags": ["c#", "iis", "asp.net-core", "kestrel"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1535583091, "post_id": 52086610, "comment_id": 91124467, "body": "What kind of machine?"}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "edited": false, "score": 1, "creation_date": 1535596877, "post_id": 52086610, "comment_id": 91127256, "body": "Try add <code>web.config</code> with <a href=\"https://docs.microsoft.com/en-us/aspnet/core/host-and-deploy/iis/troubleshoot?view=aspnetcore-2.1#aspnet-core-module-stdout-log\" rel=\"nofollow noreferrer\">stdoutLogEnabled</a>, is there any detail error?"}, {"owner": {"reputation": 519, "user_id": 314964, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c2b7c90a0b129f5f11981cf4efc5b32d?s=128&d=identicon&r=PG", "display_name": "Philip", "link": "https://stackoverflow.com/users/314964/philip"}, "edited": false, "score": 0, "creation_date": 1535646407, "post_id": 52086610, "comment_id": 91154115, "body": "windows server 2016, I added a web.config but it does not produce any logs, I believe because the issue is getting asp.net core hosting to work as the actual asp.net core webpage is working from the command line so the issue is between IIS and kestrel (i think)"}, {"owner": {"reputation": 1726, "user_id": 155791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01755baca230639a65974c855761a26a?s=128&d=identicon&r=PG", "display_name": "mrrrk", "link": "https://stackoverflow.com/users/155791/mrrrk"}, "edited": false, "score": 1, "creation_date": 1559716126, "post_id": 52086610, "comment_id": 99502719, "body": "In my case, it was as simple as an admin colleague stopping the application pool under which the site was running!"}], "owner": {"reputation": 519, "user_id": 314964, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c2b7c90a0b129f5f11981cf4efc5b32d?s=128&d=identicon&r=PG", "display_name": "Philip", "link": "https://stackoverflow.com/users/314964/philip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 8039, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1535649816, "creation_date": 1535579753, "last_edit_date": 1535649816, "question_id": 52086610, "link": "https://stackoverflow.com/questions/52086610/asp-net-core-http-error-503-the-service-is-unavailable", "title": "asp.net core HTTP Error 503. The service is unavailable", "body": "<p>The event viewer shows the following errors</p>\n\n<p><strong>\"The worker process failed to pre-load .Net Runtime version No Managed Code.\"</strong></p>\n\n<p><strong>\"The worker process failed to initialize correctly and therefore could not be started.  The data is the error.\"</strong></p>\n\n<p>I am able to run dotnet website.dll from the command line and view it in the web browser but for some reason IIS does not run the asp.net core website.</p>\n\n<p>I have installed the windows hosting dotnet core from here as well as the sdk</p>\n\n<p><a href=\"https://github.com/dotnet/core/blob/master/release-notes/download-archives/\" rel=\"nofollow noreferrer\">https://github.com/dotnet/core/blob/master/release-notes/download-archives/</a></p>\n\n<p>I have set the .net clr version to No Managed Code</p>\n\n<p>I changed the identity to administrator to eliminate potential permission issues</p>\n\n<pre><code>Enable-WindowsOptionalFeature -Online -FeatureName IIS-WebServerRole\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-WebServer\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-CommonHttpFeatures\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-HttpErrors\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-HttpRedirect\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-ApplicationDevelopment\nEnable-WindowsOptionalFeature -Online -FeatureName NetFx4Extended-ASPNET45\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-HealthAndDiagnostics\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-HttpLogging\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-LoggingLibraries\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-RequestMonitor\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-HttpTracing\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-Security\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-RequestFiltering\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-Performance\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-WebServerManagementTools\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-IIS6ManagementCompatibility\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-Metabase\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-ManagementConsole\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-BasicAuthentication\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-WindowsAuthentication\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-StaticContent\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-DefaultDocument\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-WebSockets\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-ApplicationInit\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-NetFxExtensibility45\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-ASPNET45\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-ISAPIExtensions\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-ISAPIFilter\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-HttpCompressionStatic\n</code></pre>\n\n<p>Also, I had to change the .csproj to the following to get around conflicting asp.net core versions</p>\n\n<pre><code>  &lt;PropertyGroup&gt;\n    &lt;TargetFramework&gt;netcoreapp2.0&lt;/TargetFramework&gt; &lt;PublishWithAspNetCoreTargetManifest&gt;false&lt;/PublishWithAspNetCoreTargetManifest&gt;\n  &lt;/PropertyGroup&gt;\n</code></pre>\n"}, {"tags": ["c#", "console-application"], "comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 2, "creation_date": 1535582660, "post_id": 52086601, "comment_id": 91124327, "body": "Start by creating an <code>Invader</code> class and don&#39;t hard-code each character at each position."}, {"owner": {"reputation": 95, "user_id": 8236700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ade35ad94271b74b16e2c776cdf1d8?s=128&d=identicon&r=PG&f=1", "display_name": "Julian Docev", "link": "https://stackoverflow.com/users/8236700/julian-docev"}, "reply_to_user": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1535671234, "post_id": 52086601, "comment_id": 91164037, "body": "Thank&#39;s a lot for the advice! Ok, I didn&#39;t do it by class but I made a list of Positions. I wasn&#39;t sure how to do it in a class. Now I print it on the screen and I move the rows  of aliens to the left but I can&#39;t find how to clean the old ones from the console. Do you have any idea?"}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 8236700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ade35ad94271b74b16e2c776cdf1d8?s=128&d=identicon&r=PG&f=1", "display_name": "Julian Docev", "link": "https://stackoverflow.com/users/8236700/julian-docev"}, "edited": false, "score": 0, "creation_date": 1535741372, "post_id": 52107587, "comment_id": 91193715, "body": "Thank&#39;s a lot Dmitry! It worked! Yes I will fallow your&#39;s advises."}, {"owner": {"reputation": 95, "user_id": 8236700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ade35ad94271b74b16e2c776cdf1d8?s=128&d=identicon&r=PG&f=1", "display_name": "Julian Docev", "link": "https://stackoverflow.com/users/8236700/julian-docev"}, "edited": false, "score": 0, "creation_date": 1535753418, "post_id": 52107587, "comment_id": 91197476, "body": "I have another question. Do you have any idea why on moving they are loosing speed?They start going left fast and at the end the movement is maybe 10x slower."}, {"owner": {"reputation": 1465, "user_id": 2651950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHmMJ.jpg?s=128&g=1", "display_name": "KozhevnikovDmitry", "link": "https://stackoverflow.com/users/2651950/kozhevnikovdmitry"}, "reply_to_user": {"reputation": 95, "user_id": 8236700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ade35ad94271b74b16e2c776cdf1d8?s=128&d=identicon&r=PG&f=1", "display_name": "Julian Docev", "link": "https://stackoverflow.com/users/8236700/julian-docev"}, "edited": false, "score": 1, "creation_date": 1535940910, "post_id": 52107587, "comment_id": 91234757, "body": "Looks like you need to clear <code>invaders</code> collection too. It is overfilling with items after many iterations."}, {"owner": {"reputation": 95, "user_id": 8236700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ade35ad94271b74b16e2c776cdf1d8?s=128&d=identicon&r=PG&f=1", "display_name": "Julian Docev", "link": "https://stackoverflow.com/users/8236700/julian-docev"}, "edited": false, "score": 0, "creation_date": 1535956179, "post_id": 52107587, "comment_id": 91238127, "body": "Thank you!Finally I put my brains in use and i have figured it out :) I have progressed with the game and I got to the point when the invaders collides with the shot. I can&#39;t find a way to take the invader off the collection. I suppose I have made an error  along the code but I still can&#39;t figure it out. If you want you can check it on: <a href=\"https://stackoverflow.com/questions/52138460/shooting-collision-of-the-shot-with-a-collection-of-list?noredirect=1#comment91226743_52138460\" title=\"shooting collision of the shot with a collection of list\">stackoverflow.com/questions/52138460/&hellip;</a>  Thank&#39;s again for your help."}, {"owner": {"reputation": 1465, "user_id": 2651950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHmMJ.jpg?s=128&g=1", "display_name": "KozhevnikovDmitry", "link": "https://stackoverflow.com/users/2651950/kozhevnikovdmitry"}, "reply_to_user": {"reputation": 95, "user_id": 8236700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ade35ad94271b74b16e2c776cdf1d8?s=128&d=identicon&r=PG&f=1", "display_name": "Julian Docev", "link": "https://stackoverflow.com/users/8236700/julian-docev"}, "edited": false, "score": 0, "creation_date": 1535959732, "post_id": 52107587, "comment_id": 91239712, "body": "Happy to help =)"}], "tags": [], "owner": {"reputation": 1465, "user_id": 2651950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHmMJ.jpg?s=128&g=1", "display_name": "KozhevnikovDmitry", "link": "https://stackoverflow.com/users/2651950/kozhevnikovdmitry"}, "is_accepted": true, "score": 2, "last_activity_date": 1535682055, "last_edit_date": 1535682055, "creation_date": 1535681583, "answer_id": 52107587, "question_id": 52086601, "link": "https://stackoverflow.com/questions/52086601/space-invaders-aliens-rows/52107587#52107587", "title": "Space invaders aliens rows", "body": "<p>Try to change your <code>Main</code> method in this way to make picture better:</p>\n\n<pre><code>static void Main()\n{\n    ScreenSettings();\n\n    while (true)\n    {\n        invader.Clear();\n        InitializeInvaders(moveY, moveX);\n        DrawInvaders();\n        Console.Clear();\n        Thread.Sleep(10);\n        moveX++;\n    }\n}\n</code></pre>\n\n<p>The point is, that you have to clear the previous positions before redrawing aliens. And you don't need call <code>InitializeInvaders</code> and <code>DrawInvaders</code> twice in <code>Main</code>. </p>\n\n<p>I agree with Dour High Arch, that it would be better with <code>Invader</code> class. And two another pieces of advice:</p>\n\n<ol>\n<li>Don't name you local variables just like global statics: <code>invader</code>, <code>moveX</code>, <code>moveY</code>.</li>\n<li>Try to go away from global static variables. Encapsulate this state within classes, hide it in private fields, make those class be responsible for modification of their state in order to make code more structured and comprehensible.</li>\n</ol>\n\n<p>Hope it helps. P.S. Nice aliens=)</p>\n"}], "owner": {"reputation": 95, "user_id": 8236700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ade35ad94271b74b16e2c776cdf1d8?s=128&d=identicon&r=PG&f=1", "display_name": "Julian Docev", "link": "https://stackoverflow.com/users/8236700/julian-docev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 52107587, "answer_count": 1, "score": 1, "last_activity_date": 1535682055, "creation_date": 1535579691, "last_edit_date": 1535670985, "question_id": 52086601, "link": "https://stackoverflow.com/questions/52086601/space-invaders-aliens-rows", "title": "Space invaders aliens rows", "body": "<p>For learning purpose I want to make a console clone on c# of space invaders. I'm stuck on the issue of how to make the rows of invaders. There must 4 rows with 6 invaders for example. I have managed to make one invader as a list of structure where I put the x and y coordinate and the character.\nMy question is: How  can I make 4 rows with 6 invaders of that type so they can be printed on the console every one with different coordinates.\nthis is an example of my invader:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Threading;\n\n\nnamespace SpaceInvader\n{\n    public struct Position\n    {\n        public int Row { get; set; }\n        public int Col { get; set; }\n        public char Symbol { get; set; }\n\n        public Position(int row, int col, char symbol)\n        {\n            this.Row = row;\n            this.Col = col;\n            this.Symbol = symbol;\n        }\n    }\n    class Program\n    {\n        static public int maxRows = 50;\n        static public int maxCols = 180;\n\n        public static List&lt;Position&gt; invader = new List&lt;Position&gt;();\n        public static List&lt;List&lt;Position&gt;&gt; invaders = new List&lt;List&lt;Position&gt;&gt;();\n        public static  int moveX = 0;\n        public static int moveY =0;\n\n\n        static void Main()\n        {\n            ScreenSettings();\n            InitializeInvaders();\n            DrawInvaders();\n\n            while (true)\n            {\n\n                moveX++;    \n                InitializeInvaders(moveY,moveX);\n                DrawInvaders();\n                Console.Clear();\n                Thread.Sleep(300);\n\n            }\n\n        }\n\n\n        private static void ScreenSettings()\n        {\n            Console.CursorVisible = false;\n            Console.BufferHeight = Console.WindowHeight = maxRows;\n            Console.BufferWidth = Console.WindowWidth = maxCols;\n        }\n\n        private static void DrawInvaders()\n        {\n            foreach (List&lt;Position&gt; invader in invaders)\n            {\n                DrawInvader(invader);\n            }\n        }\n\n        private static void InitializeInvaders(int moveY = 0, int moveX = 0)\n        {\n            for (int row = 0 ; row &lt; 16; row += 4)\n            {\n                for (int col = 0 ; col &lt; 99 ; col += 9)\n                {\n                    InitializeInvader(row+moveY, col+moveX);\n                }\n            }\n\n            invaders.Add(invader);\n\n        }\n\n\n        private static void DrawInvader(List&lt;Position&gt; invader)\n        {\n            ;\n            foreach (Position part in invader)\n            {\n                Console.SetCursorPosition(part.Col, part.Row);\n                Console.Write((char)part.Symbol);\n            }\n\n        }\n\n        public static List&lt;Position&gt; InitializeInvader(int row, int col)\n        {\n\n\n            int startrow = 5;//start position row\n            int startcol = 40;// start position col\n\n            invader.Add(new Position(startrow + row, startcol + col, '/'));\n            invader.Add(new Position(startrow + row, startcol + 1 + col, '{'));\n            invader.Add(new Position(startrow + row, startcol + 2 + col, 'O'));\n            invader.Add(new Position(startrow + row, startcol + 3 + col, '}'));\n            invader.Add(new Position(startrow + row, startcol + 4 + col, '\\\\'));\n            invader.Add(new Position(startrow + 1 + row, startcol + col, '\\\\'));\n            invader.Add(new Position(startrow + 1 + row, startcol + 1 + col, '~'));\n            invader.Add(new Position(startrow + 1 + row, startcol + 2 + col, '$'));\n            invader.Add(new Position(startrow + 1 + row, startcol + 3 + col, '~'));\n            invader.Add(new Position(startrow + 1 + row, startcol + 4 + col, '/'));\n            return invader;\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "windows", "winapi"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1535587123, "post_id": 52086581, "comment_id": 91125377, "body": "It is a universally misunderstood winapi function.  Even though the rule is a very simple one: it only returns a reliable value when the previous winapi call failed and that winapi function is documented to set the value.  Very, very important to <b>immediately</b> call it after the failure.  Making <i>any</i> other winapi call is liable to change its value.  Including ones that did not fail, an important detail that everybody overlooks.  Especially in this case you have no idea whatsoever, there are an enormous number of winapi calls that you cannot see."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1535612313, "post_id": 52086581, "comment_id": 91131598, "body": "@han: <i>&quot;Even though the rule is a very simple one: it only returns a reliable value when the previous winapi call failed [...]&quot;</i> - No, that&#39;s not part of the rule. The <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms679360.aspx\" rel=\"nofollow noreferrer\">documentation</a> is unambiguously clear: <i>&quot;You should call the GetLastError function immediately when a function&#39;s return value indicates that such a call will return useful data.&quot;</i> That doesn&#39;t imply failure (as evidenced by e.g. <a href=\"https://docs.microsoft.com/en-us/windows/desktop/api/synchapi/nf-synchapi-createmutexw\" rel=\"nofollow noreferrer\"><code>CreateMutex</code></a>)."}], "owner": {"reputation": 9, "user_id": 6193325, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-y_S6VY2IuLc/AAAAAAAAAAI/AAAAAAAAAB4/dM5Ru2yTsiY/photo.jpg?sz=128", "display_name": "Ned Grady", "link": "https://stackoverflow.com/users/6193325/ned-grady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "closed_date": 1535590525, "answer_count": 0, "score": 0, "last_activity_date": 1535579917, "creation_date": 1535579568, "last_edit_date": 1535579917, "question_id": 52086581, "link": "https://stackoverflow.com/questions/52086581/windows-system-error-code-set-to-2-after-calling-codedomprovider-compileassembly", "closed_reason": "Duplicate", "title": "Windows System Error Code set to 2 after calling CodeDomProvider.CompileAssemblyFromSource", "body": "<p>I noticed that executing the <code>CompileAssemblyFromSource</code> in the code sample below (and in another project) sets the last <a href=\"https://docs.microsoft.com/en-us/windows/desktop/debug/system-error-codes--0-499-\" rel=\"nofollow noreferrer\">System Error Code</a> to 2 (ERROR_FILE_NOT_FOUND), as returned by <code>GetLastError</code>.</p>\n\n<p>The PathToAssembly property on the CompilerResults objects does point to normal looking DLL (when GenerateInMemory is set to false), and is null when GenerateInMemory is set to true. In both of these cases the last System Error Code still gets set to 2 but the assembly is compiled fine, and I am able to execute <code>PrintTest</code> with no unexpected results.</p>\n\n<p>This is an issue because i'm having to set the last System Error Code to 0 before executing some unmanaged code that will terminate early if the windows error code is not 0.</p>\n\n<p>I'm at a loss as to what the reason for this error could be or what file is missing. It would be nice to be able to call this method without having to fudge the last system error code afterwards. Are there any known reasons for this?</p>\n\n<p>Here's the code to compile the assembly and print out the last System Error Code: </p>\n\n<pre><code>using System;\nusing System.Linq;\nusing System.Runtime.InteropServices;\nusing System.CodeDom.Compiler;\nusing Microsoft.CSharp;\n\nclass Program\n{\n    [DllImport(\"Kernel32.dll\")]\n    public static extern int GetLastError();\n\n    [DllImport(\"Kernel32.dll\")]\n    public static extern void SetLastError(uint errorCode);\n\n    const string SOURCE = @\"using System;\n\n        public static class Test\n        {\n            public static void PrintTest()\n            {\n                Console.WriteLine(\"\"PrintTest()\"\");\n            }\n        }\";\n\n    static void Main(string[] args)\n    {\n        CodeDomProvider cpd = new CSharpCodeProvider();\n\n        CompilerParameters cp = new CompilerParameters()\n        {\n            GenerateExecutable = false,\n            GenerateInMemory = true\n        };\n        cp.ReferencedAssemblies.Add(\"System.dll\");\n\n        Console.WriteLine($\"GetLastError Before Compile: {GetLastError()}\");\n        CompilerResults cr = cpd.CompileAssemblyFromSource(cp, SOURCE);\n        Console.WriteLine($\"GetLastError After Compile: {GetLastError()}\");\n        SetLastError(0);\n\n        if (cr.Errors.Count &gt; 0)\n        {\n            foreach (CompilerError error in cr.Errors)\n            {\n                Console.WriteLine(error.ErrorText);\n            }\n            Console.ReadLine();\n            return;\n        }\n\n        Console.WriteLine(cr.PathToAssembly ?? \"null path\");\n\n        cr.CompiledAssembly\n            .GetTypes()\n            .First(t =&gt; t.Name == \"Test\")\n            .GetMethod(\"PrintTest\")\n            .Invoke(null, null);\n        Console.ReadLine();\n    }\n}\n</code></pre>\n\n<p>The output i'm seeing is:</p>\n\n<ul>\n<li>GetLastError Before Compile: 0 </li>\n<li>GetLastError After Compile: 2</li>\n<li>null path</li>\n<li>PrintTest()</li>\n</ul>\n\n<p>The unexpected output would be the second line, i would expect the code to stay at 0.</p>\n"}, {"tags": ["javascript", "c#", "model-view-controller", "hangfire"], "answers": [{"tags": [], "owner": {"reputation": 681, "user_id": 4268340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qfoHW.png?s=128&g=1", "display_name": "Pieter Alberts", "link": "https://stackoverflow.com/users/4268340/pieter-alberts"}, "is_accepted": true, "score": 0, "last_activity_date": 1535697969, "last_edit_date": 1535697969, "creation_date": 1535696892, "answer_id": 52109667, "question_id": 52086499, "link": "https://stackoverflow.com/questions/52086499/custom-input-with-hangfire/52109667#52109667", "title": "Custom Input with Hangfire", "body": "<p>Mathew, I hope I understand your question correctly.</p>\n\n<p>Hangfire can schedule jobs based of <a href=\"https://en.wikipedia.org/wiki/Cron\" rel=\"nofollow noreferrer\">cron</a> expressions.\nWith that being said, I would suggest you add a select/drop down on your UI with the cron possibilities listed. Passing the <em>value</em> of the selected item to the controller / hangfire job. See code examples below:</p>\n\n<p><a href=\"https://crontab.guru/\" rel=\"nofollow noreferrer\">cron expression tester</a></p>\n\n<p><strong><em>HTML:</em></strong></p>\n\n<pre><code>&lt;select&gt;\n   &lt;option value=\"0 10 * * * \"&gt;Every day at 10&lt;/option&gt;\n   &lt;option value=\"0 10 * * 6\"&gt;Every Saturday at 10&lt;/option&gt;\n   &lt;option value=\"0 10 * * 1\"&gt;Every Monday at 10&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p><strong><em>Hangfire:</em></strong></p>\n\n<pre><code>string cronExp = \"0 10 * * *\";\nRecurringJob.AddOrUpdate(() =&gt; Console.WriteLine(\"Recurring!\"),  cronExp);\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 10292206, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pEsfcD5wId0/AAAAAAAAAAI/AAAAAAAAAA4/ZWodqnqb3FM/photo.jpg?sz=128", "display_name": "Mathew Dodson", "link": "https://stackoverflow.com/users/10292206/mathew-dodson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 52109667, "answer_count": 1, "score": 0, "last_activity_date": 1535698571, "creation_date": 1535579153, "last_edit_date": 1535698571, "question_id": 52086499, "link": "https://stackoverflow.com/questions/52086499/custom-input-with-hangfire", "title": "Custom Input with Hangfire", "body": "<p>I\u2019m new to Hangfire and am trying to figure out a way to allow the user to customize the time to trigger a job. I have a Jquery method to receive input from the user and getting the value. I\u2019m using MVC so the controller is using the basic recurring jobs every minute.</p>\n\n<pre><code>[HttpPost]\n\npublic string GetUrlSource(string url){\nJobStorage.Current = new SqlServerStorage(ConnectionString);\n\nRecurringJob.AddOrUpdate(()\n    =&gt; GetUrlSource(url), Cron.Minutely//Trying to change to custom input. There is an input on the view with an id of freqInput and I'm using AJAX call to pull the jquery to the controller and set to a parameter.);\nRecurringJob.Trigger(\"1\");\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-web-api2", "jwt", "owin"], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 2290406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4JIK2.png?s=128&g=1", "display_name": "API", "link": "https://stackoverflow.com/users/2290406/api"}, "is_accepted": true, "score": 0, "last_activity_date": 1536053146, "creation_date": 1536053146, "answer_id": 52163057, "question_id": 52086222, "link": "https://stackoverflow.com/questions/52086222/checking-whitelist-table-during-authorize-attribute-asp-net-mvc5-web-api-jw/52163057#52163057", "title": "Checking &#39;Whitelist&#39; Table during [Authorize] Attribute (ASP.Net MVC5 Web API JWT)", "body": "<p>I've managed to get this working using a custom provider on the <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.owin.security.jwt.jwtbearerauthenticationoptions(v=vs.113).aspx\" rel=\"nofollow noreferrer\">JwtBearerAuthenticationOptions</a>.</p>\n\n<p>The provider inherits from <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.owin.security.oauth.ioauthbearerauthenticationprovider(v=vs.113).aspx\" rel=\"nofollow noreferrer\">IOAuthBearerAuthenticationProvider</a> and then I specifically use the ValidateIdentity method to handle the additional logic.</p>\n\n<pre><code>    public Task ApplyChallenge(OAuthChallengeContext context)\n    {\n        return Task.FromResult&lt;object&gt;(null);\n    }\n\n    public Task RequestToken(OAuthRequestTokenContext context)\n    {\n        return Task.FromResult&lt;object&gt;(null);\n    }\n\n    public Task ValidateIdentity(OAuthValidateIdentityContext context)\n    {\n        string userId = // user id from Token...\n        Guid tokenId = // jti from Token...\n        string appId = // aud/client id from Token...\n\n        //do the DB check here...\n        if (CheckUserToken(userId, tokenId, appId))\n        {\n            return Task.FromResult&lt;object&gt;(null);\n        }\n        else\n        {\n            context.SetError(\"unauthorized_access\", \"The supplied security identity for this user is not valid.\");\n            return Task.FromResult&lt;object&gt;(null);\n        }\n    }\n</code></pre>\n\n<p>Then I handle the error on the client side to decide where to redirect the user etc...</p>\n\n<p>If anyone has any better suggestions I'd love to see them :)</p>\n"}], "owner": {"reputation": 95, "user_id": 2290406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4JIK2.png?s=128&g=1", "display_name": "API", "link": "https://stackoverflow.com/users/2290406/api"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 52163057, "answer_count": 1, "score": 0, "last_activity_date": 1536053146, "creation_date": 1535577650, "question_id": 52086222, "link": "https://stackoverflow.com/questions/52086222/checking-whitelist-table-during-authorize-attribute-asp-net-mvc5-web-api-jw", "title": "Checking &#39;Whitelist&#39; Table during [Authorize] Attribute (ASP.Net MVC5 Web API JWT)", "body": "<p>I followed this article to get JWTs issued from .Net Web API\n<a href=\"http://bitoftech.net/2014/10/27/json-web-token-asp-net-web-api-2-jwt-owin-authorization-server/\" rel=\"nofollow noreferrer\">http://bitoftech.net/2014/10/27/json-web-token-asp-net-web-api-2-jwt-owin-authorization-server/</a></p>\n\n<p><strong>TL;DR</strong></p>\n\n<p>How can I add additional logic to the Authorize attribute to check a database table against a specific claim within the JWT, perhaps within JwtBearerAuthenticationOptions?</p>\n\n<p><strong>Longer version...</strong></p>\n\n<p>It's working fine for generating the JWT and also validating it when firing a request against a controller including the Authorization header...</p>\n\n<p>Basically, what the article doesn't go into is Revocation...</p>\n\n<p>After a lot of googling I see there are several ways of handling Revocation with JWTs.</p>\n\n<p>I have chosen the 'Whitelist' route and so have created a table to store the UserId, ClientId (Audience) and a column containing a JTI value (GUID).</p>\n\n<p>Basically, I want to add additional logic to the [Authorize] attribute to also check this table for a matching JTI for the given User and ClientId...</p>\n\n<p>Is this doable without having to write a custom 'JWTAuthorize' Attribute as I would quite like to use the default...</p>\n\n<p>I suspect it's something that needs specifying within JwtBearerAuthenticationOptions?</p>\n\n<p>Cheers!</p>\n"}, {"tags": ["c#", "dictionary", "static", "global-variables"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1535576499, "post_id": 52086006, "comment_id": 91122341, "body": "Seems like you dropped a bunch of <code>;</code>"}, {"owner": {"reputation": 2953, "user_id": 3769368, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3301727987157807f500ece485c1446d?s=128&d=identicon&r=PG&f=1", "display_name": "Rajmond Burgaj", "link": "https://stackoverflow.com/users/3769368/rajmond-burgaj"}, "edited": false, "score": 0, "creation_date": 1535576789, "post_id": 52086006, "comment_id": 91122465, "body": "Are you sure <code>get_IP()</code> and <code>get_Host()</code> do return anything ? Further more how do you print the dictionary, what do you mean by this ?"}, {"owner": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "edited": false, "score": 4, "creation_date": 1535576880, "post_id": 52086006, "comment_id": 91122499, "body": "Everytime you call <code>AddPing</code> you create new dictionary and return it. You lose other ips and host names"}, {"owner": {"reputation": 1055, "user_id": 2310805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REDuN.jpg?s=128&g=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/2310805/eugene"}, "edited": false, "score": 0, "creation_date": 1535576947, "post_id": 52086006, "comment_id": 91122522, "body": "Why do you need method test1() ? It overrides test_dict. That could be the reason."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1535577296, "post_id": 52086006, "comment_id": 91122660, "body": "You are showing a lot of code that is unrelated - why?"}, {"owner": {"reputation": 154, "user_id": 1234798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BfoTh.jpg?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/1234798/richard"}, "edited": false, "score": 0, "creation_date": 1535577772, "post_id": 52086006, "comment_id": 91122827, "body": "Can you add the code you are using to call the test messages? Are you creating a new instance of <code>testclass</code> before each call to <code>call_test1</code>, <code>call_test2</code> and <code>call_test3</code>? are you invoking <code>test1</code> before each call to <code>call_test1</code>, <code>call_test2</code> and <code>call_test3</code>?"}, {"owner": {"reputation": 119, "user_id": 8448115, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/85a3a21b20ad7b2f42d49fe345cefeca?s=128&d=identicon&r=PG&f=1", "display_name": "Nomadic_coder", "link": "https://stackoverflow.com/users/8448115/nomadic-coder"}, "reply_to_user": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "edited": false, "score": 0, "creation_date": 1535577806, "post_id": 52086006, "comment_id": 91122846, "body": "@AdemCatamak, Thanks Can you suggest me how I can fix the over writing issue  in C#?"}, {"owner": {"reputation": 859, "user_id": 3563563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb456db94804e2a88e57e5970ac8e60?s=128&d=identicon&r=PG&f=1", "display_name": "gdir", "link": "https://stackoverflow.com/users/3563563/gdir"}, "edited": false, "score": 0, "creation_date": 1535579930, "post_id": 52086006, "comment_id": 91123556, "body": "Some additional remarks: 1. Naming conventions: Please lookup C# naming conventions, e.g. when to use lower and upper case. Makes the code much more readable for other C# developers here on SO. 2. Don&#39;t use a dictionary to keep together different properties (net message, ip, hostname). Define a class for that. 3. Don&#39;t name anything &quot;test&quot; unless it&#39;s a unit test. 4. Why is testclass partial?"}], "answers": [{"tags": [], "owner": {"reputation": 5987, "user_id": 1577580, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/u6PCt.jpg?s=128&g=1", "display_name": "Gilad", "link": "https://stackoverflow.com/users/1577580/gilad"}, "is_accepted": false, "score": 0, "last_activity_date": 1535578582, "last_edit_date": 1535578582, "creation_date": 1535578061, "answer_id": 52086304, "question_id": 52086006, "link": "https://stackoverflow.com/questions/52086006/global-static-dictionary-in-c/52086304#52086304", "title": "global static Dictionary in C#", "body": "<p>I think you are missing something about when a new dictionary is created.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing Microsoft.VisualStudio.TestTools.UnitTesting;\n\nnamespace TrieQuestions\n{\n    [TestClass]\n    public class UnitTest2\n    {\n        //1st new of Dictionary\n        IDictionary&lt;string, string&gt; test_dict= new Dictionary&lt;string, string&gt;();\n        private String ping_msg;\n        [TestMethod]\n        public void TestMethod1()\n        {\n            test_dict = develop.AddPing(ping_msg);\n            test_dict[\"NET_MSG\"] = \"Putting new message\";\n        }\n    }\n\n    public static class develop\n    {\n\n        public static IDictionary&lt;string, string&gt; AddPing(String message)\n        {\n            //another new instance of the dictionary is created!!\n            IDictionary&lt;string, string&gt; new_ping = new Dictionary&lt;string, string&gt;();\n            new_ping[\"NET_MSG\"] = message;\n            new_ping[\"IP\"] = get_IP();\n            new_ping[\"HOST\"] = get_host();\n\n            return new_ping;\n        }\n\n        private static string get_host()\n        {\n            return \"host\";\n        }\n\n        private static string get_IP()\n        {\n            return \"ip\";\n        }\n    }\n}\n</code></pre>\n\n<p>I created this test code for you, so you understand what you are missing.</p>\n\n<p>if you call the code inside the unit test, it will work for you.\nhowever please notice the comments, I added, you are allocating a new dictionary twice, the first time the test is called and again inside your static class, so that means the if you write to the first allocated dictionary you will see an empty dictionary.</p>\n\n<p>if you add test_dict into the watch list in debug mode you can also use make object Id command in order to see that you are creating new instance.</p>\n\n<p>if you want to solve it you can pass the original dictionary as a parameter to the function. </p>\n\n<pre><code> public static void AddPing(String message, IDictionary&lt;string, string&gt; dict)\n{\n    dict[\"NET_MSG\"] = message;\n    dict[\"IP\"] = get_IP();\n    dict[\"HOST\"] = get_host();\n}\n</code></pre>\n\n<p>Or please share more of your code, so I can follow your flow.</p>\n"}, {"tags": [], "owner": {"reputation": 2355, "user_id": 9918730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sqil.jpg?s=128&g=1", "display_name": "GoldenAge", "link": "https://stackoverflow.com/users/9918730/goldenage"}, "is_accepted": false, "score": 0, "last_activity_date": 1535578831, "creation_date": 1535578831, "answer_id": 52086447, "question_id": 52086006, "link": "https://stackoverflow.com/questions/52086006/global-static-dictionary-in-c/52086447#52086447", "title": "global static Dictionary in C#", "body": "<p>I've created a simple console app just to show you how to modify the <code>test_dict</code> values:</p>\n\n<pre><code>class Program\n{\n\n    static void Main(string[] args)\n    {\n        var foo = new Testclass();\n        foo.test1();\n\n        Display(foo);\n        foo.call_test1();\n        Display(foo);\n        foo.call_test2();\n        Display(foo);\n        foo.call_test3();\n        Display(foo);\n        foo.call_test4();\n        Display(foo);\n    }\n\n    private static void Display(Testclass foo)\n    {\n        foreach (var item in foo.test_dict)\n        {\n            Console.WriteLine(item.Value + item.Key);\n        }\n\n        Console.WriteLine();\n    }\n}\n\npublic partial class Testclass\n{\n    public IDictionary&lt;string, string&gt; test_dict = new Dictionary&lt;string, string&gt;();\n    private String ping_msg;\n\n    public void test1()\n    {\n        test_dict = Develop.AddPing(ping_msg);\n    }\n\n    // chnages only NET_MSG value, other test_dict fields stay untouched!!!\n    public void call_test1()\n    {\n        test_dict[\"NET_MSG\"] = \"Putting new message\";\n    }\n\n    // chnages only NET_MSG value, other test_dict fields stay untouched!!!\n    public void call_test2()\n    {\n        test_dict[\"NET_MSG\"] = \"Putting new message 2\";\n    }\n\n    // chnages only NET_MSG value, other test_dict fields stay untouched!!!\n    public void call_test3()\n    {\n        test_dict[\"NET_MSG\"] = \"Putting new message3\";\n    }\n\n    // here you can change all the fields \n    public void call_test4()\n    {\n        test_dict[\"NET_MSG\"] = \"new net_msg value\";\n        test_dict[\"IP\"] = \"new ip value\";\n        test_dict[\"HOST\"] = \"new host value\";\n    }\n}\n\npublic static class Develop\n{\n\n    public static string get_IP()\n    {\n        return \"blah\";\n    }\n\n    public static string get_host()\n    {\n        return \"blah2\";\n    }\n\n    public static IDictionary&lt;string, string&gt; AddPing(String message)\n    {\n        return new Dictionary&lt;string, string&gt;()\n        {\n            {\"NET_MSG\", message},\n            {\"IP\", get_IP()},\n            {\"HOST\", get_host()}\n        };\n    }\n\n}\n</code></pre>\n\n<p>As a result you should receive:</p>\n\n<pre><code>NET_MSG\nblahIP\nblah2HOST\n\nPutting new messageNET_MSG\nblahIP\nblah2HOST\n\nPutting new message 2NET_MSG\nblahIP\nblah2HOST\n\nPutting new message3NET_MSG\nblahIP\nblah2HOST\n\nnew net_msg valueNET_MSG\nnew ip valueIP\nnew host valueHOST\n</code></pre>\n\n<p>Invoking <code>call_test1</code>, <code>call_test2</code> or <code>call_test3</code> you are changing only the NET_MSG. The other <code>test_dict</code> fields stay untouched. Hope it can help you. If you invoke the <code>call_test4</code>method you will change all the defined values of the <code>test_dict</code> dictionary.</p>\n"}, {"tags": [], "owner": {"reputation": 154, "user_id": 1234798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BfoTh.jpg?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/1234798/richard"}, "is_accepted": false, "score": 0, "last_activity_date": 1535579210, "creation_date": 1535579210, "answer_id": 52086514, "question_id": 52086006, "link": "https://stackoverflow.com/questions/52086006/global-static-dictionary-in-c/52086514#52086514", "title": "global static Dictionary in C#", "body": "<p>If the test class looks like this:</p>\n\n<pre><code>public partial testclass\n{\n  IDictionary&lt;string, string&gt; test_dict= new Dictionary&lt;string, string&gt;();\n  String ping_msg\n\n  private void test1()\n  {\n   test_dict = develop.AddPing(ping_msg)\n  }\n\n  public void call_test1()\n  {\n    test_dict[\"NET_MSG\"] = \"Putting new message\";\n  }\n\n  public void call_test2()\n  {\n    test_dict[\"NET_MSG\"] = \"Putting new message 2\";\n  }\n\n  public void call_test3()\n  {\n    test_dict[\"NET_MSG\"] = \"Putting new message3\";\n  }\n}\n</code></pre>\n\n<p>The issue is that <code>test1()</code> is never being called to populate the initial dictionary so the initial dictionary is empty and the lines</p>\n\n<pre><code>test_dict[\"NET_MSG\"] = \"Putting new message1\";\n\ntest_dict[\"NET_MSG\"] = \"Putting new message2\";\n\ntest_dict[\"NET_MSG\"] = \"Putting new message3\";\n</code></pre>\n\n<p>are creating the key \"NET_MSG\" in the empty dictionary.</p>\n\n<p>To populate and only change the NET_MSG add a call to <code>test1()</code> to set <code>test_dict</code> to the dictionary you want to use instead of an empty dictionary.</p>\n\n<p>Also remember that if you are instantiating a new class each time, <code>test1()</code> must be called each time.</p>\n\n<p>Example 1:</p>\n\n<pre><code>public void call_test1() {\n  test1();\n  test_dict[\"NET_MSG\"] = \"Putting new message1\";\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>testclass test = new testclass(&lt;ctor args&gt;);\ntest.call_test1();\n</code></pre>\n\n<p>That will populate and then change <code>NET_MSG</code></p>\n\n<p>Example 2:</p>\n\n<pre><code>public void init() {\n  test1();\n}\n\npublic void call_test1() {\n  test_dict[\"NET_MSG\"] = \"Putting new message1\";\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>testclass test = new testclass(&lt;ctor args&gt;);\ntest.init();\ntest.call_test1();\n</code></pre>\n\n<p>This is a little more explicit in identifying what is happening - that an init occurs so the data is initialized before the <code>call_*</code> methods are useful. </p>\n\n<p>You can even:</p>\n\n<pre><code>testclass test = new testclass(&lt;ctor args&gt;);\ntest.init();\ntest.call_test1();\n//Do something with the data\ntest.call_test2();\n//Do something with the data\ntest.call_test3();\n//Do something with the data\n</code></pre>\n\n<p>Then you init once and the call_* will use the same dictionary and only change the \"NET_MSG\" value.</p>\n"}], "owner": {"reputation": 119, "user_id": 8448115, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/85a3a21b20ad7b2f42d49fe345cefeca?s=128&d=identicon&r=PG&f=1", "display_name": "Nomadic_coder", "link": "https://stackoverflow.com/users/8448115/nomadic-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3282, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1600772790, "creation_date": 1535576361, "last_edit_date": 1600772790, "question_id": 52086006, "link": "https://stackoverflow.com/questions/52086006/global-static-dictionary-in-c", "title": "global static Dictionary in C#", "body": "<p>I am writing a C# test code and new in it. Kind of confused and need help. This is a skeletal code and not entire code. I am looking for solution where I can keep test_dict keys IP and host intact along different methods and only update NET_MSG value.</p>\n<pre><code>public partial testclass\n{\n    IDictionary&lt;string, string&gt; test_dict= new Dictionary&lt;string, string&gt;();\n    String ping_msg;\n\n    private void test1()\n    {\n       test_dict = develop.AddPing(ping_msg);\n    }\n</code></pre>\n<p>Every time I add a new message in <code>test_dict[&quot;NET_MSG&quot;]</code> in below methods, and print <code>test_dict</code>, I get only one key in <code>test_dict</code> which is <code>test_dict[&quot;NET_MSG&quot;]</code> and I do not see IP address and host.</p>\n<p>I am confused since I am using a global dictionary variable and once the <code>test_dict</code> is called from <code>test1()</code>, <code>test_dict</code> would be having all three keys correct, <code>NET_MSG</code>, <code>IP</code>, and <code>HOST</code>. Then why everytime if I change the value of only <code>NET_MSG</code> key inside <code>call_test</code> methods I lose other two keys <code>IP</code> and <code>HOST</code>?</p>\n<pre><code>public void call_test1()\n{\n    test_dict[&quot;NET_MSG&quot;] = &quot;Putting new message&quot;;\n}\n\n    public void call_test2()\n{\n    test_dict[&quot;NET_MSG&quot;] = &quot;Putting new message 2&quot;;\n}\n\n    public void call_test3()\n{\n    test_dict[&quot;NET_MSG&quot;] = &quot;Putting new message3&quot;;\n}\n</code></pre>\n<p>In another file:</p>\n<pre><code>public static class develop\n{\n    public static IDictionary&lt;string, string&gt; AddPing(String message)\n    {\n        IDictionary&lt;string, string&gt; new_ping = new Dictionary&lt;string, string&gt;();\n        new_ping[&quot;NET_MSG&quot;] = message;\n        new_ping[&quot;IP&quot;] = &quot;192.168.111.111&quot;;\n        new_ping[&quot;HOST&quot;] = &quot;some_host_name&quot;;\n      \n        return new_ping;\n    } \n}\n</code></pre>\n<p>Please help me with this and any solution to the problem is appreciated.</p>\n"}, {"tags": ["c#", "sqlbulkcopy"], "comments": [{"owner": {"reputation": 3600, "user_id": 2249815, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2tZpJ.png?s=128&g=1", "display_name": "Jebathon", "link": "https://stackoverflow.com/users/2249815/jebathon"}, "edited": false, "score": 2, "creation_date": 1535575943, "post_id": 52085756, "comment_id": 91122105, "body": "Why do you have &quot;copier.NotifyAfter = data.Rows.Count&quot; in succession with the first NotifyAfter? Wouldn&#39;t the latter overide the former?"}, {"owner": {"reputation": 3600, "user_id": 2249815, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2tZpJ.png?s=128&g=1", "display_name": "Jebathon", "link": "https://stackoverflow.com/users/2249815/jebathon"}, "edited": false, "score": 0, "creation_date": 1535576129, "post_id": 52085756, "comment_id": 91122189, "body": "Also the documentation for NotifyAfter involves invoking a &#39;SqlRowsCopiedEventHandler&#39; object with a function as a parameter. The notify would then call that function"}, {"owner": {"reputation": 4824, "user_id": 112829, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/de5a31a1cc2c4aa64f65fe5131d07650?s=128&d=identicon&r=PG", "display_name": "Ari Roth", "link": "https://stackoverflow.com/users/112829/ari-roth"}, "reply_to_user": {"reputation": 3600, "user_id": 2249815, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2tZpJ.png?s=128&g=1", "display_name": "Jebathon", "link": "https://stackoverflow.com/users/2249815/jebathon"}, "edited": false, "score": 0, "creation_date": 1535576187, "post_id": 52085756, "comment_id": 91122220, "body": "You&#39;re... kidding.  Holy cow I&#39;m an idiot.  I&#39;ve been looking at this for an hour and didn&#39;t notice the second <code>NotifyAfter</code>.  That&#39;d explain it.  Thank you so much!"}, {"owner": {"reputation": 3600, "user_id": 2249815, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2tZpJ.png?s=128&g=1", "display_name": "Jebathon", "link": "https://stackoverflow.com/users/2249815/jebathon"}, "edited": false, "score": 0, "creation_date": 1535576513, "post_id": 52085756, "comment_id": 91122351, "body": "Ok marked as an answer"}], "answers": [{"tags": [], "owner": {"reputation": 3600, "user_id": 2249815, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2tZpJ.png?s=128&g=1", "display_name": "Jebathon", "link": "https://stackoverflow.com/users/2249815/jebathon"}, "is_accepted": true, "score": 2, "last_activity_date": 1535576493, "creation_date": 1535576493, "answer_id": 52086028, "question_id": 52085756, "link": "https://stackoverflow.com/questions/52085756/sqlbulkcopy-not-respecting-notifyafter/52086028#52086028", "title": "SqlBulkCopy Not Respecting NotifyAfter", "body": "<p>Remove</p>\n\n<blockquote>\n  <p>copier.NotifyAfter = data.Rows.Count;</p>\n</blockquote>\n\n<pre><code>public void InsertInBatches(SqlConnection connection, DataTable data)\n{\n    int currentBatch = 1;\n\n    Console.WriteLine($\"{data.Rows.Count.ToString(\"N0\")} rows, {data.Rows.Count / 100000} batches\");\n    using (var copier = new SqlBulkCopy(connection))\n    {\n        copier.NotifyAfter = 100000;\n        copier.BatchSize = 100000;\n        copier.SqlRowsCopied += (s, e) =&gt; Console.WriteLine($\"Batch {currentBatch++} complete.\");\n        copier.DestinationTableName = \"dbo.BulkInsertPerformance\";\n        MapBulkCopyColumns(copier, data);\n        copier.WriteToServer(data);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4824, "user_id": 112829, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/de5a31a1cc2c4aa64f65fe5131d07650?s=128&d=identicon&r=PG", "display_name": "Ari Roth", "link": "https://stackoverflow.com/users/112829/ari-roth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 52086028, "answer_count": 1, "score": 1, "last_activity_date": 1535576517, "creation_date": 1535575202, "last_edit_date": 1535576517, "question_id": 52085756, "link": "https://stackoverflow.com/questions/52085756/sqlbulkcopy-not-respecting-notifyafter", "title": "SqlBulkCopy Not Respecting NotifyAfter", "body": "<p><strong>UPDATE</strong>:  So this was a dumb mistake and somewhat embarassing.  I had the following line below where I was setting the value correctly:</p>\n\n<pre><code>copier.NotifyAfter = data.Rows.Count;\n</code></pre>\n\n<p>So I was overwriting my own value and it wasn't working.</p>\n\n<p>I'm going to leave this post here as a reminder to others that sometimes, you just need to look a few lines lower to see that you're overwriting what you were trying to do.  Hopefully someone will look at this and think, \"Ah ha!  Yeah, got it.  Oops.\"</p>\n\n<p>If someone with more mod powers than me wants to lock this, or thinks it adds no value and wants to remove it, that works for me.</p>\n\n<p>In the meantime, oops. :)</p>\n\n<hr>\n\n<p>I'm trying to illustrate (for a demo) the batching support in <code>SqlBulkCopy</code>.  To do this, I have a method that takes a data table (with 500,000 rows in it), sets both <code>BatchSize</code> and <code>NotifyAfter</code> to 100,000, and prints at each firing of the <code>SqlRowsCopied</code> event.</p>\n\n<p>The problem is, it doesn't work.  No matter what I do I can't get more than one message printed.  I know <code>BatchSize</code> works, because if I set it very low I can see the rows coming in, but I can't get the event to fire more than once.  Anyone know what I'm doing wrong?</p>\n\n<p><strong>The method:</strong></p>\n\n<pre><code>public void InsertInBatches(SqlConnection connection, DataTable data)\n{\n    int currentBatch = 1;\n\n    Console.WriteLine($\"{data.Rows.Count.ToString(\"N0\")} rows, {data.Rows.Count / 100000} batches\");\n    using (var copier = new SqlBulkCopy(connection))\n    {\n        copier.NotifyAfter = 100000;\n        copier.BatchSize = 100000;\n        copier.SqlRowsCopied += (s, e) =&gt; Console.WriteLine($\"Batch {currentBatch++} complete.\");\n        copier.DestinationTableName = \"dbo.BulkInsertPerformance\";\n        MapBulkCopyColumns(copier, data);\n        copier.NotifyAfter = data.Rows.Count;\n        copier.WriteToServer(data);\n    }\n}\n</code></pre>\n\n<p><strong>The Output</strong></p>\n\n<blockquote>\n  <p>500,000 rows, 5 batches</p>\n  \n  <p>Batch 1 complete.</p>\n  \n  <p>Press any key to continue.</p>\n</blockquote>\n\n<p>By the end of it, I can see 500,000 rows in the database.  I just can't get the output to respect the <code>NotifyAfter</code> property.</p>\n"}, {"tags": ["c#", "build", "web", "azure-devops", "roslyn"], "comments": [{"owner": {"reputation": 3390, "user_id": 6593307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97a33fcc6f030a3e168eb5ef1b756a1a?s=128&d=identicon&r=PG&f=1", "display_name": "Weiwei", "link": "https://stackoverflow.com/users/6593307/weiwei"}, "edited": false, "score": 0, "creation_date": 1536234669, "post_id": 52085755, "comment_id": 91355861, "body": "For us investigate this issue, could you please set system.debug as true and queue a new build, then share the debug log here?"}, {"owner": {"reputation": 10711, "user_id": 295813, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f7d03c076c1fb195896dc1ace051458e?s=128&d=identicon&r=PG", "display_name": "Brett Postin", "link": "https://stackoverflow.com/users/295813/brett-postin"}, "edited": false, "score": 0, "creation_date": 1564669836, "post_id": 52085755, "comment_id": 101114915, "body": "Did you get a solution to this? We are having the same issue with a website project build on azure devops."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 9199873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aef13c5748f03823263507dcc87026e?s=128&d=identicon&r=PG&f=1", "display_name": "stuartmanton", "link": "https://stackoverflow.com/users/9199873/stuartmanton"}, "edited": false, "score": 2, "creation_date": 1535640666, "post_id": 52097386, "comment_id": 91150506, "body": "The solution includes a web site project rather than a web application project so does not include a csproj file that can be edited."}], "tags": [], "owner": {"reputation": 6866, "user_id": 7073340, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/kChtK.jpg?s=128&g=1", "display_name": "Jayendran", "link": "https://stackoverflow.com/users/7073340/jayendran"}, "is_accepted": false, "score": 0, "last_activity_date": 1535632946, "creation_date": 1535632946, "answer_id": 52097386, "question_id": 52085755, "link": "https://stackoverflow.com/questions/52085755/vsts-build-fails-publish-fails-to-find-roslyn-csc-exe-in-the-bin-folder/52097386#52097386", "title": "VSTS Build fails/Publish fails to find roslyn\\csc.exe in the bin folder", "body": "<p>One suggestion is updating your <strong>'.csproj'</strong> to change your build definition(<em>in the code itself</em>) like below to <code>copy the roslyn</code> directly into <code>bin</code> folder rather than the <code>default output directory</code>. </p>\n\n<pre><code>&lt;Target Name=\"CopyRoslynFiles\" AfterTargets=\"AfterBuild\" Condition=\"!$(Disable_CopyWebApplication) And '$(OutDir)' != '$(OutputPath)'\"&gt;\n    &lt;ItemGroup&gt;\n      &lt;RoslynFiles Include=\"$(CscToolPath)\\*\" /&gt;\n    &lt;/ItemGroup&gt;\n    &lt;MakeDir Directories=\"$(WebProjectOutputDir)\\bin\\roslyn\" /&gt;\n    &lt;Copy SourceFiles=\"@(RoslynFiles)\" DestinationFolder=\"$(WebProjectOutputDir)\\bin\\roslyn\" SkipUnchangedFiles=\"true\" Retries=\"$(CopyRetryCount)\" RetryDelayMilliseconds=\"$(CopyRetryDelayMilliseconds)\" /&gt;\n&lt;/Target&gt;\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/32780433/7073340\">Refer this SO</a></p>\n\n<p>This way you can't change the VSTS Build definition </p>\n"}], "owner": {"reputation": 41, "user_id": 9199873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aef13c5748f03823263507dcc87026e?s=128&d=identicon&r=PG&f=1", "display_name": "stuartmanton", "link": "https://stackoverflow.com/users/9199873/stuartmanton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4938, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1535726609, "creation_date": 1535575197, "last_edit_date": 1535726609, "question_id": 52085755, "link": "https://stackoverflow.com/questions/52085755/vsts-build-fails-publish-fails-to-find-roslyn-csc-exe-in-the-bin-folder", "title": "VSTS Build fails/Publish fails to find roslyn\\csc.exe in the bin folder", "body": "<p>We have a website project which has the following nuget packages installed</p>\n\n<pre><code>Microsoft.CodeDom.Providers.DotNetCompilerPlatform - 1.0.8\n\nMicrosoft.Net.Compilers - 2.4.0\n</code></pre>\n\n<p>The <code>web.config</code> has the following</p>\n\n<pre><code>&lt;system.codedom&gt;\n    &lt;compilers&gt;\n      &lt;compiler language=\"c#;cs;csharp\" extension=\".cs\" type=\"Microsoft.CodeDom.Providers.DotNetCompilerPlatform.CSharpCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=1.0.8.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" warningLevel=\"4\" compilerOptions=\"/langversion:6 /nowarn:1659;1699;1701\" /&gt;\n      &lt;compiler language=\"vb;vbs;visualbasic;vbscript\" extension=\".vb\" type=\"Microsoft.CodeDom.Providers.DotNetCompilerPlatform.VBCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=1.0.8.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" warningLevel=\"4\" compilerOptions=\"/langversion:14 /nowarn:41008 /define:_MYTYPE=\\&amp;quot;Web\\&amp;quot; /optionInfer+\" /&gt;\n    &lt;/compilers&gt;\n  &lt;/system.codedom&gt;\n</code></pre>\n\n<p>Builds work fine locally. When the <code>DotNetCompilerPlatform</code> is installed the <em>install.ps1</em> the script creates the Roslyn folder in the bin and copies csc.exe etc to the folder.</p>\n\n<p>The code is being written by a third party and committed to our VSTS repo. I want to use VSTS to build and deploy the website through our test/stage and prod environments. </p>\n\n<p>The VSTS build pipeline grabs the source, then restores the packages and runs a Visual Studio Build task on the solution. It is a website project so that is no proj for the site. The build fails with the following error</p>\n\n<blockquote>\n  <p>ASPNETCOMPILER(0,0): Error ASPRUNTIME: Could not find a part of the\n  path 'xxxxxxxxxx\\bin\\roslyn\\csc.exe'.</p>\n</blockquote>\n\n<p>As the build is just doing a restore of the package the R<strong>oslyn binaries are not copied to the bin</strong>.</p>\n\n<p>I also try removing the packages from the project and deleting the compilers from the <code>web.config</code> but then get the error.</p>\n\n<blockquote>\n  <p>Error CS1056: Unexpected character '$'</p>\n</blockquote>\n\n<p>where I am using some of the newer language features.</p>\n\n<p>I really want to automate the PreCompile and Publish as at the moment there are too many manual steps which are open to error or abuse.</p>\n\n<p>One thought I had was to add a step in the build pipeline after the package restore to run the <em>install.ps1</em> from the <code>DotNetCompilerPlatform</code> package folder which will hopefully copy the compiler tools to the bin. i.e. mimic what is done when you install the package. But before I went down this road I wanted to see if there was a better solution.</p>\n"}, {"tags": ["c#", "selenium", "selenium-webdriver", "selenium-firefoxdriver"], "answers": [{"tags": [], "owner": {"reputation": 309, "user_id": 6181859, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1b332853d7bc07ce9e24166d28e1b141?s=128&d=identicon&r=PG&f=1", "display_name": "G. Sena", "link": "https://stackoverflow.com/users/6181859/g-sena"}, "is_accepted": false, "score": 0, "last_activity_date": 1535650936, "creation_date": 1535650936, "answer_id": 52102713, "question_id": 52085678, "link": "https://stackoverflow.com/questions/52085678/firefox-driver-dont-save-sessions-and-cookies-in-profile/52102713#52102713", "title": "Firefox Driver don&#39;t save sessions and cookies in profile", "body": "<p>The location where I was taking the profile was incorrect, it's a lesson for anyone who is making the same mistake.</p>\n\n<p>The correct location is:</p>\n\n<blockquote>\n  <p>C:\\Users\\gabriels\\AppData\\Roaming\\Mozilla\\Firefox\\Profiles\\</p>\n</blockquote>\n"}], "owner": {"reputation": 309, "user_id": 6181859, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1b332853d7bc07ce9e24166d28e1b141?s=128&d=identicon&r=PG&f=1", "display_name": "G. Sena", "link": "https://stackoverflow.com/users/6181859/g-sena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1127, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535650936, "creation_date": 1535574799, "question_id": 52085678, "link": "https://stackoverflow.com/questions/52085678/firefox-driver-dont-save-sessions-and-cookies-in-profile", "title": "Firefox Driver don&#39;t save sessions and cookies in profile", "body": "<p>I am using firefox for an altomation which I need to keep login always active, ie .. keep the session, cookies etc ..\nI'm setting a default user for selenium not to create temporary, but it seems like Firefox ignores and clears session, cookies, history, everything .. every time it is terminated ..\nIn the chrome driver is working perfectly informing a default profile, but unfortunately I can not use the chrome.</p>\n\n<p>Is there any solution for this?</p>\n\n<pre><code>public IWebDriver StartFirefoxDriver(string url, string driverLocation, bool headless = false)\n{\n    var service = FirefoxDriverService.CreateDefaultService(driverLocation, \"geckodriver.exe\");\n    service.FirefoxBinaryPath = @\"C:\\Program Files\\Mozilla Firefox\\firefox.exe\";\n    service.HideCommandPromptWindow = true;\n\n    var test = new FirefoxProfile(@\"C:\\Users\\gabriels\\AppData\\Local\\Mozilla\\Firefox\\Profiles\\zq9sf3jp.Whats\");\n    test.DeleteAfterUse = false;\n\n    var firefoxOptions = new FirefoxOptions();\n\n    firefoxOptions.Profile = test;\n\n    if (headless)\n        firefoxOptions.AddArgument(\"--headless\");\n\n\n    var driver = new FirefoxDriver(service, firefoxOptions);\n\n    driver.Navigate().GoToUrl(url);\n\n\n\n    return driver;\n\n}\n</code></pre>\n"}, {"tags": ["c#", "parsing", "antlr", "lexer"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1535594190, "post_id": 52085614, "comment_id": 91126692, "body": "You&#39;d better learn from a complete sample so as to know how ANTLR works end to end, <a href=\"https://github.com/lextm/restructuredtext-antlr\" rel=\"nofollow noreferrer\">github.com/lextm/restructuredtext-antlr</a> I don&#39;t think an article like that can cover all the technical details, and it is also too broad to chat on SO, as your entire code is not available."}], "owner": {"reputation": 41, "user_id": 7607655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/221ded406c16cf18d1a2cf3bfd6794f0?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/7607655/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1535577490, "creation_date": 1535574526, "last_edit_date": 1535577490, "question_id": 52085614, "link": "https://stackoverflow.com/questions/52085614/problems-at-getting-started-with-antlr-not-able-to-create-speakvisitor-class", "title": "Problems at &quot;Getting started with ANTLR&quot; (Not able to create SpeakVisitor class)", "body": "<p>I'm currently going through this tutorial:</p>\n\n<p><a href=\"https://tomassetti.me/getting-started-with-antlr-in-csharp/#note1\" rel=\"nofollow noreferrer\">https://tomassetti.me/getting-started-with-antlr-in-csharp/#note1</a></p>\n\n<p>But I've issues at the point where I want to create the <code>SpeakVisitor</code> class, in the tutorial the class is inheriting from a class called <code>SpeakBaseVisitor</code> which was generated by ANTLR itself.</p>\n\n<p>So I looked through my whole solution and I couldn't find this created class...</p>\n\n<p>All I got are two pretty much empty class files called <code>SpeakLexer</code> and <code>SpeakParser</code> which got created after I selected <code>Combined Grammar</code> in the \"<code>Add \u2192 New Item</code>\" dialog.</p>\n\n<hr>\n\n<p><em>SpeakLexer.cs</em></p>\n\n<pre><code>namespace _006_ANTLR\n{\n    partial class SpeakLexer\n    {\n    }\n}\n</code></pre>\n\n<p><em>SpeakParser.cs</em></p>\n\n<pre><code>namespace _006_ANTLR\n{\n    partial class SpeakParser\n    {\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Do you got any idea why there is no <code>SpeakBaseVisitor</code> automatically generated in my case?</p>\n\n<p>Greetings! :-)</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "post"], "comments": [{"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 1, "creation_date": 1535574771, "post_id": 52085613, "comment_id": 91121614, "body": "2.3 quadrillion <i>definitely</i> won&#39;t fit into an <code>int</code>.  I suspect a credit card number should probably be a string, no?  Do you ever need to perform math on a credit card number?"}, {"owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "reply_to_user": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1535574870, "post_id": 52085613, "comment_id": 91121663, "body": "Thank;s for suggestion @David"}, {"owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "reply_to_user": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1535575564, "post_id": 52085613, "comment_id": 91121934, "body": "But it not helps with empty objects in DB @David"}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1535575692, "post_id": 52085613, "comment_id": 91121999, "body": "It&#39;s at least worth correcting so as to eliminate potential problems.  <code>Index</code> is also defined as a <code>string</code> but the input is providing a number.  When debugging, is the <code>payment</code> object <code>null</code>?  Is it instantiated but all of its properties are default values?  If so, it&#39;s also worth taking out the database parts and focusing solely on the problem at hand."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "reply_to_user": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 1, "creation_date": 1535576027, "post_id": 52085613, "comment_id": 91122138, "body": "@David You may not do math on it directly. But you might be surprised to find out that a <a href=\"https://en.wikipedia.org/wiki/Luhn_algorithm\" rel=\"nofollow noreferrer\">Luhn algorithm</a> is implemented for many credit card numbers. I found out about this algorithm when working on medical provider numbers in the healthcare industry and thought it was really neat."}, {"owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 0, "creation_date": 1535577119, "post_id": 52085613, "comment_id": 91122585, "body": "@EugeneSukh How did you post the data? Could you show the code?"}, {"owner": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "edited": false, "score": 1, "creation_date": 1535577240, "post_id": 52085613, "comment_id": 91122639, "body": "@EugeneSukh You need to add <code>[FromBody]</code> before the input parameter like this: <code>public JsonResult AddPaymentMethod([FromBody] PaymentMethods payment)</code>"}, {"owner": {"reputation": 593, "user_id": 3191951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/053b3a2b3ca580c666c3d69a2729f289?s=128&d=identicon&r=PG&f=1", "display_name": "Kedrzu", "link": "https://stackoverflow.com/users/3191951/kedrzu"}, "edited": false, "score": 0, "creation_date": 1535577571, "post_id": 52085613, "comment_id": 91122747, "body": "Also JSON is case sensitive so <code>CVV</code> should be replaced by <code>Cvv</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1535579481, "post_id": 52085613, "comment_id": 91123408, "body": "Have you set the correct contentType?"}, {"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1535619257, "post_id": 52085613, "comment_id": 91135692, "body": "@EugeneSukh Please Share your PostMan setting when you are posting data."}], "answers": [{"comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1535578536, "post_id": 52086183, "comment_id": 91123098, "body": "This is really more of a comment than an answer.  I see that you are new to Stack Overflow, you can comment once you receive 50 reputation."}, {"owner": {"reputation": 840, "user_id": 985197, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/J5jZk.png?s=128&g=1", "display_name": "djack109", "link": "https://stackoverflow.com/users/985197/djack109"}, "edited": false, "score": 0, "creation_date": 1610758335, "post_id": 52086183, "comment_id": 116241984, "body": "it doesnt work anyway :)"}], "tags": [], "owner": {"reputation": 107, "user_id": 9655509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21c9a873fc3e2c7790580f4dcdad0103?s=128&d=identicon&r=PG&f=1", "display_name": "Lokesh Agarwal", "link": "https://stackoverflow.com/users/9655509/lokesh-agarwal"}, "is_accepted": true, "score": 2, "last_activity_date": 1535578483, "last_edit_date": 1535578483, "creation_date": 1535577389, "answer_id": 52086183, "question_id": 52085613, "link": "https://stackoverflow.com/questions/52085613/post-request-is-empty-asp-net-core/52086183#52086183", "title": "Post request is empty (ASP.NET Core)", "body": "<p>Try putting <code>[FromBody]</code> in method parameter if you are passing json from body.</p>\n"}], "owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1054, "favorite_count": 0, "accepted_answer_id": 52086183, "answer_count": 1, "score": 2, "last_activity_date": 1561367081, "creation_date": 1535574524, "last_edit_date": 1561367081, "question_id": 52085613, "link": "https://stackoverflow.com/questions/52085613/post-request-is-empty-asp-net-core", "title": "Post request is empty (ASP.NET Core)", "body": "<p>I want to send a post request and add data to the database table.</p>\n\n<p><strong>Here is my model:</strong></p>\n\n<pre><code>public partial class PaymentMethods\n{\n    public PaymentMethods()\n    {\n        PaymentToUser = new HashSet&lt;PaymentToUser&gt;();\n    }\n\n    public int Id { get; set; }\n    public int? CardNumber { get; set; }\n    public int? Month { get; set; }\n    public int? Year { get; set; }\n    public int? Cvv { get; set; }\n    public string Name { get; set; }\n    public string Surname { get; set; }\n    public string Index { get; set; }\n    public string Country { get; set; }\n\n    public ICollection&lt;PaymentToUser&gt; PaymentToUser { get; set; }\n}\n</code></pre>\n\n<p><strong>Here is the Controller method that receives POST request:</strong></p>\n\n<pre><code>[HttpPost]\npublic JsonResult AddPaymentMethod(PaymentMethods payment)\n{\n     string result;\n     if(ModelState.IsValid)\n     {\n         _context.PaymentMethods.Add(payment);\n         _context.SaveChanges();\n         result = \"Added\";\n     }\n     else\n     {\n         result = \"Error\";\n     }\n\n     return Json(result);\n}\n</code></pre>\n\n<p><strong>And here is the JSON that I am sending via Postman:</strong></p>\n\n<blockquote>\n  <p>{\n      \"CardNumber\": 2345678912343456,\n      \"Month\": 10,\n      \"Year\": 20,\n      \"CVV\": 322,\n      \"Name\": \"Eugene\",\n      \"Surname\": \"Sukhomlyn\",\n      \"Index\": 83050,\n      \"Country\": \"UA\"\n  }</p>\n</blockquote>\n\n<p><strong>So I think all great with data, but I get the empty object in controller method on the post, where is my error?</strong></p>\n"}, {"tags": ["c#", "string", "for-loop"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 3, "creation_date": 1535574728, "post_id": 52085585, "comment_id": 91121592, "body": "Why not split the string on multiple spaces and just use those strings?"}, {"owner": {"reputation": 93997, "user_id": 3010968, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5c9bc5babd6d3ceafcc3f95fbdd5b313?s=128&d=identicon&r=PG&f=1", "display_name": "Selman Gen&#231;", "link": "https://stackoverflow.com/users/3010968/selman-gen%c3%a7"}, "edited": false, "score": 2, "creation_date": 1535574749, "post_id": 52085585, "comment_id": 91121602, "body": "If you debug your code you can see what <code>tempLine</code> becomes in each iteration. debug &gt; identify the problem &gt; fix  It would be a better idea to store those strings in an array so you won&#39;t have to deal with substring."}, {"owner": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "edited": false, "score": 2, "creation_date": 1535574836, "post_id": 52085585, "comment_id": 91121652, "body": "Yes, string[] arrays are your friend. Don&#39;t be afraid of it, it&#39;s so useful later on."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1535575620, "post_id": 52085585, "comment_id": 91121959, "body": "Using StackOverflow as a debugger is a slow, unreliable way to debug your program. <b>Learn to use a debugger</b>; it is the most important skill you can learn to maximize your productivity. Some good advice for beginners is here: <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 3, "creation_date": 1535575784, "post_id": 52085585, "comment_id": 91122039, "body": "Always ask yourself &quot;how could I have caught this bug earlier?&quot; Your problem here is that the code does not match its meaning, <b>and the meaning is impossible to understand from the code</b> because you&#39;ve chosen <code>lowInt</code> and <code>highInt</code> as your variable names.  If you have to name a variable based on its type instead of its meaning, you&#39;re doing something wrong. If you had named those variables <code>startPosition</code> and <code>endPosition</code> then the bug -- that <code>Substring</code>&#39;s second argument is <i>not a position in the first place</i> -- would be much easier to see."}], "answers": [{"comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1535575345, "post_id": 52085730, "comment_id": 91121864, "body": "You are correct but still there are at least two errors. Try the code."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1535575749, "post_id": 52085730, "comment_id": 91122025, "body": "Uhm, no that&#39;s not one of the errors I see in the code. Look at that loop condition. And what happen when you write the last line of the box?"}, {"owner": {"reputation": 93997, "user_id": 3010968, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5c9bc5babd6d3ceafcc3f95fbdd5b313?s=128&d=identicon&r=PG&f=1", "display_name": "Selman Gen&#231;", "link": "https://stackoverflow.com/users/3010968/selman-gen%c3%a7"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1535576065, "post_id": 52085730, "comment_id": 91122160, "body": "@Steve is right, <code>lowInt</code> will easily become more than the length of the string after few iterations and Substring will throw."}, {"owner": {"reputation": 309, "user_id": 4878905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WGmA6.jpg?s=128&g=1", "display_name": "Shakhawat95", "link": "https://stackoverflow.com/users/4878905/shakhawat95"}, "edited": false, "score": 0, "creation_date": 1535577495, "post_id": 52085730, "comment_id": 91122717, "body": "I just edited my answer. Hopefully, it will work perfectly now."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1535577895, "post_id": 52085730, "comment_id": 91122883, "body": "I appreciate your effort, but clearly you haven&#39;t tested it. After writing the Sign3 you need to add a newline or clear the Console."}, {"owner": {"reputation": 309, "user_id": 4878905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WGmA6.jpg?s=128&g=1", "display_name": "Shakhawat95", "link": "https://stackoverflow.com/users/4878905/shakhawat95"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1535578242, "post_id": 52085730, "comment_id": 91123001, "body": "@Steve as we are Console.readLine(), is it necessary to use newline after sign3?"}], "tags": [], "owner": {"reputation": 309, "user_id": 4878905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WGmA6.jpg?s=128&g=1", "display_name": "Shakhawat95", "link": "https://stackoverflow.com/users/4878905/shakhawat95"}, "is_accepted": false, "score": 1, "last_activity_date": 1535578292, "last_edit_date": 1535578292, "creation_date": 1535575089, "answer_id": 52085730, "question_id": 52085585, "link": "https://stackoverflow.com/questions/52085585/substring-within-for-loop-extracting-more-characters-than-it-should/52085730#52085730", "title": "Substring within for loop extracting more characters than it should", "body": "<p>substring method takes two parameters.1st parameter is starting position. and the 2nd one is the length. In your case, your code should be like this. </p>\n\n<p>Here's the official link.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.primitives.stringsegment.substring?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.primitives.stringsegment.substring?view=aspnetcore-2.1</a></p>\n\n<pre><code>    string Lines = \" If our road signs    Catch your eye          Smile        But don't forget        To buy          Burma Shave    \";\n    string Sign1 = \"\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\\n\";\n    string Sign2 = \"\u2502\";\n    string Sign3 = \"\\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\";\n\n    int length = 19;\n    int lowInt;\n    for (lowInt = 0; lowInt &lt; Lines.Length ; lowInt+=length )\n    {\n        var unTraversed = Lines.Length - lowInt;\n        if (unTraversed &gt;= length)\n        {\n            string tempLine = Lines.Substring(lowInt, length);\n            Console.Write(Sign1 + Sign2 + tempLine + Sign2 + Sign3);\n            Console.ReadLine();\n        }\n        else\n        {\n            string tempLine = Lines.Substring(lowInt, Lines.Length - lowInt);\n            Console.Write(Sign1 + Sign2 + tempLine + Sign2 + Sign3);\n            Console.ReadLine();\n        }\n\n    }\n    Console.ReadLine();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1535577238, "last_edit_date": 1535577238, "creation_date": 1535576089, "answer_id": 52085937, "question_id": 52085585, "link": "https://stackoverflow.com/questions/52085585/substring-within-for-loop-extracting-more-characters-than-it-should/52085937#52085937", "title": "Substring within for loop extracting more characters than it should", "body": "<p>First, let's <em>extract a method</em> that centralize the string:</p>\n\n<pre><code>  private static String ToCenter(String value, int length) {\n    if (length &lt;= 0)\n      return value;\n    else if (string.IsNullOrEmpty(value))\n      return new string(' ', length);\n    else if (value.Length &gt;= length)\n      return value;\n\n    return new string(' ', (length - value.Length) / 2) +\n           value +\n           new string(' ', (length - value.Length + 1) / 2);\n  }\n</code></pre>\n\n<p>Now with a help of <em>Linq</em> let's process</p>\n\n<pre><code>  string Lines = \" If our road signs    Catch your eye          Smile        But don't forget        To buy          Burma Shave    \";\n\n  // Let's get rid of '\\n' and have a clear text \n  string Sign1 = \"\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\";\n  string Sign2 = \"\u2502\";\n  string Sign3 = \"\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\";\n</code></pre>\n\n<p>we can create an enumerable of <code>rectangle</code>s (please, avoid using <em>magic numbers</em> like <code>94</code>, <code>19</code> but change them into <code>Sign1.Length</code>):</p>\n\n<pre><code>  using System.Linq;\n  using System.Text.RegularExpressions;\n  ...\n\n  var rectangles = Regex\n    .Split(Lines, @\"\\s{2,}\")\n    .Select(item =&gt; item.Trim())\n    .Where(item =&gt; !string.IsNullOrEmpty(item))\n  //.Take(3) // If you want at most 3 rectangles\n    .Select(item =&gt; string.Join(Environment.NewLine, \n       Sign1, \n       Sign2 + ToCenter(item, Sign1.Length - 2) + Sign2, \n       Sign3));\n\n  foreach (string rectangle in rectangles) {\n    // print out the next rectangle\n    Console.WriteLine(rectangle);\n\n    //TODO: add all the relevant code here\n    // ReadLine();\n  }\n</code></pre>\n\n<p>The only tricky thing is </p>\n\n<pre><code>  Regex.Split(Lines, @\"\\s{2,}\") \n</code></pre>\n\n<p>we split on <em>two or more spaces</em>: </p>\n\n<pre><code> \"Smile        But don't forget\" -&gt; string[]{\" Smile\", \"But don't forget\"}\n</code></pre>\n\n<p>Outcome:</p>\n\n<pre><code>\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n\u2502 If our road signs \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n\u2502  Catch your eye   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n\u2502       Smile       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n\u2502 But don't forget  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n\u2502      To buy       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n\u2502    Burma Shave    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>\n\n<p>If you <em>uncomment</em> <code>Take(3)</code> you'll get</p>\n\n<pre><code>\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n\u2502 If our road signs \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n\u2502  Catch your eye   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n\u2502       Smile       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14634, "user_id": 64348, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/h3b3u.png?s=128&g=1", "display_name": "Kit", "link": "https://stackoverflow.com/users/64348/kit"}, "is_accepted": false, "score": 0, "last_activity_date": 1535580694, "last_edit_date": 1535580694, "creation_date": 1535579560, "answer_id": 52086579, "question_id": 52085585, "link": "https://stackoverflow.com/questions/52085585/substring-within-for-loop-extracting-more-characters-than-it-should/52086579#52086579", "title": "Substring within for loop extracting more characters than it should", "body": "<p>Here is a solution that features various .NET API and C# language features:</p>\n\n<ul>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.text.regularexpressions.regex?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>Regex</code></a>.<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.text.regularexpressions.regex.split?view=netframework-4.7.2#System_Text_RegularExpressions_Regex_Split_System_String_\" rel=\"nofollow noreferrer\"><code>Split()</code></a> to correctly grab each phrase</li>\n<li>a <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/local-functions\" rel=\"nofollow noreferrer\">local function</a> and <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/interpolated\" rel=\"nofollow noreferrer\">string interpolation</a> to produce each box</li>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable?redirectedfrom=MSDN&amp;view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>Enumerable</code></a>.<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.max?view=netframework-4.7.2#System_Linq_Enumerable_Max__1_System_Collections_Generic_IEnumerable___0__System_Func___0_System_Int32__\" rel=\"nofollow noreferrer\"><code>Max()</code></a> to calculate the maximum width</li>\n<li>A <a href=\"https://stackoverflow.com/questions/886822\">method group</a> in the <code>Select</code> below that allows the parameters to <code>Box</code> to be inferred</li>\n</ul>\n\n<p>And the method:</p>\n\n<pre><code>public void Boxify()\n{\n    var lines = \" If our road signs    Catch your eye          Smile        But don't forget        To buy          Burma Shave    \";\n    var phrases = Regex.Split(lines.Trim(), @\"\\s{2,}\");\n    var maxPhraseWidth = phrases.Max(x =&gt; x.Length) + 2;\n\n    foreach (var phrase in phrases.Select(Box))\n    {\n        Console.WriteLine(phrase);\n        Console.ReadLine();\n    }\n\n    string Box(string phrase)\n    {\n        var spaceCount = maxTextWidth - phrase.Length;\n        var leftSpaceCount = spaceCount / 2;\n        var rightSpaceCount = (spaceCount + 1) / 2;\n\n        return $\"\u250e{new string('\u2500', maxTextWidth)}\u2512\\n\" +\n               $\"|{new string(' ', leftSpaceCount)}{phrase}{new string(' ', rightSpaceCount)}|\\n\" +\n               $\"\u2514{new string('\u2500', maxTextWidth)}\u2518\";\n    }\n }\n</code></pre>\n\n<p>Since you're new to C#, I want to point out that this is an <a href=\"https://stackoverflow.com/q/84102/64348\">idiomatic</a> solution and adheres to generally adopted <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/inside-a-program/coding-conventions\" rel=\"nofollow noreferrer\">coding conventions</a> for C# code.</p>\n"}, {"comments": [{"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1535580019, "post_id": 52086588, "comment_id": 91123579, "body": "I prefer this due to the padding. Might even be slightly cleaner to even just use string interpolation for the padding and can then even remove the string builder altogether."}], "tags": [], "owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "is_accepted": false, "score": 2, "last_activity_date": 1535581371, "last_edit_date": 1535581371, "creation_date": 1535579616, "answer_id": 52086588, "question_id": 52085585, "link": "https://stackoverflow.com/questions/52085585/substring-within-for-loop-extracting-more-characters-than-it-should/52086588#52086588", "title": "Substring within for loop extracting more characters than it should", "body": "<p>You can leverage some cool C#/.NET features to reduce your code complexity.  First, lets extract the \"sign formatting\" into its own reusable static class, while also adding some flexibility to it:</p>\n\n<pre><code>public static class SignFormatter\n{\n    private static char SignHorizontalSide = '\u2500';   \n    private static char SignTopLeft = '\u250e'; \n    private static char SignTopRight = '\u2512';\n    private static char SignBottomLeft = '\u2514';\n    private static char SignBottomRight = '\u2518'; \n    private static char SignVerticalSide = '|';\n\n    public static string FormatAsSign(string input, int length)\n    {\n        //Needed to adjust for end pipes\n        length -= 2;\n\n        StringBuilder sb = new StringBuilder();\n\n        //calculates the padding needed to center the string in the sign\n        int spaces = length - input.Length;\n        int padLeft = spaces / 2 + input.Length;\n\n        //Makes the sign with the centered text\n        sb.AppendLine($\"{SignTopLeft}{new String(SignHorizontalSide, length)}{SignTopRight}\");\n        sb.AppendLine($\"{SignVerticalSide}{input.PadLeft(padLeft).PadRight(length)}{SignVerticalSide}\");\n        sb.AppendLine($\"{SignBottomLeft}{new String(SignHorizontalSide, length)}{SignBottomRight}\");\n\n        return sb.ToString();\n    }   \n}\n</code></pre>\n\n<p>Now that this is in its own class, you can leverage Regex to split the input string on <em>multiple</em> spaces:</p>\n\n<pre><code>string Lines = \" If our road signs    Catch your eye          Smile        But don't forget        To buy          Burma Shave    \";\n\n//splits on multiple spaces, and only takes strings that arent empty\nvar splitLines = Regex.Split(Lines, @\"\\s{2,}\").Where(s =&gt; s != String.Empty);\n</code></pre>\n\n<p>Then from there we just iterate over the <code>splitLines</code> IEnumerable and apply our sign formatting:</p>\n\n<pre><code>foreach(string s in splitLines)\n{\n    Console.Write(FormatAsSign(s, 21));\n}\n</code></pre>\n\n<p>Based on your input, and a sign length of <code>21</code> you would get this output:</p>\n\n<pre><code>\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n| If our road signs |\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n|  Catch your eye   |\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n|       Smile       |\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n| But don't forget  |\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n|      To buy       |\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n|    Burma Shave    |\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>\n\n<p>I made a fiddle <a href=\"https://dotnetfiddle.net/fGhlEk\" rel=\"nofollow noreferrer\">here</a> so you can see it in action</p>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1535580192, "creation_date": 1535580192, "answer_id": 52086676, "question_id": 52085585, "link": "https://stackoverflow.com/questions/52085585/substring-within-for-loop-extracting-more-characters-than-it-should/52086676#52086676", "title": "Substring within for loop extracting more characters than it should", "body": "<p>As others have pointed out, you're calling <code>Substring</code> with incorrect values. It takes a starting position and a length (and you're passing in an end position).</p>\n\n<p>However, a different way to approach this problem might be to write a method that generates a sign for you, with specific text and a specific width, and then you can simply call that method as many times as you like to generate equal-sized signs.</p>\n\n<p>If we write a method that takes in a string and a width, we can generate a sign accordingly. One question that occurs quickly, however, is what do we do if the string is longer than the width? I think there are two options:</p>\n\n<ol>\n<li>Truncate the string to fit the width</li>\n<li>Expand the sign to fit the string</li>\n</ol>\n\n<p>So I've added an <code>expandWidth</code> parameter that, when set to true, expands the sign to accommodate the longest string. If set to false, it will truncate the string.</p>\n\n<p>The rest of the method is fairly self-explanatory: Split the input string on the newline characters in case the sign should have more than one line, determine the longest line we need to display and adjust our sign width if <code>expandWidth</code> is <code>true</code>, write out our header string (the top of the sign), use <code>Substring</code>, <code>PadLeft</code>, and <code>PadRight</code> to center each line within the width, and finally write our footer  (the bottom of the sign):</p>\n\n<pre><code>public static void  WriteSign(string signText, int signWidth = 10, bool expandWidth = true)\n{\n    // Split input into lines, in case there's \n    // more than one line to display on the sign\n    var lines = signText\n        .Split(new[] {'\\r', '\\n'}, StringSplitOptions.None)\n        .Select(line =&gt; line.Trim());\n\n    // Determine the sign width based on the longest line\n    var actualSignWidth = expandWidth \n        ? Math.Max(lines.Max(l =&gt; l.Length), signWidth) \n        : signWidth;\n\n    // Write header\n    Console.WriteLine(\"\u2554\" + new string('\u2550', Math.Max(0, actualSignWidth)) + \"\u2557\");\n\n    // Write lines\n    foreach (var line in lines)\n    {\n        var signLine = line.Substring(0, Math.Min(line.Length, actualSignWidth))\n        .PadLeft(Math.Min(actualSignWidth, (actualSignWidth + line.Length) / 2))\n        .PadRight(actualSignWidth);\n\n        Console.WriteLine(\"\u2551\" + signLine + \"\u2551\");\n    }\n\n    // Write footer\n    Console.WriteLine(\"\u255a\" + new string('\u2550', Math.Max(0, actualSignWidth)) + \"\u255d\");\n}\n</code></pre>\n\n<p>Now we can create a string with <code>\\n</code> characters between each group of words, and we can display them all on one sign, or split them and display a bunch of separate signs.</p>\n\n<p>For example:</p>\n\n<pre><code>private static void Main(string[] cmdArgs)\n{\n    var signText = \"If our road signs\\nCatch your eye\\nSmile\\nBut don't forget\\nTo buy\\nBurma shave\";\n\n    var splitText = signText.Split('\\n');\n    var signWidth = splitText.Max(line =&gt; line.Length) + 2;\n\n    // Write a sign with all the lines on one sign\n    WriteSign(signText, signWidth);\n\n    // Write a divider to separate the first sign from the rest\n    Console.WriteLine(new string('-', Console.WindowWidth));\n\n    // Write a separate sign for each line\n    foreach (var line in splitText) WriteSign(line, signWidth);\n\n    GetKeyFromUser(\"\\nDone! Press any key to exit...\");\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/mp6y2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mp6y2.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 21, "user_id": 8755512, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3Ib2fPisaXc/AAAAAAAAAAI/AAAAAAAAACo/GkFzU5twer8/photo.jpg?sz=128", "display_name": "Blue House Skip", "link": "https://stackoverflow.com/users/8755512/blue-house-skip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 5, "score": 2, "last_activity_date": 1535581371, "creation_date": 1535574400, "last_edit_date": 1535580067, "question_id": 52085585, "link": "https://stackoverflow.com/questions/52085585/substring-within-for-loop-extracting-more-characters-than-it-should", "title": "Substring within for loop extracting more characters than it should", "body": "<p>Here's the issue, I'm trying to display text within boxes, so I wrote this code:</p>\n\n<pre><code>string Lines = \" If our road signs    Catch your eye          Smile        But don't forget        To buy          Burma Shave    \";\nstring Sign1 = \"\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\\n\";\nstring Sign2 = \"\u2502\";\nstring Sign3 = \"\\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\";\n\nint highInt;\nint lowInt;\n\nfor (int i = 0; i &lt; 94; i++)\n{\n    lowInt = i * 19;\n    highInt = lowInt + 19;\n    string tempLine = Lines.Substring(lowInt, highInt);\n\n    Console.Write(Sign1);\n    Console.Write(Sign2);\n    Console.Write(tempLine);\n    Console.Write(Sign2);\n    Console.Write(Sign3);\n\n    ReadLine();\n\n    tempLine = \"\";\n}\nConsole.ReadLine();\n</code></pre>\n\n<p>But instead of outputting</p>\n\n<pre><code>\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n\u2502 If our road signs \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n\u2502  catch your eye   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n\u2502       smile       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>\n\n<p>It outputs:</p>\n\n<pre><code>\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n\u2502 If our road signs \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n\u2502   catch your eye          Smile      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250e\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2512\n\u2502        Smile        But don't forget        To buy      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>\n\n<p>It seems like it's grabbing exponentially more characters: <code>19</code> then <code>38</code> then <code>57</code> and I'm not sure why. I'm new to C# so sorry if the answer's obvious.</p>\n"}, {"tags": ["c#", "xaml", "xamarin", "xamarin.forms"], "comments": [{"owner": {"reputation": 3326, "user_id": 32348, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6b823183470238cf40223e67583cb386?s=128&d=identicon&r=PG", "display_name": "Bijington", "link": "https://stackoverflow.com/users/32348/bijington"}, "edited": false, "score": 0, "creation_date": 1535574635, "post_id": 52085521, "comment_id": 91121559, "body": "Is this a valid Binding <code>BindingContext=&quot;{Binding Main, Source={StaticResource Locator}}&quot;</code>. I can&#39;t say I have ever used/come across it before"}, {"owner": {"reputation": 61, "user_id": 7343881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe7419de1d109300e00c8b19e3254fcf?s=128&d=identicon&r=PG&f=1", "display_name": "Julian87", "link": "https://stackoverflow.com/users/7343881/julian87"}, "reply_to_user": {"reputation": 3326, "user_id": 32348, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6b823183470238cf40223e67583cb386?s=128&d=identicon&r=PG", "display_name": "Bijington", "link": "https://stackoverflow.com/users/32348/bijington"}, "edited": false, "score": 0, "creation_date": 1535577871, "post_id": 52085521, "comment_id": 91122877, "body": "Yes it is valid, I have used it in all xaml pages"}, {"owner": {"reputation": 3326, "user_id": 32348, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6b823183470238cf40223e67583cb386?s=128&d=identicon&r=PG", "display_name": "Bijington", "link": "https://stackoverflow.com/users/32348/bijington"}, "edited": false, "score": 0, "creation_date": 1535604590, "post_id": 52085521, "comment_id": 91128822, "body": "You learn something new everyday:). Two possible points to check; 1) have you tried turning it off and on again? Sometimes VS gets in to a bad state and although it reports some errors they aren\u2019t truly there. 2) when removing the RgPlugins library you didn\u2019t by any chance remove anything else? A good diff tool from your chosen source control should help there"}, {"owner": {"reputation": 61, "user_id": 7343881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe7419de1d109300e00c8b19e3254fcf?s=128&d=identicon&r=PG&f=1", "display_name": "Julian87", "link": "https://stackoverflow.com/users/7343881/julian87"}, "reply_to_user": {"reputation": 3326, "user_id": 32348, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6b823183470238cf40223e67583cb386?s=128&d=identicon&r=PG", "display_name": "Bijington", "link": "https://stackoverflow.com/users/32348/bijington"}, "edited": false, "score": 0, "creation_date": 1535633791, "post_id": 52085521, "comment_id": 91145544, "body": "Yes I tried to turn off and on again. I don&#39;t think so, maybe when I installed RgPlugins some library got updated, I don&#39;t remember clearly. I will rollback all changes to last commit and hope that this error doesn&#39;t show up anymore. Thanks for your help!"}, {"owner": {"reputation": 551, "user_id": 992318, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/7nU85.png?s=128&g=1", "display_name": "toumir", "link": "https://stackoverflow.com/users/992318/toumir"}, "edited": false, "score": 0, "creation_date": 1536008919, "post_id": 52085521, "comment_id": 91262651, "body": "@Julian87 do you use any framework such as Prism or other ?"}, {"owner": {"reputation": 61, "user_id": 7343881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe7419de1d109300e00c8b19e3254fcf?s=128&d=identicon&r=PG&f=1", "display_name": "Julian87", "link": "https://stackoverflow.com/users/7343881/julian87"}, "edited": false, "score": 0, "creation_date": 1536065807, "post_id": 52085521, "comment_id": 91283388, "body": "Hello toumir, no I don&#39;t. I already found the error. It was a grid that had an empty column definition tag (I used it before to make 2 columns and then I erased them, but not the grid.columndefinitions). Is this a bug? Or it is just not recognized on design time?"}, {"owner": {"reputation": 1509, "user_id": 3872145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a86e47e060299b6ba95a6d914084cf1?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3872145/tom"}, "edited": false, "score": 0, "creation_date": 1542906836, "post_id": 52085521, "comment_id": 93745115, "body": "It would be helpful if you showed the code in <code>Project.Helpers.Translate</code>. Could you post that code, please?"}], "owner": {"reputation": 61, "user_id": 7343881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe7419de1d109300e00c8b19e3254fcf?s=128&d=identicon&r=PG&f=1", "display_name": "Julian87", "link": "https://stackoverflow.com/users/7343881/julian87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 603, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1535574103, "creation_date": 1535574103, "question_id": 52085521, "link": "https://stackoverflow.com/questions/52085521/xamarin-undeclared-xmlns-prefix-type-staticresource-not-found-in-xmlns", "title": "Xamarin undeclared xmlns prefix/Type StaticResource not found in xmlns", "body": "<p>I really need help with the next xaml errors. They only show when building the solution, not before</p>\n\n<p>Given then next partial code:</p>\n\n<pre><code>&lt;ContentPage xmlns=\"http://xamarin.com/schemas/2014/forms\"\n         xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n         xmlns:skiarate=\"clr-namespace:SkiaRate;assembly=SkiaRate.Forms\"\n         xmlns:maps=\"clr-namespace:Xamarin.Forms.Maps;assembly=Xamarin.Forms.Maps\"\n         x:Class=\"Project.Views.ProductDetailPage\"\n         xmlns:i18n=\"clr-namespace:Project.Helpers\"\n         BindingContext=\"{Binding Main, Source={StaticResource Locator}}\"&gt;\n</code></pre>\n\n<p>And asociated xaml.cs file</p>\n\n<pre><code>namespace Project.Views\n{\n    [XamlCompilation(XamlCompilationOptions.Compile)]\n    public partial class ProductDetailPage : ContentPage\n    {\n        public ProductDetailPage ()\n        {\n            InitializeComponent ();\n        }\n    }\n}\n</code></pre>\n\n<p>I get </p>\n\n<blockquote>\n  <p>Position 55:93. Undeclared xmlns prefix 'i18n'</p>\n</blockquote>\n\n<p>Where line 55 is</p>\n\n<pre><code>&lt;Label Grid.Row=\"0\" Margin=\"5,10,0,0\" Grid.Column=\"0\" FontSize=\"18\" Text=\"{i18n:Translate Telephone}\"/&gt;\n</code></pre>\n\n<p>I have used the exact same lines in other xaml pages, and it doesn't throw this error.</p>\n\n<p><strong>Things that I have tried</strong>:</p>\n\n<p>-Delete line 55, error changes to </p>\n\n<blockquote>\n  <p>Position 10:14. Type StaticResource not found in xmlns</p>\n</blockquote>\n\n<p>(I use binding with the main page on all my xaml pages, and only crashes in this one)</p>\n\n<p>-Clean, build, rebuild, in all posible orders with the next 2 items</p>\n\n<p>-Delete obj and bin contents</p>\n\n<p>-Delete packages content (both from local project and local pc's user)</p>\n\n<p>-Copy a page that does not have errors, modify it's header to the new page name, then error shows. (I tried this several times with several names)</p>\n\n<p>-Create a content page from zero, create header manually, copy the ContentPage.Content from the previous page</p>\n\n<p>-Change xaml's page properties (custom tool)</p>\n\n<p>-Update Xamarin.Forms to last version pre-3.2.*. After doing this I changed to 3.1 again</p>\n\n<p>What else can I try?</p>\n\n<p>Note: All this started when I installed Rg.Plugins.Popup to convert this page to a popup page, then I deleted the changes on this page, and tried with deleting the libraries too.</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1535574091, "post_id": 52085491, "comment_id": 91121301, "body": "What do you mean &quot;trap for special characters&quot;? Are you wanting to return them in a group, determine if they exist, break on them? What do you consider a special character (spaces aren&#39;t usually considered special characters)?"}, {"owner": {"reputation": 537, "user_id": 206567, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/02ab07612ab1bf8e8e49c909d21f9de0?s=128&d=identicon&r=PG", "display_name": "Jefferson", "link": "https://stackoverflow.com/users/206567/jefferson"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535574247, "post_id": 52085491, "comment_id": 91121376, "body": "@RonBeyer I was thinking just to break on them"}, {"owner": {"reputation": 537, "user_id": 206567, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/02ab07612ab1bf8e8e49c909d21f9de0?s=128&d=identicon&r=PG", "display_name": "Jefferson", "link": "https://stackoverflow.com/users/206567/jefferson"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535575272, "post_id": 52085491, "comment_id": 91121839, "body": "I was thinking this would work but it is not &lt;input class=&quot;form-control glValidate&quot; pattern=&quot;^\\s-^!@#$%^&amp;*(),.?&quot;:{}|&quot; title=&quot;&quot; name=&quot;txtCode&quot; id=&quot;txtCode&quot; /&gt;"}, {"owner": {"reputation": 514, "user_id": 1280354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hKauX.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/1280354/chris"}, "edited": false, "score": 0, "creation_date": 1535625298, "post_id": 52085491, "comment_id": 91139784, "body": "hmm, your sample expression contains double quotes. you may want to escape them with &amp;quot;    <code>pattern=&quot;^\\s-^!@#$%^&amp;*(),.?&amp;quot;:{}|&quot;</code>"}], "owner": {"reputation": 537, "user_id": 206567, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/02ab07612ab1bf8e8e49c909d21f9de0?s=128&d=identicon&r=PG", "display_name": "Jefferson", "link": "https://stackoverflow.com/users/206567/jefferson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535573946, "creation_date": 1535573946, "question_id": 52085491, "link": "https://stackoverflow.com/questions/52085491/regedit-expression-special-characters", "title": "Regedit expression special characters", "body": "<p>How would I add an regedit expression that will trap for special characters like spaces?</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n&lt;label&gt;\n&lt;span class=\"required\"&gt;*\n&lt;/span&gt;\nCode:\n&lt;/label&gt;\n&lt;input class=\"form-control glValidate\" name=\"txtCode\" id=\"txtCode\" /&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["c#", "generics"], "comments": [{"owner": {"reputation": 1055, "user_id": 2310805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REDuN.jpg?s=128&g=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/2310805/eugene"}, "edited": false, "score": 0, "creation_date": 1535573722, "post_id": 52085397, "comment_id": 91121135, "body": "What exactly you cannot understand ?"}, {"owner": {"reputation": 343, "user_id": 1375780, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh5.googleusercontent.com/-ZaySVPzbyv0/AAAAAAAAAAI/AAAAAAAAAEE/U6JfJjWJ1gk/photo.jpg?sz=128", "display_name": "tahasozgen", "link": "https://stackoverflow.com/users/1375780/tahasozgen"}, "edited": false, "score": 0, "creation_date": 1535573999, "post_id": 52085397, "comment_id": 91121253, "body": "what is the purpose of the method : &quot;BuildChildCallbacks&quot;"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1535574124, "post_id": 52085397, "comment_id": 91121312, "body": "It adds an item to the <code>childCallbacks</code> dictionary..? (that&#39;s what the <code>ChildCallbacks.Add()</code> method does, which is the only thing the method does)"}, {"owner": {"reputation": 343, "user_id": 1375780, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh5.googleusercontent.com/-ZaySVPzbyv0/AAAAAAAAAAI/AAAAAAAAAEE/U6JfJjWJ1gk/photo.jpg?sz=128", "display_name": "tahasozgen", "link": "https://stackoverflow.com/users/1375780/tahasozgen"}, "edited": false, "score": 0, "creation_date": 1535574132, "post_id": 52085397, "comment_id": 91121314, "body": "Let&#39;s start with more general, what is the term &quot;callback&quot; means at that context?"}, {"owner": {"reputation": 1055, "user_id": 2310805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REDuN.jpg?s=128&g=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/2310805/eugene"}, "edited": false, "score": 0, "creation_date": 1535574164, "post_id": 52085397, "comment_id": 91121334, "body": "I believe, that it is just an example in the book how to fill in ChildCallbacks with elements."}, {"owner": {"reputation": 343, "user_id": 1375780, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh5.googleusercontent.com/-ZaySVPzbyv0/AAAAAAAAAAI/AAAAAAAAAEE/U6JfJjWJ1gk/photo.jpg?sz=128", "display_name": "tahasozgen", "link": "https://stackoverflow.com/users/1375780/tahasozgen"}, "edited": false, "score": 0, "creation_date": 1535574175, "post_id": 52085397, "comment_id": 91121339, "body": "Rufus, I think it is clear from the source code."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1535574317, "post_id": 52085397, "comment_id": 91121407, "body": "@tahasozgen I agree, but your question is not clear...you&#39;ve dumped some code and asked &quot;can you explain?&quot; A quick google search will reveal what <a href=\"https://en.wikipedia.org/wiki/Callback_(computer_programming)\" rel=\"nofollow noreferrer\">callbacks</a> and <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/delegates/\" rel=\"nofollow noreferrer\">delegates</a> are."}, {"owner": {"reputation": 343, "user_id": 1375780, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh5.googleusercontent.com/-ZaySVPzbyv0/AAAAAAAAAAI/AAAAAAAAAEE/U6JfJjWJ1gk/photo.jpg?sz=128", "display_name": "tahasozgen", "link": "https://stackoverflow.com/users/1375780/tahasozgen"}, "edited": false, "score": 0, "creation_date": 1535578651, "post_id": 52085397, "comment_id": 91123150, "body": "Okey, I will support more details."}], "owner": {"reputation": 343, "user_id": 1375780, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh5.googleusercontent.com/-ZaySVPzbyv0/AAAAAAAAAAI/AAAAAAAAAEE/U6JfJjWJ1gk/photo.jpg?sz=128", "display_name": "tahasozgen", "link": "https://stackoverflow.com/users/1375780/tahasozgen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1535579133, "creation_date": 1535573472, "last_edit_date": 1535579133, "question_id": 52085397, "link": "https://stackoverflow.com/questions/52085397/buildchildcallback-structure-in-source-code", "title": "&quot;BuildChildCallback&quot; structure in source code", "body": "<p>I am reading the book \".NET Domain-Driven Design With C#\", written by Tim MacCarthy, and there is a structure that I cannot understand. Can you explain?</p>\n\n<p>Here is a method:</p>\n\n<pre><code>protected override void BuildChildCallbacks()\n{\n    this.ChildCallbacks.Add(\"addresses\",\n        delegate(Company company, object childKeyName)\n        {\n            this.AppendAddresses(company);\n        });\n}\n</code></pre>\n\n<p>Here is the <em>ChildCallbacks</em> property</p>\n\n<pre><code>private Dictionary&lt;string, AppendChildData&gt; childCallbacks;\n\nprotected Dictionary&lt;string, AppendChildData&gt; ChildCallbacks\n{\n    get { return this.childCallbacks; }\n}\n</code></pre>\n\n<p>Here is the <em>AppendChildData</em> delegate</p>\n\n<pre><code>/// &lt;summary&gt;\n/// The delegate signature required for callback methods\n/// &lt;/summary&gt;\n/// &lt;param name=\"entityAggregate\"&gt;&lt;/param&gt;\n/// &lt;param name=\"childEntityKey\"&gt;&lt;/param&gt;\npublic delegate void AppendChildData(T entityAggregate, object childEntityKeyValue);\n</code></pre>\n"}, {"tags": ["javascript", "c#", "formcollection"], "comments": [{"owner": {"reputation": 11, "user_id": 9710729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93edb114c468aed7fabe1f102a5420c8?s=128&d=identicon&r=PG&f=1", "display_name": "KWCham", "link": "https://stackoverflow.com/users/9710729/kwcham"}, "edited": false, "score": 0, "creation_date": 1535727903, "post_id": 52085352, "comment_id": 91187392, "body": "Hi, anyone know why the selector2 object doesn&#39;t get extracted into formCollection?"}, {"owner": {"reputation": 11, "user_id": 9710729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93edb114c468aed7fabe1f102a5420c8?s=128&d=identicon&r=PG&f=1", "display_name": "KWCham", "link": "https://stackoverflow.com/users/9710729/kwcham"}, "edited": false, "score": 0, "creation_date": 1535735530, "post_id": 52085352, "comment_id": 91191119, "body": "Anybody knows why the selector2 is not included in FormCollection? Provided that the object is named with a name and wrapped inside a form tag. Any small detail I missed out?"}], "owner": {"reputation": 11, "user_id": 9710729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93edb114c468aed7fabe1f102a5420c8?s=128&d=identicon&r=PG&f=1", "display_name": "KWCham", "link": "https://stackoverflow.com/users/9710729/kwcham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535573244, "creation_date": 1535573244, "question_id": 52085352, "link": "https://stackoverflow.com/questions/52085352/formcollection-doesnt-capture-list-box-component-from-view", "title": "formCollection doesn&#39;t Capture list box component from view", "body": "<p>I have a view with the following code wrapping inside a form tag:</p>\n\n<pre><code>     &lt;select name=\"@SchoolSystemMVCRazor.Models.Miscellaneous.Helpers.RazorHelper.ReportCardSubjectSequence.Selector1\" id=\"@SchoolSystemMVCRazor.Models.Miscellaneous.Helpers.RazorHelper.ReportCardSubjectSequence.Selector1\" multiple=\"multiple\" style=\"width: 300px;height: 100px\"&gt;\n                                                                                    @foreach (SchoolSystemMVCRazor.Models.General.Subject subject in leftSubjects)\n        {\n            &lt;option value=\"@subject.SubjectId\"&gt;@subject.DisplayName&lt;/option&gt;\n        }\n        &lt;/select&gt;\n    &lt;input type=\"button\" style=\"width: 300px\" id=\"toRight\" value=\"&gt;\" /&gt;\n\n    &lt;select name=\"@SchoolSystemMVCRazor.Models.Miscellaneous.Helpers.RazorHelper.ReportCardSubjectSequence.Selector2\" id=\"@SchoolSystemMVCRazor.Models.Miscellaneous.Helpers.RazorHelper.ReportCardSubjectSequence.Selector2\" multiple=\"multiple\" style=\"width: 300px;height: 100px\"&gt;\n@foreach (SchoolSystemMVCRazor.Models.General.Subject subject in rightSortedSubjects)\n    {\n    &lt;option value=\"@subject.SubjectId\"&gt;@subject.DisplayName&lt;/option&gt;\n    }\n    &lt;/select&gt;\n    &lt;input type=\"button\" style=\"width: 300px\" id=\"toLeft\" value=\"&lt;\" /&gt;\n\n\n\n&lt;script&gt;\n    $(function() {\n        function moveItems(origin, destination) {\n            $(origin).find(':selected').appendTo(destination);\n        }\n        $('#toLeft').on('click', function() {\n            moveItems('#@SchoolSystemMVCRazor.Models.Miscellaneous.Helpers.RazorHelper.ReportCardSubjectSequence.Selector2', '#@SchoolSystemMVCRazor.Models.Miscellaneous.Helpers.RazorHelper.ReportCardSubjectSequence.Selector1');\n        });\n        $('#toRight').on('click', function() {\n            moveItems('#@SchoolSystemMVCRazor.Models.Miscellaneous.Helpers.RazorHelper.ReportCardSubjectSequence.Selector1', '#@SchoolSystemMVCRazor.Models.Miscellaneous.Helpers.RazorHelper.ReportCardSubjectSequence.Selector2');\n        });\n        $('#toLeftAll').on('click', function() {\n            moveAllItems('#@SchoolSystemMVCRazor.Models.Miscellaneous.Helpers.RazorHelper.ReportCardSubjectSequence.Selector2', '#@SchoolSystemMVCRazor.Models.Miscellaneous.Helpers.RazorHelper.ReportCardSubjectSequence.Selector1');\n        });\n        $('#toRightAll').on('click', function() {\n            moveAllItems('#@SchoolSystemMVCRazor.Models.Miscellaneous.Helpers.RazorHelper.ReportCardSubjectSequence.Selector1', '#@SchoolSystemMVCRazor.Models.Miscellaneous.Helpers.RazorHelper.ReportCardSubjectSequence.Selector2');\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/T57PW.png\" rel=\"nofollow noreferrer\">The view of the component</a></p>\n\n<p>Everything seem working until i do something like clicking the item on the selector2 (right) and move it to the left. Now the formCollection in my C# script only capture selector1. The selector2 value is important for me because I need to extract the user-selected values on the selector2 by the sequence they were added.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Pbrxp.png\" rel=\"nofollow noreferrer\">Debugging show only selector1</a></p>\n\n<p>I wonder what did I do wrong in terms of coding causing the selector2 doesn't get captured in formCollection? Any javaScript or C# expert can help as I don't know what gone wrong as I am new in web development?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-core"], "answers": [{"tags": [], "owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "is_accepted": true, "score": 9, "last_activity_date": 1535593001, "creation_date": 1535593001, "answer_id": 52088098, "question_id": 52085239, "link": "https://stackoverflow.com/questions/52085239/supporteduicultures-doesnt-display-all-the-culture/52088098#52088098", "title": "SupportedUICultures doesn&#39;t display all the culture", "body": "<p>For <code>@inject IOptions&lt;RequestLocalizationOptions&gt; LocOptions</code>, it retrives cultures from <code>RequestLocalizationOptions</code>, you need to configure the <code>RequestLocalizationOptions</code> in <code>ConfigureServices</code> like below:        </p>\n\n<pre><code>        public void ConfigureServices(IServiceCollection services)\n    {\n        services.AddLocalization(options =&gt; options.ResourcesPath = \"Resources\");\n        services.Configure&lt;CookiePolicyOptions&gt;(options =&gt;\n        {\n            //rest code\n\n        services.AddMvc()\n                .AddViewLocalization(LanguageViewLocationExpanderFormat.Suffix)\n                .SetCompatibilityVersion(CompatibilityVersion.Version_2_1);\n\n        services.Configure&lt;RequestLocalizationOptions&gt;(options =&gt;\n        {\n            var supportedCultures = new[]\n            {\n                new CultureInfo(\"en-US\"),\n                new CultureInfo(\"fr\"),\n                new CultureInfo(\"ar-YE\")\n            };\n\n            // State what the default culture for your application is. This will be used if no specific culture\n            // can be determined for a given request.\n            options.DefaultRequestCulture = new RequestCulture(culture: \"en-US\", uiCulture: \"en-US\");\n\n            // You must explicitly state which cultures your application supports.\n            // These are the cultures the app supports for formatting numbers, dates, etc.\n            options.SupportedCultures = supportedCultures;\n\n            // These are the cultures the app supports for UI strings, i.e. we have localized resources for.\n            options.SupportedUICultures = supportedCultures;\n        });\n    }\n</code></pre>\n\n<p>You could configure by <code>RequestLocalizationOptions</code> and then use it in <code>Configure</code> like below to avoid repeat code.       </p>\n\n<pre><code>var locOptions = app.ApplicationServices.GetService&lt;IOptions&lt;RequestLocalizationOptions&gt;&gt;();\n        app.UseRequestLocalization(locOptions.Value);\n</code></pre>\n"}], "owner": {"reputation": 959, "user_id": 9819063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lcumr.jpg?s=128&g=1", "display_name": "Charanoglu", "link": "https://stackoverflow.com/users/9819063/charanoglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1200, "favorite_count": 1, "accepted_answer_id": 52088098, "answer_count": 1, "score": 4, "last_activity_date": 1535593001, "creation_date": 1535572786, "question_id": 52085239, "link": "https://stackoverflow.com/questions/52085239/supporteduicultures-doesnt-display-all-the-culture", "title": "SupportedUICultures doesn&#39;t display all the culture", "body": "<p>I following <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/localization?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">this</a> documentation to implement the localization inside my <code>ASP.NET Core</code> application, and I'm trying to display in the footer a select which contains all the languages supported by my app. </p>\n\n<p>So I created a file called <code>_SelectLanguagepartial</code> as suggested by the documentation:</p>\n\n<pre><code>@using Microsoft.AspNetCore.Builder\n@using Microsoft.AspNetCore.Http.Features\n@using Microsoft.AspNetCore.Localization\n@using Microsoft.AspNetCore.Mvc.Localization\n@using Microsoft.Extensions.Options\n\n@inject IViewLocalizer Localizer\n@inject IOptions&lt;RequestLocalizationOptions&gt; LocOptions\n\n@{\n    var requestCulture = Context.Features.Get&lt;IRequestCultureFeature&gt;();\n    var cultureItems = LocOptions.Value.SupportedUICultures\n        .Select(c =&gt; new SelectListItem { Value = c.Name, Text = c.DisplayName })\n        .ToList();\n    var returnUrl = string.IsNullOrEmpty(Context.Request.Path) ? \"~/\" : $\"~{Context.Request.Path.Value}\";\n}\n\n&lt;div title=\"@Localizer[\"Request culture provider:\"] @requestCulture?.Provider?.GetType().Name\"&gt;\n    &lt;form id=\"selectLanguage\" asp-controller=\"Language\"\n          asp-action=\"SetLanguage\" asp-route-returnUrl=\"@returnUrl\"\n          method=\"post\" class=\"form-horizontal\" role=\"form\"&gt;\n        &lt;label asp-for=\"@requestCulture.RequestCulture.UICulture.Name\"&gt;@Localizer[\"Language:\"]&lt;/label&gt;\n        &lt;select name=\"culture\" onchange=\"this.form.submit();\"\n                asp-for=\"@requestCulture.RequestCulture.UICulture.Name\"\n                asp-items=\"cultureItems\"&gt;&lt;/select&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and I load this in the footer in the following way:</p>\n\n<pre><code>@await  Html.PartialAsync(\"_SelectLanguagePartial\")\n</code></pre>\n\n<p>this works well, but the problem is that I get only the <code>italian</code> language, but I should get instead also the english, infact, inside the <code>Configure</code> method I specified these languages:</p>\n\n<pre><code>var supportedCultures = new[]\n{\n    new CultureInfo(\"it-IT\"),\n    new CultureInfo(\"en-EN\")\n};\n\napp.UseRequestLocalization(new RequestLocalizationOptions\n{\n    DefaultRequestCulture = new RequestCulture(\"it-IT\"),\n    SupportedCultures = supportedCultures,\n    SupportedUICultures = supportedCultures\n});\n</code></pre>\n\n<p>as you can see I set as default language the <code>italian</code> but I have also the <code>english</code> language, I tried also to edit in <code>en-US</code> but in the select I get only the <code>italian</code> language.</p>\n\n<p>What I did wrong?</p>\n"}, {"tags": ["c#", "android", "xamarin", "system.drawing"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8889161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e805b84ae51eac90b644f34836b025da?s=128&d=identicon&r=PG&f=1", "display_name": "kakiremora", "link": "https://stackoverflow.com/users/8889161/kakiremora"}, "is_accepted": false, "score": 0, "last_activity_date": 1535727464, "creation_date": 1535727464, "answer_id": 52118101, "question_id": 52085233, "link": "https://stackoverflow.com/questions/52085233/is-system-drawing-supported-in-xamarin-android-8-and-above/52118101#52118101", "title": "Is System.Drawing supported in xamarin.android 8 and above?", "body": "<p>It looks like it is supported, but NuGet package for System.Drawing.Common isn't builded in the right way for MonoAndroid.</p>\n"}], "owner": {"reputation": 1, "user_id": 8889161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e805b84ae51eac90b644f34836b025da?s=128&d=identicon&r=PG&f=1", "display_name": "kakiremora", "link": "https://stackoverflow.com/users/8889161/kakiremora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 484, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535727464, "creation_date": 1535572768, "last_edit_date": 1535579161, "question_id": 52085233, "link": "https://stackoverflow.com/questions/52085233/is-system-drawing-supported-in-xamarin-android-8-and-above", "title": "Is System.Drawing supported in xamarin.android 8 and above?", "body": "<p>I need to use System.Drawing and System.Drawing.Common in my Xamarin.Android project but it can't load System.Drawing.Common.dll.</p>\n\n<p>As I know xamarin.android 8.0 and above are .net standard 2.0 compatible, then it should work out-of-the-box. I have read that there's no way to use these libraries in xamarin.android, but these articles where made before xamarin.android 8.0 was published.</p>\n\n<p>Thanks for your answers</p>\n\n<pre><code>1&gt;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\Xamarin\\Android\\Xamarin.Android.Common.targets(1590,2): error : Exception while loading assemblies: System.IO.FileNotFoundException: Could not load assembly 'System.Drawing.Common, Version=4.0.0.0, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51'. Perhaps it doesn't exist in the Mono for Android profile?\n1&gt;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\Xamarin\\Android\\Xamarin.Android.Common.targets(1590,2): error : Nazwa pliku: 'System.Drawing.Common.dll'\n1&gt;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\Xamarin\\Android\\Xamarin.Android.Common.targets(1590,2): error :    w Java.Interop.Tools.Cecil.DirectoryAssemblyResolver.Resolve(AssemblyNameReference reference, ReaderParameters parameters)\n1&gt;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\Xamarin\\Android\\Xamarin.Android.Common.targets(1590,2): error :    w Xamarin.Android.Tasks.ResolveAssemblies.AddAssemblyReferences(DirectoryAssemblyResolver resolver, ICollection`1 assemblies, AssemblyDefinition assembly, Boolean topLevel)\n1&gt;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\Xamarin\\Android\\Xamarin.Android.Common.targets(1590,2): error :    w Xamarin.Android.Tasks.ResolveAssemblies.Execute(DirectoryAssemblyResolver resolver)\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>I have found <a href=\"https://github.com/dotnet/corefx/issues/28886\" rel=\"nofollow noreferrer\">that</a> on the web.\nMaybe it is the problem here. Then, where i can find this .dll?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "radio-button"], "comments": [{"owner": {"reputation": 888, "user_id": 7302864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vAgan.png?s=128&g=1", "display_name": "chadnt", "link": "https://stackoverflow.com/users/7302864/chadnt"}, "edited": false, "score": 2, "creation_date": 1535573622, "post_id": 52085105, "comment_id": 91121072, "body": "As far as creating radio buttons for a <code>bool</code> property in your model, I think that looks right.  Have you verified that these elements are in the form? <code>@using (Html.BeginForm(...)) { &#47;&#47;form elements in the using block }</code>"}, {"owner": {"reputation": 117, "user_id": 7252409, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/02327df5404b6956cbd62e949a2f81de?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed Ali", "link": "https://stackoverflow.com/users/7252409/ahmed-ali"}, "reply_to_user": {"reputation": 888, "user_id": 7302864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vAgan.png?s=128&g=1", "display_name": "chadnt", "link": "https://stackoverflow.com/users/7302864/chadnt"}, "edited": false, "score": 0, "creation_date": 1535574056, "post_id": 52085105, "comment_id": 91121285, "body": "@chadnt I did, but let me double check"}, {"owner": {"reputation": 117, "user_id": 7252409, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/02327df5404b6956cbd62e949a2f81de?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed Ali", "link": "https://stackoverflow.com/users/7252409/ahmed-ali"}, "reply_to_user": {"reputation": 888, "user_id": 7302864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vAgan.png?s=128&g=1", "display_name": "chadnt", "link": "https://stackoverflow.com/users/7302864/chadnt"}, "edited": false, "score": 0, "creation_date": 1535574428, "post_id": 52085105, "comment_id": 91121461, "body": "@chadnt yes, everything looks correct in the form and it is still passing true even when I click No"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1535579817, "post_id": 52085105, "comment_id": 91123524, "body": "What you claiming is not possible based on the code you have shown - its due to code you have not shown (one possible cause would be if you have included a hidden input for <code>IsMarried</code> before the radio buttons)"}, {"owner": {"reputation": 117, "user_id": 7252409, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/02327df5404b6956cbd62e949a2f81de?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed Ali", "link": "https://stackoverflow.com/users/7252409/ahmed-ali"}, "edited": false, "score": 0, "creation_date": 1535580699, "post_id": 52085105, "comment_id": 91123766, "body": "@StephenMuecke thank you, I added the other code to show you everything related to this property. Nothing hidden in the form, I hope I was able to explain everything."}, {"owner": {"reputation": 117, "user_id": 7252409, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/02327df5404b6956cbd62e949a2f81de?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed Ali", "link": "https://stackoverflow.com/users/7252409/ahmed-ali"}, "edited": false, "score": 0, "creation_date": 1535580983, "post_id": 52085105, "comment_id": 91123864, "body": "Thanks, I am glad I was able to explain the issue."}], "answers": [{"tags": [], "owner": {"reputation": 31181, "user_id": 5176071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IQD5c.jpg?s=128&g=1", "display_name": "D-Shih", "link": "https://stackoverflow.com/users/5176071/d-shih"}, "is_accepted": true, "score": 1, "last_activity_date": 1535580987, "creation_date": 1535580987, "answer_id": 52086813, "question_id": 52085105, "link": "https://stackoverflow.com/questions/52085105/radiobuttonfor-always-pass-true-to-mvc-controller/52086813#52086813", "title": "RadioButtonFor always pass true to MVC controller", "body": "<p>The problem is in the jquery selector setting.</p>\n\n<p>You can try to use </p>\n\n<pre><code>$('input[name=IsMarried]:checked').val()\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>$(\"#IsMarried\").val()\n</code></pre>\n\n<p>get the value, because you want to get radio button, which was checked.</p>\n"}], "owner": {"reputation": 117, "user_id": 7252409, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/02327df5404b6956cbd62e949a2f81de?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed Ali", "link": "https://stackoverflow.com/users/7252409/ahmed-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 1, "accepted_answer_id": 52086813, "answer_count": 1, "score": 1, "last_activity_date": 1535580987, "creation_date": 1535572218, "last_edit_date": 1535580511, "question_id": 52085105, "link": "https://stackoverflow.com/questions/52085105/radiobuttonfor-always-pass-true-to-mvc-controller", "title": "RadioButtonFor always pass true to MVC controller", "body": "<p><em>I found answers to similar questions in many places but it didn't work with me even by copy/paste the code</em>!</p>\n\n<p>I am developing an MVC/C# application and I have a I have a bool property like the following:</p>\n\n<p><code>public bool IsMarried { get; set; }</code></p>\n\n<p>On the view side, I have the following code to represent the property:</p>\n\n<pre><code>&lt;label class=\"radio-inline\"&gt;\n    @Html.RadioButtonFor(model =&gt; model.IsMarried , true)Yes\n&lt;/label&gt;\n&lt;label class=\"radio-inline\"&gt;\n    @Html.RadioButtonFor(model =&gt; model.IsMarried , false)No\n&lt;/label&gt;\n</code></pre>\n\n<p>My problem is whwnever I submit the form, I get all of the rest of the normal fields (text) except the boolean property is always <code>true</code> </p>\n\n<p>As I mentioned, there are many solutions I found such as <a href=\"https://stackoverflow.com/questions/2559208/asp-net-mvc-yes-no-radio-buttons-with-strongly-bound-model-mvc\">this one</a> but I don't know why it didn't work for me.</p>\n\n<hr>\n\n<p>Added by author:</p>\n\n<p>I wanted to add to this question to make everything visible. In addition to the code I am showing above, I am using <code>Ajax</code> to submit the form.</p>\n\n<p><strong>This is the Ajax code:</strong></p>\n\n<pre><code>function SaveWebFormToDatabase() {\n    var formData = new FormData();\n    //Append the other textboxes with the form data\n    formData.append(\"LastName\", $(\"#LastName\").val());\n    formData.append(\"FirstName\", $(\"#FirstName\").val());\n    formData.append(\"IsMarried\", $(\"#IsMarried\").val());\n\n    $.ajax({\n        type: \"POST\",\n        url: \"../User/SaveFirstWebForm\",\n        data: formData,\n        processData: false,\n        contentType: false,\n        success: function (data) {\n            $('#loading_div').hide();\n        },\n        error: function (exception) {\n            console.log(exception);\n        }\n    });\n}\n</code></pre>\n\n<p><strong>In the Controller side, this is the method that receives the call:</strong></p>\n\n<pre><code>[HttpPost]\n    public JsonResult SaveFirstWebForm(WebApplicationFirstPhase model)\n    {\n        string Nme = model.FirstName + model.LastName;\n        bool ArmedFBit = model.IsMarried;//this is always true!\n        return Json(\"\");\n    }\n</code></pre>\n"}, {"tags": ["c#", "jquery", "html", "asp.net"], "comments": [{"owner": {"reputation": 762, "user_id": 4989054, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nt28V.jpg?s=128&g=1", "display_name": "Zaki Mohammed", "link": "https://stackoverflow.com/users/4989054/zaki-mohammed"}, "edited": false, "score": 0, "creation_date": 1535604564, "post_id": 52085058, "comment_id": 91128811, "body": "Have a look on this article <a href=\"https://www.c-sharpcorner.com/article/how-to-check-long-server-side-process-progress-in-real-time/\" rel=\"nofollow noreferrer\">c-sharpcorner.com/article/&hellip;</a>"}, {"owner": {"reputation": 7, "user_id": 6173575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0875dd4e3abf26e13821d0d0798a1f6f?s=128&d=identicon&r=PG&f=1", "display_name": "Chandu", "link": "https://stackoverflow.com/users/6173575/chandu"}, "reply_to_user": {"reputation": 762, "user_id": 4989054, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nt28V.jpg?s=128&g=1", "display_name": "Zaki Mohammed", "link": "https://stackoverflow.com/users/4989054/zaki-mohammed"}, "edited": false, "score": 0, "creation_date": 1535624333, "post_id": 52085058, "comment_id": 91139200, "body": "Hi Zaki, Thanks for the information, but I have to display a progress bar with updating status from code behind."}], "owner": {"reputation": 7, "user_id": 6173575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0875dd4e3abf26e13821d0d0798a1f6f?s=128&d=identicon&r=PG&f=1", "display_name": "Chandu", "link": "https://stackoverflow.com/users/6173575/chandu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 194, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1535576513, "creation_date": 1535572002, "last_edit_date": 1535576513, "question_id": 52085058, "link": "https://stackoverflow.com/questions/52085058/updating-jquery-progressbar-with-codebehind-for-loop", "title": "Updating Jquery progressbar with codebehind for loop", "body": "<p>I am trying to implement this:\n<a href=\"https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_progressbar_3\" rel=\"nofollow noreferrer\">https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_progressbar_3</a></p>\n\n<p>I tried to implement this first, but I don't know how to implement it. So tried to implement using jquery progressbar which I found some implementation examples online. I want the progress bar to be updated based on the code behind for loop. </p>\n\n<p>I am new to front end development. Please help!</p>\n\n<p>My aspx page:</p>\n\n<pre><code>&lt;div id=\"progressbar\"&gt;&lt;/div&gt;\n&lt;div id=\"result\"&gt;&lt;/div&gt;&lt;br /&gt;\n&lt;asp:Button ID=\"btnGetData\" runat=\"server\" Text=\"Get Data\" /&gt;\n\n\n&lt;script type=\"text/javascript\"&gt;\n\n$(document).ready(function () {\n    $$(\"progressbar\").progressbar({ value: 0 });\n\n    $$('btnGetData').click(function () {\n        var intervalID = setInterval(updateProgress, 250);\n        $.ajax({\n            type: \"POST\",\n            url: \"Default.aspx/GetResult\",\n            data: \"{}\",\n            contentType: \"application/json; charset=utf-8\",\n            dataType: \"json\",\n            //async: true,\n            success: function (data) {\n                debugger;                      \n                var test = parseInt(data.d);\n                $(\"#progressbar\").progressbar(\"value\", test);\n                $(\"#result\").text(msg.d);\n                clearInterval(intervalID);\n            }\n        });\n        return false;\n    });\n\n\n    function updateProgress() {\n        var value = $(\"#progressbar\").progressbar(\"option\", \"value\");\n        if (value &lt; 100) {\n            $(\"#progressbar\").progressbar(\"value\", value + 1);\n        }\n    }\n});\n\n&lt;/script&gt;\n</code></pre>\n\n<p>CodeBehind:</p>\n\n<pre><code>[System.Web.Services.WebMethod]\npublic static object GetResult()\n{          \n    DataSet ds = new DataSet();\n\n    var Numbers = GetNumbers.Tables[0];\n    var count = 0;\n\n    foreach(int num in Numbers.Rows)\n    {\n        ds.Tables[0].Rows.Add(GetData());\n        count+1;\n    }\n\n    return count;\n}\n</code></pre>\n"}, {"tags": ["c#", "console-application"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535572257, "post_id": 52085044, "comment_id": 91120451, "body": "What is the build action marked as? It won&#39;t show up in Intellisense because it is a file (unlike a string resource which is converted to code)."}, {"owner": {"reputation": 99, "user_id": 10181172, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2yqtqN4jLPY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p-XED2j0zpFCZ4OfqyD_HUvwK2XA/mo/photo.jpg?sz=128", "display_name": "Timmy Turner", "link": "https://stackoverflow.com/users/10181172/timmy-turner"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535572436, "post_id": 52085044, "comment_id": 91120524, "body": "@RonBeyer - ah, that is good to know.  i have the properties set like this \tBuild Action: Embedded Resource \tCopy To Output Directory: Do Not Copy"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535572708, "post_id": 52085044, "comment_id": 91120639, "body": "You are reading it out as a stream, so I&#39;m not sure what you need the intellisense for? Were you just looking for an alternative method?"}, {"owner": {"reputation": 99, "user_id": 10181172, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2yqtqN4jLPY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p-XED2j0zpFCZ4OfqyD_HUvwK2XA/mo/photo.jpg?sz=128", "display_name": "Timmy Turner", "link": "https://stackoverflow.com/users/10181172/timmy-turner"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535572774, "post_id": 52085044, "comment_id": 91120665, "body": "@RonBeyer - I am after how to add an embedded resource in a C# Console Application to &quot;download&quot; the file as a stream to the users computer at a designated time"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535572957, "post_id": 52085044, "comment_id": 91120749, "body": "Your first code example shows how to load the resource, that will work fine for console apps. You just need to replace the stuff about assembly resolution and returning <code>Assembly.Load</code> with the stream data."}, {"owner": {"reputation": 99, "user_id": 10181172, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2yqtqN4jLPY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p-XED2j0zpFCZ4OfqyD_HUvwK2XA/mo/photo.jpg?sz=128", "display_name": "Timmy Turner", "link": "https://stackoverflow.com/users/10181172/timmy-turner"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535573165, "post_id": 52085044, "comment_id": 91120848, "body": "@RonBeyer - if I try to use my 1st code sample I get compile errors.  see my edit"}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 10181172, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2yqtqN4jLPY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p-XED2j0zpFCZ4OfqyD_HUvwK2XA/mo/photo.jpg?sz=128", "display_name": "Timmy Turner", "link": "https://stackoverflow.com/users/10181172/timmy-turner"}, "edited": false, "score": 0, "creation_date": 1535573748, "post_id": 52085408, "comment_id": 91121146, "body": "If I understand what you did here, instead of returning the data, could I set it to download the file to the users Temp Dir like I did here <code>System.IO.File.WriteAllBytes(destination, resourceFile);</code>"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "reply_to_user": {"reputation": 99, "user_id": 10181172, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2yqtqN4jLPY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p-XED2j0zpFCZ4OfqyD_HUvwK2XA/mo/photo.jpg?sz=128", "display_name": "Timmy Turner", "link": "https://stackoverflow.com/users/10181172/timmy-turner"}, "edited": false, "score": 0, "creation_date": 1535573793, "post_id": 52085408, "comment_id": 91121158, "body": "Yes, you can do that as well."}], "tags": [], "owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "is_accepted": true, "score": 2, "last_activity_date": 1535573512, "creation_date": 1535573512, "answer_id": 52085408, "question_id": 52085044, "link": "https://stackoverflow.com/questions/52085044/access-embedded-resource-in-console-app/52085408#52085408", "title": "Access Embedded Resource In Console App", "body": "<p>Your first method, with a little bit of modification, should be able to return a resource stream. Here is basically what you have modified a little bit to just read the stream:</p>\n\n<pre><code>    public static byte[] GetResourceData(string resourceName)\n    {\n        var embeddedResource = Assembly.GetExecutingAssembly().GetManifestResourceNames().FirstOrDefault(s =&gt; string.Compare(s, resourceName, true) == 0);\n\n        if (!string.IsNullOrWhiteSpace(embeddedResource))\n        {\n            using (var stream = Assembly.GetExecutingAssembly().GetManifestResourceStream(embeddedResource))\n            {\n                var data = new byte[stream.Length];\n                stream.Read(data, 0, data.Length);\n\n                return data;\n            }\n        }\n\n        return null;\n    }\n</code></pre>\n\n<p>This method can be called using the resource name and will return all the bytes that are inside the embedded resource. </p>\n"}], "owner": {"reputation": 99, "user_id": 10181172, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2yqtqN4jLPY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p-XED2j0zpFCZ4OfqyD_HUvwK2XA/mo/photo.jpg?sz=128", "display_name": "Timmy Turner", "link": "https://stackoverflow.com/users/10181172/timmy-turner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 816, "favorite_count": 0, "accepted_answer_id": 52085408, "answer_count": 1, "score": 2, "last_activity_date": 1535577160, "creation_date": 1535571936, "last_edit_date": 1535577160, "question_id": 52085044, "link": "https://stackoverflow.com/questions/52085044/access-embedded-resource-in-console-app", "title": "Access Embedded Resource In Console App", "body": "<p>I am embedding a .docx file into my Console App, and I want to be able to distribute the console.exe and have the users be able to access the .docx file inside it.</p>\n\n<p>I have set the .docx file as a resource (see image) - however, if I try to \"access\" it by using <code>Resources.Test.docx</code> it seems as it if does not exist, and intellisense is not giving it as an option.</p>\n\n<p>How should I do this in a C# console app?\n<a href=\"https://i.stack.imgur.com/HoVgr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HoVgr.png\" alt=\"Resource\"></a></p>\n\n<p><strong>EDIT</strong><br>\nIn winforms I would embed as resource like this:</p>\n\n<pre><code>static void Main(string[] args)\n{   \n    AppDomain.CurrentDomain.AssemblyResolve += (sender, args) =&gt;\n    {\n        string rn1 = new AssemblyName(args.Name).Name + \".docx\";\n        string rs1 = Array.Find(this.GetType().Assembly.GetManifestResourceNames(), element =&gt; element.EndsWith(rn1));\n\n        using (var stream = Assembly.GetExecutingAssembly().GetManifestResourceStream(rs1))\n        {\n            Byte[] assemblydata = new Byte[stream.Length];\n            stream.Read(assemblydata, 0, assemblydata.Length);\n            return Assembly.Load(assemblydata);\n        }\n    }\n}\n</code></pre>\n\n<p>And access the file like this:</p>\n\n<pre><code>Object oFName;\nbyte[] resourceFile = Properties.Resources.Report;\nstring destination = Path.Combine(Path.GetTempPath(), \"Test.docx\");\nSystem.IO.File.WriteAllBytes(destination, resourceFile);\noFName = destination;\n</code></pre>\n\n<p><strong>EDIT 2</strong><br>\nIf I try to use the code I use for winforms the AppDomain.CurrentDomain.AssemblyResolve ->\nI receive the below errors</p>\n\n<blockquote>\n  <p>A local or parameter named 'args' cannot be declared in this scope because that name is used in an enclosing local scope to define a local or parameter   <br>\n  Keyword 'this' is not valid in a static property, static method, or static field initializer</p>\n</blockquote>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 6964, "user_id": 2261657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de05cbfc9a0fbef64f55eb69e761bee5?s=128&d=identicon&r=PG", "display_name": "\u03b3\u03b7\u03c1\u03ac\u03c3\u03ba\u03c9 \u03b4&#39; \u03b1\u03b5\u03af \u03c0\u03bf\u03bb\u03bb\u03ac \u03b4\u03b9\u03b4\u03b1\u03c3\u03ba\u03cc\u03bc\u03b5", "link": "https://stackoverflow.com/users/2261657/%ce%b3%ce%b7%cf%81%ce%ac%cf%83%ce%ba%cf%89-%ce%b4-%ce%b1%ce%b5%ce%af-%cf%80%ce%bf%ce%bb%ce%bb%ce%ac-%ce%b4%ce%b9%ce%b4%ce%b1%cf%83%ce%ba%cf%8c%ce%bc%ce%b5"}, "edited": false, "score": 0, "creation_date": 1535574079, "post_id": 52085039, "comment_id": 91121297, "body": "Where are you running this code from?"}, {"owner": {"reputation": 74, "user_id": 10168580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YvIGxHD1Nqg/AAAAAAAAAAI/AAAAAAAACWo/JzmWs2K5seY/photo.jpg?sz=128", "display_name": "Simkoo", "link": "https://stackoverflow.com/users/10168580/simkoo"}, "reply_to_user": {"reputation": 6964, "user_id": 2261657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de05cbfc9a0fbef64f55eb69e761bee5?s=128&d=identicon&r=PG", "display_name": "\u03b3\u03b7\u03c1\u03ac\u03c3\u03ba\u03c9 \u03b4&#39; \u03b1\u03b5\u03af \u03c0\u03bf\u03bb\u03bb\u03ac \u03b4\u03b9\u03b4\u03b1\u03c3\u03ba\u03cc\u03bc\u03b5", "link": "https://stackoverflow.com/users/2261657/%ce%b3%ce%b7%cf%81%ce%ac%cf%83%ce%ba%cf%89-%ce%b4-%ce%b1%ce%b5%ce%af-%cf%80%ce%bf%ce%bb%ce%bb%ce%ac-%ce%b4%ce%b9%ce%b4%ce%b1%cf%83%ce%ba%cf%8c%ce%bc%ce%b5"}, "edited": false, "score": 0, "creation_date": 1535578382, "post_id": 52085039, "comment_id": 91123044, "body": "I&#39;m running this code in a : private void capture ()  {  }. this code is called from a button press"}, {"owner": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "edited": false, "score": 0, "creation_date": 1535579336, "post_id": 52085039, "comment_id": 91123368, "body": "Before you call <code>bm.Dispose</code> set <code>pictureBox1.Image</code> to null."}, {"owner": {"reputation": 74, "user_id": 10168580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YvIGxHD1Nqg/AAAAAAAAAAI/AAAAAAAACWo/JzmWs2K5seY/photo.jpg?sz=128", "display_name": "Simkoo", "link": "https://stackoverflow.com/users/10168580/simkoo"}, "edited": false, "score": 0, "creation_date": 1535579725, "post_id": 52085039, "comment_id": 91123490, "body": "Wow, thank you so much. it worked clearing the picturebox"}], "answers": [{"comments": [{"owner": {"reputation": 74, "user_id": 10168580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YvIGxHD1Nqg/AAAAAAAAAAI/AAAAAAAACWo/JzmWs2K5seY/photo.jpg?sz=128", "display_name": "Simkoo", "link": "https://stackoverflow.com/users/10168580/simkoo"}, "edited": false, "score": 0, "creation_date": 1535591404, "post_id": 52086586, "comment_id": 91126156, "body": "With a little bit of tweaking this script works amazingly, thank you so much for the detailed help."}], "tags": [], "owner": {"reputation": 6964, "user_id": 2261657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de05cbfc9a0fbef64f55eb69e761bee5?s=128&d=identicon&r=PG", "display_name": "\u03b3\u03b7\u03c1\u03ac\u03c3\u03ba\u03c9 \u03b4&#39; \u03b1\u03b5\u03af \u03c0\u03bf\u03bb\u03bb\u03ac \u03b4\u03b9\u03b4\u03b1\u03c3\u03ba\u03cc\u03bc\u03b5", "link": "https://stackoverflow.com/users/2261657/%ce%b3%ce%b7%cf%81%ce%ac%cf%83%ce%ba%cf%89-%ce%b4-%ce%b1%ce%b5%ce%af-%cf%80%ce%bf%ce%bb%ce%bb%ce%ac-%ce%b4%ce%b9%ce%b4%ce%b1%cf%83%ce%ba%cf%8c%ce%bc%ce%b5"}, "is_accepted": true, "score": 1, "last_activity_date": 1535579974, "last_edit_date": 1535579974, "creation_date": 1535579601, "answer_id": 52086586, "question_id": 52085039, "link": "https://stackoverflow.com/questions/52085039/screen-recorder-crashes-when-i-move-the-form-window/52086586#52086586", "title": "Screen recorder crashes when I move the form window", "body": "<p>You are doing many things unnecessary eg creating 3 bitmaps instead of one, setting the image <em>bm</em> to picbox and of cource running the code to main UI. Of cource it will freeze. For an easy and quick fix create a timer. Set the interval to 10. Create a <code>button</code> that will stop the timer and one that will start it and record. In timer instead of calling\nrepeatedly</p>\n\n<pre><code>pictureBox1.Image = bm;\n</code></pre>\n\n<p>use</p>\n\n<pre><code>pictureBox1.Invalidate();\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>//not good names. change it to something meaningfull\nprivate Bitmap bm;\nprivate Graphics g;\nVideoFileWriter videowriter;\n\nprivate void timer1_Tick( object sender, EventArgs e ) {;\n    //takes the screenshot                            \n    g.CopyFromScreen( 0, 0, 0, 0, bm.Size );\n\n    videowriter.WriteVideoFrame(bm);\n\n    pictureBox1.Invalidate();\n}\n</code></pre>\n\n<p>The button that starts the recording:</p>\n\n<pre><code>private void Start_Click( object sender, EventArgs e ) {\n    //create both bitmap and graphics once!\n    bm = new Bitmap( Screen.PrimaryScreen.Bounds.Width, Screen.PrimaryScreen.Bounds.Height );\n    g = Graphics.FromImage( bm );\n\n    pictureBox1.Image = bm; //Just once!\n\n    basePath = sel.ToString();\n    basePath = @\"C:\\Users\\sim\\Videos\\Captures\";\n    videowriter = new VideoFileWriter();\n    videowriter.Open(basePath + \"timelapse.avi\", Screen.PrimaryScreen.Bounds.Width, Screen.PrimaryScreen.Bounds.Height, 9, VideoCodec.MPEG4, 1200000);\n\n    timer1.Enabled = true;\n}\n</code></pre>\n\n<p>Button to stop recording:</p>\n\n<pre><code>private void Stop_Click( object sender, EventArgs e ) {\n    timer1.Enabled = false;\n\n    pictureBox1.Image = null;\n    bm.Dispose();\n    bm = null;\n    g.Dispose();\n    g = null;\n    videowriter.Close();\n    //I don't know if videowriter can be disposed if so dispose it too and set it to null\n}\n</code></pre>\n\n<p>Also set <code>picturebox</code> <em>SizeMode</em> to <em>StreachImage</em></p>\n"}], "owner": {"reputation": 74, "user_id": 10168580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YvIGxHD1Nqg/AAAAAAAAAAI/AAAAAAAACWo/JzmWs2K5seY/photo.jpg?sz=128", "display_name": "Simkoo", "link": "https://stackoverflow.com/users/10168580/simkoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 52086586, "answer_count": 1, "score": 1, "last_activity_date": 1535579974, "creation_date": 1535571928, "last_edit_date": 1535576790, "question_id": 52085039, "link": "https://stackoverflow.com/questions/52085039/screen-recorder-crashes-when-i-move-the-form-window", "title": "Screen recorder crashes when I move the form window", "body": "<p>I have followed a bunch of tutorials and made a screen recorder. It works by taking a screenshot and then using the <code>AForge.video</code> addon to convert this to avi format. The programme worked fine, but it ran out of memory after about 20 seconds. This would either crash the program or clear itself with a huge lag spike. To stop this I added a disposal method at the end of every screenshot to clear the memory. This kept the memory usage down however it makes the application hugely unstable. When I move the main window or wait for about 3 minutes on recording, the programme crashes and shows this:<br>\n<a href=\"https://i.stack.imgur.com/52pQM.png\" rel=\"nofollow noreferrer\">A screenshot of the error</a></p>\n\n<p>Every time I remove the dispose methods, the programme moves fine but runs out of memory quickly. Maybe I'm just using the dispose method wrong.</p>\n\n<p>Here's the code that crashes the programme. There is way to much code to include it all.</p>\n\n<pre><code> counter = 0;\n imagelist = new Bitmap[100000];\n Globals.imgcount = 0;\n Graphics g;\n\n basePath = sel.ToString();\n basePath = @\"C:\\Users\\sim\\Videos\\Captures\";\n using (var videowriter = new VideoFileWriter())\n {\n     videowriter.Open(basePath + \"timelapse.avi\", Screen.PrimaryScreen.Bounds.Width, Screen.PrimaryScreen.Bounds.Height, 9, VideoCodec.MPEG4, 1200000);\n\n     while (Globals.recording == true) \n     {\n         try\n         {                       \n             try\n             {                      \n                 //takes the screenshot                            \n                 bm = new Bitmap(Screen.PrimaryScreen.Bounds.Width, Screen.PrimaryScreen.Bounds.Height);\n                 //turns it into graphics\n                 g = Graphics.FromImage(bm);\n                 g.CopyFromScreen(0, 0, 0, 0, bm.Size);\n\n                 counter++;                                    \n\n                 videowriter.WriteVideoFrame(bm);\n\n                 //display image\n                 Bitmap original = bm;\n                 Bitmap resized2 = new Bitmap(original, new Size(pictureBox1.Width, pictureBox1.Height));\n                 bm = resized2;\n\n                 pictureBox1.Image = bm;                                                       \n\n                 Thread.Sleep(10);\n\n                 if (/*counter % 18 == 0*/ true) \n                 {\n                    try\n                    {\n                        g.Dispose();\n                        bm.Dispose();\n\n                        original.Dispose();\n                        resized2.Dispose();\n                    }\n                    catch\n                    {\n                        MessageBox.Show(\"Disposal error\");\n                    }\n                }\n            }\n            catch { }\n        }\n        catch { }\n    }                \n    videowriter.Close();\n}\n</code></pre>\n\n<p>I hope that this is enough information to figure something out.\nThanks to anyone who can help.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-mvc-5", "antiforgerytoken"], "answers": [{"comments": [{"owner": {"reputation": 11005, "user_id": 8211528, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0831ca2a26e862e3e42c159c624e2ded?s=128&d=identicon&r=PG", "display_name": "Hooman Bahreini", "link": "https://stackoverflow.com/users/8211528/hooman-bahreini"}, "edited": false, "score": 0, "creation_date": 1535573104, "post_id": 52085168, "comment_id": 91120819, "body": "Thanks a lot @Fran. So if I do the first method (check the Product.Creator) then it would be enough?"}, {"owner": {"reputation": 5975, "user_id": 187365, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/CIlaX.jpg?s=128&g=1", "display_name": "Fran", "link": "https://stackoverflow.com/users/187365/fran"}, "reply_to_user": {"reputation": 11005, "user_id": 8211528, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0831ca2a26e862e3e42c159c624e2ded?s=128&d=identicon&r=PG", "display_name": "Hooman Bahreini", "link": "https://stackoverflow.com/users/8211528/hooman-bahreini"}, "edited": false, "score": 1, "creation_date": 1535573254, "post_id": 52085168, "comment_id": 91120899, "body": "it depends on your scenario.  if a user can only edit his/her records then yes.  you may have scenario&#39;s where a person can delegate access too another user.  You may have a manager that can see all records for their direct employees.  There&#39;s no standard answer for this."}], "tags": [], "owner": {"reputation": 5975, "user_id": 187365, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/CIlaX.jpg?s=128&g=1", "display_name": "Fran", "link": "https://stackoverflow.com/users/187365/fran"}, "is_accepted": true, "score": 3, "last_activity_date": 1535572960, "last_edit_date": 1535572960, "creation_date": 1535572511, "answer_id": 52085168, "question_id": 52085019, "link": "https://stackoverflow.com/questions/52085019/secure-way-to-delete-a-record-in-asp-net-mvc/52085168#52085168", "title": "Secure way to Delete a record in ASP.Net MVC", "body": "<p>Short answer.  That is not enough. </p>\n\n<p>Antiforgery tokens just say that the person making the original page request is the person making the update.</p>\n\n<p>The base authorize attribute just verifies that the user is logged in.</p>\n\n<p>What you are looking for is data security.  There's an <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/authorization/secure-data?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">example</a> of this on microsoft's own site.</p>\n\n<p>What you've stated in your last paragraph, a hacker can sign up for an account create their own list of products and given what you show them in the url could guess legitimate other records to edit</p>\n\n<p>Say you have a url </p>\n\n<p><a href=\"https://example.com/product/edit/13\" rel=\"nofollow noreferrer\">https://example.com/product/edit/13</a></p>\n\n<p>what is preventing the user/hacker from guessing at </p>\n\n<p><a href=\"https://example.com/product/edit/12\" rel=\"nofollow noreferrer\">https://example.com/product/edit/12</a>\nor \n<a href=\"https://example.com/product/edit/14\" rel=\"nofollow noreferrer\">https://example.com/product/edit/14</a></p>\n\n<p>Without security at the data level that says what records a user can or can't access/update, you run into a situation where a malicious user could see or edit all kinds of information.</p>\n\n<p>This is the exact scenario that <a href=\"https://krebsonsecurity.com/2018/08/fiserv-flaw-exposed-customer-data-at-hundreds-of-banks/\" rel=\"nofollow noreferrer\">FISERV</a> found to expose other client information</p>\n\n<p>from the article</p>\n\n<blockquote>\n  <p>Hermansen had signed up to get email alerts any time a new transaction\n  posted to his account, and he noticed the site assigned his alert a\n  specific \u201cevent number.\u201d Working on a hunch that these event numbers\n  might be assigned sequentially and that other records might be\n  available if requested directly, Hermansen requested the same page\n  again but first edited the site\u2019s code in his browser so that his\n  event number was decremented by one digit.</p>\n</blockquote>\n"}], "owner": {"reputation": 11005, "user_id": 8211528, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0831ca2a26e862e3e42c159c624e2ded?s=128&d=identicon&r=PG", "display_name": "Hooman Bahreini", "link": "https://stackoverflow.com/users/8211528/hooman-bahreini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 1, "accepted_answer_id": 52085168, "answer_count": 1, "score": 3, "last_activity_date": 1535607330, "creation_date": 1535571788, "last_edit_date": 1535607330, "question_id": 52085019, "link": "https://stackoverflow.com/questions/52085019/secure-way-to-delete-a-record-in-asp-net-mvc", "title": "Secure way to Delete a record in ASP.Net MVC", "body": "<p>I want to delete a product from my ASP.Net MVC 5 website. I want to know if adding <code>[AntiForgeryToken]</code> and <code>[Authorize]</code> is enough to secure the Delete operation?</p>\n\n<p><strong>View</strong></p>\n\n<pre><code> &lt;p&gt;Delete: @Model.Name&lt;/p&gt;\n @using (Html.BeginForm(\"Delete\", \"ProductController\", FormMethod.Post, new { ProductId = Model.ProductId }))\n {\n    @Html.AntiForgeryToken()\n    &lt;button type=\"submit\"&gt;Delete&lt;/button&gt;\n }\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>[HttpPost]\n[Authorize]\n[ValidateAntiForgeryToken]\npublic ActionResult Delete(long ProductId)\n{\n    /* Do I need to check if the logged in User has permission to delete the product?\n    var product = ProductRepository.Get(Id);\n    if (product.Creator == User.Identity.GetUserId&lt;long&gt;())\n    {\n        ProductRepository.Delete(ProductId);\n    }\n    */\n\n    // or, can I avoid the trip to DB and just delete the record?        \n    ProductRepository.Delete(ProductId); \n}\n</code></pre>\n\n<p><strong>Scenario:</strong> A hacker registers on my website and create a valid account. Now the hacker views his own product and obviously he has an AntiForgeryToken. Can he now just change the ProductId in the browser and Post a request to delete someone else's Product? </p>\n"}, {"tags": ["c#", "asp.net-mvc", "ravendb"], "comments": [{"owner": {"reputation": 5, "user_id": 10291808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e09dbd8deadfd4280c48fa6a6efe38?s=128&d=identicon&r=PG&f=1", "display_name": "TopperDEL", "link": "https://stackoverflow.com/users/10291808/topperdel"}, "edited": false, "score": 0, "creation_date": 1535572140, "post_id": 52084971, "comment_id": 91120399, "body": "This is an answer that would help me if my ravendb-stream would be seekable: <a href=\"https://stackoverflow.com/a/39247028/10291808\">stackoverflow.com/a/39247028/10291808</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 10291808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e09dbd8deadfd4280c48fa6a6efe38?s=128&d=identicon&r=PG&f=1", "display_name": "TopperDEL", "link": "https://stackoverflow.com/users/10291808/topperdel"}, "edited": false, "score": 0, "creation_date": 1535639931, "post_id": 52094527, "comment_id": 91149977, "body": "But what if I have GB sized Video files? Holding them in Memory might lead to Problems. And I would still have to wait for the Video to load from ravendb to Memory until I could serve the first Byte to the Client."}, {"owner": {"reputation": 592, "user_id": 4610195, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/10206253119754771/picture?type=large", "display_name": "Embri", "link": "https://stackoverflow.com/users/4610195/embri"}, "reply_to_user": {"reputation": 5, "user_id": 10291808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e09dbd8deadfd4280c48fa6a6efe38?s=128&d=identicon&r=PG&f=1", "display_name": "TopperDEL", "link": "https://stackoverflow.com/users/10291808/topperdel"}, "edited": false, "score": 0, "creation_date": 1535699120, "post_id": 52094527, "comment_id": 91170818, "body": "@TopperDEL You could store it splitted by the range you want to download. If you have GB of video the problem remain also if you load it from Raven or if you keep it in memory."}, {"owner": {"reputation": 5, "user_id": 10291808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e09dbd8deadfd4280c48fa6a6efe38?s=128&d=identicon&r=PG&f=1", "display_name": "TopperDEL", "link": "https://stackoverflow.com/users/10291808/topperdel"}, "edited": false, "score": 0, "creation_date": 1535713419, "post_id": 52094527, "comment_id": 91178506, "body": "Well, the main Problem seems to be that raven does not provide a way to Access a range from a binary attachment. It wouldn&#39;t be a Problem if this would be possible. Keeping only a Portion of that GB-Video in Memory doesn&#39;t work with the curretn raven-implementation, as I can only download the whole file at once. Nevertheless, Thank you."}], "tags": [], "owner": {"reputation": 592, "user_id": 4610195, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/10206253119754771/picture?type=large", "display_name": "Embri", "link": "https://stackoverflow.com/users/4610195/embri"}, "is_accepted": false, "score": 0, "last_activity_date": 1535624069, "creation_date": 1535624069, "answer_id": 52094527, "question_id": 52084971, "link": "https://stackoverflow.com/questions/52084971/stream-video-from-ravendb-through-asp-net-mvc/52094527#52094527", "title": "Stream video from RavenDB through ASP.Net MVC", "body": "<p>I think that it is correct to copy the stream into a memory stream. With the answer you linked (<a href=\"https://stackoverflow.com/a/39247028/10291808\">https://stackoverflow.com/a/39247028/10291808</a>) you can do streaming.</p>\n\n<p>Maybe could be an idea to think about the multiple calls that will done to retrieve the file from the db (maybe you could cache the file for a limited time to improve performance).</p>\n"}], "owner": {"reputation": 5, "user_id": 10291808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e09dbd8deadfd4280c48fa6a6efe38?s=128&d=identicon&r=PG&f=1", "display_name": "TopperDEL", "link": "https://stackoverflow.com/users/10291808/topperdel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535624069, "creation_date": 1535571589, "last_edit_date": 1535571764, "question_id": 52084971, "link": "https://stackoverflow.com/questions/52084971/stream-video-from-ravendb-through-asp-net-mvc", "title": "Stream video from RavenDB through ASP.Net MVC", "body": "<p>I'm trying to stream a Video, that is saved as an attachment in a Ravendb-Database, through an ASP.NET MVC 5 Action to a WebBrowser. It is working with the following Code, but the Video gets fully downloaded before the Video starts. I don't get what I'm doing wrong.</p>\n\n<p>I found some ways to do Streaming in MVC, but they seem to expect a Seekable Stream - but the stream I receive from Ravendb is not seekable; it even does not provide a length. So the only way of doing it would be to copy the ravendb-stream to a memorystream and provide a PartialContent or similar from there.</p>\n\n<p>Does anybody have a better solution? I cannot be the only one that wants to stream a Video from a database without loading the full Video into Memory before sending it.</p>\n\n<p>I'm fetching the attachment from ravendb like this:</p>\n\n<pre><code>public async Task&lt;System.IO.Stream&gt; GetAttachmentAsync(IAttachmentPossible attachedObject, string key)\n{\n    using (var ds = InitDatabase())\n    {\n        using (var session = ds.OpenAsyncSession())\n        {\n            try\n            {\n                var result = await session.Advanced.Attachments.GetAsync(attachedObject.Id, key);\n                return result.Stream;\n            }\n            catch (Exception ex)\n            {\n                return null;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>After that I send the stream to the browser like this:</p>\n\n<pre><code>var file = await _database.GetAttachmentAsync(entry, attachmentId);\n\nHttpResponseMessage msg = new HttpResponseMessage(HttpStatusCode.OK);\nmsg.Content = new StreamContent(file);\nmsg.Content.Headers.ContentType = new MediaTypeHeaderValue(\"video/mp4\");\nreturn msg;\n</code></pre>\n\n<p>Any ideas? Thank you very much!</p>\n"}, {"tags": ["c#", "autofac"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1535572773, "post_id": 52084803, "comment_id": 91120664, "body": "You aren&#39;t missing anything.  The component context can&#39;t be resolved from within the inner lambda.  It has to be resolved outside, and used within."}], "answers": [{"tags": [], "owner": {"reputation": 593, "user_id": 3191951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/053b3a2b3ca580c666c3d69a2729f289?s=128&d=identicon&r=PG&f=1", "display_name": "Kedrzu", "link": "https://stackoverflow.com/users/3191951/kedrzu"}, "is_accepted": false, "score": -1, "last_activity_date": 1535574125, "last_edit_date": 1535574125, "creation_date": 1535573737, "answer_id": 52085445, "question_id": 52084803, "link": "https://stackoverflow.com/questions/52084803/system-objectdisposedexception-this-resolve-operation-has-already-ended/52085445#52085445", "title": "System.ObjectDisposedException: This resolve operation has already ended", "body": "<p>Your first configuration looks quite similar to the second but it differ on when <code>IComponentContext</code> is resolved. </p>\n\n<p>Let me restructure a little bit your first configuration without changing logic.</p>\n\n<pre><code>builder.Register&lt;ServiceFactory&gt;(x =&gt; \n{ \n    return y =&gt; x.Resolve&lt;IComponentContext&gt;().Resolve(y)\n});  \n</code></pre>\n\n<p>In the first example, you are registering lambda which</p>\n\n<ol>\n<li><p>Returns lambda which:</p>\n\n<p>1.1 Resolve IComponentContext</p>\n\n<p>1.2 Call Resolve on IComponentContext instance and return result</p></li>\n</ol>\n\n<p>Let's compare it to the second configuration.</p>\n\n<pre><code>builder.Register&lt;ServiceFactory&gt;(x =&gt; {\n  IComponentContext context = x.Resolve&lt;IComponentContext&gt;();\n  return y =&gt; context.Resolve(y);\n});    \n</code></pre>\n\n<p>In the second example, you are registering lambda which</p>\n\n<ol>\n<li><p>Resolve IComponentContext and assign it to variable 'context'</p></li>\n<li><p>Returns lambda which captures variable context and:</p>\n\n<p>2.1 Call Resolve on variable context and return result</p></li>\n</ol>\n\n<p>So it differs on moment of resolving IComponentContext.</p>\n"}], "owner": {"reputation": 27795, "user_id": 577805, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dbbe0a475e6a151f0595b83e55475f34?s=128&d=identicon&r=PG", "display_name": "Miguel Moura", "link": "https://stackoverflow.com/users/577805/miguel-moura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 342, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1535574929, "creation_date": 1535570934, "last_edit_date": 1535574929, "question_id": 52084803, "link": "https://stackoverflow.com/questions/52084803/system-objectdisposedexception-this-resolve-operation-has-already-ended", "title": "System.ObjectDisposedException: This resolve operation has already ended", "body": "<p>I have the following configuration in Autofac:</p>\n\n<pre><code>builder.Register&lt;ServiceFactory&gt;(x =&gt; y =&gt; x.Resolve&lt;IComponentContext&gt;().Resolve(y));  \n</code></pre>\n\n<p>With this configuration I get the error:</p>\n\n<blockquote>\n  <p>System.ObjectDisposedException: This resolve operation has already\n  ended.\n      When registering components using lambdas, the IComponentContext 'c' parameter to the lambda cannot be stored. \n      Instead, either resolve IComponentContext again from 'c', or resolve a Func&lt;> based factory to create subsequent components from.</p>\n</blockquote>\n\n<p>If I use the following than it works:</p>\n\n<pre><code>builder.Register&lt;ServiceFactory&gt;(x =&gt; {\n  IComponentContext context = x.Resolve&lt;IComponentContext&gt;();\n  return y =&gt; context.Resolve(y);\n});    \n</code></pre>\n\n<p>Can't this configuration be made in one code line?</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["c#", ".net", "asp.net-mvc", "exception-handling"], "owner": {"reputation": 11, "user_id": 10291698, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6of9_7BFFyQ/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaONSrf90ZAedCzYJKGOuFVqfyZNSg/mo/photo.jpg?sz=128", "display_name": "Kiniak94", "link": "https://stackoverflow.com/users/10291698/kiniak94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1535571098, "creation_date": 1535570390, "last_edit_date": 1535571098, "question_id": 52084678, "link": "https://stackoverflow.com/questions/52084678/getbaseexception-works-on-localhost-but-is-null-after-release", "title": "GetBaseException() works on localhost but is null after release", "body": "<p>I use global exception handler <code>Application_Error</code> in <code>Global.asax</code> to handle exceptions: </p>\n\n<pre><code>var exception = Server.GetLastError() as HttpException;\nexception.GetBaseException();\n</code></pre>\n\n<p>When an exception is thrown on localhost everything works perfectly but after release, <code>exception.GetBaseException()</code> is null.</p>\n\n<p>I was wondering what can cause it?</p>\n"}, {"tags": ["c#", "exception", "asp.net-core", "serilog"], "comments": [{"owner": {"reputation": 3166, "user_id": 1790663, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/83d8ab02031476dbdfc7518e118397b4?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/1790663/mike"}, "edited": false, "score": 2, "creation_date": 1535570463, "post_id": 52084651, "comment_id": 91119653, "body": "Can you describe your Serilog configuration in details (e.g. sinks, global filters for asp.net core)"}, {"owner": {"reputation": 1476, "user_id": 1748008, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cafb0c50638c4099c4af30b650c0ba36?s=128&d=identicon&r=PG", "display_name": "Kartik", "link": "https://stackoverflow.com/users/1748008/kartik"}, "edited": false, "score": 0, "creation_date": 1543250977, "post_id": 52084651, "comment_id": 93840926, "body": "The answer should not have been accepted. It still does not answer your question that you clarified in Edit2"}, {"owner": {"reputation": 25, "user_id": 2159248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pl8DU.jpg?s=128&g=1", "display_name": "petergummer", "link": "https://stackoverflow.com/users/2159248/petergummer"}, "edited": false, "score": 1, "creation_date": 1554960186, "post_id": 52084651, "comment_id": 97943045, "body": "Your <code>.Filter.ByExcluding(ObjectDisposedException)</code> approach works for me. In fact it solves a problem I&#39;ve been having. I have exception-handling middleware that logs some types of exceptions in a certain format, but when I re-throw the exceptions Serilog logs them again in its standard format. I need to re-throw them to preserve the application&#39;s proper behaviour on exception, but it&#39;s been annoying to have these exceptions logged twice. So thank you. Your question actually answers itself ... and you&#39;ve solved my problem!"}], "answers": [{"tags": [], "owner": {"reputation": 333, "user_id": 5133815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KAz1y.jpg?s=128&g=1", "display_name": "Reza Bayat", "link": "https://stackoverflow.com/users/5133815/reza-bayat"}, "is_accepted": false, "score": 0, "last_activity_date": 1535571390, "creation_date": 1535571390, "answer_id": 52084914, "question_id": 52084651, "link": "https://stackoverflow.com/questions/52084651/how-to-exclude-specific-exception-types-from-serilog/52084914#52084914", "title": "How to exclude specific exception types from Serilog?", "body": "<p>below code may help you</p>\n\n<pre><code>catch (Exception ex)\n{\n    if (ex.GetType() != typeof(ExceptionTypeToExclude) ) {\n         Log.Fatal(ex, \"Host terminated unexpectedly\");\n    }\n    return;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 112, "user_id": 7274267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p41nt.png?s=128&g=1", "display_name": "Jimmy Jacques", "link": "https://stackoverflow.com/users/7274267/jimmy-jacques"}, "edited": false, "score": 0, "creation_date": 1535632375, "post_id": 52084954, "comment_id": 91144493, "body": "I think I will just do this. Thank you."}], "tags": [], "owner": {"reputation": 2355, "user_id": 9918730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sqil.jpg?s=128&g=1", "display_name": "GoldenAge", "link": "https://stackoverflow.com/users/9918730/goldenage"}, "is_accepted": true, "score": 1, "last_activity_date": 1590088761, "last_edit_date": 1590088761, "creation_date": 1535571506, "answer_id": 52084954, "question_id": 52084651, "link": "https://stackoverflow.com/questions/52084651/how-to-exclude-specific-exception-types-from-serilog/52084954#52084954", "title": "How to exclude specific exception types from Serilog?", "body": "<p><strong>EDIT</strong></p>\n\n<p>Let me clarify that I was mostly thinking about the production code where I still stand on what I wrote before that every unhandled exception should be logged by the logger to be able to catch some edge cases that normally you would never predict. If you disagree please write down a comment so we can discuss it. For other environments e.g localhost you can use the <a href=\"https://stackoverflow.com/a/58368351/9918730\">Grzegorz Smulko answer</a></p>\n\n<p><strong>ANSWER:</strong></p>\n\n<blockquote>\n  <p>Is there a way in Serilog to exclude a specific exception type from\n  being logged?</p>\n</blockquote>\n\n<p>I would just create an empty catch for that specific type of exception and do just nothing inside the body e.g.</p>\n\n<pre><code>try\n{\n    // invoke some function/s\n}\ncatch (BlahException)\n{\n    // do nothing\n}\ncatch (Exception e)\n{\n    Log.Fatal(ex, \"Host terminated unexpectedly\");\n    // do something\n}\nfinally\n{\n    Log.CloseAndFlush();\n}\n</code></pre>\n\n<p>If you want to ignore more exceptions I would create some extra function which checks if you want to log this type of error or not.</p>\n\n<pre><code>// list of error codes:\n// https://docs.microsoft.com/en-gb/windows/desktop/Debug/system-error-codes\npublic static bool IgnoreError(int errorCode)\n{\n    switch (errorCode)\n    {\n        case 16389:\n            return true;\n        case 16387:\n            return true;\n        default:\n            return false;\n    }\n}\n</code></pre>\n\n<p>then inside the catch block, you can pass the exception code to this method. e.g.</p>\n\n<pre><code>try\n{\n    throw new ArgumentNullException(\"value\");\n}\ncatch (Exception e) \n{\n    // Using an AND operation will retrieve the error code from the HRESULT:\n    if (IgnoreError(e.HResult &amp; 0xFFFF))\n    {\n        return;\n    }\n    Log.Fatal(e, \"message\");\n}\n</code></pre>\n\n<p>I think <strong>every unhandled exception should be logged by logger because this is its main responsibility</strong>. I can't see any advantage to ignore logging unhandled exception and there shouldn't be such a setting, this is just too scary! If you know that exception can occur in a given place, then you should create the try and catch blocks to catch as many expected exceptions as possible. Then you can make a decision if you want to ignore some specific exception or no in the catch block.</p>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 6372855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be8097c6b78d741c59dc4e69eff91e67?s=128&d=identicon&r=PG&f=1", "display_name": "Alessandro Di Cicco", "link": "https://stackoverflow.com/users/6372855/alessandro-di-cicco"}, "is_accepted": false, "score": -1, "last_activity_date": 1535587311, "last_edit_date": 1535587311, "creation_date": 1535573358, "answer_id": 52085378, "question_id": 52084651, "link": "https://stackoverflow.com/questions/52084651/how-to-exclude-specific-exception-types-from-serilog/52085378#52085378", "title": "How to exclude specific exception types from Serilog?", "body": "<p>You could use an <code>HashSet&lt;TypeInfo&gt;</code> that you fill with all the exception types you want to exclude and then check if your current exception is contained in it :</p>\n\n<pre><code>HashSet&lt;TypeInfo&gt; ignore = new HashSet&lt;TypeInfo&gt;();\nignore.Add(typeof(SomeExceptionType).GetTypeInfo());\n\n//Add all the exceptions you want to exclude\n</code></pre>\n\n<p>You can now test your Exception type like this :</p>\n\n<pre><code>try {\n   //Critical code\n}\ncatch (Exception e) {\n    if (!ignore.Contains(e.GetType().GetTypeInfo())) //Do stuff\n}\n</code></pre>\n\n<p>You need to add <code>using System.Reflection</code> to use the type <code>TypeInfo</code></p>\n"}, {"tags": [], "owner": {"reputation": 1730, "user_id": 532575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H5Okm.jpg?s=128&g=1", "display_name": "Grzegorz Smulko", "link": "https://stackoverflow.com/users/532575/grzegorz-smulko"}, "is_accepted": false, "score": 14, "last_activity_date": 1589864407, "last_edit_date": 1589864407, "creation_date": 1571006747, "answer_id": 58368351, "question_id": 52084651, "link": "https://stackoverflow.com/questions/52084651/how-to-exclude-specific-exception-types-from-serilog/58368351#58368351", "title": "How to exclude specific exception types from Serilog?", "body": "<p>Adding a filter when you declare your LoggerConfiguration should work just fine:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>Log.Logger = new LoggerConfiguration()\n    .MinimumLevel.Debug()\n    ...\n    .Filter\n      .ByExcluding(logEvent =&gt; \n         logEvent.Exception != null &amp;&amp; \n         logEvent.Exception.GetType() == typeof(OperationCanceledException))\n    ...\n    .CreateLogger();\n\n</code></pre>\n"}], "owner": {"reputation": 112, "user_id": 7274267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p41nt.png?s=128&g=1", "display_name": "Jimmy Jacques", "link": "https://stackoverflow.com/users/7274267/jimmy-jacques"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3433, "favorite_count": 0, "accepted_answer_id": 52084954, "answer_count": 4, "score": 6, "last_activity_date": 1590088761, "creation_date": 1535570265, "last_edit_date": 1535574371, "question_id": 52084651, "link": "https://stackoverflow.com/questions/52084651/how-to-exclude-specific-exception-types-from-serilog", "title": "How to exclude specific exception types from Serilog?", "body": "<p>I am using Serilog to log information about an <code>asp.net core 2.1</code> application hosted on IIS. When exceptions occur, I am informed by email. The thing is, some exceptions happen without hurting the application at all and I don't want to be noticed each time it happens.</p>\n\n<p>Is there a way in Serilog to exclude a specific exception type from being logged?</p>\n\n<p><strong>EDIT :</strong></p>\n\n<p>Here is how I configured Serilog in my Program.cs :</p>\n\n<pre><code>using System;\nusing System.Data;\nusing Microsoft.AspNetCore;\nusing Microsoft.AspNetCore.Hosting;\nusing Microsoft.Extensions.Configuration;\nusing Serilog;\nusing Serilog.Sinks.MSSqlServer;\n\nnamespace WindZone_Warehouse_Mobile_App\n{\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            var configuration = new ConfigurationBuilder()\n                .AddJsonFile(Environment.CurrentDirectory + \"/appsettings.json\")\n                .Build();\n\n            var columnOptions = new ColumnOptions {\n                AdditionalDataColumns = new System.Collections.ObjectModel.Collection&lt;DataColumn&gt;\n                {\n                    new DataColumn {DataType = typeof (string), ColumnName = \"email\", DefaultValue = \"myemail@myemail.com\", MaxLength = 4000},\n                    new DataColumn {DataType = typeof (string), ColumnName = \"subject\", DefaultValue = \"Application error\", MaxLength = 4000},\n                }\n            };\n            columnOptions.Store.Remove(StandardColumn.Level);\n            columnOptions.Store.Remove(StandardColumn.LogEvent);\n            columnOptions.Store.Remove(StandardColumn.Message);\n            columnOptions.Store.Remove(StandardColumn.MessageTemplate);\n            columnOptions.Store.Remove(StandardColumn.Properties);\n            columnOptions.Store.Remove(StandardColumn.TimeStamp);\n            columnOptions.Exception.ColumnName = \"message\";\n            columnOptions.Id.ColumnName = \"id\";\n            columnOptions.DisableTriggers = true;\n\n            Log.Logger = new LoggerConfiguration()\n                .MinimumLevel.Debug()\n                .MinimumLevel.Override(\"Microsoft\", Serilog.Events.LogEventLevel.Information)\n                .Enrich.FromLogContext()\n                .Filter.ByExcluding(ObjectDisposedException) //What is the right way to tell Serilog to ignore this type of exception?\n                .WriteTo.RollingFile(\"logs\\\\log-{Hour}.txt\", retainedFileCountLimit: 168)\n                .WriteTo.MSSqlServer(\n                connectionString: configuration.GetConnectionString(\"DefaultConnection\"),\n                tableName: \"emailtosend\",\n                columnOptions: columnOptions,\n                restrictedToMinimumLevel: Serilog.Events.LogEventLevel.Error\n                )\n                .CreateLogger();\n\n            CreateWebHostBuilder(args).Build().Run();\n        }\n\n        public static IWebHostBuilder CreateWebHostBuilder(string[] args) =&gt;\n            WebHost.CreateDefaultBuilder(args)\n                .UseStartup&lt;Startup&gt;()\n                .UseSerilog();\n    }\n}\n</code></pre>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>@reza baiat, @GoldenAge &amp; @Alessandro Di Cicco: Of course your answers would allow me to handle exceptions, but just the ones occurring outside Serilog's logger. Serilog is a logging library that replaces Microsoft's default one and enables me to omit all the Try/Catch inside the rest of my code as it will log them all in (in my case) a log file and an SQL table. The thing I'm trying to do is to tell Serilog to not log, for example, <code>ObjectDisposedException</code> exceptions that happens inside the critical code. I guess the Try/Catch was confusing in my code so I'll drop it from my example as it is not relevant. Serilog will catch any exception thrown once the application is built and run. What I was thinking was maybe an additional Serilog config line like this :\n<code>.Filter.ByExcluding(ObjectDisposedException)</code> or something like that. Is it possible?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["c#", "uwp", "raspberry-pi", "windows-10-iot-core"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1535570480, "post_id": 52084644, "comment_id": 91119660, "body": "<code>DispatcherTimer</code> is for running code that runs in the UI, if there is no UI, it will throw an exception when it tries to invoke the code on the UI thread. You should be able to use a <code>System.Threading.Timer</code>, you can stop it by changing the interval/delay to <code>Timeout.Infinite</code>."}, {"owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535571075, "post_id": 52084644, "comment_id": 91119918, "body": "Hi, I have made an update to my question. Is that posible with the <code>System.Threading.Timer</code>?"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535571389, "post_id": 52084644, "comment_id": 91120046, "body": "It is difficult to determine if the timer is stopped, but you could also use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.timers.timer?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">System.Timers.Timer</a> if you want something closer to the dispatcher timer."}, {"owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535571759, "post_id": 52084644, "comment_id": 91120217, "body": "I do not have <code>System.Timers</code>, but I think I might be able to make the <code>System.Threading.Timer</code> work."}, {"owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535572211, "post_id": 52084644, "comment_id": 91120426, "body": "Okay, I have got it to work with the System.Threading.Timer! If you submit it as an answer I would be happy to accept it."}, {"owner": {"reputation": 8787, "user_id": 6601582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd0a2f69702729da5aaa628bc58811a7?s=128&d=identicon&r=PG&f=1", "display_name": "Rita Han", "link": "https://stackoverflow.com/users/6601582/rita-han"}, "edited": false, "score": 0, "creation_date": 1536025667, "post_id": 52084644, "comment_id": 91265870, "body": "@LuukWuijster You can show how you solved the problem and add an answer. It will be helpful for others are searching on this. Thanks."}], "owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 523, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1535571041, "creation_date": 1535570238, "last_edit_date": 1535571041, "question_id": 52084644, "link": "https://stackoverflow.com/questions/52084644/dispatchertimer-not-working-in-uwp-app", "title": "DispatcherTimer not working in uwp app", "body": "<p>I have an UWP app running on my Raspberry Pi (Windows 10 IoT Core). I need a time that I can start, stop, check if its running and execute something after. The <code>DispatcherTimer</code> seemed to be a perfect fit, if it would run...</p>\n\n<p>This is my code:</p>\n\n<pre><code>    public override void Run()\n    {\n        Debug.WriteLine(\"test1\");\n\n        SenseHat.Display.Clear();\n\n        Debug.WriteLine(\"test2\");\n\n        _currentDirection = Direction.East;\n\n        updatePositionTimer = new DispatcherTimer { Interval = TimeSpan.FromMilliseconds(500) };\n\n        Debug.WriteLine(\"test3\");\n\n        updatePositionTimer.Tick += timer_Tick;\n\n        Debug.WriteLine(\"test4\");\n</code></pre>\n\n<p>I have added the <code>Writelines</code> to see at what line the error occurs. In the console I can see <code>test1</code> and <code>test2</code> so the error has to occur where the <code>DispatcherTimer</code> is made. I do not see any error or exception besides:</p>\n\n<blockquote>\n  <p>Exception thrown: 'System.Exception' in [program name].exe</p>\n</blockquote>\n\n<p>I have done some research and found an other timer, <a href=\"https://docs.microsoft.com/en-us/uwp/api/Windows.System.Threading.ThreadPoolTimer\" rel=\"nofollow noreferrer\">ThreadPoolTimer</a>, but this A) does not work as stated and B) does not meet my requirements.</p>\n\n<p>What would be a solution to my problem?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is what I want to do with the timer:</p>\n\n<pre><code>while (true)\n{\n    if (!updatePositionTimer.IsEnabled)\n    {\n        updatePositionTimer.Start();\n    }\n\n    Sleep(TimeSpan.FromMilliseconds(2));\n}\n</code></pre>\n"}, {"tags": ["c#", "ado.net"], "comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1535569852, "post_id": 52084529, "comment_id": 91119385, "body": "If you are returning multiple table results from a sql call, you can use <code>DataSet</code> found in <code>System.Data.</code>"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1535569939, "post_id": 52084529, "comment_id": 91119417, "body": "Normally you&#39;d have a <code>public ClassModel ClassModel { get; set; }</code> in <code>StudentModel</code>"}, {"owner": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 0, "creation_date": 1535569966, "post_id": 52084529, "comment_id": 91119431, "body": "If you really need that, define a new class that contains the properties from both."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1535570118, "post_id": 52084529, "comment_id": 91119491, "body": "@Amy I really don&#39;t think any of those answers is appropriate for this question"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1535570246, "post_id": 52084529, "comment_id": 91119560, "body": "@CamiloTerevinto Understood.  I so dislike being able to unilaterally close questions as dupes.  I wish I could turn that power off."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1535570347, "post_id": 52084529, "comment_id": 91119607, "body": "@Amy I could have reopened it, but wanted your opinion first. Thanks. By the way, I think that if you flag as duplicate it shouldn&#39;t close"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1535571141, "post_id": 52084529, "comment_id": 91119942, "body": "Are you using Dapper? If you are using Dapper then why do you have class properties with different names from the database fields? It is just a typo or do you really have this difference? I recommend to name your properties exactly in the same way or you need a mapping layer to leverage the power of Dapper. (By the way <code>Execute</code> is not used to read data. You need the <code>Query&lt;T&gt;</code> method)"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1535571193, "post_id": 52084529, "comment_id": 91119969, "body": "I would rename the method to <code>GetStudentClasses</code> and would expect it to take in an instance of a <code>StudentModel</code> (or just an <code>int studentId</code>) and return a <code>List&lt;ClassModel&gt;</code> representing the classes the student is taking. It looks like you have a <code>@studentid</code> parameter in your query, so the caller already has that? So they could call a different method to get the other student details if necessary. Otherwise, you could return a <code>StudentClasses</code> object, which would look like: <code>public class StudentClasses { public StudentModel Student { get; set; } public List&lt;ClassModel&gt; Classes { get; set; } }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": false, "score": 0, "last_activity_date": 1535571713, "last_edit_date": 1535571713, "creation_date": 1535571350, "answer_id": 52084907, "question_id": 52084529, "link": "https://stackoverflow.com/questions/52084529/return-type-when-returning-values-from-multiple-tables/52084907#52084907", "title": "Return type when returning values from multiple tables", "body": "<p>It seems that you are using Dapper for your work. But you have differences between your properties names and your database fields names. This makes the work with Dapper more difficult, so I recommend to change your properties to match the names in the database fields.<br>\nWith this changes you can get your classes filled automatically by Dapper </p>\n\n<p>First your StudentModel needs to have an instance of the ClassModel declared in the class</p>\n\n<pre><code>public class StudentModel\n{\n    public int StudentId {get;set;}\n    public string StudentName {get;set;}\n    public int ClassId {get;set;}\n    public ClassModel StudentClass {get;set;}\n}\n\npublic class ClassModel\n{\n    public int ClassId {get;set;}\n    public string ClassName {get;set;}\n}\n</code></pre>\n\n<p>now you change the method in this way</p>\n\n<pre><code>public StudentModel GetStudent(StageModel model)\n{\n    using (var connection = new SqlConnection(ConfigurationManager.ConnectionStrings[\"LO\"].ConnectionString))\n    {\n        string getstudent=  @\"SELECT s.*, c.ClassId, c.ClassName \n                             FROM student s\n                             INNER JOIN class c on s.classid = c.classid \n                             WHERE s.studentid = @studentid;\";\n        DynamicParameters parameter = new DynamicParameters();\n        parameter.Add(\"@studentid\", model.Student_Id, DbType.Int64);\n        connection.Open();\n\n        result = connection.Query&lt;StudentModel, ClassModel, StudentModel&gt;\n                 (getstudent, ((s, c) =&gt; { s.ClassModel = c; return s;}), \n                 splitOn:\"ClassId\", parameter);\n\n        return result;\n    }\n}\n</code></pre>\n\n<p>Dapper will create for you the <em>StudentModel</em> instance and the <em>ClassModel</em> instance knowing how to fill the two instances when it meets the <em>ClassId</em> field.<br>\nThe lambda expression will receive the two instances created by Dapper and you just need to set the ClassModel inside the StudentModel received by the lambda.</p>\n\n<p>This approach follows the impression from your question that between a Student and a Class there is a 1:1 relationship. Of course the matter is more complex if the relationship is 1:N and you need a <em>List</em> inside the <em>StudentModel</em> class</p>\n"}], "owner": {"reputation": 267, "user_id": 7081415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9422d2c0e892589f5ad0201875bda15?s=128&d=identicon&r=PG&f=1", "display_name": "alangilbi", "link": "https://stackoverflow.com/users/7081415/alangilbi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1535571713, "creation_date": 1535569708, "last_edit_date": 1535570376, "question_id": 52084529, "link": "https://stackoverflow.com/questions/52084529/return-type-when-returning-values-from-multiple-tables", "title": "Return type when returning values from multiple tables", "body": "<p>I have two Models:</p>\n\n<pre><code>public class StudentModel\n{\n    public int Student_Id {get;set;}\n    public string Student_Name {get;set;}\n    public int Class_Id {get;set;}\n}\n\npublic class ClassModel\n{\n    public int Class_Id {get;set;}\n    public string Class_Name {get;set;}\n}\n</code></pre>\n\n<p>I want to return values from both the tables. What should my return value be?</p>\n\n<pre><code>public ?? GetStudentClass(StageModel model)\n{\n    using (var connection = new SqlConnection(ConfigurationManager.ConnectionStrings[\"LO\"].ConnectionString))\n    {\n        string getstudent= $\"select * from student s,class c where s.classid = c.classid and s.studentid = @studentid;\";\n        DynamicParameters parameter = new DynamicParameters();\n\n        parameter.Add(\"@studentid\", model.Student_Id, DbType.Int64);\n\n        connection.Open();\n\n        result = connection.Execute(getstudent, parameter);\n    }\n}\n</code></pre>\n\n<p>I should use the output of the SQL to print, using the model defined.</p>\n"}, {"tags": ["c#", "sql-server", "integration-testing"], "comments": [{"owner": {"reputation": 2334, "user_id": 7948962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b64557f8a617effccaf4426f16e9035?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob H", "link": "https://stackoverflow.com/users/7948962/jacob-h"}, "edited": false, "score": 0, "creation_date": 1535570634, "post_id": 52084454, "comment_id": 91119725, "body": "The examples on the page you linked show C# using <code>await</code>. I&#39;m guessing this is all intended for asynchronous tasks. Maybe that is your issue? Like so: <code>await checkpoint.Reset(&quot;MyConnectionStringName&quot;);</code>"}, {"owner": {"reputation": 411, "user_id": 3090945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4922aeea43fab25fb9b3e86207d2212?s=128&d=identicon&r=PG", "display_name": "Marcell Alves", "link": "https://stackoverflow.com/users/3090945/marcell-alves"}, "reply_to_user": {"reputation": 2334, "user_id": 7948962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b64557f8a617effccaf4426f16e9035?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob H", "link": "https://stackoverflow.com/users/7948962/jacob-h"}, "edited": false, "score": 0, "creation_date": 1535571830, "post_id": 52084454, "comment_id": 91120257, "body": "The method of SliceFeature is exactly the same as my implementation: public static Task ResetCheckpoint() =&gt; _checkpoint.Reset(_configuration.GetConnectionString(&quot;Defaul&zwnj;&#8203;tConnection&quot;));"}, {"owner": {"reputation": 411, "user_id": 3090945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4922aeea43fab25fb9b3e86207d2212?s=128&d=identicon&r=PG", "display_name": "Marcell Alves", "link": "https://stackoverflow.com/users/3090945/marcell-alves"}, "reply_to_user": {"reputation": 2334, "user_id": 7948962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b64557f8a617effccaf4426f16e9035?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob H", "link": "https://stackoverflow.com/users/7948962/jacob-h"}, "edited": false, "score": 0, "creation_date": 1535571857, "post_id": 52084454, "comment_id": 91120275, "body": "There is no await in this call"}, {"owner": {"reputation": 2334, "user_id": 7948962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b64557f8a617effccaf4426f16e9035?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob H", "link": "https://stackoverflow.com/users/7948962/jacob-h"}, "edited": false, "score": 0, "creation_date": 1535636630, "post_id": 52084454, "comment_id": 91147549, "body": "But it is async, yes?"}, {"owner": {"reputation": 411, "user_id": 3090945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4922aeea43fab25fb9b3e86207d2212?s=128&d=identicon&r=PG", "display_name": "Marcell Alves", "link": "https://stackoverflow.com/users/3090945/marcell-alves"}, "reply_to_user": {"reputation": 2334, "user_id": 7948962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b64557f8a617effccaf4426f16e9035?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob H", "link": "https://stackoverflow.com/users/7948962/jacob-h"}, "edited": false, "score": 0, "creation_date": 1535637689, "post_id": 52084454, "comment_id": 91148366, "body": "Yes, it is async. I have already figured this out, see my answer below."}], "answers": [{"comments": [{"owner": {"reputation": 936, "user_id": 3360636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7tyux.jpg?s=128&g=1", "display_name": "TheBigSot", "link": "https://stackoverflow.com/users/3360636/thebigsot"}, "edited": false, "score": 1, "creation_date": 1540841287, "post_id": 52097555, "comment_id": 93004516, "body": "I had to add something like this:  <code>var cn = new SqlConnectionStringBuilder(connectionString); cn.ConnectTimeout = 60; checkpoint.Reset(cn.ToString());</code>"}], "tags": [], "owner": {"reputation": 411, "user_id": 3090945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4922aeea43fab25fb9b3e86207d2212?s=128&d=identicon&r=PG", "display_name": "Marcell Alves", "link": "https://stackoverflow.com/users/3090945/marcell-alves"}, "is_accepted": true, "score": 3, "last_activity_date": 1535633477, "creation_date": 1535633477, "answer_id": 52097555, "question_id": 52084454, "link": "https://stackoverflow.com/questions/52084454/respawn-is-not-resetting-my-sql-server-database/52097555#52097555", "title": "Respawn is not resetting my SQL Server database", "body": "<p>I have figured this out. The issue was the connection timeout. I'm using a clone from the production database as a test database and there are many tables with a lot of rows, some with millions of registers. So I ran the commands generates by Respawn by hand, in SQL Server Management Studio, and it took 17 minutes to clear it all. For now on, I'm going to be able to write and run my tests with a clean database, without issues.</p>\n\n<p>So, the lesson learned here is:</p>\n\n<ul>\n<li>Clear a big database before running Respawn <code>Reset</code>, or set the <code>CommandTimeout</code> property of <code>Checkout</code> class to a higher value.</li>\n</ul>\n\n<p>I think Respawn could return a better message of what has gone wrong in the <code>Reset</code>, maybe I'll send a pull request to address this issue.</p>\n"}], "owner": {"reputation": 411, "user_id": 3090945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4922aeea43fab25fb9b3e86207d2212?s=128&d=identicon&r=PG", "display_name": "Marcell Alves", "link": "https://stackoverflow.com/users/3090945/marcell-alves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 758, "favorite_count": 0, "accepted_answer_id": 52097555, "answer_count": 1, "score": 3, "last_activity_date": 1535633477, "creation_date": 1535569424, "last_edit_date": 1535570887, "question_id": 52084454, "link": "https://stackoverflow.com/questions/52084454/respawn-is-not-resetting-my-sql-server-database", "title": "Respawn is not resetting my SQL Server database", "body": "<p>I'm using <a href=\"https://github.com/jbogard/Respawn\" rel=\"nofollow noreferrer\">Respawn</a> to clean up my test database, but when this method executes:</p>\n\n<pre><code>public static Task ResetCheckpoint() =&gt; Checkpoint.Reset(ConfigurationManager.ConnectionStrings[\"TestConnection\"].ConnectionString);\n</code></pre>\n\n<p>This error message is shown:</p>\n\n<blockquote>\n  <p>Message: System.InvalidOperationException : Invalid operation. The connection is closed.</p>\n</blockquote>\n\n<p>I have already checked the value returned by  <code>ConfigurationManager.ConnectionStrings[\"TestConnection\"].ConnectionString</code> and it is correct.</p>\n\n<p>I based my integration test structure in this sample project by <a href=\"https://stackoverflow.com/users/58508/jimmy-bogard\">Jimmy Bogard</a>: <a href=\"https://github.com/jbogard/ContosoUniversityDotNetCore-Pages\" rel=\"nofollow noreferrer\">https://github.com/jbogard/ContosoUniversityDotNetCore-Pages</a>, more specifically, these two classes: </p>\n\n<ul>\n<li><a href=\"https://github.com/jbogard/ContosoUniversityDotNetCore-Pages/blob/master/ContosoUniversity.IntegrationTests/IntegrationTestBase.cs\" rel=\"nofollow noreferrer\">https://github.com/jbogard/ContosoUniversityDotNetCore-Pages/blob/master/ContosoUniversity.IntegrationTests/IntegrationTestBase.cs</a> </li>\n<li><a href=\"https://github.com/jbogard/ContosoUniversityDotNetCore-Pages/blob/master/ContosoUniversity.IntegrationTests/SliceFixture.cs\" rel=\"nofollow noreferrer\">https://github.com/jbogard/ContosoUniversityDotNetCore-Pages/blob/master/ContosoUniversity.IntegrationTests/SliceFixture.cs</a></li>\n</ul>\n"}, {"tags": ["c#", "vb.net", "xml-parsing"], "comments": [{"owner": {"reputation": 2038, "user_id": 7129076, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a190b1b49a5ce2f6d1ead8ccbb11dc35?s=128&d=identicon&r=PG&f=1", "display_name": "gilliduck", "link": "https://stackoverflow.com/users/7129076/gilliduck"}, "edited": false, "score": 0, "creation_date": 1535569718, "post_id": 52084453, "comment_id": 91119326, "body": "I&#39;m assuming ComboBox1 has appropriate text that matches your where statement (confirmed through debug)?"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1535570196, "post_id": 52084453, "comment_id": 91119538, "body": "I don&#39;t think you want to <code>Convert.ToString</code> an <code>XElement</code> because it will contain xml tags and I&#39;m guessing that doesn&#39;t match <code>ComboBox1.Text</code>. Does that really work in VB?"}, {"owner": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "edited": false, "score": 1, "creation_date": 1535571276, "post_id": 52084453, "comment_id": 91120003, "body": "Should it be <code>where nm.Element(&quot;Trunk&quot;).Value == ComboBox1.Text</code>?"}, {"owner": {"reputation": 79, "user_id": 8846381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/78ed26586adf66252403f7b3bfc20ca5?s=128&d=identicon&r=PG&f=1", "display_name": "Rhys Clarke", "link": "https://stackoverflow.com/users/8846381/rhys-clarke"}, "reply_to_user": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "edited": false, "score": 0, "creation_date": 1535571456, "post_id": 52084453, "comment_id": 91120070, "body": "OMG @ParrishHusband i didn&#39;t spot that you are correct good sir that is exactly what i need to do. if you type that as an answer ill mark as answered :)"}, {"owner": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "edited": false, "score": 2, "creation_date": 1535572584, "post_id": 52084453, "comment_id": 91120580, "body": "The <code>CStr(nm.Element(&quot;Trunk&quot;))</code> is calling the <a href=\"https://referencesource.microsoft.com/#System.Xml.Linq/System/Xml/Linq/XLinq.cs,3367036406d1344a\" rel=\"nofollow noreferrer\">public static explicit operator string</a> conversion method of XElement to convert it to a string.  That method  returns its <code>Value</code> property.  Similar to <code>(string) nm.Element(&quot;Trunk&quot;)</code>."}, {"owner": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "reply_to_user": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "edited": false, "score": 0, "creation_date": 1535572704, "post_id": 52084453, "comment_id": 91120637, "body": "@TnTinMn thank you for that link, that is extremely informative.  I&#39;ve never understood the behavior until now."}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 8846381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/78ed26586adf66252403f7b3bfc20ca5?s=128&d=identicon&r=PG&f=1", "display_name": "Rhys Clarke", "link": "https://stackoverflow.com/users/8846381/rhys-clarke"}, "edited": false, "score": 0, "creation_date": 1535572208, "post_id": 52085018, "comment_id": 91120424, "body": "once again thank you! i&#39;m converting a lot of code and have come across a lot of &quot;little issues&quot; but couldn&#39;t figure this one. haha never been great at seeing whats right in front of my face :)"}], "tags": [], "owner": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "is_accepted": true, "score": 2, "last_activity_date": 1535577484, "last_edit_date": 1535577484, "creation_date": 1535571784, "answer_id": 52085018, "question_id": 52084453, "link": "https://stackoverflow.com/questions/52084453/vb-to-c-cant-read-xml/52085018#52085018", "title": "VB to C# - Can&#39;t read XML", "body": "<p><s>VB.NET may be doing a 'smart' conversion with <code>CStr</code> on <code>XElement</code> to retrieve the value</s>. </p>\n\n<p>Edit:  Thanks to <a href=\"https://stackoverflow.com/users/2592875/tntinmn\">TnTinMn</a> for pointing out this is due to the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/explicit\" rel=\"nofollow noreferrer\">explicit operator</a> on <code>XElement</code> returning <code>element.Value</code> when casting to a <code>string</code> via <code>CStr</code>.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/HDDyc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HDDyc.png\" alt=\"enter image description here\"></a></p>\n\n<p>In your C# conversion, the invocation of <code>System.Convert.ToString()</code> behaves much differently.  It first checks for <code>IConvertible/IFormattable</code>implementations, and if those don't exist will call <code>.ToString()</code> on the object passed in.  Since this is not overloaded on <code>XElement</code>, the result will be the the fully qualified name of the runtime type (in this case <code>\"System.Xml.Linq.XElement\"</code>).  </p>\n\n<p>Therefore in C# you'll need to change the comparison to either the <code>.Value</code>:</p>\n\n<pre><code>var name = from nm in xelement.Elements(\"Version\")\n           where nm.Element(\"Trunk\").Value == ComboBox1.Text\n           select nm;\n</code></pre>\n\n<p>or with the additional understanding of the <code>explicit operator</code>, cast to a string:</p>\n\n<pre><code>var name = from nm in xelement.Elements(\"Version\")\n           where (string)nm.Element(\"Trunk\") == ComboBox1.Text\n           select nm;\n</code></pre>\n\n<p>A significant portion of the refactoring I do is unfortunately in VB.NET code bases, and it's amazing how many little issues like this can lurk behind the scenes. </p>\n"}], "owner": {"reputation": 79, "user_id": 8846381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/78ed26586adf66252403f7b3bfc20ca5?s=128&d=identicon&r=PG&f=1", "display_name": "Rhys Clarke", "link": "https://stackoverflow.com/users/8846381/rhys-clarke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 52085018, "answer_count": 1, "score": 2, "last_activity_date": 1535577484, "creation_date": 1535569423, "last_edit_date": 1535571282, "question_id": 52084453, "link": "https://stackoverflow.com/questions/52084453/vb-to-c-cant-read-xml", "title": "VB to C# - Can&#39;t read XML", "body": "<p>The VB code in the first chunk works fine and does what it says on the tin, however, I am now converting this to C# and can't for the life of me work out what's up with it.</p>\n\n<p>I have tried running the C#, however, I noticed that combobox2 does not populate. On further digging, I found that my statement <code>name = xxxxxx</code> does not actually return anything.</p>\n\n<pre><code>Private Sub ComboBox1_SelectedIndexChanged(sender As Object, e As EventArgs) Handles ComboBox1.SelectedIndexChanged\n    ComboBox2.DataSource = null\n    ComboBox2.Items.Clear()\n    ComboBox2.Text = \"\"\n    Dim name =\n        From nm In xelement.Elements(\"Version\")\n        Where CStr(nm.Element(\"Trunk\")) = ComboBox1.Text\n        Select nm\n\n    For Each xEle As XElement In name\n        Dim branches = xEle.Elements(\"Branch\").ToDictionary(\n           Function(k) If(String.IsNullOrEmpty(k.Value), k.Attribute(\"Name\").Value, k.Value),\n           Function(v) If(v.Attribute(\"Path\") Is Nothing, \"\", v.Attribute(\"Path\").Value))\n\n        Console.WriteLine(xEle)\n        ComboBox2.DataSource = New BindingSource(branches, Nothing)\n        ComboBox2.DisplayMember = \"Key\"\n        ComboBox2.ValueMember = \"Value\"\n    Next\nEnd Sub\n</code></pre>\n\n<hr>\n\n<pre><code>private void ComboBox1_SelectedIndexChanged(object sender, EventArgs e)\n{\n    ComboBox2.DataSource = @null;\n    ComboBox2.Items.Clear();\n    ComboBox2.Text = \"\";\n    var name = from nm in xelement.Elements(\"Version\")\n               where System.Convert.ToString(nm.Element(\"Trunk\")) == ComboBox1.Text\n               select nm;\n\n    foreach (XElement xEle in name)\n    {\n        var branches = xEle.Elements(\"Branch\").ToDictionary(k =&gt; string.IsNullOrEmpty(k.Value) ? k.Attribute(\"Name\").Value : k.Value, v =&gt; v.Attribute(\"Path\") == null ? \"\" : v.Attribute(\"Path\").Value);\n\n        Console.WriteLine(xEle);\n        ComboBox2.DataSource = new BindingSource(branches, null);\n        ComboBox2.DisplayMember = \"Key\";\n        ComboBox2.ValueMember = \"Value\";\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>extract of xml</p>\n\n<pre><code>&lt;Version&gt;\n        &lt;Trunk&gt;Software Version 7.2&lt;/Trunk&gt;\n            &lt;Branch Name=\".24777 (Internal)\" Path=\"T:\\2014\\Product\\xxxxxxxxx\\Internal\\Internal\"/&gt;\n             &lt;Trunk&gt;Software Version 7.4&lt;/Trunk&gt;\n        &lt;Branch Name=\".103 (Internal)\" Path=\"T:\\2015\\Product\\xxxxxxx\\ Internal\\Internal\"/&gt;\n</code></pre>\n"}, {"tags": ["c#", "json", "restsharp", "json-deserialization"], "comments": [{"owner": {"reputation": 2608, "user_id": 4430183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CHS4j.jpg?s=128&g=1", "display_name": "Emre Savc\u0131", "link": "https://stackoverflow.com/users/4430183/emre-savc%c4%b1"}, "edited": false, "score": 0, "creation_date": 1535569311, "post_id": 52084413, "comment_id": 91119156, "body": "What you see <code>countrList</code> variable while you&#39;re debugging? And also can you share all your request code?"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "reply_to_user": {"reputation": 725, "user_id": 8672765, "user_type": "registered", "profile_image": "https://graph.facebook.com/1996264813992755/picture?type=large", "display_name": "Daniel Loudon", "link": "https://stackoverflow.com/users/8672765/daniel-loudon"}, "edited": false, "score": 0, "creation_date": 1535569368, "post_id": 52084413, "comment_id": 91119181, "body": "@DanielLoudon You don&#39;t have to mark classes as <code>Serializable</code> for JSON serialization."}, {"owner": {"reputation": 247, "user_id": 4200384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TFBzL.png?s=128&g=1", "display_name": "Xami Yen", "link": "https://stackoverflow.com/users/4200384/xami-yen"}, "edited": false, "score": 0, "creation_date": 1535569421, "post_id": 52084413, "comment_id": 91119196, "body": "Daniel: I am using RestSharp client. The JSON I posted is returned by the call in response.content"}, {"owner": {"reputation": 247, "user_id": 4200384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TFBzL.png?s=128&g=1", "display_name": "Xami Yen", "link": "https://stackoverflow.com/users/4200384/xami-yen"}, "reply_to_user": {"reputation": 2608, "user_id": 4430183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CHS4j.jpg?s=128&g=1", "display_name": "Emre Savc\u0131", "link": "https://stackoverflow.com/users/4430183/emre-savc%c4%b1"}, "edited": false, "score": 0, "creation_date": 1535569553, "post_id": 52084413, "comment_id": 91119255, "body": "@EmreSavc\u0131 I see TotalCount 1 and Country Id null CountryName null. TotalCount appears to be correct since there is only one Country that is being returned. However country data is not populated."}, {"owner": {"reputation": 247, "user_id": 4200384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TFBzL.png?s=128&g=1", "display_name": "Xami Yen", "link": "https://stackoverflow.com/users/4200384/xami-yen"}, "edited": false, "score": 0, "creation_date": 1535569815, "post_id": 52084413, "comment_id": 91119362, "body": "I reviewed this post <a href=\"https://stackoverflow.com/questions/19605822/json-dictionary-result-deserialization-with-restsharp-newtonsoft-json?rq=1\" title=\"json dictionary result deserialization with restsharp newtonsoft json\">stackoverflow.com/questions/19605822/&hellip;</a>. My class names and property names match the JSON content. Still the object has no values!"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535570251, "post_id": 52084413, "comment_id": 91119562, "body": "@XamiYen Your property <b>names</b> match, but the types do not."}], "answers": [{"comments": [{"owner": {"reputation": 247, "user_id": 4200384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TFBzL.png?s=128&g=1", "display_name": "Xami Yen", "link": "https://stackoverflow.com/users/4200384/xami-yen"}, "edited": false, "score": 1, "creation_date": 1535577156, "post_id": 52084703, "comment_id": 91122601, "body": "I changed the protection level of the properties and that works! Good to know that JSON needs TLC!!"}], "tags": [], "owner": {"reputation": 33, "user_id": 6900061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/110d32f4bdec1a8a13a9fa1173ae4d33?s=128&d=identicon&r=PG&f=1", "display_name": "Haddadnj", "link": "https://stackoverflow.com/users/6900061/haddadnj"}, "is_accepted": true, "score": 0, "last_activity_date": 1535570855, "last_edit_date": 1535570855, "creation_date": 1535570512, "answer_id": 52084703, "question_id": 52084413, "link": "https://stackoverflow.com/questions/52084413/jsonobject-deserialization-does-not-deserialize/52084703#52084703", "title": "JSONObject Deserialization Does not Deserialize", "body": "<p>Your issue is that JSON.NET defaults to camel-case property names. This is what your code is looking for by default:</p>\n\n<pre><code>{\"country\":[{\"countryId\":\"1\",\"countryName\":\"USA\"}]}\n</code></pre>\n\n<p>You need to manually declare the JSON.NET property names for your model:</p>\n\n<pre><code>public class Countries\n{\n    [JsonProperty(PropertyName = \"TotalCount\")]\n    string TotalCount { get; set; }\n\n    [JsonProperty(PropertyName = \"Country\")]\n    public List&lt;Ctry&gt; Country { get; set; }\n}\npublic class Ctry\n{\n    [JsonProperty(PropertyName = \"CountryId\")]\n    string CountryId { get; set; }\n\n    [JsonProperty(PropertyName = \"CountryName\")]\n    string CountryName { get; set; }\n}\n</code></pre>\n\n<p>I tested this and it works with your data.</p>\n\n<p>As a side note, I declared all of the property names because I like to maintain manual control over the serialization and deserialization, in your case, you could squeak by with just declaring the multi-case words.</p>\n\n<p>You can also fix this by adjusting the protection level for your properties, if you don't want to manually define property names:</p>\n\n<pre><code>public class Countries\n{\n    public string TotalCount { get; set; }\n    public List&lt;Ctry&gt; Country { get; set; }\n}\npublic class Ctry\n{\n    public string CountryId { get; set; }\n    public string CountryName { get; set; }\n}\n</code></pre>\n\n<p>This way JSON.NET can match the property names automatically if they are publicly accessible.</p>\n\n<p>@Tom W - JSON.NET will automatically convert types when possible, int to string and string to int are fine.</p>\n"}], "owner": {"reputation": 247, "user_id": 4200384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TFBzL.png?s=128&g=1", "display_name": "Xami Yen", "link": "https://stackoverflow.com/users/4200384/xami-yen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 52084703, "answer_count": 1, "score": 1, "last_activity_date": 1535622163, "creation_date": 1535569204, "question_id": 52084413, "link": "https://stackoverflow.com/questions/52084413/jsonobject-deserialization-does-not-deserialize", "title": "JSONObject Deserialization Does not Deserialize", "body": "<p>This stumps me. Here are my simplified C# class definitions:</p>\n\n<pre><code>public class Countries\n{\n    string TotalCount { get; set; }\n    public List&lt;Ctry&gt; Country { get; set; }\n}\npublic class Ctry\n{\n    string CountryId { get; set; }\n    string CountryName { get; set; }\n}\n</code></pre>\n\n<p>The REST call I make succeeds and returns the following JSON which I can see in 'content' variable:</p>\n\n<pre><code>{\"TotalCount\":1,\"Country\":[{\"CountryId\":1,\"CountryName\":\"USA\"}]}\n</code></pre>\n\n<p>Here is my c# deserializing code:</p>\n\n<pre><code>var content = response.Content;\ncountryList =  JsonConvert.DeserializeObject&lt;Countries&gt;(content);\n</code></pre>\n\n<p>After deserialization, I expect the country data to be in countryList object. However no data shows up in countryList! What gives? No exceptions or errors either!</p>\n"}, {"tags": ["c#", "wpf", "dll", "datagrid"], "comments": [{"owner": {"reputation": 23519, "user_id": 1177814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4Kl3d.jpg?s=128&g=1", "display_name": "Dipen Shah", "link": "https://stackoverflow.com/users/1177814/dipen-shah"}, "edited": false, "score": 0, "creation_date": 1535571462, "post_id": 52084402, "comment_id": 91120071, "body": "Can you post original exception (type, message, inner exception etc.)?"}, {"owner": {"reputation": 159, "user_id": 6253157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3f5e264d39654071472792dbc44f89?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/6253157/chris"}, "reply_to_user": {"reputation": 23519, "user_id": 1177814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4Kl3d.jpg?s=128&g=1", "display_name": "Dipen Shah", "link": "https://stackoverflow.com/users/1177814/dipen-shah"}, "edited": false, "score": 0, "creation_date": 1535571879, "post_id": 52084402, "comment_id": 91120286, "body": "Hi, do you mean this? <code>Exception thrown: &#39;System.NullReferenceException&#39; in PresentationFramework.dll An unhandled exception of type &#39;System.NullReferenceException&#39; occurred in PresentationFramework.dll Object reference not set to an instance of an object.</code>"}, {"owner": {"reputation": 23519, "user_id": 1177814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4Kl3d.jpg?s=128&g=1", "display_name": "Dipen Shah", "link": "https://stackoverflow.com/users/1177814/dipen-shah"}, "edited": false, "score": 0, "creation_date": 1535573594, "post_id": 52084402, "comment_id": 91121059, "body": "Still cannot reproduced issue from code available."}, {"owner": {"reputation": 159, "user_id": 6253157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3f5e264d39654071472792dbc44f89?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/6253157/chris"}, "reply_to_user": {"reputation": 23519, "user_id": 1177814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4Kl3d.jpg?s=128&g=1", "display_name": "Dipen Shah", "link": "https://stackoverflow.com/users/1177814/dipen-shah"}, "edited": false, "score": 0, "creation_date": 1535573874, "post_id": 52084402, "comment_id": 91121194, "body": "Like I said in the post, the exact line of code was not flagged by Visual Studio 2017&#39;s Debugger, and only provided the call-stack. The above code was a snippet that I thought could be an issue."}, {"owner": {"reputation": 23519, "user_id": 1177814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4Kl3d.jpg?s=128&g=1", "display_name": "Dipen Shah", "link": "https://stackoverflow.com/users/1177814/dipen-shah"}, "edited": false, "score": 0, "creation_date": 1535574041, "post_id": 52084402, "comment_id": 91121274, "body": "What is DualDataView? Can you post xaml?"}, {"owner": {"reputation": 159, "user_id": 6253157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3f5e264d39654071472792dbc44f89?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/6253157/chris"}, "reply_to_user": {"reputation": 23519, "user_id": 1177814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4Kl3d.jpg?s=128&g=1", "display_name": "Dipen Shah", "link": "https://stackoverflow.com/users/1177814/dipen-shah"}, "edited": false, "score": 0, "creation_date": 1535574222, "post_id": 52084402, "comment_id": 91121364, "body": "My apologies, that was the name of the grid (which I renamed before posting this) I updated the code to reflect the rename. I can post the XAML sometime tomorrow, as I do not have it in front of me at this time anymore."}, {"owner": {"reputation": 159, "user_id": 6253157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3f5e264d39654071472792dbc44f89?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/6253157/chris"}, "reply_to_user": {"reputation": 23519, "user_id": 1177814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4Kl3d.jpg?s=128&g=1", "display_name": "Dipen Shah", "link": "https://stackoverflow.com/users/1177814/dipen-shah"}, "edited": false, "score": 0, "creation_date": 1535649842, "post_id": 52084402, "comment_id": 91155717, "body": "@DipenShah Please see my updated post (Edit #3) for the XAML"}, {"owner": {"reputation": 23519, "user_id": 1177814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4Kl3d.jpg?s=128&g=1", "display_name": "Dipen Shah", "link": "https://stackoverflow.com/users/1177814/dipen-shah"}, "edited": false, "score": 0, "creation_date": 1535651485, "post_id": 52084402, "comment_id": 91156466, "body": "Still cannot reproduced issue from code available."}, {"owner": {"reputation": 159, "user_id": 6253157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3f5e264d39654071472792dbc44f89?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/6253157/chris"}, "reply_to_user": {"reputation": 23519, "user_id": 1177814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4Kl3d.jpg?s=128&g=1", "display_name": "Dipen Shah", "link": "https://stackoverflow.com/users/1177814/dipen-shah"}, "edited": false, "score": 0, "creation_date": 1535654813, "post_id": 52084402, "comment_id": 91158031, "body": "I am now seeing the issue when scrolling within the <code>V</code> column"}], "answers": [{"comments": [{"owner": {"reputation": 526, "user_id": 10106518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c6dd91494805b7c5e9159bc287fec8?s=128&d=identicon&r=PG&f=1", "display_name": "NoConnection", "link": "https://stackoverflow.com/users/10106518/noconnection"}, "edited": false, "score": 0, "creation_date": 1597046445, "post_id": 52104162, "comment_id": 111995647, "body": "Had exactly the same problem, worked perfektly. Thanks!"}], "tags": [], "owner": {"reputation": 159, "user_id": 6253157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3f5e264d39654071472792dbc44f89?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/6253157/chris"}, "is_accepted": false, "score": 1, "last_activity_date": 1535657457, "creation_date": 1535657457, "answer_id": 52104162, "question_id": 52084402, "link": "https://stackoverflow.com/questions/52084402/application-crashes-upon-scrolling-up-down-in-template-column-with-comboboxes-an/52104162#52104162", "title": "Application crashes upon scrolling up/down in Template Column with ComboBoxes and TextBoxes", "body": "<p>Issue was solved by adding <code>VirtualizingPanel.IsVirtualizing=\"False\"</code> in the <code>&lt;DataGrid&gt;</code> XAML tag</p>\n"}], "owner": {"reputation": 159, "user_id": 6253157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3f5e264d39654071472792dbc44f89?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/6253157/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1589188994, "creation_date": 1535569145, "last_edit_date": 1535649810, "question_id": 52084402, "link": "https://stackoverflow.com/questions/52084402/application-crashes-upon-scrolling-up-down-in-template-column-with-comboboxes-an", "title": "Application crashes upon scrolling up/down in Template Column with ComboBoxes and TextBoxes", "body": "<p>As the title suggests, the application crashes when scrolling. I added <code>MouseWheel</code> and <code>PreviewMouseWheel</code> events to handle the scrolling in the column, but some still make it through.</p>\n\n<p>A specific line cannot be traced back, but I believe it might be something to do with the following code:</p>\n\n<pre><code>TextBox ValueCell = (TextBox)sender;\nif (GRID.SelectedItem == null || ValueCell == null || GRID.SelectedIndex &lt;= 0) return;\n//Obtain the new value\nstring Value = ValueCell.Text;   \n\n//Obtain the item ID\nDataGridRow Row = (DataGridRow)GRID.ItemContainerGenerator.ContainerFromIndex(GRID.SelectedIndex);\nif (Row == null) return;\nDataGridCell RowColumn = GRID.Columns[0].GetCellContent(Row).Parent as DataGridCell;\n</code></pre>\n\n<p>Not much info is given other than:</p>\n\n<blockquote>\n  <p>PresentationFramework.dll!System.Windows.Controls.DataGridRow.RestoreAttachedItemValue(System.Windows.DependencyObject objectWithProperty, System.Windows.DependencyProperty property) Unknown Symbols loaded.</p>\n</blockquote>\n\n<p>The callstack is:</p>\n\n<pre><code>PresentationFramework.dll!System.Windows.Controls.DataGridRow.RestoreAttachedItemValue(System.Windows.DependencyObject objectWithProperty, System.Windows.DependencyProperty property)  Unknown Symbols loaded.\n    PresentationFramework.dll!System.Windows.Controls.DataGridRow.SyncProperties(bool forcePrepareCells)    Unknown Symbols loaded.\n    PresentationFramework.dll!System.Windows.Controls.DataGridRow.PrepareRow(object item, System.Windows.Controls.DataGrid owningDataGrid)  Unknown Symbols loaded.\n    PresentationFramework.dll!System.Windows.Controls.DataGrid.PrepareContainerForItemOverride(System.Windows.DependencyObject element, object item)    Unknown Symbols loaded.\n    PresentationFramework.dll!System.Windows.Controls.ItemsControl.MS.Internal.Controls.IGeneratorHost.PrepareItemContainer(System.Windows.DependencyObject container, object item) Unknown Symbols loaded.\n    PresentationFramework.dll!System.Windows.Controls.ItemContainerGenerator.System.Windows.Controls.Primitives.IItemContainerGenerator.PrepareItemContainer(System.Windows.DependencyObject container) Unknown Symbols loaded.\n    PresentationFramework.dll!System.Windows.Controls.VirtualizingStackPanel.InsertContainer(int childIndex, System.Windows.UIElement container, bool isRecycled)   Unknown Symbols loaded.\n    PresentationFramework.dll!System.Windows.Controls.VirtualizingStackPanel.AddContainerFromGenerator(int childIndex, System.Windows.UIElement child, bool newlyRealized, bool isBeforeViewport)   Unknown Symbols loaded.\n    PresentationFramework.dll!System.Windows.Controls.VirtualizingStackPanel.MeasureChild(ref System.Windows.Controls.Primitives.IItemContainerGenerator generator, ref System.Windows.Controls.Primitives.IContainItemStorage itemStorageProvider, ref System.Windows.Controls.Primitives.IContainItemStorage parentItemStorageProvider, ref object parentItem, ref bool hasUniformOrAverageContainerSizeBeenSet, ref double computedUniformOrAverageContainerSize, ref double computedUniformOrAverageContainerPixelSize, ref bool computedAreContainersUniformlySized, ref bool hasAnyContainerSpanChanged, ref System.Collections.IList items, ref object item, ref System.Collections.IList children, ref int childIndex, ref bool visualOrderChanged, ref bool isHorizontal, ref System.Windows.Size childConstraint, ref System.Windows.Rect viewport, ref System.Windows.Controls.VirtualizationCacheLength cacheSize, ref System.Windows.Controls.VirtualizationCacheLengthUnit cacheUnit, ref bool foundFirstItemInViewport, ref double firstItemInViewportOffset, ref System.Windows.Size stackPixelSize, ref System.Windows.Size stackPixelSizeInViewport, ref System.Windows.Size stackPixelSizeInCacheBeforeViewport, ref System.Windows.Size stackPixelSizeInCacheAfterViewport, ref System.Windows.Size stackLogicalSize, ref System.Windows.Size stackLogicalSizeInViewport, ref System.Windows.Size stackLogicalSizeInCacheBeforeViewport, ref System.Windows.Size stackLogicalSizeInCacheAfterViewport, ref bool mustDisableVirtualization, bool isBeforeFirstItem, bool isAfterFirstItem, bool isAfterLastItem, bool skipActualMeasure, bool skipGeneration, ref bool hasBringIntoViewContainerBeenMeasured, ref bool hasVirtualizingChildren)  Unknown Symbols loaded.\n    PresentationFramework.dll!System.Windows.Controls.VirtualizingStackPanel.MeasureOverrideImpl(System.Windows.Size constraint, ref double? lastPageSafeOffset, ref System.Collections.Generic.List&lt;double&gt; previouslyMeasuredOffsets, ref double? lastPagePixelSize, bool remeasure)  Unknown Symbols loaded.\n    PresentationFramework.dll!System.Windows.Controls.VirtualizingStackPanel.MeasureOverride(System.Windows.Size constraint)    Unknown Symbols loaded.\n    PresentationFramework.dll!System.Windows.Controls.Primitives.DataGridRowsPresenter.MeasureOverride(System.Windows.Size constraint)  Unknown Symbols loaded.\n    PresentationFramework.dll!System.Windows.FrameworkElement.MeasureCore(System.Windows.Size availableSize)    Unknown Symbols loaded.\n    PresentationCore.dll!System.Windows.UIElement.Measure(System.Windows.Size availableSize)    Unknown Symbols loaded.\n    PresentationCore.dll!System.Windows.ContextLayoutManager.UpdateLayout() Unknown Symbols loaded.\n    PresentationCore.dll!System.Windows.ContextLayoutManager.UpdateLayoutCallback(object arg)   Unknown Symbols loaded.\n    PresentationCore.dll!System.Windows.Media.MediaContext.InvokeOnRenderCallback.DoWork()  Unknown Symbols loaded.\n    PresentationCore.dll!System.Windows.Media.MediaContext.FireInvokeOnRenderCallbacks()    Unknown Symbols loaded.\n    PresentationCore.dll!System.Windows.Media.MediaContext.RenderMessageHandlerCore(object resizedCompositionTarget)    Unknown Symbols loaded.\n    PresentationCore.dll!System.Windows.Media.MediaContext.RenderMessageHandler(object resizedCompositionTarget)    Unknown Symbols loaded.\n    WindowsBase.dll!System.Windows.Threading.ExceptionWrapper.InternalRealCall(System.Delegate callback, object args, int numArgs)  Unknown Symbols loaded.\n    WindowsBase.dll!System.Windows.Threading.ExceptionWrapper.TryCatchWhen(object source, System.Delegate callback, object args, int numArgs, System.Delegate catchHandler) Unknown Symbols loaded.\n    WindowsBase.dll!System.Windows.Threading.DispatcherOperation.InvokeImpl()   Unknown Symbols loaded.\n    WindowsBase.dll!System.Windows.Threading.DispatcherOperation.InvokeInSecurityContext(object state)  Unknown Symbols loaded.\n    WindowsBase.dll!MS.Internal.CulturePreservingExecutionContext.CallbackWrapper(object obj)   Unknown Symbols loaded.\n    mscorlib.dll!System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state, bool preserveSyncCtx) Line 954  C#  Symbols loaded.\n    mscorlib.dll!System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state, bool preserveSyncCtx) Line 902  C#  Symbols loaded.\n    mscorlib.dll!System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state) Line 891    C#  Symbols loaded.\n    WindowsBase.dll!MS.Internal.CulturePreservingExecutionContext.Run(MS.Internal.CulturePreservingExecutionContext executionContext, System.Threading.ContextCallback callback, object state)  Unknown Symbols loaded.\n    WindowsBase.dll!System.Windows.Threading.DispatcherOperation.Invoke()   Unknown Symbols loaded.\n    WindowsBase.dll!System.Windows.Threading.Dispatcher.ProcessQueue()  Unknown Symbols loaded.\n    WindowsBase.dll!System.Windows.Threading.Dispatcher.WndProcHook(System.IntPtr hwnd, int msg, System.IntPtr wParam, System.IntPtr lParam, ref bool handled)  Unknown Symbols loaded.\n    WindowsBase.dll!MS.Win32.HwndWrapper.WndProc(System.IntPtr hwnd, int msg, System.IntPtr wParam, System.IntPtr lParam, ref bool handled) Unknown Symbols loaded.\n    WindowsBase.dll!MS.Win32.HwndSubclass.DispatcherCallbackOperation(object o) Unknown Symbols loaded.\n    WindowsBase.dll!System.Windows.Threading.ExceptionWrapper.InternalRealCall(System.Delegate callback, object args, int numArgs)  Unknown Symbols loaded.\n    WindowsBase.dll!System.Windows.Threading.ExceptionWrapper.TryCatchWhen(object source, System.Delegate callback, object args, int numArgs, System.Delegate catchHandler) Unknown Symbols loaded.\n    WindowsBase.dll!System.Windows.Threading.Dispatcher.LegacyInvokeImpl(System.Windows.Threading.DispatcherPriority priority, System.TimeSpan timeout, System.Delegate method, object args, int numArgs)   Unknown Symbols loaded.\n    WindowsBase.dll!MS.Win32.HwndSubclass.SubclassWndProc(System.IntPtr hwnd, int msg, System.IntPtr wParam, System.IntPtr lParam)  Unknown Symbols loaded.\n    [Native to Managed Transition]      Annotated Frame\n    [Managed to Native Transition]      Annotated Frame\n    WindowsBase.dll!System.Windows.Threading.Dispatcher.PushFrameImpl(System.Windows.Threading.DispatcherFrame frame)   Unknown Symbols loaded.\n    WindowsBase.dll!System.Windows.Threading.Dispatcher.PushFrame(System.Windows.Threading.DispatcherFrame frame)   Unknown Symbols loaded.\n    PresentationFramework.dll!System.Windows.Application.RunDispatcher(object ignore)   Unknown Symbols loaded.\n    PresentationFramework.dll!System.Windows.Application.RunInternal(System.Windows.Window window)  Unknown Symbols loaded.\n    PresentationFramework.dll!System.Windows.Application.Run(System.Windows.Window window)  Unknown Symbols loaded.\n    PresentationFramework.dll!System.Windows.Application.Run()  Unknown Symbols loaded.\n    App.Main()  Unknown Symbols loaded.\n</code></pre>\n\n<p><strong>EDIT:</strong> Here is the Exception Thrown message:\n<code>Exception thrown: 'System.NullReferenceException' in PresentationFramework.dll An unhandled exception of type 'System.NullReferenceException' occurred in PresentationFramework.dll Object reference not set to an instance of an object.</code></p>\n\n<p><strong>EDIT2:</strong> The above code is nested within a TextBox <code>LostFocus</code> event</p>\n\n<p><strong>EDIT3:</strong> Here is my XAML code for the grid:</p>\n\n<pre><code> &lt;DataGrid x:Name=\"GRID\" SelectionMode=\"Single\" CanUserAddRows=\"False\" CanUserDeleteRows=\"False\"\n                  AutoGenerateColumns=\"False\" Grid.Row=\"1\" Grid.Column=\"1\" Margin=\"5\" AllowDrop=\"True\" \n                  Drop=\"GRID_Drop\" Grid.ColumnSpan=\"3\" CellEditEnding=\"GRID_CellEditEnding\" &gt;\n            &lt;DataGrid.ItemContainerStyle&gt;\n                &lt;Style TargetType=\"DataGridRow\"&gt;\n                    &lt;Setter Property=\"HorizontalContentAlignment\" Value=\"Stretch\"/&gt;\n\n\n                &lt;/Style&gt;\n            &lt;/DataGrid.ItemContainerStyle&gt;\n            &lt;DataGrid.Columns&gt;\n                &lt;DataGridTextColumn x:Name=\"IdCol\" Header=\"ID\"  IsReadOnly=\"True\"\n                                    Binding=\"{Binding ItemId}\" /&gt;\n                &lt;DataGridTextColumn x:Name=\"HexIdCol\" Header=\"Hex ID\"   IsReadOnly=\"True\"\n                                    Binding=\"{Binding HexId}\" /&gt;\n                &lt;DataGridTextColumn x:Name=\"ItemCol\" Header=\"Item\" IsReadOnly=\"True\"\n                                    Binding=\"{Binding ItemNameFormatted}\" /&gt;\n                &lt;DataGridComboBoxColumn x:Name=\"VCol\" Header=\"V\"\n                                        SelectedItemBinding=\"{Binding Path=V, NotifyOnTargetUpdated=True}\"\n                                        DisplayMemberPath=\"{Binding Path=V}\"/&gt;\n\n\n                &lt;DataGridTemplateColumn x:Name=\"Va\" Header=\"Va\"&gt;\n                    &lt;DataGridTemplateColumn.CellTemplate&gt;\n                        &lt;DataTemplate&gt;\n                            &lt;Grid MouseWheel=\"Grid_MouseWheel\" PreviewMouseWheel=\"Grid_PreviewMouseWheel\"&gt;\n                                &lt;TextBox    x:Name=\"VaTextBox\" \n                                            Text=\"{Binding Data, Mode=TwoWay, NotifyOnSourceUpdated=True}\"\n                                            LostFocus=\"VaTextBox_LostFocus\"&gt;\n                                    &lt;TextBox.Style&gt;\n                                        &lt;Style TargetType=\"TextBox\"&gt;\n                                            &lt;Setter Property=\"Visibility\" Value=\"Collapsed\"/&gt;\n                                            &lt;Style.Triggers&gt;\n                                                &lt;DataTrigger Binding=\"{Binding Options}\" Value=\"{x:Null}\"&gt;\n                                                    &lt;Setter Property=\"Visibility\" Value=\"Visible\"/&gt;\n                                                &lt;/DataTrigger&gt;\n                                            &lt;/Style.Triggers&gt;\n                                        &lt;/Style&gt;\n                                    &lt;/TextBox.Style&gt;\n                                &lt;/TextBox&gt;\n                                &lt;ComboBox   x:Name=\"VaComboBox\" ItemsSource=\"{Binding Options}\" \n                                            SelectedItem=\"{Binding Data, Mode=TwoWay, NotifyOnSourceUpdated=True}\" \n                                            SelectionChanged=\"VaComboBox_SelectionChanged\"&gt;\n                                    &lt;ComboBox.Style&gt;\n                                        &lt;Style TargetType=\"ComboBox\"&gt;\n                                            &lt;Setter Property=\"Visibility\" Value=\"Visible\"/&gt;\n                                            &lt;Style.Triggers&gt;\n                                                &lt;DataTrigger Binding=\"{Binding Options}\" Value=\"{x:Null}\"&gt;\n                                                    &lt;Setter Property=\"Visibility\" Value=\"Collapsed\"/&gt;\n                                                &lt;/DataTrigger&gt;\n                                            &lt;/Style.Triggers&gt;\n                                        &lt;/Style&gt;\n                                    &lt;/ComboBox.Style&gt;\n                                &lt;/ComboBox&gt;\n                            &lt;/Grid&gt;\n                        &lt;/DataTemplate&gt;\n                    &lt;/DataGridTemplateColumn.CellTemplate&gt;\n                &lt;/DataGridTemplateColumn&gt;\n\n                &lt;DataGridTextColumn x:Name=\"RaCol\" Header=\"Ra\"\n                                    Binding=\"{Binding Ra, NotifyOnTargetUpdated=True}\" /&gt;\n            &lt;/DataGrid.Columns&gt;\n        &lt;/DataGrid&gt;\n</code></pre>\n"}, {"tags": ["c#", "xml"], "comments": [{"owner": {"reputation": 12392, "user_id": 847383, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f68523f1367c67bffa7b9dc33d442f7d?s=128&d=identicon&r=PG", "display_name": "PhonicUK", "link": "https://stackoverflow.com/users/847383/phonicuk"}, "edited": false, "score": 3, "creation_date": 1535569107, "post_id": 52084340, "comment_id": 91119074, "body": "The magic word you&#39;re looking for is Serialization. You want to have a data structure that matches the XML you want to produce and serialize it to XML."}, {"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "reply_to_user": {"reputation": 12392, "user_id": 847383, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f68523f1367c67bffa7b9dc33d442f7d?s=128&d=identicon&r=PG", "display_name": "PhonicUK", "link": "https://stackoverflow.com/users/847383/phonicuk"}, "edited": false, "score": 2, "creation_date": 1535569200, "post_id": 52084340, "comment_id": 91119104, "body": "As @PhonicUK said - take a look at <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/serialization/examples-of-xml-serialization\" rel=\"nofollow noreferrer\">Xml Serialization</a>"}, {"owner": {"reputation": 1278, "user_id": 7684024, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce62eaa668031f0bc89a426b3da98d40?s=128&d=identicon&r=PG&f=1", "display_name": "Hatsumi", "link": "https://stackoverflow.com/users/7684024/hatsumi"}, "reply_to_user": {"reputation": 12392, "user_id": 847383, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f68523f1367c67bffa7b9dc33d442f7d?s=128&d=identicon&r=PG", "display_name": "PhonicUK", "link": "https://stackoverflow.com/users/847383/phonicuk"}, "edited": false, "score": 0, "creation_date": 1535570199, "post_id": 52084340, "comment_id": 91119541, "body": "@PhonicUK can you put that as an answer?"}, {"owner": {"reputation": 12392, "user_id": 847383, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f68523f1367c67bffa7b9dc33d442f7d?s=128&d=identicon&r=PG", "display_name": "PhonicUK", "link": "https://stackoverflow.com/users/847383/phonicuk"}, "edited": false, "score": 0, "creation_date": 1535576581, "post_id": 52084340, "comment_id": 91122380, "body": "@Hatsumi all done :)"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1535577227, "post_id": 52084340, "comment_id": 91122635, "body": "Neither of the two xml files posted are well formed and you may have issue using standard Net Library method to create the files as posted.  An xml file has only one element at the root level.  Both of the xml posted have an array of elements at the root."}], "answers": [{"tags": [], "owner": {"reputation": 12392, "user_id": 847383, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f68523f1367c67bffa7b9dc33d442f7d?s=128&d=identicon&r=PG", "display_name": "PhonicUK", "link": "https://stackoverflow.com/users/847383/phonicuk"}, "is_accepted": true, "score": 1, "last_activity_date": 1535576565, "creation_date": 1535576565, "answer_id": 52086043, "question_id": 52084340, "link": "https://stackoverflow.com/questions/52084340/how-to-create-a-xml-file-dynamically/52086043#52086043", "title": "How to create a XML file dynamically?", "body": "<p>The magic word you're looking for is Serialization. You want to have a data structure that matches the XML you want to produce and serialize it to XML.</p>\n\n<p>Here's some <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/serialization/examples-of-xml-serialization\" rel=\"nofollow noreferrer\">documentation</a> on doing this in C#.</p>\n"}], "owner": {"reputation": 1278, "user_id": 7684024, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce62eaa668031f0bc89a426b3da98d40?s=128&d=identicon&r=PG&f=1", "display_name": "Hatsumi", "link": "https://stackoverflow.com/users/7684024/hatsumi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 0, "accepted_answer_id": 52086043, "answer_count": 1, "score": 1, "last_activity_date": 1535576565, "creation_date": 1535568881, "last_edit_date": 1535569093, "question_id": 52084340, "link": "https://stackoverflow.com/questions/52084340/how-to-create-a-xml-file-dynamically", "title": "How to create a XML file dynamically?", "body": "<p>The problem that I want to solve is that I need to create many XML files.</p>\n\n<p>I know what tags are in which type of XML (examples of XML below) and I know a list of a possible data that could be in each tag. </p>\n\n<p>Someone knows a good way to make that?</p>\n\n<p>I can have XML like the examples below:</p>\n\n<p>XML1:</p>\n\n<pre><code>&lt;ID&gt;1&lt;/ID&gt;\n&lt;name&gt;Maria&lt;/name&gt;\n&lt;type&gt;client&lt;/type&gt;\n    &lt;addresses&gt;\n        &lt;address&gt;\n            &lt;street&gt;Brooklin&lt;/street&gt;\n            &lt;number&gt;123&lt;/number&gt;\n        &lt;address&gt;\n        &lt;address&gt;\n            &lt;street&gt;New York Street&lt;/street&gt;\n            &lt;number&gt;1000&lt;/number&gt;\n        &lt;address&gt;\n    &lt;/addresses&gt;\n</code></pre>\n\n<p>XML2:</p>\n\n<pre><code>&lt;name&gt;Paulo&lt;/name&gt;\n&lt;age&gt;26&lt;/age&gt;\n&lt;subject&gt;complain&lt;/subject&gt;\n    &lt;addresses&gt;\n        &lt;address&gt;\n            &lt;street&gt;Brooklin&lt;/street&gt;\n            &lt;number&gt;123&lt;/number&gt;\n        &lt;address&gt;\n    &lt;/addresses&gt;\n</code></pre>\n"}, {"tags": ["c#", "wordpress"], "comments": [{"owner": {"reputation": 41, "user_id": 8634204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af72cb7001216b0718fd627eab767e5?s=128&d=identicon&r=PG&f=1", "display_name": "Erwin", "link": "https://stackoverflow.com/users/8634204/erwin"}, "edited": false, "score": 0, "creation_date": 1535586506, "post_id": 52084270, "comment_id": 91125264, "body": "I sent my cookies manually using .Add and I was able to find that none of the other cookies except wordpress_logged_in  actually mattered. Is there a way to parse this out and add to the container when I do the POST?"}], "owner": {"reputation": 41, "user_id": 8634204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af72cb7001216b0718fd627eab767e5?s=128&d=identicon&r=PG&f=1", "display_name": "Erwin", "link": "https://stackoverflow.com/users/8634204/erwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1535576080, "creation_date": 1535568516, "last_edit_date": 1535576080, "question_id": 52084270, "link": "https://stackoverflow.com/questions/52084270/logging-into-wordpress", "title": "Logging into Wordpress", "body": "<p>I am attempting to make a program that automatically downloads some files from a Wordpress site but the problem is you have to be authenticated to download them. I have looked around but can't find anything that will really help me understand this. </p>\n\n<p>This is the code that does the logging in but from what I am gathering it is not storing all the needed cookies for Wordpress, but I haven't found many examples regarding this.</p>\n\n<pre><code>var baseAddress = new Uri(\"https://www.gplvault.com/wp-admin\");\nvar cookieContainer = new CookieContainer();\nusing (var handler = new HttpClientHandler() { CookieContainer = cookieContainer, AllowAutoRedirect = false})\nusing (var client = new HttpClient(handler, false) { BaseAddress = baseAddress })\n{\n    client.DefaultRequestHeaders.Add(\"User-Agent\", \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36\");\n    client.DefaultRequestHeaders.Add(\"Referer\", \"https://www.gplvault.com/my-account/\");\n    client.DefaultRequestHeaders.Add(\"Connection\", \"keep-alive\");\n    client.DefaultRequestHeaders.Add(\"Accept-Language\", \"en-US,en;q=0.5\");\n    client.DefaultRequestHeaders.Add(\"Accept\", \"application/json, text/javascript, */*; q=0.01\");\n\n    var homePageResult = client.GetAsync(\"/\");\n    Console.WriteLine(\"1: \" + cookieContainer.GetCookieHeader(baseAddress));\n    homePageResult.Result.EnsureSuccessStatusCode();\n    var content = new FormUrlEncodedContent(new[]{\n        new KeyValuePair&lt;string, string&gt;(\"username\", username),\n        new KeyValuePair&lt;string, string&gt;(\"password\", password),\n    });\n    var loginResult = client.PostAsync(\"/my-account/orders/\", content).Result;\n}\n</code></pre>\n\n<p>I used tamper to get the headers and this is what I got:</p>\n\n<pre><code>wget \n--header=\"Host: www.gplvault.com\" \n--header=\"User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36\" \n--header=\"Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\" \n--header=\"Accept-Language: en-US,en;q=0.9\" \n\n--header=\"Cookie: __cfduid=dad983khm234b5jh23s39421e59ce2d1534278105; _ga=GA1.2.1355145636.1534278108; _gid=GA1.2.858287631.1577566529; wordpress_logged_in_13cb68234k56h43k56hk34g22133fe5=some.user%7C1535739391%7CZMz24UN1y2XPWpa1b22yfDi456fdgDGFdfg5jFufjlyKr54%7C68b0b014c9ba2dba566aa0beb44a99f60f97869dFGdfs11125361b3a2e908cd5; wfwaf-authcookie-f227c3e58kjhaf97s98dfasd9081b332=789%7Csubscriber%7Cedbc35748c970a9d4a441209cfc01e5283d791968a1cc28aa740424c08bca223; woocommerce_items_in_cart=1; woocommerce_cart_hash=faece8037500a234545305461c8ca026; wp_woocommerce_session_13cb682d9769DFGsdsb449b7722133fe5=789%7C%7C1535739438%7C%7C1535735838%7C%7C7e56398513f91b876s890d4d2f8ccff3b; _gat=1\" \n\n--header=\"Connection: keep-alive\" \"https://www.gplvault.com/download/21377/\" -O \"codecanyon-9899552-actionable-google-analytics-for-woocommerce.zip\" -c\n</code></pre>\n"}, {"tags": ["c#", "generics"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535568353, "post_id": 52084180, "comment_id": 91118726, "body": "You&#39;ll have to make it a type parameter on the interface itself."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1535568377, "post_id": 52084180, "comment_id": 91118741, "body": "Make it a method instead of a property. A generic property requires the Type be known at instantiation."}, {"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 0, "creation_date": 1535568588, "post_id": 52084180, "comment_id": 91118835, "body": "If you don&#39;t know the type until runtime, how can you expect to pass it to <code>string.IsNullOrEmpty</code>?"}, {"owner": {"reputation": 1810, "user_id": 2630903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSNUo.png?s=128&g=1", "display_name": "Richard Hubley", "link": "https://stackoverflow.com/users/2630903/richard-hubley"}, "edited": false, "score": 0, "creation_date": 1535568690, "post_id": 52084180, "comment_id": 91118885, "body": "you are specifying the return type as string, so you know the datatype to be used"}, {"owner": {"reputation": 465, "user_id": 2292368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9656238f23065edc53ad0731600997a8?s=128&d=identicon&r=PG", "display_name": "Jay Buckman", "link": "https://stackoverflow.com/users/2292368/jay-buckman"}, "edited": false, "score": 0, "creation_date": 1535568758, "post_id": 52084180, "comment_id": 91118916, "body": "Really old post, but it&#39;s probably still relevant: <a href=\"http://secondboyet.com/Articles/GenericProperties.html\" rel=\"nofollow noreferrer\">secondboyet.com/Articles/GenericProperties.html</a>"}, {"owner": {"reputation": 390, "user_id": 2993194, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/wtitr.jpg?s=128&g=1", "display_name": "Tobi Owolawi", "link": "https://stackoverflow.com/users/2993194/tobi-owolawi"}, "reply_to_user": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 0, "creation_date": 1535570348, "post_id": 52084180, "comment_id": 91119608, "body": "@Lee i know the data type when declaring the property in a concrete class, however more than one concrete class can implement this interface, therefore the interface isn&#39;t aware what the concrete classes will be defining this property data type as"}, {"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 0, "creation_date": 1535570514, "post_id": 52084180, "comment_id": 91119674, "body": "What do you mean by the interface &#39;being aware&#39; of the property type? It sounds like you want <code>public interface IClipbaseData&lt;T&gt;</code> from your description but you&#39;ve ruled this out. Could you add an example of why this won&#39;t work to your question?"}, {"owner": {"reputation": 390, "user_id": 2993194, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/wtitr.jpg?s=128&g=1", "display_name": "Tobi Owolawi", "link": "https://stackoverflow.com/users/2993194/tobi-owolawi"}, "reply_to_user": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 0, "creation_date": 1535570831, "post_id": 52084180, "comment_id": 91119813, "body": "@Lee i never mentioned the interface &quot;being aware&quot; of the property type. a typical example is defining an object of IClipbaseData, based on my code logic, this object can be of any concrete class that implements IClipbaseData. the concrete class which it belongs to can only be determined at runtime, thus we dont know the datatype of the property before runtime"}, {"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 0, "creation_date": 1535571209, "post_id": 52084180, "comment_id": 91119972, "body": "@TobiOwolawi - &quot;therefore the interface isn&#39;t aware what the concrete classes will be defining this property data type as&quot;. What interface are you referring to here? It sounds like you have a collection of implementations which use a different <code>T</code>? Or are you creating the instances dynamically in some way? What is the logic that prevents you knowing statically what the property type is?"}, {"owner": {"reputation": 390, "user_id": 2993194, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/wtitr.jpg?s=128&g=1", "display_name": "Tobi Owolawi", "link": "https://stackoverflow.com/users/2993194/tobi-owolawi"}, "reply_to_user": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 0, "creation_date": 1535571402, "post_id": 52084180, "comment_id": 91120049, "body": "@Lee the interfaces are created dynamically from an external source of data, this data can be of any of the object types i have a concrete class created for which implements the interface IClipbaseData"}], "answers": [{"comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1535568503, "post_id": 52084257, "comment_id": 91118797, "body": "OP already knows this. They don\u2019t know the type at instantiation though."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1535568653, "post_id": 52084257, "comment_id": 91118861, "body": "@maccettura Right, but it isn&#39;t possible to define a property that way, I clarified how to do it with separate methods."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1535569753, "post_id": 52084257, "comment_id": 91119338, "body": "For completeness, would you just have a <code>private object data;</code> and then <code>GetClipObjectData</code> would <code>return data as T;</code>, and <code>SetClipObjectData</code> would do <code>data = value;</code>?"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1535569836, "post_id": 52084257, "comment_id": 91119372, "body": "@RufusL Are you asking me to add code? I left it blank because it wasn&#39;t really relevant to what the question is about, but I could add it in."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1535570208, "post_id": 52084257, "comment_id": 91119545, "body": "No, I was just thinking out loud about how it would be implemented. :)"}], "tags": [], "owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "is_accepted": false, "score": 0, "last_activity_date": 1535568557, "last_edit_date": 1535568557, "creation_date": 1535568441, "answer_id": 52084257, "question_id": 52084180, "link": "https://stackoverflow.com/questions/52084180/add-generics-on-an-interface-property-only-and-not-on-the-interface/52084257#52084257", "title": "add generics on an interface property only and not on the interface", "body": "<p>Properties can't accept type parameters like that, you can define the type parameter on the interface itself, which will make your type work. This is one case where if you want to use a generic type parameter for a property, you must define it on the interface itself.</p>\n\n<pre><code>public interface IClipbaseData&lt;T&gt;\n{\n    T ClipObjectData { get; set; }\n}\n\nclass ClipTextData : IClipbaseData&lt;string&gt;\n{\n\n    string _clipContent;\n    public string ClipObjectData\n    {\n        get\n        {\n            return _clipContent;\n        }\n        set\n        {\n            // validate the input\n            if (string.IsNullOrEmpty(value))\n            {\n                throw new ArgumentNullException(\"Error\");\n            }\n            _clipContent = value;\n        }\n    }\n}\n</code></pre>\n\n<p>Otherwise you would have to call properties like <code>var someValue = clipTextDataObj.ClipObjectData&lt;string&gt;;</code>, which really doesn't make a lot of sense to do it that way since the concrete type already defines what it returns.</p>\n\n<p>If you do not want to define it on your interface, you'll have to create separate getter/setter methods:</p>\n\n<pre><code>public interface IClipbaseData\n{\n    T GetClipObjectData&lt;T&gt;();\n    void SetClipObjectData&lt;T&gt;(T value);\n}\n</code></pre>\n\n<p>But this would require you to implement it in a generic way:</p>\n\n<pre><code>class ClipTextData : IClipbaseData\n{\n    public T GetClipObjectData&lt;T&gt;()\n    {\n        throw new NotImplementedException();\n    }\n\n    public void SetClipObjectData&lt;T&gt;(T value)\n    {\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n\n<p>But you could add yet another abstraction here:</p>\n\n<pre><code>class StringClipTextData : ClipTextData\n{\n    public string ClipObjectData\n    {\n        get { return base.GetClipObjectData&lt;string&gt;(); }\n        set { base.SetClipObjectData(value); }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 390, "user_id": 2993194, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/wtitr.jpg?s=128&g=1", "display_name": "Tobi Owolawi", "link": "https://stackoverflow.com/users/2993194/tobi-owolawi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1535571053, "creation_date": 1535568134, "last_edit_date": 1535571053, "question_id": 52084180, "link": "https://stackoverflow.com/questions/52084180/add-generics-on-an-interface-property-only-and-not-on-the-interface", "title": "add generics on an interface property only and not on the interface", "body": "<p>i created an interface which will serve as a datatype for some set of objects, when defining those object the datatype of one of their properties are unknown, thus why i need an interface. but .net wouldnt let me do this;</p>\n\n<pre><code> public interface IClipbaseData \n{\n    T ClipObjectData&lt;T&gt; { get; set;} \n\n}\n\n class ClipTextData : IClipbaseData\n{\n\n    string _clipContent;\n    public string ClipObjectData \n    {\n        get\n        {\n            return _clipContent;\n        }\n        set\n        {\n            // validate the input\n            if (string.IsNullOrEmpty(value))\n            {\n                throw new ArgumentNullException(\"Error\");\n            }\n            _clipContent = value;\n        }\n    }\n\n\n\n}\n</code></pre>\n\n<p>i am getting an error on the interface, unexpected use of generic name. i know i could declare the generic on the interface but i dont want to because i am not aware of the generic datatype when using the interface as an object type.</p>\n\n<p>but i am aware of the property datatype when creating classes to implement this interface</p>\n\n<p>i can as well declare the property as object in the interface and dont use generics, but why am i unable to use generics</p>\n\n<ul>\n<li>a typical scenario why i dont want to add the generics on the interface:</li>\n</ul>\n\n<p>an object is defined of IClipbaseData, this object can be of any concrete class that implements IClipbaseData. the concrete class which it belongs to can only be determined at runtime, thus we dont know the datatype of the property ClipObjectData before runtime</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1535569322, "post_id": 52084160, "comment_id": 91119163, "body": "So is your question, &quot;how do I detect words separated by pipes inside curly brackets&quot;? I don&#39;t see where you are trying to color anything in the code above"}], "owner": {"reputation": 79, "user_id": 10047487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e47c37bff71e6a3982c1f13fe8b4a4?s=128&d=identicon&r=PG&f=1", "display_name": "willerson", "link": "https://stackoverflow.com/users/10047487/willerson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1535572045, "creation_date": 1535568051, "last_edit_date": 1535572045, "question_id": 52084160, "link": "https://stackoverflow.com/questions/52084160/colouring-spintax-code-in-richtextbox", "title": "Colouring spintax code in richtextbox", "body": "<p>I am sending an article to be spun on my server</p>\n\n<p>{<em>Just to give some background on what is Article spinning: As explained @ <a href=\"http://umstrategies.com/what-is-spintax/\" rel=\"nofollow noreferrer\">http://umstrategies.com/what-is-spintax/</a>:</em> <em>Article spinning is a method of creating one or more unique copies of an original article.  The level of uniqueness depends on the type and amount of spinning you do.Typical uses for spun articles are:\na) Submitting to various article directories, b) Submitting to blog networks, c) Creating unique content for a website/blog. In general, the main purpose of spinning articles is to gain backlinks.</em>\n}</p>\n\n<p>, and then my code returns the article to the UI in spintax format i.e. <strong>\"{Hello|Hi} are you {today|tonight}?\"</strong> and shows it in a RichTextBox.\nI need to colour the spintax fields: <strong>{Hello|Hi}</strong> as green in the richTextBox. \nHowever with my code below, all I see is the html code in the richTextBox.\nI'm not exactly sure what is the best way to do this. any tips / help would be appreciated.\nCode:</p>\n\n<pre><code>string action = e.Argument as string;\n\nif (action == \"wraith_spinner_start\")\n{\n    var theThesaurusLanguage = \"\";\n\n    Invoke(new MethodInvoker(() =&gt;\n    {\n        theThesaurusLanguage = ComboBoxThesaurus.Text;\n    }));\n\n    try\n    {\n        Invoke(new MethodInvoker(() =&gt;\n        {\n            RichTextBoxArticleBody.Text = Helpers.InternalSpinner(\n                RichTextBoxArticleBody.Text.ToLower(), theThesaurusLanguage);\n            // COLOUR SPINTAX //\n        }));\n    }\n    catch (Exception ex)\n    {\n        Helpers.ReturnMessage(ex.ToString());\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "list", "range"], "comments": [{"owner": {"reputation": 159, "user_id": 2250619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f71f1a791c1cb3a0b3c39f7784d770c?s=128&d=identicon&r=PG", "display_name": "WouldRatherBuildAMotor", "link": "https://stackoverflow.com/users/2250619/wouldratherbuildamotor"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1535571594, "post_id": 52084106, "comment_id": 91120139, "body": "Forgot the tag for C#"}, {"owner": {"reputation": 326, "user_id": 4975230, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQ8VO.jpg?s=128&g=1", "display_name": "jrh", "link": "https://stackoverflow.com/users/4975230/jrh"}, "edited": false, "score": 0, "creation_date": 1535574341, "post_id": 52084106, "comment_id": 91121420, "body": "Just as a general tip, if I were in this scenario I would probably make a custom class / struct called <code>Section</code> and then have the method implementing this behavior return a <code>List&lt;Section&gt;</code> or <code>Section[]</code> instead of a <code>Tuple&lt;int,int&gt;[]</code>;  the Tuple array method will be functional, but you can give a custom type like <code>Section</code> a <code>Start</code> and <code>End</code> field / property which is more descriptive than <code>Item1</code>, <code>Item2</code>, etc, and more readable (IMO) in the long run."}, {"owner": {"reputation": 159, "user_id": 2250619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f71f1a791c1cb3a0b3c39f7784d770c?s=128&d=identicon&r=PG", "display_name": "WouldRatherBuildAMotor", "link": "https://stackoverflow.com/users/2250619/wouldratherbuildamotor"}, "reply_to_user": {"reputation": 326, "user_id": 4975230, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQ8VO.jpg?s=128&g=1", "display_name": "jrh", "link": "https://stackoverflow.com/users/4975230/jrh"}, "edited": false, "score": 0, "creation_date": 1535575130, "post_id": 52084106, "comment_id": 91121773, "body": "Actually that is what I was trying to do.  Kept winding up with garbage code.  I will integrate the tuple concept into the class."}, {"owner": {"reputation": 326, "user_id": 4975230, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQ8VO.jpg?s=128&g=1", "display_name": "jrh", "link": "https://stackoverflow.com/users/4975230/jrh"}, "edited": false, "score": 0, "creation_date": 1535576131, "post_id": 52084106, "comment_id": 91122191, "body": "If you want, I can write something that would be fairly clean using a setup like that. The class could contain a Tuple but personally I&#39;d prefer just having separate, well named properties / fields. (I&#39;d probably make <code>readonly</code> fields)"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1535576442, "post_id": 52084106, "comment_id": 91122316, "body": "What if the section breaks include 1? What if they include 47?  What if they include 46?  What if they include numbers greater than 47 or less than 1?"}], "answers": [{"comments": [{"owner": {"reputation": 772, "user_id": 2692895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fd51ccb501545500ab736415023edd0?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Yakobi", "link": "https://stackoverflow.com/users/2692895/michael-yakobi"}, "reply_to_user": {"reputation": 159, "user_id": 2250619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f71f1a791c1cb3a0b3c39f7784d770c?s=128&d=identicon&r=PG", "display_name": "WouldRatherBuildAMotor", "link": "https://stackoverflow.com/users/2250619/wouldratherbuildamotor"}, "edited": false, "score": 0, "creation_date": 1535574107, "post_id": 52084785, "comment_id": 91121310, "body": "You didnt specify your target language."}], "tags": [], "owner": {"reputation": 772, "user_id": 2692895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fd51ccb501545500ab736415023edd0?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Yakobi", "link": "https://stackoverflow.com/users/2692895/michael-yakobi"}, "is_accepted": false, "score": -1, "last_activity_date": 1535571785, "last_edit_date": 1535571785, "creation_date": 1535570861, "answer_id": 52084785, "question_id": 52084106, "link": "https://stackoverflow.com/questions/52084106/covert-listint-to-a-list-of-ranges/52084785#52084785", "title": "Covert List&lt;int&gt; to a list of ranges", "body": "<p>You didn't specify the target language. So, in Scala, one way of doing so is:</p>\n\n<pre><code>val breaks = List(8, 22, 41)\nval range = (1, 47)\n\nval ranges = (breaks :+ (range._2 + 1)).foldLeft((range._1, List.empty[(Int, Int)])){\n  case ((start, rangesAcc), break) =&gt; (break, rangesAcc :+ (start, break - 1))\n}\n\nprintln(ranges._2)\n</code></pre>\n\n<p>Which prints: <code>List((1,7), (8,21), (22,40), (41,47))</code></p>\n\n<p>Alternatively, we can use recursion:</p>\n\n<pre><code>def ranges(rangeStart: Int, rangeEnd: Int, breaks: List[Int]) = {\n  @tailrec\n  def ranges(start: Int, breaks: List[Int], rangesAcc: List[(Int, Int)]): List[(Int, Int)] = breaks match {\n    case break :: moreBreaks =&gt; ranges(break, moreBreaks, rangesAcc :+ (start, break - 1))\n    case nil =&gt; rangesAcc :+ (start, rangeEnd)\n  }\n  ranges(rangeStart, breaks, List.empty[(Int, Int)])\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 4, "creation_date": 1535574588, "post_id": 52085222, "comment_id": 91121536, "body": "The tricky part is <code>(from = item) - 1</code>. You have to know that C# has not only an assignment statement but also the assignment expression yielding the assigned value as result and doing the assignment as a side-effect."}, {"owner": {"reputation": 159, "user_id": 2250619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f71f1a791c1cb3a0b3c39f7784d770c?s=128&d=identicon&r=PG", "display_name": "WouldRatherBuildAMotor", "link": "https://stackoverflow.com/users/2250619/wouldratherbuildamotor"}, "edited": false, "score": 2, "creation_date": 1535574915, "post_id": 52085222, "comment_id": 91121680, "body": "Yeah, that is confusing."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 7, "creation_date": 1535575948, "post_id": 52085222, "comment_id": 91122107, "body": "<b>NEVER DO THIS</b>.  Never write a query that mutates a local as it runs!  That is incredibly dangerous.  Though in this particular case it works, even small changes to such queries start producing crazy results."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1535579378, "post_id": 52085222, "comment_id": 91123379, "body": "@EricLippert What can occur by from mutating a local as it runs, isn&#39;t that just a closure?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 1, "creation_date": 1535579711, "post_id": 52085222, "comment_id": 91123487, "body": "@johnny5: Yes, it is precisely because it is a closure that we have a problem! Let&#39;s look at some examples. Suppose we have a sequence of strings and we wish to have a sequence of ints where we replace non-ints with zero. So we need a <code>bool</code> that says whether a string is an int, and the value if it is, hey, <code>TryParse</code> does that but it requires that we mutate a local. So we foolishly write <code>var seq = new[]{ &quot;1&quot;, &quot;blah&quot;, &quot;3&quot; }; int tmp = 0;  var nums =    from item in seq      let success = int.TryParse(item, out tmp)      select success ? tmp : 0;</code> ... and it works."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 1, "creation_date": 1535579888, "post_id": 52085222, "comment_id": 91123543, "body": "@johnny5: And then some <i>maintenance programmer</i>, that is, johnny5 twenty minutes in the future, modifies this <i>legacy code</i> -- legacy code being code that was <i>written in the past</i> -- because the customer wants them <i>sorted by the original string order</i>.  So we modify the query because <i>LINQ is awesome</i> and write <code>from item in seq let success = int.TryParse(item, out tmp) orderby item select success ? tmp : 0</code> and the query is now <i>completely wrong</i>. <b>Adding an orderby should not make a query wrong</b>, but that&#39;s what happens when you mutate a local!"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 1, "creation_date": 1535580046, "post_id": 52085222, "comment_id": 91123587, "body": "@johnny5: If it is not clear why the query is now completely wrong, then hey, that&#39;s another reason why mutating locals in a query is bad: <b>it makes it so johnny5 cannot read a query and know that it is totally wrong at a glance</b>. If you&#39;re still not clear on why the query is wrong, make a dot net fiddle and run it; were you surprised by the results? Do you understand why closure semantics demand that this be the result? If yes, awesome, you know why this is wrong. If no, then again we have points against doing this, because it makes programs that are not understandable by smart people."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 2, "creation_date": 1535580200, "post_id": 52085222, "comment_id": 91123627, "body": "@johnny5: Now how might we solve the problem correctly? We avoid mutating the local by mutating it <i>in another method entirely:</i> <code>static int? MyTryParse(this string item) {   int tmp;   bool success = int.TryParse(item, out tmp);   return success ? (int?)tmp : (int?)null;  }</code>  And now our query is <code>var nums =    from item in seq    select item.MyTryParse() ?? 0;</code> and the query can now be edited to our heart&#39;s content without ever worrying that we&#39;ll introduce a bug because of closure semantics, because there are no closure semantics."}], "tags": [], "owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "is_accepted": true, "score": 0, "last_activity_date": 1535573853, "last_edit_date": 1535573853, "creation_date": 1535572737, "answer_id": 52085222, "question_id": 52084106, "link": "https://stackoverflow.com/questions/52084106/covert-listint-to-a-list-of-ranges/52085222#52085222", "title": "Covert List&lt;int&gt; to a list of ranges", "body": "<p>Try using <em>Linq</em>; assuming that range is of type <code>Tuple&lt;int, int&gt;</code>:</p>\n\n<pre><code>List&lt;int&gt; list = new List&lt;int&gt;() { 8, 22, 41};\n\nint from = 1;\nint upTo = 47;\n\nvar result = list\n  .OrderBy(item =&gt; item)          // to be on the safe side in case of {22, 8, 41}  \n  .Concat(new int[] { upTo + 1 }) // add upTo breaking point\n  .Select(item =&gt; new Tuple&lt;int, int&gt;(from, (from = item) - 1));\n//  .ToArray(); // in case you want to get materialized result (array)\n\nConsole.Write(String.Join(Environment.NewLine, result));\n</code></pre>\n\n<p>Outcome:</p>\n\n<pre><code>(1, 7)\n(8, 21)\n(22, 40)\n(41, 47)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159, "user_id": 2250619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f71f1a791c1cb3a0b3c39f7784d770c?s=128&d=identicon&r=PG", "display_name": "WouldRatherBuildAMotor", "link": "https://stackoverflow.com/users/2250619/wouldratherbuildamotor"}, "edited": false, "score": 0, "creation_date": 1535574188, "post_id": 52085321, "comment_id": 91121347, "body": "This returns (1,7)  (8,21)  (22,40)  (41,46)  The last item, 47, is not included."}, {"owner": {"reputation": 1890, "user_id": 2647442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e6b031faf3be7a6673b0c7ac113e6c77?s=128&d=identicon&r=PG", "display_name": "Marie", "link": "https://stackoverflow.com/users/2647442/marie"}, "reply_to_user": {"reputation": 159, "user_id": 2250619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f71f1a791c1cb3a0b3c39f7784d770c?s=128&d=identicon&r=PG", "display_name": "WouldRatherBuildAMotor", "link": "https://stackoverflow.com/users/2250619/wouldratherbuildamotor"}, "edited": false, "score": 0, "creation_date": 1535574323, "post_id": 52085321, "comment_id": 91121411, "body": "Sorry about that. You can add one to the end number to account for that. I updated my answer."}, {"owner": {"reputation": 159, "user_id": 2250619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f71f1a791c1cb3a0b3c39f7784d770c?s=128&d=identicon&r=PG", "display_name": "WouldRatherBuildAMotor", "link": "https://stackoverflow.com/users/2250619/wouldratherbuildamotor"}, "edited": false, "score": 1, "creation_date": 1535576089, "post_id": 52085321, "comment_id": 91122169, "body": "I accepted the previous linq answer, it was first and works.   However some very basic testing shows your method is much faster Linq: TotalMilliseconds: 4.0944  Array: TotalMilliseconds: 0.225"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 159, "user_id": 2250619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f71f1a791c1cb3a0b3c39f7784d770c?s=128&d=identicon&r=PG", "display_name": "WouldRatherBuildAMotor", "link": "https://stackoverflow.com/users/2250619/wouldratherbuildamotor"}, "edited": false, "score": 0, "creation_date": 1535577784, "post_id": 52085321, "comment_id": 91122834, "body": "@WouldRatherBuildAMotor: The Linq solution here is very over-engineered; it could be a lot simpler."}, {"owner": {"reputation": 1890, "user_id": 2647442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e6b031faf3be7a6673b0c7ac113e6c77?s=128&d=identicon&r=PG", "display_name": "Marie", "link": "https://stackoverflow.com/users/2647442/marie"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1535630773, "post_id": 52085321, "comment_id": 91143392, "body": "@EricLippert Fair enough, it was a bit of an after thought because I didn&#39;t like the other answers Linq. It sounds like they liked my non-linq answer though. It looks like your answer covered my concerns as far as that went though."}], "tags": [], "owner": {"reputation": 1890, "user_id": 2647442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e6b031faf3be7a6673b0c7ac113e6c77?s=128&d=identicon&r=PG", "display_name": "Marie", "link": "https://stackoverflow.com/users/2647442/marie"}, "is_accepted": false, "score": 2, "last_activity_date": 1535575412, "last_edit_date": 1535575412, "creation_date": 1535573141, "answer_id": 52085321, "question_id": 52084106, "link": "https://stackoverflow.com/questions/52084106/covert-listint-to-a-list-of-ranges/52085321#52085321", "title": "Covert List&lt;int&gt; to a list of ranges", "body": "<p>It isn't very clean but you could build a new array and loop to fill in the blanks. This assumes your numbers are sorted coming in and I used a <code>Tuple&lt;int, int&gt;</code> return because I couldn't find any simple range types that made sense. With this code you dont have to worry about storing the state in a variable outside of the loop variable and you don't need to exclude any results.</p>\n\n<pre><code>public Tuple&lt;int, int&gt;[] GetRanges(int start, int end, params int[] input)\n{\n    // Create new array that includes a slot for the start and end number\n    var combined = new int[input.Length + 2];\n    // Add input at the first index to allow start number\n    input.CopyTo(combined, 1);\n    combined[0] = start;\n    // Increment end to account for subtraction later\n    combined[combined.Length - 1] = end + 1;\n\n    // Create new array of length - 1 (think fence-post, |-|-|-|-|)\n    Tuple&lt;int, int&gt;[] ranges = new Tuple&lt;int, int&gt;[combined.Length - 1];\n    for (var i = 0; i &lt; combined.Length - 1; i += 1) {\n        // Create a range of the number and the next number minus one\n        ranges[i] = new Tuple&lt;int, int&gt;(combined[i], combined[i+1] - 1);\n    }\n\n    return ranges;\n}\n</code></pre>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>GetRanges(1, 47, 8, 22, 41); \n</code></pre>\n\n<p>or</p>\n\n<pre><code>GetRanges(1, 47, new [] { 8, 22, 41 }); \n</code></pre>\n\n<p>If you would like an alternative pure-linq solution you could use this,</p>\n\n<pre><code>public Tuple&lt;int, int&gt;[] GetRanges(int start, int end, params int[] input)\n{       \n    return input\n        .Concat(new [] { start, end + 1 }) // Add first and last numbers, adding one to end to include it in the range\n        .SelectMany(i =&gt; new [] { i, i - 1 }) // Generate \"end\" numbers for each start number\n        .OrderBy(i =&gt; i)\n        .Except(new [] {start - 1, end + 1}) // Exclude pre-first and post-last numbers\n        .Select((Value, Index) =&gt; new { Value, Index }) // Gather information to bucket values\n        .GroupBy(p =&gt; p.Index / 2) // Create value buckets\n        .Select(g =&gt; new Tuple&lt;int, int&gt;(g.First().Value, g.Last().Value)) // Convert each bucket into a Tuple\n        .ToArray();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1890, "user_id": 2647442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e6b031faf3be7a6673b0c7ac113e6c77?s=128&d=identicon&r=PG", "display_name": "Marie", "link": "https://stackoverflow.com/users/2647442/marie"}, "edited": false, "score": 0, "creation_date": 1535631429, "post_id": 52086062, "comment_id": 91143851, "body": "@WouldRatherBuildAMotor This answer is definitely the way to go."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 6, "last_activity_date": 1535578356, "last_edit_date": 1535578356, "creation_date": 1535576683, "answer_id": 52086062, "question_id": 52084106, "link": "https://stackoverflow.com/questions/52084106/covert-listint-to-a-list-of-ranges/52086062#52086062", "title": "Covert List&lt;int&gt; to a list of ranges", "body": "<p>Answers which state that you should mutate a local during a query are dangerous even if the program works; do not get into this bad habit.</p>\n\n<p>The easiest way to solve the problem is to write an iterator block. Let's suppose you have the obvious <code>Pair&lt;T&gt;</code> type; in C# 7 you would likely use a tuple; adapting this to use tuples is an easy exercise:</p>\n\n<pre><code>static IEnumerable&lt;Pair&lt;int&gt;&gt; MakeIntervals(\n  /* this */ IEnumerable&lt;int&gt; dividers, /* You might want an extension method.*/\n  int start,\n  int end)\n{\n  // Precondition: dividers is not null, but may be empty.\n  // Precondition: dividers is sorted.  \n  // If that's not true in your world, order it here.\n  // Precondition: dividers contains no value equal to or less than start.\n  // Precondition: dividers contains no value equal to or greater than end.\n  // If it is possible for these preconditions to be violated then\n  // the problem is underspecified; say what you want to happen in those cases.\n  int currentStart = start;\n  for (int divider in dividers) \n  {\n    yield return new Pair&lt;int&gt;(currentStart, divider - 1);\n    currentStart = divider;\n  }\n  yield return new Pair&lt;int&gt;(currentStart, end);\n}\n</code></pre>\n\n<p>That's the right way to solve this problem. If you wanted to get a bit silly you could use <code>Zip</code>. Start with two helpful extension methods:</p>\n\n<pre><code>static IEnumerable&lt;T&gt; Prepend&lt;T&gt;(this IEnumerable&lt;T&gt; items, T first)\n{\n  yield return first;\n  foreach(T item in items) yield return item;\n}\nstatic IEnumerable&lt;T&gt; Append&lt;T&gt;(this IEnumerable&lt;T&gt; items, T last)\n{\n  foreach(T item in items) yield return item;\n  yield return last;\n}\n</code></pre>\n\n<p>And now we have:</p>\n\n<pre><code>static IEnumerable&lt;Pair&lt;int&gt;&gt; MakeIntervals(\n  IEnumerable&lt;int&gt; dividers,\n  int start,\n  int end)\n{\n  var starts = dividers.Prepend(start);\n  // This is the sequence 1, 8, 22, 41\n  var ends = dividers.Select(d =&gt; d - 1).Append(end);\n  // This is the sequence 7, 21, 40, 47\n  var results = starts.Zip(ends, (s, e) =&gt; new Pair&lt;int&gt;(s, e));\n  // Zip them up: (1, 7), (8, 21), (22, 40), (41, 47)\n  return results;\n}\n</code></pre>\n\n<p>But this seems needlessly baroque compared to simply writing the iterator block directly. Also, this iterates the collection twice, which is considered by many to be bad style.</p>\n\n<p>A cute way to solve the problem is to generalize the first solution:</p>\n\n<pre><code>static IEnumerable&lt;R&gt; SelectPairs&lt;T, R&gt;(\n  this IEnumerable&lt;T&gt; items,\n  IEnumerable&lt;T, T, R&gt; selector\n)\n{\n  bool first = true;\n  T previous = default(T);\n  foreach(T item in items) {\n    if (first) {\n      previous = item;\n      first = false;\n    }\n    else\n    {\n      yield return selector(previous, item);\n      previous = item;\n    }\n  }\n}\n</code></pre>\n\n<p>And now your method is:</p>\n\n<pre><code>static IEnumerable&lt;Pair&lt;int&gt;&gt; MakeIntervals(\n  IEnumerable&lt;int&gt; dividers,\n  int start,\n  int end)\n{\n  return dividers\n    .Prepend(start)\n    .Append(end + 1)\n    .SelectPairs((s, e) =&gt; new Pair&lt;int&gt;(s, e - 1);\n}\n</code></pre>\n\n<p>I quite like that last one.  That is, we are given <code>8, 22, 41</code>, we construct <code>1, 8, 22, 41, 48</code>, and then from that we pick off pairs and construct <code>(1, 7), (8, 21),</code> and so on.</p>\n"}, {"tags": [], "owner": {"reputation": 6400, "user_id": 806202, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/hujFk.jpg?s=128&g=1", "display_name": "Arsen Khachaturyan", "link": "https://stackoverflow.com/users/806202/arsen-khachaturyan"}, "is_accepted": false, "score": 1, "last_activity_date": 1583765100, "creation_date": 1583765100, "answer_id": 60602922, "question_id": 52084106, "link": "https://stackoverflow.com/questions/52084106/covert-listint-to-a-list-of-ranges/60602922#60602922", "title": "Covert List&lt;int&gt; to a list of ranges", "body": "<p>Using <code>C#</code> <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.valuetuple?view=netcore-3.1\" rel=\"nofollow noreferrer\">ValueTuple</a> and <code>C# 8.0</code> <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/proposals/csharp-8.0/ranges\" rel=\"nofollow noreferrer\">Ranges and indices</a> along with new <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-8#switch-expressions\" rel=\"nofollow noreferrer\">switch expressions</a>, the solution can be done in a bit nifty way by creating handy <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/extension-methods\" rel=\"nofollow noreferrer\">extension method</a>: </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>/// &lt;summary&gt;\n/// Integer List array extensions.\n/// &lt;/summary&gt;\npublic static class RangesExtension\n{\n    /// &lt;summary&gt;\n    /// Creates list of ranges from single dimension ranges list.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"ranges\"&gt;Single dimension ranges list.&lt;/param&gt;\n    /// &lt;param name=\"from\"&gt;Range first item.&lt;/param&gt;\n    /// &lt;param name=\"to\"&gt;Range last item.&lt;/param&gt;\n    /// &lt;returns&gt;List of ranges.&lt;/returns&gt;\n    public static List&lt;(int, int)&gt; ToListOfRanges(\n        this List&lt;int&gt; ranges,\n        int from,\n        int to)\n    {\n        var list = ranges.ToArray();\n\n        return list.OrderBy(item =&gt; item)\n                   .Select((item, index) =&gt; GetNext(ranges, from, index))\n                   .Append((list[^1], to))\n                   .ToList();\n    }\n\n    /// &lt;summary&gt;\n    /// Returns next couple of ranges from initial array.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"ranges\"&gt;Single dimension ranges list.&lt;/param&gt;\n    /// &lt;param name=\"from\"&gt;Range first item.&lt;/param&gt;\n    /// &lt;param name=\"index\"&gt;Range current item index.&lt;/param&gt;\n    /// &lt;returns&gt;Value Tuple of ranges.&lt;/returns&gt;\n    private static (int, int) GetNext(\n        List&lt;int&gt; ranges,\n        int from,\n        int index)\n    {\n        return index switch\n        {\n            0 =&gt; (from, ranges[index] - 1),\n            _ =&gt; (ranges[index - 1], ranges[index] - 1),\n        };\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 2250619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f71f1a791c1cb3a0b3c39f7784d770c?s=128&d=identicon&r=PG", "display_name": "WouldRatherBuildAMotor", "link": "https://stackoverflow.com/users/2250619/wouldratherbuildamotor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 1, "accepted_answer_id": 52085222, "answer_count": 5, "score": 3, "last_activity_date": 1583765100, "creation_date": 1535567842, "last_edit_date": 1535574470, "question_id": 52084106, "link": "https://stackoverflow.com/questions/52084106/covert-listint-to-a-list-of-ranges", "title": "Covert List&lt;int&gt; to a list of ranges", "body": "<p>I need to convert a <code>list</code> of integers to a list of ranges.</p>\n\n<p>I have a <code>List&lt;int&gt;</code> that contains <code>8, 22, 41</code>.  These values are the <em>section breaks</em> in a complete list from <code>1</code> to <code>47</code>.</p>\n\n<p>I am trying to get a list of ranges that contains a start line and end line.  The output should be </p>\n\n<pre><code>{(1,7),(8,21),(22,40),(41,47)}\n</code></pre>\n\n<p>I have tried to <em>adapt the solution</em> from this <a href=\"https://stackoverflow.com/questions/7688881/convert-list-to-number-range-string\">question</a> but can't get it to work.</p>\n\n<p>Seems like it should be simple, but maybe not.</p>\n"}, {"tags": ["javascript", "c#", "model-view-controller"], "answers": [{"tags": [], "owner": {"reputation": 3280, "user_id": 777551, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RPOt3.jpg?s=128&g=1", "display_name": "mnieto", "link": "https://stackoverflow.com/users/777551/mnieto"}, "is_accepted": true, "score": 0, "last_activity_date": 1535569810, "last_edit_date": 1535569810, "creation_date": 1535569496, "answer_id": 52084474, "question_id": 52083987, "link": "https://stackoverflow.com/questions/52083987/fill-webgrid-with-dataset/52084474#52084474", "title": "Fill WebGrid with dataset", "body": "<p>You are returning a list of strings (one item per colum). Datatable will expect an array of objects with each object has the defined columns:</p>\n\n<pre><code>\"columns\": [\n    { \"data\": \"nFacturaProveedoresID\", \"autoWidth\": true },\n    { \"data\": \"nSiniestroid\", \"autoWidth\": true },\n    and so on\n</code></pre>\n\n<p>Your controller should return something like <code>List&lt;Proveedor&gt;</code> where proveedor is:</p>\n\n<pre><code>public class Proveedor {\n    public int nFacturaProveedoresID {get; set; }\n    public int nSiniestroid {get; set;}\n    etc\n}\n</code></pre>\n\n<p>your controller should be like:</p>\n\n<pre><code>public ActionResult GetEmployees()\n{\n    try\n    {\n        int proveedor = Convert.ToInt32(Session[\"IdProveedor\"]);\n\n        DataSet ConsultaGrid = new DataSet();\n        ConsultasProveedores ConsultaFacturas = new ConsultasProveedores();\n        ConsultaGrid = ConsultaFacturas.ConsultaGen(Convert.ToString(proveedor));\n\n        List&lt;Proveedor&gt; list = new List&lt;Proveedor&gt;();\n        list.Add(new Proveedor {\n           nFacturaProveedoresID = (int)ConsultaGrid.Tables[0].Rows[0][\"nFacturaProveedoresID\"],\n           nSiniestroid = (int)ConsultaGrid.Tables[0].Rows[0][\"nSiniestroid\"],\n           //rest of fields\n        });\n\n\n        return Json(new\n        {\n            data = list\n        }, JsonRequestBehavior.AllowGet);\n        }\n    }\n    catch (Exception ex)\n    {\n        return View(\"Login\");\n    }            \n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10261997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3ae044e0f992687d6d02a894845d043?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo Morquecho", "link": "https://stackoverflow.com/users/10261997/rodrigo-morquecho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 52084474, "answer_count": 1, "score": 1, "last_activity_date": 1535569810, "creation_date": 1535567305, "last_edit_date": 1535568969, "question_id": 52083987, "link": "https://stackoverflow.com/questions/52083987/fill-webgrid-with-dataset", "title": "Fill WebGrid with dataset", "body": "<p>I have problems returning my DataSet to my WebGrid, previously I was filling it with a connection to my Entity and I had no problems, the fact is that for security reasons in my work I can not use more than a connection already \"Default\"</p>\n\n<p>before:</p>\n\n<pre><code>using (SiniestrosEntities dc = new SiniestrosEntities())\n{\n    var Condicion = dc.CAT_Doctos_Proveedores.OrderBy(a =&gt; \na.id_Proveedor).ToList();\n\n    return Json(new\n    {\n        data = Condicion\n    }, JsonRequestBehavior.AllowGet);\n}\n</code></pre>\n\n<p>Returning my data to my View, I had no problem.</p>\n\n<p>Now I have my database query in a DATSET and I want to return it with a Json to my view ... but I get the following error:</p>\n\n<blockquote>\n  <p>DataTables warning: table id=myDatatable - Requested unknown parameter 'nFacturaProveedoresID' for row 0, column 0. For more information about this error, please see <a href=\"http://datatables.net/tn/4\" rel=\"nofollow noreferrer\">http://datatables.net/tn/4</a></p>\n</blockquote>\n\n<p>My Code JS</p>\n\n<pre><code>var oTable = $('#myDatatable').DataTable({\n    \"ajax\": {\n        \"url\": '/Facturas/GetEmployees',\n        \"type\": \"get\",\n        \"datatype\": \"json\"\n    },\n    \"columns\": [\n        { \"data\": \"nFacturaProveedoresID\", \"autoWidth\": true },\n        { \"data\": \"nSiniestroid\", \"autoWidth\": true },\n        { \"data\": \"cSerie\", \"autoWidth\": true },\n        { \"data\": \"cFolio\", \"autoWidth\": true },\n        { \"data\": \"dtFechaFactura\", \"autoWidth\": true },\n        { \"data\": \"cConcepto\", \"autoWidth\": true },\n        { \"data\": \"mTotal\", \"autoWidth\": true },\n        { \"data\": \"dtFechaRegistro\", \"autoWidth\": true },\n        { \"data\": \"nFacturaProveedoresID\", \"width\": \"20px\", \"render\": function (data) {\n            return '&lt;a class=\"popup\" href=\"/Facturas/Save/' + data + '\"&gt;Editar&lt;/a&gt;';\n            }\n        },\n        {\n            \"data\": \"EmployeeID\", \"width\": \"50px\", \"render\": function (data) \n            {\n                return '&lt;a class=\"popup\" href=\"/Facturas/Delete' + data + '\"&gt;Borrar&lt;/a&gt;';\n            }\n        }\n        ]\n    })\n    $('.tablecontainer').on('click', 'a.popup', function (e) {\n        e.preventDefault();\n        OpenPopup($(this).attr('href'));\n    })\n    function OpenPopup(pageUrl) {\n        debugger;\n        var $pageContent = $('&lt;div/&gt;');\n        $pageContent.load(pageUrl, function () {\n            $('#popupForm', $pageContent).removeData('validator');\n            $('#popupForm', $pageContent).removeData('unobtrusiveValidation');\n            $.validator.unobtrusive.parse('form');\n\n        });\n\n        $dialog = $('&lt;div class=\"popupWindow\" style=\"overflow:auto\"&gt;&lt;/div&gt;')\n                          .html($pageContent)\n                          .dialog({\n                              draggable: true,\n                              autoOpen: false,\n                              resizable: true,\n                              model: true,\n                              title: 'Actualizaci\u00f3n de Datos',\n                              height: 850,\n                              width: 1650,\n                              close: function () {\n                                  $dialog.dialog('destroy').remove();\n                              }\n                          })\n                debugger;\n                $('.popupWindow').on('submit', '#popupForm', function (e) {\n                    var url = $('#popupForm')[0].action;\n                $.ajax({\n                    type: \"POST\",\n                    url: url,\n                    data: $('#popupForm').serialize(),\n                    success: function (data) {\n                        if (data.status) {\n                            $dialog.dialog('close');\n                            oTable.ajax.reload();\n                        }\n                    }\n                })\n\n                e.preventDefault();\n            })\n            $dialog.dialog('open');\n        }\n    })\n</code></pre>\n\n<p>My Controller</p>\n\n<pre><code>public ActionResult GetEmployees()\n{\n    try\n    {\n        int proveedor = Convert.ToInt32(Session[\"IdProveedor\"]);\n\n        DataSet ConsultaGrid = new DataSet();\n        ConsultasProveedores ConsultaFacturas = new ConsultasProveedores();\n        ConsultaGrid = ConsultaFacturas.ConsultaGen(Convert.ToString(proveedor));\n\n        List&lt;string&gt; list = new List&lt;string&gt;();\n        list.Add(ConsultaGrid.Tables[0].Rows[0][\"nFacturaProveedoresID\"].ToString());\n        list.Add(ConsultaGrid.Tables[0].Rows[0][\"nSiniestroid\"].ToString());\n        list.Add(ConsultaGrid.Tables[0].Rows[0][\"cSerie\"].ToString());\n        list.Add(ConsultaGrid.Tables[0].Rows[0][\"cFolio\"].ToString());\n        list.Add(ConsultaGrid.Tables[0].Rows[0][\"dtFechaFactura\"].ToString());\n        list.Add(ConsultaGrid.Tables[0].Rows[0][\"cConcepto\"].ToString());\n        list.Add(ConsultaGrid.Tables[0].Rows[0][\"mTotal\"].ToString());\n        list.Add(ConsultaGrid.Tables[0].Rows[0][\"dtFechaRegistro\"].ToString());\n\n        return Json(new\n        {\n            data = list\n        }, JsonRequestBehavior.AllowGet);\n        }\n    }\n    catch (Exception ex)\n    {\n        return View(\"Login\");\n    }            \n}\n</code></pre>\n"}, {"tags": ["c#", "azure", "azure-functions"], "comments": [{"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 1, "creation_date": 1535568257, "post_id": 52083832, "comment_id": 91118685, "body": "What part of the <a href=\"https://docs.microsoft.com/en-us/azure/azure-functions/functions-how-to-use-azure-function-app-settings\" rel=\"nofollow noreferrer\">documentation</a> is not clear?"}, {"owner": {"reputation": 13969, "user_id": 4167200, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ceLYp.jpg?s=128&g=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/4167200/thomas"}, "edited": false, "score": 0, "creation_date": 1535585991, "post_id": 52083832, "comment_id": 91125169, "body": "how do you deploy your azure resources ? you can use an ARM template to do this ?"}], "answers": [{"tags": [], "owner": {"reputation": 549, "user_id": 8473735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vhMm45b05lA/AAAAAAAAAAI/AAAAAAAAAAo/xUYW0OibYg4/photo.jpg?sz=128", "display_name": "Josh Carlisle", "link": "https://stackoverflow.com/users/8473735/josh-carlisle"}, "is_accepted": false, "score": 0, "last_activity_date": 1535631294, "creation_date": 1535631294, "answer_id": 52096839, "question_id": 52083832, "link": "https://stackoverflow.com/questions/52083832/issues-with-common-configuration-file-per-solution-with-multiple-azure-functions/52096839#52096839", "title": "Issues with common configuration file per solution with multiple azure functions", "body": "<p>AppSettings are all shared across functions in a Function App. As Jeroen mentioned in the comments this is by design. </p>\n\n<p>You mention that each function has very different configuration. One thing to consider is if you are finding that each of your functions do very different things and possibly also scale differently (e.g. one handles thousands of messages while the other handles a few http requests a month) it may be appropriate to break those into separate function apps and in that case they would get their own settings but I would not recommend this solely to get more granular app settings or you'll end up with a maintenance nightmare of lots of function apps.</p>\n\n<p>If you're having some problems managing numerous appsettings I would automate it through a CI\\CD pipeline or as Thomas mentioned in the comments see if you can automate it through ARM templates when the function app is deployed. </p>\n"}], "owner": {"reputation": 1, "user_id": 10291448, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8Z9ZYFZsR_0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNN-xfdqZaZE_ExB0zs6Ku3vuO_tg/mo/photo.jpg?sz=128", "display_name": "Vidya", "link": "https://stackoverflow.com/users/10291448/vidya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535631294, "creation_date": 1535566551, "question_id": 52083832, "link": "https://stackoverflow.com/questions/52083832/issues-with-common-configuration-file-per-solution-with-multiple-azure-functions", "title": "Issues with common configuration file per solution with multiple azure functions", "body": "<p>We have a common configuration file for the solution with multiple azure function, some config settings are specific to particualar azure function.\nWhen solution is deployed to function apps in azure, in App Settings, we are having to set all configuration properties for all functions even if that function is not using that specific config settings.</p>\n"}, {"tags": ["c#", "rest", "postman"], "comments": [{"owner": {"reputation": 14441, "user_id": 138071, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6468f441fdf3940cea18ff5b7f1d3e3?s=128&d=identicon&r=PG", "display_name": "andres descalzo", "link": "https://stackoverflow.com/users/138071/andres-descalzo"}, "edited": false, "score": 0, "creation_date": 1535569285, "post_id": 52083825, "comment_id": 91119140, "body": "do you use the same code on console? you can use <a href=\"https://www.telerik.com/fiddler\" rel=\"nofollow noreferrer\">telerik.com/fiddler</a> to see traffic and know what&#39;s going on."}, {"owner": {"reputation": 319, "user_id": 10018690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cac4d777000eb1984999b5df6c0915d?s=128&d=identicon&r=PG&f=1", "display_name": "Plompy", "link": "https://stackoverflow.com/users/10018690/plompy"}, "reply_to_user": {"reputation": 14441, "user_id": 138071, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6468f441fdf3940cea18ff5b7f1d3e3?s=128&d=identicon&r=PG", "display_name": "andres descalzo", "link": "https://stackoverflow.com/users/138071/andres-descalzo"}, "edited": false, "score": 0, "creation_date": 1535569728, "post_id": 52083825, "comment_id": 91119327, "body": "If I try instead of <code>C:\\\\Users\\\\Plompy\\\\Downloads\\\\rr.pdf</code> I write: <code>somefileName</code> I get full response from the server, but in the response I see the he gives md5 of empty string, i.e the server didn&#39;t recieved the file."}], "owner": {"reputation": 319, "user_id": 10018690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cac4d777000eb1984999b5df6c0915d?s=128&d=identicon&r=PG&f=1", "display_name": "Plompy", "link": "https://stackoverflow.com/users/10018690/plompy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 683, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1535567883, "creation_date": 1535566501, "last_edit_date": 1535567883, "question_id": 52083825, "link": "https://stackoverflow.com/questions/52083825/upload-file-works-from-postman-but-not-via-code", "title": "Upload file works from postman but not via code", "body": "<p>I'm trying to upload some file to some api, I made a small test with <a href=\"https://www.getpostman.com/\" rel=\"nofollow noreferrer\">postman</a>, the video of <a href=\"https://stackoverflow.com/a/16022213/10018690\">this guy</a> helped me. it works fine!. </p>\n\n<p>Therefore I copied the code from postman, it is possible by clicking the \"Code\":</p>\n\n<p><a href=\"https://i.stack.imgur.com/PKjfg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PKjfg.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the C# code that postman use:</p>\n\n<pre><code>var client = new RestClient(\"https://te.checkpoint.com/tecloud/api/v1/file/upload\");\nvar request = new RestRequest(Method.POST);\nrequest.AddHeader(\"Postman-Token\", \"616790a7-ad25-4687-a749-0b36998b04ac\");\nrequest.AddHeader(\"Cache-Control\", \"no-cache\");\nrequest.AddHeader(\"Authorization\", \"6610F8512D02\");\nrequest.AddHeader(\"content-type\", \"multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW\");\nrequest.AddParameter(\"multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW\", \"------WebKitFormBoundary7MA4YWxkTrZu0gW\\r\\nContent-Disposition: form-data; name=\\\"file\\\"; filename=\\\"C:\\\\Users\\\\Plompy\\\\Downloads\\\\rr.pdf\\\"\\r\\nContent-Type: application/pdf\\r\\n\\r\\n\\r\\n------WebKitFormBoundary7MA4YWxkTrZu0gW--\", ParameterType.RequestBody);\nIRestResponse response = client.Execute(request);\n</code></pre>\n\n<p>But when I try from C# console app I recive the response (<a href=\"http://restsharp.org/\" rel=\"nofollow noreferrer\">RestSharp</a> DLL from NuGet is needed)::</p>\n\n<pre><code>&lt;html&gt;&lt;head&gt;\n&lt;title&gt;400 Bad Request&lt;/title&gt;\n&lt;/head&gt;&lt;body&gt;\n&lt;h1&gt;Bad Request&lt;/h1&gt;\n&lt;p&gt;Your browser sent a request that this server could not understand.&lt;br /&gt;\n&lt;/p&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>I don't care about that you see my autorithetion key.  It's a free 30 days trial account.</p>\n"}, {"tags": ["c#", "selenium", "azure-devops", "nunit"], "comments": [{"owner": {"reputation": 2091, "user_id": 268566, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NoqVn.jpg?s=128&g=1", "display_name": "topher-j", "link": "https://stackoverflow.com/users/268566/topher-j"}, "edited": false, "score": 0, "creation_date": 1535666865, "post_id": 52083715, "comment_id": 91163010, "body": "Have you purchased multiple self-hosted agents?  <a href=\"https://docs.microsoft.com/en-us/vsts/pipelines/licensing/concurrent-jobs-vsts?view=vsts\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/vsts/pipelines/licensing/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 6050122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d74fa05502245610c0c0b47fcf8a1734?s=128&d=identicon&r=PG&f=1", "display_name": "Akaizhar", "link": "https://stackoverflow.com/users/6050122/akaizhar"}, "reply_to_user": {"reputation": 2091, "user_id": 268566, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NoqVn.jpg?s=128&g=1", "display_name": "topher-j", "link": "https://stackoverflow.com/users/268566/topher-j"}, "edited": false, "score": 0, "creation_date": 1535741448, "post_id": 52083715, "comment_id": 91193748, "body": "Yes, we have up to 8 currently. We also had this working on multiple agents back in July when we only had one job."}, {"owner": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "edited": false, "score": 0, "creation_date": 1535789102, "post_id": 52083715, "comment_id": 91203013, "body": "Based on the screenshot, just a job is running. Can you provide the screenshot of parallel jobs page? (https://{account}.visualstudio.com/_settings/buildqueue?_a=&zwnj;&#8203;concurrentJobs)"}], "owner": {"reputation": 1, "user_id": 6050122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d74fa05502245610c0c0b47fcf8a1734?s=128&d=identicon&r=PG&f=1", "display_name": "Akaizhar", "link": "https://stackoverflow.com/users/6050122/akaizhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 219, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535705376, "creation_date": 1535566033, "last_edit_date": 1535705376, "question_id": 52083715, "link": "https://stackoverflow.com/questions/52083715/test-agents-not-executing-in-parallel-vsts", "title": "Test Agents not executing in parallel. VSTS", "body": "<p>Using VSTS, locally hosted agent pool, selenium tests.</p>\n\n<p>Currently, I possess a local host of machine strictly for use for QA automation. The goal is to have these tests run against the Agent Pool (currently 7 machines) whenever a build occurs. </p>\n\n<p><img src=\"https://i.stack.imgur.com/o4B6P.png\" alt=\"\"></p>\n\n<p>I'm running into a small problem where the tests themselves aren't executing in parallel, instead just executing on one machine, though the task is all queued up as a group.</p>\n\n<p>I have set the Agent Phase for the machines to use the Local Automation agent pool, with a designation of using seven machines for the tasks below. </p>\n\n<p><img src=\"https://i.stack.imgur.com/tJPCI.png\" alt=\"\"></p>\n\n<p>The Selenium Automation Phase is also set to spread test cases across VMs based on a number of tests and available agents, as shown below.</p>\n\n<p><img src=\"https://i.stack.imgur.com/Om8dH.png\" alt=\"\"></p>\n\n<p>Any ideas on why these aren't running simultaneously? </p>\n\n<p><img src=\"https://i.stack.imgur.com/JpnaQ.png\" alt=\"\"></p>\n"}, {"tags": ["c#", "entity-framework", "linq", "functional-programming"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1535566343, "post_id": 52083645, "comment_id": 91117818, "body": "And why not just use <code>static Expression&lt;Func&lt;T, bool&gt;&gt; GetExpression&lt;T&gt;(Func&lt;T, string&gt; propertyName, string propertyValue)</code>?"}, {"owner": {"reputation": 496, "user_id": 5339696, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10207233168285517/picture?type=large", "display_name": "NuclearProgrammer", "link": "https://stackoverflow.com/users/5339696/nuclearprogrammer"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1535567371, "post_id": 52083645, "comment_id": 91118285, "body": "EF needs to be able to use the Expression returned by the function to create the SQL query. If I&#39;m building the expression using calls to c# functions (instead of expressions) then EF won&#39;t know how to translate the query to SQL."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1535567554, "post_id": 52083645, "comment_id": 91118368, "body": "I know that, but nothing prevents you from getting the result of the <code>Func</code> before passing it into <code>Expression.Property</code>"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1535567835, "post_id": 52083645, "comment_id": 91118495, "body": "@CamiloTerevinto How is accepting a method that returns the string name of a property any better than accepting the string name of the property?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1535568116, "post_id": 52083645, "comment_id": 91118613, "body": "@Servy Well, &quot; I want to be able to specify the fields I want to filter by using a Func&lt;T,string&gt; rather than just the name of the field.&quot;"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1535568226, "post_id": 52083645, "comment_id": 91118674, "body": "@CamiloTerevinto They want to be able to specify them with an <code>Expression&lt;Func&lt;T, string&gt;&gt;</code> representing the projection to have the datbase use.  Using a <code>Func&lt;T, string&gt;</code> to come up with a property name doesn&#39;t help that."}, {"owner": {"reputation": 496, "user_id": 5339696, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10207233168285517/picture?type=large", "display_name": "NuclearProgrammer", "link": "https://stackoverflow.com/users/5339696/nuclearprogrammer"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1535579435, "post_id": 52083645, "comment_id": 91123396, "body": "@CamiloTerevinto As @Servy pointed out, the purpose of the <code>Expression&lt;Func&lt;T,string&gt;&gt;</code> is to return the value that will be compared, not the name of the field. This way if I only wanted to check the last 4 chararacters of a persons SSN I could do <code>ContainsText&lt;Individual&gt;(&quot;3252&quot;, i=&gt;i.SSN.Substring(5) )</code> this is useful if I don&#39;t want the user to be able to see the full SSN but be able to search based on what they can see."}], "answers": [{"comments": [{"owner": {"reputation": 496, "user_id": 5339696, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10207233168285517/picture?type=large", "display_name": "NuclearProgrammer", "link": "https://stackoverflow.com/users/5339696/nuclearprogrammer"}, "edited": false, "score": 0, "creation_date": 1538065935, "post_id": 52084047, "comment_id": 92022784, "body": "Is there a reason why the overloaded <code>VisitParameter</code> method is calling <code>base.Visit(node)</code> instead of <code>base.VisitParameter(node)</code>?"}], "tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": true, "score": 3, "last_activity_date": 1535567588, "creation_date": 1535567588, "answer_id": 52084047, "question_id": 52083645, "link": "https://stackoverflow.com/questions/52083645/calling-contains-on-the-output-of-a-expressionfunct-string/52084047#52084047", "title": "Calling .Contains on the output of a Expression&lt;Func&lt;T,string&gt;&gt;", "body": "<p>A few generic operations really help in solving most expression related problems.  In this case there's two that really help you, being able to compose two expressions together, and computing an expression that Ors together N predicates.  If you have those two operations your implementation becomes as simple as:</p>\n\n<pre><code>public static Expression&lt;Func&lt;T, bool&gt;&gt; ContainsText&lt;T&gt;(\n    string text, params Expression&lt;Func&lt;T, string&gt;&gt;[] fields)\n{\n    var predicates = fields.Select(projection =&gt; projection.Compose(value =&gt; value.Contains(text)));            \n    return OrAll(predicates);\n}\n</code></pre>\n\n<p>To compose two expressions together it's helpful to create a method that replaces all instances of one parameter expression with another:</p>\n\n<pre><code>public static Expression&lt;Func&lt;TSource, TResult&gt;&gt; Compose&lt;TSource, TIntermediate, TResult&gt;(\n    this Expression&lt;Func&lt;TSource, TIntermediate&gt;&gt; first,\n    Expression&lt;Func&lt;TIntermediate, TResult&gt;&gt; second)\n{\n    var param = Expression.Parameter(typeof(TSource));\n    var intermediateValue = first.Body.ReplaceParameter(first.Parameters[0], param);\n    var body = second.Body.ReplaceParameter(second.Parameters[0], intermediateValue);\n    return Expression.Lambda&lt;Func&lt;TSource, TResult&gt;&gt;(body, param);\n}\npublic static Expression ReplaceParameter(this Expression expression,\n    ParameterExpression toReplace,\n    Expression newExpression)\n{\n    return new ParameterReplaceVisitor(toReplace, newExpression)\n        .Visit(expression);\n}\npublic class ParameterReplaceVisitor : ExpressionVisitor\n{\n    private ParameterExpression from;\n    private Expression to;\n    public ParameterReplaceVisitor(ParameterExpression from, Expression to)\n    {\n        this.from = from;\n        this.to = to;\n    }\n    protected override Expression VisitParameter(ParameterExpression node)\n    {\n        return node == from ? to : base.Visit(node);\n    }\n}\n</code></pre>\n\n<p>To Or N predicates together is a very similar process, just done for more than two  values at once:</p>\n\n<pre><code>public static Expression&lt;Func&lt;T, bool&gt;&gt; OrAll&lt;T&gt;(IEnumerable&lt;Expression&lt;Func&lt;T, bool&gt;&gt;&gt; predicates)\n{\n    var parameter = Expression.Parameter(typeof(T));\n    var newBody = predicates.Select(predicate =&gt; predicate.Body.ReplaceParameter(predicate.Parameters[0], parameter))\n        .DefaultIfEmpty(Expression.Constant(false))\n        .Aggregate((a, b) =&gt; Expression.OrElse(a, b));\n    return Expression.Lambda&lt;Func&lt;T, bool&gt;&gt;(newBody, parameter);\n}\n</code></pre>\n"}], "owner": {"reputation": 496, "user_id": 5339696, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10207233168285517/picture?type=large", "display_name": "NuclearProgrammer", "link": "https://stackoverflow.com/users/5339696/nuclearprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 844, "favorite_count": 0, "accepted_answer_id": 52084047, "answer_count": 1, "score": 0, "last_activity_date": 1535580221, "creation_date": 1535565691, "last_edit_date": 1535580221, "question_id": 52083645, "link": "https://stackoverflow.com/questions/52083645/calling-contains-on-the-output-of-a-expressionfunct-string", "title": "Calling .Contains on the output of a Expression&lt;Func&lt;T,string&gt;&gt;", "body": "<p>I am wanting to implement the following method</p>\n\n<pre><code>public static class Filters\n{\n   public static Expression&lt;Func&lt;T,bool&gt;&gt; ContainsText&lt;T&gt;(\n      string text, params Expression&lt;Func&lt;T,string&gt;&gt;[] fields)\n   {\n       //..\n   }\n}\n</code></pre>\n\n<p>so that if I wanted to (for example) find anyone whose name contains \"Mark\" or whose dad's name contains \"Mark\", I can do something like this:</p>\n\n<pre><code>var textFilter = Filters.ContainsText&lt;Individual&gt;(\"Mark\", i=&gt;i.FirstName, i=&gt;i.LastName, i=&gt;i.Father.FirstName, i =&gt; i.Father.LastName);\nvar searchResults = _context.Individuals.Where(textFilter).ToList();\n</code></pre>\n\n<p>My end goal is to be able to create a <code>ContainsTextSpecification</code> to simplify text-based filtering that I can use like so:</p>\n\n<pre><code>var textSpec = new ContainsTextSpecification&lt;Individual&gt;(i=&gt;i.FirstName, i=&gt; i.LastName, i=&gt;i.DepartmentName, i=&gt;i.SSN, i=&gt;i.BadgeNumber);\ntextSpec.Text = FormValues[\"filter\"];\nvar results = individuals.Find(textSpec);\n</code></pre>\n\n<hr>\n\n<p>I found something that gets me <em>close</em> to what I want <a href=\"https://stackoverflow.com/questions/278684/how-do-i-create-an-expression-tree-to-represent-string-containsterm-in-c\">here</a>, but I want to be able to specify the fields I want to filter by using a <code>Func&lt;T,string&gt;</code> rather than just the name of the field. (<strong>edit: I want to be able to specify the -values- that will be checked, not the name of the fields</strong>) </p>\n\n<pre><code>static Expression&lt;Func&lt;T, bool&gt;&gt; GetExpression&lt;T&gt;(string propertyName, string propertyValue)\n{\n    var parameterExp = Expression.Parameter(typeof(T), \"type\");\n    var propertyExp = Expression.Property(parameterExp, propertyName);\n    MethodInfo method = typeof(string).GetMethod(\"Contains\", new[] { typeof(string) });\n    var someValue = Expression.Constant(propertyValue, typeof(string));\n    var containsMethodExp = Expression.Call(propertyExp, method, someValue);\n\n    return Expression.Lambda&lt;Func&lt;T, bool&gt;&gt;(containsMethodExp, parameterExp);\n}\nvar results = individualRepo.Get(textSpec);\n</code></pre>\n"}, {"tags": ["c#", "xml"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 9011182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2de3629c0e150a05eb089999d07559dd?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun", "link": "https://stackoverflow.com/users/9011182/shaun"}, "edited": false, "score": 0, "creation_date": 1535566574, "post_id": 52083712, "comment_id": 91117921, "body": "Hi @Selman, it did work! Woow. I did not think you can do that! Thank you very much for your help!"}], "tags": [], "owner": {"reputation": 93997, "user_id": 3010968, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5c9bc5babd6d3ceafcc3f95fbdd5b313?s=128&d=identicon&r=PG&f=1", "display_name": "Selman Gen&#231;", "link": "https://stackoverflow.com/users/3010968/selman-gen%c3%a7"}, "is_accepted": true, "score": 2, "last_activity_date": 1535566018, "creation_date": 1535566018, "answer_id": 52083712, "question_id": 52083613, "link": "https://stackoverflow.com/questions/52083613/add-multiple-nodes-using-xmldocument-c-xml/52083712#52083712", "title": "Add multiple nodes using XMLDocument C# xml", "body": "<p>You can replace the loop with LINQ:</p>\n\n<pre><code>XDocument xDocument = new XDocument(\nnew XDeclaration(\"1.0\", \"UTF-8\", null),\n  new XElement(\"Request\",\n    new XElement(\"Operation\", \"Testing\"),\n    new XElement(\"Count\",\"2\"),                               \n    new XElement(\"Params\", invoices.Select(x =&gt;\n      new XElement(\"Invoice\",\n        new XElement(\"Field\",\n          new XAttribute(\"name\",\"CustomerNo\"),\n          new XAttribute(\"value\",\"10000\")),\n        new XElement(\"Field\",\n          new XAttribute(\"name\",\"Email\"),\n          new XAttribute(\"value\",\"testemail@yahoo.com\")),\n        new XElement(\"Field\",\n          new XAttribute(\"name\",\"Invoice\"),\n          new XAttribute(\"value\",x)))))));  \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 9011182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2de3629c0e150a05eb089999d07559dd?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun", "link": "https://stackoverflow.com/users/9011182/shaun"}, "edited": false, "score": 0, "creation_date": 1535650063, "post_id": 52091022, "comment_id": 91155833, "body": "Hi @ManishM, this is an alternative solution to the problem! Thank you!"}], "tags": [], "owner": {"reputation": 503, "user_id": 10245045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ef6199c23c195dfbfcb924fcf165abb?s=128&d=identicon&r=PG&f=1", "display_name": "ManishM", "link": "https://stackoverflow.com/users/10245045/manishm"}, "is_accepted": false, "score": 2, "last_activity_date": 1535612635, "creation_date": 1535612635, "answer_id": 52091022, "question_id": 52083613, "link": "https://stackoverflow.com/questions/52083613/add-multiple-nodes-using-xmldocument-c-xml/52091022#52091022", "title": "Add multiple nodes using XMLDocument C# xml", "body": "<p>Issue is that you are iterating the complete document in the loop</p>\n\n<pre><code>int[] invoice = new int[] {1002,1003};\nList&lt;XElement&gt; eleList = new List&lt;XElement&gt;();\n\nforeach (int i in invoice)\n{\n  eleList.Add(\n            new XElement(\"Invoice\",\n            new XElement(\"Field\",\n              new XAttribute(\"name\",\"CustomerNo\"),\n              new XAttribute(\"value\",\"10000\")),\n            new XElement(\"Field\",\n              new XAttribute(\"name\",\"Email\"),\n              new XAttribute(\"value\",\"testemail@yahoo.com\")),\n            new XElement(\"Field\",\n              new XAttribute(\"name\",\"Invoice\"),\n              new XAttribute(\"value\",i)))\n   );\n}\n\nXDocument xDocument = new XDocument(\n    new XDeclaration(\"1.0\", \"UTF-8\", null),\n      new XElement(\"Request\",\n        new XElement(\"Operation\", \"Testing\"),\n        new XElement(\"Count\",\"2\"),                               \n        new XElement(\"Params\", eleList)));\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 9011182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2de3629c0e150a05eb089999d07559dd?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun", "link": "https://stackoverflow.com/users/9011182/shaun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 1, "accepted_answer_id": 52083712, "answer_count": 2, "score": 2, "last_activity_date": 1535612635, "creation_date": 1535565578, "last_edit_date": 1535566012, "question_id": 52083613, "link": "https://stackoverflow.com/questions/52083613/add-multiple-nodes-using-xmldocument-c-xml", "title": "Add multiple nodes using XMLDocument C# xml", "body": "<p>I am trying to add multiple element/node (Invoice node) in my XML.  </p>\n\n<p>Here is the xml structure: (Required Output)</p>\n\n<pre><code>&lt;Request&gt;\n   &lt;Operation&gt;Testing&lt;/Operation&gt;\n   &lt;Count&gt;2&lt;/Count&gt;\n   &lt;Params&gt;\n      &lt;Invoice&gt;     \n        &lt;field name=\"CustomerNo\" value=\"20000\" /&gt;\n        &lt;field name=\"Email\" value=\"test2@yahoo.com\" /&gt;\n        &lt;field name=\"Invoice\" value=\"12345\" /&gt;\n      &lt;/Invoice&gt;\n      &lt;Invoice&gt;     \n        &lt;field name=\"CustomerNo\" value=\"10000\" /&gt;\n        &lt;field name=\"Email\" value=\"test1@yahoo.com\" /&gt;\n        &lt;field name=\"Invoice\" value=\"54321\" /&gt;\n       &lt;/Invoice&gt;\n   &lt;/Params&gt;\n&lt;/Request&gt;\n</code></pre>\n\n<p>Here is my code</p>\n\n<pre><code>int[] invoice = new int[] {1002,1003};\nforeach (int i in invoice)\n{\n  XDocument xDocument = new XDocument(\n    new XDeclaration(\"1.0\", \"UTF-8\", null),\n      new XElement(\"Request\",\n        new XElement(\"Operation\", \"Testing\"),\n        new XElement(\"Count\",\"2\"),                               \n        new XElement(\"Params\",\n          new XElement(\"Invoice\",\n            new XElement(\"Field\",\n              new XAttribute(\"name\",\"CustomerNo\"),\n              new XAttribute(\"value\",\"10000\")),\n            new XElement(\"Field\",\n              new XAttribute(\"name\",\"Email\"),\n              new XAttribute(\"value\",\"testemail@yahoo.com\")),\n            new XElement(\"Field\",\n              new XAttribute(\"name\",\"Invoice\"),\n              new XAttribute(\"value\",i))))));   \n   Console.WriteLine(xDocument);\n}\n</code></pre>\n\n<p>The code above generates this:</p>\n\n<pre><code>&lt;Request&gt;\n  &lt;Operation&gt;Testing&lt;/Operation&gt;\n  &lt;Count&gt;2&lt;/Count&gt;\n  &lt;Params&gt;\n    &lt;Invoice&gt;\n      &lt;Field name=\"CustomerNo\" value=\"10000\" /&gt;\n      &lt;Field name=\"Email\" value=\"testemail@yahoo.com\" /&gt;\n      &lt;Field name=\"Invoice\" value=\"1002\" /&gt;\n    &lt;/Invoice&gt;\n  &lt;/Params&gt;\n&lt;/Request&gt;\n&lt;Request&gt;\n  &lt;Operation&gt;Testing&lt;/Operation&gt;\n  &lt;Count&gt;2&lt;/Count&gt;\n  &lt;Params&gt;\n    &lt;Invoice&gt;\n      &lt;Field name=\"CustomerNo\" value=\"10000\" /&gt;\n      &lt;Field name=\"Email\" value=\"testemail@yahoo.com\" /&gt;\n      &lt;Field name=\"Invoice\" value=\"1003\" /&gt;\n    &lt;/Invoice&gt;\n  &lt;/Params&gt;\n&lt;/Request&gt;\n</code></pre>\n\n<p>I just want to loop the Invoice node part based on how many number of invoice in my array. I know I'm looping the entire structure of my XML, but I cannot find a way to insert my loop inside the XMLDocument. </p>\n\n<p>Any help will be appreciated! </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "linq"], "answers": [{"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": true, "score": 1, "last_activity_date": 1535566733, "creation_date": 1535566733, "answer_id": 52083871, "question_id": 52083602, "link": "https://stackoverflow.com/questions/52083602/linq-grab-top-left-corner-of-points-excluding-the-first-row-and-first-column/52083871#52083871", "title": "Linq grab top left corner of points,excluding the first row and first column", "body": "<p>If you group the points by one of the coordinates, you can then order and skip the entire first e.g. row and take the next row, order by the other coordinate and take the next to last point:</p>\n\n<pre><code>var topRightIn1 = points.GroupBy(p =&gt; p.Y).OrderBy(pg =&gt; pg.Key).Skip(1).First().OrderByDescending(p =&gt; p.X).Skip(1).First();\nvar topLeftIn1 = points.GroupBy(p =&gt; p.Y).OrderBy(pg =&gt; pg.Key).Skip(1).First().OrderBy(p =&gt; p.X).Skip(1).First();\n\nvar bottomRightIn1 = points.GroupBy(p =&gt; p.Y).OrderByDescending(pg =&gt; pg.Key).Skip(1).First().OrderByDescending(p =&gt; p.X).Skip(1).First();\nvar bottomLeftIn1 = points.GroupBy(p =&gt; p.Y).OrderByDescending(pg =&gt; pg.Key).Skip(1).First().OrderBy(p =&gt; p.X).Skip(1).First();\n</code></pre>\n\n<p>You could wrap this in a function that appends the <code>OrderBy</code> or <code>OrderByDescending</code> based on which corner you want, but I am not sure it is worth it.</p>\n"}, {"tags": [], "owner": {"reputation": 503, "user_id": 10245045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ef6199c23c195dfbfcb924fcf165abb?s=128&d=identicon&r=PG&f=1", "display_name": "ManishM", "link": "https://stackoverflow.com/users/10245045/manishm"}, "is_accepted": false, "score": 0, "last_activity_date": 1535613930, "creation_date": 1535613930, "answer_id": 52091382, "question_id": 52083602, "link": "https://stackoverflow.com/questions/52083602/linq-grab-top-left-corner-of-points-excluding-the-first-row-and-first-column/52091382#52091382", "title": "Linq grab top left corner of points,excluding the first row and first column", "body": "<p>To pick highest point use OrderByDescending\nTo pick lowest point use OrderBy\nTo pick 1 point less than highest point use OrderByDescending and Skip(1)\nTo pick 1 point higher than lowest point use OrderBy and Skip(1)</p>\n\n<p>For top right\nHighest X - 1, Lowest Y + 1</p>\n\n<pre><code>var topRightPoint = centerPoints.OrderByDescending(pnt =&gt; pnt.X).Skip(1).First().OrderBy(pnt =&gt; pnt.Y).Skip(1).First();\n</code></pre>\n\n<p>For top left\nLowest X + 1, Lowest Y + 1</p>\n\n<pre><code>var topLeftPoint = centerPoints.OrderBy(pnt =&gt; pnt.X).Skip(1).First().OrderBy(pnt =&gt; pnt.Y).Skip(1).First();\n</code></pre>\n\n<p>Similarly for bottom left and bottom right</p>\n"}], "owner": {"reputation": 812, "user_id": 1491812, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NrVEM.png?s=128&g=1", "display_name": "jsirr13", "link": "https://stackoverflow.com/users/1491812/jsirr13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 52083871, "answer_count": 2, "score": 1, "last_activity_date": 1535613930, "creation_date": 1535565538, "last_edit_date": 1535566119, "question_id": 52083602, "link": "https://stackoverflow.com/questions/52083602/linq-grab-top-left-corner-of-points-excluding-the-first-row-and-first-column", "title": "Linq grab top left corner of points,excluding the first row and first column", "body": "<p>I want to grab the top left and top right of a list of points. I can get the top left and top right like so:</p>\n\n<pre><code>var topRightPoint = points.OrderBy(pnt =&gt; pnt.Y).ThenByDescending(pnt =&gt; pnt.X).FirstOrDefault();\nvar topLeftPoint = points.OrderBy(pnt =&gt; pnt.X).ThenBy(pnt =&gt; pnt.Y).FirstOrDefault();\n</code></pre>\n\n<p>But what I want to grab is the points one row and one column in, as shown by \n the green circle points:\n<a href=\"https://i.stack.imgur.com/NARah.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NARah.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried doing skips after the orderby and after the thenbydescending/thenby, but it wasn't given the behavior I expected:</p>\n\n<pre><code>var topRightPoint = centerPoints.OrderBy(pnt =&gt; pnt.Y).Take(1).OrderBy(pnt =&gt; pnt.Y).ThenByDescending(pnt =&gt; pnt.X).Take(1).FirstOrDefault();\n</code></pre>\n\n<p>Also, I don't know how many rows or columns there are. All I'm given as input is an image.</p>\n\n<p>I also want the bottom left and bottom right, one col/row removed. So a generic solution that can work for any point is what I'm shooting for.</p>\n"}, {"tags": ["c#", "json.net"], "comments": [{"owner": {"reputation": 800, "user_id": 3254405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4cdHb.png?s=128&g=1", "display_name": "boateng", "link": "https://stackoverflow.com/users/3254405/boateng"}, "edited": false, "score": 1, "creation_date": 1535565823, "post_id": 52083586, "comment_id": 91117556, "body": "May be if use a constructor where you do this conditional initializing.."}, {"owner": {"reputation": 1721, "user_id": 9070959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3fc72be4dddc4ff4156a7d875912d67?s=128&d=identicon&r=PG&f=1", "display_name": "emsimpson92", "link": "https://stackoverflow.com/users/9070959/emsimpson92"}, "edited": false, "score": 0, "creation_date": 1535565856, "post_id": 52083586, "comment_id": 91117577, "body": "What&#39;s wrong with <code>B.PropertyName = (A == null) ? &quot;somevalue&quot; : &quot;someothervalue&quot;;</code> ?"}, {"owner": {"reputation": 93, "user_id": 4462798, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4989c3632982e94bbf02f0b199a7acfa?s=128&d=identicon&r=PG&f=1", "display_name": "mjones", "link": "https://stackoverflow.com/users/4462798/mjones"}, "reply_to_user": {"reputation": 1721, "user_id": 9070959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3fc72be4dddc4ff4156a7d875912d67?s=128&d=identicon&r=PG&f=1", "display_name": "emsimpson92", "link": "https://stackoverflow.com/users/9070959/emsimpson92"}, "edited": false, "score": 0, "creation_date": 1535567292, "post_id": 52083586, "comment_id": 91118240, "body": "@emsimpson92 is there something special I need to do to be able access the <code>PropertyName</code> of a property?"}, {"owner": {"reputation": 3268, "user_id": 9850970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/85lTf.png?s=128&g=1", "display_name": "Aldert", "link": "https://stackoverflow.com/users/9850970/aldert"}, "edited": false, "score": 0, "creation_date": 1535568872, "post_id": 52083586, "comment_id": 91118969, "body": "If you want to be that flexible on serialization i would not go with using a class and manipulate the class. Simlpy use jsonnewton."}, {"owner": {"reputation": 93, "user_id": 4462798, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4989c3632982e94bbf02f0b199a7acfa?s=128&d=identicon&r=PG&f=1", "display_name": "mjones", "link": "https://stackoverflow.com/users/4462798/mjones"}, "reply_to_user": {"reputation": 3268, "user_id": 9850970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/85lTf.png?s=128&g=1", "display_name": "Aldert", "link": "https://stackoverflow.com/users/9850970/aldert"}, "edited": false, "score": 0, "creation_date": 1535568943, "post_id": 52083586, "comment_id": 91118996, "body": "I would like to use Json.Net to achieve this @Aldert. Can you point me in the right direction to achieving this?"}], "owner": {"reputation": 93, "user_id": 4462798, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4989c3632982e94bbf02f0b199a7acfa?s=128&d=identicon&r=PG&f=1", "display_name": "mjones", "link": "https://stackoverflow.com/users/4462798/mjones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535565479, "creation_date": 1535565479, "question_id": 52083586, "link": "https://stackoverflow.com/questions/52083586/dynamically-change-property-name-for-serialization-based-on-value-of-another-pro", "title": "Dynamically change Property Name for serialization based on value of another property", "body": "<p>I know that you can dynamically choose to serialize a property in Json.Net by writing a <code>ShouldSerialize</code> method. Is it possible to dynamically change the <code>PropertyName</code> for serialization based on the value of another property?</p>\n\n<p>Let's say I have a class:</p>\n\n<pre><code>public class Example {\n    public int? A {get; set;}\n    public int B {get; set;\n}\n</code></pre>\n\n<p>If A is null I want the <code>PropertyName</code> of B to be a certain value, and if A is not null, then I want the <code>PropertyName</code> to be another value.</p>\n"}, {"tags": ["c#", "mergesort"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1535565645, "post_id": 52083556, "comment_id": 91117467, "body": "Why not start with a small array and use the debugger to step through your code so you can see what&#39;s happening?"}, {"owner": {"reputation": 3, "user_id": 9454159, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mason Hanna", "link": "https://stackoverflow.com/users/9454159/mason-hanna"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1535565846, "post_id": 52083556, "comment_id": 91117570, "body": "I&#39;ve been doing that. I forgot to snip out the Console.WriteLine &#39;s in my post, but i basically rran it through a bunch of randomly generated arrays which all LOOKED like the function was running the way I wanted it to, but it keeps giving me the initial array."}, {"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1535566522, "post_id": 52083556, "comment_id": 91117900, "body": "@MasonHanna Your <code>CopyTo</code> lines at the end of your <code>Merge()</code> method looks wrong. You are trying to copy the array which you already have added to the <code>middle</code> array. Or you start re-adding them to the beginning of the <code>middle</code> array.  It might be easier to use two normal <code>while</code> loops to copy the remaining numbers from one of the arrays."}, {"owner": {"reputation": 3, "user_id": 9454159, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mason Hanna", "link": "https://stackoverflow.com/users/9454159/mason-hanna"}, "reply_to_user": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1535568270, "post_id": 52083556, "comment_id": 91118694, "body": "@Progman Upon doing this, I&#39;ve now noticed that there is something wonky with my Split function where some items get dropped during the split... according to what it&#39;s printing anyway. Either something gets dropped or right becomes an array of 0&#39;s when it shouldn&#39;t."}, {"owner": {"reputation": 3, "user_id": 9454159, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mason Hanna", "link": "https://stackoverflow.com/users/9454159/mason-hanna"}, "edited": false, "score": 0, "creation_date": 1535572575, "post_id": 52083556, "comment_id": 91120574, "body": "so with the help of everyone here, i not only determined what was wrong, but also figured out why my printed array was always the same one. I reprinted the unsorted array instead of printing what would be the sorted array! I don&#39;t really know how to thank you guys, but maybe I&#39;ll post what I did and make that as my answer when I get back from work. Thank you very much everyone!"}], "answers": [{"tags": [], "owner": {"reputation": 565, "user_id": 6030487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qc1BL.png?s=128&g=1", "display_name": "MaxKlaxx", "link": "https://stackoverflow.com/users/6030487/maxklaxx"}, "is_accepted": true, "score": 0, "last_activity_date": 1535575479, "last_edit_date": 1535575479, "creation_date": 1535572502, "answer_id": 52085163, "question_id": 52083556, "link": "https://stackoverflow.com/questions/52083556/mergesort-implementation-returning-the-initial-unsorted-array/52085163#52085163", "title": "MergeSort() implementation returning the initial unsorted array", "body": "<p>Ok, I think the main bug, it was the functions with high.copyTo(...) and low.copyTo(...) with wrong indexing</p>\n\n<p>Here the complete source code (tested):</p>\n\n<pre><code>public static int[] MergeSort(int[] array)\n{\n  if (array.Length &lt;= 1)\n  {\n    return array;\n  }\n\n  Tuple&lt;int[], int[]&gt; p = SplitArray(array);\n\n  int[] left = MergeSort(p.Item1);\n  int[] right = MergeSort(p.Item2);\n\n  return Merge(left, right);\n}\n\npublic static int[] Merge(int[] low, int[] high)\n{\n  int[] middle = new int[low.Length + high.Length];\n  int count = 0;\n  foreach (int item in low)\n  {\n    Console.WriteLine(\"low: \" + item + ',');\n  }\n  foreach (int item in high)\n  {\n    Console.WriteLine(\"high: \" + item + ',');\n  }\n  int low_index = 0;\n  int high_index = 0;\n  while (low_index &lt; low.Length &amp;&amp; high_index &lt; high.Length)\n  {\n    if (low[low_index] &lt; high[high_index])\n    {\n      middle[count] = low[low_index];\n      low_index++;\n      count++;\n      Console.WriteLine(\"Low inserted.\");\n    }\n    else\n    {\n      middle[count] = high[high_index];\n      high_index++;\n      count++;\n      Console.WriteLine(\"High inserted.\");\n    }\n\n  }\n  if (low_index == low.Length)\n  {\n    for (; count &lt; middle.Length; count++)\n    {\n      middle[count] = high[high_index];\n      high_index++;\n    }\n\n    // alternate: Array.Copy(high, high_index, middle, count, middle.Length - count);\n  }\n  else\n  {\n    for (; count &lt; middle.Length; count++)\n    {\n      middle[count] = low[low_index];\n      low_index++;\n    }\n    // alternate: Array.Copy(low, low_index, middle, count, middle.Length - count);\n  }\n\n  return middle;\n}\n\npublic static Tuple&lt;int[], int[]&gt; SplitArray(int[] k)\n{\n  int half = k.Length / 2;\n  int[] a = new int[half];\n  int[] b = new int[k.Length - half];\n\n  int k_index = 0;\n\n  for (int i = 0; i &lt; a.Length; i++)\n  {\n    a[i] = k[k_index];\n    k_index++;\n  }\n\n  for (int i = 0; i &lt; b.Length; i++)\n  {\n    b[i] = k[k_index];\n    k_index++;\n  }\n\n  return new Tuple&lt;int[], int[]&gt;(a, b);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3268, "user_id": 9850970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/85lTf.png?s=128&g=1", "display_name": "Aldert", "link": "https://stackoverflow.com/users/9850970/aldert"}, "is_accepted": false, "score": 0, "last_activity_date": 1535573156, "creation_date": 1535573156, "answer_id": 52085324, "question_id": 52083556, "link": "https://stackoverflow.com/questions/52083556/mergesort-implementation-returning-the-initial-unsorted-array/52085324#52085324", "title": "MergeSort() implementation returning the initial unsorted array", "body": "<p>Here you go: Code was full of bugs, lenght of arrays did not match and you where overriding your middle array every time.</p>\n\n<pre><code>namespace MainClass\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            int[] array = { 3, 5, 15, 22, 12, 15, 23 };\n\n            int[] x = MergeSort(array);\n\n            foreach (int i in x)\n            {\n                Console.WriteLine(i);\n            }\n\n            Console.ReadKey();\n        }\n    public static int[] MergeSort(int[] array)\n    {\n        if (array.Length &lt;= 1)\n        {\n            return array;\n        }\n        (int[], int[]) p = SplitArray(array);\n        int[] left = MergeSort(p.Item1);\n        int[] right = MergeSort(p.Item2);\n        return Merge(left, right);\n\n\n    }\n\n\n\n    public static int[] Merge(int[] low, int[] high)\n    {\n        int[] middle = new int[(low.Length + high.Length)];\n        int count = 0;\n        foreach (int item in low)\n        {\n            Console.WriteLine(\"low: \" + item + ',');\n        }\n        foreach (int item in high)\n        {\n            Console.WriteLine(\"high: \" + item + ',');\n        }\n        int low_index = 0;\n        int high_index = 0;\n        while (low_index &lt; low.Length &amp;&amp; high_index &lt; high.Length)\n        {\n            if (low[low_index] &lt; high[high_index])\n            {\n                middle.SetValue(low[low_index], count);\n                low_index++;\n                count++;\n                Console.WriteLine(\"Low inserted.\");\n            }\n            else\n            {\n                middle.SetValue(high[high_index], count);\n                high_index++;\n                count++;\n                Console.WriteLine(\"High inserted.\");\n            }\n\n        }\n        while (high_index &lt; high.Length)\n        {\n            middle[low_index + high_index] = high[high_index++];\n        }\n        while (low_index &lt; low.Length)\n        {\n            middle[low_index + high_index] = low[low_index++];\n        }\n\n        return middle;\n    }\n\n\n    public static (int[], int[]) SplitArray(int[] k)\n    {\n        int[] a = new int[((k.Length + 1) / 2)];\n        int[] b = new int[(k.Length / 2)];\n\n        for (int i = 0; i &lt; a.Length; i++)\n        {\n            a[i] = k[i];\n        }\n        for (int i = 0; i &lt; b.Length; i++)\n        {\n            b[i] = k[i + a.Length];\n        }\n        return (a, b);\n\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9454159, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mason Hanna", "link": "https://stackoverflow.com/users/9454159/mason-hanna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 52085163, "answer_count": 2, "score": 0, "last_activity_date": 1535575479, "creation_date": 1535565375, "last_edit_date": 1535568919, "question_id": 52083556, "link": "https://stackoverflow.com/questions/52083556/mergesort-implementation-returning-the-initial-unsorted-array", "title": "MergeSort() implementation returning the initial unsorted array", "body": "<p>Every time I run this it returns an unsorted array. I've placed some code to signal me where things are and are not happening, but it LOOKS and SEEMS like everything works fine, yet it won't actually sort anything. </p>\n\n<pre><code> public static int[] MergeSort(int[] array)\n    {\n        if(array.Length &lt;= 1)\n        {\n            return array;\n        }\n        (int[], int[]) p = SplitArray(array);\n        int[] left = MergeSort(p.Item1);\n        int[] right = MergeSort(p.Item2);\n        return Merge(left, right);\n\n\n    }\n\n\n\n    public static int[] Merge(int[] low, int[] high)\n    {\n        int[] middle = new int[(low.Length + high.Length + 1)];\n        int count = 0;\n        foreach (int item in low)\n        {\n            Console.WriteLine(\"low: \" + item + ',');\n        }\n        foreach (int item in high)\n        {\n            Console.WriteLine(\"high: \" + item + ',');\n        }\n        int low_index = 0;\n        int high_index = 0;\n        while (low_index &lt; low.Length &amp;&amp; high_index &lt; high.Length)\n        {\n            if(low[low_index] &lt; high[high_index])\n            {\n                middle.SetValue(low[low_index], count);\n                low_index++;\n                count++;\n                Console.WriteLine(\"Low inserted.\");\n            }\n            else\n            {\n                middle.SetValue(high[high_index], count);\n                high_index++;\n                count++;\n                Console.WriteLine(\"High inserted.\");\n            }\n\n        }\n        if (low_index == low.Length)\n        {\n            high.CopyTo(middle, high_index);\n        }\n        else\n        {\n            low.CopyTo(middle, low_index);\n        }\n\n        return middle;\n    }\n\n\n    public static (int[], int[]) SplitArray(int[] k)\n    {\n        int MAXINDEX = k.Length - 1;\n        int count = 0;\n        int[] a = new int[(MAXINDEX / 2)];\n        int[] b = new int[(MAXINDEX / 2)];\n\n        for (int i = 0; i &lt; (MAXINDEX / 2); i++)\n        {\n            a[i] = k[i];\n        }\n        for (int i = ((MAXINDEX / 2) + 1); i &lt; MAXINDEX; i++)\n        {\n            b[count] = k[i];\n            count++;\n\n        }\n        return (a, b);\n\n    }\n</code></pre>\n\n<p>I have no idea where I am going wrong here. I might just be overlooking something from being very tired every time I come back to this. I basically print out a bunch of things that SHOULD be happening using the console and it all seems correct, and I am losing my mind.</p>\n"}, {"tags": ["c#", "botframework", "bots"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 4718109, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10155404551780173/picture?type=large", "display_name": "Loai Tayem", "link": "https://stackoverflow.com/users/4718109/loai-tayem"}, "edited": false, "score": 0, "creation_date": 1535571659, "post_id": 52083772, "comment_id": 91120169, "body": "I have tried using FlushAsync but when I use it inside the Message Activity it works fine but not inside Event Activity"}, {"owner": {"reputation": 681, "user_id": 7965132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f89e66eda7084832fc343103ee0393f?s=128&d=identicon&r=PG&f=1", "display_name": "Ed Boykin", "link": "https://stackoverflow.com/users/7965132/ed-boykin"}, "reply_to_user": {"reputation": 61, "user_id": 4718109, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10155404551780173/picture?type=large", "display_name": "Loai Tayem", "link": "https://stackoverflow.com/users/4718109/loai-tayem"}, "edited": false, "score": 1, "creation_date": 1535577657, "post_id": 52083772, "comment_id": 91122783, "body": "Can you describe how are you firing the event activity?"}], "tags": [], "owner": {"reputation": 681, "user_id": 7965132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f89e66eda7084832fc343103ee0393f?s=128&d=identicon&r=PG&f=1", "display_name": "Ed Boykin", "link": "https://stackoverflow.com/users/7965132/ed-boykin"}, "is_accepted": false, "score": 0, "last_activity_date": 1535566322, "creation_date": 1535566322, "answer_id": 52083772, "question_id": 52083525, "link": "https://stackoverflow.com/questions/52083525/bot-framework-using-in-memory-store-from-activity-event/52083772#52083772", "title": "Bot Framework Using in memory store from Activity Event", "body": "<p>You need to also flush the dataStore after your call to botDataStore.SaveAsync\nusing:</p>\n\n<pre><code>await _botDataStore.FlushAsync(key, CancellationToken.None);\n</code></pre>\n\n<p>My understanding is that SaveAysn only writes the change to a local cache of the the data store, local in the context of the MessageController. When you call the FlushAsync method it actually 'flushes' those changes out to the bot datastore.</p>\n"}, {"tags": [], "owner": {"reputation": 21271, "user_id": 6751634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kjSAI.jpg?s=128&g=1", "display_name": "Fei Han", "link": "https://stackoverflow.com/users/6751634/fei-han"}, "is_accepted": false, "score": 1, "last_activity_date": 1535680303, "last_edit_date": 1535680303, "creation_date": 1535608611, "answer_id": 52090051, "question_id": 52083525, "link": "https://stackoverflow.com/questions/52083525/bot-framework-using-in-memory-store-from-activity-event/52090051#52090051", "title": "Bot Framework Using in memory store from Activity Event", "body": "<p>Before you get state data in your <code>RootDialog</code>, please make sure the code snippet for saving state data that you defined in <code>MessagesController</code> is executed.</p>\n\n<p>I do a test based on the code that you provided, and I send an <code>Event</code> activity from my webchat client, like below:</p>\n\n<pre><code>botConnection.postActivity({\n    type: 'event',\n    from: userinfo,\n}).subscribe(function (id) { console.log('you send an event activity'); });\n</code></pre>\n\n<p>I can save and retrieve <strong><em>UserData</em></strong> as expected.</p>\n\n<p><a href=\"https://i.stack.imgur.com/AwTQd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AwTQd.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong><em>Note:</em></strong></p>\n\n<p>In-memory data storage is intended for testing only. For performance and security reasons in the production environment, you can store state data in Azure table storage or Azure Sql Server etc, or implement your own data storage.</p>\n\n<p><strong><em>Update:</em></strong></p>\n\n<ul>\n<li><p><strong>UserData</strong>: The data that the user has previously saved will be only available to that specified user.</p></li>\n<li><p><strong>ConversationData</strong>: The persisted data will be available to all the users within the same conversation.</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 21271, "user_id": 6751634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kjSAI.jpg?s=128&g=1", "display_name": "Fei Han", "link": "https://stackoverflow.com/users/6751634/fei-han"}, "edited": false, "score": 0, "creation_date": 1535680395, "post_id": 52098422, "comment_id": 91165751, "body": "Please check the updates in my reply to know/compare <code>UserData</code> and <code>ConversationData</code>."}], "tags": [], "owner": {"reputation": 61, "user_id": 4718109, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10155404551780173/picture?type=large", "display_name": "Loai Tayem", "link": "https://stackoverflow.com/users/4718109/loai-tayem"}, "is_accepted": true, "score": 0, "last_activity_date": 1535636094, "creation_date": 1535636094, "answer_id": 52098422, "question_id": 52083525, "link": "https://stackoverflow.com/questions/52083525/bot-framework-using-in-memory-store-from-activity-event/52098422#52098422", "title": "Bot Framework Using in memory store from Activity Event", "body": "<p>I was able to solve this, when using user data inside event activity, the data is being stored inside the user which is the one who sent the event activity, the solution is to use conversation data instead.</p>\n"}], "owner": {"reputation": 61, "user_id": 4718109, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10155404551780173/picture?type=large", "display_name": "Loai Tayem", "link": "https://stackoverflow.com/users/4718109/loai-tayem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "accepted_answer_id": 52098422, "answer_count": 3, "score": 0, "last_activity_date": 1535680303, "creation_date": 1535565252, "last_edit_date": 1535571690, "question_id": 52083525, "link": "https://stackoverflow.com/questions/52083525/bot-framework-using-in-memory-store-from-activity-event", "title": "Bot Framework Using in memory store from Activity Event", "body": "<p>Trying to store data from ActivityTypes.Event but when trying to access it from the Rootdialog its empty. When I move the code inside ActivityTypes.Event it works fine.</p>\n\n<p>Message Controller:</p>\n\n<pre><code>   if (activity.Type == ActivityTypes.Event)\n     {        \n        using (var scope = DialogModule.BeginLifetimeScope(Conversation.Container, activity))\n        {\n            var botDataStore = scope.Resolve&lt;IBotDataStore&lt;BotData&gt;&gt;();\n            var key = Address.FromActivity(activity);\n\n            var userData = await botDataStore.LoadAsync(key, BotStoreType.BotUserData, CancellationToken.None);\n\n            //set state data\n            userData.SetProperty(\"key 1\", \"value1\");\n            //get state data\n            userData.GetProperty&lt;string&gt;(\"key 1\");\n\n            await botDataStore.SaveAsync(key, BotStoreType.BotUserData, userData, CancellationToken.None);\n            await botDataStore.FlushAsync(Key, CancellationToken.None);\n\n        }}\n       if (activity.Type == ActivityTypes.Message)\n     {     \n\n                    await Typing.SendTyping(activity);\n                    await Task.Delay(TimeSpan.FromSeconds(2));\n                    await Conversation.SendAsync(activity, () =&gt; new RootDialog());\n     }\n</code></pre>\n\n<p>RootDialog:</p>\n\n<pre><code>    public async Task MessageReceivedAsync(IDialogContext context, IAwaitable&lt;IMessageActivity&gt; argument)\n        {\n            var activity = await argument as Activity;\n            string s; \n            context.UserData.TryGetValue&lt;string&gt;(\"key 1\", out s);\n            await context.PostAsync(s);\n        }\n</code></pre>\n"}, {"tags": ["c#", "google-api", "dialogflow-es"], "comments": [{"owner": {"reputation": 176, "user_id": 4935077, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a2c_RfNtnBE/AAAAAAAAAAI/AAAAAAAAEDU/OukJ2yn8_-k/photo.jpg?sz=128", "display_name": "Remy Burney", "link": "https://stackoverflow.com/users/4935077/remy-burney"}, "edited": false, "score": 0, "creation_date": 1553040797, "post_id": 52083499, "comment_id": 97236069, "body": "Hi, I&#39;m trying to do something similar. Do you mind sharing some screenshot for dialogflow for me to understand how you use the context parameters and the other query parameters like &quot;GeoLocation&quot; in your intent."}, {"owner": {"reputation": 101, "user_id": 5041099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e1cf460db88bab07185e66a08ec3b58?s=128&d=identicon&r=PG", "display_name": "Chris Christopher", "link": "https://stackoverflow.com/users/5041099/chris-christopher"}, "reply_to_user": {"reputation": 176, "user_id": 4935077, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a2c_RfNtnBE/AAAAAAAAAAI/AAAAAAAAEDU/OukJ2yn8_-k/photo.jpg?sz=128", "display_name": "Remy Burney", "link": "https://stackoverflow.com/users/4935077/remy-burney"}, "edited": false, "score": 0, "creation_date": 1556222579, "post_id": 52083499, "comment_id": 98375062, "body": "@RemyBurney The most basic way I&#39;m using it is to add the user&#39;s name in the intent responses."}], "owner": {"reputation": 101, "user_id": 5041099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e1cf460db88bab07185e66a08ec3b58?s=128&d=identicon&r=PG", "display_name": "Chris Christopher", "link": "https://stackoverflow.com/users/5041099/chris-christopher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2259, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1556222743, "creation_date": 1535565127, "last_edit_date": 1556222743, "question_id": 52083499, "link": "https://stackoverflow.com/questions/52083499/making-dialogflow-v2-detectintent-calls-w-c-including-input-context", "title": "Making DialogFlow v2 DetectIntent Calls w/ C# (including input context)", "body": "<p>So I finally figured out a way to successfully make detect intent calls and provide an input context.  My question is whether or not this is the <strong>CORRECT</strong> <strong><em>(or best)</em></strong> way to do it:</p>\n\n<p><em>(And yes, I know you can just call DetectIntent(agent, session, query) but I have to provide a input context(s) depending on the request)</em></p>\n\n<pre><code>var query = new QueryInput\n    {\n    Text = new TextInput\n    {\n        Text = model.Content,\n        LanguageCode = string.IsNullOrEmpty(model.Language) ? \"en-us\" : model.Language,\n    }\n};\n\nvar commonContext = new global::Google.Cloud.Dialogflow.V2.Context\n{\n    ContextName = new ContextName(agent, model.sessionId, \"my-input-context-data\"),\n    LifespanCount = 3,\n    Parameters = new Struct\n    {\n        Fields = {\n            { \"Source\", Value.ForString(model.Source) },\n            { \"UserId\" , Value.ForString(model.UserId.ToString())},\n            { \"Name\" , Value.ForString(model.FirstName)}\n        }\n    }\n};      \n\nvar request = new DetectIntentRequest\n{\n    SessionAsSessionName = new SessionName(agent, model.sessionId),\n    QueryParams = new QueryParameters\n    {\n        GeoLocation = new LatLng {Latitude = model.Latitude, Longitude = model.Longitude},\n        TimeZone = model.TimeZone ?? \"MST\"\n    },\n    QueryInput = query\n};\nrequest.QueryParams.Contexts.Add(commonContext);\n\n\n// ------------\n\nvar creds = GetGoogleCredentials(\"myCredentials.json\");\nvar channel = new Grpc.Core.Channel(SessionsClient.DefaultEndpoint.Host, creds.ToChannelCredentials());\nvar client = SessionsClient.Create(channel);\n\nvar response = client.DetectIntent(request);\n\nchannel.ShutdownAsync();\n\nreturn response;\n</code></pre>\n\n<p><em>Note: I included the explicit <code>ShutDownAsync</code> (it's not in an async call) because I was getting some file locking issues when attempting to re-deploy the WebAPI project (and only after having executed this code).</em> </p>\n\n<p>Thanks\nChris</p>\n\n<p><strong>Updated 4/25:</strong>  The most basic way I use this is to integrate the user's name into intent responses:\n<a href=\"https://i.stack.imgur.com/WB66j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WB66j.png\" alt=\"Intent response example\"></a></p>\n\n<p>It can also be read from within the webhook/inline fulfillment index.js:</p>\n\n<pre><code>const name = request.body.queryResult &amp;&amp; request.body.queryResult.outputContexts &amp;&amp; request.body.queryResult.outputContexts[0].parameters.Name\n</code></pre>\n"}, {"tags": ["c#", "logging", "log4net"], "comments": [{"owner": {"reputation": 3689, "user_id": 514087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AMg4p.jpg?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/514087/brian"}, "edited": false, "score": 0, "creation_date": 1535567944, "post_id": 52083438, "comment_id": 91118534, "body": "Where are you calling XmlConfigurator.Configure?  If that&#39;s not the problem, some of the answers in the linked question might help."}, {"owner": {"reputation": 3689, "user_id": 514087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AMg4p.jpg?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/514087/brian"}, "edited": false, "score": 0, "creation_date": 1535568167, "post_id": 52083438, "comment_id": 91118645, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3618380/log4net-does-not-write-the-log-file\">Log4net does not write the log file</a>"}], "owner": {"reputation": 565, "user_id": 4912134, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e2acf4f3d82de4ab30d4c9b982b2e7cf?s=128&d=identicon&r=PG&f=1", "display_name": "user4912134", "link": "https://stackoverflow.com/users/4912134/user4912134"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 364, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535564892, "creation_date": 1535564892, "question_id": 52083438, "link": "https://stackoverflow.com/questions/52083438/logging-in-to-file-is-not-working-using-log4net", "title": "Logging in to File is not working using log4net", "body": "<p>I am trying to use the log4net in my C# application for logging the exceptions. I have setup everything correctly but looks like I am missing something. Below is how I set up, ApiLogger class</p>\n\n<pre><code>public class ApiLogger\n{\npublic static log4net.ILog GetLogger([CallerFilePath]string filename = \"\")\n{\n    return log4net.LogManager.GetLogger(filename);\n }\n }\n</code></pre>\n\n<p>App.Config</p>\n\n<pre><code>&lt;log4net debug=\"true\"&gt;\n  &lt;appender name=\"ConsoleAppender\" type=\"log4net.Appender.ConsoleAppender\"&gt;\n  &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n   &lt;conversionPattern value=\"%date{ABSOLUTE} [%thread] %level - %message%newline%exception\"/&gt;\n   &lt;/layout&gt;\n  &lt;/appender&gt;\n  &lt;appender name=\"FileAppender\" type=\"log4net.Appender.RollingFileAppender\"&gt;\n     &lt;file value=\"C:\\tmp\\Logs\\JaxStrainMirror.log\"/&gt;\n     &lt;appendToFile value=\"true\"/&gt;\n     &lt;rollingStyle value=\"Size\"/&gt;\n     &lt;maxSizeRollBackups value=\"5\"/&gt;\n     &lt;maximumFileSize value=\"100KB\"/&gt;\n     &lt;staticLogFileName value=\"true\"/&gt;\n     &lt;lockingModel type=\"log4net.Appender.FileAppender+MinimalLock\"/&gt;\n     &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n     &lt;conversionPattern value=\"%date{ISO8601} [%thread] %level - %message%newline%exception\"/&gt;\n     &lt;/layout&gt;\n     &lt;/appender&gt;\n     &lt;root&gt;\n    &lt;level value=\"INFO\"/&gt;\n   &lt;appender-ref ref=\"ConsoleAppender\"/&gt;\n  &lt;appender-ref ref=\"FileAppender\"/&gt;\n  &lt;/root&gt;\n  &lt;/log4net&gt;\n</code></pre>\n\n<p>In the class</p>\n\n<p>class CoreOdataClient\n    {\n    static log4net.ILog logger = UpdateCoreStrains.ApiLogger.GetLogger();</p>\n\n<pre><code>public static HttpClient client = null;\n\nstatic async Task&lt;Uri&gt; CreateProductAsync(string path, JrNumber jr)\n{\n    .............           \n    HttpResponseMessage response = await client.PostAsync(path, content);\n    if (!response.IsSuccessStatusCode)\n        logger.Info(\"\\n Failed\");\n</code></pre>\n\n<p>But I dont see anything logged</p>\n\n<p><a href=\"https://i.stack.imgur.com/TTfQY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TTfQY.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "sql", ".net", "sqlite"], "comments": [{"owner": {"reputation": 186087, "user_id": 575376, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LnDUq.gif?s=128&g=1", "display_name": "juergen d", "link": "https://stackoverflow.com/users/575376/juergen-d"}, "edited": false, "score": 0, "creation_date": 1535564707, "post_id": 52083378, "comment_id": 91116983, "body": "Where did you get this syntax from?"}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "reply_to_user": {"reputation": 186087, "user_id": 575376, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LnDUq.gif?s=128&g=1", "display_name": "juergen d", "link": "https://stackoverflow.com/users/575376/juergen-d"}, "edited": false, "score": 0, "creation_date": 1535564735, "post_id": 52083378, "comment_id": 91116996, "body": "@juergend From the <a href=\"https://stackoverflow.com/questions/697004/bulk-load-data-into-sqlite\">linked question</a>."}, {"owner": {"reputation": 186087, "user_id": 575376, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LnDUq.gif?s=128&g=1", "display_name": "juergen d", "link": "https://stackoverflow.com/users/575376/juergen-d"}, "edited": false, "score": 2, "creation_date": 1535564819, "post_id": 52083378, "comment_id": 91117050, "body": "There is a difference in between running a console import command and running a query inside the DB."}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "reply_to_user": {"reputation": 186087, "user_id": 575376, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LnDUq.gif?s=128&g=1", "display_name": "juergen d", "link": "https://stackoverflow.com/users/575376/juergen-d"}, "edited": false, "score": 0, "creation_date": 1535564979, "post_id": 52083378, "comment_id": 91117139, "body": "@juergend Yes, I suspected that it was related to that somehow - is there a way to run this programmatically (or do I have to run it from the command line)?"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 1, "creation_date": 1535564988, "post_id": 52083378, "comment_id": 91117143, "body": "I think you are going to need to do it in 2 steps.  Import to a table using OleDB, then save using SQLite provider.  The NET provider doesnt have an import tool (AFAIK)"}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1535565076, "post_id": 52083378, "comment_id": 91117188, "body": "@Plutonix I was afraid of that :("}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1535565336, "post_id": 52083378, "comment_id": 91117325, "body": "@Plutonix Your comment could probably be made into an answer (since it appears that the answer to the question is &quot;no, there&#39;s not a way to do that&quot;)."}], "owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "closed_date": 1535566942, "answer_count": 0, "score": 0, "last_activity_date": 1535564649, "creation_date": 1535564649, "question_id": 52083378, "link": "https://stackoverflow.com/questions/52083378/syntax-error-when-trying-to-use-the-sqlite-import-command-programmatically", "closed_reason": "Duplicate", "title": "Syntax error when trying to use the SQLite .import command programmatically", "body": "<p>I tried the code in the answer to <a href=\"https://stackoverflow.com/questions/697004/bulk-load-data-into-sqlite\">this question</a>.</p>\n\n<p>I tried the following code:</p>\n\n<pre><code>   static void Main(string[] args)\n    {\n        System.IO.File.WriteAllLines(\"myFile.csv\",\n            new[]\n            {\n                \"a,b,c\",\n                \"1,2,3\",\n                \"4,5,6\",\n                \"7,8,9\"\n            });\n\n        const string cmd = @\"create table myTable(a text, b text, c text);\n                            .separator ','\n                            .import  myFile.csv myTable\";\n\n        using (var conn = new SQLiteConnection(\"Data Source=test.db;Version=3;\"))\n        {\n            conn.Open();\n\n            var cmdExec = new SQLiteCommand(cmd, conn);\n            cmdExec.ExecuteNonQuery();\n        }\n}\n</code></pre>\n\n<p>However, I get the following error:</p>\n\n<pre><code>SQL logic error\nnear \".\": syntax error\n</code></pre>\n\n<p>Stack trace:</p>\n\n<pre><code>System.Data.SQLite\nat System.Data.SQLite.SQLite3.Prepare(SQLiteConnection cnn, String strSql, SQLiteStatement previous, UInt32 timeoutMS, String&amp; strRemain)\n   at System.Data.SQLite.SQLiteCommand.BuildNextCommand()\n   at System.Data.SQLite.SQLiteCommand.GetStatement(Int32 index)\n   at System.Data.SQLite.SQLiteDataReader.NextResult()\n   at System.Data.SQLite.SQLiteDataReader..ctor(SQLiteCommand cmd, CommandBehavior behave)\n   at System.Data.SQLite.SQLiteCommand.ExecuteReader(CommandBehavior behavior)\n   at System.Data.SQLite.SQLiteCommand.ExecuteNonQuery(CommandBehavior behavior)\n   at System.Data.SQLite.SQLiteCommand.ExecuteNonQuery()\n   at Reporting_Testing_Facility.Program.Main(String[] args) in C:\\Users\\SUE2MTP\\Documents\\Visual Studio 2015\\Projects\\Reporting Testing Facility\\Reporting Testing Facility\\Program.cs:line 127\n   at System.AppDomain._nExecuteAssembly(RuntimeAssembly assembly, String[] args)\n   at System.AppDomain.ExecuteAssembly(String assemblyFile, Evidence assemblySecurity, String[] args)\n   at Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly()\n   at System.Threading.ThreadHelper.ThreadStart_Context(Object state)\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)\n   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)\n   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)\n   at System.Threading.ThreadHelper.ThreadStart()\n</code></pre>\n\n<p>Is there a way to fix this? Or can this command only be used from the command line?</p>\n"}, {"tags": ["c#", "asp.net", "regex"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 2, "creation_date": 1535564667, "post_id": 52083333, "comment_id": 91116960, "body": "Do you have to use Regex for this?  It can be much simpler without it.  Will the string always start with the <code>CN=</code> data?"}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1535564947, "post_id": 52083333, "comment_id": 91117114, "body": "What result do you expect for the string <code>OU=LaptopUser,CN=CN=CN=,,,</code>?"}, {"owner": {"reputation": 1703, "user_id": 1517782, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c7a638a6a1918b643f456fc8a3365238?s=128&d=identicon&r=PG", "display_name": "Y.S", "link": "https://stackoverflow.com/users/1517782/y-s"}, "edited": false, "score": 1, "creation_date": 1535565090, "post_id": 52083333, "comment_id": 91117197, "body": "you can use split (&quot;CN=Joseph Rod,OU=LaptopUser,OU=Users,DC=Company,DC=local&quot;.Split(&#39;=&#39;)[1&zwnj;&#8203;].Split(&#39;,&#39;)[0]);"}], "answers": [{"comments": [{"owner": {"reputation": 287, "user_id": 1916528, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/303b0a427abf8f0ab3cdb9a1b2aa54ca?s=128&d=identicon&r=PG", "display_name": "user1916528", "link": "https://stackoverflow.com/users/1916528/user1916528"}, "edited": false, "score": 1, "creation_date": 1535565996, "post_id": 52083459, "comment_id": 91117653, "body": "Thanks, this was exactly what I needed."}], "tags": [], "owner": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "is_accepted": true, "score": 2, "last_activity_date": 1535565381, "last_edit_date": 1535565381, "creation_date": 1535564984, "answer_id": 52083459, "question_id": 52083333, "link": "https://stackoverflow.com/questions/52083333/how-to-use-regex-in-c-to-remove-all-unwanted-characters-from-a-string/52083459#52083459", "title": "How to use regex in C# to remove all unwanted characters from a string?", "body": "<p>To remove the rest of the line as well</p>\n\n<pre><code>CN=([^,]*),.*$\n</code></pre>\n\n<p>and then replace with <code>$1</code>.</p>\n\n<p><a href=\"https://regex101.com/r/nwXwEb/1\" rel=\"nofollow noreferrer\">Regex Demo</a></p>\n\n<p>However, as already mentioned, you do not really need regex to achieve this. This will search for a string between the first <code>=</code> and the first <code>,</code>.</p>\n\n<pre><code>Console.WriteLine(input.Substring(input.IndexOf(\"=\") + 1, input.IndexOf(',') - (input.IndexOf(\"=\") + 1)));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "is_accepted": false, "score": 1, "last_activity_date": 1535565314, "last_edit_date": 1535565314, "creation_date": 1535564993, "answer_id": 52083461, "question_id": 52083333, "link": "https://stackoverflow.com/questions/52083333/how-to-use-regex-in-c-to-remove-all-unwanted-characters-from-a-string/52083461#52083461", "title": "How to use regex in C# to remove all unwanted characters from a string?", "body": "<p>If the string <em>always</em> starts with \"CN=\" you can get the data very easily with <code>string.Substring()</code>:</p>\n\n<pre><code>string input = \"CN=Joseph Rod,OU=LaptopUser,OU=Users,DC=Company,DC=local\";\n\n// take a string starting at 3rd index, going to the first comma\nConsole.WriteLine(input.Substring(3, input.IndexOf(',') - 3));\n\n//Output: \"Joseph Rod\"\n</code></pre>\n\n<p>If the string can start with anything but always sticks to the same pattern you can use <code>Split()</code> and some LINQ:</p>\n\n<pre><code>string input = \"OU=LaptopUser,CN=Joseph Rod,OU=Users,DC=Company,DC=local\";\nstring[] splitInput = input.Split(',');\nConsole.WriteLine(splitInput.FirstOrDefault(x =&gt; x.StartsWith(\"CN=\"))?.Substring(3));\n\n//Output: \"Joseph Rod\"\n</code></pre>\n\n<p>Fiddle for both <a href=\"https://dotnetfiddle.net/IvAvDy\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>This assumes a reasonable input of course.</p>\n"}], "owner": {"reputation": 287, "user_id": 1916528, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/303b0a427abf8f0ab3cdb9a1b2aa54ca?s=128&d=identicon&r=PG", "display_name": "user1916528", "link": "https://stackoverflow.com/users/1916528/user1916528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 52083459, "answer_count": 2, "score": 1, "last_activity_date": 1535565381, "creation_date": 1535564461, "question_id": 52083333, "link": "https://stackoverflow.com/questions/52083333/how-to-use-regex-in-c-to-remove-all-unwanted-characters-from-a-string", "title": "How to use regex in C# to remove all unwanted characters from a string?", "body": "<p>I have tried a solution offered here <a href=\"https://codereview.stackexchange.com/questions/121577/a-more-efficient-way-of-extracting-a-name-from-a-string\">Regex Code Review</a> but I can't seem to get it to work.  It's the same exact scenario that I'm dealing with.  I'm not familiar with regex yet, but I would like to use it to remove the characters \"CN=\" from a string, and then everything after the first comma in the string.  For example, </p>\n\n<blockquote>\n  <p>CN=Joseph Rod,OU=LaptopUser,OU=Users,DC=Company,DC=local</p>\n</blockquote>\n\n<p>becomes</p>\n\n<blockquote>\n  <p>Joseph Rod</p>\n</blockquote>\n\n<p>Code:</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n    {\n        DataTable dt = new DataTable();\n\n        dt.Columns.AddRange(new DataColumn[5]\n        {\n            new DataColumn(\"givenName\", typeof (string)),\n            new DataColumn(\"sn\", typeof (string)),\n            new DataColumn(\"mail\", typeof (string)),\n            new DataColumn(\"department\", typeof (string)),\n            new DataColumn(\"manager\", typeof (string))\n        });\n\n        using (var context = new PrincipalContext(ContextType.Domain, null))\n        {\n            using (var group = GroupPrincipal.FindByIdentity(context, \"Users\"))\n            {\n                var users = group.GetMembers(true);\n                foreach (UserPrincipal user in users)\n                {\n                    DirectoryEntry de = user.GetUnderlyingObject() as DirectoryEntry;\n                    dt.Rows.Add\n                    (\n                        Convert.ToString(de.Properties[\"givenName\"].Value),\n                        Convert.ToString(de.Properties[\"sn\"].Value),\n                        Convert.ToString(de.Properties[\"mail\"].Value),\n                        Convert.ToString(de.Properties[\"department\"].Value),\n                        Regex.Replace((Convert.ToString(de.Properties[\"manager\"].Value)), @\"CN=([^,]*),\", \"$1\")\n                    );\n                }\n                rgAdUsrs.DataSource = dt;\n                rgAdUsrs.DataBind();\n            }\n        }\n    }\n</code></pre>\n\n<p>My code however just removes \"CN=\" and the first comma.  I need everything from the first comma and to the right to be removed as well.</p>\n\n<p>Results of above code:</p>\n\n<blockquote>\n  <p>Joseph RodOU=LaptopUser,OU=Users,DC=Company,DC=local</p>\n</blockquote>\n\n<p>How can I modify the regex to remove the characters to the right of the comma as well?</p>\n"}, {"tags": ["c#", "generics", "autofac"], "answers": [{"tags": [], "owner": {"reputation": 20225, "user_id": 8116, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5b473ad19f5781cd5f17a65a670f3b37?s=128&d=identicon&r=PG", "display_name": "Travis Illig", "link": "https://stackoverflow.com/users/8116/travis-illig"}, "is_accepted": true, "score": 1, "last_activity_date": 1535579817, "creation_date": 1535579817, "answer_id": 52086616, "question_id": 52083283, "link": "https://stackoverflow.com/questions/52083283/autofac-registration-for-many-interface-implementations/52086616#52086616", "title": "Autofac registration for many interface implementations", "body": "<p>Try <code>AsClosedTypesOf</code> as <a href=\"https://autofac.readthedocs.io/en/latest/register/scanning.html\" rel=\"nofollow noreferrer\">noted in the documentation</a>.</p>\n\n<pre><code>builder.RegisterAssemblyTypes(Assembly.Load(\"Infrastructure.Repositories\"))\n       .AsClosedTypesOf(typeof(IUserDefinedRepository&lt;&gt;))\n       .InstancePerRequest();\n</code></pre>\n\n<p>Depending on what you are looking to do, you may need to add in a <code>Where</code> clause to filter the list of assembly types; and/or you may want to add an <code>AsImplementedInterfaces</code> if there are more interfaces or types you need registered.</p>\n\n<p>If there isn't enough flexibility in <code>RegisterAssemblyTypes</code> you can always iterate through the loaded set of types yourself using reflection and maybe combine that with some of the <a href=\"https://autofac.readthedocs.io/en/latest/register/registration.html#open-generic-components\" rel=\"nofollow noreferrer\">open generic registration support in Autofac</a>.</p>\n"}], "owner": {"reputation": 5009, "user_id": 1558155, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/a9eMS.jpg?s=128&g=1", "display_name": "XN16", "link": "https://stackoverflow.com/users/1558155/xn16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1197, "favorite_count": 0, "accepted_answer_id": 52086616, "answer_count": 1, "score": 1, "last_activity_date": 1535579817, "creation_date": 1535564212, "question_id": 52083283, "link": "https://stackoverflow.com/questions/52083283/autofac-registration-for-many-interface-implementations", "title": "Autofac registration for many interface implementations", "body": "<p>I have several implementations of an interface that I need to register in Autofac, however I'm having trouble figuring out a way to do them all together rather than individually as I have them at the moment:</p>\n\n<pre><code>builder.RegisterType&lt;UserDefinedRepository&lt;CType&gt;&gt;().As&lt;IUserDefinedRepository&lt;CType&gt;&gt;();\nbuilder.RegisterType&lt;UserDefinedRepository&lt;LType&gt;&gt;().As&lt;IUserDefinedRepository&lt;LType&gt;&gt;();\n</code></pre>\n\n<p>Both <code>CType</code> and <code>LType</code> have the same base type and the Type parameter of the Interface and class implementation have the restriction of the same type.</p>\n\n<p>I've read plenty of examples with Autofac implementation, but most seem too complex for what I'm trying to do and the documentation isn't very helpful (from my understanding of it anyway!).</p>\n\n<p>I already have registrations of all my other repositories which has been working well for years, but they all have concrete implementations of the interfaces:</p>\n\n<pre><code>var baseRepoType = typeof(InfraAbsRepos.IRepository);\nbuilder.RegisterAssemblyTypes(Assembly.Load(\"Infrastructure.Repositories\"))\n    .Where(t =&gt; baseRepoType.IsAssignableFrom(t))\n    .AsImplementedInterfaces()\n    .InstancePerRequest();\n</code></pre>\n"}, {"tags": ["c#", "multithreading", "parameter-passing"], "comments": [{"owner": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "edited": false, "score": 0, "creation_date": 1535566796, "post_id": 52083281, "comment_id": 91118025, "body": "You can&#39;t show popup dialog from another thread, you can only access UI elements in UI thread."}, {"owner": {"reputation": 41, "user_id": 9365607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a2524fada16ab9863ddbd5ff0f70b6?s=128&d=identicon&r=PG&f=1", "display_name": "BBoone", "link": "https://stackoverflow.com/users/9365607/bboone"}, "reply_to_user": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "edited": false, "score": 0, "creation_date": 1535572373, "post_id": 52083281, "comment_id": 91120494, "body": "Akash Kava, that was a big help. it is working now. thanks"}], "answers": [{"tags": [], "owner": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "is_accepted": false, "score": 0, "last_activity_date": 1535603418, "creation_date": 1535603418, "answer_id": 52089234, "question_id": 52083281, "link": "https://stackoverflow.com/questions/52083281/process-bar-in-popup-window/52089234#52089234", "title": "process bar in popup window", "body": "<p>You can't show popup dialog from another thread, you can only access UI elements in UI thread.</p>\n"}], "owner": {"reputation": 41, "user_id": 9365607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a2524fada16ab9863ddbd5ff0f70b6?s=128&d=identicon&r=PG&f=1", "display_name": "BBoone", "link": "https://stackoverflow.com/users/9365607/bboone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535603418, "creation_date": 1535564202, "last_edit_date": 1535565396, "question_id": 52083281, "link": "https://stackoverflow.com/questions/52083281/process-bar-in-popup-window", "title": "process bar in popup window", "body": "<p>ok I make a process bar and that works. now, I have it in a pop up window and I want it to update while some word is being done in another thread(not the main thread). Anyhow, I am trying to update the process using information from that other thread but it is not updating. I am using a for loop in the other thread and I am using the I so find what percent I have left to go.\nhere in my code:</p>\n\n<pre><code>void callPopUp()\n    {\n        new Thread(() =&gt; new PopUp().ShowDialog()).Start();\n\n    }\n   //___ other thread \n    bool running(int Baseline)\n    {\n\n        HomeMO();\n\n        tcClient.WriteAny(statenumber, Int16.Parse(\"11\"));\n        while ( state != 11)\n        {\n            Thread.Sleep(500);\n            tcClient.WriteAny(statenumber, Int16.Parse(\"11\"));\n        }\n        StepInfo step= get_StepInfo();\n        int point = step.Start_Step;\n        callPopUp();\n\n        stepPass = step.degress;\n        startStep = step.Start_Step;\n        stopStep = step.End_Step;\n        for ( int i =0; i &lt; step.runcount; i++)\n        {\n            try\n            {\n\n                callPopUp(i, step);\n              ...\n</code></pre>\n\n<p>now that is in my main form. here is the code in my popup form:</p>\n\n<pre><code>  private void t_Tick(object sender, EventArgs e)\n    {\n        // graphics \n        g = Graphics.FromImage(bmp);\n        // clear grapthic\n        g.Clear(Color.LightBlue);\n        //draw progressbar\n        g.FillRectangle(Brushes.CornflowerBlue, new Rectangle(0, 0,(int)(percent * pbUNit), (int)pbHEIGHT));\n        // draw % complete\n        g.DrawString(percent + \" %\", new Font(\"Arial\", (pbHEIGHT / 2F)), Brushes.Black, new PointF((pbWIDTH/2F)-20, (pbHEIGHT/2F)-20));\n\n        //load bitmap in picturebox\n        pictureBox1.Image = bmp;\n\n\n        if(percent &gt; 100)\n        {\n            // dispose\n            g.Dispose();\n            t.Stop();\n        }\n    }\n}\n</code></pre>\n\n<p>that is the timer that draws the process bar. but somehow the percent is not updating.\nhere is the whole form:</p>\n\n<pre><code> public partial class PopUp : Form\n{\n    Timer t = new Timer();\n    double pbUNit;\n    float pbWIDTH, pbHEIGHT, pbComplete;\n    Bitmap bmp;\n    Graphics g;\n    private int percent =0;\n    public string Title;\n\n    public int Percents\n    {\n        get { return percent; }\n        set { percent = value; }\n    }\n    public PopUp()\n    {\n        InitializeComponent();\n        this.Text = Title;\n    }\n\n    private void PopUp_Load(object sender, EventArgs e)\n    {\n\n        this.Text = Title;\n        pbWIDTH = pictureBox1.Width;\n        pbHEIGHT = pictureBox1.Height;\n        pbUNit = pbWIDTH / 100.0;\n        // pbComplete - this is equal to work completed in % [min = 0 max= 100]\n        pbComplete = 0;\n\n        bmp = new Bitmap((int)pbWIDTH, (int)pbHEIGHT);\n\n        //timer\n        t.Interval = 50;\n        t.Tick += new EventHandler(this.t_Tick);\n        t.Start();}\n</code></pre>\n\n<p>again this works good if I just put in a counter in the popup form. but it does not work when I send data to the popup window.\nit just stays at 0;</p>\n\n<p>also, I did try .show but then the  pop up form does come up, but I cannot see my process bar at all.</p>\n"}, {"tags": ["c#", "c++", "forms", "credential-providers", "unmanagedexports"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 10145818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac2a32adad3350a8a2fb359dc3f902ad?s=128&d=identicon&r=PG&f=1", "display_name": "js.hrt", "link": "https://stackoverflow.com/users/10145818/js-hrt"}, "edited": false, "score": 0, "creation_date": 1535623956, "post_id": 52089207, "comment_id": 91138924, "body": "Thanks. How should I pass the handle to C# code? Like, to receive string I am doing &quot;[MarshalAs(UnmanagedType.LPWStr)]string message&quot; in c#. How will I marshal the handle?"}, {"owner": {"reputation": 886, "user_id": 3868464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JnBN.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3868464/alexander"}, "reply_to_user": {"reputation": 141, "user_id": 10145818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac2a32adad3350a8a2fb359dc3f902ad?s=128&d=identicon&r=PG&f=1", "display_name": "js.hrt", "link": "https://stackoverflow.com/users/10145818/js-hrt"}, "edited": false, "score": 0, "creation_date": 1535636977, "post_id": 52089207, "comment_id": 91147812, "body": "You may pass <code>HWND</code> as <code>IntPtr</code> ant there convert it using   <code>public static System.Windows.Forms.NativeWindow FromHandle (IntPtr handle);</code>"}, {"owner": {"reputation": 886, "user_id": 3868464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JnBN.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3868464/alexander"}, "reply_to_user": {"reputation": 141, "user_id": 10145818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac2a32adad3350a8a2fb359dc3f902ad?s=128&d=identicon&r=PG&f=1", "display_name": "js.hrt", "link": "https://stackoverflow.com/users/10145818/js-hrt"}, "edited": false, "score": 0, "creation_date": 1535637216, "post_id": 52089207, "comment_id": 91148001, "body": "Have a look onto this <a href=\"https://stackoverflow.com/questions/2481835/convert-an-intptr-window-handle-to-iwin32window\">post</a>"}, {"owner": {"reputation": 141, "user_id": 10145818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac2a32adad3350a8a2fb359dc3f902ad?s=128&d=identicon&r=PG&f=1", "display_name": "js.hrt", "link": "https://stackoverflow.com/users/10145818/js-hrt"}, "edited": false, "score": 0, "creation_date": 1535642650, "post_id": 52089207, "comment_id": 91151814, "body": "Thank you so much. It is working now! I&#39;ll mark that answer. Thanks again"}, {"owner": {"reputation": 141, "user_id": 10145818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac2a32adad3350a8a2fb359dc3f902ad?s=128&d=identicon&r=PG&f=1", "display_name": "js.hrt", "link": "https://stackoverflow.com/users/10145818/js-hrt"}, "edited": false, "score": 0, "creation_date": 1535792601, "post_id": 52089207, "comment_id": 91203842, "body": "One thing more, if I use Show(owner) instead of ShowDialog(owner) so that the code moves forward after displaying the form, can this be done? Because when I do this, the form does not display properly (it becomes unclickable and hung)"}, {"owner": {"reputation": 886, "user_id": 3868464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JnBN.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3868464/alexander"}, "reply_to_user": {"reputation": 141, "user_id": 10145818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac2a32adad3350a8a2fb359dc3f902ad?s=128&d=identicon&r=PG&f=1", "display_name": "js.hrt", "link": "https://stackoverflow.com/users/10145818/js-hrt"}, "edited": false, "score": 0, "creation_date": 1538399256, "post_id": 52089207, "comment_id": 92118324, "body": "In this case you have to create separate thread and run your windows inside it. Main thread of logon UI thinks that you have finished your work and stops serving child windows."}], "tags": [], "owner": {"reputation": 886, "user_id": 3868464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JnBN.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3868464/alexander"}, "is_accepted": true, "score": 1, "last_activity_date": 1553873999, "last_edit_date": 1553873999, "creation_date": 1535603211, "answer_id": 52089207, "question_id": 52083206, "link": "https://stackoverflow.com/questions/52083206/form-not-displaying-in-credential-provider/52089207#52089207", "title": "Form not displaying in credential provider", "body": "<p>Try this out:</p>\n\n<p>Call <code>ICredentialProviderCredentialEvents::OnCreatingWindow</code> method </p>\n\n<pre><code>HRESULT OnCreatingWindow(\n    HWND *phwndOwner\n);\n</code></pre>\n\n<p>to get window handle, pass additional parameter into your library and use overloaded method <code>ShowDialog</code>. </p>\n\n<pre><code>public DialogResult ShowDialog(\n    IWin32Window owner\n);\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 10145818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac2a32adad3350a8a2fb359dc3f902ad?s=128&d=identicon&r=PG&f=1", "display_name": "js.hrt", "link": "https://stackoverflow.com/users/10145818/js-hrt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "accepted_answer_id": 52089207, "answer_count": 1, "score": 2, "last_activity_date": 1553873999, "creation_date": 1535563843, "last_edit_date": 1535564112, "question_id": 52083206, "link": "https://stackoverflow.com/questions/52083206/form-not-displaying-in-credential-provider", "title": "Form not displaying in credential provider", "body": "<p>I have a function in C# that displays a form. I have exposed the function using Unmanaged Exports and calling it from C++ in credential provider sample on a command link. The form does not display (nothing happens). However, when I call the same C# form using C++ console application, the form displays without any issue. What could be the difference that C++ console application is loading it but C++ credential provider code is not loading it?</p>\n\n<p>C++ Code:</p>\n\n<pre><code>using CSharpForm = void(__stdcall *)(wchar_t* message);\nint _tmain(int argc, _TCHAR* argv[])\n{\nHMODULE mod = LoadLibraryA(\"CSharp.dll\");\nCSharpForm form = reinterpret_cast&lt;CSharpForm&gt;(GetProcAddress(mod, \"form1\"));\nform(L\"This is a c# form\");\ngetchar();\nreturn 0;\n}\n</code></pre>\n\n<p>C# Code:</p>\n\n<pre><code>[DllExport(ExportName = \"form1\", CallingConvention = CallingConvention.StdCall)]\npublic static void showForm([MarshalAs(UnmanagedType.LPWStr)]string message)\n{\n    Form_Test form = new Form_Test();\n    form.Text = message;\n    form.ShowDialog();\n}\n</code></pre>\n"}, {"tags": ["c#", "dapper", "odp.net"], "comments": [{"owner": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "edited": false, "score": 0, "creation_date": 1535564819, "post_id": 52083189, "comment_id": 91117051, "body": "Are you passing around a single database connection?"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 1980844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rgriH.png?s=128&g=1", "display_name": "motor75", "link": "https://stackoverflow.com/users/1980844/motor75"}, "edited": false, "score": 0, "creation_date": 1535568992, "post_id": 52083247, "comment_id": 91119020, "body": "Awesome - being new to Dapper, I just grabbed some example code that was using a generic dbConnection - but I see that the OracleConnection is available.  Thanks for the answer."}, {"owner": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "reply_to_user": {"reputation": 35, "user_id": 1980844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rgriH.png?s=128&g=1", "display_name": "motor75", "link": "https://stackoverflow.com/users/1980844/motor75"}, "edited": false, "score": 0, "creation_date": 1535569309, "post_id": 52083247, "comment_id": 91119154, "body": "@motor75 I think using the base <code>System.Data.Common</code> classes are ideal in most cases.  However you can always have overrides from a base implementation for specifics like this."}], "tags": [], "owner": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "is_accepted": true, "score": 2, "last_activity_date": 1535564467, "last_edit_date": 1535564467, "creation_date": 1535564042, "answer_id": 52083247, "question_id": 52083189, "link": "https://stackoverflow.com/questions/52083189/setting-clientid-on-oracleconnection-object-via-dapper/52083247#52083247", "title": "Setting ClientID on OracleConnection object via Dapper", "body": "<p>Dapper just extends off of your <code>DbConnection</code>, so there's no need for it to get involved.  </p>\n\n<p>You would set the <code>ClientId</code> directly on the <code>OracleConnection</code></p>\n\n<p><a href=\"https://docs.oracle.com/cd/B28359_01/win.111/b28375/OracleConnectionClass.htm#DAFCFAHF\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/B28359_01/win.111/b28375/OracleConnectionClass.htm#DAFCFAHF</a></p>\n\n<pre><code>using (OracleConnection connection = new OracleConnection(conectionString))\n{\n    connection.ClientId = \"MyClientId\";\n    connection.{DapperStuff}();\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 1980844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rgriH.png?s=128&g=1", "display_name": "motor75", "link": "https://stackoverflow.com/users/1980844/motor75"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 52083247, "answer_count": 1, "score": 0, "last_activity_date": 1535564467, "creation_date": 1535563784, "question_id": 52083189, "link": "https://stackoverflow.com/questions/52083189/setting-clientid-on-oracleconnection-object-via-dapper", "title": "Setting ClientID on OracleConnection object via Dapper", "body": "<p>In rewriting a web service in C# using Dapper, I need the ability to set the <code>OracleConnection</code> object's <a href=\"https://docs.oracle.com/cd/E85694_01/ODPNT/ConnectionClientId.htm).\" rel=\"nofollow noreferrer\">ClientID</a> property.  This is used by various triggers in our Oracle database to note the user that modified the data.  </p>\n\n<p>Is there any way to access or set this property via Dapper?  I've searched and have come up empty.  I like the convenience of Dapper, but I'm afraid these intricate database-specific settings may not be available to be read or modified.  Any thoughts or help would be greatly appreciated.</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 87, "user_id": 5504043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f56b6e898840df758edae9ad0e60cc3?s=128&d=identicon&r=PG&f=1", "display_name": "H K", "link": "https://stackoverflow.com/users/5504043/h-k"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1535564079, "post_id": 52083157, "comment_id": 91116671, "body": "@RyanWilson which method are we talking about?"}, {"owner": {"reputation": 87, "user_id": 5504043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f56b6e898840df758edae9ad0e60cc3?s=128&d=identicon&r=PG&f=1", "display_name": "H K", "link": "https://stackoverflow.com/users/5504043/h-k"}, "reply_to_user": {"reputation": 3762, "user_id": 3276027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e2e43f741889c0d1c599747a318ddf5?s=128&d=identicon&r=PG&f=1", "display_name": "Gian Paolo", "link": "https://stackoverflow.com/users/3276027/gian-paolo"}, "edited": false, "score": 0, "creation_date": 1535564272, "post_id": 52083157, "comment_id": 91116769, "body": "@GianPaolo It is actually up there. It is calling the static extension method <code>Process</code>."}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1535565211, "post_id": 52083157, "comment_id": 91117275, "body": "The Process method, since both objects implement an interface which implements a base interface"}, {"owner": {"reputation": 87, "user_id": 5504043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f56b6e898840df758edae9ad0e60cc3?s=128&d=identicon&r=PG&f=1", "display_name": "H K", "link": "https://stackoverflow.com/users/5504043/h-k"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1535565668, "post_id": 52083157, "comment_id": 91117480, "body": "@RyanWilson That does not help. The <code>Process</code> methods return <code>ProcessedContext </code>types which are objects being created based on the content of the derived types."}, {"owner": {"reputation": 32382, "user_id": 587803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7431a850a166ca3a648141c532aa9d0?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/587803/ben"}, "edited": false, "score": 0, "creation_date": 1535566567, "post_id": 52083157, "comment_id": 91117914, "body": "Extension methods are evaluated at compile time, and use only the static type of the object, i.e. the type of the variable <b>declared</b>. They do not know or care if the object is actually a derived type."}, {"owner": {"reputation": 87, "user_id": 5504043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f56b6e898840df758edae9ad0e60cc3?s=128&d=identicon&r=PG&f=1", "display_name": "H K", "link": "https://stackoverflow.com/users/5504043/h-k"}, "reply_to_user": {"reputation": 32382, "user_id": 587803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7431a850a166ca3a648141c532aa9d0?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/587803/ben"}, "edited": false, "score": 0, "creation_date": 1535568977, "post_id": 52083157, "comment_id": 91119014, "body": "@Ben sure. That&#39;s not the issue though. In my specific scenario, I have a derived generic interface that I want to call an extension method on. My particular issue is getting the derived generic instance in the first place to be able to call the extension method."}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 5504043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f56b6e898840df758edae9ad0e60cc3?s=128&d=identicon&r=PG&f=1", "display_name": "H K", "link": "https://stackoverflow.com/users/5504043/h-k"}, "edited": false, "score": 0, "creation_date": 1535564477, "post_id": 52083297, "comment_id": 91116871, "body": "Seems like it would. I haven&#39;t tested it yet though. But I assume no way around reflection in this case?"}, {"owner": {"reputation": 3418, "user_id": 5710651, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/69f58189b58863e69b489c06f45f09c3?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Hilbert", "link": "https://stackoverflow.com/users/5710651/thomas-hilbert"}, "reply_to_user": {"reputation": 87, "user_id": 5504043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f56b6e898840df758edae9ad0e60cc3?s=128&d=identicon&r=PG&f=1", "display_name": "H K", "link": "https://stackoverflow.com/users/5504043/h-k"}, "edited": false, "score": 0, "creation_date": 1535564600, "post_id": 52083297, "comment_id": 91116926, "body": "I don&#39;t think so. The required method for type T might not even exist yet, but might have to be JIT compiled."}, {"owner": {"reputation": 87, "user_id": 5504043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f56b6e898840df758edae9ad0e60cc3?s=128&d=identicon&r=PG&f=1", "display_name": "H K", "link": "https://stackoverflow.com/users/5504043/h-k"}, "edited": false, "score": 0, "creation_date": 1535565744, "post_id": 52083297, "comment_id": 91117511, "body": "By the way, is there a reason for changing the if-condition from <code>IsAssignableFrom</code> to what you have in your answer?"}, {"owner": {"reputation": 3418, "user_id": 5710651, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/69f58189b58863e69b489c06f45f09c3?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Hilbert", "link": "https://stackoverflow.com/users/5710651/thomas-hilbert"}, "reply_to_user": {"reputation": 87, "user_id": 5504043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f56b6e898840df758edae9ad0e60cc3?s=128&d=identicon&r=PG&f=1", "display_name": "H K", "link": "https://stackoverflow.com/users/5504043/h-k"}, "edited": false, "score": 0, "creation_date": 1535566065, "post_id": 52083297, "comment_id": 91117684, "body": "I didn&#39;t have time to test it myself and I was sure that the version I wrote did work, so I thought I&#39;d rather use that version. I&#39;m not sure if <code>IsAssignableFrom</code> works with generic types that have undefined arguments."}, {"owner": {"reputation": 87, "user_id": 5504043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f56b6e898840df758edae9ad0e60cc3?s=128&d=identicon&r=PG&f=1", "display_name": "H K", "link": "https://stackoverflow.com/users/5504043/h-k"}, "edited": false, "score": 0, "creation_date": 1535570469, "post_id": 52083297, "comment_id": 91119657, "body": "Both your check and mine are failing for some reason. I am investigating."}, {"owner": {"reputation": 87, "user_id": 5504043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f56b6e898840df758edae9ad0e60cc3?s=128&d=identicon&r=PG&f=1", "display_name": "H K", "link": "https://stackoverflow.com/users/5504043/h-k"}, "edited": false, "score": 0, "creation_date": 1535571406, "post_id": 52083297, "comment_id": 91120051, "body": "I had to change the condition to <code>context.GetType().GetInterfaces().Any(x =&gt; x.IsGenericType &amp;&amp; x.GetGenericTypeDefinition() == typeof(IBasicExpressionContext&lt;&gt;))</code> which makes sense."}, {"owner": {"reputation": 87, "user_id": 5504043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f56b6e898840df758edae9ad0e60cc3?s=128&d=identicon&r=PG&f=1", "display_name": "H K", "link": "https://stackoverflow.com/users/5504043/h-k"}, "edited": false, "score": 0, "creation_date": 1535571438, "post_id": 52083297, "comment_id": 91120065, "body": "The <code>GetMethod</code> is returning null now though."}, {"owner": {"reputation": 3418, "user_id": 5710651, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/69f58189b58863e69b489c06f45f09c3?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Hilbert", "link": "https://stackoverflow.com/users/5710651/thomas-hilbert"}, "reply_to_user": {"reputation": 87, "user_id": 5504043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f56b6e898840df758edae9ad0e60cc3?s=128&d=identicon&r=PG&f=1", "display_name": "H K", "link": "https://stackoverflow.com/users/5504043/h-k"}, "edited": false, "score": 0, "creation_date": 1535572975, "post_id": 52083297, "comment_id": 91120757, "body": "Makes sense to check the interfaces, because the type of the context objext is not exactly the generic interface type, but another type which implements the interface. I didn&#39;t think of that."}, {"owner": {"reputation": 3418, "user_id": 5710651, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/69f58189b58863e69b489c06f45f09c3?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Hilbert", "link": "https://stackoverflow.com/users/5710651/thomas-hilbert"}, "reply_to_user": {"reputation": 87, "user_id": 5504043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f56b6e898840df758edae9ad0e60cc3?s=128&d=identicon&r=PG&f=1", "display_name": "H K", "link": "https://stackoverflow.com/users/5504043/h-k"}, "edited": false, "score": 0, "creation_date": 1535573891, "post_id": 52083297, "comment_id": 91121203, "body": "The retrieval of the generic argument had to be changed accordingly, too. See edit."}], "tags": [], "owner": {"reputation": 3418, "user_id": 5710651, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/69f58189b58863e69b489c06f45f09c3?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Hilbert", "link": "https://stackoverflow.com/users/5710651/thomas-hilbert"}, "is_accepted": true, "score": 1, "last_activity_date": 1535573829, "last_edit_date": 1535573829, "creation_date": 1535564292, "answer_id": 52083297, "question_id": 52083157, "link": "https://stackoverflow.com/questions/52083157/call-a-static-extension-method-on-a-derived-generic-instance/52083297#52083297", "title": "Call a static extension method on a derived generic instance", "body": "<p>Would this help?</p>\n\n<p>This creates a suitable version of the generic <code>ProcessGeneric&lt;T&gt;</code> method at runtime and invokes it with your runtime instance of <code>ITypedContext&lt;T&gt;</code>.</p>\n\n<pre><code>internal static ProcessedContext Process(this IContext context)\n{\n    if (context is IBasicContext basicContext)\n    {\n        return basicContext.Process();\n    }\n    else if (context.GetType().GetInterfaces().Any(x =&gt; x.IsGenericType &amp;&amp; x.GetGenericTypeDefinition() == typeof(ITypedContext&lt;&gt;)))\n    {\n        Type typedContextInterface = context.GetType().GetInterfaces().First(x =&gt; x.IsGenericType &amp;&amp; x.GetGenericTypeDefinition() == typeof(ITypedContext&lt;&gt;));\n\n        MethodInfo processGenericMethod = GetType().GetTypeInfo().GetMethod(nameof(ProcessGeneric), BindingFlags.NonPublic | BindingFlags.Static).MakeGenericMethod(typedContextInterface.GetGenericArguments()[0]);\n\n        return (ProcessedContext)processGenericMethod.Invoke(null, new object[] { context });\n    }\n}\n\ninternal static ProcessedContext ProcessGeneric&lt;T&gt;(ITypedContext&lt;T&gt; context)\n{\n    // Do stuff here to create processed context\n}\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 5504043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f56b6e898840df758edae9ad0e60cc3?s=128&d=identicon&r=PG&f=1", "display_name": "H K", "link": "https://stackoverflow.com/users/5504043/h-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "closed_date": 1535566019, "accepted_answer_id": 52083297, "answer_count": 1, "score": 0, "last_activity_date": 1535573829, "creation_date": 1535563661, "question_id": 52083157, "link": "https://stackoverflow.com/questions/52083157/call-a-static-extension-method-on-a-derived-generic-instance", "closed_reason": "Duplicate", "title": "Call a static extension method on a derived generic instance", "body": "<p>I have an empty <code>IContext</code> inteface:</p>\n\n<pre><code>public interface IContext {\n}\n</code></pre>\n\n<p>I also have two derived interfaces <code>IBasicContext</code> and <code>ITypedContext</code>:</p>\n\n<pre><code>public interface IBasicContext : IContext {\n    string Id { get; }\n}\n\npublic interface ITypedContext&lt;T&gt; : IContext {\n    T Value { get; }\n}\n</code></pre>\n\n<p>I have another project with some code that processes these contexts:</p>\n\n<pre><code>internal static ProcessedContext Process(this IContext context) {\n    if (context is IBasicContext basicContext) {\n        return basicContext.Process();\n    } else if (context.GetType().IsAssignableFrom(typeof(ITypedContext&lt;&gt;))){\n        // What do I do here??\n    }\n}\n\ninternal static ProcessedContext Process(this IBasicContext context) {\n    // Do stuff here to create processed context\n}\n\ninternal static ProcessedContext Process&lt;T&gt;(this ITypedContext&lt;T&gt; context) {\n    // Do stuff here to create processed context\n}\n</code></pre>\n\n<p>Note 1: I have already checked multiple posts. Most of them ask about casting to a base generic class, which is <strong>NOT</strong> what I am trying to do here.</p>\n\n<p>Note 2: Context classes sit in their own project. They are merely data structures and <code>ProcessedContext</code> creation code does not belong in context project.</p>\n\n<p>Note 3: <code>T</code> can be one of multiple types that I only create at runtime. Having multiple cases for each type is just daunting and ugly. The processing of <code>ITypedContext</code> does not really care about <code>T</code>. It calls another generic method.</p>\n"}, {"tags": ["c#", "sql-server", "ssis"], "comments": [{"owner": {"reputation": 2298, "user_id": 6709604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0e089029eb5143d6a404f975e275d6?s=128&d=identicon&r=PG&f=1", "display_name": "SS_DBA", "link": "https://stackoverflow.com/users/6709604/ss-dba"}, "edited": false, "score": 0, "creation_date": 1535564470, "post_id": 52083147, "comment_id": 91116866, "body": "Is this a 1 to 1 export? Meaning, you are exporting 1 table to 1 Excel file? Is the Excel file formatted specifically, or just dump the table into Excel?"}, {"owner": {"reputation": 59343, "user_id": 2029983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0118fb43d1ce086d768e295339cf0ff4?s=128&d=identicon&r=PG", "display_name": "Larnu", "link": "https://stackoverflow.com/users/2029983/larnu"}, "edited": false, "score": 0, "creation_date": 1535564759, "post_id": 52083147, "comment_id": 91117011, "body": "If you&#39;re using SQL Server 2014, have you considered deploying your packages using SSISDB  and using SQL Server agent instead? No need for DTExec then."}, {"owner": {"reputation": 144, "user_id": 4425471, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6355d41be56cc37bdc68cd721461723e?s=128&d=identicon&r=PG&f=1", "display_name": "himak", "link": "https://stackoverflow.com/users/4425471/himak"}, "edited": false, "score": 0, "creation_date": 1535569448, "post_id": 52083147, "comment_id": 91119202, "body": "@ WEI_DBA , at beginning, I want to focus on 1 table to 1 Excel. I have Services db table and exporting it into excel Services sheet. Using File System Task and Data Flow Task mentioned in my post approach 1. what do you mean by Excel file special formatting ?"}, {"owner": {"reputation": 144, "user_id": 4425471, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6355d41be56cc37bdc68cd721461723e?s=128&d=identicon&r=PG&f=1", "display_name": "himak", "link": "https://stackoverflow.com/users/4425471/himak"}, "edited": false, "score": 0, "creation_date": 1535569645, "post_id": 52083147, "comment_id": 91119292, "body": "@ Larnu we are using MS SQL Server 2012. Unfortunately I can&#39;t change it for now. If I didn&#39;t find solution with SQL Server 2012, I will request my team to upgrade to 2014."}, {"owner": {"reputation": 4945, "user_id": 1169697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8076bb688cf139206f4a4e121dc1b08c?s=128&d=identicon&r=PG", "display_name": "digital.aaron", "link": "https://stackoverflow.com/users/1169697/digital-aaron"}, "edited": false, "score": 0, "creation_date": 1535570665, "post_id": 52083147, "comment_id": 91119740, "body": "You need a Standard or higher level version of SQL Server. Express doesn&#39;t support SSIS. <a href=\"https://docs.microsoft.com/en-us/sql/integration-services/integration-services-features-supported-by-the-editions-of-sql-server?view=sql-server-2017\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/sql/integration-services/&hellip;</a>"}, {"owner": {"reputation": 144, "user_id": 4425471, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6355d41be56cc37bdc68cd721461723e?s=128&d=identicon&r=PG&f=1", "display_name": "himak", "link": "https://stackoverflow.com/users/4425471/himak"}, "reply_to_user": {"reputation": 4945, "user_id": 1169697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8076bb688cf139206f4a4e121dc1b08c?s=128&d=identicon&r=PG", "display_name": "digital.aaron", "link": "https://stackoverflow.com/users/1169697/digital-aaron"}, "edited": false, "score": 0, "creation_date": 1535571178, "post_id": 52083147, "comment_id": 91119962, "body": "@digital.aaron, thanks for the reference and unfortunately we can&#39;t upgrade now. that&#39;s why I&#39;m trying alternatives like creating a bat file to execute SSIS from command prompt."}, {"owner": {"reputation": 30431, "user_id": 1507566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40b799a199eda9317d64e854c9fc8858?s=128&d=identicon&r=PG", "display_name": "Tab Alleman", "link": "https://stackoverflow.com/users/1507566/tab-alleman"}, "edited": false, "score": 0, "creation_date": 1535571844, "post_id": 52083147, "comment_id": 91120266, "body": "@priya777 there is no work around that will allow you to run SSIS without having the packages on a Standard or higher version of SQL Server.   What you can do is write a console app that will do what you were trying to do in SSIS."}, {"owner": {"reputation": 144, "user_id": 4425471, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6355d41be56cc37bdc68cd721461723e?s=128&d=identicon&r=PG&f=1", "display_name": "himak", "link": "https://stackoverflow.com/users/4425471/himak"}, "edited": false, "score": 0, "creation_date": 1535572441, "post_id": 52083147, "comment_id": 91120525, "body": "@ Tab Alleman can we run console app on daily basis automatically ?I never tried this I will look around. Any references would be helpful. please do share. thanks."}, {"owner": {"reputation": 30431, "user_id": 1507566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40b799a199eda9317d64e854c9fc8858?s=128&d=identicon&r=PG", "display_name": "Tab Alleman", "link": "https://stackoverflow.com/users/1507566/tab-alleman"}, "edited": false, "score": 0, "creation_date": 1535635045, "post_id": 52083147, "comment_id": 91146441, "body": "Yes a console app can be scheduled to run automatically.   I don&#39;t have any references handy."}, {"owner": {"reputation": 59343, "user_id": 2029983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0118fb43d1ce086d768e295339cf0ff4?s=128&d=identicon&r=PG", "display_name": "Larnu", "link": "https://stackoverflow.com/users/2029983/larnu"}, "edited": false, "score": 0, "creation_date": 1535643746, "post_id": 52083147, "comment_id": 91152457, "body": "SQl Server 2012 also supports SSISDB. it was introduced with that version. Also, when tagging, don&#39;t put a space between the name and @. It won&#39;t mention the user otherwise (and they won&#39;t know you commented back). @Larnu is correct, not @ Larnu."}], "owner": {"reputation": 144, "user_id": 4425471, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6355d41be56cc37bdc68cd721461723e?s=128&d=identicon&r=PG&f=1", "display_name": "himak", "link": "https://stackoverflow.com/users/4425471/himak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 712, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535569770, "creation_date": 1535563622, "last_edit_date": 1535569770, "question_id": 52083147, "link": "https://stackoverflow.com/questions/52083147/an-automated-process-daily-job-to-save-specific-sql-server-tables-from-a-specif", "title": "An automated process, daily job to save specific SQL Server tables from a specific database into Excel file format", "body": "<p>I'm new to SSIS and my requirement is to develop an automated process to run on a daily basis in order to save some SQL Server tables from a specific database into Excel file on local system.</p>\n\n<p>I have the following on my machine: </p>\n\n<ul>\n<li>SSIS Business Intelligence  </li>\n<li>Microsoft SQL Server Integration Services Designer Version 12.0.2430.0  </li>\n<li>Microsoft SQL Server Data Tools 12.0.61021.0</li>\n<li>Visual Studio Professional 2013</li>\n<li>SQL Server 2012 Express edition (free edition doesn\u2019t have Import/Export SSIS package wizard)</li>\n</ul>\n\n<p>I have created a SSIS package under SSBI Integration Services using following two approaches</p>\n\n<p><strong>Approach 1:</strong> Using File System Task and Data Flow Task<br>\n  (Source: <a href=\"https://www.youtube.com/watch?v=BlWlQyIt86g&amp;pbjreload=10\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=BlWlQyIt86g&amp;pbjreload=10</a>) </p>\n\n<p><strong>Approach 2:</strong> Using Script task from control flow<br>\n  (Source: <a href=\"http://www.techbrothersit.com/2016/03/how-to-export-sql-server-tables-from.html\" rel=\"nofollow noreferrer\">http://www.techbrothersit.com/2016/03/how-to-export-sql-server-tables-from.html</a>)</p>\n\n<p>SSIS package reads the SQL Server tables and saves output file as Excel file in local folder path. Package is working fine on local Visual Studio. However, I'm having problem when I tried to automate the process by executing the SSIS package either from the SQL Server job agent or from the command prompt to make a bat file. </p>\n\n<p><strong>From the SQL Server job agent</strong>: when I load the SSIS package in SQL Server job agent steps from local source, I'm getting </p>\n\n<blockquote>\n  <p>0xC0010014** exception related to <code>LoadFromXML</code> fails please refer the attached file. </p>\n</blockquote>\n\n<p>I'm not quite sure why I'm getting this exception is this due to me using a free SQL Server version? I couldn\u2019t find solution for this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/a0jws.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a0jws.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>From the command prompt</strong>: I found <code>dtexec</code> in the following paths, latest modified date is with the <code>C:\\Program Files (x86)\\Microsoft SQL Server\\120\\DTS\\Binn\\dtexec.exe</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/dE8CB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dE8CB.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>C:\\Program Files (x86)\\Microsoft SQL Server\\120\\DTS\\Binn\nC:\\Program Files (x86)\\Microsoft SQL Server\\110\\DTS\\Binn\n</code></pre>\n\n<p>I have executed the following command </p>\n\n<p><strong>With DTS path 120:</strong></p>\n\n<pre><code>\"C:\\Program Files (x86)\\Microsoft SQL Server\\120\\DTS\\Binn\\dtexec.exe\" /File \"C:\\Users\\username\\Desktop\\DataBackupExcel.dtsx\"\n</code></pre>\n\n<p>results in:</p>\n\n<blockquote>\n  <p>Exception: Code: 0xC000F427<br>\n  Source: File System Task<br>\n  Description: To run a SSIS package outside of SQL Server Data Tools you must install File System Task of Integration Services or higher.</p>\n</blockquote>\n\n<p><strong>With DTS path 110:</strong></p>\n\n<blockquote>\n  <p>Code: 0xC001700A<br>\n  Source: DataBackupExcel<br>\n  Description: The version number in the package is not valid. The version number cannot be greater than current version number.</p>\n  \n  <p>Code: 0xC0016020<br>\n  Source: DataBackupExcel<br>\n  Description: Package migration from version 8 to version 6 failed with error 0xC001700A; \"The version number in the package is not valid. The version number cannot be greater than current version number.\".</p>\n  \n  <p>Code: 0xC0010018\n  Source: DataBackupExcel<br>\n  Description: Error loading value \"8\" from node \"DTS:Property\".</p>\n  \n  <p>Could not load package \"C:\\Users\\username\\Desktop\\ DataBackupExcel.dtsx\" because of error 0xC0010014.</p>\n  \n  <p>Description: The package failed to load due to error 0xC0010014 \"One or more error occurred. There should be more specific errors preceding this one that explains the details of the errors. This message is used as a return value from functions that encounter errors.\". This occurs when CPackage::LoadFromXML fails.\n  Source: DataBackupExcel</p>\n</blockquote>\n\n<p>Initially I thought it's doable task, but now I'm stuck at one point and I'm not able to go further. Am I missing anything or any version mismatch couldn't able to figure out? Please don't consider this post as duplicate, I have tried different approaches mentioned in SO and other sources but none of them worked. Like (updating the SSIS from VS updates, file path changes and executing command on administrator mode etc)</p>\n"}, {"tags": ["c#", "json", "serialization"], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 8452788, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Oacco.jpg?s=128&g=1", "display_name": "Rodolfo R", "link": "https://stackoverflow.com/users/8452788/rodolfo-r"}, "edited": false, "score": 0, "creation_date": 1535586320, "post_id": 52085745, "comment_id": 91125236, "body": "Yeah I solved it basically the same way, but I&#39;m trying to map it to another class which defines the structure of the object I&#39;m looking to get, thank you so much!"}], "tags": [], "owner": {"reputation": 26, "user_id": 8235239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdaeac71879ad9fec0665fc21162886?s=128&d=identicon&r=PG&f=1", "display_name": "thomas.lindmark", "link": "https://stackoverflow.com/users/8235239/thomas-lindmark"}, "is_accepted": true, "score": 1, "last_activity_date": 1535575154, "creation_date": 1535575154, "answer_id": 52085745, "question_id": 52083141, "link": "https://stackoverflow.com/questions/52083141/c-group-json-by-value-of-key/52085745#52085745", "title": "C# Group JSON by value of key", "body": "<p>Just going from that pure json that you posted and using LINQ to transform the data. I think this is close to what you are after assuming you want json string. You are returning an object not a serialized string from your method?.</p>\n\n<p>The tricky part getting values into key positions and that could be done with ToDictionary().</p>\n\n<p>If it is not a perfect solution for you I hope it gives some input.</p>\n\n<pre><code>var json = \"[{\\\"displayorder\\\":2,\\\"oppItemID\\\":4,\\\"opportunityName\\\":\\\"Net 10\\\",\\\"title\\\":\\\"New Amazing Promotion\\\",\\\"description\\\":\\\"Amazing\\\",\\\"image\\\":\\\"imagelink\\\",\\\"opDate\\\":\\\"2018-08-09T22:00:00.937\\\",\\\"slideOrder\\\":0,\\\"status\\\":false,\\\"isCover\\\":false},{\\\"displayorder\\\":1,\\\"oppItemID\\\":2,\\\"opportunityName\\\":\\\"Simple Mobile\\\",\\\"title\\\":\\\"New promo\\\",\\\"description\\\":\\\"Amazing\\\",\\\"image\\\":\\\"imagelink\\\",\\\"opDate\\\":\\\"2018-08-09T22:00:00.937\\\",\\\"slideOrder\\\":0,\\\"status\\\":false,\\\"isCover\\\":false},{\\\"displayorder\\\":1,\\\"oppItemID\\\":3,\\\"opportunityName\\\":\\\"Simple Mobile\\\",\\\"title\\\":\\\"New Amazing Promotion\\\",\\\"description\\\":\\\"Amazing\\\",\\\"image\\\":\\\"imagelink\\\",\\\"opDate\\\":\\\"2018-08-10T22:00:00.937\\\",\\\"slideOrder\\\":0,\\\"status\\\":false,\\\"isCover\\\":false},{\\\"displayorder\\\":8,\\\"oppItemID\\\":5,\\\"opportunityName\\\":\\\"Verizon\\\",\\\"title\\\":\\\"New Amazing Promotion\\\",\\\"description\\\":\\\"Amazing\\\",\\\"image\\\":\\\"imagelink\\\",\\\"opDate\\\":\\\"2018-08-09T22:00:00.937\\\",\\\"slideOrder\\\":0,\\\"status\\\":false,\\\"isCover\\\":false},{\\\"displayorder\\\":8,\\\"oppItemID\\\":27,\\\"opportunityName\\\":\\\"Verizon\\\",\\\"title\\\":\\\"New Amazing\\\",\\\"description\\\":\\\"Amazing\\\",\\\"image\\\":\\\"imagelink\\\",\\\"opDate\\\":\\\"2018-08-22T22:00:00.937\\\",\\\"slideOrder\\\":0,\\\"status\\\":false,\\\"isCover\\\":false}]\";\n        var obj = JsonConvert.DeserializeObject&lt;List&lt;JSonClass&gt;&gt;(json);\n\n        var transformed = obj \n                            .Select(  (value, index) =&gt; new {\n                                            name = value.opportunityName,\n                                            obj = new JSonClass2 {\n                                                    displayorder = value.displayorder,\n                                                    oppItemID = value.oppItemID,\n                                                    title = value.title,\n                                                    description = value.description,\n                                                    image = value.image,\n                                                    opDate = value.opDate,\n                                                    slideOrder = value.slideOrder,\n                                                    status = value.status,\n                                                    isCover = value.isCover\n                                                    }\n                                            })\n                .GroupBy(u=&gt;u.name)  // groups by name\n                .ToDictionary(       // use dictionary to move value from value position to key position \n                                wrap =&gt;wrap.Key, \n                                wrap =&gt; wrap.Select( (v,i) =&gt; new { i, v.obj })\n                .ToDictionary(w =&gt; w.i, w =&gt; w.obj )  \n                );\n\n        Console.WriteLine(JsonConvert.SerializeObject(transformed, Formatting.Indented));\n</code></pre>\n\n<p>Console output is then:</p>\n\n<pre><code>{\n  \"Net 10\": {\n    \"0\": {\n      \"displayorder\": 2,\n      \"oppItemID\": 4,\n      \"title\": \"New Amazing Promotion\",\n      \"description\": \"Amazing\",\n      \"image\": \"imagelink\",\n      \"opDate\": \"2018-08-09T22:00:00.937\",\n      \"slideOrder\": 0,\n      \"status\": false,\n      \"isCover\": false\n    }\n  },\n  \"Simple Mobile\": {\n    \"0\": {\n      \"displayorder\": 1,\n      \"oppItemID\": 2,\n      \"title\": \"New promo\",\n      \"description\": \"Amazing\",\n      \"image\": \"imagelink\",\n      \"opDate\": \"2018-08-09T22:00:00.937\",\n      \"slideOrder\": 0,\n      \"status\": false,\n      \"isCover\": false\n    },\n    \"1\": {\n      \"displayorder\": 1,\n      \"oppItemID\": 3,\n      \"title\": \"New Amazing Promotion\",\n      \"description\": \"Amazing\",\n      \"image\": \"imagelink\",\n      \"opDate\": \"2018-08-10T22:00:00.937\",\n      \"slideOrder\": 0,\n      \"status\": false,\n      \"isCover\": false\n    }\n  },\n  \"Verizon\": {\n    \"0\": {\n      \"displayorder\": 8,\n      \"oppItemID\": 5,\n      \"title\": \"New Amazing Promotion\",\n      \"description\": \"Amazing\",\n      \"image\": \"imagelink\",\n      \"opDate\": \"2018-08-09T22:00:00.937\",\n      \"slideOrder\": 0,\n      \"status\": false,\n      \"isCover\": false\n    },\n    \"1\": {\n      \"displayorder\": 8,\n      \"oppItemID\": 27,\n      \"title\": \"New Amazing\",\n      \"description\": \"Amazing\",\n      \"image\": \"imagelink\",\n      \"opDate\": \"2018-08-22T22:00:00.937\",\n      \"slideOrder\": 0,\n      \"status\": false,\n      \"isCover\": false\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 8452788, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Oacco.jpg?s=128&g=1", "display_name": "Rodolfo R", "link": "https://stackoverflow.com/users/8452788/rodolfo-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "accepted_answer_id": 52085745, "answer_count": 1, "score": 0, "last_activity_date": 1535575154, "creation_date": 1535563590, "question_id": 52083141, "link": "https://stackoverflow.com/questions/52083141/c-group-json-by-value-of-key", "title": "C# Group JSON by value of key", "body": "<p>community\nI have a stored procedure that returns this JSON as a response:</p>\n\n<pre><code>[\n  {\n    \"displayorder\": 2,\n    \"oppItemID\": 4,\n    \"opportunityName\": \"Net 10\",\n    \"title\": \"New Amazing Promotion\",\n    \"description\": \"Amazing\",\n    \"image\": \"imagelink\",\n    \"opDate\": \"2018-08-09T22:00:00.937\",\n    \"slideOrder\": 0,\n    \"status\": false,\n    \"isCover\": false\n  },\n  {\n    \"displayorder\": 1,\n    \"oppItemID\": 2,\n    \"opportunityName\": \"Simple Mobile\",\n    \"title\": \"New promo\",\n    \"description\": \"Amazing\",\n    \"image\": \"imagelink\",\n    \"opDate\": \"2018-08-09T22:00:00.937\",\n    \"slideOrder\": 0,\n    \"status\": false,\n    \"isCover\": false\n  },\n  {\n    \"displayorder\": 1,\n    \"oppItemID\": 3,\n    \"opportunityName\": \"Simple Mobile\",\n    \"title\": \"New Amazing Promotion\",\n    \"description\": \"Amazing\",\n    \"image\": \"imagelink\",\n    \"opDate\": \"2018-08-10T22:00:00.937\",\n    \"slideOrder\": 0,\n    \"status\": false,\n    \"isCover\": false\n  },\n  {\n    \"displayorder\": 8,\n    \"oppItemID\": 5,\n    \"opportunityName\": \"Verizon\",\n    \"title\": \"New Amazing Promotion\",\n    \"description\": \"Amazing\",\n    \"image\": \"imagelink\",\n    \"opDate\": \"2018-08-09T22:00:00.937\",\n    \"slideOrder\": 0,\n    \"status\": false,\n    \"isCover\": false\n  },\n  {\n    \"displayorder\": 8,\n    \"oppItemID\": 27,\n    \"opportunityName\": \"Verizon\",\n    \"title\": \"New Amazing\",\n    \"description\": \"Amazing\",\n    \"image\": \"imagelink\",\n    \"opDate\": \"2018-08-22T22:00:00.937\",\n    \"slideOrder\": 0,\n    \"status\": false,\n    \"isCover\": false\n  }\n]\n</code></pre>\n\n<p>As you can see, there are multiple objects that have the same  \"opportunityName\"</p>\n\n<p>What I want to do is group them by that specific \"opportunityName\" and have a list of the objects i.e:</p>\n\n<pre><code>\"Varizon\":{\n     0:{\n        \"displayorder\": 8,\n        \"oppItemID\": 5,\n        \"title\": \"New Amazing Promotion\",\n        \"description\": \"Amazing\",\n        \"image\": \"imagelink\",\n        \"opDate\": \"2018-08-09T22:00:00.937\",\n        \"slideOrder\": 0,\n        \"status\": false,\n        \"isCover\": false\n      },\n      1:{\n        \"displayorder\": 8,\n        \"oppItemID\": 27,\n        \"title\": \"New Amazing\",\n        \"description\": \"Amazing\",\n        \"image\": \"imagelink\",\n        \"opDate\": \"2018-08-22T22:00:00.937\",\n        \"slideOrder\": 0,\n        \"status\": false,\n        \"isCover\": false\n      }\n}\n</code></pre>\n\n<p>And the same for the rest of the opportunity Names</p>\n\n<p>This is the code:</p>\n\n<pre><code>public List&lt;OpportunitiesByNameForDisplay&gt; GetBdmOpportunites(string rswnum)\n        {\n            List&lt;OpportunitiesByNameForDisplay&gt; OpportunitiesByNameForDisplay = new List&lt;OpportunitiesByNameForDisplay&gt;();\n            SqlParameter[] sqlParams;\n            List&lt;object&gt; real = new List&lt;object&gt;();\n            try\n            {\n                var rswnumber = new SqlParameter(\"@AccountNumber\", rswnum);\n\n                sqlParams = new SqlParameter[1] {\n                   rswnumber\n                };\n\n                string sql = \"exec RSW_Reports_API.dbo.sp_CRMApp_GetAppointmentOpportunitiesFromZoomTesting \" + rswnumber ;\n                OpportunitiesByNameForDisplay = db.Database.SqlQuery&lt;OpportunitiesByNameForDisplay&gt;(sql,sqlParams).ToList();\n\n                real = OpportunitiesByNameForDisplay.GroupBy(g =&gt; new List&lt;Object&gt; {\n                    g.OpportunityName,\n                    slide = new\n                    {\n                        g.Title,\n                        g.Description,\n                        g.Image,\n                        g.opDate,\n                        g.status,\n                        g.SlideOrder,\n                        g.displayorder\n                    }\n                });\n            }\n            catch (Exception ex){}\n            return OpportunitiesByNameForDisplay;\n        }\n</code></pre>\n\n<p>I m getting invalid initializer declarator on g.OpportunityName\nIs there any way to make this work or better?</p>\n"}, {"tags": ["c#", ".net", "xamarin", "xamarin.forms"], "comments": [{"owner": {"reputation": 9602, "user_id": 7462031, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/APfLb.jpg?s=128&g=1", "display_name": "FreakyAli", "link": "https://stackoverflow.com/users/7462031/freakyali"}, "edited": false, "score": 0, "creation_date": 1535631449, "post_id": 52083074, "comment_id": 91143869, "body": "I am pretty sure the timepicker is by default in 12hr format in xamarin forms"}, {"owner": {"reputation": 747, "user_id": 3971546, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/055a41273a97d5fd77f36f3c9e268ce9?s=128&d=identicon&r=PG&f=1", "display_name": "kkakroo", "link": "https://stackoverflow.com/users/3971546/kkakroo"}, "reply_to_user": {"reputation": 9602, "user_id": 7462031, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/APfLb.jpg?s=128&g=1", "display_name": "FreakyAli", "link": "https://stackoverflow.com/users/7462031/freakyali"}, "edited": false, "score": 0, "creation_date": 1536051793, "post_id": 52083074, "comment_id": 91274688, "body": "@G.hakim, even if the device format is 24 hrs?"}, {"owner": {"reputation": 9602, "user_id": 7462031, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/APfLb.jpg?s=128&g=1", "display_name": "FreakyAli", "link": "https://stackoverflow.com/users/7462031/freakyali"}, "edited": false, "score": 0, "creation_date": 1536063518, "post_id": 52083074, "comment_id": 91281908, "body": "Yeah of course is it not working for you like that?"}, {"owner": {"reputation": 747, "user_id": 3971546, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/055a41273a97d5fd77f36f3c9e268ce9?s=128&d=identicon&r=PG&f=1", "display_name": "kkakroo", "link": "https://stackoverflow.com/users/3971546/kkakroo"}, "reply_to_user": {"reputation": 9602, "user_id": 7462031, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/APfLb.jpg?s=128&g=1", "display_name": "FreakyAli", "link": "https://stackoverflow.com/users/7462031/freakyali"}, "edited": false, "score": 0, "creation_date": 1536155934, "post_id": 52083074, "comment_id": 91323658, "body": "no, it&#39;s showing 24hr clock and formats if the device setting is 24hr"}], "answers": [{"comments": [{"owner": {"reputation": 747, "user_id": 3971546, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/055a41273a97d5fd77f36f3c9e268ce9?s=128&d=identicon&r=PG&f=1", "display_name": "kkakroo", "link": "https://stackoverflow.com/users/3971546/kkakroo"}, "edited": false, "score": 0, "creation_date": 1535571998, "post_id": 52084397, "comment_id": 91120337, "body": "That&#39;s not working for me. Also, it can only be used in OnTimeSet method which gets called after the first time it&#39;s opened."}, {"owner": {"reputation": 747, "user_id": 3971546, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/055a41273a97d5fd77f36f3c9e268ce9?s=128&d=identicon&r=PG&f=1", "display_name": "kkakroo", "link": "https://stackoverflow.com/users/3971546/kkakroo"}, "edited": false, "score": 0, "creation_date": 1535610394, "post_id": 52084397, "comment_id": 91130695, "body": "I am binding the time property of the timepicker from ViewModel by a database call so cannot bind time from xaml.cs for the first time."}, {"owner": {"reputation": 1605, "user_id": 4854110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f31a57ea3ee823fe3e6ecd9cac9d5cea?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/4854110/patrick"}, "edited": false, "score": 0, "creation_date": 1550695903, "post_id": 52084397, "comment_id": 96368098, "body": "&lt;TimePicker.Format&gt; works on Android only, not on iOS"}], "tags": [], "owner": {"reputation": 745, "user_id": 7357771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nX1CR.png?s=128&g=1", "display_name": "Jan Andersen", "link": "https://stackoverflow.com/users/7357771/jan-andersen"}, "is_accepted": false, "score": 1, "last_activity_date": 1535585287, "last_edit_date": 1535585287, "creation_date": 1535569132, "answer_id": 52084397, "question_id": 52083074, "link": "https://stackoverflow.com/questions/52083074/time-picker-not-showing-time-in-12hr-format-in-xamarin-forms/52084397#52084397", "title": "Time Picker not showing time in 12Hr format in Xamarin Forms", "body": "<p>There is supposed to be a is24HourView.. </p>\n\n<p><a href=\"https://developer.xamarin.com/api/member/Android.Widget.TimePicker.SetIs24HourView/p/Java.Lang.Boolean/\" rel=\"nofollow noreferrer\">https://developer.xamarin.com/api/member/Android.Widget.TimePicker.SetIs24HourView/p/Java.Lang.Boolean/</a></p>\n\n<p>You've got that covered?</p>\n\n<p>--- edit, well.. ---</p>\n\n<p>Two clocks, one in 12-hour format, showing at present 12:24 AM.</p>\n\n<pre><code>&lt;TimePicker x:Name=\"TimePicker12\"&gt;\n     &lt;TimePicker.Format&gt;hh:mm tt&lt;/TimePicker.Format&gt;\n&lt;/TimePicker&gt;\n</code></pre>\n\n<p>Another in 24-hours, both on the same page, this one showing 00:24.</p>\n\n<pre><code>&lt;TimePicker x:Name=\"TimePicker24\"&gt;\n     &lt;TimePicker.Format&gt;HH:mm&lt;/TimePicker.Format&gt;\n&lt;/TimePicker&gt;\n</code></pre>\n\n<p>Code-behind:</p>\n\n<pre><code>TimePicker12.Time = TimeSpan.FromMinutes(DateTime.Now.Minute);\nTimePicker24.Time = TimeSpan.FromMinutes(DateTime.Now.Minute);\n</code></pre>\n"}], "owner": {"reputation": 747, "user_id": 3971546, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/055a41273a97d5fd77f36f3c9e268ce9?s=128&d=identicon&r=PG&f=1", "display_name": "kkakroo", "link": "https://stackoverflow.com/users/3971546/kkakroo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1554, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535585287, "creation_date": 1535563394, "question_id": 52083074, "link": "https://stackoverflow.com/questions/52083074/time-picker-not-showing-time-in-12hr-format-in-xamarin-forms", "title": "Time Picker not showing time in 12Hr format in Xamarin Forms", "body": "<p>I have a requirement wherein I have to change all the time pickers and selected time formats to 12hr irrespective of the time format of the device.\nThis issue is specific to Android. It's working fine in iOS.\nI'm using a custom time renderer for both.</p>\n\n<p>Here is what I'm doing: </p>\n\n<p>In XAML:</p>\n\n<pre><code>&lt;customElements:CustomTimePicker x:Name=\"TimePickerName\" Time=\"{Binding time}\"&gt;\n&lt;StackLayout&gt;\n    &lt;StackLayout.GestureRecognizers&gt;\n        &lt;TapGestureRecognizer Tapped=\"Handle_TimePickerTapped\" /&gt;\n    &lt;/StackLayout.GestureRecognizers&gt;\n&lt;/StackLayout&gt;\n&lt;TimePicker.Format&gt;hh:mm tt&lt;/TimePicker.Format&gt;\n</code></pre>\n\n<p></p>\n\n<p>In Xaml.cs:</p>\n\n<pre><code>void Handle_TimePickerTapped(object sender, System.EventArgs e)\n    {\n\n            Device.BeginInvokeOnMainThread(() =&gt;\n            {\n                if(TimePickerName.IsFocused)\n                {\n                    TimePickerName.Unfocus();\n                }\n                if(!TimePickerName.IsFocused)\n                { \n                TimePickerName.Focus();\n                }\n                TimePickerName.Format = \"hh:mm tt\";\n            });\n    }\n</code></pre>\n\n<p>In View Model: (fetching time for current item from DB)</p>\n\n<pre><code> time = (TimeSpan)DBHelper.GetTime(CurrentItem).TimeOfDay;\n</code></pre>\n\n<p>In Custom Renderer i.e CustomTimePicker class:</p>\n\n<pre><code>protected override void OnElementChanged(ElementChangedEventArgs&lt;TimePicker&gt; e)\n    {\n        base.OnElementChanged(e);\n        Control.TextSize = 14;\n        Control.Text = DateTime.Now.ToString(\"hh:mm tt\");\n    }\n\n\n public void OnTimeSet(Android.Widget.TimePicker view, int hourOfDay, int minute)\n    {\n        var time = new TimeSpan(hourOfDay, minute, 0);\n        this.Element.SetValue(Xamarin.Forms.TimePicker.TimeProperty, time);\n        var dateTime = new DateTime(time.Ticks);\n        var formattedTime = dateTime.ToString(\"h:mm tt\", CultureInfo.InvariantCulture);\n        this.Control.Text = formattedTime;\n    }\n</code></pre>\n\n<p>I want the time picker in 12hr format also the selected time should come in 12hr format irrespective of the time format of the phone.\nPost selection due to <code>OnTimeSet</code> method I'm fo able to convert it to 12hr, but for the first time, it's taking the time format setting of the device.</p>\n"}, {"tags": ["c#", "linq-to-sql"], "comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 2, "creation_date": 1535566836, "post_id": 52082966, "comment_id": 91118037, "body": "The anonymous object created on each side of the <code>join</code> must have matching field names i.e. be the same type of object. You need to replace e.g. the right hand side with <code>new { Isin = Inv.InstrumentId, Register_ID = Inv.FinAcctId }</code>."}, {"owner": {"reputation": 21, "user_id": 10285682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3184edcbd3e7906bb9fbe337fd42367f?s=128&d=identicon&r=PG&f=1", "display_name": "SPG", "link": "https://stackoverflow.com/users/10285682/spg"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1535660730, "post_id": 52082966, "comment_id": 91160810, "body": "this helped. thanks."}], "owner": {"reputation": 21, "user_id": 10285682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3184edcbd3e7906bb9fbe337fd42367f?s=128&d=identicon&r=PG&f=1", "display_name": "SPG", "link": "https://stackoverflow.com/users/10285682/spg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1535570449, "answer_count": 0, "score": 0, "last_activity_date": 1535565379, "creation_date": 1535563080, "last_edit_date": 1535565379, "question_id": 52082966, "link": "https://stackoverflow.com/questions/52082966/linq-sql-to-create-new-entries-based-on-incoming-data", "closed_reason": "Duplicate", "title": "Linq SQL to create new entries based on incoming data", "body": "<p>I am trying to make an entry in the <code>Investment</code> table, for new combinations of <code>Isin</code> &amp; <code>RegisterId</code> from the <code>Position</code> table. Does the below query look okay?</p>\n\n<p>I am getting an error on the <code>join</code> keyword:</p>\n\n<blockquote>\n  <p>Type of one of the expression on join clause is incorrect.</p>\n</blockquote>\n\n<p>I am new to C# and Linq, and trying an ETL workflow.</p>\n\n<pre><code>var result = (from gfsAum in context.GfsPositions\n              join Inv in context.Investments \n              on new { gfsAum.Isin, gfsAum.Register_ID } equals new { Inv.InstrumentId ,  Inv.FinAcctId}  into pair\n              from InvestmentDao in pair.DefaultIfEmpty()\n              select new { gfsAum.Isin, gfsAum.Register_ID }\n             ).ToList();\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "api"], "comments": [{"owner": {"reputation": 58863, "user_id": 1875256, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/no10d.jpg?s=128&g=1", "display_name": "Ehsan Sajjad", "link": "https://stackoverflow.com/users/1875256/ehsan-sajjad"}, "edited": false, "score": 0, "creation_date": 1535562857, "post_id": 52082834, "comment_id": 91116034, "body": "put in startup of app : <a href=\"https://stackoverflow.com/a/28553455/1875256\">stackoverflow.com/a/28553455/1875256</a>"}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1535562936, "post_id": 52082834, "comment_id": 91116077, "body": "Do you want camelCase only for this specific endpoint?"}, {"owner": {"reputation": 55, "user_id": 5990539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/chpKo.jpg?s=128&g=1", "display_name": "Tomorrow&#39;s Explorer", "link": "https://stackoverflow.com/users/5990539/tomorrows-explorer"}, "reply_to_user": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1535619253, "post_id": 52082834, "comment_id": 91135689, "body": "@KirkLarkin, exactly. I don&#39;t want to camelCase for whole controller or put attributes on DTO&#39;s"}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 1, "creation_date": 1535621320, "post_id": 52082834, "comment_id": 91137080, "body": "I think the solution you&#39;ve added to your question is going to be the most appropriate for your use case."}], "answers": [{"tags": [], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "is_accepted": false, "score": 0, "last_activity_date": 1535562829, "creation_date": 1535562829, "answer_id": 52082897, "question_id": 52082834, "link": "https://stackoverflow.com/questions/52082834/json-camel-case-attribute-for-action-method/52082897#52082897", "title": "JSON Camel Case Attribute for Action method", "body": "<p>On the entity, you can use:</p>\n\n<pre><code>[JsonObject(NamingStrategyType = typeof(CamelCaseNamingStrategy))]\n</code></pre>\n\n<p>On a property, you can use:</p>\n\n<pre><code>[JsonProperty(NamingStrategyType = typeof(CamelCaseNamingStrategy))]\n</code></pre>\n\n<p>Also on a property, you can manually specify the property name if you wish:</p>\n\n<pre><code>[JsonProperty(PropertyName = \"myPropertyName\")]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1702, "user_id": 3629689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4k9sN.jpg?s=128&g=1", "display_name": "clarkitect", "link": "https://stackoverflow.com/users/3629689/clarkitect"}, "is_accepted": false, "score": 1, "last_activity_date": 1535562840, "creation_date": 1535562840, "answer_id": 52082902, "question_id": 52082834, "link": "https://stackoverflow.com/questions/52082834/json-camel-case-attribute-for-action-method/52082902#52082902", "title": "JSON Camel Case Attribute for Action method", "body": "<p>I like to use the <code>DataMemberAttribute</code> from <code>System.Runtime.Serialization</code></p>\n\n<p>Example:</p>\n\n<pre><code>[Serializable]\n[DataContract]\npublic class SomeDto\n{\n    [DataMember(Name = \"unitCount\")]\n    public int UnitCount { get; set; }\n\n    [DataMember(Name = \"packagingType\")]\n    public PackagingType PackagingTypeIdEtc { get; set; }\n\n// ...\n</code></pre>\n\n<p>The output will be camelCase and you'll also be able to control things like <code>emitDefaultValue</code> and so on.</p>\n\n<pre><code>{\n    unitCount: 3,\n    packagingType: \"box\",\n    /* ... */\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 864, "user_id": 3131918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffb5b9626e23dcabaab24e8689a964ef?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya Bhave", "link": "https://stackoverflow.com/users/3131918/aditya-bhave"}, "is_accepted": false, "score": 0, "last_activity_date": 1535563062, "creation_date": 1535563062, "answer_id": 52082958, "question_id": 52082834, "link": "https://stackoverflow.com/questions/52082834/json-camel-case-attribute-for-action-method/52082958#52082958", "title": "JSON Camel Case Attribute for Action method", "body": "<p>Try putting below in     <code>Register</code> function under <code>WebApiConfig</code></p>\n\n<pre><code>public static void Register(HttpConfiguration config)\n{    \n    config.Formatters.Clear();\n    config.Formatters.Add(new JsonMediaTypeFormatter());\n    config.Formatters.JsonFormatter.SerializerSettings.Formatting = Newtonsoft.Json.Formatting.Indented;\n    config.Formatters.JsonFormatter.SerializerSettings.ContractResolver = new CamelCasePropertyNamesContractresolvder();\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 5990539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/chpKo.jpg?s=128&g=1", "display_name": "Tomorrow&#39;s Explorer", "link": "https://stackoverflow.com/users/5990539/tomorrows-explorer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 713, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1535619007, "creation_date": 1535562619, "last_edit_date": 1592644375, "question_id": 52082834, "link": "https://stackoverflow.com/questions/52082834/json-camel-case-attribute-for-action-method", "title": "JSON Camel Case Attribute for Action method", "body": "<p>I have such endpoint in my controller :</p>\n<pre><code>public async Task&lt;&lt;IEnumerable&lt;ItemsList&gt;&gt;&gt; GetItems()\n    {\n        List&lt;ItemsList&gt;&gt; items = await _itemManager.GetItemsAsync();       \n        return items;\n    }\n</code></pre>\n<p>And when I get result from this endpoint :</p>\n<pre><code>{\n &quot;Type&quot;: &quot;SomeType&quot;,\n  &quot;Items&quot;:[{&quot;Id&quot;:1,&quot;ItemType&quot;:&quot;SomeType&quot;}] \n }\n</code></pre>\n<p>but I want to be Camel Case, such as :</p>\n<pre><code>{\n&quot;type&quot;: &quot;SomeType&quot;,\n &quot;items&quot;:[{&quot;id&quot;:1,&quot;itemType&quot;:&quot;SomeType&quot;}] \n}\n</code></pre>\n<p>Here is of</p>\n<pre><code>public class ItemsList\n{\n    public ItemType Type { get; set; }\n    public List&lt;Items&gt; Items { get; set; }\n}\n\npublic class Item\n{\n    public int ItemId { get; set; }\n    public ItemType ItemType { get; set; }\n}\n</code></pre>\n<p>I found solution like :</p>\n<pre><code>public async Task&lt;&lt;IEnumerable&lt;ItemsList&gt;&gt;&gt; GetItems()\n    {\n        List&lt;ItemsList&gt;&gt; items = await _itemManager.GetItemsAsync();\n\n         var serializerSettings = new JsonSerializerSettings\n             {\n               ContractResolver = new CamelCasePropertyNamesContractResolver()\n             };\n\n        return Json(items),serializerSettings);       \n    }\n</code></pre>\n<blockquote>\n<p>So, what I want to do it's to create Attribute, which can be applied to specific endpoint and make result from the endpoint to be camelCase.</p>\n<p>Applying Json attributes to Dto's or formatting the whole controller isn't my case.</p>\n</blockquote>\n"}, {"tags": ["c#", "end-to-end"], "comments": [{"owner": {"reputation": 58863, "user_id": 1875256, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/no10d.jpg?s=128&g=1", "display_name": "Ehsan Sajjad", "link": "https://stackoverflow.com/users/1875256/ehsan-sajjad"}, "edited": false, "score": 2, "creation_date": 1535562324, "post_id": 52082685, "comment_id": 91115717, "body": "error is quite self describing, you have Guid in your DTO while the value is coming as integer"}, {"owner": {"reputation": 71114, "user_id": 567435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zYyZz.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/567435/rahul"}, "edited": false, "score": 0, "creation_date": 1535562334, "post_id": 52082685, "comment_id": 91115723, "body": "what&#39;s the value of <code>responseString</code> and definition of <code>UserDTO</code>"}, {"owner": {"reputation": 31, "user_id": 9843666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f274cf5e0840549b30033935f9c59dae?s=128&d=identicon&r=PG&f=1", "display_name": "MB_YD", "link": "https://stackoverflow.com/users/9843666/mb-yd"}, "edited": false, "score": 0, "creation_date": 1535562396, "post_id": 52082685, "comment_id": 91115763, "body": "Yes, but I don&#39;t know how to handle it, because i have never wrote End-to-end tests ;("}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1535562414, "post_id": 52082685, "comment_id": 91115779, "body": "Show us the <code>UserDTO</code> model and the JSON data you&#39;re receiving.  Without them, your question can&#39;t be answered."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1535562463, "post_id": 52082685, "comment_id": 91115818, "body": "@MB_YD There is an Edit link below the question.  Paste your code there, not in a comment."}, {"owner": {"reputation": 31, "user_id": 9843666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f274cf5e0840549b30033935f9c59dae?s=128&d=identicon&r=PG&f=1", "display_name": "MB_YD", "link": "https://stackoverflow.com/users/9843666/mb-yd"}, "edited": false, "score": 0, "creation_date": 1535562814, "post_id": 52082685, "comment_id": 91116012, "body": "&quot;{\\&quot;result\\&quot;:{\\&quot;id\\&quot;:\\&quot;0559d01d-938a-4155-b9c6-91337e631e62\\&zwnj;&#8203;&quot;,\\&quot;email\\&quot;:\\&quot;mail1@&zwnj;&#8203;gmail.com\\&quot;,\\&quot;userna&zwnj;&#8203;me\\&quot;:\\&quot;name\\&quot;,\\&quot;full&zwnj;&#8203;Name\\&quot;:null,\\&quot;create&zwnj;&#8203;dAt\\&quot;:\\&quot;2018-08-29T1&zwnj;&#8203;7:12:11.9145255Z\\&quot;},&zwnj;&#8203;\\&quot;id\\&quot;:39,\\&quot;exceptio&zwnj;&#8203;n\\&quot;:null,\\&quot;status\\&quot;:&zwnj;&#8203;5,\\&quot;isCanceled\\&quot;:fal&zwnj;&#8203;se,\\&quot;isCompleted\\&quot;:t&zwnj;&#8203;rue,\\&quot;isCompletedSuc&zwnj;&#8203;cessfully\\&quot;:true,\\&quot;c&zwnj;&#8203;reationOptions\\&quot;:0,\\&zwnj;&#8203;&quot;asyncState\\&quot;:null,\\&zwnj;&#8203;&quot;isFaulted\\&quot;:false}&quot;"}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1535563171, "post_id": 52082685, "comment_id": 91116208, "body": "It looks like the endpoint you\u2019re hitting is forgetting to <code>await</code> a <code>Task</code>. Include the code for the endpoint itself if possible so that can be confirmed."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9843666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f274cf5e0840549b30033935f9c59dae?s=128&d=identicon&r=PG&f=1", "display_name": "MB_YD", "link": "https://stackoverflow.com/users/9843666/mb-yd"}, "edited": false, "score": 0, "creation_date": 1535562927, "post_id": 52082832, "comment_id": 91116071, "body": "Yes, but i want to use Guid, to have unique Id for users."}, {"owner": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "reply_to_user": {"reputation": 31, "user_id": 9843666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f274cf5e0840549b30033935f9c59dae?s=128&d=identicon&r=PG&f=1", "display_name": "MB_YD", "link": "https://stackoverflow.com/users/9843666/mb-yd"}, "edited": false, "score": 0, "creation_date": 1535563119, "post_id": 52082832, "comment_id": 91116180, "body": "@MB_YD Sequential Guid?  If not make sure you avoid using this for the PK/Clustered Index on your table in that case.  Kimberly Tripp explains this very well:  <a href=\"https://www.sqlskills.com/blogs/kimberly/guids-as-primary-keys-andor-the-clustering-key/\" rel=\"nofollow noreferrer\">sqlskills.com/blogs/kimberly/&hellip;</a>"}], "tags": [], "owner": {"reputation": 71114, "user_id": 567435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zYyZz.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/567435/rahul"}, "is_accepted": false, "score": 0, "last_activity_date": 1535563271, "last_edit_date": 1535563271, "creation_date": 1535562613, "answer_id": 52082832, "question_id": 52082685, "link": "https://stackoverflow.com/questions/52082685/c-jsonserializationexception/52082832#52082832", "title": "C# JsonSerializationException", "body": "<p>Per your posted json string Change the <code>public Guid Id { get; set; }</code> property to probably <code>public string Id { get; set; }</code> in <code>UserDTO</code></p>\n\n<pre><code>public class UserDTO\n{\n    public string id { get; set; }\n    public string email { get; set; }\n    public string username { get; set; }\n    public string fullName { get; set; }\n    public DateTime createdAt { get; set; }\n}\n</code></pre>\n\n<p>You can then use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.guid.parse?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>Guid.Parse()</code></a> method to convert that string to GUID</p>\n\n<pre><code>var user = JsonConvert.DeserializeObject&lt;UserDTO&gt;(responseString);\nGuid newGuid = Guid.Parse(user.id);\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 9843666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f274cf5e0840549b30033935f9c59dae?s=128&d=identicon&r=PG&f=1", "display_name": "MB_YD", "link": "https://stackoverflow.com/users/9843666/mb-yd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 996, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1535563271, "creation_date": 1535562132, "last_edit_date": 1535562716, "question_id": 52082685, "link": "https://stackoverflow.com/questions/52082685/c-jsonserializationexception", "title": "C# JsonSerializationException", "body": "<p>I have a little problem with EndToEnd test in C#. It's my code from the Microsoft Site with examples of End-to-End tests.</p>\n\n<pre><code>var email = \"mail1@testmail.com\";\nvar response = await Client.GetAsync($\"User/{email}\");\nresponse.EnsureSuccessStatusCode();\nvar responseString = await response.Content.ReadAsStringAsync();\nvar user = JsonConvert.DeserializeObject&lt;UserDTO&gt;(responseString);\nAssert.Equal(email, user.Email);\n</code></pre>\n\n<p>After running program I got this exception. When I am debugging it - all works fine to the line with DeserializeObject. Can somebody gives me some link or tip how to handle this problem ? </p>\n\n<p>Message: </p>\n\n<blockquote>\n  <p>Newtonsoft.Json.JsonSerializationException : Error converting value 1 to type 'System.Guid'. Path 'id', line 1, position 167.\n  ---- System.ArgumentException : Could not cast or convert from System.Int64 to System.Guid.</p>\n</blockquote>\n\n<pre><code>public class UserDTO \n{ \npublic Guid Id { get; set; } \npublic string Email { get; set; } \npublic string Username { get; set; } \npublic string FullName { get; set; } \npublic DateTime CreatedAt { get; set; } \n} \n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api"], "comments": [{"owner": {"reputation": 13794, "user_id": 4870358, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Os0to.jpg?s=128&g=1", "display_name": "Marcus H&#246;glund", "link": "https://stackoverflow.com/users/4870358/marcus-h%c3%b6glund"}, "edited": false, "score": 0, "creation_date": 1535570073, "post_id": 52082624, "comment_id": 91119466, "body": "It looks like a correct setup. dubblecheck port, rebuild or even try to create new project with same setup and see if its the same output"}, {"owner": {"reputation": 367, "user_id": 5490120, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/164b3308717c8f1b3072d45f100c5910?s=128&d=identicon&r=PG&f=1", "display_name": "phroureo", "link": "https://stackoverflow.com/users/5490120/phroureo"}, "reply_to_user": {"reputation": 13794, "user_id": 4870358, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Os0to.jpg?s=128&g=1", "display_name": "Marcus H&#246;glund", "link": "https://stackoverflow.com/users/4870358/marcus-h%c3%b6glund"}, "edited": false, "score": 0, "creation_date": 1535572516, "post_id": 52082624, "comment_id": 91120551, "body": "Do you mean make sure the port works? When I have a generic .aspx page, the same port info works for me."}], "answers": [{"tags": [], "owner": {"reputation": 367, "user_id": 5490120, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/164b3308717c8f1b3072d45f100c5910?s=128&d=identicon&r=PG&f=1", "display_name": "phroureo", "link": "https://stackoverflow.com/users/5490120/phroureo"}, "is_accepted": true, "score": 0, "last_activity_date": 1535577891, "creation_date": 1535577891, "answer_id": 52086268, "question_id": 52082624, "link": "https://stackoverflow.com/questions/52082624/with-attribute-routing-enabled-and-no-default-routing-why-is-my-api-still-retu/52086268#52086268", "title": "With attribute routing enabled, and no default routing, why is my API still returning on the old default route?", "body": "<p>I found this question: <a href=\"https://stackoverflow.com/questions/16944947/mvc-attribute-routing-not-working\">MVC Attribute Routing Not Working</a></p>\n\n<p>It suggested that I need to update my Global.asax.cs file to the following: </p>\n\n<pre><code>public class Global : HttpApplication\n{\n    void Application_Start(object sender, EventArgs e)\n    {\n        GlobalConfiguration.Configure(WebApiConfig.Register); \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 367, "user_id": 5490120, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/164b3308717c8f1b3072d45f100c5910?s=128&d=identicon&r=PG&f=1", "display_name": "phroureo", "link": "https://stackoverflow.com/users/5490120/phroureo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 52086268, "answer_count": 1, "score": 0, "last_activity_date": 1535577891, "creation_date": 1535561908, "question_id": 52082624, "link": "https://stackoverflow.com/questions/52082624/with-attribute-routing-enabled-and-no-default-routing-why-is-my-api-still-retu", "title": "With attribute routing enabled, and no default routing, why is my API still returning on the old default route?", "body": "<p>Note: I'm new to C#, asp.net, and all the things that go along with it. </p>\n\n<p>I've created a class called <code>Review.cs</code> with some attributes.</p>\n\n<p>I also have a controller called <code>ReviewController.cs</code>. The idea behind this controller is that I should be able to have three different components:</p>\n\n<p>1) <code>GET</code> all reviews\n2) <code>GET</code> all reviews where <code>siteID</code> = a parameter\n3) <code>GET</code> one review</p>\n\n<p>Originally, it was working when I would go to <a href=\"http://localhost:#####/api/Review\" rel=\"nofollow noreferrer\">http://localhost:#####/api/Review</a> to find all the reviews, and it also worked when I appended a parameter. </p>\n\n<p>Someone on another question I asked recommended I read up on <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/web-api-routing-and-actions/attribute-routing-in-web-api-2\" rel=\"nofollow noreferrer\">Attribute Routing</a>, which I did at the link. </p>\n\n<p>As a result of my reading, my WebApiConfig.cs file now looks like this: </p>\n\n<p>using System.Web.Http;</p>\n\n<pre><code>namespace Test_Site_1\n{\n    public class WebApiConfig\n    {\n        public static void Register(HttpConfiguration config)\n        {\n            //attribute routing\n            config.MapHttpAttributeRoutes();\n\n        }\n    }\n}\n</code></pre>\n\n<p>My <code>ReviewController.cs</code> file looks like this: </p>\n\n<pre><code>namespace Test_Site_1.Controllers\n{\n    public class ReviewController : ApiController\n    {\n        private ReviewAPIModel db = new ReviewAPIModel();\n\n        [Route(\"api/Review/all\")]\n        [HttpGet]\n        public IEnumerable&lt;Review&gt; Review()\n        {\n            return db.Review;\n        }\n\n        [Route(\"api/Review/{siteID}/Reviews\")]\n        [HttpGet]\n        public IEnumerable&lt;Review&gt; FindReviewBySite(int siteID)\n        {\n            return db.Review.Where(Review =&gt; Review.siteID == siteID);\n        }\n\n        [ResponseType(typeof(Review))]\n        [Route(\"api/Review/single/{id}\")]\n        [HttpGet]\n        public IHttpActionResult Review_ByID(int id)\n        {\n            Review review = db.Review.Find(id);\n            if (review == null)\n            {\n                return NotFound();\n            }\n\n            return Ok(review);\n        }\n    }\n}\n</code></pre>\n\n<p>Now, based off of my understanding of the multitude of SO questions and the numerous Microsoft guides I've gone over, the Attribute Routes that I've set up should work as follows: </p>\n\n<p><a href=\"http://localhost:#####/api/Review\" rel=\"nofollow noreferrer\">http://localhost:#####/api/Review</a> \nExpected: should no longer return anything (this is the old default that I removed from <code>WebApiConfig.cs</code>).\nActual: returns all reviews</p>\n\n<p><a href=\"http://localhost:#####/api/Review/all\" rel=\"nofollow noreferrer\">http://localhost:#####/api/Review/all</a> </p>\n\n<p>Expected: should return what used to be returned by the default API above. </p>\n\n<p>Actual: Returns the error <code>The parameters dictionary contains a null entry for parameter 'id' of non-nullable type 'System.Int32' for method 'System.Web.Http.IHttpActionResult Review_ByID(Int32)'</code></p>\n\n<p><a href=\"http://localhost:#####/api/Review/1/Reviews\" rel=\"nofollow noreferrer\">http://localhost:#####/api/Review/1/Reviews</a> </p>\n\n<p>Expected: should return all reviews for the site with ID = 1. </p>\n\n<p>Actual: Returns the error <code>HTTP Error 404.0 - Not Found\nThe resource you are looking for has been removed, had its name changed, or is temporarily unavailable.</code></p>\n\n<p><a href=\"http://localhost:#####/api/Review/single/1\" rel=\"nofollow noreferrer\">http://localhost:#####/api/Review/single/1</a> </p>\n\n<p>Expected: should return me the review with ID = 1. </p>\n\n<p>Actual: returns the error <code>HTTP Error 404.0 - Not Found\nThe resource you are looking for has been removed, had its name changed, or is temporarily unavailable.</code></p>\n\n<p>Where am I going wrong, or what am I missing? It seems like everything should be set up right based off the guides and SO questions I followed. </p>\n"}, {"tags": ["c#", "async-await"], "comments": [{"owner": {"reputation": 181, "user_id": 3434042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe354ebee5124503eb7985d317c25ee?s=128&d=identicon&r=PG&f=1", "display_name": "BeLEEver", "link": "https://stackoverflow.com/users/3434042/beleever"}, "reply_to_user": {"reputation": 31408, "user_id": 243245, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/aed5c13647d581ae231f019a886e05a8?s=128&d=identicon&r=PG", "display_name": "Rup", "link": "https://stackoverflow.com/users/243245/rup"}, "edited": false, "score": 0, "creation_date": 1535562102, "post_id": 52082617, "comment_id": 91115589, "body": "@Rup Just set the numbers in that specific item object. I updated the question."}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1535562149, "post_id": 52082617, "comment_id": 91115614, "body": "Why are you using <code>.Result</code> when you await your <code>GetMapPoint</code> function? After the await, you already have the data, just await there, not inside <code>GetMapPoint</code>."}, {"owner": {"reputation": 5943, "user_id": 2674553, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r41zt.jpg?s=128&g=1", "display_name": "ste-fu", "link": "https://stackoverflow.com/users/2674553/ste-fu"}, "edited": false, "score": 0, "creation_date": 1535562197, "post_id": 52082617, "comment_id": 91115648, "body": "Try changing the List to a ConcurrentBag and the foreach to a Parallel.ForEach"}, {"owner": {"reputation": 71114, "user_id": 567435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zYyZz.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/567435/rahul"}, "edited": false, "score": 2, "creation_date": 1535562512, "post_id": 52082617, "comment_id": 91115844, "body": "why can&#39;t you just say <code>var point = await GetMapPoint(item.AddressLine1 + &quot; &quot; + item.FiveDigitZip);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1624, "user_id": 7159784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72be4c6fd2ba4ad48b276cb3627ace11?s=128&d=identicon&r=PG&f=1", "display_name": "Nik", "link": "https://stackoverflow.com/users/7159784/nik"}, "edited": false, "score": 0, "creation_date": 1535563660, "post_id": 52082794, "comment_id": 91116475, "body": "Putting <code>await</code> in the middle of the loop will compile to a really messed up state machine, and will break the intended logic. The answer Guillermo gave is the way to do it."}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "reply_to_user": {"reputation": 1624, "user_id": 7159784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72be4c6fd2ba4ad48b276cb3627ace11?s=128&d=identicon&r=PG&f=1", "display_name": "Nik", "link": "https://stackoverflow.com/users/7159784/nik"}, "edited": false, "score": 0, "creation_date": 1535563999, "post_id": 52082794, "comment_id": 91116636, "body": "@Nik Why do you think it&#39;ll break the logic?"}, {"owner": {"reputation": 1624, "user_id": 7159784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72be4c6fd2ba4ad48b276cb3627ace11?s=128&d=identicon&r=PG&f=1", "display_name": "Nik", "link": "https://stackoverflow.com/users/7159784/nik"}, "edited": false, "score": 0, "creation_date": 1535566452, "post_id": 52082794, "comment_id": 91117860, "body": "My apologies, thinking about this further (but I haven&#39;t tested), it shouldn&#39;t break the logic, but the state machine does compile to something way more complicated than it needs to be. Use ILSpy (or whatever you use) to see how your proposed method compiles compared to the accepted answer. In particular, look at the compiler generated <code>MoveNext()</code> method. If one was to implement this before C#5, I doubt someone would be tempted to create such logic. To me, you should nor write code that compiles to something you would never code without the syntactic sugar...but that&#39;s just me :-)"}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "reply_to_user": {"reputation": 1624, "user_id": 7159784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72be4c6fd2ba4ad48b276cb3627ace11?s=128&d=identicon&r=PG&f=1", "display_name": "Nik", "link": "https://stackoverflow.com/users/7159784/nik"}, "edited": false, "score": 0, "creation_date": 1535567473, "post_id": 52082794, "comment_id": 91118329, "body": "@Nik meh, I don&#39;t much care about the compiler&#39;s problems :) I agree that Guillermo&#39;s answer is more efficient because it has more parallelism - I just fixed the original code as is - he reworked it to a greater degree. I&#39;m sitting in conference calls all day today :D"}], "tags": [], "owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "is_accepted": false, "score": 0, "last_activity_date": 1535562457, "creation_date": 1535562457, "answer_id": 52082794, "question_id": 52082617, "link": "https://stackoverflow.com/questions/52082617/c-await-in-for-loop/52082794#52082794", "title": "c# await in for loop", "body": "<p>You just need to await the call to getting the data (notice how the <code>await</code> got moved from <code>GetMapPoint</code>):</p>\n\n<pre><code>public static async Task PullInfo()\n{\n   foreach (var item in SAPItems)\n   {\n        if(item.Latitude == null || item.Longitude == null)\n        {\n             var point = await GetMapPoint(item.AddressLine1 + \" \" + item.FiveDigitZip);\n\n             item.MDM_Latitude = point.Latitude.ToString();\n             item.MDM_Longitude = point.Longitude.ToString();\n        }                    \n    }\n\n    foreach(var item in SAPItems)\n         Console.WriteLine(item.MDM_Latitude + \" \" + item.MDM_Longitude);\n}\n\nprivate static Task&lt;MapPoint&gt; GetMapPoint(string add)\n{\n     var task = Task.Run(() =&gt; LocationService.GetLatLongFromAddress(add));\n     return task;\n}\n</code></pre>\n\n<p>You're not modifying your <code>SAPItems</code> collection, just each individual item. Once you have the response, you can just update the then-current item in the loop.</p>\n"}, {"comments": [{"owner": {"reputation": 181, "user_id": 3434042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe354ebee5124503eb7985d317c25ee?s=128&d=identicon&r=PG&f=1", "display_name": "BeLEEver", "link": "https://stackoverflow.com/users/3434042/beleever"}, "edited": false, "score": 0, "creation_date": 1535563543, "post_id": 52082934, "comment_id": 91116413, "body": "I&#39;ve run this method, but my missing latitudes and longitudes are still not being assigned. Any thoughts?"}, {"owner": {"reputation": 15464, "user_id": 806975, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Q3SWN.jpg?s=128&g=1", "display_name": "Guillermo Guti&#233;rrez", "link": "https://stackoverflow.com/users/806975/guillermo-guti%c3%a9rrez"}, "reply_to_user": {"reputation": 181, "user_id": 3434042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe354ebee5124503eb7985d317c25ee?s=128&d=identicon&r=PG&f=1", "display_name": "BeLEEver", "link": "https://stackoverflow.com/users/3434042/beleever"}, "edited": false, "score": 0, "creation_date": 1535563676, "post_id": 52082934, "comment_id": 91116485, "body": "@user3434042 The first or the second one? Do you want to update Latitude/Longitude  or MDM_Latitude/MDM_Longitude?"}, {"owner": {"reputation": 180, "user_id": 3594639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffb51adbaa712473a9db8237656d72e2?s=128&d=identicon&r=PG&f=1", "display_name": "Fix", "link": "https://stackoverflow.com/users/3594639/fix"}, "edited": false, "score": 0, "creation_date": 1535563921, "post_id": 52082934, "comment_id": 91116600, "body": "tasks.ToArray() will cause the enumerable to be iterated. No need for the last foreach loop."}], "tags": [], "owner": {"reputation": 15464, "user_id": 806975, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Q3SWN.jpg?s=128&g=1", "display_name": "Guillermo Guti&#233;rrez", "link": "https://stackoverflow.com/users/806975/guillermo-guti%c3%a9rrez"}, "is_accepted": true, "score": 5, "last_activity_date": 1535564945, "last_edit_date": 1535564945, "creation_date": 1535562973, "answer_id": 52082934, "question_id": 52082617, "link": "https://stackoverflow.com/questions/52082617/c-await-in-for-loop/52082934#52082934", "title": "c# await in for loop", "body": "<p>You can get multiple map points asynchronously with multiple tasks (notice that it requires to convert <code>PullInfo()</code> to async-await):</p>\n\n<pre><code>public static async Task PullInfo()\n{\n    // Create tasks to update items with latitude and longitude\n    var tasks\n        = SAPItems.Where(item =&gt; item.Latitude == null || item.Longitude == null)\n            .Select(item =&gt;\n                GetMapPoint(item.AddressLine1 + \" \" + item.FiveDigitZip)\n                    .ContinueWith(pointTask =&gt; {\n                        item.MDM_Latitude = pointTask.Result.Latitude.ToString();\n                        item.MDM_Longitude = pointTask.Result.Longitude.ToString();\n                    }));\n\n    // Non-blocking await for tasks completion\n    await Task.WhenAll(tasks);\n\n    // Iterate to append Lat and Long\n    foreach(var item in SAPItems)\n        Console.WriteLine(item.MDM_Latitude + \" \" + item.MDM_Longitude);\n}\n\nprivate static Task&lt;MapPoint&gt; GetMapPoint(string add)\n{\n     return Task.Run(() =&gt; LocationService.GetLatLongFromAddress(add));\n}\n</code></pre>\n\n<p>If <code>PullInfo()</code> cannot be converted to async-await, you can force the thread to wait for the results, but it will block the current thread:</p>\n\n<pre><code>public static void PullInfo()\n{\n    // Create tasks to update items with latitude and longitude\n    var tasks\n        = SAPItems.Where(item =&gt; item.Latitude == null || item.Longitude == null)\n            .Select(item =&gt;\n                GetMapPoint(item.AddressLine1 + \" \" + item.FiveDigitZip)\n                    .ContinueWith(pointTask =&gt; {\n                        item.MDM_Latitude = pointTask.Result.Latitude.ToString();\n                        item.MDM_Longitude = pointTask.Result.Longitude.ToString();\n                    }));\n\n    // Wait for tasks completion (it will block the current thread)\n    Task.WaitAll(tasks.ToArray());\n\n    // Iterate to append Lat and Long\n    foreach(var item in SAPItems)\n        Console.WriteLine(item.MDM_Latitude + \" \" + item.MDM_Longitude);\n}\n\nprivate static Task&lt;MapPoint&gt; GetMapPoint(string add)\n{\n     return Task.Run(() =&gt; LocationService.GetLatLongFromAddress(add));\n}\n</code></pre>\n\n<p>Running example of this last code sample: <a href=\"https://ideone.com/0uXGlG\" rel=\"nofollow noreferrer\">https://ideone.com/0uXGlG</a></p>\n"}], "owner": {"reputation": 181, "user_id": 3434042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe354ebee5124503eb7985d317c25ee?s=128&d=identicon&r=PG&f=1", "display_name": "BeLEEver", "link": "https://stackoverflow.com/users/3434042/beleever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1968, "favorite_count": 2, "accepted_answer_id": 52082934, "answer_count": 2, "score": 1, "last_activity_date": 1535564945, "creation_date": 1535561856, "last_edit_date": 1535563948, "question_id": 52082617, "link": "https://stackoverflow.com/questions/52082617/c-await-in-for-loop", "title": "c# await in for loop", "body": "<p>I have a list of items that need to be updated if information is missing. However, I'm making a call to Google Location services to do that. I'm wondering how I can append the necessary Lat &amp; Long information asynchronously if possible</p>\n\n<p>my code</p>\n\n<pre><code>public static void PullInfo()\n{\n   foreach (var item in SAPItems)\n   {\n        if(item.MDM_Latitude == null || item.MDM_Longitude == null)\n        {\n             var point = GetMapPoint(item.AddressLine1 + \" \" + item.FiveDigitZip);\n             item.MDM_Latitude = point.Result.Latitude.ToString();\n             item.MDM_Longitude = point.Result.Longitude.ToString();\n        }                    \n    }\n\n    foreach(var item in SAPItems)\n         Console.WriteLine(item.MDM_Latitude + \" \" + item.MDM_Longitude);\n}\n\nprivate static async Task&lt;MapPoint&gt; GetMapPoint(string add)\n{\n     var task = Task.Run(() =&gt; LocationService.GetLatLongFromAddress(add));\n     return await task;\n}\n</code></pre>\n"}, {"tags": ["c#", "graph-theory", "adjacency-matrix", "adjacency-list"], "comments": [{"owner": {"reputation": 101, "user_id": 6635075, "user_type": "registered", "profile_image": "https://graph.facebook.com/716733501793281/picture?type=large", "display_name": "Morgan Rogers", "link": "https://stackoverflow.com/users/6635075/morgan-rogers"}, "edited": false, "score": 1, "creation_date": 1535720947, "post_id": 52082605, "comment_id": 91182957, "body": "To the person that keeps editing my question by replacing the British English spelling with American English spelling and saying they are correcting spelling errors, please stop. <a href=\"https://meta.stackexchange.com/a/23872/335667\">meta.stackexchange.com/a/23872/335667</a>"}, {"owner": {"reputation": 1768, "user_id": 6611411, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Vzcah-HHpDs/AAAAAAAAAAI/AAAAAAAAAE8/6CTd8nTt8VM/photo.jpg?sz=128", "display_name": "Leo Bartkus", "link": "https://stackoverflow.com/users/6611411/leo-bartkus"}, "edited": false, "score": 0, "creation_date": 1535721783, "post_id": 52082605, "comment_id": 91183537, "body": "If I had under ~1000 nodes, I would just stick with Lists until I knew for sure this was the bottleneck in my code.    Personally, I am so lazy that I tend to use linq select clauses instead of indexing into dictionary.  If this was in a tight innner loop, I would try to keep memory allocation and garbage collection to a minimum.  And I feel that it is easier to reason about allocation and GC if I am just using 1D arrays."}], "owner": {"reputation": 101, "user_id": 6635075, "user_type": "registered", "profile_image": "https://graph.facebook.com/716733501793281/picture?type=large", "display_name": "Morgan Rogers", "link": "https://stackoverflow.com/users/6635075/morgan-rogers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 576, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535720938, "creation_date": 1535561808, "last_edit_date": 1535720938, "question_id": 52082605, "link": "https://stackoverflow.com/questions/52082605/implementing-adjacency-matrices-or-adjacency-lists-in-c", "title": "Implementing adjacency matrices (or adjacency lists) in C#", "body": "<p>I am producing some simple network drawing software in C# (I shall write 'network' rather than 'graph' for clarity). Networks may eventually have multiple directed edges between some vertices/nodes. I have designed the data structure for this software as follows:</p>\n\n<ul>\n<li>Each node and edge has a corresponding 'interactible' object determining the visualisation and processing inputs such as clicks targeted at these visible objects. These objects may store any amount of data about the respective objects that I choose, and for now they contain the endpoints of the edges, for example, as well as an integer identifier for each object.</li>\n<li>Nodes (and edges between them) are divided into connected components. I want to implement routines which merge these components upon addition of edges and detect disconnectedness when edges or nodes are deleted.</li>\n<li>The overall data for the network <em>which shall for now simply record the number of edges between each pair of nodes, ignoring direction</em> is to be represented in an instance of an <code>INetwork</code> interface, which contains such routines as those for adding and removing nodes and edges, identifying the neighbours of a vertex, and so on.</li>\n</ul>\n\n<p>My question, then, is how to actually implement this <code>IMatrix</code> interface. The implementation can be made to vary with the sparseness of the graph, but I would like to know in terms of memory, processing speed etc what would be most efficient.</p>\n\n<p>More precisely, I am aware that I could just produce an adjacency matrix for each component, or similarly an adjacency list, but <em>which types are best suited to these roles in C#</em>, bearing in mind that my nodes have integer identifiers which I would expect are best left constant throughout?</p>\n\n<p>Would <code>Dictionary&lt;int,Dictionary&lt;int,int&gt;&gt;</code> ever be a good way of implementing an adjacency count so as to be able to remove entries efficiently? Would a large 2-dimensional array work given the node indexing? If I instead store a matrix as a 1-dim'l array, say as an <code>int[]</code> with some methods for treating this as a 2- or 3-dimensional array, would this be better in any meaningful way?</p>\n\n<p>Of course, there are pros and cons to every implementation, but I expect the most taxing routine will always be the one that checks whether the removal of an edge has resulted in the network becoming disconnected. Thus I want whatever implementation I use to be able to quickly check:</p>\n\n<ol>\n<li>Whether a removed edge was the last edge between its pair of vertices.</li>\n<li>If so, to be able to quickly identify the neighbours of each node successively so as to identify which nodes lie in which of the resulting components.</li>\n</ol>\n\n<p>Thanks in advance for any and all suggestions. In case anyone wonders, the choice of C# was because of my reliance on the Unity game-making engine for its rendering and (possibly, later on) physics capabilities.</p>\n"}, {"tags": ["c#", "tcp", "system.net"], "comments": [{"owner": {"reputation": 1810, "user_id": 2630903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSNUo.png?s=128&g=1", "display_name": "Richard Hubley", "link": "https://stackoverflow.com/users/2630903/richard-hubley"}, "edited": false, "score": 0, "creation_date": 1535561991, "post_id": 52082596, "comment_id": 91115547, "body": "Windows Firewall?"}, {"owner": {"reputation": 518, "user_id": 5732531, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/1yaO5.png?s=128&g=1", "display_name": "lil broomstick", "link": "https://stackoverflow.com/users/5732531/lil-broomstick"}, "reply_to_user": {"reputation": 1810, "user_id": 2630903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSNUo.png?s=128&g=1", "display_name": "Richard Hubley", "link": "https://stackoverflow.com/users/2630903/richard-hubley"}, "edited": false, "score": 0, "creation_date": 1535562092, "post_id": 52082596, "comment_id": 91115582, "body": "@RichardHubley, I&#39;ve added two rules (inbound, outbound) for the port that I use. And actually disabled it as well."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1535562253, "post_id": 52082596, "comment_id": 91115682, "body": "Maybe another application is using port 1234.  I try not to use port numbers other people with use.  Best thing is to use cmd.exe &gt;Netstat -a to make sure connections are working correctly.  Also use cmd.exe &gt;Ping IP or Computer Name.  Try both IP and Computer name since one may work and the other may not work.  Let me know the results and will help further."}, {"owner": {"reputation": 518, "user_id": 5732531, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/1yaO5.png?s=128&g=1", "display_name": "lil broomstick", "link": "https://stackoverflow.com/users/5732531/lil-broomstick"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1535562860, "post_id": 52082596, "comment_id": 91116039, "body": "Thanks, @jdweng, I&#39;ve checked the connections via &gt;Netstat -a. I saw the only application working on that port, which was mine. Also, I tried pinging myself with different IPs: 127.0.0.1 (localhost), 192.168.1.11, my external IP, my Computer name - everything worked like a charm, no packet loss, no nothing."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1535563083, "post_id": 52082596, "comment_id": 91116156, "body": "Try doing reverse from Server PC back to your client.  Sometimes ping works in one direction and not the other.  If the port is blocked on Server the ping may still work due to the PING being implemented in the Ethernet card and not being blocked."}, {"owner": {"reputation": 518, "user_id": 5732531, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/1yaO5.png?s=128&g=1", "display_name": "lil broomstick", "link": "https://stackoverflow.com/users/5732531/lil-broomstick"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1535564198, "post_id": 52082596, "comment_id": 91116735, "body": "@jdweng, just tried pinging one of my frinds PCs, everything worked, they got the packets, but not the other way around, they could not ping me for some reason... the got the timeout.."}, {"owner": {"reputation": 518, "user_id": 5732531, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/1yaO5.png?s=128&g=1", "display_name": "lil broomstick", "link": "https://stackoverflow.com/users/5732531/lil-broomstick"}, "edited": false, "score": 0, "creation_date": 1535564485, "post_id": 52082596, "comment_id": 91116874, "body": "By the way, forgot to mention, I thing this is not really important or related, but I&#39;ve changed some stuff up in my Ethernet adapter options in windows. I set the internal IP to be static by manually configuring it like so: <a href=\"https://pp.userapi.com/c848624/v848624989/654b7/R0bWskeDPBk.jpg\" rel=\"nofollow noreferrer\">pp.userapi.com/c848624/v848624989/654b7/R0bWskeDPBk.jpg</a>"}, {"owner": {"reputation": 518, "user_id": 5732531, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/1yaO5.png?s=128&g=1", "display_name": "lil broomstick", "link": "https://stackoverflow.com/users/5732531/lil-broomstick"}, "edited": false, "score": 0, "creation_date": 1535564799, "post_id": 52082596, "comment_id": 91117034, "body": "they got*, i think*"}, {"owner": {"reputation": 1810, "user_id": 2630903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSNUo.png?s=128&g=1", "display_name": "Richard Hubley", "link": "https://stackoverflow.com/users/2630903/richard-hubley"}, "edited": false, "score": 0, "creation_date": 1535567443, "post_id": 52082596, "comment_id": 91118320, "body": "If you are on the same router, don&#39;t use your external IP. Use the internal IP of the &quot;server&quot;. I don&#39;t think you can send a message out from your router and have it sent back from your ISP"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1535568649, "post_id": 52082596, "comment_id": 91118859, "body": "Changing IP addresses may take 45 minutes to an hour before the server will recognize the IP address.  Rebooting the PC will speed up the time.  A PC ARP its IP address when turned on or usually every 1/2 hour.  Did you try ping in reverse using both IP and computer name?  The port number could be blocked on the remote or the IP and mask wrong on server.  I have debugged lots of these issues in the past.  Know all the problems and fixes."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1535569276, "post_id": 52082596, "comment_id": 91119137, "body": "You ISP may not be advertising your IP out on the network.  I would ping your friend.  Then have him check his ARP table using cmd.exe &gt;ARP -a.  He should see your IP address in the table.  Then he should be able to ping back to you on same IP.  Once a ping works in one direction all the routers then have your IP and should be able to return through same routers for up to 1/2 hour (time the ARP table removes entries)."}, {"owner": {"reputation": 518, "user_id": 5732531, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/1yaO5.png?s=128&g=1", "display_name": "lil broomstick", "link": "https://stackoverflow.com/users/5732531/lil-broomstick"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1535572919, "post_id": 52082596, "comment_id": 91120723, "body": "Thanks for the help, @jdweng. I&#39;ll try those methods as soon as I get home and will reply."}], "answers": [{"comments": [{"owner": {"reputation": 36654, "user_id": 107625, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53a82f701ae492808834e621de2586eb?s=128&d=identicon&r=PG", "display_name": "Uwe Keim", "link": "https://stackoverflow.com/users/107625/uwe-keim"}, "edited": false, "score": 0, "creation_date": 1535563206, "post_id": 52082852, "comment_id": 91116229, "body": "How is c++ related to c#?"}, {"owner": {"reputation": 40, "user_id": 8814712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4bc997c2492abd07ae68cf98c449b20?s=128&d=identicon&r=PG&f=1", "display_name": "A cool programmer", "link": "https://stackoverflow.com/users/8814712/a-cool-programmer"}, "reply_to_user": {"reputation": 36654, "user_id": 107625, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53a82f701ae492808834e621de2586eb?s=128&d=identicon&r=PG", "display_name": "Uwe Keim", "link": "https://stackoverflow.com/users/107625/uwe-keim"}, "edited": false, "score": 0, "creation_date": 1535565869, "post_id": 52082852, "comment_id": 91117584, "body": "It must be a windows problem. With me it was. That might be the case for him too. As I couldn&#39;t find any answer online for my problem and I spent hours dealing with it I decided to help someone that has a problem like mine and just suggest doing this. It might not work but it is a hypothesis taken down"}], "tags": [], "owner": {"reputation": 40, "user_id": 8814712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4bc997c2492abd07ae68cf98c449b20?s=128&d=identicon&r=PG&f=1", "display_name": "A cool programmer", "link": "https://stackoverflow.com/users/8814712/a-cool-programmer"}, "is_accepted": false, "score": -1, "last_activity_date": 1535562667, "creation_date": 1535562667, "answer_id": 52082852, "question_id": 52082596, "link": "https://stackoverflow.com/questions/52082596/c-tcp-application-wont-work/52082852#52082852", "title": "C# TCP Application won&#39;t work", "body": "<p>C++ is giving me problems like that. Try creating another project, paste the server code and build it as Release x86. If you change the build target and our problem is the same, windows firewall, even when turned off, won't allow the server or the client to run without any exception. If it doesn't work I might not know the answer.</p>\n"}], "owner": {"reputation": 518, "user_id": 5732531, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/1yaO5.png?s=128&g=1", "display_name": "lil broomstick", "link": "https://stackoverflow.com/users/5732531/lil-broomstick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1535563089, "creation_date": 1535561776, "last_edit_date": 1535563089, "question_id": 52082596, "link": "https://stackoverflow.com/questions/52082596/c-tcp-application-wont-work", "title": "C# TCP Application won&#39;t work", "body": "<p>I'm making a simple chat application using <code>TcpClient</code> and <code>TcpServer</code> from <code>System.Net</code>. </p>\n\n<p>I got everything working on my PC, the server communicates with the client and vice versa. But when I try to connect to the same server application using another PC (even on the same subnet as my PC) the thing doesn't work.</p>\n\n<p>I've tried port-forwarding through my router, firewall and still nothing.</p>\n\n<p>The <a href=\"http://canyouseeme.org\" rel=\"nofollow noreferrer\">Can you see me website</a> says that the connection is being refused. Although!! Sometimes it says that the connection is timed out completely.</p>\n\n<p>I am not sure what's wrong with my code or my PC, I would really appreciate some help from people that are more experienced in this area than I am.</p>\n\n<p>Here is the configuration for the port forwarding in my router:\n<a href=\"https://i.stack.imgur.com/EOMxi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EOMxi.jpg\" alt=\"Here is the configuration for the port forwarding thing in my rounter\"></a></p>\n\n<p>If you need the code for the client and the server, here they are:</p>\n\n<p>P.S. I make the change to the client in the <code>BeginConnect()</code> part at the bottom in order to change the IP address that I'm connecting to</p>\n\n<p>Client:</p>\n\n<pre><code>using System;\nusing System.Text;\nusing System.Windows.Forms;\nusing System.Net.Sockets;\nusing System.Net;\n\nnamespace TcpTest_Client_\n{\n    public partial class Form1 : Form\n    {\n        TcpClient client;\n        IPAddress localIP = null;\n        bool connected = false;\n\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        public void clientConnectCallback(IAsyncResult result)\n        {\n            try\n            {\n                client.EndConnect(result);\n                Log(\"Connected to \" + client.Client.RemoteEndPoint);\n                connected = true;\n\n                NetworkStream clientStream = client.GetStream();\n\n                byte[] message = new byte[4096];\n                int bytesRead;\n\n                while (true)\n                {\n                    bytesRead = 0;\n                    try\n                    {\n                        //blocks until a client sends a message\n                        bytesRead = clientStream.Read(message, 0, 4096);\n                    }\n                    catch (Exception ex)\n                    {\n                        //a socket error has occured\n                        Log(ex.Message);\n                        break;\n                    }\n                    if (bytesRead == 0)\n                    {\n                        //the client has disconnected from the server\n                        Log(\"Server on has disconnected\");\n                        break;\n                    }\n\n                    //message has successfully been received\n                    UTF8Encoding encoder = new UTF8Encoding();\n                    string bufferincmessage = encoder.GetString(message, 0, bytesRead);\n                    Log(\"Server: \" + bufferincmessage);\n                }\n            }\n            catch (Exception ex)\n            {\n                Log(ex.Message);\n            }\n        }\n\n        public void Log(string msg)\n        {\n            richTextBox1.BeginInvoke(new Action(\n            () =&gt;\n            {\n                richTextBox1.Text += msg + \"\\n\";\n            }));\n        }\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n            foreach (IPAddress addr in Dns.GetHostAddresses(Dns.GetHostName()))\n            {\n                if (addr.AddressFamily == AddressFamily.InterNetwork)\n                {\n                    localIP = addr;\n                    break;\n                }\n            }\n\n            client = new TcpClient(AddressFamily.InterNetwork);\n        }\n\n        private void button2_Click(object sender, EventArgs e)\n        {\n            try\n            {\n                client.BeginConnect(IPAddress.Parse(\"109.252.107.144\"), 1234, clientConnectCallback, client);\n            }\n            catch (Exception ex)\n            {\n                Log(ex.Message);\n            }\n        }\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n            if (connected)\n            {\n                UTF8Encoding encoder = new UTF8Encoding();\n                NetworkStream clientStream = client.GetStream();\n\n                byte[] stringToSend = new byte[richTextBox2.Text.Length];\n                stringToSend = encoder.GetBytes(richTextBox2.Text);\n                clientStream.Write(stringToSend, 0, stringToSend.Length);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Server:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Text;\nusing System.Windows.Forms;\nusing System.Net;\nusing System.Net.Sockets;\nusing System.Threading;\n\nnamespace TcpTest\n{\n    public partial class Form1 : Form\n    {\n        private TcpListener server;\n        private List&lt;Thread&gt; clientThreads = null;\n\n        public Thread MainThread;\n\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        public void Log(string msg)\n        {\n            richTextBox1.BeginInvoke(new Action(\n            () =&gt;\n            {\n                richTextBox1.Text += msg + \"\\n\";\n            }));\n        }\n\n        public static string bufferincmessage;\n        public void AcceptSocketPackets(object client)\n        {\n            TcpClient tcpClient = (TcpClient)client;\n            NetworkStream clientStream = tcpClient.GetStream();\n\n            byte[] message = new byte[4096];\n            int bytesRead;\n\n            while (true)\n            {\n                bytesRead = 0;\n                try\n                {\n                    //blocks until a client sends a message\n                    bytesRead = clientStream.Read(message, 0, 4096);\n                }\n                catch (Exception ex)\n                {\n                    //a socket error has occured\n                    Log(ex.Message);\n                    break;\n                }\n                if (bytesRead == 0)\n                {\n                    //the client has disconnected from the server\n                    Log(\"Client on \" + tcpClient.Client.RemoteEndPoint + \" has disconnected from the server\");\n                    break;\n                }\n\n                //message has successfully been received\n                UTF8Encoding encoder = new UTF8Encoding();\n                bufferincmessage = encoder.GetString(message, 0, bytesRead);\n                Log(\"Client from \" + tcpClient.Client.RemoteEndPoint + \": \" + bufferincmessage);\n\n                string stringToSend = \"You sent me: \" + bufferincmessage;\n                byte[] messageToSend = new byte[stringToSend.Length];\n                messageToSend = encoder.GetBytes(stringToSend);\n                clientStream.Write(messageToSend, 0, messageToSend.Length);\n            }\n        }\n\n        public void SocketAcceptCallback(IAsyncResult result)\n        {\n            TcpClient newClient = server.EndAcceptTcpClient(result);\n\n            Log(\"Accepted client on \" + newClient.Client.RemoteEndPoint);\n\n            clientThreads.Add(new Thread(new ParameterizedThreadStart(AcceptSocketPackets)));\n            clientThreads[clientThreads.Count - 1].Start(newClient);\n\n            server.BeginAcceptTcpClient(SocketAcceptCallback, server);\n        }\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n            MainThread = Thread.CurrentThread;\n            clientThreads = new List&lt;Thread&gt;();\n\n            try\n            {\n                IPAddress localIP = null;\n                foreach (IPAddress addr in Dns.GetHostAddresses(Dns.GetHostName()))\n                {\n                    if (addr.AddressFamily == AddressFamily.InterNetwork)\n                    {\n                        localIP = addr;\n                        break;\n                    }\n                }\n\n                localIP = IPAddress.Any;\n                // could also use this:\n                // server = new TcpListener(new IPEndPoint(IPAddress.Any, 1234));\n                server = new TcpListener(new IPEndPoint(localIP, 1234));\n\n                Log(\"Starting server on \" + localIP + \":1234\");\n\n                server.Start(6);\n\n                server.BeginAcceptTcpClient(SocketAcceptCallback, server);\n\n                Log(\"Started server on \" + localIP + \":1234\");\n            }\n            catch (Exception ex)\n            {\n                Log(ex.Message);\n            }\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api", "simple-injector"], "comments": [{"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1535562642, "post_id": 52082514, "comment_id": 91115911, "body": "Can you show the code for that particular controller? Does it inherit from <code>ApiController</code>?"}, {"owner": {"reputation": 203, "user_id": 1384973, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/324a64ff79889c4d6e9dfbf54ae00f88?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Scerri", "link": "https://stackoverflow.com/users/1384973/matthew-scerri"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1535616272, "post_id": 52082514, "comment_id": 91133904, "body": "@Steven - added the controller code for your reference, which seems to be okay unless I&#39;m missing something? Will keep digging to figure out why this is happening. Thanks for your help!"}, {"owner": {"reputation": 203, "user_id": 1384973, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/324a64ff79889c4d6e9dfbf54ae00f88?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Scerri", "link": "https://stackoverflow.com/users/1384973/matthew-scerri"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 1, "creation_date": 1535619491, "post_id": 52082514, "comment_id": 91135863, "body": "@Steven - looks like I found the issue. The <code>SimpleInjector.Integration.WebApi</code> package we had installed from nuget was on version <code>3.1.0</code>. Upgrading this to <code>4.3.0</code> in line with the <code>SimpleInjector</code> package solved the issue.  Thanks again!"}], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 1384973, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/324a64ff79889c4d6e9dfbf54ae00f88?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Scerri", "link": "https://stackoverflow.com/users/1384973/matthew-scerri"}, "edited": false, "score": 0, "creation_date": 1535569597, "post_id": 52084128, "comment_id": 91119272, "body": "Thanks for the prompt and detailed reply @steven, much appreciated! I&#39;ll go through the code as soon as I get access to it again and will post here. I&#39;m almost convinced that they do inherit from <code>ApiController</code> but need to double check and provide more info surrounding the controller setup if so."}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "reply_to_user": {"reputation": 203, "user_id": 1384973, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/324a64ff79889c4d6e9dfbf54ae00f88?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Scerri", "link": "https://stackoverflow.com/users/1384973/matthew-scerri"}, "edited": false, "score": 0, "creation_date": 1535569711, "post_id": 52084128, "comment_id": 91119321, "body": "If a controller inherits ApiController and is registered through RegisterWebApiControllers, you will not experience the diagnostic warning. So either one of these two conditions is false in your case."}, {"owner": {"reputation": 203, "user_id": 1384973, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/324a64ff79889c4d6e9dfbf54ae00f88?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Scerri", "link": "https://stackoverflow.com/users/1384973/matthew-scerri"}, "edited": false, "score": 0, "creation_date": 1535619575, "post_id": 52084128, "comment_id": 91135928, "body": "Accepting this as the answer as it provided in-depth info to what&#39;s going on. It helped me realise the issue was more to do with configuration than the actual process. Updating the question with what turned out to be the actual cause."}], "tags": [], "owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "is_accepted": true, "score": 1, "last_activity_date": 1535567928, "creation_date": 1535567928, "answer_id": 52084128, "question_id": 52082514, "link": "https://stackoverflow.com/questions/52082514/simple-injector-registerwebapicontroller-failing-to-suppress-disposabletransien/52084128#52084128", "title": "Simple Injector: RegisterWebApiController failing to suppress DisposableTransientComponent warning", "body": "<p>The most likely reason this is happening is because your Web API Controller implements both <code>IHttpController</code> and <code>IDisposable</code>, but does not inherit from <code>ApiController</code>.</p>\n\n<p>Web API's <code>ApiController</code> base class registers itself for disposal (by calling <code>RegisterForDispose</code>) <em>inside</em> its <code>SendAsync</code> method. This ensures that the controller will get disposed when the request ends.</p>\n\n<p>This is why Simple Injector suppresses the diagnostic warning on controllers that inherit from <code>ApiController</code>; Web API will ensure they will get disposed.</p>\n\n<p>Since the registration for disposal happens <em>inside</em> the <code>ApiController</code>, it does mean that a controller that simply implements <code>IHttpController</code> (but without inheriting from <code>ApiController</code>) will never get disposed. This is why Simple Injector only suppresses this warning in the case of <code>ApiController</code> derivatives.</p>\n\n<p>Because of this, you should <strong>never</strong> suppress this diagnostic warning on your Web API controllers without taking other prepercusions that garantee your controller is disposed. </p>\n\n<p>If your controller has no meaningful dispose logic, you should remove the <code>IDisposable</code> interface from the controller. This removes the problem. It should be rare for a controller to require dispose logic, because you should typically extract this to other services; controllers should typically not depend on resources that it creates itself.</p>\n\n<p>If that controller, however, does require disposal, you can override its registration to become <code>Lifestyle.Scoped</code>. This ensures the type is disposed by Simple Injector:</p>\n\n<p>container.RegisterWebApiControllers(\n        configuration, Assembly.GetAssembly(typeof(TestController)));</p>\n\n<pre><code>container.Options.AllowOverridingRegistrations = true;\ncontainer.Register&lt;MySpecialController&gt;(Lifestyle.Scoped);\ncontainer.Options.AllowOverridingRegistrations = false;\n</code></pre>\n\n<p>Alternatively, you can suppress the diagnostic warning, only on that specific controller, and cook a special delegate that ensures its disposal:</p>\n\n<pre><code>container.GetRegistration(typeof(MySpecialController)).Registration\n    .SuppressDiagnosticWarning(DiagnosticType.DisposableTransientComponent, \n        \"We dispose manually.\");\n\ncontainer.RegisterInitializer&lt;MySpecialController&gt;(c =&gt;\n    Lifestyle.Scoped.GetCurrentScope(container).RegisterForDisposal(c));\n</code></pre>\n"}], "owner": {"reputation": 203, "user_id": 1384973, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/324a64ff79889c4d6e9dfbf54ae00f88?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Scerri", "link": "https://stackoverflow.com/users/1384973/matthew-scerri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 52084128, "answer_count": 1, "score": 2, "last_activity_date": 1535619700, "creation_date": 1535561447, "last_edit_date": 1535619700, "question_id": 52082514, "link": "https://stackoverflow.com/questions/52082514/simple-injector-registerwebapicontroller-failing-to-suppress-disposabletransien", "title": "Simple Injector: RegisterWebApiController failing to suppress DisposableTransientComponent warning", "body": "<p>I may be simplifying or misunderstanding things, so I'd like to apologise in advance if this is a really dumb question. :)</p>\n\n<p>Based on the documentation and code I've seen, my understanding is that when calling <code>RegisterWebApiController</code> with Simple Injector (on <code>4.3.0</code>), the \"Disposable Transient Component\" warnings should be suppressed for all classes that are of type <code>ApiController</code>.</p>\n\n<p>Having said that, the below code is throwing an invalid configuration error</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class SimpleInjectorConfiguration\n{\n    public static void Configure(\n        Container container, HttpConfiguration configuration)\n    {\n        container.RegisterWebApiControllers(\n            configuration, Assembly.GetAssembly(typeof(TestController)));\n\n        //Register the other required classes\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>The configuration is invalid. The following diagnostic warnings were reported:\n  -[Disposable Transient Component]  is registered as transient, but implements IDisposable.</p>\n</blockquote>\n\n<p>None of the controllers actually override the <code>IDisposable</code> method, and from what I can debug, the below code fragment (taken from the latest <code>Simple Injector</code> <a href=\"https://github.com/simpleinjector/SimpleInjector/blob/master/src/SimpleInjector.Integration.WebApi/SimpleInjectorWebApiExtensions.cs\" rel=\"nofollow noreferrer\">source</a>) should be getting called successfully:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>registration.SuppressDiagnosticWarning(DiagnosticType.DisposableTransientComponent,\n    justification:\n        \"Web API registers controllers for disposal when the request ends during the \" +\n        \"call to ApiController.ExecuteAsync.\");\n</code></pre>\n\n<p>The confusion comes from the fact that when I modify the <code>Configure</code> method with the below code, it does successfully suppress the warnings (i.e. It works).</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public static void Configure(\n    Container container, HttpConfiguration configuration)\n{\n    container.RegisterWebApiControllers(\n        configuration, Assembly.GetAssembly(typeof(TestController)));\n\n    foreach (var component in container.GetCurrentRegistrations())\n    {\n        component.Registration.SuppressDiagnosticWarning(\n            DiagnosticType.DisposableTransientComponent, \n    \"Web API registers controllers for disposal when the request ends during \" +\n        \"the call to ApiController.ExecuteAsync.\");\n    }\n\n    //Register the other required classes\n}\n</code></pre>\n\n<p>To add to the confusion, we've used Simple Injector in a number of other projects and the warning suppression seems to work as intended in all of them but this which is why I'm thinking it's a configuration issue of some sort. I've tried comparing the projects to find what's different, but unfortunately I'm not coming up with anything as yet.</p>\n\n<p>The <code>TestController</code> code is defined as</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[RoutePrefix(\"api/Test\")]\npublic class TestController : ApiController\n{\n    public IHttpActionResult GetTestString()\n    {\n        return Ok(\"Test String from Test Controller\");\n    }\n}\n</code></pre>\n\n<p>Anyone ever encountered this or can shed some light as to why this may be happening? Thank you!</p>\n\n<hr>\n\n<h2>Update</h2>\n\n<p>Thanks to the information provided by Steven below, I managed to figure out that the issue was because of what looks like inconsistencies between <code>SimpleInjector</code> libraries.</p>\n\n<p><code>SimpleInjector</code> was on <code>4.3.0</code>, while <code>SimpleInjector.Integration.WebApi</code> was on <code>3.1.0</code>. Upgrading <code>SimpleInjector.Integration.WebApi</code> to <code>4.3.0</code> did the trick.</p>\n"}, {"tags": ["c#", "botframework"], "comments": [{"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 1, "creation_date": 1535561514, "post_id": 52082431, "comment_id": 91115304, "body": "You should provide more information than <i>it doesn&#39;t work</i>. Like, <i>in what way</i> doesn&#39;t it work? What happens when you run the code? And other information like that."}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1535561953, "post_id": 52082431, "comment_id": 91115523, "body": "What channel does it not work on? Have you tried other channels? Does it work in the emulator?"}], "answers": [{"tags": [], "owner": {"reputation": 21271, "user_id": 6751634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kjSAI.jpg?s=128&g=1", "display_name": "Fei Han", "link": "https://stackoverflow.com/users/6751634/fei-han"}, "is_accepted": false, "score": 0, "last_activity_date": 1535598409, "creation_date": 1535598409, "answer_id": 52088686, "question_id": 52082431, "link": "https://stackoverflow.com/questions/52082431/cant-add-image-to-button-in-herocard/52088686#52088686", "title": "Can&#39;t add image to button in HeroCard", "body": "<blockquote>\n  <p>trying to add an image/icon on a button in HeroCard, but for some reason it doesn't work. </p>\n</blockquote>\n\n<p>In <a href=\"https://docs.botframework.com/en-us/csharp/builder/sdkreference/d3/d1f/class_microsoft_1_1_bot_1_1_connector_1_1_card_action.html#a7e63c00ae4c8f68cd0ba9e3bb58155fa\" rel=\"nofollow noreferrer\">Bot Builder for .NET documentation</a>, we can find: </p>\n\n<blockquote>\n  <p>\"<em>URL Picture which will appear on the button, next to text label.</em>\"</p>\n</blockquote>\n\n<p>In <a href=\"https://docs.botframework.com/en-us/node/builder/chat-reference/classes/_botbuilder_d_.cardaction.html#image\" rel=\"nofollow noreferrer\">Bot Builder for Node.js documentation</a>, we can find:</p>\n\n<blockquote>\n  <p>\"<em>For buttons an image to include next to the buttons label. <strong>Not supported by all channels.</em></strong>\"</p>\n</blockquote>\n\n<p>But based on my experience and <a href=\"https://github.com/Microsoft/BotBuilder/issues/2232\" rel=\"nofollow noreferrer\">this github issue</a>, it seems that it does not be implemented in any channel.</p>\n"}], "owner": {"reputation": 75, "user_id": 5257107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95f5b0250a23244e41ae82e39044d35b?s=128&d=identicon&r=PG&f=1", "display_name": "Aviram Adiri", "link": "https://stackoverflow.com/users/5257107/aviram-adiri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1535598409, "creation_date": 1535561126, "question_id": 52082431, "link": "https://stackoverflow.com/questions/52082431/cant-add-image-to-button-in-herocard", "title": "Can&#39;t add image to button in HeroCard", "body": "<p>I'm trying to add an image/icon on a button in HeroCard, but for some reason it doesn't work.\nAny idea what could be the problem?</p>\n\n<pre><code>var logo= @\"https://upload.wikimedia.org/wikipedia/commons/8/89/Farm-Fresh_user_zorro.png\";\nvar button= new CardAction(\"openUrl\", value: \"someUrl\", image: logo);\n\nvar card = new HeroCard\n{\n    Title = \"title\",\n    Subtitle = \"some SubTitle\",\n    Text = \"Some Text\",\n    Buttons = new List&lt;CardAction&gt;()\n    {\n        button\n    }\n};\n</code></pre>\n"}, {"tags": ["c#", "python", "byte"], "comments": [{"owner": {"reputation": 458, "user_id": 8420233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5JX6a.png?s=128&g=1", "display_name": "absoluteAquarian", "link": "https://stackoverflow.com/users/8420233/absoluteaquarian"}, "edited": false, "score": 2, "creation_date": 1535561267, "post_id": 52082406, "comment_id": 91115190, "body": "Please provide a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example</a> of your example.  Also:  <a href=\"http://idownvotedbecau.se/noattempt/\" rel=\"nofollow noreferrer\">idownvotedbecau.se/noattempt</a> and <a href=\"http://idownvotedbecau.se/nocode/\" rel=\"nofollow noreferrer\">idownvotedbecau.se/nocode</a>"}, {"owner": {"reputation": 11, "user_id": 10291124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/031eaf3c03e10060dcb298f2520ffd37?s=128&d=identicon&r=PG&f=1", "display_name": "enwy", "link": "https://stackoverflow.com/users/10291124/enwy"}, "reply_to_user": {"reputation": 458, "user_id": 8420233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5JX6a.png?s=128&g=1", "display_name": "absoluteAquarian", "link": "https://stackoverflow.com/users/8420233/absoluteaquarian"}, "edited": false, "score": 0, "creation_date": 1535561809, "post_id": 52082406, "comment_id": 91115450, "body": "Sorry I am new to this, edited with more infos"}, {"owner": {"reputation": 1427, "user_id": 4634044, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/og1vc.jpg?s=128&g=1", "display_name": "ChristianMurschall", "link": "https://stackoverflow.com/users/4634044/christianmurschall"}, "edited": false, "score": 0, "creation_date": 1535561980, "post_id": 52082406, "comment_id": 91115540, "body": "Your example code does not even compile...."}, {"owner": {"reputation": 11, "user_id": 10291124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/031eaf3c03e10060dcb298f2520ffd37?s=128&d=identicon&r=PG&f=1", "display_name": "enwy", "link": "https://stackoverflow.com/users/10291124/enwy"}, "edited": false, "score": 0, "creation_date": 1535562314, "post_id": 52082406, "comment_id": 91115711, "body": "i was missing the vector bytes array it should be ok now"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10291124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/031eaf3c03e10060dcb298f2520ffd37?s=128&d=identicon&r=PG&f=1", "display_name": "enwy", "link": "https://stackoverflow.com/users/10291124/enwy"}, "edited": false, "score": 0, "creation_date": 1535563307, "post_id": 52082960, "comment_id": 91116289, "body": "Thank you a lot it works, didn&#39;t know c# doesn&#39;t support this ! Have a nice day:)"}, {"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1535564605, "post_id": 52082960, "comment_id": 91116928, "body": "It is a sequence of binary bytes expressed as an ASCII character when possible and as a hex escaped value otherwise as shown in the last line of the answer."}], "tags": [], "owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "is_accepted": true, "score": 3, "last_activity_date": 1535565220, "last_edit_date": 1535565220, "creation_date": 1535563068, "answer_id": 52082960, "question_id": 52082406, "link": "https://stackoverflow.com/questions/52082406/c-byte-array-length-inferior-to-python/52082960#52082960", "title": "C# byte array length inferior to python", "body": "<p>The byte string you have is in a sort of mixed encoding, with unicode code-points and ASCII representations of characters alongside each-other. You can see this in a few places, </p>\n\n<blockquote>\n  <p>'\\xd7\\xdf\\xca<strong>2</strong>\\xd0<strong>Vhu</strong>\\xeb\\x06\\xa0\\xba <strong>\\n</strong>\\xa2\\x07<strong>O</strong>\\xc1\\x8b\\xcf\\x8f<strong>2&amp;t</strong>\\xc0\\x92\\xc4\\xa5\\x0b <strong>></strong>\\xb4\\xe7\\xbc'</p>\n</blockquote>\n\n<p>If you convert those over to codepoints, you end up with <code>\"\\xd7\\xdf\\xca\\x32\\xd0\\x56\\x68\\x75\\xeb\\x06\\xa0\\xba\\x0a\\xa2\\x07\\x4f\\xc1\\x8b\\xcf\\x8f\\x32\\x26\\x74\\xc0\\x92\\xc4\\xa5\\x0b\\x3e\\xb4\\xe7\\xbc\"</code>, and should have the correct bytes for your key.</p>\n\n<pre><code>var val = \"\\xd7\\xdf\\xca\\x32\\xd0\\x56\\x68\\x75\\xeb\\x06\\xa0\\xba\\x0a\\xa2\\x07\\x4f\\xc1\\x8b\\xcf\\x8f\\x32\\x26\\x74\\xc0\\x92\\xc4\\xa5\\x0b\\x3e\\xb4\\xe7\\xbc\";\nvar count = Encoding.Default.GetByteCount(val);\nConsole.WriteLine(count); // 32 \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10291124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/031eaf3c03e10060dcb298f2520ffd37?s=128&d=identicon&r=PG&f=1", "display_name": "enwy", "link": "https://stackoverflow.com/users/10291124/enwy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 52082960, "answer_count": 1, "score": -2, "last_activity_date": 1535566420, "creation_date": 1535561040, "last_edit_date": 1535566420, "question_id": 52082406, "link": "https://stackoverflow.com/questions/52082406/c-byte-array-length-inferior-to-python", "title": "C# byte array length inferior to python", "body": "<p>I'm trying to port some Python code to C# and in the code there is a part where it encrypts a string with AES with the following key: </p>\n\n<blockquote>\n  <p>'\\xd7\\xdf\\xca2\\xd0Vhu\\xeb\\x06\\xa0\\xba\\n\\xa2\\x07O\\xc1\\x8b\\xcf\\x8f2&amp;t\\xc0\\x92\\xc4\\xa5\\x0b>\\xb4\\xe7\\xbc'</p>\n</blockquote>\n\n<p>This key is 32 bytes in Python, but the problem is that in C# it is 30 bytes when I convert that string (<code>Encoding.Default.GetBytes</code>), so I can't generate the AES key.</p>\n\n<p><strong>Why is the length of the key 32 in Python and the byte array length is 30 in C#?</strong> </p>\n\n<p>Converting the key to bytes array: </p>\n\n<pre><code>byte[] key = Encoding.Default.GetBytes(\"\\xd7\\xdf\\xca2\\xd0Vhu\\xeb\\x06\\xa0\\xba\\n\\xa2\\x07O\\xc1\\x8b\\xcf\\x8f2&amp;t\\xc0\\x92\\xc4\\xa5\\x0b&gt;\\xb4\\xe7\\xbc\");\n</code></pre>\n\n<p>Getting invalid key size for algorithm exception (because it's 30 bytes and not 32):</p>\n\n<pre><code>byte[] encrypted;\nbyte[] iv;\nusing (Aes aesAlg = Aes.Create())\n{\n    aesAlg.Key = key;\n    aesAlg.GenerateIV();\n    iv = aesAlg.IV;\n    aesAlg.Mode = CipherMode.CBC;\n\n    var encryptor = aesAlg.CreateEncryptor(aesAlg.Key, iv);\n\n    using (var msEncrypt = new MemoryStream())\n    {\n        using (var csEncrypt = new CryptoStream(msEncrypt, encryptor, CryptoStreamMode.Write))\n        {\n            using (var swEncrypt = new StreamWriter(csEncrypt))\n            {\n                swEncrypt.Write(\"test\");\n            }\n            encrypted = msEncrypt.ToArray();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net-standard-2.0"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535561150, "post_id": 52082389, "comment_id": 91115140, "body": "Why not have one .SLN/.csproj for the full framework and one for the standard framework that references the same source files?"}, {"owner": {"reputation": 18739, "user_id": 4003407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1bb6a20caae0ab19fe7eab3ac3f74fb?s=128&d=identicon&r=PG&f=1", "display_name": "user4003407", "link": "https://stackoverflow.com/users/4003407/user4003407"}, "edited": false, "score": 3, "creation_date": 1535561222, "post_id": 52082389, "comment_id": 91115173, "body": "<code>.csproj</code> can conditionally reference packages depending on build target."}, {"owner": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "edited": false, "score": 2, "creation_date": 1535561316, "post_id": 52082389, "comment_id": 91115206, "body": "<code>$(TargetFramework)</code> conditions inside the <code>.csproj</code>."}, {"owner": {"reputation": 546, "user_id": 2934290, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3657ab15f728742d7d0b720991cfd414?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Christof", "link": "https://stackoverflow.com/users/2934290/thomas-christof"}, "edited": false, "score": 1, "creation_date": 1535561635, "post_id": 52082389, "comment_id": 91115362, "body": "Thanks for the keyword. Gonna try it asap"}], "answers": [{"tags": [], "owner": {"reputation": 546, "user_id": 2934290, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3657ab15f728742d7d0b720991cfd414?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Christof", "link": "https://stackoverflow.com/users/2934290/thomas-christof"}, "is_accepted": true, "score": 4, "last_activity_date": 1535576953, "last_edit_date": 1535576953, "creation_date": 1535576097, "answer_id": 52085939, "question_id": 52082389, "link": "https://stackoverflow.com/questions/52082389/target-net-4-x-and-net-standard-2-0/52085939#52085939", "title": "Target .NET 4.x and .NET Standard 2.0", "body": "<p>Solved the Problem with the suggested solution. The .csproj Looks like following</p>\n\n<pre><code>&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;  \n  &lt;PropertyGroup&gt;\n    &lt;TargetFrameworks&gt;net46;netstandard2.0&lt;/TargetFrameworks&gt;\n  &lt;/PropertyGroup&gt;\n  &lt;PropertyGroup&gt;\n     &lt;RestoreProjectStyle&gt;PackageReference&lt;/RestoreProjectStyle&gt;\n  &lt;/PropertyGroup&gt;\n  &lt;ItemGroup&gt;\n    &lt;Compile Remove=\"packages\\**\" /&gt;\n    &lt;EmbeddedResource Remove=\"packages\\**\" /&gt;\n    &lt;None Remove=\"packages\\**\" /&gt;\n  &lt;/ItemGroup&gt;\n\n  &lt;ItemGroup&gt;\n    &lt;!-- PackageReferences for all TargetFrameworks --&gt;\n  &lt;/ItemGroup&gt;\n\n  &lt;ItemGroup Condition=\"'$(TargetFramework)' == 'net46' \"&gt;\n    &lt;!-- PackageReferences for net46 TargetFramework --&gt;\n  &lt;/ItemGroup&gt;\n\n  &lt;ItemGroup Condition=\"'$(TargetFramework)' == 'netstandard2.0' \"&gt;\n    &lt;!-- PackageReferences for standard2.0 TargetFramework --&gt;\n  &lt;/ItemGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n\n<p>The only issue currently: I can't use the NuGet Package-Manager. I have to add every entry manually into the correct ItemGroup.</p>\n\n<p>EDIT: The manual edit is only required if the packages are not supported by both TargetFrameworks. Simply Change in the Settings -> NuGet-Paket-Manager -> Default Format -> PackageReference</p>\n\n<p><a href=\"https://i.stack.imgur.com/Razvb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Razvb.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 4625, "user_id": 1478654, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BiUl3.png?s=128&g=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/1478654/clay"}, "is_accepted": false, "score": 1, "last_activity_date": 1535577228, "creation_date": 1535577228, "answer_id": 52086152, "question_id": 52082389, "link": "https://stackoverflow.com/questions/52082389/target-net-4-x-and-net-standard-2-0/52086152#52086152", "title": "Target .NET 4.x and .NET Standard 2.0", "body": "<p>You can add source files from an existing project to another project as a link.</p>\n\n<pre><code>project a\n   somefile.cs\n\nproject b\n</code></pre>\n\n<p>Right click on project b, add existing item...navigate to somefile.cs in project a, and then add <a href=\"https://i.stack.imgur.com/OFsxf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OFsxf.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can edit the file from either project...so be careful.</p>\n"}], "owner": {"reputation": 546, "user_id": 2934290, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3657ab15f728742d7d0b720991cfd414?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Christof", "link": "https://stackoverflow.com/users/2934290/thomas-christof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1184, "favorite_count": 1, "accepted_answer_id": 52085939, "answer_count": 2, "score": 1, "last_activity_date": 1535577228, "creation_date": 1535560978, "question_id": 52082389, "link": "https://stackoverflow.com/questions/52082389/target-net-4-x-and-net-standard-2-0", "title": "Target .NET 4.x and .NET Standard 2.0", "body": "<p>Last year I added .NET Standard 2.0 support to the <a href=\"https://www.nuget.org/packages/Network/\" rel=\"nofollow noreferrer\">Network library</a>. I did achieve this by creating a second (.NET Standard) project, and basically copy + paste the sourcecode. With some adjustments it was ready to go.</p>\n\n<p>But since I add features on demand, it is really bothersome to change the same thing in both projects. It would be great to just create one code-base and simply change the compile target.</p>\n\n<p>Pre-Compile statements aren't an option, because the .NET 4.x version does additionally include some NuGet packages, which aren't available for .NET Standard.</p>\n\n<p>The solution I can currently think of is, to create a shared library, including all the cross-project classes. Or is there a much smoother solution?</p>\n"}, {"tags": ["c#", ".net", "log4net", "class-library"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5626305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b4093d6970d9163c146c9f664c3a25?s=128&d=identicon&r=PG&f=1", "display_name": "Vasco Silva", "link": "https://stackoverflow.com/users/5626305/vasco-silva"}, "edited": false, "score": 0, "creation_date": 1535561679, "post_id": 52082446, "comment_id": 91115379, "body": "Thank you.What is appenderName ?"}, {"owner": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "reply_to_user": {"reputation": 21, "user_id": 5626305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b4093d6970d9163c146c9f664c3a25?s=128&d=identicon&r=PG&f=1", "display_name": "Vasco Silva", "link": "https://stackoverflow.com/users/5626305/vasco-silva"}, "edited": false, "score": 0, "creation_date": 1535561854, "post_id": 52082446, "comment_id": 91115473, "body": "In your case <code>LogFileAppender</code>."}, {"owner": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "reply_to_user": {"reputation": 21, "user_id": 5626305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b4093d6970d9163c146c9f664c3a25?s=128&d=identicon&r=PG&f=1", "display_name": "Vasco Silva", "link": "https://stackoverflow.com/users/5626305/vasco-silva"}, "edited": false, "score": 0, "creation_date": 1535625168, "post_id": 52082446, "comment_id": 91139713, "body": "I add my test code to end of answer. I hope it helps."}, {"owner": {"reputation": 21, "user_id": 5626305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b4093d6970d9163c146c9f664c3a25?s=128&d=identicon&r=PG&f=1", "display_name": "Vasco Silva", "link": "https://stackoverflow.com/users/5626305/vasco-silva"}, "edited": false, "score": 0, "creation_date": 1535640134, "post_id": 52082446, "comment_id": 91150129, "body": "Thank You @Adem Catamak. I think that I know what is wrong with me. You use a Console Application Project and I&#39;m using WebAPI Project and it dont work."}, {"owner": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "reply_to_user": {"reputation": 21, "user_id": 5626305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b4093d6970d9163c146c9f664c3a25?s=128&d=identicon&r=PG&f=1", "display_name": "Vasco Silva", "link": "https://stackoverflow.com/users/5626305/vasco-silva"}, "edited": false, "score": 0, "creation_date": 1535643202, "post_id": 52082446, "comment_id": 91152158, "body": "Console app \u201clog4net.config\u201d is search under bin directory. In web app it search under web project directory. You can change ediy csproj file and every time it can copy log4net config file from common to web app folder. If you want I can supply csproj file"}, {"owner": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "reply_to_user": {"reputation": 21, "user_id": 5626305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b4093d6970d9163c146c9f664c3a25?s=128&d=identicon&r=PG&f=1", "display_name": "Vasco Silva", "link": "https://stackoverflow.com/users/5626305/vasco-silva"}, "edited": false, "score": 0, "creation_date": 1535701488, "post_id": 52082446, "comment_id": 91171946, "body": "I edited answer. WebApp and Console app can write log with last update of log class. Problem was finding config file:)"}], "tags": [], "owner": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "is_accepted": false, "score": 3, "last_activity_date": 1536040751, "last_edit_date": 1536040751, "creation_date": 1535561182, "answer_id": 52082446, "question_id": 52082354, "link": "https://stackoverflow.com/questions/52082354/how-can-i-use-log4net-in-class-library/52082446#52082446", "title": "How can I use log4net in Class Library", "body": "<p>Class library config file is not important, Startup project config file is considered. Hence, if you write this configuration into your startup project config file, it probably works expectedly.</p>\n\n<p>If you want to manage configuration from one config file, you can generate log4net.config file and you  can load it like that:</p>\n\n<p>Note: if you create separate config file in common project, you change CopyToOutputDirectory properties as <code>always</code> or <code>if newer</code>.</p>\n\n<p>Config file : </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;log4net&gt;\n\n&lt;logger name=\"log4netFileLogger\"&gt;\n\n&lt;appender name=\"log4netFileAppender\" type=\"log4net.Appender.FileAppender\"&gt;\n  &lt;file type=\"log4net.Util.PatternString\"&gt;\n    &lt;conversionPattern value=\"C:\\Logger\\%date{yyyy-MM-dd}.log\" /&gt;\n  &lt;/file&gt;\n\n  &lt;param name=\"RollingStyle\" value=\"Date\" /&gt;\n  &lt;param name=\"StaticLogFileName\" value=\"false\" /&gt;\n  &lt;layout type=\"log4net.Layout.PatternLayout,log4net\"&gt;\n    &lt;param name=\"ConversionPattern\" value=\"%newline%newline%date [%thread] %-5level - %message%newline\" /&gt;\n  &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;root&gt;\n  &lt;level value=\"ALL\" /&gt;\n  &lt;appender-ref ref=\"log4netFileAppender\" /&gt;\n&lt;/root&gt;\n\n&lt;/logger&gt;\n\n&lt;/log4net&gt;\n</code></pre>\n\n<p>Log class : </p>\n\n<pre><code>public class CustomLogger\n{\n    private readonly ILog _log;\n\n    public CustomLogger()\n    {\n        var baseDirectory = AppDomain.CurrentDomain.BaseDirectory;\n        var configFileDirectory = Path.Combine(baseDirectory, \"log4net.config\");\n\n        FileInfo configFileInfo = new FileInfo(configFileDirectory);\n        log4net.Config.XmlConfigurator.ConfigureAndWatch(configFileInfo);\n\n        _log = log4net.LogManager.GetLogger(\"log4netFileLogger\");\n    }\n\n    public void Info(string value)\n    {\n        _log.Info(value);\n    }\n}\n</code></pre>\n\n<p>config file properties : </p>\n\n<p><a href=\"https://i.stack.imgur.com/qbutK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qbutK.png\" alt=\"config file properties\"></a></p>\n\n<p>log file:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WW7CO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WW7CO.png\" alt=\"log file\"></a></p>\n\n<p>Web App needs pre-build events : </p>\n\n<pre><code>xcopy /E /Y /R \"$(ProjectDir)..\\CommonNetFrameworkLibrary\\log4net.config\" \"$(ProjectDir)\"\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/qal2k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qal2k.png\" alt=\"pre-build\"></a></p>\n\n<p>NOTE: In Logger class, below code is important. If you do not search base directory, logging only work for Console app. Reason is that: console app search file for <code>bin</code> directory, but web app search file for <code>C:\\ProgramFiles\\IIS</code>.</p>\n\n<pre><code>var baseDirectory = AppDomain.CurrentDomain.BaseDirectory;\nvar configFileDirectory = Path.Combine(baseDirectory, \"log4net.config\");\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5626305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b4093d6970d9163c146c9f664c3a25?s=128&d=identicon&r=PG&f=1", "display_name": "Vasco Silva", "link": "https://stackoverflow.com/users/5626305/vasco-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3850, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536040751, "creation_date": 1535560842, "question_id": 52082354, "link": "https://stackoverflow.com/questions/52082354/how-can-i-use-log4net-in-class-library", "title": "How can I use log4net in Class Library", "body": "<p>I want to config a log4net in Class library Project and use it on mvc project for example.</p>\n\n<p>The point is have a few projects (web api, mvc app, etc) with a reference to Common project (class library) with log4net configurated to write.</p>\n\n<p>I already did that, but log4net dont write anything. </p>\n\n<p>Class Library:</p>\n\n<pre><code>public class Log\n    {\n        private readonly ILog _log;\n\n        public Log()\n        {\n            _log = LogManager.GetLogger(System.Reflection.MethodBase.GetCurrentMethod().DeclaringType);\n        }\n\n        public void write(string value)\n        {\n            _log.Info(value);\n        }\n\n    } \n</code></pre>\n\n<p>mvc controller for example:</p>\n\n<pre><code>public ActionResult Index()\n        {\n            Log oLog = new Log();\n\n            oLog.write(\"ABABABAB\");\n\n            return View();\n        }\n</code></pre>\n\n<p>Config from Class Library: (App.config)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;configuration&gt;\n  &lt;configSections&gt;\n    &lt;section name=\"log4net\" type=\"log4net.Config.Log4NetConfigurationSectionHandler, log4net\" /&gt;\n  &lt;/configSections&gt;\n  &lt;log4net&gt;\n    &lt;appender name=\"LogFileAppender\" type=\"log4net.Appender.FileAppender\"&gt;\n      &lt;param name=\"File\" value=\"MyLogg.txt\" /&gt;\n      &lt;param name=\"AppendToFile\" value=\"true\" /&gt;\n      &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n        &lt;param name=\"Header\" value=\"\" /&gt;\n        &lt;param name=\"Footer\" value=\"\" /&gt;\n        &lt;param name=\"ConversionPattern\" value=\"%d [%t] %-5p %m%n\" /&gt;\n      &lt;/layout&gt;\n    &lt;/appender&gt;\n    &lt;root&gt;\n      &lt;!--LogLevel: OFF, FATAL, ERROR, WARN, INFO, DEBUG, ALL --&gt;\n      &lt;level value=\"ALL\" /&gt;\n      &lt;appender-ref ref=\"LogFileAppender\" /&gt;\n    &lt;/root&gt;\n  &lt;/log4net&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}, {"tags": ["c#", "dependency-injection", "autofac"], "answers": [{"tags": [], "owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "is_accepted": false, "score": 1, "last_activity_date": 1535574321, "creation_date": 1535574321, "answer_id": 52085561, "question_id": 52082318, "link": "https://stackoverflow.com/questions/52082318/how-to-register-a-type-whose-constructor-takes-a-func-parameter-in-autofac/52085561#52085561", "title": "How to register a type whose constructor takes a Func parameter in Autofac", "body": "<p>You need to explicitly convert the method group to a delegate type (otherwise, the compiler has no idea which delegate you want):</p>\n\n<pre><code>.WithParameter(\"provider\", new Func&lt;Task&lt;IProvider&lt;string, object&gt;&gt;&gt;(MyProviderFunc));\n</code></pre>\n"}], "owner": {"reputation": 4173, "user_id": 157845, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/235cc65b9ab84d0668eadfde60e41069?s=128&d=identicon&r=PG", "display_name": "Avalanchis", "link": "https://stackoverflow.com/users/157845/avalanchis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535574321, "creation_date": 1535560712, "last_edit_date": 1535567757, "question_id": 52082318, "link": "https://stackoverflow.com/questions/52082318/how-to-register-a-type-whose-constructor-takes-a-func-parameter-in-autofac", "title": "How to register a type whose constructor takes a Func parameter in Autofac", "body": "<p>I have a class with a constructor that accepts a Func parameter that I need to register with Autofac.</p>\n\n<p>Here's how the class is defined:</p>\n\n<pre><code>public class MyClass : IMyClass\n{\n  private Func&lt;Task&lt;IProvider&lt;string, object&gt;&gt;&gt; _provider;\n\n  public MyClass(Func&lt;Task&lt;IProvider&lt;string, object&gt;&gt;&gt; provider)\n  {\n    _provider = provider;\n  }\n\n  ...\n}\n</code></pre>\n\n<p>How would I register this class with Autofac?</p>\n\n<p>I've tried the following:</p>\n\n<pre><code>builder.RegisterType&lt;MyClass&gt;()\n  .As&lt;IMyClass&gt;()\n  .InstancePerLifetimeScope()\n  .WithParameter(\"provider\", MyProviderFunc);\n</code></pre>\n\n<p>but this results in the following compilation error:</p>\n\n<pre><code>cannot convert from 'method group' to 'object'\n</code></pre>\n\n<p>Here's the definition of MyProviderFunc:</p>\n\n<pre><code>private static Task&lt;ICRUDProvider&lt;string, object&gt;&gt; MyProviderFunc()\n{\n  ...\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "telerik", "raddocking"], "comments": [{"owner": {"reputation": 458, "user_id": 8420233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5JX6a.png?s=128&g=1", "display_name": "absoluteAquarian", "link": "https://stackoverflow.com/users/8420233/absoluteaquarian"}, "edited": false, "score": 0, "creation_date": 1535560709, "post_id": 52082221, "comment_id": 91114931, "body": "Please provide a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example</a> of your question.  <a href=\"http://idownvotedbecau.se/noattempt/\" rel=\"nofollow noreferrer\">idownvotedbecau.se/noattempt</a>"}], "answers": [{"tags": [], "owner": {"reputation": 192, "user_id": 7845440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3515279bbb11a9310bf0a7cc6bb82f7?s=128&d=identicon&r=PG&f=1", "display_name": "Vanghern", "link": "https://stackoverflow.com/users/7845440/vanghern"}, "is_accepted": false, "score": 0, "last_activity_date": 1536245577, "creation_date": 1536245577, "answer_id": 52206878, "question_id": 52082221, "link": "https://stackoverflow.com/questions/52082221/show-messagebox-at-center-of-radpane/52206878#52206878", "title": "Show &#39;MessageBox&#39; at center of RadPane", "body": "<p>It might be a little workaround, but <a href=\"https://stackoverflow.com/questions/19768952/what-is-the-best-way-to-show-a-wpf-window-at-the-mouse-location-to-the-top-left\">this topic</a> might help you. The idea is, to capture mouse position, while firing an event. You didn't say what causes your window to open, I assume it is MouseDoubleClickEvent, so this might suit you.</p>\n\n<p>Another option (haven't tried it) is to capture <strong>sender</strong> parameters within your event. After firing an event, you have sender (which is object, in your case RadPane), which returns VisualOffset of a component (which has 4 coordinates). Then you can manually set your window position as follows:</p>\n\n<pre><code>Window window = new Window();\nwindow.Left = offsetTop - x;\nwindow.Top = offsetLeft - y;\n</code></pre>\n\n<p>Unfortunately, WindowStartupLocation property, allows you to set it only to CenterOwner (center of parent window), CenterScreen and Manual. And well, Manual sounds really good, but it still requires you to know exact position of sender (parent).</p>\n"}], "owner": {"reputation": 139, "user_id": 5076486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c4c69ca1f966389a409457bb8a4d06?s=128&d=identicon&r=PG&f=1", "display_name": "Upendhar Singirikonda", "link": "https://stackoverflow.com/users/5076486/upendhar-singirikonda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536245577, "creation_date": 1535560337, "last_edit_date": 1535578786, "question_id": 52082221, "link": "https://stackoverflow.com/questions/52082221/show-messagebox-at-center-of-radpane", "title": "Show &#39;MessageBox&#39; at center of RadPane", "body": "<p>I have several <strong>RadPanes</strong> and <strong>RadPanGroups</strong> in my <strong>WPF</strong> application built using <strong>Telerik</strong> controls.</p>\n\n<p>I want to show a <strong>custom window</strong> (kind of message box) that is center to a particular <strong>RadPane</strong> not center to whole window or parent window or screen. </p>\n\n<p>I want to set <strong>Top</strong> and <strong>Left</strong> of <strong>custom window</strong> according to activated <strong>RadPane</strong></p>\n"}, {"tags": ["c#", "wpf", "data-binding", "dynamic-data-display"], "owner": {"reputation": 11, "user_id": 10186871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8325deaabbda8d6ad43b3d0ec80a4ac4?s=128&d=identicon&r=PG&f=1", "display_name": "Phantom805", "link": "https://stackoverflow.com/users/10186871/phantom805"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1535560064, "creation_date": 1535560064, "question_id": 52082158, "link": "https://stackoverflow.com/questions/52082158/dynamicdatadisplay-multiple-line-graphs", "title": "DynamicDataDisplay multiple line graphs", "body": "<p>I am using Dynamic Data Display and want to display a variable number of line graphs at runtime depending on a user selection. I can bind a single line graph to data in my viewmodel as shown below. (I am trying to strictly follow MVVM).</p>\n\n<p>View</p>\n\n<p><code>&lt;d3:ChartPlotter&gt;\n&lt;d3:LineGraph DataSource=\"{Binding Data}\"&gt;&lt;/d3:LineGraph&gt;\n&lt;/d3:ChartPlotter&gt;</code></p>\n\n<p>ViewModel</p>\n\n<pre><code>`public ObservableDataSource&lt;Point&gt; Data {\n        get =&gt; _data;\n        set\n        {\n            _data = value;\n            OnPropertyChanged(\"Data\");\n        }\n    }`\n</code></pre>\n\n<p>Should I dynamically add LineGraphs to the ChartPlotter after the user selection? I was hoping that I could bind to a list of <code>ObservableDataSource&lt;Point&gt;</code> where each element in the list corresponds to a LineGraph series but this does not seem possible.</p>\n\n<p>Any suggestions would be greatly appreciated.</p>\n"}, {"tags": ["c#", "visual-studio", "tfs", "tfsbuild"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535560387, "post_id": 52082106, "comment_id": 91114781, "body": "Are you using any nuget packages, like this question? <a href=\"https://stackoverflow.com/questions/35791592/could-not-load-file-or-assembly-microsoft-codeanalysis\" title=\"could not load file or assembly microsoft codeanalysis\">stackoverflow.com/questions/35791592/&hellip;</a>"}, {"owner": {"reputation": 21063, "user_id": 555518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f529e0afa52a1be2bb225acb3d4e162?s=128&d=identicon&r=PG", "display_name": "Chris Gessler", "link": "https://stackoverflow.com/users/555518/chris-gessler"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1535565161, "post_id": 52082106, "comment_id": 91117240, "body": "I have two NuGet packages related to test projects.  MSTest.TestAdapter and MSTest.TestFramework.  If I add the Microsoft.CodeAnalysis.CSharp package, it adds around 44 other packages.  I think this is related to VS Build Tools but I&#39;m uncertain how to repair it.  Possibly an upgrade might resolve this."}, {"owner": {"reputation": 800, "user_id": 3254405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4cdHb.png?s=128&g=1", "display_name": "boateng", "link": "https://stackoverflow.com/users/3254405/boateng"}, "edited": false, "score": 0, "creation_date": 1535569301, "post_id": 52082106, "comment_id": 91119149, "body": "May be try this fix <a href=\"https://stackoverflow.com/a/42560044/3254405\">stackoverflow.com/a/42560044/3254405</a>"}, {"owner": {"reputation": 21063, "user_id": 555518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f529e0afa52a1be2bb225acb3d4e162?s=128&d=identicon&r=PG", "display_name": "Chris Gessler", "link": "https://stackoverflow.com/users/555518/chris-gessler"}, "reply_to_user": {"reputation": 800, "user_id": 3254405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4cdHb.png?s=128&g=1", "display_name": "boateng", "link": "https://stackoverflow.com/users/3254405/boateng"}, "edited": false, "score": 0, "creation_date": 1535575653, "post_id": 52082106, "comment_id": 91121976, "body": "@numbtongue - I would have definitely tried that if there was an IDE.  How do I implement that solution with the VS build tools?  Is there a command line I can use?"}, {"owner": {"reputation": 800, "user_id": 3254405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4cdHb.png?s=128&g=1", "display_name": "boateng", "link": "https://stackoverflow.com/users/3254405/boateng"}, "edited": false, "score": 0, "creation_date": 1535576156, "post_id": 52082106, "comment_id": 91122201, "body": "Oh, it\u2019s possible you didn\u2019t install these build tools correctly.. Here\u2019s some info: <a href=\"https://stackoverflow.com/a/42697374/3254405\">stackoverflow.com/a/42697374/3254405</a>"}, {"owner": {"reputation": 800, "user_id": 3254405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4cdHb.png?s=128&g=1", "display_name": "boateng", "link": "https://stackoverflow.com/users/3254405/boateng"}, "edited": false, "score": 0, "creation_date": 1535632349, "post_id": 52082106, "comment_id": 91144478, "body": "Which OS is it, and why not go with github.. If Microsoft now owns it as well what do you think will happen to TFS.."}], "answers": [{"comments": [{"owner": {"reputation": 712, "user_id": 3610169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5i7U8.png?s=128&g=1", "display_name": "koga73", "link": "https://stackoverflow.com/users/3610169/koga73"}, "edited": false, "score": 0, "creation_date": 1542236917, "post_id": 52100614, "comment_id": 93500975, "body": "Thank you! Same issue for me and it does appear to be a bug with MS Build Tools. I had the issue with 15.6.7 and after updating to 15.9.0 no more error!"}], "tags": [], "owner": {"reputation": 21063, "user_id": 555518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f529e0afa52a1be2bb225acb3d4e162?s=128&d=identicon&r=PG", "display_name": "Chris Gessler", "link": "https://stackoverflow.com/users/555518/chris-gessler"}, "is_accepted": true, "score": 3, "last_activity_date": 1535642853, "creation_date": 1535642853, "answer_id": 52100614, "question_id": 52082106, "link": "https://stackoverflow.com/questions/52082106/tfs-2018-build-failing-with-error-msb6006-csc-exe-exited-with-code-1/52100614#52100614", "title": "TFS 2018 build failing with Error MSB6006: &quot;csc.exe&quot; exited with code 1", "body": "<p>Appears to be a bug in version 15.7.1. It's unclear if any other versions were affected by this bug, but upgrading to VS Build Tools to 15.8.2 resolved the issue.</p>\n\n<p>To discover the underlying issue of Error MSB6006: \u201ccsc.exe\u201d exited with code 1, set the following flag in the MSBuild arguments:</p>\n\n<pre><code>/v:diag\n</code></pre>\n\n<p>This will produce something similar to the following:</p>\n\n<pre><code>2018-08-29T21:07:25.0630293Z                      Task Parameter:WarningLevel=4 (TaskId:23)\n2018-08-29T21:07:25.0630927Z                      C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\MSBuild\\15.0\\Bin\\Roslyn\\csc.exe /noconfig /nowarn:1701,1702 /nostdlib+ /errorreport:prompt /warn:4 /define:TRACE /highentropyva+ /reference:\"C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.6.1\\Microsoft.CSharp.dll\" /reference:\"C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.6.1\\mscorlib.dll\" /reference:\"C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.6.1\\System.Core.dll\" /reference:\"C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.6.1\\System.Data.DataSetExtensions.dll\" /reference:\"C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.6.1\\System.Data.dll\" /reference:\"C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.6.1\\System.dll\" /reference:\"C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.6.1\\System.Net.Http.dll\" /reference:\"C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.6.1\\System.Xml.dll\" /reference:\"C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.6.1\\System.Xml.Linq.dll\" /debug:pdbonly /filealign:512 /optimize+ /out:obj\\Release\\Epay.Common.Core.dll /ruleset:\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\Team Tools\\Static Analysis Tools\\\\Rule Sets\\MinimumRecommendedRules.ruleset\" /subsystemversion:6.00 /target:library /utf8output Extensions\\ObjectExtensions.cs Properties\\AssemblyInfo.cs \"C:\\Windows\\TEMP\\.NETFramework,Version=v4.6.1.AssemblyAttributes.cs\" (TaskId:23)\n2018-08-29T21:07:25.0631621Z                      Using shared compilation with compiler from directory: C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\MSBuild\\15.0\\Bin\\Roslyn (TaskId:23)\n2018-08-29T21:07:25.5959306Z 16:07:24.786     6&gt;CoreCompile: (TargetId:111)\n2018-08-29T21:07:25.5959917Z                      Could not load file or assembly 'Microsoft.CodeAnalysis.CSharp, Version=2.8.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35' or one of its dependencies. The system cannot find the file specified. (TaskId:63)\n2018-08-29T21:07:25.6127920Z ##[error]C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\MSBuild\\15.0\\Bin\\Roslyn\\Microsoft.CSharp.Core.targets(52,5): Error MSB6006: \"csc.exe\" exited with code 1.\n2018-08-29T21:07:25.6128554Z 16:07:25.608     6&gt;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\MSBuild\\15.0\\Bin\\Roslyn\\Microsoft.CSharp.Core.targets(52,5): error MSB6006: \"csc.exe\" exited with code 1. [D:\\TfsData\\BA01\\_work\\8\\s\\Epay.Common\\Security\\Security.csproj]\n2018-08-29T21:07:25.6141937Z                      Output Item(s): CscCommandLineArgs= (TaskId:63)\n2018-08-29T21:07:25.6143738Z                    Done executing task \"Csc\" -- FAILED. (TaskId:63)\n</code></pre>\n"}], "owner": {"reputation": 21063, "user_id": 555518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f529e0afa52a1be2bb225acb3d4e162?s=128&d=identicon&r=PG", "display_name": "Chris Gessler", "link": "https://stackoverflow.com/users/555518/chris-gessler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5254, "favorite_count": 0, "accepted_answer_id": 52100614, "answer_count": 1, "score": 2, "last_activity_date": 1535642853, "creation_date": 1535559864, "last_edit_date": 1535568754, "question_id": 52082106, "link": "https://stackoverflow.com/questions/52082106/tfs-2018-build-failing-with-error-msb6006-csc-exe-exited-with-code-1", "title": "TFS 2018 build failing with Error MSB6006: &quot;csc.exe&quot; exited with code 1", "body": "<p>I recently built a new TFS 2018 (update 3) server and added the Visual Studio Build Tools (v15.7.1). After creating a very simple C# project, the server build fails with Error MSB6006: \"csc.exe\" exited with code 1.  I turned on debugging and discovered the error </p>\n\n<blockquote>\n  <p>Could not load file or assembly 'Microsoft.CodeAnalysis.CSharp,\n  Version=2.8.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35' or\n  one of its dependencies. The system cannot find the file specified.\n  (TaskId:32)</p>\n</blockquote>\n\n<p>My project does not reference this library and I have Code Analysis turned off at the project level so I think this is an issue with the VS Build Tools. Does anyone know of a work-around or a way to fix this issue?</p>\n\n<p>I also noticed a newer version of VS Build Tools (v15.8). I have not tried updating the build server yet because the high complexity of generating an offline package, zipping, uploading, etc. but will be my next effort if a short term fix cannot be found.</p>\n\n<p>Basically, our new server is dead without a solution so I'm hoping someone has a answer here, otherwise, I may end up scrapping this all together for something more reliable.</p>\n"}]