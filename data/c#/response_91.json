[{"tags": ["c#", "checkedlistbox"], "answers": [{"comments": [{"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1475716134, "post_id": 39885598, "comment_id": 67058474, "body": "The check state is not updated until after the ItemCheck event occurs.<a href=\"http://stackoverflow.com/a/32291665/3110834\">Manage CheckedListBox ItemCheck event to run after an item checked not before</a>"}], "tags": [], "owner": {"reputation": 1734, "user_id": 885764, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/q3eB3.jpg?s=128&g=1", "display_name": "Hakan SONMEZ", "link": "https://stackoverflow.com/users/885764/hakan-sonmez"}, "is_accepted": true, "score": 0, "last_activity_date": 1475713749, "last_edit_date": 1475713749, "creation_date": 1475713005, "answer_id": 39885598, "question_id": 39885428, "link": "https://stackoverflow.com/questions/39885428/c-last-item-of-the-checkedlistbox-is-not-showing-up/39885598#39885598", "title": "C# Last Item of the checkedListBox is not showing up", "body": "<pre><code>private void checkedListBox_ItemCheck(object sender, ItemCheckEventArgs e)\n{\n    if (e.NewValue == CheckState.Checked)\n        filterstring = \"Responsible = '\" + checkedListBox.Items[e.Index].ToString() + \"' OR\";\n    //  Loop through all items in the checkedBoxes.\n\n    foreach (object itemChecked in checkedListBox.CheckedItems)\n    {\n         filterstring += \" Responsible = '\" + itemChecked.ToString() + \"' OR\";\n    }\n    filterstring = filterstring.Substring(0, filterstring.LastIndexOf(\"OR\"));\n}\n</code></pre>\n\n<p>You have to check new value of item is clicked. If it is checked you can include it in your filtering string. Also Removing last OR is much better than if in every iterator.\nEdit: Your event is EventArgs Bu it should be ItemCheckEventArgs </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6879771"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 39885598, "answer_count": 1, "score": 1, "last_activity_date": 1475713749, "creation_date": 1475711678, "question_id": 39885428, "link": "https://stackoverflow.com/questions/39885428/c-last-item-of-the-checkedlistbox-is-not-showing-up", "title": "C# Last Item of the checkedListBox is not showing up", "body": "<p>This code pre-filters a dataGridView so only the checked items in the list will be displayed. </p>\n\n<p>The problem I'm facing is that the code somehow omits the very last item every time, unless I uncheck, check again and press \"Go\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/c8p5O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c8p5O.png\" alt=\"Here is a pic of the issue\"></a></p>\n\n<p>This is my code:</p>\n\n<pre><code>public partial class Notifications : Form\n{\n    string filterstring = \"\";\n    int count = 0;\n    private void checkedListBox_ItemCheck(object sender, System.EventArgs e)\n    {\n        //  Loop through all items in the checkedBoxes.\n\n        foreach (object itemChecked in checkedListBox.CheckedItems)\n        {\n            if (count != 0)\n            {\n                filterstring += \"OR Responsible = '\" + itemChecked.ToString() + \"'\";\n            }\n            else\n                filterstring += \"Responsible = '\" + itemChecked.ToString() + \"'\";\n            count += 1;\n        }\n    }\n  private void button1_Click(object sender, EventArgs e)\n    {\n            DataTableCollection tables = myDatabaseDataSet.Tables;\n            DataView view = new DataView(tables[0]);\n            BindingSource source = new BindingSource();\n            source.DataSource = view;\n            dataGridView1.DataSource = source;\n            source.Filter = filterstring;\n    }\n</code></pre>\n\n<p>I know the solution might be silly but I can't figure it out.</p>\n"}, {"tags": ["c#", "active-directory", "directoryentry", "directorysearcher"], "comments": [{"owner": {"reputation": 632, "user_id": 6826115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a005beebef9c03fc8de8f6b10162d4e?s=128&d=identicon&r=PG&f=1", "display_name": "oldovets", "link": "https://stackoverflow.com/users/6826115/oldovets"}, "edited": false, "score": 0, "creation_date": 1475797096, "post_id": 39885414, "comment_id": 67099833, "body": "You can use filter like (msExchCoManagedByLink:=CN=myuser,OU=Test,DC=contoso,DC=com)&zwnj;&#8203;, for multi valued attribute - added colon (msExchCoManagedByLink:=). However this filter returns all groups, where &quot;my user&quot; is specified in msExchCoManagedByLink attribute. If you need to return owners of the group, you have to bind to the group and query for its managedBy\\msExchCoManagedByLink attributes, then parse the result. if you need need to find all groups which have attribute msExchCoManagedByLink set (not empty), specify (msExchCoManagedByLink=*) in the filter"}, {"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "edited": false, "score": 0, "creation_date": 1504123283, "post_id": 39885414, "comment_id": 78896741, "body": "Did you ever get this working?  I too want a script/program to get ALL owners for group/DL, so the first paragraph sounded like what I&#39;m trying to do.  After that, though, your question seems to me to split off and ask about trying to <i>filter</i> by who can edit the group.  In my case, I don&#39;t want to filter anything, just return all the owners for a give group name. Did you ever get that working?"}, {"owner": {"reputation": 1, "user_id": 4431324, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2ThJY4_ts-k/AAAAAAAAAAI/AAAAAAAAABY/8nd0G2C2DXc/photo.jpg?sz=128", "display_name": "Wil Bloodworth", "link": "https://stackoverflow.com/users/4431324/wil-bloodworth"}, "edited": false, "score": 0, "creation_date": 1504212841, "post_id": 39885414, "comment_id": 78939982, "body": "Yes. I did. Let me find a good way to post it here."}, {"owner": {"reputation": 1, "user_id": 4431324, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2ThJY4_ts-k/AAAAAAAAAAI/AAAAAAAAABY/8nd0G2C2DXc/photo.jpg?sz=128", "display_name": "Wil Bloodworth", "link": "https://stackoverflow.com/users/4431324/wil-bloodworth"}, "edited": false, "score": 0, "creation_date": 1504213308, "post_id": 39885414, "comment_id": 78940175, "body": "<a href=\"https://gist.github.com/anonymous/f047e8fdedefaae5408b5a7ad53a7cd9\" rel=\"nofollow noreferrer\">GitHub Gist Link</a>"}, {"owner": {"reputation": 1, "user_id": 4431324, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2ThJY4_ts-k/AAAAAAAAAAI/AAAAAAAAABY/8nd0G2C2DXc/photo.jpg?sz=128", "display_name": "Wil Bloodworth", "link": "https://stackoverflow.com/users/4431324/wil-bloodworth"}, "edited": false, "score": 0, "creation_date": 1504213394, "post_id": 39885414, "comment_id": 78940209, "body": "That Gist above has a ton of stuff in it you might find useful. Look at the GetOwners method as well as its caller and you&#39;ll have everything you want."}], "owner": {"reputation": 1, "user_id": 4431324, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2ThJY4_ts-k/AAAAAAAAAAI/AAAAAAAAABY/8nd0G2C2DXc/photo.jpg?sz=128", "display_name": "Wil Bloodworth", "link": "https://stackoverflow.com/users/4431324/wil-bloodworth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 808, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475730550, "creation_date": 1475711617, "last_edit_date": 1475730550, "question_id": 39885414, "link": "https://stackoverflow.com/questions/39885414/directorysearcher-filter-by-properties", "title": "DirectorySearcher Filter by Properties?", "body": "<p>I want to be able to get all \"owners\" for a Distribution Group.  This includes the Group attribute named <code>managedBy</code> as well as the Exchange attribute <code>msExchCoManagedByLink</code> which is a collection of user DNs.  I am able to set a DirectorySearcher filter using <code>managedBy</code> with no problem but I can find no documentation on how to add a filter that will work on attributes that are collections.</p>\n\n<p>Here's the filter I have right now:</p>\n\n<pre><code>$\"(&amp;(objectClass=group)(|(grouptype=8)(grouptype=4)(grouptype=2))(|({GroupProperty.ManagedBy}={userDn})({GroupProperty.CoManagedBy}=*{userDn}*)))\";\n</code></pre>\n\n<p><code>userDn</code> is a parameter and is passed in.</p>\n\n<p><code>GroupProperty.ManagedBy</code> is simply the \"managedBy\" string.</p>\n\n<p><code>GroupProperty.CoManagedBy</code> is simply the string \"msExchCoManagedByLink\"</p>\n\n<p>I want to avoid having to write a \"groups cache\" that load all the groups and the two property fields mentioned (aggregating the owner and co-owners into a single list) but right now I can find no decent way around this hack.</p>\n\n<p>So... anyone know how to filter by a collection field like <code>msExchCoManagedByLink</code>?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c#", "linq"], "answers": [{"comments": [{"owner": {"reputation": 1626, "user_id": 3947314, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6047633dd13e3556e6a1d1218c8a723f?s=128&d=identicon&r=PG&f=1", "display_name": "Shakeer Hussain", "link": "https://stackoverflow.com/users/3947314/shakeer-hussain"}, "edited": false, "score": 0, "creation_date": 1475770650, "post_id": 39885424, "comment_id": 67087472, "body": "Thank you. and How to specify a column names. I want to retrieve data only for two columns."}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "reply_to_user": {"reputation": 1626, "user_id": 3947314, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6047633dd13e3556e6a1d1218c8a723f?s=128&d=identicon&r=PG&f=1", "display_name": "Shakeer Hussain", "link": "https://stackoverflow.com/users/3947314/shakeer-hussain"}, "edited": false, "score": 0, "creation_date": 1475771014, "post_id": 39885424, "comment_id": 67087668, "body": "@ShakeerHussain See the updated answer."}, {"owner": {"reputation": 1626, "user_id": 3947314, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6047633dd13e3556e6a1d1218c8a723f?s=128&d=identicon&r=PG&f=1", "display_name": "Shakeer Hussain", "link": "https://stackoverflow.com/users/3947314/shakeer-hussain"}, "edited": false, "score": 0, "creation_date": 1476122876, "post_id": 39885424, "comment_id": 67208169, "body": "Hi , I don&#39;t have these two fields. then how to write select statement? public int Id { set;get;}   public string FirstName { set;get;}"}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "reply_to_user": {"reputation": 1626, "user_id": 3947314, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6047633dd13e3556e6a1d1218c8a723f?s=128&d=identicon&r=PG&f=1", "display_name": "Shakeer Hussain", "link": "https://stackoverflow.com/users/3947314/shakeer-hussain"}, "edited": false, "score": 0, "creation_date": 1476123006, "post_id": 39885424, "comment_id": 67208233, "body": "Create dto with those 2 fields (as i explained in the answer) and return a list of that from your method."}], "tags": [], "owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "is_accepted": false, "score": 2, "last_activity_date": 1475771004, "last_edit_date": 1475771004, "creation_date": 1475711665, "answer_id": 39885424, "question_id": 39885406, "link": "https://stackoverflow.com/questions/39885406/how-to-return-linq-expression-as-a-list/39885424#39885424", "title": "How to return Linq expression as a List?", "body": "<p>Your method's return type is List of <code>tbl_Employee</code>. So make sure your LINQ expression is also returning the same type data.</p>\n\n<pre><code>public List&lt;tbl_Employee&gt; getProgramNames()\n{\n    return  db.tbl_Employee.Where(c =&gt; c.EmpName == \"sam\").ToList();\n}\n</code></pre>\n\n<p>Assuming <code>db.tbl_Employee</code> of <code>DbSet&lt;tbl_Employee&gt;</code> type.</p>\n\n<p>Also i suggest you follow PascalCasing for C# methods. So i would rename <code>getProgramNames</code> to <code>GetProgramNames</code> :)</p>\n\n<p><strong>EDIT</strong> : <em>As per the question in comment</em></p>\n\n<blockquote>\n  <p>How to specify a column names. I want to retrieve data only for two\n  columns.</p>\n</blockquote>\n\n<p>If you want only 2 columns, create a DTO for that data structure and use that for projecting the data in your LINQ expression.</p>\n\n<pre><code>public class EmployeeBasicInfo\n{\n  public int Id { set;get;}\n  public string FirstName { set;get;}\n}\n</code></pre>\n\n<p>Now change your method to return a collection of this DTO instead of the entity.</p>\n\n<pre><code>public List&lt;EmployeeBasicInfo&gt; getProgramNames()\n{\n    return  db.tbl_Employee.Where(c =&gt; c.EmpName == \"sam\")\n              .Select(x=&gt; new EmployeeBasicInfo { Id=x.Id, FirstName = x.EmpName })\n              .ToList();\n}\n</code></pre>\n\n<p>Assuming your <code>tbl_Employee</code> entity class has an <code>Id</code> property of type <code>Int</code></p>\n"}], "owner": {"reputation": 1626, "user_id": 3947314, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6047633dd13e3556e6a1d1218c8a723f?s=128&d=identicon&r=PG&f=1", "display_name": "Shakeer Hussain", "link": "https://stackoverflow.com/users/3947314/shakeer-hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "closed_date": 1476085333, "answer_count": 1, "score": 0, "last_activity_date": 1475771004, "creation_date": 1475711560, "last_edit_date": 1475712021, "question_id": 39885406, "link": "https://stackoverflow.com/questions/39885406/how-to-return-linq-expression-as-a-list", "closed_reason": "Duplicate", "title": "How to return Linq expression as a List?", "body": "<p>How to return below code into List</p>\n\n<pre><code>public List&lt;tbl_Employee&gt; getProgramNames()\n{\n    IQueryable&lt;tbl_CentralLookup&gt; data = db.tbl_Employee.Where(c =&gt; c.EmpName == \"sam\").Select(o =&gt; new { o.LookupId, o.EmpName });       \n    return data;\n}\n</code></pre>\n"}, {"tags": ["c#", "localization", "converter", "globalization"], "comments": [{"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 1, "creation_date": 1475711547, "post_id": 39885374, "comment_id": 67057488, "body": "<code>It makes more sense to use CultureInfo.CurrentCulture.NumberFormat then using hard coded values</code> - well, not really. You&#39;re saying you want to parse the value using the current culture. If you <i>know</i> what culture the value came from, you should pass that in. Hard-coding doesn&#39;t factor into the equation. You&#39;re essentially saying &quot;Parse this value, treating periods as a decimal point, but I&#39;ll give you a value with a comma as the decimal point&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 350, "user_id": 6248649, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QLBDv.png?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/6248649/dan"}, "edited": false, "score": 0, "creation_date": 1475975220, "post_id": 39886383, "comment_id": 67159526, "body": "Yes I&#39;m aware of that, but since I&#39;m showing data in data table, I have to replace strings again with <code>String.Replace</code> since converted  data will be in different format. Values converted with <code>CultureInfo(&quot;en-US&quot;)</code> will have <code>.</code>-dots and values converted with CultureInfo(&quot;de-DE&quot;) will have <code>,</code>-commas in them."}], "tags": [], "owner": {"reputation": 75, "user_id": 900096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i20bB.jpg?s=128&g=1", "display_name": "Prakash Bhatt", "link": "https://stackoverflow.com/users/900096/prakash-bhatt"}, "is_accepted": true, "score": 0, "last_activity_date": 1475719448, "creation_date": 1475719448, "answer_id": 39886383, "question_id": 39885374, "link": "https://stackoverflow.com/questions/39885374/convert-todouble-for-different-cultureinfo-values/39886383#39886383", "title": "Convert.ToDouble for different CultureInfo values", "body": "<p>Before using CurrentCulture you need to set it as you know the culture like\nThread.CurrentThread.CurrentCulture = new System.Globalization.CultureInfo(\"en-US\");</p>\n"}], "owner": {"reputation": 350, "user_id": 6248649, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QLBDv.png?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/6248649/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1951, "favorite_count": 0, "accepted_answer_id": 39886383, "answer_count": 1, "score": 1, "last_activity_date": 1475719448, "creation_date": 1475711336, "last_edit_date": 1475711675, "question_id": 39885374, "link": "https://stackoverflow.com/questions/39885374/convert-todouble-for-different-cultureinfo-values", "title": "Convert.ToDouble for different CultureInfo values", "body": "<p>I need to convert values from string to double for different regions.</p>\n\n<p>Lets's determine one thing:</p>\n\n<ul>\n<li>US culture uses strings that have <code>.</code> <em>dot</em> as pointer for decimal values</li>\n<li>European culture (ex. de-DE) uses strings that have <code>,</code> <em>comma</em> pointer for decimal values.</li>\n</ul>\n\n<p>If you try to convert appropriate string values with <code>CultureInfo</code> specified using <code>Convert.ToDouble</code>function it will work just fine:</p>\n\n<p>For US-en:</p>\n\n<pre><code>_value = Convert.ToDouble(\"1.5\", CultureInfo.GetCultureInfo(\"en-US\").NumberFormat);  //gets 1.5\n</code></pre>\n\n<p>For DE-de:</p>\n\n<pre><code>_value = Convert.ToDouble(\"1,5\", CultureInfo.GetCultureInfo(\"de-DE\").NumberFormat); //gets 1,5\n</code></pre>\n\n<p>But what if we need to convert value with <code>.</code> <em>dot</em> with European CultureInfo or the same goes for values with <code>,</code> <em>comma</em> with US CultureInfo ?</p>\n\n<p>I'm asking this because I always use <code>CultureInfo.CurrentCulture.NumberFormat</code> and when languages are changed this will break. It makes more sense to use <code>CultureInfo.CurrentCulture.NumberFormat</code> then using hard coded values such as\n<code>CultureInfo.GetCultureInfo(\"en-US\")</code> or <code>CultureInfo.GetCultureInfo(\"de-DE\")</code>.</p>\n\n<p>This will break and will report an error:</p>\n\n<p>For US-en:</p>\n\n<pre><code>_value = Convert.ToDouble(\"1,5\", CultureInfo.GetCultureInfo(\"en-US\").NumberFormat); //because there is comma sign in 1,5\n</code></pre>\n\n<p>For DE-de:</p>\n\n<pre><code>_value = Convert.ToDouble(\"1.5\", CultureInfo.GetCultureInfo(\"de-DE\").NumberFormat); //because there is dot sign in 1.5\n</code></pre>\n\n<p>I tried to solve this by first converting Double values from one format to another Double temp = 1.5 to 1,5 for example, and then converting them to string but it does not work</p>\n\n<p>There is solution where I can use String.Replace(\"\",\"\") function to replace <code>.</code> with the <code>,</code> and vice versa, but that is not the way I want things to be done</p>\n"}, {"tags": ["c#", "winforms", "visual-studio"], "comments": [{"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1475710222, "post_id": 39885218, "comment_id": 67057149, "body": "What do you mean by &quot;crash&quot;. What exception is being reported? What happens when you run with debugger from Visual Studio?"}, {"owner": {"reputation": 13, "user_id": 6929070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47de646505bad6ec851852ea3fa8bad?s=128&d=identicon&r=PG&f=1", "display_name": "Nolan Albert", "link": "https://stackoverflow.com/users/6929070/nolan-albert"}, "reply_to_user": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1475710494, "post_id": 39885218, "comment_id": 67057216, "body": "All I get is &#39;Not Responding&#39; and it just sits there until I end the process."}, {"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1475710498, "post_id": 39885218, "comment_id": 67057218, "body": "why are you subtracting from those <code>sub</code> variables instead of <code>totDollars</code>? Since you don&#39;t subtract from <code>totDollars</code>, your first loop will be infinite."}, {"owner": {"reputation": 13, "user_id": 6929070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47de646505bad6ec851852ea3fa8bad?s=128&d=identicon&r=PG&f=1", "display_name": "Nolan Albert", "link": "https://stackoverflow.com/users/6929070/nolan-albert"}, "reply_to_user": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1475710684, "post_id": 39885218, "comment_id": 67057270, "body": "Yeah, I see that now that you mentioned it. I did say I was pretty new lol. Leave it as an answer and I&#39;ll choose it as the correct one. Thanks man."}, {"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1475710758, "post_id": 39885218, "comment_id": 67057292, "body": "No problem. Everybody was new to programming at some point."}], "answers": [{"tags": [], "owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "is_accepted": true, "score": 1, "last_activity_date": 1475710687, "creation_date": 1475710687, "answer_id": 39885305, "question_id": 39885218, "link": "https://stackoverflow.com/questions/39885218/windows-form-app-crashing-with-while-loops/39885305#39885305", "title": "Windows Form App Crashing With While Loops", "body": "<p>You aren't adjusting the value of the variable you are using in the while loop conditions. This:</p>\n\n<pre><code>sub1 = totDollars;\nsub2 = totDollars;\nsub3 = totDollars;\nsub4 = totDollars;\nlstOut.Items.Add(\"Total dollars = \" + totDollars.ToString(\"c\"));\n    while (totDollars &gt;= 20)\n        {\n            sub1 = sub1 - 20;\n            twenties = twenties + 1;\n        }\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>lstOut.Items.Add(\"Total dollars = \" + totDollars.ToString(\"c\"));\n    while (totDollars &gt;= 20)\n        {\n            totDollars = totDollars - 20;\n            twenties = twenties + 1;\n        }\n</code></pre>\n\n<p>and the similar change made to the other while loops</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6929070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47de646505bad6ec851852ea3fa8bad?s=128&d=identicon&r=PG&f=1", "display_name": "Nolan Albert", "link": "https://stackoverflow.com/users/6929070/nolan-albert"}, "edited": false, "score": 0, "creation_date": 1475720307, "post_id": 39885407, "comment_id": 67059476, "body": "I would upvote if my account wasn&#39;t too new. Thank you as well!"}], "tags": [], "owner": {"reputation": 840, "user_id": 6823985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/946978146678aad42c243268779e0ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Tsai", "link": "https://stackoverflow.com/users/6823985/paul-tsai"}, "is_accepted": false, "score": 0, "last_activity_date": 1475711575, "creation_date": 1475711575, "answer_id": 39885407, "question_id": 39885218, "link": "https://stackoverflow.com/questions/39885218/windows-form-app-crashing-with-while-loops/39885407#39885407", "title": "Windows Form App Crashing With While Loops", "body": "<p>First ensure that the value in txtDollars.Text is indeed an integer, or else the program will crash;</p>\n\n<p>The conditions being used by the while loops to continue are never changing.  So the while loop will never end.</p>\n\n<pre><code>while (totDollars &gt;= 20)\n{\n    sub1 = sub1 - 20;\n    twenties = twenties + 1;\n}\n</code></pre>\n\n<p>totDollars never changes, so it'll always be greater than 20 and never end.  The quick way around this is to remove the sub variables like the following.</p>\n\n<pre><code>while (totDollars &gt;= 20)\n{\n    totDollars = totDollars - 20;\n    twenties = twenties + 1;\n}\n</code></pre>\n\n<p>I've also included another version of the method, with some code optimizations. You'll notice the use of the -=, ++, and -- operators. It's really handy to know these.  Also, note there are some neat ways you can declare a variable and set the value in one step.</p>\n\n<pre><code>private void btnFindDem_Click(object sender, EventArgs e)\n{\n    int twenties = 0, \n        tens = 0, \n        fives = 0, \n        singles = 0,\n        totDollars = Convert.ToInt32(txtDollars.Text);\n    lstOut.Items.Add(\"Total dollars = \" + totDollars.ToString(\"c\"));\n    while (totDollars &gt;= 20)\n    {\n        totDollars -= 20;\n        twenties++;\n    }\n    while (totDollars &gt;= 10)\n    {\n        totDollars -= 10;\n        tens++;\n    }\n    while (totDollars &gt;= 5)\n    {\n        totDollars-= 5;\n        fives++;\n    }\n    while (totDollars &gt;= 1)\n    {\n        totDollars--;\n        singles++;\n    }\n    lstOut.Items.Add(\"Twenties: \" + twenties);\n    lstOut.Items.Add(\"Tens: \" + tens);\n    lstOut.Items.Add(\"Fives: \" + fives);\n    lstOut.Items.Add(\"Ones: \" + singles);\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6929070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47de646505bad6ec851852ea3fa8bad?s=128&d=identicon&r=PG&f=1", "display_name": "Nolan Albert", "link": "https://stackoverflow.com/users/6929070/nolan-albert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 413, "favorite_count": 0, "closed_date": 1475739949, "accepted_answer_id": 39885305, "answer_count": 2, "score": 1, "last_activity_date": 1475711575, "creation_date": 1475710075, "last_edit_date": 1475710577, "question_id": 39885218, "link": "https://stackoverflow.com/questions/39885218/windows-form-app-crashing-with-while-loops", "closed_reason": "Not suitable for this site", "title": "Windows Form App Crashing With While Loops", "body": "<p>First of all I would like to apologize for the <strong>messy</strong> code. Currently in my freshman year of college and had a question neither myself or my friends could figure out. The problem asks to accept an input from the user for dollars and find how many twenties, tens, fives, and ones will add to the least number of bills. Building the solution causes <strong>no error</strong>, but once ran and data is input it <strong>crashes</strong> instantly. I tried using the debugger to no avail, as well as changing the code (adding 'if' 'then' statements, etc.) I'm generally new to 'while' loops, and coding in general, so if I am making a stupid mistake feel free to roast me.\nThank you in advanced!</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace Dollars\n{\npublic partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n    }\n\n    private void textBox1_TextChanged(object sender, EventArgs e)\n    {\n\n    }\n\n    private void btnFindDem_Click(object sender, EventArgs e)\n    {\n        int twenties;\n        int tens;\n        int fives;\n        int singles;\n        int totDollars;\n        int sub1;\n        int sub2;\n        int sub3;\n        int sub4;\n        totDollars = Convert.ToInt32(txtDollars.Text);\n        twenties = 0;\n        tens = 0;\n        fives = 0;\n        singles = 0;\n        sub1 = totDollars;\n        sub2 = totDollars;\n        sub3 = totDollars;\n        sub4 = totDollars;\n        lstOut.Items.Add(\"Total dollars = \" + totDollars.ToString(\"c\"));\n            while (totDollars &gt;= 20)\n                {\n                    sub1 = sub1 - 20;\n                    twenties = twenties + 1;\n                }\n            while (totDollars &gt;= 10)\n                {\n                    sub2 = sub2 - 10;\n                    tens = tens + 1;\n                }\n            while (totDollars &gt;= 5)\n                {\n                    sub3 = sub3 - 5;\n                    fives = fives + 1;\n                }\n            while (totDollars &gt;= 1)\n                {\n                    sub4 = sub4 - 1;\n                    singles = singles + 1;\n                }\n        lstOut.Items.Add(\"Twenties: \" + twenties);\n        lstOut.Items.Add(\"Tens: \" + tens);\n        lstOut.Items.Add(\"Fives: \" + fives);\n        lstOut.Items.Add(\"Ones: \" + singles);\n\n\n\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "entity-framework"], "comments": [{"owner": {"reputation": 3453, "user_id": 1490287, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5d21ccde4d7d31acf2a4d77a3706de52?s=128&d=identicon&r=PG", "display_name": "Mayank Pathak", "link": "https://stackoverflow.com/users/1490287/mayank-pathak"}, "edited": false, "score": 0, "creation_date": 1475722003, "post_id": 39885217, "comment_id": 67059873, "body": "<code>var entry = _context.Entry(customer);</code> Just for curiosity , Where are you using entry variable ?"}, {"owner": {"reputation": 111, "user_id": 5380012, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5673758184b7ad204f5741e5bb8779e6?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/5380012/sergey"}, "reply_to_user": {"reputation": 3453, "user_id": 1490287, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5d21ccde4d7d31acf2a4d77a3706de52?s=128&d=identicon&r=PG", "display_name": "Mayank Pathak", "link": "https://stackoverflow.com/users/1490287/mayank-pathak"}, "edited": false, "score": 0, "creation_date": 1475732430, "post_id": 39885217, "comment_id": 67062876, "body": "I&#39;ve tried to follow <a href=\"http://stackoverflow.com/a/15339512/5380012\">this guide</a>, but got an exception at <code>entry.Property(e =&gt; e.Cart).IsModified = true;</code> that is why i have deleted this  line and forgot to add to a question"}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 5380012, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5673758184b7ad204f5741e5bb8779e6?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/5380012/sergey"}, "edited": false, "score": 0, "creation_date": 1475737188, "post_id": 39886680, "comment_id": 67065053, "body": "Thank you but it seemed not working. I think the problem is that i try to write a Collection"}], "tags": [], "owner": {"reputation": 3453, "user_id": 1490287, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5d21ccde4d7d31acf2a4d77a3706de52?s=128&d=identicon&r=PG", "display_name": "Mayank Pathak", "link": "https://stackoverflow.com/users/1490287/mayank-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1475721738, "creation_date": 1475721738, "answer_id": 39886680, "question_id": 39885217, "link": "https://stackoverflow.com/questions/39885217/update-icollection-in-entity-entity-framework-6-asp-net-core/39886680#39886680", "title": "Update ICollection in Entity (Entity Framework 6, ASP.NET Core)", "body": "<p>As you are trying to update your entity. So this is how i follow and it works.</p>\n\n<pre><code> context.Entry(customer).State = System.Data.EntityState.Modified;\n context.ChangeTracker.DetectChanges();\n context.SaveChanges();\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 5380012, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5673758184b7ad204f5741e5bb8779e6?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/5380012/sergey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1146, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475736835, "creation_date": 1475710075, "last_edit_date": 1475736835, "question_id": 39885217, "link": "https://stackoverflow.com/questions/39885217/update-icollection-in-entity-entity-framework-6-asp-net-core", "title": "Update ICollection in Entity (Entity Framework 6, ASP.NET Core)", "body": "<p>I have two models:</p>\n\n<pre><code>public class Customer : People\n  {\n     public int CustomerID { get; set; }\n     public decimal? Weight { get; set; }\n     public decimal? Height { get; set; }\n     public ICollection&lt;Purchase&gt; Cart { get; set; } \n  }\n</code></pre>\n\n<p>and </p>\n\n<pre><code>public class Purchase\n  {\n     public int PurchaseID { get; set; }\n     public DateTime Time { get; set; }\n     public decimal TotalPrice { get; set; }\n     public int Amount { get; set; }\n     public Good Good { get; set; }\n   }\n</code></pre>\n\n<p>I already have a customer and need to update his Cart (to add smth to it for example). </p>\n\n<p>I've tried to do smth like this but this do nothing. What am i doing wrong?</p>\n\n<pre><code>Customer customer = new Customer()\n      {\n        CustomerID = currentID.Value                   \n      };\nvar cart = new List&lt;Purchase&gt;();\n      cart.Add(new Purchase()\n      {\n        Amount = 1,\n        Good = good,\n        Time = DateTime.Now,\n        TotalPrice = good.Price    \n      });                                                                                \n      customer.Cart = cart;\n      var entry = _context.Entry(customer);\n      _context.Update(customer);\n      _context.SaveChanges();\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>I've tried to do suggested things but.. What i don't understand right in my life? <a href=\"http://i.stack.imgur.com/Hyzsf.png\" rel=\"nofollow\">Context when i try to update</a>  vs. <a href=\"http://i.stack.imgur.com/m94eT.png\" rel=\"nofollow\">Context when i try to view updated Customer</a></p>\n"}, {"tags": ["c#", ".net", "dictionary"], "comments": [{"owner": {"reputation": 911, "user_id": 4214709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LnpmA.png?s=128&g=1", "display_name": "starlight54", "link": "https://stackoverflow.com/users/4214709/starlight54"}, "edited": false, "score": 2, "creation_date": 1475710654, "post_id": 39885203, "comment_id": 67057263, "body": "Your timing test is probably not perfoming correctly (assuming you&#39;re using a <code>Dictionary</code>), both of those functions call one function <code>FindEntry()</code> except that <code>TryGetValue</code> executes more code after (albeit just a single assignment!), so it can&#39;t be faster. <a href=\"https://referencesource.microsoft.com/#mscorlib/system/collections/generic/dictionary.cs,bcd13bb775d408f1\" rel=\"nofollow noreferrer\">referencesource.microsoft.com/#mscorlib/system/collections/&hellip;</a>"}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 2, "creation_date": 1475711046, "post_id": 39885203, "comment_id": 67057360, "body": "Your benchmarks are wrong. It&#39;s hard to say why, because we can&#39;t see them. ContainsKey is considerably faster; you use it when you don&#39;t need to retrieve the contents but just need to know if it&#39;s there or not for the specific reason that it&#39;s faster."}, {"owner": {"reputation": 16951, "user_id": 2147652, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/WqlGm.jpg?s=128&g=1", "display_name": "mybirthname", "link": "https://stackoverflow.com/users/2147652/mybirthname"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1475711860, "post_id": 39885203, "comment_id": 67057575, "body": "@KenWhite the benchmark is correct if he takes the value after that !"}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "reply_to_user": {"reputation": 16951, "user_id": 2147652, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/WqlGm.jpg?s=128&g=1", "display_name": "mybirthname", "link": "https://stackoverflow.com/users/2147652/mybirthname"}, "edited": false, "score": 1, "creation_date": 1475713370, "post_id": 39885203, "comment_id": 67057921, "body": "@mybirthname: If the poster is doing that, their benchmark is absolutely  incorrect, because it&#39;s not comparing ContainsKey and TryGetValue; it would be comparing TryGetValue against ContainsKey+TryGetValue."}, {"owner": {"reputation": 3747, "user_id": 231839, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8f16f6777224b8b86a3553f321c4feee?s=128&d=identicon&r=PG", "display_name": "Brain2000", "link": "https://stackoverflow.com/users/231839/brain2000"}, "edited": false, "score": 0, "creation_date": 1587508944, "post_id": 39885203, "comment_id": 108539153, "body": "Same when setting a value: d[key] = value; skips the extra lookup compared to: if (!d.ContainsKey(key)) d.Add(key, value);"}], "answers": [{"tags": [], "owner": {"reputation": 16951, "user_id": 2147652, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/WqlGm.jpg?s=128&g=1", "display_name": "mybirthname", "link": "https://stackoverflow.com/users/2147652/mybirthname"}, "is_accepted": true, "score": 24, "last_activity_date": 1475775979, "last_edit_date": 1475775979, "creation_date": 1475711411, "answer_id": 39885383, "question_id": 39885203, "link": "https://stackoverflow.com/questions/39885203/is-there-a-reason-why-one-should-use-containskey-over-trygetvalue/39885383#39885383", "title": "Is there a reason why one should use ContainsKey over TryGetValue", "body": "<p>It depends for what are you using the methods. If you open <a href=\"https://referencesource.microsoft.com/#mscorlib/system/collections/generic/dictionary.cs,bcd13bb775d408f1\" rel=\"noreferrer\">Reference source</a> you will see.</p>\n\n<pre><code>public bool TryGetValue(TKey key, out TValue value)\n{\n  int index = this.FindEntry(key);\n  if (index &gt;= 0)\n  {\n    value = this.entries[index].value;\n    return true;\n  }\n  value = default(TValue);\n  return false;\n}\n\npublic bool ContainsKey(TKey key)\n{\n  return (this.FindEntry(key) &gt;= 0);\n}\n</code></pre>\n\n<p>Like you see <code>TryGetValue</code> is same as <code>ContainsKey</code> + one array lookup.</p>\n\n<p><strong>If your logic is only to check if the key is existing in the <code>Dictionary</code> and nothing else related to this key (taking the value for the key) you should use <code>ContainsKey</code>.</strong></p>\n\n<p>If you want to take the value for the specific key, <code>TryGetValue</code> is faster than</p>\n\n<pre><code>if(dic.ContainsKey(keyValue))\n{\n    dicValue = dic[keyValue]; // here you do more work!\n}\n</code></pre>\n\n<p>Logic about <code>Dictionary[key]</code></p>\n\n<pre><code>    public TValue this[TKey key] \n    {\n        get {\n            int i = FindEntry(key);\n            if (i &gt;= 0) return entries[i].value;\n            ThrowHelper.ThrowKeyNotFoundException();\n            return default(TValue);\n        }\n        set {\n            Insert(key, value, false);\n        }\n    }\n</code></pre>\n\n<p>So pretty much you will go 2 times in <code>FindEntry</code> method + array lookup, if you use the key with <code>ContainsKey</code> and after that take the value with <code>dic[key]</code>. You have overhead of calling <code>FindEntry</code> one additional time.</p>\n"}, {"comments": [{"owner": {"reputation": 13115, "user_id": 150605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pFmKd.png?s=128&g=1", "display_name": "Lance U. Matthews", "link": "https://stackoverflow.com/users/150605/lance-u-matthews"}, "edited": false, "score": 0, "creation_date": 1475715225, "post_id": 39885648, "comment_id": 67058317, "body": "The <a href=\"https://msdn.microsoft.com/library/bb347013.aspx\" rel=\"nofollow noreferrer\">documentation for <code>TryGetValue</code></a> states &quot;This method combines the functionality of the ContainsKey method and the <a href=\"https://msdn.microsoft.com/library/9tee9ht2.aspx\" rel=\"nofollow noreferrer\">Item</a> property.&quot;  While it is true that, compared to <code>GetValue2</code>, <code>GetValue1</code> has the &quot;overhead&quot; of a local variable and passing a parameter by reference, this is negligible compared to <code>GetValue2</code> where you are performing two lookups in the case where <code>Dict</code> contains the key <code>key</code>: one lookup in the call to <code>Dict.ContainsKey(key)</code>, and another in retrieving <code>Dict[key]</code>."}, {"owner": {"reputation": 840, "user_id": 6823985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/946978146678aad42c243268779e0ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Tsai", "link": "https://stackoverflow.com/users/6823985/paul-tsai"}, "reply_to_user": {"reputation": 13115, "user_id": 150605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pFmKd.png?s=128&g=1", "display_name": "Lance U. Matthews", "link": "https://stackoverflow.com/users/150605/lance-u-matthews"}, "edited": false, "score": 0, "creation_date": 1475722228, "post_id": 39885648, "comment_id": 67059943, "body": "Thank you for the comment. I updated my post to reflect your point."}, {"owner": {"reputation": 13115, "user_id": 150605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pFmKd.png?s=128&g=1", "display_name": "Lance U. Matthews", "link": "https://stackoverflow.com/users/150605/lance-u-matthews"}, "edited": false, "score": 0, "creation_date": 1475729670, "post_id": 39885648, "comment_id": 67061901, "body": "From the source we know that when the key is not found <code>TryGetValue</code> only has to perform an additional jump and write to the output parameter compared to <code>ContainsKey</code>.  I do think this answer is too focused on micro-optimizations such as that and avoiding local variables and output parameters.  <a href=\"http://stackoverflow.com/a/9382762/150605\">This benchmark</a> shows that for 10 million lookups (all misses) <code>TryGetValue</code> is only marginally slower than <code>ContainsKey</code>.  Unless there are exceptional circumstances where <code>TryGetValue</code> is proving to be a bottleneck and testing shows that [continued]"}, {"owner": {"reputation": 13115, "user_id": 150605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pFmKd.png?s=128&g=1", "display_name": "Lance U. Matthews", "link": "https://stackoverflow.com/users/150605/lance-u-matthews"}, "edited": false, "score": 0, "creation_date": 1475729675, "post_id": 39885648, "comment_id": 67061906, "body": "[continued] <code>ContainsKey</code> + <code>Dict[key]</code> provide a worthwhile performance improvement, I think the general recommendation should be to choose a <code>Dictionary&lt;&gt;</code> method based on its intent: <code>ContainsKey</code> is for checking the existence of a key whose value is not needed, and <code>TryGetValue</code> is for attempting to retrieve the value for a key that doesn&#39;t necessarily exist."}, {"owner": {"reputation": 840, "user_id": 6823985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/946978146678aad42c243268779e0ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Tsai", "link": "https://stackoverflow.com/users/6823985/paul-tsai"}, "reply_to_user": {"reputation": 13115, "user_id": 150605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pFmKd.png?s=128&g=1", "display_name": "Lance U. Matthews", "link": "https://stackoverflow.com/users/150605/lance-u-matthews"}, "edited": false, "score": 0, "creation_date": 1475767220, "post_id": 39885648, "comment_id": 67085316, "body": "Your points are valid. Thanks for the benchmark link, I&#39;ve updated my post to include some benchmarks with dictionaries of different type keys and of larger sizes.  It&#39;s clear that there are conditions where one does perform significantly better than the other, and even the Key&#39;s type can affect performance."}], "tags": [], "owner": {"reputation": 840, "user_id": 6823985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/946978146678aad42c243268779e0ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Tsai", "link": "https://stackoverflow.com/users/6823985/paul-tsai"}, "is_accepted": false, "score": 10, "last_activity_date": 1475770950, "last_edit_date": 1475770950, "creation_date": 1475713298, "answer_id": 39885648, "question_id": 39885203, "link": "https://stackoverflow.com/questions/39885203/is-there-a-reason-why-one-should-use-containskey-over-trygetvalue/39885648#39885648", "title": "Is there a reason why one should use ContainsKey over TryGetValue", "body": "<p>Conceptually, the two methods are very different.  ContainsKey simply checks to see if a given key is in the dictionary.  TryGetValue will attempt to return the value for a given key, provided it's in the dictionary. Both can be fast, depending on what you want to do.</p>\n\n<p>Consider the following method, which returns a value from dictionary or returns string.Empty. </p>\n\n<pre><code>Dictionary&lt;int,string&gt; Dict = new Dictionary&lt;int,string&gt;();\nstring GetValue1(int key)\n{\n    string outValue;\n    if (!Dict.TryGetValue(key, out outValue))\n        outValue = string.Empty;\n    return outValue;\n}\n</code></pre>\n\n<p>Compared to</p>\n\n<pre><code>string GetValue2(int key)\n{\n    return (Dict.ContainsKey(key))\n        ? Dict[key]\n        : string.Empty;\n}\n</code></pre>\n\n<p>Both are relatively fast and the performance between the two is negligible in most situations (see unit tests below). If we wanted to be picky, using the TryGetValue requires the use of an out parameter, which is more overhead than a regular parameter.  This variable will get set to the default for a type if it's not found, which is null for strings.  In the above example, this null value isn't used, but we incur the overhead anyway. Finally, the GetValue1 requires the use of a local variable outValue, while GetValue2 doesn't.</p>\n\n<p>BACON pointed out that GetValue2 would use 2 lookups in cases where the value is found, which is comparatively expense. This is true and also implies that in cases where the key is not found, GetValue2 would perform faster. So if the program is expecting for a majority of lookups to be misses, use GetValue2. Otherwise use GetValue1.</p>\n\n<p>If dealing with a ConcurrentDictionary, use TryGetValue since operations on it should be atomic, i.e. once you check for a value in a multi-threaded environment, that check could be incorrect when you try to access the value.</p>\n\n<p>Included below are 2 unit tests, testing the performance between the two methods with dictionaries with different Key types (int vs string). This benchmark is only showing how the gap between the two methods can close/widen as their context changes.</p>\n\n<pre><code>[TestMethod]\npublic void TestString()\n{\n    int counter = 10000000;\n    for (var x = 0; x &lt; counter; x++)\n        DictString.Add(x.ToString(), \"hello\");\n\n    TimedLog(\"10,000,000 hits TryGet\", () =&gt;\n    {\n        for (var x = 0; x &lt; counter; x++)\n            Assert.IsFalse(string.IsNullOrEmpty(GetValue1String(x.ToString())));\n    }, Console.WriteLine);\n\n    TimedLog(\"10,000,000 hits ContainsKey\", () =&gt;\n    {\n        for (var x = 0; x &lt; counter; x++)\n            Assert.IsFalse(string.IsNullOrEmpty(GetValue2String(x.ToString())));\n    }, Console.WriteLine);\n\n    TimedLog(\"10,000,000 misses TryGet\", () =&gt;\n    {\n        for (var x = counter; x &lt; counter*2; x++)\n            Assert.IsTrue(string.IsNullOrEmpty(GetValue1String(x.ToString())));\n    }, Console.WriteLine);\n\n    TimedLog(\"10,000,000 misses ContainsKey\", () =&gt;\n    {\n        for (var x = counter; x &lt; counter*2; x++)\n            Assert.IsTrue(string.IsNullOrEmpty(GetValue2String(x.ToString())));\n    }, Console.WriteLine);\n}\n\n[TestMethod]\npublic void TestInt()\n{\n    int counter = 10000000;\n    for (var x = 0; x &lt; counter; x++)\n        DictInt.Add(x, \"hello\");\n\n    TimedLog(\"10,000,000 hits TryGet\", () =&gt;\n    {\n        for (var x = 0; x &lt; counter; x++)\n            Assert.IsFalse(string.IsNullOrEmpty(GetValue1Int(x)));\n    }, Console.WriteLine);\n\n    TimedLog(\"10,000,000 hits ContainsKey\", () =&gt;\n    {\n        for (var x = 0; x &lt; counter; x++)\n            Assert.IsFalse(string.IsNullOrEmpty(GetValue2Int(x)));\n    }, Console.WriteLine);\n\n    TimedLog(\"10,000,000 misses TryGet\", () =&gt;\n    {\n        for (var x = counter; x &lt; counter * 2; x++)\n            Assert.IsTrue(string.IsNullOrEmpty(GetValue1Int(x)));\n    }, Console.WriteLine);\n\n    TimedLog(\"10,000,000 misses ContainsKey\", () =&gt;\n    {\n        for (var x = counter; x &lt; counter * 2; x++)\n            Assert.IsTrue(string.IsNullOrEmpty(GetValue2Int(x)));\n    }, Console.WriteLine);\n}\n\npublic static void TimedLog(string message, Action toPerform, Action&lt;string&gt; logger)\n{\n    var start = DateTime.Now;\n    if (logger != null)\n        logger.Invoke(string.Format(\"{0} Started at {1:G}\", message, start));\n\n    toPerform.Invoke();\n    var end = DateTime.Now;\n    var span = end - start;\n    if (logger != null)\n        logger.Invoke(string.Format(\"{0} Ended at {1} lasting {2:G}\", message, end, span));\n}\n</code></pre>\n\n<p>Results of TestInt</p>\n\n<pre><code>10,000,000 hits TryGet Started at ...\n10,000,000 hits TryGet Ended at ... lasting 0:00:00:00.3734136\n10,000,000 hits ContainsKey Started at ...\n10,000,000 hits ContainsKey Ended at ... lasting 0:00:00:00.4657632\n10,000,000 misses TryGet Started at ...\n10,000,000 misses TryGet Ended at ... lasting 0:00:00:00.2921058\n10,000,000 misses ContainsKey Started at ...\n10,000,000 misses ContainsKey Ended at ... lasting 0:00:00:00.2579766\n</code></pre>\n\n<p>For hits, ContainsKey is approx 25% slower TryGetValue</p>\n\n<p>For misses, TryGetValue is approx 13% slower than ContainsKey</p>\n\n<p>Result of TestString</p>\n\n<pre><code>10,000,000 hits TryGet Started at ...\n10,000,000 hits TryGet Ended at ... lasting 0:00:00:03.2232018\n10,000,000 hits ContainsKey Started at ...\n10,000,000 hits ContainsKey Ended at ... lasting 0:00:00:03.6417864\n10,000,000 misses TryGet Started at ...\n10,000,000 misses TryGet Ended at ... lasting 0:00:00:03.6508206\n10,000,000 misses ContainsKey Started at ...\n10,000,000 misses ContainsKey Ended at ... lasting 0:00:00:03.4912164\n</code></pre>\n\n<p>For hits, ContainsKey is approx 13% slower TryGetValue</p>\n\n<p>For misses, TryGetValue is approx 4.6% slower than ContainsKey</p>\n"}], "owner": {"reputation": 958, "user_id": 1649887, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/7XzIz.png?s=128&g=1", "display_name": "1392023093user", "link": "https://stackoverflow.com/users/1649887/1392023093user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9226, "favorite_count": 3, "accepted_answer_id": 39885383, "answer_count": 2, "score": 7, "last_activity_date": 1475775979, "creation_date": 1475709898, "last_edit_date": 1475713156, "question_id": 39885203, "link": "https://stackoverflow.com/questions/39885203/is-there-a-reason-why-one-should-use-containskey-over-trygetvalue", "title": "Is there a reason why one should use ContainsKey over TryGetValue", "body": "<p>I have tried some tests and it does not matter if there are all hits or miss. TryGetValue is always faster. When one should use ContainsKey?</p>\n"}, {"tags": ["c#", "excel", "excel-interop"], "answers": [{"tags": [], "owner": {"reputation": 525, "user_id": 875317, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/tQ8Th.jpg?s=128&g=1", "display_name": "B. Clay Shannon", "link": "https://stackoverflow.com/users/875317/b-clay-shannon"}, "is_accepted": true, "score": 0, "last_activity_date": 1476286439, "last_edit_date": 1495539954, "creation_date": 1476286118, "answer_id": 40002536, "question_id": 39885179, "link": "https://stackoverflow.com/questions/39885179/is-there-a-sister-function-to-autofilter-in-excel-interop-that-works-for-col/40002536#40002536", "title": "Is there a &quot;sister&quot; function to &quot;AutoFilter&quot; in Excel Interop that works for columns instead of rows?", "body": "<p>I don't think there is such functionality, but similar can be achieved using PivotTables.</p>\n\n<p>I still have work to do on getting it all to look decent, but I did find out how to create a column filter, based on an answer <a href=\"https://stackoverflow.com/questions/39883962/why-does-this-attempt-to-create-a-pivottable-excel-interop-fail\">here</a>.</p>\n\n<p>With the following code:</p>\n\n<pre><code>var pch = _xlBook.PivotCaches();\n// TODO: Make range dynamic\nRange sourceData = _xlBook.Worksheets[\"PivotData\"].Range[\"A1:G318\"];\n\nPivotCache pc = pch.Create(XlPivotTableSourceType.xlDatabase, sourceData);\nPivotTable pvt = pc.CreatePivotTable(_xlPivotTableSheet.Range[\"A8\"], \"PivotTable\");\n\npvt.PivotFields(\"Description\").Orientation = XlPivotFieldOrientation.xlRowField;\npvt.PivotFields(\"MonthYr\").Orientation = XlPivotFieldOrientation.xlColumnField;\n</code></pre>\n\n<p>...I can take the source data from one sheet (\"PivotData\") and slap it on another sheet (_xlPivotTableSheet). The part that gives me the \"filter a set of columns\" functionality is the last line above. That leaves me with the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yIQGD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yIQGD.png\" alt=\"enter image description here\"></a></p>\n\n<p>Though you cannot see it, there is a column \"201509\" as well as the \"201510\", and they can be filtered to display or not, individually or collectively.</p>\n\n<p>Now to get the rest of the data to display as it should...</p>\n"}], "owner": {"reputation": 525, "user_id": 875317, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/tQ8Th.jpg?s=128&g=1", "display_name": "B. Clay Shannon", "link": "https://stackoverflow.com/users/875317/b-clay-shannon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 654, "favorite_count": 0, "accepted_answer_id": 40002536, "answer_count": 1, "score": 0, "last_activity_date": 1476286439, "creation_date": 1475709742, "last_edit_date": 1475790766, "question_id": 39885179, "link": "https://stackoverflow.com/questions/39885179/is-there-a-sister-function-to-autofilter-in-excel-interop-that-works-for-col", "title": "Is there a &quot;sister&quot; function to &quot;AutoFilter&quot; in Excel Interop that works for columns instead of rows?", "body": "<p>The \"AutoFilter\" function in Excel Interop allows you to filter what data in the rows beneath a column display.</p>\n\n<p>I need a similar function to allow the user to select which columns to hide. For example and specifically, if there is a set of columns 3..15 (C..0) going from \"Sep 15\" to \"Sep 16\" with the obvious months in between them (\"Oct 15\", etc.) I want the user to be able to select any subset of those columns to view. Those deselected would \"disappear\"</p>\n\n<p>How can this be accomplished?</p>\n\n<p>I have tried the following, but the second filter has no effect:</p>\n\n<pre><code>private void AddFilters()\n{\n    Range column1Row6 = _xlSheet.Range[_xlSheet.Cells[6, 1], _xlSheet.Cells[6, 1]];\n    column1Row6.AutoFilter(1,\n            Type.Missing,\n            XlAutoFilterOperator.xlAnd,\n            Type.Missing,\n            true);\n\n    // Try to filter columns, too (not the contents, but which columns display)\n    Range columns3And4 = _xlSheet.Range[_xlSheet.Cells[6, 3], _xlSheet.Cells[6, 15]];\n    columns3And4.AutoFilter(1,\n            Type.Missing,\n            XlAutoFilterOperator.xlAnd,\n            Type.Missing,\n            true);\n}\n</code></pre>\n\n<p>Is this possible?</p>\n\n<h2>UPDATE</h2>\n\n<p>Looking at some legacy code, it would seem that this code does it:</p>\n\n<pre><code>var fld = ((PivotField) pvt.PivotFields(\"Month\"));\nfld.Orientation = XlPivotFieldOrientation.xlColumnField;\nfld.NumberFormat = \"MMM yy\";\n</code></pre>\n\n<p>Specifically, setting the orientation of the PivotField to xlColumnField causes the column to sport the sort/filter button that, when manipulated, conditionally shows/hides various columns. Does it determine which columns are showable/hideable based on the number format? That is to say, if the value is \"Sep 15\" or \"Oct 16\" it is a candidate for hiding/reshowing? I don't know, but I can't see anything else in the code that is more specifically setting the limits of the column filtering.</p>\n\n<p>For a little more context:</p>\n\n<pre><code>var pch = _xlBook.PivotCaches();\npch.Add(XlPivotTableSourceType.xlDatabase, \"PivotData!A1:H\" + rowIdx).CreatePivotTable(_xlSheet.Cells[6, 1], \"PivTab1\", Type.Missing, Type.Missing);\n\nvar pvt = _xlSheet.PivotTables(\"PivTab1\") as PivotTable;\nif (pvt != null)\n{\n    pvt.MergeLabels = true;\n    pvt.ErrorString = \"\";\n    pvt.DisplayErrorString = true;\n\n    var fld = ((PivotField) pvt.PivotFields(\"Description\"));\n    fld.Orientation = XlPivotFieldOrientation.xlRowField;\n\n    fld = ((PivotField) pvt.PivotFields(\"Month\"));\n    fld.Orientation = XlPivotFieldOrientation.xlColumnField;\n    fld.NumberFormat = \"MMM yy\";\n    . . .\n</code></pre>\n"}, {"tags": ["c#", "sleep", "monogame"], "comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1475709768, "post_id": 39885136, "comment_id": 67057042, "body": "The trick is not to add delay between game loop iterations, but to instead measure the time between loop executions and adjust time-dependent values (such as speed/velocity, acceleration, etc) accordingly."}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 6929090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJtPB.jpg?s=128&g=1", "display_name": "The_Morellonomicon", "link": "https://stackoverflow.com/users/6929090/the-morellonomicon"}, "is_accepted": false, "score": 0, "last_activity_date": 1475715972, "creation_date": 1475715972, "answer_id": 39885953, "question_id": 39885136, "link": "https://stackoverflow.com/questions/39885136/how-to-slow-down-monogame/39885953#39885953", "title": "How to slow down MonoGame", "body": "<p>The extremely simple solution would be to decrease your fixed update rate that MonoGame defaults to. This makes your input less responsive though and is generally undesirable.</p>\n\n<p>The better solution would be to calculate the elapsed time since the last update and adjust your movement accordingly. This also has the added benefit of making many more features easier, acceleration for example to give some weight to your objects can then be added as an integral of speed, or your framerate can be extended without having to buffer the last frame and extrapolating intermediary positions.</p>\n"}, {"tags": [], "owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "is_accepted": false, "score": 1, "last_activity_date": 1475722345, "creation_date": 1475722345, "answer_id": 39886762, "question_id": 39885136, "link": "https://stackoverflow.com/questions/39885136/how-to-slow-down-monogame/39886762#39886762", "title": "How to slow down MonoGame", "body": "<p>The usual method is to define the speed of everything in \"units per second\".  So the player would move at a rate of 64 pixels per second (or whatever speed you choose).  Each frame, MonoGame will call <code>Update</code>, and pass in a <code>GameTime</code> instance with the amount of time that has passed since the last frame.  What you want to do is multiply the movement rate by <code>GameTime.ElapsedGameTime.TotalSeconds</code>. So if 3/4th of a second passed since the last frame you would do <code>64 * .75</code> to get <code>48</code>, which is the number of pixels your should move your character that frame if the button is held down.</p>\n\n<p>If you define everything in terms of \"Units Per Second\", you can easily keep speeds consistent regardless of how fast or slow your frame rate is.  This works for speed of movement (pixels/ meters per second), turning rate (degrees per second), health regeneration (hp per second), etc.  MonoGame makes it easy to do this, because all the fundamental units classes, like <code>Vector2</code> and <code>Vector3</code>, have their multiplication operators overloaded for exactly this purpose.</p>\n"}, {"comments": [{"owner": {"reputation": 2659, "user_id": 8050514, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6CRdl.jpg?s=128&g=1", "display_name": "Optimistic Peach", "link": "https://stackoverflow.com/users/8050514/optimistic-peach"}, "edited": false, "score": 0, "creation_date": 1522940297, "post_id": 40709383, "comment_id": 86361995, "body": "You shouldn&#39;t use doubles, floats are used for everything else in monogame and doubles use up twice as much memory (Hence the name &quot;Double&quot;)"}], "tags": [], "owner": {"reputation": 1448, "user_id": 4509338, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UdgWd.jpg?s=128&g=1", "display_name": "mkkekkonen", "link": "https://stackoverflow.com/users/4509338/mkkekkonen"}, "is_accepted": true, "score": 0, "last_activity_date": 1479675941, "creation_date": 1479675941, "answer_id": 40709383, "question_id": 39885136, "link": "https://stackoverflow.com/questions/39885136/how-to-slow-down-monogame/40709383#40709383", "title": "How to slow down MonoGame", "body": "<p>Here's what I decided to do in the end. </p>\n\n<p>I'm separating my game objects into components, and one is called Movement. Since the movement is tile-based, I couldn't use speeds or vectors or anything like that.</p>\n\n<p>The code is simplified, I did not include everything here.</p>\n\n<pre><code>public class Movement \n{\n    // define a movement interval and store the elapsed time between moves\n    private double interval, elapsedTime;\n\n    public Movement(double interval) \n    {\n        this.interval = interval;\n    }\n\n    // called when arrow keys are pressed (player)\n    public void Move(Direction dir) \n    {\n        if(elapsedTime &gt; interval)\n        {\n            // move\n        }\n    }\n\n    // called once per frame from the main class Update method\n    public void Update(GameTime gameTime)\n    {\n        if(elapsedTime &gt; interval)\n            elapsedTime -= interval;\n\n        // add milliseconds elapsed during the frame to elapsedTime\n        elapsedTime += gameTime.ElapsedGameTime.TotalMilliseconds; \n    }\n}\n\npublic enum Direction \n{\n    LEFT,\n    RIGHT,\n    UP,\n    DOWN\n}\n</code></pre>\n"}], "owner": {"reputation": 1448, "user_id": 4509338, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UdgWd.jpg?s=128&g=1", "display_name": "mkkekkonen", "link": "https://stackoverflow.com/users/4509338/mkkekkonen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1117, "favorite_count": 1, "accepted_answer_id": 40709383, "answer_count": 3, "score": 1, "last_activity_date": 1479675941, "creation_date": 1475709502, "question_id": 39885136, "link": "https://stackoverflow.com/questions/39885136/how-to-slow-down-monogame", "title": "How to slow down MonoGame", "body": "<p>I'm making a tile-based graphical roguelike game with MonoGame, and when handling input the player moves too fast. Moving the player with separate individual key presses does not make the application terribly fun to play. </p>\n\n<p>How could I add some time between the game loops? When using <code>Thread.Sleep</code> the whole program gets stuck and doesn't handle any input.</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "is_accepted": true, "score": 4, "last_activity_date": 1475709573, "creation_date": 1475709573, "answer_id": 39885147, "question_id": 39885090, "link": "https://stackoverflow.com/questions/39885090/why-when-moving-objects-forward-they-are-moving-very-slow-how-can-i-change-the/39885147#39885147", "title": "Why when moving objects forward they are moving very slow ? How can i change the speed?", "body": "<p>Calling <code>FindGameObjectsWithTag</code> in every frame is very slow. Call that once in the <code>Start</code> function. Also add a public speed variable you can use to multiple to change the speed. You can modify this speed variable from the Editor until you get the speed you want. Make sure to look in the rest of your script and make sure that you are not using <code>GameObject.Find</code>, <code>FindGameObjectsWithTag</code> or similar functions in the <code>Update</code> function.</p>\n\n<pre><code>GameObject[] spheres;\npublic float moveSpeed = 50;\n\nvoid Start()\n{\n    spheres = GameObject.FindGameObjectsWithTag(\"MySphere\");\n}\n\nprivate void Update()\n{\n    UpdateSpheres();\n    MoveShips();\n}\n\nprivate void MoveShips()\n{\n    foreach (Transform child in spheres[0].transform)\n    {\n        child.transform.position += Vector3.forward * Time.deltaTime * moveSpeed;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 393, "user_id": 6603982, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8ab5ec3f7103adc214561aedbe637e3e?s=128&d=identicon&r=PG&f=1", "display_name": "TheLost Lostit", "link": "https://stackoverflow.com/users/6603982/thelost-lostit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 39885147, "answer_count": 1, "score": 2, "last_activity_date": 1475709573, "creation_date": 1475709221, "last_edit_date": 1475709381, "question_id": 39885090, "link": "https://stackoverflow.com/questions/39885090/why-when-moving-objects-forward-they-are-moving-very-slow-how-can-i-change-the", "title": "Why when moving objects forward they are moving very slow ? How can i change the speed?", "body": "<p>In <code>Update</code> function:\nThe <code>UpdateSpheres</code> create the objects and then move them, but they are moving very slow.</p>\n\n<pre><code>private void Update()\n{\n    UpdateSpheres();\n    MoveShips();\n}\n\nprivate void MoveShips()\n{\n    var spheres = GameObject.FindGameObjectsWithTag(\"MySphere\");\n    foreach (Transform child in spheres[0].transform) \n    {\n        child.transform.position += Vector3.forward * Time.deltaTime;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "excel-interop", "autofilter"], "answers": [{"tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": true, "score": 2, "last_activity_date": 1476239136, "creation_date": 1476239136, "answer_id": 39989551, "question_id": 39885017, "link": "https://stackoverflow.com/questions/39885017/how-can-i-restrict-an-autofilter-in-excel-interop-to-only-act-on-the-rows-in-one/39989551#39989551", "title": "How can I restrict an AutoFilter in Excel Interop to only act on the rows in one column?", "body": "<p>If I understand your question correctly, there is a hack I use in normal Excel to accomplish filtering on a single column.  I used to highlight the entire column and hit the filter button, which is a real pain when you have tens of thousands of rows of data.</p>\n\n<p>As you probably know, when you have only one cell highlighted, it autofilters the entire row, as if to say any one cell means \"nothing in particular\" was highlighted.</p>\n\n<p>Quite by accident, I discovered that if you highlight any range that extends beyond one cell, it tries to figure out what you meant.  In this case, if you highlight the header row (A5) and one cell immediately below that and then hit filter, it will have the same effect as highlighting the whole column.</p>\n\n<p>So, in C# interop terms, this would be the equivalent of that action:</p>\n\n<pre><code>_xlSheet.Range[_xlSheet.Cells[5, 1], _xlSheet.Cells[6, 1]].AutoFilter();\n</code></pre>\n"}], "owner": {"reputation": 525, "user_id": 875317, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/tQ8Th.jpg?s=128&g=1", "display_name": "B. Clay Shannon", "link": "https://stackoverflow.com/users/875317/b-clay-shannon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1236, "favorite_count": 0, "accepted_answer_id": 39989551, "answer_count": 1, "score": 2, "last_activity_date": 1476283385, "creation_date": 1475708769, "question_id": 39885017, "link": "https://stackoverflow.com/questions/39885017/how-can-i-restrict-an-autofilter-in-excel-interop-to-only-act-on-the-rows-in-one", "title": "How can I restrict an AutoFilter in Excel Interop to only act on the rows in one column?", "body": "<p>I want to allow filtering on the values in one column (A, or 1), from a specific row (6). I can provide filters for <em>all</em> the columns on a row like so:</p>\n\n<pre><code>Range sixthRow = (Range)_xlSheet.Rows[6];\nsixthRow.AutoFilter(1,\n        Type.Missing,\n        XlAutoFilterOperator.xlAnd,\n        Type.Missing,\n        true);\n</code></pre>\n\n<p>...or like so:</p>\n\n<pre><code>Range column1Row6 = _xlSheet.Range[_xlSheet.Cells[6, 1], _xlSheet.Cells[6, 1]];\ncolumn1Row6.AutoFilter(1,\n        Type.Missing,\n        XlAutoFilterOperator.xlAnd,\n        Type.Missing,\n        true);\n</code></pre>\n\n<p>...so that it looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wdZln.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wdZln.png\" alt=\"enter image description here\"></a></p>\n\n<p>...but I only want the filtering for the first column, from row 6 (the \"from row 6\" part is working fine), not columns 2, 3, 4, and 5 (and there could be more).</p>\n\n<p>How can I have the filter only on the first column (A, or 1) not over the entire row?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "razor"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 4, "creation_date": 1475708813, "post_id": 39884977, "comment_id": 67056823, "body": "What exception? (and it would need to be <code>@( .. )</code> not <code>@{ .. }</code>)"}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1475711057, "post_id": 39884977, "comment_id": 67057361, "body": "<code>&lt;span id=&quot;ContinueSpan&quot;&gt;@(Model.SelectedTab == 5 ? &quot;Submit&quot; : &quot;Continue&quot;)&lt;span aria-hidden=&quot;true&quot;&gt;&amp;nbsp;&amp;nbsp;\u2192&lt;&#47;span&gt;&lt;&#47;span&gt;</code>"}], "owner": {"reputation": 10426, "user_id": 2209468, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/naYuh.jpg?s=128&g=1", "display_name": "maxspan", "link": "https://stackoverflow.com/users/2209468/maxspan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475709669, "creation_date": 1475708505, "last_edit_date": 1475709669, "question_id": 39884977, "link": "https://stackoverflow.com/questions/39884977/adding-text-inside-a-span-based-on-turnary-condition-using-razor", "title": "adding text inside a span based on turnary condition using razor", "body": "<pre><code>&lt;span id=\"ContinueSpan\"&gt;@{Model.SelectedTab == 5 ? \"Submit\": \"Continue\"} \n    &lt;span aria-hidden=\"true\"&gt;&amp;nbsp;&amp;nbsp;\u2192&lt;/span&gt;\n&lt;/span&gt;\n</code></pre>\n\n<p>The above code is throwing an exception. I am wondering what is wrong with it.</p>\n"}, {"tags": ["c#", "mysql", "entity-framework"], "comments": [{"owner": {"reputation": 15122, "user_id": 4519059, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/MBHID.png?s=128&g=1", "display_name": "shA.t", "link": "https://stackoverflow.com/users/4519059/sha-t"}, "edited": false, "score": 0, "creation_date": 1475913621, "post_id": 39884967, "comment_id": 67142898, "body": "A related question about <code>Distinct</code>: <a href=\"http://stackoverflow.com/q/1365748/4519059\">Distinct not working with LINQ to Objects</a> ;)."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 4, "creation_date": 1475919536, "post_id": 39884967, "comment_id": 67144251, "body": "Maybe related to the current culture of machines this code runs on. String equality comparisions depend on current culture, so Distinct can produce different results on different servers. Then, names that are considered different by .NET with current culture are considered the same by mysql and you get violation. So, try to check language settings of both machines, and if that is indeed the problem - use same culture in string comparisions."}, {"owner": {"reputation": 138, "user_id": 5480916, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wiyKwW9OZ9U/AAAAAAAAAAI/AAAAAAAAGG4/Dl3OuicFn8k/photo.jpg?sz=128", "display_name": "Som Shekhar", "link": "https://stackoverflow.com/users/5480916/som-shekhar"}, "edited": false, "score": 0, "creation_date": 1475922815, "post_id": 39884967, "comment_id": 67145042, "body": "Can you give an example of the uncommitted values? from both the machines."}, {"owner": {"reputation": 74851, "user_id": 238419, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/460167b95ff5a363d3977ddb56cfe074?s=128&d=identicon&r=PG", "display_name": "BlueRaja - Danny Pflughoeft", "link": "https://stackoverflow.com/users/238419/blueraja-danny-pflughoeft"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1475954194, "post_id": 39884967, "comment_id": 67154529, "body": "@Evk Yes I verified both machines are using the same <code>CultureInfo.CurrentCulture</code>. @Som an example string that is considered a duplicate only on the server: <code>autograph: \u5578\u5929</code>"}, {"owner": {"reputation": 74851, "user_id": 238419, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/460167b95ff5a363d3977ddb56cfe074?s=128&d=identicon&r=PG", "display_name": "BlueRaja - Danny Pflughoeft", "link": "https://stackoverflow.com/users/238419/blueraja-danny-pflughoeft"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1475954784, "post_id": 39884967, "comment_id": 67154715, "body": "@evk the culture is <code>en-us</code>. What you said <i>(edit: and now deleted)</i> shouldn&#39;t be possible because A. The MySQL table/column are using <code>utf8_bin</code> collation, so two strings equal only when they are <i>exactly</i> the same, and B. I don&#39;t see the issue when testing locally, despite having the same culture."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 1, "creation_date": 1475956048, "post_id": 39884967, "comment_id": 67155110, "body": "Does the number of items returned by newEntries.Distinct() before you are calling AddRange the same on both machines?"}, {"owner": {"reputation": 39156, "user_id": 842935, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2b3b9d4aa138cb30767b8b1a7a90f027?s=128&d=identicon&r=PG", "display_name": "dani herrera", "link": "https://stackoverflow.com/users/842935/dani-herrera"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1476084113, "post_id": 39884967, "comment_id": 67186054, "body": "Your <code>distinct</code> is running on .NET environment and not in database.  May be both machines are working in different character set. Can you execute <code>Distinct().Count()</code> in both machines and post results as @Evk is suggesting. It will help to isolate the issue?"}, {"owner": {"reputation": 7598, "user_id": 1157540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c9bfa9fe359bae3691e9b52f93458cd?s=128&d=identicon&r=PG", "display_name": "Marc Alff", "link": "https://stackoverflow.com/users/1157540/marc-alff"}, "edited": false, "score": 0, "creation_date": 1476171951, "post_id": 39884967, "comment_id": 67224199, "body": "@BlueRaja-DannyPflughoeft Please indicate the MySQL server version number on both machines."}, {"owner": {"reputation": 2226, "user_id": 4635792, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BZZIbPaQUik/AAAAAAAAAAI/AAAAAAAAIaY/EvSi80jn3CQ/photo.jpg?sz=128", "display_name": "uTeisT", "link": "https://stackoverflow.com/users/4635792/uteist"}, "edited": false, "score": 0, "creation_date": 1476174367, "post_id": 39884967, "comment_id": 67225453, "body": "@BlueRaja-DannyPflughoeft Instead of adding rows with <code>.AddRange()</code> could you loop through every record before Inserting to check if that record already exists? That might give us a better insight if we can understand which row actually causes the error. Also, is there any chance of zero-width spaces being used in data? <code>.Trim()</code> prolly wouldn&#39;t work on those and thus <code>.Distinct()</code> won&#39;t help either."}], "answers": [{"comments": [{"owner": {"reputation": 4022, "user_id": 388929, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b12c785f778a90dc694852024335c3a4?s=128&d=identicon&r=PG", "display_name": "gaRex", "link": "https://stackoverflow.com/users/388929/garex"}, "edited": false, "score": 0, "creation_date": 1476477965, "post_id": 39947485, "comment_id": 67379599, "body": "May be because in ASCII &quot;qwerty????&quot; is same as &quot;qwerty????&quot;, when in UTF it&#39;s a different strings like &quot;qwerty\u0410\u0411\u0412\u0413&quot; and &quot;qwerty\u0419\u0426\u0423\u041a&quot;?"}], "tags": [], "owner": {"reputation": 74851, "user_id": 238419, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/460167b95ff5a363d3977ddb56cfe074?s=128&d=identicon&r=PG", "display_name": "BlueRaja - Danny Pflughoeft", "link": "https://stackoverflow.com/users/238419/blueraja-danny-pflughoeft"}, "is_accepted": true, "score": 0, "last_activity_date": 1476738905, "last_edit_date": 1495541956, "creation_date": 1476040370, "answer_id": 39947485, "question_id": 39884967, "link": "https://stackoverflow.com/questions/39884967/duplicate-entry-for-key-primary-on-one-machine-but-not-another-with-same-data/39947485#39947485", "title": "&quot;Duplicate entry for key primary&quot; on one machine but not another, with same data?", "body": "<p>I ended up solving it by unicode-escaping non-ascii characters, similar to <a href=\"https://stackoverflow.com/a/1615833/238419\">this solution</a>.</p>\n\n<p>However, I still have no idea <em>why</em> this could have possibly happened...</p>\n"}, {"comments": [{"owner": {"reputation": 74851, "user_id": 238419, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/460167b95ff5a363d3977ddb56cfe074?s=128&d=identicon&r=PG", "display_name": "BlueRaja - Danny Pflughoeft", "link": "https://stackoverflow.com/users/238419/blueraja-danny-pflughoeft"}, "edited": false, "score": 0, "creation_date": 1476120360, "post_id": 39963442, "comment_id": 67206979, "body": "Same driver, but different database versions.  Maybe it is a MySQL bug that was fixed?"}, {"owner": {"reputation": 1928, "user_id": 1368293, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/BYKtf.jpg?s=128&g=1", "display_name": "John Meyer", "link": "https://stackoverflow.com/users/1368293/john-meyer"}, "reply_to_user": {"reputation": 74851, "user_id": 238419, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/460167b95ff5a363d3977ddb56cfe074?s=128&d=identicon&r=PG", "display_name": "BlueRaja - Danny Pflughoeft", "link": "https://stackoverflow.com/users/238419/blueraja-danny-pflughoeft"}, "edited": false, "score": 0, "creation_date": 1476133286, "post_id": 39963442, "comment_id": 67213254, "body": "In my case running the Oracle 12 driver on one machine and the Oracle 11 driver on another against Oracle 11g caused differences in the way numbers were processed. One setup returned an int, where the other returned a long. If possible, you should run the same version on your local and in the test/prod environments."}, {"owner": {"reputation": 74851, "user_id": 238419, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/460167b95ff5a363d3977ddb56cfe074?s=128&d=identicon&r=PG", "display_name": "BlueRaja - Danny Pflughoeft", "link": "https://stackoverflow.com/users/238419/blueraja-danny-pflughoeft"}, "edited": false, "score": 0, "creation_date": 1476496023, "post_id": 39963442, "comment_id": 67384071, "body": "Re edit:  According to that link the 4-byte UTF8 characters are stored using a new character set, <code>utf8mb4</code>.  They did not, as you say, change the <code>utf8</code> character-set that both of my databases are using."}, {"owner": {"reputation": 1928, "user_id": 1368293, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/BYKtf.jpg?s=128&g=1", "display_name": "John Meyer", "link": "https://stackoverflow.com/users/1368293/john-meyer"}, "reply_to_user": {"reputation": 74851, "user_id": 238419, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/460167b95ff5a363d3977ddb56cfe074?s=128&d=identicon&r=PG", "display_name": "BlueRaja - Danny Pflughoeft", "link": "https://stackoverflow.com/users/238419/blueraja-danny-pflughoeft"}, "edited": false, "score": 0, "creation_date": 1476711949, "post_id": 39963442, "comment_id": 67448617, "body": "It says: &quot;... <b>As of MySQL 5.5.3</b> , the utf8mb4 character set uses a maximum of four bytes per character supports supplemental characters: ... <b>For a supplementary character, utf8 cannot store the character at all</b>, whereas utf8mb4 requires four bytes to store it. Because utf8 cannot store the character at all, you have no supplementary characters in utf8 columns and need not worry about converting characters or losing data when upgrading utf8 data from older versions of MySQL.&quot;"}, {"owner": {"reputation": 74851, "user_id": 238419, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/460167b95ff5a363d3977ddb56cfe074?s=128&d=identicon&r=PG", "display_name": "BlueRaja - Danny Pflughoeft", "link": "https://stackoverflow.com/users/238419/blueraja-danny-pflughoeft"}, "edited": false, "score": 0, "creation_date": 1476738704, "post_id": 39963442, "comment_id": 67464230, "body": "Yes but I am not using <code>utf8mb4</code> at all.  Both databases use <code>utf8_bin</code>, and the data gets inserted correctly into one of them."}], "tags": [], "owner": {"reputation": 1928, "user_id": 1368293, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/BYKtf.jpg?s=128&g=1", "display_name": "John Meyer", "link": "https://stackoverflow.com/users/1368293/john-meyer"}, "is_accepted": false, "score": 0, "last_activity_date": 1476389670, "last_edit_date": 1476389670, "creation_date": 1476119655, "answer_id": 39963442, "question_id": 39884967, "link": "https://stackoverflow.com/questions/39884967/duplicate-entry-for-key-primary-on-one-machine-but-not-another-with-same-data/39963442#39963442", "title": "&quot;Duplicate entry for key primary&quot; on one machine but not another, with same data?", "body": "<p>Are both machines using the same database drivers? I have had similar issues with EF and Oracle when different drivers are installed. </p>\n\n<p>EDIT:</p>\n\n<p>This document</p>\n\n<p><a href=\"https://dev.mysql.com/doc/refman/5.5/en/charset-unicode-utf8mb4.html\" rel=\"nofollow\">https://dev.mysql.com/doc/refman/5.5/en/charset-unicode-utf8mb4.html</a></p>\n\n<p>says that before MySQL 5.5.3 Unicode characters were stored using a max of 3 bytes per character, and after were stored using 4 bytes. This could explain the difference in whether a key is determined to be unique. The difference would come into play when 'supplementary characters' are used as older versions could not store those characters at all. </p>\n\n<p>Are your two databases on different sides of the divide (MySQL 5.5.3)?</p>\n"}, {"tags": [], "owner": {"reputation": 7598, "user_id": 1157540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c9bfa9fe359bae3691e9b52f93458cd?s=128&d=identicon&r=PG", "display_name": "Marc Alff", "link": "https://stackoverflow.com/users/1157540/marc-alff"}, "is_accepted": false, "score": 1, "last_activity_date": 1476257033, "last_edit_date": 1476257033, "creation_date": 1476171715, "answer_id": 39972501, "question_id": 39884967, "link": "https://stackoverflow.com/questions/39884967/duplicate-entry-for-key-primary-on-one-machine-but-not-another-with-same-data/39972501#39972501", "title": "&quot;Duplicate entry for key primary&quot; on one machine but not another, with same data?", "body": "<p>I would investigate the following points:</p>\n\n<ul>\n<li>check the exact MySQL version on both machines. You can do this in a MySQL client with <code>SHOW VARIABLES LIKE \"%version%\";</code></li>\n<li>use <code>SELECT HEX(name)</code> to see how the data is encoded, for the duplicate row.</li>\n<li>investigate if the \"utf8\" data is stored in utf8mb3 or utf8mb4</li>\n</ul>\n\n<p><a href=\"https://dev.mysql.com/doc/refman/5.7/en/charset-unicode-utf8mb3.html\" rel=\"nofollow\">https://dev.mysql.com/doc/refman/5.7/en/charset-unicode-utf8mb3.html</a></p>\n\n<p><a href=\"https://dev.mysql.com/doc/refman/5.7/en/charset-unicode-utf8mb4.html\" rel=\"nofollow\">https://dev.mysql.com/doc/refman/5.7/en/charset-unicode-utf8mb4.html</a></p>\n\n<p>Assuming that on the dev machine, data is inserted from a fresh install, and that on the production machine, data could have been inserted with an older version and then the server upgraded, I would check in particular if actions are needed (and were done) to complete correctly the upgrade process.</p>\n\n<p>In particular, see these sections (for the proper version) in the MySQL reference manual:</p>\n\n<p><a href=\"https://dev.mysql.com/doc/refman/5.7/en/checking-table-incompatibilities.html\" rel=\"nofollow\">https://dev.mysql.com/doc/refman/5.7/en/checking-table-incompatibilities.html</a></p>\n\n<p>If necessary, rebuild the indexes.</p>\n\n<p><a href=\"https://dev.mysql.com/doc/refman/5.7/en/rebuilding-tables.html\" rel=\"nofollow\">https://dev.mysql.com/doc/refman/5.7/en/rebuilding-tables.html</a></p>\n\n<p>Edit (2016-10-12)</p>\n\n<p>All the above focuses on the table, and on storage.</p>\n\n<p>Another part to check is the connection between client and server, with variables such as <code>character_set_connection</code>.</p>\n\n<p>Please check all character set related system variables, to compare them.</p>\n\n<pre><code>mysql&gt; show variables like \"%character%\";\n+--------------------------+-------------------------------------------+\n| Variable_name            | Value                                     |\n+--------------------------+-------------------------------------------+\n| character_set_client     | utf8                                      |\n| character_set_connection | utf8                                      |\n| character_set_database   | latin1                                    |\n| character_set_filesystem | binary                                    |\n| character_set_results    | utf8                                      |\n| character_set_server     | latin1                                    |\n| character_set_system     | utf8                                      |\n| character_sets_dir       | /home/malff/GIT_TRUNK/sql/share/charsets/ |\n+--------------------------+-------------------------------------------+\n8 rows in set (0.02 sec)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 74851, "user_id": 238419, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/460167b95ff5a363d3977ddb56cfe074?s=128&d=identicon&r=PG", "display_name": "BlueRaja - Danny Pflughoeft", "link": "https://stackoverflow.com/users/238419/blueraja-danny-pflughoeft"}, "edited": false, "score": 0, "creation_date": 1476470686, "post_id": 40049998, "comment_id": 67376074, "body": "? There is no situation where this could be a problem.  The EF driver should transparently escape any characters that would otherwise cause an issue."}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "reply_to_user": {"reputation": 74851, "user_id": 238419, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/460167b95ff5a363d3977ddb56cfe074?s=128&d=identicon&r=PG", "display_name": "BlueRaja - Danny Pflughoeft", "link": "https://stackoverflow.com/users/238419/blueraja-danny-pflughoeft"}, "edited": false, "score": 0, "creation_date": 1476470866, "post_id": 40049998, "comment_id": 67376165, "body": "It should. Now, does it? I would suggest you try a couple of things, just to rule it out. 1) Do a manual diff on your key and 2) Look for special characters in your key. See if you can find some then run a quick test using those values and see if it complains."}], "tags": [], "owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "is_accepted": false, "score": -1, "last_activity_date": 1476470303, "creation_date": 1476470303, "answer_id": 40049998, "question_id": 39884967, "link": "https://stackoverflow.com/questions/39884967/duplicate-entry-for-key-primary-on-one-machine-but-not-another-with-same-data/40049998#40049998", "title": "&quot;Duplicate entry for key primary&quot; on one machine but not another, with same data?", "body": "<p>I think it may be because certain characters have different meanings based on the environment so it's generally recommended that you escape these special characters before a string is used as a data value.</p>\n\n<p>Check this out: <a href=\"http://dev.mysql.com/doc/refman/5.7/en/string-literals.html#character-escape-sequences\" rel=\"nofollow\">http://dev.mysql.com/doc/refman/5.7/en/string-literals.html#character-escape-sequences</a></p>\n"}], "owner": {"reputation": 74851, "user_id": 238419, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/460167b95ff5a363d3977ddb56cfe074?s=128&d=identicon&r=PG", "display_name": "BlueRaja - Danny Pflughoeft", "link": "https://stackoverflow.com/users/238419/blueraja-danny-pflughoeft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1280, "favorite_count": 0, "accepted_answer_id": 39947485, "answer_count": 4, "score": 11, "last_activity_date": 1478006208, "creation_date": 1475708436, "last_edit_date": 1478006208, "question_id": 39884967, "link": "https://stackoverflow.com/questions/39884967/duplicate-entry-for-key-primary-on-one-machine-but-not-another-with-same-data", "title": "&quot;Duplicate entry for key primary&quot; on one machine but not another, with same data?", "body": "<p>My issue: inserting a set of data works on my local machine/MySQL database, but on production it causes a <code>Duplicate entry for key 'PRIMARY'</code> error.  As far as I can tell both setups are equivalent.</p>\n\n<p>My first thought was that it's a collation issue, but I've checked that the tables in both databases are using <code>utf8_bin</code>.</p>\n\n<p>The table starts out empty and I am doing <code>.Distinct()</code> in the code, so there shouldn't be any duplicate entries.</p>\n\n<p>The table in question:</p>\n\n<pre><code>CREATE TABLE `mytable` (\n  `name` varchar(100) CHARACTER SET utf8 NOT NULL,\n  `appid` int(11) NOT NULL,\n  -- A few other irrelevant fields\n  PRIMARY KEY (`name`,`appid`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;\n</code></pre>\n\n<p><code>Database.cs</code>:</p>\n\n<pre><code>[DbConfigurationType(typeof(MySql.Data.Entity.MySqlEFConfiguration))]\npublic class Database : DbContext\n{\n    public DbSet&lt;MyTable&gt; MyTable { get; set; }\n    public static Database Get()\n    {\n        /* Not important */\n    }\n    //etc.\n}\n</code></pre>\n\n<p><code>MyTable.cs</code>:</p>\n\n<pre><code>[Table(\"mytable\")]\npublic class MyTable : IEquatable&lt;MyTable&gt;, IComparable, IComparable&lt;MyTable&gt;\n{\n    [Column(\"name\", Order = 0), Key, Required, DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public string Name\n    {\n        get { return _name; }\n        set { _name = value.Trim().ToLower(); }\n    }\n\n    private string _name;\n\n    [Column(\"appid\", Order = 1), Key, Required, DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public int ApplicationId { get; set; }\n\n    //Equals(), GetHashCode(), CompareTo(), ==() etc. all auto-generated by Resharper to use both Name and ApplicationId.\n    //Have unit-tests to verify they work correctly.\n}\n</code></pre>\n\n<p>Then using it:</p>\n\n<pre><code>using(Database db = Database.Get())\nusing(DbContextTransaction transaction = db.Database.BeginTransaction(IsolationLevel.ReadUncommitted))\n{\n    IEnumerable&lt;MyTable&gt; newEntries = GetNewEntries();\n    //Verify no existing entries already in the table; not necessary to show since table is empty anyways\n    db.MyTable.AddRange(newEntries.Distinct());\n}\n</code></pre>\n\n<p>I'm at a loss how there could be duplicate entries in the database after doing a <code>.Distinct()</code> in the code, when using <code>utf8_bin</code>, especially since it works on one machine but not another.  Does anyone have any ideas?</p>\n"}, {"tags": ["c#", "keyboard", "telegram", "telegram-bot"], "answers": [{"comments": [{"owner": {"reputation": 418, "user_id": 6818599, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/016acff4b4d7414c6946bd0f88c5d7e3?s=128&d=identicon&r=PG&f=1", "display_name": "cyrus2500", "link": "https://stackoverflow.com/users/6818599/cyrus2500"}, "edited": false, "score": 0, "creation_date": 1483791794, "post_id": 39928526, "comment_id": 70248512, "body": "help me this link:<a href=\"http://stackoverflow.com/questions/41519495/how-to-solve-disturbance-in-my-bot-in-c?noredirect=1#comment70247673_41519495\" title=\"how to solve disturbance in my bot in c\">stackoverflow.com/questions/41519495/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1166, "user_id": 4566945, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ca4c21cb8e5cc773ad9b46be228733f3?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/4566945/nathan"}, "is_accepted": true, "score": 10, "last_activity_date": 1475899133, "creation_date": 1475899133, "answer_id": 39928526, "question_id": 39884961, "link": "https://stackoverflow.com/questions/39884961/create-dynamic-keyboard-telegram-bot-in-c-mrroundrobin-api/39928526#39928526", "title": "create dynamic Keyboard telegram bot in c# , MrRoundRobin API", "body": "<p>You could use a separate function to get an array of InlineKeyboardButton</p>\n\n<pre><code>private static InlineKeyboardButton[][] GetInlineKeyboard(string [] stringArray)\n{\n    var keyboardInline = new InlineKeyboardButton[1][];\n    var keyboardButtons = new InlineKeyboardButton[stringArray.Length];\n    for (var i = 0; i &lt; stringArray.Length; i++)\n    {\n        keyboardButtons[i] = new InlineKeyboardButton\n        {\n            Text = stringArray[i],\n            CallbackData = \"Some Callback Data\",\n        };\n    }\n    keyboardInline[0] = keyboardButtons;\n    return keyboardInline;\n}\n</code></pre>\n\n<p>And then call the function:</p>\n\n<pre><code>var buttonItem = new[] { \"one\", \"two\", \"three\", \"Four\" };\nvar keyboardMarkup = new InlineKeyboardMarkup(GetInlineKeyboard(buttonItem));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 261, "user_id": 3819634, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/FHPC8.jpg?s=128&g=1", "display_name": "Pooria.Shariatzadeh", "link": "https://stackoverflow.com/users/3819634/pooria-shariatzadeh"}, "edited": false, "score": 0, "creation_date": 1476026684, "post_id": 39941731, "comment_id": 67170657, "body": "hi i dont understand this one .are you using a JSON array ?"}, {"owner": {"reputation": 2809, "user_id": 3242314, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tcMi6.png?s=128&g=1", "display_name": "N.Y", "link": "https://stackoverflow.com/users/3242314/n-y"}, "reply_to_user": {"reputation": 261, "user_id": 3819634, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/FHPC8.jpg?s=128&g=1", "display_name": "Pooria.Shariatzadeh", "link": "https://stackoverflow.com/users/3819634/pooria-shariatzadeh"}, "edited": false, "score": 1, "creation_date": 1476028069, "post_id": 39941731, "comment_id": 67171089, "body": "I have updated my solution if you see that again you probably found it."}, {"owner": {"reputation": 418, "user_id": 6818599, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/016acff4b4d7414c6946bd0f88c5d7e3?s=128&d=identicon&r=PG&f=1", "display_name": "cyrus2500", "link": "https://stackoverflow.com/users/6818599/cyrus2500"}, "edited": false, "score": 0, "creation_date": 1483791808, "post_id": 39941731, "comment_id": 70248516, "body": "help me this link:<a href=\"http://stackoverflow.com/questions/41519495/how-to-solve-disturbance-in-my-bot-in-c?noredirect=1#comment70247673_41519495\" title=\"how to solve disturbance in my bot in c\">stackoverflow.com/questions/41519495/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2809, "user_id": 3242314, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tcMi6.png?s=128&g=1", "display_name": "N.Y", "link": "https://stackoverflow.com/users/3242314/n-y"}, "is_accepted": false, "score": 6, "last_activity_date": 1476027978, "last_edit_date": 1476027978, "creation_date": 1476003178, "answer_id": 39941731, "question_id": 39884961, "link": "https://stackoverflow.com/questions/39884961/create-dynamic-keyboard-telegram-bot-in-c-mrroundrobin-api/39941731#39941731", "title": "create dynamic Keyboard telegram bot in c# , MrRoundRobin API", "body": "<p>Create InlineKeyboardMarkup in a method:</p>\n\n<pre><code>public static InlineKeyboardMarkup InlineKeyboardMarkupMaker(Dictionary&lt;int, string&gt; items)\n{\n     InlineKeyboardButton[][] ik = items.Select(item =&gt; new[]\n     {\n           new InlineKeyboardButton(item.Key, item.Value)\n     }).ToArray();\n     return new InlineKeyboardMarkup(ik);\n}\n</code></pre>\n\n<p>Then use it like this:</p>\n\n<pre><code>var items=new Dictionary&lt;int,string&gt;()\n{\n     {0 , \"True\" }\n     {1 , \"False\" }\n};\nvar inlineKeyboardMarkup = InlineKeyboardMarkupMaker(items);\nBot.SendTextMessageAsync(message.Chat.Id, messageText, replyMarkup: inlineKeyboardMarkup);\n</code></pre>\n\n<p>Selecting True or False make an update with <code>Update.CallbackQuery.Data</code>equal to selected item key (0 or 1).</p>\n"}, {"tags": [], "owner": {"reputation": 211, "user_id": 1920975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4af0b1fb966370d1c5eb7ed3cfb519c?s=128&d=identicon&r=PG", "display_name": "Majid gharaei", "link": "https://stackoverflow.com/users/1920975/majid-gharaei"}, "is_accepted": false, "score": 2, "last_activity_date": 1509373246, "last_edit_date": 1509373246, "creation_date": 1507558341, "answer_id": 46648523, "question_id": 39884961, "link": "https://stackoverflow.com/questions/39884961/create-dynamic-keyboard-telegram-bot-in-c-mrroundrobin-api/46648523#46648523", "title": "create dynamic Keyboard telegram bot in c# , MrRoundRobin API", "body": "<p>Create InlineKeyboardButton with specific columns by below method.</p>\n\n<pre><code>                public static IReplyMarkup CreateInlineKeyboardButton(Dictionary&lt;string, string&gt; buttonList, int columns)\n    {\n        int rows = (int)Math.Ceiling((double)buttonList.Count / (double)columns);\n        InlineKeyboardButton[][] buttons = new InlineKeyboardButton[rows][];\n\n        for (int i = 0; i &lt; buttons.Length; i++)\n        {\n            buttons[i] = buttonList\n                .Skip(i * columns)\n                .Take(columns)\n                .Select(direction =&gt; new InlineKeyboardCallbackButton(\n                    direction.Key, direction.Value\n                ) as InlineKeyboardCallbackButton)\n                .ToArray();\n        }\n        return new InlineKeyboardMarkup(buttons);\n    }\n</code></pre>\n\n<p>Use method like this:</p>\n\n<pre><code>        public static IReplyMarkup CreateInLineMainMenuMarkup()\n    {\n        Dictionary&lt;string, string&gt; buttonsList = new Dictionary&lt;string, string&gt;();\n        buttonsList.Add(\"one\", \"DATA1\");\n        buttonsList.Add(\"two\", \"DATA2\");\n        buttonsList.Add(\"three\", \"DATA3\");\n\n        return CreateInlineKeyboardButton(buttonsList, 2);\n    }\n</code></pre>\n\n<p>Thanks <a href=\"https://github.com/pouladpld\" rel=\"nofollow noreferrer\">pouladpld</a> to create this function.</p>\n"}], "owner": {"reputation": 261, "user_id": 3819634, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/FHPC8.jpg?s=128&g=1", "display_name": "Pooria.Shariatzadeh", "link": "https://stackoverflow.com/users/3819634/pooria-shariatzadeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11420, "favorite_count": 3, "accepted_answer_id": 39928526, "answer_count": 3, "score": 5, "last_activity_date": 1545587077, "creation_date": 1475708399, "last_edit_date": 1545587077, "question_id": 39884961, "link": "https://stackoverflow.com/questions/39884961/create-dynamic-keyboard-telegram-bot-in-c-mrroundrobin-api", "title": "create dynamic Keyboard telegram bot in c# , MrRoundRobin API", "body": "<p>I want to create custom keyboard in <code>telegram.bot</code>  </p>\n\n<p>For example:<br>\nWe have an array of string that gets from the database or other recurses\nhow we can push data from the array to <code>InlineKeyboardMarkup</code> in for loop or function</p>\n\n<pre><code>//array  of Button\nstring[] ButtonItem= new string[] { \"one\", \"two\", \"three\", \"Four\" };\n\n//function or solution to create keyboard like this \nvar keyboard = new InlineKeyboardMarkup(new[]\n    {\n        new[] \n        {\n            new InlineKeyboardButton(\"one\"),\n            new InlineKeyboardButton(\"two\"),\n        },\n        new[] \n        {\n            new InlineKeyboardButton(\"three\"),\n            new InlineKeyboardButton(\"Four\"),\n        }\n    });\n</code></pre>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 2, "creation_date": 1475708464, "post_id": 39884954, "comment_id": 67056730, "body": "Missing a space after UnitPrice or before FROM. Why not use the verbatim string character @ and remove all those + to concatenate strings?"}, {"owner": {"reputation": 77, "user_id": 6820090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/34b2137e62c420cb6d8417f240a930c8?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Smith", "link": "https://stackoverflow.com/users/6820090/jerry-smith"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1475708682, "post_id": 39884954, "comment_id": 67056781, "body": "Thats it! It Worked!"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 2, "creation_date": 1475709433, "post_id": 39884954, "comment_id": 67056959, "body": "Side note - catching an exception just to re-throw it is pointless.  All it does is reset the stack trace, giving you <i>less</i> information to debug with.  Don&#39;t catch an exception unless you plan to do something with it other then rethrowing it."}, {"owner": {"reputation": 1197, "user_id": 2332844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M9AfV.jpg?s=128&g=1", "display_name": "Badiparmagi", "link": "https://stackoverflow.com/users/2332844/badiparmagi"}, "edited": false, "score": 0, "creation_date": 1475738042, "post_id": 39884954, "comment_id": 67065541, "body": "you could use <a href=\"http://stackoverflow.com/questions/4671610/why-use-string-format\">String.Format</a> It is much more readable and easy to make changes in string."}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 6820090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/34b2137e62c420cb6d8417f240a930c8?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Smith", "link": "https://stackoverflow.com/users/6820090/jerry-smith"}, "edited": false, "score": 0, "creation_date": 1475708663, "post_id": 39884976, "comment_id": 67056778, "body": "I can&#39;t believe it?! It Worked! Such a horrible mistake but glad the problem is solved. Thank You!"}, {"owner": {"reputation": 77, "user_id": 6820090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/34b2137e62c420cb6d8417f240a930c8?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Smith", "link": "https://stackoverflow.com/users/6820090/jerry-smith"}, "edited": false, "score": 0, "creation_date": 1475708770, "post_id": 39884976, "comment_id": 67056814, "body": "I will be sure to do that"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1475709050, "post_id": 39884976, "comment_id": 67056889, "body": "Welcome.  It took me a minute to notice the change, so I wanted to call attention to it."}], "tags": [], "owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "is_accepted": true, "score": 1, "last_activity_date": 1475708740, "last_edit_date": 1475708740, "creation_date": 1475708497, "answer_id": 39884976, "question_id": 39884954, "link": "https://stackoverflow.com/questions/39884954/incorrect-syntax-with-database-method/39884976#39884976", "title": "Incorrect syntax with database method", "body": "<p>The sql generated from this is missing spaces between the segments</p>\n\n<pre><code>string select = \"SELECT ProductCode, Description, UnitPrice\"\n           + \"FROM Products\"\n           + \"WHERE ProductCode = @ProductCode\";\n</code></pre>\n\n<p>Change to:</p>\n\n<pre><code>                                                //        add space\n                                                //         \u2193\nstring select = \"SELECT ProductCode, Description, UnitPrice \"\n           + \"FROM Products \"\n           + \"WHERE ProductCode = @ProductCode\";\n</code></pre>\n\n<p>better still just:</p>\n\n<pre><code>string select = @\"SELECT ProductCode, Description, UnitPrice \n                  FROM Products \n                  WHERE ProductCode = @ProductCode\";\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 6820090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/34b2137e62c420cb6d8417f240a930c8?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Smith", "link": "https://stackoverflow.com/users/6820090/jerry-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 39884976, "answer_count": 1, "score": 1, "last_activity_date": 1475730238, "creation_date": 1475708328, "last_edit_date": 1475730238, "question_id": 39884954, "link": "https://stackoverflow.com/questions/39884954/incorrect-syntax-with-database-method", "title": "Incorrect syntax with database method", "body": "<p>I am trying to implement a <code>GetProduct</code> method that lets me retrieve the product code of the product. I am using a database file that has my products table. But when I run I get a message saying </p>\n\n<blockquote>\n  <p>Incorrect syntax near Product</p>\n</blockquote>\n\n<p>I can't for the life of me understand why it isn't working. Any thoughts?</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Data;\nusing System.Data.SqlClient;\n\nnamespace ProductMaintenance\n{\n    class ProductDB\n    {\n        static Product product = new Product();\n\n        public static Product GetProduct(string code)\n        {\n            SqlConnection connection = MMABooksDB.GetConnection();\n\n            string select = \"SELECT ProductCode, Description, UnitPrice\"\n                          + \"FROM Products\"\n                          + \"WHERE ProductCode = @ProductCode\";\n\n            SqlCommand selectCommand = new SqlCommand(select, connection);\n            selectCommand.Parameters.AddWithValue(\"@ProductCode\", code);\n\n            try\n            {\n                connection.Open();\n\n                SqlDataReader prodReader = selectCommand.ExecuteReader(CommandBehavior.SingleRow);\n\n                if (prodReader.Read())\n                {\n                    product.Code = prodReader[\"ProductCode\"].ToString(); ;\n                    product.Description = prodReader[\"Description\"].ToString();\n                    product.Price = ((decimal)prodReader[\"Price\"]);\n\n                    return product;\n                }\n                else\n                {\n                    return null;\n                }\n            }\n            catch (SqlException ex)\n            {\n                throw ex;\n            }\n            finally\n            {\n                connection.Close();\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "code-generation", "protocol-buffers", "protobuf-net", "subtype"], "answers": [{"comments": [{"owner": {"reputation": 6451, "user_id": 1236694, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/77f6b46fe521c6807aefe4a2c33c2320?s=128&d=identicon&r=PG", "display_name": "BaltoStar", "link": "https://stackoverflow.com/users/1236694/baltostar"}, "edited": false, "score": 0, "creation_date": 1475888927, "post_id": 39902066, "comment_id": 67138860, "body": "so <code>protobuf</code> spec is saying to support class structures with inheritance , <code>message type defs</code> should reserve a range of <code>field indexes</code> to satisfy all potential sub-classing needs : in this manner, messages make use of composition &quot;inside&quot; to support inheritance &quot;outside&quot;. but how to overcome the shortcoming that because in the &quot;sub-class&quot; message all fields are notated as equal members, <code>protogen.exe</code> is incapable of generating derived classes that properly notate their base class ?"}, {"owner": {"reputation": 471, "user_id": 6169408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rbHif.jpg?s=128&g=1", "display_name": "asynchronos", "link": "https://stackoverflow.com/users/6169408/asynchronos"}, "reply_to_user": {"reputation": 6451, "user_id": 1236694, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/77f6b46fe521c6807aefe4a2c33c2320?s=128&d=identicon&r=PG", "display_name": "BaltoStar", "link": "https://stackoverflow.com/users/1236694/baltostar"}, "edited": false, "score": 0, "creation_date": 1476116664, "post_id": 39902066, "comment_id": 67205068, "body": "Rather than overcome, I think you must adapt.  Think about your problem differently, so it doesn&#39;t require inheritance in the message classes.  You might have inheritance in your own classes, which wrap and/or determine how to parse, messages."}], "tags": [], "owner": {"reputation": 471, "user_id": 6169408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rbHif.jpg?s=128&g=1", "display_name": "asynchronos", "link": "https://stackoverflow.com/users/6169408/asynchronos"}, "is_accepted": true, "score": 2, "last_activity_date": 1475774261, "creation_date": 1475774261, "answer_id": 39902066, "question_id": 39884889, "link": "https://stackoverflow.com/questions/39884889/protobuf-net-how-to-represent-inheritance-in-messages-and-generate-derived-cla/39902066#39902066", "title": "protobuf-net : how to represent inheritance in messages and generate derived classes?", "body": "<p>Protocol buffers doesn't support inheritance in a form that's analogous to (or maps to) intuitive inheritance in C++/C#/Java.</p>\n\n<p>See <a href=\"http://www.indelible.org/ink/protobuf-polymorphism/\" rel=\"nofollow\">here</a>:</p>\n\n<blockquote>\n  <p>Messages can also be extended, but the method by which this is accomplished differs from familiar C++ or Java-style inheritance. Instead, message extension is implemented by reserving some number of field indices in the base message for use by the extending messages.</p>\n</blockquote>\n\n<p>And the <a href=\"https://developers.google.com/protocol-buffers/docs/proto#extensions\" rel=\"nofollow\">protocol buffer docs</a> say:</p>\n\n<blockquote>\n  <p>Extensions let you declare that a range of field numbers in a message are available for third-party extensions. Other people can then declare new fields for your message type with those numeric tags in their own .proto files without having to edit the original file. </p>\n</blockquote>\n\n<p>The first article also discusses several other techniques for approximating polymorphism, with the pros and cons of each.</p>\n"}], "owner": {"reputation": 6451, "user_id": 1236694, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/77f6b46fe521c6807aefe4a2c33c2320?s=128&d=identicon&r=PG", "display_name": "BaltoStar", "link": "https://stackoverflow.com/users/1236694/baltostar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1740, "favorite_count": 0, "accepted_answer_id": 39902066, "answer_count": 1, "score": 1, "last_activity_date": 1475774261, "creation_date": 1475707949, "question_id": 39884889, "link": "https://stackoverflow.com/questions/39884889/protobuf-net-how-to-represent-inheritance-in-messages-and-generate-derived-cla", "title": "protobuf-net : how to represent inheritance in messages and generate derived classes?", "body": "<p><code>protobuf-net proto2 c#</code></p>\n\n<p>Here is my <code>.cs</code> file that works for <code>protobuf-net</code> serialize/deserialize : </p>\n\n<pre><code>[ProtoBuf.ProtoContract(Name=@\"MyBaseTypeProto\")]\n[ProtoBuf.ProtoInclude(typeof(MyDerivedType), 1)]\npublic partial class MyBaseType { ... }\n\n[ProtoBuf.ProtoContract(Name=@\"MyDerivedTypeProto\")] \npublic partial class MyDerivedType : MyBaseType { ... }\n\n[ProtoBuf.ProtoContract(Name=@\"MyMessageProto\")]                                                                  \npublic partial class MyMessage                                          \n{                                                                                               \n    [ProtoBuf.ProtoMember(1, IsRequired = false, Name = @\"MyList\", DataFormat = ProtoBuf.DataFormat.Default)]                                                 \n    public List&lt;MyDerivedType&gt; MyList;  \n</code></pre>\n\n<p>Is it possible to compose <code>.proto</code> files so that <code>protogen.exe</code> will generate the above ?</p>\n\n<p>Something like : </p>\n\n<pre><code>MyBaseType.proto\nmessage MyBaseType {\n    ...\n}\n\nMyDerivedType.proto\nmessage MyDerivedType {\n    ...\n}\n\nMyMessage.proto\nimport \"MyDerivedType.proto\"\nmessage MyMessage{                                                                          \n    repeated MyDerivedType MyList = 1;                                                          \n}    \n</code></pre>\n\n<p>but <code>protogen.exe</code> applied to the above message-types will not generate the above classes as desired; specifically it will not generate these lines of code : </p>\n\n<pre><code>[ProtoBuf.ProtoInclude(typeof(MyDerivedType), 1)]\n\npublic partial class MyDerivedType : MyBaseType\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "augmented-reality", "raycasting"], "answers": [{"comments": [{"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1475710542, "post_id": 39885087, "comment_id": 67057232, "body": "There is nothing wrong with the code I posted and I can&#39;t see your current code. Please copy the new <code>Update</code> function in my answer to your code and your problem should be solved."}, {"owner": {"reputation": 39, "user_id": 6377948, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d133d644975ed61ef4b875914b167792?s=128&d=identicon&r=PG&f=1", "display_name": "Nurullah.c", "link": "https://stackoverflow.com/users/6377948/nurullah-c"}, "edited": false, "score": 0, "creation_date": 1475710757, "post_id": 39885087, "comment_id": 67057291, "body": "Thank you for answer but i don&#39;t use main camera. I use vuforia camera and i can not Camera.main.ScreenPointToRay. And please check my Start function i set name kamera."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 39, "user_id": 6377948, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d133d644975ed61ef4b875914b167792?s=128&d=identicon&r=PG&f=1", "display_name": "Nurullah.c", "link": "https://stackoverflow.com/users/6377948/nurullah-c"}, "edited": false, "score": 0, "creation_date": 1475711309, "post_id": 39885087, "comment_id": 67057426, "body": "If this is the case then replace <code>Camera.main.ScreenPointToRay(Input.mousePosition)</code> with <code>kamera.GetComponent&lt;Camera&gt;().ScreenPointToRay(Input.mousePo&zwnj;&#8203;sition);</code>"}], "tags": [], "owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "is_accepted": true, "score": 1, "last_activity_date": 1475709199, "creation_date": 1475709199, "answer_id": 39885087, "question_id": 39884871, "link": "https://stackoverflow.com/questions/39884871/how-can-i-know-touched-which-game-object-with-unity3d/39885087#39885087", "title": "How can i know touched which game object with Unity3D", "body": "<p>You did not assign anything to the <code>dokunma</code>(RaycastHit) variable. Note that you have to pass in the <code>dokunma</code> variable to the <code>Physics.Raycast</code> function with the <code>out</code> keyword so that it will be initialized and result of the raycast will be stored in it.</p>\n\n<pre><code>void Update()\n{\n    Ray rayCast = Camera.main.ScreenPointToRay(Input.mousePosition);\n    RaycastHit dokunma;\n    if (Physics.Raycast(rayCast, out dokunma, 10) &amp;&amp;\n        dokunma.collider.gameObject.tag == \"Oyuncu\" &amp;&amp; Input.GetMouseButtonDown(0)\n    )\n    {\n\n        anim.SetBool(\"Bekle\", false);\n        anim.SetBool(\"Saldir\", true);\n    }\n    else\n    {\n        anim.SetBool(\"Bekle\", true);\n        anim.SetBool(\"Saldir\", false);\n    }\n}\n</code></pre>\n\n<p>It makes more sense to check for touch press first before performing the raycast. Always use the <code>CompareTag</code> function to compare tags. Something below should do it.</p>\n\n<pre><code>void Update()\n{\n    if (Input.GetMouseButtonDown(0))\n    {\n        Ray rayCast = Camera.main.ScreenPointToRay(Input.mousePosition);\n        RaycastHit dokunma;\n        if (Physics.Raycast(rayCast, out dokunma, 10))\n        {\n            if (dokunma.collider.CompareTag(\"Oyuncu\"))\n            {\n\n                anim.SetBool(\"Bekle\", false);\n                anim.SetBool(\"Saldir\", true);\n            }\n            else\n            {\n                anim.SetBool(\"Bekle\", true);\n                anim.SetBool(\"Saldir\", false);\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 6377948, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d133d644975ed61ef4b875914b167792?s=128&d=identicon&r=PG&f=1", "display_name": "Nurullah.c", "link": "https://stackoverflow.com/users/6377948/nurullah-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 39885087, "answer_count": 1, "score": 1, "last_activity_date": 1558015320, "creation_date": 1475707830, "last_edit_date": 1558015320, "question_id": 39884871, "link": "https://stackoverflow.com/questions/39884871/how-can-i-know-touched-which-game-object-with-unity3d", "title": "How can i know touched which game object with Unity3D", "body": "<p>I am using Unity3D, and i programming augmented reality. If i touch the screen and the touched position has one object, I will do something.\nActually I want \"How can i know touched which game object ?</p>\n\n<p>My code is here:</p>\n\n<pre><code>    using UnityEngine;\nusing System.Collections;\n\npublic class Atak : MonoBehaviour {\n    private Animator anim;\n    private GameObject kamera;\n\n    // Use this for initialization\n    void Start () {\n        anim = GetComponent&lt;Animator&gt; ();\n        kamera = GameObject.FindGameObjectWithTag (\"Kamera\");\n    }\n\n    // Update is called once per frame\n    void Update () {\n        RaycastHit dokunma;\n        if (Physics.Raycast(kamera.transform.position,Input.mousePosition,10)&amp;&amp;\n            dokunma.collider.gameObject.tag==\"Oyuncu\" &amp;&amp; Input.GetMouseButtonDown(0)\n        ){\n\n            anim.SetBool (\"Bekle\", false);\n            anim.SetBool (\"Saldir\", true);\n        } else{\n            anim.SetBool (\"Bekle\", true);\n            anim.SetBool (\"Saldir\", false);\n        }\n    }\n}\n</code></pre>\n\n<p>The editor gives me error:</p>\n\n<blockquote>\n  <p>Use of unassigned local variable'dokunma'</p>\n</blockquote>\n"}, {"tags": ["c#", "html", "asp.net", "twitter-bootstrap"], "answers": [{"comments": [{"owner": {"reputation": 997, "user_id": 3883460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7756add873beb7ea3448f86bda3591a?s=128&d=identicon&r=PG", "display_name": "Rojalin Sahoo", "link": "https://stackoverflow.com/users/3883460/rojalin-sahoo"}, "edited": false, "score": 0, "creation_date": 1475743522, "post_id": 39889061, "comment_id": 67068779, "body": "I think, this should be a comment not an answer?"}, {"owner": {"reputation": 143, "user_id": 4001297, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9f89d2ce1aaf80faea92afdf6fa70955?s=128&d=identicon&r=PG&f=1", "display_name": "StateofDK", "link": "https://stackoverflow.com/users/4001297/stateofdk"}, "edited": false, "score": 0, "creation_date": 1476381484, "post_id": 39889061, "comment_id": 67332951, "body": "I haven&#39;t specified a value for AutoPostBack which means it will default to false.  Would changing this acheive the desired results?  If so, do I need to add it in the aspx page or do I need to set AutoPostBack to &quot;True&quot; in the codebehind at a different point in the code?"}, {"owner": {"reputation": 148, "user_id": 6919022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KCC7w.jpg?s=128&g=1", "display_name": "Aladein", "link": "https://stackoverflow.com/users/6919022/aladein"}, "edited": false, "score": 0, "creation_date": 1476422746, "post_id": 39889061, "comment_id": 67347456, "body": "default AutoPostBack is false . you must change it to true . you can do that by alt of way :"}], "tags": [], "owner": {"reputation": 148, "user_id": 6919022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KCC7w.jpg?s=128&g=1", "display_name": "Aladein", "link": "https://stackoverflow.com/users/6919022/aladein"}, "is_accepted": false, "score": 0, "last_activity_date": 1475735711, "creation_date": 1475735711, "answer_id": 39889061, "question_id": 39884849, "link": "https://stackoverflow.com/questions/39884849/unable-to-preserve-dropdownlist-selectedvalue-after-disabling-re-enabling/39889061#39889061", "title": "unable to preserve DropDownList.SelectedValue after disabling/re-enabling", "body": "<p>check if AutoPostBack=\"True\" </p>\n\n<p>code\n \n                                    \nthanx </p>\n"}], "owner": {"reputation": 143, "user_id": 4001297, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9f89d2ce1aaf80faea92afdf6fa70955?s=128&d=identicon&r=PG&f=1", "display_name": "StateofDK", "link": "https://stackoverflow.com/users/4001297/stateofdk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475735711, "creation_date": 1475707683, "question_id": 39884849, "link": "https://stackoverflow.com/questions/39884849/unable-to-preserve-dropdownlist-selectedvalue-after-disabling-re-enabling", "title": "unable to preserve DropDownList.SelectedValue after disabling/re-enabling", "body": "<p>I have the following <code>ASP:DropDownList</code> on my aspx page:</p>\n\n<pre><code>&lt;label&gt;OT Code No.&lt;/label&gt;\n&lt;asp:DropDownList runat=\"server\" ID=\"ddlOvertimeCode\" class=\"form-control\" TabIndex=\"1\"&gt;&lt;/asp:DropDownList&gt;\n</code></pre>\n\n<p>Which renders as the following in HTML:</p>\n\n<pre><code>&lt;select name=\"ctl00$MainContentPlaceHolder$ddlOvertimeCode\" id=\"MainContentPlaceHolder_ddlOvertimeCode\" tabindex=\"1\" class=\"form-control\"&gt;\n    &lt;option selected=\"selected\" value=\"0\"&gt;-Select-&lt;/option&gt;\n    &lt;option value=\"1\"&gt;1 - 10B PLES&lt;/option&gt;\n    &lt;option value=\"2\"&gt;2 - Investigation&lt;/option&gt;\n    &lt;option value=\"3\"&gt;3 - Arrest&lt;/option&gt;\n    &lt;option value=\"4\"&gt;4 - Misc&lt;/option&gt;\n    &lt;option value=\"5\"&gt;5 - EWW&lt;/option&gt;\n    &lt;option value=\"6\"&gt;6 - Holiday&lt;/option&gt;\n    &lt;option value=\"7\"&gt;7 - In-Lieu Holiday&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>When submitted the form, I disable the <code>DropDownList</code> using the following code in my .cs file</p>\n\n<pre><code>ddlOvertimeCode.Attributes.Add(\"disabled\", null);\n</code></pre>\n\n<p>I tried other methods of disabling the <code>dropdownlist</code>, however all of them would either override the bootstrap styling of the list or leave the dropdownlist able to be changed despite being grayed-out and ReadOnly.  Adding the <code>disabled</code> attribute is the only way I could find to gray-out the box while leaving it's styling intact.</p>\n\n<p>the problem arrises when the user withdraws the form, making it editable again, and the code re-enables the <code>dropdownlist</code> using the same method:</p>\n\n<pre><code>ddlOvertimeCode.Attributes.Remove(\"disabled\");\n</code></pre>\n\n<p>removing the <code>disabled</code> attribute resets the <code>dropdownlist</code> and leaves me unable to alter <code>DropDownList.SelectedValue</code> from the codebehind.</p>\n\n<p>I need a method of graying out the DropDownList and disabling it from the codebehind without overriding the bootstrap styling, and then returning it to an editable state, all while preserving the original selected value.</p>\n"}, {"tags": ["c#", "windows", "botframework"], "answers": [{"comments": [{"owner": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "edited": false, "score": 1, "creation_date": 1475712967, "post_id": 39885006, "comment_id": 67057805, "body": "FYI - There is a new SpeechToText sample at <a href=\"https://github.com/Microsoft/BotBuilder-Samples/tree/master/CSharp/intelligence-SpeechToText\" rel=\"nofollow noreferrer\">github.com/Microsoft/BotBuilder-Samples/tree/master/CSharp/&hellip;</a>"}, {"owner": {"reputation": 820, "user_id": 5266970, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-QyW2o-USkFs/AAAAAAAAAAI/AAAAAAAAG-8/BfSj9988i5M/photo.jpg=k-s128", "display_name": "greg", "link": "https://stackoverflow.com/users/5266970/greg"}, "reply_to_user": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "edited": false, "score": 0, "creation_date": 1475713035, "post_id": 39885006, "comment_id": 67057823, "body": "@EzequielJadib nice! Updates 2 days ago, I&#39;ll take a look."}, {"owner": {"reputation": 996, "user_id": 620511, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fl2rl.jpg?s=128&g=1", "display_name": "Jim Lewallen", "link": "https://stackoverflow.com/users/620511/jim-lewallen"}, "edited": false, "score": 1, "creation_date": 1475713353, "post_id": 39885006, "comment_id": 67057914, "body": "I think you&#39;re pointing at the same sample? ;-)  Either way, I pinged the team that created it and they&#39;re going to make it clearer. Thanks for reporting!"}, {"owner": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "edited": false, "score": 0, "creation_date": 1475745603, "post_id": 39885006, "comment_id": 67070240, "body": "Oops, I did a very very quick scan of the code. I will update the post to remove the &quot;new&quot; word."}], "tags": [], "owner": {"reputation": 820, "user_id": 5266970, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-QyW2o-USkFs/AAAAAAAAAAI/AAAAAAAAG-8/BfSj9988i5M/photo.jpg=k-s128", "display_name": "greg", "link": "https://stackoverflow.com/users/5266970/greg"}, "is_accepted": false, "score": 2, "last_activity_date": 1475711898, "last_edit_date": 1475711898, "creation_date": 1475708691, "answer_id": 39885006, "question_id": 39884809, "link": "https://stackoverflow.com/questions/39884809/microsoft-bot-framework-example-speech-to-text-bot-clientid-and-clientsecret/39885006#39885006", "title": "Microsoft Bot Framework Example Speech to Text Bot - clientid and clientSecret", "body": "<p>Suuuuper simple oversight here. The naming threw me off in the code sample, but check it!</p>\n\n<p>tl;dr</p>\n\n<pre><code>UserID = clientID\nApiKey = clientSecret\n</code></pre>\n\n<p>The class header for the Authentication class has params <em>clientId</em> and <em>clientSecret</em>... but wait a minutes...</p>\n\n<pre><code>public Authentication(string clientId, string clientSecret)\n</code></pre>\n\n<p>When making an instance of an Authentication, the current code snippet as of the writing of this post has the params for you to the fill in as </p>\n\n<pre><code>YOURUSERID\n</code></pre>\n\n<p>and</p>\n\n<p><code>&lt;YOUR API KEY FROM MICROSOFT.COM/COGNITIVE</code></p>\n\n<pre><code>Authentication auth = new Authentication(\"YOURUSERID\", \"&lt;YOUR API KEY FROM MICROSOFT.COM/COGNITIVE\");\n</code></pre>\n\n<p>So another way of looking at this is  :</p>\n\n<pre><code>YOURUSERID = clientID\n&lt;YOUR API KEY FROM MICROSOFT.COM/COGNITIVE = clientSecret\n</code></pre>\n\n<p>That's it.</p>\n"}, {"comments": [{"owner": {"reputation": 820, "user_id": 5266970, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-QyW2o-USkFs/AAAAAAAAAAI/AAAAAAAAG-8/BfSj9988i5M/photo.jpg=k-s128", "display_name": "greg", "link": "https://stackoverflow.com/users/5266970/greg"}, "edited": false, "score": 0, "creation_date": 1475714147, "post_id": 39885669, "comment_id": 67058116, "body": "Awesome! Thanks for the very quick help here John, it is much appreciated."}], "tags": [], "owner": {"reputation": 259, "user_id": 6510505, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153762745903063/picture?type=large", "display_name": "John Psaroudakis", "link": "https://stackoverflow.com/users/6510505/john-psaroudakis"}, "is_accepted": false, "score": 3, "last_activity_date": 1475735215, "last_edit_date": 1475735215, "creation_date": 1475713518, "answer_id": 39885669, "question_id": 39884809, "link": "https://stackoverflow.com/questions/39884809/microsoft-bot-framework-example-speech-to-text-bot-clientid-and-clientsecret/39885669#39885669", "title": "Microsoft Bot Framework Example Speech to Text Bot - clientid and clientSecret", "body": "<p>Greg, glad you figured it out on your own. My team wrote the example and the new sample code in Github. I understand the confusion. We'll make some edits to make the mapping of userid->clientid and apikey->clientsecret more clear. Thanks for posting!</p>\n"}], "owner": {"reputation": 820, "user_id": 5266970, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-QyW2o-USkFs/AAAAAAAAAAI/AAAAAAAAG-8/BfSj9988i5M/photo.jpg=k-s128", "display_name": "greg", "link": "https://stackoverflow.com/users/5266970/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1017, "favorite_count": 2, "answer_count": 2, "score": 2, "last_activity_date": 1476993845, "creation_date": 1475707393, "last_edit_date": 1476993845, "question_id": 39884809, "link": "https://stackoverflow.com/questions/39884809/microsoft-bot-framework-example-speech-to-text-bot-clientid-and-clientsecret", "title": "Microsoft Bot Framework Example Speech to Text Bot - clientid and clientSecret", "body": "<h2>UPDATE and GitHub Examples</h2>\n\n<p>To see the code of the sample on Speech to Text see the <a href=\"https://github.com/Microsoft/BotBuilder-Samples/tree/master/CSharp/intelligence-SpeechToText\" rel=\"nofollow noreferrer\">Microsoft Bot Builder GitHub</a>. I have some personal examples on my GitHub as well starting with my<a href=\"https://github.com/gregdegruy/LUISBankingBot\" rel=\"nofollow noreferrer\">LUISBankingBot</a>.</p>\n\n<h2>Original Post</h2>\n\n<p>Trouble getting started with the <a href=\"https://docs.botframework.com/en-us/bot-intelligence/speech/#example-speech-to-text-bot\" rel=\"nofollow noreferrer\">Example Speech to Text Bot</a>. In the code snippet it asks for a clientid and clientSecret, but I am not sure where to find these. In my <a href=\"https://www.microsoft.com/cognitive-services/en-US/subscriptions\" rel=\"nofollow noreferrer\">Free Subscriptions</a> (Bing Search - Free in particular) I have only a <em>Key 1</em> and <em>Key 2</em>, not sure where the clientid and clientSecret information could live. I believe I can not move forward in the tutorial unless some help is given on where I can find the clientid and clientSecret information. </p>\n\n<p>Thanks for the help! Happy botting!</p>\n\n<p><a href=\"https://i.stack.imgur.com/NQD5n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NQD5n.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", ".net", "automapper", "automapper-5"], "answers": [{"tags": [], "owner": {"reputation": 136, "user_id": 2722264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VBWQb.png?s=128&g=1", "display_name": "780Farva", "link": "https://stackoverflow.com/users/2722264/780farva"}, "is_accepted": true, "score": 1, "last_activity_date": 1475712969, "last_edit_date": 1495535268, "creation_date": 1475712969, "answer_id": 39885594, "question_id": 39884805, "link": "https://stackoverflow.com/questions/39884805/polymorphic-mapping-of-collections-with-automapper/39885594#39885594", "title": "Polymorphic Mapping of Collections with AutoMapper", "body": "<p>I spent a little time reorganizing the repo. I went as far as to mimic a core project and two plugins. This made sure that I wouldn't end up with a false-positive result when the tests finally started passing.</p>\n\n<p>What I found was that the solution had two(ish) parts to it.</p>\n\n<p>1) I was abusing AutoMapper's .ReverseMap() configuration method. I was assuming that it would perform the reciprocal of whatever custom mapping I was doing. Not so! It only does simple reversals. Fair enough. Some SO questions/answers about it: \n<a href=\"https://stackoverflow.com/questions/33560936/automapper-reversemap-does-not-perform-mapping\">1</a>, <a href=\"https://stackoverflow.com/questions/13490456/automapper-bidirectional-mapping-with-reversemap-and-formember\">2</a></p>\n\n<p>2) I wasn't fully defining the mapping inheritance properly. I'll break it down.</p>\n\n<p>2.1) My DomainProfiles followed this pattern:</p>\n\n<pre><code>public class DomainProfile1 : Profile\n{\n  public DomainProfile1()\n  {\n    this.CreateMap&lt;DomainType1, IDto&gt;().ConstructUsing(f =&gt; new Dto1()).As&lt;Dto1&gt;();\n    this.CreateMap&lt;DomainType1, Dto1&gt;().ForMember(m =&gt; m.P1, a =&gt; a.MapFrom(x =&gt; x.Prop1))\n      .IncludeBase&lt;IDomainType, IDto&gt;().ReverseMap();\n\n    this.CreateMap&lt;Dto1, IDomainType&gt;().ConstructUsing(dto =&gt; new DomainType1()).As&lt;DomainType1&gt;();\n  }\n}\n</code></pre>\n\n<p>So now knowing that .ReverseMap() is not the thing to use here, it becomes obvious that the map between Dto1 and DomainType1 was poorly defined. Also, The mapping between DomainType1 and IDto didn't link back to the base IDomainType to IDto mapping. Also an issue. The final result:</p>\n\n<pre><code>public class DomainProfile1 : Profile\n{\n  public DomainProfile1()\n  {\n    this.CreateMap&lt;DomainType1, IDto&gt;().IncludeBase&lt;IDomainType, IDto&gt;().ConstructUsing(f =&gt; new Dto1()).As&lt;Dto1&gt;();\n    this.CreateMap&lt;DomainType1, Dto1&gt;().IncludeBase&lt;DomainType1, IDto&gt;().ForMember(m =&gt; m.P1, a =&gt; a.MapFrom(x =&gt; x.Prop1));\n\n    this.CreateMap&lt;Dto1, IDomainType&gt;().IncludeBase&lt;IDto, IDomainType&gt;().ConstructUsing(dto =&gt; new DomainType1()).As&lt;DomainType1&gt;();\n    this.CreateMap&lt;Dto1, DomainType1&gt;().IncludeBase&lt;Dto1, IDomainType&gt;().ForMember(m =&gt; m.Prop1, a =&gt; a.MapFrom(x =&gt; x.P1));\n  }\n}\n</code></pre>\n\n<p>Now each direction of the mapping is explicitly defined, and the inheritance is respected.</p>\n\n<p>2.2) The most base mapping for IDomainType and IDto was inside of the profile that also defined the mappings for the \"collection\" types. This meant that once I had split up the project to mimic a plugin architecture, the tests that only tested the simplest inheritances failed in new ways - The base mapping couldn't be found. All I had to do was put these mappings into their own profile and use that profile in the tests as well. That's just good <a href=\"https://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"nofollow noreferrer\">SRP</a>.</p>\n\n<p>I'll apply what I've learned to my actual project before I mark my own answer as the accepted answer. Hopefully I've got it and hopefully this will be helpful to others.</p>\n\n<p>Useful links: </p>\n\n<p><a href=\"https://github.com/AutoMapper/AutoMapper/wiki/Lists-and-arrays\" rel=\"nofollow noreferrer\">this</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/4456519/how-to-configure-automapper-for-polymorphism-with-explicit-member-mapping\">this one</a> was a good refactoring exercise. I admittedly used it as a starting place to build up my example. So, thanks @Olivier.</p>\n"}, {"tags": [], "owner": {"reputation": 16885, "user_id": 67258, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/wE1Fz.jpg?s=128&g=1", "display_name": "Lloyd Powell", "link": "https://stackoverflow.com/users/67258/lloyd-powell"}, "is_accepted": false, "score": 1, "last_activity_date": 1575472520, "creation_date": 1575472520, "answer_id": 59179163, "question_id": 39884805, "link": "https://stackoverflow.com/questions/39884805/polymorphic-mapping-of-collections-with-automapper/59179163#59179163", "title": "Polymorphic Mapping of Collections with AutoMapper", "body": "<p>I stumbled across this question when looking in to a polymorphic mapping issue myself. The answer is good, but just another option if you'd like to approach it from the base mapping perspective and have many derived classes, you can try the following:</p>\n\n<pre><code>CreateMap&lt;VehicleEntity, VehicleDto&gt;()\n    .IncludeAllDerived();\n\nCreateMap&lt;CarEntity, CarDto&gt;();\nCreateMap&lt;TrainEntity, TrainDto&gt;();\nCreateMap&lt;BusEntity, BusDto&gt;();\n</code></pre>\n\n<p>See the <a href=\"http://docs.automapper.org/en/stable/Mapping-inheritance.html\" rel=\"nofollow noreferrer\">automapper docs</a> for more info.</p>\n"}], "owner": {"reputation": 136, "user_id": 2722264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VBWQb.png?s=128&g=1", "display_name": "780Farva", "link": "https://stackoverflow.com/users/2722264/780farva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1419, "favorite_count": 1, "accepted_answer_id": 39885594, "answer_count": 2, "score": 5, "last_activity_date": 1575472520, "creation_date": 1475707387, "last_edit_date": 1475710309, "question_id": 39884805, "link": "https://stackoverflow.com/questions/39884805/polymorphic-mapping-of-collections-with-automapper", "title": "Polymorphic Mapping of Collections with AutoMapper", "body": "<p>TL;DR: I'm having trouble with Polymorphic mapping. I've made a github repo with a test suite that illustrates my issue. Please find it here: <a href=\"https://github.com/780Farva/AutoMapperInquiry\" rel=\"nofollow\">LINK TO REPO</a></p>\n\n<p>I'm working on implementing a save/load feature. To accomplish this, I need to make sure the domain model that I'm serializing is represented in a serialization-friendly way. To accomplish this I've created a set of DTOs that contain the bare-minimum set of information required to do a meaningful save or load.</p>\n\n<p>Something like this for the domain:</p>\n\n<pre><code>public interface IDomainType\n{\n  int Prop0 { get; set; }\n}\n\npublic class DomainType1 : IDomainType\n{\n  public int Prop1 { get; set; }\n  public int Prop0 { get; set; }\n}\n\npublic class DomainType2 : IDomainType\n{\n  public int Prop2 { get; set; }\n  public int Prop0 { get; set; }\n}\n\npublic class DomainCollection\n{\n  public IEnumerable&lt;IDomainType&gt; Entries { get; set; }\n}\n</code></pre>\n\n<p>...and for the DTOs</p>\n\n<pre><code>public interface IDto\n{\n  int P0 { get; set; }\n}\n\npublic class Dto1 : IDto\n{\n  public int P1 { get; set; }\n  public int P0 { get; set; }\n}\n\npublic class Dto2 : IDto\n{\n  public int P2 { get; set; }\n  public int P0 { get; set; }\n}\n\npublic class DtoCollection\n{\n  private readonly IList&lt;IDto&gt; entries = new List&lt;IDto&gt;();\n  public IEnumerable&lt;IDto&gt; Entries =&gt; this.entries;\n  public void Add(IDto entry) { this.entries.Add(entry); }\n}\n</code></pre>\n\n<p>The idea is that DomainCollection represents the current state of the application. The goal is that mapping DomainCollection to DtoCollection results in an instance of DtoCollection that contains the appropriate implementations of IDto as they map to the domain. And vice versa.</p>\n\n<p>A little extra trick here is that the different concrete domain types come from different plugin assemblies, so I need to find an elegant way to have AutoMapper (or similar, if you know of a better mapping framework) do the heavy lifting for me.</p>\n\n<p>Using structuremap, I'm already able to locate and load all the profiles from the plugins and configure the applications IMapper with them.</p>\n\n<p>I've tried to create the profiles like this...</p>\n\n<pre><code>public class CollectionMappingProfile : Profile\n{\n  public CollectionMappingProfile()\n  {\n    this.CreateMap&lt;IDomainType, IDto&gt;().ForMember(m =&gt; m.P0, a =&gt; a.MapFrom(x =&gt; x.Prop0)).ReverseMap();\n\n    this.CreateMap&lt;DtoCollection, DomainCollection&gt;().\n       ForMember(fc =&gt; fc.Entries, opt =&gt; opt.Ignore()).\n       AfterMap((tc, fc, ctx) =&gt; fc.Entries = tc.Entries.Select(e =&gt; ctx.Mapper.Map&lt;IDomainType&gt;(e)).ToArray());\n\n    this.CreateMap&lt;DomainCollection, DtoCollection&gt;().\n       AfterMap((fc, tc, ctx) =&gt;\n                {\n                  foreach (var t in fc.Entries.Select(e =&gt; ctx.Mapper.Map&lt;IDto&gt;(e))) tc.Add(t);\n                });\n}\n\npublic class DomainProfile1 : Profile\n{\n  public DomainProfile1()\n  {\n    this.CreateMap&lt;DomainType1, Dto1&gt;().ForMember(m =&gt; m.P1, a =&gt; a.MapFrom(x =&gt; x.Prop1))\n      .IncludeBase&lt;IDomainType, IDto&gt;().ReverseMap();\n  }\n}\n\npublic class DomainProfile2 : Profile\n{\n  public DomainProfile2()\n  {\n    this.CreateMap&lt;DomainType2, IDto&gt;().ConstructUsing(f =&gt; new Dto2()).As&lt;Dto2&gt;();\n\n    this.CreateMap&lt;DomainType2, Dto2&gt;().ForMember(m =&gt; m.P2, a =&gt; a.MapFrom(x =&gt; x.Prop2))\n      .IncludeBase&lt;IDomainType, IDto&gt;().ReverseMap();\n  }\n}\n</code></pre>\n\n<p>I then wrote a test suite to make sure that the mapping will behave as expected when its time to integrate this feature with the application. I found whenever DTOs were getting mapped to Domain (think Load) that AutoMapper would create proxies of IDomainType instead of resolving them to the domain.</p>\n\n<p>I suspect the problem is with my mapping profiles, but I've run out of talent. Thanks in advance for your input.</p>\n\n<p><a href=\"https://github.com/780Farva/AutoMapperInquiry\" rel=\"nofollow\">Here's another link to the github repo</a></p>\n"}, {"tags": ["c#", "azure", "azure-cosmosdb"], "answers": [{"comments": [{"owner": {"reputation": 273, "user_id": 6205107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c35952b9e756aff18c4eaa5bbd3ed23d?s=128&d=identicon&r=PG&f=1", "display_name": "Shireesh Thota", "link": "https://stackoverflow.com/users/6205107/shireesh-thota"}, "edited": false, "score": 0, "creation_date": 1475713456, "post_id": 39885058, "comment_id": 67057946, "body": "Just a minor correction in Aram&#39;s response - I think you mean when throughput is set to less than 10000, then your collection has single partition.  More details are available at <a href=\"https://github.com/Azure/azure-content/blob/master/articles/documentdb/documentdb-partition-data.md\" rel=\"nofollow noreferrer\">github.com/Azure/azure-content/blob/master/articles/document&zwnj;&#8203;db/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4981, "user_id": 2056112, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/aXvru.jpg?s=128&g=1", "display_name": "Aram", "link": "https://stackoverflow.com/users/2056112/aram"}, "is_accepted": true, "score": 7, "last_activity_date": 1475709037, "creation_date": 1475709037, "answer_id": 39885058, "question_id": 39884795, "link": "https://stackoverflow.com/questions/39884795/create-collection-in-azure-documentdb-with-different-partition-mode/39885058#39885058", "title": "Create Collection in Azure DocumentDB with Different Partition Mode", "body": "<p>You need to have the SDK Version 1.6.0 or newer to support Document DB Partitioning.\nUsing the SDK you need to set the <code>OfferThroughput</code> value like shown below.</p>\n\n<p>In this sample we set the <code>/deviceId</code> as the partition key.</p>\n\n<pre><code>DocumentClient client = new DocumentClient(new Uri(endpoint), authKey);\nawait client.CreateDatabaseAsync(new Database { Id = \"db\" });\n\n// Collection for device telemetry. Here the JSON property deviceId will be used as the partition key to \n// spread across partitions. Configured for 10K RU/s throughput and an indexing policy that supports \n// sorting against any number or string property.\nDocumentCollection myCollection = new DocumentCollection();\nmyCollection.Id = \"coll\";\nmyCollection.PartitionKey.Paths.Add(\"/deviceId\");\n\nawait client.CreateDocumentCollectionAsync(\n    UriFactory.CreateDatabaseUri(\"db\"),\n    myCollection,\n    new RequestOptions { OfferThroughput = 20000 });\n</code></pre>\n\n<p>Note:</p>\n\n<p>In order to create partitioned collections, you must specify a <code>throughput</code> \nvalue of > 10,000 request units per second. Since throughput is in multiples of 100, this has to be 10,100 or higher.</p>\n\n<p>So when your <code>OfferThroughput</code> is set to less than 20000 then your collection will be Single Partition.</p>\n"}], "owner": {"reputation": 5181, "user_id": 1357627, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/6f1dbbe270a0d6bfec3374a460819f1b?s=128&d=identicon&r=PG", "display_name": "urlreader", "link": "https://stackoverflow.com/users/1357627/urlreader"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3674, "favorite_count": 1, "accepted_answer_id": 39885058, "answer_count": 1, "score": 3, "last_activity_date": 1475712003, "creation_date": 1475707314, "last_edit_date": 1475712003, "question_id": 39884795, "link": "https://stackoverflow.com/questions/39884795/create-collection-in-azure-documentdb-with-different-partition-mode", "title": "Create Collection in Azure DocumentDB with Different Partition Mode", "body": "<p>There are some sample code that create collection in azure documentDB using Microsoft.Azure.DocumentDB. However, I could not find information about how to create the collection with different partition mode using c#.</p>\n\n<p>From the portal, there are 2 modes: Single Partition and Partitioned.</p>\n\n<p>Can we use one or another when create collection using Microsoft.Azure.DocumentDB?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework", "asp.net-mvc-4"], "comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 2, "creation_date": 1475712804, "post_id": 39884773, "comment_id": 67057769, "body": "How about putting the metadata in a completely different class? In the same way as <a href=\"https://msdn.microsoft.com/en-us/library/ee707339(v=vs.91).ASPX\" rel=\"nofollow noreferrer\">this</a>."}, {"owner": {"reputation": 45, "user_id": 2655310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a452b832e5694cebb836a8c2e66118d1?s=128&d=identicon&r=PG", "display_name": "RaulTheThinker", "link": "https://stackoverflow.com/users/2655310/raulthethinker"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1475763743, "post_id": 39884773, "comment_id": 67082598, "body": "I&#39;ve tried that, the second example is the metadata in a different class, or do you mean different <i>file</i>? Would that change anything?"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1475763832, "post_id": 39884773, "comment_id": 67082675, "body": "I mean a completely different class, not one that the entity inherits from."}, {"owner": {"reputation": 45, "user_id": 2655310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a452b832e5694cebb836a8c2e66118d1?s=128&d=identicon&r=PG", "display_name": "RaulTheThinker", "link": "https://stackoverflow.com/users/2655310/raulthethinker"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1475767647, "post_id": 39884773, "comment_id": 67085633, "body": "Can you illustrate that a little more? Would I use this different class in the code I need? How would I relate the DB info (using the auto-generated classes) and this new class?"}], "answers": [{"tags": [], "owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "is_accepted": true, "score": 1, "last_activity_date": 1475772107, "creation_date": 1475772107, "answer_id": 39901452, "question_id": 39884773, "link": "https://stackoverflow.com/questions/39884773/c-access-custom-attributes-of-a-partial-class-on-mvc-with-ef/39901452#39901452", "title": "C# access custom attributes of a partial class on MVC with EF", "body": "<p>OK, this is a little involved but it's fairly simple. This is also really a bit of a brain dump but it does work and gives you enough to work with. Lets set up with some basics:</p>\n\n<pre><code>//A couple of custom attributes\npublic class MyAttributeOne : Attribute { }\npublic class MyAttributeTwo : Attribute { }\n\n//A metadata class where we can use the custom attributes\npublic sealed class MyEntityMetadata\n{\n    //This property has the same name as the class it is referring to\n    [MyAttributeOne]\n    public int SomeProperty { get; set; }\n}\n\n//And an entity class where we use System.ComponentModel.DataAnnotations.MetadataType\n//to tell our function where the metadata is stored\n[MetadataType(typeof(MyEntityMetadata))]\npublic class MyEntity\n{\n    public int SomeProperty { get; set; }\n}\n</code></pre>\n\n<p>OK, still with me? Now we need a function to process the properties in the same way you did earlier:</p>\n\n<pre><code>public void DoStuff(object currentObject)\n{\n    //Lets see if our entity class has associated metadata\n    var metaDataAttribute = currentObject.GetType()\n        .GetCustomAttributes()\n        .SingleOrDefault(a =&gt; a is MetadataTypeAttribute) as MetadataTypeAttribute;\n\n    PropertyInfo[] metaProperties = null;\n\n    //Cache the metadata properties here\n    if (metaDataAttribute != null)\n    {\n        metaProperties = metaDataAttribute.MetadataClassType.GetProperties();\n    }\n\n    //As before loop through each property...\n    foreach (PropertyInfo propertyInfo in currentObject.GetType().GetProperties())\n    {\n        //Refactored this out as it's called again later\n        ProcessAttributes(propertyInfo.GetCustomAttributes());\n\n        //Now check the metadata class\n        if (metaProperties != null)\n        {\n            //Look for a matching property in the metadata class\n            var metaPropertyInfo = metaProperties\n                .SingleOrDefault(p =&gt; p.Name == propertyInfo.Name);\n\n            if (metaPropertyInfo != null)\n            {\n                ProcessAttributes(metaPropertyInfo.GetCustomAttributes());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And of course, here is the refactored method to process the attributes:</p>\n\n<pre><code>private void ProcessAttributes(IEnumerable&lt;Attribute&gt; attributes)\n{\n    foreach (var attr in attributes)\n    {\n        if (attr is MyAttributeOne)\n        {\n            Console.WriteLine(\"MyAttributeOne found\");\n        }\n        else if (attr is MyAttributeTwo)\n        {\n            Console.WriteLine(\"MyAttributeTwo found\");\n        }\n        else\n        {\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 2655310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a452b832e5694cebb836a8c2e66118d1?s=128&d=identicon&r=PG", "display_name": "RaulTheThinker", "link": "https://stackoverflow.com/users/2655310/raulthethinker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 894, "favorite_count": 1, "accepted_answer_id": 39901452, "answer_count": 1, "score": 3, "last_activity_date": 1475772107, "creation_date": 1475707124, "last_edit_date": 1475763560, "question_id": 39884773, "link": "https://stackoverflow.com/questions/39884773/c-access-custom-attributes-of-a-partial-class-on-mvc-with-ef", "title": "C# access custom attributes of a partial class on MVC with EF", "body": "<p>My situation is the following:\nI'm coding a MVC website on Visual Studio 2013 using database-first approach with Entity Framework.</p>\n\n<p>EF automatically generates the models. But I need to add custom attributes (~NOT~ necessarily for data validation but also for internal processes) and, via reflection, access those custom attributes.</p>\n\n<p>Let's say I have</p>\n\n<pre><code>public partial class Application {\n     public int AppID {get; set;}\n     public string Name {get; set;}\n     //etc...\n}\n</code></pre>\n\n<p>I've tried the following approaches:</p>\n\n<p>\u2022 On a different file I continue the partial class:</p>\n\n<pre><code>public partial class Application {\n    [MyAttributeOne]\n    public int AppID { get; set; }\n\n    [DataType(DataType.Text)]\n    [MyAttributeTwo]\n    public string Name { get; set; }\n}\n</code></pre>\n\n<p>\u2022 Use the MetaData class</p>\n\n<pre><code>public class ApplicationMetadata {\n    [MyAttributeOne]\n    public int SolutionID { get; set; }\n\n    [DataType(DataType.Text)]\n    [MyAttributeTwo]\n    public string Name { get; set; }\n}\n\n[MetadataType(typeof(ApplicationMetadata))]\npublic partial class Application { }\n</code></pre>\n\n<p>\u2022 Inherit the class with attributes:</p>\n\n<pre><code>public class ApplicationMetadata {\n    [MyAttributeOne]\n    public int SolutionID { get; set; }\n\n    [DataType(DataType.Text)]\n    [MyAttributeTwo]\n    public string Name { get; set; }\n}\n\npublic partial class Application : ApplicationMetadata { }\n</code></pre>\n\n<p>\u2022 And the 'Buddy class' approach where I do basically the previous 2 approaches but instead I define the class with the attributes inside the 'Application' class.</p>\n\n<p>Am I doing something wrong? Or is this simply impossible?</p>\n\n<p>I need to be able to make the following code work:</p>\n\n<pre><code>foreach (PropertyInfo propertyInfo in currentObject.GetType().GetProperties())\n{\n    foreach (CustomAttributeData attrData in propertyInfo.GetCustomAttributesData())\n        {\n            if (typeof(attrData) == typeof(MyAttributeOne))\n                //stuff\n            else if (typeof(attrData) == typeof(MyAttributeTwo))\n                //different stuff\n            else\n                //yet more stuff\n        }\n}\n</code></pre>\n\n<p>Thank you very much for the attention!\nRegards.</p>\n"}, {"tags": ["c#", ".net", "sql-server", "dapper"], "comments": [{"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1475707220, "post_id": 39884768, "comment_id": 67056382, "body": "Not experienced with dapper but it looks like you are telling it you are expecting one <code>long</code>. Try some kind of collection like <code>..Query&lt;List&lt;long&gt;&gt;..</code>"}, {"owner": {"reputation": 5881, "user_id": 1226568, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f9719051130e332ffe997958cfb935e0?s=128&d=identicon&r=PG", "display_name": "MaYaN", "link": "https://stackoverflow.com/users/1226568/mayan"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 1, "creation_date": 1475707419, "post_id": 39884768, "comment_id": 67056441, "body": "<code>Query&lt;T&gt;</code> does return <code>IEnumerable&lt;T&gt;</code> hence the use of <code>First()</code> on the first query."}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1475707551, "post_id": 39884768, "comment_id": 67056473, "body": "I see. Maybe you have to map it to a class that has a <code>long</code> property named <code>Id</code>"}, {"owner": {"reputation": 5881, "user_id": 1226568, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f9719051130e332ffe997958cfb935e0?s=128&d=identicon&r=PG", "display_name": "MaYaN", "link": "https://stackoverflow.com/users/1226568/mayan"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1475707612, "post_id": 39884768, "comment_id": 67056486, "body": "<code>Person</code> does indeed have an <code>Id</code> of type <code>long</code> otherwise the first query would not be successful so it must be something else."}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 2, "creation_date": 1475707660, "post_id": 39884768, "comment_id": 67056503, "body": "The question isn&#39;t really whether or not Dapper supports returning multiple row IDs, it&#39;s actually &#39;How do I get multiple row IDs after inserting?&#39;. It simply executes the SQL you give it. You&#39;re wanting the <code>INSERT</code> SQL to execute multiple times (depending on <code>people</code>), but the final select to execute once. That would require Dapper to have knowledge about the SQL you&#39;re executing, which it doesn&#39;t. Think about how you&#39;d do this without Dapper (just in plain SQL), and you&#39;ll find what you&#39;re trying to do doesn&#39;t quite make sense - you need multiple insert statements"}, {"owner": {"reputation": 5881, "user_id": 1226568, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f9719051130e332ffe997958cfb935e0?s=128&d=identicon&r=PG", "display_name": "MaYaN", "link": "https://stackoverflow.com/users/1226568/mayan"}, "edited": false, "score": 1, "creation_date": 1475707848, "post_id": 39884768, "comment_id": 67056556, "body": "Actually that is not true, dapper knows how to map IEnumerable&lt;T&gt; to the escaped SQL, so comparing it to how you would do this using plain SQL is irrelevant. You can try this out yourself by replacing the <code>sql</code> with: <code>INSERT INTO Person ([Name], [Age]) VALUES (@Name, @Age);</code> and executing it with <code>SqlMapper.Execute()</code> you will see all the items inserted correctly."}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1475707936, "post_id": 39884768, "comment_id": 67056580, "body": "@MaYaN Yes, for <code>Execute</code>, not for <code>Query</code>"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1475707944, "post_id": 39884768, "comment_id": 67056585, "body": "If I am not wrong the error refers to the parameter passed to  <i>connection.Query</i>  It doesn&#39;t accept an IEnumerable&lt;T&gt; as parameter. You should try with <i>connection.Execute</i> (but I could be very wrong)"}, {"owner": {"reputation": 5881, "user_id": 1226568, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f9719051130e332ffe997958cfb935e0?s=128&d=identicon&r=PG", "display_name": "MaYaN", "link": "https://stackoverflow.com/users/1226568/mayan"}, "reply_to_user": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 1, "creation_date": 1475708111, "post_id": 39884768, "comment_id": 67056626, "body": "@Rob, I see what you mean now. hmm... I would expect it to run the query as: <code>DECLARE @InsertedRows AS TABLE (Id BIGINT); INSERT INTO Person ([Name], [Age]) OUTPUT Inserted.Id INTO @InsertedRows VALUES (@Name1, @Age1),(@Name2, @Age2),...; SELECT Id FROM @InsertedRows;&quot;;</code> which does indeed work using plain SQL. In that case how would one achieve the same goal in <i>Dapper</i>?"}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 1, "creation_date": 1475709292, "post_id": 39884768, "comment_id": 67056932, "body": "@MaYaN I believe the best way to do so would be to have separate queries: 1. Create a temp table (rather than just a variable). Run the insert as <code>Execute</code> rather than <code>Query</code>, and OUTPUT into the temp table. Run <code>Query</code> against the temp table, and then drop the temp table. To me, this doesn&#39;t seem ideal, but I&#39;m struggling to think of a better way to do it."}], "answers": [{"comments": [{"owner": {"reputation": 13221, "user_id": 206730, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/7gTXP.jpg?s=128&g=1", "display_name": "Kiquenet", "link": "https://stackoverflow.com/users/206730/kiquenet"}, "edited": false, "score": 0, "creation_date": 1606037604, "post_id": 39892750, "comment_id": 114832575, "body": "Valid for <code>INSERT Production.[TestScrapReason] (Name)       OUTPUT INSERTED.ScrapReasonID, INSERTED.Name, INSERTED.ModifiedDate   SELECT [Name]  FROM [AdventureWorks2012].[Production].[ScrapReason]</code> ?"}], "tags": [], "owner": {"reputation": 20106, "user_id": 1585345, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/a0g5v.jpg?s=128&g=1", "display_name": "bbsimonbb", "link": "https://stackoverflow.com/users/1585345/bbsimonbb"}, "is_accepted": true, "score": 4, "last_activity_date": 1475748026, "last_edit_date": 1475748026, "creation_date": 1475747294, "answer_id": 39892750, "question_id": 39884768, "link": "https://stackoverflow.com/questions/39884768/why-is-dapper-unable-to-return-multiple-inserted-row-ids/39892750#39892750", "title": "Why is Dapper unable to return multiple inserted row ids?", "body": "<p>Something, somewhere, needs to loop. You have a sql statement that inserts one row, and code sending in a list. Since you like your SQL in string literals, I would stick to inserting one person at a time, putting the loop in the C# and recovering each id in the C# using <code>SELECT SCOPE_IDENTITY()</code>. You no longer need @InsertedRows, or OUTPUT.</p>\n\n<p>If you really want to loop in SQL, I believe you'll need to look at table valued parameters for passing your list of inserts. Dapper is very happy to return multiple Ids. It's complaining about multiple people as an input parameter.</p>\n\n<p>One day, hopefully soon, we're going to look back at SQL in string literals like we presently look at <a href=\"https://visualstudiogallery.msdn.microsoft.com/eaf390af-afc1-4994-a442-ec95923dafcb\" rel=\"nofollow\">goat sacrifice</a>.</p>\n"}], "owner": {"reputation": 5881, "user_id": 1226568, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f9719051130e332ffe997958cfb935e0?s=128&d=identicon&r=PG", "display_name": "MaYaN", "link": "https://stackoverflow.com/users/1226568/mayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2772, "favorite_count": 0, "accepted_answer_id": 39892750, "answer_count": 1, "score": 4, "last_activity_date": 1475748026, "creation_date": 1475707085, "last_edit_date": 1475742812, "question_id": 39884768, "link": "https://stackoverflow.com/questions/39884768/why-is-dapper-unable-to-return-multiple-inserted-row-ids", "title": "Why is Dapper unable to return multiple inserted row ids?", "body": "<p>I have a SQL Server table into which rows are inserted using:</p>\n\n<pre><code>var sql = @\"\nDECLARE @InsertedRows AS TABLE (Id BIGINT);\nINSERT INTO Person ([Name], [Age]) OUTPUT Inserted.Id INTO @InsertedRows\nVALUES (@Name, @Age);\nSELECT Id FROM @InsertedRows;\";\n\nPerson person = ...;\n\nvar id = connection.Query&lt;long&gt;(sql, person).First();\n</code></pre>\n\n<p>This all works well however if I try to insert multiple items and return all the inserted ids using:</p>\n\n<pre><code>IEnumerable&lt;Person&gt; people = ...;    \nvar ids = connection.Query&lt;long&gt;(sql, people);\n</code></pre>\n\n<p>I get an error:</p>\n\n<blockquote>\n  <p>System.InvalidOperationException : An enumerable sequence of parameters (arrays, lists, etc) is not allowed in this context<br>\n  at Dapper.SqlMapper.GetCacheInfo(Identity identity, Object exampleParameters,  Boolean addToCache)<br>\n  at Dapper.SqlMapper.d__23`1.MoveNext()<br>\n  --- End of stack trace from previous location where exception was thrown ---</p>\n</blockquote>\n\n<p>How would one return multiple inserted ids in Dapper?</p>\n"}, {"tags": ["c#", "asp.net-web-api"], "answers": [{"comments": [{"owner": {"reputation": 3988, "user_id": 819436, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c5c68ed8055f0e84684bcad710195c00?s=128&d=identicon&r=PG", "display_name": "ConditionRacer", "link": "https://stackoverflow.com/users/819436/conditionracer"}, "edited": false, "score": 0, "creation_date": 1475707256, "post_id": 39884753, "comment_id": 67056392, "body": "Ah, so it should be 1.00:00:00"}], "tags": [], "owner": {"reputation": 13034, "user_id": 139652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b61db19a5ed7a7fea733b6c05b58b78?s=128&d=identicon&r=PG", "display_name": "nitzmahone", "link": "https://stackoverflow.com/users/139652/nitzmahone"}, "is_accepted": true, "score": 2, "last_activity_date": 1475706966, "creation_date": 1475706966, "answer_id": 39884753, "question_id": 39884709, "link": "https://stackoverflow.com/questions/39884709/binding-timespan-larger-than-24-hours/39884753#39884753", "title": "Binding TimeSpan larger than 24 hours", "body": "<p>Take a look at <a href=\"https://msdn.microsoft.com/en-us/library/se73z7b9(v=vs.110).aspx#Anchor_2\" rel=\"nofollow\">TimeSpan.Parse docs</a>- they show the full format spec. Looks like <code>12.12:12:12</code> should give you 12d 12h 12m 12s.</p>\n"}], "owner": {"reputation": 3988, "user_id": 819436, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c5c68ed8055f0e84684bcad710195c00?s=128&d=identicon&r=PG", "display_name": "ConditionRacer", "link": "https://stackoverflow.com/users/819436/conditionracer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 39884753, "answer_count": 1, "score": 1, "last_activity_date": 1475707058, "creation_date": 1475706668, "question_id": 39884709, "link": "https://stackoverflow.com/questions/39884709/binding-timespan-larger-than-24-hours", "title": "Binding TimeSpan larger than 24 hours", "body": "<p>I have a WebApi Controller like this:</p>\n\n<pre><code>public async Task&lt;IHttpActionResult&gt; PutSomeValue(TimeSpan ts){ ... }\n</code></pre>\n\n<p>If I PUT this, it binds as 23 hours:</p>\n\n<pre><code>{\n  \"ts\": \"23:00:00\"\n}\n</code></pre>\n\n<p>But if I PUT this, it binds as 24 days:</p>\n\n<pre><code>{\n  \"ts\": \"24:00:00\"\n}\n</code></pre>\n\n<p>And if I PUT this, it fails with a 400:</p>\n\n<pre><code>{\n  \"ts\": \"24:30:00\"\n}\n</code></pre>\n\n<p>How can I correct this?</p>\n"}, {"tags": ["c#", "listbox", "windows-forms-designer", "text-alignment"], "comments": [{"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1475706933, "post_id": 39884708, "comment_id": 67056305, "body": "You need to used a fixed-width font or find a third-party control that supports right-alignment."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1475706940, "post_id": 39884708, "comment_id": 67056309, "body": "Change the font of the ListBox. Use a font with a fixed width (a.k.a. Monospaced font)"}, {"owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "edited": false, "score": 0, "creation_date": 1475706941, "post_id": 39884708, "comment_id": 67056310, "body": "It seems, you should use <i>monospaced</i> (fixed-pitch, fixed-width, non-proportional) font like <code>Courier</code>, <code>Courier New</code>, <code>Lucida Console</code>, <code>Monaco</code>"}, {"owner": {"reputation": 45, "user_id": 6850675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yOcdX.jpg?s=128&g=1", "display_name": "ckchessmaster", "link": "https://stackoverflow.com/users/6850675/ckchessmaster"}, "edited": false, "score": 0, "creation_date": 1475707241, "post_id": 39884708, "comment_id": 67056386, "body": "Yup that was it! didn&#39;t even think about the font being the issue."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6850675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yOcdX.jpg?s=128&g=1", "display_name": "ckchessmaster", "link": "https://stackoverflow.com/users/6850675/ckchessmaster"}, "edited": false, "score": 0, "creation_date": 1475707148, "post_id": 39884752, "comment_id": 67056367, "body": "Wow thanks so much! I figured it was something simple but I couldn&#39;t seem to find this information anywhere."}], "tags": [], "owner": {"reputation": 60839, "user_id": 301857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r4KmT.jpg?s=128&g=1", "display_name": "Grant Winney", "link": "https://stackoverflow.com/users/301857/grant-winney"}, "is_accepted": true, "score": 1, "last_activity_date": 1475707153, "last_edit_date": 1475707153, "creation_date": 1475706963, "answer_id": 39884752, "question_id": 39884708, "link": "https://stackoverflow.com/questions/39884708/having-trouble-with-text-alignment-in-c/39884752#39884752", "title": "Having trouble with text alignment in C#", "body": "<p>You just need to set the font of the control to something with a fixed-width.</p>\n\n<pre><code>listBox1.Font = new Font(FontFamily.GenericMonospace, 10);\n\nlistBox1.Font = new Font(\"courier\", 10);\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 6850675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yOcdX.jpg?s=128&g=1", "display_name": "ckchessmaster", "link": "https://stackoverflow.com/users/6850675/ckchessmaster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 39884752, "answer_count": 1, "score": 0, "last_activity_date": 1475707153, "creation_date": 1475706665, "last_edit_date": 1475706712, "question_id": 39884708, "link": "https://stackoverflow.com/questions/39884708/having-trouble-with-text-alignment-in-c", "title": "Having trouble with text alignment in C#", "body": "<p>So i'm trying to format the output of a listbox. Basically I want the name of the item left aligned and the cost of the item right aligned. Here is my ToString() method that i'm using:</p>\n\n<pre><code> public override string ToString() {\n     return String.Format(\"{0, -20}{1, 10:C2}\", name, cost);\n }\n</code></pre>\n\n<p>Then here is a picture of what the resulting output is doing:</p>\n\n<p><img src=\"https://i.stack.imgur.com/SPV4b.png\" alt=\"listbox output\"></p>\n\n<p>Am I missing something simple here? From everything I've read this should format my output properly. I've read some stuff about using ListView instead however for the assignment I'm required to use a ListBox. Any help would be appreciated!</p>\n"}, {"tags": ["c#", "string", "model"], "comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1475708225, "post_id": 39884563, "comment_id": 67056655, "body": "See also related duplicates such as <a href=\"https://stackoverflow.com/questions/852181/c-printing-all-properties-of-an-object\" title=\"c printing all properties of an object\">stackoverflow.com/questions/852181/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/4023462/how-do-i-automatically-display-all-properties-of-a-class-and-their-values-in-a-s\" title=\"how do i automatically display all properties of a class and their values in a s\">stackoverflow.com/questions/4023462/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1510, "user_id": 1854438, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/73f9828cc591278a5f139a6e5211e956?s=128&d=identicon&r=PG", "display_name": "user1854438", "link": "https://stackoverflow.com/users/1854438/user1854438"}, "edited": false, "score": 0, "creation_date": 1475706308, "post_id": 39884640, "comment_id": 67056114, "body": "Is there any way of doing this without listing each item?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "reply_to_user": {"reputation": 1510, "user_id": 1854438, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/73f9828cc591278a5f139a6e5211e956?s=128&d=identicon&r=PG", "display_name": "user1854438", "link": "https://stackoverflow.com/users/1854438/user1854438"}, "edited": false, "score": 0, "creation_date": 1475706392, "post_id": 39884640, "comment_id": 67056142, "body": "Using reflection, but this will be very expensive and probably not worth the effort being the items inside the model together with the ToString() override"}], "tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": false, "score": 0, "last_activity_date": 1475706320, "last_edit_date": 1475706320, "creation_date": 1475706253, "answer_id": 39884640, "question_id": 39884563, "link": "https://stackoverflow.com/questions/39884563/turn-model-data-into-string/39884640#39884640", "title": "Turn model data into string", "body": "<p>This is one of the reason behind the ToString method being overridable.<br>\nYou can simply override the ToString() inside your class' model and return whatever you like</p>\n\n<pre><code>public class myModel\n{ \n   public string Item1 {get;set;}\n   public string Item2 {get;set;}\n   public string Item3 {get;set;}\n\n   public override string ToString()\n   {\n       return string.Join(\" \", this.Item1, this.Item2, this.Item3);\n   }\n}\n\n....\n\nmyModel m = new myModel()\n{\n    Item1 = \"This is\",\n    Item2 = \"a test\",\n    Item3 = \"to make one sentence\"\n};\n\nConsole.WriteLine(m.ToString());\n</code></pre>\n"}], "owner": {"reputation": 1510, "user_id": 1854438, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/73f9828cc591278a5f139a6e5211e956?s=128&d=identicon&r=PG", "display_name": "user1854438", "link": "https://stackoverflow.com/users/1854438/user1854438"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "closed_date": 1475708196, "answer_count": 1, "score": -1, "last_activity_date": 1475706320, "creation_date": 1475705828, "question_id": 39884563, "link": "https://stackoverflow.com/questions/39884563/turn-model-data-into-string", "closed_reason": "Duplicate", "title": "Turn model data into string", "body": "<p>How can I turn the model items into a one string in C#? </p>\n\n<pre><code>IEnumerable&lt;MyModel&gt; test = _table.entity.ToMyModel();\n</code></pre>\n\n<p>Now my model is like</p>\n\n<pre><code>return new myModel\n{\n    Item1 = \"This is \",\n    Item2 = \" a test \",\n    Item3 = \" to make one sentence\"\n}\n</code></pre>\n\n<p>Now I want to do something like this to turn the first row of the IEnumerable into a sentence. </p>\n\n<pre><code>string xyz = test.First().toString(); \n</code></pre>\n\n<p>I would like xyz to = \"This is  a test  to make one sentence\"</p>\n"}, {"tags": ["c#", ".net", "json", "json.net"], "comments": [{"owner": {"reputation": 763, "user_id": 521179, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9531e0a99ee5937ad78e5875e0c24994?s=128&d=identicon&r=PG", "display_name": "Andrew Au", "link": "https://stackoverflow.com/users/521179/andrew-au"}, "edited": false, "score": 0, "creation_date": 1475707030, "post_id": 39884534, "comment_id": 67056333, "body": "Your code does not compile. What is hotkeyConfig? Just by reading your code, something is wrong? Why do you call deserialize object so many times while you have just one JSON file? A single call to deserialize should be able to get you the whole object graph."}, {"owner": {"reputation": 39, "user_id": 6927010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3d9712f74351dfa6540141c1e8fab44?s=128&d=identicon&r=PG&f=1", "display_name": "Cartel", "link": "https://stackoverflow.com/users/6927010/cartel"}, "reply_to_user": {"reputation": 763, "user_id": 521179, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9531e0a99ee5937ad78e5875e0c24994?s=128&d=identicon&r=PG", "display_name": "Andrew Au", "link": "https://stackoverflow.com/users/521179/andrew-au"}, "edited": false, "score": 0, "creation_date": 1475707651, "post_id": 39884534, "comment_id": 67056499, "body": "It is just the Json.Parse(), it&#39;s called &quot;multiple&quot; times, because the keys &quot;Player 1&quot;, &quot;Player 2&quot;, etc, they are all dynamic, so not necessarily they will get those names, it might be any name, and the Dictionary deserialize was the way I found to get that name(working), but when I try to deserialize the Value it crashs"}, {"owner": {"reputation": 763, "user_id": 521179, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9531e0a99ee5937ad78e5875e0c24994?s=128&d=identicon&r=PG", "display_name": "Andrew Au", "link": "https://stackoverflow.com/users/521179/andrew-au"}, "edited": false, "score": 0, "creation_date": 1475709375, "post_id": 39884534, "comment_id": 67056949, "body": "Can you just get us a repro that can compile and run?"}, {"owner": {"reputation": 3086, "user_id": 831742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rEtS8.jpg?s=128&g=1", "display_name": "Eugene S.", "link": "https://stackoverflow.com/users/831742/eugene-s"}, "edited": false, "score": 0, "creation_date": 1475710878, "post_id": 39884534, "comment_id": 67057319, "body": "It seems that you are missing <code>action</code> property on <code>ActionSetting</code> class."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 6677003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RbF02.jpg?s=128&g=1", "display_name": "Lykanox", "link": "https://stackoverflow.com/users/6677003/lykanox"}, "is_accepted": false, "score": 0, "last_activity_date": 1475709497, "creation_date": 1475709497, "answer_id": 39885135, "question_id": 39884534, "link": "https://stackoverflow.com/questions/39884534/json-deserialize-object-crashing/39885135#39885135", "title": "Json Deserialize Object crashing", "body": "<p>Check your Json string, the format is bad how the error show you. Here i let you the correct format for the Json string you posted.</p>\n\n<pre><code>{\n\"hotkeySets\": {\n    \"Player 1\": {\n        \"chatOff\": [{\n            \"actionsetting\": {\n                \"action\": \"Togglelist\"\n            },\n            \"keysequence\": \"Ctrl+B\"\n        }, {\n            \"actionsetting\": {\n                \"action\": \"Copy\"\n            },\n            \"keysequence\": \"Ctrl+C\"\n        }, {\n            \"actionsetting\": {\n                \"useObject\": 3308,\n                \"useType\": \"SelectUseTarget\"\n            },\n            \"keysequence\": \"F10\"\n        }],\n        \"chatOn\": [{\n            \"actionsetting\": {\n                \"action\": \"Select All\"\n            },\n            \"keysequence\": \"Ctrl+A\"\n        }, {\n            \"actionsetting\": {\n                \"chatText\": \"heal friend\",\n                \"sendAutomatically\": true\n            },\n            \"keysequence\": \"Ctrl+F1\"\n        }, {\n            \"actionsetting\": {\n                \"action\": \"Copy\"\n            },\n            \"keysequence\": \"Ctrl+C\"\n        }]\n    },\n    \"Player 2\": {\n        \"chatOff\": [{\n            \"actionsetting\": {\n                \"action\": \"ToggleBattlelist\"\n            },\n            \"keysequence\": \"Ctrl+B\"\n        }, {\n            \"actionsetting\": {\n                \"action\": \"Copy\"\n            },\n            \"keysequence\": \"Ctrl+C\"\n        }]\n    }\n}\n}\n</code></pre>\n\n<p>here is a Json validator where you can test it <a href=\"http://jsonlint.com/\" rel=\"nofollow\">JsonValidator</a>\nI hope this solves your problem.</p>\n"}, {"comments": [{"owner": {"reputation": 16505, "user_id": 97382, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/5j1Z4.png?s=128&g=1", "display_name": "Craig W.", "link": "https://stackoverflow.com/users/97382/craig-w"}, "edited": false, "score": 1, "creation_date": 1475713142, "post_id": 39885263, "comment_id": 67057850, "body": "Just an FYI, but you do not need all those <code>JsonProperty</code> attributes. JSON.NET will map the camelCase names in the JSON to the PascalCase names in the .NET class as long as the names match case-insensitively. The only time you need the <code>JsonProperty</code> is if the names do not match. They just create &quot;noise&quot; otherwise."}, {"owner": {"reputation": 602, "user_id": 4463444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89289b508ee39e2d5b688e91fd4b7b5a?s=128&d=identicon&r=PG", "display_name": "Ismael", "link": "https://stackoverflow.com/users/4463444/ismael"}, "reply_to_user": {"reputation": 16505, "user_id": 97382, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/5j1Z4.png?s=128&g=1", "display_name": "Craig W.", "link": "https://stackoverflow.com/users/97382/craig-w"}, "edited": false, "score": 0, "creation_date": 1475760236, "post_id": 39885263, "comment_id": 67080076, "body": "Sure, @CraigW. I do it mostly to simplify things in case Cartel wanted to change property names."}], "tags": [], "owner": {"reputation": 602, "user_id": 4463444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89289b508ee39e2d5b688e91fd4b7b5a?s=128&d=identicon&r=PG", "display_name": "Ismael", "link": "https://stackoverflow.com/users/4463444/ismael"}, "is_accepted": true, "score": 0, "last_activity_date": 1475710689, "last_edit_date": 1475710689, "creation_date": 1475710369, "answer_id": 39885263, "question_id": 39884534, "link": "https://stackoverflow.com/questions/39884534/json-deserialize-object-crashing/39885263#39885263", "title": "Json Deserialize Object crashing", "body": "<p>First of all, there is an error in your Json file. You are not closing the \"chatOff\" array of \"Player 2\". Check it below, where I closed it on the line before the last one:</p>\n\n<pre><code>\"Player 2\": {\n    \"chatOff\": [\n        {\n            \"actionsetting\": {\n                \"action\": \"ToggleBattlelist\"\n            },\n            \"keysequence\": \"Ctrl+B\"\n        },\n        {\n            \"actionsetting\": {\n                \"action\": \"Copy\"\n            },\n            \"keysequence\": \"Ctrl+C\"\n        },\n    ]\n}\n</code></pre>\n\n<p>Second, your approach to map into Hotkey is fine, but you can not map your array items directly into the Hotkey class. As an alternative, you can map a new object to represent your Player, and then map the properties \"chatOff\" and \"chatOn\" into lists. Make your Json classes look like this:</p>\n\n<pre><code>public class Player\n{\n    [JsonProperty(\"chatOff\")]\n    public List&lt;Hotkey&gt; ChatOff { get; set; }\n\n    [JsonProperty(\"chatOn\")]\n    public List&lt;Hotkey&gt; ChatOn { get; set; }\n}\n\npublic class Hotkey\n{\n    [JsonProperty(\"actionsetting\")]\n    public ActionSetting ActionSetting;\n\n    [JsonProperty(\"keysequence\")]\n    public string Shortcut { get; set; }\n}\n\npublic class ActionSetting\n{\n    [JsonProperty(\"useObject\")]\n    public int UseObject { get; set; }\n\n    [JsonProperty(\"chatText\")]\n    public string ChatText { get; set; }\n\n    [JsonProperty(\"useType\")]\n    public string UseType { get; set; }\n\n    [JsonProperty(\"sendAutomatically\")]\n    public bool SendAutomatically { get; set; }\n}\n</code></pre>\n\n<p>Last, make your deserializing code look like this:</p>\n\n<pre><code>var hotkeyConfig = JObject.Parse(json);\n\nvar playersToken = hotkeyConfig.SelectToken(\"hotkeySets\");\n\nvar playersDictionary = \n    JsonConvert.DeserializeObject&lt;Dictionary&lt;string, JObject&gt;&gt;(\n        playersToken.ToString());\n\nforeach (var playerEntry in playersDictionary)\n{\n    var player = JsonConvert.DeserializeObject&lt;Player&gt;(playerEntry.Value.ToString());\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 6927010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3d9712f74351dfa6540141c1e8fab44?s=128&d=identicon&r=PG&f=1", "display_name": "Cartel", "link": "https://stackoverflow.com/users/6927010/cartel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1359, "favorite_count": 0, "accepted_answer_id": 39885263, "answer_count": 2, "score": 0, "last_activity_date": 1475710689, "creation_date": 1475705636, "last_edit_date": 1475707540, "question_id": 39884534, "link": "https://stackoverflow.com/questions/39884534/json-deserialize-object-crashing", "title": "Json Deserialize Object crashing", "body": "<p>I'm trying to deserialize this JSON file into an object, but I can't get it working.</p>\n\n<p>The Json:</p>\n\n<pre><code>\"hotkeySets\": {\n     \"Player 1\": {\n          \"chatOff\": [\n                    {\n                    \"actionsetting\": {\n                            \"action\": \"Togglelist\"\n                        },\n                        \"keysequence\": \"Ctrl+B\"\n                    },\n                    {\n                        \"actionsetting\": {\n                            \"action\": \"Copy\"\n                        },\n                        \"keysequence\": \"Ctrl+C\"\n                    },\n                    {\n                        \"actionsetting\": {\n                            \"useObject\": 3308,\n                            \"useType\": \"SelectUseTarget\"\n                        },\n                        \"keysequence\": \"F10\"\n                    },\n                ],\n                \"chatOn\": [\n                    {\n                        \"actionsetting\": {\n                            \"action\": \"Select All\"\n                        },\n                        \"keysequence\": \"Ctrl+A\"\n                    },\n                    {\n                        \"actionsetting\": {\n                            \"chatText\": \"heal friend\",\n                            \"sendAutomatically\": true\n                        },\n                        \"keysequence\": \"Ctrl+F1\"\n                    },\n                    {\n                        \"actionsetting\": {\n                            \"action\": \"Copy\"\n                        },\n                        \"keysequence\": \"Ctrl+C\"\n                    },\n                ]\n            },\n            \"Player 2\": {\n                \"chatOff\": [\n                    {\n                        \"actionsetting\": {\n                            \"action\": \"ToggleBattlelist\"\n                        },\n                        \"keysequence\": \"Ctrl+B\"\n                    },\n                    {\n                        \"actionsetting\": {\n                            \"action\": \"Copy\"\n                        },\n                        \"keysequence\": \"Ctrl+C\"\n                    },\n            }\n}\n</code></pre>\n\n<p>And here is the code I'm using to deserialize it:</p>\n\n<pre><code>JToken hotkeyConfig = JObject.Parse(json)\nJToken hotkeysSet = hotkeyConfig.SelectToken(\"hotkeySets\");\n\nvar sets = JsonConvert.DeserializeObject&lt;Dictionary&lt;string, JObject&gt;&gt;(hotkeysSet.ToString());\n\nforeach (var hotkeySet in sets) {\n    string hotkeySetName = hotkeySet.Key; // \"Player 1\" etc..\n    List&lt;Hotkey&gt; hotkeys = new List&lt;Hotkey&gt;();\n\n    foreach (var hotkey in hotkeySet.Value) {\n\n        Hotkey htk = JsonConvert.DeserializeObject&lt;Hotkey&gt;(hotkey.Value.ToString());    \n     }\n }\n</code></pre>\n\n<p>But I can get the Hotkey object to work with Json Deserialize. I have tried a lot of things and here is the last code I tried:</p>\n\n<pre><code>public class Hotkey {\n\n        [JsonProperty(\"actionsetting\")]\n        public ActionSetting actionsetting;\n\n        [JsonProperty(\"keysequence\")]\n        public string Shortcut { get; set; }\n\n        public class ActionSetting {\n            public int useObject{ get; set; }\n\n            public string chatText { get; set; }\n\n            public string useType{ get; set; }\n\n            public bool sendAutomatically{ get; set; }\n        }\n    }\n</code></pre>\n\n<p>It's crashing in the line \"JsonConvert.DeserializeObject\", saying invalid format, so probably I'm missing something in my class structure I guess.</p>\n"}, {"tags": ["c#", ".net", "asp.net-web-api", "model-binding"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1475705828, "post_id": 39884404, "comment_id": 67055975, "body": "It&#39;s probably the <code>[FromBody]</code>; that uses the JsonInputFormatter, and in JavaScript, 333 evaluates as &quot;truthy&quot;. I&#39;m not sure this is the problem, which is why this is not an answer. I&#39;d take a look at <a href=\"https://docs.asp.net/en/latest/mvc/models/model-binding.html\" rel=\"nofollow noreferrer\">the docs</a>."}, {"owner": {"reputation": 984, "user_id": 1828675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6f73833732e2bb943bfd6a7f7faae03?s=128&d=identicon&r=PG", "display_name": "Chris Morgan", "link": "https://stackoverflow.com/users/1828675/chris-morgan"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1475781908, "post_id": 39884404, "comment_id": 67093657, "body": "@MikeMcCaughan you are correct that the default JsonMediaTypeFormatter in web API is provided by the Json.NET library and will deserialize 0 to false and 1 or greater as true.  If you don&#39;t like the this behavior you can write a custom JsonConverter, see <a href=\"http://stackoverflow.com/questions/14427596/convert-an-int-to-bool-with-json-net\">link</a> for an example."}, {"owner": {"reputation": 35, "user_id": 6928867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9baaccca3ce8d6089617659d21d23994?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Gilberstadt", "link": "https://stackoverflow.com/users/6928867/dan-gilberstadt"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1475857672, "post_id": 39884404, "comment_id": 67127457, "body": "@MikeMcCaughan, thanks the ideas! I tried removing the [fromBody] and that didn&#39;t fix the issue.   We stood up a new, simple API project with a model that contained an int and a bool, and set the bool to 321.  When the content-type request header was set to application/ajax, the bool was parsed to true, but when the header was set to application/x-www-form-urlencoded, the model binding broke.  I then went back to my original project and tried changing the content-type to application/x-www-form-urlencoded, but the model binding set the model to null, so binding didn&#39;t work."}, {"owner": {"reputation": 35, "user_id": 6928867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9baaccca3ce8d6089617659d21d23994?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Gilberstadt", "link": "https://stackoverflow.com/users/6928867/dan-gilberstadt"}, "reply_to_user": {"reputation": 984, "user_id": 1828675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6f73833732e2bb943bfd6a7f7faae03?s=128&d=identicon&r=PG", "display_name": "Chris Morgan", "link": "https://stackoverflow.com/users/1828675/chris-morgan"}, "edited": false, "score": 0, "creation_date": 1475857680, "post_id": 39884404, "comment_id": 67127464, "body": "Thanks for the comment, @ChrisMorgan"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1475857995, "post_id": 39884404, "comment_id": 67127623, "body": "The content-type header for a JSON request should be set to <code>application&#47;json</code>, not <code>application&#47;ajax</code>. I would stick with JSON, rather than form encoding as it&#39;s a lot easier to work with, and most tooling these days expect JSON. I&#39;m not sure exactly what you&#39;re using to edit the IsActive value. I&#39;d suggest using <code>@Html.CheckBoxFor(m =&gt; m.IsActive)</code> so that it&#39;s always a Boolean..."}, {"owner": {"reputation": 35, "user_id": 6928867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9baaccca3ce8d6089617659d21d23994?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Gilberstadt", "link": "https://stackoverflow.com/users/6928867/dan-gilberstadt"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1476149218, "post_id": 39884404, "comment_id": 67217763, "body": "@MikeMcCaughan, yes, I&#39;m sorry, I meant application/json (not ajax).  An outside system will be consuming this via the API, so we will not be using Razor and html helpers."}], "owner": {"reputation": 35, "user_id": 6928867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9baaccca3ce8d6089617659d21d23994?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Gilberstadt", "link": "https://stackoverflow.com/users/6928867/dan-gilberstadt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 664, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475705855, "creation_date": 1475704913, "last_edit_date": 1475705855, "question_id": 39884404, "link": "https://stackoverflow.com/questions/39884404/asp-net-webapi-model-binding-validation-issues-when-setting-boolean-field-to-33", "title": "ASP.Net WebAPI Model Binding: Validation Issues When Setting Boolean Field to 333", "body": "<p>I have an ASP.Net WebAPI project where I'm model binding a model on a Controller method. See Model and Controller method below. </p>\n\n<p>The issue is when I set the IsActive flag to 333 (which is not a boolean), the model binding sets the IsActive field to true; I can see model.IsActive is true when debugging.  If I set to a string, like \"asdf\", it fails, as expected (error: Could not convert string to boolean: asdf.). Other fields are being bound correctly. </p>\n\n<p>Has anyone seen this issue before? Am I doing something wrong? </p>\n\n<p>Model: </p>\n\n<pre><code>public class RequestModel\n{\n    [Required]\n    public string Name { get; set; }\n\n    [Required]\n    public bool IsActive { get; set; }\n}\n</code></pre>\n\n<p>Controller method looks like this (I set a breakpoint in the method and can see model.IsActive is true):</p>\n\n<pre><code>[HttpPost]\n[Route(\"\")]\npublic IHttpActionResult CreateStuff([FromBody] RequestModel model)\n{\n    if (ModelState.IsValid)\n    {\n        // Do stuff\n\n        return Ok();\n    }\n\n    return BadRequest(\"error string\");\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "redis", "stackexchange.redis"], "comments": [{"owner": {"reputation": 7037, "user_id": 240430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/1a65abb1619d94e0769fd0262fe5c5fa?s=128&d=identicon&r=PG", "display_name": "Sean", "link": "https://stackoverflow.com/users/240430/sean"}, "edited": false, "score": 0, "creation_date": 1481047971, "post_id": 39884402, "comment_id": 69213015, "body": "Marc Gravell emphasized that the IDatabase object is a cheap throw-away object in this in the response to this similar question: <a href=\"http://stackoverflow.com/questions/25591845/the-correct-way-of-using-stackexchange-redis\" title=\"the correct way of using stackexchange redis\">stackoverflow.com/questions/25591845/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 132743, "user_id": 905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/130b8a67fd029b2e6b5e56e7aad04952?s=128&d=identicon&r=PG", "display_name": "Keith", "link": "https://stackoverflow.com/users/905/keith"}, "is_accepted": true, "score": 13, "last_activity_date": 1480350984, "last_edit_date": 1495541378, "creation_date": 1480350984, "answer_id": 40849257, "question_id": 39884402, "link": "https://stackoverflow.com/questions/39884402/how-should-stackexchange-redis-idatabase-object-be-used-in-a-multi-threaded-appl/40849257#40849257", "title": "How should StackExchange.Redis IDatabase object be used in a multi-threaded application?", "body": "<p>Use the <code>ConnectionMultiplexer</code> across multiple threads. I'm using <a href=\"https://stackoverflow.com/questions/40844665\">.NET Core dependency injection</a> but you could just use </p>\n\n<pre><code>static readonly Lazy&lt;ConnectionMultiplexer&gt; SharedMultiplexer =&gt; \n    new Lazy&lt;ConnectionMultiplexer&gt;(() =&gt; ConnectionMultiplexer.Connect(\"localhost\"));\n</code></pre>\n\n<p>Call <code>GetDatabase()</code> just before you need it in the specific request.</p>\n\n<p>Use inline <code>async</code> and <code>await</code> continuation methods in an asynchronous action to ensure that you optimise for highly concurrent access...</p>\n\n<pre><code>string value = await SharedMultiplexer.GetDatabase().StringGetAsync(\"mykey\");\n</code></pre>\n"}], "owner": {"reputation": 7037, "user_id": 240430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/1a65abb1619d94e0769fd0262fe5c5fa?s=128&d=identicon&r=PG", "display_name": "Sean", "link": "https://stackoverflow.com/users/240430/sean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3489, "favorite_count": 0, "accepted_answer_id": 40849257, "answer_count": 1, "score": 13, "last_activity_date": 1480350984, "creation_date": 1475704910, "last_edit_date": 1475705498, "question_id": 39884402, "link": "https://stackoverflow.com/questions/39884402/how-should-stackexchange-redis-idatabase-object-be-used-in-a-multi-threaded-appl", "title": "How should StackExchange.Redis IDatabase object be used in a multi-threaded application?", "body": "<p>I'm getting mixed messages from the StackExchange.Redis documentation about how to use an IDatabase.  In the <a href=\"https://github.com/StackExchange/StackExchange.Redis/blob/master/Docs/Basics.md#using-a-redis-database\" rel=\"noreferrer\" title=\"Basic Usage doc\">Basic Usage doc</a> it says: </p>\n\n<blockquote>\n  <p>The object returned from GetDatabase is a cheap pass-thru object, and does not need to be stored.</p>\n</blockquote>\n\n<p>This give the impression that I should call GetDatabase for every Redis operation.</p>\n\n<p>However, from the <a href=\"https://github.com/StackExchange/StackExchange.Redis/blob/master/Docs/PipelinesMultiplexers.md\" rel=\"noreferrer\" title=\"Pipelining and Multiplexing doc\">Pipelining and Multiplexing doc</a>, by the language and example code, it seems that you should re-use the IDatabase object to take advantage of pipelining and multiplexing. I say it seems that way because the example code block re-use the same db, and because it talks about re-using the <em>connection</em>.  Now, I'm not sure if <em>connection</em> refers to the object returned by GetDatabase, or the underlying connection, or what.</p>\n\n<p>I'm accessing Redis from an asp.net web application so I need to optimize my code for highly multi-threaded access. Should I call GetDatabase with every operation, or should IDatabase objects be shared by multiple threads?  If that latter, to what extent?  Should one database object be shared across the entire application indefinitely?</p>\n"}, {"tags": ["c#", ".net", "sql-server", "wpf", "datagridview"], "answers": [{"comments": [{"owner": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "edited": false, "score": 0, "creation_date": 1475761909, "post_id": 39896923, "comment_id": 67081282, "body": "This is great info. I am also going to set up a trigger to populate the history table. I&#39;ll work on this today. Thank you for the helpful response!"}, {"owner": {"reputation": 688, "user_id": 4467670, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003096226037/picture?type=large", "display_name": "Peter Moore", "link": "https://stackoverflow.com/users/4467670/peter-moore"}, "reply_to_user": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "edited": false, "score": 0, "creation_date": 1475766188, "post_id": 39896923, "comment_id": 67084524, "body": "My pleasure. Oh and yes definitely agreed on using a trigger to populate your history table."}, {"owner": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "edited": false, "score": 0, "creation_date": 1475766625, "post_id": 39896923, "comment_id": 67084863, "body": "What im finding is that, because I have a multi-table query, I need to manually create the update statement. I have it created, but I need to add the columns to it. I have something to the effect of &quot;... SET TABLENAME.NUMERATOR = (AT)Numerator ... WHERE Performance_ID = (AT)Performance_ID&quot;how do I get the value of (AT)Numerator and (AT)Performance_ID to match the corresponding row value from the data table? ( (AT) = SHIFT2... was thinking i was tagging someone and gave errors)"}, {"owner": {"reputation": 688, "user_id": 4467670, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003096226037/picture?type=large", "display_name": "Peter Moore", "link": "https://stackoverflow.com/users/4467670/peter-moore"}, "reply_to_user": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "edited": false, "score": 0, "creation_date": 1475770325, "post_id": 39896923, "comment_id": 67087288, "body": "Did you add all the @parameters to SqlDataAdapter.UpdateCommand.Parameters? That&#39;s how you link your parameters in the sql string to actual source columns in the DataTable. That said, I&#39;ve never tried updating multiple tables in one SqlDataAdapter.Update command. You might need to break it up, one update for each table."}, {"owner": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "edited": false, "score": 0, "creation_date": 1475776372, "post_id": 39896923, "comment_id": 67090604, "body": "I added some more code above in the edit section showing where I stand now. The issue I have is that the SDA isn&#39;t accessible for the button click event."}, {"owner": {"reputation": 688, "user_id": 4467670, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003096226037/picture?type=large", "display_name": "Peter Moore", "link": "https://stackoverflow.com/users/4467670/peter-moore"}, "reply_to_user": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "edited": false, "score": 0, "creation_date": 1475777063, "post_id": 39896923, "comment_id": 67090981, "body": "Hmm. I&#39;m not sure what your thinking is here, but if you re-read my answer, my suggestion is you need to get a DataTable with only the updated rows by using the DataTable.GetChanges() method, which I don&#39;t see you doing here. Then, I would create a new SqlDataAdapter on that updated table you obtain."}], "tags": [], "owner": {"reputation": 688, "user_id": 4467670, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003096226037/picture?type=large", "display_name": "Peter Moore", "link": "https://stackoverflow.com/users/4467670/peter-moore"}, "is_accepted": true, "score": 1, "last_activity_date": 1475759356, "creation_date": 1475759356, "answer_id": 39896923, "question_id": 39884384, "link": "https://stackoverflow.com/questions/39884384/updating-database-through-edits-to-wpf-datagrid/39896923#39896923", "title": "Updating Database through edits to WPF Datagrid", "body": "<p>Well there's a lot of ways to skin this cat. </p>\n\n<p>If you wanted to do an update every time a cell is changed, I would subscribe to the <code>DataGrid</code>'s <code>CellEditEnding</code> event which will basically inform you whenever a change to the cell has been made and committed by the user. (Check the <code>DataGridCellEditEndingEventArgs</code> argument to find out which column and cell were actually edited). With that, you can compose a targeted <code>UPDATE</code> statement and only update the cell that changed. </p>\n\n<p>However, it sounds like you want to do a bulk update when the window closes. In that case, <code>DataTable</code> will track changes made to the data via the <code>DataGrid</code> given that you assigned it as the <code>ItemsSource</code>.  When you're ready to commit changes, use <code>DataTable.GetChanges</code> to get a new <code>DataTable</code> with just the changed rows since the last time <code>DataDatable.AcceptChanges</code> was called. Perform your update (use <code>SqlDataAdapter</code> again this time. See the <a href=\"https://msdn.microsoft.com/en-us/library/z1z2bkx2(v=vs.110).aspx\" rel=\"nofollow\">Update method</a>.) This has the advantage of handling all updates and deletions in a single operation. One disadvantage is that - I believe - every column of the row is going to be updated, so this increases the amount of information that is transmitted to the database server with each update. In any event, then when your update is complete, call <code>DataTable.AcceptChanges</code>.</p>\n\n<p>That should get you on the right track. Hope this helps.</p>\n"}], "owner": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2136, "favorite_count": 1, "accepted_answer_id": 39896923, "answer_count": 1, "score": 1, "last_activity_date": 1475776325, "creation_date": 1475704820, "last_edit_date": 1475776325, "question_id": 39884384, "link": "https://stackoverflow.com/questions/39884384/updating-database-through-edits-to-wpf-datagrid", "title": "Updating Database through edits to WPF Datagrid", "body": "<p>I have seen a ton of write ups on this and yet cannot get this to work. I have a window in my C# WPF application that, on load, successfully fills a datatable based on a pre-defineds query (altered by user selections from previous window)</p>\n\n<p>The Fill logic is here:</p>\n\n<pre><code>private void FillDataGrid()\n    {\n        string ConString = ConfigurationManager.ConnectionStrings[\"CONN\"].ConnectionString;\n        string CmdString = string.Empty;\n        using (SqlConnection con = new SqlConnection(ConString))\n        {\n            CmdString = $@\"select PGCL.Client_Name, PGG.Guarantee_Title, PGG.Guarantee_Desc_Org, PGGM.Target, PGG.Timing_Measurement, PGP.Month, PGP.Year, PGP.Quarter, PGP.Numerator, PGP.Denominator, PGP.Performance_Percent, PGP.Achieved_Flag, PGP.Performance_ID\n                            from PGG\n                                inner join PGC on PGC.Contract_ID = PGG.Contract_ID\n                                inner join PGCL on PGCL.Client_ID = PGC.Contract_ID\n                                inner join PGGM on PGGM.Guarantee_ID = PGG.Guarantee_ID\n                                inner join PGP on PGP.Guarantee_ID = PGG.Guarantee_ID\n                                Where PGP.Month = {this.monthNum.ToString()} and PGP.year = {this.yearNum.ToString()}\n                                    and PGC.Active_Flag = 'y'\n                                    and PGG.Department_Responsible_ID = {this.deptID.ToString()}\n                                Order by Client_Name, Guarantee_Order asc\";\n\n            SqlCommand cmd = new SqlCommand(CmdString, con);\n            SqlDataAdapter sda = new SqlDataAdapter(cmd);\n            DataTable dt = new DataTable(\"PG\");\n\n            sda.Fill(dt);\n            DGPG.ItemsSource = dt.DefaultView;\n\n        }\n    }\n</code></pre>\n\n<p>This portion works perfectly.</p>\n\n<p>I have 5 columns in the PGP (aliased from above) table that I want to dynamically write values (in a few steps) to based on user input at the close of the window (with a prompt to save). What method would be recommended for doing this?</p>\n\n<p>i.e.: if a user entered the value '5' for for Numerator on row 5 and '7' for denominator on row 10, i want the following to happen:</p>\n\n<p>1) using the PGP.ID, insert into the PGP_History table (for historical logs of changes)\n2) UPDATE PGP table values accordingly.</p>\n\n<p>I would greatly appreciate it if someone could get me going in this direction?</p>\n\n<p>Thank you,\nWes</p>\n\n<h2>EDIT</h2>\n\n<p>I think I have made some progress but am stuck on the below, now:</p>\n\n<pre><code>       private void FillDataGrid()\n    {\n        string ConString = ConfigurationManager.ConnectionStrings[\"CONN\"].ConnectionString;\n        string CmdString = string.Empty;\n        using (SqlConnection con = new SqlConnection(ConString))\n        {\n            CmdString = $@\"select PGCL.Client_Name, PGG.Guarantee_Title, PGG.Guarantee_Desc_Org, PGGM.Target, PGG.Timing_Measurement, PGP.Month, PGP.Year, PGP.Quarter, PGP.Numerator, PGP.Denominator, PGP.Performance_Percent, PGP.Achieved_Flag, PGP.Performance_ID\n                            from PGG\n                                inner join PGC on PGC.Contract_ID = PGG.Contract_ID\n                                inner join PGCL on PGCL.Client_ID = PGC.Contract_ID\n                                inner join PGGM on PGGM.Guarantee_ID = PGG.Guarantee_ID\n                                inner join PGP on PGP.Guarantee_ID = PGG.Guarantee_ID\n                                Where PGP.Month = {this.monthNum.ToString()} and PGP.year = {this.yearNum.ToString()}\n                                    and PGC.Active_Flag = 'y'\n                                    and PGG.Department_Responsible_ID = {this.deptID.ToString()}\n                                Order by Client_Name, Guarantee_Order asc\";\n\n            SqlCommand cmd = new SqlCommand(CmdString, con);\n            SqlDataAdapter sda = new SqlDataAdapter(cmd);\n            DataTable dt = new DataTable(\"PG\");\n\n            sda.Fill(dt);\n            DGPerformanceGuarantees.ItemsSource = dt.DefaultView;\n        }\n    }\n\n    private void Commit_Updates_Click(object sender, RoutedEventArgs e)\n    {\n        string ConString = ConfigurationManager.ConnectionStrings[\"CONN\"].ConnectionString;\n        //string CmdString = string.Empty;\n        using (SqlConnection con = new SqlConnection(ConString))\n        {\n            //Update Logic\n            SqlCommand update = new SqlCommand(\"UPDATE PGP SET PGP.NUMERATOR = @Numerator, DENOMINATOR = @Denominator, PERFORMANCE_PERCENT = @Percent, ACHIEVED_FLAG = '@Achieved' WHERE PERFORMANCE_ID = @Performance_ID\", con);\n            update.Parameters.Add(new SqlParameter(\"@Numerator\", SqlDbType.Int, 5, \"NUMERATOR\"));\n            update.Parameters.Add(new SqlParameter(\"@Denominator\", SqlDbType.Int, 5, \"DENOMINATOR\"));\n            update.Parameters.Add(new SqlParameter(\"@Percent\", SqlDbType.Decimal, 18, \"PERFORMANCE_PERCENT\"));\n                update.Parameters[\"@Percent\"].Precision = 18;\n                update.Parameters[\"@Percent\"].Scale = 2;\n            update.Parameters.Add(new SqlParameter(\"@Achieved\", SqlDbType.NVarChar, 1, \"ACHIEVED_FLAG\"));\n            update.Parameters.Add(new SqlParameter(\"@Performance_ID\", SqlDbType.Int, 5, \"Performance_ID\"));\n\n            sda.UpdateCommand = update;\n            sda.Update(dt);\n        }\n\n        FillDataGrid();\n    }\n</code></pre>\n\n<p>I added a button to trigger the update to occur. Obviously this does not compile because the SQL Data Adapter (sda) is does not exist in the context of the button handler.</p>\n\n<p>What can I do to resolve this?</p>\n"}, {"tags": ["c#", "asp.net", "selenium", "asp.net-core", "remotewebdriver"], "answers": [{"comments": [{"owner": {"reputation": 829, "user_id": 2056284, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/q48BY.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/2056284/james"}, "edited": false, "score": 0, "creation_date": 1475730107, "post_id": 39886099, "comment_id": 67062045, "body": "This was the default that I tried to use before (127.0.0.1:4444, not the /wd/hub part though) and I changed it to match the localhost port the application normally runs on because I thought that may have been a fix. It didn&#39;t work before the change either, but I&#39;ll try adding /wd/hub to the URI"}], "tags": [], "owner": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "is_accepted": false, "score": 1, "last_activity_date": 1475717206, "creation_date": 1475717206, "answer_id": 39886099, "question_id": 39884371, "link": "https://stackoverflow.com/questions/39884371/selenium-webdriver-connection-refused-in-net-core-app-using-net-framework-cla/39886099#39886099", "title": "Selenium WebDriver connection refused in .NET Core app, using .NET Framework class library", "body": "<p>Actually when you're running remote <code>Selenium Server</code>, it runs on default address which is <code>http://localhost:4444/wd/hub</code> on local machine. I think you're point incorrect remote address during initialising of <a href=\"https://seleniumhq.github.io/selenium/docs/api/dotnet/html/M_OpenQA_Selenium_Remote_RemoteWebDriver__ctor_2.htm\" rel=\"nofollow\"><code>RemoteWebDriver</code></a>. You should try as :-</p>\n\n<pre><code>IWebDriver wd = new RemoteWebDriver(new Uri(\"http://127.0.0.1:4444/wd/hub\"),DesiredCapabilities.Chrome());\n</code></pre>\n"}], "owner": {"reputation": 829, "user_id": 2056284, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/q48BY.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/2056284/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1569, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552031903, "creation_date": 1475704756, "last_edit_date": 1475717556, "question_id": 39884371, "link": "https://stackoverflow.com/questions/39884371/selenium-webdriver-connection-refused-in-net-core-app-using-net-framework-cla", "title": "Selenium WebDriver connection refused in .NET Core app, using .NET Framework class library", "body": "<p>In <code>.NET Core</code>, Selenium isn't supported yet, making it tough to do front end web tests. Fortunately, you're able to reference the packages if you add a separate project to your solution that is a <code>C# Class Library</code> pointed at <code>.NET Framework</code>. </p>\n\n<p>I've done just this, but I'm receiving connection errors from the Selenium web driver that state <code>No connection could be made because the target machine actively refused it 127.0.0.1:4444</code> which tells me the server is hit and responds without timing out, but is refused for some reason.</p>\n\n<p>Here is the <strong>error</strong> I receive</p>\n\n<pre><code>{\"Unexpected error. System.Net.WebException: Unable to connect to the remote server ---&gt; System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:4444 \n   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)\n   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket&amp; socket, IPAddress&amp; address, ConnectSocketState state, IAsyncResult asyncResult, Exception&amp; exception)\n   --- End of inner exception stack trace ---\n   at System.Net.HttpWebRequest.GetRequestStream(TransportContext&amp; context)\n   at System.Net.HttpWebRequest.GetRequestStream()\n   at OpenQA.Selenium.Remote.HttpCommandExecutor.Execute(Command commandToExecute)\n   at OpenQA.Selenium.Remote.RemoteWebDriver.Execute(String driverCommandToExecute, Dictionary'2 parameters)\"}\n</code></pre>\n\n<p>And here is the full <strong>stack trace</strong> </p>\n\n<pre><code>at OpenQA.Selenium.Remote.RemoteWebDriver.UnpackAndThrowOnError(Response errorResponse)\n   at OpenQA.Selenium.Remote.RemoteWebDriver.Execute(String driverCommandToExecute, Dictionary`2 parameters)\n   at OpenQA.Selenium.Remote.RemoteWebDriver.StartSession(ICapabilities desiredCapabilities)\n   at OpenQA.Selenium.Remote.RemoteWebDriver..ctor(ICommandExecutor commandExecutor, ICapabilities desiredCapabilities)\n   at OpenQA.Selenium.Remote.RemoteWebDriver..ctor(Uri remoteAddress, ICapabilities desiredCapabilities)\n   at OpenQA.Selenium.Remote.RemoteWebDriver..ctor(ICapabilities desiredCapabilities)\n   at JabbR_Core.WebTests.LobbyTests.LoadAndWait() in C:\\Users\\jaearle\\Documents\\Code\\JabbR-Core\\test\\JabbR-Core.WebTests\\LobbyTests.cs:line 15\n</code></pre>\n\n<p>Here is my <strong>testing class</strong></p>\n\n<pre><code>using System;\nusing System.Threading;\nusing OpenQA.Selenium;\nusing OpenQA.Selenium.Remote;\nusing Microsoft.VisualStudio.TestTools.UnitTesting;\n\nnamespace Project.WebTests\n{\n    [TestClass]\n    public class Tests\n    {\n        [TestMethod]\n        public void LoadAndWait()\n        {\n            IWebDriver wd = new RemoteWebDriver(new Uri(\"http://localhost:59395/\"), DesiredCapabilities.Chrome());\n            try\n            {\n                wd.Navigate().GoToUrl(\"http://localhost:59395/\");\n\n                Thread.Sleep(5000);\n\n                if (!(wd.FindElements(By.CssSelector(\"section#page\")).Count != 0))\n                {\n                    Console.Error.WriteLine(\"verifyElementPresent failed\");\n                }\n            }\n            finally\n            {\n                wd.Quit();\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1475704685, "post_id": 39884342, "comment_id": 67055591, "body": "Sounds like you have too much data to store it all in memory at once.  You may need to avoid doing that, and instead only ever act on streams that allow you to keep only a small portion in memory at any given point in time."}, {"owner": {"reputation": 1178, "user_id": 1020882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc73fb7544cbec21d74cb514075af12d?s=128&d=identicon&r=PG", "display_name": "CShark", "link": "https://stackoverflow.com/users/1020882/cshark"}, "edited": false, "score": 4, "creation_date": 1475705147, "post_id": 39884342, "comment_id": 67055737, "body": "Additionally you can switch your solution to target x64 instead of x86. That will lift the memory restriction of ~2GB for .NET processes to a usable value."}, {"owner": {"reputation": 1999, "user_id": 4694757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UOLpM.png?s=128&g=1", "display_name": "i_thamary", "link": "https://stackoverflow.com/users/4694757/i-thamary"}, "edited": false, "score": 0, "creation_date": 1475705909, "post_id": 39884342, "comment_id": 67056002, "body": "I have dll files that are not compatible with x64.Is there another option."}, {"owner": {"reputation": 2789, "user_id": 3003119, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/699d1b9d00561bf0dcf5b2a7a24f171e?s=128&d=identicon&r=PG", "display_name": "Stefan Zvonar", "link": "https://stackoverflow.com/users/3003119/stefan-zvonar"}, "edited": false, "score": 0, "creation_date": 1475706321, "post_id": 39884342, "comment_id": 67056117, "body": "Can you please show the code that is calling the method?"}, {"owner": {"reputation": 1999, "user_id": 4694757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UOLpM.png?s=128&g=1", "display_name": "i_thamary", "link": "https://stackoverflow.com/users/4694757/i-thamary"}, "edited": false, "score": 0, "creation_date": 1475706792, "post_id": 39884342, "comment_id": 67056265, "body": "The code is part of class  <a href=\"http://www.codeproject.com/Articles/49264/Parallel-fast-compression-unleashing-the-power-of\" rel=\"nofollow noreferrer\">codeproject.com/Articles/49264/&hellip;</a>"}, {"owner": {"reputation": 1999, "user_id": 4694757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UOLpM.png?s=128&g=1", "display_name": "i_thamary", "link": "https://stackoverflow.com/users/4694757/i-thamary"}, "edited": false, "score": 0, "creation_date": 1475706977, "post_id": 39884342, "comment_id": 67056323, "body": "[for(int j =0;j&lt; Convert.ToInt16(NO_S.Text); j++)                                 {  FastCompress.CompressFast(fileshare + name.ToString() + Convert.ToString(copy.Extension),fileshare +&quot;s&quot;+ name.ToString() + Convert.ToString(copy.Extension),true);] }"}], "answers": [{"comments": [{"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 1, "creation_date": 1475709298, "post_id": 39885038, "comment_id": 67056934, "body": "I agree that the OP isn&#39;t disposing - and that may help in this case - but I don&#39;t think it&#39;s ever a very good solution to call <code>GC.Collect()</code>. The only time I find that useful is in timing code execution."}, {"owner": {"reputation": 7909, "user_id": 202179, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/xibo7.jpg?s=128&g=1", "display_name": "Ivan I\u010din", "link": "https://stackoverflow.com/users/202179/ivan-i%c4%8din"}, "reply_to_user": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 1, "creation_date": 1475736995, "post_id": 39885038, "comment_id": 67064936, "body": "@Enigmativity as I have said he should try first without that. GC.Collect() is there exactly because it is useful sometimes and yes it is even a good practice to call it if unusually huge part of memory becomes free. I had to write the app that works with 20 MB that creates objects of several megabytes and you can&#39;t even think of doing that without calling GC. I mean the only other option is to crash and it is much worse than calling GC."}], "tags": [], "owner": {"reputation": 7909, "user_id": 202179, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/xibo7.jpg?s=128&g=1", "display_name": "Ivan I\u010din", "link": "https://stackoverflow.com/users/202179/ivan-i%c4%8din"}, "is_accepted": true, "score": 0, "last_activity_date": 1475737339, "last_edit_date": 1475737339, "creation_date": 1475708885, "answer_id": 39885038, "question_id": 39884342, "link": "https://stackoverflow.com/questions/39884342/c-out-of-memory-error-after-recall-the-function/39885038#39885038", "title": "C# Out of Memory error after recall the function", "body": "<p>You're not disposing anything. Every stream needs to be disposed by calling its <code>Dispose()</code> method or preferably by enclosing it with <code>using { }</code></p>\n\n<p>That should be enough, but if you are really critical on memory you might not be able to wait garbage collector to reclaim memory back so you might also need to call the garbage collector at the end of the method:</p>\n\n<pre><code>GCSettings.LargeObjectHeapCompactionMode = GCLargeObjectHeapCompactionMode.CompactOnce;   \nGC.Collect();\nGC.WaitForPendingFinalizers();\n</code></pre>\n"}], "owner": {"reputation": 1999, "user_id": 4694757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UOLpM.png?s=128&g=1", "display_name": "i_thamary", "link": "https://stackoverflow.com/users/4694757/i-thamary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 39885038, "answer_count": 1, "score": 0, "last_activity_date": 1475737339, "creation_date": 1475704582, "last_edit_date": 1475704716, "question_id": 39884342, "link": "https://stackoverflow.com/questions/39884342/c-out-of-memory-error-after-recall-the-function", "title": "C# Out of Memory error after recall the function", "body": "<p>I am attempting to uncompress a large amount of data and I use the following code.    The first iteration finishes just fine and then on the next iteration I get  an error :\n\"An exception of type 'System.OutOfMemoryException' occurred in mscorlib.dll but was not handled in user code\"</p>\n\n<pre><code>private static void UnCompressP(byte[] buffToUnCompress, int index, AutoResetEvent eventToTrigger, ref MemoryStream[] memStream)\n{\n    eventToTrigger.Set();\n    MemoryStream cmpStream = new MemoryStream(buffToUnCompress);\n\n    GZipStream unCompZip = new GZipStream(cmpStream, CompressionMode.Decompress, true);\n\n    byte[] unCompressedBuffer = new byte[buffToUnCompress.Length];\n\n    MemoryStream msToAssign = new MemoryStream();\n    int read = 0;\n    while (0 != (read = unCompZip.Read(unCompressedBuffer, 0, buffToUnCompress.Length)))\n    {\n        msToAssign.Write(unCompressedBuffer, 0, read);\n        msToAssign.Flush();\n    }\n    memStream[index] = msToAssign;\n\n    unCompZip.Close();\n    cmpStream.Close();\n\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "touch"], "comments": [{"owner": {"reputation": 214, "user_id": 3655645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8135b37d8a543fefeea114ff8d6c3cb2?s=128&d=identicon&r=PG&f=1", "display_name": "lhildebrandt", "link": "https://stackoverflow.com/users/3655645/lhildebrandt"}, "edited": false, "score": 0, "creation_date": 1475737637, "post_id": 39884333, "comment_id": 67065316, "body": "Have you tried the .Net framework version 4.6.1? There was a major performance improvement with touch devices ."}, {"owner": {"reputation": 7527, "user_id": 5454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/538ac6ed16cac706778b7787b02080bd?s=128&d=identicon&r=PG", "display_name": "soapergem", "link": "https://stackoverflow.com/users/5454/soapergem"}, "reply_to_user": {"reputation": 214, "user_id": 3655645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8135b37d8a543fefeea114ff8d6c3cb2?s=128&d=identicon&r=PG&f=1", "display_name": "lhildebrandt", "link": "https://stackoverflow.com/users/3655645/lhildebrandt"}, "edited": false, "score": 0, "creation_date": 1475845548, "post_id": 39884333, "comment_id": 67119907, "body": "I did just try that upgrade yesterday, and unfortunately it didn&#39;t solve the problem. Thanks for the suggestion though."}], "answers": [{"tags": [], "owner": {"reputation": 7527, "user_id": 5454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/538ac6ed16cac706778b7787b02080bd?s=128&d=identicon&r=PG", "display_name": "soapergem", "link": "https://stackoverflow.com/users/5454/soapergem"}, "is_accepted": true, "score": 0, "last_activity_date": 1475851996, "last_edit_date": 1475851996, "creation_date": 1475851089, "answer_id": 39919882, "question_id": 39884333, "link": "https://stackoverflow.com/questions/39884333/why-are-touch-interactions-slower-than-click-events-in-wpf/39919882#39919882", "title": "Why are touch interactions slower than click events in WPF?", "body": "<p>So today I finally figured it out. I had a global TouchDown event handler registered in my App.xaml.cs file, using this code:</p>\n\n<pre><code>EventManager.RegisterClassHandler(typeof(UIElement), UIElement.TouchDownEvent, new EventHandler&lt;TouchEventArgs&gt;(MyEventHandler));\n</code></pre>\n\n<p>When I comment that line out, everything is perfectly performant 100% of the time. I see that the problem is that it's registered on every <code>UIElement</code>, when really I just want it registered on <code>Window</code>. That seems to have fixed my problem.</p>\n"}], "owner": {"reputation": 7527, "user_id": 5454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/538ac6ed16cac706778b7787b02080bd?s=128&d=identicon&r=PG", "display_name": "soapergem", "link": "https://stackoverflow.com/users/5454/soapergem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 820, "favorite_count": 0, "accepted_answer_id": 39919882, "answer_count": 1, "score": 0, "last_activity_date": 1475851996, "creation_date": 1475704542, "question_id": 39884333, "link": "https://stackoverflow.com/questions/39884333/why-are-touch-interactions-slower-than-click-events-in-wpf", "title": "Why are touch interactions slower than click events in WPF?", "body": "<p>I have an extremely bizarre scenario happening in my WPF application (which is in production). I have a couple of <code>&lt;Button&gt;</code> elements on the screen, which have <code>Click</code> events bound to them in the XAML code-behind. The click handler for the button uses <code>HttpClient</code> to hit a REST endpoint (using <code>await</code>/<code>async</code>), and then update the screen with the data it receives.</p>\n\n<p>This application is running on some cheap Dell tablets, so touch screen is the primary mode of interaction. However for testing purposes I've plugged in a mouse.</p>\n\n<p>When I use the mouse to click the button, the application is highly performant; in other words, it's fast. The REST call completes within 100 to 200 ms.</p>\n\n<p>When I tap on the screen to press the button, which -- believe me -- I have confirmed hits the <em>exact same click handler</em> and performs the <em>exact same code path</em>, it usually isn't performant. Suddenly the <em>exact same</em> REST call takes much longer. Sometimes it takes 2 seconds. Other times it takes 10 seconds. I have no explanation for why this difference is occurring.</p>\n\n<p>When I debug this same application on my Surface Pro 3 (much better hardware than the Dell tablet), I cannot reproduce the problem. But if it was purely a hardware issue I would have to wonder why it can be performant in some cases (using the mouse) but not others (using the touch screen).</p>\n\n<p>I have been struggling to come up with a MVCE because my the slimmed-down offshoots I've tried creating don't seem to have this problem, but I will continue to try and edit this post if I can come up with one.</p>\n\n<p>In the meantime, I'm wondering if anyone else has encountered any similar problem with touch screens. The only theory I have is that something about the WPF touch handler fires things on separate threads or separate contexts or with separate priorities (something like that).</p>\n"}, {"tags": ["c#", "console"], "answers": [{"comments": [{"owner": {"reputation": 65507, "user_id": 436376, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8f455043e5d839da0c6695407b318ad5?s=128&d=identicon&r=PG", "display_name": "KeithS", "link": "https://stackoverflow.com/users/436376/keiths"}, "edited": false, "score": 0, "creation_date": 1475704785, "post_id": 39884336, "comment_id": 67055615, "body": "I was just gonna say, .NET really wasn&#39;t designed for console apps on the level possible with C++ and conio/stdio."}, {"owner": {"reputation": 27, "user_id": 5559720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wX0Vq.jpg?s=128&g=1", "display_name": "Virtuoso", "link": "https://stackoverflow.com/users/5559720/virtuoso"}, "edited": false, "score": 0, "creation_date": 1475705561, "post_id": 39884336, "comment_id": 67055890, "body": "The P/Invoke Solution looks brilliant...it&#39;s a shame I haven&#39;t seen it before...Thanks"}], "tags": [], "owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "is_accepted": true, "score": 1, "last_activity_date": 1475704551, "last_edit_date": 1495535648, "creation_date": 1475704551, "answer_id": 39884336, "question_id": 39884179, "link": "https://stackoverflow.com/questions/39884179/change-console-text-color-in-c-after-writing/39884336#39884336", "title": "Change Console text Color in C# after writing", "body": "<p>You can change the console output color using <code>Console.BackgroundColor</code> and <code>Console.ForegroundColor</code> properties. After you are done writing in the new color, use <code>Console.ResetColor()</code> to go back to defaults.</p>\n\n<p>Changing the colors after the fact is a problem, because C# has no direct way to read text at a given position.You can rewrite it however, if you know what exactly is there, in a different color (first jumping to the location using <code>Console.SetCursorPosition</code> method and then writing over the original text).</p>\n\n<p>If you want to be as efficient as possible, you will need a higher caliber in form of some P/Invoke wizadry. This is quite well described in the accepted answer to <a href=\"https://stackoverflow.com/questions/2754518/how-can-i-write-fast-colored-output-to-console\">this similar question</a>. The solution there takes advantage of writing the entire <code>Console</code> buffer at once, which is very fast.</p>\n"}], "owner": {"reputation": 27, "user_id": 5559720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wX0Vq.jpg?s=128&g=1", "display_name": "Virtuoso", "link": "https://stackoverflow.com/users/5559720/virtuoso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "accepted_answer_id": 39884336, "answer_count": 1, "score": 0, "last_activity_date": 1475704551, "creation_date": 1475703701, "question_id": 39884179, "link": "https://stackoverflow.com/questions/39884179/change-console-text-color-in-c-after-writing", "title": "Change Console text Color in C# after writing", "body": "<p>I have some text printed in my C# console (Lots of it) and I am wondering what would be the simplest way to change the text color all at once without clearing the console and reprinting it in the new color, sort of having the same effect as System(color ##) command in C++...Thanks in advance.</p>\n"}, {"tags": ["c#", "operator-overloading", "implicit-conversion"], "answers": [{"comments": [{"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1475704214, "post_id": 39884235, "comment_id": 67055430, "body": "Can you add an example of how to use the explicit operator to help on this case? Thanks."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1475704279, "post_id": 39884235, "comment_id": 67055457, "body": "@Gusman If there is an implicit conversion from A to B and from B to C then you can write <code>C c = (B)a;</code>, since that only ends up using one implicit user-defined conversion."}, {"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1475704382, "post_id": 39884235, "comment_id": 67055497, "body": "Ok, I understand, I thought you meant to override the explicit operator. Thanks."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1475704465, "post_id": 39884235, "comment_id": 67055520, "body": "@Gusman Defining an implicit conversion operator implicitly allows explicit conversions to be performed using it.  You don&#39;t need to (and in fact, can&#39;t) also define an explicit conversion for the same type conversion."}, {"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1475704723, "post_id": 39884235, "comment_id": 67055600, "body": "Yes, I know, because that I was puzzled :)"}], "tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": true, "score": 3, "last_activity_date": 1475704005, "creation_date": 1475704005, "answer_id": 39884235, "question_id": 39884154, "link": "https://stackoverflow.com/questions/39884154/nested-implicit-operator/39884235#39884235", "title": "Nested implicit operator", "body": "<p>You cannot chain user-defined implicit operators.  If you define an implicit conversion from A to B, and from B to C, there is no implicit conversion from A to C that calls both.  You'll either need to create a separate user-defined conversion from A to C, or have an <em>explicit</em> conversion to do half of the conversion for you.</p>\n"}], "owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 1, "accepted_answer_id": 39884235, "answer_count": 1, "score": 3, "last_activity_date": 1475704005, "creation_date": 1475703609, "question_id": 39884154, "link": "https://stackoverflow.com/questions/39884154/nested-implicit-operator", "title": "Nested implicit operator", "body": "<p>I have a custom class named Optional&lt; T >. This class overrides the implicit operator, something like this:</p>\n\n<pre><code>public static implicit operator Optional&lt;T&gt;(T value)\n{\n    return new Optional&lt;T&gt;(value);\n}\n\npublic static implicit operator T(Optional&lt;T&gt; value)\n{\n    return value.value;\n}\n</code></pre>\n\n<p>Ok, till now all fine, the direct operations like these work:</p>\n\n<pre><code>Optional&lt;int&gt; val = 33; //ok\nint iVal = val; //ok\n</code></pre>\n\n<p>But, this doesn't work:</p>\n\n<pre><code>Optional&lt;Optional&lt;int&gt;&gt; val = 33; //error, cannot convert implicitly\n</code></pre>\n\n<p>So I'm wondering how can be supported the previous case.</p>\n\n<p>Cheers.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 11916, "user_id": 21155, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b2f449ce4b718f9bd1bc040dad34f500?s=128&d=identicon&r=PG", "display_name": "Aheho", "link": "https://stackoverflow.com/users/21155/aheho"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1475703214, "post_id": 39884028, "comment_id": 67055011, "body": "Ok. I&#39;ll reword it."}, {"owner": {"reputation": 11916, "user_id": 21155, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b2f449ce4b718f9bd1bc040dad34f500?s=128&d=identicon&r=PG", "display_name": "Aheho", "link": "https://stackoverflow.com/users/21155/aheho"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 1, "creation_date": 1475703307, "post_id": 39884028, "comment_id": 67055047, "body": "I&#39;m not sure you can determine the ordering by just comparing 2 elements.  Compare Janice and Mark. You won&#39;t know who is first without bringing Sam into the picture"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 5, "creation_date": 1475703561, "post_id": 39884028, "comment_id": 67055153, "body": "It doesn&#39;t even make sense to use a sort in the first place.  Find the root node and follow the chain, like any other graph traversal problem out there.  It&#39;s an O(n) operation, unlike a sort.  Both simpler and faster."}], "answers": [{"comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1475703787, "post_id": 39884178, "comment_id": 67055255, "body": "The requirements aren&#39;t that the &quot;followed by&quot; node be <i>anywhere after</i> it in the sequence, but rather that it <i>immediately follow</i> it, so it is in fact a well-defined sequence that you could (although probably wouldn&#39;t want to) generate via a traditional sorting mechanism."}, {"owner": {"reputation": 11916, "user_id": 21155, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b2f449ce4b718f9bd1bc040dad34f500?s=128&d=identicon&r=PG", "display_name": "Aheho", "link": "https://stackoverflow.com/users/21155/aheho"}, "edited": false, "score": 0, "creation_date": 1475703835, "post_id": 39884178, "comment_id": 67055276, "body": "I&#39;m not worried about performance. The list will generally be less than a dozen items."}, {"owner": {"reputation": 9793, "user_id": 2391169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47b9c6b03a46672d5698ec565319c072?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/2391169/david"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1475703969, "post_id": 39884178, "comment_id": 67055337, "body": "@Servy I&#39;m aware of this, but wouldn&#39;t Quicksort (that used by ,NET) avoid making all possible comparisons (resulting in O(N^2)) and thus not catch all &#39;x-after-y&#39; instances?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1475704125, "post_id": 39884178, "comment_id": 67055400, "body": "@Aravol You can, without <i>too</i> much difficulty, compute the &quot;distance from the root node&quot; for any arbitrary node.  You could then sort on that.  Of course, if you&#39;ve already computed all of those indexes, you&#39;ve already done all of the work needed to create the sequence, so there&#39;s no <i>need</i> to sort on it, but your assertion that it&#39;s not <i>possible</i> to sort it is false, it&#39;s just not going to be particularly <i>productive</i>."}, {"owner": {"reputation": 9793, "user_id": 2391169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47b9c6b03a46672d5698ec565319c072?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/2391169/david"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1475704257, "post_id": 39884178, "comment_id": 67055451, "body": "@Servy hence &quot;make the comparer aware of the entire set&quot; - I admit I misphrased my meaning and shall update accordingly!"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1475704572, "post_id": 39884178, "comment_id": 67055556, "body": "It is your first sentence that is wrong, not the second.  Also, such a comparer could be pretty trivially made to perform well by simply creating a lookup.  It could compare the objects in (amortized) O(1) time."}], "tags": [], "owner": {"reputation": 9793, "user_id": 2391169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47b9c6b03a46672d5698ec565319c072?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/2391169/david"}, "is_accepted": false, "score": 2, "last_activity_date": 1475704484, "last_edit_date": 1475704484, "creation_date": 1475703700, "answer_id": 39884178, "question_id": 39884028, "link": "https://stackoverflow.com/questions/39884028/using-custom-icomparer-to-order-by-pointer-value/39884178#39884178", "title": "Using Custom IComparer to Order by Pointer value", "body": "<p>What you're trying to do isn't strictly sorting, and it won't support certain sort algorithms that rely on comparitive principles like <code>A &gt; B &gt; C =&gt; A &gt; C</code> without making the implementation of <code>IComparer</code> aware of the entire set. Such an <code>IComparer</code> is likely to run much slower than simply sorting using a search.</p>\n\n<p>It seems it would be easier to make this into a helper method (extension method if you want to use linq-like syntax) which used its own mechanics in order to search the set for each <code>FollowedBy</code>/<code>StudentID</code> combo.</p>\n"}, {"tags": [], "owner": {"reputation": 254, "user_id": 6830533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e6abf77fb35759e642175168f05280d?s=128&d=identicon&r=PG&f=1", "display_name": "LittleDebugger", "link": "https://stackoverflow.com/users/6830533/littledebugger"}, "is_accepted": true, "score": 2, "last_activity_date": 1475704293, "creation_date": 1475704293, "answer_id": 39884287, "question_id": 39884028, "link": "https://stackoverflow.com/questions/39884028/using-custom-icomparer-to-order-by-pointer-value/39884287#39884287", "title": "Using Custom IComparer to Order by Pointer value", "body": "<pre><code>    public List&lt;Student&gt; GetOrderedStudents(List&lt;Student&gt; students)\n    {\n        Student[] reverseOrder = new Student[students.Count];\n\n        Student last = students.Single(s =&gt; s.FollowedBy == null);\n\n        reverseOrder[0] = last;\n        Student next = last;\n\n        for (var i = 1; i &lt; students.Count; i++)\n        {\n            next = students.Single(s =&gt; s.FollowedBy == next.StudentID);\n            reverseOrder[i] = next;\n        }\n\n        return reverseOrder.Reverse().ToList();  \n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1475706208, "last_edit_date": 1475706208, "creation_date": 1475704615, "answer_id": 39884352, "question_id": 39884028, "link": "https://stackoverflow.com/questions/39884028/using-custom-icomparer-to-order-by-pointer-value/39884352#39884352", "title": "Using Custom IComparer to Order by Pointer value", "body": "<p>You can find the root and then follow <code>FollowedBy</code>:</p>\n\n<pre><code>  Dictionary&lt;int, Student&gt; dict = lstStudents\n    .ToDictionary(item =&gt; item.StudentID);\n\n  // root\n  Student s = dict[lstStudents\n    .Select(item =&gt; item.StudentID)\n    .Except(lstStudents\n       .Where(item =&gt; item.FollowedBy.HasValue)\n       .Select(item =&gt; item.FollowedBy.Value))\n    .First()];\n\n  for (; s != null; s = s.FollowedBy == null? null : dict[s.FollowedBy.Value]) {\n    Console.WriteLine(s.Name);\n  }\n</code></pre>\n"}], "owner": {"reputation": 11916, "user_id": 21155, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b2f449ce4b718f9bd1bc040dad34f500?s=128&d=identicon&r=PG", "display_name": "Aheho", "link": "https://stackoverflow.com/users/21155/aheho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 39884287, "answer_count": 3, "score": 0, "last_activity_date": 1475706208, "creation_date": 1475703059, "last_edit_date": 1475703266, "question_id": 39884028, "link": "https://stackoverflow.com/questions/39884028/using-custom-icomparer-to-order-by-pointer-value", "title": "Using Custom IComparer to Order by Pointer value", "body": "<p>I have a class that defines a student, and has a property (FollowedBy) that is immediately behind that student. I am looking for a way to order the students based on this linkage.</p>\n\n<pre><code>class Student\n{\n     public int StudentID { get; set; }   \n     public string Name { get; set; }\n     public int? FollowedBy { get; set; }\n}\n\nvar lstStudents = new List&lt;Student&gt;()\n{ new Student() { StudentID = 2, Name = \"Mark\", FollowedBy =4 },\n new Student() { StudentID = 1, Name = \"Sam\", FollowedBy = 2},\n new Student() { StudentID = 4, Name = \"Fred\", FollowedBy =null } ,\n new Student() { StudentID = 3, Name = \"Janice\", FollowedBy = 1}};\n\n  for (var s in     lstStudents.OrderBy(x =&gt; ????))\n  {\n         console.Write(s.Name);\n  }\n\n // The output I'm looking for\n //  Janice\n //  Sam\n //  Mark\n //  Fred\n</code></pre>\n"}, {"tags": ["c#", "wpf", "string", "xaml", "code-behind"], "comments": [{"owner": {"reputation": 1178, "user_id": 1020882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc73fb7544cbec21d74cb514075af12d?s=128&d=identicon&r=PG", "display_name": "CShark", "link": "https://stackoverflow.com/users/1020882/cshark"}, "edited": false, "score": 0, "creation_date": 1475703103, "post_id": 39883968, "comment_id": 67054956, "body": "Have you tried txtName.Text = EmpName? Currently you are changing the whole textbox control, not only the text in it. To Read the data from the gui to your code simply swap those two to get EmpName = txtName.Text. Probably you should look up how assignments and Properties work in C#, that could help your understanding."}, {"owner": {"reputation": 31, "user_id": 6850469, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/263fe6ad009fd2d3bec70533a9443d62?s=128&d=identicon&r=PG&f=1", "display_name": "helpkelp", "link": "https://stackoverflow.com/users/6850469/helpkelp"}, "reply_to_user": {"reputation": 1178, "user_id": 1020882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc73fb7544cbec21d74cb514075af12d?s=128&d=identicon&r=PG", "display_name": "CShark", "link": "https://stackoverflow.com/users/1020882/cshark"}, "edited": false, "score": 0, "creation_date": 1475703691, "post_id": 39883968, "comment_id": 67055216, "body": "Ah, so it had to be reversed. So simple! Thank you so much!"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1475705087, "post_id": 39883968, "comment_id": 67055723, "body": "Or, just bind the textbox to the property you want to use. You may wish to look for &quot;MVVM in WPF&quot; once you get the basics of assignments and properties."}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 3721526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e6897441642d4a6ea889c7188895ca0?s=128&d=identicon&r=PG&f=1", "display_name": "PhysXCoder", "link": "https://stackoverflow.com/users/3721526/physxcoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1475703774, "creation_date": 1475703774, "answer_id": 39884193, "question_id": 39883968, "link": "https://stackoverflow.com/questions/39883968/how-to-store-user-text-input-in-code-behind-from-xaml-wpf-textbox/39884193#39884193", "title": "How to Store User Text Input in Code-Behind From XAML WPF TextBox", "body": "<p>As CShark wrote, you should do some research about <a href=\"https://www.tutorialspoint.com/csharp/csharp_assignment_operators.htm\" rel=\"nofollow\">assignments</a> and other basic language usage as well. Here is the click event handler:</p>\n\n<pre><code>private void button_Click(object sender, RoutedEventArgs e)\n{\n    EmpName = txtName.Text;             // Use the Text property to get the (string) value of the entered text.\n    EmpID = txtID.Text;                 // The left hand side of the assignment operator gets assigned the right hand side expression.\n    EmpAge = txtAge.Text;               \n    EmpPosition = txtPosition.Text;\n}\n</code></pre>\n\n<p>Please note that a lot of other controls store their value in the Property Content (e.g. Label)</p>\n"}], "owner": {"reputation": 31, "user_id": 6850469, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/263fe6ad009fd2d3bec70533a9443d62?s=128&d=identicon&r=PG&f=1", "display_name": "helpkelp", "link": "https://stackoverflow.com/users/6850469/helpkelp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1794, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475703774, "creation_date": 1475702811, "question_id": 39883968, "link": "https://stackoverflow.com/questions/39883968/how-to-store-user-text-input-in-code-behind-from-xaml-wpf-textbox", "title": "How to Store User Text Input in Code-Behind From XAML WPF TextBox", "body": "<p>my question is fairly simple.</p>\n\n<p>As the title states, I would like to know how to store user text entered into a WPF TextBox from XAML as a string element within the code-behind. The concept is that the user enters the text a TextBox, then, upon clicking the \"Finished\" button, the values in that TextBox are stored in the code-behind as string elements (which may be entered into an array).</p>\n\n<hr>\n\n<p>XAML</p>\n\n<pre><code>&lt;Window x:Class = \"WpfApplication3.MainWindow\" \nxmlns = \"http://schemas.microsoft.com/winfx/2006/xaml/presentation\" \nxmlns:x = \"http://schemas.microsoft.com/winfx/2006/xaml\" \nxmlns:d = \"http://schemas.microsoft.com/expression/blend/2008\" \nxmlns:mc = \"http://schemas.openxmlformats.org/markup-compatibility/2006\" \nxmlns:local = \"clr-namespace:WpfApplication3\" \nmc:Ignorable = \"d\" Title = \"MainWindow\" Height = \"350\" Width = \"604\"&gt;\n&lt;Grid Background = \"White\" Margin=\"0,4,0,-4\"&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition Height = \"*\" /&gt;\n        &lt;RowDefinition Height = \"*\" /&gt;\n        &lt;RowDefinition Height = \"*\" /&gt;\n        &lt;RowDefinition Height = \"*\" /&gt;\n        &lt;RowDefinition Height = \"*\" /&gt;\n    &lt;/Grid.RowDefinitions&gt;\n\n    &lt;Grid.ColumnDefinitions&gt;\n        &lt;ColumnDefinition Width = \"*\" /&gt;\n    &lt;/Grid.ColumnDefinitions&gt;\n\n    &lt;Label Content = \"Employee Info\" FontSize = \"15\"\n     FontWeight = \"Bold\" Grid.Column = \"0\" Grid.Row = \"0\"/&gt;\n\n    &lt;StackPanel Grid.Column = \"0\" Orientation = \"Horizontal\" Margin=\"0,38,0,26\" Grid.RowSpan=\"2\"&gt;\n        &lt;Label Content = \"Name\"  VerticalAlignment = \"Center\" Width = \"70\"/&gt;\n        &lt;TextBox Name = \"txtName\" Text = \"Muhammad Ali\" VerticalAlignment = \"Center\"\n        Width = \"200\"&gt;\n        &lt;/TextBox&gt;\n    &lt;/StackPanel&gt;\n\n    &lt;StackPanel Grid.Column = \"0\" Grid.Row = \"1\" Orientation = \"Horizontal\" Margin=\"0,2,0,62\" Grid.RowSpan=\"2\"&gt;\n        &lt;Label Content = \"ID\" VerticalAlignment = \"Center\" Width = \"70\"/&gt;\n        &lt;TextBox Name = \"txtID\" Text = \"421\" VerticalAlignment = \"Center\"\n        Width = \"50\"&gt;\n        &lt;/TextBox&gt;\n    &lt;/StackPanel&gt;\n\n    &lt;StackPanel Grid.Column = \"0\" Grid.Row = \"1\" Orientation = \"Horizontal\" Margin=\"0,32\" Grid.RowSpan=\"2\"&gt;\n        &lt;Label Content = \"Age\" VerticalAlignment = \"Center\" Width = \"70\"/&gt;\n        &lt;TextBox Name = \"txtAge\" Text = \"32\" VerticalAlignment = \"Center\"\n        Width = \"50\"&gt;&lt;/TextBox&gt;\n    &lt;/StackPanel&gt;\n\n    &lt;StackPanel Grid.Column = \"0\" Grid.Row = \"1\" Orientation = \"Horizontal\" Margin=\"0,61,0,4\" Grid.RowSpan=\"2\"&gt;\n        &lt;Label Content = \"Position\" VerticalAlignment = \"Center\" Width = \"70\"/&gt;\n        &lt;TextBox Name = \"txtPosition\" Text = \"Programmer\" VerticalAlignment = \"Center\"\n        Width = \"200\"&gt;&lt;/TextBox&gt;\n\n    &lt;/StackPanel&gt;\n    &lt;Button Click =\"Button_Click\" x:Name=\"button\" Content=\"Finished\" HorizontalAlignment=\"Left\" Margin=\"172,21,0,0\" Grid.Row=\"4\" VerticalAlignment=\"Top\" Width=\"237\"/&gt;\n\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n\n<p>CODE-BEHIND</p>\n\n<pre><code>namespace WpfApplication3\n{\n    public partial class MainWindow : Window\n\n\n    string EmpName = \"blank\";\n    string EmpID = \"blank\";\n    string EmpAge = \"blank\";\n    string EmpPosition = \"blank\";\n\n    public MainWindow()\n    {\n        InitializeComponent();\n    }\n\n    private void Button_Click(object sender, RoutedEventArgs e)\n    {\n        txtName = EmpName;   //Here's where I attempt to store the TextBox Information\n        txtID = EmpID;\n        txtAge = EmpAge;\n        txtPosition = EmpPosition;\n    }\n\n\n  }\n}\n</code></pre>\n\n<p>Thanks for taking a look!</p>\n"}, {"tags": ["c#", "excel", "pivot-table", "excel-interop"], "answers": [{"tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": true, "score": 2, "last_activity_date": 1476142623, "creation_date": 1476142623, "answer_id": 39968355, "question_id": 39883962, "link": "https://stackoverflow.com/questions/39883962/why-does-this-attempt-to-create-a-pivottable-excel-interop-fail/39968355#39968355", "title": "Why does this attempt to create a PivotTable (Excel Interop) fail?", "body": "<p>Without seeing the specifics of your workbook, it's hard to diagnose some of the issues you list.  The basic means of generating a pivot table would be this:</p>\n\n<pre><code>Range sourceData = _xlBook.Worksheets[\"Produce Usage by Month\"].Range[\"A6:F94\"];\n\nPivotCache pc = pch.Create(XlPivotTableSourceType.xlDatabase, sourceData);\nPivotTable pvt = pc.CreatePivotTable(sheet2.Range[\"A1\"], \"SummaryPivot\");\n\npvt.PivotFields(\"Col1\").Orientation = XlPivotFieldOrientation.xlRowField;\npvt.PivotFields(\"Col2\").Orientation = XlPivotFieldOrientation.xlColumnField;\npvt.AddDataField(pvt.PivotFields(\"Col3\"), \"Sum of Col3\", XlConsolidationFunction.xlSum);\n</code></pre>\n\n<p>It looks like your code is not being really explicit about some of the objects.  For example <code>Produce Usage by Month!A6:F94</code> means something to Excel (and is probably interpreted by VBA), but I think the interop libraries need more explicit declaration of objects.  In strong typed, this would be what I listed for the <code>sourceData</code> object.  <code>sheet2</code> is therefore an <code>Excel.Worksheet</code> object.</p>\n\n<p>Regarding some of the warnings, such as overwrite warnings, if you change the <code>DisplayAlerts</code> property of the Excel application object to false, it will take care of many of these.</p>\n"}], "owner": {"reputation": 525, "user_id": 875317, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/tQ8Th.jpg?s=128&g=1", "display_name": "B. Clay Shannon", "link": "https://stackoverflow.com/users/875317/b-clay-shannon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1287, "favorite_count": 0, "accepted_answer_id": 39968355, "answer_count": 1, "score": 2, "last_activity_date": 1476142623, "creation_date": 1475702795, "last_edit_date": 1495541789, "question_id": 39883962, "link": "https://stackoverflow.com/questions/39883962/why-does-this-attempt-to-create-a-pivottable-excel-interop-fail", "title": "Why does this attempt to create a PivotTable (Excel Interop) fail?", "body": "<p>Based on code I found <a href=\"https://stackoverflow.com/questions/25460922/how-to-add-an-excel-listobject-to-a-given-worksheet-in-c\">here</a>, I'm trying to create a Pivot Table like so:</p>\n\n<pre><code>var range = _xlSheet.Range[_xlSheet.Cells[6, 1],\n                           _xlSheet.Cells[6, _grandTotalsColumn]];\nListObject tbl = WriteToExcelTable(_xlSheet, \"tbl\", \"A6\");\nvar pch = _xlBook.PivotCaches();\n\npch.Add(XlPivotTableSourceType.xlDatabase, \"Produce Usage by Month!A6:F94\")\n    .CreatePivotTable(tbl, \"PivTab1\", Type.Missing, Type.Missing);\n. . .\n\npublic ListObject WriteToExcelTable(Worksheet WSheet, string TableName, string CellStr = \"A1\", bool ClearSheetContent = false)\n{\n    Range range;\n\n    if (ClearSheetContent)\n        WSheet.Cells.ClearContents();  // clear sheet content\n\n    // get upper left corner of range defined by CellStr\n    range = (Range)WSheet.get_Range(CellStr).Cells[1, 1];   \n\n    // Write table to range [ - don't have the helperfunc code commented this out ]\n    //HelperFunc.WriteTableToExcelSheet(WSheet, this._tbl, range.Address);\n\n    // derive range for table, +1 row for table header\n    // [doesn't compile, so commented out] rang\n    //range.get_Resize(this.RowCount + 1, this.ColumnCount);\n    range = range.get_Resize(102, 5); // faking it to see what happens\n\n    // add ListObject to sheet\n    ListObject tbl = WSheet.ListObjects.AddEx(\n        XlListObjectSourceType.xlSrcRange,\n        range,\n        XlListObjectHasHeaders: XlYesNoGuess.xlYes);\n\n    // set name of excel table\n    tbl.Name = TableName;\n\n    // return excel table (ListObject)\n    return tbl;\n}\n</code></pre>\n\n<p>...but it crashes on this line:</p>\n\n<pre><code>pch.Add(XlPivotTableSourceType.xlDatabase, \"Produce Usage by Month!A6:F94\")\n                .CreatePivotTable(tbl, \"PivTab1\", Type.Missing,   \nType.Missing);\n</code></pre>\n\n<p>...with:</p>\n\n<pre><code>System.ArgumentException was caught\n  HResult=-2147024809\n  Message=The parameter is incorrect. (Exception from HRESULT: 0x80070057 (E_INVALIDARG))\n  Source=\"\"\n  StackTrace:\n       at System.RuntimeType.ForwardCallToInvokeMember(String memberName, BindingFlags flags, Object target, Int32[] aWrapperTypes, MessageData&amp; msgData)\n       at Microsoft.Office.Interop.Excel.PivotCache.CreatePivotTable(Object TableDestination, Object TableName, Object ReadData, Object DefaultVersion)\n       at ReportRunner.ProduceUsage.ProduceUsageRpt.AddPivotTable() in c:\\Projects\\ReportRunner\\ReportRunner\\ProduceUsage\\ProduceUsageRpt.cs:line 3312\n       at ReportRunner.ProduceUsage.ProduceUsageRpt.GenerateProduceUsageRpt() in c:\\Projects\\ReportRunner\\ReportRunner\\ProduceUsage\\ProduceUsageRpt.cs:line 180\n  InnerException:\n</code></pre>\n\n<p>What is wrong with my approach? Note that I had to comment out two lines from the borrowed method (WriteToExcelTable()) because they wouldn't compile for me.</p>\n\n<h2>UPDATE</h2>\n\n<p>I also tried this alternative:</p>\n\n<pre><code>private void AddPivotTable()\n{\n    int rowIdx = 42; // try 42 for now; adjust as/if necessary\n    var pch = _xlBook.PivotCaches();\n    pch.Add(XlPivotTableSourceType.xlDatabase, \"PivotData!A6:D\" + rowIdx)\n        .CreatePivotTable(_xlSheet.Cells[6, 1], \"PivTab1\", Type.Missing, Type.Missing);\n    . . .\n</code></pre>\n\n<p>...which crashed on the last line shown with:</p>\n\n<pre><code>System.Runtime.InteropServices.COMException was caught\n  HelpLink=C:\\Program Files (x86)\\Microsoft Office\\Office12\\1033\\XLMAIN11.CHM\n  HResult=-2146827284\n  Message=Cannot open PivotTable source file 'C:\\Users\\cshannon\\Documents\\PivotData'.\n  Source=Microsoft Office Excel\n  ErrorCode=-2146827284\n  StackTrace:\n       at System.Dynamic.ComRuntimeHelpers.CheckThrowException(Int32 hresult, ExcepInfo&amp; excepInfo, UInt32 argErr, String message)\n       at CallSite.Target(Closure , CallSite , ComObject , Object , String , Object , Object )\n       at System.Dynamic.UpdateDelegates.UpdateAndExecute5[T0,T1,T2,T3,T4,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4)\n       at CallSite.Target(Closure , CallSite , PivotCache , Object , String , Object , Object )\n       at System.Dynamic.UpdateDelegates.UpdateAndExecuteVoid5[T0,T1,T2,T3,T4](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4)\n       at ReportRunner.ProduceUsage.ProduceUsageRpt.AddPivotTable() in c:\\Projects\\ReportRunner\\ReportRunner\\ProduceUsage\\ProduceUsageRpt.cs:line 3172\n       at ReportRunner.ProduceUsage.ProduceUsageRpt.GenerateProduceUsageRpt() in c:\\Projects\\ReportRunner\\ReportRunner\\ProduceUsage\\ProduceUsageRpt.cs:line 180\n  InnerException:\n</code></pre>\n\n<h2>UPDATE 2</h2>\n\n<p>Even after removing the \"PivotData!\", which apparently refers to a file named that from which to read data, so that the line is now:</p>\n\n<pre><code>pch.Add(XlPivotTableSourceType.xlDatabase, \"A6:D\" + rowIdx)\n</code></pre>\n\n<p>...it still crashes, now with:</p>\n\n<pre><code>System.Runtime.InteropServices.COMException was caught\n  HelpLink=C:\\Program Files (x86)\\Microsoft Office\\Office12\\1033\\XLMAIN11.CHM\n  HResult=-2146827284\n  Message=Cannot change part of a merged cell.\n  Source=Microsoft Office Excel\n  ErrorCode=-2146827284\n  StackTrace:\n       at System.Dynamic.ComRuntimeHelpers.CheckThrowException(Int32 hresult, ExcepInfo&amp; excepInfo, UInt32 argErr, String message)\n       at CallSite.Target(Closure , CallSite , ComObject , Object , String , Object , Object )\n       at System.Dynamic.UpdateDelegates.UpdateAndExecute5[T0,T1,T2,T3,T4,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4)\n       at CallSite.Target(Closure , CallSite , PivotCache , Object , String , Object , Object )\n       at System.Dynamic.UpdateDelegates.UpdateAndExecuteVoid5[T0,T1,T2,T3,T4](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4)\n       at ReportRunner.ProduceUsage.ProduceUsageRpt.AddPivotTable() in c:\\Projects\\ReportRunner\\ReportRunner\\ProduceUsage\\ProduceUsageRpt.cs:line 3174\n       at ReportRunner.ProduceUsage.ProduceUsageRpt.GenerateProduceUsageRpt() in c:\\Projects\\ReportRunner\\ReportRunner\\ProduceUsage\\ProduceUsageRpt.cs:line 180\n  InnerException:\n</code></pre>\n\n<h2>UPDATE 3</h2>\n\n<p>Because the exception refers to problems with merged cells, I added this:</p>\n\n<pre><code>var pivotData = _xlSheet.Range[\"A6:D42\"];\npivotData.UnMerge();\n</code></pre>\n\n<p>...but it still fails (now with \"<em>PivotFields method of PivotTable class failed Exception Source: Microsoft Office Excel\nException StackTrace:    at System.RuntimeType.ForwardCallToInvokeMember(String memberName, BindingFlags flags, Object target, Int32[] aWrapperTypes, MessageData&amp; msgData)</em>\").</p>\n\n<p><strong>NOTE:</strong> I get \"<em>Do you want to replace the contents of the destination cells in [Book3]Produce Usage by Month?</em>\" (twice) before it fails</p>\n"}, {"tags": ["c#", "wpf", "asynchronous", "async-await"], "comments": [{"owner": {"reputation": 2141, "user_id": 2029607, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/721e7dc1d51f729a9e59f50ed9094d6c?s=128&d=identicon&r=PG", "display_name": "XAMlMAX", "link": "https://stackoverflow.com/users/2029607/xamlmax"}, "edited": false, "score": 0, "creation_date": 1475702527, "post_id": 39883826, "comment_id": 67054707, "body": "Have you tried using <code>ThreadPool</code> instead of await? The trouble is then that if you are manipulating any UI elements in that longRunningTask you need to use dispatcher, <a href=\"http://stackoverflow.com/a/37483878/2029607\">Here</a> is how you can use it in your code."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 2141, "user_id": 2029607, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/721e7dc1d51f729a9e59f50ed9094d6c?s=128&d=identicon&r=PG", "display_name": "XAMlMAX", "link": "https://stackoverflow.com/users/2029607/xamlmax"}, "edited": false, "score": 0, "creation_date": 1475702762, "post_id": 39883826, "comment_id": 67054808, "body": "@XAMlMAX He <i>is</i> using the thread pool.  <code>Task.Run</code> schedules the work in a thread pool thread."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1475702790, "post_id": 39883826, "comment_id": 67054814, "body": "Without seeing <code>LongRunningFunction</code> there&#39;s no way to know why the code isn&#39;t working.  Clearly it&#39;s doing <i>something</i> it shouldn&#39;t, but we have no way of knowing what."}, {"owner": {"reputation": 947, "user_id": 1339913, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3b232ded18286d194172394f3e70c033?s=128&d=identicon&r=PG", "display_name": "user1339913", "link": "https://stackoverflow.com/users/1339913/user1339913"}, "edited": false, "score": 0, "creation_date": 1475704326, "post_id": 39883826, "comment_id": 67055475, "body": "The function does not update the UI instead it only returns a bool"}, {"owner": {"reputation": 2141, "user_id": 2029607, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/721e7dc1d51f729a9e59f50ed9094d6c?s=128&d=identicon&r=PG", "display_name": "XAMlMAX", "link": "https://stackoverflow.com/users/2029607/xamlmax"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1475746917, "post_id": 39883826, "comment_id": 67071141, "body": "Ah thanks @Servy I never used <code>Task.Run</code> before. would it be because op is using <code>async</code> and <code>await</code>? It looks to me like the compiler is optimizing the code because of that making the whole body as a separate thread task. If you put a break point on <code>InEnabled = true</code> which thread you&#39;re in?"}, {"owner": {"reputation": 947, "user_id": 1339913, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3b232ded18286d194172394f3e70c033?s=128&d=identicon&r=PG", "display_name": "user1339913", "link": "https://stackoverflow.com/users/1339913/user1339913"}, "edited": false, "score": 0, "creation_date": 1475749894, "post_id": 39883826, "comment_id": 67073022, "body": "It seems to be on the same thread. Can you give me an example using Threads instead as you suggested"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1475759254, "post_id": 39883826, "comment_id": 67079363, "body": "@user1339913 You&#39;ve just shown a method that does literally nothing but call <i>another</i> thread.  You need to provide enough code to reproduce your issue.  You haven&#39;t.  You also don&#39;t want to be using threads explicitly, you just need to be using the tools that you have properly."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 2141, "user_id": 2029607, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/721e7dc1d51f729a9e59f50ed9094d6c?s=128&d=identicon&r=PG", "display_name": "XAMlMAX", "link": "https://stackoverflow.com/users/2029607/xamlmax"}, "edited": false, "score": 0, "creation_date": 1475759400, "post_id": 39883826, "comment_id": 67079477, "body": "@XAMlMAX Such an &quot;optimization&quot; wouldn&#39;t be a legal refactor, so no, it can&#39;t do that.  Your suggestion that the entire TPL and a core language feature must be broken, rather than the OP simply doing something that he shouldn&#39;t, is not a reasonable assumption to make given that the OP isn&#39;t even showing a complete example."}, {"owner": {"reputation": 2141, "user_id": 2029607, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/721e7dc1d51f729a9e59f50ed9094d6c?s=128&d=identicon&r=PG", "display_name": "XAMlMAX", "link": "https://stackoverflow.com/users/2029607/xamlmax"}, "edited": false, "score": 0, "creation_date": 1476285650, "post_id": 39883826, "comment_id": 67282409, "body": "@user1339913 have you had any luck with this?"}], "answers": [{"tags": [], "owner": {"reputation": 2141, "user_id": 2029607, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/721e7dc1d51f729a9e59f50ed9094d6c?s=128&d=identicon&r=PG", "display_name": "XAMlMAX", "link": "https://stackoverflow.com/users/2029607/xamlmax"}, "is_accepted": false, "score": 0, "last_activity_date": 1475876312, "last_edit_date": 1475876312, "creation_date": 1475875643, "answer_id": 39926050, "question_id": 39883826, "link": "https://stackoverflow.com/questions/39883826/custom-busy-overlay-on-wpf-wizardcontrol-using-async-await/39926050#39926050", "title": "Custom Busy overlay on WPF WizardControl using async await", "body": "<p>This is the way I tackled the problem with asynchronous calls.<br>\n<strong>Context:</strong><br>\nHere I am using <code>MvvM</code> to show you good practice when working with <code>WPF</code>  </p>\n\n<pre><code>using System.Threading;\nusing System.Threading.Tasks;\nusing System.Windows.Data;\nusing System.Windows.Input;\nusing System.Windows.Threading;\nclass VM\n    {\n        Dispatcher _dispatcher = Dispatcher.CurrentDispatcher;\n        //Time consuming operation\n        private void LongTask()\n        {\n            Thread.Sleep(5000);\n            //in here if you need to send something to the UI thread like an event use it like so:\n            _dispatcher.Invoke(new Action(() =&gt;\n            {\n                //some code here to invoke an event\n                if (ComponentsLoaded != null)\n                    ComponentsLoaded(this, new EventArgs { });\n            }));\n        }\n\n        private ICommand _command;\n        //This is the command to be used instead of click event handler\n        public ICommand Command\n        {\n            get { return _command; }\n            private set { _command = value; }\n        }\n        //method associated with ICommand\n        void commandMethod(object parameter)\n        {\n            Busy = true;\n            ThreadPool.QueueUserWorkItem(new WaitCallback(multiThreadTask));\n            Busy = false;\n        }\n        //the task to be started on another thread\n        void multiThreadTask(object parameter)\n        {\n            LongTask();\n        }\n\n        public event EventHandler ComponentsLoaded;\n    }  \n</code></pre>\n\n<p>This is what I use when working with multiple threads in WPF.<br>\nYou can still use this in the code-behind just instantiate the <code>Dispatcher</code> and you're good to go.<br>\nIf you need any more info just let us know. HTH</p>\n"}], "owner": {"reputation": 947, "user_id": 1339913, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3b232ded18286d194172394f3e70c033?s=128&d=identicon&r=PG", "display_name": "user1339913", "link": "https://stackoverflow.com/users/1339913/user1339913"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 483, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1475876312, "creation_date": 1475702251, "last_edit_date": 1475749933, "question_id": 39883826, "link": "https://stackoverflow.com/questions/39883826/custom-busy-overlay-on-wpf-wizardcontrol-using-async-await", "title": "Custom Busy overlay on WPF WizardControl using async await", "body": "<p>I need load a overlay on a WPF wizardcontrol. I am using a busyIndicator tool from the wpf extended tooklit.</p>\n\n<p>The code for async await works but the gui thread locks . I am trying add a please wait message when the await calls the function</p>\n\n<pre><code>private async void Button1_Click(object sender, RoutedEventArgs e)\n        {\n         BusyIndicator.IsBusy = true;\n         BusyIndicator.IsEnabled = true;\n         BusyIndicator.BusyContent = \"Please wait while Site is provisioned\";\n\n                            await Task.Run(() =&gt;\n                           {\n                              LongRunningFunction();\n                           });\n\n         BusyIndicator.IsBusy=false;\n        }\n</code></pre>\n\n<p>The XAML for the BusyIndicator is as below.</p>\n\n<pre><code>&lt;xctk:BusyIndicator x:Name=\"BusyIndicator\" IsBusy=\"False\"  BusyContent=\"Please Wait\"&gt;\n\n&lt;/xctk:BusyIndicator&gt;\n</code></pre>\n\n<p>The LonRunningFunction is a Webservice call which does not update the UI only returns a Bool  value</p>\n\n<pre><code>public static bool LongRunningFunction(string URL)\n        {\n\n            bool IsPresent = CallWebservice()\n           return IsPresent;\n        }\n</code></pre>\n\n<p>Issue</p>\n\n<p>1)  The BusyIndicator does not seem to fire before the async call instead it seems to be fire when the LongRunning task completes</p>\n\n<p>2) What is the correct  process to call a gui overlay when async and await is used. </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 2, "creation_date": 1475702305, "post_id": 39883803, "comment_id": 67054600, "body": "If a method is static, there is no data to share (there is no <code>this</code>)."}, {"owner": {"reputation": 160, "user_id": 6845125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A2aBs.jpg?s=128&g=1", "display_name": "Dan-Cook", "link": "https://stackoverflow.com/users/6845125/dan-cook"}, "edited": false, "score": 0, "creation_date": 1475702568, "post_id": 39883803, "comment_id": 67054723, "body": "Try searching through the new documentation (<a href=\"http://stackoverflow.com/documentation/c%23/topics\">stackoverflow.com/documentation/c%23/topics</a>) to see if this can narrow you down to a more specific question."}, {"owner": {"reputation": 6023, "user_id": 2417459, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QcuXb.png?s=128&g=1", "display_name": "i486", "link": "https://stackoverflow.com/users/2417459/i486"}, "edited": false, "score": 1, "creation_date": 1475702655, "post_id": 39883803, "comment_id": 67054759, "body": "It can be static but not obligatory. It depends on calling places - if they will be in other classes, then make it static."}, {"owner": {"reputation": 65507, "user_id": 436376, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8f455043e5d839da0c6695407b318ad5?s=128&d=identicon&r=PG", "display_name": "KeithS", "link": "https://stackoverflow.com/users/436376/keiths"}, "edited": false, "score": 0, "creation_date": 1475702945, "post_id": 39883803, "comment_id": 67054887, "body": "If you have a class containing only &quot;pure functions&quot;, which work based only on passed parameters and no &quot;hidden state&quot; in the class or anywhere else, then static is a good idea but not a requirement. Static methods are slightly faster at runtime, and don&#39;t require instantiating an instance of your class (which will use a little extra memory even if there are no instance members)."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 6023, "user_id": 2417459, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QcuXb.png?s=128&g=1", "display_name": "i486", "link": "https://stackoverflow.com/users/2417459/i486"}, "edited": false, "score": 0, "creation_date": 1475703001, "post_id": 39883803, "comment_id": 67054921, "body": "@i486 Whether or not something is static has nothing to do with what calls it, but rather whether or not the operation&#39;s a) has state and b) whether the scope of that state ought to be per instance.  That has nothing to do with where the code is called from."}, {"owner": {"reputation": 6023, "user_id": 2417459, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QcuXb.png?s=128&g=1", "display_name": "i486", "link": "https://stackoverflow.com/users/2417459/i486"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1475703278, "post_id": 39883803, "comment_id": 67055032, "body": "@Servy Public static <i>method</i> (not object) can be called from any class (method) without need of corresponding object. It is like global method."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 6023, "user_id": 2417459, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QcuXb.png?s=128&g=1", "display_name": "i486", "link": "https://stackoverflow.com/users/2417459/i486"}, "edited": false, "score": 0, "creation_date": 1475703405, "post_id": 39883803, "comment_id": 67055093, "body": "@i486 Yes, and a public instance method can <i>also</i> be called from any class, so whether the method is static or not has nothing to do with were it is called from (the accessibility is what cares about that) but rather whether the method depends on state of a given instance.  If the method needs to access state of an instance, it needs to be an instance method, if it doesn&#39;t (and doesn&#39;t need to leverage virtual dispatch), it&#39;s conceptually static."}, {"owner": {"reputation": 477, "user_id": 3726796, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4a13b05aaf7482ce2023401ac8708911?s=128&d=identicon&r=PG&f=1", "display_name": "CerIs", "link": "https://stackoverflow.com/users/3726796/ceris"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1475703478, "post_id": 39883803, "comment_id": 67055127, "body": "@Servy can you expand on &quot;state of an instance&quot;?"}], "owner": {"reputation": 477, "user_id": 3726796, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4a13b05aaf7482ce2023401ac8708911?s=128&d=identicon&r=PG&f=1", "display_name": "CerIs", "link": "https://stackoverflow.com/users/3726796/ceris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "closed_date": 1475702547, "answer_count": 0, "score": 0, "last_activity_date": 1475702494, "creation_date": 1475702165, "last_edit_date": 1475702494, "question_id": 39883803, "link": "https://stackoverflow.com/questions/39883803/static-methods-class-vs-non-static", "closed_reason": "Duplicate", "title": "Static methods/class vs non static", "body": "<p>Im having difficulty with static methods vs non static, I think I understand the concepts but not when or why I would each. So far I have</p>\n\n<p>If the class has properties and I want to store data as a type I need to make an new instance.</p>\n\n<p>Static methods are shared in some way across the program as a whole but does this mean there is a danger of data being shared?</p>\n\n<p>If I have a method that preforms actions only on the data passed in and returns it, it should be static right</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6", "asp.net-core", "entity-framework-migrations"], "answers": [{"comments": [{"owner": {"reputation": 9606, "user_id": 254257, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/cc352d092caa8e1d41aa7b42b4b2f0c0?s=128&d=identicon&r=PG", "display_name": "SventoryMang", "link": "https://stackoverflow.com/users/254257/sventorymang"}, "edited": false, "score": 1, "creation_date": 1475773575, "post_id": 39884598, "comment_id": 67089084, "body": "It does, that&#39;s not it."}], "tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": false, "score": 0, "last_activity_date": 1475705990, "creation_date": 1475705990, "answer_id": 39884598, "question_id": 39883797, "link": "https://stackoverflow.com/questions/39883797/cant-run-ef-migration-where-dbcontext-connection-string-is-set-at-runtime-and-s/39884598#39884598", "title": "Can&#39;t run EF migration where DbContext connection string is set at runtime and separate project from application", "body": "<p>Ensure <strong>MyWebApp</strong> has a web.config with a connection string named <code>MyConnectionString</code>. </p>\n\n<pre><code>Enable-Migrations \n    -ProjectName \"ClassLibraryProject\" \n    -ContextTypeName \"MyDbContext\" \n    -StartUpProjectName \"MyWebApp\" \n    -ConnectionString \"MyConnectionString\" \n    -ConnectionProviderName \"System.Data.SqlClient\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9606, "user_id": 254257, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/cc352d092caa8e1d41aa7b42b4b2f0c0?s=128&d=identicon&r=PG", "display_name": "SventoryMang", "link": "https://stackoverflow.com/users/254257/sventorymang"}, "is_accepted": true, "score": 4, "last_activity_date": 1475775370, "creation_date": 1475775370, "answer_id": 39902348, "question_id": 39883797, "link": "https://stackoverflow.com/questions/39883797/cant-run-ef-migration-where-dbcontext-connection-string-is-set-at-runtime-and-s/39902348#39902348", "title": "Can&#39;t run EF migration where DbContext connection string is set at runtime and separate project from application", "body": "<p>Okay, so after much looking, you can't do this by default. No tooling for class libraries since January at all, which seems horrible to me. And no tooling as the link I posted mentions for a .NET CORE class library targeted at 461 using EF6, because EF6 tools do not recognize project.json dependency format.</p>\n\n<p>However, blessed be, a gentleman by the name of Mohammad Rahhal created such a library to accomplish this: <a href=\"https://github.com/mrahhal/Migrator.EF6/blob/master/README.md\" rel=\"nofollow\">https://github.com/mrahhal/Migrator.EF6/blob/master/README.md</a></p>\n\n<p>And using the information described in this issue: <a href=\"https://github.com/mrahhal/Migrator.EF6/issues/9\" rel=\"nofollow\">https://github.com/mrahhal/Migrator.EF6/issues/9</a></p>\n\n<p>I was able to successfully run a migration, it does require some hacky stuff, but it works for the time being, better than other alternatives provided elsewhere.</p>\n\n<p>1) Download this nuget package for Migrator.EF6.Tools nuget.</p>\n\n<p>2) Change project.json to include:</p>\n\n<pre><code>{\n  \"version\": \"1.0.0-*\",\n\n  \"dependencies\": {\n    \"EntityFramework\": \"6.1.3\",\n    \"Migrator.EF6.Tools\": \"1.0.5\"\n  },\n\n  \"frameworks\": {\n    \"net461\": {}\n  },\n\n  \"buildOptions\": {\n    \"emitEntryPoint\": true\n  },\n\n  \"tools\": {\n    \"Migrator.EF6.Tools\": {\n      \"imports\": \"portable-net45+win8+dnxcore50\",\n      \"version\": \"1.0.5\"\n    }\n  }\n}\n</code></pre>\n\n<p>3) Add a program.cs file with Main stub to the class library project:</p>\n\n<pre><code>public class Program\n{\n    public static void Main(string[] args)\n    {\n    }\n}\n</code></pre>\n\n<p>You are now set to run migrations from VS2015 Dev Command Prompt. Navigate to the project directory, and run the migration commands described in the readme linked above.</p>\n\n<p>However, it should be noted, once you are done running migrations, set <code>emitEntryPoint</code> value to false again so it can still be treated like a normal class library. Basically you are tricking the EF tooling to think your class library is a console app, but you don't want it to be treated like that for deployment.</p>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 8252153, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2Apum4Q8DGw/AAAAAAAAAAI/AAAAAAAAAQA/yccB8udqy9o/photo.jpg?sz=128", "display_name": "PARAG DESHMUKH", "link": "https://stackoverflow.com/users/8252153/parag-deshmukh"}, "is_accepted": false, "score": 0, "last_activity_date": 1499166498, "creation_date": 1499166498, "answer_id": 44904361, "question_id": 39883797, "link": "https://stackoverflow.com/questions/39883797/cant-run-ef-migration-where-dbcontext-connection-string-is-set-at-runtime-and-s/44904361#44904361", "title": "Can&#39;t run EF migration where DbContext connection string is set at runtime and separate project from application", "body": "<p>I m Using Visual Studio 2017<br/>\nwhere I was able to successfully run a migration,, it does require \nInstallation of following NuGet Packages in your class library where DbContext located  <br/></p>\n\n<p>Microsoft.EntityFrameworkCore<br/>\nMicrosoft.EntityFrameworkCore.SqlServer<br/>\nMicrosoft.EntityFrameworkCore.Tools<br/></p>\n"}, {"tags": [], "owner": {"reputation": 2106, "user_id": 1240593, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/OQXxR.jpg?s=128&g=1", "display_name": "Kenneth Bo Christensen", "link": "https://stackoverflow.com/users/1240593/kenneth-bo-christensen"}, "is_accepted": false, "score": 0, "last_activity_date": 1571983343, "creation_date": 1571983343, "answer_id": 58552984, "question_id": 39883797, "link": "https://stackoverflow.com/questions/39883797/cant-run-ef-migration-where-dbcontext-connection-string-is-set-at-runtime-and-s/58552984#58552984", "title": "Can&#39;t run EF migration where DbContext connection string is set at runtime and separate project from application", "body": "<p>I had the same problem this morning and I updated the EF nuget package to Entity Framework 6.3.0. That helped.</p>\n"}], "owner": {"reputation": 9606, "user_id": 254257, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/cc352d092caa8e1d41aa7b42b4b2f0c0?s=128&d=identicon&r=PG", "display_name": "SventoryMang", "link": "https://stackoverflow.com/users/254257/sventorymang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3938, "favorite_count": 0, "accepted_answer_id": 39902348, "answer_count": 4, "score": 6, "last_activity_date": 1571983343, "creation_date": 1475702154, "last_edit_date": 1495540806, "question_id": 39883797, "link": "https://stackoverflow.com/questions/39883797/cant-run-ef-migration-where-dbcontext-connection-string-is-set-at-runtime-and-s", "title": "Can&#39;t run EF migration where DbContext connection string is set at runtime and separate project from application", "body": "<p>I have a class library project that has a DbContext class in it that looks like this:</p>\n\n<pre><code>public DbContext() : base(ContextInitializer.GetConnectionStringName())\n    {\n</code></pre>\n\n<p>So that the user (other programmers) can set this on their application startup when they can use my API and entities on whatever database they choose in whatever project and set the connection string then. Now I am trying to generate a migration configuration in my class library. I've tried:</p>\n\n<pre><code>Enable-Migrations -ProjectName \"ClassLibraryProject\" -ContextTypeName \"MyDbContext\" -StartUpProjectName \"MyWebApp\" -ConnectionString \"MyConnectionString\" -ConnectionProviderName \"System.Data.SqlClient\"\n</code></pre>\n\n<p>Based on other answers on here who encounter the same error, and it doesn't help. I still get:</p>\n\n<blockquote>\n  <p>Exception calling \"SetData\" with \"2\" argument(s): \"Type 'Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.Automation.OAProject' in assembly \n  'Microsoft.VisualStudio.ProjectSystem.VS.Implementation, Version=14.1.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a' is not marked as serializable.\"\n  At C:\\Users\\me.nuget\\packages\\EntityFramework\\6.1.3\\tools\\EntityFramework.psm1:718 char:5\n  +     $domain.SetData('project', $project)\n  +     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n      + CategoryInfo          : NotSpecified: (:) [], MethodInvocationException\n      + FullyQualifiedErrorId : SerializationException</p>\n  \n  <p>Exception calling \"SetData\" with \"2\" argument(s): \"Type\n  'Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.Automation.OAProject'\n  in assembly  'Microsoft.VisualStudio.ProjectSystem.VS.Implementation,\n  Version=14.1.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a' is\n  not marked as serializable.\" At\n  C:\\Users\\me.nuget\\packages\\EntityFramework\\6.1.3\\tools\\EntityFramework.psm1:719\n  char:5\n  +     $domain.SetData('contextProject', $contextProject)\n  +     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n      + CategoryInfo          : NotSpecified: (:) [], MethodInvocationException\n      + FullyQualifiedErrorId : SerializationException</p>\n  \n  <p>Exception calling \"SetData\" with \"2\" argument(s): \"Type\n  'Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.Automation.OAProject'\n  in assembly  'Microsoft.VisualStudio.ProjectSystem.VS.Implementation,\n  Version=14.1.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a' is\n  not marked as serializable.\" At\n  C:\\Users\\me.nuget\\packages\\EntityFramework\\6.1.3\\tools\\EntityFramework.psm1:720\n  char:5\n  +     $domain.SetData('startUpProject', $startUpProject)\n  +     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n      + CategoryInfo          : NotSpecified: (:) [], MethodInvocationException\n      + FullyQualifiedErrorId : SerializationException</p>\n</blockquote>\n\n<p>Other answers I've seen on here say use -StartUpProjectName param, and I did that but still get the error. I thought it was because my projects were in nested folders in the solution I am working in, but supplying the project names as \"path/ProjectName\" triggered an error that project wasn't found, so that can't be it. </p>\n\n<p>EDIT: I found this: <a href=\"https://stackoverflow.com/questions/34956083/ef-6-with-a-dnx-project\">EF 6 with a dnx project</a>, my project is Asp.NET Core class library targeting 461 runtime and being used in Asp.NET Core Web app. So there is no way to run a migration in a class library using EF 6 with ASP.NET Core?</p>\n"}, {"tags": ["c#", "sql-server", "entity-framework", "linq", "nopcommerce"], "owner": {"reputation": 457, "user_id": 1983831, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/HVP35.jpg?s=128&g=1", "display_name": "Hassan Abbas", "link": "https://stackoverflow.com/users/1983831/hassan-abbas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 623, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1475701268, "creation_date": 1475701268, "question_id": 39883588, "link": "https://stackoverflow.com/questions/39883588/method-executeasync-in-type-system-data-entity-sqlserver-defaultsqlexecutions", "title": "Method &#39;ExecuteAsync&#39; in type &#39;System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy&#39; from assembly &#39;EntityFramework.SqlServer, Version=6.0.0.0", "body": "<p>while deploying Nopcommerce on server facing this issue,</p>\n\n<blockquote>\n  <p>Method 'ExecuteAsync' in type 'System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy' from assembly 'EntityFramework.SqlServer, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089' does not have an implementation.</p>\n</blockquote>\n\n<pre><code>&gt;Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. \n\n&gt;Exception Details: System.TypeLoadException: Method 'ExecuteAsync' in type 'System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy' from assembly 'EntityFramework.SqlServer, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089' does not have an implementation.\n\n&gt;Source Error: \n\n&gt;The source code that generated this unhandled exception can only be shown when compiled in debug mode. To enable this, please follow one of the below steps, then request the URL:\n\n&gt;1. Add a \"Debug=true\" directive at the top of the file that generated the error. Example:\n\n  &lt;%@ Page Language=\"C#\" Debug=\"true\" %&gt;\n\n&gt;or:\n\n&gt;2) Add the following section to the configuration file of your application:\n\n&lt;configuration&gt;\n   &lt;system.web&gt;\n       &lt;compilation debug=\"true\"/&gt;\n   &lt;/system.web&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<blockquote>\n  <p>Note that this second technique will cause all files within a given application to be compiled in debug mode. The first technique will cause only that particular file to be compiled in debug mode.</p>\n</blockquote>\n"}, {"tags": ["c#", "linq"], "answers": [{"tags": [], "owner": {"reputation": 21178, "user_id": 89586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fe3afc9020eddb5c7445e286eead4a?s=128&d=identicon&r=PG", "display_name": "Matthew Whited", "link": "https://stackoverflow.com/users/89586/matthew-whited"}, "is_accepted": false, "score": 0, "last_activity_date": 1475701539, "creation_date": 1475701539, "answer_id": 39883665, "question_id": 39883573, "link": "https://stackoverflow.com/questions/39883573/how-to-use-a-factory-method-as-resultselector-in-linq-join/39883665#39883665", "title": "How to use a Factory method as resultSelector in LINQ Join", "body": "<p>Yes, but.  By using a factory method you will only be able to use linq to objects.  Query Providers will not know what to do with your factory method.  (That is what the exception you are getting is saying.)</p>\n\n<p>If you do the join first then call <code>.AsEnumerable()</code> then use a <code>.Select(...)</code> with your factory this will work.  You will lose composability.</p>\n\n<pre><code>public IEnumerable&lt;CommentWithUserDetails&gt; GetAllPostComments(int postId)\n{\n    var commentsWithUserDetails = _context.Comments.Join(_context.Users,\n        c =&gt; c.UserId,\n        u =&gt; u.Id,\n        (comment, user) =&gt; new { User = user, Comment = comment})\n        .AsEnumerable()\n        .Select(i=&gt;_modelFactory.Create(i.Comment, i.User))\n        ;\n\n    return commentsWithUserDetails;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": true, "score": 3, "last_activity_date": 1475702244, "last_edit_date": 1475702244, "creation_date": 1475701762, "answer_id": 39883713, "question_id": 39883573, "link": "https://stackoverflow.com/questions/39883573/how-to-use-a-factory-method-as-resultselector-in-linq-join/39883713#39883713", "title": "How to use a Factory method as resultSelector in LINQ Join", "body": "<p>Rather than having a method as a selector, you'll need to have an expression, but you can of course write a method (or property) that returns the expression that you want, so that you can use it in multiple places:</p>\n\n<pre><code>public class ModelFactory\n{\n    public Expression&lt;Func&lt;Comment, ApplicationUser, CommentWithUserDetails&gt;&gt; Create()\n    {\n        return (comment, user) =&gt; new CommentWithUserDetails\n        {\n            Id = comment.Id,\n            PostId = comment.PostId,\n            Body = comment.Body,\n            Name = user.Name\n        };\n    }\n}\n</code></pre>\n\n<p>You can then pass in <code>ModelFactory.Create</code> into the result selector for the <code>Join</code>.</p>\n"}], "owner": {"reputation": 63, "user_id": 5792236, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5c559c7eb7e9e62d16216a28088536a5?s=128&d=identicon&r=PG&f=1", "display_name": "HelloWorld1010", "link": "https://stackoverflow.com/users/5792236/helloworld1010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 39883713, "answer_count": 2, "score": 0, "last_activity_date": 1475702244, "creation_date": 1475701214, "question_id": 39883573, "link": "https://stackoverflow.com/questions/39883573/how-to-use-a-factory-method-as-resultselector-in-linq-join", "title": "How to use a Factory method as resultSelector in LINQ Join", "body": "<p>I would like to use a method from my ModelFactory class to create an instance of CommentWithUserDetails instead of using an Object Initializer. Can this be done?</p>\n\n<blockquote>\n  <p>ExceptionMessage </p>\n  \n  <p>LINQ to Entities does not recognize the method\n  'WebApi.Models.CommentWithUserDetails Create(WebApi.Models.Comment,\n  WebApi.Models.ApplicationUser)' method, and this method cannot be\n  translated into a store expression.</p>\n</blockquote>\n\n<hr>\n\n<pre><code>public IEnumerable&lt;CommentWithUserDetails&gt; GetAllPostComments(int postId)\n    {\n        var commentsWithUserDetails = _context.Comments.Join(_context.Users,\n            c =&gt; c.UserId,\n            u =&gt; u.Id,\n            (comment, user) =&gt; _modelFactory.Create(comment, user));\n\n        return commentsWithUserDetails;\n    }\n</code></pre>\n\n<hr>\n\n<pre><code>public class ModelFactory\n{\n    public CommentWithUserDetails Create(Comment comment, ApplicationUser user)\n    {\n        return new CommentWithUserDetails\n        {\n            Id = comment.Id,\n            PostId = comment.PostId,\n            Body = comment.Body,\n            Name = user.Name\n        };\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "oauth", "identityserver3", "openid-connect"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 6928613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e011b7644d9f233fb6765612af6e82c?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen J Ray", "link": "https://stackoverflow.com/users/6928613/stephen-j-ray"}, "edited": false, "score": 0, "creation_date": 1475851854, "post_id": 39888774, "comment_id": 67123862, "body": "I suspected that would be the answer. I am using HttpClientExtensions so I can use HttpClient.PostAsJsonAsync. Is there a HttpRequestMessageExtensions with similar JSON handling extension methods or do I have to roll my own?"}, {"owner": {"reputation": 507, "user_id": 1167387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JsCuy.png?s=128&g=1", "display_name": "Benjamin Soddy", "link": "https://stackoverflow.com/users/1167387/benjamin-soddy"}, "reply_to_user": {"reputation": 43, "user_id": 6928613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e011b7644d9f233fb6765612af6e82c?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen J Ray", "link": "https://stackoverflow.com/users/6928613/stephen-j-ray"}, "edited": false, "score": 0, "creation_date": 1476110627, "post_id": 39888774, "comment_id": 67201406, "body": "Not that I&#39;ve seen in a formal library, I&#39;m afraid. So far everyone has been stuck writing their own boilerplate using serialized JSON in <a href=\"https://msdn.microsoft.com/en-us/library/system.net.http.stringcontent(v=vs.118).aspx\" rel=\"nofollow noreferrer\">StringContent</a>."}], "tags": [], "owner": {"reputation": 507, "user_id": 1167387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JsCuy.png?s=128&g=1", "display_name": "Benjamin Soddy", "link": "https://stackoverflow.com/users/1167387/benjamin-soddy"}, "is_accepted": true, "score": 1, "last_activity_date": 1475734537, "creation_date": 1475734537, "answer_id": 39888774, "question_id": 39883428, "link": "https://stackoverflow.com/questions/39883428/how-to-set-oidc-oauth-bearer-token-in-c-httpclient-when-flowing-client-subject/39888774#39888774", "title": "How to set OIDC/OAuth bearer token in C# HttpClient when flowing client subject", "body": "<p>You will definitely want to create your own <a href=\"https://msdn.microsoft.com/en-us/library/system.net.http.httprequestmessage(v=vs.118).aspx\" rel=\"nofollow\">HttpRequestMessage</a> and use <a href=\"https://msdn.microsoft.com/en-us/library/hh138176%28v=vs.118%29.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow\">SendAsync</a>. Unfortunately, you will not have the extension method for setting the bearer token, but it is the best way to handle the HttpClient.</p>\n"}], "owner": {"reputation": 43, "user_id": 6928613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e011b7644d9f233fb6765612af6e82c?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen J Ray", "link": "https://stackoverflow.com/users/6928613/stephen-j-ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2329, "favorite_count": 0, "accepted_answer_id": 39888774, "answer_count": 1, "score": 2, "last_activity_date": 1520328733, "creation_date": 1475700691, "question_id": 39883428, "link": "https://stackoverflow.com/questions/39883428/how-to-set-oidc-oauth-bearer-token-in-c-httpclient-when-flowing-client-subject", "title": "How to set OIDC/OAuth bearer token in C# HttpClient when flowing client subject", "body": "<p>As I understand it HttpClient has been designed to be created once and reused. I am using IdentityServer3 as an OIDC/OAuth server and the samples I have looked at create a HttpClient per request and set the bearer token using an extension method:</p>\n\n<pre><code>var client = new HttpClient();\nclient.SetBearerToken(token);\n</code></pre>\n\n<p>SetBearerToken simply sets the default authorization header on a HttpClient:</p>\n\n<pre><code>client.DefaultRequestHeaders.Authorization = \n                new AuthenticationHeaderValue(\"Bearer\", token);\n</code></pre>\n\n<p>I have a ASP.NET web application calling a ASP.NET Web API and I have configured them so that client identity flows to the API when a call is made, i.e when configuring OpenId connect authentication I set:</p>\n\n<pre><code>OpenIdConnectAuthenticationOptions.ResponseType = \"id_token token\"\n</code></pre>\n\n<p>However, if the subject claim is passed in the token I can't now reuse the HttpClient (a request could have its authorization header overwritten before it is sent by another request for example).</p>\n\n<p>If I want to reuse a HttpClient should I be setting the token into a HttpRequestMessage? If not what is the recommended pattern for handling this scenario?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 6885, "user_id": 123422, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ft4KH.jpg?s=128&g=1", "display_name": "Paul Abbott", "link": "https://stackoverflow.com/users/123422/paul-abbott"}, "edited": false, "score": 2, "creation_date": 1475700910, "post_id": 39883421, "comment_id": 67054023, "body": "What does &quot;stopped working&quot; mean?  Also, <code>JournalViewModel</code> has properties <code>IssueTitle, IssueNumber, IssueId</code> but also a list of <code>Issue</code>; why are those three properties there when they look like they should be properties of <code>Issue</code>?"}, {"owner": {"reputation": 715, "user_id": 2570284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3HT9E.jpg?s=128&g=1", "display_name": "Matt Dalzell", "link": "https://stackoverflow.com/users/2570284/matt-dalzell"}, "edited": false, "score": 1, "creation_date": 1475701001, "post_id": 39883421, "comment_id": 67054066, "body": "What does your <code>Issue</code> class look like?  <code>IssueTitle</code> looks like it is property of <code>JournalViewModel</code>, not <code>Issue</code>"}, {"owner": {"reputation": 3782, "user_id": 839211, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/THWvr.jpg?s=128&g=1", "display_name": "Felipe", "link": "https://stackoverflow.com/users/839211/felipe"}, "reply_to_user": {"reputation": 6885, "user_id": 123422, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ft4KH.jpg?s=128&g=1", "display_name": "Paul Abbott", "link": "https://stackoverflow.com/users/123422/paul-abbott"}, "edited": false, "score": 0, "creation_date": 1475701911, "post_id": 39883421, "comment_id": 67054450, "body": "Hi, yes @PaulAbbott these properties should be a part of the Issue class, however I added them there tempoarily, so that I could make some tests. They will be removed."}, {"owner": {"reputation": 5239, "user_id": 1273649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34f96b64e2cd88e766eeca65ad4fa365?s=128&d=identicon&r=PG", "display_name": "Alexey Andrushkevich", "link": "https://stackoverflow.com/users/1273649/alexey-andrushkevich"}, "edited": false, "score": 1, "creation_date": 1475702007, "post_id": 39883421, "comment_id": 67054494, "body": "When you compile your app and run it have you received the parser error &quot;Unexpected &quot;foreach&quot; keyword after &quot;@&quot; character.  Once inside code, you do not need to prefix constructs like &quot;foreach&quot; with &quot;@&quot;&quot; ?"}, {"owner": {"reputation": 3782, "user_id": 839211, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/THWvr.jpg?s=128&g=1", "display_name": "Felipe", "link": "https://stackoverflow.com/users/839211/felipe"}, "edited": false, "score": 0, "creation_date": 1475702372, "post_id": 39883421, "comment_id": 67054630, "body": "No, I haven&#39;t received this error and in fact I didn&#39;t receive any error at all. I am just shown to a blank page. By the way this is what I mean by it is not working anymore."}, {"owner": {"reputation": 5239, "user_id": 1273649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34f96b64e2cd88e766eeca65ad4fa365?s=128&d=identicon&r=PG", "display_name": "Alexey Andrushkevich", "link": "https://stackoverflow.com/users/1273649/alexey-andrushkevich"}, "edited": false, "score": 1, "creation_date": 1475702563, "post_id": 39883421, "comment_id": 67054719, "body": "Try to remove <code>@</code> before a nested <code>foreach</code> cycle."}], "answers": [{"tags": [], "owner": {"reputation": 3782, "user_id": 839211, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/THWvr.jpg?s=128&g=1", "display_name": "Felipe", "link": "https://stackoverflow.com/users/839211/felipe"}, "is_accepted": false, "score": -1, "last_activity_date": 1475703122, "creation_date": 1475703122, "answer_id": 39884045, "question_id": 39883421, "link": "https://stackoverflow.com/questions/39883421/asp-net-mvc-cannot-nest-foreach-loops-in-view-to-display-lists/39884045#39884045", "title": "ASP .NET MVC - Cannot nest foreach loops in view to display lists", "body": "<p>I have removed the <code>@</code> before the nested <code>foreach</code> as @Alexey Andrushkevich suggested and my page is working now.</p>\n\n<p>Note: I was not being able to get any errors, because someone else had added this \"great\" error handling code in Global.asax.cs:</p>\n\n<pre><code>protected void Application_Error(object sender, EventArgs e)\n{\n    // Get the exception object.\n    Exception exc = Server.GetLastError();\n\n    if (exc.GetType() == typeof(HttpException))\n    {\n        if (exc.Message.Contains(\"Maximum request length exceeded.\"))\n            Response.Redirect(String.Format(\"~/Error/RequestLengthExceeded\"));\n    }\n\n    Server.ClearError();\n}\n</code></pre>\n\n<p>Thanks to this, no error messages from the web pages were surfacing.</p>\n"}, {"comments": [{"owner": {"reputation": 3782, "user_id": 839211, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/THWvr.jpg?s=128&g=1", "display_name": "Felipe", "link": "https://stackoverflow.com/users/839211/felipe"}, "edited": false, "score": 0, "creation_date": 1475703957, "post_id": 39884172, "comment_id": 67055330, "body": "The exceptions were supressed in Global.asax.cs. Threre was a <code>Server.ClearError()</code> command in it."}], "tags": [], "owner": {"reputation": 5239, "user_id": 1273649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34f96b64e2cd88e766eeca65ad4fa365?s=128&d=identicon&r=PG", "display_name": "Alexey Andrushkevich", "link": "https://stackoverflow.com/users/1273649/alexey-andrushkevich"}, "is_accepted": true, "score": 1, "last_activity_date": 1475743605, "last_edit_date": 1475743605, "creation_date": 1475703683, "answer_id": 39884172, "question_id": 39883421, "link": "https://stackoverflow.com/questions/39883421/asp-net-mvc-cannot-nest-foreach-loops-in-view-to-display-lists/39884172#39884172", "title": "ASP .NET MVC - Cannot nest foreach loops in view to display lists", "body": "<p>Remove <code>@</code> before the nested <code>foreach</code> cycle. You have to also review your code and figure out the place where standard exception was suppressed. It can be either <code>customErrors</code> section configuration in <code>web.config</code> or <code>Application_Error</code> method in the <code>Global.asax.cs</code> file. When standard exceptions are not suppressed you can see the error page which allows you to understand what is the issue.</p>\n"}], "owner": {"reputation": 3782, "user_id": 839211, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/THWvr.jpg?s=128&g=1", "display_name": "Felipe", "link": "https://stackoverflow.com/users/839211/felipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 687, "favorite_count": 0, "accepted_answer_id": 39884172, "answer_count": 2, "score": -1, "last_activity_date": 1475743605, "creation_date": 1475700660, "question_id": 39883421, "link": "https://stackoverflow.com/questions/39883421/asp-net-mvc-cannot-nest-foreach-loops-in-view-to-display-lists", "title": "ASP .NET MVC - Cannot nest foreach loops in view to display lists", "body": "<p>I am creating a website using ASP.NET MVC and I would like to display a list of objects that I retrieve from the database and another list for each object that was retrieved.</p>\n\n<p>Here is my model:</p>\n\n<pre><code>public class JournalViewModel\n{\n    public JournalViewModel()\n    {\n        Issues = new List&lt;Issue&gt;();\n    }\n\n    public int Id { get; set; }\n\n    [Required]\n    public string Title { get; set; }\n\n    [Required, DataType(DataType.MultilineText)]\n    public string Description { get; set; }\n\n    public string FileName { get; set; }\n\n    public string ContentType { get; set; }\n\n    public byte[] Content { get; set; }\n\n    [Required, ValidateFile]\n    public HttpPostedFileBase File { get; set; }\n\n    public int UserId { get; set; }\n\n    [Required, DataType(DataType.MultilineText)]\n    public string IssueDescription { get; set; }\n\n    [Required]\n    public string IssueTitle { get; set; }\n\n    [Required]\n    public int IssueNumber { get; set; }\n\n    public int IssueId { get; set; }\n\n    public ICollection&lt;Issue&gt; Issues { get; set; }\n}\n</code></pre>\n\n<p>My controller:</p>\n\n<pre><code>public ActionResult Index()\n{\n    var userId = (int)_membershipService.GetUser().ProviderUserKey;\n\n    List&lt;Journal&gt; allJournals = _journalRepository.GetAllJournals(userId);\n    var journals = Mapper.Map&lt;List&lt;Journal&gt;, List&lt;JournalViewModel&gt;&gt;(allJournals);\n    return View(journals);\n}\n</code></pre>\n\n<p>And my view:</p>\n\n<pre><code>@model List&lt;Journals.Model.JournalViewModel&gt;\n\n@{\n    ViewBag.Title = \"Index\";\n    Layout = \"~/Views/Shared/_Layout.cshtml\";\n}\n\n@section Style\n{\n    &lt;style type=\"text/css\"&gt;\n        .table {\n            table-layout: fixed;\n        }\n\n            .table td {\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n            }\n    &lt;/style&gt;\n}\n\n&lt;h2&gt;Publisher - List of Journals&lt;/h2&gt;\n\n&lt;p&gt;\n    @Html.ActionLink(\"Create New\", \"Create\")\n&lt;/p&gt;\n\n@if (Model.Count == 0)\n{\n    &lt;div&gt;  Click @Html.ActionLink(\"here\", \"Create\") to publish your first Journal.&lt;/div&gt;\n}\nelse\n{\n\n    &lt;table class=\"table table-condensed table-striped\"&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Title&lt;/th&gt;\n                &lt;th&gt;Description&lt;/th&gt;\n                &lt;th&gt;File&lt;/th&gt;\n                &lt;th&gt;Action&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            @foreach (var item in Model)\n            {\n                &lt;tr&gt;\n                    &lt;td&gt;\n                        @Html.DisplayFor(modelItem =&gt; item.Title)\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        @Html.DisplayFor(modelItem =&gt; item.Description)\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        @Html.ActionLink(item.FileName, \"GetFile\", new { Id = item.Id }, new { target = \"_blank\" })\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        @Html.ActionLink(\"Edit\", \"Edit\", new { id = item.Id }) |\n                        @Html.ActionLink(\"Delete\", \"Delete\", new { id = item.Id })\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                @foreach (var issue in item.Issues)\n                {\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            @Html.DisplayFor(i =&gt; issue.IssueTitle)\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                }\n            }\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n}\n</code></pre>\n\n<p>This view used to work fine until I added this code:</p>\n\n<pre><code>@foreach (var issue in item.Issues)\n{\n    &lt;tr&gt;\n        &lt;td&gt;\n            @Html.DisplayFor(i =&gt; issue.IssueTitle)\n        &lt;/td&gt;\n     &lt;/tr&gt;\n}\n</code></pre>\n\n<p>And now it has stopped working. What I am doing wrong?</p>\n\n<p>Also, is there a way to retrieve an error message from this view?</p>\n"}, {"tags": ["c#", ".net", "windows", "multithreading", "winforms"], "comments": [{"owner": {"reputation": 2025, "user_id": 1573710, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3a6c0bd71cad1dfe3f7fece29c56b11f?s=128&d=identicon&r=PG", "display_name": "Coolguy", "link": "https://stackoverflow.com/users/1573710/coolguy"}, "edited": false, "score": 0, "creation_date": 1475701393, "post_id": 39883380, "comment_id": 67054234, "body": "Please don&#39;t close my topic. I really don&#39;t know what the error means... Please help."}, {"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 0, "creation_date": 1475701708, "post_id": 39883380, "comment_id": 67054371, "body": "Post your code please. It basically just sounds like there&#39;s an error and you didn&#39;t handle it so it forced itself to close."}, {"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1475701778, "post_id": 39883380, "comment_id": 67054395, "body": "I only have vague information for you. Yes, an unhandled exception is due to an exception that is not caught and handled by you. As for your actual exception, the stack trace doesn&#39;t seem to point to any of your code, and I don&#39;t know how to fix that. An IO exception can be thrown for a lot of reasons. Your program is apparently attaching a <code>FileStream</code> to a file as indicated here <code>System.IO.FileStreamAsyncResult.AsyncFSCallback</code>, and for example, if another program or thread obtains a lock on that file then you will get an IO exception when your file stream goes to interact with it."}, {"owner": {"reputation": 2025, "user_id": 1573710, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3a6c0bd71cad1dfe3f7fece29c56b11f?s=128&d=identicon&r=PG", "display_name": "Coolguy", "link": "https://stackoverflow.com/users/1573710/coolguy"}, "edited": false, "score": 0, "creation_date": 1475702045, "post_id": 39883380, "comment_id": 67054509, "body": "KSib, I don&#39;t think can post the code.. my app have close to 50 .cs files and I&#39;m not sure which one that is causing this error.."}, {"owner": {"reputation": 2025, "user_id": 1573710, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3a6c0bd71cad1dfe3f7fece29c56b11f?s=128&d=identicon&r=PG", "display_name": "Coolguy", "link": "https://stackoverflow.com/users/1573710/coolguy"}, "edited": false, "score": 0, "creation_date": 1475702197, "post_id": 39883380, "comment_id": 67054563, "body": "Quantic, u mean I have problem writing a file because of user control issue? Actually I tried run my app as admin but the error still occurs"}, {"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1475702688, "post_id": 39883380, "comment_id": 67054775, "body": "If you can find the highest level call to wrap in a try/catch then do so even if you only &quot;catch () { PrintExceptionInfo(); throw; }`. As for PrintExceptionInfo, you need to view the InnerExceptions because maybe Event Viewer is only showing you the top exception and not the inner ones. I basically use <a href=\"http://stackoverflow.com/a/9314420/5095502\">this method</a> to print InnerExceptions. It <i>could</i> be permissions, but more likely 2 programs or threads want to write to the same file so each goes to lock it and write, but only one is allowed to at a time and the other one will get an IO exception."}, {"owner": {"reputation": 1178, "user_id": 1020882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc73fb7544cbec21d74cb514075af12d?s=128&d=identicon&r=PG", "display_name": "CShark", "link": "https://stackoverflow.com/users/1020882/cshark"}, "edited": false, "score": 0, "creation_date": 1475705390, "post_id": 39883380, "comment_id": 67055819, "body": "First, you could try to use the debugger. Just run it without setting a breakpoint, it should halt automatically on uncaught exceptions. If that is not possible, you can set up an Application wide exception handler for uncaught exceptions which (hopefully) writes the details e.g. into a file before the programm crashes."}, {"owner": {"reputation": 2025, "user_id": 1573710, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3a6c0bd71cad1dfe3f7fece29c56b11f?s=128&d=identicon&r=PG", "display_name": "Coolguy", "link": "https://stackoverflow.com/users/1573710/coolguy"}, "edited": false, "score": 0, "creation_date": 1475739553, "post_id": 39883380, "comment_id": 67066385, "body": "CShark, my source code have more than 50 of .cs files. I&#39;m not sure where the error is so not sure where to put the breakpoint even if i run debugger mode."}], "answers": [{"comments": [{"owner": {"reputation": 2025, "user_id": 1573710, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3a6c0bd71cad1dfe3f7fece29c56b11f?s=128&d=identicon&r=PG", "display_name": "Coolguy", "link": "https://stackoverflow.com/users/1573710/coolguy"}, "edited": false, "score": 0, "creation_date": 1475702380, "post_id": 39883735, "comment_id": 67054637, "body": "Is it because of user control issue? Actually I tried run my app as admin but the error still occurs"}, {"owner": {"reputation": 911, "user_id": 5468985, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d3a5a01d5587d59f9c761cced4e763f7?s=128&d=identicon&r=PG&f=1", "display_name": "Behdad", "link": "https://stackoverflow.com/users/5468985/behdad"}, "reply_to_user": {"reputation": 2025, "user_id": 1573710, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3a6c0bd71cad1dfe3f7fece29c56b11f?s=128&d=identicon&r=PG", "display_name": "Coolguy", "link": "https://stackoverflow.com/users/1573710/coolguy"}, "edited": false, "score": 0, "creation_date": 1475702942, "post_id": 39883735, "comment_id": 67054886, "body": "It does not belong to user control, because if it was, the exception was Access Violation exception. I think its something wrong with your Async method."}, {"owner": {"reputation": 2025, "user_id": 1573710, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3a6c0bd71cad1dfe3f7fece29c56b11f?s=128&d=identicon&r=PG", "display_name": "Coolguy", "link": "https://stackoverflow.com/users/1573710/coolguy"}, "edited": false, "score": 0, "creation_date": 1475703666, "post_id": 39883735, "comment_id": 67055203, "body": "what is async method? Is it like what Quantic says, there&#39;s two threads what to write to same file?"}, {"owner": {"reputation": 911, "user_id": 5468985, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d3a5a01d5587d59f9c761cced4e763f7?s=128&d=identicon&r=PG&f=1", "display_name": "Behdad", "link": "https://stackoverflow.com/users/5468985/behdad"}, "reply_to_user": {"reputation": 2025, "user_id": 1573710, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3a6c0bd71cad1dfe3f7fece29c56b11f?s=128&d=identicon&r=PG", "display_name": "Coolguy", "link": "https://stackoverflow.com/users/1573710/coolguy"}, "edited": false, "score": 0, "creation_date": 1475704181, "post_id": 39883735, "comment_id": 67055418, "body": "Asynchronous methods are the functions(Void) which are runs on another thread to be give the application responsibility. It will be used for parallel processes. What code are you using? and what are you doing? Are you writing the file? Or reading?"}, {"owner": {"reputation": 2025, "user_id": 1573710, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3a6c0bd71cad1dfe3f7fece29c56b11f?s=128&d=identicon&r=PG", "display_name": "Coolguy", "link": "https://stackoverflow.com/users/1573710/coolguy"}, "edited": false, "score": 0, "creation_date": 1475739458, "post_id": 39883735, "comment_id": 67066331, "body": "My coding have hundreds of writing file and reading file functions. Don&#39;t really know which one that is causing this error. Anyway to identify it guys?"}, {"owner": {"reputation": 911, "user_id": 5468985, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d3a5a01d5587d59f9c761cced4e763f7?s=128&d=identicon&r=PG&f=1", "display_name": "Behdad", "link": "https://stackoverflow.com/users/5468985/behdad"}, "reply_to_user": {"reputation": 2025, "user_id": 1573710, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3a6c0bd71cad1dfe3f7fece29c56b11f?s=128&d=identicon&r=PG", "display_name": "Coolguy", "link": "https://stackoverflow.com/users/1573710/coolguy"}, "edited": false, "score": 0, "creation_date": 1475740836, "post_id": 39883735, "comment_id": 67067095, "body": "There are many ways to know which part of code makes problem. Use try/catch block for each functions. And in catch block,use messagebox or console.writeline to show the error and also use numbers to identify which part has a problem. And easier than this,you can use breakpoint in Visual Studio."}], "tags": [], "owner": {"reputation": 911, "user_id": 5468985, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d3a5a01d5587d59f9c761cced4e763f7?s=128&d=identicon&r=PG&f=1", "display_name": "Behdad", "link": "https://stackoverflow.com/users/5468985/behdad"}, "is_accepted": false, "score": 0, "last_activity_date": 1475701882, "creation_date": 1475701882, "answer_id": 39883735, "question_id": 39883380, "link": "https://stackoverflow.com/questions/39883380/error-regarding-system-io-in-net/39883735#39883735", "title": "Error regarding system.io in .net", "body": "<p>This exception will be thrown when an I/O errors occurs. When process can't read or write correctly. Maybe Its because of your threading,It can't be done correctly.</p>\n\n<p>\"And is it that because I didn't put a try/catch block on some of my code that's why it will have this error and crashes my app?\" ->\nAnd yes,you see the error because you didn't use any try/catch block.</p>\n"}], "owner": {"reputation": 2025, "user_id": 1573710, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3a6c0bd71cad1dfe3f7fece29c56b11f?s=128&d=identicon&r=PG", "display_name": "Coolguy", "link": "https://stackoverflow.com/users/1573710/coolguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1313, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475701882, "creation_date": 1475700505, "question_id": 39883380, "link": "https://stackoverflow.com/questions/39883380/error-regarding-system-io-in-net", "title": "Error regarding system.io in .net", "body": "<p>my .net service application started crash occasionally. Once investigate in windows event viewer, I get the below message:</p>\n\n<blockquote>\n  <p>Application: myapp.exe Framework Version: v4.0.30319\n  Description: The process was terminated due to an unhandled exception.\n  Exception Info: System.IO.IOException    at\n  System.IO.__Error.WinIOError(Int32, System.String)    at\n  System.IO.__Error.WinIOError()    at\n  System.Threading.EventWaitHandle.Set()    at\n  System.IO.FileStreamAsyncResult.AsyncFSCallback(UInt32, UInt32,\n  System.Threading.NativeOverlapped*)    at\n  System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32,\n  UInt32, System.Threading.NativeOverlapped*)</p>\n</blockquote>\n\n<p>From the error message, I'm not sure which part of my source code is giving me this error. Do you guys know what error is this?</p>\n\n<p>And is it that because I didn't put a <strong>try/catch block</strong> on some of my code that's why it will have this error and crashes my app?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "decimal"], "comments": [{"owner": {"reputation": 4151, "user_id": 302613, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b7d545f423f184a84d87ec9151f04eb9?s=128&d=identicon&r=PG", "display_name": "ErocM", "link": "https://stackoverflow.com/users/302613/erocm"}, "edited": false, "score": 0, "creation_date": 1475700887, "post_id": 39883365, "comment_id": 67054011, "body": "@StephenMuecke Wow, easy enough. Post that as an answer and I&#39;ll give you credit. Tyvm!"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "is_accepted": true, "score": 2, "last_activity_date": 1475701210, "creation_date": 1475701210, "answer_id": 39883572, "question_id": 39883365, "link": "https://stackoverflow.com/questions/39883365/formatting-a-textboxfor-from-decimal-to-dollar-amount/39883572#39883572", "title": "Formatting a TextBoxFor from Decimal to Dollar Amount", "body": "<p>The <code>DisplayFormatAttribute</code> is only respected when using the <code>EditorFor()</code> and <code>DisplayFor()</code> methods (using the inbuilt templates)</p>\n\n<p>To format a value, use <a href=\"https://msdn.microsoft.com/en-us/library/system.web.mvc.html.inputextensions.textboxfor(v=vs.118).aspx#M:System.Web.Mvc.Html.InputExtensions.TextBoxFor&lt;code&gt;2%28System.Web.Mvc.HtmlHelper%7B&lt;/code&gt;0%7D,System.Linq.Expressions.Expression%7BSystem.Func%7B&lt;code&gt;0,&lt;/code&gt;1%7D%7D,System.String,System.Object%29\" rel=\"nofollow\">this overload</a> of <code>TextBoxFor()</code> where the 2nd parameter is the format string</p>\n\n<pre><code>@Html.TextBoxFor(m =&gt; m.Amount, \"{0:F2}\", new { @class = \"makePaymentTextRight width90\" })\n</code></pre>\n"}], "owner": {"reputation": 4151, "user_id": 302613, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b7d545f423f184a84d87ec9151f04eb9?s=128&d=identicon&r=PG", "display_name": "ErocM", "link": "https://stackoverflow.com/users/302613/erocm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "accepted_answer_id": 39883572, "answer_count": 1, "score": 0, "last_activity_date": 1475701210, "creation_date": 1475700433, "last_edit_date": 1475700868, "question_id": 39883365, "link": "https://stackoverflow.com/questions/39883365/formatting-a-textboxfor-from-decimal-to-dollar-amount", "title": "Formatting a TextBoxFor from Decimal to Dollar Amount", "body": "<p>I have an amount field that I am pre populating. When I run the web app, it comes out as 125.4500. I tried to format it but I've had no luck.</p>\n\n<p>Here is my PaymentModel:</p>\n\n<pre><code>  [Required]\n  [DataType(DataType.Currency)]\n  [DisplayFormat(DataFormatString = \"{0:F2}\", ApplyFormatInEditMode = true)]\n  [Display(Name = \"Payment Amount\")]\n  public decimal Amount { get; set; }\n</code></pre>\n\n<p>The <code>DataFormatString</code> seems to have no affect.</p>\n\n<p>And my code on the form:</p>\n\n<pre><code>@Html.TextBoxFor(m =&gt; m.Amount, new { @class = \"makePaymentTextRight width90\" })\n</code></pre>\n\n<p>I tried this:</p>\n\n<pre><code>@Html.TextBoxFor(m =&gt; string.Format(\"{0:F2}\",m.Amount), new { @class = \"makePaymentTextRight width90\" })\n</code></pre>\n\n<p>But that gave me this error:</p>\n\n<blockquote>\n  <p>System.InvalidOperationException: Templates can be used only with field access, property access, single-dimension array index, or single-parameter custom indexer expressions.</p>\n</blockquote>\n\n<p>How do I get this to format to 2 decimal places?</p>\n"}, {"tags": ["c#", "xml", "nested-table"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1475700861, "post_id": 39883354, "comment_id": 67053997, "body": "datatable,writeXML will write it out in a format it needs for reading it back"}, {"owner": {"reputation": 57, "user_id": 6373375, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1727956244148092/picture?type=large", "display_name": "Murad Al Haj", "link": "https://stackoverflow.com/users/6373375/murad-al-haj"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1475701357, "post_id": 39883354, "comment_id": 67054212, "body": "no I also tried that, it returns just one node, you can try it, but it is wrong"}], "answers": [{"comments": [{"owner": {"reputation": 108943, "user_id": 10263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e51Ks.jpg?s=128&g=1", "display_name": "Brian Rogers", "link": "https://stackoverflow.com/users/10263/brian-rogers"}, "reply_to_user": {"reputation": 57, "user_id": 6373375, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1727956244148092/picture?type=large", "display_name": "Murad Al Haj", "link": "https://stackoverflow.com/users/6373375/murad-al-haj"}, "edited": false, "score": 0, "creation_date": 1475792653, "post_id": 39885356, "comment_id": 67098420, "body": "No problem; glad I could help."}], "tags": [], "owner": {"reputation": 108943, "user_id": 10263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e51Ks.jpg?s=128&g=1", "display_name": "Brian Rogers", "link": "https://stackoverflow.com/users/10263/brian-rogers"}, "is_accepted": true, "score": 1, "last_activity_date": 1475724421, "last_edit_date": 1475724421, "creation_date": 1475711149, "answer_id": 39885356, "question_id": 39883354, "link": "https://stackoverflow.com/questions/39883354/convert-datatable-into-xml-hierarchy-in-c/39885356#39885356", "title": "Convert DataTable into XML hierarchy in C#", "body": "<p>You need to use <code>GroupBy</code> to group the rows, then select the parts you want into <code>XElements</code>.<br>\nThe code below should do what you want:</p>\n\n<pre><code>    var xml = new XElement(table.TableName, table.Rows.Cast&lt;DataRow&gt;()\n        .GroupBy(row =&gt; (string)row[0])\n        .Select(g =&gt;\n            new XElement(table.Columns[0].ColumnName,\n                new XElement(\"label\", g.Key),\n                g.GroupBy(row =&gt; (string)row[1])\n                 .Select(g1 =&gt;\n                    new XElement(table.Columns[1].ColumnName,\n                        new XElement(\"label\", g1.Key),\n                        new XElement(table.Columns[2].ColumnName,\n                            g1.Select(row =&gt;\n                                new XElement(\"label\", (string)row[2])\n                            )\n                        )\n                    )\n                )\n            )\n        )\n    ).ToString();\n</code></pre>\n\n<p>Fiddle: <a href=\"https://dotnetfiddle.net/qEWNvj\" rel=\"nofollow\">https://dotnetfiddle.net/qEWNvj</a></p>\n"}, {"tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": false, "score": 0, "last_activity_date": 1475743056, "creation_date": 1475743056, "answer_id": 39891347, "question_id": 39883354, "link": "https://stackoverflow.com/questions/39883354/convert-datatable-into-xml-hierarchy-in-c/39891347#39891347", "title": "Convert DataTable into XML hierarchy in C#", "body": "<p>My style is a little different from other answers.  The code is tested and matches your expected results.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Data;\nusing System.Xml;\nusing System.Xml.Linq;\n\nnamespace ConsoleApplication1\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            DataTable dt = new DataTable();\n            dt.Columns.Add(\"A\", typeof(string));\n            dt.Columns.Add(\"B\", typeof(string));\n            dt.Columns.Add(\"C\", typeof(string));\n\n            dt.Rows.Add(new object[] {\"A1\", \"B1\",\"C1\"});\n            dt.Rows.Add(new object[] {\"A1\", \"B1\",\"C2\"});\n            dt.Rows.Add(new object[] {\"A1\", \"B1\",\"C3\"});\n            dt.Rows.Add(new object[] {\"A1\", \"B2\",\"C1\"});\n            dt.Rows.Add(new object[] {\"A1\", \"B2\",\"C2\"});\n\n            dt = dt.AsEnumerable()\n                .OrderBy(x =&gt; x.Field&lt;string&gt;(\"A\"))\n                .ThenBy(x =&gt; x.Field&lt;string&gt;(\"B\"))\n                .ThenBy(x =&gt; x.Field&lt;string&gt;(\"C\"))\n                .CopyToDataTable();\n\n            XElement data = new XElement(\"Data\", new XElement(\"A\", dt.AsEnumerable()\n                .GroupBy(g1 =&gt; g1.Field&lt;string&gt;(\"A\")).Select(g1a =&gt;  new object[] { \n                    new XElement(\"lable\",(string)g1a.Key),\n                    new XElement(\"B\",\n                        g1a.GroupBy(g2 =&gt; g2.Field&lt;string&gt;(\"B\")).Select(g2b =&gt; new object[] {\n                            new XElement(\"lable\", (string)g2b.Key),\n                            new XElement(\"C\",\n                                g2b.Select(g3c =&gt; new XElement(\"lable\", g3c.Field&lt;string&gt;(\"C\"))\n                            ))}\n                    ))}\n            )));\n\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 6373375, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1727956244148092/picture?type=large", "display_name": "Murad Al Haj", "link": "https://stackoverflow.com/users/6373375/murad-al-haj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2131, "favorite_count": 0, "accepted_answer_id": 39885356, "answer_count": 2, "score": 0, "last_activity_date": 1475743056, "creation_date": 1475700400, "last_edit_date": 1495535265, "question_id": 39883354, "link": "https://stackoverflow.com/questions/39883354/convert-datatable-into-xml-hierarchy-in-c", "title": "Convert DataTable into XML hierarchy in C#", "body": "<p>I have the following DataTable:</p>\n\n<pre><code>A   B   C\n----------\nA1  B1  C1\nA1  B1  C2\nA1  B1  C3\nA1  B2  C1\nA1  B2  C2\n----------\n</code></pre>\n\n<p>I tried to convert it using C# to be in XML format like this:</p>\n\n<pre><code>&lt;Data&gt;\n    &lt;A&gt;\n        &lt;lable&gt;A1&lt;/lable&gt;\n        &lt;B&gt;\n            &lt;lable&gt;B1&lt;/lable&gt;\n            &lt;C&gt;\n                &lt;lable&gt;C1&lt;/lable&gt;\n                &lt;lable&gt;C2&lt;/lable&gt;\n                &lt;lable&gt;C3&lt;/lable&gt;\n            &lt;/C&gt;\n            &lt;lable&gt;B2&lt;/lable&gt;\n            &lt;C&gt;\n                &lt;lable&gt;C1&lt;/lable&gt;\n                &lt;lable&gt;C2&lt;/lable&gt;\n            &lt;/C&gt;\n        &lt;/B&gt;\n    &lt;/A&gt;\n&lt;/Data&gt;\n</code></pre>\n\n<p>I did a deep search and I found something helpful online like <a href=\"https://stackoverflow.com/questions/5515990/converting-dataset-into-xml-with-nested-elements\">this</a>.\nBut that one uses relations, and my data is just one table.\nI also tried this C# code:</p>\n\n<pre><code>    using System;\n    using System.Collections.Generic;\n    using System.ComponentModel;\n    using System.Data;\n    using System.Drawing;\n    using System.Linq;\n    using System.Text;\n    using System.Threading.Tasks;\n    using System.Windows.Forms;\n    using System.Xml.Linq;\n    using System.Data.SqlClient;\n\n    SqlConnection con = new SqlConnection(\"Integrated Security=SSPI;Persist Security Info=False;Initial Catalog=Files;Data Source=localhost\");\n    con.Open();\n    SqlCommand cmd = new SqlCommand(\"select * from MyTable\",con);\n    SqlDataAdapter da = new SqlDataAdapter(cmd);\n    DataTable DT = new DataTable(\"Data\");\n    da.Fill(DT);\n    dataGridView1.DataSource = DT;\n    con.Close();\n    string XML = ToXmlFormat(DT, 0);\n    Console.WriteLine(XML);\n\n\npublic string ToXmlFormat(this DataTable table, int metaIndex = 0)\n{\n    XDocument xdoc = new XDocument(\n        new XElement(table.TableName,\n            from column in table.Columns.Cast&lt;DataColumn&gt;()\n            where column != table.Columns[metaIndex]\n            select new XElement(column.ColumnName,\n                from row in table.AsEnumerable()\n                select new XElement(row.Field&lt;string&gt;(metaIndex), row[column])\n                )\n            )\n        );\n\n    return xdoc.ToString();\n}\n</code></pre>\n\n<p>The result was another format which is not nested XML as I explained.\n<a href=\"https://i.stack.imgur.com/rl7Sc.jpg\" rel=\"nofollow noreferrer\">see image</a> </p>\n\n<p>How can I convert my table into the XML format I need?</p>\n"}, {"tags": ["c#", "wpf", "xaml", "mvvm"], "comments": [{"owner": {"reputation": 2312, "user_id": 6330636, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KwL7RaFztwM/AAAAAAAAAAI/AAAAAAAAADg/34eEeb890LE/photo.jpg?sz=128", "display_name": "Filip Cordas", "link": "https://stackoverflow.com/users/6330636/filip-cordas"}, "edited": false, "score": 0, "creation_date": 1475701381, "post_id": 39883306, "comment_id": 67054228, "body": "This was always a bit had in xaml. You are looking for something similar to ko.computed I assume. Here are a few articles that do something similar <a href=\"http://philchuang.com/mvvm-pain-points-chaineddependentcalculated-properties/\" rel=\"nofollow noreferrer\">philchuang.com/&hellip;</a> <a href=\"http://www.codeproject.com/Articles/375192/WPF-The-calculated-property-dependency-problem\" rel=\"nofollow noreferrer\">codeproject.com/Articles/375192/&hellip;</a>  <a href=\"http://www.codeproject.com/Articles/422581/Knockout-Style-Observables-in-XAML\" rel=\"nofollow noreferrer\">codeproject.com/Articles/422581/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 688, "user_id": 4467670, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003096226037/picture?type=large", "display_name": "Peter Moore", "link": "https://stackoverflow.com/users/4467670/peter-moore"}, "edited": false, "score": 0, "creation_date": 1475704012, "post_id": 39883910, "comment_id": 67055358, "body": "Jacob- Very interesting, particularly the comment that &quot;communication between objects should happen viewmodel to viewmodel rather than through the model&quot;. I understand the ideal of the design pattern, but what&#39;s the tangible advantage there over what the OP is doing? As you note your solution is quite complicated. Moreover, what happens if data model changes need to be agnostic to whether a view has even been instantiated? Must view models be created for any data operation even if it&#39;s not in view? Just curious as to why you think the form is so important as to justify the extra complexity."}, {"owner": {"reputation": 12266, "user_id": 1336, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1d0ac659ac68cf5a05f0fc758d79dce2?s=128&d=identicon&r=PG", "display_name": "Jacob Proffitt", "link": "https://stackoverflow.com/users/1336/jacob-proffitt"}, "reply_to_user": {"reputation": 688, "user_id": 4467670, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003096226037/picture?type=large", "display_name": "Peter Moore", "link": "https://stackoverflow.com/users/4467670/peter-moore"}, "edited": false, "score": 0, "creation_date": 1475713933, "post_id": 39883910, "comment_id": 67058057, "body": "The problem set is complicated. This just puts all the complication in a single place rather than in the model objects. Indeed, I didn&#39;t do any original programming here, I just pulled the original methods from above and altered them to apply from the ViewModel. Every other object then becomes dead simple, including binding; so this represents a simplification from the original solution above. If your UI app is changing data, it&#39;s better if it&#39;s going through a ViewModel so that the UI doesn&#39;t step on itself. No need to be dogmatic, but exceptions would be rare..."}], "tags": [], "owner": {"reputation": 12266, "user_id": 1336, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1d0ac659ac68cf5a05f0fc758d79dce2?s=128&d=identicon&r=PG", "display_name": "Jacob Proffitt", "link": "https://stackoverflow.com/users/1336/jacob-proffitt"}, "is_accepted": true, "score": 4, "last_activity_date": 1475702592, "creation_date": 1475702592, "answer_id": 39883910, "question_id": 39883306, "link": "https://stackoverflow.com/questions/39883306/notify-property-change-defined-in-the-viewmodel-when-underlying-model-data-chang/39883910#39883910", "title": "Notify property change defined in the ViewModel when underlying Model data changes", "body": "<p>While your project seems like it's MVVM, I don't think it actually is. Yeah, you have layers, but your model and viewmodels are trading responsibilities. One way to keep things pure in an MVVM situation is to never put INotifyPropertyChanged on anything but a viewmodel. If you find yourself putting it in a model, then your model is becoming corrupted by viewmodel responsibilities. Ditto views (though people are less prone to stack INotifyPropertyChanged onto views). It'll help, too, to break your assumption that a view is associated with a single viewmodel. That feels like a cross-over from MVC thinking.</p>\n\n<p>So what I'm saying is that you have a structural problem that begins conceptually. There's no reason a viewmodel can't have a child viewmodel, for example. Indeed, I often find that useful when I have a strong hierarchy of objects. So you'd have Item and ItemViewModel. And whatever your parent object is (say, Parent) and ParentViewModel. The ParentViewModel would have the observable collection of type ItemViewModel and it would subscribe to the OnPropertyChanged events of its children (which would fire an OnPropertyChanged for the total property). That way the ParentViewModel can both alert the UI of property changes and determine if that change needs to be reflected in the Parent model as well (sometimes you'd want to store the aggregate in the parent data, and sometimes not). Calculated fields (like totals) are often present only in the ViewModel.</p>\n\n<p>In short, your ViewModels handle the coordination. Your ViewModel is master of the model data and communication between objects should happen viewmodel to viewmodel rather than through the model. Which means your UI can have a view for the parent and a separately defined view for the child and keeping those isolated works because they communicate through their bound viewmodels.</p>\n\n<p>Does that make sense?</p>\n\n<p>It'd look something like:</p>\n\n<pre><code>public class ParentViewModel : INotifyPropertyChanged\n{\n    private readonly Model _model;\n\n    public ParentViewModel(Model model)\n    {\n        _model = model;\n        Items = new ObservableCollection&lt;ItemViewModel&gt;(_model.Items.Select(i =&gt; new ItemViewModel(i)));\n        foreach(var item in Items)\n        {\n            item.PropertyChanged += ChildOnPropertyChanged;\n        }\n        Items.CollectionChanged += ItemsOnCollectionChanged;\n    }\n\n    private void ItemsOnCollectionChanged(object sender, NotifyCollectionChangedEventArgs e)\n    {\n        if (e.NewItems != null)\n            foreach (Item item in e.NewItems)\n                item.PropertyChanged += ChildOnPropertyChanged;\n\n        if (e.OldItems != null)\n            foreach (Item item in e.OldItems)\n                item.PropertyChanged -= ChildOnPropertyChanged;\n\n        OnPropertyChanged(nameof(ItemsTotal));\n    }\n\n    private void ChildOnPropertyChanged(object sender, PropertyChangedEventArgs propertyChangedEventArgs)\n    {\n        if (e.PropertyName == \"Value\")\n            OnPropertyChanged(nameof(ItemsTotal));\n    }\n\n    public ObservableCollection&lt;ItemViewModel&gt; Items;\n    public int ItemsTotal =&gt; Items.Sum(item =&gt; item.Value);\n\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    [NotifyPropertyChangedInvocator]\n    protected virtual void OnPropertyChanged([CallerMemberName] string propertyName = null)\n    {\n        PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n    }\n}\n</code></pre>\n\n<p>Which is complicated, but at least all the complication is contained in your ViewModel and coordinated from there.</p>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 2019789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7482146cbaaf7fafacf069e3e31e9e08?s=128&d=identicon&r=PG", "display_name": "Travis", "link": "https://stackoverflow.com/users/2019789/travis"}, "is_accepted": false, "score": 1, "last_activity_date": 1476399656, "creation_date": 1476399656, "answer_id": 40032388, "question_id": 39883306, "link": "https://stackoverflow.com/questions/39883306/notify-property-change-defined-in-the-viewmodel-when-underlying-model-data-chang/40032388#40032388", "title": "Notify property change defined in the ViewModel when underlying Model data changes", "body": "<p>This seems to work well enough for my purposes. I'm sure this solution, in various other forms, can be found all over the internet.</p>\n\n<pre><code>public class ChildNotifier&lt;T&gt; : INotifyPropertyChanged where T : INotifyPropertyChanged\n{\n    private ObservableCollection&lt;T&gt; _list;\n\n    public ObservableCollection&lt;T&gt; List\n    {\n        get { return _list; }\n        set\n        {\n            if (Equals(value, _list)) return;\n            _list = value;\n\n            foreach (T item in _list)\n                item.PropertyChanged += ChildOnPropertyChanged;\n\n            OnPropertyChanged();\n        }\n    }\n\n    protected ChildNotifier(IEnumerable&lt;T&gt; list)\n    {\n        _list = new ObservableCollection&lt;T&gt;(list);\n        _list.CollectionChanged += ItemsOnCollectionChanged;\n        foreach (T item in _list)\n            item.PropertyChanged += ChildOnPropertyChanged;\n    }\n\n    protected abstract void ChildOnPropertyChanged(object sender, propertyChangedEventArgs e);\n\n    private void ItemsOnCollectionChanged(object sender, NotifyCollectionChangedEventArgs e)\n    {\n        if (e.NewItems != null)\n            foreach (T item in e.NewItems)\n                item.PropertyChanged += ChildOnPropertyChanged;\n\n        if (e.OldItems != null)\n            foreach (T item in e.OldItems)\n                item.PropertyChanged -= ChildOnPropertyChanged;\n\n        OnPropertyChanged();\n    }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    [NotifyPropertyChangedInvocator]\n    protected virtual void OnPropertyChanged([CallerMemberName] string propertyName = null)\n    {\n        PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 2019789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7482146cbaaf7fafacf069e3e31e9e08?s=128&d=identicon&r=PG", "display_name": "Travis", "link": "https://stackoverflow.com/users/2019789/travis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5756, "favorite_count": 1, "accepted_answer_id": 39883910, "answer_count": 2, "score": 6, "last_activity_date": 1476399656, "creation_date": 1475700195, "last_edit_date": 1475700322, "question_id": 39883306, "link": "https://stackoverflow.com/questions/39883306/notify-property-change-defined-in-the-viewmodel-when-underlying-model-data-chang", "title": "Notify property change defined in the ViewModel when underlying Model data changes", "body": "<p>Question: What is the proper way to update a bounded UI element to show the values of property defined only in the ViewModel after a property in an individual item in list changes value.</p>\n\n<p>When implementing the INotifyPropertyChanged in a class that are going to be the items in list, it only updates the UI element that specific piece of data is bound to. Like a ListView item or DataGrid cell. And that's fine, that's what we want. But what if we need a total's row, like in an Excel table. Sure there are several ways to go about that specific problem, but the underlying issue here is when the property is defined and calculated in the ViewModel based on data from the Model. Like for example:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class ViewModel\n{\n   public double OrderTotal =&gt; _model.order.OrderItems.Sum(item =&gt; item.Quantity * item.Product.Price);\n}\n</code></pre>\n\n<p>When and how does that get notified/updated/called?</p>\n\n<p>Let's try this with a more complete example.</p>\n\n<p>Here's the XAML</p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;DataGrid x:Name=\"GrdItems\" ... ItemsSource=\"{Binding Items}\"/&gt;\n    &lt;TextBox x:Name=\"TxtTotal\" ... Text=\"{Binding ItemsTotal, Mode=OneWay}\"/&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>This is the Model:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class Item : INotifyPropertyChanged\n{\n    private string _name;\n    private int _value;\n\n    public string Name\n    {\n        get { return _name; }\n        set\n        {\n            if (value == _name) return;\n            _name = value;\n            OnPropertyChanged();\n        }\n    }\n\n    public int Value\n    {\n        get { return _value; }\n        set\n        {\n            if (value.Equals(_value)) return;\n            _value = value;\n            OnPropertyChanged();\n        }\n    }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    protected virtual void OnPropertyChanged(string propertyName = null)\n    {\n        PropertyChanged?.Invoke(this, new propertyChangedEventArgs(propertyName));\n    }\n}\n\npublic class Model\n{\n    public List&lt;Item&gt; Items { get; set; } = new List&lt;Item&gt;();\n\n    public Model()\n    {\n        Items.Add(new Item() { Name = \"Item A\", Value = 100 });\n        Items.Add(new Item() { Name = \"Item b\", Value = 150 });\n        Items.Add(new Item() { Name = \"Item C\", Value = 75 });\n    }\n}\n</code></pre>\n\n<p>And the ViewModel:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class ViewModel\n{\n    private readonly Model _model = new Model();\n\n    public List&lt;Item&gt; Items =&gt; _model.Items;\n    public int ItemsTotal =&gt; _model.Items.Sum(item =&gt; item.Value);\n}\n</code></pre>\n\n<p>I know this is code looks over simplified, but it's part of a larger, frustratingly difficult application.</p>\n\n<p>All I want to do is when I change an item's value in the DataGrid I want the ItemsTotal property to update the TxtTotal textbox.</p>\n\n<p>So far the solutions I've found include using ObservableCollection and implementing CollectionChanged event.</p>\n\n<p>The model changes to:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class Model: INotifyPropertyChanged\n{\n    public ObservableCollection&lt;Item&gt; Items { get; set; } = new ObservableCollection&lt;Item&gt;();\n\n    public Model()\n    {\n        Items.CollectionChanged += ItemsOnCollectionChanged;\n    }\n\n    .\n    .\n    .\n\n    private void ItemsOnCollectionChanged(object sender, NotifyCollectionChangedEventArgs e)\n    {\n        if (e.NewItems != null)\n            foreach (Item item in e.NewItems)\n                item.PropertyChanged += MyType_PropertyChanged;\n\n        if (e.OldItems != null)\n            foreach (Item item in e.OldItems)\n                item.PropertyChanged -= MyType_PropertyChanged;\n    }\n\n    void MyType_PropertyChanged(object sender, PropertyChangedEventArgs e)\n    {\n        if (e.PropertyName == \"Value\")\n            OnPropertyChanged(nameof(Items));\n    }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    .\n    .\n    .\n\n}\n</code></pre>\n\n<p>And the viewmodel changes to:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class ViewModel : INotifyPropertyChanged\n{\n    private readonly Model _model = new Model();\n\n    public ViewModel()\n    {\n        _model.PropertyChanged += ModelOnPropertyChanged;\n    }\n\n    private void ModelOnPropertyChanged(object sender, PropertyChangedEventArgs propertyChangedEventArgs)\n    {\n        OnPropertyChanged(nameof(ItemsTotal));\n    }\n\n    public ObservableCollection&lt;Item&gt; Items =&gt; _model.Items;\n    public int ItemsTotal =&gt; _model.Items.Sum(item =&gt; item.Value);\n\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    [NotifyPropertyChangedInvocator]\n    protected virtual void OnPropertyChanged([CallerMemberName] string propertyName = null)\n    {\n        PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n    }\n}\n</code></pre>\n\n<p>This solution works, but it just seems like a work around hack that should have a more eloquent implementation. My project has several of these sum properties in the viewmodel and I as it stands, that's a lot of properties to update and a lot of code to write which just feels like more overhead. </p>\n\n<p>I have more research to do, several interesting articles came up while I was writing this question. I'll update this post with links to other solutions as it seems this issues is more common than I thought.</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 6603982, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8ab5ec3f7103adc214561aedbe637e3e?s=128&d=identicon&r=PG&f=1", "display_name": "TheLost Lostit", "link": "https://stackoverflow.com/users/6603982/thelost-lostit"}, "edited": false, "score": 0, "creation_date": 1475701950, "post_id": 39883072, "comment_id": 67054467, "body": "And if i want to SetParent using Tag for example if i attach the script to the MainCamera but i want that the objects will be childs under GameObject name Spheres ?"}, {"owner": {"reputation": 1280, "user_id": 6899868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdf8c1eecd2f713142980065b4b59f1?s=128&d=identicon&r=PG&f=1", "display_name": "K Richardson", "link": "https://stackoverflow.com/users/6899868/k-richardson"}, "reply_to_user": {"reputation": 393, "user_id": 6603982, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8ab5ec3f7103adc214561aedbe637e3e?s=128&d=identicon&r=PG&f=1", "display_name": "TheLost Lostit", "link": "https://stackoverflow.com/users/6603982/thelost-lostit"}, "edited": false, "score": 0, "creation_date": 1475702091, "post_id": 39883072, "comment_id": 67054525, "body": "If you have access to the GameObject (you could add it as a public object in the SphereBuilder script) then you can use o.transform.SetParent(spheres.transform);"}, {"owner": {"reputation": 393, "user_id": 6603982, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8ab5ec3f7103adc214561aedbe637e3e?s=128&d=identicon&r=PG&f=1", "display_name": "TheLost Lostit", "link": "https://stackoverflow.com/users/6603982/thelost-lostit"}, "edited": false, "score": 0, "creation_date": 1475702923, "post_id": 39883072, "comment_id": 67054872, "body": "Ok this is working: o.transform.SetParent(spheres.transform); but only when i make the GameObject Spheres untagged. But i want it to be tagged since i want to get all the cloned objects later from another class. Why when i tag the Spheres GameObject the parent as Sphere it&#39;s get destroyed ?"}, {"owner": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "edited": false, "score": 1, "creation_date": 1475703723, "post_id": 39883072, "comment_id": 67055228, "body": "Well, in your <code>UpdateSpheres</code> you get all gameobjects with the tag <code>Spheres</code> and destroy them."}, {"owner": {"reputation": 1280, "user_id": 6899868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdf8c1eecd2f713142980065b4b59f1?s=128&d=identicon&r=PG&f=1", "display_name": "K Richardson", "link": "https://stackoverflow.com/users/6899868/k-richardson"}, "reply_to_user": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "edited": false, "score": 0, "creation_date": 1475704556, "post_id": 39883072, "comment_id": 67055551, "body": "As @GunnarB. pointed out, all &quot;Sphere&quot; GameObjects are being destroyed. Maybe a different tag would work better for the parent object and your other class can look for it using the other tag."}], "tags": [], "owner": {"reputation": 1280, "user_id": 6899868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdf8c1eecd2f713142980065b4b59f1?s=128&d=identicon&r=PG&f=1", "display_name": "K Richardson", "link": "https://stackoverflow.com/users/6899868/k-richardson"}, "is_accepted": true, "score": 1, "last_activity_date": 1475699153, "creation_date": 1475699153, "answer_id": 39883072, "question_id": 39883018, "link": "https://stackoverflow.com/questions/39883018/why-all-the-cloned-objects-are-not-childs-under-gameobject-sphere/39883072#39883072", "title": "Why all the cloned objects are not childs under gameobject Sphere?", "body": "<p>After you instantiate the object, set the transform parent.</p>\n\n<pre><code>o.transform.SetParent(gameObject.transform);\n</code></pre>\n"}], "owner": {"reputation": 393, "user_id": 6603982, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8ab5ec3f7103adc214561aedbe637e3e?s=128&d=identicon&r=PG&f=1", "display_name": "TheLost Lostit", "link": "https://stackoverflow.com/users/6603982/thelost-lostit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 39883072, "answer_count": 1, "score": 0, "last_activity_date": 1475699153, "creation_date": 1475698962, "question_id": 39883018, "link": "https://stackoverflow.com/questions/39883018/why-all-the-cloned-objects-are-not-childs-under-gameobject-sphere", "title": "Why all the cloned objects are not childs under gameobject Sphere?", "body": "<p>It did work before but i can't figure out what is wrong now.\nIn the Hierarchy i have a GameObject i renamed it to Sphere. This Sphere is tagged as Sphere.</p>\n\n<p>But when running the game all the cloned objects are in the hierarchy and not as childs inside Sphere. The Sphere it self is gone delete when running the game.</p>\n\n<p>This is a screenshot of the Sphere gameobject before running the game:\nThe script Sphere Builder is attached to Sphere:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AB3eg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AB3eg.jpg\" alt=\"Before Running\"></a></p>\n\n<p>This screenshot is when running the game:\nAll the clones should be under Sphere gameobject:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XnezJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XnezJ.jpg\" alt=\"When Running\"></a></p>\n\n<p>This is the script:</p>\n\n<pre><code>using System;\nusing UnityEngine;\nusing Random = UnityEngine.Random;\nusing System.Collections;\nusing System.Collections.Generic;\n\npublic class SphereBuilder : MonoBehaviour\n{\n    public GameObject SpaceShip;\n\n    // for tracking properties change\n    private Vector3 _extents;\n    private int _sphereCount;\n    private float _sphereSize;\n\n    /// &lt;summary&gt;\n    ///     How far to place spheres randomly.\n    /// &lt;/summary&gt;\n    public Vector3 Extents;\n\n    /// &lt;summary&gt;\n    ///     How many spheres wanted.\n    /// &lt;/summary&gt;\n    public int SphereCount;\n    public float SphereSize;\n\n    private void OnValidate()\n    {\n        // prevent wrong values to be entered\n        Extents = new Vector3(Mathf.Max(0.0f, Extents.x), Mathf.Max(0.0f, Extents.y), Mathf.Max(0.0f, Extents.z));\n        SphereCount = Mathf.Max(0, SphereCount);\n        SphereSize = Mathf.Max(0.0f, SphereSize);\n    }\n\n    private void Reset()\n    {\n        Extents = new Vector3(250.0f, 20.0f, 250.0f);\n        SphereCount = 100;\n        SphereSize = 20.0f;\n    }\n\n    private void Update()\n    {\n        UpdateSpheres();\n    }\n\n    private void UpdateSpheres()\n    {\n        if (Extents == _extents &amp;&amp; SphereCount == _sphereCount &amp;&amp; Mathf.Approximately(SphereSize, _sphereSize))\n            return;\n\n        // cleanup\n        var spheres = GameObject.FindGameObjectsWithTag(\"Sphere\");\n        foreach (var t in spheres)\n        {\n            if (Application.isEditor)\n            {\n                DestroyImmediate(t);\n            }\n            else\n            {\n                Destroy(t);\n            }\n        }\n\n        var withTag = GameObject.FindWithTag(\"Terrain\");\n        if (withTag == null)\n            throw new InvalidOperationException(\"Terrain not found\");\n\n        for (var i = 0; i &lt; SphereCount; i++)\n        {\n            var o = Instantiate(SpaceShip);\n            o.tag = \"Sphere\";\n            o.transform.localScale = new Vector3(SphereSize, SphereSize, SphereSize);\n\n            // get random position\n            var x = Random.Range(-Extents.x, Extents.x);\n            var y = Extents.y; // sphere altitude relative to terrain below\n            var z = Random.Range(-Extents.z, Extents.z);\n\n            // now send a ray down terrain to adjust Y according terrain below\n            var height = 10000.0f; // should be higher than highest terrain altitude\n            var origin = new Vector3(x, height, z);\n            var ray = new Ray(origin, Vector3.down);\n            RaycastHit hit;\n            var maxDistance = 20000.0f;\n            var nameToLayer = LayerMask.NameToLayer(\"Terrain\");\n            var layerMask = 1 &lt;&lt; nameToLayer;\n            if (Physics.Raycast(ray, out hit, maxDistance, layerMask))\n            {\n                var distance = hit.distance;\n                y = height - distance + y; // adjust\n            }\n            else\n            {\n                Debug.LogWarning(\"Terrain not hit, using default height !\");\n            }\n\n            // place !\n            o.transform.position = new Vector3(x, y, z);\n        }\n\n        _extents = Extents;\n        _sphereCount = SphereCount;\n        _sphereSize = SphereSize;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "windows-applications"], "comments": [{"owner": {"reputation": 877, "user_id": 5878562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kkBpZ.jpg?s=128&g=1", "display_name": "GauravKP", "link": "https://stackoverflow.com/users/5878562/gauravkp"}, "edited": false, "score": 0, "creation_date": 1475698934, "post_id": 39882918, "comment_id": 67053034, "body": "Since you are using a Windows Application, it is easy, you can use a Global <code>DataTable</code> to hold the Data which you want to display. Once your form is reloaded, bind the DataTable to DataGridView"}, {"owner": {"reputation": 969, "user_id": 6869708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/265caca17af8132f61416ec39b9e3704?s=128&d=identicon&r=PG&f=1", "display_name": "RohitS", "link": "https://stackoverflow.com/users/6869708/rohits"}, "edited": false, "score": 0, "creation_date": 1475698951, "post_id": 39882918, "comment_id": 67053047, "body": "thats not possible because when you close the form it gets destroyed so does its all controls(Grid) along with your data...when you open form again all elements recreated...so one way could be store data in local datatable object and use it to bind to grid (the same data every time form opens)...do go through windows form page lifecycle here is the link <a href=\"https://msdn.microsoft.com/en-us/library/86faxx0d(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/86faxx0d(v=vs.110).aspx</a>"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1475699123, "post_id": 39882918, "comment_id": 67053150, "body": "Let&#39;s clarify: You want to persist the data a user enteres between programm runs? And you don&#39;t have a DataSource? - I would serialize the data into an xml file. you may use all text fields or types that fit your data.."}], "owner": {"reputation": 1, "user_id": 6826683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52d96e1c498623efa4f7acb8b11122f?s=128&d=identicon&r=PG", "display_name": "user6826683", "link": "https://stackoverflow.com/users/6826683/user6826683"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "closed_date": 1475699322, "answer_count": 0, "score": 0, "last_activity_date": 1475699392, "creation_date": 1475698507, "last_edit_date": 1475699392, "question_id": 39882918, "link": "https://stackoverflow.com/questions/39882918/temporarily-save-data-in-datagridview", "closed_reason": "Duplicate", "title": "Temporarily Save data in datagridview", "body": "<p>Is it possible to save data in datagridview temporarily, by c# &amp; windows form?</p>\n\n<p>To clarify:\nAfter add data in datagridview and close form and after that open form again this data not clear! </p>\n\n<p>Note: i don't want get all data from database in the datagridview, I mean just added data before close form</p>\n"}, {"tags": ["c#", "linq"], "answers": [{"comments": [{"owner": {"reputation": 2853, "user_id": 6682181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWWHj.png?s=128&g=1", "display_name": "haindl", "link": "https://stackoverflow.com/users/6682181/haindl"}, "reply_to_user": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 0, "creation_date": 1475699442, "post_id": 39882954, "comment_id": 67053306, "body": "@GiladGreen If I&#39;m not totally wrong <code>fGroup.ToList()</code> returns a <code>List&lt;QuestionData&gt;</code> of the QuestionDatas that achieved the QuestionFinalScore in the given group. I&#39;ve double-checked my code and it works fine. But it has been a pretty long day, so it could totally be that I didn&#39;t understand correctly what the <code>ListAchived</code> should consist of."}, {"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 1, "creation_date": 1475699928, "post_id": 39882954, "comment_id": 67053567, "body": "Sorry it was my mistake. I thought <code>FinalSet</code> was of type of <code>QuestionInfo</code>. Your solution with the simple <code>.ToList()</code> is what needed"}], "tags": [], "owner": {"reputation": 2853, "user_id": 6682181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWWHj.png?s=128&g=1", "display_name": "haindl", "link": "https://stackoverflow.com/users/6682181/haindl"}, "is_accepted": true, "score": 4, "last_activity_date": 1475698860, "last_edit_date": 1475698860, "creation_date": 1475698645, "answer_id": 39882954, "question_id": 39882827, "link": "https://stackoverflow.com/questions/39882827/adding-items-to-list-using-linq/39882954#39882954", "title": "Adding Items to List using Linq", "body": "<p>I think you want to do this:</p>\n\n<pre><code>, ListAchieved = fGroup.ToList()\n</code></pre>\n\n<p>This puts all the items of one group into a list.</p>\n"}], "owner": {"reputation": 3763, "user_id": 4585476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Xqkw.jpg?s=128&g=1", "display_name": "AVK", "link": "https://stackoverflow.com/users/4585476/avk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 918, "favorite_count": 0, "accepted_answer_id": 39882954, "answer_count": 1, "score": 2, "last_activity_date": 1475699718, "creation_date": 1475698122, "question_id": 39882827, "link": "https://stackoverflow.com/questions/39882827/adding-items-to-list-using-linq", "title": "Adding Items to List using Linq", "body": "<p>I brought down my classes to be as simple as possible. Below are my classes.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class QuestionData\n{\n    property QuestionID int {get; set;}\n    property Question String {get; set;}\n    property QuestionScore int {get; set;}\n    &lt;!---Few More Properties ----!&gt;\n}\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class QuestionInfo\n{\n    property QuestionID int {get; set;}\n    property Question String {get; set;}\n    property QuestionFinalScore int {get; set;}\n    property List&lt;QuestionData&gt; ListAchieved {get; set;}\n}\n</code></pre>\n\n<p>Below is my Sample Data</p>\n\n<pre><code>Question | QuestionID | QuestionScore \n    Q1   |      1     |     10\n    Q1   |      1     |     20\n    Q2   |      2     |     10\n    Q2   |      2     |     -5\n</code></pre>\n\n<p>After going through Group in <code>Linq</code> and with below <code>Query</code></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>List&lt;QuestionData&gt; FinalSet = // Filled with Data Here\nIEnumerable&lt;QuestionInfo&gt; datapoints = from f in FinalSet\n    group f by new { f.QuestionID, f.Question } into fGroup\n    select new QuestionInfo()\n    {\n        QuestionID = fGroup.Key.QuestionID\n        , Question = fGroup.Key.Question,\n        , QuestionFinalScore = fGroup.Sum(g =&gt; g.QuestionScore)\n        //, ListAchieved = This is where IDK what to do :(\n    };\n</code></pre>\n\n<p>Below is my Output</p>\n\n<pre><code>Question | QuestionID | QuestionScore \n    Q1   |      1     |     30\n    Q2   |      2     |     5\n</code></pre>\n\n<p>Now if you see My Class <code>QuestionInfo</code>, I need to Add All <code>QuestionData</code> to my Question <code>ListAchieved</code> property so that I can show it in a list as to how the <code>Question</code> <code>QuestionFinalScore</code> ended up what it is.</p>\n\n<p>Can anyone point me as to what i need to do to add all these items to my <code>List&lt;QuestionData&gt;</code> Property grouped by <code>QuestionID</code> and <code>Question</code></p>\n"}, {"tags": ["c#", "unit-testing", "mocking", "nunit", "rhino-mocks"], "comments": [{"owner": {"reputation": 5397, "user_id": 1346943, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/628ebdc322767507198b8b595db5a5d3?s=128&d=identicon&r=PG", "display_name": "Sven Grosen", "link": "https://stackoverflow.com/users/1346943/sven-grosen"}, "edited": false, "score": 1, "creation_date": 1475698655, "post_id": 39882716, "comment_id": 67052886, "body": "Look into this <a href=\"http://stackoverflow.com/a/26017436/1346943\">answer</a> to a related question"}, {"owner": {"reputation": 399, "user_id": 2023740, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/db3b3346064744dc7e4308755c50fc87?s=128&d=identicon&r=PG", "display_name": "Reddy", "link": "https://stackoverflow.com/users/2023740/reddy"}, "reply_to_user": {"reputation": 5397, "user_id": 1346943, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/628ebdc322767507198b8b595db5a5d3?s=128&d=identicon&r=PG", "display_name": "Sven Grosen", "link": "https://stackoverflow.com/users/1346943/sven-grosen"}, "edited": false, "score": 0, "creation_date": 1475700662, "post_id": 39882716, "comment_id": 67053915, "body": "hmm, I&#39;m not sure I can use that solution as I am not able to modify the class that I need to test."}, {"owner": {"reputation": 6982, "user_id": 1362136, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d56fc1446fb44c8d15765ece84a2aec0?s=128&d=identicon&r=PG", "display_name": "Stephen Byrne", "link": "https://stackoverflow.com/users/1362136/stephen-byrne"}, "edited": false, "score": 1, "creation_date": 1475702889, "post_id": 39882716, "comment_id": 67054855, "body": "Not sure there is a way to do this as a pure unit test - DbContext.Database is not virtual so a classic Mocking scenario won&#39;t work. Perhaps you need to draw the line there for unit tests and make this one an integration test?"}], "answers": [{"comments": [{"owner": {"reputation": 399, "user_id": 2023740, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/db3b3346064744dc7e4308755c50fc87?s=128&d=identicon&r=PG", "display_name": "Reddy", "link": "https://stackoverflow.com/users/2023740/reddy"}, "edited": false, "score": 0, "creation_date": 1475757571, "post_id": 39884604, "comment_id": 67078076, "body": "To be honest with you, I have just started my first professional role as a Software Developer and have been given the task of writing unit tests for the company&#39;s custom nopCommerce plugins so I am not sure if they would feel comfortable with me actually going in and modifying core functionality that could break the entire system. But the whole wrapper thing does sound simple enough to implement, I will bring this concern up in our next meeting and just get their opinion on if they would be okay with that, or just prefer to make an integration test."}, {"owner": {"reputation": 1529, "user_id": 6816469, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/54907491c4c3e4fe42864f16ad2d4599?s=128&d=identicon&r=PG&f=1", "display_name": "tonicsoft", "link": "https://stackoverflow.com/users/6816469/tonicsoft"}, "reply_to_user": {"reputation": 399, "user_id": 2023740, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/db3b3346064744dc7e4308755c50fc87?s=128&d=identicon&r=PG", "display_name": "Reddy", "link": "https://stackoverflow.com/users/2023740/reddy"}, "edited": false, "score": 1, "creation_date": 1475759048, "post_id": 39884604, "comment_id": 67079217, "body": "Part of the reason why tests are a good idea is that they tell you when parts of your code may be badly designed. To be honest, if you turned up to my team meeting saying &quot;I would like to improve this class to make it more testable&quot; then I would be impressed and grateful. You are probably wise to discuss it first though! Good luck. p.s. in my opinion making a new developer write unit tests for code that has already been written is a bit cruel and the business value is limited. Don&#39;t let it give you a bad first impression of TDD which works best if the tests are written FIRST!"}, {"owner": {"reputation": 15221, "user_id": 2326914, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5be766827c5f7d3c077e92f75b7f9104?s=128&d=identicon&r=PG", "display_name": "Rog&#233;rio", "link": "https://stackoverflow.com/users/2326914/rog%c3%a9rio"}, "edited": false, "score": 0, "creation_date": 1475771308, "post_id": 39884604, "comment_id": 67087820, "body": "Why is it that answers like this completely fail to mention that mocking things like <code>static</code> (or non-<code>virtual</code> methods, etc.) is a problem that <i>has been solved</i> in several mocking libraries already (specifically, TypeMock Isolator, JustMock, MS Fakes)? Is that fact not known, or is it just &quot;forgotten&quot;? Also, should we really prefer to compromise our code in order to work around limitations in some particular testing tool (eg, moq) when we need to mock something?"}, {"owner": {"reputation": 1529, "user_id": 6816469, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/54907491c4c3e4fe42864f16ad2d4599?s=128&d=identicon&r=PG&f=1", "display_name": "tonicsoft", "link": "https://stackoverflow.com/users/6816469/tonicsoft"}, "edited": false, "score": 0, "creation_date": 1475829618, "post_id": 39884604, "comment_id": 67110252, "body": "Removing calls to static methods is not compromising your code, it&#39;s improving it. Also, the tools you mention should be reserved for very specific cases only. One such tool, PowerMock, states on their own github docs: &quot;Please note that PowerMock is mainly intended for people with expert knowledge in unit testing. Putting it in the hands of junior developers may cause more harm than good.&quot; So I hardly find it appropriate to advise new developers like Reddy to use these tools as a first port of call, which is why I made no mention of them in my answer."}, {"owner": {"reputation": 1529, "user_id": 6816469, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/54907491c4c3e4fe42864f16ad2d4599?s=128&d=identicon&r=PG&f=1", "display_name": "tonicsoft", "link": "https://stackoverflow.com/users/6816469/tonicsoft"}, "edited": false, "score": 0, "creation_date": 1475829838, "post_id": 39884604, "comment_id": 67110378, "body": "Furthermore, these tools often work by modifying compiled code which raises the issue that you are not even testing the version of the class that is being used in production. While I don&#39;t deny that this could be useful from time to time (although personally I have never actually had the need), it just <i>feels</i> like the kind of thing that should be avoided if possible, which in this case, it is."}], "tags": [], "owner": {"reputation": 1529, "user_id": 6816469, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/54907491c4c3e4fe42864f16ad2d4599?s=128&d=identicon&r=PG&f=1", "display_name": "tonicsoft", "link": "https://stackoverflow.com/users/6816469/tonicsoft"}, "is_accepted": true, "score": 1, "last_activity_date": 1475706013, "creation_date": 1475706013, "answer_id": 39884604, "question_id": 39882716, "link": "https://stackoverflow.com/questions/39882716/rhino-mocks-how-to-mock-a-database-call-in-a-parameterless-method/39884604#39884604", "title": "Rhino Mocks: How to Mock a Database call in a Parameterless Method?", "body": "<p>I'm afraid the only answer worth giving here is that the code must be modified to be more test-friendly. Trying to write unit tests for methods that make calls to <code>static</code> classes, properties or methods is not a rewarding or worthwhile task. You suggest that you may be missing a fundamental concept here and this may be it: <code>static</code> is unit testing's worst enemy and the collective wisdom is that there isn't much point putting a lot of effort into testing things that use static resources. Just refactor the code.</p>\n\n<p>If refactoring the code is truly impossible then why would you need to unit test it (this is not a rhetorical question, please comment)? If the concern is that you need to mock these objects as part of other tests, then you should wrap the evil, unmodifiable code with a test friendly interface and mock that instead.</p>\n"}], "owner": {"reputation": 399, "user_id": 2023740, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/db3b3346064744dc7e4308755c50fc87?s=128&d=identicon&r=PG", "display_name": "Reddy", "link": "https://stackoverflow.com/users/2023740/reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 0, "accepted_answer_id": 39884604, "answer_count": 1, "score": 0, "last_activity_date": 1475706013, "creation_date": 1475697730, "question_id": 39882716, "link": "https://stackoverflow.com/questions/39882716/rhino-mocks-how-to-mock-a-database-call-in-a-parameterless-method", "title": "Rhino Mocks: How to Mock a Database call in a Parameterless Method?", "body": "<p>I am writing unit tests for an ASP.NET MVC application in C# using NUnit and Rhino Mocks. I am having some trouble testing this method:</p>\n\n<pre><code>public void Install()\n    {\n        Database.SetInitializer&lt;DraftOrderObjectContext&gt;(null);\n        var dbScript = CreateDatabaseInstallationScript();\n\n        Database.ExecuteSqlCommand(dbScript);\n        SaveChanges();\n    }\n</code></pre>\n\n<p>Just to clarify, Database is not referring to a local object. The first one \"Database.SetInitializer...\" refers to:</p>\n\n<pre><code>System.Data.Entity.Database\n</code></pre>\n\n<p>and the second \"Database.ExecuteSqlCommand...\" refers to:</p>\n\n<pre><code>System.Data.Entity.DbContext.Database\n</code></pre>\n\n<hr>\n\n<p>Since the method does not return anything, I figured it would be sufficient to make a mock and verify that Database.ExecuteSqlCommand(dbScript); was called at least once.</p>\n\n<p>Now I've done this before, but that involved passing a database context to the method, which is easy enough to mock, however, in this case there are no parameters. I need to somehow find a way to mock 'Database'.</p>\n\n<hr>\n\n<p>I have tried straight up assigning a mock like so:</p>\n\n<pre><code>System.Data.Entity.DbContext.Database = MockRepository.GenerateMock&lt;System.Data.Entity.DbContext.Database&gt;();\n</code></pre>\n\n<p>but that breaks syntax because the property is read only.</p>\n\n<hr>\n\n<p>I have also tried mocking DbContext like so:</p>\n\n<pre><code>System.Data.Entity.DbContext instance = MockRepository.GenerateMock&lt;System.Data.Entity.DbContext&gt;();\n\n        instance.Expect(someCaller =&gt; someCaller.Database.ExecuteSqlCommand(\"sql\"))\n            .IgnoreArguments()\n            .Return(1)\n            .Repeat.Times(1);\n</code></pre>\n\n<p>but I get a runtime error saying DbContext.getHashCode() must return a value. I then tried stubbing the getHashCode method to make it return something but that had no effect.</p>\n\n<hr>\n\n<p>I am still fairly new to mocking so I may be missing some fundamental concept here. My apologies if that is the case. Any help is much appreciated!</p>\n"}, {"tags": ["c#", "wpf", "video", "directshow", "directshow.net"], "answers": [{"comments": [{"owner": {"reputation": 48529, "user_id": 63074, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e77511a13f8c53b87610e52b4b38aa43?s=128&d=identicon&r=PG", "display_name": "Mike Dinescu", "link": "https://stackoverflow.com/users/63074/mike-dinescu"}, "edited": false, "score": 0, "creation_date": 1475775365, "post_id": 39883263, "comment_id": 67090044, "body": "Great explanation - could you expand a bit on the &quot;and most popular yet clumsy is use of Sample Grabber&quot; statement?  Why is the Sample Grabber way clumsy and what would be a better way?"}, {"owner": {"reputation": 858, "user_id": 4868685, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e38912c8e8117d480b2279068fecdbd1?s=128&d=identicon&r=PG", "display_name": "Alan Thomas", "link": "https://stackoverflow.com/users/4868685/alan-thomas"}, "edited": false, "score": 0, "creation_date": 1475781957, "post_id": 39883263, "comment_id": 67093683, "body": "@Roman R. Could you provide a little bit more detail on how to implement a pool of MTA threads for the DirectShow related code? I&#39;m unable to open a WPF window in an MTA thread because it requires its thread to be STA. I&#39;ve been trying to implement the methods you&#39;ve mentioned but can&#39;t seem to come up with a working solution."}, {"owner": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "reply_to_user": {"reputation": 48529, "user_id": 63074, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e77511a13f8c53b87610e52b4b38aa43?s=128&d=identicon&r=PG", "display_name": "Mike Dinescu", "link": "https://stackoverflow.com/users/63074/mike-dinescu"}, "edited": false, "score": 0, "creation_date": 1475957577, "post_id": 39883263, "comment_id": 67155605, "body": "@MikeDinescu: I think this goes beyond the scope of this question, I made a note note to write on this some time later."}, {"owner": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "reply_to_user": {"reputation": 858, "user_id": 4868685, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e38912c8e8117d480b2279068fecdbd1?s=128&d=identicon&r=PG", "display_name": "Alan Thomas", "link": "https://stackoverflow.com/users/4868685/alan-thomas"}, "edited": false, "score": 0, "creation_date": 1475958060, "post_id": 39883263, "comment_id": 67155759, "body": "@AlanThomas: This problem has easy solution in native code domain, that is if you&#39;d have native code parts you perhaps would not even run into these problems. With .NET you have to be accurate with COM threading, and your use of DirectShow pointers in UI STA thread basically leaves no options to use the same interface on a worker thread simultaneously. Besides trying to initialize UI thread as MTA (what you have tried), you could move your entire DirectShow logic to MTA (initialization etc.) which would give you the option to use interface on a concurrent MTA worker thread, I suppose."}, {"owner": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "edited": false, "score": 0, "creation_date": 1475958285, "post_id": 39883263, "comment_id": 67155831, "body": "I have no certainty this is going to be a good solution though. I myself always handled this in native code even when higher level code was managed. DirectShow graph and video renderer is basically fine to be in worker thread, even though I don&#39;t recommend it for other reasons. Overall I see not so much space for improvement here especially that as I said proper threading does not solve the other problem of reading back from video memory and its impact on performance."}, {"owner": {"reputation": 858, "user_id": 4868685, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e38912c8e8117d480b2279068fecdbd1?s=128&d=identicon&r=PG", "display_name": "Alan Thomas", "link": "https://stackoverflow.com/users/4868685/alan-thomas"}, "edited": false, "score": 0, "creation_date": 1476984083, "post_id": 39883263, "comment_id": 67590191, "body": "I&#39;ve worked on this issue on and off since I asked this question but still came to no solution. However, this has answered my original question so I&#39;ll mark it as accepted."}], "tags": [], "owner": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "is_accepted": true, "score": 2, "last_activity_date": 1475699995, "last_edit_date": 1495542805, "creation_date": 1475699995, "answer_id": 39883263, "question_id": 39882689, "link": "https://stackoverflow.com/questions/39882689/run-ivmrwindowlesscontrol9-getcurrentimage-in-background/39883263#39883263", "title": "Run IVMRWindowlessControl9.GetCurrentImage() in background", "body": "<p>You are having two issues here. First of all the original slowliness of the API is behavior by design. MSDN <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd390541\" rel=\"nofollow noreferrer\">mentions this</a> as:</p>\n\n<blockquote>\n  <p>However, frequent calls to this method will degrade video playback performance.</p>\n</blockquote>\n\n<p>Video memory might be pretty slow for read-backs - this is the 2-3 second processing problem, not the resolution of the image <em>per se</em>. Bad news is that it is highly likely that even polling snapshots from background thread is going to affect the visual stream. </p>\n\n<p>This method was and is intended for taking sporadic snapshots, esp. those initiated by user interactively, not automated. Applications needing more intensive and automated, and those not affecting visual feed snapshots are supposed to intercept the feed before it is sent to video memory (there are options to do it, and most popular yet clumsy is use of Sample Grabber).</p>\n\n<p>Second, you are likely to be hitting .NET threading issue <a href=\"https://stackoverflow.com/a/18318885/868014\">described in this question</a>, which triggers the mentioned exception. It is easy to use the same interface pointer in native code development by sneaky violating COM threading rules and passing the interface pointer between apartments. Since CLR is adding a middle layer between your code and COM object doing additional safety checks, you can no longer operate with the COM object/interfaces from background thread because COM threading rules are enforced.</p>\n\n<p>I suppose you either have to keep suffering from long freezes associated with direct API calls, or add native code development that helps to bypass the freezes (especially, for example, a helper filter which captures frames before sending to video memory and in the same time implementing helper functionality for .NET caller to support background thread calls). Presumably you can also do all DirectShow related stuff in a pool of helper <a href=\"https://stackoverflow.com/questions/127188/could-you-explain-sta-and-mta\">MTA</a> threads which solve you the background thread caller problem, but in this case you will most likely need to move this code from your UI thread which is STA - I don't think it something people often, if at all, doing.</p>\n"}], "owner": {"reputation": 858, "user_id": 4868685, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e38912c8e8117d480b2279068fecdbd1?s=128&d=identicon&r=PG", "display_name": "Alan Thomas", "link": "https://stackoverflow.com/users/4868685/alan-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "accepted_answer_id": 39883263, "answer_count": 1, "score": 1, "last_activity_date": 1475700006, "creation_date": 1475697635, "last_edit_date": 1475700006, "question_id": 39882689, "link": "https://stackoverflow.com/questions/39882689/run-ivmrwindowlesscontrol9-getcurrentimage-in-background", "title": "Run IVMRWindowlessControl9.GetCurrentImage() in background", "body": "<p>I have a webcam control using DirectShow.NET. I've created a custom control to display video and capture an image from a webcam. I'm using that custom control in another WPF window. I have a function <code>public Bitmap CaptureImage()</code> in the custom control to abstract away a little bit of the DirectShow programming and simply return a <code>Bitmap</code>. Since the images are relatively large (1920x1080), the <code>GetCurrentImage()</code> function of the <code>IVMRWindowlessControl9</code> takes quite a while to process (2-3 seconds). I've stepped through my code and can confirm that this call is the only one that takes a long time to process.</p>\n\n<p>Because of this, the GUI thread in my main WPF window hangs, causing it to be unresponsive for a few seconds, so if I want to display a progress spinner while the image is being captured, it will just remain frozen. </p>\n\n<p>Here is the code for <code>CaptureImage()</code>:</p>\n\n<pre><code>public Bitmap CaptureImage()\n{\n  if (!IsCapturing)\n    return null;\n\n  this.mediaControl.Stop();\n  IntPtr currentImage = IntPtr.Zero;\n  Bitmap bmp = null;\n\n  try\n  {\n    int hr = this.windowlessControl.GetCurrentImage(out currentImage);\n    DsError.ThrowExceptionForHR(hr);\n\n    if (currentImage != IntPtr.Zero)\n    {\n      BitmapInfoHeader bih = new BitmapInfoHeader();\n      Marshal.PtrToStructure(currentImage, bih);\n\n      ...\n      // Irrelevant code removed \n      ...\n\n      bmp = new Bitmap(bih.Width, bih.Height, stride, pixelFormat, new IntPtr(currentImage.ToInt64() + Marshal.SizeOf(bih)));\n      bmp.RotateFlip(RotateFlipType.RotateNoneFlipY);\n    }\n  }\n  catch (Exception ex)\n  {\n    MessageBox.Show(\"Failed to capture image:\" + ex.Message);\n  }\n  finally\n  {\n    Marshal.FreeCoTaskMem(currentImage);\n  }\n\n  return bmp;\n}\n</code></pre>\n\n<p>In order to fix this, I've tried to run this as a background task as follows:</p>\n\n<pre><code>public async void CaptureImageAsync()\n{\n  try\n  {\n    await Task.Run(() =&gt;\n    {\n      CaptureImage();\n    });\n  }\n  catch(Exception ex)\n  {\n    MessageBox.Show(ex.Message);\n  }\n}\n</code></pre>\n\n<p>I've tried multiple ways to do this including using <code>BackgroundWorker</code>s, but it seems that any time I make this call asynchronously, it creates this error: </p>\n\n<blockquote>\n  <p>Unable to cast COM object of type 'DirectShowLib.VideoMixingRenderer9'\n  to interface type 'DirectShowLib.IVMRWindowlessControl9'. This\n  operation failed because the QueryInterface call on the COM component\n  for the interface with IID '{8F537D09-F85E-4414-B23B-502E54C79927}'\n  failed due to the following error: No such interface supported\n  (Exception from HRESULT: 0x80004002 (E_NOINTERFACE)).</p>\n</blockquote>\n\n<p>The error always happens when on this line:</p>\n\n<pre><code>int hr = this.windowlessControl.GetCurrentImage(out currentImage);\n</code></pre>\n\n<p>Calling <code>CaptureImage()</code> synchronously yields normal results. The image is captured and everything works as intended. However, switching to using any kind of asynchronous functionality gives that error. </p>\n"}, {"tags": ["c#", "angularjs", "asp.net-mvc"], "comments": [{"owner": {"reputation": 559, "user_id": 2227868, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0c7032ea565eba43b5ad905742d80e91?s=128&d=identicon&r=PG", "display_name": "Uba", "link": "https://stackoverflow.com/users/2227868/uba"}, "edited": false, "score": 2, "creation_date": 1475698225, "post_id": 39882595, "comment_id": 67052650, "body": "Search for a helper method in your solution. There is nothing called SwitchModel built in method."}, {"owner": {"reputation": 89, "user_id": 6490535, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/183c6924b515b7ca8b95cd3d2d916f27?s=128&d=identicon&r=PG&f=1", "display_name": "bansi", "link": "https://stackoverflow.com/users/6490535/bansi"}, "reply_to_user": {"reputation": 559, "user_id": 2227868, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0c7032ea565eba43b5ad905742d80e91?s=128&d=identicon&r=PG", "display_name": "Uba", "link": "https://stackoverflow.com/users/2227868/uba"}, "edited": false, "score": 0, "creation_date": 1475703475, "post_id": 39882595, "comment_id": 67055125, "body": "that&#39;s true. it has helper function. thanks,"}], "owner": {"reputation": 89, "user_id": 6490535, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/183c6924b515b7ca8b95cd3d2d916f27?s=128&d=identicon&r=PG&f=1", "display_name": "bansi", "link": "https://stackoverflow.com/users/6490535/bansi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475703558, "creation_date": 1475697280, "last_edit_date": 1475703558, "question_id": 39882595, "link": "https://stackoverflow.com/questions/39882595/html-switchmodel-label-what-is-it-for", "title": "@Html.SwitchModel().Label what is it for?", "body": "<p>I saw following code in .cshtml file, can any of you help me figure out what this code means? OR redirect me to website that has good explanation:              </p>\n\n<pre><code>@(Html.SwitchModel().Label&lt;myViewModel&gt;(x =&gt; x.myField).Attr(\"for\", \"myLst[{{$index}}].field\"))\n@(Html.SwitchModel().Input&lt;myViewModel&gt;(x =&gt; x.my).Attr(\"id\", \"myList[{{$index}}].Field\").Attr(\"name\", \"myLst[{{$index}}].field\").Attr(\"data-ng-model\", \"item.xxx\").Attr(\"maxlength\", 50))\n</code></pre>\n\n<p>in browser when i see this page it displays the input text box as disable. I don't know why is that? there is not disable property set.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-web-api", "csrf", "antiforgerytoken"], "answers": [{"tags": [], "owner": {"reputation": 1145, "user_id": 1105488, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/aRE4A.jpg?s=128&g=1", "display_name": "marco birchler", "link": "https://stackoverflow.com/users/1105488/marco-birchler"}, "is_accepted": false, "score": 1, "last_activity_date": 1475697960, "creation_date": 1475697960, "answer_id": 39882782, "question_id": 39882594, "link": "https://stackoverflow.com/questions/39882594/allow-cross-site-post-request-on-specific-asp-net-core-controller/39882782#39882782", "title": "Allow cross site post request on specific ASP.NET Core controller", "body": "<p>I finally found the answer and it is indeed possible by using an annotation. Just annotate your controller or action with <strong>[IgnoreAntiforgeryTokenAttribute]</strong> and the whole XSRF mechanism won't bother your controller any more. </p>\n"}, {"tags": [], "owner": {"reputation": 9153, "user_id": 6570042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FlJAF.jpg?s=128&g=1", "display_name": "Gabor Lengyel", "link": "https://stackoverflow.com/users/6570042/gabor-lengyel"}, "is_accepted": false, "score": 1, "last_activity_date": 1475700843, "creation_date": 1475700843, "answer_id": 39883473, "question_id": 39882594, "link": "https://stackoverflow.com/questions/39882594/allow-cross-site-post-request-on-specific-asp-net-core-controller/39883473#39883473", "title": "Allow cross site post request on specific ASP.NET Core controller", "body": "<p>Note that even if you don't intend to use that controller action from a browser, if it can be accessed via http, it may easily be susceptible to CSRF. An attacker may still for example create a rogue webpage, which if visited by one of your users, makes the user send a request to that action. If session management is cookie-based or equivalent <em>and</em> the action changes server state, it would still be an exploitable vulnerability.</p>\n\n<p>So while you can turn of CSRF protection, you need to consider consequences carefully.</p>\n"}], "owner": {"reputation": 1145, "user_id": 1105488, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/aRE4A.jpg?s=128&g=1", "display_name": "marco birchler", "link": "https://stackoverflow.com/users/1105488/marco-birchler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1475700843, "creation_date": 1475697280, "question_id": 39882594, "link": "https://stackoverflow.com/questions/39882594/allow-cross-site-post-request-on-specific-asp-net-core-controller", "title": "Allow cross site post request on specific ASP.NET Core controller", "body": "<p>I am using a complex template for my new ASP.NET Core application. Now I wanted to create a new controller which receives a POST request from another external server. That didn't work. I tried a lot until I found out that there is a mechanism set up which only allows POST request to access my controller which have a certain header (X-XSRF-TOKEN). This is done to prevent a Cross-Site-Request-Forgery attack. </p>\n\n<p>However one specific controller should allow such requests, because this controller is not used from the webpage visitors browser. Is there a way to annotate the controller or any other way to allow this exception?</p>\n"}, {"tags": ["c#", "wcf", "visual-studio-2012", "jwt"], "comments": [{"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1475698206, "post_id": 39882577, "comment_id": 67052640, "body": "The beauty of JWT is the simplicity and the ability to use without special libraries. Of course, using a library is much easier, but WCF doesn&#39;t support it or not support it. Your code does or doesn&#39;t."}, {"owner": {"reputation": 1749, "user_id": 1186073, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vr9Ya.jpg?s=128&g=1", "display_name": "Hugo", "link": "https://stackoverflow.com/users/1186073/hugo"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1475699123, "post_id": 39882577, "comment_id": 67053149, "body": "Ok so you mean WCF do not have something to do in this? but when I try to implement it in my WCF project, I&#39;m getting an error telling me that the JwtSecurityTokenHandler class isn&#39;t recognize due to missing Interface  ISecurityTokenValidator. This interface suppose to be included in System.IdentityModel.Tokens.Jwt.dll. but I can&#39;t find it in that assembly. I&#39;m missing something here and can&#39;t find what."}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1475699750, "post_id": 39882577, "comment_id": 67053461, "body": "<a href=\"https://www.nuget.org/packages/System.IdentityModel.Tokens.Jwt/\" rel=\"nofollow noreferrer\">it is on nuget</a>"}, {"owner": {"reputation": 1749, "user_id": 1186073, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vr9Ya.jpg?s=128&g=1", "display_name": "Hugo", "link": "https://stackoverflow.com/users/1186073/hugo"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1475700856, "post_id": 39882577, "comment_id": 67053992, "body": "It&#39;s the nuget package that give me this trouble"}, {"owner": {"reputation": 1749, "user_id": 1186073, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vr9Ya.jpg?s=128&g=1", "display_name": "Hugo", "link": "https://stackoverflow.com/users/1186073/hugo"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1475700914, "post_id": 39882577, "comment_id": 67054027, "body": "I could share my proof of concept project if you wish."}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1475701103, "post_id": 39882577, "comment_id": 67054115, "body": "If you can post a minimal but complete example I&#39;ll take a look but in my experience there is nothing minimal about WCF. Are you implementing a custom binding? Or implementing a message listener?"}, {"owner": {"reputation": 1749, "user_id": 1186073, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vr9Ya.jpg?s=128&g=1", "display_name": "Hugo", "link": "https://stackoverflow.com/users/1186073/hugo"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1475702267, "post_id": 39882577, "comment_id": 67054588, "body": "I&#39;ve edited the main topic to add some code. Thanks for your time"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1475756388, "post_id": 39882577, "comment_id": 67077159, "body": "You also have to explain the problem."}, {"owner": {"reputation": 1749, "user_id": 1186073, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vr9Ya.jpg?s=128&g=1", "display_name": "Hugo", "link": "https://stackoverflow.com/users/1186073/hugo"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1475759344, "post_id": 39882577, "comment_id": 67079431, "body": "Main post edited to include problem"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1475760303, "post_id": 39882577, "comment_id": 67080131, "body": "There seems to be ambiguity between System.IdentityModel.Tokens and Microsoft.IdentityModel.Tokens. Sorry, I don&#39;t know which you want, or which is right. But it has nothing specifically to do with WCF."}, {"owner": {"reputation": 1749, "user_id": 1186073, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vr9Ya.jpg?s=128&g=1", "display_name": "Hugo", "link": "https://stackoverflow.com/users/1186073/hugo"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1475769293, "post_id": 39882577, "comment_id": 67086658, "body": "The original question was, is JwT should work with WCF, and the answer, is: &quot;Yes&quot; so at that point I&#39;ll continue to search other way to implement it."}], "owner": {"reputation": 1749, "user_id": 1186073, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vr9Ya.jpg?s=128&g=1", "display_name": "Hugo", "link": "https://stackoverflow.com/users/1186073/hugo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 789, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545833438, "creation_date": 1475697205, "last_edit_date": 1475759317, "question_id": 39882577, "link": "https://stackoverflow.com/questions/39882577/json-web-token-vs-wcf", "title": "Json Web Token vs WCF", "body": "<p>I'm actually struggling to implement JWT (Json Web Token) in my WCF project. I've end-up to think that WCF did not support JWT.</p>\n\n<p>Am I right? Am I Wrong?</p>\n\n<p>Thanks!</p>\n\n<p>I'm working on C# on Visual Studio 2012</p>\n\n<p><strong>Edit:</strong>\nMy Problem:\nWhen I try to implement it in my WCF project, I'm getting an error telling me that the JwtSecurityTokenHandler class isn't recognize due to missing Interface ISecurityTokenValidator. This interface suppose to be included in System.IdentityModel.Tokens.Jwt.dll. but I can't find it in that assembly. I'm missing something here and can't find what.</p>\n\n<p>Here's my class that gives me some trouble.\nThis is part of a WCF project started from scratch, I just added the TokenManager Class, and reference to JWT nuget reference as stated in the package.config</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.IdentityModel.Tokens;\nusing System.Security.Claims;\nusing System.Text;\nusing System.Threading.Tasks;\n\n\nnamespace POC_JWT_Service.Security\n{\n    public class TokenManager\n    {\n        public object GetToken()\n        {\n            var plainTextSecurityKey = \"This is my shared, not so secret, secret!\";\n            var signingKey = new InMemorySymmetricSecurityKey(Encoding.UTF8.GetBytes(plainTextSecurityKey));\n\n            var signingCredentials = new SigningCredentials(signingKey, SecurityAlgorithms.HmacSha256Signature, SecurityAlgorithms.Sha256Digest);\n\n\n            var claimsIdentity = new ClaimsIdentity(new List&lt;Claim&gt;()\n            {\n                new Claim(ClaimTypes.NameIdentifier, \"myemail@myprovider.com\"),\n                new Claim(ClaimTypes.Role, \"Administrator\"),\n            }, \"Custom\");\n\n            var securityTokenDescriptor = new SecurityTokenDescriptor()\n            {\n                AppliesToAddress = \"http://my.website.com\",\n                TokenIssuerName = \"http://my.tokenissuer.com\",\n                Subject = claimsIdentity,\n                SigningCredentials = signingCredentials,\n            };\n\n\n            var tokenHandler = new JwtSecurityTokenHandler();\n            var plainToken = tokenHandler.CreateToken(securityTokenDescriptor);\n            var signedAndEncodedToken = tokenHandler.WriteToken(plainToken);\n\n            Console.WriteLine(\"plainToken.ToString()\");\n            Console.WriteLine(plainToken.ToString());\n            Console.WriteLine(\"\");\n        }\n    }\n}\n</code></pre>\n\n<p>packages.config file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;packages&gt;\n  &lt;package id=\"Microsoft.IdentityModel.Logging\" version=\"1.0.0\" targetFramework=\"net452\" requireReinstallation=\"True\" /&gt;\n  &lt;package id=\"Newtonsoft.Json\" version=\"9.0.1\" targetFramework=\"net452\" /&gt;\n  &lt;package id=\"System.IdentityModel.Tokens.Jwt\" version=\"4.0.2.206221351\" targetFramework=\"net452\" /&gt;\n\n&lt;/packages&gt;\n</code></pre>\n"}, {"tags": ["c#", "xaml", "timer", "visual-studio-2015"], "comments": [{"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1475697444, "post_id": 39882546, "comment_id": 67052259, "body": "Quick Google search: <a href=\"https://msdn.microsoft.com/en-us/library/system.timers.timer%28v=vs.110%29.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6928398, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c16dd4440eab2f981726b42c7d072b70?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6928398/richard"}, "edited": false, "score": 0, "creation_date": 1475704552, "post_id": 39883241, "comment_id": 67055549, "body": "Thankyou Sam.  I have tried what you suggest, but when I click on the Start button I get about 5 seconds delay and then the following error:"}, {"owner": {"reputation": 45, "user_id": 6928398, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c16dd4440eab2f981726b42c7d072b70?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6928398/richard"}, "edited": false, "score": 0, "creation_date": 1475705204, "post_id": 39883241, "comment_id": 67055759, "body": "Thankyou Sam.  I have tried what you suggest, but when I click on the Start button I get about 5 seconds delay and then the following error: &quot;Exception was  unhandled by user code.  An exception of type &#39;System.Exception&#39; occurred in App4.exe but was not handled in user code.  Additional information: The application called an interface that was marshalled for a different thread. (Exception from HRESULT: 0x800101E (RPC_E_WRONG_THREAD))&quot;"}, {"owner": {"reputation": 469, "user_id": 6387007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9f75bc5b1fb548e79afd5accc8d84f4?s=128&d=identicon&r=PG&f=1", "display_name": "sam2929", "link": "https://stackoverflow.com/users/6387007/sam2929"}, "reply_to_user": {"reputation": 45, "user_id": 6928398, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c16dd4440eab2f981726b42c7d072b70?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6928398/richard"}, "edited": false, "score": 0, "creation_date": 1475760810, "post_id": 39883241, "comment_id": 67080485, "body": "@Richard I have updated my answer to run the UI updating code in the EndOfTimer method on the UI thread so that you don&#39;t get that error. Please let me know if that works for you."}], "tags": [], "owner": {"reputation": 469, "user_id": 6387007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9f75bc5b1fb548e79afd5accc8d84f4?s=128&d=identicon&r=PG&f=1", "display_name": "sam2929", "link": "https://stackoverflow.com/users/6387007/sam2929"}, "is_accepted": true, "score": -1, "last_activity_date": 1475760755, "last_edit_date": 1475760755, "creation_date": 1475699889, "answer_id": 39883241, "question_id": 39882546, "link": "https://stackoverflow.com/questions/39882546/trying-to-incorporate-a-timer-in-a-game-with-visual-studio-using-c/39883241#39883241", "title": "Trying to incorporate a timer in a game, with Visual Studio using C#", "body": "<p>Sounds like you are used to programming in the drag and drop interface of WinForms or VB6... To accomplish what you are describing you would need a button and an input control in your XAML and then the timer would reside in code-behind (or if you were following MVVM then it would live in your view model). A simple implementation of this could look like:</p>\n\n<p><strong>MainPage.xaml</strong></p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition&gt;&lt;/RowDefinition&gt;\n        &lt;RowDefinition&gt;&lt;/RowDefinition&gt;\n        &lt;RowDefinition&gt;&lt;/RowDefinition&gt;\n    &lt;/Grid.RowDefinitions&gt;\n    &lt;Button Grid.Row=\"0\" x:Name=\"StartButton\" HorizontalAlignment=\"Stretch\" Content=\"Start\" Click=\"StartButton_Click\" /&gt;\n    &lt;TextBox Grid.Row=\"1\" x:Name=\"InputField\" HorizontalAlignment=\"Stretch\" &gt;&lt;/TextBox&gt;\n    &lt;TextBlock Grid.Row=\"2\" x:Name=\"StatusText\" HorizontalAlignment=\"Stretch\"&gt;&lt;/TextBlock&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p><strong>MainPage.xaml.cs</strong></p>\n\n<pre><code>using System.Threading;\nusing Window.UI.Xaml;\nusing Window.UI.Xaml.Controls;\n\nnamespace UniversalTimerApp\n{\n    public sealed partial class MainPage : Page\n    {\n        private Timer questionTimer;\n        public MainPage()\n        {\n            this.InitializeComponent();\n\n            this.questionTimer = new Timer(this.EndOfTimer, null, Timeout.Infinite, Timeout.Infinite);\n        }\n\n        private void StartButton_Click(object sender, RoutedEventArgs e)\n        {\n            this.questionTimer.Change(3000, Timeout.Infinite);\n            this.StatusText.Text = \"Timer Started!\";\n        }\n\n        private async void EndOfTimer(object state)\n        {\n            await this.Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =&gt;\n            {\n                this.InputField.IsEnabled = false;\n                this.StatusText.Text = \"Timer Ended.\";\n            });\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 6928398, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c16dd4440eab2f981726b42c7d072b70?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6928398/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 39883241, "answer_count": 1, "score": -1, "last_activity_date": 1475760755, "creation_date": 1475697107, "question_id": 39882546, "link": "https://stackoverflow.com/questions/39882546/trying-to-incorporate-a-timer-in-a-game-with-visual-studio-using-c", "title": "Trying to incorporate a timer in a game, with Visual Studio using C#", "body": "<p>I am new to C# development, but I am trying to write a game for my children which incorporates a timer.  I am using Microsoft Visual Studio Community 2015 (Version 14.0.25431.01 Update 3).  I am using the \"Blank\" template, and I am targeting Universal Windows, \"Windows 10 Anniversary Edition (10.0; Build 14393)\".</p>\n\n<p>On MainPage.xaml, I assumed I would be able to click on the Toolbox and select a \"Timer\" control, which would then appear in the code underneath, and which I would then be able to reference in MainPage.xaml.cs.  </p>\n\n<p>However, there is no \"Timer\" control available to select from the list of \"All XAML Controls\", and when I try to insert \"using System.Timers\" in MainPage.xaml.cs, it doesn't seem to recognise it.</p>\n\n<p>All I need is for a timer to start \"ticking\" when the Start button is pressed, and to allow input for a fixed number of seconds before \"timing out\" and moving on to the next question.</p>\n\n<p>Any pointers would be very gratefully received!</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 8, "creation_date": 1475697018, "post_id": 39882500, "comment_id": 67052046, "body": "This is the standard behavior of reference types."}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1475697078, "post_id": 39882500, "comment_id": 67052080, "body": "This is exactly how reference work."}, {"owner": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "edited": false, "score": 0, "creation_date": 1475697229, "post_id": 39882500, "comment_id": 67052160, "body": "You can also use pointers if you mark the code unsafe."}, {"owner": {"reputation": 32143, "user_id": 4955425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y0RDl.jpg?s=128&g=1", "display_name": "sstan", "link": "https://stackoverflow.com/users/4955425/sstan"}, "edited": false, "score": 2, "creation_date": 1475697254, "post_id": 39882500, "comment_id": 67052175, "body": "Did you try it at all?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "edited": false, "score": 0, "creation_date": 1475697461, "post_id": 39882500, "comment_id": 67052264, "body": "@Kevin You can&#39;t have pointers to managed objects."}, {"owner": {"reputation": 663, "user_id": 2195567, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/33159b8791121aae132909022eef3954?s=128&d=identicon&r=PG", "display_name": "Ricky", "link": "https://stackoverflow.com/users/2195567/ricky"}, "edited": false, "score": 0, "creation_date": 1475697793, "post_id": 39882500, "comment_id": 67052417, "body": "I&#39;ve cleaned up my question to be more detailed in terms of my problem."}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 2, "creation_date": 1475698034, "post_id": 39882500, "comment_id": 67052543, "body": "Did you run that code? They will both be 10."}, {"owner": {"reputation": 663, "user_id": 2195567, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/33159b8791121aae132909022eef3954?s=128&d=identicon&r=PG", "display_name": "Ricky", "link": "https://stackoverflow.com/users/2195567/ricky"}, "reply_to_user": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1475698130, "post_id": 39882500, "comment_id": 67052597, "body": "I didn&#39;t run that exact code @TyCobb but I have a variation of it running... That isn&#39;t doing that (the value remains as 5 for the one instance...)."}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 2, "creation_date": 1475698233, "post_id": 39882500, "comment_id": 67052659, "body": "We can&#39;t help you without seeing what you actually have or code that reproduces your issue. The code you provided works with what you wanted to achieve. You don&#39;t even need to pass them in as <code>ref</code> to achieve what you outlined in your code."}, {"owner": {"reputation": 663, "user_id": 2195567, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/33159b8791121aae132909022eef3954?s=128&d=identicon&r=PG", "display_name": "Ricky", "link": "https://stackoverflow.com/users/2195567/ricky"}, "edited": false, "score": 0, "creation_date": 1475698330, "post_id": 39882500, "comment_id": 67052709, "body": "Hmmm then the issue is somewhere else, thanks that was enough help. I wasn&#39;t aware that I didn&#39;t need to pass by ref as well... If I were to do this in C++ without denoting pointer or reference... It would make a copy. Thank you."}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1475698605, "post_id": 39882500, "comment_id": 67052858, "body": "This may help with the confusion on C#. <a href=\"http://stackoverflow.com/questions/9717057/c-sharp-passing-arguments-by-default-is-byref-instead-of-byval\" title=\"c sharp passing arguments by default is byref instead of byval\">stackoverflow.com/questions/9717057/&hellip;</a>"}, {"owner": {"reputation": 688, "user_id": 4467670, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003096226037/picture?type=large", "display_name": "Peter Moore", "link": "https://stackoverflow.com/users/4467670/peter-moore"}, "edited": false, "score": 0, "creation_date": 1475700950, "post_id": 39882500, "comment_id": 67054044, "body": "I don&#39;t know if any of you guys who are being critical of Rick yourselves started on C++ before moving to C#, but I think his confusion is very understandable."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 688, "user_id": 4467670, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003096226037/picture?type=large", "display_name": "Peter Moore", "link": "https://stackoverflow.com/users/4467670/peter-moore"}, "edited": false, "score": 1, "creation_date": 1475701062, "post_id": 39882500, "comment_id": 67054095, "body": "@PeterMoore Not even running your own code to see that it already does exactly what you want isn&#39;t particularly understandable.  There&#39;s also <i>tons</i> of information on this subject out there, so there&#39;s very clearly not enough research done here."}, {"owner": {"reputation": 688, "user_id": 4467670, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003096226037/picture?type=large", "display_name": "Peter Moore", "link": "https://stackoverflow.com/users/4467670/peter-moore"}, "edited": false, "score": 0, "creation_date": 1475703278, "post_id": 39882500, "comment_id": 67055033, "body": "Oh, well I think the issue is that the code he posted isn&#39;t the same as what&#39;s causing the problem. So he does need to post the actual code that he&#39;s using, I agree with that."}, {"owner": {"reputation": 663, "user_id": 2195567, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/33159b8791121aae132909022eef3954?s=128&d=identicon&r=PG", "display_name": "Ricky", "link": "https://stackoverflow.com/users/2195567/ricky"}, "reply_to_user": {"reputation": 688, "user_id": 4467670, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003096226037/picture?type=large", "display_name": "Peter Moore", "link": "https://stackoverflow.com/users/4467670/peter-moore"}, "edited": false, "score": 0, "creation_date": 1475761833, "post_id": 39882500, "comment_id": 67081219, "body": "@PeterMoore Thank you for the understanding comment. The more lax nature of C# takes a bit to get to know... and you were right in saying that the code I posted wasn&#39;t the exact code that was having the issue... More so just the bits that I thought important. Once I had ref cleared up things started to make more sense, the problem was resolved it was due to a copy constructor I wasn&#39;t aware was being used."}], "answers": [{"comments": [{"owner": {"reputation": 663, "user_id": 2195567, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/33159b8791121aae132909022eef3954?s=128&d=identicon&r=PG", "display_name": "Ricky", "link": "https://stackoverflow.com/users/2195567/ricky"}, "edited": false, "score": 1, "creation_date": 1475762073, "post_id": 39883469, "comment_id": 67081412, "body": "Absolutely great answer. I ended up finding the cause of problem (it was due to a copy constructor that I made and forget that was being used). This clears up my questions/vague knowledge of C# so far ;). Thank you."}], "tags": [], "owner": {"reputation": 688, "user_id": 4467670, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003096226037/picture?type=large", "display_name": "Peter Moore", "link": "https://stackoverflow.com/users/4467670/peter-moore"}, "is_accepted": true, "score": 9, "last_activity_date": 1475701308, "last_edit_date": 1475701308, "creation_date": 1475700830, "answer_id": 39883469, "question_id": 39882500, "link": "https://stackoverflow.com/questions/39882500/is-it-possible-to-have-two-variables-point-to-the-same-memory-address-in-c/39883469#39883469", "title": "Is it possible to have two variables point to the same memory address in C#?", "body": "<p>Rick -\nIf you're coming from the world of C++, the most important thing to remember is that any time you have an instance of a <code>class</code> or an <code>interface</code> in your code, this is roughly equivalent to a pointer in C++. We call these reference types. When you assign one class reference to another class reference variable, you are essentially doing exactly what you're asking to do, which is to have both variables point to the same object in memory. </p>\n\n<p>Note there are also value types - these are the fundamental types (<code>int</code>, <code>char</code>, etc.) and <code>struct</code>s. For <code>struct</code>'s in particular, these behave very similarly to <code>struct</code>s in C++, (although it's not particularly easy to obtain the equivalent of a pointer to a <code>struct</code>).</p>\n\n<p>It can be confusing because the <code>.</code> operator in C# doubles as the member accessor for both reference and value types. (There is no separate <code>-&gt;</code> operator like in C++). You just need to be aware of whether your data items are reference types or value types to determine whether an assignment (<code>=</code>) will result in the value being copied or the \"pointer\" (reference) being copied. Consequently, you cannot create <strong>copies</strong> of class instances by simply using the assignment operator <code>=</code> like you can in C++. For that you have to use the <code>Object.MemberwiseClone</code> method.</p>\n\n<p>As observed in the comments, you don't need the <code>ref</code> in your situation because your method argument is already a \"pointer\". (The <code>ref</code> keyword is similar to the reference type flag (<code>&amp;</code>) in C++). However, if you wanted to change the value of the input parameter <code>new_demo</code> itself, to assign it to a <strong>different</strong> class instance, then you would indeed need the <code>ref</code>.</p>\n\n<p>So, if it helps as you transition, you might want to just mentally imagine the C/C++ pointer flag <code>*</code> after every reference type variable you define and mentally picture the <code>-&gt;</code> when you see the <code>.</code> when you're accessing class members.</p>\n\n<p>Hope this helps. As someone who also transitioned from C++ to C# I definitely can see how you would find it confusing at first. But in time you'll learn to speak both languages fluently. </p>\n\n<p>Edit - I'd be curious to see your code that you say is not resulting in the right outcome. As has been pointed out, what you posted should work as written. </p>\n"}], "owner": {"reputation": 663, "user_id": 2195567, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/33159b8791121aae132909022eef3954?s=128&d=identicon&r=PG", "display_name": "Ricky", "link": "https://stackoverflow.com/users/2195567/ricky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2005, "favorite_count": 0, "closed_date": 1476907854, "accepted_answer_id": 39883469, "answer_count": 1, "score": -4, "last_activity_date": 1475701308, "creation_date": 1475696968, "last_edit_date": 1475697574, "question_id": 39882500, "link": "https://stackoverflow.com/questions/39882500/is-it-possible-to-have-two-variables-point-to-the-same-memory-address-in-c", "closed_reason": "Not suitable for this site", "title": "Is it possible to have two variables point to the same memory address in C#?", "body": "<p>So I'm playing around with C# right now, coming from the world of C++.</p>\n\n<p>I'm trying to make two object variables point to the SAME memory address, in a way that if I edit variable 1, variable 2 is also being changed.</p>\n\n<p>Is this possible?</p>\n\n<p>Reason I'm asking is because I would ideally like to have an instance of an object inside of one object, and then also inside of a different type of object. So that if the value is changed in one object, it changes in both. Like this (or at least something like this).</p>\n\n<pre><code>public class Demo\n{\n    public int x;\n}\n\npublic class DemoContainer1\n{\n    public DemoContainer1(ref Demo new_demo)\n    {\n        demo = new_demo;\n    }\n\n    public int SetX(int x)\n    {\n        demo.x = x;\n    }\n\n    private Demo demo;\n}\n\npublic class DemoContainer2\n{\n    public DemoContainer2(ref Demo new_demo)\n    {\n        demo = new_demo;\n    }\n\n    private Demo demo;\n}\n\nDemo new_demo = new Demo();\nnew_demo.x = 5;\n\nDemoContainer1 container1 = new DemoContainer1(ref new_demo);\nDemoContainer2 container2 = new DemoContainer2(ref new_demo);\n\ncontainer1.SetX(10);\n\n// The following should now be true... container1.demo.x == 10 AND container2.demo.x == 10\n</code></pre>\n"}, {"tags": ["c#"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6927546, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/414bccaecea73981502e067ef2d94cb4?s=128&d=identicon&r=PG&f=1", "display_name": "user6927546", "link": "https://stackoverflow.com/users/6927546/user6927546"}, "edited": false, "score": 0, "creation_date": 1475698338, "post_id": 39882796, "comment_id": 67052714, "body": "I get error Cannot use local variable &#39;row&#39; before it is declared"}, {"owner": {"reputation": 23, "user_id": 6927546, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/414bccaecea73981502e067ef2d94cb4?s=128&d=identicon&r=PG&f=1", "display_name": "user6927546", "link": "https://stackoverflow.com/users/6927546/user6927546"}, "edited": false, "score": 0, "creation_date": 1475698923, "post_id": 39882796, "comment_id": 67053024, "body": "Error Error\t1\t&#39;System.Data.DataRow&#39; does not contain a definition for &#39;Cells&#39; and no extension method &#39;Cells&#39; accepting a first argument of type &#39;System.Data.DataRow&#39; could be found (are you missing a using directive or an assembly reference?)"}, {"owner": {"reputation": 23, "user_id": 6927546, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/414bccaecea73981502e067ef2d94cb4?s=128&d=identicon&r=PG&f=1", "display_name": "user6927546", "link": "https://stackoverflow.com/users/6927546/user6927546"}, "edited": false, "score": 0, "creation_date": 1475699288, "post_id": 39882796, "comment_id": 67053230, "body": "What you mean?add you data grid viwe cell index here.You mean this?dataGridView1.Rows[n].Cells[0]"}, {"owner": {"reputation": 1278, "user_id": 3977699, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/pt7Jv.jpg?s=128&g=1", "display_name": "Zulqarnain Jalil", "link": "https://stackoverflow.com/users/3977699/zulqarnain-jalil"}, "reply_to_user": {"reputation": 23, "user_id": 6927546, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/414bccaecea73981502e067ef2d94cb4?s=128&d=identicon&r=PG&f=1", "display_name": "user6927546", "link": "https://stackoverflow.com/users/6927546/user6927546"}, "edited": false, "score": 0, "creation_date": 1475699418, "post_id": 39882796, "comment_id": 67053289, "body": "<a href=\"http://stackoverflow.com/questions/13829621/bindingsource-with-datagridview-combo-box\">Read This</a>"}, {"owner": {"reputation": 23, "user_id": 6927546, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/414bccaecea73981502e067ef2d94cb4?s=128&d=identicon&r=PG&f=1", "display_name": "user6927546", "link": "https://stackoverflow.com/users/6927546/user6927546"}, "edited": false, "score": 0, "creation_date": 1475699490, "post_id": 39882796, "comment_id": 67053331, "body": "I dont want take item on dropdown, i want to take the value from sql as combobox&#39;s name"}], "tags": [], "owner": {"reputation": 1278, "user_id": 3977699, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/pt7Jv.jpg?s=128&g=1", "display_name": "Zulqarnain Jalil", "link": "https://stackoverflow.com/users/3977699/zulqarnain-jalil"}, "is_accepted": false, "score": 0, "last_activity_date": 1475699939, "last_edit_date": 1475699939, "creation_date": 1475697994, "answer_id": 39882796, "question_id": 39882488, "link": "https://stackoverflow.com/questions/39882488/sql-to-datagridview-combobox/39882796#39882796", "title": "Sql to datagridview combobox", "body": "<pre><code>    foreach (DataRow item in dt.Rows)\n    {\n\n    int n = dataGridView1.Rows.Add();\n DataGridViewComboBoxCell ContactCombo = (DataGridViewComboBoxCell)(dataGridView1.Rows[n].Cells[1]);\n            ContactCombo.Value = item[0].ToString();\n\n    dataGridView1.Rows[n].Cells[1].Value = item[1].ToString();\n    }\n</code></pre>\n\n<p>this code will gives you datagridview dropdown you can do anything(add items, select items, remove items) with this </p>\n\n<pre><code> DataGridViewComboBoxCell ContactCombo = (DataGridViewComboBoxCell)(Add data gridview cell index here);\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6927546, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/414bccaecea73981502e067ef2d94cb4?s=128&d=identicon&r=PG&f=1", "display_name": "user6927546", "link": "https://stackoverflow.com/users/6927546/user6927546"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482874522, "creation_date": 1475696934, "last_edit_date": 1475699297, "question_id": 39882488, "link": "https://stackoverflow.com/questions/39882488/sql-to-datagridview-combobox", "title": "Sql to datagridview combobox", "body": "<p>Hi i'm using this code:</p>\n\n<pre><code>SqlDataAdapter sda = new SqlDataAdapter(\"select name,country from customers\", con);\n        DataTable dt = new DataTable();\n        sda.Fill(dt);\n        dataGridView1.Rows.Clear();\n        foreach (DataRow item in dt.Rows)\n        {\n            int n = dataGridView1.Rows.Add();\n            dataGridView1.Rows[n].Cells[0].Value = item[0].ToString();\n            dataGridView1.Rows[n].Cells[1].Value = item[1].ToString();\n</code></pre>\n\n<p>But what if my first cell is a combobox?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "razor"], "comments": [{"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 3, "creation_date": 1475696931, "post_id": 39882466, "comment_id": 67051996, "body": "<code>getBool = true</code>?"}, {"owner": {"reputation": 308, "user_id": 6889510, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/36395c7d21cbca6bbc3d7e4708b3f938?s=128&d=identicon&r=PG&f=1", "display_name": "Nyprez", "link": "https://stackoverflow.com/users/6889510/nyprez"}, "reply_to_user": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1475697448, "post_id": 39882466, "comment_id": 67052260, "body": "@David Then I always get true, I updated the code( included another button, dislike(returns false)) - both using same method."}], "answers": [{"tags": [], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "is_accepted": true, "score": 2, "last_activity_date": 1475698382, "last_edit_date": 1475698382, "creation_date": 1475697987, "answer_id": 39882791, "question_id": 39882466, "link": "https://stackoverflow.com/questions/39882466/return-bool-from-view-actionlink-to-method-asp-net-mvc/39882791#39882791", "title": "Return bool from view/ActionLink to method - Asp.Net MVC", "body": "<p>You pass a bool the same way you pass your model id:</p>\n\n<pre><code>@Html.ActionLink(\"Like!\",   \"Like\", new { id = Model.Id, getBool = true})\n@Html.ActionLink(\"Disike!\", \"Like\", new { id = Model.Id, getBool = false})\n</code></pre>\n\n<p>Ultimately there's nothing special about <code>Model.Id</code>.  It's just a <code>Guid</code>.  Values passed in don't have to come from anywhere in particular.  Just pass in whatever.</p>\n"}, {"comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1475699438, "post_id": 39882909, "comment_id": 67053302, "body": "The OP explicitly said he can&#39;t replace his model with a viewmodel."}, {"owner": {"reputation": 41, "user_id": 4508161, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/P65k9.jpg?s=128&g=1", "display_name": "Refael", "link": "https://stackoverflow.com/users/4508161/refael"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1475700361, "post_id": 39882909, "comment_id": 67053768, "body": "You&#39;re correct, BUT, I tried to explain the correct usage of a VM, I think that the OP missed the point of  VM,"}], "tags": [], "owner": {"reputation": 41, "user_id": 4508161, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/P65k9.jpg?s=128&g=1", "display_name": "Refael", "link": "https://stackoverflow.com/users/4508161/refael"}, "is_accepted": false, "score": 0, "last_activity_date": 1475698914, "last_edit_date": 1475698914, "creation_date": 1475698470, "answer_id": 39882909, "question_id": 39882466, "link": "https://stackoverflow.com/questions/39882466/return-bool-from-view-actionlink-to-method-asp-net-mvc/39882909#39882909", "title": "Return bool from view/ActionLink to method - Asp.Net MVC", "body": "<p>There is not such thing \"I can't replace the model with a ViewModel\". \nThis is the idea of ViewModel, that is, to make a model that will be different from the database model and will fit to the view requirements.</p>\n\n<p>e.g. If you have this model in your database:</p>\n\n<pre><code>     public  class Person\n    {\n       public int PersonID { get; set;}\n       public string Name { get; set;}\n       public string password { get; set;}\n    }\n</code></pre>\n\n<p>and you want to verify the password in the view you don't need to make in your model a propery that verify the password, this you do in the ViewModel class:</p>\n\n<pre><code>public class PersonVM :Person\n{\n       public string verifyPassword { get; set;}\n} \n</code></pre>\n\n<p>note, that not allways you'll inherit the origin model in the VM. </p>\n\n<p>After creating the VM, you create a view that the model of that view is your VM that you created for the view. this way you can pass and get any additional information with your view.   </p>\n"}], "owner": {"reputation": 308, "user_id": 6889510, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/36395c7d21cbca6bbc3d7e4708b3f938?s=128&d=identicon&r=PG&f=1", "display_name": "Nyprez", "link": "https://stackoverflow.com/users/6889510/nyprez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1040, "favorite_count": 0, "accepted_answer_id": 39882791, "answer_count": 2, "score": 0, "last_activity_date": 1475698914, "creation_date": 1475696872, "last_edit_date": 1475697402, "question_id": 39882466, "link": "https://stackoverflow.com/questions/39882466/return-bool-from-view-actionlink-to-method-asp-net-mvc", "title": "Return bool from view/ActionLink to method - Asp.Net MVC", "body": "<p>I've to pass a bool inside -> <code>\"@Html.ActionLink(\" \", \"Like\", new { id = Model.Id @*, Pass bool value here *@}\".</code> My model doesn't contain a bool property nor can I add it(database first) or replace the model with a ViewModel. Is it still possible to pass a bool value to my method somehow?</p>\n\n<p>My method Like signature takes a <code>Guid Id</code> and a <code>bool</code> in parameter.</p>\n\n<p>Can I somehow pass bool:</p>\n\n<pre><code>   @Html.ActionLink(\"Like!\", \"Like\", new { id = Model.Id, @* true bool*@}\n   @Html.ActionLink(\"Disike!\", \"Like\", new { id = Model.Id, @*false bool*@}\n</code></pre>\n\n<p>To:</p>\n\n<pre><code> public ActionResult Like(Guid id, bool getBool) \n        {\n            if (getBool == true){    \n\n                return Content(\"Liked!\");\n\n            }else if (getBool == false){    \n\n                return Content(\"Disiked!\");\n            }\n</code></pre>\n\n<p>Any idea how to pass a bool value from view to controller?</p>\n"}, {"tags": ["c#", "xpath", "html-agility-pack"], "answers": [{"tags": [], "owner": {"reputation": 88945, "user_id": 290085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306077a2fb7af6587f470214a1b337ff?s=128&d=identicon&r=PG", "display_name": "kjhughes", "link": "https://stackoverflow.com/users/290085/kjhughes"}, "is_accepted": true, "score": 2, "last_activity_date": 1475701688, "last_edit_date": 1495541206, "creation_date": 1475696507, "answer_id": 39882351, "question_id": 39882263, "link": "https://stackoverflow.com/questions/39882263/how-do-i-get-my-xpath-to-search-only-within-each-table/39882351#39882351", "title": "How do I get my XPath to search only within each table?", "body": "<p>With the addition of a second table, two adjustments are required:</p>\n\n<ol>\n<li><p>Change your absolute XPath,</p>\n\n<pre><code>//*[text()='Name']/following::td\n</code></pre>\n\n<p>to one relative to the current <code>table</code> or <code>tbody</code> element:</p>\n\n<pre><code>.//*[text()='Name']/following::td\n</code></pre></li>\n<li><p>Account for there now being more than one <code>td</code> element on the\n<code>following::</code> axis.</p>\n\n<p>Either just grab the first,</p>\n\n<pre><code>(.//*[text()='Name']/following::td)[1]\n</code></pre>\n\n<p>or, better, use the <code>following-sibling::</code> axis instead in combination\nwith a test on the string value of <code>td</code> rather than a test on a text node, which might be buried beneath intervening formatting elements: </p>\n\n<pre><code> .//td[.='Name']/following-sibling::td\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/34593753/testing-text-nodes-vs-string-values-in-xpath\">Difference between Testing text() nodes vs string values in XPath</a>.</p></li>\n</ol>\n"}], "owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 39882351, "answer_count": 1, "score": 1, "last_activity_date": 1475702639, "creation_date": 1475696136, "last_edit_date": 1475702639, "question_id": 39882263, "link": "https://stackoverflow.com/questions/39882263/how-do-i-get-my-xpath-to-search-only-within-each-table", "title": "How do I get my XPath to search only within each table?", "body": "<p>I have a bit of HTML that looks like this:</p>\n\n<pre><code>&lt;table class=\"resultsTable\"&gt;\n    &lt;tbody&gt;\n        &lt;tr class=\"even\"&gt;\n            &lt;td width=\"35%\"&gt;&lt;strong&gt;Name&lt;/strong&gt;&lt;/td&gt;\n            &lt;td&gt;ACME ANVILS, INC&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>and some C# code that looks like this:</p>\n\n<pre><code>var name = document.DocumentNode\n                   .SelectSingleNode(\"//*[text()='Name']/following::td\").InnerText\n</code></pre>\n\n<p>which happily returns </p>\n\n<pre><code>ACME ANVILS, INC.\n</code></pre>\n\n<p>However, there's a new wrinkle.  The page in question now returns multiple results:</p>\n\n<pre><code>&lt;table class=\"resultsTable\"&gt;\n    &lt;tbody&gt;\n        &lt;tr class=\"even\"&gt;\n            &lt;td width=\"35%\"&gt;&lt;strong&gt;Name&lt;/strong&gt;&lt;/td&gt;\n            &lt;td&gt;ACME ANVILS, INC.&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;table class=\"resultsTable\"&gt;\n    &lt;tbody&gt;\n        &lt;tr class=\"even\"&gt;\n            &lt;td width=\"35%\"&gt;&lt;strong&gt;Name&lt;/strong&gt;&lt;/td&gt;\n            &lt;td&gt;ROAD RUNNER RACES, LLC&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>So now I'm working with </p>\n\n<pre><code>var tables = document.DocumentNode.SelectNodes(\"//table/tbody\");\nforeach (var table in tables)\n{\n    var name = table.SelectSingleNode(\"//*[text()='Name']/following::td\").InnerText;\n    ...\n}\n</code></pre>\n\n<p>Which falls over, because <code>SelectSingleNode</code> returns null.</p>\n\n<p>How do I get my XPath to actually return a result, searching only within the specific table I have selected?</p>\n"}, {"tags": ["c#", "service", "asp.net-core"], "comments": [{"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1475696404, "post_id": 39882226, "comment_id": 67051665, "body": "Did you add a reference in your project to <code>Microsoft.Extensions.DependencyInjection.Abstractions</code> and add a using directive for the namespace, like <code>using Microsoft.Extensions.DependencyInjection</code>?  Usually if something is underlined in red you&#39;re either missing a reference or a <code>using</code> directive."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 2, "creation_date": 1475696658, "post_id": 39882226, "comment_id": 67051826, "body": "You are mixing up OWIN and Dot.Net Core. Check the documentation here <a href=\"https://docs.asp.net/en/latest/fundamentals/owin.html\" rel=\"nofollow noreferrer\">docs.asp.net/en/latest/fundamentals/owin.html</a>"}, {"owner": {"reputation": 1033, "user_id": 2056878, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/IZFw8.jpg?s=128&g=1", "display_name": "devio", "link": "https://stackoverflow.com/users/2056878/devio"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1475696860, "post_id": 39882226, "comment_id": 67051958, "body": "@Nkosi : What do you mean ? Can you be more explicit ?"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1475697128, "post_id": 39882226, "comment_id": 67052115, "body": "Check the documentation linked in my previous comment. What type of project is it? asp.net-core?"}, {"owner": {"reputation": 1033, "user_id": 2056878, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/IZFw8.jpg?s=128&g=1", "display_name": "devio", "link": "https://stackoverflow.com/users/2056878/devio"}, "edited": false, "score": 0, "creation_date": 1475697702, "post_id": 39882226, "comment_id": 67052372, "body": "Okay, thank you. But one thing, I can&#39;t find the file <code>project.json</code> Fyi, I&#39;m now working locally on a test project. I am using VS2015"}, {"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1475699683, "post_id": 39882226, "comment_id": 67053431, "body": "Based on the link in OP&#39;s question, it&#39;s ASP.NET Core."}], "answers": [{"tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": false, "score": 0, "last_activity_date": 1475703785, "creation_date": 1475703785, "answer_id": 39884198, "question_id": 39882226, "link": "https://stackoverflow.com/questions/39882226/iservicecollection-class-unresolved/39884198#39884198", "title": "IServiceCollection class unresolved", "body": "<p>The skeleton that you're looking for is this: </p>\n\n<pre><code>using Microsoft.AspNetCore.Builder;\nusing Microsoft.Extensions.DependencyInjection;\n\nnamespace MapApp\n{\n    public class Startup\n    {\n        public void ConfigureServices(IServiceCollection services)\n        { \n\n        }\n\n        public void Configure(IApplicationBuilder app)\n        {\n\n        }\n    }\n}\n</code></pre>\n\n<p>I'm not sure what referred you to the <code>Owin</code> assemblies. </p>\n"}], "owner": {"reputation": 1033, "user_id": 2056878, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/IZFw8.jpg?s=128&g=1", "display_name": "devio", "link": "https://stackoverflow.com/users/2056878/devio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 523, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475922007, "creation_date": 1475696007, "last_edit_date": 1475922007, "question_id": 39882226, "link": "https://stackoverflow.com/questions/39882226/iservicecollection-class-unresolved", "title": "IServiceCollection class unresolved", "body": "<p>Below is my <code>Startup.cs</code> class :</p>\n\n<pre><code>using Microsoft.Owin;\nusing Owin;\nusing MapApp.Models;\n\n[assembly: OwinStartup(typeof(MapApp.Startup))]\n\nnamespace MapApp\n{\n\npublic partial class Startup\n{\n    public void ConfigureServices(IServiceCollection services)\n    {\n\n    }\n\n    public void Configuration(IAppBuilder app)\n    {\n        ConfigureAuth(app);\n    } \n}\n}\n</code></pre>\n\n<p>The problem is that the <code>IServiceCollection</code> is unresolved : underlined in red.</p>\n\n<p>I am following the steps in the link : <a href=\"https://docs.asp.net/en/latest/tutorials/first-web-api.html#add-a-model-class\" rel=\"nofollow\">https://docs.asp.net/en/latest/tutorials/first-web-api.html#add-a-model-class</a></p>\n"}, {"tags": ["c#", "android", "visual-studio", "xamarin"], "answers": [{"tags": [], "owner": {"reputation": 5513, "user_id": 2913599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/098f6fabc851434459585bb8170f950f?s=128&d=identicon&r=PG", "display_name": "jgoldberger - MSFT", "link": "https://stackoverflow.com/users/2913599/jgoldberger-msft"}, "is_accepted": true, "score": 1, "last_activity_date": 1476149075, "creation_date": 1476149075, "answer_id": 39969136, "question_id": 39882213, "link": "https://stackoverflow.com/questions/39882213/update-gps-map-marker-position-xamarin/39969136#39969136", "title": "Update GPS map marker position Xamarin", "body": "<p>I am guessing that this may be because you can never know what thread a timer callback is run on and generally UI updates need to be done on the UI thread. Try running the code to update the marker on the UI Thread with RunOnUiThread(), e.g.:</p>\n\n<pre><code>RunOnUiThread(() =&gt; \n{\n    mMap.Clear();\n    LatLng latlng = new LatLng(_currentLocation.Latitude, _currentLocation.Longitude);\n    CameraUpdate camera = CameraUpdateFactory.NewLatLngZoom(latlng, 18);\n    mMap.MoveCamera(camera);\n\n    MarkerOptions options = new MarkerOptions()\n        .SetPosition(latlng)\n        .SetTitle(\"Vehicle\")\n        .SetSnippet(\"Your vehicle is here.\")\n        .Draggable(false);\n\n    mMap.AddMarker(options);\n});\n</code></pre>\n"}], "owner": {"reputation": 196, "user_id": 5056888, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/hmwMM.png?s=128&g=1", "display_name": "Lynnstrum", "link": "https://stackoverflow.com/users/5056888/lynnstrum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 526, "favorite_count": 0, "accepted_answer_id": 39969136, "answer_count": 1, "score": 0, "last_activity_date": 1476149075, "creation_date": 1475695950, "last_edit_date": 1475718498, "question_id": 39882213, "link": "https://stackoverflow.com/questions/39882213/update-gps-map-marker-position-xamarin", "title": "Update GPS map marker position Xamarin", "body": "<p>I'm trying to update the location of the marker placed on start up based off my location. However the first marker is placed when the app is open but it does not update. No physical changes are seen at all, \"Timer called\" is being written to the console so I know the timer is working.\nMy question: Why doesn't it update the location of my marker through the timer?\nAlso if there is a better way I'm open to suggestions.</p>\n\n<p>Here is the code I have:</p>\n\n<pre><code>GoogleMap mMap;\nLocationManager _locationManager;\nLocation _currentLocation;\nString _locationProvider;\nTextView addresstxt;\nMarkerOptions options = new MarkerOptions();\n\npublic void OnMapReady(GoogleMap googleMap)// This works as it should on start up.\n{\n    mMap = googleMap;\n    LatLng latlng = new LatLng(_currentLocation.Latitude, _currentLocation.Longitude);\n    CameraUpdate camera = CameraUpdateFactory.NewLatLngZoom(latlng, 18);\n    mMap.MoveCamera(camera);\n\n\n    options.SetPosition(latlng);\n    options.SetTitle(\"Vehicle\");\n    options.SetSnippet(\"Your vehicle is here.\");\n    options.Draggable(false);\n    mMap.AddMarker(options);\n}\n\nprivate void CountDown()\n{\n\n    System.Timers.Timer timer = new System.Timers.Timer();\n    timer.Interval = 1000;\n    timer.Elapsed += OnTimedEvent;\n    timer.Enabled = true;\n\n\n}\n\nprivate void OnTimedEvent(object sender, System.Timers.ElapsedEventArgs e)\n{\n    Console.WriteLine(\"Timer called\");\n    mMap.Clear();\n    LatLng latlng = new LatLng(_currentLocation.Latitude, _currentLocation.Longitude);\n    CameraUpdate camera = CameraUpdateFactory.NewLatLngZoom(latlng, 18);\n    mMap.MoveCamera(camera);\n\n    MarkerOptions options = new MarkerOptions()\n        .SetPosition(latlng)\n        .SetTitle(\"Vehicle\")\n        .SetSnippet(\"Your vehicle is here.\")\n        .Draggable(false);\n\n    mMap.AddMarker(options);\n}\n</code></pre>\n"}, {"tags": ["c#", "clock", "alarm"], "comments": [{"owner": {"reputation": 584, "user_id": 1076228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11bdd66e1967961c4408be01881986a9?s=128&d=identicon&r=PG", "display_name": "fsschmitt", "link": "https://stackoverflow.com/users/1076228/fsschmitt"}, "edited": false, "score": 0, "creation_date": 1475696101, "post_id": 39882177, "comment_id": 67051498, "body": "Just to check if I understood correctly. The only reason why you are checking if &quot;now&quot; is between the end and start is so that when the &quot;Tick&quot; hits between that time you want to execute that code once. Am I correct?"}, {"owner": {"reputation": 29, "user_id": 5953420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QBDEC.jpg?s=128&g=1", "display_name": "Maximus", "link": "https://stackoverflow.com/users/5953420/maximus"}, "reply_to_user": {"reputation": 584, "user_id": 1076228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11bdd66e1967961c4408be01881986a9?s=128&d=identicon&r=PG", "display_name": "fsschmitt", "link": "https://stackoverflow.com/users/1076228/fsschmitt"}, "edited": false, "score": 0, "creation_date": 1475696141, "post_id": 39882177, "comment_id": 67051519, "body": "Yeah, I couldn&#39;t work out any other way"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1475696218, "post_id": 39882177, "comment_id": 67051562, "body": "Use a library to handle time for you like <a href=\"https://www.nuget.org/packages/Quartz\" rel=\"nofollow noreferrer\">Quartz.NET</a>, it makes stuff like alarms 100x easier."}, {"owner": {"reputation": 5132, "user_id": 860539, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/67357f937a65dfdb36192e0f47f6b044?s=128&d=identicon&r=PG", "display_name": "PeteGO", "link": "https://stackoverflow.com/users/860539/petego"}, "edited": false, "score": 1, "creation_date": 1475696296, "post_id": 39882177, "comment_id": 67051592, "body": "Lots of other ways to do what you are doing, some probably better, but to answer your question: <code>MyTimer.Tick -= MyTimer_Tick;</code> removes the handler."}, {"owner": {"reputation": 5132, "user_id": 860539, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/67357f937a65dfdb36192e0f47f6b044?s=128&d=identicon&r=PG", "display_name": "PeteGO", "link": "https://stackoverflow.com/users/860539/petego"}, "edited": false, "score": 0, "creation_date": 1475696492, "post_id": 39882177, "comment_id": 67051721, "body": "Or calculate the interval based on when you want it to activate (target time minus now).  But still remove the handler if you want it to only execute once."}, {"owner": {"reputation": 5132, "user_id": 860539, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/67357f937a65dfdb36192e0f47f6b044?s=128&d=identicon&r=PG", "display_name": "PeteGO", "link": "https://stackoverflow.com/users/860539/petego"}, "edited": false, "score": 1, "creation_date": 1475696535, "post_id": 39882177, "comment_id": 67051746, "body": "One more option would be to just do what you need to in this program and schedule the .exe using the Windows Task Scheduler."}], "answers": [{"tags": [], "owner": {"reputation": 584, "user_id": 1076228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11bdd66e1967961c4408be01881986a9?s=128&d=identicon&r=PG", "display_name": "fsschmitt", "link": "https://stackoverflow.com/users/1076228/fsschmitt"}, "is_accepted": true, "score": 0, "last_activity_date": 1475696559, "creation_date": 1475696559, "answer_id": 39882366, "question_id": 39882177, "link": "https://stackoverflow.com/questions/39882177/alarm-clock-in-c/39882366#39882366", "title": "Alarm Clock in C#", "body": "<p>As a quick solution you can keep on a bool if the alarm has been triggered before or not.</p>\n\n<pre><code>bool alarmTriggered = false;\nprivate void WakeUpProcess()\n{\n    StreamReader CurrentAgenda = new StreamReader(\"C:/Users/Max/documents/visual studio 2015/Projects/Advanced_AlarmClock/Advanced_AlarmClock/File Resources/Todays Agenda.txt\");\n    TimeSpan start = new TimeSpan(06, 50, 0); //10 o'clock\n    TimeSpan end = new TimeSpan(07, 00, 0); //12 o'clock\n    TimeSpan now = DateTime.Now.TimeOfDay;\n    System.IO.StreamReader CurrentAgendaRaw = new System.IO.StreamReader(\"C:/Users/Max/documents/visual studio 2015/Projects/Advanced_AlarmClock/Advanced_AlarmClock/File Resources/Todays Agenda.txt\");\n    string CurrentAgendaTxt = CurrentAgendaRaw.ReadToEnd();\n\n    if ((now &gt; start) &amp;&amp; (now &lt; end) &amp;&amp; !alarmTriggered)\n    {\n        alarmTriggered = true;\n        this.WindowState = FormWindowState.Normal;\n        Output.Text = (\"Good Morning Max\" + Environment.NewLine + CurrentAgendaTxt);            \n        Process.Start(\"C:/Users/Max/Downloads/Juice Newton - Angel Of The Morning.mp3\");\n\n        }\n    }\n    else {\n        alarmTriggered = false;\n    }\n\n}\n</code></pre>\n\n<p>PS: The libraries proposed in the comment for your question are a better way to go if you want to progress with your application.</p>\n\n<p>PS2: I am assuming you are just trying stuff around and that this app is supposed to be running multiple days, otherwise removing the event listener is the best choice by far.</p>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 5953420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QBDEC.jpg?s=128&g=1", "display_name": "Maximus", "link": "https://stackoverflow.com/users/5953420/maximus"}, "edited": false, "score": 0, "creation_date": 1475697587, "post_id": 39882564, "comment_id": 67052324, "body": "Thanks for the help, will see which ones work the best :D"}], "tags": [], "owner": {"reputation": 17393, "user_id": 402022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/36WSK.png?s=128&g=1", "display_name": "Theraot", "link": "https://stackoverflow.com/users/402022/theraot"}, "is_accepted": false, "score": 0, "last_activity_date": 1475697845, "last_edit_date": 1495540109, "creation_date": 1475697164, "answer_id": 39882564, "question_id": 39882177, "link": "https://stackoverflow.com/questions/39882177/alarm-clock-in-c/39882564#39882564", "title": "Alarm Clock in C#", "body": "<p>You are using <code>Process.Start</code> to play the song, and leaving it there.</p>\n\n<p>You could try using the return value of <code>Process.Start</code> to <a href=\"https://stackoverflow.com/a/268394/402022\">check if the process is still running</a>, or even to <a href=\"https://msdn.microsoft.com/en-us/library/system.diagnostics.process.kill%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">kill</a> it.</p>\n\n<p>Besides, you are probably better served if you use a library to play your mp3. then you will have finer control over its play time.</p>\n\n<p>Some options include:</p>\n\n<ul>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd562692(v=vs.85).aspx\" rel=\"nofollow noreferrer\">WMPLib</a> (for Windows, Microsoft Eula)</li>\n<li><a href=\"https://github.com/naudio/NAudio\" rel=\"nofollow noreferrer\">NAudio</a> (for Windows, Ms-PL)</li>\n<li><a href=\"http://directshownet.sourceforge.net/\" rel=\"nofollow noreferrer\">DirectShow</a> (for Windows, LGPL)</li>\n<li><a href=\"http://www.ambiera.com/irrklang/\" rel=\"nofollow noreferrer\">irrKlang</a> (for Windows, Linux and Mac, free for non-commercial use)</li>\n<li><a href=\"http://alvas.net/alvas.audio.aspx\" rel=\"nofollow noreferrer\">Alvas.Audio</a> (for Windows, paid, privative)</li>\n</ul>\n\n<p>Note: there is also OpenAL via OpenTK or Monogame but you probably don't wany any of the 3D stuff.</p>\n"}], "owner": {"reputation": 29, "user_id": 5953420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QBDEC.jpg?s=128&g=1", "display_name": "Maximus", "link": "https://stackoverflow.com/users/5953420/maximus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2161, "favorite_count": 0, "accepted_answer_id": 39882366, "answer_count": 2, "score": 0, "last_activity_date": 1475698262, "creation_date": 1475695815, "last_edit_date": 1475698262, "question_id": 39882177, "link": "https://stackoverflow.com/questions/39882177/alarm-clock-in-c", "title": "Alarm Clock in C#", "body": "<p>I had an idea to build an alarm clock in c# with the following features</p>\n\n<ol>\n<li>Show a to-do list for the day</li>\n<li>Play a song from a list of songs chosen</li>\n</ol>\n\n<p>Completed features I've already done</p>\n\n<ol>\n<li>Show list of to-do's </li>\n<li>Play a song</li>\n<li><p>Show form between a certain time</p>\n\n<pre><code>private void Form1_Load(object sender, EventArgs e)\n{\n    Timer MyTimer = new Timer();\n    MyTimer.Interval = (1 * 60 * 1000); // 1 mins\n    MyTimer.Tick += new EventHandler(MyTimer_Tick);\n    MyTimer.Start();\n}\n\nprivate void MyTimer_Tick(object sender, EventArgs e)\n{\n\n    WakeUpProcess();\n}\n\nprivate void WakeUpProcess()\n{\n    StreamReader CurrentAgenda = new StreamReader(\"C:/Users/Max/documents/visual studio 2015/Projects/Advanced_AlarmClock/Advanced_AlarmClock/File Resources/Todays Agenda.txt\");\n    TimeSpan start = new TimeSpan(06, 50, 0); //10 o'clock\n    TimeSpan end = new TimeSpan(07, 00, 0); //12 o'clock\n    TimeSpan now = DateTime.Now.TimeOfDay;\n    System.IO.StreamReader CurrentAgendaRaw = new System.IO.StreamReader(\"C:/Users/Max/documents/visual studio 2015/Projects/Advanced_AlarmClock/Advanced_AlarmClock/File Resources/Todays Agenda.txt\");\n    string CurrentAgendaTxt = CurrentAgendaRaw.ReadToEnd();\n\n    if ((now &gt; start) &amp;&amp; (now &lt; end))\n    {\n        this.WindowState = FormWindowState.Normal;\n        Output.Text = (\"Good Morning Max\" + Environment.NewLine + CurrentAgendaTxt);            \n        Process.Start(\"C:/Users/Max/Downloads/Juice Newton - Angel Of The Morning.mp3\");\n\n    }\n\n}\n</code></pre></li>\n</ol>\n\n<p>However, I need some solutions to problems I'm facing. \n - Every time the time requirement is met (Between 6:50 and 7:00) a new instance is opened of the song. I only want one instance open. \n - Also could someone helep me with how I'd get the program to wake up the computer if possible. </p>\n\n<p>Thank you, Maximus</p>\n"}, {"tags": ["c#", "wpf", "callback", "affdex-sdk"], "answers": [{"comments": [{"owner": {"reputation": 90, "user_id": 5369505, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-WSNkllDdIQ0/AAAAAAAAAAI/AAAAAAAAAIw/32mm2wl8OWk/photo.jpg?sz=128", "display_name": "Wouter ", "link": "https://stackoverflow.com/users/5369505/wouter"}, "edited": false, "score": 0, "creation_date": 1475702302, "post_id": 39883146, "comment_id": 67054599, "body": "Whoops, I linked the wrong documentation. I did in fact use <a href=\"http://developer.affectiva.com/v3_1_1/windows/analyze-camera/\" rel=\"nofollow noreferrer\">this</a> documentation. The id thing seems like a very silly mistake, I changed it to 0 now, but it still does not work, unfortunately.  I will now take a look at your github examples, and see if I can learn from them. Thank you for your response!"}], "tags": [], "owner": {"reputation": 395, "user_id": 4686445, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/950866421598653/picture?type=large", "display_name": "Umang Mukesh Mehta", "link": "https://stackoverflow.com/users/4686445/umang-mukesh-mehta"}, "is_accepted": false, "score": 0, "last_activity_date": 1475699498, "creation_date": 1475699498, "answer_id": 39883146, "question_id": 39882164, "link": "https://stackoverflow.com/questions/39882164/how-do-i-make-affectiva-call-my-callback-functions/39883146#39883146", "title": "How do I make Affectiva call my callback functions?", "body": "<p>I think you are looking at the wrong documentation.You can find the right documentation for Windows SDK <a href=\"http://developer.affectiva.com/v3_1_1/windows/\" rel=\"nofollow\">here</a>. A quick look at the code snippet, you are setting <code>int camId = 10;</code> which means that the detector is looking for Camera with id 10 on the system. By default the inbuilt camera has an <code>id = 0</code>. We set the default CameraId to 0 and the rate at which we process the frames to 30.Here is the default constructor definition for <a href=\"http://developer.affectiva.com/pages/platforms/v3_1_1/windows/classdocs/Affdex/html/1d7a795f-92f8-e0e5-f48a-79d1d1941091.htm\" rel=\"nofollow\">CameraDetector</a>.</p>\n\n<p>You can analyze the camera feed using this <a href=\"http://developer.affectiva.com/v3_1_1/windows/analyze-camera/\" rel=\"nofollow\">example</a>. We also have some ready to go application available on github mainly <a href=\"https://github.com/Affectiva/affdexme-win\" rel=\"nofollow\">Affdex-Me</a> and <a href=\"https://github.com/Affectiva/csharp-sample-apps\" rel=\"nofollow\">csharp-sample-apps</a>.</p>\n"}], "owner": {"reputation": 90, "user_id": 5369505, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-WSNkllDdIQ0/AAAAAAAAAAI/AAAAAAAAAIw/32mm2wl8OWk/photo.jpg?sz=128", "display_name": "Wouter ", "link": "https://stackoverflow.com/users/5369505/wouter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475699498, "creation_date": 1475695749, "last_edit_date": 1475696109, "question_id": 39882164, "link": "https://stackoverflow.com/questions/39882164/how-do-i-make-affectiva-call-my-callback-functions", "title": "How do I make Affectiva call my callback functions?", "body": "<p>I recently installed the Affectiva SDK (<a href=\"http://www.affectiva.com/\" rel=\"nofollow\">http://www.affectiva.com/</a>) and followed the tutorial on analyzing input from the camera (<a href=\"http://developer.affectiva.com/v3/android/analyze-camera/\" rel=\"nofollow\">http://developer.affectiva.com/v3/android/analyze-camera/</a>). Unfortunately, the project does not seem to be working. It is my understanding that the interface/callback functions from <code>FaceListener, ImageListener, ProcessStatusListener</code> need to be called when a face is detected etc (is this correct).</p>\n\n<p>I am not getting any errors, but these functions are never called either (I've put Console.WriteLine statements in there, as well as placed breakpoints in Visual Studio). From time to time, a series of \"Image Captured\" statements are printed to the console, but I cannot yet reproduce how or why that happens. Does anyone know what I did wrong? Thank you in advance for any help.</p>\n\n<hr>\n\n<p>Below is my code so far:</p>\n\n<blockquote>\n  <p>App.xaml.cs</p>\n</blockquote>\n\n<pre><code>using Affdex;\nusing System;\nusing System.Collections.Generic;\nusing System.Configuration;\nusing System.Data;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing System.Windows;\n\nnamespace Affectiva\n{\n\n    /// &lt;summary&gt;\n    /// Interaction logic for App.xaml\n    /// &lt;/summary&gt;\n    public partial class App : Application, FaceListener, ImageListener, ProcessStatusListener\n    {\n        public static CameraDetector detector;\n        int camId = 10;\n        int camFPS = 60;\n\n        public App(){\n            detector = new CameraDetector();\n            String classifierPath = \"C:\\\\Program Files (x86)\\\\Affectiva\\\\Affdex SDK\\\\data\";\n            detector.setClassifierPath(classifierPath);\n\n            detector.setCameraId(camId);\n            detector.setCameraFPS(camFPS);\n\n            detector.setFaceListener(this);\n            detector.setImageListener(this);\n            detector.setProcessStatusListener(this);\n\n            detector.setDetectSmile(true);\n            detector.setDetectJoy(true);\n\n            detector.setDetectAllExpressions(true);\n            detector.setDetectAllEmotions(true);\n            detector.setDetectAllEmojis(true);\n            detector.setDetectAllAppearances(true);\n        }\n\n        public void onFaceFound(float f, int i)\n        {\n            Console.WriteLine(\"Face Found!\");\n        }\n\n        public void onFaceLost(float f, int i)\n        {\n            Console.WriteLine(\"Face Lost!\");\n        }\n\n        public void onImageResults(Dictionary&lt;int, Face&gt; faces, Frame f){\n            Console.WriteLine(\"OnImageResults - \" + faces.Count);\n            if(faces.Count &gt; 0)\n                Console.WriteLine(faces.First().Value.Appearance.Age);\n        }\n\n        public void onImageCapture(Frame f){\n            Console.WriteLine(\"Image Captured \" + f.getHeight());\n        }\n\n        public void onProcessingFinished()\n        {\n            Console.WriteLine(\"Processing Finished\");\n        }\n\n        public void onProcessingException(AffdexException e)\n        {\n            Console.WriteLine(e.Message);\n        }\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>MainWindow.xaml.cs</p>\n</blockquote>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading;\nusing System.Threading.Tasks;\nusing System.Windows;\nusing System.Windows.Controls;\nusing System.Windows.Data;\nusing System.Windows.Documents;\nusing System.Windows.Input;\nusing System.Windows.Media;\nusing System.Windows.Media.Imaging;\nusing System.Windows.Navigation;\nusing System.Windows.Shapes;\nusing System.Windows.Threading;\nusing WebEye.Controls.Wpf;\n\nnamespace Affectiva\n{\n    /// &lt;summary&gt;\n    /// Interaction logic for MainWindow.xaml\n    /// &lt;/summary&gt;\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n        }\n\n        private void OnStartButtonClick(object sender, RoutedEventArgs e)\n        {\n            var cameraId = webCameraControl.GetVideoCaptureDevices().First();\n            webCameraControl.StartCapture(cameraId);\n            App.detector.start();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc-5", "asp.net-identity-2"], "comments": [{"owner": {"reputation": 631, "user_id": 3534314, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cBrFA.png?s=128&g=1", "display_name": "NocFenix", "link": "https://stackoverflow.com/users/3534314/nocfenix"}, "edited": false, "score": 0, "creation_date": 1475696112, "post_id": 39882092, "comment_id": 67051504, "body": "Probably your <code>CurUser</code> is null. Debug the code and see which object is null that you&#39;re trying to access."}, {"owner": {"reputation": 1278, "user_id": 3977699, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/pt7Jv.jpg?s=128&g=1", "display_name": "Zulqarnain Jalil", "link": "https://stackoverflow.com/users/3977699/zulqarnain-jalil"}, "edited": false, "score": 0, "creation_date": 1475698191, "post_id": 39882092, "comment_id": 67052633, "body": "i think <b>CurUser</b> is null. check that <b>CurUser</b> is not null"}, {"owner": {"reputation": 31485, "user_id": 809357, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fe164036841e4bc8029ea2f842a5e5d7?s=128&d=identicon&r=PG", "display_name": "trailmax", "link": "https://stackoverflow.com/users/809357/trailmax"}, "edited": false, "score": 0, "creation_date": 1475703446, "post_id": 39882092, "comment_id": 67055111, "body": "What you are trying to do is best achieved by claims - all your data will be part of authentication cookie and easily available. Have a look on this sample: <a href=\"http://stackoverflow.com/a/21690079/809357\">stackoverflow.com/a/21690079/809357</a>"}], "owner": {"reputation": 14467, "user_id": 1253219, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/XVVdO.png?s=128&g=1", "display_name": "Linger", "link": "https://stackoverflow.com/users/1253219/linger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 342, "favorite_count": 0, "closed_date": 1475695481, "answer_count": 0, "score": 0, "last_activity_date": 1475695412, "creation_date": 1475695412, "question_id": 39882092, "link": "https://stackoverflow.com/questions/39882092/get-current-user-retrieve-information-and-store-in-cookie", "closed_reason": "Duplicate", "title": "Get Current User, Retrieve Information, and Store in Cookie", "body": "<p>I have extended the <code>ApplicationUser</code> to include some other information about a user:</p>\n\n<pre><code>public class ApplicationUser : IdentityUser\n{\n    public string AmptechEmployeeID { get; set; }\n    public EnumIdentityNavigationType NavigationType { get; set; }\n    public EnumPanelBarExpandMode PanelBarExpandMode { get; set; }\n    public EnumIdentityTheme Theme { get; set; }\n    public EnumIdentityBreadcrumbs Breadcrumbs { get; set; }\n    public EnumIdentityHeaderFooter Header { get; set; }\n    public EnumIdentityHeaderFooter Footer { get; set; }\n</code></pre>\n\n<p>Now when the user logs into the application I would like to retrieve the information and store it in cookies:</p>\n\n<pre><code>[HttpPost]\n[AllowAnonymous]\n[ValidateAntiForgeryToken]\npublic async Task&lt;ActionResult&gt; Login(LoginViewModel model, string returnUrl)\n{\n    if (!ModelState.IsValid)\n    {\n        return View(model);\n    }\n\n    var result = await SignInManager.PasswordSignInAsync(model.UserName, model.Password, model.RememberMe, shouldLockout: false);\n    switch (result)\n    {\n        case SignInStatus.Success:\n            Response.AppendCookie(GetUserInfo());\n            return RedirectToLocal(returnUrl);\n        case SignInStatus.LockedOut:\n            return View(\"Lockout\");\n        case SignInStatus.RequiresVerification:\n            return RedirectToAction(\"SendCode\", new { ReturnUrl = returnUrl });\n        case SignInStatus.Failure:\n        default:\n            ModelState.AddModelError(\"\", \"Invalid login attempt, the User Name and/or Password you supplied is/are invalid\");\n            return View(model);\n    }\n}\n\npublic HttpCookie GetUserInfo()\n{\n    var db = new ApplicationDbContext();\n    var userid = User.Identity.GetUserId();\n    ApplicationUser CurUser = db.Users.Find(userid);\n\n    HttpCookie cookie = new HttpCookie(\"UserInfo\");\n    cookie[\"UserName\"] = CurUser.UserName;\n    cookie[\"AmptechEmployeeID\"] = CurUser.AmptechEmployeeID;\n    cookie[\"Breadcrumbs\"] = CurUser.Breadcrumbs;\n    cookie[\"Footer\"] = CurUser.Footer;\n    cookie[\"Header\"] = CurUser.Header;\n    cookie[\"NavigationType\"] = CurUser.NavigationType;\n    cookie[\"PanelBarExpandMode\"] = CurUser.PanelBarExpandMode;\n    cookie[\"Theme\"] = CurUser.Theme;\n\n    return cookie;\n}\n</code></pre>\n\n<p>When I run the application I am getting the following error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wbKJL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wbKJL.png\" alt=\"enter image description here\"></a></p>\n\n<p>What am I doing wrong here? </p>\n"}, {"tags": ["c#", "checkedlistbox"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1475695664, "post_id": 39882041, "comment_id": 67051251, "body": "The name cant be John <i>*and</i> Jane.    use OR"}, {"owner": {"reputation": 1170, "user_id": 2287853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9uCw.jpg?s=128&g=1", "display_name": "Steve Byrne", "link": "https://stackoverflow.com/users/2287853/steve-byrne"}, "edited": false, "score": 0, "creation_date": 1475695751, "post_id": 39882041, "comment_id": 67051294, "body": "There has to be a primary sort (you cannot sort by John and Jane equally) you could sort by John, then a secondary sort by Jane; is that what you&#39;re after?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6879771"}, "edited": false, "score": 0, "creation_date": 1475696447, "post_id": 39882041, "comment_id": 67051686, "body": "What I&#39;m looking for is to have a datagridview with all names filtered but the ones that have a check mark in the checkedListBox. The code above already brings one name at a time. I want multiple names at a time."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6879771"}, "reply_to_user": {"reputation": 1170, "user_id": 2287853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9uCw.jpg?s=128&g=1", "display_name": "Steve Byrne", "link": "https://stackoverflow.com/users/2287853/steve-byrne"}, "edited": false, "score": 0, "creation_date": 1475696529, "post_id": 39882041, "comment_id": 67051743, "body": "@StevenByrne yes, for as long as the datagridview shows both names together in the same datagridview list."}, {"owner": {"reputation": 1170, "user_id": 2287853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9uCw.jpg?s=128&g=1", "display_name": "Steve Byrne", "link": "https://stackoverflow.com/users/2287853/steve-byrne"}, "edited": false, "score": 0, "creation_date": 1475698255, "post_id": 39882041, "comment_id": 67052673, "body": "If kalamazoowho&#39;s answer doesn&#39;t solve your problem, please update your question with desired results as I am a bit confused as to what you are looking to achieve. Do you want to change columns or sort the rows of data? If you are trying to SORT by names, John, then Jane, then Bill, the Katie that will be different than if you want John Jane Bill and Katie to all display and exclude all other data."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6879771"}, "edited": false, "score": 0, "creation_date": 1475698619, "post_id": 39882540, "comment_id": 67052863, "body": "The idea is to have the end user filter the table by names as needed using a checkedListBox. The list of names vary depending on what&#39;s in Access so I can&#39;t have hardcoded names in the list."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6879771"}, "edited": false, "score": 0, "creation_date": 1475699925, "post_id": 39882540, "comment_id": 67053563, "body": "Please check my updated question. I need the end user to check the boxes that will in turn, filter the dataGridView."}, {"owner": {"reputation": 445, "user_id": 1038838, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/B9fHq.png?s=128&g=1", "display_name": "Hank", "link": "https://stackoverflow.com/users/1038838/hank"}, "edited": false, "score": 0, "creation_date": 1475700274, "post_id": 39882540, "comment_id": 67053733, "body": "I reordered my answer above. It should do exactly what you are trying to do. Put it in an event that is called anytime a box is checked or unchecked. I believe it&#39;s the event you posted your code in."}], "tags": [], "owner": {"reputation": 445, "user_id": 1038838, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/B9fHq.png?s=128&g=1", "display_name": "Hank", "link": "https://stackoverflow.com/users/1038838/hank"}, "is_accepted": true, "score": 0, "last_activity_date": 1475700213, "last_edit_date": 1475700213, "creation_date": 1475697092, "answer_id": 39882540, "question_id": 39882041, "link": "https://stackoverflow.com/questions/39882041/how-can-i-filter-datagridview-by-checking-multiple-items-in-checkedlistbox/39882540#39882540", "title": "How can I filter dataGridView by checking multiple items in CheckedListBox?", "body": "<p>So you will have a database that will result in some form of \"Select distinct name from database\" to populate a checkedListBox. So now you'll have to add something like:</p>\n\n<pre><code>List&lt;string&gt; names = new List&lt;string&gt;();\nfor (int i = 0; i &lt; checkedListBox.Items.Count; i++) \n{\n    CheckState st = checkedListBox.GetItemCheckState(checkedListBox.Items.IndexOf(i));\n    if(st == CheckState.Checked)\n    {\n        int selected = checkedListBox.SelectedIndex;\n        if (selected != -1)\n        {\n            names.Add(checkedListBox.Items[selected].ToString());\n        }\n    }\n}  \n</code></pre>\n\n<p>The result of that will be a list of the items in checkedListBox that are checked. You can then use that with the code i gave previously to filter. Just replace the hardcoded names with the checked list strings.</p>\n\n<pre><code>string filterString = \"\";\nint count = 0;\nforeach (name in names)\n{\n    if (count != 0)\n    {\n        filterString += \" OR Responsible = '\" + name + \"'\";\n    }\n    else\n    {\n        filterString += \"Responsible = '\" + name + \"'\";\n    }\n    count += 1;\n}\n</code></pre>\n\n<p>Now you have a string that can be used as a filter for creating the DataView:</p>\n\n<pre><code>DataView view = new DataView(tables[0], filterString, \"Responsible Desc\", DataViewRowState.CurrentRows);\n</code></pre>\n\n<p>This should filter the table when it becomes a DataView as opposed to after, based on the checkBox states.</p>\n\n<p>Final event:</p>\n\n<pre><code>private void checkedListBox1_ItemCheck(object sender, ItemCheckEventArgs e)\n{\n    DataTableCollection tables = myDatabaseDataSet.Tables;\n\n    //\n    // Place all my code here\n    //\n\n    BindingSource source = new BindingSource();\n    source.DataSource = view;\n    dataGridView1.DataSource = source;\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6879771"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 880, "favorite_count": 0, "accepted_answer_id": 39882540, "answer_count": 1, "score": 0, "last_activity_date": 1496812103, "creation_date": 1475695190, "last_edit_date": 1475700663, "question_id": 39882041, "link": "https://stackoverflow.com/questions/39882041/how-can-i-filter-datagridview-by-checking-multiple-items-in-checkedlistbox", "title": "How can I filter dataGridView by checking multiple items in CheckedListBox?", "body": "<p>I have this code to filter my dataGridView using the checkedListBox. Every time the user checks a box in the checkedListBox, the dataGridView automatically updates to show only data related to the checked name (e.g. filtered by checked name = \"John\") and it works pretty well. </p>\n\n<pre><code>private void checkedListBox1_ItemCheck(object sender, ItemCheckEventArgs e)\n    {\n                DataTableCollection tables = myDatabaseDataSet.Tables;\n                DataView view = new DataView(tables[0]);\n                BindingSource source = new BindingSource();\n                source.DataSource = view;\n                dataGridView1.DataSource = source;\n                source.Filter = \"myColumnName ='\" + checkedListBox1.Text.Replace(\"'\", \"''\") + \"'\";\n        }\n</code></pre>\n\n<p>Now the question is, how could I make it so multiple items in the checkedListBox are checked and in turn dataGridView updates by showing only the names checked (e.g. checked names in the checkedListBox are \"John\" and \"Jane\")?</p>\n\n<p>The above code gives me the following result:</p>\n\n<p><a href=\"http://i.stack.imgur.com/oqDp4.png\" rel=\"nofollow\">Code Above</a></p>\n\n<p>What I want to achieve is this (mocked picture):</p>\n\n<p><a href=\"http://i.stack.imgur.com/ntjsz.png\" rel=\"nofollow\">Desired outcome</a></p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["c#", "mysql"], "comments": [{"owner": {"reputation": 24080, "user_id": 1816093, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZImpg.jpg?s=128&g=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/1816093/drew"}, "edited": false, "score": 0, "creation_date": 1475695307, "post_id": 39882024, "comment_id": 67051065, "body": "sure <a href=\"http://i.imgur.com/RKVo4uz.jpg\" rel=\"nofollow noreferrer\">i.imgur.com/RKVo4uz.jpg</a>"}, {"owner": {"reputation": 15207, "user_id": 4104224, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1UvuxsNkn9w/AAAAAAAAAAI/AAAAAAAAA10/vjzWlg3BR-U/photo.jpg?sz=128", "display_name": "Uueerdo", "link": "https://stackoverflow.com/users/4104224/uueerdo"}, "edited": false, "score": 0, "creation_date": 1475695314, "post_id": 39882024, "comment_id": 67051070, "body": "You&#39;re looking for <a href=\"https://dev.mysql.com/doc/dev/connector-net/html/M_MySql_Data_MySqlClient_MySqlDataReader_GetOrdinal.htm\" rel=\"nofollow noreferrer\">GetOrdinal</a>...but the <i>&quot;order of the results gets changed&quot;</i> should really not be an issue if you are handling queries safely. Also, keep in mind if you&#39;re looping through a lot of results, you may want to just get the ordinals once, not on every field access of every row."}, {"owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "edited": false, "score": 0, "creation_date": 1475695363, "post_id": 39882024, "comment_id": 67051099, "body": "Yes. The datareader order will always be in the order of the SELECT statement (eg SELECT col2, col3, col5 FROM mytable will produce reader[0] = col2, reader[1] = col3, reader[2] = col5). But you can also access as reader[&quot;col2&quot;] UPDATE - was thinking SQL... use GetOrdinal"}, {"owner": {"reputation": 1090, "user_id": 4552766, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ha2q4ZFf4Zs/AAAAAAAAAAI/AAAAAAAAAZY/tG6DK204Q_k/photo.jpg?sz=128", "display_name": "Eugene Pawlik", "link": "https://stackoverflow.com/users/4552766/eugene-pawlik"}, "edited": false, "score": 0, "creation_date": 1475695400, "post_id": 39882024, "comment_id": 67051121, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/15904333/how-to-read-specific-column-and-cell-in-mysql-in-c\">How to read specific column and cell in mysql in c#?</a>"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1475695756, "post_id": 39882024, "comment_id": 67051299, "body": "The MySqlDataReader has these overloads of the GetXXXX methods that accepts a column name. Just try."}, {"owner": {"reputation": 4070, "user_id": 722986, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/UiIGF.jpg?s=128&g=1", "display_name": "bwoogie", "link": "https://stackoverflow.com/users/722986/bwoogie"}, "edited": false, "score": 0, "creation_date": 1475695867, "post_id": 39882024, "comment_id": 67051363, "body": "Thanks! I overlooked the override allowing you to get by the column name."}, {"owner": {"reputation": 1278, "user_id": 3977699, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/pt7Jv.jpg?s=128&g=1", "display_name": "Zulqarnain Jalil", "link": "https://stackoverflow.com/users/3977699/zulqarnain-jalil"}, "edited": false, "score": 0, "creation_date": 1475698404, "post_id": 39882024, "comment_id": 67052758, "body": "@bwoogie you can use reader[&quot;CompanyName&quot;]"}, {"owner": {"reputation": 669, "user_id": 12068778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f94bad4881aa96158adfec99a210f3d?s=128&d=identicon&r=PG", "display_name": "Momoro", "link": "https://stackoverflow.com/users/12068778/momoro"}, "edited": false, "score": 0, "creation_date": 1581239507, "post_id": 39882024, "comment_id": 106358385, "body": "Maybe this will help: <a href=\"https://stackoverflow.com/questions/25946108/c-sharp-mysql-get-value-from-column-if-status-is-a\" title=\"c sharp mysql get value from column if status is a\">stackoverflow.com/questions/25946108/&hellip;</a>"}], "owner": {"reputation": 4070, "user_id": 722986, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/UiIGF.jpg?s=128&g=1", "display_name": "bwoogie", "link": "https://stackoverflow.com/users/722986/bwoogie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1506174783, "creation_date": 1475695145, "last_edit_date": 1506174783, "question_id": 39882024, "link": "https://stackoverflow.com/questions/39882024/how-can-i-get-mysql-cell-value-by-column-name-in-c", "title": "How can I get MySQL cell value by column name in C#?", "body": "<p>Right now, I'm using a <code>MySqlDataReader</code> to read the result from a query and using <code>reader.GetInt()</code>, <code>reader.GetString()</code>, etc. to get the value of each cell like so:</p>\n\n<pre><code>var cmd = new MySqlCommand(query, conn);\nvar reader = cmd.ExecuteReader();\nwhile(reader.Read()) {\n   myfirstvalue = reader.GetInt32(0);\n   mysecondvalue = reader.GetString(1);\n   mythirdvalue = reader.GetString(2);\n   ...\n}\n</code></pre>\n\n<p>This works and all, but it kind of grabs the values blindly. You might get an unexpected value if the order of the results gets changed.</p>\n\n<p>Can I retrieve the returned results by column name? Back in my PHP days, you could get an array and access the values like <code>$results['mycolumn']</code>. Is this possible in C#?</p>\n"}, {"tags": ["c#", "powershell", "enums", "add-type"], "comments": [{"owner": {"reputation": 8519, "user_id": 444610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0933cdf369cd867942b8b5e752970c17?s=128&d=identicon&r=PG", "display_name": "Seth Flowers", "link": "https://stackoverflow.com/users/444610/seth-flowers"}, "edited": false, "score": 1, "creation_date": 1475694976, "post_id": 39881884, "comment_id": 67050860, "body": "Thats not valid C#."}, {"owner": {"reputation": 883, "user_id": 791587, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ttz5G.jpg?s=128&g=1", "display_name": "TDN", "link": "https://stackoverflow.com/users/791587/tdn"}, "reply_to_user": {"reputation": 8519, "user_id": 444610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0933cdf369cd867942b8b5e752970c17?s=128&d=identicon&r=PG", "display_name": "Seth Flowers", "link": "https://stackoverflow.com/users/444610/seth-flowers"}, "edited": false, "score": 0, "creation_date": 1475695330, "post_id": 39881884, "comment_id": 67051081, "body": "Can you please elaborate as in what needs to change, etc.?"}, {"owner": {"reputation": 18739, "user_id": 4003407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1bb6a20caae0ab19fe7eab3ac3f74fb?s=128&d=identicon&r=PG&f=1", "display_name": "user4003407", "link": "https://stackoverflow.com/users/4003407/user4003407"}, "edited": false, "score": 4, "creation_date": 1475695440, "post_id": 39881884, "comment_id": 67051141, "body": "C# do not allow dot to be part of identifier."}, {"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1475697487, "post_id": 39881884, "comment_id": 67052282, "body": "Change <code>Name.A</code> to <code>NameA</code>.  Periods are not allowed in identifiers in C#.  Why do you not want to remove the dot?"}, {"owner": {"reputation": 883, "user_id": 791587, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ttz5G.jpg?s=128&g=1", "display_name": "TDN", "link": "https://stackoverflow.com/users/791587/tdn"}, "edited": false, "score": 0, "creation_date": 1475699478, "post_id": 39881884, "comment_id": 67053323, "body": "Because the Id is fetched in to me, but I just thought of something which is to remove the dot from the name before getting the enum value."}], "answers": [{"tags": [], "owner": {"reputation": 4363, "user_id": 2040569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/78834c6b2f1bb61025b0d29ae59af530?s=128&d=identicon&r=PG&f=1", "display_name": "Austin T French", "link": "https://stackoverflow.com/users/2040569/austin-t-french"}, "is_accepted": true, "score": 3, "last_activity_date": 1475705729, "creation_date": 1475705729, "answer_id": 39884551, "question_id": 39881884, "link": "https://stackoverflow.com/questions/39881884/powershell-dot-in-enum-name-causing-add-type-to-fail/39884551#39884551", "title": "PowerShell: Dot in Enum Name Causing Add-Type to Fail", "body": "<p>This is a limitation of .Net, and by extension PowerShell and C#. Enum member names can't have punctuation in them.</p>\n\n<p>Thus the short answer is, you can't make this work without doing something hacky (You'd have to change name.A to name[CharacterCode]A or add a description, or some other weird thing you really shouldn't do)</p>\n"}], "owner": {"reputation": 883, "user_id": 791587, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ttz5G.jpg?s=128&g=1", "display_name": "TDN", "link": "https://stackoverflow.com/users/791587/tdn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "accepted_answer_id": 39884551, "answer_count": 1, "score": 2, "last_activity_date": 1475705729, "creation_date": 1475694634, "last_edit_date": 1475695398, "question_id": 39881884, "link": "https://stackoverflow.com/questions/39881884/powershell-dot-in-enum-name-causing-add-type-to-fail", "title": "PowerShell: Dot in Enum Name Causing Add-Type to Fail", "body": "<p>I have created enums below in PowerShell. However, if I have a dot in the enum name (for example, \"Name.A\") then Add-Type would return an error. How do I go about it? I don't want to remove the dot from \"Name.A\".</p>\n\n<pre><code>$TypeEnum = \"\n    namespace Types {\n        public enum Id { \n            Name.A = 1,\n            NameB = 2,\n            NameC = 3\n        }   \n    }\"\n\nAdd-Type -TypeDefinition $TypeEnum -Language CSharpVersion3\n\n([Types.Id]::'Name.A').value__\n</code></pre>\n\n<p>Here is the error that I get:</p>\n\n<blockquote>\n  <p>Add-Type : c:\\Users\\User1\\AppData\\Local\\Temp\\ab0z5i1y.0.cs(4) : }\n  expected c:\\Users\\User1\\AppData\\Local\\Temp\\ab0z5i1y.0.cs(3) :<br>\n  public enum Id {  c:\\Users\\User1\\AppData\\Local\\Temp\\ab0z5i1y.0.cs(4)\n  : >>>             Name.A = 1,\n  c:\\Users\\User1\\AppData\\Local\\Temp\\ab0z5i1y.0.cs(5) :<br>\n  NameB = 2, At line:10 char:1\n  + Add-Type -TypeDefinition $TypeEnum -Language CSharpVersion3\n  + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n      + CategoryInfo          : InvalidData: (c:\\Users\\User1...513: } expected:CompilerError) [Add-Type], Exception\n      + FullyQualifiedErrorId : SOURCE_CODE_ERROR,Microsoft.PowerShell.Commands.AddTypeCommand<br>\n  Add-Type : c:\\Users\\User1\\AppData\\Local\\Temp\\ab0z5i1y.0.cs(8) : Type\n  or namespace definition, or end-of-file expected\n  c:\\Users\\User1\\AppData\\Local\\Temp\\ab0z5i1y.0.cs(7) :         }<br>\n  c:\\Users\\User1\\AppData\\Local\\Temp\\ab0z5i1y.0.cs(8) : >>>     } At\n  line:10 char:1\n  + Add-Type -TypeDefinition $TypeEnum -Language CSharpVersion3\n  + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n      + CategoryInfo          : InvalidData: (c:\\Users\\User1...f-file expected:CompilerError) [Add-Type], Exception\n      + FullyQualifiedErrorId : SOURCE_CODE_ERROR,Microsoft.PowerShell.Commands.AddTypeCommand<br>\n  Add-Type : Cannot add type. There were compilation errors. At line:10\n  char:1\n  + Add-Type -TypeDefinition $TypeEnum -Language CSharpVersion3\n  + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n      + CategoryInfo          : InvalidData: (:) [Add-Type], InvalidOperationException\n      + FullyQualifiedErrorId : COMPILER_ERRORS,Microsoft.PowerShell.Commands.AddTypeCommand   Unable\n  to find type [Types.Id]: make sure that the assembly containing this\n  type is loaded. At line:12 char:1\n  + ([Types.Id]::'Name.A').value__\n  + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n      + CategoryInfo          : InvalidOperation: (Types.Id:TypeName) [], RuntimeException\n      + FullyQualifiedErrorId : TypeNotFound</p>\n</blockquote>\n"}, {"tags": ["c#", "mysql", "winforms", "listview"], "comments": [{"owner": {"reputation": 24080, "user_id": 1816093, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZImpg.jpg?s=128&g=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/1816093/drew"}, "edited": false, "score": 0, "creation_date": 1475694714, "post_id": 39881862, "comment_id": 67050714, "body": "<i>but not in any useful way</i> means what?"}, {"owner": {"reputation": 101, "user_id": 2655449, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d602e01f8570c20a35f7605e9c564010?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Iverson", "link": "https://stackoverflow.com/users/2655449/chris-iverson"}, "reply_to_user": {"reputation": 24080, "user_id": 1816093, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZImpg.jpg?s=128&g=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/1816093/drew"}, "edited": false, "score": 1, "creation_date": 1475695738, "post_id": 39881862, "comment_id": 67051291, "body": "It loads 2 zeros into a single column and that is it.  The table has several strings and dates entered at this time."}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 1, "creation_date": 1475695892, "post_id": 39881862, "comment_id": 67051375, "body": "life is simpler when you use the right tool for the job  use the datatable as the datasource for a DateGridView.  One like of code, no copying data"}, {"owner": {"reputation": 222, "user_id": 1685131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e70e7ab7a1ee4f0368be53ad5ec816?s=128&d=identicon&r=PG", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/1685131/rupesh"}, "edited": false, "score": 0, "creation_date": 1475957479, "post_id": 39881862, "comment_id": 67155575, "body": "@ChrisIverson, Can you just hand-code and populate DataTable _DT - output of GetDataSPT3? And show the display you want by ListView? That may enable me to help you out. I suspect that for adding SubItems, the for loop should be <code>for (int i = 1; i &lt; row.Table.Columns.Count; i++)</code>. This is because row[0] - first columns is added as the item; hence, SubItems means another columns of the same row."}, {"owner": {"reputation": 101, "user_id": 2655449, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d602e01f8570c20a35f7605e9c564010?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Iverson", "link": "https://stackoverflow.com/users/2655449/chris-iverson"}, "reply_to_user": {"reputation": 222, "user_id": 1685131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e70e7ab7a1ee4f0368be53ad5ec816?s=128&d=identicon&r=PG", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/1685131/rupesh"}, "edited": false, "score": 0, "creation_date": 1476132774, "post_id": 39881862, "comment_id": 67213010, "body": "@Rupesh, That is how I ended up solving it."}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 2655449, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d602e01f8570c20a35f7605e9c564010?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Iverson", "link": "https://stackoverflow.com/users/2655449/chris-iverson"}, "is_accepted": true, "score": 0, "last_activity_date": 1476132945, "creation_date": 1476132945, "answer_id": 39966614, "question_id": 39881862, "link": "https://stackoverflow.com/questions/39881862/how-to-populate-a-listview-from-a-datatable-that-is-using-stored-procedures/39966614#39966614", "title": "How to populate a listview from a datatable that is using stored procedures", "body": "<p>This is what I came up with, I'm still learning, to solve my issue.  A DatagridView did not work for me since it fires a selectionchanged event when it loads and due to the needs of the form I could not have that.</p>\n\n<p>My solution:</p>\n\n<pre><code> private void GetMetrics()\n    {\n        string[] array = new string[11];\n        string begin = \"2015-05-26 00:00:00\";\n        string end = DateTime.Now.ToString(\"yyyy-MM-dd HH:mm:ss\");\n        Dictionary&lt;string, string&gt; Parameters = GetParameters();\n        Parameters.Add(\"p_daily_metrics_date_Date1\", begin);\n        Parameters.Add(\"p_daily_metrics_date_Date2\", end);\n        foreach (DataRow row in (RRCStoredProcedures.GetDataSPT4(\"spGetDailyMetrics\", Parameters)).Rows)\n        {\n            for (int item = 0; item &lt; row.ItemArray.Count(); item++)\n            {\n                array[item] = row.ItemArray[item].ToString();\n            }\n\n            ListViewItem thing = new ListViewItem\n                (new[] { array[0], array[1], array[2], array[3], array[4], array[5], array[6], array[7], array[8], array[9], array[10] });\n            Metricslstvw.Items.Insert(0, thing);\n            Array.Clear(array, 0, 10);\n        }\n        foreach(ColumnHeader ch in Metricslstvw.Columns) { ch.Width = -2; }\n\n\n    }\n</code></pre>\n\n<p>Since the DataRow exposes ItemArray, I just rolled that into an array I know how to use.</p>\n"}], "owner": {"reputation": 101, "user_id": 2655449, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d602e01f8570c20a35f7605e9c564010?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Iverson", "link": "https://stackoverflow.com/users/2655449/chris-iverson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 39966614, "answer_count": 1, "score": 0, "last_activity_date": 1476132945, "creation_date": 1475694505, "question_id": 39881862, "link": "https://stackoverflow.com/questions/39881862/how-to-populate-a-listview-from-a-datatable-that-is-using-stored-procedures", "title": "How to populate a listview from a datatable that is using stored procedures", "body": "<p>I took over a project from a former coworker and I am trying to populate a listview from a datatable that pulls from a mysql database.</p>\n\n<p>Here is what I am using to pull from MySQL:</p>\n\n<pre><code> internal static DataTable GetDataSPT3(string StoredProcedure, Dictionary&lt;string, string&gt; Parameters)\n    {\n        DataTable _DT = new DataTable();\n        MySqlCommand cmd = new MySqlCommand(StoredProcedure, new MySqlConnection(Creds.GetConnectionStringT3()));\n        cmd.CommandType = CommandType.StoredProcedure;\n        foreach (KeyValuePair&lt;string, string&gt; Parameter in Parameters)\n            cmd.Parameters.Add(new MySqlParameter(Parameter.Key, Parameter.Value));\n        cmd.Connection.Open();\n        MySqlDataReader dr = cmd.ExecuteReader(CommandBehavior.CloseConnection);\n        _DT.Load(dr);\n        dr.Close();\n        return _DT;\n    }\n</code></pre>\n\n<p>This is what I am using to populate the listview:</p>\n\n<pre><code>         private void GetMetrics()\n    {\n        string begin = \"2015-05-26 00:00:00\";\n        string end = DateTime.Now.ToString(\"yyyy-MM-dd HH:mm:ss\");\n        Dictionary&lt;string, string&gt; Parameters = GetParameters();\n        Parameters.Add(\"p_daily_metrics_date_Date1\", begin);\n        Parameters.Add(\"p_daily_metrics_date_Date2\", end);\n        DataTable dt = new DataTable();\n        foreach (DataRow row in RRCStoredProcedures.GetDataSPT3(\"spGetDailyMetrics\", Parameters).Rows)\n        {\n            ListViewItem item = new ListViewItem(row[0].ToString());\n            for (int i = 0; i &lt; row.Table.Rows.Count;i++)\n            {\n                item.SubItems.Add(row[i].ToString());\n            }\n            lvMetrics.Items.Add(item);\n        }\n    }\n</code></pre>\n\n<p>Watching the process work with breakpoints and the SQL is finding data and returning data, but not in any useful way.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["c#", "mysql", "listview"], "comments": [{"owner": {"reputation": 3564, "user_id": 1189566, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/YXOz8.png?s=128&g=1", "display_name": "sab669", "link": "https://stackoverflow.com/users/1189566/sab669"}, "edited": false, "score": 0, "creation_date": 1475694584, "post_id": 39881832, "comment_id": 67050655, "body": "&quot;but it is present&quot; in the Database or in <code>DataTable dt</code>?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1475694608, "post_id": 39881832, "comment_id": 67050663, "body": "Please show us: 1) The exact query (sql2) executed 2) The exact schema of the table you are querying"}, {"owner": {"reputation": 3, "user_id": 6928270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0423d97112bf38ab2a3f11dec5d6de34?s=128&d=identicon&r=PG&f=1", "display_name": "mkltsss", "link": "https://stackoverflow.com/users/6928270/mkltsss"}, "reply_to_user": {"reputation": 3564, "user_id": 1189566, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/YXOz8.png?s=128&g=1", "display_name": "sab669", "link": "https://stackoverflow.com/users/1189566/sab669"}, "edited": false, "score": 0, "creation_date": 1475694673, "post_id": 39881832, "comment_id": 67050687, "body": "@sab669 in the database"}, {"owner": {"reputation": 3, "user_id": 6928270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0423d97112bf38ab2a3f11dec5d6de34?s=128&d=identicon&r=PG&f=1", "display_name": "mkltsss", "link": "https://stackoverflow.com/users/6928270/mkltsss"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1475694779, "post_id": 39881832, "comment_id": 67050747, "body": "@Steve                                string sql = &quot;Insert into tbl_borrowed (FirstName,LastName,BookName,Category,DateBorrowed,Time,DueD&zwnj;&#8203;ate,ID) values (@fname,@lname,@bname,@category,@dborrow,@time,@dreturn,@id)&zwnj;&#8203;&quot;;"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 2, "creation_date": 1475694839, "post_id": 39881832, "comment_id": 67050776, "body": "If this is an insert query why do you expect the dataadapter to fill a datatable?"}, {"owner": {"reputation": 3, "user_id": 6928270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0423d97112bf38ab2a3f11dec5d6de34?s=128&d=identicon&r=PG&f=1", "display_name": "mkltsss", "link": "https://stackoverflow.com/users/6928270/mkltsss"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1475695049, "post_id": 39881832, "comment_id": 67050899, "body": "@Steve, i dont know either, im just new to c#. Please help me."}, {"owner": {"reputation": 3564, "user_id": 1189566, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/YXOz8.png?s=128&g=1", "display_name": "sab669", "link": "https://stackoverflow.com/users/1189566/sab669"}, "edited": false, "score": 0, "creation_date": 1475695077, "post_id": 39881832, "comment_id": 67050915, "body": "As Steve said, if you&#39;re executing an insert statement your <code>DataTable</code> object shouldn&#39;t have <i>any</i> of those columns. Set a breakpoint on <code>conn.Close();</code> and examine your <code>dt</code> variable. I think what expect it to have and what it actually has are two very different things. We can&#39;t help you when you haven&#39;t stated what you&#39;re trying to do."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1475695403, "post_id": 39881832, "comment_id": 67051124, "body": "If you want to insert a new record in the tbl_borrowed you don&#39;t use a MySqlDataAdapter (albeit it works as well) but you use a MySqlCommand, prepare all the parameters (the @fname, etc....) with the values that you want to insert and finally call the ExecuteNonQuery method of the MySqlCommand. After that you use the MySqlDataAdapter to fill the DataTable but with a <i>SELECT FirstName,LastName,BookName, .... FROM tbl_borrowed</i> statement. I suggest to split your work and do some research on this site how to accomplish these two goals."}, {"owner": {"reputation": 3, "user_id": 6928270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0423d97112bf38ab2a3f11dec5d6de34?s=128&d=identicon&r=PG&f=1", "display_name": "mkltsss", "link": "https://stackoverflow.com/users/6928270/mkltsss"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1475696506, "post_id": 39881832, "comment_id": 67051727, "body": "@Steve,i&#39;ve done that too, but still the same"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1475696700, "post_id": 39881832, "comment_id": 67051854, "body": "Are you telling me that <i>sql2 = &quot;SELECT FirstName, LastName, DueDate, ID, ... FROM tbl_borrowed</i> and then your datatable doesn&#39;t contain the DueDate and ID column?"}, {"owner": {"reputation": 3, "user_id": 6928270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0423d97112bf38ab2a3f11dec5d6de34?s=128&d=identicon&r=PG&f=1", "display_name": "mkltsss", "link": "https://stackoverflow.com/users/6928270/mkltsss"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1475697430, "post_id": 39881832, "comment_id": 67052250, "body": "@Steve, yes...."}], "owner": {"reputation": 3, "user_id": 6928270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0423d97112bf38ab2a3f11dec5d6de34?s=128&d=identicon&r=PG&f=1", "display_name": "mkltsss", "link": "https://stackoverflow.com/users/6928270/mkltsss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 536, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475908200, "creation_date": 1475694382, "last_edit_date": 1475908200, "question_id": 39881832, "link": "https://stackoverflow.com/questions/39881832/column-does-not-belong-to-table-but-it-does", "title": "Column does not belong to table but it does", "body": "<p>This is the code and the DueDate and ID column does not belong to table but it is present. The other column is fine, just that two column got the error. Please, help me.</p>\n\n<pre><code>try\n{\n    conn.Open();\n    MySqlDataAdapter sda = new MySqlDataAdapter(sql2, conn);\n    DataTable dt = new DataTable();\n    sda.Fill(dt);\n    conn.Close();\n\n    lvborrowed.Clear();\n    for (int row = 0; row &lt; dt.Rows.Count; row++)\n    {\n        ListViewItem lvi = new ListViewItem(dt.Rows[row][\"FirstName\"].ToString());\n        lvi.SubItems.Add(dt.Rows[row][\"LastName\"].ToString());\n        lvi.SubItems.Add(dt.Rows[row][\"BookName\"].ToString());\n        lvi.SubItems.Add(dt.Rows[row][\"Category\"].ToString());\n        lvi.SubItems.Add(dt.Rows[row][\"DateBorrowed\"].ToString());\n\n        lvi.SubItems.Add(dt.Rows[row][\"DueDate\"].ToString());\n        lvi.SubItems.Add(dt.Rows[row][\"Time\"].ToString());\n        lvi.SubItems.Add(dt.Rows[row][\"ID\"].ToString());\n\n        lvborrowed.Items.Add(lvi);\n\n\n    }\n\n    lvborrowed.FullRowSelect = true;\n    lvborrowed.GridLines = true;\n    lvborrowed.View = View.Details;\n\n    lvborrowed.Columns.Add(\"First Name\", 150, HorizontalAlignment.Left);\n    lvborrowed.Columns.Add(\"Last Name\", 150, HorizontalAlignment.Left);\n    lvborrowed.Columns.Add(\"Name of Book\", 100, HorizontalAlignment.Left);\n    lvborrowed.Columns.Add(\"Category\", 100, HorizontalAlignment.Left);\n\n    lvborrowed.Columns.Add(\"Borrow Date\", 100, HorizontalAlignment.Left);\n\n    lvborrowed.Columns.Add(\"Date to be Returned\", 150, HorizontalAlignment.Left);\n\n    lvborrowed.Columns.Add(\"Borrow Time\", 100, HorizontalAlignment.Left);\n    lvborrowed.Columns.Add(\"ID\", 0, HorizontalAlignment.Left);\n\n\n}\ncatch (Exception en)\n{\n    MessageBox.Show(\"Error Showlv\"+en);\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-mvc-routing"], "answers": [{"tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 1, "last_activity_date": 1475695042, "creation_date": 1475695042, "answer_id": 39881996, "question_id": 39881824, "link": "https://stackoverflow.com/questions/39881824/what-should-be-an-mvc-route-for-this-url/39881996#39881996", "title": "What should be an MVC route for this URL?", "body": "<p>Assuming DetailController action </p>\n\n<pre><code>public ActionResult Index(int clientId, string orderId) { ... }\n</code></pre>\n\n<p>Then route would be mapped as</p>\n\n<pre><code>routes.MapRoute(\n    name: \"Detail\",\n    url: \"{cientId}/Detail/{orderId}\",\n    defaults: new { clientid = \"-1\", controller = \"Detail\", action = \"Index\" }\n);\n</code></pre>\n\n<p>Note that this should also be registered before any default routes.</p>\n"}], "owner": {"reputation": 5055, "user_id": 610422, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/1180c2eed64e5987328cef7174f06e26?s=128&d=identicon&r=PG&f=1", "display_name": "monstro", "link": "https://stackoverflow.com/users/610422/monstro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "accepted_answer_id": 39881996, "answer_count": 1, "score": 1, "last_activity_date": 1475695696, "creation_date": 1475694358, "last_edit_date": 1475695696, "question_id": 39881824, "link": "https://stackoverflow.com/questions/39881824/what-should-be-an-mvc-route-for-this-url", "title": "What should be an MVC route for this URL?", "body": "<p>I need to define an MVC route for URL like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>http://localhost/RealSuiteApps/RealHelp/-1/Detail/BRK18482020\n</code></pre>\n\n<p>where:</p>\n\n<p>Detail - is controller name</p>\n\n<ul>\n<li>default action Index should be executed</li>\n<li>-1 is some client id </li>\n<li>BRK18482020 is <strong>orderId</strong></li>\n</ul>\n\n<p><strong>I need this to go to DetailController, Index action with orderId parameter.</strong></p>\n\n<p>I tried this:</p>\n\n<pre><code>routes.MapRoute(\n    name: \"Detail\",\n    url: \"Detail/{id}\",\n    defaults: new { clientid = \"-1\", controller = \"Detail\", action = \"Index\", id = UrlParameter.Optional }\n);\n</code></pre>\n\n<p>but I get a message \"Page Not Found\". <strong>What am I missing here ??</strong></p>\n"}, {"tags": ["c#", "asp.net", "dropbox-api"], "answers": [{"comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1475697987, "post_id": 39881871, "comment_id": 67052522, "body": "do  not do <code>.Result</code>, use another await. Using <code>.Result</code> will likely lead to a deadlock in the program. Using a <code>.ConfigureAwait(false)</code> on both awaits would not hurt either."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 1, "creation_date": 1475698100, "post_id": 39881871, "comment_id": 67052590, "body": "Also, you are not disposing the stream."}, {"owner": {"reputation": 2413, "user_id": 5614045, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/0SYFB.jpg?s=128&g=1", "display_name": "AlexGH", "link": "https://stackoverflow.com/users/5614045/alexgh"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1475701616, "post_id": 39881871, "comment_id": 67054342, "body": "@ScottChamberlain I&#39;m getting a compile time error in this snippet: ` using (var fileStream = File.Created(@&quot;C:\\Users\\User\\Desktop\\Notes&quot;))` The error is: <code>CS0119\t&#39;ControllerBase.File(byte[], string)&#39; is a method, which is not valid in the given context</code> .  I&#39;ve tried to use it on this way before but I was crashed by that error, according to the error File refers to a method?? and once I put a point after <code>File</code> it doesn&#39;t shows <code>Create</code>, it shows <code>Created</code>, any idea?"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 1, "creation_date": 1475701858, "post_id": 39881871, "comment_id": 67054431, "body": "You likely have a class or method called <code>File</code>, use <code>System.IO.File.Create(</code> instead."}, {"owner": {"reputation": 2413, "user_id": 5614045, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/0SYFB.jpg?s=128&g=1", "display_name": "AlexGH", "link": "https://stackoverflow.com/users/5614045/alexgh"}, "edited": false, "score": 0, "creation_date": 1475706635, "post_id": 39881871, "comment_id": 67056208, "body": "It&#39;s working now!!"}], "tags": [], "owner": {"reputation": 258, "user_id": 4048019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d50d2f130195ed938c9f84963c8e065?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Stevens-Stein", "link": "https://stackoverflow.com/users/4048019/joshua-stevens-stein"}, "is_accepted": true, "score": 3, "last_activity_date": 1511249263, "last_edit_date": 1511249263, "creation_date": 1475694591, "answer_id": 39881871, "question_id": 39881803, "link": "https://stackoverflow.com/questions/39881803/download-file-from-dropbox-c/39881871#39881871", "title": "Download file from Dropbox C#", "body": "<p>What you need to do is convert the content to a stream and download to your local path. You can do that like so</p>\n\n<pre><code>public void DownloadPdf(string localFilePath)\n{\n    DropboxClient client2 = new DropboxClient(\"cU5M-asdgfsdfsdfds3434435dfgfgvXoAMCFyOXH\");\n    string folder = \"MyFolder\";\n    string file = \"Test PDF.pdf\";\n    using (var response = await client.Files.DownloadAsync(\"/\" + folder + \"/\" + file))\n    {\n        using (var fileStream = File.Create(localFilePath))\n        {\n            (await response.GetContentAsStreamAsync()).CopyTo(fileStream);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2413, "user_id": 5614045, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/0SYFB.jpg?s=128&g=1", "display_name": "AlexGH", "link": "https://stackoverflow.com/users/5614045/alexgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7266, "favorite_count": 0, "closed_date": 1475698115, "accepted_answer_id": 39881871, "answer_count": 1, "score": 1, "last_activity_date": 1511249263, "creation_date": 1475694290, "last_edit_date": 1475706606, "question_id": 39881803, "link": "https://stackoverflow.com/questions/39881803/download-file-from-dropbox-c", "closed_reason": "Duplicate", "title": "Download file from Dropbox C#", "body": "<p>I'm trying to download a pdf file that I have in Dropbox, I need to save it into my local computer, any folder it can be <code>C:\\Users\\User\\Desktop</code> for example. \nThis is the code I've been working with:</p>\n\n<pre><code>  public void DownloadPdf()\n        {\n\n            DropboxClient client2 = new DropboxClient(\"cU5M-asdgfsdfsdfds3434435dfgfgvXoAMCFyOXH\");\n            string folder = \"MyFolder\";\n            string file = \"Test PDF.pdf\";\n            var response = client2.Files.DownloadAsync(\"/\" + folder + \"/\" + file);         \n        } \n</code></pre>\n\n<p>How can I save that file into my local drive? What do I need to do next? It doesn't throw any error but I'm not even sure that path is going into the pdf document in Dropbox. I'm using Dropbox.Api within ASP.net Core.</p>\n"}, {"tags": ["c#", ".net", "c#-4.0"], "comments": [{"owner": {"reputation": 508, "user_id": 4343420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a4826b4d55d7a5f7d7bc81c1bc8a42?s=128&d=identicon&r=PG&f=1", "display_name": "auX", "link": "https://stackoverflow.com/users/4343420/aux"}, "edited": false, "score": 2, "creation_date": 1475694352, "post_id": 39881753, "comment_id": 67050539, "body": "You can use parseExact and provide an array of formats - why not use this?"}, {"owner": {"reputation": 4090, "user_id": 190042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5ZXq7.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/190042/jonathan"}, "edited": false, "score": 1, "creation_date": 1475694561, "post_id": 39881753, "comment_id": 67050645, "body": "Just some advice: I wouldn&#39;t allow users to enter all kinds of different formats, I would make them enter in one format. In your second example, how do you know it&#39;s not May 10?"}, {"owner": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "edited": false, "score": 2, "creation_date": 1475694651, "post_id": 39881753, "comment_id": 67050675, "body": "Or have them use a Date Picker."}, {"owner": {"reputation": 2501, "user_id": 1078232, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/fb6d0399965f116e29f112b8fbea4734?s=128&d=identicon&r=PG", "display_name": "Pittfall", "link": "https://stackoverflow.com/users/1078232/pittfall"}, "reply_to_user": {"reputation": 508, "user_id": 4343420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a4826b4d55d7a5f7d7bc81c1bc8a42?s=128&d=identicon&r=PG&f=1", "display_name": "auX", "link": "https://stackoverflow.com/users/4343420/aux"}, "edited": false, "score": 0, "creation_date": 1475694957, "post_id": 39881753, "comment_id": 67050844, "body": "@auX yes I can do this, thought there might be an easier way than having to specify a bunch of formats.  Thanks for the comment, at least someone else is confirming that this is the way"}, {"owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "edited": false, "score": 0, "creation_date": 1475696325, "post_id": 39881753, "comment_id": 67051612, "body": "What is stopping you from try one ParseExact and if it fails ParseExact  the other?"}, {"owner": {"reputation": 2501, "user_id": 1078232, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/fb6d0399965f116e29f112b8fbea4734?s=128&d=identicon&r=PG", "display_name": "Pittfall", "link": "https://stackoverflow.com/users/1078232/pittfall"}, "reply_to_user": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "edited": false, "score": 0, "creation_date": 1475696560, "post_id": 39881753, "comment_id": 67051763, "body": "@Paparazzi this is what I will do, wanted to ask the question to see if there are any tricks I haven&#39;t thought of."}], "answers": [{"comments": [{"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 2, "creation_date": 1475697837, "post_id": 39882532, "comment_id": 67052447, "body": "Note that there is an <a href=\"https://msdn.microsoft.com/en-us/library/332de853(v=vs.110).aspx\" rel=\"nofollow noreferrer\">overload of <code>DateTime.ParseExact</code></a> that takes multiple formats in an array."}], "tags": [], "owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "is_accepted": true, "score": 1, "last_activity_date": 1475697048, "creation_date": 1475697048, "answer_id": 39882532, "question_id": 39881753, "link": "https://stackoverflow.com/questions/39881753/how-can-i-parse-a-date-and-assume-it-starts-with-year-or-day-but-never-month/39882532#39882532", "title": "How can I parse a date and assume it starts with year or day but never month?", "body": "<p>Chain <a href=\"https://msdn.microsoft.com/en-us/library/ms131044(v=vs.110).aspx\" rel=\"nofollow\">DateTime.TryParseExact</a> for each format</p>\n"}], "owner": {"reputation": 2501, "user_id": 1078232, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/fb6d0399965f116e29f112b8fbea4734?s=128&d=identicon&r=PG", "display_name": "Pittfall", "link": "https://stackoverflow.com/users/1078232/pittfall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 39882532, "answer_count": 1, "score": 0, "last_activity_date": 1475697048, "creation_date": 1475694097, "question_id": 39881753, "link": "https://stackoverflow.com/questions/39881753/how-can-i-parse-a-date-and-assume-it-starts-with-year-or-day-but-never-month", "title": "How can I parse a date and assume it starts with year or day but never month?", "body": "<p>I want to allow a user to enter a date starting with the day or with the year but I am unsure how to check this.  Do I have to manually check every format I want to allow? (slashes, dashes, MM vs M, dd vs d).  I've looked at the <code>Parse</code> method and <code>ParseExact</code> method but it's not quite what I want.  I want to be able to try and parse an acceptable format and assume it starts with the day or assume it starts with the year.  Ex. 2016/10/05 should come out as October 5th and 05-10-2016 should also come out as October 5th.  If I specify the culture info there's 2 problems, One, I can specify one of those 2 formats and two, if someone decides to go to their setting and modify their short date format, it won't work as intended anymore.  Any ideas? Maybe what I want is not possible without some manual work.</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 965, "user_id": 5402254, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/USJTc.png?s=128&g=1", "display_name": "Nagaraj Raveendran", "link": "https://stackoverflow.com/users/5402254/nagaraj-raveendran"}, "edited": false, "score": 0, "creation_date": 1475696857, "post_id": 39881730, "comment_id": 67051956, "body": "Redirect it to error controller and from there you can provide a button to the user to navigate to the correct page. By this way, you can also log the errors."}], "answers": [{"comments": [{"owner": {"reputation": 388, "user_id": 629137, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9b8e4e17019c5c6dc4da756e2c879b0e?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/629137/kyle"}, "edited": false, "score": 0, "creation_date": 1475707673, "post_id": 39881827, "comment_id": 67056505, "body": "Alert message isn&#39;t popping... I think it might be because my partial view is inside a modal window. Anyway, If I want to show the message on the page instead. I tried this way but still not working, would you be able to help?  &lt;div class=&quot;modal-body&quot; id=&quot;general-modal-content&quot;&gt; \t&lt;div id=&quot;modal-Error&quot;&gt;Error Message&lt;/div&gt; \t&lt;div id=&quot;modal-PDF&quot;&gt; \t     &lt;object id=&quot;objectPDF&quot; data=&quot;@Url.Action( Constants.Actions.GenerateBill, Constants.Controllers.BillPresentment )&quot; width=&quot;100%&quot; height=&quot;600&quot;&gt;&lt;/object&gt; \t&lt;/div&gt; &lt;/div&gt;"}, {"owner": {"reputation": 388, "user_id": 629137, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9b8e4e17019c5c6dc4da756e2c879b0e?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/629137/kyle"}, "edited": false, "score": 0, "creation_date": 1475707677, "post_id": 39881827, "comment_id": 67056506, "body": "&lt;script type=&quot;text/javascript&quot;&gt; \t$(document).ready(function () { \t\t$(&#39;#modal-Error&#39;).hide(); \t\tvar msg = &#39;@TempData[&quot;CustomNullError&quot;]&#39;; \t\tif (msg.length &gt; 1) { \t\t\talert(msg); \t\t\t$(&#39;#modal-PDF&#39;).hide(); \t\t\t$(&#39;#modal-Error&#39;).show(); \t\t}         }); &lt;/script&gt;"}, {"owner": {"reputation": 877, "user_id": 5878562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kkBpZ.jpg?s=128&g=1", "display_name": "GauravKP", "link": "https://stackoverflow.com/users/5878562/gauravkp"}, "reply_to_user": {"reputation": 388, "user_id": 629137, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9b8e4e17019c5c6dc4da756e2c879b0e?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/629137/kyle"}, "edited": false, "score": 0, "creation_date": 1475722360, "post_id": 39881827, "comment_id": 67059981, "body": "The JavaScript should be placed in main View bottom where the Partial View is rendered."}], "tags": [], "owner": {"reputation": 877, "user_id": 5878562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kkBpZ.jpg?s=128&g=1", "display_name": "GauravKP", "link": "https://stackoverflow.com/users/5878562/gauravkp"}, "is_accepted": false, "score": 0, "last_activity_date": 1475695276, "last_edit_date": 1475695276, "creation_date": 1475694362, "answer_id": 39881827, "question_id": 39881730, "link": "https://stackoverflow.com/questions/39881730/mvc-show-message-on-object-tag-has-error/39881827#39881827", "title": "MVC show message on object tag has error", "body": "<p>Use <code>TempData</code> to store error message and in the View place JavaScript so that if error message is not null, then show an alert</p>\n\n<pre><code>    if ( memStream.Length &lt;= 0 )\n    {\n       // I want to throw a simple error msg back, what to do?\n      TempData[\"CustomNullError\"] = \"sorry, error\";\n    }\n</code></pre>\n\n<p><strong>View Code</strong></p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function () {\n            var msg = '@TempData[\"CustomNullError\"]';\n            if (msg.length &gt; 1) {\n                alert(msg);//\n                // or set error message in label/ span\n            }\n        });\n    &lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 388, "user_id": 629137, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9b8e4e17019c5c6dc4da756e2c879b0e?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/629137/kyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475695276, "creation_date": 1475693990, "question_id": 39881730, "link": "https://stackoverflow.com/questions/39881730/mvc-show-message-on-object-tag-has-error", "title": "MVC show message on object tag has error", "body": "<p>I have the following code to retrieve a pdf file and display in the view (it's a bootstrap modal partial view). Things are good except when the PDF is empty, or any error is being thrown, I only see an empty modal. Does anyone know if there's a way that I can post a short message like \"sorry, error!\" back to the view when there's error?</p>\n\n<p>Also, it needs to be in the view, not a popup alert box.</p>\n\n<p><strong>Partial View:</strong></p>\n\n<pre><code>&lt;div class=\"modal-body\" id=\"modal-content\"&gt;\n    &lt;object data=\"@Url.Action( GeneratePDF, MyPDF)\"&gt;&lt;/object&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>public FileStreamResult GeneratePDF()\n{\n    MemoryStream memStream = SomeService.GetPDFinStream();\n    if ( memStream.Length &lt;= 0 )\n    {\n       // I want to throw a simple error msg back, what to do?\n    }\n    else\n    {\n        return new FileStreamResult(memStream);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "vb.net"], "comments": [{"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1475693899, "post_id": 39881682, "comment_id": 67050255, "body": "What do you mean by &quot; least expensive&quot;?  Least time? Least memory? Least coding?"}, {"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 4, "creation_date": 1475693901, "post_id": 39881682, "comment_id": 67050257, "body": "Is you list sorted?"}, {"owner": {"reputation": 2425, "user_id": 693943, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bef0b29b7ebaec03aeff8accf444aefe?s=128&d=identicon&r=PG", "display_name": "Matthew Goulart", "link": "https://stackoverflow.com/users/693943/matthew-goulart"}, "reply_to_user": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1475693956, "post_id": 39881682, "comment_id": 67050308, "body": "@DStanley Say a combination between least coding and least memory"}, {"owner": {"reputation": 2425, "user_id": 693943, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bef0b29b7ebaec03aeff8accf444aefe?s=128&d=identicon&r=PG", "display_name": "Matthew Goulart", "link": "https://stackoverflow.com/users/693943/matthew-goulart"}, "reply_to_user": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1475694018, "post_id": 39881682, "comment_id": 67050346, "body": "@L.B I hadn&#39;t thought of that, but let&#39;s say it is. I&#39;ll have to go back and investigate to be sure though. Theoretically, the user should have input them in order."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 4, "creation_date": 1475694052, "post_id": 39881682, "comment_id": 67050370, "body": "Get somebody on StackOverflow to write it for you. Can&#39;t get cheaper than free."}, {"owner": {"reputation": 2425, "user_id": 693943, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bef0b29b7ebaec03aeff8accf444aefe?s=128&d=identicon&r=PG", "display_name": "Matthew Goulart", "link": "https://stackoverflow.com/users/693943/matthew-goulart"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1475694086, "post_id": 39881682, "comment_id": 67050384, "body": "@EdPlunkett That&#39;s what I&#39;m counting on."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1475694286, "post_id": 39881682, "comment_id": 67050499, "body": "So you want the highest value among values less than X and the lowest value among those values higher than X.  Seems like 2 simple Linq queries."}, {"owner": {"reputation": 2425, "user_id": 693943, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bef0b29b7ebaec03aeff8accf444aefe?s=128&d=identicon&r=PG", "display_name": "Matthew Goulart", "link": "https://stackoverflow.com/users/693943/matthew-goulart"}, "reply_to_user": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1475694383, "post_id": 39881682, "comment_id": 67050555, "body": "@DStanley If your saying I have no alternative but to create two lists, one of points above and one of points below, then I suppose you are right. It&#39;s entirely possible that my implementation is already as good as it gets, but as I said, it feels terribly clunky to me and I was hoping to do away with the 2 lists."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1475694449, "post_id": 39881682, "comment_id": 67050592, "body": "I didn&#39;t say two <i>lists</i>,  I said two <i>queries</i>.  You <i>could</i> do it in one loop but it would be &quot;more coding&quot;."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1475694582, "post_id": 39881682, "comment_id": 67050654, "body": "If they are even sorted, just loop over them once, whats a problem at all?"}, {"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 1, "creation_date": 1475695456, "post_id": 39881682, "comment_id": 67051154, "body": "How do you wish to handle equality?"}, {"owner": {"reputation": 5316, "user_id": 139794, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b9710024f56d35631fb6260e13c76586?s=128&d=identicon&r=PG", "display_name": "Darryl", "link": "https://stackoverflow.com/users/139794/darryl"}, "edited": false, "score": 0, "creation_date": 1475705718, "post_id": 39881682, "comment_id": 67055936, "body": "What if X is smaller than the smallest value in the list?  What if X is bigger than the biggest?  What if X is equal to an item in the list?  What if the list is empty?  Are any of those guaranteed not to happen?"}, {"owner": {"reputation": 2425, "user_id": 693943, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bef0b29b7ebaec03aeff8accf444aefe?s=128&d=identicon&r=PG", "display_name": "Matthew Goulart", "link": "https://stackoverflow.com/users/693943/matthew-goulart"}, "edited": false, "score": 0, "creation_date": 1475706671, "post_id": 39881682, "comment_id": 67056222, "body": "If x is smaller or larger, throw an exception. If x is equal to a value then both both values should be that same value. This is for linear interpolation."}], "answers": [{"comments": [{"owner": {"reputation": 2425, "user_id": 693943, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bef0b29b7ebaec03aeff8accf444aefe?s=128&d=identicon&r=PG", "display_name": "Matthew Goulart", "link": "https://stackoverflow.com/users/693943/matthew-goulart"}, "edited": false, "score": 0, "creation_date": 1475694986, "post_id": 39881915, "comment_id": 67050867, "body": "Very nice, this brings the code down to 2 lines from 6 and avoids having to declare 2 lists. I like the use of LINQ! Also, thanks for both scenarios (sorted unsorted)!"}, {"owner": {"reputation": 581, "user_id": 3970822, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sMyT0.jpg?s=128&g=1", "display_name": "Arthur Castro", "link": "https://stackoverflow.com/users/3970822/arthur-castro"}, "reply_to_user": {"reputation": 2425, "user_id": 693943, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bef0b29b7ebaec03aeff8accf444aefe?s=128&d=identicon&r=PG", "display_name": "Matthew Goulart", "link": "https://stackoverflow.com/users/693943/matthew-goulart"}, "edited": false, "score": 0, "creation_date": 1475695245, "post_id": 39881915, "comment_id": 67051025, "body": "@MatthewGoulart I removed the OrderBy, there was no need for it. The above code will work even for unsorted lists. :)"}, {"owner": {"reputation": 2425, "user_id": 693943, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bef0b29b7ebaec03aeff8accf444aefe?s=128&d=identicon&r=PG", "display_name": "Matthew Goulart", "link": "https://stackoverflow.com/users/693943/matthew-goulart"}, "edited": false, "score": 0, "creation_date": 1475696227, "post_id": 39881915, "comment_id": 67051566, "body": "I like that it will generate an exception if there is one of the points missing. I&#39;m doing some simple linear interpolation, so it makes sense."}, {"owner": {"reputation": 581, "user_id": 3970822, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sMyT0.jpg?s=128&g=1", "display_name": "Arthur Castro", "link": "https://stackoverflow.com/users/3970822/arthur-castro"}, "reply_to_user": {"reputation": 2425, "user_id": 693943, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bef0b29b7ebaec03aeff8accf444aefe?s=128&d=identicon&r=PG", "display_name": "Matthew Goulart", "link": "https://stackoverflow.com/users/693943/matthew-goulart"}, "edited": false, "score": 0, "creation_date": 1475696479, "post_id": 39881915, "comment_id": 67051708, "body": "@MatthewGoulart If you are doing an interpolation, DefaultIfEmpty accepts an int argument to say what you want to be the default value. You can pass in the first one the low side of your interpolation and in the second DefaultIfEmpty you can pass the high side of your interpolation. That&#39;s an option too."}], "tags": [], "owner": {"reputation": 581, "user_id": 3970822, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sMyT0.jpg?s=128&g=1", "display_name": "Arthur Castro", "link": "https://stackoverflow.com/users/3970822/arthur-castro"}, "is_accepted": true, "score": 3, "last_activity_date": 1475696196, "last_edit_date": 1475696196, "creation_date": 1475694743, "answer_id": 39881915, "question_id": 39881682, "link": "https://stackoverflow.com/questions/39881682/what-is-the-least-expensive-way-to-find-the-two-closest-numbers-surrounding-a-gi/39881915#39881915", "title": "What is the least expensive way to find the two closest numbers surrounding a given value in a list of numbers?", "body": "<p>Try the code below: </p>\n\n<pre><code>List&lt;int&gt; numbers = new List&lt;int&gt;(){ 6, 7, 8, 9, 1, 2, 3, 4, 5 };\nint middle = 6;\n\nvar min = numbers.Where(y =&gt; y &lt; middle).Max(); // min = 5\nvar max = numbers.Where(y =&gt; y &gt; middle).Min(); // max = 7\n</code></pre>\n\n<p>The code above will work fine for sorted and unsorted lists.</p>\n\n<p>If you can't be certain that you have at least one min and/or one max value, you must do this, otherwise you'll get an Exception:</p>\n\n<pre><code>var min = numbers.Where(y =&gt; y &lt; middle).DefaultIfEmpty().Max(); \nvar max = numbers.Where(y =&gt; y &gt; middle).DefaultIfEmpty().Min();\n</code></pre>\n\n<p>And, in the case you are sure 100% of the time that the list is sorted, you can save a bit of performance doing the code below:</p>\n\n<pre><code>var min = numbers.LastOrDefault(y =&gt; y &lt; middle); \nvar max = numbers.FirstOrDefault(y =&gt; y &gt; middle);\n</code></pre>\n\n<p>I hope it helped you.</p>\n"}, {"tags": [], "owner": {"reputation": 719, "user_id": 6896279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7dc1917347f1ae8e2ff4cb59b282a4e?s=128&d=identicon&r=PG&f=1", "display_name": "HansVG", "link": "https://stackoverflow.com/users/6896279/hansvg"}, "is_accepted": false, "score": 0, "last_activity_date": 1475695565, "last_edit_date": 1475695565, "creation_date": 1475695061, "answer_id": 39882000, "question_id": 39881682, "link": "https://stackoverflow.com/questions/39881682/what-is-the-least-expensive-way-to-find-the-two-closest-numbers-surrounding-a-gi/39882000#39882000", "title": "What is the least expensive way to find the two closest numbers surrounding a given value in a list of numbers?", "body": "<p>Since you didn't specify what happens if your single value (17) has no lower of higher value, I will let them default to NULL here.</p>\n\n<pre><code>int number = 17; \nint? lower = points.LastOrDefault(x =&gt; x &lt; number);\nint? upper = points.FirstOrDefault(x =&gt; x &gt; number);\n</code></pre>\n\n<p>or in one line, allthough this is uglier imo</p>\n\n<pre><code>Tuple&lt;int?, int?&gt; closestNumbers = new Tuple&lt;int?, int?&gt;(points.LastOrDefault(x =&gt; x &lt; number), points.FirstOrDefault(x =&gt; x &gt; number));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "is_accepted": false, "score": 2, "last_activity_date": 1475697899, "last_edit_date": 1475697899, "creation_date": 1475695652, "answer_id": 39882145, "question_id": 39881682, "link": "https://stackoverflow.com/questions/39881682/what-is-the-least-expensive-way-to-find-the-two-closest-numbers-surrounding-a-gi/39882145#39882145", "title": "What is the least expensive way to find the two closest numbers surrounding a given value in a list of numbers?", "body": "<p>Assuming your list is sorted, you don't need to iterate the list which would be <code>O(n)</code> in time. Using binary search it can be handled in <code>O(log(n))</code>.</p>\n\n<p>So my question is: fastest code (plus least memory) vs. shortest code... Your question doesn't say anything about that...</p>\n\n<p>BTW: Handling the corner cases will not be easy..</p>\n\n<pre><code>var list = new List&lt;int&gt; { 1, 3, 7, 13, 20, 54 };\nvar numToSearch = 54;\nint point1 = int.MinValue, point2 = int.MinValue;\n\nvar inx = list.BinarySearch(numToSearch); //&lt;---\n\n\nif (inx &gt;= 0) //search item is in the list\n{\n    if (inx == 0)\n    {\n        point1 = list[0];\n        point2 = list[1];\n    }\n    else if (inx == list.Count - 1)\n    {\n        point1 = list[inx - 1];\n        point2 = list[inx];\n    }\n    else\n    {\n        int val1 = list[inx - 1];\n        int val2 = list[inx + 1];\n\n        if (Math.Abs(val1 - list[inx]) &lt; Math.Abs(list[inx] - val2))\n        {\n            point1 = list[inx - 1];\n            point2 = list[inx];\n        }else\n        {\n            point1 = list[inx];\n            point2 = list[inx+1];\n        }\n    }\n}\nelse {\n    point1 = list[~inx - 1];\n    point2 = list[~inx];\n}\n</code></pre>\n\n<p>PS: <strong>Least time? Least memory? Least Code? Hard to achieve(if not impossible) at the same time. Seems like OP will pick up a random answer :)</strong></p>\n\n<p>PS2: I wouldn't expect OP would <em>accept</em> this answer after reading previous note :)</p>\n"}], "owner": {"reputation": 2425, "user_id": 693943, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bef0b29b7ebaec03aeff8accf444aefe?s=128&d=identicon&r=PG", "display_name": "Matthew Goulart", "link": "https://stackoverflow.com/users/693943/matthew-goulart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 39881915, "answer_count": 3, "score": -2, "last_activity_date": 1475697899, "creation_date": 1475693811, "question_id": 39881682, "link": "https://stackoverflow.com/questions/39881682/what-is-the-least-expensive-way-to-find-the-two-closest-numbers-surrounding-a-gi", "title": "What is the least expensive way to find the two closest numbers surrounding a given value in a list of numbers?", "body": "<p>Say we have a list of numbers:</p>\n\n<pre><code>{1,3,7,13,19,54}\n</code></pre>\n\n<p>and a single value : <code>17</code></p>\n\n<p>What is the least expensive way to find the closest 2 numbers <em>surrounding</em> the value in the list. So in our example, the answer would be <code>13</code> and <code>19</code>.</p>\n\n<p>Currently, I am using a loop to make 2 lists, one of numbers above and one of numbers below. Then I use something like this:</p>\n\n<pre><code>point1 = pointsAbove.Aggregate(Function(x, y) If(Math.Abs(x.X - xVal) &lt; Math.Abs(y.X - xVal), x, y))\npoint2 = pointsBelow.Aggregate(Function(x, y) If(Math.Abs(x.X - xVal) &lt; Math.Abs(y.X - xVal), x, y))\n</code></pre>\n\n<p>This seems so clunky to me. So I look to you!</p>\n"}, {"tags": ["c#", "boolean", "async-await", "salesforce", "task"], "comments": [{"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 1, "creation_date": 1475694041, "post_id": 39881656, "comment_id": 67050361, "body": "First off, if you are going to use async, you should use async from top to bottom.  As a result, Submit should be async as well and returning a task.  Second, what is the actual issue that you are running into?  We don&#39;t know what &quot;doesn&#39;t seem to be working&quot; means."}, {"owner": {"reputation": 11, "user_id": 5140699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecafcbd359f817d94fb4260421b00a51?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Natalini", "link": "https://stackoverflow.com/users/5140699/sam-natalini"}, "reply_to_user": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1475694453, "post_id": 39881656, "comment_id": 67050597, "body": "I guess the major issue is that when I try to call the SendSurveyToSF, my break point at this line just seems to get skipped over once the debugger goes in to that method     return response.Id != null;"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 1, "creation_date": 1475695301, "post_id": 39881656, "comment_id": 67051063, "body": "Try changeing Submit to <code>public Task&lt;string&gt; Submit</code> and just do <code>await SendReportToSalesforce(survey);</code> and get rid of the <code>Task.Run</code> That is what David is talking about. You are likely running in to the deadlock everyone runs in to when you try to mix async/await and <code>.Wait()</code> calls."}, {"owner": {"reputation": 11, "user_id": 5140699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecafcbd359f817d94fb4260421b00a51?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Natalini", "link": "https://stackoverflow.com/users/5140699/sam-natalini"}, "edited": false, "score": 0, "creation_date": 1475695905, "post_id": 39881656, "comment_id": 67051383, "body": "Just noticed this in the output window: A first chance exception of type &#39;Salesforce.Common.ForceException&#39; occurred in mscorlib.dll"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1475847816, "post_id": 39881656, "comment_id": 67121330, "body": "@SamNatalini You need to enable <a href=\"https://msdn.microsoft.com/en-us/library/x85tt0dd.aspx\" rel=\"nofollow noreferrer\">break on thrown exceptions in the debugger</a> then once you have the exception you need to <a href=\"https://blogs.msdn.microsoft.com/saraford/2008/08/07/did-you-know-you-can-copy-the-exception-details-with-one-click-from-the-exception-assistant-276/\" rel=\"nofollow noreferrer\">copy the exception detail to the clipboard</a> and then paste the details in to your question."}], "owner": {"reputation": 11, "user_id": 5140699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecafcbd359f817d94fb4260421b00a51?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Natalini", "link": "https://stackoverflow.com/users/5140699/sam-natalini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1475768228, "creation_date": 1475693704, "last_edit_date": 1475768228, "question_id": 39881656, "link": "https://stackoverflow.com/questions/39881656/trying-to-call-public-async-taskboolean-from-a-public-string-submit-method", "title": "Trying to call public async Task&lt;Boolean&gt; from a public string submit method", "body": "<p>I'm pretty new to this Async thing. I'm trying to write in to an API using a createasync method. However, for some reason I either get an aggregate exception, or the thread just hangs depending on what I've tried. Here is a code example because I have yet to be able to successfully write in to the Salesforce API. I have been able however, to pull back data using similar operations.</p>\n\n<p>Submit Method where I want this all to take place in my controller:</p>\n\n<pre><code>    [System.Web.Http.HttpPost]\n    public string Submit([FromBody]SurveyFormModel survey)\n    {\n\n        // todo - Validate data and stop if bad data comes in.            \n        var report = BuildReport(survey.Questions);\n\n        try\n        {\n            var task = Task.Run(async () =&gt; { await SendReportToSalesforce(survey); });\n            task.Wait();\n        }\n        catch (Exception ex)\n        {\n            ex.GetBaseException();\n        }\n\n        EmailExcel(survey);\n        return JsonConvert.SerializeObject(report);\n    }\n</code></pre>\n\n<p>This is the method I'm using to call my salesforceservice.cs</p>\n\n<pre><code>public async Task SendReportToSalesforce([FromBody] SurveyFormModel survey)\n    {\n        SalesforceService service = new SalesforceService();\n        var auth = service.Authenticate();\n        var sfSurvey = service.SalesForceMapper(survey, survey.AccountDetails);\n        var result = await service.SendSurveytoSF(auth.Result, sfSurvey); //.Wait();\n        Console.WriteLine(result);\n    }\n</code></pre>\n\n<p>Also included is the salesforceservice class I use to authenticate as well as the method (SendSurveytoSF) that doesnt seem to be working. </p>\n\n<pre><code>    public async Task&lt;ForceClient&gt; Authenticate()\n    {\n        //get credential values\n        var consumerkey = ConfigurationManager.AppSettings[\"consumerkey\"];\n        var consumersecret =    ConfigurationManager.AppSettings[\"consumersecret\"];\n        var username = ConfigurationManager.AppSettings[\"username\"];\n        var password = ConfigurationManager.AppSettings[\"password\"];\n\n        //create auth client to retrieve token\n        var auth = new AuthenticationClient();\n\n        //get back URL and token\n        ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls | SecurityProtocolType.Tls11 | SecurityProtocolType.Tls12;\n        try\n        {\n            await\n                auth.UsernamePasswordAsync(consumerkey, consumersecret, username, password,\n                    \"https://test.salesforce.com/services/oauth2/token\");\n        }\n        catch (Exception ex)\n        {\n            return null;\n        }\n\n        var instanceUrl = auth.InstanceUrl;\n        var accessToken = auth.AccessToken;\n        var apiVersion = auth.ApiVersion;\n\n        return new ForceClient(instanceUrl, accessToken, apiVersion);\n    }\n        public async Task&lt;Boolean&gt; SendSurveytoSF(ForceClient sfclient, Models.Salesforce.Survey survey)\n    {\n        survey.Account__c = \"0012200000Ah3zG\";\n        var response = await sfclient.CreateAsync(\"VBR_Assessment__c\", survey);\n        return response.Id != null;\n    }\n</code></pre>\n\n<p>I believe I'm maybe just not calling these methods properly, but at this point I really have no clue as I've tried implementing it a ton of different ways. Thank you for any help in advanced!</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>This is the exception I'm getting:</p>\n\n<p>A first chance exception of type 'Salesforce.Common.ForceException' occurred in mscorlib.dll</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 1, "user_id": 6922707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/400d7699cbda19181f1690db1c4a2a24?s=128&d=identicon&r=PG&f=1", "display_name": "Jiri Hudecek", "link": "https://stackoverflow.com/users/6922707/jiri-hudecek"}, "edited": false, "score": 0, "creation_date": 1475698329, "post_id": 39881616, "comment_id": 67053582, "body": "You should open developer console in your browser and watch what location is really in response header of your redirect.. I&#39;m sure it will help you."}, {"owner": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "reply_to_user": {"reputation": 1, "user_id": 6922707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/400d7699cbda19181f1690db1c4a2a24?s=128&d=identicon&r=PG&f=1", "display_name": "Jiri Hudecek", "link": "https://stackoverflow.com/users/6922707/jiri-hudecek"}, "edited": false, "score": 0, "creation_date": 1475699680, "post_id": 39881616, "comment_id": 67053583, "body": "when I run debugger in firefox all that I get back when I click that button is: __doPostBack(&#39;ctl00$MainContent$GridView1$ctl02$Details2&#39;,&#39;&#39;&zwnj;&#8203;)     No idea what that should be telling me."}, {"owner": {"reputation": 1, "user_id": 6922707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/400d7699cbda19181f1690db1c4a2a24?s=128&d=identicon&r=PG&f=1", "display_name": "Jiri Hudecek", "link": "https://stackoverflow.com/users/6922707/jiri-hudecek"}, "edited": false, "score": 0, "creation_date": 1475734746, "post_id": 39881616, "comment_id": 67082325, "body": "When you look to response headers of your redirect, you will see what url are you redirected to and probably will see what&#39;s the problem with that &quot;Id&quot; parameter in querystring (wrong format, empty..). Don&#39;t look at javascript console, you have to look to network tab (that&#39;s how its called in chrome, I don&#39;t use FF) and see how rosponse looks like."}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "edited": false, "score": 0, "creation_date": 1475757139, "post_id": 39884305, "comment_id": 67077740, "body": "Thanks, the changing to hyperlink and adding pageindex to the line helped to save the pageindex when moving to detail record. Now I&#39;m having an issue with the pageindex not being picked up when returning to the list page. Maybe another question if I can&#39;t sort it out."}, {"owner": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "edited": false, "score": 0, "creation_date": 1475760003, "post_id": 39884305, "comment_id": 67079920, "body": "Actually did not understand some of this. Changing the first button to Hyperlink works,,, but it worked before. I&#39;m still no closer to getting the session variable that I am setting to work as the second button does not work. Since I cannot undo my acceptance of answer, guess I&#39;ll have to resubmit the question again :("}, {"owner": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "edited": false, "score": 0, "creation_date": 1475761468, "post_id": 39884305, "comment_id": 67080961, "body": "updated question with new version,,, non of the session variables seem to be picked up and used anywhere??"}, {"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "reply_to_user": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "edited": false, "score": 0, "creation_date": 1475762829, "post_id": 39884305, "comment_id": 67081952, "body": "Updated my answer. My example has now a link in the GridView that does a postback that does sends the questionID."}, {"owner": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "edited": false, "score": 0, "creation_date": 1475766009, "post_id": 39884305, "comment_id": 67084380, "body": "Input the changes, all the button does is reload the ReviewList page."}, {"owner": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "edited": false, "score": 0, "creation_date": 1475766692, "post_id": 39884305, "comment_id": 67084922, "body": "added OnRowCommandEvent=&quot;GridView1_RowCommand&quot; to the gridview, still does nothing but reload the current page?"}, {"owner": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "edited": false, "score": 0, "creation_date": 1475772773, "post_id": 39884305, "comment_id": 67088657, "body": "changed to OnRowCommand=&quot;GridView1_RowCommand&quot; and now the detail page opens correctly, but not getting the gridview to go to correct pageindex on return."}, {"owner": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "edited": false, "score": 0, "creation_date": 1475774300, "post_id": 39884305, "comment_id": 67089467, "body": "thanks for all your help. Was able to sort out the remaining issues and page/s look to be performing correctly now."}], "tags": [], "owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "is_accepted": true, "score": 0, "last_activity_date": 1475762709, "last_edit_date": 1475762709, "creation_date": 1475704414, "answer_id": 39884305, "question_id": 39881616, "link": "https://stackoverflow.com/questions/39881616/session-variables-not-being-seen-used/39884305#39884305", "title": "Session Variables not being seen/used", "body": "<p>Your error probably means that <code>Request[\"Id\"]</code> is empty or does not exists. Always check if QueryStrings exist and do the conversions of user inputs that are likely to fail inside a try-catch block.</p>\n\n<pre><code>    protected void Page_Load(object sender, EventArgs e)\n    {\n        long QuestionID = -1;\n\n        //check if the Id QueryString exists\n        if (Request.QueryString[\"Id\"] != null)\n        {\n            //try to convert to int64\n            try\n            {\n                QuestionID = Convert.ToInt64(Request.QueryString[\"Id\"]);\n            }\n            catch\n            {\n            }\n        }\n\n        //if valid QuestionID\n        if (QuestionID &gt;= 0)\n        {\n            using (SqlConnection connection = new SqlConnection(Common.connectionString))\n            using (SqlCommand command = new SqlCommand(\"QuestionDetail\", connection))\n            {\n                command.CommandType = CommandType.StoredProcedure;\n                command.Parameters.Add(\"@QuestionID\", SqlDbType.BigInt).Value = QuestionID;\n\n                //try to execute the stored procedure\n                try\n                {\n                    connection.Open();\n                    command.ExecuteNonQuery();\n                }\n                catch (Exception ex)\n                {\n                    //handle sql error\n                    Literal1.Text = ex.Message;\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>And why do you do a PostBack on the first button? That is not needed just to redirect to a different url. Change it to:</p>\n\n<pre><code>&lt;asp:HyperLink ID=\"HyperLink1\" runat=\"server\" NavigateUrl='&lt;%#\"~/Review/ReviewDetail.aspx?Id=\" + Eval(\"QuestionID\") %&gt;'&gt;View Question&lt;/asp:HyperLink&gt;\n</code></pre>\n\n<p>Or with the Page Index also in the QueryString:</p>\n\n<pre><code>&lt;asp:HyperLink ID=\"HyperLink1\" runat=\"server\" NavigateUrl='&lt;%#\"~/Review/ReviewDetail.aspx?Id=\" + Eval(\"QuestionID\") + \"&amp;Page=\" + GridView2.PageIndex %&gt;'&gt;View Question&lt;/asp:HyperLink&gt;\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>If you really want to do a PostBack to set the Sessions you can use the OnRowCommand:</p>\n\n<pre><code>&lt;asp:LinkButton ID=\"LinkButton1\" CommandArgument='&lt;%# Eval(\"QuestionID\") %&gt;' runat=\"server\" CommandName=\"viewQuestion\"&gt;View Question&lt;/asp:LinkButton&gt;\n</code></pre>\n\n<p>CS</p>\n\n<pre><code>    protected void GridView1_RowCommand(object sender, GridViewCommandEventArgs e)\n    {\n        if (e.CommandName == \"viewQuestion\")\n        {\n            Session[\"PageIndex\"] = GridView1.PageIndex;\n            Session[\"QuestionId\"] = e.CommandArgument.ToString();\n            Response.Redirect(\"~/Review/ReviewDetail.aspx?Id=\" + Convert.ToString(Session[\"QuestionId\"]));\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 39884305, "answer_count": 1, "score": 0, "last_activity_date": 1475763374, "creation_date": 1475693531, "last_edit_date": 1475762673, "question_id": 39881616, "link": "https://stackoverflow.com/questions/39881616/session-variables-not-being-seen-used", "title": "Session Variables not being seen/used", "body": "<p>I have an aspx page that displays a gridview of questions waiting on review with 10 questions shown per page. If a question is selected it is opened in a new page where the reviewer can either submit a review or cancel and return to the list of questions needing review.</p>\n\n<p>Currently this works fine, but have a request from the reviewers so that if they are on page 4 of the gridview when they go to a question, they get returned to page 4 if they hit cancel and return to the list of questions (currently they are returned to page 1).</p>\n\n<p>So I am setting a couple session variables to capture the question selected and to capture the pageindex of the gridview control for future use. Trying to use the session variable for the questionId on the page load of the detail page, but it is not being passed. On returning to the Review List page the pageindex that is being set on the gridview is always 0, not the session variable.</p>\n\n<p>Updated Gridview control (note two  controls, one hyperlink(which should go away once the other linkbutton control works):</p>\n\n<pre><code> &lt;asp:GridView ID=\"GridView1\" runat=\"server\" Caption=\"Questions Awaiting Review\" AllowSorting=\"True\" PagerSettings-Mode=\"NumericFirstLast\" OnPageIndexChanging=\"GridView1_PageIndexChanging\"\nCaptionAlign=\"Top\" EmptyDataText=\"No Questions Pending Review.\" PageSize=\"10\" AllowPaging=\"true\" PagerStyle-HorizontalAlign=\"Center\" PagerStyle-Font-Size=\"Large\" DataKeyNames=\"QuestionID\"\nAutoGenerateColumns=\"false\" AlternatingRowStyle-BackColor=\"#cccccc\"&gt;\n&lt;Columns&gt;\n    &lt;asp:TemplateField&gt;\n        &lt;ItemTemplate&gt;\n            &lt;asp:Label ID=\"QuestionID\" runat=\"server\" Text='&lt;%# Eval(\"QuestionID\") %&gt;' /&gt;\n        &lt;/ItemTemplate&gt;\n    &lt;/asp:TemplateField&gt;\n    &lt;asp:BoundField DataField=\"KeyObjective\" HeaderText=\"Key Objective\" ItemStyle-Width=\"250\" /&gt;\n    &lt;asp:BoundField DataField=\"SubmitDate\" HeaderText=\"Submitted Date\" ItemStyle-Width=\"60\" /&gt;\n    &lt;asp:TemplateField&gt;\n        &lt;ItemTemplate&gt;\n            &lt;asp:HyperLink ID=\"Details\" runat=\"server\" NavigateUrl='&lt;%#\"~/Review/ReviewDetail.aspx?Id=\" + Eval(\"QuestionID\") +\"&amp;PageIndex=\" + GridView1.PageIndex %&gt;'&gt;View Question&lt;/asp:HyperLink&gt;\n        &lt;/ItemTemplate&gt;\n    &lt;/asp:TemplateField&gt;\n    &lt;asp:TemplateField&gt;\n    &lt;ItemTemplate&gt;\n        &lt;asp:LinkButton ID=\"Details2\" runat=\"server\" Text=\"Session\" OnClick=\"Session_OnClick\"&gt;&lt;/asp:LinkButton&gt;\n    &lt;/ItemTemplate&gt;\n&lt;/asp:TemplateField&gt;\n&lt;/Columns&gt;\n\n&lt;/asp:GridView&gt;\n</code></pre>\n\n<p>OnClick Event for the second button:</p>\n\n<pre><code>protected void Session_OnClick(object sender, EventArgs e)\n    {\n        Session[\"PageIndex\"] = GridView1.PageIndex;\n        Session[\"QuestionId\"] = GridView1.SelectedDataKey;\n        Response.Redirect(\"~/Review/ReviewDetail.aspx\", false;\n\n    }\n</code></pre>\n\n<p>Connection string on the detail page which is now not getting a value for the parameter \"QuestionID\";    ):</p>\n\n<pre><code> SqlCommand command = new SqlCommand(\"QuestionDetail\", Conn);\n            command.CommandType = CommandType.StoredProcedure;\n            command.Parameters.Add(new SqlParameter(\"@QuestionID\", SqlDbType.BigInt));\n\n            command.Parameters[\"@QuestionID\"].Value = Convert.ToInt64(Session[\"QuestionId\"]);\n            Conn.Open();\n            SqlDataReader reader = command.ExecuteReader();\n</code></pre>\n\n<p>PageLoad and gridview binding on the ReviewList page that should be using session variable to set page of grid control, but is always going to default of page 0:</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n    {\n        if (!IsPostBack)\n        {\n                bindGridView();\n        }\n        else\n        {\n            if (Convert.ToInt32(Session[\"PageIndex\"]) !=0)\n            {\n                GridView1.PageIndex = Convert.ToInt32(Session[\"PageIndex\"]);\n                bindGridView();\n            }\n        }\n    }\n   private void bindGridView()\n   {\n            string connectionString = WebConfigurationManager.ConnectionStrings[\"CS1\"].ConnectionString;\n            string selectSQL = String.Format(\"Select QuestionID, KeyObjective, SubmitDate from Questions where Author &lt;&gt; '{0}' and QuestionID not in(Select QuestionID from Review where Reviewer = '{0}')\", User.Identity.Name);\n            SqlConnection con = new SqlConnection(connectionString);\n            SqlCommand cmd = new SqlCommand(selectSQL, con);\n            SqlDataAdapter adapter = new SqlDataAdapter(cmd);\n            DataSet ds = new DataSet();\n\n            adapter.Fill(ds, \"Review\");\n\n            GridView1.DataSource = ds;\n            GridView1.DataBind();\n\n   }\n</code></pre>\n"}, {"tags": ["c#", "unit-testing", "fluent-assertions"], "comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1475695820, "post_id": 39881612, "comment_id": 67051332, "body": "Try throwing the inner exception first and checking it in a catch? (this is just a random guess). Also, have you checked <a href=\"https://github.com/dennisdoomen/fluentassertions/issues\" rel=\"nofollow noreferrer\">their bug log</a>, perhaps even file one of your own?"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1475696906, "post_id": 39881612, "comment_id": 67051984, "body": "Do all of your custom exception types have streaming constructors, as is shown to be required in <a href=\"https://stackoverflow.com/questions/3422703/how-to-deserialize-object-derived-from-exception-class-using-json-net-c\">this question</a>?  That question is about Json.NET but <code>BinaryFormatter</code> uses the same constructor for exception serialization.  Unlike in that question, <code>BinaryFormatter</code> requires your constructor to call the <code>base</code> constructor."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1475697014, "post_id": 39881612, "comment_id": 67052042, "body": "Actually the same is reproducable with just &quot;new Exception(&quot;some error&quot;).Should().BeBinarySerializable();&quot;, so it&#39;s some bug in FluentAssertion library, not that your exceptions are really not serializable."}, {"owner": {"reputation": 2523, "user_id": 277774, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ldizp.jpg?s=128&g=1", "display_name": "Glenn Doten", "link": "https://stackoverflow.com/users/277774/glenn-doten"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1475697663, "post_id": 39881612, "comment_id": 67052357, "body": "@ScottChamberlain same thing happens if the InvalidOperationException is thrown before adding it to the exception."}, {"owner": {"reputation": 2523, "user_id": 277774, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ldizp.jpg?s=128&g=1", "display_name": "Glenn Doten", "link": "https://stackoverflow.com/users/277774/glenn-doten"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1475697757, "post_id": 39881612, "comment_id": 67052402, "body": "@dbc Yup, they all have the streaming ctor and the GetObjectData method. The exceptions all work as expected except FluentAssertions doesn&#39;t seem to like the innerException being non-null."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1475699311, "post_id": 39881612, "comment_id": 67053240, "body": "@gdoten that&#39;s because it doesn&#39;t like <i>any</i> default exceptions (Exception, InvalidOperationException and so on) it seems, see my comment above."}], "answers": [{"tags": [], "owner": {"reputation": 2523, "user_id": 277774, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ldizp.jpg?s=128&g=1", "display_name": "Glenn Doten", "link": "https://stackoverflow.com/users/277774/glenn-doten"}, "is_accepted": true, "score": 0, "last_activity_date": 1483910735, "creation_date": 1483910735, "answer_id": 41538071, "question_id": 39881612, "link": "https://stackoverflow.com/questions/39881612/binary-serialize-a-net-exception-derived-class-unit-testing-with-fluentasserti/41538071#41538071", "title": "Binary serialize a .NET Exception-derived class; unit testing with FluentAssertions", "body": "<p>This has been fixed in FluentAssertions:</p>\n\n<p><a href=\"https://github.com/dennisdoomen/FluentAssertions/issues/485\" rel=\"nofollow noreferrer\">BeBinarySerializable fails with standard .NET exceptions, but not with custom exceptions</a></p>\n"}], "owner": {"reputation": 2523, "user_id": 277774, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ldizp.jpg?s=128&g=1", "display_name": "Glenn Doten", "link": "https://stackoverflow.com/users/277774/glenn-doten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 389, "favorite_count": 0, "accepted_answer_id": 41538071, "answer_count": 1, "score": 1, "last_activity_date": 1483910735, "creation_date": 1475693521, "last_edit_date": 1475699338, "question_id": 39881612, "link": "https://stackoverflow.com/questions/39881612/binary-serialize-a-net-exception-derived-class-unit-testing-with-fluentasserti", "title": "Binary serialize a .NET Exception-derived class; unit testing with FluentAssertions", "body": "<p>I have a custom exception that takes in a couple strings in the ctor followed by the usual <code>Exception innerException</code> last parameter. The exception class is decorated with <code>[Serializable]</code>. This exception class <code>MyException</code> also inherits from <code>MyBaseException</code> which in turn inherits from <code>Exception</code>.</p>\n\n<p>I'm trying to unit test that all the ctor parameters hydrate and dehydrate properly. This works:</p>\n\n<pre><code>var error = new MyException(\"entityname1\");\nerror.Should().BeBinarySerializable();\n</code></pre>\n\n<p>This does not work:</p>\n\n<pre><code>var error = new MyException(\"entityname1\",\n    new InvalidOperationException(\"some error\"));\nerror.Should().BeBinarySerializable();\n</code></pre>\n\n<p>It gives:</p>\n\n<pre><code>Expected MyException with message \"Unable to sign-in \u201centityname1\u201d.\"\n to be serializable, but serialization failed with:\n\nExpected member InnerException\nto be System.InvalidOperationException with message \\\"some error\\\"\\n,\nbut found System.InvalidOperationException with message \\\"some error\\\"\n</code></pre>\n\n<p>The error being thrown has no innerException information that might give an idea of the problem.</p>\n\n<p>Interestingly, this works:</p>\n\n<pre><code>var error = new MyException(\"entityname1\", new MyOtherException(\"some error\"));\n</code></pre>\n\n<p>Any idea why that one serialization fails and/or how to debug the problem?</p>\n\n<p>.NET 4.6.1 and FluentAssertions 4.14.0</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Given what @Evk discovered, I tried manually serializing/deserializing an Exception with the <code>BinaryFormatter</code> and it seems to work fine:</p>\n\n<pre><code>var formatter = new BinaryFormatter();\n\nvar source = new Exception(\"some error\");\n\nbyte[] buffer;\nusing (var stream = new MemoryStream())\n{\n    formatter.Serialize(stream, source);\n\n    buffer = new byte[stream.Length];\n\n    stream.Position = 0;\n    stream.Read(buffer, 0, buffer.Length);\n}\n\nusing (var stream = new MemoryStream(buffer))\n{\n    var ex = (Exception)formatter.Deserialize(stream);\n\n    ex.ToString().Should().Be(source.ToString());\n}\n</code></pre>\n\n<p>So maybe this is a bug in FluentAssertions.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "reply_to_user": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 0, "creation_date": 1475694283, "post_id": 39881561, "comment_id": 67050498, "body": "@GiladGreen the answer said all the resource will be free by the OS when app shuts down. But I want to know if not doing so could prevent the application from shutting down"}, {"owner": {"reputation": 4899, "user_id": 4925216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7abdf1f11e604cc613da2cd5f5f1e4e4?s=128&d=identicon&r=PG", "display_name": "Sehnsucht", "link": "https://stackoverflow.com/users/4925216/sehnsucht"}, "edited": false, "score": 3, "creation_date": 1475694422, "post_id": 39881561, "comment_id": 67050575, "body": "IMHO, keeping a stream opened during the application lifetime is a bad idea it should be opened/closed only when really needed"}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "reply_to_user": {"reputation": 4899, "user_id": 4925216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7abdf1f11e604cc613da2cd5f5f1e4e4?s=128&d=identicon&r=PG", "display_name": "Sehnsucht", "link": "https://stackoverflow.com/users/4925216/sehnsucht"}, "edited": false, "score": 0, "creation_date": 1475694719, "post_id": 39881561, "comment_id": 67050715, "body": "@Sehnsucht wouldn&#39;t it be inefficient to close and reopen the stream though"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1475694819, "post_id": 39881561, "comment_id": 67050766, "body": "@Steve Depends on the frequency. If you are doing slower than a write every .5 seconds the overhead likely will be unoticeable."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1475694950, "post_id": 39881561, "comment_id": 67050842, "body": "@Steve Also, don&#39;t re-invent the wheel. Other people have solved all the problems you run in to when writing a robust logger years ago and they offer the libraries for free. Just go use <a href=\"https://www.nuget.org/packages/log4net/\" rel=\"nofollow noreferrer\">Log4net or similar</a>."}, {"owner": {"reputation": 4899, "user_id": 4925216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7abdf1f11e604cc613da2cd5f5f1e4e4?s=128&d=identicon&r=PG", "display_name": "Sehnsucht", "link": "https://stackoverflow.com/users/4925216/sehnsucht"}, "edited": false, "score": 0, "creation_date": 1475695109, "post_id": 39881561, "comment_id": 67050942, "body": "@Steve all I/O operation are often &quot;slow&quot; operation so opening/closing a stream is almost always negligible compared to the actual stuff done with it"}], "answers": [{"tags": [], "owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "is_accepted": true, "score": 1, "last_activity_date": 1475694304, "creation_date": 1475694304, "answer_id": 39881809, "question_id": 39881561, "link": "https://stackoverflow.com/questions/39881561/do-i-need-to-dispose-static-objects-which-lives-the-whole-life-span-of-the-appli/39881809#39881809", "title": "Do I need to Dispose static objects which lives the whole life span of the application?", "body": "<blockquote>\n  <p>... the answer said all the resource will be free by the OS when app shuts down.</p>\n</blockquote>\n\n<p>True, but just because a resource is freed does not mean it was freed in a clean manner.</p>\n\n<p>You need to dispose of <code>StreamWriter</code> because it does not flush it's data immediately by default. If you do not Close/Dispose of it before your application is shut down the last bit of text will not be written out.</p>\n\n<pre><code>class Program\n{\n    static StreamWriter SW = new StreamWriter(\"test.txt\");\n    static void Main()\n    {\n        SW.Write(\"Test\");\n    }\n}\n</code></pre>\n\n<p>The text file will not contain the word <code>Test</code> after running the above program.</p>\n\n<p>If you added <code>SW.AutoFlush = true;</code> to the program you would be fine with not disposing of it. But you need to be aware of limitations like this when dealing with any class that implements <code>IDisposeable</code></p>\n"}], "owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 39881809, "answer_count": 1, "score": 0, "last_activity_date": 1475694304, "creation_date": 1475693307, "question_id": 39881561, "link": "https://stackoverflow.com/questions/39881561/do-i-need-to-dispose-static-objects-which-lives-the-whole-life-span-of-the-appli", "title": "Do I need to Dispose static objects which lives the whole life span of the application?", "body": "<p>Lets say I want to do some logging, the first thing I would do is opening up a <code>FileStream</code> to write to. </p>\n\n<p>I would like to reuse the same stream for the application instead of opening and closing the stream for each log entry</p>\n\n<p>This means the stream will live as long as the application. </p>\n\n<p>something like</p>\n\n<pre><code>public static class Logger\n{\n    static StreamWriter SW;\n}\n</code></pre>\n\n<p>Now the question is, do I need to make a close method which would <code>Dispose</code> SW and call it some where like <code>Window.Closed</code></p>\n\n<p>I feel GC would be able to do its job right and free SW when the application ends. But I want to make sure not doing so won't cause the application to hang in some special situations. </p>\n"}, {"tags": ["c#", "custom-controls", "eventhandler"], "answers": [{"comments": [{"owner": {"reputation": 300, "user_id": 4121546, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/KWLBl.png?s=128&g=1", "display_name": "Keytrap", "link": "https://stackoverflow.com/users/4121546/keytrap"}, "edited": false, "score": 0, "creation_date": 1475695678, "post_id": 39881885, "comment_id": 67051258, "body": "Could you make a full example so that I get my head clear ? thanks!"}, {"owner": {"reputation": 109, "user_id": 6884184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd3a1ec97f14657b350ab9662dacafe1?s=128&d=identicon&r=PG&f=1", "display_name": "A. Mohseni Azghandi", "link": "https://stackoverflow.com/users/6884184/a-mohseni-azghandi"}, "reply_to_user": {"reputation": 300, "user_id": 4121546, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/KWLBl.png?s=128&g=1", "display_name": "Keytrap", "link": "https://stackoverflow.com/users/4121546/keytrap"}, "edited": false, "score": 0, "creation_date": 1475696422, "post_id": 39881885, "comment_id": 67051674, "body": "I edit my answer and create class resButtonUsage for explaint how to use your event."}], "tags": [], "owner": {"reputation": 109, "user_id": 6884184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd3a1ec97f14657b350ab9662dacafe1?s=128&d=identicon&r=PG&f=1", "display_name": "A. Mohseni Azghandi", "link": "https://stackoverflow.com/users/6884184/a-mohseni-azghandi"}, "is_accepted": true, "score": 0, "last_activity_date": 1475696333, "last_edit_date": 1475696333, "creation_date": 1475694637, "answer_id": 39881885, "question_id": 39881554, "link": "https://stackoverflow.com/questions/39881554/c-modified-control-custom-event/39881885#39881885", "title": "C# Modified control custom Event", "body": "<pre><code>public class resButton : TextBox\n{\n\n    [Browsable(true)]\n\n\n    [Description(\"state of TextBox\"), Category(\"Data\")]\n    public string textBoxState\n    {\n        get { return this.AccessibleDescription; }\n        set\n        {\n            this.AccessibleDescription = value;\n            if (yourEvent != null)\n                yourEvent(this, new EventArgs());\n        }\n    }\n\n    public event EventHandler yourEvent;\n}\npublic class resButtonUsage\n{\n    resButton resbuttonInstance;\n    public resButtonUsage()\n    {\n        resbuttonInstance = new resButton();\n        resbuttonInstance.yourEvent += resbuttonInstance_yourEvent;\n    }\n\n    void resbuttonInstance_yourEvent(object sender, EventArgs e)\n    {\n        // Your implementation\n    }\n}\n</code></pre>\n\n<p>you must declare event like this sample with existing delegate(EventHandler) or your custom delegate.\nafter declaring and calling it in setter of your property you can use outside of this class by instancing and declaring this event.</p>\n"}], "owner": {"reputation": 300, "user_id": 4121546, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/KWLBl.png?s=128&g=1", "display_name": "Keytrap", "link": "https://stackoverflow.com/users/4121546/keytrap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 39881885, "answer_count": 1, "score": -1, "last_activity_date": 1475696333, "creation_date": 1475693266, "last_edit_date": 1475693677, "question_id": 39881554, "link": "https://stackoverflow.com/questions/39881554/c-modified-control-custom-event", "title": "C# Modified control custom Event", "body": "<p>Let's say I have a modified control of a textbox</p>\n\n<pre><code>public class resButton : TextBox\n{\n\n    [Browsable(true)]\n\n\n    [Description(\"state of TextBox\"), Category(\"Data\")]\n    public string textBoxState\n    {\n        get { return this.AccessibleDescription; }\n        set {\n            this.AccessibleDescription = value;\n            }\n    }\n}\n</code></pre>\n\n<p>And I have added a custom propertie which is based on the AccessibleDescription of that control.</p>\n\n<p>How could I add a custom event to that control ?\nI'd like to do a custom Event which fires when \"textBoxState\" is changed.</p>\n"}, {"tags": ["c#", "xna", "filenames", "texture2d"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 6342399, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/011659bd976754cf181a28a674128de9?s=128&d=identicon&r=PG&f=1", "display_name": "sol", "link": "https://stackoverflow.com/users/6342399/sol"}, "edited": false, "score": 0, "creation_date": 1476126210, "post_id": 39892432, "comment_id": 67209777, "body": "And what if I have an array? How can I identifie the item for what it has?"}, {"owner": {"reputation": 71, "user_id": 5139154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3f042fdce0fb59f72eb98ecb9dfc32?s=128&d=identicon&r=PG&f=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/5139154/graham"}, "reply_to_user": {"reputation": 17, "user_id": 6342399, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/011659bd976754cf181a28a674128de9?s=128&d=identicon&r=PG&f=1", "display_name": "sol", "link": "https://stackoverflow.com/users/6342399/sol"}, "edited": false, "score": 0, "creation_date": 1476673165, "post_id": 39892432, "comment_id": 67428716, "body": "Same way you&#39;d do any other array, something like this:  for (int i = 0; i &lt; textureArray.Count; i++) {  string name = textureArray[i].Name.ToString(); // Get name of Texture.  if (name == &quot;TheNameIWant&quot;) { //Do Something } }"}], "tags": [], "owner": {"reputation": 71, "user_id": 5139154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3f042fdce0fb59f72eb98ecb9dfc32?s=128&d=identicon&r=PG&f=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/5139154/graham"}, "is_accepted": true, "score": 0, "last_activity_date": 1475746307, "creation_date": 1475746307, "answer_id": 39892432, "question_id": 39881503, "link": "https://stackoverflow.com/questions/39881503/how-to-get-the-name-of-the-content-of-a-texture2d-xna/39892432#39892432", "title": "How to get the name of the content of a Texture2D xna", "body": "<p>The answer to what you're asking is:</p>\n\n<pre><code>repeat.Name.ToString();\n</code></pre>\n\n<p>but it makes literally zero sense to do that. You've already named the Texture2D 'repeat'?</p>\n\n<p>If you're changing images randomly then load all of the textures and then just draw the one thats been randomly selected:</p>\n\n<pre><code> repeat = Content.Load&lt;Texture2D&gt;(\"repeat\");\n repeat1 = Content.Load&lt;Texture2D&gt;(\"repeat1\");\n repeat2 = Content.Load&lt;Texture2D&gt;(\"repeat2\");\n\npublic override void Draw(GameTime gameTime)\n{\nSpriteBatch.Begin();\nif (random == 0)\n{\nSpriteBatch.Draw(repeat, Position, Color);\n}\nelse if (random == 1)\n{\nSpriteBatch.Draw(repeat1, Position, Color);\n}\nelse if (random == 2)\n{\nSpriteBatch.Draw(repeat2, Position, Color);\n}\nSpriteBatch.End();\n}\n</code></pre>\n\n<p>Something like that.</p>\n"}], "owner": {"reputation": 17, "user_id": 6342399, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/011659bd976754cf181a28a674128de9?s=128&d=identicon&r=PG&f=1", "display_name": "sol", "link": "https://stackoverflow.com/users/6342399/sol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 39892432, "answer_count": 1, "score": 0, "last_activity_date": 1475746307, "creation_date": 1475693070, "question_id": 39881503, "link": "https://stackoverflow.com/questions/39881503/how-to-get-the-name-of-the-content-of-a-texture2d-xna", "title": "How to get the name of the content of a Texture2D xna", "body": "<p>I'm developing a game in xna and I need to get the name of the content of a texture2d to know if the one pressed is the right one due to the fact that they will be charged random\nFor example</p>\n\n<pre><code>      repeat= Content.Load&lt;Texture2D&gt;(\"repeat\");\n</code></pre>\n\n<p>I will need something that later tells me that the name of the content of the texture 2d is \"repeat\"\nThank you!</p>\n"}, {"tags": ["c#", "xaml", "popup", "uwp", "uwp-xaml"], "answers": [{"comments": [{"owner": {"reputation": 13365, "user_id": 1028230, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fbeKv.png?s=128&g=1", "display_name": "ruffin", "link": "https://stackoverflow.com/users/1028230/ruffin"}, "edited": false, "score": 0, "creation_date": 1475768148, "post_id": 39884577, "comment_id": 67085957, "body": "This answer is right, and before DecadeMoon&#39;s, but Moon&#39;s answer really made it come into focus for me why the StackPanel wasn&#39;t working (you can&#39;t exactly share rows in a StackPanel, so to speak), so I&#39;m +1ing here and giving the check there. Sorry I can&#39;t split the check, and thanks a lot!"}], "tags": [], "owner": {"reputation": 5907, "user_id": 613087, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d3ac2144120f923f23c49ee4ce4437ab?s=128&d=identicon&r=PG", "display_name": "Depechie", "link": "https://stackoverflow.com/users/613087/depechie"}, "is_accepted": false, "score": 1, "last_activity_date": 1475705892, "creation_date": 1475705892, "answer_id": 39884577, "question_id": 39881487, "link": "https://stackoverflow.com/questions/39881487/uwp-xaml-popup-not-respecting-verticalalignment/39884577#39884577", "title": "UWP XAML Popup not respecting VerticalAlignment?", "body": "<p>Try changing your xaml as follows...</p>\n\n<pre><code>&lt;Page...&gt;\n    &lt;Grid x:Name=\"LayoutRoot\"&gt;\n        &lt;Popup&gt;\n        &lt;/Popup&gt;\n\n        &lt;Grid x:Name=\"ContentPanel\"&gt;\n        &lt;/Grid&gt;\n    &lt;/Grid&gt;\n&lt;/Page&gt;\n</code></pre>\n\n<p>So move the Popup control outside the content area and put your stacklayout with all content inside the ContentPanel Grid ( as shown in code sample above )</p>\n\n<p>That should stop pushing the other controls down...</p>\n"}, {"comments": [{"owner": {"reputation": 13365, "user_id": 1028230, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fbeKv.png?s=128&g=1", "display_name": "ruffin", "link": "https://stackoverflow.com/users/1028230/ruffin"}, "edited": false, "score": 0, "creation_date": 1475768066, "post_id": 39885096, "comment_id": 67085906, "body": "Okay, I think that helps rethread my head a little. I&#39;d tried a Grid before, but put the Popup into its own row, which had some of the same trouble, both on <code>Height=&quot;Auto&quot;</code> and <code>Height=&quot;0&quot;</code>. I thought the Popup was designed to flyover the <i>parent Panel</i> (Grid or StackPanel), but what you&#39;re showing is that it&#39;s designed to fly over <i>its row in the Panel</i>, so to speak. That is, if your wrapping Grid here had two rows, the Popup would only flyover one (pick your choice). Not super intuitive imo, but you&#39;ve got it down cold here. Thanks!"}], "tags": [], "owner": {"reputation": 26792, "user_id": 734040, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/p1dqF.jpg?s=128&g=1", "display_name": "Decade Moon", "link": "https://stackoverflow.com/users/734040/decade-moon"}, "is_accepted": true, "score": 3, "last_activity_date": 1475709252, "creation_date": 1475709252, "answer_id": 39885096, "question_id": 39881487, "link": "https://stackoverflow.com/questions/39881487/uwp-xaml-popup-not-respecting-verticalalignment/39885096#39885096", "title": "UWP XAML Popup not respecting VerticalAlignment?", "body": "<p>Your <code>Popup</code> is inside a vertical <code>StackPanel</code>, which means the <code>StackPanel</code> will lay out the popup alongside the other child elements of the panel, which is why it pushes down the text.</p>\n\n<p>Also, the <code>VerticalAlignment</code> is being ignored by the panel because the panel allocated exactly enough vertical space for the popup's size, and so there is no room for it to align the popup vertically within the space it was allocated.</p>\n\n<p>I would suggest using a <code>Grid</code> as the root element for the <code>Page</code>, and putting the <code>StackPanel</code> and <code>Popup</code> directly inside the <code>Grid</code>, like this:</p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;StackPanel Name=\"StackMain\"&gt;\n        &lt;TextBlock&gt;\n        This is some text&lt;LineBreak /&gt;\n        This is some text&lt;LineBreak /&gt;\n        This is some text&lt;LineBreak /&gt;\n        This is some text&lt;LineBreak /&gt;\n        &lt;/TextBlock&gt;\n        &lt;Button Click=\"Button_Click\" Content=\"Click Me\"&gt;&lt;/Button&gt;\n    &lt;/StackPanel&gt;\n    &lt;Popup x:Name=\"popupTest\"&gt;\n        &lt;Border\n                Name=\"popupTestBorder\"\n                Background=\"{StaticResource ApplicationPageBackgroundThemeBrush}\"\n                BorderBrush=\"{StaticResource ApplicationForegroundThemeBrush}\"\n                BorderThickness=\"2\"&gt;\n            &lt;StackPanel HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\"&gt;\n                &lt;TextBlock Name=\"txtPopup\"\n                           Text=\"This is some text\"\n                           FontSize=\"24\"\n                           HorizontalAlignment=\"Center\" /&gt;\n                &lt;Button Name=\"btnClose\"\n                        Click=\"btnClose_Click\"\n                           Content=\"Click to close\"&gt;&lt;/Button&gt;\n            &lt;/StackPanel&gt;\n        &lt;/Border&gt;\n    &lt;/Popup&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p><code>Grid</code>s are good for this purpose, when you want to have overlapping elements or multiple elements that do not affect the position and size of any other child element. You want the layout of the popup to be <em>separate</em> from the layout of the stack panel and its children, so you should organize your XAML as such.</p>\n"}], "owner": {"reputation": 13365, "user_id": 1028230, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fbeKv.png?s=128&g=1", "display_name": "ruffin", "link": "https://stackoverflow.com/users/1028230/ruffin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1464, "favorite_count": 1, "accepted_answer_id": 39885096, "answer_count": 2, "score": 2, "last_activity_date": 1475709252, "creation_date": 1475693001, "last_edit_date": 1592644375, "question_id": 39881487, "link": "https://stackoverflow.com/questions/39881487/uwp-xaml-popup-not-respecting-verticalalignment", "title": "UWP XAML Popup not respecting VerticalAlignment?", "body": "<p>I'm trying to center a Popup in a Windows Store/UWP app.</p>\n<p>In brief, I'm taking MainPage and adding...</p>\n<ul>\n<li>A <code>TextBlock</code> with some text</li>\n<li>A <code>Button</code> with an event handler, <code>Button_Click</code></li>\n<li>A <code>Popup</code> named <code>popupTest</code>. It contains...\n<ul>\n<li>A <code>Border</code> with...\n<ul>\n<li>A <code>StackPanel</code> with\n<ul>\n<li>A <code>TextBlock</code></li>\n<li>A <code>Button</code>. This <code>Button</code>'s event handle sets the <code>Popup</code>'s <code>IsOpen</code> to false.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><code>Button_Click</code> calls <code>_centerPopup</code>, which tries to center the <code>Popup</code> and then sets <code>IsOpen</code> to <code>true</code>. I can't get this to work.</p>\n<pre><code>private void _centerPopup(Popup popup, Border popupBorder, FrameworkElement extraElement = null)\n{\n    double ratio = .9; // How much of the window the popup fills, give or take. (90%)\n\n    Panel pnl = (Panel)popup.Parent;\n    double parentHeight = pnl.ActualHeight;\n    double parentWidth = pnl.ActualWidth;\n\n    // Min 200 for each dimension.\n    double width = parentWidth * ratio &gt; 200 ? parentWidth * ratio : 200;\n    double height = parentHeight * ratio &gt; 200 ? parentHeight * ratio : 200;\n\n    popup.Width = width;\n    popup.Height = height;\n\n    //popup.HorizontalAlignment = HorizontalAlignment.Center;\n    popup.VerticalAlignment = VerticalAlignment.Top;    // &lt;&lt;&lt; This is ignored?!\n\n    // Resize the border too. Not sure how to get this &quot;for free&quot;.\n    popupBorder.Width = width;\n    popupBorder.Height = height;\n\n    // Not using this here, but if there's anything else that needs resizing, do it.\n    if (null != extraElement)\n    {\n        extraElement.Width = width;\n        extraElement.Height = height;\n    }\n}\n</code></pre>\n<p>If I don't try to resize and center the Popup in Button_Click, here's what I get after clicking &quot;Click Me&quot;...</p>\n<pre><code>private void Button_Click(object sender, RoutedEventArgs e)\n{\n    //_centerPopup(this.popupTest, this.popupTestBorder);\n    this.popupTest.IsOpen = true;\n}\n</code></pre>\n<p><img src=\"https://i.imgur.com/LomL9Qv.png\" alt=\"Click Me clicked, no resizing or centering\" /></p>\n<p>If I uncomment out the call to _<code>centerPopup</code>, I get this, with the popup staying <em>under</em> the button:</p>\n<pre><code>private void Button_Click(object sender, RoutedEventArgs e)\n{\n    _centerPopup(this.popupTest, this.popupTestBorder);\n    this.popupTest.IsOpen = true;\n}\n</code></pre>\n<p><img src=\"https://i.imgur.com/VKvkPFu.png\" alt=\"with recentering and resizing\" /></p>\n<p>That's no good. I <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.frameworkelement.verticalalignment(v=vs.110).aspx\" rel=\"nofollow noreferrer\">thought</a> <code>popup.VerticalAlignment = VerticalAlignment.Top;</code> would've fixed that.</p>\n<blockquote>\n<p>FrameworkElement.VerticalAlignment Property</p>\n<p>Gets or sets the vertical alignment characteristics applied to this element when it is composed within a parent element such as a panel or items control.</p>\n</blockquote>\n<hr />\n<h3>Move Popup to top of StackPanel?</h3>\n<p>Strangely, if I move the Popup up to the top of my StackPanel, it actually pushes the other controls down after being shown.</p>\n<p>Clicking &quot;Click Me&quot; <em>without</em> <code>_centerPopup</code>:</p>\n<p><img src=\"https://i.imgur.com/GIdCxe9.png\" alt=\"looks promising\" /></p>\n<p>That looks promising! It's floating over the other controls nicely, and there's no obvious impact to the layout after it's closed.</p>\n<p>But add back <code>_centerPopup</code>, even after commenting out setting <code>VerticalAlignment</code> to <code>Top</code>, and things die a horrible, fiery death.</p>\n<p><img src=\"https://i.imgur.com/Q5QWym1.png\" alt=\"Pushes controls down\" /></p>\n<p>It looks perfect <em><strong>until you notice that every other control was pushed down</strong></em>. ??? Here's <em>after</em> clicking &quot;Click to close&quot;:</p>\n<p><img src=\"https://i.imgur.com/bFE5ZKn.png\" alt=\"stuff is pushed down permanently\" /></p>\n<p>Other controls are pushed down <em>permanently</em>. Why does that happen? Shouldn't the popup float like it did before I resized it?</p>\n<hr />\n<h2>Full Source</h2>\n<p><strong>XAML</strong></p>\n<pre><code>&lt;Page\n    x:Class=&quot;PopupPlay.MainPage&quot;\n    xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;\n    xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;\n    xmlns:local=&quot;using:PopupPlay&quot;\n    xmlns:d=&quot;http://schemas.microsoft.com/expression/blend/2008&quot;\n    xmlns:mc=&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;\n    mc:Ignorable=&quot;d&quot;&gt;\n\n    &lt;StackPanel Name=&quot;StackMain&quot;&gt;\n        &lt;TextBlock&gt;\n            This is some text&lt;LineBreak /&gt;\n            This is some text&lt;LineBreak /&gt;\n            This is some text&lt;LineBreak /&gt;\n            This is some text&lt;LineBreak /&gt;\n        &lt;/TextBlock&gt;\n        &lt;Button Click=&quot;Button_Click&quot; Content=&quot;Click Me&quot;&gt;&lt;/Button&gt;\n\n        &lt;Popup x:Name=&quot;popupTest&quot;&gt;\n            &lt;Border\n                    Name=&quot;popupTestBorder&quot;\n                    Background=&quot;{StaticResource ApplicationPageBackgroundThemeBrush}&quot;\n                    BorderBrush=&quot;{StaticResource ApplicationForegroundThemeBrush}&quot;\n                    BorderThickness=&quot;2&quot;&gt;\n                &lt;StackPanel HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot;&gt;\n                    &lt;TextBlock Name=&quot;txtPopup&quot;\n                               Text=&quot;This is some text&quot;\n                               FontSize=&quot;24&quot;\n                               HorizontalAlignment=&quot;Center&quot; /&gt;\n                    &lt;Button Name=&quot;btnClose&quot;\n                            Click=&quot;btnClose_Click&quot;\n                               Content=&quot;Click to close&quot;&gt;&lt;/Button&gt;\n                &lt;/StackPanel&gt;\n            &lt;/Border&gt;\n        &lt;/Popup&gt;\n    &lt;/StackPanel&gt;\n&lt;/Page&gt;\n</code></pre>\n<p><strong>Full MainPage.xaml.cs code</strong></p>\n<pre><code>using Windows.UI.Xaml;\nusing Windows.UI.Xaml.Controls;\nusing Windows.UI.Xaml.Controls.Primitives;\n\nnamespace PopupPlay\n{\n    /// &lt;summary&gt;\n    /// An empty page that can be used on its own or navigated to within a Frame.\n    /// &lt;/summary&gt;\n    public sealed partial class MainPage : Page\n    {\n        public MainPage()\n        {\n            this.InitializeComponent();\n        }\n\n        private void Button_Click(object sender, RoutedEventArgs e)\n        {\n            _centerPopup(this.popupTest, this.popupTestBorder);\n\n            this.popupTest.IsOpen = true;\n        }\n\n        private void _centerPopup(Popup popup, Border popupBorder, FrameworkElement extraElement = null)\n        {\n            double ratio = .9; // How much of the window the popup fills, give or take. (90%)\n    \n            Panel pnl = (Panel)popup.Parent;\n            double parentHeight = pnl.ActualHeight;\n            double parentWidth = pnl.ActualWidth;\n    \n            // Min 200 for each dimension.\n            double width = parentWidth * ratio &gt; 200 ? parentWidth * ratio : 200;\n            double height = parentHeight * ratio &gt; 200 ? parentHeight * ratio : 200;\n    \n            popup.Width = width;\n            popup.Height = height;\n    \n            //popup.HorizontalAlignment = HorizontalAlignment.Center;\n            popup.VerticalAlignment = VerticalAlignment.Top;    // &lt;&lt;&lt; This is ignored?!\n    \n            // Resize the border too. Not sure how to get this &quot;for free&quot;.\n            popupBorder.Width = width;\n            popupBorder.Height = height;\n    \n            // Not using this here, but if there's anything else that needs resizing, do it.\n            if (null != extraElement)\n            {\n                extraElement.Width = width;\n                extraElement.Height = height;\n            }\n        }\n\n        private void btnClose_Click(object sender, RoutedEventArgs e)\n        {\n            this.popupTest.IsOpen = false;\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>There are several questions that seem related. I do not see a viable fix. (Note: These are not all UWP specific.)</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/13906170/center-popup-in-xaml\">Center Popup in XAML</a></li>\n<li><a href=\"https://stackoverflow.com/questions/21220262/place-popup-at-top-right-corner-of-a-window-in-xaml\">Place Popup at top right corner of a window in XAML</a></li>\n<li><a href=\"https://stackoverflow.com/questions/20286017/how-to-set-vertical-offset-for-popup-having-variable-height\">How to set vertical offset for popup having variable height</a></li>\n</ul>\n<p>Painfully, this same setup is working for me in another app when it's positioned in a much more complicated grid with a Pivot, but I see that <a href=\"https://stackoverflow.com/questions/26701190/popup-not-showing\">pivots are buggy</a>.</p>\n<p>Wpf's <code>Placement</code> stuff <a href=\"https://stackoverflow.com/questions/6170230/popup-control-verticalalignment-doesnt-catch\">sounds promising</a>, but doesn't exist in UWP-land.</p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 0, "creation_date": 1475692463, "post_id": 39881282, "comment_id": 67049430, "body": "<a href=\"http://stackoverflow.com/questions/24262172/parent-child-one-to-one-relation-same-table\">This</a> is an old question... don&#39;t know if still the case"}, {"owner": {"reputation": 1233, "user_id": 6159500, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lmIjG.png?s=128&g=1", "display_name": "Iskander Raimbaev", "link": "https://stackoverflow.com/users/6159500/iskander-raimbaev"}, "reply_to_user": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 1, "creation_date": 1475692765, "post_id": 39881282, "comment_id": 67049591, "body": "@GiladGreen, oh, I see. Does this problem still exist on EF6 or even in EF One? Consequently, the only way - to use one-to-many, am I right?"}, {"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 1, "creation_date": 1475692887, "post_id": 39881282, "comment_id": 67049660, "body": "unfortunately I don&#39;t know and don&#39;t have much experience with EF.. I came across this when looking for similar questions - That is why I also stated that it is an old post"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 1, "creation_date": 1475693320, "post_id": 39881282, "comment_id": 67049941, "body": "It&#39;s not just an EF problem - it&#39;s a database problem as well since most DBs will not let you insert to multiple tables at one time, so the &quot;first&quot; insert would violate the 1:1 restriction.  <i>That&#39;s</i> why the EF requirement that one is &quot;principal&quot; exists."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1475693853, "post_id": 39881282, "comment_id": 67050230, "body": "Reading your answer more closely, you do not have a 1:1 relationship; you have a 1:0..1 relationship that is reciprocal.  You could enforce the reciprocity either with a trigger or in your app layer"}], "answers": [{"tags": [], "owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "is_accepted": false, "score": 1, "last_activity_date": 1475694061, "last_edit_date": 1495540475, "creation_date": 1475694061, "answer_id": 39881745, "question_id": 39881282, "link": "https://stackoverflow.com/questions/39881282/one-to-one-without-principal-and-dependent-in-ef/39881745#39881745", "title": "One-to-one without principal and dependent in EF?", "body": "<p>As Gilad points out in the <a href=\"https://stackoverflow.com/questions/24262172/parent-child-one-to-one-relation-same-table\">link</a> that EF could not map one-to-one  relationship to same table. </p>\n\n<p>However, you can use the follow Code First <em>Fluent API</em> to simulate one-to-one relationship to same table. Under the hood, they behave the same way as you want.</p>\n\n<pre><code>public class Person\n{\n    public Person()\n    {\n        Dependents = new List&lt;Person&gt;();\n    }\n\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public int Spouse { get; set; }\n    public virtual ICollection&lt;Person&gt; Dependents { get; set; }\n    public virtual Person Primary { get; set; }\n}\n\npublic class PersonMap : EntityTypeConfiguration&lt;Person&gt;\n{\n    public PersonMap()\n    {            \n        HasRequired(t =&gt; t.Primary)\n            .WithMany(t =&gt; t.Dependents)\n            .HasForeignKey(d =&gt; d.Spouse);\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1233, "user_id": 6159500, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lmIjG.png?s=128&g=1", "display_name": "Iskander Raimbaev", "link": "https://stackoverflow.com/users/6159500/iskander-raimbaev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1475694061, "creation_date": 1475692204, "question_id": 39881282, "link": "https://stackoverflow.com/questions/39881282/one-to-one-without-principal-and-dependent-in-ef", "title": "One-to-one without principal and dependent in EF?", "body": "<p>In this <a href=\"http://What%20does%20principal%20end%20of%20an%20association%20means%20in%201:1%20relationship%20in%20Entity%20framework\" rel=\"nofollow\">question</a> (What does principal end of an association means in 1:1 relationship in Entity framework) the best answer says : </p>\n\n<blockquote>\n  <p>In one-to-one relation one end <strong>must be principal and second end must be dependent.</strong> Principal end is the one which will be inserted first and which can exist without the dependent one. Dependent end is the one which must be inserted after the principal because it has foreign key to the principal.</p>\n</blockquote>\n\n<p>I wonder, how can I implement one-to-one relationship in Entity Framework where there are no principal and dependent elements? \nFor example : </p>\n\n<pre><code>public class Person {\n    public int Id {get;set;}\n    public string Name {get;set;}\n    public Person Spouse {get;set;}\n}\n</code></pre>\n\n<p>Each person may or may not have another one as Spouse. If in one-to-one must sutisfy for the existence of principal and dependent elements, so, where in this Person model principal and where dependent ones? </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1475692164, "post_id": 39881252, "comment_id": 67049243, "body": "Do you have a try-catch block in your program?  What is the timeout you&#39;ve set when trying to connect?"}, {"owner": {"reputation": 13, "user_id": 6084064, "user_type": "registered", "profile_image": "https://graph.facebook.com/237261679952942/picture?type=large", "display_name": "Mean Sokleap", "link": "https://stackoverflow.com/users/6084064/mean-sokleap"}, "reply_to_user": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1475692363, "post_id": 39881252, "comment_id": 67049368, "body": "Yes I use try catch! But I don&#39;t know how to set timeout! If you know plz answer! Thank you big big"}, {"owner": {"reputation": 2047, "user_id": 1358543, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mTYXofcHm60/AAAAAAAAAAI/AAAAAAAALvY/Vtu-CRUREto/photo.jpg?sz=128", "display_name": "Andrew Mortimer", "link": "https://stackoverflow.com/users/1358543/andrew-mortimer"}, "edited": false, "score": 0, "creation_date": 1475696603, "post_id": 39881252, "comment_id": 67051786, "body": "Can you show the code you&#39;re using?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6084064, "user_type": "registered", "profile_image": "https://graph.facebook.com/237261679952942/picture?type=large", "display_name": "Mean Sokleap", "link": "https://stackoverflow.com/users/6084064/mean-sokleap"}, "edited": false, "score": 0, "creation_date": 1475693172, "post_id": 39881446, "comment_id": 67049846, "body": "Thanks you so much! I din&#39;t check connection before I select data! I&#39;ll try it"}, {"owner": {"reputation": 136, "user_id": 6878748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZCR8e.jpg?s=128&g=1", "display_name": "Left panda", "link": "https://stackoverflow.com/users/6878748/left-panda"}, "reply_to_user": {"reputation": 13, "user_id": 6084064, "user_type": "registered", "profile_image": "https://graph.facebook.com/237261679952942/picture?type=large", "display_name": "Mean Sokleap", "link": "https://stackoverflow.com/users/6084064/mean-sokleap"}, "edited": false, "score": 0, "creation_date": 1475693243, "post_id": 39881446, "comment_id": 67049891, "body": "@Mean Sokleap accept  the answer  if you like the answer =)"}], "tags": [], "owner": {"reputation": 136, "user_id": 6878748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZCR8e.jpg?s=128&g=1", "display_name": "Left panda", "link": "https://stackoverflow.com/users/6878748/left-panda"}, "is_accepted": true, "score": 0, "last_activity_date": 1475692835, "creation_date": 1475692835, "answer_id": 39881446, "question_id": 39881252, "link": "https://stackoverflow.com/questions/39881252/program-not-responding-while-connecting-to-sql-server/39881446#39881446", "title": "Program not responding while connecting to SQL Server", "body": "<p>You  basically need to check for the Open Connection First!</p>\n\n<pre><code>SqlConnection  con = new SqlConnection(Connection_string); //specify your connection string such as Server database etc ...\nif (con.State == System.Data.ConnectionState.Open)\n //statements\n</code></pre>\n\n<p>And you can make an event to Notify that the connection has been closed !</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6084064, "user_type": "registered", "profile_image": "https://graph.facebook.com/237261679952942/picture?type=large", "display_name": "Mean Sokleap", "link": "https://stackoverflow.com/users/6084064/mean-sokleap"}, "edited": false, "score": 0, "creation_date": 1475693772, "post_id": 39881536, "comment_id": 67050186, "body": "Thanks you! I&#39;ll try it."}], "tags": [], "owner": {"reputation": 447, "user_id": 3650809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/793932391de5c772f5e58cb70a395525?s=128&d=identicon&r=PG&f=1", "display_name": "dpimente", "link": "https://stackoverflow.com/users/3650809/dpimente"}, "is_accepted": false, "score": 2, "last_activity_date": 1476299166, "last_edit_date": 1476299166, "creation_date": 1475693197, "answer_id": 39881536, "question_id": 39881252, "link": "https://stackoverflow.com/questions/39881252/program-not-responding-while-connecting-to-sql-server/39881536#39881536", "title": "Program not responding while connecting to SQL Server", "body": "<p>Check the documentation for timing out <a href=\"https://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.commandtimeout(v=vs.110).aspx\" rel=\"nofollow\">MSDN</a></p>\n\n<p>Here's their example code</p>\n\n<pre><code>using System;\nusing System.Data.SqlClient;\n/// \npublic class A {\n   /// \n   public static void Main() {\n      string connectionString = \"\";\n      // Wait for 5 second delay in the command\n      string queryString = \"waitfor delay '00:00:05'\";\n      using (SqlConnection connection = new SqlConnection(connectionString)) {\n         connection.Open();\n         SqlCommand command = new SqlCommand(queryString, connection);\n         // Setting command timeout to 1 second\n         command.CommandTimeout = 1;\n         try {\n            command.ExecuteNonQuery();\n         }\n         catch (SqlException e) {\n            Console.WriteLine(\"Got expected SqlException due to command timeout \");\n            Console.WriteLine(e);\n         }\n      }\n   }\n}\n</code></pre>\n\n<p>Notice the line </p>\n\n<pre><code>command.CommandTimeout = 1;\n</code></pre>\n\n<p>Definitely wrap your sql code under the 'using' too, as it will deallocate resources automatically for you.</p>\n"}], "owner": {"reputation": 13, "user_id": 6084064, "user_type": "registered", "profile_image": "https://graph.facebook.com/237261679952942/picture?type=large", "display_name": "Mean Sokleap", "link": "https://stackoverflow.com/users/6084064/mean-sokleap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 926, "favorite_count": 0, "accepted_answer_id": 39881446, "answer_count": 2, "score": 1, "last_activity_date": 1476299166, "creation_date": 1475692087, "question_id": 39881252, "link": "https://stackoverflow.com/questions/39881252/program-not-responding-while-connecting-to-sql-server", "title": "Program not responding while connecting to SQL Server", "body": "<p>I have a problem. I'm writing window form application in c#.net and connect to SQL Server on Local Network.\nif network disconnected my program is not responding. I mean it tries to select data from sql server but network is disconnected. How to catch this error? Thanks in advance. </p>\n"}, {"tags": ["c#", "standard-library"], "answers": [{"tags": [], "owner": {"reputation": 127444, "user_id": 492405, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/SSPGk.png?s=128&g=1", "display_name": "vcsjones", "link": "https://stackoverflow.com/users/492405/vcsjones"}, "is_accepted": true, "score": 13, "last_activity_date": 1475692182, "creation_date": 1475692182, "answer_id": 39881275, "question_id": 39881195, "link": "https://stackoverflow.com/questions/39881195/netstandard-missing-type-methods-and-properties/39881275#39881275", "title": ".NetStandard: Missing Type Methods and Properties", "body": "<p>Use <a href=\"https://msdn.microsoft.com/en-us/library/system.reflection.introspectionextensions.gettypeinfo(v=vs.110).aspx\"><code>GetTypeInfo</code></a>. Then those members are available off the TypeInfo now.</p>\n\n<pre><code>var example = typeof(string).GetTypeInfo().IsClass;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7850, "user_id": 255966, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/00266ff14a605bf99cb6aed0518ad2ec?s=128&d=identicon&r=PG", "display_name": "Stef Heyenrath", "link": "https://stackoverflow.com/users/255966/stef-heyenrath"}, "is_accepted": false, "score": 2, "last_activity_date": 1515833857, "creation_date": 1515833857, "answer_id": 48238369, "question_id": 39881195, "link": "https://stackoverflow.com/questions/39881195/netstandard-missing-type-methods-and-properties/48238369#48238369", "title": ".NetStandard: Missing Type Methods and Properties", "body": "<p>Or you could use <code>ReflectionBridge</code> : <a href=\"https://www.nuget.org/packages/ReflectionBridge/\" rel=\"nofollow noreferrer\">https://www.nuget.org/packages/ReflectionBridge/</a></p>\n"}], "owner": {"reputation": 1906, "user_id": 1913051, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ff41349d4964f1d1e8edafaefbd136a6?s=128&d=identicon&r=PG", "display_name": "Soroush Falahati", "link": "https://stackoverflow.com/users/1913051/soroush-falahati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "accepted_answer_id": 39881275, "answer_count": 2, "score": 6, "last_activity_date": 1515833857, "creation_date": 1475691862, "question_id": 39881195, "link": "https://stackoverflow.com/questions/39881195/netstandard-missing-type-methods-and-properties", "title": ".NetStandard: Missing Type Methods and Properties", "body": "<p>I have a code in PCL that I want to migrate to .NetStandard. Unfortunately tho, my code is dependent on .Net reflection and I cant find some of the methods previously available. \nSo here is the list of methods or properties that I cant find under .NetStandard. Can any one point me in right direction about how to refactor my code?</p>\n\n<pre><code>Type.IsInstanceOfType()\nType.IsAssignableFrom()\nType.GetNestedTypes()\nType.GetConstructors()\nType.IsClass\nType.IsEnum\nType.IsValueType\n</code></pre>\n"}, {"tags": ["c#", ".net", "entity-framework", "ef-code-first", "entity-framework-migrations"], "comments": [{"owner": {"reputation": 2520, "user_id": 1307262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a11e97d5da4ec92d27df4c4fedde3e8d?s=128&d=identicon&r=PG&f=1", "display_name": "Red", "link": "https://stackoverflow.com/users/1307262/red"}, "edited": false, "score": 1, "creation_date": 1475691789, "post_id": 39881105, "comment_id": 67049032, "body": "Did you try adding <code>SubscaleStatisticsId</code> property to <code>SubscaleScore</code> class as error states?"}], "answers": [{"tags": [], "owner": {"reputation": 2516, "user_id": 225437, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5747066d0c0db81bc7d54faa79cd01eb?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/225437/andrew"}, "is_accepted": true, "score": 6, "last_activity_date": 1475692699, "creation_date": 1475692699, "answer_id": 39881416, "question_id": 39881105, "link": "https://stackoverflow.com/questions/39881105/foreign-key-property-not-valid-entity-framework-code-first/39881416#39881416", "title": "Foreign key property not valid? (Entity framework code first)", "body": "<p>You need to add a foreign key property to SubscaleScore.</p>\n\n<pre><code>public int SubscaleStatisticsId { get; set; }\n</code></pre>\n\n<p>see here for tutorial: <a href=\"http://www.entityframeworktutorial.net/code-first/foreignkey-dataannotations-attribute-in-code-first.aspx\" rel=\"noreferrer\">foreign keys</a></p>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 6865822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fdbee44e9fc66824008d39a8990ffc6?s=128&d=identicon&r=PG&f=1", "display_name": "Scheffer", "link": "https://stackoverflow.com/users/6865822/scheffer"}, "is_accepted": false, "score": 3, "last_activity_date": 1475693075, "creation_date": 1475693075, "answer_id": 39881508, "question_id": 39881105, "link": "https://stackoverflow.com/questions/39881105/foreign-key-property-not-valid-entity-framework-code-first/39881508#39881508", "title": "Foreign key property not valid? (Entity framework code first)", "body": "<p>the foreignkey must be a id not the object</p>\n\n<p>try something like this:</p>\n\n<pre><code>public class SubscaleScore\n{\n    public int TestId { get; set; }\n    public int Subscale { get; set; }\n    public double Score { get; set; }\n    public int SubscaleId { get; set; }\n\n    [ForeignKey(\"SubscaleStatisticsId\")]\n    public int SubscaleStatisticsId { get; set; }\n\n    public virtual SubscaleStatistics SubscaleStatistics { get; set; }\n\n}\n</code></pre>\n\n<p>do the same for all classes with foreignkey</p>\n"}], "owner": {"reputation": 169, "user_id": 3654442, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/53628688436af021c73a6f0e5305d976?s=128&d=identicon&r=PG&f=1", "display_name": "user3654442", "link": "https://stackoverflow.com/users/3654442/user3654442"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7319, "favorite_count": 1, "closed_date": 1475752779, "accepted_answer_id": 39881416, "answer_count": 2, "score": 2, "last_activity_date": 1475693075, "creation_date": 1475691504, "question_id": 39881105, "link": "https://stackoverflow.com/questions/39881105/foreign-key-property-not-valid-entity-framework-code-first", "closed_reason": "Duplicate", "title": "Foreign key property not valid? (Entity framework code first)", "body": "<p>I am using entity framework code first and added a class that has a list of classes of which the classes also have to have another list of classes but when I try to do an update to the database through migrations I get this:</p>\n\n<p>The ForeignKeyAttribute on property 'SubscaleStatistics' on type SubscaleScore' is not valid. The foreign key name 'SubscaleStatisticsId' was not found on the dependent type 'SubscaleScore'. The Name value should be a comma separated list of foreign key property names.</p>\n\n<p>Here's what my classes look like:</p>\n\n<pre><code>public class ExamStatistics : StatisticsData\n{\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public int Id { get; set; }\n    [Required]\n    public int TestId { get; set; }\n    public IList&lt;SubscaleStatistics&gt; Subscales { get; set; }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public class SubscaleStatistics\n{\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public int SubscaleStatisticsId { get; set; }\n    public int TestId { get; set; }\n    public int SubscaleNumber { get; set; }\n    public int ExamStatisticsId { get; set; }\n\n    [ForeignKey(\"ExamStatisticsId\")]\n    public virtual ExamStatistics ExamStatistics { get; set; }\n\n    public IList&lt;SubscaleScore&gt; SubscaleScores { get; set; }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public class SubscaleScore\n{\n    public int TestId { get; set; }\n    public int Subscale { get; set; }\n    public double Score { get; set; }\n    public int SubscaleId { get; set; }\n\n    [ForeignKey(\"SubscaleStatisticsId\")]\n    public virtual SubscaleStatistics SubscaleStatistics { get; set; }\n\n}\n</code></pre>\n\n<p>What am I doing wrong here? Or do I need to provide more information to get what's wrong? </p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "entity-framework", "ado.net"], "comments": [{"owner": {"reputation": 31, "user_id": 6927651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOVBK.jpg?s=128&g=1", "display_name": "Buka", "link": "https://stackoverflow.com/users/6927651/buka"}, "reply_to_user": {"reputation": 251, "user_id": 6553113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gUK7z.jpg?s=128&g=1", "display_name": "Antonio", "link": "https://stackoverflow.com/users/6553113/antonio"}, "edited": false, "score": 0, "creation_date": 1475694622, "post_id": 39881099, "comment_id": 67050667, "body": "@Antonio it not works =("}, {"owner": {"reputation": 251, "user_id": 6553113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gUK7z.jpg?s=128&g=1", "display_name": "Antonio", "link": "https://stackoverflow.com/users/6553113/antonio"}, "edited": false, "score": 0, "creation_date": 1475697987, "post_id": 39881099, "comment_id": 67052521, "body": "and if you change    public List&lt;Audio&gt; Audios { get; set; }  to public ICollection&lt;Audio&gt; Audios {get;set;} and the same in ICollection&lt;User&gt;Users {get;set;}?? and to update db.Entry(user).CurrentValues.SetValues(usermodified);"}, {"owner": {"reputation": 31, "user_id": 6927651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOVBK.jpg?s=128&g=1", "display_name": "Buka", "link": "https://stackoverflow.com/users/6927651/buka"}, "reply_to_user": {"reputation": 251, "user_id": 6553113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gUK7z.jpg?s=128&g=1", "display_name": "Antonio", "link": "https://stackoverflow.com/users/6553113/antonio"}, "edited": false, "score": 0, "creation_date": 1475698736, "post_id": 39881099, "comment_id": 67052933, "body": "@Antonio Anyway I think that problem in same audios, because if I delete them, all works correctly"}, {"owner": {"reputation": 2440, "user_id": 5695185, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t9YoS.jpg?s=128&g=1", "display_name": "Anil  Panwar", "link": "https://stackoverflow.com/users/5695185/anil-panwar"}, "edited": false, "score": 0, "creation_date": 1475735758, "post_id": 39881099, "comment_id": 67064306, "body": "After every     db.Users.AddOrUpdate(); use   db.SaveChanges();"}, {"owner": {"reputation": 31, "user_id": 6927651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOVBK.jpg?s=128&g=1", "display_name": "Buka", "link": "https://stackoverflow.com/users/6927651/buka"}, "reply_to_user": {"reputation": 2440, "user_id": 5695185, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t9YoS.jpg?s=128&g=1", "display_name": "Anil  Panwar", "link": "https://stackoverflow.com/users/5695185/anil-panwar"}, "edited": false, "score": 0, "creation_date": 1475759494, "post_id": 39881099, "comment_id": 67079548, "body": "@AnilPanwar not work ("}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 6927651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOVBK.jpg?s=128&g=1", "display_name": "Buka", "link": "https://stackoverflow.com/users/6927651/buka"}, "is_accepted": false, "score": 0, "last_activity_date": 1475760279, "creation_date": 1475760279, "answer_id": 39897270, "question_id": 39881099, "link": "https://stackoverflow.com/questions/39881099/entity-framework-many-to-many-relationship-add-update/39897270#39897270", "title": "Entity Framework many to many relationship add/update", "body": "<p>Unfortunately I see only one way to solve this. It is adding entities independently and then adding relations: </p>\n\n<pre><code>var userAudios = new List&lt;Audio&gt;();\n// Key userId\n// Value list of audiosIds\nvar userAudiosRelations = new List&lt;Relation&gt;();\nforeach (var user in users)\n{\n\n    foreach (var audio in user.Audios)\n    {\n        if (!userAudios.Any(x =&gt; x.Id == audio.Id))\n        {\n            userAudios.Add(audio);\n        }\n        userAudiosRelations.Add(new Relation\n        {\n            User_Id = user.Id,\n            Audio_Id = audio.Id\n        });\n    }\n    user.Audios = null;\n    db.Users.AddOrUpdate(user);\n}\nforeach (var audio in userAudios)\n{\n    db.Audios.AddOrUpdate(audio);\n}\ndb.SaveChanges();\n\nvar existingRelations = db.Database.SqlQuery&lt;Relation&gt;(\"SELECT * FROM dbo.UserAudios\").ToList();\nvar relationsToAdd =\n    userAudiosRelations.Where(\n        x =&gt; existingRelations.All(y =&gt; x.User_Id != y.User_Id || x.Audio_Id != y.Audio_Id)).ToList();\n\nforeach (var relation in relationsToAdd)\n{\n    db.Database.ExecuteSqlCommand(\"INSERT INTO dbo.UserAudios (User_Id, Audio_Id) VALUES (@p0, @p1)\",\n        relation.User_Id, relation.Audio_Id);\n}\n</code></pre>\n\n<p>Where relation model:</p>\n\n<pre><code>public class Relation\n{\n    public int User_Id { get; set; }\n    public int Audio_Id { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6927651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOVBK.jpg?s=128&g=1", "display_name": "Buka", "link": "https://stackoverflow.com/users/6927651/buka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1475760279, "creation_date": 1475691487, "last_edit_date": 1475695229, "question_id": 39881099, "link": "https://stackoverflow.com/questions/39881099/entity-framework-many-to-many-relationship-add-update", "title": "Entity Framework many to many relationship add/update", "body": "<p>I have two entities, and when I update or add only one all is ok</p>\n\n<pre><code>        db.Entry(user1).State = EntityState.Modified;\n        foreach (var userAudio in user1.Audios)\n        {\n            db.Audios.AddOrUpdate(userAudio);\n        }\n        db.Users.AddOrUpdate(user1);\n        db.SaveChanges();\n</code></pre>\n\n<p>But if I try add/update few entities:</p>\n\n<pre><code>        db.Entry(user1).State = EntityState.Modified;\n        foreach (var userAudio in user1.Audios)\n        {\n            db.Audios.AddOrUpdate(userAudio);\n        }\n        db.Users.AddOrUpdate(user1);\n        db.Entry(user2).State = EntityState.Modified;\n        foreach (var userAudio in user2.Audios)\n        {\n            db.Audios.AddOrUpdate(userAudio);\n        }\n        db.Users.AddOrUpdate(user2);\n        db.SaveChanges();\n</code></pre>\n\n<p>It is throwing exception:</p>\n\n<blockquote>\n  <p>Attaching an entity of type 'EfTest.Entities.Audio' failed because\n  another entity of the same type already has the same primary key\n  value...</p>\n</blockquote>\n\n<p>Maybe it is because I have same audios in user1 and user2, and EF can't insert them...Anyone have ideas how to get round this? thanks!</p>\n\n<p><strong>Entities</strong></p>\n\n<pre><code>namespace EfTest.Entities\n{\n    public class User\n    {\n        [Key]\n        [DatabaseGenerated(DatabaseGeneratedOption.None)]\n        public int Id { get; set; }\n        public string Name { get; set; }\n        public int Age { get; set; }\n        public List&lt;Audio&gt; Audios { get; set; }\n    }\n    public class Audio\n    {\n        [Key]\n        [DatabaseGenerated(DatabaseGeneratedOption.None)]\n        public int Id { get; set; }\n        public string Artist { get; set; }\n        public string Title { get; set; }\n        public List&lt;User&gt; Users { get; set; }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "boolean"], "answers": [{"comments": [{"owner": {"reputation": 308, "user_id": 6889510, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/36395c7d21cbca6bbc3d7e4708b3f938?s=128&d=identicon&r=PG&f=1", "display_name": "Nyprez", "link": "https://stackoverflow.com/users/6889510/nyprez"}, "edited": false, "score": 1, "creation_date": 1475691926, "post_id": 39881117, "comment_id": 67049117, "body": "Oh I forgot to mention, I don&#39;t use ViewModel inside that view. The model I use doesn&#39;t have bool property. That&#39;s why I tried to solve it by borrow a ViewModel via <code>var liked = new Test.ViewModel.LikeViewModel {LikeDislike = true};</code>. Is there any way around it?"}, {"owner": {"reputation": 8772, "user_id": 41713, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ksuyd.jpg?s=128&g=1", "display_name": "jle", "link": "https://stackoverflow.com/users/41713/jle"}, "reply_to_user": {"reputation": 308, "user_id": 6889510, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/36395c7d21cbca6bbc3d7e4708b3f938?s=128&d=identicon&r=PG&f=1", "display_name": "Nyprez", "link": "https://stackoverflow.com/users/6889510/nyprez"}, "edited": false, "score": 1, "creation_date": 1475692248, "post_id": 39881117, "comment_id": 67049287, "body": "I&#39;m confused by what you mean by borrowed. Also, I don&#39;t recommend using HTTPGet (which is what you are doing) to do an action such as like/dislike. You should make a form and post such a value. Otherwise, a web crawler or automated tool could follow your link and &#39;like&#39; things without meaning to."}], "tags": [], "owner": {"reputation": 8772, "user_id": 41713, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ksuyd.jpg?s=128&g=1", "display_name": "jle", "link": "https://stackoverflow.com/users/41713/jle"}, "is_accepted": true, "score": 3, "last_activity_date": 1475691572, "creation_date": 1475691572, "answer_id": 39881117, "question_id": 39881056, "link": "https://stackoverflow.com/questions/39881056/how-to-pass-bool-value-inside-actionlink-from-view-to-controll/39881117#39881117", "title": "How to pass bool value inside ActionLink (from view to controll)?", "body": "<p>You need to name the parameter you are passing so that it matches your controller action:</p>\n\n<pre><code>@Html.ActionLink(\"Like!\", \"Like\", new { id = Model.Id,getBool= passBool}\n</code></pre>\n"}], "owner": {"reputation": 308, "user_id": 6889510, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/36395c7d21cbca6bbc3d7e4708b3f938?s=128&d=identicon&r=PG&f=1", "display_name": "Nyprez", "link": "https://stackoverflow.com/users/6889510/nyprez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1576, "favorite_count": 0, "accepted_answer_id": 39881117, "answer_count": 1, "score": 1, "last_activity_date": 1475691623, "creation_date": 1475691320, "last_edit_date": 1475691607, "question_id": 39881056, "link": "https://stackoverflow.com/questions/39881056/how-to-pass-bool-value-inside-actionlink-from-view-to-controll", "title": "How to pass bool value inside ActionLink (from view to controll)?", "body": "<p>I've to pass a bool inside -> <code>\"@Html.ActionLink(\" \", \"Like\", new { id = Model.Id @*, Pass bool value here *@}\".</code> </p>\n\n<p>My method Like signature takes a <code>Guid Id</code> and a <code>bool</code> in parameter.</p>\n\n<p>I tried with with following:</p>\n\n<pre><code>   bool passBool = true;\n   @Html.ActionLink(\"Like!\", \"Like\", new { id = Model.Id, passBool}\n   @Html.ActionLink(\"Disike!\", \"Like\", new { id = Model.Id, passBool = false}\n</code></pre>\n\n<p>But I receive it as null. </p>\n\n<pre><code> public ActionResult Like(Guid id, bool? getBool) //gets null error without '?'\n        {\n            if (getBool == true){    \n\n                return Content(\"Liked!\");\n\n            }else if (getBool == false){    \n\n                return Content(\"Disiked!\");\n            }\n</code></pre>\n\n<p>I also tried to fix it trough a view model without success:</p>\n\n<pre><code>var liked = new Test.ViewModel.LikeViewModel {LikeDislike = true};\n\n @Html.ActionLink(\"Like!\", \"Like\", new { id = Model.Id, liked}\n</code></pre>\n\n<p>But it doesn't work since these bool values are still null when I pass them. Any idea how to pass a bool value from view to controller?</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1475691563, "post_id": 39881028, "comment_id": 67048901, "body": "&quot;this passes the coerced value to the control but the actual underlying data is not changed&quot;: Can you point to the underlying data in some example code? Do you mean the viewmodel property value?"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 1, "creation_date": 1475692135, "post_id": 39881028, "comment_id": 67049226, "body": "Validating in the property setter is definitely wrong, because it may not even be called. WPF may bypass the setter and call SetValue directly, e.g. when the property is set by a Binding."}, {"owner": {"reputation": 31, "user_id": 6236967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a0c5b6cde0d1b1c74c51eb01ebaa6ee?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Peters", "link": "https://stackoverflow.com/users/6236967/tom-peters"}, "edited": false, "score": 0, "creation_date": 1475692136, "post_id": 39881028, "comment_id": 67049229, "body": "Hi Ed, I&#39; may be able to cobble some code together at some point tomorrow. essentially, the app devs were creating a Model class, which had a Max, Min and Value. The ViewModel had Max, MIn and Value properties, in the accessories they were accessing the properties on a Model instance, and the View was binding Max, Min and Value of the control to the ViewModel properties."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1475692398, "post_id": 39881028, "comment_id": 67049386, "body": "@TomPeters Is one of those the one you call &quot;underlying value&quot;?"}, {"owner": {"reputation": 31, "user_id": 6236967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a0c5b6cde0d1b1c74c51eb01ebaa6ee?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Peters", "link": "https://stackoverflow.com/users/6236967/tom-peters"}, "edited": false, "score": 0, "creation_date": 1475693304, "post_id": 39881028, "comment_id": 67049928, "body": "I think the app devs are using the Model instance of the value eg: Model mod = new Model(). The the ViewModel property is accessing mod.Value"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1475693580, "post_id": 39881028, "comment_id": 67050087, "body": "@TomPeters It sounds like you&#39;re hinting that &quot;underlying value&quot; means the value that&#39;s bound to the control property."}, {"owner": {"reputation": 31, "user_id": 6236967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a0c5b6cde0d1b1c74c51eb01ebaa6ee?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Peters", "link": "https://stackoverflow.com/users/6236967/tom-peters"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1475694300, "post_id": 39881028, "comment_id": 67050509, "body": "@EdPlunkett Yeah I think so, sorry I am not being more explicit, I don&#39;t work on apps so my MVVM knowledge is limited"}], "owner": {"reputation": 31, "user_id": 6236967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a0c5b6cde0d1b1c74c51eb01ebaa6ee?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Peters", "link": "https://stackoverflow.com/users/6236967/tom-peters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475691229, "creation_date": 1475691229, "question_id": 39881028, "link": "https://stackoverflow.com/questions/39881028/how-should-dependancy-property-values-be-validated-on-wpf-custom-controls", "title": "How should dependancy property values be validated on WPF custom controls?", "body": "<p>I am fairly new to professional development, working in a team that develops custom controls in WPF for use in applications. We recently had a bug report that on our Numeric Up Down the value can briefly exceed the maximum before it is validated and set to the maximum. We use CoerceCallbacks as validation for the values, and as we have found out, this passes the coerced value to the control but the actual underlying data is not changed. This meant that the app developers developed their own NumericUpDown where the validation used a similar method to a CoercedCallBack, but they performed the validation in the SetValue for the dependency property, using a custom SetValue method.</p>\n\n<p>We are basically wondering if there is stronger validation that can be performed, or if CoerceCallBacks are correct. The method of validating in the SetValue for the property does not seem like a good solution.</p>\n\n<p>Any help is appreciated, thanks.</p>\n"}, {"tags": ["c#", "web-config", "elmah", "elmah.mvc"], "comments": [{"owner": {"reputation": 10723, "user_id": 18938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad36aea9ff5e233ea939e212bfc466b?s=128&d=identicon&r=PG", "display_name": "Eric King", "link": "https://stackoverflow.com/users/18938/eric-king"}, "edited": false, "score": 0, "creation_date": 1475709871, "post_id": 39881016, "comment_id": 67057069, "body": "What is your authentication mode set to in web.config?"}, {"owner": {"reputation": 4546, "user_id": 4826740, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh6.googleusercontent.com/-glGA4SJVlJc/AAAAAAAAAAI/AAAAAAAAABQ/brllIAjE7tA/photo.jpg?sz=128", "display_name": "maxshuty", "link": "https://stackoverflow.com/users/4826740/maxshuty"}, "reply_to_user": {"reputation": 10723, "user_id": 18938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad36aea9ff5e233ea939e212bfc466b?s=128&d=identicon&r=PG", "display_name": "Eric King", "link": "https://stackoverflow.com/users/18938/eric-king"}, "edited": false, "score": 0, "creation_date": 1475854735, "post_id": 39881016, "comment_id": 67125727, "body": "@EricKing <code>&lt;authentication mode=&quot;None&quot; &#47;&gt;</code> I&#39;ve played around with the different settings there but haven&#39;t figured anything out"}, {"owner": {"reputation": 10723, "user_id": 18938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad36aea9ff5e233ea939e212bfc466b?s=128&d=identicon&r=PG", "display_name": "Eric King", "link": "https://stackoverflow.com/users/18938/eric-king"}, "edited": false, "score": 1, "creation_date": 1475859120, "post_id": 39881016, "comment_id": 67128229, "body": "With no authentication set, the authorization won&#39;t be able to allow or deny users or roles, since all of your requests will be anonymous."}, {"owner": {"reputation": 4546, "user_id": 4826740, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh6.googleusercontent.com/-glGA4SJVlJc/AAAAAAAAAAI/AAAAAAAAABQ/brllIAjE7tA/photo.jpg?sz=128", "display_name": "maxshuty", "link": "https://stackoverflow.com/users/4826740/maxshuty"}, "reply_to_user": {"reputation": 10723, "user_id": 18938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad36aea9ff5e233ea939e212bfc466b?s=128&d=identicon&r=PG", "display_name": "Eric King", "link": "https://stackoverflow.com/users/18938/eric-king"}, "edited": false, "score": 0, "creation_date": 1476197612, "post_id": 39881016, "comment_id": 67239076, "body": "@EricKing Interesting, I was reading through the different authentication modes, but none of them seem relevant to what I&#39;m trying to do."}, {"owner": {"reputation": 10723, "user_id": 18938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad36aea9ff5e233ea939e212bfc466b?s=128&d=identicon&r=PG", "display_name": "Eric King", "link": "https://stackoverflow.com/users/18938/eric-king"}, "edited": false, "score": 0, "creation_date": 1476203265, "post_id": 39881016, "comment_id": 67242775, "body": "Well, you have to authenticate somehow, or else how can you distinguish one visitor (user) from another, and assign them roles? You say there is an &#39;admin&#39; user... How does that user log in?"}, {"owner": {"reputation": 4546, "user_id": 4826740, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh6.googleusercontent.com/-glGA4SJVlJc/AAAAAAAAAAI/AAAAAAAAABQ/brllIAjE7tA/photo.jpg?sz=128", "display_name": "maxshuty", "link": "https://stackoverflow.com/users/4826740/maxshuty"}, "reply_to_user": {"reputation": 10723, "user_id": 18938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad36aea9ff5e233ea939e212bfc466b?s=128&d=identicon&r=PG", "display_name": "Eric King", "link": "https://stackoverflow.com/users/18938/eric-king"}, "edited": false, "score": 0, "creation_date": 1476206535, "post_id": 39881016, "comment_id": 67244647, "body": "@EricKing I&#39;m using built in Identity"}, {"owner": {"reputation": 10723, "user_id": 18938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad36aea9ff5e233ea939e212bfc466b?s=128&d=identicon&r=PG", "display_name": "Eric King", "link": "https://stackoverflow.com/users/18938/eric-king"}, "edited": false, "score": 0, "creation_date": 1476297201, "post_id": 39881016, "comment_id": 67289745, "body": "Have you changed the elmah.mvc.requiresAuthentication setting to true? What works for me is setting that value to true, and setting the elmah.mvc.allowedUsers value to a specific user. I don&#39;t even have a &#39;location&#39; block like you have."}, {"owner": {"reputation": 4546, "user_id": 4826740, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh6.googleusercontent.com/-glGA4SJVlJc/AAAAAAAAAAI/AAAAAAAAABQ/brllIAjE7tA/photo.jpg?sz=128", "display_name": "maxshuty", "link": "https://stackoverflow.com/users/4826740/maxshuty"}, "reply_to_user": {"reputation": 10723, "user_id": 18938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad36aea9ff5e233ea939e212bfc466b?s=128&d=identicon&r=PG", "display_name": "Eric King", "link": "https://stackoverflow.com/users/18938/eric-king"}, "edited": false, "score": 0, "creation_date": 1476297396, "post_id": 39881016, "comment_id": 67289856, "body": "@EricKing I&#39;ll give that a shot and update here when I&#39;m done. Thanks"}], "owner": {"reputation": 4546, "user_id": 4826740, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh6.googleusercontent.com/-glGA4SJVlJc/AAAAAAAAAAI/AAAAAAAAABQ/brllIAjE7tA/photo.jpg?sz=128", "display_name": "maxshuty", "link": "https://stackoverflow.com/users/4826740/maxshuty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 318, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475855231, "creation_date": 1475691178, "last_edit_date": 1495535652, "question_id": 39881016, "link": "https://stackoverflow.com/questions/39881016/elmah-is-letting-anyone-access-the-error-logs-even-with-the-authorization-attri", "title": "Elmah is letting anyone access the error logs, even with the authorization attribute", "body": "<p>I've recently implemented Elmah error logging. I've created a SQL Server db where the errors are being logged and all is good. I've been trying to secure Elmah so that <em>only</em> the <code>Admin</code> role is allowed to access <code>example.com/elmah</code>. Right now anyone is able to access it.</p>\n\n<p>I have ran through several SO posts, and other blogs online like <a href=\"https://code.google.com/p/elmah/wiki/SecuringErrorLogPages\" rel=\"nofollow noreferrer\">this</a>, <a href=\"https://www.stormconsultancy.co.uk/blog/development/tools-plugins/allowing-secure-remote-access-to-your-elmah-error-log/\" rel=\"nofollow noreferrer\">this</a>, and <a href=\"https://stackoverflow.com/questions/14481506/configuring-custom-authorization-with-elmah\">this</a> and I still have not been able to resolve my issue.</p>\n\n<p>This is how I currently have in Elmah setup in my <code>Web.Config</code>:</p>\n\n<pre><code> &lt;appSettings&gt;\n    &lt;add key=\"elmah.mvc.disableHandler\" value=\"false\" /&gt;\n    &lt;add key=\"elmah.mvc.disableHandleErrorFilter\" value=\"false\" /&gt;\n    &lt;add key=\"elmah.mvc.requiresAuthentication\" value=\"false\" /&gt;\n    &lt;add key=\"elmah.mvc.IgnoreDefaultRoute\" value=\"false\" /&gt;\n    &lt;add key=\"elmah.mvc.allowedRoles\" value=\"*\" /&gt;\n    &lt;add key=\"elmah.mvc.allowedUsers\" value=\"*\" /&gt;\n    &lt;add key=\"elmah.mvc.route\" value=\"elmah\" /&gt;\n    &lt;add key=\"elmah.mvc.UserAuthCaseSensitive\" value=\"true\" /&gt;\n  &lt;/appSettings&gt;\n\n &lt;system.web&gt;\n    &lt;authentication mode=\"None\" /&gt;\n    &lt;httpModules&gt;\n      &lt;add name=\"ErrorLog\" type=\"Elmah.ErrorLogModule, Elmah\" /&gt;\n      &lt;add name=\"ErrorMail\" type=\"Elmah.ErrorMailModule, Elmah\" /&gt;\n      &lt;add name=\"ErrorFilter\" type=\"Elmah.ErrorFilterModule, Elmah\" /&gt;\n    &lt;/httpModules&gt;\n  &lt;/system.web&gt;\n\n&lt;system.webServer&gt;\n    &lt;modules&gt;\n      &lt;add name=\"ErrorLog\" type=\"Elmah.ErrorLogModule, Elmah\" preCondition=\"managedHandler\" /&gt;\n      &lt;add name=\"ErrorMail\" type=\"Elmah.ErrorMailModule, Elmah\" preCondition=\"managedHandler\" /&gt;\n      &lt;add name=\"ErrorFilter\" type=\"Elmah.ErrorFilterModule, Elmah\" preCondition=\"managedHandler\" /&gt;\n    &lt;/modules&gt;\n    &lt;validation validateIntegratedModeConfiguration=\"false\" /&gt;\n  &lt;/system.webServer&gt;\n\n  &lt;elmah&gt;\n    &lt;errorLog type=\"Elmah.SqlErrorLog, Elmah\" connectionStringName=\"elmah\" applicationName=\"MyApplication\"/&gt;\n    &lt;security allowRemoteAccess=\"yes\" /&gt;\n  &lt;/elmah&gt;\n\n  &lt;location path=\"elmah.axd\"&gt;\n    &lt;system.web&gt;\n      &lt;httpHandlers&gt;\n        &lt;add verb=\"POST,GET,HEAD\"\n             path=\"elmah.axd\"\n             type=\"Elmah.ErrorLogPageFactory, Elmah\" /&gt;\n      &lt;/httpHandlers&gt;\n      &lt;authorization&gt;\n        &lt;allow roles=\"Admin\"/&gt;\n        &lt;deny users=\"*\" /&gt;\n      &lt;/authorization&gt;\n    &lt;/system.web&gt;\n    &lt;system.webServer&gt;\n      &lt;handlers&gt;\n        &lt;add name=\"ELMAH\"\n             verb=\"POST,GET,HEAD\"\n             path=\"elmah.axd\"\n             type=\"Elmah.ErrorLogPageFactory, Elmah\"\n             preCondition=\"integratedMode\" /&gt;\n      &lt;/handlers&gt;\n    &lt;/system.webServer&gt;\n  &lt;/location&gt;\n</code></pre>\n\n<p>I have tried playing around with it. Here is what I have tried thus far with no luck:</p>\n\n<p>In <code>&lt;appSettings&gt;</code> I've tried changing the <code>value</code> to <code>Admin</code> like this <code>&lt;add key=\"elmah.mvc.allowedRoles\" value=\"Admin\" /&gt;</code> and then I commented out the next line (<code>allowUsers</code>). That did not work.</p>\n\n<p>In <code>&lt;authorization&gt;</code> I have tried changing it to this to see if it would at least deny <em>everyone</em>, which didn't work:</p>\n\n<pre><code>  &lt;authorization&gt;\n    &lt;deny users=\"*\" /&gt;\n  &lt;/authorization&gt;\n</code></pre>\n\n<p>So then I tried changing the <code>&lt;allow roles=\"Admin\"/&gt;</code> to <code>&lt;allow users=\"admin\"&gt;</code> and that didn't work either. The <code>Admin</code> role exists, and the <code>admin</code> user also exists.</p>\n\n<p>Until I find a solution to this, I have just set <code>&lt;security allowRemoteAccess=\"yes\" /&gt;</code> to <code>&lt;security allowRemoteAccess=\"no\" /&gt;</code></p>\n\n<p>Sorry for the long post, I just want to make sure everything has been included.</p>\n\n<p>I would appreciate any and all help with getting this locked down. :)</p>\n"}, {"tags": ["c#", "json", "json.net", "deserialization", "json-deserialization"], "comments": [{"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1475691284, "post_id": 39881003, "comment_id": 67048756, "body": "Just use <a href=\"http://json2csharp.com/\" rel=\"nofollow noreferrer\">json2csharp.com</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5264, "user_id": 953496, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c4d8f39591139d6e0702459139c69cc6?s=128&d=identicon&r=PG", "display_name": "Demodave", "link": "https://stackoverflow.com/users/953496/demodave"}, "edited": false, "score": 0, "creation_date": 1475693248, "post_id": 39881273, "comment_id": 67049894, "body": "You can see that inneritems  is an array of an array. Not just an array"}], "tags": [], "owner": {"reputation": 1341, "user_id": 1922352, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/4xw5y.jpg?s=128&g=1", "display_name": "Vikas Sardana", "link": "https://stackoverflow.com/users/1922352/vikas-sardana"}, "is_accepted": false, "score": 0, "last_activity_date": 1475692176, "creation_date": 1475692176, "answer_id": 39881273, "question_id": 39881003, "link": "https://stackoverflow.com/questions/39881003/how-to-deserialize-an-array-of-an-array-of-objects-using-newtonsoft/39881273#39881273", "title": "How to deserialize an array of an array of objects using Newtonsoft", "body": "<p>Try this    </p>\n\n<pre><code>public class Inneritem\n{\n    public String itemid { get; set; }\n}\n\npublic class Outeritem\n{\n    public List&lt;Inneritem&gt; inneritems { get; set; }\n}\n\npublic class RootValue\n{\n    public List&lt;Outeritem&gt; outeritems { get; set; }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "is_accepted": false, "score": 1, "last_activity_date": 1475695629, "last_edit_date": 1475695629, "creation_date": 1475694661, "answer_id": 39881891, "question_id": 39881003, "link": "https://stackoverflow.com/questions/39881003/how-to-deserialize-an-array-of-an-array-of-objects-using-newtonsoft/39881891#39881891", "title": "How to deserialize an array of an array of objects using Newtonsoft", "body": "<p>Actually vikas is close in anwering your question. </p>\n\n<pre><code>public class Outeritem\n    {\n        public List&lt;List&lt;object&gt;&gt; inneritems { get; set; }\n    }\n\n    public class RootValue\n    {\n        public List&lt;Outeritem&gt; outeritems { get; set; }\n    }\n\n    [TestMethod]\n    public void SerializeAndDeserializeTest()\n    {\n        var expected = \"{\\\"outeritems\\\":[{\\\"inneritems\\\":[[{\\\"itemid\\\":\\\"1\\\"},{\\\"itemid\\\":\\\"2\\\"}]]}]}\";\n        var rootValue = new RootValue\n        {\n            outeritems = new List&lt;Outeritem&gt;\n            {\n                new Outeritem\n                {\n                    inneritems = new List&lt;List&lt;object&gt;&gt; {\n                        new List&lt;object&gt; { new {itemid = \"1\"},new {itemid = \"2\"} }\n                    }\n                }\n            }\n        };\n\n        var actual = JsonConvert.SerializeObject(rootValue);\n        Assert.AreEqual(expected, actual);\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1341, "user_id": 1922352, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/4xw5y.jpg?s=128&g=1", "display_name": "Vikas Sardana", "link": "https://stackoverflow.com/users/1922352/vikas-sardana"}, "edited": false, "score": 0, "creation_date": 1475772279, "post_id": 39884303, "comment_id": 67088402, "body": "this can be easily achieved my using the answer suggested by @sam , slightly change in JSON you have to rewrite the whole converter"}, {"owner": {"reputation": 5264, "user_id": 953496, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c4d8f39591139d6e0702459139c69cc6?s=128&d=identicon&r=PG", "display_name": "Demodave", "link": "https://stackoverflow.com/users/953496/demodave"}, "reply_to_user": {"reputation": 1341, "user_id": 1922352, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/4xw5y.jpg?s=128&g=1", "display_name": "Vikas Sardana", "link": "https://stackoverflow.com/users/1922352/vikas-sardana"}, "edited": false, "score": 0, "creation_date": 1475852740, "post_id": 39884303, "comment_id": 67124435, "body": "the suggestion by sam wouldn&#39;t work as I need it mapped to strong inneritems type and not object"}], "tags": [], "owner": {"reputation": 5264, "user_id": 953496, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c4d8f39591139d6e0702459139c69cc6?s=128&d=identicon&r=PG", "display_name": "Demodave", "link": "https://stackoverflow.com/users/953496/demodave"}, "is_accepted": true, "score": -2, "last_activity_date": 1475704407, "creation_date": 1475704407, "answer_id": 39884303, "question_id": 39881003, "link": "https://stackoverflow.com/questions/39881003/how-to-deserialize-an-array-of-an-array-of-objects-using-newtonsoft/39884303#39884303", "title": "How to deserialize an array of an array of objects using Newtonsoft", "body": "<h2>I had to create a custom Newtonsoft JSON Converter</h2>\n\n<p>This is what I did.</p>\n\n<h2>Created A JsonCreationConverter Base Class</h2>\n\n<pre><code>public abstract class JsonCreationConverter&lt;T&gt; : JsonConverter\n{        \n    protected abstract T Create(Type objectType, JObject jObject);\n\n    public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n    {\n        throw new NotImplementedException(\"Unnecessary because CanWrite is false. The type will skip the converter.\");\n    }\n\n    public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)\n    {\n        if (reader.TokenType == JsonToken.Null)\n            return null;\n\n        JObject jObject = JObject.Load(reader);           \n\n        T target = Create(objectType, jObject);\n\n        // Populate the object properties\n        serializer.Populate(jObject.CreateReader(), target);\n\n        return target;\n    }\n\n    public override bool CanConvert(Type objectType)\n    {\n        return typeof(T).IsAssignableFrom(objectType);\n    }\n\n    public override bool CanWrite\n    {\n        get { return false; }\n    }\n}\n</code></pre>\n\n<h2>Created A Costume Converter that inherited my base class</h2>\n\n<pre><code>public class OuterConverter :\n        JsonCreationConverter&lt;OuterItems&gt;\n{\n        protected override OuterItems Create(Type objectType, JObject jObject)\n        {\n            OuterItems outeritems =\n                new OuterItems();\n\n            var properties = jObject.Properties().ToList();\n            outeritems.InnerItems = GetInnerItems((object)properties[0].Value);\n\n            return outeritems;\n        }\n\n        // Need to iterate through list so creating a custom object\n        private List&lt;List&lt;InnerItems&gt;&gt; GetInnerItems(object propertyValue)\n        {\n\n            string sinneritems = \"\";\n            object inneritems = propertyValue;\n            sinneritems = String.Format(\"{0}\", inneritems);\n\n            sinneritems = sinneritems.Insert(1, \"{ \\\"Items\\\": [\");\n            sinneritems = sinneritems.Substring(1, sinneritems.Length - 1);\n            sinneritems = sinneritems.Remove(sinneritems.Length - 1);\n\n            sinneritems += \"]}\";\n\n            dynamic results = JObject.Parse(sinneritems);\n\n            List&lt;List&lt;InnerItems&gt;&gt; innerItemsList = new List&lt;List&lt;InnerItems&gt;&gt;();\n\n            List&lt;InnerItems&gt; linnerItems = new List&lt;InnerItems&gt;();\n\n            foreach (var items in results.Items)\n            {\n                foreach (var item in items)\n                {\n                    string sItem = String.Format(\"{0}\", item);\n                    InnerItems ninneritems = Newtonsoft.Json.JsonConvert.DeserializeObject&lt;InnerItems&gt;(sItem);\n                    linnerItems.Add(ninneritems);\n                }\n                innerItemsList.Add(linnerItems);\n            }\n\n            return innerItemsList;\n        }\n}\n</code></pre>\n\n<h2>Append the New Converter on the Newtonsoft Deserializer</h2>\n\n<pre><code>return Newtonsoft.Json.JsonConvert.DeserializeObject&lt;T&gt;(result.ToString(),\n             new OuterConverter());\n</code></pre>\n"}], "owner": {"reputation": 5264, "user_id": 953496, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c4d8f39591139d6e0702459139c69cc6?s=128&d=identicon&r=PG", "display_name": "Demodave", "link": "https://stackoverflow.com/users/953496/demodave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 39884303, "answer_count": 3, "score": 1, "last_activity_date": 1475704407, "creation_date": 1475691132, "last_edit_date": 1475693413, "question_id": 39881003, "link": "https://stackoverflow.com/questions/39881003/how-to-deserialize-an-array-of-an-array-of-objects-using-newtonsoft", "title": "How to deserialize an array of an array of objects using Newtonsoft", "body": "<p>I am trying to deserialize an Object like this.\nMy issue is that it is blowing up trying to deserialize the inner items.</p>\n\n<pre><code>{\n    \"outeritems\": [{        \n        \"inneritems\": [\n            [{\n                \"itemid\": \"1\"                \n            }, {\n                \"itemid\": \"2\"                \n            }]\n        ]\n    }]    \n}\n</code></pre>\n\n<p>I have already tried </p>\n\n<pre><code>public List&lt;List&lt;inneritems&gt;&gt; inneritems{ get; set; }\n</code></pre>\n\n<p>also</p>\n\n<pre><code>public List&lt;inneritems&gt; inneritems{ get; set; }\n</code></pre>\n\n<p>I'm thinking this might have to have a custom JSON converter</p>\n"}, {"tags": ["javascript", "c#", "jquery", "json", "ajax"], "answers": [{"tags": [], "owner": {"reputation": 387, "user_id": 2052524, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9a27f6e90e0363a28e6d92c5c317bdcf?s=128&d=identicon&r=PG", "display_name": "bmurrell30", "link": "https://stackoverflow.com/users/2052524/bmurrell30"}, "is_accepted": true, "score": 0, "last_activity_date": 1475759979, "creation_date": 1475759979, "answer_id": 39897156, "question_id": 39880945, "link": "https://stackoverflow.com/questions/39880945/ajax-json-call-throws-clientscriptmanager-registerforeventvalidation-error-how/39897156#39897156", "title": "ajax json call throws ClientScriptManager.RegisterForEventValidation error; how to register?", "body": "<p>Found a solution, for anyone who may stumble across this in the distant future:</p>\n\n<p>So the situation with my code was that I was using mostly HTML objects, with ASP.NET server controls for those few instances where I was dealing with the server, even though those server controls were triggering client-side code at runtime. I did this because I are noobsauce.</p>\n\n<p>I was already using client-side AJAX calls to contact the server for my data, so I cleared out the clever-clogs server controls (my offending drop down list, and the Ajax UpdatePanel in toto) and replaced them with HTML objects. I kept the .aspx page that contains my code, because I needed the code-behind to store the web methods being called by client-side script, and I left my web methods and ajax code alone, because the didn't need to be changed, and the error went away on the first try.</p>\n\n<p>I go away somewhat embarrassed, but wiser for it.</p>\n"}], "owner": {"reputation": 387, "user_id": 2052524, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9a27f6e90e0363a28e6d92c5c317bdcf?s=128&d=identicon&r=PG", "display_name": "bmurrell30", "link": "https://stackoverflow.com/users/2052524/bmurrell30"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 39897156, "answer_count": 1, "score": 0, "last_activity_date": 1475759979, "creation_date": 1475690978, "question_id": 39880945, "link": "https://stackoverflow.com/questions/39880945/ajax-json-call-throws-clientscriptmanager-registerforeventvalidation-error-how", "title": "ajax json call throws ClientScriptManager.RegisterForEventValidation error; how to register?", "body": "<p>I've been researching this like crazy, but I can't find a way to to get this error from triggering. I'm hoping someone here can help me.</p>\n\n<p>I have a drop down list object on my page that I'm creating as a server control, but which I'm dealing with entirely client-side at run time. The reason why I'm using a server control at all is because I need it to trigger an AJAX updatepanel elsewhere on my page. Anyway, this dropdown list starts blank, but gets populated with options by some jquery code based on user input. Up to this point there's no problem, but when the user makes a selection from this dropdown, I get the ClientScriptManager error. Selecting from this dropdown triggers an ajax json call to get data from the server.</p>\n\n<p>I'm registering all my client-side script files (including the one that contains the offending json call) with ClientScriptManager.RegisterClientScriptInclude. Registering the dropdown itself with RegisterforEventValidation doesn't work, because the dropdown has no options at load time.</p>\n\n<p>The application works in spite of this, but the error is defeating some enhancements I want to make, so I need to put this to rest. You can see the application (and view the error in your browser's debugging console) at <a href=\"https://www.heritagecutter.com/MillingCalc/\" rel=\"nofollow\">https://www.heritagecutter.com/MillingCalc/</a>; the dropdown your looking for is the one headed \"Series\", which will become active after you make selections in Material Group and Material Type above. The error appears after you select a series.</p>\n\n<p>Thanks in advance for any guidance.</p>\n"}, {"tags": ["c#", ".net", "regex"], "comments": [{"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1475690984, "post_id": 39880928, "comment_id": 67048599, "body": "Can you be more precise what your special characters are?"}, {"owner": {"reputation": 32807, "user_id": 196919, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/iqMS0.png?s=128&g=1", "display_name": "DmitryBoyko", "link": "https://stackoverflow.com/users/196919/dmitryboyko"}, "reply_to_user": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1475691022, "post_id": 39880928, "comment_id": 67048621, "body": "@vitaly-t They are   ; = ?"}, {"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 1, "creation_date": 1475691110, "post_id": 39880928, "comment_id": 67048675, "body": "You miss a single backslash . <code>@&quot;;\\d+=\\d+\\?</code> ....."}], "answers": [{"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 4, "last_activity_date": 1475691083, "creation_date": 1475691083, "answer_id": 39880988, "question_id": 39880928, "link": "https://stackoverflow.com/questions/39880928/regex-to-detect-numbers-only-between-special-characters/39880988#39880988", "title": "Regex to detect numbers only between special characters", "body": "<p>The <code>\\d+?</code> at the end of the pattern matches 1 digit, no more, due to the <code>+?</code> <em>lazy quantifier</em> matching 1 or more occurrences, but <em>as few as necessary to return a valid match</em>.</p>\n\n<p>You may use</p>\n\n<pre><code>;\\d+=\\d+\\?\n        ^^\n</code></pre>\n\n<p>C# declaration:</p>\n\n<pre><code>string pattern = @\";\\d+=\\d+\\?\";\n</code></pre>\n\n<p>See the <a href=\"http://regexstorm.net/tester?p=%3b%5cd%2b%3d%5cd%2b%5c%3f&amp;i=0014%3b5010730101000033347%3d4510120173%3fAA\" rel=\"nofollow noreferrer\">regex demo</a></p>\n\n<p><strong>Details</strong>:</p>\n\n<ul>\n<li><code>;</code> - a semi-colon</li>\n<li><code>\\d+</code>  - 1 or more digits</li>\n<li><code>=</code> - an equal sign</li>\n<li><code>\\d+</code> - 1 or more digits</li>\n<li><code>\\?</code> - <strong>a literal <code>?</code> char</strong></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/MoDxF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MoDxF.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 32807, "user_id": 196919, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/iqMS0.png?s=128&g=1", "display_name": "DmitryBoyko", "link": "https://stackoverflow.com/users/196919/dmitryboyko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 39880988, "answer_count": 1, "score": 2, "last_activity_date": 1475691358, "creation_date": 1475690885, "last_edit_date": 1475691358, "question_id": 39880928, "link": "https://stackoverflow.com/questions/39880928/regex-to-detect-numbers-only-between-special-characters", "title": "Regex to detect numbers only between special characters", "body": "<p>I need Regex to detect numbers only between special characters.</p>\n\n<p>Pattern  <code>;\\d+=\\d+?</code></p>\n\n<p>String <code>0014;5010730101000033347=4510120173?AA</code></p>\n\n<p>My objective is to get this string </p>\n\n<pre><code>;5010730101000033347=4510120173?\n</code></pre>\n"}, {"tags": ["c#", "uwp", "bing-maps", "uwp-maps"], "comments": [{"owner": {"reputation": 14788, "user_id": 1762944, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4911cf5fe6ebc2fde9d2a3346098956c?s=128&d=identicon&r=PG", "display_name": "Afzaal Ahmad Zeeshan", "link": "https://stackoverflow.com/users/1762944/afzaal-ahmad-zeeshan"}, "edited": false, "score": 0, "creation_date": 1475691013, "post_id": 39880914, "comment_id": 67048614, "body": "Maybe the name of the city or the location is in Cyrillic characters, why do you want to change it?"}, {"owner": {"reputation": 161, "user_id": 6380116, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/13c7b97eab923f8ec9619e8ad32bd2e0?s=128&d=identicon&r=PG&f=1", "display_name": "tixovoxi", "link": "https://stackoverflow.com/users/6380116/tixovoxi"}, "reply_to_user": {"reputation": 14788, "user_id": 1762944, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4911cf5fe6ebc2fde9d2a3346098956c?s=128&d=identicon&r=PG", "display_name": "Afzaal Ahmad Zeeshan", "link": "https://stackoverflow.com/users/1762944/afzaal-ahmad-zeeshan"}, "edited": false, "score": 0, "creation_date": 1475691230, "post_id": 39880914, "comment_id": 67048734, "body": "Becouse I use the map in Hungary and there are no Cyrillic characters in any hungarian city name. :D It just display every name in the system language."}], "answers": [{"tags": [], "owner": {"reputation": 14820, "user_id": 5506161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iLSYt.jpg?s=128&g=1", "display_name": "Jay Zuo", "link": "https://stackoverflow.com/users/5506161/jay-zuo"}, "is_accepted": true, "score": 1, "last_activity_date": 1475832709, "creation_date": 1475832709, "answer_id": 39913986, "question_id": 39880914, "link": "https://stackoverflow.com/questions/39880914/how-to-get-localized-maplocation-in-uwp/39913986#39913986", "title": "How to get localized MapLocation in UWP?", "body": "<p><a href=\"https://msdn.microsoft.com/library/windows/apps/dn636928\" rel=\"nofollow\">MapLocationFinder.FindLocationsAtAsync</a> method does not provide a mechanism to specify the language used in the returned address now. It always automatically uses the Windows display language. And in most cases, the <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/windows.services.maps.mapaddress.street\" rel=\"nofollow\">Street</a> and <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/windows.services.maps.mapaddress.town\" rel=\"nofollow\">Town</a> are localized to its local culture. For example, if you request a location in France, the street names are localized in French.</p>\n\n<p>As a workaround, we can use <a href=\"https://msdn.microsoft.com/en-us/library/ff701713.aspx\" rel=\"nofollow\">Bing Maps REST Services</a> which provides REST APIs that can specify <a href=\"https://msdn.microsoft.com/en-us/library/ff701709.aspx\" rel=\"nofollow\">Culture Parameter</a>. For <code>FindLocationsAtAsync</code> method, we can use <a href=\"https://msdn.microsoft.com/en-us/library/ff701710.aspx\" rel=\"nofollow\">Find a Location by Point</a> like following:</p>\n\n<pre><code>http://dev.virtualearth.net/REST/v1/Locations/47.64054,-122.12934?c=en-US&amp;key=BingMapsKey\n</code></pre>\n\n<p>Also, you are welcome to submit a feature request on <a href=\"https://wpdev.uservoice.com/forums/110705-universal-windows-platform\" rel=\"nofollow\"><strong>WPDev User Voice</strong></a> to ask for this feature.</p>\n"}], "owner": {"reputation": 161, "user_id": 6380116, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/13c7b97eab923f8ec9619e8ad32bd2e0?s=128&d=identicon&r=PG&f=1", "display_name": "tixovoxi", "link": "https://stackoverflow.com/users/6380116/tixovoxi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 39913986, "answer_count": 1, "score": 1, "last_activity_date": 1476217486, "creation_date": 1475690852, "last_edit_date": 1476217486, "question_id": 39880914, "link": "https://stackoverflow.com/questions/39880914/how-to-get-localized-maplocation-in-uwp", "title": "How to get localized MapLocation in UWP?", "body": "<p>I'm using a simple method that returns map location for me, but I would like to get that address in english only.</p>\n\n<pre><code>public static async Task&lt;MapLocation&gt; ResolveLocationForGeopoint(Geopoint geopoint)\n{\n    MapLocationFinderResult result = await MapLocationFinder.FindLocationsAtAsync(geopoint);\n\n    if (result.Status == MapLocationFinderStatus.Success)\n    {\n        if (result.Locations.Count != 0)\n            // Check if the result is really valid\n            if (result.Locations[0].Address.Town != \"\")\n                return result.Locations[0];\n    }\n    return null;\n}\n</code></pre>\n\n<p>My problem is: When my windows language is russian it returns cirillic characters. </p>\n\n<p>I have tried to override the application language:</p>\n\n<pre><code>ApplicationLanguages.PrimaryLanguageOverride = \"en\";\n</code></pre>\n\n<p>But it seems it doesn't works... </p>\n\n<p>How could i get the localized string from this method? </p>\n"}, {"tags": ["c#", ".net", "entity-framework"], "comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1475691274, "post_id": 39880879, "comment_id": 67048750, "body": "The above looks ok (only <code>ForeignKey</code> attribute on the <code>FieldMaps</code> collection is redundant). EF6 or EF Core?"}, {"owner": {"reputation": 1147, "user_id": 1691808, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GDHk4.jpg?s=128&g=1", "display_name": "mrb398", "link": "https://stackoverflow.com/users/1691808/mrb398"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1475691910, "post_id": 39880879, "comment_id": 67049108, "body": "This is using EF6"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1475692645, "post_id": 39880879, "comment_id": 67049534, "body": "Can&#39;t reproduce with the above model. Everything works as expected."}, {"owner": {"reputation": 1147, "user_id": 1691808, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GDHk4.jpg?s=128&g=1", "display_name": "mrb398", "link": "https://stackoverflow.com/users/1691808/mrb398"}, "edited": false, "score": 0, "creation_date": 1475695369, "post_id": 39880879, "comment_id": 67051101, "body": "The problem becomes obvious once FieldMap contains records with different WorkformIds. service.Workform.FieldMaps pulls all the FieldMap records, not just the related ones"}, {"owner": {"reputation": 2520, "user_id": 1307262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a11e97d5da4ec92d27df4c4fedde3e8d?s=128&d=identicon&r=PG&f=1", "display_name": "Red", "link": "https://stackoverflow.com/users/1307262/red"}, "edited": false, "score": 0, "creation_date": 1475696615, "post_id": 39880879, "comment_id": 67051796, "body": "@user1691808 how does it happen? If you map your entities correctly, this should never happen. Can you provide entity mappings for those entities and scenario, when your problem with pulling all FieldMap entities happen?"}], "owner": {"reputation": 1147, "user_id": 1691808, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GDHk4.jpg?s=128&g=1", "display_name": "mrb398", "link": "https://stackoverflow.com/users/1691808/mrb398"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475692003, "creation_date": 1475690713, "last_edit_date": 1475692003, "question_id": 39880879, "link": "https://stackoverflow.com/questions/39880879/entityframework-navigation-property-not-working-as-expected", "title": "EntityFramework navigation property not working as expected", "body": "<p>I have the following 3 (simplified) classes setup in entity framework</p>\n\n<pre><code>public class Service\n{\n    [Key]\n    public int ServiceId { get; set; }\n    public int WorkformId { get; set; }\n\n    [ForeignKey(\"WorkformId\")]\n    public virtual Workform Workform { get; set; }\n}\n\n\npublic class Workform\n{\n    [Key]\n    public int WorkformId { get; set; }\n\n    [ForeignKey(\"WorkformId\")]\n    public virtual ICollection&lt;FieldMap&gt; FieldMaps { get; set; }\n }\n\n\npublic class FieldMap\n{\n    [Key]\n    public int FieldMapId{ get; set; }\n    public int WorkformId{ get; set; }\n }\n</code></pre>\n\n<p>And if I try to do something like this</p>\n\n<pre><code>var service = db.Services.Include(\"Workform.FieldMaps\")\n                .FirstOrDefault(p =&gt; p.ServiceId == serviceId);\n</code></pre>\n\n<p>service.Workform.FieldMaps is pulling the entire collection, not just the records with the matching relational id.</p>\n\n<p>Am I missing some here? </p>\n"}, {"tags": ["c#", "vb.net", "pdf", "httpwebrequest", "webclient"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1475691688, "post_id": 39880876, "comment_id": 67048976, "body": "Try this :  StreamWriter fstr = new StreamWriter(strFileSaveFileandPath, true, Encoding.UTF8);"}, {"owner": {"reputation": 41, "user_id": 4617602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fad3aa1b9af45438c4c96bd33199d769?s=128&d=identicon&r=PG&f=1", "display_name": "A Kay", "link": "https://stackoverflow.com/users/4617602/a-kay"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1475698858, "post_id": 39880876, "comment_id": 67052992, "body": "I tried this one also, not helped me,one thing I noticed now that the URL path which i am request to download the PDF is also redirected to other path...means the downloaded file is not PDF at all its html , I can open it by change extension from PDF to html. Hope this make some help to suggest"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1475701828, "post_id": 39880876, "comment_id": 67054416, "body": "Yes you can save with any extension you want."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4617602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fad3aa1b9af45438c4c96bd33199d769?s=128&d=identicon&r=PG&f=1", "display_name": "A Kay", "link": "https://stackoverflow.com/users/4617602/a-kay"}, "edited": false, "score": 0, "creation_date": 1475698582, "post_id": 39882044, "comment_id": 67052846, "body": "I already done that by increasing size but it didn&#39;t help me. One more thing ...the file I downloaded have PDF extension but when I change the extension to html than it shows that it is not PDF at all....may be this is due to PDF URL that is redirected to some other path or real PDF path.....which is unable to read by these method can you just tell me how to read that real path of PDF."}, {"owner": {"reputation": 2853, "user_id": 6682181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWWHj.png?s=128&g=1", "display_name": "haindl", "link": "https://stackoverflow.com/users/6682181/haindl"}, "reply_to_user": {"reputation": 41, "user_id": 4617602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fad3aa1b9af45438c4c96bd33199d769?s=128&d=identicon&r=PG&f=1", "display_name": "A Kay", "link": "https://stackoverflow.com/users/4617602/a-kay"}, "edited": false, "score": 0, "creation_date": 1475699925, "post_id": 39882044, "comment_id": 67053564, "body": "@AKay What is the file size of the corrupted PDF? And what do the contents look like? Is it a readable HTML page? And if it is a public file: Can you post the URL to the PDF you are trying to download?"}, {"owner": {"reputation": 41, "user_id": 4617602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fad3aa1b9af45438c4c96bd33199d769?s=128&d=identicon&r=PG&f=1", "display_name": "A Kay", "link": "https://stackoverflow.com/users/4617602/a-kay"}, "edited": false, "score": 0, "creation_date": 1475700169, "post_id": 39882044, "comment_id": 67053681, "body": "Yes it&#39;s a readable html ...size is larger than the one I just save with browser Adobe PDF manually...URL is a intranet one will not open outside....URL got .PDF extension at the end if it"}, {"owner": {"reputation": 2853, "user_id": 6682181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWWHj.png?s=128&g=1", "display_name": "haindl", "link": "https://stackoverflow.com/users/6682181/haindl"}, "reply_to_user": {"reputation": 41, "user_id": 4617602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fad3aa1b9af45438c4c96bd33199d769?s=128&d=identicon&r=PG&f=1", "display_name": "A Kay", "link": "https://stackoverflow.com/users/4617602/a-kay"}, "edited": false, "score": 0, "creation_date": 1475700550, "post_id": 39882044, "comment_id": 67053868, "body": "@AKay If you view the HTML in a browser, what essential information does it contain? Does it mention an HTTP status code of 3xx, 4xx or 5xx?"}, {"owner": {"reputation": 2853, "user_id": 6682181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWWHj.png?s=128&g=1", "display_name": "haindl", "link": "https://stackoverflow.com/users/6682181/haindl"}, "reply_to_user": {"reputation": 41, "user_id": 4617602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fad3aa1b9af45438c4c96bd33199d769?s=128&d=identicon&r=PG&f=1", "display_name": "A Kay", "link": "https://stackoverflow.com/users/4617602/a-kay"}, "edited": false, "score": 0, "creation_date": 1475701612, "post_id": 39882044, "comment_id": 67054338, "body": "@AKay You can also compare the HTTP request of your browser with that of your code using <a href=\"http://www.telerik.com/fiddler\" rel=\"nofollow noreferrer\">Fiddler</a>. There you can see all HTTP redirects and status codes. What are the differences of the two requests?"}, {"owner": {"reputation": 41, "user_id": 4617602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fad3aa1b9af45438c4c96bd33199d769?s=128&d=identicon&r=PG&f=1", "display_name": "A Kay", "link": "https://stackoverflow.com/users/4617602/a-kay"}, "edited": false, "score": 0, "creation_date": 1475726845, "post_id": 39882044, "comment_id": 67061151, "body": "Page contains the html of home page of that URL... don&#39;t know how. Just tell me only this ....is it necessary to pass real PDF path to download the PDF"}, {"owner": {"reputation": 41, "user_id": 4617602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fad3aa1b9af45438c4c96bd33199d769?s=128&d=identicon&r=PG&f=1", "display_name": "A Kay", "link": "https://stackoverflow.com/users/4617602/a-kay"}, "edited": false, "score": 0, "creation_date": 1475726982, "post_id": 39882044, "comment_id": 67061188, "body": "And how to find that path if one have PDF URL available to download but it is redirecting you..... using any method web client/httprequest/urldownloadtofile/etc"}], "tags": [], "owner": {"reputation": 2853, "user_id": 6682181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWWHj.png?s=128&g=1", "display_name": "haindl", "link": "https://stackoverflow.com/users/6682181/haindl"}, "is_accepted": false, "score": 1, "last_activity_date": 1475695195, "creation_date": 1475695195, "answer_id": 39882044, "question_id": 39880876, "link": "https://stackoverflow.com/questions/39880876/pdf-corrupted-while-downloading-from-url-vb-net-c/39882044#39882044", "title": "pdf corrupted while downloading from URL VB.net/C#", "body": "<p>Your code only writes 100000 bytes of the downloaded PDF and hence every PDF that is bigger than 100000 bytes gets corrupted.</p>\n\n<p>To read more bytes you have to write the contents of every buffer to the FileStream.</p>\n\n<p>The following should do it:</p>\n\n<pre><code>HttpWebRequest wr = (HttpWebRequest)WebRequest.Create(strURLFileandPath);\nusing (HttpWebResponse ws = (HttpWebResponse)wr.GetResponse())\nusing (Stream str = ws.GetResponseStream())\nusing (FileStream fstr = new FileStream(strFileSaveFileandPath, FileMode.OpenOrCreate, FileAccess.Write))\n{\n    byte[] inBuf = new byte[100000];\n    int bytesRead = 0;\n    while ((bytesRead = str.Read(inBuf, 0, inBuf.Length)) &gt; 0)\n        fstr.Write(inBuf, 0, bytesRead);\n}\n</code></pre>\n\n<p>(It's good coding practice to use a <code>using</code> on every <code>IDisposable</code> instead of manually closing the streams.)</p>\n"}], "owner": {"reputation": 41, "user_id": 4617602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fad3aa1b9af45438c4c96bd33199d769?s=128&d=identicon&r=PG&f=1", "display_name": "A Kay", "link": "https://stackoverflow.com/users/4617602/a-kay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 885, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1475695195, "creation_date": 1475690709, "question_id": 39880876, "link": "https://stackoverflow.com/questions/39880876/pdf-corrupted-while-downloading-from-url-vb-net-c", "title": "pdf corrupted while downloading from URL VB.net/C#", "body": "<p>Problem still there while i tried below three methods.</p>\n\n<ol>\n<li>Using Window API \"URLDownloadToFile\"</li>\n<li>WebClient Method\nwebclient.DownloadFile(url,dest) ''With/Without credientials</li>\n<li>HTTP WebRequest Method:</li>\n</ol>\n\n<p>public static void Download(String strURLFileandPath, String strFileSaveFileandPath)  </p>\n\n<pre><code>    {   \n        HttpWebRequest wr = (HttpWebRequest)WebRequest.Create(strURLFileandPath);   \n        HttpWebResponse ws = (HttpWebResponse)wr.GetResponse();   \n        Stream str = ws.GetResponseStream();   \n        byte[] inBuf = new byte[100000];   \n        int bytesToRead = (int) inBuf.Length;   \n        int bytesRead = 0;   \n        while (bytesToRead &gt; 0)    \n        {   \n            int n = str.Read(inBuf, bytesRead,bytesToRead);   \n            if (n==0)   \n            break;   \n            bytesRead += n;   \n            bytesToRead -= n;   \n        }   \n        FileStream fstr = new FileStream(strFileSaveFileandPath, FileMode.OpenOrCreate, FileAccess.Write);   \n        fstr.Write(inBuf, 0, bytesRead);   \n        str.Close();   \n        fstr.Close();   \n    }  \n</code></pre>\n\n<p>Still i m facing the problem, file i am able to download at my local system, but when i open that it show Corrupt pdf.\n!!!!I just want to download the pdf from URL and thats my query in VB.net/C# not using response method of ASP.net.\nPlease help if someone face this real problem.</p>\n\n<p>Thanks in Advance!!!</p>\n"}, {"tags": ["c#", "winforms", "modal-dialog", "click"], "comments": [{"owner": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "edited": false, "score": 0, "creation_date": 1475967630, "post_id": 39880811, "comment_id": 67158100, "body": "Does the customer maybe use Citrix, Remote Desktop, Hyper-V or some other form of remote access to the desktop? Painting the partly opaque form might take some time in this case."}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1476112969, "post_id": 39880811, "comment_id": 67202920, "body": "Is this typcial behaviour for other applications as well? Do you see any difference for modal dialogs without the whiteLayerForm? What are the differences between the client&#39;s hardware/software and the developer&#39;s hardware/software? Compare the OS, 32/64 bit, processor, installed .NET framework, multple screens. You say a lot of other customers in that environment, but not all? Are there specific actions (network, database) in the closing or dispose event? I think the best thing to do is to add logging to a file and follow the events (with timer) to determine where the delay(s) occur."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1476131484, "post_id": 39880811, "comment_id": 67212436, "body": "I would start reducing the potential causes by first eliminating the <code>WhiteLayerForm</code> (for instance putting <code>return;</code> at the beginning of the <code>CreateWhiteLayerForm</code> method) and see what happens."}, {"owner": {"reputation": 271, "user_id": 1821499, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/e132ca25117d852fba8dc4803afff26a?s=128&d=identicon&r=PG", "display_name": "user1821499", "link": "https://stackoverflow.com/users/1821499/user1821499"}, "edited": false, "score": 0, "creation_date": 1476138876, "post_id": 39880811, "comment_id": 67215239, "body": "Yes, we have suppressed showing of white layer form and sent to customer to verify if its better since we can reproduce it in our environment. Waiting for customer response. Can anti virus program like McAfee slow these things or block things? Or any specific software we can check for?"}, {"owner": {"reputation": 894, "user_id": 2051159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a84ff255bf4e6c07b816d83001f7fb30?s=128&d=identicon&r=PG", "display_name": "Enfyve", "link": "https://stackoverflow.com/users/2051159/enfyve"}, "edited": false, "score": 0, "creation_date": 1476286506, "post_id": 39880811, "comment_id": 67283084, "body": "If the issue occurs when pressing either button, the problem lies in whatever code is run when the dialog is being disposed. Have you tried having a  log generated with the time it takes to complete certain actions once the OK/Cancel button has been clicked?"}, {"owner": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "edited": false, "score": 0, "creation_date": 1476327239, "post_id": 39880811, "comment_id": 67300946, "body": "What I would do is create the white layer form from a custom derived Form, so you can override ShowWithoutActivation as described here: <a href=\"http://stackoverflow.com/a/10764646/403671\">stackoverflow.com/a/10764646/403671</a>  this would ensure this layer is really passive/inert. Difficult to say more w/o any reproduction code."}], "answers": [{"tags": [], "owner": {"reputation": 199, "user_id": 7007325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nVgd1.jpg?s=128&g=1", "display_name": "olk", "link": "https://stackoverflow.com/users/7007325/olk"}, "is_accepted": false, "score": 0, "last_activity_date": 1476409358, "creation_date": 1476409358, "answer_id": 40033651, "question_id": 39880811, "link": "https://stackoverflow.com/questions/39880811/modal-dialog-button-clicks-wont-respond-for-long-time/40033651#40033651", "title": "Modal dialog button clicks won&#39;t respond for long time", "body": "<p>The reason could be in some other application, that indiscriminately and incorrectly set hooks on window objects of other applications. </p>\n\n<p>I saw the same situation on workstation with Punto Switcher installed. Try to get rid of keyboard switchers, in-tray dictionaries, debug tools, key loggers and do not forget viruses :).</p>\n"}, {"tags": [], "owner": {"reputation": 287, "user_id": 3262423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea8d66f4d574c73479ac36937366d14a?s=128&d=identicon&r=PG&f=1", "display_name": "42shadow42", "link": "https://stackoverflow.com/users/3262423/42shadow42"}, "is_accepted": false, "score": 0, "last_activity_date": 1476468786, "creation_date": 1476468786, "answer_id": 40049603, "question_id": 39880811, "link": "https://stackoverflow.com/questions/39880811/modal-dialog-button-clicks-wont-respond-for-long-time/40049603#40049603", "title": "Modal dialog button clicks won&#39;t respond for long time", "body": "<h2>Graphics Variables</h2>\n\n<p>Despite using the same code, graphics rendering will take varying lengths of time depending on the machine running and rendering the application, you cannot assume that any section of graphics code will run optimally on all devices.</p>\n\n<p>Therefore this code is highly suspect, and should be able to reproduce it by asking detailed questions about the deployed environments graphics systems.</p>\n\n<pre><code>private void CreateWhiteLayerForm()\n{\n    whiteLayerForm = new Form();\n\n    int titleHeight = SystemInformation.CaptionHeight;\n    int borderHeight = SystemInformation.FrameBorderSize.Height;\n    int borderWidth = SystemInformation.FrameBorderSize.Width;\n\n    // The white layer should not cover the title bar\n    whiteLayerForm.Size = new System.Drawing.Size(Global.MainForm.Size.Width, Global.MainForm.Size.Height - titleHeight);\n    whiteLayerForm.Location = new System.Drawing.Point(Global.MainForm.Location.X , Global.MainForm.Location.Y + borderHeight + titleHeight);\n    whiteLayerForm.StartPosition = FormStartPosition.Manual;\n\n    whiteLayerForm.AutoScaleMode = AutoScaleMode.None;\n    whiteLayerForm.ShowInTaskbar = false;\n\n    whiteLayerForm.FormBorderStyle = System.Windows.Forms.FormBorderStyle.None;\n    whiteLayerForm.BackColor = System.Drawing.Color.White;\n    whiteLayerForm.Opacity = 0.5;\n}\n</code></pre>\n\n<p>You should be able to restore responsiveness to users action like clicks by moving any calls to this and other similar methods to a background thread.</p>\n"}], "owner": {"reputation": 271, "user_id": 1821499, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/e132ca25117d852fba8dc4803afff26a?s=128&d=identicon&r=PG", "display_name": "user1821499", "link": "https://stackoverflow.com/users/1821499/user1821499"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 262, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1476468786, "creation_date": 1475690491, "question_id": 39880811, "link": "https://stackoverflow.com/questions/39880811/modal-dialog-button-clicks-wont-respond-for-long-time", "title": "Modal dialog button clicks won&#39;t respond for long time", "body": "<p>We have a weird customer issue which can not be reproduced through development environment. We see it happening on customer environment but no way we can reproduce it in any other environment we have. This makes it hard to solve the issue and that is why I need some help.</p>\n\n<p>The issue is, whenever there is a modal dialog with \"OK\" / \"Cancel\" buttons and when user clicks on any of those it takes lot of time for that dialog to respond and disappear. The second time same dialog is shown the clicks respond bit faster.\nWe observed this mainly for modal dialog and not for non modal dialog.</p>\n\n<p>one special thing we do before showing modal dialog is we create a new form which sits between Main Form and modal dialog. This new form is created to give blur effect to clearly indicate that you have to take some action on modal dialog before you can go back to main form. This was done for UI effect and here is the code for that,</p>\n\n<pre><code>private void BaseModalForm_Load(object sender, EventArgs e)\n{\n  // Some dialogs are not modal (For example Options Dialog ), still derived   from BaseModalForm .. Give the blur effect only when its a modal dialog.\n  if (this.Modal)\n  {\n      Global.ModalDialogCount += 1;\n      if (Global.MainForm != null &amp;&amp; !Global.MainForm.IsDisposed)\n      {\n          // Create the white layer which would be rendered on top of the Main Window once the modal dialog appears, to give prominence to the modal dialog\n          // Show the white layer only when first modal dialog is shown\n        if (Global.MainForm.Visible &amp;&amp; Global.ModalDialogCount == 1)\n        {\n          CreateWhiteLayerForm();\n          whiteLayerForm.Show(Global.MainForm);\n          whiteLayerForm.Enabled = false;\n         }\n      }\n  }\n}\n\nprivate void CreateWhiteLayerForm()\n{\n    whiteLayerForm = new Form();\n\n    int titleHeight = SystemInformation.CaptionHeight;\n    int borderHeight = SystemInformation.FrameBorderSize.Height;\n    int borderWidth = SystemInformation.FrameBorderSize.Width;\n\n    // The white layer should not cover the title bar\n    whiteLayerForm.Size = new System.Drawing.Size(Global.MainForm.Size.Width, Global.MainForm.Size.Height - titleHeight);\n    whiteLayerForm.Location = new System.Drawing.Point(Global.MainForm.Location.X , Global.MainForm.Location.Y + borderHeight + titleHeight);\n    whiteLayerForm.StartPosition = FormStartPosition.Manual;\n\n    whiteLayerForm.AutoScaleMode = AutoScaleMode.None;\n    whiteLayerForm.ShowInTaskbar = false;\n\n    whiteLayerForm.FormBorderStyle = System.Windows.Forms.FormBorderStyle.None;\n    whiteLayerForm.BackColor = System.Drawing.Color.White;\n    whiteLayerForm.Opacity = 0.5;\n}\n\nprivate void BaseModalForm_FormClosed(object sender, FormClosedEventArgs e)\n{\n    if(whiteLayerForm != null)\n        whiteLayerForm.Dispose();\n    if(this.Modal)\n      Global.ModalDialogCount -= 1;\n}\n</code></pre>\n\n<p>This code always worked until we got this weird issue at customer environment. I am suspecting this might cause the clicks not to respond.</p>\n\n<p>But it may be wrong. Is it possible that some anti virus program on customer environment blocks the click? This issue is happening to lot of people in that environment.   </p>\n\n<p>Can there be any other reason? Has anyone come across this anytime? Any help is appreciated. Let me know if you need any other details. </p>\n"}, {"tags": ["c#", "postgresql", "enums", "dapper", "dapper-fastcrud"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 6836926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffee655783650f2983a2b1c4024b5fc3?s=128&d=identicon&r=PG&f=1", "display_name": "Abir", "link": "https://stackoverflow.com/users/6836926/abir"}, "edited": false, "score": 0, "creation_date": 1475790850, "post_id": 39901559, "comment_id": 67097827, "body": "I think it&#39;s the converse problem. The error message suggests that Npgsql sees an <code>integer</code> whereas it expects a <code>targettype</code>. The enum <code>targettype</code> is defined in the postgres database. I feel I need to inform Dapper/Npgsql that <code>sample.TargetType</code> is of type <code>targettype</code>. Does that make sense?"}, {"owner": {"reputation": 87, "user_id": 6894017, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b216feaa6281a3d9a2c69ed235fc3bf1?s=128&d=identicon&r=PG&f=1", "display_name": "David Ulvmoen", "link": "https://stackoverflow.com/users/6894017/david-ulvmoen"}, "reply_to_user": {"reputation": 63, "user_id": 6836926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffee655783650f2983a2b1c4024b5fc3?s=128&d=identicon&r=PG&f=1", "display_name": "Abir", "link": "https://stackoverflow.com/users/6836926/abir"}, "edited": false, "score": 0, "creation_date": 1475924941, "post_id": 39901559, "comment_id": 67145554, "body": "<a href=\"http://www.npgsql.org/doc/enums_and_composites.html\" rel=\"nofollow noreferrer\">npgsql.org/doc/enums_and_composites.html</a> NpgsqlConnection.MapEnumGlobally&lt;TargetType&gt;();  However take a look at dapper contrib, if you can use postgre without annoying mapping (possible on sql server)."}], "tags": [], "owner": {"reputation": 87, "user_id": 6894017, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b216feaa6281a3d9a2c69ed235fc3bf1?s=128&d=identicon&r=PG&f=1", "display_name": "David Ulvmoen", "link": "https://stackoverflow.com/users/6894017/david-ulvmoen"}, "is_accepted": false, "score": 0, "last_activity_date": 1475772489, "creation_date": 1475772489, "answer_id": 39901559, "question_id": 39880743, "link": "https://stackoverflow.com/questions/39880743/how-to-map-c-enum-to-postgresql-enum-using-dapper-fastcrud/39901559#39901559", "title": "How to map C# enum to PostgreSQL enum using Dapper.FastCRUD?", "body": "<p>You probably have to convert TargetType to a integer.</p>\n\n<p>Untested but something like:</p>\n\n<pre><code>Get \n{\n    return (int)this.TargetType;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19839, "user_id": 3279, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/3fbc237a51acf024e65ae4da233f58e2?s=128&d=identicon&r=PG", "display_name": "Ben Collins", "link": "https://stackoverflow.com/users/3279/ben-collins"}, "is_accepted": false, "score": 0, "last_activity_date": 1554999214, "last_edit_date": 1554999214, "creation_date": 1554935442, "answer_id": 55622164, "question_id": 39880743, "link": "https://stackoverflow.com/questions/39880743/how-to-map-c-enum-to-postgresql-enum-using-dapper-fastcrud/55622164#55622164", "title": "How to map C# enum to PostgreSQL enum using Dapper.FastCRUD?", "body": "<p>I've been faced with this same problem today, and my conclusion is that Dapper currently simply doesn't support this.  What you'd want to do is register a custom type handler with <code>SqlMapper</code> like this:</p>\n\n<pre><code>public class DbClass\n{\n  static DbClass()\n  {\n    SqlMapper.AddTypeHandler(new MyPostgresEnumTypeHandler());\n  }\n\n  class MyPostgresEnumTypeHandler : SqlMapper.TypeHandler&lt;MyPostgresEnum&gt;\n  {\n    public override MyPostgresEnum Parse(object value)\n    {\n      switch (value)\n      {\n        case int i: return (MyPostgresEnum)i;\n        case string s: return (MyPostgresEnum)Enum.Parse(typeof(MyPostgresEnum),s);\n        default: throw new NotSupportedException($\"{value} not a valid MyPostgresEnum value\");\n      }\n    }\n\n    public override void SetValue(IDbDataParameter parameter, MyPostgresEnum value)\n    {\n      parameter.DbType = (DbType)NpgsqlDbType.Unknown;\n      // assuming the enum case names match the ones defined in Postgres\n      parameter.Value = Enum.GetName(typeof(MyPostgresEnum), (int)value).ToString().ToLowerInvariant(); \n    }\n  }\n}\n</code></pre>\n\n<p>Unfortunately, this doesn't work because Dapper ignores custom type handlers for Enums, specifically.  See <a href=\"https://github.com/StackExchange/Dapper/issues/259\" rel=\"nofollow noreferrer\">https://github.com/StackExchange/Dapper/issues/259</a> for details.</p>\n\n<p>My approach while waiting to see if this issue is ever dealt with is going to be to write <code>NpgsqlCommand</code> queries directly when dealing with these kinds of enums.</p>\n"}], "owner": {"reputation": 63, "user_id": 6836926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffee655783650f2983a2b1c4024b5fc3?s=128&d=identicon&r=PG&f=1", "display_name": "Abir", "link": "https://stackoverflow.com/users/6836926/abir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2539, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1554999214, "creation_date": 1475690236, "last_edit_date": 1475791160, "question_id": 39880743, "link": "https://stackoverflow.com/questions/39880743/how-to-map-c-enum-to-postgresql-enum-using-dapper-fastcrud", "title": "How to map C# enum to PostgreSQL enum using Dapper.FastCRUD?", "body": "<p>I have a class <code>Sample</code>, one of whose properties is an enum, <code>TargetType</code>. I have a corresponding table <code>samples</code> defined in a PostgreSQL database, along with a matching enum type, <code>targettypes</code>.</p>\n\n<p>With Dapper.FastCRUD, I can retrieve records from the table successfully. However, I get an error during insertion: </p>\n\n<pre><code>Npgsql.PostgresException (0x80004005): 42804: column \"target_type\" is of type targettype but expression is of type integer\n</code></pre>\n\n<p><strong>EDIT 1:</strong> MoonStorm - creator of Dapper.FastCRUD - clarified that DB-CLR type conversions are handled by Dapper. So, now the question is:</p>\n\n<p><strong>How do I tell Dapper to map the C# <code>enum TargetType</code> to PostgreSQL <code>ENUM TYPE targettype</code>?</strong></p>\n\n<p>The enum is defined as:</p>\n\n<pre><code>public enum TargetType\n{\n    [NpgsqlTypes.PgName(\"Unknown\")]\n    UNKNOWN = 0,\n\n    [NpgsqlTypes.PgName(\"Animal\")]\n    ANIMAL = 1,\n\n    [NpgsqlTypes.PgName(\"Car\")]\n    CAR = 2,\n\n    [NpgsqlTypes.PgName(\"Truck\")]\n    TRUCK = 3\n}\n</code></pre>\n\n<p>And the class is defined as:</p>\n\n<pre><code>[Table(\"samples\")]\npublic partial class Sample\n{\n    [Column(\"recording_time\")]\n    public DateTime RecordingTime { get; set; }\n\n    [Column(\"x_position\")]\n    public double X_Position { get; set; }\n\n    [Column(\"x_velocity\")]\n    public double X_Velocity { get; set; }\n\n    [Column(\"y_position\")]\n    public double Y_Position { get; set; }\n\n    [Column(\"y_velocity\")]\n    public double Y_Velocity { get; set; }\n\n    [Key]\n    [Column(\"id\")]\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public ulong Id { get; set; }\n\n    [Column(\"target_type\")] // &lt;--- This is the offending column\n    public TargetType TargetType { get; set; }\n\n}\n</code></pre>\n\n<p><strong>EDIT 2</strong>: Revised the example with working insert.</p>\n\n<p>Illustration of usage:</p>\n\n<pre><code>using Npgsql;\nusing Dapper.FastCrud;\n...\n\nNpgsqlConnection.MapEnumGlobally&lt;TargetType&gt;(\"public.targettype\"); // ... (1)\n\nOrmConfiguration.DefaultDialect = SqlDialect.PostgreSql;\n\n(using NpgsqlConnection conn = ...) // Connect to database\n{\n    var samples = conn.Find&lt;Sample&gt;();  // &lt;--- This works correctly\n    foreach (Sample s in samples)\n        Console.WriteLine(s);\n\n    ... // Generate new samples\n\n    using (var writer = conn.BeginBinaryImport(sql))\n    {\n        foreach (Sample s in entities)\n        {\n            writer.StartRow();\n\n            writer.Write(s.TargetType);  // &lt;--- This insert works, due to (1)\n            ...\n        }\n    }\n\n    foreach (Sample sample in sampleList)\n        conn.Insert&lt;Sample&gt;(sample);    // &lt;--- This throws PostgresException\n    ...\n}\n</code></pre>\n"}]