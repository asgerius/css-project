[{"tags": ["c#", "azure-active-directory"], "comments": [{"owner": {"reputation": 10885, "user_id": 325697, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ea733005a1c705bedc99eade18f4457d?s=128&d=identicon&r=PG", "display_name": "Philippe Signoret", "link": "https://stackoverflow.com/users/325697/philippe-signoret"}, "edited": false, "score": 0, "creation_date": 1472705219, "post_id": 39260721, "comment_id": 65861190, "body": "Can you share what you&#39;ve attempted?"}, {"owner": {"reputation": 1884, "user_id": 5669031, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9cbfb0e0c069667a5ecf8f9e07f196aa?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Saremi", "link": "https://stackoverflow.com/users/5669031/jeff-saremi"}, "reply_to_user": {"reputation": 10885, "user_id": 325697, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ea733005a1c705bedc99eade18f4457d?s=128&d=identicon&r=PG", "display_name": "Philippe Signoret", "link": "https://stackoverflow.com/users/325697/philippe-signoret"}, "edited": false, "score": 0, "creation_date": 1472742711, "post_id": 39260721, "comment_id": 65885013, "body": "I edited my original post to show my code"}], "answers": [{"comments": [{"owner": {"reputation": 1884, "user_id": 5669031, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9cbfb0e0c069667a5ecf8f9e07f196aa?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Saremi", "link": "https://stackoverflow.com/users/5669031/jeff-saremi"}, "edited": false, "score": 0, "creation_date": 1472828453, "post_id": 39293773, "comment_id": 65924668, "body": "Fantastic. thanks so much for this information, Philippe"}], "tags": [], "owner": {"reputation": 10885, "user_id": 325697, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ea733005a1c705bedc99eade18f4457d?s=128&d=identicon&r=PG", "display_name": "Philippe Signoret", "link": "https://stackoverflow.com/users/325697/philippe-signoret"}, "is_accepted": true, "score": 0, "last_activity_date": 1472823296, "creation_date": 1472823296, "answer_id": 39293773, "question_id": 39260721, "link": "https://stackoverflow.com/questions/39260721/using-azure-graphclient-api-how-can-you-create-a-new-native-application/39293773#39293773", "title": "Using Azure GraphClient API how can you create a new Native Application?", "body": "<p>The fact that an app is a native client application is identified by the <code>PublicClient</code> boolean property on the <code>Application</code> object. (See <a href=\"https://tools.ietf.org/html/rfc6749#section-2.1\" rel=\"nofollow\">client types</a> from the OAuth 2.0 spec.)</p>\n\n<p>So, you could register a native client app with the following code:</p>\n\n<pre><code>var app = new Application()\n{\n    DisplayName = \"My native client app\",\n    ReplyUrls = new List&lt;string&gt;() { \"urn:ietf:wg:oauth:2.0:oob\" },\n    PublicClient = true\n};\n\nawait graphClient.Applications.AddApplicationAsync(app);\n\nConsole.WriteLine(\"App created. AppId: {0}, ObjectId: {1}\", app.AppId, app.ObjectId);\n</code></pre>\n\n<p>Note that the native client app does not have password credentials or key credentials (or any other secret).</p>\n\n<p>Details about these and other properties of <code>Application</code> objects are available in the API reference documentation: <a href=\"https://msdn.microsoft.com/en-us/library/azure/ad/graph/api/entity-and-complex-type-reference#application-entity\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/azure/ad/graph/api/entity-and-complex-type-reference#application-entity</a></p>\n"}], "owner": {"reputation": 1884, "user_id": 5669031, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9cbfb0e0c069667a5ecf8f9e07f196aa?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Saremi", "link": "https://stackoverflow.com/users/5669031/jeff-saremi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 776, "favorite_count": 0, "accepted_answer_id": 39293773, "answer_count": 1, "score": 0, "last_activity_date": 1472823296, "creation_date": 1472687533, "last_edit_date": 1472821214, "question_id": 39260721, "link": "https://stackoverflow.com/questions/39260721/using-azure-graphclient-api-how-can-you-create-a-new-native-application", "title": "Using Azure GraphClient API how can you create a new Native Application?", "body": "<p>It looks like the Application object in <code>Microsoft.Azure.ActiveDirectory.GraphClient</code> allows a Webapplication to be created. I cannot see how I can use this to create a new Native application.\nthanks</p>\n\n<p>Updates:</p>\n\n<pre><code>TaskCompletionSource&lt;string&gt; tcs = new TaskCompletionSource&lt;string&gt;();\ntcs.SetResult(accessToken);\nvar graphClient = new ActiveDirectoryClient(\n    new Uri($\"{GraphApiBaseUrl}{tenantId}\"),\n    async () =&gt; { return await tcs.Task; });\nvar password = Guid.NewGuid().ToString(\"N\");\nvar cred = new PasswordCredential()\n{\n    StartDate = DateTime.UtcNow,\n    EndDate = DateTime.UtcNow.AddYears(1),\n    Value = password\n};\nvar app = await GetApplicationByUrlAsync(accessToken, tenantId, appName, identifierUrl);\nif(app == null)\n{\n    app = new Application()\n    {\n        DisplayName = appName,\n        Homepage = homePageUrl,\n        IdentifierUris = new List&lt;string&gt;() { identifierUrl },\n        LogoutUrl = logoutUrl,\n        ReplyUrls = new List&lt;string&gt;() { replyUrl },\n        PasswordCredentials = new List&lt;PasswordCredential&gt;() { cred },\n    };\n    await graphClient.Applications.AddApplicationAsync(app);\n}\n</code></pre>\n"}, {"tags": ["c#", "php", "html", "xaml"], "answers": [{"comments": [{"owner": {"reputation": 501, "user_id": 6192538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f29cc02157105846171e815429f19bc?s=128&d=identicon&r=PG&f=1", "display_name": "Agustin0987", "link": "https://stackoverflow.com/users/6192538/agustin0987"}, "edited": false, "score": 0, "creation_date": 1472688581, "post_id": 39260827, "comment_id": 65857549, "body": "Sorry, but now that I think about it, my anser might not be usefull since you are starting the webpage from a file."}, {"owner": {"reputation": 435, "user_id": 6642350, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4aa1ae6418adb56e1e906a1bd5629f65?s=128&d=identicon&r=PG", "display_name": "Whirlwind991", "link": "https://stackoverflow.com/users/6642350/whirlwind991"}, "edited": false, "score": 0, "creation_date": 1472688750, "post_id": 39260827, "comment_id": 65857596, "body": "no the webpage is hosted, I just cut the URL out of the code. But yes someone did mention about putting the number in the URL like you said, which is sort of what I had in mind but wasn&#39;t sure how it would work"}], "tags": [], "owner": {"reputation": 501, "user_id": 6192538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f29cc02157105846171e815429f19bc?s=128&d=identicon&r=PG&f=1", "display_name": "Agustin0987", "link": "https://stackoverflow.com/users/6192538/agustin0987"}, "is_accepted": false, "score": 1, "last_activity_date": 1472688379, "creation_date": 1472688379, "answer_id": 39260827, "question_id": 39260698, "link": "https://stackoverflow.com/questions/39260698/is-it-possible-to-bind-xaml-c-with-html-using-php/39260827#39260827", "title": "Is it possible to bind XAML/C# with HTML using PHP?", "body": "<p>I don't have a lot of recent experience with HTML and PHP, but if my memory doesn't fail me, you could add the text of the TextBlock as a variable at the end of the URL of the webpage (it would look like this <code>www.webpage.com?text=version</code>) and then from PHP use the GET method to get the value of the variable <code>text</code> in your URL.</p>\n\n<p>You can do this with more than one variable, like this <code>www.webpage.com?text=version&amp;var2=hello</code></p>\n"}, {"tags": [], "owner": {"reputation": 435, "user_id": 6642350, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4aa1ae6418adb56e1e906a1bd5629f65?s=128&d=identicon&r=PG", "display_name": "Whirlwind991", "link": "https://stackoverflow.com/users/6642350/whirlwind991"}, "is_accepted": true, "score": 0, "last_activity_date": 1472700159, "creation_date": 1472700159, "answer_id": 39262211, "question_id": 39260698, "link": "https://stackoverflow.com/questions/39260698/is-it-possible-to-bind-xaml-c-with-html-using-php/39262211#39262211", "title": "Is it possible to bind XAML/C# with HTML using PHP?", "body": "<p>Managed to get it, these are the changes made:</p>\n\n<pre><code>private void HelpSupport_Click(object sender, RoutedEventArgs e)\n    {\n    System.Diagnostics.Process.Start(\"support.php?version=\" + HttpUtility.UrlEncode(Version.ToString()));\n    }\n</code></pre>\n\n<p>Which put the number in the URL. So my output in HTML:</p>\n\n<pre><code>&lt;textarea type=\"text\" class=\"form-control\" name=\"es_version\" &gt;\n&lt;?php   echo  $_GET[\"version\"]; ?&gt;\n&lt;/textarea&gt;\n</code></pre>\n"}], "owner": {"reputation": 435, "user_id": 6642350, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4aa1ae6418adb56e1e906a1bd5629f65?s=128&d=identicon&r=PG", "display_name": "Whirlwind991", "link": "https://stackoverflow.com/users/6642350/whirlwind991"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "accepted_answer_id": 39262211, "answer_count": 2, "score": 0, "last_activity_date": 1472700159, "creation_date": 1472687398, "question_id": 39260698, "link": "https://stackoverflow.com/questions/39260698/is-it-possible-to-bind-xaml-c-with-html-using-php", "title": "Is it possible to bind XAML/C# with HTML using PHP?", "body": "<p>So I have a XAML button:</p>\n\n<pre><code>&lt;StackPanel&gt;\n&lt;TextBlock  HorizontalAlignment=\"Left\" Text=\"{Binding Version, ElementName=Control}\"  /&gt;\n&lt;Button Content=\"Support\" Width=\"100\" Click=\"HelpSupport_Click\" /&gt;\n&lt;/StackPanel&gt;\n</code></pre>\n\n<p>Which links to some C# </p>\n\n<pre><code> private void HelpSupport_Click(object sender, RoutedEventArgs e)\n    {\n        System.Diagnostics.Process.Start(\"support.html\");\n    }\n</code></pre>\n\n<p>Which takes a user to a webpage.\nIn my XAML StackPanel above I'm binding the software version into a text block for the user to see. But my question is, is it possible that when the user clicks the button to go to the website, can I somehow bind the text block data to be transferred into the HTML too? So that when the user gets to the webpage the software version is also showing there too? Just wondering if this would be done via PHP or a JSON call</p>\n"}, {"tags": ["c#", "asp.net-web-api", "swagger-2.0", "swashbuckle"], "comments": [{"owner": {"reputation": 1217, "user_id": 5106565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d5PFJ.jpg?s=128&g=1", "display_name": "MichaelDotKnox", "link": "https://stackoverflow.com/users/5106565/michaeldotknox"}, "edited": false, "score": 0, "creation_date": 1472689866, "post_id": 39260594, "comment_id": 65857844, "body": "Your setup looks nearly identical to mine.  The only thing I don&#39;t see in yours is the EnableSwaggerUi statement.  Don&#39;t know if that could have a problem?"}, {"owner": {"reputation": 51, "user_id": 6780695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ed5984b77a799f58f313c3a99a7a00?s=128&d=identicon&r=PG&f=1", "display_name": "DiscordAndCookies", "link": "https://stackoverflow.com/users/6780695/discordandcookies"}, "reply_to_user": {"reputation": 1217, "user_id": 5106565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d5PFJ.jpg?s=128&g=1", "display_name": "MichaelDotKnox", "link": "https://stackoverflow.com/users/5106565/michaeldotknox"}, "edited": false, "score": 0, "creation_date": 1472692423, "post_id": 39260594, "comment_id": 65858374, "body": "Hi Michael, I actually cut off the snippet before the EnableSwaggerUi statement, but it&#39;s in there. Thank you for the suggestion, though."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 6780695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ed5984b77a799f58f313c3a99a7a00?s=128&d=identicon&r=PG&f=1", "display_name": "DiscordAndCookies", "link": "https://stackoverflow.com/users/6780695/discordandcookies"}, "is_accepted": false, "score": 3, "last_activity_date": 1472696717, "creation_date": 1472696717, "answer_id": 39261781, "question_id": 39260594, "link": "https://stackoverflow.com/questions/39260594/swashbuckle-5-4-0-and-xml-documentation/39261781#39261781", "title": "Swashbuckle 5.4.0 and Xml Documentation", "body": "<p>Found the answer, sort of. Namespaces are being enforced, which means that any object existing outside of a namespace will have an xpath containing a method name starting with . (eg M:.HelloWorldController.Get) whereas the xml created has a member name of M:HelloWorldController.Get, therefore the node is not found. This doesn't just affect methods, it also affects params, so any custom objects that are defined without a namespace will also cause a failure to find the member node for the method.</p>\n"}], "owner": {"reputation": 51, "user_id": 6780695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ed5984b77a799f58f313c3a99a7a00?s=128&d=identicon&r=PG&f=1", "display_name": "DiscordAndCookies", "link": "https://stackoverflow.com/users/6780695/discordandcookies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1466, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1472696731, "creation_date": 1472686628, "last_edit_date": 1472696731, "question_id": 39260594, "link": "https://stackoverflow.com/questions/39260594/swashbuckle-5-4-0-and-xml-documentation", "title": "Swashbuckle 5.4.0 and Xml Documentation", "body": "<p>I've got Swashbuckle 5.4.0 installed with WebApi 2.2, IIS hosted. My basic swagger documents display without any issues, however nothing in the XML document I am pointing to is being rendered within the UI, nor is it visible in the JSON. So all I see are the methods with no remarks, summary, etc.</p>\n\n<p>I know the XML document has been found as I don't get any errors (and when I change the path to a non existent file, an error appears) but for some reason it's just not including anything from within the file. I've tried reinstalling the nuget packages for Swashbuckle and WebApi, I've tried generating and regenerating the XML, even tried rebuilding a basic version of the XML just to test, but so far no luck.</p>\n\n<p>Any ideas for what could be going wrong here, or any suggestions that I could try?</p>\n\n<p>Code snippets below:</p>\n\n<p>Controller:</p>\n\n<pre><code>[RoutePrefix(\"rest/v1/helloworld\")]\npublic class HelloWorldController : ApiController\n{\n    /// &lt;summary&gt;\n    /// Hello World\n    /// &lt;/summary&gt;\n    /// &lt;remarks&gt;Hello World basic test&lt;/remarks&gt;\n    /// &lt;response code=\"401\"&gt;Unauthorized&lt;/response&gt;\n    [HttpGet]\n    [Route(\"\")]\n    public HttpResponseMessage Get()\n    {\n        HttpActionContext aC = this.ActionContext;\n\n        return aC.Request.CreateResponse(HttpStatusCode.OK, \"Hello World\");\n    }              \n\n}\n</code></pre>\n\n<p>Xml Documentation:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;doc&gt;\n    &lt;assembly&gt;\n        &lt;name&gt;SwaggerApi&lt;/name&gt;\n    &lt;/assembly&gt;\n    &lt;members&gt;\n        &lt;member name=\"M:HelloWorldController.Get\"&gt;\n            &lt;summary&gt;Hello World&lt;/summary&gt;\n            &lt;remarks&gt;Hello World basic test&lt;/remarks&gt;\n            &lt;response code=\"401\"&gt;Unauthorized&lt;/response&gt;\n        &lt;/member&gt;\n    &lt;/members&gt;\n&lt;/doc&gt;\n</code></pre>\n\n<p>SwaggerConfig.cs snippet:</p>\n\n<pre><code>EnableSwagger(c =&gt;\n{\n    c.SingleApiVersion(\"v1\", \"ASP\");\n    c.IncludeXmlComments(string.Format(@\"{0}\\bin\\SwaggerApi.xml\",System.AppDomain.CurrentDomain.BaseDirectory));\n})\n</code></pre>\n"}, {"tags": ["c#", "pointers", "reference", "pass-by-reference"], "comments": [{"owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "edited": false, "score": 0, "creation_date": 1472686779, "post_id": 39260592, "comment_id": 65857101, "body": "Make #1 static, thus exposing it to #2 and #3. Keep it read-only to avoid blaspheming the C# gods."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1472687310, "post_id": 39260592, "comment_id": 65857214, "body": "We need to see example code here. By default, if you pass an instance of a class somewhere, you are passing a reference."}, {"owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1472687688, "post_id": 39260592, "comment_id": 65857308, "body": "Agree with @Blorgbeard ... I have something in my head (like read-only concurrent collections that are threadsafe as static) but your code may not be anything like that, thereby rendering my earlier advice moot or even bad."}], "answers": [{"tags": [], "owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "is_accepted": false, "score": 0, "last_activity_date": 1473031403, "creation_date": 1473031403, "answer_id": 39322312, "question_id": 39260592, "link": "https://stackoverflow.com/questions/39260592/modify-an-object-in-multiple-layers-of-classes/39322312#39322312", "title": "Modify an object in multiple layers of classes", "body": "<blockquote>\n  <p>How can I go about changing the content of an instance of #1 directly in #3?</p>\n</blockquote>\n\n<p>Well, you'd start by passing the instance of #1 to #3. Currently you are not doing that.</p>\n\n<p>So for example:</p>\n\n<pre><code>public EditorForm(DataLayer_Json data)\n{\n    ...\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>using (var EF = new EditorForm(data))\n</code></pre>\n\n<p>Then inside the <code>EditorForm</code>, you can do whatever you want to <code>data</code> (<em>except</em> for reassigning the actual reference) and those changes will be reflected outside of <code>EditorForm</code> as well.</p>\n\n<pre><code>data.ClearQuestions();          // Works fine, mutating the object.\ndata = new DataLayer_JSON();    // Doesn't affect the `data` variable that was passed in.\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 2762620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c91e8fbffe8ab2314449fa8c21bae320?s=128&d=identicon&r=PG&f=1", "display_name": "Spaxys", "link": "https://stackoverflow.com/users/2762620/spaxys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473031403, "creation_date": 1472686620, "last_edit_date": 1495535628, "question_id": 39260592, "link": "https://stackoverflow.com/questions/39260592/modify-an-object-in-multiple-layers-of-classes", "title": "Modify an object in multiple layers of classes", "body": "<p>I have an application with the following:</p>\n\n<ol>\n<li>A data layer class containing the data handling logic and the data itself.</li>\n</ol>\n\n<blockquote>\n<pre><code>public class DataLayer_JSON\n{\n    CacheData chd = new CacheData();\n    //The chd object contains the actual data used in the DataLayer_JSON class\n\n   public DataLayer_JSON(string relPath) }\n</code></pre>\n</blockquote>\n\n<ol start=\"2\">\n<li>A main menu form (essentially it could be just any class)</li>\n</ol>\n\n<blockquote>\n<pre><code> public partial class MainMenuForm : Form\n{\n    DataLayer_JSON data = new DataLayer_JSON(\"questions.txt\");\n    ...\n    private void btnEditon_Click(object sender, EventArgs e)\n    {\n    ...\n        using (var EF = new EditorForm(data.GetCathegories(), data.GetDifficulties(), data.GetQuestions()))\n        {\n            var result = EF.ShowDialog();\n            if(result == DialogResult.OK)\n            {\n                data.ClearQuestions();  //Clear all cached questions\n                //Since we are still in scope of the EditorForm (EF) within the using clause, we can access it's members\n                data.AddQuestionRange(EF.AllQuestions); //Replace cache with the edited list\n            }\n        }\n        ...\n         //Here we save the data permanently to a text file when closing the program. \n         //This could also be done from the EditorForm if we wanted to\n         private void MainMenuForm_FormClosing(object sender, FormClosingEventArgs e)\n    {\n        data.Save(\"questions.txt\");\n    }\n</code></pre>\n</blockquote>\n\n<ol start=\"3\">\n<li>An editor form (started from #2)</li>\n</ol>\n\n<blockquote>\n  <p><code>public EditorForm(IEnumerable&lt;INameObject&gt; Cathegories, IEnumerable&lt;INameObject&gt; Difficulties, IEnumerable&lt;Question&gt; oldQuestions)\n          {\n          ...\n          }</code></p>\n</blockquote>\n\n<p>In #2, I create and initialize the data layer instance (#1). I want to modify the data contained in #1 from within #3, but so far, I have only been able to pass by value the contents from #1 to #3, via #2. The results are then returned from #3 to #2 and handled there.</p>\n\n<p>I've read about passing by reference in C#, but my conclusion is that you cant assign a variable to the reference, and then have that variable modify the original data.</p>\n\n<p>I read about the references in C# in the following places this time, as well as reading extensively about this topic many times before:\n<a href=\"https://stackoverflow.com/questions/7844791/c-sharp-reference-assignment-operator\">C# reference assignment operator?</a> <a href=\"https://stackoverflow.com/questions/2980463/how-do-i-assign-by-reference-to-a-class-field-in-c/\">How do I assign by &quot;reference&quot; to a class field in c#?</a></p>\n\n<p>So the question is:\nHow can I go about changing the content of an instance of #1 directly in #3?</p>\n"}, {"tags": ["c#", "linq", "lambda"], "comments": [{"owner": {"reputation": 10107, "user_id": 143069, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKcVg.jpg?s=128&g=1", "display_name": "ILMTitan", "link": "https://stackoverflow.com/users/143069/ilmtitan"}, "edited": false, "score": 0, "creation_date": 1472687575, "post_id": 39260591, "comment_id": 65857276, "body": "Why do you want to avoid foreach?"}, {"owner": {"reputation": 5046, "user_id": 2132421, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xx66M.jpg?s=128&g=1", "display_name": "LastTribunal", "link": "https://stackoverflow.com/users/2132421/lasttribunal"}, "reply_to_user": {"reputation": 10107, "user_id": 143069, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKcVg.jpg?s=128&g=1", "display_name": "ILMTitan", "link": "https://stackoverflow.com/users/143069/ilmtitan"}, "edited": false, "score": 0, "creation_date": 1472687705, "post_id": 39260591, "comment_id": 65857312, "body": "Semantics.  A bulk edit should be as compact and concise as a single edit."}], "answers": [{"comments": [{"owner": {"reputation": 5046, "user_id": 2132421, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xx66M.jpg?s=128&g=1", "display_name": "LastTribunal", "link": "https://stackoverflow.com/users/2132421/lasttribunal"}, "edited": false, "score": 0, "creation_date": 1472687155, "post_id": 39260635, "comment_id": 65857182, "body": "why would you advise against it?  How would you write this with .foreach?"}, {"owner": {"reputation": 5046, "user_id": 2132421, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xx66M.jpg?s=128&g=1", "display_name": "LastTribunal", "link": "https://stackoverflow.com/users/2132421/lasttribunal"}, "edited": false, "score": 0, "creation_date": 1472688026, "post_id": 39260635, "comment_id": 65857406, "body": "I will accept your answer if you can answer the first part of my question, the second part I already answered"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 5046, "user_id": 2132421, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xx66M.jpg?s=128&g=1", "display_name": "LastTribunal", "link": "https://stackoverflow.com/users/2132421/lasttribunal"}, "edited": false, "score": 0, "creation_date": 1472690313, "post_id": 39260635, "comment_id": 65857937, "body": "@LastTribunal The answer to your question is in the first sentence of the answer. Do not model mutation of state as an expression to be evaluated, explicitly use a loop statement to show state is being modified."}], "tags": [], "owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "is_accepted": true, "score": 4, "last_activity_date": 1472686941, "creation_date": 1472686941, "answer_id": 39260635, "question_id": 39260591, "link": "https://stackoverflow.com/questions/39260591/changing-all-values-in-a-lambda-linq/39260635#39260635", "title": "Changing all values in a lambda/LINQ", "body": "<p>If you're mutating things you shouldn't be expressing it as a LINQ transformation. Just use a regular <code>foreach</code> loop:</p>\n\n<pre><code>foreach(var client in ClientsDict[userId])\n{\n    client.Active = false;\n}\n</code></pre>\n\n<p>You can also use the <a href=\"https://msdn.microsoft.com/en-us/library/bwabdf9z(v=vs.110).aspx\" rel=\"nofollow\"><code>List&lt;T&gt;.ForEach</code> method</a>, but I would advise against it.</p>\n"}, {"comments": [{"owner": {"reputation": 32143, "user_id": 4955425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y0RDl.jpg?s=128&g=1", "display_name": "sstan", "link": "https://stackoverflow.com/users/4955425/sstan"}, "reply_to_user": {"reputation": 5046, "user_id": 2132421, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xx66M.jpg?s=128&g=1", "display_name": "LastTribunal", "link": "https://stackoverflow.com/users/2132421/lasttribunal"}, "edited": false, "score": 0, "creation_date": 1472688090, "post_id": 39260662, "comment_id": 65857423, "body": "Yeah that looks good. I just thought you wanted to update all clients except one. That&#39;s what I understood from: <i>How do I do the <b>inverse</b> of that and set all the <b>others</b> in the list to false?</i>"}, {"owner": {"reputation": 5046, "user_id": 2132421, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xx66M.jpg?s=128&g=1", "display_name": "LastTribunal", "link": "https://stackoverflow.com/users/2132421/lasttribunal"}, "edited": false, "score": 0, "creation_date": 1472688260, "post_id": 39260662, "comment_id": 65857472, "body": "Read the article, but its lame :)  Foreach looks more readable..haha"}, {"owner": {"reputation": 5046, "user_id": 2132421, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xx66M.jpg?s=128&g=1", "display_name": "LastTribunal", "link": "https://stackoverflow.com/users/2132421/lasttribunal"}, "edited": false, "score": 0, "creation_date": 1472688310, "post_id": 39260662, "comment_id": 65857480, "body": "I&#39;ll accept your answer because you were most proactive"}, {"owner": {"reputation": 5046, "user_id": 2132421, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xx66M.jpg?s=128&g=1", "display_name": "LastTribunal", "link": "https://stackoverflow.com/users/2132421/lasttribunal"}, "edited": false, "score": 0, "creation_date": 1472690542, "post_id": 39260662, "comment_id": 65857998, "body": "sorry bro, had to give it to the original guy"}], "tags": [], "owner": {"reputation": 32143, "user_id": 4955425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y0RDl.jpg?s=128&g=1", "display_name": "sstan", "link": "https://stackoverflow.com/users/4955425/sstan"}, "is_accepted": false, "score": 0, "last_activity_date": 1472687776, "last_edit_date": 1472687776, "creation_date": 1472687130, "answer_id": 39260662, "question_id": 39260591, "link": "https://stackoverflow.com/questions/39260591/changing-all-values-in-a-lambda-linq/39260662#39260662", "title": "Changing all values in a lambda/LINQ", "body": "<p>Use the <code>Where</code> LINQ method to express the opposite condition and loop over the resulting set:</p>\n\n<pre><code>foreach(var client in ClientsDict[userId].Where(c =&gt; c.Hash != hash))\n{\n    client.Active = false;\n}\n</code></pre>\n\n<p><strong>EDIT</strong>: the <code>ForEach()</code> method version for comparison:</p>\n\n<pre><code>ClientsDict[userId]\n    .Where(c =&gt; c.Hash != hash)\n    .ToList()\n    .ForEach(c =&gt; c.Active = false);\n</code></pre>\n\n<p>I'm usually not a fan of using the <code>ForEach()</code> method, but I have to admit that it doesn't look too bad here. That said, because the method is only available on <code>List&lt;T&gt;</code>, you're forced to call <code>.ToList()</code>.</p>\n\n<p>For a more philosophical discussion on whether its use is a good idea or not, see here: <a href=\"https://blogs.msdn.microsoft.com/ericlippert/2009/05/18/foreach-vs-foreach/\" rel=\"nofollow\">\u201cforeach\u201d vs \u201cForEach\u201d</a>.</p>\n"}], "owner": {"reputation": 5046, "user_id": 2132421, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xx66M.jpg?s=128&g=1", "display_name": "LastTribunal", "link": "https://stackoverflow.com/users/2132421/lasttribunal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 39260635, "answer_count": 2, "score": 0, "last_activity_date": 1472688132, "creation_date": 1472686619, "last_edit_date": 1472687881, "question_id": 39260591, "link": "https://stackoverflow.com/questions/39260591/changing-all-values-in-a-lambda-linq", "title": "Changing all values in a lambda/LINQ", "body": "<p>I have a dictionary of a list of objects that looks like this</p>\n\n<pre><code>class Client\n    {\n        public int Hash { get; set; }\n        public bool Active { get; set; }\n    }\n    var ClientsDict = new Dictionary&lt;string, List&lt;Client&gt;&gt;();\n</code></pre>\n\n<p>I have no problem setting a single record value in the list</p>\n\n<pre><code> ClientsDict[userId].First(a =&gt; a.Hash == hash).Active = true;\n</code></pre>\n\n<p>How do I do the inverse of that and set all the others in the list to false?</p>\n\n<pre><code> ClientsDict[userId].All().Active = false; //cannot resolve symbol\n</code></pre>\n\n<p>Note: I wanna avoid a foreach</p>\n\n<p>EDIT:</p>\n\n<pre><code>ClientsDict[userId].ForEach(a =&gt; a.Active = false); //this works\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api2"], "comments": [{"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1472690896, "post_id": 39260514, "comment_id": 65858069, "body": "Is there any problem with the code you posted?"}, {"owner": {"reputation": 209, "user_id": 1148676, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/a45e0d5b472622ae9f7c88659d0ffa25?s=128&d=identicon&r=PG", "display_name": "Yoda", "link": "https://stackoverflow.com/users/1148676/yoda"}, "reply_to_user": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1472693952, "post_id": 39260514, "comment_id": 65858712, "body": "I&#39;m getting an error &quot; await cannot be used with string content&quot;"}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 2, "creation_date": 1472694041, "post_id": 39260514, "comment_id": 65858736, "body": "Please post a minimal example that reproduces the problem."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1472701666, "post_id": 39260514, "comment_id": 65860416, "body": "This line -&gt; <code>responseMessage = await httpContent;</code> makes no sense. what is going on there? because you return a valid response right after it in the next line."}, {"owner": {"reputation": 209, "user_id": 1148676, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/a45e0d5b472622ae9f7c88659d0ffa25?s=128&d=identicon&r=PG", "display_name": "Yoda", "link": "https://stackoverflow.com/users/1148676/yoda"}, "edited": false, "score": 0, "creation_date": 1472744637, "post_id": 39260514, "comment_id": 65886315, "body": "I posted the sample code, that i was testing. It was not supposed to be over there"}], "answers": [{"tags": [], "owner": {"reputation": 1468, "user_id": 1073280, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/137eb60b0b4cd32f952121fba02c07b0?s=128&d=identicon&r=PG", "display_name": "Choco Smith", "link": "https://stackoverflow.com/users/1073280/choco-smith"}, "is_accepted": true, "score": 1, "last_activity_date": 1472702578, "creation_date": 1472702578, "answer_id": 39262532, "question_id": 39260514, "link": "https://stackoverflow.com/questions/39260514/return-a-stringcontent-from-async/39262532#39262532", "title": "Return a StringContent from async", "body": "<p>Is this what you are trying to do?</p>\n\n<pre><code>   public async Task&lt;HttpResponseMessage&gt; GetOrder(string url)\n    {\n        string xml = \"&lt;result&gt;&lt;success&gt; True &lt;/success&gt;&lt;message&gt;&lt;/result&gt;\";\n\n        return await Task&lt;HttpResponseMessage&gt;.Factory.StartNew(() =&gt; new HttpResponseMessage()\n                                                    {\n                                                        Content = new StringContent(xml, Encoding.UTF8, \"application/xml\")\n                                                    });\n\n    }\n</code></pre>\n\n<p>if so your return xml is also invalid. To quote one of the many online xml validators \"<em>The element type \"message\" must be terminated by the matching end-tag</em> \"  (message)</p>\n"}, {"tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": false, "score": 2, "last_activity_date": 1472702856, "creation_date": 1472702856, "answer_id": 39262565, "question_id": 39260514, "link": "https://stackoverflow.com/questions/39260514/return-a-stringcontent-from-async/39262565#39262565", "title": "Return a StringContent from async", "body": "<p>If you are not actually using <code>async/await</code> then the method would look like this.</p>\n\n<pre><code>public Task&lt;HttpResponseMessage&gt; GetOrder(string url) {\n    xml = \"&lt;result&gt;&lt;success&gt; True &lt;/success&gt;&lt;message&gt;&lt;/result&gt;\";\n\n    var responseMessage = new  HttpResponseMessage() {\n        Content = new StringContent(xml, Encoding.UTF8, \"application/xml\")\n    }; \n\n    return Task.FromResult(responseMessage);   \n}\n</code></pre>\n"}], "owner": {"reputation": 209, "user_id": 1148676, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/a45e0d5b472622ae9f7c88659d0ffa25?s=128&d=identicon&r=PG", "display_name": "Yoda", "link": "https://stackoverflow.com/users/1148676/yoda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 855, "favorite_count": 0, "accepted_answer_id": 39262532, "answer_count": 2, "score": 0, "last_activity_date": 1472702856, "creation_date": 1472685967, "last_edit_date": 1472686789, "question_id": 39260514, "link": "https://stackoverflow.com/questions/39260514/return-a-stringcontent-from-async", "title": "Return a StringContent from async", "body": "<p>How do I return a <code>StringContent</code> from async? Do I still need to return it as a task? Below is the sample code that I am using:</p>\n\n<pre><code>public async Task&lt;HttpResponseMessage&gt; GetOrder(string url)\n{\n    xml = \"&lt;result&gt;&lt;success&gt; True &lt;/success&gt;&lt;message&gt;&lt;/result&gt;\";\n\n    responseMessage = await httpContent;\n    return new  HttpResponseMessage()\n    {\n        Content = new StringContent(xml, Encoding.UTF8, \"application/xml\")\n    };    \n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "signalr", "signalr-hub", "signalr.client"], "owner": {"reputation": 770, "user_id": 4092412, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/882e5257675cbf4e65746c5bd3129d01?s=128&d=identicon&r=PG&f=1", "display_name": "Motoko", "link": "https://stackoverflow.com/users/4092412/motoko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 633, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1472686732, "creation_date": 1472685757, "last_edit_date": 1472686732, "question_id": 39260488, "link": "https://stackoverflow.com/questions/39260488/signalr-how-to-authenticate-net-console-app-with-server-that-uses-openid-connec", "title": "SignalR-How to authenticate .Net console app with server that uses OpenID Connect", "body": "<p>I have an existing server that uses Azure AD. I want to add SignalR Hub and connect to that hub from a console app. Yet it failed (detailed error below). </p>\n\n<p>From Fiddler I can see that I receive the access token successfully but the next request is redirected to the login page when HubConnection tries to start.</p>\n\n<p>I have followed instruction <a href=\"http://www.asp.net/signalr/overview/security/hub-authorization#header\" rel=\"nofollow\">here</a> and used both <code>connection.Headers.Add(\"Authorization\", \"Bearer \" + accessToken)</code> and <code>connection.Headers.Add(\"Bearer\", accessToken)</code></p>\n\n<p>What is the correct way to secure and integrate SignalR in this situation?</p>\n\n<p>Client code I tried</p>\n\n<pre><code>        HubConnection connection = new HubConnection(webEndpoint);\n        string accessToken = GetAccessToken().Result;\n        connection.Headers.Add(\"Authorization\", \"Bearer \" + accessToken);\n        connection.Headers.Add(\"Bearer\", accessToken);\n        IHubProxy webJobHub = connection.CreateHubProxy(\"JobHub\");\n\n        connection.Start().ContinueWith(task =&gt;\n        {\n            if (task.IsFaulted)\n            {\n                log.FatalException(\"Error start SignalR connection\", task.Exception.GetBaseException());\n            }\n            else\n            {\n                log.Info(\"SignalR connection established\");\n            }\n        }).Wait();\n    ...\n\n    public static async Task&lt;string&gt; GetAccessToken()\n    {\n        var authContext = new AuthenticationContext(Authority);\n        // ADAL includes an in memory cache, so this call will only send a message to the server if the cached token is expired.\n        var clientCredential = new ClientCredential(ClientId, AppKey);\n        AuthenticationResult result = await authContext.AcquireTokenAsync(AppIdUri, clientCredential);\n        return result.AccessToken;\n    }\n</code></pre>\n\n<p>Server code:</p>\n\n<pre><code>[Authorize]\npublic class JobHub : Hub\n{\n...\n}\n</code></pre>\n\n<p>Existing auth server code:</p>\n\n<pre><code>public partial class Startup\n{\n    ...\n    public void ConfigureAuth(IAppBuilder app)\n    {\n        app.SetDefaultSignInAsAuthenticationType(CookieAuthenticationDefaults.AuthenticationType);\n\n        app.UseCookieAuthentication(new CookieAuthenticationOptions());\n        app.UseOpenIdConnectAuthentication(\n            new OpenIdConnectAuthenticationOptions\n            {\n                ClientId = ClientId,\n                Authority = Authority,\n                PostLogoutRedirectUri = PostLogoutRedirectUri,\n                RedirectUri = PostLogoutRedirectUri,\n                Notifications = new OpenIdConnectAuthenticationNotifications\n                {\n                    ...\n                }\n            });\n    }\n}\n</code></pre>\n\n<p>Actual exception, basically it is supposed to receive a json but get redirected to the login page</p>\n\n<pre><code>Newtonsoft.Json.JsonReaderException: Unexpected character encountered while parsing value: &lt;. Path '', line 0, position 0.\nat Newtonsoft.Json.JsonTextReader.ParseValue()\nat Newtonsoft.Json.JsonTextReader.Read()\nat Newtonsoft.Json.Serialization.JsonSerializerInternalReader.ReadForType(JsonReader reader, JsonContract contract, Boolean hasConverter)\nat Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)\nat Newtonsoft.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType)\nat Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)\nat Newtonsoft.Json.JsonConvert.DeserializeObject[T](String value, JsonSerializerSettings settings)\nat Microsoft.AspNet.SignalR.Client.Transports.TransportHelper.&lt;&gt;c.&lt;GetNegotiationResponse&gt;b__0_1(String raw)\nat Microsoft.AspNet.SignalR.TaskAsyncHelper.&lt;&gt;c__DisplayClass31_0`2.&lt;Then&gt;b__0(Task`1 t)\nat Microsoft.AspNet.SignalR.TaskAsyncHelper.TaskRunners`2.&lt;&gt;c__DisplayClass3_0.&lt;RunTask&gt;b__0(Task`1 t)\n</code></pre>\n"}, {"tags": ["c#", "timer", "async-await"], "answers": [{"comments": [{"owner": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "edited": false, "score": 0, "creation_date": 1472694570, "post_id": 39260540, "comment_id": 65858858, "body": "Thanks Will there be any issue handling exceptions if I used <code>private async void timer_Elapsed(object sender, ElapsedEventArgs e) </code> instead of <code>private async Task timer_Elapsed(object sender, ElapsedEventArgs e) </code>"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "edited": false, "score": 0, "creation_date": 1472696659, "post_id": 39260540, "comment_id": 65859341, "body": "I guess that depends on what you mean by &quot;issue&quot;. It&#39;s impossible to say without a complete code example that shows how and what exception is being thrown. But in general, your exception may go unobserved, depending on where the continuation is executed. If it is observed, it could be in a context that would terminate your process."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "edited": false, "score": 0, "creation_date": 1472696661, "post_id": 39260540, "comment_id": 65859342, "body": "That said, in your example either it will be observed or it won&#39;t be observed, whether you wrap your <code>async Task</code> method in an <code>async void</code> anonymous method or just have an <code>async void</code> event handler method, since in both cases you&#39;re ultimately dealing with an event handler method that is <code>async void</code> and has <code>await</code>ed the operation that threw the exception. I.e. as far as exceptions go, they are equivalent."}], "tags": [], "owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "is_accepted": true, "score": 19, "last_activity_date": 1472743434, "last_edit_date": 1495540414, "creation_date": 1472686165, "answer_id": 39260540, "question_id": 39260486, "link": "https://stackoverflow.com/questions/39260486/is-it-okay-to-attach-async-event-handler-to-system-timers-timer/39260540#39260540", "title": "Is it okay to attach async event handler to System.Timers.Timer?", "body": "<p><code>async void</code> is \"not recommended\", with one very important exception: event handlers.</p>\n\n<p>Your code compiles fine (well, the second event subscription&hellip;the first would generate a compile-time error, assuming the same <code>timer_Elapsed()</code> method in both statements), because the compiler can infer the delegate's return type should be <code>void</code>. The <code>async</code> anonymous method <em>could</em> also return <code>Task</code>, but in this case that would be the wrong method signature, so you get <code>void</code> instead.</p>\n\n<p>It would also be fine to just declare your event handle as <code>async void</code>:</p>\n\n<pre><code>   private async void timer_Elapsed(object sender, ElapsedEventArgs e)\n   {\n      await Task.Delay(10);\n   }\n</code></pre>\n\n<p>Used like:</p>\n\n<pre><code>timer.Elapsed += timer_Elapsed;\n</code></pre>\n\n<p>Returning <code>void</code> for <code>async</code> methods is not ideal, but in the case of an event handler, there is no code that is going to use the <code>Task</code> anyway (unless the event is specifically implemented to understand <code>async</code> methods, as in <a href=\"https://stackoverflow.com/a/27763068\">Asynchronous events in C#</a>). There's no reason to bend over backwards to comply with what would otherwise be the correct coding practice, if you get zero benefit from doing so.</p>\n\n<p><br/>\nSee also <a href=\"https://stackoverflow.com/q/19415646\">Should I avoid 'async void' event handlers?</a></p>\n\n<p><br/>\n<strong>Addendum:</strong></p>\n\n<p>From your edit to the question:</p>\n\n<blockquote>\n  <p>Timer.Elapsed is I think synchronous event handler can I still attach <code>async void</code> to it?</p>\n</blockquote>\n\n<p>It's not the event that is asynchronous or synchronous, but the handler itself. And that's determined entirely by whether you use <code>async</code> and <code>await</code> for the handler method. You may, as described in your question and my answer, use an <code>async void</code> handler method with the <code>Elapsed</code> event, just as you may with any other event (assuming the event signature requires <code>void</code> as the handler return type, which is of course the standard for conventional .NET events).</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6776481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05aefa0632d324b528cf2a1cb228628f?s=128&d=identicon&r=PG&f=1", "display_name": "mikef", "link": "https://stackoverflow.com/users/6776481/mikef"}, "is_accepted": false, "score": 0, "last_activity_date": 1472689396, "last_edit_date": 1495541221, "creation_date": 1472689396, "answer_id": 39260955, "question_id": 39260486, "link": "https://stackoverflow.com/questions/39260486/is-it-okay-to-attach-async-event-handler-to-system-timers-timer/39260955#39260955", "title": "Is it okay to attach async event handler to System.Timers.Timer?", "body": "<p>You are correct about avoiding \"async void\". Not sure about the compiler not objecting but you are subscribing to the same event twice.</p>\n\n<p>You should keep the asynchronous part inside the handler, not in the calling of the handler.</p>\n\n<p>Try removing the duplicate event subscription:</p>\n\n<pre><code>timer.Elapsed += async (sender, arguments) =&gt; await timer_Elapsed(sender, arguments);\n</code></pre>\n\n<p>and change the handler's signature from:</p>\n\n<pre><code>private async Task timer_Elapsed(object sender, ElapsedEventArgs e)\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>private void timer_Elapsed(object sender, ElapsedEventArgs e)\n</code></pre>\n\n<p>Then do the asynchronous part inside the handler, using something like the suggestion in this post:\n<a href=\"https://stackoverflow.com/a/31469699/6776481\">https://stackoverflow.com/a/31469699/6776481</a></p>\n\n<p>Except the \"WrapSomeMethod\" call would return just <code>Task</code>, not <code>Task&lt;string&gt;</code>.</p>\n\n<p>Also, since this is inside of a windows service, don't forget to unsubscribe from the event if necessary.</p>\n"}], "owner": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5952, "favorite_count": 2, "accepted_answer_id": 39260540, "answer_count": 2, "score": 17, "last_activity_date": 1606167417, "creation_date": 1472685745, "last_edit_date": 1606167417, "question_id": 39260486, "link": "https://stackoverflow.com/questions/39260486/is-it-okay-to-attach-async-event-handler-to-system-timers-timer", "title": "Is it okay to attach async event handler to System.Timers.Timer?", "body": "<p>I have already read the SO posts <a href=\"https://stackoverflow.com/questions/36661338/how-to-call-an-async-method-from-within-elapsedeventhandler\">here</a> and article <a href=\"http://theburningmonk.com/2012/10/c-beware-of-async-void-in-your-code/\" rel=\"nofollow noreferrer\">here</a>. I have a timer event that fires every once in a while and I want to do some asynchronous processing inside the handler, so something along the lines of:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>Timer timer = new Timer();\ntimer.Interval = 1000;\ntimer.Elapsed += timer_Elapsed; // Please ignore this line. But some answers already given based on this line so I will leave it as it is.\ntimer.Elapsed += async (sender, arguments) =&gt; await timer_Elapsed(sender, arguments);\n\nprivate async Task timer_Elapsed(object sender, ElapsedEventArgs e)\n{\n    await Task.Delay(10);\n}\n</code></pre>\n<p>The code above is compiling and working.</p>\n<p>But I am not sure why the code is compiling. The <code>ElapsedEventHandler</code> expected signature is</p>\n<pre class=\"lang-cs prettyprint-override\"><code>void timer_Elapsed(object sender, ElapsedEventArgs e)\n</code></pre>\n<p>However my method returns <code>Task</code> instead of <code>void</code> since <code>async void</code> is not recommended. but that does not match with <code>ElapsedEventHandler</code> signature and yet it's still compiling and working?</p>\n<p>Is it okay to call an async method on <code>Timer.Elapsed</code>? The code will be executed inside a Windows service.</p>\n<p><strong>Update 1</strong></p>\n<blockquote>\n<p>async void is &quot;not recommended&quot;, with one very important exception:\nevent handlers.</p>\n</blockquote>\n<p>Does it matter if it's an asynchronous event handler or synchronous event hander?</p>\n<p>An MSDN article <a href=\"https://docs.microsoft.com/en-us/archive/msdn-magazine/2013/march/async-await-best-practices-in-asynchronous-programming\" rel=\"nofollow noreferrer\">here</a> says:</p>\n<blockquote>\n<p>Void-returning async methods have a specific purpose: to make\nasynchronous event handlers possible.</p>\n</blockquote>\n<p><code>Timer.Elapsed</code> is I think a synchronous event handler; can I still attach <code>async void</code> to it?</p>\n"}, {"tags": ["c#", "unit-testing", "mstest"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 4927377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07409562601512a5a90dbe05b51536b?s=128&d=identicon&r=PG&f=1", "display_name": "JJE", "link": "https://stackoverflow.com/users/4927377/jje"}, "edited": false, "score": 0, "creation_date": 1582148644, "post_id": 39260468, "comment_id": 106682392, "body": "This is what I expected the behavior to be.  At least in my test class initialization method, a Fail or Inconclusive assertion result only affects the first method in the class, and the other tests are executed as if the Assert statements were not there.      I just upgrade Visual Studio to 2019, so maybe this is just an issue with the latest version?"}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "reply_to_user": {"reputation": 85, "user_id": 4927377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07409562601512a5a90dbe05b51536b?s=128&d=identicon&r=PG&f=1", "display_name": "JJE", "link": "https://stackoverflow.com/users/4927377/jje"}, "edited": false, "score": 0, "creation_date": 1582159369, "post_id": 39260468, "comment_id": 106685533, "body": "@JoeEdwards perhaps, I&#39;ve not seen this happen before though at the time I was not using VS2019"}], "tags": [], "owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "is_accepted": true, "score": 8, "last_activity_date": 1472695913, "last_edit_date": 1495540863, "creation_date": 1472685598, "answer_id": 39260468, "question_id": 39260266, "link": "https://stackoverflow.com/questions/39260266/how-to-intentionally-fail-all-c-unit-tests/39260468#39260468", "title": "How to intentionally fail all C# unit tests", "body": "<blockquote>\n  <p>How to intentionally fail all C# unit tests</p>\n</blockquote>\n\n<hr>\n\n<p><strong>TL;DR:</strong> In your <code>ClassInit()</code>, instantiate whatever objects you need for the tests and add appropriate <code>Assert</code> statements. Should any condition fail, all tests will fail.</p>\n\n<hr>\n\n<p>You can add a method that will be automatically called before any of the test methods are run and decorate it with the <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.visualstudio.testtools.unittesting.classinitializeattribute(v=vs.120).aspx\" rel=\"nofollow noreferrer\"><code>ClassInitialize</code></a> attribute.</p>\n\n<p>MSDN:</p>\n\n<blockquote>\n  <p>Identifies a method that contains code that must be used before any of the tests in the test class have run and to allocate resources to be used by the test class. This class cannot be inherited.</p>\n</blockquote>\n\n<p>...and:</p>\n\n<blockquote>\n  <p>When run in a load test, the method marked with this attribute <strong>will run once</strong>, and any initialization operations it performs will apply to the <strong>entire test</strong>. If you need to do initialization operations once for every virtual user iteration in the test, use the TestInitializeAttribute.</p>\n</blockquote>\n\n<p>In the example below, we instantiate a new <code>Foo</code> object and <code>Assert</code> it is not <code>null</code>.   We can of course test for other situations as desired.</p>\n\n<pre><code>[ClassInitialize]\npublic void ClassInit(TestContext context)\n{\n    TestFoo = new Foo(dynamicDataFromContext);\n    Assert.IsNotNull(TestFoo);\n}\n</code></pre>\n\n<p>If you are interested in a <em>data-driven test</em>, then you may want to check-out <em><a href=\"https://msdn.microsoft.com/en-us/library/ms182527.aspx\" rel=\"nofollow noreferrer\">How To: Create a Data-Driven Unit Test</a></em></p>\n\n<p>I think <a href=\"https://stackoverflow.com/users/55693\">CRice</a> makes <a href=\"https://stackoverflow.com/a/39260502/585968\">a fine point</a> on this page about <code>Assert.Inconclusive()</code> so you could optionally incorporate that too.</p>\n"}, {"comments": [{"owner": {"reputation": 11483, "user_id": 55693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5IoC2.png?s=128&g=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/55693/crice"}, "reply_to_user": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 1, "creation_date": 1472686924, "post_id": 39260502, "comment_id": 65857129, "body": "Yeah it helps when you have a ton of tests and if many go orange instead of red you know its not that they really failed but their setup did. Mainly this is for integration tests."}, {"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 0, "creation_date": 1472736627, "post_id": 39260502, "comment_id": 65880348, "body": "This answer is very helpful - for my purposes, <code>Assert.Inconclusive()</code> is way more appropriate than having all tests fail."}], "tags": [], "owner": {"reputation": 11483, "user_id": 55693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5IoC2.png?s=128&g=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/55693/crice"}, "is_accepted": false, "score": 3, "last_activity_date": 1472685864, "creation_date": 1472685864, "answer_id": 39260502, "question_id": 39260266, "link": "https://stackoverflow.com/questions/39260266/how-to-intentionally-fail-all-c-unit-tests/39260502#39260502", "title": "How to intentionally fail all C# unit tests", "body": "<p>Throwing an exception will fail tests. Or you can call Assert.Fail().</p>\n\n<p>It is better to Assert.Inconclusive() in the case when test pre-conditions fail. That way your tests will stop (orange) but not be fails (red) - the inconclusive state represents the case where the test pre-condition was not met and you never got up to asserting what you are trying to test.</p>\n"}], "owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1749, "favorite_count": 0, "accepted_answer_id": 39260468, "answer_count": 2, "score": 4, "last_activity_date": 1472695913, "creation_date": 1472684115, "last_edit_date": 1472685860, "question_id": 39260266, "link": "https://stackoverflow.com/questions/39260266/how-to-intentionally-fail-all-c-unit-tests", "title": "How to intentionally fail all C# unit tests", "body": "<p><strong>QUESTION:</strong></p>\n\n<p>I'm trying to figure out if there's a way to fail all C# unit tests whenever a particular condition is met.</p>\n\n<p><strong>BACKGROUND:</strong></p>\n\n<p>I set up a unit test for an object which encodes and decodes its internal data.  Here's a fairly contrived example:</p>\n\n<pre><code>[TestClass]\npublic class FooTests\n{\n    private Foo TestFoo { get; set; }\n\n    [TestMethod]\n    public void DataEncodingIsWorking()\n    {\n        // TestFoo.EncodeData() ...\n    }\n\n    [TestMethod]\n    public void DataDecodingIsWorking()\n    {\n        // TestFoo.DecodeData() ...\n    }\n\n    public FooTests(dynamic[] data) {\n        TestFoo = new Foo(data);\n    }\n}\n\npublic class Foo {\n\n    public void EncodeData() {\n        // encodes Foo's data\n    }\n\n    public void DecodeData() {\n        // decodes Foo's encoded data\n    }\n\n    public Foo(dynamic[] data) {\n        // feeds data to Foo\n    }\n}\n</code></pre>\n\n<p>Rather than creating a new instance of <code>TestFoo</code> in every <code>[TestMethod]</code> (somewhat repetitive), I created a global <code>TestFoo</code> object in <code>FooTests</code>.  If <code>TestFoo</code> fails to instantiate, I'm looking to fail all <code>FooTests</code> unit tests (as encoding/decoding will not work if the object fails to instantiate).</p>\n\n<p>This isn't really a question of best practices, but I'm also curious as to whether or not this approach is terrible.  I suppose another approach would be to set up an additional unit test to see whether or not <code>TestFoo</code> instantiates correctly.</p>\n"}, {"tags": ["c#", "winforms"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6427701, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/168f4e025d8cfda25868710a361f33dd?s=128&d=identicon&r=PG&f=1", "display_name": "elfenliedtopfan5 ", "link": "https://stackoverflow.com/users/6427701/elfenliedtopfan5"}, "edited": false, "score": 0, "creation_date": 1472689976, "post_id": 39260290, "comment_id": 65857863, "body": "thank you ever so much that worked perfectly just have to find out how to get it to work now with the convert process because i cmd can convert a file to .bin just need to work it out not sure how at the moment"}], "tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": false, "score": 0, "last_activity_date": 1472684309, "creation_date": 1472684309, "answer_id": 39260290, "question_id": 39260227, "link": "https://stackoverflow.com/questions/39260227/invoke-cmd-in-winforms-c/39260290#39260290", "title": "invoke cmd in winforms c#", "body": "<p>StartInfo has a <a href=\"https://msdn.microsoft.com/en-us/library/system.diagnostics.processstartinfo.workingdirectory(v=vs.110).aspx\" rel=\"nofollow\">WorkingDirectory</a> property that you can set to your desidered path. But remember, if you launch cmd.exe without /C or /K it exits immediately without executing your command arguments. Add /C or /K to your StartInfo.Arguments (better /K to see the result of your efforts)</p>\n\n<pre><code>    path = mainpath + \"//aaa//\";\n    MessageBox.Show(path);\n    Process bin = new Process();\n    bin.StartInfo.FileName = \"cmd.exe\";\n    bin.StartInfo.WorkingDirectory = path;\n    //bin.StartInfo.Arguments = \"cd \" + path;\n    bin.StartInfo.Arguments = \"/K dir\";\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6427701, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/168f4e025d8cfda25868710a361f33dd?s=128&d=identicon&r=PG&f=1", "display_name": "elfenliedtopfan5 ", "link": "https://stackoverflow.com/users/6427701/elfenliedtopfan5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1472684733, "creation_date": 1472683905, "last_edit_date": 1472684733, "question_id": 39260227, "link": "https://stackoverflow.com/questions/39260227/invoke-cmd-in-winforms-c", "title": "invoke cmd in winforms c#", "body": "<p>I'm trying to find all the files matching <code>*.XMODEL_EXPORT</code> and automatically convert them to .BIN format.</p>\n\n<p>Here's the code i have so far.</p>\n\n<pre><code>public DevComponents.DotNetBar.Controls.RichTextBoxEx richTextBoxEx1;\n\npublic static string path { get; set; }\n\npublic static string mainpath { get; set; }\n\npublic bo3_bincs(DevComponents.DotNetBar.Controls.RichTextBoxEx elfenliedtofan5txt)\n{\n    richTextBoxEx1 = elfenliedtofan5txt;\n}\n\npublic void check64()\n{\n    if(mainpath == null)\n    {\n        string programFilesX86 = Environment.ExpandEnvironmentVariables(\"%ProgramFiles(x86)%\");\n        mainpath = programFilesX86;\n    }\n    else\n    {\n        string programFiles = Environment.ExpandEnvironmentVariables(\"%ProgramW6432%\");\n        mainpath = programFiles;\n    }\n}\n\npublic void findpath()\n{\n    if (path == null)\n    {\n        MessageBox.Show(mainpath);\n        string elfenlied = mainpath + @\"/aaa/\";\n        string[] oDirectories = Directory.GetFiles(elfenlied, \"*.XMODEL_EXPORT\", SearchOption.AllDirectories);\n        foreach (string oCurrent in oDirectories) \n            richTextBoxEx1.Text = oCurrent;\n    }\n    else\n    {\n\n    }\n}\n\npublic void convertbin()\n{\n    path = mainpath + \"//aaa//\";\n    MessageBox.Show(path);\n    Process bin = new Process();\n    bin.StartInfo.FileName = \"cmd.exe\";\n    bin.StartInfo.Arguments = \"cd \" + path;\n    bin.StartInfo.RedirectStandardOutput = true;\n    bin.StartInfo.UseShellExecute = false;\n    //bin.StartInfo.Arguments = path;\n    //bin.StartInfo.RedirectStandardInput = true;\n    //bin.StartInfo.Arguments = \"rename *.**.bin\";\n    bin.Start();\n    richTextBoxEx1.Text = bin.StandardOutput.ReadToEnd();\n}\n</code></pre>\n\n<p>I want it to convert all the files from the specified folder, but it's just defaulting to the directory below the Visual Studio Debug folder.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "linq", "visual-studio-2015"], "comments": [{"owner": {"reputation": 882, "user_id": 4742083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-2OBePImgfe0/AAAAAAAAAAI/AAAAAAAABCU/JIY94Ef_vOU/photo.jpg?sz=128", "display_name": "Laurent Lequenne", "link": "https://stackoverflow.com/users/4742083/laurent-lequenne"}, "edited": false, "score": 1, "creation_date": 1472685011, "post_id": 39260226, "comment_id": 65856639, "body": "if there is a relationship between customers and orders you do not need to join, and just adapt your select statemebt by something like this. select new {CustomerID = c.CustomerId, TotalOrders = (t == null ? 0 : c.Orders.Count())};"}], "answers": [{"comments": [{"owner": {"reputation": 2402, "user_id": 1412430, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Vp5VB.jpg?s=128&g=1", "display_name": "Siraj Mansour", "link": "https://stackoverflow.com/users/1412430/siraj-mansour"}, "edited": false, "score": 1, "creation_date": 1472685812, "post_id": 39260467, "comment_id": 65856859, "body": "This will generate a sub-query per customer, not efficient at all !"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "reply_to_user": {"reputation": 2402, "user_id": 1412430, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Vp5VB.jpg?s=128&g=1", "display_name": "Siraj Mansour", "link": "https://stackoverflow.com/users/1412430/siraj-mansour"}, "edited": false, "score": 0, "creation_date": 1472685846, "post_id": 39260467, "comment_id": 65856866, "body": "@SirajMansour That&#39;s exactly what I already said at the top of my answer. Thanks for confirming though..."}, {"owner": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1472691029, "post_id": 39260467, "comment_id": 65858099, "body": "Are you sure you get subqueries in that case? Usually, I would used LinqPad to verify if that would be the case. However, in that case, I would have written the query as written in Laurent comment to the question."}], "tags": [], "owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "is_accepted": false, "score": 0, "last_activity_date": 1472685594, "creation_date": 1472685594, "answer_id": 39260467, "question_id": 39260226, "link": "https://stackoverflow.com/questions/39260226/linq-query-display-customers-with-their-number-of-orders-including-the-custome/39260467#39260467", "title": "LINQ Query - Display customers with their number of orders including the customer with no orders", "body": "<p>This isn't very efficient since it iterates through <code>Orders</code> for every customer, but it'll get the job done:</p>\n\n<pre><code>var query = Customers\n    .Select(c =&gt; new\n        {\n            Name = c.Name,\n            NumOrders = Orders.Count(o =&gt; o.CustomerId = c.CustomerId)\n        });\n\nforeach (var result in query)\n    Console.WriteLine(\"{0} -&gt; {1}\", result.Name, result.NumOrders);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "is_accepted": true, "score": 0, "last_activity_date": 1472686180, "last_edit_date": 1472686180, "creation_date": 1472685616, "answer_id": 39260473, "question_id": 39260226, "link": "https://stackoverflow.com/questions/39260226/linq-query-display-customers-with-their-number-of-orders-including-the-custome/39260473#39260473", "title": "LINQ Query - Display customers with their number of orders including the customer with no orders", "body": "<p>You basically need to do a LEFT JOIN between your Customer table and Customer Order table and then do a group by on that result to count the orders for each customer.</p>\n\n<p>Assuming you have a class like this</p>\n\n<pre><code>public class CustomerOrder\n{\n  public int CustomerId { set; get; }\n  public int? OrderId { set; get; }\n}\n</code></pre>\n\n<p><em>This class is to store each item for the left join result</em></p>\n\n<p>Now, you need to first do a LEFT JOIN and project the result of that to a list of <code>CustomerOrder</code> class objects, Then do a GroupBy on top of that</p>\n\n<pre><code>var usersWithCount = (from c in db.Customers\n    join o in db.Orders on c.CustomerId equals o.CustomerId \n    into result\n    from sub in result.DefaultIfEmpty()\n         select new CustomerOrder{  OrderId= sub!=null ? sub.OrderId :(int?) null,\n                                    CustomerId = u.CustomerId }\n) // Here we have the left join result.\n.GroupBy(g =&gt; g.CustomerId , (k, orders) =&gt; new { \n                    CustomerId = k, \n                    OrderCount = orders.Count(t=&gt;t.OrderId !=null)}).ToList();\n</code></pre>\n\n<p>The result stored in <code>usersWithCount</code> will be a collection of annonymous object with a <code>CustomerId</code> and <code>OrderCount</code> property.</p>\n"}, {"tags": [], "owner": {"reputation": 271, "user_id": 4003821, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IAeay.png?s=128&g=1", "display_name": "Emil", "link": "https://stackoverflow.com/users/4003821/emil"}, "is_accepted": false, "score": 0, "last_activity_date": 1472721817, "creation_date": 1472721817, "answer_id": 39267641, "question_id": 39260226, "link": "https://stackoverflow.com/questions/39260226/linq-query-display-customers-with-their-number-of-orders-including-the-custome/39267641#39267641", "title": "LINQ Query - Display customers with their number of orders including the customer with no orders", "body": "<pre><code>var Query1 = from c in Customers\n     join o in Orders on c.CustomerId equals o.CustomerId into OrdersGroup\n    from item in OrdersGroup.DefaultIfEmpty(new Order { OrderId = 0, CustomerId = 0 })                      \n    select new {CustomerID = c.CustomerId, OrderID = (item == null ? 0 : item.OrderId)};\n</code></pre>\n\n<p>this will return all customers (even if they have no orders ) and orders </p>\n\n<p><a href=\"https://dotnetfiddle.net/BoHx2d\" rel=\"nofollow\">https://dotnetfiddle.net/BoHx2d</a></p>\n"}], "owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2102, "favorite_count": 0, "accepted_answer_id": 39260473, "answer_count": 3, "score": 1, "last_activity_date": 1472721817, "creation_date": 1472683904, "question_id": 39260226, "link": "https://stackoverflow.com/questions/39260226/linq-query-display-customers-with-their-number-of-orders-including-the-custome", "title": "LINQ Query - Display customers with their number of orders including the customer with no orders", "body": "<p>In the following LINQ Query I need to display <code>All</code> the customers with total number of their orders placed including the customers that have not placed any orders:</p>\n\n<p><strong>Models</strong>:</p>\n\n<pre><code>Public class Customer\n{\n   public int CustomerId { get; set; }\n   public string Name{ get; set; }\n}\n\nPublic class Order\n{\n   public int OrderId { get; set; }\n   public int CustomerId { get; set; }\n}\n</code></pre>\n\n<p><strong>LINQ Query</strong>: Question: How can I display <code>ALL</code> customers (including the one that have no order) and total number of orders per customer (zero for those whose customerID is not in Orders table)</p>\n\n<pre><code>var Query1 = from c in Customers\n             join o in Orders into co\n             from t in co.DefaultIfEmpty()\n             select new {CustomerID = c.CustomerId, OrderID = (t == null ? 0 : t.OrderId)};\n</code></pre>\n"}, {"tags": ["c#", "c#-6.0"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1472683819, "post_id": 39260137, "comment_id": 65856322, "body": "The first is a <code>get</code> that returns a hard-coded string, the second has a backing field."}], "answers": [{"comments": [{"owner": {"reputation": 8282, "user_id": 2594485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f83259580b901bbf7c3c38f3a9b7eef8?s=128&d=identicon&r=PG", "display_name": "Dennis_E", "link": "https://stackoverflow.com/users/2594485/dennis-e"}, "edited": false, "score": 2, "creation_date": 1472683986, "post_id": 39260219, "comment_id": 65856364, "body": "It&#39;s vice versa: the first will execute the expression each time; the second will return the same value."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "reply_to_user": {"reputation": 8282, "user_id": 2594485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f83259580b901bbf7c3c38f3a9b7eef8?s=128&d=identicon&r=PG", "display_name": "Dennis_E", "link": "https://stackoverflow.com/users/2594485/dennis-e"}, "edited": false, "score": 0, "creation_date": 1472684148, "post_id": 39260219, "comment_id": 65856418, "body": "@Dennis_E Thanks, fixed.  I realized I had it backwards when I started adding the pre-C#6 equivalent."}], "tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 9, "last_activity_date": 1472684120, "last_edit_date": 1472684120, "creation_date": 1472683877, "answer_id": 39260219, "question_id": 39260137, "link": "https://stackoverflow.com/questions/39260137/difference-between-somevalue-get-true-vs-somevalue-true-in-properties/39260219#39260219", "title": "Difference between SomeValue {get;} = true; vs SomeValue =&gt; true; in Properties", "body": "<p>In your example there is no functional difference because you're always returning a constant value.  However if the value could change, e.g.</p>\n\n<pre><code>public string SomeProperty =&gt; DateTime.Now.ToString();\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>public string SomeProperty { get; } = DateTime.Now.ToString();\n</code></pre>\n\n<p>The first would execute the expression each time the property was called.  The second would return the same value every time the property was accessed since the value is set <em>at initialization</em>.</p>\n\n<p>In pre-C#6 syntax the equivalent code for each would be</p>\n\n<pre><code>public string SomeProperty\n{\n    get { return DateTime.Now.ToString();}\n}\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>private string _SomeProperty = DateTime.Now.ToString();\npublic string SomeProperty \n{ \n    get {return _SomeProperty;} \n}\n</code></pre>\n"}], "owner": {"reputation": 84718, "user_id": 77779, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1a62456c71b0851726898e87ec88b69c?s=128&d=identicon&r=PG", "display_name": "Yishai", "link": "https://stackoverflow.com/users/77779/yishai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "closed_date": 1472684268, "accepted_answer_id": 39260219, "answer_count": 1, "score": 3, "last_activity_date": 1472684120, "creation_date": 1472683425, "question_id": 39260137, "link": "https://stackoverflow.com/questions/39260137/difference-between-somevalue-get-true-vs-somevalue-true-in-properties", "closed_reason": "Duplicate", "title": "Difference between SomeValue {get;} = true; vs SomeValue =&gt; true; in Properties", "body": "<p>In C# you could declare a property in two ways that seem very similar:</p>\n\n<pre><code>public string SomeProperty =&gt; \"SomeValue\";\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>public string SomeProperty { get; } = \"SomeValue\";\n</code></pre>\n\n<p>Is there a difference between these two? (Ignoring the fact that \"SomeValue\" is not a very interesting value, it could be the result of a method call or whatever else would express a difference between the two forms).</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1472683528, "post_id": 39260102, "comment_id": 65856239, "body": "Properties don&#39;t &quot;come from&quot; an interface in the way they do from a base class. An interface is just a contract. When a class implements an interface, it&#39;s just saying &quot;I agree to meet this interface&#39;s contract requirements&quot;. So you know <code>Bus</code> has a <code>LocX</code> property. Are you just trying to determine if <code>Bus</code> implements <code>IPresentable</code>? If so, you just need to check <code>typeof(IPresentable).IsAssignableFrom(typeof(Bus))</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1935, "user_id": 202294, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e75c4433bb5dbf1bf0adb11cd974c4c5?s=128&d=identicon&r=PG", "display_name": "Pacman", "link": "https://stackoverflow.com/users/202294/pacman"}, "edited": false, "score": 0, "creation_date": 1472684434, "post_id": 39260217, "comment_id": 65856498, "body": "Thats good, but I am actually looking for the opposite, I want to strip out the interface properties and only call the non interface properties."}, {"owner": {"reputation": 96748, "user_id": 74757, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/10331bb0b4eb995500acc85fb0d16aea?s=128&d=identicon&r=PG", "display_name": "C\u1d0f\u0280\u028f", "link": "https://stackoverflow.com/users/74757/c%e1%b4%8f%ca%80%ca%8f"}, "reply_to_user": {"reputation": 1935, "user_id": 202294, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e75c4433bb5dbf1bf0adb11cd974c4c5?s=128&d=identicon&r=PG", "display_name": "Pacman", "link": "https://stackoverflow.com/users/202294/pacman"}, "edited": false, "score": 1, "creation_date": 1472684497, "post_id": 39260217, "comment_id": 65856517, "body": "@Pacman: Then you would just change <code>.Intersect()</code> to <code>.Except()</code>, which would produce <code>ID</code> and <code>Name</code> as results."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1472684618, "post_id": 39260217, "comment_id": 65856553, "body": "You may also check <a href=\"http://stackoverflow.com/questions/3285392/matching-an-interfaces-properyinfo-with-a-classs-propertyinfo\" title=\"matching an interfaces properyinfo with a classs propertyinfo\">stackoverflow.com/questions/3285392/&hellip;</a> for proper interface - to method mapping (i.e. interface may have just get, but class both get/set)."}], "tags": [], "owner": {"reputation": 96748, "user_id": 74757, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/10331bb0b4eb995500acc85fb0d16aea?s=128&d=identicon&r=PG", "display_name": "C\u1d0f\u0280\u028f", "link": "https://stackoverflow.com/users/74757/c%e1%b4%8f%ca%80%ca%8f"}, "is_accepted": true, "score": 4, "last_activity_date": 1472684301, "last_edit_date": 1472684301, "creation_date": 1472683869, "answer_id": 39260217, "question_id": 39260102, "link": "https://stackoverflow.com/questions/39260102/is-there-a-way-to-tell-in-runtime-if-a-class-property-comes-from-an-interface/39260217#39260217", "title": "Is there a way to tell in runtime if a class property comes from an interface?", "body": "<p>Using reflection, we can interrogate the <code>Bus</code> class and retrieve the list of property names that \"belong\" both to the class and all interfaces it might be implementing:</p>\n\n<pre><code>var interfaceProperties = typeof(Bus)\n    .GetProperties().Select(p =&gt; p.Name)\n    .Intersect(typeof(Bus)\n        .GetInterfaces()\n        .SelectMany(i =&gt; i.GetProperties())\n        .Select(p =&gt; p.Name))\n</code></pre>\n\n<p>The result <code>interfaceProperties</code> is an <code>IEnumerable&lt;string&gt;</code>. In this case, it would contain:</p>\n\n<pre><code>LocX\nLocY\n</code></pre>\n\n<p>You can check the list for the properties you want.</p>\n\n<p>IMO, this is an expensive way to interrogate your classes for this information. Maybe with more background about <em>why</em> you want to do this, a better alternative could be produced.</p>\n"}], "owner": {"reputation": 1935, "user_id": 202294, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e75c4433bb5dbf1bf0adb11cd974c4c5?s=128&d=identicon&r=PG", "display_name": "Pacman", "link": "https://stackoverflow.com/users/202294/pacman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 39260217, "answer_count": 1, "score": 0, "last_activity_date": 1472684301, "creation_date": 1472683213, "question_id": 39260102, "link": "https://stackoverflow.com/questions/39260102/is-there-a-way-to-tell-in-runtime-if-a-class-property-comes-from-an-interface", "title": "Is there a way to tell in runtime if a class property comes from an interface?", "body": "<pre><code>public class Bus : IPresentable\n{\n    public string Name { get; set; } = \"Bus\";\n    public int ID { get; set; } = 12345;\n\n    //******** IPresentable interface ***************//\n    public int LocX { get; set; }\n\n    public int LocY { get; set; }\n}\n</code></pre>\n\n<p>Interface: </p>\n\n<pre><code>public interface IPresentable\n{\n    int LocX { get; set; }\n    int LocY { get; set; }\n}\n</code></pre>\n\n<p>in my application:</p>\n\n<pre><code>Bus bus = new Bus();\nbus.LocX = 10; // is there a way to tell that this comes from interface\nbus.Name = \"New Name\" ; // but this is not ?\n</code></pre>\n"}, {"tags": ["c#", "linq", "deferred-execution"], "comments": [{"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1472682680, "post_id": 39259942, "comment_id": 65855967, "body": "I am not sure I understand. What do you mean by &quot;the Count method does not make the query to be executed?&quot;?"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1472682688, "post_id": 39259942, "comment_id": 65855970, "body": "&quot;So, the Count method does not make the query to be executed?&quot; I don&#39;t know how you&#39;re arriving at this conclusion. Are you expecting it to now how many movies are after 2000 before analyzing all of the movies&#39; years? I don&#39;t see how that&#39;s possible."}, {"owner": {"reputation": 8282, "user_id": 2594485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f83259580b901bbf7c3c38f3a9b7eef8?s=128&d=identicon&r=PG", "display_name": "Dennis_E", "link": "https://stackoverflow.com/users/2594485/dennis-e"}, "edited": false, "score": 0, "creation_date": 1472682725, "post_id": 39259942, "comment_id": 65855984, "body": "&quot;Count method does not make the query to be executed?&quot; Yes, it <b>does</b> cause the query to be executed. And it is executed again because of the <code>foreach</code> loop."}, {"owner": {"reputation": 19619, "user_id": 517558, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ODH9r.jpg?s=128&g=1", "display_name": "Buda Gavril", "link": "https://stackoverflow.com/users/517558/buda-gavril"}, "edited": false, "score": 0, "creation_date": 1472682751, "post_id": 39259942, "comment_id": 65855994, "body": "if you add ToList() at my query, when I iterate my result, the base collection it&#39;s not iterated again"}, {"owner": {"reputation": 19619, "user_id": 517558, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ODH9r.jpg?s=128&g=1", "display_name": "Buda Gavril", "link": "https://stackoverflow.com/users/517558/buda-gavril"}, "edited": false, "score": 0, "creation_date": 1472682776, "post_id": 39259942, "comment_id": 65856004, "body": "but if I execiue Count and iterate the result of the query, my base collection is iterated twice"}, {"owner": {"reputation": 8282, "user_id": 2594485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f83259580b901bbf7c3c38f3a9b7eef8?s=128&d=identicon&r=PG", "display_name": "Dennis_E", "link": "https://stackoverflow.com/users/2594485/dennis-e"}, "edited": false, "score": 0, "creation_date": 1472682815, "post_id": 39259942, "comment_id": 65856018, "body": "@BudaGavril Of course, because then you are iterating the <code>List</code> you created with <code>ToList()</code>"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1472682816, "post_id": 39259942, "comment_id": 65856019, "body": "@BudaGavril That&#39;s right. That&#39;s because your <code>query</code> variable doesn&#39;t hold a result set. It holds the query which is basically the rules for generating a result set. Every time you enumerate that query, it&#39;s going to rerun the query. You can use <code>.ToList()</code> or <code>.ToArray()</code> to store the actual result set for multiple analyses to avoid multiple enumerations. This is why instead of &quot;lazy&quot; we use &quot;deferred execution&quot; because it better describes what you&#39;re experiencing."}, {"owner": {"reputation": 32143, "user_id": 4955425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y0RDl.jpg?s=128&g=1", "display_name": "sstan", "link": "https://stackoverflow.com/users/4955425/sstan"}, "edited": false, "score": 0, "creation_date": 1472682894, "post_id": 39259942, "comment_id": 65856037, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/32621500/is-there-a-way-to-run-the-query-and-inspect-the-aggregate-data-without-rerunning\">Is there a way to run the query and inspect the aggregate data without rerunning the query again?</a>"}, {"owner": {"reputation": 19619, "user_id": 517558, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ODH9r.jpg?s=128&g=1", "display_name": "Buda Gavril", "link": "https://stackoverflow.com/users/517558/buda-gavril"}, "edited": false, "score": 0, "creation_date": 1472682990, "post_id": 39259942, "comment_id": 65856071, "body": "but my question was why does this happen because it&#39;s clear that this is not an optimization... And if the result is lazy, it can be obtained by executing Count method, why the list is enumerated again?"}, {"owner": {"reputation": 19619, "user_id": 517558, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ODH9r.jpg?s=128&g=1", "display_name": "Buda Gavril", "link": "https://stackoverflow.com/users/517558/buda-gavril"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1472683148, "post_id": 39259942, "comment_id": 65856124, "body": "@itsme86 so you&#39;re saying that if I don&#39;t call a tolist or toarray method on my query, every time I&#39;m printing the results, for example, my base collection will be iterated again ?"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1472683159, "post_id": 39259942, "comment_id": 65856126, "body": "Because that&#39;s the way it works and it makes it very powerful. You&#39;ve been told how to avoid re-enumeration by using <code>.ToList()</code>. I don&#39;t know what else you want."}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 1, "creation_date": 1472683203, "post_id": 39259942, "comment_id": 65856139, "body": "Yes. The query itself is just a blueprint for generating results."}, {"owner": {"reputation": 19619, "user_id": 517558, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ODH9r.jpg?s=128&g=1", "display_name": "Buda Gavril", "link": "https://stackoverflow.com/users/517558/buda-gavril"}, "edited": false, "score": 0, "creation_date": 1472683268, "post_id": 39259942, "comment_id": 65856167, "body": "ok, thank you. &quot;query itself is just a blueprint for generating results&quot; made clear the behaviour"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 5, "creation_date": 1472684397, "post_id": 39259942, "comment_id": 65856490, "body": "Once again, I will say what I always say when this question comes up:  the value of a query is <i>an object that represents the question</i>, not <i>an object that represents the answer</i>. Why? Because every time you ask a question, <i>the answer can be different</i>. If I ask you &quot;how many movies are in the database?&quot; twice, the answer can be <i>different</i> each time because databases <i>change</i>."}, {"owner": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1472693422, "post_id": 39259942, "comment_id": 65858599, "body": "Well, when you execute a query by calling <code>Count()</code> or <code>foreach</code>, it might generate different query. That might not be the case for Linq-to-object but for Linq to SQL or Entities, the generated request for <code>Count</code> would not retrieve data but only return the number of items. Thus, next function you call on your query might need a completly different query. <b>The lazy optimization is that if you don&#39;t call any function on the query, nothing would be executed and in some cases actual code would be optimized for the specific function that cause the execution of the query.</b>"}], "answers": [{"tags": [], "owner": {"reputation": 235, "user_id": 2131841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d49b7148ea37a3b418ff9292d2fa26a4?s=128&d=identicon&r=PG", "display_name": "Hamawi", "link": "https://stackoverflow.com/users/2131841/hamawi"}, "is_accepted": true, "score": 2, "last_activity_date": 1472714736, "last_edit_date": 1472714736, "creation_date": 1472683938, "answer_id": 39260232, "question_id": 39259942, "link": "https://stackoverflow.com/questions/39259942/linq-count-method-why-the-query-is-executed-again/39260232#39260232", "title": "LINQ Count method : why the query is executed again?", "body": "<p>Count did executed the query. those are the 4 lines before the \"2\".\nthe 6 lines after is the foreach. which rerun the query.</p>\n\n<p>If what puzzle you is why the expression was evaluted twice. and by</p>\n\n<blockquote>\n  <p>So, the Count method does not make the query to be executed?</p>\n</blockquote>\n\n<p>you mean, \"Evaluate the conditions and saving the result\". this is not how LINQ works.</p>\n\n<p>Generaly speaking, when enumerating LINQ, for each element requested (MoveNext) LINQ is calculating only the new element. This way it doesn't process data that wasn't asked for. </p>\n\n<p>Rerunning the same LINQ expression will go over the elements again and do the processing all over again.</p>\n\n<p>Saving &amp; reusing the result is on you. you can easily do it using <code>ToArray()</code> or <code>ToList()</code></p>\n"}], "owner": {"reputation": 19619, "user_id": 517558, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ODH9r.jpg?s=128&g=1", "display_name": "Buda Gavril", "link": "https://stackoverflow.com/users/517558/buda-gavril"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 779, "favorite_count": 0, "accepted_answer_id": 39260232, "answer_count": 1, "score": 1, "last_activity_date": 1472714736, "creation_date": 1472682345, "last_edit_date": 1472682690, "question_id": 39259942, "link": "https://stackoverflow.com/questions/39259942/linq-count-method-why-the-query-is-executed-again", "title": "LINQ Count method : why the query is executed again?", "body": "<p>I have read that the LINQ is very lazy...</p>\n\n<p>I have a class with a model:</p>\n\n<pre><code>class Movie\n    {\n        public string Title { get; set; }\n        public float Rating { get; set; }\n\n        private int year;\n        public int Year\n        {\n            get\n            {\n                Console.WriteLine(\"Returning {0} for movie {1}\", year, Title);\n                return year;\n            }\n            set\n            {\n                year = value;\n            }\n        }\n    }\n</code></pre>\n\n<p>And I have the following code:</p>\n\n<pre><code>            var movies = new List&lt;Movie&gt;\n            {\n                new Movie {Title = \"The Dark Knight\", Rating = 8.9f, Year = 2008 },\n                new Movie {Title = \"The King's Speech\", Rating = 8.0f, Year = 2010 },\n                new Movie {Title = \"Casablanca\", Rating = 8.5f, Year = 1942 },\n                new Movie {Title = \"Star Wars 5\", Rating = 8.7f, Year = 1980 }\n            };\n\n            var query = movies.Where(m =&gt; m.Year &gt; 2000);\n            Console.WriteLine( query.Count( ) );\n            foreach(var movie in query)\n            {\n                Console.WriteLine(movie.Title);\n            }\n</code></pre>\n\n<p>And here is the output:</p>\n\n<pre><code>Returning 2008 for movie The Dark Knight\nReturning 2010 for movie The King's Speech\nReturning 1942 for movie Casablanca\nReturning 1980 for movie Star Wars 5\n2\nReturning 2008 for movie The Dark Knight\nThe Dark Knight\nReturning 2010 for movie The King's Speech\nThe King's Speech\nReturning 1942 for movie Casablanca\nReturning 1980 for movie Star Wars 5\n</code></pre>\n\n<p>So, the Count method does not make the query to be executed? I see this as an opposite to an optimization... So is there a logical reason behind this? (The only reasonable reason that I see for this behaviour is CQS principle)</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "sql", "null", "nullable"], "answers": [{"comments": [{"owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "edited": false, "score": 0, "creation_date": 1472682612, "post_id": 39259973, "comment_id": 65855947, "body": "If you don&#39;t care what order things come in, you can take this parallel/async as well."}], "tags": [], "owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "is_accepted": false, "score": -1, "last_activity_date": 1472682485, "creation_date": 1472682485, "answer_id": 39259973, "question_id": 39259918, "link": "https://stackoverflow.com/questions/39259918/inline-null-check-for-sqldatareader-objects/39259973#39259973", "title": "Inline null check for SqlDataReader objects", "body": "<p>Here's an example that works for fields (can easily be converted to properties) and allows for null checks. It does the dreaded if (in a switch), but it's pretty fast.</p>\n\n<pre><code> public static object[] sql_Reader_To_Type(Type t, SqlDataReader r)\n    {\n        List&lt;object&gt; ret = new List&lt;object&gt;();\n        while (r.Read())\n        {\n            FieldInfo[] f = t.GetFields();\n            object o = Activator.CreateInstance(t);\n            for (int i = 0; i &lt; f.Length; i++)\n            {\n                string thisType = f[i].FieldType.ToString();\n                switch (thisType)\n                {\n                    case \"System.String\":\n\n                        f[i].SetValue(o, Convert.ToString(r[f[i].Name]));\n                        break;\n                    case \"System.Int16\":\n                        f[i].SetValue(o, Convert.ToInt16(r[f[i].Name]));\n                        break;\n                    case \"System.Int32\":\n                        f[i].SetValue(o, Convert.ToInt32(r[f[i].Name]));\n                        break;\n                    case \"System.Int64\":\n                        f[i].SetValue(o, Convert.ToInt64(r[f[i].Name]));\n                        break;\n                    case \"System.Double\":\n                       double th;\n                        if (r[f[i].Name] == null)\n                        {\n                            th = 0;\n                        }\n                        else\n                        {\n                            if (r[f[i].Name].GetType() == typeof(DBNull))\n                            {\n                                th = 0;\n                            }\n                            else\n                            {\n                                th = Convert.ToDouble(r[f[i].Name]);\n                            }\n                        }\n                        try { f[i].SetValue(o, th); }\n                        catch (Exception e1)\n                        {\n                            throw new Exception(\"can't convert \" + f[i].Name + \" to doube - value =\" + th);\n                        }\n                        break;\n                    case \"System.Boolean\":\n                        f[i].SetValue(o, Convert.ToInt32(r[f[i].Name]) == 1 ? true : false);\n                        break;\n                    case \"System.DateTime\":\n                        f[i].SetValue(o, Convert.ToDateTime(r[f[i].Name]));\n                        break;\n                    default:\n                        throw new Exception(\"Missed data type in sql select \");\n\n                }\n            }\n            ret.Add(o);\n\n        }\n        return ret.ToArray();\n\n\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 297, "user_id": 2011755, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/1Mrex.jpg?s=128&g=1", "display_name": "thanby", "link": "https://stackoverflow.com/users/2011755/thanby"}, "edited": false, "score": 0, "creation_date": 1472738486, "post_id": 39260078, "comment_id": 65881833, "body": "Elegantly simple and works amazingly well. Hats off to you, sir."}], "tags": [], "owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "is_accepted": true, "score": 3, "last_activity_date": 1472683087, "creation_date": 1472683087, "answer_id": 39260078, "question_id": 39259918, "link": "https://stackoverflow.com/questions/39259918/inline-null-check-for-sqldatareader-objects/39260078#39260078", "title": "Inline null check for SqlDataReader objects", "body": "<p>Null from a database is not \"null\", it's DbNull.Value. ?? and ?. operators won't work in this case. GetInt32, etc. will throw an exception if the value is null in the DB. I do a generic method and keep it simple:</p>\n\n<pre><code>T SafeDBReader&lt;T&gt;(SqlReader reader, string columnName)\n{\n   object o = reader[columnName];\n\n   if (o == DBNull.Value)\n   {\n      // need to decide what behavior you want here\n   }\n\n   return (T)o;\n}\n</code></pre>\n\n<p>If your DB has nullable ints for example, you can't read those into an int unless you want to default to 0 or something like. For nullable types, you can just return null or default(T).</p>\n\n<p>Shannon's solution is both overly complicated and will be a performance issue (lots of over the top reflection) IMO.</p>\n"}, {"tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": false, "score": 1, "last_activity_date": 1472738451, "last_edit_date": 1472738451, "creation_date": 1472683807, "answer_id": 39260206, "question_id": 39259918, "link": "https://stackoverflow.com/questions/39259918/inline-null-check-for-sqldatareader-objects/39260206#39260206", "title": "Inline null check for SqlDataReader objects", "body": "<p>You can write a series of extensions method for each of the standard GetXXXX. These extensions receive an extra parameter that is the default to return in case the value of the field is null. </p>\n\n<pre><code>public static class SqlDataReaderExtensions\n{\n    public int GetInt32(this SqlDataReader reader, int ordinal, int defValue = default(int))\n    {\n        return (reader.IsDBNull(ordinal) ? defValue : reader.GetInt32(ordinal);\n    }\n    public string GetString(this SqlDataReader reader, int ordinal, int defValue = \"\")\n    {\n        return (reader.IsDBNull(ordinal) ? defValue : reader.GetString(ordinal);\n    }\n    public int GetDecimal(this SqlDataReader reader, int ordinal, decimal defValue = default(decimal))\n    {\n       ....\n    }\n}\n</code></pre>\n\n<p>This allows you to leave your current code as is without changes or just change the fields that needs the null as return </p>\n\n<pre><code>while (reader.Read())\n{\n    results.Add(new MyProduct() {\n        ProductID = reader.GetInt32(oProductID),\n        ProductName = reader.GetString(oProductName, \"(No name)\"),\n        MinReorder = reader.GetInt32(oReorder, null)\n        .....\n    });\n}\n</code></pre>\n\n<p>You can also have a version where you pass the column name instead of the ordinal position and do the search for the position inside the extension, but this is probably not good from a performance point of view.</p>\n"}], "owner": {"reputation": 297, "user_id": 2011755, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/1Mrex.jpg?s=128&g=1", "display_name": "thanby", "link": "https://stackoverflow.com/users/2011755/thanby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 687, "favorite_count": 0, "accepted_answer_id": 39260078, "answer_count": 3, "score": 1, "last_activity_date": 1472738451, "creation_date": 1472682234, "question_id": 39259918, "link": "https://stackoverflow.com/questions/39259918/inline-null-check-for-sqldatareader-objects", "title": "Inline null check for SqlDataReader objects", "body": "<p>I'm trying to build a method that queries a SQL table and assigns the values it finds to a new list of objects. Here's a quick example of how it works (assume the reader and connection are set up and working properly):</p>\n\n<pre><code>List&lt;MyObject&gt; results = new List&lt;MyObject&gt;();\nint oProductID = reader.GetOrdinal(\"ProductID\");\nint oProductName = reader.GetOrdinal(\"ProductName\");\n\nwhile (reader.Read())\n{\n    results.Add(new MyProduct() {\n        ProductID = reader.GetInt32(oProductID),\n        ProductName = reader.GetString(oProductName)\n    });\n}\n</code></pre>\n\n<p>There are about 40 other properties too, <em>all</em> of them nullable in the <code>MyObject</code> definition, so I'm trying to keep the assignments as tidy as possible. The problem is that I need to assign null values to the object wherever the reader returns a null. In the above code, if the reader throws a \"Data is Null\" exception. I'm aware it's possible to use an <code>if</code> statement to check for a <code>DbNull</code> first, but since there are so many properties I'm hoping to keep the code cleaner by not having to spell out an <code>if</code> statement for every single property.</p>\n\n<p>A bit of searching led me to the <a href=\"https://msdn.microsoft.com/en-us/library/ms173224.aspx\" rel=\"nofollow\">null-coalescing</a> operator, which seems like it should do exactly what I want. So I tried changing the assignments to look like this:</p>\n\n<pre><code>ProductID = reader.GetInt32(oProductID) ?? null,\nProductName = reader.GetString(oProductName) ?? null\n</code></pre>\n\n<p>Which works fine for any <code>string</code> but gives me errors of <code>Operator '??' cannot be applied to operands of type 'int' and '&lt;null&gt;'</code> (or any other data type except <code>string</code>. I specifically called out the <code>int</code> (and everything else) as nullable in the object definition, but here it's telling me it can't do that.</p>\n\n<p><strong>The Question</strong> </p>\n\n<p>Is there a way to handle nulls in this case that can: <strong>(1)</strong> Be written clearly in-line (to avoid separate <code>if</code> statements for each property), and <strong>(2)</strong> Work with any data type?</p>\n"}, {"tags": ["c#", "azure", "storage", "fileshare"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 6780771, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Gl4PULAHm8A/AAAAAAAAAAI/AAAAAAAAJYE/8r2Wf4VGqf4/photo.jpg?sz=128", "display_name": "Carlos Saraiva Jr.", "link": "https://stackoverflow.com/users/6780771/carlos-saraiva-jr"}, "edited": false, "score": 2, "creation_date": 1472729134, "post_id": 39260636, "comment_id": 65874900, "body": "Hi Andrew, thanks for your time. Sorry if I was not clear on the question, the problem is I need to use the File Share in my Storage Account (like Blob, Queue). The WebJob published using the environment variable %HOME% as folder and this is not what I need. I need to use the path of my Storage Account. How to do this?"}, {"owner": {"reputation": 1922, "user_id": 1010984, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cfed77d1a8743ebe707082fef96d72ef?s=128&d=identicon&r=PG", "display_name": "sebastian.roibu", "link": "https://stackoverflow.com/users/1010984/sebastian-roibu"}, "edited": false, "score": 0, "creation_date": 1489409850, "post_id": 39260636, "comment_id": 72643518, "body": "I am also interested in mounting a share to a web job. Can someone share some knowledge ?"}], "tags": [], "owner": {"reputation": 40467, "user_id": 25216, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/WurYy.jpg?s=128&g=1", "display_name": "Andrew Shepherd", "link": "https://stackoverflow.com/users/25216/andrew-shepherd"}, "is_accepted": false, "score": 0, "last_activity_date": 1472687756, "last_edit_date": 1472687756, "creation_date": 1472686943, "answer_id": 39260636, "question_id": 39259917, "link": "https://stackoverflow.com/questions/39259917/azure-webjobs-with-storage-file-share/39260636#39260636", "title": "Azure WebJobs with Storage File Share", "body": "<p>You can see the exception throwing code <a href=\"https://github.com/Azure/azure-webjobs-sdk-extensions/blob/aaaef8ba282ebd3be52d64626ce84a48a9619475/src/WebJobs.Extensions/Extensions/Files/Listener/FileListener.cs#L171\" rel=\"nofollow\">here:</a></p>\n\n<pre><code>if (!Directory.Exists(_watchPath))\n{\n    throw new InvalidOperationException(string.Format(\"Path '{0}' does not exist.\", _watchPath));\n}\n</code></pre>\n\n<p>It requires the folder to exist before the job host starts.</p>\n\n<p>A quick workaround is to create the directory before you kick off the job:</p>\n\n<pre><code>public class Program\n{\n    // Please set the following connection strings in app.config for this WebJob to run:\n    // AzureWebJobsDashboard and AzureWebJobsStorage\n    public static void Main()\n    {\n\n         if(!System.IO.Directory.Exists(@\"D:\\home\\data\\XML\")) \n         {\n              System.IO.Directory.Create(@\"D:\\home\\data\\XML\");\n         }\n\n         JobHostConfiguration jobConfiguration = new JobHostConfiguration();\n         FilesConfiguration fileConfiguration = new FilesConfiguration();\n\n         jobConfiguration.UseFiles(fileConfiguration);\n         jobConfiguration.UseTimers();\n\n         var host = new JobHost(jobConfiguration);\n         host.RunAndBlock();\n    }\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6780771, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Gl4PULAHm8A/AAAAAAAAAAI/AAAAAAAAJYE/8r2Wf4VGqf4/photo.jpg?sz=128", "display_name": "Carlos Saraiva Jr.", "link": "https://stackoverflow.com/users/6780771/carlos-saraiva-jr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1016, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1482251397, "creation_date": 1472682231, "question_id": 39259917, "link": "https://stackoverflow.com/questions/39259917/azure-webjobs-with-storage-file-share", "title": "Azure WebJobs with Storage File Share", "body": "<p>How can I use a FileTrigger to get my uploaded file?</p>\n\n<p>Configuration code:</p>\n\n<pre><code>public class Program\n{\n    // Please set the following connection strings in app.config for this WebJob to run:\n    // AzureWebJobsDashboard and AzureWebJobsStorage\n    public static void Main()\n    {\n\n        JobHostConfiguration jobConfiguration = new JobHostConfiguration();\n        FilesConfiguration fileConfiguration = new FilesConfiguration();\n\n        jobConfiguration.UseFiles(fileConfiguration);\n        jobConfiguration.UseTimers();\n\n        var host = new JobHost(jobConfiguration);\n\n        // The following code ensures that the WebJob will be running continuously\n        host.RunAndBlock();\n    }\n}\n</code></pre>\n\n<p>The following code gives error when running WebJob</p>\n\n<pre><code>    public static void ProcessXml([FileTrigger(@\"XML\\{name}\", \"*.xml\", autoDelete: true)] Stream file, string name, TextWriter log)\n    {\n        try\n        {\n            TextReader reader = new StreamReader(file);\n            ProcessFile(reader);\n        }\n        catch (Exception ex)\n        {\n            log.WriteLine(string.Format(\"Ao processar o arquivo '{0}', o seguinte erro ocorreu: {1}\", name, ex.Message));\n        }\n        log.WriteLine(string.Format(\"Arquivo '{0}' processado!\", name));\n    }\n</code></pre>\n\n<p>Error: </p>\n\n<pre><code>[08/31/2016 21:59:39 &gt; 0d02fe: INFO] Found the following functions:\n[08/31/2016 21:59:39 &gt; 0d02fe: INFO] XXXX.jobs.Functions.ProcessXml\n[08/31/2016 21:59:39 &gt; 0d02fe: ERR ] \n[08/31/2016 21:59:39 &gt; 0d02fe: ERR ] Unhandled Exception: System.InvalidOperationException: Path 'D:\\home\\data\\XML' does not exist.\n[08/31/2016 21:59:39 &gt; 0d02fe: ERR ]    at Microsoft.Azure.WebJobs.Files.Listeners.FileListener.CreateFileWatcher()\n[08/31/2016 21:59:39 &gt; 0d02fe: ERR ]    at Microsoft.Azure.WebJobs.Files.Listeners.FileListener.&lt;StartAsync&gt;d__6.MoveNext()\n</code></pre>\n\n<p>How can I map the file path? I tried to use the network path as RootPath, however, an error occurs stating that the file path is invalid.</p>\n\n<p>Thank you very much any help.</p>\n"}, {"tags": ["c#", "xamarin.forms"], "comments": [{"owner": {"reputation": 1147, "user_id": 586429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DbtsQ.jpg?s=128&g=1", "display_name": "George Papadakis", "link": "https://stackoverflow.com/users/586429/george-papadakis"}, "edited": false, "score": 0, "creation_date": 1472729200, "post_id": 39259913, "comment_id": 65874934, "body": "Wrong approach, the only way is the platform specific way. Take an idea <a href=\"https://forums.xamarin.com/discussion/40585/can-we-place-searchbar-in-the-navigation-bar\" rel=\"nofollow noreferrer\">forums.xamarin.com/discussion/40585/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3796130"}, "reply_to_user": {"reputation": 1147, "user_id": 586429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DbtsQ.jpg?s=128&g=1", "display_name": "George Papadakis", "link": "https://stackoverflow.com/users/586429/george-papadakis"}, "edited": false, "score": 0, "creation_date": 1472744287, "post_id": 39259913, "comment_id": 65886077, "body": "@GeorgePapadakis the thing is, how I could retrieve the &quot;search result&quot; to my Forms and do what i want?"}], "owner": {"user_type": "does_not_exist", "display_name": "user3796130"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1472682221, "creation_date": 1472682221, "question_id": 39259913, "link": "https://stackoverflow.com/questions/39259913/how-to-create-a-searchbar-inside-of-toobar-xamarin-forms", "title": "How to create a searchbar inside of toobar Xamarin Forms", "body": "<p>I've been searching for while a method of using the default searchbar on Xamarin Forms inside of Toobar, the problem is, <code>ToolbarItem</code> class doesn't have any kinda of way to integrate something different than a \"Button\", in android native that is possible, i've seen a lot of apps with this searchbar. I read <a href=\"https://developer.xamarin.com/api/type/Xamarin.Forms.ToolbarItem/\" rel=\"nofollow\">this</a> and i couldn't find anything. here what i have so far :</p>\n\n<pre><code>var filter = new ToolbarItem\n        {\n            Text = \"Filtrar\",\n            Icon = \"filter.png\",\n            Priority = 1,                \n\n            Order = ToolbarItemOrder.Primary\n        };\n</code></pre>\n\n<p>And the searchbar :</p>\n\n<pre><code>  &lt;StackLayout&gt;\n&lt;SearchBar x:Name=\"searchB\"/&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["c#", "ios", "xamarin.forms", "prism"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4709550, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2400e27df9caa6d33fc550fd32366540?s=128&d=identicon&r=PG&f=1", "display_name": "Troto", "link": "https://stackoverflow.com/users/4709550/troto"}, "edited": false, "score": 0, "creation_date": 1472700770, "post_id": 39260462, "comment_id": 65860249, "body": "So there is no way to know when it renders?  I have two pages having issues. The first one uses a hybrid web view and I&#39;d like to execute some javascript once it&#39;s loaded. The second one starts polling for a connection and it&#39;s stopping the page loading. I guess the second one could be an issue with accidentally blocking the main thread but still it could be solved by a on rendered event."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5420778"}, "reply_to_user": {"reputation": 35, "user_id": 4709550, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2400e27df9caa6d33fc550fd32366540?s=128&d=identicon&r=PG&f=1", "display_name": "Troto", "link": "https://stackoverflow.com/users/4709550/troto"}, "edited": false, "score": 1, "creation_date": 1472737854, "post_id": 39260462, "comment_id": 65881303, "body": "Not that I can think of.  Even the Page.OnAppearing happens prior to the Page becoming visible.   <a href=\"https://developer.xamarin.com/api/member/Xamarin.Forms.Page.OnAppearing/\" rel=\"nofollow noreferrer\">developer.xamarin.com/api/member/Xamarin.Forms.Page.OnAppear&zwnj;&#8203;ing</a>  Your second issue can be solved by making it async regardless of when the page becomes visible."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5420778"}, "is_accepted": true, "score": 0, "last_activity_date": 1472685567, "creation_date": 1472685567, "answer_id": 39260462, "question_id": 39259901, "link": "https://stackoverflow.com/questions/39259901/onnavigatedto-called-before-page-has-loaded-in-ios/39260462#39260462", "title": "OnNavigatedTo called before page has loaded in iOS", "body": "<p>OnNavigatedTo is called directly after the call to Xamarin.Forms Navigation.PushModalAsync or Navigation.PushAsync.  It's the last step in the navigation process.  You can see that here:</p>\n\n<p><a href=\"https://github.com/PrismLibrary/Prism/blob/master/Source/Xamarin/Prism.Forms/Navigation/PageNavigationService.cs#L353\" rel=\"nofollow\">https://github.com/PrismLibrary/Prism/blob/master/Source/Xamarin/Prism.Forms/Navigation/PageNavigationService.cs#L353</a></p>\n\n<p>Depending on how complicated your view is and how much needs to render, it might cause a delay in the rendering of your View.  I'm not sure how any code in OnNavigatedTo would lead to any strange behavior because at least all your data should already be loaded and ready to display.</p>\n"}], "owner": {"reputation": 35, "user_id": 4709550, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2400e27df9caa6d33fc550fd32366540?s=128&d=identicon&r=PG&f=1", "display_name": "Troto", "link": "https://stackoverflow.com/users/4709550/troto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "accepted_answer_id": 39260462, "answer_count": 1, "score": 0, "last_activity_date": 1472685567, "creation_date": 1472682156, "question_id": 39259901, "link": "https://stackoverflow.com/questions/39259901/onnavigatedto-called-before-page-has-loaded-in-ios", "title": "OnNavigatedTo called before page has loaded in iOS", "body": "<p>I've noticed that when running the iOS version on an iPhone that my viewmodel is being loaded and the OnNavigatedTo is being called before the page actually shows up on the screen and it's leading to some strange behaviour when logic in the OnNavigatedTo doesn't correspond to what's on the screen.</p>\n\n<p>Firstly, is this correct behaviour?</p>\n\n<p>Secondly, is there any way to determine when the page has actually displayed?</p>\n"}, {"tags": ["c#", ".net", "async-await", "asp.net-web-api2", "dotnet-httpclient"], "answers": [{"tags": [], "owner": {"reputation": 1504, "user_id": 6661629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fe85709b0198765bac339d97f927462?s=128&d=identicon&r=PG", "display_name": "Ha Hoang", "link": "https://stackoverflow.com/users/6661629/ha-hoang"}, "is_accepted": true, "score": 2, "last_activity_date": 1472685782, "creation_date": 1472685782, "answer_id": 39260490, "question_id": 39259893, "link": "https://stackoverflow.com/questions/39259893/how-to-convert-output-of-httpclients-postasjsonasync-into-user-defined-list-o/39260490#39260490", "title": "How to convert output of HttpClient&#39;s PostAsJsonAsync() into user defined list of object", "body": "<p>You can use JsonConvert as below:</p>\n\n<pre><code>var jsonString=  response.Content.ReadAsStringAsync();\n\nvar employees = JsonConvert.DeserializeObject&lt;List&lt;Employee&gt;&gt;(jsonString);\n</code></pre>\n\n<p>Hope this help!</p>\n"}, {"tags": [], "owner": {"reputation": 1561, "user_id": 862795, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e15917a5578c5dd2f97b105a3f97a44c?s=128&d=identicon&r=PG", "display_name": "Rzassar", "link": "https://stackoverflow.com/users/862795/rzassar"}, "is_accepted": false, "score": 0, "last_activity_date": 1597215299, "creation_date": 1597215299, "answer_id": 63371374, "question_id": 39259893, "link": "https://stackoverflow.com/questions/39259893/how-to-convert-output-of-httpclients-postasjsonasync-into-user-defined-list-o/63371374#63371374", "title": "How to convert output of HttpClient&#39;s PostAsJsonAsync() into user defined list of object", "body": "<p>UPDATE 2020:\nUse some thing like this:</p>\n<pre><code>return await response.Content.ReadFromJsonAsync&lt;List&lt;Employee&gt;&gt;();\n</code></pre>\n"}], "owner": {"reputation": 2985, "user_id": 5722010, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ce4bd218ab1a0481197e57f7da845a63?s=128&d=identicon&r=PG&f=1", "display_name": "OpenStack", "link": "https://stackoverflow.com/users/5722010/openstack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1661, "favorite_count": 0, "accepted_answer_id": 39260490, "answer_count": 2, "score": 1, "last_activity_date": 1597215299, "creation_date": 1472682132, "question_id": 39259893, "link": "https://stackoverflow.com/questions/39259893/how-to-convert-output-of-httpclients-postasjsonasync-into-user-defined-list-o", "title": "How to convert output of HttpClient&#39;s PostAsJsonAsync() into user defined list of object", "body": "<p>I am making of <code>System.Net.Http.HttpClient</code> class to call an end point. This endpoint is expect certain input and returns a List of user defined object of type <code>Employee ( List&lt;Employee&gt;)</code>.</p>\n\n<p>This is the code that I am using. </p>\n\n<pre><code>using (var client = new HttpClient())\n            {\n                client.BaseAddress = new Uri(\"http://localhost:7792/\");\n                client.DefaultRequestHeaders.Accept.Clear();\n\n                FilterModel payload = new FilterModel();\n                payload.employeeId= 97050001;\n                payload.Level= \"Manager\";\n\n\n                // New code:\n                HttpResponseMessage response =  client.PostAsJsonAsync(\"api/employee\", payload).Result;\n                if (response.IsSuccessStatusCode)\n                {\n                    var employee=  response.Content.ReadAsStringAsync();\n\n//HOW DO I CONVERT THE OUTPUT INTO LIST&lt;EMPLOYEE&gt;?\n\n                    Console.Write(\"---DONE---\");\n\n                }\n\n                Console.ReadKey();\n            }\n</code></pre>\n\n<p>I know this is not the ideal way to call an end point &amp; I must use asyc await. I just need the data, the call can be sync or async &amp; I want to type cast the result into List.</p>\n\n<p>Currently I get a string back which I need to deserialize. Please help </p>\n"}, {"tags": ["c#", "async-await"], "comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1472683576, "post_id": 39259810, "comment_id": 65856253, "body": "Please note that providing <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is recommended for &quot;debug my code&quot; posts. In this case you should have narrowed down to &quot;Why following code runs synchronously: <code>await Task.FromResult&lt;string&gt;(messagePrompt.Prompt(prompt));</code> &quot;, or maybe even <code>await Task.FromResult&lt;string&gt;(&quot;test&quot;);</code>. Otherwise people may try to address other unrelated mistakes/confusing bits of code."}, {"owner": {"reputation": 95, "user_id": 2524686, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1550043f6ee73dbf07b708578def6f00?s=128&d=identicon&r=PG", "display_name": "pelotron", "link": "https://stackoverflow.com/users/2524686/pelotron"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1472745985, "post_id": 39259810, "comment_id": 65887176, "body": "If I knew within this stack that my problem was in this bit of code, I wouldn&#39;t have needed to post this question."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1472749812, "post_id": 39259810, "comment_id": 65889182, "body": "This is the whole point of trying to get <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - if one actually spends time trying to remove unrelated parts of the code from sample in most cases problem either becomes obvious or at least significantly easier to search for/get answer."}], "answers": [{"comments": [{"owner": {"reputation": 543, "user_id": 1672990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iaalg.png?s=128&g=1", "display_name": "Eric Sondergard", "link": "https://stackoverflow.com/users/1672990/eric-sondergard"}, "edited": false, "score": 0, "creation_date": 1472682800, "post_id": 39259881, "comment_id": 65856012, "body": "Also, see <a href=\"http://stackoverflow.com/questions/5095183/how-would-i-run-an-async-taskt-method-synchronously?rq=1\">this</a> post for a proper way to run asynchronous methods synchronously. Sometimes, you just have to do it."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1472683427, "post_id": 39259881, "comment_id": 65856201, "body": "While this is mostly valid information by itself, this does not address problem shown in the question - no really asynchronous methods. Consider either answering question or deleting the post."}, {"owner": {"reputation": 95, "user_id": 2524686, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1550043f6ee73dbf07b708578def6f00?s=128&d=identicon&r=PG", "display_name": "pelotron", "link": "https://stackoverflow.com/users/2524686/pelotron"}, "edited": false, "score": 0, "creation_date": 1472739414, "post_id": 39259881, "comment_id": 65882583, "body": "Wouldn&#39;t this lead to a chain of compiler warnings that would have me change every function in the stack to async?  If an async function is not awaited we get a warning, but to await it you must make the calling function async..."}], "tags": [], "owner": {"reputation": 543, "user_id": 1672990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iaalg.png?s=128&g=1", "display_name": "Eric Sondergard", "link": "https://stackoverflow.com/users/1672990/eric-sondergard"}, "is_accepted": false, "score": 1, "last_activity_date": 1472682890, "last_edit_date": 1472682890, "creation_date": 1472682083, "answer_id": 39259881, "question_id": 39259810, "link": "https://stackoverflow.com/questions/39259810/why-wont-this-async-await-run-asynchronously/39259881#39259881", "title": "Why won&#39;t this async/await run asynchronously?", "body": "<p>You need to make <code>CheckConditions()</code> async as well, and then await the call to <code>HandleConditionAsync(MyObject obj)</code>. <code>CheckConditions()</code> runs synchronously in your sample.</p>\n\n<pre><code>private async Task CheckConditionsAsync()\n{\n    foreach (var obj in myObjects)\n    {\n        if (obj.ConditionMet)\n        {\n            await HandleConditionAsync(obj);\n        }\n    }\n    DoOtherWork();\n}\n</code></pre>\n\n<p>Also, and this is just a best practices thing, an async method should always return a Task when possible. The only time I've ever had to use <code>async void</code> is for compatibility with an event handler. You can see I've changed <code>CheckConditions()</code> this way, and <code>HandleConditionAsync(MyObject obj)</code> should be modified similarly. I also changed the method name to represent it's asynchronous behaviour.</p>\n\n<p>If you need to run a method that returns a <code>Task</code> synchronously (and you shouldn't do this, this is an indication of something incorrect about your design), you can run it with <code>Task.FromResult(MyMethodAsync())</code>. Again, avoid doing this wherever you can, it defeats the purpose of making a method asynchronous to in the first place.</p>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 2524686, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1550043f6ee73dbf07b708578def6f00?s=128&d=identicon&r=PG", "display_name": "pelotron", "link": "https://stackoverflow.com/users/2524686/pelotron"}, "edited": false, "score": 0, "creation_date": 1472737593, "post_id": 39259961, "comment_id": 65881101, "body": "From what I understand Task.Run() sends your method to a thread pool to get executed.  What if I wanted this code to run on one thread?"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 95, "user_id": 2524686, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1550043f6ee73dbf07b708578def6f00?s=128&d=identicon&r=PG", "display_name": "pelotron", "link": "https://stackoverflow.com/users/2524686/pelotron"}, "edited": false, "score": 0, "creation_date": 1472740428, "post_id": 39259961, "comment_id": 65883323, "body": "<i>&quot;What if I wanted this code to run on one thread?&quot;</i> -- then it wouldn&#39;t be asynchronous. A single thread can only do one thing at a time. If you want the calling thread to be able to do anything else while you&#39;re waiting on the prompt, then you have to use another thread (whether via <code>Task.Run()</code> or any other mechanism). If you want it all to run in one thread, then get rid of all the <code>async</code>, <code>Task</code>, <code>await</code>, <code>AutoResetEvent</code>, etc. and just run it all in one thread."}, {"owner": {"reputation": 95, "user_id": 2524686, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1550043f6ee73dbf07b708578def6f00?s=128&d=identicon&r=PG", "display_name": "pelotron", "link": "https://stackoverflow.com/users/2524686/pelotron"}, "edited": false, "score": 0, "creation_date": 1472745634, "post_id": 39259961, "comment_id": 65886939, "body": "The <a href=\"https://msdn.microsoft.com/en-us/library/hh156528.aspx\" rel=\"nofollow noreferrer\">MSDN docs</a> state <i>&quot;An await expression does not block the thread on which it is executing. Instead, it causes the compiler to sign up the rest of the async method as a continuation on the awaited task.&quot;</i> To me the context implies that a Task may or may not be a separate thread. The <a href=\"https://msdn.microsoft.com/en-us/library/system.threading.tasks.task.aspx\" rel=\"nofollow noreferrer\">definition of Task</a> says <i>&quot;Represents an asynchronous operation.&quot;</i> which could mean &quot;.NET magic on one thread&quot; for all I know."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 95, "user_id": 2524686, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1550043f6ee73dbf07b708578def6f00?s=128&d=identicon&r=PG", "display_name": "pelotron", "link": "https://stackoverflow.com/users/2524686/pelotron"}, "edited": false, "score": 0, "creation_date": 1472746327, "post_id": 39259961, "comment_id": 65887359, "body": "<i>&quot;a Task may or may not be a separate thread&quot;</i> -- yes, you are right; that is absolutely correct. A <code>Task</code> may or may not even represent code that executes, never mind does it tell you anything about which thread that code executes on. But, that&#39;s different from asking what if you <i>wanted</i> the code to run on one thread. If you are in fact executing code, and that code is in fact executed entirely in a single thread, and that thread is the code that initiated the execution of that code, then by definition that wouldn&#39;t be asynchronous."}], "tags": [], "owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "is_accepted": true, "score": 4, "last_activity_date": 1472683575, "last_edit_date": 1495535646, "creation_date": 1472682431, "answer_id": 39259961, "question_id": 39259810, "link": "https://stackoverflow.com/questions/39259810/why-wont-this-async-await-run-asynchronously/39259961#39259961", "title": "Why won&#39;t this async/await run asynchronously?", "body": "<p>There's nothing in your code that's asynchronous. The only task you have, you created from a result value, meaning the <code>Prompt()</code> method has to complete and return its result before you'll even get the <code>Task</code> object back to wait on. That object will already be completed, so any <code>await</code> on it will complete immediately, once it has the <code>Task</code> to wait on.</p>\n\n<p>Maybe you meant this instead:</p>\n\n<pre><code>public async Task&lt;string&gt; MessagePromptAsync(string prompt)\n{\n    return await Task.Run(() =&gt; messagePrompt.Prompt(prompt));\n}\n</code></pre>\n\n<p>Or alternatively (if you really do have nothing else in the <code>MessagePromptAsync()</code> method):</p>\n\n<pre><code>public Task&lt;string&gt; MessagePromptAsync(string prompt)\n{\n    return Task.Run(() =&gt; messagePrompt.Prompt(prompt));\n}\n</code></pre>\n\n<p>Note that this may lead to a different problem, depending on what <code>DoOtherWork()</code> and <code>UIThread()</code> actually do. If your UI thread gets tied up in <code>DoOtherWork()</code> and the <code>UIThread()</code> method is wrapping <code>Dispatcher.Invoke()</code> or similar, then you'll have a deadlock.</p>\n\n<p>If that does not address your problem, please provide a good <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable code example</a> that reliably reproduces the problem.</p>\n"}], "owner": {"reputation": 95, "user_id": 2524686, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1550043f6ee73dbf07b708578def6f00?s=128&d=identicon&r=PG", "display_name": "pelotron", "link": "https://stackoverflow.com/users/2524686/pelotron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 760, "favorite_count": 0, "accepted_answer_id": 39259961, "answer_count": 2, "score": 2, "last_activity_date": 1472683575, "creation_date": 1472681677, "question_id": 39259810, "link": "https://stackoverflow.com/questions/39259810/why-wont-this-async-await-run-asynchronously", "title": "Why won&#39;t this async/await run asynchronously?", "body": "<p>I've searched for the answer to this but according to many guides and SO questions this code still appears correct to me, yet it runs synchronously.</p>\n\n<pre><code>private void CheckConditions()\n{\n    foreach (var obj in myObjects)\n    {\n        if (obj.ConditionMet)\n        {\n            HandleConditionAsync(obj);\n        }\n    }\n    DoOtherWork();\n}\n\nprivate async void HandleConditionAsync(MyObject obj)\n{\n    // shouldn't control transfer back to CheckConditions() here while we wait for user input?\n    string userInput = await obj.MessagePromptAsync(\"hello user\");\n    DoSomeBookkeeping(obj);\n}\n\n// (MyObject.cs)\nprivate MessagePrompt messagePrompt; // inherits from UserControl\npublic async Task&lt;string&gt; MessagePromptAsync(string prompt)\n{\n    return await Task.FromResult&lt;string&gt;(messagePrompt.Prompt(prompt));\n}\n\n// (MessagePrompt.cs)\npublic string Prompt(string prompt)\n{\n    this.UIThread(() =&gt; this.SetMessagePrompt(prompt));\n    userInputAutoResetEvent.WaitOne();\n    return myResult; // set in a button handler that also sets the AutoResetEvent\n}\n</code></pre>\n\n<p>I'm intending for CheckConditions() to continue along merrily but instead it is stuck on MessagePrompt's AutoResetEvent despite my async/awaits.  The only thing I can figure might be wrong is that perhaps MessagePrompt's methods aren't able to run asynchronously due to some restriction from UserControl, its use of a UI thread reference, or maybe non-async methods at the top of the stack.</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 3, "creation_date": 1472681756, "post_id": 39259801, "comment_id": 65855669, "body": "Create a new named class for your <code>object</code>. Auto binding needs property names."}], "answers": [{"comments": [{"owner": {"reputation": 435, "user_id": 1706922, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jNrsZ.jpg?s=128&g=1", "display_name": "chdev77", "link": "https://stackoverflow.com/users/1706922/chdev77"}, "edited": false, "score": 0, "creation_date": 1472682766, "post_id": 39259978, "comment_id": 65856000, "body": "Right I understand that. I guess my question is how do I allow for object types as my controller parameters? I guess I could just make the type of string and inspect the Json to see if it will be deserialized into different types. Basicall i want one method that will control posting scheduled payments in their types might not always be the same."}, {"owner": {"reputation": 422, "user_id": 1618775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rpNm.jpg?s=128&g=1", "display_name": "Umut Catal", "link": "https://stackoverflow.com/users/1618775/umut-catal"}, "reply_to_user": {"reputation": 435, "user_id": 1706922, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jNrsZ.jpg?s=128&g=1", "display_name": "chdev77", "link": "https://stackoverflow.com/users/1706922/chdev77"}, "edited": false, "score": 0, "creation_date": 1472682878, "post_id": 39259978, "comment_id": 65856036, "body": "If you want to ask another thing , you can ask like that. If you want to return object as Json you can write like that. return new Json({Success:true,Message:&quot;No Error&quot;});   you can handle response from client side."}, {"owner": {"reputation": 435, "user_id": 1706922, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jNrsZ.jpg?s=128&g=1", "display_name": "chdev77", "link": "https://stackoverflow.com/users/1706922/chdev77"}, "edited": false, "score": 0, "creation_date": 1472687972, "post_id": 39259978, "comment_id": 65857393, "body": "I&#39;m not talking about return type. The parameter type only..the request.  Could I make a custom model binder?  I have not found any examples of this I can relate my issue to."}, {"owner": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "reply_to_user": {"reputation": 435, "user_id": 1706922, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jNrsZ.jpg?s=128&g=1", "display_name": "chdev77", "link": "https://stackoverflow.com/users/1706922/chdev77"}, "edited": false, "score": 0, "creation_date": 1472707113, "post_id": 39259978, "comment_id": 65861773, "body": "@chdev77 If you really can&#39;t impose some structure to your input, you could pass everything as a string instead of an object then extract <code>&lt;string, string&gt;</code> key-value pairs."}], "tags": [], "owner": {"reputation": 422, "user_id": 1618775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rpNm.jpg?s=128&g=1", "display_name": "Umut Catal", "link": "https://stackoverflow.com/users/1618775/umut-catal"}, "is_accepted": false, "score": 1, "last_activity_date": 1472682503, "creation_date": 1472682503, "answer_id": 39259978, "question_id": 39259801, "link": "https://stackoverflow.com/questions/39259801/net-mvc-controller-not-binding-to-object-type/39259978#39259978", "title": ".NET MVC Controller not binding to object type", "body": "<p>You need the create named class.</p>\n\n<pre><code>public class TestModel\n{\npublic string applNo {get;set;}\npublic int amount{get;set;}\npublic DateTime schldDate{get;set;}\npublic string userId{get;set;}\npublic string tdcId{get;set;}\n}\n\n   [HttpPost]\n    public JsonResult PostScheduleMakeUpPayment(TestModel model)\n    {\n        //return _updateTdc.ProcessMakeUpPayment(model.applNo, model.amount, model.schldDate, model.userId, model.tdcId);\n        return Json(\"Success:True\");\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 435, "user_id": 1706922, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jNrsZ.jpg?s=128&g=1", "display_name": "chdev77", "link": "https://stackoverflow.com/users/1706922/chdev77"}, "edited": false, "score": 0, "creation_date": 1472743031, "post_id": 39265630, "comment_id": 65885223, "body": "I thought of this too, but your js model must be flattened."}], "tags": [], "owner": {"reputation": 706, "user_id": 3520313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82f72a71148b21eac120a1a8676098ea?s=128&d=identicon&r=PG&f=1", "display_name": "jambonick", "link": "https://stackoverflow.com/users/3520313/jambonick"}, "is_accepted": false, "score": 1, "last_activity_date": 1472715984, "creation_date": 1472715984, "answer_id": 39265630, "question_id": 39259801, "link": "https://stackoverflow.com/questions/39259801/net-mvc-controller-not-binding-to-object-type/39265630#39265630", "title": ".NET MVC Controller not binding to object type", "body": "<p>A Json string is a collection of pairs key-value. You can post your object as a json string and use a function to add to a dictionary its values, and then use it in controller function. For example:</p>\n\n<pre><code>public static Dictionary&lt;string,object&gt; BinderModel(string model)\n{\n    Dictionary&lt;string,JToken&gt; result = new Dictionary&lt;string,object&gt;();\n    JObject jObject = JObject.Parse(model);\n    foreach (JProperty x in (JToken)jObject )\n    {\n         result.Add(x.Name,x.Value);\n    }\n    return result;\n}\n</code></pre>\n\n<p>and then your controller function like this</p>\n\n<pre><code>[HttpPost]\npublic JsonResult PostScheduleMakeUpPayment(string model)\n{\n    Dictionary&lt;string,object&gt; values = BinderModel(jsonString);\n    //return _updateTdc.ProcessMakeUpPayment(values[\"applNo\"], values[\"amount\"], values[\"schldDate\"], values[\"userId\"], values[\"tdcId);\n    return Json(\"Success:True\");\n}\n</code></pre>\n\n<p>The type of model values depends on the types of ProcessMakeUpPayment input parameters. You may need to do some conversion before you call it or in it</p>\n"}, {"tags": [], "owner": {"reputation": 435, "user_id": 1706922, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jNrsZ.jpg?s=128&g=1", "display_name": "chdev77", "link": "https://stackoverflow.com/users/1706922/chdev77"}, "is_accepted": false, "score": 0, "last_activity_date": 1472738454, "creation_date": 1472738454, "answer_id": 39273597, "question_id": 39259801, "link": "https://stackoverflow.com/questions/39259801/net-mvc-controller-not-binding-to-object-type/39273597#39273597", "title": ".NET MVC Controller not binding to object type", "body": "<p>I guess object type parameters on MVC controllers are not supported/bad design.  Along with MVC not supporting generic types on its view/Razor syntax.</p>\n"}], "owner": {"reputation": 435, "user_id": 1706922, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jNrsZ.jpg?s=128&g=1", "display_name": "chdev77", "link": "https://stackoverflow.com/users/1706922/chdev77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 798, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1472738454, "creation_date": 1472681619, "last_edit_date": 1472682237, "question_id": 39259801, "link": "https://stackoverflow.com/questions/39259801/net-mvc-controller-not-binding-to-object-type", "title": ".NET MVC Controller not binding to object type", "body": "<p>Very straight forward $.post(url, data)</p>\n\n<p>data is this object</p>\n\n<pre><code>                 var model = {\n                    applNo: pdAppNo,\n                    amount: 999,\n                    schldDate: new Date(),\n                    userId: \"corey\",\n                    tdcId: \"234234234\"\n                };\n</code></pre>\n\n<p>Calling an MVC controller that is setup like</p>\n\n<pre><code>    [HttpPost]\n    public JsonResult PostScheduleMakeUpPayment(object model)\n    {\n        //return _updateTdc.ProcessMakeUpPayment(applNo, amount, schldDate, userId, tdcId);\n        return Json(\"Success:True\");\n    }\n</code></pre>\n\n<p>Inside the 'model' of the controller its not showing the json data, only '{object}'</p>\n\n<p>So MVC won't allow me to post json to object type?  </p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 5663, "user_id": 4401293, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8e7aa14bcc48ad45b4c0d12cf5b4b147?s=128&d=identicon&r=PG", "display_name": "Quality Catalyst", "link": "https://stackoverflow.com/users/4401293/quality-catalyst"}, "edited": false, "score": 0, "creation_date": 1472680939, "post_id": 39259672, "comment_id": 65855340, "body": "Share the piece of code that binds your keystrokes please."}, {"owner": {"reputation": 1, "user_id": 6780737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b52710ea78cc6afe7df90e2158de2a43?s=128&d=identicon&r=PG&f=1", "display_name": "N. Ch", "link": "https://stackoverflow.com/users/6780737/n-ch"}, "reply_to_user": {"reputation": 5663, "user_id": 4401293, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8e7aa14bcc48ad45b4c0d12cf5b4b147?s=128&d=identicon&r=PG", "display_name": "Quality Catalyst", "link": "https://stackoverflow.com/users/4401293/quality-catalyst"}, "edited": false, "score": 0, "creation_date": 1472681215, "post_id": 39259672, "comment_id": 65855444, "body": "My application does not bind any keystrokes."}, {"owner": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1472693991, "post_id": 39259672, "comment_id": 65858723, "body": "Does any other application other that <code>Discord</code> have that kind of behavior? Maybe, that application handle the keyboard in some weird ways... Try to find other application that use some global hotkey (maybe a screen capture application)"}, {"owner": {"reputation": 1, "user_id": 6780737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b52710ea78cc6afe7df90e2158de2a43?s=128&d=identicon&r=PG&f=1", "display_name": "N. Ch", "link": "https://stackoverflow.com/users/6780737/n-ch"}, "edited": false, "score": 0, "creation_date": 1472719463, "post_id": 39259672, "comment_id": 65868160, "body": "Yes I have tried another program just now and it has the exact same problem no matter what key I use."}, {"owner": {"reputation": 1021, "user_id": 4776259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86feeb900e63348b540bb502f311e2f7?s=128&d=identicon&r=PG&f=1", "display_name": "maulik kansara", "link": "https://stackoverflow.com/users/4776259/maulik-kansara"}, "edited": false, "score": 0, "creation_date": 1472730712, "post_id": 39259672, "comment_id": 65875897, "body": "Please share the code like, how you are activating your microphone when you press a certain key."}, {"owner": {"reputation": 1, "user_id": 6780737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b52710ea78cc6afe7df90e2158de2a43?s=128&d=identicon&r=PG&f=1", "display_name": "N. Ch", "link": "https://stackoverflow.com/users/6780737/n-ch"}, "edited": false, "score": 0, "creation_date": 1472735321, "post_id": 39259672, "comment_id": 65879323, "body": "Its not my application thats activing the microphone, its another application thats not mine called Discord. I am merely trying to find out why my application is interfering with Discord or other applications and how it could be fixed."}], "owner": {"reputation": 1, "user_id": 6780737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b52710ea78cc6afe7df90e2158de2a43?s=128&d=identicon&r=PG&f=1", "display_name": "N. Ch", "link": "https://stackoverflow.com/users/6780737/n-ch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1472680879, "creation_date": 1472680879, "question_id": 39259672, "link": "https://stackoverflow.com/questions/39259672/disabling-systemkeys-in-c-wpf-application", "title": "Disabling SystemKeys in C# WPF Application", "body": "<p>I have a voice chat program (Discord) in the background that activates my microphone when I press a certain key. Whenever I have my C# WPF application opened, the voice chat program does not detect the key-press any more regardless of what key I bind it to. You would say the problem lies with the voice chat application but when I have Firefox or any other application opened its working just fine. Perhaps the problem lies with my WPF application? I created a new WPF project and the problem still occurred.</p>\n\n<p><strong>Question</strong>\nWhy are keystrokes not detected by other applications while my C# application is active?</p>\n"}, {"tags": ["c#", "unit-testing", "moq"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 4638010, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zU9SMZUvpdI/AAAAAAAAAAI/AAAAAAAAAEU/QLl-vrx2-54/photo.jpg?sz=128", "display_name": "Michael Foster", "link": "https://stackoverflow.com/users/4638010/michael-foster"}, "edited": false, "score": 0, "creation_date": 1472681754, "post_id": 39259690, "comment_id": 65855667, "body": "Is this Linq? It doesn&#39;t build when I put it into my code. A Long array doesn&#39;t seem to have any <code>Select</code> method."}, {"owner": {"reputation": 91, "user_id": 4638010, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zU9SMZUvpdI/AAAAAAAAAAI/AAAAAAAAAEU/QLl-vrx2-54/photo.jpg?sz=128", "display_name": "Michael Foster", "link": "https://stackoverflow.com/users/4638010/michael-foster"}, "edited": false, "score": 0, "creation_date": 1472682418, "post_id": 39259690, "comment_id": 65855885, "body": "Thanks! This works perfectly. The key was getting that <code>sequence</code> variable."}], "tags": [], "owner": {"reputation": 618, "user_id": 1859889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/798fa5b67f7d43b2c83a9fdd0e9c9689?s=128&d=identicon&r=PG", "display_name": "just.ru", "link": "https://stackoverflow.com/users/1859889/just-ru"}, "is_accepted": true, "score": 4, "last_activity_date": 1472681320, "last_edit_date": 1472681320, "creation_date": 1472680965, "answer_id": 39259690, "question_id": 39259637, "link": "https://stackoverflow.com/questions/39259637/condense-code-setupsequence-returning-different-values-on-successive-calls/39259690#39259690", "title": "Condense code: SetupSequence returning different values on successive calls", "body": "<pre><code>var sequence = mockConn.SetupSequence(c =&gt; c.CreateCommand(It.IsAny&lt;string&gt;()));\nforeach (var cmd in mockCmds)\n{\n   sequence = sequence.Returns(cmd.Object);\n}\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 4638010, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zU9SMZUvpdI/AAAAAAAAAAI/AAAAAAAAAEU/QLl-vrx2-54/photo.jpg?sz=128", "display_name": "Michael Foster", "link": "https://stackoverflow.com/users/4638010/michael-foster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 798, "favorite_count": 0, "accepted_answer_id": 39259690, "answer_count": 1, "score": 2, "last_activity_date": 1472681320, "creation_date": 1472680665, "question_id": 39259637, "link": "https://stackoverflow.com/questions/39259637/condense-code-setupsequence-returning-different-values-on-successive-calls", "title": "Condense code: SetupSequence returning different values on successive calls", "body": "<p>I am testing a method that calls other methods. I have a working test that uses this method to generate my mocked connection object:</p>\n\n<pre><code>    private Mock&lt;IDatabaseConnection&gt; MockOutGetControlDocInfoData()\n    {\n        Mock&lt;IDatabaseConnection&gt; mockConn = new Mock&lt;IDatabaseConnection&gt;();\n        List&lt;Mock&lt;IDbCommand&gt;&gt; mockCmds = new List&lt;Mock&lt;IDbCommand&gt;&gt;();\n        List&lt;long&gt; vals = new List&lt;long&gt;() { 2, 2, 2, 2, 10, 2, 2, 2, 2, 2 };\n        foreach (long val in vals)\n        {\n            mockCmds.Add(CreateMockCmdObjectWithReturnValue(val));\n        }\n        mockConn.SetupAllProperties();\n        mockConn.Setup(c =&gt; c.Conn.ConnectionString).Returns(\"What the heck.\");\n        mockConn.SetupSequence(c =&gt; c.CreateCommand(It.IsAny&lt;string&gt;()))\n            .Returns(mockCmds[0].Object)\n            .Returns(mockCmds[1].Object)\n            .Returns(mockCmds[2].Object)\n            .Returns(mockCmds[3].Object)\n            .Returns(mockCmds[4].Object)\n            .Returns(mockCmds[5].Object)\n            .Returns(mockCmds[6].Object)\n            .Returns(mockCmds[7].Object)\n            .Returns(mockCmds[8].Object)\n            .Returns(mockCmds[9].Object);\n        return mockConn;\n    }\n</code></pre>\n\n<p>I'm not pleased with the SetupSequence Returns, which seems like it ought to be part of a loop, but I don't know how to put more than one Returns into the SetupSequence. Any idea for improvement?</p>\n\n<p>For now at least, I'm fine with manually creating my list of test values.</p>\n\n<p>It shouldn't be relevant, but I can provide the <code>CreateMockCmdObjectWithReturnValue</code> code if needed.</p>\n"}, {"tags": ["c#", "json"], "comments": [{"owner": {"reputation": 834, "user_id": 2113548, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd0a635c396667cfba0109bbe140c400?s=128&d=identicon&r=PG", "display_name": "Simple Sandman", "link": "https://stackoverflow.com/users/2113548/simple-sandman"}, "edited": false, "score": 2, "creation_date": 1472680685, "post_id": 39259568, "comment_id": 65855262, "body": "Check out <a href=\"http://www.newtonsoft.com/json\" rel=\"nofollow noreferrer\">json2csharp</a> and <a href=\"http://www.newtonsoft.com/json\" rel=\"nofollow noreferrer\">Json.NET</a>"}, {"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 1, "creation_date": 1472680774, "post_id": 39259568, "comment_id": 65855293, "body": "Most definitely use a JSON library for this kind of thing. After dealing with someone using a StringBuilder to create and serve XML to me, I can only hope you&#39;ll take the advice :)"}, {"owner": {"reputation": 127, "user_id": 4391093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79670a4c1873f99c3dbfaaac56bbb232?s=128&d=identicon&r=PG&f=1", "display_name": "Martyn Wynn", "link": "https://stackoverflow.com/users/4391093/martyn-wynn"}, "edited": false, "score": 0, "creation_date": 1472680939, "post_id": 39259568, "comment_id": 65855341, "body": "I am using JSON.NET, but it offers no solution to the above.  My problem is the above contains characters that mean it is no longer valid JSON.  I just need to remove those characters which seem simple, but it isn&#39;t proving to be."}, {"owner": {"reputation": 127, "user_id": 4391093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79670a4c1873f99c3dbfaaac56bbb232?s=128&d=identicon&r=PG&f=1", "display_name": "Martyn Wynn", "link": "https://stackoverflow.com/users/4391093/martyn-wynn"}, "edited": false, "score": 0, "creation_date": 1472681037, "post_id": 39259568, "comment_id": 65855375, "body": "Inshort I need to replace \\&quot; with &quot;  that is my main problem."}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1472681104, "post_id": 39259568, "comment_id": 65855402, "body": "Seems like a problem better fixed on the sending side if possible. If the sender is claiming to be sending JSON, they should be sending JSON."}, {"owner": {"reputation": 30659, "user_id": 1210053, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8cee821e7bf4acaa7f0de12d603b9f1d?s=128&d=identicon&r=PG", "display_name": "Nico Schertler", "link": "https://stackoverflow.com/users/1210053/nico-schertler"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 1, "creation_date": 1472681231, "post_id": 39259568, "comment_id": 65855449, "body": "I agree with @itsme86. But if you really want to do this, you should <code>.Replace(&quot;\\\\\\&quot;&quot;,&quot;\\&quot;&quot;)</code>. Both back slash and the quotation mark must be escaped."}, {"owner": {"reputation": 127, "user_id": 4391093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79670a4c1873f99c3dbfaaac56bbb232?s=128&d=identicon&r=PG&f=1", "display_name": "Martyn Wynn", "link": "https://stackoverflow.com/users/4391093/martyn-wynn"}, "edited": false, "score": 0, "creation_date": 1472681261, "post_id": 39259568, "comment_id": 65855462, "body": "You have a reasonable point itsme86.  However before I go down that route I was just hoping that it would be possible to do a simple string replace in c#.  Not all that easy."}, {"owner": {"reputation": 127, "user_id": 4391093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79670a4c1873f99c3dbfaaac56bbb232?s=128&d=identicon&r=PG&f=1", "display_name": "Martyn Wynn", "link": "https://stackoverflow.com/users/4391093/martyn-wynn"}, "edited": false, "score": 0, "creation_date": 1472681454, "post_id": 39259568, "comment_id": 65855537, "body": ".Replace(&quot;\\\\\\&quot;&quot;,&quot;\\&quot;&quot;) does not work.  Tried and failed earlier.  How can this be so difficult?"}, {"owner": {"reputation": 30659, "user_id": 1210053, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8cee821e7bf4acaa7f0de12d603b9f1d?s=128&d=identicon&r=PG", "display_name": "Nico Schertler", "link": "https://stackoverflow.com/users/1210053/nico-schertler"}, "edited": false, "score": 1, "creation_date": 1472681596, "post_id": 39259568, "comment_id": 65855603, "body": "Then you should at least report the errors. Are you sure that the string contains the back slashes? The Visual Studio debug view shows strings escaped. In this case, the back slashes would not actually be there."}, {"owner": {"reputation": 127, "user_id": 4391093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79670a4c1873f99c3dbfaaac56bbb232?s=128&d=identicon&r=PG&f=1", "display_name": "Martyn Wynn", "link": "https://stackoverflow.com/users/4391093/martyn-wynn"}, "edited": false, "score": 0, "creation_date": 1472682282, "post_id": 39259568, "comment_id": 65855840, "body": "Nico you solved my problem. Thank you.  I didn&#39;t realise that the back slashes were being cleared but still apparent in VS debug.  Thanks again I&#39;m very grateful."}], "answers": [{"tags": [], "owner": {"reputation": 27777, "user_id": 2420979, "user_type": "moderator", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/koRgt.png?s=128&g=1", "display_name": "Haney", "link": "https://stackoverflow.com/users/2420979/haney"}, "is_accepted": false, "score": 0, "last_activity_date": 1472682186, "creation_date": 1472682186, "answer_id": 39259905, "question_id": 39259568, "link": "https://stackoverflow.com/questions/39259568/json-passed-from-javascript-to-c/39259905#39259905", "title": "JSON passed from Javascript to C#", "body": "<p>What you have here is a string representation of a JSON object. This is called the <strong>serialized</strong> object representation. You need to <strong>deserialize</strong> the string back into an actual JSON object. For that, use a JSON serializer such as JSON.NET</p>\n"}, {"tags": [], "owner": {"reputation": 127, "user_id": 4391093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79670a4c1873f99c3dbfaaac56bbb232?s=128&d=identicon&r=PG&f=1", "display_name": "Martyn Wynn", "link": "https://stackoverflow.com/users/4391093/martyn-wynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1472682436, "creation_date": 1472682436, "answer_id": 39259963, "question_id": 39259568, "link": "https://stackoverflow.com/questions/39259568/json-passed-from-javascript-to-c/39259963#39259963", "title": "JSON passed from Javascript to C#", "body": "<p>Prob solved:</p>\n\n<p>The Visual Studio debug view shows strings escaped. In this case, the back slashes would not actually be there. \u2013 Nico Schertler 12 mins ago</p>\n\n<p>Nico you solved my problem. Thank you. I didn't realise that the back slashes were being cleared but still apparent in VS debug. Thanks again I'm very grateful.</p>\n"}, {"tags": [], "owner": {"reputation": 110, "user_id": 6767888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e02d2541c94d9ea1b1b77c261ee1f3b0?s=128&d=identicon&r=PG", "display_name": "DeGe", "link": "https://stackoverflow.com/users/6767888/dege"}, "is_accepted": false, "score": 0, "last_activity_date": 1472682438, "creation_date": 1472682438, "answer_id": 39259964, "question_id": 39259568, "link": "https://stackoverflow.com/questions/39259568/json-passed-from-javascript-to-c/39259964#39259964", "title": "JSON passed from Javascript to C#", "body": "<p>This should work:</p>\n\n<pre><code>JSONString = JSONString.Replace(\"\\\\\\\"\", \"\\\"\");\n\nJSONString= Line.Replace(\"\\r\\n\", \"\\\"\").Replace(\"\\n\", \"\\\"\").Replace(\"\\r\", \"\\\"\"); \n</code></pre>\n\n<p>However, I think the format should be handled on server/sender's side.</p>\n"}], "owner": {"reputation": 127, "user_id": 4391093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79670a4c1873f99c3dbfaaac56bbb232?s=128&d=identicon&r=PG&f=1", "display_name": "Martyn Wynn", "link": "https://stackoverflow.com/users/4391093/martyn-wynn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1479767905, "creation_date": 1472680328, "last_edit_date": 1479767905, "question_id": 39259568, "link": "https://stackoverflow.com/questions/39259568/json-passed-from-javascript-to-c", "title": "JSON passed from Javascript to C#", "body": "<p>I am trying to convert the the <em>regular</em> string literal below to valid JSON in C#</p>\n\n<pre><code> \"{\\n\\\"connectionId\\\":\\\"mySQL1\\\",\\n\\\"storedproc\\\":\n \\\"contactInsert\\\"\\n\\\"params\\\":\\n[\\n{\\\"param\\\": \\\"@p_title\\\",\n \\\"val\\\":\\\"Mr\\\", \\\"dir\\\", \\\"in\\\"},\\n{\\\"param\\\": \\\"@p_forename\\\",\n \\\"val\\\":\\\"Ronald\\\", \\\"dir\\\", \\\"in\\\"},\\n{\\\"param\\\": \\\"@p_surname\\\",\n \\\"val\\\":\\\"Dobson\\\", \\\"dir\\\", \\\"in\\\"},\\n{\\\"param\\\": \\\"@p_email\\\",\n \\\"val\\\":\\\"ron@hotmail.com\\\", \\\"dir\\\", \\\"in\\\"},\\n{\\\"param\\\":\n \\\"@p_pwd\\\", \\\"val\\\":\\\"ron1227718\\\", \\\"dir\\\", \\\"in\\\"},\\n{\\\"param\\\":\n \\\"@p_dateEntered\\\", \\\"val\\\":\\\"1955-11-25\\\", \\\"dir\\\",\n \\\"in\\\"},\\n{\\\"param\\\": \\\"@p_partnerId\\\", \\\"val\\\":\\\"22\\\", \\\"dir\\\",\n \\\"in\\\"},\\n{\\\"param\\\": \\\"@p_rowId\\\", \\\"val\\\":\\\"1955-11-25\\\", \\\"dir\\\",\n \\\"out\\\"}\\n]\\n}\"\n</code></pre>\n\n<p>Things like this just don't seem to work:</p>\n\n<pre><code>JSONString = JSONString.Replace(\"\\\"\",\"\"\").Replace(\"\\n\", \"\");\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["c#", ".net", "generics"], "answers": [{"comments": [{"owner": {"reputation": 5881, "user_id": 1226568, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f9719051130e332ffe997958cfb935e0?s=128&d=identicon&r=PG", "display_name": "MaYaN", "link": "https://stackoverflow.com/users/1226568/mayan"}, "edited": false, "score": 0, "creation_date": 1472680751, "post_id": 39259591, "comment_id": 65855280, "body": "Great, but why is this extra help not required if the parameter type is <code>string[]</code> as opposed to <code>IEnumerable&lt;T&gt;</code>?"}, {"owner": {"reputation": 2775, "user_id": 729573, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/51XQj.png?s=128&g=1", "display_name": "pquest", "link": "https://stackoverflow.com/users/729573/pquest"}, "reply_to_user": {"reputation": 5881, "user_id": 1226568, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f9719051130e332ffe997958cfb935e0?s=128&d=identicon&r=PG", "display_name": "MaYaN", "link": "https://stackoverflow.com/users/1226568/mayan"}, "edited": false, "score": 1, "creation_date": 1472680944, "post_id": 39259591, "comment_id": 65855344, "body": "@MaYaN In both cases your call could potentially match both signatures. When the method takes an <code>IEnumerable</code>, an implicit cast is needed to match, where for the other method requires no such cast. In the complier&#39;s mind, that makes the first overload a closer match. When you get more specific, the compiler is able to better infer what you were trying to do."}], "tags": [], "owner": {"reputation": 2775, "user_id": 729573, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/51XQj.png?s=128&g=1", "display_name": "pquest", "link": "https://stackoverflow.com/users/729573/pquest"}, "is_accepted": true, "score": 6, "last_activity_date": 1472680436, "creation_date": 1472680436, "answer_id": 39259591, "question_id": 39259555, "link": "https://stackoverflow.com/questions/39259555/why-is-this-c-method-overloading-not-working-as-expected/39259591#39259591", "title": "Why is this C# method overloading not working as expected?", "body": "<p>Because it thinks that <code>TItem</code> is <code>string[].</code> Look at this from the perspective of the compiler: All it knows is that it is looking for a generic type to plug into that method. It just so happens that string[] is a type. Because the meaning here is potentially ambiguous, you need to give the compiler some help to select which overload you are looking for here:</p>\n\n<pre><code>Say&lt;string&gt;(new string[]{\"Foo\", \"Bar\"});\n</code></pre>\n\n<p>should be enough to get it to select the method you actually wanted.</p>\n"}], "owner": {"reputation": 5881, "user_id": 1226568, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f9719051130e332ffe997958cfb935e0?s=128&d=identicon&r=PG", "display_name": "MaYaN", "link": "https://stackoverflow.com/users/1226568/mayan"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 0, "closed_date": 1472680592, "accepted_answer_id": 39259591, "answer_count": 1, "score": 3, "last_activity_date": 1472680436, "creation_date": 1472680266, "question_id": 39259555, "link": "https://stackoverflow.com/questions/39259555/why-is-this-c-method-overloading-not-working-as-expected", "closed_reason": "Duplicate", "title": "Why is this C# method overloading not working as expected?", "body": "<p>I have the following methods:</p>\n\n<pre><code>public void Say&lt;TItem&gt;(TItem item)\n{\n    Console.WriteLine(\"A\");\n}\n\npublic void Say&lt;TItem&gt;(IEnumerable&lt;TItem&gt; items)\n{\n    Console.WriteLine(\"B\");\n}\n</code></pre>\n\n<p>When I run the following:</p>\n\n<pre><code>void Main()\n{\n    Say&lt;string&gt;(\"Foo\");\n    Say(new string[] { \"Foo\", \"Bar\"});\n\n}\n</code></pre>\n\n<p>The first method is invoked twice:</p>\n\n<pre><code>A\nA\n</code></pre>\n\n<p>Note changing the <code>IEnumerable&lt;T&gt;</code> to a <code>TItem[]</code> does work as expected but in the case of the <code>IEnumerable&lt;T&gt;</code> why is it not picking up the second method? How can I achieve the intended overloading?</p>\n"}, {"tags": ["c#", "multithreading", "memory-leaks", "event-handling"], "answers": [{"tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": true, "score": 1, "last_activity_date": 1472680400, "creation_date": 1472680400, "answer_id": 39259583, "question_id": 39259510, "link": "https://stackoverflow.com/questions/39259510/will-several-bindings-of-static-global-event-handler-to-events-in-a-class-lead/39259583#39259583", "title": "Will several bindings of static/global Event handler to Events in a class, lead to a thread/memory leak?", "body": "<p>Since your handlers are static methods the delegate you're adding to the event doesn't have an object instance, so there is no object instance being kept alive for the duration of the object with the event.</p>\n\n<p>And even if you <em>did</em> use an object instance to attach the handler, it wouldn't be a problem, because the object with the event is short lived.  The only time there is a problem is when the object with the event is long lived, and the object that has a handler to itself assigned is short lived, and consumes a lot of resources to keep alive.</p>\n"}], "owner": {"reputation": 1271, "user_id": 1475630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/043e9bec14fc83700d69526b3ef26b00?s=128&d=identicon&r=PG", "display_name": "cezarlamann", "link": "https://stackoverflow.com/users/1475630/cezarlamann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 39259583, "answer_count": 1, "score": 0, "last_activity_date": 1472680400, "creation_date": 1472679995, "question_id": 39259510, "link": "https://stackoverflow.com/questions/39259510/will-several-bindings-of-static-global-event-handler-to-events-in-a-class-lead", "title": "Will several bindings of static/global Event handler to Events in a class, lead to a thread/memory leak?", "body": "<p>I have a class with EventHandler bindings at the constructor, that will be instantiated thousand times within application lifecycle. The question is: Will this approach leads to memory/thread leaks?</p>\n\n<p>I did this way (code below), because I need to be notified every time <code>SomeMethod()</code> runs, whatever instance run it. <code>Foo</code> class (the publisher) will be short-lived, however the handlers will live until the application closes.</p>\n\n<p>I ask this because, when working with Windows Forms, each form can hold several event handlers/delegates and everything is fine because all those delegates are inside the form and will be disposed when the form closes. But how about static event handlers/delegates, that could be even on separate projects?</p>\n\n<p>Will I need to write a destructor to detach those event handlers?\nShould I go with <a href=\"https://msdn.microsoft.com/en-us/library/aa970850(v=vs.110).aspx\" rel=\"nofollow\" title=\"Weak Event Pattern\">Weak Event Pattern</a>?</p>\n\n<p>Restriction: I must do this with .NET 3.5. I know I could do this with TPL, setting a \"Fire and Forget\" Task.</p>\n\n<p>Thank you in advance.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>public class Foo\n{\n    public event EventHandler SomeEvent;\n    public Foo()\n    {\n        SomeEvent += FooHandlers.Foo_SomeEvent1;\n        SomeEvent += FooHandlers.Foo_SomeEvent2;\n    }\n\n    public void RaiseEvents(EventHandler evt, EventArgs args)\n    {\n        var eventObj = evt; \n        var listeners = eventObj.GetInvocationList();\n        foreach (var listener in listeners)\n        {\n            var method = (EventHandler)listener;\n            ThreadPool.QueueUserWorkItem(callBack =&gt; method(this, args));\n            // Handlers will do a lot of things, so I don't want\n            // them blocking the Main thread\n        }\n    }\n\n    public void SomeMethod()\n    {\n        // do something here\n        RaiseEvents(SomeEvent, new EventArgs());\n    }\n}\n\npublic static class FooHandlers\n{\n    public static void Foo_SomeEvent1(object sender, EventArgs e)\n    {\n        //do something here\n    }\n    public static void Foo_SomeEvent2(object sender, EventArgs e)\n    {\n        //do something different here\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "regex", "filestream"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 2, "creation_date": 1472679965, "post_id": 39259485, "comment_id": 65855018, "body": "Regexes don&#39;t like endless data."}, {"owner": {"reputation": 2295, "user_id": 792779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99528e625676b23a593f5a3daa005793?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/792779/john"}, "edited": false, "score": 0, "creation_date": 1472680220, "post_id": 39259485, "comment_id": 65855103, "body": "Are you able to just read the full contents of the file and match against that?"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 6780723, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fKmXWu6buQg/AAAAAAAAAAI/AAAAAAAAABI/17-qghYlQG8/photo.jpg?sz=128", "display_name": "Myron Goldman", "link": "https://stackoverflow.com/users/6780723/myron-goldman"}, "edited": false, "score": 0, "creation_date": 1472687106, "post_id": 39259547, "comment_id": 65857176, "body": "Unfortunately no its a hex file; I cannot post it up as it contains sensitive data; is there any form of regex that can operate on a hex file stream?"}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "reply_to_user": {"reputation": 29, "user_id": 6780723, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fKmXWu6buQg/AAAAAAAAAAI/AAAAAAAAABI/17-qghYlQG8/photo.jpg?sz=128", "display_name": "Myron Goldman", "link": "https://stackoverflow.com/users/6780723/myron-goldman"}, "edited": false, "score": 0, "creation_date": 1472688896, "post_id": 39259547, "comment_id": 65857626, "body": "@Myron: No. Regular expressions are specifically designed to operate on text. (But there&#39;s also no such thing as a <i>hex file</i>. Files are either text or binary. Please edit your question and make it clear what you&#39;re asking and what file type you&#39;re reading.)"}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 29, "user_id": 6780723, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fKmXWu6buQg/AAAAAAAAAAI/AAAAAAAAABI/17-qghYlQG8/photo.jpg?sz=128", "display_name": "Myron Goldman", "link": "https://stackoverflow.com/users/6780723/myron-goldman"}, "edited": false, "score": 0, "creation_date": 1472689634, "post_id": 39259547, "comment_id": 65857791, "body": "@MyronGoldman we would need to know what format the file is actually in... post a small portion of it that doesn&#39;t contain sensitive data. If you mean its binary, then are you sure you don&#39;t want to deserialize it?"}, {"owner": {"reputation": 29, "user_id": 6780723, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fKmXWu6buQg/AAAAAAAAAAI/AAAAAAAAABI/17-qghYlQG8/photo.jpg?sz=128", "display_name": "Myron Goldman", "link": "https://stackoverflow.com/users/6780723/myron-goldman"}, "edited": false, "score": 0, "creation_date": 1472727249, "post_id": 39259547, "comment_id": 65873641, "body": "I can&#39;t really post any; however it is most certainly not a text file so therefore it must be binary.  I am taking a look at the following:  <a href=\"https://msdn.microsoft.com/en-us/library/b85344hz(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/b85344hz(v=vs.110).aspx</a>"}], "tags": [], "owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "is_accepted": false, "score": 0, "last_activity_date": 1472680227, "creation_date": 1472680227, "answer_id": 39259547, "question_id": 39259485, "link": "https://stackoverflow.com/questions/39259485/using-c-filestream-as-input-to-regex-match-method/39259547#39259547", "title": "Using C# FileStream as input to Regex.Match method", "body": "<p>Regex is intended for matching text patterns, not binary patterns. Is your file a text file? If so, use File.ReadAllText() instead of FileStream. If not, you'll need to explain your data and what you are trying to do so we can offer a better solution.</p>\n"}], "owner": {"reputation": 29, "user_id": 6780723, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fKmXWu6buQg/AAAAAAAAAAI/AAAAAAAAABI/17-qghYlQG8/photo.jpg?sz=128", "display_name": "Myron Goldman", "link": "https://stackoverflow.com/users/6780723/myron-goldman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 737, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1472688602, "creation_date": 1472679879, "last_edit_date": 1472688602, "question_id": 39259485, "link": "https://stackoverflow.com/questions/39259485/using-c-filestream-as-input-to-regex-match-method", "title": "Using C# FileStream as input to Regex.Match method", "body": "<p>I am trying to write a program using C# in Visual Studio on Windows 10 and have found that the <code>Regex.Matches</code> method takes two strings one for the input and the other for the regex string to use.\u00a0My input is a <code>FileStream</code> and this doesn't appear to convert to <code>string</code>. It is an array like structure.</p>\n\n<p>How to use regular expressions upon a file stream? I have done some searching but have not come up with anything conclusive.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1472679414, "post_id": 39259369, "comment_id": 65854783, "body": "You should override the <code>Equals</code> method and then your code will work"}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "edited": false, "score": 0, "creation_date": 1472679448, "post_id": 39259369, "comment_id": 65854808, "body": "What&#39;s ProdList and RuleList? Dictonaries i assume? Are you trying to match product or the int? or both?"}, {"owner": {"reputation": 1111, "user_id": 1468908, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fa3f6668e6e999ba7ccb31e7891146b?s=128&d=identicon&r=PG", "display_name": "Emin Hasanov", "link": "https://stackoverflow.com/users/1468908/emin-hasanov"}, "reply_to_user": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "edited": false, "score": 0, "creation_date": 1472679548, "post_id": 39259369, "comment_id": 65854854, "body": "@SledgeHammer both"}], "answers": [{"tags": [], "owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "is_accepted": true, "score": 1, "last_activity_date": 1472679715, "last_edit_date": 1472679715, "creation_date": 1472679497, "answer_id": 39259416, "question_id": 39259369, "link": "https://stackoverflow.com/questions/39259369/how-to-check-if-collection-contains-collection/39259416#39259416", "title": "how to check if collection contains collection", "body": "<p>The reason it doesn't work is because the <code>Contains</code> method uses the <code>Equals</code> and <code>GetHashCode</code> of the items, which if not overriden, are those of <code>object</code>.</p>\n\n<p>Solutions:</p>\n\n<ol>\n<li>Override your object's <code>Equals</code> and <code>GetHashCode</code></li>\n<li><p>Use <code>Any</code> instead of <code>Contains</code>:</p>\n\n<pre><code>var result = ProdList.All(x =&gt; RuleList.Any(y =&gt; x.Product.Equals(y.Product) &amp;&amp; \n                                                 x.IntValue == y.IntValue));\n</code></pre></li>\n<li><p>Implement a custom <code>IEqualityComparer</code> for your object's type</p></li>\n</ol>\n\n<p><em>Notice that in all these options you must also take care of comparing the <code>Product</code> class  (same 3 options are available)</em></p>\n"}], "owner": {"reputation": 1111, "user_id": 1468908, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fa3f6668e6e999ba7ccb31e7891146b?s=128&d=identicon&r=PG", "display_name": "Emin Hasanov", "link": "https://stackoverflow.com/users/1468908/emin-hasanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 39259416, "answer_count": 1, "score": -2, "last_activity_date": 1472679715, "creation_date": 1472679271, "question_id": 39259369, "link": "https://stackoverflow.com/questions/39259369/how-to-check-if-collection-contains-collection", "title": "how to check if collection contains collection", "body": "<p>I have two collections <code>ProdList&lt;Product, int&gt;</code> and <code>RuleList&lt;Product, int&gt;</code> contains list of products and counts.</p>\n\n<p>how do i get if RuleList all items partici in ProdList collection\nI ve tried with </p>\n\n<pre><code>bool a= ProdList.All(x =&gt; RuleList.Contains(x)); \n</code></pre>\n\n<p>but it does not work.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "image", "iis", "gdi+"], "comments": [{"owner": {"reputation": 1589, "user_id": 2770092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2321a7b8ee2a179e16b50242ecb21c4f?s=128&d=identicon&r=PG&f=1", "display_name": "Cecilio Pardo", "link": "https://stackoverflow.com/users/2770092/cecilio-pardo"}, "edited": false, "score": 0, "creation_date": 1472684444, "post_id": 39259352, "comment_id": 65856504, "body": "Try using <code>Image img = Image.FromStream(new MemoryStream(File.ReadAllBytes(path)));</code>. See <a href=\"http://stackoverflow.com/questions/788335/why-does-image-fromfile-keep-a-file-handle-open-sometimes\" title=\"why does image fromfile keep a file handle open sometimes\">stackoverflow.com/questions/788335/&hellip;</a>"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1472714215, "post_id": 39259352, "comment_id": 65865031, "body": "The image format is not the real reason. More likely: You try to overwrite the original (png). See <a href=\"http://stackoverflow.com/questions/37736815/overwrite-image-picturebox-in-c-sharp/37741101?s=1|5.7472#37741101\">here</a>"}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 1, "creation_date": 1472914860, "post_id": 39259352, "comment_id": 65949053, "body": "So what&#39;s the exceptoin exactly?"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 1, "creation_date": 1472914941, "post_id": 39259352, "comment_id": 65949068, "body": "Obviously if it only fails periodically for you, it is something transient that we are never going to be able to reproduce.  You dont need any of that code though - if it is already PNG, saving does nothing.  If you are trying to get the image as bytes, <code>File.ReadAllBytes()</code> is all you need"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1472916901, "post_id": 39259352, "comment_id": 65949661, "body": "I suspect we lack context.  Are you doing something with this in a loop?  If so, show something akin to the actual code."}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 2, "creation_date": 1472919763, "post_id": 39259352, "comment_id": 65950529, "body": "Are you disposing of the images that you load? And disposing of GDI resources in general?"}, {"owner": {"reputation": 4127, "user_id": 2667173, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GJjFO.jpg?s=128&g=1", "display_name": "Misha Zaslavsky", "link": "https://stackoverflow.com/users/2667173/misha-zaslavsky"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1472921903, "post_id": 39259352, "comment_id": 65951234, "body": "@Plutonix No loop, and that&#39;s all the code that cause this problem. And the effect is not immidiate, it takes some days to start throwing this GDI+ exception. I think it may be a permission issue in IIS that changes suddenly."}, {"owner": {"reputation": 127, "user_id": 3139637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88918656327c901a5cae3c44fbfc99c1?s=128&d=identicon&r=PG", "display_name": "TheZodchiy", "link": "https://stackoverflow.com/users/3139637/thezodchiy"}, "edited": false, "score": 0, "creation_date": 1473081089, "post_id": 39259352, "comment_id": 65994202, "body": "You do this in async context?"}, {"owner": {"reputation": 4127, "user_id": 2667173, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GJjFO.jpg?s=128&g=1", "display_name": "Misha Zaslavsky", "link": "https://stackoverflow.com/users/2667173/misha-zaslavsky"}, "reply_to_user": {"reputation": 127, "user_id": 3139637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88918656327c901a5cae3c44fbfc99c1?s=128&d=identicon&r=PG", "display_name": "TheZodchiy", "link": "https://stackoverflow.com/users/3139637/thezodchiy"}, "edited": false, "score": 0, "creation_date": 1473092856, "post_id": 39259352, "comment_id": 66000400, "body": "@TheZodchiy No."}, {"owner": {"reputation": 1589, "user_id": 2770092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2321a7b8ee2a179e16b50242ecb21c4f?s=128&d=identicon&r=PG&f=1", "display_name": "Cecilio Pardo", "link": "https://stackoverflow.com/users/2770092/cecilio-pardo"}, "edited": false, "score": 0, "creation_date": 1473100813, "post_id": 39259352, "comment_id": 66003492, "body": "There is a problem with Image.FromFile, which is discussed in the question I linked. Use ReadAllBytes and it will stop failing."}, {"owner": {"reputation": 4127, "user_id": 2667173, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GJjFO.jpg?s=128&g=1", "display_name": "Misha Zaslavsky", "link": "https://stackoverflow.com/users/2667173/misha-zaslavsky"}, "reply_to_user": {"reputation": 1589, "user_id": 2770092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2321a7b8ee2a179e16b50242ecb21c4f?s=128&d=identicon&r=PG&f=1", "display_name": "Cecilio Pardo", "link": "https://stackoverflow.com/users/2770092/cecilio-pardo"}, "edited": false, "score": 0, "creation_date": 1473132679, "post_id": 39259352, "comment_id": 66011425, "body": "@CecilioPardo Maybe. I already did it 2 days ago. Let&#39;s wait some days and see if it fixed :)"}, {"owner": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "edited": false, "score": 0, "creation_date": 1473145974, "post_id": 39259352, "comment_id": 66015857, "body": "Does it work if you remove the using around the MemoryStream? You give something (a MemoryStream) to Image and then this something goes out of scope. You should tie the life of this something to the life of Image (in other words dispose the MemoryStream after the Image). I know it doesn&#39;t seem logical, or it looks like it could work, but GDI+ is touchy."}, {"owner": {"reputation": 4127, "user_id": 2667173, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GJjFO.jpg?s=128&g=1", "display_name": "Misha Zaslavsky", "link": "https://stackoverflow.com/users/2667173/misha-zaslavsky"}, "reply_to_user": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "edited": false, "score": 0, "creation_date": 1473146729, "post_id": 39259352, "comment_id": 66016302, "body": "@SimonMourier I am not sure I understood you, but if I understood correct then I already tried it and no help. Can you write here some code to show what you meant?"}, {"owner": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "edited": false, "score": 0, "creation_date": 1473191601, "post_id": 39259352, "comment_id": 66043570, "body": "Actually, re-reading your question, I&#39;m not sure my comment applies, if you&#39;re 100% sure the exception is really on the image.Save command, it&#39;s probably something else. Note GDI+ is not supported on the server. You could use WPF (it&#39;s not supported either but may work better), as described here: <a href=\"http://weblogs.asp.net/bleroy/resizing-images-from-the-server-using-wpf-wic-instead-of-gdi\" rel=\"nofollow noreferrer\">weblogs.asp.net/bleroy/&hellip;</a>"}, {"owner": {"reputation": 10985, "user_id": 231821, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d5bed99fd1db8db24640148a5032a47?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/231821/jim"}, "edited": false, "score": 0, "creation_date": 1473336428, "post_id": 39259352, "comment_id": 66106980, "body": "log the number of open handles. <code>Process.HandleCount</code> and see if your process is consuming handles and not releasing them. If it is, you start a process of elimination attempting to release them. You could also try process explorer from sysinternals to check how many open handles the process is consuming."}], "answers": [{"tags": [], "owner": {"reputation": 1348, "user_id": 401659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/118a8d3dd527ae32223551041a065cce?s=128&d=identicon&r=PG", "display_name": "ZagNut", "link": "https://stackoverflow.com/users/401659/zagnut"}, "is_accepted": false, "score": 9, "last_activity_date": 1473201338, "last_edit_date": 1495540862, "creation_date": 1473200990, "answer_id": 39358730, "question_id": 39259352, "link": "https://stackoverflow.com/questions/39259352/gdi-exception-when-saving-image-in-png-format/39358730#39358730", "title": "GDI+ exception when saving image in PNG format", "body": "<blockquote>\n  <p>After I restart the server all works fine for a couple of days and then suddenly this exception occurs and after the first time it occurs it will occur everytime I try to save the PNG image, until I will restart again.</p>\n</blockquote>\n\n<p>Sounds like a memory leak to me.  What .NET version is this compiled to?  What server OS this running on?</p>\n\n<p>You can start by enclosing your image in a using block:</p>\n\n<pre><code>var path = @\"C:\\Project\\images\\logo.png\";\nusing (Image image = Image.FromFile(path))\n{\n    using (var ms = new MemoryStream())\n    {\n        image.Save(ms, ImageFormat.Png);\n    }\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/8830770/why-is-there-a-memory-leak-when-i-do-not-dispose-bitmaps-that-i-save-to-a\">This link</a> I believe is relevant to your case.</p>\n"}, {"tags": [], "owner": {"reputation": 12785, "user_id": 6606630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/79IkN.jpg?s=128&g=1", "display_name": "Sandip - Full Stack Developer", "link": "https://stackoverflow.com/users/6606630/sandip-full-stack-developer"}, "is_accepted": false, "score": 3, "last_activity_date": 1473499810, "last_edit_date": 1473499810, "creation_date": 1473395024, "answer_id": 39403836, "question_id": 39259352, "link": "https://stackoverflow.com/questions/39259352/gdi-exception-when-saving-image-in-png-format/39403836#39403836", "title": "GDI+ exception when saving image in PNG format", "body": "<p>It throw GDI+ error because one of your <strong>object not disposed</strong>, so better dispose used object.</p>\n\n<p>If you are getting that error , then I can say that your application doesn't have a write permission on some directory.</p>\n\n<p><strong>GDI+ limits the height of an image to 65534</strong></p>\n\n<p><strong>Always favor using</strong> the using statement. Which never forgets to dispose an object, even if the code throws an exception.</p>\n\n<pre><code>var path = @\"C:\\Project\\images\\logo.png\";\nusing (Image image = Image.FromFile(path))\n{\n      using (var ms = new MemoryStream())\n      {\n            image.Save(ms, ImageFormat.Png); //fails here on GDI+ exception.\n            //image.Save(ms, ImageFormat.Jpeg); //Jpeg Works somehow\n      }\n}\n</code></pre>\n\n<p>The <strong>FromFile method locks the file</strong>, so use the Image.FromStream() method for reading the image:</p>\n\n<pre><code>byte[] bytes = System.IO.File.ReadAllBytes(filename);\nSystem.IO.MemoryStream ms = new System.IO.MemoryStream(bytes);\nusing (var ms = new MemoryStream())\n{\n      image.Save(ms, ImageFormat.Png); //fails here on GDI+ exception.\n      //image.Save(ms, ImageFormat.Jpeg); //Jpeg Works somehow\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 882, "user_id": 4742083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-2OBePImgfe0/AAAAAAAAAAI/AAAAAAAABCU/JIY94Ef_vOU/photo.jpg?sz=128", "display_name": "Laurent Lequenne", "link": "https://stackoverflow.com/users/4742083/laurent-lequenne"}, "is_accepted": false, "score": 0, "last_activity_date": 1473452896, "creation_date": 1473452896, "answer_id": 39419256, "question_id": 39259352, "link": "https://stackoverflow.com/questions/39259352/gdi-exception-when-saving-image-in-png-format/39419256#39419256", "title": "GDI+ exception when saving image in PNG format", "body": "<p>Basically, if you have disposable objects... Dispose them ! \nImage is disposable and as bitmap does, it uses windows resources.\nIf you do not dispose, the windows resources are not freed till you shut down your application. So you need to dispose any image instantiated.</p>\n"}], "owner": {"reputation": 4127, "user_id": 2667173, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GJjFO.jpg?s=128&g=1", "display_name": "Misha Zaslavsky", "link": "https://stackoverflow.com/users/2667173/misha-zaslavsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1136, "favorite_count": 3, "answer_count": 3, "score": 12, "last_activity_date": 1473499810, "creation_date": 1472679197, "last_edit_date": 1473440790, "question_id": 39259352, "link": "https://stackoverflow.com/questions/39259352/gdi-exception-when-saving-image-in-png-format", "title": "GDI+ exception when saving image in PNG format", "body": "<p>An ASP.NET application on my server starts throwing GDI+ exception after running for several days. After I restart the server, all works fine for a couple of days and then suddenly this exception occurs again. After the first time it occurs, it occurs every time I try to save a PNG image, until I restart again.</p>\n\n<p>When I try to save the image in JPEG, it works fine.</p>\n\n<p>When I run this code from my project, it fails:</p>\n\n<pre><code>var path = @\"C:\\Project\\images\\logo.png\";\nvar image = Image.FromFile(path);\n\nusing (var ms = new MemoryStream())\n{\n    image.Save(ms, ImageFormat.Png);     // Fails here on GDI+ exception.\n    //image.Save(ms, ImageFormat.Jpeg);  // JPEG works somehow\n}\n</code></pre>\n\n<p>Again: When I restart remote desktop and run this code, it works for a couple of days and at some moment suddenly starts to fail over and over.</p>\n\n<p><strong>I tried:</strong></p>\n\n<ol>\n<li><p>To make a console application with the same code and run it in the RDP where the project is. It worked fine!</p></li>\n<li><p>Lots of different variations of codes that were suggested in more then 10 articles I read on this topic.</p></li>\n<li><p>GCI.Collect() \u2013 no help.</p></li>\n<li><p>Checked all the folders that has write permissions (maybe there is something with the IIS?).</p></li>\n<li><p>More.</p></li>\n</ol>\n\n<p>I think that it should be some configuration that suddenly changes due to something and I can\u2019t understand what can it be.</p>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1472679267, "post_id": 39259319, "comment_id": 65854725, "body": "Try <code>var keys = Regex.Matches(emailBody, @&quot;&quot;&quot;New[^&quot;&quot;:]+:[^&quot;&quot;]+&quot;&quot;&quot;, RegexOptions.Singleline).OfType&lt;Match&gt;().Select(m =&gt; m.Value).Distinct().ToArray();</code>"}, {"owner": {"reputation": 307, "user_id": 1318106, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/merQt.jpg?s=128&g=1", "display_name": "Savan Patel", "link": "https://stackoverflow.com/users/1318106/savan-patel"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1472679841, "post_id": 39259319, "comment_id": 65854974, "body": "It worked. Thanks !!! Can you please explain the regex?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1472680047, "post_id": 39259319, "comment_id": 65855040, "body": "Great, please check the answer below, I posted the explanation."}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 1318106, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/merQt.jpg?s=128&g=1", "display_name": "Savan Patel", "link": "https://stackoverflow.com/users/1318106/savan-patel"}, "edited": false, "score": 1, "creation_date": 1472680075, "post_id": 39259490, "comment_id": 65855048, "body": "Thank you very much.You were spot on. Appreciate the help."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1472680101, "last_edit_date": 1472680101, "creation_date": 1472679890, "answer_id": 39259490, "question_id": 39259319, "link": "https://stackoverflow.com/questions/39259319/extract-the-values-between-the-double-quotes-using-regex/39259490#39259490", "title": "Extract the values between the double quotes using regex", "body": "<p>You may use a regex that will match quote, <code>New</code>, some chars other than <code>\"</code> and <code>:</code>, then <code>:</code>, and then any chars but <code>\"</code> up to a <code>\"</code>:</p>\n\n<pre><code>var keys = Regex.Matches(emailBody, @\"\"\"New[^\"\":]+:[^\"\"]+\"\"\", RegexOptions.Singleline)\n       .OfType&lt;Match&gt;()\n       .Select(m =&gt; m.Value)\n       .Distinct()\n       .ToArray();\n</code></pre>\n\n<p>See the <a href=\"http://regexstorm.net/tester?p=%22New%5B%5E%22%3A%5D%2B%3A%5B%5E%22%5D%2B%22&amp;i=NewListName%3A%22Value%22%20to%20%22NewListName%3AValue%22\" rel=\"nofollow noreferrer\">regex demo</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/0CFyv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0CFyv.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Pattern details</strong>:</p>\n\n<ul>\n<li><code>\"</code> - a literal double quote</li>\n<li><code>New</code> - a literal substring</li>\n<li><code>[^\":]+</code> - 1 or more characters other than <code>\"</code> and <code>:</code> (the <code>[^...]</code> is a <em>negated character class</em>)</li>\n<li><code>:</code> - a literal colon</li>\n<li><code>[^\"]+</code> - 1 or more characters other than <code>\"</code></li>\n<li><code>\"</code>  - a literal double quote</li>\n</ul>\n"}], "owner": {"reputation": 307, "user_id": 1318106, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/merQt.jpg?s=128&g=1", "display_name": "Savan Patel", "link": "https://stackoverflow.com/users/1318106/savan-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1354, "favorite_count": 0, "accepted_answer_id": 39259490, "answer_count": 1, "score": 2, "last_activity_date": 1579555538, "creation_date": 1472679063, "last_edit_date": 1579555538, "question_id": 39259319, "link": "https://stackoverflow.com/questions/39259319/extract-the-values-between-the-double-quotes-using-regex", "title": "Extract the values between the double quotes using regex", "body": "<pre class=\"lang-cs prettyprint-override\"><code>string emailBody = \"sample text for NewFinancial History:\\\"xyz\\\"  text NewFinancial History:\\\"abc\\\"  NewEBTDI$:\\\"abc\\\" ds \\\"NewFinancial History:pqr\\\" test\";\n\nprivate Dictionary&lt;string, List&lt;string&gt;&gt; ExtractFieldValuesForDynamicListObject(string emailBody)\n{\n    Dictionary&lt;string, List&lt;string&gt;&gt; paramValueList = new Dictionary&lt;string, List&lt;string&gt;&gt;();\n    try\n    {\n        emailBody = ReplaceIncompatableQuotes(emailBody);\n        emailBody = string.Join(\" \", Regex.Split(emailBody.Trim(), @\"(?:\\r\\n|\\n|\\r)\"));\n        var keys = Regex.Matches(emailBody, @\"\\bNew\\B(.+?):\", RegexOptions.Singleline).OfType&lt;Match&gt;().Select(m =&gt; m.Groups[0].Value.Replace(\":\", \"\")).Distinct().ToArray();\n        foreach (string key in keys)\n        {\n            List&lt;string&gt; valueList = new List&lt;string&gt;();\n            string regex = \"\" + Regex.Escape(key) + \":\" + \"\\\"(?&lt;\" + Regex.Escape(GetCleanKey(key)) + \"&gt;[^\\\"]*)\\\"\";\n\n            var matches = Regex.Matches(emailBody, regex, RegexOptions.Singleline);\n            foreach (Match match in matches)\n            {\n                if (match.Success)\n                {\n                    string value = match.Groups[Regex.Escape(GetCleanKey(key))].Value;\n                    if (!valueList.Contains(value.Trim()))\n                    {\n                        valueList.Add(value.Trim());\n                    }\n                }\n            }\n            valueList = valueList.Distinct().ToList();\n            string listName = key.Replace(\"New\", \"\");                    \n            paramValueList.Add(listName.Trim(), valueList);\n        }\n    }\n    catch (Exception ex)\n    {\n        DCULSLogger.LogError(ex);\n    }\n    return paramValueList;\n}\n</code></pre>\n\n<p>My goal here is to scan though the email body and identify the string with <code>NewListName:\"Value\"</code> nomenclature and it is working perfectly fine using the above regex and method. Now my client has changed the nomenclature from <code>NewListName:\"Value\"</code> to <code>\"NewListName:Value\"</code>. I want to grab the text between the double quotes along with <code>New:</code> keyword. So I need to look for <code>\"New</code> keyword and ending quotes. Can anyone help me modify the above regex to scan through the email body and get all list of value between double quotes. So in above example I want to grab <code>\\\"NewFinancial History:pqr\\\"</code> in my results. Any help would be appreciated. </p>\n"}, {"tags": ["c#", "email", "azure", "sendgrid"], "comments": [{"owner": {"reputation": 500, "user_id": 922410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41eb67936707806f321bc735ebbae8c7?s=128&d=identicon&r=PG", "display_name": "kah608", "link": "https://stackoverflow.com/users/922410/kah608"}, "edited": false, "score": 0, "creation_date": 1472679266, "post_id": 39259227, "comment_id": 65854724, "body": "You need to include more context. Showing the using statements around the code. If you can get a message sent without Azure in the picture, then you should be able to get it working in Azure as well. I recommend providing an entire snippet that compiles, leaving out your SendGrid API key"}, {"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 0, "creation_date": 1472681098, "post_id": 39259227, "comment_id": 65855397, "body": "In your update, please don&#39;t post a screenshot of the code. Just copy the code here and use the code tags. Also, you really need to provide more information like if there&#39;s an error or what."}], "answers": [{"tags": [], "owner": {"reputation": 1466, "user_id": 3332866, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1c726e1fbd51f5af6a29328cb43e505f?s=128&d=identicon&r=PG", "display_name": "Renatto Machado", "link": "https://stackoverflow.com/users/3332866/renatto-machado"}, "is_accepted": true, "score": 3, "last_activity_date": 1472729689, "creation_date": 1472729689, "answer_id": 39270455, "question_id": 39259227, "link": "https://stackoverflow.com/questions/39259227/how-can-i-send-e-mail-with-sendgridapicliente-azure-website/39270455#39270455", "title": "How can i send e-mail with SendGridAPICliente. Azure Website", "body": "<p>You should use the version 2 of SendGrid to that tutorial. To use this version you have that install the SendGrid C-Sharp 6.3.4 or bellow.\nIn Package Management Console write:</p>\n\n<blockquote>\n  <p>Install-Package SendGrid -version 6.3.4</p>\n</blockquote>\n"}], "owner": {"reputation": 1738, "user_id": 3813979, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1098428594/picture?type=large", "display_name": "Pedro Franco", "link": "https://stackoverflow.com/users/3813979/pedro-franco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 39270455, "answer_count": 1, "score": 3, "last_activity_date": 1472729689, "creation_date": 1472678646, "last_edit_date": 1472729358, "question_id": 39259227, "link": "https://stackoverflow.com/questions/39259227/how-can-i-send-e-mail-with-sendgridapicliente-azure-website", "title": "How can i send e-mail with SendGridAPICliente. Azure Website", "body": "<p>I`m trying to send an e-mail with SendGrid but i got some errors. \nI was making this <a href=\"http://i.stack.imgur.com/CJbos.jpg\" rel=\"nofollow\">tutorial</a> but after install SendGrid i cant creat any instance of SendGridMessage.</p>\n\n<p>I am using .NET Framework 4.5.2</p>\n\n<pre><code>var test = new SendGirdMessage();\n</code></pre>\n\n<p>I got this error:</p>\n\n<blockquote>\n  <p>Error 3   The type or namespace name 'SendGridMessage' could not be\n  found (are you missing a using directive or an assembly\n  reference?)</p>\n</blockquote>\n\n<p>Then i already try to use SendGridAPIClient, this i can creat but that aren`t sending the e-mail.\nI follow this <a href=\"https://github.com/sendgrid/sendgrid-csharp/tree/3a36fab89ab0ee85aa412df07ac1ce3f90dcd49d\" rel=\"nofollow\">tutorial</a> With Mail helper class.</p>\n\n<p>Could some one help me to send e-mail from azure?</p>\n"}, {"tags": ["c#", "android", "canvas", "xamarin", "bitmap"], "comments": [{"owner": {"reputation": 311, "user_id": 2199521, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9ce5ffe022c76582a28b59d8c32f68ad?s=128&d=identicon&r=PG", "display_name": "Mr.Rao", "link": "https://stackoverflow.com/users/2199521/mr-rao"}, "edited": false, "score": 0, "creation_date": 1472716799, "post_id": 39259217, "comment_id": 65866564, "body": "bitmapDrawable.getBitmap(); Then use the obtained bitmap and rotate it."}, {"owner": {"reputation": 1443, "user_id": 2040460, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/E01x5.png?s=128&g=1", "display_name": "kformeck", "link": "https://stackoverflow.com/users/2040460/kformeck"}, "reply_to_user": {"reputation": 311, "user_id": 2199521, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9ce5ffe022c76582a28b59d8c32f68ad?s=128&d=identicon&r=PG", "display_name": "Mr.Rao", "link": "https://stackoverflow.com/users/2199521/mr-rao"}, "edited": false, "score": 0, "creation_date": 1472737799, "post_id": 39259217, "comment_id": 65881267, "body": "@Mr.Rao I have tried that and it doesn&#39;t seem to work.  I will edit the question above with an example"}], "answers": [{"tags": [], "owner": {"reputation": 1443, "user_id": 2040460, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/E01x5.png?s=128&g=1", "display_name": "kformeck", "link": "https://stackoverflow.com/users/2040460/kformeck"}, "is_accepted": false, "score": 0, "last_activity_date": 1472745600, "creation_date": 1472745600, "answer_id": 39276143, "question_id": 39259217, "link": "https://stackoverflow.com/questions/39259217/rotate-a-drawable-in-android/39276143#39276143", "title": "Rotate a Drawable in Android", "body": "<p>So I figured it out.  It seems there is a pretty specific way you must rotate the canvas in order to rotate a drawable on it:</p>\n\n<pre><code>canvas.Save(SaveFlags.Matrix);\ncanvas.Rotate(_degrees, _location.X, _location.Y);\ncanvas.DrawPath(path, _paint);\ncanvas.Restore();\n</code></pre>\n\n<p>So basically, you save the canvas' current state, rotate it (here, I'm using _location which holds a point in which the user lifted their finger from the screen), then draw on the rotated canvas and then restore it to it's previous state (with the drawable drawn still drawn).</p>\n"}], "owner": {"reputation": 1443, "user_id": 2040460, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/E01x5.png?s=128&g=1", "display_name": "kformeck", "link": "https://stackoverflow.com/users/2040460/kformeck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 372, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1472745600, "creation_date": 1472678584, "last_edit_date": 1495540931, "question_id": 39259217, "link": "https://stackoverflow.com/questions/39259217/rotate-a-drawable-in-android", "title": "Rotate a Drawable in Android", "body": "<p>How do I rotate a Drawable in android?</p>\n\n<p>I have a class that inherits from Drawable and overrides the Draw(canvas) method in order to create an arrow head that I need to place on a line and rotate it to match the slope of the line.</p>\n\n<p>I cannot figure out how to rotate the Drawable; everything I've seen on this has been how to rotate a Bitmap, not a Drawable.</p>\n\n<p>I have tried rotating the canvas first but that causes odd results.  </p>\n\n<p>Any suggestions?</p>\n\n<p>The last thing I have tried that I have seen a lot of people discuss is this:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9015372/how-to-rotate-a-bitmap-90-degrees\">how to rotate a bitmap 90 degrees</a></p>\n"}, {"tags": ["c#", ".net", "reflection"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 4, "creation_date": 1472678678, "post_id": 39259213, "comment_id": 65854505, "body": "You can make a Roslyn analyzer."}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1472679003, "post_id": 39259213, "comment_id": 65854619, "body": "There are static analysis tools that allow you to check your code against coding standards (including defining custom rules). That way you could check your code against all of your rules at once."}, {"owner": {"reputation": 6037, "user_id": 521554, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/595a13ad379874ee331b6693e959a005?s=128&d=identicon&r=PG", "display_name": "LosManos", "link": "https://stackoverflow.com/users/521554/losmanos"}, "reply_to_user": {"reputation": 31937, "user_id": 2642204, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AIjBF.jpg?s=128&g=1", "display_name": "BartoszKP", "link": "https://stackoverflow.com/users/2642204/bartoszkp"}, "edited": false, "score": 0, "creation_date": 1472679161, "post_id": 39259213, "comment_id": 65854692, "body": "@BartoszKP Quite close and might solve my problem if I relax from compile time to instead run a tool once a week. Thx."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 2, "creation_date": 1472679569, "post_id": 39259213, "comment_id": 65854863, "body": "A Roslyn analyzer may address some of the situation, but there are lots of ways <code>ToString()</code> could be called implicitly, without any way to detect. You really need to narrow your problem, and quite possibly just forget about it. Better to create unit tests that would catch culture-dependent output of <code>decimal</code>-to-text values."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1472679593, "post_id": 39259213, "comment_id": 65854872, "body": "Side note: How you expect to catch  <code>decimal.ToString()</code> in <code>String.Format(&quot;{0}&quot;, 1m)</code> at compile time?"}, {"owner": {"reputation": 6037, "user_id": 521554, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/595a13ad379874ee331b6693e959a005?s=128&d=identicon&r=PG", "display_name": "LosManos", "link": "https://stackoverflow.com/users/521554/losmanos"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1472679746, "post_id": 39259213, "comment_id": 65854939, "body": "@AlexeiLevenkov I don&#39;t. I just aim for the 99%."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1472680277, "post_id": 39259213, "comment_id": 65855124, "body": "Would be interesting (mostly for entertainment purposes) to see what kind of code you hope to catch - calling <code>ToString</code> explicitly on value type feels soo rare event to me as that would be done by formatting or serialization core, like JSON.Net"}, {"owner": {"reputation": 31937, "user_id": 2642204, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AIjBF.jpg?s=128&g=1", "display_name": "BartoszKP", "link": "https://stackoverflow.com/users/2642204/bartoszkp"}, "edited": false, "score": 0, "creation_date": 1472680440, "post_id": 39259213, "comment_id": 65855175, "body": "@LosManos You can run a tool during compile time."}, {"owner": {"reputation": 31937, "user_id": 2642204, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AIjBF.jpg?s=128&g=1", "display_name": "BartoszKP", "link": "https://stackoverflow.com/users/2642204/bartoszkp"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1472680538, "post_id": 39259213, "comment_id": 65855208, "body": "Anyway, @PeterDuniho nailed it: good unit-tests are the best solution."}, {"owner": {"reputation": 6037, "user_id": 521554, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/595a13ad379874ee331b6693e959a005?s=128&d=identicon&r=PG", "display_name": "LosManos", "link": "https://stackoverflow.com/users/521554/losmanos"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1472713351, "post_id": 39259213, "comment_id": 65864489, "body": "@AlexeiLevenkov Good point. My main problem is that we unfortunately store decimals as strings in the database through Nhibernate. You got me thinking <a href=\"http://xyproblem.info\" rel=\"nofollow noreferrer\">x-y-problem</a> that it might be nicer to fix it there."}], "answers": [{"tags": [], "owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "is_accepted": true, "score": 4, "last_activity_date": 1472680568, "creation_date": 1472680568, "answer_id": 39259616, "question_id": 39259213, "link": "https://stackoverflow.com/questions/39259213/catch-calls-to-decimal-tostring-at-compile-time/39259616#39259616", "title": "Catch calls to decimal.ToString at compile time", "body": "<p>Microsoft's <a href=\"https://msdn.microsoft.com/en-us/library/3z0aeatx.aspx\" rel=\"nofollow\">Code Analysis</a> rules can be set to notice a variety of culture-dependent string creation issues, including the use of <code>string.Format()</code> and string interpolation. You can set those rules' severity to \"Error\" level, and then set up your project to fail a build whenever they are violated.</p>\n"}], "owner": {"reputation": 6037, "user_id": 521554, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/595a13ad379874ee331b6693e959a005?s=128&d=identicon&r=PG", "display_name": "LosManos", "link": "https://stackoverflow.com/users/521554/losmanos"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "closed_date": 1472758597, "accepted_answer_id": 39259616, "answer_count": 1, "score": 1, "last_activity_date": 1473228586, "creation_date": 1472678553, "last_edit_date": 1495542767, "question_id": 39259213, "link": "https://stackoverflow.com/questions/39259213/catch-calls-to-decimal-tostring-at-compile-time", "closed_reason": "Duplicate", "title": "Catch calls to decimal.ToString at compile time", "body": "<p>I would like to catch all calls to <a href=\"https://msdn.microsoft.com/en-us/library/fzeeb5cd(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>decimal.ToString()</code></a> in my solution.\n<strong>At compile time.</strong> (the question marked as \"original\" is about a run time solution)</p>\n\n<p>Is there any trick for this? like overloading <code>ToString</code> and using <a href=\"https://msdn.microsoft.com/en-us/library/system.obsoleteattribute(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>ObsoleteAttribute</code></a>?</p>\n\n<p>I can resolve to running a scan (by reflection) once a week through code like <a href=\"https://stackoverflow.com/questions/5490025/c-sharp-reflection-and-finding-all-references\">this</a> or install and configure some sort of program with static code checking. But this question is about compile time.</p>\n\n<p>The reason for this is that <code>decimal.ToString</code> is culture aware and which in my case might be trouble; i.e. if someone installs the solution on a localised server output might change.<br>\nWe have a rule not to call <code>decimal.ToString</code> without making it <code>CultureInvariant</code> but it is not always heeded.</p>\n"}, {"tags": ["c#", "sql-server", "winforms", "combobox"], "comments": [{"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1472683146, "post_id": 39259211, "comment_id": 65856122, "body": "At a glance, <a href=\"http://stackoverflow.com/questions/30275865/pass-combobox-selection-to-other-combo-box-in-another-win-form-c-sharp?rq=1\">one of the related questions</a> that shows down there under the job ads should work but there are many ways. Keep in mind forms are just classes, how would you provide a value from one object to another? With forms it is the same."}, {"owner": {"reputation": 157, "user_id": 4089862, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/22cc7d2cb89295861d8c58689d2ab60b?s=128&d=identicon&r=PG&f=1", "display_name": "Juran", "link": "https://stackoverflow.com/users/4089862/juran"}, "edited": false, "score": 0, "creation_date": 1472694003, "post_id": 39259211, "comment_id": 65858728, "body": "Please provide your code so we can help you"}, {"owner": {"reputation": 27, "user_id": 5525296, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4195d5fe42573987ad9ee91a65ca5330?s=128&d=identicon&r=PG&f=1", "display_name": "mouad_raizada", "link": "https://stackoverflow.com/users/5525296/mouad-raizada"}, "reply_to_user": {"reputation": 157, "user_id": 4089862, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/22cc7d2cb89295861d8c58689d2ab60b?s=128&d=identicon&r=PG&f=1", "display_name": "Juran", "link": "https://stackoverflow.com/users/4089862/juran"}, "edited": false, "score": 0, "creation_date": 1472736969, "post_id": 39259211, "comment_id": 65880616, "body": "@Juran this is my codes for the form of edit company     delIdVar = Convert.ToInt32(compDelcombox.SelectedValue);                   DelEditFrm delEditFrm = new DelEditFrm(delIdVar);     delEditFrm.Show();"}, {"owner": {"reputation": 27, "user_id": 5525296, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4195d5fe42573987ad9ee91a65ca5330?s=128&d=identicon&r=PG&f=1", "display_name": "mouad_raizada", "link": "https://stackoverflow.com/users/5525296/mouad-raizada"}, "reply_to_user": {"reputation": 157, "user_id": 4089862, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/22cc7d2cb89295861d8c58689d2ab60b?s=128&d=identicon&r=PG&f=1", "display_name": "Juran", "link": "https://stackoverflow.com/users/4089862/juran"}, "edited": false, "score": 0, "creation_date": 1472737007, "post_id": 39259211, "comment_id": 65880653, "body": "@Juran and this is the codes for the constructor of delegate edit form      public DelEditFrm(int delIdVar)         {             InitializeComponent();             int delId = delIdVar;          }"}], "answers": [{"comments": [{"owner": {"reputation": 841, "user_id": 6146027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3KSHZ.jpg?s=128&g=1", "display_name": "Dan Rediske", "link": "https://stackoverflow.com/users/6146027/dan-rediske"}, "edited": false, "score": 0, "creation_date": 1472679994, "post_id": 39259504, "comment_id": 65855023, "body": "You should probably include some sample code and what you&#39;ve attempted to get more high quality/informative answers. (Is this actually a SQL question? What are the queries involved? What have you tried?)"}], "tags": [], "owner": {"reputation": 841, "user_id": 6146027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3KSHZ.jpg?s=128&g=1", "display_name": "Dan Rediske", "link": "https://stackoverflow.com/users/6146027/dan-rediske"}, "is_accepted": false, "score": 0, "last_activity_date": 1472679966, "creation_date": 1472679966, "answer_id": 39259504, "question_id": 39259211, "link": "https://stackoverflow.com/questions/39259211/how-to-transfer-data-of-selected-value-in-combobox-from-one-form-to-another/39259504#39259504", "title": "How to transfer data of selected value in comboBox from one form to another", "body": "<p>The basic idea is to: </p>\n\n<ol>\n<li>Map the delegate to the id. (this can be stored or queried, if it's really a db) </li>\n<li>When a delegate is selected, trigger a lookup of that id and populate the fields of a dialog box. (again, lookup or query) </li>\n<li>Record changes when that dialog is closed. (a Modify on that item) </li>\n</ol>\n"}], "owner": {"reputation": 27, "user_id": 5525296, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4195d5fe42573987ad9ee91a65ca5330?s=128&d=identicon&r=PG&f=1", "display_name": "mouad_raizada", "link": "https://stackoverflow.com/users/5525296/mouad-raizada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501550112, "creation_date": 1472678542, "last_edit_date": 1501550112, "question_id": 39259211, "link": "https://stackoverflow.com/questions/39259211/how-to-transfer-data-of-selected-value-in-combobox-from-one-form-to-another", "title": "How to transfer data of selected value in comboBox from one form to another", "body": "<p>I have winform that shows the info of a company with a comboBox that shows the delegates of that company now If I select one of those delegates and clicked edit button for the selected delegate another form should appear with the info of that selected delegate to allow me modify the info; the common key between company and delegate tables is id so how to do this ???</p>\n\n<p>this is my codes for the form of edit company  </p>\n\n<pre><code>     delIdVar = Convert.ToInt32(compDelcombox.SelectedValue);              \n     DelEditFrm delEditFrm = new DelEditFrm(delIdVar);\n     delEditFrm.Show();\n</code></pre>\n\n<p>and this is the codes for the constructor of delegate edit form  </p>\n\n<pre><code>public DelEditFrm(int delIdVar)\n  {\n     InitializeComponent();\n     int delId = delIdVar; \n  }\n</code></pre>\n\n<p>and finally these codes for loading the columns data into textBoxes in my delegate edit form load event</p>\n\n<pre><code>     private void DelEditFrm_Load(object sender, EventArgs e)\n        {\n            try\n            {\n                cn.Open();\n                cmd = new SqlCommand(\"select delName,delAdd,delPhone1,delPhone2 from delegate where delId= ' delId  '\", cn);\n                dr = cmd.ExecuteReader();\n                dr.Read();\n                delEditNametxt.Text = dr[\"delName\"].ToString();\n                delEditAddtxt.Text = dr[\"delAdd\"].ToString();\n                delEditPhone1txt.Text = dr[\"delPhone1\"].ToString();\n                delEditPhone2txt.Text = dr[\"delPhone2\"].ToString();\n            }\n            catch(SqlException ex)\n            {\n                MessageBox.Show(ex.Message);\n            }\n            finally\n            {\n                dr.Close();\n                cn.Close();\n            }\n        }  \n</code></pre>\n\n<p>when I attempt to edit the selected delegate it gives me an exception \"Convertion failed when converting the varchar value 'delId' to data type int \" but the dilId column in my table is of int type</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 2324, "user_id": 2496266, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2abb84c0653aa5d942af9ceb1c93e28a?s=128&d=identicon&r=PG", "display_name": "Chaim Eliyah", "link": "https://stackoverflow.com/users/2496266/chaim-eliyah"}, "edited": false, "score": 5, "creation_date": 1472678582, "post_id": 39259121, "comment_id": 65854453, "body": "This compiles? I don&#39;t see an oGateEntryModels object, which you are trying to return as a View. The most obvious type problem, though, is that you are expecting the compiler to implicitly convert a List&lt;GateEntryModels&gt; to a DataResult&lt;GateEntryModels&gt;. You could write an extension method to handle the conversion, you could convert it explicitly (depending on the object inheritance chain, it may accept an explicit cast) or you could just update the type in the ViewModel."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1472679145, "post_id": 39259121, "comment_id": 65854686, "body": "I would note that the antiquated use of hungarian notation (the &quot;<code>o</code>&quot; in &quot;<code>oIGateEntryBC</code>&quot;) makes the code harder to read for C# developers who don&#39;t typically see it anymore."}, {"owner": {"reputation": 989, "user_id": 3141617, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1d29d6696ed89daf5ffaa9f3fa458fe1?s=128&d=identicon&r=PG&f=1", "display_name": "King_Fisher", "link": "https://stackoverflow.com/users/3141617/king-fisher"}, "edited": false, "score": 0, "creation_date": 1472680546, "post_id": 39259121, "comment_id": 65855213, "body": "I used to create an object like this only ,To identify the difference of class objects and variables."}], "answers": [{"comments": [{"owner": {"reputation": 989, "user_id": 3141617, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1d29d6696ed89daf5ffaa9f3fa458fe1?s=128&d=identicon&r=PG&f=1", "display_name": "King_Fisher", "link": "https://stackoverflow.com/users/3141617/king-fisher"}, "edited": false, "score": 0, "creation_date": 1472680619, "post_id": 39259313, "comment_id": 65855240, "body": "oGateEntryViewModel.oListGateEntryModels = new DataResult&lt;GateEntryModels&gt;     {         ViewResults = oIGateEntryBC.oGetGateEntryData()     };"}], "tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 1, "last_activity_date": 1472683439, "last_edit_date": 1472683439, "creation_date": 1472679033, "answer_id": 39259313, "question_id": 39259121, "link": "https://stackoverflow.com/questions/39259121/cannot-implicitly-convert-type-system-collections-generic-list-to-class-propert/39259313#39259313", "title": "Cannot implicitly convert type &#39;System.Collections.Generic.List to class properties in C#", "body": "<p>You're trying to \"convert\" a list to a type that <em>contains</em> a list, which is not directly possible.</p>\n\n<p>The easiest solution would be to assign the property instead:</p>\n\n<pre><code>oGateEntryViewModel.oListGateEntryModels.ViewResults = oIGateEntryBC.oGetGateEntryData(); \n</code></pre>\n\n<p>or</p>\n\n<pre><code>oGateEntryViewModel.oListGateEntryModels = new DataResult&lt;GateEntryModels&gt;\n    {\n        ViewResults = oIGateEntryBC.oGetGateEntryData()\n    };\n</code></pre>\n\n<p>if you need to initialize the <code>oListGateEntryModels</code> property first.</p>\n"}, {"tags": [], "owner": {"reputation": 768, "user_id": 5028564, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Lbhub.jpg?s=128&g=1", "display_name": "DCruz22", "link": "https://stackoverflow.com/users/5028564/dcruz22"}, "is_accepted": false, "score": 0, "last_activity_date": 1472679036, "creation_date": 1472679036, "answer_id": 39259314, "question_id": 39259121, "link": "https://stackoverflow.com/questions/39259121/cannot-implicitly-convert-type-system-collections-generic-list-to-class-propert/39259314#39259314", "title": "Cannot implicitly convert type &#39;System.Collections.Generic.List to class properties in C#", "body": "<p>You have to make the conversion explicitly, try this to convert:</p>\n\n<pre><code>List&lt;GateEntryModels&gt; listName = dtList.AsEnumerable().Select(i =&gt; new MyType()\n{\n   GEID = i.Field&lt;string&gt;(\"GE_ID\"),\n   GE_NO = i.Field&lt;string&gt;(\"GE_NO\"),\n   TRANSPORTER = i.Field&lt;double&gt;(\"TRANSPORTER \")\n}).ToList();\n\nreturn listName;\n</code></pre>\n"}], "owner": {"reputation": 989, "user_id": 3141617, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1d29d6696ed89daf5ffaa9f3fa458fe1?s=128&d=identicon&r=PG&f=1", "display_name": "King_Fisher", "link": "https://stackoverflow.com/users/3141617/king-fisher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1332, "favorite_count": 1, "accepted_answer_id": 39259313, "answer_count": 2, "score": 0, "last_activity_date": 1472683439, "creation_date": 1472678104, "last_edit_date": 1472678788, "question_id": 39259121, "link": "https://stackoverflow.com/questions/39259121/cannot-implicitly-convert-type-system-collections-generic-list-to-class-propert", "title": "Cannot implicitly convert type &#39;System.Collections.Generic.List to class properties in C#", "body": "<p>Model:  </p>\n\n<pre><code>public class DataResult&lt;T&gt;\n{\n    public List&lt;T&gt; ViewResults;\n}\n\npublic class oGateEntryViewModel \n{\n    public DataResult&lt;GateEntryModels&gt; oListGateEntryModels { get; set; }\n}\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>GateEntryViewModel oGateEntryViewModel = new GateEntryViewModel();\nIGateEntryBC oIGateEntryBC = new GateEntryBC();\noGateEntryViewModel.oListGateEntryModels = oIGateEntryBC.oGetGateEntryData();  --Error \nreturn View(oGateEntryViewModel);\n\noIGateEntryBC.oGetGateEntryData(); -&gt; This method is returning the list Results.\n\n\npublic List&lt;GateEntryModels&gt; oGetGateEntryData()\n{\n    DataAdapters oDataAdapters = new DataAdapters();\n    List&lt;DataParameters&gt; oListparams = new List&lt;DataParameters&gt;();\n    DataParameters oDataparam;\n    oDataparam = new DataParameters(\"@TYPE\", SqlDbType.Int, (Int32)GateEntryEntities.EnumGateEntry.GateEntryList);\n    oListparams.Add(oDataparam);\n    DataTable dtList= oDataAdapters.GetData&lt;DataTable&gt;(oListparams, \"PROC_GATEENTRY\");\n\n    return dtList.AsEnumerable().Select(i =&gt; new GateEntryModels()\n    {\n        GEID = int.Parse(i[\"GE_ID\"].ToString()),\n        GE_NO = i[\"GE_NO\"].ToString(),\n        TRANSPORTER = i[\"TRANSPORTER\"].ToString()\n    }).ToList();  \n}\n</code></pre>\n\n<p>I'm trying to wrap multiple list results into a single models and bind the model in to view. When I tried to assign the list value into <code>oListGateEntryModels</code> property, its throwing an error. How do I fix this?</p>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>Cannot implicitly convert type '<code>System.Collections.Generic.List&lt;TS.Models.GateEntryModels&gt;</code>' to '<code>TS.Models.DataResult&lt;TS.Models.GateEntryModels&gt;</code>'</p>\n</blockquote>\n"}, {"tags": ["c#", "class", "optimization", "private", "public"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 4, "creation_date": 1472678069, "post_id": 39259098, "comment_id": 65854237, "body": "<code>public int Width { get; private set; }</code>"}, {"owner": {"reputation": 13431, "user_id": 2169762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nns8w.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/2169762/martin"}, "edited": false, "score": 0, "creation_date": 1472678259, "post_id": 39259098, "comment_id": 65854310, "body": "Imo it wouldn&#39;t make sense to call a method (which would be expected to execute some functionality) to get or set a value, in the same way that it wouldn&#39;t be expected that extensive functionality is executed when getting a value from a property. I think your <b>B</b> option is cleaner but this may simply be down to the choice and style of the coder in question."}, {"owner": {"reputation": 2565, "user_id": 1108505, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7e091fdb18efecace362189bc5f0bf5?s=128&d=identicon&r=PG", "display_name": "Tanner Swett", "link": "https://stackoverflow.com/users/1108505/tanner-swett"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1472679094, "post_id": 39259098, "comment_id": 65854657, "body": "@zerkms Can you please post that comment as an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 131412, "user_id": 32632, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bbf4bacbdb15894cbf7f59718e3fc5cf?s=128&d=identicon&r=PG", "display_name": "Charles Bretana", "link": "https://stackoverflow.com/users/32632/charles-bretana"}, "is_accepted": false, "score": 1, "last_activity_date": 1472678364, "creation_date": 1472678364, "answer_id": 39259178, "question_id": 39259098, "link": "https://stackoverflow.com/questions/39259098/what-is-the-optimal-way-to-return-a-private-value-from-inside-a-class/39259178#39259178", "title": "What is the optimal way to return a private value from inside a class?", "body": "<p>In general best practice says that when doing object oriented programming, you should use methods to perform actions, which may or might affect the state of the object (other than a single attribute value), and you should use properties (setters and getters) to fetch or set object attributes. </p>\n\n<p>Method names should therefore (in general) describe what the method does (the syntax should be like a Verb) whereas Property names should be nouns (referencing some attribute of the object)</p>\n\n<p>Under the surface, of course, the .Net compiler turns all property getters and setters into methods, (in the IL code there is no such thing as a property) but the principal articulated above allows you to see at a glance whether an expression is \"Doing\" something, or simply accessing an attribute. </p>\n"}, {"tags": [], "owner": {"reputation": 16340, "user_id": 1569689, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/21d698866fd3dfd4c566b5688ee99166?s=128&d=identicon&r=PG", "display_name": "James Wood", "link": "https://stackoverflow.com/users/1569689/james-wood"}, "is_accepted": false, "score": 1, "last_activity_date": 1472679288, "creation_date": 1472679288, "answer_id": 39259374, "question_id": 39259098, "link": "https://stackoverflow.com/questions/39259098/what-is-the-optimal-way-to-return-a-private-value-from-inside-a-class/39259374#39259374", "title": "What is the optimal way to return a private value from inside a class?", "body": "<p>Not sure why everything has to be thoroughly in-line, or why that makes anything more readable.</p>\n\n<p>This this would seem to be the most concise implementation in any case. </p>\n\n<pre><code>public int Width \n{ \n    get; \n    private set; \n}\n</code></pre>\n\n<p>Remove the white space if you really must but I'm not sure if that's really an improvement.</p>\n\n<p><code>public int Width { get; private set; }</code></p>\n\n<p>The <a href=\"https://msdn.microsoft.com/en-us/library/ms182181.aspx\" rel=\"nofollow\">MSDN</a> offers some guidance in this situation:</p>\n\n<blockquote>\n  <p>In most cases, properties represent data and methods perform actions.\n  Properties are accessed like fields, which makes them easier to use. A\n  method is a good candidate to become a property if one of these\n  conditions is present:</p>\n  \n  <ul>\n  <li>Takes no arguments and returns the state information of an object.</li>\n  <li>Accepts a single argument to set some part of the state of an object.</li>\n  </ul>\n  \n  <p>Properties should behave as if they are fields; if the method cannot,\n  it should not be changed to a property. Methods are better than\n  properties in the following situations:</p>\n  \n  <ul>\n  <li>The method performs a time-consuming operation. The method is    perceivably slower than the time that is required to set or get the<br>\n  value of a field. </li>\n  <li>The method performs a conversion. Accessing a field does not return a    converted version of the data that it stores.</li>\n  <li>The Get method has an observable side effect. Retrieving the value of    a field does not produce any side effects.   </li>\n  <li>The order of execution is important. Setting the value of a field    does not rely on the occurrence of other operations.</li>\n  <li>Calling the method two times in succession creates different results.</li>\n  <li>The method is static but returns an object that can be changed by the    caller.</li>\n  <li>Retrieving the value of a field does not allow the caller    to change the data that is stored by the field.</li>\n  <li>The method returns an array.</li>\n  </ul>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 6780572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66f153ea788646e14d1c43c2faba8d3b?s=128&d=identicon&r=PG&f=1", "display_name": "Tarmo", "link": "https://stackoverflow.com/users/6780572/tarmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "closed_date": 1473265930, "answer_count": 2, "score": -2, "last_activity_date": 1472679288, "creation_date": 1472678002, "question_id": 39259098, "link": "https://stackoverflow.com/questions/39259098/what-is-the-optimal-way-to-return-a-private-value-from-inside-a-class", "closed_reason": "Opinion-based", "title": "What is the optimal way to return a private value from inside a class?", "body": "<p>I'm attempting to optimize my code for maximum readability and for that I need my code to be in-line through and through. I will present two snippets of code as an example. In my eyes the below one is more easier for the eyes. These snippets (one of them) would be stored in a class and setting <em>width</em> should only be possible inside the class while getting <em>Width</em> should always be possible.</p>\n\n<p><strong>A:</strong></p>\n\n<pre><code>private int width;\npublic int Width\n{\n    get { return width; }\n    private set { }\n}\n</code></pre>\n\n<p><strong>B:</strong></p>\n\n<pre><code>private int width;\npublic int Width()\n{\n    return width;\n}\n</code></pre>\n\n<p>As far as I am concerned these two ways of achieving the same end result are identical. Because I would like to be thoroughly in-line in all my classes I wouldn't want to use both ways mixed together. The B-approach seems cleaner in my eyes.</p>\n\n<p><strong>Are there any downsides/upsides to either approach. Should one approach be favored over the other? Are A and B approaches really completely identical?</strong></p>\n"}, {"tags": ["c#", "xml", "opencv", "emgucv"], "comments": [{"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1472680286, "post_id": 39259090, "comment_id": 65855125, "body": "<a href=\"http://www.emgu.com/wiki/files/2.0.0.0/html/ecc3c8f8-9f92-10b1-96a2-b0b1ca6501e9.htm\" rel=\"nofollow noreferrer\"><code>IntrinsicCameraParameters.DistortionCoeffs</code></a> actually implements <a href=\"https://msdn2.microsoft.com/en-us/library/fhd7bk0a\" rel=\"nofollow noreferrer\"><code>IXmlSerializable</code></a>,   so have you tried simply using <a href=\"https://msdn.microsoft.com/en-us/library/system.xml.serialization.xmlserializer(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>XmlSerializer</code></a> on your <a href=\"http://www.emgu.com/wiki/files/2.0.0.0/html/1ad4e83e-3c4b-d128-cd44-c9e8a9da007f.htm\" rel=\"nofollow noreferrer\"><code>IntrinsicCameraParameters</code></a> ?"}, {"owner": {"reputation": 308, "user_id": 6556913, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1808142782742050/picture?type=large", "display_name": "Kyle Sweet", "link": "https://stackoverflow.com/users/6556913/kyle-sweet"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1472681266, "post_id": 39259090, "comment_id": 65855465, "body": "I have not tried that.  I&#39;m not very good with XML.  Can you elaborate on how XmlSerializer would be used?"}], "answers": [{"comments": [{"owner": {"reputation": 308, "user_id": 6556913, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1808142782742050/picture?type=large", "display_name": "Kyle Sweet", "link": "https://stackoverflow.com/users/6556913/kyle-sweet"}, "edited": false, "score": 1, "creation_date": 1472831867, "post_id": 39283260, "comment_id": 65926691, "body": "Thanks for all the work put in this answer. I got it working with the 2-file solution from your previous [now deleted] answer. I don&#39;t want to spend more hours to get to a 1-file future-proof solution. The C# tool is just a test bed and ultimately the thing I&#39;m creating will be implemented in regular OpenCV with C++.  I feel like Emgu is a mess and the fact that I&#39;m even trying to work with OpenCV in C# may have been a bad idea to begin with.  I thought it&#39;d be easy because it&#39;s C# but I&#39;m a whole week into this already. My coworker wrote the same thing in python in like two days."}], "tags": [], "owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "is_accepted": true, "score": 1, "last_activity_date": 1472781896, "last_edit_date": 1472781896, "creation_date": 1472781534, "answer_id": 39283260, "question_id": 39259090, "link": "https://stackoverflow.com/questions/39259090/how-to-store-load-intrinsiccameraparameters-with-xml/39283260#39283260", "title": "How to store/load IntrinsicCameraParameters with XML", "body": "<p>.Net contains a class <a href=\"https://msdn.microsoft.com/en-us/library/system.xml.serialization.xmlserializer(v=vs.110).aspx\" rel=\"nofollow\"><code>XmlSerializer</code></a> that can automatically serialize instances of types from and to XML via reflection of public properties.  It also supports the <a href=\"https://msdn.microsoft.com/en-us/library/system.xml.serialization.ixmlserializable.aspx\" rel=\"nofollow\"><code>IXmlSerializable</code></a> interface to allow types to override its default behavior and take complete control of how they are serialized to XML.</p>\n\n<p>As it turns out, <a href=\"http://www.emgu.com/wiki/files/3.1.0/document/html/7c0c52c1-5327-ba0b-2216-01d87f8beb88.htm\" rel=\"nofollow\"><code>IntrinsicCameraParameters.IntrinsicMatrix</code></a> and <a href=\"http://www.emgu.com/wiki/files/3.1.0/document/html/ecc3c8f8-9f92-10b1-96a2-b0b1ca6501e9.htm\" rel=\"nofollow\"><code>IntrinsicCameraParameters.DistortionCoeffs</code></a> are both of type <a href=\"http://www.emgu.com/wiki/files/3.1.0/document/html/ec1c8c3f-a99c-a082-e794-bb74db961c60.htm\" rel=\"nofollow\"><code>Matrix&lt;double&gt;</code></a> whose base class <a href=\"http://www.emgu.com/wiki/files/3.1.0/document/html/7fc0991d-4a1a-4010-3c3f-f68fcf148838.htm\" rel=\"nofollow\"><code>CvArray&lt;TDepth&gt;</code></a> implements this interface.  Thus objects of this type should be serializeable to XML using <code>XmlSerializer</code> using the following extension methods:</p>\n\n<pre><code>public static partial class XmlSerializationExtensions\n{\n    public static void SerializeToXmlFile&lt;T&gt;(this T obj, string fileName)\n    {\n        var settings = new XmlWriterSettings { Indent = true };\n        using (var writer = XmlWriter.Create(fileName, settings))\n        {\n            new XmlSerializer(typeof(T)).Serialize(writer, obj);\n        }\n    }\n\n    public static T DeserializeFromXmlFile&lt;T&gt;(string fileName)\n    {\n        using (var reader = XmlReader.Create(fileName))\n        {\n            return (T)new XmlSerializer(typeof(T)).Deserialize(reader);\n        }\n    }\n}\n</code></pre>\n\n<p>Then you can just do:</p>\n\n<pre><code>var fileName = \"C:\\\\Video\\\\Cal\\\\CameraMatrix.xml\";\nICP.IntrinsicMatrix.SerializeToXmlFile(fileName);\n</code></pre>\n\n<p>And later, to read it back, do:</p>\n\n<pre><code>var newIntrinsicMatrix = XmlSerializationExtensions.DeserializeFromXmlFile&lt;Matrix&lt;double&gt;&gt;(fileName);\n</code></pre>\n\n<p>For confirmation, see <a href=\"http://www.emgu.com/wiki/index.php/Working_with_Matrices\" rel=\"nofollow\">the documentation</a> for another example of serializing a matrix from and to XML.</p>\n\n<p>Logically, it should also be possible to save and restore the entire <code>IntrinsicCameraParameters</code> in a single XML file using the same generic extension method:</p>\n\n<pre><code>ICP.SerializeToXmlFile(fileName);\n</code></pre>\n\n<p>Unfortunately, there's a problem.  The implementation of <code>ReadXml()</code> for <code>CvArray&lt;TDepth&gt;</code> is broken.  From <a href=\"https://stackoverflow.com/questions/279534/proper-way-to-implement-ixmlserializable\">Proper way to implement IXmlSerializable?</a></p>\n\n<blockquote>\n  <p>The ReadXml method must reconstitute\n  your object using the information that\n  was written by the WriteXml method.</p>\n  \n  <p>When this method is called, the reader\n  is positioned at the start of the\n  element that wraps the information for\n  your type. That is, just before the\n  start tag that indicates the beginning\n  of a serialized object. When this\n  method returns, it must have read the\n  entire element from beginning to end,\n  including all of its contents. Unlike\n  the WriteXml method, the framework\n  does not handle the wrapper element\n  automatically. Your implementation\n  must do so. Failing to observe these\n  positioning rules may cause code to\n  generate unexpected runtime exceptions\n  or corrupt data.</p>\n</blockquote>\n\n<p>And a quick check of the <a href=\"https://sourceforge.net/p/emgucv/code/ci/master/tree/Emgu.CV/CvArray.cs\" rel=\"nofollow\">source code</a> for <code>CvArray&lt;TDepth&gt;</code> shows that the end of the wrapper element is <strong>not read</strong>.  This will cause any data subsequent to the first <code>CvArray&lt;&gt;</code> in the XML to fail to be deserialized.</p>\n\n<p>Thus, if you want to embed a <code>Matrix&lt;T&gt;</code> in a larger XML file, you're going to need to introduce serialization surrogate types (or data transfer object types if you prefer), like the following.  (Note the introduction of the <code>Emgu.CV.SerializationSurrogates</code> namespace):</p>\n\n<pre><code>namespace Emgu.CV.SerializationSurrogates\n{\n    using Emgu.CV;\n\n    public class Matix&lt;TDepth&gt; where TDepth : new()\n    {\n        [XmlAttribute]\n        public int Rows { get; set; }\n\n        [XmlAttribute]\n        public int Cols { get; set; }\n\n        [XmlAttribute]\n        public int NumberOfChannels { get; set; }\n\n        [XmlAttribute]\n        public int CompressionRatio { get; set; }\n\n        public byte[] Bytes { get; set; }\n\n        public static implicit operator Emgu.CV.SerializationSurrogates.Matix&lt;TDepth&gt;(Emgu.CV.Matrix&lt;TDepth&gt; matrix)\n        {\n            if (matrix == null)\n                return null;\n            return new Matix&lt;TDepth&gt;\n            {\n                Rows = matrix.Rows,\n                Cols = matrix.Cols,\n                NumberOfChannels = matrix.NumberOfChannels,\n                CompressionRatio = matrix.SerializationCompressionRatio,\n                Bytes = matrix.Bytes,\n            };\n        }\n\n        public static implicit operator Emgu.CV.Matrix&lt;TDepth&gt;(Matix&lt;TDepth&gt; surrogate)\n        {\n            if (surrogate == null)\n                return null;\n            var matrix = new Emgu.CV.Matrix&lt;TDepth&gt;(surrogate.Rows, surrogate.Cols, surrogate.NumberOfChannels);\n            matrix.SerializationCompressionRatio = surrogate.CompressionRatio;\n            matrix.Bytes = surrogate.Bytes;\n            return matrix;\n        }\n    }\n\n    public class IntrinsicCameraParameters\n    {\n        [XmlElement(\"IntrinsicMatrix\", Type = typeof(Emgu.CV.SerializationSurrogates.Matix&lt;double&gt;))]\n        public Emgu.CV.Matrix&lt;double&gt; IntrinsicMatrix { get; set; }\n\n        [XmlElement(\"DistortionCoeffs\", Type = typeof(Emgu.CV.SerializationSurrogates.Matix&lt;double&gt;))]\n        public Emgu.CV.Matrix&lt;double&gt; DistortionCoeffs { get; set; }\n\n        public static implicit operator Emgu.CV.SerializationSurrogates.IntrinsicCameraParameters(Emgu.CV.IntrinsicCameraParameters icp)\n        {\n            if (icp == null)\n                return null;\n            return new IntrinsicCameraParameters\n            {\n                DistortionCoeffs = icp.DistortionCoeffs,\n                IntrinsicMatrix = icp.IntrinsicMatrix,\n            };\n        }\n\n        public static implicit operator Emgu.CV.IntrinsicCameraParameters(Emgu.CV.SerializationSurrogates.IntrinsicCameraParameters surrogate)\n        {\n            if (surrogate == null)\n                return null;\n            return new Emgu.CV.IntrinsicCameraParameters\n            {\n                DistortionCoeffs = surrogate.DistortionCoeffs,\n                IntrinsicMatrix = surrogate.IntrinsicMatrix,\n            };\n        }\n    }\n}\n</code></pre>\n\n<p>Now you can save and retrieve your <code>IntrinsicCameraParameters</code> with the following extension methods:</p>\n\n<pre><code>public static class IntrinsicCameraParametersExtensions\n{\n    public static void SerializeIntrinsicCameraParametersExtensionsToXmlFile(this IntrinsicCameraParameters icp, string fileName)\n    {\n        var surrogate = (Emgu.CV.SerializationSurrogates.IntrinsicCameraParameters)icp;\n        surrogate.SerializeToXmlFile(fileName);\n    }\n\n    public static IntrinsicCameraParameters DeserializeIntrinsicCameraParametersFromXmlFile(string fileName)\n    {\n        var surrogate = XmlSerializationExtensions.DeserializeFromXmlFile&lt;Emgu.CV.SerializationSurrogates.IntrinsicCameraParameters&gt;(fileName);\n        return surrogate;\n    }\n}\n</code></pre>\n\n<p>All that being said, <code>IntrinsicCameraParameters</code> is <a href=\"http://www.emgu.com/wiki/files/3.1.0/document/html/1ad4e83e-3c4b-d128-cd44-c9e8a9da007f.htm\" rel=\"nofollow\">marked as obsolete</a> in the current release:</p>\n\n<pre><code>[SerializableAttribute]\n[ObsoleteAttribute(\"This class will be removed in the next release, please use separate camera matrix and distortion coefficient with the CvInvoke function instead.\")]\npublic class IntrinsicCameraParameters : IEquatable&lt;IntrinsicCameraParameters&gt;\n</code></pre>\n\n<p>So you might want to re-think this design.</p>\n\n<p>Incidentally, a non-broken version of <code>CvArray&lt;TDepth&gt;.ReadXml()</code> would look like:</p>\n\n<pre><code>    public virtual void ReadXml(System.Xml.XmlReader reader)\n    {\n        #region read properties of the matrix and assign storage\n\n        int rows = Int32.Parse(reader.GetAttribute(\"Rows\")); // Should really be using XmlConvert for this\n        int cols = Int32.Parse(reader.GetAttribute(\"Cols\"));\n        int numberOfChannels = Int32.Parse(reader.GetAttribute(\"NumberOfChannels\"));\n        SerializationCompressionRatio = Int32.Parse(reader.GetAttribute(\"CompressionRatio\"));\n\n        AllocateData(rows, cols, numberOfChannels);\n\n        #endregion\n\n        #region decode the data from Xml and assign the value to the matrix\n\n        if (!reader.IsEmptyElement)\n        {\n            using (var subReader = reader.ReadSubtree())\n            {\n                // Using ReadSubtree guarantees we don't read past the end of the element in case the &lt;Bytes&gt; element\n                // is missing or extra unexpected elements are included.\n                if (subReader.ReadToFollowing(\"Bytes\"))\n                {\n                    int size = _sizeOfElement * ManagedArray.Length;\n                    if (SerializationCompressionRatio == 0)\n                    {\n                        Byte[] bytes = new Byte[size];\n                        subReader.ReadElementContentAsBase64(bytes, 0, bytes.Length);\n                        Bytes = bytes;\n                    }\n                    else\n                    {\n                        int extraHeaderBytes = 20000;\n                        Byte[] bytes = new Byte[size + extraHeaderBytes];\n                        int countOfBytesRead = subReader.ReadElementContentAsBase64(bytes, 0, bytes.Length);\n                        Array.Resize&lt;Byte&gt;(ref bytes, countOfBytesRead);\n                        Bytes = bytes;\n                    }\n                }\n            }\n        }\n        // Consume the end of the wrapper element also.\n        reader.Read();\n\n        #endregion\n    }\n</code></pre>\n"}], "owner": {"reputation": 308, "user_id": 6556913, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1808142782742050/picture?type=large", "display_name": "Kyle Sweet", "link": "https://stackoverflow.com/users/6556913/kyle-sweet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 568, "favorite_count": 0, "accepted_answer_id": 39283260, "answer_count": 1, "score": 1, "last_activity_date": 1472781896, "creation_date": 1472677970, "question_id": 39259090, "link": "https://stackoverflow.com/questions/39259090/how-to-store-load-intrinsiccameraparameters-with-xml", "title": "How to store/load IntrinsicCameraParameters with XML", "body": "<p>I assume my camera calibration, performed with EmguCV library, is successful because I can apply the calibration to images and they appear to be at least somewhat corrected.  Now I want to store the calibration to disk so I can simply load it when my program runs.  IntrinsicCameraParameters has methods called writeXML() and readXML() that take XmlWriter and XmlReader as arguments, respectively.  Seems like the way to go.  I found an example where someone just instantiated a default XmlWriter and immediately used it to call WriteXml().  But when I try this I get runtime exceptions that seem to be related to the structure of the XML (i.e. only able to have one root node in the XML).  So I have adjusted the code and shared it below.  If I don't include the stupid root element then the call to \"WriteXml\" throws the exception about improperly formed XML.  So I seem to be able to write it, but I don't know how to read it back.  Perhaps the stupid root element prevents the read from succeeding.  Can't find any examples of anyone reading it back.  Does any one have an example to share?</p>\n\n<pre><code>public void SaveCalibrationToFile(IntrinsicCameraParameters ICP)\n        {\n            XmlWriterSettings settings = new XmlWriterSettings();\n            settings.ConformanceLevel = ConformanceLevel.Auto;\n\n            // DISTORTION COEFFICIENTS\n            XmlWriter writer = XmlWriter.Create(\"C:\\\\Video\\\\Cal\\\\DistortionCoeff.xml\", settings);               \n            writer.WriteStartDocument();\n            writer.WriteStartElement(\"TheStupidRootElement\");\n\n                writer.WriteStartElement(\"TheDistortionCoefficients\");\n                ICP.DistortionCoeffs.WriteXml(writer);\n                writer.WriteEndElement(); // end TheDistortionCoefficients\n\n            writer.WriteEndElement(); // end TheStupidRootElement\n            writer.WriteEndDocument();\n            writer.Close();\n\n            // CAMERA MATRIX\n            writer = XmlWriter.Create(\"C:\\\\Video\\\\Cal\\\\CameraMatrix.xml\", settings);                \n            writer.WriteStartDocument();\n            writer.WriteStartElement(\"TheStupidRootElement\");\n\n                writer.WriteStartElement(\"TheCameraMatrix\");\n                ICP.IntrinsicMatrix.WriteXml(writer);\n                writer.WriteEndElement(); // end TheCameraMatrix\n\n            writer.WriteEndElement(); // end TheStupidRootElement\n            writer.WriteEndDocument();\n            writer.Close();\n\n            // now [just to see if it worked] try to load from the XML\n            XmlReaderSettings readerSettings = new XmlReaderSettings();\n            readerSettings.ConformanceLevel = ConformanceLevel.Auto;\n            XmlReader reader = XmlReader.Create(\"C:\\\\Video\\\\Cal\\\\DistortionCoeff.xml\", readerSettings);\n\n            IntrinsicCameraParameters ICP_read = new IntrinsicCameraParameters();\n            IC.DistortionCoeffs.ReadXml(reader);                \n        }\n</code></pre>\n"}, {"tags": ["c#", "entity-framework"], "answers": [{"comments": [{"owner": {"reputation": 757, "user_id": 3338710, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100002832955814/picture?type=large", "display_name": "Jace", "link": "https://stackoverflow.com/users/3338710/jace"}, "edited": false, "score": 0, "creation_date": 1472681857, "post_id": 39259328, "comment_id": 65855703, "body": "Interesting. When I cache data this way, it&#39;s usually a for the sake of compiling reports, or performing comparative analysis, but if <code>Local</code> is only meant for change tracking as you say, then it&#39;s probably best to handle most read-only operations separately. Thanks for the info."}], "tags": [], "owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "is_accepted": true, "score": 2, "last_activity_date": 1472679104, "creation_date": 1472679104, "answer_id": 39259328, "question_id": 39259073, "link": "https://stackoverflow.com/questions/39259073/populating-dbsettentity-local-with-only-specified-fields/39259328#39259328", "title": "Populating DbSet&lt;TEntity&gt;.Local with only specified fields", "body": "<blockquote>\n  <p>caching system that allows me to narrow the query scope to specific columns</p>\n</blockquote>\n\n<p>Sorry, the answer is: not possible.</p>\n\n<p>The reason is that EF's internal cache is used for tracking entities, <em>full</em> entities. Being able to access these cached entities through the <code>Local</code> collection is a mere bonus that was introduced with the <code>DbContext</code> API. The cache doesn't exist <em>because</em> of it. The cache is for change tracking.</p>\n\n<p>When EF materialized an entity from the database, it stores its original values into the change tracker and also frequently stores copies of its current values. When it's time to save changes, these values are compared and SQL statements are generated accordingly to store the changes.</p>\n\n<p>Now you know this, you'll understand that EF can't store party populated entities into its cache. How should EF carry out change tracking if an entity can have any random collection of original values and current values?</p>\n\n<p>Also, the result of a <em>projection</em> -- <code>select new</code> -- is never tracked (cached) and, thus, not accessible through a <code>Local</code> collection.</p>\n\n<p>So in <em>this</em> respect you won't gain much by moving to EF.</p>\n"}], "owner": {"reputation": 757, "user_id": 3338710, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100002832955814/picture?type=large", "display_name": "Jace", "link": "https://stackoverflow.com/users/3338710/jace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 39259328, "answer_count": 1, "score": 0, "last_activity_date": 1472679104, "creation_date": 1472677887, "question_id": 39259073, "link": "https://stackoverflow.com/questions/39259073/populating-dbsettentity-local-with-only-specified-fields", "title": "Populating DbSet&lt;TEntity&gt;.Local with only specified fields", "body": "<p>In Linq to Sql, I would download only a subset of fields for processing in order to reduce query time. Something like this...</p>\n\n<pre><code>var local_data = from row in context.MyTable\nselect new {\n    ID = row.ID,\n    Name = row.Name,\n    EMAIL = row.EMAIL\n};\n</code></pre>\n\n<p>And then I would simply convert the projected data into a POCO collection...</p>\n\n<pre><code>foreach(var item in local_data){\n    collection.Add(\n        new MyTable(){\n            ID = item.ID,\n            NAME = item.NAME,\n            EMAIL = item.EMAIL\n        };\n    );\n}\n</code></pre>\n\n<p>This is extremely useful when dealing with massive, unwieldly table records where I only want to pull a handful of columns. When I heard about <code>DbSet&lt;TEntity&gt;.Local</code>, I was eager to switch over from <code>Linq2SQL</code>, but I can't seem to find the version of this new streamlined caching system that allows me to narrow the query scope to specific columns. How would I go about this?</p>\n"}, {"tags": ["c#", "unit-testing", "asp.net-core", "asp.net-core-mvc"], "answers": [{"comments": [{"owner": {"reputation": 4727, "user_id": 1112558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1dd772bd3183c7b6715f3eecba648e1f?s=128&d=identicon&r=PG", "display_name": "Erikest", "link": "https://stackoverflow.com/users/1112558/erikest"}, "edited": false, "score": 1, "creation_date": 1472769539, "post_id": 39261611, "comment_id": 65898179, "body": "Well, I like that solution - if you need to mock it, wrap it up and inject.  I agree, ControllerBase is not adhering well to the explicit dependencies principal.    I went another direction and fleshed out the HttpContext and ran into a problem that way where it didn&#39;t  throw an exception, but the model wasn&#39;t updated.  I&#39;ll leave that for another a different question.  This seems to provide a viable 4th option :)"}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 4, "last_activity_date": 1472695232, "creation_date": 1472695232, "answer_id": 39261611, "question_id": 39259025, "link": "https://stackoverflow.com/questions/39259025/asp-net-core-mvc-controller-unit-testing-when-using-tryupdatemodel/39261611#39261611", "title": "asp.net core mvc controller unit testing when using TryUpdateModel", "body": "<p>After looking at the source for ControllerBase, I noticed that the troublesome method in question relies on the <strong>static</strong> method <code>ModelBindingHelper.TryUpdateModelAsync</code> <em>(seriously!!!!? I thought we were more evolved by now.)</em> </p>\n\n<p>This as you have already painfully discovered makes testing your controller some what of a bother.</p>\n\n<blockquote>\n  <p>I'm wondering if perhaps this difficulty is telling me something</p>\n</blockquote>\n\n<p>well stop wondering. It is. :)</p>\n\n<p>Here is another option you may have over looked. Abstract/Adapt away that difficulty back to the depths from which it came.</p>\n\n<pre><code>public interface IModelBindingHelperAdaptor {\n    Task&lt;bool&gt; TryUpdateModelAsync&lt;TModel&gt;(ControllerBase controller, TModel model) where TModel : class;\n}\n</code></pre>\n\n<p>an implementation can look like this</p>\n\n<pre><code>public class DefaultModelBindingHelperAdaptor : IModelBindingHelperAdaptor {\n    public virtual Task&lt;bool&gt; TryUpdateModelAsync&lt;TModel&gt;(ControllerBase controller, TModel model) where TModel : class {\n        return controller.TryUpdateModelAsync(model);\n    }\n}\n</code></pre>\n\n<p>Inject the <code>IModelBindingHelperAdaptor</code> into your controller as a dependency and let it call the demon spawned method.</p>\n\n<pre><code>var bindingSuccess = await modelBindingHelper.TryUpdateModelAsync(this, vm);\n</code></pre>\n\n<p>You are now free to mock your abstraction without all the tight coupling, which is what I think they should have done in the first place.</p>\n\n<p>Now I assume you already know to setup the necessary things in your startup to allow for the above suggestion to work so it should not be a difficult task for you to get that up and running.</p>\n"}], "owner": {"reputation": 4727, "user_id": 1112558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1dd772bd3183c7b6715f3eecba648e1f?s=128&d=identicon&r=PG", "display_name": "Erikest", "link": "https://stackoverflow.com/users/1112558/erikest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1358, "favorite_count": 0, "accepted_answer_id": 39261611, "answer_count": 1, "score": 1, "last_activity_date": 1482141785, "creation_date": 1472677655, "last_edit_date": 1472703951, "question_id": 39259025, "link": "https://stackoverflow.com/questions/39259025/asp-net-core-mvc-controller-unit-testing-when-using-tryupdatemodel", "title": "asp.net core mvc controller unit testing when using TryUpdateModel", "body": "<p>In an asp.net core application, I have a pair of controller methods that respond to an Edit action.  One for GET, which takes a string parameter for the entity id:</p>\n\n<pre><code>public async Task&lt;IActionResult&gt; Edit(string id)\n</code></pre>\n\n<p>and the other for receiving a POST of updated entity values:</p>\n\n<pre><code>[HttpPost]\n[ActionName(\"Edit\")]\n[ValidateAntiForgeryToken]        \npublic async Task&lt;IActionResult&gt; EditSave(string id)\n</code></pre>\n\n<p>Inside the postable action method, I call </p>\n\n<pre><code>var bindingSuccess = await TryUpdateModelAsync(vm);\n</code></pre>\n\n<p>And that works fine.  </p>\n\n<p>Now, I'm trying to write a test for this, but am finding that <code>TryUpdateModelAsync</code> requires lots of things from <code>HttpContext</code> and the controller to be fleshed out.  I've tried mocking those out, but after looking at the source code for <code>TryUpdateModelAsync</code>, I realize that I'd essentially need to mock everything down to the metadata, which isn't proving to be straightforward.</p>\n\n<p>I'm wondering if perhaps this difficulty is telling me something:  <code>TryUpdateModelAsync</code> makes it hard to test, so I should refactor the controller method to not rely on this helper.  Instead, I could add another parameter to the method for my viewmodel and decorate it with <code>[FromBody]</code>, so the model binding would happen from the post fields when present, but I would be able to pass in a view model when  testing.  However, I like the <code>TryUpdateModelAsync</code> method, because it does the busy work of merging the post fields into my view model.  The other way I can think to accomplish the merging is write my own Merge method.  Okay, no big deal, but I'd prefer not to have to do this for each entity (or reinvent the wheel writing a reflection based merger) and really, I'm wondering if I just missed the boat on how to write a unit test against this.  I could fire up a whole <code>TestServer</code>, like I do for integration tests, but I'm not sure this is the right direction and feels like I would just be complicating my unit tests further.  However, maybe it is justified in this scenario?</p>\n\n<p>I've seen answers that worked with previous versions of .net mvc, where all they needed to do was mock an <code>IValueProvider</code> and attach it to the controller, but in .net core it appears the <code>TryUpdateModelAsync</code> was reworked and requires more moving parts.  </p>\n\n<p>In sum, I see three options:</p>\n\n<ol>\n<li>Continue mocking and stubbing out all the pieces that\n<code>TryUpdateModelAsync</code> needs.  This might be a dead end, it seems to\nbe so far.</li>\n<li>Use <code>TestServer</code> and make this test from a little\nhigher altitude using an <code>HttpClient</code></li>\n<li>Refactor this method to use\n<code>[FromBody]</code> on a view model parameter, then write my own merge\nmethods for each entity, there by side stepping\n<code>TryUpdateModelAsync</code> altogether</li>\n</ol>\n\n<p>These all have their drawbacks, so I'm hoping there's a 4th entry to this list that I don't see because I am ignorant.</p>\n"}, {"tags": ["c#", "mysql", "entity-framework", "ef-code-first", "entity-framework-6"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6157129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5781fe6b38a5e0edae2375e45679cecf?s=128&d=identicon&r=PG&f=1", "display_name": "inchcrest", "link": "https://stackoverflow.com/users/6157129/inchcrest"}, "is_accepted": true, "score": 0, "last_activity_date": 1475161758, "creation_date": 1475161758, "answer_id": 39773957, "question_id": 39258999, "link": "https://stackoverflow.com/questions/39258999/entity-framework-with-mysql-map-system-guid-to-varchar40/39773957#39773957", "title": "Entity Framework with MySql: Map System.Guid to VARCHAR(40)", "body": "<p>I could not find a way to do this. I was hoping that entity framework would just throw an exception if the VARCHAR(40) could not be parsed to a Guid. That is not the case with the MySQL provider.</p>\n\n<p>I ended up declaring my Id member as a string. To keep my POCO class a true POCO class, I created a helper method to convert strings to Guids.</p>\n"}, {"tags": [], "owner": {"reputation": 978, "user_id": 1074582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b9fca2dd4c9125a356a881b222d2fbf?s=128&d=identicon&r=PG", "display_name": "Moch Yusup", "link": "https://stackoverflow.com/users/1074582/moch-yusup"}, "is_accepted": false, "score": 0, "last_activity_date": 1515487733, "creation_date": 1515487733, "answer_id": 48164337, "question_id": 39258999, "link": "https://stackoverflow.com/questions/39258999/entity-framework-with-mysql-map-system-guid-to-varchar40/48164337#48164337", "title": "Entity Framework with MySql: Map System.Guid to VARCHAR(40)", "body": "<p>You may want to use interface for that and use explicit implementation.</p>\n\n<pre><code>public interface IMyTable\n{\n  Guid Id { get; set; }\n  string Name { get; set; }\n}\n\npublic class MyTable : IMyTable\n{\n  public string Id { get; set; }\n  public string Name { get; set; }\n\n  // use explicit implementation for Id\n  Guid IMyTable.Id\n  {\n    get =&gt; Guid.Parse(this.Id);\n    set =&gt; this.Id = value.ToString();\n  }\n}\n</code></pre>\n\n<p>So instead of using MyTable, you can use IMyTable to get object with fields that have the expected types.</p>\n"}], "owner": {"reputation": 1, "user_id": 6157129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5781fe6b38a5e0edae2375e45679cecf?s=128&d=identicon&r=PG&f=1", "display_name": "inchcrest", "link": "https://stackoverflow.com/users/6157129/inchcrest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 842, "favorite_count": 0, "accepted_answer_id": 39773957, "answer_count": 2, "score": 0, "last_activity_date": 1515487733, "creation_date": 1472677542, "last_edit_date": 1472678072, "question_id": 39258999, "link": "https://stackoverflow.com/questions/39258999/entity-framework-with-mysql-map-system-guid-to-varchar40", "title": "Entity Framework with MySql: Map System.Guid to VARCHAR(40)", "body": "<p>I am using Entity Framework 6 code first to connect to a MySql database. I do not own the database. I <strong>cannot</strong> change the database schema. I also cannot change to another flavor of Entity Framework (model or database first). </p>\n\n<p>I'm having trouble mapping my POCO object to a particular table</p>\n\n<p>The table is as follows: </p>\n\n<pre><code>CREATE TABLE 'my_table' (\n   'id' VARCHAR(40) NOT NULL,\n   'name' VARCHAR(200),\n   Primary Key ('id')\n)\n</code></pre>\n\n<p>I know for a fact that the 'id' column will always be a Guid. Therefore I have created my POCO class as follows:</p>\n\n<pre><code>public class MyTable\n{\n   public Guid Id { get; set;}\n   public string Name { get; set;}\n}\n</code></pre>\n\n<p>From my understanding EF for MySql will only map VARCHAR columns to string fields in your POCO. Is there any way I can tell entity framework that the 'id' column should be converted from a VARCHAR(40) to a Guid?</p>\n\n<p>I was thinking of accepting that I could not map to a Guid. I'd just map to a string and create a custom getter method:</p>\n\n<pre><code>public class MyTable\n{\n   public string Id { get; set;}\n   public string Name { get; set;}\n\n   public Guid GetId()\n   {\n       Guid id;\n       if (Guid.TryParse(this.Id, out id))\n            return id;\n       else\n            return new Guid();\n   }\n} \n</code></pre>\n\n<p>Please help an EF newb out. Thanks</p>\n"}, {"tags": ["c#", "generics", "implicit-conversion"], "answers": [{"comments": [{"owner": {"reputation": 1148, "user_id": 4062628, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9V2b.jpg?s=128&g=1", "display_name": "John Riehl", "link": "https://stackoverflow.com/users/4062628/john-riehl"}, "edited": false, "score": 0, "creation_date": 1472680021, "post_id": 39259072, "comment_id": 65855033, "body": "Thanks, but I&#39;m not following you.  Based on how I understand your answer, <code>GetName((RowListItem&lt;SpecificRow&gt;)bar)</code> should also fail, since it doesn&#39;t derive from <code>RowListItem&lt;BaseRow&gt;</code>.  However, it succeeds because of the <code>where TRow : BaseRow</code> constraint, which matches any <code>TRow</code> that inherits from <code>BaseRow</code>.  My question is whether there&#39;s a reason the compiler can&#39;t implicitly cast from <code>SpecificRowListItem</code> to <code>RowListItem&lt;SpecificRow&gt;</code> even though the first inherits from the second?"}, {"owner": {"reputation": 709, "user_id": 1133343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bBxGl.jpg?s=128&g=1", "display_name": "keydon", "link": "https://stackoverflow.com/users/1133343/keydon"}, "reply_to_user": {"reputation": 1148, "user_id": 4062628, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9V2b.jpg?s=128&g=1", "display_name": "John Riehl", "link": "https://stackoverflow.com/users/4062628/john-riehl"}, "edited": false, "score": 0, "creation_date": 1472685538, "post_id": 39259072, "comment_id": 65856791, "body": "i added a working example to my answer based on your example for leveraging co-variance in c#. but i am not able to properly explain it to you, since i dont fully understand it myself xD but there is a lot to read about that stuff on the internet :d"}, {"owner": {"reputation": 1148, "user_id": 4062628, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9V2b.jpg?s=128&g=1", "display_name": "John Riehl", "link": "https://stackoverflow.com/users/4062628/john-riehl"}, "edited": false, "score": 0, "creation_date": 1472823473, "post_id": 39259072, "comment_id": 65921279, "body": "I&#39;m glad you don&#39;t understand it either--makes me feel like less of a doofus ;-)  <a href=\"http://stackoverflow.com/a/9381751/4062628\">This link</a> was interesting as well."}], "tags": [], "owner": {"reputation": 709, "user_id": 1133343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bBxGl.jpg?s=128&g=1", "display_name": "keydon", "link": "https://stackoverflow.com/users/1133343/keydon"}, "is_accepted": true, "score": 1, "last_activity_date": 1472685846, "last_edit_date": 1495540301, "creation_date": 1472677884, "answer_id": 39259072, "question_id": 39258983, "link": "https://stackoverflow.com/questions/39258983/implicit-generic-type-conversion-fails-to-match-overloaded-method-signature/39259072#39259072", "title": "Implicit generic type conversion fails to match overloaded method signature", "body": "<p><code>RowListItem&lt;SpecificRow&gt;</code> has no relation to <code>RowListItem&lt;BaseRow&gt;</code>, it does not derive from it.</p>\n\n<p>check out co-variance in generics. this answer might help you: <a href=\"https://stackoverflow.com/questions/10956993/out-t-vs-t-in-generics\">&quot;out T&quot; vs. &quot;T&quot; in Generics</a></p>\n\n<p>Working example:</p>\n\n<pre><code>  using System;\n\nnamespace CoVariance\n{\n    public class RowBase { }\n\n    public class SpecificRow : RowBase { }\n\n    public class RowListItem&lt;TRow&gt; : IInputSave&lt;TRow&gt; where TRow : RowBase { }\n\n    public class SpecificRowListItem : RowListItem&lt;SpecificRow&gt; { }\n\n    internal interface IInputSave&lt;out TRow&gt;\n        where TRow : RowBase\n    {\n    }\n\n    class Program\n    {\n        public static void Main(string[] args){\n\n            var foo = new SpecificRow();\n            var bar = new SpecificRowListItem();\n            var baz = new RowListItem&lt;SpecificRow&gt;();\n            string name;\n\n            name = GetName(foo);\n            Console.WriteLine(name); //oink\n            name = GetName(baz);\n            Console.WriteLine(name); //nested oink\n            name = GetName(bar);\n            Console.WriteLine(name); //nested oink\n            name = GetName((RowListItem&lt;SpecificRow&gt;)bar);\n            Console.WriteLine(name); //nested oink\n            //name = GetName&lt;SpecificRow&gt;(bar); \n\n            Console.ReadKey();\n        }\n\n        public static string GetName(RowBase row)\n        {\n            return \"oink\";\n        }\n\n        public static string GetName(IInputSave&lt;RowBase&gt; item)\n        {\n            return \"nested oink\";\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1148, "user_id": 4062628, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9V2b.jpg?s=128&g=1", "display_name": "John Riehl", "link": "https://stackoverflow.com/users/4062628/john-riehl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 39259072, "answer_count": 1, "score": 1, "last_activity_date": 1472685846, "creation_date": 1472677470, "last_edit_date": 1472677718, "question_id": 39258983, "link": "https://stackoverflow.com/questions/39258983/implicit-generic-type-conversion-fails-to-match-overloaded-method-signature", "title": "Implicit generic type conversion fails to match overloaded method signature", "body": "<p>I have some classes as follows:</p>\n\n<pre><code>public class RowBase { }\n\npublic class SpecificRow : RowBase { }\n\npublic class RowListItem&lt;TRow&gt; where TRow : RowBase { }\n\npublic class SpecificRowListItem : RowListItem&lt;SpecificRow&gt; { }\n</code></pre>\n\n<p>And some methods as follows:</p>\n\n<pre><code>public string GetName&lt;TRow&gt;(RowBase row) where TRow : RowBase { }\n\npublic string GetName&lt;TRow&gt;(RowListItem&lt;TRow&gt; item) where TRow : RowBase { }\n</code></pre>\n\n<p>The problem I'm having is that a subclass of <code>RowListItem</code> fails to match the signature of the second overload.  Here are examples:</p>\n\n<pre><code>var foo = new SpecificRow();\nvar bar = new SpecificRowListItem();\nvar baz = new RowListItem&lt;SpecificRow&gt;();\nstring name;\nname = GetName(foo); // invokes first overload as expected\nname = GetName(baz); // invokes second overload as expected\nname = GetName(bar); // does not compile\nname = GetName((RowListItem&lt;SpecificRow&gt;)bar); // this alternative invokes the second overload\nname = GetName&lt;SpecificRow&gt;(bar); // this alternative also invokes the second overload\n</code></pre>\n\n<p>The compiler error is</p>\n\n<blockquote>\n  <p>Error CS0311  The type 'ConsoleApplication1.SpecificRowListItem' cannot be used as type parameter 'TRow' in the generic type or method 'Program.GetName(TRow)'. There is no implicit reference conversion from 'ConsoleApplication1.SpecificRowListItem' to 'ConsoleApplication1.RowBase'.</p>\n</blockquote>\n\n<p>Since <code>SpecificRowListItem</code> is a subclass of <code>RowListItem&lt;TRow&gt;</code> with a <code>TRow</code> that meets the <code>where TRow : RowBase</code> constraint, I would expect that the compiler would be able to tell that it should match the second overload when provided a parameter as an instance of that class.  However, the text of the compiler error indicates that it's attempting to match the first overload (<code>GetName(TRow)</code>).  I'd like to understand why that is, and if there's anything I can do to solve the problem other than the two alternatives that are working.  I tried this:</p>\n\n<pre><code>public string GetName&lt;TItem, TRow&gt;(TItem item)\n    where TItem : RowListItem&lt;TRow&gt;\n    where TRow : RowBase\n</code></pre>\n\n<p>Aside from being ugly, it gave me the same problem (appears to match the first overload).</p>\n"}, {"tags": ["c#", "casting", "ienumerable", "defensive-programming"], "comments": [{"owner": {"reputation": 13431, "user_id": 2169762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nns8w.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/2169762/martin"}, "edited": false, "score": 0, "creation_date": 1472677763, "post_id": 39258968, "comment_id": 65854085, "body": "The reason that <code>_ints</code> can be modified even though it is private is because a <i>reference</i> to it is passed out when the public property get is called. To protect the private list the solution would seem to be to return a copy of this through the property, but then how would valid changes be controlled? Not an easy (or even necessary) problem to solve."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1472677776, "post_id": 39258968, "comment_id": 65854092, "body": "I think I wouldn&#39;t worry about it. Casting to <code>List</code> is explicit use of &quot;internal&quot; information - it&#39;s one step away from just grabbing the private member via reflection. You&#39;re clearly exposing only read-only information via the public interface of the class."}, {"owner": {"reputation": 13431, "user_id": 2169762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nns8w.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/2169762/martin"}, "edited": false, "score": 0, "creation_date": 1472677820, "post_id": 39258968, "comment_id": 65854115, "body": "Incidentally, with reflection in .Net we can access all members, methods, properties, etc. regardless of their <code>private</code> scope, which renders such considerations obsolete anyway."}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 1, "creation_date": 1472677933, "post_id": 39258968, "comment_id": 65854163, "body": "You can only protect people so much. Your duty is to provide an interface for them to use. People can always use reflection to get around whatever you try to do. If they try casting your <code>IEnumerable&lt;int&gt;</code> to a <code>List&lt;int&gt;</code>, they&#39;re going to manage it if they&#39;re determined enough."}, {"owner": {"reputation": 2258, "user_id": 6168519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e37eef36247051d9b713ebd68468b12?s=128&d=identicon&r=PG&f=1", "display_name": "Sparrow", "link": "https://stackoverflow.com/users/6168519/sparrow"}, "edited": false, "score": 0, "creation_date": 1472678405, "post_id": 39258968, "comment_id": 65854387, "body": "Are you sending this data to the UI (perhaps web application) and then get the ids from client to do something on the back-end? Basically, I want to clarify if you are asking about secure software coding practices."}], "answers": [{"comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1472678304, "post_id": 39259023, "comment_id": 65854333, "body": "OP knows this, he mentions the similar solution <code>_ints.Select(i = i)</code>. He is asking whether it&#39;s necessary / a good idea."}], "tags": [], "owner": {"reputation": 431, "user_id": 6357224, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/677dd3d00170373a162fd3e90c2188f9?s=128&d=identicon&r=PG&f=1", "display_name": "D. Stewart", "link": "https://stackoverflow.com/users/6357224/d-stewart"}, "is_accepted": false, "score": -3, "last_activity_date": 1472677652, "creation_date": 1472677652, "answer_id": 39259023, "question_id": 39258968, "link": "https://stackoverflow.com/questions/39258968/how-defensive-should-one-be-when-returning-an-object-reference-that-is-merely-a/39259023#39259023", "title": "How defensive should one be when returning an object reference that is merely a private member &quot;obfuscated&quot; somehow?", "body": "<p>You could do something like </p>\n\n<pre><code>public IEnumerable&lt;int&gt; Ints =&gt; _ints.ToList&lt;int&gt;();\n</code></pre>\n\n<p>so you're not returning the reference to _ints, but only a copied list. Anyone modifying the return value then would only be modifying their own copy of it, not the privately stored one. </p>\n"}, {"tags": [], "owner": {"reputation": 32826, "user_id": 326518, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/86ed0daa163da7921f4117c8f7b76fdb?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/326518/jeff"}, "is_accepted": false, "score": 2, "last_activity_date": 1472677867, "creation_date": 1472677867, "answer_id": 39259067, "question_id": 39258968, "link": "https://stackoverflow.com/questions/39258968/how-defensive-should-one-be-when-returning-an-object-reference-that-is-merely-a/39259067#39259067", "title": "How defensive should one be when returning an object reference that is merely a private member &quot;obfuscated&quot; somehow?", "body": "<p>I always add a call to AsReadOnly() after ToList</p>\n\n<p>Immutability is key, not just principal of least knowledge in the return type</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/e78dcd75(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/e78dcd75(v=vs.110).aspx</a></p>\n"}], "owner": {"reputation": 19714, "user_id": 340819, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b3de81e79b2ad88d9a0d8d0a011a7f00?s=128&d=identicon&r=PG", "display_name": "Hammerite", "link": "https://stackoverflow.com/users/340819/hammerite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1472677867, "creation_date": 1472677396, "question_id": 39258968, "link": "https://stackoverflow.com/questions/39258968/how-defensive-should-one-be-when-returning-an-object-reference-that-is-merely-a", "title": "How defensive should one be when returning an object reference that is merely a private member &quot;obfuscated&quot; somehow?", "body": "<p>Consider this C# program:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\n\nnamespace SandboxApplication\n{\n    public class IntsOwner\n    {\n        private List&lt;int&gt; _ints;\n\n        public IntsOwner (IEnumerable&lt;int&gt; ints)\n        {\n            _ints = ints.OrderBy(i =&gt; i).ToList(); // They must be in the correct order\n        }\n\n        public IEnumerable&lt;int&gt; Ints\n            =&gt; _ints;\n\n        public void CheckFirstTwoInts ()\n        {\n            if (_ints.Count &lt; 2)\n            {\n                Console.WriteLine(\"You need to collect some more ints before trying this.\");\n            }\n            else if (_ints[0] &lt;= _ints[1])\n            {\n                Console.WriteLine(\"Your ints are in the correct order and you should stop worrying.\");\n            }\n            else\n            {\n                Console.WriteLine(\"You've failed, your highness.\");\n            }\n        }\n    }\n\n    class Program\n    {\n        static void Main (string[] args)\n        {\n            var intsOwner = new IntsOwner(new List&lt;int&gt; {1, 2, 3, 4, 5});\n\n            var ienumerable = intsOwner.Ints;\n\n            var list = (List&lt;int&gt;)ienumerable;\n\n            intsOwner.CheckFirstTwoInts();\n\n            list[0] = 6;\n\n            intsOwner.CheckFirstTwoInts();\n\n            Console.ReadLine();\n        }\n    }\n}\n</code></pre>\n\n<p>If you run this, you will get two lines of output:</p>\n\n<pre><code>Your ints are in the correct order and you should stop worrying.\nYou've failed, your highness.\n</code></pre>\n\n<p>The original designer of the <code>IntsOwner</code> class wanted to make sure that a particular property (ordering of list elements) held for the private member <code>_ints</code>. But because a reference to the actual object is returned through the <code>Ints</code> property, a user of the class can modify the object so that this property no longer holds.</p>\n\n<p>This sort of code doesn't appear very likely in practice, but it is still disconcerting that control of members intended to be private can \"leak\" in this way. How much, if at all, should programmers try to block this sort of thing off? For example, would it be reasonable or proportionate to change the <code>Ints</code> property's expression body to <code>_ints.Select(i = i)</code> and thereby close off this way of modifying the private member? Or would that be unnecessarily paranoid to the detriment of the code's readability?</p>\n"}, {"tags": ["c#", "database", "linq", "parameters"], "comments": [{"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 0, "creation_date": 1472677350, "post_id": 39258925, "comment_id": 65853895, "body": "Maybe try one of these? <a href=\"http://stackoverflow.com/questions/9576868/how-to-put-image-in-a-picture-box-from-a-byte-in-c-sharp\" title=\"how to put image in a picture box from a byte in c sharp\">stackoverflow.com/questions/9576868/&hellip;</a>"}, {"owner": {"reputation": 13431, "user_id": 2169762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nns8w.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/2169762/martin"}, "edited": false, "score": 0, "creation_date": 1472677425, "post_id": 39258925, "comment_id": 65853930, "body": "This is most likely to be because <code>imageByte</code> does not actually contain valid image data.  Have you verified that it is, in fact, a valid image, before loading it into the picture box?"}, {"owner": {"reputation": 51, "user_id": 3319756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8e0925428bdac50b12ced68d33bf5668?s=128&d=identicon&r=PG&f=1", "display_name": "user3319756", "link": "https://stackoverflow.com/users/3319756/user3319756"}, "edited": false, "score": 1, "creation_date": 1472677755, "post_id": 39258925, "comment_id": 65854080, "body": "Martin@You say the right thing.thank u.data was wrong.i fix it"}], "owner": {"reputation": 51, "user_id": 3319756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8e0925428bdac50b12ced68d33bf5668?s=128&d=identicon&r=PG&f=1", "display_name": "user3319756", "link": "https://stackoverflow.com/users/3319756/user3319756"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 616, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1472677229, "creation_date": 1472677229, "question_id": 39258925, "link": "https://stackoverflow.com/questions/39258925/parameter-is-not-valid-while-converting-byte-array-to-image", "title": "Parameter is not valid while converting byte array to image", "body": "<p>i have a database with an image filed.I have read this Image field and convert to byte array with code below.</p>\n\n<pre><code>imageByte = ((dtgrid.CurrentRow.Cells[2].Value) as System.Data.Linq.Binary).ToArray();\n</code></pre>\n\n<p>When I Create a stream and Assign it to PictureBox image like this:</p>\n\n<pre><code> MemoryStream ms = new MemoryStream(imageByte);\n            pictureBox1.Image = Image.FromStream(ms);\n</code></pre>\n\n<p>I have this error:</p>\n\n<blockquote>\n  <p>Parameter is not valid.</p>\n</blockquote>\n\n<p>How Can I fix this.</p>\n"}, {"tags": ["c#", "uwp"], "comments": [{"owner": {"reputation": 627, "user_id": 5438128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5d0e061b267311381d8226c3bb60a20c?s=128&d=identicon&r=PG", "display_name": "ebyrob", "link": "https://stackoverflow.com/users/5438128/ebyrob"}, "edited": false, "score": 3, "creation_date": 1472677218, "post_id": 39258874, "comment_id": 65853844, "body": "`    } catch {}` is just bad practice.  Log or don&#39;t catch to be sure what&#39;s going on."}, {"owner": {"reputation": 627, "user_id": 5438128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5d0e061b267311381d8226c3bb60a20c?s=128&d=identicon&r=PG", "display_name": "ebyrob", "link": "https://stackoverflow.com/users/5438128/ebyrob"}, "edited": false, "score": 0, "creation_date": 1472741128, "post_id": 39258874, "comment_id": 65883875, "body": "Have you tried using using <code>System.Windows.Threading.DispatcherTimer</code>.  I&#39;m running similar code with that and have no problems stopping it.  I&#39;d try <code>Windows.UI.XAML.DispatchTimer</code> but don&#39;t have a windows 10 dev box."}, {"owner": {"reputation": 7, "user_id": 6779481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ca01077f10df9ff5e0a71cd779c0b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Burns", "link": "https://stackoverflow.com/users/6779481/justin-burns"}, "reply_to_user": {"reputation": 627, "user_id": 5438128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5d0e061b267311381d8226c3bb60a20c?s=128&d=identicon&r=PG", "display_name": "ebyrob", "link": "https://stackoverflow.com/users/5438128/ebyrob"}, "edited": false, "score": 0, "creation_date": 1472754448, "post_id": 39258874, "comment_id": 65891679, "body": "I believe that in order to use <code>System.Windows.Threading</code> I have to have <code>WindowsBase</code> installed as a reference, which I do not believe is possible for a UWP app, or at least I haven&#39;t discovered how to do so."}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 6779481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ca01077f10df9ff5e0a71cd779c0b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Burns", "link": "https://stackoverflow.com/users/6779481/justin-burns"}, "edited": false, "score": 0, "creation_date": 1472683427, "post_id": 39259295, "comment_id": 65856202, "body": "I also need to stop the timer from the outside--when the user answers within the time limit. So outside code needs to call StopTimer() and have it work.  This didn&#39;t fix it.  But thanks for the help."}], "tags": [], "owner": {"reputation": 435, "user_id": 6622537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b68a4caa4fc3867c05192e6deaa5fa3f?s=128&d=identicon&r=PG&f=1", "display_name": "snickro", "link": "https://stackoverflow.com/users/6622537/snickro"}, "is_accepted": false, "score": 0, "last_activity_date": 1472678938, "creation_date": 1472678938, "answer_id": 39259295, "question_id": 39258874, "link": "https://stackoverflow.com/questions/39258874/dispatchertimer-keeps-firing-after-ive-stopped-it-c-uwp/39259295#39259295", "title": "DispatcherTimer keeps firing after I&#39;ve stopped it. C# UWP", "body": "<p>Try stopping the timer by using the sender object, not the actual public timer object:</p>\n\n<pre><code>private void TimerCallback(object sender, object e) {\n    (sender as DispatcherTimer).Stop();\n    // Other code\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10871, "user_id": 1698987, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cg2Q3.jpg?s=128&g=1", "display_name": "Noctis", "link": "https://stackoverflow.com/users/1698987/noctis"}, "is_accepted": false, "score": 0, "last_activity_date": 1472685594, "creation_date": 1472685594, "answer_id": 39260466, "question_id": 39258874, "link": "https://stackoverflow.com/questions/39258874/dispatchertimer-keeps-firing-after-ive-stopped-it-c-uwp/39260466#39260466", "title": "DispatcherTimer keeps firing after I&#39;ve stopped it. C# UWP", "body": "<p>As a workaround, you could do something like:</p>\n\n<pre><code>// in your class\nprivate bool _allowExecution = false;\n</code></pre>\n\n<p>Then whenever you start the time set <code>_allowExecution = true;</code> and when you stop the timer, simply add <code>_allowExecution = false;</code></p>\n\n<p>The last thing will be to add a simply boolean condition on your timer execute: <code>if (_allowExecute) //do your stuff here</code></p>\n"}, {"comments": [{"owner": {"reputation": 7, "user_id": 6779481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ca01077f10df9ff5e0a71cd779c0b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Burns", "link": "https://stackoverflow.com/users/6779481/justin-burns"}, "edited": false, "score": 0, "creation_date": 1472712590, "post_id": 39262022, "comment_id": 65864099, "body": "I&#39;ve tried it both ways, initializing a new &#39;DispatcherTimer&#39; or reusing one setup when the class is first setup.  It doesn&#39;t seem to matter:  &#39;GameTimer.Stop()&#39; isn&#39;t working.  I copied this code in precisely and it didn&#39;t work either."}, {"owner": {"reputation": 710, "user_id": 5184967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3adcb6c0bbc3be4e23369ece99f69c4?s=128&d=identicon&r=PG&f=1", "display_name": "tao", "link": "https://stackoverflow.com/users/5184967/tao"}, "reply_to_user": {"reputation": 7, "user_id": 6779481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ca01077f10df9ff5e0a71cd779c0b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Burns", "link": "https://stackoverflow.com/users/6779481/justin-burns"}, "edited": false, "score": 0, "creation_date": 1472719945, "post_id": 39262022, "comment_id": 65868473, "body": "@JustinBurns I notice you make GameTimer public, does somewhere change it? you can create a new blank app and just copy the code snippet, if it works fine, you may need go back and double check your project."}, {"owner": {"reputation": 7, "user_id": 6779481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ca01077f10df9ff5e0a71cd779c0b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Burns", "link": "https://stackoverflow.com/users/6779481/justin-burns"}, "edited": false, "score": 0, "creation_date": 1472801067, "post_id": 39262022, "comment_id": 65907155, "body": "I did as you suggested and made an app with two buttons, a textbox, and the above timer.  Each button displayed its name in the textbox when clicked on and the timer displayed &#39;Time&#39; when it triggered.  Everything worked as it should.  This means something in the mass of the rest of the program is causing my issue.  At least I know the timer should work, I&#39;m using it correctly, and there is something in the mass of the rest of the app that is causing the issue.  Thanks for the help."}], "tags": [], "owner": {"reputation": 710, "user_id": 5184967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3adcb6c0bbc3be4e23369ece99f69c4?s=128&d=identicon&r=PG&f=1", "display_name": "tao", "link": "https://stackoverflow.com/users/5184967/tao"}, "is_accepted": false, "score": 0, "last_activity_date": 1472698702, "creation_date": 1472698702, "answer_id": 39262022, "question_id": 39258874, "link": "https://stackoverflow.com/questions/39258874/dispatchertimer-keeps-firing-after-ive-stopped-it-c-uwp/39262022#39262022", "title": "DispatcherTimer keeps firing after I&#39;ve stopped it. C# UWP", "body": "<p>Because you initialize a new <code>DispatcherTimer</code> everytime call <code>SetTimer(int interval)</code>. You must stop the old <code>DispatcherTimer</code> instance before initialize a new one.</p>\n\n<pre><code>internal void SetTimer(int interval) \n{\n    StopTimer();\n    GameTimer = new DispatcherTimer();\n    GameTimer.Tick += TimerCallback;\n    GameTimer.Interval = new TimeSpan(0,0,0,0,interval);\n    GameTimer.Start();\n}\n\ninternal void StopTimer() \n{\n    if(GameTimer != null)\n    {\n        GameTimer.Stop();\n        GameTimer.Tick -= TimerCallback;\n        GameTimer = null;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 6779481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ca01077f10df9ff5e0a71cd779c0b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Burns", "link": "https://stackoverflow.com/users/6779481/justin-burns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1064, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1472698702, "creation_date": 1472677030, "last_edit_date": 1472683752, "question_id": 39258874, "link": "https://stackoverflow.com/questions/39258874/dispatchertimer-keeps-firing-after-ive-stopped-it-c-uwp", "title": "DispatcherTimer keeps firing after I&#39;ve stopped it. C# UWP", "body": "<p>I'm having trouble with the following code.  I have some code that calls <code>SetTimer()</code> and expects the user to respond before <code>interval</code> is reached (in\nmillisecs).  The calling code inherit these funtions.  If the user responds, then <code>StopTimer()</code> is called, info is displayed, <code>StartTimer()</code> is called, and the user is expected to respond again within the <code>interval</code> time period.  This continues until the user fails in an answer or takes too long (goes past the <code>interval</code>).</p>\n\n<p>The problem is the timers don't stop.  They keep repeating even after I've stopped them, set their <code>Tick</code> event to <code>null</code> (by the <code>-=</code> method), and left its scope.  I even get new storage with a new <code>DispatcherTimer</code> (I've done this both using the old one and a new one each time).  I can't get the old <code>Timer</code> to go away.</p>\n\n<p>What am I doing wrong?</p>\n\n<pre><code>using Windows.UI.XAML;\n\npublic DispatcherTimer GameTimer;\n\ninternal void SetTimer(int interval) \n{\n    GameTimer = new DispatcherTimer();\n    GameTimer.Tick += TimerCallback;\n    GameTimer.Interval = new TimeSpan(0,0,0,0,interval);\n    GameTimer.Start();\n}\n\ninternal void StopTimer() \n{\n    GameTimer.Stop();\n    try \n    {\n        GameTimer.Tick -= TimerCallback;\n    } catch {}\n}\n\nprivate void TimerCallback(object sender, object e) \n{\n    StopTimer();\n    // Other code\n}\n</code></pre>\n\n<p>Thanks in advance,</p>\n\n<p>-justin</p>\n"}, {"tags": ["c#", ".net", "wcf", "ipc", "named-pipes"], "comments": [{"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1472677272, "post_id": 39258812, "comment_id": 65853867, "body": "WCF is most definitely alive and well, and the current .NET implementatoin of SOAP services.  Web API is REST-based (though you can do REST with WCF as well).   WCF gives you flexibility in terms of communication protocols, whereas Web API is HTTP only.  In terms of your scenario, WCF with net named pipes is probably the best mechanism, though if the task is truly long running you may want to use oneway operations (i..e, fire and forget)."}, {"owner": {"reputation": 33537, "user_id": 15393, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c31c0dfc2a92d09b3e93d50e6ce5a489?s=128&d=identicon&r=PG", "display_name": "RB.", "link": "https://stackoverflow.com/users/15393/rb"}, "edited": false, "score": 0, "creation_date": 1472678003, "post_id": 39258812, "comment_id": 65854197, "body": "Also consider what you want to do if the Windows Service isn&#39;t running when you need to talk to it. It might be that a message queue (possibly using WCF - it has good support for MSMQ) is a better fit."}, {"owner": {"reputation": 33537, "user_id": 15393, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c31c0dfc2a92d09b3e93d50e6ce5a489?s=128&d=identicon&r=PG", "display_name": "RB.", "link": "https://stackoverflow.com/users/15393/rb"}, "edited": false, "score": 0, "creation_date": 1472678067, "post_id": 39258812, "comment_id": 65854235, "body": "However, it&#39;s hard to know what to recommend without knowing what sort of performance, reliability, ease of implementation, transactionality, etc you require."}], "owner": {"reputation": 1538, "user_id": 1148470, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8ad108bf0cfdcf34fe3d601ede04f614?s=128&d=identicon&r=PG", "display_name": "Josh R", "link": "https://stackoverflow.com/users/1148470/josh-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 537, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1472677117, "creation_date": 1472676807, "question_id": 39258812, "link": "https://stackoverflow.com/questions/39258812/communicate-between-c-iis-hosted-website-and-c-windows-service-on-same-machine", "title": "Communicate between C# IIS hosted website and C# windows service on same machine", "body": "<p>I'm looking for the simplest way of communicating between </p>\n\n<ol>\n<li>A website with its logic written in C# and hosted in IIS </li>\n<li>A C# windows service that is going to handle the long running operations\nfrom the website</li>\n</ol>\n\n<p>They're both on the same machine. I've worked with WCF services hosted in a windows service before but I think WCF isn't being worked on or improved anymore?</p>\n\n<p>Ideally the communication will be as simple as calling a C# method, without having to worry about JSON/XML serialization and deserialization and it won't have all the overhead of a WCF service.</p>\n\n<p>Other methods of communicating I've found online are</p>\n\n<ul>\n<li>Sockets - I can't find a way for it to continuously listen on a TCP port without spinning in an infinite loop.</li>\n<li>Named pipes - looks promising but I haven't worked with them before so it's hard to evaluate</li>\n<li>Inter process communication. Still not sure what this is other than a catch all term for generic ways of communication outside of a process, like a shared text file.</li>\n</ul>\n"}, {"tags": ["c#", "mvvm", "data-binding", "uwp"], "answers": [{"tags": [], "owner": {"reputation": 806, "user_id": 3771875, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9213b17824a14e4cb1c5b6db73063549?s=128&d=identicon&r=PG&f=1", "display_name": "RTDev", "link": "https://stackoverflow.com/users/3771875/rtdev"}, "is_accepted": true, "score": 1, "last_activity_date": 1472677634, "last_edit_date": 1472677634, "creation_date": 1472677320, "answer_id": 39258946, "question_id": 39258788, "link": "https://stackoverflow.com/questions/39258788/uwp-binding-in-textbox-works-does-not-work-in-async-method/39258946#39258946", "title": "UWP Binding in Textbox works does not work in async method", "body": "<p>just change </p>\n\n<pre><code>PropertyChanged(this, new PropertyChangedEventArgs(\"propertyName\"));\n</code></pre>\n\n<p>with</p>\n\n<pre><code>PropertyChanged(this, new PropertyChangedEventArgs(propertyName));\n</code></pre>\n\n<p>it is workin', but the only notification UI gets is that property named \"propertyName\" has changed, intead of the name you are passing to OnPropertyChanged method</p>\n"}], "owner": {"reputation": 193, "user_id": 5479871, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/17b8c4da84accde380864dadf99e7202?s=128&d=identicon&r=PG&f=1", "display_name": "laserman", "link": "https://stackoverflow.com/users/5479871/laserman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 622, "favorite_count": 0, "accepted_answer_id": 39258946, "answer_count": 1, "score": 0, "last_activity_date": 1472677634, "creation_date": 1472676716, "question_id": 39258788, "link": "https://stackoverflow.com/questions/39258788/uwp-binding-in-textbox-works-does-not-work-in-async-method", "title": "UWP Binding in Textbox works does not work in async method", "body": "<p>I have a UWP Application. The viewModel and the Datacontext are set correctly, INotifiedPropertyChanged is implemented correctly, PropertyChanged is firing correctly, Binding Mode is set to OneWay but the Textbox is only updated if the property is changed in the constructor of the viewmodel. If it is changed in the async method loadJSONFromResources it doesn't work.</p>\n\n<p>Here is my XAML:</p>\n\n<pre><code>&lt;Page\n    x:Class=\"VokabelFileErstellen.MainPage\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:local=\"using:VokabelFileErstellen\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    mc:Ignorable=\"d\"&gt;\n    &lt;Page.Resources&gt;\n        &lt;local:ViewModel x:Name=\"viewModel\"/&gt;\n    &lt;/Page.Resources&gt;\n    &lt;Grid Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\" DataContext=\"{StaticResource ResourceKey=viewModel}\"&gt;\n        &lt;TextBlock Style=\"{StaticResource HeaderTextBlockStyle}\" Margin=\"20,0,0,0\" &gt;\n             &lt;Run Text=\"Anzahl Vokabeln: \"/&gt;\n             &lt;Run Text=\"{Binding Count, Mode=OneWay}\"/&gt;\n       &lt;/TextBlock&gt;\n    &lt;/Grid&gt;\n&lt;/Page&gt;\n</code></pre>\n\n<p>This is my viewModel:</p>\n\n<pre><code>class ViewModel : INotifyPropertyChanged\n{\n    private int count;\n    public List&lt;Vokabel&gt; Buecher { get; set; }\n    public int Count\n    {\n        get { return count; }\n\n        set\n        {\n            if (value != count)\n            {\n                count = value;\n                OnPropertyChanged(\"Count\");\n            }\n        }\n    }\n\n    public ViewModel()\n    {\n        Count = 1;\n    }\n\n\n    public async void jsonLaden()\n    {\n        FileOpenPicker picker = new FileOpenPicker\n        {\n            SuggestedStartLocation = PickerLocationId.ComputerFolder\n        };\n        picker.FileTypeFilter.Add(\".json\");\n        IStorageFile file = await picker.PickSingleFileAsync();\n        loadJSONFromResources(file);\n    }\n\n    public async void loadJSONFromResources(IStorageFile file)\n    {\n\n        string json = await FileIO.ReadTextAsync(file);\n\n        Buecher = JsonConvert.DeserializeObject&lt;List&lt;Vokabel&gt;&gt;(json);\n        Count = Buecher.Count;\n    }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n    public void OnPropertyChanged(string propertyName)\n    {\n        if (PropertyChanged != null)\n            PropertyChanged(this, new PropertyChangedEventArgs(\"propertyName\"));\n    }\n\n}\n</code></pre>\n\n<p>and this is my MainPage code behind:</p>\n\n<pre><code>public sealed partial class MainPage : Page\n{\n\n    public MainPage()\n    {\n        this.InitializeComponent();\n        viewModel.jsonLaden();\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "libgit2sharp"], "comments": [{"owner": {"reputation": 921, "user_id": 2715671, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/UidHT.png?s=128&g=1", "display_name": "Kelson Ball", "link": "https://stackoverflow.com/users/2715671/kelson-ball"}, "edited": false, "score": 0, "creation_date": 1472676343, "post_id": 39258639, "comment_id": 65853424, "body": "A long blocking IO operation isn&#39;t necessarily an indication of a leak, it is usually a sign of a long blocking IO operation (tautology intentional.) You might consider processing the commits in parallel."}, {"owner": {"reputation": 11425, "user_id": 593461, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af7355ae7b3eafbb2ed3ae42460ada1f?s=128&d=identicon&r=PG", "display_name": "Boas Enkler", "link": "https://stackoverflow.com/users/593461/boas-enkler"}, "reply_to_user": {"reputation": 921, "user_id": 2715671, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/UidHT.png?s=128&g=1", "display_name": "Kelson Ball", "link": "https://stackoverflow.com/users/2715671/kelson-ball"}, "edited": false, "score": 0, "creation_date": 1472677170, "post_id": 39258639, "comment_id": 65853811, "body": "I found out right now that the time is consumed by the diff (I update the post) but i don&#39;t unerstand why this slows down"}], "owner": {"reputation": 11425, "user_id": 593461, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af7355ae7b3eafbb2ed3ae42460ada1f?s=128&d=identicon&r=PG", "display_name": "Boas Enkler", "link": "https://stackoverflow.com/users/593461/boas-enkler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1472679313, "creation_date": 1472676083, "last_edit_date": 1472679313, "question_id": 39258639, "link": "https://stackoverflow.com/questions/39258639/possible-leak-when-reading-content", "title": "Possible Leak when reading content?", "body": "<p>I created a tool which iterates through all Commits of a repository.</p>\n\n<p>Then it makes a diff of the commit to all of its parents and then reads the content for some checks.</p>\n\n<p>Now it came out that this slows down very quickly. It always slows down after the same specific commit which is quite large as it is a merge commit.</p>\n\n<p>Here the code how I iteratre through the commits. The following codes are a little simplified for a better focus.</p>\n\n<pre><code>  var repo = new Repository(path);\n\n            foreach (LibGit2Sharp.Commit commit in repo.Commits)\n            {\n                IEnumerable&lt;FileChanges&gt; changed = repo.GetChangedToAllParents(commit);\n\n                var files = ResolveChangeFileInfos(changed);\n\n                var entry = new Commit(commit.Id.ToString(), commit.Author.Email, commit.Committer.When, commit.Message, files);\n                yield return entry;\n            }\n</code></pre>\n\n<p>in <code>GetChagedToAllParents</code> I  basically make a diff foreach parent like this</p>\n\n<pre><code>foreach(var parent in commit.parent)\n{\n       var options = new CompareOptions\n        {\n            Algorithm = DiffAlgorithm.Minimal,\n            IncludeUnmodified = false\n        };\n\n        var patches = repo.Diff.Compare&lt;Patch&gt;(parent.Tree, commit.Tree, options); // Difference\n}\n</code></pre>\n\n<p>and later I read the content of the files in this way:</p>\n\n<pre><code>       var blob = repo.Lookup&lt;Blob&gt;(patchEntry.Oid.Sha); // Find blob\n\n        Stream contentStream = blob.GetContentStream();\n        string result = null;\n        using (var tr = new StreamReader(contentStream, Encoding.UTF8))\n        {\n            result = tr.ReadToEnd();\n        }\n</code></pre>\n\n<p>Are there any known issues ? am I missing any leaks?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I Found out that most of the time (about 90%) is taken by the diff. and it gets constantly slower</p>\n\n<pre><code> var options = new CompareOptions\n            {\n                Algorithm = DiffAlgorithm.Minimal,\n                IncludeUnmodified = false\n            };\n\n            var patches = repo.Diff.Compare&lt;Patch&gt;(parent.Tree, commit.Tree, options); // Difference\n</code></pre>\n\n<p>I can reproduce it with this code:</p>\n\n<p>var repo = new Repository(path);</p>\n\n<pre><code>        foreach (var commit in repo.Commits)\n        {\n            pos++;\n\n            if (pos%100 == 0)\n            {\n                Console.WriteLine(pos);\n            }\n            var options = new CompareOptions\n            {\n                Algorithm = DiffAlgorithm.Minimal,\n                IncludeUnmodified = false,\n                Similarity = new SimilarityOptions\n                {\n                    RenameDetectionMode = RenameDetectionMode.None,\n                    WhitespaceMode = WhitespaceMode.IgnoreAllWhitespace\n                }\n            };\n\n            foreach (var parent in commit.Parents)\n            {\n                var changedFiles=\n                    repo.Diff.Compare&lt;TreeChanges&gt;(parent.Tree, commit.Tree, options).ToList();\n            }\n        }\n</code></pre>\n\n<p>it reserved about 500MB for each 1000 commits and at some point it just crashes.  So I posted it also here:</p>\n\n<p><a href=\"https://github.com/libgit2/libgit2sharp/issues/1359\" rel=\"nofollow\">https://github.com/libgit2/libgit2sharp/issues/1359</a></p>\n\n<p><strong>Is there a faster way to get all files that were changed in a specific commit?</strong></p>\n"}, {"tags": ["c#", "filestream", "using"], "comments": [{"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1472676176, "post_id": 39258573, "comment_id": 65853342, "body": "<i>&quot;sometimes the filestream actually opens and leaves open the excel file that its currently checking.&quot;</i> what exactly do you mean by that? It&#39;s really not clear."}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1472676362, "post_id": 39258573, "comment_id": 65853431, "body": "I&#39;m assuming the code in the question was adapted from here: <a href=\"http://stackoverflow.com/a/937558/1250301\">stackoverflow.com/a/937558/1250301</a>, but you really need to pay attention to this one: <a href=\"http://stackoverflow.com/a/876513/1250301\">stackoverflow.com/a/876513/1250301</a>"}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1472676895, "post_id": 39258573, "comment_id": 65853681, "body": "This works as expected for me. The only obvious reason why it might not is because Excel didn&#39;t take a lock on the file in the first place. For example, if the file is read-only, then it won&#39;t be locked by Excel"}, {"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 1, "creation_date": 1472677125, "post_id": 39258573, "comment_id": 65853792, "body": "From the above link by Matt Burland, it sounds like just try to open the file and if it fails then just let the user know."}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1472677221, "post_id": 39258573, "comment_id": 65853848, "body": "It&#39;s also possible (although I doubt this is the case) when opening a file directly downloaded from your browser. It will open in &quot;protected view&quot; which doesn&#39;t lock."}, {"owner": {"reputation": 29, "user_id": 3865360, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4eafb6dda0de46cfe0f9c186bfec4be1?s=128&d=identicon&r=PG&f=1", "display_name": "ExcelNoobie25", "link": "https://stackoverflow.com/users/3865360/excelnoobie25"}, "edited": false, "score": 0, "creation_date": 1472678101, "post_id": 39258573, "comment_id": 65854247, "body": "I&#39;m using the above code along with a filewatcher. When the filewatcher goes off I check if the excel file is still in use and if its not in use then I query data back from that excel file."}, {"owner": {"reputation": 29, "user_id": 3865360, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4eafb6dda0de46cfe0f9c186bfec4be1?s=128&d=identicon&r=PG&f=1", "display_name": "ExcelNoobie25", "link": "https://stackoverflow.com/users/3865360/excelnoobie25"}, "edited": false, "score": 0, "creation_date": 1472678199, "post_id": 39258573, "comment_id": 65854285, "body": "Process.. 1.) Excel file is changed or changing by another user 2.) make sure its still not in use with the is fileopen method 3.) if file is no longer in use then query databack from the excel file  but sometimes the excel file actually opens on the user&#39;s computer who is watching excel files for changes.. if this makes sense"}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1472736270, "post_id": 39258573, "comment_id": 65880066, "body": "@ExcelNoobie25: <i>&quot;the excel file actually opens on the user&#39;s computer who is watching excel files for changes&quot;</i>, so it would seem the problem is probably on that end. There isn&#39;t enough information in your question to hazard a guess as we don&#39;t know what you are doing on the <i>other</i> computer."}], "owner": {"reputation": 29, "user_id": 3865360, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4eafb6dda0de46cfe0f9c186bfec4be1?s=128&d=identicon&r=PG&f=1", "display_name": "ExcelNoobie25", "link": "https://stackoverflow.com/users/3865360/excelnoobie25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1472678542, "creation_date": 1472675754, "last_edit_date": 1472678542, "question_id": 39258573, "link": "https://stackoverflow.com/questions/39258573/issue-with-check-if-excel-file-is-already-open", "title": "Issue with check if Excel file is already open", "body": "<p>I'm using the below method to check if a file is already in use... seems to work just fine but my problem is that if I have excel open, sometimes the filestream actually opens and leaves open the excel file that its currently checking.</p>\n\n<p>Anyone know why the file is actually opening and not closing when it leaves the using statement?</p>\n\n<p>EDIT: More to the above, it opens the excel file and then it display a message box telling me that the file is available to Read/Write</p>\n\n<p>I put the below in the comments but I think it pertains to my usage of the IsFileLocked code and may actually be the real cause?? </p>\n\n<p>I'm using the IsFileLocked code along with a filewatcher. When the filewatcher goes off I check if the excel file is still in use and if its not in use then I query data back from that excel file.     </p>\n\n<p>Process.. 1.) Excel file has changed or is being changed by another user 2.) make sure its still not in use with the IsFileLocked method 3.) if file is no longer in use then query data back from the excel file but sometimes the excel file actually opens on the user's computer who is watching excel files for changes.. if this makes sense  </p>\n\n<pre><code>    protected virtual bool IsFileLocked(string path)\n    {\n        try\n        {\n            using (FileStream stream = File.Open(path, FileMode.Open, FileAccess.Read, FileShare.None))\n            {\n\n            }\n        }\n        catch (IOException)\n        {\n            //the file is unavailable because it is:\n            //still being written to\n            //or being processed by another thread\n            //or does not exist (has already been processed)\n            return true;\n        }\n        finally\n        {\n        }\n        //file is not locked\n        return false;\n    }\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "stored-procedures", "dbcontext", "entity-framework-core"], "comments": [{"owner": {"reputation": 217804, "user_id": 315935, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2fe88fb2ca8a2047771bde11d39814c?s=128&d=identicon&r=PG", "display_name": "Oleg", "link": "https://stackoverflow.com/users/315935/oleg"}, "edited": false, "score": 0, "creation_date": 1472677403, "post_id": 39258481, "comment_id": 65853921, "body": "Look at <a href=\"http://stackoverflow.com/a/34764698/315935\">the old answer</a>, where I show how to work with raw SQL query and STORED PROCEDURES <i>without</i> defining of any <code>DbSet</code>. Instead of that one can use <code>context.Database.GetDbConnection().CreateCommand()</code> and to work directly with <code>DbCommand</code>. It&#39;s a matter of taste of cause, but I personally like to use the way."}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 1, "creation_date": 1472682304, "post_id": 39258481, "comment_id": 65855849, "body": "Please copy &amp; paste code, because 1. Images are harder to read, because they shrink  2. It makes it easier to use pieces of code in an answer, if necessary."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 2668980, "user_type": "registered", "profile_image": "https://graph.facebook.com/1273560345/picture?type=large", "display_name": "John Gnazzo", "link": "https://stackoverflow.com/users/2668980/john-gnazzo"}, "is_accepted": false, "score": 0, "last_activity_date": 1475261793, "creation_date": 1475261793, "answer_id": 39798338, "question_id": 39258481, "link": "https://stackoverflow.com/questions/39258481/entity-framework-core-mapping-raw-querydto-class-without-id-field-scalar/39798338#39798338", "title": "Entity Framework Core - Mapping Raw Query(DTO Class without ID field) , Scalar", "body": "<p>Here is a class that will solve your needs.</p>\n\n<p>Usage var listOfEntity = DatabaseServices.ExecuteStoredProcedure(Stored Procedure Name, List of SqlParameter)</p>\n\n<p>public class DatabaseServices : IDatabaseServices\n    {\n        private readonly ApplicationDbContext _applicationDbContext;</p>\n\n<pre><code>    public DatabaseServices(ApplicationDbContext applicationDbContext)\n    {\n        _applicationDbContext = applicationDbContext;\n    }\n\n    public List&lt;T&gt; ExecuteStoreProcedure&lt;T&gt;(string storedProcedure, List&lt;SqlParameter&gt; parameters) where T : new()\n    {\n        using (var cmd = _applicationDbContext.Database.GetDbConnection().CreateCommand())\n        {\n            cmd.CommandText = storedProcedure;\n            cmd.CommandType = CommandType.StoredProcedure;\n            cmd.CommandTimeout = 300;\n\n            // set some parameters of the stored procedure\n            foreach (var parameter in parameters)\n            {\n                parameter.Value = parameter.Value ?? DBNull.Value;\n                cmd.Parameters.Add(parameter);\n            }\n\n            if (cmd.Connection.State != ConnectionState.Open)\n                cmd.Connection.Open();\n\n            using (var dataReader = cmd.ExecuteReader())\n            {\n                var test = DataReaderMapToList&lt;T&gt;(dataReader);\n                return test;\n            }\n        }\n    }\n\n    private static List&lt;T&gt; DataReaderMapToList&lt;T&gt;(DbDataReader dr)\n    {\n        List&lt;T&gt; list = new List&lt;T&gt;();\n\n        if (dr.HasRows)\n        {\n            while (dr.Read())\n            {\n                var obj = Activator.CreateInstance&lt;T&gt;();\n                foreach (PropertyInfo prop in obj.GetType().GetProperties())\n                {\n                    if (!Equals(dr[prop.Name], DBNull.Value))\n                    {\n                        prop.SetValue(obj, dr[prop.Name], null);\n                    }\n                }\n                list.Add(obj);\n            }\n            return list;\n        }\n        return new List&lt;T&gt;();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 251, "user_id": 4810998, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/JVaTc.jpg?s=128&g=1", "display_name": "Jose Eduardo Poma Caceres", "link": "https://stackoverflow.com/users/4810998/jose-eduardo-poma-caceres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1328, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475261793, "creation_date": 1472675371, "question_id": 39258481, "link": "https://stackoverflow.com/questions/39258481/entity-framework-core-mapping-raw-querydto-class-without-id-field-scalar", "title": "Entity Framework Core - Mapping Raw Query(DTO Class without ID field) , Scalar", "body": "<p>I am using EFCore with ASPNETCore, everything looks great, but I find these two situations:</p>\n\n<ol>\n<li>I have created a DTO classes that are not tables in the database, these classes that will map a raw SQL query or procedure.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/IOQ3l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IOQ3l.png\" alt=\"Context Here!\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/MuP7Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MuP7Y.png\" alt=\"Class DTO\"></a></p>\n\n<p>So I need to map the results of an SQL procedure in a list classs DTO, the question I have is if EFCore requires that all classes of DTO have a field named ID?, for more than my procedure does not necessarily have that field ?, there a way to specify to EFCore that my query need not map any field named ID?.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PBkic.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PBkic.png\" alt=\"rawQuery\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/SczNr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SczNr.png\" alt=\"Repository\"></a></p>\n\n<ol start=\"2\">\n<li>Likewise, what it is the correct way to map a scalar value or a unique result of a raw SQL query or procedure?</li>\n</ol>\n\n<p>Thank you very much for your support.</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1472684116, "post_id": 39258439, "comment_id": 65856407, "body": "Define it in App.xaml; as it is it&#39;s not in scope for that Window element"}], "answers": [{"tags": [], "owner": {"reputation": 179, "user_id": 5829902, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ce5608fa0bd3f37620d5586d8b1bbcb4?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/5829902/gabriel"}, "is_accepted": false, "score": 0, "last_activity_date": 1472683898, "last_edit_date": 1495541311, "creation_date": 1472683073, "answer_id": 39260074, "question_id": 39258439, "link": "https://stackoverflow.com/questions/39258439/wpf-bind-an-net-object-property-to-a-window-property/39260074#39260074", "title": "WPF - bind an .NET object property to a window property", "body": "<p>Try setting the DataContext of the Window to <code>myWindowSetting</code>, by using the answer to the following question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/16945198/wpf-bind-window-title-to-viewmodel-property\">WPF Bind Window Title to ViewModel Property</a></p>\n\n<p>Maybe this will work. I think the problem is that the upper code initializes the window before knowing the Resource <code>myWindowSettings</code>. It could also work if you place the <code>ObjectDataProvider</code> object somewhere else. But for this more of your code would be necessary.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 2088200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75968dde0284cf2bea8af8e07b23b0b7?s=128&d=identicon&r=PG", "display_name": "el bayames", "link": "https://stackoverflow.com/users/2088200/el-bayames"}, "edited": false, "score": 0, "creation_date": 1472732590, "post_id": 39265014, "comment_id": 65877273, "body": "Pratik, that worked like a charm. And because of my reputation been less than 15 points, I cannot change the publicity of your post. Really sorry about it. Anyways, thanks a lot."}], "tags": [], "owner": {"reputation": 168, "user_id": 6658396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c591da61aaaf505d11bce640a20b8db?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik Parikh", "link": "https://stackoverflow.com/users/6658396/pratik-parikh"}, "is_accepted": false, "score": 0, "last_activity_date": 1472714178, "creation_date": 1472714178, "answer_id": 39265014, "question_id": 39258439, "link": "https://stackoverflow.com/questions/39258439/wpf-bind-an-net-object-property-to-a-window-property/39265014#39265014", "title": "WPF - bind an .NET object property to a window property", "body": "<p>Use following code to bond data-context</p>\n\n<pre><code>&lt;Window.DataContext&gt;\n    &lt;viewModels:myWindowSettings x:Name=\"myWindowSetting\" /&gt;\n&lt;/Window.DataContext&gt;\n</code></pre>\n\n<p>Bind title property as below:</p>\n\n<pre><code>Title=\"{Binding Path = myWindowTitle, Mode=OneTime}\"\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 2088200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75968dde0284cf2bea8af8e07b23b0b7?s=128&d=identicon&r=PG", "display_name": "el bayames", "link": "https://stackoverflow.com/users/2088200/el-bayames"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 507, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1472714178, "creation_date": 1472675196, "last_edit_date": 1472693447, "question_id": 39258439, "link": "https://stackoverflow.com/questions/39258439/wpf-bind-an-net-object-property-to-a-window-property", "title": "WPF - bind an .NET object property to a window property", "body": "<p>I have a defined class</p>\n\n<pre><code>namespace testApp.ViewsModels\n{\n public class myWindowSettings\n {\n  public int myWindowHeight { get; set; }\n  public String myWindowTitle { get; set; }\n  public myWindowSettings()\n   {\n    myWindowTitle =\"My Name Here\";\n    myWindowHeight =211;\n   }\n }\n}\n</code></pre>\n\n<p>And use it as my View Model.\nWithin the Window tag of the .xaml I have declared:</p>\n\n<pre><code>xmlns:viewModels=\"clr-namespace: testApp.ViewsModels\"\n</code></pre>\n\n<p>Within the <code>Windows.Resources</code> I have defined an <code>ObjectDataProvider</code></p>\n\n<pre><code>&lt;ObjectDataProvider x:key=\"myWindowSetting\" ObjectType={x:Type viewModels:myWindowSettings}\" /&gt;\n</code></pre>\n\n<p>And I can use it to bind to a textBlock Text property</p>\n\n<pre><code>&lt;TextBlock x:Name=\"textBloxk\" Text=\"{Binding Path=myWindowTitle, Source={StaticResource myWindowSetting}, Mode=OneTime}\" /&gt;\n</code></pre>\n\n<p>But when I try to bind it to a window property</p>\n\n<pre><code>Title=\"{Binding Path=myWindowTitle, Source={StaticResource myWindowSetting}, Mode=OneTime}\"\n</code></pre>\n\n<p>I got an exception. Exception thrown:</p>\n\n<pre><code>'System.Windows.Markup.XamlParseException' in PresentationFramework.dll.Additional information: 'Provide value on 'System.Windows.StaticResourceExtension' threw an exception.' \n</code></pre>\n\n<p>Line number ... and line position '9'.</p>\n\n<p>How can I bind an object of type myWindowSettings to the Window?</p>\n"}, {"tags": ["c#", ".net", "generics"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 5, "creation_date": 1472675290, "post_id": 39258429, "comment_id": 65852922, "body": "You need both type parameters in the method declaration: <code>SomeMethod&lt;T,U&gt;</code>. Of course, <code>return T;</code> is still not valid, I assume that&#39;s a placeholder."}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1472675654, "post_id": 39258429, "comment_id": 65853080, "body": "In order to use a generic type, it has to be a generic type argument of the generic method (or class). So if you want to use <code>U</code> as a type argument with <code>SomeMethod</code>, you need to add it as an argument: <code>SomeMethod&lt;T, U&gt;</code>."}, {"owner": {"reputation": 23662, "user_id": 380384, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/uT3JH.png?s=128&g=1", "display_name": "John Alexiou", "link": "https://stackoverflow.com/users/380384/john-alexiou"}, "edited": false, "score": 1, "creation_date": 1472676034, "post_id": 39258429, "comment_id": 65853266, "body": "This won&#39;t compile <code>return T;</code> is not valid syntax because <code>T</code> is a type and not a value. It would be like typing <code>return int;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6780472, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C_QHc8bYLg4/AAAAAAAAAAI/AAAAAAAAAEc/yjby5w1tRvQ/photo.jpg?sz=128", "display_name": "arosas", "link": "https://stackoverflow.com/users/6780472/arosas"}, "edited": false, "score": 0, "creation_date": 1472739435, "post_id": 39258596, "comment_id": 65882596, "body": "Thanks! That was exactly what I was looking for. ^_^"}, {"owner": {"reputation": 107293, "user_id": 1942, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/de6acc2ce773724e9329a67056f2a3d2?s=128&d=identicon&r=PG", "display_name": "kemiller2002", "link": "https://stackoverflow.com/users/1942/kemiller2002"}, "reply_to_user": {"reputation": 13, "user_id": 6780472, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C_QHc8bYLg4/AAAAAAAAAAI/AAAAAAAAAEc/yjby5w1tRvQ/photo.jpg?sz=128", "display_name": "arosas", "link": "https://stackoverflow.com/users/6780472/arosas"}, "edited": false, "score": 0, "creation_date": 1472739478, "post_id": 39258596, "comment_id": 65882635, "body": "Glad I could help!"}], "tags": [], "owner": {"reputation": 107293, "user_id": 1942, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/de6acc2ce773724e9329a67056f2a3d2?s=128&d=identicon&r=PG", "display_name": "kemiller2002", "link": "https://stackoverflow.com/users/1942/kemiller2002"}, "is_accepted": true, "score": 1, "last_activity_date": 1472675873, "creation_date": 1472675873, "answer_id": 39258596, "question_id": 39258429, "link": "https://stackoverflow.com/questions/39258429/how-do-i-use-more-than-one-generic-type/39258596#39258596", "title": "How do I use more than one generic type?", "body": "<p>You can have multiple generics in one type: </p>\n\n<pre><code>public static T SomeMethod&lt;T, U&gt;(U paramName)\n {  \n     return T;\n }\n</code></pre>\n\n<p>To use it: </p>\n\n<pre><code>string myString = SomeMethod&lt;string,int&gt;(3);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23662, "user_id": 380384, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/uT3JH.png?s=128&g=1", "display_name": "John Alexiou", "link": "https://stackoverflow.com/users/380384/john-alexiou"}, "is_accepted": false, "score": 2, "last_activity_date": 1472676266, "creation_date": 1472676266, "answer_id": 39258684, "question_id": 39258429, "link": "https://stackoverflow.com/questions/39258429/how-do-i-use-more-than-one-generic-type/39258684#39258684", "title": "How do I use more than one generic type?", "body": "<p>This is how you do a conversion between types</p>\n\n<pre><code>class Program\n{\n    public static T SomeMethod&lt;T&gt;(T paramName)\n    {\n        return paramName;\n    }\n    public static U SomeMethod&lt;T, U&gt;(T paramName, Func&lt;T,U&gt; convert)\n    {\n        return convert(paramName);\n    }\n\n\n    static void Main(string[] args)\n    {\n        var A=SomeMethod(1033);\n        // A = 1033\n        var B=SomeMethod(1033, (x) =&gt; x.ToString());\n        // B = \"1033\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6780472, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C_QHc8bYLg4/AAAAAAAAAAI/AAAAAAAAAEc/yjby5w1tRvQ/photo.jpg?sz=128", "display_name": "arosas", "link": "https://stackoverflow.com/users/6780472/arosas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "closed_date": 1472685551, "accepted_answer_id": 39258596, "answer_count": 2, "score": 0, "last_activity_date": 1472740065, "creation_date": 1472675147, "last_edit_date": 1472740065, "question_id": 39258429, "link": "https://stackoverflow.com/questions/39258429/how-do-i-use-more-than-one-generic-type", "closed_reason": "Needs details or clarity", "title": "How do I use more than one generic type?", "body": "<p>I know that doing the following method will return me T. </p>\n\n<pre><code> public static T SomeMethod&lt;T&gt;(string meh, T paramName)\n {  \n    return T;\n }\n\n/// I have come to a situation that I am returning a different type \n/// I have the following mind:\npublic static T SomeMethod&lt;T&gt;(U paramName)\n {  \n     return T;\n }\n</code></pre>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["c#", "visual-studio-2015"], "comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1472675017, "post_id": 39258266, "comment_id": 65852762, "body": "I don&#39;t know how to do it before you check in but if you do it after you check in you just need to link the tasks to the changeset number in bulk via a query"}], "owner": {"reputation": 17694, "user_id": 227436, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ea9b1dccafcdbaa702ee1cf957ff3692?s=128&d=identicon&r=PG", "display_name": "Daryl", "link": "https://stackoverflow.com/users/227436/daryl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1472674437, "creation_date": 1472674437, "question_id": 39258266, "link": "https://stackoverflow.com/questions/39258266/how-to-change-a-task-to-in-progress-when-viewing-task-in-visual-studio", "title": "How to Change a task to In Progress when viewing Task in Visual studio", "body": "<p>Normally I just drag and drop my tasks I'm working on to In Progress from the Available.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/xBP5W.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xBP5W.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Unfortunately my Available Work Items is Extremely Large, so I open the query, and navigate to the item I want to work on, but I can't figure out how to add it without clicking on the Actions drop down, and typing in the Task Id.</p>\n\n<p>Is there a way so when you're viewing a task, you can add the \"Add to In Progress\" button to a command bar?</p>\n\n<p><a href=\"https://i.stack.imgur.com/WxeRn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WxeRn.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "performance"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 6, "creation_date": 1472674400, "post_id": 39258195, "comment_id": 65852464, "body": "How did you determine that <code>Substring</code> is the bottle neck?"}, {"owner": {"reputation": 1957, "user_id": 1149275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/798f5a0d924f5400d077e1cd9edf508d?s=128&d=identicon&r=PG", "display_name": "Yakuza", "link": "https://stackoverflow.com/users/1149275/yakuza"}, "edited": false, "score": 1, "creation_date": 1472674447, "post_id": 39258195, "comment_id": 65852491, "body": "Can you afford storing your data as array instead of stringified DSV. For example can you at start split <code>line_text</code> to an array and simply access element at <code>element_number</code>?"}, {"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 3, "creation_date": 1472674453, "post_id": 39258195, "comment_id": 65852493, "body": "I&#39;d be surprised that the bounds checking is the culprit for your performance issue."}, {"owner": {"reputation": 2762, "user_id": 4508432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b484752ee826147fc4b35e1c6706bb?s=128&d=identicon&r=PG&f=1", "display_name": "dmeglio", "link": "https://stackoverflow.com/users/4508432/dmeglio"}, "edited": false, "score": 4, "creation_date": 1472674465, "post_id": 39258195, "comment_id": 65852498, "body": "Something makes me think your problem is elsewhere. Have you used a profiler? <code>Substring</code> actually uses <code>unsafe</code> code to operate at the pointer level. That is going to be WAY faster than anything you write in straight C#. Also, I highly doubt the bounds checking, which equates to a handful of CPU instructions, is the culprit."}, {"owner": {"reputation": 27, "user_id": 6431839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc6d154803bbcd971c5b04f7ced7281c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6431839/daniel"}, "edited": false, "score": 0, "creation_date": 1472674691, "post_id": 39258195, "comment_id": 65852606, "body": "I have used a profiler and it is telling me that Substring is the culprit."}, {"owner": {"reputation": 27, "user_id": 6431839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc6d154803bbcd971c5b04f7ced7281c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6431839/daniel"}, "reply_to_user": {"reputation": 1957, "user_id": 1149275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/798f5a0d924f5400d077e1cd9edf508d?s=128&d=identicon&r=PG", "display_name": "Yakuza", "link": "https://stackoverflow.com/users/1149275/yakuza"}, "edited": false, "score": 0, "creation_date": 1472674769, "post_id": 39258195, "comment_id": 65852646, "body": "@Yakuza - I can&#39;t store the data as an array. I have to access it as a string."}, {"owner": {"reputation": 27, "user_id": 6431839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc6d154803bbcd971c5b04f7ced7281c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6431839/daniel"}, "reply_to_user": {"reputation": 2762, "user_id": 4508432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b484752ee826147fc4b35e1c6706bb?s=128&d=identicon&r=PG&f=1", "display_name": "dmeglio", "link": "https://stackoverflow.com/users/4508432/dmeglio"}, "edited": false, "score": 1, "creation_date": 1472675190, "post_id": 39258195, "comment_id": 65852864, "body": "@dman2306 - a handful of CPU instructions is exactly what I need to shave off. This function is called millions of times."}, {"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 1, "creation_date": 1472675264, "post_id": 39258195, "comment_id": 65852910, "body": "The time to create a new string object surely dwarfs by quite a bit the time it takes to do a couple simple int compares. The problem with trying to write a your own SubString method is that you can avoid the bounds checks (which take little time), but don&#39;t have access to the optimized internal methods used by SubString to create the new string."}, {"owner": {"reputation": 27, "user_id": 6431839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc6d154803bbcd971c5b04f7ced7281c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6431839/daniel"}, "reply_to_user": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1472675413, "post_id": 39258195, "comment_id": 65852979, "body": "@hatchet - is there any way that I can modify the immutable string in an unsafe way so that I don&#39;t have to create a new string object?"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1472675467, "post_id": 39258195, "comment_id": 65853001, "body": "the point is that no code is infinitely fast, something has to take all the time. The profiling is telling you that substring is the heaviest piece of this function (which is surely is), I seriously doubt you can write one thats faster. Instead you need to look at your overall design to see if you can be more efficient."}, {"owner": {"reputation": 1957, "user_id": 1149275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/798f5a0d924f5400d077e1cd9edf508d?s=128&d=identicon&r=PG", "display_name": "Yakuza", "link": "https://stackoverflow.com/users/1149275/yakuza"}, "edited": false, "score": 2, "creation_date": 1472675483, "post_id": 39258195, "comment_id": 65853011, "body": "Hmm it would be good to know wider context, as I have feeling that your performance issue might be solved by using some better data structures adn/or architecture. Can you say what is purpose of this function in your domain?"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 1, "creation_date": 1472675853, "post_id": 39258195, "comment_id": 65853179, "body": "&quot;The only place I have left to optimize is the Substring function. I know this is the case.&quot; It seems like you&#39;re going into this with a very closed mind. You don&#39;t even consider the possibility of rearchitecting. This is a horrible mindset to have when approaching a problem like this."}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1472676241, "post_id": 39258195, "comment_id": 65853380, "body": "If you&#39;re calling it millions of times, why don&#39;t you do some preprocessing on <code>line_text</code>? Maybe index the string or introduce some caching."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1472676451, "post_id": 39258195, "comment_id": 65853471, "body": "a &#39;handful of instructions&#39; executed a million times is going to be 1 or 2 milliseconds on a modern processor. Is that the amount of time you are looking to save?"}, {"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1472676898, "post_id": 39258195, "comment_id": 65853683, "body": "The only thing I can think that would literally get what you&#39;re asking for would be using reflection to get access to the internal method String.InternalSubString. It&#39;s substring without bounds checking. I personally think that would be a really horrible solution, even if .net allows it to work. Re-architecting seems a much more rational path."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 6431839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc6d154803bbcd971c5b04f7ced7281c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6431839/daniel"}, "edited": false, "score": 0, "creation_date": 1472674857, "post_id": 39258294, "comment_id": 65852689, "body": "I have tried using a stringbuilder instead and the performance is slower.  I am calling this method millions of times."}, {"owner": {"reputation": 9397, "user_id": 2279448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e686e04e095735f571dff07ea9818a9?s=128&d=identicon&r=PG", "display_name": "Zoran Horvat", "link": "https://stackoverflow.com/users/2279448/zoran-horvat"}, "reply_to_user": {"reputation": 27, "user_id": 6431839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc6d154803bbcd971c5b04f7ced7281c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6431839/daniel"}, "edited": false, "score": 0, "creation_date": 1472674932, "post_id": 39258294, "comment_id": 65852725, "body": "<code>StringBuilder</code> will lead to improved performance <i>only</i> if it is used many times in many calls to <code>get_element</code>. Can you add more code to the question? In particular, I would like to see what you are doing at the calling end, i.e. what is happening to the string once it has been returned from the <code>get_element</code> method."}, {"owner": {"reputation": 27, "user_id": 6431839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc6d154803bbcd971c5b04f7ced7281c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6431839/daniel"}, "edited": false, "score": 0, "creation_date": 1472675113, "post_id": 39258294, "comment_id": 65852822, "body": "The returned string is simply stored in most cases. To be used later. The overhead of Stringbuilder is too much given the size of the strings returned."}, {"owner": {"reputation": 9397, "user_id": 2279448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e686e04e095735f571dff07ea9818a9?s=128&d=identicon&r=PG", "display_name": "Zoran Horvat", "link": "https://stackoverflow.com/users/2279448/zoran-horvat"}, "reply_to_user": {"reputation": 27, "user_id": 6431839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc6d154803bbcd971c5b04f7ced7281c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6431839/daniel"}, "edited": false, "score": 0, "creation_date": 1472675239, "post_id": 39258294, "comment_id": 65852895, "body": "A see, but then again - how do you know that returning the substring is the problem? <code>Substring</code> method itself has only O(n) complexity, where n is the substring length, and it is optimized as much as you can get in .NET."}, {"owner": {"reputation": 27, "user_id": 6431839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc6d154803bbcd971c5b04f7ced7281c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6431839/daniel"}, "edited": false, "score": 0, "creation_date": 1472675474, "post_id": 39258294, "comment_id": 65853006, "body": "because I have ran a profiler and it is telling me that Substring is the problem."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 3, "creation_date": 1472676784, "post_id": 39258294, "comment_id": 65853620, "body": "The profiler will only tell you that substring is the &quot;problem&quot; by saying it&#39;s being called the most number of times or is taking the most CPU cycles. It cannot tell you whether your code is going to be better by rethinking the algorithm or changing it in some other fundamental way."}], "tags": [], "owner": {"reputation": 9397, "user_id": 2279448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e686e04e095735f571dff07ea9818a9?s=128&d=identicon&r=PG", "display_name": "Zoran Horvat", "link": "https://stackoverflow.com/users/2279448/zoran-horvat"}, "is_accepted": false, "score": 1, "last_activity_date": 1472674584, "creation_date": 1472674584, "answer_id": 39258294, "question_id": 39258195, "link": "https://stackoverflow.com/questions/39258195/replace-c-string-substring/39258294#39258294", "title": "Replace C# String.Substring", "body": "<p>The problem with your function is that you are returning the substring... Therefore, I don't see the way to avoid constructing a new string.</p>\n\n<p>The next question is what exactly are you doing with the result? Maybe you could change the signature of the <code>get_element</code> method, e.g. to receive a <code>StringBuilder</code> and then to copy characters from the target string instead of building the new string.</p>\n\n<pre><code>public void get_element(int element_number, StringBuilder buffer)\n{\n    ...\n    //  instead of: return line_text.Substring(...); \n    buffer.Append(line_text, start_index, end_index - start_index);\n}\n</code></pre>\n\n<p>Anyway, cost of constructing new strings is not too high. Maybe there are other reasons why performance is poor in your case. Maybe you are doing too many concatenations of strings returned by this method?</p>\n"}, {"comments": [{"owner": {"reputation": 2762, "user_id": 4508432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b484752ee826147fc4b35e1c6706bb?s=128&d=identicon&r=PG&f=1", "display_name": "dmeglio", "link": "https://stackoverflow.com/users/4508432/dmeglio"}, "edited": false, "score": 0, "creation_date": 1472674768, "post_id": 39258319, "comment_id": 65852644, "body": "That&#39;s not accurate at all. A string is an object, it is not an array of characters. On top of that, a string is an <i>immutable</i> object which means you can&#39;t modify it without constructing a new object."}, {"owner": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "reply_to_user": {"reputation": 2762, "user_id": 4508432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b484752ee826147fc4b35e1c6706bb?s=128&d=identicon&r=PG&f=1", "display_name": "dmeglio", "link": "https://stackoverflow.com/users/4508432/dmeglio"}, "edited": false, "score": 0, "creation_date": 1472675078, "post_id": 39258319, "comment_id": 65852800, "body": "@dman2306 rick&#39;s answer on a string being only an array of char is correct. Internally it is an unsafe class that uses the CLR to hold a char* array. You can do<code>string test = &quot;test&quot;; \tunsafe \t{ \t\tfixed (char* p = test) \t\t{ \t\t\tp[0] = &#39;C&#39;; \t\t} \t}</code> and that is perfectly legal, and it does not reinstantiate the string, it just uses unsafe."}, {"owner": {"reputation": 9397, "user_id": 2279448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e686e04e095735f571dff07ea9818a9?s=128&d=identicon&r=PG", "display_name": "Zoran Horvat", "link": "https://stackoverflow.com/users/2279448/zoran-horvat"}, "edited": false, "score": 0, "creation_date": 1472675095, "post_id": 39258319, "comment_id": 65852814, "body": "You can modify the string from unsafe code but... that is a big no-no in .NET because everything around a string object assumes it will not change. Anyway, the question is about a different thing - here part of the string needs to be transferred elsewhere, rather than modified."}, {"owner": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "reply_to_user": {"reputation": 9397, "user_id": 2279448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e686e04e095735f571dff07ea9818a9?s=128&d=identicon&r=PG", "display_name": "Zoran Horvat", "link": "https://stackoverflow.com/users/2279448/zoran-horvat"}, "edited": false, "score": 0, "creation_date": 1472675194, "post_id": 39258319, "comment_id": 65852867, "body": "@ZoranHorvat as long as you call fixed the GC will not hurl, it&#39;s like locking for threading, in which as long as you&#39;re sure the index exists, it is an ok operation."}, {"owner": {"reputation": 9397, "user_id": 2279448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e686e04e095735f571dff07ea9818a9?s=128&d=identicon&r=PG", "display_name": "Zoran Horvat", "link": "https://stackoverflow.com/users/2279448/zoran-horvat"}, "reply_to_user": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "edited": false, "score": 2, "creation_date": 1472675421, "post_id": 39258319, "comment_id": 65852984, "body": "@Dispersia This discussion is off topic, but anyway let&#39;s clarify that. You can modify the string in a way that will not crash. Anyway, different string objects may reuse the same character buffer because internally they know that buffer content cannot change. Now if you do change it, you have potentially changed several other string variables you never knew about. And that behavior would appear non-deterministically. Most notably, string literals are always reused by the compiler and you can still modify them from the unsafe code, causing completely unknown consequences."}, {"owner": {"reputation": 860, "user_id": 3735683, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1650715470/picture?type=large", "display_name": "Rick the Scapegoat", "link": "https://stackoverflow.com/users/3735683/rick-the-scapegoat"}, "edited": false, "score": 0, "creation_date": 1472745139, "post_id": 39258319, "comment_id": 65886672, "body": "I don&#39;t know why this was down voted nor do I understand why using unsafe code is a no-no. While you shouldn&#39;t use unsafe to write C in C#, there are situations where unsafe is viable, such as performance critical applications - which is the crux of this question. Just look at this question. <a href=\"http://stackoverflow.com/questions/584134/should-you-use-pointers-unsafe-code-in-c\" title=\"should you use pointers unsafe code in c\">stackoverflow.com/questions/584134/&hellip;</a>"}, {"owner": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "edited": false, "score": 0, "creation_date": 1478627744, "post_id": 39258319, "comment_id": 68231069, "body": "@rick because people bandwagon and don&#39;t do research themselves."}], "tags": [], "owner": {"reputation": 860, "user_id": 3735683, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1650715470/picture?type=large", "display_name": "Rick the Scapegoat", "link": "https://stackoverflow.com/users/3735683/rick-the-scapegoat"}, "is_accepted": false, "score": -2, "last_activity_date": 1472674674, "creation_date": 1472674674, "answer_id": 39258319, "question_id": 39258195, "link": "https://stackoverflow.com/questions/39258195/replace-c-string-substring/39258319#39258319", "title": "Replace C# String.Substring", "body": "<p>A string is only an array of char. You could loop through the char array between your known bounds and replace the char. </p>\n"}, {"comments": [{"owner": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "edited": false, "score": 0, "creation_date": 1472677400, "post_id": 39258715, "comment_id": 65853919, "body": "this is (almost) identical to the normal substring without safety calls."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "edited": false, "score": 2, "creation_date": 1472677642, "post_id": 39258715, "comment_id": 65854034, "body": "@Dispersia Correct. As I mentioned at the beginning, I doubt the issue is caused by the safety calls. So the above is just to answer OP &quot;<i>Could I write my own Substring method that could forgo any bounds checks?</i>&quot;"}], "tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": false, "score": 1, "last_activity_date": 1472676370, "creation_date": 1472676370, "answer_id": 39258715, "question_id": 39258195, "link": "https://stackoverflow.com/questions/39258195/replace-c-string-substring/39258715#39258715", "title": "Replace C# String.Substring", "body": "<p>I doubt the problem is caused by the bounds checking inside the <code>Substring</code> method.  </p>\n\n<p>But if you want to be sure and unsafe code is allowed, you can try the following <code>string</code> constructor:</p>\n\n<pre><code>public unsafe String(\n    char* value,\n    int startIndex,\n    int length\n)\n</code></pre>\n\n<p>like this:</p>\n\n<pre><code>public static class StringUtils\n{\n    public static unsafe string UnsafeSubstring(this string source, int startIndex, int length)\n    {\n        fixed (char* chars = source)\n            return new string(chars, startIndex, length);\n    }\n}\n</code></pre>\n\n<p>Then replace <code>Substring</code> calls with <code>UnsafeSubstring</code> and see if there is any noticeable difference.</p>\n"}], "owner": {"reputation": 27, "user_id": 6431839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc6d154803bbcd971c5b04f7ced7281c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6431839/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1511, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1472676835, "creation_date": 1472674132, "last_edit_date": 1472676835, "question_id": 39258195, "link": "https://stackoverflow.com/questions/39258195/replace-c-string-substring", "title": "Replace C# String.Substring", "body": "<p>I have code that relies heavily on the String.Substring method, to the point where the Substring method is slowing down my application. I know that the range I want to retrieve is within the String (It is not out of bounds.) Is there something that I could use instead of Substring that would be faster? Could I write my own Substring method that could forgo any bounds checks?</p>\n\n<p>sample code: </p>\n\n<pre><code>public String get_element(int element_number) {\n        int count = 0;\n        int start_index = 0;\n        int end_index = 0;\n        int current_index = 0;\n\n        while (count &lt; element_number &amp;&amp; current_index != -1) {\n            current_index = line_text.IndexOf(x12_reader.element_delimiter, start_index);\n            start_index = current_index + 1;\n            count++;\n        }\n\n        if (current_index != -1) {\n            end_index = line_text.IndexOf(x12_reader.element_delimiter, start_index);\n            if (end_index == -1) end_index = line_text.Length;\n            return line_text.Substring(start_index, end_index - start_index); ;\n        } else {\n            return \"\";\n        }\n    }\n</code></pre>\n\n<p>I see lots of comments asking if Substring is really the problem. I know that Substring is the problem. I have run profiling in Visual Studio and It has pointed to Substring as the culprit. Also I cannot call this function any less than I currently am. The only place I have left to optimize is the Substring function. I know this is the case.</p>\n"}, {"tags": ["c#", "visual-studio-2015"], "comments": [{"owner": {"reputation": 549, "user_id": 3092503, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/02e321f129c5edf2aea00824951bf1ec?s=128&d=identicon&r=PG&f=1", "display_name": "arbitrarystringofletters", "link": "https://stackoverflow.com/users/3092503/arbitrarystringofletters"}, "edited": false, "score": 1, "creation_date": 1472674276, "post_id": 39258165, "comment_id": 65852400, "body": "Can you not include the .exe in your bin and reference it using reflection on the current executing assembly? Are you trying to completely avoid the .exe being on their machine?"}, {"owner": {"reputation": 959, "user_id": 3330627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WKcdn.jpg?s=128&g=1", "display_name": "Kevin B Burns", "link": "https://stackoverflow.com/users/3330627/kevin-b-burns"}, "edited": false, "score": 0, "creation_date": 1472675163, "post_id": 39258165, "comment_id": 65852851, "body": "Its really easy in WPF (but can be done in any other desktop framework), you just embed the file as a resource. Then as noted below, just grab the resource as a byte[] array and write it via BinaryStream to a temporary file somewhere. Getting a temporary path from System.IO is a great way to ensure that no matter the users privledge level they will be able to write it out."}, {"owner": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1472676208, "post_id": 39258165, "comment_id": 65853363, "body": "In your installer, install both applications at the same time."}], "answers": [{"comments": [{"owner": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1472676170, "post_id": 39258282, "comment_id": 65853338, "body": "You should <b>never</b> use fixed folder outside of predefined folders."}], "tags": [], "owner": {"reputation": 116, "user_id": 2011422, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/537718043ae887735a3c69ca3ee3ba33?s=128&d=identicon&r=PG", "display_name": "HTTP 501", "link": "https://stackoverflow.com/users/2011422/http-501"}, "is_accepted": false, "score": 1, "last_activity_date": 1472674507, "creation_date": 1472674507, "answer_id": 39258282, "question_id": 39258165, "link": "https://stackoverflow.com/questions/39258165/how-to-link-a-exe-to-a-button-without-having-other-people-to-download-it-visual/39258282#39258282", "title": "How to link a exe to a button without having other people to download it Visual Studio 2015 (C# Windows Forms application)", "body": "<p>If you serialize your executable and write it to the client computer (for example, using <code>BinaryReader and BinaryWriter</code>), you can then use <code>Process.Start</code> to run it. This would allow you to write it to a temporary path using <code>Path.GetTempPath</code> and the client would perceive the launching as occurring directly from your application. Alternatively, you could check a fixed location such as C:/folder/EXE for the existence of the executable, and if it doesn't exist, write it there before launching it as normal.</p>\n\n<p>Another option could be to host the file on a network share and launch it from there, depending on your use case - but that would require a reliable known network configuration and/or drive mapping on the client computers.</p>\n"}], "owner": {"reputation": 11, "user_id": 6760603, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ExX7Xho_sms/AAAAAAAAAAI/AAAAAAAAAdQ/tqaOJ2EPM_8/photo.jpg?sz=128", "display_name": "Abhijeet Sharma", "link": "https://stackoverflow.com/users/6760603/abhijeet-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1472675718, "creation_date": 1472674027, "last_edit_date": 1472675718, "question_id": 39258165, "link": "https://stackoverflow.com/questions/39258165/how-to-link-a-exe-to-a-button-without-having-other-people-to-download-it-visual", "title": "How to link a exe to a button without having other people to download it Visual Studio 2015 (C# Windows Forms application)", "body": "<p>I would like to know how someone would go about linking a button to an exe on their computer but the catch is if I do something like this <code>System.Diagnostics.Process.Start(\"C:/folder/EXE\");</code> you will have to download the exe separately. What I would like is a way where you just open your program, press the button and you can load the external exe.</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["c#", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 2154, "user_id": 2658854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eEQvk.png?s=128&g=1", "display_name": "sgbj", "link": "https://stackoverflow.com/users/2658854/sgbj"}, "edited": false, "score": 1, "creation_date": 1472674088, "post_id": 39258093, "comment_id": 65852287, "body": "The answer to <a href=\"http://stackoverflow.com/questions/15275269/sort-a-list-from-another-list-ids\">this question</a> might help."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "reply_to_user": {"reputation": 2154, "user_id": 2658854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eEQvk.png?s=128&g=1", "display_name": "sgbj", "link": "https://stackoverflow.com/users/2658854/sgbj"}, "edited": false, "score": 1, "creation_date": 1472676378, "post_id": 39258093, "comment_id": 65853438, "body": "@sbat nope, that question is sorting in memory, OP is using EF, which is trying to rewrite the queryable as sql statements.  The 500 error demonstrates this."}, {"owner": {"reputation": 2312, "user_id": 6330636, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KwL7RaFztwM/AAAAAAAAAAI/AAAAAAAAADg/34eEeb890LE/photo.jpg?sz=128", "display_name": "Filip Cordas", "link": "https://stackoverflow.com/users/6330636/filip-cordas"}, "edited": false, "score": 0, "creation_date": 1495835195, "post_id": 39258093, "comment_id": 75433520, "body": "@Will I know it&#39;s an old question but posted an answer that is using an IQueryable."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4864716"}, "edited": false, "score": 0, "creation_date": 1472674352, "post_id": 39258177, "comment_id": 65852442, "body": "After debugging, I&#39;m getting this inner exception: &quot;LINQ to Entities does not recognize the method &#39;Int32 IndexOf(System.String)&#39; method, and this method cannot be translated into a store expression.&quot;"}, {"owner": {"reputation": 709, "user_id": 1133343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bBxGl.jpg?s=128&g=1", "display_name": "keydon", "link": "https://stackoverflow.com/users/1133343/keydon"}, "edited": false, "score": 0, "creation_date": 1472674510, "post_id": 39258177, "comment_id": 65852522, "body": "ah right, its that SQL-Linq you are using. Dont know how it works there. But should work with the Enumberable-LINQ. So maybe consider sorting after <code>.AsEnumerable()</code>"}, {"owner": {"reputation": 709, "user_id": 1133343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bBxGl.jpg?s=128&g=1", "display_name": "keydon", "link": "https://stackoverflow.com/users/1133343/keydon"}, "edited": false, "score": 0, "creation_date": 1472674883, "post_id": 39258177, "comment_id": 65852705, "body": "edited my answer to sort after the query got built and processed."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4864716"}, "edited": false, "score": 0, "creation_date": 1472675023, "post_id": 39258177, "comment_id": 65852765, "body": "That&#39;s the key. I keep forgetting I have to some operations <i>after</i> the <code>.AsEnumerable()</code>..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 0, "creation_date": 1472676474, "post_id": 39258177, "comment_id": 65853480, "body": "@Rubix_Revenge it&#39;s important to understand the magic behind EF and queryables.  There&#39;s plenty of info out there on the subject, so if you aren&#39;t familiar with how EF generates sql from your linq statements, take an hour and read up on it.  You&#39;ll thank yourself."}], "tags": [], "owner": {"reputation": 709, "user_id": 1133343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bBxGl.jpg?s=128&g=1", "display_name": "keydon", "link": "https://stackoverflow.com/users/1133343/keydon"}, "is_accepted": true, "score": 3, "last_activity_date": 1472674749, "last_edit_date": 1472674749, "creation_date": 1472674073, "answer_id": 39258177, "question_id": 39258093, "link": "https://stackoverflow.com/questions/39258093/order-column-by-a-separate-liststring-variable/39258177#39258177", "title": "Order column by a separate `List&lt;string&gt;` variable", "body": "<p>this should do the trick:</p>\n\n<pre><code>private IEnumerable&lt;MiaLog1A&gt; PopulateQuery(string selectedCampus)\n{\n    var list = new List&lt;string&gt; {\"Fall\",\"Mid\",\"Spring\"};\n    return _db.MiaLog1A.Where(m =&gt; m.Campus == selectedCampus)\n        .AsEnumerable()\n        .OrderBy(m =&gt; m.StudentName)\n        .ThenBy(m=&gt; list.IndexOf(m.Term));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2312, "user_id": 6330636, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KwL7RaFztwM/AAAAAAAAAAI/AAAAAAAAADg/34eEeb890LE/photo.jpg?sz=128", "display_name": "Filip Cordas", "link": "https://stackoverflow.com/users/6330636/filip-cordas"}, "is_accepted": false, "score": 2, "last_activity_date": 1496149157, "last_edit_date": 1496149157, "creation_date": 1495832653, "answer_id": 44210085, "question_id": 39258093, "link": "https://stackoverflow.com/questions/39258093/order-column-by-a-separate-liststring-variable/44210085#44210085", "title": "Order column by a separate `List&lt;string&gt;` variable", "body": "<p>Here is a mad way to do it but it doesn't fall back to <code>IEnumerable</code></p>\n\n<pre><code>var db = new BloggingContext();\n\nvar list = (new List&lt;string&gt; { \"FR\", \"EN\" }).\n    Select((s,i)=&gt; $\"select '{s}' as {nameof(OrderIndex.Name)},{i} as {nameof(OrderIndex.Id)}\");\n\nvar order = db.Set&lt;OrderIndex&gt;().FromSql(String.Join(\" union \",list));\n\nvar orderedItems = from post in db.Posts\n                   join ln in order on post.Lang equals ln.Name into lnPost\n                   from od in lnPost.DefaultIfEmpty()\n                   orderby od.Id\n                   select post;\nvar data = orderedItems.ToList();\n</code></pre>\n\n<p>You can find the definition of the BloggingContext <a href=\"https://docs.microsoft.com/en-us/ef/core/get-started/uwp/getting-started\" rel=\"nofollow noreferrer\">here</a> I just added a Lang field for a language code. This will work in SQLite, SqlServer and MySQL for oracle you need to add <code>from dual</code> \nDue to how terrible EF core is you will need to go true the same procedure for OrderIndex as you would with an SQL view. In EF 6 there is a much nicer way of doing this with SqlQuery and you don't need to do the registration like with EF core. \nThe created query is </p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT \"post\".\"PostId\", \"post\".\"BlogId\", \"post\".\"Content\", \"post\".\"Date\", \"post\".\"Lang\", \"post\".\"Title\", \"ln\".\"Id\", \"ln\".\"Name\"\n    FROM \"Posts\" AS \"post\"\n    LEFT JOIN (\n        select 'FR' as Name,0 as Id union select 'EN' as Name,1 as Id\n    ) AS \"ln\" ON \"post\".\"Lang\" = \"ln\".\"Name\"\n    ORDER BY \"ln\".\"Id\", \"post\".\"Lang\"\n</code></pre>\n\n<p>EDIT:\nJust remembered a different way to do it it's not as mad but might be better.</p>\n\n<pre><code>var lang = new List&lt;string&gt; { \"FR\", \"EN\" };    \nvar orderedItems = from post in db.Posts\n                   orderby (lang[0] == post.Lang) ? \n                   0 :((lang[1] == post.Lang) ? 1 : 2)\n                   select post;\n\nvar param = Expression.Parameter(typeof(Post));\n\nvar order = lang.Select((s, i) =&gt; new { s, i })\n    .Aggregate((Expression)Expression.Constant(lang.Count), (agg, i) =&gt;\n        Expression.Condition(\n            Expression.Equal(Expression.Property(param,nameof(Post.Lang)),\n            Expression.Constant(i.s)),\n            Expression.Constant(i.i),\n            agg));\nvar exp = Expression.Lambda&lt;Func&lt;Post, int&gt;&gt;(order, param);\nvar data = db.Posts.OrderBy(exp).ToList();\n</code></pre>\n\n<p>And the SQL </p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT \"p\".\"PostId\", \"p\".\"BlogId\", \"p\".\"Content\", \"p\".\"Date\", \"p\".\"Lang\", \"p\".\"Title\"\n    FROM \"Posts\" AS \"p\"\n    ORDER BY CASE\n        WHEN \"p\".\"Lang\" = 'EN'\n        THEN 1 ELSE CASE\n            WHEN \"p\".\"Lang\" = 'FR'\n            THEN 0 ELSE 2\n        END\n    END\n</code></pre>\n\n<p>I still think the mad way is useful for something I just don't know what. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4864716"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1024, "favorite_count": 0, "accepted_answer_id": 39258177, "answer_count": 2, "score": 0, "last_activity_date": 1496149157, "creation_date": 1472673814, "last_edit_date": 1472676343, "question_id": 39258093, "link": "https://stackoverflow.com/questions/39258093/order-column-by-a-separate-liststring-variable", "title": "Order column by a separate `List&lt;string&gt;` variable", "body": "<p>I need to sort the results of an entity framework query by the index of elements in another list.</p>\n\n<p>I tried the suggestion found elsewhere, like </p>\n\n<pre><code>.ThenBy(m=&gt;list.IndexOf(m.Term))\n</code></pre>\n\n<p>but I get an HTTP 500 error, so I'm wondering if I'm missing something. When debugging, I get this inner exception.  </p>\n\n<blockquote>\n  <p>LINQ to Entities does not recognize the method 'Int32\n  IndexOf(System.String)' method, and this method cannot be translated\n  into a store expression.</p>\n</blockquote>\n\n<p>In particular, I'm thinking of this scenario. </p>\n\n<pre><code>private IEnumerable&lt;MiaLog1A&gt; PopulateQuery(string selectedCampus)\n{\n    var list = new List&lt;string&gt; {\"No Longer Alphabetical\",\"Fall\",\"Mid\",\"Spring\"};\n    return _db.MiaLog1A.Where(m =&gt; m.Campus == selectedCampus)\n            .OrderBy(m =&gt; m.StudentName)\n            .ThenBy(m=&gt;m.Term)  \n                    /* I would like to sort \"Term\" by the \n                     * order of \"list\".\n                     */\n        .AsEnumerable();\n}\n</code></pre>\n\n<p>Is there a way I could sort in this manner, or am I restricted to ordering by a dictionary or creating a join?</p>\n"}, {"tags": ["c#", "amazon-web-services", "amazon-machine-learning"], "answers": [{"tags": [], "owner": {"reputation": 746, "user_id": 1405749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/668f02b8469b8c4cd220e0b8b7ed147d?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/1405749/andy"}, "is_accepted": true, "score": 2, "last_activity_date": 1472675023, "creation_date": 1472675023, "answer_id": 39258398, "question_id": 39258083, "link": "https://stackoverflow.com/questions/39258083/aws-machine-learning-realtimepredictor-returns-unknownoperationexception-in-c/39258398#39258398", "title": "AWS Machine Learning RealTimePredictor returns UnknownoperationException in C#", "body": "<p>It turns out that this line:</p>\n\n<pre><code>MLConfig.ServiceURL = MLMOdelResp.EndpointInfo.EndpointUrl;\n</code></pre>\n\n<p>cases the MLConfig.RegionEndpoint to be reset. Even though the documentation indicates the RegionEndpoint can be determined from the ServiceURL (I'm pretty sure I read that), the RegionEndpoint needs to be set again before the RTP.Predict(Data) call.</p>\n\n<p>Once I figured that out, I was able to reduce the code to just this, in case anyone else needs help. I guess adding too much information to the Configuration is NOT a good thing, as the AWS. NET library seems to figure all this out on its own.</p>\n\n<pre><code>public static APIResult GetRealTimePrediction(Dictionary&lt;string, string&gt; Data, string PayloadJSON = null) {\n        AmazonMachineLearningConfig MLConfig = new AmazonMachineLearningConfig();\n        MLConfig.RegionEndpoint = Amazon.RegionEndpoint.USEast1;\n        MLConfig.Validate(); // Just in case, not really needed\n\n        AmazonMachineLearningClient MLClient = new AmazonMachineLearningClient(\"xxx\", \"xxx\", MLConfig);\n\n        Amazon.MachineLearning.Util.RealtimePredictor RTP = new Amazon.MachineLearning.Util.RealtimePredictor(MLClient, \"xxx\");\n        Prediction P = RTP.Predict(Data);\n}\n</code></pre>\n"}], "owner": {"reputation": 746, "user_id": 1405749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/668f02b8469b8c4cd220e0b8b7ed147d?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/1405749/andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "accepted_answer_id": 39258398, "answer_count": 1, "score": 0, "last_activity_date": 1581531951, "creation_date": 1472673765, "last_edit_date": 1472674333, "question_id": 39258083, "link": "https://stackoverflow.com/questions/39258083/aws-machine-learning-realtimepredictor-returns-unknownoperationexception-in-c", "title": "AWS Machine Learning RealTimePredictor returns UnknownoperationException in C#", "body": "<p>Using Visual Studio, and AWS .NET V 3.0.</p>\n\n<p>I'm trying to perform a real-time Predict operation, and to verify the basic setup works, I first perform a GetMLModel() which works and returns the endpoint (Somewhere in the documentation is was mentioned to use that result as the service endpoint, but it's the same that is listed in the console). Is has status \"READY\", so far so good.</p>\n\n<p>The exception occurs below on the line below \"Prediction P = RTP.Predict(Data)\". Data contains a Dictionary with all the prediction values.</p>\n\n<p><strong>Error:</strong> <em>Error making request with Error Code UnknownOperationException and Http Status Code BadRequest. No further error information was returned by the service.</em></p>\n\n<pre><code>public static APIResult GetRealTimePrediction(Dictionary&lt;string, string&gt; Data, string PayloadJSON = null) {\n\n        AmazonMachineLearningConfig MLConfig = new AmazonMachineLearningConfig();\n\n        MLConfig.RegionEndpoint = Amazon.RegionEndpoint.USEast1;\n        MLConfig.Validate();\n\n        AmazonMachineLearningClient MLClient = new AmazonMachineLearningClient(\"xxx\", \"xxx\", MLConfig);\n        GetMLModelResponse MLMOdelResp =  MLClient.GetMLModel(\"xxx\"); // &lt;-- WORKS\n\n        MLConfig.ServiceURL = MLMOdelResp.EndpointInfo.EndpointUrl;\n        Console.WriteLine(MLConfig.ServiceURL);\n        MLConfig.Validate();\n\n        Amazon.MachineLearning.Util.RealtimePredictor RTP = new Amazon.MachineLearning.Util.RealtimePredictor(MLClient, \"xxx\");\n        Prediction P = RTP.Predict(Data); // &lt;----------------EXCEPTION HERE\n\n}\n</code></pre>\n\n<p>(Obviously replace <strong>xxx</strong> with relevant values) :)</p>\n"}, {"tags": ["javascript", "c#", "jquery", "html", "webbrowser-control"], "comments": [{"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1472674967, "post_id": 39258068, "comment_id": 65852745, "body": "use the <a href=\"https://github.com/cefsharp/CefSharp\" rel=\"nofollow noreferrer\">Chromium based browser control</a> instead."}, {"owner": {"reputation": 109, "user_id": 4146643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-ZiDUjHObkyo/AAAAAAAAAAI/AAAAAAAAAEU/uAFLk87vspU/photo.jpg?sz=128", "display_name": "Termonator145", "link": "https://stackoverflow.com/users/4146643/termonator145"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1472675277, "post_id": 39258068, "comment_id": 65852915, "body": "@Crowcoder due to the fact that the code for the winform is only available to our developers, and I am attempting to create the html file for a client that requested to be able to just place files in a folder, instead of having to change the settings for the winform, and re-open it to have the new images show"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1472675429, "post_id": 39258068, "comment_id": 65852987, "body": "You can&#39;t make an update to your app and release it? The IE based control is old and decrepit. You&#39;ll have all kinds of problems if you do much more than simple html."}, {"owner": {"reputation": 109, "user_id": 4146643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-ZiDUjHObkyo/AAAAAAAAAAI/AAAAAAAAAEU/uAFLk87vspU/photo.jpg?sz=128", "display_name": "Termonator145", "link": "https://stackoverflow.com/users/4146643/termonator145"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1472675784, "post_id": 39258068, "comment_id": 65853140, "body": "@Crowcoder not saying that we cant make an update, its the simple fact that this would take time to develop and release. Not to mention, that for a bit of support of newer Javascript APIs, the dev. team is highly likely to call it a waste of resources for something very few customers are likely to use."}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1472676551, "post_id": 39258068, "comment_id": 65853509, "body": "I know it is bad news, but if you don&#39;t have control over what the client is going to view then you can&#39;t even try to implement shims you might need or alternate libraries that would work with what amounts to IE7."}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 4146643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-ZiDUjHObkyo/AAAAAAAAAAI/AAAAAAAAAEU/uAFLk87vspU/photo.jpg?sz=128", "display_name": "Termonator145", "link": "https://stackoverflow.com/users/4146643/termonator145"}, "edited": false, "score": 0, "creation_date": 1472677630, "post_id": 39258887, "comment_id": 65854027, "body": "there is the possibility that i could make that work. I will have to give it a try."}, {"owner": {"reputation": 6795, "user_id": 6625726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TM1TR.jpg?s=128&g=1", "display_name": "Timo Salom&#228;ki", "link": "https://stackoverflow.com/users/6625726/timo-salom%c3%a4ki"}, "reply_to_user": {"reputation": 109, "user_id": 4146643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-ZiDUjHObkyo/AAAAAAAAAAI/AAAAAAAAAEU/uAFLk87vspU/photo.jpg?sz=128", "display_name": "Termonator145", "link": "https://stackoverflow.com/users/4146643/termonator145"}, "edited": false, "score": 0, "creation_date": 1472677735, "post_id": 39258887, "comment_id": 65854065, "body": "@Termonator145 Good luck!"}, {"owner": {"reputation": 109, "user_id": 4146643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-ZiDUjHObkyo/AAAAAAAAAAI/AAAAAAAAAEU/uAFLk87vspU/photo.jpg?sz=128", "display_name": "Termonator145", "link": "https://stackoverflow.com/users/4146643/termonator145"}, "edited": false, "score": 1, "creation_date": 1472740275, "post_id": 39258887, "comment_id": 65883222, "body": "so i ended up changing the registry to use IE11, and also made changes to local sites in IE options to use activeXobjects instead to work around this issue."}], "tags": [], "owner": {"reputation": 6795, "user_id": 6625726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TM1TR.jpg?s=128&g=1", "display_name": "Timo Salom&#228;ki", "link": "https://stackoverflow.com/users/6625726/timo-salom%c3%a4ki"}, "is_accepted": true, "score": 1, "last_activity_date": 1472677066, "last_edit_date": 1495542766, "creation_date": 1472677066, "answer_id": 39258887, "question_id": 39258068, "link": "https://stackoverflow.com/questions/39258068/c-web-browser-support-for-javascript-files-api/39258887#39258887", "title": "C# Web Browser support for javascript Files API", "body": "<p>Internet Explorer 11 is the first version that supports the Files API, but only partially (doesn't support the File constructor). You can always <a href=\"https://stackoverflow.com/questions/17922308/use-latest-version-of-ie-in-webbrowser-control\">force the Windows Forms WebBrowser to use the latest IE version</a> but it has to be installed on the client's machine.</p>\n\n<p>To sum it up, I don't think you'll have much luck when using the WebBrowser control since it's so dependent on which version the client is running.</p>\n\n<p><strong>Edit:</strong> Even if you have for example IE 11 installed on your machine, the WebBrowser control might use an older version like IE 9, which can easily be checked by using the <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.version(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Version</a> property.</p>\n\n<p>If it's possible to force your clients to install IE 11 (prompt to install after checking the version or something), then you can enable it and use the partial implementation of the Files API.</p>\n"}], "owner": {"reputation": 109, "user_id": 4146643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-ZiDUjHObkyo/AAAAAAAAAAI/AAAAAAAAAEU/uAFLk87vspU/photo.jpg?sz=128", "display_name": "Termonator145", "link": "https://stackoverflow.com/users/4146643/termonator145"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 0, "accepted_answer_id": 39258887, "answer_count": 1, "score": 0, "last_activity_date": 1472677066, "creation_date": 1472673711, "last_edit_date": 1472674931, "question_id": 39258068, "link": "https://stackoverflow.com/questions/39258068/c-web-browser-support-for-javascript-files-api", "title": "C# Web Browser support for javascript Files API", "body": "<p>As a part of a project i am working on, we have a WinForm application that has a Web Browser control on it. from that control, I am calling an html file that will be in a shared folder on a local network. in that folder, there are also various images, of which a client may want to switch out from time to time.</p>\n\n<p>All that is fine, but i am trying to use the html document, with some javascript to refresh, look in that folder, load all the images, and use sliderman.js to present these images as a slideshow. I am not all too familiar with javascript, but basically, in pseudo-code, this is what i am trying to accomplish:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;body&gt;\n    &lt;script type=\"text/javascript\"&gt;\n      function PageRefreshTimer(){\n      }\n\n      function GetFiles(){\n        //gets files from local network location (ie: \\\\192.168.1.2\\sharedfolder)\n\n        for each file in folder {\n          //add &lt;img&gt; tag to page for the image\n        }\n      }\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>what i have accomplished so far is this:</p>\n\n<pre><code>&lt;div id=\"slider_container_3\"&gt;   \n\n            &lt;div id=\"SliderName_3\" class=\"SliderName_3\"&gt;\n                &lt;!-- images will be inserted here --&gt;\n              &lt;script type=\"text/javascript\"&gt;\n                window.alert(\"found script\");\n\n                if (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob) {\n                  //do your stuff!\n                } else {\n                  alert('The File APIs are not fully supported by your browser.');\n                }\n              &lt;/script&gt;\n\n              &lt;img src=\"../01.jpg\" width=\"800\" height=\"200\" alt=\"\" title=\"\" /&gt;\n              &lt;img src=\"../02.jpg\" width=\"800\" height=\"200\" alt=\"\" title=\"\" /&gt;\n            &lt;/div&gt;\n            &lt;div class=\"c\"&gt;&lt;/div&gt;\n\n            &lt;script type=\"text/javascript\"&gt;\n                //scripting for sliderman.js\n                demo3Effect1 = {name: 'myEffect31', top: true, move: true, duration: 400};\n                demo3Effect2 = {name: 'myEffect32', right: true, move: true, duration: 400};\n                demo3Effect3 = {name: 'myEffect33', bottom: true, move: true, duration: 400};\n                demo3Effect4 = {name: 'myEffect34', left: true, move: true, duration: 400};\n                demo3Effect5 = {name: 'myEffect35', rows: 3, cols: 9, delay: 50, duration: 100, order: 'random', fade: true};\n                demo3Effect6 = {name: 'myEffect36', rows: 2, cols: 4, delay: 100, duration: 400, order: 'random', fade: true, chess: true};\n\n                effectsDemo3 = [demo3Effect1,demo3Effect2,demo3Effect3,demo3Effect4,demo3Effect5,demo3Effect6,'blinds'];\n\n                var demoSlider_3 = Sliderman.slider({container: 'SliderName_3', width: 800, height: 200, effects: effectsDemo3, display: {autoplay: 10000}});\n            &lt;/script&gt;\n            &lt;div class=\"c\"&gt;&lt;/div&gt;\n\n        &lt;/div&gt;\n</code></pre>\n\n<p>if i have  tags in there already, it runs the slideshow as it is supposed to. However, when it reaches the check to see if it supports the the API in the program class, it sends the message that it is not supported. Any reasoning behind this?</p>\n\n<p>Is this just due to a lack of support for the API in the C# Web Browser control?</p>\n"}, {"tags": ["c#", "database", "entity-framework"], "comments": [{"owner": {"reputation": 2082, "user_id": 547118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0624d43cc9bb1f9bbfb17496400d800c?s=128&d=identicon&r=PG", "display_name": "bvoleti", "link": "https://stackoverflow.com/users/547118/bvoleti"}, "edited": false, "score": 0, "creation_date": 1472682327, "post_id": 39258029, "comment_id": 65855860, "body": "Are the two collections of the type ICollection&lt;RelationshipMappings&gt;? Can you describe what is not working?"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1472682865, "post_id": 39258029, "comment_id": 65856031, "body": "<i>What</i> is not working? <i>How</i> is it not working? You should have one collection, because it contains the junction records, but the foreign key names can&#39;t be the same."}, {"owner": {"reputation": 21093, "user_id": 150342, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/15059b386eb3a25b97852a9a6e2d20ac?s=128&d=identicon&r=PG", "display_name": "Colin", "link": "https://stackoverflow.com/users/150342/colin"}, "edited": false, "score": 0, "creation_date": 1472735618, "post_id": 39258029, "comment_id": 65879554, "body": "Is this a typo in the question or is it the actual code? <code>.HasForeignKey(r =&gt; r.RightPerson)</code> should be <code>.HasForeignKey(r =&gt; r.RightPersonId)</code>"}, {"owner": {"reputation": 21093, "user_id": 150342, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/15059b386eb3a25b97852a9a6e2d20ac?s=128&d=identicon&r=PG", "display_name": "Colin", "link": "https://stackoverflow.com/users/150342/colin"}, "edited": false, "score": 0, "creation_date": 1472735809, "post_id": 39258029, "comment_id": 65879698, "body": "Also you need different constraint names <code>FK_RelationshipMapping_LeftPerson</code> should be <code>FK_RelationshipMapping_RightPerson</code> in the second statement"}, {"owner": {"reputation": 1484, "user_id": 3841988, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Nr9dv.png?s=128&g=1", "display_name": "Kasun Koswattha", "link": "https://stackoverflow.com/users/3841988/kasun-koswattha"}, "edited": false, "score": 0, "creation_date": 1473165996, "post_id": 39258029, "comment_id": 66028448, "body": "I have edited the question. There were some typos."}], "answers": [{"tags": [], "owner": {"reputation": 1484, "user_id": 3841988, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Nr9dv.png?s=128&g=1", "display_name": "Kasun Koswattha", "link": "https://stackoverflow.com/users/3841988/kasun-koswattha"}, "is_accepted": true, "score": 0, "last_activity_date": 1473169915, "creation_date": 1473169915, "answer_id": 39350765, "question_id": 39258029, "link": "https://stackoverflow.com/questions/39258029/how-to-make-two-foreign-keys-from-a-primary-key-of-a-table-in-entity-framework-c/39350765#39350765", "title": "How to make two foreign keys from a primary key of a table in Entity Framework Code First", "body": "<p>Okay, I found the solution. I had to add Delete Behavior in to the Foreign Keys. </p>\n\n<pre><code>           entityBuilder\n           .HasOne(r =&gt; r.LeftPerson)\n           .WithMany(r =&gt; r.LeftRelationshipMappings)\n           .HasForeignKey(r =&gt; r.LeftPersonId)\n           .HasConstraintName(\"FK_RelationshipMapping_LeftPerson\")\n           .OnDelete(DeleteBehavior.Restrict);\n\n\n        entityBuilder\n           .HasOne(r =&gt; r.RightPerson)\n           .WithMany(r =&gt; r.RightRelationshipMappings)\n           .HasForeignKey(r =&gt; r.RightPersonId)\n           .HasConstraintName(\"FK_RelationshipMapping_RightPerson\")\n           .OnDelete(DeleteBehavior.Restrict);\n</code></pre>\n\n<p>Now everything works as expected. I had to have two collections though. It will not work with one collection. It will give below error. </p>\n\n<pre><code>Cannot create a relationship between 'Person.RelationshipMappings' and 'RelationshipMapping.RightPerson', because there already is a relationship between 'Person.RelationshipMappings' and 'RelationshipMapping.LeftPerson'. Navigation properties can only participate in a single relationship.\n</code></pre>\n\n<p>Thank you for the comments.</p>\n"}], "owner": {"reputation": 1484, "user_id": 3841988, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Nr9dv.png?s=128&g=1", "display_name": "Kasun Koswattha", "link": "https://stackoverflow.com/users/3841988/kasun-koswattha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 39350765, "answer_count": 1, "score": 0, "last_activity_date": 1473169915, "creation_date": 1472673506, "last_edit_date": 1473165963, "question_id": 39258029, "link": "https://stackoverflow.com/questions/39258029/how-to-make-two-foreign-keys-from-a-primary-key-of-a-table-in-entity-framework-c", "title": "How to make two foreign keys from a primary key of a table in Entity Framework Code First", "body": "<p>My Scenario is, I have two tables called Person and RelationshipMappings. \nIn Person table, PersonId is the primary key. \nIn RelationshipMappings table, there are two integers LeftPersonId and RightPersonId. \nBoth of these Ids should be ForeignKeys of PersonId.</p>\n\n<p>I have created two Person Properties in the Relationship model called LeftPerson and RightPerson and then Created the table relationship like below.  </p>\n\n<pre><code> entityBuilder\n           .HasOne(r =&gt; r.LeftPerson)\n           .WithMany(r =&gt; r.RelationshipMappings)\n           .HasForeignKey(r =&gt; r.LeftPersonId)\n           .HasConstraintName(\"FK_RelationshipMapping_LeftPerson\");\n\n\n        entityBuilder\n           .HasOne(r =&gt; r.RightPerson)\n           .WithMany(r =&gt; r.RelationshipMappings)\n           .HasForeignKey(r =&gt; r.RightPersonId)\n           .HasConstraintName(\"FK_RelationshipMapping_RightPerson\");\n</code></pre>\n\n<p>Should I have two collections in Person Model (LeftPerson and RightPerson)? Because Right now I have only one collection in the PersonModel. </p>\n\n<pre><code>  public ICollection&lt;RelationshipMapping&gt; RelationshipMappings { get; set; }\n</code></pre>\n\n<p>Also I have the relationship mentioned in the PersonModel also. </p>\n\n<pre><code>      entityBuilder\n            .HasMany(e =&gt; e.RelationshipMappings)\n            .WithOne(e =&gt; e.LeftPerson);\n\n        entityBuilder\n            .HasMany(e =&gt; e.RelationshipMappings)\n            .WithOne(e =&gt; e.RightPerson);\n</code></pre>\n\n<p>Its not working for some reason. It fails to create the table and everything after that. I can't see the exception. I'm trying to find it out.  </p>\n\n<p>Could someone help me with this? </p>\n"}, {"tags": ["c#", "wpf", "mvvm", "combobox", "datagrid"], "answers": [{"tags": [], "owner": {"reputation": 168, "user_id": 6658396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c591da61aaaf505d11bce640a20b8db?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik Parikh", "link": "https://stackoverflow.com/users/6658396/pratik-parikh"}, "is_accepted": true, "score": 0, "last_activity_date": 1472721390, "creation_date": 1472721390, "answer_id": 39267482, "question_id": 39257993, "link": "https://stackoverflow.com/questions/39257993/how-to-display-two-combobox-columns-in-datagrid-from-dto-with-collections/39267482#39267482", "title": "How to display two combobox columns in Datagrid from Dto with collections?", "body": "<p>Replace below code:</p>\n\n<pre><code> &lt;DataGridComboBoxColumn Header=\"Precios\"  Width=\"70\"/&gt;\n &lt;DataGridComboBoxColumn Header=\"Presentaci\u00f3nes\" Width=\"70\" /&gt;\n</code></pre>\n\n<p>With Following code:</p>\n\n<pre><code>    &lt;DataGridTemplateColumn Header=\"Precios\"  Width=\"100\" &gt;\n    &lt;DataGridTemplateColumn.CellTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;ComboBox ItemsSource=\"{Binding Prices}\"&gt;\n                &lt;ComboBox.ItemTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;TextBlock Text=\"{Binding}\"/&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/ComboBox.ItemTemplate&gt;\n            &lt;/ComboBox&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/DataGridTemplateColumn.CellTemplate&gt;\n    &lt;/DataGridTemplateColumn&gt;\n\n    &lt;DataGridTemplateColumn Header=\"Presentaci\u00f3nes\"  Width=\"100\" &gt;\n    &lt;DataGridTemplateColumn.CellTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;ComboBox ItemsSource=\"{Binding Presentations}\"&gt;\n                &lt;ComboBox.ItemTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;TextBlock Text=\"{Binding}\"/&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/ComboBox.ItemTemplate&gt;\n            &lt;/ComboBox&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/DataGridTemplateColumn.CellTemplate&gt;\n    &lt;/DataGridTemplateColumn&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4434218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/568c6e1f8738971a0358fa9be14c3736?s=128&d=identicon&r=PG&f=1", "display_name": "as_devMX", "link": "https://stackoverflow.com/users/4434218/as-devmx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 39267482, "answer_count": 1, "score": 0, "last_activity_date": 1472721390, "creation_date": 1472673412, "last_edit_date": 1472679386, "question_id": 39257993, "link": "https://stackoverflow.com/questions/39257993/how-to-display-two-combobox-columns-in-datagrid-from-dto-with-collections", "title": "How to display two combobox columns in Datagrid from Dto with collections?", "body": "<p>i need display two combobox columns in my datagrid.ItemsSource property is filling with ProductModel class.</p>\n\n<pre><code>public class ProductModel\n{\n    public int ProductId { get; set; }\n    public string Code { get; set; }\n    public string Name { get; set; }\n    public List&lt;decimal&gt; Prices { get; set; }\n    public decimal Cost { get; set; }\n    public decimal Stock { get; set; }\n    public List&lt;string&gt; Presentations { get; set; }\n    public string  BarCode { get; set; }\n}\n</code></pre>\n\n<p>XAML:</p>\n\n<pre><code>&lt;DataGrid x:Name=\"dgProducts\" HorizontalAlignment=\"Left\" Margin=\"10,10,0,0\" VerticalAlignment=\"Top\" Height=\"343\" Width=\"351\" ItemsSource=\"{Binding ProductList}\" AutoGenerateColumns=\"False\" \n             SelectedItem=\"{Binding SelectedProduct}\"  &gt;\n            &lt;i:Interaction.Triggers&gt;\n                &lt;i:EventTrigger EventName=\"MouseDoubleClick\" &gt;\n                   &lt;i:InvokeCommandAction Command=\"{Binding RowDobuleClickCommand}\" /&gt;\n                &lt;/i:EventTrigger&gt;\n            &lt;/i:Interaction.Triggers&gt;\n           &lt;DataGrid.Columns&gt;\n                &lt;DataGridTextColumn Header=\"Descripci\u00f3n\" Binding=\"{Binding Name}\" Width=\"200\" /&gt;\n                &lt;DataGridComboBoxColumn Header=\"Precios\"  Width=\"70\"/&gt;\n                &lt;DataGridComboBoxColumn Header=\"Presentaci\u00f3nes\" Width=\"70\" /&gt;\n                &lt;DataGridTextColumn Header=\"Disponible\" Binding=\"{Binding Stock}\" Width=\"100\" /&gt;\n            &lt;/DataGrid.Columns&gt;\n\n        &lt;/DataGrid&gt;\n</code></pre>\n\n<p>How to bind property Prices and Presentations from same itemssource data grid or something like that. ?</p>\n"}, {"tags": ["c#", "file", "path", "installation"], "comments": [{"owner": {"reputation": 16340, "user_id": 1569689, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/21d698866fd3dfd4c566b5688ee99166?s=128&d=identicon&r=PG", "display_name": "James Wood", "link": "https://stackoverflow.com/users/1569689/james-wood"}, "edited": false, "score": 0, "creation_date": 1472682388, "post_id": 39257910, "comment_id": 65855878, "body": "Whats the folder relationship between Assets and the executable of your application?"}, {"owner": {"reputation": 1, "user_id": 6780325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ae49d41b1701727bb8254fdaf9688a4?s=128&d=identicon&r=PG", "display_name": "malti_boii", "link": "https://stackoverflow.com/users/6780325/malti-boii"}, "reply_to_user": {"reputation": 16340, "user_id": 1569689, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/21d698866fd3dfd4c566b5688ee99166?s=128&d=identicon&r=PG", "display_name": "James Wood", "link": "https://stackoverflow.com/users/1569689/james-wood"}, "edited": false, "score": 0, "creation_date": 1472707035, "post_id": 39257910, "comment_id": 65861751, "body": "The exacutable is in the &quot;Application Folder&quot; together with the &quot;Assets&quot; folder."}], "owner": {"reputation": 1, "user_id": 6780325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ae49d41b1701727bb8254fdaf9688a4?s=128&d=identicon&r=PG", "display_name": "malti_boii", "link": "https://stackoverflow.com/users/6780325/malti-boii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1472676005, "creation_date": 1472673112, "last_edit_date": 1472676005, "question_id": 39257910, "link": "https://stackoverflow.com/questions/39257910/c-add-soundfile-to-setup-and-direct-to-file-path", "title": "c# Add Soundfile to Setup and direct to file path", "body": "<p>I want to create a SetupFile for my project. I have two sounds that I use... that's my current code (which works fine when I debug):</p>\n\n<pre><code>SoundPlayer clckSound = new SoundPlayer(@\"C:\\Users\\My Name\\Downloads\\Button Push.wav\");\nSoundPlayer wonSound = new SoundPlayer(@\"C:\\Users\\My Name\\Downloads\\Applause.wav\");\n</code></pre>\n\n<p>Inside my Setup Project in the \"Application Folder\" I created another folder named \"Assets\" where I put the two sound files.</p>\n\n<p>I tried it with the following code which didnt work. </p>\n\n<pre><code>SoundPlayer clckSound = new SoundPlayer(Application.StartupPath + \"\\\\Assets\\\\Button Push.wav\");\nSoundPlayer wonSound = new SoundPlayer(Application.StartupPath + \"\\\\Assets\\\\Applause.wav\");\n</code></pre>\n\n<p>How do I specify the file path in my code so that the sounds get played properly after installation of the Setup file?</p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["c#", "streamreader"], "comments": [{"owner": {"reputation": 5339, "user_id": 1564317, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/865b4cb76b33579c70f0f9eef8cf0d2f?s=128&d=identicon&r=PG", "display_name": "Joe Healy", "link": "https://stackoverflow.com/users/1564317/joe-healy"}, "edited": false, "score": 0, "creation_date": 1472673016, "post_id": 39257865, "comment_id": 65851713, "body": "What does the file look like?"}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1472673275, "post_id": 39257865, "comment_id": 65851858, "body": "When you debug this, what is the value of <code>line</code> in that loop?  Does it contain the value you&#39;re trying to compare?"}, {"owner": {"reputation": 15, "user_id": 5866046, "user_type": "registered", "profile_image": "https://graph.facebook.com/1555740064735990/picture?type=large", "display_name": "Tyler Merrill", "link": "https://stackoverflow.com/users/5866046/tyler-merrill"}, "reply_to_user": {"reputation": 5339, "user_id": 1564317, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/865b4cb76b33579c70f0f9eef8cf0d2f?s=128&d=identicon&r=PG", "display_name": "Joe Healy", "link": "https://stackoverflow.com/users/1564317/joe-healy"}, "edited": false, "score": 0, "creation_date": 1472673289, "post_id": 39257865, "comment_id": 65851861, "body": "@Joe Healy  It&#39;s just a simple CSV text file with some fake values in it.  45454, Glenn Matthews, 54.87 10000, Jerry Rice, 150.45 58546, Klein Botteau, 45  That&#39;s the entire contents right there, as far as I&#39;ve added. The first application accepts user input, uses that to instantiate an object from a Customer class I created, then passes the values from the object to the CustomerRecords.txt file."}, {"owner": {"reputation": 15, "user_id": 5866046, "user_type": "registered", "profile_image": "https://graph.facebook.com/1555740064735990/picture?type=large", "display_name": "Tyler Merrill", "link": "https://stackoverflow.com/users/5866046/tyler-merrill"}, "reply_to_user": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1472673416, "post_id": 39257865, "comment_id": 65851923, "body": "@David The value of line changes as it loops through the external CustomerRecords.txt file. It changes to each different line of the file as it loops:  45454, Glenn Matthews, 54.87 10000, Jerry Rice, 150.45 58546, Klein Botteau, 45"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1472673452, "post_id": 39257865, "comment_id": 65851945, "body": "when you declare variables it&#39;s generally best to initialize to something preferably to their default value for starters. For example <code>double minBal = 0d;</code> and <code>string line = string.empty;</code> also use the debugger and tell us what the actual error and or issue is."}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1472673467, "post_id": 39257865, "comment_id": 65851954, "body": "@TylerMerrill: So are you just asking how to get a substring from a string to compare it with another value?"}, {"owner": {"reputation": 15, "user_id": 5866046, "user_type": "registered", "profile_image": "https://graph.facebook.com/1555740064735990/picture?type=large", "display_name": "Tyler Merrill", "link": "https://stackoverflow.com/users/5866046/tyler-merrill"}, "reply_to_user": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1472673735, "post_id": 39257865, "comment_id": 65852110, "body": "@David What I&#39;m trying to do, according to the assignment, is take a minimum value from user input, compare it to the records in the text file, and display only the records that have greater than or equal to that value. Say that the user enters &quot;50&quot; for the minimum value; I would want to display only Glenn Matthews and Jerry Rice&#39;s entries to the console. So...yes? Maybe?"}, {"owner": {"reputation": 5339, "user_id": 1564317, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/865b4cb76b33579c70f0f9eef8cf0d2f?s=128&d=identicon&r=PG", "display_name": "Joe Healy", "link": "https://stackoverflow.com/users/1564317/joe-healy"}, "edited": false, "score": 0, "creation_date": 1472674120, "post_id": 39257865, "comment_id": 65852306, "body": "read this post - <a href=\"http://stackoverflow.com/questions/6688221/deserialize-from-csv-to-an-object-or-preferably-a-list-of-type-object\" title=\"deserialize from csv to an object or preferably a list of type object\">stackoverflow.com/questions/6688221/&hellip;</a> .  Good guidelines there.  The format you are using is called &quot;CSV&quot;."}, {"owner": {"reputation": 15, "user_id": 5866046, "user_type": "registered", "profile_image": "https://graph.facebook.com/1555740064735990/picture?type=large", "display_name": "Tyler Merrill", "link": "https://stackoverflow.com/users/5866046/tyler-merrill"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1472674210, "post_id": 39257865, "comment_id": 65852366, "body": "@MethodMan My problem isn&#39;t an error. The application starts up just fine. I just am not sure how to actually do what the prompt is asking me to do, because I can&#39;t find where or when the book explains how to do it. My question is, what do I need to do to take a given value of minBal, compare it to the records in the file, and display only the records that have a balance greater than or equal to minBal?"}, {"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 0, "creation_date": 1472675584, "post_id": 39257865, "comment_id": 65853049, "body": "It&#39;s hard to say because I&#39;m not sure of what you&#39;re expected to know at this point. Like, I&#39;m not sure if you&#39;re supposed to be using the .Split() function yet and I&#39;m also assuming you&#39;re not supposed to be using 3rd party libraries, but I don&#39;t know if that&#39;s true either."}, {"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 0, "creation_date": 1472675735, "post_id": 39257865, "comment_id": 65853121, "body": "Within your while loop maybe think about how you can get access to each of the comma-delimited values &quot; 45454, Glenn Matthews, 54.87&quot; What tools do you have that could do that? Is there some way inside of your line variable you can look for that? Hmmm"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 5866046, "user_type": "registered", "profile_image": "https://graph.facebook.com/1555740064735990/picture?type=large", "display_name": "Tyler Merrill", "link": "https://stackoverflow.com/users/5866046/tyler-merrill"}, "edited": false, "score": 0, "creation_date": 1472735258, "post_id": 39258775, "comment_id": 65879264, "body": "Like you mentioned in the comment above, this chapter is dealing with the Split() method, yes. Third-party libraries, not so much...In the first version of this program, I also used Contains() to pull data, and Seek() has been used in this chapter as well. The chapter is about Filestreams and Serialization."}], "tags": [], "owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "is_accepted": true, "score": 0, "last_activity_date": 1472742911, "last_edit_date": 1472742911, "creation_date": 1472676670, "answer_id": 39258775, "question_id": 39257865, "link": "https://stackoverflow.com/questions/39257865/need-help-pulling-data-from-a-file/39258775#39258775", "title": "Need Help Pulling Data From A File", "body": "<p>Take a closer look inside of your while loop:</p>\n\n<pre><code>while((line = file.ReadLine()) != null)\n{\n\n}\n</code></pre>\n\n<p>at this point inside of the loop, you should have the following data:</p>\n\n<p><code>45454, Glenn Matthews, 54.87</code></p>\n\n<p>If not, then you created your CSV file incorrectly. Let's assume for now that you created it correctly. How would you go about getting the value out of your <code>line</code> variable in order to compare it to your <code>minBal</code> variable? If you can figure that part out then you can probably solve the rest on your own.</p>\n\n<p>What tools (such as string methods) do you have at your disposal that could help do this?</p>\n\n<p>There might also be Stream/StreamReader methods that could help you out as well. Good luck!</p>\n"}], "owner": {"reputation": 15, "user_id": 5866046, "user_type": "registered", "profile_image": "https://graph.facebook.com/1555740064735990/picture?type=large", "display_name": "Tyler Merrill", "link": "https://stackoverflow.com/users/5866046/tyler-merrill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 39258775, "answer_count": 1, "score": -1, "last_activity_date": 1472742911, "creation_date": 1472672940, "last_edit_date": 1472739418, "question_id": 39257865, "link": "https://stackoverflow.com/questions/39257865/need-help-pulling-data-from-a-file", "title": "Need Help Pulling Data From A File", "body": "<p>I'm learning how to read and write to external text files with C#(yes, this is classwork, getting that out of the way now), and I've kind of hit a wall. See, the first part of this assignment was to create a program that can write customer records to an external file, after creating a Customer class with ID number, name, and current balance fields, which I did. </p>\n\n<p>My predicament is that I now have to create a program to search the file I created with that first one, and print out each line to the console with a balance greater than or equal to a minimum balance supplied by a user. I'm drawing a blank on how to actually do this. </p>\n\n<p>This is as far as I've gotten:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing static System.Console;\nusing System.IO;\n\nnamespace FindCustomerRecords2\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            //Intialize variables\n            double minBal;\n            string line;\n\n            //Prompt user to enter minimum balance and store in minBal\n            Write(\"Please enter a minimum balance to pull up\\n\" +\n                  \"all customers that owe at least that much.\");\n            minBal = Convert.ToDouble(ReadLine());\n\n            //Open data stream to CustomerRecords.txt\n            StreamReader file = new StreamReader(@\"H:\\C#\\Visual C# 2015\\Ch. 14 - Files and Streams\\CustomerRecords.txt\");\n            //Loop through CustomerRecords.txt, find values\n            //greater than or euqal to minBal, and display\n            //each line with such a value\n            while((line = file.ReadLine()) != null)\n            {\n\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Now, I'm not looking to be fed an answer, I just genuinely don't know what to use to accomplish what I've been asked to do. Anyone willing to help me out?</p>\n\n<p><strong>EDIT:</strong> I eventually found out what I was doing wrong. For the future reference of anyone who may have the same problem in the future: I got it to work by using Split() to assign the data to an array called fields, then assigned each array position of fields to variables called id, name, and balance, and compared each balance to minBal in an if statement like so:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>fields = recordIn.Split(DELIM);\r\n                id = Convert.ToInt32(fields[0]);\r\n                name = fields[1];\r\n                balance = Convert.ToDouble(fields[2]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thanks to everyone who replied. </p>\n"}, {"tags": ["c#", "linq", "generics", "lambda"], "comments": [{"owner": {"reputation": 21178, "user_id": 89586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fe3afc9020eddb5c7445e286eead4a?s=128&d=identicon&r=PG", "display_name": "Matthew Whited", "link": "https://stackoverflow.com/users/89586/matthew-whited"}, "edited": false, "score": 0, "creation_date": 1472673057, "post_id": 39257819, "comment_id": 65851735, "body": "What version of VS/C# are you using?"}, {"owner": {"reputation": 67, "user_id": 6588745, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2b17ec1721b6ba87041ccc78bd3e9b39?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr P", "link": "https://stackoverflow.com/users/6588745/piotr-p"}, "reply_to_user": {"reputation": 21178, "user_id": 89586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fe3afc9020eddb5c7445e286eead4a?s=128&d=identicon&r=PG", "display_name": "Matthew Whited", "link": "https://stackoverflow.com/users/89586/matthew-whited"}, "edited": false, "score": 0, "creation_date": 1472673310, "post_id": 39257819, "comment_id": 65851871, "body": "VS2013 so it&#39;s c# 5 I guess"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 6588745, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2b17ec1721b6ba87041ccc78bd3e9b39?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr P", "link": "https://stackoverflow.com/users/6588745/piotr-p"}, "edited": false, "score": 0, "creation_date": 1472673659, "post_id": 39257991, "comment_id": 65852061, "body": "list.Where(s =&gt; s.GetType().GetProperty(item).GetValue(s, null) != null &amp;&amp; s.GetType().GetProperty(item).GetValue(s, null).ToString().ToLower().Contains(searchString.ToLower()))&zwnj;&#8203;;  worked :D super ugly but works :D"}], "tags": [], "owner": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "is_accepted": true, "score": 3, "last_activity_date": 1472674009, "last_edit_date": 1472674009, "creation_date": 1472673407, "answer_id": 39257991, "question_id": 39257819, "link": "https://stackoverflow.com/questions/39257819/if-null-then-set-it-to-empty-string-lambda-expression-in-linq/39257991#39257991", "title": "If null then set it to empty string lambda expression in linq", "body": "<p>If s comes null sometimes, you could use:</p>\n\n<pre><code>list.Where(s =&gt; s != null &amp;&amp; s.GetType().GetProperty(item).GetValue(s, null).ToString().ToLower().Contains(searchString.ToLower()));\n</code></pre>\n\n<p><strong>Later edit</strong></p>\n\n<p>So the problem is that <code>GetValue</code> returns null. In this case, you can use the null-coalescing operator <code>??</code>. I would personally expand the expression so it's easier to read:</p>\n\n<pre><code>list.Where(s =&gt; \n{\n    var property = s.GetType().GetProperty(item);\n    var value = property.GetValue(s, null);\n    if (value == null) return false;\n\n    return value.ToString().Contains(searchString, StringComparison.OrdinalIgnoreCase);\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 6588745, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2b17ec1721b6ba87041ccc78bd3e9b39?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr P", "link": "https://stackoverflow.com/users/6588745/piotr-p"}, "edited": false, "score": 0, "creation_date": 1472677791, "post_id": 39258477, "comment_id": 65854100, "body": "Looks really clear. Thanks. Will try it tomorrow. Btw. isn&#39;t it better not to declare so many variables? I&#39;m a junior dev, but want to get best practices from the start. That&#39;s why I&#39;m asking."}], "tags": [], "owner": {"reputation": 21178, "user_id": 89586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fe3afc9020eddb5c7445e286eead4a?s=128&d=identicon&r=PG", "display_name": "Matthew Whited", "link": "https://stackoverflow.com/users/89586/matthew-whited"}, "is_accepted": false, "score": 0, "last_activity_date": 1472679184, "last_edit_date": 1472679184, "creation_date": 1472675360, "answer_id": 39258477, "question_id": 39257819, "link": "https://stackoverflow.com/questions/39257819/if-null-then-set-it-to-empty-string-lambda-expression-in-linq/39258477#39258477", "title": "If null then set it to empty string lambda expression in linq", "body": "<pre><code>// doing the .ToLower() on searchString before the query will improve performance.  \n// The original form would execute each pass (as a note .ToUpper() is slightly faster for \n// conversions and comparisons since upper case letter come before lower case.\nsearchString = searchString.ToLower();\n\n// assuming `list` is a List&lt;T&gt; this will allow the inner type of be used to get the \n// property list. It is possible to check that getters exist for the properties which \n// may be helpful if you have any setter only properties. If you work with any languages\n// other than C# you may also want to exclude properties with indexers.\nvar properties = list.GetType()\n                     .GetGenericArguments()[0].GetProperties()\n                     .Where(p =&gt; listOfFieldNames.Contains(p.Name))\n                     .ToList();\n\nvar query = from listItem in list\n            // if you have any setter only properties p.GetValue() will cause an exception\n            let values = properties.Select(p =&gt; p.GetValue(listItem))\n                                   .Where(p =&gt; p != null)\n            // you probably don't see the null coalesce but it is possible that .ToString()\n            // was over ridden and could allow null. The empty string is simplier to inline\n            // than to add another null filter after the .ToString()\n                                   .Select(p =&gt; (p.ToString() ?? \"\").ToLower())\n            // this will allow you to compare all properties that had values to your search\n            where values.Contains(searchString)\n            select listItem;\n\n// this will create a new list that will contain all of the values from list that had at \n// least one property that matched your searc hstring\nvar matched = query.ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 274, "user_id": 6758819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99046e2c8cf7772367146bb00de77d6b?s=128&d=identicon&r=PG&f=1", "display_name": "sly", "link": "https://stackoverflow.com/users/6758819/sly"}, "is_accepted": false, "score": 1, "last_activity_date": 1472678716, "creation_date": 1472678716, "answer_id": 39259240, "question_id": 39257819, "link": "https://stackoverflow.com/questions/39257819/if-null-then-set-it-to-empty-string-lambda-expression-in-linq/39259240#39259240", "title": "If null then set it to empty string lambda expression in linq", "body": "<p>To remove <code>null</code> references from your list prior to the loop:</p>\n\n<pre><code>list.RemoveAll(s =&gt; s == null);\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 6588745, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2b17ec1721b6ba87041ccc78bd3e9b39?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr P", "link": "https://stackoverflow.com/users/6588745/piotr-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3089, "favorite_count": 0, "accepted_answer_id": 39257991, "answer_count": 3, "score": 0, "last_activity_date": 1472679184, "creation_date": 1472672785, "last_edit_date": 1472674291, "question_id": 39257819, "link": "https://stackoverflow.com/questions/39257819/if-null-then-set-it-to-empty-string-lambda-expression-in-linq", "title": "If null then set it to empty string lambda expression in linq", "body": "<p>Im having a foreach loop that looks like this:   </p>\n\n<pre><code> foreach (var item in listOfFieldNames)\n                {\n    list.Where(s =&gt;  s.GetType().GetProperty(item).GetValue(s, null).ToString().ToLower().Contains(searchString.ToLower()));\n}\n</code></pre>\n\n<p>and it works pretty well, but whenever \"s\" is a null I get nullRefferenceException</p>\n\n<p>I would like to change my s = null into s = \" \" but I don't know how to do it.\nCould you guys help me?\nOr maybe there is a method to skip that null record and continue my loop without getting an exception. That would also help me.</p>\n\n<p>Trying to figure this out for quite some time and can't find the answer anywhere :/\nTried some .DefaultIfEmpty combinations but I don't think I know what to put inside it</p>\n"}, {"tags": ["java", "c#", "encryption"], "comments": [{"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1472672840, "post_id": 39257791, "comment_id": 65851626, "body": "There seems to be a legitimate(but probably a duplicate) question here about how to do encryption in java, but currently, this looks like a code-translation question, and people reflexively downvote and close code translation questions"}, {"owner": {"reputation": 2791, "user_id": 1439733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb03e04f38790a0b3623e03a196542d?s=128&d=identicon&r=PG", "display_name": "Stefan Zobel", "link": "https://stackoverflow.com/users/1439733/stefan-zobel"}, "edited": false, "score": 0, "creation_date": 1472672894, "post_id": 39257791, "comment_id": 65851653, "body": "Care to tell us what <code>new T()</code> is?"}, {"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1472673036, "post_id": 39257791, "comment_id": 65851724, "body": "This is simple CBC encryption with key and IV derived from PBKDF2 with the default number of iterations. It was discussed countless times."}, {"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1472673294, "post_id": 39257791, "comment_id": 65851863, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/27791726/encryption-diff-between-java-and-c-sharp\">Encryption Diff Between Java and C#</a>"}, {"owner": {"reputation": 167, "user_id": 4100205, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9IGbQuOhQVI/AAAAAAAAAAI/AAAAAAAAACo/115l6wg62Fo/photo.jpg?sz=128", "display_name": "Chris Franklin", "link": "https://stackoverflow.com/users/4100205/chris-franklin"}, "edited": false, "score": 0, "creation_date": 1472673641, "post_id": 39257791, "comment_id": 65852052, "body": "Stefan Zobel, I am not sure, as I am weak in C#, I asked some other programmers I know already, and they could not deduce that either."}, {"owner": {"reputation": 167, "user_id": 4100205, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9IGbQuOhQVI/AAAAAAAAAAI/AAAAAAAAACo/115l6wg62Fo/photo.jpg?sz=128", "display_name": "Chris Franklin", "link": "https://stackoverflow.com/users/4100205/chris-franklin"}, "edited": false, "score": 0, "creation_date": 1472673684, "post_id": 39257791, "comment_id": 65852082, "body": "Artjom J, this seems close but not quite, I have seen a bunch that deal with passwords, but that is not necessary here."}, {"owner": {"reputation": 167, "user_id": 4100205, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9IGbQuOhQVI/AAAAAAAAAAI/AAAAAAAAACo/115l6wg62Fo/photo.jpg?sz=128", "display_name": "Chris Franklin", "link": "https://stackoverflow.com/users/4100205/chris-franklin"}, "edited": false, "score": 0, "creation_date": 1472673849, "post_id": 39257791, "comment_id": 65852169, "body": "It looks that way, but I asked the source and got a response of no to that, but they could not provide me any Java samples."}, {"owner": {"reputation": 2791, "user_id": 1439733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb03e04f38790a0b3623e03a196542d?s=128&d=identicon&r=PG", "display_name": "Stefan Zobel", "link": "https://stackoverflow.com/users/1439733/stefan-zobel"}, "edited": false, "score": 0, "creation_date": 1472673876, "post_id": 39257791, "comment_id": 65852184, "body": "&quot;I am not sure, ...&quot; Well, you should see that at the call site of the method. Could be anything (AES, DES, TripleDES, Rijndael, RC2, ...)."}, {"owner": {"reputation": 167, "user_id": 4100205, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9IGbQuOhQVI/AAAAAAAAAAI/AAAAAAAAACo/115l6wg62Fo/photo.jpg?sz=128", "display_name": "Chris Franklin", "link": "https://stackoverflow.com/users/4100205/chris-franklin"}, "edited": false, "score": 0, "creation_date": 1472674031, "post_id": 39257791, "comment_id": 65852264, "body": "If only it would tell me that. That would make life a little easier. I have already spent way too many frustrating hours researching this."}, {"owner": {"reputation": 2791, "user_id": 1439733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb03e04f38790a0b3623e03a196542d?s=128&d=identicon&r=PG", "display_name": "Stefan Zobel", "link": "https://stackoverflow.com/users/1439733/stefan-zobel"}, "edited": false, "score": 1, "creation_date": 1472674302, "post_id": 39257791, "comment_id": 65852412, "body": "You don&#39;t have the caller code and nobody tells you which algo gets used? That&#39;s insane. Only thing you could do then is to try out all SymmetricAlgorithm subclasses on your exampe in C# first."}, {"owner": {"reputation": 167, "user_id": 4100205, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9IGbQuOhQVI/AAAAAAAAAAI/AAAAAAAAACo/115l6wg62Fo/photo.jpg?sz=128", "display_name": "Chris Franklin", "link": "https://stackoverflow.com/users/4100205/chris-franklin"}, "edited": false, "score": 0, "creation_date": 1472674346, "post_id": 39257791, "comment_id": 65852439, "body": "And now you are starting to understand my frustration. I have been at this for weeks."}, {"owner": {"reputation": 2791, "user_id": 1439733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb03e04f38790a0b3623e03a196542d?s=128&d=identicon&r=PG", "display_name": "Stefan Zobel", "link": "https://stackoverflow.com/users/1439733/stefan-zobel"}, "edited": false, "score": 0, "creation_date": 1472674651, "post_id": 39257791, "comment_id": 65852586, "body": "According to the <a href=\"https://msdn.microsoft.com/en-us/library/system.security.cryptography.symmetricalgorithm(v=vs.110).aspx\" rel=\"nofollow noreferrer\">doc</a> there exist only  5 subclasses (I don&#39;t believe that someone who has written this code got into the business of implementing its own). So that&#39;s not hopeless."}, {"owner": {"reputation": 167, "user_id": 4100205, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9IGbQuOhQVI/AAAAAAAAAAI/AAAAAAAAACo/115l6wg62Fo/photo.jpg?sz=128", "display_name": "Chris Franklin", "link": "https://stackoverflow.com/users/4100205/chris-franklin"}, "edited": false, "score": 0, "creation_date": 1472674693, "post_id": 39257791, "comment_id": 65852608, "body": "Each time I try AES, I keep getting exceptions having to do with the fact that either ` initialisation vector must be the same length as block size` or <code>Wrong IV length: must be 16 bytes long</code>."}, {"owner": {"reputation": 167, "user_id": 4100205, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9IGbQuOhQVI/AAAAAAAAAAI/AAAAAAAAACo/115l6wg62Fo/photo.jpg?sz=128", "display_name": "Chris Franklin", "link": "https://stackoverflow.com/users/4100205/chris-franklin"}, "edited": false, "score": 0, "creation_date": 1472675067, "post_id": 39257791, "comment_id": 65852795, "body": "I&#39;ve tried dozens of methods to derive it. One such attempt is <code>IvParameterSpec ivSpec = new IvParameterSpec(salt.getBytes());</code>. I can&#39;t find the right resource to tell me what I am doing wrong. No &quot;ah ha&quot; moments yet."}, {"owner": {"reputation": 167, "user_id": 4100205, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9IGbQuOhQVI/AAAAAAAAAAI/AAAAAAAAACo/115l6wg62Fo/photo.jpg?sz=128", "display_name": "Chris Franklin", "link": "https://stackoverflow.com/users/4100205/chris-franklin"}, "edited": false, "score": 0, "creation_date": 1472675327, "post_id": 39257791, "comment_id": 65852941, "body": "I have added one of my many failed attempts."}, {"owner": {"reputation": 167, "user_id": 4100205, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9IGbQuOhQVI/AAAAAAAAAAI/AAAAAAAAACo/115l6wg62Fo/photo.jpg?sz=128", "display_name": "Chris Franklin", "link": "https://stackoverflow.com/users/4100205/chris-franklin"}, "reply_to_user": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1472675589, "post_id": 39257791, "comment_id": 65853050, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/122343/discussion-between-chris-franklin-and-zaph\">continue this discussion in chat</a>."}, {"owner": {"reputation": 167, "user_id": 4100205, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9IGbQuOhQVI/AAAAAAAAAAI/AAAAAAAAACo/115l6wg62Fo/photo.jpg?sz=128", "display_name": "Chris Franklin", "link": "https://stackoverflow.com/users/4100205/chris-franklin"}, "edited": false, "score": 0, "creation_date": 1472676511, "post_id": 39257791, "comment_id": 65853488, "body": "I did correct the DESKeySpec issue in another attempt , but ended up with the same results. I updated my code above to reflect this. Do you mean I should substitute <code>PBKDF2</code> for the <code>AES</code> when I use <code>SecretKeySpec</code>?"}, {"owner": {"reputation": 2791, "user_id": 1439733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb03e04f38790a0b3623e03a196542d?s=128&d=identicon&r=PG", "display_name": "Stefan Zobel", "link": "https://stackoverflow.com/users/1439733/stefan-zobel"}, "reply_to_user": {"reputation": 248566, "user_id": 3474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ffbf4e85b8ffbae4e9039b9c0cf07bc8?s=128&d=identicon&r=PG", "display_name": "erickson", "link": "https://stackoverflow.com/users/3474/erickson"}, "edited": false, "score": 0, "creation_date": 1472746433, "post_id": 39257791, "comment_id": 65887415, "body": "@erickson The sample that was given to him is correct in the sense that the C# code yields exactly that result. I checked. The algorithm used is 256bit <a href=\"https://msdn.microsoft.com/en-us/library/system.security.cryptography.aesmanaged(v=vs.110).aspx\" rel=\"nofollow noreferrer\">AesManaged</a>."}, {"owner": {"reputation": 2791, "user_id": 1439733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb03e04f38790a0b3623e03a196542d?s=128&d=identicon&r=PG", "display_name": "Stefan Zobel", "link": "https://stackoverflow.com/users/1439733/stefan-zobel"}, "reply_to_user": {"reputation": 248566, "user_id": 3474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ffbf4e85b8ffbae4e9039b9c0cf07bc8?s=128&d=identicon&r=PG", "display_name": "erickson", "link": "https://stackoverflow.com/users/3474/erickson"}, "edited": false, "score": 0, "creation_date": 1472747335, "post_id": 39257791, "comment_id": 65887853, "body": "@erickson I&#39;m just writing down my findings. Would it be ok to post this as a (partial) answer? I&#39;m unable to encrypt to the same result in Java, but I have some information that might help to get him going."}, {"owner": {"reputation": 248566, "user_id": 3474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ffbf4e85b8ffbae4e9039b9c0cf07bc8?s=128&d=identicon&r=PG", "display_name": "erickson", "link": "https://stackoverflow.com/users/3474/erickson"}, "reply_to_user": {"reputation": 2791, "user_id": 1439733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb03e04f38790a0b3623e03a196542d?s=128&d=identicon&r=PG", "display_name": "Stefan Zobel", "link": "https://stackoverflow.com/users/1439733/stefan-zobel"}, "edited": false, "score": 0, "creation_date": 1472748059, "post_id": 39257791, "comment_id": 65888260, "body": "@StefanZobel Yes, that would be good."}, {"owner": {"reputation": 2791, "user_id": 1439733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb03e04f38790a0b3623e03a196542d?s=128&d=identicon&r=PG", "display_name": "Stefan Zobel", "link": "https://stackoverflow.com/users/1439733/stefan-zobel"}, "reply_to_user": {"reputation": 248566, "user_id": 3474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ffbf4e85b8ffbae4e9039b9c0cf07bc8?s=128&d=identicon&r=PG", "display_name": "erickson", "link": "https://stackoverflow.com/users/3474/erickson"}, "edited": false, "score": 0, "creation_date": 1472749181, "post_id": 39257791, "comment_id": 65888858, "body": "@erickson As I see it, the input is 32 bytes (16 characters interpreted as 16bit Windows Unicode characters)"}, {"owner": {"reputation": 248566, "user_id": 3474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ffbf4e85b8ffbae4e9039b9c0cf07bc8?s=128&d=identicon&r=PG", "display_name": "erickson", "link": "https://stackoverflow.com/users/3474/erickson"}, "reply_to_user": {"reputation": 2791, "user_id": 1439733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb03e04f38790a0b3623e03a196542d?s=128&d=identicon&r=PG", "display_name": "Stefan Zobel", "link": "https://stackoverflow.com/users/1439733/stefan-zobel"}, "edited": false, "score": 0, "creation_date": 1472751943, "post_id": 39257791, "comment_id": 65890350, "body": "@StefanZobel Okay, that&#39;s what I was missing. I glossed over that and was using UTF-8."}], "answers": [{"comments": [{"owner": {"reputation": 2791, "user_id": 1439733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb03e04f38790a0b3623e03a196542d?s=128&d=identicon&r=PG", "display_name": "Stefan Zobel", "link": "https://stackoverflow.com/users/1439733/stefan-zobel"}, "reply_to_user": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1472750200, "post_id": 39276979, "comment_id": 65889387, "body": "@zaph Well, the C# test program obviously produces the correct output without doing any Base64 decoding first. And the ivBytes / keyBytes byte[] arrays do have the correct length."}, {"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1472770103, "post_id": 39276979, "comment_id": 65898352, "body": "This whole question is a horrible mess, why not."}, {"owner": {"reputation": 2791, "user_id": 1439733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb03e04f38790a0b3623e03a196542d?s=128&d=identicon&r=PG", "display_name": "Stefan Zobel", "link": "https://stackoverflow.com/users/1439733/stefan-zobel"}, "reply_to_user": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1472770669, "post_id": 39276979, "comment_id": 65898496, "body": "@zaph Not sure what you are talking about?"}, {"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1472771892, "post_id": 39276979, "comment_id": 65898801, "body": "This comment by the OP: &quot;I asked the source and got a response of no to that, but they could not provide me any Java samples&quot;. That is a mess. That is why there is so much guessing. Then there is the unsigned vs signed integers when encrypted data is not an array of integers at all, just 8-bit bytes and displayed much better in hex."}, {"owner": {"reputation": 2791, "user_id": 1439733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb03e04f38790a0b3623e03a196542d?s=128&d=identicon&r=PG", "display_name": "Stefan Zobel", "link": "https://stackoverflow.com/users/1439733/stefan-zobel"}, "reply_to_user": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1472773870, "post_id": 39276979, "comment_id": 65899300, "body": "@zaph Agreed, I can commiserate with him. Bytes are fixed-size integers, it&#39;s just that programming languages can&#39;t agree whether they are signed or not. But you know that :)"}, {"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1472776826, "post_id": 39276979, "comment_id": 65899923, "body": "Wrong, to say it is an integer is to assign an encoding, it is 8-bits and one day you may know that. Oh, and I guess you are thinking an of a  twos compliment integer, not ones complement? Or perhaps it is part of a floating point number. Or a <a href=\"https://en.wikipedia.org/wiki/8-bit_color\" rel=\"nofollow noreferrer\">8-bit color</a> (RRRGGGBB)? Or a 8-bit <a href=\"https://en.wikipedia.org/wiki/Minifloat\" rel=\"nofollow noreferrer\">floating point number</a>. And that a <a href=\"https://en.wikipedia.org/wiki/Byte\" rel=\"nofollow noreferrer\">byte</a> has always been 8-bits? An integer is one way to look at the bits, an applied encoding. Ah grasshopper, you have much to learn."}, {"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1472783540, "post_id": 39276979, "comment_id": 65901400, "body": "Other ways bytes are used: UTF-8 where the most significant bits determine how many bytes make up a code point. The machine  instructions your computer is running generally have bit patterns to indicate the type of instruction. Historically, my first computer I had an 8-bit CPU where the bytes again were in patterns where generally the most significant bits determine the instruction type and other bits were modifiers."}], "tags": [], "owner": {"reputation": 2791, "user_id": 1439733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb03e04f38790a0b3623e03a196542d?s=128&d=identicon&r=PG", "display_name": "Stefan Zobel", "link": "https://stackoverflow.com/users/1439733/stefan-zobel"}, "is_accepted": false, "score": 3, "last_activity_date": 1472748754, "creation_date": 1472748754, "answer_id": 39276979, "question_id": 39257791, "link": "https://stackoverflow.com/questions/39257791/c-encryption-method-to-java/39276979#39276979", "title": "C# encryption method to Java", "body": "<p>I can only give you some partial information to get you going:</p>\n\n<p>The algorithm used is 256bit <a href=\"https://msdn.microsoft.com/en-us/library/system.security.cryptography.aesmanaged(v=vs.110).aspx\" rel=\"nofollow\">AesManaged</a>. The mode is <code>CBC</code> and the padding is <code>PKCS7</code> and the keysize = 256.</p>\n\n<p>The sample values given to you can be shown to be correct with this little test program</p>\n\n<pre><code>static void Main(string[] args)\n{\n    string key = \"6JxI1HOSg7KQj4fJ1Xb3L1T6AVdLZLBAPFSqOjh2UoA=\";\n    string salt = \"FPSJxiSMpAavjKqyGvVe1A==\";\n    string value = \"YourId|YourFacId\";\n\n    string result = Encrypt&lt;AesManaged&gt;(value, key, salt);\n    Console.WriteLine(result);\n    string expected = \"Y5w4A3pDZwTcq+FGyqUMO/mZSr6hSst8qiac9zDbfso9FQQbdTDsKnkKDT7SHl4y\";\n    if (expected.Equals(result))\n    {\n        Console.WriteLine(\"strings are equal\");\n    }\n    else\n    {\n        Console.WriteLine(\"strings are NOT equal!\");\n    }\n}\n</code></pre>\n\n<p>The <code>key</code> and the <code>salt</code> are plain strings (not base-64 encoded). For them, to get the bytes, in Java you have to use</p>\n\n<pre><code>  byte[] saltBytes = salt.getBytes(\"UnicodeLittleUnmarked\");\n  byte[] keyBytes = key.getBytes(\"UTF-8\");\n</code></pre>\n\n<p>The PBKDF2 uses an SHA1 digest and 1000 iterations (I checked this with BouncyCastle's <code>PKCS5S2ParametersGenerator</code>)</p>\n\n<pre><code>  final int iterations = 1000;\n  PKCS5S2ParametersGenerator pbkdf = new PKCS5S2ParametersGenerator(new SHA1Digest());\n  pbkdf.init(keyBytes, saltBytes, iterations);\n  final int keySize = 32 * 8;\n  final int ivSize = 16 * 8;\n  CipherParameters cp = pbkdf.generateDerivedParameters(keySize, ivSize);\n</code></pre>\n\n<p>That gives me the following ivBytes and keyBytes</p>\n\n<pre><code>// Java ivBytes\n// [-33, 102, -108, 66, -46, 89, 122, 102, -63, -15, -92, 66, -88, -29, 67, -59]\n\n// Java keyBytes:\n// [-127, 125, -40, -123, 60, -70, 16, -6, -15, -116, 127, 93, 46, 80, 26, 31, -36, 47, -120, -37, 57, 21, -94, 44, 98, -119, -109, 48, -71, 15, -36, 80]\n</code></pre>\n\n<p>These are the signed equivalents for what I get in the C# code:</p>\n\n<pre><code>// C# ivBytes:\n// [223, 102, 148, 66, 210, 89, 122, 102, 193, 241, 164, 66, 168, 227, 67, 197]\n\n// C# keyBytes:\n// [129, 125, 216, 133, 60, 186, 16, 250, 241, 140, 127, 93, 46, 80, 26, 31, 220, 47, 136, 219, 57, 21, 162, 44, 98, 137, 147, 48, 185, 15, 220, 80]\n</code></pre>\n\n<p>As I read the C# code, the value bytes must also be retrieved as UTF-16 little-endian</p>\n\n<pre><code>byte[] valueBytes = value.getBytes(\"UnicodeLittleUnmarked\");\n</code></pre>\n\n<p>From here on, I can't proceed further. The last thing I can tell you is what the crypted byte array (last step before the base-64 encoding) looks like:</p>\n\n<pre><code>// C# crypted:\n// [99, 156, 56, 3, 122, 67, 103, 4, 220, 171, 225, 70, 202, 165, 12, 59, 249, 153, 74, 190, 161, 74, 203, 124, 170, 38, 156, 247, 48, 219, 126, 202, 61, 21, 4, 27, 117, 48, 236, 42, 121, 10, 13, 62, 210, 30, 94, 50]\n\n// or signed:\n// [99, -100, 56, 3, 122, 67, 103, 4, -36, -85, -31, 70, -54, -91, 12, 59, -7, -103, 74, -66, -95, 74, -53, 124, -86, 38, -100, -9, 48, -37, 126, -54, 61, 21, 4, 27, 117, 48, -20, 42, 121, 10, 13, 62, -46, 30, 94, 50]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2791, "user_id": 1439733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb03e04f38790a0b3623e03a196542d?s=128&d=identicon&r=PG", "display_name": "Stefan Zobel", "link": "https://stackoverflow.com/users/1439733/stefan-zobel"}, "edited": false, "score": 3, "creation_date": 1472761857, "post_id": 39280323, "comment_id": 65895101, "body": "Damn! UnicodeLittle vs. UnicodeLittleUnmarked -- that&#39;s mean :)"}, {"owner": {"reputation": 167, "user_id": 4100205, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9IGbQuOhQVI/AAAAAAAAAAI/AAAAAAAAACo/115l6wg62Fo/photo.jpg?sz=128", "display_name": "Chris Franklin", "link": "https://stackoverflow.com/users/4100205/chris-franklin"}, "reply_to_user": {"reputation": 2791, "user_id": 1439733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb03e04f38790a0b3623e03a196542d?s=128&d=identicon&r=PG", "display_name": "Stefan Zobel", "link": "https://stackoverflow.com/users/1439733/stefan-zobel"}, "edited": false, "score": 0, "creation_date": 1472828528, "post_id": 39280323, "comment_id": 65924706, "body": "It works great! Big thanks to you and @Stefan Zobel for all of the help. I would have never come up with this on my own."}], "tags": [], "owner": {"reputation": 248566, "user_id": 3474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ffbf4e85b8ffbae4e9039b9c0cf07bc8?s=128&d=identicon&r=PG", "display_name": "erickson", "link": "https://stackoverflow.com/users/3474/erickson"}, "is_accepted": true, "score": 3, "last_activity_date": 1472761496, "last_edit_date": 1495540863, "creation_date": 1472761496, "answer_id": 39280323, "question_id": 39257791, "link": "https://stackoverflow.com/questions/39257791/c-encryption-method-to-java/39280323#39280323", "title": "C# encryption method to Java", "body": "<p>Thanks to <a href=\"https://stackoverflow.com/a/39276979/3474\">Stefan</a> and <a href=\"https://dotnetfiddle.net/Zpdwq5\" rel=\"nofollow noreferrer\">a little fiddling,</a> I found that the C# code includes a byte-order mark when encoding the value of the message, but not when encoding the value of the salt.  The equivalent Java code looks like this:</p>\n\n<pre><code>import java.io.UnsupportedEncodingException;\nimport java.nio.charset.StandardCharsets;\nimport java.security.GeneralSecurityException;\nimport java.security.spec.KeySpec;\nimport java.util.Arrays;\nimport java.util.Base64;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\nclass SO39257791\n{\n\n  private static final int KEY_LEN = 256 / 8, BLOCK_LEN = 16, ITERATIONS = 1000;\n\n  public static void main(String... argv)\n    throws Exception\n  {\n    String value = \"YourId|YourFacId\";\n    String key = \"6JxI1HOSg7KQj4fJ1Xb3L1T6AVdLZLBAPFSqOjh2UoA=\";\n    String salt = \"FPSJxiSMpAavjKqyGvVe1A==\";\n    String good = \"Y5w4A3pDZwTcq+FGyqUMO/mZSr6hSst8qiac9zDbfso9FQQbdTDsKnkKDT7SHl4y\";\n\n    String output = encrypt(value, key, salt);\n    if (output.equals(good))\n      System.out.println(\"strings are equal\");\n    else\n      System.out.println(\"strings are NOT equal!\");\n  }\n\n  static final String encrypt(String value, String key, String salt)\n    throws GeneralSecurityException, UnsupportedEncodingException\n  {\n    /* Derive the key, given password and salt. */\n    byte[] s = salt.getBytes(StandardCharsets.UTF_16LE);\n    int dkLen = (KEY_LEN + BLOCK_LEN) * 8;\n    KeySpec spec = new PBEKeySpec(key.toCharArray(), s, ITERATIONS, dkLen);\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(\"PBKDF2WithHmacSHA1\");\n    byte[] dk = factory.generateSecret(spec).getEncoded();\n    SecretKey secret = new SecretKeySpec(Arrays.copyOfRange(dk, 0, KEY_LEN), \"AES\");\n    byte[] iv = Arrays.copyOfRange(dk, KEY_LEN, KEY_LEN + BLOCK_LEN);\n\n    /* Encrypt the message. */\n    Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\");\n    cipher.init(Cipher.ENCRYPT_MODE, secret, new IvParameterSpec(iv));\n    byte[] plaintext = value.getBytes(\"UnicodeLittle\"); /* Use Byte Order Mark */\n    byte[] ciphertext = cipher.doFinal(plaintext);\n\n    return Base64.getEncoder().encodeToString(ciphertext);\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 4100205, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9IGbQuOhQVI/AAAAAAAAAAI/AAAAAAAAACo/115l6wg62Fo/photo.jpg?sz=128", "display_name": "Chris Franklin", "link": "https://stackoverflow.com/users/4100205/chris-franklin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 3, "accepted_answer_id": 39280323, "answer_count": 2, "score": 2, "last_activity_date": 1472761496, "creation_date": 1472672690, "last_edit_date": 1472676547, "question_id": 39257791, "link": "https://stackoverflow.com/questions/39257791/c-encryption-method-to-java", "title": "C# encryption method to Java", "body": "<p>I have a method used to convert a String into an encoded String with a key and a salt in C# that I am trying to create an equivalent for in Java.</p>\n\n<p>The C# method is as follows:</p>\n\n<pre><code>    public static string Encrypt&lt;T&gt;(string Value, string Key, string Salt) where T : SymmetricAlgorithm, new()\n    {\n        DeriveBytes deriveBytes = new Rfc2898DeriveBytes(Key, Encoding.Unicode.GetBytes(Salt));\n\n        SymmetricAlgorithm algorithm = new T();\n        byte[] keyBytes = deriveBytes.GetBytes(algorithm.KeySize &gt;&gt; 3);\n        byte[] ivBytes = deriveBytes.GetBytes(algorithm.BlockSize &gt;&gt; 3);\n\n        ICryptoTransform transform = algorithm.CreateEncryptor(keyBytes, ivBytes);\n\n        using (MemoryStream buffer = new MemoryStream())\n        {\n            using (CryptoStream stream = new CryptoStream(buffer, transform, CryptoStreamMode.Write))\n            {\n                using (StreamWriter writer = new StreamWriter(stream, Encoding.Unicode))\n                {\n                    writer.Write(Value);\n                }\n            }\n\n            return Convert.ToBase64String(buffer.ToArray());\n        }\n    }\n</code></pre>\n\n<p>I have tried many different solutions throughout SO and all over the web with no avail. I even have a sample:</p>\n\n<p><code>value(\"YourId|YourFacId\")</code>,<br>\n<code>key(\"6JxI1HOSg7KQj4fJ1Xb3L1T6AVdLZLBAPFSqOjh2UoA=\")</code>,<br>\n<code>salt(\"FPSJxiSMpAavjKqyGvVe1A==\")</code>  </p>\n\n<p>These all get sent to the above method and come back with the return string of:<br>\n<code>\"Y5w4A3pDZwTcq+FGyqUMO/mZSr6hSst8qiac9zDbfso9FQQbdTDsKnkKDT7SHl4y\"</code>.</p>\n\n<p>I have yet to find anything in SO that matches my issue, so I am looking for help here. Any leads would be appreciated. Thanks.</p>\n\n<p>The attempted link to the other question showed me nothing that I haven't already seen. There are no passwords to deal with in my example.\nHere is one of my many failed attempts at this:</p>\n\n<pre><code>private String encrypt(String user) throws Exception\n{\n    Cipher deCipher;\n    Cipher enCipher;\n    SecretKeySpec key;\n    IvParameterSpec ivSpec;\n    String plainKey = \"6JxI1HOSg7KQj4fJ1Xb3L1T6AVdLZLBAPFSqOjh2UoA=\";\n    String salt = \"FPSJxiSMpAavjKqyGvVe1A==\";\n    String result = \"\";\n    ivSpec = new IvParameterSpec(salt.getBytes());\n    key = new SecretKeySpec(plainkey.getBytes(), \"AES\");\n    enCipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\");\n    byte[] input = convertToByteArray(user);\n    enCipher.init(Cipher.ENCRYPT_MODE, key, ivSpec);\n\n    return new String(enCipher.doFinal(input).toString());\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "dbcontext", "actionfilterattribute"], "comments": [{"owner": {"reputation": 14730, "user_id": 782754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O0uxL.jpg?s=128&g=1", "display_name": "Adrian Iftode", "link": "https://stackoverflow.com/users/782754/adrian-iftode"}, "edited": false, "score": 1, "creation_date": 1472674925, "post_id": 39257756, "comment_id": 65852720, "body": "In your case using Castle Windsor or Ninject is like trying to hit a pin with the Thor&#39;s hammer."}], "answers": [{"comments": [{"owner": {"reputation": 1614, "user_id": 155110, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/eb74da854802b4a34022873828fb746e?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/155110/brad"}, "edited": false, "score": 0, "creation_date": 1472673956, "post_id": 39257978, "comment_id": 65852219, "body": "This is the solution I&#39;m leaning towards as I said in my question.  However, is there any concerns about the variables since there is only one instance of an ActionFilterAttribute per decorated method?  Could two simultaneous requests to the same method will result in issues with these variables?"}, {"owner": {"reputation": 3102, "user_id": 1472685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aca139009aafcb5edf6897203cb2633?s=128&d=identicon&r=PG", "display_name": "Tim Copenhaver", "link": "https://stackoverflow.com/users/1472685/tim-copenhaver"}, "reply_to_user": {"reputation": 1614, "user_id": 155110, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/eb74da854802b4a34022873828fb746e?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/155110/brad"}, "edited": false, "score": 0, "creation_date": 1473802525, "post_id": 39257978, "comment_id": 66277852, "body": "That&#39;s really a question for you..they&#39;re your classes. If they keep static or global state internally, then yes - that might be an issue. As long as your classes are designed well and explicitly declare dependencies, then you shouldn&#39;t have any issues."}], "tags": [], "owner": {"reputation": 3102, "user_id": 1472685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aca139009aafcb5edf6897203cb2633?s=128&d=identicon&r=PG", "display_name": "Tim Copenhaver", "link": "https://stackoverflow.com/users/1472685/tim-copenhaver"}, "is_accepted": false, "score": 0, "last_activity_date": 1472673375, "creation_date": 1472673375, "answer_id": 39257978, "question_id": 39257756, "link": "https://stackoverflow.com/questions/39257756/mvc-actionfilterattribute-dbcontext-disposed-solutions/39257978#39257978", "title": "MVC ActionFilterAttribute DbContext Disposed Solutions", "body": "<p>The problem is with your two fields, which you initialize and keep:</p>\n\n<pre><code>private readonly ApplicationGroupManager _groupManager = new ApplicationGroupManager();\nprivate readonly ActionPermissionManager _permissionManager = new ActionPermissionManager();\n</code></pre>\n\n<p>Presumably at least one of these has a DbContext instance which is also initialized in a constructor or in a field/property initializer. I obviously don't know the internal workings of these classes, but it doesn't look like they're used by any other methods. They really should be declared within the method instead of class fields:</p>\n\n<pre><code>public override void OnActionExecuting(ActionExecutingContext filterContext)\n{\n    ApplicationGroupManager groupManager = new ApplicationGroupManager();\n    ActionPermissionManager permissionManager = new ActionPermissionManager();\n\n    // The rest of your code here\n}\n</code></pre>\n\n<p>This will also fix the error you're seeing. Since the Manager instances (and their DbContext members) are re-initialized for each request, you don't have to worry about the code trying to re-use disposed instances.</p>\n"}, {"comments": [{"owner": {"reputation": 1614, "user_id": 155110, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/eb74da854802b4a34022873828fb746e?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/155110/brad"}, "edited": false, "score": 0, "creation_date": 1472674801, "post_id": 39258237, "comment_id": 65852661, "body": "This is an interesting solution... Thanks."}, {"owner": {"reputation": 3102, "user_id": 1472685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aca139009aafcb5edf6897203cb2633?s=128&d=identicon&r=PG", "display_name": "Tim Copenhaver", "link": "https://stackoverflow.com/users/1472685/tim-copenhaver"}, "edited": false, "score": 0, "creation_date": 1473802682, "post_id": 39258237, "comment_id": 66277916, "body": "Note that this still results in re-initializing your manager classes per-request. It is effectively the same effect as my solution below, but this solution is better if you can&#39;t modify the underlying filter (or you just really don&#39;t want to for some reason)."}], "tags": [], "owner": {"reputation": 14730, "user_id": 782754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O0uxL.jpg?s=128&g=1", "display_name": "Adrian Iftode", "link": "https://stackoverflow.com/users/782754/adrian-iftode"}, "is_accepted": false, "score": 0, "last_activity_date": 1472675245, "last_edit_date": 1472675245, "creation_date": 1472674329, "answer_id": 39258237, "question_id": 39257756, "link": "https://stackoverflow.com/questions/39257756/mvc-actionfilterattribute-dbcontext-disposed-solutions/39258237#39258237", "title": "MVC ActionFilterAttribute DbContext Disposed Solutions", "body": "<p>An alternative is to create a proxy filter class which will instantiate and wire the actual filter.</p>\n\n<pre><code>public class PermissionFilterProxy : ActionFilterAttribute\n    {\n        public override void OnActionExecuting(ActionExecutingContext filterContext)\n        {\n            // create and wire the actual filter\n            // so in this way its lifetime is handled by us\n            PermissionFilter permissionFilter = new PermissionFilter();\n            permissionFilter.OnActionExecuting(filterContext);\n            base.OnActionExecuting(filterContext);\n\n        }\n    }\n</code></pre>\n\n<p>Instead of <code>PermissionFilter</code>, you will configure (add) now this proxy.  </p>\n"}], "owner": {"reputation": 1614, "user_id": 155110, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/eb74da854802b4a34022873828fb746e?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/155110/brad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 565, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1472675245, "creation_date": 1472672529, "question_id": 39257756, "link": "https://stackoverflow.com/questions/39257756/mvc-actionfilterattribute-dbcontext-disposed-solutions", "title": "MVC ActionFilterAttribute DbContext Disposed Solutions", "body": "<p>I currently have the following ActionFilterAttribute in my MVC project.  It works fine for the first request, but subsequent requests return a message that the DbContext is disposed.</p>\n\n<pre><code>public class PermissionFilter : ActionFilterAttribute\n{\n    private readonly ApplicationGroupManager _groupManager = new ApplicationGroupManager();\n    private readonly ActionPermissionManager _permissionManager = new ActionPermissionManager();\n\n    public override void OnActionExecuting(ActionExecutingContext filterContext)\n    {\n        var request = filterContext.HttpContext.Request;\n        var response = filterContext.HttpContext.Response;\n        if (request.IsAjaxRequest())\n        {\n            #region Preventing caching of ajax request in IE browser\n\n            response.Cache.SetExpires(DateTime.UtcNow.AddDays(-1));\n            response.Cache.SetValidUntilExpires(false);\n            response.Cache.SetCacheability(HttpCacheability.NoCache);\n            response.Cache.SetNoStore();\n\n            #endregion Preventing caching of ajax request in IE browser\n        }\n        var currentAreaName = filterContext.RequestContext.RouteData.DataTokens[\"area\"];\n        var currentActionName = filterContext.ActionDescriptor.ActionName;\n        var currentControllerName = filterContext.ActionDescriptor.ControllerDescriptor.ControllerName;\n        var userId = HttpContext.Current.User.Identity.GetUserId&lt;int&gt;();\n\n        if (!_groupManager.UserHasAdministratorAccess(userId))\n        {\n            if (!_permissionManager.HasPermission((currentAreaName == null ? String.Empty : currentAreaName.ToString()), currentControllerName, currentActionName, userId))\n            {\n                filterContext.Result = new RedirectToRouteResult(new RouteValueDictionary { { \"controller\", \"Account\" }, { \"action\", \"Login\" } });\n            }\n        }\n\n        base.OnActionExecuting(filterContext);\n    }\n}\n</code></pre>\n\n<p>I've read enough that realize this is an issue with the following change that was introduced in MVC3</p>\n\n<blockquote>\n  <p>Breaking Changes: In previous versions of ASP.NET MVC, action filters\n  are create per request except in a few cases. This behavior was never\n  a guaranteed behavior but merely an implementation detail and the\n  contract for filters was to consider them stateless. In ASP.NET MVC 3,\n  filters are cached more aggressively. Therefore, any custom action\n  filters which improperly store instance state might be broken.</p>\n</blockquote>\n\n<p>I'm unsure of how best to resolve this issue.  I considered moving my two private readonly fields into the OnActionExecuting piece which I believe would solve the issue, but I'm worried about multi-threading and if there would be issues with that implementation.  </p>\n\n<p>It seems many people have got around this problem using Castle Windsor or Ninject but those are outside my level of expertise and even after going through the Windsor tutorial (<a href=\"https://github.com/castleproject/Windsor/blob/master/docs/mvc-tutorial-intro.md\" rel=\"nofollow\">https://github.com/castleproject/Windsor/blob/master/docs/mvc-tutorial-intro.md</a>) I'm unable to understand what exactly I need to do.</p>\n"}, {"tags": ["c#", "excel"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1472672941, "post_id": 39257686, "comment_id": 65851680, "body": "How would you merge ranges from different files? What do you expect that would accomplish? Do you just want to sum the numbers from them?"}, {"owner": {"reputation": 1164, "user_id": 3110920, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bca24c0bfed04fdb620388f3b8f109d0?s=128&d=identicon&r=PG&f=1", "display_name": "Illorian", "link": "https://stackoverflow.com/users/3110920/illorian"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1472673131, "post_id": 39257686, "comment_id": 65851778, "body": "@mason I don&#39;t need to merge data, only concatenate two ranges. The data has equal structure."}, {"owner": {"reputation": 1164, "user_id": 3110920, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bca24c0bfed04fdb620388f3b8f109d0?s=128&d=identicon&r=PG&f=1", "display_name": "Illorian", "link": "https://stackoverflow.com/users/3110920/illorian"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1472673596, "post_id": 39257686, "comment_id": 65852028, "body": "@mason rewrite question"}, {"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 0, "creation_date": 1472675414, "post_id": 39257686, "comment_id": 65852980, "body": "What&#39;s some sample input and what&#39;s the expected sample output?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6780571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97ec85c9ecb5c695e716f7fd9948aedb?s=128&d=identicon&r=PG&f=1", "display_name": "chris", "link": "https://stackoverflow.com/users/6780571/chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1472676987, "creation_date": 1472676987, "answer_id": 39258863, "question_id": 39257686, "link": "https://stackoverflow.com/questions/39257686/merge-ranges-from-excel-file/39258863#39258863", "title": "Merge Ranges from Excel file", "body": "<p>You could convert the cell values to strings and concatenate the strings. </p>\n\n<pre><code>string s1 = range1.Value2.ToString();\nstring s2 = range2.Value2.ToString();\nstring s3 = s1 + s2;\n</code></pre>\n"}], "owner": {"reputation": 1164, "user_id": 3110920, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bca24c0bfed04fdb620388f3b8f109d0?s=128&d=identicon&r=PG&f=1", "display_name": "Illorian", "link": "https://stackoverflow.com/users/3110920/illorian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1472676987, "creation_date": 1472672209, "last_edit_date": 1472673581, "question_id": 39257686, "link": "https://stackoverflow.com/questions/39257686/merge-ranges-from-excel-file", "title": "Merge Ranges from Excel file", "body": "<p>I have few files with equal structure. I read cell from then and I need to concatenate them.</p>\n\n<p>For example:  </p>\n\n<pre><code>    using MOI = Microsoft.Office.Interop.Excel;\n\n    MOI.Range range1 = GetCellFormFile(\"file1\");\n    MOI.Range range2 = GetCellFormFile(\"file2\");\n    MOI.Range total = ???\n</code></pre>\n"}, {"tags": ["c#", "ado.net"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1472672117, "post_id": 39257641, "comment_id": 65851297, "body": "Write your own SqlCommand and assign it to the UpdateCommand manually"}, {"owner": {"reputation": 71432, "user_id": 41543, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/03d354e2abf7ffcdec3e42528d1cd4a8?s=128&d=identicon&r=PG", "display_name": "JL.", "link": "https://stackoverflow.com/users/41543/jl"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1472672259, "post_id": 39257641, "comment_id": 65851373, "body": "@Steve, this is coming from a grid, so how would I know what to update. I would assume the dataTable has some ordinal rownumber sync with the db to pull this off?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1472672581, "post_id": 39257641, "comment_id": 65851500, "body": "But do you have any unique field present in your query? If you don&#39;t have a primarykey you could still create an update command if there is some field in your table that uniquely identifies the record."}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 3, "creation_date": 1472672661, "post_id": 39257641, "comment_id": 65851540, "body": "Why don&#39;t you have a primary key? In order to work with the data, you need a way to uniquely identify each row, which is what a primary key provides."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1472672814, "post_id": 39257641, "comment_id": 65851615, "body": "<a href=\"http://stackoverflow.com/questions/3567552/table-doesnt-have-a-primary-key\" title=\"table doesnt have a primary key\">stackoverflow.com/questions/3567552/&hellip;</a>"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 1, "creation_date": 1472674476, "post_id": 39257641, "comment_id": 65852507, "body": "At least <i>set of all feileds</i> is your primary key. Isn&#39;t it? If yes, then you can write INSERT, UPDATE, DELETE command yourself in a way which can be used by <code>SqlDataAdapter</code>."}], "owner": {"reputation": 71432, "user_id": 41543, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/03d354e2abf7ffcdec3e42528d1cd4a8?s=128&d=identicon&r=PG", "display_name": "JL.", "link": "https://stackoverflow.com/users/41543/jl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 596, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1472675548, "creation_date": 1472672000, "last_edit_date": 1472675548, "question_id": 39257641, "link": "https://stackoverflow.com/questions/39257641/update-command-on-a-table-without-a-primary-key", "title": "Update command on a table without a primary key", "body": "<p>I have a table without a primary key, </p>\n\n<p>I'm trying to use a <code>SqlDataAdapter</code> to update the table:</p>\n\n<pre><code>public void Update(DataTable dataTable)\n{\n     SqlDataAdapter sqlDa = new SqlDataAdapter();\n     string query = $\"select * from {dataTable.TableName}\";\n     sqlDa.SelectCommand = new SqlCommand(query, _internalConnection);\n     SqlCommandBuilder cb = new SqlCommandBuilder(sqlDa);\n     sqlDa.UpdateCommand = cb.GetUpdateCommand();\n     sqlDa.Update(dataTable);\n     sqlDa.Dispose();\n}\n</code></pre>\n\n<p>Clearly this won't work, because this requires a primary key. But what if I don't have a primary key? I can populate my DataGridView just fine, but when it comes to updating - how exactly can I do this?</p>\n"}, {"tags": ["c#", "windows", "winforms", "colors", "settings"], "comments": [{"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1472671897, "post_id": 39257539, "comment_id": 65851190, "body": "When asking questions like this, it&#39;s helpful to mention what type of application you&#39;re creating. The answer is very likely different depending on which framework you&#39;re using. C# is a language, not a framework."}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1472672182, "post_id": 39257539, "comment_id": 65851328, "body": "Hmm yeah, the C# language always uses the .NET Framework. That isn&#39;t specific enough, either. You need to indicate if it&#39;s WinForms, WPF, UWP, etc."}, {"owner": {"reputation": 409, "user_id": 5799596, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/LoFmh.png?s=128&g=1", "display_name": "Klink45", "link": "https://stackoverflow.com/users/5799596/klink45"}, "reply_to_user": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1472672431, "post_id": 39257539, "comment_id": 65851439, "body": "If I am using the Windows Form Application in Visual Studio 2015, would that be WinForms?"}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1472725099, "post_id": 39257539, "comment_id": 65872114, "body": "Yes, Windows Forms == WinForms. We have a tag for that, so please use it on future questions. The question I closed this as a duplicate of assumes WPF. The logic is identical, and the code in the top half of BoltClock&#39;s answer is the same. However, the bottom part, that shows a demonstration of interacting with the window is more complicated than it needs to be. WinForms actually makes this simpler, because you can obtain a native window handle (HWND) directly."}], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 5799596, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/LoFmh.png?s=128&g=1", "display_name": "Klink45", "link": "https://stackoverflow.com/users/5799596/klink45"}, "edited": false, "score": 0, "creation_date": 1472672209, "post_id": 39257612, "comment_id": 65851341, "body": "&quot;&#39;Form1&#39; does not contain a definition for &#39;Resources&#39; and no extension method &#39;Resources&#39; accepting a first argument of type &#39;Form1&#39; could be found (are you missing a using directive or an assembly reference?)&quot;"}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1472725128, "post_id": 39257612, "comment_id": 65872140, "body": "It only works in UWP apps. Klink is writing a WinForms app (though he didn&#39;t mention it to start with, so you couldn&#39;t have known). That&#39;s why it doesn&#39;t work."}], "tags": [], "owner": {"reputation": 13, "user_id": 6761828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65be48ac1f83f59199141b62e8b71767?s=128&d=identicon&r=PG&f=1", "display_name": "flakeyjake", "link": "https://stackoverflow.com/users/6761828/flakeyjake"}, "is_accepted": false, "score": 0, "last_activity_date": 1472677201, "last_edit_date": 1472677201, "creation_date": 1472671840, "answer_id": 39257612, "question_id": 39257539, "link": "https://stackoverflow.com/questions/39257539/get-the-users-accent-color-winform-c/39257612#39257612", "title": "Get the user&#39;s accent color WinForm C#?", "body": "<p>Try this, worked for me on a Windows 10 VM:</p>\n\n<pre><code>var color = (Color)this.Resources[\"SystemAccentColor\"];\n</code></pre>\n\n<p>Here\u00b4s the <a href=\"https://social.msdn.microsoft.com/Forums/windowsapps/en-US/8d3f899c-2a24-4beb-b17f-24f620ed7f46/uwp-c-how-to-detect-win10-accent-color-in-code?forum=wpdevelop\" rel=\"nofollow\">source.</a></p>\n"}], "owner": {"reputation": 409, "user_id": 5799596, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/LoFmh.png?s=128&g=1", "display_name": "Klink45", "link": "https://stackoverflow.com/users/5799596/klink45"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1027, "favorite_count": 0, "closed_date": 1472671863, "answer_count": 1, "score": 0, "last_activity_date": 1472677201, "creation_date": 1472671578, "last_edit_date": 1472672388, "question_id": 39257539, "link": "https://stackoverflow.com/questions/39257539/get-the-users-accent-color-winform-c", "closed_reason": "Duplicate", "title": "Get the user&#39;s accent color WinForm C#?", "body": "<p>I want to get the accent color the user has selected for their PC and use it for my application, much like how Microsoft makes the start button, menus, window colors, etc. match it. How can I do this?</p>\n\n<p>I'm talking about this color, by the way:</p>\n\n<p><a href=\"https://i.stack.imgur.com/En63S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/En63S.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", ".net", "cookies", "asp.net-web-api", "actionfilterattribute"], "comments": [{"owner": {"reputation": 6413, "user_id": 5555803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4823cf23548ba1e4634ad67e78468e67?s=128&d=identicon&r=PG&f=1", "display_name": "Orkhan Alikhanov", "link": "https://stackoverflow.com/users/5555803/orkhan-alikhanov"}, "edited": false, "score": 0, "creation_date": 1472673877, "post_id": 39257531, "comment_id": 65852185, "body": "Is your question about MVC or WebApi project? Please add relevant tag. It seems to be about WebApi though."}, {"owner": {"reputation": 589, "user_id": 5661048, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/535f66d832e4f118fc590f1487076490?s=128&d=identicon&r=PG&f=1", "display_name": "Nat Webb", "link": "https://stackoverflow.com/users/5661048/nat-webb"}, "reply_to_user": {"reputation": 6413, "user_id": 5555803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4823cf23548ba1e4634ad67e78468e67?s=128&d=identicon&r=PG&f=1", "display_name": "Orkhan Alikhanov", "link": "https://stackoverflow.com/users/5555803/orkhan-alikhanov"}, "edited": false, "score": 0, "creation_date": 1472674144, "post_id": 39257531, "comment_id": 65852327, "body": "I knew I forgot one. Added asp.net-web-api tag, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 589, "user_id": 5661048, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/535f66d832e4f118fc590f1487076490?s=128&d=identicon&r=PG&f=1", "display_name": "Nat Webb", "link": "https://stackoverflow.com/users/5661048/nat-webb"}, "edited": false, "score": 0, "creation_date": 1472674293, "post_id": 39257721, "comment_id": 65852409, "body": "I get &quot;&#39;HttpActionExecutedContext&#39; does not contain a definition for &#39;RequestContext&#39;&quot; when I try to do this; perhaps this is an MVC solution that doesn&#39;t work in WebAPI?"}, {"owner": {"reputation": 6413, "user_id": 5555803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4823cf23548ba1e4634ad67e78468e67?s=128&d=identicon&r=PG&f=1", "display_name": "Orkhan Alikhanov", "link": "https://stackoverflow.com/users/5555803/orkhan-alikhanov"}, "edited": false, "score": 0, "creation_date": 1472674429, "post_id": 39257721, "comment_id": 65852481, "body": "This answer seems to be for MVC project, while question is about WebApi. But it is not your fault, the author added neither of tags."}, {"owner": {"reputation": 6413, "user_id": 5555803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4823cf23548ba1e4634ad67e78468e67?s=128&d=identicon&r=PG&f=1", "display_name": "Orkhan Alikhanov", "link": "https://stackoverflow.com/users/5555803/orkhan-alikhanov"}, "edited": false, "score": 0, "creation_date": 1472694101, "post_id": 39257721, "comment_id": 65858748, "body": "null checking can be simplified as<code>var value = cookie?.Value ?? &quot;&quot;;</code>"}], "tags": [], "owner": {"reputation": 818, "user_id": 928029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/126560b7d80c9e9eb47c6687fb248d3a?s=128&d=identicon&r=PG", "display_name": "dumdum", "link": "https://stackoverflow.com/users/928029/dumdum"}, "is_accepted": false, "score": 2, "last_activity_date": 1472672362, "creation_date": 1472672362, "answer_id": 39257721, "question_id": 39257531, "link": "https://stackoverflow.com/questions/39257531/is-there-a-better-way-to-get-a-cookie-value-in-actionfilterattribute/39257721#39257721", "title": "Is there a better way to get a cookie value in ActionFilterAttribute?", "body": "<pre><code>var cookie = actionContext.RequestContext.HttpContext.Request.Cookies[\"NameOfTheCookieIWant\"];\nvar value = cookie == null ? \"\" : cookie.Value\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6413, "user_id": 5555803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4823cf23548ba1e4634ad67e78468e67?s=128&d=identicon&r=PG&f=1", "display_name": "Orkhan Alikhanov", "link": "https://stackoverflow.com/users/5555803/orkhan-alikhanov"}, "reply_to_user": {"reputation": 589, "user_id": 5661048, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/535f66d832e4f118fc590f1487076490?s=128&d=identicon&r=PG&f=1", "display_name": "Nat Webb", "link": "https://stackoverflow.com/users/5661048/nat-webb"}, "edited": false, "score": 1, "creation_date": 1472675177, "post_id": 39257871, "comment_id": 65852854, "body": "Here is a <a href=\"https://github.com/datafile4/book-store/blob/beta/BookStore/BookStore/Controllers/Attributes.cs\" rel=\"nofollow noreferrer\">link</a> to a sample WebApi project that my friends and I are currently working on which is for only learning  purposes. It is on development phase for now but I think you&#39;ll find it useful."}], "tags": [], "owner": {"reputation": 6413, "user_id": 5555803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4823cf23548ba1e4634ad67e78468e67?s=128&d=identicon&r=PG&f=1", "display_name": "Orkhan Alikhanov", "link": "https://stackoverflow.com/users/5555803/orkhan-alikhanov"}, "is_accepted": true, "score": 3, "last_activity_date": 1472816718, "last_edit_date": 1472816718, "creation_date": 1472672963, "answer_id": 39257871, "question_id": 39257531, "link": "https://stackoverflow.com/questions/39257531/is-there-a-better-way-to-get-a-cookie-value-in-actionfilterattribute/39257871#39257871", "title": "Is there a better way to get a cookie value in ActionFilterAttribute?", "body": "<pre><code>cookie = actionContext.Request.Headers.GetCookies(\"NameOfTheCookieIWant\").FirstOrDefault();\n\nif (cookie != null)\n{\n    string val = cookie[\"NameOfTheCookieIWant\"].Value;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 851, "user_id": 3657925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100004154013255/picture?type=large", "display_name": "DonO", "link": "https://stackoverflow.com/users/3657925/dono"}, "is_accepted": false, "score": 0, "last_activity_date": 1472673117, "creation_date": 1472673117, "answer_id": 39257912, "question_id": 39257531, "link": "https://stackoverflow.com/questions/39257531/is-there-a-better-way-to-get-a-cookie-value-in-actionfilterattribute/39257912#39257912", "title": "Is there a better way to get a cookie value in ActionFilterAttribute?", "body": "<p>I would say write a wrapper class or a utility function for getting the cookie values especially if you have to do this over and over.</p>\n"}], "owner": {"reputation": 589, "user_id": 5661048, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/535f66d832e4f118fc590f1487076490?s=128&d=identicon&r=PG&f=1", "display_name": "Nat Webb", "link": "https://stackoverflow.com/users/5661048/nat-webb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3248, "favorite_count": 0, "accepted_answer_id": 39257871, "answer_count": 3, "score": 1, "last_activity_date": 1472816718, "creation_date": 1472671552, "last_edit_date": 1472674127, "question_id": 39257531, "link": "https://stackoverflow.com/questions/39257531/is-there-a-better-way-to-get-a-cookie-value-in-actionfilterattribute", "title": "Is there a better way to get a cookie value in ActionFilterAttribute?", "body": "<p>I have an ActionFilterAttribute that needs to get a cookie value from the request. Here's the relevant code:</p>\n\n<pre><code>List&lt;CookieState&gt; cookies = actionContext.Request.Headers.GetCookies(\"NameOfTheCookieIWant\").FirstOrDefault().Cookies.ToList();\n\nif (cookies == null)\n{\n    throw new ArgumentNullException(\"cookie\");\n}\n\nstring value = \"\";\ncookies.ForEach(cookie =&gt; {\n    if (cookie.Name == \"NameOfTheCookieIWant\") {\n        value = cookie.Value;\n    }\n});\n</code></pre>\n\n<p>So I have to go into the headers and get the cookie header that contains the name of the cookie I want. But this gives me a collection of CookieHeaderValues, so I have to take the first of these, which itself contains a Cookies property which is a collection of CookieStates. I turn this collection into a list and run a forEach on it until I find the CookieState whose name matches the name of the cookie I want, then save off the value of that CookieState.</p>\n\n<p>It seems crazy to me that I need to go through so much just to get a cookie value. Surely there's a better, more direct way to get one particular cookie, whose name I know, and its value?</p>\n"}, {"tags": ["c#", "wpf", "mvvm", "binding", "observablecollection"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 0, "creation_date": 1472673403, "post_id": 39257530, "comment_id": 65851912, "body": "Multidupe.  OC doesn&#39;t listen to INPC of its children.  You have to manage this."}], "answers": [{"comments": [{"owner": {"reputation": 1848, "user_id": 1513770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49220059df38f9ab17fbcebdbcc1228e?s=128&d=identicon&r=PG", "display_name": "NappingRabbit", "link": "https://stackoverflow.com/users/1513770/nappingrabbit"}, "edited": false, "score": 0, "creation_date": 1535369928, "post_id": 39257694, "comment_id": 91027184, "body": "not sure why this is considered ugly, seems rational to me.  +1"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "reply_to_user": {"reputation": 1848, "user_id": 1513770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49220059df38f9ab17fbcebdbcc1228e?s=128&d=identicon&r=PG", "display_name": "NappingRabbit", "link": "https://stackoverflow.com/users/1513770/nappingrabbit"}, "edited": false, "score": 0, "creation_date": 1535370857, "post_id": 39257694, "comment_id": 91027731, "body": "@NappingRabbit It\u2019s ugly because there are so many events and handlers involved in keeping a single value up to date. It\u2019s rational, certainly: It\u2019s your only option, and it works. But it\u2019s not pretty."}], "tags": [], "owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "is_accepted": true, "score": 3, "last_activity_date": 1472672243, "creation_date": 1472672243, "answer_id": 39257694, "question_id": 39257530, "link": "https://stackoverflow.com/questions/39257530/bind-to-total-of-an-items-field-in-an-observablecollection-and-update-when-value/39257694#39257694", "title": "Bind to total of an items field in an ObservableCollection and update when values change", "body": "<p>Write a readonly property in the parent viewmodel that calculates the value. </p>\n\n<pre><code>public double SortieHours =&gt; Sorties.Sum(x =&gt; x.Hours);\n</code></pre>\n\n<p>Parent viewmodel handles <code>PropertyChanged</code> on each item in <code>Sorties</code>, and <code>CollectionChanged</code> on <code>Sorties</code>. In <code>CollectionChanged</code> on <code>Sorties</code>, you have to add/remove <code>PropertyChanged</code> handlers from <code>Sortie</code> instances as they're added and removed. When you get a new <code>Sorties</code> collection (you might want to make that setter private for this reason), you need to toss out all the old handlers and add new ones. </p>\n\n<p>Now, whenever a <code>Sortie</code> is added or removed, or its <code>Hours</code> changes, or somebody hands you a new <code>Sorties</code> collection, raise <code>PropertyChanged</code>:</p>\n\n<pre><code>OnPropertyChanged(nameof(SortieHours));\n</code></pre>\n\n<p>And bind that property to whatever you like in the XAML.</p>\n\n<p>This looks horrible (because it is), but what else are you going to do? </p>\n\n<p>A lot of people would advise you to give <code>Sortie</code> an <code>HoursChanged</code> event. <code>PropertyChanged</code> is annoying for this type of case because it can get raised for multiple different properties and you have to check which one. And it's a magic string thing. </p>\n\n<p>Above is C#6. For C#5,</p>\n\n<pre><code>public double SortieHours { get { return Sorties.Sum(x =&gt; x.Hours); } }\n\nOnPropertyChanged(\"SortieHours\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 340, "user_id": 3007313, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/aLYhO.png?s=128&g=1", "display_name": "Red_Phoenix", "link": "https://stackoverflow.com/users/3007313/red-phoenix"}, "is_accepted": false, "score": 1, "last_activity_date": 1533672246, "creation_date": 1533672246, "answer_id": 51734590, "question_id": 39257530, "link": "https://stackoverflow.com/questions/39257530/bind-to-total-of-an-items-field-in-an-observablecollection-and-update-when-value/51734590#51734590", "title": "Bind to total of an items field in an ObservableCollection and update when values change", "body": "<p>I found this <a href=\"https://www.codeproject.com/Tips/694370/How-to-Listen-to-Property-Chang\" rel=\"nofollow noreferrer\">link</a> to be a big help.  It creates a base class for ObservableCollections to \"AutoMagicly\" add the PropertyChanged events of the collection items to the CollectionChanged event.</p>\n"}], "owner": {"reputation": 1526, "user_id": 3133249, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/573552075/picture?type=large", "display_name": "Tronald", "link": "https://stackoverflow.com/users/3133249/tronald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 989, "favorite_count": 0, "accepted_answer_id": 39257694, "answer_count": 2, "score": 0, "last_activity_date": 1533672246, "creation_date": 1472671548, "question_id": 39257530, "link": "https://stackoverflow.com/questions/39257530/bind-to-total-of-an-items-field-in-an-observablecollection-and-update-when-value", "title": "Bind to total of an items field in an ObservableCollection and update when values change", "body": "<p>I have an ObservableCollection that populates a datagrid in WPF. I need to bind to the total of the \"Hours\" column, and have that total update when a value in the \"Hours\" column is changed. I can achieve this by listening to the \"LostFocus\" event and running a function, but would like to try my hand at binding.</p>\n\n<p>The issue I am running into, is the NotifyPropertyChanged event will not fire when an items property in the collection is changed. </p>\n\n<p>The sortie class NotifyPropertyChanged will fire, but the collection doesn't interpret that as its own property changing. How can I listen to the sortie PropertyChanged from the collection in the missions class?</p>\n\n<p>My Models</p>\n\n<pre><code>public class Mission : INotifyPropertyChanged\n{\n    private ObservableCollection&lt;Sortie&gt; sorties;\n    public ObservableCollection&lt;Sortie&gt; Sorties\n    {            \n        get { return this.sorties; }\n        set\n        {\n\n            if (this.sorties != value)\n            {\n                this.sorties = value;                   \n                this.NotifyPropertyChanged(\"Sorties\");   \n            }\n        }  \n    } \n    public event PropertyChangedEventHandler PropertyChanged;\n    public void NotifyPropertyChanged(string propName)\n    {\n        if (this.PropertyChanged != null)\n        {\n            this.PropertyChanged(this, new PropertyChangedEventArgs(propName));\n        }\n    }\n} \n\npublic class Sortie : INotifyPropertyChanged\n{\n    private double hours;\n    public double Hours\n    {\n         get {return this.hours;}\n         set\n         {\n            if (this.hours != value)\n            {\n                this.hours = value;\n                this.NotifyPropertyChanged(\"Hours\");\n            }\n         }\n    }\n    public event PropertyChangedEventHandler PropertyChanged;\n    public void NotifyPropertyChanged(string propName)\n    {\n        if (this.PropertyChanged != null)\n        {\n            this.PropertyChanged(this, new PropertyChangedEventArgs(propName));\n        }\n    }\n}\n</code></pre>\n\n<p>I didn't bother posting my XAML or View Model, as I am confident I can solve the issue once I learn how to trigger a PropertyChanged event for the collection and I wanted to spare you having to read through massive amounts of code. If you believe it is needed however, let me know.</p>\n"}, {"tags": ["c#", "prism", "mef"], "answers": [{"comments": [{"owner": {"reputation": 29909, "user_id": 347172, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8UvnG.jpg?s=128&g=1", "display_name": "myermian", "link": "https://stackoverflow.com/users/347172/myermian"}, "edited": false, "score": 0, "creation_date": 1473376681, "post_id": 39372158, "comment_id": 66129043, "body": "The code suggested works; It&#39;s important to note that you must use the correct <code>Export()</code> overload. Additionally, it is not necessary to add all of the Metadata, only the parts that you need, the rest will have a default value, which is okay if you don&#39;t want to specify things such as <code>InitializationMode</code> or dependencies. Thank you!"}, {"owner": {"reputation": 23681, "user_id": 389966, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/609cad1ab26e0b25b5a4c83669221114?s=128&d=identicon&r=PG", "display_name": "Adi Lester", "link": "https://stackoverflow.com/users/389966/adi-lester"}, "reply_to_user": {"reputation": 29909, "user_id": 347172, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8UvnG.jpg?s=128&g=1", "display_name": "myermian", "link": "https://stackoverflow.com/users/347172/myermian"}, "edited": false, "score": 0, "creation_date": 1473414779, "post_id": 39372158, "comment_id": 66142066, "body": "When I checked it, I wasn&#39;t able to load modules that only had the <code>DependsOnModuleNames</code> metadata so I assumed that adding all metadata is required. Maybe some properties are required and some are optional, but I&#39;m not sure how one can know which are which."}], "tags": [], "owner": {"reputation": 23681, "user_id": 389966, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/609cad1ab26e0b25b5a4c83669221114?s=128&d=identicon&r=PG", "display_name": "Adi Lester", "link": "https://stackoverflow.com/users/389966/adi-lester"}, "is_accepted": true, "score": 1, "last_activity_date": 1473376417, "last_edit_date": 1473376417, "creation_date": 1473257286, "answer_id": 39372158, "question_id": 39257505, "link": "https://stackoverflow.com/questions/39257505/is-it-possible-to-use-mef-registrationbuilder-to-create-a-prism-moduleexport/39372158#39372158", "title": "Is it possible to use MEF RegistrationBuilder to create a PRISM ModuleExport?", "body": "<p><a href=\"https://github.com/PrismLibrary/Prism/blob/master/Source/Wpf/Prism.Mef.Wpf/Modularity/ModuleExportAttribute.cs\" rel=\"nofollow\">The <code>ModuleExport</code> attribute</a> is essentially just an <code>Export(typeof(IModule))</code> atttibute with type-safe metadata (<code>IModuleExport</code>). You can easily \"copy\" its behavior with <code>RegistrationBuilder</code> by adding this metadata yourself. For example</p>\n\n<pre><code>RegistrationBuilder builder = new RegistrationBuilder();\nbuilder.ForType&lt;ModuleA&gt;().Export&lt;IModule&gt;(eb =&gt; eb\n   .AddMetadata(\"DependsOnModuleNames\", new string[] { \"ModuleB\" })\n   .AddMetadata(\"InitializationMode\", InitializationMode.WhenAvailable)\n   .AddMetadata(\"ModuleName\", \"ModuleA\")\n   .AddMetadata(\"ModuleType\", typeof(ModuleA)));\n</code></pre>\n\n<p>You can verify this works by importing your modules like so, which is basically what Prism does behind the scenes:</p>\n\n<pre><code>[ImportMany]\nLazy&lt;IModule, IModuleExport&gt;[] Modules { get; set; }\n</code></pre>\n\n<p>You should note that you must specify in the metadata <em>all</em> the properties in the <code>IModuleExport</code> interface, or the modules will not be imported (as they don't satisfy the <code>IModuleExport</code> interface)</p>\n\n<hr>\n\n<p><strong>Adding to the answer</strong>:</p>\n\n<p><strong>The code above is the correct, working way; the code below looks correct, but does not work.</strong></p>\n\n<p>It's important to note that this only works if you utilize the <a href=\"https://msdn.microsoft.com/en-us/library/hh192325(v=vs.110).aspx\" rel=\"nofollow\"><code>PartBuilder.Export(Action&lt;ExportBuilder&gt; exportConfiguration)</code></a> overload.</p>\n\n<pre><code>RegistrationBuilder builder = new RegistrationBuilder();\nbuilder.ForType&lt;ModuleA&gt;().Export&lt;IModule&gt;()\n   .AddMetadata(\"DependsOnModuleNames\", new string[] { \"ModuleB\" })\n   .AddMetadata(\"InitializationMode\", InitializationMode.WhenAvailable)\n   .AddMetadata(\"ModuleName\", \"ModuleA\")\n   .AddMetadata(\"ModuleType\", typeof(ModuleA));\n</code></pre>\n"}], "owner": {"reputation": 29909, "user_id": 347172, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8UvnG.jpg?s=128&g=1", "display_name": "myermian", "link": "https://stackoverflow.com/users/347172/myermian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 0, "accepted_answer_id": 39372158, "answer_count": 1, "score": 5, "last_activity_date": 1473376417, "creation_date": 1472671428, "last_edit_date": 1472867084, "question_id": 39257505, "link": "https://stackoverflow.com/questions/39257505/is-it-possible-to-use-mef-registrationbuilder-to-create-a-prism-moduleexport", "title": "Is it possible to use MEF RegistrationBuilder to create a PRISM ModuleExport?", "body": "<p>I'm working on a sample PRISM application and I want to use the MEF <code>RegistrationBuilder</code> to create all of my exports. The equivalent of using the <code>ExportAttribute</code> is as follows:</p>\n\n<pre><code>[Export(typeof(IFooService))]\npublic class FooService : IFooService { ... }\n\nBuilder.ForTypesMatching(typeof(IFooService).IsAssignableFrom(type)).Export&lt;IFooService&gt;();\n</code></pre>\n\n<p>However, modules use a different attribute, the <code>ModuleExportAttribute</code>, for example:</p>\n\n<pre><code>[ModuleExport(typeof(ModuleA), DependsOnModuleNames = new string[] { \"ModuleB\" })]\npublic sealed class ModuleA : IModule { ... }\n</code></pre>\n\n<p>I'm not sure how to use the <code>RegistrationBuilder</code> class to create the module export instead of using the <code>ModuleExportAttribute</code>. Is this even possible since it is exported differently than a standard export? </p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 4, "creation_date": 1472671900, "post_id": 39257496, "comment_id": 65851192, "body": "2000 records should not take a long time to read from a database.  Also, can you explain why you need to keep all the data in memory at all times?  This sounds like an anti-pattern but maybe there is some reasoning behind this."}, {"owner": {"reputation": 2158, "user_id": 543577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77Bku.jpg?s=128&g=1", "display_name": "ranieuwe", "link": "https://stackoverflow.com/users/543577/ranieuwe"}, "edited": false, "score": 0, "creation_date": 1472671981, "post_id": 39257496, "comment_id": 65851227, "body": "Is your app pool set to AlwaysRunning?"}, {"owner": {"reputation": 1819, "user_id": 6537157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc49ba8e3aa95732b23486388b79110?s=128&d=identicon&r=PG&f=1", "display_name": "akop", "link": "https://stackoverflow.com/users/6537157/akop"}, "edited": false, "score": 0, "creation_date": 1472673089, "post_id": 39257496, "comment_id": 65851752, "body": "I have many relations (lazy loading need very long) and my records are hierarchic I need to rebuild the hierarchy. Yeah, app is set to &quot;AlwaysRunning&quot;, but the clean-up clear it."}], "answers": [{"comments": [{"owner": {"reputation": 1819, "user_id": 6537157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc49ba8e3aa95732b23486388b79110?s=128&d=identicon&r=PG&f=1", "display_name": "akop", "link": "https://stackoverflow.com/users/6537157/akop"}, "edited": false, "score": 0, "creation_date": 1472673123, "post_id": 39257629, "comment_id": 65851772, "body": "Thanks, I will have a look tomorrow."}], "tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": true, "score": 1, "last_activity_date": 1472671936, "last_edit_date": 1495535351, "creation_date": 1472671936, "answer_id": 39257629, "question_id": 39257496, "link": "https://stackoverflow.com/questions/39257496/holding-vars-for-long-time-in-asp-mvc/39257629#39257629", "title": "Holding Vars for long time in ASP/MVC", "body": "<p>I'd recommend you use the <a href=\"https://msdn.microsoft.com/en-us/library/6hbbsfk6.aspx\" rel=\"nofollow noreferrer\">application cache</a> mechanism for ASP.NET instead. However, by default, the cache is still in-memory and maintained within the process, so app pool recycles would still wipe it out. The solution is to change the storage location of the application cache so it's in a different process. See <a href=\"https://stackoverflow.com/a/3287014/119549\">this answer</a> for some recommendations for how to store your application cache.</p>\n\n<p>In short, I wouldn't recommend trying to avoid app pool recycling since it can really save you a lot of trouble.</p>\n"}], "owner": {"reputation": 1819, "user_id": 6537157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc49ba8e3aa95732b23486388b79110?s=128&d=identicon&r=PG&f=1", "display_name": "akop", "link": "https://stackoverflow.com/users/6537157/akop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 39257629, "answer_count": 1, "score": 1, "last_activity_date": 1472719446, "creation_date": 1472671389, "last_edit_date": 1472678427, "question_id": 39257496, "link": "https://stackoverflow.com/questions/39257496/holding-vars-for-long-time-in-asp-mvc", "title": "Holding Vars for long time in ASP/MVC", "body": "<p>In my ASP.NET-MVC-application I store information in static classes with static vars. But ASP.NET is recycling all data and threads after and my \"App_Start\"-procedure will call after the cleanup.</p>\n\n<p>I solved the problem with the backup-tasks with HangFire.\nBut to generate the static-class, I need a long time. The first request after the recycle has to wait while the static-classes are set up.</p>\n\n<p>Why the delay? I am using the EntityFramework and for correct handling I need all records from the database with their relations.\nSo I hold all records with static-classes and use the database as 2nd strategy.</p>\n\n<p>I have no ideas what I can do to improve performance.\nMy first idea was to serialize the complete data - but how is the performance for deserialize a ArrayList with 2K or more records?\nIs there a way to prevent the recyclefor my static ArrayList?</p>\n"}, {"tags": ["c#", "unity3d", "persistence", "unity5", "scene"], "comments": [{"owner": {"reputation": 73, "user_id": 5587716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/140581362968729/picture?type=large", "display_name": "A guy", "link": "https://stackoverflow.com/users/5587716/a-guy"}, "edited": false, "score": 0, "creation_date": 1472672879, "post_id": 39257495, "comment_id": 65851647, "body": "not a duplicate. I looked there already, it provides the solution which I proposed above. Looking how to better implement accessing data from many different objects, really many of them and do it fast."}, {"owner": {"reputation": 11125, "user_id": 1387174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c4cb458658b24227da74b4dea41075?s=128&d=identicon&r=PG", "display_name": "Serlite", "link": "https://stackoverflow.com/users/1387174/serlite"}, "edited": false, "score": 0, "creation_date": 1472672912, "post_id": 39257495, "comment_id": 65851662, "body": "Noted. Close vote retracted."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1472780392, "post_id": 39257495, "comment_id": 65900696, "body": "Let&#39;s continue the conversation here. I guess that your null error problem is gone. As for <code>PlayerCharacterData playerCharacterData = GetPlayerCharacterData();</code> warning, that&#39;s because you are not using the <code>playerCharacterData</code> variable after declaring it. You must do <code>playerCharacterData.accessOtherVariable = 5;</code> or <code>playerCharacterData.callOtherFunction...</code>"}, {"owner": {"reputation": 73, "user_id": 5587716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/140581362968729/picture?type=large", "display_name": "A guy", "link": "https://stackoverflow.com/users/5587716/a-guy"}, "edited": false, "score": 0, "creation_date": 1472784060, "post_id": 39257495, "comment_id": 65901519, "body": "the problem is, I just wanted to make reference to monobeviour class in that variable so all functions could use PlayerCharacterData() class variables. I use this variable later in those functions. Not sure if I should assign some value to just make that warning not show, seems there&#39;s no logic."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 5587716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/140581362968729/picture?type=large", "display_name": "A guy", "link": "https://stackoverflow.com/users/5587716/a-guy"}, "edited": false, "score": 0, "creation_date": 1472676521, "post_id": 39258667, "comment_id": 65853492, "body": "thanks, I&#39;ll check that out. I&#39;ve even declared public PlayerCharacterData playerCharacterData; in that script, still, Start() or Awake() didn&#39;t set reference for other functions at all :/. All variables are empty until I put making of such reference in every specific function, like NameToCharacterData(). I really don&#39;t know why I can&#39;t make it more global."}, {"owner": {"reputation": 73, "user_id": 5587716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/140581362968729/picture?type=large", "display_name": "A guy", "link": "https://stackoverflow.com/users/5587716/a-guy"}, "edited": false, "score": 0, "creation_date": 1472677309, "post_id": 39258667, "comment_id": 65853879, "body": "ps. You mentioned that I declared it locally. How to declare it globally? Can&#39;t figure that our for some reason... I need global and vast access to that class with data, or a good way to do it for whole classes, not in every single function in them."}, {"owner": {"reputation": 73, "user_id": 5587716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/140581362968729/picture?type=large", "display_name": "A guy", "link": "https://stackoverflow.com/users/5587716/a-guy"}, "edited": false, "score": 0, "creation_date": 1472677830, "post_id": 39258667, "comment_id": 65854122, "body": "Your way actually did work. But why can&#39;t I make that playerCharacterData refernce global, public? Seems it&#39;s null by default inside every function... Referencing 100 times for every time I open UI seems overkill. // wow, seems this way it works even for playerCharacterData.characterName o.O so now it&#39;s not null. Weird. So I don&#39;t understand why my way didn&#39;t work, but your does."}, {"owner": {"reputation": 73, "user_id": 5587716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/140581362968729/picture?type=large", "display_name": "A guy", "link": "https://stackoverflow.com/users/5587716/a-guy"}, "edited": false, "score": 0, "creation_date": 1472678409, "post_id": 39258667, "comment_id": 65854389, "body": "Sorry for so many comments, but I can edit only for 5 minutes, and there&#39;s some imporant info above (for now). Basically, your solution works, but this just doesn&#39;t work: <code>PlayerCharacterSheet playerCharacterSheet = GameObject.FindGameObjectWithTag(&quot;CharacterSheet&quot;).GetCompon&zwnj;&#8203;ent&lt;PlayerCharacterS&zwnj;&#8203;heet&gt;();</code> Doesn&#39;t set reference for some reason, I don&#39;t get it at all."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 73, "user_id": 5587716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/140581362968729/picture?type=large", "display_name": "A guy", "link": "https://stackoverflow.com/users/5587716/a-guy"}, "edited": false, "score": 0, "creation_date": 1472679350, "post_id": 39258667, "comment_id": 65854751, "body": "@Sarr Check if <code>GameObject.FindGameObjectWithTag(&quot;CharacterSheet&quot;)</code> returns null then check if <code>GetCompon\u200c\u200bent&lt;PlayerCharacterS\u200c\u200bheet&gt;();</code> returns null. I want to see which one is causing that problem. I think I know what the problem is."}, {"owner": {"reputation": 73, "user_id": 5587716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/140581362968729/picture?type=large", "display_name": "A guy", "link": "https://stackoverflow.com/users/5587716/a-guy"}, "edited": false, "score": 0, "creation_date": 1472680164, "post_id": 39258667, "comment_id": 65855079, "body": "I did it like that:<code>if (GameObject.FindGameObjectWithTag(&quot;CharacterSheet&quot;) == null) \t\t\tDebug.Log(&quot;GameObject.FindGameObjectWithTag is null&quot;); \t\telse  \t\t\tDebug.Log(&quot;GameObject.FindGameObjectWithTag is not null&quot;);</code> And it says it&#39;s not null for both that and second case you mentioned. Not only that - I see that in Console... 2 times. Also I see my CharacterData was loaded 2 times. Weird duplication. Update: this duplication only occurs in Awake(), not in Start(). But in Start() also &quot;not null&quot;."}, {"owner": {"reputation": 73, "user_id": 5587716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/140581362968729/picture?type=large", "display_name": "A guy", "link": "https://stackoverflow.com/users/5587716/a-guy"}, "edited": false, "score": 0, "creation_date": 1472680603, "post_id": 39258667, "comment_id": 65855235, "body": "Sorry for &quot;CharacterSheet&quot;, it should be &quot;CharacterData&quot;. Changed names."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1472680917, "post_id": 39258667, "comment_id": 65855332, "body": "Check in your scene and make sure that <code>UIPlayerCharacterData</code> script is only attached to 1 gameobject. Right click on the  <code>UIPlayerCharacterData</code> script then click &quot;Find References In Scene&quot;. It will show you all GameObject that the script is attached to. It&#39;s probably attached to multiple gameobjects. Remove it from the other GameObject and that script should be called once."}, {"owner": {"reputation": 73, "user_id": 5587716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/140581362968729/picture?type=large", "display_name": "A guy", "link": "https://stackoverflow.com/users/5587716/a-guy"}, "edited": false, "score": 0, "creation_date": 1472765529, "post_id": 39258667, "comment_id": 65896754, "body": "another strange thing: I get warnings from that script: warning CS0219: The variable &quot;playerCharacterData&quot; is assigned but its value is never used. It points this code: \t<code>PlayerCharacterData playerCharacterData = GetPlayerCharacterData();</code> Do you know how to fix it? Can&#39;t find out, seems strange because I use that reference later."}, {"owner": {"reputation": 73, "user_id": 5587716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/140581362968729/picture?type=large", "display_name": "A guy", "link": "https://stackoverflow.com/users/5587716/a-guy"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1472778849, "post_id": 39258667, "comment_id": 65900352, "body": "@Programmer doubling was my fault, main script was accidentaly added to some child object. Removed and no doubles. But warning described above still showing."}], "tags": [], "owner": {"reputation": 171, "user_id": 4691782, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205132273240165/picture?type=large", "display_name": "Patrick Ferland", "link": "https://stackoverflow.com/users/4691782/patrick-ferland"}, "is_accepted": false, "score": 1, "last_activity_date": 1472676192, "creation_date": 1472676192, "answer_id": 39258667, "question_id": 39257495, "link": "https://stackoverflow.com/questions/39257495/c-unity-most-convenient-and-fast-way-to-persist-access-modify-values-from-sc/39258667#39258667", "title": "C#, Unity - Most convenient and fast way to persist/access/modify values from scene to scene?", "body": "<p>It's not clear to me where you're trying to store your PlayerCharacterData reference, but since you declared it locally inside Awake(), that won't be available outside that method. It's also not clear to me how Awake() isn't sufficient to store this reference, but even in that case, you could wrap all access to it in a \"safe\" method to avoid the null reference. Maybe something like this?</p>\n\n<pre><code>public class UIPlayerCharacterData : PlayerCharacterData {\n\n    PlayerCharacterData playerCharacterData;\n\n    public void NameToCharacterDataUI() {\n       Text_ch_sh_char_name_string.text = GetPlayerCharacterData().characterName;\n   }\n   // etc, more functions like that x50-70    \n\n   void Awake () {\n      PlayerCharacterData playerCharacterData = GetCharacterData();\n      NameToCharacterDataUI();\n      // etc, calling more functions x50-70 \n   }\n\n   PlayerCharacterData GetPlayerCharacterData() {\n       if (playerCharacterData == null) {\n           playerCharacterData = GameObject.FindGameObjectWithTag(\"CharacterData\").GetComponent&lt;PlayerCharacterData&gt;();\n       }\n       return playerCharacterData;\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 369, "user_id": 6784315, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210729909943256/picture?type=large", "display_name": "Sergio Orme&#241;o", "link": "https://stackoverflow.com/users/6784315/sergio-orme%c3%b1o"}, "is_accepted": false, "score": 1, "last_activity_date": 1472751964, "creation_date": 1472751964, "answer_id": 39277879, "question_id": 39257495, "link": "https://stackoverflow.com/questions/39257495/c-unity-most-convenient-and-fast-way-to-persist-access-modify-values-from-sc/39277879#39277879", "title": "C#, Unity - Most convenient and fast way to persist/access/modify values from scene to scene?", "body": "<p>With <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow\">Singleton</a> pattern, wich is a design pattern that restricts the instantiation of a class to one object, this way you only make one global Instance and accses it from diferent scripts.</p>\n\n<p>MyClass Script: </p>\n\n<pre><code>public class MyClass : MonoBehaviour {\n    void Awake () {\n        Debug.Log(Manager.Instance.myGlobalVar);\n    }\n}\n</code></pre>\n\n<p>Global Script: </p>\n\n<pre><code>public class Manager : Singleton&lt;Manager&gt; {\n    protected Manager () {} // guarantee this will be always a singleton only - can't use the constructor!\n\n    public string myGlobalVar = \"whatever\";\n}\n</code></pre>\n\n<p>SingletonImplementation:</p>\n\n<pre><code>using UnityEngine;\n\n/// &lt;summary&gt;\n/// Be aware this will not prevent a non singleton constructor\n///   such as `T myT = new T();`\n/// To prevent that, add `protected T () {}` to your singleton class.\n/// \n/// As a note, this is made as MonoBehaviour because we need Coroutines.\n/// &lt;/summary&gt;\npublic class Singleton&lt;T&gt; : MonoBehaviour where T : MonoBehaviour\n{\n    private static T _instance;\n\n    private static object _lock = new object();\n\n    public static T Instance\n    {\n        get\n        {\n            if (applicationIsQuitting) {\n                Debug.LogWarning(\"[Singleton] Instance '\"+ typeof(T) +\n                    \"' already destroyed on application quit.\" +\n                    \" Won't create again - returning null.\");\n                return null;\n            }\n\n            lock(_lock)\n            {\n                if (_instance == null)\n                {\n                    _instance = (T) FindObjectOfType(typeof(T));\n\n                    if ( FindObjectsOfType(typeof(T)).Length &gt; 1 )\n                    {\n                        Debug.LogError(\"[Singleton] Something went really wrong \" +\n                            \" - there should never be more than 1 singleton!\" +\n                            \" Reopening the scene might fix it.\");\n                        return _instance;\n                    }\n\n                    if (_instance == null)\n                    {\n                        GameObject singleton = new GameObject();\n                        _instance = singleton.AddComponent&lt;T&gt;();\n                        singleton.name = \"(singleton) \"+ typeof(T).ToString();\n\n                        DontDestroyOnLoad(singleton);\n\n                        Debug.Log(\"[Singleton] An instance of \" + typeof(T) + \n                            \" is needed in the scene, so '\" + singleton +\n                            \"' was created with DontDestroyOnLoad.\");\n                    } else {\n                        Debug.Log(\"[Singleton] Using instance already created: \" +\n                            _instance.gameObject.name);\n                    }\n                }\n\n                return _instance;\n            }\n        }\n    }\n\n    private static bool applicationIsQuitting = false;\n    /// &lt;summary&gt;\n    /// When Unity quits, it destroys objects in a random order.\n    /// In principle, a Singleton is only destroyed when application quits.\n    /// If any script calls Instance after it have been destroyed, \n    ///   it will create a buggy ghost object that will stay on the Editor scene\n    ///   even after stopping playing the Application. Really bad!\n    /// So, this was made to be sure we're not creating that buggy ghost object.\n    /// &lt;/summary&gt;\n    public void OnDestroy () {\n        applicationIsQuitting = true;\n    }\n}\n</code></pre>\n\n<p>Requirement: MonoBehaviourExtended.cs (from GetOrAddComponent)</p>\n\n<pre><code>static public class MethodExtensionForMonoBehaviourTransform {\n    /// &lt;summary&gt;\n    /// Gets or add a component. Usage example:\n    /// BoxCollider boxCollider = transform.GetOrAddComponent&lt;BoxCollider&gt;();\n    /// &lt;/summary&gt;\n    static public T GetOrAddComponent&lt;T&gt; (this Component child) where T: Component {\n        T result = child.GetComponent&lt;T&gt;();\n        if (result == null) {\n            result = child.gameObject.AddComponent&lt;T&gt;();\n        }\n        return result;\n    }\n}\n</code></pre>\n\n<p><a href=\"http://wiki.unity3d.com/index.php/Singleton\" rel=\"nofollow\">Source</a></p>\n"}, {"tags": [], "owner": {"reputation": 356, "user_id": 6550259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c981abc88f2e141ff4227e319650c17a?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan L.", "link": "https://stackoverflow.com/users/6550259/ruslan-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1494754965, "creation_date": 1494754965, "answer_id": 43962489, "question_id": 39257495, "link": "https://stackoverflow.com/questions/39257495/c-unity-most-convenient-and-fast-way-to-persist-access-modify-values-from-sc/43962489#43962489", "title": "C#, Unity - Most convenient and fast way to persist/access/modify values from scene to scene?", "body": "<p>Use a static class to store data. I prefer to use static class instead of Singleton \"anti-pattern\" if it is possible.</p>\n\n<pre><code>public static class Cache\n{\n    /// &lt;summary&gt;\n    /// Actual cache storage for data.\n    /// &lt;/summary&gt;\n    private static Dictionary&lt;string, object&gt; _cache = new Dictionary&lt;string, object&gt;();\n\n    /// &lt;summary&gt;\n    /// Adds/changes an object to the cache.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"key\"&gt;The identifier of stored object to access it.&lt;/param&gt;\n    /// &lt;param name=\"obj\"&gt;The object to store&lt;/param&gt;\n    public static void Set(string key, object obj)\n    {\n        if (string.IsNullOrEmpty(key))\n            throw new Exception(\"key must be a non empty string\");\n\n        if (_cache.ContainsKey(key))\n            _cache[key] = obj;\n        else\n            _cache.Add(key, obj);\n    }\n\n    /// &lt;summary&gt;\n    /// Get the cached object by key.\n    /// &lt;/summary&gt;\n    /// &lt;typeparam name=\"T\"&gt;&lt;/typeparam&gt;\n    /// &lt;param name=\"key\"&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    public static T Get&lt;T&gt;(string key)\n    {\n        var obj = _cache.ContainsKey(key) ? _cache[key] : null;\n        return (T)obj;\n    }\n\n    /// &lt;summary&gt;\n    /// Removes an object.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"key\"&gt;The identifier of stored object&lt;/param&gt;\n    public static void Remove(string key)\n    {\n        if (string.IsNullOrEmpty(key))\n            throw new Exception(\"key must be a non empty string\");\n\n        if (_cache.ContainsKey(key))\n            _cache.Remove(key);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 5587716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/140581362968729/picture?type=large", "display_name": "A guy", "link": "https://stackoverflow.com/users/5587716/a-guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1626, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1494754965, "creation_date": 1472671387, "last_edit_date": 1472672988, "question_id": 39257495, "link": "https://stackoverflow.com/questions/39257495/c-unity-most-convenient-and-fast-way-to-persist-access-modify-values-from-sc", "title": "C#, Unity - Most convenient and fast way to persist/access/modify values from scene to scene?", "body": "<p>I looked for answers, but still at loss here. I have some character generator, which creates then saves player character variables. They are saved into a fresh script \"PlayerCharacterData\", which is a component of object CharacterData. This object has DontDestroyOnLoad, so it persists to other scenes. After generating character, game loads character data into that script, and when I switch scenes, data is properly loaded from binary files (serialized earlier).</p>\n\n<p>But now I have this core and I need my numerous UI objects to load data from \"PlayerCharacterData\" class, so UI can fill all fields, etc. Later whole game will be depending on variable values from \"PlayerCharacterData\".</p>\n\n<p>This is part of my PlayerCharacterData script:</p>\n\n<pre><code>public class PlayerCharacterData : MonoBehaviour {\n\n   void Awake(){\n       DontDestroyOnLoad (this); // keeps the object when changing scenes\n   }\n\n   // below we have data stored in variables. It was loaded by another script.    \n   public string characterName;\n   public int characterSpeed;\n   public List&lt;Weapon&gt;characterInvWeapon;\n   // etc, more variables x50-70\n   }\n</code></pre>\n\n<p>Now here's example of my public class UIPlayerCharacterData. I added a tag to object CharacterData in Unity Editor to make \"Find\" faster:</p>\n\n<pre><code>public class UIPlayerCharacterData : PlayerCharacterData {\n\n    public void NameToCharacterDataUI() {\n       // this would be required to make it work: PlayerCharacterData playerCharacterData = GameObject.FindGameObjectWithTag(\"CharacterData\").GetComponent&lt;PlayerCharacterData&gt;();\n       Text_ch_sh_char_name_string.text = playerCharacterData.characterName;\n   }\n   // etc, more functions like that x50-70    \n\n   void Awake () {\n      PlayerCharacterData playerCharacterData = GameObject.FindGameObjectWithTag(\"CharacterData\").GetComponent&lt;PlayerCharacterData&gt;();\n      NameToCharacterDataUI();\n      // etc, calling more functions x50-70 \n   }\n}\n</code></pre>\n\n<p>Problem is, those classes are on different objects. First is component of CharacterData object which persists from 1st scene, second is component of major UI panel in 2nd scene. Second class has LOTS of UI fields to fill, just showed you one of those. Each takes data from first class (component on CharacterData object). So there's like 50-70 variables for UI to pull data from.</p>\n\n<p>And that's just a start, because whole game will need to get and modify data in PlayerCharacterData script.</p>\n\n<p>Now, I've found out the function NameToCharacterData() isn't working, because it has no reference in playerCharacterSheet variable: \"Object reference not set to an instance of an object\". Thought it was sorted out in Awake() - I was wrong.\nSo seems we'd need to set\n<code>PlayerCharacterData playerCharacterData = GameObject.Find(\"CharacterData\").GetComponent&lt;PlayerCharacterData&gt;();</code> </p>\n\n<p>...in every of 50-70 functions filling the fields in UI.\nNot to mention every other system in game would need to do that too.\nPlus, everytime player opens the UI those UI fields need to be re-generated.</p>\n\n<p>Is there some faster, more convenient way to do it?\nI was thinking about making all PlayerCharacterData variables static - this would be fast as lightning, but I'd prefer to make our engine ready for multiplayer (between 1 and 200 players). So not sure.</p>\n\n<p>Also, wouldn't it be better to save character data variables into some script without Monobehaviour, so not connected to a gameObject, and maybe then we could just use <code>PlayerCharacterData playerCharacterData = new PlayerCharacterData();</code> to get values from that class? I simply need those values accesible really fast and from everywhere.</p>\n\n<p>Really considering the use of static variables at this point, but if there's a better solution, or if there's a better way create static variables for a multiplayer game, let me know.</p>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-mvc", "visual-studio"], "comments": [{"owner": {"reputation": 544, "user_id": 1440614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ccdf3935bd6110ad841f2bac695a28e?s=128&d=identicon&r=PG", "display_name": "Jared Stroebele", "link": "https://stackoverflow.com/users/1440614/jared-stroebele"}, "edited": false, "score": 0, "creation_date": 1472671571, "post_id": 39257427, "comment_id": 65851013, "body": "I have multiple get endpoints.  The controlers are smart enought to figure out which one is being used. Something like this: www.YourURL/api/controller?var1=value&amp;var1=value public IHttpActionResult Get(string var1, string var2)"}, {"owner": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "reply_to_user": {"reputation": 544, "user_id": 1440614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ccdf3935bd6110ad841f2bac695a28e?s=128&d=identicon&r=PG", "display_name": "Jared Stroebele", "link": "https://stackoverflow.com/users/1440614/jared-stroebele"}, "edited": false, "score": 0, "creation_date": 1472671685, "post_id": 39257427, "comment_id": 65851074, "body": "what if they decide to just pass in Honda?"}, {"owner": {"reputation": 544, "user_id": 1440614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ccdf3935bd6110ad841f2bac695a28e?s=128&d=identicon&r=PG", "display_name": "Jared Stroebele", "link": "https://stackoverflow.com/users/1440614/jared-stroebele"}, "edited": false, "score": 0, "creation_date": 1472671933, "post_id": 39257427, "comment_id": 65851202, "body": "try this article. <a href=\"http://www.tugberkugurlu.com/archive/asp-net-web-api-catch-all-route-parameter-binding\" rel=\"nofollow noreferrer\">tugberkugurlu.com/archive/&hellip;</a>.  It just sets a deliminator to split the parameters on.  I am using mostly web api so I would just stick an object into the http request body."}, {"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1472672338, "post_id": 39257427, "comment_id": 65851401, "body": "You mean pass multiple guids?  Just declare it as an array as in <a href=\"http://stackoverflow.com/questions/9981330/how-to-pass-an-array-of-integers-to-asp-net-web-api\">this answer</a>.  Or do you mean different parameter names?  Just add them as nullable parms to the method and use <code>Where</code> chaining."}, {"owner": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "reply_to_user": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1472672849, "post_id": 39257427, "comment_id": 65851632, "body": "@stephen.vakil i need multiple parameters, what if the client passes in an empty parameter, how would my Where work? how would i chain the where&#39;s in a conditional fashion (conditional based upon whether a parameter was provided or not)"}], "answers": [{"tags": [], "owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "is_accepted": false, "score": 0, "last_activity_date": 1472674317, "last_edit_date": 1495535354, "creation_date": 1472674317, "answer_id": 39258233, "question_id": 39257427, "link": "https://stackoverflow.com/questions/39257427/allowing-client-to-filter-by-multiple-parameters/39258233#39258233", "title": "allowing client to filter by multiple parameters", "body": "<p>Take advantage of the <a href=\"https://stackoverflow.com/questions/679027/how-do-you-implement-pipes-and-filters-pattern-with-linqtosql-entity-framework-n\">Pipes and Filters Pattern</a></p>\n\n<pre><code>[HttpGet]\n[Route(\"{someGuid:guid}\")]\npublic HttpResponseMessage Get([FromUri] Guid? someGuid, [FromUri] int someInt)\n{\n    var responseData = _someService.RecordSet.AsQueryable(); // or some base query or equivalent\n    if (someGuid.HasValue)\n    {\n       responseData = responseData.Where(x=&gt;x.guid == someGuid);\n    }\n\n    if (someInt.HasValue)\n    {\n       responseData = responseData.Where(x=&gt;x.int == someInt);\n    }\n\n    return Request.ResponseMessageFromApiEntity(responseData);\n}\n</code></pre>\n"}], "owner": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 903, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1472674317, "creation_date": 1472671118, "last_edit_date": 1472671743, "question_id": 39257427, "link": "https://stackoverflow.com/questions/39257427/allowing-client-to-filter-by-multiple-parameters", "title": "allowing client to filter by multiple parameters", "body": "<p>I've got an MVC solution that exposes data from a database.</p>\n\n<p>They issue an HttpGet and my controller provides the data to the client:</p>\n\n<pre><code>[HttpGet]\n[Route(\"{someGuid:guid}\")]\npublic HttpResponseMessage Get([FromUri] Guid? someGuid)\n{\n    var responseData = _someService.RecordSet.Where(x=&gt;x.guid == someGuid);\n\n    return Request.ResponseMessageFromApiEntity(responseData);\n}\n</code></pre>\n\n<p><strong>How would I implement a way for the client to be able to issue a request with multiple combinations of parameters?</strong> They could pass in 2 or 5 or up to 10, and I would need to filter the dataset by those parameters.</p>\n"}, {"tags": ["c#", "unit-testing", "tdd", "nunit"], "comments": [{"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1472671465, "post_id": 39257416, "comment_id": 65850955, "body": "You should include what the compiler error is."}, {"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1472671749, "post_id": 39257416, "comment_id": 65851105, "body": "Also, what is the type of <code>Client.AccountName</code>? Are you sure it&#39;s <code>string</code>, and that the property is defined by the class?"}, {"owner": {"reputation": 541, "user_id": 5327323, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-xlWkWVoaav0/AAAAAAAAAAI/AAAAAAAAATY/CRoZXbAY3L4/photo.jpg?sz=128", "display_name": "Dean Friedland", "link": "https://stackoverflow.com/users/5327323/dean-friedland"}, "reply_to_user": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1472671870, "post_id": 39257416, "comment_id": 65851175, "body": "Added the error and yes I am positive it is type string thanks to visual studio ;)"}, {"owner": {"reputation": 541, "user_id": 5327323, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-xlWkWVoaav0/AAAAAAAAAAI/AAAAAAAAATY/CRoZXbAY3L4/photo.jpg?sz=128", "display_name": "Dean Friedland", "link": "https://stackoverflow.com/users/5327323/dean-friedland"}, "reply_to_user": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1472674409, "post_id": 39257416, "comment_id": 65852472, "body": "Why did my question get voted down?"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1472695944, "post_id": 39257416, "comment_id": 65859187, "body": "First, I did not down vote your question. Second, <code>This question was caused by a problem that can no longer be reproduced or a simple typographical error. While similar questions may be on-topic here, this one was resolved in a manner unlikely to help future readers.</code> which usually leads to votes to close these as off topic."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1472696180, "post_id": 39257416, "comment_id": 65859236, "body": "While you eventually answered your own question and got it to work, know that the issue was that in calling the assert you have  <code>Assert.AreEqual(string acctName, &quot;&quot;)</code> which is a syntax error, <code>string acctName</code> which is for when you are defining a method, not trying to call it. Hope that helps."}], "answers": [{"tags": [], "owner": {"reputation": 541, "user_id": 5327323, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-xlWkWVoaav0/AAAAAAAAAAI/AAAAAAAAATY/CRoZXbAY3L4/photo.jpg?sz=128", "display_name": "Dean Friedland", "link": "https://stackoverflow.com/users/5327323/dean-friedland"}, "is_accepted": false, "score": 1, "last_activity_date": 1472696951, "last_edit_date": 1472696951, "creation_date": 1472674327, "answer_id": 39258236, "question_id": 39257416, "link": "https://stackoverflow.com/questions/39257416/issue-testing-null-check-using-nunit/39258236#39258236", "title": "Issue testing null check using NUnit", "body": "<p>I ended up writing it like this:</p>\n\n<pre><code>//Arrange\n\nClient myTestClient = null;\nstring expectedValue = String.Empty;\nstring expectedKey = COMPANY_NAME;\n\n//Act\n\nDict actual = contentService.getOrder(myTestClient);\n\n//Assert\n\nAssert.IsTrue(actual.ContainsKey(expectedKey));\nAssert.IsTrue(actual.ContainsValue(expectedValue));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 541, "user_id": 5327323, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-xlWkWVoaav0/AAAAAAAAAAI/AAAAAAAAATY/CRoZXbAY3L4/photo.jpg?sz=128", "display_name": "Dean Friedland", "link": "https://stackoverflow.com/users/5327323/dean-friedland"}, "edited": false, "score": 0, "creation_date": 1472744659, "post_id": 39261779, "comment_id": 65886328, "body": "Thanks for the answer and explanation @Nkosi but why is expectedKey in brackets in string <code>actualValue = result[expectedKey];</code> ?"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 541, "user_id": 5327323, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-xlWkWVoaav0/AAAAAAAAAAI/AAAAAAAAATY/CRoZXbAY3L4/photo.jpg?sz=128", "display_name": "Dean Friedland", "link": "https://stackoverflow.com/users/5327323/dean-friedland"}, "edited": false, "score": 0, "creation_date": 1472745335, "post_id": 39261779, "comment_id": 65886781, "body": "The assumption was that Dict was of type Dictionary which would allow an indexed call with the key that returns the value stored at that key."}, {"owner": {"reputation": 541, "user_id": 5327323, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-xlWkWVoaav0/AAAAAAAAAAI/AAAAAAAAATY/CRoZXbAY3L4/photo.jpg?sz=128", "display_name": "Dean Friedland", "link": "https://stackoverflow.com/users/5327323/dean-friedland"}, "edited": false, "score": 0, "creation_date": 1472745595, "post_id": 39261779, "comment_id": 65886915, "body": "I just learned something new.  :) I thought an index call had to reference the index number to get the value, like [0] or [1]"}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 0, "last_activity_date": 1472697174, "last_edit_date": 1472697174, "creation_date": 1472696707, "answer_id": 39261779, "question_id": 39257416, "link": "https://stackoverflow.com/questions/39257416/issue-testing-null-check-using-nunit/39261779#39261779", "title": "Issue testing null check using NUnit", "body": "<p>While you eventually answered your own question and got it to work, know that the issue was that in calling the assert you have <code>Assert.AreEqual(string acctName, \"\")</code> which has a syntax error, <code>string acctName</code> which is for when you are defining a method, not trying to call it.</p>\n\n<p>Here is another way you could have written it</p>\n\n<pre><code>//Arrange\nClient myTestClient = null;\nstring expectedValue = String.Empty;\nstring expectedKey = COMPANY_NAME;\n\n//Act\nDict result = contentService.getOrder(myTestClient);\n\n//Assert\nAssert.IsNotNull(result);\n\nstring actualValue = result[expectedKey];\n\nAssert.IsNotNull(actualValue);\nAssert.AreEqual(expectedValue, actualValue);\n</code></pre>\n"}], "owner": {"reputation": 541, "user_id": 5327323, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-xlWkWVoaav0/AAAAAAAAAAI/AAAAAAAAATY/CRoZXbAY3L4/photo.jpg?sz=128", "display_name": "Dean Friedland", "link": "https://stackoverflow.com/users/5327323/dean-friedland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1731, "favorite_count": 0, "accepted_answer_id": 39261779, "answer_count": 2, "score": -1, "last_activity_date": 1472697174, "creation_date": 1472671080, "last_edit_date": 1472696900, "question_id": 39257416, "link": "https://stackoverflow.com/questions/39257416/issue-testing-null-check-using-nunit", "title": "Issue testing null check using NUnit", "body": "<p>I am a junior dev that is new to unit testing. My company uses NUnit and I am trying to test a null check in a service method I created. Any idea what my Assert statement should look like if I am trying to test if <code>string acctName = \"\"</code> ? For some reason <code>string acctName</code> is getting compiler error that says </p>\n\n<blockquote>\n  <p>\"The name does not exist in the current context.\" </p>\n</blockquote>\n\n<p><strong>MY METHOD:</strong></p>\n\n<pre><code>public Dict getOrder(Client client)\n{\n    string acctName = client != null ? client.AccountName : \"\";\n\n    Dict replacements = new Replacement\n    {\n        {COMPANY_NAME, acctName}\n    };\n    return new Dict(replacements);\n}\n</code></pre>\n\n<p><strong>MY TEST:</strong></p>\n\n<pre><code>public void getOrderNullTest()\n{\n\n    //Arrange\n\n    Client myTestClient = null;\n\n    //Act\n\n    contentService.getOrder(myTestClient);\n\n    //Assert\n\n    Assert.AreEqual(string acctName, \"\");\n\n}\n</code></pre>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1472670962, "post_id": 39257366, "comment_id": 65850693, "body": "You can use <code>Dock</code> property of your <code>DataGridView</code> and set it to <code>DockStyle.Fill</code>."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1472671160, "post_id": 39257366, "comment_id": 65850792, "body": "See <a href=\"http://stackoverflow.com/q/472563/719186\">ScrollBar in DataGridView</a>"}, {"owner": {"reputation": 71432, "user_id": 41543, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/03d354e2abf7ffcdec3e42528d1cd4a8?s=128&d=identicon&r=PG", "display_name": "JL.", "link": "https://stackoverflow.com/users/41543/jl"}, "reply_to_user": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1472671326, "post_id": 39257366, "comment_id": 65850882, "body": "@Reza - Doc worked perfectly thanks."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1472671533, "post_id": 39257366, "comment_id": 65850994, "body": "@JL. You&#39;re welcome :)"}], "owner": {"reputation": 71432, "user_id": 41543, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/03d354e2abf7ffcdec3e42528d1cd4a8?s=128&d=identicon&r=PG", "display_name": "JL.", "link": "https://stackoverflow.com/users/41543/jl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1472671016, "creation_date": 1472670900, "last_edit_date": 1472671016, "question_id": 39257366, "link": "https://stackoverflow.com/questions/39257366/grid-in-a-tab-page-page-scrollbars-arent-visible", "title": "Grid in a tab page page, scrollbars aren&#39;t visible", "body": "<p>I want my grid control anchored to the tab page, but I want the control and the scrollbars to fit in the visible size of the tabpage:</p>\n\n<pre><code>_grid = new DataGridView\n {\n    Anchor = AnchorStyles.Bottom | AnchorStyles.Left\n  | AnchorStyles.Top | AnchorStyles.Right,\n    DataSource = _bindingSource,\n };\n\n _grid.CellValueChanged += _grid_CellValueChanged;\n _grid.ScrollBars = ScrollBars.Both;\n tabPage.Controls.Add(_grid);\n</code></pre>\n\n<p>I can't see the scrollbars on screen. </p>\n"}, {"tags": ["c#", "odata", "uwp"], "comments": [{"owner": {"reputation": 3170, "user_id": 424226, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/97ecdc3fef8f82acfed5bb5184493b39?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/424226/mark"}, "edited": false, "score": 0, "creation_date": 1472671953, "post_id": 39257332, "comment_id": 65851212, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/8547783/entity-framework-update-the-context-is-not-currently-tracking-the-entity\">Entity Framework Update - The context is not currently tracking the entity</a>"}, {"owner": {"reputation": 193, "user_id": 4619304, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rqUQ_Bzeyac/AAAAAAAAAAI/AAAAAAAAABA/Y_E3bvDzze0/photo.jpg?sz=128", "display_name": "Cristian Arteaga", "link": "https://stackoverflow.com/users/4619304/cristian-arteaga"}, "reply_to_user": {"reputation": 3170, "user_id": 424226, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/97ecdc3fef8f82acfed5bb5184493b39?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/424226/mark"}, "edited": false, "score": 0, "creation_date": 1472686607, "post_id": 39257332, "comment_id": 65857059, "body": "Hi Mark, I don&#39;t think it is duplicate because in that answer they use a database query to solve the reference problem, which is what I want to avoid."}, {"owner": {"reputation": 3170, "user_id": 424226, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/97ecdc3fef8f82acfed5bb5184493b39?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/424226/mark"}, "edited": false, "score": 0, "creation_date": 1472736231, "post_id": 39257332, "comment_id": 65880037, "body": "How did you retrieved it ? and no they are not using a query to solve it, the usage of that query is the problem in the other Question."}, {"owner": {"reputation": 193, "user_id": 4619304, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rqUQ_Bzeyac/AAAAAAAAAAI/AAAAAAAAABA/Y_E3bvDzze0/photo.jpg?sz=128", "display_name": "Cristian Arteaga", "link": "https://stackoverflow.com/users/4619304/cristian-arteaga"}, "reply_to_user": {"reputation": 3170, "user_id": 424226, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/97ecdc3fef8f82acfed5bb5184493b39?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/424226/mark"}, "edited": false, "score": 0, "creation_date": 1472765061, "post_id": 39257332, "comment_id": 65896548, "body": "I don&#39;t retrieve it, that is what I want to avoid because that means that every time I want to update I need to retrieve the entire entity from the server. I think it should be a better way because I have the Id of the entity, it should be enough to update. Thank you for help clarifying the question"}], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 4619304, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rqUQ_Bzeyac/AAAAAAAAAAI/AAAAAAAAABA/Y_E3bvDzze0/photo.jpg?sz=128", "display_name": "Cristian Arteaga", "link": "https://stackoverflow.com/users/4619304/cristian-arteaga"}, "edited": false, "score": 0, "creation_date": 1473265314, "post_id": 39345909, "comment_id": 66077874, "body": "You saved my day, Thank you so much!!!!! Could I ask you if additional to the documentation, Do you read any additional resource?"}, {"owner": {"reputation": 14820, "user_id": 5506161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iLSYt.jpg?s=128&g=1", "display_name": "Jay Zuo", "link": "https://stackoverflow.com/users/5506161/jay-zuo"}, "reply_to_user": {"reputation": 193, "user_id": 4619304, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rqUQ_Bzeyac/AAAAAAAAAAI/AAAAAAAAABA/Y_E3bvDzze0/photo.jpg?sz=128", "display_name": "Cristian Arteaga", "link": "https://stackoverflow.com/users/4619304/cristian-arteaga"}, "edited": false, "score": 0, "creation_date": 1473649491, "post_id": 39345909, "comment_id": 66207800, "body": "I read the <a href=\"http://www.odata.org/getting-started/\" rel=\"nofollow noreferrer\">Getting Started</a> of  OData and some other tutorial especially OData Client for .NET tutorial at <a href=\"http://odata.github.io/\" rel=\"nofollow noreferrer\">Microsoft OData stack</a>."}], "tags": [], "owner": {"reputation": 14820, "user_id": 5506161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iLSYt.jpg?s=128&g=1", "display_name": "Jay Zuo", "link": "https://stackoverflow.com/users/5506161/jay-zuo"}, "is_accepted": true, "score": 1, "last_activity_date": 1473155465, "creation_date": 1473155465, "answer_id": 39345909, "question_id": 39257332, "link": "https://stackoverflow.com/questions/39257332/c-odata-update-untracked-entity-without-retrieving-it-from-database/39345909#39345909", "title": "C# OData update untracked entity without retrieving it from database", "body": "<p>As the error <code>The context is not currently tracking the entity.</code> said, the problem here is that your <code>entity</code> is not tracked by your <code>context</code>.</p>\n\n<p>From the <a href=\"http://odata.github.io/odata.net/#04-01-basic-crud-operations\" rel=\"nofollow\">tutorial</a>, we can find following notes under <strong>Update an entity</strong>:</p>\n\n<blockquote>\n  <p>The <code>context</code> will track all the changes you make to the entities attached to it (by getting <code>person</code> from the service you attached it to the <code>context</code>) and will send requests for the changes when <code>SaveChanges</code> is called.</p>\n</blockquote>\n\n<p>So by default, entities returned by queries are tracked. And thus, the changes of these entities can be sent back to the data service when we call <code>DataServiceContext.SaveChangesAsync</code> method. But since your entity is not retrieved by queries, you would get this error while calling <code>SaveChangesAsync</code> method.</p>\n\n<p>To solve this issue, we can use <code>DataServiceContext.AttachTo</code> method to attach the entity. If we use <code>DataServiceContext.AttachTo</code> to attach an entity, <code>DataServiceContext</code> will track the entity. Following is a simple sample:</p>\n\n<pre><code>private async void Button_Click(object sender, RoutedEventArgs e)\n{\n    var context = new DefaultContainer(new Uri(\"http://services.odata.org/v4/(S(lqbvtwide0ngdev54adgc0lu))/TripPinServiceRW/\"));\n\n    var person = new Person\n    {\n        UserName = \"russellwhyte\",\n        FirstName = \"Jay\",\n        LastName = \"Zuo\"\n    };\n\n    context.AttachTo(\"People\", person, \"*\");\n\n    context.UpdateObject(person);\n\n    await context.SaveChangesAsync();\n\n    var personUpdated = await context.People.ByKey(\"russellwhyte\").GetValueAsync();\n\n    System.Diagnostics.Debug.WriteLine($\"{personUpdated.UserName} : {personUpdated.FirstName} {personUpdated.LastName}\");\n}\n</code></pre>\n\n<p>For more info, please see <a href=\"http://odata.github.io/odata.net/#04-09-client-tracking\" rel=\"nofollow\">Client Tracking</a>.</p>\n"}], "owner": {"reputation": 193, "user_id": 4619304, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rqUQ_Bzeyac/AAAAAAAAAAI/AAAAAAAAABA/Y_E3bvDzze0/photo.jpg?sz=128", "display_name": "Cristian Arteaga", "link": "https://stackoverflow.com/users/4619304/cristian-arteaga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1304, "favorite_count": 0, "accepted_answer_id": 39345909, "answer_count": 1, "score": 0, "last_activity_date": 1473155465, "creation_date": 1472670779, "last_edit_date": 1472765087, "question_id": 39257332, "link": "https://stackoverflow.com/questions/39257332/c-odata-update-untracked-entity-without-retrieving-it-from-database", "title": "C# OData update untracked entity without retrieving it from database", "body": "<p>I have a local SQLite database in my Universal Windows Application and I want to update some changes in an entity to a REST-API Server with OData. \nWhen I try to update just using:</p>\n\n<pre><code>context.UpdateObject(entity);\ncontext.SaveChangesAsync();\n</code></pre>\n\n<p>I get an error that says:</p>\n\n<blockquote>\n  <p>The context is not currently tracking the entity.</p>\n</blockquote>\n\n<p>I know I can get the entity from the server, update it and save again but that means that I have to manually copy all the attributes of my local entity to the one obtained from the server. <strong>Also I don't think it's efficient to read an entire entity from the server every time I want to update</strong>.</p>\n"}, {"tags": ["c#", "excel", "vsto", "freeze", "savefiledialog"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1472671317, "post_id": 39257321, "comment_id": 65850879, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.savefiledialog(v=vs.110).aspx\" rel=\"nofollow noreferrer\">C# MSDN SaveFileDialog</a> you need to show all relevant code.. if you are using COM Interop perhaps you are Marshal.Releasing the com objects properly.. please provide all relevant code"}, {"owner": {"reputation": 1632, "user_id": 1137382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b70bf08ba67ec43e13287b989ac566b8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Hewitt", "link": "https://stackoverflow.com/users/1137382/jim-hewitt"}, "edited": false, "score": 0, "creation_date": 1472681910, "post_id": 39257321, "comment_id": 65855722, "body": "Could be the SaveDialog is behind another window."}, {"owner": {"reputation": 1516, "user_id": 270712, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/219d367933c8fe63a3cb0c097db1f5aa?s=128&d=identicon&r=PG", "display_name": "bovender", "link": "https://stackoverflow.com/users/270712/bovender"}, "reply_to_user": {"reputation": 1632, "user_id": 1137382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b70bf08ba67ec43e13287b989ac566b8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Hewitt", "link": "https://stackoverflow.com/users/1137382/jim-hewitt"}, "edited": false, "score": 0, "creation_date": 1472703840, "post_id": 39257321, "comment_id": 65860926, "body": "@JimHewitt Yeah, but I already tried and made the Excel/Word windows very small so that the dialog should be visible somewhere. And even if it was displayed out of screen for some reason, pressing ESC should close it if it has focus (and blocks Word/Excel) -- but ESC does not do anything."}, {"owner": {"reputation": 1516, "user_id": 270712, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/219d367933c8fe63a3cb0c097db1f5aa?s=128&d=identicon&r=PG", "display_name": "bovender", "link": "https://stackoverflow.com/users/270712/bovender"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1472704004, "post_id": 39257321, "comment_id": 65860967, "body": "@MethodMan I believe that this is indeed the relevant code. I have performed extensive tests with debugging, and the hang definitively occurs after calling <code>SaveFileDialog.ShowDialog()</code>. The add-ins are huge (e.g. <a href=\"https://github.com/bovender/xltoolbox\" rel=\"nofollow noreferrer\">github.com/bovender/xltoolbox</a>)."}, {"owner": {"reputation": 1516, "user_id": 270712, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/219d367933c8fe63a3cb0c097db1f5aa?s=128&d=identicon&r=PG", "display_name": "bovender", "link": "https://stackoverflow.com/users/270712/bovender"}, "edited": false, "score": 0, "creation_date": 1472704071, "post_id": 39257321, "comment_id": 65860986, "body": "I see people are disliking this question, that&#39;s fine. However, I have lots of users world wide and an increasing number are reporting this randomly occurring freeze. I need to get some pointers how to debug a frozen Office application."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 1, "creation_date": 1472738752, "post_id": 39257321, "comment_id": 65882081, "body": "sounds like you have an issue in your code.. if you have lots of users world wide then it appears that you have a underlying problem and what type of add in are you talking about.. once again showing 2 lines of code doesn&#39;t help anybody nor help is resolving your issue. I would say start with going through your code to make sure you are properly disposing of created objects in your code.."}, {"owner": {"reputation": 1516, "user_id": 270712, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/219d367933c8fe63a3cb0c097db1f5aa?s=128&d=identicon&r=PG", "display_name": "bovender", "link": "https://stackoverflow.com/users/270712/bovender"}, "edited": false, "score": 0, "creation_date": 1472919560, "post_id": 39257321, "comment_id": 65950447, "body": "Thanks for your time. Because the freeze also occurred during normal Open/Save operations and even if the add-in was not even loaded (but registered), I was inclined to think that this time, it was not my code&#39;s fault. I now found out it&#39;s a registry key that causes the freeze."}], "answers": [{"tags": [], "owner": {"reputation": 1516, "user_id": 270712, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/219d367933c8fe63a3cb0c097db1f5aa?s=128&d=identicon&r=PG", "display_name": "bovender", "link": "https://stackoverflow.com/users/270712/bovender"}, "is_accepted": true, "score": 2, "last_activity_date": 1472919431, "last_edit_date": 1495535648, "creation_date": 1472919431, "answer_id": 39308940, "question_id": 39257321, "link": "https://stackoverflow.com/questions/39257321/how-to-debug-hanging-savefiledialog/39308940#39308940", "title": "How to debug hanging SaveFileDialog", "body": "<p>Excel freezes on Open/Save As if a managed add-in is registered with a \"Warmup\" registry value, even if the add-in is not even loaded.</p>\n\n<p>The \"Warmup\" registry value, when set to 1 in an add-in's registry key, was once supposed to cause Excel to load the VSTO runtime at startup, rather than when the first user interaction with the add-in occurred. Apparently, <a href=\"https://stackoverflow.com/a/35031034/270712\">it was never implemented</a> and has since been removed from Microsoft's online <a href=\"https://msdn.microsoft.com/en-us/library/bb386106.aspx\" rel=\"nofollow noreferrer\">documentation of the registry entries for VSTO add-ins</a>.</p>\n\n<p>Once I removed the \"Warmup\" value from my add-in's registry key, Excel's Open/Save As dialogs no longer froze, nor did the add-in's own <code>SaveFileDialog.ShowDialog()</code> calls. I don't know why this is, but evidently, the \"Warmup\" value does do <em>something</em>.</p>\n\n<p>I was able to reproduce this with a dummy add-in that does not do anything. If that dummy add-in is registered in <code>HKCU\\Software\\Microsoft\\Excel\\Addins</code> without the \"Warmup\" <code>DWORD</code>, Excel works just fine. As soon as I add the <code>DWORD</code> with a value of <code>1</code>, Excel freezes when I click Open or Save As -- again, the dummy add-in does not do anything at all.</p>\n\n<p>So, if people get here wondering why their Office application freezes after installation of a VSTO add-in, I'd suggest to remove the \"Warmup\" value from the registry rather than spending hours debugging their code (as I did before I found out about \"Warmup\").</p>\n\n<p>Feedback from my users is positive.</p>\n"}], "owner": {"reputation": 1516, "user_id": 270712, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/219d367933c8fe63a3cb0c097db1f5aa?s=128&d=identicon&r=PG", "display_name": "bovender", "link": "https://stackoverflow.com/users/270712/bovender"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "accepted_answer_id": 39308940, "answer_count": 1, "score": -3, "last_activity_date": 1472919431, "creation_date": 1472670728, "question_id": 39257321, "link": "https://stackoverflow.com/questions/39257321/how-to-debug-hanging-savefiledialog", "title": "How to debug hanging SaveFileDialog", "body": "<p>Several users of my VSTO add-ins report hangs that occur when a \"Save as\" dialog should be displayed. This happens with an Excel add-in as well as a Word add-in. Interestingly, both applications also tend to hang when invoking the \"Save as\" command on a document.</p>\n\n<p>I am having a hard time to troubleshoot this because the entire application just freezes after</p>\n\n<pre><code>// using System.Windows.Forms;\nSaveFileDialog dlg = new SaveFileDialog();\n// lines to configure dlg left out\ndlg.ShowDialog();\n</code></pre>\n\n<p>When attempting to close Excel or Word in this situation, a message box \"Excel/Word can not be closed\" appears, and people have to resort to the Task Manager to get rid of it.</p>\n\n<p>The fact that both Excel and Word frequently hang on \"Save as\" is particularly disturbing, because I don't see how my add-ins interfere with the built-in \"Save as\" commands of these applications.</p>\n\n<p>To make matters worse, the add-ins need not even be loaded. Deactivating them by unchecking the corresponding entry in \"COM add-ins\" and restarting the application does not solve the problem. I have to completely remove the add-ins to make sure \"Save as\" does not freeze the application.</p>\n\n<p>This makes me think that it is not code in my add-ins that is the problem, but the mere presence of an (inactive) VSTO add-in that prevents a file dialog from appearing, thereby causing a hang.</p>\n\n<p>The hangs do not always occur, and not on all machines. It's quite random.</p>\n\n<p>How would I go about investigating this further? I have Visual Studio Professional 2013, but do not know how to find out why and where the Office application freeze.</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 71114, "user_id": 567435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zYyZz.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/567435/rahul"}, "edited": false, "score": 0, "creation_date": 1472671020, "post_id": 39257283, "comment_id": 65850722, "body": "<i>but it gives compile time error</i> and what is that? mind posting it as well"}, {"owner": {"reputation": 292, "user_id": 6668031, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7d4f22650f00d42eb1daf29badd64729?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/6668031/joseph"}, "reply_to_user": {"reputation": 71114, "user_id": 567435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zYyZz.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/567435/rahul"}, "edited": false, "score": 0, "creation_date": 1472706334, "post_id": 39257283, "comment_id": 65861503, "body": "Error shows a red squiggly line on &quot;testChild&quot; and the error message is:  Argument 1: cannot convert from &#39;string&#39; to &#39;System.Web.UI.WebControls.TreeNode&#39; ,"}], "owner": {"reputation": 292, "user_id": 6668031, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7d4f22650f00d42eb1daf29badd64729?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/6668031/joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1472670590, "creation_date": 1472670590, "question_id": 39257283, "link": "https://stackoverflow.com/questions/39257283/adding-child-nodes-to-existing-tree-and-linking-them-to-url", "title": "Adding child nodes to existing tree and linking them to URL", "body": "<p>I have a Home.aspx page in ASP.NET and have created a tree using the TreeView control from toolbox. Have added all the nodes(root and child) in design mode. I want to have  parent nodes as it is and add child nodes through code. Used below code in Page Load, but it gives compile time error      </p>\n\n<pre><code>TreeView1.Nodes[1].ChildNodes.Add(\"testChild\");\n</code></pre>\n\n<p>The number of nodes that can be added to a parent are not fixed(dynamic) and should be hyperlinked to another page. </p>\n"}, {"tags": ["java", "c#", "android", "xamarin"], "comments": [{"owner": {"reputation": 1239, "user_id": 2966445, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/VQtGO.jpg?s=128&g=1", "display_name": "user2966445", "link": "https://stackoverflow.com/users/2966445/user2966445"}, "reply_to_user": {"reputation": 1692, "user_id": 3678528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3rnvD.jpg?s=128&g=1", "display_name": "user3678528", "link": "https://stackoverflow.com/users/3678528/user3678528"}, "edited": false, "score": 0, "creation_date": 1472702739, "post_id": 39257281, "comment_id": 65860661, "body": "@user3678528 Where?"}, {"owner": {"reputation": 1692, "user_id": 3678528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3rnvD.jpg?s=128&g=1", "display_name": "user3678528", "link": "https://stackoverflow.com/users/3678528/user3678528"}, "edited": false, "score": 0, "creation_date": 1472702816, "post_id": 39257281, "comment_id": 65860685, "body": "Try    android:layout_width=&quot;0dp&quot; Instead of   android:layout_width=&quot;match_parent&quot;   for all button."}, {"owner": {"reputation": 1239, "user_id": 2966445, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/VQtGO.jpg?s=128&g=1", "display_name": "user2966445", "link": "https://stackoverflow.com/users/2966445/user2966445"}, "reply_to_user": {"reputation": 1692, "user_id": 3678528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3rnvD.jpg?s=128&g=1", "display_name": "user3678528", "link": "https://stackoverflow.com/users/3678528/user3678528"}, "edited": false, "score": 0, "creation_date": 1472742460, "post_id": 39257281, "comment_id": 65884827, "body": "@user3678528 I tried your suggestion, but the result was the same (text clipped on each button)."}], "owner": {"reputation": 1239, "user_id": 2966445, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/VQtGO.jpg?s=128&g=1", "display_name": "user2966445", "link": "https://stackoverflow.com/users/2966445/user2966445"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 252, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1472697809, "creation_date": 1472670580, "last_edit_date": 1472697809, "question_id": 39257281, "link": "https://stackoverflow.com/questions/39257281/android-prevent-clipping-of-button-text-inside-horizontalscrollview", "title": "Android - Prevent Clipping of Button Text Inside HorizontalScrollView?", "body": "<p>I have a HorizontalScrollView at the bottom of an app, and I want each button inside to be equal width, but not clip button text. I've tried playing around with \"layout_width\" of LinearLayouts, HorizontalScrollView and Buttons, as well as changing button weights. </p>\n\n<p>I end up with either: 4 buttons exactly filling the screen width (which is NOT what I want, since the user needs to realize  additional buttons are available), or the screenshot below (button text clipped).</p>\n\n<p>How can I have equal button widths, no text clipped and one button partially shown to indicate scrolling is possible?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Uoqaj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uoqaj.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>my_activity.axml:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:id=\"@+id/my_layout\"\n    android:background=\"#FFFFFFFF\"&gt;\n    &lt;HorizontalScrollView\n        android:id=\"@+id/toolbar_scroll\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:fillViewport=\"true\"\n        android:scrollbars=\"none\"&gt;\n      &lt;LinearLayout\n    android:id=\"@+id/toolbar_wrapper\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n        &lt;LinearLayout\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:weightSum=\"6\"\n            android:orientation=\"horizontal\"&gt;\n          &lt;Button\n              android:id=\"@+id/my_style_button\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"wrap_content\"\n              android:text=\"@string/my_color\"\n              android:drawableLeft=\"@drawable/ic_color\"\n              style=\"@style/Toolbar_Button\"\n              android:singleLine=\"true\"\n              android:drawablePadding=\"10dp\"\n              android:layout_weight=\"1\" /&gt;\n          &lt;Button\n              android:id=\"@+id/my_behavior_button\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"wrap_content\"\n              android:text=\"@string/my_behavior\"\n              android:drawableLeft=\"@drawable/ic_behavior\"\n              style=\"@style/Toolbar_Button\"\n              android:singleLine=\"true\"\n              android:drawablePadding=\"10dp\"\n              android:layout_weight=\"1\" /&gt;\n          &lt;Button\n              android:id=\"@+id/sound_button\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"wrap_content\"\n              android:text=\"@string/sound\"\n              android:drawableLeft=\"@drawable/ic_sound\"\n              style=\"@style/Toolbar_Button\"\n              android:drawablePadding=\"10dp\"\n              android:singleLine=\"true\"\n              android:layout_weight=\"1\" /&gt;\n          &lt;Button\n              android:id=\"@+id/my_background_button\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"wrap_content\"\n              android:text=\"@string/my_background\"\n              android:drawableLeft=\"@drawable/ic_background\"\n              style=\"@style/Toolbar_Button\"\n              android:drawablePadding=\"10dp\"\n              android:singleLine=\"true\"\n              android:layout_weight=\"1\" /&gt;\n          &lt;Button\n              android:id=\"@+id/share_button\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"wrap_content\"\n              android:text=\"@string/social_share\"\n              android:drawableLeft=\"@drawable/ic_social_share\"\n              style=\"@style/Toolbar_Button\"\n              android:drawablePadding=\"10dp\"\n              android:singleLine=\"true\"\n              android:layout_weight=\"1\" /&gt;\n          &lt;Button\n              android:id=\"@+id/about_button\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"wrap_content\"\n              android:text=\"@string/about\"\n              android:drawableLeft=\"@drawable/ic_about\"\n              style=\"@style/Toolbar_Button\"\n              android:drawablePadding=\"10dp\"\n              android:singleLine=\"true\"\n              android:layout_weight=\"1\" /&gt;\n        &lt;/LinearLayout&gt;\n      &lt;/LinearLayout&gt;\n    &lt;/HorizontalScrollView&gt;\n...\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>styles.xml:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;resources&gt;\n  &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;item name=\"android:listViewStyle\"&gt;@style/ListViewStyle&lt;/item&gt;\n    &lt;item name=\"android:textColor\"&gt;#000000&lt;/item&gt;\n  &lt;/style&gt;\n  &lt;style name=\"ListViewStyle\" parent=\"@android:style/Widget.ListView\"&gt;\n    &lt;item name=\"android:textColor\"&gt;#000000&lt;/item&gt;\n    &lt;item name=\"android:typeface\"&gt;sans&lt;/item&gt;\n  &lt;/style&gt;\n  &lt;style name=\"TextAppearance_Toolbar\"&gt;\n    &lt;item name=\"android:textColor\"&gt;#000000&lt;/item&gt;\n    &lt;item name=\"android:typeface\"&gt;sans&lt;/item&gt;\n  &lt;/style&gt;\n  &lt;style name=\"Toolbar_Button\" parent=\"android:Widget\"&gt;\n      &lt;item name=\"android:layout_margin\"&gt;5dp&lt;/item&gt;\n      &lt;item name=\"android:background\"&gt;@drawable/toolbar_button&lt;/item&gt;   \n  &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p><strong>toolbar_button.xml:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\" android:shape=\"rectangle\" &gt;\n  &lt;corners\n  android:radius=\"10dp\"\n/&gt;\n  &lt;solid\n  android:color=\"#FFFFFF\"\n/&gt;\n  &lt;padding\n  android:left=\"10dp\"\n  android:top=\"10dp\"\n  android:right=\"10dp\"\n  android:bottom=\"10dp\"\n/&gt;\n\n  &lt;stroke\n  android:width=\"3dp\"\n  android:color=\"#878787\"\n/&gt;\n&lt;/shape&gt;\n</code></pre>\n"}, {"tags": ["c#", "windows", "pinvoke"], "comments": [{"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 1, "creation_date": 1472725201, "post_id": 39257243, "comment_id": 65872188, "body": "The way I would go about investigating this is to create a brand new project that <i>just</i> calls <code>AddFontResource</code>, and see if it&#39;s still slow on Windows 10. Try it with the exact same fonts you&#39;re loading for your application, and then try it for different fonts. See if it&#39;s slow in both cases. Try to narrow down the problem."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 1130310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZXsx.png?s=128&g=1", "display_name": "Patrick Ribbing", "link": "https://stackoverflow.com/users/1130310/patrick-ribbing"}, "edited": false, "score": 0, "creation_date": 1476174445, "post_id": 39879262, "comment_id": 67225500, "body": "Ok. Always good to know it&#39;s not only on my machine this is a problem, thank&#39;s for the info John and @Marc Fauser."}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1480424917, "post_id": 39879262, "comment_id": 68948676, "body": "If you can get a consistent repro on this problem, have you reported it to Microsoft? It doesn&#39;t do any good to suffer in silence."}, {"owner": {"reputation": 21, "user_id": 4321387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/641c13e0f1e17965776d7ce8b56135d7?s=128&d=identicon&r=PG", "display_name": "John T. Haller", "link": "https://stackoverflow.com/users/4321387/john-t-haller"}, "edited": false, "score": 0, "creation_date": 1487988243, "post_id": 39879262, "comment_id": 72045983, "body": "I&#39;d happily report it if Microsoft didn&#39;t make it impossible to report anything. It took me two tries to get a fix for a broken controller from Microsoft with the first rep charging me for accessories for something I didn&#39;t even own."}], "tags": [], "owner": {"reputation": 21, "user_id": 4321387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/641c13e0f1e17965776d7ce8b56135d7?s=128&d=identicon&r=PG", "display_name": "John T. Haller", "link": "https://stackoverflow.com/users/4321387/john-t-haller"}, "is_accepted": false, "score": 2, "last_activity_date": 1475684793, "creation_date": 1475684793, "answer_id": 39879262, "question_id": 39257243, "link": "https://stackoverflow.com/questions/39257243/addfontresource-slow-on-win10-anniversary-update/39879262#39879262", "title": "AddFontResource() slow on Win10 Anniversary Update", "body": "<p>Windows 10 anniversary update destroyed performance of the AddFontResource and RemoveFontResource APIs.  We're dealing with fallout from it at PortableApps.com now.  It's only an issue on Windows 10 after the anniversary update is applied.  It's so bad that my old slow ASUS T100 convertible runs code from a USB drive faster than my i7 desktop does from an internal SSD.</p>\n"}, {"comments": [{"owner": {"reputation": 111, "user_id": 1130310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZXsx.png?s=128&g=1", "display_name": "Patrick Ribbing", "link": "https://stackoverflow.com/users/1130310/patrick-ribbing"}, "edited": false, "score": 0, "creation_date": 1491766360, "post_id": 42841860, "comment_id": 73686781, "body": "Some tweaking was needed, but the method above worked perfectly.  &lt;code&gt;         private const uint FR_PRIVATE = 0x10;     [DllImport(&quot;gdi32.dll&quot;)] static extern int AddFontResourceEx(string lpszFilename,      uint fl, IntPtr pdv);     AddFontResourceEx(&quot;filename&quot;, FR_PRIVATE, IntPtr.Zero); &lt;/code&gt;"}], "tags": [], "owner": {"reputation": 26, "user_id": 7723072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0E7us.png?s=128&g=1", "display_name": "matheusd", "link": "https://stackoverflow.com/users/7723072/matheusd"}, "is_accepted": true, "score": 1, "last_activity_date": 1489688033, "creation_date": 1489688033, "answer_id": 42841860, "question_id": 39257243, "link": "https://stackoverflow.com/questions/39257243/addfontresource-slow-on-win10-anniversary-update/42841860#42841860", "title": "AddFontResource() slow on Win10 Anniversary Update", "body": "<p>I have also observed this problem, but in our case I found a solution: Call <a href=\"https://msdn.microsoft.com/pt-br/library/windows/desktop/dd183327(v=vs.85).aspx\" rel=\"nofollow noreferrer\">AddFontResourceEx()</a>.</p>\n\n<p>The full change in our code was:</p>\n\n<pre><code>// from this\nAddFontResource(pFont);\n\n// to this\nAddFontResourceEx(pFont, FR_PRIVATE, 0);\n</code></pre>\n\n<p>This solved the slowness problem in at least one of the machines I've personally tested.</p>\n"}], "owner": {"reputation": 111, "user_id": 1130310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZXsx.png?s=128&g=1", "display_name": "Patrick Ribbing", "link": "https://stackoverflow.com/users/1130310/patrick-ribbing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "accepted_answer_id": 42841860, "answer_count": 2, "score": 1, "last_activity_date": 1489688033, "creation_date": 1472670420, "question_id": 39257243, "link": "https://stackoverflow.com/questions/39257243/addfontresource-slow-on-win10-anniversary-update", "title": "AddFontResource() slow on Win10 Anniversary Update", "body": "<p>I'm working with maintenance of .NET 3.5 application. During application startup a number of fonts are read from working directory and registered in Windows. We use a pinvoke calls to <code>AddFontResource(string lpFileName)</code> (Gdi32.dll) for each font file.</p>\n\n<p>The code has always been fast, that is until I upgraded to Win10 Anniversary Update (before that, there were no problems with Win10). Now a call can take half a second, which has increased startup time with 90 seconds.</p>\n\n<p>Any idea what can cause the problem? And how to fix it?</p>\n"}, {"tags": ["c#", "sql-server", "visual-studio-2012", "ssis"], "comments": [{"owner": {"reputation": 4746, "user_id": 1010622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5f2ece15235dbd01bf59af763ad8706?s=128&d=identicon&r=PG", "display_name": "Ferdipux", "link": "https://stackoverflow.com/users/1010622/ferdipux"}, "edited": false, "score": 1, "creation_date": 1472710938, "post_id": 39257233, "comment_id": 65863279, "body": "Seems that line with <code>Package pkg = new Package();</code> is redundant.   For more information on the error - define IDTSEvents interface as described in <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.sqlserver.dts.runtime.idtsevents.aspx\" rel=\"nofollow noreferrer\">MS Article</a> or <a href=\"https://social.msdn.microsoft.com/Forums/sqlserver/en-US/b5813ba2-84c4-4a13-b31e-40df66aea1cd/consuming-events-in-code?forum=sqlintegrationservices\" rel=\"nofollow noreferrer\">MSDN</a>."}, {"owner": {"reputation": 4746, "user_id": 1010622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5f2ece15235dbd01bf59af763ad8706?s=128&d=identicon&r=PG", "display_name": "Ferdipux", "link": "https://stackoverflow.com/users/1010622/ferdipux"}, "edited": false, "score": 1, "creation_date": 1472761890, "post_id": 39257233, "comment_id": 65895119, "body": "Add this IDTSEvents interface as a non-NULL second parameter of LoadPackage and get error details."}, {"owner": {"reputation": 2901, "user_id": 1429499, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/CVdUR.jpg?s=128&g=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/1429499/melanie"}, "reply_to_user": {"reputation": 4746, "user_id": 1010622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5f2ece15235dbd01bf59af763ad8706?s=128&d=identicon&r=PG", "display_name": "Ferdipux", "link": "https://stackoverflow.com/users/1010622/ferdipux"}, "edited": false, "score": 0, "creation_date": 1472830175, "post_id": 39257233, "comment_id": 65925698, "body": "Thanks, very helpful. I&#39;m still researching, but I&#39;ll post what I figure out (or more questions) when I&#39;m done looking at the error details I&#39;m getting from the IDTSEvents interface."}, {"owner": {"reputation": 2901, "user_id": 1429499, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/CVdUR.jpg?s=128&g=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/1429499/melanie"}, "reply_to_user": {"reputation": 4746, "user_id": 1010622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5f2ece15235dbd01bf59af763ad8706?s=128&d=identicon&r=PG", "display_name": "Ferdipux", "link": "https://stackoverflow.com/users/1010622/ferdipux"}, "edited": false, "score": 0, "creation_date": 1473177005, "post_id": 39257233, "comment_id": 66036035, "body": "I solved my problem by adding the IDTSEvents interface to my code as you suggested. The error was caused by my having both SqlServer 2008 and 2012 installed on my machine. I uninstalled 2008 and then got an error about a missing dll, specifically Microsoft.SqlServer.ManagedDTS. It was there in my project&#39;s references, but I had to delete it and then reload it. However, be aware it may not be possible to run the above code using VS2012. I&#39;m now getting another error message about a version mismatch on another dll (DTSRuntimeWrap). I&#39;m still investigating how to accomplish what I want in VS2012."}, {"owner": {"reputation": 4746, "user_id": 1010622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5f2ece15235dbd01bf59af763ad8706?s=128&d=identicon&r=PG", "display_name": "Ferdipux", "link": "https://stackoverflow.com/users/1010622/ferdipux"}, "edited": false, "score": 0, "creation_date": 1473188349, "post_id": 39257233, "comment_id": 66042072, "body": "You should review all DTS dll references in VS project. If you really had SSIS 2008, references could point to ver 2008 dlls, and having uninstalled SSIS 2008 - you have broken references."}], "owner": {"reputation": 2901, "user_id": 1429499, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/CVdUR.jpg?s=128&g=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/1429499/melanie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 574, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1472670376, "creation_date": 1472670376, "question_id": 39257233, "link": "https://stackoverflow.com/questions/39257233/calling-local-ssis-package-from-c-console-application", "title": "Calling local SSIS package from C# console application", "body": "<p>I'm trying to run a local SSIS package from a C# console application. I've built both the package and the application using .Net 4.5.1 in VisualStudio 2012. When I say \"local\" I mean the SSIS package hasn't been deployed to a SQL Server; I'm just trying to call the .dtsx file from the file system. The SSIS package runs fine from within VisualStudio. Here's my code:</p>\n\n<pre><code>string pkgLocation = @\"C:\\Users\\06717\\Documents\\Visual Studio 2012\\Projects\\RMA_Data_Cleanup\\RMA_Data_Cleanup\\\";\nstring pkgName = \"Package.dtsx\";\nApplication app = new Application();\nPackage pkg = new Package();\nDTSExecResult pkgResults = new DTSExecResult();\ntry\n{\n    pkg = app.LoadPackage(pkgLocation + pkgName, null);\n</code></pre>\n\n<p>There's more after this, obviously, but the problem comes with the app.LoadPackage line. When I try to run it, this exception gets thrown:</p>\n\n<p>The package failed to load due to error 0xC0011008 \"Error loading from XML. No further detailed error information can be specified for this problem because no Events object was passed where detailed error information can be stored.\". This occurs when CPackage::LoadFromXML fails.</p>\n\n<p>I've googled this error message, and I haven't found anything that seems to apply to my case. One thing that occurs to me is that maybe I'm calling the wrong dtsx file. There's another one in the obj\\Development folder. I've tried calling that one too, but I get the same exception. Am I calling the right file? Is there something I need to do from within Visual Studio, other than build the package, before I can do this? (pkgResults = Success, BTW)</p>\n"}, {"tags": ["c#", "class", "design-patterns", "refactoring"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1472671046, "post_id": 39257163, "comment_id": 65850738, "body": "Maybe Uncle Bob needs to take a valium. Less flippantly, if you&#39;re contemplating shipping the internals of the class around to a couple of different new classes, you&#39;ve broken things up wrong. The object of refactoring is to identify units that can interact with each other relatively simply. Find the groupings of internals that don&#39;t need to know about each other and can trade simple outputs; those are your building blocks. Most importantly, if the code <i>works</i> now, maybe you should just toss a #region around it and let it be. This is called &quot;redneck refactoring&quot;, and it works."}, {"owner": {"reputation": 1163, "user_id": 1750537, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a6075fe58fe65af2e2641ffd2f8ebd8d?s=128&d=identicon&r=PG", "display_name": "Pacificoder", "link": "https://stackoverflow.com/users/1750537/pacificoder"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1472672265, "post_id": 39257163, "comment_id": 65851374, "body": "yes I have done the &quot;redneck refactoring&quot; using the #region tag lol - it&#39;s a poor man&#39;s solution but does clean up the file somewhat.  Thanks for the suggestions"}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "edited": false, "score": 0, "creation_date": 1472674009, "post_id": 39257163, "comment_id": 65852252, "body": "You should break it up into &quot;steps&quot; as we both agreed on, but each &quot;step&quot; should either be built on a common base class for the common functionality or a utility class. I&#39;d probably go the utility class(es) route and have one for all the DB stuff and one for each &quot;functional block&quot; -- BUT -- those should be completely independent and not work on each other... i.e. the DB class should be DB only and return something generic to the caller."}, {"owner": {"reputation": 1163, "user_id": 1750537, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a6075fe58fe65af2e2641ffd2f8ebd8d?s=128&d=identicon&r=PG", "display_name": "Pacificoder", "link": "https://stackoverflow.com/users/1750537/pacificoder"}, "edited": false, "score": 0, "creation_date": 1472679509, "post_id": 39257163, "comment_id": 65854836, "body": "see updated code snippet"}], "answers": [{"comments": [{"owner": {"reputation": 1163, "user_id": 1750537, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a6075fe58fe65af2e2641ffd2f8ebd8d?s=128&d=identicon&r=PG", "display_name": "Pacificoder", "link": "https://stackoverflow.com/users/1750537/pacificoder"}, "edited": false, "score": 0, "creation_date": 1472672632, "post_id": 39257361, "comment_id": 65851527, "body": "see my Edit above"}], "tags": [], "owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "is_accepted": false, "score": 0, "last_activity_date": 1472670879, "creation_date": 1472670879, "answer_id": 39257361, "question_id": 39257163, "link": "https://stackoverflow.com/questions/39257163/large-class-with-dependant-classes-and-shared-properties/39257361#39257361", "title": "Large class with dependant classes and shared properties", "body": "<p>I wouldn't \"pass stuff around\". Nor would I break it up into separate classes just because its 1000 lines. You'll end up making it much messier and much more of a maintenance headache.</p>\n\n<p>You didn't post your code (duh), so its hard to critique it. If you really go over it, I suspect you might have duplicate code in there that can be refactored into methods, etc.</p>\n\n<p>If you've already gotten rid of the duplicate code, I'd next pull out all the database stuff into a DAL layer.</p>\n\n<p>If you really want to make it smaller (based on what little info you provided), I'd next refactor it into \"steps\" and make a workflow type parent container class.</p>\n\n<p>Again, hard to say without knowing the code.</p>\n"}, {"tags": [], "owner": {"reputation": 9397, "user_id": 2279448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e686e04e095735f571dff07ea9818a9?s=128&d=identicon&r=PG", "display_name": "Zoran Horvat", "link": "https://stackoverflow.com/users/2279448/zoran-horvat"}, "is_accepted": false, "score": 0, "last_activity_date": 1472670983, "creation_date": 1472670983, "answer_id": 39257389, "question_id": 39257163, "link": "https://stackoverflow.com/questions/39257163/large-class-with-dependant-classes-and-shared-properties/39257389#39257389", "title": "Large class with dependant classes and shared properties", "body": "<p>I don't know how exactly you have managed to refactor the class this far, but from your explanation it sounds to me like the \"statistic\" is the concept that should become an object, something like:</p>\n\n<pre><code>interface IStatistic&lt;TOutput&gt;\n{\n    IEnumerable&lt;TOutput&gt; Calculate(IEnumerable&lt;input-type&gt;);\n}\n</code></pre>\n\n<p>When you wish to display some statistic, you just use the appropriate statistic:</p>\n\n<pre><code>return new MySpecial().Calculate(myData);\n</code></pre>\n\n<p>In case that statistics objects are not that easy to construct, e.i. they ask for some parameters and so, then you may supply a Func delegate which creates them:</p>\n\n<pre><code>void DoSomething(Func&lt;IStatistic&lt;string&gt;&gt; factory)\n{\n    string[] inputData = ...\n    foreach (string line in factory().Calculate(inputData))\n    {\n        // do something...\n    }\n}\n</code></pre>\n\n<p>As you are mentioning multiple lists, I suppose that input-type would actually be a couple of input types. If that is so, then it might really make sense to supply a kind of a DTO to just hold the lists:</p>\n\n<pre><code>class RawData\n{\n    public IEnumerable&lt;type1&gt; Data1 { get; }\n    public IEnumerabel&lt;type2&gt; Data2 { get; }\n    ...\n}\n</code></pre>\n\n<p>Observe, however, that this is not a DTO \"by the book\". First, it is immutable - only getters are there. Second, it only exposes sequences (<code>IEnumerable</code>), rather than raw lists. Both measures are taken to disallow statistic objects to manipulate data.</p>\n"}, {"tags": [], "owner": {"reputation": 2032, "user_id": 218441, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BKhf0.jpg?s=128&g=1", "display_name": "Jocke", "link": "https://stackoverflow.com/users/218441/jocke"}, "is_accepted": false, "score": 1, "last_activity_date": 1472671114, "creation_date": 1472671114, "answer_id": 39257426, "question_id": 39257163, "link": "https://stackoverflow.com/questions/39257163/large-class-with-dependant-classes-and-shared-properties/39257426#39257426", "title": "Large class with dependant classes and shared properties", "body": "<p>The brutal answer is that it depends... of course. It is hard to work out a answer without reading the code, but I would say that once you have created new classes (with one purpose) those classes and interfaces should define what data objects you need to pass around to solve your problems. And in that case it is strange for a method to return the same type as pass into it, I also think that manipulation one object through a seriers of methods is fragile. Imagine if each of you classes was a REST service; then how would those interfaces look like.</p>\n"}], "owner": {"reputation": 1163, "user_id": 1750537, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a6075fe58fe65af2e2641ffd2f8ebd8d?s=128&d=identicon&r=PG", "display_name": "Pacificoder", "link": "https://stackoverflow.com/users/1750537/pacificoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1472679457, "creation_date": 1472670154, "last_edit_date": 1472679457, "question_id": 39257163, "link": "https://stackoverflow.com/questions/39257163/large-class-with-dependant-classes-and-shared-properties", "title": "Large class with dependant classes and shared properties", "body": "<p>I am having trouble figuring out the best way to refactor a very large C# class and specifically how to pass shared properties/values from the large class into the extracted classes and have those modified values available in the main class.</p>\n\n<p>At the start, this class was 1000 lines long and is very procedural \u2013 it involves calling methods and performing work in a specific sequence.  Along the way things are persisted into the database.  During the process there are multiple Lists of items that are worked on and shared in the methods.  At the end of this process, there are a bunch of statistics that are presented to the user.  These statistics are calculated in various methods as the processing is taking place.  To give a rough outline \u2013 the process involves a bunch of random selection and at the end of the process the user sees how many random items, how many invalid records were picked, how many items came from this sub-list etc.</p>\n\n<p>I have been reading Uncle Bob\u2019s \u201cClean Code\u201d and am trying to make sure as I refactor that each class does only 1 thing.  </p>\n\n<p>So I have been able to extract methods and classes in order to keep the file smaller (have it down to 450 lines now) but the problem I am having now is that these broken out classes require values from the main parent class to be passed to them and updated \u2013 these values will be used for other methods/class methods as well.</p>\n\n<p>I am torn as to which is the cleanest approach:</p>\n\n<p>1)  Should I create a bunch of private member variables to store the statistical values and Lists in the main class and then after calling into the main class' dependnat class methods, receive back a complex result class and then extract these values out and populate / update the private member variables? ( lots of boiler plate code this way)</p>\n\n<p>OR</p>\n\n<p>2)  Is it better to create a DTO or a some sort of container class that holds the Lists and statistical values and just pass it to the various class methods and child class methods by reference in order to build up the list of values?  In other words I am just passing this container class and since it's an object the other classes and methods will be able to directly manipulate the values in there.  Then at the end of the process, that values DTO/container/whatever you want to call it will have all of the final results in it and I can just extract them from the container class (and in that case there really is no need to extract them and populate the main class\u2019 private member variables. )</p>\n\n<p>The latter is the way I have it now but I am feeling that this is a code smell \u2013 it all works but it just seems \u201cfragile\u201d.  I know large classes are not great but at least with everything in 1 large file it does seem clearer as to which properties I am updating etc.</p>\n\n<p>-- UPDATE --</p>\n\n<p>Some more info:</p>\n\n<p>Unfortunately I can't post any of the actual code as it is propriatary - will try to come up with dummy example and paste it in if I get some time.  One of the comments below mentioned refactoring the code into steps and that is exactly what I've done.  The purpose of the class is ultimately 1 thing - to create a random list of things - so in the only public method that gets called for this class - I have refactored this down to 1 level of abtraction for each \"step\".  Each step, whether that is a method in the same class, or if it makes sense to break it out into a helper class to do the substeps - it still requires access to the lists that get built up during the process and the simple counter variables that keep track of the statistics.</p>\n\n<p>-- UPDATE --</p>\n\n<p>Here is an attempt at showing something similar in code:</p>\n\n<pre><code>public class RandomList(){\n\n    public int Id{get; set;}\n    public int Name{get; set;} \n    public int NumOfInvalidItems {get; set;}\n    public int NumOfFirstChunkItems{get; set;}\n    public int NumOfSecondChunkItems{get; set;}\n\n    public ICollection&lt;RandomListItem&gt; Items{get; set;}   \n}\n\npublic class CreateRandomListService(){\n\n    private readonly IUnitOfWork _unitOfWork;\n    private readonly ICreateRandomListValidator _createRandomListValidator;\n    private readonly IRandomSubProcessService _randomSubProcessService;\n    private readonly IAnotherSubProcessService _anotherSubProcessService;   \n\n    private RandomList _randomList;\n\n    public CreateRandomListService(IUnitOfWork unitOfWork,\n                                ICreateRandomListValidator      createRandomListValidator,\n                                IRandomFirstChunkFactory randomFirstChunkFactory,\n                                IRandomSecondChunkFactory randomSecondChunkFactory){\n    _unitOfWork = unitOfWork;\n    _createRandomListValidator = createRandomListValidator;    \n\n    _randomFirstChunkService = randomFirstChunkFactory.Create(_unitOfWork);\n    _randomSecondChunkService = randomSecondChunkFactory.Create(_unitOfWork);\n}   \n\n\npublic CreateResult CreateRandomList(CreateRandomListValues createValues){\n\n    // validate passed in model before proceeding\n    if(_createRandomListValidator.Validate(createValues))\n        return new CreateResult({HasErrors:true});\n\n    InitializeValues(createValues); // fetch settings from db etc and build up\n    ProcessFirstChunk(); \n    ProcessSecondChunk(); \n    SaveWithStatistics();\n    createResult.Id = _randomList.Id;\n    return createResult;\n\n\n}\n\nprivate InitializeValues(CreateRandomListValues createValues){\n\n    _createValues = createValues;\n    _createValues.ImportantSetting = _unitOfWork.SettingsRepository.GetImportantSetting();\n    // etc. \n    _randomList = new RandomList(){\n        // set initial properties etc. some come from the passed in createValues, some from db\n    }\n\n}\nprivate void ProcessFirstChunk(){\n    _randomFirstChunkService.GetRandomFirstChunk(_createValues);\n}\n\nprivate void ProcessSecondChunk(){\n    _randomSecondChunkService.GetRandomSecondChunk(_createValues);\n}\n\nprivate void SaveWithStatistics(){\n\n    _randomList.Items _createValues.ListOfItems;\n    _randomList.NumOfInvalidItems = _createValues.NumOfInvalidItems;\n    _randomList.NumOfItemsChosen = _createValues.NumOfItemsChosen;\n    _randomList.NumOfFirstChunkItems = _createValues.NumOfFirstChunkItems;\n    _randomList.NumOfSecondChunkItems = _createValues.NumOfSecondChunkItems;\n\n    _unitOfWork.RandomThingRepository.Add(_randomList);\n    _unitOfWork.Save();\n}\n}\n\npublic class RandomFirstChunkService(){\n    private IUnitOfWork _unitOfWork;\n\n    public RandomFirstChunkService(IUnitOfWork unitOfWork){\n        _unitOfWork = unitOfWork;\n    }\n\npublic void GetRandomFirstChunk(CreateRandomListValues createValues){\n    // do processing here - build up list collection and keep track of counts\n    CallMethodThatUpdatesList(creatValues);\n\n    // how to return this to calling class?  currently just updating values in createValues by reference\n    // can also return a complex class here and extract the values back to the main class' member\n    // variables\n}\n\nprivate void CallMethodThatUpdatesList(createRandomListValues createValues){\n    // do work\n\n}\n}\n</code></pre>\n"}, {"tags": ["c#", "mongodb", "updates"], "comments": [{"owner": {"reputation": 1359, "user_id": 1073358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PP15K.jpg?s=128&g=1", "display_name": "Skami", "link": "https://stackoverflow.com/users/1073358/skami"}, "edited": false, "score": 0, "creation_date": 1502710256, "post_id": 39257150, "comment_id": 78304357, "body": "Have you looked at <a href=\"https://stackoverflow.com/a/45222991/1073358\">stackoverflow.com/a/45222991/1073358</a>, might be helpful for this case."}], "owner": {"reputation": 968, "user_id": 936418, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/52a045de9eed9d847b6326defc920b5f?s=128&d=identicon&r=PG", "display_name": "SimonAx", "link": "https://stackoverflow.com/users/936418/simonax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2544, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1472670122, "creation_date": 1472670122, "last_edit_date": 1495541697, "question_id": 39257150, "link": "https://stackoverflow.com/questions/39257150/dynamically-updating-multiple-fields-in-mongodb-using-c", "title": "Dynamically updating multiple fields in MongoDb using C#", "body": "<p>At work I'm contributing to an application that will be used many people and processes. MongoDb is used for storing data. We foresee that there will be concurrency issues if we don't get the update actions right. Since I'm rather new to MongoDb, I'm doing a proof of concept at home. Inserting and deleting works fine, but then there are the updates.</p>\n\n<p>Consider the following record of a movie:</p>\n\n<pre><code>{\n  \"ID\": \"74733528-a491-4a73-8462-eca00f63c400\",\n  \"Title\": \"The Matrikx\",\n  \"Year\": \"1979\",\n  \"Duration\": \"3h16min\",\n  \"Categories\": [\n    {\n     \"Category\": \"Action\"\n    },\n    {\n     \"Category\": \"Sci-Fi\"\n    }\n   ],\n  \"Reviews\": [\n   {\n     \"ReviewerId\": \"82c53033-e6dd-4745-89e4-74ab29ff17be\",\n     \"ReviewerName\": \"Keanu\",\n     \"Comment\": \"The best movie ever\"\n   },\n   {\n    \"ReviewerId\": \"49c906a4-4f42-41b4-9a30-fee764fa04a1\",\n    \"ReviewerName\": \"Laurence\",\n    \"Comment\": \"The best movie ever++\"\n   }\n ]\n}\n</code></pre>\n\n<p>I foresee a scenario in which two users, User1 and User2, simultaneously fetch this document from Mongo and subsequently edit the same document. Say User1 corrects the Title and the Year. User2 did not change these fields, but updates the Duration field and the comment posted by Laurence. Both users should be able to persist their changes without overwriting the changes made by the other user.</p>\n\n<p>Using C# and MongoDb Driver v2.2, how can I update only a few properties dynamically instead of replacing the whole document? I've seen several answers on SO prescribing e.g.</p>\n\n<pre><code>Builders&lt;BsonDocument&gt;.Update.Set(\"key1\",\"value1\").Set(\"key2\",\"value2\")\n</code></pre>\n\n<p>but I don't see how this can be useful unless I know during coding what fields will be set. <a href=\"https://stackoverflow.com/questions/14937581/how-to-write-update-query-to-update-multiple-fields-in-mongodb\">The accepted answer to this SO question </a> proposes to use Update.Combine, which seems better. What is the practical approach for getting the keys (e.g. Title and Year for User1)? For User2, who also modified the second review, I need to build the key to \"Reviews.$.<a href=\"https://stackoverflow.com/questions/14937581/how-to-write-update-query-to-update-multiple-fields-in-mongodb\">1</a>.Title\". The fact that I need to determine which field has been updated and also which element of the collection was modified, makes life difficult. Can anyone either sketch how they have solved such a problem, or point me to a tutorial addressing these issues? </p>\n"}, {"tags": ["c#", "sql-server", "entity-framework", "stored-procedures", "entity-framework-6"], "comments": [{"owner": {"reputation": 2699, "user_id": 3394022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z3hoz.png?s=128&g=1", "display_name": "SlimsGhost", "link": "https://stackoverflow.com/users/3394022/slimsghost"}, "edited": false, "score": 1, "creation_date": 1472676460, "post_id": 39257120, "comment_id": 65853476, "body": "you say the `StoredGeneratorPattern&#39; is set to Identity, but have you confirmed that the underlying sql svr db column is set as an Identity column?  If the db is not setup, .Net doesn&#39;t generate the ID itself."}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1472677072, "post_id": 39257120, "comment_id": 65853769, "body": "An update procedure that doesn&#39;t require an Id? If you map stored procedures to CUD actions in Entity Framework, these procedures are supposed to have strict signatures. I wonder how you can even map only one sproc to the three CUD actions. It would be useful for your question to see the sproc. For one, the insert sproc should return a generated Id value."}], "owner": {"reputation": 41, "user_id": 6286468, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5cc24b81ec92800ed75ec8df1b6d8636?s=128&d=identicon&r=PG&f=1", "display_name": "DanielJ", "link": "https://stackoverflow.com/users/6286468/danielj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2618, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1472676169, "creation_date": 1472670049, "last_edit_date": 1472676169, "question_id": 39257120, "link": "https://stackoverflow.com/questions/39257120/entity-framework-same-primary-key-value-error-when-saving-changes-to-database", "title": "Entity Framework same primary key value error when saving changes to database", "body": "<p>In my program, I'm using Entity Framework and added a table to my <code>.edmx</code> model. I mapped the insert, update, and delete functions to only one stored procedure, my update procedure, since it is the only procedure I will be using on this table. In my program, I loop through a bunch of users getting values and adding them to the entity before finally saving the changes. </p>\n\n<p>Start loop    </p>\n\n<pre><code>var newGroup = new ru_Groups();\n\nnewGroup.adsPath = adsPath; \nnewGroup.DisplayName = displayName; \nnewGroup.Domain = domain; \nnewGroup.AccountName = accountName;\nnewGroup.Email = email;\nnewGroup.GroupType = groupType;\n\nUserEntities.ru_Groups.Add(newGroup);\n</code></pre>\n\n<p>end loop</p>\n\n<pre><code>UserEntities.SaveChanges();\n</code></pre>\n\n<p>The problem is when I save the changes I get this error</p>\n\n<blockquote>\n  <p>The changes to the database were committed successfully, but an error\n  occurred while updating the object context. The ObjectContext might be\n  in an inconsistent state. Inner exception message: Saving or accepting\n  changes failed because more than one entity of type\n  'AD.Data.ru_Groups' have the same primary key value. Ensure that\n  explicitly set primary key values are unique. Ensure that\n  database-generated primary keys are configured correctly in the\n  database and in the Entity Framework model. Use the Entity Designer\n  for Database First/Model First configuration. Use the\n  'HasDatabaseGeneratedOption\" fluent API or\n  'DatabaseGeneratedAttribute' for Code First configuration.</p>\n</blockquote>\n\n<p>Why is this happening? The ID <code>StoredGeneratedPattern</code> property is set to <code>Identity</code>, however the stored procedure which I've mapped to the <code>Update</code> function does not require an ID as a parameter, let alone a unique ID.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["c#", "visual-studio-2010", "powershell", "business-objects"], "comments": [{"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1472671840, "post_id": 39257111, "comment_id": 65851155, "body": "Please fix the typo in title: <code>manditory</code>"}], "answers": [{"comments": [{"owner": {"reputation": 23753, "user_id": 134367, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PgGXL.png?s=128&g=1", "display_name": "craig", "link": "https://stackoverflow.com/users/134367/craig"}, "edited": false, "score": 0, "creation_date": 1472675250, "post_id": 39257201, "comment_id": 65852900, "body": "I think making the parameter optional, then supplying a default value in the constructor is good option; it doesn&#39;t appear that tab completion will list the valid values for the <code>authentication</code> parameter."}, {"owner": {"reputation": 39264, "user_id": 3905079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54d4c111c4564b116ff1efca8c56788?s=128&d=identicon&r=PG", "display_name": "briantist", "link": "https://stackoverflow.com/users/3905079/briantist"}, "reply_to_user": {"reputation": 23753, "user_id": 134367, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PgGXL.png?s=128&g=1", "display_name": "craig", "link": "https://stackoverflow.com/users/134367/craig"}, "edited": false, "score": 0, "creation_date": 1472676055, "post_id": 39257201, "comment_id": 65853279, "body": "@craig using <code>ValidateSet</code> should allow for tab completion; I&#39;m not sure why that wouldn&#39;t be working."}, {"owner": {"reputation": 23753, "user_id": 134367, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PgGXL.png?s=128&g=1", "display_name": "craig", "link": "https://stackoverflow.com/users/134367/craig"}, "edited": false, "score": 0, "creation_date": 1472738255, "post_id": 39257201, "comment_id": 65881645, "body": "tab completion didn&#39;t work the 32-bit or 64-bit version of either the shell or the ISE."}, {"owner": {"reputation": 39264, "user_id": 3905079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54d4c111c4564b116ff1efca8c56788?s=128&d=identicon&r=PG", "display_name": "briantist", "link": "https://stackoverflow.com/users/3905079/briantist"}, "reply_to_user": {"reputation": 23753, "user_id": 134367, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PgGXL.png?s=128&g=1", "display_name": "craig", "link": "https://stackoverflow.com/users/134367/craig"}, "edited": false, "score": 0, "creation_date": 1472744151, "post_id": 39257201, "comment_id": 65885986, "body": "@craig I haven&#39;t written a cmdlet in C# before. Once you compile it (presumably to a DLL?) how do you get PowerShell to find it?"}, {"owner": {"reputation": 23753, "user_id": 134367, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PgGXL.png?s=128&g=1", "display_name": "craig", "link": "https://stackoverflow.com/users/134367/craig"}, "edited": false, "score": 0, "creation_date": 1472747458, "post_id": 39257201, "comment_id": 65887922, "body": "<code>PS&gt; Import-Module path\\to\\PsCmdletAssembly.dll</code> is the easiest.  You can also reference the assembly in a PSD1 file: <code>RequiredAssemblies = @(&#39;PsCmdletAssembly&#39;)</code>.  Finally, you can add a class to the provide that derives from <code>System.ComponentModel.PsSnapIn</code>, then use <code>installutil.exe</code> (choose the one that corresponds to your project&#39;s targer framework) to register it."}, {"owner": {"reputation": 39264, "user_id": 3905079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54d4c111c4564b116ff1efca8c56788?s=128&d=identicon&r=PG", "display_name": "briantist", "link": "https://stackoverflow.com/users/3905079/briantist"}, "reply_to_user": {"reputation": 23753, "user_id": 134367, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PgGXL.png?s=128&g=1", "display_name": "craig", "link": "https://stackoverflow.com/users/134367/craig"}, "edited": false, "score": 0, "creation_date": 1472748960, "post_id": 39257201, "comment_id": 65888728, "body": "@craig so if you use <code>ipmo assembly.dll</code>, you can run <code>gcm -mod MyModule</code> and see the cmdlets listed? If so, I can&#39;t understand why they wouldn&#39;t be tab completing, but again I have little experience with binary cmdlets. Might be good as a new question."}], "tags": [], "owner": {"reputation": 39264, "user_id": 3905079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54d4c111c4564b116ff1efca8c56788?s=128&d=identicon&r=PG", "display_name": "briantist", "link": "https://stackoverflow.com/users/3905079/briantist"}, "is_accepted": true, "score": 3, "last_activity_date": 1472670287, "creation_date": 1472670287, "answer_id": 39257201, "question_id": 39257111, "link": "https://stackoverflow.com/questions/39257111/supply-a-default-value-to-a-mandatory-cmdlet-parameter-with-a-validateset/39257201#39257201", "title": "Supply a default value to a mandatory Cmdlet parameter with a ValidateSet", "body": "<p>You can't.</p>\n\n<p>A mandatory parameter must have a value supplied. Hitting Enter at the prompt means you're giving an empty string or null; <code>ValidateSet</code> doesn't have anything to do with it. Even if there was no validation, a default value wouldn't be assigned by hitting Enter at that prompt.</p>\n\n<p>You can make it optional, and then give it a default value, but if you don't supply it when you call the cmdlet, it will use the default and won't prompt.</p>\n"}], "owner": {"reputation": 23753, "user_id": 134367, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PgGXL.png?s=128&g=1", "display_name": "craig", "link": "https://stackoverflow.com/users/134367/craig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 669, "favorite_count": 0, "accepted_answer_id": 39257201, "answer_count": 1, "score": 3, "last_activity_date": 1472676207, "creation_date": 1472670029, "last_edit_date": 1472676207, "question_id": 39257111, "link": "https://stackoverflow.com/questions/39257111/supply-a-default-value-to-a-mandatory-cmdlet-parameter-with-a-validateset", "title": "Supply a default value to a mandatory Cmdlet parameter with a ValidateSet", "body": "<p>Assuming a Cmdlet class:</p>\n\n<pre><code>[System.Management.Automation.Cmdlet(System.Management.Automation.VerbsCommon.Get, \"LogonToken\")]\npublic class GetLogonToken : System.Management.Automation.Cmdlet\n{\n\n    // constructor\n    public GetLogonToken()\n    {\n      // set default auth.\n      this.Authentication = \"secWinAD\";\n    }\n\n    // addtional properties omitted\n\n    [System.Management.Automation.Parameter(Position = 1, Mandatory = true)]\n    [ValidateSet(\"secEnterprise\", \"secLDAP\", \"secWinAD\")]\n    public string Authentication\n    {\n      get { return authentication; }\n      set { authentication = value; }\n    }\n\n    // setting authentication here has no effect either\n    private string authentication;\n\n    // addtional code omitted\n\n}\n</code></pre>\n\n<p>Calling the Cmdlet:</p>\n\n<pre><code>PS ..\\bin\\Debug&gt; get-logontoken\n\ncmdlet Get-LogonToken at command pipeline position 1\nSupply values for the following parameters:\nServerName: SERVER\nAuthentication: &lt;hit enter&gt;\nUsername: USERNAME\nPassword: ********\nGet-LogonToken : Cannot validate argument on parameter 'Authentication'. The\nargument \"\" does not belong to the set \"secEnterprise,secLDAP,secWinAD\"\nspecified by the ValidateSet attribute. Supply an argument that is in the set\nand then try the command again.At line:1 char:1\n+ get-logontoken\n+ ~~~~~~~~~~~~~~\n    + CategoryInfo          : InvalidData: (:) [Get-LogonToken], ParameterBindingValidationException\n    + FullyQualifiedErrorId : ParameterArgumentValidationError,PsEnterprise.GetLogonToken\n</code></pre>\n\n<p>How do I assigned a default value to a mandatory parameter that uses a <code>ValidateSet</code>?</p>\n"}, {"tags": ["c#", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 2022, "user_id": 6196648, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Bxcxu.png?s=128&g=1", "display_name": "Mr Anderson", "link": "https://stackoverflow.com/users/6196648/mr-anderson"}, "edited": false, "score": 3, "creation_date": 1472671252, "post_id": 39257078, "comment_id": 65850838, "body": "In my opinion, your model should be revised. I don&#39;t see the need for your <code>NewsComment</code> entity. It does not hold any useful information. Make <code>Comments</code> the navigation property for <code>News</code>. If it is many-to-many, the relation would be handled internally, without the need for the <code>NewsComment</code> entity."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 1, "creation_date": 1472672852, "post_id": 39257078, "comment_id": 65851633, "body": "Is this an example or real schema?  I ask because it doesn&#39;t make sense from a user experience that a Comment can be applied to multiple news items."}, {"owner": {"reputation": 2022, "user_id": 6196648, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Bxcxu.png?s=128&g=1", "display_name": "Mr Anderson", "link": "https://stackoverflow.com/users/6196648/mr-anderson"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1472675213, "post_id": 39257078, "comment_id": 65852882, "body": "@ErikPhilips I have seen this type of model used before (specifically for comments). it is implemented with a relation table, which implies many-to-many, but in practice it is one-to-many because one comment should NOT be attached to multiple parent objects."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 2022, "user_id": 6196648, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Bxcxu.png?s=128&g=1", "display_name": "Mr Anderson", "link": "https://stackoverflow.com/users/6196648/mr-anderson"}, "edited": false, "score": 0, "creation_date": 1472681880, "post_id": 39257078, "comment_id": 65855711, "body": "@MrAnderson so why the added complexity?  What benefit is there of the intermediate table?"}], "answers": [{"tags": [], "owner": {"reputation": 2022, "user_id": 6196648, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Bxcxu.png?s=128&g=1", "display_name": "Mr Anderson", "link": "https://stackoverflow.com/users/6196648/mr-anderson"}, "is_accepted": true, "score": 3, "last_activity_date": 1472671765, "creation_date": 1472671765, "answer_id": 39257591, "question_id": 39257078, "link": "https://stackoverflow.com/questions/39257078/entity-framework-many-to-many-insert/39257591#39257591", "title": "Entity Framework many to many, insert", "body": "<p>As your model stands now, you can do it like this:</p>\n\n<pre><code>News news = db.News.SingleOrDefault(n =&gt; n.NewsId == Id);\nComment comment = new Comment { Body = \"This is my comment\" };\nNewsComment newsComment = new NewsComment { News = news, Comment = comment };\nnews.NewsComments.Add(newsComment);\ndb.SaveChanges();\n</code></pre>\n\n<p>Personally, I would adjust your model to take away the <code>NewsComment</code> entity. Your <code>News</code> entity would have a many-to-many property <code>Comments</code>, and the relation table would be handled internally. Your code would then become:</p>\n\n<pre><code>News news = db.News.SingleOrDefault(n =&gt; n.NewsId == Id);\nComment comment = new Comment { Body = \"This is my comment\" };\nnews.Comments.Add(comment);\ndb.SaveChanges();\n</code></pre>\n\n<p><strong>Edit:</strong> To delete a comment with your current model, remove it from the collection property:</p>\n\n<pre><code>News news = db.News.SingleOrDefault(n =&gt; n.NewsId == Id);\nNewsComment commentIDontWant = news.NewsComments.First(nc =&gt; nc.Comment.Body == \"Bad Comment\");\nnews.NewsComments.Remove(commentIDontWant);\ndb.SaveChanges();\n</code></pre>\n"}], "owner": {"reputation": 223, "user_id": 6242330, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2d117dd0b76e72140fa10fb6453663de?s=128&d=identicon&r=PG&f=1", "display_name": "Lucy", "link": "https://stackoverflow.com/users/6242330/lucy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1487, "favorite_count": 0, "accepted_answer_id": 39257591, "answer_count": 1, "score": 0, "last_activity_date": 1472676254, "creation_date": 1472669918, "last_edit_date": 1472676254, "question_id": 39257078, "link": "https://stackoverflow.com/questions/39257078/entity-framework-many-to-many-insert", "title": "Entity Framework many to many, insert", "body": "<p>This is how my entities look like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/uOIAG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uOIAG.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>My question is how to add <code>Comment</code> object to <code>News</code> object and how to update and delete <code>Comment</code> of news?</p>\n\n<p>Here is the <code>News</code> class:</p>\n\n<pre><code>News news = db.News.SingleOrDefault(n =&gt; n.NewsId == Id);\n</code></pre>\n"}, {"tags": ["c#", ".net", "roslyn", ".net-core"], "answers": [{"comments": [{"owner": {"reputation": 2013, "user_id": 1239406, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6ce549bc29636e8076dffde6e98bf37d?s=128&d=identicon&r=PG", "display_name": "nullPainter", "link": "https://stackoverflow.com/users/1239406/nullpainter"}, "edited": false, "score": 1, "creation_date": 1566604757, "post_id": 39260735, "comment_id": 101721346, "body": "A more elegant way to get the runtime directory is to use <code>System.Runtime.InteropServices.RuntimeEnvironment.GetRuntime&zwnj;&#8203;Directory();</code> instead of getting the assembly location of an arbitrary type."}, {"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "reply_to_user": {"reputation": 2013, "user_id": 1239406, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6ce549bc29636e8076dffde6e98bf37d?s=128&d=identicon&r=PG", "display_name": "nullPainter", "link": "https://stackoverflow.com/users/1239406/nullpainter"}, "edited": false, "score": 2, "creation_date": 1567593887, "post_id": 39260735, "comment_id": 102006826, "body": "@nullPainter I tried it but had problems, if I recall it right if the program is published as standalone it failed to find the libraries."}, {"owner": {"reputation": 3343, "user_id": 301795, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/N6jlv.jpg?s=128&g=1", "display_name": "Patrice Cote", "link": "https://stackoverflow.com/users/301795/patrice-cote"}, "edited": false, "score": 0, "creation_date": 1573829207, "post_id": 39260735, "comment_id": 104025794, "body": "Did you try using MetadataReference.CreateFromFile(typeof(object).Assembly.Loc&zwnj;&#8203;ation) (with a lowercase &#39;o&#39;)?"}], "tags": [], "owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "is_accepted": true, "score": 17, "last_activity_date": 1523733780, "last_edit_date": 1523733780, "creation_date": 1472687623, "answer_id": 39260735, "question_id": 39257074, "link": "https://stackoverflow.com/questions/39257074/net-core-amd-roslyn-csharpcompilation-the-type-object-is-defined-in-an-assem/39260735#39260735", "title": ".net Core amd Roslyn CSharpCompilation, The type &#39;Object&#39; is defined in an assembly that is not referenced", "body": "<p>Ok, got it finally working:</p>\n\n<pre><code>    string testClass = @\"using System; \n    namespace test{\n\n     public class tes\n     {\n\n       public string unescape(string Text)\n      { \n        return Uri.UnescapeDataString(Text);\n      } \n\n     }\n\n    }\";\n\n    var dd = typeof(Enumerable).GetTypeInfo().Assembly.Location;\n    var coreDir = Directory.GetParent(dd);\n\n    var compilation = CSharpCompilation.Create(Guid.NewGuid().ToString() + \".dll\")\n        .WithOptions(new CSharpCompilationOptions(Microsoft.CodeAnalysis.OutputKind.DynamicallyLinkedLibrary))\n        .AddReferences(\n        MetadataReference.CreateFromFile(typeof(Object).GetTypeInfo().Assembly.Location),\n        MetadataReference.CreateFromFile(typeof(Uri).GetTypeInfo().Assembly.Location),\n        MetadataReference.CreateFromFile(coreDir.FullName + Path.DirectorySeparatorChar + \"mscorlib.dll\"),\n        MetadataReference.CreateFromFile(coreDir.FullName + Path.DirectorySeparatorChar + \"System.Runtime.dll\")\n        )\n        .AddSyntaxTrees(CSharpSyntaxTree.ParseText(testClass));\n\n    var eResult = compilation.Emit(\"test.dll\");\n</code></pre>\n\n<p>I don't like it because the hardcoding, but it seems it's the only way to get it work.</p>\n"}], "owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2796, "favorite_count": 3, "accepted_answer_id": 39260735, "answer_count": 1, "score": 14, "last_activity_date": 1523733780, "creation_date": 1472669909, "question_id": 39257074, "link": "https://stackoverflow.com/questions/39257074/net-core-amd-roslyn-csharpcompilation-the-type-object-is-defined-in-an-assem", "title": ".net Core amd Roslyn CSharpCompilation, The type &#39;Object&#39; is defined in an assembly that is not referenced", "body": "<p>I'm trying to port some .net code to the new Core runtime and I'm having a bad time porting some on-the-fly compilation.</p>\n\n<p>To resume, it always asks me for a reference to System.Runtime and mscorlib, but have no clue on how to reference them.</p>\n\n<p>As a side note, I can't reference Framework 4.6 as the project must be published to a Linux machine with .net Core.</p>\n\n<p>This is the minimum code:</p>\n\n<pre><code>        string testClass = @\"using System; \n        namespace test{\n\n         public class tes\n         {\n\n           public string unescape(string Text)\n          { \n            return Uri.UnescapeDataString(Text);\n          } \n\n         }\n\n        }\";\n\n        var compilation = CSharpCompilation.Create(Guid.NewGuid().ToString() + \".dll\")\n            .WithOptions(new CSharpCompilationOptions(Microsoft.CodeAnalysis.OutputKind.DynamicallyLinkedLibrary))\n            .AddReferences(\n            MetadataReference.CreateFromFile(typeof(Object).GetTypeInfo().Assembly.Location),\n            MetadataReference.CreateFromFile(typeof(Uri).GetTypeInfo().Assembly.Location)\n            )\n            .AddSyntaxTrees(CSharpSyntaxTree.ParseText(testClass));\n\n        var eResult = compilation.Emit(\"test.dll\");\n</code></pre>\n\n<p>It always complains about the need of mscorlib (in this example) and System.Runtime (in my real project).</p>\n\n<p>I'm using the Microsoft.CodeAnalysis.CSharp package version 2.0.0-beta3</p>\n\n<p>Any ideas on how to compile on the fly with Roslyn and .net Core?</p>\n"}, {"tags": ["c#", "restsharp"], "answers": [{"tags": [], "owner": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "is_accepted": true, "score": 1, "last_activity_date": 1472670242, "creation_date": 1472670242, "answer_id": 39257190, "question_id": 39256976, "link": "https://stackoverflow.com/questions/39256976/restsharp-how-to-avoid-serialization-of-hidden-class-members/39257190#39257190", "title": "RestSharp - How to avoid serialization of hidden class members?", "body": "<p>Your types are not the same. declaring 'new' on that is useless as it will not override it just because of the name, both types will exist on the object (you will have a nullable bool, and a regular bool [which is the same as anything, you could declare it as a string, etc, you're not actually hiding it from the compiler]).</p>\n\n<p>The only way I could suggest to fix this is to import JSON.Net, set RestSharps jsonserializer to use <a href=\"https://github.com/restsharp/RestSharp/blob/86b31f9adf049d7fb821de8279154f41a17b36f7/RestSharp/Serializers/JsonSerializer.cs\" rel=\"nofollow\" title=\"JSON.Nets RestSharp Serializer\">JSON.Nets RestSharp Serializer</a> and adding it to not parse the base objects type (unless you needit under other cases to serialize the base type, but if that's the case you need to redo your strategy on this)</p>\n"}], "owner": {"reputation": 169, "user_id": 5630103, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh4.googleusercontent.com/-JrPIAhTD3qI/AAAAAAAAAAI/AAAAAAAAABE/X7Vrg2YQPrM/photo.jpg?sz=128", "display_name": "Fabricio Somini", "link": "https://stackoverflow.com/users/5630103/fabricio-somini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 39257190, "answer_count": 1, "score": 0, "last_activity_date": 1472670242, "creation_date": 1472669496, "question_id": 39256976, "link": "https://stackoverflow.com/questions/39256976/restsharp-how-to-avoid-serialization-of-hidden-class-members", "title": "RestSharp - How to avoid serialization of hidden class members?", "body": "<p>I'm hiding an inherited member <code>bool</code> to allow its value as <code>null</code> (I have to).\nBut when I use the instance of this class in the serialization the original value is serialized and not the <code>bool?</code>. </p>\n\n<pre><code>  public class SomeDto\n {\n    public  bool IsRemoved { get; set; } = false; //Serialization is using this one\n }\n\n  public class SomeClass: SomeDto \n {\n    public  new bool? IsRemoved { get; set; }//Instead of this one\n }\n\n\n  private void Serialize()\n {\n   SomeClass someClass = new SomeClass();\n   someClass.IsRemoved = null;\n\n   RestRequest request = new RestRequest(Method.POST);\n   request.AddBody(someClass);\n }\n</code></pre>\n\n<p>Is there anyway to force the serialization to get this new property instead of the original one?</p>\n"}, {"tags": ["c#", ".net", "tfs", "azure-devops", "tfs-2015"], "comments": [{"owner": {"reputation": 49661, "user_id": 781754, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4ee1072483e3ab3c7302820d04935328?s=128&d=identicon&r=PG", "display_name": "Daniel Mann", "link": "https://stackoverflow.com/users/781754/daniel-mann"}, "edited": false, "score": 0, "creation_date": 1472672403, "post_id": 39256852, "comment_id": 65851426, "body": "Why not just use a gated check-in (TFVC) or pull requests+branch policies (Git) instead? Check-in policies are a pain to maintain and distribute and can easily be circumvented by either not using Visual Studio, or by deleting the policy assembly entirely."}, {"owner": {"reputation": 96, "user_id": 875090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc037cd8c05ff6fbf9033d0578cbdf1a?s=128&d=identicon&r=PG", "display_name": "jobo54321", "link": "https://stackoverflow.com/users/875090/jobo54321"}, "reply_to_user": {"reputation": 49661, "user_id": 781754, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4ee1072483e3ab3c7302820d04935328?s=128&d=identicon&r=PG", "display_name": "Daniel Mann", "link": "https://stackoverflow.com/users/781754/daniel-mann"}, "edited": false, "score": 0, "creation_date": 1472730775, "post_id": 39256852, "comment_id": 65875944, "body": "TFS Gated check-ins would work, but it burdens our already taxed build agents and would add more overhead than we&#39;re prepared to introduce.  I&#39;d prefer Git, but we&#39;re not prepared to change VC systems yet. I am not a fan of check-in policies either, but this is the task I&#39;m asked to solve. Thanks for the input."}], "answers": [{"tags": [], "owner": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1472722189, "creation_date": 1472722189, "answer_id": 39267775, "question_id": 39256852, "link": "https://stackoverflow.com/questions/39256852/creating-a-tfs-custom-builds-check-in-policy/39267775#39267775", "title": "Creating a TFS Custom &quot;Builds&quot; Check-In Policy", "body": "<p>The article you provided is the simple and better way and it is applied to higher version, the register key path is according to the version of VS (8.0, 12.0 etc\u2026), for 64 bit machine, the path likes HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\VisualStudio{VisualStudioVersion}\\TeamFoundation\\SourceControl\\Checkin Policies. </p>\n\n<p>In your custom check-in policy, you could check latest build result through TFS API (Evaluate method). For example:</p>\n\n<pre><code>TeamFoundationServer tfs = new TeamFoundationServer(\"http://tfsserver:8080/tfs\"); \nIBuildServer buildServer = (IBuildServer) tfs.GetService(typeof(IBuildServer)); \nIBuildDetailSpec buildDetailSpec = buildServer.CreateBuildDetailSpec(\"Team Project\", \"Build Definition Name\"); \nbuildDetailSpec.MaxBuildsPerDefinition = 1; \nbuildDetailSpec.QueryOrder = BuildQueryOrder.FinishTimeDescending; \nIBuildQueryResult results = buildServer.QueryBuilds(buildDetailSpec);\n</code></pre>\n\n<p>If you just need to make sure changes haven't the issue (build can be succeed), as Daniel said that using gated check-in (TFVC) or pull request with branch policies (git) instead.</p>\n"}], "owner": {"reputation": 96, "user_id": 875090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc037cd8c05ff6fbf9033d0578cbdf1a?s=128&d=identicon&r=PG", "display_name": "jobo54321", "link": "https://stackoverflow.com/users/875090/jobo54321"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1058, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1472722189, "creation_date": 1472669025, "question_id": 39256852, "link": "https://stackoverflow.com/questions/39256852/creating-a-tfs-custom-builds-check-in-policy", "title": "Creating a TFS Custom &quot;Builds&quot; Check-In Policy", "body": "<p>The built-in TFS Builds Check-In Policy isn't configurable - it just looks to see if the last build failed, and if so, it shows the Policy warning in Visual Studio. Unfortunately, it considers the \"last\" build to be the one that last finished in time, not the last one to finish with the most recent changeset. As a result, it's possible for the Policy to be Clear even though things are broken. Consider this scenario:</p>\n\n<p>Joe commits code in Changeset 1234 and it starts build \"Awesome Build\"\nJohn commits code in Changeset 1235 and it starts build \"Awesome Build\" as well, but change set 1235 contains a break</p>\n\n<p>Since I have multiple build agents, both builds run at the same time.</p>\n\n<p>Now let's say John's build finishes first and fails because of the break - the build policy is now in a Broken state - warning that you can't checkin (as expected).</p>\n\n<p>Joe's build finishes second and succeeds - the build policy at this point will revert to a clear state, and no warning will appear. (not expected, the last changeset is still broken and needs to be fixed).</p>\n\n<p>I know TFS allows me to create my own custom check-in policies by compiling a class implementing 'Microsoft.TeamFoundation.VersionControl.Client.PolicyBase'. There are some questions here though:</p>\n\n<ol>\n<li><p>The only OFFICIAL documentation I could find is here (<a href=\"https://msdn.microsoft.com/en-us/library/bb668980.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/bb668980.aspx</a>) and as the page suggests, this content is deprecated and no longer maintained. Does this imply there is a new/better/easier way to implement a custom check-in policy?</p></li>\n<li><p>Does anyone know where I can find documentation pertaining to writing these policies, specifically a \"Builds\" policy to solve the problem I outlined above. I'd like my check-in policy to be enforced base on latest changeset, not most recent build time.</p></li>\n</ol>\n\n<p>Any help you can give would be great. This policy fix will fix up a lot of headaches in my very large development group. </p>\n"}, {"tags": ["c#", "rest", "paypal", "transactions", "paypal-ipn"], "comments": [{"owner": {"reputation": 11, "user_id": 1404140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0da641d5a5cce15fb4504a51041235?s=128&d=identicon&r=PG", "display_name": "Kevin T Parker", "link": "https://stackoverflow.com/users/1404140/kevin-t-parker"}, "edited": false, "score": 0, "creation_date": 1473181870, "post_id": 39256836, "comment_id": 66038715, "body": "I figured it out. It looks like this is the API I needed to use: <a href=\"https://www.paypal.com/webapps/hereapi/merchant/v1/invoices\" rel=\"nofollow noreferrer\">paypal.com/webapps/hereapi/merchant/v1/invoices</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 1404140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0da641d5a5cce15fb4504a51041235?s=128&d=identicon&r=PG", "display_name": "Kevin T Parker", "link": "https://stackoverflow.com/users/1404140/kevin-t-parker"}, "is_accepted": false, "score": 0, "last_activity_date": 1473182285, "creation_date": 1473182285, "answer_id": 39354539, "question_id": 39256836, "link": "https://stackoverflow.com/questions/39256836/working-with-paypal-here-and-paypal-api/39354539#39354539", "title": "Working with PayPal HERE and PayPal API", "body": "<p>After feeling like I have searched the ENTIRE internet, I saw that the documentation for the iOS and Andriod SDK mentioned the URL for the PayPal Here API.</p>\n\n<p>That url (for production) is <a href=\"https://www.paypal.com/webapps/hereapi/merchant/v1\" rel=\"nofollow\">https://www.paypal.com/webapps/hereapi/merchant/v1</a></p>\n\n<p>I just happen to add '/invoices/' to it and got an authentication error. Once I was able to authenticate, I see that this returns a list of all 'invoices' processed in PayPal Here. You'll need to connect using OAuth2, but the list is what I needed to filter based on order ID.</p>\n"}], "owner": {"reputation": 11, "user_id": 1404140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0da641d5a5cce15fb4504a51041235?s=128&d=identicon&r=PG", "display_name": "Kevin T Parker", "link": "https://stackoverflow.com/users/1404140/kevin-t-parker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 257, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1473182285, "creation_date": 1472668964, "last_edit_date": 1472691948, "question_id": 39256836, "link": "https://stackoverflow.com/questions/39256836/working-with-paypal-here-and-paypal-api", "title": "Working with PayPal HERE and PayPal API", "body": "<p>I am trying to use the PayPal Here Sideloader (C# web application). I am getting unexpected results where the Application doesn't always return to my web application in Safari (iPad). Also, it opens a new tab every time. So I decided to use IPN to handle processing after the purchase.</p>\n\n<p>But while using PayPal HERE, I noticed that <strong>check</strong> and <strong>cash</strong> transactions are not calling my IPN Url. I tried to search transactions using the REST API and I don't even see them. Credit card and Apple pay transactions work fine. So my question is two fold.</p>\n\n<ol>\n<li><p>After speaking to someone at PayPal who might or might not know what they are talking about said something to the effect of, 'those transactions aren't supported'.  I don't necessarily believe that because if I have the Invoice Id (INV2-XXXX-XXXX-XXXX-XXXX) I can use the REST API to get what I need. Was the person correct, or has anyone else done this before?</p></li>\n<li><p>What if I have my custom Order Id (see image), how can I get the Invoice Id?\n(I've looked at the Invoicing API (REST) and TransactionSearch (NVP) and neither of these return information about the transaction. <img src=\"https://i.stack.imgur.com/8DlSy.jpg\" alt=\"paypal receipt page on my account\"></p></li>\n</ol>\n"}, {"tags": ["javascript", "c#", ".net", "asp.net-mvc", "delegates"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1472669406, "post_id": 39256795, "comment_id": 65849769, "body": "I can&#39;t parse your weird made-up syntax. Are you saying that inside <code>ActionWithTryCatch</code>, you want <code>del.Invoke()</code> to execute <code>service.MethodOne(param1, param2);</code> in <code>One()</code>, and <code>service.MethodTwo(param3, param4);</code> in <code>Two()</code>?"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1472669542, "post_id": 39256795, "comment_id": 65849855, "body": "If so, easy: <code>public ActionResult ActionWithTryCatch(Action act, String viewName) { try { act(); } catch (Exception ex){...</code> etc. Call as <code>ActionWithTryCatch(() =&gt; service.MethodTwo(param3, param4), &quot;ViewName2&quot;);</code>"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1472669671, "post_id": 39256795, "comment_id": 65849939, "body": "Or maybe <code>public ActionResult ActionWithTryCatch(Func&lt;ActionResult&gt; del, string viewName)</code>? (based on <code>return del.Invoke();</code> delegate seem to return <code>ActionResult</code>)..."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 2, "creation_date": 1472669729, "post_id": 39256795, "comment_id": 65849969, "body": "Side note: action filters may solve your actual problem better..."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1472670076, "post_id": 39256795, "comment_id": 65850186, "body": "Whoops -- my suggestion should be <code>Func&lt;ActionResult&gt;</code>/ <code>return act();</code>, sorry"}, {"owner": {"reputation": 3, "user_id": 4509426, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Sz5fDrX3j4I/AAAAAAAAAAI/AAAAAAAAFVM/EQtjahDEE7o/photo.jpg?sz=128", "display_name": "Liliana Loaiza Pulgar&#237;n", "link": "https://stackoverflow.com/users/4509426/liliana-loaiza-pulgar%c3%adn"}, "edited": false, "score": 0, "creation_date": 1472675255, "post_id": 39256795, "comment_id": 65852903, "body": "Sorry. I modified the question to understand it better."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4509426, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Sz5fDrX3j4I/AAAAAAAAAAI/AAAAAAAAFVM/EQtjahDEE7o/photo.jpg?sz=128", "display_name": "Liliana Loaiza Pulgar&#237;n", "link": "https://stackoverflow.com/users/4509426/liliana-loaiza-pulgar%c3%adn"}, "edited": false, "score": 0, "creation_date": 1472675591, "post_id": 39257045, "comment_id": 65853051, "body": "Can you tell me can I call this function? I don&#39;t know how to send &quot;Func&lt;TResult&gt; del&quot; parameter to execute dynamic code. I changed the question to see it in a different way. Thank you."}], "tags": [], "owner": {"reputation": 1644, "user_id": 3090249, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1589107501/picture?type=large", "display_name": "gilmishal", "link": "https://stackoverflow.com/users/3090249/gilmishal"}, "is_accepted": false, "score": 0, "last_activity_date": 1472721150, "last_edit_date": 1472721150, "creation_date": 1472669784, "answer_id": 39257045, "question_id": 39256795, "link": "https://stackoverflow.com/questions/39256795/c-function-as-parameter-repeat-method-structure/39257045#39257045", "title": "C# Function as parameter - Repeat method structure", "body": "<p>this method you created won't work properly if you need to pass parameters to this function in js - so I am assuming you are calling only parameterless methods.</p>\n\n<p>in that case you could use <code>Func&lt;IActionResult&gt;</code> instead of <code>MyDelegate</code>.</p>\n\n<pre><code>public TResult ActionWithTryCatch&lt;TResult&gt;(Func&lt;TResult&gt; del, string viewName)\n{\n    try\n    {\n        return del.Invoke();\n    }\n    catch (Exception e)\n    {\n        LogException(e.Message);\n        AddModelError(e.Message);\n        throw;\n    }\n}\n</code></pre>\n\n<p>this will be more similar to your javascript implementation, and will return a 500 http result upon unhandledexception.</p>\n\n<p>You should call it like this, if you want <code>IActionResult</code> return type -</p>\n\n<pre><code>ActionWithTryCatch&lt;IActionResult&gt;(MethodThatReturnsIActionResult, viewName);\n</code></pre>\n\n<p>I recommand you look into <a href=\"https://msdn.microsoft.com/en-us/library/ms379564(v=vs.80).aspx\" rel=\"nofollow\">generics</a></p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 4509426, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Sz5fDrX3j4I/AAAAAAAAAAI/AAAAAAAAFVM/EQtjahDEE7o/photo.jpg?sz=128", "display_name": "Liliana Loaiza Pulgar&#237;n", "link": "https://stackoverflow.com/users/4509426/liliana-loaiza-pulgar%c3%adn"}, "edited": false, "score": 0, "creation_date": 1472674484, "post_id": 39257357, "comment_id": 65852510, "body": "Well, that&#39;s a solution for my purpose, but do you know how can redirect to view from current action? I mean, if there&#39;s an error on &quot;One&quot;, I wanna redirect to &quot;ViwName1&quot;. Thank u so much!!"}, {"owner": {"reputation": 469, "user_id": 6387007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9f75bc5b1fb548e79afd5accc8d84f4?s=128&d=identicon&r=PG&f=1", "display_name": "sam2929", "link": "https://stackoverflow.com/users/6387007/sam2929"}, "reply_to_user": {"reputation": 3, "user_id": 4509426, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Sz5fDrX3j4I/AAAAAAAAAAI/AAAAAAAAFVM/EQtjahDEE7o/photo.jpg?sz=128", "display_name": "Liliana Loaiza Pulgar&#237;n", "link": "https://stackoverflow.com/users/4509426/liliana-loaiza-pulgar%c3%adn"}, "edited": false, "score": 0, "creation_date": 1472757675, "post_id": 39257357, "comment_id": 65893221, "body": "The behavior you are describing doesn&#39;t seem like a great pattern. Instead of handling exceptions by just wrapping the very top layer of your code in try..catch you should really be try..catching around specific blocks of code where you anticipate an error could happen.So ideally your service should be catching exceptions within itself and its return value should indicate if there was an error. Then you could return to your desired view and display an error message there. I&#39;ve updated my answer to include an example of how to implement the pattern you are describing if you insist on using it."}, {"owner": {"reputation": 3, "user_id": 4509426, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Sz5fDrX3j4I/AAAAAAAAAAI/AAAAAAAAFVM/EQtjahDEE7o/photo.jpg?sz=128", "display_name": "Liliana Loaiza Pulgar&#237;n", "link": "https://stackoverflow.com/users/4509426/liliana-loaiza-pulgar%c3%adn"}, "edited": false, "score": 0, "creation_date": 1472823006, "post_id": 39257357, "comment_id": 65920976, "body": "Yes, you&#39;re right. Thanks for your time and explanation ;)"}], "tags": [], "owner": {"reputation": 469, "user_id": 6387007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9f75bc5b1fb548e79afd5accc8d84f4?s=128&d=identicon&r=PG&f=1", "display_name": "sam2929", "link": "https://stackoverflow.com/users/6387007/sam2929"}, "is_accepted": true, "score": 1, "last_activity_date": 1472758310, "last_edit_date": 1472758310, "creation_date": 1472670857, "answer_id": 39257357, "question_id": 39256795, "link": "https://stackoverflow.com/questions/39256795/c-function-as-parameter-repeat-method-structure/39257357#39257357", "title": "C# Function as parameter - Repeat method structure", "body": "<p>The pattern that you are describing is close to a form of Aspect Oriented Programming (AOP). However, if you just want to apply specific Try Catch error handling logic to all actions on your controller then it's probably not worth it for you to pull in a whole AOP framework. Instead you could leverage the <code>HandleErrorAttribute</code> or override the <code>OnException</code> method of the controller class.</p>\n\n<p>For example your could write your controller like this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class TestController\n{\n    private TestService service;\n\n    public TestController(TestService service)\n    {\n        this.service = service;\n    }\n\n    public ActionResult One(int param1, string param2)\n    {\n        this.service.MethodOne(param1, param2);\n        return View(\"ViwName1\");\n    }\n\n    public ActionResult Two(Date param3, bool param4)\n    {\n        this.service.MethodTwo(param3, param4);\n        return View(\"ViwName2\");\n    }\n\n    protected override void OnException(ExceptionContext filterContext)\n    {\n        LogException(filterContext.Exception.Message);\n        AddModelError(filterContext.Exception.Message);\n\n        var errorView = new ViewResult { ViewName = \"~/Path/To/Error/View\" };\n        filterContext.Result = errorView;\n    }\n}\n</code></pre>\n\n<p>If you wanted to abstract it out even more then you could just move the overridden OnException logic into a base controller class and then have all of your controller inherit from the base controller.</p>\n\n<p>If you want to see some additional methods of unified error handling in MVC then check out this blog too: <a href=\"https://dusted.codes/demystifying-aspnet-mvc-5-error-pages-and-error-logging\" rel=\"nofollow\">https://dusted.codes/demystifying-aspnet-mvc-5-error-pages-and-error-logging</a></p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Per my comment, if you insist on implementing the pattern you are describing you could use this modified version of gilmishal's answer.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class TestController\n{\n    private TestService service;\n\n    public TestController(TestService service)\n    {\n        this.service = service;\n    }\n\n    public ActionResult One(int param1, string param2)\n    {\n        return this.ActionWithTryCatch(() =&gt; this.service.MethodOne(param1, param2), \"ViwName1\");\n    }\n\n    public ActionResult Two(Date param3, bool param4)\n    {\n        return this.ActionWithTryCatch(() =&gt; this.service.MethodTwo(param3, param4), \"ViwName2\");\n    }\n\n    public IActionResult ActionWithTryCatch(Action action, string viewName)\n    {\n        try\n        {\n            action.Invoke();\n        }\n        catch (Exception e)\n        {\n            LogException(e.Message);\n            AddModelError(e.Message);\n        }\n\n        return View(viewName);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4509426, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Sz5fDrX3j4I/AAAAAAAAAAI/AAAAAAAAFVM/EQtjahDEE7o/photo.jpg?sz=128", "display_name": "Liliana Loaiza Pulgar&#237;n", "link": "https://stackoverflow.com/users/4509426/liliana-loaiza-pulgar%c3%adn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 39257357, "answer_count": 2, "score": -1, "last_activity_date": 1472758310, "creation_date": 1472668786, "last_edit_date": 1472675117, "question_id": 39256795, "link": "https://stackoverflow.com/questions/39256795/c-function-as-parameter-repeat-method-structure", "title": "C# Function as parameter - Repeat method structure", "body": "<p>I have multiple methods with different signature, and each method has a try-catch block with custom log exception. (Same structure on multiple controllers).</p>\n\n<pre><code>public class TestController : BaseController\n{\n    public static ActionResult One(int param1, string param2)\n    {\n        try\n        {\n            // Do something\n        }\n        catch (Exception e)\n        {\n            LogException(e.Message);\n            AddModelError(e.Message);\n        }\n        return View(\"ViwName1\");\n    }\n\n    public static ActionResult Two(Date param3, bool param4)\n    {\n        try\n        {\n            // Do something\n        }\n        catch (Exception e)\n        {\n            LogException(e.Message);\n            AddModelError(e.Message);\n        }\n        return View(\"ViwName2\");\n    }\n}\n</code></pre>\n\n<p>I wonder if there's a way to avoid try-catch block for every method and execute another</p>\n\n<pre><code>public class TestController : BaseController\n{\n    public static ActionResult One(int param1, string param2)\n    {\n        // Do something (*)\n        // Call \"ActionWithTryCatch\" method that has a \"function argument\" to \"Do something (*)\"\n    }\n\n    public ActionResult ActionWithTryCatch(MyDelegate del, string viewName)\n    {\n        try\n        {\n            return del.Invoke();\n        }\n        catch (Exception e)\n        {\n            LogException(e.Message);\n            AddModelError(e.Message);\n        }\n        return View(viewName);\n    }\n}\n</code></pre>\n\n<p>\u00bfHow can I do that? I've seen examples using delegates but I understand that's strongly typed, so didn't find a way to do that. Thanks!</p>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 3, "creation_date": 1472669074, "post_id": 39256695, "comment_id": 65849555, "body": "Can you shorten the path to 128 characters or less?  That would seem to be the simplest solution."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1472669120, "post_id": 39256695, "comment_id": 65849590, "body": "change your <code>cmd.CommandText</code> = to the following <code>cmd.CommandText = string.Format(@&quot;BACKUP DATABASE [{1}] TO  DISK = N&#39;{0}&#39; WITH  INIT ,  NOUNLOAD ,  NOSKIP ,  STATS = 10,  NOFORMAT&quot;, DbBackupPath, YourDataFile);</code> learn to use the string.Formatting {}` properly and choose a shorter file path or upgrade the project to use .net <code>4.6.x</code>"}, {"owner": {"reputation": 1, "user_id": 6779505, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209530527196716/picture?type=large", "display_name": "Filip Neki\u0107", "link": "https://stackoverflow.com/users/6779505/filip-neki%c4%87"}, "edited": false, "score": 0, "creation_date": 1472671872, "post_id": 39256695, "comment_id": 65851176, "body": "I changed command text, and upgrade project  to .NET 4.6.1. but still getting that error.  I don&#39;t know how to shorter path, because when I publish and run it to install, it don&#39;t offer me to chose installation path :/   every other communication with database I use VS dataset environment (add query to table adapter) and this all are working, i even try to make stored procedures to do backup, and than call it, but i think i did wrong sintaks:"}, {"owner": {"reputation": 1, "user_id": 6779505, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209530527196716/picture?type=large", "display_name": "Filip Neki\u0107", "link": "https://stackoverflow.com/users/6779505/filip-neki%c4%87"}, "edited": false, "score": 0, "creation_date": 1472671984, "post_id": 39256695, "comment_id": 65851231, "body": "<code>CREATE PROCEDURE [dbo].[CreateDbBackup] \t@DbBackupPath nvarchar (200), \t@YourDataFile nvarchar (200) AS \tBACKUP DATABASE [@YourDataFile] TO DISK = @DbBackupPath WITH INIT , NOUNLOAD , NOSKIP , STATS = 10, NOFORMAT RETURN 0</code>   Error:  Database &#39;@YourDataFile&#39; does not exist."}, {"owner": {"reputation": 11, "user_id": 7106657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b61812ec1be30514f96dc19cf787fd94?s=128&d=identicon&r=PG&f=1", "display_name": "Osman Bozkurt", "link": "https://stackoverflow.com/users/7106657/osman-bozkurt"}, "edited": false, "score": 0, "creation_date": 1615058283, "post_id": 39256695, "comment_id": 117576517, "body": "this problem solved the following link: <a href=\"https://stackoverflow.com/a/19604295\">stackoverflow.com/a/19604295</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6779505, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209530527196716/picture?type=large", "display_name": "Filip Neki\u0107", "link": "https://stackoverflow.com/users/6779505/filip-neki%c4%87"}, "edited": false, "score": 0, "creation_date": 1473964819, "post_id": 39258868, "comment_id": 66352092, "body": "Solve my problem. I Install &quot;Visual Studio Installer&quot;, and add Setup Project to my solution. With this project I made installer where I can select custom installation path of my main app. Now path is less than 128 character, and everything is working correctly.  I don&#39;t know how, and why, but I am happy :D"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "is_accepted": false, "score": 0, "last_activity_date": 1472677003, "creation_date": 1472677003, "answer_id": 39258868, "question_id": 39256695, "link": "https://stackoverflow.com/questions/39256695/the-identifier-that-starts-with-is-too-long-maximum-length-is-128/39258868#39258868", "title": "The identifier that starts with \u2026 is too long. Maximum length is 128", "body": "<p>When you select <code>select physical_name from sys.database_files</code>, you get a bunch of file names. The syntax for <code>BACKUP DATABASE</code> requires, after <code>DATABASE</code>, not a file name, but a database name.</p>\n\n<p>Your file names include paths, and that causes the total path to be so long that it cannot be interpreted as a database name. If the path were less long, you'd instead get the error that no database with that name could be found. This would tell you more directly what you're doing wrong.</p>\n\n<p>You should have the database name already from your connection string.</p>\n"}], "owner": {"reputation": 1, "user_id": 6779505, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209530527196716/picture?type=large", "display_name": "Filip Neki\u0107", "link": "https://stackoverflow.com/users/6779505/filip-neki%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2745, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1472677003, "creation_date": 1472668470, "last_edit_date": 1472676538, "question_id": 39256695, "link": "https://stackoverflow.com/questions/39256695/the-identifier-that-starts-with-is-too-long-maximum-length-is-128", "title": "The identifier that starts with \u2026 is too long. Maximum length is 128", "body": "<p>I have a problem. I try to create a database backup of a local database.</p>\n\n<p>When I start the program in VS everything is fine because path to database is less than 128 characters. However, when I publish and install the app, path is more than 128 characters in length and I get that error.</p>\n\n<p>On the Internet I found two solutions:</p>\n\n<ol>\n<li>To use a single quote</li>\n<li>To set: <code>SET QUOTED_IDENTIFIER OFF</code> &amp; <code>SET ANSI_NULLS ON</code></li>\n</ol>\n\n<p>but whichever combination I try, I cannot get it right.</p>\n\n<p>Can anyone tell me how to get it right?</p>\n\n<p>My code:</p>\n\n<pre><code>internal void CreateDbBackup(string DbBackupPath)\n{\n    SqlConnection con = new SqlConnection(ConfigurationManager.ConnectionStrings[\"ConnectionString\"].ConnectionString);\n\n    SqlCommand GetDataFile = new SqlCommand();\n    GetDataFile.Connection = con;\n    GetDataFile.CommandText = \"select physical_name from sys.database_files where type = 0\";\n\n    con.Open();\n    string YourDataFile = (string)GetDataFile.ExecuteScalar();\n    con.Close();\n\n    SqlCommand cmd = con.CreateCommand();\n    cmd.CommandText = string.Format(@\"BACKUP DATABASE [\" + YourDataFile + \"] TO  DISK = N'{0}' WITH  INIT ,  NOUNLOAD ,  NOSKIP ,  STATS = 10,  NOFORMAT\", DbBackupPath);\n\n    con.Open();\n    cmd.ExecuteNonQuery();\n    con.Close();\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc-4", "razor"], "comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1472668796, "post_id": 39256681, "comment_id": 65849385, "body": "<a href=\"http://stackoverflow.com/questions/246801/how-can-you-encode-a-string-to-base64-in-javascript\" title=\"how can you encode a string to base64 in javascript\">stackoverflow.com/questions/246801/&hellip;</a>"}, {"owner": {"reputation": 103, "user_id": 4278318, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YBSoM4XzoZU/AAAAAAAAAAI/AAAAAAAAAAc/2GMwVlMgD_w/photo.jpg?sz=128", "display_name": "Ivan Sukhetskyi", "link": "https://stackoverflow.com/users/4278318/ivan-sukhetskyi"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1472669455, "post_id": 39256681, "comment_id": 65849804, "body": "thanks for fast reply, I&#39;ll try it"}, {"owner": {"reputation": 2129, "user_id": 2000930, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c62a49bf0db3da3f986eb4edbcbc0efd?s=128&d=identicon&r=PG", "display_name": "Dandy", "link": "https://stackoverflow.com/users/2000930/dandy"}, "edited": false, "score": 0, "creation_date": 1472711308, "post_id": 39256681, "comment_id": 65863469, "body": "<a href=\"http://stackoverflow.com/questions/81991/a-potentially-dangerous-request-form-value-was-detected-from-the-client\">This</a> will help."}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 4278318, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YBSoM4XzoZU/AAAAAAAAAAI/AAAAAAAAAAc/2GMwVlMgD_w/photo.jpg?sz=128", "display_name": "Ivan Sukhetskyi", "link": "https://stackoverflow.com/users/4278318/ivan-sukhetskyi"}, "edited": false, "score": 0, "creation_date": 1472743868, "post_id": 39263230, "comment_id": 65885792, "body": "on backend this is useful, but I need to convert string on frontend site"}], "tags": [], "owner": {"reputation": 555, "user_id": 5628850, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7ZtTX.jpg?s=128&g=1", "display_name": "Vidhyadhar Galande", "link": "https://stackoverflow.com/users/5628850/vidhyadhar-galande"}, "is_accepted": false, "score": 0, "last_activity_date": 1472707326, "creation_date": 1472707326, "answer_id": 39263230, "question_id": 39256681, "link": "https://stackoverflow.com/questions/39256681/how-can-i-convert-password-string-to-base64-string-before-sending-form-to-backen/39263230#39263230", "title": "How can I convert password string to Base64 string before sending form to backend?", "body": "<blockquote>\n  <p>Try this</p>\n</blockquote>\n\n<p>1) base64(Encode/decode)</p>\n\n<pre><code> public static string base64Encode(string sData) // Encode\n {\n   try\n    {\n       byte[] encData_byte = new byte[sData.Length];\n       encData_byte = System.Text.Encoding.UTF8.GetBytes(sData);\n       string encodedData = Convert.ToBase64String(encData_byte);\n       return encodedData;\n    }\n   catch (Exception ex)\n   {\n       throw new Exception(\"Error in base64Encode\" + ex.Message);\n   }\n }\n\npublic static string base64Decode(string sData) //Decode\n {\n    try\n    {\n      var encoder = new System.Text.UTF8Encoding();\n      System.Text.Decoder utf8Decode = encoder.GetDecoder();\n      byte[] todecodeByte = Convert.FromBase64String(sData);\n      int charCount = utf8Decode.GetCharCount(todecodeByte, 0, todecodeByte.Length);\n      [] decodedChar = new char[charCount];\n      utf8Decode.GetChars(todecodeByte, 0, todecodeByte.Length, decodedChar, 0);\n      string result = new String(decodedChar);\n      return result;\n   }\n  catch (Exception ex)\n   {\n      throw new Exception(\"Error in base64Decode\" + ex.Message);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>2) EncodePasswordMd5</p>\n</blockquote>\n\n<pre><code> public static string EncodePassword(string pass, string salt) //encrypt password\n   {\n      byte[] bytes = Encoding.Unicode.GetBytes(pass);\n      byte[] src = Encoding.Unicode.GetBytes(salt);\n      byte[] dst = new byte[src.Length + bytes.Length];\n      System.Buffer.BlockCopy(src, 0, dst, 0, src.Length);\n      System.Buffer.BlockCopy(bytes, 0, dst, src.Length, bytes.Length);\n      HashAlgorithm algorithm = HashAlgorithm.Create(\"SHA1\");\n      byte[] inArray = algorithm.ComputeHash(dst);\n      //return Convert.ToBase64String(inArray);\n      return EncodePasswordMd5(Convert.ToBase64String(inArray));\n   }\n  public static string EncodePasswordMd5(string pass) //Encrypt using MD5\n   {\n      Byte[] originalBytes;\n      Byte[] encodedBytes;\n      MD5 md5;\n      //Instantiate MD5CryptoServiceProvider, get bytes for original password and compute hash (encoded password)\n      md5 = new MD5CryptoServiceProvider();\n      originalBytes = ASCIIEncoding.Default.GetBytes(pass);\n      encodedBytes = md5.ComputeHash(originalBytes);\n      //Convert encoded bytes back to a 'readable' string\n      return BitConverter.ToString(encodedBytes);\n  }\n</code></pre>\n\n<blockquote>\n  <p>@Using Namespace</p>\n</blockquote>\n\n<pre><code>  using System;\nusing System.Security.Cryptography;\nusing System.Text;\nusing System.Text.RegularExpressions;\nusing System.Web;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 4278318, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YBSoM4XzoZU/AAAAAAAAAAI/AAAAAAAAAAc/2GMwVlMgD_w/photo.jpg?sz=128", "display_name": "Ivan Sukhetskyi", "link": "https://stackoverflow.com/users/4278318/ivan-sukhetskyi"}, "is_accepted": true, "score": 2, "last_activity_date": 1473099191, "last_edit_date": 1495535352, "creation_date": 1473099191, "answer_id": 39335813, "question_id": 39256681, "link": "https://stackoverflow.com/questions/39256681/how-can-i-convert-password-string-to-base64-string-before-sending-form-to-backen/39335813#39335813", "title": "How can I convert password string to Base64 string before sending form to backend?", "body": "<p>With help of <a href=\"https://stackoverflow.com/users/477420/alexei-levenkov\">Alexei Levenkov</a> for frontend part and <a href=\"https://stackoverflow.com/users/5628850/vidhyadhar-galande\">Vidhyadhar Galande</a> for backend I solved my problem here is the code:\non View to form I have added this javascript function on submit event</p>\n\n<pre><code>function encode(){\n        $('#Password').val(btoa($('#Password').val()));\n        $('#ConfirmPassword').val(btoa($('#ConfirmPassword').val()));\n    }\n</code></pre>\n\n<p>and on backend decode strings back:</p>\n\n<pre><code>private string DecodeFromBase64(string inputBas64)\n{\n    var base64EncodedBytesPassword = System.Convert.FromBase64String(model.Password);\n    string password = System.Text.Encoding.UTF8.GetString(base64EncodedBytesPassword);\n    return password;\n}\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 4278318, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YBSoM4XzoZU/AAAAAAAAAAI/AAAAAAAAAAc/2GMwVlMgD_w/photo.jpg?sz=128", "display_name": "Ivan Sukhetskyi", "link": "https://stackoverflow.com/users/4278318/ivan-sukhetskyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3692, "favorite_count": 0, "accepted_answer_id": 39335813, "answer_count": 2, "score": 3, "last_activity_date": 1473099191, "creation_date": 1472668429, "question_id": 39256681, "link": "https://stackoverflow.com/questions/39256681/how-can-i-convert-password-string-to-base64-string-before-sending-form-to-backen", "title": "How can I convert password string to Base64 string before sending form to backend?", "body": "<p>I have a sample registration form, it works properly for most cases, but when I try to register new user with password \"U8$&amp;#6G#CBj\" I'm getting an exception <strong>\"A potentially dangerous Request.Form value was detected from the client\"</strong>\nMy idea is to convert password to Base64 format before sending it to backend and on backend convert it back. How can I do it?</p>\n\n<pre><code>@using (Html.BeginForm(\"Login\", \"Account\", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = \"form-horizontal\", role = \"form\" }))\n     {\n        @Html.AntiForgeryToken()\n        &lt;h4&gt;Use a local account to log in.&lt;/h4&gt;\n        &lt;hr /&gt;\n        @Html.ValidationSummary(true, \"\", new { @class = \"text-danger\" })\n        &lt;div class=\"form-group\"&gt;\n           @Html.LabelFor(m =&gt; m.Email, new { @class = \"col-md-2 control-label\" })\n           &lt;div class=\"col-md-10\"&gt;\n              @Html.TextBoxFor(m =&gt; m.Email, new { @class = \"form-control\" })\n              @Html.ValidationMessageFor(m =&gt; m.Email, \"\", new { @class = \"text-danger\" })\n           &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\"&gt;\n           @Html.LabelFor(m =&gt; m.Password, new { @class = \"col-md-2 control-label\" })\n           &lt;div class=\"col-md-10\"&gt;\n              @Html.PasswordFor(m =&gt; m.Password, new { @class = \"form-control\" })\n              @Html.ValidationMessageFor(m =&gt; m.Password, \"\", new { @class = \"text-danger\" })\n           &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\"&gt;\n           &lt;div class=\"col-md-offset-2 col-md-10\"&gt;\n              &lt;div class=\"checkbox\"&gt;\n                 @Html.CheckBoxFor(m =&gt; m.RememberMe)\n                 @Html.LabelFor(m =&gt; m.RememberMe)\n              &lt;/div&gt;\n           &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\"&gt;\n           &lt;div class=\"col-md-offset-2 col-md-10\"&gt;\n              &lt;input type=\"submit\" value=\"Log in\" class=\"btn btn-default\" /&gt;\n           &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;p&gt;\n           @Html.ActionLink(\"Register as a new user\", \"Register\")\n        &lt;/p&gt;\n        @* Enable this once you have account confirmation enabled for password reset functionality *@\n        &lt;p&gt;\n           @Html.ActionLink(\"Forgot your password?\", \"ForgotPassword\")\n        &lt;/p&gt;\n     }\n</code></pre>\n"}, {"tags": ["c#", "automapper", "func"], "comments": [{"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 1, "creation_date": 1472668595, "post_id": 39256640, "comment_id": 65849277, "body": "What does the other function look like? It looks like you just want it to take a <code>Func&lt;Client, Task&lt;Client&gt;&gt;</code> parameter?"}], "answers": [{"comments": [{"owner": {"reputation": 1644, "user_id": 3090249, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1589107501/picture?type=large", "display_name": "gilmishal", "link": "https://stackoverflow.com/users/3090249/gilmishal"}, "edited": false, "score": 0, "creation_date": 1472668857, "post_id": 39256800, "comment_id": 65849416, "body": "I am not sure if <code>Mapper.Map&lt;&gt;()</code> returns a task, but I am assuming it does since it is your return type"}], "tags": [], "owner": {"reputation": 1644, "user_id": 3090249, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1589107501/picture?type=large", "display_name": "gilmishal", "link": "https://stackoverflow.com/users/3090249/gilmishal"}, "is_accepted": false, "score": 0, "last_activity_date": 1472668803, "creation_date": 1472668803, "answer_id": 39256800, "question_id": 39256640, "link": "https://stackoverflow.com/questions/39256640/how-to-pass-in-async-function-to-receive-values-within-function-class/39256800#39256800", "title": "How to pass in async function to receive values within function class", "body": "<p>An async function cannot return <code>Data.Models.Client</code> it can only return <code>Task&lt;IData.Models.Client&gt;</code> <code>Task</code> or <code>void</code>.</p>\n\n<p>you should get <code>Func&lt;Task&lt;Data.Models.Client&gt;, Client&gt;</code> as a parameter</p>\n\n<p>If you want to target an async implementation and a non-async implementation I would create two overloads for your method, an async one and a non-async one.</p>\n\n<pre><code>public static async Task&lt;Client&gt; GetMap(Client client, Func&lt;Task&lt;Data.Models.Client&gt;, Client&gt; func)\n{\n    var map = Mapper.Map&lt;Client, Data.Models.Client&gt;(client);\n    var ret = await func(map);\n    return Mapper.Map&lt;Data.Models.Client, Client&gt;(ret);\n}\n\npublic static Task&lt;Client&gt; GetMap(Client client, Func&lt;Data.Models.Client&gt;, Client&gt; func)\n{\n    var map = Mapper.Map&lt;Client, Data.Models.Client&gt;(client);\n    var ret = func(map);\n    return Mapper.Map&lt;Data.Models.Client, Client&gt;(ret);\n}\n</code></pre>\n"}], "owner": {"reputation": 5264, "user_id": 953496, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c4d8f39591139d6e0702459139c69cc6?s=128&d=identicon&r=PG", "display_name": "Demodave", "link": "https://stackoverflow.com/users/953496/demodave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1472668803, "creation_date": 1472668269, "question_id": 39256640, "link": "https://stackoverflow.com/questions/39256640/how-to-pass-in-async-function-to-receive-values-within-function-class", "title": "How to pass in async function to receive values within function class", "body": "<p>I have a group of functions that I would like to pass to another function to execute within that function.\nBelow is what I attempted. The final one is the one I am trying to use with the generic function.</p>\n\n<p>My controller function</p>\n\n<pre><code>[HttpPost]\npublic async Task&lt;Client&gt; CreateClient([FromBody] Client client)\n{\n    return GetMap(client, _clientRepo.AddAsync);\n}\n</code></pre>\n\n<p>Mapper function</p>\n\n<pre><code>public static Task&lt;Client&gt; GetMap(Client client, Func&lt;Data.Models.Client, Client&gt; func)\n{\n   var map = Mapper.Map&lt;Client, Data.Models.Client&gt;(client);\n   var ret = func(map);\n   return Mapper.Map&lt;Data.Models.Client, Client&gt;(ret);\n}\n</code></pre>\n\n<p>Working function</p>\n\n<pre><code>[HttpPost]\npublic async Task&lt;Client&gt; CreateClient([FromBody] Client client)\n{\n    var map = Mapper.Map&lt;Client, Data.Models.Client&gt;(client);\n    var ret = await _clientRepo.AddAsync(map);\n    return Mapper.Map&lt;Data.Models.Client, Client&gt;(ret);\n} \n</code></pre>\n"}, {"tags": ["c#", "android", "events", "xamarin", "xamarin.android"], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 6087377, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/40be46c511861e06ff7e4bd6ec7fe0d8?s=128&d=identicon&r=PG&f=1", "display_name": "armandasalmd", "link": "https://stackoverflow.com/users/6087377/armandasalmd"}, "edited": false, "score": 0, "creation_date": 1472674067, "post_id": 39256787, "comment_id": 65852278, "body": "But i had ripple effect and after this effect gone. Maybe you know why ?"}, {"owner": {"reputation": 6795, "user_id": 6625726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TM1TR.jpg?s=128&g=1", "display_name": "Timo Salom&#228;ki", "link": "https://stackoverflow.com/users/6625726/timo-salom%c3%a4ki"}, "reply_to_user": {"reputation": 149, "user_id": 6087377, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/40be46c511861e06ff7e4bd6ec7fe0d8?s=128&d=identicon&r=PG&f=1", "display_name": "armandasalmd", "link": "https://stackoverflow.com/users/6087377/armandasalmd"}, "edited": false, "score": 0, "creation_date": 1472674852, "post_id": 39256787, "comment_id": 65852686, "body": "@armandasalmd I can&#39;t say for sure since I don&#39;t have an access to a computer just now. Maybe you could open a new question since you have a clear problem that should easy to reproduce?"}], "tags": [], "owner": {"reputation": 6795, "user_id": 6625726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TM1TR.jpg?s=128&g=1", "display_name": "Timo Salom&#228;ki", "link": "https://stackoverflow.com/users/6625726/timo-salom%c3%a4ki"}, "is_accepted": true, "score": 2, "last_activity_date": 1472668754, "creation_date": 1472668754, "answer_id": 39256787, "question_id": 39256566, "link": "https://stackoverflow.com/questions/39256566/xamarin-android-setting-time-for-longclick-event/39256787#39256787", "title": "Xamarin.Android. Setting time for LongClick event", "body": "<p>LongClick timing is managed by the Android OS, so it cannot be directly modified. However, you could go around the problem by handling everything by yourself.</p>\n\n<ol>\n<li>Create a touch listener.</li>\n<li>In the OnTouch event, detect if the touch action is <code>MotionEventActions.Down</code> and get the current time in milliseconds by using <a href=\"https://developer.xamarin.com/api/member/Java.Lang.JavaSystem.CurrentTimeMillis/\" rel=\"nofollow\">CurrentTimeMillis</a> method.</li>\n<li>Have another check for <code>MotionEventActions.Up</code> to detect when the user lifts the finger. Calculate the time difference between touch up and touch down events and if it's long enough, do something.</li>\n</ol>\n\n<p><a href=\"https://developer.xamarin.com/recipes/android/other_ux/gestures/detect_a_touch/\" rel=\"nofollow\">Here's</a> some code samples related to touch events. It shows how to create the touch listener and react to touch events.</p>\n"}], "owner": {"reputation": 149, "user_id": 6087377, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/40be46c511861e06ff7e4bd6ec7fe0d8?s=128&d=identicon&r=PG&f=1", "display_name": "armandasalmd", "link": "https://stackoverflow.com/users/6087377/armandasalmd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 749, "favorite_count": 0, "accepted_answer_id": 39256787, "answer_count": 1, "score": 0, "last_activity_date": 1504631516, "creation_date": 1472668026, "last_edit_date": 1504631516, "question_id": 39256566, "link": "https://stackoverflow.com/questions/39256566/xamarin-android-setting-time-for-longclick-event", "title": "Xamarin.Android. Setting time for LongClick event", "body": "<p>Is it possible in Xamarin.Android to set event <code>LongClick</code> click time or something similar? The click time as it is, is too short for me.</p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "edited": false, "score": 0, "creation_date": 1472667540, "post_id": 39256409, "comment_id": 65848716, "body": "can you post the code where you have implemented so far ?"}, {"owner": {"reputation": 367, "user_id": 2471773, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f22ef75627c45d25301b151ed35c8817?s=128&d=identicon&r=PG", "display_name": "S52", "link": "https://stackoverflow.com/users/2471773/s52"}, "reply_to_user": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "edited": false, "score": 0, "creation_date": 1472667830, "post_id": 39256409, "comment_id": 65848854, "body": "@Sampath Since we use model first. I&#39;m still designing my schema. So before I move forward to code I wanted to make sure if navigational properties work without foreign key between tables. Let me know If im missing anything?"}, {"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1472667974, "post_id": 39256409, "comment_id": 65848923, "body": "If you are designing the schema, why would you avoid FK relationships that are the foundation of a relational database? <a href=\"https://en.wikipedia.org/wiki/Database_normalization\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Database_normalization</a>"}, {"owner": {"reputation": 367, "user_id": 2471773, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f22ef75627c45d25301b151ed35c8817?s=128&d=identicon&r=PG", "display_name": "S52", "link": "https://stackoverflow.com/users/2471773/s52"}, "reply_to_user": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1472668647, "post_id": 39256409, "comment_id": 65849300, "body": "@SteveGreene Basically, our business people do not want duplicate rows in DriverTrips table, for each DeptId there should be only one row.   If I create a foreign key relationship based on the primary key from driver table, I will have to create one more column DriverId in DriverTrips table and they do not want that. So I just wanted to make sure if we can use navigational properties when there is no relationship.? Let me know if anything is unclear."}, {"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1472669100, "post_id": 39256409, "comment_id": 65849575, "body": "Sounds like you might need a junction table. Assuming your entities are Driver, Trips and then DriverTrips that&#39;s a pretty standard many-to-many design."}, {"owner": {"reputation": 367, "user_id": 2471773, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f22ef75627c45d25301b151ed35c8817?s=128&d=identicon&r=PG", "display_name": "S52", "link": "https://stackoverflow.com/users/2471773/s52"}, "reply_to_user": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1472669319, "post_id": 39256409, "comment_id": 65849717, "body": "@SteveGreene Yes I thought of it but they do not want any relationship or extra table. So can we use navigational properties with just two tables?"}, {"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1472669486, "post_id": 39256409, "comment_id": 65849824, "body": "No, EF requires FK for navigation. You could hack something like this: <a href=\"https://visualstudiomagazine.com/Articles/2012/02/01/Making-Do-with-Absent-Foreign-Keys.aspx\" rel=\"nofollow noreferrer\">visualstudiomagazine.com/Articles/2012/02/01/&hellip;</a>"}, {"owner": {"reputation": 367, "user_id": 2471773, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f22ef75627c45d25301b151ed35c8817?s=128&d=identicon&r=PG", "display_name": "S52", "link": "https://stackoverflow.com/users/2471773/s52"}, "reply_to_user": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1472669858, "post_id": 39256409, "comment_id": 65850066, "body": "@SteveGreene Ok, I will take a look. By looking at the link it seems it is for code first approach."}, {"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1472670026, "post_id": 39256409, "comment_id": 65850163, "body": "If you want to aggregate multiple records from your Driver table into the DriverTrips table there are not many EF alternatives. You could create an aggregate view or trigger on the DB side I suppose."}, {"owner": {"reputation": 367, "user_id": 2471773, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f22ef75627c45d25301b151ed35c8817?s=128&d=identicon&r=PG", "display_name": "S52", "link": "https://stackoverflow.com/users/2471773/s52"}, "reply_to_user": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1472737244, "post_id": 39256409, "comment_id": 65880839, "body": "@SteveGreene Thank you. I will look into it"}], "owner": {"reputation": 367, "user_id": 2471773, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f22ef75627c45d25301b151ed35c8817?s=128&d=identicon&r=PG", "display_name": "S52", "link": "https://stackoverflow.com/users/2471773/s52"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1472667330, "creation_date": 1472667330, "question_id": 39256409, "link": "https://stackoverflow.com/questions/39256409/model-first-of-ef-how-to-define-navigation-property-relationship-without-settin", "title": "Model first of EF, how to define navigation property relationship without setting foreign key between tables in database", "body": "<p>I want to create following two tables,   </p>\n\n<ol>\n<li><p><strong>Driver</strong> table with following columns(DriverId,DeptId,Version,CarNo, License)<br>\n<strong>DriverId</strong> is primary key, <strong>DeptId,Version,CarNo</strong> forms unique keys.      </p>\n\n<ul>\n<li>DeptId will have duplicate values in this table</li>\n</ul></li>\n<li><p>and I want to create <strong>DriverTrips</strong> table with (DeptId, TotalIncome) column. My question is in Entity Framework how can I make use of navigation properties, if there is no foreign key relationship ?Is that possible? Basically, I don't want to repeat DeptId values in this table.</p></li>\n</ol>\n\n<p>I looked at many other posts did not get any answer. Any help to guide me in a right direction is appreciated.</p>\n"}, {"tags": ["c#", "plugins", "interface", "frameworks"], "comments": [{"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1472667356, "post_id": 39256373, "comment_id": 65848635, "body": "What happens when you create a project in another language and reference the DLL in that project?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6352967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6AMya.gif?s=128&g=1", "display_name": "alber2410", "link": "https://stackoverflow.com/users/6352967/alber2410"}, "edited": false, "score": 0, "creation_date": 1472670517, "post_id": 39256454, "comment_id": 65850442, "body": "OK, that answers my main question, thanks! Do you have any concrete example of a C# interface implemented in VB? How should I refer to my C# interface in my VB class? Are there any .NET conventions?"}, {"owner": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "reply_to_user": {"reputation": 13, "user_id": 6352967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6AMya.gif?s=128&g=1", "display_name": "alber2410", "link": "https://stackoverflow.com/users/6352967/alber2410"}, "edited": false, "score": 0, "creation_date": 1472673095, "post_id": 39256454, "comment_id": 65851759, "body": "It&#39;s just like how you would do it any other way from C#. You just reference the dll, add the namespace, then use it just like the class was written in VB, the compiler will handle the rest."}, {"owner": {"reputation": 13, "user_id": 6352967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6AMya.gif?s=128&g=1", "display_name": "alber2410", "link": "https://stackoverflow.com/users/6352967/alber2410"}, "edited": false, "score": 0, "creation_date": 1472673215, "post_id": 39256454, "comment_id": 65851821, "body": "OK, perfect! Thanks again."}], "tags": [], "owner": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "is_accepted": false, "score": 2, "last_activity_date": 1472667512, "creation_date": 1472667512, "answer_id": 39256454, "question_id": 39256373, "link": "https://stackoverflow.com/questions/39256373/c-plugin-framework/39256454#39256454", "title": "C# plugin framework", "body": "<p>The DLL is compiled to <a href=\"https://en.wikipedia.org/wiki/Common_Intermediate_Language\" rel=\"nofollow\" title=\"MSIL\">MSIL</a>, not C#. Any language that uses the .Net framework will be able to reference and build off of the DLL, as it's not language dependant. You will be able to inherit your base plugin class from any .Net based language by default.</p>\n"}], "owner": {"reputation": 13, "user_id": 6352967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6AMya.gif?s=128&g=1", "display_name": "alber2410", "link": "https://stackoverflow.com/users/6352967/alber2410"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1472667512, "creation_date": 1472667208, "question_id": 39256373, "link": "https://stackoverflow.com/questions/39256373/c-plugin-framework", "title": "C# plugin framework", "body": "<p>I have a plugin framework implemented in C#, with the plugin interface written in C# and compiled in a DLL. Is there a way I can write a plugin for that framework in a .NET language other than C#? Thanks for your time!</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-core", "action-filter"], "comments": [{"owner": {"reputation": 1319, "user_id": 3256088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2d723207767589c335311fb25ecf61f?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Sharma", "link": "https://stackoverflow.com/users/3256088/vivek-sharma"}, "edited": false, "score": 0, "creation_date": 1472667459, "post_id": 39256341, "comment_id": 65848686, "body": "Can you add setter in the property CustomService so that it is writable also? and add ICustomService as parameter in constructor?"}, {"owner": {"reputation": 1644, "user_id": 3090249, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1589107501/picture?type=large", "display_name": "gilmishal", "link": "https://stackoverflow.com/users/3090249/gilmishal"}, "edited": false, "score": 1, "creation_date": 1472668037, "post_id": 39256341, "comment_id": 65848957, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/36109052/asp-net-core-mvc-6-inject-service-into-action-filter\">ASP.Net Core (MVC 6) - Inject service into Action Filter</a>"}, {"owner": {"reputation": 17479, "user_id": 5426333, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GtTDC.jpg?s=128&g=1", "display_name": "adem caglin", "link": "https://stackoverflow.com/users/5426333/adem-caglin"}, "edited": false, "score": 0, "creation_date": 1472669797, "post_id": 39256341, "comment_id": 65850024, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/39181390/how-do-i-add-a-parameter-to-an-action-filter-in-asp-net\">How do I add a parameter to an action filter in asp.net?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3060, "user_id": 1039644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/f03YR.jpg?s=128&g=1", "display_name": "Yawar Murtaza", "link": "https://stackoverflow.com/users/1039644/yawar-murtaza"}, "edited": false, "score": 0, "creation_date": 1526397538, "post_id": 39256537, "comment_id": 87723813, "body": "It is a good suggestion, however it requires more work to unit test it."}], "tags": [], "owner": {"reputation": 17479, "user_id": 5426333, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GtTDC.jpg?s=128&g=1", "display_name": "adem caglin", "link": "https://stackoverflow.com/users/5426333/adem-caglin"}, "is_accepted": false, "score": 16, "last_activity_date": 1523391219, "last_edit_date": 1523391219, "creation_date": 1472667882, "answer_id": 39256537, "question_id": 39256341, "link": "https://stackoverflow.com/questions/39256341/how-to-use-action-filters-with-dependency-injection-in-asp-net-core/39256537#39256537", "title": "How to use Action Filters with Dependency Injection in ASP.NET CORE?", "body": "<p>You can use <code>Service Locator</code>:</p>\n\n<pre><code>public void OnActionExecuting(ActionExecutingContext actionContext)\n{\n     var service = actionContext.HttpContext.RequestServices.GetService&lt;IService&gt;();\n}\n</code></pre>\n\n<p>Note that the generic method <code>GetService&lt;&gt;</code> is an extension method and lives in namespace <code>Microsoft.Extensions.DependencyInjection</code>.</p>\n\n<p>If you want to use constructor injection use <code>TypeFilter</code>. See <a href=\"https://stackoverflow.com/questions/39181390/how-do-i-add-a-parameter-to-an-action-filter-in-asp-net\">How do I add a parameter to an action filter in asp.net?</a> </p>\n"}, {"comments": [{"owner": {"reputation": 231, "user_id": 6780086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/350c453129e657ae56fc91be84791469?s=128&d=identicon&r=PG&f=1", "display_name": "James Smith", "link": "https://stackoverflow.com/users/6780086/james-smith"}, "edited": false, "score": 1, "creation_date": 1472707376, "post_id": 39258157, "comment_id": 65861866, "body": "You can also use <code>IAsyncActionFilter</code> instead of <code>IActionFilter</code> if you need async"}], "tags": [], "owner": {"reputation": 12294, "user_id": 5881616, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d701919d30e1147b4a91c5f11bd66016?s=128&d=identicon&r=PG", "display_name": "Ralf B&#246;nning", "link": "https://stackoverflow.com/users/5881616/ralf-b%c3%b6nning"}, "is_accepted": true, "score": 25, "last_activity_date": 1472674007, "last_edit_date": 1495541881, "creation_date": 1472674007, "answer_id": 39258157, "question_id": 39256341, "link": "https://stackoverflow.com/questions/39256341/how-to-use-action-filters-with-dependency-injection-in-asp-net-core/39258157#39258157", "title": "How to use Action Filters with Dependency Injection in ASP.NET CORE?", "body": "<p>If you want to avoid the Service Locator pattern you can use DI by constructor injection with a <code>TypeFilter</code>.</p>\n\n<p>In your controller use</p>\n\n<pre><code>[TypeFilter(typeof(MyActionFilterAttribute), Arguments = new object[] {10})]\npublic IActionResult() NiceAction\n{\n   ...\n}\n</code></pre>\n\n<p>And your <code>ActionFilterAttribute</code> does not need to access a service provider instance anymore.</p>\n\n<pre><code>public class MyActionFilterAttribute : ActionFilterAttribute\n{\n    public int Limit { get; set; } // some custom parameters passed from Action\n    private ICustomService CustomService { get; } // this must be resolved\n\n    public MyActionFilterAttribute(ICustomService service, int limit)\n    {\n        CustomService = service;\n        Limit = limit;\n    }\n\n    public override async Task OnActionExecutionAsync(ActionExecutingContext context, ActionExecutionDelegate next)\n    {\n        await next();\n    }\n}\n</code></pre>\n\n<p>For me the annotation <code>[TypeFilter(typeof(MyActionFilterAttribute), Arguments = new object[] {10})]</code>seems to be awkward. In order to get a more readable annotation like <code>[MyActionFilter(Limit = 10)]</code>your filter has to inherit from <code>TypeFilterAttribute</code>. My answer of <a href=\"https://stackoverflow.com/questions/39181390/how-do-i-add-a-parameter-to-an-action-filter-in-asp-net\">How do I add a parameter to an action filter in asp.net?</a> shows an example for this approach.</p>\n"}, {"tags": [], "owner": {"reputation": 11827, "user_id": 754049, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/pV5Na.jpg?s=128&g=1", "display_name": "Francisco Goldenstein", "link": "https://stackoverflow.com/users/754049/francisco-goldenstein"}, "is_accepted": false, "score": 4, "last_activity_date": 1532445295, "creation_date": 1532445295, "answer_id": 51502179, "question_id": 39256341, "link": "https://stackoverflow.com/questions/39256341/how-to-use-action-filters-with-dependency-injection-in-asp-net-core/51502179#51502179", "title": "How to use Action Filters with Dependency Injection in ASP.NET CORE?", "body": "<p>You can use <strong>ServiceFilters</strong> to instantiate the ActionFilters you need in the controller.</p>\n\n<p>In the controller:</p>\n\n<pre><code>[ServiceFilter(typeof(TrackingAttribute), Order = 2)]\n</code></pre>\n\n<p>You need to register TrackingAttribute in the dependency container so the ServiceFilter can resolve it.</p>\n\n<p>Read more about this at <a href=\"https://www.strathweb.com/2015/06/action-filters-service-filters-type-filters-asp-net-5-mvc-6/\" rel=\"nofollow noreferrer\">https://www.strathweb.com/2015/06/action-filters-service-filters-type-filters-asp-net-5-mvc-6/</a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12373359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uvTOB.jpg?s=128&g=1", "display_name": "Matias Novillo", "link": "https://stackoverflow.com/users/12373359/matias-novillo"}, "is_accepted": false, "score": 0, "last_activity_date": 1614705177, "creation_date": 1614705177, "answer_id": 66444003, "question_id": 39256341, "link": "https://stackoverflow.com/questions/39256341/how-to-use-action-filters-with-dependency-injection-in-asp-net-core/66444003#66444003", "title": "How to use Action Filters with Dependency Injection in ASP.NET CORE?", "body": "<p>A good option is doing this <strong>(Tested in .NET Core 3.1)</strong>:</p>\n<ol>\n<li><p>Inside a Filter class put this:</p>\n<p>public static class FilterContainer\n{</p>\n<pre><code>     public class GenericFilter : ActionFilterAttribute\n     {\n         public override void OnActionExecuting(ActionExecutingContext filterContext)\n         {\n             string Action = filterContext.ActionDescriptor.RouteValues[&quot;action&quot;];\n             Console.WriteLine($&quot;[action]: {Action} STARTING&quot;);\n         }\n\n         public override void OnActionExecuted(ActionExecutedContext filterContext)\n         {\n             string Action = filterContext.ActionDescriptor.RouteValues[&quot;action&quot;];\n             Console.WriteLine($&quot;[action]: {Action} FINISHED&quot;);\n         }\n\n         public override void OnResultExecuting(ResultExecutingContext filterContext)\n         {\n             string Action = filterContext.ActionDescriptor.RouteValues[&quot;action&quot;];\n             Console.WriteLine($&quot;[action]: {Action} GIVING RESULT&quot;);\n         }\n\n         public override void OnResultExecuted(ResultExecutedContext filterContext)\n         {\n             string Action = filterContext.ActionDescriptor.RouteValues[&quot;action&quot;];\n             ObjectResult ObjectResult = (ObjectResult)filterContext.Result;\n             Console.WriteLine($&quot;[action]: {Action} RESULT GIVEN. Value: {ObjectResult.Value}&quot;);\n         }\n     }\n }\n</code></pre>\n</li>\n<li><p>Inside the Startup.cs/ConfigureServices(IServiceCollection services) put this:</p>\n<p>services.AddControllers().AddMvcOptions(options =&gt; options.Filters.Add(new FilterContainer.GenericFilter()));</p>\n</li>\n</ol>\n<p><strong>The result is that a request to any kind of action inside your .NET Core app will go in and out through this pipeline without declaring a filter attribute above any action.</strong></p>\n<p>Let me show you an example inside the Output window of Visual Studio:</p>\n<pre><code>[action]: JSON STARTING\n[action]: JSON FINISHED\n[action]: JSON GIVING RESULT\n[action]: JSON RESULT GIVEN. Value: TestId: 103, FullName:...\n</code></pre>\n"}], "owner": {"reputation": 231, "user_id": 6780086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/350c453129e657ae56fc91be84791469?s=128&d=identicon&r=PG&f=1", "display_name": "James Smith", "link": "https://stackoverflow.com/users/6780086/james-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21560, "favorite_count": 3, "accepted_answer_id": 39258157, "answer_count": 4, "score": 22, "last_activity_date": 1614705177, "creation_date": 1472667070, "question_id": 39256341, "link": "https://stackoverflow.com/questions/39256341/how-to-use-action-filters-with-dependency-injection-in-asp-net-core", "title": "How to use Action Filters with Dependency Injection in ASP.NET CORE?", "body": "<p>I use constructor-based dependency injection everywhere in my <code>ASP.NET CORE</code> application and I also need to resolve dependencies in my action filters:</p>\n\n<pre><code>public class MyAttribute : ActionFilterAttribute\n{\n    public int Limit { get; set; } // some custom parameters passed from Action\n    private ICustomService CustomService { get; } // this must be resolved\n\n    public MyAttribute()\n    {\n    }\n\n    public override async Task OnActionExecutionAsync(ActionExecutingContext context, ActionExecutionDelegate next)\n    {\n        // my code\n        ...\n\n        await next();\n    }\n}\n</code></pre>\n\n<p>Then in Controller:</p>\n\n<pre><code>[MyAttribute(Limit = 10)]\npublic IActionResult()\n{\n    ...\n</code></pre>\n\n<p>If I put ICustomService to the constructor, then I'm unable to compile my project. So, how do I supossed to get interface instances in action filter?</p>\n"}, {"tags": ["c#", "wpf", "exception"], "comments": [{"owner": {"reputation": 21514, "user_id": 211627, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "JDB still remembers Monica", "link": "https://stackoverflow.com/users/211627/jdb-still-remembers-monica"}, "edited": false, "score": 3, "creation_date": 1472667131, "post_id": 39256314, "comment_id": 65848517, "body": "How do you know that an XMLException is occurring?"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1472667174, "post_id": 39256314, "comment_id": 65848542, "body": "Are you sure the exception is thrown from inside of that <code>try</code> and not at another location?  Can you post the stack trace?"}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 1, "creation_date": 1472667181, "post_id": 39256314, "comment_id": 65848554, "body": "I&#39;m not 100% sure if it&#39;s a duplicate (because the underlying cause may be different), but this answer seems to be very useful: <a href=\"http://stackoverflow.com/a/1405510/328193\">stackoverflow.com/a/1405510/328193</a>"}, {"owner": {"reputation": 1644, "user_id": 3090249, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1589107501/picture?type=large", "display_name": "gilmishal", "link": "https://stackoverflow.com/users/3090249/gilmishal"}, "edited": false, "score": 1, "creation_date": 1472667457, "post_id": 39256314, "comment_id": 65848685, "body": "he is using placing the <code>doc.Load(stream)</code> inside the block so it does not seem to be the problem"}, {"owner": {"reputation": 21514, "user_id": 211627, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "JDB still remembers Monica", "link": "https://stackoverflow.com/users/211627/jdb-still-remembers-monica"}, "edited": false, "score": 1, "creation_date": 1472667731, "post_id": 39256314, "comment_id": 65848810, "body": "I don&#39;t have an answer for you, but <code>catch (Exception e)</code> is considered bad practice. You should narrow the scope of your catch block (after you&#39;ve figured out why it&#39;s not working for you). See <a href=\"http://stackoverflow.com/a/3866567/211627\">stackoverflow.com/a/3866567/211627</a>"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1472667898, "post_id": 39256314, "comment_id": 65848888, "body": "This is relatively unlikely, but could the exception actually be thrown where you iterate through <code>_oldNews</code>?  Anyway, you should include the Message and StackTrace from the exception. That would be very helpful."}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1472669276, "post_id": 39256314, "comment_id": 65849690, "body": "Which line is the exception occurring on?"}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "reply_to_user": {"reputation": 21514, "user_id": 211627, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "JDB still remembers Monica", "link": "https://stackoverflow.com/users/211627/jdb-still-remembers-monica"}, "edited": false, "score": 1, "creation_date": 1472669808, "post_id": 39256314, "comment_id": 65850032, "body": "One other things: What is &quot;IsValid?&quot; The reason I ask is that, in my opinion, it&#39;s usually a bad practice to have a constructor that might leave your object in an invalid state because callers might forget to check the IsValid property; it&#39;s better to just throw an exception and let the caller handle it correctly, especially since the &quot;log and swallow&quot; approach doesn&#39;t give the caller any information about what went wrong (even if they do check IsValid), which makes debugging more difficult. It&#39;s also better, @JDB mentioned, to catch specific exceptions."}, {"owner": {"reputation": 21, "user_id": 6566085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b42164ddcbee77f0636e1d833ee5458e?s=128&d=identicon&r=PG&f=1", "display_name": "Druuus", "link": "https://stackoverflow.com/users/6566085/druuus"}, "reply_to_user": {"reputation": 21514, "user_id": 211627, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "JDB still remembers Monica", "link": "https://stackoverflow.com/users/211627/jdb-still-remembers-monica"}, "edited": false, "score": 0, "creation_date": 1472674105, "post_id": 39256314, "comment_id": 65852294, "body": "@JDB&quot;System.Xml.XmlException&quot; in System.Xml.dll in doc.Load(stream) that how do i know that XmlExeption occuring"}, {"owner": {"reputation": 21514, "user_id": 211627, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "JDB still remembers Monica", "link": "https://stackoverflow.com/users/211627/jdb-still-remembers-monica"}, "edited": false, "score": 0, "creation_date": 1472675735, "post_id": 39256314, "comment_id": 65853120, "body": "@Druuus - Thanks. Please edit that into your question. The relevant portion of your stack trace would be useful (at least to the Source ctor call... showing that the error is indeed in your constructor)"}], "answers": [{"comments": [{"owner": {"reputation": 260, "user_id": 5042189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f975d18e5275cebfab59c5c6cbe24d7?s=128&d=identicon&r=PG&f=1", "display_name": "DevCod", "link": "https://stackoverflow.com/users/5042189/devcod"}, "reply_to_user": {"reputation": 21, "user_id": 6566085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b42164ddcbee77f0636e1d833ee5458e?s=128&d=identicon&r=PG&f=1", "display_name": "Druuus", "link": "https://stackoverflow.com/users/6566085/druuus"}, "edited": false, "score": 0, "creation_date": 1472760984, "post_id": 39256828, "comment_id": 65894749, "body": "Do you have a snapshot of the error? Or anything that makes you sure that an Exception is occurring for sure. I am sure that will be very helpful."}], "tags": [], "owner": {"reputation": 260, "user_id": 5042189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f975d18e5275cebfab59c5c6cbe24d7?s=128&d=identicon&r=PG&f=1", "display_name": "DevCod", "link": "https://stackoverflow.com/users/5042189/devcod"}, "is_accepted": false, "score": 0, "last_activity_date": 1472668927, "creation_date": 1472668927, "answer_id": 39256828, "question_id": 39256314, "link": "https://stackoverflow.com/questions/39256314/try-catch-doesnt-catch-exception-c/39256828#39256828", "title": "Try/Catch doesn&#39;t catch exception c#", "body": "<p>All the exception in the C# are derived from System.Exception. So, it is not possible for XmlException to be not caught using your code for try and catch.</p>\n\n<p>Assumptions:\na) The exception that you are trying to catch is occurring somewhere else like duplicated code in other module.</p>\n\n<p>b) In case you want to catch XMLException explicitly the below code will help.</p>\n\n<pre><code>public static void Source(String source) /// Constructor\n{\n    try\n    {\n        var request = WebRequest.Create(source);\n        var stream = request.GetResponse().GetResponseStream();         \n        XmlDocument doc = new XmlDocument();\n        doc.Load(stream);\n    }\n    catch(XmlException e) \n    {\n       Console.WriteLine(\"XmlException Caught\");\n       Console.WriteLine(e.Message);\n       Console.WriteLine(\"Exception object Line, pos: (\" + e.LineNumber + \",\" + e.LinePosition  + \")\");\n    }       \n    catch (Exception ex)\n    {\n        Console.WriteLine(\"Exception Caught\");\n        Console.WriteLine(ex.Message);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6566085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b42164ddcbee77f0636e1d833ee5458e?s=128&d=identicon&r=PG&f=1", "display_name": "Druuus", "link": "https://stackoverflow.com/users/6566085/druuus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1222, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1472679571, "creation_date": 1472666949, "last_edit_date": 1472679571, "question_id": 39256314, "link": "https://stackoverflow.com/questions/39256314/try-catch-doesnt-catch-exception-c", "title": "Try/Catch doesn&#39;t catch exception c#", "body": "<p>I've try catch exception in this code:</p>\n\n<pre><code>    public Source(String source) /// Constructor\n    {\n        _dialogs = new ThreadSafeList&lt;Int64&gt;();\n        _source = source;\n        try\n        {\n            var request = WebRequest.Create(_source);\n            var stream = request.GetResponse().GetResponseStream();\n            XmlDocument doc = new XmlDocument();\n            doc.Load(stream);\n\n            _oldNews = doc.SelectNodes(\"/rss/channel/item\").Cast&lt;XmlNode&gt;();\n            IsValid = true;\n        }\n        catch (Exception e)\n        {\n            Logger.Log(\"Source read error \" + source + \", more: \" + e.Message);\n            IsValid = false;\n        }\n    }\n</code></pre>\n\n<p>XmlException occurs in try block in doc.Load(stream) but doesn't catch. I find out that exist some exception types that can't be caught in the regular way. XmlException isn't such type of exception. Anyway I tried use [HandleProcessCorruptedStateExceptions] attribute and that won't help. How can i catch this exception? <a href=\"http://i.stack.imgur.com/NrQ4o.png\" rel=\"nofollow\">Stack Trace</a>. I'll appriciate any suggestions</p>\n"}, {"tags": ["c#", "wpf", "radio-button"], "comments": [{"owner": {"reputation": 3204, "user_id": 4165377, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xT7vO.png?s=128&g=1", "display_name": "Massimiliano Kraus", "link": "https://stackoverflow.com/users/4165377/massimiliano-kraus"}, "edited": false, "score": 0, "creation_date": 1472671004, "post_id": 39256301, "comment_id": 65850709, "body": "<b>You can&#39;t do this without code behind</b>. Do you need help with the code behind?"}, {"owner": {"reputation": 85, "user_id": 6079341, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bd2ef3ea490385779006ea6398d2af12?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Jones", "link": "https://stackoverflow.com/users/6079341/keith-jones"}, "reply_to_user": {"reputation": 3204, "user_id": 4165377, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xT7vO.png?s=128&g=1", "display_name": "Massimiliano Kraus", "link": "https://stackoverflow.com/users/4165377/massimiliano-kraus"}, "edited": false, "score": 0, "creation_date": 1472672111, "post_id": 39256301, "comment_id": 65851294, "body": "Yes, I can do it with code behind, but since I am trying for a MVVM system, I was looking for other options"}, {"owner": {"reputation": 3204, "user_id": 4165377, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xT7vO.png?s=128&g=1", "display_name": "Massimiliano Kraus", "link": "https://stackoverflow.com/users/4165377/massimiliano-kraus"}, "edited": false, "score": 1, "creation_date": 1472672814, "post_id": 39256301, "comment_id": 65851616, "body": "Using the MVVM doesn&#39;t mean that you can&#39;t use code behind. Code behind still belogs to the View, and is responsible to bind the View to the ViewModel when xaml can&#39;t do that because of its intrinsic limitations (think about calling some method like <code>InitializeComponent()</code>: you can&#39;t do that in xaml!). Create an event handler for the <code>KeyUp</code> event and the <code>Checked</code>/<code>Click</code> event. In the event handlers, set the <code>IsYes</code> property on the VM. And call <code>Focus()</code> on the next element.  I can be wrong, but I think that a concept like &quot;Focus&quot; is to be handled on the View, not on the ViewModel."}], "owner": {"reputation": 85, "user_id": 6079341, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bd2ef3ea490385779006ea6398d2af12?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Jones", "link": "https://stackoverflow.com/users/6079341/keith-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 521, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1472671619, "creation_date": 1472666878, "last_edit_date": 1472671619, "question_id": 39256301, "link": "https://stackoverflow.com/questions/39256301/wpf-radio-button-how-to-move-focus-after-selection", "title": "WPF - Radio button, how to move focus after selection?", "body": "<p>For the following buttons:</p>\n\n<pre><code>&lt;RadioButton GroupName=\"Group1\"\n             IsChecked=\"{Binding Path=IsYes,\n                                 Converter={StaticResource InverseBool},\n                                 FallbackValue=True}\"/&gt;\n&lt;RadioButton GroupName=\"Group1\"\n             Content=\"_Yes\"\n             IsChecked=\"{Binding Path=IsYes,\n                                 FallbackValue=False}\"/&gt;\n</code></pre>\n\n<p>When keyboard operated and hitting Y or N to select the option, how to move focus to the next control? Other than code behind</p>\n"}]