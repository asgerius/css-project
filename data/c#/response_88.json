[{"tags": ["c#", "smtp", "smtpclient", "mailkit", "mimekit"], "answers": [{"tags": [], "owner": {"reputation": 28276, "user_id": 87117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f9e45dad82da556b0acabdbf3be8452?s=128&d=identicon&r=PG", "display_name": "jstedfast", "link": "https://stackoverflow.com/users/87117/jstedfast"}, "is_accepted": true, "score": 5, "last_activity_date": 1473943547, "creation_date": 1473943547, "answer_id": 39511402, "question_id": 39501331, "link": "https://stackoverflow.com/questions/39501331/write-message-to-folder-on-the-disk-using-mailkit/39511402#39511402", "title": "Write message to folder on the disk using MailKit", "body": "<p>Yes, but it doesn't involve MailKit's SmtpClient...</p>\n\n<p>Instead, you'd do this:</p>\n\n<pre><code>MimeKit.MimeMessage message = CreateMyMessage ();\nmessage.WriteTo (fileName);\n</code></pre>\n"}], "owner": {"reputation": 3066, "user_id": 3878764, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/cYlMQ.png?s=128&g=1", "display_name": "John-Luke Laue", "link": "https://stackoverflow.com/users/3878764/john-luke-laue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 0, "accepted_answer_id": 39511402, "answer_count": 1, "score": 2, "last_activity_date": 1473943547, "creation_date": 1473897499, "question_id": 39501331, "link": "https://stackoverflow.com/questions/39501331/write-message-to-folder-on-the-disk-using-mailkit", "title": "Write message to folder on the disk using MailKit", "body": "<p>I'm trying to move an application that used System.Net.Mail over to MailKit/MimeKit.</p>\n\n<p>Using System.NetMail, you could write messages to a folder like so:</p>\n\n<pre><code>_smtp = new SmtpClient()\n{\n    DeliveryMethod = SmtpDeliveryMethod.SpecifiedPickupDirectory,\n    PickupDirectoryLocation = path //path could be a string like \"C:\\Temp\"\n};\n\n_smtp.Send(message);\n</code></pre>\n\n<p>Is there a solution to do this using MailKit/MimeKit?</p>\n\n<p>Thanks for the help!</p>\n"}, {"tags": ["java", "c#", "android", "android-fragments", "xamarin.android"], "comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1473910804, "post_id": 39501329, "comment_id": 66322823, "body": "Please add the stacktrace for the error."}, {"owner": {"reputation": 1470, "user_id": 5902558, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e4fd0f1c33e1f57fad38a48a1551a1de?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Bedford", "link": "https://stackoverflow.com/users/5902558/michael-bedford"}, "reply_to_user": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1473914410, "post_id": 39501329, "comment_id": 66323649, "body": "@Code-Apprentice. Done. I added a screen shot showing it all instead. Thank you for the help!"}, {"owner": {"reputation": 1470, "user_id": 5902558, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e4fd0f1c33e1f57fad38a48a1551a1de?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Bedford", "link": "https://stackoverflow.com/users/5902558/michael-bedford"}, "reply_to_user": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1473914773, "post_id": 39501329, "comment_id": 66323743, "body": "For further information, if I comment out the two (fragmentToPause and fragmentToResume) interface calls in ViewPager_PageSelected, the exceptions go away, all starts up fine and I don&#39;t have more than one instance of each class in the SupportFragmentManager. So, as I eluded to before, they are definitely the cause of the issue. However, I sort of need them else where. Maybe a different approach can be taken though. The goal was to raise and event on the fragment that is left and the one that is scrolled to on a view page swipe."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1473927444, "post_id": 39501329, "comment_id": 66328870, "body": "Please copy and paste the full stacktrace. Images are difficult to view on many screen sizes. Also a screenshot may leave out critical info."}, {"owner": {"reputation": 1470, "user_id": 5902558, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e4fd0f1c33e1f57fad38a48a1551a1de?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Bedford", "link": "https://stackoverflow.com/users/5902558/michael-bedford"}, "reply_to_user": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1473955794, "post_id": 39501329, "comment_id": 66347232, "body": "Actually, I think I figured it out. I will be posting my answer to the question shortly."}], "answers": [{"comments": [{"owner": {"reputation": 1470, "user_id": 5902558, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e4fd0f1c33e1f57fad38a48a1551a1de?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Bedford", "link": "https://stackoverflow.com/users/5902558/michael-bedford"}, "edited": false, "score": 0, "creation_date": 1473907866, "post_id": 39501347, "comment_id": 66322185, "body": "I have edited my post above to show my implementation based on your suggestion. I am getting an exception so either I did not implement properly or there is something else going on."}], "tags": [], "owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "is_accepted": false, "score": 0, "last_activity_date": 1473897609, "creation_date": 1473897609, "answer_id": 39501347, "question_id": 39501329, "link": "https://stackoverflow.com/questions/39501329/pageradapter-instantiating-class-twice/39501347#39501347", "title": "PagerAdapter instantiating class twice", "body": "<blockquote>\n  <p>this method actually creates the instance to the class OR returns it if already created</p>\n</blockquote>\n\n<p>This method will only fulfill this requirement if you make tell it to do so. Currently you are creating a new instance of the requested class every time this method is called.</p>\n\n<p>To fix this, you need to store the instances the first time you create them. Then you can return the same instance if it has already been created. It will take a little bit more code to do this.</p>\n"}, {"tags": [], "owner": {"reputation": 1470, "user_id": 5902558, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e4fd0f1c33e1f57fad38a48a1551a1de?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Bedford", "link": "https://stackoverflow.com/users/5902558/michael-bedford"}, "is_accepted": true, "score": 0, "last_activity_date": 1473969228, "last_edit_date": 1473969228, "creation_date": 1473956732, "answer_id": 39516002, "question_id": 39501329, "link": "https://stackoverflow.com/questions/39501329/pageradapter-instantiating-class-twice/39516002#39516002", "title": "PagerAdapter instantiating class twice", "body": "<p>After some clues, more reading and some testing, I believe I found the answer. However, please, if somebody objects or knows a better way...correct me.</p>\n\n<p>When used with pager adapter, I have learned that InstantiateItem will create an instance of a class/fragment each time if using just the base implementation. It would be up to the developer to override this and store the created fragment once it is created and then return it using GetItem. I also know that InstantiateItem will call GetItem.</p>\n\n<p>What I believe was happening was, my implementation of GetItem was simply creating an instance of the fragment. I was not explicitly storing the instance of them after they were created. That said, it was not completely necessary because if the SupportFragmentManager already has an instance of the class, it would not need to call GetItem and that is how multiple instances are not created each time.</p>\n\n<p>That said, my custom lifecycle interface that I implemented (see OP above) was calling InstantiateItem. Therefore, when this would get called and used, it would create yet another instance of my fragments(s) because the instance that was already created before had a different Tag name. So, I would have two (but only two). One that was created by the pager adapter and one that was created by InstantiateItem which was called from my interface.</p>\n\n<p>So, the fix is (and it seems to be working) is:</p>\n\n<ol>\n<li><p>Change GetItem so that it will store a reference to the fragment after it is created and either return the stored instance or create new if null. Like this</p>\n\n<pre><code> Batches batches;\n\n if (batches == null) {\n     batches = new Batches();\n }\n return batches;\n</code></pre></li>\n<li><p>Ensure that the pager adapter class is complete and GetItem has created an instance to the classes (and stored them) BEFORE the interface can call. This ensures that the instance that is created and stored is the instance for the pager adapter and has the correct tag. </p></li>\n<li><p>Finally, the biggest change. The implementation of the interface that I was using was calling InstantiateItem (I got this off of SO) to get a reference to the class. As mentioned above, this was instead creating a new instance. However, if I change it to GetItem, it will simply get and return the instance of the fragment that was created and stored by the pager adapter. So, it should look like this:</p>\n\n<pre><code>ICustomFragmentLifecycleForPager fragmentToResume = (ICustomFragmentLifecycleForPager)adapter.GetItem(position);  //InstantiateItem(viewPager, position);\n fragmentToResume.onResumePagerFragment(previousActiveFragment);\n</code></pre></li>\n</ol>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 1470, "user_id": 5902558, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e4fd0f1c33e1f57fad38a48a1551a1de?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Bedford", "link": "https://stackoverflow.com/users/5902558/michael-bedford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 39516002, "answer_count": 2, "score": 0, "last_activity_date": 1473969228, "creation_date": 1473897482, "last_edit_date": 1473914334, "question_id": 39501329, "link": "https://stackoverflow.com/questions/39501329/pageradapter-instantiating-class-twice", "title": "PagerAdapter instantiating class twice", "body": "<p>I have done a ton of reading on this issue but I am still at a loss on how to solve it. Basically, I have a view pager which then has a pager adapter class and that will instantiate my fragments using </p>\n\n<pre><code>    public override Android.Support.V4.App.Fragment GetItem(int position)\n    {\n\n        switch (position)\n        {\n            case 0:\n                return new Batches();\n            case 1:\n                return new Track();\n            case 2:\n                return new Post();\n            case 3:\n                return new Upload();\n            case 4:\n                return new Admin();\n            default:\n                return new Track();\n        }\n\n\n    }\n</code></pre>\n\n<p>I understand that this naming is misleading (based on another SO post I read) because this method actually creates the instance to the class OR returns it if already created (ie when you are swiping pages.</p>\n\n<p>That said, I needed some custom lifecycle events to raise on my fragments when you do swipe pages. Based on other reading I did on SO, it was determined that creating a custom interface was the best way to go. So, this is what I did:</p>\n\n<p>Interface</p>\n\n<pre><code>interface ICustomFragmentLifecycleForPager\n{\n    void onPausePagerFragment();\n    void onResumePagerFragment(int prevPage);\n}\n</code></pre>\n\n<p>Activity calling based on view pager page changed event</p>\n\n<pre><code>    private void ViewPager_PageSelected(object sender, ViewPager.PageSelectedEventArgs e)\n    {\n        int position = (int)e.Position;\n\n        ICustomFragmentLifecycleForPager fragmentToResume = (ICustomFragmentLifecycleForPager)adapter.InstantiateItem(viewPager, position); \n        fragmentToResume.onResumePagerFragment(previousActiveFragment);\n\n        ICustomFragmentLifecycleForPager fragmentToPause = (ICustomFragmentLifecycleForPager)adapter.InstantiateItem(viewPager, previousActiveFragment);\n        fragmentToPause.onPausePagerFragment();\n\n        previousActiveFragment = position;\n    }\n</code></pre>\n\n<p>Finally, an example of the implementation on one of the fragments</p>\n\n<pre><code>    public void onPausePagerFragment()\n    {\n        //deInitScanner();\n    }\n</code></pre>\n\n<p>Now, here is where the issue lies. While the GetItem call above in my pager adapter class is supposed to only create the first instance otherwise return instances, I found that my interface will call GetItem and that it DOES create a second (unwanted) instance of a class. </p>\n\n<p>When my application starts up, in the onResume lifecycle, I have a method call that determines which page to show on startup by default. That logic then calls another method to perform the page change. When it performs the page change, the ViewPager_PageSelected event is raised for my custom lifecycles. Because those use InstantiateItem (and maybe that is the issue) it will instantiate a new instance of the class. I have ensured that I do not set the page until After GetItem has run through and created instances to all my classes but it still creates a new one when it is called later.</p>\n\n<p>I see this if I hit a break point, much later in my application, where I have an instance to the SupportFragmentManager and when I inspect that, I see two instances of my fragment(s).</p>\n\n<p>I suspect the problem is either:\n1. I need to use something different than InstantiateItem on my interface to force it to grab an instance to the already existing class?\n2. The GetItem call sees InstantiateItem being called from something other than the view pager, thus has a different tag and therefore, GetItem thinks it has not created an instance of the class and creates another?</p>\n\n<p>Either way, I am not sure how to fix it given this use case.</p>\n\n<p>Please help!</p>\n\n<p>EDIT - I have tried this solution to store the class if it is already instantiated and return that instead of creating new everytime. Basically in the pager adapter class, global to GetItem, I did something like this for each of the classes:</p>\n\n<pre><code>Batches batches;\nTrack track;\n</code></pre>\n\n<p>Then, in the GetItem method, I modified the case statements a bit to do this:</p>\n\n<pre><code>        switch (position)\n        {\n            case 0:\n                if (batches == null)\n                {\n                    batches = new Batches();\n                }\n                return batches;\n            case 1:\n                if (track == null)\n                {\n                    track = new Track();\n                }\n                return track;\n</code></pre>\n\n<p>I cut that off but I do it for all of the cases. However, I now get this exception.</p>\n\n<blockquote>\n  <p>Java.Lang.IllegalStateException: Fragment already added: Track{42350aa8 #1 id=0x7f070097 android:switcher:2131165335:1}</p>\n</blockquote>\n\n<p>EDIT - Here is the screenshot of the stack trace. Not too much to show.\n<a href=\"https://i.stack.imgur.com/1oVaH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1oVaH.png\" alt=\"Stack Trace of Exception\"></a></p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "edited": false, "score": 0, "creation_date": 1473897148, "post_id": 39501242, "comment_id": 66319929, "body": "Where is the code you shared located? Is it in a View or in an Action method? We need that info to be able to help you correctly."}, {"owner": {"reputation": 1598, "user_id": 959912, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3Y1IU.jpg?s=128&g=1", "display_name": "Botonomous", "link": "https://stackoverflow.com/users/959912/botonomous"}, "edited": false, "score": 0, "creation_date": 1473897456, "post_id": 39501242, "comment_id": 66320015, "body": "Also why are you outputting script tags with Response.Write()? We need to know what you are trying to achieve."}, {"owner": {"reputation": 162, "user_id": 5067376, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-Vsu8E7rmS04/AAAAAAAAAAI/AAAAAAAACaU/rfLmh1rhLsU/photo.jpg?sz=128", "display_name": "Alexandre Lima", "link": "https://stackoverflow.com/users/5067376/alexandre-lima"}, "reply_to_user": {"reputation": 1598, "user_id": 959912, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3Y1IU.jpg?s=128&g=1", "display_name": "Botonomous", "link": "https://stackoverflow.com/users/959912/botonomous"}, "edited": false, "score": 0, "creation_date": 1473897971, "post_id": 39501242, "comment_id": 66320132, "body": "@Botonomous, to give a message to the user, &quot;name or invalid email&quot;"}, {"owner": {"reputation": 162, "user_id": 5067376, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-Vsu8E7rmS04/AAAAAAAAAAI/AAAAAAAACaU/rfLmh1rhLsU/photo.jpg?sz=128", "display_name": "Alexandre Lima", "link": "https://stackoverflow.com/users/5067376/alexandre-lima"}, "reply_to_user": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "edited": false, "score": 0, "creation_date": 1473897989, "post_id": 39501242, "comment_id": 66320136, "body": "@SomadinaMbadiwe it is a view"}, {"owner": {"reputation": 2884, "user_id": 6564115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9Xf5H.png?s=128&g=1", "display_name": "AT-2017", "link": "https://stackoverflow.com/users/6564115/at-2017"}, "edited": false, "score": 0, "creation_date": 1473899225, "post_id": 39501242, "comment_id": 66320448, "body": "Please write what you are trying to do? In what case do you want to use it?"}, {"owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "edited": false, "score": 0, "creation_date": 1473899319, "post_id": 39501242, "comment_id": 66320473, "body": "@Alexandre, see my answer on how you should go about it. As pointed out by above, it&#39;s not clear why you&#39;re doing what you&#39;re doing; so I&#39;ve restricted myself to helping you solve the exact problem you posted."}, {"owner": {"reputation": 3274, "user_id": 1639515, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Js0Iq.jpg?s=128&g=1", "display_name": "Jaya", "link": "https://stackoverflow.com/users/1639515/jaya"}, "edited": false, "score": 2, "creation_date": 1473899726, "post_id": 39501242, "comment_id": 66320562, "body": "if you build the validation into your view model, you can do simple validation   by using MVC annotations on your model and reflect them in your view appropriately - here is a link that might help <a href=\"http://www.asp.net/mvc/overview/older-versions-1/models-data/performing-simple-validation-cs\" rel=\"nofollow noreferrer\">asp.net/mvc/overview/older-versions-1/models-data/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1473903333, "post_id": 39501242, "comment_id": 66321233, "body": "Unclear what your trying to do with this code, other than to say your taking the wrong approach. Validation, both client side and server side is built into MVC and you should start by reading <a href=\"http://www.asp.net/mvc/overview/getting-started/introduction/adding-validation\" rel=\"nofollow noreferrer\">Adding Validation</a>"}, {"owner": {"reputation": 162, "user_id": 5067376, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-Vsu8E7rmS04/AAAAAAAAAAI/AAAAAAAACaU/rfLmh1rhLsU/photo.jpg?sz=128", "display_name": "Alexandre Lima", "link": "https://stackoverflow.com/users/5067376/alexandre-lima"}, "reply_to_user": {"reputation": 2884, "user_id": 6564115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9Xf5H.png?s=128&g=1", "display_name": "AT-2017", "link": "https://stackoverflow.com/users/6564115/at-2017"}, "edited": false, "score": 0, "creation_date": 1473909043, "post_id": 39501242, "comment_id": 66322426, "body": "@AT-2016 In fact is not validation is an authentication, Model.ErrorMessage returns a message if the user and password is invalid, so I just want to display a javascript message to the User saying it fou not authenticated, and the way I&#39;m doing as the above code is not working out as not display any alert on the screen."}, {"owner": {"reputation": 145, "user_id": 5782377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23252e2b3078a1cfb965c667adbea49c?s=128&d=identicon&r=PG&f=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/5782377/jpg"}, "edited": false, "score": 0, "creation_date": 1473961816, "post_id": 39501242, "comment_id": 66350426, "body": "JS posted the answer that you&#39;re looking for if you want to inform the user of a model error, like your post suggests that you are. Why you would want to should an alert specifically instead of just printing the ValidationSummary?"}], "answers": [{"tags": [], "owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "is_accepted": false, "score": 0, "last_activity_date": 1473898957, "last_edit_date": 1473898957, "creation_date": 1473898642, "answer_id": 39501457, "question_id": 39501242, "link": "https://stackoverflow.com/questions/39501242/how-to-answer-the-javascript-in-an-asp-net-mvc-view/39501457#39501457", "title": "how to answer the JavaScript in an asp.net mvc view?", "body": "<p>If it's a View, then you might be better off using Javascript/JQuery. To do that, you'll need to add a hidden field somewhere in your HTML and set the value to <code>Model.ErrorMessage</code>. Like this:</p>\n\n<pre><code>&lt;input type=\"hidden\" id=\"hdError\" value=\"@Model.ErrorMessage\" /&gt;\n</code></pre>\n\n<p>Then at the end of your HTML body, you add the Javascript code:</p>\n\n<pre><code>&lt;script&gt;\n$(function() {\n    var errorStr = $(\"#hdError\").val();\n    if (errorStr) {\n        alert(\"hello\"); //or any other alert message\n    } \n});\n&lt;/script&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 162, "user_id": 5067376, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-Vsu8E7rmS04/AAAAAAAAAAI/AAAAAAAACaU/rfLmh1rhLsU/photo.jpg?sz=128", "display_name": "Alexandre Lima", "link": "https://stackoverflow.com/users/5067376/alexandre-lima"}, "edited": false, "score": 0, "creation_date": 1473963864, "post_id": 39516381, "comment_id": 66351563, "body": "I want to do with javascript to display a modal Bootstrap"}], "tags": [], "owner": {"reputation": 3274, "user_id": 1639515, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Js0Iq.jpg?s=128&g=1", "display_name": "Jaya", "link": "https://stackoverflow.com/users/1639515/jaya"}, "is_accepted": true, "score": 1, "last_activity_date": 1473958053, "creation_date": 1473958053, "answer_id": 39516381, "question_id": 39501242, "link": "https://stackoverflow.com/questions/39501242/how-to-answer-the-javascript-in-an-asp-net-mvc-view/39516381#39516381", "title": "how to answer the JavaScript in an asp.net mvc view?", "body": "<p>@Alexandre Lima,\nAs pointed out in comments by others and I agree too, not sure if your approach is right or if it is then we need more information, that said, You have the following options</p>\n\n<ol>\n<li>Use simple data validations on your view models to notify users of\nan invalid email - this is built into MVC for you - MVC's data\nannotation. Here are links\n<a href=\"http://www.asp.net/mvc/overview/older-versions-1/models-data/performing-simple-validation-cs\" rel=\"nofollow\">http://www.asp.net/mvc/overview/older-versions-1/models-data/performing-simple-validation-cs</a></li>\n<li><p>From your comment, looks like you want to display something on login\nfailures , meaning your server code got back saying <code>Auth failed</code>,\nif that is the case, am assuming here you have something like this\non your controller code</p>\n\n<pre><code>public ActionResult Login(LoginModel login)\n{\n   if(ModelState.IsValid)\n   {\n      //you call your service to get back the result\n\n      if(!NotAValidUser)\n      { \n         ModelState.AddModelError(\"LoginFailed\", \"The user name and or password is incorrect.\")\n      }\n   }\n}\n</code></pre>\n\n<p><em>in your View</em></p>\n\n<pre><code>@Html.ValidationMessage(\"LoginFailed\") // this will display the above message\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 162, "user_id": 5067376, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-Vsu8E7rmS04/AAAAAAAAAAI/AAAAAAAACaU/rfLmh1rhLsU/photo.jpg?sz=128", "display_name": "Alexandre Lima", "link": "https://stackoverflow.com/users/5067376/alexandre-lima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 39516381, "answer_count": 2, "score": -1, "last_activity_date": 1473964292, "creation_date": 1473896752, "last_edit_date": 1473964292, "question_id": 39501242, "link": "https://stackoverflow.com/questions/39501242/how-to-answer-the-javascript-in-an-asp-net-mvc-view", "title": "how to answer the JavaScript in an asp.net mvc view?", "body": "<p>I have this code:</p>\n\n<pre><code>@if (!string.IsNullOrWhiteSpace(Model.ErrorMessage))\n{\n    &lt;script&gt;\n        $('#modalError').modal('show');\n    &lt;/script&gt;\n\n    Response.Write(\"&lt;script&gt;alert('hello');&lt;/script&gt;\");\n\n    HttpContext.Current.Response.Write(\"&lt;script&gt;alert('hello');&lt;/script&gt;\");\n}\n</code></pre>\n\n<p>Where check if Model.Error Message is different from empty, so I an alert to the user, but none of the forms submitted by the condition if this working, how can it be done?</p>\n\n<p>already I tried so:</p>\n\n<pre><code>@if (!String.IsNullOrEmpty(ViewData[\"erro\"] as string))\n{\n    &lt;script&gt;alert(@ViewData[\"erro\"]);&lt;/script&gt;\n\n}\n</code></pre>\n\n<p>This and a part of the view.</p>\n\n<p>My controller this way:</p>\n\n<pre><code>public ActionResult Login(LoginViewModel model, SignInMessage message)\n        {\n            if (!String.IsNullOrEmpty(model.ErrorMessage))\n                ViewData[\"erro\"] = !String.IsNullOrEmpty(model.ErrorMessage) ? model.ErrorMessage : null;\n\n            return this.View(model);\n        }\n</code></pre>\n\n<p>I want to display a javascript message because I will use the modal Bootstrap</p>\n"}, {"tags": ["c#", "unity3d", "physics", "collision", "velocity"], "comments": [{"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1473896904, "post_id": 39501195, "comment_id": 66319880, "body": "Are you considering friction, inelastic collisions, angular momentum and angular velocity in 3d? I think you really should look into kinematics, i think you&#39;d love it. If you wanna take the easy path, just use this <a href=\"https://en.wikipedia.org/wiki/Elastic_collision\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Elastic_collision</a>"}, {"owner": {"reputation": 688, "user_id": 1864152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1970b55e14c80f524ac357bf5e93c96f?s=128&d=identicon&r=PG", "display_name": "Pino De Francesco", "link": "https://stackoverflow.com/users/1864152/pino-de-francesco"}, "edited": false, "score": 0, "creation_date": 1473896951, "post_id": 39501195, "comment_id": 66319889, "body": "Hi, is there a reason why you want to control the physics by code instead of relying on Unity native physics? That would help me understand the context: basically are you working with rigid bodies set as kinematic?"}, {"owner": {"reputation": 107, "user_id": 3666251, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c79c5318c5c5b5a35467d5244f237644?s=128&d=identicon&r=PG&f=1", "display_name": "Ssiro", "link": "https://stackoverflow.com/users/3666251/ssiro"}, "edited": false, "score": 0, "creation_date": 1473897120, "post_id": 39501195, "comment_id": 66319923, "body": "I&#39;m using them because unity&#39;s really buggy when it comes to this kind of work, for me at least. I&#39;ve been using the native Unity physics until now but I decided to change to avoid bugs, but that&#39;s not the only reason. I want the game to be multiplayer based, so I wanna use RPC calls(update movement) only when balls collide with each other instead of updating it every single frame."}, {"owner": {"reputation": 107, "user_id": 3666251, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c79c5318c5c5b5a35467d5244f237644?s=128&d=identicon&r=PG&f=1", "display_name": "Ssiro", "link": "https://stackoverflow.com/users/3666251/ssiro"}, "edited": false, "score": 0, "creation_date": 1473897195, "post_id": 39501195, "comment_id": 66319942, "body": "Also, I tried sending a single rpc call to update the cue ball direction and power but the results weren&#39;t the same in other clients(which is super weird)."}, {"owner": {"reputation": 2420, "user_id": 5115818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/RgM5s.png?s=128&g=1", "display_name": "Jerry Switalski", "link": "https://stackoverflow.com/users/5115818/jerry-switalski"}, "edited": false, "score": 0, "creation_date": 1474573596, "post_id": 39501195, "comment_id": 66598648, "body": "U should calculate physics only on server, and update clients with just interpolated position, that is how results will be all the time the same."}, {"owner": {"reputation": 107, "user_id": 3666251, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c79c5318c5c5b5a35467d5244f237644?s=128&d=identicon&r=PG&f=1", "display_name": "Ssiro", "link": "https://stackoverflow.com/users/3666251/ssiro"}, "edited": false, "score": 0, "creation_date": 1474574227, "post_id": 39501195, "comment_id": 66598982, "body": "What values should I update to the clients(position, velocity, angularvelocity ?) , and do I do it each frame or only when balls collide."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 3666251, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c79c5318c5c5b5a35467d5244f237644?s=128&d=identicon&r=PG&f=1", "display_name": "Ssiro", "link": "https://stackoverflow.com/users/3666251/ssiro"}, "edited": false, "score": 0, "creation_date": 1473957456, "post_id": 39502400, "comment_id": 66348166, "body": "Hey, thank you for your answer! Do you think that I should first stop their movement then apply the new velocities ? Else I think it will just multiply their velocity as Unity&#39;s native system already adds velocity when they collide with each other. (Copy pasted from the new answer)"}, {"owner": {"reputation": 501, "user_id": 6192538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f29cc02157105846171e815429f19bc?s=128&d=identicon&r=PG&f=1", "display_name": "Agustin0987", "link": "https://stackoverflow.com/users/6192538/agustin0987"}, "reply_to_user": {"reputation": 107, "user_id": 3666251, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c79c5318c5c5b5a35467d5244f237644?s=128&d=identicon&r=PG&f=1", "display_name": "Ssiro", "link": "https://stackoverflow.com/users/3666251/ssiro"}, "edited": false, "score": 0, "creation_date": 1473983191, "post_id": 39502400, "comment_id": 66359472, "body": "You are right. Unity already do that for you (I forgot about that for some reason). Anyway, you could try both ways, by stoping them first and then apply the velocities or just apply their velocities, and see what happens. Althouth I think that stopong them would be the right approach."}, {"owner": {"reputation": 107, "user_id": 3666251, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c79c5318c5c5b5a35467d5244f237644?s=128&d=identicon&r=PG&f=1", "display_name": "Ssiro", "link": "https://stackoverflow.com/users/3666251/ssiro"}, "edited": false, "score": 0, "creation_date": 1474572725, "post_id": 39502400, "comment_id": 66598160, "body": "Hey, thank you for your time and sorry for the delayed response, I tried stopping them but I end up getting the same results. Do you have any other idea on how i can fix this issue ? Btw, question got updated. Thanks!"}], "tags": [], "owner": {"reputation": 501, "user_id": 6192538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f29cc02157105846171e815429f19bc?s=128&d=identicon&r=PG&f=1", "display_name": "Agustin0987", "link": "https://stackoverflow.com/users/6192538/agustin0987"}, "is_accepted": false, "score": 0, "last_activity_date": 1473907485, "creation_date": 1473907485, "answer_id": 39502400, "question_id": 39501195, "link": "https://stackoverflow.com/questions/39501195/unity3d-get-velocity-after-collision/39502400#39502400", "title": "Unity3D: Get Velocity after collision", "body": "<p>If I understand correctly, what you are trying to do is to apply the speed of \"Ball A\" as a force to \"Ball B\", and vice versa as well. If that is the case I would suggest something like this:</p>\n\n<p>Attach this script to all the balls:</p>\n\n<pre><code>public class BallCollisionScript : MonoBehaviour \n{   \n    public Rigidbody Rigid_Body;\n\n    void Start()\n    {\n        Rigid_Body = this.GetComponent&lt;Rigidbody&gt;();\n    }\n\n    void OnCollisionEnter(Collision collision) \n    {\n        if (collision.gameObject.tag.Equals(\"Ball\"))\n        {\n            BallScript otherBall = collision.gameObject.GetComponent&lt;BallScript&gt;();\n            Rigid_Body.AddForce(otherBall.Rigid_Body.velocity);\n        }\n    }\n}\n</code></pre>\n\n<p>Make sure that all balls are tagged with \"Ball\".</p>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 3666251, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c79c5318c5c5b5a35467d5244f237644?s=128&d=identicon&r=PG&f=1", "display_name": "Ssiro", "link": "https://stackoverflow.com/users/3666251/ssiro"}, "edited": false, "score": 0, "creation_date": 1473957426, "post_id": 39515134, "comment_id": 66348145, "body": "Hey, thank you for your answer! Do you think that I should first stop their movement then apply the new velocities ? Else I think it will just multiply their velocity as Unity&#39;s native system already adds velocity when they collide with each other."}, {"owner": {"reputation": 46, "user_id": 5120920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8c028b763fa039d5a1e95136b13c81?s=128&d=identicon&r=PG&f=1", "display_name": "py13579", "link": "https://stackoverflow.com/users/5120920/py13579"}, "reply_to_user": {"reputation": 107, "user_id": 3666251, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c79c5318c5c5b5a35467d5244f237644?s=128&d=identicon&r=PG&f=1", "display_name": "Ssiro", "link": "https://stackoverflow.com/users/3666251/ssiro"}, "edited": false, "score": 0, "creation_date": 1473969934, "post_id": 39515134, "comment_id": 66354676, "body": "Sorry I forgot you were using unity. What exactly does unity do on contact. Is it stopping their penetration? I&#39;m pretty sure the unity physics would be able to simulate this if you keep the restitution low enough."}, {"owner": {"reputation": 107, "user_id": 3666251, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c79c5318c5c5b5a35467d5244f237644?s=128&d=identicon&r=PG&f=1", "display_name": "Ssiro", "link": "https://stackoverflow.com/users/3666251/ssiro"}, "edited": false, "score": 0, "creation_date": 1474031848, "post_id": 39515134, "comment_id": 66379212, "body": "Well, on contact I think it changes both their velocity and angular velocity. I&#39;ll test your method as soon as I get home, I&#39;m currently away. Thanks!"}, {"owner": {"reputation": 107, "user_id": 3666251, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c79c5318c5c5b5a35467d5244f237644?s=128&d=identicon&r=PG&f=1", "display_name": "Ssiro", "link": "https://stackoverflow.com/users/3666251/ssiro"}, "edited": false, "score": 0, "creation_date": 1474572384, "post_id": 39515134, "comment_id": 66597959, "body": "Hey, just got the chance to test your code. Unfortunately, it gives me the same results that the native unity&#39;s physics system does, which is really weird. The direction differs from the one that I get when I predict the trajectory, I&#39;ll add the script to it in the main post."}, {"owner": {"reputation": 46, "user_id": 5120920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8c028b763fa039d5a1e95136b13c81?s=128&d=identicon&r=PG&f=1", "display_name": "py13579", "link": "https://stackoverflow.com/users/5120920/py13579"}, "reply_to_user": {"reputation": 107, "user_id": 3666251, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c79c5318c5c5b5a35467d5244f237644?s=128&d=identicon&r=PG&f=1", "display_name": "Ssiro", "link": "https://stackoverflow.com/users/3666251/ssiro"}, "edited": false, "score": 0, "creation_date": 1475488193, "post_id": 39515134, "comment_id": 66947372, "body": "Do the collisions LOOK incorrect? Maybe your prediction is wrong. This code and unity act the same because this is what newton predicts, an equal opposite force. I am not very familiar with the way unity works, I&#39;m afraid I can&#39;t help."}], "tags": [], "owner": {"reputation": 46, "user_id": 5120920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8c028b763fa039d5a1e95136b13c81?s=128&d=identicon&r=PG&f=1", "display_name": "py13579", "link": "https://stackoverflow.com/users/5120920/py13579"}, "is_accepted": true, "score": 2, "last_activity_date": 1473953876, "creation_date": 1473953876, "answer_id": 39515134, "question_id": 39501195, "link": "https://stackoverflow.com/questions/39501195/unity3d-get-velocity-after-collision/39515134#39515134", "title": "Unity3D: Get Velocity after collision", "body": "<p>You can calculate the new velocities by applying an impulse to each ball. We can apply Newton's Third law to do so. PseudoCode:</p>\n\n<pre><code>    RelativeVelocity = ball1.velocity - ball2.velocity;\n    Normal = ball1.position - ball2.position;\n    float dot = relativeVelocity*Normal;\n    dot*= ball1.mass + ball2.mass;\n    Normal*=dot;\n    ball1.velocity += Normal/ball1.mass;\n    ball2.velocity -= Normal/ball2.mass;\n</code></pre>\n\n<p>This however does not take into account friction between the two balls nor their angular momentum.</p>\n"}], "owner": {"reputation": 107, "user_id": 3666251, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c79c5318c5c5b5a35467d5244f237644?s=128&d=identicon&r=PG&f=1", "display_name": "Ssiro", "link": "https://stackoverflow.com/users/3666251/ssiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2677, "favorite_count": 2, "accepted_answer_id": 39515134, "answer_count": 2, "score": 0, "last_activity_date": 1474572682, "creation_date": 1473896433, "last_edit_date": 1474572682, "question_id": 39501195, "link": "https://stackoverflow.com/questions/39501195/unity3d-get-velocity-after-collision", "title": "Unity3D: Get Velocity after collision", "body": "<p>I'm making a billiard game and I have two questions:</p>\n\n<p>How do I find the velocity of two balls when they collide with each other and how do I apply it to both balls ?</p>\n\n<p>I already know the angles that they're gonna move, I just need to find the velocity that they'll move in those directions. </p>\n\n<p>I was never good at physics/physics programming so I would appreciate any help given! Btw, my game is in 3D.</p>\n\n<p>Thank you for your time!</p>\n\n<p>Edit: What I'm trying to do is make the movement direction match the direction that I'm calculating using this script:</p>\n\n<pre><code>if (Physics.Raycast(ray, out hit, Mathf.Infinity, lmm))\n{\n    location = new Vector3(hit.point.x, 1.64516f, hit.point.z);\n}\n\nif (Physics.SphereCast(transform.position, 0.77f, location - transform.position, out hitz, Mathf.Infinity, lmm2))\n{\n    if (hitz.collider.tag == \"Ball\")\n    {\n        Vector3 start = hitz.point;\n        end = start + (-hitz.normal * 4);\n        lineRenderer2.SetPosition(1, end);\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "reflection"], "comments": [{"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1473897283, "post_id": 39501179, "comment_id": 66319966, "body": "I feel like all of this is already done in WCF"}], "answers": [{"tags": [], "owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "is_accepted": false, "score": 0, "last_activity_date": 1473898362, "creation_date": 1473898362, "answer_id": 39501429, "question_id": 39501179, "link": "https://stackoverflow.com/questions/39501179/one-generic-method-to-handle-mutliple-delegate-types/39501429#39501429", "title": "One Generic Method To Handle Mutliple Delegate Types", "body": "<p>I think this can be done without creating delegates at runtime:</p>\n\n<pre><code>public interface IService {\n    string Foo(int x);\n}\npublic class ServerClass : IService {\n    public string Foo(int x) {\n        return x.ToString();\n    }\n}\n\npublic class ClientStub : IService {\n    protected ITarget target;\n    public ClientStub(ITarget target) {\n        this.target = target;\n    }\n    public string Foo(int i) {\n        return (string)target.Invoke(nameof(Foo), i);\n    }\n}\n\npublic interface ITarget {\n    object Invoke(string methodName, params object[] args);\n}\n\npublic class RemoteTarget : ITarget {\n    public object Invoke(string methodName, params object[] args) {\n        // send params over network and return response\n    }\n}\n\n...\n\nnew ClientStub(new RemoteTarget()).Foo();\n</code></pre>\n\n<p>Using your approach has no benefit over this one. The thing they usually do in frameworks is that they implement ClientStub class at runtime using reflection emit, so you dont have to write it by hand.</p>\n"}], "owner": {"reputation": 129, "user_id": 3361302, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9KnPg.jpg?s=128&g=1", "display_name": "Killpot", "link": "https://stackoverflow.com/users/3361302/killpot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473898362, "creation_date": 1473896299, "question_id": 39501179, "link": "https://stackoverflow.com/questions/39501179/one-generic-method-to-handle-mutliple-delegate-types", "title": "One Generic Method To Handle Mutliple Delegate Types", "body": "<p>I'm working on a project that allows the Client to call remote functions on the Server for its specific instance. Basically, when the client connects it will get its own instance of a shared class, the Client will then call the server with the name of the method return type, and parameters + their expected types. </p>\n\n<p>The way I'm going about it is creating a Prototypes class, and inside it creating Delegates to represent the Method prototypes that are inside the Server's shared class. </p>\n\n<ul>\n<li>Sub Question: What is the best method to go about this? I'm using Delegates but I'm not a fan of double declarations for what's effectively one prototype. An Interface is about what I want, but I can find a good way to create an instance of it because I'm not sure what the Prototype class will contain.</li>\n</ul>\n\n<p>The way I will handle all this is when the Client connects to the Server, the Client will traverse the Prototypes class and get all Fields, it will then attempt to link all of the Fields inside to one generic method to handle any function that gets called, that function will then get it's declared return type &amp; parameter info etc. and then send it off to the server. </p>\n\n<p>My first thought was to use</p>\n\n<pre><code>params object[] param\n</code></pre>\n\n<p>However Delegate.CreateDelegate errors out at runtime if I say feed it: </p>\n\n<pre><code>public delegate string TestDelegate(string s1, string s2, string[] s3);\n\npublic TestDelegate Test;\n</code></pre>\n\n<p>However, if I create multiple overloads of the Method that all the delegates are linking back to it works fine ex:</p>\n\n<pre><code>    public T handleFunc&lt;T&gt;(object param)\n    {\n        Console.WriteLine(param as string);\n        return default(T);\n    }\n\n    public T handleFunc&lt;T&gt;(object param, object param2)\n    {\n        Console.WriteLine(param as string);\n        return default(T);\n    }\n\n    public T handleFunc&lt;T&gt;(object param, object param2, object param3)\n    {\n        Console.WriteLine((param3 as string[])[0]);\n        return default(T);\n    } \n</code></pre>\n\n<p>Here's my current code to link the delegates to the handleFunc method:</p>\n\n<pre><code>    private void ValidatePrototypes()\n    {\n        var fields = typeof(Prototypes).GetFields();\n        foreach (FieldInfo field in fields)\n        {\n            MethodInfo thisfield = field.FieldType.GetMethods()[0];\n\n            ParameterInfo[] pi = thisfield.GetParameters();\n\n            var handle = typeof(Client).GetMethod(\"handleFunc\", Array.ConvertAll(pi, s =&gt; s.ParameterType));\n\n            var lambda = handle.MakeGenericMethod(thisfield.ReturnType);\n\n            Delegate del = Delegate.CreateDelegate(field.FieldType, this, lambda);\n\n            field.SetValue(Functions, del);\n        }\n        Console.WriteLine(Functions.Test(\"\", \"\", new[] { \"Hello\" }));\n    }\n</code></pre>\n\n<p>I effectively need one method for any possible delegate (or whatever the best variant is) to link to and be able to handle the data from there.</p>\n\n<p>I appreciate any responses.</p>\n"}, {"tags": ["c#", "c++", "dll", "unmanaged"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1473895586, "post_id": 39501075, "comment_id": 66319555, "body": "C++ long == C# int.  You get null in the C++ code because it is reading the upper 32-bits of the long variable.  Just fix the declaration."}, {"owner": {"reputation": 13, "user_id": 6833043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdd1c0cab3f4c516ffddb8e0a879795a?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Hufnagel", "link": "https://stackoverflow.com/users/6833043/mike-hufnagel"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1473946397, "post_id": 39501075, "comment_id": 66340711, "body": "Yup, that fixed it.  Thanks Hans!"}], "owner": {"reputation": 13, "user_id": 6833043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdd1c0cab3f4c516ffddb8e0a879795a?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Hufnagel", "link": "https://stackoverflow.com/users/6833043/mike-hufnagel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473895429, "creation_date": 1473895429, "question_id": 39501075, "link": "https://stackoverflow.com/questions/39501075/last-parameter-in-call-to-unmanaged-dll-always-null", "title": "Last parameter in call to unmanaged dll always null", "body": "<p>I am calling an unmanaged dll from c#.  If I pass the output char array as the last parameter, it is null in the c++ code.  However, if I pass it as the first parameter it is good as are all the other parameters (I haven't tried putting it as the second or third parameter).</p>\n\n<p>This is the signature that fails:</p>\n\n<pre><code>void __declspec(dllexport) processBuffer(const char *token, const char *inBuffer, const long inBufferSize, char *outBuffer);\n</code></pre>\n\n<p>The c# code is -\nWrapper class:</p>\n\n<pre><code>[DllImport(@\"&lt;path to dll&gt;\\&lt;dllname&gt;.dll\", CallingConvention = CallingConvention.Cdecl)]\nstatic class NativeCalls\n{\n    public static extern void processBuffer(string token, char[] inBuffer, long inBufferSize, [In, Out] char[] outBuffer);\n}\n</code></pre>\n\n<p>Call to unmanaged dll:</p>\n\n<pre><code>// token, inBuffer and inBuffer size defined above\nchar[] outBuffer = new char[outBufferSize];\nNativeCalls.processBuffer(token, inBuffer, inBufferSize, outBuffer);\n</code></pre>\n\n<p>With this call, outBuffer comes in to the c++ code as 0x00000000 (null). The rest of the parameters are correct.</p>\n\n<p>If I change the code so outBuffer is the first parameter (in all necessary locations), it arrives in the c++ not null, can be written to without error, and shows valid data when inspected after the call return.  </p>\n\n<p>Clearly, something is wrong... I just don't know what.  Any and all help greatly appreciated!</p>\n"}, {"tags": ["c#", ".net", "inversion-of-control"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 2, "creation_date": 1473895171, "post_id": 39501029, "comment_id": 66319451, "body": "You&#39;re right. That code is entirely defeating the purpose of IoC and ending up with tightly coupled types. It looks like they created the IoC constructor just for the purposes of unit testing rather than embracing it as an overall design methodology."}, {"owner": {"reputation": 15734, "user_id": 560660, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/05b5db3474d863fd69426ce3c7ee500c?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/560660/craig"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1473897589, "post_id": 39501029, "comment_id": 66320049, "body": "Thanks, @itsme86 - that&#39;s what I was worried about. When I question it, I&#39;m asked, &quot;besides unit testing, there&#39;s no other reason for IoC&quot;, and I end up not being sure how to respond. I believe the statement is invalid, and there are numerous reasons, but I can&#39;t seem to pick any. Can you assist?"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1473898194, "post_id": 39501029, "comment_id": 66320191, "body": "I guess <a href=\"https://en.wikipedia.org/wiki/Coupling_(computer_programming)#Disadvantages\" rel=\"nofollow noreferrer\">this</a> sums up the disadvantages of tight coupling pretty well."}], "answers": [{"comments": [{"owner": {"reputation": 15734, "user_id": 560660, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/05b5db3474d863fd69426ce3c7ee500c?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/560660/craig"}, "edited": false, "score": 0, "creation_date": 1473897449, "post_id": 39501044, "comment_id": 66320012, "body": "Thanks @Justin... When you say &quot; provide some mechanism for &quot;dynamically&quot; creating the dependency&quot;, do you mean something like Unity (An IoC container - the next thing I am trying to get a better understanding of)"}, {"owner": {"reputation": 228875, "user_id": 84651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b5ab789d3e28d1fad880f3fd1765b66?s=128&d=identicon&r=PG", "display_name": "Justin Niessner", "link": "https://stackoverflow.com/users/84651/justin-niessner"}, "reply_to_user": {"reputation": 15734, "user_id": 560660, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/05b5db3474d863fd69426ce3c7ee500c?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/560660/craig"}, "edited": false, "score": 1, "creation_date": 1473897707, "post_id": 39501044, "comment_id": 66320074, "body": "@Craig - Correct (hence why I mentioned Dependency Injection Frameworks). Unity is just one of them. I also like Autofac and nInject."}, {"owner": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "edited": false, "score": 0, "creation_date": 1473898983, "post_id": 39501044, "comment_id": 66320384, "body": "Anytime you use the &quot;new&quot; keyword in constructor it introduces tight coupling,"}], "tags": [], "owner": {"reputation": 228875, "user_id": 84651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b5ab789d3e28d1fad880f3fd1765b66?s=128&d=identicon&r=PG", "display_name": "Justin Niessner", "link": "https://stackoverflow.com/users/84651/justin-niessner"}, "is_accepted": true, "score": 2, "last_activity_date": 1473895134, "creation_date": 1473895134, "answer_id": 39501044, "question_id": 39501029, "link": "https://stackoverflow.com/questions/39501029/is-this-correct-implementation-of-ioc/39501044#39501044", "title": "is this correct implementation of IoC?", "body": "<p>You're providing the ability to have the dependency injected into the class.</p>\n\n<p>When you say that your application simply uses the default constructor, you're saying that you haven't actually injected the dependency. It's still hard coded.</p>\n\n<p>You need to go another step further and provide some mechanism for \"dynamically\" creating the dependency at run time and then injecting it into the class (via a Dependency Injection Framework or some other custom mechanism).</p>\n"}], "owner": {"reputation": 15734, "user_id": 560660, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/05b5db3474d863fd69426ce3c7ee500c?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/560660/craig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 39501044, "answer_count": 1, "score": 0, "last_activity_date": 1473895134, "creation_date": 1473895023, "question_id": 39501029, "link": "https://stackoverflow.com/questions/39501029/is-this-correct-implementation-of-ioc", "title": "is this correct implementation of IoC?", "body": "<p>I'm trying to increase my Inversion of Control knowledge, and spotted some code that I'd like to know - is this true IoC?</p>\n\n<pre><code>    public class DepartmentLogic : IDepartmentLogic\n    {\n        private readonly IDepartmentRepository _departmentRepository;\n\n        public DepartmentLogic(IDepartmentRepository repo)\n        {\n            _departmentRepository = repo;\n        }\n\n        public DepartmentLogic()\n        {\n            _departmentRepository = new DepartmentRepository(Constants.CONNECTION_STRING_NAME);\n        }\n    }\n</code></pre>\n\n<p>If the unit test calls this class, it'll pass in a mocked IDepartmentRepository. However, all the main application code uses the class with the default constructor, which then news up the concrete DepartmentRepository.</p>\n\n<p>Is this correct? I thought I read that you shouldn't new up dependent classes within your calling class, like is happening in the default constructor, and that the newing of the concrete DepartmentRepository should really happen in the class that created this class. </p>\n"}, {"tags": ["c#", "wpf", "visual-studio", "visual-studio-2015", "visual-studio-extensions"], "comments": [{"owner": {"reputation": 1229, "user_id": 1508001, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a80eb3e1a7f375dde7ed86c1fb49d902?s=128&d=identicon&r=PG", "display_name": "Kim Johnson", "link": "https://stackoverflow.com/users/1508001/kim-johnson"}, "edited": false, "score": 0, "creation_date": 1473896703, "post_id": 39501017, "comment_id": 66319830, "body": "There are quite a few extensibility samples here - <a href=\"https://github.com/Microsoft/VSSDK-Extensibility-Samples\" rel=\"nofollow noreferrer\">github.com/Microsoft/VSSDK-Extensibility-Samples</a>; do any approximate what you&#39;re looking for?"}, {"owner": {"reputation": 23, "user_id": 1998805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/670590af1880175777d86fe8502834ee?s=128&d=identicon&r=PG", "display_name": "Jack Edwards", "link": "https://stackoverflow.com/users/1998805/jack-edwards"}, "reply_to_user": {"reputation": 1229, "user_id": 1508001, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a80eb3e1a7f375dde7ed86c1fb49d902?s=128&d=identicon&r=PG", "display_name": "Kim Johnson", "link": "https://stackoverflow.com/users/1508001/kim-johnson"}, "edited": false, "score": 0, "creation_date": 1473897313, "post_id": 39501017, "comment_id": 66319976, "body": "@KimJohnson unfortunately not :-("}, {"owner": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1473905126, "post_id": 39501017, "comment_id": 66321615, "body": "By the way, you should learn the difference between modal and modeless dialog..."}, {"owner": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1473905449, "post_id": 39501017, "comment_id": 66321684, "body": "You might have an idea of what is possible by trying some extensions and see what they do."}, {"owner": {"reputation": 15911, "user_id": 972216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2d4e494d15340d244ba1fae113e9b4f?s=128&d=identicon&r=PG", "display_name": "Jason Malinowski", "link": "https://stackoverflow.com/users/972216/jason-malinowski"}, "edited": false, "score": 0, "creation_date": 1474070818, "post_id": 39501017, "comment_id": 66396994, "body": "I&#39;ll admit that I&#39;m not understanding what you&#39;re asking for Jack. What are you trying to build?"}], "answers": [{"tags": [], "owner": {"reputation": 3698, "user_id": 281489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b943d06f5ddae2c8dba7dc5619bb046?s=128&d=identicon&r=PG", "display_name": "Yann Duran", "link": "https://stackoverflow.com/users/281489/yann-duran"}, "is_accepted": true, "score": 1, "last_activity_date": 1516087303, "creation_date": 1516087303, "answer_id": 48275926, "question_id": 39501017, "link": "https://stackoverflow.com/questions/39501017/is-it-possible-to-create-a-modal-dialog-similar-to-the-intellisense-dialog-in-a/48275926#48275926", "title": "Is it possible to create a modal dialog similar to the Intellisense dialog in a Visual Studio extension?", "body": "<p>I know that it's 2018 now, but if anyone come across this page in a search and wants to know the answer to the same question, I've added a link to the official Microsoft documentation.</p>\n\n<p>Have a look at <a href=\"https://docs.microsoft.com/en-us/visualstudio/extensibility/adding-a-tool-window\" rel=\"nofollow noreferrer\">Adding a Tool Window</a> which shows the various ways to add a WPF <code>ToolWindow</code> control to Visual Studio.</p>\n"}], "owner": {"reputation": 23, "user_id": 1998805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/670590af1880175777d86fe8502834ee?s=128&d=identicon&r=PG", "display_name": "Jack Edwards", "link": "https://stackoverflow.com/users/1998805/jack-edwards"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 48275926, "answer_count": 1, "score": 1, "last_activity_date": 1516087303, "creation_date": 1473894936, "question_id": 39501017, "link": "https://stackoverflow.com/questions/39501017/is-it-possible-to-create-a-modal-dialog-similar-to-the-intellisense-dialog-in-a", "title": "Is it possible to create a modal dialog similar to the Intellisense dialog in a Visual Studio extension?", "body": "<p>I'm trying to figure out if and how I can create a custom dialog in a Visual Studio extension similar to the Intellisense dialog:</p>\n\n<p><a href=\"https://i.stack.imgur.com/HQ9BA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HQ9BA.png\" alt=\"Intellisense dialog\"></a></p>\n\n<p>and the Find &amp; Replace dialog.</p>\n\n<p><a href=\"https://i.stack.imgur.com/HdH9F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HdH9F.png\" alt=\"enter image description here\"></a></p>\n\n<p>I don't want to create an entirely new WPF window that is separated from visual studio (i.e. has its own icon on the start bar) - I want a dialog that is within VS that can supports custom controls. I specifically want a dialog like this that has a ListView and a TextBox.</p>\n\n<p>Is that at all possible? I've searched around a lot but resources seem scarce. Is there at least a way to fake this behaviour?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "encryption", "credentials", "password-protection"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 1, "creation_date": 1473894588, "post_id": 39500951, "comment_id": 66319282, "body": "Try downloading the source code for an open source password manager like <a href=\"http://keepass.info/download.html\" rel=\"nofollow noreferrer\">KeePass</a> and see how they do it."}, {"owner": {"reputation": 348, "user_id": 3303915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de3fde723f05664a6084ca177b33d441?s=128&d=identicon&r=PG&f=1", "display_name": "\u039furous", "link": "https://stackoverflow.com/users/3303915/%ce%9furous"}, "edited": false, "score": 0, "creation_date": 1473894719, "post_id": 39500951, "comment_id": 66319321, "body": "See <a href=\"http://stackoverflow.com/q/2597047/3303915\">stackoverflow.com/q/2597047/3303915</a> for a possible answer"}, {"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1474707405, "post_id": 39500951, "comment_id": 66649482, "body": "If any of the given answers solved your problem, you may <a href=\"http://meta.stackexchange.com/q/5234/266187\">accept</a> one of them. If it didn&#39;t, then please expand on what is wrong."}], "answers": [{"tags": [], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "is_accepted": false, "score": 0, "last_activity_date": 1473895656, "last_edit_date": 1473895656, "creation_date": 1473895230, "answer_id": 39501057, "question_id": 39500951, "link": "https://stackoverflow.com/questions/39500951/password-storage/39501057#39501057", "title": "Password storage", "body": "<blockquote>\n  <p>how can I really make sure the credentials are protected if cant hash them?</p>\n</blockquote>\n\n<p><strong>You can't</strong>; You can not make any guarantee that however you store a password (or any other data) is 100% secure.  </p>\n\n<p>When using a <a href=\"https://en.wikipedia.org/wiki/Cryptographic_hash_function\" rel=\"nofollow\">hash</a> to <em>store a password</em> (loosely speaking) it simply prevents (or attempts to prevent) the original value from being calculated from the hash value.</p>\n\n<p>You may want to update your question to something like <em>What are the best practices for storing encrypted data securely against theft</em>.</p>\n\n<hr>\n\n<p><strong>I'm not a security expert</strong>, but if I had data I wanted to store for other users that I did not want to access without the user present (physically or logged in), I would probably do something like require them to create a master password.  I would create a unique Salt for each user and that is all I would store (along with the encrypted data).  Then I would encrypt the data with the SHA3-512 (hash) of the master password + Salt.  Theoretically, I don't have access to the data at all, not even for recovery purposes (because I don't store the hash nor the password).</p>\n\n<p>Even in this case the data is not 100% secure.  Someone could use a man-in-the-middle attack or compromise the system and steal the password/hash.  The only known security feature of this is that it would be extremely difficult to decrypt the stolen data with only a Salt.</p>\n"}, {"tags": [], "owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1473917121, "creation_date": 1473917121, "answer_id": 39503667, "question_id": 39500951, "link": "https://stackoverflow.com/questions/39500951/password-storage/39503667#39503667", "title": "Password storage", "body": "<p>Store the data (credentials) in a database that is specially secured and hardened. </p>\n\n<ul>\n<li><p>It should not be accessible from the internet and there must be many levels of indirection between it and the internet.</p></li>\n<li><p>It should be accessible only from two specific systems. One is authorized to read the database and the other should also be able to make changes. So, you will need a dedicated firewall around this database. Make yourself familiar with multiple levels of <a href=\"https://en.wikipedia.org/wiki/DMZ_%28computing%29\" rel=\"nofollow\">demilitarized zones</a>.</p></li>\n<li><p>Make sure that all your machines are properly patched. If you decide to use specific software, make sure to subscribe to the necessary channels to get information about available patches and possible exploits very fast and apply them quickly / find hotfixes.</p></li>\n<li><p>Configure only the least amount of permissions for your admins that are necessary to operate the infrastructure. Don't just give away those permissions to everybody that asks in your company.</p></li>\n<li><p>After you've done all that, encryption of this data does not offer much protection. It's just obfuscation at this point, because the key that encrypts the data must be close to the data.</p></li>\n</ul>\n"}], "owner": {"reputation": 789, "user_id": 1221495, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/34da2852d650ec341de4ede955d0863a?s=128&d=identicon&r=PG&f=1", "display_name": "SpcCode", "link": "https://stackoverflow.com/users/1221495/spccode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 359, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1473917121, "creation_date": 1473894439, "last_edit_date": 1495541704, "question_id": 39500951, "link": "https://stackoverflow.com/questions/39500951/password-storage", "title": "Password storage", "body": "<p>You already know of multiple browsers providing the capability of storing the credentials to log in websites. <em>How do they properly secure the password if it cannot be salty-hashed</em>?, the only way I found is by encrypting it only. Sites such as mint.com, save the credentials from multiple banks. How they make it is secured (code-wise)?\nLet say I am in a journey of implementing something similar, how can I really make sure the credentials are protected if cant hash them?\nSources:</p>\n\n<ul>\n<li><a href=\"https://www.mint.com/how-mint-works/security\" rel=\"nofollow noreferrer\">https://www.mint.com/how-mint-works/security</a></li>\n<li><a href=\"https://support.mozilla.org/en-US/kb/where-are-my-logins-stored\" rel=\"nofollow noreferrer\">https://support.mozilla.org/en-US/kb/where-are-my-logins-stored</a></li>\n<li><a href=\"https://stackoverflow.com/questions/596706/best-practices-for-storing-bank-information-in-a-database\">Best practices for storing bank information in a database</a></li>\n<li><a href=\"https://www.quora.com/Where-and-how-is-bank-account-information-stored-retrieved-and-updated\" rel=\"nofollow noreferrer\">https://www.quora.com/Where-and-how-is-bank-account-information-stored-retrieved-and-updated</a></li>\n</ul>\n"}, {"tags": ["c#", "asp.net-mvc", "unit-testing", "cookies", "nsubstitute"], "answers": [{"comments": [{"owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "edited": false, "score": 0, "creation_date": 1473960972, "post_id": 39501855, "comment_id": 66349994, "body": "that was a great answer. Thanks."}], "tags": [], "owner": {"reputation": 194, "user_id": 6815377, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dpTwJBF_FgE/AAAAAAAAAAI/AAAAAAAAAEk/u7TCjuFlUWk/photo.jpg?sz=128", "display_name": "Aldo", "link": "https://stackoverflow.com/users/6815377/aldo"}, "is_accepted": true, "score": 2, "last_activity_date": 1473902192, "creation_date": 1473902192, "answer_id": 39501855, "question_id": 39500947, "link": "https://stackoverflow.com/questions/39500947/how-mock-cookie-in-unit-test/39501855#39501855", "title": "How Mock Cookie in Unit test", "body": "<p>I think you can handle this by doing some refactoring in your controller, per example, you can create an ICookieManager interface and a CookieManager class (this class contains the logic to add a cookie, also  implements the ICookieManager Interface) then you could either add this ICookieManager as a dependency in your constructor or  as a property and then you will be able to mock this dependency in your unit test, something like this :</p>\n\n<pre><code>public interface ICookieManager\n    {\n        void CreateUserCookie(string userName, string password, HttpResponseBase response, int expiration = 10);\n    }\n\n    public class CookieManager: ICookieManager\n    {\n        public void CreateUserCookie(string userName, string password, HttpResponseBase response, int expiration = 10)\n        {\n            HttpCookie usercookie = new HttpCookie(\"usercookie\");\n            usercookie[\"UserName\"] = userName;\n            usercookie[\"Password\"] = password;\n            usercookie.Expires = DateTime.Now.AddMinutes(expiration);\n            response.Cookies.Add(usercookie);\n        }\n    }\n</code></pre>\n\n<p>In your controller :</p>\n\n<pre><code> public class YourController : Controller\n    {\n        public ICookieManager CookieManager { get; set; }\n\n        public YourController()\n        {\n            CookieManager = new CookieManager();\n        }\n\n        public YourController(ICookieManager cookieManager)\n        {\n            CookieManager = cookieManager;\n        }\n\n        public ActionResult Login(LogInRequest logInRequest)\n        {\n            if (ModelState.IsValid)\n            {\n                CookieManager.CreateUserCookie(logInRequest.UserName, logInRequest.Password, Response);\n                return RedirectToAction(\"search\", \"LoanDriver\");\n            }\n        }\n\n\n    }\n</code></pre>\n\n<p>In your Unit Test:</p>\n\n<pre><code>public void Web_Login_ShouldValidateUserAndLoginSuccessfully()\n    {\n        using (var kernel = new NSubstituteMockingKernel())\n        {\n            // Setup the dependency incjection\n            kernel.Load(new EntityFrameworkTestingNSubstituteModule());\n\n            // Create test request data \n            var request = new LogInRequest { UserName = \"test\", Password = \"test\" };\n\n            var fakeResponseHandler = new FakeResponseHandler();\n            fakeResponseHandler.AddFakeResponse(new Uri(\"http://localhost/test\"), new HttpResponseMessage(HttpStatusCode.OK));\n            ConfigurationManager.AppSettings[\"SearchApiBaseUrl\"] = \"http://dev.loans.carfinance.com/internal\";\n            var server = new HttpServer(new HttpConfiguration(), fakeResponseHandler);\n            var httpClient = new HttpClient(server);\n            var controller = new LoanDriverController(httpClient);\n            controller.CookieManager=mockOfYourCookieManager; //here you pass the instance of the mock or also you can passe it in the constructor of the controller.\n            Fake.SetFakeContext(controller);\n            var result = controller.Login(request);\n            Assert.IsNotNull(result);\n        }\n</code></pre>\n"}], "owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4477, "favorite_count": 1, "accepted_answer_id": 39501855, "answer_count": 1, "score": 1, "last_activity_date": 1473918527, "creation_date": 1473894395, "last_edit_date": 1473918527, "question_id": 39500947, "link": "https://stackoverflow.com/questions/39500947/how-mock-cookie-in-unit-test", "title": "How Mock Cookie in Unit test", "body": "<p>I have a MVC controller that I am creating cookie in it and do the rest of operation. I need to unit test this method. I am not sure how to Mock the cookie.</p>\n\n<p>This is my method in the controller:</p>\n\n<pre><code>public ActionResult Login(LogInRequest logInRequest)\n{\n    if (ModelState.IsValid)\n    {\n        HttpCookie usercookie = new HttpCookie(\"usercookie\");\n        usercookie[\"UserName\"] = logInRequest.UserName;\n        usercookie[\"Password\"] = logInRequest.Password;\n        usercookie.Expires = DateTime.Now.AddMinutes(10);\n        **Response.Cookies.Add(usercookie);**\n        return RedirectToAction(\"search\", \"LoanDriver\");\n        .......\n        return View(logInRequest);\n    }\n</code></pre>\n\n<p>in this line Response.Cookies.Add(usercookie); it gave me an error as Null. and when I trace the cookie has value. </p>\n\n<p>And this is my test method:</p>\n\n<pre><code>public void Web_Login_ShouldValidateUserAndLoginSuccessfully()\n{\n    using (var kernel = new NSubstituteMockingKernel())\n    {\n        // Setup the dependency incjection\n        kernel.Load(new EntityFrameworkTestingNSubstituteModule());\n\n        // Create test request data \n        var request = new LogInRequest { UserName = \"test\", Password = \"test\" };\n        var fakeResponseHandler = new FakeResponseHandler();\n        fakeResponseHandler.AddFakeResponse(new Uri(\"http://localhost/test\"), new HttpResponseMessage(HttpStatusCode.OK));\n        ConfigurationManager.AppSettings[\"SearchApiBaseUrl\"] = \"http://dev.loans.carfinance.com/internal\";\n        var server = new HttpServer(new HttpConfiguration(), fakeResponseHandler);\n        var httpClient = new HttpClient(server);\n        var controller = new LoanDriverController(httpClient);\n        Fake.SetFakeContext(controller);\n        var result = controller.Login(request);\n        Assert.IsNotNull(result);\n    }\n}\n</code></pre>\n\n<p>I have tried to add the cookie to Response as well but not working ans getting same issue:</p>\n\n<pre><code>public static void SetFakeContext(this Controller controller)\n{\n    var httpContext = InitialiseFakeHttpContext();\n    ControllerContext context = \n        new ControllerContext(new RequestContext(httpContext, new RouteData()), controller);\n    controller.ControllerContext = context;\n}\n\nprivate static HttpContextBase InitialiseFakeHttpContext(string url = \"\")\n{ \n    var HttpContextSub = Substitute.For&lt;HttpContextBase&gt;();\n    var RequestSub = Substitute.For&lt;HttpRequestBase&gt;();\n    var ResponseSub = Substitute.For&lt;HttpResponseBase&gt;();\n    var serverUtilitySub = Substitute.For&lt;HttpServerUtilityBase&gt;();\n    var itemsSub = Substitute.For&lt;IDictionary&gt;();\n    HttpContextSub.Request.Returns(RequestSub);\n    HttpContextSub.Response.Returns(ResponseSub);\n    HttpContextSub.Server.Returns(serverUtilitySub);\n    var cookie = Substitute.For&lt;HttpResponseBase&gt;();\n    HttpContextSub.Response.Returns(cookie);\n    return HttpContextSub;\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api"], "comments": [{"owner": {"reputation": 2003, "user_id": 4087436, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-iKpodTEt9l8/AAAAAAAAAAI/AAAAAAAAE8Q/EpZ6_rQzG6w/photo.jpg?sz=128", "display_name": "Ravi A.", "link": "https://stackoverflow.com/users/4087436/ravi-a"}, "edited": false, "score": 0, "creation_date": 1473906084, "post_id": 39500909, "comment_id": 66321818, "body": "I am not understanding how these methods are related. Am I missing something ?"}, {"owner": {"reputation": 90, "user_id": 5216652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GMhZd.png?s=128&g=1", "display_name": "Fabio Padua", "link": "https://stackoverflow.com/users/5216652/fabio-padua"}, "reply_to_user": {"reputation": 2003, "user_id": 4087436, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-iKpodTEt9l8/AAAAAAAAAAI/AAAAAAAAE8Q/EpZ6_rQzG6w/photo.jpg?sz=128", "display_name": "Ravi A.", "link": "https://stackoverflow.com/users/4087436/ravi-a"}, "edited": false, "score": 0, "creation_date": 1473943993, "post_id": 39500909, "comment_id": 66338909, "body": "Neither do I! But when this Log method is enabled the HttpContext.Current.Request is null and when I comment the override method works fine. So I guess the async operation is messing up with my upload routine."}], "owner": {"reputation": 90, "user_id": 5216652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GMhZd.png?s=128&g=1", "display_name": "Fabio Padua", "link": "https://stackoverflow.com/users/5216652/fabio-padua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 297, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1473895888, "creation_date": 1473894185, "last_edit_date": 1473895888, "question_id": 39500909, "link": "https://stackoverflow.com/questions/39500909/web-api-logging-requests-responses-but-skip-files-upload", "title": "Web API Logging Requests, Responses but skip files upload", "body": "<p>I have some problem with my logging procedure.</p>\n\n<pre><code>        protected override async Task&lt;HttpResponseMessage&gt; SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)\n    {\n\n        WebApiLogin log = new WebApiLogin();\n        string clientToken = \"\";\n        string clientAddress = \"\";\n        string requestUri = \"\";\n        string requestBody = \"\";\n        string responseBody = \"\";\n        HttpResponseMessage result = null;\n\n        try\n        {\n\n            clientToken = request.Headers.GetValues(\"Token\").FirstOrDefault();\n            requestUri = request.RequestUri.AbsoluteUri;\n            clientAddress = HttpContext.Current.Request.UserHostAddress;\n\n            // log request body\n            requestBody = await request.Content.ReadAsStringAsync();\n\n            // let other handlers process the request\n            result = await base.SendAsync(request, cancellationToken);\n\n            if (result.Content != null)\n            {\n                // once response body is ready, log it\n                responseBody = await result.Content.ReadAsStringAsync();\n                // log full\n                log.Log(clientToken, clientAddress, requestUri, requestBody, responseBody);\n            }\n            else\n            {\n                // log partial\n                log.Log(clientToken, clientAddress, requestUri, requestBody);\n            }\n\n        }\n        catch (Exception ex)\n        {\n            log.Log(clientToken, clientAddress, requestUri, requestBody, ex.Message);\n        }\n\n        return result;\n    }\n</code></pre>\n\n<p>Everything works fine calling the API with json in requests and responses.</p>\n\n<p>But the issue starts when my log repository starting growing and this whole process starts delay a little bit more. Due the async call - I guess - when calling one method sending some file on the call for upload purposes, I got an error. Below my method:</p>\n\n<pre><code>public IHttpActionResult Post()\n    {\n\n        try\n        {\n\n            string sCnn = GetClientCnnFromToken();\n\n            if (!String.IsNullOrEmpty(sCnn))\n            {\n\n                var httpRequest = HttpContext.Current.Request;\n                if (httpRequest.Files.Count &gt; 0)\n                {\n\n                    Ecommerce.DAL.BackEnd.Configuration.System objConfig = new Ecommerce.DAL.BackEnd.Configuration.System(sCnn);\n\n                    using (DataTable dtb = objConfig.Management(\"RETORNA-PARAMETRO\"))\n                    {\n\n                        if (!dtb.Rows[0].IsNull(\"str_cnn_cdn_content\") &amp;&amp; dtb.Rows[0][\"str_cnn_cdn_content\"].ToString() != \"\")\n                        {\n\n                            //storageAccount = CloudStorageAccount.Parse(ConfigurationManager.AppSettings[\"StorageConnectionString\"]);\n                            var storageAccount = CloudStorageAccount.Parse(dtb.Rows[0][\"str_cnn_cdn_content\"].ToString());\n\n                            //create client to work with blobs\n                            CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();\n\n                            //already created container via azure management portal, set container reference\n                            CloudBlobContainer container = blobClient.GetContainerReference(\"product\");\n\n                            foreach (string file in httpRequest.Files)\n                            {\n                                var postedFile = httpRequest.Files[file];\n\n                                CloudBlockBlob blockBlob = container.GetBlockBlobReference(postedFile.FileName);\n                                blockBlob.Properties.ContentType = \"image/jpeg\";\n                                blockBlob.UploadFromStream(postedFile.InputStream);\n\n                            }\n\n                            return Ok();\n\n                        }\n                        else\n                        {\n                            throw new Exception(\"Unable to retrieve CDN configuration for this costumer. Refer to e-commerce configuration for more details.\");\n                        }\n\n                    }\n\n                }\n                else\n                {\n                    return BadRequest(\"You must post images in files on request. Files Count = 0\");\n                }\n\n            }\n            else\n            {\n                throw new Exception(\"Invalid Token\");\n            }\n\n        }\n        catch (Exception ex)\n        {\n            throw ex;\n        }\n\n    }\n</code></pre>\n\n<p>On this line: </p>\n\n<pre><code>var httpRequest = HttpContext.Current.Request;\n</code></pre>\n\n<p>I've got \"Object Reference not set\" error due HttpContext is null. I guess due the delay between the async calls on the log method.</p>\n\n<p>Stopping the log method the \"null reference\" error stops.</p>\n\n<p>Is there any way to solve this, I mean, logging json and files uploads?</p>\n\n<p>If not, is it possible skip this logging just when have some file upload involved?</p>\n\n<p>Thanks in advance,</p>\n"}, {"tags": ["c#", "sql-server", "entity-framework", "user-defined-functions"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5539403"}, "edited": false, "score": 0, "creation_date": 1473932200, "post_id": 39500907, "comment_id": 66331815, "body": "If I&#39;m not wrong, when you set user.active = false and call db.SaveChanges EF will run a update query, so your sample code is already doing update not through a tvf. If you want all data operations to be done through TVFs, write different TVFs for each operation and just select from them."}, {"owner": {"reputation": 41, "user_id": 1689013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a1da5a6922a4788f95e754710ebf509?s=128&d=identicon&r=PG", "display_name": "plunkg", "link": "https://stackoverflow.com/users/1689013/plunkg"}, "edited": false, "score": 0, "creation_date": 1473939159, "post_id": 39500907, "comment_id": 66335999, "body": "Very true.  SELECT and UPDATE work fine through the EF model, but I can&#39;t find a way to <b>INSERT or DELETE</b>, which is my question."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1473939647, "post_id": 39500907, "comment_id": 66336267, "body": "<i>Functions</i> are <i>functions</i> not stored procedures. They can&#39; perform data manipulations. In order to perform insert/update/delete you&#39;ll have to create stored procedures. These <i>can</i> be mapped directly to entities so you don&#39;t need any extra calls to use them"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1473939867, "post_id": 39500907, "comment_id": 66336391, "body": "Also note that <i>functions</i> can&#39;t be executed by themselves, so you are <i>already</i> allowing EF to execute ad-hoc SQL statements. Are you sure the DBA specified <i>TVFs</i> instead of stored procedures?"}, {"owner": {"reputation": 41, "user_id": 1689013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a1da5a6922a4788f95e754710ebf509?s=128&d=identicon&r=PG", "display_name": "plunkg", "link": "https://stackoverflow.com/users/1689013/plunkg"}, "edited": false, "score": 0, "creation_date": 1473939927, "post_id": 39500907, "comment_id": 66336426, "body": "A table-valued function <b>can</b> be used to perform data manipulations in T-SQL.  See, for example, <a href=\"http://stackoverflow.com/questions/16568454/is-a-table-valued-function-updatable\">this SO post</a>"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1473940159, "post_id": 39500907, "comment_id": 66336570, "body": "@plunkg which shows nothing of the kind. The <i>function</i> is a <code>SELECT</code>. The linked question talks about <i>updatable</i> functions, just like there are updateable views. In the case of views, the code doesn&#39;t have to do <i>anything</i>, just use EF&#39;s normal modification operations."}, {"owner": {"reputation": 41, "user_id": 1689013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a1da5a6922a4788f95e754710ebf509?s=128&d=identicon&r=PG", "display_name": "plunkg", "link": "https://stackoverflow.com/users/1689013/plunkg"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1473941501, "post_id": 39500907, "comment_id": 66337312, "body": "@PanagiotisKanavos, I don&#39;t mean to be argumentative, but you CAN manipulate data in the underlying table using a TVF, <b>even though the function performs a SELECT</b>.  I realize it&#39;s counter-intuitive, but it&#39;s true.  Here&#39;s <a href=\"http://sqlblog.com/blogs/greg_low/archive/2011/05/22/update-against-a-table-valued-function-when-declared-inline.aspx\" rel=\"nofollow noreferrer\">another link</a> demonstrating it."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1473944561, "post_id": 39500907, "comment_id": 66339324, "body": "@plunkg you are confusing different things, which prevents you from understanding what&#39;s wrong with the question. You asked if you can create a function that performs a DELETE. You can&#39;t. The links you provide do <i>not</i> use the function to delete. They refere to updateable functions or views, ie functions or view that can be included in a separate DELETE statement. You have to be able to generate such a <code>DELETE</code> statement in the first place. EF doesn&#39;t provide that."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1473944804, "post_id": 39500907, "comment_id": 66339503, "body": "You can map an entity to a table or updatable view, and EF will generate the proper SELECT/UPDATE etc at runtime. You can map the Select/Insert/Update/Delete operations to separate stored procedures with  <a href=\"https://msdn.microsoft.com/en-us/data/dn468673.aspx\" rel=\"nofollow noreferrer\">MapToStoredProcedures</a> and EF will use the stored procedure instead of generating the statements. You could even do a DELETE in the Select sproc. Mapping operations to functions though isn&#39;t provided out-of-the-box. Perhaps an extension can add such mapping, but this is an unusual request"}], "owner": {"reputation": 41, "user_id": 1689013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a1da5a6922a4788f95e754710ebf509?s=128&d=identicon&r=PG", "display_name": "plunkg", "link": "https://stackoverflow.com/users/1689013/plunkg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1473942141, "creation_date": 1473894180, "last_edit_date": 1473942141, "question_id": 39500907, "link": "https://stackoverflow.com/questions/39500907/insert-delete-operations-in-entity-framework-c-using-a-table-valued-function", "title": "Insert/Delete operations in Entity Framework C# using a table-valued function", "body": "<p>I'm using Entity Framework 6.  The DBA I'm working with requires that all data operations from the web app I'm working on are done via table-valued functions.  </p>\n\n<p>Now, it's possible to perform INSERT, UPDATE and DELETE on a TVF using T-SQL, but again, I'm using EF.  SELECTS and UPDATES on a TVF are easy enough in EF (see <a href=\"https://msdn.microsoft.com/en-us/data/jj592907.aspx\" rel=\"nofollow\">this link</a>, for example).  But <strong>is there a way to use a TVF to do a DELETE or INSERT using a TVF within Entity Framework</strong>?</p>\n\n<p>Here's some sample code that will update the \"active\" flag on a user record provided by tvfUser.  </p>\n\n<pre><code>    using (var db = new dbAppUserEntities())\n    {\n        var user = db.tvfUser(appID).Where(w =&gt; w.ID == userID).SingleOrDefault();\n        if (user != null)\n        {\n            user.active = false;\n            db.SaveChanges();\n        }\n    }\n</code></pre>\n\n<p><strong>How would I delete a user using the same TVF in similar EF-ish fashion?</strong>  How would I create one?  I'm aware that I can simply issue SQL commands through EF (using ExecuteSqlCommand, for instance), but is that my only recourse?</p>\n\n<p><strong>EDIT:</strong>\nIn case you're dubious that a TVF can indeed manipulate data at all, I assure you that it can.  Try this if you don't believe me:</p>\n\n<pre><code>CREATE TABLE [dbo].[_test](\n    [id] [int] IDENTITY(1,1) NOT NULL,\n    [Value] [nchar](10) NULL,\n CONSTRAINT [PK__test] PRIMARY KEY CLUSTERED \n(\n    [id] ASC\n)) \nGO\n\n\nCREATE FUNCTION [dbo].[TestFunction]\n(   \n)\nRETURNS TABLE \nAS\nRETURN \n(\n    SELECT id, value FROM _test \n)\nGO\n\nINSERT INTO _test (Value) VALUES ('A','B','C')\nGO\n\nSELECT * FROM TestFunction() WHERE id=2 -- Value column = 'B'\nUPDATE Testfunction() SET value = 'D' WHERE id=2\nSELECT * FROM TestFunction() WHERE id=2 -- now Value column = 'D'\n</code></pre>\n"}, {"tags": ["c#", "arcgis"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 1, "creation_date": 1473894875, "post_id": 39500868, "comment_id": 66319368, "body": "First google result for &quot;arcgis rest token&quot;: <a href=\"http://server.arcgis.com/en/server/10.3/administer/linux/acquiring-arcgis-tokens.htm\" rel=\"nofollow noreferrer\">server.arcgis.com/en/server/10.3/administer/linux/&hellip;</a>"}, {"owner": {"reputation": 185, "user_id": 5166572, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/2980ee073bb7e2f696c4735fcb955d5f?s=128&d=identicon&r=PG&f=1", "display_name": "dsingh23", "link": "https://stackoverflow.com/users/5166572/dsingh23"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1473898512, "post_id": 39500868, "comment_id": 66320273, "body": "The url on that page does not open for me."}, {"owner": {"reputation": 185, "user_id": 5166572, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/2980ee073bb7e2f696c4735fcb955d5f?s=128&d=identicon&r=PG&f=1", "display_name": "dsingh23", "link": "https://stackoverflow.com/users/5166572/dsingh23"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1473899046, "post_id": 39500868, "comment_id": 66320401, "body": "I want to generate a token based on the client id and client secret."}], "answers": [{"tags": [], "owner": {"reputation": 3797, "user_id": 720773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9nOO2.jpg?s=128&g=1", "display_name": "Gary Sheppard", "link": "https://stackoverflow.com/users/720773/gary-sheppard"}, "is_accepted": false, "score": 0, "last_activity_date": 1473938743, "creation_date": 1473938743, "answer_id": 39509915, "question_id": 39500868, "link": "https://stackoverflow.com/questions/39500868/how-to-generate-a-token-to-query-a-rest-arcgis-service/39509915#39509915", "title": "How to generate a token to query a REST ArcGIS service?", "body": "<p>See <a href=\"https://developers.arcgis.com/authentication/accessing-arcgis-online-services/#using-rest\" rel=\"nofollow\">https://developers.arcgis.com/authentication/accessing-arcgis-online-services/#using-rest</a> for an overview. There are two options:</p>\n\n<ol>\n<li>Easier: use the ArcGIS Runtime SDK: <a href=\"https://developers.arcgis.com/net/desktop/guide/use-arcgis-token-authentication.htm\" rel=\"nofollow\">https://developers.arcgis.com/net/desktop/guide/use-arcgis-token-authentication.htm</a></li>\n<li>Harder: post your own token request: <a href=\"https://developers.arcgis.com/authentication/accessing-arcgis-online-services/#using-rest\" rel=\"nofollow\">https://developers.arcgis.com/authentication/accessing-arcgis-online-services/#using-rest</a> (no .NET samples, probably because you really should use ArcGIS Runtime)</li>\n</ol>\n\n<p>Here's an ArcGIS Runtime SDK for .NET sample that uses a hardcoded login. The .NET page I linked above also has a sample that challenges the user for credentials.</p>\n\n<pre><code>try\n{\n    var opts = new GenerateTokenOptions();\n    opts.TokenAuthenticationType = TokenAuthenticationType.ArcGISToken;\n\n    // generate an ArcGIS token credential with a hard-coded user name and password\n    // (if authentication fails, an ArcGISWebException will be thrown)\n    var cred = await IdentityManager.Current.GenerateCredentialAsync(\n                                 \"http://serverapps10.esri.com/arcgis/rest/services/\", \n                                 \"user1\", \n                                 \"pass.word1\", \n                                 opts);\n\n    // add the credential to the IdentityManager (will be included in all requests to this portal)\n    IdentityManager.Current.AddCredential(cred);\n\n    // load a layer based on a secured resource on the portal\n    var layer = new ArcGISDynamicMapServiceLayer(new Uri\n                        (\"http://serverapps10.esri.com/arcgis/rest/services/GulfLawrenceSecureUser1/MapServer\"));\n    await layer.InitializeAsync();\n\n    // add the layer to the map and zoom to its extent\n    this.MyMapView.Map.Layers.Add(layer);\n    await this.MyMapView.SetViewAsync(layer.FullExtent);\n}\ncatch (ArcGISWebException webExp)\n{\n    MessageBox.Show(\"Unable to authenticate with portal: \" + webExp.Message);\n}\ncatch (Exception exp)\n{\n    MessageBox.Show(\"Unable to load secured layer: \" + exp.Message);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 185, "user_id": 5166572, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/2980ee073bb7e2f696c4735fcb955d5f?s=128&d=identicon&r=PG&f=1", "display_name": "dsingh23", "link": "https://stackoverflow.com/users/5166572/dsingh23"}, "edited": false, "score": 0, "creation_date": 1474050450, "post_id": 39510330, "comment_id": 66389849, "body": "In order to authenticate to the service I need 2 tokens: one \u201ctoken\u201d I have and the other is the \u201caccess_token\u201d which I think can be generated using the identity manager service. Only with the combination of both of them I will be able to access the service. I&#39;m still unable to get the access token."}, {"owner": {"reputation": 128, "user_id": 2308089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUmRs.jpg?s=128&g=1", "display_name": "Mehmet Emin Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/2308089/mehmet-emin-yal%c3%a7%c4%b1n"}, "reply_to_user": {"reputation": 185, "user_id": 5166572, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/2980ee073bb7e2f696c4735fcb955d5f?s=128&d=identicon&r=PG&f=1", "display_name": "dsingh23", "link": "https://stackoverflow.com/users/5166572/dsingh23"}, "edited": false, "score": 0, "creation_date": 1474407299, "post_id": 39510330, "comment_id": 66516696, "body": "I think that you want use oauth2.0 on arcgis . if you want this you will follow <a href=\"https://developers.arcgis.com/authentication/accessing-arcgis-online-services/\" rel=\"nofollow noreferrer\">developers.arcgis.com/authentication/&hellip;</a> ."}], "tags": [], "owner": {"reputation": 128, "user_id": 2308089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUmRs.jpg?s=128&g=1", "display_name": "Mehmet Emin Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/2308089/mehmet-emin-yal%c3%a7%c4%b1n"}, "is_accepted": false, "score": 1, "last_activity_date": 1582545014, "last_edit_date": 1582545014, "creation_date": 1473940286, "answer_id": 39510330, "question_id": 39500868, "link": "https://stackoverflow.com/questions/39500868/how-to-generate-a-token-to-query-a-rest-arcgis-service/39510330#39510330", "title": "How to generate a token to query a REST ArcGIS service?", "body": "<p>If you want simple <code>http</code> requests , You can create a simple connection to follow the following.</p>\n\n<p>First of all , you must know generate token url.\nfor example if your server <code>url</code> is <a href=\"http://myserver/arcgis/rest/services\" rel=\"nofollow noreferrer\">http://myserver/arcgis/rest/services</a> ...., </p>\n\n<p>Your generate token <code>url</code> is: <a href=\"http://myserver/arcgis/tokens/generateToken\" rel=\"nofollow noreferrer\">http://myserver/arcgis/tokens/generateToken</a>.</p>\n\n<p>The second operation is to prepare the model to generate a token, it is simply like below:</p>\n\n<pre><code>public class ArcgisTokenResponseModel\n{\n\n    public string token { get; set; }\n\n    public string expires { get; set; }\n\n}\n</code></pre>\n\n<p>And for reusable code , we may create a class that prepare querystring key values.\nthis class will simply look like the below code:</p>\n\n<pre><code>public class TokenModel\n{\n\n    public string f { get; set; }\n\n    public string username { get; set; }\n\n    public string password { get; set; }\n\n    public string ip { get; set; }\n\n    public int expiration { get; set; }\n\n    public string client { get; set; }\n\n    public TokenModel(string username, string password, string ip, int expiration, string f = \"json\")\n    {\n        this.expiration = expiration;\n        this.f = f;\n        this.ip = ip;\n        this.password = password;\n        this.username = username;\n    }\n\n    public string GetQueryStringParameter()\n    {\n        return \"f=\" + this.f + \"&amp;username=\" + this.username + \"&amp;password=\" + this.password + \"&amp;ip=\" + this.ip + \"&amp;expiration=\" + this.expiration;\n    }\n\n\n\n}\n</code></pre>\n\n<p>Then prepare a function that generate token from <code>ArcGis</code> server with username and password. This function may look like this:</p>\n\n<pre><code>    protected string GetToken(string generateTokenUrl,string username,string password)\n    {\n        try\n        {\n            string ipadress = _serverInformationHelper.GetIPAddress();\n            int exp = 60;\n            if (!string.IsNullOrEmpty(username) &amp;&amp; !string.IsNullOrEmpty(password))\n            {\n                Model.Arcgis.TokenModel tokenModel = new Model.Arcgis.TokenModel(username, password, ipadress, exp);\n\n                //token bilgisinin al\u0131naca\u011f\u0131 server url'i\n                string post = tokenModel.GetQueryStringParameter();\n                WebClient clientToken = new WebClient();\n                clientToken.Headers.Add(\"Content-Type: application/x-www-form-urlencoded\");\n                string tokenResult = clientToken.UploadString(generateTokenUrl, post);\n                ArcgisTokenResponseModel resultTokenModel = _seriliazer.Deserialize&lt;ArcgisTokenResponseModel&gt;(tokenResult);\n                if (resultTokenModel != null &amp;&amp; !string.IsNullOrEmpty(resultTokenModel.token))\n                    return resultTokenModel.token;\n            }\n            return null;\n        }\n        catch (Exception ex)\n        {\n            return null;\n        }\n    }\n</code></pre>\n\n<p>After all , whatever you want , you can use GetToken() function.</p>\n"}, {"tags": [], "owner": {"reputation": 110, "user_id": 6823216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297898ed1e20db2210d7bbe6d7c1b1de?s=128&d=identicon&r=PG&f=1", "display_name": "spiskula", "link": "https://stackoverflow.com/users/6823216/spiskula"}, "is_accepted": false, "score": 1, "last_activity_date": 1474282330, "creation_date": 1474282330, "answer_id": 39571374, "question_id": 39500868, "link": "https://stackoverflow.com/questions/39500868/how-to-generate-a-token-to-query-a-rest-arcgis-service/39571374#39571374", "title": "How to generate a token to query a REST ArcGIS service?", "body": "<p>Have a look how tokens are obtained in Esri's proxy:\n<a href=\"https://developers.arcgis.com/authentication/working-with-proxies/\" rel=\"nofollow\">https://developers.arcgis.com/authentication/working-with-proxies/</a></p>\n\n<p>And in particular:\n<a href=\"https://github.com/Esri/resource-proxy/tree/master/DotNet\" rel=\"nofollow\">https://github.com/Esri/resource-proxy/tree/master/DotNet</a>\n<a href=\"https://github.com/Esri/resource-proxy/blob/master/DotNet/proxy.ashx\" rel=\"nofollow\">https://github.com/Esri/resource-proxy/blob/master/DotNet/proxy.ashx</a></p>\n"}, {"tags": [], "owner": {"reputation": 613, "user_id": 809090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07a378b2dc33b680265718408470a48f?s=128&d=identicon&r=PG", "display_name": "Perry", "link": "https://stackoverflow.com/users/809090/perry"}, "is_accepted": false, "score": 1, "last_activity_date": 1484058803, "creation_date": 1484058803, "answer_id": 41571321, "question_id": 39500868, "link": "https://stackoverflow.com/questions/39500868/how-to-generate-a-token-to-query-a-rest-arcgis-service/41571321#41571321", "title": "How to generate a token to query a REST ArcGIS service?", "body": "<p>As @spiskula mentioned you could follow the method shown in <a href=\"https://github.com/Esri/resource-proxy/blob/master/DotNet/proxy.ashx\" rel=\"nofollow noreferrer\">https://github.com/Esri/resource-proxy/blob/master/DotNet/proxy.ashx</a>, specifically the getNewTokenIfCredentialsAreSpecified method.</p>\n\n<p>Here is a VERY simplistic example (pre .Net 4.5) of doing this same thing without the SDK. User will need to make this more robust with error handling, etc.</p>\n\n<pre><code>private string GetToken()\n    {\n        var request = (HttpWebRequest)WebRequest.Create(\"https://www.arcgis.com/sharing/rest/oauth2/token/\");\n\n        var postData = \"client_id=yourclientid\"; //required\n        postData += \"&amp;client_secret=yourclientsecret\"; //required\n        postData += \"&amp;grant_type=client_credentials\"; //required\n        postData += \"&amp;expiration=120\"; //optional, default\n        var data = Encoding.ASCII.GetBytes(postData);\n\n        request.Method = \"POST\";\n        request.ContentType = \"application/x-www-form-urlencoded\";\n        request.ContentLength = data.Length;\n\n        using (var stream = request.GetRequestStream())\n        {\n            stream.Write(data, 0, data.Length);\n        }\n\n        var response = (HttpWebResponse)request.GetResponse();\n\n        var responseString = new StreamReader(response.GetResponseStream()).ReadToEnd();\n\n        ESRITokenResponse eToken = Newtonsoft.Json.JsonConvert.DeserializeObject&lt;ESRITokenResponse&gt;(responseString);\n\n        return eToken.access_token;\n    }\n\npublic class ESRITokenResponse\n{\n    public string access_token { get; set; }\n    public string expires_in { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 185, "user_id": 5166572, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/2980ee073bb7e2f696c4735fcb955d5f?s=128&d=identicon&r=PG&f=1", "display_name": "dsingh23", "link": "https://stackoverflow.com/users/5166572/dsingh23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6835, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1582545014, "creation_date": 1473893928, "question_id": 39500868, "link": "https://stackoverflow.com/questions/39500868/how-to-generate-a-token-to-query-a-rest-arcgis-service", "title": "How to generate a token to query a REST ArcGIS service?", "body": "<p>I have a .NET application that needs to access a REST ArcGIS service. This service is a private one and requires token-based authentication to access the data within the service. Since I am new to ArcGIS, I have no knowledge of how to generate a token and use it in my .NET application.</p>\n"}, {"tags": ["c#", "android", "ios", "asp.net", "deep-linking"], "answers": [{"tags": [], "owner": {"reputation": 11621, "user_id": 5394680, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-X-M6Pf3uD04/AAAAAAAAAAI/AAAAAAAAGh8/n37LsdgImYk/photo.jpg?sz=128", "display_name": "Alex Bauer", "link": "https://stackoverflow.com/users/5394680/alex-bauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1474414827, "creation_date": 1474414827, "answer_id": 39605348, "question_id": 39500708, "link": "https://stackoverflow.com/questions/39500708/asp-net-detect-ios-android-deeplinking-failure/39605348#39605348", "title": "asp.net detect iOS/Android deeplinking failure", "body": "<p>This used to be a good approach (you would attempt to redirect to the app, and then immediately redirect somewhere else if/when the app failed to launch). This still works on Android, but as you've discovered, <a href=\"https://blog.branch.io/ios-9.2-redirection-update-uri-scheme-and-universal-links\" rel=\"nofollow\">Apple has decided that URI schemes are a bad option for iOS deep linking</a>.</p>\n\n<p>The new best approach is to use <a href=\"https://blog.branch.io/how-to-setup-universal-links-to-deep-link-on-apple-ios-9\" rel=\"nofollow\">iOS Universal Links</a>. These don't rely on URI schemes so you'll need to do some additional set up work to support them, but Apple has made it pretty clear that this is the new preferred way to launch installed apps with a graceful fallback method for when the app is not yet installed. You can make the configuration process a lot simpler if you use a free deep link service like <a href=\"https://branch.io\" rel=\"nofollow\">Branch.io</a> (full disclosure: I'm on the Branch team).</p>\n"}], "owner": {"reputation": 1225, "user_id": 3570019, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/83c28cf91005c1043806f405c36c8ebb?s=128&d=identicon&r=PG", "display_name": "Jake_", "link": "https://stackoverflow.com/users/3570019/jake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 599, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474414827, "creation_date": 1473892758, "last_edit_date": 1473893344, "question_id": 39500708, "link": "https://stackoverflow.com/questions/39500708/asp-net-detect-ios-android-deeplinking-failure", "title": "asp.net detect iOS/Android deeplinking failure", "body": "<p>I am working on a web project which involves using a custom url scheme to launch the iOS/Android application from the browser using deep linking / intents and a custom uri scheme mycom://etc. The feature works without issue but when the user does not have the application installed they see a \"webpage not found\" error, which is not a good user experience.</p>\n\n<p>in my project I am calling</p>\n\n<pre><code>Response.Redirect(targetUri);\n</code></pre>\n\n<p>but I know it is not possible to detect that a redirect has failed. </p>\n\n<p>Is there another way to attempt navigating to the deep link and then handle the case where it fails? </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 8178, "user_id": 2920343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbfe32738597d61775971cab5efebb67?s=128&d=identicon&r=PG&f=1", "display_name": "CompuChip", "link": "https://stackoverflow.com/users/2920343/compuchip"}, "edited": false, "score": 1, "creation_date": 1473893062, "post_id": 39500662, "comment_id": 66318864, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/12550184/throw-a-format-exception-c-sharp\">Throw a format exception C#</a>"}], "answers": [{"tags": [], "owner": {"reputation": 956, "user_id": 6817087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce18986fe245a8dd1a8f49d74cbb9ab?s=128&d=identicon&r=PG&f=1", "display_name": "Imbar M.", "link": "https://stackoverflow.com/users/6817087/imbar-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1473893272, "creation_date": 1473893272, "answer_id": 39500783, "question_id": 39500662, "link": "https://stackoverflow.com/questions/39500662/i-am-getting-a-format-exception-unhandled-error-after-running-my-code/39500783#39500783", "title": "I am getting a &quot;Format Exception unhandled&quot; error after running my code", "body": "<p>use {doubledNum:F}</p>\n\n<p>D is for integers, F for fraction.</p>\n\n<p>see more here:\n<a href=\"https://msdn.microsoft.com/en-us/library/dwhawy9k(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/dwhawy9k(v=vs.110).aspx</a></p>\n"}], "owner": {"reputation": 1, "user_id": 6833004, "user_type": "registered", "profile_image": "https://graph.facebook.com/581907505329104/picture?type=large", "display_name": "Andrew Paulson", "link": "https://stackoverflow.com/users/6833004/andrew-paulson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473895076, "creation_date": 1473892517, "last_edit_date": 1473893048, "question_id": 39500662, "link": "https://stackoverflow.com/questions/39500662/i-am-getting-a-format-exception-unhandled-error-after-running-my-code", "title": "I am getting a &quot;Format Exception unhandled&quot; error after running my code", "body": "<p>I am doing this project for my beginning c# class, and here is my code.</p>\n\n<pre><code>private void inTextBox_Leave(object sender, EventArgs e){\n      const double inTextBox = 0.1;\n      double num = double.Parse(this.inTextBox.Text);\n      double doubledNum = num * inTextBox;\n      string outStr = $\"{doubledNum:D}\";\n      badTextBox.Text = outStr;\n}\n</code></pre>\n\n<p>I am trying to make it so that when i tab out of my inTextBox that it will calculate a tip amount based on whether or not good service was provided during the hypothetical meal.</p>\n"}, {"tags": ["c#", "sql", "sqlite"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 2, "creation_date": 1473892608, "post_id": 39500615, "comment_id": 66318724, "body": "<code>SqlDbType</code> is for SQLServer the generic <code>DbType</code> shoud be used with SQLite - are you using the standard NET Provider?"}, {"owner": {"reputation": 959, "user_id": 1513629, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0d263ba21c3b0f9e958f93f11513ff54?s=128&d=identicon&r=PG", "display_name": "mkautzm", "link": "https://stackoverflow.com/users/1513629/mkautzm"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1473892710, "post_id": 39500615, "comment_id": 66318747, "body": "Oh, I do see that now!  Changing &#39;SqlDbType.Text&#39; to &#39;System.Data,DbType.String&#39; resolves that nicely!"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1473892808, "post_id": 39500615, "comment_id": 66318784, "body": "I dont think you want Binary for a bool either."}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1473893001, "post_id": 39500615, "comment_id": 66318849, "body": "If you had used the other one-line syntax: <code>cmd.Parameters.Add(&quot;@n&quot;, SqlDbType.String).Value = &quot;something&quot;;</code> it would have caught the type mismatch"}], "answers": [{"tags": [], "owner": {"reputation": 959, "user_id": 1513629, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0d263ba21c3b0f9e958f93f11513ff54?s=128&d=identicon&r=PG", "display_name": "mkautzm", "link": "https://stackoverflow.com/users/1513629/mkautzm"}, "is_accepted": false, "score": 0, "last_activity_date": 1473976480, "creation_date": 1473976480, "answer_id": 39520921, "question_id": 39500615, "link": "https://stackoverflow.com/questions/39500615/sqliteconnection-dbtype-always-int32-despite-sqldbtype-setting/39520921#39520921", "title": "SQLiteconnection dbType always Int32 despite SqlDbType Setting", "body": "<p>The mistake I was making is using SqlDbType to define the type of data.  I should have been using System.Data.DbType to define the data, so this:</p>\n\n<pre><code>var VendorParam = new SQLiteParameter(\"@VendorParam\", SqlDbType.Text) { Value = item.Vendor };\n</code></pre>\n\n<p>Should instead be changed to this:</p>\n\n<pre><code>var VendorParam = new SQLiteParameter(\"@VendorParam\", System.Data.DbType.String) { Value = item.Vendor };\n</code></pre>\n"}], "owner": {"reputation": 959, "user_id": 1513629, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0d263ba21c3b0f9e958f93f11513ff54?s=128&d=identicon&r=PG", "display_name": "mkautzm", "link": "https://stackoverflow.com/users/1513629/mkautzm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473976480, "creation_date": 1473892235, "last_edit_date": 1473912673, "question_id": 39500615, "link": "https://stackoverflow.com/questions/39500615/sqliteconnection-dbtype-always-int32-despite-sqldbtype-setting", "title": "SQLiteconnection dbType always Int32 despite SqlDbType Setting", "body": "<p>I have a block of code that preps a query here:</p>\n\n<pre><code>var AssetTagParam = new SQLiteParameter(\"@AssetTagParam\", SqlDbType.Int) { Value = item.AssetTag };\nvar VendorParam = new SQLiteParameter(\"@VendorParam\", SqlDbType.Text) { Value = item.Vendor };\nvar DeviceParam = new SQLiteParameter(\"@DeviceParam\", SqlDbType.Text) { Value = item.Device };\nvar AttributeParam = new SQLiteParameter(\"@AttributeParam\", SqlDbType.Text) { Value = item.Attribute };\nvar DeviceTypeParam = new SQLiteParameter(\"@DeviceTypeParam\", SqlDbType.Text) { Value = item.DeviceType };\nvar SystemParam = new SQLiteParameter(\"@SystemParam\", SqlDbType.Text) { Value = item.System };\nvar LocationParam = new SQLiteParameter(\"@LocationParam\", SqlDbType.Text) { Value = item.Location };\nvar OnLoanParam = new SQLiteParameter(\"@OnLoanParam\", SqlDbType.Binary) { Value = item.OnLoan };\nvar NotesParam = new SQLiteParameter(\"@NotesParam\", SqlDbType.Text) { Value = item.Notes };\nvar LastModifiedTimeParam = new SQLiteParameter(\"@LastModifiedTimeParam\", SqlDbType.Text) { Value = item.LastModifiedTime };\nvar LastModifiedPersonParam = new SQLiteParameter(\"@LastModifiedPersonParam\", SqlDbType.Text) { Value = item.LastModifiedPerson };\nvar IsDeletedParam = new SQLiteParameter(\"@IsDeletedParam\", SqlDbType.Binary) { Value = item.IsDeleted };\n\nSQLiteCommand insertSQL = new SQLiteCommand(\"INSERT INTO Inventory(AssetTag, Vendor, Device, Attribute, DeviceType, System, Notes, OnLoan, Location)\" +\n\" VALUES (@AssetTagParam, @VendorParam, @DeviceParam, @AttributeParam, @DeviceTypeParam, @SystemParam, @NotesParam, @OnLoanParam, @LocationParam)\", conn);\n\ninsertSQL.Parameters.Add(AssetTagParam);\ninsertSQL.Parameters.Add(VendorParam);\ninsertSQL.Parameters.Add(DeviceParam);\ninsertSQL.Parameters.Add(AttributeParam);\ninsertSQL.Parameters.Add(DeviceTypeParam);\ninsertSQL.Parameters.Add(SystemParam);\ninsertSQL.Parameters.Add(LocationParam);\ninsertSQL.Parameters.Add(OnLoanParam);\ninsertSQL.Parameters.Add(NotesParam);\ninsertSQL.Parameters.Add(LastModifiedTimeParam);\ninsertSQL.Parameters.Add(LastModifiedPersonParam);\ninsertSQL.Parameters.Add(IsDeletedParam);\n</code></pre>\n\n<p>For Reference, the Item class looks like this:</p>\n\n<pre><code>public class Item\n{\n    public int AssetID { get; set; }\n    public int AssetTag { get; set; }\n    public string Vendor { get; set; }\n    public string Device { get; set; }\n    public string Attribute { get; set; }\n    public string DeviceType { get; set; }\n    public string System { get; set; }\n    public string Location { get; set; }\n    public bool OnLoan { get; set; }\n    public string Notes { get; set; }\n    public string LastModifiedTime { get; set; }\n    public string LastModifiedPerson { get; set; }\n    public bool IsDeleted { get; set; }\n}\n</code></pre>\n\n<p>When I run this code, I will always run into the generic error:</p>\n\n<blockquote>\n  <p>Input string was not in a correct format.</p>\n</blockquote>\n\n<p>After trying to figure out the source of this issue, assuming that I typed something wrong in the process, I ran into the issue that all my <strong>Param</strong> vars had their <code>dbType</code> set to <code>Int32</code>.  I thought I was setting with the parameter <code>SqlDbType.Text</code>, but I must be misunderstanding this?</p>\n\n<p>How do I set the dbtype of my inputs to Text instead of Int32?</p>\n"}, {"tags": ["c#", "file-io", "streamwriter", "textwriter"], "answers": [{"tags": [], "owner": {"reputation": 37528, "user_id": 987, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8eab3888c782573d1bdcbd1616bc3ba?s=128&d=identicon&r=PG", "display_name": "Will Dean", "link": "https://stackoverflow.com/users/987/will-dean"}, "is_accepted": false, "score": 0, "last_activity_date": 1473892270, "creation_date": 1473892270, "answer_id": 39500626, "question_id": 39500570, "link": "https://stackoverflow.com/questions/39500570/buffered-streamwriter-for-writing-over-a-long-period-of-time/39500626#39500626", "title": "Buffered StreamWriter for writing over a long period of time", "body": "<p>Personally I would use one of the File.Appendxxx routines, which open the file, append the data and then close it again.</p>\n\n<p>If I'm writing at such a rate that the cost of all this opening and closing is too high, then I add some kind of memory-based queue and flush it periodically.</p>\n\n<p>If you're doing text-based logging, you might look at one of the umpteen logging frameworks for .NET, which can do this sort of stuff for you, along with things like rotating filenames, etc.</p>\n\n<p>StreamWriter / FileStream, etc, will generally hold the file open until you dispose them.</p>\n"}, {"tags": [], "owner": {"reputation": 532, "user_id": 6558395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d565f98bc3ab81a44daabe37d3c84a?s=128&d=identicon&r=PG&f=1", "display_name": "Scornwell", "link": "https://stackoverflow.com/users/6558395/scornwell"}, "is_accepted": false, "score": 0, "last_activity_date": 1473895449, "creation_date": 1473895449, "answer_id": 39501077, "question_id": 39500570, "link": "https://stackoverflow.com/questions/39500570/buffered-streamwriter-for-writing-over-a-long-period-of-time/39501077#39501077", "title": "Buffered StreamWriter for writing over a long period of time", "body": "<p>Having a file opened indefinitely for it to be written to is not advised because this can cause issues when you need to back-up the file, edit the file, read the file, or even if the system crashes while it is in the process of writing to the file inevitably corrupting the data.</p>\n\n<p>Will's answer does provide a solution of opening and appending the file when needed. The point here is if the file is not being written to 24/7 then there is no reason why you shouldn't close it.</p>\n\n<p>To directly answer your question in the sense of the file needing to be open 24/7. I would use asynchronous methods to write to the file using tasks. This way you can then invoke another task to write a back-up of the file, say everyday. The back-up file will allow you to view the information of the production file. </p>\n"}], "owner": {"reputation": 1804, "user_id": 1079635, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/19221896c5671fcf07cd98ae9e58d4c4?s=128&d=identicon&r=PG", "display_name": "Serge", "link": "https://stackoverflow.com/users/1079635/serge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 361, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1473895824, "creation_date": 1473891917, "last_edit_date": 1473895824, "question_id": 39500570, "link": "https://stackoverflow.com/questions/39500570/buffered-streamwriter-for-writing-over-a-long-period-of-time", "title": "Buffered StreamWriter for writing over a long period of time", "body": "<p>I've got a program that will be running over a long duration (hours), and regularly writing output to a text file.</p>\n\n<p>I'm looking to use a TextWriter implementation to write to the file, and I am concerned that keeping the file locked open during the entire length of operations may be problematic. </p>\n\n<p>First question:  Will there be performance problems (or other kinds) for keeping a stream open to a file for an extended duration?</p>\n\n<p>If so, will a StreamWriter (opened with File Name constructor) manage opening and closing the file on a regular buffered basis for me, or will it hold the file open for the duration of its existence?</p>\n\n<p>Lastly, is there a built in option for handling these more long-duration writes?  Or will I need a custom Writer/Stream implementation?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "edited": false, "score": 1, "creation_date": 1473893526, "post_id": 39500509, "comment_id": 66318992, "body": "Action encapsulates a method,  so, like your code shows, you have to explicitly say to encapsulate something as an Action"}, {"owner": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "edited": false, "score": 1, "creation_date": 1473893621, "post_id": 39500509, "comment_id": 66319020, "body": "your last line needs to be <code>((Action)(() =&gt; { })).Time();</code>"}, {"owner": {"reputation": 6757, "user_id": 356550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68f39210c3912f648b1de8a98b9e1fab?s=128&d=identicon&r=PG", "display_name": "smdrager", "link": "https://stackoverflow.com/users/356550/smdrager"}, "reply_to_user": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "edited": false, "score": 0, "creation_date": 1473894381, "post_id": 39500509, "comment_id": 66319223, "body": "Added it as another &quot;works&quot; and reset the original."}, {"owner": {"reputation": 9503, "user_id": 4270650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/88ba8368f50d9a96716c7205195df444?s=128&d=identicon&r=PG", "display_name": "Will Ray", "link": "https://stackoverflow.com/users/4270650/will-ray"}, "edited": false, "score": 0, "creation_date": 1473895224, "post_id": 39500509, "comment_id": 66319467, "body": "What answer would satisfy your &quot;why&quot;? A spec reference? Some email from someone on the language design team talking about this? It&#39;s unclear what you&#39;re looking for in an answer, here. Why <i>should</i> methods work syntactically like delegates?"}, {"owner": {"reputation": 6757, "user_id": 356550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68f39210c3912f648b1de8a98b9e1fab?s=128&d=identicon&r=PG", "display_name": "smdrager", "link": "https://stackoverflow.com/users/356550/smdrager"}, "edited": false, "score": 0, "creation_date": 1473896752, "post_id": 39500509, "comment_id": 66319841, "body": "Glad you asked. As I finished the question I realized it is kind of rhetorical. But as with all things in programming where things seem like they &quot;should be&quot; there are often clear answers from below (framework) that perfectly answer the why. We can all wish for things to work a certain way, but I&#39;ll settle for &quot;Here is why in the c# spec and you should put in a feature request.&quot; One of the reasons I love this site is that generally when a question is submitted such as this, it is answered by those who are equipped to answer."}, {"owner": {"reputation": 6757, "user_id": 356550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68f39210c3912f648b1de8a98b9e1fab?s=128&d=identicon&r=PG", "display_name": "smdrager", "link": "https://stackoverflow.com/users/356550/smdrager"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1473904020, "post_id": 39500509, "comment_id": 66321381, "body": "Thank you so much @Eric Lippert for contributing to the answer. The related question and question provides a good deal of context. It seems the answer for now is that there is enough time. I wish the answer was given more than 8 months ago because that might mean there could be another answer for the c# arch community. From the related answer these are contested: For lambdas, group methods, and nulls, if the type can be inferred (as it is elsewhere) it should be. If not, throw an exception as other ambiguous references do. Linq-essential or not, this is not predictable behavior."}], "answers": [{"comments": [{"owner": {"reputation": 6757, "user_id": 356550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68f39210c3912f648b1de8a98b9e1fab?s=128&d=identicon&r=PG", "display_name": "smdrager", "link": "https://stackoverflow.com/users/356550/smdrager"}, "edited": false, "score": 0, "creation_date": 1473897291, "post_id": 39501012, "comment_id": 66319969, "body": "I appreciate your time to think through the question but your answer does not answer it. Why would you make a Del and Del2 in the extensions class?"}, {"owner": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "reply_to_user": {"reputation": 6757, "user_id": 356550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68f39210c3912f648b1de8a98b9e1fab?s=128&d=identicon&r=PG", "display_name": "smdrager", "link": "https://stackoverflow.com/users/356550/smdrager"}, "edited": false, "score": 0, "creation_date": 1473902068, "post_id": 39501012, "comment_id": 66320986, "body": "the point is, they are just types that can capture methods.... you can make as many of them as you like.   Extension methods work on types.  There&#39;s no direct path from Method -&gt; Type  as a Method can be captured by many different types."}, {"owner": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "reply_to_user": {"reputation": 6757, "user_id": 356550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68f39210c3912f648b1de8a98b9e1fab?s=128&d=identicon&r=PG", "display_name": "smdrager", "link": "https://stackoverflow.com/users/356550/smdrager"}, "edited": false, "score": 0, "creation_date": 1473902154, "post_id": 39501012, "comment_id": 66321007, "body": "In your example, you are somehow wanting the language to coerce a method into your exact type,  but there are potentially many types a method could be"}, {"owner": {"reputation": 6757, "user_id": 356550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68f39210c3912f648b1de8a98b9e1fab?s=128&d=identicon&r=PG", "display_name": "smdrager", "link": "https://stackoverflow.com/users/356550/smdrager"}, "edited": false, "score": 0, "creation_date": 1473903083, "post_id": 39501012, "comment_id": 66321195, "body": "There is a one-to-one mapping within the syntax laid out. There cannot be more than one method within a class and namespace that describes Action for a given name."}, {"owner": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "reply_to_user": {"reputation": 6757, "user_id": 356550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68f39210c3912f648b1de8a98b9e1fab?s=128&d=identicon&r=PG", "display_name": "smdrager", "link": "https://stackoverflow.com/users/356550/smdrager"}, "edited": false, "score": 0, "creation_date": 1473903976, "post_id": 39501012, "comment_id": 66321372, "body": "but any method could match any compatible delegate defined in the framework right?  including Action.   So why would it cast it to an Action and then call your extension Method?"}, {"owner": {"reputation": 6757, "user_id": 356550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68f39210c3912f648b1de8a98b9e1fab?s=128&d=identicon&r=PG", "display_name": "smdrager", "link": "https://stackoverflow.com/users/356550/smdrager"}, "edited": false, "score": 0, "creation_date": 1473904230, "post_id": 39501012, "comment_id": 66321428, "body": "Please provide code for more than one method which matches a signature for an action within a single namespace and class. Use code."}, {"owner": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "reply_to_user": {"reputation": 6757, "user_id": 356550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68f39210c3912f648b1de8a98b9e1fab?s=128&d=identicon&r=PG", "display_name": "smdrager", "link": "https://stackoverflow.com/users/356550/smdrager"}, "edited": false, "score": 0, "creation_date": 1473904995, "post_id": 39501012, "comment_id": 66321575, "body": "^--- the code above.   Action is just a wrapper around delegate.  I show multiple delegates ( and Action ) that map to the same kind of method ( void void )  meaning there is no simple way to work out which Time extension method should be invoked"}, {"owner": {"reputation": 6757, "user_id": 356550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68f39210c3912f648b1de8a98b9e1fab?s=128&d=identicon&r=PG", "display_name": "smdrager", "link": "https://stackoverflow.com/users/356550/smdrager"}, "edited": false, "score": 0, "creation_date": 1473905230, "post_id": 39501012, "comment_id": 66321638, "body": "The additional properties you provided are not conflicting signatures. I&#39;m pretty confused. The whole point of the extension I provided to to be generic. I don&#39;t think we are communicating effectively. Would it be worthwhile for me to share my email with you so we can share more directly?"}], "tags": [], "owner": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "is_accepted": false, "score": 0, "last_activity_date": 1473905226, "last_edit_date": 1473905226, "creation_date": 1473894908, "answer_id": 39501012, "question_id": 39500509, "link": "https://stackoverflow.com/questions/39500509/why-can-methods-not-work-syntactically-like-func-action-delegates/39501012#39501012", "title": "Why can methods not work syntactically like func/action delegates?", "body": "<p>Action just nicely encapsulates delegates in a simple way without having to explicitly declare your delegates.  In C# delegate is the language mechanism for capturing a method as a type.  A type is what you need to create an extension method on....  so, simplifying back to delegates...</p>\n\n<pre><code> public static class Extensions\n    {\n        public delegate void Del();\n        public static void Time(this Del action)\n        {\n            // Logic to time the action\n            action();\n        }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {            \n            ((Extensions.Del)(() =&gt; { })).Time();\n        }\n    }\n</code></pre>\n\n<p>the language won't automatically cast Methods to Del,  you need to explicitly do so.  Methods themselves aren't a type, delegates are the mechanism to capture them.  Fundamentally, in c#, delegate is not the same as method.  It's C#s solution to having typesafe pointers to methods.</p>\n\n<p>Another thing to keep in mind is you can do :-</p>\n\n<pre><code> public static class Extensions\n    {\n        public delegate void Del();\n        public delegate void Del2();\n        public static void Time(this Del action)\n        {\n            // Logic to time the action\n            action();\n        }\n        public static void Time(this Del2 action)\n        {\n           // Logic to time the action\n           action();\n        }\n\n\n        public static void Time(this Action action)\n        {\n            // Logic to time the action\n            action();\n        }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {            \n\n            ((Extensions.Del)(() =&gt; { })).Time();\n            ((Extensions.Del2)(() =&gt; { })).Time();\n            ((Action)(() =&gt; { })).Time();\n\n            (() =&gt; { })).Time();   // no way to know what type this should be coerced to\n\n        }        \n    }\n</code></pre>\n\n<p>Now your methods could be captured as many different types.  </p>\n"}], "owner": {"reputation": 6757, "user_id": 356550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68f39210c3912f648b1de8a98b9e1fab?s=128&d=identicon&r=PG", "display_name": "smdrager", "link": "https://stackoverflow.com/users/356550/smdrager"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "closed_date": 1473902613, "answer_count": 1, "score": 6, "last_activity_date": 1473960155, "creation_date": 1473891520, "last_edit_date": 1473960155, "question_id": 39500509, "link": "https://stackoverflow.com/questions/39500509/why-can-methods-not-work-syntactically-like-func-action-delegates", "closed_reason": "Duplicate", "title": "Why can methods not work syntactically like func/action delegates?", "body": "<p>On the way home I had an idea: create Func/Action extensions which would allow some nice syntactic sugar in c#.</p>\n\n<p>Theoretical example... create an extension for various permutations of Func/Action which allow you to time the method's execution.</p>\n\n<p>As I arrived home and tried an example, I found this is not possibly. I believe it is a shortcoming/inconsistency in c#. Delegates and methods are one in the same (in theory).</p>\n\n<pre><code>public static class Extensions\n{\n    public static void Time(this Action action)\n    {\n        // Logic to time the action\n        action();\n    }\n}\n\npublic class Example\n{\n    public void Main()\n    {\n        Action action = RunApp;\n        Action actionLambda = () =&gt; { };\n        Action actionDelegate = delegate () { };\n\n        Extensions.Time(RunApp); // Works\n        Extensions.Time(() =&gt; { }); // Works\n        Extensions.Time(delegate() { }); // Works\n        Extensions.Time(action); // Works\n        Extensions.Time(actionLambda); // Works\n        Extensions.Time(actionDelegate); // Works\n\n        action.Time(); // Works\n        actionLambda.Time(); // Works\n        actionDelegate.Time(); // Works\n\n        ((Action) RunApp).Time(); // Works\n        ((Action) delegate () { }).Time(); // Works\n        ((Action) (() =&gt; { })).Time(); // Works\n\n        // These should all be the same! \n\n        RunApp.Time(); // No good: \"Example.RunApp() is a method which is not valid in the given context\"\n        () =&gt; { }.Time(); // No good: Operator '.' cannot be applied  to operand of type 'lambda expression'\"\n        (() =&gt; { }).Time(); // No good: Operator '.' cannot be applied  to operand of type 'lambda expression'\"\n        delegate() { }.Time(); // No good: \"Operator '.' cannot be applied operand of the type 'anonymous method'\"\n    }\n\n    public void RunApp()\n    {\n        // Stuff...\n    }\n}\n</code></pre>\n\n<p>I understand Func/Action are newer additions to c# compared to delegates and method groups, but why can they all not act the same?</p>\n"}, {"tags": ["c#", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 1, "creation_date": 1473895929, "post_id": 39500470, "comment_id": 66319642, "body": "The query should be written in a way that is supported by the <b>real</b> query provider (LINQ to Entities in this case), i.e. exactly how you did it. It&#39;s the problem of your fake context implementation, so you need to find a way to correct it there, rather than trying to adjust the production code for testing (the last sounds absurdly to me)."}, {"owner": {"reputation": 14740, "user_id": 16892, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/02e6ef946100a6eb6b692c81393e0e1b?s=128&d=identicon&r=PG", "display_name": "Sixten Otto", "link": "https://stackoverflow.com/users/16892/sixten-otto"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1473897325, "post_id": 39500470, "comment_id": 66319978, "body": "OK. Do you have any concrete suggestions about how to make that work? The fake context setup is pretty standard (see <a href=\"https://msdn.microsoft.com/en-us/library/dn314429.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/dn314429.aspx</a>)."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1473898246, "post_id": 39500470, "comment_id": 66320200, "body": "And you are standartly failing in what they mentioned as <b>Limitations of EF in-memory test doubles</b> (and many cases they didn&#39;t mentioned like using canonical functions that work only in LINQ to Entities or using CLR methods that work only in LINQ to Objects). That&#39;s why I&#39;m against testing EF with fakes, I don&#39;t do that and have no problems. Good luck."}, {"owner": {"reputation": 7067, "user_id": 521757, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b19bc5229ba5087eff77abce3de8e969?s=128&d=identicon&r=PG", "display_name": "jnm2", "link": "https://stackoverflow.com/users/521757/jnm2"}, "edited": false, "score": 0, "creation_date": 1473945784, "post_id": 39500470, "comment_id": 66340236, "body": "Ivan is right, the correct place to do something special to enable testing is in the fake context implementation if at all possible. I need to know what your fake context setup looks like but I would suggest intercepting and rewriting the expression tree with a simple visitor that replaces the OrderBy call with the comparer overload. Once I know what your fake code looks like I can probably write up an answer."}, {"owner": {"reputation": 14740, "user_id": 16892, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/02e6ef946100a6eb6b692c81393e0e1b?s=128&d=identicon&r=PG", "display_name": "Sixten Otto", "link": "https://stackoverflow.com/users/16892/sixten-otto"}, "edited": false, "score": 0, "creation_date": 1473958152, "post_id": 39500470, "comment_id": 66348523, "body": "It&#39;s pretty much Microsoft&#39;s sample code, as described in the link I posted earlier (including the fake async provider stuff). If I get the time today, I&#39;ll see about maybe gist-ing the actual sources from the project. What you&#39;re describing seems like a reasonable approach, though."}, {"owner": {"reputation": 14740, "user_id": 16892, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/02e6ef946100a6eb6b692c81393e0e1b?s=128&d=identicon&r=PG", "display_name": "Sixten Otto", "link": "https://stackoverflow.com/users/16892/sixten-otto"}, "edited": false, "score": 0, "creation_date": 1473958269, "post_id": 39500470, "comment_id": 66348590, "body": "Tangentially: I really, really wish that they&#39;d mapped <code>rowversion</code> values to <code>UInt64</code> rather than <code>byte[]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 14740, "user_id": 16892, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/02e6ef946100a6eb6b692c81393e0e1b?s=128&d=identicon&r=PG", "display_name": "Sixten Otto", "link": "https://stackoverflow.com/users/16892/sixten-otto"}, "is_accepted": true, "score": 0, "last_activity_date": 1476135472, "last_edit_date": 1495541212, "creation_date": 1476135472, "answer_id": 39967140, "question_id": 39500470, "link": "https://stackoverflow.com/questions/39500470/order-entity-framework-query-by-rowversion-property-in-store-and-in-memory/39967140#39967140", "title": "Order Entity Framework query by rowversion property, in store and in memory", "body": "<p>I ended up implementing the solution <a href=\"https://stackoverflow.com/questions/39500470/order-entity-framework-query-by-rowversion-property-in-store-and-in-memory#comment66340236_39500470\">jnm2 suggested</a>: writing an <code>ExpressionVisitor</code> to rewrite the query from the predicate-only overload used by normal queries to the overload necessary for in-memory querying. I had to rework the <a href=\"https://msdn.microsoft.com/en-us/library/dn314429.aspx\" rel=\"nofollow noreferrer\">original Microsoft sample code for fake <code>DbSet</code></a> to allow these visitors to be plugged in and used at the right moment.</p>\n\n<p>A Gist with my code <a href=\"https://gist.github.com/sixten/2bd8ec7a6ad868cd709e518b000bcf72\" rel=\"nofollow noreferrer\">can be found here</a>. If anyone can suggest a more elegant way to apply the visitors, I'm definitely open to suggestions.</p>\n"}], "owner": {"reputation": 14740, "user_id": 16892, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/02e6ef946100a6eb6b692c81393e0e1b?s=128&d=identicon&r=PG", "display_name": "Sixten Otto", "link": "https://stackoverflow.com/users/16892/sixten-otto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "accepted_answer_id": 39967140, "answer_count": 1, "score": 1, "last_activity_date": 1476135472, "creation_date": 1473891351, "question_id": 39500470, "link": "https://stackoverflow.com/questions/39500470/order-entity-framework-query-by-rowversion-property-in-store-and-in-memory", "title": "Order Entity Framework query by rowversion property, in store and in memory", "body": "<p>Assume I have an entity in my (Code First) Entity Framework model that looks like this:</p>\n\n<pre><code>public class Foo\n{\n  [Key]\n  [MaxLength(50)]\n  public string FooId { get; set; }\n\n  [Timestamp]\n  [ConcurrencyCheck]\n  public byte[] Version { get; set; }\n}\n</code></pre>\n\n<p>Assume further that I need to fetch the most recent few of these items. I can do that with a fairly simple LINQ expression, which gets translated into the correct SQL, and runs fine.</p>\n\n<pre><code>var recentFoos = db.Foos.OrderBy(f =&gt; f.Version).Take(10);\n</code></pre>\n\n<p>Now, if that query happens in a method that I also want to test, things get more complicated. I have a setup with fake context and entity collections, and that all works fine. But, because <code>byte[]</code> can't be sorted directly, trying to execute that code throws an <code>ArgumentException</code> (\"At least one object must implement IComparable.\").</p>\n\n<p>On the other hand, if I use the overload of <code>OrderBy()</code> that take a comparer, that will run in memory, but throw an exception (\"\u2026this method cannot be translated into a store expression.\") trying to run against the database.</p>\n\n<p><strong>Is there a way to either a) write a single LINQ query that will run correctly in both circumstances, or b) to reliably detect which case pertains, so that my code can sort using the correct overload?</strong></p>\n"}, {"tags": ["c#", "object", "console-application"], "answers": [{"tags": [], "owner": {"reputation": 209, "user_id": 6826405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fd6de9b2beb6d85fbdf05a20013097f?s=128&d=identicon&r=PG&f=1", "display_name": "rualmar", "link": "https://stackoverflow.com/users/6826405/rualmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1473891492, "creation_date": 1473891492, "answer_id": 39500500, "question_id": 39500460, "link": "https://stackoverflow.com/questions/39500460/if-console-class-derived-from-object-why-i-cant-use-object-method-on-it/39500500#39500500", "title": "If Console class derived from object why i cant use object method on it?", "body": "<p>Actually <code>Console</code> is a static class (as you can see on <a href=\"https://msdn.microsoft.com/es-es/library/system.console(v=vs.110).aspx\" rel=\"nofollow\">MSDN</a>) and <code>ToString()</code> is an instance method. You can only invoke it from an instance of an Object, but you can't create instances of static classes.</p>\n"}], "owner": {"reputation": 21, "user_id": 5206838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10206352770951477/picture?type=large", "display_name": "Amichai Simcha", "link": "https://stackoverflow.com/users/5206838/amichai-simcha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1473891512, "creation_date": 1473891282, "question_id": 39500460, "link": "https://stackoverflow.com/questions/39500460/if-console-class-derived-from-object-why-i-cant-use-object-method-on-it", "title": "If Console class derived from object why i cant use object method on it?", "body": "<p>I Read this (from MSDN):</p>\n\n<p>Inheritance Hierarchy</p>\n\n<p>System.Object</p>\n\n<p>System.Console</p>\n\n<p>But i get an error while trying to write:</p>\n\n<p>Console.Tostring();\nwhy?</p>\n\n<p>If its derived from object it should contain object method no?</p>\n"}, {"tags": ["c#", ".net", "forms", "winforms", "dispose"], "comments": [{"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 9, "creation_date": 1473890349, "post_id": 39500280, "comment_id": 66318071, "body": "Answer is clear. &quot;Code Cracker&quot; misguides you.  Don&#39;t use <code>using</code>.... Dispose the form whenever it is appropriate..."}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "reply_to_user": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1473890884, "post_id": 39500280, "comment_id": 66318231, "body": "I have to agree with @L.B here - closing the window is the correct thing for Dispose() to do. By definition, a correctly-implemented Dispose() method should leave the disposed object in an unusable state."}, {"owner": {"reputation": 186, "user_id": 2591920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ec2041a15b0742a7937f91fa4063f9?s=128&d=identicon&r=PG", "display_name": "javon27", "link": "https://stackoverflow.com/users/2591920/javon27"}, "edited": false, "score": 1, "creation_date": 1473891184, "post_id": 39500280, "comment_id": 66318334, "body": "Reading this <a href=\"https://social.msdn.microsoft.com/Forums/windows/en-US/cc4acf77-6e7e-46a6-992d-702e314acbdf/howwhen-to-call-dispose-when-using-a-modeless-dialog?forum=winforms\" rel=\"nofollow noreferrer\">thread</a> seems to indicate that I shouldn&#39;t have to worry about disposing. Non modal forms are automatically GC&#39;d. I tested while watching Task Mananger, and memory is reclaimed."}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1473891411, "post_id": 39500280, "comment_id": 66318410, "body": "I just checked the implementation. Dispose isn&#39;t always called internally, but all it does is remove the form from its container and raise the disposed event. All the resources are already released in other ways, and nothing happens on garbage collection. (Of course, that doesn&#39;t mean you shouldn&#39;t call dispose, since this could change in the future. But it means you don&#39;t have to worry about it right now.)"}, {"owner": {"reputation": 186, "user_id": 2591920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ec2041a15b0742a7937f91fa4063f9?s=128&d=identicon&r=PG", "display_name": "javon27", "link": "https://stackoverflow.com/users/2591920/javon27"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 1, "creation_date": 1473891642, "post_id": 39500280, "comment_id": 66318474, "body": "@Cameron Thanks for checking. So, I guess I&#39;m left wondering, what do other people do?"}, {"owner": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "edited": false, "score": 0, "creation_date": 1473900190, "post_id": 39500280, "comment_id": 66320638, "body": "@javon27 do it in the unload, thats the best place."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "edited": false, "score": 0, "creation_date": 1473900467, "post_id": 39500280, "comment_id": 66320694, "body": "@loneshark99 you don&#39;t need to call dispose for a form which you opened using <code>Show</code> method. Read my answer for more details."}, {"owner": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "reply_to_user": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1473900554, "post_id": 39500280, "comment_id": 66320713, "body": "@reza-aghaei just because it marked as answer doesnt mean its right"}], "answers": [{"tags": [], "owner": {"reputation": 2115, "user_id": 6810689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OP5tU.jpg?s=128&g=1", "display_name": "Scott Perham", "link": "https://stackoverflow.com/users/6810689/scott-perham"}, "is_accepted": false, "score": 1, "last_activity_date": 1473890605, "creation_date": 1473890605, "answer_id": 39500343, "question_id": 39500280, "link": "https://stackoverflow.com/questions/39500280/proper-way-to-dispose-a-new-form/39500343#39500343", "title": "Proper way to dispose a new Form", "body": "<p>You could implement somekind of forms manager that will subscribe to the <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.form.onformclosed(v=vs.110).aspx\" rel=\"nofollow\">OnFormClosedEvent</a> for each form it shows, it can then dispose them... something like:</p>\n\n<pre><code>public class FormManager\n{\n    public T ShowForm&lt;T&gt;()\n        where T : Form, new()\n    {\n        var t = new T();\n        t.OnFormClosing += DisposeForm;\n        return t;\n    }\n\n    void DisposeForm(object sender, FormClosedEventArgs args)\n    {\n        ((Form)sender).Dispose();\n    }\n}\n</code></pre>\n\n<p>You could even go so far as to implement <a href=\"https://msdn.microsoft.com/en-us/library/system.idisposable(v=vs.110).aspx\" rel=\"nofollow\">IDisposable</a> and dispose all non-disposed forms when the manager is disposed :)</p>\n"}, {"comments": [{"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1473891990, "post_id": 39500523, "comment_id": 66318551, "body": "Actually this indicates that the GC is reclaiming the memory, not that <code>Dispose</code> is being called. In this case <code>Dispose</code> doesn&#39;t clean up any native resources, so all the memory is managed by the GC, and it gets released regardless of whether <code>Dispose</code> is called or not."}], "tags": [], "owner": {"reputation": 186, "user_id": 2591920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ec2041a15b0742a7937f91fa4063f9?s=128&d=identicon&r=PG", "display_name": "javon27", "link": "https://stackoverflow.com/users/2591920/javon27"}, "is_accepted": false, "score": 0, "last_activity_date": 1473891604, "creation_date": 1473891604, "answer_id": 39500523, "question_id": 39500280, "link": "https://stackoverflow.com/questions/39500280/proper-way-to-dispose-a-new-form/39500523#39500523", "title": "Proper way to dispose a new Form", "body": "<p>So according to the answer over at <a href=\"https://social.msdn.microsoft.com/Forums/windows/en-US/cc4acf77-6e7e-46a6-992d-702e314acbdf/howwhen-to-call-dispose-when-using-a-modeless-dialog?forum=winforms\" rel=\"nofollow\">MSDN</a>, non modal forms are automatically Disposed whenever you close them.</p>\n\n<p>I decided to test this by opening my test form multiple times and closing them. I even opened multiple instances at the same time. After a second or two, the memory used by these forms were reclaimed, which would indicate that they were being disposed properly.</p>\n"}, {"comments": [{"owner": {"reputation": 186, "user_id": 2591920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ec2041a15b0742a7937f91fa4063f9?s=128&d=identicon&r=PG", "display_name": "javon27", "link": "https://stackoverflow.com/users/2591920/javon27"}, "edited": false, "score": 0, "creation_date": 1473892322, "post_id": 39500599, "comment_id": 66318634, "body": "You&#39;re right on all accounts. I just hate seeing all the squiggly lines from Code Cracker, but at the same time don&#39;t want to add suppression rules. I also don&#39;t want to get rid of it completely because it provides plenty of insights for this junior developer."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "reply_to_user": {"reputation": 186, "user_id": 2591920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ec2041a15b0742a7937f91fa4063f9?s=128&d=identicon&r=PG", "display_name": "javon27", "link": "https://stackoverflow.com/users/2591920/javon27"}, "edited": false, "score": 1, "creation_date": 1473892461, "post_id": 39500599, "comment_id": 66318671, "body": "Just turn the specific analysis rule off, it doesn&#39;t help you at all.  Or learn to not trust tools too much, makes you senior :)"}], "tags": [], "owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "is_accepted": true, "score": 10, "last_activity_date": 1473892091, "creation_date": 1473892091, "answer_id": 39500599, "question_id": 39500280, "link": "https://stackoverflow.com/questions/39500280/proper-way-to-dispose-a-new-form/39500599#39500599", "title": "Proper way to dispose a new Form", "body": "<p>Hmm, \"code cracker\" appears to be a very appropriate term for that tool, its advice certainly made you write code that breaks your program.  Golden Rule is to <em>never</em> trust IDisposable advice from a static code analysis tool, none of them ever have sufficient insight in code <em>execution</em>.  They can never figure out which Dispose() call gets the job done.</p>\n\n<p>What it cannot see is that the Form class already knows how to dispose itself.  It is very easy for it to do so, the object becomes unusable when the window closes.  When there is no more window then there's no reason to keep using the Form object.  A luxury that isn't otherwise very common in .NET but certainly inspired by very smart programmers that worked for Xerox 45 years ago.</p>\n\n<p>There is only one special rule you have to keep in mind, it does <em>not</em> dispose itself when you use ShowDialog() to display the window.  That was intentional, it makes retrieving the dialog results too risky.  Using the <em>using</em> statement for a ShowDialog() call is very easy to do, the call does not return until the window is closed.</p>\n"}, {"comments": [{"owner": {"reputation": 10229, "user_id": 621316, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5203b24e171961e916d054b73d8b5b59?s=128&d=identicon&r=PG", "display_name": "Dave Cousineau", "link": "https://stackoverflow.com/users/621316/dave-cousineau"}, "edited": false, "score": 2, "creation_date": 1498607784, "post_id": 39501121, "comment_id": 76564098, "body": "thanks, that is very useful to know that a non-modal form automatically gets a dispose call, and a model form does not."}], "tags": [], "owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "is_accepted": false, "score": 20, "last_activity_date": 1575742840, "last_edit_date": 1575742840, "creation_date": 1473895861, "answer_id": 39501121, "question_id": 39500280, "link": "https://stackoverflow.com/questions/39500280/proper-way-to-dispose-a-new-form/39501121#39501121", "title": "Proper way to dispose a new Form", "body": "<p><strong>Do I need to Dispose a Form after closing the Form?</strong></p>\n\n<p>When you show the form using <code>Show()</code> you don't need to dispose it, because it will dispose after close. But when you show form using <code>ShowDialog()</code>, you need to dispose the form, because it won't dispose after closing.</p>\n\n<p>When you close a <code>Form</code>, a <a href=\"https://docs.microsoft.com/en-us/windows/win32/winmsg/wm-close?WT.mc_id=DT-MVP-5003235\" rel=\"noreferrer\"><code>WM_CLOSE</code></a> message will be sent to the window. If you take a look at source code of <a href=\"http://referencesource.microsoft.com/#System.Windows.Forms/winforms/Managed/System/WinForms/Form.cs,835f7070c7e52263,references\" rel=\"noreferrer\"><code>WmClose</code></a> method which handles <code>WM_CLOSE</code> message, you will see:</p>\n\n<ul>\n<li><p>For modal forms (which you showed using <code>ShowDialog</code>), the <code>Dispose</code> method will not be called and the form exists after closing and you can use its properties to get some data or you can show it again. </p></li>\n<li><p>For non-modal forms (which you showed using <code>Show</code>), after the form got closed, the <code>Dispose</code> method will be called. </p></li>\n</ul>\n\n<p>So here is the conclusion:</p>\n\n<ul>\n<li><p>When you show a form using <code>Show</code> method you don't need to (and you can't)  call <code>Dispose</code>. The form will be disposed itself after got closed.</p></li>\n<li><p>When you show a form using <code>ShowDialog</code> you need to call <code>Dispose</code> manually. A good practice is use modal forms in a <code>using</code> block.</p></li>\n</ul>\n\n<p><strong>Example</strong></p>\n\n<p>To show a modal dialog, as a best practice use a <code>using</code> block:</p>\n\n<pre><code>//form will be disposed after the using block\nusing (var f = new MyForm())\n{\n    if (f.ShowDialog() == DialogResult.OK)\n    {\n        //Your logic to handle OK here\n    }\n}\n</code></pre>\n\n<p>For a non-modal dialog, show and forget about it:</p>\n\n<pre><code>var f = new MyForm();\nf.Show();\n</code></pre>\n"}], "owner": {"reputation": 186, "user_id": 2591920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ec2041a15b0742a7937f91fa4063f9?s=128&d=identicon&r=PG", "display_name": "javon27", "link": "https://stackoverflow.com/users/2591920/javon27"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4934, "favorite_count": 2, "accepted_answer_id": 39500599, "answer_count": 4, "score": 9, "last_activity_date": 1575747611, "creation_date": 1473890240, "last_edit_date": 1575747611, "question_id": 39500280, "link": "https://stackoverflow.com/questions/39500280/proper-way-to-dispose-a-new-form", "title": "Proper way to dispose a new Form", "body": "<p>So in my apps, I tend to create new instances of forms on the fly, then use <code>Form.Show()</code> to display them (non modal).</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private void test_click(object sender, EventArgs e)\n{\n    var form = new myForm();\n    form.Show();\n}\n</code></pre>\n\n<p>However, Code Cracker tells me that these forms should be disposed. So, I wrapped them with the \"using\" statement, but then they close immediately after opening.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using (var form = new myForm())\n{\n    form.Show();\n}\n</code></pre>\n\n<p>I don't want to use <code>Form.ShowDialog()</code>, because in a few instances I'm opening new windows that only show reports; I don't need them to be modal. </p>\n"}, {"tags": ["c#", "selenium", "xpath"], "comments": [{"owner": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "edited": false, "score": 0, "creation_date": 1473891564, "post_id": 39500248, "comment_id": 66318450, "body": "Do you want to click any particular delete button or get all button value??"}, {"owner": {"reputation": 5589, "user_id": 2516718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f217994662dd192226b028af33abaebc?s=128&d=identicon&r=PG", "display_name": "Daniel Manta", "link": "https://stackoverflow.com/users/2516718/daniel-manta"}, "edited": false, "score": 0, "creation_date": 1473892730, "post_id": 39500248, "comment_id": 66318759, "body": "//input[starts-with(@name,&quot;submit.delete&quot;)]"}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 5415162, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1f9c49d9cf645c99a8a2aec82bac902c?s=128&d=identicon&r=PG&f=1", "display_name": "Roro", "link": "https://stackoverflow.com/users/5415162/roro"}, "edited": false, "score": 1, "creation_date": 1473900269, "post_id": 39500716, "comment_id": 66320651, "body": "Thank you good sir.  This one worked like a charm.   var deleteButtons = driver.FindElements(By.CssSelector(&quot;input[type=&#39;submit&#39;][val&zwnj;&#8203;ue=&#39;Delete&#39;]&quot;));"}], "tags": [], "owner": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "is_accepted": true, "score": 3, "last_activity_date": 1473908950, "last_edit_date": 1473908950, "creation_date": 1473892844, "answer_id": 39500716, "question_id": 39500248, "link": "https://stackoverflow.com/questions/39500248/c-selenium-loop-through-input-buttons-in-a-span-class-xpath/39500716#39500716", "title": "C# Selenium loop through Input Buttons in a Span Class XPATH", "body": "<p>In <a href=\"https://www.w3.org/TR/xpath/#path-abbrev\" rel=\"nofollow\">xpath <code>text()</code></a> matches text node children of the context node while <code>input</code> has no child elements with desire text <code>Delete</code>.</p>\n\n<p>Actually <code>Delete</code> text present in <code>value</code> attribute of input element, so you should try to match with <code>Delete</code> text with value attribute as <code>@value = 'Delete'</code>.</p>\n\n<p>So to find all delete buttons using <code>Xpath</code> try as below :-</p>\n\n<pre><code>var deleteButtons = driver.FindElements(By.XPath(\"//input[@type='submit'][@value='Delete']\")); \n</code></pre>\n\n<p>Or using <code>CssSelector</code> as below :-</p>\n\n<pre><code>var deleteButtons = driver.FindElements(By.CssSelector(\"input[type='submit'][value='Delete']\")); \n</code></pre>\n\n<p>UPDATE:\nFor anyone that may need this in the future.  This is the finished product: </p>\n\n<pre><code>var deleteButtons = driver.FindElements(By.CssSelector(\"input[type='submit'][value='Delete']\"));\n\n        foreach (var link in deleteButtons)\n        {\n            link.Click();\n        }\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 5415162, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1f9c49d9cf645c99a8a2aec82bac902c?s=128&d=identicon&r=PG&f=1", "display_name": "Roro", "link": "https://stackoverflow.com/users/5415162/roro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2177, "favorite_count": 0, "accepted_answer_id": 39500716, "answer_count": 1, "score": 1, "last_activity_date": 1473908950, "creation_date": 1473890099, "question_id": 39500248, "link": "https://stackoverflow.com/questions/39500248/c-selenium-loop-through-input-buttons-in-a-span-class-xpath", "title": "C# Selenium loop through Input Buttons in a Span Class XPATH", "body": "<p>I am trying to create a proper XPATH syntax in C# to click the delete button from the Amazon cart screen.  There could be one item or multiple items in the cart so I'm looking to loop through the delete buttons.  I could not get it to find the Delete button by just doing a contains the word Delete.  I finally said okay let me just find all of the buttons on the screen.  I will loop through them and use the text from each link to figure out which one I need to click.  The only problem with that was that it indeed found 20 different items((\"//input[@type='submit']\")) on the page, but the Text field was empty for all.  I'm new to this XPATH syntax and it's really causing me problems.  Any help would be appreciated.  </p>\n\n<p>Here are some of the many things I tried along with a screen shot of pertinent info:  </p>\n\n<pre><code>var links = driver.FindElements(By.XPath(\"//table[contains(@name, 'ReportViewer_fixedTable')]\"));\nvar links = driver.FindElements(By.XPath(\"//css=a[name^='submit.delete']\"));\nvar links = driver.FindElement(By.CssSelector(\"table[id*='ReportViewer_fixedTable']\"));\nvar links = driver.FindElements(By.XPath(\"//button[@type='submit'][text()='Delete']\")); WORKED DIDNT FIND ANYTHING\nvar links = driver.FindElements(By.XPath(\"//input[@type='submit'][contains(text(),'Delete')]\"));  //WOREKED DIDNT FIND ANYTHING\nvar links = driver.FindElements(By.XPath(\"//input[@type='submit']\"));\nvar links = driver.FindElements(By.XPath(\"//div[@class='a-row sc-action-links']/span[@class='a-declarative']\"));\n</code></pre>\n\n<p>Inspection from Chrome: \n<a href=\"https://i.stack.imgur.com/bQa3f.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bQa3f.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And What my output looks like when I loop through just finding //input[@type='submit'].  You can see Text is empty.  It's that way for all of them.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/3BG9v.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3BG9v.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", ".net", "wpf", "dependency-properties"], "answers": [{"tags": [], "owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "is_accepted": true, "score": 0, "last_activity_date": 1473917432, "last_edit_date": 1473917432, "creation_date": 1473916368, "answer_id": 39503544, "question_id": 39500236, "link": "https://stackoverflow.com/questions/39500236/wpf-control-setvalue-difference/39503544#39503544", "title": "WPF control SetValue difference", "body": "<p>The expression</p>\n\n<pre><code>columnSplitter.Width = new GridLength(myWidth);\n</code></pre>\n\n<p>indicates that <code>columnSplitter</code> is a <code>ColumnDefinition</code> (which has a <code>Width</code> property of type <code>GridLength</code>), not a <code>GridSplitter</code> (which has a <code>Width</code> property of type <code>double</code>).</p>\n\n<p>Obviously, you can't set <code>GridSplitter.WidthProperty</code> on a <code>ColumnDefinition</code>, and the equivalent value assignment would be</p>\n\n<pre><code>columnSplitter.SetValue(ColumnDefinition.WidthProperty, new GridLength(myWidth));\n</code></pre>\n"}], "owner": {"reputation": 483, "user_id": 2631204, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/49ab529e2668e8fd0a65c199b2f7207f?s=128&d=identicon&r=PG", "display_name": "be_mi", "link": "https://stackoverflow.com/users/2631204/be-mi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 777, "favorite_count": 0, "accepted_answer_id": 39503544, "answer_count": 1, "score": 0, "last_activity_date": 1473917432, "creation_date": 1473890036, "question_id": 39500236, "link": "https://stackoverflow.com/questions/39500236/wpf-control-setvalue-difference", "title": "WPF control SetValue difference", "body": "<p>What is the difference between those 2 lines?</p>\n\n<p>The first one does what I expect it to do. It changes the width.\nWhen using the second one, nothing happens. Why?</p>\n\n<p>1)</p>\n\n<pre><code>columnSplitter.Width = new GridLength(myWidth);\n</code></pre>\n\n<p>2)</p>\n\n<pre><code>columnSplitter.SetValue(GridSplitter.WidthProperty, myWidth);\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "asp.net-mvc-5", "primary-key"], "comments": [{"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1473890153, "post_id": 39500197, "comment_id": 66317998, "body": "<code>SaveChanges</code> should handle all of your transactional stuff for you"}, {"owner": {"reputation": 897, "user_id": 2975357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/20d0ca1791f3f381f3798a5c1d46966c?s=128&d=identicon&r=PG&f=1", "display_name": "dzenesiz", "link": "https://stackoverflow.com/users/2975357/dzenesiz"}, "reply_to_user": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1473890341, "post_id": 39500197, "comment_id": 66318067, "body": "@SamIam I wouldn&#39;t know, but I do know that I still get an error"}, {"owner": {"reputation": 999, "user_id": 5185389, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8c63dbf6d7df7773c3757322d70486b7?s=128&d=identicon&r=PG&f=1", "display_name": "DevilSuichiro", "link": "https://stackoverflow.com/users/5185389/devilsuichiro"}, "edited": false, "score": 1, "creation_date": 1473916910, "post_id": 39500197, "comment_id": 66324369, "body": "the error is that some entries in io do have the same Id (or whatever the PK for that object is called) values. Either you added the same item twice or your id values are not initialized correctly. Since the Entry() method attaches the object to the context, either of those lines may cause this exceptions. IF all entries do have correct id values, the SaveChanges() call will persist the changes in the context(or the changetracker, as it will also track all relevant entries) within a single transaction."}], "answers": [{"comments": [{"owner": {"reputation": 897, "user_id": 2975357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/20d0ca1791f3f381f3798a5c1d46966c?s=128&d=identicon&r=PG&f=1", "display_name": "dzenesiz", "link": "https://stackoverflow.com/users/2975357/dzenesiz"}, "edited": false, "score": 0, "creation_date": 1473898308, "post_id": 39501036, "comment_id": 66320221, "body": "It doesn&#39;t get to that particular line of code. It crashes at <code>ctx.Entry(i).State = EntityState.Modified;</code>"}], "tags": [], "owner": {"reputation": 140, "user_id": 6811559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec9e5793d103b6889e19f8b3fb7fb0a?s=128&d=identicon&r=PG&f=1", "display_name": "srini", "link": "https://stackoverflow.com/users/6811559/srini"}, "is_accepted": false, "score": 1, "last_activity_date": 1473895110, "creation_date": 1473895110, "answer_id": 39501036, "question_id": 39500197, "link": "https://stackoverflow.com/questions/39500197/modify-and-or-delete-records-under-one-transaction/39501036#39501036", "title": "Modify and/or delete records under one transaction", "body": "<p>You can debug the issue by analysing the ChangeTracker for your context.\nBefore the  ctx.SaveChanges() add the following code and debug your application with the break point inside the loop.</p>\n\n<pre><code>        var ctxEnteries = ctx.ChangeTracker.Entries();\n        foreach (var entry in ctxEnteries)\n        {\n            //you can inspect the value like originalvalue, currentvalue, state, etc...\n            var state = entry.State;\n            var entity = entry.Entity;\n        }\n\n        ctx.SaveChanges();\n</code></pre>\n\n<p>So you can exactly find the ItemObject that is causing the issue.\nEasy way to debug and fix the problems related to context.\nLet me know if this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 897, "user_id": 2975357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/20d0ca1791f3f381f3798a5c1d46966c?s=128&d=identicon&r=PG&f=1", "display_name": "dzenesiz", "link": "https://stackoverflow.com/users/2975357/dzenesiz"}, "edited": false, "score": 0, "creation_date": 1474060537, "post_id": 39515933, "comment_id": 66394346, "body": "My problem was that I misunderstood the requirements... I wasn&#39;t supposed to change the serial number as it is the part of a primary key... which was perfectly natural when I thought about it afterwards. Now this works fine, but the logic is completely different"}], "tags": [], "owner": {"reputation": 140, "user_id": 6811559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec9e5793d103b6889e19f8b3fb7fb0a?s=128&d=identicon&r=PG&f=1", "display_name": "srini", "link": "https://stackoverflow.com/users/6811559/srini"}, "is_accepted": true, "score": 1, "last_activity_date": 1473956451, "creation_date": 1473956451, "answer_id": 39515933, "question_id": 39500197, "link": "https://stackoverflow.com/questions/39500197/modify-and-or-delete-records-under-one-transaction/39515933#39515933", "title": "Modify and/or delete records under one transaction", "body": "<p>In this case, your context already holds the entry of your entity, so it will not allow you to add another entry of the same entity.</p>\n\n<p>You need to explicitly mention \".AsNoTracking()\" in your query.</p>\n\n<p>Please refer to \"No-Tracking Queries\" from this <a href=\"http://www.mikesdotnetting.com/article/252/mvc-5-with-ef-6-in-visual-basic-advanced-entity-framework-scenarios\" rel=\"nofollow\">url</a></p>\n"}], "owner": {"reputation": 897, "user_id": 2975357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/20d0ca1791f3f381f3798a5c1d46966c?s=128&d=identicon&r=PG&f=1", "display_name": "dzenesiz", "link": "https://stackoverflow.com/users/2975357/dzenesiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1033, "favorite_count": 0, "accepted_answer_id": 39515933, "answer_count": 2, "score": -1, "last_activity_date": 1473956451, "creation_date": 1473889873, "last_edit_date": 1473898376, "question_id": 39500197, "link": "https://stackoverflow.com/questions/39500197/modify-and-or-delete-records-under-one-transaction", "title": "Modify and/or delete records under one transaction", "body": "<p>I know there are many questions about the error I'm getting, but none of them in the same scenario. I need to update and/or remove several items of an object under one \"transaction\" with Entity Framework.</p>\n\n<p>I have a list of item objects, let's call it <code>List&lt;ItemObject&gt;</code> and the object which can have those items - call it <code>SuperObject</code>. <strong>ItemObjects</strong> have a complex primary key composed of a <strong>SuperObject</strong>'s primary key and a serial number in that list.</p>\n\n<p><em>Scenario</em>: A user modifies some items and marks others for deletion. Then he clicks a button to save all changes. For my assignment, I need to simulate a transaction - not a good way to use EF, I know. So, I need to set States on the items and then call <code>ctx.SaveChanges()</code>. My problem is that, while updating the serial numbers, I get multiple matching primary key values (I guess), which raises the oh-so-notorious error:</p>\n\n<blockquote>\n  <p>Attaching an entity of type 'ItemObject' failed because another entity\n  of the same type already has the same primary key value...</p>\n</blockquote>\n\n<p>It crashes on a call to <code>ctx.Entry(i).State = EntityState.Modified;</code></p>\n\n<p>Any thoughts on how to solve this? Code given below.</p>\n\n<pre><code>SuperObject objWithItems = (SuperObject)Session[\"Super\"];\nList&lt;ItemObject&gt; itemsToKeep = new List&lt;ItemObject&gt;();\n\nforeach(ItemObject io in objWithItems.Items)\n                {\n                    if (io.Deletion)\n                    {\n                        ctx.Entry(io).State = EntityState.Deleted;\n                    }\n                     else\n                        itemsToKeep.Add(io);  \n                }\n\n                int serial = 0;\n\n                foreach(ItemObject i in itemsToKeep)\n                {\n                    i.Serial = ++serial;\n                    ctx.Entry(i).State = EntityState.Modified;\n                }\n\n                ctx.SaveChanges();\n            } \n\n                return RedirectToAction(\"Read\", new { update = false });\n        }\n</code></pre>\n\n<p>I'm pretty vanilla at this and am still getting to grips with the concepts of EF, so I can't figure out a way go around this error and still meet the demands of the assignment.</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6"], "answers": [{"tags": [], "owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "is_accepted": true, "score": 2, "last_activity_date": 1473890087, "creation_date": 1473890087, "answer_id": 39500244, "question_id": 39500184, "link": "https://stackoverflow.com/questions/39500184/how-to-select-item-with-specific-item-in-icollection-property/39500244#39500244", "title": "How to select item with specific item in iCollection property?", "body": "<p>You are calling <code>ToList()</code> 2 times. When you call ToList in your second line, It executes the query expression and load the results to the lps variable. You are doing the filter on the inmemory data in the next line.</p>\n\n<p>You can avoid the first <code>ToList()</code> call which executes the query expression and merge the filtering code to same line.</p>\n\n<pre><code>var catIdToCheck = 10;  \nvar result = db.Foos.Where(g=&gt;g.Cats.Any(y=&gt;y.Id==catIdToCheck)).ToList();\n</code></pre>\n"}], "owner": {"reputation": 467, "user_id": 2835505, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/39c14961d9c46629982296155ac0c965?s=128&d=identicon&r=PG&f=1", "display_name": "Ayorus", "link": "https://stackoverflow.com/users/2835505/ayorus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2184, "favorite_count": 1, "accepted_answer_id": 39500244, "answer_count": 1, "score": 0, "last_activity_date": 1473890087, "creation_date": 1473889810, "question_id": 39500184, "link": "https://stackoverflow.com/questions/39500184/how-to-select-item-with-specific-item-in-icollection-property", "title": "How to select item with specific item in iCollection property?", "body": "<p>I have the following class: </p>\n\n<pre><code> public class Foo\n    {\n        [Key] \n        public int ID { get; set; }\n\n        public virtual ICollection&lt;Cat&gt; Cats { get; set; }\n    }\n</code></pre>\n\n<p>I am trying to select all the Foo objects which contains a specific Cat object.  Currently I am doing this: </p>\n\n<pre><code>Cat  c = new Cat(10);\nvar lPs = Bd.Foos.Include(\"Cats\").Where(p =&gt; SomeConditions).ToList();\nvar lFilter = lPs.Where(p =&gt; p.Cats.Contains(c)).ToList();\n</code></pre>\n\n<p>I do not like this approach because I bring to many objects from the DB just to filter them using LinQ.</p>\n\n<p>Is there a better(more efficient) way? </p>\n\n<p>if it is useful, the DBcontext is defined in this way: </p>\n\n<pre><code>modelBuilder.Entity&lt;Foo&gt;().HasMany(p =&gt; p.Cats).WithMany();\n</code></pre>\n"}, {"tags": ["c#", "multithreading", "threadpool", "deadlock"], "comments": [{"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1473890193, "post_id": 39500113, "comment_id": 66318014, "body": "Maybe, you want to try <code>BlockingCollection</code> instead of queues+locks"}, {"owner": {"reputation": 429, "user_id": 782181, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2fc62a08d9e156ff11be1046b37e1558?s=128&d=identicon&r=PG", "display_name": "kromenak", "link": "https://stackoverflow.com/users/782181/kromenak"}, "reply_to_user": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1473890638, "post_id": 39500113, "comment_id": 66318167, "body": "@L.B, I actually think that would be great, but I&#39;m working in Unity, which is stuck at .NET2.0 for the time being! I&#39;ll update the question to indicate this."}], "answers": [{"comments": [{"owner": {"reputation": 26725, "user_id": 213550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cyZ5c.jpg?s=128&g=1", "display_name": "VMAtm", "link": "https://stackoverflow.com/users/213550/vmatm"}, "edited": false, "score": 1, "creation_date": 1474048810, "post_id": 39518085, "comment_id": 66389057, "body": "your approach is correct, but I just want to point out to your code for dequeue - I suggest you to assert the equality of counts in both queue. It seems unreal to be unequal, but I think this should be done. Just for the check your invariants."}], "tags": [], "owner": {"reputation": 429, "user_id": 782181, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2fc62a08d9e156ff11be1046b37e1558?s=128&d=identicon&r=PG", "display_name": "kromenak", "link": "https://stackoverflow.com/users/782181/kromenak"}, "is_accepted": true, "score": 0, "last_activity_date": 1473964399, "creation_date": 1473964399, "answer_id": 39518085, "question_id": 39500113, "link": "https://stackoverflow.com/questions/39500113/producer-consumer-thread-pool-w-main-thread-support-infrequent-deadlock/39518085#39518085", "title": "Producer/Consumer Thread Pool w/ Main Thread Support - Infrequent Deadlock?", "body": "<p>Hmm, so, while I would still like to know <em>why</em> the code above could deadlock in certain scenarios, I think I've found a workaround that will do the trick.</p>\n\n<p>If the main thread is going to be doing work here, I want to make sure the main thread doesn't get blocked for a long period of time. After all, a general dev rule: don't block the main thread!</p>\n\n<p>So, the solution I'm trying is to use Monitor.TryEnter directly, rather than using lock() for the main thread. This allows me to specify a timeout for how long the main thread is willing to wait for the lock.</p>\n\n<pre><code>public static bool PerformTask()\n{\n    WaitCallback taskCallback = null;\n    object task = null;\n\n    // Use TryEnter, rather than \"lock\" because \n    // it allows us to specify a timeout as a failsafe.\n    if(Monitor.TryEnter(locker, 500))\n    {\n        try \n        {\n            // Pull a task from the queue.\n            if(taskQueue.Count &gt; 0)\n            {\n                task = taskQueue.Dequeue();\n            }\n            if(taskCallbacks.Count &gt; 0)\n            {\n                taskCallback = taskCallbacks.Dequeue();\n            }\n        }\n        finally\n        {\n            Monitor.Exit(locker);\n        }\n    }\n\n    // No task means no work, return false.\n    if(task == null || taskCallback == null) { return false; }\n\n    // Do the work!\n    taskCallback(task);\n    return true;\n}\n</code></pre>\n\n<p>In this code, the thread will wait to acquire the lock for up to 500ms. If it can't for whatever reason, it fails to do any tasks, but at least it doesn't get stuck. It seems like a good idea to not put the main thread in a position where it could wait indefinitely.</p>\n\n<p>I believe that when you use lock(), the compiler generates similar code anyways, so I don't think there would be any performance issue with this solution.</p>\n"}], "owner": {"reputation": 429, "user_id": 782181, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2fc62a08d9e156ff11be1046b37e1558?s=128&d=identicon&r=PG", "display_name": "kromenak", "link": "https://stackoverflow.com/users/782181/kromenak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "accepted_answer_id": 39518085, "answer_count": 1, "score": 0, "last_activity_date": 1473964399, "creation_date": 1473889526, "last_edit_date": 1495540803, "question_id": 39500113, "link": "https://stackoverflow.com/questions/39500113/producer-consumer-thread-pool-w-main-thread-support-infrequent-deadlock", "title": "Producer/Consumer Thread Pool w/ Main Thread Support - Infrequent Deadlock?", "body": "<p>I have a C# thread pool class that is based heavily on the producer/consumer code from <a href=\"https://stackoverflow.com/a/1656662/782181\">https://stackoverflow.com/a/1656662/782181</a>. NOTE: I'm doing this instead of using BlockingCollection because I'm stuck with .NET2.0!</p>\n\n<p>I added a function to the class that can be called from the main thread to allow the main thread to do some work. My thinking here was that, at some point, the main thread waits for work to be done, but instead of waiting, I could also have the main thread do some of the work to speed things up.</p>\n\n<p>Here's a slimmed version of the class to demonstrate:</p>\n\n<pre><code>public static class SGThreadPool\n{\n    // Shared object to lock access to the queue between threads.\n    private static object locker = new object();\n\n    // The various threads that are doing our work.\n    private static List&lt;Thread&gt; workers = null;\n\n    // A queue of tasks to be completed by the workers.\n    private static Queue&lt;object&gt; taskQueue = new Queue&lt;object&gt;();\n    private static Queue&lt;WaitCallback&gt; taskCallbacks = new Queue&lt;WaitCallback&gt;();\n\n    //OMMITTED: Init function (starts threads)\n\n    // Enqueues a task for a thread to do.\n    public static void EnqueueTask(WaitCallback callback, object context)\n    {\n        lock(locker)\n        {\n            taskQueue.Enqueue(context);\n            taskCallbacks.Enqueue(callback);\n            Monitor.PulseAll(locker); //Q: should I just use 'Pulse' here?\n        }\n    }\n\n    // Can be called from main thread to have it \"help out\" with tasks.\n    public static bool PerformTask()\n    {\n        WaitCallback taskCallback = null;\n        object task = null;\n        lock(locker)\n        {\n            if(taskQueue.Count &gt; 0)\n            {\n                task = taskQueue.Dequeue();\n            }\n            if(taskCallbacks.Count &gt; 0)\n            {\n                taskCallback = taskCallbacks.Dequeue();\n            }\n        }\n\n        // No task means no work, return false.\n        if(task == null || taskCallback == null) { return false; }\n\n        // Do the work!\n        taskCallback(task);\n        return true;\n    }\n\n    private static void Consume()\n    {\n        while(true)\n        {\n            WaitCallback taskCallback = null;\n            object task = null;\n            lock(locker)\n            {\n                // While no tasks in the queue, wait.\n                while(taskQueue.Count == 0)\n                {\n                    Monitor.Wait(locker);\n                }\n\n                // Get a task.\n                task = taskQueue.Dequeue();\n                taskCallback = taskCallbacks.Dequeue();\n            }\n\n            // Null task signals an exit.\n            if(task == null || taskCallback == null) { return; }\n\n            // Call consume callback with task as context.\n            taskCallback(task);\n        }\n    }\n}\n</code></pre>\n\n<p>Basically, I can enqueue a number of tasks to be performed by background threads. But it is also possible for the main thread to take a task and perform it by calling PerformTask().</p>\n\n<p>I'm running into an infrequent problem where the main thread will try to \"lock\" in PerformTask(), but the lock is already taken. The main thread waits, but the lock doesn't ever become available, for some reason.</p>\n\n<p>Nothing in the code is jumping out at me as a problem causing the deadlock - I'm hoping that someone else might be able to spot the problem. I've been looking at this for a couple hours, and I'm not sure why the main thread would get stuck at the \"lock()\" call in PerformTask(). It seems like no other thread would be holding the lock indefinitely? Is it a bad idea to allow the main thread to interact with the pool in this way?</p>\n"}, {"tags": ["c#", "sql-server", "csv", "encoding", "utf-8"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1473889683, "post_id": 39500102, "comment_id": 66317824, "body": "utf&#39;s a charset, but your text is undoubtedly utf with html encoding."}, {"owner": {"reputation": 113, "user_id": 3545924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoOe9.jpg?s=128&g=1", "display_name": "Synapsido", "link": "https://stackoverflow.com/users/3545924/synapsido"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1473892171, "post_id": 39500102, "comment_id": 66318596, "body": "utf-8 is especified on my webform.aspx @MarcB                                                         &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt;"}, {"owner": {"reputation": 913, "user_id": 6699735, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f06803a9fde9186cd86ab8a02ff122ac?s=128&d=identicon&r=PG&f=1", "display_name": "vlad.rad", "link": "https://stackoverflow.com/users/6699735/vlad-rad"}, "edited": false, "score": 0, "creation_date": 1473894490, "post_id": 39500102, "comment_id": 66319251, "body": "Have a look at my answer. More information you can find here: <a href=\"https://www.w3.org/TR/html401/charset.html#h-5.2.2\" rel=\"nofollow noreferrer\">w3.org/TR/html401/charset.html#h-5.2.2</a>"}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 3545924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoOe9.jpg?s=128&g=1", "display_name": "Synapsido", "link": "https://stackoverflow.com/users/3545924/synapsido"}, "edited": false, "score": 0, "creation_date": 1474474953, "post_id": 39500908, "comment_id": 66549253, "body": "CMS wiht C#/ASP.NETdoes not support .htaccess configurations"}, {"owner": {"reputation": 913, "user_id": 6699735, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f06803a9fde9186cd86ab8a02ff122ac?s=128&d=identicon&r=PG&f=1", "display_name": "vlad.rad", "link": "https://stackoverflow.com/users/6699735/vlad-rad"}, "reply_to_user": {"reputation": 113, "user_id": 3545924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoOe9.jpg?s=128&g=1", "display_name": "Synapsido", "link": "https://stackoverflow.com/users/3545924/synapsido"}, "edited": false, "score": 0, "creation_date": 1474495719, "post_id": 39500908, "comment_id": 66560185, "body": "Ok, it is good to know. If your issue is not solved, I will have an update for you whta you can try else"}], "tags": [], "owner": {"reputation": 913, "user_id": 6699735, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f06803a9fde9186cd86ab8a02ff122ac?s=128&d=identicon&r=PG&f=1", "display_name": "vlad.rad", "link": "https://stackoverflow.com/users/6699735/vlad-rad"}, "is_accepted": false, "score": 1, "last_activity_date": 1473894183, "creation_date": 1473894183, "answer_id": 39500908, "question_id": 39500102, "link": "https://stackoverflow.com/questions/39500102/csv-file-export-with-encoding-issues/39500908#39500908", "title": "CSV file export with encoding issues", "body": "<p>In order to correctly decode an HTML file, your browser needs to know which encoding to use. You can tell it to him by setting the <a href=\"https://www.w3.org/International/articles/http-charset/index\" rel=\"nofollow\">charset parameter</a> or by setting <a href=\"http://www.w3schools.com/tags/tag_meta.asp\" rel=\"nofollow\">meta tag</a>: <code>&lt;meta charset=\"UTF-8\"&gt;</code></p>\n\n<p>So: you need to save the HTML file using UTF-8 and declare that encoding properly.</p>\n\n<p>It can also theoretically be that on your server default encoding is other as UTF-8 - then you should delete the <code>AddDefaultCharset your_encoding</code> from the .htaccess server file and write <code>AddDefaultCharset utf-8</code>. But I am not sure that this is about your case.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The byte <code>&amp;#243;</code> stands for Spanish character \u00f3 in UTF-8. So I think you should not try to encode with other encodings, because it is definitely utf-8.</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 8646431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1ddcce2a4e926d5410d6d95dbe864e6?s=128&d=identicon&r=PG&f=1", "display_name": "nisan", "link": "https://stackoverflow.com/users/8646431/nisan"}, "is_accepted": false, "score": 0, "last_activity_date": 1505974880, "creation_date": 1505974880, "answer_id": 46336799, "question_id": 39500102, "link": "https://stackoverflow.com/questions/39500102/csv-file-export-with-encoding-issues/46336799#46336799", "title": "CSV file export with encoding issues", "body": "<p>You can try out this below code</p>\n\n<pre><code>        Response.Clear();\n        Response.Buffer = true;\n        Response.AddHeader(\"content-disposition\", \"attachment;filename=\" + System.Web.HttpUtility.UrlEncode(fileName, Encoding.UTF8) + \"\");\n        Response.Cookies.Add(new System.Web.HttpCookie(\"fileDownload\", \"true\"));\n        Response.Charset = \"\";\n        Response.ContentType = \"application/csv\";\n        Response.ContentEncoding = Encoding.UTF8;\n        Response.BinaryWrite(Encoding.UTF8.GetPreamble());\n        Response.Write(outPutStringData); // Information which you want in .csv file\n        Response.Flush();\n        Response.End();\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 3545924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoOe9.jpg?s=128&g=1", "display_name": "Synapsido", "link": "https://stackoverflow.com/users/3545924/synapsido"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2813, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1505974880, "creation_date": 1473889474, "last_edit_date": 1473917303, "question_id": 39500102, "link": "https://stackoverflow.com/questions/39500102/csv-file-export-with-encoding-issues", "title": "CSV file export with encoding issues", "body": "<p>I'm trying to export a SQL Server table into a CSV file:</p>\n\n<p>Data in the table is like = Presentaci\u00f3n or Difusi\u00f3n</p>\n\n<p>All is working good... but in the <code>.CSV</code> file I find:</p>\n\n<pre><code>Presentaci&amp;#243;n or Difusi&amp;#243;n\n</code></pre>\n\n<p>This is my .cs code:</p>\n\n<pre><code>GridView1.AllowPaging = false;\nGridView1.DataBind();\n\nStringBuilder sb = new StringBuilder();\n\nfor (int k = 0; k &lt; GridView1.Columns.Count; k++)\n{\n    // add separator\n    sb.Append(GridView1.Columns[k].HeaderText + ';');\n}\n\n// append new line\nsb.Append(\"\\r\\n\");\n\nfor (int i = 0; i &lt; GridView1.Rows.Count; i++)\n{\n    for (int k = 0; k &lt; GridView1.Columns.Count; k++)\n    {\n        // add separator\n        sb.Append(GridView1.Rows[i].Cells[k].Text + ';');\n    }\n\n    // append new line\n    sb.Append(\"\\r\\n\");\n}\n\nEncoding encoding = Encoding.UTF8;\n\nResponse.Clear();\nResponse.Buffer = true;\nResponse.AddHeader(\"content-disposition\", \"attachment;filename=OrigenDatos.csv\");  \nResponse.Charset = encoding.EncodingName;\nResponse.ContentType = \"application/text\";\nResponse.ContentEncoding = Encoding.Unicode;\nResponse.Output.Write(sb.ToString());\nResponse.Flush();\nResponse.End();\n</code></pre>\n\n<p>Is UTF-8 the true charset?</p>\n"}, {"tags": ["javascript", "c#", "signalr"], "comments": [{"owner": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1473889895, "post_id": 39499956, "comment_id": 66317908, "body": "What is UsersOnline and are you sure you get a correct groupName and the group is not empty?"}, {"owner": {"reputation": 375, "user_id": 1444186, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ccaf7b6b492c254f26349a31bd0f41d7?s=128&d=identicon&r=PG", "display_name": "Vijay", "link": "https://stackoverflow.com/users/1444186/vijay"}, "reply_to_user": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1473890841, "post_id": 39499956, "comment_id": 66318223, "body": "@Pawel UsersOnline is a class containing a static List&lt;User&gt; to add and remove users. Yes the group name is correctly assigned to the users but still unable to deliver the message."}, {"owner": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1473891341, "post_id": 39499956, "comment_id": 66318388, "body": "How do you add clients to group? - show the client and the server code."}, {"owner": {"reputation": 375, "user_id": 1444186, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ccaf7b6b492c254f26349a31bd0f41d7?s=128&d=identicon&r=PG", "display_name": "Vijay", "link": "https://stackoverflow.com/users/1444186/vijay"}, "reply_to_user": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1473891899, "post_id": 39499956, "comment_id": 66318532, "body": "@Pawel Please check the updated code above."}, {"owner": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1473892752, "post_id": 39499956, "comment_id": 66318766, "body": "I still don&#39;t see the code that calls <code>AddUsersToGroup</code> and also the code that sets ConnectionId for the user. Also not sure why you have multiple ConnectionIds for a user - you always use only one/first id."}], "answers": [{"tags": [], "owner": {"reputation": 1003, "user_id": 2202949, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XGiFt.jpg?s=128&g=1", "display_name": "Kelso Sharp", "link": "https://stackoverflow.com/users/2202949/kelso-sharp"}, "is_accepted": false, "score": 0, "last_activity_date": 1473949806, "creation_date": 1473949806, "answer_id": 39513739, "question_id": 39499956, "link": "https://stackoverflow.com/questions/39499956/unable-to-send-message-to-groups-in-signalr/39513739#39513739", "title": "Unable to send message to groups in SignalR", "body": "<p>Don't use gethashcode to generate the name of the group, the results will only match if all the data for the user is identical, and if there is a disconnect, or the connectionid change the group name will no longer be valid for that user. You can use ConnectionId since it is unique for each user. Also Pawel is correct you are creating the groups but you are not adding the user to the group itself.</p>\n"}], "owner": {"reputation": 375, "user_id": 1444186, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ccaf7b6b492c254f26349a31bd0f41d7?s=128&d=identicon&r=PG", "display_name": "Vijay", "link": "https://stackoverflow.com/users/1444186/vijay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474223375, "creation_date": 1473888720, "last_edit_date": 1474223375, "question_id": 39499956, "link": "https://stackoverflow.com/questions/39499956/unable-to-send-message-to-groups-in-signalr", "title": "Unable to send message to groups in SignalR", "body": "<p>I'm using SignalR 2.2.1 in my chat application.</p>\n\n<p>I'm adding users to groups and sending messages to the group. While sending a message, I'm fetching the group name from the user object as follows.</p>\n\n<p>I'm unable to send messages to a group whereas sending messages to the caller or all clients works.</p>\n\n<p>Server-side code:</p>\n\n<pre><code>public string AddUsersToGroup(string CurrentUserId, string toUserId)\n{   \n    string strGroupName = GetUniqueGroupName(CurrentUserId, toUserId);\n    if (!string.IsNullOrEmpty(toUserId) &amp;&amp; !string.IsNullOrEmpty(CurrentUserId))\n    {\n        string _cnId, _toCnId;\n        _cnId = UsersOnline.userObj.Where(item =&gt; item.userId == CurrentUserId).Select(item =&gt; item.ConnectionIds.FirstOrDefault()).FirstOrDefault();\n        _toCnId = UsersOnline.userObj.Where(item =&gt; item.userId == toUserId).Select(item =&gt; item.ConnectionIds.FirstOrDefault()).FirstOrDefault();\n        UsersOnline.userObj.Where(item =&gt; item.userId == CurrentUserId).FirstOrDefault().GroupName = strGroupName;\n        UsersOnline.userObj.Where(item =&gt; item.userId == toUserId).FirstOrDefault().GroupName = strGroupName;\n\n        Groups.Add(_cnId, strGroupName);\n        Groups.Add(_toCnId, strGroupName);                               \n    }\n    return strGroupName;\n}\n\npublic void Send(string message)\n{\n    if (Clients != null)\n    {\n        string _conId = Context.ConnectionId;\n        string GroupName = UsersOnline.userObj.Where(item =&gt;   item.ConnectionIds.Contains(_conId)).FirstOrDefault().GroupName;\n        Clients.Group(GroupName).broadcastMessage(message); // This doesn't work.\n        Clients.All.broadcastMessage(message); // This works.\n        Clients.Caller.broadcastmessage(message); // This works.\n    }\n}\n\nprivate string GetUniqueGroupName(string CurrentUserId, string toUserId)\n{\n    return (CurrentUserId.GetHashCode() ^ toUserId.GetHashCode()).ToString();\n}\n</code></pre>\n\n<p>Client side code:</p>\n\n<pre><code>chat.client.broadcastMessage = function (message) {              \n    $('#divMessageBoard').append('&lt;span&gt;' + $('&lt;div/&gt;').text(message).html() + '&lt;/span&gt;&lt;br/&gt;');\n    var divMessageBoard = $('#divMessageBoard');\n    $(\"#divMessageBoard\").animate({ scrollTop: $(\"#divMessageBoard\")[0].scrollHeight }, 1000);\n};\n</code></pre>\n\n<p>Can anyone please suggest a solution?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "visual-studio-2015", "asp.net-core"], "answers": [{"comments": [{"owner": {"reputation": 1546, "user_id": 2108254, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/jh25U.jpg?s=128&g=1", "display_name": "DarkUrse", "link": "https://stackoverflow.com/users/2108254/darkurse"}, "edited": false, "score": 1, "creation_date": 1473925208, "post_id": 39500541, "comment_id": 66327734, "body": "That sounds .. extreme. As I said, I can build and run x86 version of my app from the command line specifying the rid ( So, I think I do have the appropriate runtime ). But curiously I have no control to choose from vs2015 GUI."}, {"owner": {"reputation": 1546, "user_id": 2108254, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/jh25U.jpg?s=128&g=1", "display_name": "DarkUrse", "link": "https://stackoverflow.com/users/2108254/darkurse"}, "edited": false, "score": 0, "creation_date": 1473945292, "post_id": 39500541, "comment_id": 66339859, "body": "Thanks Victor, you were correct after all. I was somehow expecting vs2015 to magically extrapolate from the project.json which version of the runtime I wanted to launch.."}], "tags": [], "owner": {"reputation": 27303, "user_id": 149064, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cbf6917a7f41a098677c63e32bfba873?s=128&d=identicon&r=PG", "display_name": "Victor Hurdugaci", "link": "https://stackoverflow.com/users/149064/victor-hurdugaci"}, "is_accepted": true, "score": 5, "last_activity_date": 1473891690, "creation_date": 1473891690, "answer_id": 39500541, "question_id": 39499882, "link": "https://stackoverflow.com/questions/39499882/start-an-asp-net-core-project-as-x86-under-visual-studio-2015/39500541#39500541", "title": "Start an asp.net core project as x86 under visual studio 2015", "body": "<p>There are 2 options:</p>\n\n<ol>\n<li>(global) Uninstall the 64 bit .net SDK and install the 32 bit one. Restart VS afterwards.</li>\n<li>(local) Put a new .net SDK in a different folder and add from a console that path to your PATH. Then start VS from there. It will pick the first dotnet it finds on the PATH.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1546, "user_id": 2108254, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/jh25U.jpg?s=128&g=1", "display_name": "DarkUrse", "link": "https://stackoverflow.com/users/2108254/darkurse"}, "is_accepted": false, "score": 0, "last_activity_date": 1473945103, "last_edit_date": 1473945103, "creation_date": 1473931999, "answer_id": 39507663, "question_id": 39499882, "link": "https://stackoverflow.com/questions/39499882/start-an-asp-net-core-project-as-x86-under-visual-studio-2015/39507663#39507663", "title": "Start an asp.net core project as x86 under visual studio 2015", "body": "<p>This is what worked for me :</p>\n\n<p>An hour ago, visual studio 2015 team released a new update labeled \"<a href=\"https://msdn.microsoft.com/en-us/library/mt752379.aspx\" rel=\"nofollow\">Microsoft Visual Studio 2015 Update 3 (KB3165756)</a>\"</p>\n\n<p>After installation, everything works as expected.</p>\n\n<p>A big thanks to MS and .net core / vs2015 teams for this extremely timely release :)</p>\n\n<hr>\n\n<p><strong>Addendum:</strong></p>\n\n<p>Installing the update isn't enough ( although I suspect it is part of the fix ). The additional steps to make this work you need to follow @VictorHurdugaci directives:</p>\n\n<ol>\n<li><p>Ensure you have installed the x86 version of the .net SDK</p></li>\n<li><p>And ensure PATH order of <em>\"C:\\Program Files (x86)\\dotnet\\\"</em> before <em>\"C:\\Program Files\\dotnet\\\"</em> the runtime which is not guaranteed when you install the new package ( I wanted to keep both x86 and x64 runtimes )</p></li>\n</ol>\n\n<p>Thanks VictorHurdugaci, at the end of the day you were absolutely correct. </p>\n"}, {"comments": [{"owner": {"reputation": 1546, "user_id": 2108254, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/jh25U.jpg?s=128&g=1", "display_name": "DarkUrse", "link": "https://stackoverflow.com/users/2108254/darkurse"}, "edited": false, "score": 0, "creation_date": 1476374161, "post_id": 39973714, "comment_id": 67328666, "body": "Noting on &quot;(this will be) fixed (when) switching from project.json to .csproj&quot;. I kind of hate it isn&#39;t already fixed with what we have now. Why isn&#39;t vs2015 making use of global.json &gt; &quot;sdk&quot; &gt; &quot;architecture&quot; for this purpose ? This flag seems to have be forgotten since dnx old times. It could have been a good (valid?) option to know what CLI the developer intends to run when hitting F5... And regarding .csproj choice, don&#39;t even get me started on that bad move :/"}], "tags": [], "owner": {"reputation": 2345, "user_id": 1278334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FEjuO.png?s=128&g=1", "display_name": "A.J.Bauer", "link": "https://stackoverflow.com/users/1278334/a-j-bauer"}, "is_accepted": false, "score": 5, "last_activity_date": 1476179079, "last_edit_date": 1476179079, "creation_date": 1476176321, "answer_id": 39973714, "question_id": 39499882, "link": "https://stackoverflow.com/questions/39499882/start-an-asp-net-core-project-as-x86-under-visual-studio-2015/39973714#39973714", "title": "Start an asp.net core project as x86 under visual studio 2015", "body": "<p>Victor Hurdugaci's answer should be upvoted, this here just provides some more information in case you need it.</p>\n\n<p>There seems to be a tooling issue at the moment when you have installed both the x86 and x64 .NET Core versions  (More on this here: <a href=\"https://github.com/aspnet/Home/issues/1624\" rel=\"noreferrer\">32 bit not in good state and workarounds</a> and the links). </p>\n\n<p>Setting \"buildOptions\" to \"platform\": \"x86\" and \"runtimes\": to \"win7-x86\" in project.json is not working (the x64 directory can still get created during built depending on the PATH environment variable).</p>\n\n<p>This will hopefully get fixed after they switch from project.json to .csproj (why they change it here: <a href=\"https://blogs.msdn.microsoft.com/dotnet/2016/05/23/changes-to-project-json/\" rel=\"noreferrer\">Changes to Project.json</a>). </p>\n\n<p>At the moment when you have installed both versions like this (<a href=\"https://www.microsoft.com/net/download\" rel=\"noreferrer\">.NET Framework Downloads</a>):</p>\n\n<p><a href=\"https://i.stack.imgur.com/15xcg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/15xcg.png\" alt=\"enter image description here\"></a></p>\n\n<p>You need to set the order in the path environment variable:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JqwF6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JqwF6.png\" alt=\"enter image description here\"></a></p>\n\n<p>So that the one you want to use appears first and then <strong>(re-)start</strong> Visual Studio.</p>\n\n<p>To check which dotnet is currently \"active\" run: dotnet --info in the console.</p>\n"}], "owner": {"reputation": 1546, "user_id": 2108254, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/jh25U.jpg?s=128&g=1", "display_name": "DarkUrse", "link": "https://stackoverflow.com/users/2108254/darkurse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2485, "favorite_count": 2, "accepted_answer_id": 39500541, "answer_count": 3, "score": 4, "last_activity_date": 1476179079, "creation_date": 1473888385, "question_id": 39499882, "link": "https://stackoverflow.com/questions/39499882/start-an-asp-net-core-project-as-x86-under-visual-studio-2015", "title": "Start an asp.net core project as x86 under visual studio 2015", "body": "<p>I have a vs2015 solution containing an asp.net core project and have configured its project.json as follow :</p>\n\n<pre><code>{\n  \"buildOptions\": {\n    \"emitEntryPoint\": true,\n    \"preserveCompilationContext\": true,\n    \"platform\": \"x86\"\n  },\n  \"runtimes\": {\n    \"win10-x86\": {}\n  },\n  \"frameworks\": {\n    \"net461\": {}\n  },\n  \"commands\": {\n    \"web\": \"Microsoft.AspNet.Hosting --ASPNET_ENV production --server Microsoft.AspNet.Server.Kestrel --server.urls http://+:12345\",\n  }\n  [...]\n}\n</code></pre>\n\n<p>I am expecting the application to build and run with the platform specified in project.json <em>( FYI, I am running the app via vs2015 debugger on a win10/x64 box )</em>. However, <strong>win7-x64</strong> runtime is used instead. I can see a <strong>win7-x64</strong> output directory and the prompt title launched indicates it too.</p>\n\n<p>If I build and run directly via command line specifying the runtime, it works.</p>\n\n<p>So my question is, what else do I need to configure to start the asp.net core app in x86 from vs2015 ?</p>\n"}, {"tags": ["c#", "wpf", "validation", "idataerrorinfo"], "owner": {"reputation": 632, "user_id": 1830639, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b1994d61b01cb4ac51d738c3eb73613f?s=128&d=identicon&r=PG", "display_name": "JobaDiniz", "link": "https://stackoverflow.com/users/1830639/jobadiniz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 442, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1575903551, "creation_date": 1473888115, "last_edit_date": 1495541831, "question_id": 39499824, "link": "https://stackoverflow.com/questions/39499824/wpf-force-idataerrorinfo-validation-not-working-when-switching-tabs", "title": "Wpf force IDataErrorInfo validation not working when switching tabs", "body": "<p>Following this <a href=\"https://stackoverflow.com/a/13378911/1830639\">answer</a> I was able to trigger validation error in WPF 4.0. However, it doesn't work when switching tabs. Odd.</p>\n\n<p>Here's the <a href=\"https://drive.google.com/file/d/0B0eTPJd26KakTjBlVlBra0JXZEk/view?usp=sharing\" rel=\"nofollow noreferrer\">sample</a>. Go to tab 2, click the button, switch to tab 1, switch to tab 2 again and click the button. This second time, no error adorner is shown.</p>\n\n<p><strong>ViewModel</strong></p>\n\n<pre><code>class ViewModel : INotifyPropertyChanged, IDataErrorInfo\n{\n    private List&lt;string&gt; errors;\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    public ViewModel()\n    {\n        errors = new List&lt;string&gt;();\n    }\n\n    private string text;\n    public string Text\n    {\n        get { return text; }\n        set\n        {\n            text = value;\n            RaisePropertyChanged(\"Text\");\n        }\n    }\n\n    public void Validate()\n    {\n        errors.Clear();\n        if (string.IsNullOrEmpty(Text))\n            errors.Add(\"Required field\");\n    }\n\n    public void RaisePropertyChanged(string p)\n    {\n        if (PropertyChanged != null)\n            PropertyChanged(this, new PropertyChangedEventArgs(p));\n    }\n\n    string IDataErrorInfo.Error\n    {\n        get { return errors.FirstOrDefault(); }\n    }\n\n    string IDataErrorInfo.this[string columnName]\n    {\n        get\n        {\n            if (columnName == \"Text\")\n                return errors.FirstOrDefault();\n\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>XAML</strong></p>\n\n<pre><code>&lt;Window x:Class=\"ErrorAdorner.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    Title=\"MainWindow\" Height=\"350\" Width=\"525\"&gt;\n&lt;Grid&gt;\n    &lt;TabControl&gt;\n        &lt;TabItem Header=\"First\"&gt;\n            &lt;TextBlock Text=\"Nothing here\"/&gt;\n        &lt;/TabItem&gt;\n        &lt;TabItem Header=\"Second\"&gt;\n            &lt;StackPanel&gt;\n                &lt;TextBox Text=\"{Binding Text, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}\"/&gt;\n                &lt;Button Content=\"Trigger\" Click=\"Button_Click\" Margin=\"0,30,0,0\"/&gt;\n            &lt;/StackPanel&gt;\n        &lt;/TabItem&gt;\n    &lt;/TabControl&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>Code behind</strong></p>\n\n<pre><code>using System.Windows;\n\nnamespace ErrorAdorner\n{\npublic partial class MainWindow : Window\n{\n    private ViewModel model;\n    public MainWindow()\n    {\n        InitializeComponent();\n        DataContext = model = new ViewModel();\n    }\n\n    private void Button_Click(object sender, RoutedEventArgs e)\n    {\n        model.Validate();\n        model.RaisePropertyChanged(\"Text\");\n    }\n  }\n}\n</code></pre>\n\n<p>Any insights?</p>\n"}, {"tags": ["c#", "sql-server", "winforms"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1473888670, "post_id": 39499810, "comment_id": 66317444, "body": "What version of Sql Server Express are you using?"}, {"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1473888878, "post_id": 39499810, "comment_id": 66317523, "body": "It looks like it&#39;s a sql exception.  If I were you, I&#39;d debug your query in <a href=\"https://msdn.microsoft.com/en-us/library/mt238290.aspx\" rel=\"nofollow noreferrer\">SQL Server Management Studio</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1323, "user_id": 5512867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c86ac116ce722dee6b6888d9d86ffe97?s=128&d=identicon&r=PG&f=1", "display_name": "robaudas", "link": "https://stackoverflow.com/users/5512867/robaudas"}, "is_accepted": true, "score": 1, "last_activity_date": 1473889355, "creation_date": 1473889355, "answer_id": 39500067, "question_id": 39499810, "link": "https://stackoverflow.com/questions/39499810/how-to-create-database-if-not-exist-in-c-winforms/39500067#39500067", "title": "How to create database if not exist in c# Winforms", "body": "<p>Based on this support article <a href=\"https://support.microsoft.com/en-us/kb/307283\" rel=\"nofollow\">https://support.microsoft.com/en-us/kb/307283</a> which has a similar database creation script I suggest removing the \"CONTAINMENT = NONE\" section. </p>\n\n<p>By default, all SQL Server 2012 and later databases have a containment set to NONE.(<a href=\"https://msdn.microsoft.com/en-us/library/ff929071.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/ff929071.aspx</a>), so it probably isn't necessary for your script</p>\n\n<p>It is possible that ado .net doesn't support that tsql command, there is a whole other SQL Server Management Objects library available for messing with advance database and schema scripts <a href=\"https://msdn.microsoft.com/en-us/library/ms162169.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/ms162169.aspx</a> . I've used it to create missing databases with table definitions etc during application startup.</p>\n"}, {"tags": [], "owner": {"reputation": 2666, "user_id": 4337436, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-W14FcUG5lD8/AAAAAAAAAAI/AAAAAAAAAbo/uwgurLrj2Uw/photo.jpg?sz=128", "display_name": "Balagurunathan Marimuthu", "link": "https://stackoverflow.com/users/4337436/balagurunathan-marimuthu"}, "is_accepted": false, "score": 5, "last_activity_date": 1473917453, "creation_date": 1473917453, "answer_id": 39503720, "question_id": 39499810, "link": "https://stackoverflow.com/questions/39499810/how-to-create-database-if-not-exist-in-c-winforms/39503720#39503720", "title": "How to create database if not exist in c# Winforms", "body": "<p>My Create Database function</p>\n\n<pre><code>public bool CreateDatabase(SqlConnection connection, string txtDatabase)\n{\n    String CreateDatabase;\n    string appPath = System.IO.Path.GetDirectoryName(System.Reflection.Assembly.GetExecutingAssembly().Location);\n    GrantAccess(appPath); //Need to assign the permission for current application to allow create database on server (if you are in domain).\n    bool IsExits = CheckDatabaseExists(connection, txtDatabase); //Check database exists in sql server.\n    if (!IsExits)\n    {\n        CreateDatabase = \"CREATE DATABASE \" + txtDatabase + \" ; \";\n        SqlCommand command = new SqlCommand(CreateDatabase, connection);\n        try\n        {\n            connection.Open();\n            command.ExecuteNonQuery();\n        }\n        catch (System.Exception ex)\n        {\n            MessageBox.Show(\"Please Check Server and Database name.Server and Database name are incorrect .\", Text, MessageBoxButtons.OK, MessageBoxIcon.Information);\n            return false;\n        }\n        finally\n        {\n            if (connection.State == ConnectionState.Open)\n            {\n                connection.Close();\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n\n<p>My GrantAccess function to allow permission for current app</p>\n\n<pre><code>public static bool GrantAccess(string fullPath)\n{\n    DirectoryInfo info = new DirectoryInfo(fullPath);\n    WindowsIdentity self = System.Security.Principal.WindowsIdentity.GetCurrent();\n    DirectorySecurity ds = info.GetAccessControl();\n    ds.AddAccessRule(new FileSystemAccessRule(self.Name,\n    FileSystemRights.FullControl,\n    InheritanceFlags.ObjectInherit |\n    InheritanceFlags.ContainerInherit,\n    PropagationFlags.None,\n    AccessControlType.Allow));\n    info.SetAccessControl(ds);\n    return true;\n}\n</code></pre>\n\n<p>Check Database exists function below</p>\n\n<pre><code>public static bool CheckDatabaseExists(SqlConnection tmpConn, string databaseName)\n{\n    string sqlCreateDBQuery;\n    bool result = false;\n\n    try\n    {\n        sqlCreateDBQuery = string.Format(\"SELECT database_id FROM sys.databases WHERE Name = '{0}'\", databaseName);\n        using (SqlCommand sqlCmd = new SqlCommand(sqlCreateDBQuery, tmpConn))\n        {\n            tmpConn.Open();\n            object resultObj = sqlCmd.ExecuteScalar();\n            int databaseID = 0;\n            if (resultObj != null)\n            {\n                int.TryParse(resultObj.ToString(), out databaseID);\n            }\n            tmpConn.Close();\n            result = (databaseID &gt; 0);\n        }\n    }\n    catch (Exception)\n    {\n        result = false;\n    }\n    return result;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 1223360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58b4c32693e1281f06f966f103d57246?s=128&d=identicon&r=PG", "display_name": "sandimschuh", "link": "https://stackoverflow.com/users/1223360/sandimschuh"}, "is_accepted": false, "score": 0, "last_activity_date": 1575300448, "creation_date": 1575300448, "answer_id": 59142036, "question_id": 39499810, "link": "https://stackoverflow.com/questions/39499810/how-to-create-database-if-not-exist-in-c-winforms/59142036#59142036", "title": "How to create database if not exist in c# Winforms", "body": "<p>To simplify things, here is an even shorter solution.</p>\n\n<pre><code>public void CreateDatabaseIfNotExists(string connectionString, string dbName)\n{\n    SqlCommand cmd = null;\n    using (var connection = new SqlConnection(connectionString))\n    {\n        connection.Open();\n\n        using (cmd = new SqlCommand($\"If(db_id(N'{dbName}') IS NULL) CREATE DATABASE [{dbName}]\", connection))\n        {\n            cmd.ExecuteNonQuery();\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 5740148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffa8dec0d702584873a302329fa53fa4?s=128&d=identicon&r=PG&f=1", "display_name": "mjd166", "link": "https://stackoverflow.com/users/5740148/mjd166"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7603, "favorite_count": 1, "accepted_answer_id": 39500067, "answer_count": 3, "score": 1, "last_activity_date": 1575300448, "creation_date": 1473888056, "last_edit_date": 1473889307, "question_id": 39499810, "link": "https://stackoverflow.com/questions/39499810/how-to-create-database-if-not-exist-in-c-winforms", "title": "How to create database if not exist in c# Winforms", "body": "<p>I want to create a database if it does not exist. I am trying to do it with this code but it has errors and I get this message</p>\n\n<p><a href=\"http://i.stack.imgur.com/UcQLi.jpg\" rel=\"nofollow\">enter image description here</a> </p>\n\n<p>Please help.</p>\n\n<p>Code:</p>\n\n<pre><code>if(dbex == false)\n{\n    string str;\n\n    SqlConnection mycon = new SqlConnection(\"Server=.\\\\sqlexpress;initial catalog=Masalehforoshi;Integrated security=SSPI;database=master\");\n    str = \"CREATE DATABASE [Masalehforoshi] CONTAINMENT = NONE ON PRIMARY\" +\n                \"(NAME=N'Masalehforoshi',\" +\n                @\"FILENAME=N'C:\\data\\Masalehforoshi.mdf' \" +\n                \",SIZE=3072KB,MAXSIZE=UNLIMITED,FILEGROWTH=1024KB)\" +\n                \"LOG ON (NAME=N'Masalehforoshi_log.', \" +\n                @\"FILENAME=N'C:\\Masalehforoshi_log.ldf' \"+\n                \",SIZE=1024KB,MAXSIZE=2048GB,FILEGROWTH=10%)\";\n\n    SqlCommand mycommand = new SqlCommand(str, mycon);\n\n    try\n    {\n        mycommand.Connection.Open();\n        mycommand.ExecuteNonQuery();\n    }\n    catch(Exception ex)\n    {\n        MessageBox.Show(ex.ToString(), \"myprogram\", MessageBoxButtons.OK, MessageBoxIcon.Warning);\n    }\n    finally\n    {\n        if(mycon.State == ConnectionState.Open)\n        {\n            mycon.Close();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "ivalidatableobject"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1473889958, "post_id": 39499800, "comment_id": 66317927, "body": "A bit unclear what your trying to do here. Why not just a <code>RegularExpressionAttribute</code> to limit it to digits only and between 7 and 10 characters. And your <code>Area</code>, <code>Prefix</code> and <code>Suffix</code> properties have <code>getters</code> only so there is no point including <code>TextBoxFor()</code> in the view for them (they cannot be <b>set</b>)"}, {"owner": {"reputation": 67, "user_id": 6562496, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b692ef27ee84e3ecb42ba03d85870891?s=128&d=identicon&r=PG&f=1", "display_name": "thatdude", "link": "https://stackoverflow.com/users/6562496/thatdude"}, "edited": false, "score": 0, "creation_date": 1473895236, "post_id": 39499800, "comment_id": 66319471, "body": "At one point the phone number was displayed in a single textbox but then i was asked to take it and display it in parts instead (UX suggestions). That&#39;s when i added &quot;Area&quot;, &quot;Prefix&quot;, and &quot;Suffix&quot; and assigned them parts of that string.  What i need to do now is validate the number of a new account so that someone can&#39;t just entere a value in one textbox and leave the other 2 blank. Activating validation using a single @html.validationmessagefor for 3 separate fields is what i do not undestand how to do."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1473895714, "post_id": 39499800, "comment_id": 66319588, "body": "If you want 3 textboxes, then your <code>Area</code>, <code>Prefix</code> and <code>Suffix</code> need to be simple <code>public string Area { get; set; }</code> etc (and decorated with <code>[Required]</code> and a <code>[RegularExpression]</code> (to limit the input to digits and certain number of charaters), and the <code>PhoneNumber</code> just has a getter that combines the other values. And of course you need <code>@Html.ValidationMessageFor()</code> for each property."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1473895719, "post_id": 39499800, "comment_id": 66319591, "body": "You do not need <code>IValidatableObject</code> (you class needs a total of 4 lines of code). And I have no idea what you think you doing with the <code>Split()</code> code or what you attempting to do with your <code>onkeyup</code> - both of which are unnecessary."}], "owner": {"reputation": 67, "user_id": 6562496, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b692ef27ee84e3ecb42ba03d85870891?s=128&d=identicon&r=PG&f=1", "display_name": "thatdude", "link": "https://stackoverflow.com/users/6562496/thatdude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473888012, "creation_date": 1473888012, "question_id": 39499800, "link": "https://stackoverflow.com/questions/39499800/ivalidatableobject-not-validating-length-of-3-inputs", "title": "IValidatableObject not validating length of 3 inputs", "body": "<p>I've failed for quite some time trying to figure this out. I am trying to prompt the user for the area code, suffix, and prefix of a phone number. The phone number is only valid if it's at least 7 digits, but no more than 10. I have tried the IValidatableObject method but i cannot get it to work. Any ideas why that is?</p>\n\n<p>class:</p>\n\n<pre><code>public class Pharmacy:IValidatableObject\n    {                           \n        public string PhoneNumber\n        {\n            get\n            {\n                return _phoneNumber;\n            }\n            set\n            {\n                _phoneNumber = value;\n            }\n        }           \n        private string _phoneNumber;\n        [Required]\n        public string Area\n        {\n            get\n            {\n                try\n                {\n                    return _phoneNumber.Split(new char[] { '(', ')', '-' }, StringSplitOptions.RemoveEmptyEntries)[0].Trim();\n                }\n                catch\n                {\n                    return \"\";\n                }\n            }\n        }\n        [Required]\n        public string Prefix\n        {\n            get\n            {\n                try\n                {\n                    return _phoneNumber.Split(new char[] { '(', ')', '-' }, StringSplitOptions.RemoveEmptyEntries)[1].Trim();\n                }\n                catch\n                {\n                    return \"\";\n                }\n            }\n\n        }\n        [Required]\n        public string Suffix\n        {\n            get\n            {\n                try\n                {\n                    return _phoneNumber.Split(new char[] { '(', ')', '-' }, StringSplitOptions.RemoveEmptyEntries)[2].Trim();\n                }\n                catch\n                {\n                    return \"\";\n                }\n            }          \n        }       \n\n        public IEnumerable&lt;ValidationResult&gt; Validate(ValidationContext validationContext)\n        {                \n        var phone = Area.Length + Prefix.Length + Suffix.Length;\n        if (phone &lt; 7) \n        {\n            yield return new ValidationResult(\"Phone number must be longer than 7 digits\");\n        }\n        if (phone &gt; 10)\n        {\n            yield return new ValidationResult(\"Phone number cannot exceed 10 digits\")\n        }     \n        }      \n    }\n</code></pre>\n\n<p>view:</p>\n\n<pre><code>@using (Html.BeginForm(\"AddAccount\", \"RxCard\", FormMethod.Post, new { id = \"Add\", enctype = \"multipart/form-data\" }))\n            {\n                @Html.ValidationSummary(true)\n\n                &lt;fieldset&gt;                 \n                    &lt;div class=\"form\"&gt;                       \n                        &lt;label style=\"margin: 5px\" id=\"lblPhoneNumber\"&gt;Phone Number (optional)&lt;/label&gt;\n                        @Html.TextBoxFor(model =&gt; model.Pharmacy.Area, new {  @onkeyup = \"tabout(this,'Pharmacy_Prefix');\", @maxlength = \"3\", @style = \"float:left; width:5em\" })\n                        @Html.TextBoxFor(model =&gt; model.Pharmacy.Prefix, new { @onkeyup = \"tabout(this,'Pharmacy_Suffix');\", @maxlength = \"3\", @style = \"float:left; width:5em\" })\n                        @Html.TextBoxFor(model =&gt; model.Pharmacy.Suffix, new { @maxlength = \"4\", @style = \"float:left; width:5em\" })\n\n                        &lt;input type=\"hidden\" id=\"IgnoreDuplicate\" name=\"IgnoreDuplicate\" /&gt; \n                    &lt;/div&gt;\n                    &lt;br/&gt;\n                &lt;/fieldset&gt;\n                &lt;button type=\"submit\" value=\"Save\" name=\"AddNew\" id=\"AddNew\" data-toggle=\"modal\"&gt;Save&lt;/button&gt;\n                &lt;button type=\"submit\" value=\"Cancel\"&gt;Cancel&lt;/button&gt; \n            }               \n</code></pre>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "edited": false, "score": 0, "creation_date": 1473888224, "post_id": 39499799, "comment_id": 66317254, "body": "Should <code>&quot;Ah! Mr D&quot;</code> be accepted (the string contains all required characters) or rejected (the string contains three separate words each of them doesn&#39;t contain <i>all</i> expected charactes)?"}, {"owner": {"reputation": 5537, "user_id": 6197785, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/PwBYM.jpg?s=128&g=1", "display_name": "mshwf", "link": "https://stackoverflow.com/users/6197785/mshwf"}, "reply_to_user": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "edited": false, "score": 0, "creation_date": 1473888297, "post_id": 39499799, "comment_id": 66317280, "body": "No, the whole word not a sentence"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1473890926, "post_id": 39499799, "comment_id": 66318242, "body": "If you need to extract those words from longer texts, use <a href=\"http://regexstorm.net/tester?p=%5cb(%3f%3d%5cw%2Am)(%3f%3d%5cw%2Aa)(%3f%3d%5cw%2Ah)(%3f%3d%5cw%2Ad)%5cw%2b&amp;i=Mohamed%2c+Hamada+and+Mahmoud+matches%2c+but+hammer&amp;o=i\" rel=\"nofollow noreferrer\"><code>\\b(?=\\w*m)(?=\\w*a)(?=\\w*h)(?=\\w*d)\\w+</code></a>. If you test them as individual strings, use <code>^(?=\\w*m)(?=\\w*a)(?=\\w*h)(?=\\w*d)\\w+$</code>"}], "answers": [{"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 2, "last_activity_date": 1473891936, "last_edit_date": 1473891936, "creation_date": 1473891523, "answer_id": 39500510, "question_id": 39499799, "link": "https://stackoverflow.com/questions/39499799/regular-expression-to-match-any-word-that-contain-specific-letters-or-more/39500510#39500510", "title": "Regular expression to match any word that contain specific letters or more?", "body": "<p>When you want to match some substrings in any order, you either use alternation where all possible variations are enumerated, or use anchored lookaheads.</p>\n\n<p>In this case, I'd suggest using positive lookaheads that will ensure both free order of the letters in a word and their obligatory presence in the word matched.</p>\n\n<p>Use </p>\n\n<pre><code>(?i)\\b(?=\\w*m)(?=\\w*a)(?=\\w*h)(?=\\w*d)\\w+\n</code></pre>\n\n<p>See the <a href=\"http://regexstorm.net/tester?p=%5Cb(%3F%3D%5Cw*m)(%3F%3D%5Cw*a)(%3F%3D%5Cw*h)(%3F%3D%5Cw*d)%5Cw%2B&amp;i=Mohamed%2C%20Hamada%20and%20Mahmoud%20matches%2C%20but%20hammer&amp;o=i\" rel=\"nofollow\">regex demo</a> (<strong>NOTE</strong>: You may replace <code>\\w</code> with <code>\\p{L}</code> to only match <em>letters</em>).</p>\n\n<p><em>Details</em>:</p>\n\n<ul>\n<li><code>(?i)</code> - case insensitive mode on</li>\n<li><code>\\b</code>  - a leading word boundary</li>\n<li><code>(?=\\w*m)</code> - after 0+ word chars (i.e. letters, digits or underscores), there must be <code>m</code></li>\n<li><code>(?=\\w*a)</code> - after 0+ word chars, there must be <code>a</code></li>\n<li><code>(?=\\w*h)</code> - after 0+ word chars, there must be <code>h</code></li>\n<li><code>(?=\\w*d)</code> - after 0+ word chars, there must be <code>d</code></li>\n<li><code>\\w+</code> - 1 or more letters, digits or underscores (you may replace with <code>\\p{L}</code> to only match <em>letters</em>).</li>\n</ul>\n\n<p><a href=\"http://ideone.com/8xUGPb\" rel=\"nofollow\">C# demo</a>:</p>\n\n<pre><code>var str  = \"Mohamed, Hamada and Mahmoud match, but not hammer\";\nvar letters = \"mahd\";\nvar pat = string.Format(@\"\\b{0}\\w+\\b\", string.Join(\"\", letters.Select(s =&gt; string.Format(@\"(?=\\w*{0})\", s))));\nvar result = Regex.Matches(str, pat, RegexOptions.IgnoreCase)\n    .Cast&lt;Match&gt;()\n    .Select(match =&gt; match.Value)\n    .ToList();\nConsole.WriteLine(String.Join(\"\\n\", result)); // Demo line\n</code></pre>\n"}], "owner": {"reputation": 5537, "user_id": 6197785, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/PwBYM.jpg?s=128&g=1", "display_name": "mshwf", "link": "https://stackoverflow.com/users/6197785/mshwf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1904, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1473891936, "creation_date": 1473888007, "question_id": 39499799, "link": "https://stackoverflow.com/questions/39499799/regular-expression-to-match-any-word-that-contain-specific-letters-or-more", "title": "Regular expression to match any word that contain specific letters or more?", "body": "<p>I need a Regex to match any word that contains letters: <strong>m+a+h+d</strong> together in any order\nso, <strong>Mohamed</strong>, <strong>Hamada</strong> and <strong>Mahmoud</strong> matches, but <strong>hammer</strong> don't match\nI tried do the following (I'm new to the Regex!):</p>\n\n<pre><code>Regex reg=new Regex(\"[mahd]\");\n</code></pre>\n\n<p>But obviously it is not the correct pattern</p>\n"}, {"tags": ["c#", "wpf", "xaml", "mvvm", "relativesource"], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 6024401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUsMO.jpg?s=128&g=1", "display_name": "mayur rathi", "link": "https://stackoverflow.com/users/6024401/mayur-rathi"}, "edited": false, "score": 0, "creation_date": 1473906788, "post_id": 39500002, "comment_id": 66321975, "body": "This worked for me. very small change, but took a lot of head banging.."}], "tags": [], "owner": {"reputation": 1895, "user_id": 628821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d59544716bd5a710fd50277ce99ffca9?s=128&d=identicon&r=PG", "display_name": "ibebbs", "link": "https://stackoverflow.com/users/628821/ibebbs"}, "is_accepted": true, "score": 0, "last_activity_date": 1473888995, "creation_date": 1473888995, "answer_id": 39500002, "question_id": 39499699, "link": "https://stackoverflow.com/questions/39499699/how-to-get-the-object-of-parent-usecontrol-in-wpf/39500002#39500002", "title": "How to get the object of parent usecontrol in wpf", "body": "<p>You're binding should be as follows:</p>\n\n<pre><code>&lt;MultiBinding Converter=\"{Converters:MyConverter}\"&gt;\n    &lt;Binding /&gt;\n    &lt;Binding RelativeSource=\"{RelativeSource Mode=FindAncestor, AncestorType={x:Type local:UserControl1}}\"  /&gt;\n&lt;/MultiBinding&gt;\n</code></pre>\n\n<p>i.e. The binding should use the <code>RelativeSource</code> property, not the <code>Source</code> property.</p>\n"}, {"comments": [{"owner": {"reputation": 173, "user_id": 6024401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUsMO.jpg?s=128&g=1", "display_name": "mayur rathi", "link": "https://stackoverflow.com/users/6024401/mayur-rathi"}, "edited": false, "score": 0, "creation_date": 1473906692, "post_id": 39500086, "comment_id": 66321952, "body": "I tried this... but Name attribute can not be asigned to user control"}, {"owner": {"reputation": 13881, "user_id": 1474613, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/M34S3.jpg?s=128&g=1", "display_name": "RAM", "link": "https://stackoverflow.com/users/1474613/ram"}, "reply_to_user": {"reputation": 173, "user_id": 6024401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUsMO.jpg?s=128&g=1", "display_name": "mayur rathi", "link": "https://stackoverflow.com/users/6024401/mayur-rathi"}, "edited": false, "score": 0, "creation_date": 1473938743, "post_id": 39500086, "comment_id": 66335768, "body": "@mayurrathi, sorry, i changed the answer. you can test it, i hope it was a shorter solution for you."}], "tags": [], "owner": {"reputation": 13881, "user_id": 1474613, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/M34S3.jpg?s=128&g=1", "display_name": "RAM", "link": "https://stackoverflow.com/users/1474613/ram"}, "is_accepted": false, "score": 0, "last_activity_date": 1473938547, "last_edit_date": 1473938547, "creation_date": 1473889412, "answer_id": 39500086, "question_id": 39499699, "link": "https://stackoverflow.com/questions/39499699/how-to-get-the-object-of-parent-usecontrol-in-wpf/39500086#39500086", "title": "How to get the object of parent usecontrol in wpf", "body": "<p><em>Updated:</em></p>\n\n<p>Try this code:</p>\n\n<pre><code>&lt;Binding RelativeSource=\"{RelativeSource Self}\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 6024401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUsMO.jpg?s=128&g=1", "display_name": "mayur rathi", "link": "https://stackoverflow.com/users/6024401/mayur-rathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 39500002, "answer_count": 2, "score": 0, "last_activity_date": 1473938547, "creation_date": 1473887491, "question_id": 39499699, "link": "https://stackoverflow.com/questions/39499699/how-to-get-the-object-of-parent-usecontrol-in-wpf", "title": "How to get the object of parent usecontrol in wpf", "body": "<p>I have created a user control lets say UserControl1. I have a child control button, by clicking on which I want to pass the object of the UserControl1 and the data bound with the button to the converter. I am using MVVM pattern for command execution.</p>\n\n<p>Lets say the Xaml file for User Control is structured as below</p>\n\n<pre><code>&lt;local:UserControl1 x:Class=\"UserControl1\nxmlns:Converters=\"clr-namespace:MyConverter\" \nxmlns:......&gt;\n</code></pre>\n\n<p>somewhere in the Xaml there is a Listbox containing the ListItem and a button for doing some action on the ListBox as represented below</p>\n\n<pre><code> &lt;ListBox x:Name=\"SomeViewmodel\" MinWidth=\"300\" MaxWidth=\"300\" Height =\"Auto\"  HorizontalContentAlignment=\"Stretch\" VerticalContentAlignment=\"Stretch\"  &gt;\n&lt;ListBox.ItemTemplate&gt;\n     &lt;DataTemplate&gt;\n             &lt;Grid x:Name=\"LayoutGrid\"&gt;\n                 &lt;Grid.ColumnDefinitions&gt;\n                     &lt;ColumnDefinition Width=\"*\" /&gt;\n                     &lt;ColumnDefinition Width=\"{Binding RelativeSource={RelativeSource TemplatedParent}, Path=ActualHeight}\" /&gt;\n                 &lt;/Grid.ColumnDefinitions&gt;\n                 &lt;TextBlock Text=\"{Binding someproperty}\" Grid.Column=\"0\"&gt;\n                 &lt;/TextBlock&gt;\n                 &lt;Border \n                     &lt;Button x:Name=\"btn1\" \"&gt;\n                         &lt;Image Source=\"someImage.png\"/&gt;\n                         &lt;i:Interaction.Triggers&gt;\n                             &lt;i:EventTrigger EventName=\"Click\"&gt;\n                                    &lt;i:InvokeCommandAction Command=\"Commands:MyCommand\" &gt;\n                                       &lt;i:InvokeCommandAction.CommandParameter&gt;\n                                        &lt;MultiBinding Converter=\"{Converters:MyConverter}\"&gt;\n                                            &lt;Binding /&gt;\n                                            &lt;Binding  Source=\"{RelativeSource Mode=FindAncestor, AncestorType={x:Type local:UserControl1}}\"  /&gt;\n                                        &lt;/MultiBinding&gt;\n                                    &lt;/i:InvokeCommandAction.CommandParameter&gt;\n                                &lt;/i:InvokeCommandAction&gt;\n                             &lt;/i:EventTrigger&gt;\n                         &lt;/i:Interaction.Triggers&gt;\n                     &lt;/Button&gt;\n                 &lt;/Border&gt;\n             &lt;/Grid&gt;\n         &lt;/DataTemplate&gt;\n &lt;/ListBox.ItemTemplate&gt;\n</code></pre>\n\n<p></p>\n\n<p>I am able to send the object to the converter but the object recieved at converter is of type <strong>System.Windows.Data.RelativeSource</strong> where as it should be <strong>UserControl1</strong>.</p>\n\n<p>What am I missing? or what should I do to get the UserControl1 Object from RelativeSourceObject ?</p>\n"}, {"tags": ["c#", ".net", "rest", "asp.net-core", "asp.net-core-webapi"], "comments": [{"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1473891555, "post_id": 39499630, "comment_id": 66318448, "body": "Request body streams by default can only be read once. If it&#39;s already read, then there&#39;s something else reading it. If you don&#39;t specify <code>id</code> in your query string, then that binding would read the body looking for <code>id</code> (I think). Try adding a <code>[FromQuery]</code> to your parameter; if that doesn&#39;t fix it, then something else earlier in the pipeline is reading the body."}, {"owner": {"reputation": 317, "user_id": 194778, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/53cd792100052c1dad7eef5ad6c7442d?s=128&d=identicon&r=PG", "display_name": "michajas", "link": "https://stackoverflow.com/users/194778/michajas"}, "reply_to_user": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1473920761, "post_id": 39499630, "comment_id": 66325710, "body": "Thanks, I&#39;ve tried that but it didn&#39;t help :( One thing is that when I change logic to save this stream do disk using FileStream instead of forwarding it everything works great."}], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 194778, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/53cd792100052c1dad7eef5ad6c7442d?s=128&d=identicon&r=PG", "display_name": "michajas", "link": "https://stackoverflow.com/users/194778/michajas"}, "edited": false, "score": 0, "creation_date": 1474017460, "post_id": 39515102, "comment_id": 66370364, "body": "Nope, this didn&#39;t help. In the meantime I&#39;ve tried using plain old HttWebRequest and it worked but I had to use stream CopyTo and this consumes memory so it&#39;s not an option."}], "tags": [], "owner": {"reputation": 5166, "user_id": 6077549, "user_type": "registered", "accept_rate": 5, "profile_image": "https://i.stack.imgur.com/WiL4J.png?s=128&g=1", "display_name": "alltej", "link": "https://stackoverflow.com/users/6077549/alltej"}, "is_accepted": false, "score": 0, "last_activity_date": 1473953778, "creation_date": 1473953778, "answer_id": 39515102, "question_id": 39499630, "link": "https://stackoverflow.com/questions/39499630/webapi-forward-stream-to-other-service/39515102#39515102", "title": "WebApi forward stream to other service", "body": "<p>Can you try this initialized the payload inside the <code>using</code>:</p>\n\n<pre><code>    public async Task Put(string id)\n    {\n        Stream fileContent = Request.Body;\n        using (var handler = new HttpClientHandler() { Credentials = new NetworkCredential(\"XXX\", \"XXX\") })\n        {\n            using (var client = new HttpClient(handler))\n            {\n                client.BaseAddress = new Uri(@\"http://X.X.X.X/documents\");\n\n                using (var payload = new StreamContent(fileContent))\n                {\n                    var response =\n                        await client.PutAsync(string.Format(\"?uri={0}.xml\", id), payload);\n\n                    if (response.IsSuccessStatusCode)\n                    {\n                        Created(\"urltocontent\", null);\n                    }\n                    else\n                    {\n                        BadRequest();\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 194778, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/53cd792100052c1dad7eef5ad6c7442d?s=128&d=identicon&r=PG", "display_name": "michajas", "link": "https://stackoverflow.com/users/194778/michajas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1087, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1473953778, "creation_date": 1473887173, "last_edit_date": 1473919626, "question_id": 39499630, "link": "https://stackoverflow.com/questions/39499630/webapi-forward-stream-to-other-service", "title": "WebApi forward stream to other service", "body": "<p>I have a problem with .NET Core 1.0 and WebAPI. I wanted to do simple controller that will forward data stream coming into PUT method to another REST service without any need to store this data in memory.\nIn classic ASP.NET WebAPI there is no problem to do this using this code:</p>\n\n<pre><code>\n\n    public async Task Put(string id)\n    {\n        var fileContent = this.Request.Content;\n        using (var handler = new HttpClientHandler() { Credentials = new NetworkCredential(\"XXX\", \"XXX\") })\n        {\n            using (var client = new HttpClient(handler))\n            {\n                client.BaseAddress = new Uri(@\"http://X.X.X.X/documents\");\n\n                var response =\n                    await client.PutAsync(string.Format(\"?uri={0}.xml\", id), fileContent);\n                if (response.IsSuccessStatusCode)\n                {\n                    Created(\"urltocontent\", \"empty\");\n                }\n                else\n                {\n                    BadRequest();\n                }\n\n            }\n        }\n\n</code></pre>\n\n<p>But on .NET Core 1.0 ASP.NET WebAPI I'm getting error saying that the stream was already consumed. Below I've attached .NET Core code. I think that I've tried everything but I'm still getting this error. \nIs it a bug or feature of .NET Core and I have to do it in different way?</p>\n\n<pre><code>\n\n    public async Task Put(string id)\n    {\n        Stream fileContent = Request.Body;\n        using (var handler = new HttpClientHandler() { Credentials = new NetworkCredential(\"XXX\", \"XXX\") })\n        {\n            using (var client = new HttpClient(handler))\n            {\n                client.BaseAddress = new Uri(@\"http://X.X.X.X/documents\");\n\n                var payload = new StreamContent(fileContent);\n\n                var response =\n                    await client.PutAsync(string.Format(\"?uri={0}.xml\", id), payload);\n                if (response.IsSuccessStatusCode)\n                {\n                    Created(\"urltocontent\", null);\n                }\n                else\n                {\n                    BadRequest();\n                }\n            }\n        }\n    }\n\n</code></pre>\n"}, {"tags": ["c#", "json"], "comments": [{"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 3, "creation_date": 1473887189, "post_id": 39499614, "comment_id": 66316852, "body": "First, fix your json"}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1473888008, "post_id": 39499614, "comment_id": 66317178, "body": "Use one of the online JSON to C# sites, e.g. <a href=\"http://json2csharp.com/\" rel=\"nofollow noreferrer\">json2csharp.com</a>"}, {"owner": {"reputation": 1632, "user_id": 1137382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b70bf08ba67ec43e13287b989ac566b8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Hewitt", "link": "https://stackoverflow.com/users/1137382/jim-hewitt"}, "edited": false, "score": 0, "creation_date": 1473893621, "post_id": 39499614, "comment_id": 66319019, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/35481066/deserializing-json-object-into-c-sharp-list\">Deserializing JSON Object into C# list</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3377, "user_id": 6469077, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-T1ldpGXuFB8/AAAAAAAAAAI/AAAAAAAAAFI/WTreL2saDJ4/photo.jpg?sz=128", "display_name": "Nico", "link": "https://stackoverflow.com/users/6469077/nico"}, "is_accepted": true, "score": 1, "last_activity_date": 1473887361, "creation_date": 1473887361, "answer_id": 39499675, "question_id": 39499614, "link": "https://stackoverflow.com/questions/39499614/deserialize-json-string-into-net-object-nested-collection-dictionary/39499675#39499675", "title": "Deserialize JSON string into .net Object Nested (Collection) Dictionary", "body": "<p>If your fieldnames matches the JSON names you don't need the attributes. This model should match your JSON:</p>\n\n<pre><code>public class WckyObj\n{\n    public string wackyId {get; set;}\n    public string wackyType {get; set;}\n    public string wackyCnfdc {get; set;}\n    public List&lt;WckyArray&gt; wckyArr {get; set;}\n}\n\npublic class WckyArray\n{\n    public string fieldName {get; set;}\n    public string fieldValue {get; set;}\n    public string fieldConfidence {get; set;}\n}\n</code></pre>\n\n<p>Now you should be able to deserialize your JSON via <code>JsonConvert.DeserializeObject&lt;List&lt;WckyObj&gt;&gt;</code></p>\n"}], "owner": {"reputation": 8406, "user_id": 729820, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6dbeb0f74def1018a898d9efe8a3ba28?s=128&d=identicon&r=PG", "display_name": "SoftwareSavant", "link": "https://stackoverflow.com/users/729820/softwaresavant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 39499675, "answer_count": 1, "score": -1, "last_activity_date": 1473891348, "creation_date": 1473887051, "last_edit_date": 1473891348, "question_id": 39499614, "link": "https://stackoverflow.com/questions/39499614/deserialize-json-string-into-net-object-nested-collection-dictionary", "title": "Deserialize JSON string into .net Object Nested (Collection) Dictionary", "body": "<p>I might be being an idiot here, but I have been looking at this for the last hour now and I can't make heads or tails of how to do this.  I find the best way to power through these sorts of things is to let it stew for a while, and in the meantime post a stack overflow question in case someone else had the same question.\nAny way, I have a json object that looks like this:</p>\n\n<pre><code> [{\n \"wackyId\": \"wck1\",\n \"wackyType\": \"wck2\",\n \"wackyCnfdc\": \"wck3\",\n \"wckyArr\": [{\n    \"fieldName\": \"Full_Name\",\n    \"fieldValue\": \"Some Text here\",\n    \"fieldConfidence\": \"0.3\"\n }, {\n    \"fieldName\": \"Full_Name\",\n    \"fieldValue\": \"Some Text here2\",\n    \"fieldConfidence\": \"0.2\"\n }, {\n    \"fieldName\": \"Full_Name\",\n    \"fieldValue\": \"Some Text here3\",\n    \"fieldConfidence\": \"0.3\"\n  }]\n}]\n</code></pre>\n\n<p>I am trying to convert it into use-able .net objects...</p>\n\n<p>Here is what I have so far</p>\n\n<pre><code>public class WckyObj\n{\n  [JsonProperty(\"wackyId\")]\n  public string wackyId{get; set;}\n  [JsonProperty(\"wackyType\")]\n  public string wackyType{get; set;}\n  [JsonProperty(\"wackyCnfdc\")]\n  public string wackyCnfdc{get; set;}\n  [JsonProperty(\"fields)]\n  public List&lt;multiFields&gt; mutliFields {get; set;}\n}\n\npublic class multiFields{\n  [JsonProperty(\"fields\")]\n  public IEnumerable&lt;IDictionary&lt;string, string&gt;&gt; multiFields {get;set;}\n}\n</code></pre>\n\n<p>right now I am currently getting back a result set with no values???  Not sure what I am missing.  I have probably been staring at it to long.</p>\n\n<p><strong>EDIT:  Good eye posters.  I should have ran my json through JSON lint first, but I was overconfident in my skillz.  Updated to be more correct</strong></p>\n"}, {"tags": ["c#", "winforms", "uac"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 7, "creation_date": 1473886988, "post_id": 39499564, "comment_id": 66316775, "body": "Wouldnt every virus, trojan and malware exploit this?"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 2, "creation_date": 1473887054, "post_id": 39499564, "comment_id": 66316794, "body": "The normal way around this is you have a windows service that runs with system privileges that your program talks to that gets set up during the installation phase."}, {"owner": {"reputation": 2141, "user_id": 1644471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cc67b23ba788b61fc17fdf4af314c378?s=128&d=identicon&r=PG", "display_name": "mottosson", "link": "https://stackoverflow.com/users/1644471/mottosson"}, "edited": false, "score": 0, "creation_date": 1473887148, "post_id": 39499564, "comment_id": 66316837, "body": "Yes I know the UAC is there for that reason. But there must be software out there that has admin rights without the warning, right??"}, {"owner": {"reputation": 2414, "user_id": 379371, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/PyA3B.png?s=128&g=1", "display_name": "InfZero", "link": "https://stackoverflow.com/users/379371/infzero"}, "edited": false, "score": 0, "creation_date": 1473887230, "post_id": 39499564, "comment_id": 66316869, "body": "Use a security certificate, and optionally put the program in Program Files folder."}, {"owner": {"reputation": 2414, "user_id": 379371, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/PyA3B.png?s=128&g=1", "display_name": "InfZero", "link": "https://stackoverflow.com/users/379371/infzero"}, "edited": false, "score": 0, "creation_date": 1473887335, "post_id": 39499564, "comment_id": 66316917, "body": "Try to find a similar solution which implements StrokesPlus to enable UAC: <a href=\"http://www.strokesplus.com/forum/topic/814/version-276\" rel=\"nofollow noreferrer\">strokesplus.com/forum/topic/814/version-276</a>"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "reply_to_user": {"reputation": 2414, "user_id": 379371, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/PyA3B.png?s=128&g=1", "display_name": "InfZero", "link": "https://stackoverflow.com/users/379371/infzero"}, "edited": false, "score": 0, "creation_date": 1473887347, "post_id": 39499564, "comment_id": 66316922, "body": "@InfZero <a href=\"https://technet.microsoft.com/en-us/magazine/2009.07.uac.aspx#id0560031\" rel=\"nofollow noreferrer\">Actually</a>, it has to be a security certificate signed by the &quot;Windows publisher&quot; and it must be in a &quot;Secure directory&quot; like <code>%SystemRoot%\\System32</code>."}, {"owner": {"reputation": 2141, "user_id": 1644471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cc67b23ba788b61fc17fdf4af314c378?s=128&d=identicon&r=PG", "display_name": "mottosson", "link": "https://stackoverflow.com/users/1644471/mottosson"}, "reply_to_user": {"reputation": 2414, "user_id": 379371, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/PyA3B.png?s=128&g=1", "display_name": "InfZero", "link": "https://stackoverflow.com/users/379371/infzero"}, "edited": false, "score": 0, "creation_date": 1473887692, "post_id": 39499564, "comment_id": 66317063, "body": "@InfZero isn&#39;t it really complicated to implement, and possibly expensive to buy a certificate?"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1473887940, "post_id": 39499564, "comment_id": 66317148, "body": "@mottosson No, it is impossible to implement. The only things signed with the &quot;Windows publisher&quot; certificate are pieces of software that ships with windows."}, {"owner": {"reputation": 2141, "user_id": 1644471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cc67b23ba788b61fc17fdf4af314c378?s=128&d=identicon&r=PG", "display_name": "mottosson", "link": "https://stackoverflow.com/users/1644471/mottosson"}, "edited": false, "score": 0, "creation_date": 1473890564, "post_id": 39499564, "comment_id": 66318138, "body": "I thought of something. Is it possible to start the application without privileges and only get the UAC when I run the function the actually needs it. That way I could autostart it without the warning."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 3, "creation_date": 1473944667, "post_id": 39499564, "comment_id": 66339390, "body": "A program starts elevated or not, it can not be &quot;upgraded&quot; while running. However what you can do is launch a 2nd copy of the program as administrator with some command line arguments that tell it to do the work then exit."}, {"owner": {"reputation": 2141, "user_id": 1644471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cc67b23ba788b61fc17fdf4af314c378?s=128&d=identicon&r=PG", "display_name": "mottosson", "link": "https://stackoverflow.com/users/1644471/mottosson"}, "edited": false, "score": 0, "creation_date": 1473944864, "post_id": 39499564, "comment_id": 66339549, "body": "Yep, this is probably the way to go. I have to think about it a bit. Thanks!"}, {"owner": {"reputation": 57221, "user_id": 3032289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c171ec0f2c8040d24436a40a3bf075b?s=128&d=identicon&r=PG", "display_name": "Luaan", "link": "https://stackoverflow.com/users/3032289/luaan"}, "edited": false, "score": 0, "creation_date": 1473945381, "post_id": 39499564, "comment_id": 66339916, "body": "The problem is that any application is a potential backdoor to a system. If you have just one &quot;totally safe admin application&quot; that can avoid UAC, all you need to do is add your own <code>user32.dll</code> (or such) to that application&#39;s directory, and yay! You have full access to the computer. You need to be able to verify the application and all its dependencies, and ensure that none of those have been changed by an attacker. That&#39;s why you want to install applications in Program Files, by the way, and why installers should always be administrator-level applications."}], "answers": [{"comments": [{"owner": {"reputation": 2141, "user_id": 1644471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cc67b23ba788b61fc17fdf4af314c378?s=128&d=identicon&r=PG", "display_name": "mottosson", "link": "https://stackoverflow.com/users/1644471/mottosson"}, "edited": false, "score": 0, "creation_date": 1473887584, "post_id": 39499622, "comment_id": 66317020, "body": "Yes I need to set the environment &quot;System variables&quot; because the licens management software we&#39;re using is reading from there."}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "reply_to_user": {"reputation": 2141, "user_id": 1644471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cc67b23ba788b61fc17fdf4af314c378?s=128&d=identicon&r=PG", "display_name": "mottosson", "link": "https://stackoverflow.com/users/1644471/mottosson"}, "edited": false, "score": 0, "creation_date": 1473892247, "post_id": 39499622, "comment_id": 66318615, "body": "@mottosson System variables seems like an odd place for licensing information. Wouldn&#39;t the registry or some kind of config file be more appropriate? Then you wouldn&#39;t even have to worry about UAC."}, {"owner": {"reputation": 2141, "user_id": 1644471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cc67b23ba788b61fc17fdf4af314c378?s=128&d=identicon&r=PG", "display_name": "mottosson", "link": "https://stackoverflow.com/users/1644471/mottosson"}, "edited": false, "score": 0, "creation_date": 1473921326, "post_id": 39499622, "comment_id": 66325950, "body": "The problem is that we are using a third party license manager, that&#39;s reading information from env-vars. We can&#39;t do anything about this."}], "tags": [], "owner": {"reputation": 2115, "user_id": 6810689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OP5tU.jpg?s=128&g=1", "display_name": "Scott Perham", "link": "https://stackoverflow.com/users/6810689/scott-perham"}, "is_accepted": false, "score": -2, "last_activity_date": 1473887113, "creation_date": 1473887113, "answer_id": 39499622, "question_id": 39499564, "link": "https://stackoverflow.com/questions/39499564/can-i-get-rid-of-uac-warning-when-autostart-with-windows/39499622#39499622", "title": "Can I get rid of UAC warning when autostart with Windows?", "body": "<p>UAC is there to protect the Windows User by alerting them (and requiring an explicit action) that a particular application is requesting elevated permissions. If it was possible to bypass it from with the application itself them it would leave it a little pointless :)</p>\n\n<p>I would assume that you are looking to change environment variables globally because I believe that you <em>can</em> change them for the current process without being elevated.</p>\n"}, {"tags": [], "owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "is_accepted": false, "score": 0, "last_activity_date": 1473944864, "last_edit_date": 1495540850, "creation_date": 1473888109, "answer_id": 39499822, "question_id": 39499564, "link": "https://stackoverflow.com/questions/39499564/can-i-get-rid-of-uac-warning-when-autostart-with-windows/39499822#39499822", "title": "Can I get rid of UAC warning when autostart with Windows?", "body": "<p>The normal way around this is you have a windows service that runs with system privileges that will set the environment variables for you. </p>\n\n<p>You will need to have your installer install the service and set it to auto start. Then your tray application will need to communicate with the service with some kind of Inter-Process Communication (like WCF), the tray program can then send the requests to change the variable and the service can execute those changes.</p>\n\n<hr>\n\n<p>Another way to handle this is start your program un-elevated then when you need to do something that requires UAC privileges you <a href=\"https://stackoverflow.com/questions/2532769/how-to-start-a-process-as-administrator-mode-in-c-sharp\">launch a new copy of your program as an administrator</a> and pass in command line arguments that tell it to do the work you need done then exit. You also could have your program check to see if it is an admin, and if it already is elevated it could skip the step of starting the new copy.</p>\n"}, {"tags": [], "owner": {"reputation": 219318, "user_id": 12597, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4b534325156758d6592fb624d7b60e22?s=128&d=identicon&r=PG", "display_name": "Ian Boyd", "link": "https://stackoverflow.com/users/12597/ian-boyd"}, "is_accepted": false, "score": 0, "last_activity_date": 1474898570, "creation_date": 1474898570, "answer_id": 39705006, "question_id": 39499564, "link": "https://stackoverflow.com/questions/39499564/can-i-get-rid-of-uac-warning-when-autostart-with-windows/39705006#39705006", "title": "Can I get rid of UAC warning when autostart with Windows?", "body": "<p>What you need to do is move the license information to a location that all users can write to:</p>\n\n<ul>\n<li>user's own environment variable</li>\n<li>%CSIDL_COMMON_APPDATA% (e.g. <code>C:\\ProgramData</code>, which all users can write to)</li>\n<li>HKEY_CURRENT_USER</li>\n</ul>\n\n<p>The ideal solution involves writing to a common machine-wide location:</p>\n\n<ul>\n<li>%CSIDL_COMMON_APPDATA% (e.g. <code>C:\\ProgramData</code>)</li>\n<li>HKEY_LOCAL_MACHINE/Software/Contoso/License</li>\n<li>C:\\Program Files\\Contoso\\License\\license.txt</li>\n</ul>\n\n<h2>Legacy software can't be changed</h2>\n\n<p>But assuming there are many existing unchangeable applications that cannot be altered to look anywhere else but an environment variable for license information you can (after you smack that guy who designed that):</p>\n\n<ul>\n<li>write the license information to the user's own environment variable</li>\n</ul>\n\n<p>Your switching tool will call:</p>\n\n<pre><code>SetEnvironmentVariable(\"ContosoLicenseInfo\", \"V2h5IGFyZSB5b3UgZGVjb2RpbmcgdGhpbmdzIHRoYXQgZG9uJ3QgYmVsb25nIHRvIHlvdT8=\");\n</code></pre>\n\n<h2>What would you have done under Windows XP</h2>\n\n<p>All this hand-wringing about UAC. You have to ask yourself: </p>\n\n<blockquote>\n  <p>What would I have done under Windows XP?</p>\n</blockquote>\n\n<p>Without UAC, and the user running as a standard user, what will your license switching tool have done?</p>\n\n<ul>\n<li>would have it crashed horribly on startup?</li>\n<li>would it have crashed as soon as the user tried to use it?</li>\n<li>would it have failed in a polite way?</li>\n<li>would it show a message on startup saying: <em>\"Sorry, no.\"</em>?</li>\n</ul>\n\n<h2>What would you have done under Windows 7?</h2>\n\n<p>Even better, you have to ask what you would have done for a user running under Windows 7? A standard user logs in, and you have a program in their startup group that claims to require administrative privileges.</p>\n\n<p>The user needs to go get an administrator during login to run your tool? That's not going to fly.</p>\n\n<ul>\n<li>If you're dead set against using a per-user location. </li>\n<li>If you're dead set against using a common location that all users can write to</li>\n</ul>\n\n<p>Then change your tool to run without needing user privileges.</p>\n\n<p>Only when the user goes to do something do you <em>need</em> admin privileges.</p>\n\n<p>Check if the user is an admin:</p>\n\n<pre><code>Boolean IsUserAnAdmin()\n{\n    PSID administratorsGroup;\n    administratorsGroup = AllocateAndInitializeSid(SECURITY_NT_AUTHORITY, 2, SECURITY_BUILTIN_DOMAIN_RID, DOMAIN_ALIAS_RID_ADMINS, 0, 0, 0, 0, 0, 0);\n\n    Boolean result = CheckTokenMembership(0, administratorsGroup);\n    FreeSid(administratorsGroup);\n}\n</code></pre>\n\n<p>If they are an admin, you can perform the action as in.</p>\n\n<p>If the user is not an admin, then you put the UAC shield on the <img src=\"https://i.stack.imgur.com/lBFti.png\" alt=\"Yellow-Blue Windows Security Icon\"> <strong>Apply</strong> button. </p>\n\n<p>You then re-launch your tool as an admin:</p>\n\n<pre><code>ShellExecute(\"runas\", \"C:\\Program Files\\Contoso\\LicenseSwitcher.exe\", ...); //the \"runas\" verb triggers elevation\n</code></pre>\n\n<h2>But what would you do under Windows 7</h2>\n\n<p>None of the UAC stuff works if UAC is disabled. In that case: you are a standard user, and that's it.</p>\n\n<p>In that case, it really is best to convert to:</p>\n\n<ul>\n<li>machine wide location for the default license</li>\n<li>per-user location if you want to choose your own</li>\n</ul>\n"}], "owner": {"reputation": 2141, "user_id": 1644471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cc67b23ba788b61fc17fdf4af314c378?s=128&d=identicon&r=PG", "display_name": "mottosson", "link": "https://stackoverflow.com/users/1644471/mottosson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 292, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1474898570, "creation_date": 1473886777, "last_edit_date": 1473921676, "question_id": 39499564, "link": "https://stackoverflow.com/questions/39499564/can-i-get-rid-of-uac-warning-when-autostart-with-windows", "title": "Can I get rid of UAC warning when autostart with Windows?", "body": "<p>I have written a small program in c# that helps with switching between licenses for my company. It's a tray icon with a menu with the different choices.</p>\n\n<p>It changes an environment variable and needs to have elevated rights in its manifest.</p>\n\n<p>This means that the UAC warning shows up every time the program starts, which is not ideal because it would be really nice to have the program on autostart when Windows starts, without the warning showing up all the time.</p>\n\n<p>Are there a good way to do this?</p>\n\n<p>Is it possible to:</p>\n\n<ul>\n<li>Run the program without elevated privileges and only get the UAC\nwarning when I call the function to change the variables.</li>\n<li>Change the\nenvironment variables without admin rights.</li>\n<li>Add the program to a \"white list\" programmatically (although more realistic, add it manually)</li>\n</ul>\n\n<p>I know the UAC is there to protect from malicious software, but it would be really nice to solve this in a way that enables me to start the program at Windows start.</p>\n\n<p>I haven't been able to fine any silver bullet on this problem.</p>\n\n<p>Any advise?</p>\n"}, {"tags": ["c#", "monodevelop", "unity5", "scene-manager"], "comments": [{"owner": {"reputation": 501, "user_id": 6192538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f29cc02157105846171e815429f19bc?s=128&d=identicon&r=PG&f=1", "display_name": "Agustin0987", "link": "https://stackoverflow.com/users/6192538/agustin0987"}, "edited": false, "score": 0, "creation_date": 1473993387, "post_id": 39499521, "comment_id": 66361436, "body": "Do you get some error? Does it change to the wrong scene? Does it change scene at all? What is the code inside <code>SceneManager.LoadScene</code>? With a little bit more of detail I could actually help you."}], "answers": [{"tags": [], "owner": {"reputation": 132, "user_id": 6428053, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1212697788742524/picture?type=large", "display_name": "Alan-Dean Simonds", "link": "https://stackoverflow.com/users/6428053/alan-dean-simonds"}, "is_accepted": false, "score": 1, "last_activity_date": 1474065035, "last_edit_date": 1474065035, "creation_date": 1473993590, "answer_id": 39523012, "question_id": 39499521, "link": "https://stackoverflow.com/questions/39499521/going-to-the-next-scene-in-the-built-index-order/39523012#39523012", "title": "Going to the next scene in the built index order", "body": "<p>Add <code>using UnityEngine.SceneManagement;</code> to the top of your script, also make sure you add the level to the build index through file > build options.</p>\n"}], "owner": {"reputation": 11, "user_id": 6798887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b676deffebbeda9b1831fbc0bcc71b86?s=128&d=identicon&r=PG&f=1", "display_name": "arshia9", "link": "https://stackoverflow.com/users/6798887/arshia9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1474065035, "creation_date": 1473886600, "question_id": 39499521, "link": "https://stackoverflow.com/questions/39499521/going-to-the-next-scene-in-the-built-index-order", "title": "Going to the next scene in the built index order", "body": "<p>I have this piece of code for going to the next scene when the space pressed in built index order (for example , scene a is number 0 , scene b is number 1 and ... ) , but it doesn't work .  </p>\n\n<pre><code>void Update () {\n\n    if (Input.GetKey (KeyCode.Space)) {\n        int nextSceneIndex = SceneManager.GetActiveScene ().buildIndex + 1;\n        SceneManager.LoadScene (nextSceneIndex);\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "ms-word", "textbox"], "comments": [{"owner": {"reputation": 218, "user_id": 5624940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a64af18c50dc31749efbe06a5e50648?s=128&d=identicon&r=PG&f=1", "display_name": "PhantomWhiskers", "link": "https://stackoverflow.com/users/5624940/phantomwhiskers"}, "edited": false, "score": 0, "creation_date": 1473888019, "post_id": 39499513, "comment_id": 66317181, "body": "It seems you are giving the exact same values for the <code>left</code> and <code>top</code> parameter in the function <code>AddTextbox</code> on each iteration of the loop. The parameters are as follows: <code>AddTextbox(Orientation, Left, Top, Width, Height)</code> so you probably need to programmatically change the values for <code>Left</code> and <code>Top</code> as needed."}, {"owner": {"reputation": 296, "user_id": 6580438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8469abd212e1d419a640795755aeddd7?s=128&d=identicon&r=PG&f=1", "display_name": "Marc Lyon", "link": "https://stackoverflow.com/users/6580438/marc-lyon"}, "edited": false, "score": 1, "creation_date": 1473893859, "post_id": 39499513, "comment_id": 66319072, "body": "you are adding the TextBox directly to the Doc. I&#39;m not an expert here, but wouldn&#39;t you want to add them to the Section? I would expect a pile of 25 things in the document based upon that code. You will have to probably format the Section to give it its&#39; own page."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10347844, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lmpsUdWRKvA/AAAAAAAAAAI/AAAAAAAAAmc/aAvPpqAwJKc/photo.jpg?sz=128", "display_name": "Mohsin Ali", "link": "https://stackoverflow.com/users/10347844/mohsin-ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1553084683, "last_edit_date": 1553084683, "creation_date": 1553080330, "answer_id": 55259400, "question_id": 39499513, "link": "https://stackoverflow.com/questions/39499513/inserting-textboxes-in-word-with-c/55259400#55259400", "title": "Inserting textboxes in Word with C#", "body": "<p>just add these two lines before closing tag of loop</p>\n\n<pre><code>// this line will help you to break the page...\n\noDoc.Words.Last.InsertBreak(word.WdBreakType.wdPageBreak);\n\n// this line will help to go to the next page and add textbox...\n\noDoc.PageSetup.Application.GoForward();\n</code></pre>\n\n<p>this works for me :)</p>\n"}], "owner": {"reputation": 21, "user_id": 5823426, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CH2s.jpg?s=128&g=1", "display_name": "gchollick", "link": "https://stackoverflow.com/users/5823426/gchollick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 996, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553084683, "creation_date": 1473886563, "last_edit_date": 1473893200, "question_id": 39499513, "link": "https://stackoverflow.com/questions/39499513/inserting-textboxes-in-word-with-c", "title": "Inserting textboxes in Word with C#", "body": "<p>So far, haven't found answer to this on Stack.  I'm programmatically adding sections to a document, and each section has to have a textbox.  Here's the code as it stands:</p>\n\n<pre><code>   for (int i = 1; i &lt;= 24; i++)\n   {\n     Microsoft.Office.Interop.Word.Section section = oDoc.Sections.Add();\n     Microsoft.Office.Interop.Word.Shape textbox =   \n\n        Doc.Shapes.AddTextbox(Microsoft.Office.Core.\n        MsoTextOrientation.msoTextOrientationVertical, 575, 50, 30, 100);\n\n   }\n</code></pre>\n\n<p>Sorry about the formatting.  The result is a document with 25 pages, but all the textframes are piled on top of each other, on the first page.  </p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 364, "user_id": 5294783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Tvf5.jpg?s=128&g=1", "display_name": "Matthew Chrobak", "link": "https://stackoverflow.com/users/5294783/matthew-chrobak"}, "edited": false, "score": 0, "creation_date": 1473887081, "post_id": 39499476, "comment_id": 66316806, "body": "Whenever you use Linq, you&#39;re going to receive a data collection in return. The Where statement allows you to refine what elements are in the resulting collection, and Select allows you to perform an operation on each element. I highly recommend you do some simple tutorials in Linq before attempting this."}, {"owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "reply_to_user": {"reputation": 364, "user_id": 5294783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Tvf5.jpg?s=128&g=1", "display_name": "Matthew Chrobak", "link": "https://stackoverflow.com/users/5294783/matthew-chrobak"}, "edited": false, "score": 0, "creation_date": 1473887384, "post_id": 39499476, "comment_id": 66316936, "body": "I also tried export.Sort = from d in sortedData                                       where d.ItemId == export.Id                                       select d.Sort; But this didn&#39;t work either because it doesn&#39;t find d.ItemId"}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1473892204, "post_id": 39499476, "comment_id": 66318603, "body": "The code sample you provide won&#39;t compile."}], "answers": [{"tags": [], "owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1473892115, "last_edit_date": 1473892115, "creation_date": 1473891231, "answer_id": 39500452, "question_id": 39499476, "link": "https://stackoverflow.com/questions/39499476/how-to-query-an-array-of-objects-in-c/39500452#39500452", "title": "How to query an array of objects in C#", "body": "<p>As I understand it, you want the Sort property from the item that matches that particular ID. This being the case, you have a few problems with what you've written:<br/></p>\n\n<ul>\n<li>\"Where\" and \"Select\" both take Lambda expressions, not property names and expressions, so the code snippet you provide shouldn't compile.</li>\n<li>\"Where\" and \"Select\" both return collections (even if there's only one item that actually matches the \"Where\" filter; in fact, even if <em>no</em> items in the collection match the condition in the \"Where\" clause it'll still return a collection, albeit an empty one). Think of LINQ Select more in terms of running a transform on a collection and LINQ \"Where\" as applying a filter to one.</li>\n<li>As a general rule for LINQ queries, if possible, you should actually run \"where\" before \"select\" (filter first, then apply some kind of transform to the remaining items).</li>\n<li>In this case, I think you actually just want one item, so you can actually use \"FirstOrDefault\" instead of \"Where.\" This will leave you with a single .NET object. This is analogous to the TOP 1 restriction in SQL. Once you have the .NET object you can retrieve the property from the object itself.</li>\n</ul>\n\n<p>Try this:</p>\n\n<pre><code>foreach(OrganizationForExportWithSort export in dataWithSort)\n        {\n                export.Sort = sortedData.FirstOrDefault(data =&gt; data.ItemId == export.Id)?.Sort;\n        }\n</code></pre>\n\n<p>The \"?\" is a new C# feature that will try to call .Sort on the object if (and only if) the query succeeded in finding an item with that ID. If it doesn't it'll just return null.</p>\n"}, {"tags": [], "owner": {"reputation": 296, "user_id": 6580438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8469abd212e1d419a640795755aeddd7?s=128&d=identicon&r=PG&f=1", "display_name": "Marc Lyon", "link": "https://stackoverflow.com/users/6580438/marc-lyon"}, "is_accepted": false, "score": 0, "last_activity_date": 1473894613, "creation_date": 1473894613, "answer_id": 39500969, "question_id": 39499476, "link": "https://stackoverflow.com/questions/39499476/how-to-query-an-array-of-objects-in-c/39500969#39500969", "title": "How to query an array of objects in C#", "body": "<p>Have you tried Linq sorting?</p>\n\n<pre><code>var sortedData = db.Fetch&lt;object&gt;(\"SELECT ItemId, Sort FROM CollectionItems WHERE CollectionId = @0\", collectionId);\ndataWithSort = db.Fetch&lt;OrganizationForExportWithSort&gt;(TpShared.DAL.StoredProcedures.GetOrganizationsForTargetListUI(clientId, organizationIdList));\n\n// create a list ordered by fields\nvar sorted = dataWithSort.OrderBy(o =&gt; o.SomeField).ThenBy(o =&gt; o.OtherField);\n</code></pre>\n\n<p>The o in the lambda stands for object...</p>\n\n<p>I will add my voice to the chorus of folks saying to read up on some good linq tutorials. <a href=\"https://msdn.microsoft.com/en-us/library/bb397933.aspx\" rel=\"nofollow\" title=\"Here\">Start Here</a></p>\n"}], "owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 2, "score": -5, "last_activity_date": 1473894613, "creation_date": 1473886398, "last_edit_date": 1473886719, "question_id": 39499476, "link": "https://stackoverflow.com/questions/39499476/how-to-query-an-array-of-objects-in-c", "title": "How to query an array of objects in C#", "body": "<p>I want to query an array of objects \"sortedData\", where each object has two values (ItemId, Sort), for a specific ItemId and set the 'Sort' value. Like this below but this isn't the correct linq syntax.</p>\n\n<pre><code>var sortedData = db.Fetch&lt;object&gt;(\"SELECT ItemId, Sort FROM CollectionItems WHERE CollectionId = @0\", collectionId);\ndataWithSort = db.Fetch&lt;OrganizationForExportWithSort&gt;(TpShared.DAL.StoredProcedures.GetOrganizationsForTargetListUI(clientId, organizationIdList));\nforeach(OrganizationForExportWithSort export in dataWithSort)\n            {\n                    export.Sort = sortedData.Select(\"Sort\").Where(sortedData.ItemId == export.Id);\n            } \n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "asp.net-core", "database-schema", "entity-framework-core"], "comments": [{"owner": {"reputation": 2959, "user_id": 819153, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a691c06e10ba780802b6df69be781637?s=128&d=identicon&r=PG", "display_name": "Zinov", "link": "https://stackoverflow.com/users/819153/zinov"}, "edited": false, "score": 0, "creation_date": 1527188060, "post_id": 39499470, "comment_id": 88045093, "body": "can you post the workaround you did with the IModelCacheKeyFactory?"}, {"owner": {"reputation": 1811, "user_id": 3272018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8bf00e1490c0a2b4aa71f2f8fc2c387?s=128&d=identicon&r=PG&f=1", "display_name": "user3272018", "link": "https://stackoverflow.com/users/3272018/user3272018"}, "reply_to_user": {"reputation": 2959, "user_id": 819153, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a691c06e10ba780802b6df69be781637?s=128&d=identicon&r=PG", "display_name": "Zinov", "link": "https://stackoverflow.com/users/819153/zinov"}, "edited": false, "score": 0, "creation_date": 1527251967, "post_id": 39499470, "comment_id": 88070492, "body": "@Zinov I&#39;ve done it, but please, take care with it. <a href=\"https://stackoverflow.com/a/50529432/3272018\">stackoverflow.com/a/50529432/3272018</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1811, "user_id": 3272018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8bf00e1490c0a2b4aa71f2f8fc2c387?s=128&d=identicon&r=PG&f=1", "display_name": "user3272018", "link": "https://stackoverflow.com/users/3272018/user3272018"}, "edited": false, "score": 4, "creation_date": 1473960921, "post_id": 39515554, "comment_id": 66349966, "body": "Could you please provide some details or links to some documentation/blogs/tutorials?"}, {"owner": {"reputation": 5726, "user_id": 313199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72dbf226db92874754ec6022d43ba372?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas Voracek", "link": "https://stackoverflow.com/users/313199/tomas-voracek"}, "reply_to_user": {"reputation": 1811, "user_id": 3272018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8bf00e1490c0a2b4aa71f2f8fc2c387?s=128&d=identicon&r=PG&f=1", "display_name": "user3272018", "link": "https://stackoverflow.com/users/3272018/user3272018"}, "edited": false, "score": 0, "creation_date": 1485948496, "post_id": 39515554, "comment_id": 71134785, "body": "@user3272018 I have same problem, there is no documentation or samples how to implement IModelCacheKeyFactory in EF Core properly."}, {"owner": {"reputation": 1811, "user_id": 3272018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8bf00e1490c0a2b4aa71f2f8fc2c387?s=128&d=identicon&r=PG&f=1", "display_name": "user3272018", "link": "https://stackoverflow.com/users/3272018/user3272018"}, "reply_to_user": {"reputation": 5726, "user_id": 313199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72dbf226db92874754ec6022d43ba372?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas Voracek", "link": "https://stackoverflow.com/users/313199/tomas-voracek"}, "edited": false, "score": 1, "creation_date": 1485951674, "post_id": 39515554, "comment_id": 71136895, "body": "@tomas-voracek Oh, eventually I did it. I will provide that code as self-answer a little bit later. I&#39;m sure it&#39;s not a perfect way to reach my goal, but it works. Maybe even someone could improve my solution. Sorry for I didn&#39;t do it earlier."}, {"owner": {"reputation": 1006, "user_id": 852123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/263ac0e75718a3966f652cad0be5725e?s=128&d=identicon&r=PG", "display_name": "Diego Garcia", "link": "https://stackoverflow.com/users/852123/diego-garcia"}, "reply_to_user": {"reputation": 1811, "user_id": 3272018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8bf00e1490c0a2b4aa71f2f8fc2c387?s=128&d=identicon&r=PG&f=1", "display_name": "user3272018", "link": "https://stackoverflow.com/users/3272018/user3272018"}, "edited": false, "score": 0, "creation_date": 1531691357, "post_id": 39515554, "comment_id": 89677482, "body": "Hi @user3272018 can you share your solution with us ? I`m trying to accomplish the same thing."}, {"owner": {"reputation": 1811, "user_id": 3272018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8bf00e1490c0a2b4aa71f2f8fc2c387?s=128&d=identicon&r=PG&f=1", "display_name": "user3272018", "link": "https://stackoverflow.com/users/3272018/user3272018"}, "reply_to_user": {"reputation": 1006, "user_id": 852123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/263ac0e75718a3966f652cad0be5725e?s=128&d=identicon&r=PG", "display_name": "Diego Garcia", "link": "https://stackoverflow.com/users/852123/diego-garcia"}, "edited": false, "score": 1, "creation_date": 1531759936, "post_id": 39515554, "comment_id": 89705556, "body": "@Diego, as I mentioned in the question I already did share my solution <a href=\"https://stackoverflow.com/questions/39499470/dynamically-changing-schema-in-entity-framework-core/50529432#50529432\">here</a>"}, {"owner": {"reputation": 1006, "user_id": 852123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/263ac0e75718a3966f652cad0be5725e?s=128&d=identicon&r=PG", "display_name": "Diego Garcia", "link": "https://stackoverflow.com/users/852123/diego-garcia"}, "reply_to_user": {"reputation": 1811, "user_id": 3272018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8bf00e1490c0a2b4aa71f2f8fc2c387?s=128&d=identicon&r=PG&f=1", "display_name": "user3272018", "link": "https://stackoverflow.com/users/3272018/user3272018"}, "edited": false, "score": 0, "creation_date": 1531769128, "post_id": 39515554, "comment_id": 89709910, "body": "@user3272018 thanks I`ve just has to change some minor things but its working nice ;)"}, {"owner": {"reputation": 1400, "user_id": 1543979, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3148dc778207016764f899c00e5a2235?s=128&d=identicon&r=PG", "display_name": "Serhii Kyslyi", "link": "https://stackoverflow.com/users/1543979/serhii-kyslyi"}, "reply_to_user": {"reputation": 1811, "user_id": 3272018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8bf00e1490c0a2b4aa71f2f8fc2c387?s=128&d=identicon&r=PG&f=1", "display_name": "user3272018", "link": "https://stackoverflow.com/users/3272018/user3272018"}, "edited": false, "score": 0, "creation_date": 1539090486, "post_id": 39515554, "comment_id": 92368849, "body": "@user3272018 similar to yours solution <a href=\"https://stackoverflow.com/questions/37180426/how-to-change-database-schema-on-runtime-in-ef7-or-ef-core/52721650#52721650\" title=\"how to change database schema on runtime in ef7 or ef core\">stackoverflow.com/questions/37180426/&hellip;</a>"}], "tags": [], "owner": {"reputation": 23568, "user_id": 475031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0acdc3c6c824b2a2d798ea94e49a5e5?s=128&d=identicon&r=PG", "display_name": "bricelam", "link": "https://stackoverflow.com/users/475031/bricelam"}, "is_accepted": false, "score": 4, "last_activity_date": 1473955151, "creation_date": 1473955151, "answer_id": 39515554, "question_id": 39499470, "link": "https://stackoverflow.com/questions/39499470/dynamically-changing-schema-in-entity-framework-core/39515554#39515554", "title": "Dynamically changing schema in Entity Framework Core", "body": "<p>There are a couple ways to do this:</p>\n\n<ul>\n<li>Build the model externally and pass it in via <code>DbContextOptionsBuilder.UseModel()</code></li>\n<li>Replace the <code>IModelCacheKeyFactory</code> service with one that takes the schema into account</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 1811, "user_id": 3272018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8bf00e1490c0a2b4aa71f2f8fc2c387?s=128&d=identicon&r=PG&f=1", "display_name": "user3272018", "link": "https://stackoverflow.com/users/3272018/user3272018"}, "edited": false, "score": 0, "creation_date": 1474273121, "post_id": 39567676, "comment_id": 66446790, "body": "Thank you for reply, but <a href=\"http://stackoverflow.com/questions/39093542/entity-framework-6-disable-modelcaching\">as far as I know</a> <code>OnModelCreating</code> method called just once and I have no way to change schema name via it on every request. Actually I use EF Core, but <code>OnModelCreating</code>&#39;s behavior is the same.  @bricelam has said about two ways to solve my issue, so I&#39;m interested in some more detailed explanation, because EF&#39;s developer should know about EF something more then other man, hmm?"}, {"owner": {"reputation": 1811, "user_id": 3272018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8bf00e1490c0a2b4aa71f2f8fc2c387?s=128&d=identicon&r=PG&f=1", "display_name": "user3272018", "link": "https://stackoverflow.com/users/3272018/user3272018"}, "edited": false, "score": 0, "creation_date": 1474273719, "post_id": 39567676, "comment_id": 66447117, "body": "In SO question you posted there is <code>IDbModelCacheKeyProvider</code> that seems similar to <code>IModelCacheKeyFactory</code>. Maybe it&#39;s the key to solve my issue. I missed that article -- thank you."}, {"owner": {"reputation": 6005, "user_id": 3464614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b536908478071770e79e1af9ad895aa5?s=128&d=identicon&r=PG", "display_name": "bubi", "link": "https://stackoverflow.com/users/3464614/bubi"}, "reply_to_user": {"reputation": 1811, "user_id": 3272018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8bf00e1490c0a2b4aa71f2f8fc2c387?s=128&d=identicon&r=PG&f=1", "display_name": "user3272018", "link": "https://stackoverflow.com/users/3272018/user3272018"}, "edited": false, "score": 0, "creation_date": 1474276278, "post_id": 39567676, "comment_id": 66448599, "body": "You are right!!! I forgot about the model caching! Take also care about the performances (you can find some articles around, also on Stack Overflow)"}], "tags": [], "owner": {"reputation": 6005, "user_id": 3464614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b536908478071770e79e1af9ad895aa5?s=128&d=identicon&r=PG", "display_name": "bubi", "link": "https://stackoverflow.com/users/3464614/bubi"}, "is_accepted": false, "score": 2, "last_activity_date": 1474276311, "last_edit_date": 1495542287, "creation_date": 1474270455, "answer_id": 39567676, "question_id": 39499470, "link": "https://stackoverflow.com/questions/39499470/dynamically-changing-schema-in-entity-framework-core/39567676#39567676", "title": "Dynamically changing schema in Entity Framework Core", "body": "<p>You can use Table attribute on the fixed schema tables.  </p>\n\n<p>You can't use attribute on schema changing tables and you need to configure that via ToTable fluent API.<br>\nIf you disable the model cache (or you write your own cache), the schema can change on every request so on the context creation (every time) you can to specify the schema.</p>\n\n<p>This is the base idea</p>\n\n<pre><code>class MyContext : DbContext\n{\n    public string Schema { get; private set; }\n\n    public MyContext(string schema) : base()\n    {\n\n    }\n\n    // Your DbSets here\n    DbSet&lt;Emp&gt; Emps { get; set; }\n\n    protected override void OnModelCreating(DbModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity&lt;Emp&gt;()\n            .ToTable(\"Emps\", Schema);\n    }\n}\n</code></pre>\n\n<p>Now, you can have some different ways to determine the schema name before creating the context.<br>\nFor example you can have your \"system tables\" on a different context so on every request you retrieve the schema name from the user name using the system tables and than create the working context on the right schema (you can share tables between contexts).<br>\nYou can have your system tables detached from the context and use ADO .Net to access to them.<br>\nProbably there are several other solutions.</p>\n\n<p>You can also have a look here<br>\n<a href=\"https://stackoverflow.com/questions/19458943/multi-tenant-with-code-first-ef6\">Multi-Tenant With Code First EF6</a></p>\n\n<p>and you can google <code>ef multi tenant</code></p>\n\n<p><strong>EDIT</strong><br>\nThere is also the problem of the model caching (I forgot about that).\nYou have to disable the model caching or change the behavior of the cache.</p>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 5678197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa06ead653db7a34dcb4932c154f9b20?s=128&d=identicon&r=PG&f=1", "display_name": "snys98", "link": "https://stackoverflow.com/users/5678197/snys98"}, "is_accepted": false, "score": 3, "last_activity_date": 1474337639, "last_edit_date": 1474337639, "creation_date": 1474280449, "answer_id": 39570770, "question_id": 39499470, "link": "https://stackoverflow.com/questions/39499470/dynamically-changing-schema-in-entity-framework-core/39570770#39570770", "title": "Dynamically changing schema in Entity Framework Core", "body": "<p>I find this blog might be useful for you. Perfect !:)</p>\n\n<p><a href=\"https://romiller.com/2011/05/23/ef-4-1-multi-tenant-with-code-first/\" rel=\"nofollow\">https://romiller.com/2011/05/23/ef-4-1-multi-tenant-with-code-first/</a></p>\n\n<p>This blog is based on ef4, I'm not sure whether it will work fine with ef core.</p>\n\n<pre><code>public class ContactContext : DbContext\n{\n    private ContactContext(DbConnection connection, DbCompiledModel model)\n        : base(connection, model, contextOwnsConnection: false)\n    { }\n\n    public DbSet&lt;Person&gt; People { get; set; }\n    public DbSet&lt;ContactInfo&gt; ContactInfo { get; set; }\n\n    private static ConcurrentDictionary&lt;Tuple&lt;string, string&gt;, DbCompiledModel&gt; modelCache\n        = new ConcurrentDictionary&lt;Tuple&lt;string, string&gt;, DbCompiledModel&gt;();\n\n    /// &lt;summary&gt;\n    /// Creates a context that will access the specified tenant\n    /// &lt;/summary&gt;\n    public static ContactContext Create(string tenantSchema, DbConnection connection)\n    {\n        var compiledModel = modelCache.GetOrAdd(\n            Tuple.Create(connection.ConnectionString, tenantSchema),\n            t =&gt;\n            {\n                var builder = new DbModelBuilder();\n                builder.Conventions.Remove&lt;IncludeMetadataConvention&gt;();\n                builder.Entity&lt;Person&gt;().ToTable(\"Person\", tenantSchema);\n                builder.Entity&lt;ContactInfo&gt;().ToTable(\"ContactInfo\", tenantSchema);\n\n                var model = builder.Build(connection);\n                return model.Compile();\n            });\n\n        return new ContactContext(connection, compiledModel);\n    }\n\n    /// &lt;summary&gt;\n    /// Creates the database and/or tables for a new tenant\n    /// &lt;/summary&gt;\n    public static void ProvisionTenant(string tenantSchema, DbConnection connection)\n    {\n        using (var ctx = Create(tenantSchema, connection))\n        {\n            if (!ctx.Database.Exists())\n            {\n                ctx.Database.Create();\n            }\n            else\n            {\n                var createScript = ((IObjectContextAdapter)ctx).ObjectContext.CreateDatabaseScript();\n                ctx.Database.ExecuteSqlCommand(createScript);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The main idea of these codes is to provide a static method to create different DbContext by different schema and cache them with certain identifiers.</p>\n"}, {"comments": [{"owner": {"reputation": 1811, "user_id": 3272018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8bf00e1490c0a2b4aa71f2f8fc2c387?s=128&d=identicon&r=PG&f=1", "display_name": "user3272018", "link": "https://stackoverflow.com/users/3272018/user3272018"}, "edited": false, "score": 3, "creation_date": 1474528039, "post_id": 39631404, "comment_id": 66569390, "body": "As I wrote above, there is no issue with sitting schema name in <code>OnModelCreating</code>, problem is this method called just once, so next created context will have the same schema. But maybe I&#39;ve missed something important in your reply?"}, {"owner": {"reputation": 2287, "user_id": 5509340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ufchr.jpg?s=128&g=1", "display_name": "H. Herzl", "link": "https://stackoverflow.com/users/5509340/h-herzl"}, "reply_to_user": {"reputation": 1811, "user_id": 3272018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8bf00e1490c0a2b4aa71f2f8fc2c387?s=128&d=identicon&r=PG&f=1", "display_name": "user3272018", "link": "https://stackoverflow.com/users/3272018/user3272018"}, "edited": false, "score": 0, "creation_date": 1474580984, "post_id": 39631404, "comment_id": 66602265, "body": "I got your point, you&#39;re right my previous answer doesn&#39;t include the solution for OnModelCreating issue, but I&#39;ve searched on blogs a solution for this issue and I found the code for OnConfiguring method, I modified my answer please check it and let me know if is useful <a href=\"https://github.com/Grinderofl/FluentModelBuilder/issues/9\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 5726, "user_id": 313199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72dbf226db92874754ec6022d43ba372?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas Voracek", "link": "https://stackoverflow.com/users/313199/tomas-voracek"}, "edited": false, "score": 0, "creation_date": 1485949878, "post_id": 39631404, "comment_id": 71135694, "body": "This may work for small projects but I cannot imagine maintaining the MapProduct method for hundreds of tables, not mentioning all possible settings and migrations..."}, {"owner": {"reputation": 2287, "user_id": 5509340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ufchr.jpg?s=128&g=1", "display_name": "H. Herzl", "link": "https://stackoverflow.com/users/5509340/h-herzl"}, "edited": false, "score": 0, "creation_date": 1486021820, "post_id": 39631404, "comment_id": 71170132, "body": "You have a good point, Are you talking about write code for those methods or maintaining a large code files?"}], "tags": [], "owner": {"reputation": 2287, "user_id": 5509340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ufchr.jpg?s=128&g=1", "display_name": "H. Herzl", "link": "https://stackoverflow.com/users/5509340/h-herzl"}, "is_accepted": true, "score": 26, "last_activity_date": 1594404644, "last_edit_date": 1594404644, "creation_date": 1474524284, "answer_id": 39631404, "question_id": 39499470, "link": "https://stackoverflow.com/questions/39499470/dynamically-changing-schema-in-entity-framework-core/39631404#39631404", "title": "Dynamically changing schema in Entity Framework Core", "body": "<p>Did you already use EntityTypeConfiguration in EF6?</p>\n<p>I think the solution would be use mapping for entities on OnModelCreating method in DbContext class, something like this:</p>\n<pre><code>using System;\nusing Microsoft.EntityFrameworkCore;\nusing Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal;\nusing Microsoft.Extensions.Options;\n\nnamespace AdventureWorksAPI.Models\n{\n    public class AdventureWorksDbContext : Microsoft.EntityFrameworkCore.DbContext\n    {\n        public AdventureWorksDbContext(IOptions&lt;AppSettings&gt; appSettings)\n        {\n            ConnectionString = appSettings.Value.ConnectionString;\n        }\n\n        public String ConnectionString { get; }\n\n        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n        {\n            optionsBuilder.UseSqlServer(ConnectionString);\n\n            // this block forces map method invoke for each instance\n            var builder = new ModelBuilder(new CoreConventionSetBuilder().CreateConventionSet());\n\n            OnModelCreating(builder);\n\n            optionsBuilder.UseModel(builder.Model);\n        }\n\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\n        {\n            modelBuilder.MapProduct();\n\n            base.OnModelCreating(modelBuilder);\n        }\n    }\n}\n</code></pre>\n<p>The code on OnConfiguring method forces the execution of MapProduct on each instance creation for DbContext class.</p>\n<p>Definition of MapProduct method:</p>\n<pre><code>using System;\nusing Microsoft.EntityFrameworkCore;\n\nnamespace AdventureWorksAPI.Models\n{\n    public static class ProductMap\n    {\n        public static ModelBuilder MapProduct(this ModelBuilder modelBuilder, String schema)\n        {\n            var entity = modelBuilder.Entity&lt;Product&gt;();\n\n            entity.ToTable(&quot;Product&quot;, schema);\n\n            entity.HasKey(p =&gt; new { p.ProductID });\n\n            entity.Property(p =&gt; p.ProductID).UseSqlServerIdentityColumn();\n\n            return modelBuilder;\n        }\n    }\n}\n</code></pre>\n<p>As you can see above, there is a line to set schema and name for table, you can send schema name for one constructor in DbContext or something like that.</p>\n<p>Please don't use magic strings, you can create a class with all available schemas, for example:</p>\n<pre><code>using System;\n\npublic class Schemas\n{\n    public const String HumanResources = &quot;HumanResources&quot;;\n    public const String Production = &quot;Production&quot;;\n    public const String Sales = &quot;Sales&quot;;\n}\n</code></pre>\n<p>For create your DbContext with specific schema you can write this:</p>\n<pre><code>var humanResourcesDbContext = new AdventureWorksDbContext(Schemas.HumanResources);\n\nvar productionDbContext = new AdventureWorksDbContext(Schemas.Production);\n</code></pre>\n<p>Obviously you should to set schema name according schema's name parameter's  value:</p>\n<pre><code>entity.ToTable(&quot;Product&quot;, schemaName);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 348, "user_id": 1094398, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6b44e36c379c64e9f19f44bc87a413f4?s=128&d=identicon&r=PG&f=1", "display_name": "Jarrich Van de Voorde", "link": "https://stackoverflow.com/users/1094398/jarrich-van-de-voorde"}, "edited": false, "score": 2, "creation_date": 1528437700, "post_id": 50529432, "comment_id": 88516315, "body": "You set the DefaultSchema during OnModelCreating... but that method is only called once. So how are you changing the schema on the fly per request? I don&#39;t see how this solution works."}, {"owner": {"reputation": 2032, "user_id": 5658778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bcdb3f69b5cc928a1f578acae26b8ae?s=128&d=identicon&r=PG&f=1", "display_name": "t.ouvre", "link": "https://stackoverflow.com/users/5658778/t-ouvre"}, "reply_to_user": {"reputation": 348, "user_id": 1094398, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6b44e36c379c64e9f19f44bc87a413f4?s=128&d=identicon&r=PG&f=1", "display_name": "Jarrich Van de Voorde", "link": "https://stackoverflow.com/users/1094398/jarrich-van-de-voorde"}, "edited": false, "score": 0, "creation_date": 1570710013, "post_id": 50529432, "comment_id": 103004194, "body": "@JarrichVandeVoorde, the model is cached internally by EF, but in this case, MultiTenantModelCacheKeyFactory configure EF and the cache is splited according to the current company (or the schema associated to the current company). When the dbcontext is instancied, the key is different, then the OnModelCreating will be called again if not found in the cache. The negative aspect of this method is the cache is grow up for each new company (in my case it&#39;s a cause of memory overflow exception)"}, {"owner": {"reputation": 491, "user_id": 8918445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7131e002c7e2efdabb12ef6897d0c000?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Ding", "link": "https://stackoverflow.com/users/8918445/robin-ding"}, "edited": false, "score": 0, "creation_date": 1576166438, "post_id": 50529432, "comment_id": 104819217, "body": "@user3272018, Thank you very much.  This is an awesome idea. My scenario is to create schema onfly and reload mapping.  a. I was looking into ModelSource and tried to clear the cache in the ModelSource. But changing the Cache Key is a much easier way :)   b. UseInternalServiceProvider() is great, which solves the problem that in EF Core, ServiceProvider will be initialized during DbContext is being initializing."}], "tags": [], "owner": {"reputation": 1811, "user_id": 3272018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8bf00e1490c0a2b4aa71f2f8fc2c387?s=128&d=identicon&r=PG&f=1", "display_name": "user3272018", "link": "https://stackoverflow.com/users/3272018/user3272018"}, "is_accepted": false, "score": 8, "last_activity_date": 1527274747, "last_edit_date": 1592644375, "creation_date": 1527251886, "answer_id": 50529432, "question_id": 39499470, "link": "https://stackoverflow.com/questions/39499470/dynamically-changing-schema-in-entity-framework-core/50529432#50529432", "title": "Dynamically changing schema in Entity Framework Core", "body": "<p>Sorry everybody, I should've posted my solution before, but for some reason I didn't, so here it is.</p>\n<p><strong>BUT</strong></p>\n<p>Keep in mind that anything could be wrong with the solution since it neither hasn't been reviewed by anybody nor production-proved, probably I'll get some feedback here.</p>\n<p><em>In the project I used ASP .NET Core 1</em></p>\n<hr />\n<p>About my db structure. I have 2 contexts. The first one contains information about users (including the db scheme they should address), the second one contains user-specific data.</p>\n<p>In <code>Startup.cs</code> I add both contexts</p>\n<pre><code>public void ConfigureServices(IServiceCollection \n    services.AddEntityFrameworkNpgsql()\n        .AddDbContext&lt;SharedDbContext&gt;(options =&gt;\n            options.UseNpgsql(Configuration[&quot;MasterConnection&quot;]))\n        .AddDbContext&lt;DomainDbContext&gt;((serviceProvider, options) =&gt; \n            options.UseNpgsql(Configuration[&quot;MasterConnection&quot;])\n                .UseInternalServiceProvider(serviceProvider));\n...\n    services.Replace(ServiceDescriptor.Singleton&lt;IModelCacheKeyFactory, MultiTenantModelCacheKeyFactory&gt;());\n    services.TryAddSingleton&lt;IHttpContextAccessor, HttpContextAccessor&gt;();\n</code></pre>\n<p>Notice <code>UseInternalServiceProvider</code> part, it was suggested by <a href=\"https://github.com/Grinderofl\" rel=\"noreferrer\">Nero Sule</a> with the following explanation</p>\n<blockquote>\n<p>At the very end of EFC 1 release cycle, the EF team decided to remove EF's services from the default service collection (AddEntityFramework().AddDbContext()), which means that the services are resolved using EF's own service provider rather than the application service provider.</p>\n<p>To force EF to use your application's service provider instead, you need to first add EF's services together with the data provider to your service collection, and then configure DBContext to use internal service provider</p>\n</blockquote>\n<p>Now we need <code>MultiTenantModelCacheKeyFactory </code></p>\n<pre><code>public class MultiTenantModelCacheKeyFactory : ModelCacheKeyFactory {\n    private string _schemaName;\n    public override object Create(DbContext context) {\n        var dataContext = context as DomainDbContext;\n        if(dataContext != null) {\n            _schemaName = dataContext.SchemaName;\n        }\n        return new MultiTenantModelCacheKey(_schemaName, context);\n    }\n}\n</code></pre>\n<p>where <code>DomainDbContext</code> is the context with user-specific data</p>\n<pre><code>public class MultiTenantModelCacheKey : ModelCacheKey {\n    private readonly string _schemaName;\n    public MultiTenantModelCacheKey(string schemaName, DbContext context) : base(context) {\n        _schemaName = schemaName;\n    }\n    public override int GetHashCode() {\n        return _schemaName.GetHashCode();\n    }\n}\n</code></pre>\n<p>Also we have to slightly change the context itself to make it schema-aware:</p>\n<pre><code>public class DomainDbContext : IdentityDbContext&lt;ApplicationUser&gt; {\n    public readonly string SchemaName;\n    public DbSet&lt;Foo&gt; Foos{ get; set; }\n\n    public DomainDbContext(ICompanyProvider companyProvider, DbContextOptions&lt;DomainDbContext&gt; options)\n        : base(options) {\n        SchemaName = companyProvider.GetSchemaName();\n    }\n    protected override void OnModelCreating(ModelBuilder modelBuilder) {\n        modelBuilder.HasDefaultSchema(SchemaName);\n        base.OnModelCreating(modelBuilder);\n    }\n}\n</code></pre>\n<p>and the shared context is strictly bound to <code>shared</code> schema:</p>\n<pre><code>public class SharedDbContext : IdentityDbContext&lt;ApplicationUser&gt; {\n    private const string SharedSchemaName = &quot;shared&quot;;\n    public DbSet&lt;Foo&gt; Foos{ get; set; }\n    public SharedDbContext(DbContextOptions&lt;SharedDbContext&gt; options)\n        : base(options) {}\n    protected override void OnModelCreating(ModelBuilder modelBuilder) {\n        modelBuilder.HasDefaultSchema(SharedSchemaName);\n        base.OnModelCreating(modelBuilder);\n    }\n}\n</code></pre>\n<p><code>ICompanyProvider</code> is responsible for getting users schema name. And yes, I know how far from the perfect code it is.</p>\n<pre><code>public interface ICompanyProvider {\n    string GetSchemaName();\n}\n\npublic class CompanyProvider : ICompanyProvider {\n    private readonly SharedDbContext _context;\n    private readonly IHttpContextAccessor _accesor;\n    private readonly UserManager&lt;ApplicationUser&gt; _userManager;\n\n    public CompanyProvider(SharedDbContext context, IHttpContextAccessor accesor, UserManager&lt;ApplicationUser&gt; userManager) {\n        _context = context;\n        _accesor = accesor;\n        _userManager = userManager;\n    }\n    public string GetSchemaName() {\n        Task&lt;ApplicationUser&gt; getUserTask = null;\n        Task.Run(() =&gt; {\n            getUserTask = _userManager.GetUserAsync(_accesor.HttpContext?.User);\n        }).Wait();\n        var user = getUserTask.Result;\n        if(user == null) {\n            return &quot;shared&quot;;\n        }\n        return _context.Companies.Single(c =&gt; c.Id == user.CompanyId).SchemaName;\n    }\n}\n</code></pre>\n<p>And if I haven't missed anything, that's it. Now in every request by an authenticated user the proper context will be used.</p>\n<p>I hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10431229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df6911a1df459ed798bb9d8dd5744476?s=128&d=identicon&r=PG&f=1", "display_name": "Randy", "link": "https://stackoverflow.com/users/10431229/randy"}, "is_accepted": false, "score": 2, "last_activity_date": 1538167803, "creation_date": 1538167803, "answer_id": 52562503, "question_id": 39499470, "link": "https://stackoverflow.com/questions/39499470/dynamically-changing-schema-in-entity-framework-core/52562503#52562503", "title": "Dynamically changing schema in Entity Framework Core", "body": "<p>maybe I'm a bit late to this answer</p>\n\n<p>my problem was handling different schema with the same structure lets say multi-tenant.</p>\n\n<p>When I tried to create different instances of the same context for the different schemas, Entity frameworks 6 comes to play, catching the first time the dbContext was created then for the following instances they were creates with a different schemas name but onModelCreating were never called meaning that each instance was pointing to the same previously catched Pre-Generated Views, pointing to the first schema.</p>\n\n<p>Then I realized that creating new classes inheriting from myDBContext one for each schema will solve my problem by overcoming entity Framework catching problem creating one new fresh context for each schema, but then comes the problem that we will end with hardcoded schemas, causing another problem in terms of code scalability when we need to add another schema, having to add more classes and recompile and publish a new version of the application.</p>\n\n<p>So I decided to go a little further creating, compiling and adding the classes to the current solution in runtime.</p>\n\n<p>Here is the code</p>\n\n<pre><code>public static MyBaseContext CreateContext(string schema)\n{\n    MyBaseContext instance = null;\n    try\n    {\n        string code = $@\"\n            namespace MyNamespace\n            {{\n                using System.Collections.Generic;\n                using System.Data.Entity;\n\n                public partial class {schema}Context : MyBaseContext\n                {{\n                    public {schema}Context(string SCHEMA) : base(SCHEMA)\n                    {{\n                    }}\n\n                    protected override void OnModelCreating(DbModelBuilder modelBuilder)\n                    {{\n                        base.OnModelCreating(modelBuilder);\n                    }}\n                }}\n            }}\n        \";\n\n        CompilerParameters dynamicParams = new CompilerParameters();\n\n        Assembly currentAssembly = Assembly.GetExecutingAssembly();\n        dynamicParams.ReferencedAssemblies.Add(currentAssembly.Location);   // Reference the current assembly from within dynamic one\n                                                                            // Dependent Assemblies of the above will also be needed\n        dynamicParams.ReferencedAssemblies.AddRange(\n            (from holdAssembly in currentAssembly.GetReferencedAssemblies()\n             select Assembly.ReflectionOnlyLoad(holdAssembly.FullName).Location).ToArray());\n\n        // Everything below here is unchanged from the previous\n        CodeDomProvider dynamicLoad = CodeDomProvider.CreateProvider(\"C#\");\n        CompilerResults dynamicResults = dynamicLoad.CompileAssemblyFromSource(dynamicParams, code);\n\n        if (!dynamicResults.Errors.HasErrors)\n        {\n            Type myDynamicType = dynamicResults.CompiledAssembly.GetType($\"MyNamespace.{schema}Context\");\n            Object[] args = { schema };\n            instance = (MyBaseContext)Activator.CreateInstance(myDynamicType, args);\n        }\n        else\n        {\n            Console.WriteLine(\"Failed to load dynamic assembly\" + dynamicResults.Errors[0].ErrorText);\n        }\n    }\n    catch (Exception ex)\n    {\n        string message = ex.Message;\n    }\n    return instance;\n}\n</code></pre>\n\n<p>I hope this help someone to save some time.</p>\n"}, {"tags": [], "owner": {"reputation": 1618, "user_id": 1489673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7c8dcb8cffd8ba1d2ac5a0b8e05bad6?s=128&d=identicon&r=PG&f=1", "display_name": "pixelda", "link": "https://stackoverflow.com/users/1489673/pixelda"}, "is_accepted": false, "score": 0, "last_activity_date": 1540905500, "creation_date": 1540905500, "answer_id": 53065196, "question_id": 39499470, "link": "https://stackoverflow.com/questions/39499470/dynamically-changing-schema-in-entity-framework-core/53065196#53065196", "title": "Dynamically changing schema in Entity Framework Core", "body": "<p>Update for MVC Core 2.1</p>\n\n<p>You can create a model from a database with multiple schemas. The system is a bit schema-agnostic in its naming. Same named tables get a \"1\" appended. \"dbo\" is the assumed schema so you don't add anything by prefixing a table name with it the PM command</p>\n\n<p>You will have to rename model file names and class names yourself.</p>\n\n<p>In the PM console</p>\n\n<pre><code>Scaffold-DbContext \"Data Source=localhost;Initial Catalog=YourDatabase;Integrated Security=True\" Microsoft.EntityFrameworkCore.SqlServer -OutputDir Models -force -Tables TableA, Schema1.TableA\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 352, "user_id": 8222386, "user_type": "registered", "profile_image": "https://graph.facebook.com/1943045742647499/picture?type=large", "display_name": "C Rudolph", "link": "https://stackoverflow.com/users/8222386/c-rudolph"}, "is_accepted": false, "score": 2, "last_activity_date": 1586668480, "last_edit_date": 1586668480, "creation_date": 1579544151, "answer_id": 59828897, "question_id": 39499470, "link": "https://stackoverflow.com/questions/39499470/dynamically-changing-schema-in-entity-framework-core/59828897#59828897", "title": "Dynamically changing schema in Entity Framework Core", "body": "<p>Took several hours to figure this out with EFCore. Seems to be alot of confusion on the proper way of implementing this. I believe the simple and correct way of handling custom models in EFCore is replacing the default IModelCacheKeyFactory service like I show below. In my example I am setting custom table names.</p>\n\n<ol>\n<li>Create a ModelCacheKey variable in your context class.</li>\n<li>In your context constructor, set the ModelCacheKey variable</li>\n<li>Create a class that inherits from IModelCacheKeyFactory and use ModelCacheKey (MyModelCacheKeyFactory)</li>\n<li>In OnConfiguring method (MyContext), replace the default IModelCacheKeyFactory</li>\n<li>In OnModelCreating method (MyContext), use the ModelBuilder to define whatever you need.</li>\n</ol>\n\n<pre class=\"lang-c# prettyprint-override\"><code>public class MyModelCacheKeyFactory : IModelCacheKeyFactory\n{\n    public object Create(DbContext context)\n        =&gt; context is MyContext myContext ?\n        (context.GetType(), myContext.ModelCacheKey) :\n        (object)context.GetType();\n}\n\npublic partial class MyContext : DbContext\n{\n     public string Company { get; }\n     public string ModelCacheKey { get; }\n     public MyContext(string connectionString, string company) : base(connectionString) \n     { \n         Company = company;\n         ModelCacheKey = company; //the identifier for the model this instance will use\n     }\n\n     protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n     {\n         //This will create one model cache per key\n         optionsBuilder.ReplaceService&lt;IModelCacheKeyFactory, MyModelCacheKeyFactory();\n     }\n\n     protected override void OnModelCreating(ModelBuilder modelBuilder)\n     {\n         modelBuilder.Entity&lt;Order&gt;(entity =&gt; \n         { \n             //regular entity mapping \n         });\n\n         SetCustomConfigurations(modelBuilder);\n     }\n\n     public void SetCustomConfigurations(ModelBuilder modelBuilder)\n     {\n         //Here you will set the schema. \n         //In my example I am setting custom table name Order_CompanyX\n\n         var entityType = typeof(Order);\n         var tableName = entityType.Name + \"_\" + this.Company;\n         var mutableEntityType = modelBuilder.Model.GetOrAddEntityType(entityType);\n         mutableEntityType.RemoveAnnotation(\"Relational:TableName\");\n         mutableEntityType.AddAnnotation(\"Relational:TableName\", tableName);\n     }\n}\n</code></pre>\n\n<p>The result is each instance of your context will cause efcore to cache based on the ModelCacheKey variable.</p>\n"}, {"tags": [], "owner": {"reputation": 2171, "user_id": 1524712, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/tbzxv.jpg?s=128&g=1", "display_name": "Ghini Antonio", "link": "https://stackoverflow.com/users/1524712/ghini-antonio"}, "is_accepted": false, "score": 2, "last_activity_date": 1592549402, "last_edit_date": 1592549402, "creation_date": 1592403391, "answer_id": 62431137, "question_id": 39499470, "link": "https://stackoverflow.com/questions/39499470/dynamically-changing-schema-in-entity-framework-core/62431137#62431137", "title": "Dynamically changing schema in Entity Framework Core", "body": "<p>Define your contex and pass the schema to the constructor.</p>\n\n<p>Set the default schema in OnModelCreating</p>\n\n<pre><code>   public class MyContext : DbContext , IDbContextSchema\n    {\n        private readonly string _connectionString;\n        public string Schema {get;}\n\n        public MyContext(string connectionString, string schema)\n        {\n            _connectionString = connectionString;\n            Schema = schema;\n        }\n\n        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n        {\n            if (!optionsBuilder.IsConfigured)\n            {\n                optionsBuilder.ReplaceService&lt;IModelCacheKeyFactory, DbSchemaAwareModelCacheKeyFactory&gt;();\n                optionsBuilder.UseSqlServer(_connectionString);\n            }\n\n            base.OnConfiguring(optionsBuilder);\n        }\n\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\n        {\n            modelBuilder.HasDefaultSchema(Schema);\n\n            // ... model definition ...\n        }\n    }\n</code></pre>\n\n<p>Implement your IModelCacheKeyFactory.</p>\n\n<pre><code>public class DbSchemaAwareModelCacheKeyFactory : IModelCacheKeyFactory\n    {\n\n        public object Create(DbContext context)\n        {\n            return new {\n                Type = context.GetType(),\n                Schema = context is IDbContextSchema schema \n                    ? schema.Schema \n                    :  null\n            };\n        }\n    }\n</code></pre>\n\n<p>Replace in OnConfiguring the default implementation of IModelCacheKeyFactory with your custom implementation.</p>\n\n<p>With the default implementation of IModelCacheKeyFactory the method OnModelCreating is executed only the first time the context is instantiated and then the result is cached. \nChanging the implementation you can modify how the result of OnModelCreating  is cached and retrieve. Including the schema in the caching key you can get the  OnModelCreating executed and cached for every different schema string passed to the context constructor.</p>\n\n<pre><code>// Get a context referring SCHEMA1\nvar context1 = new MyContext(connectionString, \"SCHEMA1\");\n// Get another context referring SCHEMA2\nvar context2 = new MyContext(connectionString, \"SCHEMA2\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2713, "user_id": 1833398, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/0tWR8.jpg?s=128&g=1", "display_name": "Alin Ciocan", "link": "https://stackoverflow.com/users/1833398/alin-ciocan"}, "is_accepted": false, "score": 0, "last_activity_date": 1598957775, "last_edit_date": 1598957775, "creation_date": 1598956672, "answer_id": 63686024, "question_id": 39499470, "link": "https://stackoverflow.com/questions/39499470/dynamically-changing-schema-in-entity-framework-core/63686024#63686024", "title": "Dynamically changing schema in Entity Framework Core", "body": "<p>I actually found it to be a simpler solution with an EF interceptor.</p>\n<p>I actually keep the onModeling method:</p>\n<pre><code>  protected override void OnModelCreating(ModelBuilder modelBuilder)\n    {\n        modelBuilder.HasDefaultSchema(&quot;dbo&quot;); // this is important to always be dbo\n\n        // ... model definition ...\n    }\n</code></pre>\n<p>And this code will be in Startup:</p>\n<pre><code>    public void ConfigureServices(IServiceCollection services)\n    {\n        // if I add a service I can have the lambda (factory method) to read from request the schema (I put it in a cookie)\n        services.AddScoped&lt;ISchemeInterceptor, SchemeInterceptor&gt;(provider =&gt;\n        {\n            var context = provider.GetService&lt;IHttpContextAccessor&gt;().HttpContext;\n\n            var scheme = &quot;dbo&quot;;\n            if (context.Request.Cookies[&quot;schema&quot;] != null)\n            {\n                scheme = context.Request.Cookies[&quot;schema&quot;];\n            }\n\n            return new SchemeInterceptor(scheme);\n        });\n\n        services.AddDbContext&lt;MyContext&gt;(options =&gt;\n        {\n            var sp = services.BuildServiceProvider();\n            var interceptor = sp.GetService&lt;ISchemeInterceptor&gt;();\n            options.UseSqlServer(Configuration.GetConnectionString(&quot;Default&quot;))\n                .AddInterceptors(interceptor);\n        });\n</code></pre>\n<p>And the interceptor code looks something like this (but basically we use ReplaceSchema):</p>\n<pre><code>public interface ISchemeInterceptor : IDbCommandInterceptor\n{\n\n}\n\npublic class SchemeInterceptor : DbCommandInterceptor, ISchemeInterceptor\n{\n    private readonly string _schema;\n\n    public SchemeInterceptor(string schema)\n    {\n        _schema = schema;\n    }\n\n    public override Task&lt;InterceptionResult&lt;object&gt;&gt; ScalarExecutingAsync(DbCommand command, CommandEventData eventData, InterceptionResult&lt;object&gt; result,\n        CancellationToken cancellationToken = new CancellationToken())\n    {\n        ReplaceSchema(command);\n        return base.ScalarExecutingAsync(command, eventData, result, cancellationToken);\n    }\n\n    public override InterceptionResult&lt;object&gt; ScalarExecuting(DbCommand command, CommandEventData eventData, InterceptionResult&lt;object&gt; result)\n    {\n        ReplaceSchema(command);\n        return base.ScalarExecuting(command, eventData, result);\n    }\n\n    public override Task&lt;InterceptionResult&lt;int&gt;&gt; NonQueryExecutingAsync(DbCommand command, CommandEventData eventData, InterceptionResult&lt;int&gt; result,\n        CancellationToken cancellationToken = new CancellationToken())\n    {\n        ReplaceSchema(command);\n        return base.NonQueryExecutingAsync(command, eventData, result, cancellationToken);\n    }\n\n    public override InterceptionResult&lt;int&gt; NonQueryExecuting(DbCommand command, CommandEventData eventData, InterceptionResult&lt;int&gt; result)\n    {\n        ReplaceSchema(command);\n        return base.NonQueryExecuting(command, eventData, result);\n    }\n\n    public override InterceptionResult&lt;DbDataReader&gt; ReaderExecuting(\n        DbCommand command,\n        CommandEventData eventData,\n        InterceptionResult&lt;DbDataReader&gt; result)\n    {\n        ReplaceSchema(command);\n        return result;\n    }\n\n    public override Task&lt;InterceptionResult&lt;DbDataReader&gt;&gt; ReaderExecutingAsync(DbCommand command, CommandEventData eventData, InterceptionResult&lt;DbDataReader&gt; result,\n        CancellationToken cancellationToken = new CancellationToken())\n    {\n        ReplaceSchema(command);\n        return base.ReaderExecutingAsync(command, eventData, result, cancellationToken);\n    }\n\n    private void ReplaceSchema(DbCommand command)\n    {\n        command.CommandText = command.CommandText.Replace(&quot;[dbo]&quot;, $&quot;[{_schema}]&quot;);\n    }\n\n    public override void CommandFailed(DbCommand command, CommandErrorEventData eventData)\n    {\n        // here you can handle cases like schema not found\n        base.CommandFailed(command, eventData);\n    }\n\n    public override Task CommandFailedAsync(DbCommand command, CommandErrorEventData eventData,\n        CancellationToken cancellationToken = new CancellationToken())\n    {\n        // here you can handle cases like schema not found\n        return base.CommandFailedAsync(command, eventData, cancellationToken);\n    }\n\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1618770910, "post_id": 67149009, "comment_id": 118697547, "body": "How does that set the <i>desired</i> schema name?"}, {"owner": {"reputation": 1, "user_id": 7272514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d316936bdee989b6ed349b16496b16be?s=128&d=identicon&r=PG&f=1", "display_name": "maniacz", "link": "https://stackoverflow.com/users/7272514/maniacz"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1618939451, "post_id": 67149009, "comment_id": 118752970, "body": "@GertArnold I eddited my answer, take a look."}], "tags": [], "owner": {"reputation": 1, "user_id": 7272514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d316936bdee989b6ed349b16496b16be?s=128&d=identicon&r=PG&f=1", "display_name": "maniacz", "link": "https://stackoverflow.com/users/7272514/maniacz"}, "is_accepted": false, "score": 0, "last_activity_date": 1618939390, "last_edit_date": 1618939390, "creation_date": 1618751799, "answer_id": 67149009, "question_id": 39499470, "link": "https://stackoverflow.com/questions/39499470/dynamically-changing-schema-in-entity-framework-core/67149009#67149009", "title": "Dynamically changing schema in Entity Framework Core", "body": "<p>If the only difference between databases is schema name the simplest way to get rid of the problem is to remove line of code which is setting the default schema in OnModelCreating method:</p>\n<pre><code>protected override void OnModelCreating(ModelBuilder modelBuilder)\n{\n    ...\n    modelBuilder.HasDefaultSchema(&quot;YourSchemaName&quot;); &lt;-- remove or comment this line\n    ...\n}\n</code></pre>\n<p>In this case underneeth sql queries run by EF Core won't contain schema name in their FROM clause. Then you will be able to write a method which will set correct DbContext depending on your custom conditions.\nHere is an example which I used to connect to different Oracle databases with the same database structure (in short let's say that in Oracle schema is the same as user). If you're using another DB you just need to put correct connection string and then modify it.</p>\n<pre><code>private YourDbContext SetDbContext()\n{\n    string connStr = @&quot;Data Source=(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=server_ip)(PORT=1521)))(CONNECT_DATA=(SID = server_sid)));User Id=server_user ;Password=server_password&quot;;\n\n    //You can get db connection details e.g. from app config\n    List&lt;string&gt; connections = config.GetSection(&quot;DbConneections&quot;);\n    string serverIp;\n    string dbSid;\n    string dBUser;\n    string dbPassword;\n\n    /* some logic to choose a connection from config and set up string variables for a connection*/\n\n    connStr = connStr.Replace(&quot;server_ip&quot;, serverIp);\n    connStr = connStr.Replace(&quot;server_sid&quot;, dbSid);\n    connStr = connStr.Replace(&quot;server_user&quot;, dBUser);\n    connStr = connStr.Replace(&quot;server_password&quot;, dbPassword);\n\n    var dbContext = dbContextFactory.CreateDbContext();\n    dbContext.Database.CloseConnection();\n    dbContext.Database.SetConnectionString(connStr);\n\n    return dbContext;\n}\n</code></pre>\n<p>Finally you will be able to set desired dbContext where it's needed invoking this method before, you can also pass some arguments to the method to help you choose correct db.</p>\n"}], "owner": {"reputation": 1811, "user_id": 3272018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8bf00e1490c0a2b4aa71f2f8fc2c387?s=128&d=identicon&r=PG&f=1", "display_name": "user3272018", "link": "https://stackoverflow.com/users/3272018/user3272018"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44285, "favorite_count": 13, "accepted_answer_id": 39631404, "answer_count": 11, "score": 31, "last_activity_date": 1618939390, "creation_date": 1473886344, "last_edit_date": 1560503979, "question_id": 39499470, "link": "https://stackoverflow.com/questions/39499470/dynamically-changing-schema-in-entity-framework-core", "title": "Dynamically changing schema in Entity Framework Core", "body": "<p><strong>UPD</strong> <a href=\"https://stackoverflow.com/a/50529432/3272018\">here</a> is the way I solved the problem. Although it's likely to be not the best one, it worked for me.</p>\n\n<hr>\n\n<p>I have an issue with working with EF Core. I want to separate data for different companies in my project's database via schema-mechanism. My question is how I can change the schema name in runtime? I've found <a href=\"https://stackoverflow.com/questions/37180426/how-to-change-database-schema-on-runtime-in-ef7-or-ef-core\">similar question</a> about this issue but it's still unanswered and I have some different conditions. So I have the <code>Resolve</code> method that grants the db-context when necessary</p>\n\n<pre><code>public static void Resolve(IServiceCollection services) {\n    services.AddIdentity&lt;ApplicationUser, IdentityRole&gt;()\n        .AddEntityFrameworkStores&lt;DomainDbContext&gt;()\n        .AddDefaultTokenProviders();\n    services.AddTransient&lt;IOrderProvider, OrderProvider&gt;();\n    ...\n}\n</code></pre>\n\n<p>I can set the schema-name in <code>OnModelCreating</code>, but, as was found before, this method is called just once, so I can set schema name globaly like that</p>\n\n<pre><code>protected override void OnModelCreating(ModelBuilder modelBuilder) {\n    modelBuilder.HasDefaultSchema(\"public\");\n    base.OnModelCreating(modelBuilder);\n}\n</code></pre>\n\n<p>or right in the model via an attribute</p>\n\n<pre><code>[Table(\"order\", Schema = \"public\")]\npublic class Order{...}\n</code></pre>\n\n<p>But how can I change the schema name on runtime? I create the context per each request, but first I fugure out the schema-name of the user via a request to a schema-shared table in the database. So what is the right way to organize that mechanism:</p>\n\n<ol>\n<li>Figure out the schema name by the user credentials;</li>\n<li>Get user-specific data from database from specific schema.</li>\n</ol>\n\n<p>Thank you.</p>\n\n<p>P.S. I use PostgreSql and this is the reason for lowecased table names.</p>\n"}, {"tags": ["c#", "jquery", "ajax", "asp.net-mvc"], "comments": [{"owner": {"reputation": 2748, "user_id": 4270311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b58c7c818a816d2cf5cf9c78fa987cb4?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/4270311/tim"}, "edited": false, "score": 0, "creation_date": 1473886437, "post_id": 39499437, "comment_id": 66316525, "body": "Run Fiddler while loading the partial, and see what is returned. Sounds like a client side issue"}], "answers": [{"comments": [{"owner": {"reputation": 1503, "user_id": 5993382, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5069bc485a352f0b58f6e4c6c9727304?s=128&d=identicon&r=PG&f=1", "display_name": "Craig Gallagher", "link": "https://stackoverflow.com/users/5993382/craig-gallagher"}, "edited": false, "score": 0, "creation_date": 1473897091, "post_id": 39499545, "comment_id": 66319915, "body": "I got the fallowing error when using your code snippet. Any ideas on how I would fix this. <code>Exception Details: System.InvalidOperationException: The model item passed into the dictionary is of type &#39;System.Data.Entity.DynamicProxies.Task_E325CAFED3402B9E516E&zwnj;&#8203;7467C55ACD948A2123A1&zwnj;&#8203;FE7EECA32D7824C88DD8&zwnj;&#8203;07C4&#39;, but this dictionary requires a model item of type &#39;System.Collections.Generic.IEnumerable</code>1[WebApplication4.Mod&zwnj;&#8203;els.Task]&#39;.`"}, {"owner": {"reputation": 655, "user_id": 5326415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8WDyN.jpg?s=128&g=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/5326415/leo"}, "reply_to_user": {"reputation": 1503, "user_id": 5993382, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5069bc485a352f0b58f6e4c6c9727304?s=128&d=identicon&r=PG&f=1", "display_name": "Craig Gallagher", "link": "https://stackoverflow.com/users/5993382/craig-gallagher"}, "edited": false, "score": 0, "creation_date": 1473898093, "post_id": 39499545, "comment_id": 66320161, "body": "_ShowTask is expecting IEnumerable&lt;WebApplication4.Models.Task&gt;, looks like you are passing an object and not an IEnumerable. I&#39;ll update the code above."}, {"owner": {"reputation": 1503, "user_id": 5993382, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5069bc485a352f0b58f6e4c6c9727304?s=128&d=identicon&r=PG&f=1", "display_name": "Craig Gallagher", "link": "https://stackoverflow.com/users/5993382/craig-gallagher"}, "edited": false, "score": 0, "creation_date": 1473930629, "post_id": 39499545, "comment_id": 66330684, "body": "I added the code and got the fallowing error <code>The model item passed into the dictionary is of type &#39;System.String&#39;, but this dictionary requires a model item of type &#39;System.Collections.Generic.IEnumerable</code>1[WebApplication4.Mod&zwnj;&#8203;els.Task]&#39;.`"}, {"owner": {"reputation": 1503, "user_id": 5993382, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5069bc485a352f0b58f6e4c6c9727304?s=128&d=identicon&r=PG&f=1", "display_name": "Craig Gallagher", "link": "https://stackoverflow.com/users/5993382/craig-gallagher"}, "edited": false, "score": 0, "creation_date": 1473932573, "post_id": 39499545, "comment_id": 66332094, "body": "I got it working using your code I left something out. Thanks for your help and I will mark this as the correct answer. Thanks for your time :)"}], "tags": [], "owner": {"reputation": 655, "user_id": 5326415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8WDyN.jpg?s=128&g=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/5326415/leo"}, "is_accepted": true, "score": 1, "last_activity_date": 1473899033, "last_edit_date": 1473899033, "creation_date": 1473886698, "answer_id": 39499545, "question_id": 39499437, "link": "https://stackoverflow.com/questions/39499437/mvc-partial-view-using-ajax/39499545#39499545", "title": "MVC Partial view using ajax", "body": "<p><strong>HTML</strong></p>\n\n<pre><code>&lt;input id=\"btnDetail\" type=\"button\" class=\"btn btn-success btn-sm\" value=\"Details\" /&gt;\n\n&lt;div id=\"Detail\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p><strong>JS</strong></p>\n\n<pre><code>$('#btnDetail').on('click', function(){\n    $.ajax({ \n        url: '@Url.Action(\"ShowTaskByID\")',\n        data: { id: showTaskID },\n    }).done(function (data) {\n        $('#Detail').html(data);\n        $('#Detail').animate({\n            opacity: 1,\n            left: \"+=50\",\n            height: \"toggle\"\n        }, 3000, function () {\n            // Animation complete.\n        });\n\n        $('#Edit').hide();\n        $('#Delete').hide();\n    }).fail(function (jqXHR, textStatus) {\n        $('#Detail').html('&lt;h3&gt;Error :' + jqXHR.responseText + '&lt;/h3&gt;'); \n    });\n});\n</code></pre>\n\n<p><strong>C#</strong></p>\n\n<pre><code>public ActionResult Details(int id)\n{\n    try \n    {\n       var task = db.Tasks.Find(id);\n    }\n    catch(HttpException e) \n    {\n       throw new HttpException(404, \"Task not found.\")\n    }\n\n    return View(task);\n}\n\npublic PartialViewResult ShowTaskByID(int id)\n{\n    try\n    {\n        var tasks = db.Tasks.Find(id).TaskName;    \n    }\n    catch(HttpException e) \n    {\n       throw new HttpException(404, \"Task nout found.\")\n    }\n\n    return PartialView(\"_ShowTask\", tasks);\n}\n</code></pre>\n\n<p>If you are expecting a list of Tasks try this:</p>\n\n<pre><code>public PartialViewResult ShowTaskByID()\n{\n    try\n    {\n        var tasks = db.Tasks.ToList();\n    }\n    catch(HttpException e) \n    {\n       throw new HttpException(404, \"Task nout found.\")\n    }\n\n    return PartialView(\"_ShowTask\", tasks);\n}\n</code></pre>\n\n<p>Or instead, you could edit _ShowTask model type to Task:</p>\n\n<pre><code>@model WebApplication4.Models.Task\n\n&lt;div class=\"panel panel-info\"&gt;\n    &lt;div class=\"panel-heading\" style=\"font-size:20px\"&gt;\n        &lt;h2&gt;List of Actors&lt;/h2&gt;\n    &lt;/div&gt;\n    &lt;p&gt;\n        @Html.ActionLink(\"Create New Task\", \"CreateTask\", null, new { @class = \"btn btn-sm btn-primary\" })\n    &lt;/p&gt;\n    @if (Model.Any())\n    {\n        &lt;table class=\"table table-condensed table-striped\"&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;\n                        @Html.DisplayNameFor(model =&gt; model.TaskName)\n                    &lt;/th&gt;\n                    &lt;th&gt;\n                        @Html.DisplayNameFor(model =&gt; model.StartDate)\n                    &lt;/th&gt;\n                    &lt;th&gt;\n                        @Html.DisplayNameFor(model =&gt; model.FinishDate)\n                    &lt;/th&gt;\n                    &lt;th&gt;&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;\n                        @Html.DisplayFor(model =&gt; model.TaskName)\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        @Html.DisplayFor(model =&gt; model.StartDate)\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        @Html.DisplayFor(model =&gt; model.FinishDate)\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        @Html.ActionLink(\"Edit\", \"EditTask\", new { id = Model.TaskId }, new { @class = \"btn btn-info btn-xs\" })\n                        @*&lt;a onclick=\"showEditActor('@item.MovieID','@item.ActorID','@item.ActorName','@item.age')\" class=\"btn btn-xs btn-info\"&gt;Edit&lt;/a&gt;*@\n                        @Html.ActionLink(\"Delete\", \"DeleteTask\", new { id = Model.TaskId }, new { @class = \"btn btn-danger btn-xs\" })\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;    \n            } @* closing of if *@\n        &lt;/table&gt;\n    }\n    else\n    {\n        &lt;div&gt;&lt;strong&gt;No Actors in Movie&lt;/strong&gt;&lt;/div&gt;\n    }\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1281, "user_id": 663853, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/0ABQE.jpg?s=128&g=1", "display_name": "Robert Green MBA", "link": "https://stackoverflow.com/users/663853/robert-green-mba"}, "is_accepted": false, "score": 0, "last_activity_date": 1473887663, "creation_date": 1473887663, "answer_id": 39499732, "question_id": 39499437, "link": "https://stackoverflow.com/questions/39499437/mvc-partial-view-using-ajax/39499732#39499732", "title": "MVC Partial view using ajax", "body": "<p>[HttpGet]\nadd the tag to your <code>public PartialViewResult ShowTaskByID(int id)</code></p>\n\n<p>so, it should result like:</p>\n\n<p><code>[HttpGet]\npublic PartialViewResult ShowTaskByID(int id)\n</code></p>\n"}], "owner": {"reputation": 1503, "user_id": 5993382, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5069bc485a352f0b58f6e4c6c9727304?s=128&d=identicon&r=PG&f=1", "display_name": "Craig Gallagher", "link": "https://stackoverflow.com/users/5993382/craig-gallagher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 39499545, "answer_count": 2, "score": 0, "last_activity_date": 1473899033, "creation_date": 1473886197, "question_id": 39499437, "link": "https://stackoverflow.com/questions/39499437/mvc-partial-view-using-ajax", "title": "MVC Partial view using ajax", "body": "<p>I have made an MVC application and I'm trying to create a partial view for when the user clicks the \"details\" button. I have one partial view working at the moment for my \"delete\" button. When I step through my code using breakpoints it brings me as far as my Task Controller and steps into my PartialViewResult method but then goes no further. When I click the \"details\" button nothing happens. Not sure what is missing here. </p>\n\n<p>Index.cshtml</p>\n\n<pre><code>       &lt;span class=\"btn btn-success btn-sm\" onclick=\"showTask('@item.TaskId')\"&gt;Details&lt;/span&gt;\n\n&lt;div id=\"Detail\"&gt;&lt;/div&gt;\n\n&lt;Script&gt;\n        function showTask(showTaskID) {\n\n        $.ajax({\n            url: '@Url.Action(\"ShowTaskByID\")',\n            data: { id: showTaskID },\n            success: function (data) {\n                $('#Detail').hide();\n                $('#Detail').html(data);\n                $('#Detail').animate({\n                    opacity: 1,\n                    left: \"+=50\",\n                    height: \"toggle\"\n                }, 3000, function () {\n                    // Animation complete.\n                });\n\n                $('#Edit').hide();\n                $('#Delete').hide();\n            },\n            error: function (data) { $('#Details').html('&lt;h3&gt;Error&lt;/h3&gt;'); }\n        });\n    }\n\n\n\n&lt;/script&gt;\n</code></pre>\n\n<p>_ShowTask</p>\n\n<pre><code>@model IEnumerable&lt;WebApplication4.Models.Task&gt;\n&lt;div class=\"panel panel-info\"&gt;\n    &lt;div class=\"panel-heading\" style=\"font-size:20px\"&gt;\n        &lt;h2&gt;List of Actors&lt;/h2&gt;\n    &lt;/div&gt;\n    &lt;p&gt;\n        @Html.ActionLink(\"Create New Task\", \"CreateTask\", null, new { @class = \"btn btn-sm btn-primary\" })\n    &lt;/p&gt;\n    @if (Model.Any())\n    {\n        &lt;table class=\"table table-condensed table-striped\"&gt;\n            &lt;tr&gt;\n                &lt;th&gt;\n                    @Html.DisplayNameFor(model =&gt; model.First().TaskName)\n                &lt;/th&gt;\n                &lt;th&gt;\n                    @Html.DisplayNameFor(model =&gt; model.First().StartDate)\n                &lt;/th&gt;\n                &lt;th&gt;\n                    @Html.DisplayNameFor(model =&gt; model.First().FinishDate)\n                &lt;/th&gt;\n                &lt;th&gt;&lt;/th&gt;\n            &lt;/tr&gt;\n\n            @if (Model != null)\n            {\n                foreach (var item in Model)\n                {\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            @Html.DisplayFor(modelItem =&gt; item.TaskName)\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            @Html.DisplayFor(modelItem =&gt; item.StartDate)\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            @Html.DisplayFor(modelItem =&gt; item.FinishDate)\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            @Html.ActionLink(\"Edit\", \"EditTask\", new { id = item.TaskId }, new { @class = \"btn btn-info btn-xs\" })\n                            @*&lt;a onclick=\"showEditActor('@item.MovieID','@item.ActorID','@item.ActorName','@item.age')\" class=\"btn btn-xs btn-info\"&gt;Edit&lt;/a&gt;*@\n                            @Html.ActionLink(\"Delete\", \"DeleteTask\", new { id = item.TaskId }, new { @class = \"btn btn-danger btn-xs\" })\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                }\n            } @* closing of if *@\n        &lt;/table&gt;\n    }\n    else\n    {\n        &lt;div&gt;&lt;strong&gt;No Actors in Movie&lt;/strong&gt;&lt;/div&gt;\n    }\n&lt;/div&gt;\n</code></pre>\n\n<p>Task Controller</p>\n\n<pre><code>public ActionResult Details(int id)\n{\n    var q = db.Tasks.Find(id);\n    if (q == null)\n    {\n    }\n    return View(q);\n}\n\npublic PartialViewResult ShowTaskByID(int id)\n{\n\n    return PartialView(\"_ShowTask\", db.Tasks.Find(id).TaskName);\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api2", "dotnet-httpclient"], "comments": [{"owner": {"reputation": 3959, "user_id": 453168, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d121be07179edcb707ba21efc6fb0a3e?s=128&d=identicon&r=PG", "display_name": "kaveman", "link": "https://stackoverflow.com/users/453168/kaveman"}, "edited": false, "score": 1, "creation_date": 1473886781, "post_id": 39499428, "comment_id": 66316689, "body": "Couple of comments: CORS only comes into play if you are making this request from <i>javascript</i> - since the console app is making the request, CORS shouldn&#39;t be a concern. Secondly, I hope you will move to <b>https</b> once this is in production - as you are essentially sending the password in cleartext (base64 encoded cleartext)"}, {"owner": {"reputation": 3959, "user_id": 453168, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d121be07179edcb707ba21efc6fb0a3e?s=128&d=identicon&r=PG", "display_name": "kaveman", "link": "https://stackoverflow.com/users/453168/kaveman"}, "edited": false, "score": 0, "creation_date": 1473886878, "post_id": 39499428, "comment_id": 66316737, "body": "Also, can you post a bit of the ApiController (and potentially the routing configuration you are using)?"}, {"owner": {"reputation": 504, "user_id": 2390135, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/daa23e162a1ea759b4d49bb2d662d177?s=128&d=identicon&r=PG", "display_name": "Simon B", "link": "https://stackoverflow.com/users/2390135/simon-b"}, "edited": false, "score": 0, "creation_date": 1473887725, "post_id": 39499428, "comment_id": 66317073, "body": "Without seeing your API code, there&#39;s not much to go on. Perhaps this page might give you some pointers? <a href=\"http://www.asp.net/web-api/overview/security/individual-accounts-in-web-api\" rel=\"nofollow noreferrer\">asp.net/web-api/overview/security/&hellip;</a>"}, {"owner": {"reputation": 68, "user_id": 2592971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26235637145f23265be8c715d840c8b5?s=128&d=identicon&r=PG", "display_name": "jxmiller", "link": "https://stackoverflow.com/users/2592971/jxmiller"}, "edited": false, "score": 0, "creation_date": 1473905684, "post_id": 39499428, "comment_id": 66321741, "body": "Its just a default web api project, i used individual account authentication, thats really it. Thats why I didnt bother posting that code. I find examples of passing username password, but cant find anything as far as how to set up the API side."}, {"owner": {"reputation": 128862, "user_id": 6819, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/20cd0e7eb3c9eeeafb8ef081d3b516e0?s=128&d=identicon&r=PG", "display_name": "Darrel Miller", "link": "https://stackoverflow.com/users/6819/darrel-miller"}, "edited": false, "score": 0, "creation_date": 1474480842, "post_id": 39499428, "comment_id": 66552475, "body": "The challenge is that &quot;individual account authentication&quot; doesn&#39;t really tell us how the auth process is supposed to work.  With the 401 Unauthorized response, there should be a www-authenticate header that tells you what security scheme the server is expecting you do use.  Does it say &quot;basic&quot; ?"}, {"owner": {"reputation": 128862, "user_id": 6819, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/20cd0e7eb3c9eeeafb8ef081d3b516e0?s=128&d=identicon&r=PG", "display_name": "Darrel Miller", "link": "https://stackoverflow.com/users/6819/darrel-miller"}, "edited": false, "score": 0, "creation_date": 1474480918, "post_id": 39499428, "comment_id": 66552507, "body": "And as a side note, response.Content.ToString(); will not do what you expect.  You need to do something like await response.Content.ReadAsStringAsync()"}], "answers": [{"tags": [], "owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "is_accepted": false, "score": 0, "last_activity_date": 1473889783, "last_edit_date": 1495542763, "creation_date": 1473889463, "answer_id": 39500100, "question_id": 39499428, "link": "https://stackoverflow.com/questions/39499428/web-api-call-from-a-c-console-application-with-credentials/39500100#39500100", "title": "Web API Call from a C# console application with credentials", "body": "<p>you would need to impersonate and pass the credentials assuming your running windows authentication on your server.</p>\n\n<pre><code>  using (new Impersonator(UserName, Domain, Pwd))\n         {\n            ...http request\n         }\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/37858687/how-to-pass-impersonated-user-in-web-api-call-from-console-app-with-windows-auth\">thread</a></p>\n"}], "owner": {"reputation": 68, "user_id": 2592971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26235637145f23265be8c715d840c8b5?s=128&d=identicon&r=PG", "display_name": "jxmiller", "link": "https://stackoverflow.com/users/2592971/jxmiller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2679, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1578544358, "creation_date": 1473886149, "last_edit_date": 1578544358, "question_id": 39499428, "link": "https://stackoverflow.com/questions/39499428/web-api-call-from-a-c-console-application-with-credentials", "title": "Web API Call from a C# console application with credentials", "body": "<p>I am trying to write a Web API site with a Get method that is Authorized. The site is a default template site, using Individual Accounts. So it stores the username and password in a database. I am attempting to call this Web API site and pass along a username and password in a console application via HttpClient. I have tried several ways of going about this. I think* i have CORS enabled on my API site. I keep getting Unauthorized results. Here is the HttpClient code I am running, I feel like it is completely valid, and I think something needs to be configured to handle this username and password on the API side, but I am completely unsure how to go about it if that is the case.</p>\n\n<pre><code>using (var client = new HttpClient())\n{\n    var byteArray = Encoding.ASCII.GetBytes(\"sampleUser:Test123!\");\n    client.DefaultRequestHeaders.Authorization = new System.Net.Http.Headers.AuthenticationHeaderValue(\"Basic\", Convert.ToBase64String(byteArray));\n\n    client.BaseAddress = new Uri(\"http://localhost:15198/\");\n    client.DefaultRequestHeaders.Accept.Clear();\n    client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n    try\n    {\n        HttpResponseMessage response = await client.GetAsync(\"api/Query\");\n        if (response.IsSuccessStatusCode)\n        {\n            thing = response.Content.ToString();\n        }\n    }\n    catch (HttpRequestException e)\n    {\n        var test = e.Message;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "regex", "string", "char"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1473885759, "post_id": 39499322, "comment_id": 66316195, "body": "See <a href=\"http://stackoverflow.com/questions/33856104/how-to-check-if-a-string-contains-all-of-the-characters-of-a-word\"><i>How to check if a string contains all of the characters of a word</i></a>"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 2592461, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/507521771/picture?type=large", "display_name": "Edwin Coronado", "link": "https://stackoverflow.com/users/2592461/edwin-coronado"}, "edited": false, "score": 0, "creation_date": 1473887933, "post_id": 39499355, "comment_id": 66317145, "body": "Do you know of a way of finding not all but at least 3 of them?"}, {"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "reply_to_user": {"reputation": 59, "user_id": 2592461, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/507521771/picture?type=large", "display_name": "Edwin Coronado", "link": "https://stackoverflow.com/users/2592461/edwin-coronado"}, "edited": false, "score": 1, "creation_date": 1473888166, "post_id": 39499355, "comment_id": 66317229, "body": "@EdwinCoronado <code>var count = desiredChars.Count(word.Contains);</code> or better <code>var count = desiredChars.Intersect(word).Count();</code> :) BTW: Please don&#39;t extend your question with new requirements... Consider to ask a new question...."}], "tags": [], "owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1473885806, "creation_date": 1473885806, "answer_id": 39499355, "question_id": 39499322, "link": "https://stackoverflow.com/questions/39499322/match-all-of-desired-characters-in-string-even-when-they-are-not-next-to-each-ot/39499355#39499355", "title": "Match all of desired characters in string even when they are not next to each other", "body": "<p>You can use Linq</p>\n\n<pre><code>var desiredChars = \"ent\";\nvar word = \"element\";\nbool contains = desiredChars.All(word.Contains);\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 2592461, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/507521771/picture?type=large", "display_name": "Edwin Coronado", "link": "https://stackoverflow.com/users/2592461/edwin-coronado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 39499355, "answer_count": 1, "score": 0, "last_activity_date": 1473889879, "creation_date": 1473885623, "question_id": 39499322, "link": "https://stackoverflow.com/questions/39499322/match-all-of-desired-characters-in-string-even-when-they-are-not-next-to-each-ot", "title": "Match all of desired characters in string even when they are not next to each other", "body": "<p>I am iterating through a list of words and I need to find words that contain ALL of desired characters. I know how to find a substring but that find words that have the characters next to each other. I want to create something that determines if the string contains all of the characters even when they are not next to each other. </p>\n\n<p>For example if I have a string \"ent\", words in the list like \"element\", \"nintendo\", \"telephone\" would show up.</p>\n\n<p>I currently something have this logic: </p>\n\n<pre><code>String textLine = \"element\";\nRegex regX = new Regex(\"e|n|t\");\nbool containsAny = regX.IsMatch(textLine);\n</code></pre>\n\n<p>This currently returns true if ANY of the characters exist in the string. I want to create a Regex (or anything else) that will find words that match ALL desired characters. I'm writing this in C#. </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "asp.net", "ajax", "telerik"], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 3571352, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/514755455/picture?type=large", "display_name": "MorpheusZero", "link": "https://stackoverflow.com/users/3571352/morpheuszero"}, "edited": false, "score": 0, "creation_date": 1473886694, "post_id": 39499509, "comment_id": 66316648, "body": "I&#39;m currently doing this and it does work when I have AJAX disabled. But I have to enable AJAX for my bootstrap modals to work. :( For what reason, I am unsure."}, {"owner": {"reputation": 169, "user_id": 3571352, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/514755455/picture?type=large", "display_name": "MorpheusZero", "link": "https://stackoverflow.com/users/3571352/morpheuszero"}, "edited": false, "score": 0, "creation_date": 1473889883, "post_id": 39499509, "comment_id": 66317903, "body": "The event fires when I turn off the manager when I have AutoPostBack=True, but I have to enable manager to get the modal popup to work so I can actually see the control lol"}], "tags": [], "owner": {"reputation": 5720, "user_id": 3361708, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001109492032/picture?type=large", "display_name": "M. Wi\u015bnicki", "link": "https://stackoverflow.com/users/3361708/m-wi%c5%9bnicki"}, "is_accepted": false, "score": 0, "last_activity_date": 1473886548, "creation_date": 1473886548, "answer_id": 39499509, "question_id": 39499305, "link": "https://stackoverflow.com/questions/39499305/asp-net-telerik-ajax-web-forms-loading-issues/39499509#39499509", "title": "ASP.NET Telerik AJAX Web Forms Loading Issues", "body": "<p>Try to set <code>AutoPostBack = \"True\"</code> in the ListBox , because after disabling manager under AJAX sending a refresh but if Menager is on the ListBox itself refreshes . This should help. I once had a similar problem</p>\n\n<pre><code>&lt;telerik:RadListBox ID=\"RadListBox1\" AutoPostBack=\"\" runat=\"server\"&gt;&lt;/telerik:RadListBox&gt;\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 3571352, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/514755455/picture?type=large", "display_name": "MorpheusZero", "link": "https://stackoverflow.com/users/3571352/morpheuszero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473886548, "creation_date": 1473885571, "question_id": 39499305, "link": "https://stackoverflow.com/questions/39499305/asp-net-telerik-ajax-web-forms-loading-issues", "title": "ASP.NET Telerik AJAX Web Forms Loading Issues", "body": "<p>I have an ASP.NET web forms project in which I use telerik controls and AJAX Manager. The problem is here:</p>\n\n<pre><code>    &lt;telerik:RadAjaxManager ID=\"rAM\" runat=\"server\" EnableAJAX=\"true\" DefaultLoadingPanelID=\"rlp\"&gt;\n    &lt;AjaxSettings&gt;\n        &lt;telerik:AjaxSetting AjaxControlID=\"rtsSystemsSetup\"&gt;\n            &lt;UpdatedControls&gt;\n                &lt;%--&lt;telerik:AjaxUpdatedControl ControlID=\"rtsSystemsSetup\" &gt;&lt;/telerik:AjaxUpdatedControl&gt;--%&gt;\n            &lt;/UpdatedControls&gt;\n        &lt;/telerik:AjaxSetting&gt;\n        &lt;telerik:AjaxSetting AjaxControlID=\"rlbSystems\"&gt;\n            &lt;UpdatedControls&gt;\n                &lt;telerik:AjaxUpdatedControl ControlID=\"rlbSystems\"&gt;&lt;/telerik:AjaxUpdatedControl&gt;\n            &lt;/UpdatedControls&gt;\n        &lt;/telerik:AjaxSetting&gt;\n        &lt;telerik:AjaxSetting AjaxControlID=\"rlbMeasurementTypes\"&gt;\n            &lt;UpdatedControls&gt;\n                &lt;telerik:AjaxUpdatedControl ControlID=\"rlbMeasurementTypes\"&gt;&lt;/telerik:AjaxUpdatedControl&gt;\n            &lt;/UpdatedControls&gt;\n        &lt;/telerik:AjaxSetting&gt;\n    &lt;/AjaxSettings&gt;\n&lt;/telerik:RadAjaxManager&gt;\n&lt;telerik:RadAjaxLoadingPanel ID=\"rlp\" runat=\"server\"&gt;\n&lt;/telerik:RadAjaxLoadingPanel&gt;\n</code></pre>\n\n<p>When I have EnableAJAX=\"true\" everything works fine in a production and published environment. However, when I am in debug mode on my local machine, I have to set it to FALSE for some things to work correctly while I am testing. For example, if I leave it to TRUE, when I am trying to get a Listbox to ping the OnSelectedIndexChangedEvent, it does nothing--set Ajax=false, and it works fine. However, I have to change it back before I publish and it works fine in production. Some things though, like bootstrap modal popups, only work when I have AJAX=true. So I am constantly having to reload the page by making this ridiculous change to test different parts of my page.</p>\n\n<p>My CTO makes changes to the project occasionally and he has no issues with this AJAX problem I am having. Has anybody ever ran across this? Is there a server setting on my IIS Express that is wrong somewhere or something in VS I have setup wrong?</p>\n"}, {"tags": ["c#", ".net", "logging", "serilog"], "comments": [{"owner": {"reputation": 2778, "user_id": 4827151, "user_type": "registered", "accept_rate": 53, "profile_image": "https://lh6.googleusercontent.com/-5co1tbFK6P8/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucl1vK3QTTBU02raJKAU9cGndP9dxQ/photo.jpg?sz=128", "display_name": "DarkMakukudo", "link": "https://stackoverflow.com/users/4827151/darkmakukudo"}, "edited": false, "score": 1, "creation_date": 1473997963, "post_id": 39499229, "comment_id": 66362356, "body": "why are you referring to yourself? :D it&#39;s a circular reference"}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "reply_to_user": {"reputation": 2778, "user_id": 4827151, "user_type": "registered", "accept_rate": 53, "profile_image": "https://lh6.googleusercontent.com/-5co1tbFK6P8/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucl1vK3QTTBU02raJKAU9cGndP9dxQ/photo.jpg?sz=128", "display_name": "DarkMakukudo", "link": "https://stackoverflow.com/users/4827151/darkmakukudo"}, "edited": false, "score": 2, "creation_date": 1474005973, "post_id": 39499229, "comment_id": 66364675, "body": "@Sherlock since this is just a copy of an identical question (asked by someone else) about log4net. I just needed this information to be publicly documented and stackoverflow is very useful for this."}, {"owner": {"reputation": 25437, "user_id": 138206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f05af282e000b642858ef2a27063029?s=128&d=identicon&r=PG", "display_name": "Nicholas Blumhardt", "link": "https://stackoverflow.com/users/138206/nicholas-blumhardt"}, "edited": false, "score": 1, "creation_date": 1540955285, "post_id": 39499229, "comment_id": 93049448, "body": "Note, passing <code>exception.Message</code> through as the message is suboptimal with Serilog; instead, if you have to deal with events without a message of their own, use a constant <a href=\"https://messagetemplates.org\" rel=\"nofollow noreferrer\">message template</a> like <code>{ExceptionMessage}</code> and parameterize it with <code>exception.Message</code>. This avoids attempting to parse the message as a template, and won&#39;t pollute the internal message template cache. Cheers!"}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1540969874, "post_id": 39499229, "comment_id": 93053581, "body": "Hi Nick, feel free to update my answer or add your own."}], "answers": [{"comments": [{"owner": {"reputation": 767, "user_id": 2159433, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d7afb34dfef505fbf0f5e2c35de9c6db?s=128&d=identicon&r=PG", "display_name": "RichieMN", "link": "https://stackoverflow.com/users/2159433/richiemn"}, "edited": false, "score": 0, "creation_date": 1567627565, "post_id": 39499230, "comment_id": 102023278, "body": "How should this be used with the current dependency injection used in Core 2.2?  Within ConfigureServices I have:   services.AddSingleton&lt;ILogger, SerilogAdapter&gt;();  Problem is, this throws the following error:   InvalidOperationException: Unable to resolve service for type &#39;Serilog.ILogger&#39; while attempting to activate &#39;MyProject.Logging.Adapters.SerilogAdapter&#39;"}, {"owner": {"reputation": 1582, "user_id": 4977243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7201363d06bd7d1a7d07c353ed648b8e?s=128&d=identicon&r=PG&f=1", "display_name": "Quinton Smith", "link": "https://stackoverflow.com/users/4977243/quinton-smith"}, "reply_to_user": {"reputation": 767, "user_id": 2159433, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d7afb34dfef505fbf0f5e2c35de9c6db?s=128&d=identicon&r=PG", "display_name": "RichieMN", "link": "https://stackoverflow.com/users/2159433/richiemn"}, "edited": false, "score": 0, "creation_date": 1591955735, "post_id": 39499230, "comment_id": 110256902, "body": "@RichieMN you&#39;ve probably solved this issue by now but, just to document it here - just add <code>services.AddSingleton(Serilog.Log.Logger);</code> too."}, {"owner": {"reputation": 767, "user_id": 2159433, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d7afb34dfef505fbf0f5e2c35de9c6db?s=128&d=identicon&r=PG", "display_name": "RichieMN", "link": "https://stackoverflow.com/users/2159433/richiemn"}, "edited": false, "score": 0, "creation_date": 1592341990, "post_id": 39499230, "comment_id": 110390914, "body": "Thank you for the response!"}, {"owner": {"reputation": 619, "user_id": 924991, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9e24d942a3d29d96a327ea82b7dd017b?s=128&d=identicon&r=PG", "display_name": "Sai", "link": "https://stackoverflow.com/users/924991/sai"}, "edited": false, "score": 0, "creation_date": 1610095976, "post_id": 39499230, "comment_id": 116028841, "body": "Will the SerilogAdapter.Log pickup the CallerMember, LineNumber etc values from the calling class or will it always populate as SerilogAdapter class as the initiator ? for eg - if Class A is writing log by calling logging_adapter.log on line 10, then will the Serilog log message with Callermember as ClassA or SerilogAdapter?"}], "tags": [], "owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "is_accepted": true, "score": 9, "last_activity_date": 1500209464, "last_edit_date": 1500209464, "creation_date": 1473885287, "answer_id": 39499230, "question_id": 39499229, "link": "https://stackoverflow.com/questions/39499229/implementation-and-usage-of-logger-wrapper-for-serilog/39499230#39499230", "title": "Implementation and usage of logger wrapper for Serilog", "body": "<blockquote>\n  <p>So, my question is what is the proper way to create implementation that proxies to Serilog? </p>\n</blockquote>\n\n<p>you should create something like:</p>\n\n<pre><code>public class SerilogAdapter : ILogger\n{\n    private readonly Serilog.ILogger m_Adaptee;\n\n    public SerilogAdapter(Serilog.ILogger adaptee)\n    {\n        m_Adaptee = adaptee;\n    }\n\n    public void Log(LogEntry entry)\n    {\n        if (entry.Severity == LoggingEventType.Debug)\n            m_Adaptee.Debug(entry.Exception, entry.Message);\n        if (entry.Severity == LoggingEventType.Information)\n            m_Adaptee.Information(entry.Exception, entry.Message);\n        else if (entry.Severity == LoggingEventType.Warning)\n            m_Adaptee.Warning(entry.Message, entry.Exception);\n        else if (entry.Severity == LoggingEventType.Error)\n            m_Adaptee.Error(entry.Message, entry.Exception);\n        else\n            m_Adaptee.Fatal(entry.Message, entry.Exception);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Does that mean that every class that will log sth (so basically every), should have ILogger in its constructor?</p>\n</blockquote>\n\n<p>As I understand from Stevens answer: Yes, you should do this.</p>\n\n<blockquote>\n  <p>what is the best way to use it later in the code?</p>\n</blockquote>\n\n<p>If you are using a DI container, then just use the DI container to map <code>ILogger</code> to <code>SerilogAdapter</code>. You also need to register <code>Serilog.ILogger</code>, or just give an instance of Serilog logger to the DI container to inject it to the SerilogAdapter constructor.</p>\n\n<p>If you don't use a DI container, i.e., you use <a href=\"http://blog.ploeh.dk/2014/06/10/pure-di/\" rel=\"noreferrer\">Pure DI</a>, then you do something like this:</p>\n\n<pre><code>Serilog.ILogger log = Serilog.Log.Logger.ForContext(\"MyClass\");\n\nILogger logging_adapter = new SerilogAdapter(log);\n\nvar myobject = new MyClass(other_dependencies_here, logging_adapter);\n</code></pre>\n"}], "owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5194, "favorite_count": 7, "accepted_answer_id": 39499230, "answer_count": 1, "score": 5, "last_activity_date": 1500209464, "creation_date": 1473885287, "last_edit_date": 1495541357, "question_id": 39499229, "link": "https://stackoverflow.com/questions/39499229/implementation-and-usage-of-logger-wrapper-for-serilog", "title": "Implementation and usage of logger wrapper for Serilog", "body": "<p>This question is related to <a href=\"https://stackoverflow.com/users/264697/steven\">Steven</a>\u2019s answer - <a href=\"https://stackoverflow.com/a/5646876/4908919\">here</a>. He proposed a very good logger wrapper. I will paste his code below:</p>\n\n<pre><code>public interface ILogger\n{\n    void Log(LogEntry entry);\n}\n\npublic static class LoggerExtensions\n{\n    public static void Log(this ILogger logger, string message)\n    {\n        logger.Log(new LogEntry(LoggingEventType.Information,\n            message, null));\n    }\n\n    public static void Log(this ILogger logger, Exception exception)\n    {\n        logger.Log(new LogEntry(LoggingEventType.Error, \n            exception.Message, exception));\n    }\n\n    // More methods here.\n}\n</code></pre>\n\n<p>So, my question is <strong>what is the proper way to create implementation that proxies to Serilog</strong>?</p>\n\n<p>Note: this question is related to <a href=\"https://stackoverflow.com/questions/32342310/implementation-and-usage-of-logger-wrapper/32342484#32342484\">this question about log4net</a> but now specific to Serilog.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "validation", "mvvm", "asp.net-mvc-5"], "answers": [{"comments": [{"owner": {"reputation": 33321, "user_id": 1915046, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/df457b95f1a2c534b83527af54b0475b?s=128&d=identicon&r=PG", "display_name": "Jaylen", "link": "https://stackoverflow.com/users/1915046/jaylen"}, "edited": false, "score": 0, "creation_date": 1473886390, "post_id": 39499353, "comment_id": 66316505, "body": "it is also ignoring the text input just just the hidden"}, {"owner": {"reputation": 196, "user_id": 4187614, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G1580.png?s=128&g=1", "display_name": "JimmyB", "link": "https://stackoverflow.com/users/4187614/jimmyb"}, "reply_to_user": {"reputation": 33321, "user_id": 1915046, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/df457b95f1a2c534b83527af54b0475b?s=128&d=identicon&r=PG", "display_name": "Jaylen", "link": "https://stackoverflow.com/users/1915046/jaylen"}, "edited": false, "score": 0, "creation_date": 1473886535, "post_id": 39499353, "comment_id": 66316576, "body": "Are you saying other fields are being ignored rather than just the hidden ones?"}, {"owner": {"reputation": 33321, "user_id": 1915046, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/df457b95f1a2c534b83527af54b0475b?s=128&d=identicon&r=PG", "display_name": "Jaylen", "link": "https://stackoverflow.com/users/1915046/jaylen"}, "edited": false, "score": 0, "creation_date": 1473886712, "post_id": 39499353, "comment_id": 66316658, "body": "that is correct. the <code>text</code> fields are being ignored. According to jQuery Validation, the property should have <code>required</code> attribute. I was thinking that Razor will automaticly add that for you since I have the property marked as Required in the ViewModel"}, {"owner": {"reputation": 196, "user_id": 4187614, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G1580.png?s=128&g=1", "display_name": "JimmyB", "link": "https://stackoverflow.com/users/4187614/jimmyb"}, "reply_to_user": {"reputation": 33321, "user_id": 1915046, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/df457b95f1a2c534b83527af54b0475b?s=128&d=identicon&r=PG", "display_name": "Jaylen", "link": "https://stackoverflow.com/users/1915046/jaylen"}, "edited": false, "score": 0, "creation_date": 1473887162, "post_id": 39499353, "comment_id": 66316840, "body": "Is that before or after adding this script? When you add a required attribute to a property in the model used by the razor view, the framework does render the necessary html for the field to be validated properly on the client side. Are you confident <code>$.validator.setDefaults({ ignore: [] });</code> is being executed?"}, {"owner": {"reputation": 33321, "user_id": 1915046, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/df457b95f1a2c534b83527af54b0475b?s=128&d=identicon&r=PG", "display_name": "Jaylen", "link": "https://stackoverflow.com/users/1915046/jaylen"}, "edited": false, "score": 0, "creation_date": 1473889576, "post_id": 39499353, "comment_id": 66317775, "body": "I updated my question to make it more clear and after fixing couple problems with the HTML code"}, {"owner": {"reputation": 196, "user_id": 4187614, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G1580.png?s=128&g=1", "display_name": "JimmyB", "link": "https://stackoverflow.com/users/4187614/jimmyb"}, "reply_to_user": {"reputation": 33321, "user_id": 1915046, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/df457b95f1a2c534b83527af54b0475b?s=128&d=identicon&r=PG", "display_name": "Jaylen", "link": "https://stackoverflow.com/users/1915046/jaylen"}, "edited": false, "score": 0, "creation_date": 1473890553, "post_id": 39499353, "comment_id": 66318137, "body": "Your HTML shows you have a value in the hidden field. Are you hoping for <code>MM&#47;DD&#47;YYYY</code> validation? If you are then this field is valid. Likewise for  <code>TrackLocalFrom</code>"}], "tags": [], "owner": {"reputation": 196, "user_id": 4187614, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G1580.png?s=128&g=1", "display_name": "JimmyB", "link": "https://stackoverflow.com/users/4187614/jimmyb"}, "is_accepted": false, "score": 0, "last_activity_date": 1473886197, "last_edit_date": 1473886197, "creation_date": 1473885778, "answer_id": 39499353, "question_id": 39499221, "link": "https://stackoverflow.com/questions/39499221/how-can-i-do-client-validation-to-form-with-asp-net-mvc-5/39499353#39499353", "title": "How can I do client validation to form with ASP.NET MVC 5?", "body": "<p>By default JQuery Validation ignores hidden fields for client side validation. Try the following in a script block in your view or _layout.cshtml:</p>\n\n<pre><code>$(document).ready(function(){ \n $.validator.setDefaults({ ignore: [] });\n});\n</code></pre>\n\n<p>Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 33321, "user_id": 1915046, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/df457b95f1a2c534b83527af54b0475b?s=128&d=identicon&r=PG", "display_name": "Jaylen", "link": "https://stackoverflow.com/users/1915046/jaylen"}, "edited": false, "score": 0, "creation_date": 1473896626, "post_id": 39500464, "comment_id": 66319809, "body": "Thank you for your help here. The validation is still not working for me. When I click the <code>View</code> button nothing happens. I expected the form to get submitted. Additionally, now the value in the <code>LocalFrom</code> shows date and time. I only want to show the date without the time. I added <code>[DisplayFormat(DataFormatString = &quot;{0:MM&#47;dd&#47;yyyy}&quot;)]</code> to my ViewModel and removed the second parameter in the <code>@Html.TextBoxFor</code> what could be causing the form not to submit?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "reply_to_user": {"reputation": 33321, "user_id": 1915046, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/df457b95f1a2c534b83527af54b0475b?s=128&d=identicon&r=PG", "display_name": "Jaylen", "link": "https://stackoverflow.com/users/1915046/jaylen"}, "edited": false, "score": 0, "creation_date": 1473896873, "post_id": 39500464, "comment_id": 66319871, "body": "Ahh. Your &#39;VIew&#39; button is just that - its a button. Change it to <code>type=&quot;submit&quot;</code> or use <code>&lt;input class=&quot;btn btn-info&quot; type=&quot;submit&quot; value=&quot;View&quot; &#47;&gt;</code>. Then if you clear the text from the textbox and click &#39;View&#39;, you will get an error message displayed."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "reply_to_user": {"reputation": 33321, "user_id": 1915046, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/df457b95f1a2c534b83527af54b0475b?s=128&d=identicon&r=PG", "display_name": "Jaylen", "link": "https://stackoverflow.com/users/1915046/jaylen"}, "edited": false, "score": 0, "creation_date": 1473896932, "post_id": 39500464, "comment_id": 66319883, "body": "Also if you use the <code>DisplayFormatAttribute</code>, then you also need <code>ApplyInEditMode = true</code> and use <code>EditorFor()</code> For the moment, stick with using the 2nd parameter in <code>TextBoxFor()</code> to format the value"}, {"owner": {"reputation": 33321, "user_id": 1915046, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/df457b95f1a2c534b83527af54b0475b?s=128&d=identicon&r=PG", "display_name": "Jaylen", "link": "https://stackoverflow.com/users/1915046/jaylen"}, "edited": false, "score": 0, "creation_date": 1473897169, "post_id": 39500464, "comment_id": 66319935, "body": "Errr silly mistake. thank you. Now the form submits but if I don&#39;t put a value in the field it also submits. There is no validation that is taking place. also I am still seeing date and time even after adding <code>ApplyInEditMode</code>   here is what I have <code>@Html.TextBoxFor(m =&gt; m.Request.LocalFrom, new { @class = &quot;form-control small&quot;, ApplyInEditMode = true })</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "reply_to_user": {"reputation": 33321, "user_id": 1915046, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/df457b95f1a2c534b83527af54b0475b?s=128&d=identicon&r=PG", "display_name": "Jaylen", "link": "https://stackoverflow.com/users/1915046/jaylen"}, "edited": false, "score": 0, "creation_date": 1473897386, "post_id": 39500464, "comment_id": 66319995, "body": "Did you remove the hidden input? Check the html your generating - you should now see <code>&lt;input name=&quot;Request.LocalFrom&quot; id=&quot;Request_LocalFrom&quot; data-val=&quot;true&quot; data-val-date=&quot;The field Day Of must be a date.&quot; data-val-required=&quot;The Day Of field is required.&quot; value=&quot;9&#47;14&#47;2016&quot; type=&quot;text&quot; &#47;&gt;</code>"}, {"owner": {"reputation": 33321, "user_id": 1915046, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/df457b95f1a2c534b83527af54b0475b?s=128&d=identicon&r=PG", "display_name": "Jaylen", "link": "https://stackoverflow.com/users/1915046/jaylen"}, "edited": false, "score": 0, "creation_date": 1473897469, "post_id": 39500464, "comment_id": 66320019, "body": "no the hidden field is needed. Why would I need to remove it? I need to pass two values"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "reply_to_user": {"reputation": 33321, "user_id": 1915046, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/df457b95f1a2c534b83527af54b0475b?s=128&d=identicon&r=PG", "display_name": "Jaylen", "link": "https://stackoverflow.com/users/1915046/jaylen"}, "edited": false, "score": 0, "creation_date": 1473897527, "post_id": 39500464, "comment_id": 66320038, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/123394/discussion-between-stephen-muecke-and-jaylen\">continue this discussion in chat</a>."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "is_accepted": true, "score": 1, "last_activity_date": 1473897256, "last_edit_date": 1473897256, "creation_date": 1473891316, "answer_id": 39500464, "question_id": 39499221, "link": "https://stackoverflow.com/questions/39499221/how-can-i-do-client-validation-to-form-with-asp-net-mvc-5/39500464#39500464", "title": "How can I do client validation to form with ASP.NET MVC 5?", "body": "<p>You have a few issues with your implementation.</p>\n\n<p>All the <code>HtmlHelper</code> methods that generate form controls generate the correct <code>name</code> and <code>value</code> attributes necessary for 2 way model binding. You are overriding those values so that the controls now have no relationship to your model.</p>\n\n<p>You also have a hidden input for the <code>Request.LocalFrom</code> property before the textbox, so that when you submit, only the value of the hidden input (the original value of the property) will be bound and the edited value in the textbox will be ignored. In addition, because of that hidden input, the <code>data-val-*</code> attributes generated for client side validation have been applied to the hidden input, not the textbox.</p>\n\n<p>Its not clear why you need 2 view models, and ideally your <code>DefaultViewPresenter</code> view model should contain properties for <code>LocalFrom</code> and <code>From</code>, however with your current models, your view needs to be</p>\n\n<pre><code>@model Proj.Presenters.DefaultViewPresenter\n\n@using (Html.BeginForm(\"Index\", \"Track\", FormMethod.Post, new { @class=\"form-inline\", Id = \"TrackActionForm\" }))\n{ \n    @Html.AntiForgeryToken() \n    &lt;div class=\"input-group\"&gt;          \n        @Html.TextBoxFor(m =&gt; m.Request.LocalFrom, \"{0:MM/dd/yyyy}\", new { @class = \"form-control small\" })\n        @Html.ValidationMessageFor(m =&gt; m.Request.LocalFrom)\n\n        &lt;span class=\"input-group-btn\"&gt;\n            &lt;button class=\"btn btn-info\" type=\"submit\" id=\"TrackSubmit\"&gt;View&lt;/button&gt; // change to a submit button\n        &lt;/span&gt;\n    &lt;/div&gt;\n}\n</code></pre>\n\n<p>Note the 2nd parameter in <code>TextBoxFor()</code> is the format string, but that can be omitted if you use the <code>[DisplayFormat(DataFormatString = \"{0:MM/dd/yyyy}\")]</code> applies to the property. Note also the <code>HtmlHelper</code> methods generate an <code>id</code> attribute based on the property name and there should generally be no reason to overwrite it.</p>\n\n<p>As a side note, it is recommended that in your view models, you make value type properties <code>nullable</code> with the <code>[Required]</code> attribute to protect against under-posting attacks (where a malicious user posts backs and omits a name/value pair for the property, in which case it will be initialized to its default value (<code>DateTime.MinValue</code>).</p>\n\n<pre><code>[Required(ErrorMessage = \"Please enter ...\")]\n[Display(Name = \"Day Of\")]\npublic DateTime? LocalFrom { get; set; }\n</code></pre>\n"}], "owner": {"reputation": 33321, "user_id": 1915046, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/df457b95f1a2c534b83527af54b0475b?s=128&d=identicon&r=PG", "display_name": "Jaylen", "link": "https://stackoverflow.com/users/1915046/jaylen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1934, "favorite_count": 0, "accepted_answer_id": 39500464, "answer_count": 2, "score": 0, "last_activity_date": 1473897256, "creation_date": 1473885249, "last_edit_date": 1473889856, "question_id": 39499221, "link": "https://stackoverflow.com/questions/39499221/how-can-i-do-client-validation-to-form-with-asp-net-mvc-5", "title": "How can I do client validation to form with ASP.NET MVC 5?", "body": "<p>I am new to ASP.NET MVC 5. I like to learn the correct way to build a two way binding between the view and the view model. And take advantage of the client side validation script.</p>\n\n<p>Here is what I have done.</p>\n\n<ol>\n<li>I loading jQuery Library v 1.10.1</li>\n<li>I loading <a href=\"https://jqueryvalidation.org/\" rel=\"nofollow\">Jquery-Validation</a></li>\n<li>I loaded <a href=\"https://www.nuget.org/packages/Microsoft.jQuery.Unobtrusive.Validation/3.2.3\" rel=\"nofollow\">jQuery.Unobtrusive.Validation</a></li>\n</ol>\n\n<p>I created a ViewModel like so</p>\n\n<pre><code>public class RequestFormViewModel\n{\n    [Required]\n    [Display(Name = \"Day Of\")]\n    public DateTime LocalFrom { get; set; }\n\n    [Required]\n    [Display(Name = \"Does not matter since this will be hidden and I use javascript to populate the value here when before the for is submitted\")]\n    public DateTime From { get; set; }\n\n    public RequestFormViewModel()\n    {\n    }\n\n    public RequestFormViewModel(DateTime localFrom, DateTime from)\n    {\n        this.LocalFrom = localFrom;\n\n        this.From = from;\n    }\n}\n</code></pre>\n\n<p>And this is how I created my view. Note that I pass a presenter or a business layer (i.e. <code>DefaultViewPresenter</code>) to my view and not the ViewModel. The class <code>DefaultViewPresenter</code> has a property nammed <code>Request</code>. (Below I will show how my presenter looks like)</p>\n\n<pre><code>@model Proj.Presenters.DefaultViewPresenter\n\n@using (Html.BeginForm(\"Index\", \"Track\", FormMethod.Post, new { @class=\"form-inline\", Id = \"TrackActionForm\" }))\n{ \n    @Html.AntiForgeryToken()\n    @Html.HiddenFor(m =&gt; m.Request.LocalFrom, new { Id = \"TrackFrom\", Name = \"From\" })                   \n\n    &lt;div class=\"input-group\"&gt;\n\n        @Html.TextBoxFor(m =&gt; m.Request.LocalFrom, new { Value = Model.Request.LocalFrom.ToString(\"MM/dd/yyyy\"), @class = \"form-control small\", Id = \"TrackLocalFrom\", Name = \"LocalFrom\" })\n        @Html.ValidationMessage(\"LocalFrom\")\n\n        &lt;span class=\"input-group-btn\"&gt;\n            &lt;button class=\"btn btn-info\" type=\"button\" id=\"TrackSubmit\"&gt;View&lt;/button&gt;\n        &lt;/span&gt;\n\n    &lt;/div&gt;\n\n}\n</code></pre>\n\n<p>Here is how my presenter looks like </p>\n\n<pre><code>public class DefaultViewPresenter\n{\n    public RequestFormViewModel Request { get; set; }\n    .... // some other propertied that I need for the view that are not related to my form\n    ....\n    ....\n}\n</code></pre>\n\n<p><strong>Problem</strong></p>\n\n<p>When I submit the form, the form does not get submitted! I don't I get any errors. Its like the submit button has <code>return;</code> function on the click event.</p>\n\n<p>How can I get the script to validate correctly and when the form is valid processed the post request?</p>\n\n<p>What am I missing here? How can I correct this problem?</p>\n\n<p>After running my app this is the HTML markup that is razor is generating</p>\n\n<pre><code>&lt;form novalidate=\"novalidate\" id=\"TrackActionForm\" action=\"/Track\" class=\"form-inline\" method=\"post\"&gt;\n    &lt;input name=\"__RequestVerificationToken\" value=\"thmJX-Mlj5WjM3e7WMbgtb8KiEf4vuUKGzon4zO18fHDDY3cWpm2M1Lks8HbZDxX2qz7UxpRsoYvz2njNwYS_D8zclTvu9pdsJlSO0ckNLQ1\" type=\"hidden\"&gt;\n    &lt;input id=\"TrackFrom\" name=\"From\" data-val=\"true\" data-val-date=\"The field Day Of must be a date.\" data-val-required=\"The Day Of field is required.\" value=\"9/14/2016 12:00:00 AM\" type=\"hidden\"&gt;                    \n    &lt;div class=\"input-group\"&gt;\n\n        &lt;input id=\"TrackLocalFrom\" name=\"LocalFrom\" value=\"09/14/2016\" class=\"form-control small\" type=\"text\"&gt;\n        &lt;span class=\"field-validation-valid\" data-valmsg-for=\"LocalFrom\" data-valmsg-replace=\"true\"&gt;&lt;/span&gt;\n\n        &lt;span class=\"input-group-btn\"&gt;\n            &lt;button class=\"btn btn-info\" type=\"button\" id=\"TrackSubmit\"&gt;View&lt;/button&gt;\n        &lt;/span&gt;\n\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 31113, "user_id": 112079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ccb721ddaf2f6e7dccc66262f406b1?s=128&d=identicon&r=PG&f=1", "display_name": "fvu", "link": "https://stackoverflow.com/users/112079/fvu"}, "edited": false, "score": 0, "creation_date": 1473885333, "post_id": 39499190, "comment_id": 66315989, "body": "Very important to understand: the structure is the <code>tar</code> file, <code>bz2</code> just compresses the thing. So, you are right in decompressing the file first, but that will just give you a tar file from which you need to retrieve the files. There are <a href=\"http://stackoverflow.com/questions/8863875/decompress-tar-files-using-c-sharp\">c# libraries to manipulate tar files</a>"}, {"owner": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "reply_to_user": {"reputation": 31113, "user_id": 112079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ccb721ddaf2f6e7dccc66262f406b1?s=128&d=identicon&r=PG&f=1", "display_name": "fvu", "link": "https://stackoverflow.com/users/112079/fvu"}, "edited": false, "score": 0, "creation_date": 1473885611, "post_id": 39499190, "comment_id": 66316118, "body": "fvu - I dont see any tar file under <code>C:\\Temp\\ichsarp</code> ,it just has the file <code>decompressed.txt</code>,am I missing something?"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1473887506, "post_id": 39499190, "comment_id": 66316977, "body": "The point is, there&#39;s no folder/file structure in a .bz2 file. It compresses a single file and that&#39;s it. compressing multiple files/folders is usually accomplished by using <code>tar</code> to smoosh them all into one file and then compress that smooshed file. You&#39;re just compressing a single file (decompressed.txt) so <code>tar</code> isn&#39;t involved. However, that doesn&#39;t change the fact that there&#39;s no folder/file structure in a .bz2 file."}], "owner": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473890609, "creation_date": 1473885161, "last_edit_date": 1473890609, "question_id": 39499190, "link": "https://stackoverflow.com/questions/39499190/how-to-decompress-with-the-same-folder-file-structure-as-the-bz2-file", "title": "how to decompress with the same folder/file structure as the .bz2 file", "body": "<p>I have the following code which decompress the bz2 file given to variable <code>zipFileName</code> ,I want to change the code to decompress in the same folder/file structure as present in .bz2 file?please suggest how to do that.</p>\n\n<pre><code>using System;\nusing System.IO;\nusing ICSharpCode.SharpZipLib.BZip2;\nclass Program\n    {\n\n    static void Main(string[] args)\n        {\n\n        var zipFileName = @\"C:\\Temp\\bins-hw.2.tar.bz2\";\n        using (FileStream fileToDecompressAsStream = System.IO.File.OpenRead(zipFileName))\n        {\n            string decompressedFileName = @\"C:\\Temp\\ichsarp\\decompressed.txt\";\n            using (FileStream decompressedStream = File.Create(decompressedFileName))\n            {\n                try\n                {\n                    BZip2.Decompress(fileToDecompressAsStream, decompressedStream, true);\n                }\n                catch (Exception ex)\n                {\n                    Console.WriteLine(ex.Message);\n                }\n            }\n        }\n\n    }\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 2, "creation_date": 1473885134, "post_id": 39499151, "comment_id": 66315884, "body": "<code>, new { viewbag = ViewBag.URL }</code> ? or even more readable<code>, new { url = ViewBag.URL }</code>(Assuming your Index action has a parameter called url)"}, {"owner": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1473902899, "post_id": 39499151, "comment_id": 66321160, "body": "And you didn&#39;t tell what you want!"}, {"owner": {"reputation": 988, "user_id": 571723, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/be1759766cc3c5e34c82749523e888ea?s=128&d=identicon&r=PG", "display_name": "dmikester1", "link": "https://stackoverflow.com/users/571723/dmikester1"}, "edited": false, "score": 0, "creation_date": 1473953532, "post_id": 39499151, "comment_id": 66345861, "body": "That&#39;s because what I want is dynamic.  ViewBag.URL contains a word that I set in the controller.  I want that word to get passed in as a parameter to the URL so my generated URL becomes &quot;..../?word=true&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "is_accepted": false, "score": 1, "last_activity_date": 1473940436, "last_edit_date": 1473940436, "creation_date": 1473899687, "answer_id": 39501584, "question_id": 39499151, "link": "https://stackoverflow.com/questions/39499151/using-a-variable-in-html-actionlink-route-value/39501584#39501584", "title": "Using a variable in html.actionlink route value", "body": "<p>Since you already have the URL set in <code>ViewBag.URL</code>, you can just go ahead and use a HTML anchor <code>&lt;a&gt;</code>. You've already solved the problem an action link was designed to solve. So, just do:</p>\n\n<pre><code>&lt;a href=\"@ViewBag.URL\"&gt; Back to previous page&lt;/a&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1473903045, "post_id": 39501713, "comment_id": 66321188, "body": "Would that get the &quot;old&quot; version of the page if the page is dynamic?"}, {"owner": {"reputation": 988, "user_id": 571723, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/be1759766cc3c5e34c82749523e888ea?s=128&d=identicon&r=PG", "display_name": "dmikester1", "link": "https://stackoverflow.com/users/571723/dmikester1"}, "edited": false, "score": 0, "creation_date": 1473953736, "post_id": 39501713, "comment_id": 66345985, "body": "This is an option I might go if I can&#39;t figure the other way out.  But my page is dynamic, so it is not ideal."}], "tags": [], "owner": {"reputation": 198, "user_id": 783724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa6425e5bcf7a7156f58f0db5379af17?s=128&d=identicon&r=PG", "display_name": "Fehr", "link": "https://stackoverflow.com/users/783724/fehr"}, "is_accepted": false, "score": 0, "last_activity_date": 1473907228, "last_edit_date": 1473907228, "creation_date": 1473900852, "answer_id": 39501713, "question_id": 39499151, "link": "https://stackoverflow.com/questions/39499151/using-a-variable-in-html-actionlink-route-value/39501713#39501713", "title": "Using a variable in html.actionlink route value", "body": "<p>Have you considered simply making the browser go back to it's previous page?</p>\n\n<pre><code>&lt;a href=\"javascript:void(0);\" onclick=\"history.go(-1);\"&gt;Back&lt;/a&gt;\n</code></pre>\n\n<p>That way it will truly go back to the previous page, rather than the \"Index\" controller specifically, regardless of what link you came from. Keep in mind though, (as Phil1970 points out) that page will be from the browser's cache rather than a one from a redirect, so any changes to content won't be reflected. </p>\n"}], "owner": {"reputation": 988, "user_id": 571723, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/be1759766cc3c5e34c82749523e888ea?s=128&d=identicon&r=PG", "display_name": "dmikester1", "link": "https://stackoverflow.com/users/571723/dmikester1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1473953593, "creation_date": 1473884997, "last_edit_date": 1473953593, "question_id": 39499151, "link": "https://stackoverflow.com/questions/39499151/using-a-variable-in-html-actionlink-route-value", "title": "Using a variable in html.actionlink route value", "body": "<p>Like the title says, I am simply trying to use a variable in the route value section of an action link.  Here is my code:</p>\n\n<pre><code>    var viewbag = ViewBag.URL;\n    @Html.ActionLink( \"Back to previous page\", \"Index\", new { viewbag = true })\n</code></pre>\n\n<p>So the second line is reading \"viewbag\" in as actual text instead of the variable and I cannot figure out how to make a variable instead.  So my generated url becomes \"?viewbag=true\" instead of what I really want.  ViewBag.URL contains a word that I set in the controller. I want that word to get passed in as a parameter to the URL so my generated URL becomes \"..../?word=true\" </p>\n"}, {"tags": ["c#", "json", "rest", "wcf"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 1330707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ef54598861f85bd56364de9e885fc3?s=128&d=identicon&r=PG", "display_name": "crowemi", "link": "https://stackoverflow.com/users/1330707/crowemi"}, "edited": false, "score": 0, "creation_date": 1473885717, "post_id": 39499192, "comment_id": 66316169, "body": "Yes - the method was a mistake, which has since been corrected and with the same result.  Which object names need to the be same. The object name within the JSON and the Service Contract, Service Method... ?   I&#39;ve tried several different naming conventions as this seems to be the most obvious issue."}, {"owner": {"reputation": 4215, "user_id": 2847159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/807df51b8f75a805ff14837eab55a5bc?s=128&d=identicon&r=PG", "display_name": "mkysoft", "link": "https://stackoverflow.com/users/2847159/mkysoft"}, "reply_to_user": {"reputation": 13, "user_id": 1330707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ef54598861f85bd56364de9e885fc3?s=128&d=identicon&r=PG", "display_name": "crowemi", "link": "https://stackoverflow.com/users/1330707/crowemi"}, "edited": false, "score": 0, "creation_date": 1473886730, "post_id": 39499192, "comment_id": 66316664, "body": "It is not important, don&#39;t use object name or method variable name. Send properties only: { AttributeId: 1, Attribute: &quot;ss&quot;}"}, {"owner": {"reputation": 4215, "user_id": 2847159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/807df51b8f75a805ff14837eab55a5bc?s=128&d=identicon&r=PG", "display_name": "mkysoft", "link": "https://stackoverflow.com/users/2847159/mkysoft"}, "reply_to_user": {"reputation": 13, "user_id": 1330707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ef54598861f85bd56364de9e885fc3?s=128&d=identicon&r=PG", "display_name": "crowemi", "link": "https://stackoverflow.com/users/1330707/crowemi"}, "edited": false, "score": 0, "creation_date": 1473886861, "post_id": 39499192, "comment_id": 66316731, "body": "Firstly make your service test with tools rather then c# code. For example chrome browser has an extension which name is Postman is best."}, {"owner": {"reputation": 13, "user_id": 1330707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ef54598861f85bd56364de9e885fc3?s=128&d=identicon&r=PG", "display_name": "crowemi", "link": "https://stackoverflow.com/users/1330707/crowemi"}, "edited": false, "score": 0, "creation_date": 1473887072, "post_id": 39499192, "comment_id": 66316802, "body": "Okay - I&#39;ve tried to send the JSON without the &quot;attribute&quot; wrapper, but it returns a 400 - bad request. I will look into Chrome, however, I&#39;m using MVC and within the view I&#39;m making an jQuery AJAX call to controller which turns around and calls the service via the methods above. So, when using the browser tools, I often only get the first jQuery AJAX call."}], "tags": [], "owner": {"reputation": 4215, "user_id": 2847159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/807df51b8f75a805ff14837eab55a5bc?s=128&d=identicon&r=PG", "display_name": "mkysoft", "link": "https://stackoverflow.com/users/2847159/mkysoft"}, "is_accepted": true, "score": 0, "last_activity_date": 1473930138, "last_edit_date": 1473930138, "creation_date": 1473885161, "answer_id": 39499192, "question_id": 39499113, "link": "https://stackoverflow.com/questions/39499113/wcf-rest-post-complex-object/39499192#39499192", "title": "WCF REST Post Complex Object", "body": "<p>Your method not match: on service contract it is typed as PUT but on client it is POST. Also your object name not matched: attribute =! AttributeContract</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 1330707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ef54598861f85bd56364de9e885fc3?s=128&d=identicon&r=PG", "display_name": "crowemi", "link": "https://stackoverflow.com/users/1330707/crowemi"}, "edited": false, "score": 0, "creation_date": 1473886893, "post_id": 39499271, "comment_id": 66316744, "body": "I was hoping to do everything using HttpClient. However, I am reviewing this and will potentially switch to WebRequest/WebResponse."}, {"owner": {"reputation": 5720, "user_id": 3361708, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001109492032/picture?type=large", "display_name": "M. Wi\u015bnicki", "link": "https://stackoverflow.com/users/3361708/m-wi%c5%9bnicki"}, "reply_to_user": {"reputation": 13, "user_id": 1330707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ef54598861f85bd56364de9e885fc3?s=128&d=identicon&r=PG", "display_name": "crowemi", "link": "https://stackoverflow.com/users/1330707/crowemi"}, "edited": false, "score": 0, "creation_date": 1473887609, "post_id": 39499271, "comment_id": 66317026, "body": "I remember I had problem also with httpclient and I used this way"}, {"owner": {"reputation": 13, "user_id": 1330707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ef54598861f85bd56364de9e885fc3?s=128&d=identicon&r=PG", "display_name": "crowemi", "link": "https://stackoverflow.com/users/1330707/crowemi"}, "edited": false, "score": 0, "creation_date": 1473889763, "post_id": 39499271, "comment_id": 66317855, "body": "When you did this, you were able to deserialize the JSON into the object on the service side and access its members?"}, {"owner": {"reputation": 13, "user_id": 1330707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ef54598861f85bd56364de9e885fc3?s=128&d=identicon&r=PG", "display_name": "crowemi", "link": "https://stackoverflow.com/users/1330707/crowemi"}, "edited": false, "score": 0, "creation_date": 1473890516, "post_id": 39499271, "comment_id": 66318127, "body": "If we send the JSON without the &quot;attribute&quot; wrapper we get a WebResponse of 400 - bad request. If we send with wrapper the object still never makes it to the service, however, we&#39;re able to get to the service with 200."}], "tags": [], "owner": {"reputation": 5720, "user_id": 3361708, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001109492032/picture?type=large", "display_name": "M. Wi\u015bnicki", "link": "https://stackoverflow.com/users/3361708/m-wi%c5%9bnicki"}, "is_accepted": false, "score": 0, "last_activity_date": 1473885451, "creation_date": 1473885451, "answer_id": 39499271, "question_id": 39499113, "link": "https://stackoverflow.com/questions/39499113/wcf-rest-post-complex-object/39499271#39499271", "title": "WCF REST Post Complex Object", "body": "<pre><code>string serviceCall = string.Format(\"{0}AttributeService.svc/AttributeDefinition/\", _serviceLocation);\n\n    int attributeIdInt = Convert.ToInt32(attributeId);\n    int objectIdInt = Convert.ToInt32(objectId);\n\n    AttributeContract attributeContract = new AttributeContract()\n    {\n        AttributeId = attributeIdInt,\n        AttributeValue = attributeValue,\n        ObjectId = objectIdInt,\n        ObjectType = objectType\n    };\n\n                    var request =\n                        (HttpWebRequest)\n                            WebRequest.Create(new Uri(serviceCall );\n                    request.ContentType = \"application/json\";\n                    request.Method = \"PUT\";\n                    var itemToSend = JsonConvert.SerializeObject(\n                        attributeContract \n                        );\n                    using (var streamWriter = new StreamWriter(await request.GetRequestStreamAsync()))\n                    {\n                        streamWriter.Write(itemToSend);\n                        streamWriter.Flush();\n                        streamWriter.Dispose();\n                    }\n</code></pre>\n\n<p>Try this code</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 1330707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ef54598861f85bd56364de9e885fc3?s=128&d=identicon&r=PG", "display_name": "crowemi", "link": "https://stackoverflow.com/users/1330707/crowemi"}, "is_accepted": false, "score": 0, "last_activity_date": 1473896192, "creation_date": 1473896192, "answer_id": 39501163, "question_id": 39499113, "link": "https://stackoverflow.com/questions/39499113/wcf-rest-post-complex-object/39501163#39501163", "title": "WCF REST Post Complex Object", "body": "<p>Turns out you don't need the object wrapper in the JSON (per mkysoft). A little digging in <a href=\"http://www.telerik.com/fiddler\" rel=\"nofollow\">fiddler</a> revealed that I was having issues deserializing the datetime property on my Data Contract. I changed the property from DateTime to string while I determine the best path forward. </p>\n"}], "owner": {"reputation": 13, "user_id": 1330707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ef54598861f85bd56364de9e885fc3?s=128&d=identicon&r=PG", "display_name": "crowemi", "link": "https://stackoverflow.com/users/1330707/crowemi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 568, "favorite_count": 0, "accepted_answer_id": 39499192, "answer_count": 3, "score": 0, "last_activity_date": 1473930138, "creation_date": 1473884836, "question_id": 39499113, "link": "https://stackoverflow.com/questions/39499113/wcf-rest-post-complex-object", "title": "WCF REST Post Complex Object", "body": "<p>For some reason my AttributeContract object isn't being passed from my client to my service method correctly. I can successfully access the method via the call, but the object is empty. Any suggestions on what I'm doing wrong here? </p>\n\n<p><strong>Client</strong></p>\n\n<pre><code>using (var client = new HttpClient())\n{\n    string serviceCall = string.Format(\"{0}AttributeService.svc/AttributeDefinition/\", _serviceLocation);\n\n    int attributeIdInt = Convert.ToInt32(attributeId);\n    int objectIdInt = Convert.ToInt32(objectId);\n\n    AttributeContract attributeContract = new AttributeContract()\n    {\n        AttributeId = attributeIdInt,\n        AttributeValue = attributeValue,\n        ObjectId = objectIdInt,\n        ObjectType = objectType\n    };\n\n    string attributeString = JsonConvert.SerializeObject(attributeContract);\n    string requestJsonString = \"{ \\\"attribute\\\" : \" + attributeString + \" }\";\n\n    HttpRequestMessage request = new HttpRequestMessage(HttpMethod.Post, serviceCall);\n    request.Content = new StringContent(requestJsonString, Encoding.UTF8, \"application/json\");\n\n    HttpResponseMessage response = client.SendAsync(request).Result;\n\n}\n</code></pre>\n\n<p><strong>Data Contract</strong></p>\n\n<pre><code>[DataContract(Name = \"AttributeContract\")]\npublic class AttributeContract\n{\n    [DataMember(Name = \"AttributeId\")]\n    public int AttributeId { get; set; }\n\n    [DataMember(Name = \"Attribute\")]\n    public string Attribute { get; set; }\n\n    [DataMember(Name = \"AttributeValue\")]\n    public string AttributeValue { get; set; }\n\n    [DataMember(Name = \"ObjectId\")]\n    public int ObjectId { get; set; }\n\n    [DataMember(Name = \"ObjectType\")]\n    public string ObjectType { get; set; }\n\n    [DataMember(Name = \"LastModifiedDate\")]\n    public DateTime LastModifiedDate { get; set; }\n\n    [DataMember(Name = \"LastModifiedUser\")]\n    public string LastModifiedUser { get; set; }\n}\n</code></pre>\n\n<p><strong>Service Contract</strong></p>\n\n<pre><code>[OperationContract]\n[WebInvoke(Method = \"PUT\", \n    RequestFormat = WebMessageFormat.Json, \n    ResponseFormat = WebMessageFormat.Json, \n    UriTemplate = \"AttributeDefinition/\")]\nvoid UpdateAttributes(AttributeContract attribute);\n</code></pre>\n\n<p><strong>Service Method</strong></p>\n\n<pre><code>[OperationBehavior(TransactionScopeRequired = true)]\npublic void UpdateAttributes(AttributeContract attribute)\n{\n    attribute.LastModifiedDate = DateTime.Now;    \n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "json", "gzip"], "comments": [{"owner": {"reputation": 1281, "user_id": 663853, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/0ABQE.jpg?s=128&g=1", "display_name": "Robert Green MBA", "link": "https://stackoverflow.com/users/663853/robert-green-mba"}, "edited": false, "score": 0, "creation_date": 1473884906, "post_id": 39499070, "comment_id": 66315771, "body": "Here is a related post, maybe this helps: <a href=\"http://stackoverflow.com/questions/14039804/error-330-neterr-content-decoding-failed\">ERR_CONTENT_DECODING_FAILED</a>"}, {"owner": {"reputation": 536, "user_id": 2592903, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/49533c3b3deb3979725bd86de1473bfc?s=128&d=identicon&r=PG", "display_name": "TGarrett", "link": "https://stackoverflow.com/users/2592903/tgarrett"}, "edited": false, "score": 0, "creation_date": 1473885057, "post_id": 39499070, "comment_id": 66315845, "body": "What exactly is the issue, can you show a stack trace or something with a bit more details... The error in chrome is pretty vague, but it does tell you the decoding has failed, with that being said, the more details your provide, the better I can help."}, {"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1473885562, "post_id": 39499070, "comment_id": 66316092, "body": "I don&#39;t know if this is the cause of your error, but your code doesn&#39;t actually do anything with the compressed bytes(<code>output</code>).  It kinda just falls out of scope"}], "answers": [{"comments": [{"owner": {"reputation": 658, "user_id": 5947891, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e533298ad0a3547aff0e03abf2d1ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Just Rudy", "link": "https://stackoverflow.com/users/5947891/just-rudy"}, "edited": false, "score": 0, "creation_date": 1473886282, "post_id": 39499266, "comment_id": 66316455, "body": "Thanks @Steve, I will look into the IIS configuration instead."}], "tags": [], "owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "is_accepted": true, "score": 0, "last_activity_date": 1473886643, "last_edit_date": 1473886643, "creation_date": 1473885440, "answer_id": 39499266, "question_id": 39499070, "link": "https://stackoverflow.com/questions/39499070/httpresponsemessage-compression-issue/39499266#39499266", "title": "HttpResponseMessage Compression Issue", "body": "<p>So in your code you wrote the compressed content to your <code>MemoryStream</code> but your <code>json_string</code> is still your original <code>json_string</code> which then you added that original string as response but marked it as compressed gzip format. </p>\n\n<p>So in the end Chrome tries to decode a pure string JSON content with gzip and it failed to do so</p>\n\n<p>You would want to write whats inside <code>output</code> into <code>json_string</code> object before sending it off</p>\n\n<p>Or you can config IIS to always compress everything to save yourself some trouble. </p>\n"}], "owner": {"reputation": 658, "user_id": 5947891, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e533298ad0a3547aff0e03abf2d1ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Just Rudy", "link": "https://stackoverflow.com/users/5947891/just-rudy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 39499266, "answer_count": 1, "score": 0, "last_activity_date": 1473886643, "creation_date": 1473884662, "question_id": 39499070, "link": "https://stackoverflow.com/questions/39499070/httpresponsemessage-compression-issue", "title": "HttpResponseMessage Compression Issue", "body": "<p>I have a web application written in ASP.NET. All is working okay, except that I would like to compress the data being returned. The data is basically a List of custom models. Currently I do something like:</p>\n\n<pre><code>string json_string = new JavaScriptSerializer().Serialize(my_models);\n\nusing (var output = new MemoryStream())\n{\n    using (var compressor = new Ionic.Zlib.GZipStream(output, Ionic.Zlib.CompressionMode.Compress, Ionic.Zlib.CompressionLevel.BestCompression))\n    {\n            compressor.Write(Encoding.ASCII.GetBytes(json_string), 0, json_string.Length);\n    }\n}\n</code></pre>\n\n<p>I then proceed with the following:</p>\n\n<pre><code>HttpResponseMessage json = Request.CreateResponse(HttpStatusCode.OK, json_string);\n\njson.Content.Headers.Add(\"content-encoding\", \"gzip\");\n</code></pre>\n\n<p>This causes an application error. In Chrome (through the console), I see the following message:</p>\n\n<p><strong>ERR_CONTENT_DECODING_FAILED</strong></p>\n\n<p>Where am I going wrong here? Thanks!</p>\n"}, {"tags": ["c#", "xaml", "windows-phone-8", "windows-phone-8.1", "winrt-xaml"], "answers": [{"comments": [{"owner": {"reputation": 1089, "user_id": 3833086, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/09400e12f1edbaf3e1afbf71db3a0037?s=128&d=identicon&r=PG", "display_name": "Hasan Hasanov", "link": "https://stackoverflow.com/users/3833086/hasan-hasanov"}, "edited": false, "score": 0, "creation_date": 1474416747, "post_id": 39505588, "comment_id": 66519505, "body": "Altough this code works I don&#39;t know why the above one doesn&#39;t. I mean it&#39;s a self generated one when I click create template control. Is this a bug or something?"}, {"owner": {"reputation": 971, "user_id": 5585476, "user_type": "registered", "profile_image": "https://graph.facebook.com/908576549228364/picture?type=large", "display_name": "Chirag Shah", "link": "https://stackoverflow.com/users/5585476/chirag-shah"}, "reply_to_user": {"reputation": 1089, "user_id": 3833086, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/09400e12f1edbaf3e1afbf71db3a0037?s=128&d=identicon&r=PG", "display_name": "Hasan Hasanov", "link": "https://stackoverflow.com/users/3833086/hasan-hasanov"}, "edited": false, "score": 0, "creation_date": 1474452980, "post_id": 39505588, "comment_id": 66534284, "body": "I dont think it auto-generated the code like that,if it did then that should be a bug."}, {"owner": {"reputation": 1089, "user_id": 3833086, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/09400e12f1edbaf3e1afbf71db3a0037?s=128&d=identicon&r=PG", "display_name": "Hasan Hasanov", "link": "https://stackoverflow.com/users/3833086/hasan-hasanov"}, "edited": false, "score": 0, "creation_date": 1474459820, "post_id": 39505588, "comment_id": 66538848, "body": "this is a completely new solution. I just created the template control and run the application. The result is here. So its probably a bug as you said. Thanks for your help."}], "tags": [], "owner": {"reputation": 971, "user_id": 5585476, "user_type": "registered", "profile_image": "https://graph.facebook.com/908576549228364/picture?type=large", "display_name": "Chirag Shah", "link": "https://stackoverflow.com/users/5585476/chirag-shah"}, "is_accepted": true, "score": 1, "last_activity_date": 1473925507, "creation_date": 1473925507, "answer_id": 39505588, "question_id": 39499057, "link": "https://stackoverflow.com/questions/39499057/cannot-create-custom-windows-phone-control/39505588#39505588", "title": "Cannot create custom windows phone control", "body": "<p>Try this:</p>\n\n<pre><code>&lt;ResourceDictionary\nxmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\nxmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\nxmlns:local=\"using:App1\" xmlns:local2=\"using:App1.Controls\"&gt;\n\n&lt;Style TargetType=\"local2:CustomControl1\" &gt;\n    &lt;Setter Property=\"Template\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;ControlTemplate TargetType=\"local2:CustomControl1\"&gt;\n                &lt;Border\n                    Background=\"{TemplateBinding Background}\"\n                    BorderBrush=\"{TemplateBinding BorderBrush}\"\n                    BorderThickness=\"{TemplateBinding BorderThickness}\"&gt;\n                &lt;/Border&gt;\n            &lt;/ControlTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n&lt;/Style&gt;\n</code></pre>\n\n<p></p>\n"}], "owner": {"reputation": 1089, "user_id": 3833086, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/09400e12f1edbaf3e1afbf71db3a0037?s=128&d=identicon&r=PG", "display_name": "Hasan Hasanov", "link": "https://stackoverflow.com/users/3833086/hasan-hasanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 39505588, "answer_count": 1, "score": 0, "last_activity_date": 1473925507, "creation_date": 1473884603, "last_edit_date": 1473893222, "question_id": 39499057, "link": "https://stackoverflow.com/questions/39499057/cannot-create-custom-windows-phone-control", "title": "Cannot create custom windows phone control", "body": "<p>I am trying to create a custom template control for my <code>Windows Phone 8.1</code> project but whatever I do it gives me the following exception:</p>\n\n<blockquote>\n  <p>Failed to create a 'System.Type' from the text\n  'local2:CustomControl1'.</p>\n</blockquote>\n\n<p>I really appreciate any help. Here is my current code</p>\n\n<p><strong>PivotPage.xaml:</strong></p>\n\n<pre><code>    &lt;Page\n        x:Class=\"App1.PivotPage\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:controls=\"using:App1.Controls\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:data=\"using:App1.Data\"\n        xmlns:local=\"using:App1\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\"\n        DataContext=\"{Binding DefaultViewModel, RelativeSource={RelativeSource Self}}\"\n        mc:Ignorable=\"d\"&gt;\n    &lt;Grid&gt;\n        &lt;controls:CustomControl1 /&gt;\n    &lt;/Grid&gt;\n&lt;/Page&gt;\n</code></pre>\n\n<p><strong>CustomControl1.cs</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Runtime.InteropServices.WindowsRuntime;\nusing Windows.UI.Xaml;\nusing Windows.UI.Xaml.Controls;\nusing Windows.UI.Xaml.Data;\nusing Windows.UI.Xaml.Documents;\nusing Windows.UI.Xaml.Input;\nusing Windows.UI.Xaml.Media;\n\n// The Templated Control item template is documented at http://go.microsoft.com/fwlink/?LinkId=234235\n\nnamespace App1.Controls\n{\n    public sealed class CustomControl1 : Control\n    {\n        public CustomControl1()\n        {\n            this.DefaultStyleKey = typeof(CustomControl1);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Generic.xaml</strong></p>\n\n<pre><code>&lt;ResourceDictionary\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:local=\"using:App1\"&gt;\n\n    &lt;Style TargetType=\"local2:CustomControl1\" xmlns:local2=\"using:App1.Controls\"&gt;\n        &lt;Setter Property=\"Template\"&gt;\n            &lt;Setter.Value&gt;\n                &lt;ControlTemplate TargetType=\"local2:CustomControl1\"&gt;\n                    &lt;Border\n                        Background=\"{TemplateBinding Background}\"\n                        BorderBrush=\"{TemplateBinding BorderBrush}\"\n                        BorderThickness=\"{TemplateBinding BorderThickness}\"&gt;\n                    &lt;/Border&gt;\n                &lt;/ControlTemplate&gt;\n            &lt;/Setter.Value&gt;\n        &lt;/Setter&gt;\n    &lt;/Style&gt;\n&lt;/ResourceDictionary&gt;\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "linq", "selenium-webdriver"], "comments": [{"owner": {"reputation": 4393, "user_id": 3691973, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/iytIc.jpg?s=128&g=1", "display_name": "Necoras", "link": "https://stackoverflow.com/users/3691973/necoras"}, "edited": false, "score": 0, "creation_date": 1473884428, "post_id": 39498953, "comment_id": 66315522, "body": "Your question is very confusing. Why are you using Linq to SQL, but not querying a database? What are you trying to add or subtract from? Do you mean DateTime.Now rather than Date.TimeNow?"}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1473884429, "post_id": 39498953, "comment_id": 66315523, "body": "simple answer: you can&#39;t. Long answer: No you cannot. Unless the server is exposing an api or putting it on he webpage you can&#39;t access the server directly"}], "answers": [{"tags": [], "owner": {"reputation": 1881, "user_id": 1016740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/eb375ccfe08a31194121e4089f5ca9c8?s=128&d=identicon&r=PG", "display_name": "GANI", "link": "https://stackoverflow.com/users/1016740/gani"}, "is_accepted": false, "score": 0, "last_activity_date": 1473884860, "creation_date": 1473884860, "answer_id": 39499118, "question_id": 39498953, "link": "https://stackoverflow.com/questions/39498953/get-server-time-using-linq-to-sql/39499118#39499118", "title": "get server time using linq to sql", "body": "<pre><code> DateTime serverTime = DateTime.Now; // current Time\n DateTime utcTime = serverTime.ToUniversalTime; // convert it to Utc\n\n TimeZoneInfo timezoneinfo = TimeZoneInfo.FindSystemTimeZoneById(\"India Standard Time\");\n DateTime localTime = TimeZoneInfo.ConvertTimeFromUtc(utcTime, timezoneinfo ); // convert from utc to local.\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 6595971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a577235dc5488c20bceb5e3e8507ab7?s=128&d=identicon&r=PG&f=1", "display_name": "seleniumtester", "link": "https://stackoverflow.com/users/6595971/seleniumtester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 473, "favorite_count": 0, "closed_date": 1473885608, "answer_count": 1, "score": -1, "last_activity_date": 1473884860, "creation_date": 1473884236, "question_id": 39498953, "link": "https://stackoverflow.com/questions/39498953/get-server-time-using-linq-to-sql", "closed_reason": "Duplicate", "title": "get server time using linq to sql", "body": "<p>How to get db server time using linq in selenium C# without using add and substract. Date.TimeNow is giving system time (EST) but the server is with different time (CST). As per instructions I am not supposed to use Add or substraction. Could someone help me with this.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "dependency-injection", "unity-container"], "comments": [{"owner": {"reputation": 4393, "user_id": 3691973, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/iytIc.jpg?s=128&g=1", "display_name": "Necoras", "link": "https://stackoverflow.com/users/3691973/necoras"}, "edited": false, "score": 0, "creation_date": 1473884727, "post_id": 39498934, "comment_id": 66315675, "body": "Can you provide a link to the blog post you&#39;re referencing?"}, {"owner": {"reputation": 1077, "user_id": 1452390, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EtorW.jpg?s=128&g=1", "display_name": "Daniil T.", "link": "https://stackoverflow.com/users/1452390/daniil-t"}, "reply_to_user": {"reputation": 4393, "user_id": 3691973, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/iytIc.jpg?s=128&g=1", "display_name": "Necoras", "link": "https://stackoverflow.com/users/3691973/necoras"}, "edited": false, "score": 0, "creation_date": 1473888000, "post_id": 39498934, "comment_id": 66317173, "body": "I added ulr to blog post"}, {"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1473888343, "post_id": 39498934, "comment_id": 66317294, "body": "You mean classes whose name ends with &quot;Repository&quot;, right? Do you have the &quot;CManager.Repository&quot; project references from the composition root project (the project where you use Unity)?"}, {"owner": {"reputation": 1077, "user_id": 1452390, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EtorW.jpg?s=128&g=1", "display_name": "Daniil T.", "link": "https://stackoverflow.com/users/1452390/daniil-t"}, "reply_to_user": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1473889390, "post_id": 39498934, "comment_id": 66317704, "body": "@YacoubMassad Yes, classes which ends with Repository example PersonRepository.cs I setup Unity in CManager.Infrastructure with has reference to CManger.Repository and to web app."}], "answers": [{"comments": [{"owner": {"reputation": 1077, "user_id": 1452390, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EtorW.jpg?s=128&g=1", "display_name": "Daniil T.", "link": "https://stackoverflow.com/users/1452390/daniil-t"}, "edited": false, "score": 0, "creation_date": 1474127470, "post_id": 39544483, "comment_id": 66409586, "body": "I have such solution architecture. Web - representation layer. Database - is where I implement context. Entity - where all entities are stored. Repository - repository implemented. Core - basically bll. Infrastructure - this is layer where I implement unity DI. So if I want auto register repo&#39;s there how should code look like?"}, {"owner": {"reputation": 1077, "user_id": 1452390, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EtorW.jpg?s=128&g=1", "display_name": "Daniil T.", "link": "https://stackoverflow.com/users/1452390/daniil-t"}, "edited": false, "score": 0, "creation_date": 1474130911, "post_id": 39544483, "comment_id": 66410637, "body": "My DI is configured and working. I can&#39;t make auto-register work. Web is linked to infrastructure. Question is how to scan from specific assembly for specific classes"}, {"owner": {"reputation": 4241, "user_id": 3994482, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/GzsFL.png?s=128&g=1", "display_name": "Mahbubur Rahman", "link": "https://stackoverflow.com/users/3994482/mahbubur-rahman"}, "reply_to_user": {"reputation": 1077, "user_id": 1452390, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EtorW.jpg?s=128&g=1", "display_name": "Daniil T.", "link": "https://stackoverflow.com/users/1452390/daniil-t"}, "edited": false, "score": 0, "creation_date": 1474131542, "post_id": 39544483, "comment_id": 66410856, "body": "<code>var repositoryAssembly = AppDomain.CurrentDomain.GetAssemblies();</code> this will find all linked assemblies from current assembly  and you can filter then. No need to find specific class. It will register all Repository class based on naming convention."}, {"owner": {"reputation": 1077, "user_id": 1452390, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EtorW.jpg?s=128&g=1", "display_name": "Daniil T.", "link": "https://stackoverflow.com/users/1452390/daniil-t"}, "edited": false, "score": 0, "creation_date": 1474302175, "post_id": 39544483, "comment_id": 66465419, "body": "Thank you for your help. It worked! Maybe you know how I can specifi classes that end&#39;s with *Repository ? Because in Repository project I have IService interface that I don&#39;t want to register. It is for internal project purpose."}], "tags": [], "owner": {"reputation": 4241, "user_id": 3994482, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/GzsFL.png?s=128&g=1", "display_name": "Mahbubur Rahman", "link": "https://stackoverflow.com/users/3994482/mahbubur-rahman"}, "is_accepted": true, "score": 4, "last_activity_date": 1474130482, "last_edit_date": 1474130482, "creation_date": 1474099661, "answer_id": 39544483, "question_id": 39498934, "link": "https://stackoverflow.com/questions/39498934/unity-di-auto-registration-from-specific-assembly/39544483#39544483", "title": "Unity DI auto-registration from specific Assembly", "body": "<p>For <strong>auto-registration</strong> of unity it's better to separate the <code>Interfaces</code>and <code>Repositories</code> as folder in the repository project with <strong>proper naming convention.</strong><br>\n<a href=\"https://i.stack.imgur.com/lS3YY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lS3YY.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you have all <strong>repositories</strong> under single project then it's not needed to scan for all assemblies. This should register all repositories under project <code>CManager.Repository</code></p>\n\n<pre><code>  public static class UnityConfig\n   {\n     public static void RegisterComponents()\n      {\n        var container = new UnityContainer();\n        var repositoryAssembly = AppDomain.CurrentDomain.GetAssemblies()\n            .First(a =&gt; a.FullName == \"CManager.Repository, Version=X.X.X.X, Culture=neutral, PublicKeyToken=null\"); \n\n        container.RegisterTypes(repositoryAssembly.GetTypes(),\n            WithMappings.FromMatchingInterface,\n            WithName.Default,\n            WithLifetime.ContainerControlled);      \n\n        container.RegisterType&lt;ApplicationDbContext&gt;(new PerResolveLifetimeManager());\n       // ................ register other things is needed\n        DependencyResolver.SetResolver(new UnityDependencyResolver(container));\n     }\n  } \n</code></pre>\n\n<p>we have to register unity components on application <strong>startup</strong>, traditionally inside <code>Global.asax.cs</code> file. So put <code>UnityConfig.cs</code> file on startup project under <code>App_Start</code> folder.</p>\n\n<pre><code>public class MvcApplication : HttpApplication\n{\n    protected void Application_Start()\n    {\n        UnityConfig.RegisterComponents();\n        AreaRegistration.RegisterAllAreas();\n        FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);\n        RouteConfig.RegisterRoutes(RouteTable.Routes);\n        BundleConfig.RegisterBundles(BundleTable.Bundles);            \n    }      \n}\n</code></pre>\n\n<p>and make sure other projects are <strong>linked up</strong> with startup project. </p>\n"}, {"tags": [], "owner": {"reputation": 5, "user_id": 2127375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b436da9072fc51cf2b86fefddf4e28b?s=128&d=identicon&r=PG", "display_name": "theDude", "link": "https://stackoverflow.com/users/2127375/thedude"}, "is_accepted": false, "score": -2, "last_activity_date": 1474167933, "creation_date": 1474167933, "answer_id": 39553645, "question_id": 39498934, "link": "https://stackoverflow.com/questions/39498934/unity-di-auto-registration-from-specific-assembly/39553645#39553645", "title": "Unity DI auto-registration from specific Assembly", "body": "<p>This works for me on a enterprise web-api that I have been working on for months now. It has an n-tier architecture with a data layer that has .cs files that end with 'Repository'. While I agree with the other post the Interfaces should be seperated, in my web-api they are not implemented in this way. </p>\n\n<pre><code>using System;\nusing System.Web.Http;\nusing Microsoft.Practices.Unity;\nusing Microsoft.Practices.Unity.Configuration;\nusing Unity.WebApi;\n\nnamespace Blah.Endpoints.App_Start\n{\n    /// &lt;summary&gt;\n    /// Specifies the Unity configuration for the main container.\n    /// &lt;/summary&gt;\n    public static class UnityConfig\n    {\n        public static void RegisterComponents()\n        {\n            var container = new UnityContainer();\n\n            // register all your components with the container here\n            // it is NOT necessary to register your controllers\n            RegisterTypes(container);\n            // e.g. container.RegisterType&lt;ITestService, TestService&gt;();\n\n            GlobalConfiguration.Configuration.DependencyResolver = new UnityDependencyResolver(container);\n        }\n\n        #region Unity Container\n        private static Lazy&lt;IUnityContainer&gt; container = new Lazy&lt;IUnityContainer&gt;(() =&gt;\n        {\n            var container = new UnityContainer();\n            RegisterTypes(container);\n            return container;\n        });\n\n        /// &lt;summary&gt;\n        /// Gets the configured Unity container.\n        /// &lt;/summary&gt;\n        public static IUnityContainer GetConfiguredContainer()\n        {\n            return container.Value;\n        }\n        #endregion\n\n        /// &lt;summary&gt;Registers the type mappings with the Unity container.&lt;/summary&gt;\n        /// &lt;param name=\"container\"&gt;The unity container to configure.&lt;/param&gt;\n        /// &lt;remarks&gt;There is no need to register concrete types such as controllers or API controllers (unless you want to \n        /// change the defaults), as Unity allows resolving a concrete type even if it was not previously registered.&lt;/remarks&gt;\n        public static void RegisterTypes(IUnityContainer container)\n        {\n\n            container.RegisterTypes(AllClasses.FromLoadedAssemblies(),\n                WithMappings.FromMatchingInterface,\n                WithName.Default,\n                null,                //WithLifetime IF we want to change the lifetime aspect aka Singletons \n                null,//GetMembers,\n                false\n                );\n        }\n\n\n    }\n}\n</code></pre>\n\n<p>This setup has usually works for my team. Sometimes we still get classes that throw unity errors for no apparent reason. For those we do something like this;</p>\n\n<pre><code>public class WcfServiceFactory : UnityServiceHostFactory\n    {\n        protected override void ConfigureContainer(IUnityContainer container)\n        {\n            //Attach hook for AOP attributes\n            container.AddNewExtension&lt;Interception&gt;();\n\n            // register all your components with the container here\n            // container\n            //    .RegisterType&lt;IService1, Service1&gt;()\n            //    .RegisterType&lt;DataContext&gt;(new HierarchicalLifetimeManager());\n\n            container.RegisterTypes(AllClasses.FromLoadedAssemblies(),\n                WithMappings.FromMatchingInterface,\n                WithName.Default,\n                null,                //WithLifetime IF we want to change the lifetime aspect aka Singletons \n                GetMembers,\n                false\n                );\n\n            container.RegisterType&lt;IPaymentService, PaymentService&gt;();\n            container.RegisterType&lt;IPaymentManager, PaymentManager&gt;();\n            container.RegisterType&lt;IPaymentMethodRepository, PaymentMethodRepository&gt;();\n            container.RegisterType&lt;IPaymentWithdrawScheduleRepository, PaymentWithdrawScheduleRepository&gt;();\n            container.RegisterType&lt;IPaymentPreEnrollmentRepository, PaymentPreEnrollmentRepository&gt;();\n            container.RegisterType&lt;ISharedLoanDataRepository&lt;tblPaymentMethod&gt;, SharedLoanDataRepository&lt;tblPaymentMethod&gt;&gt;();\n            container.RegisterType&lt;ISharedLoanDataRepository&lt;tblPaymentWithdrawSchedule&gt;, SharedLoanDataRepository&lt;tblPaymentWithdrawSchedule&gt;&gt;();\n            container.RegisterType&lt;IPaymentWithdrawScheduleOffSetTypeRepository, PaymentWithdrawScheduleOffSetTypeRepository&gt;();\n            container.RegisterType&lt;IPaymentMethodTypeRepository, PaymentMethodTypeRepository&gt;();\n            container.RegisterType&lt;IPaymentWithdrawScheduleFrequencyTypeRepository, PaymentWithdrawScheduleFrequencyTypeRepository&gt;();\n            container.RegisterType&lt;IPaymentCustomerNotificationRepository, PaymentCustomerNotificationRepository&gt;();\n            container.RegisterType&lt;ITraceLogger, TraceLogger&gt;();\n            container.RegisterType&lt;IPaymentWithdrawScheduleCancelReasonRepository, PaymentWithdrawScheduleCancelReasonRepository&gt;();\n        }\n\n        private IEnumerable&lt;InjectionMember&gt; GetMembers(Type type)\n        {\n            var list = new List&lt;InjectionMember&gt;();\n            list.Add(new InterceptionBehavior&lt;PolicyInjectionBehavior&gt;(type.ToString()));\n            list.Add(new Interceptor&lt;InterfaceInterceptor&gt;(type.ToString()));\n            return list;\n        }\n    } \n</code></pre>\n\n<p>I hope this helps</p>\n\n<p>Regards.</p>\n"}], "owner": {"reputation": 1077, "user_id": 1452390, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EtorW.jpg?s=128&g=1", "display_name": "Daniil T.", "link": "https://stackoverflow.com/users/1452390/daniil-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3645, "favorite_count": 1, "accepted_answer_id": 39544483, "answer_count": 2, "score": 3, "last_activity_date": 1474167933, "creation_date": 1473884159, "last_edit_date": 1473887960, "question_id": 39498934, "link": "https://stackoverflow.com/questions/39498934/unity-di-auto-registration-from-specific-assembly", "title": "Unity DI auto-registration from specific Assembly", "body": "<p>I'm trying to use the Unity Registration by Convention feature. \nI can't figure out how to register from specific assembly/project files with the file ending \"Repository\". </p>\n\n<pre><code>container.RegisterTypes(\n       AllClasses.FromAssembliesInBasePath(),\n       WithMappings.FromMatchingInterface,\n       WithName.Default,\n       WithLifetime.ContainerControlled);\n</code></pre>\n\n<p>I've found only this example from a MSDN blog ( <a href=\"https://blogs.msdn.microsoft.com/agile/2013/03/12/unity-configuration-registration-by-convention/\" rel=\"nofollow\">https://blogs.msdn.microsoft.com/agile/2013/03/12/unity-configuration-registration-by-convention/</a> ) post and as I understand it, this will search through all projects/assemblies and will look for default naming convention files Class and IClass.</p>\n\n<p>I have a project in my solution named CManager.Repository with repository files ending with *Repository. They are auto-registered. </p>\n\n<p>Any hint or help?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "edited": false, "score": 3, "creation_date": 1473883099, "post_id": 39498662, "comment_id": 66314872, "body": "This is valid:  <code>method(new[] {&quot;a&quot;,&quot;b&quot;});</code>"}, {"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 4, "creation_date": 1473883128, "post_id": 39498662, "comment_id": 66314881, "body": "Suppose you have another method <code>void method(KeyValuePair&lt;string,string&gt; p) {}</code> Which one is invoked? (See initialization of a dictionary)"}, {"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 3, "creation_date": 1473883228, "post_id": 39498662, "comment_id": 66314939, "body": "It isn&#39;t inconsistent.  It is based on type inference.  However, there is a reasonable limit to how far C# takes type inference before strong typing begins to break down and L.B just gave a great example of where that can happen."}, {"owner": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "edited": false, "score": 1, "creation_date": 1473883288, "post_id": 39498662, "comment_id": 66314964, "body": "Yeah, type inference is only syntactic sugar provided for convenience only in unambiguous cases."}, {"owner": {"reputation": 1694, "user_id": 1082063, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9e2ab52df7125fbce8a2ae16323c9c3b?s=128&d=identicon&r=PG", "display_name": "David I. McIntosh", "link": "https://stackoverflow.com/users/1082063/david-i-mcintosh"}, "reply_to_user": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1473884233, "post_id": 39498662, "comment_id": 66315430, "body": "@L.B: These were the answers I was looking for.  L.B.&#39;s answer is certainly sufficient to rule out allowing the syntax, (and it&#39;s not opinion-based, but technical and factual).  Thanks.  (So L.B., enter your comment as an answer and I&#39;ll accept it.)"}, {"owner": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "edited": false, "score": 0, "creation_date": 1473884519, "post_id": 39498662, "comment_id": 66315566, "body": "@DavidI.McIntosh -- He can&#39;t, the question has been closed.  Answers on closed questions are not allowed."}, {"owner": {"reputation": 1694, "user_id": 1082063, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9e2ab52df7125fbce8a2ae16323c9c3b?s=128&d=identicon&r=PG", "display_name": "David I. McIntosh", "link": "https://stackoverflow.com/users/1082063/david-i-mcintosh"}, "reply_to_user": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "edited": false, "score": 0, "creation_date": 1473885614, "post_id": 39498662, "comment_id": 66316123, "body": "@rory.ap : Hmmm.  I guess I just fail to see how a simple question on a technical issue, that did indeed result in a technical answer, is a question asking for opinions.  And I guess perhaps I just thought the question might get opened again, so that it might have a clear answer for others to see.  In any event, I have my answer - thanks L.B"}, {"owner": {"reputation": 19920, "user_id": 1383168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atB67.png?s=128&g=1", "display_name": "Slai", "link": "https://stackoverflow.com/users/1383168/slai"}, "edited": false, "score": 0, "creation_date": 1473888766, "post_id": 39498662, "comment_id": 66317482, "body": "VB fanboy interruption : that would work in VB.NET, even <code>Dim v = {&quot;a&quot;,&quot;b&quot;}</code> will be inferred as string array"}, {"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1473888870, "post_id": 39498662, "comment_id": 66317519, "body": "@DavidI.McIntosh You are pushing hard :) OK I also vote it as <code>reopen</code>, Your question in this form is clearly not &quot;opinion-based&quot;"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1473894576, "post_id": 39498662, "comment_id": 66319277, "body": "Though LB&#39;s answer is plausible, I note that the feature you are critiquing was from C# 1.0. Type inference was not added until C# 2.0, and initializers of key value pairs with object initializers was not added until C# 3.0.  So it is a logical error to reason about the design of the C# 1.0 feature based on characteristics of languages that were designed years later."}], "answers": [{"comments": [{"owner": {"reputation": 93814, "user_id": 1659, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6cc331c477243ced5ff968a32a7dd14f?s=128&d=identicon&r=PG", "display_name": "Mark Cidade", "link": "https://stackoverflow.com/users/1659/mark-cidade"}, "edited": false, "score": 0, "creation_date": 1473966025, "post_id": 39500791, "comment_id": 66352688, "body": "This is incorrect. The initialization syntax for <code>Dictionary&lt;K,V&gt;</code> corresponds to the parameters of its <code>Add()</code> method and works for any collection type. This is an error: <code>KeyValuePair&lt;int,int&gt; x = {0,0}; </code>"}], "tags": [], "owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "is_accepted": true, "score": 3, "last_activity_date": 1473893352, "creation_date": 1473893352, "answer_id": 39500791, "question_id": 39498662, "link": "https://stackoverflow.com/questions/39498662/inconsistent-initialization-syntax/39500791#39500791", "title": "Inconsistent initialization syntax", "body": "<p>Suppose you have another method</p>\n\n<pre><code>void method(KeyValuePair&lt;string,string&gt; p) {}\n</code></pre>\n\n<p>calling it like <code>method({\"a\",\"b\"});</code> would result in ambiguity..</p>\n\n<p>Remember <code>{\"a\",\"b\"}</code> may also be <em>KeyValuePair&lt;></em> as here</p>\n\n<pre><code>var dict = new Dictionary&lt;string, string&gt;() { { \"a\", \"b\" } };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 142, "user_id": 1846281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493562e8f5009df77da3993c29d62b11?s=128&d=identicon&r=PG&f=1", "display_name": "Luca Cremonesi", "link": "https://stackoverflow.com/users/1846281/luca-cremonesi"}, "edited": false, "score": 0, "creation_date": 1473951871, "post_id": 39500942, "comment_id": 66344722, "body": "&quot;... it is really weird that arrays can be initialized like this, but no other collection constructs can&quot;. Isn&#39;t somehow similar to this type of initialization: <code>new Office { Employees = { &quot;Denise&quot;, &quot;John&quot; } };</code> where Employees is a list of strings that is created in the Office constructor? How is this type of initialization called?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 142, "user_id": 1846281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493562e8f5009df77da3993c29d62b11?s=128&d=identicon&r=PG&f=1", "display_name": "Luca Cremonesi", "link": "https://stackoverflow.com/users/1846281/luca-cremonesi"}, "edited": false, "score": 1, "creation_date": 1473952154, "post_id": 39500942, "comment_id": 66344918, "body": "@LucaCremonesi: That&#39;s a collection initializer. My point is that you can&#39;t say <code>List&lt;int&gt; myList = { 1, 2, 3, };</code>  but you can say <code>int[] myArray = {1, 2, 3};</code>, and so arrays are special.  Why should arrays be special but lists not be special?  Particularly since, as you correctly note, you <i>can</i> do that in the context of an object or collection initializer."}, {"owner": {"reputation": 1694, "user_id": 1082063, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9e2ab52df7125fbce8a2ae16323c9c3b?s=128&d=identicon&r=PG", "display_name": "David I. McIntosh", "link": "https://stackoverflow.com/users/1082063/david-i-mcintosh"}, "edited": false, "score": 2, "creation_date": 1473953172, "post_id": 39500942, "comment_id": 66345628, "body": "Thanks for this.  Its a shame that one can no longer ask the type of question to which your answer truly applies, because they are &quot;opinion&quot; questions.  The &quot;opinions&quot; of people with your experience are rather valuable, and its a shame that SO no longer recognizes this."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 1694, "user_id": 1082063, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9e2ab52df7125fbce8a2ae16323c9c3b?s=128&d=identicon&r=PG", "display_name": "David I. McIntosh", "link": "https://stackoverflow.com/users/1082063/david-i-mcintosh"}, "edited": false, "score": 0, "creation_date": 1473953819, "post_id": 39500942, "comment_id": 66346039, "body": "@DavidI.McIntosh: I am well known around here for pushing back on vague &quot;why&quot; questions; that said, I think your question in its present form is clear. For more thoughts on this see <a href=\"http://meta.stackoverflow.com/questions/323334/is-asking-why-on-language-specifications-still-considered-as-primarily-opinio/323382#323382\" title=\"is asking why on language specifications still considered as primarily opinio\">meta.stackoverflow.com/questions/323334/&hellip;</a>  and <a href=\"http://meta.stackoverflow.com/questions/293815/is-it-subjective-to-ask-about-why-something-wasnt-implemented-in-the-language/293819#293819\" title=\"is it subjective to ask about why something wasnt implemented in the language\">meta.stackoverflow.com/questions/293815/&hellip;</a>"}, {"owner": {"reputation": 1694, "user_id": 1082063, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9e2ab52df7125fbce8a2ae16323c9c3b?s=128&d=identicon&r=PG", "display_name": "David I. McIntosh", "link": "https://stackoverflow.com/users/1082063/david-i-mcintosh"}, "edited": false, "score": 1, "creation_date": 1473954364, "post_id": 39500942, "comment_id": 66346372, "body": "Interesting reading.  Makes me feel better about this question and its evolution..."}, {"owner": {"reputation": 93814, "user_id": 1659, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6cc331c477243ced5ff968a32a7dd14f?s=128&d=identicon&r=PG", "display_name": "Mark Cidade", "link": "https://stackoverflow.com/users/1659/mark-cidade"}, "edited": false, "score": 0, "creation_date": 1473966686, "post_id": 39500942, "comment_id": 66353003, "body": "Collection initializers depend on an <code>Add()</code> method to work. Arrays have to be populated by index (which the array initialization syntax effectively does)."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 7, "last_activity_date": 1473894708, "last_edit_date": 1473894708, "creation_date": 1473894360, "answer_id": 39500942, "question_id": 39498662, "link": "https://stackoverflow.com/questions/39498662/inconsistent-initialization-syntax/39500942#39500942", "title": "Inconsistent initialization syntax", "body": "<p>Short answer: it's an oddity of the grammar. I've always considered this to be a \"wart\". There are a number of ways you can look at this thing and say it is weird.  It is weird that it is one of the few situations where:</p>\n\n<pre><code>T x = y;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>T x; x = y;\n</code></pre>\n\n<p>are different.  Or, another way to look at it is that it is weird that a local variable initializer is a context in which something <em>that is not an expression</em> can appear.  </p>\n\n<p>Or another way to look at it is it is really weird that this is the only situation in which a new array is created but \"new\" does not appear anywhere.</p>\n\n<p>Or another way to look at it is it is really weird that arrays can be initialized like this, but no other collection constructs can.  It makes arrays seem particularly special and important, even though they are often not the right tool for the job.</p>\n\n<p>I think if we had to do it all over again, probably initializers would require <code>new[]</code> to their left.</p>\n\n<blockquote>\n  <p>Are there technical reasons that preclude the method call here from being valid syntax? That is, is there some ambiguity in interpretation of the syntax?</p>\n</blockquote>\n\n<p>Not really. Don't read too much into this oddity. My advice is to avoid the syntax entirely; stick with proper collection initializers or array initializers. They have almost exactly the same syntax, but are legal anywhere an expression is legal.</p>\n\n<p>Regarding the other answer, of L.B.:  Though this answer does plausibly point out that there is a design issue here, it ignores the historical perspective. The feature being critiqued was created in C# 1.0, years before generic type inference (C# 2.0) or other braced collection initializers (C# 3.0) were added.  So one cannot make a justification for the design choices of a 1.0 feature on the basis of some conflict with features that came years later. The C# design team tries to be forward looking, but they were not <em>that</em> forward looking!</p>\n"}], "owner": {"reputation": 1694, "user_id": 1082063, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9e2ab52df7125fbce8a2ae16323c9c3b?s=128&d=identicon&r=PG", "display_name": "David I. McIntosh", "link": "https://stackoverflow.com/users/1082063/david-i-mcintosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "accepted_answer_id": 39500791, "answer_count": 2, "score": 2, "last_activity_date": 1473952818, "creation_date": 1473882974, "last_edit_date": 1473952818, "question_id": 39498662, "link": "https://stackoverflow.com/questions/39498662/inconsistent-initialization-syntax", "title": "Inconsistent initialization syntax", "body": "<p>In C#, the following is valid syntax, and this makes sense:</p>\n\n<pre><code>string[] v = {\"a\",\"b\"};\n</code></pre>\n\n<p>But now consider this.  Suppose we define</p>\n\n<pre><code>void method(string[] p) {...};\n</code></pre>\n\n<p>Then the following is not valid:</p>\n\n<pre><code>method({\"a\",\"b\"});\n</code></pre>\n\n<p>which is inconsistent with the above.</p>\n\n<p>Are there technical reasons that preclude the method call here from being valid syntax?  That is, is there some ambiguity in interpretation of the syntax?  Or is there some issue with memory management or persistence that makes it impossible to implement?</p>\n\n<p>Edit:\nEric Lippert's answer below is interesting - but it answers the \"why\" of design, which I wasn't actually asking (and indeed this question was originally closed because it appeared as though I was asking for his sort of answer).</p>\n\n<p>L.B's answer may indeed not be the original \"reason why\" this syntax was no allowed (as per Eric L. comments).  However, L.B's answer, as of now, is certainly a correct technical reason why such syntax could not be allowed, which is actually the question I was asking, so I choose to select L.B's answer as correct (though honestly it was a hard choice...).</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 11125, "user_id": 1387174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c4cb458658b24227da74b4dea41075?s=128&d=identicon&r=PG", "display_name": "Serlite", "link": "https://stackoverflow.com/users/1387174/serlite"}, "edited": false, "score": 0, "creation_date": 1473883185, "post_id": 39498568, "comment_id": 66314915, "body": "What exactly is <code>RIPEnemy</code>? Have you looked in the inspector and ensured you dragged a GameObject onto it?"}, {"owner": {"reputation": 85, "user_id": 5307013, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37523a0be660de5708cff1009e9b2f6d?s=128&d=identicon&r=PG", "display_name": "Mario", "link": "https://stackoverflow.com/users/5307013/mario"}, "reply_to_user": {"reputation": 11125, "user_id": 1387174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c4cb458658b24227da74b4dea41075?s=128&d=identicon&r=PG", "display_name": "Serlite", "link": "https://stackoverflow.com/users/1387174/serlite"}, "edited": false, "score": 0, "creation_date": 1473883473, "post_id": 39498568, "comment_id": 66315046, "body": "Everything in the inspector is fine, thanks. RIPEnemy is a particle effect"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1473883611, "post_id": 39498568, "comment_id": 66315125, "body": "You probably need an assignment before calling <code>Instantiate</code>. Something like <code>RIPEnemy = new ParticleEffect();</code> (or whatever that type happens to be). Without a stack trace as well as what actual type <code>RIPEnemy</code> is though no one here can answer that for you."}, {"owner": {"reputation": 85, "user_id": 5307013, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37523a0be660de5708cff1009e9b2f6d?s=128&d=identicon&r=PG", "display_name": "Mario", "link": "https://stackoverflow.com/users/5307013/mario"}, "edited": false, "score": 0, "creation_date": 1473885738, "post_id": 39498568, "comment_id": 66316182, "body": "public GameObject RIPEnemigo;"}, {"owner": {"reputation": 11125, "user_id": 1387174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c4cb458658b24227da74b4dea41075?s=128&d=identicon&r=PG", "display_name": "Serlite", "link": "https://stackoverflow.com/users/1387174/serlite"}, "edited": false, "score": 0, "creation_date": 1473886089, "post_id": 39498568, "comment_id": 66316361, "body": "You uh...you mean <code>RIPEnemy</code>, not <code>RIPEnemigo</code>, right? Otherwise that is a problem."}], "answers": [{"tags": [], "owner": {"reputation": 688, "user_id": 1864152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1970b55e14c80f524ac357bf5e93c96f?s=128&d=identicon&r=PG", "display_name": "Pino De Francesco", "link": "https://stackoverflow.com/users/1864152/pino-de-francesco"}, "is_accepted": true, "score": 3, "last_activity_date": 1473897349, "creation_date": 1473897349, "answer_id": 39501311, "question_id": 39498568, "link": "https://stackoverflow.com/questions/39498568/unassigned-reference-exception-unity/39501311#39501311", "title": "Unassigned Reference Exception, Unity", "body": "<p>Looking at your code I believe that, assuming you assigned <strong>RIPEnemigo</strong> in the inspector or by code, the line </p>\n\n<pre><code>GameObject RIP = (GameObject)Instantiate(RIPEnemy, transform.position, transform.rotation);\n</code></pre>\n\n<p>Should be </p>\n\n<pre><code>GameObject RIP = (GameObject)Instantiate(RIPEnemigo, transform.position, transform.rotation);\n</code></pre>\n\n<p>That should fix your problem.</p>\n"}], "owner": {"reputation": 85, "user_id": 5307013, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37523a0be660de5708cff1009e9b2f6d?s=128&d=identicon&r=PG", "display_name": "Mario", "link": "https://stackoverflow.com/users/5307013/mario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2793, "favorite_count": 0, "accepted_answer_id": 39501311, "answer_count": 1, "score": 0, "last_activity_date": 1473917884, "creation_date": 1473882605, "last_edit_date": 1592644375, "question_id": 39498568, "link": "https://stackoverflow.com/questions/39498568/unassigned-reference-exception-unity", "title": "Unassigned Reference Exception, Unity", "body": "<pre><code>public GameObject RIPEnemigo;        \n\nvoid Rekt()\n{\n    GameObject RIP = (GameObject)Instantiate(RIPEnemy, transform.position, transform.rotation); //Instantiate of the particles\n    Destroy(gameObject); //Destroys enemy\n    Destroy(RIP, 2f); //Destroys particles\n}\n</code></pre>\n<p>I added the particles prefab and everything in the inspector is OK, but it says:</p>\n<blockquote>\n<p>UnassignedReferenceException: The variable RIPEnemy of Bullet has not been assigned</p>\n<p>You probably need to assign the RIPEnemy variable of the Bullet script in the inspector.</p>\n</blockquote>\n<p><code>RIPEnemy</code> is a particle effect</p>\n<p>Why? It's easy, when enemy gets hit -&gt; particles -&gt; RIP Enemy -&gt; RIP Particles. I've searched in the forum but I don't understand where's my error</p>\n"}, {"tags": ["c#", "angularjs", "http-headers"], "comments": [{"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1473882828, "post_id": 39498567, "comment_id": 66314729, "body": "is it sent as cookie?"}, {"owner": {"reputation": 26, "user_id": 1687840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/36fa212d5215d9f282033375834ba0c0?s=128&d=identicon&r=PG", "display_name": "Halter", "link": "https://stackoverflow.com/users/1687840/halter"}, "reply_to_user": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1473883046, "post_id": 39498567, "comment_id": 66314846, "body": "@charlietfl eventually the data will be set as a cookie but not at the moment, I edited in the code from my API that appends the header to the response packet"}, {"owner": {"reputation": 5910, "user_id": 1410281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6eaa0cbc101d7f8751322fd55f2091?s=128&d=identicon&r=PG", "display_name": "Tamas", "link": "https://stackoverflow.com/users/1410281/tamas"}, "edited": false, "score": 0, "creation_date": 1474060008, "post_id": 39498567, "comment_id": 66394168, "body": "Have you tried <a href=\"http://stackoverflow.com/questions/28805589/how-to-read-response-headers-in-angularjs\">this</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 1850, "user_id": 3981743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f0zs6.jpg?s=128&g=1", "display_name": "Muhammed Neswine", "link": "https://stackoverflow.com/users/3981743/muhammed-neswine"}, "is_accepted": true, "score": 13, "last_activity_date": 1474090072, "creation_date": 1474090072, "answer_id": 39543166, "question_id": 39498567, "link": "https://stackoverflow.com/questions/39498567/how-can-i-read-headers-sent-from-my-api-with-angular/39543166#39543166", "title": "How can I read headers sent from my API with angular?", "body": "<p>Use the headers variable in success and error callbacks</p>\n\n<pre><code>$http.get('/url').\n  success(function(data, status, headers, config) {\n    //things to do\n  })\n  .error(function(data, status, headers, config) {\n    //things to do\n  });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2057, "user_id": 4316707, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-bIK4yhg5YVE/AAAAAAAAAAI/AAAAAAAAAKM/YC4Y4MM8zV0/photo.jpg?sz=128", "display_name": "ngCoder", "link": "https://stackoverflow.com/users/4316707/ngcoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1474093501, "creation_date": 1474093501, "answer_id": 39543536, "question_id": 39498567, "link": "https://stackoverflow.com/questions/39498567/how-can-i-read-headers-sent-from-my-api-with-angular/39543536#39543536", "title": "How can I read headers sent from my API with angular?", "body": "<p>There are two ways of handling <code>$http</code> call i.e <code>.success</code> and <code>.then</code>.But .success is deprecated by Angular since a long time, so it is recommended to use <code>.then</code>.Now to answer the question here is the <a href=\"https://plnkr.co/edit/MVwAKODetiE2GczequFH?p=preview\" rel=\"nofollow\">demo</a> of a simple GET call </p>\n\n<pre><code>$http.get('test.json').then(function(response) {\n      $scope.collection = response.data.Collections;\n      console.log(response);\n      console.log( response.headers());\n    });\n</code></pre>\n\n<p>in this I've set an authentication token to validate the request\n<code>$http.defaults.headers.common['Auth-Token'] = '1234';</code>,but if I do console.log(response.headers()) it looks like below </p>\n\n<pre><code>cache-control   :    \"no-cache\"\ncf-ray    :    \"2e3a4163cdf43084-SIN\"\ncontent-encoding   :    \"gzip\"\ncontent-type    :    \"application/json; charset=utf-8\"\ndate    :    \"Sat, 17 Sep 2016 05:46:02 GMT\"\netag    :    \"\"1ae47a56e2b2ea9ddc982cc0e61e469a-static-gzip\"\"\nserver    :    \"cloudflare-nginx\"\nstatus    :    \"304\"\nvary    :    \"accept-encoding\"\nx-xss-protection    :    \"0\"\n</code></pre>\n\n<p>This doesn't show the authentication token,but in the response there is also an object called <code>config</code> which also has <code>headers</code> object which contains my authentication token.Try following this pattern,hope this approach gives you a new view on your problem statement.</p>\n\n<pre><code>config : Object\n       L-&gt;  headers: Object\n             L-&gt;     Accept : \"application/json, text/plain, */*\"\n                     Auth-Token : \"1234\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2487, "user_id": 4221475, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a15516672256c586b4e059dea9780ce8?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/4221475/sachin"}, "is_accepted": false, "score": 0, "last_activity_date": 1474393806, "creation_date": 1474393806, "answer_id": 39600643, "question_id": 39498567, "link": "https://stackoverflow.com/questions/39498567/how-can-i-read-headers-sent-from-my-api-with-angular/39600643#39600643", "title": "How can I read headers sent from my API with angular?", "body": "<p>Use headers method returned in success callback.</p>\n\n<pre><code>$http.get('/url').\n  success(function(data, status, headers, config) {\n    response.headers = headers();\n    console.log(response.headers, response.headers['auth_token']);\n  })\n  .error(function(data, status, headers, config) {\n    //things to do\n  });\n</code></pre>\n\n<p>Do not forget to call headers().</p>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 6017500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e01c00f43f4e40312dda461dff843687?s=128&d=identicon&r=PG&f=1", "display_name": "AMRESH PANDEY", "link": "https://stackoverflow.com/users/6017500/amresh-pandey"}, "is_accepted": false, "score": 0, "last_activity_date": 1474614620, "creation_date": 1474614620, "answer_id": 39654744, "question_id": 39498567, "link": "https://stackoverflow.com/questions/39498567/how-can-i-read-headers-sent-from-my-api-with-angular/39654744#39654744", "title": "How can I read headers sent from my API with angular?", "body": "<pre><code>        // Simple GET request example:\n$http({\n  method: 'GET',\n  url: '/someUrl'\n}).then(function successCallback(response) {\n    // this callback will be called asynchronously\n    // when the response is available\n  }, function errorCallback(response) {\n    // called asynchronously if an error occurs\n    // or server returns response with an error status.\n  });\n\n\n    The response object has these properties:\n\n    data \u2013 {string|Object} \u2013 The response body transformed with the transform functions.\n    status \u2013 {number} \u2013 HTTP status code of the response.\n    headers \u2013 {function([headerName])} \u2013 Header getter function.\n    config \u2013 {Object} \u2013 The configuration object that was used to generate the request.\n    statusText \u2013 {string} \u2013 HTTP status text of the response.\n    A response status code between 200 and 299 is considered a success status and will result in the success callback being called. Any response status code outside of that range is considered an error status and will result in the error callback being called. Also, status codes less than -1 are normalized to zero. -1 usually means the request was aborted, e.g. using a config.timeout. Note that if the response is a redirect, XMLHttpRequest will transparently follow it, meaning that the outcome (success or error) will be determined by the final response status code.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1530, "user_id": 4592641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fc436c6cecf709b67af970dd7cadb8c?s=128&d=identicon&r=PG", "display_name": "eGhoul", "link": "https://stackoverflow.com/users/4592641/eghoul"}, "is_accepted": false, "score": 0, "last_activity_date": 1474647882, "creation_date": 1474647882, "answer_id": 39665457, "question_id": 39498567, "link": "https://stackoverflow.com/questions/39498567/how-can-i-read-headers-sent-from-my-api-with-angular/39665457#39665457", "title": "How can I read headers sent from my API with angular?", "body": "<pre><code>$http.post(\"http://api.domain.com/Controller/Method\",\n    JSON.stringify(data),\n    {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    })\n    .then(function (response) {\n        console.log(response);\n        //this will get you session header information\n        console.log( response.headers('session'));\n\n    }, function (response) {\n        // something went wrong\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 26, "user_id": 1687840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/36fa212d5215d9f282033375834ba0c0?s=128&d=identicon&r=PG", "display_name": "Halter", "link": "https://stackoverflow.com/users/1687840/halter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1041, "favorite_count": 1, "accepted_answer_id": 39543166, "answer_count": 5, "score": 14, "last_activity_date": 1474647882, "creation_date": 1473882602, "last_edit_date": 1473882916, "question_id": 39498567, "link": "https://stackoverflow.com/questions/39498567/how-can-i-read-headers-sent-from-my-api-with-angular", "title": "How can I read headers sent from my API with angular?", "body": "<p>I have something similar to the following code on <code>domain.com</code>:</p>\n\n<pre><code>$http.post(\"http://api.domain.com/Controller/Method\",\n    JSON.stringify(data),\n    {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    })\n    .then(function (response) {\n        console.log(response);\n    }, function (response) {\n        // something went wrong\n    });\n}\n</code></pre>\n\n<p>It works great communicating with my .NET API. <code>response.data</code> has all of the data my server needs to give me. However we have a new security token that we are passing to the client from the API and we are passing it in back to the client in the packet header. I know that the token is being passed back because I can read it in the packet on the network tab in chrome debugger. However <code>response.headers()</code> only contains <code>content-type:\"application/json; charset=utf-8\"</code> It doesn't have what is in the packet. Any one have an idea?</p>\n\n<p>The data is returned from the API like so (C#)\n<code>HttpContext.Current.Response.AppendHeader(\"session\",Guid.NewGuid().ToString());</code></p>\n\n<p>So i would expect <code>response</code> to have a header called <code>session</code>, but it does not. It is however in the packet.</p>\n"}, {"tags": ["c#", "wpf", "visual-studio", "windbg"], "comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1473885053, "post_id": 39498549, "comment_id": 66315842, "body": "reinstall vs is probably the first thing you wanna try"}, {"owner": {"reputation": 11030, "user_id": 656346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WCIys.png?s=128&g=1", "display_name": "seva titov", "link": "https://stackoverflow.com/users/656346/seva-titov"}, "edited": false, "score": 0, "creation_date": 1473950881, "post_id": 39498549, "comment_id": 66344027, "body": "Collect a crash dump of Visual Studio and send it to <a href=\"https://connect.microsoft.com/\" rel=\"nofollow noreferrer\">Microsoft Connect</a>."}, {"owner": {"reputation": 63, "user_id": 6332708, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153483692434110/picture?type=large", "display_name": "Bob Sculley", "link": "https://stackoverflow.com/users/6332708/bob-sculley"}, "edited": false, "score": 0, "creation_date": 1473954401, "post_id": 39498549, "comment_id": 66346388, "body": "Further to this issue, I upgraded to VS2015 whch now does not crash, but instead provides the following:"}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 6332708, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153483692434110/picture?type=large", "display_name": "Bob Sculley", "link": "https://stackoverflow.com/users/6332708/bob-sculley"}, "is_accepted": true, "score": 0, "last_activity_date": 1474481255, "creation_date": 1474481255, "answer_id": 39623643, "question_id": 39498549, "link": "https://stackoverflow.com/questions/39498549/visual-studio-2013-debug-crash/39623643#39623643", "title": "Visual Studio 2013 debug crash", "body": "<p>Issue was caused by registry entries at:</p>\n\n<p>HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Image File Execution Options</p>\n\n<p>Not sure where they originated, but most likely WinDbg or Application Verifier.</p>\n"}], "owner": {"reputation": 63, "user_id": 6332708, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153483692434110/picture?type=large", "display_name": "Bob Sculley", "link": "https://stackoverflow.com/users/6332708/bob-sculley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 39623643, "answer_count": 1, "score": 2, "last_activity_date": 1474481255, "creation_date": 1473882549, "last_edit_date": 1473954797, "question_id": 39498549, "link": "https://stackoverflow.com/questions/39498549/visual-studio-2013-debug-crash", "title": "Visual Studio 2013 debug crash", "body": "<p>I have a WPF project (C#) that crashes Visual Studio 2013 when I start debugging it.  I get a dialog that says [application].exe has triggered a breakpoint.  There are option buttons for Break and Continue.  If I choose continue Visual Studio crashes. If I choose Break I get to a disassembly breakpoint in Main Thread/_NtWaitForSingleObject@12():</p>\n\n<pre><code>77C60223  ?? ?? \n77C60224  ?? ?? \n77C60225  rol         byte ptr [eax],0  \n77C60228  add         byte ptr [ebx+0CC204C4h],al  \n77C6022E  add         byte ptr [eax+2B8h],dl  \n77C60234  add         byte ptr [ebx],dh  \n77C60236  leave  \n</code></pre>\n\n<p>The break is on the first add instruction at 77C60228.</p>\n\n<p>This is new behavior that didn't start until I installed the Windows 7 SDK and ran WinDbg.  WinDbg will still start and run the application, but not Visual Studio.  The application runs fine when started normally (except for the bug I'm trying to find).  The problem doesn't happen on every project, only the one I tried to debug with WinDbg.</p>\n\n<p>I am trying to learn WinDbg, but I don't want to lose the Visual Studio debugging capability.  I'm going crazy with this.  Any help is appreciated.</p>\n\n<hr>\n\n<p>Further to this issue, I upgraded to VS2015 which now does not crash, but instead provides the following:</p>\n\n<pre><code>    Managed Debugging Assistant 'FatalExecutionEngineError' has detected \na problem in 'C:\\Users\\sculleb\\Documents\\Visual Studio 2015\n\\Projects\\GOOSETest\\bin\\x86\\Debug\\GOOSETest.exe'.\n\n    Additional information: The runtime has encountered a fatal error. \nThe address of the error was at 0x72e31e51, on thread 0x2598. \nThe error code is 0xc0000005. \nThis error may be a bug in the CLR or in the unsafe or non-verifiable portions\nof user code. Common sources of this bug include user marshaling errors for \nCOM-interop or PInvoke, which may corrupt the stack.\n</code></pre>\n\n<p>The application starts normally however when \"Start without debugging\" is selected.</p>\n"}, {"tags": ["c#", "xml"], "comments": [{"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1473882166, "post_id": 39498379, "comment_id": 66314407, "body": "I would guess that <code>ConnectToXM(url)</code> isn&#39;t actually returning an XDocument that represents what you&#39;ve posted.  What you posted doesn&#39;t have a root element, and XDocument can&#39;t even load XML without a root element"}, {"owner": {"reputation": 1746, "user_id": 6827367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Q2PKr.jpg?s=128&g=1", "display_name": "Samy Sammour", "link": "https://stackoverflow.com/users/6827367/samy-sammour"}, "reply_to_user": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1473883371, "post_id": 39498379, "comment_id": 66315006, "body": "I just check the doc that returns from this method, which is exactly the same as the XML file.   all works find. only when I want to read  when I write : MessageBox.Show(doc + &quot;&quot;);  it shows all the XML file"}], "answers": [{"comments": [{"owner": {"reputation": 1746, "user_id": 6827367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Q2PKr.jpg?s=128&g=1", "display_name": "Samy Sammour", "link": "https://stackoverflow.com/users/6827367/samy-sammour"}, "edited": false, "score": 0, "creation_date": 1473943322, "post_id": 39500435, "comment_id": 66338469, "body": "It works man, thank you very much for the solution and for the explaination. just to mention something:  there is no problem I guess with the letter &quot;&#228;&quot; because it recognized in the German keyboard.   but the name space and the attribute was totally right. thank you very much"}], "tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": true, "score": 1, "last_activity_date": 1473891132, "creation_date": 1473891132, "answer_id": 39500435, "question_id": 39498379, "link": "https://stackoverflow.com/questions/39498379/xml-linq-return-nothing-office-add-ins/39500435#39500435", "title": "XML Linq return nothing office add-ins", "body": "<p>Finally got it to work\n1) You can't have the characters '&amp;', '\u00e4' in the xml file.\n2) You need a namespace for the linq to work\n3) Don't use property 'Value' when some of the element don't have all the attributes.  It give a null error.  Instead cast like I did below.</p>\n\n<p>Here is updated xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Report xmlns=\"ProfilpflegeStatus\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" Name=\"ProfilpflegeStatus\" xsi:schemaLocation=\"ProfilpflegeStatus http://bitreporting/ReportServer?%2FSkillscout%2FProfilpflegeStatusU+0026%3AFormat=XMLU+0026%3ASchema=True\"&gt;\n  &lt;Tablix1&gt;\n    &lt;Details_Collection&gt;\n      &lt;Details Textbox15=\"Klaus Baumg\u00e4rtner\" Textbox5=\"Marketing Kommunikation\" Textbox3=\"Mannheim\" Textbox26=\"Nein\" Textbox10=\"Mona\" Textbox8=\"Aalfeld\"/&gt;\n      &lt;Details Textbox15=\"Marc Schmitt\" Textbox5=\"Marc Schmitt\" Textbox3=\"Mannheim\" Textbox26=\"Nein\" Textbox10=\"Frank\" Textbox8=\"Abegg\" Textbox14=\"2013-03-11T19:18:22.513\" Textbox12=\"Service Management\"/&gt;\n      &lt;Details Textbox15=\"Marc Schmitt\" Textbox5=\"Marc Schmitt\" Textbox3=\"Mannheim\" Textbox26=\"Ja\" Textbox10=\"Frank\" Textbox8=\"Abegg\" Textbox14=\"2016-09-08T23:21:45\" Textbox12=\"Standard\" Textbox24=\"2016-09-08T23:21:45\"/&gt;\n      &lt;Details Textbox15=\"Marc Schmitt\" Textbox5=\"Marc Schmitt\" Textbox3=\"Mannheim\" Textbox26=\"Nein\" Textbox10=\"Frank\" Textbox8=\"Abegg\" Textbox14=\"2012-11-29T01:51:13.16\" Textbox12=\"Testing\"/&gt;\n      &lt;Details Textbox15=\"Marc Schmitt\" Textbox5=\"Marc Schmitt\" Textbox3=\"Mannheim\" Textbox26=\"Nein\" Textbox10=\"Frank\" Textbox8=\"Abegg\" Textbox14=\"2013-05-14T22:50:08.53\" Textbox12=\"Testmanagement\"/&gt;\n    &lt;/Details_Collection&gt;\n  &lt;/Tablix1&gt;\n&lt;/Report&gt;\n\n\n\n\n\n\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Xml;\nusing System.Xml.Linq;\n\nnamespace ConsoleApplication1\n{\n    class Program\n    {\n        const string FILENAME = @\"c:\\temp\\test.xml\";\n        static void Main(string[] args)\n        {\n            XDocument doc = XDocument.Load(FILENAME);\n            XElement report = (XElement)doc.FirstNode;\n            XNamespace ns = report.GetDefaultNamespace();\n\n            List&lt;LongProfile&gt; result = doc.Descendants(ns + \"Details\").Select(x =&gt; new LongProfile() {\n                Firstname = (string)x.Attribute(\"Textbox10\"),\n                Lastname = (string)x.Attribute(\"Textbox8\"),\n                TeamLeader = (string)x.Attribute(\"Textbox5\"),\n                Status = (string)x.Attribute(\"Textbox26\"),\n                Date = x.Attribute(\"Textbox14\") == null ? new DateTime() :(DateTime)x.Attribute(\"Textbox14\")\n            }).ToList();\n\n        }\n    }\n    public class LongProfile\n    {\n        public string Firstname { get; set; }\n        public string Lastname { get; set; }\n        public string TeamLeader { get; set; }\n        public string Status { get; set; }\n        public DateTime  Date { get; set; }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1746, "user_id": 6827367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Q2PKr.jpg?s=128&g=1", "display_name": "Samy Sammour", "link": "https://stackoverflow.com/users/6827367/samy-sammour"}, "edited": false, "score": 0, "creation_date": 1473943361, "post_id": 39505567, "comment_id": 66338494, "body": "you are right, thanks. but unfortunately I cannot make two answers as correct. but thank you"}], "tags": [], "owner": {"reputation": 23254, "user_id": 1320845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c806c11bc65456280ef4832f82441d43?s=128&d=identicon&r=PG", "display_name": "Charles Mager", "link": "https://stackoverflow.com/users/1320845/charles-mager"}, "is_accepted": false, "score": 1, "last_activity_date": 1473925450, "creation_date": 1473925450, "answer_id": 39505567, "question_id": 39498379, "link": "https://stackoverflow.com/questions/39498379/xml-linq-return-nothing-office-add-ins/39505567#39505567", "title": "XML Linq return nothing office add-ins", "body": "<p>A qualified name in XML is made up of a namespace and a local name. You've queried with the local name <code>Details</code> but haven't taken account of the namespace. </p>\n\n<p>The namespace is the default (as there is no 'prefix' on the name, and the default namespace is defined by the <code>xmlns=\"...\"</code> attribute on an element or any parent element.  In this case, this is in the root <code>Report</code> element - the namespace is <code>ProfilpflegeStatus</code>.</p>\n\n<p>You can use this in your query like this:</p>\n\n<pre><code>XNamespace ns = \"ProfilpflegeStatus\";\nvar details = doc.Descendants(ns + \"Details\");\n</code></pre>\n\n<p>Once you have this working, I'd not that some of the attributes you're selecting don't exist on all <code>Details</code> elements. You can handle this by making us of the explicit conversions available which will handle the case where the <code>XAttribute</code> returned is <code>null</code>.  For example:</p>\n\n<pre><code>Firstname = (string)x.Attribute(\"Textbox10\")\n</code></pre>\n"}], "owner": {"reputation": 1746, "user_id": 6827367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Q2PKr.jpg?s=128&g=1", "display_name": "Samy Sammour", "link": "https://stackoverflow.com/users/6827367/samy-sammour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 39500435, "answer_count": 2, "score": 0, "last_activity_date": 1473925450, "creation_date": 1473881883, "last_edit_date": 1473882150, "question_id": 39498379, "link": "https://stackoverflow.com/questions/39498379/xml-linq-return-nothing-office-add-ins", "title": "XML Linq return nothing office add-ins", "body": "<p>I have a question. I am trying to read a remote XML file.\neverything works fine except the Linq query it always return nothing.</p>\n\n<p>I used this code: </p>\n\n<pre><code>XDocument doc = ConnectToXML(url);\n    List&lt;LongProfile&gt; result = doc.Descendants(\"Details\").Select(x =&gt; new LongProfile\n                     {\n                         Firstname = x.Attribute(\"Textbox10\").Value,\n                         Lastname = x.Attribute(\"Textbox8\").Value,\n                         TeamLeader = x.Attribute(\"Textbox5\").Value,\n                         Status = x.Attribute(\"Textbox26\").Value,\n                         Date = x.Attribute(\"Textbox14\").Value\n                     }).ToList();\n\n    if (result.Count == 0) MessageBox.Show(\"null\");\n</code></pre>\n\n<p>and it always show null. </p>\n\n<p>this is a part of the XML </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n-&lt;Report xmlns=\"ProfilpflegeStatus\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" Name=\"ProfilpflegeStatus\" xsi:schemaLocation=\"ProfilpflegeStatus http://bitreporting/ReportServer?%2FSkillscout%2FProfilpflegeStatus&amp;rs%3AFormat=XML&amp;rc%3ASchema=True\"&gt;\n\n\n-&lt;Tablix1&gt;\n\n\n-&lt;Details_Collection&gt;\n\n&lt;Details Textbox15=\"Klaus Baumg\u00e4rtner\" Textbox5=\"Marketing Kommunikation\" Textbox3=\"Mannheim\" Textbox26=\"Nein\" Textbox10=\"Mona\" Textbox8=\"Aalfeld\"/&gt;\n\n&lt;Details Textbox15=\"Marc Schmitt\" Textbox5=\"Marc Schmitt\" Textbox3=\"Mannheim\" Textbox26=\"Nein\" Textbox10=\"Frank\" Textbox8=\"Abegg\" Textbox14=\"2013-03-11T19:18:22.513\" Textbox12=\"Service Management\"/&gt;\n\n&lt;Details Textbox15=\"Marc Schmitt\" Textbox5=\"Marc Schmitt\" Textbox3=\"Mannheim\" Textbox26=\"Ja\" Textbox10=\"Frank\" Textbox8=\"Abegg\" Textbox14=\"2016-09-08T23:21:45\" Textbox12=\"Standard\" Textbox24=\"2016-09-08T23:21:45\"/&gt;\n\n&lt;Details Textbox15=\"Marc Schmitt\" Textbox5=\"Marc Schmitt\" Textbox3=\"Mannheim\" Textbox26=\"Nein\" Textbox10=\"Frank\" Textbox8=\"Abegg\" Textbox14=\"2012-11-29T01:51:13.16\" Textbox12=\"Testing\"/&gt;\n\n&lt;Details Textbox15=\"Marc Schmitt\" Textbox5=\"Marc Schmitt\" Textbox3=\"Mannheim\" Textbox26=\"Nein\" Textbox10=\"Frank\" Textbox8=\"Abegg\" Textbox14=\"2013-05-14T22:50:08.53\" Textbox12=\"Testmanagement\"/&gt;\n</code></pre>\n\n<p>I am not that expert with XML. so please if you can help me to solve this problem. and provide me with some explaination. it would be great. </p>\n\n<p>thank you very much.</p>\n"}, {"tags": ["c#", ".net", "arcgis-runtime"], "comments": [{"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1473883662, "post_id": 39498377, "comment_id": 66315161, "body": "Have you tried changing the order of the points so it goes the other way around? -160,20 | -160, -20 | 160, -20 | 160, 20"}, {"owner": {"reputation": 2054, "user_id": 2000640, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/NHBJz.jpg?s=128&g=1", "display_name": "David Hope", "link": "https://stackoverflow.com/users/2000640/david-hope"}, "reply_to_user": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1473884509, "post_id": 39498377, "comment_id": 66315559, "body": "@SamiKuhmonen Yes, it doesn&#39;t seem to matter if they are clockwise or counter clockwise"}, {"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1473884815, "post_id": 39498377, "comment_id": 66315732, "body": "<a href=\"http://gis.stackexchange.com/questions/18562/how-can-i-make-a-polyline-wrap-around-the-world\">This</a> seems related: &quot;You need to break the polyline at the +-180 degree meridian&quot;. You probably have to create 2 polygons, one that goes &quot;left&quot; and stops at the meridian, and one that goes right and stops at the meridian."}, {"owner": {"reputation": 2054, "user_id": 2000640, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/NHBJz.jpg?s=128&g=1", "display_name": "David Hope", "link": "https://stackoverflow.com/users/2000640/david-hope"}, "reply_to_user": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1473887046, "post_id": 39498377, "comment_id": 66316792, "body": "@Quantic My polygon isn&#39;t supposed to cross the +-180 degree meridian, it&#39;s supposed to go the other (long) way around. Instead, it&#39;s crossing the meridian."}], "answers": [{"tags": [], "owner": {"reputation": 1803, "user_id": 1702326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76154bfd502384b03fff75dcda6a06d8?s=128&d=identicon&r=PG", "display_name": "dotMorten", "link": "https://stackoverflow.com/users/1702326/dotmorten"}, "is_accepted": true, "score": 0, "last_activity_date": 1488241620, "creation_date": 1488241620, "answer_id": 42498247, "question_id": 39498377, "link": "https://stackoverflow.com/questions/39498377/large-polygon-renders-incorrectly/42498247#42498247", "title": "Large Polygon renders incorrectly", "body": "<p>This is a bug in the 3D Renderer. The only way around it that I've found is to create two graphics, and each half must be less than 180 degrees wide. It didn't even work when creating a single polygon with two parts (the outline rendered correctly but the fill was still wrong)</p>\n\n<pre><code>        var pb = new PolygonBuilder(wgs84);\n        combined.Add(new MapPoint(-160, 20, wgs84));\n        combined.Add(new MapPoint(0, 20, wgs84));\n        combined.Add(new MapPoint(0, -20, wgs84));\n        combined.Add(new MapPoint(-160, -20, wgs84));\n        pb.AddPart(combined);\n\n        ContourOverlayScene.Graphics.Add(new Graphic() { Geometry = GeometryEngine.Densify(pb.ToGeometry(),1), Symbol = new SimpleFillSymbol() { Color = Colors.Red } });\n\n        pb = new PolygonBuilder(wgs84);\n\n        combined = new List&lt;MapPoint&gt;();\n        combined.Add(new MapPoint(0, 20, wgs84));\n        combined.Add(new MapPoint(160, 20, wgs84));\n        combined.Add(new MapPoint(160, -20, wgs84));\n        combined.Add(new MapPoint(0, -20, wgs84));\n        pb.AddPart(combined);\n\n        ContourOverlayScene.Graphics.Add(new Graphic() { Geometry = GeometryEngine.Densify(pb.ToGeometry(), 1), Symbol = new SimpleFillSymbol() { Color = Colors.Red } });\n</code></pre>\n\n<p>I have logged a bug in the ArcGIS Runtime, so hopefully this can get fixed - however currently parts > 180 will go the short way in 3D by design, so you might still have to split the geometry in two parts.</p>\n"}], "owner": {"reputation": 2054, "user_id": 2000640, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/NHBJz.jpg?s=128&g=1", "display_name": "David Hope", "link": "https://stackoverflow.com/users/2000640/david-hope"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 42498247, "answer_count": 1, "score": 0, "last_activity_date": 1488241620, "creation_date": 1473881867, "last_edit_date": 1474913435, "question_id": 39498377, "link": "https://stackoverflow.com/questions/39498377/large-polygon-renders-incorrectly", "title": "Large Polygon renders incorrectly", "body": "<p>I'm using the ArcGIS Runtime .NET Quartz Beta</p>\n\n<p>I have an application which needs to render large polygons on the 3D Scene View. </p>\n\n<p>For instance, I execute this code:</p>\n\n<pre><code>            var ContourOverlayScene = CreateGraphicsOverlay(\"Contours\");\n            MySceneView.GraphicsOverlays.Add(ContourOverlayScene);\n\n\n            List&lt;MapPoint&gt; combined = new List&lt;MapPoint&gt;();\n\n            combined.Add(new MapPoint(-160,  20, wgs84));\n            combined.Add(new MapPoint( 160,  20, wgs84));\n            combined.Add(new MapPoint( 160, -20, wgs84));\n            combined.Add(new MapPoint(-160, -20, wgs84));\n\n            var arcpoly = new Esri.ArcGISRuntime.Geometry.Polygon(combined, wgs84);\n\n            ContourOverlayScene.Graphics.Add(new Graphic() { Geometry = arcpoly, Symbol = new SimpleFillSymbol() { Color = Colors.Red } });\n</code></pre>\n\n<p>gives me this result (I was expecting the polygon to wrap most of the way around the globe)</p>\n\n<p><a href=\"https://i.stack.imgur.com/S0BCX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S0BCX.png\" alt=\"enter image description here\"></a></p>\n\n<p>So, I changed it to have intermediatepoints to try to force it to go around the globe, like this:</p>\n\n<pre><code>            combined.Add(new MapPoint(-160,  20, wgs84));\n            combined.Add(new MapPoint(-40, 20, wgs84));\n            combined.Add(new MapPoint(40, 20, wgs84));\n            combined.Add(new MapPoint( 160,  20, wgs84));\n            combined.Add(new MapPoint( 160, -20, wgs84));\n            combined.Add(new MapPoint(40, -20, wgs84));\n            combined.Add(new MapPoint(-40, -20, wgs84));\n            combined.Add(new MapPoint(-160, -20, wgs84));\n</code></pre>\n\n<p>and the resulting picture is exactly the same....</p>\n\n<p>How would I render the polygon I want to render?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "edited": false, "score": 6, "creation_date": 1473881973, "post_id": 39498374, "comment_id": 66314318, "body": "ZipFileName is a string - you want the instance of the file. Try  System.IO.File.OpenRead(pathToYourFile)"}, {"owner": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "reply_to_user": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "edited": false, "score": 0, "creation_date": 1473882130, "post_id": 39498374, "comment_id": 66314395, "body": "Shannon - I get the same error for <code>System</code> now....tried as <code>using (FileStream fileToDecompressAsStream = zipFileName.System.IO.File.OpenRead())</code>"}, {"owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "edited": false, "score": 0, "creation_date": 1473882236, "post_id": 39498374, "comment_id": 66314432, "body": "If zipFileName contains the path and your file name like c:\\myfiles\\myfile.zip use File.OpenRead(zipFileName); Otherwise, you&#39;ll have to pass the full URL to your file like File.OpenRead(@&quot;c:\\myfiles\\&quot;+zipFileName);"}, {"owner": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "edited": false, "score": 0, "creation_date": 1473882402, "post_id": 39498374, "comment_id": 66314506, "body": "Shannon - updated the question for zipFileName,its <code>var zipFileName = @&quot;C:\\Temp\\bins-9111.tar.bz2&quot;;</code>"}, {"owner": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "reply_to_user": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "edited": false, "score": 0, "creation_date": 1473882604, "post_id": 39498374, "comment_id": 66314619, "body": "System.IO.File.OpenRead(pathToYourFile) works"}], "answers": [{"comments": [{"owner": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "edited": false, "score": 0, "creation_date": 1473884044, "post_id": 39498559, "comment_id": 66315335, "body": "Botonomous- How do I decompress in the same folder/file structure present in the .bz2 file instead of to a file?"}], "tags": [], "owner": {"reputation": 1598, "user_id": 959912, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3Y1IU.jpg?s=128&g=1", "display_name": "Botonomous", "link": "https://stackoverflow.com/users/959912/botonomous"}, "is_accepted": false, "score": 2, "last_activity_date": 1473890839, "last_edit_date": 1473890839, "creation_date": 1473882579, "answer_id": 39498559, "question_id": 39498374, "link": "https://stackoverflow.com/questions/39498374/missing-reference-for-openread-method/39498559#39498559", "title": "Missing reference for OpenRead method", "body": "<p>You are trying to call a System.IO.File method on string object. \nTry this: \nI changed the call to OpenRead to come from the File Object instead of string.</p>\n\n<pre><code>var zipFileName = @\"C:\\Temp\\bins-9111.tar.bz2\";\nusing (System.IO.FileStream fs = System.IO.File.OpenRead(zipFileName))\n {\n        string decompressedFileName = @\"c:\\bzip2\\decompressed.txt\";\n        using (FileStream decompressedStream = File.Create(decompressedFileName))\n        {\n            try\n            {\n                BZip2.Decompress(fileToDecompressAsStream, decompressedStream, true);\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine(ex.Message);\n            }\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "edited": false, "score": 0, "creation_date": 1473884072, "post_id": 39498562, "comment_id": 66315352, "body": "Hi Igor - How do I decompress in the same folder/file structure present in the .bz2 file instead of to a file?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "edited": false, "score": 1, "creation_date": 1473884368, "post_id": 39498562, "comment_id": 66315487, "body": "@kemosabee - ask another question using a new question on SO. Do not proceed to ask new questions through comments or completely changing the existing question."}, {"owner": {"reputation": 3601, "user_id": 4786305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dWJCM.png?s=128&g=1", "display_name": "Erba Aitbayev", "link": "https://stackoverflow.com/users/4786305/erba-aitbayev"}, "edited": false, "score": 0, "creation_date": 1474987750, "post_id": 39498562, "comment_id": 66752981, "body": "If this answer or any other one solved your issue, please mark it as accepted. Not only for the question, but for any other questions that you would ask in future."}], "tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": false, "score": 2, "last_activity_date": 1473882586, "creation_date": 1473882586, "answer_id": 39498562, "question_id": 39498374, "link": "https://stackoverflow.com/questions/39498374/missing-reference-for-openread-method/39498562#39498562", "title": "Missing reference for OpenRead method", "body": "<p>As was mentioned by <code>@Shannon Holsinger</code> in the comments <a href=\"https://msdn.microsoft.com/en-us/library/system.io.file.openread(v=vs.110).aspx\" rel=\"nofollow\">OpenRead</a> is a static method on <a href=\"https://msdn.microsoft.com/en-us/library/system.io.file(v=vs.110).aspx\" rel=\"nofollow\">System.IO.File</a> and NOT on string. </p>\n\n<pre><code>var zipFileName = @\"C:\\Temp\\bins-9111.tar.bz2\";\nusing (FileStream fileToDecompressAsStream = System.IO.File.OpenRead(zipFileName))\n{/* rest of code */}\n</code></pre>\n\n<p>See the <a href=\"https://msdn.microsoft.com/en-us/library/system.io.file.openread(v=vs.110).aspx\" rel=\"nofollow\">OpenRead</a> documentation for more info.</p>\n"}], "owner": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1473890839, "creation_date": 1473881850, "last_edit_date": 1473882352, "question_id": 39498374, "link": "https://stackoverflow.com/questions/39498374/missing-reference-for-openread-method", "title": "Missing reference for OpenRead method", "body": "<p>I am trying to use <code>OpenRead</code> method and running into error shown below,I did add <code>using.system.IO</code> in the code and in the references as can seen from the screen shot below?what am I missing?how to get rid of this error?</p>\n\n<pre><code>    using System;\n    using System.IO;\n    var zipFileName = @\"C:\\Temp\\bins-9111.tar.bz2\";\n\n    using (FileStream fileToDecompressAsStream = zipFileName.OpenRead())\n    {\n        string decompressedFileName = @\"c:\\bzip2\\decompressed.txt\";\n        using (FileStream decompressedStream = File.Create(decompressedFileName))\n        {\n            try\n            {\n                BZip2.Decompress(fileToDecompressAsStream, decompressedStream, true);\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine(ex.Message);\n            }\n        }\n    }\n</code></pre>\n\n<p>Error:-</p>\n\n<pre><code>'string' does not contain a definition for 'OpenRead' and no extension method 'OpenRead' accepting a first argument of type 'string' could be found (are you missing a using directive or an assembly reference?)   ConsoleApplication2 c:\\users\\gnakkala\\documents\\visual studio 2015\\Projects\\ConsoleApplication2\\ConsoleApplication2\\Program.cs  32\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/lIYor.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lIYor.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "web-services", "arrayofstring"], "answers": [{"tags": [], "owner": {"reputation": 4391, "user_id": 54101, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/z715j.png?s=128&g=1", "display_name": "Captain Sensible", "link": "https://stackoverflow.com/users/54101/captain-sensible"}, "is_accepted": false, "score": 1, "last_activity_date": 1473917757, "last_edit_date": 1473917757, "creation_date": 1473884618, "answer_id": 39499061, "question_id": 39498368, "link": "https://stackoverflow.com/questions/39498368/web-service-arrayofstring/39499061#39499061", "title": "Web Service ArrayOfString", "body": "<p>If your service method returns <code>List&lt;string&gt;</code> you will see this return value translated to an object of type <code>ArrayOfString</code> in the proxy. When your service method is designed to return <code>string[]</code> you will find <code>string[]</code> in the proxy.</p>\n\n<p>If the return values for service methods have changed, client side, that implies the service contract has changed. If you don't control the contract there's not much you can do, except implement your own ArrayOfString class for use on the client (which, imo, shouldn't be all that hard to do). </p>\n\n<p>Not a bad solution I think because it does imply that you simply adapt the client to the changes made to the service contract.</p>\n"}], "owner": {"reputation": 116, "user_id": 2071583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea2b4f3dd2a3943919574fdc13633d47?s=128&d=identicon&r=PG", "display_name": "Ivan Clay", "link": "https://stackoverflow.com/users/2071583/ivan-clay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 832, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1473917757, "creation_date": 1473881834, "last_edit_date": 1473881897, "question_id": 39498368, "link": "https://stackoverflow.com/questions/39498368/web-service-arrayofstring", "title": "Web Service ArrayOfString", "body": "<p>How to keep the object returned by the web service as <code>ArrayOfString</code> ?</p>\n\n<p>Contextualizing:</p>\n\n<p>I'm giving maintenance in an application that consumes a Web Service, and a certain object would be a <code>List&lt;string&gt;</code> was being returned as <code>ArrayOfString</code> . Where did the Update in reference the WebService , the return moved to <code>string[]</code> what you can do to keep as <code>ArrayOfString</code> ?</p>\n\n<p>It is returning as well :</p>\n\n<pre><code>private string[] motivoInterrupcaoField;\n</code></pre>\n\n<p>When should return this:</p>\n\n<blockquote>\n  <p>[System.Runtime.Serialization.OptionalFieldAttribute()]\n              private Atendimento.wsAtendimento.ArrayOfString MotivoInterrupcaoField;</p>\n</blockquote>\n\n<p>Thank you,</p>\n"}, {"tags": ["c#", "ajax", "http", "https"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1473881787, "post_id": 39498315, "comment_id": 66314234, "body": "you are doing a CORS request. different protocol, different port, different host, they&#39;re ALL a cross-origin violation."}, {"owner": {"reputation": 21, "user_id": 2808438, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c95b570b3721cb779ab1a133762db7da?s=128&d=identicon&r=PG&f=1", "display_name": "BlueLionPiper", "link": "https://stackoverflow.com/users/2808438/bluelionpiper"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1473949464, "post_id": 39498315, "comment_id": 66343017, "body": "Not sure why this question got down voted.  So CORS is the ONLY issue?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 2808438, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c95b570b3721cb779ab1a133762db7da?s=128&d=identicon&r=PG&f=1", "display_name": "BlueLionPiper", "link": "https://stackoverflow.com/users/2808438/bluelionpiper"}, "edited": false, "score": 0, "creation_date": 1473949390, "post_id": 39499127, "comment_id": 66342958, "body": "ok, so is there a way around this?  I can&#39;t change the webpage to http."}, {"owner": {"reputation": 4150, "user_id": 2195875, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/284c7d641e3c7f89e18ff01f31de4c24?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/2195875/tom"}, "reply_to_user": {"reputation": 21, "user_id": 2808438, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c95b570b3721cb779ab1a133762db7da?s=128&d=identicon&r=PG&f=1", "display_name": "BlueLionPiper", "link": "https://stackoverflow.com/users/2808438/bluelionpiper"}, "edited": false, "score": 0, "creation_date": 1473949835, "post_id": 39499127, "comment_id": 66343288, "body": "You can set up a kind of proxy: an https webpage on your server that call in back-end the unsecure http webpage, and then returns the result. So the JS calls your https webpage and don&#39;t have mixed-content or cross origins (CORS) issues.  Of course, it means you can&#39;t use cookies."}], "tags": [], "owner": {"reputation": 4150, "user_id": 2195875, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/284c7d641e3c7f89e18ff01f31de4c24?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/2195875/tom"}, "is_accepted": false, "score": 0, "last_activity_date": 1473884911, "creation_date": 1473884911, "answer_id": 39499127, "question_id": 39498315, "link": "https://stackoverflow.com/questions/39498315/http-get-and-post-from-https-domain/39499127#39499127", "title": "HTTP GET and POST from HTTPS domain", "body": "<p>It's not only a CORS problem, but a mixed-content too:</p>\n\n<p><strong>you can't make an http ajax request from an https webpage</strong> because the browser will block it for security reason.</p>\n"}], "owner": {"reputation": 21, "user_id": 2808438, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c95b570b3721cb779ab1a133762db7da?s=128&d=identicon&r=PG&f=1", "display_name": "BlueLionPiper", "link": "https://stackoverflow.com/users/2808438/bluelionpiper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1473884911, "creation_date": 1473881653, "question_id": 39498315, "link": "https://stackoverflow.com/questions/39498315/http-get-and-post-from-https-domain", "title": "HTTP GET and POST from HTTPS domain", "body": "<p>OK, so the basics of what I'm trying to do is send info from an AJAX webpage to a local app via a HTTP listening port.  The web domain looks something like this --> <a href=\"https://coeus-dev.hosting.com:42122/Test/Example.html\" rel=\"nofollow\">https://coeus-dev.hosting.com:42122/Test/Example.html</a>.  it has a Submit button which does pretty much this --> \"xmlhttp.open(\"GET\", \"<a href=\"http://localhost:4012/USP?unique=1470771541298&amp;RequestType=Foo\" rel=\"nofollow\">http://localhost:4012/USP?unique=1470771541298&amp;RequestType=Foo</a>\", false);\".</p>\n\n<p>Using Fiddler I don't see any data come to the local host.  I'm assuming that CORS is involved here some how but that just a total guess.</p>\n\n<p>Bottom line:  Why doesn't Fiddler see any traffic coming from the webpage to the localhost?</p>\n\n<p>thanks!</p>\n"}, {"tags": ["c#", "monodevelop", "unity5"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1905595"}, "is_accepted": true, "score": 0, "last_activity_date": 1473882903, "creation_date": 1473882903, "answer_id": 39498642, "question_id": 39498288, "link": "https://stackoverflow.com/questions/39498288/scene-management-in-unity2d/39498642#39498642", "title": "Scene Management in unity2D", "body": "<p>Did you add the scene you are trying to load to the Build Settings? Scenes have to be added to the 'Scenes In Build' to be newly loaded. You can access Build Settings through File > Build Settings. </p>\n\n<p>SceneManager.LoadScene: <a href=\"https://docs.unity3d.com/ScriptReference/SceneManagement.SceneManager.LoadScene.html\" rel=\"nofollow\">https://docs.unity3d.com/ScriptReference/SceneManagement.SceneManager.LoadScene.html</a></p>\n"}], "owner": {"reputation": 11, "user_id": 6798887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b676deffebbeda9b1831fbc0bcc71b86?s=128&d=identicon&r=PG&f=1", "display_name": "arshia9", "link": "https://stackoverflow.com/users/6798887/arshia9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 39498642, "answer_count": 1, "score": -1, "last_activity_date": 1473882903, "creation_date": 1473881543, "question_id": 39498288, "link": "https://stackoverflow.com/questions/39498288/scene-management-in-unity2d", "title": "Scene Management in unity2D", "body": "<p>I'm working on unity 2d , and in one part i have to load the next scene(for example c) , if the user presses space .<br>\nI have this part of code and I have attached it to the main scene , but it doesn't do anything .  </p>\n\n<pre><code>void Update () {\n\nif (Input.GetKey (KeyCode.Space))   {\n                        SceneManager.LoadScene('c');\n    }\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "forms", "winforms", "instances"], "comments": [{"owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "edited": false, "score": 0, "creation_date": 1473881506, "post_id": 39498229, "comment_id": 66314099, "body": "You could make your sub-forms a Dictionary&lt;string,frmBudgets&gt; with main form class scope and reference the key by the button clicked."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6832453, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210610665244891/picture?type=large", "display_name": "Matthew Johnson", "link": "https://stackoverflow.com/users/6832453/matthew-johnson"}, "edited": false, "score": 0, "creation_date": 1473882328, "post_id": 39498361, "comment_id": 66314477, "body": "Not well versed on the Dictionary (learning by Google) but I&#39;m not following this advice. How does the instance of meJob on frmBudgets translate to a Dictionary item? Why doesn&#39;t the individual instance of the frmBudgets &quot;remember&quot; its specific identity?"}, {"owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "reply_to_user": {"reputation": 1, "user_id": 6832453, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210610665244891/picture?type=large", "display_name": "Matthew Johnson", "link": "https://stackoverflow.com/users/6832453/matthew-johnson"}, "edited": false, "score": 0, "creation_date": 1473882511, "post_id": 39498361, "comment_id": 66314581, "body": "A Dictionary is a way of having several instances of the same object open at once and accessible by a key (which can be a string, and int or whatever unique item you want). It is easier than creating MyForm1, myForm2, myForm3, etc."}, {"owner": {"reputation": 1, "user_id": 6832453, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210610665244891/picture?type=large", "display_name": "Matthew Johnson", "link": "https://stackoverflow.com/users/6832453/matthew-johnson"}, "edited": false, "score": 0, "creation_date": 1473885192, "post_id": 39498361, "comment_id": 66315913, "body": "Okay, the concept of the dictionary makes some sense. However, not sure how that relates to a dictionary &quot;page&quot; knowing it&#39;s own contents if the dictionary is held and implemented on the calling page."}, {"owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "reply_to_user": {"reputation": 1, "user_id": 6832453, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210610665244891/picture?type=large", "display_name": "Matthew Johnson", "link": "https://stackoverflow.com/users/6832453/matthew-johnson"}, "edited": false, "score": 0, "creation_date": 1473886770, "post_id": 39498361, "comment_id": 66316684, "body": "You can pass page-specific data to the budget form through its constructor, or operate on any field, property, or method the same as you would an instance of the form itself. myBudgets[&quot;Budget1&quot;].someMethod() or myBudgest[&quot;Budget2&quot;].someProperty = value;"}, {"owner": {"reputation": 1, "user_id": 6832453, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210610665244891/picture?type=large", "display_name": "Matthew Johnson", "link": "https://stackoverflow.com/users/6832453/matthew-johnson"}, "edited": false, "score": 0, "creation_date": 1473887147, "post_id": 39498361, "comment_id": 66316836, "body": "Maybe I&#39;m not being clear: I open frmBudget(Job #123) and frmBudget (Job #234) have a variable defined that, in a VB setting, I could just say: me.JobNumber, and they would just know, &quot;oh yeah, I&#39;m the form holding #123&quot;. So, when it goes to refresh itself, it is using information from 123, not 234, which was opened second."}], "tags": [], "owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "is_accepted": false, "score": -1, "last_activity_date": 1473881815, "creation_date": 1473881815, "answer_id": 39498361, "question_id": 39498229, "link": "https://stackoverflow.com/questions/39498229/winforms-multi-instance-forms-with-unique-variables/39498361#39498361", "title": "WinForms Multi-Instance Forms with unique variables", "body": "<pre><code>Dictionary&lt;string,FieldBudgets.frmBudgets&gt; myBudgets = new Dictionary&lt;string,FieldBudgets.frmBudgets&gt;();\nmyBudgets.Add(\"Budget1\",New FieldBudgets.frmBudgets());\nmyBudgets.Add(\"Budget2\",New FieldBudgets.frmBudgets());\nmyBudgets.Add(\"Budget3\",New FieldBudgets.frmBudgets());\nmyBudgets.Add(\"Budget4\",New FieldBudgets.frmBudgets());\n\nmyBudgets[\"Budget2\"].Show();\n</code></pre>\n\n<p>You might put any unique fields and/or properties in the constructor for frmBudgets.</p>\n"}], "owner": {"reputation": 1, "user_id": 6832453, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210610665244891/picture?type=large", "display_name": "Matthew Johnson", "link": "https://stackoverflow.com/users/6832453/matthew-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1473881815, "creation_date": 1473881322, "last_edit_date": 1473881810, "question_id": 39498229, "link": "https://stackoverflow.com/questions/39498229/winforms-multi-instance-forms-with-unique-variables", "title": "WinForms Multi-Instance Forms with unique variables", "body": "<p>New to C#; have been a VB.NET/VBA developer for years. Am currently working on an application for our off-site workers. I have a main switchboard form with a drop-down of project numbers. The user then has the ability to open a variety of form-based tools, to include a Budgets form. On change of the drop-down, I store a Program-scoped class variable, cJob which has multiple properties (customer, location, etc). On open of the Budgets form:</p>\n\n<pre><code>Form frm = new FieldBudgets.frmBudgets().Show();\n</code></pre>\n\n<p>I have a private static instance of cJob called meJob (new cJob).\nWhen going back to the switchboard, the user, without closing that instance of the Budgets for, can open additional instances of the same Budget form with different project numbers selected.</p>\n\n<p>Here is my problem (sorry it took so long to get here): \nA Refresh button can update the data on the Budgets form, but the new meJob information from the last instance get carried to the other instance. How can I keep these separate? I thought the new meJob would stick with the individual instances.</p>\n\n<p>As an aside, I do have a less than glamorous \"solution\" that involves a hidden textbox and reloading the new meJob on Refresh. If that is the best solution I get, so be it...</p>\n\n<p>MJ</p>\n"}, {"tags": ["c#", ".net", "string", "swap"], "comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 4, "creation_date": 1473881238, "post_id": 39498185, "comment_id": 66313957, "body": "first question is. Why do you need to do such thing?"}, {"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 1, "creation_date": 1473881262, "post_id": 39498185, "comment_id": 66313973, "body": "@Steve It&#39;s probably some sort of interview question"}, {"owner": {"reputation": 3377, "user_id": 6469077, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-T1ldpGXuFB8/AAAAAAAAAAI/AAAAAAAAAFI/WTreL2saDJ4/photo.jpg?sz=128", "display_name": "Nico", "link": "https://stackoverflow.com/users/6469077/nico"}, "edited": false, "score": 0, "creation_date": 1473881367, "post_id": 39498185, "comment_id": 66314029, "body": "I think you could use <code>Interlocked.Exchange</code> for that: <a href=\"https://msdn.microsoft.com/de-de/library/f2090ex9(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/de-de/library/f2090ex9(v=vs.110).aspx</a>"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1473881372, "post_id": 39498185, "comment_id": 66314034, "body": "you have your answer already. no need of any other thing"}, {"owner": {"reputation": 440, "user_id": 6826725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ff980575aab3692bd4716434d44a030?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas W.", "link": "https://stackoverflow.com/users/6826725/thomas-w"}, "edited": false, "score": 2, "creation_date": 1473881517, "post_id": 39498185, "comment_id": 66314104, "body": "Without any further information, I would say the best way is to avoid not using a third variable. There are many (horrible) ways of doing it, but appart from producing unreadable code, cannot see what will be the benefits"}, {"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "reply_to_user": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1473881568, "post_id": 39498185, "comment_id": 66314127, "body": "@PavneetSingh  It says in the question why he&#39;s not satisfied with that answer"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "reply_to_user": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1473882106, "post_id": 39498185, "comment_id": 66314382, "body": "@SamIam yeah man, i eyes are shutting down i didn&#39;t even looked at length,it&#39;s 1 am here :P ,length property could have been used dynalically , anyway  nice answer buddy and great efforts guys. thumbs-up"}, {"owner": {"reputation": 1287, "user_id": 1306271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5BGFH.png?s=128&g=1", "display_name": "Uladz Kha", "link": "https://stackoverflow.com/users/1306271/uladz-kha"}, "reply_to_user": {"reputation": 36783, "user_id": 2946329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9ygJ.jpg?s=128&g=1", "display_name": "Salah Akbari", "link": "https://stackoverflow.com/users/2946329/salah-akbari"}, "edited": false, "score": 0, "creation_date": 1473924790, "post_id": 39498185, "comment_id": 66327538, "body": "@S.Akbari hi, yes,good resolve, thank you!"}, {"owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1473998068, "post_id": 39498185, "comment_id": 66362389, "body": "Possible duplicate of <i><a href=\"http://stackoverflow.com/questions/34818289/how-do-i-swap-two-strings-without-using-a-temporary-variable\">How do I swap two strings without using a temporary variable?</a></i>"}, {"owner": {"reputation": 1287, "user_id": 1306271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5BGFH.png?s=128&g=1", "display_name": "Uladz Kha", "link": "https://stackoverflow.com/users/1306271/uladz-kha"}, "reply_to_user": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1474010383, "post_id": 39498185, "comment_id": 66366748, "body": "@PeterMortensen i was look another resolve what I was find for my target, may be, you can flag it like a duplicate"}, {"owner": {"reputation": 4156, "user_id": 8971507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/771dba70e6c230fef7d359ced5222ab2?s=128&d=identicon&r=PG&f=1", "display_name": "victortv", "link": "https://stackoverflow.com/users/8971507/victortv"}, "edited": false, "score": 0, "creation_date": 1579735012, "post_id": 39498185, "comment_id": 105870174, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/804706/swap-two-variables-without-using-a-temporary-variable\">Swap two variables without using a temporary variable</a>"}, {"owner": {"reputation": 1287, "user_id": 1306271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5BGFH.png?s=128&g=1", "display_name": "Uladz Kha", "link": "https://stackoverflow.com/users/1306271/uladz-kha"}, "reply_to_user": {"reputation": 4156, "user_id": 8971507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/771dba70e6c230fef7d359ced5222ab2?s=128&d=identicon&r=PG&f=1", "display_name": "victortv", "link": "https://stackoverflow.com/users/8971507/victortv"}, "edited": false, "score": 0, "creation_date": 1579852484, "post_id": 39498185, "comment_id": 105912378, "body": "@victortv no, this solution for decimals, I need solution for strings"}], "answers": [{"tags": [], "owner": {"reputation": 36783, "user_id": 2946329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9ygJ.jpg?s=128&g=1", "display_name": "Salah Akbari", "link": "https://stackoverflow.com/users/2946329/salah-akbari"}, "is_accepted": true, "score": 3, "last_activity_date": 1473929775, "last_edit_date": 1473929775, "creation_date": 1473881465, "answer_id": 39498262, "question_id": 39498185, "link": "https://stackoverflow.com/questions/39498185/how-to-swap-values-of-two-string-variables-without-a-temp-variable/39498262#39498262", "title": "How to swap values of two string variables without a temp variable?", "body": "<p>You can use <a href=\"https://msdn.microsoft.com/en-us/library/aka44szs(v=vs.110).aspx\" rel=\"nofollow\"><code>SubString</code></a> without using a temp variable, like this:</p>\n\n<pre><code>string a = \" Hello \";\nstring b = \" World \";\n\na = a + b;//\" Hello  World \"\nb = a.Substring(0, (a.Length - b.Length));//\" Hello \"\na = a.Substring(b.Length);//\" World \"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 4, "creation_date": 1473881609, "post_id": 39498295, "comment_id": 66314153, "body": "I don&#39;t believe that will compile"}], "tags": [], "owner": {"reputation": 3, "user_id": 6832388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53de2eb4255dcbcb8dac1cdfc00876a?s=128&d=identicon&r=PG&f=1", "display_name": "MikeB0317", "link": "https://stackoverflow.com/users/6832388/mikeb0317"}, "is_accepted": false, "score": 0, "last_activity_date": 1473891693, "last_edit_date": 1473891693, "creation_date": 1473881567, "answer_id": 39498295, "question_id": 39498185, "link": "https://stackoverflow.com/questions/39498185/how-to-swap-values-of-two-string-variables-without-a-temp-variable/39498295#39498295", "title": "How to swap values of two string variables without a temp variable?", "body": "<p>Just use some other means of swapping.</p>\n\n<pre><code>string stringOne = \"one\";\nstring stringTwo = \"two\";\n\nstringOne = stringOne + stringTwo;\nstringTwo = stringOne.Substring(0, (stringOne.Length - stringTwo.Length));\nstringOne = stringOne.Substring(stringTwo.Length);\n\n// Prints stringOne: two stringTwo: one\nConsole.WriteLine(\"stringOne: {0} stringTwo: {1}\", stringOne, stringTwo);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1562, "user_id": 1845464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2704f8f368ca132fc95afeb3cd3693e?s=128&d=identicon&r=PG", "display_name": "Ali Humayun", "link": "https://stackoverflow.com/users/1845464/ali-humayun"}, "is_accepted": false, "score": 0, "last_activity_date": 1526420872, "creation_date": 1526420872, "answer_id": 50359613, "question_id": 39498185, "link": "https://stackoverflow.com/questions/39498185/how-to-swap-values-of-two-string-variables-without-a-temp-variable/50359613#50359613", "title": "How to swap values of two string variables without a temp variable?", "body": "<pre><code>   string str1 = \"First\";\n        string str2 = \"Second\";\n        str1 = (str2 = str1 + str2).Substring(str1.Length);\n        str2 = str2.Substring(0,str1.Length-1);\n</code></pre>\n"}], "owner": {"reputation": 1287, "user_id": 1306271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5BGFH.png?s=128&g=1", "display_name": "Uladz Kha", "link": "https://stackoverflow.com/users/1306271/uladz-kha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1745, "favorite_count": 0, "accepted_answer_id": 39498262, "answer_count": 3, "score": 0, "last_activity_date": 1579769032, "creation_date": 1473881168, "last_edit_date": 1579769032, "question_id": 39498185, "link": "https://stackoverflow.com/questions/39498185/how-to-swap-values-of-two-string-variables-without-a-temp-variable", "title": "How to swap values of two string variables without a temp variable?", "body": "<p>For example, I have two string variables:</p>\n\n<pre><code>string a = \" Hello \";\nstring b = \" World \";\n</code></pre>\n\n<p>How can I swap it without a temporary variable?</p>\n\n<p>I found an example, but it used a third variable for the length of <code>a</code>:</p>\n\n<pre><code>int len1 = a.Length;\na = a + b;\nb = a.Substring(0, len1);\na = a.Substring(len1);\n</code></pre>\n\n<p>How can I do that?</p>\n\n<p>UPD, suggested solution for decimal data type, in ma case i've asked about string data type.</p>\n"}, {"tags": ["c#", "reflection"], "comments": [{"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 0, "creation_date": 1473881036, "post_id": 39498103, "comment_id": 66313849, "body": "If you need to change it, I&#39;m thinking you might want to just store it in a property instead."}, {"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 2, "creation_date": 1473881074, "post_id": 39498103, "comment_id": 66313871, "body": "I might be wrong, but it seems to me as though modifying attributes at runtime would be paradigm breaking.  If I were you, I&#39;d reorder your properties some other way."}, {"owner": {"reputation": 33, "user_id": 6832452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67c085d084afae785fa23a24e9524933?s=128&d=identicon&r=PG&f=1", "display_name": "vsdev", "link": "https://stackoverflow.com/users/6832452/vsdev"}, "edited": false, "score": 0, "creation_date": 1473882082, "post_id": 39498103, "comment_id": 66314364, "body": "But I&#39;m so close... :) Been trying... <code>var property = cad.AttributeType.GetProperty(&quot;Order&quot;); property.SetValue(whatToUseHere, 30000);</code>  Just can&#39;t figure out what to use for whatToUseHere"}, {"owner": {"reputation": 518, "user_id": 1469905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bf7f2585b40f4aa30b417f37b081dbb?s=128&d=identicon&r=PG", "display_name": "Thumper", "link": "https://stackoverflow.com/users/1469905/thumper"}, "edited": false, "score": 0, "creation_date": 1473885823, "post_id": 39498103, "comment_id": 66316232, "body": "This may help point you in the right direction: <a href=\"http://stackoverflow.com/questions/2160476/how-to-set-attributes-values-using-reflection\" title=\"how to set attributes values using reflection\">stackoverflow.com/questions/2160476/&hellip;</a> I also know you can access attributes at runtime, using reflection:  public static object GetAttribute(object parent, Type attributeType) {             var property = parent.GetType().GetProperties().Where(prop =&gt; Attribute.IsDefined(prop, attributeType)).Single();             var attribute = property.GetCustomAttribute(attributeType);                          return attribute;                      }"}, {"owner": {"reputation": 518, "user_id": 1469905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bf7f2585b40f4aa30b417f37b081dbb?s=128&d=identicon&r=PG", "display_name": "Thumper", "link": "https://stackoverflow.com/users/1469905/thumper"}, "edited": false, "score": 0, "creation_date": 1473886062, "post_id": 39498103, "comment_id": 66316351, "body": "Also, you can also check if the object has a private &quot;set&quot; value... If I have time later, today, and no one else has figured it out, I&#39;ll throw something together and see if I can POC it for you."}], "answers": [{"comments": [{"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1473881783, "post_id": 39498249, "comment_id": 66314231, "body": "but how does he get <code>StringPropertyBOrder</code> to do the same thing that he uses <code>[Order]</code> for? whatever that might be"}, {"owner": {"reputation": 33, "user_id": 6832452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67c085d084afae785fa23a24e9524933?s=128&d=identicon&r=PG&f=1", "display_name": "vsdev", "link": "https://stackoverflow.com/users/6832452/vsdev"}, "edited": false, "score": 0, "creation_date": 1473881859, "post_id": 39498249, "comment_id": 66314266, "body": "Yeah, I need to use the DisplayAttribute (which is sealed...) because that&#39;s what my underlying framework uses."}], "tags": [], "owner": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "is_accepted": false, "score": 0, "last_activity_date": 1473881420, "creation_date": 1473881420, "answer_id": 39498249, "question_id": 39498103, "link": "https://stackoverflow.com/questions/39498103/how-do-i-update-the-order-property-on-a-displayattribute-programmatically/39498249#39498249", "title": "How do I update the Order property on a DisplayAttribute programmatically?", "body": "<p>Instead of what you have do this</p>\n\n<pre><code>public class MyObject\n{\n    [DefaultValue(1000)]\n    public virtual int StringPropertyBOrder { get; set; }\n    public virtual string StringPropertyB { get; set; }\n\n    [DefaultValue(2000)]\n    public virtual int StringPropertyAOrder { get; set; }\n    public virtual string StringPropertyA { get; set; }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 6832452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67c085d084afae785fa23a24e9524933?s=128&d=identicon&r=PG&f=1", "display_name": "vsdev", "link": "https://stackoverflow.com/users/6832452/vsdev"}, "edited": false, "score": 0, "creation_date": 1473923028, "post_id": 39499633, "comment_id": 66326697, "body": "Thank you, but I can&#39;t get the values to persist, see my answer. But &quot;A&quot; for effort! :)"}, {"owner": {"reputation": 518, "user_id": 1469905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bf7f2585b40f4aa30b417f37b081dbb?s=128&d=identicon&r=PG", "display_name": "Thumper", "link": "https://stackoverflow.com/users/1469905/thumper"}, "reply_to_user": {"reputation": 33, "user_id": 6832452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67c085d084afae785fa23a24e9524933?s=128&d=identicon&r=PG&f=1", "display_name": "vsdev", "link": "https://stackoverflow.com/users/6832452/vsdev"}, "edited": false, "score": 0, "creation_date": 1473956664, "post_id": 39499633, "comment_id": 66347722, "body": "I&#39;m determined to make this work. I&#39;ll see what I can do with your answer (which you should have posted as an update to your post)"}, {"owner": {"reputation": 518, "user_id": 1469905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bf7f2585b40f4aa30b417f37b081dbb?s=128&d=identicon&r=PG", "display_name": "Thumper", "link": "https://stackoverflow.com/users/1469905/thumper"}, "reply_to_user": {"reputation": 33, "user_id": 6832452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67c085d084afae785fa23a24e9524933?s=128&d=identicon&r=PG&f=1", "display_name": "vsdev", "link": "https://stackoverflow.com/users/6832452/vsdev"}, "edited": false, "score": 0, "creation_date": 1473958656, "post_id": 39499633, "comment_id": 66348805, "body": "@vsdev - check it. It, technically, answers your question - but it means you&#39;d have a heck of a lot more work to do. It might be worth looking at a different way to do this - what is your use case for needing to use &quot;Display&quot;?"}, {"owner": {"reputation": 33, "user_id": 6832452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67c085d084afae785fa23a24e9524933?s=128&d=identicon&r=PG&f=1", "display_name": "vsdev", "link": "https://stackoverflow.com/users/6832452/vsdev"}, "edited": false, "score": 0, "creation_date": 1474020897, "post_id": 39499633, "comment_id": 66372586, "body": "Thanks, the framework that I use dynamically scans for the DisplayAttribute and sets up the order in the UI based on the Order of that attribute. So I can&#39;t use runtime compilation or anything like that. It&#39;s not that big of hassle to set the Order property manually so that the sort order is correct. I was just looking for a way to set defaults. Thanks, I&#39;ll accept your answer. :)"}, {"owner": {"reputation": 518, "user_id": 1469905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bf7f2585b40f4aa30b417f37b081dbb?s=128&d=identicon&r=PG", "display_name": "Thumper", "link": "https://stackoverflow.com/users/1469905/thumper"}, "reply_to_user": {"reputation": 33, "user_id": 6832452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67c085d084afae785fa23a24e9524933?s=128&d=identicon&r=PG&f=1", "display_name": "vsdev", "link": "https://stackoverflow.com/users/6832452/vsdev"}, "edited": false, "score": 0, "creation_date": 1474039126, "post_id": 39499633, "comment_id": 66384079, "body": "Hmm... if it is dynamically scanning, you should be able to compile at runtime. Also, is the framework something under your control? Because if it is, you can definitely look into the model CsvReader uses - it allows decorating properties at runtime. You could use the mapping + set up the framework to support it."}, {"owner": {"reputation": 816, "user_id": 2157455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oyBcO.jpg?s=128&g=1", "display_name": "Marco", "link": "https://stackoverflow.com/users/2157455/marco"}, "edited": false, "score": 0, "creation_date": 1524825416, "post_id": 39499633, "comment_id": 87137362, "body": "Funny thing is that with the ReadOnlyAttribute it does work and persist. I&#39;m using it with the Xceed PropertyGrid. I&#39;ve tried to do the same (setting the private filed _order) in the DisplayAttribute with no success. I&#39;m still not sure where the difference is, as soon as i have some time i will compare both..."}], "tags": [], "owner": {"reputation": 518, "user_id": 1469905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bf7f2585b40f4aa30b417f37b081dbb?s=128&d=identicon&r=PG", "display_name": "Thumper", "link": "https://stackoverflow.com/users/1469905/thumper"}, "is_accepted": true, "score": 0, "last_activity_date": 1473960287, "last_edit_date": 1495540868, "creation_date": 1473887184, "answer_id": 39499633, "question_id": 39498103, "link": "https://stackoverflow.com/questions/39498103/how-do-i-update-the-order-property-on-a-displayattribute-programmatically/39499633#39499633", "title": "How do I update the Order property on a DisplayAttribute programmatically?", "body": "<p><strong>Updated Answer:</strong>\nBecause attributes are \"static metadata\", they cannot be persistently changed after compilation. (<a href=\"https://stackoverflow.com/questions/129285/can-attributes-be-added-dynamically-in-c\">Can attributes be added dynamically in C#?</a>)</p>\n\n<p>So, one way to accomplish OP's request to make <strong>persistent</strong> changes to Attribute values is to <strong>compile the code at runtime</strong>. If this is what's needed, it may be worth seriously considering a different approach to the problem you are trying to solve, since this means a lot more work for you (but it's super cool to me). </p>\n\n<p>There is also the possiblity of using something called <strong>TypeBuilder</strong> (<a href=\"https://stackoverflow.com/questions/14724822/how-can-i-add-properties-to-a-class-on-runtime-in-c\">How Can I add properties to a class on runtime in C#?</a>). I am not familiar with this, but it looks promising. It does also look like it uses runtime compilation.</p>\n\n<p><strong>Runtime Compiling:</strong></p>\n\n<p>Here is one way this can be accomplished, by compiling code at runtime. (Using NUnit, not XUnit, as OP has done):</p>\n\n<pre><code>namespace OpUnitTest {\n\n    [TestClass]\n    public class OpTest{\n\n        //Use some web templating model so we can easily change it later (#=variable#)\n        string myClassToCompile = @\"\n\nusing System.ComponentModel.DataAnnotations;\n\nnamespace Test {\n    public class ObjectWithDisplayOrder {\n        [Display(Order = #=0#)]\n        public virtual string StringPropertyB { get; set; }\n\n        [Display(Order = #=1#)]\n        public virtual string StringPropertyA { get; set; }\n    }\n}\n\";\n        [TestMethod]\n        public void AssignAtributeValuesDynamically() {\n\n            const int order = 1000;     \n\n            //Escape curly braces.\n            myClassToCompile = myClassToCompile.Replace(\"{\", \"{{\").Replace(\"}\", \"}}\");\n\n            //We could use Regex, or even a for loop, to make this more-elegant and scalable, but this is a Proof of Concept.\n            myClassToCompile = myClassToCompile.Replace(\"#=0#\", \"{0}\").Replace(\"#=1#\", \"{1}\");\n\n            myClassToCompile = string.Format(myClassToCompile, order, order);\n\n            CSharpCodeProvider provider = new CSharpCodeProvider();\n            CompilerParameters parameters = new CompilerParameters();\n            parameters.ReferencedAssemblies.Add(\"System.ComponentModel.DataAnnotations.dll\");\n            parameters.GenerateInMemory = true;\n            CompilerResults results = provider.CompileAssemblyFromSource(parameters, myClassToCompile);\n\n            //You would normally check for compilation errors, here.\n\n            Assembly assembly = results.CompiledAssembly;\n            Type myCompiledObject = assembly.GetType(\"Test.ObjectWithDisplayOrder\");\n            PropertyInfo[] properties = myCompiledObject.GetProperties();\n\n            foreach (var property in properties) {\n                var displayAttribute = (DisplayAttribute)property.GetCustomAttributes().First(a =&gt; a is DisplayAttribute);\n                Assert.AreEqual(order, displayAttribute.GetOrder());\n\n            }\n        }\n}\n</code></pre>\n\n<p>A good ramp-up guide on runtime compiling in C# (something that is a bit of a passion of mine): <a href=\"http://www.codeproject.com/Tips/715891/Compiling-Csharp-Code-at-Runtime\" rel=\"nofollow noreferrer\">http://www.codeproject.com/Tips/715891/Compiling-Csharp-Code-at-Runtime</a> </p>\n\n<p><strong>Original Answer:</strong> </p>\n\n<p>Technically, it demonstrates that you can, indeed, change the attribute's value, but as OP pointed out - this doesn't persist.</p>\n\n<pre><code>using System.ComponentModel.DataAnnotations;\nusing System.Linq;\nusing Xunit;\n\nnamespace Company.Tests\n{\n    public class MyObject\n    {\n        [Display(Order = 1000)]\n        public virtual string StringPropertyB { get; set; }\n\n        [Display(Order = 2000)]\n        public virtual string StringPropertyA { get; set; }\n    }\n\n    public class MyObjectTest\n    {\n        [Fact]\n        public void X()\n        {\n            var properties = typeof(MyObject).GetProperties();\n            var stringPropertyBPropertyInfo = properties[0];\n            var bDisplayAttribute = (DisplayAttribute)stringPropertyBPropertyInfo.GetCustomAttributes().First();\n            var props = bDisplayAttribute.GetProperties(BindingFlags.NonPublic | BindingFlags.Instance | BindingFlags.Public).ToList();\n            props.Single(p =&gt; p.Name == \"Order\").SetValue(bDisplayAttribute, 5);\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 6832452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67c085d084afae785fa23a24e9524933?s=128&d=identicon&r=PG&f=1", "display_name": "vsdev", "link": "https://stackoverflow.com/users/6832452/vsdev"}, "is_accepted": false, "score": 1, "last_activity_date": 1473922971, "creation_date": 1473922971, "answer_id": 39504879, "question_id": 39498103, "link": "https://stackoverflow.com/questions/39498103/how-do-i-update-the-order-property-on-a-displayattribute-programmatically/39504879#39504879", "title": "How do I update the Order property on a DisplayAttribute programmatically?", "body": "<p>Just as Mr Skeet wrote in the answer that Thumper pointed to this can't be done as far as I can tell. You can update the Order value but it won't persist:</p>\n\n<pre><code>using System.ComponentModel.DataAnnotations;\nusing System.Linq;\nusing System.Reflection;\nusing Shouldly;\nusing Xunit;\n\nnamespace Tests\n{\n    public class ObjectWithDisplayOrder\n    {\n        [Display(Order = 0)]\n        public virtual string StringPropertyB { get; set; }\n\n        [Display(Order = 0)]\n        public virtual string StringPropertyA { get; set; }\n    }\n\n    public class DisplayOrderTests\n    {\n        [Fact]\n        public void ShouldUpdateDisplayOrderProperty()\n        {\n            const int updatedOrderValue = 1000;\n\n            var properties = typeof(ObjectWithDisplayOrder).GetProperties();\n            foreach (var property in properties)\n            {\n                var displayAttribute = (DisplayAttribute) property.GetCustomAttributes().First(a =&gt; a is DisplayAttribute);\n                var props = displayAttribute.GetType().GetProperties(BindingFlags.NonPublic | BindingFlags.Instance | BindingFlags.Public).ToList();\n                props.Single(p =&gt; p.Name == \"Order\").SetValue(displayAttribute, updatedOrderValue);\n                // displayAttribute Order is 1000 here, but it's not persisted...\n            }\n\n            foreach (var property in properties)\n            {\n                var displayAttribute = (DisplayAttribute) property.GetCustomAttributes().First(a =&gt; a is DisplayAttribute);\n                displayAttribute.GetOrder().ShouldBe(updatedOrderValue); // Fails - Order is still 0\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6832452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67c085d084afae785fa23a24e9524933?s=128&d=identicon&r=PG&f=1", "display_name": "vsdev", "link": "https://stackoverflow.com/users/6832452/vsdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2089, "favorite_count": 1, "accepted_answer_id": 39499633, "answer_count": 3, "score": 2, "last_activity_date": 1473960287, "creation_date": 1473880825, "question_id": 39498103, "link": "https://stackoverflow.com/questions/39498103/how-do-i-update-the-order-property-on-a-displayattribute-programmatically", "title": "How do I update the Order property on a DisplayAttribute programmatically?", "body": "<p>Given the following code:</p>\n\n<pre><code>using System.ComponentModel.DataAnnotations;\nusing System.Linq;\nusing Xunit;\n\nnamespace Company.Tests\n{\n    public class MyObject\n    {\n        [Display(Order = 1000)]\n        public virtual string StringPropertyB { get; set; }\n\n        [Display(Order = 2000)]\n        public virtual string StringPropertyA { get; set; }\n    }\n\n    public class MyObjectTest\n    {\n        [Fact]\n        public void X()\n        {\n            var properties = typeof(MyObject).GetProperties();\n            var stringPropertyBPropertyInfo = properties[0];\n            var stringPropertyAPropertyInfo = properties[1];\n\n            // Debugger Display = \"{[System.ComponentModel.DataAnnotations.DisplayAttribute(Order = 1000)]}\"\n            var bDisplayAttribute = stringPropertyBPropertyInfo.GetCustomAttributesData().FirstOrDefault();\n\n            // Debugger Display = \"{[System.ComponentModel.DataAnnotations.DisplayAttribute(Order = 2000)]}\"\n            var aDisplayAttribute = stringPropertyAPropertyInfo.GetCustomAttributesData().FirstOrDefault();\n        }\n    }\n}\n</code></pre>\n\n<p>How do I update the Order property programmatically?</p>\n\n<p>I want to update it after it's been set to a new value. (Use case being not having to specify the Order but instead assign the Order a value automatically to match the order that the properties on MyObject appear from top to bottom.)</p>\n"}, {"tags": ["c#", "windows-runtime", "windows-phone-8.1", "transparency", "writeablebitmap"], "answers": [{"comments": [{"owner": {"reputation": 2296, "user_id": 1638290, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2f4fa14def3eb466687431780cf12741?s=128&d=identicon&r=PG", "display_name": "theMaxx", "link": "https://stackoverflow.com/users/1638290/themaxx"}, "edited": false, "score": 0, "creation_date": 1473940912, "post_id": 39506653, "comment_id": 66336998, "body": "That makes the entire image transparent.  I want to make only one specific color transparent...the background color."}], "tags": [], "owner": {"reputation": 769, "user_id": 508176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6985d8f01d66bcc42c37f2a7d64e7784?s=128&d=identicon&r=PG", "display_name": "YetMoreStuff", "link": "https://stackoverflow.com/users/508176/yetmorestuff"}, "is_accepted": false, "score": 0, "last_activity_date": 1473929072, "creation_date": 1473929072, "answer_id": 39506653, "question_id": 39498088, "link": "https://stackoverflow.com/questions/39498088/make-a-writeablebitmap-transparent-in-windows-phone-8-1-c-winrt-programmaticall/39506653#39506653", "title": "Make a WriteableBitmap Transparent in Windows Phone 8.1 C# WinRT Programmatically", "body": "<p>Have you tried using the transparent colour with your WriteableBitmapEx? For example to clear the entire bitmap use:</p>\n\n<pre><code>writeableBitmap = new WriteableBitmap(200, 200, 96, 96, PixelFormats.Bgra32, null);\nwriteableBitmap.Clear(Colors.Transparent);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31339, "user_id": 41942, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9f4153be2cf81e0b6656e2761898ecfa?s=128&d=identicon&r=PG", "display_name": "Filip Skakun", "link": "https://stackoverflow.com/users/41942/filip-skakun"}, "is_accepted": false, "score": 0, "last_activity_date": 1474405926, "creation_date": 1474405926, "answer_id": 39603788, "question_id": 39498088, "link": "https://stackoverflow.com/questions/39498088/make-a-writeablebitmap-transparent-in-windows-phone-8-1-c-winrt-programmaticall/39603788#39603788", "title": "Make a WriteableBitmap Transparent in Windows Phone 8.1 C# WinRT Programmatically", "body": "<p>If you want to edit specific pixels yourself - you need to access the <code>PixelBuffer</code> property. I'm sure WriteableBitmapEx does it all the time. So does my toolkit <a href=\"https://github.com/xyzzer/WinRTXamlToolkit/tree/master/WinRTXamlToolkit/Imaging\" rel=\"nofollow\">here</a>. I can't recall the pixel format right now, but I think it's like ARGB or P-ARGB? I'm likely confused here, but basically your pixel buffer is an array that has data for all the row of pixels with each pixel defined by 4 bytes, so a 2x2 bitmap will have something like ARGBARGBARGBARGB bytes where each letter is one of four pixel component values (0-255 with 0 for no color and 255 for all RGB being white). R is Red, G is Green, B is Blue and A is Alpha - opacity or transparency. In P- or Premultiplied- pixel formats - all of RGB values are additionally multiplied by the Alpha channel value for performance reasons (IIRC).</p>\n\n<p>You'll need to loop through all your pixels and set the ARGB values according to your rules to add transparency where needed, possibly un-pre-multiplying and pre-multiplying RGB as needed.</p>\n"}], "owner": {"reputation": 2296, "user_id": 1638290, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2f4fa14def3eb466687431780cf12741?s=128&d=identicon&r=PG", "display_name": "theMaxx", "link": "https://stackoverflow.com/users/1638290/themaxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1474405926, "creation_date": 1473880762, "question_id": 39498088, "link": "https://stackoverflow.com/questions/39498088/make-a-writeablebitmap-transparent-in-windows-phone-8-1-c-winrt-programmaticall", "title": "Make a WriteableBitmap Transparent in Windows Phone 8.1 C# WinRT Programmatically", "body": "<p>Is it possible to add transparency to a WriteableBitmap in Windows Phone 8.1 using C# / WinRT programmatically?</p>\n\n<p>I've referenced the <a href=\"https://github.com/teichgraf/WriteableBitmapEx/\" rel=\"nofollow\" title=\"WriteableBitmapEx\">WriteableBitmapEx</a> library in my project for image resizing and blitting, which is quite useful, and it could also possibly help with adding transparency or alpha channels/layers, but the documentation is not very thorough.</p>\n\n<p>It might be better to have a method without using the WriteableBitmapEx library to achieve this, but whatever works...  I've been searching this for a while and there's not much information on a basic solution.</p>\n\n<p>The idea is that a user can select an image or graphic, and pin it to their start screen, and the app would make the background color transparent...probably white or black, or even by using the first X/Y coordinate color of the image's background.</p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 4393, "user_id": 3691973, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/iytIc.jpg?s=128&g=1", "display_name": "Necoras", "link": "https://stackoverflow.com/users/3691973/necoras"}, "edited": false, "score": 2, "creation_date": 1473884092, "post_id": 39498034, "comment_id": 66315362, "body": "What you&#39;re describing is an Upsert. I think this is a duplicate question. I&#39;ll flag it as such and provide a link there."}, {"owner": {"reputation": 2934, "user_id": 746674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7bb83e111a90fa717af1dac727d1884b?s=128&d=identicon&r=PG", "display_name": "Phil Cooper", "link": "https://stackoverflow.com/users/746674/phil-cooper"}, "reply_to_user": {"reputation": 4393, "user_id": 3691973, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/iytIc.jpg?s=128&g=1", "display_name": "Necoras", "link": "https://stackoverflow.com/users/3691973/necoras"}, "edited": false, "score": 1, "creation_date": 1473920272, "post_id": 39498034, "comment_id": 66325540, "body": "Now if I knew it was labelled as <code>Upsert</code>, I might have found the answer without posting!  Thanks for the link, very helpful."}], "answers": [{"comments": [{"owner": {"reputation": 2934, "user_id": 746674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7bb83e111a90fa717af1dac727d1884b?s=128&d=identicon&r=PG", "display_name": "Phil Cooper", "link": "https://stackoverflow.com/users/746674/phil-cooper"}, "edited": false, "score": 0, "creation_date": 1473920162, "post_id": 39498956, "comment_id": 66325487, "body": "You have understood although I was after something that had less boiler plate code and something more generic, I appreciate your time adding this though."}], "tags": [], "owner": {"reputation": 39, "user_id": 2704658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55eda0ce6c3f9b3edd9dba1026803087?s=128&d=identicon&r=PG&f=1", "display_name": "Sooey", "link": "https://stackoverflow.com/users/2704658/sooey"}, "is_accepted": false, "score": 2, "last_activity_date": 1473886147, "last_edit_date": 1473886147, "creation_date": 1473884250, "answer_id": 39498956, "question_id": 39498034, "link": "https://stackoverflow.com/questions/39498034/updating-or-inserting-navigation-property/39498956#39498956", "title": "Updating or inserting navigation property", "body": "<pre><code>public Task Upsert(Property property)\n{\n    using (var context = new SomeDbContext())\n    {\n        //if the id is autoincrement field then you will need to pass the new id to the property if it changes.\n        await Save(new Branch{ Id = property.BranchId, Name = property.Branch}, context);\n        await Save(property, context);\n        await context.SaveChangesAsync();\n    }\n}\nprivate Task Save(Property property, SomeDbContext context)\n{   \n    var existingProperty = context.Property.FirstOrDefaultAsync(f =&gt; f.Id == property.Id);\n    if (existingProperty == null)\n    {\n        context.Property.Add(property);\n    }\n    else\n    {\n        //maybe use automapper here if there is a lot of this stuff going on\n        //EF is smart enough to figure out what needs updating and will write a terse update statment\n        //no attach is needed since your existingProperty still exist within your context\n        existingProperty.Name = property.Name;\n        existingProperty.BranchId = property.BranchId;\n        existingProperty.Branch = property.Branch;\n    }\n\n}\nprivate Task Save(Branch branch, SomeDbContext context)\n{   \n\n    var existingBranch = context.Branch.FirstOrDefaultAsync(f =&gt; f.Id == branch.Id);\n    if (existingBranch == null)\n    {\n        context.Branch.Add(branch);\n    }\n    else\n    {\n        existingBranch.Name = branch.Name;\n    }\n}\n</code></pre>\n\n<p>I hope I've understood your question... This is one of i guess many approaches. The benefit here is that your update statements are optimized by EF so that if only the 'Name' or 'Branch' changes then it will update those fields only. Anyway - I hope this helps.</p>\n"}], "owner": {"reputation": 2934, "user_id": 746674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7bb83e111a90fa717af1dac727d1884b?s=128&d=identicon&r=PG", "display_name": "Phil Cooper", "link": "https://stackoverflow.com/users/746674/phil-cooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 349, "favorite_count": 0, "closed_date": 1473885021, "answer_count": 1, "score": 1, "last_activity_date": 1473886147, "creation_date": 1473880521, "question_id": 39498034, "link": "https://stackoverflow.com/questions/39498034/updating-or-inserting-navigation-property", "closed_reason": "Duplicate", "title": "Updating or inserting navigation property", "body": "<p>I'm consuming a webservice which deserialises xml into model instances which are used to build the actual EF data models.</p>\n\n<p>If I have this example class modelling a <code>Property</code> with a <code>Branch</code>:</p>\n\n<pre><code>public class Property\n{\n    public int Id {get; set;}\n\n    public int Name {get; set;}\n\n    public string BranchId {get; set;}\n\n    [ForeignKey(\"BranchId\")]\n    public string Branch {get; set;}\n}\n</code></pre>\n\n<p>If the <code>Branch</code> doesn't exist in the database, fine, EF inserts it. However, if it does, how can I instruct EF to update it instead?</p>\n\n<p>I get from the examples, you <code>Attach()</code> an entity to a <code>DbSet</code> so that the framework knows not to insert it, but is there a way to do this auto-magically? e.g not have to write the bolierplate code which checks for the <code>Branch</code> everytime I insert a <code>Property</code> to know whether I need to <code>Attach()</code> it?</p>\n"}, {"tags": ["c#", "append", "text-files"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1473879938, "post_id": 39497849, "comment_id": 66313256, "body": "That is a CSV, parse it or use a tool like CSVHelper to return a typed list, or load it directly to a datatable with OLEDB"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1473880314, "post_id": 39497849, "comment_id": 66313461, "body": "Give <i>something</i> a try and post a question when you get stuck"}, {"owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "edited": false, "score": 0, "creation_date": 1473881263, "post_id": 39497849, "comment_id": 66313974, "body": "string[] parts = Textreader.Readline().Split(&#39;,&#39;); com.Parameter.AddWithValue(&quot;@state&quot;,parts[0]); com.Parameter.AddWithValue(&quot;@State_Name&quot;,parts[1]); Searching for those classes will give you an idea on how to implement them. If you get stuck, post your code and the specific problem you&#39;re having."}], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 3978105, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/69541eb3b8435a3347a92c1238f25854?s=128&d=identicon&r=PG", "display_name": "Iman Irt", "link": "https://stackoverflow.com/users/3978105/iman-irt"}, "is_accepted": false, "score": 0, "last_activity_date": 1473893151, "last_edit_date": 1473893151, "creation_date": 1473880361, "answer_id": 39497999, "question_id": 39497849, "link": "https://stackoverflow.com/questions/39497849/how-do-i-add-records-to-a-table-from-a-text-file/39497999#39497999", "title": "How do I add records to a table from a text file?", "body": "<p>One way I can think of is reading each line from text file using <code>ReadLine()</code>, and then use <code>Split(',')</code> on that line to get the abbreviation and name in a string array, and then you can easily add them to your database in a while loop.</p>\n"}, {"tags": [], "owner": {"reputation": 424, "user_id": 5895586, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bEMlO.jpg?s=128&g=1", "display_name": "Jurriaan Buitenweg", "link": "https://stackoverflow.com/users/5895586/jurriaan-buitenweg"}, "is_accepted": false, "score": 1, "last_activity_date": 1473887678, "last_edit_date": 1473887678, "creation_date": 1473886586, "answer_id": 39499518, "question_id": 39497849, "link": "https://stackoverflow.com/questions/39497849/how-do-i-add-records-to-a-table-from-a-text-file/39499518#39499518", "title": "How do I add records to a table from a text file?", "body": "<p>Well you didnt specify things like your database etc but this would be my best guess. i build this for a MsSql databse but you can adjust it for mySql in a few simple steps(First install mySQL connector). \nI dont have a MsSQl database at my disposal atm so i didnt try it at home but it should work like this. Ofcourse edit the connection string so it fits your database</p>\n\n<pre><code>        string fileName = \"state_list.txt\";\n        var lines = File.ReadLines(fileName);\n\n        Dictionary&lt;string,string&gt; splitted = new Dictionary&lt;string,string&gt;();\n        foreach (var line in lines)\n        {\n            string[] splitter = line.Split(',');\n            splitted.Add(splitter[0], splitter[1]); //Add eatch splitted line to dictionary so you can use key and value to insert into table\n        }\n\n\n        string connStr =\"server = localhost; user = root; database = yourdb; port = 3306; password = xxxxxxxxx;\"; // CREATE CONNECTION WITH YOUR DATABASE INFORMATION\n        SqlConnection conn = new SqlConnection(connStr);\n        try\n        {\n            conn.Open();\n            SqlCommand comm = conn.CreateCommand();\n            comm.CommandText = \"INSERT INTO state_list(code,area) VALUES(@code, @area)\";\n\n            foreach (KeyValuePair&lt;string, string&gt; pair in splitted)\n            {\n                comm.Parameters.Add(\"@code\", pair.Key);\n                comm.Parameters.Add(\"@areas\", pair.Value);\n                comm.ExecuteNonQuery(); // INSERT EACH PAIR INTO DATABASE\n            }\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine(ex.ToString());\n        }\n        conn.Close(); //CLOSE CONNECTION\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1281, "user_id": 663853, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/0ABQE.jpg?s=128&g=1", "display_name": "Robert Green MBA", "link": "https://stackoverflow.com/users/663853/robert-green-mba"}, "is_accepted": false, "score": 0, "last_activity_date": 1473887798, "creation_date": 1473887798, "answer_id": 39499755, "question_id": 39497849, "link": "https://stackoverflow.com/questions/39497849/how-do-i-add-records-to-a-table-from-a-text-file/39499755#39499755", "title": "How do I add records to a table from a text file?", "body": "<p>(1)Parse the .txt file and (2)add the records to the DB.  You can use entity framework, or any other ORM, or use ADO like @Jurriaan suggested.  </p>\n"}, {"tags": [], "owner": {"reputation": 504, "user_id": 1940266, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4m9oY.jpg?s=128&g=1", "display_name": "Justin Loveless", "link": "https://stackoverflow.com/users/1940266/justin-loveless"}, "is_accepted": false, "score": 0, "last_activity_date": 1473888392, "creation_date": 1473888392, "answer_id": 39499884, "question_id": 39497849, "link": "https://stackoverflow.com/questions/39497849/how-do-i-add-records-to-a-table-from-a-text-file/39499884#39499884", "title": "How do I add records to a table from a text file?", "body": "<p>If you are using Entity Framework, you can use this approach.</p>\n\n<pre><code>   using(var context = new YourContext())\n   {\n        List&lt;YourEntity&gt; entities = new List&lt;YourEntity&gt;();\n        File.ReadAllLines(\"PathToFile\")\n            .ToList()\n            .ForEach(s =&gt;\n            {\n               string[] split = s.Split(',');\n               someList.Add(new YourEntity(split[0], split[1])); // Or set properties if not using a constructor.\n            });\n\n        context.YourTable.AddRange(entities);\n        context.SaveChanges();\n   }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "is_accepted": false, "score": 0, "last_activity_date": 1473899438, "creation_date": 1473899438, "answer_id": 39501550, "question_id": 39497849, "link": "https://stackoverflow.com/questions/39497849/how-do-i-add-records-to-a-table-from-a-text-file/39501550#39501550", "title": "How do I add records to a table from a text file?", "body": "<p>Remove the ' from the file and then run below command.</p>\n\n<pre><code>Bulk Insert [dbo].[TableName]\nFrom 'C:\\FileName.csv'\nwith\n(\nFIELDTERMINATOR = ',', -- For Comma Seperated File\nRowTerminator = '\\n' -- RowTernimator i.e new Line\n)\n</code></pre>\n\n<p>Did this a while back and added to blog at that time -- <a href=\"http://dotnetdevblog.blogspot.com/2007/10/bulk-inserting-from-csv-file-into.html\" rel=\"nofollow\">http://dotnetdevblog.blogspot.com/2007/10/bulk-inserting-from-csv-file-into.html</a></p>\n"}], "owner": {"reputation": 131, "user_id": 4687388, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/62819d1691d6b66115d49cee8c1cb92b?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Gatto", "link": "https://stackoverflow.com/users/4687388/bob-gatto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1473899438, "creation_date": 1473879815, "last_edit_date": 1473883286, "question_id": 39497849, "link": "https://stackoverflow.com/questions/39497849/how-do-i-add-records-to-a-table-from-a-text-file", "title": "How do I add records to a table from a text file?", "body": "<p>I have a table called statelist that looks like this:</p>\n\n<pre><code>abbrev nvarchar(2);\nname   nvarchar(50);\n</code></pre>\n\n<p>I have a text file called state_list.txt which has a list of states in this format:</p>\n\n<pre><code>'AL','Alabama'\n'AK','Alaska'\n'AR','Arkansas'\n</code></pre>\n\n<p>I want to get the data from the text file into the statelist table. Is there some kind of SQL Insert or other code to do this?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 13431, "user_id": 2169762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nns8w.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/2169762/martin"}, "edited": false, "score": 2, "creation_date": 1473879877, "post_id": 39497835, "comment_id": 66313220, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/915210/how-can-i-get-the-path-of-the-current-users-application-data-folder\">How can i get the path of the current user&#39;s &quot;Application Data&quot; folder?</a>"}, {"owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "edited": false, "score": 0, "creation_date": 1473881389, "post_id": 39497835, "comment_id": 66314044, "body": "Look up <a href=\"https://www.google.com/#q=c-sharp+environment.specialfolder\" rel=\"nofollow noreferrer\">google.com/#q=c-sharp+environment.specialfolder</a> and if you get stuck, post the code you&#39;ve tried and the specific problem you&#39;re having."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6683980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718808cc294523bdd975e08ffcd4ae71?s=128&d=identicon&r=PG&f=1", "display_name": "MAX.RAY", "link": "https://stackoverflow.com/users/6683980/max-ray"}, "edited": false, "score": 0, "creation_date": 1473881131, "post_id": 39497881, "comment_id": 66313910, "body": "thanks for answer me I write the 3 lines but I didn&#39;t find &quot;data.txt&quot; file :("}, {"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "reply_to_user": {"reputation": 21, "user_id": 6683980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718808cc294523bdd975e08ffcd4ae71?s=128&d=identicon&r=PG&f=1", "display_name": "MAX.RAY", "link": "https://stackoverflow.com/users/6683980/max-ray"}, "edited": false, "score": 0, "creation_date": 1473881235, "post_id": 39497881, "comment_id": 66313954, "body": "Might not have permissions. Hard to say. Can you create a file there manually and write to it with notepad or something?"}, {"owner": {"reputation": 21, "user_id": 6683980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718808cc294523bdd975e08ffcd4ae71?s=128&d=identicon&r=PG&f=1", "display_name": "MAX.RAY", "link": "https://stackoverflow.com/users/6683980/max-ray"}, "edited": false, "score": 0, "creation_date": 1473882786, "post_id": 39497881, "comment_id": 66314706, "body": "yes I can and I run my app As adminaster but it isn&#39;t working"}, {"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "reply_to_user": {"reputation": 21, "user_id": 6683980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718808cc294523bdd975e08ffcd4ae71?s=128&d=identicon&r=PG&f=1", "display_name": "MAX.RAY", "link": "https://stackoverflow.com/users/6683980/max-ray"}, "edited": false, "score": 0, "creation_date": 1473883283, "post_id": 39497881, "comment_id": 66314960, "body": "Is it throwing an error? You have to make sure the directory exists. Check out the CreateDirectory() method then try to write the file."}], "tags": [], "owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "is_accepted": false, "score": 5, "last_activity_date": 1602456440, "last_edit_date": 1602456440, "creation_date": 1473879929, "answer_id": 39497881, "question_id": 39497835, "link": "https://stackoverflow.com/questions/39497835/how-to-create-file-text-in-appdata-roaming-for-any-user-in-c/39497881#39497881", "title": "How to create file text in &quot;AppData\\Roaming&quot; for any user in C#", "body": "<p>Almost a duplicate of this one: <a href=\"https://stackoverflow.com/a/21484177/2524589\">Environment.SpecialFolder.ApplicationData returns the wrong folder</a></p>\n<pre><code>Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData);\n</code></pre>\n<p>That should get the folder you need then use Path.Combine() to write to a directory in that folder.</p>\n<pre><code>var roamingDirectory = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData);\nvar filePath = Path.Combine(roamingDirectory, &quot;MaxrayStudy\\\\data.txt&quot;);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 6683980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718808cc294523bdd975e08ffcd4ae71?s=128&d=identicon&r=PG&f=1", "display_name": "MAX.RAY", "link": "https://stackoverflow.com/users/6683980/max-ray"}, "is_accepted": false, "score": 0, "last_activity_date": 1473885580, "creation_date": 1473885580, "answer_id": 39499307, "question_id": 39497835, "link": "https://stackoverflow.com/questions/39497835/how-to-create-file-text-in-appdata-roaming-for-any-user-in-c/39499307#39499307", "title": "How to create file text in &quot;AppData\\Roaming&quot; for any user in C#", "body": "<p>I restart my windows and I write this</p>\n\n<pre><code>string filePath =  Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData);\n\n        filePath= (filePath+@\"\\MaxrayStudyApp\\data.txt\");\n        string path =Convert.ToString(filePath);\n        using (System.IO.StreamWriter file = \n    new System.IO.StreamWriter(filePath,false)){\n            file.WriteLine(\" XP : 0\");}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6683980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718808cc294523bdd975e08ffcd4ae71?s=128&d=identicon&r=PG&f=1", "display_name": "MAX.RAY", "link": "https://stackoverflow.com/users/6683980/max-ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3838, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1602456440, "creation_date": 1473879762, "last_edit_date": 1525142557, "question_id": 39497835, "link": "https://stackoverflow.com/questions/39497835/how-to-create-file-text-in-appdata-roaming-for-any-user-in-c", "title": "How to create file text in &quot;AppData\\Roaming&quot; for any user in C#", "body": "<p>I'd like save date my app but I'm not knowing if app save for different users, Example if \"andy\" I can't use (\"C:\\Users\\Game maker\\AppData\\Roaming\") ,So How to create file in \"AppData\\Roaming\\MaxrayStudyApp\" for any user .</p>\n\n<pre><code>    Computer myComputer = new Computer();\n        myComputer.FileSystem.WriteAllText(@\"C:\\Users\\Game maker\\AppData\\Roaming\\MaxrayStudy\\data.txt\",\"\", false);\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "jwt"], "comments": [{"owner": {"reputation": 17479, "user_id": 5426333, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GtTDC.jpg?s=128&g=1", "display_name": "adem caglin", "link": "https://stackoverflow.com/users/5426333/adem-caglin"}, "edited": false, "score": 0, "creation_date": 1473880878, "post_id": 39497822, "comment_id": 66313766, "body": "See similar issue <a href=\"https://github.com/IdentityServer/IdentityServer4/issues/61\" rel=\"nofollow noreferrer\">github.com/IdentityServer/IdentityServer4/issues/61</a> It seems the problem is about signature algorithm."}], "answers": [{"comments": [{"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "edited": false, "score": 0, "creation_date": 1473888186, "post_id": 39499325, "comment_id": 66317239, "body": "Thanks, it works with RsaSha512. I also had to recreate the cert with an embedded private key."}, {"owner": {"reputation": 5517, "user_id": 639019, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/99b65dfdf458b5f21f8b55fa1b15e95f?s=128&d=identicon&r=PG&f=1", "display_name": "monty", "link": "https://stackoverflow.com/users/639019/monty"}, "edited": false, "score": 0, "creation_date": 1505821195, "post_id": 39499325, "comment_id": 79561109, "body": "@PinPoint I have a similiar question, mind helping me out over there please: <a href=\"https://stackoverflow.com/questions/46294373/net-core-issuersigningkey-from-file-for-jwt-bearer-authentication\" title=\"net core issuersigningkey from file for jwt bearer authentication\">stackoverflow.com/questions/46294373/&hellip;</a>"}], "tags": [], "owner": {"reputation": 32703, "user_id": 542757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KVgrz.png?s=128&g=1", "display_name": "K&#233;vin Chalet", "link": "https://stackoverflow.com/users/542757/k%c3%a9vin-chalet"}, "is_accepted": true, "score": 6, "last_activity_date": 1473888201, "last_edit_date": 1473888201, "creation_date": 1473885649, "answer_id": 39499325, "question_id": 39497822, "link": "https://stackoverflow.com/questions/39497822/how-can-i-use-x509securitykey-for-asp-net-core-jwt-validation/39499325#39499325", "title": "How can I use X509SecurityKey for Asp.Net Core JWT validation?", "body": "<blockquote>\n  <p>I tried a few algorithms, but it doesn't seem like it works with any of them?</p>\n</blockquote>\n\n<p>You're trying to use an asymmetric key (embedded in a X.509 certificate) with a HMAC algorithm (that we often <em>abusively</em> call \"symmetric signature algorithm\"): this cannot work.</p>\n\n<p>Assuming your certificate is a RSA certificate, you should be able to use <code>SecurityAlgorithms.RsaSha256</code>.</p>\n\n<pre><code>var credentials = new SigningCredentials(signingKey, SecurityAlgorithms.RsaSha256)\n</code></pre>\n"}], "owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5021, "favorite_count": 1, "accepted_answer_id": 39499325, "answer_count": 1, "score": 3, "last_activity_date": 1473888201, "creation_date": 1473879709, "question_id": 39497822, "link": "https://stackoverflow.com/questions/39497822/how-can-i-use-x509securitykey-for-asp-net-core-jwt-validation", "title": "How can I use X509SecurityKey for Asp.Net Core JWT validation?", "body": "<p>How can I (can I?) use X509SecurityKey for Asp.Net Core JWT validation?</p>\n\n<p>My current code is roughly:</p>\n\n<pre><code>        X509SecurityKey signingKey = null;\n\n        using (X509Store store = new X509Store(StoreName.My, StoreLocation.LocalMachine))\n        {\n            store.Open(OpenFlags.ReadOnly);\n            var v = store.Certificates.Find(X509FindType.FindByTimeValid, DateTime.Now, true);\n            var v1 = v.Find(X509FindType.FindBySubjectDistinguishedName, strCertName, true);\n            signingKey = new X509SecurityKey(v1[0]);\n        }\n</code></pre>\n\n<p>and later on for the signing credentials...</p>\n\n<pre><code>new SigningCredentials(signingKey, SecurityAlgorithms.HmacSha256)\n</code></pre>\n\n<p>This causes an exception:</p>\n\n<p>SignatureAlgorithm: 'HS256', SecurityKey: 'Microsoft.IdentityModel.Tokens.X509SecurityKey'\n is not supported.\n   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures)\n   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm)</p>\n\n<p>I tried a few algorithms, but it doesn't seem like it works with any of them? </p>\n"}, {"tags": ["c#", "sql-server", "entity-framework", "code-first"], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 4765363, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c218cf057ba1ed819ed9e837c8699486?s=128&d=identicon&r=PG", "display_name": "RWHertenstein2", "link": "https://stackoverflow.com/users/4765363/rwhertenstein2"}, "is_accepted": false, "score": 0, "last_activity_date": 1473885632, "creation_date": 1473885632, "answer_id": 39499323, "question_id": 39497769, "link": "https://stackoverflow.com/questions/39497769/database-already-created-new-tables-not-adding-in/39499323#39499323", "title": "Database Already Created, new tables not adding in", "body": "<p>Ok, in working with one of the guys here, we were able to figure out what is happening. </p>\n\n<ol>\n<li>This is possible to create a database and then allow for it to create more tables into that manually created database (that is what we were doing on the Logging table). </li>\n<li>The issue was related not to the Context being wrong, but my poor attention to detail. </li>\n</ol>\n\n<p>On of my entity classes was coded incorrectly (and I hadn't messed with it in a year to notice)</p>\n\n<p><strong>Incorrect Version</strong></p>\n\n<pre><code>public partial class WarrantyFormLineReplacements\n{\n    #region Class Variables\n    public int in_WFLineReplacementID;\n    public int in_WFlineId;\n    public int in_WFId;\n    [MaxLength(120)]\n    public string vc_ModelNumber;\n    public decimal dc_ReplacementCost;\n    [MaxLength(255)]\n    public string vc_InsertBy;\n    public DateTime dt_InsertDate;\n    [MaxLength(255)]\n    public string vc_UpdateBy;\n    public DateTime dt_UpdateDate;\n    #endregion\n}       // end of public partial class WarrantyFormLineReplacements\n</code></pre>\n\n<p><strong>Corrected Version</strong></p>\n\n<pre><code>public partial class WarrantyFormLineReplacements\n{\n    #region Class Variables\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public int in_WFLineReplacementID {get;set;}\n    public int in_WFlineId { get; set; }\n    public int in_WFId { get; set; }\n    [MaxLength(120)]\n    public string vc_ModelNumber { get; set; }\n    public decimal dc_ReplacementCost { get; set; }\n    [MaxLength(255)]\n    public string vc_InsertBy { get; set; }\n    public DateTime dt_InsertDate { get; set; }\n    [MaxLength(255)]\n    public string vc_UpdateBy { get; set; }\n    public DateTime dt_UpdateDate { get; set; }\n    #endregion\n}       // end of public partial class WarrantyFormLineReplacements\n</code></pre>\n\n<p><strong>Core Problems that I caused</strong></p>\n\n<p>The Core problems were, I didn't have a Key (which a try catch and logging caught), and when I added the key I did not have the accessor/mutator methods defined for each variable ( {get; set;} ). Once I added those, it created the the tables without any issues into the database that was already created. It also created the __MigrationHistory table as I was expecting. </p>\n"}], "owner": {"reputation": 53, "user_id": 4765363, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c218cf057ba1ed819ed9e837c8699486?s=128&d=identicon&r=PG", "display_name": "RWHertenstein2", "link": "https://stackoverflow.com/users/4765363/rwhertenstein2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1473885632, "creation_date": 1473879524, "last_edit_date": 1495540866, "question_id": 39497769, "link": "https://stackoverflow.com/questions/39497769/database-already-created-new-tables-not-adding-in", "title": "Database Already Created, new tables not adding in", "body": "<p>I am writing working with a Database that was precreated, and that I have created the DBSet definitions for the tables. The current database was inherited from a previous system and contains over 100,000 rows of data per table (transactions for over 5 years). We are putting this into a new application, porting over the data. </p>\n\n<p>So, the database was manually created, not code first. The new classes are code first, and we are hoping to have those tables automatically generate into the table. </p>\n\n<p>I have checked, and the user has db_owner access to the database that we are using for the database connection. The database is also not in ReadOnly. </p>\n\n<p>The following is the Context class that was created:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Data.Entity;\nusing System.Linq;\nusing BHI.WCMS.DAL;\nusing System.ComponentModel.DataAnnotations;\nusing System.Data.Entity.Infrastructure;\nusing System.Data.Entity.Migrations;\n\n\nnamespace BHI.WCMS.DAL.Partner\n{\n    public class PartnerContext : DbContext\n    {\n        public PartnerContext()\n            : base(\"partner\")\n        {\n            //Configuration.LazyLoadingEnabled = false;\n            Database.SetInitializer&lt;PartnerContext&gt;(new MigrateDatabaseToLatestVersion&lt;PartnerContext, PartnerConfiguration&gt;());\n        }\n\n        public PartnerContext(string ConnectionStringName)\n            : base(ConnectionStringName)\n        {\n        }\n\n        //protected override void OnModelCreating(DbModelBuilder modelBuilder)\n        //{\n        //    modelBuilder.Entity&lt;PartnerProfileServiceCenterTransaction&gt;().Property(p =&gt; p.AmountDue).HasPrecision(8, 2);\n        //    base.OnModelCreating(modelBuilder);\n        //}\n\n        public DbSet&lt;WarrantyForms&gt; WarrantyForms { get; set; }\n        public DbSet&lt;WarrantyFormLines&gt; WarrantyFormLines { get; set; }\n        public DbSet&lt;WarrantyFormLineParts&gt; WarrantyFormLineParts { get; set; }\n        public DbSet&lt;WarrantyFormLineReplacements&gt; WarrantyFormLineReplacements { get; set; }\n        public DbSet&lt;PartnerProfile&gt; PartnerProfiles { get; set; }\n        public DbSet&lt;PartnerProfileContactInfo&gt; PartnerProfileContactInfos { get; set; }\n        public DbSet&lt;PartnerProfileCustomerAddress&gt; PartnerProfileCustomerAddresses { get; set; }\n        public DbSet&lt;PartnerProfileServiceCenterTransaction&gt; PartnerProfileServiceCenterTransactions { get; set; }\n\n        public static PartnerProfile InsertPartnerProfile(PartnerProfile profile)\n        {\n            using (var db = new PartnerContext())\n            {\n                foreach (var addy in profile.BillingAddress)\n                {\n                    addy.DateCreated = DateTime.Now;\n                    addy.DateModified = DateTime.Now;\n                    db.PartnerProfileCustomerAddresses.Add(addy);\n                    db.SaveChanges();\n                }\n\n                //profile.DateCreated = DateTime.Now;\n                //profile.DateModified = DateTime.Now;\n                //db.PartnerProfiles.Add(profile);\n                //db.SaveChanges();\n            }\n            return profile;\n        }   // end of  public static PartnerProfile InsertPartnerProfile(PartnerProfile profile)\n\n        public static PartnerProfile UpdatePartnerProfile(PartnerProfile profile)\n        {\n            using (var db = new PartnerContext())\n            {\n\n            }\n            return profile;\n        }   // end of  public static PartnerProfile UpdatePartnerProfile(PartnerProfile profile)\n\n        public static PartnerProfile SelectPartnerProfile(PartnerProfile profile)\n        {\n            using (var db = new BHI.WCMS.DAL.Partner.PartnerContext())\n            {\n\n            }\n            return profile;\n        }   // end of  public static PartnerProfile SelectPartnerProfile(PartnerProfile profile)\n\n    }       // end of class WarrantyContext : DbContext\n\n    internal sealed class PartnerConfiguration : DbMigrationsConfiguration&lt;PartnerContext&gt;\n    {\n        public PartnerConfiguration()\n        {\n            AutomaticMigrationsEnabled = true;\n        }\n    }\n}           // end of namespace BHI.WCMS.DAL.Partner\n</code></pre>\n\n<p>I have looked at adding the configuration per other articles</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/10822618/confusion-over-ef-auto-migrations-and-seeding-seeding-every-program-start\">Confusion over EF Auto Migrations and seeding - seeding every program start</a></li>\n<li><a href=\"http://www.scriptscoop.bid/t/1c411f565b56/tables-are-not-reflecting-on-database-on-vs-2013-by-using-code-first-a.html\" rel=\"nofollow noreferrer\">http://www.scriptscoop.bid/t/1c411f565b56/tables-are-not-reflecting-on-database-on-vs-2013-by-using-code-first-a.html</a></li>\n</ul>\n\n<p>and that did not work. I also tried running this\n    Enable-Migrations -ContextTypeName BHI.WCMS.DAL.Partner.PartnerContext -EnableAutomaticMigrations</p>\n\n<p>And that did not work either. When I change the Context from Partner to Logging (a database that was 100% code first) it loads the tables in without a problem. So, this leads me to make the following assumptions:</p>\n\n<ol>\n<li>There is not an issue with the class files defining the tables</li>\n<li>There is not an issue with the DBContext file that is referencing the files</li>\n<li>Because I am able to retrieve data from the database for the old tables, there is not an issue with the username/password for the database</li>\n<li>Because the user account has db_owner access, there should not be any permissions issues with the database. </li>\n</ol>\n\n<p>All that being said, I am looking at this, and not able to get the tables to create. So, there appears to be something wrong in either the tables that are currently there, or there is an issue with the database itself (there is no __MigrationHistory table). </p>\n\n<p>The error message I get is this:</p>\n\n<pre><code>    Exception: System.Data.Entity.Infrastructure.DbUpdateException\n    Message: An error occurred while updating the entries. See the inner exception for details.\n    Source: EntityFramework\n       at System.Data.Entity.Internal.InternalContext.SaveChanges()\n       at BHI.WCMS.DAL.Partner.WarrantyContext.InsertPartnerProfile(PartnerProfile profile) in c:\\inetpub\\Bissell SiteCore\\Dev\\Partners-Dev\\BHI.WCMS\\BHI.WCMS.DAL\\Partner\\WarrantyContext.cs:line 47\n       at BHI.WCMS.ECommerce.BWS.Partner.MapServiceToObject(ServiceCenterResponse response) in c:\\inetpub\\Bissell SiteCore\\Dev\\Partners-Dev\\BHI.WCMS\\BHI.WCMS.ECommerce.BWS\\Partner.cs:line 151\n       at BHI.WCMS.ECommerce.BWS.Partner.BWSGetServiceCenterInfo(String accountNumber, String zipCode) in c:\\inetpub\\Bissell SiteCore\\Dev\\Partners-Dev\\BHI.WCMS\\BHI.WCMS.ECommerce.BWS\\Partner.cs:line 48\n\n    Nested Exception\n\n    Exception: System.Data.Entity.Core.UpdateException\n    Message: An error occurred while updating the entries. See the inner exception for details.\n    Source: EntityFramework\n       at System.Data.Entity.Core.Mapping.Update.Internal.UpdateTranslator.Update()\n       at System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)\n       at System.Data.Entity.Core.Objects.ObjectContext.SaveChangesToStore(SaveOptions options, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction)\n       at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)\n       at System.Data.Entity.Core.Objects.ObjectContext.SaveChangesInternal(SaveOptions options, Boolean executeInExistingTransaction)\n       at System.Data.Entity.Internal.InternalContext.SaveChanges()\n\n    Nested Exception\n\n    Exception: System.Data.SqlClient.SqlException\n    Message: Invalid object name 'dbo.PartnerProfileCustomerAddresses'.\n    Source: .Net SqlClient Data Provider\n       at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\n       at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\n       at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean&amp; dataReady)\n       at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()\n       at System.Data.SqlClient.SqlDataReader.get_MetaData()\n       at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)\n       at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task&amp; task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)\n       at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task&amp; task, Boolean asyncWrite)\n       at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)\n       at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)\n       at Glimpse.Ado.AlternateType.GlimpseDbCommand.ExecuteDbDataReader(CommandBehavior behavior)\n       at System.Data.Entity.Infrastructure.Interception.InternalDispatcher`1.Dispatch[TTarget,TInterceptionContext,TResult](TTarget target, Func`3 operation, TInterceptionContext interceptionContext, Action`3 executing, Action`3 executed)\n       at System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.Reader(DbCommand command, DbCommandInterceptionContext interceptionContext)\n       at System.Data.Entity.Core.Mapping.Update.Internal.DynamicUpdateCommand.Execute(Dictionary`2 identifierValues, List`1 generatedValues)\n       at System.Data.Entity.Core.Mapping.Update.Internal.UpdateTranslator.Update()\n</code></pre>\n\n<p>Any help on this would be greatly appreciated. </p>\n\n<p>Thanks\nRobert</p>\n"}, {"tags": ["c#", "sql-server", "localdb"], "comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1473879622, "post_id": 39497741, "comment_id": 66313101, "body": "localDB is for development only. Basically a light weighted Sql Server without optimization. You will not want to use it for big data"}, {"owner": {"reputation": 30431, "user_id": 1507566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40b799a199eda9317d64e854c9fc8858?s=128&d=identicon&r=PG", "display_name": "Tab Alleman", "link": "https://stackoverflow.com/users/1507566/tab-alleman"}, "edited": false, "score": 0, "creation_date": 1473879668, "post_id": 39497741, "comment_id": 66313125, "body": "I recommend that you ask this question on dba.stackexchange.com"}], "answers": [{"tags": [], "owner": {"reputation": 407, "user_id": 5178260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b86ec91d87deea40f44ddbe192f77b95?s=128&d=identicon&r=PG&f=1", "display_name": "paulbarbin", "link": "https://stackoverflow.com/users/5178260/paulbarbin"}, "is_accepted": false, "score": 1, "last_activity_date": 1473888152, "last_edit_date": 1473888152, "creation_date": 1473880678, "answer_id": 39498069, "question_id": 39497741, "link": "https://stackoverflow.com/questions/39497741/understand-localdb-is-relation-to-sql-server-express-and-sql-server-ce/39498069#39498069", "title": "Understand localDB is relation to SQL Server Express and SQL Server CE", "body": "<p>We used localdb on a project where we had agents in the field using laptops.  </p>\n\n<ol>\n<li><p>The functionality of localdb was better than SQL Server CE (I don't remember exactly what CE was missing, but it was important to the project), you should review the functional differences.</p></li>\n<li><p>Another advantage was the db was stored in the user folder which makes it impossible for other non-admin users of the laptop to see.  This allowed us to reuse and even share laptops between users without mixing data - a nice feature.</p></li>\n<li><p>Finally, the dbs (with a little effort) can be copied to the dev/support side and restored/attached for troubleshooting.  They are full <code>.mdf</code>/<code>.ldf</code> database files.</p></li>\n</ol>\n\n<p>You do have to create the instances using a command line (sqllocaldb utility), after the product is installed.  This was just part of our install app.</p>\n"}, {"tags": [], "owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1473888123, "creation_date": 1473888123, "answer_id": 39499826, "question_id": 39497741, "link": "https://stackoverflow.com/questions/39497741/understand-localdb-is-relation-to-sql-server-express-and-sql-server-ce/39499826#39499826", "title": "Understand localDB is relation to SQL Server Express and SQL Server CE", "body": "<p><code>LocalDB</code> is a programmer-oriented version of <strong>SQL Server Express</strong> that needs to be installed just like SQL Server Express. </p>\n\n<p>Unlike SQL Server Express, it's <strong>not</strong> installed as a Windows Service that starts up with your Windows OS - but it only starts up as needed (when your application starts up, or when you start it manually with the <code>SqlLocalDb</code> command line tool). </p>\n\n<p>But LocalDB <strong><em>IS</em></strong> SQL Server <strong>Express</strong> (not Compact Edition). It uses the same <code>.mdf</code> and <code>.ldf</code> database files like and desktop/server version of SQL Server, not SQL Server CE's <code>.sdf</code> file format.</p>\n"}], "owner": {"reputation": 18313, "user_id": 529310, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/GahDY.png?s=128&g=1", "display_name": "KMC", "link": "https://stackoverflow.com/users/529310/kmc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 628, "favorite_count": 0, "accepted_answer_id": 39499826, "answer_count": 2, "score": 1, "last_activity_date": 1473888152, "creation_date": 1473879433, "last_edit_date": 1495535631, "question_id": 39497741, "link": "https://stackoverflow.com/questions/39497741/understand-localdb-is-relation-to-sql-server-express-and-sql-server-ce", "title": "Understand localDB is relation to SQL Server Express and SQL Server CE", "body": "<p>I'm trying to understanding LocalDB by reading <a href=\"https://msdn.microsoft.com/en-us/library/hh510202.aspx\" rel=\"nofollow noreferrer\">MSDN: SQL Server 2016 Express LocalDB</a> and <a href=\"https://msdn.microsoft.com/library/ms233817(vs.110).aspx\" rel=\"nofollow noreferrer\">MSDN: SQL Server Express LocalDB and SQL Server Express</a> and a number of SO posts including <a href=\"https://stackoverflow.com/questions/17547998/confusion-about-sql-server-express-and-localdb\">confusion about SQL Server Express and localdb</a>, I still cannot understand what is LocalDB. I understand and have used SQL Server Express and SQL Server CE.</p>\n\n<p>Questions:</p>\n\n<blockquote>\n  <p>LocalDB...the necessary SQL Server infrastructure is automatically\n  created and started</p>\n</blockquote>\n\n<p>My understanding is that, if using LocalDB to handle an application's database, neither the developer nor the client machine where the application is deployed needs to install the heavy SQL Server Express, but just need to install the lighter LocalDB. How, then, without SQL Server Express install can localDB \"create(d) and start(ed)\" SQL Server? If localDB </p>\n\n<blockquote>\n  <p>... once installed, LocalDB is an instance of SQL Server Express that can create and open SQL Server databases. The system database files for the database are stored in the users' local AppData path which is normally hidden.  </p>\n</blockquote>\n\n<p>If developer or client can use localDB without installing SQL Server, how can localDB be an instance of something that is not installed? Or is localDB an incomplete version of SQL Server Express that just does not need to click..click..click.. to configure. Essentially localDB works like SQL Server CE where localDB use some hidden \"files\" in AppData to create database while SQL Server CE use the dll to generate the database?</p>\n\n<blockquote>\n  <p>SqlLocalDB.msi program to install the necessary files on the computer</p>\n</blockquote>\n\n<p>If client still needs to install localDB (which is not really portable along with the application like SQL Server CE), then why not just install SQL Server Express? Either localDB or SQL Server Express is above 100MB+ anyway and need separate installation, what is the point of using localDB anyway?   </p>\n"}, {"tags": ["c#", "selenium", "firefox", "console"], "comments": [{"owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "edited": false, "score": 0, "creation_date": 1473879250, "post_id": 39497665, "comment_id": 66312932, "body": "You&#39;ve got the element - you need to print its contents."}, {"owner": {"reputation": 1, "user_id": 6828165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd3da5787c0f3c50c215bb9db143cd91?s=128&d=identicon&r=PG&f=1", "display_name": "BIRDIE13", "link": "https://stackoverflow.com/users/6828165/birdie13"}, "reply_to_user": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "edited": false, "score": 0, "creation_date": 1473882931, "post_id": 39497665, "comment_id": 66314790, "body": "No matter how i do it, the output is always &quot;OpenQA.Selenium.Firefox.Firefoxwebelement&quot;. Could it be anything wrong with the last update?"}, {"owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "edited": false, "score": 0, "creation_date": 1473886880, "post_id": 39497665, "comment_id": 66316738, "body": "No - the output is fine - you need to access the value of the element. Try OpenQA.Selenium.Firefox.Firefoxwebelement.InnerHtml or look up the documentation for how to get the value/contents of the element. You have the element and it&#39;s supposed to return the element, so everything is working fine - you just need to find out how to access the element&#39;s contents."}], "answers": [{"tags": [], "owner": {"reputation": 194, "user_id": 6815377, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dpTwJBF_FgE/AAAAAAAAAAI/AAAAAAAAAEk/u7TCjuFlUWk/photo.jpg?sz=128", "display_name": "Aldo", "link": "https://stackoverflow.com/users/6815377/aldo"}, "is_accepted": false, "score": 0, "last_activity_date": 1473898645, "creation_date": 1473898645, "answer_id": 39501458, "question_id": 39497665, "link": "https://stackoverflow.com/questions/39497665/c-selenium-printing-div-content-not-working-properly/39501458#39501458", "title": "C# Selenium printing div content not working properly", "body": "<p>Try this :</p>\n\n<pre><code> Console.WriteLine(driver.FindElement(By.XPath(\"//div[@id='footer']\")).Text);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6828165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd3da5787c0f3c50c215bb9db143cd91?s=128&d=identicon&r=PG&f=1", "display_name": "BIRDIE13", "link": "https://stackoverflow.com/users/6828165/birdie13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1473898645, "creation_date": 1473879158, "question_id": 39497665, "link": "https://stackoverflow.com/questions/39497665/c-selenium-printing-div-content-not-working-properly", "title": "C# Selenium printing div content not working properly", "body": "<p>I'm using C# Console Application with Selenium and trying to print the content from a div-tag, but for some reason the only output i get is \"OpenQA.Selenium.Firefox.Firefoxwebelement\". What can be the cause?</p>\n\n<pre><code>Console.WriteLine(driver.FindElement(By.XPath(\"//div[@id='footer']\")));\n</code></pre>\n"}, {"tags": ["c#", "angularjs", "asp.net-mvc"], "answers": [{"comments": [{"owner": {"reputation": 439, "user_id": 4028271, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8806d2996789ea7a6eeb8167bcd3dbe7?s=128&d=identicon&r=PG&f=1", "display_name": "Programmermid", "link": "https://stackoverflow.com/users/4028271/programmermid"}, "edited": false, "score": 0, "creation_date": 1473880005, "post_id": 39497845, "comment_id": 66313300, "body": "Can you give me a reference for any sample that I can use?"}], "tags": [], "owner": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "is_accepted": true, "score": 0, "last_activity_date": 1473943053, "last_edit_date": 1473943053, "creation_date": 1473879802, "answer_id": 39497845, "question_id": 39497580, "link": "https://stackoverflow.com/questions/39497580/how-to-pass-a-value-from-mvc-controller-to-angular-html-view/39497845#39497845", "title": "How to pass a Value from MVC Controller to Angular .html View", "body": "<p>If your using angular you should make SampleView.Html a directive and inject a service that can call your mvc AccessPackerPlanTemplate method to get the information or better yet create an angular rule service that can wrap and all your rule logic and cache results.</p>\n\n<p>Step 1: create the directive to wrap DivPackerTemplate\nDirective doc -> <a href=\"https://docs.angularjs.org/guide/directive\" rel=\"nofollow\">https://docs.angularjs.org/guide/directive</a></p>\n\n<p>Step 2: create an angular service that wraps your calls to rules logic (rules should be in webapi but you can use regular mvc actions if you must) -> <a href=\"https://docs.angularjs.org/guide/services\" rel=\"nofollow\">https://docs.angularjs.org/guide/services</a></p>\n\n<p>Then you simply wire them up by injecting your rules service into the directive and using it to populate the template data, caching is optional.</p>\n\n<p>In the angular world you do not \"pass value's\" from the server into a view, your views use angular services to \"pull values\" into views/directives</p>\n\n<p>I'm not an angular expert but something along these lines, omitted the rules service implementation ($rules) as angular services are fairly easy to create.</p>\n\n<pre><code>angular.module('moduleA', [])\n.controller('SimpleDirectiveController', ['$rules','$scope',function($rules,$scope) { \n$scope.show = function() { \n    return $rules.yourmethodtogetrulesresult();//for this case return either 'hidden' or 'visible'\n}; }])\n.directive('PackerTemplate', function() {\n  return {\n    template: function($scope) { \n        var templatevar =  '&lt;a ng-href=\"\\\\Samplefolder\" visibility=\\'[XX]\\'&gt;Edit Template&lt;/a&gt;'\n         return templatevar.replace('[XX]',$scope.show())\n         }     \n    };\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 339, "user_id": 2392193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40027bfe6cea8984fe85217beee5eb67?s=128&d=identicon&r=PG", "display_name": "Law", "link": "https://stackoverflow.com/users/2392193/law"}, "is_accepted": false, "score": 0, "last_activity_date": 1473880355, "last_edit_date": 1473880355, "creation_date": 1473879902, "answer_id": 39497871, "question_id": 39497580, "link": "https://stackoverflow.com/questions/39497580/how-to-pass-a-value-from-mvc-controller-to-angular-html-view/39497871#39497871", "title": "How to pass a Value from MVC Controller to Angular .html View", "body": "<p>From your MVC application you can return an asp view.  Inside the view you can use your angular controller like this:<br/></p>\n\n<pre><code>@model dynamic\n\n@{\n    Layout = \"\";\n}\n\n&lt;div ng-controller=\"PackerListController as vm\"&gt;\n   &lt;h1 class=\"page-header\"&gt;\n     &lt;button ng-click=\"vm.editTemplate()\"&gt;Edit Template&lt;/button&gt;\n   &lt;/h1&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n"}], "owner": {"reputation": 439, "user_id": 4028271, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8806d2996789ea7a6eeb8167bcd3dbe7?s=128&d=identicon&r=PG&f=1", "display_name": "Programmermid", "link": "https://stackoverflow.com/users/4028271/programmermid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1881, "favorite_count": 0, "accepted_answer_id": 39497845, "answer_count": 2, "score": 1, "last_activity_date": 1473943053, "creation_date": 1473878827, "question_id": 39497580, "link": "https://stackoverflow.com/questions/39497580/how-to-pass-a-value-from-mvc-controller-to-angular-html-view", "title": "How to pass a Value from MVC Controller to Angular .html View", "body": "<p>I am using angularjs with Asp.net MVC to check the write access of a folder for users. If the user has the write access then I want to show a div which has a link. I have a Div in SampleView.Html and I have a method which checks for user's write access in MVC Controller called ReportController.cs. <strong>what will be the code for Angular Controller that I can use to pass value from MVC controller to Angularjs View?</strong></p>\n\n<p>SampleView.html:</p>\n\n<pre><code>&lt;div id=\"DivPackerTemplate\" class=\"cp-btn cp-btn-primary pull-right\"&gt;&lt;a ng-href=\"\\\\Samplefolder\" &gt;Edit Template&lt;/a&gt;&lt;/div&gt;\n</code></pre>\n\n<p>ReportController.cs:</p>\n\n<pre><code>public void AccessPackerPlanTemplate(string folderPath)\n        {          \n            string path = @\"\\\\sample\";\n                string NtAccountName = @\"sampleuser\";\n\n                DirectoryInfo di = new DirectoryInfo(path);\n                DirectorySecurity acl = di.GetAccessControl(AccessControlSections.All);\n                AuthorizationRuleCollection rules = acl.GetAccessRules(true, true, typeof(NTAccount));\n\n                //Go through the rules returned from the DirectorySecurity\n                foreach (AuthorizationRule rule in rules)\n                {\n                    //If we find one that matches the identity we are looking for\n                    if (rule.IdentityReference.Value.Equals(NtAccountName, StringComparison.CurrentCultureIgnoreCase))\n                    {\n                        //Cast to a FileSystemAccessRule to check for access rights\n                        if ((((FileSystemAccessRule)rule).FileSystemRights &amp; FileSystemRights.WriteData) &gt; 0)\n                        {\n                            //Show the link\n                            {\n                                DivPackerTemplate.Visible = false; \\\\This is not working is there a alternative for this?\n                            }\n                        }\n                    }\n                }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "edited": false, "score": 1, "creation_date": 1473878885, "post_id": 39497561, "comment_id": 66312715, "body": "Take a look at String.Split and DateTime.Parse and/or new DateTime(year,month,day,hour,minute,second) and show us the code and a specific problem if you get stuck."}, {"owner": {"reputation": 2777, "user_id": 2946187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HX4Kk.jpg?s=128&g=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/2946187/jim"}, "edited": false, "score": 0, "creation_date": 1473883296, "post_id": 39497561, "comment_id": 66314970, "body": "Why would you start with a Date/Time in a <code>string</code> ? There is no such thing as <code>DateTime starttime=10:00am;</code>  Check <a href=\"https://msdn.microsoft.com/en-us/library/system.datetime(v=vs.110).aspx\" rel=\"nofollow noreferrer\">here</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3282, "user_id": 10722, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a4ab4b4ddb5a406424246e17b1465a60?s=128&d=identicon&r=PG", "display_name": "Mark T", "link": "https://stackoverflow.com/users/10722/mark-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1473916385, "last_edit_date": 1495540866, "creation_date": 1473916385, "answer_id": 39503549, "question_id": 39497561, "link": "https://stackoverflow.com/questions/39497561/how-to-split-string-with-two-time-and-convert-to-datetime/39503549#39503549", "title": "How to split string with two time and convert to datetime", "body": "<p>first break up the string to get the separate date strings</p>\n\n<pre><code>string schedulemonday = \"10:00am - 1:00pm\"; \nstring[] parts = schedulemonday.Split(' ');\n</code></pre>\n\n<p>part[0] and part[2] should contain the start and end times, respectively</p>\n\n<p>then see this post to convert a string to a datetime</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5366285/parse-string-to-datetime-in-c-sharp\">Parse string to DateTime in C#</a></p>\n"}], "owner": {"reputation": 1, "user_id": 6739248, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-81805pOH_yM/AAAAAAAAAAI/AAAAAAAAAB8/EbL0_PYpedU/photo.jpg?sz=128", "display_name": "bokoce", "link": "https://stackoverflow.com/users/6739248/bokoce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 505, "favorite_count": 1, "answer_count": 1, "score": -3, "last_activity_date": 1473916385, "creation_date": 1473878761, "last_edit_date": 1473911788, "question_id": 39497561, "link": "https://stackoverflow.com/questions/39497561/how-to-split-string-with-two-time-and-convert-to-datetime", "title": "How to split string with two time and convert to datetime", "body": "<p>How can i split my <code>string</code> into two <code>datetime</code>, </p>\n\n<pre><code>string schedulemonday=10:00am - 1:00pm; \n</code></pre>\n\n<p>I want to split the two time into two <code>datetime</code> datatype like </p>\n\n<pre><code>DateTime starttime=10:00am;\nDateTime endtime=1:00pm;\n</code></pre>\n"}, {"tags": ["c#", "string", "console-application"], "comments": [{"owner": {"reputation": 2125, "user_id": 6691061, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1219688551388660/picture?type=large", "display_name": "Shannon Holsinger", "link": "https://stackoverflow.com/users/6691061/shannon-holsinger"}, "edited": false, "score": 3, "creation_date": 1473878026, "post_id": 39497314, "comment_id": 66312263, "body": "Look up &quot;c-sharp SubString&quot; and &quot;C-sharp IndexOf&quot; and try something. If you get stuck on something in particular, share the code you&#39;ve tried and the specific problem you are having."}, {"owner": {"reputation": 33816, "user_id": 9664, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/34d380684d276ce51be4e13fecca03cd?s=128&d=identicon&r=PG", "display_name": "Metro Smurf", "link": "https://stackoverflow.com/users/9664/metro-smurf"}, "edited": false, "score": 1, "creation_date": 1473878065, "post_id": 39497314, "comment_id": 66312284, "body": "By chance are you trying to format the string for a regional currency?"}, {"owner": {"reputation": 5203, "user_id": 3995261, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/54754c59e35649b7d22d70b72ce2989a?s=128&d=identicon&r=PG&f=1", "display_name": "YakovL", "link": "https://stackoverflow.com/users/3995261/yakovl"}, "edited": false, "score": 0, "creation_date": 1473879170, "post_id": 39497314, "comment_id": 66312877, "body": "what do you mean by &quot;the number will not be always equals&quot;?"}, {"owner": {"reputation": 36783, "user_id": 2946329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9ygJ.jpg?s=128&g=1", "display_name": "Salah Akbari", "link": "https://stackoverflow.com/users/2946329/salah-akbari"}, "reply_to_user": {"reputation": 5203, "user_id": 3995261, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/54754c59e35649b7d22d70b72ce2989a?s=128&d=identicon&r=PG&f=1", "display_name": "YakovL", "link": "https://stackoverflow.com/users/3995261/yakovl"}, "edited": false, "score": 0, "creation_date": 1473879944, "post_id": 39497314, "comment_id": 66313259, "body": "@YakovL He means the number will not be always <code>25</code> but will always have 2 characters."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5248547"}, "edited": false, "score": 0, "creation_date": 1473880005, "post_id": 39497314, "comment_id": 66313298, "body": "i mean, the number &quot;will not be always the same&quot;. sorry about that"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5248547"}, "reply_to_user": {"reputation": 36783, "user_id": 2946329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9ygJ.jpg?s=128&g=1", "display_name": "Salah Akbari", "link": "https://stackoverflow.com/users/2946329/salah-akbari"}, "edited": false, "score": 0, "creation_date": 1473880529, "post_id": 39497314, "comment_id": 66313583, "body": "@S.Akbari Thank you for explaining it, and sorry for my error."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5248547"}, "edited": false, "score": 0, "creation_date": 1473880425, "post_id": 39497357, "comment_id": 66313529, "body": "Thank you for explaining me. By the way, it worked :)"}], "tags": [], "owner": {"reputation": 36783, "user_id": 2946329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9ygJ.jpg?s=128&g=1", "display_name": "Salah Akbari", "link": "https://stackoverflow.com/users/2946329/salah-akbari"}, "is_accepted": false, "score": 5, "last_activity_date": 1473881942, "last_edit_date": 1473881942, "creation_date": 1473877979, "answer_id": 39497357, "question_id": 39497314, "link": "https://stackoverflow.com/questions/39497314/add-a-character-to-the-mid-of-a-string-that-is-not-always-the-same/39497357#39497357", "title": "Add a character to the mid of a string that is not always the same", "body": "<p>Based on your requirement (<em>will always have 2 characters</em>) You can use <a href=\"https://msdn.microsoft.com/en-us/library/system.string.insert(v=vs.110).aspx\" rel=\"nofollow\"><code>Insert</code></a> method. Like this:</p>\n\n<pre><code>string str = \"25\";\nstring result = str.Insert(1, \",\");//2.5\n</code></pre>\n\n<p>But if it has more than 2 characters you can append the <code>,</code> in the middle of the string like this:</p>\n\n<pre><code>string str = \"25\";\nstring result = str.Insert(str.Length / 2, \",\");//2.5\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5248547"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1473884885, "creation_date": 1473877810, "last_edit_date": 1473884885, "question_id": 39497314, "link": "https://stackoverflow.com/questions/39497314/add-a-character-to-the-mid-of-a-string-that-is-not-always-the-same", "title": "Add a character to the mid of a string that is not always the same", "body": "<p>In my program I need to add a character to my string and then print it on the console. In my case, the number will not be always the same, but will always have 2 characters. I need to add a ' , ' to the mid position, but I don't know how. (I'm very beginner, please post an example code).\nAn example is, I want to turn \"25\" to \"2,5\". Thanks for your help.\n[sorry for bad english, also the title can be pretty bad/misleading]</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 3377, "user_id": 6469077, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-T1ldpGXuFB8/AAAAAAAAAAI/AAAAAAAAAFI/WTreL2saDJ4/photo.jpg?sz=128", "display_name": "Nico", "link": "https://stackoverflow.com/users/6469077/nico"}, "edited": false, "score": 3, "creation_date": 1473877843, "post_id": 39497260, "comment_id": 66312167, "body": "You can try <code>new FileInfo(Server.MapPath(@&quot;~&#47;bin&#47;encrypt.dll&quot;))</code>"}, {"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1473877844, "post_id": 39497260, "comment_id": 66312168, "body": "Have you tried just <code>encrypt.dll</code> or mapping a path to <code>~\\\\bin\\\\encrypt.dll</code>?"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1473884660, "post_id": 39497260, "comment_id": 66315636, "body": "Is this a .NET DLL? And why do you need to load the assembly on the fly like this?"}, {"owner": {"reputation": 815, "user_id": 5034195, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fe77e1c70a484c9dc24247080b1d69d1?s=128&d=identicon&r=PG&f=1", "display_name": "ITWorker", "link": "https://stackoverflow.com/users/5034195/itworker"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1473889479, "post_id": 39497260, "comment_id": 66317741, "body": "@mason it is a Visual C++ DLL. I don&#39;t know any other way other than loading on the fly like this to encrypt a file a user uploads from the browser. Do you have any suggestion? My intention is to send it to send the file to the routine in the DLL that encrypts the file."}, {"owner": {"reputation": 815, "user_id": 5034195, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fe77e1c70a484c9dc24247080b1d69d1?s=128&d=identicon&r=PG&f=1", "display_name": "ITWorker", "link": "https://stackoverflow.com/users/5034195/itworker"}, "reply_to_user": {"reputation": 3377, "user_id": 6469077, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-T1ldpGXuFB8/AAAAAAAAAAI/AAAAAAAAAFI/WTreL2saDJ4/photo.jpg?sz=128", "display_name": "Nico", "link": "https://stackoverflow.com/users/6469077/nico"}, "edited": false, "score": 0, "creation_date": 1473889536, "post_id": 39497260, "comment_id": 66317758, "body": "@heinzbeinz thanks that worked"}, {"owner": {"reputation": 815, "user_id": 5034195, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fe77e1c70a484c9dc24247080b1d69d1?s=128&d=identicon&r=PG&f=1", "display_name": "ITWorker", "link": "https://stackoverflow.com/users/5034195/itworker"}, "reply_to_user": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1473889581, "post_id": 39497260, "comment_id": 66317777, "body": "@stephen.vakil no I did not, but the solutions here worked."}], "answers": [{"tags": [], "owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "is_accepted": true, "score": 3, "last_activity_date": 1473884232, "last_edit_date": 1473884232, "creation_date": 1473878016, "answer_id": 39497372, "question_id": 39497260, "link": "https://stackoverflow.com/questions/39497260/how-to-access-dll-in-bin-folder-of-asp-net-mvc-project/39497372#39497372", "title": "How to access DLL in bin folder of ASP.NET MVC project?", "body": "<p>Do</p>\n\n<pre><code>Assembly SampleAssembly = Assembly.LoadFile(Server.MapPath(@\"~/bin/encrypt.dll\"));\n</code></pre>\n"}], "owner": {"reputation": 815, "user_id": 5034195, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fe77e1c70a484c9dc24247080b1d69d1?s=128&d=identicon&r=PG&f=1", "display_name": "ITWorker", "link": "https://stackoverflow.com/users/5034195/itworker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1202, "favorite_count": 0, "accepted_answer_id": 39497372, "answer_count": 1, "score": 0, "last_activity_date": 1473884232, "creation_date": 1473877631, "question_id": 39497260, "link": "https://stackoverflow.com/questions/39497260/how-to-access-dll-in-bin-folder-of-asp-net-mvc-project", "title": "How to access DLL in bin folder of ASP.NET MVC project?", "body": "<p>I am trying to use the following to access a DLL in the project's bin folder:</p>\n\n<pre><code>    [HttpPost]\n    public ActionResult EncryptFile()\n            {\n                Assembly SampleAssembly;\n\n\n                var dllFile = new FileInfo(@\".\\\\bin\\\\encrypt.dll\");\n                 SampleAssembly = Assembly.LoadFile(dllFile.FullName);\n    //...trimmed...\n}\n</code></pre>\n\n<p>I also attempted <code>var dllFile = new FileInfo(@\"\\\\bin\\\\encrypt.dll\");</code> (note lack of <code>.</code> before the filepath), but it did not work either. In the debugger, the <code>FullName</code> returns <code>\\\\\\\\bin\\\\encrypt.dll</code>    in this second case.</p>\n\n<p>What can I do to make it locate the file?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "wpf", "usb", "interceptor"], "comments": [{"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1473885798, "post_id": 39497156, "comment_id": 66316220, "body": "If you use the scanner in it&#39;s &quot;keyboard wedge&quot; mode (it emulates a keyboard), you&#39;re going to have a heck of a time managing where the focus is (i.e. when you type where they keystrokes go). If it&#39;s in the wrong place, scanning something can end up doing a whole lot of &quot;random&quot; stuff, like banging randomly on your keyboard. It&#39;s usually best to reprogram the scanner to appear as a serial port or some other device, and specifically read from it. Then, you know what data came from the scanner, for sure."}, {"owner": {"reputation": 387, "user_id": 4324234, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/37cffbafc00e361295012cc23c22a614?s=128&d=identicon&r=PG&f=1", "display_name": "Sandi Horvat", "link": "https://stackoverflow.com/users/4324234/sandi-horvat"}, "reply_to_user": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1474011781, "post_id": 39497156, "comment_id": 66367468, "body": "Thank you, I have found an interceptor lib in c++ and I am using it, but just like u said I will have to know where is the cursor, so instead of that I am trying to bring my wpf application in the front of the screen. So I have created a new thread. <a href=\"http://stackoverflow.com/questions/39526144/bring-wpf-window-to-the-front-with-c-application\" title=\"bring wpf window to the front with c application\">stackoverflow.com/questions/39526144/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 387, "user_id": 4324234, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/37cffbafc00e361295012cc23c22a614?s=128&d=identicon&r=PG&f=1", "display_name": "Sandi Horvat", "link": "https://stackoverflow.com/users/4324234/sandi-horvat"}, "edited": false, "score": 0, "creation_date": 1473927296, "post_id": 39498380, "comment_id": 66328804, "body": "Thank you, I have posted a new thread, maybe you can here understand my problem <a href=\"http://stackoverflow.com/questions/39506118/opening-wpf-window-with-shellexecutea-and-make-it-active-so-that-you-can-direct\" title=\"opening wpf window with shellexecutea and make it active so that you can direct\">stackoverflow.com/questions/39506118/&hellip;</a>"}], "tags": [], "owner": {"reputation": 542, "user_id": 1071227, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qc1lz.jpg?s=128&g=1", "display_name": "quicoli", "link": "https://stackoverflow.com/users/1071227/quicoli"}, "is_accepted": false, "score": 1, "last_activity_date": 1473881884, "creation_date": 1473881884, "answer_id": 39498380, "question_id": 39497156, "link": "https://stackoverflow.com/questions/39497156/open-wpf-application-on-usb-scanner-scan/39498380#39498380", "title": "open WPF application on usb scanner scan", "body": "<p>Maybe what is happening is: you textbox in you app has only the visual focus, not the keyboard focus. So, when you scan, the text from scanner is not going to the textbox. </p>\n\n<p>Assuming you have a TextBox1 control, in Loaded event in your app you should send the focus to TextBox1 this way:</p>\n\n<pre><code>TextBox1.Focus();\nKeyboard.Focus(TextBox1);\n</code></pre>\n"}], "owner": {"reputation": 387, "user_id": 4324234, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/37cffbafc00e361295012cc23c22a614?s=128&d=identicon&r=PG&f=1", "display_name": "Sandi Horvat", "link": "https://stackoverflow.com/users/4324234/sandi-horvat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 457, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1474136082, "creation_date": 1473877275, "last_edit_date": 1474136082, "question_id": 39497156, "link": "https://stackoverflow.com/questions/39497156/open-wpf-application-on-usb-scanner-scan", "title": "open WPF application on usb scanner scan", "body": "<p>I am trying to detect when the user scans a card on a USB card reader, which is basically a verry fast keyboar. Now when wpf application starts, it's on foreground and have a focus on certain textbox. So the easy part is complete.</p>\n\n<p>Now on which things should I focus first when I am dealing with this kind of a problem?</p>\n\n<p>Is it possible to create some kind of a usb port listener, that can open my wpf application and write the scanned string, if was activated from USB port1?</p>\n\n<p>All I can help you with is the information from computer management. This usb scanner is displayed like keyboard and has this inforamiton:</p>\n\n<pre><code>Device HID\\VID_13BA&amp;PID_0018\\6&amp;265a4e67&amp;1&amp;0000 was configured.\nDriver Name: keyboard.inf\nClass Guid: {4D36E96B-E325-11CE-BFC1-08002BE10318}\nDriver Date: 06/21/2006\nDriver Version: 10.0.10586.0\nDriver Provider: Microsoft\nDriver Section: HID_Keyboard_Inst.NT\nDriver Rank: 0xFF1003\nMatching Device Id: HID_DEVICE_SYSTEM_KEYBOARD\nOutranked Drivers: input.inf:HID_DEVICE:00FF1005\nDevice Updated: false\nParent Device: USB\\VID_13BA&amp;PID_0018\\5&amp;23ca3ecc&amp;0&amp;1\n</code></pre>\n\n<p>Regards!</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 12863, "user_id": 415347, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/52176bbaf95e07b27ed5d9d79d7828df?s=128&d=identicon&r=PG", "display_name": "DonGru", "link": "https://stackoverflow.com/users/415347/dongru"}, "edited": false, "score": 0, "creation_date": 1473879229, "post_id": 39497125, "comment_id": 66312914, "body": "the according xaml might help answering this question as well"}, {"owner": {"reputation": 1517, "user_id": 3191909, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0b93ce4e73b7dc3c7f14567ac4255ac1?s=128&d=identicon&r=PG&f=1", "display_name": "XXDebugger", "link": "https://stackoverflow.com/users/3191909/xxdebugger"}, "reply_to_user": {"reputation": 12863, "user_id": 415347, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/52176bbaf95e07b27ed5d9d79d7828df?s=128&d=identicon&r=PG", "display_name": "DonGru", "link": "https://stackoverflow.com/users/415347/dongru"}, "edited": false, "score": 0, "creation_date": 1473879537, "post_id": 39497125, "comment_id": 66313061, "body": "Added the xaml code as well"}], "answers": [{"tags": [], "owner": {"reputation": 4875, "user_id": 1144624, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c640c2471d507b73b93d5cb34eaebfed?s=128&d=identicon&r=PG", "display_name": "Kcvin", "link": "https://stackoverflow.com/users/1144624/kcvin"}, "is_accepted": true, "score": 2, "last_activity_date": 1473884405, "creation_date": 1473884405, "answer_id": 39498997, "question_id": 39497125, "link": "https://stackoverflow.com/questions/39497125/wpf-expander-when-collapsed-does-not-resize-other-grid-columns/39498997#39498997", "title": "WPF -- Expander when collapsed does not resize other grid columns", "body": "<p>First, I think your GroupBox should be in your Expander. You need to fix your grid rows, because those are broken--there is no Grid.Row=\"3\".  You need to change the Width to Auto on your Grid in Column 0 in your MainGrid.  There are probably other things that need attention, but this should help you get a start on figuring out what you need to do:</p>\n\n<pre><code>&lt;Grid x:Name=\"MainGrid\"&gt;\n    &lt;Grid.ColumnDefinitions&gt;\n        &lt;ColumnDefinition Width=\"Auto\" /&gt;\n        &lt;ColumnDefinition Width=\"177*\" /&gt;\n        &lt;ColumnDefinition Width=\"133*\" /&gt;\n    &lt;/Grid.ColumnDefinitions&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition Height=\"680*\" /&gt;\n        &lt;RowDefinition Height=\"31*\" /&gt;\n    &lt;/Grid.RowDefinitions&gt;\n    &lt;Grid Grid.Column=\"0\"&gt;\n        &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition Width=\"*\" /&gt;\n            &lt;ColumnDefinition Width=\"8*\" /&gt;\n            &lt;ColumnDefinition Width=\"*\" /&gt;\n            &lt;ColumnDefinition Width=\"*\" /&gt;\n        &lt;/Grid.ColumnDefinitions&gt;\n        &lt;Expander ExpandDirection=\"Right\"\n                  Grid.Column=\"0\"\n                  IsExpanded=\"True\"&gt;\n            &lt;Expander.Header&gt;\n                &lt;TextBlock Text=\"Header\"&gt;\n                    &lt;TextBlock.LayoutTransform&gt;\n                        &lt;RotateTransform Angle=\"90\" /&gt;\n                    &lt;/TextBlock.LayoutTransform&gt;\n                &lt;/TextBlock&gt;\n            &lt;/Expander.Header&gt;\n            &lt;GroupBox Name=\"groupBoxMain\"\n                      BorderBrush=\"Black\"\n                      Grid.Row=\"0\"\n                      Margin=\"0,0,0,6\"&gt;\n                &lt;DataGrid Background=\"DarkGray\"\n                          CanUserResizeColumns=\"True\"\n                          CanUserSortColumns=\"True\"&gt;\n                    &lt;DataGrid.Columns&gt;\n                        &lt;DataGridTextColumn Binding=\"{Binding BackupVersionNumber}\"\n                                            Header=\"File Name\"\n                                            MinWidth=\"100\"\n                                            FontFamily=\"Default Font\"\n                                            FontSize=\"16\" /&gt;\n                        &lt;DataGridTextColumn Binding=\"{Binding BackupDateTime}\"\n                                            Header=\"Total Time\"\n                                            MinWidth=\"100\"\n                                            FontFamily=\"Default Font\"\n                                            FontSize=\"16\" /&gt;\n                        &lt;DataGridTextColumn Binding=\"{Binding SavedBy}\"\n                                            Header=\"Total Packet\"\n                                            MinWidth=\"100\"\n                                            FontFamily=\"Default Font\"\n                                            FontSize=\"16\" /&gt;\n                    &lt;/DataGrid.Columns&gt;\n                &lt;/DataGrid&gt;\n            &lt;/GroupBox&gt;\n        &lt;/Expander&gt;\n    &lt;/Grid&gt;\n    &lt;Grid Grid.Column=\"1\"\n          Grid.ColumnSpan=\"2\"\n          Height=\"Auto\"\n          Width=\"Auto\"\n          Margin=\"2,0,0,0.2\"&gt;\n        &lt;Grid Grid.Row=\"3\"\n              Grid.Column=\"0\"\n              Grid.ColumnSpan=\"6\"\n              Margin=\"0,10.4,0.267,0.2\"\n              Background=\"{DynamicResource {x:Static SystemColors.AppWorkspaceBrushKey}}\" /&gt;\n    &lt;/Grid&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/TaYJ1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TaYJ1.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1517, "user_id": 3191909, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0b93ce4e73b7dc3c7f14567ac4255ac1?s=128&d=identicon&r=PG&f=1", "display_name": "XXDebugger", "link": "https://stackoverflow.com/users/3191909/xxdebugger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1527, "favorite_count": 0, "accepted_answer_id": 39498997, "answer_count": 1, "score": 0, "last_activity_date": 1473884405, "creation_date": 1473877194, "last_edit_date": 1473879526, "question_id": 39497125, "link": "https://stackoverflow.com/questions/39497125/wpf-expander-when-collapsed-does-not-resize-other-grid-columns", "title": "WPF -- Expander when collapsed does not resize other grid columns", "body": "<p>I am trying to collapse expander when when it collapse the other <code>grid</code> columns doesnot take up space.</p>\n\n<p>I tried this in <code>expander_collapsed</code>, the grids are taking the whole space but then I am not able access expander only to make it expand.</p>\n\n<pre><code> private void Expander_Expanded(object sender, RoutedEventArgs e)\n        {\n            groupBoxMain.Visibility = Visibility.Visible;\n        }\n\n        private void Expander_Collapsed(object sender, RoutedEventArgs e)\n        {\n            MainGrid.ColumnDefinitions[0].Width = new GridLength(1, GridUnitType.Star);\n            groupBoxMain.Visibility = Visibility.Hidden;\n        }\n</code></pre>\n\n<p>xaml code:</p>\n\n<pre><code>&lt;Grid x:Name=\"MainGrid\" HorizontalAlignment=\"Stretch\" VerticalAlignment=\"Stretch\" Height=\"Auto\" Width=\"Auto\"&gt;\n        &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition Width=\"90*\"/&gt;\n            &lt;ColumnDefinition Width=\"177*\"/&gt;\n            &lt;ColumnDefinition Width=\"133*\"/&gt;\n        &lt;/Grid.ColumnDefinitions&gt;\n        &lt;Grid Grid.Column=\"0\" HorizontalAlignment=\"Stretch\" VerticalAlignment=\"Stretch\" Height=\"Auto\" Width=\"Auto\"&gt;\n            &lt;Grid.ColumnDefinitions&gt;\n                &lt;ColumnDefinition Width=\"*\"/&gt;\n                &lt;ColumnDefinition Width=\"8*\"/&gt;\n                &lt;ColumnDefinition Width=\"*\"/&gt;\n                &lt;ColumnDefinition Width=\"*\"/&gt;\n            &lt;/Grid.ColumnDefinitions&gt;\n            &lt;Grid.RowDefinitions&gt;\n                &lt;RowDefinition Height=\"680*\"/&gt;\n                &lt;RowDefinition Height=\"31*\"/&gt;\n            &lt;/Grid.RowDefinitions&gt;\n            &lt;GroupBox Name=\"groupBoxMain\"  BorderBrush=\"Black\" Grid.ColumnSpan=\"3\" Grid.Column=\"1\" Grid.Row=\"0\" Margin=\"0,0,0,6\"&gt;\n                &lt;DataGrid Background=\"DarkGray\" CanUserResizeColumns=\"True\" CanUserSortColumns=\"True\"&gt;\n                    &lt;DataGrid.Columns&gt;\n                        &lt;DataGridTextColumn Binding=\"{Binding BackupVersionNumber}\" Header=\"File Name\" MinWidth=\"100\" FontFamily=\"Default Font\" FontSize=\"16\"/&gt;\n                        &lt;DataGridTextColumn Binding=\"{Binding BackupDateTime}\" Header=\"Total Time\" MinWidth=\"100\" FontFamily=\"Default Font\" FontSize=\"16\"/&gt;\n                        &lt;DataGridTextColumn Binding=\"{Binding SavedBy}\" Header=\"Total Packet\" MinWidth=\"100\" FontFamily=\"Default Font\" FontSize=\"16\"/&gt;\n                    &lt;/DataGrid.Columns&gt;\n                &lt;/DataGrid&gt;\n            &lt;/GroupBox&gt;\n            &lt;Expander ExpandDirection=\"Right\"  HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\" Grid.Column=\"0\"  IsExpanded=\"True\" Width=\"35\" Grid.Row=\"0\" Expanded=\"Expander_Expanded\" Collapsed=\"Expander_Collapsed\"&gt;\n                &lt;Expander.Header&gt;\n                    &lt;TextBlock Text=\"Select Manifest File\" Width=\"Auto\"\n                           FontSize=\"11\"&gt;\n                        &lt;TextBlock.LayoutTransform&gt;\n                            &lt;TransformGroup&gt;\n                                &lt;RotateTransform Angle=\"90\"/&gt;\n                            &lt;/TransformGroup&gt;\n                        &lt;/TextBlock.LayoutTransform&gt;\n                    &lt;/TextBlock&gt;\n\n                &lt;/Expander.Header&gt;\n                &lt;Grid Background=\"#FFE5E5E5\" Width=\"0\"/&gt;\n            &lt;/Expander&gt;\n        &lt;/Grid&gt;\n        &lt;Grid HorizontalAlignment=\"Stretch\" Grid.Column=\"1\" Grid.ColumnSpan=\"2\" VerticalAlignment=\"Stretch\" Height=\"Auto\" Width=\"Auto\" Margin=\"2,0,0,0.2\"&gt;\n                &lt;Grid Grid.Row=\"3\" Grid.Column=\"0\" Grid.ColumnSpan=\"6\" HorizontalAlignment=\"Stretch\"  VerticalAlignment=\"Stretch\" Margin=\"0,10.4,0.267,0.2\" Background=\"{DynamicResource {x:Static SystemColors.AppWorkspaceBrushKey}}\" /&gt;\n\n        &lt;/Grid&gt;\n    &lt;/Grid&gt;\n</code></pre>\n\n<p>I have 3 columns in my main <code>grid</code>. One is <code>expander</code> and other 2 are <code>grid</code>.</p>\n\n<p>I want the other two columns to take up the space when <code>expander</code> is collapsed.</p>\n"}, {"tags": ["c#", "client-server"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 6832260, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f0face7f5a177b791ed8990c88f77228?s=128&d=identicon&r=PG&f=1", "display_name": "Jerad Hobgood", "link": "https://stackoverflow.com/users/6832260/jerad-hobgood"}, "edited": false, "score": 1, "creation_date": 1473878427, "post_id": 39497124, "comment_id": 66312454, "body": "Perfect it works now, thanks i am new to server/client programs"}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "reply_to_user": {"reputation": 49, "user_id": 6832260, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f0face7f5a177b791ed8990c88f77228?s=128&d=identicon&r=PG&f=1", "display_name": "Jerad Hobgood", "link": "https://stackoverflow.com/users/6832260/jerad-hobgood"}, "edited": false, "score": 0, "creation_date": 1473878918, "post_id": 39497124, "comment_id": 66312732, "body": "@JeradHobgood if this answer solved your problem please consider marking it as an answer to show some appreciation and help future readers"}], "tags": [], "owner": {"reputation": 3377, "user_id": 6469077, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-T1ldpGXuFB8/AAAAAAAAAAI/AAAAAAAAAFI/WTreL2saDJ4/photo.jpg?sz=128", "display_name": "Nico", "link": "https://stackoverflow.com/users/6469077/nico"}, "is_accepted": true, "score": 3, "last_activity_date": 1473877193, "creation_date": 1473877193, "answer_id": 39497124, "question_id": 39497101, "link": "https://stackoverflow.com/questions/39497101/c-server-program-throwing-exception/39497124#39497124", "title": "C# Server program throwing exception", "body": "<p>You are reading beyond the size of the supplied buffer, try:</p>\n\n<pre><code>networkStream.Read(bytesFrom, 0, bytesFrom.Length);\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 6832260, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f0face7f5a177b791ed8990c88f77228?s=128&d=identicon&r=PG&f=1", "display_name": "Jerad Hobgood", "link": "https://stackoverflow.com/users/6832260/jerad-hobgood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 39497124, "answer_count": 1, "score": 2, "last_activity_date": 1473888908, "creation_date": 1473877076, "last_edit_date": 1473888908, "question_id": 39497101, "link": "https://stackoverflow.com/questions/39497101/c-server-program-throwing-exception", "title": "C# Server program throwing exception", "body": "<p>I have successfully connected my Client program to my server, however when trying to do basic write to server I am getting error</p>\n\n<blockquote>\n  <p>System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values.<br>\n  at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)</p>\n</blockquote>\n\n<p>Here is my code excluding the connection and stopping the connection</p>\n\n<pre><code>while ((true)) {\n    try {\n        requestCount = requestCount + 1;\n        NetworkStream networkStream = clientSocket.GetStream();\n        byte[] bytesFrom = new byte[10025];\n\n        //Problem\n        networkStream.Read(bytesFrom, 0, (int)clientSocket.ReceiveBufferSize);\n        string dataFromClient = System.Text.Encoding.ASCII.GetString(bytesFrom);\n        dataFromClient = dataFromClient.Substring(0, dataFromClient.IndexOf(\"$\"));\n\n        Console.WriteLine(\" &gt;&gt; Data from client - \" + dataFromClient);\n        string serverResponse = \"Last Message from client\" + dataFromClient;\n\n        Byte[] sendBytes = Encoding.ASCII.GetBytes(serverResponse);\n        networkStream.Write(sendBytes, 0, sendBytes.Length);\n        networkStream.Flush();\n        Console.WriteLine(\" &gt;&gt; \" + serverResponse);\n    }\n    catch (Exception ex) {\n        Console.WriteLine(ex.ToString());\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "ios", "xamarin", "xamarin.ios"], "answers": [{"tags": [], "owner": {"reputation": 3922, "user_id": 451678, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mhS6n.png?s=128&g=1", "display_name": "BytesGuy", "link": "https://stackoverflow.com/users/451678/bytesguy"}, "is_accepted": false, "score": 0, "last_activity_date": 1473935624, "creation_date": 1473935624, "answer_id": 39508900, "question_id": 39497088, "link": "https://stackoverflow.com/questions/39497088/is-it-possible-to-increase-width-of-uitabbaritem-in-xamarin-ios/39508900#39508900", "title": "Is it possible to increase width of UITabBarItem in Xamarin.iOS?", "body": "<p>You should be able to set this via the <code>UITabBar</code> by setting the desired <code>ItemWidth</code>.</p>\n\n<p>E.g., <code>myTabBar.ItemWidth = 50.f</code></p>\n\n<p><a href=\"https://developer.xamarin.com/api/property/UIKit.UITabBar.ItemWidth/\" rel=\"nofollow\">https://developer.xamarin.com/api/property/UIKit.UITabBar.ItemWidth/</a></p>\n"}], "owner": {"reputation": 63, "user_id": 2401732, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/d6a0f8ba84723c00de7458c509d17a97?s=128&d=identicon&r=PG", "display_name": "shavy", "link": "https://stackoverflow.com/users/2401732/shavy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473935624, "creation_date": 1473877018, "last_edit_date": 1473935189, "question_id": 39497088, "link": "https://stackoverflow.com/questions/39497088/is-it-possible-to-increase-width-of-uitabbaritem-in-xamarin-ios", "title": "Is it possible to increase width of UITabBarItem in Xamarin.iOS?", "body": "<p>I'm using Xamarin.iOS and have a <code>UITabBar</code>. Could anyone please tell me how can we increase width of an individual <code>UITabBarItem</code>? Any suggestions really appreciated.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-mvc-5", "asp.net-mvc-routing", "asp.net-mvc-areas"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3140096"}, "edited": false, "score": 0, "creation_date": 1473877470, "post_id": 39497054, "comment_id": 66311941, "body": "thanks for the edit"}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 1, "creation_date": 1473879050, "post_id": 39497054, "comment_id": 66312810, "body": "might be case sensitive. Try /Admin/  Though I don&#39;t understand why you are not mapping it inside RouteConfig"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1473881551, "post_id": 39497054, "comment_id": 66314119, "body": "@steve Routes are not case sensitive."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3140096"}, "edited": false, "score": 0, "creation_date": 1473887751, "post_id": 39497054, "comment_id": 66317088, "body": "Why should i add it to RouteConfig? Whenever i create a new area a new routing class is generated..can u please explain ur point"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3140096"}, "edited": false, "score": 0, "creation_date": 1473888127, "post_id": 39499158, "comment_id": 66317214, "body": "still getting the same error after trying ur solution"}, {"owner": {"reputation": 518, "user_id": 1469905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bf7f2585b40f4aa30b417f37b081dbb?s=128&d=identicon&r=PG", "display_name": "Thumper", "link": "https://stackoverflow.com/users/1469905/thumper"}, "edited": false, "score": 0, "creation_date": 1473888356, "post_id": 39499158, "comment_id": 66317298, "body": "Oops. I actually have it without {controller} - updated."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3140096"}, "edited": false, "score": 0, "creation_date": 1473888623, "post_id": 39499158, "comment_id": 66317427, "body": "how come u have it without a controller lol? now all my views under Admin give 404 :D"}, {"owner": {"reputation": 518, "user_id": 1469905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bf7f2585b40f4aa30b417f37b081dbb?s=128&d=identicon&r=PG", "display_name": "Thumper", "link": "https://stackoverflow.com/users/1469905/thumper"}, "edited": false, "score": 0, "creation_date": 1473888869, "post_id": 39499158, "comment_id": 66317518, "body": "in a mtg - may have made mistakes"}, {"owner": {"reputation": 518, "user_id": 1469905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bf7f2585b40f4aa30b417f37b081dbb?s=128&d=identicon&r=PG", "display_name": "Thumper", "link": "https://stackoverflow.com/users/1469905/thumper"}, "edited": false, "score": 0, "creation_date": 1473893021, "post_id": 39499158, "comment_id": 66318856, "body": "I changed it back. I tested using a different Controller and it&#39;s working for me. Can you provide the code for your LoginController.cs?"}], "tags": [], "owner": {"reputation": 518, "user_id": 1469905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bf7f2585b40f4aa30b417f37b081dbb?s=128&d=identicon&r=PG", "display_name": "Thumper", "link": "https://stackoverflow.com/users/1469905/thumper"}, "is_accepted": false, "score": 0, "last_activity_date": 1473892828, "last_edit_date": 1495541808, "creation_date": 1473885030, "answer_id": 39499158, "question_id": 39497054, "link": "https://stackoverflow.com/questions/39497054/default-area-route-not-working-in-mvc-5/39499158#39499158", "title": "Default area route not working in mvc 5", "body": "<p>This looks like a similar problem I ran into: <a href=\"https://stackoverflow.com/questions/37624396/asp-net-mvc-4-parameters-separated-by-forward-slashes-not-passing-args-prope\">ASP.NET MVC 4 Parameters Separated by Forward Slashes &quot;/&quot; not passing args properly</a></p>\n\n<p>I'd recommend adding the MapRoute into the same location as the default MapRoute, in RouteConfig.asax. This is because the routing is order-sensitive and your separate routing routine may never be looked at when the first routing fails.</p>\n\n<pre><code>public static void RegisterRoutes(RouteCollection routes)\n{\n    routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n    routes.LowercaseUrls = true;\n\n    routes.MapRoute(\n        \"Admin_default\",\n        \"Admin/{controller}/{action}/{id}\",\n        new { controller =\"LogIn\", action = \"Login\", id = UrlParameter.Optional }\n    );\n    routes.MapRoute(\n        name: \"Default\",\n        url: \"{controller}/{action}/{id}\",\n        defaults: new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }\n    );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3140096"}, "is_accepted": true, "score": 2, "last_activity_date": 1473927331, "creation_date": 1473927331, "answer_id": 39506158, "question_id": 39497054, "link": "https://stackoverflow.com/questions/39497054/default-area-route-not-working-in-mvc-5/39506158#39506158", "title": "Default area route not working in mvc 5", "body": "<p>I added RouteTable.Routes.RouteExistingFiles = true; in RouteConfig.cs and it worked</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3140096"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1918, "favorite_count": 0, "accepted_answer_id": 39506158, "answer_count": 2, "score": 0, "last_activity_date": 1473927331, "creation_date": 1473876839, "last_edit_date": 1473881119, "question_id": 39497054, "link": "https://stackoverflow.com/questions/39497054/default-area-route-not-working-in-mvc-5", "title": "Default area route not working in mvc 5", "body": "<p>I added the default controller and action name but still the default routing is not working for the area. Here is my code:</p>\n\n<p>AreaRegistration.cs</p>\n\n<pre><code>public override void RegisterArea(AreaRegistrationContext context) \n{\n    context.MapRoute(\n        \"Admin_default\",\n        \"Admin/{controller}/{action}/{id}\",\n        new { controller =\"LogIn\", action = \"Index\", id = UrlParameter.Optional }\n    );\n}\n</code></pre>\n\n<p>RouteConfig.asax</p>\n\n<pre><code>public static void RegisterRoutes(RouteCollection routes)\n{\n    routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n    routes.LowercaseUrls = true;\n    routes.MapRoute(\n        name: \"Default\",\n        url: \"{controller}/{action}/{id}\",\n        defaults: new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }\n    );\n}\n</code></pre>\n\n<p>When i go to <a href=\"http://webapplocal/admin/\" rel=\"nofollow\">http://webapplocal/admin/</a> i get the below error:\n403 forbidden: A default document is not configured for the requested URL, and directory browsing is not enabled on the server.</p>\n"}, {"tags": ["c#", "sql", "sql-server", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 5720, "user_id": 3361708, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001109492032/picture?type=large", "display_name": "M. Wi\u015bnicki", "link": "https://stackoverflow.com/users/3361708/m-wi%c5%9bnicki"}, "edited": false, "score": 0, "creation_date": 1473877474, "post_id": 39497004, "comment_id": 66311944, "body": "It&#39;s look like your app try create db which name is DB.mdf, but you copy it with app. So you have to look in your code? There is no problem with some method which create db?"}], "answers": [{"comments": [{"owner": {"reputation": 981, "user_id": 5672137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/iOyqj.jpg?s=128&g=1", "display_name": "Marcin Zdunek", "link": "https://stackoverflow.com/users/5672137/marcin-zdunek"}, "edited": false, "score": 0, "creation_date": 1473877482, "post_id": 39497194, "comment_id": 66311950, "body": "I tried this, but unfortunately nothing has changed. And on my computer when I delete connection from <code>SQL Server Object Explorer</code>, and run application it is created again and everything works fine."}, {"owner": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "reply_to_user": {"reputation": 981, "user_id": 5672137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/iOyqj.jpg?s=128&g=1", "display_name": "Marcin Zdunek", "link": "https://stackoverflow.com/users/5672137/marcin-zdunek"}, "edited": false, "score": 0, "creation_date": 1473877585, "post_id": 39497194, "comment_id": 66312011, "body": "So you have a database attached to localdb named db already and still see the error?"}, {"owner": {"reputation": 981, "user_id": 5672137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/iOyqj.jpg?s=128&g=1", "display_name": "Marcin Zdunek", "link": "https://stackoverflow.com/users/5672137/marcin-zdunek"}, "edited": false, "score": 0, "creation_date": 1473877746, "post_id": 39497194, "comment_id": 66312108, "body": "no, DB is not attached to LocalDB, I want this DB to be attached automatically while running application, as it is on my computer (it is working on my computer well)."}, {"owner": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "reply_to_user": {"reputation": 981, "user_id": 5672137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/iOyqj.jpg?s=128&g=1", "display_name": "Marcin Zdunek", "link": "https://stackoverflow.com/users/5672137/marcin-zdunek"}, "edited": false, "score": 0, "creation_date": 1473877858, "post_id": 39497194, "comment_id": 66312177, "body": "That&#39;s not how ef works. If it does not see a db named &#39;db&#39; it will try to create it, if it DOES see one already attached called &#39;db&#39; it will try to migrate it.  On your computer it created a NEW database once you removed the connection from Server Object Explorer, it did not attach the existing file as that was DELETED. If you only detach it locally and then run the app you will see your error happen."}, {"owner": {"reputation": 981, "user_id": 5672137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/iOyqj.jpg?s=128&g=1", "display_name": "Marcin Zdunek", "link": "https://stackoverflow.com/users/5672137/marcin-zdunek"}, "edited": false, "score": 0, "creation_date": 1473878050, "post_id": 39497194, "comment_id": 66312274, "body": "So explain me: I detached my localdb on my computer, and run application. Database from file has been attached aumatically - I can see that because all of data is loaded properly (like rows saved before)"}, {"owner": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "reply_to_user": {"reputation": 981, "user_id": 5672137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/iOyqj.jpg?s=128&g=1", "display_name": "Marcin Zdunek", "link": "https://stackoverflow.com/users/5672137/marcin-zdunek"}, "edited": false, "score": 0, "creation_date": 1473879064, "post_id": 39497194, "comment_id": 66312813, "body": "<a href=\"http://stackoverflow.com/questions/28201591/how-does-one-attach-to-an-mdf-file-created-by-code-first-using-server-explorer\" title=\"how does one attach to an mdf file created by code first using server explorer\">stackoverflow.com/questions/28201591/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "is_accepted": false, "score": 0, "last_activity_date": 1473879059, "last_edit_date": 1495540866, "creation_date": 1473877422, "answer_id": 39497194, "question_id": 39497004, "link": "https://stackoverflow.com/questions/39497004/asp-net-database-is-not-attached-from-file-automatically/39497194#39497194", "title": "ASP.NET - database is not attached from file automatically", "body": "<p>Make sure DB.mdf is located in the application App Data folder and attach it to your local db <em>manually</em> before running the application. </p>\n\n<p><strike>If EF does not see a db attached to localdb with the name 'db' it will try to create it which is what is blowing up because the file it wants to make is already there. it is NOT smart enough to see the file and just know to attach it for you.</strike></p>\n\n<p>It appears you are correct, must have changed somewhere along the line.</p>\n\n<p>I think this SO may be of more help to you.\n<a href=\"https://stackoverflow.com/questions/28201591/how-does-one-attach-to-an-mdf-file-created-by-code-first-using-server-explorer\">How does one Attach to an MDF file created by Code First using Server Explorer</a></p>\n"}], "owner": {"reputation": 981, "user_id": 5672137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/iOyqj.jpg?s=128&g=1", "display_name": "Marcin Zdunek", "link": "https://stackoverflow.com/users/5672137/marcin-zdunek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473888949, "creation_date": 1473876602, "last_edit_date": 1473888949, "question_id": 39497004, "link": "https://stackoverflow.com/questions/39497004/asp-net-database-is-not-attached-from-file-automatically", "title": "ASP.NET - database is not attached from file automatically", "body": "<p>I have created simple <code>ASP.NET MVC 5</code> web page using <code>Entity Framework 2</code>. After finishing and testing this application I decided to migrate it to my friend's computer. So I copied entire folder with Visual Studio solution to his computer. </p>\n\n<p>Unfortunately while starting app this error occurs:</p>\n\n<blockquote>\n  <p>Cannot create file [database path] because it already exists. Change\n  the file name, and retry the operation.  CREATE DATABASE failed...</p>\n</blockquote>\n\n<p>The problem is that my friend does not want to create a new database, he wants to use this specific database file (<code>DB.mdf</code>) provided by me. So this file should by attached to LocalDB but is not.</p>\n\n<p>The connection string is:</p>\n\n<pre><code>&lt;connectionStrings&gt;\n    &lt;add name=\"DefaultConnection\" \n         connectionString=\"Data Source=(LocalDb)\\MSSQLLocalDB;AttachDbFilename=|DataDirectory|\\DB.mdf;Integrated Security=True\" \n         providerName=\"System.Data.SqlClient\" /&gt;\n&lt;/connectionStrings&gt;\n</code></pre>\n\n<p>How can I resolve this issue?</p>\n"}, {"tags": ["c#", "wpf", "xaml", "plugins", "staticresource"], "comments": [{"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1473877758, "post_id": 39496997, "comment_id": 66312125, "body": "Do you have elements using the same Key name in both dictionaries? Oh and what&#39;s on line 19?"}, {"owner": {"reputation": 136, "user_id": 2722264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VBWQb.png?s=128&g=1", "display_name": "780Farva", "link": "https://stackoverflow.com/users/2722264/780farva"}, "reply_to_user": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1473882997, "post_id": 39496997, "comment_id": 66314825, "body": "I think line 19 refers to a line within the WpfXamlLoader class. Reference: <a href=\"http://referencesource.microsoft.com/#PresentationFramework/src/Framework/System/Windows/Markup/WpfXamlLoader.cs\" rel=\"nofollow noreferrer\">referencesource.microsoft.com/#PresentationFramework/src/&hellip;</a>  I&#39;ll do a quick audit of my project for keys defined with the same name. Thanks for the suggestion! I&#39;ll comment back when I&#39;ve finished."}, {"owner": {"reputation": 136, "user_id": 2722264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VBWQb.png?s=128&g=1", "display_name": "780Farva", "link": "https://stackoverflow.com/users/2722264/780farva"}, "reply_to_user": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1473954475, "post_id": 39496997, "comment_id": 66346439, "body": "OK I&#39;ve combed the solution as thoroughly as I think possible (shoutout to Notepad++ and regexr.com for being rad). I found a couple duplicate keys, but they were scoped such that they shouldn&#39;t have been colliding. I removed the name duplication anyhow but am still fighting the same, unhelpful exception at runtime."}], "answers": [{"tags": [], "owner": {"reputation": 136, "user_id": 2722264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VBWQb.png?s=128&g=1", "display_name": "780Farva", "link": "https://stackoverflow.com/users/2722264/780farva"}, "is_accepted": true, "score": 0, "last_activity_date": 1475093718, "last_edit_date": 1495541963, "creation_date": 1475093718, "answer_id": 39756856, "question_id": 39496997, "link": "https://stackoverflow.com/questions/39496997/wpf-application-plugin-using-resources-from-host-application/39756856#39756856", "title": "WPF application plugin using resources from host application", "body": "<p>So it turns out that omitting the Merged dictionary code altogether resulted in the static resources I required being located properly at run-time anyway. The downside is that during design time the IDE highlights them as if they don't exist.</p>\n\n<p>This leaves me at the same point as this question : <a href=\"https://stackoverflow.com/questions/29749256/static-resources-in-wpf-in-pluggable-applicationhttp://\">https://stackoverflow.com/questions/29749256/static-resources-in-wpf-in-pluggable-application</a></p>\n"}], "owner": {"reputation": 136, "user_id": 2722264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VBWQb.png?s=128&g=1", "display_name": "780Farva", "link": "https://stackoverflow.com/users/2722264/780farva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "accepted_answer_id": 39756856, "answer_count": 1, "score": 0, "last_activity_date": 1475093718, "creation_date": 1473876579, "last_edit_date": 1495541708, "question_id": 39496997, "link": "https://stackoverflow.com/questions/39496997/wpf-application-plugin-using-resources-from-host-application", "title": "WPF application plugin using resources from host application", "body": "<p>I've got a similar situation to <a href=\"https://stackoverflow.com/questions/29749256/static-resources-in-wpf-in-pluggable-application\">this</a> question. However, that users glazes over how they were able to have plugins take advantage of static resources from the host application at run-time. That is my stumbling block.</p>\n\n<p>Lets call the host \"K\". At the moment I've made a resource dictionary called KResources.xaml where all of the application's resources are held (app.xaml just merges this dictionary and calls it a day).</p>\n\n<p>In my plugin I'm creating a view, V, that needs to use the KResources dictionary. This is what I'm currently trying:</p>\n\n<pre><code>&lt;UserControl.Resources&gt;\n &lt;ResourceDictionary&gt;\n  &lt;ResourceDictionary.MergedDictionaries&gt;\n    &lt;ResourceDictionary Source=\"/K;component/Resources/KResources.xaml\" /&gt;\n  &lt;/ResourceDictionary.MergedDictionaries&gt;\n &lt;/ResourceDictionary&gt;\n&lt;/UserControl.Resources&gt;\n</code></pre>\n\n<p>Ive also tried the following syntax:</p>\n\n<pre><code>&lt;ResourceDictionary \n    Source=\"pack://application:,,,/K;component/Resources/KResources.xaml\" /&gt;\n</code></pre>\n\n<p>Compilation goes well and my V.xaml file recognizes the resources, but I get an exception at runtime when this view is created:</p>\n\n<pre><code>System.Windows.Markup.XamlParseException occurred\nHResult=-2146233087\nLineNumber=19\nLinePosition=8\nMessage='The invocation of the constructor on type 'K.UI.Infrastructure.CaliburnBootstrapper' that matches the specified binding constraints threw an exception.' Line number '19' and line position '8'.\nSource=PresentationFramework\nStackTrace:\n   at System.Windows.Markup.WpfXamlLoader.Load(XamlReader xamlReader, IXamlObjectWriterFactory writerFactory, Boolean skipJournaledProperties, Object rootObject, XamlObjectWriterSettings settings, Uri baseUri)\nInnerException: \n   HResult=-2147024809\n   Message=An item with the same key has already been added.\n   Source=mscorlib\n   StackTrace:\n        at System.ThrowHelper.ThrowArgumentException(ExceptionResource resource)\n        at System.Collections.Generic.Dictionary`2.Insert(TKey key, TValue value, Boolean add)\n        at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value)\n        at Caliburn.Micro.AssemblySourceCache.&lt;Install&gt;b__4(Type t)\n        at Caliburn.Micro.EnumerableExtensions.Apply[T](IEnumerable`1 enumerable, Action`1 action)\n        at Caliburn.Micro.AssemblySourceCache.&lt;Install&gt;b__0(Object s, NotifyCollectionChangedEventArgs e)\n        at System.Collections.ObjectModel.ObservableCollection`1.OnCollectionChanged(NotifyCollectionChangedEventArgs e)\n        at Caliburn.Micro.BindableCollection`1.OnCollectionChanged(NotifyCollectionChangedEventArgs e)\n        at Caliburn.Micro.BindableCollection`1.&lt;&gt;c__DisplayClasse.&lt;AddRange&gt;b__d()\n        at Caliburn.Micro.XamlPlatformProvider.OnUIThread(Action action)\n        at Caliburn.Micro.BindableCollection`1.AddRange(IEnumerable`1 items)\n        at Caliburn.Micro.BootstrapperBase.StartRuntime()\n        at Caliburn.Micro.BootstrapperBase.Initialize()\n        at K.UI.Infrastructure.CaliburnBootstrapper..ctor() in C:\\Dev\\K\\source\\K.UI\\Infrastructure\\CaliburnBootstrapper.cs:line 44\n</code></pre>\n\n<p>The line <strong>Message=An item with the same key has already been added.</strong> stands out.</p>\n\n<p>Any insight would be greatly appreciated. Thanks in advance!</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.ios", "xamarin.android"], "comments": [{"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1473878787, "post_id": 39496946, "comment_id": 66312655, "body": "The drag/drop IDE UI Designer you are viewing in that Flash animation is for <code>Xamarin.iOS</code> and is the iOS StoryBoard/Xib Designer, there is also a <code>Xamarin.Android</code> Layout Designer  for creating your <i>.axml</i>-based layout files. There is <b>not</b> a built-in <code>Xamarin.Forms</code> (XAML) drag|drop Designer. There is an alpha version XAML <i>Previewer</i> in Xamarin Studio, <a href=\"https://developer.xamarin.com/guides/xamarin-forms/xaml/xaml-previewer/\" rel=\"nofollow noreferrer\">developer.xamarin.com/guides/xamarin-forms/xaml/xaml-preview&zwnj;&#8203;er</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3902, "user_id": 631843, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/vI7Mk.jpg?s=128&g=1", "display_name": "FetFrumos", "link": "https://stackoverflow.com/users/631843/fetfrumos"}, "is_accepted": true, "score": 2, "last_activity_date": 1473878558, "creation_date": 1473878558, "answer_id": 39497520, "question_id": 39496946, "link": "https://stackoverflow.com/questions/39496946/drag-and-drop-components-in-xamarin/39497520#39497520", "title": "Drag and drop components in Xamarin", "body": "<p>It is possible.\nXamarin Android and Xamarin iOS have visual designer(drag&amp;drop) in Visual Studio.</p>\n\n<p>It is <a href=\"https://developer.xamarin.com/guides/android/user_interface/designer_overview/part_1_-_designer_basics/\" rel=\"nofollow\">documentation</a> for Xamarin Android. \nIt is <a href=\"https://developer.xamarin.com/guides/ios/user_interface/designer/\" rel=\"nofollow\">documentation</a> for Xamarin iOS. \nXamarin Forms not supp\u043ert visual designer.</p>\n"}], "owner": {"reputation": 183, "user_id": 4306687, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47afb645d9c299038dc6da39d5e83e4b?s=128&d=identicon&r=PG&f=1", "display_name": "Luana", "link": "https://stackoverflow.com/users/4306687/luana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5067, "favorite_count": 1, "accepted_answer_id": 39497520, "answer_count": 1, "score": 3, "last_activity_date": 1473878558, "creation_date": 1473876398, "last_edit_date": 1473878262, "question_id": 39496946, "link": "https://stackoverflow.com/questions/39496946/drag-and-drop-components-in-xamarin", "title": "Drag and drop components in Xamarin", "body": "<p>I apologise if this seems very vague but I'm not sure how else to word it.\nI'm new in Visual Studio environment (2015 ) with Xamarin . Many developers have said it is not possible to drag and drop components in Xamarin , that everything should be done in .xaml file. On the website of Xamarin , shows that it is possible to perform drag and drop as the link below:</p>\n\n<p><a href=\"https://www.xamarin.com/platform\" rel=\"nofollow\">Xamarin website</a></p>\n\n<p>After all , it is possible or not to perform the drag and drop components? If possible, how to do it ?</p>\n"}, {"tags": ["c#", "winforms", "datagridview"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1473876424, "post_id": 39496902, "comment_id": 66311426, "body": "What&#39;s the error?  And what does this have to do with scrolling?  Maybe your table doesn&#39;t have a UserPassword field."}, {"owner": {"reputation": 3, "user_id": 6369359, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/1136391566381574/picture?type=large", "display_name": "Eugene Ganancial", "link": "https://stackoverflow.com/users/6369359/eugene-ganancial"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1473876794, "post_id": 39496902, "comment_id": 66311610, "body": "Here&#39;s the Error: Value of &#39;5&#39; is not valid for &#39;Value&#39;. &#39;Value&#39; should be between &#39;minimum&#39; and &#39;maximum&#39;. Of course I have UserPassword field. I don&#39;t get it.. On my other forms, if I hide a field they work fine."}, {"owner": {"reputation": 3, "user_id": 6369359, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/1136391566381574/picture?type=large", "display_name": "Eugene Ganancial", "link": "https://stackoverflow.com/users/6369359/eugene-ganancial"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1473877209, "post_id": 39496902, "comment_id": 66311814, "body": "Nah, just ignore this! I deleted the old grid, and I just created another one. And it works fine now. Maybe I wrongly manipulated somewhere in the properties. Lol. Thanks btw. I&#39;m just maybe kinda sleepy. haha!"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1473877329, "post_id": 39496902, "comment_id": 66311875, "body": "There should be a delete link by the tags."}], "owner": {"reputation": 3, "user_id": 6369359, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/1136391566381574/picture?type=large", "display_name": "Eugene Ganancial", "link": "https://stackoverflow.com/users/6369359/eugene-ganancial"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473876192, "creation_date": 1473876192, "question_id": 39496902, "link": "https://stackoverflow.com/questions/39496902/error-auto-scroll-minimum-and-maximum-c-datagridview-winform", "title": "Error Auto Scroll &#39;minimum&#39; and &#39;maximum&#39; c# datagridview winform", "body": "<pre><code>        try\n        {\n            string MyConnectionsss = \"datasource=localhost;port=3306;Initial Catalog = 'svms';username=svms;password=svms2016CPU\";\n            string Query = \"select * from userinformation\";\n            MySqlConnection MyConn2sss = new MySqlConnection(MyConnectionsss);\n            MySqlCommand MyCommand2 = new MySqlCommand(Query, MyConn2sss);\n            MySqlDataAdapter MyAdapter = new MySqlDataAdapter();\n            MyAdapter.SelectCommand = MyCommand2;\n            DataTable dTable = new DataTable();\n            MyAdapter.Fill(dTable);\n            metroGrid1.DataSource = dTable;\n            metroGrid1.PerformLayout();\n            metroGrid1.Columns[\"UserPassword\"].Visible = false;     \n        }\n        catch (Exception ex)\n        {\n            MetroMessageBox.Show(this, ex.Message, \"MySQL says:\", MessageBoxButtons.OK, MessageBoxIcon.Warning);\n        }\n</code></pre>\n\n<p>The error shows up if I put this code \"metroGrid1.Columns[\"UserPassword\"].Visible = false;\" I already tried metroGrid1.PerformLayout(); at the scroll event. Still doesn't work. Hope someone could please help. Thanks!</p>\n"}, {"tags": ["c#", "resharper"], "comments": [{"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 0, "creation_date": 1473876451, "post_id": 39496861, "comment_id": 66311447, "body": "<code>But CanExecuteChange might be virtual</code> how do you foresee that?"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1473876472, "post_id": 39496861, "comment_id": 66311464, "body": "I think it&#39;s just a case of Resharper not going out of it&#39;s way to find this potential issue since the method is not actually called directly inside of the constructor."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 1, "creation_date": 1473876517, "post_id": 39496861, "comment_id": 66311494, "body": "@Jonesopolis Well, it&#39;s <code>abstract</code>.  All <code>abstract</code> methods are, by definition, implicitly <code>virtual</code>."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1473878827, "post_id": 39496861, "comment_id": 66312681, "body": "Are you 100% sure that C# is language you are using? Because unlike C++ there is no* problems calling virtual functions from constructor in C# (* - ok it will likely behave badly too but in well-defined way unlike C++ - <a href=\"http://stackoverflow.com/questions/119506/virtual-member-call-in-a-constructor\" title=\"virtual member call in a constructor\">stackoverflow.com/questions/119506/&hellip;</a>)"}, {"owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 0, "creation_date": 1473888786, "post_id": 39496861, "comment_id": 66317492, "body": "Are you expecting a compiler warning or something like a resharper warning? Perhaps you should explain why you think it <i>should</i> be giving you a warning?"}], "answers": [{"tags": [], "owner": {"reputation": 58970, "user_id": 71059, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RRmlf.png?s=128&g=1", "display_name": "AakashM", "link": "https://stackoverflow.com/users/71059/aakashm"}, "is_accepted": true, "score": 2, "last_activity_date": 1473931948, "creation_date": 1473931948, "answer_id": 39507641, "question_id": 39496861, "link": "https://stackoverflow.com/questions/39496861/why-can-i-pass-a-func-of-a-virtual-function-in-a-constructor/39507641#39507641", "title": "Why can I pass a func of a virtual function in a constructor?", "body": "<p>Just because you're <em>passing</em> <code>CanExecuteChange</code> to another method, doesn't mean it's actually being <em>called</em>. If your code looks like this:</p>\n\n<pre><code>public class C\n{\n    private Func&lt;bool&gt; _func;\n\n    public C(Func&lt;bool&gt; func)\n    {\n        _func = func;\n    }\n}\n</code></pre>\n\n<p>then the ctor of <code>C</code> is just <em>storing</em> the passed-in <code>Func</code> for later and there's nothing to worry about. </p>\n\n<p>Even if the <code>C</code> ctor <em>does</em> invoke the passed <code>Func</code>:</p>\n\n<pre><code>public class C\n{\n    public C(Func&lt;bool&gt; func)\n    {\n        Console.WriteLine(func());\n    }\n}\n</code></pre>\n\n<p>R# necessarily has a <strong>finite limit</strong> on how deep it will look and will not flag this.</p>\n"}], "owner": {"reputation": 47363, "user_id": 146780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48ea519fede5177604945a5c430e6e19?s=128&d=identicon&r=PG", "display_name": "jmasterx", "link": "https://stackoverflow.com/users/146780/jmasterx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 39507641, "answer_count": 1, "score": 0, "last_activity_date": 1473931948, "creation_date": 1473875979, "last_edit_date": 1473876417, "question_id": 39496861, "link": "https://stackoverflow.com/questions/39496861/why-can-i-pass-a-func-of-a-virtual-function-in-a-constructor", "title": "Why can I pass a func of a virtual function in a constructor?", "body": "<p>I do not get a potential virtual function call in constructor warning when I do:</p>\n\n<pre><code>   public abstract class B : A\n    {\n        protected B(IEngine engine) : base(engine)\n        {\n            C = new C(CanExecuteChange);\n        }\n\n        public C C{ get; }\n        public abstract bool CanExecuteChange();\n    }\n</code></pre>\n\n<p>Where class C's constructor takes a <code>Func&lt;bool&gt;</code></p>\n\n<p>But CanExecuteChange might be virtual? So couldn't we be calling a virtual function in the constructor?</p>\n"}, {"tags": ["c#", "json", "odata", "olingo"], "comments": [{"owner": {"reputation": 2630, "user_id": 317754, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7eb8f14ed293d97ab6ea4dd4ec578c57?s=128&d=identicon&r=PG", "display_name": "therealmitchconnors", "link": "https://stackoverflow.com/users/317754/therealmitchconnors"}, "edited": false, "score": 0, "creation_date": 1473876013, "post_id": 39496857, "comment_id": 66311212, "body": "And yes, I know that Olingo v4.3 supports full metadata, but I&#39;d rather not upgrade if I can help it, and I&#39;m not certain if that release is stable yet..."}], "answers": [{"tags": [], "owner": {"reputation": 2630, "user_id": 317754, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7eb8f14ed293d97ab6ea4dd4ec578c57?s=128&d=identicon&r=PG", "display_name": "therealmitchconnors", "link": "https://stackoverflow.com/users/317754/therealmitchconnors"}, "is_accepted": true, "score": 0, "last_activity_date": 1485285631, "creation_date": 1485285631, "answer_id": 41837188, "question_id": 39496857, "link": "https://stackoverflow.com/questions/39496857/prevent-microsoft-odata-client-from-requesting-full-metadata/41837188#41837188", "title": "Prevent Microsoft OData Client from requesting Full Metadata", "body": "<p>After some time trying to get this to work, I decided it was easier to edit the Olingo source code to generate full metadata than to try and get Microsoft.OData.Client to behave.  Open Source: 1, Microsoft: 0.</p>\n"}], "owner": {"reputation": 2630, "user_id": 317754, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7eb8f14ed293d97ab6ea4dd4ec578c57?s=128&d=identicon&r=PG", "display_name": "therealmitchconnors", "link": "https://stackoverflow.com/users/317754/therealmitchconnors"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 41837188, "answer_count": 1, "score": 2, "last_activity_date": 1485285631, "creation_date": 1473875966, "question_id": 39496857, "link": "https://stackoverflow.com/questions/39496857/prevent-microsoft-odata-client-from-requesting-full-metadata", "title": "Prevent Microsoft OData Client from requesting Full Metadata", "body": "<p>I am attempting to consume an Olingo OData Service with Microsoft.OData.Client.  For most requests, the client sends header <code>accept: application/json;odata.metadata=minimal</code>, but when I try to follow a navigation property (ie <code>GET http://localhost/odata.svc/Parent(key)/Children</code>), the client sends header <code>accept: application/json;odata.metadata=full</code>.  Olingo v4.2 does not support full metadata in JSON, and responds with HTTP 406 Not Acceptable.</p>\n\n<p>Is there any way to force the Microsoft.OData.Client to use metadata=minimal, or is full metadata an intrinsic requirement of navigation properties?</p>\n"}, {"tags": ["c#", "dotvvm"], "answers": [{"comments": [{"owner": {"reputation": 1177, "user_id": 6475836, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10208009437247338/picture?type=large", "display_name": "Missy", "link": "https://stackoverflow.com/users/6475836/missy"}, "edited": false, "score": 0, "creation_date": 1499794802, "post_id": 39534154, "comment_id": 77056610, "body": "How is this coming?  I am having the same problem.  Also, what file do you override Task Init()?"}, {"owner": {"reputation": 1177, "user_id": 6475836, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10208009437247338/picture?type=large", "display_name": "Missy", "link": "https://stackoverflow.com/users/6475836/missy"}, "edited": false, "score": 0, "creation_date": 1499795163, "post_id": 39534154, "comment_id": 77056820, "body": "I found my answers -- you put it in the viewModel.  You need have the threading.tasks namespace."}], "tags": [], "owner": {"reputation": 1487, "user_id": 1482195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yj1UO.jpg?s=128&g=1", "display_name": "Tom&#225;\u0161 Herceg", "link": "https://stackoverflow.com/users/1482195/tom%c3%a1%c5%a1-herceg"}, "is_accepted": true, "score": 0, "last_activity_date": 1474036650, "creation_date": 1474036650, "answer_id": 39534154, "question_id": 39496844, "link": "https://stackoverflow.com/questions/39496844/dotvvm-route-paramets-get-null-exception-for-context/39534154#39534154", "title": "Dotvvm: Route paramets get null exception for Context", "body": "<p>It seems that you are trying to access the <code>Context</code> property in the constructor where it's not available yet.</p>\n\n<p>For now, the recommended way is to override the <code>Init</code> method and read the parameter values inside this method.</p>\n\n<pre><code>public override Task Init() \n{\n    TestId = Convert.ToInt32(Context.Parameters[\"Id\"]);\n    return base.Init();\n}\n</code></pre>\n\n<blockquote>\n  <p>In the upcoming 1.1 release of <a href=\"https://www.dotvvm.com\" rel=\"nofollow\">DotVVM</a>, we'll have parameter binding where you\n  can just declare a property in the viewmodel and use an attribute to\n  bind it to the parameter in route or query string, like this:</p>\n\n<pre><code>[FromRoute(\"Id\")]\npublic int TestId { get; set; }\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 69, "user_id": 6797505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcd564e683b6a4ed213b5f9716708bcf?s=128&d=identicon&r=PG&f=1", "display_name": "M. Falex", "link": "https://stackoverflow.com/users/6797505/m-falex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "accepted_answer_id": 39534154, "answer_count": 1, "score": 0, "last_activity_date": 1474036650, "creation_date": 1473875895, "question_id": 39496844, "link": "https://stackoverflow.com/questions/39496844/dotvvm-route-paramets-get-null-exception-for-context", "title": "Dotvvm: Route paramets get null exception for Context", "body": "<p>Everytime I get null exception for Context in my viewmodel:</p>\n\n<pre><code> var TestId = Convert.ToInt32(Context.Parameters[\"Id\"]);\n</code></pre>\n\n<p>In dotvvmStartup.cs I have this code:</p>\n\n<pre><code>config.RouteTable.Add(\"Default\", \"\", \"Views/index.dothtml\");   \nconfig.RouteTable.Add(\"TestPage\", \"testpage/{Id?}\", \"Views/testpage.dothtml\");\n</code></pre>\n\n<p>When I click on route link in index.dothml:</p>\n\n<pre><code>&lt;dot:RouteLink RouteName=\"TestPage\" Text=\"Go!\" Param-Id=\"1\" /&gt;\n</code></pre>\n\n<p>So I got NullReferenceException for Context also I checked in Locals Context and I saw that Context had value <em>null</em>. Please, do you know what I missed?</p>\n\n<p>By the way I also try modify code in dotvvmStartup.cs like you can see below but I got same result with null exception for Context:</p>\n\n<pre><code>config.RouteTable.Add(\"Default\", \"\", \"Views/index.dothtml\", null);   \n    config.RouteTable.Add(\"TestPage\", \"testpage/{Id?}\", \"Views/testpage.dothtml\", new { Id = 2 });\n</code></pre>\n"}, {"tags": ["c#", "richtextbox"], "comments": [{"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 0, "creation_date": 1473876199, "post_id": 39496820, "comment_id": 66311312, "body": "Can you give same sample input with sample output? I&#39;m not 100% im sure what you&#39;re asking."}, {"owner": {"reputation": 21, "user_id": 6817355, "user_type": "registered", "profile_image": "https://graph.facebook.com/662568227254045/picture?type=large", "display_name": "Ilham Nasution", "link": "https://stackoverflow.com/users/6817355/ilham-nasution"}, "reply_to_user": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 0, "creation_date": 1473876383, "post_id": 39496820, "comment_id": 66311395, "body": "@KSib   Sample input :  email1dotcom email2dotcom email3dotcom  sample output:   (space)   (space)   (space)"}, {"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 0, "creation_date": 1473876398, "post_id": 39496820, "comment_id": 66311408, "body": "Ah I see what you&#39;re saying now. Nevermind."}, {"owner": {"reputation": 21, "user_id": 6817355, "user_type": "registered", "profile_image": "https://graph.facebook.com/662568227254045/picture?type=large", "display_name": "Ilham Nasution", "link": "https://stackoverflow.com/users/6817355/ilham-nasution"}, "reply_to_user": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 0, "creation_date": 1473876756, "post_id": 39496820, "comment_id": 66311588, "body": "@KSib sorry for typo, I&#39;m hard to explain but see this image <a href=\"http://image.prntscr.com/image/181d939f9dd449dea6615a1c9be02de5.png\" rel=\"nofollow noreferrer\">image.prntscr.com/image/181d939f9dd449dea6615a1c9be02de5.png</a> maybe make you understand"}, {"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 0, "creation_date": 1473877142, "post_id": 39496820, "comment_id": 66311782, "body": "It&#39;s okay. I just loaded your code in Visual Studio and immediately understood what you meant"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6817355, "user_type": "registered", "profile_image": "https://graph.facebook.com/662568227254045/picture?type=large", "display_name": "Ilham Nasution", "link": "https://stackoverflow.com/users/6817355/ilham-nasution"}, "edited": false, "score": 0, "creation_date": 1473905465, "post_id": 39497095, "comment_id": 66321688, "body": "this code is working but i just want to delete richtextbox1.SelectedText without whitespace."}], "tags": [], "owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "is_accepted": false, "score": 0, "last_activity_date": 1473877044, "creation_date": 1473877044, "answer_id": 39497095, "question_id": 39496820, "link": "https://stackoverflow.com/questions/39496820/how-to-remove-lines-one-by-one-in-richtextbox-c/39497095#39497095", "title": "How to remove lines one by one in Richtextbox C#", "body": "<pre><code>// Gets the number of newline characters in your rich text box\nvar numberOfNewLines = richTextBox1.Text.Count(r =&gt; r == '\\n');\n\nfor (var i = 0; i &lt; numberOfNewLines; i++)\n{\n     // Finds the first occurance of the newline character\n     var newlineCharacterIndex = richTextBox1.Text.IndexOf('\\n') + 1;\n\n     // Replaces the rich textbox text with everything but the above line\n     richTextBox1.Text = richTextBox1.Text.Substring(newlineCharacterIndex);\n\n     MessageBox.Show(\"OK!\");\n}\n\n// Removes the final line.\nrichTextBox1.Text = string.Empty;\n</code></pre>\n\n<p>I think you were on the right track, but the way you were doing it was just removing the contents of the line and not the line itself.</p>\n"}], "owner": {"reputation": 21, "user_id": 6817355, "user_type": "registered", "profile_image": "https://graph.facebook.com/662568227254045/picture?type=large", "display_name": "Ilham Nasution", "link": "https://stackoverflow.com/users/6817355/ilham-nasution"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 921, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473877044, "creation_date": 1473875817, "last_edit_date": 1473876815, "question_id": 39496820, "link": "https://stackoverflow.com/questions/39496820/how-to-remove-lines-one-by-one-in-richtextbox-c", "title": "How to remove lines one by one in Richtextbox C#", "body": "<p>I use this code to delete lines one by one in richtextbox, but still leaving an empty line (whitespace).</p>\n\n<pre><code>var text = \"\";//Holds the text of current line being looped.\nvar startindex = 0;//The position where selection starts.\nvar endindex = 0;//The length of selection.\n\nfor (int i = 0; i &lt; richtextbox1.Lines.Length; i++)//Loops through each line of text in RichTextBox\n{\n    text = richtextbox1.Lines[i];  //Stores current line of text.\n\n    startindex = richtextbox1.GetFirstCharIndexFromLine(i);\n    endindex = text.Length;\n    richtextbox1.Select(startindex, endindex);\n    MessageBox.Show(richtextbox1.SelectedText);\n    richtextbox1.SelectedText = \"\";              \n}\n</code></pre>\n\n<p>How do I delete lines one by one without empty lines (whitespace)? </p>\n"}, {"tags": ["c#", ".net", "asp.net-mvc", "amazon-s3"], "comments": [{"owner": {"reputation": 1896, "user_id": 5793033, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af3b3283be60f7a1a38d5df411ad5652?s=128&d=identicon&r=PG", "display_name": "Jecoms", "link": "https://stackoverflow.com/users/5793033/jecoms"}, "edited": false, "score": 1, "creation_date": 1507237870, "post_id": 39496769, "comment_id": 80142652, "body": "I&#39;m having the same issue. I can call <code>.ToArray()</code> on the stream to get the contents, but I can&#39;t seem to just use <code>return File(stream, contentType, fileName);</code> as the file contains nothing when downloaded."}], "answers": [{"tags": [], "owner": {"reputation": 3038, "user_id": 1428388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f250278266eb855597584288585a456a?s=128&d=identicon&r=PG", "display_name": "jzonthemtn", "link": "https://stackoverflow.com/users/1428388/jzonthemtn"}, "is_accepted": false, "score": 3, "last_activity_date": 1473878190, "creation_date": 1473878190, "answer_id": 39497415, "question_id": 39496769, "link": "https://stackoverflow.com/questions/39496769/reading-stream-from-aws-s3-involves-loading-entire-file/39497415#39497415", "title": "Reading stream from AWS S3 involves loading entire file", "body": "<p>You can use the <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectGET.html\" rel=\"nofollow\">HTTP Range</a> header to, in a loop, download specific bytes of an S3 object and then pass those bytes to the client once they are downloaded. That way the web server won't have to wait until the full file has been retrieved to give the client something.</p>\n"}], "owner": {"reputation": 9347, "user_id": 155892, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/18T23.jpg?s=128&g=1", "display_name": "Mark Sowul", "link": "https://stackoverflow.com/users/155892/mark-sowul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2140, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1473878190, "creation_date": 1473875599, "question_id": 39496769, "link": "https://stackoverflow.com/questions/39496769/reading-stream-from-aws-s3-involves-loading-entire-file", "title": "Reading stream from AWS S3 involves loading entire file", "body": "<p>The short version of my scenario is that I am reading a file stored in Amazon's S3 with the .NET SDK...</p>\n\n<pre><code>GetObjectRequest request = new GetObjectRequest\n{\n    BucketName = this.m_bucketName,\n    Key = GetFileKey(fileIdentifier),\n};\n\nIAmazonS3 source = ...\nGetObjectResponse response = await source.GetObjectAsync(request);\nreturn response.ResponseStream;\n</code></pre>\n\n<p>I then pass this stream through to MVC as a <code>File</code> result</p>\n\n<pre><code>public async Task&lt;FileResult&gt; Download(...)\n{\n   return File(GetAwsStream(...), ...);\n}\n</code></pre>\n\n<p><strong>The problem is</strong>, apparently S3 is eagerly calculating a checksum of the entire file before returning anything.  For large files, this is a significant issue because </p>\n\n<ul>\n<li>the web server must download the entire file from AWS S3 before a single byte can start streaming to the client; for large files, it can take minutes before the web server responds to the client</li>\n<li>it uses a ton of memory on the web server to read the entire stream and calculate the checksum</li>\n</ul>\n\n<p>This entirely defeats the point of a stream.  Is there any way to get an actual \"stream\" from S3?</p>\n"}, {"tags": ["c#", ".net", "c++-cli"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1593881"}, "edited": false, "score": 0, "creation_date": 1473875921, "post_id": 39496767, "comment_id": 66311162, "body": "This should be updated to include the <code>c++-cli</code> tag. And possibly remove the <code>c++</code> tag."}, {"owner": {"reputation": 815, "user_id": 5034195, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fe77e1c70a484c9dc24247080b1d69d1?s=128&d=identicon&r=PG&f=1", "display_name": "ITWorker", "link": "https://stackoverflow.com/users/5034195/itworker"}, "edited": false, "score": 0, "creation_date": 1473876031, "post_id": 39496767, "comment_id": 66311219, "body": "@RawN edit completed"}], "answers": [{"tags": [], "owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "is_accepted": true, "score": 1, "last_activity_date": 1473877476, "last_edit_date": 1473877476, "creation_date": 1473875727, "answer_id": 39496804, "question_id": 39496767, "link": "https://stackoverflow.com/questions/39496767/assembly-loadfrom-illegal-characters-in-path-error/39496804#39496804", "title": "Assembly.LoadFrom {&quot;Illegal characters in path.&quot;} error", "body": "<p>In C, C++ and C#, the backslash (<code>\\</code>) is an escape character. For example, <code>\\r</code> signifies a carriage return and <code>\\n</code> signifies a line feed.</p>\n\n<p>Use two backslashes to insert a single one.</p>\n\n<pre><code>Assembly SampleAssembly;\nSampleAssembly = Assembly.LoadFrom(\"\\\\bin\\\\mycppapp.dll\");\n</code></pre>\n"}], "owner": {"reputation": 815, "user_id": 5034195, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fe77e1c70a484c9dc24247080b1d69d1?s=128&d=identicon&r=PG&f=1", "display_name": "ITWorker", "link": "https://stackoverflow.com/users/5034195/itworker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 39496804, "answer_count": 1, "score": 0, "last_activity_date": 1473877476, "creation_date": 1473875597, "last_edit_date": 1473876003, "question_id": 39496767, "link": "https://stackoverflow.com/questions/39496767/assembly-loadfrom-illegal-characters-in-path-error", "title": "Assembly.LoadFrom {&quot;Illegal characters in path.&quot;} error", "body": "<p>I have the following declaration:</p>\n\n<pre><code>Assembly SampleAssembly;\nSampleAssembly = Assembly.LoadFrom(\"\\bin\\mycppapp.dll\");\n</code></pre>\n\n<p>where the bin folder is inside an ASP.NET MVC 5 project structure and it contains the mycppapp.dll file, which is a Visual C++ entity with various methods. When the code processes this line, I see in the debugger the following error:</p>\n\n<blockquote>\n  <p>{\"Illegal characters in path.\"}</p>\n</blockquote>\n\n<p>What can I do to fix this?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "asp.net", "enums"], "comments": [{"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1473875731, "post_id": 39496737, "comment_id": 66311067, "body": "Have you tried what the error suggests? <code>(are you missing a cast?)</code>"}, {"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 0, "creation_date": 1473875818, "post_id": 39496737, "comment_id": 66311113, "body": "One of the few times that the error message is actually a bit helpful :)"}], "answers": [{"comments": [{"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 0, "creation_date": 1473875788, "post_id": 39496796, "comment_id": 66311096, "body": "I wonder why they designed <code>Enum.Parse</code> to work that way. Seem awfully redundant to have to cast..."}, {"owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "reply_to_user": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 1, "creation_date": 1473875881, "post_id": 39496796, "comment_id": 66311141, "body": "Because when the .NET Framework was first written there was no such thing as generics. The only possible return type therefore is <code>object</code>."}, {"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 2, "creation_date": 1473875932, "post_id": 39496796, "comment_id": 66311170, "body": "You&#39;d think after all these years though they would add an <code>Enum.Parse&lt;T&gt;(object obj)</code>"}, {"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 3, "creation_date": 1473875971, "post_id": 39496796, "comment_id": 66311191, "body": "Oh, looks like they did <a href=\"https://msdn.microsoft.com/en-us/library/dd783499(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/dd783499(v=vs.110).aspx</a>"}], "tags": [], "owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "is_accepted": true, "score": 8, "last_activity_date": 1473875692, "creation_date": 1473875692, "answer_id": 39496796, "question_id": 39496737, "link": "https://stackoverflow.com/questions/39496737/enum-parse-cannot-implicitly-convert-type-object-to-an-explicit-conversion-exi/39496796#39496796", "title": "Enum.Parse Cannot implicitly convert type &#39;object&#39; to An explicit conversion exists (are you missing a cast?)", "body": "<p><code>Enum.Parse</code> returns object (it is not generic) so you need to explicitly cast your return value. Use:</p>\n\n<pre><code>return (occupancyTimelineTypes)Enum.Parse(typeof(occupancyTimelineTypes), occupancyTimeline);\n</code></pre>\n"}], "owner": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2917, "favorite_count": 0, "accepted_answer_id": 39496796, "answer_count": 1, "score": 1, "last_activity_date": 1531910345, "creation_date": 1473875476, "last_edit_date": 1531910345, "question_id": 39496737, "link": "https://stackoverflow.com/questions/39496737/enum-parse-cannot-implicitly-convert-type-object-to-an-explicit-conversion-exi", "title": "Enum.Parse Cannot implicitly convert type &#39;object&#39; to An explicit conversion exists (are you missing a cast?)", "body": "<p>I am using ASP.NET MVC 5 Entity Framework. In my View I have a dropdown menu and what I am trying to do is use an enum to populate dropdown menus. This is what I've got in my class:</p>\n\n<pre><code>    public enum occupancyTimelineTypes : int\n    {\n        TwelveMonths = 12,\n        FourteenMonths = 14,\n        SixteenMonths = 16,\n        EighteenMonths = 18\n    }\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>        [DisplayName(\"Occupancy Timeline\")]\n        [Required]\n        public string occupancyTimeline { get; set; }\n\n        public occupancyTimelineTypes occupancyTimelineType\n        {\n            get\n            {\n                return Enum.Parse(typeof(occupancyTimelineTypes), occupancyTimeline);\n            }\n        }\n</code></pre>\n\n<p>My problem is, I am getting an error I have no idea how to fix:</p>\n\n<blockquote>\n  <p>Cannot implicitly convert type 'object' to An explicit conversion\n  exists (are you missing a cast?)</p>\n</blockquote>\n\n<p>I am populating my dropdown menu like so:</p>\n\n<pre><code>@Html.DropDownListFor(model =&gt; model.occupancyTimeline,Model.occupancyTimelineType.ToSelectList());\n</code></pre>\n\n<p>and here is my <code>ToSelectList()</code> Method</p>\n\n<pre><code>    public static class MyExtensions\n    {\n        public static SelectList ToSelectList(this occupancyTimelineTypes enumObj)\n        {\n            var values = from occupancyTimeline e in Enum.GetValues(typeof(occupancyTimeline))\n                         select new { Id = e, Name = string.Format(\"{0} Months\", Convert.ToInt32(e)) };\n            return new SelectList(values, \"Id\", \"Name\", enumObj);\n        }\n    }\n</code></pre>\n\n<p>I CANNOT AND WILL NOT USE <code>Html.EnumDropDownListFor()</code> as too many errors appear and its a nightmare to put in place and fix these errors.</p>\n\n<p>This has to be <code>@Html.DropDownListFor</code></p>\n"}, {"tags": ["c#", "html", "regex", "stringbuilder"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1473875469, "post_id": 39496670, "comment_id": 66310948, "body": "You&#39;d be better off using a html parser."}], "answers": [{"comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1473875556, "post_id": 39496719, "comment_id": 66310980, "body": "This won&#39;t handle the case insensitive requirement."}, {"owner": {"reputation": 646, "user_id": 3254993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jsdkx.png?s=128&g=1", "display_name": "Darkloki", "link": "https://stackoverflow.com/users/3254993/darkloki"}, "edited": false, "score": 0, "creation_date": 1473875582, "post_id": 39496719, "comment_id": 66311000, "body": "thank you for the quick response. How does this help me with case-insensitivity though?"}, {"owner": {"reputation": 1194, "user_id": 3774527, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/acddfa4de44250b8a58ed88312200809?s=128&d=identicon&r=PG&f=1", "display_name": "Noppey", "link": "https://stackoverflow.com/users/3774527/noppey"}, "edited": false, "score": 0, "creation_date": 1473875744, "post_id": 39496719, "comment_id": 66311076, "body": "It doesn&#39;t. In your case, unless you do it 10000 times, I would use string.replace instead."}, {"owner": {"reputation": 1194, "user_id": 3774527, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/acddfa4de44250b8a58ed88312200809?s=128&d=identicon&r=PG&f=1", "display_name": "Noppey", "link": "https://stackoverflow.com/users/3774527/noppey"}, "edited": false, "score": 0, "creation_date": 1473875846, "post_id": 39496719, "comment_id": 66311128, "body": "If you don&#39;t want that, look at the link I posted."}], "tags": [], "owner": {"reputation": 1194, "user_id": 3774527, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/acddfa4de44250b8a58ed88312200809?s=128&d=identicon&r=PG&f=1", "display_name": "Noppey", "link": "https://stackoverflow.com/users/3774527/noppey"}, "is_accepted": false, "score": 0, "last_activity_date": 1473875829, "last_edit_date": 1495541700, "creation_date": 1473875376, "answer_id": 39496719, "question_id": 39496670, "link": "https://stackoverflow.com/questions/39496670/replace-case-insensitive-stringbuilder/39496719#39496719", "title": "Replace Case Insensitive StringBuilder", "body": "<p>The benefit of stringbuilder is that you don't create a new string with every replacement. Your implementation doesn't benefit from this property.\nIf you use a stringbuilder, actually do transformations on the stringbuilder, not on the input string parameter:</p>\n\n<pre><code>    public static string ConvertHTML2WIKInotation(string htmlstring)\n    {\n        StringBuilder sb = new StringBuilder(htmlstring);\n\n        sb.Replace(\"&lt;hr&gt;\", \"----\");\n        sb.Replace(\"&lt;hr /&gt;\", \"----\");\n\n        return sb.ToString();\n    }\n</code></pre>\n\n<p>If it needs to be case insensitive, look at:\n<a href=\"https://stackoverflow.com/questions/25574832/how-to-do-a-multiple-case-insensitive-replace-using-a-stringbuilder\">How to do a multiple case insensitive replace using a StringBuilder</a></p>\n"}, {"comments": [{"owner": {"reputation": 646, "user_id": 3254993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jsdkx.png?s=128&g=1", "display_name": "Darkloki", "link": "https://stackoverflow.com/users/3254993/darkloki"}, "edited": false, "score": 0, "creation_date": 1473876451, "post_id": 39496885, "comment_id": 66311449, "body": "I&#39;m sorry, I&#39;m not well versed on IEnumerables, how do you go about creating the replaceParameters parameter?"}, {"owner": {"reputation": 96, "user_id": 5265158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e445043c955c7ed4e441f1f84ca89418?s=128&d=identicon&r=PG&f=1", "display_name": "RAJA.P.N", "link": "https://stackoverflow.com/users/5265158/raja-p-n"}, "reply_to_user": {"reputation": 646, "user_id": 3254993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jsdkx.png?s=128&g=1", "display_name": "Darkloki", "link": "https://stackoverflow.com/users/3254993/darkloki"}, "edited": false, "score": 0, "creation_date": 1473876677, "post_id": 39496885, "comment_id": 66311547, "body": "Try this: replaceParameters = new [] {       new KeyValuePair&lt;string,string&gt;(&quot;&lt;hr/&gt;&quot;,&quot;----&quot;),       new KeyValuePair&lt;string,string&gt;(&quot;&lt;hr /&gt;&quot;,&quot;----&quot;)     };"}], "tags": [], "owner": {"reputation": 96, "user_id": 5265158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e445043c955c7ed4e441f1f84ca89418?s=128&d=identicon&r=PG&f=1", "display_name": "RAJA.P.N", "link": "https://stackoverflow.com/users/5265158/raja-p-n"}, "is_accepted": true, "score": 0, "last_activity_date": 1473876103, "creation_date": 1473876103, "answer_id": 39496885, "question_id": 39496670, "link": "https://stackoverflow.com/questions/39496670/replace-case-insensitive-stringbuilder/39496885#39496885", "title": "Replace Case Insensitive StringBuilder", "body": "<p>Since html tags case insensitive, I would suggest non StringBuilder since SB is not recommended for the scenarios where you need more replace string.</p>\n\n<pre><code>public static string ReplaceMultiple(\n          string template, \n          IEnumerable&lt;KeyValuePair&lt;string, string&gt;&gt; replaceParameters)\n{\n   var result = template;\n\n   foreach(var replace in replaceParameters)\n   {\n      var templateSplit = Regex.Split(result, \n                                    replace.Key, \n                                    RegexOptions.IgnoreCase);\n      result = string.Join(replace.Value, templateSplit);\n   }\n\n   return result;\n}\n</code></pre>\n"}], "owner": {"reputation": 646, "user_id": 3254993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jsdkx.png?s=128&g=1", "display_name": "Darkloki", "link": "https://stackoverflow.com/users/3254993/darkloki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2609, "favorite_count": 0, "closed_date": 1473878075, "accepted_answer_id": 39496885, "answer_count": 2, "score": 1, "last_activity_date": 1473877972, "creation_date": 1473875154, "last_edit_date": 1473877972, "question_id": 39496670, "link": "https://stackoverflow.com/questions/39496670/replace-case-insensitive-stringbuilder", "closed_reason": "Duplicate", "title": "Replace Case Insensitive StringBuilder", "body": "<p>I have read many times over about the virtue of using Stringbuilder vs. string when multiple replacements are needed. I need to convert an HTML string (all very simple formatting) to WIKI notation and was going to roll my own from code I found on SO. I'm wondering if there is a simpler way to do this, and also how I can implement the benefits of a StringBuilder with it. All my attempts til now have failed miserably. Please advise and thank you in advance.</p>\n\n<pre><code>    public static string ConvertHTML2WIKInotation(string htmlstring)\n        {\n            StringBuilder sb = new StringBuilder(htmlstring);\n\n            htmlstring = ReplaceInsensitive(htmlstring, \"&lt;hr&gt;\", \"----\");\n            htmlstring = ReplaceInsensitive(htmlstring, \"&lt;hr /&gt;\", \"----\");\n            ... etc.\n\n            return sb.ToString();\n        }\n\n        static public string ReplaceInsensitive(this string str, string from, string to)\n        {\n            str = Regex.Replace(str, from, to, RegexOptions.IgnoreCase);\n            return str;\n        }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 1194, "user_id": 3774527, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/acddfa4de44250b8a58ed88312200809?s=128&d=identicon&r=PG&f=1", "display_name": "Noppey", "link": "https://stackoverflow.com/users/3774527/noppey"}, "edited": false, "score": 0, "creation_date": 1473875076, "post_id": 39496559, "comment_id": 66310763, "body": "Your lambda expression modelItem =&gt; item doesn&#39;t make sense, use item =&gt; item instead"}], "answers": [{"comments": [{"owner": {"reputation": 609, "user_id": 1390093, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a71cc2a6b1240dc5217dbfa471dbf674?s=128&d=identicon&r=PG", "display_name": "mkmitchell", "link": "https://stackoverflow.com/users/1390093/mkmitchell"}, "edited": false, "score": 0, "creation_date": 1473882681, "post_id": 39497046, "comment_id": 66314656, "body": "That helps me get further down the debug chain.  It appears that Model.Albums is returning null.  I replaced Model.ThisAlbumId with something I knew is in the database just to be sure.  My real project is different.  New_Monitoring_Data refers to the Genre and New_Contact refers to Album.  Strack trace: <a href=\"http://pastebin.com/8nL0apzW\" rel=\"nofollow noreferrer\">pastebin.com/8nL0apzW</a>"}, {"owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "reply_to_user": {"reputation": 609, "user_id": 1390093, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a71cc2a6b1240dc5217dbfa471dbf674?s=128&d=identicon&r=PG", "display_name": "mkmitchell", "link": "https://stackoverflow.com/users/1390093/mkmitchell"}, "edited": false, "score": 0, "creation_date": 1473883804, "post_id": 39497046, "comment_id": 66315231, "body": "I can see. <code>parameter name: source</code> refers to the enumerable, ie, the list. However my answer assumes that wasn&#39;t the case, so I will expect you still had the problem even after you made sure it wasn&#39;t null. You should probably be getting the second error message you talked about in the question, so you should make the modification I proposed."}, {"owner": {"reputation": 609, "user_id": 1390093, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a71cc2a6b1240dc5217dbfa471dbf674?s=128&d=identicon&r=PG", "display_name": "mkmitchell", "link": "https://stackoverflow.com/users/1390093/mkmitchell"}, "edited": false, "score": 0, "creation_date": 1473947913, "post_id": 39497046, "comment_id": 66341848, "body": "Your comments were most helpful.  I ended up using a Tuple instead of this route but still used your advice in the new approach.  Thank you"}], "tags": [], "owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "is_accepted": true, "score": 1, "last_activity_date": 1473876787, "creation_date": 1473876787, "answer_id": 39497046, "question_id": 39496559, "link": "https://stackoverflow.com/questions/39496559/displaying-a-model-list-item-variable-from-a-view-that-uses-a-different-model/39497046#39497046", "title": "Displaying a model list item variable from a view that uses a different model", "body": "<p>The <strong>first</strong> attempt looks fine. It would have been nice to see the stack trace of the error. But if you're getting a <strong>value cannot be null</strong>, then it's most probably because <code>Model</code> is null; i.e. the view's model is not being instantiated and passed on. From your code, I can infer that the view's model is <code>Genre</code> class, you should check in the action method whether you're passing the model to the view. If you did it correctly, the relevant part in the action method should look somewhat like this:</p>\n\n<pre><code>    var model = new Genre\n    {\n        //set relevant properties\n    };\n    //set other relevant 'model' properties, if any\n    return View(\"YourViewName\", model);\n</code></pre>\n\n<p>Concerning the <strong>second</strong> error:</p>\n\n<blockquote>\n  <p>Templates can be used only with field access, property access, single-dimension array index, or single-parameter custom indexer expressions</p>\n</blockquote>\n\n<p>This piece of code:</p>\n\n<pre><code>&lt;td&gt;@Html.DisplayFor(model =&gt; model.Album.Where(x =&gt; x.Id == model.ThisAlbumId).FirstOrDefault())&lt;/td&gt;\n</code></pre>\n\n<p>should be changed to</p>\n\n<pre><code>&lt;td&gt;@Model.Album.Where(x =&gt; x.Id == Model.ThisAlbumId).FirstOrDefault()&lt;/td&gt;\n</code></pre>\n\n<p>What I've done is eliminate the <code>.DisplayFor</code>. As the error shows, template methods like <code>.DisPlayFor</code> cannot be used with methods or other lambda-type expressions.</p>\n\n<p>However, another issue is that since you're calling <code>.FirstOrDefault</code> which will return an <code>Album</code> instance or <code>null</code>. Since what you want is the <code>.AlbumId</code> property, then I suggest the following edit:</p>\n\n<pre><code>&lt;td&gt;\n @{\n     var oneItem = Model.FirstOrDefault(x =&gt; x.Id == Model.ThisAlbumId);\n     //Notice that I used \"Model\" and not \"model\". The difference is huge!\n     if (oneItem != null)\n     {\n        Html.Raw(oneItem.AlbumId);\n     }\n  }\n&lt;/td&gt;\n</code></pre>\n"}], "owner": {"reputation": 609, "user_id": 1390093, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a71cc2a6b1240dc5217dbfa471dbf674?s=128&d=identicon&r=PG", "display_name": "mkmitchell", "link": "https://stackoverflow.com/users/1390093/mkmitchell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 39497046, "answer_count": 1, "score": 0, "last_activity_date": 1473876787, "creation_date": 1473874783, "last_edit_date": 1592644375, "question_id": 39496559, "link": "https://stackoverflow.com/questions/39496559/displaying-a-model-list-item-variable-from-a-view-that-uses-a-different-model", "title": "Displaying a model list item variable from a view that uses a different model", "body": "<p>I have a setup similar to <a href=\"https://stackoverflow.com/questions/7849681/asp-net-mvc-how-to-link-2-models-need-some-explanation\">this post</a> and am trying to use a html helper to display a specific item from the list of items in a separate model based on a lambda expression.</p>\n<p>I'll use Album and Genre in my example.</p>\n<pre><code>namespace MvcMusicStore.Models\n{\n    public class Album\n    {\n        public int      AlbumId     { get; set; }\n        public int      GenreId     { get; set; }\n        public int      ArtistId    { get; set; }\n        public string   Title       { get; set; }\n        public decimal  Price       { get; set; }\n        public string   AlbumArtUrl { get; set; }\n        public Genre    Genre       { get; set; }\n    }\n}\nnamespace MvcMusicStore.Models\n{\n    public partial class Genre\n    {\n        public int      GenreId     { get; set; }\n        public string   Name        { get; set; }\n        public string   Description { get; set; }\n        public string   ThisAlbumId     { get; set; }\n        public List&lt;Album&gt; Albums   { get; set; }\n    }\n}\n</code></pre>\n<p>There is a view that uses the Genre model and I'm attempting to display an Album.Title where Album.AlbumId == Genre.AlbumId</p>\n<pre><code>@foreach (var item in Model.Albums.Where(x=&gt;x.AlbumId == Model.ThisAlbumId))\n{\n     &lt;td&gt;@Html.DisplayFor(modelItem =&gt; item.Title)&lt;/td&gt;\n}\n</code></pre>\n<p>It should only return one AlbumId.  Currently I'm getting a &quot;Value cannot be null&quot; error.  I've also tried</p>\n<pre><code>  &lt;td&gt;@Html.DisplayFor(model =&gt; model.Album.Where(x =&gt; x.Id == model.ThisAlbumId).FirstOrDefault())&lt;/td&gt;\n</code></pre>\n<p>but I get error:</p>\n<blockquote>\n<p>Templates can be used only with field access, property access, single-dimension array index, or single-parameter custom indexer expressions</p>\n</blockquote>\n<p>Any help or guidance is greatly appreciated.</p>\n"}, {"tags": ["c#", "webbrowser-control", "fiddlercore"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2361927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2846f7273425e8e9523e80c0be6248ed?s=128&d=identicon&r=PG", "display_name": "Huy Fur", "link": "https://stackoverflow.com/users/2361927/huy-fur"}, "edited": false, "score": 0, "creation_date": 1473902600, "post_id": 39496920, "comment_id": 66321101, "body": "How can i use WebBrowser.Stop() when I declare like that :  new Webbrowser().Navigate(url);"}], "tags": [], "owner": {"reputation": 6795, "user_id": 6625726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TM1TR.jpg?s=128&g=1", "display_name": "Timo Salom&#228;ki", "link": "https://stackoverflow.com/users/6625726/timo-salom%c3%a4ki"}, "is_accepted": false, "score": 0, "last_activity_date": 1473876670, "last_edit_date": 1473876670, "creation_date": 1473876289, "answer_id": 39496920, "question_id": 39496480, "link": "https://stackoverflow.com/questions/39496480/c-webbrowser-in-loop-and-fiddlercore/39496920#39496920", "title": "C# WebBrowser in loop and Fiddlercore", "body": "<p>Use <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.stop(v=vs.110).aspx\" rel=\"nofollow\">WebBrowser.Stop()</a> to stop all loading.</p>\n\n<blockquote>\n  <p>Cancels any pending navigation and stops any dynamic page elements, such as background sounds and animations.</p>\n</blockquote>\n\n<p><strong>Edit:</strong> Also, you need to save a reference to those WebBrowser controls you're creating, so that you can actually call the <code>Stop</code> method for them. The way you use them now is quite strange and might lead to problems down the line (actually it led to problems already).</p>\n"}], "owner": {"reputation": 1, "user_id": 2361927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2846f7273425e8e9523e80c0be6248ed?s=128&d=identicon&r=PG", "display_name": "Huy Fur", "link": "https://stackoverflow.com/users/2361927/huy-fur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473876670, "creation_date": 1473874469, "last_edit_date": 1473876498, "question_id": 39496480, "link": "https://stackoverflow.com/questions/39496480/c-webbrowser-in-loop-and-fiddlercore", "title": "C# WebBrowser in loop and Fiddlercore", "body": "<p>I use Fiddlercore to capture multiple url's at the same time inside a loop. </p>\n\n<p>Example:    </p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n{\n    // I have 2 url \n    string arr = new string[]{ url1, url2 };\n    foreach(var url in arr)\n    {\n       new Webbrowser().Navigate(url);\n    }\n\n    Fiddler.FiddlerApplication.AfterSessionComplete \n        += new Fiddler.SessionStateHandler(FiddlerApplication_AfterSessionComplete);\n    }\n\n    // I will catch 2 oSession contain same string \"a/b/c\" in 2 URL from 2 Webbrowser in loop \n   int Count = 0;\n   void FiddlerApplication_AfterSessionComplete(Fiddler.Session oSession)\n   {\n       if(oSession.fullUrl.contain(\"a/b/c\"))\n       {\n           Count+= 1;\n           richtextbox1.AppendText(\"oSession.fullUrl\" + \"\\n\");\n       }\n\n       if(Count == 2)\n       {\n           Count = 0;\n           StopFiddler();\n       }\n   }\n\nvoid StopFiddler()\n{\n    Fiddler.FiddlerApplication.AfterSessionComplete \n        -= new Fiddler.SessionStateHandler(FiddlerApplication_AfterSessionComplete);\n}\n</code></pre>\n\n<p>This works but I have a problem. Fiddlercore stops the capture session, but the web browser doesn't stop, it's still loading.</p>\n\n<p>How to stop the WebBrowser from loading after I get what I need.</p>\n"}, {"tags": ["c#", "ios", "objective-c", "unity5", "replaykit"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6832031, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157388583150117/picture?type=large", "display_name": "Tim Mutlow", "link": "https://stackoverflow.com/users/6832031/tim-mutlow"}, "is_accepted": true, "score": 0, "last_activity_date": 1475750658, "creation_date": 1475750658, "answer_id": 39893911, "question_id": 39496439, "link": "https://stackoverflow.com/questions/39496439/unable-to-dismiss-the-previewviewcontroller-when-using-ios-replaykit-with-unity/39893911#39893911", "title": "Unable to Dismiss the PreviewViewController when Using iOS ReplayKit with Unity 5.3.4 via Custom Plugin", "body": "<p>I finally sorted it after trying a few things but I believe the problem was how I was setting the <code>previewControllerDelegate</code> with</p>\n\n<pre><code>previewController.previewControllerDelegate = self;\n</code></pre>\n\n<p>And have since changed it to use</p>\n\n<pre><code>[previewController setPreviewControllerDelegate:self];\n</code></pre>\n\n<p>Which seems to work!</p>\n\n<p>Thanks to all who checked out my question and I hope this helps someone out there!</p>\n"}], "owner": {"reputation": 11, "user_id": 6832031, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157388583150117/picture?type=large", "display_name": "Tim Mutlow", "link": "https://stackoverflow.com/users/6832031/tim-mutlow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "accepted_answer_id": 39893911, "answer_count": 1, "score": 1, "last_activity_date": 1475750658, "creation_date": 1473874290, "last_edit_date": 1474564516, "question_id": 39496439, "link": "https://stackoverflow.com/questions/39496439/unable-to-dismiss-the-previewviewcontroller-when-using-ios-replaykit-with-unity", "title": "Unable to Dismiss the PreviewViewController when Using iOS ReplayKit with Unity 5.3.4 via Custom Plugin", "body": "<p>I am attempting to use ReplayKit's native screen recording functionality along with my Unity app so that I can enjoy the benefits of native screen recording and sharing UI.</p>\n\n<p>I have created a Unity plugin which calls my native code written in Objective-C(++) and everything seems to work fine up until it comes to dismissing the <code>RPPreviewViewController</code>.</p>\n\n<p>So my record button in the Unity UI triggers the ReplayKit <code>startRecordingWithMicrophoneEnabled:handler</code> function and the stop button correctly calls the stopRecording function which returns the <code>RPPreviewViewController</code> instance to my handler.  </p>\n\n<p>In the <code>RPPreviewViewController</code>, the \"Save\" button correctly saves to the camera roll and the share button works as expected.  But Tapping \"Cancel\" (or \"Done\" depending on the context) does nothing.</p>\n\n<p>Here is the code in my <code>stopRecordingWithHandler:</code> function which deals with the <code>RPPreviewViewController</code>:</p>\n\n<pre><code> - (void) stopRecording {\n\n     [[RPScreenRecorder sharedRecorder] stopRecordingWithHandler:^(RPPreviewViewController *previewController,NSError *error){\n     if (previewController != nil) {\n\n         previewController.previewControllerDelegate = self;\n\n         [previewController willMoveToParentViewController:rootView];\n\n         [rootView addChildViewController:previewController];\n\n         previewController.view.frame = CGRectMake(0.0, 0.0, rootView.view.bounds.size.width, rootView.view.bounds.size.height);\n\n         [rootView.view addSubview:previewController.view];\n\n         self.presentedController = previewController;\n\n     } else {\n         NSString *msg = [NSString stringWithFormat:@\"The screen recorder is unavailable:\\n%@\", [error localizedDescription]];\n         [self displayMessageDialog:msg];\n     }\n }];\n}\n\n// Implementation of PreviewControllerDelegate protocol\n- (void)previewControllerDidFinish:(RPPreviewViewController *)previewController {\n\n    [previewController willMoveToParentViewController:nil];\n\n    [previewController.view removeFromSuperview];\n\n    [previewController removeFromParentViewController];\n\n    self.presentedController = nil;\n\n}\n</code></pre>\n\n<p>As you can see, I have implemented the protocol for <code>RPPreviewViewControllerDelegate</code> and attempt to dismiss the view on its is closed event but the delegate function is never being called.</p>\n\n<p>I can't figure out what is wrong, is it something I've coded wrong or is there an intricacy when using with Unity?</p>\n\n<p>I'm stuck so any pointers would be much appreciated!</p>\n\n<p>UPDATE:\n<code>rootView</code> is used in the above code so here is how I retrieved that reference in the the <code>init</code> function:</p>\n\n<pre><code>static UIViewController *rootView;\n\n- (ReplayKitController*) init {\n    self = [super init];\n\n    if(self &amp;&amp; rootView == nil) {\n        rootView = [[UIApplication sharedApplication] windows][0].rootViewController;\n    }\n\n    return self;\n}\n</code></pre>\n"}, {"tags": ["c#", "sockets", "zeromq", "netmq"], "answers": [{"tags": [], "owner": {"reputation": 3151, "user_id": 1035802, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3e874d05fbf492bfdbde207bc45ca111?s=128&d=identicon&r=PG", "display_name": "Steven Muhr", "link": "https://stackoverflow.com/users/1035802/steven-muhr"}, "is_accepted": true, "score": 0, "last_activity_date": 1474447266, "creation_date": 1474447266, "answer_id": 39611531, "question_id": 39496431, "link": "https://stackoverflow.com/questions/39496431/zmq-netmq-a-non-blocking-socket-operation-could-not-be-completed/39611531#39611531", "title": "ZMQ NetMQ - A non-blocking socket operation could not be completed", "body": "<p>The dealerSocket was used in 2 threads : main &amp; poller.\nIn order to use the dealerSocket in only one thread we used a NetMQQueue.</p>\n\n<p>More details <a href=\"https://github.com/zeromq/netmq/issues/615\" rel=\"nofollow\">here</a></p>\n"}], "owner": {"reputation": 3151, "user_id": 1035802, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3e874d05fbf492bfdbde207bc45ca111?s=128&d=identicon&r=PG", "display_name": "Steven Muhr", "link": "https://stackoverflow.com/users/1035802/steven-muhr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 612, "favorite_count": 0, "accepted_answer_id": 39611531, "answer_count": 1, "score": 1, "last_activity_date": 1474447266, "creation_date": 1473874261, "question_id": 39496431, "link": "https://stackoverflow.com/questions/39496431/zmq-netmq-a-non-blocking-socket-operation-could-not-be-completed", "title": "ZMQ NetMQ - A non-blocking socket operation could not be completed", "body": "<p>I have the following pattern :</p>\n\n<p>Multiples threads are sending messages to a ConcurrentQueue that is polled by a single threaded <strong>Dealer</strong> in order to send messages to a <strong>Router</strong>.</p>\n\n<p>The following exception is raised when multiples messages are sent :</p>\n\n<blockquote>\n  <p>\"SocketException - A non-blocking socket operation could not be\n  completed\"</p>\n</blockquote>\n\n<p>Here is the code of the thread that dequeues messages and send it to the dealer :</p>\n\n<pre><code>Task.Factory.StartNew((state) =&gt;\n        {\n            using (NetMQSocket dealerSocket = new DealerSocket(_connectionString))\n            using (NetMQPoller poller = new NetMQPoller() { dealerSocket })\n            {\n                dealerSocket.ReceiveReady += DealerSocketOnReceiveReady;\n                poller.RunAsync();\n\n                while (true)\n                {\n                    Message&lt;T&gt; message;\n                    if (!_concurrentQueue.TryDequeue(out message)) continue;\n\n                    _pendingRequests.Add(message.Id, message);\n                    var mpm = new NetMQMessage(4);\n                    mpm.AppendEmptyFrame();\n                    mpm.Append(message.Body);\n                    mpm.AppendEmptyFrame();\n                    mpm.Append(message.Id.ToString());\n                    dealerSocket.SendMultipartMessage(mpm);\n                }\n            }\n        }, TaskCreationOptions.LongRunning, _cancellationTokenSource.Token);\n</code></pre>\n\n<p>The SocketException occured when sending the MultipartMessage</p>\n\n<p>I have tried to increase the SendBuffer size and/or the SendHighWatermark size but I still have the same error.</p>\n\n<p>Do I need to handle this exception and reset the socket or I should never be in this case?</p>\n"}]