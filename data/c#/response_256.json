[{"tags": ["c#", "wpf", "mvvm", "data-binding", "datagrid"], "comments": [{"owner": {"reputation": 286, "user_id": 10920460, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HMHcLfPGNAQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ4LZ7DmAHlJIhN15mODVn1fbZ4KQ/mo/photo.jpg?sz=128", "display_name": "Byoung Sam Moon", "link": "https://stackoverflow.com/users/10920460/byoung-sam-moon"}, "edited": false, "score": 0, "creation_date": 1575505775, "post_id": 59186304, "comment_id": 104593202, "body": "what is you viewmodel&#39;s base class?"}, {"owner": {"reputation": 763, "user_id": 4850762, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6f44faf197f902680f79634af63d94dc?s=128&d=identicon&r=PG&f=1", "display_name": "Kaspatoo", "link": "https://stackoverflow.com/users/4850762/kaspatoo"}, "reply_to_user": {"reputation": 286, "user_id": 10920460, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HMHcLfPGNAQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ4LZ7DmAHlJIhN15mODVn1fbZ4KQ/mo/photo.jpg?sz=128", "display_name": "Byoung Sam Moon", "link": "https://stackoverflow.com/users/10920460/byoung-sam-moon"}, "edited": false, "score": 0, "creation_date": 1575535835, "post_id": 59186304, "comment_id": 104601692, "body": "see my edit above"}], "answers": [{"comments": [{"owner": {"reputation": 763, "user_id": 4850762, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6f44faf197f902680f79634af63d94dc?s=128&d=identicon&r=PG&f=1", "display_name": "Kaspatoo", "link": "https://stackoverflow.com/users/4850762/kaspatoo"}, "edited": false, "score": 0, "creation_date": 1575535787, "post_id": 59187161, "comment_id": 104601666, "body": "ok, this is indeed working. I just thought of something like this which is in fact creating a local variable in the main controls head, store all variables u need in temp-controls and reuse them by x:Name. Thanks for this. But before choosing this as the correct answer, I would like to await to know why all the other ways dont work. Is it a problem with datagrid? At least Ancestor-Search should work, shouldnt it? I probably am switching to a ListView, there it seems to work with one solution from above."}], "tags": [], "owner": {"reputation": 2861, "user_id": 1175935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42b57b079954c18fdde646962bbd6107?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1175935/jon"}, "is_accepted": true, "score": 3, "last_activity_date": 1575511426, "creation_date": 1575511426, "answer_id": 59187161, "question_id": 59186304, "link": "https://stackoverflow.com/questions/59186304/c-wpf-binding-to-parent-viewmodel-within-datagrid-not-working/59187161#59187161", "title": "C# WPF - Binding to parent-ViewModel within DataGrid not working", "body": "<p>I just went through the same thing. There are several methods posted for getting around this and I can see you have tried some, but none of them worked for me either except one. \nCreate a control just above your datagrid and give it a name:</p>\n\n<pre><code>&lt;TextBlock x:Name=\"tempcontrol\" Text=\"{Binding HeaderText}\" Visibility=\"Collapsed\"/&gt;\n</code></pre>\n\n<p>and then bind this temp control to the data you want and set it's visibility to collapsed.</p>\n\n<p>Then bind your DataGridColumn to the temp controls property:</p>\n\n<pre><code>&lt;DataGridTextColumn Header=\"{Binding Path=Text, Source={x:Reference tempControl}}\"/&gt;\n</code></pre>\n\n<p>My case was little different because I was binding to the Visibilty property so I used a FrameworkElement instead of a TextBlock for the dummy control, but I think this should work as well.</p>\n"}, {"tags": [], "owner": {"reputation": 763, "user_id": 4850762, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6f44faf197f902680f79634af63d94dc?s=128&d=identicon&r=PG&f=1", "display_name": "Kaspatoo", "link": "https://stackoverflow.com/users/4850762/kaspatoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1575543533, "last_edit_date": 1575543533, "creation_date": 1575539958, "answer_id": 59192509, "question_id": 59186304, "link": "https://stackoverflow.com/questions/59186304/c-wpf-binding-to-parent-viewmodel-within-datagrid-not-working/59192509#59192509", "title": "C# WPF - Binding to parent-ViewModel within DataGrid not working", "body": "<p>As mentioned in the mainpost (edit 3), it indeed is not working with datagrid.\nBut using DataView can handle that.</p>\n\n<p>Using a ListView with an inner GridView instead of a DataGrid also is possible to solve that.\nWith that the following bindings do work:</p>\n\n<pre><code>&lt;GridViewColumn Header=\"{Binding HoehenbezugsrahmenDataGridLabel, FallbackValue='HoehenbezugsrahmenDataGridLabel'}\" DisplayMemberBinding=\"{Binding Hoehenbezugsrahmen}\" Width=\"250\" /&gt;\n&lt;GridViewColumn Header=\"{Binding ElementName=myControl, Path=DataContext.TransformationDataGridLabel, FallbackValue='AnzPunkteGeoMonDataGridLabel'}\" DisplayMemberBinding=\"{Binding Transformation}\" Width=\"250\" /&gt;\n&lt;GridViewColumn Header=\"{Binding Path=Text, Source={x:Reference tmpHeader}}\" DisplayMemberBinding=\"{Binding AnzPunkteGeoMon}\" Width=\"250\" /&gt;\n\n\n&lt;GridViewColumn DisplayMemberBinding=\"{Binding Ursprungsraumbezug}\" Width=\"250\"&gt;\n    &lt;GridViewColumn.HeaderTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;TextBlock Text=\"{Binding ElementName=myControl, Path=DataContext.TransformationDataGridLabel, FallbackValue='AnzPunkteGeoMonDataGridLabel'}\"/&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/GridViewColumn.HeaderTemplate&gt;\n&lt;/GridViewColumn&gt;\n&lt;GridViewColumn DisplayMemberBinding=\"{Binding Ursprungsraumbezug}\" Width=\"250\"&gt;\n    &lt;GridViewColumn.HeaderTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;TextBlock Text=\"{Binding Path=Text, Source={x:Reference tmpHeader}}\"/&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/GridViewColumn.HeaderTemplate&gt;\n&lt;/GridViewColumn&gt;\n</code></pre>\n\n<p>All other mentioned bindings do not work, headers keep being empty.\nAgain using Ancestor does not work.</p>\n\n<p>Especially the first approach is the shortest one.\nDue to this I am going to change from DataGrid to ListView.</p>\n"}], "owner": {"reputation": 763, "user_id": 4850762, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6f44faf197f902680f79634af63d94dc?s=128&d=identicon&r=PG&f=1", "display_name": "Kaspatoo", "link": "https://stackoverflow.com/users/4850762/kaspatoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 757, "favorite_count": 1, "accepted_answer_id": 59187161, "answer_count": 2, "score": 0, "last_activity_date": 1575543533, "creation_date": 1575503997, "last_edit_date": 1575543471, "question_id": 59186304, "link": "https://stackoverflow.com/questions/59186304/c-wpf-binding-to-parent-viewmodel-within-datagrid-not-working", "title": "C# WPF - Binding to parent-ViewModel within DataGrid not working", "body": "<p>I am trying to access a binding to my ViewModels' DependencyProperty from within a DataGrid after it is binded to an itemssource.\nWhile from outside the DataGrid Bindings work well and Bindings within the DataGrid work for elements of the Itemssource well too, I am not able to get a binding to my viewModel within the DataGrid.\nI tried several aproaches.</p>\n\n<p>I want to use that non-working binding to achieve:\n- load the column-header via a dependency Property from the viewModel\n- load a bool Value from the ViewModel which determines whether a column is read-only</p>\n\n<p>This is one of my DependencyProperties I have specified in the ViewModel:</p>\n\n<pre><code>public static readonly DependencyProperty FirstColDataGridLabelProperty = DependencyProperty.Register(\n            \"FirstColDataGridLabel\", typeof(string), typeof(MyVm), new PropertyMetadata(default(string)));\n</code></pre>\n\n<p>In the constructor of the viewlModel some values are assigned to the dependencyProperties.</p>\n\n<p><strong>Edit:</strong> Added the bounding grid and UserControl-Tag to the Data-Grid:\nMyList is a List, containing the data (FirstCol, SecondCol, etc.)</p>\n\n<pre><code>&lt;UserControl x:Class=\"Aidb.GeoMonPlus.Wpf.Control.EditSpatialReferenceListControl\"\n             xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n             xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" \n             xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n             xmlns:viewModel=\"clr-namespace:Aidb.GeoMonPlus.ViewModel.Control;assembly=Aidb.GeoMonPlus.ViewModel\"\n             Width=\"Auto\"\n             Height=\"Auto\"\n             MinWidth=\"400\"\n             MinHeight=\"200\"\n             mc:Ignorable=\"d\" \n             d:DesignHeight=\"400\" d:DesignWidth=\"1000\"\n             x:Name=\"myControl\"&gt;\n    &lt;Grid&gt;\n&lt;DataGrid Grid.Column=\"0\" Grid.Row=\"0\"\n    ItemsSource=\"{Binding MyList}\"\n    CanUserResizeColumns=\"True\"\n    CanUserResizeRows=\"True\"\n    CanUserSortColumns=\"True\"\n    CanUserAddRows=\"False\"\n    AlternatingRowBackground=\"Gainsboro\"\n    AlternationCount=\"2\"\n    AutoGenerateColumns=\"False\"\n    BorderBrush=\"Black\"\n    GridLinesVisibility=\"Vertical\"&gt;\n    &lt;DataGrid.Columns&gt;\n        &lt;DataGridTextColumn Header=\"{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type viewModel:MyVm}}, Path=FirstColDataGridLabel}\" Binding=\"{Binding FirstCol}\" Width=\"Auto\" IsReadOnly=\"True\"/&gt;\n        &lt;DataGridTextColumn Header=\"{Binding SecondColDataGridLabel, FallbackValue='AnzeigeraumbezugDataGridLabel'}\" Binding=\"{Binding (viewModel:EditSpatialReferenceListVm.GCSDataGridLabel) }\" Width=\"Auto\" IsReadOnly=\"True\"/&gt;\n        &lt;DataGridTextColumn Header=\"{Binding (viewModel:MyVm.ThirdColDataGridLabel)}\" Binding=\"{Binding ThirdCol}\" Width=\"Auto\" IsReadOnly=\"True\"/&gt;\n        &lt;DataGridTextColumn Header=\"{Binding ElementName=myControl, Path=DataContext.FourthColDataGridLabel}\" Binding=\"{Binding FourthCol}\" Width=\"Auto\" IsReadOnly=\"True\"&gt;\n            &lt;DataGridTextColumn.CellStyle&gt;\n                &lt;Style TargetType=\"DataGridCell\"&gt;\n                    &lt;Setter Property=\"Margin\" Value=\"0,0,-1,0\"&gt;&lt;/Setter&gt;\n                &lt;/Style&gt;\n            &lt;/DataGridTextColumn.CellStyle&gt;\n        &lt;/DataGridTextColumn&gt;\n    &lt;/DataGrid.Columns&gt;\n&lt;/DataGrid&gt;\n&lt;Button Grid.Column=\"0\" Grid.Row=\"1\"\n    Margin=\"0,20,0,20\"\n    Width=\"75\"\n    Height=\"Auto\"\n    HorizontalAlignment=\"Left\"\n    VerticalAlignment=\"Center\"\n    Command=\"{Binding BtnShowSubmit}\"\n    Content=\"{Binding BtnShowLabel, FallbackValue='BtnShowLabel'}\" /&gt;\n</code></pre>\n\n<p>None of the four tries for a dataBinding for the header-names are working. All headers of the table are empty or the fallback-value is shown.</p>\n\n<p>The binding of the itemssource works, data is shown as expected in the datagrid.\nThe binding in the button to show the buttons text works as expected.</p>\n\n<p>Is this just not possible for DataGrid or how do I access ViewModels' DependecyProperties from inside the dataGrid after it was binded to an itemssource?</p>\n\n<p><strong>Edit2:</strong>\nAs it was asked, this is my ViewModels Base Class:</p>\n\n<pre><code>public class ViewModelBase : DependencyObject, INotifyPropertyChanged\n{\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    protected static void PropertyChangedCallback(DependencyObject sender, DependencyPropertyChangedEventArgs args)\n    {\n        var vmBase = sender as ViewModelBase;\n        vmBase?.OnPropertyChanged(args.Property.Name);\n    }\n\n    protected virtual void OnPropertyChanged(string propertyName)\n    {\n        PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n    }\n}\n</code></pre>\n\n<p><strong>Edit3:</strong></p>\n\n<p>I found some errormessages:</p>\n\n<blockquote>\n  <p>System.Windows.Data Error: 4 : Cannot find source for binding with\n  reference 'RelativeSource FindAncestor,\n  AncestorType='MyProject.ViewModel.Control.EditSpatialReferenceListVm',\n  AncestorLevel='1''. BindingExpression:Path=GCSDataGridLabel;\n  DataItem=null; target element is 'DataGridTextColumn'\n  (HashCode=8060118); target property is 'Header' (type 'Object')</p>\n</blockquote>\n\n<p>or</p>\n\n<blockquote>\n  <p>System.Windows.Data Error: 2 : Cannot find governing FrameworkElement\n  or FrameworkContentElement for target element.\n  BindingExpression:Path=(viewModel:EditSpatialReferenceListVm.GCSDataGridLabel);\n  DataItem=null; target element is 'DataGridTextColumn'\n  (HashCode=16639474); target property is 'Header' (type 'Object')</p>\n</blockquote>\n\n<p>Searching for this leads to that post:\n<a href=\"https://stackoverflow.com/questions/7660967/wpf-error-cannot-find-governing-frameworkelement-for-target-element\">WPF Error: Cannot find governing FrameworkElement for target element</a>\nWhere it is stated out from user 'WPF-it' that:</p>\n\n<blockquote>\n  <p>Sadly any DataGridColumn hosted under DataGrid.Columns is not part of\n  Visual tree and therefore not connected to the data context of the\n  datagrid.</p>\n</blockquote>\n\n<p>He suggest to use a proxy-control.</p>\n"}, {"tags": ["c#", "task-parallel-library", "tpl-dataflow", "cancellationtokensource", "cancellation-token"], "comments": [{"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1575504482, "post_id": 59186297, "comment_id": 104592890, "body": "The <code>DoStuff</code> method doesn&#39;t seem to be cancelable, since it&#39;s not accepting a <code>CancellationToken</code> parameter. Could you include the code of this method in your question?"}, {"owner": {"reputation": 71, "user_id": 2972161, "user_type": "registered", "profile_image": "https://graph.facebook.com/677531120/picture?type=large", "display_name": "PastExpiry.com", "link": "https://stackoverflow.com/users/2972161/pastexpiry-com"}, "reply_to_user": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1575558538, "post_id": 59186297, "comment_id": 104614048, "body": "As I said, the code shown is very stripped down, and my main question was HOW to replace (or modify) &quot;i&quot; in DoStuff(i) with code that would make each work element individually cancel-able. Sorry if it was unclear.  Kinda like &quot;I have these words, but how do I string a sentence&quot;."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1575562117, "post_id": 59186297, "comment_id": 104616061, "body": "So would you like to know how to make a cancelable method? The official tutorial is <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/threading/cancellation-in-managed-threads\" rel=\"nofollow noreferrer\">here</a>, and it is quite good."}, {"owner": {"reputation": 71, "user_id": 2972161, "user_type": "registered", "profile_image": "https://graph.facebook.com/677531120/picture?type=large", "display_name": "PastExpiry.com", "link": "https://stackoverflow.com/users/2972161/pastexpiry-com"}, "reply_to_user": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1575564144, "post_id": 59186297, "comment_id": 104617187, "body": "I looked at it but doesn&#39;t seem to have any examples for the TPL-Dataflow approach which I am using (and starting to regret)."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1575565512, "post_id": 59186297, "comment_id": 104617872, "body": "What about the <a href=\"https://stackoverflow.com/a/59186898/11178549\">solution</a> proposed by John Wu? Isn&#39;t it sufficient?"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 2972161, "user_type": "registered", "profile_image": "https://graph.facebook.com/677531120/picture?type=large", "display_name": "PastExpiry.com", "link": "https://stackoverflow.com/users/2972161/pastexpiry-com"}, "edited": false, "score": 0, "creation_date": 1575565360, "post_id": 59186898, "comment_id": 104617790, "body": "I am clueless as to where this line goes, and why work is referenced.  work in my sample code is just an upper limit integer for the &#39;for loop&#39; that is posting messages via throttle.post(i):    var sources = work.Select( w =&gt; new CancellationTokenSource()).ToList();"}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "reply_to_user": {"reputation": 71, "user_id": 2972161, "user_type": "registered", "profile_image": "https://graph.facebook.com/677531120/picture?type=large", "display_name": "PastExpiry.com", "link": "https://stackoverflow.com/users/2972161/pastexpiry-com"}, "edited": false, "score": 0, "creation_date": 1575566815, "post_id": 59186898, "comment_id": 104618511, "body": "<code>work</code> has a <code>Length</code> property so I assumed it is an <code>IEnumerable</code> of some kind (e.g. an array or List). If so, you can use LINQ extension methods on it, such as <code>Select</code>. Selecting over the IEnumerable results in a list with the same number of elements, which is what you need-- one element per CancellationTokenSource."}, {"owner": {"reputation": 71, "user_id": 2972161, "user_type": "registered", "profile_image": "https://graph.facebook.com/677531120/picture?type=large", "display_name": "PastExpiry.com", "link": "https://stackoverflow.com/users/2972161/pastexpiry-com"}, "edited": false, "score": 0, "creation_date": 1575570623, "post_id": 59186898, "comment_id": 104620233, "body": "I should probably remove the for loop as it is muddying the waters.  The actionBlock is inside a dataflow network &quot; ITargetBlock&lt;string&gt; CreateProcessingNetwork()  &quot;   A button click posts a string message to this ITargetBlock which I named &#39;HeadBlock&#39; in the public class Form1. This post message is done with headBlock.Post(newjob2add_string);   My confusion lies in where to create the cancellation token and where to maintain this list of tokens...  inside ITargetBlock?"}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "reply_to_user": {"reputation": 71, "user_id": 2972161, "user_type": "registered", "profile_image": "https://graph.facebook.com/677531120/picture?type=large", "display_name": "PastExpiry.com", "link": "https://stackoverflow.com/users/2972161/pastexpiry-com"}, "edited": false, "score": 0, "creation_date": 1575570978, "post_id": 59186898, "comment_id": 104620415, "body": "Depends where the code is that needs to be able to cancel the tasks. Put it somewhere within its scope."}], "tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": true, "score": 1, "last_activity_date": 1575509130, "creation_date": 1575509130, "answer_id": 59186898, "question_id": 59186297, "link": "https://stackoverflow.com/questions/59186297/cancelling-specific-task-in-a-dataflow-actionblock/59186898#59186898", "title": "Cancelling specific task in a dataflow ActionBlock", "body": "<p>If you want to be able to stop them, you need a list of cancellation token sources so that you can signal them individually. If you want one per element in <code>work</code> you could just select over it:</p>\n\n<pre><code>var sources = work.Select( w =&gt; new CancellationTokenSource()).ToList();\n</code></pre>\n\n<p>Then, you have to modify <code>DoStuff</code> to check the token:</p>\n\n<pre><code>void DoStuff(int i, CancellationToken token)\n{\n    while (!token.IsCancellationRequested)\n    {\n        //Do the rest of the stuff\n    }\n}\n</code></pre>\n\n<p>And you need to pass it when you call it:</p>\n\n<pre><code>ActionBlock&lt;int&gt; throttle = new ActionBlock&lt;int&gt;(\n    action: i=&gt;DoStuff(i, sources[i].Token),  //&lt;--- modified\n    dataflowBlockOptions: new ExecutionDataflowBlockOptions\n    {\n        MaxDegreeOfParallelism = 10,\n        CancellationToken = cts.Token\n    });\n</code></pre>\n\n<p>Then to cancel an individual task, call:</p>\n\n<pre><code>sources[i].Cancel();\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 2972161, "user_type": "registered", "profile_image": "https://graph.facebook.com/677531120/picture?type=large", "display_name": "PastExpiry.com", "link": "https://stackoverflow.com/users/2972161/pastexpiry-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 59186898, "answer_count": 1, "score": 0, "last_activity_date": 1575509130, "creation_date": 1575503946, "question_id": 59186297, "link": "https://stackoverflow.com/questions/59186297/cancelling-specific-task-in-a-dataflow-actionblock", "title": "Cancelling specific task in a dataflow ActionBlock", "body": "<p>After spending all day searching I came across a comment that TPL Dataflow cancellation comes out of the box as a way to cancel an entire block, and not an individual task/item.    My main stumbling block is how do I go about cancelling Task #5 if my Action block is concurrently running 10 tasks in parallel?   There are quite a few cancellation examples out there, but they all use just one cancellation token, and end up cancelling Task #5 and all the tasks after it.</p>\n\n<p>Here is some very stripped down code.  I am guessing I have to pass something along with \"i\", but unclear how to programatically create unique cancellation tokens, coupled with the fact I may need anywhere from 1 to 10 of them in this particular example.  Even if I create a cancellation token in the mouse-click method, do I then have to check it against existing tokens to make sure it is unique? So confused.</p>\n\n<pre><code>            // Define the action block\n        ActionBlock&lt;int&gt; throttle = new ActionBlock&lt;int&gt;(\n            action: i=&gt;DoStuff(i),\n            dataflowBlockOptions: new ExecutionDataflowBlockOptions\n            {\n                MaxDegreeOfParallelism = 10,\n                CancellationToken = cts.Token\n            });\n\n        // Create the work set (pretend it is a mouse-click method... it will not be a for loop)\n        for (int i = 0; i &lt; work.Length; i++)\n        {\n            Console.WriteLine($\"{i:D3} : Posting Work Item {i}.\");\n            throttle.Post(i);\n        }\n</code></pre>\n"}, {"tags": ["c#", "google-drive-api"], "comments": [{"owner": {"reputation": 47, "user_id": 4818451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/593c9a0fabd9d825bd989899f075a702?s=128&d=identicon&r=PG&f=1", "display_name": "Dheeraj Dhondalkar", "link": "https://stackoverflow.com/users/4818451/dheeraj-dhondalkar"}, "edited": false, "score": 0, "creation_date": 1575504854, "post_id": 59186229, "comment_id": 104592981, "body": "I have tried even with .p12 file. No luck. I am getting back fileid but no file on drive."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 4818451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/593c9a0fabd9d825bd989899f075a702?s=128&d=identicon&r=PG&f=1", "display_name": "Dheeraj Dhondalkar", "link": "https://stackoverflow.com/users/4818451/dheeraj-dhondalkar"}, "edited": false, "score": 0, "creation_date": 1575909710, "post_id": 59192634, "comment_id": 104716110, "body": "Thank you!! However for small projects without domain, it wont work. Getting domain is costly affair as far as small projects are concerned. I found solution by just giving permission. Now it works perfectly fine. However i am not able to delete files and folder which I had created earlier while testing. No problem, I can delete the project and create new one!!"}, {"owner": {"reputation": 19106, "user_id": 11599789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1l1AT.jpg?s=128&g=1", "display_name": "ziganotschka", "link": "https://stackoverflow.com/users/11599789/ziganotschka"}, "reply_to_user": {"reputation": 47, "user_id": 4818451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/593c9a0fabd9d825bd989899f075a702?s=128&d=identicon&r=PG&f=1", "display_name": "Dheeraj Dhondalkar", "link": "https://stackoverflow.com/users/4818451/dheeraj-dhondalkar"}, "edited": false, "score": 0, "creation_date": 1575909931, "post_id": 59192634, "comment_id": 104716217, "body": "I am glad you found a solution! However, even if you do not have a domain, I believe you can make the service account impersonate you?"}, {"owner": {"reputation": 47, "user_id": 4818451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/593c9a0fabd9d825bd989899f075a702?s=128&d=identicon&r=PG&f=1", "display_name": "Dheeraj Dhondalkar", "link": "https://stackoverflow.com/users/4818451/dheeraj-dhondalkar"}, "edited": false, "score": 0, "creation_date": 1575971318, "post_id": 59192634, "comment_id": 104736742, "body": "Yes, I am able to do that. Now I have one issue left to solve!! I am able to delete a file but not able to delete folder. What permission is required to service account to delete folder?  I gave OWNER permission and able to delete file using service.File.Delete(id). but same doesnot work for folder"}, {"owner": {"reputation": 19106, "user_id": 11599789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1l1AT.jpg?s=128&g=1", "display_name": "ziganotschka", "link": "https://stackoverflow.com/users/11599789/ziganotschka"}, "reply_to_user": {"reputation": 47, "user_id": 4818451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/593c9a0fabd9d825bd989899f075a702?s=128&d=identicon&r=PG&f=1", "display_name": "Dheeraj Dhondalkar", "link": "https://stackoverflow.com/users/4818451/dheeraj-dhondalkar"}, "edited": false, "score": 0, "creation_date": 1575973320, "post_id": 59192634, "comment_id": 104737837, "body": "Did you also give owner permission of the folder to the service account?"}], "tags": [], "owner": {"reputation": 19106, "user_id": 11599789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1l1AT.jpg?s=128&g=1", "display_name": "ziganotschka", "link": "https://stackoverflow.com/users/11599789/ziganotschka"}, "is_accepted": true, "score": 0, "last_activity_date": 1575540332, "creation_date": 1575540332, "answer_id": 59192634, "question_id": 59186229, "link": "https://stackoverflow.com/questions/59186229/c-uploading-file-to-google-drive-using-service-authentication/59192634#59192634", "title": "C# uploading file to google drive using service authentication", "body": "<ul>\n<li>If you create a folder through  a service account, this folder will be created on the drive of the service account, to which you do not have access</li>\n<li>To resolve this issue, you need to to set up an <a href=\"https://cloud.google.com/iam/docs/service-accounts\" rel=\"nofollow noreferrer\">impersonation</a></li>\n<li>In other words, you  need to set-up the service account in such a way, that it acts on your (or another domain user's) behalf, rather than on its own behalf</li>\n<li>In this case, the folder will be created on the drive of the user impersonated by the service account</li>\n<li>To set up impersonation, you need to grant to the service account <a href=\"https://developers.google.com/identity/protocols/OAuth2ServiceAccount#delegatingauthority\" rel=\"nofollow noreferrer\"> grant G Suite domain-wide authority</a> through the Admin console</li>\n<li>In your code, you need to set up a subject (the email of the user to impersonate)</li>\n<li>The <a href=\"https://developers.google.com/identity/protocols/OAuth2ServiceAccount#delegatingauthority\" rel=\"nofollow noreferrer\">Google documentation</a> provides  sample codes for delegating domain-wide authority in Java, Python and HTTP/REST</li>\n<li>For C#, you can find  <a href=\"https://stackoverflow.com/questions/38910935/google-drive-api-transfer-ownership-from-service-account/38947766#38947766\">sample code snippets</a> e.g. on stackoverflow</li>\n</ul>\n"}], "owner": {"reputation": 47, "user_id": 4818451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/593c9a0fabd9d825bd989899f075a702?s=128&d=identicon&r=PG&f=1", "display_name": "Dheeraj Dhondalkar", "link": "https://stackoverflow.com/users/4818451/dheeraj-dhondalkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 59192634, "answer_count": 1, "score": 0, "last_activity_date": 1575540332, "creation_date": 1575503389, "question_id": 59186229, "link": "https://stackoverflow.com/questions/59186229/c-uploading-file-to-google-drive-using-service-authentication", "title": "C# uploading file to google drive using service authentication", "body": "<p>I am trying to upload files to my own google drive.\nWhat I did is\n1. Created project on Google drive\n2. Created credential for service account\n3. Created security json for one user and gave user permission as owner\nNow using email provided by service for the user and downloaded json file, tried to upload a file/create folder.\nThere are no errors and I am getting back file id. </p>\n\n<p>However, when I check it on my drive, I do not see the uploaded file.\nhere is my code:</p>\n\n<pre><code>using Google.Apis.Auth.OAuth2;\nusing Google.Apis.Drive.v2;\nusing Google.Apis.Drive.v2.Data;\nusing Google.Apis.Services;\nusing Google.Apis.Util.Store;\nusing System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\nusing System.Threading;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nusing Google.Apis.Auth;\n</code></pre>\n\n<pre><code>public void GetService()\n        {\n            string filename = \"dheerajsecudata.json\";\n            string email = \"dheeraj-588@secudata.iam.gserviceaccount.com\";\n            var service = AuthenticateServiceAccount(email, filename);\n            CreateFolder(\"BlahBlah\", service);\n            var fileMetadata = new Google.Apis.Drive.v2.Data.File()\n            {\n                Title = \"BrainData/bpl1.jpg\"\n            };\n            FilesResource.InsertMediaUpload request;\n            using (var stream = new System.IO.FileStream(@\"D:/bpl1.jpg\",\n                                    System.IO.FileMode.Open))\n            {\n                request = service.Files.Insert(\n                    fileMetadata, stream, \"image/jpeg\");\n                request.Fields = \"id\";\n                request.Upload();\n            }\n            var file = request.ResponseBody;\n            Console.WriteLine(\"File ID: \" + file.Id);//Getting ID but no folder / files on drive\n        }\n        private static void CreateFolder(string folderName, DriveService service)\n        {\n            var fileMetadata = new Google.Apis.Drive.v2.Data.File()\n            {\n                Title = folderName,\n                MimeType = \"application/vnd.google-apps.folder\"\n            };\n            var request = service.Files.Insert(fileMetadata);\n            request.Fields = \"id\";\n            var file = request.Execute();\n            Console.WriteLine(\"Folder ID: \" + file.Id);\n\n        }\n        public static DriveService AuthenticateServiceAccount(string serviceAccountEmail, string serviceAccountCredentialFilePath)\n        {\n            try\n            {\n                if (string.IsNullOrEmpty(serviceAccountCredentialFilePath))\n                    throw new Exception(\"Path to the service account credentials file is required.\");\n                if (!System.IO.File.Exists(serviceAccountCredentialFilePath))\n                    throw new Exception(\"The service account credentials file does not exist at: \" + serviceAccountCredentialFilePath);\n                if (string.IsNullOrEmpty(serviceAccountEmail))\n                    throw new Exception(\"ServiceAccountEmail is required.\");\n\n                // These are the scopes of permissions you need. It is best to request only what you need and not all of them\n                //string[] scopes = new string[] { AnalyticsReportingService.Scope.Analytics };             // View your Google Analytics data\n                string[] scopes = {  DriveService.Scope.Drive, DriveService.Scope.DriveFile };\n\n                // For Json file\n                if (Path.GetExtension(serviceAccountCredentialFilePath).ToLower() == \".json\")\n                {\n                    GoogleCredential credential;\n                    using (var stream = new FileStream(serviceAccountCredentialFilePath, FileMode.Open, FileAccess.Read))\n                    {\n                        credential = GoogleCredential.FromStream(stream)\n                             .CreateScoped(scopes);\n                    }\n\n                    // Create the  Analytics service.\n                    return new DriveService(new BaseClientService.Initializer()\n                    {\n                        HttpClientInitializer = credential,\n                        ApplicationName = \"Drive Service account Authentication Sample\",\n                    });\n                }\n\n                else\n                {\n                    throw new Exception(\"Unsupported Service accounts credentials.\");\n                }\n\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine(\"Create service account DriveService failed\" + ex.Message);\n                throw new Exception(\"CreateServiceAccountDriveFailed\", ex);\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "mapping", "ef-core-2.0"], "comments": [{"owner": {"reputation": 565, "user_id": 3131977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQkty.jpg?s=128&g=1", "display_name": "Ashutosh Kushawaha", "link": "https://stackoverflow.com/users/3131977/ashutosh-kushawaha"}, "edited": false, "score": 0, "creation_date": 1575525011, "post_id": 59186227, "comment_id": 104597568, "body": "add foreignKey to Order field of OrderItem class"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 1112156, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8a22748ff0d13860dc83982832ad8ca7?s=128&d=identicon&r=PG", "display_name": "Fatemeh Montazeri", "link": "https://stackoverflow.com/users/1112156/fatemeh-montazeri"}, "edited": false, "score": 0, "creation_date": 1575540835, "post_id": 59187179, "comment_id": 104604217, "body": "Thanks.If Order is an aggregate root so OrderItems is a collection of ValuObject OrderItem.It seems there is no way to map OrderItems without a primary key."}, {"owner": {"reputation": 13628, "user_id": 11398810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCTFx.jpg?s=128&g=1", "display_name": "Rena", "link": "https://stackoverflow.com/users/11398810/rena"}, "reply_to_user": {"reputation": 33, "user_id": 1112156, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8a22748ff0d13860dc83982832ad8ca7?s=128&d=identicon&r=PG", "display_name": "Fatemeh Montazeri", "link": "https://stackoverflow.com/users/1112156/fatemeh-montazeri"}, "edited": false, "score": 0, "creation_date": 1575594046, "post_id": 59187179, "comment_id": 104628692, "body": "Yes.If my answer helps you,could you <a href=\"https://meta.stackexchange.com/a/5235\">accept my answer</a>?"}, {"owner": {"reputation": 33, "user_id": 1112156, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8a22748ff0d13860dc83982832ad8ca7?s=128&d=identicon&r=PG", "display_name": "Fatemeh Montazeri", "link": "https://stackoverflow.com/users/1112156/fatemeh-montazeri"}, "edited": false, "score": 0, "creation_date": 1575759810, "post_id": 59187179, "comment_id": 104675155, "body": "of course yes, but I can&#39;t because of low reputation."}, {"owner": {"reputation": 143, "user_id": 11051489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf7c140c56bfc644a1daa8f341a92c4e?s=128&d=identicon&r=PG&f=1", "display_name": "oxioxi", "link": "https://stackoverflow.com/users/11051489/oxioxi"}, "edited": false, "score": 0, "creation_date": 1605038558, "post_id": 59187179, "comment_id": 114529420, "body": "Thank you so much for this, this is pretty clear @Rena. Any decent source to learn modeling like this related to .NET and Entity?"}], "tags": [], "owner": {"reputation": 13628, "user_id": 11398810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCTFx.jpg?s=128&g=1", "display_name": "Rena", "link": "https://stackoverflow.com/users/11398810/rena"}, "is_accepted": true, "score": 1, "last_activity_date": 1575511580, "creation_date": 1575511580, "answer_id": 59187179, "question_id": 59186227, "link": "https://stackoverflow.com/questions/59186227/how-can-i-configure-one-to-many-relationship-in-net-core/59187179#59187179", "title": "How can i configure one-to-many relationship in .Net Core", "body": "<p>Here is a simple demo like below:</p>\n\n<p>1.Model:</p>\n\n<pre><code>public class Order\n{\n    public long Id { get; set; }\n    public long CustomerId { get; set; }\n    public DateTime OrderDateTime { get; set; }\n\n    public ICollection&lt;OrderItem&gt; OrderItems { get; set; }\n}\n\npublic class OrderItem\n{\n    public int OrderItemId { get; set; }//you need to define a primary key for OrderItem model\n    public string BookId { get; set; }\n    public int Quantity { get; set; }\n    public decimal UnitPrice { get; set; }\n    public decimal? Discount { get; set; }\n    public decimal Total { get; set; }\n\n    public Order Order { get; set; }\n\n}\n</code></pre>\n\n<p>2.DbContext:</p>\n\n<pre><code>public class MyDbContext : DbContext\n{\n    public MyDbContext(DbContextOptions&lt;MyDbContext&gt; options)\n        : base(options)\n    {\n    }\n\n    public DbSet&lt;Order&gt; Orders { get; set; }\n    public DbSet&lt;OrderItem&gt; OrderItems { get; set; }\n    protected override void OnModelCreating(ModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity&lt;Order&gt;()\n                    .HasMany(c =&gt; c.OrderItems)\n                    .WithOne(e =&gt; e.Order);\n    }\n}\n</code></pre>\n\n<p>3.Startup.cs:</p>\n\n<pre><code>services.AddDbContext&lt;MyDbContext&gt;(options =&gt;\n                options.UseSqlServer(Configuration.GetConnectionString(\"MyDbContext\")));\n</code></pre>\n\n<p>4.appsettings.json:</p>\n\n<pre><code>\"ConnectionStrings\": {\n   \"MyDbContext\": \"Server=(localdb)\\\\mssqllocaldb;Database=DatabaseName;Trusted_Connection=True;MultipleActiveResultSets=true\" \n}\n</code></pre>\n\n<p>5.Run command line on Package Nuget Manager:</p>\n\n<pre><code>PM&gt;add-migration init\nPM&gt;update-database\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 1112156, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8a22748ff0d13860dc83982832ad8ca7?s=128&d=identicon&r=PG", "display_name": "Fatemeh Montazeri", "link": "https://stackoverflow.com/users/1112156/fatemeh-montazeri"}, "edited": false, "score": 0, "creation_date": 1575540603, "post_id": 59189110, "comment_id": 104604089, "body": "Thanks.of course, this is a solution and I did that. But I don&#39;t want to define a primary key. Because I think Order Items are a collection of value objects.as I said I do that by NHibernate.So it seems it&#39;s impossible in EF Core? Isn&#39;t It?"}], "tags": [], "owner": {"reputation": 565, "user_id": 3131977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQkty.jpg?s=128&g=1", "display_name": "Ashutosh Kushawaha", "link": "https://stackoverflow.com/users/3131977/ashutosh-kushawaha"}, "is_accepted": false, "score": 1, "last_activity_date": 1575525589, "creation_date": 1575525589, "answer_id": 59189110, "question_id": 59186227, "link": "https://stackoverflow.com/questions/59186227/how-can-i-configure-one-to-many-relationship-in-net-core/59189110#59189110", "title": "How can i configure one-to-many relationship in .Net Core", "body": "<blockquote>\n  <p>Model</p>\n</blockquote>\n\n<pre><code> public class Order     {\n            public long Id { get; set; }\n            public long CustomerId { get; set; }\n            public DateTime OrderDateTime { get; set; }\n            public virtual ICollection&lt;OrderItem&gt; OrderItems { get; set; }\n      }\n\npublic class OrderItem\n\n{  \n    [Key]\n    public int OrderItemId { get; set; }\n    public string BookId { get; set; }\n    public int Quantity { get; set; }\n    public decimal UnitPrice { get; set; }\n    public decimal? Discount { get; set; }\n    public decimal Total { get; set; }\n    public long OrderId{get;set;} // ForeignKey OrderId\n    [ForeignKey(\"OrderId\")]\n    public virtual Order Order { get; set; }\n\n}\n</code></pre>\n\n<p>// open PackageManager console</p>\n\n<pre><code>PM&gt;add-migration \"orderItem changed\"\nPM&gt;update-database\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 704, "user_id": 7121238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxmeW.jpg?s=128&g=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/7121238/mohammad"}, "is_accepted": false, "score": 3, "last_activity_date": 1575973436, "creation_date": 1575973436, "answer_id": 59265024, "question_id": 59186227, "link": "https://stackoverflow.com/questions/59186227/how-can-i-configure-one-to-many-relationship-in-net-core/59265024#59265024", "title": "How can i configure one-to-many relationship in .Net Core", "body": "<p>you should define meta data <code>[ForeignKey]</code> with type of primary key in order entity. after that ef core automatically set in db by your chosen name</p>\n\n<pre><code>public class Order \n{\n    public long Id { get; set; }\n    public long CustomerId { get; set; }\n    public DateTime OrderDateTime { get; set; }\n\n    public virtual ICollection&lt;OrderItem&gt; OrderItems { get; set; }\n}\n\npublic class OrderItem \n{\n    public long Id { get; set; }    \n\n    [ForeignKey(nameof(OrderId)]\n    public virtual Order Order { get; set; }\n    public long OrderId { get; set; }\n\n    public int Quantity { get; set; }\n    public decimal UnitPrice { get; set; }\n    public decimal? Discount { get; set; }\n    public decimal Total { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 1112156, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8a22748ff0d13860dc83982832ad8ca7?s=128&d=identicon&r=PG", "display_name": "Fatemeh Montazeri", "link": "https://stackoverflow.com/users/1112156/fatemeh-montazeri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 59187179, "answer_count": 3, "score": 1, "last_activity_date": 1575973436, "creation_date": 1575503382, "question_id": 59186227, "link": "https://stackoverflow.com/questions/59186227/how-can-i-configure-one-to-many-relationship-in-net-core", "title": "How can i configure one-to-many relationship in .Net Core", "body": "<p>I want to configure a <strong>one-to-many</strong> relationship in <strong>Ef core</strong>. As you see I have a class for <strong>order</strong> and the other one for <strong>OrderItems</strong>.\nI do it when I use NHibernate.of course, I consider orderItem class as ValueObject.But I want to do it using EF Core.</p>\n\n<pre><code>public class Order \n{\n    public long Id { get; set; }\n    public long CustomerId { get; set; }\n    public DateTime OrderDateTime { get; set; }\n\n    public ICollection&lt;OrderItem&gt; OrderItems { get; set; }\n}\n\npublic class OrderItem  \n{\n    public string BookId { get; set; }\n    public int Quantity { get; set; }\n    public decimal UnitPrice { get; set; }\n    public decimal? Discount { get; set; }\n    public decimal Total { get; set; }\n\n    public Order Order { get; set; }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "regex", "replace"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1575503015, "post_id": 59186160, "comment_id": 104592517, "body": "You need not add backslash to the keys, instead, use <code>Regex.Escape</code> to escape them dynamically, something like <code>xmlEntityReplacements.Keys.Select(k =&gt; Regex.Escape(k.ToString()))</code> (not even sure you need <code>.ToString()</code> here)"}, {"owner": {"reputation": 13, "user_id": 12133665, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R2_JhhF2Odk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBn3J5Fsr5sKUpss5URpCzjpf_MQ/photo.jpg?sz=128", "display_name": "ps-create", "link": "https://stackoverflow.com/users/12133665/ps-create"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1575504337, "post_id": 59186160, "comment_id": 104592858, "body": "Ok thanks i changed to <code>return Regex.Replace(source, string.Join(&quot;|&quot;, xmlEntityReplacements.Keys.Select(k =&gt; Regex.Escape(k.ToString())).ToArray()), m =&gt; xmlEntityReplacements[m.Value]); </code> and now its working :)"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12133665, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R2_JhhF2Odk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBn3J5Fsr5sKUpss5URpCzjpf_MQ/photo.jpg?sz=128", "display_name": "ps-create", "link": "https://stackoverflow.com/users/12133665/ps-create"}, "edited": false, "score": 0, "creation_date": 1575510335, "post_id": 59186557, "comment_id": 104594172, "body": "Btw i have a question/ with one is faster to use regex as i do up or just to use string.replace() many times?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 13, "user_id": 12133665, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R2_JhhF2Odk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBn3J5Fsr5sKUpss5URpCzjpf_MQ/photo.jpg?sz=128", "display_name": "ps-create", "link": "https://stackoverflow.com/users/12133665/ps-create"}, "edited": false, "score": 0, "creation_date": 1575533865, "post_id": 59186557, "comment_id": 104600832, "body": "@ps-create You may test it in your own environment on the actual data. If you <a href=\"https://stackoverflow.com/a/31432829/3832970\">follow the guidelines on regex usage</a>, the regex solution may be as fast as can be since the string will only get processed once."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 0, "last_activity_date": 1575506150, "creation_date": 1575506150, "answer_id": 59186557, "question_id": 59186160, "link": "https://stackoverflow.com/questions/59186160/special-signs-with-regex-replace/59186557#59186557", "title": "Special signs with Regex Replace", "body": "<p>When you escape the special characters in the dictionary keys, you will no longer be able to access them unless you unescape the matches, but that might lead to other issues. That means you should instead use <code>Regex.Escape</code> to escape each dictionary key individually:</p>\n\n<pre><code>xmlEntityReplacements.Keys.Select(k =&gt; Regex.Escape(k.ToString()))\n</code></pre>\n\n<p>You do not need <code>.ToArray</code>, <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.string.join?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>string.Join</code> accepts</a> an <code>IEnumerable</code>, too.</p>\n"}], "owner": {"reputation": 13, "user_id": 12133665, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R2_JhhF2Odk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBn3J5Fsr5sKUpss5URpCzjpf_MQ/photo.jpg?sz=128", "display_name": "ps-create", "link": "https://stackoverflow.com/users/12133665/ps-create"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 59186557, "answer_count": 1, "score": 1, "last_activity_date": 1575506150, "creation_date": 1575502777, "last_edit_date": 1575504616, "question_id": 59186160, "link": "https://stackoverflow.com/questions/59186160/special-signs-with-regex-replace", "title": "Special signs with Regex Replace", "body": "<p>I want to replace string with regex but I can't replace regex special signs - I just want to regex read <code>^</code> etc as a normal string not as a special sign.\nI tried <code>\\\\</code> but it's still not working.</p>\n\n<pre><code>public static string ReplaceXmlEntity(string source)\n{\n    if (string.IsNullOrEmpty(source)) return source;\n    var xmlEntityReplacements = new Dictionary&lt;string, string&gt;\n    {\n        // Find all the original spaces and replace with a space\n        // and placemarker for the space\n        {\" \", \" ^\"},\n        {\" \\\\^ \\\\^\", \" ^\"},\n        // Find all the double quotes and replace with placemarker \n        {\"''\", \" ~ \"},\n        // Add extra spaces around key values so they can be isolated in\n        // into their own array slots\n        {\",\", \" , \"},\n        {\"'\", \" ' \" },\n        {\"'('\", \" ( \" },\n        {\"')'\", \" ) \" },\n        // Replace all the special characters and extra spaces\n        {\"\\n\", \" 0x000A \" },\n        {\"\\r\", \" 0x000D \" },\n        {\"\\t\", \" 0x0009 \" },\n        {\"\\v\", \" 0x000B \" },\n    };\n    return Regex.Replace(source, string.Join(\"|\", xmlEntityReplacements.Keys\n        .Select(k =&gt; k.ToString()).ToArray()), m =&gt; xmlEntityReplacements[m.Value]);\n}\n</code></pre>\n"}, {"tags": ["c#", "performance", "linq", "time-complexity"], "comments": [{"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 2, "creation_date": 1575502524, "post_id": 59186117, "comment_id": 104592386, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/linq/classification-of-standard-query-operators-by-manner-of-execution\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>"}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 2, "creation_date": 1575503233, "post_id": 59186117, "comment_id": 104592573, "body": "From the documentation itself: <b>The enumeration of source is stopped as soon as the result can be determined.</b>"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1575503726, "post_id": 59186117, "comment_id": 104592703, "body": "Your translation of <code>Any</code> doesn&#39;t reference <code>myString</code>..."}, {"owner": {"reputation": 13115, "user_id": 150605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pFmKd.png?s=128&g=1", "display_name": "Lance U. Matthews", "link": "https://stackoverflow.com/users/150605/lance-u-matthews"}, "reply_to_user": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1575504725, "post_id": 59186117, "comment_id": 104592946, "body": "@Sach While &quot;Read the documentation&quot; definitely applies here, I assumed you&#39;d be linking to the <a href=\"https://docs.microsoft.com/dotnet/api/system.linq.enumerable.any\" rel=\"nofollow noreferrer\"><code>Enumerable.Any</code> Method</a> where it says, as Greg notes, &quot;The enumeration of <code>source</code> is stopped as soon as the result can be determined.&quot;  Your link, however, talks about immediate vs. deferred execution, which isn&#39;t really relevant to the question.  This is a matter of <i>early exit</i> or not, regardless of when execution takes place."}], "answers": [{"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 0, "last_activity_date": 1575504327, "creation_date": 1575504327, "answer_id": 59186346, "question_id": 59186117, "link": "https://stackoverflow.com/questions/59186117/does-linq-any-always-iterate-through-the-entire-list-or-will-it-exit-upon-find/59186346#59186346", "title": "Does Linq.Any() always iterate through the entire list or will it exit upon finding the first match?", "body": "<p>You can always check the .Net source code for <a href=\"https://source.dot.net/System.Linq/a.html#6a1af7c3d17845e3\" rel=\"nofollow noreferrer\"><code>Any</code></a> to validate how it works.</p>\n\n<p>I would suggest a better inline implementation would be:</p>\n\n<pre><code>var found = false;\n\nfor (int j1 = 0; j1 &lt; characterList.Count; ++j1) {\n    if (myString.Contains(characterList[j1])) {\n        found = true;\n        break;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 597, "user_id": 3776749, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d5f12213cd9e39fc7cd1af05f292be6b?s=128&d=identicon&r=PG&f=1", "display_name": "user3776749", "link": "https://stackoverflow.com/users/3776749/user3776749"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "closed_date": 1575505802, "answer_count": 1, "score": -3, "last_activity_date": 1575504327, "creation_date": 1575502441, "last_edit_date": 1575503530, "question_id": 59186117, "link": "https://stackoverflow.com/questions/59186117/does-linq-any-always-iterate-through-the-entire-list-or-will-it-exit-upon-find", "closed_reason": "Duplicate", "title": "Does Linq.Any() always iterate through the entire list or will it exit upon finding the first match?", "body": "<p>I'm writing a function to check if a string contains at least one of a list of characters.</p>\n\n<p>ex: Does the string <code>\"absegmox;zlkfy\"</code> contain <code>\"f\", \"m\", \"t\",</code> or <code>\"u\"</code></p>\n\n<p>My question is if the Linq.Any functionality will quit when it hits its first match or if it will always iterate through the whole list.</p>\n\n<p>If the latter true than in the average case this:</p>\n\n<pre><code>found = characterList.Any(e =&gt; myString.Contains(e)));\n</code></pre>\n\n<p>Would get outperformed by this:</p>\n\n<pre><code>int i = 0;\nwhile (!found &amp;&amp; i &lt; characterList.Count)\n{\n    string tempChar = characterList[i];\n\n    if (characterList.Contains(tempChar ))\n    {\n        found = true;\n    }\n    i++;\n}\n</code></pre>\n"}, {"tags": ["c#", "xaml", "xamarin", "xamarin.forms", "label"], "comments": [{"owner": {"reputation": 7502, "user_id": 6717445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZcOO7.jpg?s=128&g=1", "display_name": "Cherry Bu - MSFT", "link": "https://stackoverflow.com/users/6717445/cherry-bu-msft"}, "edited": false, "score": 0, "creation_date": 1575525066, "post_id": 59186101, "comment_id": 104597591, "body": "By my searching, I find <b>Label.YAlign</b> Property may have this effect, but I try it in my code, and don&#39;t find any effect temporarily, so I will continue to looking."}], "answers": [{"tags": [], "owner": {"reputation": 27, "user_id": 2686668, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6d6d2abf6e3867db77785629991e2fbf?s=128&d=identicon&r=PG", "display_name": "luisguerrerolab", "link": "https://stackoverflow.com/users/2686668/luisguerrerolab"}, "is_accepted": false, "score": 0, "last_activity_date": 1575923193, "last_edit_date": 1575923193, "creation_date": 1575655081, "answer_id": 59218140, "question_id": 59186101, "link": "https://stackoverflow.com/questions/59186101/xamarin-forms-vertical-text-alignment-not-working-for-labels-with-formattedtext/59218140#59218140", "title": "Xamarin.Forms vertical text alignment not working for Labels with FormattedText with several Spans in it that have different font sizes", "body": "<p>I've also been through complications customizing <code>Span</code> elements. However, the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/xamarin.forms.span?view=xamarin-forms\" rel=\"nofollow noreferrer\">Label.Span API reference</a> doesn't include properties to change text alignment on each <code>Span</code> block.</p>\n\n<p>For this scenario, you can use a <code>&lt;StackLayout&gt;</code> horizontally oriented and a set of <code>Label</code> elements to simulate a paragraph with different vertical text alignments.</p>\n\n<p>This is a XAML example:</p>\n\n<pre><code>&lt;StackLayout\n    BackgroundColor=\"Red\"\n    HorizontalOptions=\"Center\"\n    VerticalOptions=\"CenterAndExpand\"\n    Orientation=\"Horizontal\"\n    Spacing=\"0\"&gt;\n    &lt;Label\n        Text=\"Base\"\n        TextColor=\"White\"\n        VerticalOptions=\"Center\"/&gt;\n        &lt;Label\n            Text=\"upper text\"\n            TextColor=\"White\"\n            FontSize=\"Micro\"\n            VerticalOptions=\"Start\"/&gt;\n&lt;/StackLayout&gt;\n</code></pre>\n\n<p>And this is the generated UI:</p>\n\n<p><a href=\"https://i.stack.imgur.com/K4Bhr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K4Bhr.png\" alt=\"enter image description here\"></a></p>\n\n<p>Changing the value of the alignment properties for each <code>Label</code> element would help you to adjust the layout to fit your needs.</p>\n\n<p>You can go further and create a custom control in order to make this component reusable.</p>\n"}, {"tags": [], "owner": {"reputation": 1037, "user_id": 7081655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YuhOB.jpg?s=128&g=1", "display_name": "MK Vimalan", "link": "https://stackoverflow.com/users/7081655/mk-vimalan"}, "is_accepted": false, "score": 0, "last_activity_date": 1575662151, "creation_date": 1575662151, "answer_id": 59219526, "question_id": 59186101, "link": "https://stackoverflow.com/questions/59186101/xamarin-forms-vertical-text-alignment-not-working-for-labels-with-formattedtext/59219526#59219526", "title": "Xamarin.Forms vertical text alignment not working for Labels with FormattedText with several Spans in it that have different font sizes", "body": "<p>You can simply achieve your requirements with below code </p>\n\n<pre><code>                   &lt;Label HorizontalOptions=\"End\"  x:Name=\"lblRegister\"&gt;\n                        &lt;Label.FormattedText&gt;\n                            &lt;FormattedString&gt;\n                                &lt;Span Text=\"New User?\" TextColor=\"White\" FontAttributes=\"Bold\" /&gt;\n                                &lt;Span Text=\"SIGN UP\" TextColor=\"White\" FontAttributes=\"Bold\" /&gt;\n                            &lt;/FormattedString&gt;\n                        &lt;/Label.FormattedText&gt;\n                    &lt;/Label&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/9FuJs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9FuJs.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1, "user_id": 10278788, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-a4t_LzaDI6o/AAAAAAAAAAI/AAAAAAAAACw/_Fn_VW7KzFs/photo.jpg?sz=128", "display_name": "\u042e\u0440\u0438\u0439 \u0414\u0443\u0440\u043e\u0432", "link": "https://stackoverflow.com/users/10278788/%d0%ae%d1%80%d0%b8%d0%b9-%d0%94%d1%83%d1%80%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1302, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1575923193, "creation_date": 1575502265, "question_id": 59186101, "link": "https://stackoverflow.com/questions/59186101/xamarin-forms-vertical-text-alignment-not-working-for-labels-with-formattedtext", "title": "Xamarin.Forms vertical text alignment not working for Labels with FormattedText with several Spans in it that have different font sizes", "body": "<p>The issue is also described here <br>\n<a href=\"https://github.com/xamarin/Xamarin.Forms/issues/4239\" rel=\"nofollow noreferrer\">https://github.com/xamarin/Xamarin.Forms/issues/4239</a> <br> <br>\nI need a way to make a label with several spans, some of those spans should have smaller FontSize and the letters in those spans should be vertically aligned to the top of the line. <br> <br>\nBasically I need to have small letters at the top of the line inside a label.</p>\n\n<p>Maybe I should make a custom renderer?\nIf so - could you please provide me with some sample about how to do that?\nAnything will do, I just need a way to implement that.</p>\n\n<p>Now my code looks somewhat similar to this:</p>\n\n<pre><code>&lt;Label\n    HorizontalTextAlignment=\"Center\"\n    VerticalTextAlignment=\"Start\"\n    FontSize=\"{Binding ArabicFontSize}\"\n    Margin=\"0\"\n    TextColor=\"{Binding GetLineTextColor}\"\n&gt;\n    &lt;Label.FormattedText&gt;\n        &lt;FormattedString&gt;\n            &lt;Span Text=\"{Binding ArabicText1}\" TextColor=\"Black\"/&gt;\n            &lt;Span Text=\"{Binding ArabicRedSign1}\" TextColor=\"Red\" FontSize=\"{Binding ArabicFontSizeHalved}\" /&gt;\n            &lt;Span Text=\"{Binding ArabicGreenSign1}\" TextColor=\"Green\" FontSize=\"{Binding ArabicFontSizeHalved}\"/&gt;\n\n            &lt;Span Text=\"{Binding ArabicText2}\" TextColor=\"Black\"/&gt;\n            &lt;Span Text=\"{Binding ArabicRedSign2}\" TextColor=\"Red\" FontSize=\"{Binding ArabicFontSizeHalved}\"/&gt;\n            &lt;Span Text=\"{Binding ArabicGreenSign2}\" TextColor=\"Green\" FontSize=\"{Binding ArabicFontSizeHalved}\"/&gt;\n        &lt;/FormattedString&gt;\n    &lt;/Label.FormattedText&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["c#", "class", "reflection", "codedom"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12275574"}, "edited": false, "score": 0, "creation_date": 1575502172, "post_id": 59186035, "comment_id": 104592261, "body": "I edited my question to have the error message. My mistake!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12275574"}, "edited": false, "score": 0, "creation_date": 1575502365, "post_id": 59186035, "comment_id": 104592326, "body": "Why was my question downvoted?"}, {"owner": {"reputation": 84, "user_id": 8310263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5mdIa.jpg?s=128&g=1", "display_name": "Kieran Bond", "link": "https://stackoverflow.com/users/8310263/kieran-bond"}, "edited": false, "score": 0, "creation_date": 1575502451, "post_id": 59186035, "comment_id": 104592361, "body": "Does the file/dll definitely exist at that path?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12275574"}, "reply_to_user": {"reputation": 84, "user_id": 8310263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5mdIa.jpg?s=128&g=1", "display_name": "Kieran Bond", "link": "https://stackoverflow.com/users/8310263/kieran-bond"}, "edited": false, "score": 0, "creation_date": 1575502495, "post_id": 59186035, "comment_id": 104592372, "body": "Yes, it exists at that path."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1575506465, "post_id": 59186035, "comment_id": 104593353, "body": "In general full path is supported for the <code>.ReferencedAssemblies.Add</code>... For question to be answerable on SO you need <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which is realistically unlikely for this type of problems... There are plenty of debugging help for this error around - you may start with <code>Assembly.LoadFrom</code> to confirm that assembly you claim is perfect actually can be loaded into your program... Than figure out what dependency is missing... (basically you have to work it out yourself)"}], "owner": {"user_type": "does_not_exist", "display_name": "user12275574"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575502408, "creation_date": 1575501900, "last_edit_date": 1575502408, "question_id": 59186035, "link": "https://stackoverflow.com/questions/59186035/referencing-assembly-using-file-path", "title": "Referencing Assembly using File Path", "body": "<p>I am using CodeDom/Reflection to compile a C# script from a file. My current code is:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>string sourceCode = File.ReadAllText(item);\nvar compParms = new CompilerParameters\n{\n    GenerateExecutable = false,\n    GenerateInMemory = true\n};\nvar csProvider = new CSharpCodeProvider();\ncompParms.GenerateExecutable = false;\n\n\ncompParms.OutputAssembly = \"agame/temp/dll/common_\" + Guid.NewGuid().ToString() + \".dll\";\n\ncompParms.ReferencedAssemblies.Add(\"System.Windows.Forms.dll\");\ncompParms.ReferencedAssemblies.Add(\"System.dll\");\ncompParms.ReferencedAssemblies.Add(\"System.Windows.Forms.dll\");\ncompParms.ReferencedAssemblies.Add(\"System.IO.dll\");\n\ncompParms.ReferencedAssemblies.Add(\"C:/Users/\" + Environment.UserName + \"/_ache/external_acs.dll\");\n\n\ncompParms.GenerateInMemory = true;\n\nCompilerResults compilerResults = csProvider.CompileAssemblyFromSource(compParms, sourceCode);\n\n\nobject typeInstance = compilerResults.CompiledAssembly.CreateInstance(\"SomeClass\");\n\nMethodInfo mi = typeInstance.GetType().GetMethod(\"Add42\");\nint methodOutput = (int)mi.Invoke(typeInstance, new object[] { 1 });\n\nMessageBox.Show(methodOutput.ToString());\n</code></pre>\n\n<p>An error occurs at the fourth <code>ReferencedAssemblies.Add()</code>, which is where I was trying to reference an external DLL. <br>My error was: <strong>\"could not load file or assembly 'dll location' or one of its dependences. The system cannot find the file specified\"</strong><br>\nI also tried referencing all of the external DLL's dependencies, as is shown below:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>compParms.ReferencedAssemblies.Add(\"C:/Users/\" + Environment.UserName + \"/_ache/external_acs.dll\");\n\ncompParms.ReferencedAssemblies.Add(\"C:/Users/\" + Environment.UserName + \"/_ache/csfml-audio-2.dll\");\n\ncompParms.ReferencedAssemblies.Add(\"C:/Users/\" + Environment.UserName + \"/_ache/csfml-graphics-2.dll\");\n\ncompParms.ReferencedAssemblies.Add(\"C:/Users/\" + Environment.UserName + \"/_ache/csfml-network-2.dll\");\n\ncompParms.ReferencedAssemblies.Add(\"C:/Users/\" + Environment.UserName + \"/_ache/csfml-system-2.dll\");\n\ncompParms.ReferencedAssemblies.Add(\"C:/Users/\" + Environment.UserName + \"/_ache/csfml-window-2.dll\");\n\ncompParms.ReferencedAssemblies.Add(\"C:/Users/\" + Environment.UserName + \"/_ache/libsndfile-1.dll\");\n\ncompParms.ReferencedAssemblies.Add(\"C:/Users/\" + Environment.UserName + \"/_ache/openal32.dll\");\n\ncompParms.ReferencedAssemblies.Add(\"C:/Users/\" + Environment.UserName + \"/_ache/Otter.dll\");\n\ncompParms.ReferencedAssemblies.Add(\"C:/Users/\" + Environment.UserName + \"/_ache/sfmlnet-audio-2.dll\");\n\ncompParms.ReferencedAssemblies.Add(\"C:/Users/\" + Environment.UserName + \"/_ache/sfmlnet-graphics-2.dll\");\n\ncompParms.ReferencedAssemblies.Add(\"C:/Users/\" + Environment.UserName + \"/_ache/sfmlnet-system-2.dll\");\n\ncompParms.ReferencedAssemblies.Add(\"C:/Users/\" + Environment.UserName + \"/_ache/sfmlnet-window-2.dll\");\n</code></pre>\n\n<p>How do I reference an external DLL by the file path? If referencing it by the file path is not possible, is there a way to reference an external DLL at all? I am using it to allow scripting in my custom C# game engine.<br>\nHelp with this problem would be greatly appreciated!</p>\n"}, {"tags": ["c#", "azure", "azure-servicebus-queues"], "comments": [{"owner": {"reputation": 938, "user_id": 4380513, "user_type": "registered", "profile_image": "https://graph.facebook.com/553865196/picture?type=large", "display_name": "Zakk Diaz", "link": "https://stackoverflow.com/users/4380513/zakk-diaz"}, "edited": false, "score": 0, "creation_date": 1575502564, "post_id": 59186013, "comment_id": 104592396, "body": "Could it be a networking issue? Can you see the request being created and hanging?"}, {"owner": {"reputation": 457, "user_id": 10740137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/404ef282eae908d0d37e6e21cdfbe7cc?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10740137/james"}, "reply_to_user": {"reputation": 938, "user_id": 4380513, "user_type": "registered", "profile_image": "https://graph.facebook.com/553865196/picture?type=large", "display_name": "Zakk Diaz", "link": "https://stackoverflow.com/users/4380513/zakk-diaz"}, "edited": false, "score": 0, "creation_date": 1575502766, "post_id": 59186013, "comment_id": 104592449, "body": "It&#39;s a good question but I&#39;ve just included the request graph within the azure service bus portal and it shows requests just now which is strange to me, if it was a networking issue between me and azure..  Unless you mean networking within azure, i.e. ip and general azure access/ permissioning perhaps?"}, {"owner": {"reputation": 457, "user_id": 10740137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/404ef282eae908d0d37e6e21cdfbe7cc?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10740137/james"}, "reply_to_user": {"reputation": 938, "user_id": 4380513, "user_type": "registered", "profile_image": "https://graph.facebook.com/553865196/picture?type=large", "display_name": "Zakk Diaz", "link": "https://stackoverflow.com/users/4380513/zakk-diaz"}, "edited": false, "score": 0, "creation_date": 1575503303, "post_id": 59186013, "comment_id": 104592593, "body": "I am on a VPN but wouldn&#39;t the fact the requests are shown in the graph mean this isn&#39;t a problem?"}, {"owner": {"reputation": 10995, "user_id": 10383250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86977ed7f8c387560ffd1c75bc41bedc?s=128&d=identicon&r=PG&f=1", "display_name": "George Chen", "link": "https://stackoverflow.com/users/10383250/george-chen"}, "edited": false, "score": 0, "creation_date": 1575511289, "post_id": 59186013, "comment_id": 104594356, "body": "If you test with debug mode, could you see the message in the service bus queue?"}, {"owner": {"reputation": 10995, "user_id": 10383250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86977ed7f8c387560ffd1c75bc41bedc?s=128&d=identicon&r=PG&f=1", "display_name": "George Chen", "link": "https://stackoverflow.com/users/10383250/george-chen"}, "edited": false, "score": 1, "creation_date": 1575511895, "post_id": 59186013, "comment_id": 104594459, "body": "And if <code>await queueClient.SendAsync()</code> could not work, please try <code>queueClient.SendAsync(message).Wait()</code>. Also make sure the port 80 and 443 are open or try with <code>ServiceBusEnvironment.SystemConnectivity.Mode = ConnectivityMode.Https;</code>."}, {"owner": {"reputation": 457, "user_id": 10740137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/404ef282eae908d0d37e6e21cdfbe7cc?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10740137/james"}, "edited": false, "score": 0, "creation_date": 1575512133, "post_id": 59186013, "comment_id": 104594501, "body": "where do I check and correct the ports?"}, {"owner": {"reputation": 457, "user_id": 10740137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/404ef282eae908d0d37e6e21cdfbe7cc?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10740137/james"}, "edited": false, "score": 0, "creation_date": 1575512306, "post_id": 59186013, "comment_id": 104594534, "body": "adding <code>.Wait()</code> produces the <code>cannot await void</code> compiler error"}, {"owner": {"reputation": 10995, "user_id": 10383250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86977ed7f8c387560ffd1c75bc41bedc?s=128&d=identicon&r=PG&f=1", "display_name": "George Chen", "link": "https://stackoverflow.com/users/10383250/george-chen"}, "edited": false, "score": 0, "creation_date": 1575524526, "post_id": 59186013, "comment_id": 104597403, "body": "Don&#39;t use <code>await queueClient.SendAsync(message).Wait();</code> only <code>queueClient.SendAsync(message).Wait();</code>. And did you try the ConnectivityMode."}, {"owner": {"reputation": 457, "user_id": 10740137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/404ef282eae908d0d37e6e21cdfbe7cc?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10740137/james"}, "edited": false, "score": 0, "creation_date": 1575524915, "post_id": 59186013, "comment_id": 104597533, "body": "Yes I have but same issue strangely..?"}, {"owner": {"reputation": 10995, "user_id": 10383250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86977ed7f8c387560ffd1c75bc41bedc?s=128&d=identicon&r=PG&f=1", "display_name": "George Chen", "link": "https://stackoverflow.com/users/10383250/george-chen"}, "reply_to_user": {"reputation": 457, "user_id": 10740137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/404ef282eae908d0d37e6e21cdfbe7cc?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10740137/james"}, "edited": false, "score": 0, "creation_date": 1575525727, "post_id": 59186013, "comment_id": 104597797, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/203641/discussion-between-george-chen-and-james\">continue this discussion in chat</a>."}], "owner": {"reputation": 457, "user_id": 10740137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/404ef282eae908d0d37e6e21cdfbe7cc?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10740137/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1363, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575502678, "creation_date": 1575501752, "last_edit_date": 1575502678, "question_id": 59186013, "link": "https://stackoverflow.com/questions/59186013/how-to-call-queue-client-sendasync-method-using-c", "title": "How to call queue client sendasync method using C#", "body": "<p>I have created an azure service bus and I've created a shared access policy, see screen shot below.  From this screen I click 'overview' and then 'queues' which is shown below.  Using the connection string and queue name from these screens within the C# code below I'm not able to successfully call the following line of code (complete code sample included below)</p>\n\n<pre><code>await queueClient.SendAsync(message);  // This line of code eventually times out.\n</code></pre>\n\n<p>Is there some further azure permissioning or C# code change I'm missing?</p>\n\n<p>Many thanks,</p>\n\n<p><strong>Policy/ connection string</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/wQtSa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wQtSa.png\" alt=\"primary connection string\"></a></p>\n\n<p><strong>Queue screen</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/mNAUl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mNAUl.png\" alt=\"name of queue\"></a></p>\n\n<p><strong>complete code</strong></p>\n\n<pre><code>using Microsoft.Azure.ServiceBus;\nusing System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Text;\nusing System.Threading;\nusing System.Threading.Tasks;\n\nnamespace BasicSendReceiveQuickStart\n{\n    class Program\n{\n    static IQueueClient queueClient;\n\n    static void Main(string[] args)\n    {\n        const string serviceBusConnectionString = \"Endpoint=sb://abc123.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=xyz\";\n        const string queueName = \"name_of_my_queue\";\n\n        if (!string.IsNullOrEmpty(serviceBusConnectionString) &amp;&amp; !string.IsNullOrEmpty(queueName))\n            MainAsync(serviceBusConnectionString, queueName).GetAwaiter().GetResult();\n        else\n        {\n            Console.WriteLine(\"Specify -ConnectionString and -QueueName to execute the example.\");\n            Console.ReadKey();\n        }                            \n    }\n\n    static async Task MainAsync(string serviceBusConnectionString, string queueName)\n    {\n        queueClient = new QueueClient(serviceBusConnectionString, queueName);\n\n        Console.WriteLine(\"======================================================\");\n        Console.WriteLine(\"Press any key to exit after receiving all the messages.\");\n        Console.WriteLine(\"======================================================\");\n\n        // Register QueueClient's MessageHandler and receive messages in a loop\n        RegisterOnMessageHandlerAndReceiveMessages();\n\n        // Send Messages\n        //await SendMessagesAsync();\n\n        var message = new Message(Encoding.UTF8.GetBytes(\"my message\"));\n\n        await queueClient.SendAsync(message);\n\n\n        Console.ReadKey();\n\n        await queueClient.CloseAsync();\n    }\n\n    static void RegisterOnMessageHandlerAndReceiveMessages()\n    {\n        // Configure the MessageHandler Options in terms of exception handling, number of concurrent messages to deliver etc.\n        var messageHandlerOptions = new MessageHandlerOptions(ExceptionReceivedHandler)\n        {\n            // Maximum number of Concurrent calls to the callback `ProcessMessagesAsync`, set to 1 for simplicity.\n            // Set it according to how many messages the application wants to process in parallel.\n            MaxConcurrentCalls = 1,\n\n            // Indicates whether MessagePump should automatically complete the messages after returning from User Callback.\n            // False below indicates the Complete will be handled by the User Callback as in `ProcessMessagesAsync` below.\n            AutoComplete = false\n        };\n\n        // Register the function that will process messages\n        queueClient.RegisterMessageHandler(ProcessMessagesAsync, messageHandlerOptions);\n    }\n\n    static async Task ProcessMessagesAsync(Message message, CancellationToken token)\n    {\n        // Process the message\n        Console.WriteLine($\"Received message: SequenceNumber:{message.SystemProperties.SequenceNumber} Body:{Encoding.UTF8.GetString(message.Body)}\");\n\n        // Complete the message so that it is not received again.\n        // This can be done only if the queueClient is created in ReceiveMode.PeekLock mode (which is default).\n        await queueClient.CompleteAsync(message.SystemProperties.LockToken);\n\n        // Note: Use the cancellationToken passed as necessary to determine if the queueClient has already been closed.\n        // If queueClient has already been Closed, you may chose to not call CompleteAsync() or AbandonAsync() etc. calls \n        // to avoid unnecessary exceptions.\n    }\n\n    // Use this Handler to look at the exceptions received on the MessagePump\n    static Task ExceptionReceivedHandler(ExceptionReceivedEventArgs exceptionReceivedEventArgs)\n    {\n        Console.WriteLine($\"Message handler encountered an exception {exceptionReceivedEventArgs.Exception}.\");\n        var context = exceptionReceivedEventArgs.ExceptionReceivedContext;\n        Console.WriteLine(\"Exception context for troubleshooting:\");\n        Console.WriteLine($\"- Endpoint: {context.Endpoint}\");\n        Console.WriteLine($\"- Entity Path: {context.EntityPath}\");\n        Console.WriteLine($\"- Executing Action: {context.Action}\");\n        return Task.CompletedTask;\n    }\n}\n}\n</code></pre>\n\n<p><strong>Overview panel showing requests</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/5Qn98.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Qn98.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 1, "creation_date": 1575511267, "post_id": 59186143, "comment_id": 104594350, "body": "Kieran, this type of issue has a close reason (&quot;caused by a typo&quot;). As such, the question should be closed, not answered."}, {"owner": {"reputation": 84, "user_id": 8310263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5mdIa.jpg?s=128&g=1", "display_name": "Kieran Bond", "link": "https://stackoverflow.com/users/8310263/kieran-bond"}, "reply_to_user": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1575547954, "post_id": 59186143, "comment_id": 104608055, "body": "@Draco18s I was unaware of this, thanks for the heads up. I don&#39;t agree that the question should be closed without an answer or atleast comment though as how else will they discover the issue apart from a vague &#39;caused by typo&#39; thrown at them?"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 1, "creation_date": 1575555165, "post_id": 59186143, "comment_id": 104612089, "body": "Comments along the lines of where the problem is are fine. e.g. &quot;You might want to double check this line: <code>if(rb = null)</code>&quot;"}, {"owner": {"reputation": 84, "user_id": 8310263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5mdIa.jpg?s=128&g=1", "display_name": "Kieran Bond", "link": "https://stackoverflow.com/users/8310263/kieran-bond"}, "edited": false, "score": 0, "creation_date": 1575557346, "post_id": 59186143, "comment_id": 104613364, "body": "Whilst I&#39;m sure you&#39;re correct, I feel like that&#39;s borderline should be an answer and not what the use of comments should be for.  Either way, not your fault! Thanks for the heads up, I&#39;ll ensure I do that next time."}], "tags": [], "owner": {"reputation": 84, "user_id": 8310263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5mdIa.jpg?s=128&g=1", "display_name": "Kieran Bond", "link": "https://stackoverflow.com/users/8310263/kieran-bond"}, "is_accepted": true, "score": 1, "last_activity_date": 1575502643, "creation_date": 1575502643, "answer_id": 59186143, "question_id": 59186005, "link": "https://stackoverflow.com/questions/59186005/unity-rigidbody-refuses-to-exist-despite-global-scope/59186143#59186143", "title": "Unity rigidbody refuses to exist despite global scope", "body": "<p>Your error is being causing by the lines</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>if(rb = null)\n{\n    Debug.LogError(\"Could not find Rigid Body!\\n\" + this.name);\n}\n</code></pre>\n\n<p>You're setting the RigidBody to null, rather than null-checking it.</p>\n\n<p>Replace the first line with this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>if(rb == null)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12388659, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bjUKJaRxtro/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rckwjk2_CeJOh4QLN2iU1k9RJI-GQ/photo.jpg?sz=128", "display_name": "Jamie Daniel", "link": "https://stackoverflow.com/users/12388659/jamie-daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 59186143, "answer_count": 1, "score": 1, "last_activity_date": 1575502643, "creation_date": 1575501722, "question_id": 59186005, "link": "https://stackoverflow.com/questions/59186005/unity-rigidbody-refuses-to-exist-despite-global-scope", "title": "Unity rigidbody refuses to exist despite global scope", "body": "<p>In unity I have been trying to make a script, however for some reason, my Rigidbody variable refuses to exist outside of scope. The errors it gives me reads out: <code>NullReferenceException: Object reference not set to an instance of an object VelocityBasedPlayerMovement.FixedUpdate () (at Assets/Scripts/VelocityBasedPlayerMovement.cs:80)</code></p>\n\n<p>And a very similar error for a previous line.</p>\n\n<p><code>NullReferenceException: Object reference not set to an instance of an object\nVelocityBasedPlayerMovement.Update () (at Assets/Scripts/VelocityBasedPlayerMovement.cs:29)</code></p>\n\n<p>Here is my code. Notice Rigidbody is set, <strong>the object DOES have a rigid body as the first debug.log displays the name of the object it is on.</strong> But these two lines refuse to work</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class VelocityBasedPlayerMovement : MonoBehaviour\n{\n    private Rigidbody rb;\n    public int maxSpeed;\n    public float speedMult;\n    public float acceleration;\n    public float decelleration;\n    private bool keyNotPressed = false;\n    private Vector3 velocity = new Vector3(0, 0, 0);\n    private Vector3 temp = new Vector3(0, 0, 0);\n    // Start is called before the first frame update\n    void Start()\n    {\n\n        rb = gameObject.GetComponent&lt;Rigidbody&gt;();\n\n        /*THIS IS FINE\n        Debug.Log(\"Rigidbody attached to: \"+rb.gameObject.name);\n        */\n        if(rb = null)\n        {\n            Debug.LogError(\"Could not find Rigid Body!\\n\" + this.name);\n        }\n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n        /*THIS IS AN ERROR\n        Debug.Log(\"Rigidbody attached to: \" + rb.gameObject.name);\n        */\n        // TODO Make these proper controls instead of static keys\n\n        if (Input.GetKeyDown(KeyCode.W))\n        {\n            keyNotPressed = false;\n            temp += this.transform.forward;\n        }\n        if (Input.GetKeyDown(KeyCode.S))\n        {\n            keyNotPressed = false;\n            temp += -this.transform.forward;\n        }\n        if (Input.GetKeyDown(KeyCode.A))\n        {\n            keyNotPressed = false;\n            temp += -this.transform.right;\n        }\n        if (Input.GetKeyDown(KeyCode.D))\n        {\n            keyNotPressed = false;\n            temp += this.transform.right;\n        }\n        else if(Input.GetKeyDown(KeyCode.None))\n        {\n            keyNotPressed = true;\n            temp = new Vector3(0, 0, 0);\n        }\n        temp = temp.normalized;\n\n    }\n\n    void FixedUpdate()\n    {\n        if (!keyNotPressed)\n        {\n            if ((velocity + temp).magnitude &gt; maxSpeed)\n            {\n                velocity = temp;\n                Debug.LogWarning(\"Player is above max speed!\\n\" + (velocity + temp).magnitude);\n            }\n            else\n            {\n                velocity = temp*acceleration;\n            }\n\n        }\n        else\n        {\n            velocity -= velocity * decelleration;\n        }\n       /*Error here too\n       rb.velocity = velocity;\n       */\n    }\n\n}\n</code></pre>\n\n<p>Yes, I know the code shouldnt work as intended, but I am working on that. It is just hard to test it when the Rigidbody refuses to be set properly</p>\n"}, {"tags": ["c#", "console-application"], "comments": [{"owner": {"reputation": 4969, "user_id": 2225808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb0741ac4ae6202ca572d49d64395db?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/2225808/stuart"}, "edited": false, "score": 1, "creation_date": 1575501768, "post_id": 59185967, "comment_id": 104592149, "body": "You might want to check the the length of the array is 2 as expected. If you have a trailing newline in your file it will break for example."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1575502220, "post_id": 59185967, "comment_id": 104592287, "body": "Learning how to <a href=\"https://idownvotedbecau.se/nodebugging/\" rel=\"nofollow noreferrer\">use the debugger</a> will help you in resolving this and many other problems in your code."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1575502295, "post_id": 59185967, "comment_id": 104592306, "body": "I don&#39;t believe the code you&#39;ve shown can produce that output. Most likely the issue is that there&#39;s a blank line at the beginning of the file, and your code is failing on this line: <code>string annswer = lineArray[1];</code> (you have hard-coded index <code>1</code> without first checking the size of the <code>lineArray</code>). However, in that case no other output would be shown than the error message. When I copy/paste your code and sample file contents, it works correctly, so something is different on your machine - either the code, the file contents, or both."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1575502987, "post_id": 59185967, "comment_id": 104592508, "body": "@RufusL An extra line break at the end will produce that output."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1575503064, "post_id": 59185967, "comment_id": 104592531, "body": "@LarsTech Ah, of course! I missed that the answers and questions were output separately, and was thinking that the error would be at the end of the output instead of the beginning in that case. Good catch."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 1787151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c78ddbab629e2a3c06415187dcd39b?s=128&d=identicon&r=PG", "display_name": "Trenchie", "link": "https://stackoverflow.com/users/1787151/trenchie"}, "is_accepted": false, "score": 1, "last_activity_date": 1575502699, "creation_date": 1575502699, "answer_id": 59186150, "question_id": 59185967, "link": "https://stackoverflow.com/questions/59185967/having-troubles-trying-to-read-and-display-a-text-file-to-the-console-in-c/59186150#59186150", "title": "Having troubles trying to read and display a text file to the console in c#", "body": "<p>From playing around with your code, it looks like you might have some newlines at the end of your questions.txt file. Getting rid of those would fix your initial problem, but the real issue is that you're not checking each line to see if it contains a comma, nor are you discarding empty rows of data. Here's an approach that does both:</p>\n\n<pre><code>static void LoadData(string filename, List&lt;string&gt; questions, List&lt;string&gt; answers)\n{\n    try\n    {\n        using (StreamReader reader = new StreamReader(filename))\n        {\n            string[] lines= \n                reader.ReadToEnd() //Read the whole file\n                .Trim() //Get rid of whitespace at the beginning and end of the file, no more random newlines at the end.\n                .Split(new[] { Environment.NewLine }, StringSplitOptions.RemoveEmptyEntries) //Separate each line AND remove any empty lines.\n            ;\n            foreach (string _line in lines)\n            {\n                string line = _line.Trim();\n                if (!line.Contains(','))\n                {\n                    Console.Error.WriteLine(\"!!! Line did not contain comma for separation\");\n                    Console.Error.WriteLine(\"!!!!!! \" + line);\n                    continue; //Just go on to the next line.\n                }\n                string[] lineArray = line.Split(',');\n                string answer = lineArray[1];\n                string question = lineArray[0];\n                questions.Add(question);\n                answers.Add(answer);\n            }\n        }\n    }\n    catch (Exception e)\n    {\n        Console.WriteLine(\"File could not be read\");\n        Console.WriteLine(e.Message);\n    }\n}\n</code></pre>\n\n<p>Of course if you want to read each line in separately, just check each line to make sure that it has any length after being trimmed (skip it if not) and that it contains a comma (log the error)</p>\n"}, {"tags": [], "owner": {"reputation": 409, "user_id": 6808408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae83ef54fa613e7725f22af9a6e7faa?s=128&d=identicon&r=PG&f=1", "display_name": "jornathan", "link": "https://stackoverflow.com/users/6808408/jornathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1575503375, "creation_date": 1575503375, "answer_id": 59186225, "question_id": 59185967, "link": "https://stackoverflow.com/questions/59185967/having-troubles-trying-to-read-and-display-a-text-file-to-the-console-in-c/59186225#59186225", "title": "Having troubles trying to read and display a text file to the console in c#", "body": "<p>This is one of technique to handle exception.<br>\nI've tried your code but it works well.<br>\nApply my code it and look my comment.</p>\n\n<pre><code>static void LoadData(string filename, List&lt;string&gt; questions, List&lt;string&gt; answers)\n{\n    string readText = \"\"; //for writing error at catch clause.\n    try\n    {\n        using (StreamReader reader = new StreamReader(filename))\n        {\n            string line;\n\n            while ((line = reader.ReadLine()) != null)\n            {\n                readText = line;  //copy text line which is current.\n\n                string[] lineArray = line.Split(',');\n                string annswer = lineArray[1];\n                string question = lineArray[0];\n                questions.Add(question);\n                answers.Add(annswer);\n            }\n        }\n    }\n    catch (Exception e)\n    {\n        //print error with problem text.\n        Console.WriteLine(\"File could not be read from : {0}\", readText);  \n        Console.WriteLine(e.Message);\n    }\n}\n</code></pre>\n\n<p>Also, this is another,<br>\nMove to : Menu -> DEBUG -> Windows -> Exception settings.\nAnd then check \"Common Language Runtime Exception\".\nThis will allow stop where occur problem. It doesn't matter that is in try~catch clause or not.<br>\nThis is one of best way to find problem in loop statement.</p>\n\n<p><a href=\"https://i.stack.imgur.com/q8N9m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q8N9m.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1575503394, "creation_date": 1575503394, "answer_id": 59186231, "question_id": 59185967, "link": "https://stackoverflow.com/questions/59185967/having-troubles-trying-to-read-and-display-a-text-file-to-the-console-in-c/59186231#59186231", "title": "Having troubles trying to read and display a text file to the console in c#", "body": "<p>I suspect that there's a blank line (or at least a line without a comma) at the end of the file, and then this line: <code>string annswer = lineArray[1];</code> is throwing an exception because you've hard-coded index <code>1</code> without first checking the size of the <code>lineArray</code>. Then the error is shown, but only after the questions and answers have been populated, so you also see those output to the console.</p>\n\n<p>To avoid this, it's a general good practice is to ensure that an array index exists before checking it. Something like this might be helpful:</p>\n\n<pre><code>while ((line = reader.ReadLine()) != null)\n{\n    string[] lineArray = line.Split(',');\n\n    // If this line doesn't contain a comma, then skip it\n    if (lineArray.Length &lt; 2) continue;\n\n    string annswer = lineArray[1];\n    string question = lineArray[0];\n    questions.Add(question);\n    answers.Add(annswer);\n}\n</code></pre>\n\n<p>Alternatively, you could throw an exception:</p>\n\n<pre><code>// If this line doesn't contain a comma, throw an exception\nif (lineArray.Length &lt; 2)\n{\n    throw new FormatException($\"This line does not contain a comma: {line}\");\n}\n</code></pre>\n\n<hr>\n\n<p>Additionally, you could simplify your code slightly by using the <code>System.IO.File</code> class to read the file:</p>\n\n<pre><code>static void LoadData(string filename, List&lt;string&gt; questions, List&lt;string&gt; answers)\n{\n    try\n    {\n        foreach (var line in File.ReadLines(filename))\n        {\n            var lineArray = line.Split(',');\n\n            // If this line doesn't contain a comma, skip it\n            if (lineArray.Length &lt; 2) continue;\n\n            questions.Add(lineArray[0]);\n            answers.Add(lineArray[1]);\n        }\n    }\n    catch (Exception e)\n    {\n        Console.WriteLine($\"Error reading file: {e.Message}\");\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 7217943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2dcb75836d283c5dc9159dcd6b3e8bb?s=128&d=identicon&r=PG&f=1", "display_name": "Cole.C", "link": "https://stackoverflow.com/users/7217943/cole-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1575503394, "creation_date": 1575501468, "question_id": 59185967, "link": "https://stackoverflow.com/questions/59185967/having-troubles-trying-to-read-and-display-a-text-file-to-the-console-in-c", "title": "Having troubles trying to read and display a text file to the console in c#", "body": "<p>I am trying to make a trivia game in c# using a console application. And I am having troubles getting the console to read the file. Currently what its doing is saying that the file could not be read and the the index was outside the bounds of the array. But then everything that is in the text file gets displayed. I am unsure on what I get the file could not be read but then the file gets displayed.</p>\n\n<p>The file is a .txt file and here is what is looks like</p>\n\n<pre><code>What is another name for SuperMan?,the man of steel\nWhat is Superman's only weakness?,kryptonite\nWhat is the name of Batman's secret identity?,bruce wayne\nBatman protects what city?,gotham city\nHow did Spiderman get his superpowers?,bitten by a radioactive sipder\nThis superheros tools include a bullet-proof braclets and a magic lasso.Who is she?,wonder woman\nWhich superhero has an indestructible sheild?,captain america\nWhich superhero cannot transformback into human form?,the thing\nWhat villan got his distinctive appearance form toxic chemicals?,joker\nWhat is the name of the archnemesis of the Fantastic Four?, dr doom\n</code></pre>\n\n<p>Here is the code that I have for reading and displaying the file.</p>\n\n<pre><code>static void Main(string[] args)\n    {\n        string filename = @\"C:\\Trivia\\questions.txt\";\n        List&lt;string&gt; questions = new List&lt;string&gt;();\n        List&lt;string&gt; answers = new List&lt;string&gt;();\n\n        LoadData(filename, questions, answers);\n\n        Console.WriteLine();\n        questions.ForEach(Console.WriteLine);\n        Console.WriteLine();\n        answers.ForEach(Console.WriteLine);\n    }\n\n    static void LoadData(string filename, List&lt;string&gt; questions, List&lt;string&gt; answers)\n    {\n        try\n        {\n            using(StreamReader reader = new StreamReader(filename))\n            {\n                string line;\n\n                while((line = reader.ReadLine()) != null)\n                {\n                    string[] lineArray = line.Split(',');\n                    string annswer = lineArray[1];\n                    string question = lineArray[0];\n                    questions.Add(question);\n                    answers.Add(annswer);\n                }\n            }\n        }\n        catch(Exception e)\n        {\n            Console.WriteLine(\"File could not be read\");\n            Console.WriteLine(e.Message);\n        }\n    }\n</code></pre>\n\n<p>Here is the output on the console.</p>\n\n<pre><code>File could not be read\nIndex was outside the bounds of the array.\n\nWhat is another name for SuperMan?\nWhat is Superman's only weakness?\nWhat is the name of Batman's secret identity?\nBatman protects what city?\nHow did Spiderman get his superpowers?\nThis superheros tools include a bullet-proof braclets and a magic lasso.Who is she?\nWhich superhero has an indestructible sheild?\nWhich superhero cannot transformback into human form?\nWhat villan got his distinctive appearance form toxic chemicals?\nWhat is the name of the archnemesis of the Fantastic Four?\n\nthe man of steel\nkryptonite\nbruce wayne\ngotham city\nbitten by a radioactive sipder\nwonder woman\ncaptain america\nthe thing\njoker\ndr doom\n</code></pre>\n\n<p>Thanks for the suggestions.</p>\n"}, {"tags": ["c#", ".net", ".net-core"], "comments": [{"owner": {"reputation": 11286, "user_id": 5953643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e03e28629383def59c31d54fb8bb3982?s=128&d=identicon&r=PG", "display_name": "Brandon Minnick", "link": "https://stackoverflow.com/users/5953643/brandon-minnick"}, "edited": false, "score": 2, "creation_date": 1575501363, "post_id": 59185885, "comment_id": 104592043, "body": ".NET Standard isn&#39;t a framework; ie It doesn&#39;t contain a runtime. .NET Standard is just an abstraction of APIs that can be used by a .NET Runtime like .NET Core, .NET Framework, Xamarin.iOS, Xamarin.Android, Mono, etc."}, {"owner": {"reputation": 781, "user_id": 6629020, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U-9xLhDDRnA/AAAAAAAAAAI/AAAAAAAAABc/zVAAcCCKMuk/photo.jpg?sz=128", "display_name": "Basil Kosovan", "link": "https://stackoverflow.com/users/6629020/basil-kosovan"}, "reply_to_user": {"reputation": 11286, "user_id": 5953643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e03e28629383def59c31d54fb8bb3982?s=128&d=identicon&r=PG", "display_name": "Brandon Minnick", "link": "https://stackoverflow.com/users/5953643/brandon-minnick"}, "edited": false, "score": 0, "creation_date": 1575501429, "post_id": 59185885, "comment_id": 104592065, "body": "@BrandonMinnick I mean that it&#39;s a possible value for <code>TargetFramework</code>"}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1575511433, "post_id": 59185885, "comment_id": 104594382, "body": "That documentation page lacks of other supporting facts: 1) For WPF projects on .NET Core 3.0, there are necessary references (not WindowsBase.dll from .NET Framework) to enable WPF related classes. 2) Those references are automatically referenced by the SDK, if the project file matches certain criteria. Microsoft expects you to learn such facts from experiments, but I doubt how many developers at least give it a try."}], "owner": {"reputation": 781, "user_id": 6629020, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U-9xLhDDRnA/AAAAAAAAAAI/AAAAAAAAABc/zVAAcCCKMuk/photo.jpg?sz=128", "display_name": "Basil Kosovan", "link": "https://stackoverflow.com/users/6629020/basil-kosovan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575501218, "creation_date": 1575500888, "last_edit_date": 1575501218, "question_id": 59185885, "link": "https://stackoverflow.com/questions/59185885/net-core-project-depends-on-net-framework-project", "title": ".Net - Core project depends on .Net Framework project", "body": "<p>There are three different target frameworks:</p>\n\n<pre><code> - .NET Framework (1)\n - .NET Core (2)\n - .NET Standard (3)\n</code></pre>\n\n<p>1 or 2 could depend on a project which has written on 3, but 1 couldn't depend on 2 or vice versa.</p>\n\n<p>If we consider <code>WindowsBase.dll</code> that is written on .NET Framework (<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.dependencyproperty?view=netframework-4.8\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.windows.dependencyproperty?view=netframework-4.8</a>) we will see that this DLL could be used in .Net Core project.\nSection <code>Applies to</code> says that this DLL could be used in both.\nHow it could be possible?</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms", "xamarin.android", "xamarin.ios"], "answers": [{"tags": [], "owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "is_accepted": true, "score": 3, "last_activity_date": 1575501094, "creation_date": 1575501094, "answer_id": 59185916, "question_id": 59185883, "link": "https://stackoverflow.com/questions/59185883/c-change-image-column-and-row/59185916#59185916", "title": "C# Change Image Column and Row", "body": "<p>remove it then re-add it in the correct cell</p>\n\n<pre><code>MainGrid.Children.Remove(imgColorPicker);\nMainGrid.Children.Add(imgColorPicker, col, row);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12481796, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7qirKZEU1oE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfoNEy05_Ntzb6eMiDwXydES9IcOA/photo.jpg?sz=128", "display_name": "Armando Marin", "link": "https://stackoverflow.com/users/12481796/armando-marin"}, "is_accepted": false, "score": 0, "last_activity_date": 1575501391, "creation_date": 1575501391, "answer_id": 59185956, "question_id": 59185883, "link": "https://stackoverflow.com/questions/59185883/c-change-image-column-and-row/59185956#59185956", "title": "C# Change Image Column and Row", "body": "<p>There isn't any condition to change the row index? If there is, you can change it with a trigger or value converter. You can achive that in the code behind too, check this <a href=\"https://stackoverflow.com/questions/3745594/how-to-set-grid-row-and-column-positions-programmatically\">how-to-set-grid-row-and-column-positions-programmatically</a></p>\n"}, {"tags": [], "owner": {"reputation": 5, "user_id": 12480420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7b30448d6e51ea330889f2a1bfe590?s=128&d=identicon&r=PG&f=1", "display_name": "mehmet_demir", "link": "https://stackoverflow.com/users/12480420/mehmet-demir"}, "is_accepted": false, "score": 0, "last_activity_date": 1575504731, "creation_date": 1575504731, "answer_id": 59186403, "question_id": 59185883, "link": "https://stackoverflow.com/questions/59185883/c-change-image-column-and-row/59186403#59186403", "title": "C# Change Image Column and Row", "body": "<p>The following should solve your problem:</p>\n\n<pre><code>Grid.SetRow(imgColorPicker, 2);\n</code></pre>\n"}], "owner": {"reputation": 1125, "user_id": 10673107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af7b038fd4ece99899155691ef064e4?s=128&d=identicon&r=PG&f=1", "display_name": "A. Vreeswijk", "link": "https://stackoverflow.com/users/10673107/a-vreeswijk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 59185916, "answer_count": 3, "score": 0, "last_activity_date": 1575504731, "creation_date": 1575500873, "question_id": 59185883, "link": "https://stackoverflow.com/questions/59185883/c-change-image-column-and-row", "title": "C# Change Image Column and Row", "body": "<p>I have a question. I added an Image to my Grid, but now I want to change the row of the image from 0 to 2. I already gave my image a name: \"imgColorPicker\" How can I do this using C#?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>&lt;Grid VerticalOptions=\"Center\" x:Name=\"MainGrid\"&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition Height=\"50\" /&gt;\n        &lt;RowDefinition Height=\"*\" /&gt;\n        &lt;RowDefinition Height=\"50\" /&gt;\n    &lt;/Grid.RowDefinitions&gt;\n\n    &lt;Image Grid.Row=\"0\" Source=\"Color_Picker\" x:Name=\"imgColorPicker\"/&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["c#", "json", "json.net"], "comments": [{"owner": {"reputation": 31, "user_id": 9791136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/249a36e27890317bcda06efb24a98351?s=128&d=identicon&r=PG&f=1", "display_name": "Dracon", "link": "https://stackoverflow.com/users/9791136/dracon"}, "edited": false, "score": 0, "creation_date": 1575503759, "post_id": 59185866, "comment_id": 104592707, "body": "I have found a work around (separate arrays of POI&#39;s etc, which are then referenced by ID), however I am still quite interested in the answer for this!"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9791136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/249a36e27890317bcda06efb24a98351?s=128&d=identicon&r=PG&f=1", "display_name": "Dracon", "link": "https://stackoverflow.com/users/9791136/dracon"}, "edited": false, "score": 0, "creation_date": 1575506637, "post_id": 59186308, "comment_id": 104593384, "body": "Works perfectly!"}], "tags": [], "owner": {"reputation": 7748, "user_id": 550314, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Wg7ZV.jpg?s=128&g=1", "display_name": "Chris F Carroll", "link": "https://stackoverflow.com/users/550314/chris-f-carroll"}, "is_accepted": true, "score": 1, "last_activity_date": 1575504370, "last_edit_date": 1575504370, "creation_date": 1575504035, "answer_id": 59186308, "question_id": 59185866, "link": "https://stackoverflow.com/questions/59185866/keep-inherited-class-types-with-json-net/59186308#59186308", "title": "Keep inherited class types with JSON.Net", "body": "<p>You can <a href=\"https://www.newtonsoft.com/json/help/html/SerializeTypeNameHandling.htm\" rel=\"nofollow noreferrer\">tell Json.Net to write and read Type Information</a> by passing in a <code>JsonSerializerSettings</code> value for both the write and read steps:</p>\n\n<pre><code>static JsonSerializerSettings withTypes= new JsonSerializerSettings\n{\n  TypeNameHandling = TypeNameHandling.All\n};\n\nvar serialized = JsonConvert.SerializeObject(myZoneArray, withTypes);\n\nConsole.WriteLine(serialized);\n\nvar result= JsonConvert.DeserializeObject&lt;Zone[]&gt;(serialized,withTypes);\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 9791136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/249a36e27890317bcda06efb24a98351?s=128&d=identicon&r=PG&f=1", "display_name": "Dracon", "link": "https://stackoverflow.com/users/9791136/dracon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 59186308, "answer_count": 1, "score": 0, "last_activity_date": 1575504370, "creation_date": 1575500777, "last_edit_date": 1575502360, "question_id": 59185866, "link": "https://stackoverflow.com/questions/59185866/keep-inherited-class-types-with-json-net", "title": "Keep inherited class types with JSON.Net", "body": "<p>I am using JSON.Net to serialize a set of data so that I could theoretically work on it externally to the project. The structure is as follows:</p>\n\n<p>Zone\n<br>- name\n<br>- position\n<br>- POI [ ]</p>\n\n<p>POI\n<br>- name\n<br>- position</p>\n\n<p>Town : POI\n<br>- population</p>\n\n<p>etc.</p>\n\n<p>I initially serialised the data using JSON.Net, simply calling <code>JsonConvert.Serialise(myZoneArray)</code>.\nThis worked and gave me an appropriate json string which I copied to file. </p>\n\n<p>I then deserialized it, which also succeeded. However, when I call <code>return this.GetType()</code> on any of my POI's, they are all returning the base POI class. Thus, I think I am losing the objects inheritance as I serialize and deserialize it. </p>\n\n<p>Are there any existing solutions to this?</p>\n"}, {"tags": ["c#", ".net", "entity-framework", "entity-framework-core", "entity-framework-migrations"], "comments": [{"owner": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "edited": false, "score": 0, "creation_date": 1575503357, "post_id": 59185837, "comment_id": 104592606, "body": "What is the datatype of the <code>Name</code> column in your database?"}, {"owner": {"reputation": 16418, "user_id": 899271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jNYoq.jpg?s=128&g=1", "display_name": "Enigma State", "link": "https://stackoverflow.com/users/899271/enigma-state"}, "reply_to_user": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "edited": false, "score": 0, "creation_date": 1575503420, "post_id": 59185837, "comment_id": 104592621, "body": "it is enum i am using this for creating database and code first approach"}], "answers": [{"tags": [], "owner": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "is_accepted": true, "score": 1, "last_activity_date": 1575504215, "creation_date": 1575504215, "answer_id": 59186336, "question_id": 59185837, "link": "https://stackoverflow.com/questions/59185837/getting-entity-framework-migration-error-with-enum/59186336#59186336", "title": "Getting Entity Framework migration error with enum", "body": "<p>It's a known issue that EntityFramework doesn't play well with enum values. I don't know that this works with code-first, but I've had success with mapping column values to enums with something like this. In your entity (POCO):</p>\n\n<pre><code>[NotMapped]\npublic RequestActionEnum Name\n{\n     get { return (RequestActionEnum)NameValue; }\n     set { NameValue = (int)value; }\n}\n\n[Column(\"Name\")]\npublic int NameValue { get; set; }\n</code></pre>\n\n<p>It's not the most elegant solution, but it will probably work.</p>\n"}, {"tags": [], "owner": {"reputation": 4650, "user_id": 4139809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950022a8882128ae019d3c0bda011723?s=128&d=identicon&r=PG", "display_name": "Jeremy Lakeman", "link": "https://stackoverflow.com/users/4139809/jeremy-lakeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1575511179, "creation_date": 1575511179, "answer_id": 59187130, "question_id": 59185837, "link": "https://stackoverflow.com/questions/59185837/getting-entity-framework-migration-error-with-enum/59187130#59187130", "title": "Getting Entity Framework migration error with enum", "body": "<p>I tend to store all enums as strings using a <a href=\"https://docs.microsoft.com/en-us/ef/core/modeling/value-conversions\" rel=\"nofollow noreferrer\">value converter</a>. Do you need to explicitly specify that your enums are stored as numbers?</p>\n"}], "owner": {"reputation": 16418, "user_id": 899271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jNYoq.jpg?s=128&g=1", "display_name": "Enigma State", "link": "https://stackoverflow.com/users/899271/enigma-state"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 59186336, "answer_count": 2, "score": 0, "last_activity_date": 1575522911, "creation_date": 1575500577, "last_edit_date": 1575522911, "question_id": 59185837, "link": "https://stackoverflow.com/questions/59185837/getting-entity-framework-migration-error-with-enum", "title": "Getting Entity Framework migration error with enum", "body": "<p>I have an entity and an enum like this:</p>\n\n<pre><code>public class RequestType\n{\n    public Guid RequestTypeId { get; set; }\n    public RequestActionEnum Name { get; set; }\n    public ICollection&lt;Request&gt; Requests { get; set; }\n}\n</code></pre>\n\n<p>Here is the enum <code>RequestActionEnum</code>:</p>\n\n<pre><code>public enum RequestActionEnum\n{\n    New,\n    Update,\n    Archive\n}\n</code></pre>\n\n<p>I am doing database migrations with Entity Framework Core using this code:</p>\n\n<pre><code> protected override void OnModelCreating(ModelBuilder modelBuilder)\n {\n        modelBuilder.Entity&lt;RequestType&gt;().HasData(\n            new RequestType { RequestTypeId = Guid.NewGuid(), Name = RequestActionEnum.New },\n            new RequestType { RequestTypeId = Guid.NewGuid(), Name = RequestActionEnum.Update },\n            new RequestType { RequestTypeId = Guid.NewGuid(), Name = RequestActionEnum.Archive }\n            );\n  }\n</code></pre>\n\n<p>But while updating the database using <code>Update-Database</code>, I get this error:</p>\n\n<blockquote>\n  <p>Column \"Name\" cannot be cast automatically to type integer</p>\n</blockquote>\n\n<p>I am using Entity Framework Core 3.0 and code-first approach and I am not sure why I am getting this error.</p>\n\n<p>Could any one please suggest any idea about this issue?</p>\n\n<p>Many thanks in advance.</p>\n"}, {"tags": ["c#", "ssms"], "comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1575500719, "post_id": 59185813, "comment_id": 104591889, "body": "what you thought is right. you need to convert your image to byte[] before adding it to the parameter. thats all you gonna do. Then when you try to read it back you read it as byte[] and convert it to an Image object."}, {"owner": {"reputation": 1, "user_id": 12482649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d1f0085b769944c6aeaa3c2ce8a0cb1?s=128&d=identicon&r=PG&f=1", "display_name": "LedZeppelin1969", "link": "https://stackoverflow.com/users/12482649/ledzeppelin1969"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1575501876, "post_id": 59185813, "comment_id": 104592173, "body": "Where I am lost is I don&#39;t know where I should put that in, should it be on my form.cs under Button_Click or should it go here, and where? I mean I know that placement isn&#39;t that critical. However, I am also confused on the format."}, {"owner": {"reputation": 2458, "user_id": 1348592, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1f388cdc864045a88ce41e038e42fa4b?s=128&d=identicon&r=PG", "display_name": "robbpriestley", "link": "https://stackoverflow.com/users/1348592/robbpriestley"}, "edited": false, "score": 0, "creation_date": 1575508007, "post_id": 59185813, "comment_id": 104593674, "body": "What is the data type of model.ScreenShot?"}, {"owner": {"reputation": 1, "user_id": 12482649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d1f0085b769944c6aeaa3c2ce8a0cb1?s=128&d=identicon&r=PG&f=1", "display_name": "LedZeppelin1969", "link": "https://stackoverflow.com/users/12482649/ledzeppelin1969"}, "edited": false, "score": 0, "creation_date": 1575513655, "post_id": 59185813, "comment_id": 104594787, "body": "I am using class System.Drawing.Image. It reads: public Image ScreenShot { get; set; } should it change?"}], "owner": {"reputation": 1, "user_id": 12482649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d1f0085b769944c6aeaa3c2ce8a0cb1?s=128&d=identicon&r=PG&f=1", "display_name": "LedZeppelin1969", "link": "https://stackoverflow.com/users/12482649/ledzeppelin1969"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575500923, "creation_date": 1575500393, "last_edit_date": 1575500923, "question_id": 59185813, "link": "https://stackoverflow.com/questions/59185813/the-member-screenshot-of-type-system-drawing-bitmap-cannot-be-used-as-a-paramete", "title": "The member ScreenShot of type System.Drawing.Bitmap cannot be used as a parameter value", "body": "<p>I have pretty much exhausted all of my knowledge up to this point, I keep getting an error on VS 2019:\n(System.NotSupportedException\n  HResult=0x80131515\n  Message=The member ScreenShot of type System.Drawing.Bitmap cannot be used as a parameter value\n  Source=Dapper)\nI am attempting to save a screenshot to a SQL database, I have created a stored procedure to save it to the table. \nI understand that I need to convert it from bitmap to binary and its being stored in SQL as varbinary(MAX). I just do not know where I need to place that conversion. Perhaps, that is not even the issue here. I greatly appreciate any advice, and thank you all ahead of time. </p>\n\n<pre><code>using (IDbConnection connection = new System.Data.SqlClient.SqlConnection(GlobalConfig2.CnnString(\"REPORTSSQL\")))\n{              \n  var P = new DynamicParameters();\n  P.Add(\"UserName\", model.UserName);\n  P.Add(\"EmailAddress\", model.EmailAddress);\n  P.Add(\"PhoneNumber\", model.PhoneNumber);\n  P.Add(\"CommentBox\", model.CommentBox);\n  P.Add(\"CreateDate\", model.CreateDate);\n  P.Add(\"ScreenShot\", model.ScreenShot);\n  P.Add(\"Id\", 0, dbType: DbType.Int32, direction: ParameterDirection.Output);\n  model.ScreenShot = P.Get&lt;Image&gt;(\"@ScreenShot\");\n\n  connection.Execute(\"dbo.spInterReportTable_Insert1\", P, commandType: CommandType.StoredProcedure);\n\n  model.Id = P.Get&lt;int&gt;(\"@Id\");\n\n  return model;\n}\n</code></pre>\n\n<p>I am experiencing the exception being thrown at connection.Execute</p>\n\n<p>I am fairly new to C# and to coding in general, and I am sorry if I'm unintentionally vague here.  </p>\n"}, {"tags": ["c#", "visual-studio", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1575535915, "post_id": 59187185, "comment_id": 104601721, "body": "OP can&#39;t use the same script though since he uses a singleton pattern <code>the = this;</code> ;) But this doesn&#39;t invalidate the answer of course"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1575536017, "post_id": 59187185, "comment_id": 104601761, "body": "And the <code>foreach</code> is probably fine but slightly more efficient would be to only disable the current object, then update the index, then enable the new object but thats just details ;)"}, {"owner": {"reputation": 71, "user_id": 10347478, "user_type": "registered", "profile_image": "https://graph.facebook.com/2192163497738895/picture?type=large", "display_name": "Anis Brachemi", "link": "https://stackoverflow.com/users/10347478/anis-brachemi"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1575602938, "post_id": 59187185, "comment_id": 104630470, "body": "Thank you very much @derHugo , I fixed the code but left the foreach loop as a more general answer but you are definitely right ! Thanks."}], "tags": [], "owner": {"reputation": 71, "user_id": 10347478, "user_type": "registered", "profile_image": "https://graph.facebook.com/2192163497738895/picture?type=large", "display_name": "Anis Brachemi", "link": "https://stackoverflow.com/users/10347478/anis-brachemi"}, "is_accepted": true, "score": 2, "last_activity_date": 1575602793, "last_edit_date": 1575602793, "creation_date": 1575511602, "answer_id": 59187185, "question_id": 59185803, "link": "https://stackoverflow.com/questions/59185803/trying-to-figure-out-how-to-make-a-next-and-previous-button/59187185#59187185", "title": "Trying to figure out how to make a next and previous button", "body": "<p>The easiest way to do it would be to use the same script but add a variable to tell if its a Next or previous Button like this:</p>\n\n<pre><code>public class InfoButtonLoad : GameButton\n{\n    public static InfoButtonLoad the;\n    public bool isNext;\n    [SerializeField] private GameObject[] infoSelect;\n    public int infoSwitch;\n\n    void Start()\n    {\n\n    }\n\n    public override void PressAction()\n    {\n        if(isNext){\n            infoSwitch++;\n            if(infoSwitch == 5){\n                infoSwitch = 0;\n            }\n        }else{\n            infoSwitch--;\n            if(infoSwitch == 0){\n                infoSwitch = 4;\n            }\n        }\n        InfoButtonCase();\n    }\n\n    public void InfoButtonCase()\n    {\n        foreach(GameObject info in infoSelect)\n        {\n            info.SetActive(false);\n        }\n        infoSelect[infoSwitch].SetActive(true);\n\n    }\n    void HideInfo()\n    {\n        for (var i = 0; i &lt; infoSelect.Length; i++)\n            infoSelect[i].SetActive(false);\n    }\n}\n</code></pre>\n\n<p>I also removed your switch as it could have been replaced by fewer lines. All you have to do is set the script in both your buttons and make check isNext in the Next button in the Inspector.</p>\n"}], "owner": {"reputation": 61, "user_id": 12028559, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBuqjevOkA7NM6fTmSt_6odRV26aORA5yClp6h3=k-s128", "display_name": "God Bleach", "link": "https://stackoverflow.com/users/12028559/god-bleach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 59187185, "answer_count": 1, "score": 1, "last_activity_date": 1575602793, "creation_date": 1575500307, "question_id": 59185803, "link": "https://stackoverflow.com/questions/59185803/trying-to-figure-out-how-to-make-a-next-and-previous-button", "title": "Trying to figure out how to make a next and previous button", "body": "<p>Hey guys so I'm trying to program a next and previous button for a menu on my game. I've made a script that I've attached to a sprite that has a Collider. When this collider is clicked it will load the next image. How would I go about creating a previous and next button, would I just make another gameobject and assign this scripts to them?</p>\n\n<p>Here is the script.</p>\n\n<pre><code>public class InfoButtonLoad : GameButton\n{\n    public static InfoButtonLoad the;\n    [SerializeField] private GameObject[] infoSelect;\n    public int infoSwitch;\n\n    void Start()\n    {\n        the = this;\n    }\n\n    public override void PressAction()\n    {\n        infoSwitch++;\n        InfoButtonCase();\n    }\n\n    public void InfoButtonCase()\n    {\n        switch (infoSwitch)\n        {\n            case 1:\n                infoSelect[0].SetActive(true);\n                infoSelect[1].SetActive(false);\n                break;\n            case 2:\n                infoSelect[0].SetActive(false);\n                infoSelect[1].SetActive(true);\n                break;\n            case 3:\n                infoSelect[1].SetActive(false);\n                infoSelect[2].SetActive(true);\n                break;\n            case 4:\n                infoSelect[2].SetActive(false);\n                infoSelect[3].SetActive(true);\n                break;\n            case 5:\n                infoSelect[3].SetActive(false);\n                infoSelect[4].SetActive(true);\n                infoSwitch = 0;\n                break;\n        }\n    }\n    void HideInfo()\n    {\n        for (var i = 0; i &lt; infoSelect.Length; i++)\n            infoSelect[i].SetActive(false);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api2"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 3, "creation_date": 1575500748, "post_id": 59185776, "comment_id": 104591895, "body": "Please don&#39;t post code as images."}, {"owner": {"reputation": 2719, "user_id": 534514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n77PT.png?s=128&g=1", "display_name": "Mike S", "link": "https://stackoverflow.com/users/534514/mike-s"}, "edited": false, "score": 0, "creation_date": 1575510457, "post_id": 59185776, "comment_id": 104594194, "body": "Can it just be a per-request variable? Why Global, and why per-user.  You usage in CustomersController looks like it&#39;s just being used on the current request anyways. Globals per-user is a major anti-pattern (what happens when you scale to multiple instances; etc)"}, {"owner": {"reputation": 1, "user_id": 12482612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a39b25821261d72d4f18758ec1b4e50?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir", "link": "https://stackoverflow.com/users/12482612/vladimir"}, "edited": false, "score": 0, "creation_date": 1575517743, "post_id": 59185776, "comment_id": 104595670, "body": "Per request would mean that I need to Validate Client API Key (X-API-Key header) each time which I don&#39;t want to. Every call would go thru APIKeyHandler where I&#39;d validate Client API Key (X-API-Key header) once, set up &quot;global-per-user/call&quot; variables, so I can use them in called method."}, {"owner": {"reputation": 11104, "user_id": 7329832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96a4e398a7a3d75e8cffbc635860e01a?s=128&d=identicon&r=PG&f=1", "display_name": "jps", "link": "https://stackoverflow.com/users/7329832/jps"}, "edited": false, "score": 0, "creation_date": 1575547549, "post_id": 59185776, "comment_id": 104607812, "body": "<a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-on-so-when-asking-a-question/285557#285557\">Why not upload images of code on SO when asking a question?</a>"}, {"owner": {"reputation": 2719, "user_id": 534514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n77PT.png?s=128&g=1", "display_name": "Mike S", "link": "https://stackoverflow.com/users/534514/mike-s"}, "edited": false, "score": 0, "creation_date": 1575569607, "post_id": 59185776, "comment_id": 104619740, "body": "From a security perspective, you do need to validate the key on <i>every</i> request (as you can&#39;t trust the client).  However, you could optimize that validation by having a cache of previously validated results. That cache could be a static variable, and you can clear it anytime and it would just get rebuilt."}, {"owner": {"reputation": 1, "user_id": 12482612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a39b25821261d72d4f18758ec1b4e50?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir", "link": "https://stackoverflow.com/users/12482612/vladimir"}, "edited": false, "score": 0, "creation_date": 1575574421, "post_id": 59185776, "comment_id": 104622053, "body": "Mike S: The problem with static variable is that it seems shared between users accessing the Web API. That&#39;s why it doesn&#39;t work for me as I need to cache/store it per user request."}, {"owner": {"reputation": 2719, "user_id": 534514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n77PT.png?s=128&g=1", "display_name": "Mike S", "link": "https://stackoverflow.com/users/534514/mike-s"}, "edited": false, "score": 0, "creation_date": 1575578316, "post_id": 59185776, "comment_id": 104623685, "body": "That static is just for validating the header. Something like: static _validHeaders = HashSet&lt;string&gt;();   lock(_validHeaders) { if (_validHeaders.Contains(header)) { return true; }    validateHeader(header);   lock(_validHeaders) {     if (_validHeaders.Count &gt; 100) { _validHeaders.Clear(); }    _validHeaders.Add(header); }"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12482612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a39b25821261d72d4f18758ec1b4e50?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir", "link": "https://stackoverflow.com/users/12482612/vladimir"}, "is_accepted": false, "score": 0, "last_activity_date": 1575606482, "last_edit_date": 1575606482, "creation_date": 1575605794, "answer_id": 59206796, "question_id": 59185776, "link": "https://stackoverflow.com/questions/59185776/web-api-2-how-to-declare-global-per-user-variable-that-can-be-accessed-in-contr/59206796#59206796", "title": "Web API 2: How to declare global-per-user variable that can be accessed in controllers?", "body": "<p>Thanks everyone for looking into it.</p>\n\n<p>I believe I found what I was looking for:\n<a href=\"https://odetocode.com/articles/111.aspx\" rel=\"nofollow noreferrer\">HttpContext.Current.Items</a></p>\n\n<p>\"Anything you place into the Items collection will only be around for the duration of a single web request, unlike the Session collection, which will keep it\u2019s contents around for each user as long as they continue to make requests.\"</p>\n\n<p>This is what I'm going to use for now:</p>\n\n<p>Set \"global-per-user\" variable in SharedLibrary method:</p>\n\n<pre><code>HttpContext.Current.Items.Add(\"EnableDebugMode\", true);\n</code></pre>\n\n<p>Get \"global-per-user\" variable using SharedLibrary method:</p>\n\n<pre><code>public static bool GetEnableDebugMode()\n{\n    return HttpContext.Current.Items.Contains(\"EnableDebugMode\") ? (bool)HttpContext.Current.Items[\"EnableDebugMode\"] : false;\n}\n</code></pre>\n\n<p>Use \"global-per-user\" variable in CustomersController:</p>\n\n<pre><code>catch (Exception e)\n{\n    _r.ResponseCode = \"002\";\n    if (UserSession.GetEnableDebugMode())\n    {\n        _r.ResponseBody = e.InnerException == null ? e.Message : e.Message + \"  \" + e.InnerException.Message;\n    }\n    else\n    {\n        _r.ResponseBody = e.Message;\n    }\n    return Content(HttpStatusCode.InternalServerError, _r);\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12482612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a39b25821261d72d4f18758ec1b4e50?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir", "link": "https://stackoverflow.com/users/12482612/vladimir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1575606482, "creation_date": 1575500202, "last_edit_date": 1575500523, "question_id": 59185776, "link": "https://stackoverflow.com/questions/59185776/web-api-2-how-to-declare-global-per-user-variable-that-can-be-accessed-in-contr", "title": "Web API 2: How to declare global-per-user variable that can be accessed in controllers?", "body": "<p>I have Web API 2 (MVC) project. When any method is called, X-API-Key header is required. X-API-Key is used to distinguish between UAT and PROD/ Site and Mobile App calls.\nI have a Message Handler, that validates X-API-Key and sets global-per-user variables before call reaches destination method, so these variables are available for any controller within the original call before any response sent. \nThe main requirement is that global-per-user variables should be unique per user and can't be shared between method calls.\nSo static variables won't work, also tried to use HttpContext.Current.Cache and it doesn't work either. Any suggestions?</p>\n\n<p><a href=\"https://i.stack.imgur.com/x1usY.png\" rel=\"nofollow noreferrer\">MessageHandlers\\APIKeyHandler.cs</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/FeaN0.png\" rel=\"nofollow noreferrer\">SharedLibrary</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/RBIJ0.png\" rel=\"nofollow noreferrer\">CustomersController</a></p>\n"}, {"tags": ["c#", "rest", "api", "httpclient"], "comments": [{"owner": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "edited": false, "score": 0, "creation_date": 1575500107, "post_id": 59185631, "comment_id": 104591754, "body": "NOTE: You don&#39;t need to do <code>Task.Run</code>. You can just do <code>var response = ApiHelper.ApiClient.PostAsync(...).Result</code>."}, {"owner": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "edited": false, "score": 0, "creation_date": 1575500562, "post_id": 59185631, "comment_id": 104591855, "body": "Also, your <code>ApiClient</code> is subject to race conditions. What happens when two or more processes are simultaneously making requests to two different URLs? The <code>BaseAddress</code> property could get changed between the time you set it and the time you execute the request."}, {"owner": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 0, "creation_date": 1575500765, "post_id": 59185631, "comment_id": 104591900, "body": "To that point, you don&#39;t even need to set the BaseAddress here since you&#39;re passing the entire URL into PostAsync anyways. That&#39;s actually probably causing an issue"}, {"owner": {"reputation": 505, "user_id": 12300287, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--KOVpVALi1o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfbIftDIdjuLCqh-1myalMqvWt56A/photo.jpg?sz=128", "display_name": "Lukas", "link": "https://stackoverflow.com/users/12300287/lukas"}, "edited": false, "score": 0, "creation_date": 1575506686, "post_id": 59185631, "comment_id": 104593396, "body": "Not a stupid question because it can happen. I just verified it with and without the suggested adjustments. The token is 100% exactly the same. I will look into information about race conditions, but I can guarantee that it is the only request with HttpClient in the program."}], "owner": {"reputation": 505, "user_id": 12300287, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--KOVpVALi1o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfbIftDIdjuLCqh-1myalMqvWt56A/photo.jpg?sz=128", "display_name": "Lukas", "link": "https://stackoverflow.com/users/12300287/lukas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575499285, "creation_date": 1575499285, "question_id": 59185631, "link": "https://stackoverflow.com/questions/59185631/failure-to-make-a-post-request-to-restful-api-using-httpclient", "title": "Failure to make a post request to RESTful API using HttpClient", "body": "<p>I've been trying to make a POST request to send a group chat message using the Trillian API <a href=\"https://trillian.im/help/api/v2/#send-a-message-to-a-group-chat\" rel=\"nofollow noreferrer\">https://trillian.im/help/api/v2/#send-a-message-to-a-group-chat</a></p>\n\n<p>It works to make a POST request using <code>HttpWebRequest</code>, for which I've included the working code. What I want is to be able to make a POST request using the <code>HttpClient</code>. </p>\n\n<p>I cannot seem to be able to put together a method that uses <code>HttpClient</code> to make that POST. I just end up getting the 401 error which means the API token is invalid, but it is absolutely valid because it works with <code>HttpWebRequest</code>.</p>\n\n<p>One thing to note is that I have an additional class <code>ApiHelper</code> that I'm using with <code>HttpClient</code> so that I can reuse one <code>HttpClient</code> in the application (idea from Tim Corey: <a href=\"https://youtu.be/aWePkE2ReGw?t=367\" rel=\"nofollow noreferrer\">https://youtu.be/aWePkE2ReGw?t=367</a>). </p>\n\n<p>I'd appreciate if someone could help me figure out how to put together a working method that uses <code>HttpClient</code> to make a POST request with the Trillian API.</p>\n\n<p><code>ApiHelper</code> class for <code>HttpClient</code>:</p>\n\n<pre><code>public static class ApiHelper\n{\n    public static HttpClient ApiClient { get; set; }\n\n    public static void InitializeClient()\n    {\n        ApiClient = new HttpClient();\n        ApiClient.DefaultRequestHeaders.Accept.Clear();\n        ApiClient.DefaultRequestHeaders.Accept.Add(new System.Net.Http.Headers.MediaTypeWithQualityHeaderValue(\"application/json\"));\n    }\n}\n</code></pre>\n\n<p>BROKEN code using <code>HttpClient</code></p>\n\n<pre><code>public static void HttpClientPOST()\n{\n    //%23 is an encoded #\n    string groupID = \"%23groupChatIDHere\";\n    string url = \"https://impp.name.net/v2/name.net/groupchats/\" + groupID + \"/messages/\";\n\n    string fromParam = \"trillian@name.net\";\n    string messageParam = \"test message\";\n    string urlTokenParam = \"tokenCodeHere\";\n\n    Dictionary&lt;string, string&gt; parameters = new Dictionary&lt;string, string&gt;();\n    parameters.Add(\"from\", fromParam);\n    parameters.Add(\"message\", messageParam);\n    parameters.Add(\"token\", urlTokenParam);\n\n    var content = new FormUrlEncodedContent(parameters);\n    ApiHelper.ApiClient.BaseAddress = new Uri(url);\n    var task = Task.Run(() =&gt; ApiHelper.ApiClient.PostAsync(ApiHelper.ApiClient.BaseAddress, content));\n    task.Wait();\n    var response = task.Result;\n\n    if (response.IsSuccessStatusCode)\n    {\n        var success = response.IsSuccessStatusCode;\n    }\n    else\n    {\n        throw new Exception(response.ReasonPhrase);\n    }\n}\n</code></pre>\n\n<p>WORKING code using <code>HttpWebRequest</code></p>\n\n<pre><code>public static int HttpWebRequestPOST()\n{\n    //%23 is an encoded #\n    string groupID = \"%23groupChatIDHere\";\n    string Url = \"https://impp.name.net/v2/name.net/groupchats/\" + groupID + \"/messages/\";\n\n    //Start the creation of the web API request as a POST method\n    HttpWebRequest request = (HttpWebRequest)WebRequest.Create(Url);\n    request.Method = \"POST\";\n\n    System.Text.UTF8Encoding encoding = new System.Text.UTF8Encoding();\n\n    string fromParam = \"from=trillian%40name.net\";\n    string messageParam = \"&amp;message=test message\";\n    string urlTokenParam = \"&amp;token=tokenCodeHere\";\n\n\n    //Encode the information to be able to send the call to API\n    Byte[] byteArray = encoding.GetBytes(fromParam + messageParam + urlTokenParam);\n\n    //Set the content type to allow paramaters to be passed via URL\n    request.ContentLength = byteArray.Length;\n    request.ContentType = @\"application/x-www-form-urlencoded\";\n\n    using (Stream dataStream = request.GetRequestStream())\n    {\n        dataStream.Write(byteArray, 0, byteArray.Length);\n    }\n    long length = 0;\n    try\n    {\n        using (HttpWebResponse response = (HttpWebResponse)request.GetResponse())\n        {\n\n            length = response.ContentLength;\n\n            return Convert.ToInt32(response.StatusCode);\n        }\n    }\n    catch (WebException ex)\n    {\n        HttpWebResponse errorResponse = (HttpWebResponse)ex.Response;\n        using (Stream responseStream = errorResponse.GetResponseStream())\n        {\n            return Convert.ToInt32(errorResponse.StatusCode);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "dependency-injection", "autofac", "structuremap4"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12482573, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD81yGsgK76ODxW3zf9sTaHmvdl7vSPr7iO_I_h=k-s128", "display_name": "jrunestone", "link": "https://stackoverflow.com/users/12482573/jrunestone"}, "edited": false, "score": 0, "creation_date": 1575572998, "post_id": 59197116, "comment_id": 104621367, "body": "Thank you Steven I actually started out with SI however in my project I need some form of child container or multitenancy support with an isolated scope (which to my knowledge isn&#39;t supported by SI) which is why I decided to try another framework. I really like SI&#39;s support for generics and the design decisions in general. I wasn&#39;t aware of the AllowOverridingRegistrations though, neat."}], "tags": [], "owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "is_accepted": false, "score": 1, "last_activity_date": 1575555404, "creation_date": 1575555404, "answer_id": 59197116, "question_id": 59185626, "link": "https://stackoverflow.com/questions/59185626/can-i-override-a-list-registration-in-structuremap-autofac/59197116#59197116", "title": "Can I override a list registration in StructureMap/Autofac?", "body": "<p><a href=\"https://simpleinjector.org\" rel=\"nofollow noreferrer\">Simple Injector</a> allows replacing the complete collection:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var container = new Container();\n\n// Register NullLogger and SqlLogger as a collection of ILogger instances\ncontainer.Collection.Register&lt;ILogger&gt;(typeof(NullLogger), typeof(SqlLogger));\n\n// Enable overriding registrations (without setting this, Simple Injector will throw)\ncontainer.Options.AllowOverridingRegistrations = true;\n\n// Replace the complete collection of loggers with two different loggers\ncontainer.Collection.Register&lt;ILogger&gt;(typeof(ConsoleLogger), typeof(MailLogger));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14047, "user_id": 814735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18289d1d90dd23a3c9f2f4c039b8bdae?s=128&d=identicon&r=PG", "display_name": "Cyril Durand", "link": "https://stackoverflow.com/users/814735/cyril-durand"}, "is_accepted": true, "score": 1, "last_activity_date": 1575581043, "last_edit_date": 1592644375, "creation_date": 1575581043, "answer_id": 59203469, "question_id": 59185626, "link": "https://stackoverflow.com/questions/59185626/can-i-override-a-list-registration-in-structuremap-autofac/59203469#59203469", "title": "Can I override a list registration in StructureMap/Autofac?", "body": "<p>It is not possible to remove registration from Autofac.</p>\n<p>Anyway I can see 3 workarounds :</p>\n<ol>\n<li><p>you can create a new <code>ContainerBuilder</code> and copy the required registration.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/5091101/is-it-possible-to-remove-an-existing-registration-from-autofac-container-builder\">Is it possible to remove an existing registration from Autofac container builder?\n</a></p>\n</li>\n<li><p>You can register your own <code>IEnumerable&lt;T&gt;</code></p>\n<pre><code>builder.Register(c =&gt; new IService[] { c.Resolve&lt;Service1&gt;() })\n       .As&lt;IEnumerable&lt;IService&gt;&gt;(); \n</code></pre>\n</li>\n<li><p>You can create your own <code>IRegistrationSource</code> for <code>IEnumerable&lt;T&gt;</code> and filter on the requested type</p>\n</li>\n</ol>\n"}], "owner": {"reputation": 13, "user_id": 12482573, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD81yGsgK76ODxW3zf9sTaHmvdl7vSPr7iO_I_h=k-s128", "display_name": "jrunestone", "link": "https://stackoverflow.com/users/12482573/jrunestone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 59203469, "answer_count": 2, "score": 1, "last_activity_date": 1575830678, "creation_date": 1575499261, "last_edit_date": 1575830678, "question_id": 59185626, "link": "https://stackoverflow.com/questions/59185626/can-i-override-a-list-registration-in-structuremap-autofac", "title": "Can I override a list registration in StructureMap/Autofac?", "body": "<p>For overriding/replacing type registrations both frameworks use the \"last registration wins\". For collections (multiple implementations of the same interface) however, in both frameworks the collection is added to, never completely overridden/replaced with a new collection:</p>\n\n<pre><code>For&lt;IService&gt;().Use&lt;Service1&gt;();\nFor&lt;IService&gt;().Use&lt;Service2&gt;();\nGetInstance&lt;IEnumerable&lt;IService&gt;&gt;() == IEnumerable[Service1, Service2]\n\n// Overriding in child container/profile or Autofac tenant\nFor&lt;IService&gt;().Use&lt;Service3&gt;();\nGetInstance&lt;IEnumerable&lt;IService&gt;&gt;() == IEnumerable[Service1, Service2, Service3]\n\n// Even if I use StructureMap's ClearAll\nFor&lt;IService&gt;().ClearAll().Use&lt;Service3&gt;();\nGetInstance&lt;IEnumerable&lt;IService&gt;&gt;() == IEnumerable[Service1, Service2, Service3]\n</code></pre>\n\n<p>My expectation is that I should be able to use something to clear or replace the parent registration when it comes to multiple implementations (i.e. collections) so that I can keep a separate list of a particular service in the parent/global and the child/tenant. </p>\n\n<p>(I know StructureMap is no longer maintained and I'm willing to switch to another framework).</p>\n"}, {"tags": ["c#", "xamarin", "uwp"], "answers": [{"comments": [{"owner": {"reputation": 901, "user_id": 1798757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/O26f9.jpg?s=128&g=1", "display_name": "ikwillem", "link": "https://stackoverflow.com/users/1798757/ikwillem"}, "edited": false, "score": 0, "creation_date": 1575577138, "post_id": 59190787, "comment_id": 104623192, "body": "Thank you for the answer, could you elebrate why this would be a security issue? I&#39;m trying to port my mvc webapp to xamarin and this is has turned out to be a really big obstacle. I&#39;ve also tried hosting a webserver inside the app but that poses problems with android and ios. It needs to run offline, so i&#39;m getting really desperate. I know about the hybrid webview, but that means changing a lot of code."}, {"owner": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "reply_to_user": {"reputation": 901, "user_id": 1798757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/O26f9.jpg?s=128&g=1", "display_name": "ikwillem", "link": "https://stackoverflow.com/users/1798757/ikwillem"}, "edited": false, "score": 0, "creation_date": 1575619540, "post_id": 59190787, "comment_id": 104635213, "body": "It&#39;s hard to explain, but we could make sure html storage file could be load by WebView with <code>IUriToStreamResolver</code> way."}], "tags": [], "owner": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1575619386, "last_edit_date": 1575619386, "creation_date": 1575533674, "answer_id": 59190787, "question_id": 59185615, "link": "https://stackoverflow.com/questions/59185615/how-to-make-a-custom-response-to-my-webview-with-a-iuritostreamresolver/59190787#59190787", "title": "How to make a custom response to my WebView with a IUriToStreamResolver", "body": "<blockquote>\n  <p>But I can't get the IUriToStreamResolver to respond my custom error page. It only shows a empty page.</p>\n</blockquote>\n\n<p>We can't make <code>AsRandomAccessStream</code> with text and pass it to <code>UriToStreamAsync</code> method. And for your scenario the better way is that include <code>Error.html</code> to the project. and load content from file like following.</p>\n\n<pre><code> Uri appboundleURI = new Uri(\"ms-appx:///Error.html\");\n StorageFile error = await StorageFile.GetFileFromApplicationUriAsync(appboundleURI);\n IRandomAccessStream stream = await error.OpenAsync(FileAccessMode.Read);\n return stream.GetInputStreamAt(0);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/vUnxl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vUnxl.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 901, "user_id": 1798757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/O26f9.jpg?s=128&g=1", "display_name": "ikwillem", "link": "https://stackoverflow.com/users/1798757/ikwillem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 59190787, "answer_count": 1, "score": 0, "last_activity_date": 1575619386, "creation_date": 1575499216, "last_edit_date": 1575579381, "question_id": 59185615, "link": "https://stackoverflow.com/questions/59185615/how-to-make-a-custom-response-to-my-webview-with-a-iuritostreamresolver", "title": "How to make a custom response to my WebView with a IUriToStreamResolver", "body": "<p>I have made a Xamarin project with a WebView control. I want to show a custom error page when the user requests a file that is not found. But I can't get the IUriToStreamResolver to respond my custom error page. It only shows a empty page.</p>\n\n<pre><code>public class UriToStreamResolver : IUriToStreamResolver\n{\n    public UriToStreamResolver(IAppContext context)\n    {\n        Context = context;\n    }\n\n    IAppContext Context { get; set; }\n\n    public IAsyncOperation&lt;IInputStream&gt; UriToStreamAsync(Uri uri)\n    {\n        if (uri == null)\n        {\n            throw new Exception();\n        }\n        string path = uri.AbsolutePath;\n\n        // Because of the signature of the this method, it can't use await, so we \n        // call into a seperate helper method that can use the C# await pattern.\n        return GetContent(path).AsAsyncOperation();\n    }\n\n    async Task&lt;IInputStream&gt; GetContent(string path)\n    {\n        // Fix path if it is pointing to the root\n        if (path == \"/\")\n            path = \"/Index.html\";\n\n        // Try to get file \n        // Note: This is a custom call to my HybridWebView which handles OS-specific \n        // file I/O, the IFileInfo interface could be anything from a UWP StorageFile\n        // to a Android File object. The interface just handles the GetStream() method.\n        IFileInfo info = await Context.WebView.GetFileFromAssets(path);\n\n        // Is the file found?\n        if (info.Exists)\n        {\n            // Yes, return the stream =&gt; WORKING\n            return (await info.GetStream()).AsRandomAccessStream();\n        }\n        else\n        {\n            // Else return some custom html =&gt; NOT WORKING\n            var input = \"&lt;html&gt;&lt;body&gt;File not found&lt;/body&gt;&lt;/html&gt;\";\n            byte[] bytes = Encoding.UTF8.GetBytes(input);\n            MemoryStream stream = new MemoryStream(bytes);\n            return stream.AsRandomAccessStream();\n        }\n    }\n}\n</code></pre>\n\n<p>Google search terms: </p>\n\n<ul>\n<li>WebView IUriToStreamResolver how to respond a string</li>\n<li>WebView IUriToStreamResolver memorystream not working</li>\n<li>WebView IUriToStreamResolver make a custom response</li>\n</ul>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-core"], "comments": [{"owner": {"reputation": 1719, "user_id": 3140646, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7c9b14598515b9d00b120fca515d0523?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/3140646/matt"}, "edited": false, "score": 0, "creation_date": 1575499801, "post_id": 59185589, "comment_id": 104591654, "body": "If you do a <code>.Find</code> first it&#39;ll start tracking the changes, then modify each field <code>carOption.Value = 123</code> then <code>.SaveChanges</code>. By doing <code>.Update</code> it will treat the whole object as changed instead of the select items you actually want to change and that&#39;s when you lose data"}, {"owner": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 0, "creation_date": 1575499908, "post_id": 59185589, "comment_id": 104591689, "body": "Can you include the code that you have to convert the JSON into the <code>CarOption</code> model? As well as the entire code that you have for the DbContext interaction? Based off of what you&#39;ve shown, those results don&#39;t really make sense"}, {"owner": {"reputation": 1, "user_id": 2483666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85cb6c2d20c4a2321a5b8e437cec6c15?s=128&d=identicon&r=PG", "display_name": "NeyMello", "link": "https://stackoverflow.com/users/2483666/neymello"}, "reply_to_user": {"reputation": 1719, "user_id": 3140646, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7c9b14598515b9d00b120fca515d0523?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/3140646/matt"}, "edited": false, "score": 0, "creation_date": 1575989939, "post_id": 59185589, "comment_id": 104747259, "body": "Thanks @Matt. I was wondering if there was another way to do it. But it makes sense. I will implement my project in the way you said."}], "owner": {"reputation": 1, "user_id": 2483666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85cb6c2d20c4a2321a5b8e437cec6c15?s=128&d=identicon&r=PG", "display_name": "NeyMello", "link": "https://stackoverflow.com/users/2483666/neymello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575499034, "creation_date": 1575499034, "question_id": 59185589, "link": "https://stackoverflow.com/questions/59185589/c-entity-framework-updating-relationship", "title": "C# - Entity Framework updating relationship", "body": "<p>I am using C# with ASP.NET Core and Entity Framework to create a RESTful API.\nEverything is running fine, however there is one case that I am trying to solve.</p>\n\n<p>Say I have those 3 classes below.</p>\n\n<pre><code>public class Car\n{\n    [Key]\n    public int Id { get; set; }\n    public int Year { get; set; }\n}\n</code></pre>\n\n<pre><code>public class Option\n{\n    [Key]\n    public int Id { get; set; }\n    public int Name { get; set; }\n}\n</code></pre>\n\n<pre><code>public class CarOption\n{\n    [Key]\n    public int Id { get; set; }\n    public int Car { get; set; }\n    public int Option { get; set; }\n    public int Value { get; set; }\n}\n</code></pre>\n\n<p>The problem is when I try to update CarOption, the Entity Framework will update the related objects too.\nI was expecting only the relationship would be updated. Meaning, the framework would discard the other values of <em>Option</em> object and use only the Primary Key to update <em>CarOption</em> table.</p>\n\n<p>For example:\nAssuming that the following code is an example of JSON generate by the API.</p>\n\n<pre><code>{\n    \"id\":1\n    \"Car\":{\n        \"id\":1,\n        \"year\":2020\n    },\n    \"option\":{\n        \"id\":1,\n        \"label\":\"gear\"\n    },\n    \"value\":\"manual\"\n}\n</code></pre>\n\n<p>If I change the payload and update the option part as</p>\n\n<pre><code>{\n...\n    \"option\":{\n        \"id\":1,\n        \"label\":\"gear2\"\n    },\n...\n}\n</code></pre>\n\n<p>, the Entity Framework will update the table <strong>Option</strong> with the new value even though the attribute <code>id</code> is present which means that object already exists.\nI am using <code>DbContext.CarOption.Update(*payload*)</code>.</p>\n\n<p>Is there any solution to avoid this behavior?</p>\n"}, {"tags": ["c#", "visual-studio"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 1, "creation_date": 1575498670, "post_id": 59185531, "comment_id": 104591293, "body": "when you hover over the yellow triangle over windowsBase what does it say?"}, {"owner": {"reputation": 781, "user_id": 6629020, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U-9xLhDDRnA/AAAAAAAAAAI/AAAAAAAAABc/zVAAcCCKMuk/photo.jpg?sz=128", "display_name": "Basil Kosovan", "link": "https://stackoverflow.com/users/6629020/basil-kosovan"}, "edited": false, "score": 0, "creation_date": 1575498956, "post_id": 59185531, "comment_id": 104591386, "body": "Could you please specify target framework? Right-click on project-&gt;properties-&gt;Application tab-&gt;Target fraemwork:"}, {"owner": {"reputation": 35, "user_id": 5484511, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/riEin.jpg?s=128&g=1", "display_name": "Eirhardt", "link": "https://stackoverflow.com/users/5484511/eirhardt"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575499002, "post_id": 59185531, "comment_id": 104591401, "body": "@Train It says: <code>Package &#39;WindowsBase 4.6.1055&#39; was restored using &#39;.NETFramework,Version=v4.6.1, .NETFramework,Version=v4.6.2, .NETFramework,Version=v4.7, .NETFramework,Version=v4.7.1, .NETFramework,Version=v4.7.2, .NETFramework,Version=v4.8&#39; instead of the project target framework &#39;.NETCoreApp,Version=v3.1&#39;. This package may not be fully compatible with your project.</code>"}, {"owner": {"reputation": 35, "user_id": 5484511, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/riEin.jpg?s=128&g=1", "display_name": "Eirhardt", "link": "https://stackoverflow.com/users/5484511/eirhardt"}, "reply_to_user": {"reputation": 781, "user_id": 6629020, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U-9xLhDDRnA/AAAAAAAAAAI/AAAAAAAAABc/zVAAcCCKMuk/photo.jpg?sz=128", "display_name": "Basil Kosovan", "link": "https://stackoverflow.com/users/6629020/basil-kosovan"}, "edited": false, "score": 0, "creation_date": 1575499136, "post_id": 59185531, "comment_id": 104591441, "body": "@BasilKosovan Target framework is .NET Core 3.1"}, {"owner": {"reputation": 781, "user_id": 6629020, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U-9xLhDDRnA/AAAAAAAAAAI/AAAAAAAAABc/zVAAcCCKMuk/photo.jpg?sz=128", "display_name": "Basil Kosovan", "link": "https://stackoverflow.com/users/6629020/basil-kosovan"}, "edited": false, "score": 0, "creation_date": 1575499281, "post_id": 59185531, "comment_id": 104591491, "body": "And now you need just to read an error: Package &#39;WindowsBase 4.6.1055&#39; was restored using &#39;.<code>NetFramework</code>...."}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575499408, "post_id": 59185531, "comment_id": 104591532, "body": "Have you tried download the core version <code>WindowsBase_Core.STW</code>"}, {"owner": {"reputation": 781, "user_id": 6629020, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U-9xLhDDRnA/AAAAAAAAAAI/AAAAAAAAABc/zVAAcCCKMuk/photo.jpg?sz=128", "display_name": "Basil Kosovan", "link": "https://stackoverflow.com/users/6629020/basil-kosovan"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575500095, "post_id": 59185531, "comment_id": 104591750, "body": "@Train <code>WindowsBase_Core.STW</code> id doesn&#39;t look like it&#39;s an official analogy of full-framework version(only 372 downloads)"}, {"owner": {"reputation": 781, "user_id": 6629020, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U-9xLhDDRnA/AAAAAAAAAAI/AAAAAAAAABc/zVAAcCCKMuk/photo.jpg?sz=128", "display_name": "Basil Kosovan", "link": "https://stackoverflow.com/users/6629020/basil-kosovan"}, "edited": false, "score": 1, "creation_date": 1575500173, "post_id": 59185531, "comment_id": 104591778, "body": "@Eirhardt Do you really need to target this project to <code>.Net core</code>. Let&#39;s consider using .<code>Net Framework</code>"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 1, "creation_date": 1575500252, "post_id": 59185531, "comment_id": 104591796, "body": "Try to downgrade to .net core 3.0, I see it&#39;s not supported in 3.1 from the docs.<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.dependencyproperty?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575500370, "post_id": 59185531, "comment_id": 104591822, "body": "Or just return create a new <code>public static readonly object UnsetValue;</code> type yourself."}, {"owner": {"reputation": 35, "user_id": 5484511, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/riEin.jpg?s=128&g=1", "display_name": "Eirhardt", "link": "https://stackoverflow.com/users/5484511/eirhardt"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575501106, "post_id": 59185531, "comment_id": 104591979, "body": "@Train I think my issue is that I chose .NET Core instead of .NET Framework as the project backbone as per Basil Kosovan."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5484511, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/riEin.jpg?s=128&g=1", "display_name": "Eirhardt", "link": "https://stackoverflow.com/users/5484511/eirhardt"}, "edited": false, "score": 0, "creation_date": 1575500663, "post_id": 59185715, "comment_id": 104591875, "body": "since the project is in its early stages I will swap to .NET Framework instead of .NET Core. I believe that will solve the issue. Didn&#39;t realize the difference - very new to all this. Thank you for your solution, will report back if I have any more issues."}, {"owner": {"reputation": 781, "user_id": 6629020, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U-9xLhDDRnA/AAAAAAAAAAI/AAAAAAAAABc/zVAAcCCKMuk/photo.jpg?sz=128", "display_name": "Basil Kosovan", "link": "https://stackoverflow.com/users/6629020/basil-kosovan"}, "reply_to_user": {"reputation": 1589, "user_id": 6683344, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2f075a3347921d1f464ccab1fc16f3c1?s=128&d=identicon&r=PG", "display_name": "Robert Lewis", "link": "https://stackoverflow.com/users/6683344/robert-lewis"}, "edited": false, "score": 0, "creation_date": 1575574624, "post_id": 59185715, "comment_id": 104622150, "body": "@RobertLewis please add a link"}, {"owner": {"reputation": 1589, "user_id": 6683344, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2f075a3347921d1f464ccab1fc16f3c1?s=128&d=identicon&r=PG", "display_name": "Robert Lewis", "link": "https://stackoverflow.com/users/6683344/robert-lewis"}, "edited": false, "score": 1, "creation_date": 1575575270, "post_id": 59185715, "comment_id": 104622426, "body": "<a href=\"https://en.wikipedia.org/wiki/.NET_Core\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/.NET_Core</a> &quot;The next release after .NET Core 3.0 will be .NET 5. The .NET Framework will be deprecated, and .NET 5 will be the only .NET going forward \u2013 hence the removal of the &quot;Core&quot; branding and skipping of version 4 to avoid confusion with the .NET Framework 4.x.[17]&quot;"}, {"owner": {"reputation": 781, "user_id": 6629020, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U-9xLhDDRnA/AAAAAAAAAAI/AAAAAAAAABc/zVAAcCCKMuk/photo.jpg?sz=128", "display_name": "Basil Kosovan", "link": "https://stackoverflow.com/users/6629020/basil-kosovan"}, "reply_to_user": {"reputation": 1589, "user_id": 6683344, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2f075a3347921d1f464ccab1fc16f3c1?s=128&d=identicon&r=PG", "display_name": "Robert Lewis", "link": "https://stackoverflow.com/users/6683344/robert-lewis"}, "edited": false, "score": 0, "creation_date": 1575576153, "post_id": 59185715, "comment_id": 104622788, "body": "@RobertLewis Thank you. Good to know this"}], "tags": [], "owner": {"reputation": 781, "user_id": 6629020, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U-9xLhDDRnA/AAAAAAAAAAI/AAAAAAAAABc/zVAAcCCKMuk/photo.jpg?sz=128", "display_name": "Basil Kosovan", "link": "https://stackoverflow.com/users/6629020/basil-kosovan"}, "is_accepted": true, "score": 2, "last_activity_date": 1575500239, "last_edit_date": 1575500239, "creation_date": 1575499792, "answer_id": 59185715, "question_id": 59185531, "link": "https://stackoverflow.com/questions/59185531/the-name-dependencyproperty-does-not-exist-in-the-current-context-visual-stud/59185715#59185715", "title": "The name &#39;DependencyProperty&#39; does not exist in the current context (Visual Studio)", "body": "<p>There are three different target frameworks:</p>\n\n<pre><code> - .NET Framework(1)\n - .NET Core(2)\n - .net Standart(3)\n</code></pre>\n\n<p>1 or 2 could depend on a project which has written on 3, but 1 couldn't depend on 2 or vice versa. Your target framework is  <code>.NET Core 3.1</code> and you have an error associated with <code>WindowsBase</code> which is written on NET Framework</p>\n"}], "owner": {"reputation": 35, "user_id": 5484511, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/riEin.jpg?s=128&g=1", "display_name": "Eirhardt", "link": "https://stackoverflow.com/users/5484511/eirhardt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 1, "accepted_answer_id": 59185715, "answer_count": 1, "score": 2, "last_activity_date": 1575500239, "creation_date": 1575498545, "question_id": 59185531, "link": "https://stackoverflow.com/questions/59185531/the-name-dependencyproperty-does-not-exist-in-the-current-context-visual-stud", "title": "The name &#39;DependencyProperty&#39; does not exist in the current context (Visual Studio)", "body": "<p>I have the following: </p>\n\n<pre><code>using System.Windows;\n\npublic static object ConvertBack(string value, Type targetType)\n{\n  ...\n  return DependencyProperty.UnsetValue;\n}\n</code></pre>\n\n<p>But VisualStudio isn't finding <code>DependencyProperty</code> after I install the <code>WindowsBase</code> package. I'm fairly new to <code>C#</code> and Visual Studio and I don't understand why Visual Studio isn't seeing the <code>DependencyProperty</code> class. In the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.dependencyproperty?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs</a> I can clearly see that it wants the <code>WindowsBase.dll</code> assembly, which I have: </p>\n\n<p><a href=\"https://i.stack.imgur.com/dcC9E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dcC9E.png\" alt=\"Clearly have WindowsBase.dll\"></a></p>\n\n<p>What else could I be missing? </p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1575498718, "post_id": 59185505, "comment_id": 104591312, "body": "One approach here is to write a script with a color field and attach it to the gameobject. Then assign the same color to the field when you set the material&#39;s color. Or, better yet have it be an <code>enum</code> so you can have type guarantees."}, {"owner": {"reputation": 77, "user_id": 10581801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ec471bdaa4993cbb1cf854148227eb3?s=128&d=identicon&r=PG&f=1", "display_name": "gustavo302", "link": "https://stackoverflow.com/users/10581801/gustavo302"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1575499553, "post_id": 59185505, "comment_id": 104591582, "body": "Its actually one sphere but it changes   to 1 of the 4 different colors."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 1, "creation_date": 1575500061, "post_id": 59185505, "comment_id": 104591732, "body": "Right, so when you <code>GameObject newSphere = Instantiate(prefab);</code> you could do <code>newSphere.GetComponent&lt;MyScript&gt;().color = MyScript.MyColorEnum.black;</code> and then in the player <code>MyScript.MyColorEnum playerColor;</code>  then when you pick the player&#39;s color <code>playerColor = MyColorEnum.whatever;</code>. Then when you collide with a sphere: <code>if (playerColor != collidedSphereGameObject.GetComponent&lt;MyScript&gt;().color) { ... }</code>"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 2, "creation_date": 1575500155, "post_id": 59185505, "comment_id": 104591768, "body": "You haven&#39;t shared the code you&#39;re using to instantiate the spheres and set their color so it&#39;s unclear what to write in an answer"}, {"owner": {"reputation": 77, "user_id": 10581801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ec471bdaa4993cbb1cf854148227eb3?s=128&d=identicon&r=PG&f=1", "display_name": "gustavo302", "link": "https://stackoverflow.com/users/10581801/gustavo302"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1575506186, "post_id": 59185505, "comment_id": 104593286, "body": "I know i haven&#39;t gave much information here but thanks man."}], "owner": {"reputation": 77, "user_id": 10581801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ec471bdaa4993cbb1cf854148227eb3?s=128&d=identicon&r=PG&f=1", "display_name": "gustavo302", "link": "https://stackoverflow.com/users/10581801/gustavo302"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 686, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575889687, "creation_date": 1575498358, "last_edit_date": 1575889687, "question_id": 59185505, "link": "https://stackoverflow.com/questions/59185505/not-allowed-to-access-renderer-material-on-prefab-object-use-renderer-sharedmat", "title": "Not allowed to access Renderer.material on prefab object. Use Renderer.sharedMaterial instead", "body": "<p>Long story short. I'm instantiating 4 types of coloured spheres. The player chooses his color, then he can take the spheres that are the color he has chosen. The player can only take one, then has to do another thing.</p>\n\n<p>I'm not being able to check the sphere's colors. Since they are prefabs i cant use </p>\n\n<p>esferas.GetComponent().material.color == Color.yellow</p>\n\n<p>and Renderer.sharedMaterial doesn't work....</p>\n"}, {"tags": ["c#", "wpf", "ms-word", "office365", "office-interop"], "comments": [{"owner": {"reputation": 23462, "user_id": 3077495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZE6fb.png?s=128&g=1", "display_name": "Cindy Meister", "link": "https://stackoverflow.com/users/3077495/cindy-meister"}, "edited": false, "score": 0, "creation_date": 1575839151, "post_id": 59185494, "comment_id": 104691149, "body": "There may have been a Microsoft Update, either Windows or Office, that interfered with the tool..."}, {"owner": {"reputation": 567, "user_id": 226278, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/653da67aeef995732c71c1fcc1e73660?s=128&d=identicon&r=PG", "display_name": "sc911", "link": "https://stackoverflow.com/users/226278/sc911"}, "reply_to_user": {"reputation": 23462, "user_id": 3077495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZE6fb.png?s=128&g=1", "display_name": "Cindy Meister", "link": "https://stackoverflow.com/users/3077495/cindy-meister"}, "edited": false, "score": 0, "creation_date": 1575889408, "post_id": 59185494, "comment_id": 104704960, "body": "was my first thought too, but it was just a software cleanup... see answer below"}], "answers": [{"tags": [], "owner": {"reputation": 567, "user_id": 226278, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/653da67aeef995732c71c1fcc1e73660?s=128&d=identicon&r=PG", "display_name": "sc911", "link": "https://stackoverflow.com/users/226278/sc911"}, "is_accepted": false, "score": 0, "last_activity_date": 1575535499, "creation_date": 1575535499, "answer_id": 59191247, "question_id": 59185494, "link": "https://stackoverflow.com/questions/59185494/exportasfixedformat-throws-exception-when-exporting-to-wdexportformatxps/59191247#59191247", "title": "ExportAsFixedFormat throws Exception when exporting to wdExportFormatXPS", "body": "<p>(Re-)Installing <code>Microsoft XPS Document Writer</code> solved the problem... </p>\n\n<p>You know, <strong>nothing</strong> was changed before...</p>\n"}], "owner": {"reputation": 567, "user_id": 226278, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/653da67aeef995732c71c1fcc1e73660?s=128&d=identicon&r=PG", "display_name": "sc911", "link": "https://stackoverflow.com/users/226278/sc911"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575839121, "creation_date": 1575498303, "last_edit_date": 1575839121, "question_id": 59185494, "link": "https://stackoverflow.com/questions/59185494/exportasfixedformat-throws-exception-when-exporting-to-wdexportformatxps", "title": "ExportAsFixedFormat throws Exception when exporting to wdExportFormatXPS", "body": "<p>We were using the following lines of code for long time now (using <code>Microsoft.Office.Interop.Word</code>):</p>\n\n<pre><code>ApplicationClass wordApp = new ApplicationClass();\nDocument wordDoc = null;\nwordDoc = wordApp.Documents.Open(file);\nwordDoc.ExportAsFixedFormat(filexps, WdExportFormat.wdExportFormatXPS);\n</code></pre>\n\n<p>But since today the last line throws an <code>COMException</code>: </p>\n\n<blockquote>\n  <p>Fehler beim Exportieren, weil dieses Feature nicht installiert ist.</p>\n</blockquote>\n\n<p>which translated says (I wasn't able to find the exact translation)</p>\n\n<blockquote>\n  <p>Error while Exporting. Feature missing</p>\n</blockquote>\n\n<p>Did anything change regarding XPS export? Is there any other way to export to XPS? </p>\n\n<p>Or is there any other way to view a DOCX-document in WPF? Because the only reason for exporting to XPS is the use of of <code>DocumentViewer</code> from <code>System.Windows.Controls</code>.</p>\n\n<p>We are using Office 365 ProPlus 1902 (Build 11328.20468) and no, nothing was changed before... <strong>really</strong>... <em>I think</em>...</p>\n"}, {"tags": ["c#", "asp.net", "vb.net", "webforms", "asp.net-identity"], "answers": [{"tags": [], "owner": {"reputation": 308, "user_id": 5004298, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MgM2A.png?s=128&g=1", "display_name": "Michael Brandon Morris", "link": "https://stackoverflow.com/users/5004298/michael-brandon-morris"}, "is_accepted": true, "score": 0, "last_activity_date": 1576613469, "last_edit_date": 1576613469, "creation_date": 1575521924, "answer_id": 59188505, "question_id": 59185489, "link": "https://stackoverflow.com/questions/59185489/claims-added-in-generateuseridentity-disappear-after-login/59188505#59188505", "title": "Claims added in GenerateUserIdentity disappear after login", "body": "<h3>Update: The Actual Solution</h3>\n\n<p>The issue actually arose from me calling <code>UserManager.CreateIdentity</code> instead of <code>User.GenerateIdentity</code>. My <code>SecurityStamp.OnValidateIdentity</code> used the correct one, but not my sign in code. This should have been very obvious since <code>User.GenerateIdentity</code> contains a call to <code>UserManager.CreateIdentity</code> before adding all the custom claims, but it flew over my head for some time.</p>\n\n<p>My sign in code is now this:</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Dim userManager = Context.GetOwinContext().GetUserManager(Of UserManager)\nDim authenticatingUser = userManager.Find(UserID_TB.Text, PW_TB.Text)\n\nIf authenticatingUser Is Nothing\n    SetMessage(\"Failed\")\n    Return\nEnd If\n\nuserManager.UpdateSecurityStamp(authenticatingUser.Id)\nDim userIdentity = authenticatingUser.GenerateIdentityAsync(userManager).Result\nDim authenticationManager = HttpContext.Current.GetOwinContext().Authentication\n\nauthenticationManager.SignIn(\n    New AuthenticationProperties With {\n        .IsPersistent = RememberMe_CB.Checked\n        },\n    userIdentity)\n\nResponse.Redirect(\"profile.aspx\", False)\n</code></pre>\n\n<p>I also wrote this to handle refreshing user claims:</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Public Shared Sub RefreshSignIn()\n    Dim authenticationManager = HttpContext.Current.GetOwinContext().Authentication\n    authenticationManager.SignOut(DefaultAuthenticationTypes.ApplicationCookie)\n    Dim userManager = HttpContext.Current.GetOwinContext().GetUserManager(Of UserManager)\n    Dim user = userManager.FindById(HttpContext.Current.User.Identity.GetUserId())\n    Dim userIdentity = user.GenerateIdentityAsync(userManager).Result\n    authenticationManager.SignIn(userIdentity)\nEnd Sub\n</code></pre>\n\n<h3>Original</h3>\n\n<p>I solved the problem by adding an additional redirect after the login. In the case of the example application I provided, we always redirect to profile, so I changed profile's Page_Load event handler to this:</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Protected Sub Page_Load(sender As Object, e As EventArgs) Handles Me.Load\n    If Not User.IsAuthenticated()\n        ' The user actually isn't authenticated; send them to login\n        Response.Redirect(\"login.aspx\")\n    End If\n\n    If User.GetSomeClaimThatShouldBeHere() Is Nothing\n        ' The second redirect that somehow makes this work\n        Response.Redirect(\"profile.aspx\")\n    End If\n\n    ' Do the rest of the page load that depends on the user claims\nEnd Sub\n</code></pre>\n\n<p>If we didn't already use a catch-all page after the login, we could make a dummy page that handles the redirect logic like this:</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Public Class LoginRedirect\n    Inherits Page\n\n    Protected Sub Page_Load(sender As Object, e As EventArgs) Handles Me.Load\n        If Not User.IsAuthenticated()\n            ' The user actually isn't authenticated; send them to login\n            Response.Redirect(\"login.aspx\")\n        End If\n\n        If User.GetSomeClaimThatShouldBeHere() Is Nothing\n            ' The second redirect that somehow makes this work\n            Response.Redirect(\"loginredirect.aspx\")\n        End If\n\n        If Not String.IsNullOrWhiteSpace(Request.QueryString(\"returnUrl\"))\n            ' Redirect to a return URL you've been passing around\n            Response.Redirect(Request.QueryString(\"returnUrl\"))\n        End If\n\n        ' Do some other logic to determine where the user (with all their claims available) needs to go\n    End Sub\n\nEnd Class\n</code></pre>\n\n<p>I'm not going to mark this at the accepted answer for a while in case someone comes up with a better solution than to do a seemingly superfluous redirect.</p>\n"}], "owner": {"reputation": 308, "user_id": 5004298, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MgM2A.png?s=128&g=1", "display_name": "Michael Brandon Morris", "link": "https://stackoverflow.com/users/5004298/michael-brandon-morris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 59188505, "answer_count": 1, "score": 0, "last_activity_date": 1576613469, "creation_date": 1575498281, "last_edit_date": 1575519894, "question_id": 59185489, "link": "https://stackoverflow.com/questions/59185489/claims-added-in-generateuseridentity-disappear-after-login", "title": "Claims added in GenerateUserIdentity disappear after login", "body": "<p>I have created a C# class library to implement ASP.NET Identity for several web applications that use the same user schema. I am adding custom claims to users' identities in the <code>GenerateIdentity</code> method in the <code>User</code> class:</p>\n\n<pre><code>private ClaimsIdentity GenerateIdentity(UserManager userManager)\n{\n    var identity = userManager.CreateIdentity(this, DefaultAuthenticationTypes.ApplicationCookie);\n\n    identity.AddClaims(\n        new[]\n        {\n            new Claim(nameof(UserId), UserId.ToString()),\n            new Claim(ClaimTypes.Role, UserType.ToString()),\n            new Claim(nameof(FullName), FullName),\n            new Claim(nameof(FirmName), FirmName),\n            new Claim(nameof(HasDebit), HasDebit.ToString()),\n            new Claim(nameof(ShouldShowAssistants), ShouldShowAssistants.ToString()),\n            new Claim(nameof(IsSuspended), IsSuspended.ToString()),\n            new Claim(nameof(FirmId), FirmId.ToString()), \n        });\n\n    if (IsSelfAdmin)\n    {\n        identity.AddClaim(new Claim(ClaimTypes.Role, SelfAdminRole));\n    }\n\n    return identity;\n}\n\npublic Task&lt;ClaimsIdentity&gt; GenerateIdentityAsync(UserManager userManager)\n{\n    return Task.FromResult(GenerateIdentity(userManager));\n}\n</code></pre>\n\n<p>The claims are indeed present on the identity object before the method returns during the login process. However, after the user logs in and the request is redirected, all of the custom claims are gone. Here's my login code in one of the web applications (an older VB.NET WebForms app):</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Dim signInManager = Context.GetOwinContext().GetUserManager(Of SignInManager)\nDim result = signInManager.PasswordSignIn(UserID_TB.Text, PW_TB.Text, RememberMe_CB.Checked, False)\n\nIf result = SignInStatus.Failure\n    SetMessage(\"Failed\")\n    Return\nEnd If\n\nResponse.Redirect(\"profile.aspx\")\n</code></pre>\n\n<p>The sign in is a success, but on the profile.aspx page, the User IPrincipal property only has the default 4 claims.</p>\n\n<p>Potentially relevant code from the application's startup:</p>\n\n<pre><code>app.UseCookieAuthentication(New CookieAuthenticationOptions With {\n    .AuthenticationType = DefaultAuthenticationTypes.ApplicationCookie,\n    .Provider = New CookieAuthenticationProvider With {\n        .OnValidateIdentity = SecurityStampValidator.OnValidateIdentity (Of UserManager, User)(\n            TimeSpan.FromSeconds(0),\n            Function(manager, user) user.GenerateIdentityAsync(manager))\n        }\n    })\n</code></pre>\n\n<p>The validation interval is 0 as per a specification for this application.</p>\n\n<p>Please let me know if any other code would be useful to see.</p>\n\n<h3>Update</h3>\n\n<p>I have found that everything works as intended after a second redirect. When login redirects to profile, the claims are missing, but if profile redirects again, the claims are there. I'm really confused as to why this is.</p>\n"}, {"tags": ["c#", ".net-core", ".net-core-3.0"], "comments": [{"owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 0, "creation_date": 1575498054, "post_id": 59185410, "comment_id": 104591112, "body": "Seems likely that your function is returning on that if-statement in the middle. Try stepping through the code or adding some log statements throughout to determine which condition is failing and if the line <code>body = await reader.ReadToEndAsync();</code> is ever reached."}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575498074, "post_id": 59185410, "comment_id": 104591118, "body": "What are the values in the condition <code>if (request.ContentLength == null || !(request.ContentLength &gt; 0) || !request.Body.CanSeek)</code>"}, {"owner": {"reputation": 174, "user_id": 5573444, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153385185149601/picture?type=large", "display_name": "Lennart Hammarstr&#246;m", "link": "https://stackoverflow.com/users/5573444/lennart-hammarstr%c3%b6m"}, "reply_to_user": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 1, "creation_date": 1575498651, "post_id": 59185410, "comment_id": 104591285, "body": "@Klaycon <code>await reader.ReadToEndAsync();</code> is reached and it gets to the final line but still returns <code>&quot;&quot;;</code>"}, {"owner": {"reputation": 174, "user_id": 5573444, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153385185149601/picture?type=large", "display_name": "Lennart Hammarstr&#246;m", "link": "https://stackoverflow.com/users/5573444/lennart-hammarstr%c3%b6m"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575498748, "post_id": 59185410, "comment_id": 104591322, "body": "@Train ContentLength in this case is 243 CanSeek is true."}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575499056, "post_id": 59185410, "comment_id": 104591415, "body": "<a href=\"https://gunnarpeipman.com/aspnet-core-request-body/\" rel=\"nofollow noreferrer\">gunnarpeipman.com/aspnet-core-request-body</a>"}, {"owner": {"reputation": 174, "user_id": 5573444, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153385185149601/picture?type=large", "display_name": "Lennart Hammarstr&#246;m", "link": "https://stackoverflow.com/users/5573444/lennart-hammarstr%c3%b6m"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575500201, "post_id": 59185410, "comment_id": 104591785, "body": "@Train yeah, I&#39;ve seen that one and it&#39;s basically what I&#39;m doing already. Even if I copy that code directly I get the same result."}, {"owner": {"reputation": 6569, "user_id": 2309376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BddLg.png?s=128&g=1", "display_name": "Simply Ged", "link": "https://stackoverflow.com/users/2309376/simply-ged"}, "edited": false, "score": 0, "creation_date": 1575504177, "post_id": 59185410, "comment_id": 104592816, "body": "Looks like it is a known issue. See <a href=\"https://stackoverflow.com/questions/58737391/how-can-i-read-http-request-body-in-netcore-3-more-than-once\">this q&amp;a</a> and this <a href=\"https://github.com/aspnet/AspNetCore/issues/14396\" rel=\"nofollow noreferrer\">github issue</a>"}, {"owner": {"reputation": 6569, "user_id": 2309376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BddLg.png?s=128&g=1", "display_name": "Simply Ged", "link": "https://stackoverflow.com/users/2309376/simply-ged"}, "edited": false, "score": 0, "creation_date": 1575504190, "post_id": 59185410, "comment_id": 104592819, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/58737391/how-can-i-read-http-request-body-in-netcore-3-more-than-once\">How can I read http request body in netcore 3 more than once?</a>"}, {"owner": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "edited": false, "score": 0, "creation_date": 1575559180, "post_id": 59185410, "comment_id": 104614380, "body": "@LennartHammarstr&#246;m there are some breaking changes from .NET Core 2.2 to 3.0 related to HttpRequest functionality. Please refer this: <a href=\"https://docs.microsoft.com/en-us/dotnet/core/compatibility/2.2-3.0\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/core/compatibility/2.2-3.0</a>. So, I would start with checking the rest of the code (like initialization of HttpRequest headers ..etc)"}, {"owner": {"reputation": 2158, "user_id": 44964, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/0a6fc5372dbffc5598c7ad38955634cd?s=128&d=identicon&r=PG", "display_name": "sabiland", "link": "https://stackoverflow.com/users/44964/sabiland"}, "edited": false, "score": 0, "creation_date": 1599208422, "post_id": 59185410, "comment_id": 112708835, "body": "I have exactly the same problem. Asp net core 3.1, request body length == 19, reader.ReadToEndAsync() returns empty string &quot;&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 1363, "user_id": 1046195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326887806677b0ae4738fca56e8ceb61?s=128&d=identicon&r=PG", "display_name": "Ray K", "link": "https://stackoverflow.com/users/1046195/ray-k"}, "edited": false, "score": 2, "creation_date": 1589923705, "post_id": 61900575, "comment_id": 109485400, "body": "Gid - Thanks for posting a possible solution!  Can you give some background as to why this would help?  If it solves the question it will be good to have some background.  I&#39;m assuming you are referring to the ConfigureServices method in the startup.cs file."}, {"owner": {"reputation": 483, "user_id": 303998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d02b8f91e844051e034269b9589c06dc?s=128&d=identicon&r=PG", "display_name": "Lilja", "link": "https://stackoverflow.com/users/303998/lilja"}, "edited": false, "score": 0, "creation_date": 1614594604, "post_id": 61900575, "comment_id": 117423360, "body": "Usually Request.Body does not support rewinding, so it can only be read once. This solution makes it possible to read Request.Body multiple times by setting the Request.Body.Position = 0; and using a stream reader. Example <a href=\"https://devblogs.microsoft.com/aspnet/re-reading-asp-net-core-request-bodies-with-enablebuffering/\" rel=\"nofollow noreferrer\">devblogs.microsoft.com/aspnet/&hellip;</a>"}], "tags": [], "owner": {"reputation": 61, "user_id": 6598305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35ab8d8535b93907f9dd2e5ed400347f?s=128&d=identicon&r=PG&f=1", "display_name": "Gid", "link": "https://stackoverflow.com/users/6598305/gid"}, "is_accepted": false, "score": 6, "last_activity_date": 1589951943, "last_edit_date": 1589951943, "creation_date": 1589921544, "answer_id": 61900575, "question_id": 59185410, "link": "https://stackoverflow.com/questions/59185410/request-body-from-is-empty-in-net-core-3-0/61900575#61900575", "title": "Request body from is empty in .Net Core 3.0", "body": "<p>Add this middleware in the startup class:</p>\n\n<pre><code>app.Use((context, next) =&gt;\n{\n    context.Request.EnableBuffering();\n    return next();\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 174, "user_id": 5573444, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153385185149601/picture?type=large", "display_name": "Lennart Hammarstr&#246;m", "link": "https://stackoverflow.com/users/5573444/lennart-hammarstr%c3%b6m"}, "is_accepted": true, "score": 1, "last_activity_date": 1597233311, "creation_date": 1597233311, "answer_id": 63376010, "question_id": 59185410, "link": "https://stackoverflow.com/questions/59185410/request-body-from-is-empty-in-net-core-3-0/63376010#63376010", "title": "Request body from is empty in .Net Core 3.0", "body": "<p>I actually figured it out, in the controller-method I read the body using <code>[FromBody]</code> so that the body was being read twice and not rewinded the first time.</p>\n<pre><code>public async Task&lt;ActionResult&lt;string&gt;&gt; PaymentRequestCallbackAsync(/*[FromBody] SecretModel model*/)\n{\n    var body = await Request.GetRequestBodyAsync();\n    var stream = new MemoryStream(Encoding.UTF8.GetBytes(body));\n    return body;\n}\n\n</code></pre>\n<p>So remove the <code>[FromBody]</code> and it should work just fine.</p>\n"}], "owner": {"reputation": 174, "user_id": 5573444, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153385185149601/picture?type=large", "display_name": "Lennart Hammarstr&#246;m", "link": "https://stackoverflow.com/users/5573444/lennart-hammarstr%c3%b6m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1996, "favorite_count": 2, "accepted_answer_id": 63376010, "answer_count": 2, "score": 4, "last_activity_date": 1597233311, "creation_date": 1575497778, "question_id": 59185410, "link": "https://stackoverflow.com/questions/59185410/request-body-from-is-empty-in-net-core-3-0", "title": "Request body from is empty in .Net Core 3.0", "body": "<p>Okay so I've been wracking my brain and cannot for the life of me understand why the exact same piece of code works perfectly in .Net Core 2.2 but returns an empty string in .Net Core 3.0.</p>\n\n<p>The piece of code I am running is this:</p>\n\n<pre><code>public static async Task&lt;string&gt; GetRequestBodyAsync(this HttpRequest request,\n                                                     Encoding encoding = null)\n{\n    if (encoding == null) encoding = Encoding.UTF8;\n    var body = \"\";\n\n    request.EnableBuffering();\n    if (request.ContentLength == null || !(request.ContentLength &gt; 0) || !request.Body.CanSeek) return body;\n\n    request.Body.Seek(0, SeekOrigin.Begin);\n    using (var reader = new StreamReader(request.Body, encoding, true, 1024, true))\n        body = await reader.ReadToEndAsync();\n\n    request.Body.Position = 0;\n    return body;\n}\n</code></pre>\n\n<p>And I call this extension as such:</p>\n\n<pre><code>var bodyContent = await Request.GetRequestBodyAsync();\nvar body = new MemoryStream(Encoding.UTF8.GetBytes(bodyContent));\n</code></pre>\n\n<p>In .Net Core 2.2 I get the body of the sent payload exactly as I want it, but in .Net Core 3.0 I get an empty string.</p>\n\n<p>I am using the extension in my startup to add Newtonsoft to my project for .Net Core 3.0, but if I remove that it still doesn't work.</p>\n\n<p>Any ideas what I might've done wrong?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1575497832, "post_id": 59185325, "comment_id": 104591051, "body": "The question is hard to answer because evidently there is something you don&#39;t understand, but it is really unclear what it is that you don&#39;t understand. Void methods return no value, so the answer to your first question is &quot;no&quot;, and the answer to the second question is &quot;see the answer to the first question&quot;. Can you clarify the question?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1575497910, "post_id": 59185325, "comment_id": 104591068, "body": "Let me try to help you clarify the question.  Consider this: <code>void AddOne(int x) { int t = x + 1; x = t; }</code>  That program fragment is <i>the same</i> as your program fragment. Does the program fragment I just gave you <i>return a value</i>? If you believe that it does, can you say <i>why</i> you believe that?"}, {"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 0, "creation_date": 1575500103, "post_id": 59185325, "comment_id": 104591752, "body": "This method increments the parameter <code>x</code> by 1, but never returns it. Since <code>int</code> isn&#39;t a reference type, this has no effect outside of the method. In other words, this method is only producing some CO\u2082, nothing else. (Don&#39;t show it Greta Thunberg!)"}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1575500125, "post_id": 59185325, "comment_id": 104591756, "body": "Why do you think that this <i>would</i> return anything?"}], "answers": [{"tags": [], "owner": {"reputation": 13422, "user_id": 8126362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BvD4C.jpg?s=128&g=1", "display_name": "Johnathan Barclay", "link": "https://stackoverflow.com/users/8126362/johnathan-barclay"}, "is_accepted": true, "score": 3, "last_activity_date": 1575499009, "last_edit_date": 1575499009, "creation_date": 1575497541, "answer_id": 59185368, "question_id": 59185325, "link": "https://stackoverflow.com/questions/59185325/doesnt-void-return-value-in-this-instance/59185368#59185368", "title": "Doesn&#39;t void return value in this instance?", "body": "<p>No, it increments <code>x</code> by 1 but returns nothing.</p>\n\n<p>Try calling:</p>\n\n<pre><code>int value = AddOne(1);\n</code></pre>\n\n<p>It won't compile.</p>\n\n<p>You would need to declare a return type i.e. <code>int</code> and use the <code>return</code> keyword.</p>\n\n<pre><code>int AddOne(int x)\n{\n    return x += 1;\n}\n</code></pre>\n\n<p>Although you are probably getting confused with the <code>+=</code> operator, which increments an existing variable in place, but has nothing to do with returning a value.</p>\n\n<p>The above is effectively the same as:</p>\n\n<pre><code>int AddOne(int x)\n{\n    x += 1;\n    return x;\n}\n</code></pre>\n\n<p>You would be better to do the following to avoid confusion:</p>\n\n<pre><code>int AddOne(int x)\n{\n    return x + 1;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12482504, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xyarkywTbqY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd3K76_d1Yk1Y1tenXQIil7q-MSZA/photo.jpg?sz=128", "display_name": "Lars Allergoth", "link": "https://stackoverflow.com/users/12482504/lars-allergoth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "closed_date": 1575500066, "accepted_answer_id": 59185368, "answer_count": 1, "score": -5, "last_activity_date": 1575499009, "creation_date": 1575497319, "last_edit_date": 1575498925, "question_id": 59185325, "link": "https://stackoverflow.com/questions/59185325/doesnt-void-return-value-in-this-instance", "closed_reason": "Needs details or clarity", "title": "Doesn&#39;t void return value in this instance?", "body": "<pre><code>void AddOne(int x){\n        x += 1;\n}\n</code></pre>\n\n<p>Doesn't this return the value of x+1 to the AddOne method?\nIf so, why is then a void?</p>\n"}, {"tags": ["c#", "visual-studio", "winforms"], "comments": [{"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 2, "creation_date": 1575497451, "post_id": 59185291, "comment_id": 104590948, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.listview.beginupdate?WT.mc_id=DT-MVP-5003235&amp;view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>BeginUpdate</code></a>, <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.listview.endupdate?WT.mc_id=DT-MVP-5003235&amp;view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>EndUpdate</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 2458, "user_id": 1348592, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1f388cdc864045a88ce41e038e42fa4b?s=128&d=identicon&r=PG", "display_name": "robbpriestley", "link": "https://stackoverflow.com/users/1348592/robbpriestley"}, "is_accepted": false, "score": 0, "last_activity_date": 1575508848, "creation_date": 1575508848, "answer_id": 59186860, "question_id": 59185291, "link": "https://stackoverflow.com/questions/59185291/adding-many-items-to-listview-is-laggy-and-takes-a-while/59186860#59186860", "title": "Adding many items to ListView is laggy and takes a while", "body": "<p>A <strong>RichTextBox</strong> is not going to be high-performance control because it is a visual GUI component, etc. But, you're treating it like it is some sort of high-performance data buffer that you're trying to update continuously. The simplest thing to do here is to \"double-buffer\" the control by building the string value separately in memory. Then one single time at the end, update the RichTextBox.</p>\n\n<pre><code>private void changeTable()\n{\n    // File content is the selected file's content\n    int rowCount = (fileContent.Length + bytesPerLine) / bytesPerLine;\n    this.richTextBox1.ResetText();\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; rowCount; i++) {\n        sb.Append(\"0x\" + i.ToString(\"X\").PadLeft(8, '0') + \"\\n\");\n    }\n    this.richTextBox1.AppendText(sb.ToString());\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12482474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de0e36f8209364b9060b6711c7c46538?s=128&d=identicon&r=PG&f=1", "display_name": "abcdefg", "link": "https://stackoverflow.com/users/12482474/abcdefg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575509526, "creation_date": 1575497160, "last_edit_date": 1575509526, "question_id": 59185291, "link": "https://stackoverflow.com/questions/59185291/adding-many-items-to-listview-is-laggy-and-takes-a-while", "title": "Adding many items to ListView is laggy and takes a while", "body": "<p>I'm trying to create a Hex Editor, and in order to do that I have created a layout which allows me to \"open\" a file and use it. When I open the file I want to have the offsets on the left. </p>\n\n<p>The problem is, whenever I load the file, I loop over the amount of rows and add each offset number to the \"richtext\" box.</p>\n\n<p>My design:</p>\n\n<p><a href=\"https://i.stack.imgur.com/eNWcQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eNWcQ.png\" alt=\"https://gyazo.com/43c847aff9a0c19bee0e0ae6cc5a4cc8\"></a></p>\n\n<p>My code: </p>\n\n<pre><code>private void changeTable()\n{\n    // File content is the selected file's content\n    int rowCount = (fileContent.Length + bytesPerLine) / bytesPerLine;\n    this.richTextBox1.ResetText();\n    for (int i = 0; i &lt; rowCount; i++) {\n        this.richTextBox1.AppendText(\"0x\" + i.ToString(\"X\").PadLeft(8, '0') + \"\\n\");\n    }\n}\n</code></pre>\n\n<p>I have tried changing the richtext object into a ListView but that is even slower. Are there more efficient or better solutions?</p>\n"}, {"tags": ["c#", ".net", "database", "entity-framework"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1575497296, "post_id": 59185286, "comment_id": 104590904, "body": "Are you getting an exception when you are saving to the database?"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575497788, "post_id": 59185286, "comment_id": 104591043, "body": "We need more than 3 lines of code. Take a look at this. <a href=\"https://docs.microsoft.com/en-us/ef/ef6/saving/change-tracking/entity-state\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/ef/ef6/saving/change-tracking/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 12369296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e84b51722006bf3f1571de518f56c0?s=128&d=identicon&r=PG&f=1", "display_name": "CoreyS", "link": "https://stackoverflow.com/users/12369296/coreys"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575508029, "post_id": 59185286, "comment_id": 104593681, "body": "@Train Added entities are inserted into the database and then become Unchanged when SaveChanges returns.   This is the documentation I was referring to. I&#39;m confused as to why it is not behaving like the documentation. Calling SaveChanges() changes the state from Added to Detached. I could provide more code, but this is the relevant code.   I&#39;m not sure what else to try, short of submitting a bug report to EntityFramework to see if its a bug or not."}, {"owner": {"reputation": 11, "user_id": 12369296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e84b51722006bf3f1571de518f56c0?s=128&d=identicon&r=PG&f=1", "display_name": "CoreyS", "link": "https://stackoverflow.com/users/12369296/coreys"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1575508268, "post_id": 59185286, "comment_id": 104593742, "body": "@jdweng  I don&#39;t believe so... Vscode says a thread finished (exited), but I do not get any exception that I can see while debugging. Unless it is failing silently somehow and the exception is being caught within entity framework."}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575555439, "post_id": 59185286, "comment_id": 104612243, "body": "Thanks for your comment on feedback, but we need to know where <code>myObjectToAdd</code> is comming from. Is it from another dbContext instance? API call? How are you constructing it?"}, {"owner": {"reputation": 11, "user_id": 12369296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e84b51722006bf3f1571de518f56c0?s=128&d=identicon&r=PG&f=1", "display_name": "CoreyS", "link": "https://stackoverflow.com/users/12369296/coreys"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575557242, "post_id": 59185286, "comment_id": 104613306, "body": "@Train I appreciate you responding so quickly. I updated my code for the sake of debugging to make it more clear. I am instantiating a new MyObject before inserting. In this case myObjectToAdd was created in another method, but it was also instantiated using the new MyObject() route and was not previously existing in the database. _db in this case is an in memory Entity Framework database object. MyObject has a property Id which is the Primary Key and it is database generated as Identity. I am not explicitly setting it, so it is defaulting to 0."}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575557526, "post_id": 59185286, "comment_id": 104613472, "body": "Great! Just one thing I forgot to mention, can you wrap the savechanges in a try catch with these 3 exceptions <code>DbEntityValidationException DbUpdateException and Execption</code>. Also look at the output window for erros right after save changes is called. Let me know if you see anything."}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575557652, "post_id": 59185286, "comment_id": 104613550, "body": "Just one more question just in case, is <code>myObjectToAdd</code> a Many to Many relationship?"}, {"owner": {"reputation": 11, "user_id": 12369296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e84b51722006bf3f1571de518f56c0?s=128&d=identicon&r=PG&f=1", "display_name": "CoreyS", "link": "https://stackoverflow.com/users/12369296/coreys"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575560443, "post_id": 59185286, "comment_id": 104615078, "body": "@Train I added exception catching to my code at the top of the thread. There is no DbEntityValidationException in EF Core The output is Detached -&gt; Added -&gt; Detached -&gt; After Save -&gt; Detached. No errors that I can see anywhere. It&#39;s the weirdest thing. Also from what I&#39;ve read, in memory ef core db&#39;s are not relational at all, so I don&#39;t know if that applies. In the actual sql server, it has just one relationship (one to many)."}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575561229, "post_id": 59185286, "comment_id": 104615516, "body": "Hmmm let&#39;s start from square 1 then. Show us your connection string and how the connection to the DB is set up."}, {"owner": {"reputation": 11, "user_id": 12369296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e84b51722006bf3f1571de518f56c0?s=128&d=identicon&r=PG&f=1", "display_name": "CoreyS", "link": "https://stackoverflow.com/users/12369296/coreys"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575568359, "post_id": 59185286, "comment_id": 104619228, "body": "@Train thanks for bearing with me. See my updated code if you have a moment. I wonder if something is going on with the scoping. Can you think of any reason why calling a public method within the same class would mess with EF Core functionality?"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575570864, "post_id": 59185286, "comment_id": 104620362, "body": "When writing tests. The key to testing with this provider is the ability to tell the context to use the InMemory provider, and control the scope of the in-memory database. Typically you want a clean database for each test method with the <code>UseInMemoryDatabase()</code> method. <a href=\"https://docs.microsoft.com/en-us/ef/core/miscellaneous/testing/in-memory\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/ef/core/miscellaneous/testing/&hellip;</a> Is it possible to set up an example with this issue? It&#39;s a little difficult for me to debug at the moment."}], "owner": {"reputation": 11, "user_id": 12369296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e84b51722006bf3f1571de518f56c0?s=128&d=identicon&r=PG&f=1", "display_name": "CoreyS", "link": "https://stackoverflow.com/users/12369296/coreys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1575574426, "creation_date": 1575497134, "last_edit_date": 1575574426, "question_id": 59185286, "link": "https://stackoverflow.com/questions/59185286/entityframework-savechanges-moving-entitystate-from-added-to-detached", "title": "EntityFramework SaveChanges Moving EntityState From &#39;Added&#39; to &#39;Detached&#39;", "body": "<p>I am writing a unit test which requires data to be set up in context before executing the method I am trying to test. </p>\n\n<p>Calling <code>SaveChanges()</code> on my In-Memory DB context does not persist the data to memory. The state is modified from 'Added' to 'Detached', which is not supposed to happen according to the documentation. </p>\n\n<p>Relevant Code:</p>\n\n<pre><code>private MyObject AddMyObject(MyObject myObjectToAdd, DateTimeOffset currentDate) {\n            myObjectToAdd.CreatedDate = currentDate;\n            // _db.Entry(myObjectToAdd).State is Detached\n            _db.MyObjects.Add(myObjectToAdd);\n            // _db.Entry(myObjectToAdd).State is Added\n            _db.SaveChanges();\n            // _db.Entry(myObjectToAdd).State is Detached and untracked -&gt; Should be Unmodified and being tracked\n            return myObjectToAdd;\n        }\n</code></pre>\n\n<p>When I then go to query the in-memory database, the added object is not there. </p>\n\n<p>Why is data not being persisted in this example?</p>\n\n<p>I have tried setting the <code>Id</code> which is a Database Generated Identity column to <code>null</code>. </p>\n\n<p>Second Attempt for clarity:</p>\n\n<pre><code>private MyObject AddMyObject(MyObject myObjectToAdd, DateTimeOffset currentDate) {\n            myObjectToAdd.CreatedDate = currentDate;\n            myObjectToAdd.ModifiedBy = \"some String\";\n            myObjectToAdd.ModifiedDate = currentDate;\n            // _db.Entry(cs).State is Detached\n            MyObject cs = new MyObject () {\n                Prop1 = myObjectToAdd.Prop1,\n                Prop2 = myObjectToAdd.Prop2,\n                ModifiedBy = myObjectToAdd.ModifiedBy,\n                ModifiedDate = myObjectToAdd.ModifiedDate,\n                CreatedDate = myObjectToAdd.CreatedDate,\n                Prop3 = myObjectToAdd.Prop3\n            };\n            System.Diagnostics.Debug.WriteLine(_db.Entry(cs).State);\n            var insertedMyObject = _db.MyObjects.Add(cs).Entity;\n            System.Diagnostics.Debug.WriteLine(_db.Entry(cs).State);\n            // _db.Entry(cs).State is Added\n\n            try\n            {\n              _db.SaveChanges();\n              System.Diagnostics.Debug.WriteLine(_db.Entry(cs).State);\n            } catch (DbUpdateException u) {\n                System.Diagnostics.Debug.WriteLine(u.Message);\n            } catch (Exception e) {\n                System.Diagnostics.Debug.WriteLine(e.Message);\n            }\n            System.Diagnostics.Debug.WriteLine(\"After Save\");\n            System.Diagnostics.Debug.WriteLine(_db.Entry(cs).State);\n            // _db.Entry(cs).State is Detached -&gt; Should be Unmodified and being tracked\n            return insertedMyObject;\n        }\n</code></pre>\n\n<p>Something weird is happening:</p>\n\n<p>It only happens on the first save. Calling the method a second time results in one record in MyObjects. Calling the method a third time results in two records in MyObjects and so on. </p>\n"}, {"tags": ["c#", "asp.net", "sockets"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1575497159, "post_id": 59185207, "comment_id": 104590866, "body": "The client need to connect to server IP address.  Your client is trying to connect to itself instead of remote machine : IPAddress.Parse(GetMyIP()), 9999"}, {"owner": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1575498621, "post_id": 59185207, "comment_id": 104591280, "body": "@jdweng I believe this is an answer, not a comment. Could you please add it as an answer?"}], "owner": {"reputation": 1, "user_id": 12066216, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCtQF3fHaydBfiW8FPKRESaWGD_WHkT0kHLXuuY=k-s128", "display_name": "Alon Shraybman", "link": "https://stackoverflow.com/users/12066216/alon-shraybman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575496648, "creation_date": 1575496648, "question_id": 59185207, "link": "https://stackoverflow.com/questions/59185207/no-connection-could-be-made-because-the-target-machine-actively-refused-it", "title": "No_connection_could be made because the target machine actively refused it", "body": "<p>hi i creating a Local Chat System. \ni created a program as server listener and a Client using Console app(as server) and Forms(as Client) on and i used the Sockets as Communication with port:9999.\nif i open both program on the local machine it works, but as i soon try to connect from another computer it fails and i have a message </p>\n\n<blockquote>\n  <p>No connection could be made because the target machine actively\n  refused it</p>\n</blockquote>\n\n<p>i tried to deactivate firewall and Antivirus but it didn't seceded, i work with laptop and PC on the same router. \nhere a code for Server</p>\n\n<h2>Client code</h2>\n\n<pre><code>private void Server_Connection_Click(object sender, EventArgs e)\n    {\n        connectDone.Reset();\n        Server.workSocket = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\n        if (textBox1.Text == \"\")\n            Server.IPEnd = new IPEndPoint(IPAddress.Parse(GetMyIP()), 9999);//gets the local IP of the Device\n        else\n            Server.IPEnd = new IPEndPoint(IPAddress.Parse(textBox1.Text), 9999);\n        Server.workSocket.BeginConnect(Server.IPEnd, new AsyncCallback(ServerCallback), Server);//begin connect\n        connectDone.WaitOne();\n        if (Server.workSocket.Connected)\n        {\n\n            listenServer = new Thread(ServerContacts);//starting a thread that gets the msg from server\n            listenServer.Start();\n        }\n    }\n</code></pre>\n\n<p>Server Code</p>\n\n<pre><code>public static void SetupServer()\n    {\n        Socket lisetner = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\n        Server.workSocket = lisetner;\n        try\n        {\n            lisetner.Bind(IPEnd);\n            lisetner.Listen(100);\n            while (true)\n            {\n                allDone.Reset();\n                Console.WriteLine(\"Waiting for connection...\");\n                lisetner.BeginAccept(new AsyncCallback(AcceptCallBack), lisetner);//beging Accept Clients to server \n                allDone.WaitOne();//waiting untill when someone joins\n                SendToAll();//sending all client the name's of all client\n\n            }\n\n        }\n        catch (Exception err)\n        {\n            Console.WriteLine(err.Message + \"\\n\" + err.Source);\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "async-await", "task-parallel-library"], "comments": [{"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1575496807, "post_id": 59185133, "comment_id": 104590768, "body": "Your <code>First (async&#47;await) method</code> looks correct, just set the number with <code>await</code>, there&#39;s no need for the callback-esque <code>ContinueWith</code>. As for why it was done like that in the first place I&#39;m not sure there&#39;s a way to know without talking to the original dev."}], "answers": [{"tags": [], "owner": {"reputation": 108213, "user_id": 27423, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/CoNYx.jpg?s=128&g=1", "display_name": "Daniel Earwicker", "link": "https://stackoverflow.com/users/27423/daniel-earwicker"}, "is_accepted": true, "score": 3, "last_activity_date": 1575497152, "creation_date": 1575497152, "answer_id": 59185289, "question_id": 59185133, "link": "https://stackoverflow.com/questions/59185133/combination-await-with-continuewith/59185289#59185289", "title": "Combination await with ContinueWith", "body": "<p>You can think of <code>await</code> as a language feature that replaces most uses of <code>ContinueWith</code>, and so to mix the two seems unnecessary.</p>\n\n<p>Note that your second rewrite is not the same as the first, in two ways.</p>\n\n<ol>\n<li><p>It swallows errors instead of surfacing them.</p></li>\n<li><p>It doesn't return a <code>Task</code> so the caller will not know when the <code>Number</code> has been set to the final result.</p></li>\n</ol>\n\n<p><code>ComputeNumber</code> is of dubious purpose (this may be as a result of it being simplified for posting here). Why not simply <code>await bar.GetNumberAsync()</code> and then use the obtained value in subsequent statements? The point of <code>await</code> is to allow <code>Task&lt;T&gt;</code> to be treated much the same as <code>T</code> in procedural code.</p>\n"}], "owner": {"reputation": 1048, "user_id": 1281652, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/46a85c94539819d787e4eb6d6c604d23?s=128&d=identicon&r=PG&f=1", "display_name": "rgb", "link": "https://stackoverflow.com/users/1281652/rgb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 1, "accepted_answer_id": 59185289, "answer_count": 1, "score": 2, "last_activity_date": 1575497152, "creation_date": 1575496199, "question_id": 59185133, "link": "https://stackoverflow.com/questions/59185133/combination-await-with-continuewith", "title": "Combination await with ContinueWith", "body": "<p>I met the following asynchronous code (simplified for this example) which I'm trying to understand:</p>\n\n<pre><code>class Program\n{\n    static async Task Main(string[] args)\n    {\n        var foo = new Foo();\n\n        try\n        {\n            var bar = new Bar();\n            await foo.ComputeNumber(bar.GetNumberAsync());\n        }\n        catch (Exception e)\n        {\n            Console.WriteLine($\"Logged exception: {e}\");\n        }\n        Console.WriteLine($\"The number is {foo.Number}\");\n        Console.ReadKey();\n    }\n}\n\npublic class Foo\n{\n    public int Number { get; private set; } = 0;\n\n    public async Task ComputeNumber(Task&lt;int&gt; inputTask)\n    {\n        await inputTask.ContinueWith(x =&gt; Number = x.Result);\n    }\n}\n\npublic class Bar\n{\n    public async Task&lt;int&gt; GetNumberAsync()\n    {\n        return await Task.Factory.StartNew(() =&gt;\n        {\n            if (DateTime.Now.Date.DayOfWeek != DayOfWeek.Monday)\n            {\n                throw new Exception(\"This function works only on Mondays.\");\n            }\n            return 17;\n        });\n    }\n}\n</code></pre>\n\n<p>This code works as I expected (at least I hope so), but I think this problem should be solved in one of the following ways (I think both are correct). The <code>Bar</code> class will remain unchanged.</p>\n\n<p><strong><em>First (async/await) method:</em></strong></p>\n\n<pre><code>class Program\n{\n    static async Task Main(string[] args)\n    {\n        var foo = new Foo();\n\n        try\n        {\n            var bar = new Bar();\n            await foo.ComputeNumber(bar.GetNumberAsync());\n        }\n        catch (Exception e)\n        {\n            Console.WriteLine($\"Logged exception: {e}\");\n        }\n        Console.WriteLine($\"The number is {foo.Number}\");\n        Console.ReadKey();\n    }\n}\n\npublic class Foo\n{\n    public int Number { get; private set; } = 0;\n\n    public async Task ComputeNumber(Task&lt;int&gt; inputTask)\n    {\n        Number = await inputTask;\n    }\n}\n</code></pre>\n\n<p><strong><em>Second (task-based) method:</em></strong></p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        var foo = new Foo();\n        var bar = new Bar();\n        foo.ComputeNumber(bar.GetNumberAsync());\n\n        Console.WriteLine($\"The number is {foo.Number}\");\n        Console.ReadKey();\n    }\n}\n\npublic class Foo\n{\n    public int Number { get; private set; } = 0;\n\n    public void ComputeNumber(Task&lt;int&gt; inputTask)\n    {\n        inputTask.ContinueWith(x =&gt;\n        {\n            if (x.IsFaulted)\n            {\n                Console.WriteLine($\"Logged exception: {x.Exception}\");\n            }\n            else\n            {\n                Number = x.Result;\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>I appreciate every explanation of why the original example of using asynchronous code could have been written this way.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 2, "creation_date": 1575496146, "post_id": 59185114, "comment_id": 104590565, "body": "StreamWriter has many constructors. Did you read about its documentation? If you read it you would find this one <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.streamwriter.-ctor?view=netframework-4.8#System_IO_StreamWriter__ctor_System_String_System_Boolean_\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1575496766, "post_id": 59185114, "comment_id": 104590752, "body": "StreamWriter does not have an append mode so you need to use another method for writing.  Try File Class : <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.file?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 632, "user_id": 9215257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UhDBkFIngW4/AAAAAAAAAAI/AAAAAAAAAX4/u_bwFrkB5Yg/photo.jpg?sz=128", "display_name": "Marwen Jaffel", "link": "https://stackoverflow.com/users/9215257/marwen-jaffel"}, "is_accepted": false, "score": 0, "last_activity_date": 1575496577, "creation_date": 1575496577, "answer_id": 59185191, "question_id": 59185114, "link": "https://stackoverflow.com/questions/59185114/how-do-i-add-data-in-the-notepad-txt-file-in-c/59185191#59185191", "title": "How Do I add data in the notepad .txt file in C#?", "body": "<p>You need to tell the StreamWriter you want to append:</p>\n\n<pre><code>var sw = new StreamWriter(path, true);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11522, "user_id": 120753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8mz8N.jpg?s=128&g=1", "display_name": "Babak Naffas", "link": "https://stackoverflow.com/users/120753/babak-naffas"}, "is_accepted": false, "score": 0, "last_activity_date": 1575496584, "creation_date": 1575496584, "answer_id": 59185194, "question_id": 59185114, "link": "https://stackoverflow.com/questions/59185114/how-do-i-add-data-in-the-notepad-txt-file-in-c/59185194#59185194", "title": "How Do I add data in the notepad .txt file in C#?", "body": "<p>You need to open a stream to the file with the <code>Append</code> option set.</p>\n\n<pre><code>StreamWriter EditEmployeeDetail = new StreamWriter(@\"C:\\Users\\user\\Desktop\\FoodDeliverySyste\\Employee_details.txt\", true);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "is_accepted": false, "score": 4, "last_activity_date": 1575496969, "last_edit_date": 1575496969, "creation_date": 1575496627, "answer_id": 59185200, "question_id": 59185114, "link": "https://stackoverflow.com/questions/59185114/how-do-i-add-data-in-the-notepad-txt-file-in-c/59185200#59185200", "title": "How Do I add data in the notepad .txt file in C#?", "body": "<p>Use the static <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.file.appendtext?view=netframework-4.8\" rel=\"nofollow noreferrer\">File class</a> instead</p>\n\n<pre><code>string path = @\"C:\\Users\\user\\Desktop\\FoodDeliverySystem\\Employee_details.txt\";\nFile.AppendAllText(path, temp_Emp_Det);\n</code></pre>\n\n<p><code>AppendAllText</code> opens, writes and closes the file all with one call.</p>\n"}], "owner": {"reputation": 17, "user_id": 12196786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9q43R4mbIHE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfvTi-j7iLXlHUYSFmz2xRy3dXNew/photo.jpg?sz=128", "display_name": "Muhammad Rehan", "link": "https://stackoverflow.com/users/12196786/muhammad-rehan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1575496969, "creation_date": 1575496074, "last_edit_date": 1575496819, "question_id": 59185114, "link": "https://stackoverflow.com/questions/59185114/how-do-i-add-data-in-the-notepad-txt-file-in-c", "title": "How Do I add data in the notepad .txt file in C#?", "body": "<p>I am able to write new data into the .txt file. But, it comes as the replacement of the existing data.\nSo, how can I add new data to the file by keeping the existing data already present in the .txt file.\nI have been using <code>System.IO</code> namespace and <code>StreamWriter</code> to edit data.</p>\n\n<pre><code>StreamWriter EditEmployeeDetail =\n    new StreamWriter(@\"C:\\Users\\user\\Desktop\\FoodDeliverySystem\\Employee_details.txt\");\nEditEmployeeDetail.Write(temp_Emp_Det);\nEditEmployeeDetail.Close();\n</code></pre>\n"}, {"tags": ["c#", "integration-testing", "moq"], "answers": [{"comments": [{"owner": {"reputation": 2108, "user_id": 2619988, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/kzoSI.png?s=128&g=1", "display_name": "CDrosos", "link": "https://stackoverflow.com/users/2619988/cdrosos"}, "edited": false, "score": 0, "creation_date": 1575503458, "post_id": 59185985, "comment_id": 104592631, "body": "wow i&#39;m having a hard time to understand why it is better, i will read it may times"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 2108, "user_id": 2619988, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/kzoSI.png?s=128&g=1", "display_name": "CDrosos", "link": "https://stackoverflow.com/users/2619988/cdrosos"}, "edited": false, "score": 0, "creation_date": 1575503603, "post_id": 59185985, "comment_id": 104592668, "body": "@CDrosos in your approach there was no way for you to intercept the creation of the providers without exposing the functions publicly and trying to mock the subject under test. With this approach only the necessary dependencies need to be mocked and injected into the subject under test."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 2108, "user_id": 2619988, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/kzoSI.png?s=128&g=1", "display_name": "CDrosos", "link": "https://stackoverflow.com/users/2619988/cdrosos"}, "edited": false, "score": 0, "creation_date": 1575503715, "post_id": 59185985, "comment_id": 104592698, "body": "@CDrosos this also follows a more closely to SOLID principles."}, {"owner": {"reputation": 2108, "user_id": 2619988, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/kzoSI.png?s=128&g=1", "display_name": "CDrosos", "link": "https://stackoverflow.com/users/2619988/cdrosos"}, "edited": false, "score": 0, "creation_date": 1575504237, "post_id": 59185985, "comment_id": 104592830, "body": "you have change so little but has made so big difference. in general the method that i wasn&#39;t able to access unless i make it virtual(GetTaskProvider()), you made it to another class public and with its own interface, and so it could be mocked?"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 2108, "user_id": 2619988, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/kzoSI.png?s=128&g=1", "display_name": "CDrosos", "link": "https://stackoverflow.com/users/2619988/cdrosos"}, "edited": false, "score": 0, "creation_date": 1575505123, "post_id": 59185985, "comment_id": 104593048, "body": "@CDrosos Being able to mock it is a beneficial side effect. Moving it into its own class was done to separate concerns/responsibility of the classes. the interface was to allow for better dependency inversion and because classes should depend on abstractions and not concretions."}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 2, "last_activity_date": 1575501941, "last_edit_date": 1575501941, "creation_date": 1575501579, "answer_id": 59185985, "question_id": 59185056, "link": "https://stackoverflow.com/questions/59185056/cannot-create-moq-test-with-interface-while-making-the-function-virtual-works/59185985#59185985", "title": "Cannot create Moq test with Interface while making the function virtual works", "body": "<p>This is a matter of design.</p>\n\n<blockquote>\n  <p>what am i doing wrong?</p>\n</blockquote>\n\n<p><code>DataReports</code> is tightly coupled to implementation concerns and is also violating Single Responsibility Principle (SRP) and Separation of Concerns (SoC).</p>\n\n<p>By having <code>DataReports</code> create the providers, it is tightly coupled to them, and prevents you from being able to replace them when testing.</p>\n\n<p>Abstract the provider creation out into its own concern</p>\n\n<p>For example</p>\n\n<pre><code>//Abstraction\npublic interface ITaskProviderFactory {\n    ITaskEnumerableProvider GetTaskProvider();\n}\n\n//Implementation\npublic class DefaultTaskProviderFactory : ITaskProviderFactory{\n    private readonly DBConfig config;\n\n    public DefaultTaskProviderFactory(DBConfig config) {\n        this.config = config;\n    }\n\n    public ITaskEnumerableProvider GetTaskProvider() {\n        switch (config.DAL) {\n            case \"ADO\":\n                return new ADOTaskProvider.Tasks(config.ConnectionString);\n            case \"EFCore\":\n                return new EFCoreTaskProvider.Tasks(config.ConnectionString);\n            default:\n                throw new FormatException(\"The format of the variable which represent the selected DAL was not correct\");\n        }\n    }\n}\n</code></pre>\n\n<p>And refactor the <code>DataReports</code> accordingly</p>\n\n<pre><code>public class DataReports : IDataReports {\n    private readonly ITaskProviderFactory factory;\n\n    public DataReports(ITaskProviderFactory factory) {\n        this.factory = factory;\n    }\n\n    private ITaskEnumerableProvider getTaskProvider() {\n        return factory.GetTaskProvider();\n    } \n\n    public IEnumerable&lt;SalesOrderMinMaxTotalDuePerTerritoryForMarketingOrders&gt; SalesOrderMinMaxTotalDuePerTerritoryForMarketingOrders() {\n        return getTaskProvider().SalesOrderMinMaxTotalDuePerTerritoryForMarketingOrders().ToList();\n    }\n}\n</code></pre>\n\n<p>At run-time in production, the appropriate implementation can be explicitly injected.</p>\n\n<p>For an integration test of <code>DataReports</code> the actual implementations can be swapped out as needed in order to verify the expected behavior.</p>\n\n<p>For example</p>\n\n<pre><code>[TestMethod]\npublic void SalesOrderMinMaxTotalDuePerTerritoryForMarketingOrdersTest() {\n    //Arrange\n    var options = new DbContextOptionsBuilder&lt;DAL_EFCore.AdventureWorks2017Context&gt;()\n        .UseInMemoryDatabase(databaseName: \"SalesOrderMinMaxTotalDuePerTerritoryForMarketingOrdersTest\")\n        .Options;\n\n    using (var context = new DAL_EFCore.AdventureWorks2017Context(options)) {\n        InsertData(options);\n    }\n\n    using (var context = new DAL_EFCore.AdventureWorks2017Context(options)) {\n        //actual EFCoreTaskProvider.Tasks targeting in-memory database\n        var taskProvider = new EFCoreTaskProvider.Tasks(context);\n\n        //mock factory configured to return the desired provider\n        var mockFactory = Mock.Of&lt;ITaskProviderFactory&gt;(_ =&gt;\n            _.GetTaskProvider() == taskProvider //return the actual provider for testing\n        );\n\n        // actual CoreReportService.DataReports (Subject under test)\n        var dataReports = DataReports(mockFactory);\n\n        //Act\n        var result = dataReports.SalesOrderMinMaxTotalDuePerTerritoryForMarketingOrders().ToList();\n\n        //Assert\n        Assert.IsTrue(result.Count == 1);\n    }\n}\n</code></pre>\n\n<p>The original design of your classes is not very flexible so it makes it difficult to isolate parts for testing.</p>\n"}], "owner": {"reputation": 2108, "user_id": 2619988, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/kzoSI.png?s=128&g=1", "display_name": "CDrosos", "link": "https://stackoverflow.com/users/2619988/cdrosos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 59185985, "answer_count": 1, "score": 1, "last_activity_date": 1575506589, "creation_date": 1575495725, "last_edit_date": 1575506589, "question_id": 59185056, "link": "https://stackoverflow.com/questions/59185056/cannot-create-moq-test-with-interface-while-making-the-function-virtual-works", "title": "Cannot create Moq test with Interface while making the function virtual works", "body": "<p>I'm trying to test this class:</p>\n\n<pre><code>public class Tasks : ITaskEnumerableProvider\n{\n    protected string ConnectionString;\n    DAL_EFCore.AdventureWorks2017Context CurrentContext;\n    public Tasks(DAL_EFCore.AdventureWorks2017Context currentContext)\n    {\n        CurrentContext = currentContext;\n    }\n    public Tasks(string connectionString)\n    {\n        ConnectionString = connectionString;            \n    }\n    public DAL_EFCore.AdventureWorks2017Context GetContext()\n    {\n        if (CurrentContext != null)\n            return CurrentContext;\n        else\n        {\n            var serviceCollection = new ServiceCollection()\n                .AddDbContextPool&lt;DAL_EFCore.AdventureWorks2017Context&gt;\n                (\n                options =&gt; options.UseSqlServer(ConnectionString)\n                );\n            var serviceProvider = serviceCollection.BuildServiceProvider();\n            CurrentContext = serviceProvider.GetService&lt;DAL_EFCore.AdventureWorks2017Context&gt;();\n            return CurrentContext;\n        }\n    }\n    public IEnumerable&lt;SalesOrderMinMaxTotalDuePerTerritoryForMarketingOrders&gt; SalesOrderMinMaxTotalDuePerTerritoryForMarketingOrders()\n    {\n        return GetContext().Employee\n            .GroupBy(e =&gt; e.Gender)\n            .Select(n =&gt; new SalesOrderMinMaxTotalDuePerTerritoryForMarketingOrders\n            {\n                Gender = n.Key,\n                Count = n.Count()\n            })\n            .ToList();\n    }\n}\n</code></pre>\n\n<p>And this one:</p>\n\n<pre><code>public class DataReports : IDataReports\n{\n    protected ITaskEnumerableProvider TaskProvider;\n    protected string ConnectionString;\n    protected string DalModeSelected;\n    public DataReports() {}\n    public DataReports(DBConfig config)\n    {\n        ConnectionString = config.ConnectionString;\n        DalModeSelected = config.DAL;\n    }\n    public ITaskEnumerableProvider GetTaskProvider()\n    {\n        switch (DalModeSelected)\n        {\n            case \"ADO\":\n                return new ADOTaskProvider.Tasks(ConnectionString);\n            case \"EFCore\":\n                return new EFCoreTaskProvider.Tasks(ConnectionString);\n            default:\n                throw new FormatException(\"The format of the variable which represend the selected DAL was not correct\");\n        }\n    } \n    public IEnumerable&lt;SalesOrderMinMaxTotalDuePerTerritoryForMarketingOrders&gt; SalesOrderMinMaxTotalDuePerTerritoryForMarketingOrders()\n    {\n        return GetTaskProvider().SalesOrderMinMaxTotalDuePerTerritoryForMarketingOrders().ToList();\n    }\n</code></pre>\n\n<p>I'm testing with this code:</p>\n\n<pre><code>[TestMethod]\npublic void SalesOrderMinMaxTotalDuePerTerritoryForMarketingOrdersTest()\n{\n    // Setup Mock Data and context\n    var options = new DbContextOptionsBuilder&lt;DAL_EFCore.AdventureWorks2017Context&gt;()\n        .UseInMemoryDatabase(databaseName: \"SalesOrderMinMaxTotalDuePerTerritoryForMarketingOrdersTest\")\n        .Options;\n    using (var context = new DAL_EFCore.AdventureWorks2017Context(options))\n    {\n        InsertData(options);\n    }\n    using (var context = new DAL_EFCore.AdventureWorks2017Context(options))\n    {\n        // Mock EFCoreTaskProvider.Tasks\n        var mockEFCoreTaskProvider = new Mock&lt;EFCoreTaskProvider.Tasks&gt;(ConnectionString);\n        mockEFCoreTaskProvider.As&lt;IGetContext&gt;();\n        mockEFCoreTaskProvider.CallBase = true;\n        mockEFCoreTaskProvider.Setup(x =&gt; x.GetContext()).Returns(context);\n\n        // Mock CoreReportService.DataReports\n        var config = new DBConfig { DAL = \"EFCore\", ConnectionString = ConnectionString };\n        var mockDataReports = new Mock&lt;DataReports&gt;(config).As&lt;IDataReports&gt;();\n        mockDataReports.CallBase = true;\n        mockDataReports.Setup(x =&gt; x.GetTaskProvider()).Returns(mockEFCoreTaskProvider.Object);\n\n        var test = mockDataReports.Object.SalesOrderMinMaxTotalDuePerTerritoryForMarketingOrders().ToList();\n        Assert.IsTrue(test.Count == 1);\n    }\n}\n</code></pre>\n\n<p>I'm using an inmemorydatabase to test the data but the <code>test.Count</code> of the TestCase has the count that corresponds from the real database.</p>\n\n<p>If I make <code>GetContext()</code> and <code>GetTaskProvider()</code> <em>virtual</em> I'm getting the correct <code>Count</code> from the virtual database but I don't want them to be virtual, I also prefer if they were not public, what am I doing wrong?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-core"], "comments": [{"owner": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 1, "creation_date": 1575496526, "post_id": 59185048, "comment_id": 104590664, "body": "Can you see the 302 triggered by the <code>RedirectToAction</code> and then the next request to the new location fails? Or rather, it&#39;s the filter code that fails immediately, without even returning the 302?"}, {"owner": {"reputation": 8772, "user_id": 41713, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ksuyd.jpg?s=128&g=1", "display_name": "jle", "link": "https://stackoverflow.com/users/41713/jle"}, "reply_to_user": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 0, "creation_date": 1575501093, "post_id": 59185048, "comment_id": 104591973, "body": "I could see a 302 and then the error. And I figured it out. Turns out I had a partial view that wanted a model so that it could use the form tag helpers. I just passed an empty object into it and it all works now."}], "answers": [{"tags": [], "owner": {"reputation": 8772, "user_id": 41713, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ksuyd.jpg?s=128&g=1", "display_name": "jle", "link": "https://stackoverflow.com/users/41713/jle"}, "is_accepted": false, "score": 0, "last_activity_date": 1575501321, "creation_date": 1575501321, "answer_id": 59185945, "question_id": 59185048, "link": "https://stackoverflow.com/questions/59185048/how-to-properly-redirect-in-aspnetcore-3-0-action-filter-attribute/59185945#59185945", "title": "How to Properly Redirect in AspNetCore 3.0 Action Filter Attribute?", "body": "<p>Turns out I had a partial view referenced from the layout page that wanted a model so that it could make a login form. The page would load fine when no model was present as it only used the model for the tag helpers, but it would not work when an actual model was used. The solution was to just add a <code>model=\"new MyEmptyModel()\"</code> to the partial tag helper.</p>\n"}], "owner": {"reputation": 8772, "user_id": 41713, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ksuyd.jpg?s=128&g=1", "display_name": "jle", "link": "https://stackoverflow.com/users/41713/jle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575501321, "creation_date": 1575495681, "last_edit_date": 1575496095, "question_id": 59185048, "link": "https://stackoverflow.com/questions/59185048/how-to-properly-redirect-in-aspnetcore-3-0-action-filter-attribute", "title": "How to Properly Redirect in AspNetCore 3.0 Action Filter Attribute?", "body": "<p>I need to redirect to another action for setup if the account setup is not complete. \nHowever, when I use this action filter:</p>\n\n<pre><code>public sealed class AccountSetupFilter : ActionFilterAttribute\n    {\n        ...\n        public override async Task OnActionExecutionAsync(\n        ActionExecutingContext context, ActionExecutionDelegate next)\n        {\n            if (context.HttpContext.User.Identity.IsAuthenticated &amp;&amp; \n               await UserRequiresServiceAccount(context.HttpContext.User))\n            {\n                context.Result = new RedirectToActionResult(\"Setup\", \"Home\", null);\n            }\n            else\n            {\n                await base.OnActionExecutionAsync(context, next);\n            }\n        }\n...\n}\n</code></pre>\n\n<p>I get an error:</p>\n\n<pre><code>InvalidOperationException: The model item passed into the ViewDataDictionary is \nof type 'Models.SetupModel', but this ViewDataDictionary instance requires a model \nitem of type 'Models.OriginalControllerModel'.\nMicrosoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(object value)\n</code></pre>\n\n<p>This is not expected because the new view requires a SetupModel. What am I missing?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 4, "creation_date": 1575495845, "post_id": 59185019, "comment_id": 104590458, "body": "Side Note: Don&#39;t ToString your enums.  Just use the value.  <code>if (interval == KlineInterval.FiveMinutes)</code>"}, {"owner": {"reputation": 344, "user_id": 9338546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33edb607cdc43c9361327b127baca007?s=128&d=identicon&r=PG", "display_name": "Collen", "link": "https://stackoverflow.com/users/9338546/collen"}, "edited": false, "score": 0, "creation_date": 1575496227, "post_id": 59185019, "comment_id": 104590591, "body": "This is kinda hacky but you could make your enum int values equal to the number of minutes each span of time represents, then do math with that value. For example, <code>KlineInterval.OneHour = 60</code>"}, {"owner": {"reputation": 1445, "user_id": 13677853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8109a798cab3a2c53568ee21cb8ef4?s=128&d=identicon&r=PG&f=1", "display_name": "nop", "link": "https://stackoverflow.com/users/13677853/nop"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1575496962, "post_id": 59185019, "comment_id": 104590810, "body": "@LarsTech, that&#39;s true. I was thinking about something working for all minutes, then all hours, then all days, etc."}], "answers": [{"comments": [{"owner": {"reputation": 1445, "user_id": 13677853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8109a798cab3a2c53568ee21cb8ef4?s=128&d=identicon&r=PG&f=1", "display_name": "nop", "link": "https://stackoverflow.com/users/13677853/nop"}, "edited": false, "score": 0, "creation_date": 1575500064, "post_id": 59185382, "comment_id": 104591735, "body": "Thanks, that&#39;s acceptable solution. What about calculating the difference for minutes, days and weeks based on <code>TimeSpan</code>. Like, I know how to do it only for hours?"}, {"owner": {"reputation": 1494, "user_id": 2804555, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005016456185/picture?type=large", "display_name": "Max Meijer", "link": "https://stackoverflow.com/users/2804555/max-meijer"}, "edited": false, "score": 0, "creation_date": 1575500756, "post_id": 59185382, "comment_id": 104591899, "body": "For seconds, minutes, hours, days and weeks, you can use the same code: convert the current time to a UNIX timestamp and take the remainder (<code>%</code> operator) on division by the total amount of seconds in the unix timestamp (this works because UNIX timestamps have no support for leap seconds). The month would be trickier though because not every month is the same size. You&#39;ll need a separate way of handling months."}], "tags": [], "owner": {"reputation": 1494, "user_id": 2804555, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005016456185/picture?type=large", "display_name": "Max Meijer", "link": "https://stackoverflow.com/users/2804555/max-meijer"}, "is_accepted": false, "score": 1, "last_activity_date": 1575497626, "creation_date": 1575497626, "answer_id": 59185382, "question_id": 59185019, "link": "https://stackoverflow.com/questions/59185019/parametrized-remaining-seconds-until-next-interval/59185382#59185382", "title": "Parametrized remaining seconds until next interval", "body": "<p>It's important to be aware of the fact that there will need to be some place where each of the enums you have declared are mapped to their expected behaviour. (There is also the option of parsing the string values of the enums. This is very hacky and I would advise against it.) This means that you will need to have some control flow that splits based on the enum type. You can do this with either an if statement or a switch statement (switch statements are more common for this purpose, but both work fine).</p>\n\n<p>Still, it's not necessary to have 3 lines of code within each branch. You can bring it down to just one line per branch. When trying to reduce the amount of code duplication, it is helpful to look at which parts are the same in the different cases and which are different.</p>\n\n<p>In this case, it's useful to first convert the enum into a <code>Timespan</code> and then implement some logic based on this <code>Timespan</code> that computes the number of remaining seconds. One method could deal with converting the enum to a <code>Timespan</code>, and the other could calculate the remaining seconds in the interval based on the <code>Timespan</code>, like so:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private static double RemainingSecondsUntilNextInterval(Timespan interval) {\n// ...\n}\nprivate static Timespan TimespanFromKlineInterval(KlineInterval interval) {\n    switch(interval){\n       case KlineInterval.OneMinute:\n// ...\n}\npublic static double RemainingSecondsUntilNextInterval(KlineInterval interval) {\n    return RemainingSecondsUntilNextInterval(TimespanFromKlineInterval(interval));\n}\n</code></pre>\n"}], "owner": {"reputation": 1445, "user_id": 13677853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8109a798cab3a2c53568ee21cb8ef4?s=128&d=identicon&r=PG&f=1", "display_name": "nop", "link": "https://stackoverflow.com/users/13677853/nop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575508995, "creation_date": 1575495528, "last_edit_date": 1575508995, "question_id": 59185019, "link": "https://stackoverflow.com/questions/59185019/parametrized-remaining-seconds-until-next-interval", "title": "Parametrized remaining seconds until next interval", "body": "<p>I wanted to return the remaining time until the next interval (KlineInterval). Basically, I want to avoid hard-coding stuff. My code works fine for 1-hour interval but it doesn't support the rest of the intervals. I want it to support all of them and if there is a way to do that in a not hard-coded way (those ugly  <code>if</code>s). </p>\n\n<p>Is this possible?</p>\n\n<pre><code>public enum KlineInterval\n{\n    OneMinute = 0,\n    ThreeMinutes = 1,\n    FiveMinutes = 2,\n    FifteenMinutes = 3,\n    ThirtyMinutes = 4,\n    OneHour = 5,\n    TwoHour = 6,\n    FourHour = 7,\n    SixHour = 8,\n    EightHour = 9,\n    TwelveHour = 10,\n    OneDay = 11,\n    ThreeDay = 12,\n    OneWeek = 13,\n    OneMonth = 14\n}\n\npublic static double RemainingSecondsUntilNextInterval(KlineInterval interval)\n{\n    if (interval == KlineInterval.FiveMinutes)\n    {\n        double currentTimeUnixTimestamp = DateTimeToUnixTimestamp(DateTime.Now);\n        int minutesInSeconds = 5 * 60;\n        return minutesInSeconds - (currentTimeUnixTimestamp % minutesInSeconds);\n    }\n    else if (interval == KlineInterval.OneHour)\n    {\n        var timeOfDay = DateTime.Now.TimeOfDay;\n        var nextFullHour = TimeSpan.FromHours(Math.Ceiling(timeOfDay.TotalHours));\n        return (nextFullHour - timeOfDay).TotalSeconds;\n    }\n    else\n    {\n        throw new NotSupportedException(\"Interval not supported.\");\n    }\n}\n</code></pre>\n\n<p>Edit:</p>\n\n<pre><code>using System;\n\nclass Program\n{\n    private static double DateTimeToUnixTimestamp(DateTime dateTime)\n    {\n        return (TimeZoneInfo.ConvertTimeToUtc(dateTime) -\n               new DateTime(1970, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc)).TotalSeconds;\n    }\n\n    private static double RemainingSecondsUntilXMinutes(int minutes)\n    {\n        double currentTimeUnixTimestamp = DateTimeToUnixTimestamp(DateTime.Now);\n        return (minutes * 60) - (currentTimeUnixTimestamp % (minutes * 60));\n    }\n\n    static void Main(string[] args)\n    {\n        // Remaining seconds until the next hour\n        var nextHour = RemainingSecondsUntilXMinutes(60);\n\n        // Remaining seconds until the next 5 minutes\n        var nextFiveMinutes = RemainingSecondsUntilXMinutes(5);\n\n        Console.ReadKey();\n    }\n}\n</code></pre>\n\n<p>@Max, is that what you wanted to say?</p>\n"}, {"tags": ["c#", "unity3d", "scripting", "collision"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1575496222, "post_id": 59184990, "comment_id": 104590588, "body": "Are you trying to make the player disappear with <code>Destroy(gameObject);</code>?"}, {"owner": {"reputation": 4016, "user_id": 7109869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/661pb.jpg?s=128&g=1", "display_name": "Gon&#231;alo Peres \u9f9a\u71ff\u7984", "link": "https://stackoverflow.com/users/7109869/gon%c3%a7alo-peres-%e9%be%9a%e7%87%bf%e7%a6%84"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1575497054, "post_id": 59184990, "comment_id": 104590830, "body": "I am trying to make the object, with the tag &quot;Present&quot; disappear when the player collides with it."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1575497116, "post_id": 59184990, "comment_id": 104590851, "body": "<code>Destroy(gameObject);</code> has nothing to do with the present <code>GameObject</code>. Maybe you mean to use <code>Destroy(other.gameObject);</code>? Also, if your collider is not set to be a trigger, you should be using <code>OnCollisionEnter</code>, not <code>OnTriggerEnter</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4016, "user_id": 7109869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/661pb.jpg?s=128&g=1", "display_name": "Gon&#231;alo Peres \u9f9a\u71ff\u7984", "link": "https://stackoverflow.com/users/7109869/gon%c3%a7alo-peres-%e9%be%9a%e7%87%bf%e7%a6%84"}, "edited": false, "score": 1, "creation_date": 1575498307, "post_id": 59185385, "comment_id": 104591197, "body": "thanks a lot for your answer. As Ruzihm helped me solve the problem in the comment section, I approved his answer, even though your answer has extra considerations that may be useful."}], "tags": [], "owner": {"reputation": 15287, "user_id": 62282, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/j1x2o.png?s=128&g=1", "display_name": "Samuel Goldenbaum", "link": "https://stackoverflow.com/users/62282/samuel-goldenbaum"}, "is_accepted": false, "score": 5, "last_activity_date": 1604310457, "last_edit_date": 1604310457, "creation_date": 1575497656, "answer_id": 59185385, "question_id": 59184990, "link": "https://stackoverflow.com/questions/59184990/player-disappears-when-it-collides-with-a-tagged-object/59185385#59185385", "title": "Player disappears when it collides with a tagged object", "body": "<p>Few things. You are destroying the incorrect game object:</p>\n<pre><code>void OnCollisionEnter(Collision other)\n    {\n        if (other.gameObject.tag == &quot;Present&quot;)\n        {\n            Destroy(gameObject); // this is destroying the current gameobject i.e. the player\n            count = count - 1;\n            SetCountText();\n        }\n    }\n</code></pre>\n<p>Update to:</p>\n<pre><code>void OnCollisionEnter(Collision other)\n    {\n        if (other.gameObject.CompareTag(&quot;Present&quot;))\n        {\n            Destroy(other.gameObject); // this is destroying the other gameobject\n            count = count - 1;\n            SetCountText();\n        }\n    }\n</code></pre>\n<p>Always use <code>CompareTag()</code> which is optimized for performance.</p>\n<p>Setting the Collider <code>IsTrigger</code> property will then make use of the <code>OnTriggerEnter</code> events and not the <code>OnCollisionEnter</code> anymore.</p>\n<blockquote>\n<p>On the first physics update where the collision is detected, the\nOnCollisionEnter function is called. During updates where contact is\nmaintained, OnCollisionStay is called and finally, OnCollisionExit\nindicates that contact has been broken. Trigger colliders call the\nanalogous OnTriggerEnter, OnTriggerStay and OnTriggerExit functions.</p>\n</blockquote>\n<p>See the <a href=\"https://docs.unity3d.com/Manual/CollidersOverview.html\" rel=\"nofollow noreferrer\">docs</a></p>\n"}, {"comments": [{"owner": {"reputation": 4016, "user_id": 7109869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/661pb.jpg?s=128&g=1", "display_name": "Gon&#231;alo Peres \u9f9a\u71ff\u7984", "link": "https://stackoverflow.com/users/7109869/gon%c3%a7alo-peres-%e9%be%9a%e7%87%bf%e7%a6%84"}, "edited": false, "score": 0, "creation_date": 1575534052, "post_id": 59185450, "comment_id": 104600905, "body": "Consider upvoting <a href=\"https://stackoverflow.com/a/59185385/7109869\">this answer</a> as well, as it has an extra consideration related with performance."}], "tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": true, "score": 2, "last_activity_date": 1575498100, "creation_date": 1575498100, "answer_id": 59185450, "question_id": 59184990, "link": "https://stackoverflow.com/questions/59184990/player-disappears-when-it-collides-with-a-tagged-object/59185450#59185450", "title": "Player disappears when it collides with a tagged object", "body": "<p>Your present object is using a non-trigger collider, so you should use <code>OnCollisionEnter</code>. The <code>CompareTag</code> call you tried in <code>OnTriggerEnter</code> is preferable. You should use that.</p>\n\n<p>Also, you are currently trying to destroy the gameobject that the <code>ThirdPersonUserController</code> is attached to (<code>gameObject</code>). Instead, destroy the gameobject of the colliding collider (<code>other.gameObject</code>) with <code>Destroy(other.gameObject);</code>:</p>\n\n<pre><code>void OnCollisionEnter(Collision other)\n{\n    if (other.gameObject.CompareTag(\"Present\"))\n    {\n        Destroy(other.gameObject);\n        count = count - 1;\n        SetCountText();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4016, "user_id": 7109869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/661pb.jpg?s=128&g=1", "display_name": "Gon&#231;alo Peres \u9f9a\u71ff\u7984", "link": "https://stackoverflow.com/users/7109869/gon%c3%a7alo-peres-%e9%be%9a%e7%87%bf%e7%a6%84"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 765, "favorite_count": 0, "accepted_answer_id": 59185450, "answer_count": 2, "score": 2, "last_activity_date": 1604310457, "creation_date": 1575495411, "last_edit_date": 1575622878, "question_id": 59184990, "link": "https://stackoverflow.com/questions/59184990/player-disappears-when-it-collides-with-a-tagged-object", "title": "Player disappears when it collides with a tagged object", "body": "<p>I am working on a simple game where the goal is to help a Player catch specific objects with a tag \"Present\".</p>\n\n<p>After taking care of the models, animations I am now working on the collisions and counting UI.</p>\n\n<p>For the collisions, on my Player Controller (I am using the ThirdPersonUserController from the player <a href=\"https://assetstore.unity.com/packages/essentials/asset-packs/standard-assets-for-unity-2017-3-32351\" rel=\"nofollow noreferrer\">Unity Standard Assets</a> - which simplified the whole animation process), I added the following functions:</p>\n\n<pre><code>void OnCollisionEnter(Collision other)\n{\n    if (other.gameObject.tag == \"Present\")\n    {\n        Destroy(gameObject);\n        count = count - 1;\n        SetCountText();\n    }\n}\n\nvoid SetCountText()\n{\n    countText.text = \"Count: \" + count.ToString();\n    if (count == 0)\n    {\n        winText.text = \"Thanks to you the Christmas will be memorable!\";\n    }\n}\n</code></pre>\n\n<p>However, like this, when the Player hits an object with the tag \"Present\", even though the counting is working properly, the player disappears.</p>\n\n<p>I have tried to change the <code>OnCollisionEnter</code> to an <code>OnTriggerEnter</code>, like this:</p>\n\n<pre><code>void OnTriggerEnter(Collider other)\n{\n    if (other.gameObject.CompareTag(\"Present\"))\n    {\n        Destroy(gameObject);\n        count = count - 1;\n        SetCountText();\n    }\n}\n</code></pre>\n\n<p>However when the Player hits the objects with the tag \"Present\", they don't disappear.</p>\n\n<p>My Player has a Capsule Collider and a Rigidbody.</p>\n\n<p>The objects with the tag \"Present\" have a Box Collider and a Rigidbody.</p>\n\n<p>Any guidance on how to make my Player stay in scene while removing the other objetcs and reducing the count is appreciated.</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 2734, "user_id": 2470362, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/xlHsB.jpg?s=128&g=1", "display_name": "Abin", "link": "https://stackoverflow.com/users/2470362/abin"}, "edited": false, "score": 1, "creation_date": 1575501888, "post_id": 59184957, "comment_id": 104592176, "body": "It is a bug introduced from <code>.Net version 4.7.1</code>, I have tested your code in <code>.Net version 4.6.2</code> which does not have this issue."}], "answers": [{"tags": [], "owner": {"reputation": 796, "user_id": 4802458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F4gBP.jpg?s=128&g=1", "display_name": "Marcin Zawiejski", "link": "https://stackoverflow.com/users/4802458/marcin-zawiejski"}, "is_accepted": false, "score": 0, "last_activity_date": 1575497406, "creation_date": 1575497406, "answer_id": 59185341, "question_id": 59184957, "link": "https://stackoverflow.com/questions/59184957/how-to-prevent-tabcontrol-from-switching-tabs-when-button-is-pressed/59185341#59185341", "title": "How to prevent TabControl from switching tabs when Button is pressed?", "body": "<p>A good enough soluton for me was to set x:Name on the TabControl and set FocusManager.FocusedElement to the TabControl name:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Window x:Class=\"WpfApp5.Window1\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        Title=\"Window1\" Height=\"200\" Width=\"300\"\n        FocusManager.FocusedElement=\"{Binding ElementName=tabControl}\"&gt;\n    &lt;Grid&gt;\n        &lt;TabControl x:Name=\"tabControl\"&gt;\n            &lt;TabItem Header=\"Tab\"&gt;\n                &lt;ToolBarTray&gt;\n                    &lt;ToolBar&gt;\n                        &lt;Button&gt;Button&lt;/Button&gt;\n                    &lt;/ToolBar&gt;\n                &lt;/ToolBarTray&gt;\n            &lt;/TabItem&gt;\n            &lt;TabItem Header=\"Tab\"&gt;\n                &lt;ToolBarTray&gt;\n                    &lt;ToolBar&gt;\n                        &lt;Button&gt;Button&lt;/Button&gt;\n                    &lt;/ToolBar&gt;\n                &lt;/ToolBarTray&gt;\n            &lt;/TabItem&gt;\n        &lt;/TabControl&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>Still got no idea why this happens though so it's not a perfect answer.</p>\n"}], "owner": {"reputation": 796, "user_id": 4802458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F4gBP.jpg?s=128&g=1", "display_name": "Marcin Zawiejski", "link": "https://stackoverflow.com/users/4802458/marcin-zawiejski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575532138, "creation_date": 1575495217, "last_edit_date": 1575532138, "question_id": 59184957, "link": "https://stackoverflow.com/questions/59184957/how-to-prevent-tabcontrol-from-switching-tabs-when-button-is-pressed", "title": "How to prevent TabControl from switching tabs when Button is pressed?", "body": "<p>I've got a new WPF (.NET Framework 4.7.2) application with a Window XAML defined as below:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Window x:Class=\"WpfApp5.Window1\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        Title=\"Window1\" Height=\"200\" Width=\"300\"&gt;\n    &lt;Grid&gt;\n        &lt;TabControl&gt;\n            &lt;TabItem Header=\"Tab\"&gt;\n                &lt;ToolBarTray&gt;\n                    &lt;ToolBar&gt;\n                        &lt;Button&gt;Button&lt;/Button&gt;\n                    &lt;/ToolBar&gt;\n                &lt;/ToolBarTray&gt;\n            &lt;/TabItem&gt;\n            &lt;TabItem Header=\"Tab\"&gt;\n                &lt;ToolBarTray&gt;\n                    &lt;ToolBar&gt;\n                        &lt;Button&gt;Button&lt;/Button&gt;\n                    &lt;/ToolBar&gt;\n                &lt;/ToolBarTray&gt;\n            &lt;/TabItem&gt;\n        &lt;/TabControl&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>and the code behind:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System.Windows;\n\nnamespace WpfApp5\n{\n    public partial class Window1 : Window\n    {\n        public Window1()\n        {\n            InitializeComponent();\n        }\n    }\n}\n</code></pre>\n\n<p>Now follow the steps below:</p>\n\n<ol>\n<li>Run the app and switch to the second Tab</li>\n<li>Switch back to the first Tab and press Button</li>\n</ol>\n\n<p>This makes the TabControl switch to the second Tab for no apparent reason as seen here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Q9sDH.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q9sDH.gif\" alt=\"Tab switching\"></a></p>\n\n<p>Can someone elighten me why this happens and how to fix it so it does not switch the tab on a Button press, please?</p>\n\n<p>Many thanks!</p>\n\n<hr>\n\n<p>Related Links:</p>\n\n<ol>\n<li><a href=\"https://github.com/dotnet/wpf/issues/2278\" rel=\"nofollow noreferrer\">https://github.com/dotnet/wpf/issues/2278</a></li>\n</ol>\n"}, {"tags": ["c#", "pointers", "go", "callback"], "comments": [{"owner": {"reputation": 32095, "user_id": 7426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a562698800b535e47b68590f63c402a?s=128&d=identicon&r=PG", "display_name": "Adrian", "link": "https://stackoverflow.com/users/7426/adrian"}, "edited": false, "score": 0, "creation_date": 1575495893, "post_id": 59184927, "comment_id": 104590474, "body": "How did you build the DLL?"}, {"owner": {"reputation": 11, "user_id": 10136285, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pk0nXbFeuvM/AAAAAAAAAAI/AAAAAAAAAUg/C0gJh2Wfb7s/photo.jpg?sz=128", "display_name": "Victor Sanchez", "link": "https://stackoverflow.com/users/10136285/victor-sanchez"}, "reply_to_user": {"reputation": 32095, "user_id": 7426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a562698800b535e47b68590f63c402a?s=128&d=identicon&r=PG", "display_name": "Adrian", "link": "https://stackoverflow.com/users/7426/adrian"}, "edited": false, "score": 0, "creation_date": 1575496320, "post_id": 59184927, "comment_id": 104590610, "body": "go build -buildmode=c-shared -o library.dll main.go"}], "owner": {"reputation": 11, "user_id": 10136285, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pk0nXbFeuvM/AAAAAAAAAAI/AAAAAAAAAUg/C0gJh2Wfb7s/photo.jpg?sz=128", "display_name": "Victor Sanchez", "link": "https://stackoverflow.com/users/10136285/victor-sanchez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1575575121, "creation_date": 1575495054, "last_edit_date": 1575575121, "question_id": 59184927, "link": "https://stackoverflow.com/questions/59184927/golang-c-shared-library-callback-from-another-language", "title": "golang c-shared library callback from another language", "body": "<p>I building a dll with golang, and need the dll receive a callback to trigger function directly from the dll</p>\n\n<p>I tried execute callback on golang library but dont work</p>\n\n<p>This is my code on golang</p>\n\n<pre><code>package main\n\n\nimport \"C\"\nimport \"fmt\"\n\ntype externFunc func(int)\n\n//export Connect\nfunc Connect(fn externFunc) {\n    fmt.Println(\"fn \",fn)\n\n    for i:= 0; i&lt;3;i++{\n\n       // this is the func/method received from c#, and tried execute from golang\n       fn(i)\n    }\n\n}\n\n</code></pre>\n\n<p>and so i build the library</p>\n\n<p><code>go build -buildmode=c-shared -o library.dll main.go</code></p>\n\n<p>this is my code on c#</p>\n\n<pre><code>  class Program\n  {\n        static void Main(string[] args)\n        {\n           Connect()  \n        }\n\n        private static unsafe void Connect()\n        {\n            Dll.CallbackDelegate cb = Callback;\n            // here sent the method to dll, to wait the multiple calls\n            Dll.Connect(cb);\n        }\n\n        private static unsafe void Callback(int num)\n        {\n            Console.WriteLine(\"call #: \"+num);\n        }\n\n  }\n\nclass Dll {\n private const string DllPath = \"library.dll\";\n\n        private IntPtr _dllHandle = IntPtr.Zero; \n\n        private static DllHelper _instance;\n        public static DllHelper Instance\n        {\n            get { return _instance ?? (_instance = new DllHelper()); }\n        }\n\n        [DllImport(\"kernel32.dll\", CharSet = CharSet.Auto, SetLastError = true)]\n        private static extern IntPtr LoadLibrary(string libname);\n\n        [DllImport(\"kernel32.dll\", CharSet = CharSet.Auto)]\n        private static extern bool FreeLibrary(IntPtr hModule);\n\n        [DllImport(\"kernel32.dll\", CharSet = CharSet.Auto)]\n        private static extern void FreeLibraryAndExitThread(IntPtr hModule, UInt32 dwExitCode);\n\n        [DllImport(\"kernel32.dll\", CharSet = CharSet.Ansi)]\n        private static extern IntPtr GetProcAddress(IntPtr hModule, string lpProcName);\n\n        internal Dll()\n        {\n            _dllHandle = IntPtr.Zero;\n            LoadDLL();\n        }\n\n        internal void LoadDLL()\n        {\n            bool? freeResult = null;\n            if (_dllHandle != IntPtr.Zero)\n            {\n                freeResult = FreeLibrary(_dllHandle);\n            }\n\n            // Load dll .. \n            _dllHandle = LoadLibrary(DllPath);\n            if (_dllHandle == IntPtr.Zero)\n            {\n                int errorCode = Marshal.GetLastWin32Error();\n                // Marshal.\n                throw new Exception(string.Format(\"Failed to load library (ErrorCode: {0})\", errorCode));\n            }\n        }\n</code></pre>\n\n<p>and this part load the function from library</p>\n\n<pre><code>\n        public unsafe delegate void CallbackDelegate(int num);\n\n        private unsafe delegate void ConnectDelegate(CallbackDelegate pFunc);\n        internal unsafe void Connect(CallbackDelegate pFunc)\n        {\n            var funcaddr = GetProcAddress(_dllHandle, \"Connect\");\n            var function = Marshal.GetDelegateForFunctionPointer(funcaddr, typeof(ConnectDelegate)) as \n             ConnectDelegate;\n            function.Invoke(pFunc);\n        }\n\n}\n</code></pre>\n\n<p>this is the result when tried execute my console program created on C# with the go library</p>\n\n<pre><code>unexpected fault address 0xffffffffffffffff\nfatal error: fault\n[signal 0xc0000005 code=0x0 addr=0xffffffffffffffff pc=0x627ca9ab]\n</code></pre>\n\n<p>I think need receive an uinptr or something like that in the Connect and convert \nthe pointer on a type func but reading on other post says the <code>type externFunc func</code> is an func signature, and this is already a pointer.</p>\n\n<p>Any idea what I need to make callbacks?</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 1556, "user_id": 2805831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d830928811f5890dd7e31db91d89e9a?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Lorentz", "link": "https://stackoverflow.com/users/2805831/pedro-lorentz"}, "edited": false, "score": 0, "creation_date": 1575495094, "post_id": 59184901, "comment_id": 104590233, "body": "Is the type of item.InspectionItemId int? (or Nullable&lt;int&gt;) ? Why are you doing the cast?"}, {"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 0, "creation_date": 1575495847, "post_id": 59184901, "comment_id": 104590460, "body": "Of which types are <code>inspectionItemIds</code> and <code>item.InspectionItemId</code>?"}, {"owner": {"reputation": 299, "user_id": 12127473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xkXlQ.jpg?s=128&g=1", "display_name": "Abdul", "link": "https://stackoverflow.com/users/12127473/abdul"}, "edited": false, "score": 0, "creation_date": 1575495902, "post_id": 59184901, "comment_id": 104590478, "body": "list of int and int?"}], "answers": [{"comments": [{"owner": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "edited": false, "score": 1, "creation_date": 1575497757, "post_id": 59185119, "comment_id": 104591037, "body": "If it solves your problem please mak it as the answer."}], "tags": [], "owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "is_accepted": false, "score": 0, "last_activity_date": 1575496091, "creation_date": 1575496091, "answer_id": 59185119, "question_id": 59184901, "link": "https://stackoverflow.com/questions/59184901/exception-nullable-object-must-have-a-value-while-typecasting-in-a-linq-query/59185119#59185119", "title": "Exception: Nullable object must have a value while typecasting in a Linq query", "body": "<p>With <code>inspectionItemIds</code> declared as <code>List&lt;int&gt;</code> and <code>item.InspectionItemId</code> as <code>int?</code>:</p>\n\n<p>You can test <code>item.InspectionItemId</code> and convert it to an <code>int</code> with pattern matching before testing with <code>Contains</code></p>\n\n<pre><code>if (item.InspectionItemId is int id &amp;&amp; !inspectionItemIds.Contains(id)) {\n    inspectionItemIds.Add(id);\n}\n</code></pre>\n\n<p>It saves you from having to do the cast twice and tests whether it is not null at the same time.</p>\n"}, {"tags": [], "owner": {"reputation": 299, "user_id": 12127473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xkXlQ.jpg?s=128&g=1", "display_name": "Abdul", "link": "https://stackoverflow.com/users/12127473/abdul"}, "is_accepted": false, "score": 0, "last_activity_date": 1575497563, "creation_date": 1575497563, "answer_id": 59185371, "question_id": 59184901, "link": "https://stackoverflow.com/questions/59184901/exception-nullable-object-must-have-a-value-while-typecasting-in-a-linq-query/59185371#59185371", "title": "Exception: Nullable object must have a value while typecasting in a Linq query", "body": "<p>Here is how I resolved it, thank you so much for everybody who came to help me - thanks a lot.</p>\n\n<pre><code> violations.ToList().ForEach(item =&gt;\n            { if ((item.InspectionItemId != null) &amp;&amp; !inspectionItemIds.Contains((int)item.InspectionItemId)) inspectionItemIds.Add((int)item.InspectionItemId); });\n</code></pre>\n"}], "owner": {"reputation": 299, "user_id": 12127473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xkXlQ.jpg?s=128&g=1", "display_name": "Abdul", "link": "https://stackoverflow.com/users/12127473/abdul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1575497563, "creation_date": 1575494864, "last_edit_date": 1575495680, "question_id": 59184901, "link": "https://stackoverflow.com/questions/59184901/exception-nullable-object-must-have-a-value-while-typecasting-in-a-linq-query", "title": "Exception: Nullable object must have a value while typecasting in a Linq query", "body": "<p>I have a Linq statement as below</p>\n\n<pre><code>if (!inspectionItemIds.Contains((int)item.InspectionItemId)) {\n    inspectionItemIds.Add((int)item.InspectionItemId);\n}\n</code></pre>\n\n<p>And item.InspectionItemId is coming as null and its throwing me exception as below:</p>\n\n<pre><code>System.InvalidOperationException\n  HResult=0x80131509\n  Message=Nullable object must have a value.\n  Source=mscorlib\n  StackTrace:\n   at System.ThrowHelper.ThrowInvalidOperationException(ExceptionResource resource)\n   at System.Nullable`1.get_Value()\n   at IMS.Model.DomainLogic.ViolationManager.&lt;&gt;c__DisplayClass19_0.&lt;ViolationsFor&gt;b__9(Violation item) in C:\\SourceCode\\IMS\\Development\\IMS\\IMS.Model\\DomainLogic\\ViolationManager.cs:line 254\n   at System.Collections.Generic.List`1.ForEach(Action`1 action)\n   at IMS.Model.DomainLogic.ViolationManager.ViolationsFor(String for, Int32 id) in C:\\SourceCode\\IMS\\Development\\IMS\\IMS.Model\\DomainLogic\\ViolationManager.cs:line 253\n   at IMS.Web.Controllers.CaseController.Details(Int32 id, Boolean isPrint) in C:\\SourceCode\\IMS\\Development\\IMS\\IMS.Web\\Controllers\\CaseController.cs:line 382\n   at System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)\n   at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)\n   at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)\n   at System.Web.Mvc.Async.AsyncControllerActionInvoker.&lt;&gt;c.&lt;BeginInvokeSynchronousActionMethod&gt;b__9_0(IAsyncResult asyncResult, ActionInvocation innerInvokeState)\n   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)\n   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()\n   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)\n   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.&lt;&gt;c__DisplayClass11_0.&lt;InvokeActionMethodFilterAsynchronouslyRecursive&gt;b__0()\n   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.&lt;&gt;c__DisplayClass11_2.&lt;InvokeActionMethodFilterAsynchronouslyRecursive&gt;b__2()\n</code></pre>\n\n<p>Any help to resolve these types of issues? Any help would be very very helpful - thanks in advance.</p>\n"}, {"tags": ["c#", "data-binding", "blazor-server-side"], "answers": [{"tags": [], "owner": {"reputation": 2606, "user_id": 489116, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8e06c6b236288b34d7decaf9bf39e1f7?s=128&d=identicon&r=PG", "display_name": "S&#39;pht&#39;Kr", "link": "https://stackoverflow.com/users/489116/sphtkr"}, "is_accepted": false, "score": 0, "last_activity_date": 1580821161, "last_edit_date": 1580821161, "creation_date": 1580765712, "answer_id": 60047497, "question_id": 59184851, "link": "https://stackoverflow.com/questions/59184851/blazor-razor-components-do-something-when-bound-value-changes/60047497#60047497", "title": "Blazor/Razor Components do something when bound value changes", "body": "<p>Okay this seems to be an instance of not seeing the forest for the trees. Basically, I just needed to go with this set of property definitions instead:</p>\n\n<pre><code>private DateTime StartDate { get; set; } = DateTime.Now;\npublic DateTime Min = new DateTime(2006, 10, 1, 0, 0, 0);\npublic DateTime Max = new DateTime(DateTime.Now.Ticks + TimeSpan.FromDays(365.25 * 4).Ticks);\npublic int Duration { get; set; } = 5;\npublic DateTime EndDate =&gt; new DateTime(StartDate.Ticks + TimeSpan.FromMinutes(Duration).Ticks);\n</code></pre>\n\n<p>So, there were I think two problems:</p>\n\n<ol>\n<li><code>StartDate</code> (nee <code>startDate</code>) was not actually compiling as a property... so I imagine Blazor was probably not catching changes properly.</li>\n<li>I just needed to have a lambda-based property for <code>endDate</code> that computed the value... because of course I did. [Not like I could have that as a settable property and a computed property at the same time, right? If I want another way to override and set the end date as well, I'll have to have a separate <code>EndDate</code> (settable) and <code>ComputedEndDate</code> (lambda) that checks <code>EndDate</code>... which is perfectly reasonable.]*</li>\n</ol>\n\n<h2>Edit</h2>\n\n<p><code>*</code> And after writing this I later remembered... Actually yes, that's exactly what I wanted: like the many <a href=\"https://www.calculator.net/right-triangle-calculator.html\" rel=\"nofollow noreferrer\">right-triangle solvers</a> and <a href=\"http://www.subnet-calculator.com/\" rel=\"nofollow noreferrer\">subnet calculators</a> out there, I was originally imagining an interface where you could set any of the three values (StartDate, Duration <em>or</em> EndDate) and one of the other properties would update to match... and you can't really do that with this approach because each property is either writable and not updating, or updating and read-only.</p>\n\n<p>It does not appear that Blazor has a baked-in way to do this. <a href=\"https://blog.jeremylikness.com/blog/2019-01-04_mvvm-support-in-blazor/\" rel=\"nofollow noreferrer\">This article</a> discusses a few ways to do it, mainly variations on the options I already proposed. So while my answer addresses the specific problem I got stuck on with one-way properties, the larger problem does not appear to have a quick and easy solution.</p>\n"}], "owner": {"reputation": 2606, "user_id": 489116, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8e06c6b236288b34d7decaf9bf39e1f7?s=128&d=identicon&r=PG", "display_name": "S&#39;pht&#39;Kr", "link": "https://stackoverflow.com/users/489116/sphtkr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 535, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1580821161, "creation_date": 1575494585, "question_id": 59184851, "link": "https://stackoverflow.com/questions/59184851/blazor-razor-components-do-something-when-bound-value-changes", "title": "Blazor/Razor Components do something when bound value changes", "body": "<p>I have been researching this but finding a dozen answers that don't seem quite right. What I'm trying to do seems like a common use case with a simple answer that I'm not finding.</p>\n\n<p>I have, below, a .razor file with a small form, with a Start DateTime and a Duration. I want to update the EndDate property when either of these change--primarily I was starting with the Duration <code>&lt;select&gt;</code> when I got stuck. (Ignore the Telerik stuff for now, except to understand that it gives me a DateTime value in the bound <code>startDate</code> property).</p>\n\n<p>Using <code>@bind</code> in the <code>&lt;select&gt;</code> precludes using <code>@onchange</code> on the same element... so, okay, I probably want something that responds to the change of the property values anyway... Well, <code>INotifyPropertyChanged</code> is used for that, and I started down that road, but it seems out of place with this pre-existing data binding mechanism. I found documentation on <code>EventCallback</code>, but that seems designed for inter-component communication, not within a component and I would be shoehorning it in. I could define the setters on the properties, but that also seems old fashioned in context...</p>\n\n<p>In Ember, I would have used dependent properties for this.  Am I missing the intended way to do this in Blazor? Is <code>INotifyPropertyChanged</code> the correct way to go here?</p>\n\n<pre><code>@page \"/\"\n\n@using System.ComponentModel\n@using System.Runtime.CompilerServices\n@using Envoi.BlazorApp.Annotations\n@using Telerik.Blazor.Components\n&lt;h1&gt;Record Encounter&lt;/h1&gt;\n\n&lt;TelerikDateTimePicker Min=\"@Min\" Max=\"@Max\" @bind-Value=\"@startDate\"\n                       Format=\"ddMMM yyyy HH:mm:ss\" Width=\"220px\"&gt;&lt;/TelerikDateTimePicker&gt;\nDuration: \n&lt;select @bind=\"Duration\"&gt;\n    &lt;option value=\"5\"&gt;5 Minutes&lt;/option&gt;\n    &lt;option value=\"15\"&gt;15 Minutes&lt;/option&gt;\n    &lt;option value=\"30\"&gt;30 Minutes&lt;/option&gt;\n    &lt;option value=\"60\"&gt;1 Hour&lt;/option&gt;\n    &lt;option value=\"120\"&gt;2 Hours&lt;/option&gt;\n&lt;/select&gt;\n\nEnd: @(endDate.ToShortDateString()) @(endDate.ToShortTimeString())\n(@(startDate.ToShortDateString()) @(startDate.ToShortTimeString()) + @Duration minutes)\n\n@code\n{\n\n    private DateTime startDate = DateTime.Now;\n    public DateTime Min = new DateTime(2006, 10, 1, 0, 0, 0);\n    public DateTime Max = new DateTime(DateTime.Now.Ticks + TimeSpan.FromDays(365.25*4).Ticks);\n    public int Duration { get; set; } = 5;\n    public DateTime endDate;\n\n    private void UpdateEndDate() // How to get this method called?\n    {\n        endDate = new DateTime(startDate.Ticks + TimeSpan.FromMinutes(Duration).Ticks);\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "sum", "epplus"], "comments": [{"owner": {"reputation": 245, "user_id": 10161909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QofhH.jpg?s=128&g=1", "display_name": "Lasse Holm", "link": "https://stackoverflow.com/users/10161909/lasse-holm"}, "edited": false, "score": 0, "creation_date": 1575722098, "post_id": 59184743, "comment_id": 104666088, "body": "I am not exactly sure, but I have feeling it might have to do with the precision when using the Convert.ToDecimal method. Have you tried to extract the values, using the Value property instead and (maybe) then you don&#39;t need the conversion? Like so: <code>dSummaryTotal = excel.Workbook.Worksheets[2].Cells[&quot;C29&quot;].Value;</code>  <code>dDetailsTotal = excel.Workbook.Worksheets[3].Cells[&quot;S6123&quot;].Value;</code>"}, {"owner": {"reputation": 1, "user_id": 6651471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYWdh.jpg?s=128&g=1", "display_name": "Baers", "link": "https://stackoverflow.com/users/6651471/baers"}, "reply_to_user": {"reputation": 245, "user_id": 10161909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QofhH.jpg?s=128&g=1", "display_name": "Lasse Holm", "link": "https://stackoverflow.com/users/10161909/lasse-holm"}, "edited": false, "score": 0, "creation_date": 1575897112, "post_id": 59184743, "comment_id": 104708942, "body": "Thank you.  Yes, I have tried using other variable types, double, float,etc. I have also tried retrieving the value from other variables within the cell class, such as value(586,615.862666666) to no avail.  I just can&#39;t seem to get the displayed .99 value.. ugh."}], "owner": {"reputation": 1, "user_id": 6651471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYWdh.jpg?s=128&g=1", "display_name": "Baers", "link": "https://stackoverflow.com/users/6651471/baers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575493960, "creation_date": 1575493960, "question_id": 59184743, "link": "https://stackoverflow.com/questions/59184743/epplus-sum-calculation-returns-a-different-result", "title": "EpPlus Sum Calculation returns a different result", "body": "<p>I am trying to use SUM() to calculate and retrieve values with EpPlus for verification. However, Excel is showing 586,615.99, While EpPlus seems to show 586,615.86 (Cell \"S6123\") Am I missing something? \nThe first line of code works great, the second, not so much. Both numbers match in Excel. Attached, please find an example spreadsheet with the problem. Below is the code used to retrieve the results. Thank you.</p>\n\n<pre><code>using (ExcelPackage excel = new ExcelPackage(fi))\n    {\n    excel.Workbook.CalcMode = ExcelCalcMode.Automatic;\n    excel.Workbook.Calculate();\n    decimal dSummaryTotal ;\n    decimal dDetailsTotal ;\n\n    //Correct\n    dSummaryTotal = Convert.ToDecimal(excel.Workbook.Worksheets[2].Cells[\"C29\"].Text); //586,615.99\n    //InCorrect\n    dDetailsTotal = Convert.ToDecimal(excel.Workbook.Worksheets[3].Cells[\"S6123\"].Text); // 586,615.86\n    }\n</code></pre>\n\n<p><a href=\"https://drive.google.com/file/d/12AWTXsgft7grTYxXviKhWEp04hDQ076B/view?usp=sharing\" rel=\"nofollow noreferrer\">Sample Spreadsheet</a></p>\n"}, {"tags": ["c#", "azure", "azure-functions"], "comments": [{"owner": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "edited": false, "score": 1, "creation_date": 1575495551, "post_id": 59184717, "comment_id": 104590374, "body": "Are you hosting your function in a App Service plan or Consumption plan? Do you change the timeout value on host.json file?"}, {"owner": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "edited": false, "score": 0, "creation_date": 1575496537, "post_id": 59184717, "comment_id": 104590670, "body": "Have you watched the monitors or app insights to see if your function is not  exceeding the ACUs?"}, {"owner": {"reputation": 6034, "user_id": 7509168, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/n5IoL.jpg?s=128&g=1", "display_name": "Rob Reagan", "link": "https://stackoverflow.com/users/7509168/rob-reagan"}, "edited": false, "score": 0, "creation_date": 1575510572, "post_id": 59184717, "comment_id": 104594218, "body": "If you are using a consumption plan, try provisioning the function under an App Service Plan with a healthy sized App Service. Looking at the service limits for consumption plans, the max memory is 1.5GB and some reasonable ACUs. But it never hurts to try and see what happens."}, {"owner": {"reputation": 10995, "user_id": 10383250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86977ed7f8c387560ffd1c75bc41bedc?s=128&d=identicon&r=PG&f=1", "display_name": "George Chen", "link": "https://stackoverflow.com/users/10383250/george-chen"}, "edited": false, "score": 0, "creation_date": 1575514842, "post_id": 59184717, "comment_id": 104595014, "body": "I test this package with the v2 function, it could work after <a href=\"https://i.stack.imgur.com/W9TcN.png\" rel=\"nofollow noreferrer\">3 minutes</a>. So what&#39;s your service plan, please change the timeout value to the max. Check <a href=\"https://docs.microsoft.com/en-us/azure/azure-functions/functions-scale#timeout\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 157, "user_id": 7016967, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1Nb1tdGhGNs/AAAAAAAAAAI/AAAAAAAABTg/GXJ-sCh0nPo/photo.jpg?sz=128", "display_name": "Cade Bryant", "link": "https://stackoverflow.com/users/7016967/cade-bryant"}, "reply_to_user": {"reputation": 10995, "user_id": 10383250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86977ed7f8c387560ffd1c75bc41bedc?s=128&d=identicon&r=PG&f=1", "display_name": "George Chen", "link": "https://stackoverflow.com/users/10383250/george-chen"}, "edited": false, "score": 0, "creation_date": 1575559641, "post_id": 59184717, "comment_id": 104614629, "body": "@GeorgeChen our company has a consumption plan."}, {"owner": {"reputation": 10995, "user_id": 10383250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86977ed7f8c387560ffd1c75bc41bedc?s=128&d=identicon&r=PG&f=1", "display_name": "George Chen", "link": "https://stackoverflow.com/users/10383250/george-chen"}, "edited": false, "score": 0, "creation_date": 1575561288, "post_id": 59184717, "comment_id": 104615553, "body": "So try to increase it to 10 minutes.<a href=\"https://docs.microsoft.com/en-us/azure/azure-functions/functions-host-json#functiontimeout\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/azure/azure-functions/&hellip;</a>"}, {"owner": {"reputation": 157, "user_id": 7016967, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1Nb1tdGhGNs/AAAAAAAAAAI/AAAAAAAABTg/GXJ-sCh0nPo/photo.jpg?sz=128", "display_name": "Cade Bryant", "link": "https://stackoverflow.com/users/7016967/cade-bryant"}, "reply_to_user": {"reputation": 10995, "user_id": 10383250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86977ed7f8c387560ffd1c75bc41bedc?s=128&d=identicon&r=PG&f=1", "display_name": "George Chen", "link": "https://stackoverflow.com/users/10383250/george-chen"}, "edited": false, "score": 0, "creation_date": 1575565380, "post_id": 59184717, "comment_id": 104617804, "body": "@GeorgeChen I already tried increasing the timeout to 10 minutes (the max allowed); it still times out after running for 10 minutes.  At this point, I&#39;m assuming that I&#39;ll need to convince the higher-ups to switch to an app service plan.  Someone had also suggested using Durable Functions.  Do you think that would make a difference?"}, {"owner": {"reputation": 157, "user_id": 7016967, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1Nb1tdGhGNs/AAAAAAAAAAI/AAAAAAAABTg/GXJ-sCh0nPo/photo.jpg?sz=128", "display_name": "Cade Bryant", "link": "https://stackoverflow.com/users/7016967/cade-bryant"}, "edited": false, "score": 0, "creation_date": 1575909690, "post_id": 59184717, "comment_id": 104716102, "body": "My thought is to scale up or scale out the app service - but the problem is that both the Scale Up and Scale Out icons are grayed out."}], "answers": [{"tags": [], "owner": {"reputation": 13531, "user_id": 1384539, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/zpNUp.jpg?s=128&g=1", "display_name": "Thiago Custodio", "link": "https://stackoverflow.com/users/1384539/thiago-custodio"}, "is_accepted": false, "score": 0, "last_activity_date": 1575495132, "creation_date": 1575495132, "answer_id": 59184940, "question_id": 59184717, "link": "https://stackoverflow.com/questions/59184717/why-does-my-azure-function-app-which-generates-pdf-files-from-data-time-out/59184940#59184940", "title": "Why does my Azure Function App, which generates PDF files from data, time out?", "body": "<p>I am facing a similar problem which also demands intensive CPU. Seems to me that the problem is something in the Azure Functions side. What you can do is use a Durable Functions and pass this PDF generation to an activity. I am not sure if it will solve for you or not, but worths a try.</p>\n"}], "owner": {"reputation": 157, "user_id": 7016967, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1Nb1tdGhGNs/AAAAAAAAAAI/AAAAAAAABTg/GXJ-sCh0nPo/photo.jpg?sz=128", "display_name": "Cade Bryant", "link": "https://stackoverflow.com/users/7016967/cade-bryant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 354, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575495132, "creation_date": 1575493797, "question_id": 59184717, "link": "https://stackoverflow.com/questions/59184717/why-does-my-azure-function-app-which-generates-pdf-files-from-data-time-out", "title": "Why does my Azure Function App, which generates PDF files from data, time out?", "body": "<p>I've created an Azure Function App in Visual Studio 2019 on .NET Core 2.1.  My Function takes a set of data (less than 1 MB) and generates a PDF report of the data based on an HTML template (using the NuGet package <a href=\"https://github.com/vilppu/OpenHtmlToPdf\" rel=\"nofollow noreferrer\">OpenHtmlToPdf</a>).</p>\n\n<p>The function is triggered by an Azure Service Bus Queue.</p>\n\n<p>It works perfectly when I run the function app locally, with my local.settings.json pointing to the queue on Azure.  I send a message to the queue and everything works/completes as expected within a matter of seconds.  But when I deploy it to Azure and when it is triggered, it times out during the PDF generation process after working for several minutes.  Everything else works up until it reaches this block of code (after the LogInformation() call):</p>\n\n<pre><code>                _log.LogInformation(\"Converting template and content into PDF file...\");\n                pdf = Pdf\n                    .From(content)\n                    .OfSize(PaperSize.A4)\n                    .WithoutOutline()\n                    .WithMargins(1.25.Centimeters())\n                    .Portrait()\n                    .Comressed()\n                    .Content();\n                _log.LogInformation(\"Finished converting template and content into PDF file\");\n</code></pre>\n\n<p>It never reaches the second LogInformation(\"Finished....\") call, timing out before that point while executing the Pdf calls.</p>\n\n<p>Here is a sample of the App Insights log (first my logged message, then the timeout exception): </p>\n\n<pre><code>12/4/2019, 2:30:18.351 PM   Converting template and content into PDF file...    1   trace   {\"prop__{OriginalFormat}\":\"Converting template and content into PDF file...\",\"HostInstanceId\":\"fe52d18f-9830-40bc-a92b-f0a90cf37dc9\",\"Category\":\"Function.PDFProcessorFunction.User\",\"LogLevel\":\"Information\",\"ProcessId\":\"4456\",\"InvocationId\":\"cab3b347-95d3-45ff-b24d-c7c5048e6a6b\"}     PDFProcessorFunction    3f325922eef58b46b2f635d283deeebe    |3f325922eef58b46b2f635d283deeebe.60bad8bb00011f46.     PC  0.0.0.0 df-eo-pdf-queue-function-dev    c8ddc12737b5c414811dd541ac7507946788a5bbd653984da9e4a88632659933    9f5886c8-fb23-4ef3-a0af-5cb7333f460e    df-eo-pdf-queue-function-dev    7a528756-2a38-4511-8b8d-04365870a91c    azurefunctions: 2.0.12888.0 87ec212c-16cc-11ea-888f-5f9ca4eaab67    1   \n\ntimestamp [UTC]\n2019-12-04T19:30:18.351427Z\n\nmessage\nConverting template and content into PDF file...\n\nseverityLevel\n1\n\nitemType\ntrace\ncustomDimensions\n{\"prop__{OriginalFormat}\":\"Converting template and content into PDF file...\",\"HostInstanceId\":\"fe52d18f-9830-40bc-a92b-f0a90cf37dc9\",\"Category\":\"Function.PDFProcessorFunction.User\",\"LogLevel\":\"Information\",\"ProcessId\":\"4456\",\"InvocationId\":\"cab3b347-95d3-45ff-b24d-c7c5048e6a6b\"}\n\noperation_Name\nPDFProcessorFunction\n\n12/4/2019, 2:35:14.307 PM   Timeout value of 00:05:00 exceeded by function 'PDFProcessorFunction' (Id: 'cab3b347-95d3-45ff-b24d-c7c5048e6a6b'). Initiating cancellation.    3   trace   {\"prop__{OriginalFormat}\":\"Timeout value of 00:05:00 exceeded by function 'PDFProcessorFunction' (Id: 'cab3b347-95d3-45ff-b24d-c7c5048e6a6b'). Initiating cancellation.\",\"HostInstanceId\":\"fe52d18f-9830-40bc-a92b-f0a90cf37dc9\",\"LogLevel\":\"Error\",\"Category\":\"Function.PDFProcessorFunction\",\"ProcessId\":\"4456\",\"InvocationId\":\"cab3b347-95d3-45ff-b24d-c7c5048e6a6b\"}        PDFProcessorFunction    3f325922eef58b46b2f635d283deeebe    |3f325922eef58b46b2f635d283deeebe.60bad8bb00011f46.     PC  0.0.0.0 df-eo-pdf-queue-function-dev    c8ddc12737b5c414811dd541ac7507946788a5bbd653984da9e4a88632659933    9f5886c8-fb23-4ef3-a0af-5cb7333f460e    df-eo-pdf-queue-function-dev    7a528756-2a38-4511-8b8d-04365870a91c    azurefunctions: 2.0.12888.0 32061e7c-16cd-11ea-ae75-6364d66f68e2    1   \n\ntimestamp [UTC]\n2019-12-04T19:35:14.307144Z\n\nmessage\nTimeout value of 00:05:00 exceeded by function 'PDFProcessorFunction' (Id: 'cab3b347-95d3-45ff-b24d-c7c5048e6a6b'). Initiating cancellation.\n\nseverityLevel\n3\n\nitemType\ntrace\ncustomDimensions\n{\"prop__{OriginalFormat}\":\"Timeout value of 00:05:00 exceeded by function 'PDFProcessorFunction' (Id: 'cab3b347-95d3-45ff-b24d-c7c5048e6a6b'). Initiating cancellation.\",\"HostInstanceId\":\"fe52d18f-9830-40bc-a92b-f0a90cf37dc9\",\"LogLevel\":\"Error\",\"Category\":\"Function.PDFProcessorFunction\",\"ProcessId\":\"4456\",\"InvocationId\":\"cab3b347-95d3-45ff-b24d-c7c5048e6a6b\"}\n\noperation_Name\nPDFProcessorFunction\n\noperation_Id\n3f325922eef58b46b2f635d283deeebe\n\noperation_ParentId\n|3f325922eef58b46b2f635d283deeebe.60bad8bb00011f46.\n\nclient_Type\nPC\n\nclient_IP\n0.0.0.0\n\ncloud_RoleName\ndf-eo-pdf-queue-function-dev\n\ncloud_RoleInstance\nc8ddc12737b5c414811dd541ac7507946788a5bbd653984da9e4a88632659933\n\nappId\n9f5886c8-fb23-4ef3-a0af-5cb7333f460e\n\nappName\ndf-eo-pdf-queue-function-dev\n\niKey\n7a528756-2a38-4511-8b8d-04365870a91c\n\nsdkVersion\nazurefunctions: 2.0.12888.0\n\nitemId\n32061e7c-16cd-11ea-ae75-6364d66f68e2\n\nitemCount\n1\n</code></pre>\n\n<p>And here are the actual timeout exception details:</p>\n\n<pre><code>12/4/2019, 2:09:01.106 PM   Microsoft.Azure.WebJobs.Host.FunctionTimeoutException at Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;TryHandleTimeoutAsync&gt;d__29.MoveNext  Microsoft.Azure.WebJobs.Host.FunctionTimeoutException   Microsoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35    Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;TryHandleTimeoutAsync&gt;d__29.MoveNext   Microsoft.Azure.WebJobs.Host.FunctionTimeoutException   Timeout value of 00:05:00 was exceeded by function: PDFProcessorFunction    Microsoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35    Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;TryHandleTimeoutAsync&gt;d__29.MoveNext   3   [{\"severityLevel\":\"Error\",\"outerId\":\"0\",\"message\":\"Timeout value of 00:05:00 was exceeded by function: PDFProcessorFunction\",\"parsedStack\":[{\"assembly\":\"Microsoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\",\"method\":\"Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;TryHandleTimeoutAsync&gt;d__29.MoveNext\",\"level\":0,\"line\":660,\"fileName\":\"C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs\"},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw\",\"level\":1,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess\",\"level\":2,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification\",\"level\":3,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter`1.GetResult\",\"level\":4,\"line\":0},{\"assembly\":\"Microsoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\",\"method\":\"Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;InvokeAsync&gt;d__27.MoveNext\",\"level\":5,\"line\":576,\"fileName\":\"C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs\"},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw\",\"level\":6,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess\",\"level\":7,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification\",\"level\":8,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.GetResult\",\"level\":9,\"line\":0},{\"assembly\":\"Microsoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\",\"method\":\"Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithWatchersAsync&gt;d__26.MoveNext\",\"level\":10,\"line\":532,\"fileName\":\"C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs\"},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw\",\"level\":11,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess\",\"level\":12,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification\",\"level\":13,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.GetResult\",\"level\":14,\"line\":0},{\"assembly\":\"Microsoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\",\"method\":\"Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithLoggingAsync&gt;d__25.MoveNext\",\"level\":15,\"line\":468,\"fileName\":\"C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs\"},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw\",\"level\":16,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess\",\"level\":17,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification\",\"level\":18,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.GetResult\",\"level\":19,\"line\":0},{\"assembly\":\"Microsoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\",\"method\":\"Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithLoggingAsync&gt;d__19.MoveNext\",\"level\":20,\"line\":278,\"fileName\":\"C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs\"},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw\",\"level\":21,\"line\":0},{\"assembly\":\"Microsoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\",\"method\":\"Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithLoggingAsync&gt;d__19.MoveNext\",\"level\":22,\"line\":322,\"fileName\":\"C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs\"},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw\",\"level\":23,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess\",\"level\":24,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification\",\"level\":25,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter`1.GetResult\",\"level\":26,\"line\":0},{\"assembly\":\"Microsoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\",\"method\":\"Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;TryExecuteAsyncCore&gt;d__16.MoveNext\",\"level\":27,\"line\":117,\"fileName\":\"C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs\"}],\"type\":\"Microsoft.Azure.WebJobs.Host.FunctionTimeoutException\",\"id\":\"15999211\"}]  exception   {\"FormattedMessage\":\"Executed 'PDFProcessorFunction' (Failed, Id=6b0cebaa-0876-428d-a324-03265563651b)\",\"HostInstanceId\":\"d7abe331-beea-4165-86b4-0323f307939a\",\"InvocationId\":\"6b0cebaa-0876-428d-a324-03265563651b\",\"ProcessId\":\"5856\",\"LogLevel\":\"Error\",\"Category\":\"Function.PDFProcessorFunction\"} PDFProcessorFunction    3f325922eef58b46b2f635d283deeebe    |3f325922eef58b46b2f635d283deeebe.30b1b04f0e993f4a. PC  0.0.0.0 df-eo-pdf-queue-function-dev    34c90aa5d115bbf81d1cb11cf8ef01321f11d527a73c6ae5f86ec717cb94c776    \n\ntimestamp [UTC]\n2019-12-04T19:09:01.1061419Z\n\nproblemId\nMicrosoft.Azure.WebJobs.Host.FunctionTimeoutException at Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;TryHandleTimeoutAsync&gt;d__29.MoveNext\n\ntype\nMicrosoft.Azure.WebJobs.Host.FunctionTimeoutException\n\nassembly\nMicrosoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\n\nmethod\nMicrosoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;TryHandleTimeoutAsync&gt;d__29.MoveNext\n\nouterType\nMicrosoft.Azure.WebJobs.Host.FunctionTimeoutException\n\nouterMessage\nTimeout value of 00:05:00 was exceeded by function: PDFProcessorFunction\n\nouterAssembly\nMicrosoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\n\nouterMethod\nMicrosoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;TryHandleTimeoutAsync&gt;d__29.MoveNext\n\nseverityLevel\n3\ndetails\n[{\"severityLevel\":\"Error\",\"outerId\":\"0\",\"message\":\"Timeout value of 00:05:00 was exceeded by function: PDFProcessorFunction\",\"parsedStack\":[{\"assembly\":\"Microsoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\",\"method\":\"Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;TryHandleTimeoutAsync&gt;d__29.MoveNext\",\"level\":0,\"line\":660,\"fileName\":\"C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs\"},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw\",\"level\":1,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess\",\"level\":2,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification\",\"level\":3,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter`1.GetResult\",\"level\":4,\"line\":0},{\"assembly\":\"Microsoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\",\"method\":\"Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;InvokeAsync&gt;d__27.MoveNext\",\"level\":5,\"line\":576,\"fileName\":\"C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs\"},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw\",\"level\":6,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess\",\"level\":7,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification\",\"level\":8,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.GetResult\",\"level\":9,\"line\":0},{\"assembly\":\"Microsoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\",\"method\":\"Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithWatchersAsync&gt;d__26.MoveNext\",\"level\":10,\"line\":532,\"fileName\":\"C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs\"},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw\",\"level\":11,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess\",\"level\":12,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification\",\"level\":13,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.GetResult\",\"level\":14,\"line\":0},{\"assembly\":\"Microsoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\",\"method\":\"Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithLoggingAsync&gt;d__25.MoveNext\",\"level\":15,\"line\":468,\"fileName\":\"C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs\"},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw\",\"level\":16,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess\",\"level\":17,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification\",\"level\":18,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.GetResult\",\"level\":19,\"line\":0},{\"assembly\":\"Microsoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\",\"method\":\"Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithLoggingAsync&gt;d__19.MoveNext\",\"level\":20,\"line\":278,\"fileName\":\"C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs\"},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw\",\"level\":21,\"line\":0},{\"assembly\":\"Microsoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\",\"method\":\"Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithLoggingAsync&gt;d__19.MoveNext\",\"level\":22,\"line\":322,\"fileName\":\"C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs\"},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw\",\"level\":23,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess\",\"level\":24,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification\",\"level\":25,\"line\":0},{\"assembly\":\"System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\",\"method\":\"System.Runtime.CompilerServices.TaskAwaiter`1.GetResult\",\"level\":26,\"line\":0},{\"assembly\":\"Microsoft.Azure.WebJobs.Host, Version=3.0.15.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\",\"method\":\"Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;TryExecuteAsyncCore&gt;d__16.MoveNext\",\"level\":27,\"line\":117,\"fileName\":\"C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs\"}],\"type\":\"Microsoft.Azure.WebJobs.Host.FunctionTimeoutException\",\"id\":\"15999211\"}]\n\nitemType\nexception\ncustomDimensions\n{\"FormattedMessage\":\"Executed 'PDFProcessorFunction' (Failed, Id=6b0cebaa-0876-428d-a324-03265563651b)\",\"HostInstanceId\":\"d7abe331-beea-4165-86b4-0323f307939a\",\"InvocationId\":\"6b0cebaa-0876-428d-a324-03265563651b\",\"ProcessId\":\"5856\",\"LogLevel\":\"Error\",\"Category\":\"Function.PDFProcessorFunction\"}\n\noperation_Name\nPDFProcessorFunction\n\noperation_Id\n3f325922eef58b46b2f635d283deeebe\n\noperation_ParentId\n|3f325922eef58b46b2f635d283deeebe.30b1b04f0e993f4a.\n\nclient_Type\nPC\n\nclient_IP\n0.0.0.0\n\ncloud_RoleName\ndf-eo-pdf-queue-function-dev\n\ncloud_RoleInstance\n34c90aa5d115bbf81d1cb11cf8ef01321f11d527a73c6ae5f86ec717cb94c776\n\nappId\n9f5886c8-fb23-4ef3-a0af-5cb7333f460e\n\nappName\ndf-eo-pdf-queue-function-dev\n\niKey\n7a528756-2a38-4511-8b8d-04365870a91c\n\nsdkVersion\nazurefunctions: 2.0.12888.0\n\nitemId\n88417461-16c9-11ea-9da1-1b43f8d3fcf0\n\nitemCount\n1\n</code></pre>\n\n<p>And yes, I have tried increasing the timeout value (up to our service plan's maximum of 10 minutes) - but it still times out.  Even though it only takes a few seconds to execute on my local machine.</p>\n\n<p>In addition, I have checked, double-checked, triple-checked all the Function App configuration settings.  (I should mention that my company has several other Azure Function Apps written in .NET Core 2.1 that work fine).</p>\n\n<p>What am I doing wrong?  Is is simply that Azure Functions are not meant to handle resource-intensive operations such as generating PDFs?</p>\n"}, {"tags": ["c#", "mvvm", "dto"], "comments": [{"owner": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "edited": false, "score": 0, "creation_date": 1575493276, "post_id": 59184603, "comment_id": 104589614, "body": "I don&#39;t see a class called <code>Stock</code> in your question. Do you have this class and does it actually implement <code>IObservable</code>?"}, {"owner": {"reputation": 1053, "user_id": 30339, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/MCTqQ.jpg?s=128&g=1", "display_name": "El Padrino", "link": "https://stackoverflow.com/users/30339/el-padrino"}, "reply_to_user": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "edited": false, "score": 0, "creation_date": 1575493544, "post_id": 59184603, "comment_id": 104589704, "body": "Stock is a property of the StockViewModel class."}, {"owner": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "edited": false, "score": 0, "creation_date": 1575493671, "post_id": 59184603, "comment_id": 104589746, "body": "I saw that, but your error message says &quot;Cannot implicitly convert type &#39;Stock&#39; &quot; .. so that&#39;s a type, not a property name."}, {"owner": {"reputation": 1053, "user_id": 30339, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/MCTqQ.jpg?s=128&g=1", "display_name": "El Padrino", "link": "https://stackoverflow.com/users/30339/el-padrino"}, "reply_to_user": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "edited": false, "score": 0, "creation_date": 1575494148, "post_id": 59184603, "comment_id": 104589899, "body": "Sorry, there was a typo when I copied the code into the question format. Just fixed that."}, {"owner": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "edited": false, "score": 0, "creation_date": 1575494517, "post_id": 59184603, "comment_id": 104590019, "body": "OK, then the error message is fairly self-explanatory. Your property <code>Stock</code> expects an object of type <code>IObservable&lt;StockModel&gt;</code>, but you are attempting to set the value using an object of type <code>StockModel</code>. These are two different things. The documentation for <code>IObservable&lt;T&gt;</code> is at <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.iobservable-1?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>."}, {"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1575494835, "post_id": 59184603, "comment_id": 104590117, "body": "Would you expect to be able to cast a <code>public class Tiger</code> to an <code>public class Airbus</code>? <code>IObservable&lt;StockModel&gt;</code> is a completely different type than <code>StockModel</code>. It doesn&#39;t matter that you see &quot;StockModel&quot; in both instances."}, {"owner": {"reputation": 5172, "user_id": 1411104, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d76247ee9f2ba6c7c79fc5cea3e8fba2?s=128&d=identicon&r=PG", "display_name": "MistyK", "link": "https://stackoverflow.com/users/1411104/mistyk"}, "edited": false, "score": 0, "creation_date": 1575495081, "post_id": 59184603, "comment_id": 104590225, "body": "@KennethK.I don&#39;t agree. Tiger and Airbus are completely different things. IObservable&lt;StockModel&gt; represents a stream of StockModel values, it can even be a single value as in my current answer."}, {"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "reply_to_user": {"reputation": 5172, "user_id": 1411104, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d76247ee9f2ba6c7c79fc5cea3e8fba2?s=128&d=identicon&r=PG", "display_name": "MistyK", "link": "https://stackoverflow.com/users/1411104/mistyk"}, "edited": false, "score": 0, "creation_date": 1575495182, "post_id": 59184603, "comment_id": 104590264, "body": "@MistyK Well then you don&#39;t agree with the C# language."}, {"owner": {"reputation": 5172, "user_id": 1411104, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d76247ee9f2ba6c7c79fc5cea3e8fba2?s=128&d=identicon&r=PG", "display_name": "MistyK", "link": "https://stackoverflow.com/users/1411104/mistyk"}, "edited": false, "score": 0, "creation_date": 1575495240, "post_id": 59184603, "comment_id": 104590283, "body": "@KennethK.what do you mean?"}], "answers": [{"tags": [], "owner": {"reputation": 5172, "user_id": 1411104, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d76247ee9f2ba6c7c79fc5cea3e8fba2?s=128&d=identicon&r=PG", "display_name": "MistyK", "link": "https://stackoverflow.com/users/1411104/mistyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1575494999, "creation_date": 1575494999, "answer_id": 59184920, "question_id": 59184603, "link": "https://stackoverflow.com/questions/59184603/how-can-you-cast-from-t-to-iobservablet/59184920#59184920", "title": "How can you cast from T to IObservable&lt;T&gt;?", "body": "<p>Try this: <code>stockViewModel.Stock = Observable.Return(stockModel);</code></p>\n\n<p>Observable represents a stream of values, in this particular case your stream will always be a single value</p>\n"}], "owner": {"reputation": 1053, "user_id": 30339, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/MCTqQ.jpg?s=128&g=1", "display_name": "El Padrino", "link": "https://stackoverflow.com/users/30339/el-padrino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575494999, "creation_date": 1575493098, "last_edit_date": 1575494402, "question_id": 59184603, "link": "https://stackoverflow.com/questions/59184603/how-can-you-cast-from-t-to-iobservablet", "title": "How can you cast from T to IObservable&lt;T&gt;?", "body": "<p>I'm working with DTOs and MVVM, for me it means that sometimes I need to transform types between DTOs to ViewModels. In this opportunity I'm stuck with trying to convert T to IObservable &lt; T >.</p>\n\n<pre><code>StockModel stockModel;\nStockViewModel stockViewModel;\n\nstockViewModel.Stock = stockModel;\n\npublic class StockViewModel : ViewModelBase\n{\n    IObservable&lt;StockModel&gt; stockModel = null;\n\n    public IObservable&lt;StockModel&gt; Stock { get =&gt; stockModel;\n        set\n        {\n            stockModel = value;\n            RaisePropertyChanged(\"Stock\");\n        }\n    }\n}\n\npublic class StockModel:ModelBase\n{\n    int productID = 0;\n    double quantity = 0;\n\n    public int ProductID { get =&gt; productID; set =&gt; productID = value; }\n\n    public double Quantity { get =&gt; quantity; set =&gt; quantity = value; }\n\n}\n</code></pre>\n\n<p>The error I get is - </p>\n\n<blockquote>\n  <p>\"Severity  Code    Description Project File    Line    Suppression State\n  Error   CS0266  Cannot implicitly convert type 'StockModel' to 'System.IObservable &lt; StockModel >'. An explicit conversion exists (are you missing a cast?)\"</p>\n</blockquote>\n\n<p>Any ideas how should I proceed?</p>\n"}, {"tags": ["c#", "aop", "aspect", "castle-dynamicproxy"], "answers": [{"comments": [{"owner": {"reputation": 174, "user_id": 9377945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c212c7c49fed1795a8423e6db617947?s=128&d=identicon&r=PG&f=1", "display_name": "ImCoder", "link": "https://stackoverflow.com/users/9377945/imcoder"}, "edited": false, "score": 0, "creation_date": 1575532725, "post_id": 59186411, "comment_id": 104600341, "body": "I got error.   &#39;Unhandled exception. System.ArgumentNullException: Value cannot be null. (Parameter &#39;source&#39;)    at System.Linq.ThrowHelper.ThrowArgumentNullException(Exception&zwnj;&#8203;Argument argument)    at System.Linq.Enumerable.Reverse[TSource](IEnumerable`1 source)    at YonOdakl\u0131Proje.Interceptor.Intercept(IInvocation invocation) in line 16    at Castle.DynamicProxy.AbstractInvocation.Proceed()    at Castle.Proxies.KoleksiyonD&#246;nd&#252;rProxy.ReturnListStringData()    at YonOdakl\u0131Proje.Program.Main(String[] args) in line 13&#39;"}, {"owner": {"reputation": 12628, "user_id": 12339804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/677529a68dbdac610158cfc55ec65aec?s=128&d=identicon&r=PG&f=1", "display_name": "timur", "link": "https://stackoverflow.com/users/12339804/timur"}, "reply_to_user": {"reputation": 174, "user_id": 9377945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c212c7c49fed1795a8423e6db617947?s=128&d=identicon&r=PG&f=1", "display_name": "ImCoder", "link": "https://stackoverflow.com/users/9377945/imcoder"}, "edited": false, "score": 0, "creation_date": 1575534132, "post_id": 59186411, "comment_id": 104600943, "body": "You mind setting a breakpoint, inspecting <code>invocation</code> in debugger and checking what <code>ReturnValue</code> is? I suspect it&#39;s either null or not array of string for whatever reason. So whatever type it is - you&#39;d have to adjust the type cast."}, {"owner": {"reputation": 174, "user_id": 9377945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c212c7c49fed1795a8423e6db617947?s=128&d=identicon&r=PG&f=1", "display_name": "ImCoder", "link": "https://stackoverflow.com/users/9377945/imcoder"}, "edited": false, "score": 0, "creation_date": 1575534482, "post_id": 59186411, "comment_id": 104601097, "body": "Oh I solved it thanks. I want to print it to screen with console writline. System.String[] says on the screen. How can i see array&#39;s elements?"}, {"owner": {"reputation": 12628, "user_id": 12339804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/677529a68dbdac610158cfc55ec65aec?s=128&d=identicon&r=PG&f=1", "display_name": "timur", "link": "https://stackoverflow.com/users/12339804/timur"}, "reply_to_user": {"reputation": 174, "user_id": 9377945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c212c7c49fed1795a8423e6db617947?s=128&d=identicon&r=PG&f=1", "display_name": "ImCoder", "link": "https://stackoverflow.com/users/9377945/imcoder"}, "edited": false, "score": 0, "creation_date": 1575534631, "post_id": 59186411, "comment_id": 104601170, "body": "The same way you do it in <code>ArrayStringData</code> is an option: after your reverse line, do something like <code>foreach (var item in invocation.ReturnValue) { Console.WriteLine(item); }</code>"}, {"owner": {"reputation": 174, "user_id": 9377945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c212c7c49fed1795a8423e6db617947?s=128&d=identicon&r=PG&f=1", "display_name": "ImCoder", "link": "https://stackoverflow.com/users/9377945/imcoder"}, "edited": false, "score": 0, "creation_date": 1575534827, "post_id": 59186411, "comment_id": 104601262, "body": "I tried it and &quot;foreach statement cannot operate on variables of type &#39;object&#39; because &#39;object&#39; does not contain a public instance definition for &#39;GetEnumerator&#39;&quot;"}, {"owner": {"reputation": 12628, "user_id": 12339804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/677529a68dbdac610158cfc55ec65aec?s=128&d=identicon&r=PG&f=1", "display_name": "timur", "link": "https://stackoverflow.com/users/12339804/timur"}, "reply_to_user": {"reputation": 174, "user_id": 9377945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c212c7c49fed1795a8423e6db617947?s=128&d=identicon&r=PG&f=1", "display_name": "ImCoder", "link": "https://stackoverflow.com/users/9377945/imcoder"}, "edited": false, "score": 0, "creation_date": 1575534889, "post_id": 59186411, "comment_id": 104601291, "body": "Oh, true is an object now. I&#39;ll update the answer in a sec"}], "tags": [], "owner": {"reputation": 12628, "user_id": 12339804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/677529a68dbdac610158cfc55ec65aec?s=128&d=identicon&r=PG&f=1", "display_name": "timur", "link": "https://stackoverflow.com/users/12339804/timur"}, "is_accepted": true, "score": 0, "last_activity_date": 1575535070, "last_edit_date": 1575535070, "creation_date": 1575504826, "answer_id": 59186411, "question_id": 59184550, "link": "https://stackoverflow.com/questions/59184550/sort-an-array-using-castle-dynamicproxy-in-c/59186411#59186411", "title": "Sort an array using Castle.DynamicProxy in C#", "body": "<p>Assuming you just needed to implement the method, one option would be to reassign <code>invocation.ReturnValue</code>:</p>\n\n<pre><code>public class ExecuteAfterMethod : Interceptor\n{\n    protected override void ExecuteAfter(Castle.DynamicProxy.IInvocation invocation)\n    {\n        var stringArray = (invocation.ReturnValue as string[]).Reverse().ToArray(); // here will have the object typed as String[], so printing it should be no problem.\n    foreach(var item in stringArray) {\n         Console.WriteLine(item);\n    }\n    invocation.ReturnValue = stringArray; // and finally we reassign the result\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 174, "user_id": 9377945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c212c7c49fed1795a8423e6db617947?s=128&d=identicon&r=PG&f=1", "display_name": "ImCoder", "link": "https://stackoverflow.com/users/9377945/imcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 59186411, "answer_count": 1, "score": 0, "last_activity_date": 1575535070, "creation_date": 1575492834, "question_id": 59184550, "link": "https://stackoverflow.com/questions/59184550/sort-an-array-using-castle-dynamicproxy-in-c", "title": "Sort an array using Castle.DynamicProxy in C#", "body": "<p>I am trying to learn AOP. I have a method returning array. </p>\n\n<pre><code>public class ReturnCollection\n{\n    public virtual Array ReturnArrayStringData()\n    {\n        string[] IntArray = { \"1\", \"a\", \"4\", \"'\", \"&amp;\", \"g\" };\n        foreach (var item in IntArray)\n        {\n            Console.WriteLine(item);\n        }\n        return IntArray;\n    }\n}\n</code></pre>\n\n<p>I want to sort this array using Castle.DynamicProxy and ArrayName.sort(). Here is my proxy Method.</p>\n\n<pre><code>[Serializable]\npublic abstract class Interceptor: IInterceptor\n{\n    protected abstract void ExecuteAfter(IInvocation invocation);\n    public void Intercept(IInvocation invocation)\n    {\n        invocation.Proceed();\n        ExecuteAfter(invocation);\n    }\n}\n\n    public class ExecuteAfterMethod: Interceptor\n{\n    protected override void ExecuteAfter(Castle.DynamicProxy.IInvocation invocation)\n    {\n        //sort array here.\n    }\n}\n</code></pre>\n\n<p>How can I do it? Thanks.</p>\n"}, {"tags": ["c#", "assembly", "dll", "x86-64", "cpu-registers"], "comments": [{"owner": {"reputation": 52454, "user_id": 547981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90042f6f33a9f87769fac02096ceea68?s=128&d=identicon&r=PG", "display_name": "Jester", "link": "https://stackoverflow.com/users/547981/jester"}, "edited": false, "score": 0, "creation_date": 1575492938, "post_id": 59184547, "comment_id": 104589486, "body": "Looks like missed optimization. Could have loaded <code>r11</code> directly instead of going through <code>ebx</code>. Anyway, <code>[rbp+48]</code> is the 5th argument, <code>startIndex</code> and <code>[rbp+56]</code> is the 6th, the <code>endIndex</code>. See the <a href=\"https://docs.microsoft.com/en-us/cpp/build/x64-calling-convention\" rel=\"nofollow noreferrer\">calling convention documentation</a>"}, {"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 1, "creation_date": 1575501370, "post_id": 59184547, "comment_id": 104592046, "body": "<a href=\"//stackoverflow.com/q/11177137\">Why do x86-64 instructions on 32-bit registers zero the upper part of the full 64-bit register?</a> explains what writing EDX and reading RDX does."}, {"owner": {"reputation": 93, "user_id": 12425125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/449cb23d43e311a0aaa6ce30df17a375?s=128&d=identicon&r=PG&f=1", "display_name": "Pawlit16", "link": "https://stackoverflow.com/users/12425125/pawlit16"}, "edited": false, "score": 0, "creation_date": 1575528623, "post_id": 59184547, "comment_id": 104598785, "body": "But why is +48 and +56 here?"}, {"owner": {"reputation": 52454, "user_id": 547981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90042f6f33a9f87769fac02096ceea68?s=128&d=identicon&r=PG", "display_name": "Jester", "link": "https://stackoverflow.com/users/547981/jester"}, "edited": false, "score": 0, "creation_date": 1575543974, "post_id": 59184547, "comment_id": 104605956, "body": "Because that&#39;s where the 5th and 6th arguments are, assuming <code>rbp</code> has been set up as a frame pointer."}], "owner": {"reputation": 93, "user_id": 12425125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/449cb23d43e311a0aaa6ce30df17a375?s=128&d=identicon&r=PG&f=1", "display_name": "Pawlit16", "link": "https://stackoverflow.com/users/12425125/pawlit16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575501282, "creation_date": 1575492809, "last_edit_date": 1575501282, "question_id": 59184547, "link": "https://stackoverflow.com/questions/59184547/whats-going-on-in-this-piece-of-code-in-assembler-dword-ptrrbp-48", "title": "What&#39;s going on in this piece of code in assembler? (dword ptr[rbp + 48] ...)", "body": "<p>I'm analyzing someone's project to convert the image to sepia. I don't understand what's going on in this piece of code that is called as a DLL from C#.</p>\n\n<pre><code>.CODE\nsepia proc          \n    mov         ebx, dword ptr[rbp + 48]    \n    mov         r11, rbx                    \n    mov         ebx, dword ptr[rbp + 56]    \n    mov         r10, rbx                    \n    movdqu      xmm1, oword ptr[rdx]        \n    movdqu      xmm2, oword ptr[r8]         \n    movdqu      xmm3, oword ptr[r9]             \n\n// ... more code ...\n</code></pre>\n\n<p>And here calling the DLL from C# ...</p>\n\n<pre><code>  [DllImport(\"DLL_ASM.dll\", EntryPoint = \"sepia\")]\n        private static extern void SepiaAsmAlgorithm(\n            float[] pixels, float[] sepiaRates, \n            float[] rgbRates, float[] array255, int startIndex, int endIndex);\n</code></pre>\n\n<p>What this code means</p>\n\n<pre><code>ebx, dword ptr [rbp + 48]\n</code></pre>\n\n<p>and why is the value then assigned from the rbx register to r11, since the above entry was made to the ebx register?</p>\n"}, {"tags": ["c#", "wpf", "visual-studio"], "answers": [{"tags": [], "owner": {"reputation": 214, "user_id": 6948386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arvNS.png?s=128&g=1", "display_name": "Yohann", "link": "https://stackoverflow.com/users/6948386/yohann"}, "is_accepted": false, "score": 0, "last_activity_date": 1575516782, "creation_date": 1575516782, "answer_id": 59187844, "question_id": 59184541, "link": "https://stackoverflow.com/questions/59184541/designinstance-showing-unexpected-value/59187844#59187844", "title": "DesignInstance showing unexpected value", "body": "<blockquote>\n  <p>When can I expect the designer to reflect changes made to the DesignInstance model? On build?</p>\n</blockquote>\n\n<p>Yes, In the WPF design view, you need to refresh (Rebuild) the DesignInstance, the view will show the update value.</p>\n\n<p>Without the related code. I create a simple on my side. It can show the value in the WPF design view instead of the property's name.</p>\n\n<pre><code>  public class ViewDesignMock : INotifyPropertyChanged\n{\n    public ViewDesignMock() { }\n\n    public System.String userInstruction\n    {\n        get =&gt; \"TESTING22222222222222\";\n    }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n    private void OnPropertyRaised(string propertyname)\n    {\n        if (PropertyChanged != null)\n        {\n            PropertyChanged(this, new PropertyChangedEventArgs(propertyname));\n        }\n    }\n\n\n    //private string _userInstruction = \"TESTING22666222\";\n    //public string userInstruction\n    //{\n    //    get\n    //    {\n    //        return _userInstruction;\n    //    }\n    //    set\n    //    {\n    //        _userInstruction = value;\n    //        OnPropertyRaised(\"userInstruction\");\n    //    }\n    //}\n\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/z1dHs.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z1dHs.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 5, "user_id": 10741184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50aacbb9ba363f3c740879430dbf9899?s=128&d=identicon&r=PG&f=1", "display_name": "J_Marlowe", "link": "https://stackoverflow.com/users/10741184/j-marlowe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575557503, "creation_date": 1575492795, "last_edit_date": 1575557503, "question_id": 59184541, "link": "https://stackoverflow.com/questions/59184541/designinstance-showing-unexpected-value", "title": "DesignInstance showing unexpected value", "body": "<p>So I've been trying to get into DesignData for the WPF Designer. I have a page:</p>\n\n<pre><code>&lt;src:BasePage xmlns:cal=\"Namespace&amp;AssemblyInfo\"\n              xmlns:src=\"AnotherNamespace\"\n              x:Class=\"Actual_Class\"\n              x:TypeArguments=\"ActualClassArg\"\n              xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n              xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n              xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" \n              xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"           \n              mc:Ignorable=\"d\" \n              d:DataContext=\"{d:DesignInstance d:Type=cal:ViewDesignMock,\n                                               IsDesignTimeCreatable=True}\"&gt;\n\n...\n                    &lt;TextBlock x:Name=\"UserInstructionLabel\"         \n                               VerticalAlignment=\"Bottom\"\n                               HorizontalAlignment=\"Center\"\n                               Text=\"{Binding userInstruction}\"&gt;\n                    &lt;/TextBlock&gt;\n&lt;/src:BasePage&gt;\n\n</code></pre>\n\n<p>The code behind for this page follows:</p>\n\n<pre><code>    public partial class InstructionPage : BasePage&lt;InstructionViewController&gt;\n    {\n        public InstructionPage() { }\n\n        public InstructionPage(IDetectorControl detector, IBaser baser) : this()\n        {         \n            ViewModel = new InstructionViewController(detector, baser); //ViewModel is of BasePage\n            DataContext = ViewModel.M_View;\n            InitializeComponent();          \n        }\n   }\n</code></pre>\n\n<p>The ViewDesignMock is as follows:</p>\n\n<pre><code>    public class ViewDesignMock\n    {\n        public ViewDesignMock(){ }\n\n        public System.String userInstruction\n        {\n            get =&gt; \"TESTING\";\n        }\n   }\n</code></pre>\n\n<p>What results is the design view displaying \"userInstruction\" for the Binding, and not \"TESTING.\" As I'm still pretty new with this, I do have a few questions concerning what's going on. When can I expect the designer to reflect changes made to the DesignInstance model? On build? And why is it that I'm seeing the name of the property being shown on the binding, and what can I do to reflect the value instead of the name? I'm using Visual Studio 2019.</p>\n\n<p>Thank you in advance!</p>\n\n<p>EDIT:</p>\n\n<p>I stumbled on this article written in 2016 in the microsoft, titled \"Debug or disable project code in XAML Designer\"</p>\n\n<p>\"For projects that target ARM or X64 processors, Visual Studio cannot run project code in the designer, so the Disable project code button is disabled in the designer.\"</p>\n\n<p>My project is indeed targeting x64, is this restriction still valid?</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1575492698, "post_id": 59184429, "comment_id": 104589397, "body": "<i>Directory.GetFiles(Path, partNumber + &quot;*.jpg&quot;);</i> Just read the <a href=\"https://stackoverflow.com/questions/59184429/directory-file-search-multiple-images#59184429\">docs</a> about what you can write for <i>searchPattern</i>"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1575492880, "post_id": 59184429, "comment_id": 104589462, "body": "However I don&#39;t undestand why you haven&#39;t followed the comments given to you in your previuos question. This one is a pretty duplicate of the previous one"}, {"owner": {"reputation": 101, "user_id": 5748123, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a262e3554168ef1d37f24a0d1cbf91db?s=128&d=identicon&r=PG&f=1", "display_name": "GoGetSOme", "link": "https://stackoverflow.com/users/5748123/gogetsome"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1575492907, "post_id": 59184429, "comment_id": 104589475, "body": "Steve, I have tried that, but it is not ideal. Some partNumbers are like 10-100-1 with an image of 10-100-1.jpg. Using the wildcard includes the 10-100-1.jpg as well."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1575493040, "post_id": 59184429, "comment_id": 104589521, "body": "If the symbol - should always be the last one before the variable part then &quot;-*.jpg&quot;. Perhaps you need to give some example of what is expected to return and what not."}, {"owner": {"reputation": 101, "user_id": 5748123, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a262e3554168ef1d37f24a0d1cbf91db?s=128&d=identicon&r=PG&f=1", "display_name": "GoGetSOme", "link": "https://stackoverflow.com/users/5748123/gogetsome"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1575493480, "post_id": 59184429, "comment_id": 104589685, "body": "Steve, I have tried both suggestions and neither work correctly. For my scenario these images should be found using a part number of 10-100: 10-100.jpg, 10-100_1.jpg, 10-100_2.jpg  This image should not be returned: 10-100-1.jpg Oh, also sorry about the duplicate question."}, {"owner": {"reputation": 12181, "user_id": 1803777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kY7IS.jpg?s=128&g=1", "display_name": "Ulugbek Umirov", "link": "https://stackoverflow.com/users/1803777/ulugbek-umirov"}, "edited": false, "score": 1, "creation_date": 1575493665, "post_id": 59184429, "comment_id": 104589744, "body": "<code>Directory.EnumerateFiles(Path, partNumber + &quot;*.jpg&quot;).Where(s =&gt; Regex.IsMatch(System.IO.Path.GetFileNameWithoutExtension(s), &quot;^&quot; + Regex.Escape(partNumber) + @&quot;(_\\d+)?$&quot;)).ToList();</code>"}, {"owner": {"reputation": 101, "user_id": 5748123, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a262e3554168ef1d37f24a0d1cbf91db?s=128&d=identicon&r=PG&f=1", "display_name": "GoGetSOme", "link": "https://stackoverflow.com/users/5748123/gogetsome"}, "edited": false, "score": 0, "creation_date": 1575494189, "post_id": 59184429, "comment_id": 104589909, "body": "Ulugbek, I was going to just do two searches which I got to work, then I tried your code. Works perfectly! Thank you!"}, {"owner": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "reply_to_user": {"reputation": 12181, "user_id": 1803777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kY7IS.jpg?s=128&g=1", "display_name": "Ulugbek Umirov", "link": "https://stackoverflow.com/users/1803777/ulugbek-umirov"}, "edited": false, "score": 0, "creation_date": 1575497075, "post_id": 59184429, "comment_id": 104590835, "body": "@UlugbekUmirov please add your solution as an answer."}], "answers": [{"tags": [], "owner": {"reputation": 12181, "user_id": 1803777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kY7IS.jpg?s=128&g=1", "display_name": "Ulugbek Umirov", "link": "https://stackoverflow.com/users/1803777/ulugbek-umirov"}, "is_accepted": true, "score": 1, "last_activity_date": 1575544847, "creation_date": 1575544847, "answer_id": 59194001, "question_id": 59184429, "link": "https://stackoverflow.com/questions/59184429/directory-file-search-multiple-images/59194001#59194001", "title": "Directory file search multiple images", "body": "<p>Can solve using 2 ways.</p>\n\n<p>Either scan folder twice with 2 different masks: <code>&lt;partNumber&gt;.jpg</code> and <code>&lt;partNumber&gt;_*.jpg</code>.</p>\n\n<pre><code>static IEnumerable&lt;string&gt; EnumerateFiles(string path, string partNumber)\n{\n    return Enumerable.Concat(\n        Directory.EnumerateFiles(path, partNumber + \".jpg\"),\n        Directory.EnumerateFiles(path, partNumber + \"_*.jpg\"));\n}\n</code></pre>\n\n<p>Either scan folder once with regex filtering:</p>\n\n<pre><code>static IEnumerable&lt;string&gt; EnumerateFiles(string path, string partNumber)\n{\n    string fileNameGenericMask = partNumber + \"*.jpg\";\n    string fileNameRegexPattern = \"^\" + Regex.Escape(partNumber) + @\"(_\\d+)?$\";\n    return Directory.EnumerateFiles(path, fileNameGenericMask)\n                    .Where(filePath =&gt; Regex.IsMatch(Path.GetFileNameWithoutExtension(filePath), fileNameRegexPattern));\n}\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 5748123, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a262e3554168ef1d37f24a0d1cbf91db?s=128&d=identicon&r=PG&f=1", "display_name": "GoGetSOme", "link": "https://stackoverflow.com/users/5748123/gogetsome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 59194001, "answer_count": 1, "score": 1, "last_activity_date": 1575544847, "creation_date": 1575492249, "last_edit_date": 1575492597, "question_id": 59184429, "link": "https://stackoverflow.com/questions/59184429/directory-file-search-multiple-images", "title": "Directory file search multiple images", "body": "<p>I'm using:  </p>\n\n<pre><code> String[] FileNames = Directory.GetFiles(Path, partNumber + \".jpg\"); \n</code></pre>\n\n<p>in order to get image files from a directory. The images are named after a partNumber and use an underscore character and a number to discern them apart. \nFor example, a part may have 3 images: 10-100.jpg, 10-100_1.jpg, 10-100_2.jpg\nHow can I modify my code to get all 3 images for partNumber 10-100?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "mvccontrib", "message-bus"], "answers": [{"tags": [], "owner": {"reputation": 1051, "user_id": 8678978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FFZS4.gif?s=128&g=1", "display_name": "chrisbyte", "link": "https://stackoverflow.com/users/8678978/chrisbyte"}, "is_accepted": true, "score": 1, "last_activity_date": 1575570362, "creation_date": 1575570362, "answer_id": 59201234, "question_id": 59184381, "link": "https://stackoverflow.com/questions/59184381/mvc5-portable-area-how-do-you-use-message-bus/59201234#59201234", "title": "MVC5 Portable Area, how do you use message bus?", "body": "<p>I got it all figured out. There was a <a href=\"https://archive.codeplex.com/?p=mvccontrib\" rel=\"nofollow noreferrer\">MvcContrib source code archive</a> that I was unable to download since Google Chrome was blocking the .zip file, but I was able to get it using Internet Explorer.</p>\n\n<p>Here are the important bits after adapting it to my application. Hopefully this can help someone. I did my best to format my answer properly, this is my first time posting on StackOverflow:</p>\n\n<p><strong>In the Portable class library</strong></p>\n\n<ol>\n<li><p>Create a LoginResult class using the ICommandResult interface</p>\n\n<pre><code>public class LoginResult: MvcContrib.PortableAreas.ICommandResult\n{\n    public bool Success { get; set; }\n    public string Message { get; set; }\n    public string Username { get; set; }\n}\n</code></pre></li>\n<li><p>Create a LoginMessage class that also uses the ICommandResult interface with LoginResult. The LoginMessage class has a property for a LoginViewModel I use in my Login.cshtml view (it has Username, Password, and some other additional fields I needed for the view)</p>\n\n<pre><code>public class LoginMessage : ICommandMessage&lt;LoginResult&gt;\n{\n    public LoginResult Result { get; set; }\n    public LoginViewModel Input { get; set; }\n}\n</code></pre></li>\n<li><p>In the HttpPost action of the Login controller, create an instance of LoginMessage, passing in the LoginViewModel from the login view, and send it to the Host with MvcContrib.Bus.Send</p>\n\n<pre><code>[HttpPost]\npublic ActionResult Login(LoginViewModel mdl)\n{\n    // TODO: Do basic auth here first, then send to Host for additional validation\n\n    // Create and send message to the Host\n    var message = new LoginMessage { Input = mdl, Result = new LoginResult() };\n\n    MvcContrib.Bus.Send(message);\n\n    if (message.Result.Success)\n    {\n        // Redirect to defaultUrl set in the Host's web.config\n        FormsAuthentication.RedirectFromLoginPage(mdl.Username, false);\n    }\n\n    return View(\"Login\", \"_Layout\", mdl);\n}\n</code></pre></li>\n</ol>\n\n<p>Note: LoginMessage sets a new empty LoginResult and then waits for Success. The Success is set by the Host (shown below). I do this because certain Host applications have specific additional logic that only apply to that application, so I let the Host do what it needs and return to the Portable to let it know if it passed or failed. Eventually, I will have the basic authentication logic in the Portable first and then let the Host do the extra work, but for the sake of this example I am keeping it simple.</p>\n\n<p><strong>In the Host web application (which has a reference to my Portable dll)</strong></p>\n\n<ol>\n<li><p>Create a handler for the Portable.LoginMessage so we can read it in the Host. Note that IsValidLogin is where I will eventually do my additional authentication logic to see if the user is valid</p>\n\n<pre><code>public class LoginHandler : MvcContrib.PortableAreas.MessageHandler&lt;Portable.LoginMessage&gt;\n{\n    public override void Handle(Portable.LoginMessage message)\n    {\n        if (IsValidLogin(message.Input.Username, message.Input.Password))\n        {\n            message.Result.Success = true;\n            message.Result.Username = message.Input.Username;\n        }\n        else\n        {\n            message.Result.Message = \"Username or Password was incorrect\";\n        }\n    }\n\n    private bool IsValidLogin(string username, string password)\n    {\n        // TODO: Replace with actual authentication\n        return username.Equals(\"admin\") &amp;&amp; password.Equals(\"password\");\n    }\n}\n</code></pre></li>\n<li><p>In the web.config, set the defaultUrl that the Portable will redirect to in the controller I described earlier, when <em>message.Result.Success</em> is True. You do not need to be using Forms Authentication, the mode can be set to None, but you need to have the defaultUrl for this to work.</p>\n\n<pre><code>&lt;system.web&gt;\n    &lt;authentication mode=\"Forms\"&gt;\n        &lt;forms loginUrl=\"~/Portable/Login\" defaultUrl=\"~/Home/Index\" /&gt;\n    &lt;/authentication&gt;\n&lt;/system.web&gt;\n</code></pre></li>\n</ol>\n\n<p>That's it! This was a great exercise and learning experience for me. I am still figuring out the second part of my question where I need to send information to the Portable first (like the application title and assembly version) but I'm thinking I can do pretty much the same thing but in reverse, where I send an ICommandMessage to the Portable when my Host starts up (global.asax).</p>\n"}], "owner": {"reputation": 1051, "user_id": 8678978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FFZS4.gif?s=128&g=1", "display_name": "chrisbyte", "link": "https://stackoverflow.com/users/8678978/chrisbyte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 59201234, "answer_count": 1, "score": 0, "last_activity_date": 1576098986, "creation_date": 1575492069, "last_edit_date": 1576098986, "question_id": 59184381, "link": "https://stackoverflow.com/questions/59184381/mvc5-portable-area-how-do-you-use-message-bus", "title": "MVC5 Portable Area, how do you use message bus?", "body": "<p>I spent several hours reading through many different examples and documentation for setting up a portable area with ASP.NET MVC, with the intent of sharing a common login page with authentication for multiple applications. I got it all together and it works nicely so far, but one thing I'm having trouble with is the use of message bus. I see it is a way of communicating between the Host and Portable components, but I don't see a clear way of how to do this. </p>\n\n<p>For instance; if my Portable login is successful, how do I tell the Host so it can do something (set a cookie, redirect to a specific page, etc.)? Also, if I want to send something to the Portable (like the title or Assembly Version of the Host application) how would I do that? I haven't tried anything yet because I cannot seem to find a complete example.</p>\n"}, {"tags": ["c#", "sql-server", "reporting-services", "ssis"], "comments": [{"owner": {"reputation": 59343, "user_id": 2029983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0118fb43d1ce086d768e295339cf0ff4?s=128&d=identicon&r=PG", "display_name": "Larnu", "link": "https://stackoverflow.com/users/2029983/larnu"}, "edited": false, "score": 0, "creation_date": 1575491543, "post_id": 59184222, "comment_id": 104588932, "body": "This sounds like you want Data-Driven Reports. There are many articles on how to achieve similar functionality if you&#39;re using Standard Edition."}, {"owner": {"reputation": 31, "user_id": 10042580, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lZurxO6FtK4/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p7ehMe-ohi7kg8J55eOF5hkgduWg/mo/photo.jpg?sz=128", "display_name": "Polymar", "link": "https://stackoverflow.com/users/10042580/polymar"}, "reply_to_user": {"reputation": 59343, "user_id": 2029983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0118fb43d1ce086d768e295339cf0ff4?s=128&d=identicon&r=PG", "display_name": "Larnu", "link": "https://stackoverflow.com/users/2029983/larnu"}, "edited": false, "score": 0, "creation_date": 1575491926, "post_id": 59184222, "comment_id": 104589079, "body": "Thanks, but as far as I know, Data-Driven Subscriptions can&#39;t send multiple report executions in a single email. Am I wrong? I&#39;m on std edition btw so I would need to use something different, which I&#39;m in part already doing"}, {"owner": {"reputation": 59343, "user_id": 2029983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0118fb43d1ce086d768e295339cf0ff4?s=128&d=identicon&r=PG", "display_name": "Larnu", "link": "https://stackoverflow.com/users/2029983/larnu"}, "edited": false, "score": 0, "creation_date": 1575492170, "post_id": 59184222, "comment_id": 104589176, "body": "No, they can&#39;t; but if you want them all in a single email, then put then all in one report (using sub reports)."}, {"owner": {"reputation": 31, "user_id": 10042580, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lZurxO6FtK4/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p7ehMe-ohi7kg8J55eOF5hkgduWg/mo/photo.jpg?sz=128", "display_name": "Polymar", "link": "https://stackoverflow.com/users/10042580/polymar"}, "reply_to_user": {"reputation": 59343, "user_id": 2029983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0118fb43d1ce086d768e295339cf0ff4?s=128&d=identicon&r=PG", "display_name": "Larnu", "link": "https://stackoverflow.com/users/2029983/larnu"}, "edited": false, "score": 0, "creation_date": 1575492513, "post_id": 59184222, "comment_id": 104589324, "body": "I think I may have misexplained something. The ssrs that generates the excel is just one. In the first foreach loop I iter all vat/country combinations passing them as parameters to the report."}, {"owner": {"reputation": 2125, "user_id": 1373708, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2b3de95d8edad63df07d023e06f3ad90?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/1373708/harry"}, "edited": false, "score": 0, "creation_date": 1575502282, "post_id": 59184222, "comment_id": 104592300, "body": "You can by pass SSIS if you can use Data Driven subscriptions in SSRS. Works a treat and for multiple reports, combine them into one report as Larnu has suggested."}, {"owner": {"reputation": 3725, "user_id": 6777839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YYN3g.jpg?s=128&g=1", "display_name": "Wolfgang Kais", "link": "https://stackoverflow.com/users/6777839/wolfgang-kais"}, "edited": false, "score": 1, "creation_date": 1575509284, "post_id": 59184222, "comment_id": 104593949, "body": "Shouldn&#39;t the first task write the VATs to a recordset (and thus be a dataflow task) that can be looped using the outer Foreach Loop Container? And shouldn&#39;t a &quot;Send Email&quot; task be inside that Foreach Loop Container?"}, {"owner": {"reputation": 31, "user_id": 10042580, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lZurxO6FtK4/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p7ehMe-ohi7kg8J55eOF5hkgduWg/mo/photo.jpg?sz=128", "display_name": "Polymar", "link": "https://stackoverflow.com/users/10042580/polymar"}, "reply_to_user": {"reputation": 2125, "user_id": 1373708, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2b3de95d8edad63df07d023e06f3ad90?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/1373708/harry"}, "edited": false, "score": 0, "creation_date": 1575537217, "post_id": 59184222, "comment_id": 104602279, "body": "@Harry, I don&#39;t have DDS otherwise I would have used them :)"}, {"owner": {"reputation": 31, "user_id": 10042580, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lZurxO6FtK4/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p7ehMe-ohi7kg8J55eOF5hkgduWg/mo/photo.jpg?sz=128", "display_name": "Polymar", "link": "https://stackoverflow.com/users/10042580/polymar"}, "reply_to_user": {"reputation": 3725, "user_id": 6777839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YYN3g.jpg?s=128&g=1", "display_name": "Wolfgang Kais", "link": "https://stackoverflow.com/users/6777839/wolfgang-kais"}, "edited": false, "score": 0, "creation_date": 1575537288, "post_id": 59184222, "comment_id": 104602308, "body": "@WolfgangKais Thanks for the suggestion, I&#39;m getting VAT and Countries in the parent loop while getting all parameters in the child one. I&#39;ll try getting only VATs and moving the mail send task."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 10042580, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lZurxO6FtK4/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p7ehMe-ohi7kg8J55eOF5hkgduWg/mo/photo.jpg?sz=128", "display_name": "Polymar", "link": "https://stackoverflow.com/users/10042580/polymar"}, "is_accepted": true, "score": 0, "last_activity_date": 1575585960, "creation_date": 1575585960, "answer_id": 59204341, "question_id": 59184222, "link": "https://stackoverflow.com/questions/59184222/ssis-ssrs-report-grouping-for-email-by-table-field/59204341#59204341", "title": "SSIS - SSRS Report grouping for email by table field", "body": "<p>I managed to achieve this mostly thanks to @WolfgangKais who pointed me in the right direction.</p>\n\n<p>The new SSIS is like that</p>\n\n<p><a href=\"https://i.stack.imgur.com/rQKF2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rQKF2.png\" alt=\"enter image description here\"></a></p>\n\n<p>ANd in the end I handled the sending of many attachments into one mail directly into the script task in c# (I'm no developer but i was able to find some examples ready to edit).</p>\n\n<p>Thanks everyone for the suggestions.</p>\n"}], "owner": {"reputation": 31, "user_id": 10042580, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lZurxO6FtK4/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p7ehMe-ohi7kg8J55eOF5hkgduWg/mo/photo.jpg?sz=128", "display_name": "Polymar", "link": "https://stackoverflow.com/users/10042580/polymar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 59204341, "answer_count": 1, "score": 1, "last_activity_date": 1575585960, "creation_date": 1575491372, "last_edit_date": 1575491543, "question_id": 59184222, "link": "https://stackoverflow.com/questions/59184222/ssis-ssrs-report-grouping-for-email-by-table-field", "title": "SSIS - SSRS Report grouping for email by table field", "body": "<p>I am tasked to send different report files to my customers (I asked something different <a href=\"https://stackoverflow.com/questions/59093690/ssis-rest-api-for-freshdesk/59095163#59095163\">HERE</a> but I bypassed it not using Freshdesk).</p>\n\n<p>I have all my data inside a table, each customer has its own VAT id and a variable number of rows for the order.\nI need to create an excel file for each VAT-Country combination and send all generated files for each VAT to a specific email address (extracted from an SSRS report called n times)</p>\n\n<p>VAT1-IT.xlsx,VAT1-NL.xlsx,VAT1-EE.xlsx TO EMAIL 1</p>\n\n<p>VAT2-EE.xlsx,VAT2-UK.xlsx TO EMAIL 2</p>\n\n<p>VAT3-GR.xlsx TO EMAIL 3</p>\n\n<p>So far I've been able to generate all the files in a specific folder but I'm stuck at taking the correct files and send them to the correct customer. I'm able to send a single attachment to a recipient (using a script task to send the email since I have variable email subjects and bodies.</p>\n\n<p>What I thought could have been a good way to do this was to create two ForEach Loops: \nThe parent will extract only VAT Numbers and the second one all the details (VAT-Country-Email Addresses); I figured that the second one would loop until the combinations for a VAT-Country would finish and then pass to another iteration, but evidently I'm wrong.</p>\n\n<p><a href=\"https://i.stack.imgur.com/bsjUP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bsjUP.png\" alt=\"SSIS Package flow\"></a></p>\n\n<p>Is there a way to achieve this? \nCould be generating all the files and then fetch them from the filesystem a better way to achieve this? </p>\n"}, {"tags": ["c#", ".net", "algorithm", "linear-equation"], "comments": [{"owner": {"reputation": 859, "user_id": 3563563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb456db94804e2a88e57e5970ac8e60?s=128&d=identicon&r=PG&f=1", "display_name": "gdir", "link": "https://stackoverflow.com/users/3563563/gdir"}, "edited": false, "score": 0, "creation_date": 1575494250, "post_id": 59184216, "comment_id": 104589933, "body": "As you can see in the answer of @PraveenB your augmented matrix for a linear equation system of size N is not N x N, but N x N+1. In the image of the pseudo code, there&#39;s a big N and a small n which are not the same values. Apart from this problem you should think about A[k, k] == 0 causing a DivideByZeroException. Have a look at pivoting."}, {"owner": {"reputation": 812, "user_id": 1596045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2c1e43768a22cf234ddcf4a6306190?s=128&d=identicon&r=PG", "display_name": "PraveenB", "link": "https://stackoverflow.com/users/1596045/praveenb"}, "edited": false, "score": 0, "creation_date": 1575568642, "post_id": 59184216, "comment_id": 104619358, "body": "@Petro - updated the answer. Put debug statements so that you can follow the logic."}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 9541789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2c7cb96e2987fd48973b090dbbf676?s=128&d=identicon&r=PG&f=1", "display_name": "PKK", "link": "https://stackoverflow.com/users/9541789/pkk"}, "edited": false, "score": 0, "creation_date": 1575495207, "post_id": 59184721, "comment_id": 104590269, "body": "this revision gives an out of range exception, still even for NxN size of array it doesnt work"}, {"owner": {"reputation": 812, "user_id": 1596045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2c1e43768a22cf234ddcf4a6306190?s=128&d=identicon&r=PG", "display_name": "PraveenB", "link": "https://stackoverflow.com/users/1596045/praveenb"}, "reply_to_user": {"reputation": 145, "user_id": 9541789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2c7cb96e2987fd48973b090dbbf676?s=128&d=identicon&r=PG&f=1", "display_name": "PKK", "link": "https://stackoverflow.com/users/9541789/pkk"}, "edited": false, "score": 0, "creation_date": 1575495535, "post_id": 59184721, "comment_id": 104590368, "body": "You have to modify the solution for NxN as in that case it will exceed the boundary. This  j&lt;=N is for your 2x3 solution. You have to modify based on what dimensions you are passing.  If its NxN and j &lt;= N than it will go up to index N which is wrong."}, {"owner": {"reputation": 812, "user_id": 1596045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2c1e43768a22cf234ddcf4a6306190?s=128&d=identicon&r=PG", "display_name": "PraveenB", "link": "https://stackoverflow.com/users/1596045/praveenb"}, "reply_to_user": {"reputation": 145, "user_id": 9541789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2c7cb96e2987fd48973b090dbbf676?s=128&d=identicon&r=PG&f=1", "display_name": "PKK", "link": "https://stackoverflow.com/users/9541789/pkk"}, "edited": false, "score": 0, "creation_date": 1575495573, "post_id": 59184721, "comment_id": 104590380, "body": "Its a simple fix but i would like you to try instead of directly giving you a solution."}, {"owner": {"reputation": 145, "user_id": 9541789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2c7cb96e2987fd48973b090dbbf676?s=128&d=identicon&r=PG&f=1", "display_name": "PKK", "link": "https://stackoverflow.com/users/9541789/pkk"}, "edited": false, "score": 0, "creation_date": 1575496085, "post_id": 59184721, "comment_id": 104590542, "body": "literally have no idea what to change there, any step goes to out of range exception"}, {"owner": {"reputation": 812, "user_id": 1596045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2c1e43768a22cf234ddcf4a6306190?s=128&d=identicon&r=PG", "display_name": "PraveenB", "link": "https://stackoverflow.com/users/1596045/praveenb"}, "edited": false, "score": 0, "creation_date": 1575567280, "post_id": 59184721, "comment_id": 104618737, "body": "Damien you have not read the whole post. Its not a square matrix its NxN+1."}], "tags": [], "owner": {"reputation": 812, "user_id": 1596045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2c1e43768a22cf234ddcf4a6306190?s=128&d=identicon&r=PG", "display_name": "PraveenB", "link": "https://stackoverflow.com/users/1596045/praveenb"}, "is_accepted": true, "score": 3, "last_activity_date": 1575568574, "last_edit_date": 1575568574, "creation_date": 1575493818, "answer_id": 59184721, "question_id": 59184216, "link": "https://stackoverflow.com/questions/59184216/problem-with-forward-elimination-implementation/59184721#59184721", "title": "Problem with Forward elimination implementation", "body": "<p>The problem in your solution is this line. Here you have to go through all the columns so it should be j &lt;= N and not j &lt; N. N is 2, the number of rows so you are missing one iteration in your solution. </p>\n\n<pre><code>for (int j = k; j &lt;= N; j++)\n</code></pre>\n\n<p>The algo that you have pasted is for square matrix N x N and not N x M i.e. your case ( 2 x 3 ). If it was a square matrix, the solution would be good.</p>\n\n<p>Here is another take at it @Petro - What you can do is create 2 variables one for rows and one for cols. </p>\n\n<pre><code>int m = AugmentedMatrix.GetLength(0);\nint n =  AugmentedMatrix.GetLength(1);\n</code></pre>\n\n<p>For the first 2 loops it will be m and for the last loop use n i.e.</p>\n\n<pre><code>for (int k = 0; k &lt; m; k++)\nfor (int i = k + 1; i &lt; m; i++)\n</code></pre>\n\n<p>And for the last one</p>\n\n<pre><code>for (int j = k; j &lt; n; j++)\n</code></pre>\n\n<p>Also this will not work if m > n. Also print i,j,k inside every iteration to debug and catch range e.g.</p>\n\n<pre><code>Console.WriteLine(\"i:\" + i + \", k:\" + k + \", factor: \" + factor);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1575569741, "creation_date": 1575569741, "answer_id": 59201075, "question_id": 59184216, "link": "https://stackoverflow.com/questions/59184216/problem-with-forward-elimination-implementation/59201075#59201075", "title": "Problem with Forward elimination implementation", "body": "<p>Please replace your code with below:</p>\n\n<pre><code>        public static void ForwardElimination(double[,] AugmentedMatrix)\n        {\n            int N0 = AugmentedMatrix.GetLength(0);\n            int N1 = AugmentedMatrix.GetLength(1);\n\n            for (int k = 0; k &lt; N0; k++)\n            {\n                for (int i = k + 1; i &lt; N1-1; i++)\n                {\n                    double factor = AugmentedMatrix[i, k] / AugmentedMatrix[k, k];\n\n                    for (int j = k; j &lt; N1; j++)\n                    {\n                        AugmentedMatrix[i, j] -= factor * AugmentedMatrix[k, j];\n                    }\n                }\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 9541789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2c7cb96e2987fd48973b090dbbf676?s=128&d=identicon&r=PG&f=1", "display_name": "PKK", "link": "https://stackoverflow.com/users/9541789/pkk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 59184721, "answer_count": 2, "score": 1, "last_activity_date": 1575569741, "creation_date": 1575491346, "question_id": 59184216, "link": "https://stackoverflow.com/questions/59184216/problem-with-forward-elimination-implementation", "title": "Problem with Forward elimination implementation", "body": "<p>Let be the following Forward Elimination Implementation in terms of <code>C#</code></p>\n\n<pre><code>public static void ForwardElimination(double[,] AugmentedMatrix)\n        {\n            int N = AugmentedMatrix.GetLength(0);\n\n            for (int k = 0; k &lt; N; k++)\n            {\n                for (int i = k + 1; i &lt; N; i++)\n                {\n                    double factor = AugmentedMatrix[i, k] / AugmentedMatrix[k, k];\n\n                    for (int j = k; j &lt; N; j++)\n                    {\n                        AugmentedMatrix[i, j] -= factor * AugmentedMatrix[k, j];\n                    }\n                }\n            }\n        }\n</code></pre>\n\n<p>The pseudocode implemented above is: </p>\n\n<p><a href=\"https://i.stack.imgur.com/DRJpx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DRJpx.png\" alt=\"enter image description here\"></a></p>\n\n<p>Using the <code>NUnit</code> test</p>\n\n<pre><code>public void TestOfForwardElimination()\n        {\n            double[,] array = new double[,] { { 1, 2, 3 }, { 4, 5, 6 } };\n            NumericalMethods.ForwardElimination(array);\n            Assert.That(array, Is.EqualTo(new double[,] { { 1, 2, 3 }, { 0, -3, -6 } }));\n        }\n</code></pre>\n\n<p>there is a wrong value as follows</p>\n\n<pre><code>Message: \n      Expected and actual are both &lt;System.Double[2,3]&gt;\n      Values differ at index [1,2]\n      Expected: -6.0d\n      But was:  6.0d\n</code></pre>\n\n<p>Where is an error in code and how to fix it ?</p>\n"}, {"tags": ["c#", "mongodb", "entity-framework", "asp.net-core", "authentication"], "comments": [{"owner": {"reputation": 1191, "user_id": 4269118, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-BPhwWVVWLA8/AAAAAAAAAAI/AAAAAAAAAC0/G7y0OCgc4og/photo.jpg?sz=128", "display_name": "anatol", "link": "https://stackoverflow.com/users/4269118/anatol"}, "edited": false, "score": 0, "creation_date": 1594386944, "post_id": 59184025, "comment_id": 111116292, "body": "did you solve that?"}], "answers": [{"comments": [{"owner": {"reputation": 1074, "user_id": 1491433, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7fefea25b93cfc765357ca09a8d34428?s=128&d=identicon&r=PG", "display_name": "Kevin Burton", "link": "https://stackoverflow.com/users/1491433/kevin-burton"}, "edited": false, "score": 1, "creation_date": 1586616576, "post_id": 61124865, "comment_id": 108194403, "body": "So simply add IClientRequestParametersProvider to the controller constructor parameters? This doesn&#39;t seem to cause the method to be called. Please more detail."}, {"owner": {"reputation": 1191, "user_id": 4269118, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-BPhwWVVWLA8/AAAAAAAAAAI/AAAAAAAAAC0/G7y0OCgc4og/photo.jpg?sz=128", "display_name": "anatol", "link": "https://stackoverflow.com/users/4269118/anatol"}, "edited": false, "score": 2, "creation_date": 1594206854, "post_id": 61124865, "comment_id": 111043725, "body": "please, extend your answer. now it is just a comment"}], "tags": [], "owner": {"reputation": 1, "user_id": 13270952, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/ae8542a3e9be092454f1df94a6dbf4d2?s=128&d=identicon&r=PG", "display_name": "Arun", "link": "https://stackoverflow.com/users/13270952/arun"}, "is_accepted": false, "score": -1, "last_activity_date": 1586482134, "last_edit_date": 1586482134, "creation_date": 1586446780, "answer_id": 61124865, "question_id": 59184025, "link": "https://stackoverflow.com/questions/59184025/asp-net-core-authentication-with-nosql-database/61124865#61124865", "title": "ASP.NET Core Authentication with NoSQL database", "body": "<p>Latest 3.1 version just requires you to inject <code>IClientRequestParametersProvider (Microsoft.AspNetCore.ApiAuthorization.IdentityServer)</code> in the <code>service/controller</code> layer</p>\n"}], "owner": {"reputation": 1074, "user_id": 1491433, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7fefea25b93cfc765357ca09a8d34428?s=128&d=identicon&r=PG", "display_name": "Kevin Burton", "link": "https://stackoverflow.com/users/1491433/kevin-burton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 718, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1594228830, "creation_date": 1575490480, "last_edit_date": 1594228830, "question_id": 59184025, "link": "https://stackoverflow.com/questions/59184025/asp-net-core-authentication-with-nosql-database", "title": "ASP.NET Core Authentication with NoSQL database", "body": "<p>There have been so many changes with ASP.NET Core 3.0 that I am not sure where to start. My goal is to use MongoDB rather the SQL Server (EF) to store users and roles. I have read many answers but in particular I am looking at <a href=\"https://markjohnson.io/articles/asp-net-core-identity-without-entity-framework/\" rel=\"nofollow noreferrer\">https://markjohnson.io/articles/asp-net-core-identity-without-entity-framework/</a>. My web application is basically generated from ASP.NET Core web application with Angular. I now want to add Authorization to the web app. I have added the interceptors in Angular but when I start to debug this application I get 500 return with the stack:</p>\n\n<pre><code>System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.ApiAuthorization.IdentityServer.IClientRequestParametersProvider' while attempting to activate 'BSoftSolutions.Controllers.OidcConfigurationController'.\n   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)\n   at lambda_method(Closure , IServiceProvider , Object[] )\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass4_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass5_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location where exception was thrown ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeNextResourceFilter&gt;g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()\n--- End of stack trace from previous location where exception was thrown ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.&lt;Invoke&gt;g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)\n\nHEADERS\n=======\nAccept: */*\nAccept-Encoding: gzip, deflate, br\nAccept-Language: en-US,en;q=0.9\nConnection: close\nHost: localhost:44342\nReferer: https://localhost:44342/\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36\nsec-fetch-site: same-origin\nsec-fetch-mode: cors\n</code></pre>\n\n<p>I have an OidcConfigurationController that has a method </p>\n\n<pre><code>[HttpGet(\"_configuration/{clientId}\")]\npublic IActionResult GetClientRequestParameters([FromRoute]string clientId)\n{\n    var parameters = ClientRequestParametersProvider.GetClientParameters(HttpContext, clientId);\n    return Ok(parameters);\n}\n</code></pre>\n\n<p>But that doesn't seem to be called. And this seems the source of the exception. I am not sure what GetClientParameters is suppose to return and how this figures into the whole authorization scheme. In the end is all I am after is to force the Authorization process use MongoDB rather than MS SQL. </p>\n\n<p>I know this is a duplicate. But I am not able to tell what is applicable to Core 3.0 and Angular and what is not?</p>\n"}, {"tags": ["c#", "google-api"], "comments": [{"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1575490403, "post_id": 59183934, "comment_id": 104588435, "body": "<code>As the title says, How to handle a specific google drive account using the Google APIs</code> it seems you know that you need use a Google API, what specific issue are you having, I am not seeing one."}, {"owner": {"reputation": 1, "user_id": 11378919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/325eba5edd7a7be67c1b075380a296eb?s=128&d=identicon&r=PG&f=1", "display_name": "nedAmine", "link": "https://stackoverflow.com/users/11378919/nedamine"}, "reply_to_user": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1575553772, "post_id": 59183934, "comment_id": 104611311, "body": "i can access my current google account and the other user when he use my app he can access his account ! i simply want that the other user to access my google account through my app."}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1575554918, "post_id": 59183934, "comment_id": 104611952, "body": "Ok, what specific issue are you having, what have you tried?"}, {"owner": {"reputation": 1, "user_id": 11378919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/325eba5edd7a7be67c1b075380a296eb?s=128&d=identicon&r=PG&f=1", "display_name": "nedAmine", "link": "https://stackoverflow.com/users/11378919/nedamine"}, "reply_to_user": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1575557233, "post_id": 59183934, "comment_id": 104613300, "body": "i tried Google.Apis.Auth.OAuth2, Google.Apis.Drive.v3 to manage some files inside a google drive account (i&#39;ll add my code in the answer below) but as i said this code is to manage the current account (that refer to current user) !"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11378919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/325eba5edd7a7be67c1b075380a296eb?s=128&d=identicon&r=PG&f=1", "display_name": "nedAmine", "link": "https://stackoverflow.com/users/11378919/nedamine"}, "is_accepted": false, "score": 0, "last_activity_date": 1575558015, "creation_date": 1575558015, "answer_id": 59197882, "question_id": 59183934, "link": "https://stackoverflow.com/questions/59183934/how-to-access-a-specific-google-drive-account-through-a-multi-user-app/59197882#59197882", "title": "How to access a specific google drive account through a multi-user app?", "body": "<p>Here is my code using Google drive api and authentication : </p>\n\n<pre><code>private void btnAffFiles_Click(object sender, EventArgs e)\n    {\n        List&lt;IList&lt;Google.Apis.Drive.v3.Data.File&gt;&gt; ListFiles = Manip_GDrive.GetListElem(\"\",1000);\n        for (int i=0; i &lt; ListFiles.Count; i++)\n        {\n            RTBFiles.Text = RTBFiles.Text + \"\\nPage N\u00b0 : \" + (int)(i+1);\n            if (ListFiles[i] != null &amp;&amp; ListFiles[i].Count &gt; 0)\n            {\n                foreach (var file in ListFiles[i])\n                {\n                    Console.WriteLine(\"File Name : \" + file.Name + \" // File Id : \" + file.Id);\n                    RTBFiles.Text = RTBFiles.Text + \"\\nFile Name : \" + file.Name + \" // File Id : \" + file.Id;\n                }\n            }\n        }\n    }\n\n    static string[] Scopes = { DriveService.Scope.Drive };\n    static string ApplicationName = \"my-project\";\n\n    public static List&lt;IList&lt;Google.Apis.Drive.v3.Data.File&gt;&gt; GetListElem(string parentFolderId, int pageSize)\n    {\n        List&lt;IList&lt;Google.Apis.Drive.v3.Data.File&gt;&gt; listAllElem = new List&lt;IList&lt;Google.Apis.Drive.v3.Data.File&gt;&gt;();\n        try\n        {\n            if (InternetCnxState() == true)\n            {\n                DriveService service = Manip_GDrive.UserCredentialService(\"client_id.json\");\n                string pageToken = null;\n                do //loop for all pages \n                {\n                    var listRequest = service.Files.List();\n                    if (parentFolderId != \"\") { listRequest.Q = \"'\" + parentFolderId + \"' in parents\"; }\n                    listRequest.Spaces = \"drive\";\n                    listRequest.PageSize = pageSize;\n                    listRequest.Fields = \"nextPageToken, files(id, name)\";\n                    listRequest.PageToken = pageToken;\n                    var result = listRequest.Execute();\n                    listAllElem.Add(result.Files);\n                    pageToken = result.NextPageToken;\n                } while (pageToken != null);\n            }\n            else\n            {\n                MessageBox.Show(\"Pas de connexion internet! \\nVeuillez v\u00e9rifier votre connexion internet avant de r\u00e9essayer\", \"Hmidi Amine\", MessageBoxButtons.OK, MessageBoxIcon.Exclamation);\n            }\n        }\n        catch (Exception e)\n        {\n            MessageBox.Show(\"Une erreure s'est produite! \\nCode d'erreur : \" + e.Message, \"Hmidi Amine\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n        }\n        return listAllElem;\n    }\n\n    public static DriveService UserCredentialService(string streamJsonPath)\n    {\n        UserCredential credential;\n\n        using (var stream = new FileStream(streamJsonPath, FileMode.Open, FileAccess.Read))\n        {\n            string credPath = System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal);\n            credPath = Path.Combine(credPath, \".credentials/drive-dotnet-quickstart.json\");\n\n            credential = GoogleWebAuthorizationBroker.AuthorizeAsync(GoogleClientSecrets.Load(stream).Secrets,\n                Scopes, \"user\", CancellationToken.None, new FileDataStore(credPath, true)).Result;\n            Console.WriteLine(\"Credential file saved to: \" + credPath);\n        }\n\n        // Create Drive API service.\n        var service = new DriveService(new BaseClientService.Initializer()\n        {\n            HttpClientInitializer = credential,\n            ApplicationName = ApplicationName,\n        });\n\n        return service;\n    }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11378919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/325eba5edd7a7be67c1b075380a296eb?s=128&d=identicon&r=PG&f=1", "display_name": "nedAmine", "link": "https://stackoverflow.com/users/11378919/nedamine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575558015, "creation_date": 1575490063, "question_id": 59183934, "link": "https://stackoverflow.com/questions/59183934/how-to-access-a-specific-google-drive-account-through-a-multi-user-app", "title": "How to access a specific google drive account through a multi-user app?", "body": "<p>As the title says, How to handle a specific google drive account using the Google APIs located in an application that can be installed in multiple machines.</p>\n\n<p>Cordially.</p>\n"}, {"tags": ["c#", "wpf", "ffmpeg", "uwp", "desktop-bridge"], "comments": [{"owner": {"reputation": 12794, "user_id": 686985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE56D.jpg?s=128&g=1", "display_name": "Stefan Wick  MSFT", "link": "https://stackoverflow.com/users/686985/stefan-wick-msft"}, "edited": false, "score": 0, "creation_date": 1575490571, "post_id": 59183922, "comment_id": 104588514, "body": "Does the code work as is when you run the WPF app outside of desktop bridge?"}, {"owner": {"reputation": 521, "user_id": 2649087, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4tNSs.png?s=128&g=1", "display_name": "iNCEPTiON_", "link": "https://stackoverflow.com/users/2649087/inception"}, "reply_to_user": {"reputation": 12794, "user_id": 686985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE56D.jpg?s=128&g=1", "display_name": "Stefan Wick  MSFT", "link": "https://stackoverflow.com/users/686985/stefan-wick-msft"}, "edited": false, "score": 0, "creation_date": 1575490757, "post_id": 59183922, "comment_id": 104588606, "body": "Yes the code runs fine without the Desktop Bridge, would it help if i had a WPF Core app ?"}, {"owner": {"reputation": 521, "user_id": 2649087, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4tNSs.png?s=128&g=1", "display_name": "iNCEPTiON_", "link": "https://stackoverflow.com/users/2649087/inception"}, "reply_to_user": {"reputation": 12794, "user_id": 686985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE56D.jpg?s=128&g=1", "display_name": "Stefan Wick  MSFT", "link": "https://stackoverflow.com/users/686985/stefan-wick-msft"}, "edited": false, "score": 0, "creation_date": 1575495553, "post_id": 59183922, "comment_id": 104590375, "body": "dont understand the downvote :( is there any code missing ?"}, {"owner": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "edited": false, "score": 0, "creation_date": 1575876888, "post_id": 59183922, "comment_id": 104699039, "body": "Is it feasible to start other processes, such as starting an outlook?"}, {"owner": {"reputation": 11321, "user_id": 4184842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mD03.jpg?s=128&g=1", "display_name": "Peter Torr - MSFT", "link": "https://stackoverflow.com/users/4184842/peter-torr-msft"}, "edited": false, "score": 0, "creation_date": 1577738369, "post_id": 59183922, "comment_id": 105242799, "body": "What line raises that exception? Is the WPF app built with .NET Core or .NET Framework?"}], "owner": {"reputation": 521, "user_id": 2649087, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4tNSs.png?s=128&g=1", "display_name": "iNCEPTiON_", "link": "https://stackoverflow.com/users/2649087/inception"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575489992, "creation_date": 1575489992, "question_id": 59183922, "link": "https://stackoverflow.com/questions/59183922/c-uwp-desktop-bridge-start-ffmpeg-with-command", "title": "C# UWP Desktop Bridge start ffmpeg with command", "body": "<p>I have a UWP Application which starts a WPF app and communicates via AppServiceConnection which works well,\nwhat I want to do is to start FFmpeg / FFplay with the command to play a video.</p>\n\n<p>The code in the WPF app for starting FFmpeg / FFplay via AppServiceConnection</p>\n\n<pre><code>private void Connection_RequestReceivedAsync(AppServiceConnection sender, AppServiceRequestReceivedEventArgs args)\n        {\n            var value = args.Request.Message[\"REQUEST\"] as string;\n            switch (value)\n            {\n                case \"StartFFmpeg\":\n                    Test();\n                    break;\n            }\n        }\n\n        private void Test()\n        {\n            var process = new Process();\n            process.StartInfo.RedirectStandardOutput = true;\n            process.StartInfo.RedirectStandardError = true;\n            process.StartInfo.FileName = Path.GetDirectoryName(Process.GetCurrentProcess().MainModule.FileName) + @\"\\ffplay.exe\";\n            process.StartInfo.Arguments = @\"-i C:\\Users\\test\\video.mp4\";\n\n\n            process.StartInfo.UseShellExecute = false;\n            process.StartInfo.CreateNoWindow = true;\n            process.Start();\n        }\n</code></pre>\n\n<p>this fails with the following error in the UWP app:</p>\n\n<pre><code>The target process exited without raising a CoreCLR started event. Ensure that the target process is configured to use .NET Core. This may be expected if the target process did not run on .NET Core.\nThe program '[16824] FFmpeg.Bridge.exe' has exited with code -532462766 (0xe0434352).\n</code></pre>\n\n<p>now my question is, is it possible to start FFmpeg / FFplay with the desktop bridge? or can we only start .net core processes, the process is running with full privileges so why is that not possible? </p>\n\n<p>The UWP App won't be published on the store, it will only run on a local windows machine.</p>\n"}, {"tags": ["c#", "cmd"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1575490061, "post_id": 59183911, "comment_id": 104588299, "body": "Please show the code that isn&#39;t working. How are you launching the <code>cmd.exe</code> process from your UI code?"}, {"owner": {"reputation": 1515, "user_id": 4114782, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/a7a894ffea3afedf3f70c7cc54fa7518?s=128&d=identicon&r=PG&f=1", "display_name": "Duston", "link": "https://stackoverflow.com/users/4114782/duston"}, "edited": false, "score": 1, "creation_date": 1575490208, "post_id": 59183911, "comment_id": 104588358, "body": "Are you including the path to msg.exe from your C# program?"}], "answers": [{"tags": [], "owner": {"reputation": 155, "user_id": 10658826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26088d1077d333681b93f879db1d37f5?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Lynch", "link": "https://stackoverflow.com/users/10658826/matt-lynch"}, "is_accepted": true, "score": 0, "last_activity_date": 1575491908, "creation_date": 1575491908, "answer_id": 59184348, "question_id": 59183911, "link": "https://stackoverflow.com/questions/59183911/command-line-command-wont-run/59184348#59184348", "title": "Command line command won&#39;t run", "body": "<p>Nevermind, coworker helped me, it was a setting in Project>Project Properties>Build>Platform Target and changed that to x64. Apparently it wasn't opening C:\\Windows\\System32, it was actually opening C:\\Windows\\Syswow64 but labeling itself as system32.</p>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1575491956, "creation_date": 1575491956, "answer_id": 59184356, "question_id": 59183911, "link": "https://stackoverflow.com/questions/59183911/command-line-command-wont-run/59184356#59184356", "title": "Command line command won&#39;t run", "body": "<p>To run these commands, normally you'd use the <code>System.Diagnostics.Process</code> class to start the <code>cmd.exe</code> process, and then pass the command to the window:</p>\n\n<pre><code>Process.Start(\"cmd.exe\", \n    $\"/C msg /server:{txtServer.Text} {txtUser.Text} \\\"{txtMessage.Text}\\\"\");\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 10658826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26088d1077d333681b93f879db1d37f5?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Lynch", "link": "https://stackoverflow.com/users/10658826/matt-lynch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 59184348, "answer_count": 2, "score": -1, "last_activity_date": 1575491956, "creation_date": 1575489940, "last_edit_date": 1575490082, "question_id": 59183911, "link": "https://stackoverflow.com/questions/59183911/command-line-command-wont-run", "title": "Command line command won&#39;t run", "body": "<p>I am trying to make a UI for some of the new Windows 10 Commands that have become useful to us. I am trying to make a UI that has three text boxes, one for the computer name, the username, and the message in order to utilize the msg command. When I run the command on my normal CMD, I would type <code>msg /server:matthewl mlynch \"hello\"</code>,this will display a little message on my screen saying hello. However, when I try to run it from my c# ui, I get this </p>\n\n<blockquote>\n  <p>'msg' is not recognized as an internal or external command,\n      operable program or batch file.</p>\n</blockquote>\n\n<p>As you can probably tell, this is not correct as it works when I launch command line and manually input but not when the UI runs the command.</p>\n"}, {"tags": ["c#", "razorengine"], "answers": [{"tags": [], "owner": {"reputation": 12628, "user_id": 12339804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/677529a68dbdac610158cfc55ec65aec?s=128&d=identicon&r=PG&f=1", "display_name": "timur", "link": "https://stackoverflow.com/users/12339804/timur"}, "is_accepted": false, "score": 0, "last_activity_date": 1575506039, "creation_date": 1575506039, "answer_id": 59186546, "question_id": 59183884, "link": "https://stackoverflow.com/questions/59183884/text-color-formating-razor-view-engine-c/59186546#59186546", "title": "Text color formating Razor View Engine C#", "body": "<p>I am assuming you're after some CSS advice here. Styling is done with CSS: <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/color\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/CSS/color</a>. You can style inline, but generally speaking you should always consider using CSS classes.</p>\n\n<pre><code>// this normally goes into the `&lt;head&gt;` section of your view\n&lt;style type=\"text/css\"&gt;\n    .long-word {\n        color: red\n    }\n&lt;/style&gt;\n// ..........................\n   &lt;div&gt;\n        &lt;p&gt;@word&lt;/p&gt; \n        @if(word.Length &lt;4) &lt;!--anything under 4 char will be known as a short word.--&gt;\n        {\n        &lt;p&gt;@word is a short word&lt;/p&gt;\n        }\n        @elseif(word.StartsWith(\"x\")) &lt;!-- this is your check--&gt;\n        {\n        &lt;p class=\"long-word\"&gt;@word&lt;/p&gt; &lt;!-- and this is where you apply your style  --&gt;\n        }\n  &lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12071898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/722c294389a227f5ad4edc98e8422c97?s=128&d=identicon&r=PG&f=1", "display_name": "solabang", "link": "https://stackoverflow.com/users/12071898/solabang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575506039, "creation_date": 1575489783, "last_edit_date": 1575489841, "question_id": 59183884, "link": "https://stackoverflow.com/questions/59183884/text-color-formating-razor-view-engine-c", "title": "Text color formating Razor View Engine C#", "body": "<p>I am learning C# and have a requirement for the problem I am working on. The task states: </p>\n\n<blockquote>\n  <p>If the string in the array begins with the letter x, style the <code>&lt;p&gt;</code> element with red text.</p>\n</blockquote>\n\n<p>How might I go about doing this?\nI understand how to set it up </p>\n\n<pre><code>       &lt;div&gt;\n            &lt;p&gt;@word&lt;/p&gt;\n            @if(word.Length &lt;4) &lt;!--anything under 4 char will be known as a short word.--&gt;\n            {\n            &lt;p&gt;@word is a short word&lt;/p&gt;\n            }\n            @elseif(word &lt;!--beginning with c should be red--&gt;) &lt;!-- I don't know if \"elseif\" is usable or appropriate here--&gt;\n            {\n            &lt;p&gt;@word &lt;!-- but you know, in red--&gt;&lt;/p&gt;\n            }\n      &lt;/div&gt;\n</code></pre>\n\n<p>I apologize if this has been asked, I searched and did not find anything myself.</p>\n"}, {"tags": ["c#", "speech-to-text", "microsoft-cognitive"], "answers": [{"comments": [{"owner": {"reputation": 11786, "user_id": 349974, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/beba73a336e49804c2e11c8621202d00?s=128&d=identicon&r=PG", "display_name": "Joshua Frank", "link": "https://stackoverflow.com/users/349974/joshua-frank"}, "edited": false, "score": 0, "creation_date": 1603717219, "post_id": 59186695, "comment_id": 114115356, "body": "Is there a bug report for this so we can track if it&#39;s been fixed?"}], "tags": [], "owner": {"reputation": 61, "user_id": 12394079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3f5bae14a22666e4fd0ee9cdc0618de?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Hurey", "link": "https://stackoverflow.com/users/12394079/ryan-hurey"}, "is_accepted": true, "score": 1, "last_activity_date": 1575507444, "creation_date": 1575507444, "answer_id": 59186695, "question_id": 59183797, "link": "https://stackoverflow.com/questions/59183797/microsoft-cognitiveservices-speech-detailedspeechrecognitionresultcollection-err/59186695#59186695", "title": "Microsoft.CognitiveServices.Speech.DetailedSpeechRecognitionResultCollection error", "body": "<p>It's a bug in the data type the extension is using for the offset. An int can only track ~214s of audio.</p>\n\n<p>You can access the raw JSON that the Best() method is using from the result's property collection through the <code>SpeechServiceResponse_JsonResult</code> property until a fix is available.</p>\n"}], "owner": {"reputation": 51, "user_id": 12481911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aVpwB.jpg?s=128&g=1", "display_name": "Gunnar S.", "link": "https://stackoverflow.com/users/12481911/gunnar-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 59186695, "answer_count": 1, "score": 1, "last_activity_date": 1575507444, "creation_date": 1575489471, "question_id": 59183797, "link": "https://stackoverflow.com/questions/59183797/microsoft-cognitiveservices-speech-detailedspeechrecognitionresultcollection-err", "title": "Microsoft.CognitiveServices.Speech.DetailedSpeechRecognitionResultCollection error", "body": "<p>We're experimenting with speech-to-text using Microsoft Cognitive Services. One of our requirements is to have word level timestamps. This works fine with short wav files, say, 2-3 minutes of audio, but with larger files we're getting an error:\n\"There was an error deserializing the object of type Microsoft.CognitiveServices.Speech.DetailedSpeechRecognitionResultCollection. The value '2152200000' cannot be parsed as the type 'Int32'.\"</p>\n\n<p>Any and all hints as to how I can get around this would be greatly appreciated. Thanks in advance!</p>\n\n<p>Code snippet:</p>\n\n<pre><code>    config.OutputFormat = OutputFormat.Detailed;\n    config.RequestWordLevelTimestamps();\n\n    using (var audioInput = AudioConfig.FromWavFileInput(wavfile))\n    {\n        using var recognizer = new SpeechRecognizer(config, audioInput);\n\n        recognizer.Recognized += (s, e) =&gt;\n        {\n            if (e.Result.Reason == ResultReason.RecognizedSpeech)\n            {\n                var framesStart = TimeSpan.FromTicks(e.Result.OffsetInTicks).TotalMilliseconds / 40;\n                var te = new TranscriptElement((long)framesStart, e.Result.Text, languageCode);\n                // Eventually fails on the following line:\n                var words = e.Result.Best().OrderByDescending(x =&gt; x.Confidence).First().Words;\n                foreach (var w in words.OrderBy(w =&gt; w.Offset))\n                {\n                    var start = TimeSpan.FromTicks(w.Offset).TotalMilliseconds / 40;\n                    var duration = TimeSpan.FromTicks(w.Duration).TotalMilliseconds / 40;\n                    te.SingleWords.Add(new TranscriptSingleWord((long)start, (long)(start + duration), w.Word));\n                }\n\n                transcriptElements.Add(te);\n            }\n            else if (e.Result.Reason == ResultReason.NoMatch)\n            {\n                _logger.LogError($\"NOMATCH: Speech could not be recognized.\");\n            }\n        };\n        await recognizer.StartContinuousRecognitionAsync().ConfigureAwait(false);\n\n        Task.WaitAny(new[] { stopRecognition.Task });\n\n        await recognizer.StopContinuousRecognitionAsync().ConfigureAwait(false);\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "iis"], "comments": [{"owner": {"reputation": 2502, "user_id": 3311001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011dc5bf6a350b0334887a89ce06038f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Faltesek", "link": "https://stackoverflow.com/users/3311001/tom-faltesek"}, "edited": false, "score": 1, "creation_date": 1575489874, "post_id": 59183755, "comment_id": 104588237, "body": "After a publish/IIS reset, either manually submit an HTTP request or automatically submit one with a service."}, {"owner": {"reputation": 2502, "user_id": 3311001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011dc5bf6a350b0334887a89ce06038f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Faltesek", "link": "https://stackoverflow.com/users/3311001/tom-faltesek"}, "edited": false, "score": 1, "creation_date": 1575489984, "post_id": 59183755, "comment_id": 104588278, "body": "Here&#39;s a <a href=\"https://uptimerobot.com/\" rel=\"nofollow noreferrer\">free 3rd-party service</a> you can use to hit a URL every 5 minutes, essentially keeping your application &quot;warm&quot;."}, {"owner": {"reputation": 527, "user_id": 6697480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7e6861321fd88660ad891e01ef41d23?s=128&d=identicon&r=PG&f=1", "display_name": "philipp-fx", "link": "https://stackoverflow.com/users/6697480/philipp-fx"}, "reply_to_user": {"reputation": 2502, "user_id": 3311001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011dc5bf6a350b0334887a89ce06038f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Faltesek", "link": "https://stackoverflow.com/users/3311001/tom-faltesek"}, "edited": false, "score": 0, "creation_date": 1575490494, "post_id": 59183755, "comment_id": 104588484, "body": "Thank you for the suggestions! Unfortunately, sending a manual request is not an option (must be automized and singletons must be instantiated immediately on webservice restart and redeploy), and sending a request every X timeframe leads to the risk of X time long no services being initialized."}, {"owner": {"reputation": 15643, "user_id": 7609093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lwHJH.png?s=128&g=1", "display_name": "Brando Zhang", "link": "https://stackoverflow.com/users/7609093/brando-zhang"}, "edited": false, "score": 1, "creation_date": 1575512355, "post_id": 59183755, "comment_id": 104594543, "body": "In my opinion. I suggest you could try to use IIS Initialization to achieve your requirement , autowarm up the application after it started. You could add below config in the web.config after installed the  IIS Initialization from control panel.<code>&lt;applicationInitialization     remapManagedRequestsTo=&quot;Startup.htm&quot;      skipManagedModules=&quot;true&quot; &gt;   &lt;add initializationPage=&quot;&#47;default.aspx&quot; &#47;&gt; &lt;&#47;applicationInitialization&gt;</code> Details <a href=\"https://docs.microsoft.com/en-us/iis/get-started/whats-new-in-iis-8/iis-80-application-initialization\" rel=\"nofollow noreferrer\">article</a>."}], "answers": [{"comments": [{"owner": {"reputation": 527, "user_id": 6697480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7e6861321fd88660ad891e01ef41d23?s=128&d=identicon&r=PG&f=1", "display_name": "philipp-fx", "link": "https://stackoverflow.com/users/6697480/philipp-fx"}, "edited": false, "score": 1, "creation_date": 1576060419, "post_id": 59184181, "comment_id": 104773290, "body": "Thank your for all the options! They inspired me to come up with the following solution to my specific problem: I created a Windows Scheduled Task that sends via Powershell an HTTP GET request to a &quot;keepWarm&quot; endpoint every minute."}, {"owner": {"reputation": 2502, "user_id": 3311001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011dc5bf6a350b0334887a89ce06038f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Faltesek", "link": "https://stackoverflow.com/users/3311001/tom-faltesek"}, "reply_to_user": {"reputation": 527, "user_id": 6697480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7e6861321fd88660ad891e01ef41d23?s=128&d=identicon&r=PG&f=1", "display_name": "philipp-fx", "link": "https://stackoverflow.com/users/6697480/philipp-fx"}, "edited": false, "score": 0, "creation_date": 1576102707, "post_id": 59184181, "comment_id": 104794337, "body": "Oh - That&#39;s a pretty good solution, too. I didn&#39;t know you could set up a scheduled task to trigger powershell scripts. Glad you found something that works."}], "tags": [], "owner": {"reputation": 2502, "user_id": 3311001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011dc5bf6a350b0334887a89ce06038f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Faltesek", "link": "https://stackoverflow.com/users/3311001/tom-faltesek"}, "is_accepted": true, "score": 4, "last_activity_date": 1575491595, "last_edit_date": 1575491595, "creation_date": 1575491203, "answer_id": 59184181, "question_id": 59183755, "link": "https://stackoverflow.com/questions/59183755/how-to-warmup-an-asp-net-core-app-hosted-in-iis-a-on-website-restart-and-b-o/59184181#59184181", "title": "How to warmup an asp.net core app hosted in IIS (a) on website restart and (b) on redeploy?", "body": "<p>There are many options to automatically send HTTP requests to your web application.</p>\n\n<ul>\n<li><a href=\"https://uptimerobot.com/\" rel=\"nofollow noreferrer\">Uptimerobot</a> is one of many free third-party services that will periodically send requests to your web application.</li>\n<li>Create and host your own Windows service (assuming you lean towards Microsoft solutions) that hits your web service at any frequency you wish.</li>\n<li>Create an Azure Function (or AWS Lambda) with a <a href=\"https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-timer?tabs=csharp\" rel=\"nofollow noreferrer\">timer trigger</a> to hit your web service at any frequency you wish.</li>\n<li>Setup a release with tools like <a href=\"https://azure.microsoft.com/en-us/services/devops/\" rel=\"nofollow noreferrer\">Azure DevOps</a> that includes a post-release task that sends a request to your web application.</li>\n<li>Install and configure the <a href=\"https://docs.microsoft.com/en-us/iis/get-started/whats-new-in-iis-8/iis-80-application-initialization\" rel=\"nofollow noreferrer\">IIS Application Initialization Module</a> to perform warmup tasks.</li>\n</ul>\n"}], "owner": {"reputation": 527, "user_id": 6697480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7e6861321fd88660ad891e01ef41d23?s=128&d=identicon&r=PG&f=1", "display_name": "philipp-fx", "link": "https://stackoverflow.com/users/6697480/philipp-fx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1918, "favorite_count": 0, "accepted_answer_id": 59184181, "answer_count": 1, "score": 2, "last_activity_date": 1575491595, "creation_date": 1575489274, "last_edit_date": 1575489761, "question_id": 59183755, "link": "https://stackoverflow.com/questions/59183755/how-to-warmup-an-asp-net-core-app-hosted-in-iis-a-on-website-restart-and-b-o", "title": "How to warmup an asp.net core app hosted in IIS (a) on website restart and (b) on redeploy?", "body": "<p>I am hosting an asp.net core 2.0 app in IIS. The app is only started when at least one web request was sent to the website. However, I need the app to start when the app is (a) restarted in IIS and (b) on redployment (publish to folder). By \"start\" I mean that the <code>Startup</code> Class is constructed and its ConfigureServices(...) and Configure(...) methods are called, because I have configured a few singleton services that need to be instantiated as soon as the web host is started and not just as soon as the first web request comes in.</p>\n\n<p>Here is the entry point of my app:</p>\n\n<pre><code>public class Program\n{\n    public static void Main(string[] args)\n    {\n        Log.Logger = new LoggerConfiguration()\n            .MinimumLevel.Debug()\n            .MinimumLevel.Override(\"Microsoft\", LogEventLevel.Information)\n            .Enrich.FromLogContext()\n            .WriteTo.File(\"log.txt\", rollOnFileSizeLimit: true, fileSizeLimitBytes: 10485760, retainedFileCountLimit: 10) // 10485760 Bytes = 10Megabytes\n            .CreateLogger();\n\n        try\n        {\n            Log.Information(\"Starting web host\");\n            BuildWebHost(args).Run();\n        }\n        catch (Exception ex)\n        {\n            Log.Fatal(ex, \"Host terminated unexpectedly\");\n        }\n        finally\n        {\n            Log.CloseAndFlush();\n        }\n\n    }\n\n    public static IWebHost BuildWebHost(string[] args) =&gt;\n        WebHost.CreateDefaultBuilder(args)\n            .UseKestrel()\n            .UseContentRoot(Directory.GetCurrentDirectory())\n            .UseIISIntegration()\n            .UseStartup&lt;Startup&gt;()\n            .Build();\n}\n</code></pre>\n"}, {"tags": ["c#", "sorting", "arraylist"], "comments": [{"owner": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "edited": false, "score": 0, "creation_date": 1575489333, "post_id": 59183709, "comment_id": 104588025, "body": "you&#39;ve called sort with a lower case &#39;s&#39; - so this wont compile. Assuming that&#39;s a mistake in the question. why haven&#39;t you tried what the example says list.Sort((a,b) =&gt; a.PostalAddress.CompareTo(b.PostalAddress))  ?"}, {"owner": {"reputation": 28, "user_id": 12406678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256800d06b8aaaeadd1c33444f280c0e?s=128&d=identicon&r=PG&f=1", "display_name": "bread holding", "link": "https://stackoverflow.com/users/12406678/bread-holding"}, "reply_to_user": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "edited": false, "score": 0, "creation_date": 1575489524, "post_id": 59183709, "comment_id": 104588097, "body": "it gives an error that says, cannot convert lamba expressions to type &#39;|Comparer&#39; because it is not a delegate type"}, {"owner": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "edited": false, "score": 0, "creation_date": 1575489842, "post_id": 59183709, "comment_id": 104588227, "body": "the method you are trying to use is static, you need to to call Array.Sort(list,(a,b) =&gt; a.PostalAddress.CompareTo(b.PostalAddress))"}, {"owner": {"reputation": 92, "user_id": 1935499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iZaHW.jpg?s=128&g=1", "display_name": "nima habibollahi", "link": "https://stackoverflow.com/users/1935499/nima-habibollahi"}, "edited": false, "score": 0, "creation_date": 1575490563, "post_id": 59183709, "comment_id": 104588510, "body": "have you tried this:<a href=\"https://stackoverflow.com/questions/32235684/sort-arraylist-with-two-dimensional-objects\" title=\"sort arraylist with two dimensional objects\">stackoverflow.com/questions/32235684/&hellip;</a>   ?"}, {"owner": {"reputation": 761, "user_id": 6923146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9PBi3.jpg?s=128&g=1", "display_name": "Hardik Masalawala", "link": "https://stackoverflow.com/users/6923146/hardik-masalawala"}, "edited": false, "score": 0, "creation_date": 1578371340, "post_id": 59183709, "comment_id": 105407502, "body": "Verified solution please check this <a href=\"https://stackoverflow.com/a/57371579/6923146\">stackoverflow.com/a/57371579/6923146</a>"}], "answers": [{"comments": [{"owner": {"reputation": 28, "user_id": 12406678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256800d06b8aaaeadd1c33444f280c0e?s=128&d=identicon&r=PG&f=1", "display_name": "bread holding", "link": "https://stackoverflow.com/users/12406678/bread-holding"}, "edited": false, "score": 0, "creation_date": 1575490425, "post_id": 59183914, "comment_id": 104588448, "body": "i get two errors when i do this  1 .<code>argument 1: cannot convert System.Collections.arraylist to system.array</code>  2 .<code>cannot convert lambda expression to type array because it is not a delegate type</code>"}, {"owner": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "reply_to_user": {"reputation": 28, "user_id": 12406678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256800d06b8aaaeadd1c33444f280c0e?s=128&d=identicon&r=PG&f=1", "display_name": "bread holding", "link": "https://stackoverflow.com/users/12406678/bread-holding"}, "edited": false, "score": 0, "creation_date": 1575490623, "post_id": 59183914, "comment_id": 104588547, "body": "sorry my apologies. I hadn&#39;t clicked you were used ArrayList ... why are you using ArrayList???"}, {"owner": {"reputation": 28, "user_id": 12406678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256800d06b8aaaeadd1c33444f280c0e?s=128&d=identicon&r=PG&f=1", "display_name": "bread holding", "link": "https://stackoverflow.com/users/12406678/bread-holding"}, "edited": false, "score": 0, "creation_date": 1575490900, "post_id": 59183914, "comment_id": 104588667, "body": "i am not really sure but i have used it throughout the program i think its too late for me to change because i would need to change it through out my software :(  please tell me there is a walk around for array list"}, {"owner": {"reputation": 28, "user_id": 12406678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256800d06b8aaaeadd1c33444f280c0e?s=128&d=identicon&r=PG&f=1", "display_name": "bread holding", "link": "https://stackoverflow.com/users/12406678/bread-holding"}, "edited": false, "score": 0, "creation_date": 1575491565, "post_id": 59183914, "comment_id": 104588947, "body": "i have changed it to list since array list doesn&#39;t really support lamba functions  just not sure what is the speedyness of the sorting if it has more than 25 thousand data  well anyways thank for the assist :)"}], "tags": [], "owner": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "is_accepted": true, "score": 0, "last_activity_date": 1575490939, "last_edit_date": 1575490939, "creation_date": 1575489953, "answer_id": 59183914, "question_id": 59183709, "link": "https://stackoverflow.com/questions/59183709/sort-custom-array-list-with-a-specific-field/59183914#59183914", "title": "sort custom array list with a specific field", "body": "<p>First stop using ArrayList - its as good as obsolete.</p>\n\n<p>Either using Array like this</p>\n\n<pre><code>var list = MyCustomList[2];\nlist[0] = new MyCustomList(...\nlist[1] = new MyCustomList(....\n</code></pre>\n\n<p>or use something like the <code>List&lt;T&gt;</code> class</p>\n\n<pre><code>var list = new List&lt;MyCustomList&gt;();\nlist.Add(new MyCustomList(...\nlist.Add(new MyCustomList(...\n</code></pre>\n\n<p>If you use array then the Sort function that takes an instance of <code>Comparison&lt;T&gt;</code> is static</p>\n\n<p>see the documentation here <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.array.sort?view=netframework-4.8#System_Array_Sort__1___0___System_Comparison___0__\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.array.sort?view=netframework-4.8#System_Array_Sort__1___0___System_Comparison___0__</a></p>\n\n<p>you need to call it like so:</p>\n\n<p><code>Array.Sort(list, (a,b) =&gt; a.PostalAddress.CompareTo(b.PostalAddress))</code></p>\n\n<p>or use linq on your List or Array and use OrderBy</p>\n\n<pre><code>var orderedList = list.OrderBy(a =&gt; a.PostalAddress);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13422, "user_id": 8126362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BvD4C.jpg?s=128&g=1", "display_name": "Johnathan Barclay", "link": "https://stackoverflow.com/users/8126362/johnathan-barclay"}, "is_accepted": false, "score": 2, "last_activity_date": 1575490531, "creation_date": 1575490531, "answer_id": 59184036, "question_id": 59183709, "link": "https://stackoverflow.com/questions/59183709/sort-custom-array-list-with-a-specific-field/59184036#59184036", "title": "sort custom array list with a specific field", "body": "<p>Do you really need to use <code>ArrayList</code>?</p>\n\n<p>It's a relic from the pre-generics days of .NET, and you should really be using an implementation of <code>IEnumerable&lt;T&gt;</code> where possible e.g. <code>List&lt;T&gt;</code>.</p>\n\n<p>LINQ operates on <code>IEnumerable&lt;T&gt;</code>, so won't work with your <code>ArrayList</code>, and the method you are looking for is <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.orderby?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>OrderBy</code></a> or <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.orderbydescending?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>OrderByDescending</code></a>.</p>\n\n<p>Example:</p>\n\n<pre><code>var list = new List&lt;MyCustomList&gt;();\nlist.Add(new MyCustomList(\"A somename\",\"A Fake Postal Address\"));\nlist.Add(new MyCustomList(\"B somename\",\"B Fake Postal Address\"));\n\nlist.OrderBy(cl =&gt; cl.Postcode); // Sort by Postal address\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 761, "user_id": 6923146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9PBi3.jpg?s=128&g=1", "display_name": "Hardik Masalawala", "link": "https://stackoverflow.com/users/6923146/hardik-masalawala"}, "is_accepted": false, "score": 0, "last_activity_date": 1578374022, "last_edit_date": 1578374022, "creation_date": 1578372754, "answer_id": 59622349, "question_id": 59183709, "link": "https://stackoverflow.com/questions/59183709/sort-custom-array-list-with-a-specific-field/59622349#59622349", "title": "sort custom array list with a specific field", "body": "<p>Already approved by many <a href=\"https://stackoverflow.com/a/57371579/6923146\">https://stackoverflow.com/a/57371579/6923146</a></p>\n\n<p><strong>For order wise sorting with a specific field in c# using linq</strong> </p>\n\n<pre><code>list = list.OrderByDescending(x =&gt; x.Name).ToList();\nlist = list.OrderBy(x =&gt; x.Name).ToList();\n//list.OrderBy(x =&gt; x.YourClassSpecificField).ToList()\n</code></pre>\n\n<blockquote>\n  <p>Example:</p>\n</blockquote>\n\n<p>please try to run following code in fiddle :</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\n\npublic class Program\n{\n    public static void Main()\n    {\n        List&lt;MyCustomList&gt; list = new List&lt;MyCustomList&gt;();\n\n            list.Add(new MyCustomList(\"A somename\", \"A Fake Postal Address\"));\n            list.Add(new MyCustomList(\"B somename\", \"B Fake Postal Address\"));\n\n            //list.Sort();\n            Console.WriteLine(\"descending order\");\n            list = list.OrderByDescending(x =&gt; x.Name).ToList();\n            foreach (MyCustomList o in list)\n            {\n                Console.WriteLine(o.Name + \" -- \" + o.PostalAddress );\n            }\n            Console.WriteLine(\"ascending order\");\n            list = list.OrderBy(x =&gt; x.Name).ToList();\n            foreach (MyCustomList o in list)\n            {\n                Console.WriteLine(o.Name + \" -- \" + o.PostalAddress );\n            }\n    }\n\n    public class MyCustomList\n    {\n        private string name;\n        private string postalAddress;\n        public string Name\n        {\n            get { return name; }\n            set { name = value; }\n        }\n        public string PostalAddress\n        {\n            get { return postalAddress; }\n            set { postalAddress = value; }\n        }\n        public MyCustomList(string name, string postalAddress)\n        {\n            this.name = name;\n            this.postalAddress = postalAddress;\n        }\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 28, "user_id": 12406678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256800d06b8aaaeadd1c33444f280c0e?s=128&d=identicon&r=PG&f=1", "display_name": "bread holding", "link": "https://stackoverflow.com/users/12406678/bread-holding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 59183914, "answer_count": 3, "score": 0, "last_activity_date": 1578374022, "creation_date": 1575489075, "last_edit_date": 1575489423, "question_id": 59183709, "link": "https://stackoverflow.com/questions/59183709/sort-custom-array-list-with-a-specific-field", "title": "sort custom array list with a specific field", "body": "<p>i would like to sort by postal address but i am unable to i have seen some Linq functions tried them but i can't seem to get all the required parameters needed.\nfor example i saw this one example</p>\n\n<pre><code>list.Sort((p, q) =&gt; p.Category.CompareTo(q.Category)); /*has and error that says  cannot convert lamba expressions to type '|Comparer' because it is not a delegate*/\n</code></pre>\n\n<p>but i dont seem to understand how to use it.</p>\n\n<p><strong>MyCustomList.cs</strong></p>\n\n<pre><code>  class MyCustomList\n    {\n        private string name;\n        private string postalAddress;\n\n\n    public MyCustomList(string name, string postalAddress)\n        {\n            this.name = name;\n            this.postalAddress = postalAddress;\n        }\n\n//getters and setters\n   public string Name\n        {\n            get\n            {\n                return name;\n            }\n\n            set\n            {\n                name = value;\n            }\n        }\n\n        public string PostalAddress\n        {\n            get\n            {\n                return postalAddress;\n            }\n\n            set\n            {\n                postalAddress = value;\n            }\n        }\n}\n</code></pre>\n\n<p><strong>Form1.cs</strong></p>\n\n<pre><code> ArrayList list = new ArrayList();\n list.Add(new MyCustomList(\"A somename\",\"A Fake Postal Address\");\n list.Add(new MyCustomList(\"B somename\",\"B Fake Postal Address\");\n\nlist.Sort(); // Sort by Postal adress\n</code></pre>\n"}, {"tags": ["c#", "json", "deserialization", "json-deserialization"], "comments": [{"owner": {"reputation": 101, "user_id": 4663200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/441c4ede2ed616c27662f121ce7bf4c4?s=128&d=identicon&r=PG", "display_name": "MaCron", "link": "https://stackoverflow.com/users/4663200/macron"}, "edited": false, "score": 0, "creation_date": 1575489359, "post_id": 59183638, "comment_id": 104588033, "body": "Your inner sections (propa, propb and prop1, prop2) are going to deserialize as JSON arrays and not something you can deserialize into classes like you want.  You will have to navigate through the array and get the data."}], "answers": [{"tags": [], "owner": {"reputation": 5172, "user_id": 1411104, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d76247ee9f2ba6c7c79fc5cea3e8fba2?s=128&d=identicon&r=PG", "display_name": "MistyK", "link": "https://stackoverflow.com/users/1411104/mistyk"}, "is_accepted": false, "score": 1, "last_activity_date": 1575489450, "creation_date": 1575489450, "answer_id": 59183786, "question_id": 59183638, "link": "https://stackoverflow.com/questions/59183638/c-how-do-i-correctly-deserialize-multiple-custom-objects-in-an-array-to-an-obje/59183786#59183786", "title": "C# How do I correctly deserialize multiple custom objects in an array to an object?", "body": "<p>Firstly change fields to properties. Then the easiest way here is to create one common object representing both objects like this:</p>\n\n<pre><code>public class Class1\n{   \n    public string PropertyA {get;set;}\n    public string PropertyB {get;set;}\n    public int Property01 {get;set;}\n    public int Property02 {get;set;}\n}\n\npublic class MainClass\n{\n    public List&lt;Class1&gt; Lines;\n}\n</code></pre>\n\n<p>and deserialization would look like this:</p>\n\n<pre><code> MainClass actual = JsonConvert.DeserializeObject&lt;MainClass&gt;(json);\n</code></pre>\n\n<p>If you change class definition of Class1 to object with nullable properties you'll be able to detect if property existed in the json to differentiate between both objects:</p>\n\n<pre><code>public class Class1\n{   \n    public string PropertyA {get;set;}\n    public string PropertyB {get;set;}\n    public int? Property01 {get;set;}\n    public int? Property02 {get;set;}\n}\n</code></pre>\n\n<p>Another way is to use JArray and continue with your logic using this object:</p>\n\n<pre><code>JArray arr = JArray.Parse(json);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 4445930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EAgV9.jpg?s=128&g=1", "display_name": "Rye", "link": "https://stackoverflow.com/users/4445930/rye"}, "edited": false, "score": 0, "creation_date": 1575899813, "post_id": 59184193, "comment_id": 104710426, "body": "Thank you. Parsing it myself like you&#39;ve shown here probably is the best way for me to do it while keeping my classes separate."}], "tags": [], "owner": {"reputation": 86, "user_id": 8725939, "user_type": "registered", "profile_image": "https://graph.facebook.com/1240788726004071/picture?type=large", "display_name": "Jo&#227;o Rafael Colombo", "link": "https://stackoverflow.com/users/8725939/jo%c3%a3o-rafael-colombo"}, "is_accepted": true, "score": 1, "last_activity_date": 1575491268, "creation_date": 1575491268, "answer_id": 59184193, "question_id": 59183638, "link": "https://stackoverflow.com/questions/59183638/c-how-do-i-correctly-deserialize-multiple-custom-objects-in-an-array-to-an-obje/59184193#59184193", "title": "C# How do I correctly deserialize multiple custom objects in an array to an object?", "body": "<p>You can verify the propriety name and deserialize  in right object like that</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n\n        var class1List = new List&lt;Class1&gt;();\n        var class2List = new List&lt;Class2&gt;();\n        var genericList = new List&lt;dynamic&gt;();\n\n        var actual = JsonConvert.DeserializeObject&lt;dynamic&gt;(json);\n        foreach (var item in actual.Lines)\n        {\n\n            string itemJson = JsonConvert.SerializeObject(item);\n            if (itemJson.Contains(\"PropertyA\"))\n            {\n                var class1 = JsonConvert.DeserializeObject&lt;Class1&gt;(itemJson);\n                class1List.Add(class1);\n                genericList.Add(class1);\n            }\n            else\n            {\n                var class2 = JsonConvert.DeserializeObject&lt;Class2&gt;(itemJson);\n                class2List.Add(class2);\n                genericList.Add(class2);\n            }\n        }\n    }\n}\n\npublic class Class1\n{\n    public string PropertyA;\n    public string PropertyB;\n}\n\npublic class Class2\n{\n    public int Property01;\n    public int Property02;\n}\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 4445930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EAgV9.jpg?s=128&g=1", "display_name": "Rye", "link": "https://stackoverflow.com/users/4445930/rye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 59184193, "answer_count": 2, "score": 0, "last_activity_date": 1575876281, "creation_date": 1575488802, "last_edit_date": 1575876281, "question_id": 59183638, "link": "https://stackoverflow.com/questions/59183638/c-how-do-i-correctly-deserialize-multiple-custom-objects-in-an-array-to-an-obje", "title": "C# How do I correctly deserialize multiple custom objects in an array to an object?", "body": "<p>I am retrieving a json object with an array, which contains multiple object types.</p>\n\n<p>Given I retrieve a JSON payload that looks like this: </p>\n\n<pre><code>{\n   \"Lines\": [\n   {\n       \"PropertyA\": \"A\",\n       \"PropertyB\": \"B\"\n   },\n   {\n       \"Property01\": 1,\n       \"Property02\": 2\n   }]\n}\n</code></pre>\n\n<p>I want to deserialize this into a single object list. </p>\n\n<p>Example: </p>\n\n<pre><code>public List&lt;Line&gt; Lines;\n</code></pre>\n\n<p>So I can compare the object with one I expect.</p>\n\n<p>What I have so far:</p>\n\n<pre><code>public class Class1\n{\n    public string PropertyA = \"A\";\n    public string PropertyB = \"B\";\n}\n\npublic class Class2\n{\n    public int Property01 = 01;\n    public int Property02 = 02;\n}\n\npublic class MainClass\n{\n    public List&lt;dynamic&gt; Lines;\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        string json = \"{\\r\\n \\\"Lines\\\": [\\r\\n {\\r\\n \\\"PropertyA\\\": \\\"A\\\",\\r\\n \\\"PropertyB\\\": \\\"B\\\"\\r\\n },\\r\\n {\\r\\n \\\"Property01\\\": 1,\\r\\n \\\"Property02\\\": 2\\r\\n }]\\r\\n}\";\n\n        MainClass actual = JsonConvert.DeserializeObject&lt;MainClass&gt;(json);\n\n        MainClass expected = new MainClass()\n        {\n            Lines = new List&lt;dynamic&gt;()\n            {\n                new Class1(),\n                new Class2()\n            }\n        };\n\n        actual.Should().BeEquivalentTo(expected);\n    }\n}   \n</code></pre>\n\n<p>Any help would be greatly appreciated! </p>\n\n<p>Cheers</p>\n"}, {"tags": ["c#", "attributes", "identity", "host"], "comments": [{"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1575488803, "post_id": 59183598, "comment_id": 104587789, "body": "Have you tested to make sure it&#39;s actually reading it like a directory? i.e <code>\\\\foo\\</code>"}, {"owner": {"reputation": 2160, "user_id": 9446665, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BmYHc.png?s=128&g=1", "display_name": "William Charlton", "link": "https://stackoverflow.com/users/9446665/william-charlton"}, "reply_to_user": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 1, "creation_date": 1575550421, "post_id": 59183598, "comment_id": 104609411, "body": "when you say &quot;it&#39;s&quot;, I assume you mean my C# program. It&#39;s not reading it like a directory. <code>Directory.Exists(&quot;\\\\foo&quot;)</code> returns false. This makes sense because it&#39;s not a directory. It&#39;s a host name, hence my question: <code>How to identify \\\\hostName as a host and obtain the names of child items under \\\\hostName?</code>"}, {"owner": {"reputation": 2160, "user_id": 9446665, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BmYHc.png?s=128&g=1", "display_name": "William Charlton", "link": "https://stackoverflow.com/users/9446665/william-charlton"}, "reply_to_user": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1575575615, "post_id": 59183598, "comment_id": 104622568, "body": "Yes, it answered my question"}], "owner": {"reputation": 2160, "user_id": 9446665, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BmYHc.png?s=128&g=1", "display_name": "William Charlton", "link": "https://stackoverflow.com/users/9446665/william-charlton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "closed_date": 1575575633, "answer_count": 0, "score": 1, "last_activity_date": 1575488620, "creation_date": 1575488620, "question_id": 59183598, "link": "https://stackoverflow.com/questions/59183598/how-to-identify-hostname-as-a-host-and-obtain-the-names-of-child-items-under", "closed_reason": "Duplicate", "title": "How to identify \\\\hostName as a host and obtain the names of child items under \\\\hostName?", "body": "<p>I have a remote host <code>\\\\foo</code> that serves up shares: <code>\\\\foo\\a</code>, <code>\\\\foo\\b</code>, and <code>\\\\foo\\c</code></p>\n\n<p>On my local Win 7 client machine, when I bring up Windows Explorer and enter <code>\\\\foo</code> in the address bar, it obliges me by showing the names of the 3 shares. The Type attribute for each is \"Share\"</p>\n\n<p>I have a C# program and I want it to mimic Windows Explorer. I have a method that accepts what should be the a local path name (e.g., <code>C:\\x\\y\\z</code>), fully-qualified share name (e.g., <code>\\\\foo\\a</code>), or host name (e.g., <code>\\\\foo</code>). The method is to get the names of the items (folder, share, file, 1st level only) contained within the folder, share, or host, just like Windows explorer</p>\n\n<p><code>File.Exists(\"\\\\foo\")</code> and <code>Directory.Exists(\"\\\\foo\")</code> both return false</p>\n\n<p><code>new DirectoryInfo(\"\\\\foo\")</code> and <code>File.GetAttributes(\"\\\\foo\")</code> throw an exception \"The UNC path should be of the form \\server\\share\"</p>\n\n<p>The <code>Path</code> class seems designed to return just strings and not attributes</p>\n\n<p>Given only the string <code>\"\\\\foo\"</code>, is there a class method/property that will identify it as a host or at least let me test it to see if it is a host and then obtain a list of names that are its children?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "edited": false, "score": 0, "creation_date": 1575488625, "post_id": 59183480, "comment_id": 104587721, "body": "Is <code>0f</code> actually the original position? I&#39;m not a Unity expert but it seems to me that <code>Rotate(0f, 0f, 0f)</code> would always rotate the player back to the same zero position (not whatever position they were at previously)."}, {"owner": {"reputation": 1563, "user_id": 11947519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZYm5.jpg?s=128&g=1", "display_name": "Erik Overflow", "link": "https://stackoverflow.com/users/11947519/erik-overflow"}, "edited": false, "score": 1, "creation_date": 1575488949, "post_id": 59183480, "comment_id": 104587851, "body": "Try player.transform.eulerAngles = new Vector3(0f,0f,0f);"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11660804"}, "reply_to_user": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "edited": false, "score": 0, "creation_date": 1575488968, "post_id": 59183480, "comment_id": 104587864, "body": "@NateBarbettini It is man, I he rotates 90 degrees in Y angle, and then I&#39;d like to rotate him back, after he shoots."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11660804"}, "reply_to_user": {"reputation": 1563, "user_id": 11947519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZYm5.jpg?s=128&g=1", "display_name": "Erik Overflow", "link": "https://stackoverflow.com/users/11947519/erik-overflow"}, "edited": false, "score": 0, "creation_date": 1575489128, "post_id": 59183480, "comment_id": 104587934, "body": "@ErikOverflow this way he doesn&#39;t even rotate 90 degrees ;/"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12447201"}, "edited": false, "score": 3, "creation_date": 1575491004, "post_id": 59183480, "comment_id": 104588713, "body": "<code>Rotate</code> actually rotates by the degrees that you provide. It doesn&#39;t change the rotation to the degrees you provide. This is basically the difference between addition and assignment. You are telling it to rotate 0 degrees, aka <code>dont rotate</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11660804"}, "edited": false, "score": 1, "creation_date": 1575498157, "post_id": 59183480, "comment_id": 104591144, "body": "@Josh thank you man, I didn&#39;t know that. Now, things are much more clear"}], "owner": {"user_type": "does_not_exist", "display_name": "user11660804"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575488481, "creation_date": 1575488134, "last_edit_date": 1575488481, "question_id": 59183480, "link": "https://stackoverflow.com/questions/59183480/character-doesnt-rotate-back-to-his-original-position", "title": "Character doesn&#39;t rotate back to his original position", "body": "<p>I have the following issue in my game;</p>\n\n<p>When I shoot at my opponent I get his rotation in angle Y with the raycast hit, therefore I rotate my character in 90 degrees so I can shoot at him in a straight line as you can see in the code:</p>\n\n<pre><code>if (Physics.Raycast(ray, out hit))\n{\n    if (hit.transform.tag == \"Espantalho\" || hit.transform.tag == \"Xama\" || hit.transform.tag == \"Sheriff\")\n    {\n        //instantiates the bullet\n        GameObject tiro = Instantiate(projetil, SpawBala.transform.position, SpawBala.transform.rotation);\n        Rigidbody BalaRigid = tiro.GetComponent&lt;Rigidbody&gt;();\n        tiro.transform.LookAt(hit.transform.position);\n        float AngleY = hit.collider.gameObject.transform.rotation.eulerAngles.y;\n\n        if (AngleY == 180 &amp;&amp; !Girou)\n        {\n            player.transform.Rotate(0f, 90f, 0f);\n            Girou = true;\n        }\n\n        if (Girou)\n        {\n            player.transform.Rotate(0f, 0f, 0f);\n        }\n\n        BalaRigid.velocity = SpawBala.transform.forward * ProjetilVeloc * Time.deltaTime;\n        gameManager.PontoAcaop1--;\n        Personagens[i].GetComponent&lt;Jogador&gt;().PodeAtacar = true;\n        interfaceManager.ActionPointDown();\n    }\n}\n</code></pre>\n\n<p>However this condition isn't working, because my character doesn't rotate back to his original position. What have I done wrong guys?</p>\n\n<pre><code>if (Girou)\n{\n    player.transform.Rotate(0f, 0f, 0f);\n}\n</code></pre>\n"}, {"tags": ["c#", "nhibernate", "fluent-nhibernate"], "answers": [{"tags": [], "owner": {"reputation": 35071, "user_id": 316799, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0fa8da5d4aacf3078d23d33c4effadd5?s=128&d=identicon&r=PG", "display_name": "Felipe Oriani", "link": "https://stackoverflow.com/users/316799/felipe-oriani"}, "is_accepted": false, "score": 0, "last_activity_date": 1575488348, "creation_date": 1575488348, "answer_id": 59183520, "question_id": 59183442, "link": "https://stackoverflow.com/questions/59183442/nhibernate-order-of-saving-objects/59183520#59183520", "title": "Nhibernate order of saving objects", "body": "<p>In general, no, NHibernate will manage it for you automatically because it is considered the safe way. There are two options:</p>\n\n<p><strong>First option</strong>: You can perform a <code>Flush</code> method and make sure you have the executed over the database. For sample:</p>\n\n<pre><code>using (var session = sessionFactory.OpenSession())\n{\n    using (var transaction = session.BeginTransaction())\n    {\n        try\n        {\n            foreach (var item1 in data1)\n            {\n                session.Save(item1);\n            }\n            session.Flush(); // execute all the queries for the itens (1)\n\n            foreach (var item2 in data2)\n            {\n                session.Save(item2);\n            }\n            session.Flush(); // execute all the queries for the itens (2)\n\n            transaction.Commit();\n        }\n        catch (Exception e)\n        {   \n            transaction.RollBack();\n            // do some log with `e` exception reference\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Second option</strong>. If you just need to send it to the database without any state management, you could use <code>ISessionStateless</code> instead of classical <code>ISession</code>. You lose all the sesion state management that NHibernate does automatically. (lazy loading, first/second level caching, etc..). You just call method like <code>Insert</code>, <code>Delete</code>, <code>Update</code> a entity. Importante: You can have more performance with a <code>StatelessSession</code>  give you make sure it is appropriate for your scenario:</p>\n\n<p><a href=\"https://nhibernate.info/doc/nhibernate-reference/batch.html\" rel=\"nofollow noreferrer\">https://nhibernate.info/doc/nhibernate-reference/batch.html</a></p>\n"}], "owner": {"reputation": 540, "user_id": 2344995, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66e4c7020608e24e5c7f7508eee72da2?s=128&d=identicon&r=PG&f=1", "display_name": "Moelbeck", "link": "https://stackoverflow.com/users/2344995/moelbeck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1575488348, "creation_date": 1575487941, "question_id": 59183442, "link": "https://stackoverflow.com/questions/59183442/nhibernate-order-of-saving-objects", "title": "Nhibernate order of saving objects", "body": "<p>I'm having a service which takes a one or more of entities, which has been deserialized from a file. \nThese entities may or may not have a relation. \nAre there any easy way to ensure that Nhibernate handles the entities in the correct order when calling saving the entities? \nRight now I'm doing it with <code>session.Save(entity)</code> , but it may end up some times end up with an exception about \" property pointing at a transient or null value..\" .</p>\n"}, {"tags": ["c#", "asp.net-core", "controller", "viewmodel"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12447201"}, "edited": false, "score": 0, "creation_date": 1575487654, "post_id": 59183364, "comment_id": 104587332, "body": "You forgot to say what the problem was."}, {"owner": {"reputation": 3748, "user_id": 421765, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/6b9500f38e82b3cad38c1b38b0b3af74?s=128&d=identicon&r=PG", "display_name": "Serghei", "link": "https://stackoverflow.com/users/421765/serghei"}, "edited": false, "score": 0, "creation_date": 1575488260, "post_id": 59183364, "comment_id": 104587574, "body": "You should use POST for any actions that changes the state of your system GET is used for retrieve information."}, {"owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "edited": false, "score": 0, "creation_date": 1575512479, "post_id": 59183364, "comment_id": 104594571, "body": "Is your problem how to write the code of the DeleteConfirmed method? The forum is to solve problems encountered in the code, not to write code to implement a function.Please show the code you have tried, and what you delete eventually is up to  your demand. You could take aside time to learn the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/data/ef-mvc/crud?view=aspnetcore-3.0#update-the-delete-page\" rel=\"nofollow noreferrer\">MS documentation</a>"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 9424633, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160030629140052/picture?type=large", "display_name": "Arly C.", "link": "https://stackoverflow.com/users/9424633/arly-c"}, "edited": false, "score": 0, "creation_date": 1575489581, "post_id": 59183566, "comment_id": 104588129, "body": "the method was auto generated and don&#39;t seem to cause any issue, could you explain further your reasoning ? thank you"}, {"owner": {"reputation": 704, "user_id": 7121238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxmeW.jpg?s=128&g=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/7121238/mohammad"}, "reply_to_user": {"reputation": 35, "user_id": 9424633, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160030629140052/picture?type=large", "display_name": "Arly C.", "link": "https://stackoverflow.com/users/9424633/arly-c"}, "edited": false, "score": 0, "creation_date": 1575490597, "post_id": 59183566, "comment_id": 104588530, "body": "You have 2 method with one name and same input parameter. due to rename action name in run-time by call metadata [ActionName(&quot;Delete&quot;)]"}, {"owner": {"reputation": 704, "user_id": 7121238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxmeW.jpg?s=128&g=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/7121238/mohammad"}, "reply_to_user": {"reputation": 35, "user_id": 9424633, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160030629140052/picture?type=large", "display_name": "Arly C.", "link": "https://stackoverflow.com/users/9424633/arly-c"}, "edited": false, "score": 0, "creation_date": 1575490925, "post_id": 59183566, "comment_id": 104588677, "body": "please insert your client side code that call action with post method to find exact problem"}], "tags": [], "owner": {"reputation": 704, "user_id": 7121238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxmeW.jpg?s=128&g=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/7121238/mohammad"}, "is_accepted": false, "score": 0, "last_activity_date": 1575488548, "creation_date": 1575488548, "answer_id": 59183566, "question_id": 59183364, "link": "https://stackoverflow.com/questions/59183364/how-do-i-confirm-the-action-deletepost-in-my-controller/59183566#59183566", "title": "How do i confirm the action delete(POST) in my controller?", "body": "<p>Why you created an extra method for delete action as HttpGet? (that occurred conflict)</p>\n\n<p>change it to:</p>\n\n<pre><code>[HttpGet]\npublic IActionResult GetById(int? id) { ... }\n</code></pre>\n\n<p>and just one delete method with this definition</p>\n\n<pre><code>[HttpPost]\npublic async Task&lt;IActionResult&gt; Delete(int? id) { ... }\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 9424633, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160030629140052/picture?type=large", "display_name": "Arly C.", "link": "https://stackoverflow.com/users/9424633/arly-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575488548, "creation_date": 1575487547, "last_edit_date": 1575487954, "question_id": 59183364, "link": "https://stackoverflow.com/questions/59183364/how-do-i-confirm-the-action-deletepost-in-my-controller", "title": "How do i confirm the action delete(POST) in my controller?", "body": "<p>I have a ViewModel and I would like to make a fonctionnal delete(GET) and deleteConfirmed(POST) so i can delete what ever data is stored in my DB</p>\n\n<p>I don\u2019t know and would like to know what step to take to complete the deleteConfirmed. There is normally auto-generated code but it\u2019s not what I need.</p>\n\n<p>here is my ViewModel</p>\n\n<pre><code>using System;\nusing ExploFormsDB.Models;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\n\nnamespace ExploFormsDB.ViewModels\n{\n    public class WorkShiftDetailViewModel\n    {\n        [Key]\n        public int WorkShiftId { get; set; }\n        public int? HoleId { get; set; }\n        public string HoleName { get; set; }\n        public int SurveyLocationId { get; set; }\n        public int SupplierId { get; set; }\n        public int ZoneId { get; set; }\n        public string SurveyLocation1 { get; set; }\n        public string  SupplierName { get; set; }\n        public string ZoneName { get; set; }\n        public DateTime StartDay { get; set; }\n        public DateTime EndDay { get; set; }\n\n        public ICollection&lt;WorkerViewModel&gt; WorkShiftEmployees { get; set; }\n    }\n} \n</code></pre>\n\n<hr>\n\n<p>Here is my Controller, i have included the Create to help have a better understanding. GET: Delete seems to be working correctly, i am having trouble with the Post. any help what so ever will do. if the question as been answered already please send me a link. I'm pretty new to c# and core and completly new to ViewModels</p>\n\n<hr>\n\n<pre><code>        [HttpPost]\n        [ValidateAntiForgeryToken]\n        public async Task&lt;IActionResult&gt; Create(WorkShiftDetailViewModel workShiftDetailViewModel)\n        {\n\n            if (!ModelState.IsValid)\n            {\n                WorkShift ws = new WorkShift();\n                ws.StartDay = workShiftDetailViewModel.StartDay;\n                ws.EndDay = workShiftDetailViewModel.EndDay;\n                ws.SupplierId = workShiftDetailViewModel.SupplierId;\n                ws.SurveyLocationId = 1;\n                ws.ZoneId = workShiftDetailViewModel.ZoneId;\n                ws.HoleId = workShiftDetailViewModel.HoleId;\n                _context.Add(ws);\n                await _context.SaveChangesAsync();\n\n                foreach (WorkerViewModel member in workShiftDetailViewModel.WorkShiftEmployees)\n                {\n                    if (member.isDeleted == false) {\n                        WorkShiftTeam emp = new WorkShiftTeam();\n                        emp.EmployeeId = member.EmployeeId;\n                        emp.RoleId = member.RoleId;\n                        emp.WorkShiftId = ws.WorkShiftId;\n                        _context.Add(emp);\n                    }\n                }\n                HttpContext.Session.SetInt32(\"wsId\", ws.WorkShiftId);\n\n                await _context.SaveChangesAsync();\n\n                return RedirectToAction(nameof(CreateSharedView));\n            }\n\n            return View(workShiftDetailViewModel);\n        }\n\n         public IActionResult Delete(int? id)\n        {\n            if (id == null)\n            {\n                return NotFound();\n            }\n\n            List&lt;WorkerViewModel&gt; Workers = new List&lt;WorkerViewModel&gt;();\n            WorkShift ws = _context.WorkShift.Include(w =&gt; w.WorkShiftTeam).SingleOrDefault(x =&gt; x.WorkShiftId == id);\n            WorkShiftDetailViewModel detail = new WorkShiftDetailViewModel();\n            detail.HoleName = ws.HoleId == null ? \"N/A\" : _context.Hole.Find(ws.HoleId).HoleName;\n            detail.StartDay = ws.StartDay;\n            detail.EndDay = ws.EndDay;\n            detail.ZoneName = _context.Zone.Find(ws.ZoneId).ZoneName;\n            detail.SurveyLocation1 = _context.SurveyLocation.Find(ws.SurveyLocationId).SurveyLocation1;\n            detail.SupplierName = _context.Supplier.Find(ws.SupplierId).SupplierName;\n            detail.WorkShiftId = ws.WorkShiftId;\n\n            int order = 0;\n\n            var rolelist = new SelectList(_context.Role, \"RoleId\", \"Role1\");\n\n            var empsWithFullName = from e in _context.Employee.Where(a =&gt; a.IsActive)\n                                   select new\n                                   {\n                                       ID = e.EmployeeId,\n                                       FullName = e.LastName + \", \" + e.FirstName\n                                   };\n            var empList = new SelectList(empsWithFullName, \"ID\", \"FullName\");\n\n            foreach (WorkShiftTeam member in ws.WorkShiftTeam.OrderBy(a =&gt; a.EmployeeId))\n            {\n                Workers.Add(new WorkerViewModel() { EmployeeId = member.EmployeeId, RoleId = member.RoleId, Index = order, Roles = rolelist, Employees = empList });\n                order++;\n            }\n            detail.WorkShiftEmployees = Workers;\n\n            return View(detail);\n        }\n\n        // POST: WorkShiftDetailViewModels/Delete/5\n        [HttpPost, ActionName(\"Delete\")]\n        [ValidateAntiForgeryToken]\n        public async Task&lt;IActionResult&gt; DeleteConfirmed(int id)\n        {\n            //??\n        } ```\n</code></pre>\n"}, {"tags": ["c#", "json", "json.net"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1575488376, "post_id": 59183301, "comment_id": 104587617, "body": "It doesn&#39;t appear that <code>&quot;value&quot;</code> is a <code>string</code>. Shouldn&#39;t you be casting it to an array (or accessing a specific index in the array if you want a single value)?"}], "answers": [{"tags": [], "owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "is_accepted": false, "score": 0, "last_activity_date": 1575489008, "creation_date": 1575489008, "answer_id": 59183695, "question_id": 59183301, "link": "https://stackoverflow.com/questions/59183301/compare-json-array-and-json-object-cannot-convert-array-to-string-error/59183695#59183695", "title": "Compare JSON array and JSON object: Cannot convert Array to String error", "body": "<p><code>jobject.properties.parameters.ringValue.value</code> is an array <code>[\"r0\"]</code> with one element <code>\"r0\"</code>. If you want to check if it's an array with one element and that element is <code>\"r0\"</code>, do exactly that:</p>\n\n<pre><code>var ringvalue = jobject[\"properties\"][\"parameters\"][\"ringValue\"][\"value\"];\nif(ringvalue.length == 1 &amp;&amp; ringvalue[0] == \"r0\")\n  jobject[\"properties\"][\"parameters\"][\"ringValue\"][\"value\"] = array;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "is_accepted": true, "score": -1, "last_activity_date": 1575490250, "creation_date": 1575490250, "answer_id": 59183967, "question_id": 59183301, "link": "https://stackoverflow.com/questions/59183301/compare-json-array-and-json-object-cannot-convert-array-to-string-error/59183967#59183967", "title": "Compare JSON array and JSON object: Cannot convert Array to String error", "body": "<p>First, as Klaycon said in his answer, it's worth noting that your \"value\" is not a single string.  In json, whenever you see <code>[</code> and <code>]</code> then you have a collection, or an array, or a list.</p>\n\n<p>When I work with json strings, I always like to be able to convert them into a strongly typed object. There is a very handy online tool I use all the time: <a href=\"http://json2csharp.com/\" rel=\"nofollow noreferrer\">http://json2csharp.com/</a></p>\n\n<p>I took your json string that you provided and pasted it into that website. Here is that your object(s) look like when converted into c# classes:</p>\n\n<pre><code>public class RootObject // You can name this whatever you want\n{\n    public Properties properties { get; set; }\n}\n\npublic class Metadata\n{\n    public string assignedBy { get; set; }\n}\n\npublic class RingValue\n{\n    public List&lt;string&gt; value { get; set; }\n}\n\npublic class Parameters\n{\n    public RingValue ringValue { get; set; }\n}\n\npublic class Properties\n{\n    public string displayName { get; set; }\n    public string description { get; set; }\n    public Metadata metadata { get; set; }\n    public string policyDefinitionId { get; set; }\n    public Parameters parameters { get; set; }\n    public string enforcementMode { get; set; }\n}\n</code></pre>\n\n<p>Now, we can easily do the logic you need as follows:</p>\n\n<pre><code>// This is your json string, escaped and turned into a single string:\nstring file = \"{  \\\"properties\\\": {    \\\"displayName\\\": \\\"jayatestdefid\\\",    \\\"description\\\": \\\"test assignment through API\\\",    \\\"metadata\\\": {      \\\"assignedBy\\\": \\\"xyz@gmail.com\\\"    },    \\\"policyDefinitionId\\\": \\\"/providers/Microsoft.Management/managementgroups/MGTest/providers/Microsoft.Authorization/policyDefinitions/test\\\",    \\\"parameters\\\": {      \\\"ringValue\\\": {        \\\"value\\\": [\\\"r0\\\"]      }    },    \\\"enforcementMode\\\": \\\"DoNotEnforce\\\",    }}\";\n\n// Convert your json string into an instance of the RootObject class\nRootObject jobject = JsonConvert.DeserializeObject&lt;RootObject&gt;(file);\n\n// Get a list of all the \"values\"\nList&lt;string&gt; values = jobject.properties.parameters.ringValue.value;\n\n// Loop over your colleciton of \"value\" and do your logic\nfor (int i = 0; i &lt; values.Count; ++i)\n{\n    if (values[i] == \"r0\")\n    {\n        values[i] = \"r0,r1\";\n    }\n}\n\n// And finally, turn your object back into a json string\nvar result = JsonConvert.SerializeObject(jobject);\n</code></pre>\n\n<p>And this is the final result:</p>\n\n<pre><code>{ \n   \"properties\":{ \n      \"displayName\":\"jayatestdefid\",\n      \"description\":\"test assignment through API\",\n      \"metadata\":{ \n         \"assignedBy\":\"xyz@gmail.com\"\n      },\n      \"policyDefinitionId\":\"/providers/Microsoft.Management/managementgroups/MGTest/providers/Microsoft.Authorization/policyDefinitions/test\",\n      \"parameters\":{ \n         \"ringValue\":{ \n            \"value\":[ \n               \"r0,r1\"\n            ]\n         }\n      },\n      \"enforcementMode\":\"DoNotEnforce\"\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15446, "user_id": 7299782, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nNfiq.png?s=128&g=1", "display_name": "Anu Viswan", "link": "https://stackoverflow.com/users/7299782/anu-viswan"}, "is_accepted": false, "score": 0, "last_activity_date": 1575516598, "creation_date": 1575516598, "answer_id": 59187809, "question_id": 59183301, "link": "https://stackoverflow.com/questions/59183301/compare-json-array-and-json-object-cannot-convert-array-to-string-error/59187809#59187809", "title": "Compare JSON array and JSON object: Cannot convert Array to String error", "body": "<p>You could compare the ringvalue (which is an <code>JArray</code>) using <code>JArray.DeepEquals</code> and then replace if the comparison returns true. For example,</p>\n\n<pre><code>var list = new List&lt;string&gt; { \"joe\", \"test\" };\nJArray array = new JArray(list);\nJArray valueToCompare = new JArray(new[]{\"r0\"});\n\nvar ringvalue = (JArray)jobject[\"properties\"][\"parameters\"][\"ringValue\"][\"value\"];  \n\nif(JArray.DeepEquals(ringvalue,valueToCompare))\n{   \n   jobject[\"properties\"][\"parameters\"][\"ringValue\"][\"value\"] = array;         \n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 11788872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbedb56ade19aa7a4bc6bbda4b789df8?s=128&d=identicon&r=PG&f=1", "display_name": "123456", "link": "https://stackoverflow.com/users/11788872/123456"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 59183967, "answer_count": 3, "score": 0, "last_activity_date": 1575516598, "creation_date": 1575487268, "last_edit_date": 1575487730, "question_id": 59183301, "link": "https://stackoverflow.com/questions/59183301/compare-json-array-and-json-object-cannot-convert-array-to-string-error", "title": "Compare JSON array and JSON object: Cannot convert Array to String error", "body": "<p>I am trying to compare json value and based on that i want to update the existing value,for example, currently we have \"value\" : [r0] in json, i want to compare and if value : [r0] ,then update it to [r0,r1]  but iam hiting error that it cannot compare and there is a cast issue, could someone suggest what could be done </p>\n\n<pre><code>public void updateJsonParameter(string file)    \n{\n    try\n    {\n\n        var list = new List&lt;string&gt; { \"joe\", \"test\" };\n        JArray array = new JArray(list);\n        var jobject = JObject.Parse(file);\n        var ringvalue = (string)jobject[\"properties\"][\"parameters\"][\"ringValue\"][\"value\"];   // unable to case here and compare  \n        jobject[\"properties\"][\"parameters\"][\"ringValue\"][\"value\"] = array;          // able to update value but i want to update after comparing the existing values \n        var result = JsonConvert.SerializeObject(jobject);\n    }\n</code></pre>\n\n<p>following is the json format</p>\n\n<pre><code>{\n  \"properties\": {\n    \"displayName\": \"jayatestdefid\",\n    \"description\": \"test assignment through API\",\n    \"metadata\": {\n      \"assignedBy\": \"xyz@gmail.com\"\n    },\n    \"policyDefinitionId\": \"/providers/Microsoft.Management/managementgroups/MGTest/providers/Microsoft.Authorization/policyDefinitions/test\",\n    \"parameters\": {\n      \"ringValue\": {\n        \"value\": [\"r0\"]\n      }\n    },\n    \"enforcementMode\": \"DoNotEnforce\",\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "selenium", "selenium-webdriver", "selenium-chromedriver"], "comments": [{"owner": {"reputation": 2178, "user_id": 1387701, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f5209b17c9efa573f90ab04d476c0936?s=128&d=identicon&r=PG", "display_name": "DMart", "link": "https://stackoverflow.com/users/1387701/dmart"}, "edited": false, "score": 0, "creation_date": 1575488406, "post_id": 59183279, "comment_id": 104587628, "body": "For me, in chrome, the home page has an iframe. You may need to select that iframe first: <a href=\"https://www.guru99.com/handling-iframes-selenium.html\" rel=\"nofollow noreferrer\">guru99.com/handling-iframes-selenium.html</a>"}, {"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 0, "creation_date": 1575494188, "post_id": 59183279, "comment_id": 104589908, "body": "This is probably a security issue.  Otherwise a site could load that page into it&#39;s own iframe and grab the info.  That is a local page and should not be accessible via outside javascript.  You could try with &quot;--no-sandbox&quot; arg."}, {"owner": {"reputation": 321, "user_id": 5415162, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1f9c49d9cf645c99a8a2aec82bac902c?s=128&d=identicon&r=PG&f=1", "display_name": "Roro", "link": "https://stackoverflow.com/users/5415162/roro"}, "edited": false, "score": 0, "creation_date": 1575494340, "post_id": 59183279, "comment_id": 104589967, "body": "Thanks but I already have the no-sandbox argument enabled."}], "answers": [{"tags": [], "owner": {"reputation": 2239, "user_id": 1654818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f1f0bc980803d9787a08323ec4f5925c?s=128&d=identicon&r=PG", "display_name": "Jim Buck", "link": "https://stackoverflow.com/users/1654818/jim-buck"}, "is_accepted": false, "score": 0, "last_activity_date": 1575488274, "creation_date": 1575488274, "answer_id": 59183505, "question_id": 59183279, "link": "https://stackoverflow.com/questions/59183279/c-selenium-chrome-clicking-link-from-default-chrome-home-page/59183505#59183505", "title": "C# Selenium Chrome clicking link from default chrome home page", "body": "<p>That list of \"Most Recent Pages\" is actually in an <code>iframe</code>, which is probably why Selenium can't find it. Try updating the selector to account for the <code>iframe</code>, or maybe add a wait clause to allow the <code>iframe</code> to finish loading.</p>\n\n<p>Regardless of that solution, I don't think it will act any differently than just navigating to the target URL. So to fix your root problem have you tried <a href=\"https://stackoverflow.com/a/35167823/1654818\">setting the proxy details when creating the <code>ChromeOptions</code></a>?</p>\n"}], "owner": {"reputation": 321, "user_id": 5415162, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1f9c49d9cf645c99a8a2aec82bac902c?s=128&d=identicon&r=PG&f=1", "display_name": "Roro", "link": "https://stackoverflow.com/users/5415162/roro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 305, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575495031, "creation_date": 1575487163, "last_edit_date": 1575495031, "question_id": 59183279, "link": "https://stackoverflow.com/questions/59183279/c-selenium-chrome-clicking-link-from-default-chrome-home-page", "title": "C# Selenium Chrome clicking link from default chrome home page", "body": "<p>I'm trying to get Selenium to click on one of the most visited web links from the default Chrome web page.</p>\n\n<p>The problem is that Selenium cannot find the element on the page and I think it has to do with the fact that a web page technically didn't get loaded. When you open up Chrome it has HTML elements there but the address bar is completely empty.  I think possibly this is why Selenium can't find the link? The code is simple and finding the XPATH wasn't an issue. I just don't know if this is a function that Selenium will be able to do or not. I'm trying to do the click because the navigate() function will not work when I put in the proxy information due to the fact that Selenium doesn't have a built-in way to handle a proxy with username and password.</p>\n\n<p>At the end of the day I'm trying to get the username/password box to pop up by clicking on the link. When I open the browser with Selenium programmatically and then manually click on the link the username/password box pops up. But I can't get Selenium to find the element to click on programmatically.</p>\n\n<pre><code>var did = driver.FindElement(By.XPath(\"//*[@id='mv-tiles']/a[1]\"));\ndid.Click();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/CF4ti.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CF4ti.jpg\" alt=\"m\"></a></p>\n\n<p>UPDATE 1: \nI was able to find the element when taking into consideration the iframe but clicking still is an issue. </p>\n\n<pre><code>var frm = driver.SwitchTo().Frame(\"mv-single\");\nvar did = frm.FindElement(By.XPath(\"//*[@id='mv-tiles']/a[1]\"));\n//did.Click(); &lt;-- I can see it go to the element but nothing occurs\nIJavaScriptExecutor js2 = (IJavaScriptExecutor) driver;\njs2.ExecuteScript(\"arguments[0].click();\", did); \n</code></pre>\n\n<p>The JavaScriptExecuter is able to click the element but Chrome blocks the redirect with the following message: </p>\n\n<blockquote>\n  <p>[21040:24704:1204/150143.743:ERROR:CONSOLE(1)] \"Unsafe JavaScript attempt to initiate navigation for frame with URL 'chrome-search://local-ntp/local-ntp.html' from frame with URL 'chrome-search://most-visited/single.html?title=Most%20visited&amp;removeTooltip=Don%27t%20show%20on%20this%20page&amp;enableCustomLinks=1&amp;addLink=Add%20shortcut&amp;addLinkTooltip=Add%20shortcut&amp;editLinkTooltip=Edit%20shortcut'. The frame attempting navigation is targeting its top-level window, but is neither same-origin with its target nor has it received a user gesture. See <a href=\"https://www.chromestatus.com/features/5851021045661696\" rel=\"nofollow noreferrer\">https://www.chromestatus.com/features/5851021045661696</a>.\n  \", source:  (1)</p>\n</blockquote>\n\n<p>FINAL UPDATE:\nI gave up and decided to do the browser extension solution for proxies with passwords: <a href=\"https://stackoverflow.com/a/35293222/5415162\">https://stackoverflow.com/a/35293222/5415162</a>  </p>\n"}, {"tags": ["c#", "json.net"], "comments": [{"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1575488838, "post_id": 59183167, "comment_id": 104587802, "body": "Have you tried debugging the code, because I&#39;m pretty sure <code>Assembly.GetType</code> throws an exception, because <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.reflection.assembly.gettype?view=netframework-4.8#System_Reflection_Assembly_GetType_System_String_System_Boolean_\" rel=\"nofollow noreferrer\">you didn&#39;t specify the full name of the type</a>."}, {"owner": {"reputation": 189, "user_id": 7309690, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Uzqoy.jpg?s=128&g=1", "display_name": "Anas Tina", "link": "https://stackoverflow.com/users/7309690/anas-tina"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1575490412, "post_id": 59183167, "comment_id": 104588442, "body": "Hi Steven, I do not specify the full name intentionally as I put my class in the default namespace."}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1575490915, "post_id": 59183167, "comment_id": 104588671, "body": "Please include a full stack trace of the exception  and all its inner exceptions."}, {"owner": {"reputation": 189, "user_id": 7309690, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Uzqoy.jpg?s=128&g=1", "display_name": "Anas Tina", "link": "https://stackoverflow.com/users/7309690/anas-tina"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1575490950, "post_id": 59183167, "comment_id": 104588691, "body": "There is no exception thrown!"}, {"owner": {"reputation": 189, "user_id": 7309690, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Uzqoy.jpg?s=128&g=1", "display_name": "Anas Tina", "link": "https://stackoverflow.com/users/7309690/anas-tina"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1575491105, "post_id": 59183167, "comment_id": 104588760, "body": "dynamic command = JsonConvert.DeserializeObject(json, typeof(DeletePatientCommand));  does not work as well!"}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 4, "creation_date": 1575491112, "post_id": 59183167, "comment_id": 104588764, "body": "Have you tried posting <code>{&quot;Id&quot;:5}</code> instead of <code>{&quot;DeletePatientCommand&quot;:{&quot;Id&quot;:5}}</code>?"}, {"owner": {"reputation": 189, "user_id": 7309690, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Uzqoy.jpg?s=128&g=1", "display_name": "Anas Tina", "link": "https://stackoverflow.com/users/7309690/anas-tina"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1575491299, "post_id": 59183167, "comment_id": 104588843, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/203625/discussion-between-anas-tina-and-steven\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 189, "user_id": 7309690, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Uzqoy.jpg?s=128&g=1", "display_name": "Anas Tina", "link": "https://stackoverflow.com/users/7309690/anas-tina"}, "is_accepted": true, "score": 0, "last_activity_date": 1575493303, "last_edit_date": 1575493303, "creation_date": 1575492242, "answer_id": 59184427, "question_id": 59183167, "link": "https://stackoverflow.com/questions/59183167/jsonconvert-deserializeobject-does-not-deserialize-my-json/59184427#59184427", "title": "JsonConvert.DeserializeObject does not deserialize my json", "body": "<p>As Mr. <a href=\"https://stackoverflow.com/users/264697/steven\">Steven</a> comments, I was posting JSON that is not valid. JSON doesn't include the type name. The following works:</p>\n\n<pre><code>object command = JsonConvert.DeserializeObject(\n    \"{\\\"Id\\\":5}\",\n    typeof(DeletePatientCommand));\n</code></pre>\n\n<p>The chat contains useful information as well. </p>\n"}], "owner": {"reputation": 189, "user_id": 7309690, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Uzqoy.jpg?s=128&g=1", "display_name": "Anas Tina", "link": "https://stackoverflow.com/users/7309690/anas-tina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 59184427, "answer_count": 1, "score": 0, "last_activity_date": 1575629045, "creation_date": 1575486732, "last_edit_date": 1575629045, "question_id": 59183167, "link": "https://stackoverflow.com/questions/59183167/jsonconvert-deserializeobject-does-not-deserialize-my-json", "title": "JsonConvert.DeserializeObject does not deserialize my json", "body": "<p>I had many classes and one of them os the following </p>\n\n<pre><code>public class DeletePatientCommand\n{\n    public int Id { get; set; }\n}\n</code></pre>\n\n<p>I had the following WCF operation:</p>\n\n<pre><code>object command = JsonConvert.DeserializeObject(\n    \"{\\\"DeletePatientCommand\\\":{\\\"Id\\\":5}}\",\n    typeof(DeletePatientCommand));\n</code></pre>\n\n<p>The object got deserialized, but its <code>Id</code> is always <code>0</code> instead of <code>5</code>.</p>\n"}, {"tags": ["c#", "asp.net-core", "razor-pages", "blazor", "syncfusion"], "comments": [{"owner": {"reputation": 28123, "user_id": 1308743, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/92ec7a7b317928af4b975419239ffa99?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/1308743/kyle"}, "edited": false, "score": 0, "creation_date": 1575487670, "post_id": 59183041, "comment_id": 104587336, "body": "Is the SyncFusion version you are using compatible with 3.1? I&#39;ve had a lot of issues with SyncFusion components version matching the version of Blazor I&#39;m running.  Also make sure that both ej2.min.js and interop.min.js are actually being found and loaded in the browser."}, {"owner": {"reputation": 35, "user_id": 2174680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a4407b781d398f5c34f401141f1680f?s=128&d=identicon&r=PG", "display_name": "turc1656", "link": "https://stackoverflow.com/users/2174680/turc1656"}, "reply_to_user": {"reputation": 28123, "user_id": 1308743, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/92ec7a7b317928af4b975419239ffa99?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/1308743/kyle"}, "edited": false, "score": 0, "creation_date": 1575491767, "post_id": 59183041, "comment_id": 104589029, "body": "Yes, I see both JS files loaded in the browser on all pages (since it&#39;s in the layout) on the sources and network tabs in the Chrome inspector.  And yes, I&#39;m using the latest version of Syncfusion.  Granted, 3.1 was literally released yesterday, but I did try to use some of the components in a pure Blazor app in 3.1 and they worked just fine.  So it&#39;s something related to my specific project but I can&#39;t imagine what I&#39;m doing wrong."}], "answers": [{"comments": [{"owner": {"reputation": 2026, "user_id": 1972706, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ZT1VS.jpg?s=128&g=1", "display_name": "Ben Junior", "link": "https://stackoverflow.com/users/1972706/ben-junior"}, "edited": false, "score": 0, "creation_date": 1588197334, "post_id": 59252335, "comment_id": 108811622, "body": "You were right changing the ~/... to just /...  According to Microsoft docs Blazor doesn&#39;t  use or recognize the ~ symbol"}], "tags": [], "owner": {"reputation": 35, "user_id": 2174680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a4407b781d398f5c34f401141f1680f?s=128&d=identicon&r=PG", "display_name": "turc1656", "link": "https://stackoverflow.com/users/2174680/turc1656"}, "is_accepted": false, "score": 0, "last_activity_date": 1575906633, "creation_date": 1575906633, "answer_id": 59252335, "question_id": 59183041, "link": "https://stackoverflow.com/questions/59183041/how-to-get-third-party-blazor-components-working-in-razor-pages/59252335#59252335", "title": "How To Get Third Party Blazor Components Working In Razor Pages?", "body": "<p>I was able to get it working.  There were several slight changes that had to be made to my project and some of them I'm not entirely sure why.</p>\n\n<p>For anyone else who may be having issues, here's some of the issues I had to fix.</p>\n\n<ol>\n<li>For whatever reason,</li>\n</ol>\n\n<pre><code>&lt;script src=\"~/_framework/blazor.server.js\" autostart=\"false\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>is NOT the same as</p>\n\n<pre><code>&lt;script src=\"_framework/blazor.server.js\" autostart=\"false\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>My project refused to work without the ~/ even though examples on MSFT's own pages don't use that.</p>\n\n<ol start=\"2\">\n<li>After proper declaration of blazor.server.js, I needed the following code to get events working correctly or else things like button clicks wouldn't register.  It must be placed AFTER the blazor.server.js above:</li>\n</ol>\n\n<pre><code>&lt;script&gt;\n  Blazor.start({\n    configureSignalR: function (builder) {\n      builder.withUrl('/_blazor');\n    }\n  });\n&lt;/script&gt;\n</code></pre>\n\n<ol start=\"3\">\n<li>I had some references to the MVC .js packages for Syncfusion because once I had an issue with the Blazor components I tried the MVC tools and I had left those references in.  They were apparently causing a conflict and unexpected behavior.</li>\n</ol>\n\n<p>I think there was one or two more things that also needed adjustment, but I am forgetting them right now.  I will update my response if I remember anything else.</p>\n"}], "owner": {"reputation": 35, "user_id": 2174680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a4407b781d398f5c34f401141f1680f?s=128&d=identicon&r=PG", "display_name": "turc1656", "link": "https://stackoverflow.com/users/2174680/turc1656"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 312, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575906633, "creation_date": 1575486200, "question_id": 59183041, "link": "https://stackoverflow.com/questions/59183041/how-to-get-third-party-blazor-components-working-in-razor-pages", "title": "How To Get Third Party Blazor Components Working In Razor Pages?", "body": "<p>I'm working in a new ASP.NET Core 3.1 With Razor Pages application and I want to use third party Blazor components in it but I'm having trouble getting it to work.  I've followed the instructions on numerous sites about how to enable Blazor components in an MVC based application using Razor pages (changing the Configure and ConfigureServices methods in startup.cs, adding the endpoint, including the .js for Blazor, etc.).</p>\n\n<p>If I write a component myself and use that it seems to work just fine.  But I tried using Syncfusion's Blazor library and it just refuses to work.  I've tried things in the Razor page like</p>\n\n<pre><code>@(await Html.RenderComponentAsync&lt;Syncfusion.EJ2.Blazor.Calendars.EjsDateTimePicker&gt;(RenderMode.ServerPrerendered))\n</code></pre>\n\n<p>which works just fine for my manually created Blazor component but not the third party EjsDateTimePicker component.  I've also made sure to include the @using references that are needed and VS finds everything, as well as including the JS references in my layout file.</p>\n\n<p>I also tried including the third party component into my manually created component since Blazor allows for that and VS recognizes the component/tag but still refuses to render it.  In that case, when I call my own component like</p>\n\n<pre><code>&lt;CustomRazorTest&gt;@(await Html.RenderComponentAsync&lt;TestProj.Components.Pages.CustomRazorTest&gt;(RenderMode.ServerPrerendered))&lt;/CustomRazorTest&gt;\n</code></pre>\n\n<p>it loads everything except the third party component.  I also tried the different rendering methods just in case that might fix it.  But nothing seems to work.</p>\n"}, {"tags": ["c#", "entity-framework", "linq", "entity-framework-core", "ef-core-3.0"], "comments": [{"owner": {"reputation": 8496, "user_id": 1009661, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/776dff440138550ac0e34a1712a60e2a?s=128&d=identicon&r=PG", "display_name": "tukaef", "link": "https://stackoverflow.com/users/1009661/tukaef"}, "edited": false, "score": 1, "creation_date": 1575486712, "post_id": 59182991, "comment_id": 104586977, "body": "This might help <a href=\"https://docs.microsoft.com/en-us/ef/core/what-is-new/ef-core-3.0/breaking-changes#linq-queries-are-no-longer-evaluated-on-the-client\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/ef/core/what-is-new/ef-core-3.0/&hellip;</a>"}, {"owner": {"reputation": 626, "user_id": 2457865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6f08bd4cb3d66d307846a706da2ae43?s=128&d=identicon&r=PG", "display_name": "Sol Stein", "link": "https://stackoverflow.com/users/2457865/sol-stein"}, "reply_to_user": {"reputation": 8496, "user_id": 1009661, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/776dff440138550ac0e34a1712a60e2a?s=128&d=identicon&r=PG", "display_name": "tukaef", "link": "https://stackoverflow.com/users/1009661/tukaef"}, "edited": false, "score": 0, "creation_date": 1575487989, "post_id": 59182991, "comment_id": 104587461, "body": "@tukaef thanks, i saw that, but my real issue is how can i deal with this, i just cant think how to get this to work again."}], "answers": [{"tags": [], "owner": {"reputation": 626, "user_id": 2457865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6f08bd4cb3d66d307846a706da2ae43?s=128&d=identicon&r=PG", "display_name": "Sol Stein", "link": "https://stackoverflow.com/users/2457865/sol-stein"}, "is_accepted": true, "score": 4, "last_activity_date": 1575490842, "creation_date": 1575490842, "answer_id": 59184114, "question_id": 59182991, "link": "https://stackoverflow.com/questions/59182991/ef-core-2-1-linq-query-to-ef-core-3-0/59184114#59184114", "title": "EF Core 2.1 Linq Query to EF Core 3.0", "body": "<p>ok, i figured it out.</p>\n\n<p>here is my new code that works.</p>\n\n<pre><code>                query = query.Where(x =&gt; x.Items.Where(o =&gt; o.BinItem != null\n                                                     &amp;&amp; o.BinItem.Bin != null\n                                                     &amp;&amp; o.BinItem.Bin.Zone != null\n                                                     &amp;&amp; PlanFilter.WarehouseIds.Contains(o.BinItem.Bin.Zone.Id)).Any());\n</code></pre>\n"}], "owner": {"reputation": 626, "user_id": 2457865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6f08bd4cb3d66d307846a706da2ae43?s=128&d=identicon&r=PG", "display_name": "Sol Stein", "link": "https://stackoverflow.com/users/2457865/sol-stein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1631, "favorite_count": 0, "accepted_answer_id": 59184114, "answer_count": 1, "score": 1, "last_activity_date": 1575490842, "creation_date": 1575485978, "question_id": 59182991, "link": "https://stackoverflow.com/questions/59182991/ef-core-2-1-linq-query-to-ef-core-3-0", "title": "EF Core 2.1 Linq Query to EF Core 3.0", "body": "<p>I am dealing with a query that i cannot get to work on ef core 3.0 and it worked fine in the 2.1 version, i would like if anyone can help figure how i can get it work in the 3.0 version.</p>\n\n<p>So let me start with the challenge. </p>\n\n<p>i have a table that is named Zone and it has a one to many relationship to a table called Bin, and bin has a one to many relationship to a table called BinItems, and BinItem has a one to one relationship to a table called PlanItem, and PlanItem has a one to one relationship with a table called Plan.</p>\n\n<p>so i want to get a list of all plans in the plan table, but it must meet the condition that the plan items are in the zone of a specified list of zones. so let say i have a list of ZoneIds and i am looking for all plans that their related bin items is inside that Zones.</p>\n\n<p>so here is my query that used in the 2.1 version and worked until migration to 3.0.</p>\n\n<pre><code>var filterQuery = _PlanRepository.Table;\nfilterQuery = filterQuery.Where(x =&gt; x.Items.Where(o =&gt; o.BinItem != null \n                                         &amp;&amp; o.BinItem.Bin != null\n                                         &amp;&amp; o.BinItem.Bin.Zone != null)\n                                 .Select(y =&gt; y.BinItem.Bin.Zone.Id)\n                                 .Intersect(PlanFilter.WarehouseIds).Any());\n\nvar finalQuery = filterQuery\n                     .Include(x =&gt; x.Items)\n                           .ThenInclude(x =&gt; x.BinItem)\n                           .ThenInclude(x =&gt; x.Bin)\n                           .ThenInclude(x =&gt; x.Zone)\n                           .AsQueryable();\n</code></pre>\n\n<p>now this gives me now an error like the following.</p>\n\n<blockquote>\n  <p>System.InvalidOperationException: Processing of the LINQ expression 'Intersect(\n      source1: Select(\n          source: Where(\n              source: AsQueryable(MaterializeCollectionNavigation(Navigation: Plan.Items (k__BackingField, ICollection) Collection ToDependent PlanItem Inverse: Plan, Where(\n                  source: NavigationExpansionExpression\n                      Source: Where, Bin>, WarehouseSection>>(\n                          source: LeftJoin, Bin>, WarehouseSection, Nullable, TransparentIdentifier, Bin>, WarehouseSection>>(\n                              outer: LeftJoin, Bin, Nullable, TransparentIdentifier, Bin>>(\n                                  outer: LeftJoin, TransparentIdentifier>(\n                                      outer: Where(\n                                          source: DbSet, \n                                          predicate: (p0) => Property>((Unhandled parameter: p), \"Id\") == Property>(p0, \"PlanId\")), \n                                      inner: DbSet, \n                                      outerKeySelector: (p0) => Property>(p0, \"BinItemId\"), \n                                      innerKeySelector: (b) => Property>(b, \"Id\"), \n                                      resultSelector: (o, i) => new TransparentIdentifier(\n                                          Outer = o, \n                                          Inner = i\n                                      )), \n                                  inner: DbSet, \n                                  outerKeySelector: (p0) => Property>(p0.Inner, \"BinId\"), \n                                  innerKeySelector: (b0) => Property>(b0, \"Id\"), \n                                  resultSelector: (o, i) => new TransparentIdentifier, Bin>(\n                                      Outer = o, \n                                      Inner = i\n                                  )), \n                              inner: DbSet, \n                              outerKeySelector: (p0) => Property>(p0.Inner, \"ZoneId\"), \n                              innerKeySelector: (w) => Property>(w, \"Id\"), \n                              resultSelector: (o, i) => new TransparentIdentifier, Bin>, WarehouseSection>(\n                                  Outer = o, \n                                  Inner = i\n                              )), \n                          predicate: (p0) => Property>(p0.Outer.Outer.Inner, \"Id\") != null &amp;&amp; Property>(p0.Outer.Inner, \"Id\") != null &amp;&amp; Property>(p0.Inner, \"Id\") != null)\n                      PendingSelector: (p0) => NavigationTreeExpression\n                          Value: EntityReferencePlanItem\n                          Expression: p0.Outer.Outer.Outer.BinItem.Bin.Zone.Id\n                  , \n                  predicate: (i) => Property>(NavigationTreeExpression\n                      Value: EntityReferencePlan\n                      Expression: (Unhandled parameter: p), \"Id\") == Property>(i, \"PlanId\")))), \n              predicate: (o) => Property>(o.BinItem, \"Id\") != null &amp;&amp; Property>(o.BinItem.Bin, \"Id\") != null &amp;&amp; Property>(o.BinItem.Bin.Zone, \"Id\") != null), \n          selector: (y) => y.BinItem.Bin.Zone.Id), \n      source2: (Unhandled parameter: __PlanFilter_WarehouseIds_0))' by 'NavigationExpandingExpressionVisitor' failed. This may indicate either a bug or a limitation in EF Core. See <a href=\"https://go.microsoft.com/fwlink/?linkid=2101433\" rel=\"nofollow noreferrer\">https://go.microsoft.com/fwlink/?linkid=2101433</a> for more detailed information.\n     at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\n     at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\n     at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ExpandNavigationsInExpression(NavigationExpansionExpression source, Expression expression)\n     at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessWhere(NavigationExpansionExpression source, LambdaExpression predicate)</p>\n</blockquote>\n\n<p>can anyone share how i can get this to work in Ef core 3.0 version?</p>\n"}, {"tags": ["c#", ".net", "winforms", "user-controls", "windows-forms-designer"], "comments": [{"owner": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "edited": false, "score": 2, "creation_date": 1575485948, "post_id": 59182897, "comment_id": 104586701, "body": "the best way out of the situation would be to figure out how to handle <code>null</code> value gracefully (e.g. use <code>new Layout()</code> instead). I would say MessageBox.Show() should not be in setter of UserControl property at all - just throw an exception, document it, and it is not your problem anymore. setter is triggered from designer or Properties window, I guess"}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "reply_to_user": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "edited": false, "score": 0, "creation_date": 1575486224, "post_id": 59182897, "comment_id": 104586796, "body": "To add to the comment by @ASh, you&#39;re trying to do too much here. The <code>UserControl</code> is technically another <code>UI</code> control, and should behave as such. It&#39;s job should be to display data it&#39;s given, if it can. Don&#39;t try to display error messages."}], "answers": [{"tags": [], "owner": {"reputation": 2123, "user_id": 3715853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab97a97ef6e4c263972d713671b58e3?s=128&d=identicon&r=PG&f=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/3715853/holger"}, "is_accepted": false, "score": 1, "last_activity_date": 1575487821, "creation_date": 1575487821, "answer_id": 59183421, "question_id": 59182897, "link": "https://stackoverflow.com/questions/59182897/user-control-error-message-displayed-during-compile/59183421#59183421", "title": "User Control error message displayed during Compile", "body": "<p>When creating your own Properties for a UserControl, and you use this UserControl at another place, the Designer is generating Code for this property like:</p>\n\n<pre><code> yourControl.BoundLayout = null;\n</code></pre>\n\n<p>Search for it in the Designer.cs file; it will solve the problem until the code is regenerated.</p>\n\n<p>If the designer displays your control it runs your code, and displays your MessageBox at Design-Time (not Build or Runtime).\nDo avoid this forever put </p>\n\n<pre><code> [DesignerSerializationVisibility(DesignerSerializationVisibility.Hidden), Browsable(false)]\n public Layout BoundLayout\n</code></pre>\n\n<p>on all your properties, if you intend to modify it by code only and not within the designer, especially if null is an invalid value.</p>\n\n<p>When using your UserControl again at another place it will not create this BoundLayout=null again any more, but for existing references to your UserControl, you have to remove this line manually.</p>\n"}, {"comments": [{"owner": {"reputation": 2123, "user_id": 3715853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab97a97ef6e4c263972d713671b58e3?s=128&d=identicon&r=PG&f=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/3715853/holger"}, "edited": false, "score": 0, "creation_date": 1575490064, "post_id": 59183440, "comment_id": 104588302, "body": "Note: The DesignMode property is not valid inside the constructor, it&#39;s set after the constructor has finished. But the usual designer pattern is to call InitializeComponent in the constructor. It&#39;s good in eventhandlers or eventhandler-overrides like OnLoad()."}, {"owner": {"reputation": 2123, "user_id": 3715853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab97a97ef6e4c263972d713671b58e3?s=128&d=identicon&r=PG&f=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/3715853/holger"}, "edited": false, "score": 0, "creation_date": 1575490616, "post_id": 59183440, "comment_id": 104588541, "body": "If you apply both of your things and avoid the Designer-generated assignment of null, than yes. Cause it&#39;s not called in InitializeComponent(). Microsoft should have made this DesignMode property static, cause it has to have the same value for all Controls, by definition. But they set it one by one."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 2123, "user_id": 3715853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab97a97ef6e4c263972d713671b58e3?s=128&d=identicon&r=PG&f=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/3715853/holger"}, "edited": false, "score": 0, "creation_date": 1575490820, "post_id": 59183440, "comment_id": 104588630, "body": "@Holger You don&#39;t need to apply both. One is enough. To make it clearer, I edited the answer."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 2123, "user_id": 3715853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab97a97ef6e4c263972d713671b58e3?s=128&d=identicon&r=PG&f=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/3715853/holger"}, "edited": false, "score": 0, "creation_date": 1575490948, "post_id": 59183440, "comment_id": 104588690, "body": "@Holger Your point about <code>DesignMode</code> in constructor is correct, but you for your information, designer doesn&#39;t call the <code>InitializeComponent</code> It just parses that method. Look at <a href=\"https://stackoverflow.com/a/32299687/3110834\">my answer here</a> and see the example which is full of errors but designer works well."}, {"owner": {"reputation": 2123, "user_id": 3715853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab97a97ef6e4c263972d713671b58e3?s=128&d=identicon&r=PG&f=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/3715853/holger"}, "edited": false, "score": 0, "creation_date": 1575495577, "post_id": 59183440, "comment_id": 104590382, "body": "OK, tried it and you are right. But this is only valid for the currently designed control itself. A referenced control - and the base class control are actually compiled and executed. So his Layout.InitialiedComponent is really executed with DesignMode =false on DesignTime. So your &quot;works in this case&quot; was right but a little mysterious/unspecific."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 2123, "user_id": 3715853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab97a97ef6e4c263972d713671b58e3?s=128&d=identicon&r=PG&f=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/3715853/holger"}, "edited": false, "score": 0, "creation_date": 1575495814, "post_id": 59183440, "comment_id": 104590447, "body": "@Holger As I have already mentioned in the linked post, the code in the constructor of the base class will execute. This is how the windows forms designer works. It creates an instance of the base class which you are designing (it means it runs the constructor of its base), then parses the InitializeComponent and setup the controls."}, {"owner": {"reputation": 2123, "user_id": 3715853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab97a97ef6e4c263972d713671b58e3?s=128&d=identicon&r=PG&f=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/3715853/holger"}, "edited": false, "score": 1, "creation_date": 1575496644, "post_id": 59183440, "comment_id": 104590707, "body": "I already confirmed, you are right. I didn&#39;t say anything contracdicting."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 2123, "user_id": 3715853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab97a97ef6e4c263972d713671b58e3?s=128&d=identicon&r=PG&f=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/3715853/holger"}, "edited": false, "score": 0, "creation_date": 1580580894, "post_id": 59183440, "comment_id": 106147312, "body": "@Ross I&#39;ve noticed you have never upvoted a post. Do you mind to learn about it? At first place it will help future readers to identify good answers faster, and second, it will be like a token of appreciation and will add reputation score to answerers. To learn about it, take a <a href=\"https://stackoverflow.com/tour\">tour</a>. JFYI You can upvote a post by click on up arrow near the post. It&#39;s not compulsory at all, but is recommended. Upvoting is not limited to answers of your questions, whenever you find a useful post in the stackoverflow which helps you, you can upvote it."}], "tags": [], "owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "is_accepted": true, "score": 0, "last_activity_date": 1575490768, "last_edit_date": 1575490768, "creation_date": 1575487929, "answer_id": 59183440, "question_id": 59182897, "link": "https://stackoverflow.com/questions/59182897/user-control-error-message-displayed-during-compile/59183440#59183440", "title": "User Control error message displayed during Compile", "body": "<p><strong>General Advice:</strong> In general, you should throw an exception rather than showing a MessageBox. But it has nothing to do with the problem. </p>\n\n<p>You have defined the initial value of the property as null. This means, when you drop an instance of the control on the form, it will serialize the null assignment as well and generates a code like this:</p>\n\n<pre><code>userControl1.Name = \"userControl1\";\nuserControl1.Size = new Size( 100, 100);\nuserControl1.SomeProperty = null;\n...\n</code></pre>\n\n<p>To solve the problem, you can use either of the following options:</p>\n\n<ul>\n<li>Prevent designer from serializing the value if it's null.</li>\n<li>Disable the validation at design time.</li>\n<li>Prevent designer from serializing the value always. (as also proposed by Holger)</li>\n</ul>\n\n<p><strong>Example 1 - Prevent designer from serializing the value if it's null</strong></p>\n\n<p>You can set the default value of the property as null using <code>DefaultValue</code> attribute. Then it will not be serialized by designer when the value of the property is null when you drop the control on the form or when assign null value to the property at design time.</p>\n\n<pre><code>private SomeType someProperty = null;\n[DefaultValue(null)]\npublic SomeType SomeProperty \n{\n    get { return someProperty; }\n    set\n    {\n        if (value == null)\n            MessageBox.Show(\"Why null????\");\n        else\n            someProperty = value;\n    }\n}\n</code></pre>\n\n<p><strong>Example 2 - Disable the validation at design time</strong></p>\n\n<p>You can check if the control is in <code>DesignMode</code> then stop validation:</p>\n\n<pre><code>private SomeType someProperty = null;\npublic SomeType SomeProperty \n{\n    get { return someProperty; }\n    set\n    {\n        if (value == null &amp;&amp; !DesignMode)\n            MessageBox.Show(\"Why null????\");\n        else\n            someProperty = value;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 68, "user_id": 9028491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j5ab3.jpg?s=128&g=1", "display_name": "Ross", "link": "https://stackoverflow.com/users/9028491/ross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "accepted_answer_id": 59183440, "answer_count": 2, "score": 0, "last_activity_date": 1575490768, "creation_date": 1575485542, "last_edit_date": 1575488877, "question_id": 59182897, "link": "https://stackoverflow.com/questions/59182897/user-control-error-message-displayed-during-compile", "title": "User Control error message displayed during Compile", "body": "<p>I have created a C# User Control in Visual Studio 2019.  It has a property called \"BoundLayout\".</p>\n\n<pre><code>    public Layout BoundLayout\n    {\n        get\n        {\n            return _Layout;\n        }\n\n        set\n        {\n            _Layout = value as Layout;\n            if (_Layout == null)\n            {\n                MessageBox.Show(\"Value submitted is not of type 'LAYOUT'\",\"Invalid Value\",MessageBoxButtons.OK,MessageBoxIcon.Error);\n            }\n            else\n            {\n                InitializeControl();\n            }\n        }\n    }\n</code></pre>\n\n<p>If a program attempts to assign an incompatible value to the property an error message is displayed in a MessageBox.  This works correctly.</p>\n\n<p>What is very strange is that when ever I BUILD (not RUN) the project this error message is displayed in its modal MessageBox which must be acknowledged before you can return to Visual Studio.  This occurs when building in both Debug and Release modes.  A break point added to the property set code does not get triggered. The build completes successfully without errors or warnings and I can run the application.</p>\n\n<p>The application, including this User Control operates as intended. I have never encountered this behavior before.  Has anyone else?</p>\n\n<p><a href=\"https://i.stack.imgur.com/4TODJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4TODJ.png\" alt=\"Compiler &#39;Build&#39; results\"></a></p>\n\n<p>The complete (still in development) code for the User Control:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Drawing;\nusing System.Data;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace Dispatcher\n{\n    public partial class DivisionModuleGrid : UserControl\n    {\n        private Layout _Layout = null;\n\n        private ObservableListSource&lt;LayoutDivision&gt; _LayoutDivisions;\n\n        private DivisionModulesList _activeDivision = null;\n\n        private int _divisionCount;\n\n        public Layout BoundLayout\n        {\n            get\n            {\n                return _Layout;\n            }\n\n            set\n            {\n                _Layout = value as Layout;\n                if (_Layout == null)\n                {\n                    MessageBox.Show(\"Value submitted is not of type 'LAYOUT'\",\"Invalid Value\",MessageBoxButtons.OK,MessageBoxIcon.Error);\n                }\n                else\n                {\n                    InitializeControl();\n                }\n            }\n        }\n\n        public DivisionModulesList ActiveDivision\n        {\n            get\n            {\n                return _activeDivision;\n            }\n\n            set\n            {\n                _activeDivision = value as DivisionModulesList;\n\n                if (_activeDivision != null)\n                {\n                    lbl_ActiveDivision.Text = _activeDivision.DivisionName;\n                }\n                else\n                {\n                    lbl_ActiveDivision.Text = \"-No Active Division-\";\n                }\n            }\n        }\n\n\n        public DivisionModuleGrid()\n        {\n            InitializeComponent();\n        }\n\n\n        private void InitializeControl()\n        {\n            _LayoutDivisions = _Layout.LayoutDivisions;\n            _divisionCount = _LayoutDivisions.Count;\n\n            tbx_LayoutName.Text = _Layout.LayoutName;\n\n            //  Grid Layout divide into Rows &amp; Columns\n            int tlp_rows = _divisionCount / 3;\n\n\n\n            TableLayoutPanel tlp = (TableLayoutPanel)(Controls.Find(\"tlp_DivisionGrid\", false)[0]);\n            DivisionModulesList dml;\n\n            foreach (LayoutDivision ld in _LayoutDivisions)\n            {\n                dml = new DivisionModulesList(ld);\n                dml.BoundDivision = ld;\n\n                tlp.Controls.Add(dml);\n\n            }\n\n\n        }\n\n        private void Tlp_DivisionGrid_Paint(object sender, PaintEventArgs e)\n        {\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 291, "user_id": 10038206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a163c49db039b5a7c35b81f00e524e?s=128&d=identicon&r=PG&f=1", "display_name": "Topher", "link": "https://stackoverflow.com/users/10038206/topher"}, "edited": false, "score": 2, "creation_date": 1575490751, "post_id": 59182886, "comment_id": 104588603, "body": "Your code appears to work with a simple dataset.  What is the dataset that you are using for the waypoints?"}, {"owner": {"reputation": 291, "user_id": 10038206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a163c49db039b5a7c35b81f00e524e?s=128&d=identicon&r=PG&f=1", "display_name": "Topher", "link": "https://stackoverflow.com/users/10038206/topher"}, "edited": false, "score": 2, "creation_date": 1575490883, "post_id": 59182886, "comment_id": 104588657, "body": "Is there another script running somewhere that could influence the position of your platform?"}, {"owner": {"reputation": 179, "user_id": 10336050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t0A72.jpg?s=128&g=1", "display_name": "AntonioTorro", "link": "https://stackoverflow.com/users/10336050/antoniotorro"}, "edited": false, "score": 1, "creation_date": 1575511954, "post_id": 59182886, "comment_id": 104594467, "body": "I wonder if your platform is stored within an empty game object that didn&#39;t have its transform reset before making the platform a child object? If this is the case, you may want to remove all child objects from the empty and reset the transform then put the children back. On Run, children take the parents transform position and causes strange things like this to happen."}, {"owner": {"reputation": 1737, "user_id": 3657151, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a1eae85cb0bc9cf52b1b8cd64b31ec6?s=128&d=identicon&r=PG&f=1", "display_name": "user14492", "link": "https://stackoverflow.com/users/3657151/user14492"}, "edited": false, "score": 0, "creation_date": 1575515896, "post_id": 59182886, "comment_id": 104595278, "body": "Checkout docs for translate."}, {"owner": {"reputation": 189, "user_id": 12352707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/599294fe1f3d2ccaff9a05764d392d37?s=128&d=identicon&r=PG&f=1", "display_name": "Jhon Piper", "link": "https://stackoverflow.com/users/12352707/jhon-piper"}, "reply_to_user": {"reputation": 291, "user_id": 10038206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a163c49db039b5a7c35b81f00e524e?s=128&d=identicon&r=PG&f=1", "display_name": "Topher", "link": "https://stackoverflow.com/users/10038206/topher"}, "edited": false, "score": 0, "creation_date": 1575525405, "post_id": 59182886, "comment_id": 104597693, "body": "@Topher I don&#39;t have any other scripts tied to it that would be affecting it otherwise, I assume when you say dataset you mean the where my waypoints are located, I have 2 right now, element0 is located at 0,0,0 and element1 is loacted at 1,0,0."}, {"owner": {"reputation": 189, "user_id": 12352707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/599294fe1f3d2ccaff9a05764d392d37?s=128&d=identicon&r=PG&f=1", "display_name": "Jhon Piper", "link": "https://stackoverflow.com/users/12352707/jhon-piper"}, "reply_to_user": {"reputation": 179, "user_id": 10336050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t0A72.jpg?s=128&g=1", "display_name": "AntonioTorro", "link": "https://stackoverflow.com/users/10336050/antoniotorro"}, "edited": false, "score": 0, "creation_date": 1575525472, "post_id": 59182886, "comment_id": 104597714, "body": "@AntonioTorro The Platform is not a child of anything, so I don&#39;t see what else could be affecting it."}, {"owner": {"reputation": 189, "user_id": 12352707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/599294fe1f3d2ccaff9a05764d392d37?s=128&d=identicon&r=PG&f=1", "display_name": "Jhon Piper", "link": "https://stackoverflow.com/users/12352707/jhon-piper"}, "reply_to_user": {"reputation": 1737, "user_id": 3657151, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a1eae85cb0bc9cf52b1b8cd64b31ec6?s=128&d=identicon&r=PG&f=1", "display_name": "user14492", "link": "https://stackoverflow.com/users/3657151/user14492"}, "edited": false, "score": 0, "creation_date": 1575525530, "post_id": 59182886, "comment_id": 104597735, "body": "@user14492 That&#39;s not helpful, I have a pretty good understanding how how transform.translate works, if you see a specific flaw please speak up though."}, {"owner": {"reputation": 189, "user_id": 12352707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/599294fe1f3d2ccaff9a05764d392d37?s=128&d=identicon&r=PG&f=1", "display_name": "Jhon Piper", "link": "https://stackoverflow.com/users/12352707/jhon-piper"}, "edited": false, "score": 0, "creation_date": 1575526166, "post_id": 59182886, "comment_id": 104597943, "body": "<b>To those who have already commented and are doing a follow up:</b> I have done some more testing and found an oddity, read the update I made to the original post above before commenting again, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 12352707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/599294fe1f3d2ccaff9a05764d392d37?s=128&d=identicon&r=PG&f=1", "display_name": "Jhon Piper", "link": "https://stackoverflow.com/users/12352707/jhon-piper"}, "edited": false, "score": 0, "creation_date": 1575581634, "post_id": 59202387, "comment_id": 104625079, "body": "That works flawlessly! Thank you very much, and thank you for providing resources to learn about how the change affected  it!"}], "tags": [], "owner": {"reputation": 291, "user_id": 10038206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a163c49db039b5a7c35b81f00e524e?s=128&d=identicon&r=PG&f=1", "display_name": "Topher", "link": "https://stackoverflow.com/users/10038206/topher"}, "is_accepted": true, "score": 3, "last_activity_date": 1575578132, "last_edit_date": 1575578132, "creation_date": 1575575538, "answer_id": 59202387, "question_id": 59182886, "link": "https://stackoverflow.com/questions/59182886/strange-outputs-for-a-moving-platform-in-unity/59202387#59202387", "title": "Strange outputs for a moving platform in Unity", "body": "<p>Using the updated numbers ([0,0,0], [1,0,0]) works in my test app.   However, if I put a rotation on the object's Y axis, then I see behavior like you are seeing.  In Update, if you change:</p>\n\n<pre><code>transform.Translate(velocity);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>transform.Translate(velocity, Space.World); \n</code></pre>\n\n<p>You should see your desired behavior.  Note that \"transform.Translate(velocity)\" is the same as \"transform.Translate(velocity, Space.Self)\".  Your translation is being rotated.</p>\n\n<p>If you are curious, take a look at this for more information on how the values in the transform are applied:\n<a href=\"https://gamedev.stackexchange.com/questions/138358/what-is-the-transformation-order-when-using-the-transform-class\">https://gamedev.stackexchange.com/questions/138358/what-is-the-transformation-order-when-using-the-transform-class</a> </p>\n"}], "owner": {"reputation": 189, "user_id": 12352707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/599294fe1f3d2ccaff9a05764d392d37?s=128&d=identicon&r=PG&f=1", "display_name": "Jhon Piper", "link": "https://stackoverflow.com/users/12352707/jhon-piper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 1, "accepted_answer_id": 59202387, "answer_count": 1, "score": 5, "last_activity_date": 1575578132, "creation_date": 1575485478, "last_edit_date": 1575526417, "question_id": 59182886, "link": "https://stackoverflow.com/questions/59182886/strange-outputs-for-a-moving-platform-in-unity", "title": "Strange outputs for a moving platform in Unity", "body": "<p>First off, sorry it this isn't written very well, I've spend hours debugging this and I'm very stressed. I'm trying to make a moving platform in unity that can move between way-points, I don't want to have to have tons of gameobjects in the world taking up valuable processing power though so I'm trying to use something I can just add to the script through the editor.</p>\n\n<p>The only problem is that it seems to be doing this at an incredible speed:\n<a href=\"https://i.stack.imgur.com/Z1fj8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z1fj8.png\" alt=\"enter image description here\"></a>\nBlack = The Camera View, Blue = The platform and where it should be going based on waypoints, Red = What it is currently doing.</p>\n\n<p>I've spend hours trying to find a fix but I have no idea why it's doing this.</p>\n\n<p>My Script on the Platform:</p>\n\n<pre><code>public Vector3[] localWaypoints;\n    Vector3[] globalWaypoints;\n\n    public float speed;\n    public bool cyclic;\n    public float waitTime;\n    [Range(0, 2)]\n    public float easeAmount;\n\n    int fromWaypointIndex;\n    float percentBetweenWaypoints;\n    float nextMoveTime;\n\n    void Start()\n    {\n\n        globalWaypoints = new Vector3[localWaypoints.Length];\n        for (int i = 0; i &lt; localWaypoints.Length; i++)\n        {\n            globalWaypoints[i] = localWaypoints[i] + transform.position;\n        }\n    }\n\n    void Update()\n    {\n\n\n        Vector3 velocity = CalculatePlatformMovement();\n        transform.Translate(velocity);\n    }\n\n    float Ease(float x)\n    {\n        float a = easeAmount + 1;\n        return Mathf.Pow(x, a) / (Mathf.Pow(x, a) + Mathf.Pow(1 - x, a));\n    }\n\n    Vector3 CalculatePlatformMovement()\n    {\n\n        if (Time.time &lt; nextMoveTime)\n        {\n            return Vector3.zero;\n        }\n\n        fromWaypointIndex %= globalWaypoints.Length;\n        int toWaypointIndex = (fromWaypointIndex + 1) % globalWaypoints.Length;\n        float distanceBetweenWaypoints = Vector3.Distance(globalWaypoints[fromWaypointIndex], globalWaypoints[toWaypointIndex]);\n        percentBetweenWaypoints += Time.deltaTime * speed / distanceBetweenWaypoints;\n        percentBetweenWaypoints = Mathf.Clamp01(percentBetweenWaypoints);\n        float easedPercentBetweenWaypoints = Ease(percentBetweenWaypoints);\n\n        Vector3 newPos = Vector3.Lerp(globalWaypoints[fromWaypointIndex], globalWaypoints[toWaypointIndex], easedPercentBetweenWaypoints);\n\n        if (percentBetweenWaypoints &gt;= 1)\n        {\n            percentBetweenWaypoints = 0;\n            fromWaypointIndex++;\n\n            if (!cyclic)\n            {\n                if (fromWaypointIndex &gt;= globalWaypoints.Length - 1)\n                {\n                    fromWaypointIndex = 0;\n                    System.Array.Reverse(globalWaypoints);\n                }\n            }\n            nextMoveTime = Time.time + waitTime;\n        }\n\n        return newPos - transform.position;\n    }\n\n\n    struct PassengerMovement\n    {\n        public Transform transform;\n        public Vector3 velocity;\n        public bool standingOnPlatform;\n        public bool moveBeforePlatform;\n\n        public PassengerMovement(Transform _transform, Vector3 _velocity, bool _standingOnPlatform, bool _moveBeforePlatform)\n        {\n            transform = _transform;\n            velocity = _velocity;\n            standingOnPlatform = _standingOnPlatform;\n            moveBeforePlatform = _moveBeforePlatform;\n        }\n    }\n\n    void OnDrawGizmos()\n    {\n        if (localWaypoints != null)\n        {\n            Gizmos.color = Color.red;\n            float size = .3f;\n\n            for (int i = 0; i &lt; localWaypoints.Length; i++)\n            {\n                Vector3 globalWaypointPos = (Application.isPlaying) ? globalWaypoints[i] : localWaypoints[i] + transform.position;\n                Gizmos.DrawLine(globalWaypointPos - Vector3.up * size, globalWaypointPos + Vector3.up * size);\n                Gizmos.DrawLine(globalWaypointPos - Vector3.left * size, globalWaypointPos + Vector3.left * size);\n            }\n        }\n    }\n</code></pre>\n\n<p><strong>UPDATE:</strong> Upon further testing I found that if the first object in my localWaypoint array is set to 0,0,0 and my 2nd object is set to 1,0,0 then the platform will spiral to the right, making sure to hit the waypoints as it's spiraling, and then spiraling out into nowhere like in the image above. But if I set my first object to 0,0,0 and my second object to -1,0,0 then the object will act the same way as before, but will spiral to the left as displayed in this image. (The second image has also bee updated to display how the platfrom makes sure to hit both waypoints before is spirals out into nowhere).</p>\n\n<p><a href=\"https://i.stack.imgur.com/PbiHK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PbiHK.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've also noticed that if I set both waypoints to 0,0,0 then the platform stays still, these 2 things prove that it has somthing to do with the way the waypoints are being handled and not some other script or parent object interfering.</p>\n"}, {"tags": ["c#", ".net", "excel", "openxml", "openxml-sdk"], "comments": [{"owner": {"reputation": 10920, "user_id": 3791802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12513029b86516f70266af2dc9d037cc?s=128&d=identicon&r=PG", "display_name": "petelids", "link": "https://stackoverflow.com/users/3791802/petelids"}, "edited": false, "score": 0, "creation_date": 1575555765, "post_id": 59182883, "comment_id": 104612454, "body": "Those numbers are indices into the <code>SharedStrings</code> table - have a look at the bottom part of <a href=\"https://stackoverflow.com/a/25169876/3791802\">my answer here</a> which might shed some light. If that doesn&#39;t help and I get a chance I&#39;ll write up an answer here later."}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "reply_to_user": {"reputation": 10920, "user_id": 3791802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12513029b86516f70266af2dc9d037cc?s=128&d=identicon&r=PG", "display_name": "petelids", "link": "https://stackoverflow.com/users/3791802/petelids"}, "edited": false, "score": 0, "creation_date": 1575571843, "post_id": 59182883, "comment_id": 104620814, "body": "@petelids Yes, that worked for me... thank you so much. I upvoted the answer because it helped me. Incidentally, do you think I should mark this question as a duplicate of the other question so that other people can find it more easily?"}, {"owner": {"reputation": 10920, "user_id": 3791802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12513029b86516f70266af2dc9d037cc?s=128&d=identicon&r=PG", "display_name": "petelids", "link": "https://stackoverflow.com/users/3791802/petelids"}, "edited": false, "score": 0, "creation_date": 1575577859, "post_id": 59182883, "comment_id": 104623505, "body": "Glad it helped @EJoshua. I&#39;m not sure about the dupe, I didn&#39;t vote to close as although the second part of that answer does answer your question that wasn&#39;t what that question was all about. Up to to you entirely."}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "reply_to_user": {"reputation": 10920, "user_id": 3791802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12513029b86516f70266af2dc9d037cc?s=128&d=identicon&r=PG", "display_name": "petelids", "link": "https://stackoverflow.com/users/3791802/petelids"}, "edited": false, "score": 0, "creation_date": 1575577941, "post_id": 59182883, "comment_id": 104623541, "body": "@petelids Yeah, it&#39;s an odd case... it&#39;s a different question, but the answer happens to fix my problem too."}], "owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575485466, "creation_date": 1575485466, "question_id": 59182883, "link": "https://stackoverflow.com/questions/59182883/open-xml-sdk-reads-consecutive-integers-instead-of-the-actual-values-in-my-excel", "title": "Open XML SDK reads consecutive integers instead of the actual values in my Excel spreadsheet", "body": "<p>I was following the Microsoft tutorial <a href=\"https://docs.microsoft.com/en-us/office/open-xml/how-to-parse-and-read-a-large-spreadsheet\" rel=\"nofollow noreferrer\">here</a> on how to read Excel documents with the Open XML SDK. I was following the DOM approach outlined in the tutorial. However, when I try to read rows, I get consecutive numbers instead of the data that's actually written in the cells (see below for examples).</p>\n\n<p>My Excel spreadsheet is as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LzET7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LzET7.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here's my reader class:</p>\n\n<pre><code>public sealed class ExcelReader\n{\n    private readonly string[] headers;\n\n    private SheetData sheetData;\n\n    private Row[] rows;\n\n    private int currRow = 0;\n\n    public ExcelReader(string fileName)\n    {\n        SpreadsheetDocument spreadsheetDocument = SpreadsheetDocument.Open(fileName, false);\n\n        WorkbookPart workbookPart = spreadsheetDocument.WorkbookPart;\n        WorksheetPart worksheetPart = workbookPart.WorksheetParts.First();\n        sheetData = worksheetPart.Worksheet.Elements&lt;SheetData&gt;().First();\n\n        headers = ReadRow();\n    }\n\n    public string[] ReadRow()\n    {\n        if (rows == null)\n        {\n            rows = sheetData.Elements&lt;Row&gt;().ToArray();\n        }\n\n        // If we already read all of the rows, just return null on any subsequent call\n        if (currRow == (rows.Length - 1))\n        {\n            return null;\n        }\n\n        Row row = rows[currRow];\n\n        currRow++;\n\n        var list = new List&lt;string&gt;();\n\n        foreach (Cell c in row.Elements&lt;Cell&gt;())\n        {\n            list.Add(c.CellValue.Text);\n        }\n\n        return list.ToArray();\n    }\n}\n</code></pre>\n\n<p>And here's my unit test:</p>\n\n<pre><code>    [TestMethod]\n    public void ReadExcelMCVETest()\n    {\n        var reader = new ExcelReader(\"ExcelReaderTest.xlsx\");\n\n        for (int i = 2; i &lt;= 10; i++)\n        {\n            string[] row = reader.ReadRow();\n\n            switch (i)\n            {\n                case 2:\n                    WhatRowMustBe(row, \"d\", \"e\", \"f\");\n                    break;\n\n                case 3:\n                    WhatRowMustBe(row, \"g\", \"h\", \"i\");\n                    break;\n\n                case 4:\n                    WhatRowMustBe(row, \"j\", \"k\", \"l\");\n                    break;\n\n                case 5:\n                    WhatRowMustBe(row, \"m\", \"n\", \"o\");\n                    break;\n\n                case 6:\n                    WhatRowMustBe(row, \"p\", \"q\", \"r\");\n                    break;\n\n                case 7:\n                    WhatRowMustBe(row, \"s\", \"t\", \"u\");\n                    break;\n\n                case 8:\n                    WhatRowMustBe(row, \"v\", \"w\", \"x\");\n                    break;\n\n                case 9:\n                    WhatRowMustBe(row, \"y\", \"z\", \"zz\");\n                    break;\n\n                case 10:\n                    Assert.IsNull(row);\n                    break;\n            }\n        }\n    }\n\n    private void WhatRowMustBe(string[] actualRow, params string[] expectedRow)\n    {\n        Assert.IsNotNull(actualRow);\n\n        Assert.AreEqual(expectedRow.Length, actualRow.Length, \"Wrong length row\");\n\n        for (int i = 0; i &lt; actualRow.Length; i++)\n        {\n            Assert.AreEqual(expectedRow[i], actualRow[i], \"Wrong value\");\n        }\n    }\n</code></pre>\n\n<p>I expected that, when I call <code>ReadRow()</code>, it would retrieve an array populated with the values in the next row. For example, the first call (which currently happens in the constructor) should return an array with <code>[\"a\", \"b\", \"c\"]</code> (i.e. the header row), and the next call (which happens in the unit test) would result in <code>[\"d\", \"e\", \"f\"]</code>. Unfortunately, the actual result of the first call is <code>[\"0\", \"1\", \"2\"]</code>, and the actual result of the second call is <code>[\"3\", \"4\", \"5\"]</code>.</p>\n\n<p>The confusing part of this is that, unless I'm missing something, my code seems to be following the tutorial's code sample quite closely. Can anyone see what my mistake is? Or is there a bug in the tutorial's code?</p>\n"}, {"tags": ["c#", "iis", "ftp", "servermanager"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1575509126, "post_id": 59182873, "comment_id": 104593914, "body": "What do you exactly want to do by saying &quot;how to reference that one element&quot;? Do you want to iterate all location tags? If so, direct XML editing should be a much quicker way to go."}, {"owner": {"reputation": 681, "user_id": 5056011, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/474ae8471c3ea6be8648d2c48a699633?s=128&d=identicon&r=PG&f=1", "display_name": "Velocedge", "link": "https://stackoverflow.com/users/5056011/velocedge"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1575550267, "post_id": 59182873, "comment_id": 104609315, "body": "I want to find the location node/element with a specific path, like &quot;FTP/LDNClient/Reports/aClientPath&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 681, "user_id": 5056011, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/474ae8471c3ea6be8648d2c48a699633?s=128&d=identicon&r=PG&f=1", "display_name": "Velocedge", "link": "https://stackoverflow.com/users/5056011/velocedge"}, "edited": false, "score": 0, "creation_date": 1575550410, "post_id": 59191794, "comment_id": 104609403, "body": "I can find the accessType, users, roles, and permissions.  What I can&#39;t find is the location attribute &quot;path&quot; like:  &lt;location path=&quot;FTP/LDNClient/Reports/aClientPath&quot;&gt;"}, {"owner": {"reputation": 2795, "user_id": 11944612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/278c2eeb5b26a5c4831612e5a288c936?s=128&d=identicon&r=PG&f=1", "display_name": "Jokies Ding", "link": "https://stackoverflow.com/users/11944612/jokies-ding"}, "reply_to_user": {"reputation": 681, "user_id": 5056011, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/474ae8471c3ea6be8648d2c48a699633?s=128&d=identicon&r=PG&f=1", "display_name": "Velocedge", "link": "https://stackoverflow.com/users/5056011/velocedge"}, "edited": false, "score": 1, "creation_date": 1575601583, "post_id": 59191794, "comment_id": 104630199, "body": "@Velocedge When you load config.GetSection(&quot;system.ftpServer/security/authorization&quot;, &quot;ftp/LDNClient/Reports/aClientPath&quot;); It is always reading &lt;location path&gt; because authorization section is read-only in web.config and it is only writable in applicationhost.config"}], "tags": [], "owner": {"reputation": 2795, "user_id": 11944612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/278c2eeb5b26a5c4831612e5a288c936?s=128&d=identicon&r=PG&f=1", "display_name": "Jokies Ding", "link": "https://stackoverflow.com/users/11944612/jokies-ding"}, "is_accepted": false, "score": 0, "last_activity_date": 1575537564, "creation_date": 1575537564, "answer_id": 59191794, "question_id": 59182873, "link": "https://stackoverflow.com/questions/59182873/how-do-i-modify-an-iis-ftp-authorization-rule-for-a-specific-path-in-c/59191794#59191794", "title": "How do I modify an IIS FTP Authorization Rule for a specific path in C#?", "body": "<p>This is the sample code that configuration manager provided for modifying permission. It will search element based on multiple attribute.</p>\n\n<p>Not sure if it achieve your requirement.</p>\n\n<pre><code>using System;\nusing System.Text;\nusing Microsoft.Web.Administration;\n\ninternal static class Sample {\n\n    private static void Main() {\n\n        using(ServerManager serverManager = new ServerManager()) { \n            Configuration config = serverManager.GetApplicationHostConfiguration();\n\n            ConfigurationSection authorizationSection = config.GetSection(\"system.ftpServer/security/authorization\", \"ftp/LDNClient/Reports/aClientPath\");\n\n            ConfigurationElementCollection authorizationCollection = authorizationSection.GetCollection();\n\n            ConfigurationElement addElement = FindElement(authorizationCollection, \"add\", \"users\", @\"LDNClient\", \"roles\", @\"\", \"permissions\", @\"3\");\n            if (addElement == null) throw new InvalidOperationException(\"Element not found!\");\n\n            addElement[\"permissions\"] = @\"Read\";\n\n            serverManager.CommitChanges();\n        }\n    }\n\n    private static ConfigurationElement FindElement(ConfigurationElementCollection collection, string elementTagName, params string[] keyValues) {\n        foreach (ConfigurationElement element in collection) {\n            if (String.Equals(element.ElementTagName, elementTagName, StringComparison.OrdinalIgnoreCase)) {\n                bool matches = true;\n\n                for (int i = 0; i &lt; keyValues.Length; i += 2) {\n                    object o = element.GetAttributeValue(keyValues[i]);\n                    string value = null;\n                    if (o != null) {\n                        value = o.ToString();\n                    }\n\n                    if (!String.Equals(value, keyValues[i + 1], StringComparison.OrdinalIgnoreCase)) {\n                        matches = false;\n                        break;\n                    }\n                }\n                if (matches) {\n                    return element;\n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 681, "user_id": 5056011, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/474ae8471c3ea6be8648d2c48a699633?s=128&d=identicon&r=PG&f=1", "display_name": "Velocedge", "link": "https://stackoverflow.com/users/5056011/velocedge"}, "is_accepted": true, "score": 0, "last_activity_date": 1575805102, "creation_date": 1575805102, "answer_id": 59234991, "question_id": 59182873, "link": "https://stackoverflow.com/questions/59182873/how-do-i-modify-an-iis-ftp-authorization-rule-for-a-specific-path-in-c/59234991#59234991", "title": "How do I modify an IIS FTP Authorization Rule for a specific path in C#?", "body": "<p>I don't totally understand why it had to be this way but I took a look inside the applicationHost.config file and duplicated it.  There was a remove of the \"write\" and an add of a \"read, write\".  Works so I'm going to call it good enough.</p>\n\n<pre><code>                ConfigurationElement addElement = authorizationCollection.CreateElement(\"remove\");\n                addElement[\"users\"] = @\"LDNClient\";\n                addElement[\"roles\"] = @\"\";\n                addElement[\"permissions\"] = @\"Write\";\n                authorizationCollection.Add(addElement);\n\n                addElement = authorizationCollection.CreateElement(\"add\");\n                addElement[\"accessType\"] = @\"Allow\";\n                addElement[\"users\"] = @\"LDNClient\";\n                addElement[\"roles\"] = @\"\";\n                addElement[\"permissions\"] = @\"Read, Write\";\n                authorizationCollection.Add(addElement);\n\n                serverManager.CommitChanges();\n</code></pre>\n"}], "owner": {"reputation": 681, "user_id": 5056011, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/474ae8471c3ea6be8648d2c48a699633?s=128&d=identicon&r=PG&f=1", "display_name": "Velocedge", "link": "https://stackoverflow.com/users/5056011/velocedge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 59234991, "answer_count": 2, "score": 0, "last_activity_date": 1575805102, "creation_date": 1575485402, "question_id": 59182873, "link": "https://stackoverflow.com/questions/59182873/how-do-i-modify-an-iis-ftp-authorization-rule-for-a-specific-path-in-c", "title": "How do I modify an IIS FTP Authorization Rule for a specific path in C#?", "body": "<p>In Server 2008+ I am programatically creating new folders in a virtual directory, Reports, in the FTP site.  I can create a new FTP Authorization Rule for each new file path with:</p>\n\n<pre><code>using (ServerManager serverManager = new ServerManager())\n{\nConfiguration config = serverManager.GetApplicationHostConfiguration();\nConfigurationSection authorizationSection = config.GetSection(\"system.ftpServer/security/authorization\", \"FTP/LDNClient/Reports/aClientPath\");\nConfigurationElementCollection authorizationCollection = authorizationSection.GetCollection();\n\nConfigurationElement addElement = authorizationCollection.CreateElement(\"add\");\naddElement[\"accessType\"] = @\"Allow\";\naddElement[\"users\"] = @\"LDNClient\";\naddElement[\"roles\"] = @\"\";\naddElement[\"permissions\"] = @\"Read, Write\";\nauthorizationCollection.Add(addElement);\n\nserverManager.CommitChanges();\n}\n</code></pre>\n\n<p>Where \"FTP/LDNClient/Reports/aClientPath\" is the path for the rule.  But there are a large number of elements for the same user with different paths.  If I open applicationHost.config I can see the different ConfigurationElements with the paths like, \"aClientPath\":</p>\n\n<pre><code>&lt;location path=\"FTP/LDNClient/Reports/aClientPath\"&gt;\n    &lt;system.ftpServer&gt;\n        &lt;security&gt;\n            &lt;authorization&gt;\n                &lt;remove users=\"LDNClient\" roles=\"\" permissions=\"Write\" /&gt;\n                &lt;add accessType=\"Allow\" users=\"LDNClient\" permissions=\"Read, Write\" /&gt;\n            &lt;/authorization&gt;\n        &lt;/security&gt;\n    &lt;/system.ftpServer&gt;\n&lt;/location&gt;\n</code></pre>\n\n<p>But I can't figure out how to reference that one element so I can either (1) remove it or (2) modify the permissions.  I can roll through each node with:</p>\n\n<pre><code>foreach (ConfigurationElement item in authorizationCollection)  \n{\n   // Do something with item here\n}\n</code></pre>\n\n<p>But I can find the path for aClientPath in \"item\". Using the location node above, how would I delete it or modify its permissions?</p>\n"}, {"tags": ["c#", "visual-studio", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "is_accepted": true, "score": 4, "last_activity_date": 1575485317, "creation_date": 1575485317, "answer_id": 59182854, "question_id": 59182778, "link": "https://stackoverflow.com/questions/59182778/how-do-i-solve-cs7036-error-between-classes-in-unity/59182854#59182854", "title": "How do I solve CS7036 error between classes in unity?", "body": "<p>You <a href=\"https://answers.unity.com/questions/32413/using-constructors-in-unity-c.html\" rel=\"nofollow noreferrer\">shouldn't add constructors</a> to MonoBehaviours, as the Unity Engine is responsible for instantiating them and will never pass your constructors arguments (you shouldn't be creating instances of MonoBehaviours, either).</p>\n\n<p>Just remove your Item constructor and assign the values manually whenever needed. Other construction code should be done in <code>Awake()</code> or <code>Start()</code>.</p>\n"}], "owner": {"reputation": 113, "user_id": 12348070, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VBuMcfQYl5c/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdp1lPoLsKiC-ZP_bvgOGVelgWQsQ/photo.jpg?sz=128", "display_name": "Hakeem Thomas", "link": "https://stackoverflow.com/users/12348070/hakeem-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 880, "favorite_count": 0, "accepted_answer_id": 59182854, "answer_count": 1, "score": 1, "last_activity_date": 1575485317, "creation_date": 1575484975, "question_id": 59182778, "link": "https://stackoverflow.com/questions/59182778/how-do-i-solve-cs7036-error-between-classes-in-unity", "title": "How do I solve CS7036 error between classes in unity?", "body": "<p>These two blocks of code I assume are involved with the following error: </p>\n\n<blockquote>\n  <p>Assets\\Scripts\\Weapons.cs(8,12): error CS7036: There is no argument given that corresponds to the required formal parameter 'name' of 'Item.Item(string, int)'</p>\n</blockquote>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class Item : MonoBehaviour\n{\n    private string name;\n    private int quantity;\n\n    public Item(string name, int quantity)\n    {\n        this.name = name;\n        this.quantity = quantity;\n    }\n    public string Name\n    {\n        get { return name; }\n        set { name = value; }\n    }\n\n    public int Quantity\n    {\n        get { return quantity; }\n        set { quantity = value; }\n    }\n\n    public virtual void UseItem()\n    {\n\n    }\n}\n</code></pre>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class Weapons : Item\n{\n    public GameObject bullet;\n    public GameObject shotgunSpawn;\n    public GameObject shotgunSpawn2;\n\n    //public bool useGun;\n\n    public Inventory iw;\n    GUI_2D m;\n\n    public float Speed;\n\n    GameObject patroller;\n    GameObject guard;\n\n    public bool pellet;\n    public bool shotGun;\n    public bool barGun;\n    public PlayerController player;\n\n    // Start is called before the first frame update\n    void Start()\n    {\n        Speed = 5f;\n        player = GameObject.FindGameObjectWithTag(\"Player\");\n        patroller = GameObject.FindGameObjectWithTag(\"Patroller\");\n        guard = GameObject.FindGameObjectWithTag(\"Guard\");\n        guard = GameObject.FindGameObjectWithTag(\"Shotgun\");\n        pellet = false;\n        shotGun = false;\n        barGun = false;\n    }\n\n    void DestroyEnemy()\n    {\n        if (patroller)\n        {\n            patroller.SetActive(false);\n        }\n        if (guard)\n        {\n            patroller.SetActive(false);\n        }\n    }\n\n    private void OnTriggerEnter(Collider other)\n    {\n        if (iw.invItems.Count &lt; 12)\n        {\n            if (other.gameObject.CompareTag(\"Player\"))\n            {\n                pellet = true;\n            }\n        }\n    }\n\n    public override void UseItem()\n    {\n        if (pellet)\n        {\n            player.pellet = true;\n            player.shotGun = false;\n            player.barGun = false;\n        }\n        if (shotGun)\n        {\n            player.pellet = false;\n            player.shotGun = true;\n            player.barGun = false;\n        }\n        if (barGun)\n        {\n            player.pellet = false;\n            player.shotGun = false;\n            player.barGun = true;\n        }\n         base.UseItem();\n    }\n}\n</code></pre>\n\n<p>I am not trying to change the item class since doing so will affect another class that depends on the item classes constructor. Unless there is another way to resolve the error by changing the item class. The error given is also affecting another class in the same way. I am hoping to solve the issue in both the weapon class and the other class from an answer here. Thank you in advance.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 7052, "user_id": 2084315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/650350a4564c8b0eaeddbe972a48f076?s=128&d=identicon&r=PG&f=1", "display_name": "ps2goat", "link": "https://stackoverflow.com/users/2084315/ps2goat"}, "edited": false, "score": 0, "creation_date": 1575485333, "post_id": 59182764, "comment_id": 104586466, "body": "You have to parse the input string as a date. Otherwise, don&#39;t specify your column types and you can pass in strings-- SQL Server would then interpret the strings into the data type. I believe that used a command like <code>insertCmd.Parameters.AddWithValue(&#39;@paramname&#39;, &#39;value&#39;)</code> the last time I used it."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 6, "creation_date": 1575489112, "post_id": 59182764, "comment_id": 104587926, "body": "Always use parameters to avoid sql injection and formatting errors.  All your queries should look like the first block."}, {"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 0, "creation_date": 1575499445, "post_id": 59182764, "comment_id": 104591538, "body": "If the first column has an  integer datatype, why are you adding a <code>string</code> as <code>VarChar</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 12123812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4011f68d4dd408cfad65963a3f12b2?s=128&d=identicon&r=PG&f=1", "display_name": "DanielBeck", "link": "https://stackoverflow.com/users/12123812/danielbeck"}, "edited": false, "score": 0, "creation_date": 1575563042, "post_id": 59185330, "comment_id": 104616600, "body": "Thanks man, it works now. I will heed what you say about parameterized queries. Still learning you know :D thanks again!"}], "tags": [], "owner": {"reputation": 2497, "user_id": 11604722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GA67aL2m6Yc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzsybeEEYKZhZwTKe-Q9-Y-M4e6A/mo/photo.jpg?sz=128", "display_name": "Joshua Robinson", "link": "https://stackoverflow.com/users/11604722/joshua-robinson"}, "is_accepted": true, "score": 2, "last_activity_date": 1575498422, "last_edit_date": 1575498422, "creation_date": 1575497357, "answer_id": 59185330, "question_id": 59182764, "link": "https://stackoverflow.com/questions/59182764/load-date-from-local-database-into-list-error/59185330#59185330", "title": "Load date from local database into list, error", "body": "<p>As was mentioned in the comments, you should not be using string concatenation to build your select query. You should be using a parameterized query, just like you do when inserting. This will not only eliminate the formatting issue that is likely causing the exception you're seeing, but also protect you from <a href=\"https://www.owasp.org/index.php/SQL_Injection\" rel=\"nofollow noreferrer\">SQL Injection attacks</a>.</p>\n\n<pre><code>DateTime today = DateTime.Now;\nDateTime yearAgo = DateTime.Now.AddYears(-1);\nDateTime sdate = new DateTime();\nSqlDataReader reader;\nList&lt;DateTime&gt; dates = new List&lt;DateTime&gt;();\n\nSqlCommand selectCmd = new SqlCommand(\"SELECT * FROM Measurements where DateTime betweeen @today AND @yearAgo\", dbConnection);\ndbConnection.Open();\n\nselectCmd.Parameters.AddWithValue(\"today\", today);\nselectCmd.Parameters.AddWithValue(\"yearAgo\", yearAgo);\n\nreader = selectCmd.ExecuteReader();\n\nwhile (reader.Read())\n{\n   sdate = reader.GetDateTime(reader.GetOrdinal(\"DateTime\"));\n   dates.Add(sdate);\n   textBox1.AppendText(sdate.ToString());\n}\nreader.Close();\ndbConnection.Close();\n</code></pre>\n\n<p>As a side note, the query as you've written it will never return results. You are requesting every record created on or after <code>@today</code> AND on or before <code>@yearAgo</code>. It's like asking for every number greater than or equal to 10 AND less than or equal to 5; any number greater than or equal to 10 cannot be less than or equal to 5. You need to flip the <code>@today</code> and <code>@yearAgo</code> parameters in your query.</p>\n\n<p><code>\"SELECT * FROM Measurements where DateTime between @yearAgo and @today\"</code></p>\n"}], "owner": {"reputation": 71, "user_id": 12123812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4011f68d4dd408cfad65963a3f12b2?s=128&d=identicon&r=PG&f=1", "display_name": "DanielBeck", "link": "https://stackoverflow.com/users/12123812/danielbeck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 59185330, "answer_count": 1, "score": 2, "last_activity_date": 1575498422, "creation_date": 1575484916, "last_edit_date": 1575488892, "question_id": 59182764, "link": "https://stackoverflow.com/questions/59182764/load-date-from-local-database-into-list-error", "title": "Load date from local database into list, error", "body": "<p>I have a local database with 2 columns. One is an integer datatype and the other is datetime datatype.</p>\n\n<p>I can successfully load data into the database with following code:</p>\n\n<pre><code>dataIn = myPort.ReadLine();\ndt = DateTime.Now;\n\ndbConnection.Open();\n\nusing (var insertCmd = new SqlCommand(@\"INSERT INTO Measurements (Distance,DateTime) VALUES (@Distance,@DateTime)\", dbConnection))\n{\n    insertCmd.Parameters.Add(\"@Distance\", SqlDbType.VarChar).Value = dataIn;\n    insertCmd.Parameters.Add(\"@DateTime\", SqlDbType.DateTime).Value = dt;\n    insertCmd.ExecuteNonQuery();\n}\n\ndbConnection.Close();\n</code></pre>\n\n<p>But when running the code below, to select some data and add it to a list, I get the following error.</p>\n\n<p>\"The conversion of a varchar data type to a datetime data type resulted in an out-of-range value\"</p>\n\n<pre><code>DateTime today = DateTime.Now;\nDateTime yearAgo = DateTime.Now.AddYears(-1);\nDateTime sdate = new DateTime();\nSqlDataReader reader;\nList&lt;DateTime&gt; dates = new List&lt;DateTime&gt;();\nSqlCommand selectCmd = new SqlCommand(\"SELECT * FROM Measurements where DateTime between '\" + today + \"' And '\" + yearAgo + \"'\", dbConnection);\ndbConnection.Open();\n\nreader = selectCmd.ExecuteReader();\n\nwhile (reader.Read())\n{\n    sdate = reader.GetDateTime(reader.GetOrdinal(\"DateTime\"));\n    dates.Add(sdate);\n    textBox1.AppendText(sdate.ToString());\n}\n\nreader.Close();\ndbConnection.Close();\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "audio", "arraylist", "audioclip"], "comments": [{"owner": {"reputation": 1737, "user_id": 3657151, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a1eae85cb0bc9cf52b1b8cd64b31ec6?s=128&d=identicon&r=PG&f=1", "display_name": "user14492", "link": "https://stackoverflow.com/users/3657151/user14492"}, "edited": false, "score": 0, "creation_date": 1575516080, "post_id": 59182759, "comment_id": 104595324, "body": "What is the even connected to?"}, {"owner": {"reputation": 61, "user_id": 7365552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EwuCl.jpg?s=128&g=1", "display_name": "pourya011", "link": "https://stackoverflow.com/users/7365552/pourya011"}, "reply_to_user": {"reputation": 1737, "user_id": 3657151, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a1eae85cb0bc9cf52b1b8cd64b31ec6?s=128&d=identicon&r=PG&f=1", "display_name": "user14492", "link": "https://stackoverflow.com/users/3657151/user14492"}, "edited": false, "score": 0, "creation_date": 1575529969, "post_id": 59182759, "comment_id": 104599281, "body": "Do you mean event? That is the event system of unity which will fire events in run time in specific times , in my case it will fire on each listofclips end iteration (list of audios played compeletly)"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 7365552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EwuCl.jpg?s=128&g=1", "display_name": "pourya011", "link": "https://stackoverflow.com/users/7365552/pourya011"}, "is_accepted": false, "score": 0, "last_activity_date": 1575530595, "creation_date": 1575530595, "answer_id": 59190121, "question_id": 59182759, "link": "https://stackoverflow.com/questions/59182759/playing-multiple-audio-clips-in-unity/59190121#59190121", "title": "Playing multiple audio clips in unity", "body": "<p>alright i found the solution by my self. here is the final result for creating list of sound with event onstop attached to each one of them individually and also playable by ID from another event and classes ,for anyone who need it</p>\n\n<pre><code>using System.Collections;\n\nusing System.Collections.Generic;\n\nusing UnityEngine;\n\nusing UnityEngine.Events;\n\n\n[RequireComponent(typeof(AudioSource))]\n\npublic class MainAudioManager : MonoBehaviour {\n\n\npublic List&lt;soundInfo&gt; soundList = new List&lt;soundInfo&gt;();\n\nAudioSource audioSource;\n\nsoundInfo curentSoundInfo;\n\nfloat audioLenght;\n\n\nvoid Start () {\n\n\n    audioSource = gameObject.GetComponent&lt;AudioSource&gt; ();\n\n}\n\n\npublic void SetAudioToPlay (int ID) {\n\n\n\n        for (int i = 0; i &lt; soundList.Count; i++) {\n\n\n            if (soundList [i].ID == ID) {\n\n                curentSoundInfo = soundList [i];\n\n                StartCoroutine(playSequencely());\n\n                return;\n\n        }\n\n    }\n\n}\n\n  IEnumerator playSequencely () {\n\n\n    yield return null;\n\n\n    for (int cnt = 0; cnt &lt; curentSoundInfo.clipsToPlay.Length; cnt++) {\n\n\n        audioSource.clip = curentSoundInfo.clipsToPlay [cnt];\n\n        audioSource.Play ();\n\n\n        while (audioSource.isPlaying) {\n\n\n            yield return null;\n\n        }\n\n\n        }\n\n    //Debug.Log (\"Last Audio Is Playing\");\n\n    curentSoundInfo.onStop.Invoke ();\n\n    }\n\n} \n\n\n[System.Serializable]\n\npublic class soundInfo {\n\n\n    public string name;\n\n    public int ID;\n\n    [TextArea (2, 8)] public string About;\n\n    public AudioClip[] clipsToPlay;\n\n    //public float delayBetween;\n\n    public UnityEvent onStop;\n\n}\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 7365552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EwuCl.jpg?s=128&g=1", "display_name": "pourya011", "link": "https://stackoverflow.com/users/7365552/pourya011"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1346, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1587719030, "creation_date": 1575484898, "last_edit_date": 1575530553, "question_id": 59182759, "link": "https://stackoverflow.com/questions/59182759/playing-multiple-audio-clips-in-unity", "title": "Playing multiple audio clips in unity", "body": "<p>There might be similar questions to this one but I couldn't find any useful.</p>\n\n<p>I have a simple scrips which has a list of classes that contains audio clips, id, and event system individually for each one of those elements.</p>\n\n<p>I need to make that audio clip fields to list and make them play by order until the last one then stop and fire event.</p>\n\n<p>Here's my code for only one audio clip slot:\n(Also i tried audio clip array but its just playing the first one on the audio clip array)</p>\n\n<pre><code>public class MainAudioManager : MonoBehaviour {\n\n\npublic List&lt;soundInfo&gt; currentsoundinfoList = new List&lt;soundInfo&gt;();\n\nAudioSource audioSource;\n\nsoundInfo curentSoundInfo;\n\nfloat audioLenght;\n\n\nvoid Start () {\n\n\n    audioSource = gameObject.GetComponent&lt;AudioSource&gt; ();\n\n}\n\n\npublic void SetAudioToPlay (int ID) {\n\n\n    for (int i = 0; i &lt; currentsoundinfoList.Count; i++) {\n\n        if (currentsoundinfoList [i].ID == ID) {\n\n            curentSoundInfo = currentsoundinfoList[i];\n\n            audioSource.clip = curentSoundInfo.clipToPlay;\n\n            audioSource.Play ();\n\n            audioLenght = audioSource.clip.length;\n\n            StartCoroutine (\"waitnigTillEbd\");\n\n\n            return;\n\n        }\n\n    }\n\n\n}\n\n\nIEnumerator waitnigTillEbd () {\n\n\n\n    yield return new WaitForSeconds (audioLenght + 1f);\n\n    curentSoundInfo.eventOnSound.Invoke ();\n\n}\n\n\n[System.Serializable]\n\npublic class soundInfo {\n\n\n    public string name;\n\n    public int ID;\n\n    public AudioClip clipToPlay;\n\n    public UnityEvent eventOnSound;\n\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "json", "automapper"], "answers": [{"comments": [{"owner": {"reputation": 44402, "user_id": 20471, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/35b5e9e9ccf3bfe5ff8d22b64a5234d3?s=128&d=identicon&r=PG", "display_name": "Joe Phillips", "link": "https://stackoverflow.com/users/20471/joe-phillips"}, "edited": false, "score": 0, "creation_date": 1575485953, "post_id": 59182971, "comment_id": 104586704, "body": "As you can see in my example, the <code>src.AlertPrice</code> doesn&#39;t exist. It is inside the JSON string"}, {"owner": {"reputation": 44402, "user_id": 20471, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/35b5e9e9ccf3bfe5ff8d22b64a5234d3?s=128&d=identicon&r=PG", "display_name": "Joe Phillips", "link": "https://stackoverflow.com/users/20471/joe-phillips"}, "edited": false, "score": 0, "creation_date": 1575490025, "post_id": 59182971, "comment_id": 104588293, "body": "I think I understand your example now and it might work. I will try it"}, {"owner": {"reputation": 44402, "user_id": 20471, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/35b5e9e9ccf3bfe5ff8d22b64a5234d3?s=128&d=identicon&r=PG", "display_name": "Joe Phillips", "link": "https://stackoverflow.com/users/20471/joe-phillips"}, "edited": false, "score": 0, "creation_date": 1575651178, "post_id": 59182971, "comment_id": 104650383, "body": "You can delete this answer"}], "tags": [], "owner": {"reputation": 47, "user_id": 12481445, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDnlhQAVuOLcSW40AWx857JlUXdvLnBR77RpNcK=k-s128", "display_name": "Shilpa Ka", "link": "https://stackoverflow.com/users/12481445/shilpa-ka"}, "is_accepted": false, "score": 0, "last_activity_date": 1575485885, "creation_date": 1575485885, "answer_id": 59182971, "question_id": 59182738, "link": "https://stackoverflow.com/questions/59182738/how-can-i-automap-an-object-with-a-json-property-to-an-object-without-a-json-pro/59182971#59182971", "title": "How can I automap an object with a JSON property to an object without a JSON property?", "body": "<pre><code>CreateMap&lt;sourceobject, destobject().AfterMap((src, dest) =&gt;\n            {\n                dest.AlertPrice = decimal.Parse(src.AlertPrice, CultureInfo.InvariantCulture);\n            });\n</code></pre>\n\n<p>Please use above code you have use Explicity Mapping</p>\n"}, {"comments": [{"owner": {"reputation": 44402, "user_id": 20471, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/35b5e9e9ccf3bfe5ff8d22b64a5234d3?s=128&d=identicon&r=PG", "display_name": "Joe Phillips", "link": "https://stackoverflow.com/users/20471/joe-phillips"}, "edited": false, "score": 0, "creation_date": 1575648520, "post_id": 59202113, "comment_id": 104649149, "body": "This example got me to where I needed. Seems to work"}], "tags": [], "owner": {"reputation": 47, "user_id": 12481445, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDnlhQAVuOLcSW40AWx857JlUXdvLnBR77RpNcK=k-s128", "display_name": "Shilpa Ka", "link": "https://stackoverflow.com/users/12481445/shilpa-ka"}, "is_accepted": true, "score": 1, "last_activity_date": 1575648508, "last_edit_date": 1575648508, "creation_date": 1575574291, "answer_id": 59202113, "question_id": 59182738, "link": "https://stackoverflow.com/questions/59182738/how-can-i-automap-an-object-with-a-json-property-to-an-object-without-a-json-pro/59202113#59202113", "title": "How can I automap an object with a JSON property to an object without a JSON property?", "body": "<pre><code>CreateMap&lt;sourceobject, destobject&gt;()\n    .AfterMap((src, dest) =&gt;\n        {\n            dest.AlertPrice = JsonConvert.DeserializeObject&lt;T&gt;(json).AlertPrice;\n        });\n</code></pre>\n"}], "owner": {"reputation": 44402, "user_id": 20471, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/35b5e9e9ccf3bfe5ff8d22b64a5234d3?s=128&d=identicon&r=PG", "display_name": "Joe Phillips", "link": "https://stackoverflow.com/users/20471/joe-phillips"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 59202113, "answer_count": 2, "score": 1, "last_activity_date": 1575648508, "creation_date": 1575484770, "question_id": 59182738, "link": "https://stackoverflow.com/questions/59182738/how-can-i-automap-an-object-with-a-json-property-to-an-object-without-a-json-pro", "title": "How can I automap an object with a JSON property to an object without a JSON property?", "body": "<p>What is a good way is to automap an object with some properties, one of which is a JSON string, to another object where that JSON string would be represented by properties instead of JSON.</p>\n\n<p>See the source and destination classes below for an example:</p>\n\n<p><code>CustomJson</code> will look something like this for this example but could be different for other AlertTypes: <code>{ \"AlertPrice\": 500.0 }</code></p>\n\n<pre><code>//This is the database table representation (source)\npublic class Alert\n{\n    public int Id { get; set; }\n    public int UserId { get; set; }\n    public string AlertType { get; set; }\n    public string CustomJson { get; set; }\n}\n\n//This is the business logic model (destination)\npublic class UserAlert\n{\n    public int Id { get; set; }\n    public int UserId { get; set; }\n    public string AlertType { get; set; }\n\n    //This comes from the CustomJson string in the DB\n    //A different AlertType may need to map to a different object with different properties\n    public decimal AlertPrice { get; set; }\n}\n</code></pre>\n\n<p>Will a <code>ValueResolver</code> allow me to do this or will it only be able to map part of the object? If not, perhaps I should just have a <code>Custom</code> property which contain the custom info instead of trying to meld it into the top-level object.</p>\n"}, {"tags": ["c#", "asp.net", "sql-server", "ssis"], "comments": [{"owner": {"reputation": 54384, "user_id": 181965, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87b30982fd95ba3e646522b1ced1f8cb?s=128&d=identicon&r=PG", "display_name": "billinkc", "link": "https://stackoverflow.com/users/181965/billinkc"}, "edited": false, "score": 0, "creation_date": 1575485492, "post_id": 59182666, "comment_id": 104586519, "body": "Using the logic in the referenced answer, your script would look something like <code>foreach(string raddress in EmailRecipient.Split(&#39;;&#39;)) { message.To.Add(raddress); }</code>"}, {"owner": {"reputation": 303, "user_id": 6590812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7679abe92f24b8c14f22a21ee46b7a42?s=128&d=identicon&r=PG", "display_name": "nick", "link": "https://stackoverflow.com/users/6590812/nick"}, "reply_to_user": {"reputation": 54384, "user_id": 181965, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87b30982fd95ba3e646522b1ced1f8cb?s=128&d=identicon&r=PG", "display_name": "billinkc", "link": "https://stackoverflow.com/users/181965/billinkc"}, "edited": false, "score": 0, "creation_date": 1575488653, "post_id": 59182666, "comment_id": 104587730, "body": "Thanks a lot. Really appreciate your help."}], "owner": {"reputation": 303, "user_id": 6590812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7679abe92f24b8c14f22a21ee46b7a42?s=128&d=identicon&r=PG", "display_name": "nick", "link": "https://stackoverflow.com/users/6590812/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "closed_date": 1575485340, "answer_count": 0, "score": 1, "last_activity_date": 1575484456, "creation_date": 1575484456, "question_id": 59182666, "link": "https://stackoverflow.com/questions/59182666/ssis-script-task-send-email-to-multiple-recepients", "closed_reason": "Duplicate", "title": "ssis script task send email to multiple recepients", "body": "<p>Hello I am using below script to send email from SSIS script task but I can not send email to multiple people. <a href=\"https://stackoverflow.com/questions/43637009/how-can-i-specify-credentials-for-simple-authentication-in-ssis-smtp-connection\">How Can I Specify Credentials for Simple Authentication in SSIS SMTP Connection Manager?</a>\nIt only works for 1 email address but It throws some kind of exception when I put 2 email addresses in my variable which is of string datatype.</p>\n\n<pre><code>EmailRecipient = abc@test.com;abc2@test.com\n</code></pre>\n\n<p>Please let me know. Thanks.</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms", "schedule"], "comments": [{"owner": {"reputation": 2340, "user_id": 2549001, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fglVM.jpg?s=128&g=1", "display_name": "Nirmal Subedi", "link": "https://stackoverflow.com/users/2549001/nirmal-subedi"}, "edited": false, "score": 0, "creation_date": 1575485375, "post_id": 59182566, "comment_id": 104586483, "body": "&quot;I got the same error.&quot; What is the error? Please post your error/exception you are getting."}, {"owner": {"reputation": 11, "user_id": 12481530, "user_type": "registered", "profile_image": "https://graph.facebook.com/179016699917495/picture?type=large", "display_name": "Sofia Volpe", "link": "https://stackoverflow.com/users/12481530/sofia-volpe"}, "reply_to_user": {"reputation": 2340, "user_id": 2549001, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fglVM.jpg?s=128&g=1", "display_name": "Nirmal Subedi", "link": "https://stackoverflow.com/users/2549001/nirmal-subedi"}, "edited": false, "score": 0, "creation_date": 1575743515, "post_id": 59182566, "comment_id": 104671356, "body": "System.InvalidCastException foi gerado Speciefied cast is not valid   And selects this line:  Label LabelPrioridade = ((StackLayout)Linha).Children[1] as Label;"}], "answers": [{"tags": [], "owner": {"reputation": 1910, "user_id": 10308336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxGaJ.jpg?s=128&g=1", "display_name": "Jessie Zhang -MSFT", "link": "https://stackoverflow.com/users/10308336/jessie-zhang-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1575859885, "creation_date": 1575859885, "answer_id": 59241942, "question_id": 59182566, "link": "https://stackoverflow.com/questions/59182566/salve-schedule-job-on-xamarin-forms/59241942#59241942", "title": "Salve Schedule job on Xamarin.Forms", "body": "<p>Why are you traversing the layout, it's fairly tedious and error prone.</p>\n\n<p>You can use property: <code>x:Name</code> : for example:</p>\n\n<pre><code>               &lt;Label\n                    x:Name=\"LabelPrioridade\"\n                    Text=\"Urgente e n\u00e3o importante\"\n                    HorizontalOptions=\"FillAndExpand\"\n                    TextColor=\"Gray\" /&gt;\n</code></pre>\n\n<p>and use like this,it is very simple:</p>\n\n<pre><code>   LabelPrioridade.TextColor = Color.Gray;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12481530, "user_type": "registered", "profile_image": "https://graph.facebook.com/179016699917495/picture?type=large", "display_name": "Sofia Volpe", "link": "https://stackoverflow.com/users/12481530/sofia-volpe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575859885, "creation_date": 1575484029, "question_id": 59182566, "link": "https://stackoverflow.com/questions/59182566/salve-schedule-job-on-xamarin-forms", "title": "Salve Schedule job on Xamarin.Forms", "body": "<p>I'm having an exception as a problem when I try to run the app on visual studio. I'm trying to build a schedule with xamarin forms and, when someone click on the relevance (the 4 options of \"Prioridade\"), it salved on the schedule as a new event. Everytime I try to salve a new thing to do on the simulation, I got the same error. Here are the codes: </p>\n\n<p><strong>XAML</strong></p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;ContentPage\n    xmlns =\"http://xamarin.com/schemas/2014/forms\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n    x:Class=\"XPerfilEMenu.Tarefas.Cadastro\"&gt;\n    &lt;ContentPage.Content&gt;\n        &lt;StackLayout Margin=\"40\" Spacing=\"40\"&gt;\n            &lt;Label FontAttributes=\"Bold\" Text=\"Nome da tarefa\" /&gt;\n            &lt;Entry x:Name=\"TarefaDigitada\"/&gt;\n            &lt;Label FontAttributes=\"Bold\" Text=\"Prioridade da tarefa\" /&gt;\n            &lt;StackLayout x:Name=\"SLPrioridades\" Spacing=\"30\"&gt;\n\n                &lt;!--URGENTE E IMPORTANTE--&gt;\n                    &lt;StackLayout Spacing=\"10\" Orientation=\"Horizontal\"&gt;\n                        &lt;!--&lt;Image Source=\"4.png\"/&gt;--&gt;\n                    &lt;Image&gt;\n                        &lt;Image.Source&gt;\n                            &lt;OnPlatform\n                                x:TypeArguments=\"FileImageSource\"&gt;\n                                &lt;On\n                                    Platform=\"iOS, Android\"\n                                    Value=\"Vermelho.png\" /&gt;\n                            &lt;/OnPlatform&gt;\n                        &lt;/Image.Source&gt;\n                    &lt;/Image&gt;\n                    &lt;Label\n                            Text=\"Urgente e importante\"\n                            TextColor=\"Gray\"\n                            HorizontalOptions=\"FillAndExpand\" /&gt;\n\n                    &lt;StackLayout.GestureRecognizers&gt;\n                        &lt;TapGestureRecognizer Tapped=\"PrioridadeEscolhida\" /&gt;\n                    &lt;/StackLayout.GestureRecognizers&gt;\n\n                    &lt;/StackLayout&gt;\n\n                &lt;!--URGENTE E N\u00c3O IMPORTANTE--&gt;\n                &lt;StackLayout\n                    Spacing=\"10\"\n                    Orientation=\"Horizontal\"&gt;\n                    &lt;Image\n                        Source=\"Laranja.png\" /&gt;\n                    &lt;Label\n                        Text=\"Urgente e n\u00e3o importante\"\n                        HorizontalOptions=\"FillAndExpand\"\n                        TextColor=\"Gray\" /&gt;\n\n                    &lt;StackLayout.GestureRecognizers&gt;\n                        &lt;TapGestureRecognizer\n                            Tapped=\"PrioridadeEscolhida\" /&gt;\n                    &lt;/StackLayout.GestureRecognizers&gt;\n                &lt;/StackLayout&gt;\n\n                &lt;!--N\u00c3O URGENTE E IMPORTANTE--&gt;\n                &lt;StackLayout\n                    Spacing=\"10\"\n                    Orientation=\"Horizontal\"&gt;\n                    &lt;Image\n                        Source=\"Amarelo.png\" /&gt;\n                    &lt;Label\n                        Text=\"N\u00e3o urgente e importante\"\n                        HorizontalOptions=\"FillAndExpand\"\n                        TextColor=\"Gray\" /&gt;\n                    &lt;StackLayout.GestureRecognizers&gt;\n                        &lt;TapGestureRecognizer\n                            Tapped=\"PrioridadeEscolhida\" /&gt;\n                    &lt;/StackLayout.GestureRecognizers&gt;\n                &lt;/StackLayout&gt;\n\n                &lt;!--N\u00c3O URGENTE E N\u00c3O IMPORTANTE--&gt;\n                &lt;StackLayout\n                    Spacing=\"10\"\n                    Orientation=\"Horizontal\"&gt;\n                    &lt;Image\n                        Source=\"Verde.png\" /&gt;\n                    &lt;Label\n                        Text=\"N\u00e3o urgente e n\u00e3o importante\"\n                        HorizontalOptions=\"FillAndExpand\"\n                        TextColor=\"Gray\" /&gt;\n                    &lt;StackLayout.GestureRecognizers&gt;\n                        &lt;TapGestureRecognizer\n                            Tapped=\"PrioridadeEscolhida\" /&gt;\n                    &lt;/StackLayout.GestureRecognizers&gt;\n                &lt;/StackLayout&gt;\n\n                &lt;!-- ADICIONAR BOT\u00c3O --&gt;\n                &lt;Button HorizontalOptions=\"End\" Margin=\"20\" Clicked=\"AdicionarTarefa\"&gt;\n                    &lt;Button.ImageSource&gt;\n                        &lt;OnPlatform\n                            x:TypeArguments=\"FileImageSource\"&gt;\n                            &lt;On\n                                Platform=\"iOS, Android\"\n                                Value=\"AddBotao.png\" /&gt;\n                        &lt;/OnPlatform&gt;\n                    &lt;/Button.ImageSource&gt;\n                &lt;/Button&gt; \n            &lt;/StackLayout&gt;\n        &lt;/StackLayout&gt;\n    &lt;/ContentPage.Content&gt;\n&lt;/ContentPage&gt;\n</code></pre>\n\n<p><strong>C# where I'm having most of the problems</strong></p>\n\n<pre><code>using System;\n\nusing Xamarin.Forms;\nusing XPerfilEMenu.Tarefas;\n\nnamespace XPerfilEMenu.Tarefas\n{\n    public partial class Cadastro : ContentPage\n    {\n\n\n        private string Prioridade { get; set; }\n        public byte PrioridadeFinal { get; set; }\n        public Cadastro()\n        {\n            InitializeComponent();\n        }\n\n        public void PrioridadeEscolhida(object sender, EventArgs args)\n        {\n            //Primeiro localiza todas labels com base no slprioridades e vamos fazer com que todas forcem para cor cinza e depois faz apenas o elemento clicado fique escuro\n            var Stacks = SLPrioridades.Children;\n            foreach(var Linha in Stacks)\n            {\n                Label LabelPrioridade = ((StackLayout)Linha).Children[1] as Label;\n                LabelPrioridade.TextColor = Color.Gray;\n            }\n\n\n            //Agora vamos transformar o que foi clicado em preto\n            ((Label)((StackLayout)sender).Children[1]).TextColor = Color.Black;\n\n\n            //Capturando qual foi a prioridade clicada com base no nome da imagem.\n            FileImageSource Source = ((Image)((StackLayout)sender).Children[0]).Source as FileImageSource;\n            //Para obter o nome do elemento clicado, se usa:\n\n            Prioridade = Source.File.ToString().Replace(\".png\", \"\");\n\n        }\n\n\n        //Salvando novo evento\n        public void AdicionarTarefa(object sender, EventArgs args)\n        {\n\n            bool ErroExiste = false;\n\n            //Verificando se os dois campos est\u00e3o preenchidos. Para strings, verificando se o tamanho \u00e9 maior que 0:\n            if (!(TarefaDigitada.Text.Trim().Length &gt; 0))\n            {\n                ErroExiste = true;\n                DisplayAlert(\"Erro\", \"Tarefa n\u00e3o digitada\", \"Okay\");\n            }\n\n            //J\u00e1, para a prioridade, \n\n            if (!(Prioridade.Trim().Length &gt; 0))\n            {\n                ErroExiste = true;\n                DisplayAlert(\"Erro\", \"Prioridade n\u00e3o escolhida\", \"Okay\");\n            }\n\n            //Se o bool ErroExiste chegar at\u00e9 o final como falsa, a tarefa ser\u00e1 salva.\n            if (ErroExiste == false)\n            {\n                PostsAFazer postsAFazer = new PostsAFazer();\n                postsAFazer.Nome = TarefaDigitada.Text.Trim();\n                postsAFazer.Prioridade = byte.Parse(Prioridade);\n\n                new GerenciadorPostagens().Salvar(postsAFazer);\n\n                //Para confirmar, fazemos o campo de digitar a tarefa para mostrar quantos elementos temos na lista\n                TarefaDigitada.Text = new GerenciadorPostagens().Listagem().Count.ToString();\n            }\n        }\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "blazor", "blazor-server-side"], "answers": [{"comments": [{"owner": {"reputation": 1305, "user_id": 1806716, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/bd3d78f62c08c0a11cdffb073bb28054?s=128&d=identicon&r=PG", "display_name": "Giardino", "link": "https://stackoverflow.com/users/1806716/giardino"}, "edited": false, "score": 0, "creation_date": 1576584079, "post_id": 59190241, "comment_id": 104940096, "body": "Ah I see, looks like they want to add it themselves at some point. Thanks for the link to the active issue."}], "tags": [], "owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "is_accepted": true, "score": 3, "last_activity_date": 1575531565, "last_edit_date": 1575531565, "creation_date": 1575531106, "answer_id": 59190241, "question_id": 59182560, "link": "https://stackoverflow.com/questions/59182560/custom-url-rewrite-rule-in-blazor-asp-net-core-server-side-not-triggering-when/59190241#59190241", "title": "Custom URL rewrite rule in Blazor ASP.Net Core (server-side) not triggering when using navlink", "body": "<p>Url rewrite rewite the url in the server when a http request is received.<br>\nNavigation through SignalR do not make http request so you cannot use URL rewritting for your behavior.</p>\n\n<p>But if the goal is to capture each navigation event, Use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.components.navigationmanager.locationchanged?view=aspnetcore-3.0\" rel=\"nofollow noreferrer\"><code>NavigationManager.LocationChanged</code></a>. It's not cancellable at the moment, and we cannot prevent navigation. But an issue is open <a href=\"https://github.com/aspnet/AspNetCore/issues/14962\" rel=\"nofollow noreferrer\">https://github.com/aspnet/AspNetCore/issues/14962</a></p>\n"}], "owner": {"reputation": 1305, "user_id": 1806716, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/bd3d78f62c08c0a11cdffb073bb28054?s=128&d=identicon&r=PG", "display_name": "Giardino", "link": "https://stackoverflow.com/users/1806716/giardino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 897, "favorite_count": 0, "accepted_answer_id": 59190241, "answer_count": 1, "score": 2, "last_activity_date": 1575531565, "creation_date": 1575484011, "question_id": 59182560, "link": "https://stackoverflow.com/questions/59182560/custom-url-rewrite-rule-in-blazor-asp-net-core-server-side-not-triggering-when", "title": "Custom URL rewrite rule in Blazor ASP.Net Core (server-side) not triggering when using navlink", "body": "<p>I have the following <code>IRule</code> set up in my solution:</p>\n\n<pre><code>public class IsUrlEncodedRule : Microsoft.AspNetCore.Rewrite.IRule\n{\n    public void ApplyRule(RewriteContext context)\n    {\n        var request = context.HttpContext.Request;\n        var host = request.Host;\n        Console.WriteLine(\"Hello world!\");\n        context.Result = RuleResult.ContinueRules;\n    }\n}\n</code></pre>\n\n<p>And then in my <code>Startup.cs</code> I have the following...</p>\n\n<pre><code>public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n{\n    ...\n\n    app.UseHttpsRedirection();\n    app.UseRewriter(new RewriteOptions().Add(new IsUrlEncodedRule()));  \n    app.UseStaticFiles();\n\n    ...\n\n    app.UseMvc();\n\n    ...\n\n}\n</code></pre>\n\n<p>Eventually I want the rule to check that any URLs are encoded but for now I just want to see the \"Hello world\" in the console to know that its working, or for it to hit my breakpoints in the rule at all. This is a server-side blazor app and right now the only time the rule is hit is when you initially navigate to the site or if you manually navigate to a particular page of the site by typing the url in the nav bar in the browser and navigating manually. If, however, you use a <code>NavLink</code> to navigate within the site, the rule is never triggered since the client is never making any additional requests since its all handled through SignalR.</p>\n\n<p>Example:</p>\n\n<pre><code>&lt;NavLink class=\"nav-link\" href=\"s3contents\"&gt;\n    &lt;span class=\"fas fa-bold\" aria-hidden=\"true\"&gt;&lt;/span&gt; S3 Contents\n&lt;/NavLink&gt;\n</code></pre>\n\n<p>If you are <em>already</em> on the website, clicking this <code>NavLink</code> will take you to <code>http://localhost:8080/s3contents</code> and the rule will <strong><em>not</em></strong> be triggered. Once you are there, if you refresh the page manually or if you copy the URL and paste it into a new tab and navigate to it, the rule <strong><em>will</em></strong> be triggered. My question is how do I configure my services such that any <code>IRule</code> I implement will <em>always</em> be triggered even if a particular page was navigated to by a user <em>already</em> on the website and therefor navigating via SignalR instead of a traditional http request?</p>\n"}, {"tags": ["c#", "nested", "modifier"], "comments": [{"owner": {"reputation": 67, "user_id": 4485909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe8d4d90b7ab3aac3d7588ffad9fcb55?s=128&d=identicon&r=PG&f=1", "display_name": "Nussti", "link": "https://stackoverflow.com/users/4485909/nussti"}, "edited": false, "score": 0, "creation_date": 1575484245, "post_id": 59182545, "comment_id": 104586026, "body": "You are right, I also could define class Person outside of Class."}], "answers": [{"tags": [], "owner": {"reputation": 36762, "user_id": 869621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d7ab9817b53b7e7b0e735528bc9c2372?s=128&d=identicon&r=PG", "display_name": "Kevin Gosse", "link": "https://stackoverflow.com/users/869621/kevin-gosse"}, "is_accepted": true, "score": 3, "last_activity_date": 1575484197, "creation_date": 1575484197, "answer_id": 59182609, "question_id": 59182545, "link": "https://stackoverflow.com/questions/59182545/c-change-method-modifier-of-nested-class/59182609#59182609", "title": "C# Change Method Modifier of nested Class", "body": "<p>You can use an interface for that:</p>\n\n<pre><code>public interface IPerson\n{\n    string Name { get; }\n}\n\npublic class Person : IPerson\n{\n    public string Name { get; set; }\n}\n</code></pre>\n\n<p>Now inside of class, you reference the object as <code>Person</code>, but only return an instance of <code>IPerson</code>:</p>\n\n<pre><code>class Class\n{\n    private Person person = new Person();\n    public void NamePerson()\n    {\n        person.Name = \"Peter\";\n    }\n\n    public IPerson CPerson\n    {\n        get\n        {\n            return person;\n        }\n    }    \n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4485909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe8d4d90b7ab3aac3d7588ffad9fcb55?s=128&d=identicon&r=PG&f=1", "display_name": "Nussti", "link": "https://stackoverflow.com/users/4485909/nussti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 59182609, "answer_count": 1, "score": 2, "last_activity_date": 1575485172, "creation_date": 1575483921, "question_id": 59182545, "link": "https://stackoverflow.com/questions/59182545/c-change-method-modifier-of-nested-class", "title": "C# Change Method Modifier of nested Class", "body": "<p>I want to figure out if this is possible:\nI have a class </p>\n\n<pre><code>class Class\n{\n\n    private Person person = new Person();\n    public void NamePerson()\n    {\n        person.Name = \"Peter\";\n    }\n\n    public Person CPerson\n    {\n        get\n        {\n            return person;\n        }\n    }\n\n    public class Person\n    {\n        public string Name { set; get; }\n    }\n}\n</code></pre>\n\n<p>Inside of <code>Class</code> I want to have full access of the <code>person</code> object.\nBut having a write access of <code>Person</code> outside of <code>Class</code></p>\n\n<pre><code> Class a = new Class();\n a.CPerson.Name = \"Steve\"; !!!!!\n</code></pre>\n\n<p>should be invalid. I only want to have a read access.</p>\n\n<pre><code>string name = a.CPerson.Name;\n</code></pre>\n\n<p>Is there a way to do this in C#???\nThank you!</p>\n"}, {"tags": ["c#", "asp.net-core", "sql-server-2008-r2", "entity-framework-core", "ef-core-2.2"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 1, "creation_date": 1575483897, "post_id": 59182413, "comment_id": 104585867, "body": "There&#39;s a workaround in the linked duplicate - <code>UseRowNumberForPaging</code> - but note that you may not be able to use net core 3 with SQL 2008 - <a href=\"https://github.com/aspnet/EntityFrameworkCore/issues/16400\" rel=\"nofollow noreferrer\">github.com/aspnet/EntityFrameworkCore/issues/16400</a>"}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 1, "creation_date": 1575484061, "post_id": 59182413, "comment_id": 104585941, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.infrastructure.sqlserverdbcontextoptionsbuilder.userownumberforpaging?view=efcore-2.2\" rel=\"nofollow noreferrer\">UseRowNumberForPaging - Use a ROW_NUMBER() in queries instead of OFFSET/FETCH. This method is backwards-compatible to SQL Server 2005.</a>"}], "owner": {"reputation": 27, "user_id": 11516142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e37966aa3d0e2a34679029cfa75ef3e?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Milanez", "link": "https://stackoverflow.com/users/11516142/fernando-milanez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "closed_date": 1575483789, "answer_count": 0, "score": 1, "last_activity_date": 1575488092, "creation_date": 1575483326, "last_edit_date": 1575488092, "question_id": 59182413, "link": "https://stackoverflow.com/questions/59182413/error-using-asp-net-core-and-ef-core-with-sql-server-2008-r2", "closed_reason": "Duplicate", "title": "Error using ASP.NET Core and EF Core with SQL Server 2008 R2", "body": "<p>When I try to access a view to load data from my SQL Server 2008 R2 database (using ASP.NET Core 2.2 with EF Core 2.2), I get this error:</p>\n\n<blockquote>\n  <p>Incorrect syntax near 'OFFSET'. Invalid usage of the option NEXT in the FETCH statement.</p>\n</blockquote>\n\n<p>Here's my get list from repository:</p>\n\n<pre><code>    public IEnumerable&lt;Vessel&gt; Listar(Vessel vessel, ref Pagination pagination)\n    {\n        pagination.Records = _SOOContext.Vessel.AsQueryable()\n            .Where(r =&gt; (vessel == null || vessel.VesselId == 0 || r.VesselId == vessel.VesselId))\n            .Where(r =&gt; vessel == null || vessel.VesselCallSign == null || (vessel.VesselCallSign.StartsWith(\"%\") &amp;&amp; r.VesselCallSign.Contains(vessel.VesselCallSign.Remove(0, 1))) | r.VesselCallSign.StartsWith(vessel.VesselCallSign))\n            .Where(r =&gt; vessel == null || vessel.VesselName == null || (vessel.VesselName.StartsWith(\"%\") &amp;&amp; r.VesselName.Contains(vessel.VesselName.Remove(0, 1))) | r.VesselName.StartsWith(vessel.VesselName))\n            .Count();\n\n        pagination.CalcPages();\n\n        string orderby = pagination.OrderBy;\n\n        var conexaoEF = _SOOContext.Vessel\n            .Where(r =&gt; (vessel == null || vessel.VesselId == 0 || r.VesselId == vessel.VesselId))\n            .Where(r =&gt; vessel == null || vessel.VesselCallSign == null || (vessel.VesselCallSign.StartsWith(\"%\") &amp;&amp; r.VesselCallSign.Contains(vessel.VesselCallSign.Remove(0, 1))) | r.VesselCallSign.StartsWith(vessel.VesselCallSign))\n            .Where(r =&gt; vessel == null || vessel.VesselName == null || (vessel.VesselName.StartsWith(\"%\") &amp;&amp; r.VesselName.Contains(vessel.VesselName.Remove(0, 1))) | r.VesselName.StartsWith(vessel.VesselName))\n            .OrderBy(p =&gt; p.VesselCallSign)\n            .Skip(pagination.SkipRecords)\n            .Take(pagination.PageSize);\n\n        return conexaoEF.ToList();\n    }\n</code></pre>\n\n<p>In <code>Startup.cs</code> I've inserted the following command lines:</p>\n\n<pre><code>var connectionString = \"Data Source=.\\\\SQLEXPRESS;Initial Catalog=SOO;Integrated Security=True\";\n\nservices.AddDbContext&lt;SOOContext&gt;(options =&gt; options\n                .UseSqlServer(connectionString, builder =&gt; builder.UseRowNumberForPaging()));\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-core"], "comments": [{"owner": {"reputation": 9368, "user_id": 1390548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee99f66a15a8e049467a0fca2b80eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jawad", "link": "https://stackoverflow.com/users/1390548/jawad"}, "edited": false, "score": 0, "creation_date": 1575485131, "post_id": 59182359, "comment_id": 104586377, "body": "whats the error you are getting? can you post that"}, {"owner": {"reputation": 8415, "user_id": 505990, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/QaLn2.jpg?s=128&g=1", "display_name": "Leonardo", "link": "https://stackoverflow.com/users/505990/leonardo"}, "reply_to_user": {"reputation": 9368, "user_id": 1390548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee99f66a15a8e049467a0fca2b80eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jawad", "link": "https://stackoverflow.com/users/1390548/jawad"}, "edited": false, "score": 0, "creation_date": 1575487226, "post_id": 59182359, "comment_id": 104587173, "body": "There is no actual error, the page just comes back blank..."}], "answers": [{"comments": [{"owner": {"reputation": 8415, "user_id": 505990, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/QaLn2.jpg?s=128&g=1", "display_name": "Leonardo", "link": "https://stackoverflow.com/users/505990/leonardo"}, "edited": false, "score": 0, "creation_date": 1575492260, "post_id": 59183003, "comment_id": 104589210, "body": "Almost! the secret was to declare <code>List&lt;Task&lt;Microsoft.AspNetCore.Html.IHtmlContent&gt;&gt;</code>!"}], "tags": [], "owner": {"reputation": 1129, "user_id": 1073351, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d1da17c32728856fd0a9aaeab3b48be?s=128&d=identicon&r=PG", "display_name": "Mark McWhirter", "link": "https://stackoverflow.com/users/1073351/mark-mcwhirter"}, "is_accepted": true, "score": 1, "last_activity_date": 1575486044, "creation_date": 1575486044, "answer_id": 59183003, "question_id": 59182359, "link": "https://stackoverflow.com/questions/59182359/asp-net-view-rendering-unexpected-output/59183003#59183003", "title": "Asp.Net View Rendering unexpected output", "body": "<p>If you are expecting html output then you will need to add more code to output the html:</p>\n\n<pre><code>&lt;div class=\"page home-page custom-container d-flex flex-column\"&gt;\n@{\n    var tasks = new List&lt;Task&gt;();\n\n    tasks.Add(Component.InvokeAsync(\"PersonalizedProducts\"));\n    tasks.Add(Component.InvokeAsync(\"RecommendedProducts\"));\n    tasks.Add(Component.InvokeAsync(\"SuggestedProducts\"));\n    tasks.Add(Component.InvokeAsync(\"HomePageProducts\"));\n    tasks.Add(Component.InvokeAsync(\"HomePageNewProducts\"));\n    tasks.Add(Component.InvokeAsync(\"CategoryFeaturedProducts\"));\n\n    await Task.WhenAll(tasks);\n\n    foreach( var t in tasks)\n    {\n        var var1 = await t;\n        @var1;\n    }\n}\n&lt;/div&gt; \n</code></pre>\n"}], "owner": {"reputation": 8415, "user_id": 505990, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/QaLn2.jpg?s=128&g=1", "display_name": "Leonardo", "link": "https://stackoverflow.com/users/505990/leonardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 59183003, "answer_count": 1, "score": 2, "last_activity_date": 1575486044, "creation_date": 1575483115, "last_edit_date": 1575483593, "question_id": 59182359, "link": "https://stackoverflow.com/questions/59182359/asp-net-view-rendering-unexpected-output", "title": "Asp.Net View Rendering unexpected output", "body": "<p>Why does this code work perfectly, outputting the HTML as expected and...</p>\n\n<pre><code>&lt;div class=\"page home-page custom-container d-flex flex-column\"&gt;\n    @await Component.InvokeAsync(\"PersonalizedProducts\")\n    @await Component.InvokeAsync(\"RecommendedProducts\")\n    @await Component.InvokeAsync(\"SuggestedProducts\")\n    @await Component.InvokeAsync(\"HomePageProducts\")\n    @await Component.InvokeAsync(\"HomePageNewProducts\")\n    @await Component.InvokeAsync(\"CategoryFeaturedProducts\")\n&lt;/div&gt;\n</code></pre>\n\n<p>...this one doesn't work:</p>\n\n<pre><code>&lt;div class=\"page home-page custom-container d-flex flex-column\"&gt;\n@{\n    var tasks = new List&lt;Task&gt;();\n\n    tasks.Add(Component.InvokeAsync(\"PersonalizedProducts\"));\n    tasks.Add(Component.InvokeAsync(\"RecommendedProducts\"));\n    tasks.Add(Component.InvokeAsync(\"SuggestedProducts\"));\n    tasks.Add(Component.InvokeAsync(\"HomePageProducts\"));\n    tasks.Add(Component.InvokeAsync(\"HomePageNewProducts\"));\n    tasks.Add(Component.InvokeAsync(\"CategoryFeaturedProducts\"));\n\n    await Task.WhenAll(tasks);\n}\n&lt;/div&gt;\n</code></pre>\n\n<p>The components mentioned above are 100% independent between themselves and do not share anything but a database, which they do no alter since these are fetch-only components...</p>\n"}, {"tags": ["c#", "wcf", "soap", "dependency-injection", ".net-core"], "comments": [{"owner": {"reputation": 167, "user_id": 4169987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b59d3e83078bb5b7f23e7723bb768bb0?s=128&d=identicon&r=PG", "display_name": "fdrobidoux", "link": "https://stackoverflow.com/users/4169987/fdrobidoux"}, "edited": false, "score": 0, "creation_date": 1575486660, "post_id": 59182156, "comment_id": 104586950, "body": "You shouldn&#39;t ever expect any sort of order in parameters sent, especially not for request headers. They are usually read in a disorderly manner, where a dictionary (or anonymous object) is assigned key/values, and the parameters are evaluated in any order. AFAIK, there is no way to specify the order of header params without making your own requests with a HttpClient or something more low-level (closer to the metal)."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 7791513, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NiVausX4nLw/AAAAAAAAAAI/AAAAAAAAAAk/QCjRx6WeXhs/photo.jpg?sz=128", "display_name": "Jesus Sanz Losa", "link": "https://stackoverflow.com/users/7791513/jesus-sanz-losa"}, "edited": false, "score": 0, "creation_date": 1576752167, "post_id": 59189544, "comment_id": 105003533, "body": "The thing I think it is when injecting the Service which I have setted a custom end point behavior to order the headers, but when calling at service layer this service, the headers are not ordered as I have ordered, I think is thing about how serializes when injecting the service in .NET core"}], "tags": [], "owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "is_accepted": false, "score": 0, "last_activity_date": 1575527809, "creation_date": 1575527809, "answer_id": 59189544, "question_id": 59182156, "link": "https://stackoverflow.com/questions/59182156/how-could-i-order-soap-request-headers/59189544#59189544", "title": "How could I order SOAP request headers?", "body": "<p>As far as I know, the first soap header is always the <code>Action</code> header, which indicates the name of the operation contract to be called. Subsequent custom message headers will be sorted according to the order we add custom message headers.</p>\n\n<pre><code>var header1 = MessageHeader.CreateHeader(\"header1\", \"\", \"header1value\");\n            var header2 = MessageHeader.CreateHeader(\"header2\", \"\", \"header2value\");\n            request.Headers.Add(header2);\n            request.Headers.Add(header1);\n</code></pre>\n\n<p>Result.<br>\n<a href=\"https://i.stack.imgur.com/5D2Tt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5D2Tt.png\" alt=\"enter image description here\"></a><br>\nThereby, I am afraid it is unfeasible to sort these soap message headers before the Action Message header.<br>\nBesides, the members of the Data contract are capable of sorting in a fixed order by using \u201cOrder\u201d property.</p>\n\n<pre><code>[DataContract]\n    public class Product\n    {\n        [DataMember(Order = 3)]\n        public int ID { get; set; }\n        [DataMember(Order = 5)]\n        public string Name { get; set; }\n}\n</code></pre>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wcf/feature-details/data-member-order\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/framework/wcf/feature-details/data-member-order</a><br>\nFeel free to let me know if there is anything I can help with.</p>\n"}], "owner": {"reputation": 59, "user_id": 7791513, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NiVausX4nLw/AAAAAAAAAAI/AAAAAAAAAAk/QCjRx6WeXhs/photo.jpg?sz=128", "display_name": "Jesus Sanz Losa", "link": "https://stackoverflow.com/users/7791513/jesus-sanz-losa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1575527809, "creation_date": 1575482279, "question_id": 59182156, "link": "https://stackoverflow.com/questions/59182156/how-could-i-order-soap-request-headers", "title": "How could I order SOAP request headers?", "body": "<p>When I inject my service, I add a CustomEndpointBehavior to add a MessageInspector to add the headers that I need to succeedd the request.</p>\n\n<p>The thing is that the WCF service that I'm calling is expecting at the FIRST header one specific header, that the .NET default XML serializator, serialized at the SECOND header because of his name (I think this is the issue)</p>\n\n<pre><code>    {\n        private Configuration Configuration;\n\n        public MessageInspector(Configuration Configuration)\n        {\n            this.Configuration = Configuration;\n        }\n\n        public void AfterReceiveReply(ref Message reply, object correlationState) { }\n        public object BeforeSendRequest(ref Message request, IClientChannel channel)\n        {\n            var header1 = new Header1(Configuration);\n            var header2 = new Header2(Configuration);\n\n            request.Add(header1);\n            request.Add(header2);\n\n            return;\n        }\n    }\n</code></pre>\n\n<p>How could I set the order of the headers? And if it's a thing of the serializator how could I customize the order of serialization?</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 1, "creation_date": 1575482847, "post_id": 59182155, "comment_id": 104585352, "body": "Sounds strange. Why won&#39;t you use RadioButtons?"}, {"owner": {"reputation": 331, "user_id": 10191398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/060e0f0a2882dd2e9fe033573d2bc48d?s=128&d=identicon&r=PG&f=1", "display_name": "kentforth", "link": "https://stackoverflow.com/users/10191398/kentforth"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1575483509, "post_id": 59182155, "comment_id": 104585698, "body": "@Clemens I think it is not possible to make radio buttons act like toggle buttons. I mean if a radio button will have two states. IsChecked and UnChecked. But I don&#39;t have experience in WPF. I can use any button if it will work as buttons on video"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 1, "creation_date": 1575483736, "post_id": 59182155, "comment_id": 104585792, "body": "I haven&#39;t looked at the video. It just sounds strange to me that you need to uncheck one Button before you can check another."}, {"owner": {"reputation": 331, "user_id": 10191398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/060e0f0a2882dd2e9fe033573d2bc48d?s=128&d=identicon&r=PG&f=1", "display_name": "kentforth", "link": "https://stackoverflow.com/users/10191398/kentforth"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1575484124, "post_id": 59182155, "comment_id": 104585965, "body": "@Clemens it is comfortable for me to have all buttons disable before I UnCheck a toggle button. Can you show me any example or an example with radio buttons?"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1575484188, "post_id": 59182155, "comment_id": 104586005, "body": "There are plenty on the internet. Basically, when one RadioButton in a group is checked, any other that was checked before is unchecked."}, {"owner": {"reputation": 4345, "user_id": 12067560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YrPJ.jpg?s=128&g=1", "display_name": "Corentin Pane", "link": "https://stackoverflow.com/users/12067560/corentin-pane"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1575484255, "post_id": 59182155, "comment_id": 104586032, "body": "@Clemens it&#39;s not really RadioButtons, they look more like <code>Expander</code> actually, with only one <code>Expander</code> that could be expanded at a time."}, {"owner": {"reputation": 331, "user_id": 10191398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/060e0f0a2882dd2e9fe033573d2bc48d?s=128&d=identicon&r=PG&f=1", "display_name": "kentforth", "link": "https://stackoverflow.com/users/10191398/kentforth"}, "reply_to_user": {"reputation": 4345, "user_id": 12067560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YrPJ.jpg?s=128&g=1", "display_name": "Corentin Pane", "link": "https://stackoverflow.com/users/12067560/corentin-pane"}, "edited": false, "score": 0, "creation_date": 1575484474, "post_id": 59182155, "comment_id": 104586116, "body": "@Corentin Pane Actually The application on the video is made with JavaFX by me and I used this code to do it: <code>group.getToggles().stream().map((toggle) -&gt; (ToggleButton) toggle).forEach((b) -&gt; {         b.setDisable(false);       });</code> as for <code>Expander</code> It is not expander it is just a Pane that is resized with animation:)"}, {"owner": {"reputation": 331, "user_id": 10191398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/060e0f0a2882dd2e9fe033573d2bc48d?s=128&d=identicon&r=PG&f=1", "display_name": "kentforth", "link": "https://stackoverflow.com/users/10191398/kentforth"}, "edited": false, "score": 0, "creation_date": 1575484573, "post_id": 59182155, "comment_id": 104586154, "body": "I &#39;m learning C# and WPF only now and I don&#39;t know how to make this simple method from Java in C# that checks all buttons and disable it except the one is activated"}, {"owner": {"reputation": 4345, "user_id": 12067560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YrPJ.jpg?s=128&g=1", "display_name": "Corentin Pane", "link": "https://stackoverflow.com/users/12067560/corentin-pane"}, "edited": false, "score": 0, "creation_date": 1575484615, "post_id": 59182155, "comment_id": 104586174, "body": "You could do the same in code behind, hook-up to all click events and disable all others when one is clicked. That would be a quick work-around if you want to use toggle buttons."}, {"owner": {"reputation": 331, "user_id": 10191398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/060e0f0a2882dd2e9fe033573d2bc48d?s=128&d=identicon&r=PG&f=1", "display_name": "kentforth", "link": "https://stackoverflow.com/users/10191398/kentforth"}, "reply_to_user": {"reputation": 4345, "user_id": 12067560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YrPJ.jpg?s=128&g=1", "display_name": "Corentin Pane", "link": "https://stackoverflow.com/users/12067560/corentin-pane"}, "edited": false, "score": 0, "creation_date": 1575484734, "post_id": 59182155, "comment_id": 104586225, "body": "@Corentin Pane, It really doesn&#39;t matter for me what type of button it will be. I just want to make the same thing that on the video)"}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1575574714, "post_id": 59182155, "comment_id": 104622192, "body": "Re template a radio button. Wpf controls are lookless. Or. Use a listbox for all those options and use isselected to drive the animation."}], "answers": [{"tags": [], "owner": {"reputation": 4345, "user_id": 12067560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YrPJ.jpg?s=128&g=1", "display_name": "Corentin Pane", "link": "https://stackoverflow.com/users/12067560/corentin-pane"}, "is_accepted": false, "score": 0, "last_activity_date": 1575485783, "creation_date": 1575485783, "answer_id": 59182946, "question_id": 59182155, "link": "https://stackoverflow.com/questions/59182155/how-to-disable-all-toggle-buttons-except-one-that-clicked/59182946#59182946", "title": "How to disable all toggle buttons except one that clicked?", "body": "<p><strong>Using <code>Click</code> events of each <code>ToggleButton</code></strong></p>\n\n<p>One way you could do it is by giving a name to all your <code>ToggleButtons</code>, hook-up to their <code>Click</code> event and manually uncheck others in the code-behind:</p>\n\n<p><em>XAML</em></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;StackPanel Orientation=\"Vertical\"&gt;\n    &lt;StackPanel.Resources&gt;\n        &lt;Style TargetType=\"ToggleButton\"&gt;\n            &lt;Style.Triggers&gt;\n                &lt;Trigger Property=\"IsChecked\" Value=\"False\"&gt;\n                    &lt;Setter Property=\"MaxWidth\" Value=\"15\"/&gt;\n                &lt;/Trigger&gt;\n            &lt;/Style.Triggers&gt;\n        &lt;/Style&gt;\n    &lt;/StackPanel.Resources&gt;\n    &lt;StackPanel Orientation=\"Horizontal\"&gt;\n        &lt;ToggleButton x:Name=\"button1\" Content=\"Button 1\" Click=\"button1_Click\"/&gt;\n        &lt;TextBlock Text=\"Line 1\"/&gt;\n    &lt;/StackPanel&gt;\n    &lt;StackPanel Orientation=\"Horizontal\"&gt;\n        &lt;ToggleButton x:Name=\"button2\" Content=\"Button 2\" Click=\"button2_Click\"/&gt;\n        &lt;TextBlock Text=\"Line 2\"/&gt;\n    &lt;/StackPanel&gt;\n    &lt;StackPanel Orientation=\"Horizontal\"&gt;\n        &lt;ToggleButton x:Name=\"button3\" Content=\"Button 3\" Click=\"button3_Click\"/&gt;\n        &lt;TextBlock Text=\"Line 3\"/&gt;\n    &lt;/StackPanel&gt;\n&lt;/StackPanel&gt;\n</code></pre>\n\n<p><em>Code-behind</em></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private void button1_Click(object sender, RoutedEventArgs e) {\n    if (button1.IsChecked == true) {\n        button2.IsChecked = false;\n        button3.IsChecked = false;\n    }\n}\n\nprivate void button2_Click(object sender, RoutedEventArgs e) {\n    if (button2.IsChecked == true) {\n        button1.IsChecked = false;\n        button3.IsChecked = false;\n    }\n}\n\nprivate void button3_Click(object sender, RoutedEventArgs e) {\n    if (button3.IsChecked == true) {\n        button1.IsChecked = false;\n        button2.IsChecked = false;\n    }\n}\n</code></pre>\n\n<p>This method is tedious, error-prone, requires code-behind and is not very scalable.</p>\n\n<p><strong>Binding <code>IsChecked</code> properties to a collection of <code>bool</code> with one <code>true</code> at a time.</strong></p>\n\n<p>Another way you could go (still by using code-behind) is to define a collection of boolean values and bind each <code>ToggleButton.IsChecked</code> on one of the <code>bool</code> in the collection, and ensure that the collection only contains at most one <code>true</code> at a time:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;StackPanel Orientation=\"Horizontal\"&gt;\n    &lt;ToggleButton x:Name=\"button1\" Content=\"Button 1\" IsChecked=\"{Binding [0]}\"/&gt;\n    &lt;TextBlock Text=\"Line 1\"/&gt;\n&lt;/StackPanel&gt;\n&lt;StackPanel Orientation=\"Horizontal\"&gt;\n    &lt;ToggleButton x:Name=\"button2\" Content=\"Button 2\" IsChecked=\"{Binding [1]}\"/&gt;\n    &lt;TextBlock Text=\"Line 2\"/&gt;\n&lt;/StackPanel&gt;\n&lt;StackPanel Orientation=\"Horizontal\"&gt;\n    &lt;ToggleButton x:Name=\"button3\" Content=\"Button 3\" IsChecked=\"{Binding [2]}\"/&gt;\n    &lt;TextBlock Text=\"Line 3\"/&gt;\n&lt;/StackPanel&gt;\n</code></pre>\n\n<p><em>Code-behind</em></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public partial class MainWindow : Window {\n\n    public MainWindow() {\n        InitializeComponent();\n        ObservableCollection&lt;bool&gt; states = new ObservableCollection&lt;bool&gt; { false, false, false };\n        states.CollectionChanged += States_CollectionChanged;\n        DataContext = states;\n    }\n\n    private void States_CollectionChanged(object sender, NotifyCollectionChangedEventArgs e) {\n        var collection = sender as ObservableCollection&lt;bool&gt;;\n        if (e.Action == NotifyCollectionChangedAction.Replace) {\n            if ((bool)e.NewItems[0]) {\n                for (int i = 0; i &lt; collection.Count; i++) {\n                    if (e.NewStartingIndex != i) {\n                        collection[i] = false;\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Again, this uses code-behind and not the view model but at least it is easier to add rows.</p>\n"}, {"tags": [], "owner": {"reputation": 331, "user_id": 10191398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/060e0f0a2882dd2e9fe033573d2bc48d?s=128&d=identicon&r=PG&f=1", "display_name": "kentforth", "link": "https://stackoverflow.com/users/10191398/kentforth"}, "is_accepted": true, "score": 0, "last_activity_date": 1575612443, "creation_date": 1575612443, "answer_id": 59207745, "question_id": 59182155, "link": "https://stackoverflow.com/questions/59182155/how-to-disable-all-toggle-buttons-except-one-that-clicked/59207745#59207745", "title": "How to disable all toggle buttons except one that clicked?", "body": "<p>Thank you for comments guys, I found another solution.</p>\n\n<p><em>MainWindow.XAML:</em></p>\n\n<pre><code> &lt;RadioButton x:Name=\"CategoryToggle1\"\n                  Grid.Row=\"1\" \n                 Grid.Column=\"1\"\n                 Style=\"{StaticResource RadioButton}\"\n                 GroupName=\"ToggleButtonsGroup\"\n                 Checked=\"OpenOptions\"\n                 Unchecked=\"HideOptions\"/&gt;\n</code></pre>\n\n<p><em>Styles.xaml:</em></p>\n\n<pre><code>&lt;!--Radio Button--&gt;\n&lt;Style TargetType=\"RadioButton\"\n       x:Key=\"RadioButton\"\n       BasedOn=\"{StaticResource {x:Type ToggleButton}}\"&gt;\n    &lt;Setter Property=\"Template\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;ControlTemplate&gt;\n                &lt;ToggleButton IsChecked=\"{Binding IsChecked, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}\" /&gt;\n            &lt;/ControlTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n&lt;/Style&gt;\n\n&lt;!--Toggle Button--&gt;\n&lt;Style TargetType=\"{x:Type ToggleButton}\"&gt;\n    &lt;Setter Property=\"Background\" Value=\"#535353\" /&gt;        \n    &lt;Setter Property=\"MinHeight\" Value=\"30\" /&gt;\n    &lt;Setter Property=\"Grid.Column\" Value=\"1\" /&gt;\n    &lt;Setter Property=\"Template\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;ControlTemplate TargetType=\"ToggleButton\"&gt;\n                &lt;Border Background=\"{TemplateBinding Background}\"\n                        BorderThickness=\"0\"&gt;\n                &lt;/Border&gt;\n                &lt;ControlTemplate.Triggers&gt;\n                    &lt;Trigger Property=\"IsEnabled\" Value=\"false\"&gt;\n                        &lt;Setter  Property=\"Opacity\" Value=\"0.5\" /&gt;\n                    &lt;/Trigger&gt;\n                    &lt;Trigger Property=\"IsEnabled\" Value=\"true\"&gt;\n                        &lt;Setter  Property=\"Opacity\" Value=\"1\" /&gt;\n                    &lt;/Trigger&gt;\n                &lt;/ControlTemplate.Triggers&gt;\n            &lt;/ControlTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n&lt;/Style&gt;\n</code></pre>\n\n<p><em>MainWindow.cs:</em></p>\n\n<pre><code>private void OpenOptions(object sender, RoutedEventArgs e){\nRadioButton radioButton = sender as RadioButton;\n        radioButton.IsChecked = true;\n\n        //Disable all option buttons except one that active\n        MyGrid.Children.OfType&lt;RadioButton&gt;().Where(rb =&gt; rb != radioButton &amp;&amp; \n    rb.GroupName == radioButton.GroupName).ToList().ForEach(rb =&gt; rb.IsEnabled = false);\n}\n\n    private void HideOptions(object sender, RoutedEventArgs e)\n    {\n        RadioButton radioButton = sender as RadioButton;\n\n        MyGrid.Children.OfType&lt;RadioButton&gt;().Where(rb =&gt; rb.GroupName == \n     radioButton.GroupName).ToList().ForEach(rb =&gt; rb.IsEnabled = true);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 100, "user_id": 4328542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i4Y01.png?s=128&g=1", "display_name": "geriwald", "link": "https://stackoverflow.com/users/4328542/geriwald"}, "is_accepted": false, "score": 0, "last_activity_date": 1603706594, "last_edit_date": 1603706594, "creation_date": 1603706139, "answer_id": 64534862, "question_id": 59182155, "link": "https://stackoverflow.com/questions/59182155/how-to-disable-all-toggle-buttons-except-one-that-clicked/64534862#64534862", "title": "How to disable all toggle buttons except one that clicked?", "body": "<p>The behavior you need is very specific.</p>\n<p>I don't know how, but i got here trying to make a toggle button behave like a radio button. Your answer was enlightning.</p>\n<p>For what it's worth, here's how you would do that :</p>\n<p>Resource :</p>\n<pre><code>&lt;Style x:Key='RadioToggle' TargetType='RadioButton'\n       BasedOn='{StaticResource {x:Type ToggleButton}}' /&gt;\n</code></pre>\n<p>Control :</p>\n<pre><code>&lt;RadioButton Content='RadioToggle1' IsChecked='True' \n             Style='{StaticResource RadioToggle}' \n             GroupName=&quot;RadioToggleGroup&quot; /&gt;\n&lt;RadioButton Content='RadioToggle2' \n             Style='{StaticResource RadioToggle}'\n             GroupName=&quot;RadioToggleGroup&quot; /&gt;\n&lt;RadioButton Content='RadioToggle3'\n             Style='{StaticResource RadioToggle}'\n             GroupName=&quot;RadioToggleGroup&quot; /&gt;\n</code></pre>\n"}], "owner": {"reputation": 331, "user_id": 10191398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/060e0f0a2882dd2e9fe033573d2bc48d?s=128&d=identicon&r=PG&f=1", "display_name": "kentforth", "link": "https://stackoverflow.com/users/10191398/kentforth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 0, "accepted_answer_id": 59207745, "answer_count": 3, "score": 1, "last_activity_date": 1603706594, "creation_date": 1575482277, "last_edit_date": 1575484175, "question_id": 59182155, "link": "https://stackoverflow.com/questions/59182155/how-to-disable-all-toggle-buttons-except-one-that-clicked", "title": "How to disable all toggle buttons except one that clicked?", "body": "<p>I'm making an application using C# and WPF</p>\n\n<p>I have 8 toggle buttons.</p>\n\n<p>When I click one of the buttons others should be disabled so I can't  click it except one is activated.\nWhen I click this button again others should be enabled</p>\n\n<p><em>Styles.xaml:</em></p>\n\n<pre><code>&lt;!--Toggle Button--&gt;\n&lt;Style x:Key=\"ToggleButton\" TargetType=\"{x:Type ToggleButton}\"&gt;\n    &lt;Setter Property=\"Background\" Value=\"#535353\"/&gt;\n    &lt;Setter Property=\"BorderThickness\" Value=\"0\"/&gt;\n    &lt;Setter Property=\"MinHeight\" Value=\"30\"/&gt;        \n    &lt;Setter Property=\"Grid.Column\" Value=\"1\"/&gt;\n    &lt;Setter Property=\"Template\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;ControlTemplate TargetType=\"{x:Type ToggleButton}\"&gt;\n                &lt;Border Background=\"{TemplateBinding Background}\"\n                        BorderThickness=\"0\"&gt;\n                &lt;/Border&gt;                    \n            &lt;/ControlTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n&lt;/Style&gt;\n</code></pre>\n\n<p><em>MainWindow.xaml:</em></p>\n\n<pre><code>&lt;ToggleButton x:Name=\"CategoryToggle1\"\n              Grid.Row=\"1\"                      \n              Style=\"{StaticResource ToggleButton}\"\n              Checked=\"ShowOptions\"\n              Unchecked=\"HideOptions\" /&gt;\n</code></pre>\n\n<p><strong>How Can I achieve this by code and XAML?</strong></p>\n\n<p>I want to do it like in this video:</p>\n\n<p><a href=\"https://imgur.com/LIZG3nC\" rel=\"nofollow noreferrer\">Video</a></p>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-mvc", "vb.net"], "comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1575481464, "post_id": 59181894, "comment_id": 104584628, "body": "The question is way too broad for SO. Using particular rendering engine was never requirement for ASP.Net MVC - as long as your controllers return actions that render what you need it should be fine. You may need to implement your own actions to render HTML... or look around to see if there is alternative rendering engine you like..."}, {"owner": {"reputation": 51, "user_id": 12481355, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC7-mchlUh1_npOPDz3mfPGWBHtEh0NG74b1e5ssQ=k-s128", "display_name": "Geora", "link": "https://stackoverflow.com/users/12481355/geora"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1575483973, "post_id": 59181894, "comment_id": 104585902, "body": "My question is about .NET Core, there is no templates in Visual Studio for develop ASP.NET CORE."}], "answers": [{"comments": [{"owner": {"reputation": 312, "user_id": 12281818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/29J48.png?s=128&g=1", "display_name": "Ned Flanders", "link": "https://stackoverflow.com/users/12281818/ned-flanders"}, "reply_to_user": {"reputation": 51, "user_id": 12481355, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC7-mchlUh1_npOPDz3mfPGWBHtEh0NG74b1e5ssQ=k-s128", "display_name": "Geora", "link": "https://stackoverflow.com/users/12481355/geora"}, "edited": false, "score": 1, "creation_date": 1575484817, "post_id": 59182045, "comment_id": 104586264, "body": "Yes, this is a VB.NET Controller Class from a ASP.NET Core 3.1 project."}, {"owner": {"reputation": 448, "user_id": 659362, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/C14CU.jpg?s=128&g=1", "display_name": "Riaan", "link": "https://stackoverflow.com/users/659362/riaan"}, "edited": false, "score": 0, "creation_date": 1576277857, "post_id": 59182045, "comment_id": 104860853, "body": "I am just wondering if you got the login (user credentials) via a rest API to work? and if you did if you would be willing to share and example?"}, {"owner": {"reputation": 312, "user_id": 12281818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/29J48.png?s=128&g=1", "display_name": "Ned Flanders", "link": "https://stackoverflow.com/users/12281818/ned-flanders"}, "reply_to_user": {"reputation": 448, "user_id": 659362, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/C14CU.jpg?s=128&g=1", "display_name": "Riaan", "link": "https://stackoverflow.com/users/659362/riaan"}, "edited": false, "score": 0, "creation_date": 1576408343, "post_id": 59182045, "comment_id": 104883678, "body": "@Riaan: Of course. I extended the example a little with a authorized controller action."}, {"owner": {"reputation": 448, "user_id": 659362, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/C14CU.jpg?s=128&g=1", "display_name": "Riaan", "link": "https://stackoverflow.com/users/659362/riaan"}, "edited": false, "score": 0, "creation_date": 1576436165, "post_id": 59182045, "comment_id": 104890195, "body": "thank you for the update. this is helpful, especially the identity framework"}], "tags": [], "owner": {"reputation": 312, "user_id": 12281818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/29J48.png?s=128&g=1", "display_name": "Ned Flanders", "link": "https://stackoverflow.com/users/12281818/ned-flanders"}, "is_accepted": false, "score": 3, "last_activity_date": 1577705023, "last_edit_date": 1577705023, "creation_date": 1575481819, "answer_id": 59182045, "question_id": 59181894, "link": "https://stackoverflow.com/questions/59181894/asp-net-core-apps-developed-in-visual-basic-net-vb-net-is-it-possible-there/59182045#59182045", "title": "ASP.NET Core apps developed in Visual Basic.NET (VB.NET), is it possible? There is no Templates in VS", "body": "<p>You can put everything, except the Razor/Blazor pages itself and the Program.cs a library project. </p>\n\n<p>Here is an example of what I do in a Controllers project. \nAt first, there is a base class, I use for all/most of my controllers. If required, there are variations of the constructor. Depending on which DI objects are used by the derived class. \nAs you can see, it is nothing different from a implementation in C#. \n@Riaan: Even the Identity Framework works just as in C#. I added an example with authorization.</p>\n\n<pre><code>Public MustInherit Class ControllerBase\n    Inherits Microsoft.AspNetCore.Mvc.ControllerBase\n\n    Private ReadOnly _configuration As IConfiguration\n    Protected ReadOnly Property Configuration As IConfiguration\n        Get\n            Return _configuration\n        End Get\n    End Property\n\n    Private ReadOnly _logger As ILogger(Of Object)\n    Protected ReadOnly Property Logger As ILogger(Of Object)\n        Get\n            Return _logger\n        End Get\n    End Property\n\n    Private ReadOnly _signInManager As SignInManager(Of Identity.MyProjectIdentity)\n    Protected ReadOnly Property SignInManager As SignInManager(Of Identity.MyProjectIdentity)\n        Get\n            Return _signInManager\n        End Get\n    End Property\n\n    Private ReadOnly _userManager As UserManager(Of Identity.MyProjectIdentity)\n    Protected ReadOnly Property UserManager As UserManager(Of Identity.MyProjectIdentity)\n        Get\n            Return _userManager\n        End Get\n    End Property\n\n    Public Sub New(ByVal configuration As IConfiguration,\n                   ByVal logger As ILogger(Of Object),\n                   ByVal signInManager As SignInManager(Of Identity.MyProjectIdentity),\n                   ByVal userManager As UserManager(Of Identity.MyProjectIdentity))\n\n        _configuration = configuration\n        _logger = logger\n        _signInManager = signInManager\n        _userManager = userManager\n\n    End Sub\n\nEnd Class\n\n\n&lt;Controller()&gt;\n&lt;Route(\"Media\")&gt;\nPublic Class MediaController\n    Inherits MyProject.Controllers.ControllerBase\n\n    Private ReadOnly _mediaService As MediaService\n    Protected ReadOnly Property MediaService As MediaService\n        Get\n            Return _mediaService\n        End Get\n    End Property\n\n    Public Sub New(ByVal configuration As IConfiguration,\n                   ByVal signInManager As SignInManager(Of Identity.MyProjectIdentity),\n                   ByVal userManager As UserManager(Of Identity.MyProjectIdentity),\n                   ByVal logger As ILogger(Of MediaController),\n                   ByVal mediaService As MediaService)\n        MyBase.New(configuration, logger, signInManager, userManager)\n\n        _mediaService = mediaService\n\n    End Sub            \n\n\n    &lt;HttpGet(\"Placeholder/{width:int}/{height:int}\")&gt;\n    Public Function Placeholder(ByVal width As Integer, ByVal height As Integer) As IActionResult\n\n        Try\n\n            Dim resultImage = Imaging.Placeholder.GetPlaceholderImage(300, 300)\n\n            Dim ms = New IO.MemoryStream()\n            resultImage.Save(ms, ImageFormat.Png)\n            ms.Position = 0\n\n            Return File(ms, \"image/png\", $\"Placeholder_{width}x{height}.png\")\n\n        Catch ex As Exception\n\n            Return StatusCode(500)\n\n        End Try\n\n    End Function\n\n\n &lt;Authorize()&gt;\n    &lt;HttpGet(\"AuthenticatorQRCode/{userName}/{sharedKey}\")&gt;\n    Public Async Function AuthenticatorQRCode(ByVal userName As String, ByVal sharedKey As String) As Task(Of IActionResult)\n\n        Try\n\n            Dim user = Await UserManager.FindByIdAsync(Me.User.FindFirst(ClaimTypes.NameIdentifier).Value)\n\n            If user.UserName &lt;&gt; userName Then\n                Return StatusCode(403)\n            End If\n\n            Dim domain As String = Configuration.GetSection(\"Cookies\").GetValue(Of String)(\"Domain\")\n            Dim qrCodeDataString As String = $\"otpauth://totp/{domain}:{userName}?secret={sharedKey}&amp;issuer={domain}&amp;digits=6\"\n\n            Dim qrImage = Imaging.QRCode.GetQRCode(qrCodeDataString)\n\n            Dim ms = New System.IO.MemoryStream()\n            qrImage.Save(ms, ImageFormat.Png)\n            ms.Position = 0\n\n            Return File(ms, \"image/png\", \"QRCode.png\")\n\n        Catch ex As Exception\n\n            Return StatusCode(500)\n\n        End Try\n\n    End Function\n\nEnd Class\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 12481355, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC7-mchlUh1_npOPDz3mfPGWBHtEh0NG74b1e5ssQ=k-s128", "display_name": "Geora", "link": "https://stackoverflow.com/users/12481355/geora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 619, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1577705023, "creation_date": 1575481180, "last_edit_date": 1575484191, "question_id": 59181894, "link": "https://stackoverflow.com/questions/59181894/asp-net-core-apps-developed-in-visual-basic-net-vb-net-is-it-possible-there", "title": "ASP.NET Core apps developed in Visual Basic.NET (VB.NET), is it possible? There is no Templates in VS", "body": "<p>There is no support for Razor pages in VB.NET.\nThere is no templates for ASP.NET CORE in Visual Studio 2019 for VB.NET.</p>\n\n<p>But <strong>I love this language</strong>.</p>\n\n<p>How can I develop an ASP.NET Core (3.0 or greater) website or app in VB.NET?</p>\n\n<p>It seems <strong>that is impossible</strong> at this time to develop Web applications in VB.NET using .NET Core. </p>\n"}, {"tags": ["c#", "getfiles"], "comments": [{"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 2, "creation_date": 1575480755, "post_id": 59181752, "comment_id": 104584248, "body": "Have you double checked to make sure the file path stored in <code>strSourceFile</code> is a valid path?"}, {"owner": {"reputation": 644, "user_id": 1743735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FDRjS.png?s=128&g=1", "display_name": "apoteet", "link": "https://stackoverflow.com/users/1743735/apoteet"}, "edited": false, "score": 1, "creation_date": 1575480784, "post_id": 59181752, "comment_id": 104584268, "body": "Does this happen for any value of strDirectory?"}, {"owner": {"reputation": 59, "user_id": 11759561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a56941da25c0ba67dad025c75ac2ae3?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/11759561/joe"}, "edited": false, "score": 1, "creation_date": 1575480955, "post_id": 59181752, "comment_id": 104584370, "body": "Seem to be for any value of strDirectory I get a valid path in diFileCheck and strDirectory"}, {"owner": {"reputation": 15299, "user_id": 27968, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4706003a8f571f612606affcb2e9417e?s=128&d=identicon&r=PG", "display_name": "Paul Williams", "link": "https://stackoverflow.com/users/27968/paul-williams"}, "edited": false, "score": 1, "creation_date": 1575481736, "post_id": 59181752, "comment_id": 104584772, "body": "What is the path in <code>strDirectory</code>?  Is it a share on another computer?"}, {"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1575487027, "post_id": 59181752, "comment_id": 104587108, "body": "@Joe Use prepared statements to avoid SQL injection, see <a href=\"https://stackoverflow.com/questions/11070434/using-prepared-statement-in-c-sharp-with-mysql\" title=\"using prepared statement in c sharp with mysql\">stackoverflow.com/questions/11070434/&hellip;</a>"}, {"owner": {"reputation": 59, "user_id": 11759561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a56941da25c0ba67dad025c75ac2ae3?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/11759561/joe"}, "edited": false, "score": 0, "creation_date": 1575537042, "post_id": 59181752, "comment_id": 104602210, "body": "The path for strDirectory is  \\\\company\\\\Archive\\\\IN\\\\InvoiceTest\\\\Inbox\\\\Invoice.csv"}, {"owner": {"reputation": 59, "user_id": 11759561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a56941da25c0ba67dad025c75ac2ae3?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/11759561/joe"}, "edited": false, "score": 0, "creation_date": 1575538417, "post_id": 59181752, "comment_id": 104602887, "body": "On a network share"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 11759561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a56941da25c0ba67dad025c75ac2ae3?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/11759561/joe"}, "edited": false, "score": 1, "creation_date": 1575481305, "post_id": 59181849, "comment_id": 104584551, "body": "This gives a non-invocable member &#39;DirectoryInfo.Exists cannot be used like a method"}, {"owner": {"reputation": 2556, "user_id": 10883465, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E5Lki7kUGF8/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcY1dMAbpAmyyBJtdSM1p4AdgBm_QQ/mo/photo.jpg?sz=128", "display_name": "Joelius", "link": "https://stackoverflow.com/users/10883465/joelius"}, "edited": false, "score": 1, "creation_date": 1575481985, "post_id": 59181849, "comment_id": 104584904, "body": "It&#39;s not a method but a property, therefore you have to use <code>!diFileCheck.Exists</code>. I have submitted an edit to correct it."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1575498523, "post_id": 59181849, "comment_id": 104591252, "body": "I note that this &quot;fix&quot; introduces several defects. First, it has a TOCTOU (time of check is not time of use) defect; if one process is deleting the dictionary while another is attempting to read it, the &quot;exists&quot; check can happen before the deletion and the GetFiles can happen after, and fail. That&#39;s rare. But there are other defects as well. Suppose the directory permissions allow the directory to be checked for existence, but not read, for example? This is the wrong solution. The correct solution is to try-catch around all operations that can fail, and handle the failures."}], "tags": [], "owner": {"reputation": 2292, "user_id": 1415462, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5cb8fa8a8438ef939e1710427a1c0ec?s=128&d=identicon&r=PG", "display_name": "Slothario", "link": "https://stackoverflow.com/users/1415462/slothario"}, "is_accepted": false, "score": -1, "last_activity_date": 1575482975, "last_edit_date": 1575482975, "creation_date": 1575481032, "answer_id": 59181849, "question_id": 59181752, "link": "https://stackoverflow.com/questions/59181752/how-can-i-get-past-the-following-error-system-io-ioexception-the-directory-na/59181849#59181849", "title": "How can I get past the following error: System.IO.IOException: &#39;The directory name is invalid. in my foreach loop?", "body": "<p>Check to see if the directory exists first using <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.directoryinfo.exists\" rel=\"nofollow noreferrer\"><code>DirectoryInfo.Exists</code></a>. </p>\n\n<pre><code>DirectoryInfo diFileCheck = new DirectoryInfo(strDirectory);\nif(!diFileCheck.Exists)\n     // do something here, possibly return\nforeach (var fi in diFileCheck.GetFiles())\n{\n    // and so on\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 11759561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a56941da25c0ba67dad025c75ac2ae3?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/11759561/joe"}, "is_accepted": false, "score": 0, "last_activity_date": 1575542700, "creation_date": 1575542700, "answer_id": 59193415, "question_id": 59181752, "link": "https://stackoverflow.com/questions/59181752/how-can-i-get-past-the-following-error-system-io-ioexception-the-directory-na/59193415#59193415", "title": "How can I get past the following error: System.IO.IOException: &#39;The directory name is invalid. in my foreach loop?", "body": "<p>Ok here's what I've done and seems to act as I want it to</p>\n\n<pre><code>    public void SaveCsvToDatabase(string strDirectory)\n    {\n        if (ConnectToDatabase())\n        {\n            //We need to specify file we are looking to process exists.\n            int fileCount = Directory.GetFiles(@\"\\\\company\\Archive\\IN\\InvoiceTest\\Inbox\\\").Length;\n            //And specify the name of the file in the path we want. \n            DirectoryInfo diFileCheck = new DirectoryInfo(@\"\\\\company\\EDIArchive\\IN\\InvoiceTest\\Inbox\\\");\n            foreach (var file in diFileCheck.GetFiles())\n            {\n                string strSourceFile = file.FullName;\n                if (File.Exists(strSourceFile))\n                {\n                    //save our file to the database\n                    string strFileInsert = \"INSERT INTO InvoiceHdr\" +\n                                           \" (fileName) VALUES ('\" + MySqlHelper.EscapeString(strSourceFile) + \"')\";\n\n                    MySqlCommand command = new MySqlCommand(strFileInsert, con);\n                    if (command.ExecuteNonQuery() == 1)\n                    {\n                        //we've inserted our row, now get the new id\n                        m_iFileId = command.LastInsertedId;\n                        if (m_iFileId != 0)\n                        {\n                            SaveCsvLines(strSourceFile);\n                        }\n\n                    ArchiveFile();\n\n                    }\n                }\n            }\n            if (fileCount == 0)\n            {\n                //If we cant count any files in the specified path, we can display a message box warning us. \n                string strMessage = \"No file found in directory: \\n\\n\" + strDirectory;\n                MessageBox.Show(strMessage, \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n            }\n        }\n    }\n</code></pre>\n\n<p>Thanks for all the tips!</p>\n"}], "owner": {"reputation": 59, "user_id": 11759561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a56941da25c0ba67dad025c75ac2ae3?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/11759561/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 301, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1575542700, "creation_date": 1575480675, "last_edit_date": 1575539055, "question_id": 59181752, "link": "https://stackoverflow.com/questions/59181752/how-can-i-get-past-the-following-error-system-io-ioexception-the-directory-na", "title": "How can I get past the following error: System.IO.IOException: &#39;The directory name is invalid. in my foreach loop?", "body": "<p>I am trying to check if a CSV file exists and then save it to a MySQL table</p>\n\n<p>Here is the code I have</p>\n\n<pre><code>    public void SaveCsvToDatabase(string strDirectory)\n    {\n        if (strDirectory.Length &gt; 0)\n        {\n            if (ConnectToDatabase())\n            {\n                //And specify the name of the file in the path we want. \n                DirectoryInfo diFileCheck = new DirectoryInfo(strDirectory);\n                foreach (var fi in diFileCheck.GetFiles())\n                {\n                    string strSourceFile = fi.FullName;\n                    if (File.Exists(strSourceFile))\n                    {\n                        //save our file to the database\n                        string strFileInsert = \"INSERT INTO InvoiceHdr\" +\n                                               \" (fileName) VALUES ('\" + MySqlHelper.EscapeString(strSourceFile) + \"')\";\n\n                        MySqlCommand command = new MySqlCommand(strFileInsert, con);\n                        if (command.ExecuteNonQuery() == 1)\n                        {\n                            //we've inserted our row, now get the new id\n                            m_iFileId = command.LastInsertedId;\n                            if (m_iFileId != 0)\n                            {\n                                SaveCsvLines(strSourceFile);\n                            }\n                            ArchiveFile();\n                        }\n                    }\n                    else\n                    {\n                        string strMessage = \"No file found in directory: \\n\\n\" + strDirectory;\n                        MessageBox.Show(strMessage, \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>It's this line that give me the error</p>\n\n<pre><code>foreach (var fi in diFileCheck.GetFiles())\n</code></pre>\n\n<p>The message says </p>\n\n<blockquote>\n  <p>\"The directory name is invalid.\\r\\n\"</p>\n</blockquote>\n\n<p>I've just noticed my diFileCheck gives an error when I step into it:\n<a href=\"https://i.stack.imgur.com/HNabi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HNabi.png\" alt=\"enter image description here\"></a> </p>\n"}, {"tags": ["c#", "ios", "xamarin"], "comments": [{"owner": {"reputation": 21731, "user_id": 368379, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10b252748343cde1de7df537b57f11ce?s=128&d=identicon&r=PG", "display_name": "Cheesebaron", "link": "https://stackoverflow.com/users/368379/cheesebaron"}, "edited": false, "score": 0, "creation_date": 1575481418, "post_id": 59181706, "comment_id": 104584608, "body": "Do you want them to fill the view horizontally, with some margin between them or what should it look like? It is unclear from your question what effect you want."}, {"owner": {"reputation": 133, "user_id": 12327546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3659a9c877899e932cfd463512bd0d4?s=128&d=identicon&r=PG&f=1", "display_name": "mikkylekyle", "link": "https://stackoverflow.com/users/12327546/mikkylekyle"}, "reply_to_user": {"reputation": 21731, "user_id": 368379, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10b252748343cde1de7df537b57f11ce?s=128&d=identicon&r=PG", "display_name": "Cheesebaron", "link": "https://stackoverflow.com/users/368379/cheesebaron"}, "edited": false, "score": 0, "creation_date": 1575481527, "post_id": 59181706, "comment_id": 104584676, "body": "@Cheesebaron without nothing of margin between them"}, {"owner": {"reputation": 21731, "user_id": 368379, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10b252748343cde1de7df537b57f11ce?s=128&d=identicon&r=PG", "display_name": "Cheesebaron", "link": "https://stackoverflow.com/users/368379/cheesebaron"}, "edited": false, "score": 0, "creation_date": 1575481584, "post_id": 59181706, "comment_id": 104584697, "body": "Still unclear, maybe make a quick drawing of what you want to achieve."}, {"owner": {"reputation": 21731, "user_id": 368379, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10b252748343cde1de7df537b57f11ce?s=128&d=identicon&r=PG", "display_name": "Cheesebaron", "link": "https://stackoverflow.com/users/368379/cheesebaron"}, "edited": false, "score": 0, "creation_date": 1575481785, "post_id": 59181706, "comment_id": 104584802, "body": "<i>still</i> unclear whether leading edge of A and trailing edge of C are touching the edges of the screen. How do you determine the height?"}, {"owner": {"reputation": 21731, "user_id": 368379, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10b252748343cde1de7df537b57f11ce?s=128&d=identicon&r=PG", "display_name": "Cheesebaron", "link": "https://stackoverflow.com/users/368379/cheesebaron"}, "edited": false, "score": 0, "creation_date": 1575481929, "post_id": 59181706, "comment_id": 104584862, "body": "So you want them centered on the screen too?"}, {"owner": {"reputation": 133, "user_id": 12327546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3659a9c877899e932cfd463512bd0d4?s=128&d=identicon&r=PG&f=1", "display_name": "mikkylekyle", "link": "https://stackoverflow.com/users/12327546/mikkylekyle"}, "reply_to_user": {"reputation": 21731, "user_id": 368379, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10b252748343cde1de7df537b57f11ce?s=128&d=identicon&r=PG", "display_name": "Cheesebaron", "link": "https://stackoverflow.com/users/368379/cheesebaron"}, "edited": false, "score": 0, "creation_date": 1575488891, "post_id": 59181706, "comment_id": 104587829, "body": "@Cheesebaron a help more please, how ca i the third element traslate at the end the row?"}, {"owner": {"reputation": 21731, "user_id": 368379, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10b252748343cde1de7df537b57f11ce?s=128&d=identicon&r=PG", "display_name": "Cheesebaron", "link": "https://stackoverflow.com/users/368379/cheesebaron"}, "edited": false, "score": 0, "creation_date": 1575493066, "post_id": 59181706, "comment_id": 104589531, "body": "traslate? I don&#39;t understand"}, {"owner": {"reputation": 133, "user_id": 12327546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3659a9c877899e932cfd463512bd0d4?s=128&d=identicon&r=PG&f=1", "display_name": "mikkylekyle", "link": "https://stackoverflow.com/users/12327546/mikkylekyle"}, "reply_to_user": {"reputation": 21731, "user_id": 368379, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10b252748343cde1de7df537b57f11ce?s=128&d=identicon&r=PG", "display_name": "Cheesebaron", "link": "https://stackoverflow.com/users/368379/cheesebaron"}, "edited": false, "score": 0, "creation_date": 1575493805, "post_id": 59181706, "comment_id": 104589797, "body": "@Cheesebaron i edited my question, see please"}, {"owner": {"reputation": 21731, "user_id": 368379, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10b252748343cde1de7df537b57f11ce?s=128&d=identicon&r=PG", "display_name": "Cheesebaron", "link": "https://stackoverflow.com/users/368379/cheesebaron"}, "edited": false, "score": 0, "creation_date": 1575493997, "post_id": 59181706, "comment_id": 104589860, "body": "Just set TrailingAnchor to View.TrailingAnchor with a margin?"}, {"owner": {"reputation": 133, "user_id": 12327546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3659a9c877899e932cfd463512bd0d4?s=128&d=identicon&r=PG&f=1", "display_name": "mikkylekyle", "link": "https://stackoverflow.com/users/12327546/mikkylekyle"}, "reply_to_user": {"reputation": 21731, "user_id": 368379, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10b252748343cde1de7df537b57f11ce?s=128&d=identicon&r=PG", "display_name": "Cheesebaron", "link": "https://stackoverflow.com/users/368379/cheesebaron"}, "edited": false, "score": 0, "creation_date": 1575494157, "post_id": 59181706, "comment_id": 104589900, "body": "@Cheesebaron i tried but i do not work, help me please please!!!"}, {"owner": {"reputation": 21731, "user_id": 368379, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10b252748343cde1de7df537b57f11ce?s=128&d=identicon&r=PG", "display_name": "Cheesebaron", "link": "https://stackoverflow.com/users/368379/cheesebaron"}, "edited": false, "score": 0, "creation_date": 1575495112, "post_id": 59181706, "comment_id": 104590240, "body": "I think it warrants a new question with a description and some description of what you have tried."}, {"owner": {"reputation": 133, "user_id": 12327546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3659a9c877899e932cfd463512bd0d4?s=128&d=identicon&r=PG&f=1", "display_name": "mikkylekyle", "link": "https://stackoverflow.com/users/12327546/mikkylekyle"}, "reply_to_user": {"reputation": 21731, "user_id": 368379, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10b252748343cde1de7df537b57f11ce?s=128&d=identicon&r=PG", "display_name": "Cheesebaron", "link": "https://stackoverflow.com/users/368379/cheesebaron"}, "edited": false, "score": 0, "creation_date": 1575495328, "post_id": 59181706, "comment_id": 104590315, "body": "i can not do more question, i am blocked"}, {"owner": {"reputation": 133, "user_id": 12327546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3659a9c877899e932cfd463512bd0d4?s=128&d=identicon&r=PG&f=1", "display_name": "mikkylekyle", "link": "https://stackoverflow.com/users/12327546/mikkylekyle"}, "reply_to_user": {"reputation": 21731, "user_id": 368379, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10b252748343cde1de7df537b57f11ce?s=128&d=identicon&r=PG", "display_name": "Cheesebaron", "link": "https://stackoverflow.com/users/368379/cheesebaron"}, "edited": false, "score": 0, "creation_date": 1575512946, "post_id": 59181706, "comment_id": 104594663, "body": "@Cheesebaron i need your help with <a href=\"https://stackoverflow.com/questions/59187327/how-alignement-two-elements-with-contraints\" title=\"how alignement two elements with contraints\">stackoverflow.com/questions/59187327/&hellip;</a> please!!!"}], "answers": [{"tags": [], "owner": {"reputation": 359, "user_id": 4062108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YYWr0o2LxXE/AAAAAAAAAAI/AAAAAAAAADQ/OUqoL90vExU/photo.jpg?sz=128", "display_name": "John Lanzivision", "link": "https://stackoverflow.com/users/4062108/john-lanzivision"}, "is_accepted": false, "score": 1, "last_activity_date": 1575482470, "creation_date": 1575482470, "answer_id": 59182197, "question_id": 59181706, "link": "https://stackoverflow.com/questions/59181706/how-alignement-horizontaly-with-constraints/59182197#59182197", "title": "How alignement horizontaly with constraints?", "body": "<p>I would center justify B, and set the width as height as preferred then match A and C to the width, height, and vertical of B, and the space A and C horizontally in reference to B as preferred.</p>\n\n<p>So</p>\n\n<p>B -> Width, Height, Vertical, Horizontal</p>\n\n<p>A -> Match Width with B, match Height with B, match Vertical with B, set Horizontal in reference to B's location (like -15 or something)</p>\n\n<p>C -> Match Width with B, match Height with B, match vertical with B, set Horizontal in reference to B's location (like +15 or something)</p>\n"}, {"tags": [], "owner": {"reputation": 21731, "user_id": 368379, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10b252748343cde1de7df537b57f11ce?s=128&d=identicon&r=PG", "display_name": "Cheesebaron", "link": "https://stackoverflow.com/users/368379/cheesebaron"}, "is_accepted": true, "score": 2, "last_activity_date": 1575482521, "creation_date": 1575482521, "answer_id": 59182210, "question_id": 59181706, "link": "https://stackoverflow.com/questions/59181706/how-alignement-horizontaly-with-constraints/59182210#59182210", "title": "How alignement horizontaly with constraints?", "body": "<p>Assuming you want to align them something like:</p>\n\n<pre><code>+-----------------------------------------------+\n|                       ^                       |\n|                      120                      |\n|                       v                       |\n|       +---------++---------++---------+       |\n|       |         ||         ||         |       |\n|       |    A    ||    B    ||    C    |       |\n|       |         ||         ||         |       |\n|       +---------++---------++---------+       |\n|                                               |\n|                                               |\n|                                               |\n</code></pre>\n\n<p>Where the items are centered and 120 points from the top and they have a fixed width and height. You could do something like:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// set widths and heights\na.WidthAnchor.ConstraintEqualTo(25).Active = true;\na.HeightAnchor.ConstraintEqualTo(a.WidthAnchor).Active = true;\n\nb.WidthAnchor.ConstraintEqualTo(25).Active = true;\nb.HeightAnchor.ConstraintEqualTo(b.WidthAnchor).Active = true;\n\nc.WidthAnchor.ConstraintEqualTo(25).Active = true;\nc.HeightAnchor.ConstraintEqualTo(c.WidthAnchor).Active = true;\n\n// align B view as the middle view\nb.CenterXAnchor.ConstraintEqualTo(View.CenterXAnchor).Active = true;\n\n// align A to left of B\na.TrailingAnchor.ConstraintEqualTo(b.LeadingAnchor).Active = true;\n\n// align C to right of B\nc.LeadingAnchor.ConstraintEqualTo(b.TrailingAnchor).Active = true;\n\n// align A, B and C, 120 points from the top\na.TopAnchor.ConstraintEqualTo(View.TopAnchor, 120).Active = true;\nb.TopAnchor.ConstraintEqualTo(View.TopAnchor, 120).Active = true;\nc.TopAnchor.ConstraintEqualTo(View.TopAnchor, 120).Active = true;\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 12327546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3659a9c877899e932cfd463512bd0d4?s=128&d=identicon&r=PG&f=1", "display_name": "mikkylekyle", "link": "https://stackoverflow.com/users/12327546/mikkylekyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 59182210, "answer_count": 2, "score": 1, "last_activity_date": 1575495275, "creation_date": 1575480482, "last_edit_date": 1575495275, "question_id": 59181706, "link": "https://stackoverflow.com/questions/59181706/how-alignement-horizontaly-with-constraints", "title": "How alignement horizontaly with constraints?", "body": "<p>How can i alignement horizontaly  three elements [A B C] one before of other with constraints?</p>\n\n<pre><code>public static void AddConstraintsElements(UIView View, UIView element, UIView element2, UIView element3)\n        {\n            NSLayoutConstraint.ActivateConstraints(new[] {\n                element.TopAnchor.ConstraintGreaterThanOrEqualTo(View.TopAnchor, constant: 20),\n                element.LeadingAnchor.ConstraintGreaterThanOrEqualTo(View.LeadingAnchor, constant: 100),\n                element.WidthAnchor.ConstraintGreaterThanOrEqualTo(View.WidthAnchor, 1),\n                element.HeightAnchor.ConstraintGreaterThanOrEqualTo(View.HeightAnchor, 1),\n\n                element2.BottomAnchor.ConstraintGreaterThanOrEqualTo(View.TopAnchor, constant: 20),\n                element2.TrailingAnchor.ConstraintGreaterThanOrEqualTo(View.LeadingAnchor, constant: 120),\n                element2.WidthAnchor.ConstraintGreaterThanOrEqualTo( 1),\n                element2.HeightAnchor.ConstraintGreaterThanOrEqualTo( 1),\n\n                element3.BottomAnchor.ConstraintGreaterThanOrEqualTo(View.TopAnchor, constant: 20),\n                element3.TrailingAnchor.ConstraintGreaterThanOrEqualTo(View.LeadingAnchor, constant: 120),\n                element3.WidthAnchor.ConstraintGreaterThanOrEqualTo( 1),\n                element3.HeightAnchor.ConstraintGreaterThanOrEqualTo( 1)\n            });\n        }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/yNkAJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yNkAJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>other case with first and second element, the third element remove please\n:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LJ3yx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJ3yx.png\" alt=\"enter image description here\"></a></p>\n\n<p>i tried but it's not working</p>\n\n<pre><code>element1.WidthAnchor.ConstraintEqualTo(25).Active = true;\n            element1.HeightAnchor.ConstraintEqualTo(element1.WidthAnchor).Active = true;\n\n            element2.WidthAnchor.ConstraintEqualTo(30).Active = true;\n            element2.HeightAnchor.ConstraintEqualTo(30).Active = true;\n\n\n\n            element1.TrailingAnchor.ConstraintEqualTo(element2.LeadingAnchor).Active = true;\n\n            element1.TopAnchor.ConstraintEqualTo(View.TopAnchor, 15).Active = true;\n            element2.TopAnchor.ConstraintEqualTo(View.TopAnchor, 15).Active = true;\n\n            element1.LeftAnchor.ConstraintEqualTo( View.CenterXAnchor).Active = true;\n            element2.RightAnchor.ConstraintEqualTo(View.RightAnchor).Active = true;\n</code></pre>\n"}, {"tags": ["c#", ".net", "database", "mongodb"], "comments": [{"owner": {"reputation": 9368, "user_id": 1390548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee99f66a15a8e049467a0fca2b80eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jawad", "link": "https://stackoverflow.com/users/1390548/jawad"}, "edited": false, "score": 1, "creation_date": 1575480871, "post_id": 59181490, "comment_id": 104584325, "body": "If there is no reason to Find All documents, can you limit the results to specific count? or use a filter ?"}, {"owner": {"reputation": 3584, "user_id": 4368485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1WnyN.png?s=128&g=1", "display_name": "\u0110\u0135 \u039d\u03b9\u0393\u039e\u0397\u039b\u03c8\u039a", "link": "https://stackoverflow.com/users/4368485/%c4%90%c4%b5-%ce%9d%ce%b9%ce%93%ce%9e%ce%97%ce%9b%cf%88%ce%9a"}, "edited": false, "score": 1, "creation_date": 1575480978, "post_id": 59181490, "comment_id": 104584387, "body": "just out of curiosity, what kind of application needs to display 123k documents to the user? i.e. why do you need to retrieve all documents from the db in a single batch? what&#39;s the use case here?"}, {"owner": {"reputation": 133, "user_id": 8598261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cec0d7942b37fdf31b33a643357129d9?s=128&d=identicon&r=PG&f=1", "display_name": "Eduardo Lima", "link": "https://stackoverflow.com/users/8598261/eduardo-lima"}, "reply_to_user": {"reputation": 9368, "user_id": 1390548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee99f66a15a8e049467a0fca2b80eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jawad", "link": "https://stackoverflow.com/users/1390548/jawad"}, "edited": false, "score": 0, "creation_date": 1575481730, "post_id": 59181490, "comment_id": 104584768, "body": "@jawad I want to retrieve all documents. Retrieving only a few documents or using a filter is not an option in my case."}, {"owner": {"reputation": 133, "user_id": 8598261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cec0d7942b37fdf31b33a643357129d9?s=128&d=identicon&r=PG&f=1", "display_name": "Eduardo Lima", "link": "https://stackoverflow.com/users/8598261/eduardo-lima"}, "reply_to_user": {"reputation": 3584, "user_id": 4368485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1WnyN.png?s=128&g=1", "display_name": "\u0110\u0135 \u039d\u03b9\u0393\u039e\u0397\u039b\u03c8\u039a", "link": "https://stackoverflow.com/users/4368485/%c4%90%c4%b5-%ce%9d%ce%b9%ce%93%ce%9e%ce%97%ce%9b%cf%88%ce%9a"}, "edited": false, "score": 0, "creation_date": 1575481833, "post_id": 59181490, "comment_id": 104584824, "body": "@RyanGunner It is an application that gives insights related to the supply chain of large brazilian companies. I need this data to build a dashboard for customers."}, {"owner": {"reputation": 9368, "user_id": 1390548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee99f66a15a8e049467a0fca2b80eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jawad", "link": "https://stackoverflow.com/users/1390548/jawad"}, "edited": false, "score": 2, "creation_date": 1575482575, "post_id": 59181490, "comment_id": 104585212, "body": "I would still suggest looking into Pagination. Trying to get the entire data in one go will take some time"}, {"owner": {"reputation": 7279, "user_id": 415559, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TDc9T.jpg?s=128&g=1", "display_name": "barrypicker", "link": "https://stackoverflow.com/users/415559/barrypicker"}, "edited": false, "score": 2, "creation_date": 1575491750, "post_id": 59181490, "comment_id": 104589018, "body": "Dashboards usually show summarized data, not 123,000 records.   I suggest you restructure the query to use aggregations to summarize and return the datapoints the dashboard really need rather than have the dashboard take details and summarize them."}, {"owner": {"reputation": 925, "user_id": 6013145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0cyMvGYGJRc/AAAAAAAAAAI/AAAAAAAABDc/fbE6sfTvG70/photo.jpg?sz=128", "display_name": "Joe Drumgoole", "link": "https://stackoverflow.com/users/6013145/joe-drumgoole"}, "edited": false, "score": 1, "creation_date": 1575552382, "post_id": 59181490, "comment_id": 104610536, "body": "The laws of physics (not MongoDB) say it&#39;s going to take a finite amount of time to read 100k documents from one block of memory to another block of memory. I would recommend you look at the dashboard and see if a subset of documents would do the job. Or try a <code>$sample</code> aggregation operator."}], "owner": {"reputation": 133, "user_id": 8598261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cec0d7942b37fdf31b33a643357129d9?s=128&d=identicon&r=PG&f=1", "display_name": "Eduardo Lima", "link": "https://stackoverflow.com/users/8598261/eduardo-lima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575479785, "creation_date": 1575479785, "question_id": 59181490, "link": "https://stackoverflow.com/questions/59181490/mongodb-c-driver-is-slow-even-in-simple-queries", "title": "MongoDb C# driver is slow even in simple queries", "body": "<p>I need to retrieve all documents from a collection in mongodb. There's nothing special about the query, I just need all the documents to be returned.</p>\n\n<p>The statuses of my collection are:</p>\n\n<pre><code>{\n    \"ns\" : \"MyDb.MyCollection\",\n    \"size\" : 206553804,\n    \"count\" : 123663,\n    \"avgObjSize\" : 1670,\n    \"storageSize\" : 30953472,\n    \"capped\" : false,\n    \"nindexes\" : 1,\n    \"totalIndexSize\" : 1122304,\n    \"indexSizes\" : {\n        \"_id_\" : 1122304\n    },\n    \"ok\" : 1.0\n}\n</code></pre>\n\n<p>In my C # function, I wrote the following code:</p>\n\n<pre><code>var client = new MongoClient(\"mongodb://localhost:27017\");\n\nvar database = client.GetDatabase(\"MyDb\");\n\nvar collection = database.GetCollection&lt;BsonDocument&gt;(\"MyCollection\");\n\nvar documents = collection.Find(new BsonDocument()).ToList();\n</code></pre>\n\n<p>The problem is that in the line of the function find() takes about 60 seconds to return all documents and this is hindering my application performance. This simple query in other collections is also taking longer than usual to return something. The database is running locally.</p>\n\n<p>I'm using:</p>\n\n<ul>\n<li>MongoDb 3.6.10;</li>\n<li>MongoDb.Driver 2.7.0</li>\n<li>.NET Framework 4.7</li>\n<li>Windows 10</li>\n</ul>\n\n<p>Also, my machine is a 7th generation i7 with 16gb ram and 256 SSD. Queries take the same time when the application is on the production server.</p>\n\n<p>Is there anything I can do to improve this? </p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c#", "visual-studio", "xaml", "xamarin", "xamarin.forms"], "answers": [{"comments": [{"owner": {"reputation": 1354, "user_id": 2536167, "user_type": "registered", "accept_rate": 13, "profile_image": "https://i.stack.imgur.com/qWZNu.jpg?s=128&g=1", "display_name": "Harikrishnan", "link": "https://stackoverflow.com/users/2536167/harikrishnan"}, "edited": false, "score": 0, "creation_date": 1575484140, "post_id": 59182570, "comment_id": 104585977, "body": "Giuseppe Terrasi: If my reply helps you, please remember to mark my reply as an answer. Thanks..."}, {"owner": {"reputation": 198, "user_id": 7635736, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHorZqcUgQI/AAAAAAAAAAI/AAAAAAAAAc8/iNIByCAyXdo/photo.jpg?sz=128", "display_name": "Giuseppe Terrasi", "link": "https://stackoverflow.com/users/7635736/giuseppe-terrasi"}, "edited": false, "score": 0, "creation_date": 1575501408, "post_id": 59182570, "comment_id": 104592058, "body": "Thank you so much! I&#39;ve also followed your suggestion to store and reset the selected item in order avoid the loop."}, {"owner": {"reputation": 1171, "user_id": 1862413, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/67f8c6beaf2df4a28f63f65e085043ca?s=128&d=identicon&r=PG", "display_name": "javirs", "link": "https://stackoverflow.com/users/1862413/javirs"}, "edited": false, "score": 0, "creation_date": 1588164481, "post_id": 59182570, "comment_id": 108793775, "body": "What is a platforminfo ? how can I use it for a normal Listview ?"}, {"owner": {"reputation": 1354, "user_id": 2536167, "user_type": "registered", "accept_rate": 13, "profile_image": "https://i.stack.imgur.com/qWZNu.jpg?s=128&g=1", "display_name": "Harikrishnan", "link": "https://stackoverflow.com/users/2536167/harikrishnan"}, "edited": false, "score": 0, "creation_date": 1590562643, "post_id": 59182570, "comment_id": 109722090, "body": "PlatformInfo is the model object of my bound collection. Sorry about the late reply. Missed this notification."}], "tags": [], "owner": {"reputation": 1354, "user_id": 2536167, "user_type": "registered", "accept_rate": 13, "profile_image": "https://i.stack.imgur.com/qWZNu.jpg?s=128&g=1", "display_name": "Harikrishnan", "link": "https://stackoverflow.com/users/2536167/harikrishnan"}, "is_accepted": true, "score": 2, "last_activity_date": 1575484041, "creation_date": 1575484041, "answer_id": 59182570, "question_id": 59181474, "link": "https://stackoverflow.com/questions/59181474/how-to-change-background-color-of-listview-selected-item-in-xamarin-forms-cross/59182570#59182570", "title": "How to change background color of listview selected item in Xamarin Forms Cross Platform without a custom renderer", "body": "<p>The below code works perfectly for me. However, it iterates the entire ItemsSource for resetting the background of the previously selected item. You can store it and reset it if you wish to optimize it. Hope this helps. </p>\n\n<pre><code>&lt;ListView x:Name=\"contactList\" ItemsSource=\"{Binding PlatformsList}\" ItemTapped=\"contactList_ItemTapped\"\n             VerticalOptions=\"CenterAndExpand\" HorizontalOptions=\"FillAndExpand\"&gt;\n    &lt;ListView.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;ViewCell&gt;\n                &lt;Label TextColor=\"Black\" Margin=\"10,0\" Text=\"{Binding PlatformName}\" BackgroundColor=\"{Binding Background}\" VerticalOptions=\"Center\" /&gt;\n            &lt;/ViewCell&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ListView.ItemTemplate&gt;\n&lt;/ListView&gt;\n\nprivate void contactList_ItemTapped(object sender, ItemTappedEventArgs e)\n{\n    var selectedItem = e.Item as PlatformInfo;\n    selectedItem.ItemBackground = Color.Aqua;\n\n    foreach(var item in this.contactList.ItemsSource)\n    {\n        if (item != selectedItem)\n            (item as PlatformInfo).ItemBackground = Color.Transparent;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 286, "user_id": 3604768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46a690a51c53e00dbbd7a73507b8ca58?s=128&d=identicon&r=PG&f=1", "display_name": "chri3g91", "link": "https://stackoverflow.com/users/3604768/chri3g91"}, "is_accepted": false, "score": 0, "last_activity_date": 1592591924, "creation_date": 1592591924, "answer_id": 62476617, "question_id": 59181474, "link": "https://stackoverflow.com/questions/59181474/how-to-change-background-color-of-listview-selected-item-in-xamarin-forms-cross/62476617#62476617", "title": "How to change background color of listview selected item in Xamarin Forms Cross Platform without a custom renderer", "body": "<p>I chose to avoid using the ListViews's ItemSelected event or custom renderer approach and apply style changes in the code behind file. The Tapped gesture event and a list (SelectedItems) for tracking the views contained within the active list item, provides easy color style changes. </p>\n\n<p><strong>.xaml file</strong></p>\n\n<pre><code>&lt;ListView ItemsSource=\"{Binding ViewModelList}\" SelectionMode=\"None\"&gt;\n                &lt;ListView.ItemTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;ViewCell&gt;\n                            &lt;Grid Padding=\"10\"&gt;\n                                &lt;Grid.RowDefinitions&gt;\n                                    &lt;RowDefinition Height=\"*\" /&gt;\n                                &lt;/Grid.RowDefinitions&gt; \n                                &lt;Grid.ColumnDefinitions&gt;\n                                    &lt;ColumnDefinition Width=\"Auto\" /&gt;\n                                    &lt;ColumnDefinition Width=\"*\" /&gt;\n                                &lt;/Grid.ColumnDefinitions&gt;                                   \n                                &lt;Label Grid.Row=\"0\" Grid.Column=\"0\" Text=\"{Binding CNumber'}\"&gt;\n                                    &lt;Label.GestureRecognizers&gt;\n                                        &lt;TapGestureRecognizer Tapped=\"Tapped_Command\" CommandParameter=\"{Binding CNumber}\" /&gt;\n                                    &lt;/Label.GestureRecognizers&gt;\n                                &lt;/Label&gt;\n                                &lt;Label Grid.Row=\"0\" Grid.Column=\"1\" Text=\"{Binding Brand}\" TextColor=\"{StaticResource Blue}\"&gt;\n                                    &lt;Label.GestureRecognizers&gt;\n                                        &lt;TapGestureRecognizer Tapped=\"Tapped_Command\" CommandParameter=\"{Binding CNumber}\" /&gt;\n                                    &lt;/Label.GestureRecognizers&gt;\n                                &lt;/Label&gt;\n                            &lt;/Grid&gt;\n                        &lt;/ViewCell&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/ListView.ItemTemplate&gt;\n            &lt;/ListView&gt;\n</code></pre>\n\n<p><strong>.xaml.cs  code behind file</strong></p>\n\n<pre><code> private List&lt;View&gt; SelectedItems { get; set; }\n\n    public MYListPage()\n    {\n        InitializeComponent();           \n        BindingContext = new MyViewModel();\n        SelectedItems = new List&lt;View&gt;();\n    }\n\n\n       private async void Tapped_Command(object sender, EventArgs e)\n    {\n        var l = (Label)sender;\n        var cNumber= (((TappedEventArgs)e).Parameter) as string;\n        if (string.IsNullOrEmpty(contract))\n            await DisplayAlert(\"Error\", \"Could not load the information\", \"close\");\n        else\n        {\n            if (SelectedItems.Count &gt; 0)\n            {\n                foreach (var v in SelectedItems)  //reset the styling to the original 'unselected' colors\n                {\n                    if (v.GetType() == typeof(Grid))\n                        ((Grid) v).BackgroundColor = Color.Transparent;\n                    else if(v.GetType() == typeof(Label))\n                        ((Label)v).TextColor = Color.Black;\n                }\n                SelectedItems.Clear();\n            }\n            var parent = (Grid)l.Parent;\n            parent.BackgroundColor = Color.FromHex(\"#E0E0E0\");   //set the background color\n            SelectedItems.Add(parent);\n            foreach (var c in parent.Children)   //option to set additional styling to the child elements\n            {\n                var child = (Label)c;\n                child.TextColor = Color.FromRgb(0, 123, 255);\n                SelectedItems.Add(child);\n            }\n            await Navigation.PushAsync(new MyDetailsPage(viewModel, cNumber));\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 198, "user_id": 7635736, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHorZqcUgQI/AAAAAAAAAAI/AAAAAAAAAc8/iNIByCAyXdo/photo.jpg?sz=128", "display_name": "Giuseppe Terrasi", "link": "https://stackoverflow.com/users/7635736/giuseppe-terrasi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3485, "favorite_count": 0, "accepted_answer_id": 59182570, "answer_count": 2, "score": 2, "last_activity_date": 1592591924, "creation_date": 1575479748, "question_id": 59181474, "link": "https://stackoverflow.com/questions/59181474/how-to-change-background-color-of-listview-selected-item-in-xamarin-forms-cross", "title": "How to change background color of listview selected item in Xamarin Forms Cross Platform without a custom renderer", "body": "<p>how can I change the selected color of a list view selected item in Xamarin Forms Cross Platform?</p>\n\n<p>I was able to change it using the answer in this question <a href=\"https://stackoverflow.com/questions/53595003/how-can-i-change-background-color-of-a-listview-in-xaml\">How can I change background color of a ListView in Xaml?</a></p>\n\n<p>but on first appear the selected item is with the default background color (Orange).</p>\n\n<p>Any suggestions?</p>\n\n<p>I wonder why in 2019 (nearly 2020) there isn't an out of the box way to change this basic and common property easly.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "ssis", "aws-glue"], "answers": [{"tags": [], "owner": {"reputation": 1774, "user_id": 4470126, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30c5924d5c914cc8d98254c8c9cea597?s=128&d=identicon&r=PG&f=1", "display_name": "Yuva", "link": "https://stackoverflow.com/users/4470126/yuva"}, "is_accepted": true, "score": 0, "last_activity_date": 1575566447, "creation_date": 1575566447, "answer_id": 59200283, "question_id": 59181416, "link": "https://stackoverflow.com/questions/59181416/aws-glue-creating-etl-job-flows-using-c-and-programmatic-access/59200283#59200283", "title": "AWS Glue - Creating ETL job flows using C# and Programmatic access", "body": "<p>No they're not supported currently.  Only Python and Scala are supported.</p>\n"}], "owner": {"reputation": 23, "user_id": 9988355, "user_type": "registered", "profile_image": "https://graph.facebook.com/1698986243502883/picture?type=large", "display_name": "Ayush Singh", "link": "https://stackoverflow.com/users/9988355/ayush-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 59200283, "answer_count": 1, "score": 0, "last_activity_date": 1575566447, "creation_date": 1575479558, "question_id": 59181416, "link": "https://stackoverflow.com/questions/59181416/aws-glue-creating-etl-job-flows-using-c-and-programmatic-access", "title": "AWS Glue - Creating ETL job flows using C# and Programmatic access", "body": "<p>Is it possible to create ETL workflows in aws glue using C# or dotnet code?\nOr it is restricted to use pyspark and python only for creating job flows. Also is there a feature which allows to do lift and shift feature say using an existing ETL workflow in SSIS or informatica etc.</p>\n"}, {"tags": ["c#", "c++", "dcom"], "comments": [{"owner": {"reputation": 2323, "user_id": 8350647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zJNHD.png?s=128&g=1", "display_name": "Nina", "link": "https://stackoverflow.com/users/8350647/nina"}, "edited": false, "score": 0, "creation_date": 1575479415, "post_id": 59181299, "comment_id": 104583567, "body": "If you&#39;re having trouble passing a string array, try passing a callback to the C# program, then when you get the printers in C# iterate the array of strinsg, passing each string one at a time into the callback."}, {"owner": {"reputation": 39, "user_id": 9045902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87a81594052fc5d75bc027d1dbaa69bb?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/9045902/alexander"}, "reply_to_user": {"reputation": 2323, "user_id": 8350647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zJNHD.png?s=128&g=1", "display_name": "Nina", "link": "https://stackoverflow.com/users/8350647/nina"}, "edited": false, "score": 0, "creation_date": 1575482100, "post_id": 59181299, "comment_id": 104584960, "body": "I think I solved it correctly, although the answer will come tomorrow when I&#39;ve got some sleep and can think more clearly."}], "owner": {"reputation": 39, "user_id": 9045902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87a81594052fc5d75bc027d1dbaa69bb?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/9045902/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575479114, "creation_date": 1575479114, "question_id": 59181299, "link": "https://stackoverflow.com/questions/59181299/retrieve-string-array-from-c-in-c-through-dcom", "title": "Retrieve string array from C++ in C# through DCOM", "body": "<p>I have an application that needs to retrieve an array of strings from another computer. I am fairly certain that everything works on the C++ side as I have other cases doing something similar but between C++. The first example below is how I image it would but with a function call from C# (which does not work). So how do I get the <em>printers</em> to work in this case?</p>\n\n<pre><code>IntPtr printers;\nint numPrinters;\n\nglobalPrinter.GetAllPrinterNames(out numPrinters, printers);\nstring[] printerNames;\nMarshalUnmananagedArray2Struct(printers, numPrinters, out printerNames); //perhaps a later case to figure out\n</code></pre>\n\n<p>Inside C++:</p>\n\n<pre><code>STDMETHODIMP CPrinter::GetAllPrinterNames(long* pValSize, BSTR** pVal)\n{\n    StackLock&lt;CPrinter&gt; aLock(this);\n\n    PRINTER_INFO_2*    list;\n    DWORD               numPrinters = 0;\n    DWORD               sz = 0;\n    DWORD               Level = 2;\n\n    EnumPrinters(PRINTER_ENUM_LOCAL | PRINTER_ENUM_CONNECTIONS, NULL, Level, NULL, 0, &amp;sz, &amp;numPrinters);\n    if (!EnumPrinters(PRINTER_ENUM_LOCAL | PRINTER_ENUM_CONNECTIONS, NULL, Level, (LPBYTE)list, sz, &amp;sz, &amp;numPrinters))\n    {\n        free(list);\n    }\n\n    *pValSize = numPrinters;\n\n    *pVal = (BSTR*) ::CoTaskMemAlloc((*pValSize) * sizeof(BSTR));\n\n    for (int n = 0; n &lt;= *pValSize; n++) {\n\n        String printerName = list[n].pPrinterName;\n        (*pVal)[n] = printerName.AllocBSTR(); //Help library allocs the BSTR.\n    }\n    free(list);\n\n    return S_OK;\n}\n</code></pre>\n\n<p>.idl:</p>\n\n<pre><code>[id(3), helpstring(\"method GetAllPrinterNames\")] HRESULT GetAllPrinterNames([out] long* length, [out, size_is(, *length)] BSTR **Message);\n</code></pre>\n"}, {"tags": ["c#", ".net", "variables", "methods"], "comments": [{"owner": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "edited": false, "score": 1, "creation_date": 1575478866, "post_id": 59181198, "comment_id": 104583246, "body": "make them (static) <i>members</i> of your class (like <code>path</code>, but not as <code>const</code>)."}, {"owner": {"reputation": 79, "user_id": 11752870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bed967623fdca8aa05f8392f43bba733?s=128&d=identicon&r=PG&f=1", "display_name": "Devin", "link": "https://stackoverflow.com/users/11752870/devin"}, "reply_to_user": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "edited": false, "score": 0, "creation_date": 1575479074, "post_id": 59181198, "comment_id": 104583360, "body": "well that path is a constant and I want to keep it that way ... Any idea how I can access  tring Version , the List of ListOfSelectedItems and the List of channels ? @Ren&#233;Vogt"}, {"owner": {"reputation": 2123, "user_id": 3715853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab97a97ef6e4c263972d713671b58e3?s=128&d=identicon&r=PG&f=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/3715853/holger"}, "edited": false, "score": 3, "creation_date": 1575479481, "post_id": 59181198, "comment_id": 104583604, "body": "Like Path, does not mean change path. Path is accessible everywhere, you want something accesible everywhere, so take path as an example for what you want to do. (but replace const by static, as Rene said)"}], "answers": [{"tags": [], "owner": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1575479745, "creation_date": 1575479745, "answer_id": 59181470, "question_id": 59181198, "link": "https://stackoverflow.com/questions/59181198/how-can-i-access-values-stored-within-a-method-from-other-places-of-a-class/59181470#59181470", "title": "how can I access values stored within a method from other places of a class", "body": "<p>Create a class with properties that you want to access from other places. Instantiate this class in setUpValues and return this.</p>\n\n<pre><code>public class TestClass\n{\n    public TestClass()\n    {\n        this.ListOfSelectedItems = new List&lt;string&gt;();\n    }\n    public string Version { get; set; }\n    public List&lt;string&gt; ListOfSelectedItems { get; set; }\n}\n</code></pre>\n\n<p>And then modify your Main method as:</p>\n\n<pre><code>    var myObj = setUpValues();\n</code></pre>\n\n<p>And then Modify setUpValues to return this:</p>\n\n<pre><code>    private static TestClass setUpValues()\n    {\n        var Content = JsonConvert.DeserializeObject&lt;deploy&gt;(File.ReadAllText(path));\n        List&lt;Variable&gt; variables = Content.Variables.ToList();\n        Scopes Scope = Content.ScopeValues;\n\n        string Version = null;\n\n        List&lt;string&gt; ListOfSelectedItems = new List&lt;string&gt;();\n        List&lt;string&gt; TempListOfSelectedItems = new List&lt;string&gt;();\n        List&lt;string&gt; Channels = new List&lt;string&gt;();\n\n        foreach (var item in variables)\n        {\n            if (item.Name.Equals(\"version\"))\n            {\n                Version = item.Value;\n            }\n            if (item.Name.Equals(\"Selected\"))\n            {\n                TempListOfSelectedItems.Add(item.Value);\n            }\n        }\n        var retObj = new TestClass();\n        Console.WriteLine(\"Version  \" + Version);\n        Console.WriteLine();\n        retObj.Version = Version;\n        string SelectedItems = TempListOfSelectedItems[0];\n        ListOfSelectedItems = SelectedItems.Split(',').ToList();\n\n        Console.WriteLine();\n        Console.WriteLine(\"Selected Modules\");\n        Console.WriteLine();\n\n        foreach (var item in ListOfSelectedItems)\n        {\n            Console.WriteLine(item);\n            retObj.ListOfSelectedItems.Add(item);\n        }\n\n        foreach (var item in Scope.Channels)\n        {\n            Channels.Add(item.Name);\n        }\n\n        return retObj;\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 11752870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bed967623fdca8aa05f8392f43bba733?s=128&d=identicon&r=PG&f=1", "display_name": "Devin", "link": "https://stackoverflow.com/users/11752870/devin"}, "edited": false, "score": 0, "creation_date": 1575483656, "post_id": 59181540, "comment_id": 104585760, "body": "Hi Thanks for your answer . Just have a small problem tho. Right after the method finishes executing the values are null again . am I doing something wrong here ?"}, {"owner": {"reputation": 670, "user_id": 5659368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FeBMS.jpg?s=128&g=1", "display_name": "Tolik Pylypchuk", "link": "https://stackoverflow.com/users/5659368/tolik-pylypchuk"}, "reply_to_user": {"reputation": 79, "user_id": 11752870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bed967623fdca8aa05f8392f43bba733?s=128&d=identicon&r=PG&f=1", "display_name": "Devin", "link": "https://stackoverflow.com/users/11752870/devin"}, "edited": false, "score": 0, "creation_date": 1575492303, "post_id": 59181540, "comment_id": 104589229, "body": "I think it may be because you have static fields and then in the method you declare the local variables <i>with the same name</i>. I can&#39;t be sure, though, because I can&#39;t see the code. To use a field instead of a local variable you should for example use this: <code>ListOfSelectedItems = ...</code> instead of this: <code>List&lt;string&gt; ListOfSelectedItems = ...</code>. When you write <code>type name</code>, you create a new variable, which can have the same name as the field, but it&#39;s a completely separate thing."}], "tags": [], "owner": {"reputation": 670, "user_id": 5659368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FeBMS.jpg?s=128&g=1", "display_name": "Tolik Pylypchuk", "link": "https://stackoverflow.com/users/5659368/tolik-pylypchuk"}, "is_accepted": true, "score": 1, "last_activity_date": 1575479944, "creation_date": 1575479944, "answer_id": 59181540, "question_id": 59181198, "link": "https://stackoverflow.com/questions/59181198/how-can-i-access-values-stored-within-a-method-from-other-places-of-a-class/59181540#59181540", "title": "how can I access values stored within a method from other places of a class", "body": "<p>In order to use variables outside a method, you should declare them as fields of a class. Like this:</p>\n\n<pre><code>class Program\n{\n    const string path = @\"filePath\";\n    static deploy Content;\n    static string Version;\n    static List&lt;string&gt; ListOfSelectedItems;\n    static List&lt;string&gt; TempListOfSelectedItems;\n    static List&lt;string&gt; Channels;\n    // and others\n\n    static void Main(string[] args)\n    {\n        setUpValues();\n    }\n\n    private static void setUpValues()\n    {\n        Content = JsonConvert.DeserializeObject&lt;deploy&gt;(File.ReadAllText(path));\n        List&lt;Variable&gt; variables = Content.Variables.ToList();\n        Scopes Scope = Content.ScopeValues;\n\n        Version = null;\n\n        ListOfSelectedItems = new List&lt;string&gt;();\n        TempListOfSelectedItems = new List&lt;string&gt;();\n        Channels = new List&lt;string&gt;();\n\n        foreach (var item in variables)\n        {\n            if (item.Name.Equals(\"version\"))\n            {\n                Version = item.Value;\n            }\n\n            if (item.Name.Equals(\"Selected\"))\n            {\n                TempListOfSelectedItems.Add(item.Value);\n            }\n        }\n\n        Console.WriteLine(\"Version  \" + Version);\n        Console.WriteLine();\n\n        string SelectedItems = TempListOfSelectedItems[0];\n        ListOfSelectedItems = SelectedItems.Split(',').ToList();\n\n        Console.WriteLine();\n        Console.WriteLine(\"Selected Modules\");\n        Console.WriteLine();\n\n        foreach (var item in ListOfSelectedItems)\n        {\n            Console.WriteLine(item);\n        }\n\n        foreach (var item in Scope.Channels)\n        {\n            Channels.Add(item.Name);\n        }\n    }\n}\n</code></pre>\n\n<p>You have to declare those fields as <code>static</code> because they are used in a static method. After the <code>setUpValues</code> finishes running, you can use those fields inside the <code>Main</code> method as well.</p>\n\n<p>Also, this is not related to the question, but the general code convention in C# is to start methods' names with an uppercase letter (so <code>SetUpValues</code> instead of <code>setUpValues</code>) and to start the local variables' names with a lowercase letter (<code>selectedItems</code> instead of <code>SelectedItems</code>). Obviously, it's ultimately up to you how to name things and which code convention to use.</p>\n"}], "owner": {"reputation": 79, "user_id": 11752870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bed967623fdca8aa05f8392f43bba733?s=128&d=identicon&r=PG&f=1", "display_name": "Devin", "link": "https://stackoverflow.com/users/11752870/devin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "closed_date": 1583353391, "accepted_answer_id": 59181540, "answer_count": 2, "score": -1, "last_activity_date": 1575479944, "creation_date": 1575478798, "question_id": 59181198, "link": "https://stackoverflow.com/questions/59181198/how-can-i-access-values-stored-within-a-method-from-other-places-of-a-class", "closed_reason": "Duplicate", "title": "how can I access values stored within a method from other places of a class", "body": "<p>In my current application while I have been able to implement the required logic that I need I am really stuck when trying to take off the content from the main method and using it from a different method .</p>\n\n<p>My code is as below,</p>\n\n<pre><code>class Program\n    {\n        const string path = @\"filePath\";\n        static void Main(string[] args)\n        {\n            setUpValues();\n        }\n        private static void setUpValues()\n        {\n                var Content = JsonConvert.DeserializeObject&lt;deploy&gt;(File.ReadAllText(path));\n                List&lt;Variable&gt; variables = Content.Variables.ToList();\n                Scopes Scope = Content.ScopeValues;\n\n                string Version = null;\n\n                List&lt;string&gt; ListOfSelectedItems= new List&lt;string&gt;();\n                List&lt;string&gt; TempListOfSelectedItems = new List&lt;string&gt;();\n                List&lt;string&gt; Channels = new List&lt;string&gt;();\n\n            foreach (var item in variables)\n            {\n                if (item.Name.Equals(\"version\"))\n                {\n                    Version = item.Value;\n                }\n                if (item.Name.Equals(\"Selected\"))\n                {\n                    TempListOfSelectedItems.Add(item.Value);\n                }\n            }\n\n            Console.WriteLine(\"Version  \" + Version);\n            Console.WriteLine();\n\n            string SelectedItems= TempListOfSelectedItems[0];\n            ListOfSelectedItems = SelectedItems.Split(',').ToList();\n\n            Console.WriteLine();\n            Console.WriteLine(\"Selected Modules\");\n            Console.WriteLine();\n\n            foreach (var item in ListOfSelectedItems)\n            {\n                Console.WriteLine(item);\n            }\n\n            foreach (var item in Scope.Channels)\n            {\n                Channels.Add(item.Name);\n            }\n        }\n    }\n</code></pre>\n\n<p>I want to be able to access the variable string Version ,  the List of ListOfSelectedItems and the List of channels from outside this method .. I want to use these in another as well . So how can I make these globally accessible ?\nWould really appreciate your help on this as I have been stuck here</p>\n"}, {"tags": ["c#", "botframework", "microsoft-cognitive", "qnamaker"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 7701103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0e6e4797d178eaec3bec34f56e84381?s=128&d=identicon&r=PG&f=1", "display_name": "Swishonary", "link": "https://stackoverflow.com/users/7701103/swishonary"}, "edited": false, "score": 0, "creation_date": 1606826596, "post_id": 59201817, "comment_id": 115074276, "body": "Could someone please help me out on doing this using the python BotFramework SDK?. I have asked a new question for this as well - <a href=\"https://stackoverflow.com/questions/65086558/how-do-i-switch-between-qnamaker-and-waterfall-dialogs-in-python-azure-botframew\">Question Link</a>. Thanks a lot."}], "tags": [], "owner": {"reputation": 6627, "user_id": 12248433, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i6pUDQ6UiYA/AAAAAAAAAAI/AAAAAAAB9Vo/HeFe6tNR68A/photo.jpg?sz=128", "display_name": "mdrichardson", "link": "https://stackoverflow.com/users/12248433/mdrichardson"}, "is_accepted": true, "score": 3, "last_activity_date": 1575572878, "creation_date": 1575572878, "answer_id": 59201817, "question_id": 59181187, "link": "https://stackoverflow.com/questions/59181187/how-to-call-qna-maker-on-a-waterfall-dialog-using-c/59201817#59201817", "title": "How to call QnA Maker on a waterfall dialog using C#?", "body": "<p>It looks like you don't have <code>qnaMaker</code> defined in your code above, there. You can really call QnAMaker from anywhere, so long as you have a QnAMaker service defined somewhere.</p>\n\n<p>I recommend following <a href=\"https://github.com/microsoft/BotBuilder-Samples/blob/master/samples/csharp_dotnetcore/49.qnamaker-all-features\" rel=\"nofollow noreferrer\">this sample</a>. It's fairly complex, but is the best example of using QnAMaker within a Waterfall Dialog.</p>\n\n<p>I'll point out some pieces that you will find most useful:</p>\n\n<ol>\n<li><a href=\"https://github.com/microsoft/BotBuilder-Samples/blob/master/samples/csharp_dotnetcore/49.qnamaker-all-features/BotServices.cs#L13\" rel=\"nofollow noreferrer\">Create the QnAMaker service</a></li>\n<li>Use <a href=\"https://stackify.com/dependency-injection-c-sharp/\" rel=\"nofollow noreferrer\">dependency injection</a> so that you can <a href=\"https://github.com/microsoft/BotBuilder-Samples/blob/master/samples/csharp_dotnetcore/49.qnamaker-all-features/Startup.cs#L36\" rel=\"nofollow noreferrer\">access the BotServices from anywhere in the project</a></li>\n<li><a href=\"https://github.com/microsoft/BotBuilder-Samples/blob/master/samples/csharp_dotnetcore/49.qnamaker-all-features/Dialog/QnAMakerBaseDialog.cs#L51\" rel=\"nofollow noreferrer\">Add the services to the dialog's constructor</a></li>\n<li><a href=\"https://github.com/microsoft/BotBuilder-Samples/blob/master/samples/csharp_dotnetcore/49.qnamaker-all-features/Dialog/QnAMakerBaseDialog.cs#L129\" rel=\"nofollow noreferrer\">Call the QnAMaker service</a></li>\n</ol>\n\n<p>Again, that sample is fairly complex. If you need additional pointers, please update your question with the code that you've tried and I'll see if I can help.</p>\n"}], "owner": {"reputation": 59, "user_id": 12481125, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f1y2p6n-xLM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdmBVR1k0wF2bNtjVtIU_lDSrMsTw/photo.jpg?sz=128", "display_name": "Jo&#227;o Guimar&#227;es", "link": "https://stackoverflow.com/users/12481125/jo%c3%a3o-guimar%c3%a3es"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 59201817, "answer_count": 1, "score": 3, "last_activity_date": 1575584200, "creation_date": 1575478786, "last_edit_date": 1575584200, "question_id": 59181187, "link": "https://stackoverflow.com/questions/59181187/how-to-call-qna-maker-on-a-waterfall-dialog-using-c", "title": "How to call QnA Maker on a waterfall dialog using C#?", "body": "<p>I am trying to call <strong>QnA Maker</strong> on a <strong>waterfall dialog step</strong>.</p>\n\n<p>How do I call it from this <code>watterfall</code> step, do I need to set up QnA On the waterfall step, do I need to call <strong>QnA</strong> from a <strong>LUIS intent</strong>, what can I do?</p>\n\n<p><img src=\"https://i.stack.imgur.com/cqU8d.png\" alt=\"Code\"></p>\n\n<p>I need it to get the first result from the QnA using the step context from the previous question.</p>\n\n<p>Can anyone help?</p>\n\n<p>Code:</p>\n\n<pre><code>private async Task&lt;DialogTurnResult&gt; QnaAsync(WaterfallStepContext stepContext, CancellationToken cancellationToken)\n{\n    var response = await qnaMaker.GetAnswersAsync(stepContext);\n\n    // use answer found in qnaResults[0].answer\n    return await stepContext.PromptAsync(nameof(TextPrompt), new PromptOptions { Prompt = MessageFactory.Text(response[0].Answer)}, cancellationToken);\n}\n</code></pre>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 1, "creation_date": 1575478829, "post_id": 59181154, "comment_id": 104583223, "body": "Only you know at which point in your application the data must be updated."}, {"owner": {"reputation": 5379, "user_id": 873055, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/026ca1956d97111d4adc35a5a2f79681?s=128&d=identicon&r=PG", "display_name": "nick gowdy", "link": "https://stackoverflow.com/users/873055/nick-gowdy"}, "edited": false, "score": 0, "creation_date": 1575478938, "post_id": 59181154, "comment_id": 104583285, "body": "We need to see more code to help you. Is there an OnLoad(object sender, PaintEventArgs e) function where you can make your call to the database?"}, {"owner": {"reputation": 129, "user_id": 10478082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef90d8bc2c4bff6c95aeae213bb85e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Rasheen Ruwisha", "link": "https://stackoverflow.com/users/10478082/rasheen-ruwisha"}, "reply_to_user": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 0, "creation_date": 1575479129, "post_id": 59181154, "comment_id": 104583403, "body": "@GSerg I updated the question with the place i need to refresh the data and the function that im using to do it."}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 2, "creation_date": 1575479163, "post_id": 59181154, "comment_id": 104583426, "body": "Getting data in Paint() seems extremely excessive. Why don&#39;t you get data only when a user switches to a tab?"}, {"owner": {"reputation": 129, "user_id": 10478082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef90d8bc2c4bff6c95aeae213bb85e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Rasheen Ruwisha", "link": "https://stackoverflow.com/users/10478082/rasheen-ruwisha"}, "reply_to_user": {"reputation": 5379, "user_id": 873055, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/026ca1956d97111d4adc35a5a2f79681?s=128&d=identicon&r=PG", "display_name": "nick gowdy", "link": "https://stackoverflow.com/users/873055/nick-gowdy"}, "edited": false, "score": 0, "creation_date": 1575479166, "post_id": 59181154, "comment_id": 104583429, "body": "@nickgowdy The Function async void pnl_summary_Paint is where i call the database"}, {"owner": {"reputation": 129, "user_id": 10478082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef90d8bc2c4bff6c95aeae213bb85e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Rasheen Ruwisha", "link": "https://stackoverflow.com/users/10478082/rasheen-ruwisha"}, "reply_to_user": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1575479543, "post_id": 59181154, "comment_id": 104583632, "body": "@xxbbcc I updated my question with a possible fix.Should I do something like this?"}], "owner": {"reputation": 129, "user_id": 10478082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef90d8bc2c4bff6c95aeae213bb85e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Rasheen Ruwisha", "link": "https://stackoverflow.com/users/10478082/rasheen-ruwisha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575479522, "creation_date": 1575478701, "last_edit_date": 1575479522, "question_id": 59181154, "link": "https://stackoverflow.com/questions/59181154/async-database-function-executed-on-each-panel-paint-windows-form", "title": "Async database function executed on each panel.Paint() windows form", "body": "<p>I have a Windows Form application with multiple tabs in it, and for each tab I have created a panel so that the user will be in the same window when switching between tabs.\nTabs - Dashboard, Contacts, Summary, Profile \nA separate panel has been created for each tab, and on the panel Paint() function i have a async task that is executed to get the data from the database.The problem I'm having is that each time the i switch between the panels all the panels run the async tasks to get the data from the database. Where else can i call the async tasks so that the database call is not sent on each panel Paint().</p>\n\n<p>This is the code I'm currently using</p>\n\n<pre><code>        private async void pnl_cont_Paint(object sender, PaintEventArgs e)\n        {\n\n            var contacts = await Task.Run(() =&gt; dbHelper.getContatcs());\n            this.AddControls(contacts);\n            pnl_cont.BringToFront();\n        }\n\n        private async void pnl_summary_Paint(object sender, PaintEventArgs e)\n        {\n\n            var summary = await Task.Run(() =&gt; dbHelper.getSummary());\n            this.AddControls(summary);\n            pnl_summary.BringToFront();\n        }\n\n</code></pre>\n\n<p>I have 2 other add data forms an on AddData.FormClosing() i execture a method to remove all the controls from the panel and repaint, that is the only instance i need to refresh the data within the panel.</p>\n\n<pre><code>private void AddDataFormClosing(object sender, FormClosingEventArgs e)\n{\n  this.pnl_summary.Controls.Clear();\n  this.pnl_summary.Refresh();\n  this.pnl_summary.BringToFront();\n}\n\n</code></pre>\n\n<p>Should I do something like this</p>\n\n<pre><code>\nSummary summary = new Summary();\n\npublic void getSummary()\n{\n  summary = await Task.Run(() =&gt; dbHelper.getSummary());\n}\n\n\nprivate async void pnl_summary_Paint(object sender, PaintEventArgs e)\n{       \n  this.AddControls(summary);\n  pnl_summary.BringToFront();\n}\n\n\n</code></pre>\n"}, {"tags": ["c#", "regex", "replace"], "comments": [{"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 4, "creation_date": 1575478736, "post_id": 59181107, "comment_id": 104583178, "body": "first, you need to ignore case as option in your search, add as parameter : <code>RegexOptions.IgnoreCase</code> . Second, brackets must be escaped in regex, as they usually have special meaning : <code>@&quot;\\[city\\]&quot;</code>"}, {"owner": {"reputation": 2556, "user_id": 10883465, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E5Lki7kUGF8/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcY1dMAbpAmyyBJtdSM1p4AdgBm_QQ/mo/photo.jpg?sz=128", "display_name": "Joelius", "link": "https://stackoverflow.com/users/10883465/joelius"}, "edited": false, "score": 1, "creation_date": 1575478816, "post_id": 59181107, "comment_id": 104583220, "body": "Well if the brackets are part of what you try to match, you have to escape them for regex to interpret them correctly."}, {"owner": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "reply_to_user": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 1, "creation_date": 1575478868, "post_id": 59181107, "comment_id": 104583252, "body": "@Pac0 That working well, also, How I can solve <code>if (text.Contains(&quot;[city]&quot;))</code> ?"}, {"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 1, "creation_date": 1575479021, "post_id": 59181107, "comment_id": 104583332, "body": "@KingStone to check for a regex match, you can use <code>Regex.IsMatch</code>, as <code>string.Contains</code> doesn&#39;t use regular expressions."}], "answers": [{"comments": [{"owner": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 0, "creation_date": 1575479024, "post_id": 59181245, "comment_id": 104583334, "body": "Please update with<code>Regex.IsMatch</code> usage for my solution"}, {"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "reply_to_user": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 0, "creation_date": 1575479234, "post_id": 59181245, "comment_id": 104583476, "body": "@KingStone added full example"}, {"owner": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 0, "creation_date": 1575479432, "post_id": 59181245, "comment_id": 104583576, "body": "Also, I want to avoid replace <code>[City]</code> to <code>[City]</code>"}, {"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "reply_to_user": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 0, "creation_date": 1575479596, "post_id": 59181245, "comment_id": 104583659, "body": "@KingStone you mean, you don&#39;t want the &quot;if&quot; entering the block, if the text is already exactly <code>[City]</code> ? Then add a condition for an exact match (case sensitive) to the if : <code>Regex.IsMatch(text, pattern, RegexOptions.IgnoreCase) &amp;&amp; ! Regex.IsMatch(text, @&quot;\\[City\\]&quot;)</code>"}, {"owner": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 0, "creation_date": 1575480019, "post_id": 59181245, "comment_id": 104583852, "body": "That working well, but, <code>[Keyword][City][keyword]</code> is not updated to <code>[Keyword][City][Keyword]</code>, the second <code>[keyword]</code> is also ignored with <code>! Regex.isMathch ...</code>"}, {"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "reply_to_user": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 0, "creation_date": 1575480389, "post_id": 59181245, "comment_id": 104584067, "body": "@KingStone, I think the scope of your question is being changed at each comment. It smells like an <a href=\"https://meta.stackexchange.com/a/66378/376026\">XY problem</a>"}, {"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "reply_to_user": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 0, "creation_date": 1575480520, "post_id": 59181245, "comment_id": 104584123, "body": "What is your actual goal ?"}, {"owner": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 0, "creation_date": 1575480718, "post_id": 59181245, "comment_id": 104584229, "body": "I upgraded my question"}, {"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "reply_to_user": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 0, "creation_date": 1576233912, "post_id": 59181245, "comment_id": 104841828, "body": "Also, side note, For applying to a series of <code>[texts] [texts]</code>, I&#39;ll suggest splitting the string into several small `[texts], and apply this on everyone of them (and then join the string with spaces again if you wish)"}, {"owner": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 0, "creation_date": 1576236778, "post_id": 59181245, "comment_id": 104843277, "body": "Yes. that can help me, but, your answer is enough"}], "tags": [], "owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "is_accepted": true, "score": 3, "last_activity_date": 1575480330, "last_edit_date": 1575480330, "creation_date": 1575478945, "answer_id": 59181245, "question_id": 59181107, "link": "https://stackoverflow.com/questions/59181107/how-i-can-replace-city-to-city-in-string/59181245#59181245", "title": "How I can replace [city] to [City] in string", "body": "<p>Three points :</p>\n\n<ol>\n<li><p>to match brackets <code>[]</code> in the text, you need to escape them in the regex : <code>@\"\\[city\\]\"</code></p></li>\n<li><p>Add the option to ignore case <code>RegexOptions.IgnoreCase</code> in <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.text.regularexpressions.regex.replace?view=netframework-4.8#System_Text_RegularExpressions_Regex_Replace_System_String_System_String_System_String_System_Text_RegularExpressions_RegexOptions_\" rel=\"nofollow noreferrer\"><code>Regex.Replace</code></a></p></li>\n<li><p>for the \"Contains\", it doesn't use regex. Use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.text.regularexpressions.regex.ismatch?view=netframework-4.8#System_Text_RegularExpressions_Regex_IsMatch_System_String_System_String_System_Text_RegularExpressions_RegexOptions_System_TimeSpan_\" rel=\"nofollow noreferrer\"><code>Regex.IsMatch</code></a> instead.</p></li>\n</ol>\n\n<p>So this would turn your code in your question as something like this :</p>\n\n<pre><code>var text = textbox.Text;\nvar pattern = @\"\\[City\\]\";\n\n// Will match [city], [cITy], [CITY], but not exactly [City] \nif (Regex.IsMatch(text, pattern, RegexOptions.IgnoreCase) &amp;&amp; !Regex.IsMatch(text, pattern))\n{\n    text = Regex.Replace(text, pattern, \"[City]\", RegexOptions.IgnoreCase);\n\n    // same code after that \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "is_accepted": false, "score": 2, "last_activity_date": 1575479207, "creation_date": 1575479207, "answer_id": 59181328, "question_id": 59181107, "link": "https://stackoverflow.com/questions/59181107/how-i-can-replace-city-to-city-in-string/59181328#59181328", "title": "How I can replace [city] to [City] in string", "body": "<p>You need to escape the brackets, use <code>Regex.IsMatch</code> instead of <code>Contains</code>, and make the pattern case intensive. You can do this in the regex pattern, but C# has <code>RegexOptions</code> built so you can <code>IgnoreCase</code>. Here's what it could look like:</p>\n\n<pre><code>if(Regex.IsMatch(text, @\"\\[city\\]\", RegexOptions.IgnoreCase))\n{\n    text = Regex.Replace(text, @\"\\[city\\]\", \"[City]\", RegexOptions.IgnoreCase);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 1, "creation_date": 1575480371, "post_id": 59181643, "comment_id": 104584053, "body": "My input value is <code>var testText = @&quot;[CIty] [ciTY] [city] [CITy]&quot;;</code>"}, {"owner": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 0, "creation_date": 1575480613, "post_id": 59181643, "comment_id": 104584172, "body": "But, <code>var testText = @&quot;[City] [CIty] [ciTY] [city] [CITy]&quot;;</code> is not working"}, {"owner": {"reputation": 350, "user_id": 11697802, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PIeSeEpG05s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9pMPA1FYPN99XArKBn9M-8pY5eA/photo.jpg?sz=128", "display_name": "ShaneDemskie", "link": "https://stackoverflow.com/users/11697802/shanedemskie"}, "reply_to_user": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 2, "creation_date": 1575480741, "post_id": 59181643, "comment_id": 104584242, "body": "Check again, it works. Do you still require that [City] will be ignored? If so, you&#39;ll have to split the string into a list of strings and check each split element. I can do that for you if that&#39;s your requirement, but I didn&#39;t see that required in your initial question."}, {"owner": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 1, "creation_date": 1575480775, "post_id": 59181643, "comment_id": 104584256, "body": "Yes, thats enough answer"}, {"owner": {"reputation": 350, "user_id": 11697802, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PIeSeEpG05s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9pMPA1FYPN99XArKBn9M-8pY5eA/photo.jpg?sz=128", "display_name": "ShaneDemskie", "link": "https://stackoverflow.com/users/11697802/shanedemskie"}, "reply_to_user": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 2, "creation_date": 1575480804, "post_id": 59181643, "comment_id": 104584288, "body": "Okay, if you need it to be split, can you provide the expected input string and I can set that up for you? Can we assume the string elements will always be separated by spaces?"}], "tags": [], "owner": {"reputation": 350, "user_id": 11697802, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PIeSeEpG05s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9pMPA1FYPN99XArKBn9M-8pY5eA/photo.jpg?sz=128", "display_name": "ShaneDemskie", "link": "https://stackoverflow.com/users/11697802/shanedemskie"}, "is_accepted": false, "score": 2, "last_activity_date": 1575480578, "last_edit_date": 1575480578, "creation_date": 1575480288, "answer_id": 59181643, "question_id": 59181107, "link": "https://stackoverflow.com/questions/59181107/how-i-can-replace-city-to-city-in-string/59181643#59181643", "title": "How I can replace [city] to [City] in string", "body": "<p>Here's a <a href=\"https://dotnetfiddle.net/dMgc1k\" rel=\"nofollow noreferrer\">dotnetfiddle</a></p>\n\n<p>You need to escape special characters like brackets in regex, which you can see in the pattern string below. Then, you need to add the regex option RegexOptions.IgnoreCase to ignore casing on when comparing strings against your pattern string. </p>\n\n<pre><code>        var testText = @\"[CIty] [ciTY] [city] [CITy] [City]\";\n        Console.WriteLine(\"Original text: \" + testText);\n\n        var pattern = @\"\\[City\\]\";\n\n        if(Regex.IsMatch(testText, pattern, RegexOptions.IgnoreCase))\n        {\n            //use the below updated value as you wish\n            var updatedStringVal = Regex.Replace(testText, pattern, \"[City]\", RegexOptions.IgnoreCase);\n            Console.WriteLine(\"Updated text: \" + updatedStringVal);\n        }\n\n</code></pre>\n"}], "owner": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 59181245, "answer_count": 3, "score": 2, "last_activity_date": 1575480654, "creation_date": 1575478553, "last_edit_date": 1575480654, "question_id": 59181107, "link": "https://stackoverflow.com/questions/59181107/how-i-can-replace-city-to-city-in-string", "title": "How I can replace [city] to [City] in string", "body": "<p>I want to replace   <code>[city], [cIty], [ciTY], ...</code> with  <code>[City]</code>.<br>\nI think regex is a good solution, but I am not good at regex.  </p>\n\n<p><strong>Tried Code:</strong> </p>\n\n<pre><code>var text = \"[City] [CIty] [ciTY] [city] [CITy]\";\n\nif (text.Contains(\"[city]\"))\n{\n    //text = text.Replace(\"[city]\", \"[City]\");\n    text = Regex.Replace(text, @\"[city]\", \"[City]\");\n    textbox.Text = text;\n\n    textbox.SelectionStart = textbox.Text.Length;\n    textbox.SelectionLength = 0;\n}\n</code></pre>\n\n<p><strong>Except Output</strong></p>\n\n<blockquote>\n  <p>[City] [City] [City] [City] [City]</p>\n</blockquote>\n\n<p>That is not working, because the <code>regex</code> grammar is not completed</p>\n"}, {"tags": ["c#", "powershell", "credentials"], "comments": [{"owner": {"reputation": 527, "user_id": 7659129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e077047dd034020c11ee7d6aacf03ce9?s=128&d=identicon&r=PG&f=1", "display_name": "Claudiu A", "link": "https://stackoverflow.com/users/7659129/claudiu-a"}, "edited": false, "score": 0, "creation_date": 1575478617, "post_id": 59181060, "comment_id": 104583114, "body": "Try $env:username from the duplicate question <a href=\"https://stackoverflow.com/questions/2085744/how-do-i-get-the-current-username-in-windows-powershell\" title=\"how do i get the current username in windows powershell\">stackoverflow.com/questions/2085744/&hellip;</a>"}, {"owner": {"reputation": 443, "user_id": 6723178, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/ad53f9bce5239a79895d8ae2e47e578a?s=128&d=identicon&r=PG&f=1", "display_name": "C Robinson", "link": "https://stackoverflow.com/users/6723178/c-robinson"}, "reply_to_user": {"reputation": 527, "user_id": 7659129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e077047dd034020c11ee7d6aacf03ce9?s=128&d=identicon&r=PG&f=1", "display_name": "Claudiu A", "link": "https://stackoverflow.com/users/7659129/claudiu-a"}, "edited": false, "score": 1, "creation_date": 1575479015, "post_id": 59181060, "comment_id": 104583328, "body": "@ClaudiuA The CmdLet is C#; the suggested answers are ps script. I assume $env:UserName is equivalent to System.Environment.UserName, which gives me &quot;SYSTEM&quot; (not what I am looking for). I assume [System.Security.Principal.WindowsIdentity]::GetCurrent().Na&zwnj;&#8203;me is System.Security.Principal.WindowsIdentity.GetCurrent().Name, which also gives me &quot;SYSTEM&quot;, not &quot;Joe&quot;"}, {"owner": {"reputation": 12201, "user_id": 584676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/8Zc84.jpg?s=128&g=1", "display_name": "Bender the Greatest", "link": "https://stackoverflow.com/users/584676/bender-the-greatest"}, "edited": false, "score": 0, "creation_date": 1575484002, "post_id": 59181060, "comment_id": 104585917, "body": "When I enter a remote PSSession, <code>$env:UserName</code> shows the username I&#39;ve connected as: <code>$cred = Get-Credential; $sess = New-PSSession -ComputerName server.domain.tld -Credential $cred; Enter-PSSession -Session $sess; $env:UserName</code>"}, {"owner": {"reputation": 443, "user_id": 6723178, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/ad53f9bce5239a79895d8ae2e47e578a?s=128&d=identicon&r=PG&f=1", "display_name": "C Robinson", "link": "https://stackoverflow.com/users/6723178/c-robinson"}, "edited": false, "score": 1, "creation_date": 1575487327, "post_id": 59181060, "comment_id": 104587215, "body": "I found the problem. The Import-PSSession was failing because of unresolvable conflicts. As a result, the session in which the CmdLet was being executed remained that of the calling process. When I resolved the conflicts (being very selective about what is actually imported), the CmdLet executed with the correct credentials and System.Environment.UserName contained the expected value."}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 0, "creation_date": 1575490449, "post_id": 59181060, "comment_id": 104588458, "body": "@CRobinson, please post your findings as an answer - it&#39;ll help future readers."}], "answers": [{"tags": [], "owner": {"reputation": 443, "user_id": 6723178, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/ad53f9bce5239a79895d8ae2e47e578a?s=128&d=identicon&r=PG&f=1", "display_name": "C Robinson", "link": "https://stackoverflow.com/users/6723178/c-robinson"}, "is_accepted": false, "score": 1, "last_activity_date": 1575499849, "creation_date": 1575499849, "answer_id": 59185725, "question_id": 59181060, "link": "https://stackoverflow.com/questions/59181060/how-to-get-login-username-from-within-a-powershell-cmdlet/59185725#59185725", "title": "How to get login username from within a PowerShell CmdLet", "body": "<p>The problem in this case turned out to be related to the way the PowerShell session was created and imported. The import actually \"failed silently\", so the CmdLet was executed in the process \"native\" context.</p>\n\n<p>The <code>New-PSSession</code> command specified a configuration (<code>-ConfigurationName MyConfiguration</code>). This configuration was properly registered, but essentially did nothing. As a result, the <code>Import-PSSession</code> attempted to import a default session with the desired module included. This introduced a number of conflicts, causing the import to fail. Since the CmdLet is already installed on the computer (we are looping back because the <code>New-PSSession</code> specifies <code>-ConnectionUri http://127.0.0.1:5985/WSMAN</code>) it appeared to work, so the failed import was unnoticed. The only clue to the issue was the discrepancy in username.</p>\n\n<p>The problem was resolved by properly defining the configuration, using <code>RestrictedRemoteServer</code>:</p>\n\n<pre><code>$sessionConfigurationName = 'MyConfiguration'\n$tempFile = $env:TEMP + \"\\psconfig.pssc\"\nNew-PSSessionConfigurationFile -SessionType RestrictedRemoteServer -ModulesToImport MyModule -Path $tempFile\nRegister-PSSessionConfiguration -Name $sessionConfigurationName -NoServiceRestart -Path $tempFile\nRemove-Item -Path $tempFile\n</code></pre>\n\n<p>This allowed the <code>New-PSSession</code> to create a session which could be imported successfully without conflicts. The resulting session acquired and operated under the correct credential.</p>\n"}], "owner": {"reputation": 443, "user_id": 6723178, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/ad53f9bce5239a79895d8ae2e47e578a?s=128&d=identicon&r=PG&f=1", "display_name": "C Robinson", "link": "https://stackoverflow.com/users/6723178/c-robinson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575499849, "creation_date": 1575478407, "last_edit_date": 1575479738, "question_id": 59181060, "link": "https://stackoverflow.com/questions/59181060/how-to-get-login-username-from-within-a-powershell-cmdlet", "title": "How to get login username from within a PowerShell CmdLet", "body": "<p>I have authored a PowerShell CmdLet in C#. It is being invoked from a C# application running as a Windows service under the username SYSTEM. The calling (service) application performs a New-PSSession (adding a Credential parameter having username \"Joe\") followed by an Import-PSSession to create the runspace for the CmdLet. </p>\n\n<p>When the CmdLet executes, I can use Environment.UserName to get the current username, but it is SYSTEM (from the service process). What I want is to recover the username supplied in the PowerShell session credential (in this case, \"Joe\"). How can I recover that credential within the context of the executing C# CmdLet?</p>\n\n<p>I have already seen the suggestions contained in <a href=\"https://stackoverflow.com/questions/2085744/how-do-i-get-the-current-username-in-windows-powershell\">How do I get the current username in Windows PowerShell?</a>; they do not work; they only give me the SYSTEM username under which the invoking process is running, not the \"Joe\" credential it supplied to create the PowerShell session.</p>\n\n<p>FWIW, the PowerShell session is given a connectionuri which in the general case would usually be a remote system, but in the specific example is 127.0.0.1 (localhost).</p>\n"}, {"tags": ["c#"], "answers": [{"comments": [{"owner": {"reputation": 413, "user_id": 1069516, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/b3d257a831862f7a89a22574e4694e24?s=128&d=identicon&r=PG", "display_name": "user1069516", "link": "https://stackoverflow.com/users/1069516/user1069516"}, "edited": false, "score": 0, "creation_date": 1575534957, "post_id": 59181108, "comment_id": 104601316, "body": "Thank you, it works but this methods is used as OperationContract with WCF so it doesn&#39;t works."}], "tags": [], "owner": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "is_accepted": false, "score": 6, "last_activity_date": 1575478554, "creation_date": 1575478554, "answer_id": 59181108, "question_id": 59181056, "link": "https://stackoverflow.com/questions/59181056/generic-method-which-return-interface/59181108#59181108", "title": "Generic method which return Interface", "body": "<p>It does work if you tell the compiler the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/generics/constraints-on-type-parameters\" rel=\"noreferrer\"><em>constraints</em></a> for <code>TDAL</code>:</p>\n\n<pre><code>public TInt GetDAL&lt;TInt, TDAL&gt;() where TDAL : TInt, new()\n{\n   return new TDAL();\n}\n</code></pre>\n\n<p>This tells the compiler that <code>TDAL</code> must implement <code>TInt</code> and have a parameterless constructor.<br>\nSo now the compiler knows that for any type argument for <code>TDAL</code> the expression <code>new TDAL()</code> will work and that the result is assignable to <code>TInt</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 13422, "user_id": 8126362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BvD4C.jpg?s=128&g=1", "display_name": "Johnathan Barclay", "link": "https://stackoverflow.com/users/8126362/johnathan-barclay"}, "is_accepted": false, "score": 1, "last_activity_date": 1575479645, "last_edit_date": 1575479645, "creation_date": 1575478637, "answer_id": 59181130, "question_id": 59181056, "link": "https://stackoverflow.com/questions/59181056/generic-method-which-return-interface/59181130#59181130", "title": "Generic method which return Interface", "body": "<p><code>new TDAL()</code> won't work because not all classes have a parameterless constructor, or inherit from <code>TInt</code>.</p>\n\n<p>You need to add type constraints to your method e.g.</p>\n\n<pre><code>public TInt GetDAL&lt;TInt, TDAL&gt;() where TDAL : new(), TInt\n{\n   return new TDAL();\n}\n</code></pre>\n\n<p>Then when you use your method, the compiler will enforce a compatible type to be used.</p>\n\n<pre><code>MyInterface dal = GetDAL&lt;MyInterface, DAL&gt;(); // Will compile\n\nMyInterface dal = GetDAL&lt;TMyInterface, string&gt;(); // Won't compile\n</code></pre>\n"}], "owner": {"reputation": 413, "user_id": 1069516, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/b3d257a831862f7a89a22574e4694e24?s=128&d=identicon&r=PG", "display_name": "user1069516", "link": "https://stackoverflow.com/users/1069516/user1069516"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1575479645, "creation_date": 1575478398, "question_id": 59181056, "link": "https://stackoverflow.com/questions/59181056/generic-method-which-return-interface", "title": "Generic method which return Interface", "body": "<p>I would like to write a generic method that return DAL interfaces but it doesn't works.</p>\n\n<p>It's possible to make this :</p>\n\n<pre><code>public MyInterface GetDAL()\n{\n   return new DAL(); // DAL implements MyInterface\n}\n</code></pre>\n\n<p>But not this :</p>\n\n<pre><code>public TInt GetDAL&lt;TInt, TDAL&gt;()\n{\n   return new TDAL();\n}\n</code></pre>\n\n<p>or this</p>\n\n<pre><code>public TInt GetDAL&lt;TInt, TDAL&gt;()\n{\n   return (TInt)new TDAL();\n}\n</code></pre>\n\n<p>I know I could return concrete class instead of interface but I don't understand why it doens't works, if TDAL implements TInt.</p>\n\n<p>I have 10 DAL classes and I don't want to write 10 methods.</p>\n\n<p>Thanks for your help</p>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-mvc", "asp.net-core"], "comments": [{"owner": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "edited": false, "score": 0, "creation_date": 1575478359, "post_id": 59181010, "comment_id": 104582937, "body": "What errors are you encountering?"}, {"owner": {"reputation": 27, "user_id": 9493395, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Konrad Dybkowski ", "link": "https://stackoverflow.com/users/9493395/konrad-dybkowski"}, "reply_to_user": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "edited": false, "score": 0, "creation_date": 1575478725, "post_id": 59181010, "comment_id": 104583170, "body": "@MattU look below what errors I have."}, {"owner": {"reputation": 791, "user_id": 5233367, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/60dc3184f9d77e7d07bfa556739d55fc?s=128&d=identicon&r=PG&f=1", "display_name": "Brydenr", "link": "https://stackoverflow.com/users/5233367/brydenr"}, "edited": false, "score": 0, "creation_date": 1575480639, "post_id": 59181010, "comment_id": 104584188, "body": "Hi Kondrad,  welcome to StackOverflow. As Matt mentioned, it is important to include any errors (with their stacktrace) in the question."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 9493395, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Konrad Dybkowski ", "link": "https://stackoverflow.com/users/9493395/konrad-dybkowski"}, "edited": false, "score": 0, "creation_date": 1575481229, "post_id": 59181309, "comment_id": 104584515, "body": "I need use Autofac for included purposes in the course."}], "tags": [], "owner": {"reputation": 160, "user_id": 6278320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n7Wo7.jpg?s=128&g=1", "display_name": "rashidali", "link": "https://stackoverflow.com/users/6278320/rashidali"}, "is_accepted": false, "score": -1, "last_activity_date": 1575479153, "creation_date": 1575479153, "answer_id": 59181309, "question_id": 59181010, "link": "https://stackoverflow.com/questions/59181010/asp-net-core-3-0-trouble-with-api-integration-test/59181309#59181309", "title": "Asp.Net Core 3.0 trouble with Api Integration Test", "body": "<p>You dont need to use Autofac as .net core 3.0 provides built-in dependency injection.</p>\n\n<p>Read more about <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-3.1\" rel=\"nofollow noreferrer\">Dependency Injection in Asp.net Core</a>.</p>\n\n<p>Refactor your code and use dependency injection for object initialization.</p>\n\n<pre><code>    namespace Passenger.Tests.EndToEnd.Controllers\n  {\n     public class ControllerTestsBase\n    {\n    private readonly ITestServer _testServer;\n    private readonly HttpClient Client;\n\n    protected ControllerTestsBase(ITestServer testServer,HttpClient client)\n    {\n        _testServer = testServer;\n         client.BaseAddress = new Uri(\"https://www.stackoverflow.com\");\n\n         client.DefaultRequestHeaders.Add(\"Accept\",\"application/vnd.github.v3+json\");\n\n         client.DefaultRequestHeaders.Add(\"User-Agent\",\"HttpClientFactory-Sample\");\n\n         Client = client;\n    }\n\n    protected static StringContent GetPayload(object data)\n    {\n        var json = JsonConvert.SerializeObject(data);\n\n        //Content-Type: \"application/json\"\n        return new StringContent(json, Encoding.UTF8, \"application/json\");\n    }\n\n\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 27, "user_id": 9493395, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Konrad Dybkowski ", "link": "https://stackoverflow.com/users/9493395/konrad-dybkowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 309, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575488882, "creation_date": 1575478266, "last_edit_date": 1575488882, "question_id": 59181010, "link": "https://stackoverflow.com/questions/59181010/asp-net-core-3-0-trouble-with-api-integration-test", "title": "Asp.Net Core 3.0 trouble with Api Integration Test", "body": "<p>I configure AutoFac for Asp.Net Core 3.0 but now i have trouble with ControllerTestBase class. I know I shouldn't use WebHostBuilder and write other code but I tried many times. I only got new errors.</p>\n\n<p>ControllerTestBase.cs</p>\n\n<pre><code>namespace Passenger.Tests.EndToEnd.Controllers\n{\n    public abstract class ControllerTestsBase\n    {\n        protected readonly TestServer Server;\n        protected readonly HttpClient Client;\n\n        protected ControllerTestsBase()\n        {\n            var hostBuilder = new HostBuilder()\n              .ConfigureWebHost(webHost =&gt;\n              {\n                // Add TestServer\n                webHost.UseTestServer();\n                webHost.UseStartup&lt;Startup&gt;();\n              });\n\n            var host = hostBuilder.Start();\n            Client = host.GetTestClient();\n\n        }\n\n        protected static StringContent GetPayload(object data)\n        {\n            var json = JsonConvert.SerializeObject(data);\n\n            //Content-Type: \"application/json\"\n            return new StringContent(json, Encoding.UTF8, \"application/json\");\n        }\n\n\n    }\n}\n\n\n</code></pre>\n\n<p>AccountControllerTest.cs</p>\n\n<pre><code>\nnamespace Passenger.Tests.EndToEnd.Controllers\n{\n    public class AccountControllerTests : ControllerTestsBase\n    {\n\n        [Fact]\n        public async Task given_valid_current_and_new_password_it_should_be_changed()\n        {\n            // Act\n\n            var command = new ChangeUserPassword\n            {\n                CurrentPassword = \"secret\",\n                NewPassword = \"secret2\"\n            };\n            var payload = GetPayload(command);\n            var response = await Client.PutAsync(\"account/password\", payload);\n            response.StatusCode.Should().BeEquivalentTo(HttpStatusCode.NoContent);\n        } \n    }\n}\n</code></pre>\n\n<p>Error Message: <a href=\"https://pastebin.com/9jMdJkXC\" rel=\"nofollow noreferrer\">https://pastebin.com/9jMdJkXC</a></p>\n"}, {"tags": ["c#", "xamarin.forms", "xamarin.android", "signalr", "android-webview"], "comments": [{"owner": {"reputation": 1910, "user_id": 10308336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxGaJ.jpg?s=128&g=1", "display_name": "Jessie Zhang -MSFT", "link": "https://stackoverflow.com/users/10308336/jessie-zhang-msft"}, "edited": false, "score": 0, "creation_date": 1575534417, "post_id": 59180987, "comment_id": 104601066, "body": "I am confused with what you said, could you please post more details about your problem? What exactly went wrong?"}, {"owner": {"reputation": 4370, "user_id": 1856451, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2a965b7124d256b36beaa175fe6ac80b?s=128&d=identicon&r=PG", "display_name": "apc", "link": "https://stackoverflow.com/users/1856451/apc"}, "reply_to_user": {"reputation": 1910, "user_id": 10308336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxGaJ.jpg?s=128&g=1", "display_name": "Jessie Zhang -MSFT", "link": "https://stackoverflow.com/users/10308336/jessie-zhang-msft"}, "edited": false, "score": 0, "creation_date": 1575535008, "post_id": 59180987, "comment_id": 104601344, "body": "I have updated with an example. Basically after visiting a specific site the web view stops working even after reloading the page (I think Xamarin resuses the native control)."}, {"owner": {"reputation": 4370, "user_id": 1856451, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2a965b7124d256b36beaa175fe6ac80b?s=128&d=identicon&r=PG", "display_name": "apc", "link": "https://stackoverflow.com/users/1856451/apc"}, "reply_to_user": {"reputation": 1910, "user_id": 10308336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxGaJ.jpg?s=128&g=1", "display_name": "Jessie Zhang -MSFT", "link": "https://stackoverflow.com/users/10308336/jessie-zhang-msft"}, "edited": false, "score": 0, "creation_date": 1575535175, "post_id": 59180987, "comment_id": 104601421, "body": "Removing the code in ShouldInterceptRequest fixes the issue but removes the functionality to send the auth header."}, {"owner": {"reputation": 4370, "user_id": 1856451, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2a965b7124d256b36beaa175fe6ac80b?s=128&d=identicon&r=PG", "display_name": "apc", "link": "https://stackoverflow.com/users/1856451/apc"}, "reply_to_user": {"reputation": 1910, "user_id": 10308336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxGaJ.jpg?s=128&g=1", "display_name": "Jessie Zhang -MSFT", "link": "https://stackoverflow.com/users/10308336/jessie-zhang-msft"}, "edited": false, "score": 0, "creation_date": 1575545997, "post_id": 59180987, "comment_id": 104607042, "body": "Seems to be related to SignalR on the server see my edit above"}, {"owner": {"reputation": 4370, "user_id": 1856451, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2a965b7124d256b36beaa175fe6ac80b?s=128&d=identicon&r=PG", "display_name": "apc", "link": "https://stackoverflow.com/users/1856451/apc"}, "reply_to_user": {"reputation": 1910, "user_id": 10308336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxGaJ.jpg?s=128&g=1", "display_name": "Jessie Zhang -MSFT", "link": "https://stackoverflow.com/users/10308336/jessie-zhang-msft"}, "edited": false, "score": 0, "creation_date": 1575547559, "post_id": 59180987, "comment_id": 104607822, "body": "Possible solution here <a href=\"https://stackoverflow.com/questions/33370123/how-to-get-webviewclient-shouldinterceptrequest-invoked-asynchronously\" title=\"how to get webviewclient shouldinterceptrequest invoked asynchronously\">stackoverflow.com/questions/33370123/&hellip;</a> but needs converting to C#"}], "owner": {"reputation": 4370, "user_id": 1856451, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2a965b7124d256b36beaa175fe6ac80b?s=128&d=identicon&r=PG", "display_name": "apc", "link": "https://stackoverflow.com/users/1856451/apc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 753, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575545978, "creation_date": 1575478207, "last_edit_date": 1575545978, "question_id": 59180987, "link": "https://stackoverflow.com/questions/59180987/xamarin-forms-android-web-view-with-customwebviewclient-stops-working-after-load", "title": "Xamarin Forms Android Web View with CustomWebViewClient stops working after loading certain site", "body": "<p>In order to send an Authroization Header using my WebView I have custom WebViewRenderer and WebViewClient.</p>\n\n<p>The Xamarin forms page with this Control can be created, loaded, closed and then recreated etc for various URLs without issue however after visiting a specific site the WebView will no longer load any URL with ShouldInterceptRequest not being called at all, even after closing and creating a new page with the control.</p>\n\n<p>For example:</p>\n\n<ol>\n<li>Open MyWebViewPage to www.google.com. Success.</li>\n<li>Close MyWebViewPage </li>\n<li>Open MyWebViewPage to www.bing.com. Success.</li>\n<li>Close MyWebViewPage </li>\n<li>Open MyWebViewPage to mywebapp.local (the problem page) Success.</li>\n<li>Close MyWebViewPage </li>\n<li>Open MyWebViewPage to www.google.com. Fail, page does not render.</li>\n</ol>\n\n<p>Without the CustomWebViewClient this issue does not ocurre (however I need this for the headers).</p>\n\n<p>I am looking for either a direct fix to this issue or a way of completely reseting this control/page.\nA fix to the web site is not suitable as this may not always be possible.</p>\n\n<p><strong>Debug output of last successfull load (to problem site)</strong></p>\n\n<pre><code>12-04 16:44:08.645 W/cr_AwContents(23188): onDetachedFromWindow called when already detached. Ignoring\n12-04 16:44:08.653 I/cr_Ime  (23188): ImeThread is not enabled.\n12-04 16:44:08.889 W/cr_BindingManager(23188): Cannot call determinedVisibility() - never saw a connection for the pid: 23188\n12-04 16:44:09.253 D/Mono    (23188): GC_BRIDGE waiting for bridge processing to finish\n12-04 16:44:09.257 I/art     (23188): Starting a blocking GC Explicit\n12-04 16:44:09.300 I/art     (23188): Explicit concurrent mark sweep GC freed 6681(420KB) AllocSpace objects, 11(1400KB) LOS objects, 64% free, 4MB/12MB, paused 923us total 42.914ms\n12-04 16:44:09.305 D/Mono    (23188): GC_TAR_BRIDGE bridges 551 objects 9303 opaque 2855 colors 551 colors-bridged 551 colors-visible 551 xref 0 cache-hit 0 cache-semihit 0 cache-miss 0 setup 0.44ms tarjan 10.18ms scc-setup 0.29ms gather-xref 0.02ms xref-setup 0.03ms cleanup 0.63ms\n12-04 16:44:09.305 D/Mono    (23188): GC_BRIDGE: Complete, was running for 52.60ms\n12-04 16:44:09.305 D/Mono    (23188): GC_MINOR: (Nursery full) time 23.62ms, stw 24.64ms promoted 224K major size: 4048K in use: 3382K los size: 10240K in use: 8718K\nThread started:  #17\n12-04 16:44:10.867 D/Mono    (23188): GC_BRIDGE waiting for bridge processing to finish\n12-04 16:44:10.870 I/art     (23188): Starting a blocking GC Explicit\n12-04 16:44:10.913 I/art     (23188): Explicit concurrent mark sweep GC freed 6338(406KB) AllocSpace objects, 31(3MB) LOS objects, 64% free, 4MB/12MB, paused 783us total 42.841ms\n12-04 16:44:10.921 D/Mono    (23188): GC_TAR_BRIDGE bridges 573 objects 599 opaque 26 colors 573 colors-bridged 573 colors-visible 573 xref 0 cache-hit 0 cache-semihit 0 cache-miss 0 setup 0.15ms tarjan 0.41ms scc-setup 0.39ms gather-xref 0.03ms xref-setup 0.05ms cleanup 0.28ms\n12-04 16:44:10.921 D/Mono    (23188): GC_BRIDGE: Complete, was running for 55.26ms\n12-04 16:44:10.921 D/Mono    (23188): GC_MINOR: (Nursery full) time 9.84ms, stw 11.16ms promoted 163K major size: 4224K in use: 3550K los size: 11264K in use: 9954K\n[INFO:CONSOLE(21)] \"JQMIGRATE: Logging is active\", source: http://192.168.0.123/WebApp/Scripts/jquery-migrate-1.2.1.js (21)12-04 16:44:11.513 I/chromium(23188): [INFO:CONSOLE(21)] \"JQMIGRATE: Logging is active\", source: http://192.168.0.123/WebApp/Scripts/jquery-migrate-1.2.1.js (21)\n\n[INFO:CONSOLE(41)] \"JQMIGRATE: jQuery.fn.andSelf() replaced by jQuery.fn.addBack()\", source: http://192.168.0.123/WebApp/Scripts/jquery-migrate-1.2.1.js (41)12-04 16:44:11.692 I/chromium(23188): [INFO:CONSOLE(41)] \"JQMIGRATE: jQuery.fn.andSelf() replaced by jQuery.fn.addBack()\", source: http://192.168.0.123/WebApp/Scripts/jquery-migrate-1.2.1.js (41)\n\n[0:] Success\n</code></pre>\n\n<p><strong>Debug output from subsequent faile load (to same or other site), blank page:</strong></p>\n\n<pre><code>12-04 16:45:36.910 I/art     (23188): Starting a blocking GC Explicit\n12-04 16:45:36.941 I/art     (23188): Explicit concurrent mark sweep GC freed 5227(440KB) AllocSpace objects, 24(3MB) LOS objects, 62% free, 4MB/12MB, paused 302us total 31.346ms\n12-04 16:45:36.943 D/Mono    (23188): GC_TAR_BRIDGE bridges 362 objects 8823 opaque 2742 colors 362 colors-bridged 362 colors-visible 362 xref 0 cache-hit 0 cache-semihit 0 cache-miss 0 setup 0.11ms tarjan 9.11ms scc-setup 0.23ms gather-xref 0.01ms xref-setup 0.02ms cleanup 0.28ms\n12-04 16:45:36.943 D/Mono    (23188): GC_BRIDGE: Complete, was running for 35.88ms\n12-04 16:45:36.943 D/Mono    (23188): GC_MINOR: (Nursery full) time 18.20ms, stw 20.86ms promoted 187K major size: 4400K in use: 3752K los size: 13432K in use: 11411K\n12-04 16:45:36.973 W/cr_AwContents(23188): onDetachedFromWindow called when already detached. Ignoring\n12-04 16:45:36.979 I/cr_Ime  (23188): ImeThread is not enabled.\n</code></pre>\n\n<p><strong>WebViewRenderer:</strong></p>\n\n<pre><code>using Xamarin.Forms;\nusing MyApp.Droid;\n\n[assembly: ExportRenderer(typeof(WebView), typeof(CustomWebViewRenderer))]\nnamespace MyApp.Droid\n{        \n    using Android.OS;\n    using global::Xamarin.Forms.Platform.Android;\n    using Android.Content;\n    using System;\n\n    public class CustomWebViewRenderer : WebViewRenderer\n    {        \n        public CustomWebViewRenderer(Context context) : base(context)\n        {\n        }\n\n        public IWebViewController GetElementController()\n        {\n            return Element;\n        }\n\n        protected override void OnElementChanged(ElementChangedEventArgs&lt;global::Xamarin.Forms.WebView&gt; e)\n        {\n            try\n            {\n                base.OnElementChanged(e);\n\n                if (Control != null &amp;&amp; e.NewElement != null)\n                {\n                    SetupControlSettings();\n                }\n            }\n            catch (Exception ex)\n            {\n                Logging.LogException(ex);\n            }\n        }           \n\n        private void SetupControlSettings()\n        {\n            try\n            {   \n                if (Build.VERSION.SdkInt &gt;= BuildVersionCodes.JellyBeanMr1)\n                {\n                    Control.Settings.MediaPlaybackRequiresUserGesture = false;\n                    Control.Settings.JavaScriptEnabled = true;\n                    Control.Settings.AllowContentAccess = true;\n                    Control.Settings.DomStorageEnabled = true;\n                }\n\n                if ((int)Build.VERSION.SdkInt &gt;= 19)\n                {\n                    Control.SetLayerType(Android.Views.LayerType.Hardware, null);\n                }\n                else\n                {\n                    Control.SetLayerType(Android.Views.LayerType.Software, null);\n                }\n\n                Control.Settings.SetAppCacheMaxSize(10 * 1024 * 1024);\n                Control.Settings.AllowFileAccess = true;\n                Control.Settings.AllowUniversalAccessFromFileURLs = true;\n                Control.Settings.SetAppCacheEnabled(true);\n                Control.Settings.CacheMode = Android.Webkit.CacheModes.NoCache;    \n\n                var webViewClient = new CustomWebViewClient(this, MyApp.GlobalVariables.AuthToken);               \n\n                Control.SetWebViewClient(webViewClient);\n\n            }\n            catch (Exception ex)\n            {\n                Logging.LogException(ex);\n            }\n        }   \n    }\n}\n</code></pre>\n\n<p><strong>WebViewClient:</strong></p>\n\n<pre><code>using Android.Webkit;\nusing System;\nusing System.Net.Http;\nusing Xamarin.Forms;\n\nnamespace MyApp.Droid\n{\n    public class CustomWebViewClient : WebViewClient\n    {\n        private readonly string authToken;\n        private readonly CustomWebViewRenderer renderer;\n        public CustomWebViewClient(CustomWebViewRenderer renderer, string authToken)\n        {\n            this.renderer = renderer;\n            this.authToken = authToken;\n        }\n\n\n        public override bool ShouldOverrideUrlLoading(Android.Webkit.WebView view, IWebResourceRequest request)\n        {\n            WebNavigatingEventArgs args = new WebNavigatingEventArgs(WebNavigationEvent.NewPage, new UrlWebViewSource { Url = request.Url.ToString() }, request.Url.ToString());\n            renderer.GetElementController().SendNavigating(args);\n\n            if (args.Cancel)\n            {\n                view.StopLoading();\n            }\n\n            return base.ShouldOverrideUrlLoading(view, request);\n        }\n\n\n        public override WebResourceResponse ShouldInterceptRequest(Android.Webkit.WebView view, IWebResourceRequest request)\n        {\n            try\n            {\n                if (!string.IsNullOrWhiteSpace(authToken))\n                {\n                    string authorizationValue = \"Bearer \" + authToken;    \n                    using (HttpClient client = new HttpClient())\n                    {    \n                        request.RequestHeaders.Add(\"Authorization\", authorizationValue);    \n                        foreach(var h in request.RequestHeaders)\n                        {\n                            if (client.DefaultRequestHeaders.Contains(h.Key))\n                            {\n                                client.DefaultRequestHeaders.Remove(h.Key);\n                            }  \n                            client.DefaultRequestHeaders.Add(h.Key,h.Value);                            \n                        }    \n                        HttpResponseMessage response = client.GetAsync(request.Url.ToString()).Result;\n\n                        string encoding = response.Content.Headers.ContentEncoding.GetEnumerator().Current;\n                        string contentType = response.Content.Headers.ContentType.ToString();\n                        System.IO.Stream stream = response.Content.ReadAsStreamAsync().Result;\n\n                        if (string.IsNullOrWhiteSpace(encoding) &amp;&amp; contentType.Contains(\";\"))\n                        {\n                            string[] parts = contentType.Split(';');\n                            contentType = parts[0].Trim();\n                            encoding = parts[1].Trim();\n                        }\n\n                        WebResourceResponse result = new WebResourceResponse(contentType, encoding, stream);    \n                        return result;\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                Logging.LogException(ex);\n            }\n\n            return base.ShouldInterceptRequest(view, request);\n        }\n\n\n        public override void OnPageFinished(Android.Webkit.WebView view, string url)\n        {\n            try\n            {\n                base.OnPageFinished(view, url);\n\n                UrlWebViewSource source = new UrlWebViewSource { Url = url };\n                WebNavigatedEventArgs args = new WebNavigatedEventArgs(WebNavigationEvent.NewPage, source, url, WebNavigationResult.Success);\n                renderer?.GetElementController()?.SendNavigated(args);\n            }\n            catch (Exception ex)\n            {\n                Logging.LogException(ex);\n            }\n        } \n    }\n}\n</code></pre>\n\n<p><strong>EDIT 1:</strong>\nIt seems to be due to this code:</p>\n\n<pre><code>HttpResponseMessage response = client.GetAsync(request.Url.ToString()).Result;\n</code></pre>\n\n<p>If I comment out the WebResourceResponse return (so it falls down to the base method) but leave this in the issue is still present, but commenting this line our makes it work.</p>\n\n<p><strong>EDIT 2:</strong>\nThe plot thickens.\nThe problem site uses SignalR for event notifications.\nAfter adding some logging I can see that the WebViewClient starts to load \n.../signalr/connect?transport=serverSentEvents&amp;connectionToken=\nbut never finishes, I'm guessing this is how SignalR works with the response only coming after an event on the server. This is however blocking subsequent calls to the WebViewClient</p>\n"}]