[{"tags": ["c#", "coercion"], "comments": [{"owner": {"reputation": 3381, "user_id": 3964654, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ITt1C.jpg?s=128&g=1", "display_name": "wingerse", "link": "https://stackoverflow.com/users/3964654/wingerse"}, "edited": false, "score": 1, "creation_date": 1447890678, "post_id": 33792748, "comment_id": 55352327, "body": "It&#39;s const so compiler replaces every MAX_SIZE with its value while compiling."}, {"owner": {"reputation": 4564, "user_id": 1760670, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/MXkMz.png?s=128&g=1", "display_name": "EasyBB", "link": "https://stackoverflow.com/users/1760670/easybb"}, "reply_to_user": {"reputation": 3381, "user_id": 3964654, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ITt1C.jpg?s=128&g=1", "display_name": "wingerse", "link": "https://stackoverflow.com/users/3964654/wingerse"}, "edited": false, "score": 0, "creation_date": 1447890952, "post_id": 33792748, "comment_id": 55352426, "body": "So no coercion exists then, byte-&gt;int"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1447891081, "post_id": 33792748, "comment_id": 55352470, "body": "What exactly do you think is being coerced here?"}, {"owner": {"reputation": 4564, "user_id": 1760670, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/MXkMz.png?s=128&g=1", "display_name": "EasyBB", "link": "https://stackoverflow.com/users/1760670/easybb"}, "edited": false, "score": 0, "creation_date": 1447891121, "post_id": 33792748, "comment_id": 55352485, "body": "I&#39;m wondering if [(byte)100] is coerced to [(int)100] or not"}, {"owner": {"reputation": 4564, "user_id": 1760670, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/MXkMz.png?s=128&g=1", "display_name": "EasyBB", "link": "https://stackoverflow.com/users/1760670/easybb"}, "edited": false, "score": 0, "creation_date": 1447891384, "post_id": 33792748, "comment_id": 55352580, "body": "Just curious as to how the static size actually works, my professor is very strict on implicit and explicit coercion. I know it for the most part except this how to actually works."}, {"owner": {"reputation": 423, "user_id": 3734934, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/AflVK.png?s=128&g=1", "display_name": "0x3h", "link": "https://stackoverflow.com/users/3734934/0x3h"}, "edited": false, "score": 2, "creation_date": 1447891933, "post_id": 33792748, "comment_id": 55352800, "body": "this is the <code>IL</code> for the const declaration <code>.field private static literal uint8 MAX_SIZE = uint8(100)</code>  so yes the compiler will convert the <code>(byte)100</code> to <code>(int)100</code>"}, {"owner": {"reputation": 4564, "user_id": 1760670, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/MXkMz.png?s=128&g=1", "display_name": "EasyBB", "link": "https://stackoverflow.com/users/1760670/easybb"}, "edited": false, "score": 0, "creation_date": 1447892764, "post_id": 33792748, "comment_id": 55353072, "body": "thanks Mohamed understandable,"}], "answers": [{"tags": [], "owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "is_accepted": false, "score": 4, "last_activity_date": 1447891890, "last_edit_date": 1592644375, "creation_date": 1447891890, "answer_id": 33793006, "question_id": 33792748, "link": "https://stackoverflow.com/questions/33792748/c-datatype-coercion-in-static-size/33793006#33793006", "title": "C# datatype coercion in static size", "body": "<p>Value will be <em>implicitly converted</em> to int. See c# specification.</p>\n<blockquote>\n<p>7.6.10.4 Array creation expressions</p>\n<p>...new   non-array-type   [   expression-list   ] ...</p>\n<p>Each expression in the expression list must be of type int, uint, long, or ulong, or implicitly convertible to one or more of these types.</p>\n<p>... Following evaluation of each expression, an implicit conversion (\u00a76.1) to one of the following types is performed: int, uint, long, ulong. The first type in this list for which an implicit conversion exists is chosen.</p>\n</blockquote>\n"}], "owner": {"reputation": 4564, "user_id": 1760670, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/MXkMz.png?s=128&g=1", "display_name": "EasyBB", "link": "https://stackoverflow.com/users/1760670/easybb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447891890, "creation_date": 1447890576, "question_id": 33792748, "link": "https://stackoverflow.com/questions/33792748/c-datatype-coercion-in-static-size", "title": "C# datatype coercion in static size", "body": "<p>So if I define a some constants</p>\n\n<pre><code>const byte MAX_SIZE = 100;\n</code></pre>\n\n<p>And then instantiate an integral array with the static size above</p>\n\n<pre><code>int[] myArr = new int[MAX_SIZE];\n</code></pre>\n\n<p>Is the static size explicit coercion or this perfectly acceptable.</p>\n\n<p>Just curious as I'm not getting any warnings in VS Visual C# 2013, or is there a way so we can make the warnings more strict?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "logging", "dll", "elmah"], "owner": {"reputation": 1906, "user_id": 1760939, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a953aa0b2eae7967861f194d4f78f8f?s=128&d=identicon&r=PG", "display_name": "Syakur Rahman", "link": "https://stackoverflow.com/users/1760939/syakur-rahman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 278, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1447894107, "creation_date": 1447890466, "last_edit_date": 1447894107, "question_id": 33792722, "link": "https://stackoverflow.com/questions/33792722/elmah-logging-from-linked-library-dll", "title": "Elmah Logging from Linked Library (dll)", "body": "<p>I have a MVC Web Application, and I have successfully configured logging for that web application. However, parts of my code are located in another project, linked as a library. Here is where my confusion begins. Somehow, for whatever reason I am not aware of, the exception from the library aren't called at all. </p>\n\n<p>Here is the project structure that I have. I have a <code>Common</code> project, compiled as a library, that contains a helper method as following:</p>\n\n<pre><code>public static void LogError(Exception ex, string contextualMessage = null) {\n    if (HttpContext.Current != null)\n    {\n        var annotatedException = ex;\n        if (ex == null)\n        {\n            annotatedException = new Exception(contextualMessage);\n        }\n        else if (contextualMessage != null)\n        {\n            annotatedException = new Exception(contextualMessage, ex);\n        }\n        ErrorSignal.FromCurrentContext().Raise(annotatedException);\n        ErrorLog.GetDefault(null).Log(new Error(annotatedException));\n    }\n    else\n    {\n        if (ex == null)\n        {\n            ex = new Exception(contextualMessage);\n        }\n        ErrorLog errorLog = ErrorLog.GetDefault(null);\n        errorLog.ApplicationName = \"Generic Library\";\n        errorLog.Log(new Error(ex));\n    }\n}\n</code></pre>\n\n<p>And then, I have another library, lets say <code>DataAbstraction</code>, which would have a call similar to this:</p>\n\n<pre><code>try {\n    // do something\n} catch(Exception ex) {\n    CommonHelper.LogError(ex);\n}\n</code></pre>\n\n<p>Now, whenever I use the helper method directly from the MVC Web Application, it gets logged successfully, however when I call it from the <code>DataAbstraction</code> project, nothing gets logged, but everything still runs normally.</p>\n\n<p>I have tried to configured the <code>DataAbstraction</code> project's <code>app.config</code> to also have Elmah configuration, and also referenced Elmah dll to the project, but it still gives nothing.</p>\n\n<p>Could anyone point me how to do this?</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-4", "entity-framework-5"], "comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 1, "creation_date": 1447890696, "post_id": 33792688, "comment_id": 55352336, "body": "This is a pretty bad idea. When SQL Server create an execution plan for your proc, it will create it with the first time it&#39;s executed. So you do an INSERT and then a SELECT with a naff plan. My question is: why use procedures when EF is specifically built for you to manipulate the tables directly?"}, {"owner": {"reputation": 1075, "user_id": 1014674, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/752e679a313130c7818a6e71a428a18a?s=128&d=identicon&r=PG", "display_name": "Aldemar Cuartas Carvajal", "link": "https://stackoverflow.com/users/1014674/aldemar-cuartas-carvajal"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1447947695, "post_id": 33792688, "comment_id": 55381753, "body": "David you&#39;re right, it&#39;s a bad idea for simple CRUD operations tables, I was thinking about this for business logic situations when it&#39;s needed to put some logic into stored procedures in whose case it seems is better to execute stored procedures explicitly and not attach them to a particular class, I guess."}], "owner": {"reputation": 1075, "user_id": 1014674, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/752e679a313130c7818a6e71a428a18a?s=128&d=identicon&r=PG", "display_name": "Aldemar Cuartas Carvajal", "link": "https://stackoverflow.com/users/1014674/aldemar-cuartas-carvajal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447890286, "creation_date": 1447890286, "question_id": 33792688, "link": "https://stackoverflow.com/questions/33792688/mapping-a-generic-stored-procedure-for-crud-in-ef-5", "title": "Mapping a generic stored procedure for CRUD in EF 5", "body": "<p>I'm developing a MVC4 project with EF5 and I've created a generic stored procedure for CRUD operations on users table.</p>\n\n<pre><code>spUsers @opt, @id, @password, @name, @lastname, @birthdate\n\nif @opt = 1 INSERT ...\nif @opt = 2 UPDATE ...\nif @opt = 3 DELETE ...\n</code></pre>\n\n<p>Reasons I'm doing this in one stored procedure is to avoid doing them into three separated stored procedures and acumulate too much stored procedures for others tables.</p>\n\n<p>My question is, is it possible to mapping user class for insert, update and delete operations with that generic stored procedure using EF designer and then manually provide @opt value?</p>\n"}, {"tags": ["c#", "visual-studio", "visual-studio-2015"], "comments": [{"owner": {"reputation": 3911, "user_id": 879715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/dc0d51aceacd0d5b50fc3114730f4cd4?s=128&d=identicon&r=PG", "display_name": "Derek Tomes", "link": "https://stackoverflow.com/users/879715/derek-tomes"}, "edited": false, "score": 0, "creation_date": 1447889932, "post_id": 33792588, "comment_id": 55352079, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/aa983433(v=vs.90).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/aa983433(v=vs.90).aspx</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5578895"}, "reply_to_user": {"reputation": 3911, "user_id": 879715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/dc0d51aceacd0d5b50fc3114730f4cd4?s=128&d=identicon&r=PG", "display_name": "Derek Tomes", "link": "https://stackoverflow.com/users/879715/derek-tomes"}, "edited": false, "score": 0, "creation_date": 1447890331, "post_id": 33792588, "comment_id": 55352210, "body": "I have already done that, and the issue persists."}, {"owner": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 1, "creation_date": 1447894291, "post_id": 33792588, "comment_id": 55353570, "body": "Installers generally don&#39;t (and shouldn&#39;t) install, repair or uninstall your settings for an application. Try logging in as a different user to narrow the problem down."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5578895"}, "reply_to_user": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 0, "creation_date": 1447900322, "post_id": 33792588, "comment_id": 55355255, "body": "@TomBlodget, wow thank you so much for the advice! I installed it again, and launched VS on a new user in my PC, and it works perfectly. It seems that the problem is only with my main user. That certainly narrowed things down form me"}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 4808400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XweDV.jpg?s=128&g=1", "display_name": "Curzor", "link": "https://stackoverflow.com/users/4808400/curzor"}, "is_accepted": false, "score": 1, "last_activity_date": 1447908615, "creation_date": 1447908615, "answer_id": 33795494, "question_id": 33792588, "link": "https://stackoverflow.com/questions/33792588/how-to-do-a-clean-uninstall-install-of-visual-studio-2015/33795494#33795494", "title": "How to do a clean uninstall/install of Visual Studio 2015?", "body": "<p>Mount the iso, if it's drive letter is 'd', run the code below in command prompt. (replace 'd' with the drive letter)</p>\n\n<p>D:\\vs_community.exe /uninstall /force</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5578895"}, "edited": false, "score": 2, "creation_date": 1476781171, "post_id": 33988220, "comment_id": 67479451, "body": "Just in case if anyone still facing the same issue. I was able to fix it on the main user by downloading the latest update."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5578895"}, "is_accepted": true, "score": 0, "last_activity_date": 1514245954, "last_edit_date": 1514245954, "creation_date": 1448831707, "answer_id": 33988220, "question_id": 33792588, "link": "https://stackoverflow.com/questions/33792588/how-to-do-a-clean-uninstall-install-of-visual-studio-2015/33988220#33988220", "title": "How to do a clean uninstall/install of Visual Studio 2015?", "body": "<p>Just as @TomBlodget answered, the issue was with the Windows user where the incident happened. When I launched VS on a new windows user, it worked fine. For now, I will keep using the new Windows user and once I figure out what happened with the original user, I will post it here for future reference.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5578895"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4556, "favorite_count": 1, "accepted_answer_id": 33988220, "answer_count": 2, "score": 3, "last_activity_date": 1514245954, "creation_date": 1447889721, "last_edit_date": 1447890764, "question_id": 33792588, "link": "https://stackoverflow.com/questions/33792588/how-to-do-a-clean-uninstall-install-of-visual-studio-2015", "title": "How to do a clean uninstall/install of Visual Studio 2015?", "body": "<p>Operating System: Windows 10</p>\n\n<p>Background of the issue: I was working on an C# web MVC type of project on VS2015, my computer suddenly crashed (due to memory issue.) Then, I restarted VS2015, and tried to load my project; however, the solution explorer would not show my files, so I decided to try different projects and the same issue happened. Therefore, I decided to create a new project, but the new project window would not display the templates at all (F#, C#, web MVC ...etc.)</p>\n\n<p>So I figured some VS2015 files got corrupted, so I decided to do the following:</p>\n\n<ol>\n<li>Ran repair through the installation</li>\n<li>uninstalled, then installed VS2015 again.</li>\n<li>I uninstalled through Revo Uninstaller, deleted all the registries, and folders. Then, I ran regedit and manually deleted all VS2015 registries (I was getting desperate)</li>\n</ol>\n\n<p>None of the above worked...</p>\n\n<p>P.S. I am using the Community edition.</p>\n"}, {"tags": ["c#", "asp.net", "ajax"], "comments": [{"owner": {"reputation": 2020, "user_id": 2087055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32213d2e4f8f36694ac9d3736abcc631?s=128&d=identicon&r=PG&f=1", "display_name": "Kosala W", "link": "https://stackoverflow.com/users/2087055/kosala-w"}, "edited": false, "score": 2, "creation_date": 1447890490, "post_id": 33792585, "comment_id": 55352266, "body": "Is this mvc? We need to see your jquery and controller methods. Please publish all relevant codes when asking questions."}, {"owner": {"reputation": 6266, "user_id": 5497207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e185da0f69447ef588089e15e15198?s=128&d=identicon&r=PG&f=1", "display_name": "Oguz Ozgul", "link": "https://stackoverflow.com/users/5497207/oguz-ozgul"}, "edited": false, "score": 0, "creation_date": 1447891809, "post_id": 33792585, "comment_id": 55352757, "body": "You are creating a new instance of OneTestPage inside that static method and HttpContext is not bound to this new instance hence the error. Does the web method have to be static? Either change it to an instance method, or in the GetString method, return HttpContext.Current.Request.QueryString[&quot;test&quot;].ToString(); (Not recommended)"}, {"owner": {"reputation": 412, "user_id": 5140425, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e9959f4dbc2c47ed14a666bfad53efaa?s=128&d=identicon&r=PG&f=1", "display_name": "LilRazi", "link": "https://stackoverflow.com/users/5140425/lilrazi"}, "edited": false, "score": 0, "creation_date": 1447891928, "post_id": 33792585, "comment_id": 55352795, "body": "If I am not wrong web method have to be static otherwise wont be able to access it from jquery ajax"}, {"owner": {"reputation": 6266, "user_id": 5497207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e185da0f69447ef588089e15e15198?s=128&d=identicon&r=PG&f=1", "display_name": "Oguz Ozgul", "link": "https://stackoverflow.com/users/5497207/oguz-ozgul"}, "edited": false, "score": 0, "creation_date": 1447892875, "post_id": 33792585, "comment_id": 55353109, "body": "Then, the only solution is to get the query string parameter by HttpContext.Current.Request.QueryString[&quot;test&quot;];. I also need to say, you will not be able to access any of the page elements. Please change the GetString() method to be static and inside, use HttpContext.Current.Request, and remove new OneTestPage(). We should never create Page instances like this anyway."}], "owner": {"reputation": 412, "user_id": 5140425, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e9959f4dbc2c47ed14a666bfad53efaa?s=128&d=identicon&r=PG&f=1", "display_name": "LilRazi", "link": "https://stackoverflow.com/users/5140425/lilrazi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 403, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447891613, "creation_date": 1447889719, "last_edit_date": 1447891613, "question_id": 33792585, "link": "https://stackoverflow.com/questions/33792585/jquery-ajax-with-query-string-invoking-at-server-side-not-working", "title": "jquery ajax with query string invoking at server side not working", "body": "<p>In my application I have used jquery ajax and this ajax call invokes some method at server side. In this method I have code which grabs the query strings and based on the query string value it processes the data. I am using below lines of code to get query string.</p>\n\n<pre><code>    var MyajaxCall = function () {\n        $.ajax(\n        {\n            type: \"POST\",\n            url: \"OneCol.aspx/SingleData\",\n            data: JSON.stringify({DptID:1}),\n            contentType: \"application/json;charset=utf-8\",\n            dataType: \"json\",\n            success: function (msg) {\n                jsonData = msg.d;\n            },\n            Error: function (x, e) {\n                alert(\"Some error\");\n            }\n        });\n    };\n</code></pre>\n\n<p>C# code </p>\n\n<pre><code>    [WebMethod]\n    public static string SingleData(string DptID)\n    {\n        OneTestPage onpage = new OneTestPage ();\n        return onpage.GetString();\n    }\n\n    private string GetString() \n    {\n        return Request.QueryString[\"test\"].ToString();\n    }\n</code></pre>\n\n<p>Everytime my ajax request hits this line of code I am getting \"Request is not available in this context\". Is this because data is not ready yet this time ? if so what is the best way to get it work.</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 3381, "user_id": 3964654, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ITt1C.jpg?s=128&g=1", "display_name": "wingerse", "link": "https://stackoverflow.com/users/3964654/wingerse"}, "edited": false, "score": 1, "creation_date": 1447890007, "post_id": 33792566, "comment_id": 55352111, "body": "Could you provide some code?"}, {"owner": {"reputation": 39513, "user_id": 584183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc31dff5555e427e5829e385376c46c4?s=128&d=identicon&r=PG", "display_name": "jmcilhinney", "link": "https://stackoverflow.com/users/584183/jmcilhinney"}, "edited": false, "score": 0, "creation_date": 1447890098, "post_id": 33792566, "comment_id": 55352138, "body": "&quot;... but this only modifies the version within Class 2&quot;. Why would that be a problem? What other instance would you want to modify?"}, {"owner": {"reputation": 39513, "user_id": 584183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc31dff5555e427e5829e385376c46c4?s=128&d=identicon&r=PG", "display_name": "jmcilhinney", "link": "https://stackoverflow.com/users/584183/jmcilhinney"}, "edited": false, "score": 0, "creation_date": 1447890145, "post_id": 33792566, "comment_id": 55352159, "body": "I&#39;d suggest that the better option here would be for class 2 to raise an event and then for class 1 to handle that event and modify itself based on the event args."}], "answers": [{"comments": [{"owner": {"reputation": 1167, "user_id": 3279247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uVAYZ.jpg?s=128&g=1", "display_name": "Igor Quirino", "link": "https://stackoverflow.com/users/3279247/igor-quirino"}, "edited": false, "score": 0, "creation_date": 1447891177, "post_id": 33792761, "comment_id": 55352501, "body": "This is how OP do. The question is how to do by the right way."}, {"owner": {"reputation": 23, "user_id": 5578913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4c3636480ca95bb90bbfc4deb60ddc?s=128&d=identicon&r=PG&f=1", "display_name": "dc799", "link": "https://stackoverflow.com/users/5578913/dc799"}, "edited": false, "score": 0, "creation_date": 1447891232, "post_id": 33792761, "comment_id": 55352520, "body": "Yea, sorry for wasting your time! Thanks for your help."}, {"owner": {"reputation": 23, "user_id": 5578913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4c3636480ca95bb90bbfc4deb60ddc?s=128&d=identicon&r=PG&f=1", "display_name": "dc799", "link": "https://stackoverflow.com/users/5578913/dc799"}, "edited": false, "score": 0, "creation_date": 1447891292, "post_id": 33792761, "comment_id": 55352545, "body": "Igor, now that I&#39;ve had a think about it, this is the best way to keep it clean. Do you have an alternative, better solution?"}, {"owner": {"reputation": 840, "user_id": 1663992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yUJuD.jpg?s=128&g=1", "display_name": "nardnob", "link": "https://stackoverflow.com/users/1663992/nardnob"}, "reply_to_user": {"reputation": 1167, "user_id": 3279247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uVAYZ.jpg?s=128&g=1", "display_name": "Igor Quirino", "link": "https://stackoverflow.com/users/3279247/igor-quirino"}, "edited": false, "score": 0, "creation_date": 1447891305, "post_id": 33792761, "comment_id": 55352550, "body": "@Igor You obviously didn&#39;t see the original question"}, {"owner": {"reputation": 1167, "user_id": 3279247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uVAYZ.jpg?s=128&g=1", "display_name": "Igor Quirino", "link": "https://stackoverflow.com/users/3279247/igor-quirino"}, "edited": false, "score": 0, "creation_date": 1447891499, "post_id": 33792761, "comment_id": 55352619, "body": "I posted a better solution using event delegates. I will remove downvote, Ok?.. But my answer is much more elegant approach ."}, {"owner": {"reputation": 840, "user_id": 1663992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yUJuD.jpg?s=128&g=1", "display_name": "nardnob", "link": "https://stackoverflow.com/users/1663992/nardnob"}, "edited": false, "score": 0, "creation_date": 1447891567, "post_id": 33792761, "comment_id": 55352653, "body": "Yes, delegates can be useful. I&#39;m not sure they&#39;d be useful for returning a list from a helper class, but I&#39;ll keep my opinions to myself."}, {"owner": {"reputation": 23, "user_id": 5578913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4c3636480ca95bb90bbfc4deb60ddc?s=128&d=identicon&r=PG&f=1", "display_name": "dc799", "link": "https://stackoverflow.com/users/5578913/dc799"}, "edited": false, "score": 1, "creation_date": 1447891720, "post_id": 33792761, "comment_id": 55352725, "body": "Changed to GetServicesList. :) I&#39;ve got it more or less the same as your snippet now. Thanks for your time."}, {"owner": {"reputation": 1167, "user_id": 3279247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uVAYZ.jpg?s=128&g=1", "display_name": "Igor Quirino", "link": "https://stackoverflow.com/users/3279247/igor-quirino"}, "edited": false, "score": 0, "creation_date": 1447892114, "post_id": 33792761, "comment_id": 55352851, "body": "I answered before OP post the code. With delegates OP can decouple class dependence. SOLID principles ."}], "tags": [], "owner": {"reputation": 840, "user_id": 1663992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yUJuD.jpg?s=128&g=1", "display_name": "nardnob", "link": "https://stackoverflow.com/users/1663992/nardnob"}, "is_accepted": false, "score": 1, "last_activity_date": 1447891413, "last_edit_date": 1447891413, "creation_date": 1447890659, "answer_id": 33792761, "question_id": 33792566, "link": "https://stackoverflow.com/questions/33792566/update-parent-object-from-within-child/33792761#33792761", "title": "Update Parent object from within Child", "body": "<p>Edit: Removed code snippet after your edits.</p>\n\n<p>Yes, return a list of services. That's much better than sending in the parent class to the helper class.</p>\n\n<p>You don't appear to be using the server that you send into the helper class. So you can just fetch the services from the update function. I would rename the update function to FetchServices or something instead of update.</p>\n\n<pre><code>public Server(string serverName, string loginUsername, string loginPassword)\n{\n    this.ServerName = serverName;\n    this.LoginUsername = loginUsername;\n    this.LoginPassword = loginPassword;\n\n    // Login to server and retrieve list of services\n    ConnectionTools = new ServerConnectionTools(this);\n    this.Services = ConnectionTools.FetchServiceTools();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 5578913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4c3636480ca95bb90bbfc4deb60ddc?s=128&d=identicon&r=PG&f=1", "display_name": "dc799", "link": "https://stackoverflow.com/users/5578913/dc799"}, "edited": false, "score": 0, "creation_date": 1447891532, "post_id": 33792854, "comment_id": 55352633, "body": "I watched Events, Delegates and Lambdas on Pluralsight last night and this confuses me haha! Thanks for your help anyway. Dave"}], "tags": [], "owner": {"reputation": 1167, "user_id": 3279247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uVAYZ.jpg?s=128&g=1", "display_name": "Igor Quirino", "link": "https://stackoverflow.com/users/3279247/igor-quirino"}, "is_accepted": false, "score": 0, "last_activity_date": 1447891765, "last_edit_date": 1447891765, "creation_date": 1447891125, "answer_id": 33792854, "question_id": 33792566, "link": "https://stackoverflow.com/questions/33792566/update-parent-object-from-within-child/33792854#33792854", "title": "Update Parent object from within Child", "body": "<p>Use delegates. </p>\n\n<p>Like this:</p>\n\n<pre><code>// Delegate Specification\n\u00a0\u00a0\u00a0 public class MyClass\n\u00a0\u00a0\u00a0 {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Declare a delegate that takes a single string parameter\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 // and has no return type.\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0public delegate void LogHandler(string message);\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// The use of the delegate is just like calling a function directly,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 // though we need to add a check to see if the delegate is null\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 // (that is, not pointing to a function) before calling the function.\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 public void Process(LogHandler logHandler)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 if (logHandler != null)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 logHandler(\"Process() begin\");\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 }\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 if (logHandler != null)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 logHandler (\"Process() end\");\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 }\n\u00a0\u00a0\u00a0 }\n\n\u00a0\u00a0\u00a0\u00a0// Test Application to use the defined Delegate\n\u00a0\u00a0\u00a0 public class TestApplication\n\u00a0\u00a0\u00a0 {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0Static Function: To which is used in the Delegate. To call the Process()\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 // function, we need to declare a logging function: Logger() that matches\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 // the signature of the delegate.\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0static void\u00a0Logger(string s)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 Console.WriteLine(s);\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 }\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 static void Main(string[] args)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 MyClass myClass = new MyClass();\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Crate an instance of the delegate, pointing to the logging function.\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 // This delegate will then be passed to the Process() function.\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 MyClass.LogHandler\u00a0myLogger = new MyClass.LogHandler(Logger);\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 myClass.Process(myLogger);\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 }\n\u00a0\u00a0\u00a0 }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1584, "user_id": 4698599, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cb74bfec29d1aa195b6b14b6dc73040f?s=128&d=identicon&r=PG", "display_name": "Burak Karasoy", "link": "https://stackoverflow.com/users/4698599/burak-karasoy"}, "is_accepted": false, "score": 0, "last_activity_date": 1447893139, "creation_date": 1447893139, "answer_id": 33793216, "question_id": 33792566, "link": "https://stackoverflow.com/questions/33792566/update-parent-object-from-within-child/33793216#33793216", "title": "Update Parent object from within Child", "body": "<p>In your situation you don't need whole service class in serviceConnectionTools.\nhere is my suggestion to you\nStep 1 add an interface </p>\n\n<pre><code>interface caller\n{\n  void setList(List&lt;StringBuilder&gt; par_list);\n\n}\n</code></pre>\n\n<p>Step 2 implement the interface\npublic class Server : caller\n{</p>\n\n<pre><code>private string m_serverName;\nprivate string m_loginUsername;\nprivate string m_loginPassword;\nprivate ServerConnectionTools m_connectionTools;\npublic List&lt;Service&gt; Services { get; private set; }\n\npublic Server(string serverName, string loginUsername, string loginPassword)\n{\n    this.ServerName = serverName;\n    this.LoginUsername = loginUsername;\n    this.LoginPassword = loginPassword;\n\n    // Login to server and retrieve list of services\n    ConnectionTools = new ServerConnectionTools(this);\n\n}\npublic void setList(List&lt;StringBuilder&gt; par_list)\n{\n      //do whatever you need to here.\n}\n</code></pre>\n\n<p>}</p>\n\n<p>step 3</p>\n\n<pre><code>public class ServerConnectionTools // Class 2\n{\n    private caller m_serverCB;\n    private ManagementScope m_scope;\n\npublic ServerConnectionTools(caller par_serverCB)\n    {\n        m_serverCB = par_serverCB;\n    this.Scope = InitiateScope();\n\n    try\n    {\n\n        this.UpdateServicesList();\n\n    }\n    catch (System.Runtime.InteropServices.COMException)\n    {\n        // Server is unavailable\n        Console.WriteLine(\"Unable to reach server {0}\", server.ServerName);\n    }\n}\n</code></pre>\n\n<p>/// in your Updateservicelist function</p>\n\n<pre><code> public void UpdateServicesList()\n    {\n        // Connect our scope to the actual WMI scope\n        this.Scope.Connect();\n\n        List&lt;StringBuilder&gt; servicesList = new List&lt;StringBuilder&gt;();\n\n    // Query system for Services\n    ObjectQuery query = new ObjectQuery(\"SELECT * FROM Win32_Service WHERE Caption LIKE 'xxx%'\");\n    ManagementObjectSearcher searcher = new ManagementObjectSearcher(this.Scope, query);\n    ManagementObjectCollection services = searcher.Get();\n\n    if (services.Count &gt; 0)\n    {\n        foreach (ManagementObject queryObj in services)\n        {\n            StringBuilder s = new StringBuilder();\n\n            s.Append(queryObj[\"Caption\"].ToString());\n            s.Append(\",\");\n            s.Append(queryObj[\"State\"].ToString());\n            s.Append(\",\");\n            s.Append(queryObj[\"ProcessId\"].ToString());\n            s.Append(\";\");\n\n            servicesList.Add(s);\n        }\n\n\n    }\n     m_serverCB.setList(servicesList);//add this to call method.\n}\n</code></pre>\n\n<p>Now you don't have to send all server object to class2. You can use serverConnectionTools for other classed you may need in the future instead of just using only one class.You have better oop implementation now I hope.</p>\n"}], "owner": {"reputation": 23, "user_id": 5578913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4c3636480ca95bb90bbfc4deb60ddc?s=128&d=identicon&r=PG&f=1", "display_name": "dc799", "link": "https://stackoverflow.com/users/5578913/dc799"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1447893139, "creation_date": 1447889596, "last_edit_date": 1447890740, "question_id": 33792566, "link": "https://stackoverflow.com/questions/33792566/update-parent-object-from-within-child", "title": "Update Parent object from within Child", "body": "<p>I have a List in Class 1.\nI have a helper class (Class 2) which is instantiated inside Class 1.\nClass 2 should then do some work and update the List in Class 1.</p>\n\n<p>I tried passing Class 1 into the Constructor of Class 2, but this only modifies the version within Class 2.</p>\n\n<pre><code>public class Server // Class 1\n{\n\n    private string m_serverName;\n    private string m_loginUsername;\n    private string m_loginPassword;\n    private ServerConnectionTools m_connectionTools;\n    public List&lt;Service&gt; Services { get; private set; }\n\n    public Server(string serverName, string loginUsername, string loginPassword)\n    {\n        this.ServerName = serverName;\n        this.LoginUsername = loginUsername;\n        this.LoginPassword = loginPassword;\n\n        // Login to server and retrieve list of services\n        ConnectionTools = new ServerConnectionTools(this);\n\n    }\n}\n\n\npublic class ServerConnectionTools // Class 2\n{\n    private Server m_server;\n    private ManagementScope m_scope;\n\npublic ServerConnectionTools(Server server)\n    {\n        this.Server = server;\n        this.Scope = InitiateScope();\n\n        try\n        {\n            // Once this is finished updating, I need to update the Service List in Class 1.\n            this.UpdateServicesList();\n        }\n        catch (System.Runtime.InteropServices.COMException)\n        {\n            // Server is unavailable\n            Console.WriteLine(\"Unable to reach server {0}\", server.ServerName);\n        }\n    }\n\n    public ManagementScope InitiateScope()\n    {\n        ManagementScope scope;\n\n        // If server is Remote server, log in with Credentials\n        // otherwise no need to connect.\n        if (System.Environment.MachineName.ToLower() != this.Server.ServerName.ToLower())\n        {\n            // Is a remote server, need credentials\n            ConnectionOptions options = new ConnectionOptions();\n\n            options.Username = this.Server.LoginUsername;\n            options.Password = this.Server.LoginPassword;\n\n            scope = new ManagementScope(\"\\\\\\\\\" + this.Server.ServerName + \"\\\\root\\\\cimv2\", options);\n\n        }\n        else\n        {\n            // Local machine, no need for credentials\n            scope = new ManagementScope(\"\\\\\\\\\" + this.Server.ServerName + \"\\\\root\\\\cimv2\");\n        }\n        return scope;\n    }\n\n\n    public void UpdateServicesList()\n    {\n        // Connect our scope to the actual WMI scope\n        this.Scope.Connect();\n\n        List&lt;StringBuilder&gt; servicesList = new List&lt;StringBuilder&gt;();\n\n\n        // Query system for Services\n        ObjectQuery query = new ObjectQuery(\"SELECT * FROM Win32_Service WHERE Caption LIKE 'xxx%'\");\n        ManagementObjectSearcher searcher = new ManagementObjectSearcher(this.Scope, query);\n        ManagementObjectCollection services = searcher.Get();\n\n        if (services.Count &gt; 0)\n        {\n            foreach (ManagementObject queryObj in services)\n            {\n                StringBuilder s = new StringBuilder();\n\n                s.Append(queryObj[\"Caption\"].ToString());\n                s.Append(\",\");\n                s.Append(queryObj[\"State\"].ToString());\n                s.Append(\",\");\n                s.Append(queryObj[\"ProcessId\"].ToString());\n                s.Append(\";\");\n\n                servicesList.Add(s);\n            }\n\n\n        }\n    }\n</code></pre>\n\n<p>Edit: Added code, thought I was doing right by keeping it simple!\nSo when I run this.UpdateServicesList(); in the constructor of the ServerConnectionTools class, I need to update the List in the Server class.</p>\n\n<p>Edit2: While typing this I had a brainwave... Return a list of services from the update function and call the update function from the first class. Think this is a better approach?</p>\n\n<p>What is the best approach to doing this?</p>\n\n<p>Apologies for what is probably a simple question...</p>\n\n<p>Cheers\nDave</p>\n"}, {"tags": ["c#", "encryption", "rsa", "private-key"], "comments": [{"owner": {"reputation": 6266, "user_id": 5497207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e185da0f69447ef588089e15e15198?s=128&d=identicon&r=PG&f=1", "display_name": "Oguz Ozgul", "link": "https://stackoverflow.com/users/5497207/oguz-ozgul"}, "edited": false, "score": 0, "creation_date": 1447891961, "post_id": 33792468, "comment_id": 55352807, "body": "When you change the private exponent, even by one bit, it should not be able to decrypt. The private exponent is used in the decryption process: m = c ^ d (mod n) where c is the cipher, d is the private exponent, and n is the modulus. (m is the decrypted data)"}, {"owner": {"reputation": 6266, "user_id": 5497207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e185da0f69447ef588089e15e15198?s=128&d=identicon&r=PG&f=1", "display_name": "Oguz Ozgul", "link": "https://stackoverflow.com/users/5497207/oguz-ozgul"}, "edited": false, "score": 0, "creation_date": 1447892081, "post_id": 33792468, "comment_id": 55352839, "body": "d, is the most important part of the decryption, you can have a private key consisting of n (the modulus, p x q) and d (private exponent) only. You don&#39;t have to know p and q to be able to decrypt, it is just that knowing these will speed up the decryption process significantly"}, {"owner": {"reputation": 6266, "user_id": 5497207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e185da0f69447ef588089e15e15198?s=128&d=identicon&r=PG&f=1", "display_name": "Oguz Ozgul", "link": "https://stackoverflow.com/users/5497207/oguz-ozgul"}, "edited": false, "score": 1, "creation_date": 1447892185, "post_id": 33792468, "comment_id": 55352879, "body": "May be, if p and q are present, the decryption algorithm not uses the d from the key, but re-calculates it.. That&#39;s the only logical explanation I can think of."}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1447892553, "post_id": 33792468, "comment_id": 55353003, "body": "Please shows us actual values that you used to make this experiment, as well as the code you tested it with. That is how stackoverflow works."}, {"owner": {"reputation": 31, "user_id": 5578867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/555940fd71e717ce0911df0e586ada59?s=128&d=identicon&r=PG", "display_name": "Mauricio", "link": "https://stackoverflow.com/users/5578867/mauricio"}, "reply_to_user": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1447894046, "post_id": 33792468, "comment_id": 55353500, "body": "@JamesKPolk I&#39;m just using RSACryptoServiceProvider Encrypt, Decrypt, ToXMLString and FromXMLString and manually modifying the saved private key. Do you think some quick pseudocode could help?"}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1447895076, "post_id": 33792468, "comment_id": 55353785, "body": "Why can&#39;t you show <a href=\"http://stackoverflow.com/help/mcve\">real code</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 22888, "user_id": 6535399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x5vsS.jpg?s=128&g=1", "display_name": "bartonjs", "link": "https://stackoverflow.com/users/6535399/bartonjs"}, "is_accepted": false, "score": 0, "last_activity_date": 1469920170, "creation_date": 1469920170, "answer_id": 38679324, "question_id": 33792468, "link": "https://stackoverflow.com/questions/33792468/private-key-parameters-in-c/38679324#38679324", "title": "Private key parameters in C#", "body": "<p>While Modulus, Exponent, and D are all that are required to do RSA technically, very few implementations actually use D, because it's much more efficient to do <a href=\"https://en.wikipedia.org/wiki/RSA_(cryptosystem)#Using_the_Chinese_remainder_algorithm\" rel=\"nofollow\">RSA via the Chinese Remainder Theorem</a>.</p>\n\n<p>While the Windows CAPI (used by RSACryptoServiceProvider) will roundtrip any value of D you import, it doesn't actually use it. Windows CNG (used by RSACng) requires that D be provided on import of a private key, then promptly throws it away, recomputing it on export (or import, I suppose). </p>\n\n<p>You can see that last quirk by generating an RSA key with OpenSSL (which generates <code>d</code> via <code>phi</code> (which is the form Wikipedia mentions) and importing it into CNG, which when exporting has replaced <code>d</code> with the calculation based on <code>lambda</code> (LCM(p-1, q-1)).</p>\n\n<p>Anyways, what all this amounts to is that while \"changing D is bad\" it can, in practice, just be ignored by the library doing the actual math; and that seems to be the case here.  But you shouldn't do it, because it might not interoperate well after going via a PFX or other private key transfer mechanism.</p>\n"}], "owner": {"reputation": 31, "user_id": 5578867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/555940fd71e717ce0911df0e586ada59?s=128&d=identicon&r=PG", "display_name": "Mauricio", "link": "https://stackoverflow.com/users/5578867/mauricio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 536, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1469920170, "creation_date": 1447889028, "question_id": 33792468, "link": "https://stackoverflow.com/questions/33792468/private-key-parameters-in-c", "title": "Private key parameters in C#", "body": "<p>I got an application that in C#, using RSACryptoServiceProvider, I load a public key from an XML and then I'm encrypting a hash value and saving it. </p>\n\n<p>In another application, I load the private key and then I'm able to decrypt the information correctly.</p>\n\n<p>The problem is that I want to make quick tests to see if everything's ok. </p>\n\n<p>From <a href=\"https://msdn.microsoft.com/en-us/library/system.security.cryptography.rsaparameters.aspx\" rel=\"nofollow\">MSDN</a>, </p>\n\n<blockquote>\n  <p>The security of RSA derives from the fact that, given the public key { e, n }, it is computationally infeasible to calculate d, either directly or by factoring n into p and q. Therefore, any part of the key related to d, p, or q must be kept secret. </p>\n</blockquote>\n\n<p>so the most important parameters of the private key are the exponent and the primes (D, P, Q). </p>\n\n<p>My test was to modify the private key before loading it. First, I changed one character in the first prime and I got a bad key. Same when just modifying one character in the second prime. </p>\n\n<p>But when I modified one character in the exponent, it was still able to correctly decode it. So my question is, which things can be changed from the private key and still be able to decode, and which are essential?</p>\n"}, {"tags": ["c#", ".net", "visual-studio", "datetime"], "comments": [{"owner": {"reputation": 8323, "user_id": 2316200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83dc15723047a4717a5c77b3c55bb112?s=128&d=identicon&r=PG", "display_name": "Pierre-Luc Pineault", "link": "https://stackoverflow.com/users/2316200/pierre-luc-pineault"}, "edited": false, "score": 0, "creation_date": 1447889119, "post_id": 33792426, "comment_id": 55351776, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/33790046/c-sharp-check-for-datetime-not-working\">c# check for datetime not working</a>"}, {"owner": {"reputation": 8323, "user_id": 2316200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83dc15723047a4717a5c77b3c55bb112?s=128&d=identicon&r=PG", "display_name": "Pierre-Luc Pineault", "link": "https://stackoverflow.com/users/2316200/pierre-luc-pineault"}, "edited": false, "score": 0, "creation_date": 1447889203, "post_id": 33792426, "comment_id": 55351806, "body": "Oh, it&#39;s not <i>exactly</i> the same question, but the same <i>bunch of code</i>, nevermind."}, {"owner": {"reputation": 6266, "user_id": 5497207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e185da0f69447ef588089e15e15198?s=128&d=identicon&r=PG&f=1", "display_name": "Oguz Ozgul", "link": "https://stackoverflow.com/users/5497207/oguz-ozgul"}, "edited": false, "score": 0, "creation_date": 1447889414, "post_id": 33792426, "comment_id": 55351879, "body": "Why have you implemented your own Date class? Assignment?"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 5535241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bf69b9afe5365957e777cfa4338adde2?s=128&d=identicon&r=PG&f=1", "display_name": "ramteen1993", "link": "https://stackoverflow.com/users/5535241/ramteen1993"}, "edited": false, "score": 0, "creation_date": 1447890938, "post_id": 33792463, "comment_id": 55352422, "body": "How can I do different formats within my design? e.g. MM/dd/yyyy?"}, {"owner": {"reputation": 5, "user_id": 5535241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bf69b9afe5365957e777cfa4338adde2?s=128&d=identicon&r=PG&f=1", "display_name": "ramteen1993", "link": "https://stackoverflow.com/users/5535241/ramteen1993"}, "edited": false, "score": 0, "creation_date": 1447891097, "post_id": 33792463, "comment_id": 55352475, "body": "I want two formats of input so &quot;dd/MM/yyyy and &quot;MM/dd/yyyy&quot; and I also want this for my outputs"}, {"owner": {"reputation": 5, "user_id": 5535241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bf69b9afe5365957e777cfa4338adde2?s=128&d=identicon&r=PG&f=1", "display_name": "ramteen1993", "link": "https://stackoverflow.com/users/5535241/ramteen1993"}, "edited": false, "score": 0, "creation_date": 1447891578, "post_id": 33792463, "comment_id": 55352658, "body": "Thats very true what if I want a format of input without the &quot;/&quot; and with the &quot;/&quot;?"}], "tags": [], "owner": {"reputation": 60839, "user_id": 301857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r4KmT.jpg?s=128&g=1", "display_name": "Grant Winney", "link": "https://stackoverflow.com/users/301857/grant-winney"}, "is_accepted": false, "score": 1, "last_activity_date": 1447890645, "last_edit_date": 1447890645, "creation_date": 1447889014, "answer_id": 33792463, "question_id": 33792426, "link": "https://stackoverflow.com/questions/33792426/c-out-of-range-errors/33792463#33792463", "title": "c# out of range errors", "body": "<p>Given your current design, you could do it like this:</p>\n\n<pre><code>try\n{\n    Date date = new Date(day, month, year);\n    Console.WriteLine(\"{0}/{1}/{2}\", date.Day, date.Month, date.Year);\n}\ncatch (ArgumentOutOfRangeException ex)\n{\n    Console.WriteLine(ex.Message);\n}\n</code></pre>\n\n<p>Note that reinventing the wheel isn't necessary (unless you're intentionally experimenting)... using the correct built-in .NET constructs (like <code>TryParseExact</code> instead of throwing and catching exceptions) will save you a lot of trouble:</p>\n\n<pre><code>Console.WriteLine(\"please enter date as dd/MM/yyyy\");\n\nDateTime date;\nif (DateTime.TryParseExact(Console.ReadLine(), \"dd/MM/yyyy\", null, DateTimeStyles.None, out date))\n{\n    Console.WriteLine(\"Correct date: {0}\", date.ToString(\"dd/MM/yyyy\"));\n}\nelse\n{\n    Console.WriteLine(\"Invalid date!\");\n}\n\nConsole.ReadLine();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3762, "user_id": 3276027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e2e43f741889c0d1c599747a318ddf5?s=128&d=identicon&r=PG&f=1", "display_name": "Gian Paolo", "link": "https://stackoverflow.com/users/3276027/gian-paolo"}, "is_accepted": false, "score": 4, "last_activity_date": 1447889016, "creation_date": 1447889016, "answer_id": 33792464, "question_id": 33792426, "link": "https://stackoverflow.com/questions/33792426/c-out-of-range-errors/33792464#33792464", "title": "c# out of range errors", "body": "<p>simply catch the exceptions you throw</p>\n\n<pre><code>try\n{\n    Date date = new Date(day, month, year);\n}\ncatch(ArgumentOutOfRangeException exc)\n{\n    Console.WriteLine(exc.Message);\n}\n</code></pre>\n\n<p>also note that you have to handle user input: you are assuming that he will insert a string such <code>\"NN/NN/NNNN\"</code>. What if he insert <code>\"NN/NN\"</code>? or <code>\"this/will/crash\"</code>?</p>\n"}], "owner": {"reputation": 5, "user_id": 5535241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bf69b9afe5365957e777cfa4338adde2?s=128&d=identicon&r=PG&f=1", "display_name": "ramteen1993", "link": "https://stackoverflow.com/users/5535241/ramteen1993"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1447890645, "creation_date": 1447888815, "question_id": 33792426, "link": "https://stackoverflow.com/questions/33792426/c-out-of-range-errors", "title": "c# out of range errors", "body": "<p>I have created my own DateTime class and it seems to be working. I was just wondering how can I print errors within my console for my ArgumentOutOfRangeExceptions? I am unsure how to do this so I would like some help. </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace date\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Console.WriteLine(\"\\t\\t\\t\\t\\t\\tNextDate Application\\n\\t\\t\\t\\t\\t-------------------------------------\");\n\n            Console.WriteLine(\"please enter date as dd/MM/yyyy\");\n            int day;\n            int month;\n            int year;\n\n            string[] read = Console.ReadLine().Split('/');\n            day = int.Parse(read[0]);\n            month = int.Parse(read[1]);\n            year = int.Parse(read[2]);\n\n            Date date = new Date(day, month, year);\n            Console.WriteLine(\"{0}/{1}/{2}\", date.Day, date.Month, date.Year);\n            Console.ReadLine();\n        }\n\n        class Date\n        {\n            private int _month; // 1-12\n            private int _day; // 1-31 depending on month\n            private int _year;\n\n            public Date(int day, int month, int year)\n            {\n                Month = month;\n                Day = day;         \n                Year = year;\n            }\n\n            public int Year\n            {\n                get { return _year; }\n                set\n                {\n                    if (value &gt;= 1820 &amp;&amp; value &lt;= 2020)\n                        _year = value;\n                    else\n                        throw new ArgumentOutOfRangeException(\"year\", value, \"year out of range\");\n                }\n            }\n\n            public int Month\n            {\n                get { return _month; }\n                set\n                {\n                    if (value &gt; 0 &amp;&amp; value &lt;= 12)\n                        _month = value;\n                    else\n                        throw new ArgumentOutOfRangeException(\"Month\", value, \"Month must be 1-12\");\n                }\n            }\n\n            public int Day\n            {\n                get { return _day; }\n                set\n                {\n\n                    int[] days = { 0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };\n\n                    if (value &gt; 0 &amp;&amp; value &lt;= days[_month])\n                        _day = value;\n\n                    else if (_month == 2 &amp;&amp; value == 29 &amp;&amp;\n                        _year % 400 == 0 || (_year % 4 == 0 &amp;&amp; _year % 100 != 0))\n                        _day = value;\n                    else\n                        throw new ArgumentOutOfRangeException(\"Day\", value, \"Day is out of range\");\n\n\n                }\n\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "regex", "string", "split", "character"], "comments": [{"owner": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "edited": false, "score": 1, "creation_date": 1447888661, "post_id": 33792350, "comment_id": 55351633, "body": "can you please show expected output too? (after the example input you give). i dont get this part <code>remove the characters before reaching the first combination of characters in the string which might be: &quot;ID&quot;,&quot;I&lt;&quot;,&quot;P&lt;&quot; &amp; &quot;V&lt;&quot; &quot;VI&quot;</code> so if you show expected result it may help."}, {"owner": {"reputation": 75299, "user_id": 139746, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/BhJLC.png?s=128&g=1", "display_name": "Pascal Cuoq", "link": "https://stackoverflow.com/users/139746/pascal-cuoq"}, "edited": false, "score": 1, "creation_date": 1447888731, "post_id": 33792350, "comment_id": 55351653, "body": "\u201cDo not use signature, taglines, or greetings.\u201d <a href=\"http://stackoverflow.com/help/behavior\">stackoverflow.com/help/behavior</a>"}, {"owner": {"reputation": 43, "user_id": 1631403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7e4b6638cc489c92aafef1aac93cda?s=128&d=identicon&r=PG", "display_name": "Ilia Lazarov", "link": "https://stackoverflow.com/users/1631403/ilia-lazarov"}, "edited": false, "score": 0, "creation_date": 1448062134, "post_id": 33792350, "comment_id": 55440878, "body": "Thanks, I have missed that! With respect to the output it should be:  IDBGR9247884874&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;|8601130M1709193BGR8601138634&lt;&zwnj;&#8203;3|IVANOV&lt;"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 1631403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7e4b6638cc489c92aafef1aac93cda?s=128&d=identicon&r=PG", "display_name": "Ilia Lazarov", "link": "https://stackoverflow.com/users/1631403/ilia-lazarov"}, "edited": false, "score": 0, "creation_date": 1448062054, "post_id": 33792590, "comment_id": 55440848, "body": "Thank you very much for the suggestion. I will try it out on Monday. And I will give you feedback! Thanks again!"}, {"owner": {"reputation": 3381, "user_id": 3964654, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ITt1C.jpg?s=128&g=1", "display_name": "wingerse", "link": "https://stackoverflow.com/users/3964654/wingerse"}, "reply_to_user": {"reputation": 43, "user_id": 1631403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7e4b6638cc489c92aafef1aac93cda?s=128&d=identicon&r=PG", "display_name": "Ilia Lazarov", "link": "https://stackoverflow.com/users/1631403/ilia-lazarov"}, "edited": false, "score": 0, "creation_date": 1448063044, "post_id": 33792590, "comment_id": 55441147, "body": "I&#39;m sure it will work since my output is same as your desired output :)"}, {"owner": {"reputation": 43, "user_id": 1631403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7e4b6638cc489c92aafef1aac93cda?s=128&d=identicon&r=PG", "display_name": "Ilia Lazarov", "link": "https://stackoverflow.com/users/1631403/ilia-lazarov"}, "edited": false, "score": 0, "creation_date": 1448063098, "post_id": 33792590, "comment_id": 55441168, "body": "Thank you once again, i think i will use it in another module as well!"}, {"owner": {"reputation": 43, "user_id": 1631403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7e4b6638cc489c92aafef1aac93cda?s=128&d=identicon&r=PG", "display_name": "Ilia Lazarov", "link": "https://stackoverflow.com/users/1631403/ilia-lazarov"}, "edited": false, "score": 0, "creation_date": 1448920925, "post_id": 33792590, "comment_id": 55773598, "body": "Ok, finally I had time to test it. Strangely when I use this syntax &#39;string s = mySerialPort.ReadExisting().Replace(&#39;\\r&#39;, &#39;|&#39;);                 s = string.Join(&quot;&quot;, Regex.Split(s, &quot;(ID|I&lt;|P&lt;|V&lt;|VI)&quot;).Skip(1));                 Console.WriteLine(s);&#39; it removes the character infron but since later it meets <b>IVANOV&lt;</b> which is part of the regex it removes parts that are in front of the string. Any suggestions how to remove only character before the first met of such a combination?"}, {"owner": {"reputation": 43, "user_id": 1631403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7e4b6638cc489c92aafef1aac93cda?s=128&d=identicon&r=PG", "display_name": "Ilia Lazarov", "link": "https://stackoverflow.com/users/1631403/ilia-lazarov"}, "edited": false, "score": 0, "creation_date": 1448921470, "post_id": 33792590, "comment_id": 55773855, "body": "excuse me for not mentioning the code correctly but it didn&#39;t give me the possibility to edit my comment and said I can only edit it in 5 minutes. :("}, {"owner": {"reputation": 3381, "user_id": 3964654, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ITt1C.jpg?s=128&g=1", "display_name": "wingerse", "link": "https://stackoverflow.com/users/3964654/wingerse"}, "reply_to_user": {"reputation": 43, "user_id": 1631403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7e4b6638cc489c92aafef1aac93cda?s=128&d=identicon&r=PG", "display_name": "Ilia Lazarov", "link": "https://stackoverflow.com/users/1631403/ilia-lazarov"}, "edited": false, "score": 0, "creation_date": 1448956289, "post_id": 33792590, "comment_id": 55785715, "body": "Uhm, I couldn&#39;t understand what you said. Could you show before and after strings in using your code?"}, {"owner": {"reputation": 43, "user_id": 1631403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7e4b6638cc489c92aafef1aac93cda?s=128&d=identicon&r=PG", "display_name": "Ilia Lazarov", "link": "https://stackoverflow.com/users/1631403/ilia-lazarov"}, "edited": false, "score": 0, "creation_date": 1448963078, "post_id": 33792590, "comment_id": 55789732, "body": "before <code>b\\0OU0IDBGR9247884874&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;|8601130M1709193BGR86011&zwnj;&#8203;38634&lt;3|IVANOV&lt;</code> and after <code>IDBGR9247884874&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;V&lt;</code>"}, {"owner": {"reputation": 3381, "user_id": 3964654, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ITt1C.jpg?s=128&g=1", "display_name": "wingerse", "link": "https://stackoverflow.com/users/3964654/wingerse"}, "reply_to_user": {"reputation": 43, "user_id": 1631403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7e4b6638cc489c92aafef1aac93cda?s=128&d=identicon&r=PG", "display_name": "Ilia Lazarov", "link": "https://stackoverflow.com/users/1631403/ilia-lazarov"}, "edited": false, "score": 0, "creation_date": 1448967121, "post_id": 33792590, "comment_id": 55792220, "body": "I get <code>IDBGR9247884874&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;|8601130M1709193BGR8601138634&lt;&zwnj;&#8203;3|IVANOV&lt;</code>.. Are you sure you have not altered the code in anyway?"}, {"owner": {"reputation": 43, "user_id": 1631403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7e4b6638cc489c92aafef1aac93cda?s=128&d=identicon&r=PG", "display_name": "Ilia Lazarov", "link": "https://stackoverflow.com/users/1631403/ilia-lazarov"}, "edited": false, "score": 0, "creation_date": 1448999887, "post_id": 33792590, "comment_id": 55813329, "body": "<code>string s = mySerialPort.ReadExisting().Replace(&#39;\\r&#39;, &#39;|&#39;); s = string.Join(&quot;&quot;, Regex.Split(s, &quot;(ID|I&lt;|P&lt;|V&lt;|VI)&quot;).Skip(1));                 Console.Write(s);</code> I haven&#39;t change anything but it is possible that the serial port breaks the string and I don&#39;t get proper string, any suggestions?"}, {"owner": {"reputation": 3381, "user_id": 3964654, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ITt1C.jpg?s=128&g=1", "display_name": "wingerse", "link": "https://stackoverflow.com/users/3964654/wingerse"}, "reply_to_user": {"reputation": 43, "user_id": 1631403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7e4b6638cc489c92aafef1aac93cda?s=128&d=identicon&r=PG", "display_name": "Ilia Lazarov", "link": "https://stackoverflow.com/users/1631403/ilia-lazarov"}, "edited": false, "score": 0, "creation_date": 1449009060, "post_id": 33792590, "comment_id": 55818417, "body": "What&#39;s the result of calling <code>mySerialPort.ReadExisting</code>?"}, {"owner": {"reputation": 43, "user_id": 1631403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7e4b6638cc489c92aafef1aac93cda?s=128&d=identicon&r=PG", "display_name": "Ilia Lazarov", "link": "https://stackoverflow.com/users/1631403/ilia-lazarov"}, "edited": false, "score": 0, "creation_date": 1449009309, "post_id": 33792590, "comment_id": 55818502, "body": "Usually I get the string mentioned above <code>b\\0OU0IDBGR9247884874&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;|8601130M1709193BGR86011&zwnj;&#8203;38634&lt;3|IVANOV&lt;</code> but only when I say <code>Console.WriteLine(s);</code> if I use <code>Console.Write(s);</code> then I get it separated in a number of raws and they are not the same every time, maybe I can modify <code>mySerialPort.ReadExisting()</code> to get always the same output, maybe this gives errors. However when I use the <code>writeLine();</code> I always get the same output."}], "tags": [], "owner": {"reputation": 3381, "user_id": 3964654, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ITt1C.jpg?s=128&g=1", "display_name": "wingerse", "link": "https://stackoverflow.com/users/3964654/wingerse"}, "is_accepted": true, "score": 0, "last_activity_date": 1447889731, "creation_date": 1447889731, "answer_id": 33792590, "question_id": 33792350, "link": "https://stackoverflow.com/questions/33792350/remove-characters-before-reaching-a-set-of-wanted-characters-in-a-string/33792590#33792590", "title": "Remove characters before reaching a set of wanted characters in a string", "body": "<blockquote>\n  <p>Remove the characters before reaching the first combination of characters in the string which might be: \"ID\",\"I&lt;\",\"P&lt;\" &amp; \"V&lt;\" \"VI\".</p>\n</blockquote>\n\n<p>I think will do what you want.  </p>\n\n<pre><code>string s = \"b\\0OU0IDBGR9247884874&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;|8601130M1709193BGR8601138634&lt;3|IVANOV&lt;\";\ns = string.Join(\"\", Regex.Split(s, \"(ID|I&lt;|P&lt;|V&lt;|VI)\").Skip(1));\n</code></pre>\n\n<p>First it splits the string on the character combinations you wanted (While preserving them in the resulting array - see the regex character group) and then discards the first member of the array (Which will be all the characters before the character combinations.) Then it joins the array together.</p>\n"}], "owner": {"reputation": 43, "user_id": 1631403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7e4b6638cc489c92aafef1aac93cda?s=128&d=identicon&r=PG", "display_name": "Ilia Lazarov", "link": "https://stackoverflow.com/users/1631403/ilia-lazarov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 1, "accepted_answer_id": 33792590, "answer_count": 1, "score": 0, "last_activity_date": 1447892521, "creation_date": 1447888490, "last_edit_date": 1447892521, "question_id": 33792350, "link": "https://stackoverflow.com/questions/33792350/remove-characters-before-reaching-a-set-of-wanted-characters-in-a-string", "title": "Remove characters before reaching a set of wanted characters in a string", "body": "<p>I have this string coming from a virtual serial port with an ID/Passport reader:</p>\n\n<p>b\\0OU0IDBGR9247884874&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;|8601130M1709193BGR8601138634&lt;3|IVANOV&lt;\n\n<p>I have replaced the \"/r\" with \"|\" character.</p>\n\n<p>The problem I would like to solve is always remove the characters before reaching the first combination of characters in the string which might be:\n\"ID\",\"I&lt;\",\"P&lt;\" &amp; \"V&lt;\" \"VI\".</p>\n\n<p>This is the issue at this stage I have tried the following to remove the characters but with no success:</p>\n\n<pre><code>public static string RemoveSpecialCharacters(string str)\n    {\n        StringBuilder sb = new StringBuilder();\n        foreach (char c in str)\n        {\n            if ((c &gt;= '0' &amp;&amp; c &lt;= '9') || (c &gt;= 'A' &amp;&amp; c &lt;= 'Z') || (c &gt;= 'a' &amp;&amp; c &lt;= 'z') || c == '.' || c == '_' || c == '&lt;' )\n            {\n                sb.Append(c);\n            }\n        }\n        return sb.ToString();\n    }\n</code></pre>\n"}, {"tags": ["c#", "excel"], "comments": [{"owner": {"reputation": 1167, "user_id": 3279247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uVAYZ.jpg?s=128&g=1", "display_name": "Igor Quirino", "link": "https://stackoverflow.com/users/3279247/igor-quirino"}, "edited": false, "score": 0, "creation_date": 1447890002, "post_id": 33792323, "comment_id": 55352108, "body": "You can depend of office installation?  Or office isnt installed? I never install office on server environment but on my machine i use solutions office based. This will change the solution usei."}, {"owner": {"reputation": 1167, "user_id": 3279247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uVAYZ.jpg?s=128&g=1", "display_name": "Igor Quirino", "link": "https://stackoverflow.com/users/3279247/igor-quirino"}, "edited": false, "score": 0, "creation_date": 1447890086, "post_id": 33792323, "comment_id": 55352136, "body": "You can use office interop based or office independent solution? Office base is much simple than independent."}, {"owner": {"reputation": 1167, "user_id": 3279247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uVAYZ.jpg?s=128&g=1", "display_name": "Igor Quirino", "link": "https://stackoverflow.com/users/3279247/igor-quirino"}, "edited": false, "score": 0, "creation_date": 1447890117, "post_id": 33792323, "comment_id": 55352146, "body": "Office interop need excel installed."}, {"owner": {"reputation": 11, "user_id": 5578850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4786ca846d65a7fc2bccd1735b722d4f?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/5578850/john"}, "reply_to_user": {"reputation": 1167, "user_id": 3279247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uVAYZ.jpg?s=128&g=1", "display_name": "Igor Quirino", "link": "https://stackoverflow.com/users/3279247/igor-quirino"}, "edited": false, "score": 0, "creation_date": 1448026516, "post_id": 33792323, "comment_id": 55420918, "body": "Yes, I have office installed."}], "owner": {"reputation": 11, "user_id": 5578850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4786ca846d65a7fc2bccd1735b722d4f?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/5578850/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447890209, "creation_date": 1447888364, "last_edit_date": 1447890209, "question_id": 33792323, "link": "https://stackoverflow.com/questions/33792323/search-box-to-look-for-data-in-excel-files-from-a-specific-folder", "title": "Search box to look for data in Excel files from a specific folder", "body": "<p>I am trying to code an application that would search for a specific text or word in multiple .xls or .xlsx files from a specified folder.\nI am using the following code to display all the .xls or .xlsx files from a certain location:</p>\n\n<pre><code>namespace SearchDIR\n{\n    public partial class Form1 : Form\n    {\n\n        public Form1()\n        {\n            InitializeComponent();\n\n        }\n\n\n        private void btnSearch_Click(object sender, System.EventArgs e)\n        {\n            lstFilesFound.Items.Clear();\n            txtFile.Enabled = false;\n            cboDirectory.Enabled = false;\n            btnSearch.Text = \"Searching...\";\n            this.Cursor = Cursors.WaitCursor;\n            Application.DoEvents();\n            DirSearch(cboDirectory.Text);\n            btnSearch.Text = \"Search\";\n            this.Cursor = Cursors.Default;\n            txtFile.Enabled = true;\n            cboDirectory.Enabled = true;\n        }\n\n        private void Form1_Load(object sender, System.EventArgs e)\n        {\n            cboDirectory.Items.Clear();\n            foreach (string s in Directory.GetLogicalDrives())\n            {\n                cboDirectory.Items.Add(s);\n            }\n            cboDirectory.Text = @\"F:\\\";\n        }\n\n        void DirSearch(string sDir) \n        {\n            try \n            {\n                foreach (string d in Directory.GetDirectories(sDir)) \n                {\n                    foreach (string f in Directory.GetFiles(d, txtFile.Text)) \n                    {\n                        lstFilesFound.Items.Add(f);\n                    }\n                    DirSearch(d);\n                }\n            }\n            catch (System.Exception excpt) \n            {\n                Console.WriteLine(excpt.Message);\n            }\n\n\n        }\n\n        private void txtFile_TextChanged(object sender, EventArgs e)\n        {\n\n        }\n\n\n    }\n}\n</code></pre>\n\n<p>I need to know how I would link a search box for example to the files that I have just searched for.</p>\n"}, {"tags": ["c#", "string", "editing"], "comments": [{"owner": {"reputation": 2117, "user_id": 2900049, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/577d14e7add99b35541697057ebf6dcf?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Spencer", "link": "https://stackoverflow.com/users/2900049/matthew-spencer"}, "edited": false, "score": 0, "creation_date": 1447888317, "post_id": 33792232, "comment_id": 55351495, "body": "Possible Duplicate of <a href=\"http://stackoverflow.com/questions/8809354/replace-first-occurrence-of-pattern-in-a-string\" title=\"replace first occurrence of pattern in a string\">stackoverflow.com/questions/8809354/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3381, "user_id": 3964654, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ITt1C.jpg?s=128&g=1", "display_name": "wingerse", "link": "https://stackoverflow.com/users/3964654/wingerse"}, "is_accepted": true, "score": 2, "last_activity_date": 1447888786, "last_edit_date": 1447888786, "creation_date": 1447888292, "answer_id": 33792305, "question_id": 33792232, "link": "https://stackoverflow.com/questions/33792232/how-can-i-edit-particular-word-one-by-one-in-a-text-line/33792305#33792305", "title": "How can I edit particular word one by one in a text line?", "body": "<p>The <a href=\"https://msdn.microsoft.com/en-us/library/cft8645c.aspx\" rel=\"nofollow\">Regex.Replace(String,\u2002MatchEvaluator)</a> may be what you need. In the specified input string, it replaces all strings that match a specified regular expression with a string returned by a <a href=\"https://msdn.microsoft.com/en-us/library/system.text.regularexpressions.matchevaluator.aspx\" rel=\"nofollow\">MatchEvaluator</a> delegate.<br>\nSo your MatchEvaluator delegate can decide what to replace every single \"Jack\" with.<br>\nFor example:</p>\n\n<pre><code>string s = \"His name is Jack. Jack likes to ride a bike\";\nint count = 0;\nstring s2 = Regex.Replace(s, \"Jack\", match =&gt; {\n    count++;\n    return count &gt; 1 ? \"Jack2\" : \"Jack1\";\n});\n</code></pre>\n\n<p>s2 is:</p>\n\n<blockquote>\n  <p>His name is Jack1. Jack2 likes to ride a bike</p>\n</blockquote>\n"}], "owner": {"reputation": 701, "user_id": 5368332, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e74ffac1fdd7212c098970a3de0c17f1?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/5368332/reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 1, "accepted_answer_id": 33792305, "answer_count": 1, "score": 0, "last_activity_date": 1447889680, "creation_date": 1447887980, "question_id": 33792232, "link": "https://stackoverflow.com/questions/33792232/how-can-i-edit-particular-word-one-by-one-in-a-text-line", "title": "How can I edit particular word one by one in a text line?", "body": "<p>Let's say I have a text:</p>\n\n<p>\"His name is Jack. Jack likes to ride a bike\"</p>\n\n<p>What method would you recommend using to edit word \"Jack\" one by one, for example, I want to make specific changes for each \"Jack\". I've tried using Remove() and Replace(), but these methods edit all \"Jack\" in the text.</p>\n"}, {"tags": ["c#", "xna"], "comments": [{"owner": {"reputation": 6266, "user_id": 5497207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e185da0f69447ef588089e15e15198?s=128&d=identicon&r=PG&f=1", "display_name": "Oguz Ozgul", "link": "https://stackoverflow.com/users/5497207/oguz-ozgul"}, "edited": false, "score": 0, "creation_date": 1447888902, "post_id": 33792230, "comment_id": 55351709, "body": "What are the values of limit and thisChunk.voxelVB.Count?"}, {"owner": {"reputation": 6266, "user_id": 5497207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e185da0f69447ef588089e15e15198?s=128&d=identicon&r=PG&f=1", "display_name": "Oguz Ozgul", "link": "https://stackoverflow.com/users/5497207/oguz-ozgul"}, "edited": false, "score": 0, "creation_date": 1447889559, "post_id": 33792230, "comment_id": 55351940, "body": "What you mean by &quot;If I replace the GetVB() call with just a new object() the memory consumption is the same&quot;. Is it the same (not changed, 260 MB of RAM is not utilized), or is it that again, it takes 260 MB of RAM?"}, {"owner": {"reputation": 23, "user_id": 5362903, "user_type": "registered", "profile_image": "https://graph.facebook.com/1904379676454090/picture?type=large", "display_name": "Nick B.", "link": "https://stackoverflow.com/users/5362903/nick-b"}, "reply_to_user": {"reputation": 6266, "user_id": 5497207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e185da0f69447ef588089e15e15198?s=128&d=identicon&r=PG&f=1", "display_name": "Oguz Ozgul", "link": "https://stackoverflow.com/users/5497207/oguz-ozgul"}, "edited": false, "score": 0, "creation_date": 1447889822, "post_id": 33792230, "comment_id": 55352038, "body": "@OguzOzgul: Yes it uses the same amount of RAM, the 260MB."}, {"owner": {"reputation": 23, "user_id": 5362903, "user_type": "registered", "profile_image": "https://graph.facebook.com/1904379676454090/picture?type=large", "display_name": "Nick B.", "link": "https://stackoverflow.com/users/5362903/nick-b"}, "reply_to_user": {"reputation": 6266, "user_id": 5497207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e185da0f69447ef588089e15e15198?s=128&d=identicon&r=PG&f=1", "display_name": "Oguz Ozgul", "link": "https://stackoverflow.com/users/5497207/oguz-ozgul"}, "edited": false, "score": 0, "creation_date": 1447890068, "post_id": 33792230, "comment_id": 55352130, "body": "limit = (int)Math.Ceiling(thisChunk.voxelVertCount / (float)VBPoolManager.VERTEX_BUFFER_SIZE);"}, {"owner": {"reputation": 23, "user_id": 5362903, "user_type": "registered", "profile_image": "https://graph.facebook.com/1904379676454090/picture?type=large", "display_name": "Nick B.", "link": "https://stackoverflow.com/users/5362903/nick-b"}, "reply_to_user": {"reputation": 6266, "user_id": 5497207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e185da0f69447ef588089e15e15198?s=128&d=identicon&r=PG&f=1", "display_name": "Oguz Ozgul", "link": "https://stackoverflow.com/users/5497207/oguz-ozgul"}, "edited": false, "score": 0, "creation_date": 1447890137, "post_id": 33792230, "comment_id": 55352155, "body": "And voxelVB.count is just the length of  voxelVB list, which stores the vertex buffers."}, {"owner": {"reputation": 6266, "user_id": 5497207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e185da0f69447ef588089e15e15198?s=128&d=identicon&r=PG&f=1", "display_name": "Oguz Ozgul", "link": "https://stackoverflow.com/users/5497207/oguz-ozgul"}, "edited": false, "score": 0, "creation_date": 1447890207, "post_id": 33792230, "comment_id": 55352178, "body": "But then your objects are not copied. It is just the pointers to your objects (each of which is 8 bytes on an 64 bit system) that you are creating in your list. Isn&#39;t it? You can actually check whether your objects are copied or not using the object.ReferenceEquals method. Create an object and put it in your pool, also store it in a static variable. Call GetVB(), and compare the static object and the result of GetVB() with the object.ReferenceEquals() method."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5362903, "user_type": "registered", "profile_image": "https://graph.facebook.com/1904379676454090/picture?type=large", "display_name": "Nick B.", "link": "https://stackoverflow.com/users/5362903/nick-b"}, "edited": false, "score": 0, "creation_date": 1447890435, "post_id": 33792686, "comment_id": 55352246, "body": "I am removing references and i do return objects, just haven&#39;t posted all the code. And I have a separate pool for each thread."}, {"owner": {"reputation": 13828, "user_id": 4588915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CTCr8.png?s=128&g=1", "display_name": "Jakub Lortz", "link": "https://stackoverflow.com/users/4588915/jakub-lortz"}, "reply_to_user": {"reputation": 23, "user_id": 5362903, "user_type": "registered", "profile_image": "https://graph.facebook.com/1904379676454090/picture?type=large", "display_name": "Nick B.", "link": "https://stackoverflow.com/users/5362903/nick-b"}, "edited": false, "score": 0, "creation_date": 1447892471, "post_id": 33792686, "comment_id": 55352982, "body": "@NickB. I see you can return objects to the pool. Are you sure you do it every time? If you don&#39;t, the pool still holds references to them. BTW is <code>PoolManagerVBObject</code> a <code>class</code> or a <code>struct</code>?"}], "tags": [], "owner": {"reputation": 13828, "user_id": 4588915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CTCr8.png?s=128&g=1", "display_name": "Jakub Lortz", "link": "https://stackoverflow.com/users/4588915/jakub-lortz"}, "is_accepted": false, "score": 0, "last_activity_date": 1447890257, "creation_date": 1447890257, "answer_id": 33792686, "question_id": 33792230, "link": "https://stackoverflow.com/questions/33792230/object-pool-seems-to-be-returning-an-object-copy-rather-than-an-object-reference/33792686#33792686", "title": "Object pool seems to be returning an object copy rather than an object reference", "body": "<p>This implementation will always leak memory. You never remove references from the pool, and you never return objects to the pool.</p>\n\n<p>A correctly implemented object pool would only hold references to available objects. When an object is retrieved from the pool, it shouldn't be referenced by it anymore. This way the objects can be garbage collected in case they are not returned to the pool. This points to another problem - you don't seem to have any way to return objects to the pool. </p>\n\n<p>Also, your pool is not thread safe.</p>\n\n<p>If you want to see how to implement an object pool correctly, you can check the <a href=\"https://github.com/dotnet/roslyn/blob/master/src/Compilers/Core/SharedCollections/ObjectPool%601.cs\" rel=\"nofollow\">Roslyn <code>ObjectPool</code></a></p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 5362903, "user_type": "registered", "profile_image": "https://graph.facebook.com/1904379676454090/picture?type=large", "display_name": "Nick B.", "link": "https://stackoverflow.com/users/5362903/nick-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1447890728, "creation_date": 1447890728, "answer_id": 33792772, "question_id": 33792230, "link": "https://stackoverflow.com/questions/33792230/object-pool-seems-to-be-returning-an-object-copy-rather-than-an-object-reference/33792772#33792772", "title": "Object pool seems to be returning an object copy rather than an object reference", "body": "<p>This is the dispose method of pool manager code :</p>\n\n<pre><code> public static void DestroyVB(PoolManagerVBObject PvbObject)\n    {\n         VBPool[--nextItemIndex] = PvbObject;\n    }\n</code></pre>\n\n<p>And this is what calls it :</p>\n\n<pre><code>private static void ClearChunkVB(Vector2 PchunkXZ)\n{\n        VBContainer thisChunk;\n        int j;\n\n        thisChunk = Landscape.chunkVB[(int)PchunkXZ.X, (int)PchunkXZ.Y];\n\n        if (thisChunk.voxelVB.Count &gt; 0)\n        {\n            for (j = 0; j &lt; thisChunk.voxelVB.Count; ++j)\n            {\n                thisChunk.voxelVB[j].VertCount = 0;\n                VBPoolManager.DestroyVB(thisChunk.voxelVB[j]);\n            }\n\n            thisChunk.voxelVB.Clear();\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5362903, "user_type": "registered", "profile_image": "https://graph.facebook.com/1904379676454090/picture?type=large", "display_name": "Nick B.", "link": "https://stackoverflow.com/users/5362903/nick-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1447890728, "creation_date": 1447887960, "question_id": 33792230, "link": "https://stackoverflow.com/questions/33792230/object-pool-seems-to-be-returning-an-object-copy-rather-than-an-object-reference", "title": "Object pool seems to be returning an object copy rather than an object reference", "body": "<p>I have written a simple object pool manager to dish out vertex buffers wrapped in a very simple class on demand. Everything works OK except that it seems the objects being returned are being copied somehow rather than referenced, as memory use goes up unexpectedly. All the objects in the pool are instantiated at runtime in a bog standard list. This is the initializer code:</p>\n\n<pre><code> public static void InitVBPoolManager()\n    {\n        int i;\n\n        // INIT POOL VB OBJECT LIST\n        VBPool = new List&lt;PoolManagerVBObject&gt;();            \n        VBPool.Capacity = POOL_CAPACITY;\n\n        // INIT POOL INDEX POINTERS\n        nextItemIndex = 0;\n\n        // FILL POOLMANAGER WITH INITIAL BATCH OF VBO\n        for (i = 0; i &lt; POOL_CAPACITY; ++i)\n        {\n            VBPool.Add(new PoolManagerVBObject(VERTEX_BUFFER_SIZE,0));\n        } \n    }\n</code></pre>\n\n<p>This is the Get Object method:</p>\n\n<pre><code> public static PoolManagerVBObject GetVB()\n    { \n        // RETURN POOL VB\n        if (nextItemIndex &lt; POOL_CAPACITY)\n        {\n            VBRecycled++;\n            return VBPool[nextItemIndex++];\n        }\n        else                \n            {\n                VBPool.Add(new PoolManagerVBObject(VERTEX_BUFFER_SIZE,0));\n                POOL_CAPACITY++;\n                VBCreated++;\n                return VBPool[nextItemIndex++];\n            }          \n    }\n</code></pre>\n\n<p>And finally the code that uses the objects:</p>\n\n<pre><code>for (j = 0; j &lt; limit; ++j)\n{\n   if (thisChunk.voxelVB.Count &lt;= j)\n   {   \n       thisChunk.voxelVB.Add(VBPoolManager.GetVB());\n   }\n</code></pre>\n\n<p>It seems like when GetVB() is called the returned object is having a copied made as ~260MB of RAM is eaten up. This obviously should not happen as the objects are already created in the PoolManager. If I replace the GetVB() call with just a new object() the memory consumption is the same, which is why I am led to believe the copy is being made. Anyone got any ideas ?     </p>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 1972, "user_id": 24824, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/410f4f4a543a2b48644e60a3337c112d?s=128&d=identicon&r=PG", "display_name": "MoreThanChaos", "link": "https://stackoverflow.com/users/24824/morethanchaos"}, "edited": false, "score": 0, "creation_date": 1447889265, "post_id": 33792200, "comment_id": 55351824, "body": "What is purpose of this code, do you need regex to be passed or you need regex to process command line parameters?"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 2936644, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cade904587771bf764dd775c4dbfa19d?s=128&d=identicon&r=PG&f=1", "display_name": "user2936644", "link": "https://stackoverflow.com/users/2936644/user2936644"}, "edited": false, "score": 0, "creation_date": 1447893571, "post_id": 33792853, "comment_id": 55353352, "body": "I&#39;m running a service that analyzes triage output files and uses regular expressions to find key elements given to us by our users for what output they are looking for in the triage text.  We are getting the regular expression from a database that comes in a string format - there is no GUI involved.  Basically, looking for a way to run <code>Regex.IsMatch(regex,input,RegexOptions.Multiline || RegexOptions.IgnoreCase)</code> if regex string ends in <code>&#47;mi</code> or having <code>Regex.IsMatch(regex,input,RegexOptions.Multiline)</code> when having <code>&#47;m</code> without just having a big <code>if-else</code> statement for each combination."}, {"owner": {"reputation": 1972, "user_id": 24824, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/410f4f4a543a2b48644e60a3337c112d?s=128&d=identicon&r=PG", "display_name": "MoreThanChaos", "link": "https://stackoverflow.com/users/24824/morethanchaos"}, "reply_to_user": {"reputation": 29, "user_id": 2936644, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cade904587771bf764dd775c4dbfa19d?s=128&d=identicon&r=PG&f=1", "display_name": "user2936644", "link": "https://stackoverflow.com/users/2936644/user2936644"}, "edited": false, "score": 0, "creation_date": 1447899706, "post_id": 33792853, "comment_id": 55355063, "body": "@user2936644 see my edits, also just now i noticed you used || for multiple options instead of | and it might causing your problems too"}], "tags": [], "owner": {"reputation": 1972, "user_id": 24824, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/410f4f4a543a2b48644e60a3337c112d?s=128&d=identicon&r=PG", "display_name": "MoreThanChaos", "link": "https://stackoverflow.com/users/24824/morethanchaos"}, "is_accepted": true, "score": 0, "last_activity_date": 1447899634, "last_edit_date": 1447899634, "creation_date": 1447891121, "answer_id": 33792853, "question_id": 33792200, "link": "https://stackoverflow.com/questions/33792200/regular-expression-in-c-parsing-regexoptions/33792853#33792853", "title": "Regular expression in C# parsing RegexOptions", "body": "<p>Your question is quite unclear, so i will only answer to part of it, you seem to misuse regex at all, i advice you to once again review what you want to achieve and read more on regex.</p>\n\n<p>As for part that I'm quite sure: Did you thought about passing parameters of regex not inside regex but, for example, by <strong>checkboxes</strong>. Of course if placing of parameter is of no matter - I really don't know what you want to achieve. If each parameter can be used at most once then for sure <strong>if statement</strong> in middle of code which you've posted is not good, to include mixed set of options it should look like this </p>\n\n<p><strong>EDIT</strong> <em>(options in particular conditions doesn't correspond to actual regex options associated with these letters, they are random just to serve as example)</em></p>\n\n<pre><code>            string flags = \"/x/i/m\";\n\n            RegexOptions regExOpts = RegexOptions.None;\n\n            if (flags.Contains('x')) {\n                regExOpts |= RegexOptions.Multiline;\n            }\n\n            if (flags.Contains('i')) {\n                regExOpts |= RegexOptions.IgnoreCase;\n            }\n\n            if (flags.Contains('s')) {\n                regExOpts |= RegexOptions.Singleline;\n            }\n\n            if (flags.Contains('m')) {\n                 regExOpts |= RegexOptions.ExplicitCapture;\n            }\n\n            MessageBox.Show(regExOpts.ToString());\n</code></pre>\n\n<p><strong><em>EDIT</em></strong>\nAfter seeing your comment your problem is more clear, but still there is some stuff that I am not sure. Anyway I've made some changes to code and it is probably what you've been looking for, Its late here I'm in bit of hurry so see the notice above code. Hope it will solve your problems</p>\n"}], "owner": {"reputation": 29, "user_id": 2936644, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cade904587771bf764dd775c4dbfa19d?s=128&d=identicon&r=PG&f=1", "display_name": "user2936644", "link": "https://stackoverflow.com/users/2936644/user2936644"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 33792853, "answer_count": 1, "score": 0, "last_activity_date": 1447899634, "creation_date": 1447887839, "last_edit_date": 1447888963, "question_id": 33792200, "link": "https://stackoverflow.com/questions/33792200/regular-expression-in-c-parsing-regexoptions", "title": "Regular expression in C# parsing RegexOptions", "body": "<p>I've got a function that compares user-supplied regular expressions to strings and they have the ability to include flags in them, but only in the regular expression string.  That string could look something like\n<code>(?!.*(alpha|beta|chi)).*standard.*/s</code> and needs to take out the <code>/s</code>.  I understand that I can pass though multiple RegexOptions with <code>||</code> but is there some object I can create to pass through any of the flags that are found?  I don't know if they will be sending in one flag or multiple and it could be any combination. </p>\n\n<pre><code>String flags = \"\";\nif(Regex.IsMatch(regex, \"/x*s*m*i*\")){\n    flags = Regex.Match(regex, \"/x*s*m*i*\").ToString();\n    Regex.Replace(regex, \"/x*s*m*i*\", \"\");\n}\nif (flags.Contains('x')) {\n    #add to some array/list of RegexOptions to pass as parameter\n} else if (flags.Contains('i')) {\n    #add to some array/list of RegexOptions to pass as parameter\n} else if ((flags.Contains('s'))) {\n    #add to some array/list of RegexOptions to pass as parameter\n} else if (flags.Contains('m')) {\n    #add to some array/list of RegexOptions to pass as parameter\n}\nif (Regex.IsMatch(source_box.Text, regex, /*Array/list of any number of RegexOptions*/))\n{\n    //Match found\n}\n</code></pre>\n"}, {"tags": ["c#", "xaml", "timer", "uwp", "stopwatch"], "comments": [{"owner": {"reputation": 235, "user_id": 5463612, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/8db406cc56455a6b5032a8d32701c525?s=128&d=identicon&r=PG&f=1", "display_name": "robbiestells", "link": "https://stackoverflow.com/users/5463612/robbiestells"}, "reply_to_user": {"reputation": 9608, "user_id": 318501, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6d6325cdea3fc36f7493916e04467dbd?s=128&d=identicon&r=PG", "display_name": "Bart", "link": "https://stackoverflow.com/users/318501/bart"}, "edited": false, "score": 0, "creation_date": 1447888285, "post_id": 33792199, "comment_id": 55351482, "body": "I had it at 60 but it would go a second early"}], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 5463612, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/8db406cc56455a6b5032a8d32701c525?s=128&d=identicon&r=PG&f=1", "display_name": "robbiestells", "link": "https://stackoverflow.com/users/5463612/robbiestells"}, "edited": false, "score": 0, "creation_date": 1447891290, "post_id": 33792666, "comment_id": 55352544, "body": "Yes!!! You are the best! Thanks so much! Works as expected now. Any idea why this made a difference?"}, {"owner": {"reputation": 2861, "user_id": 1175935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42b57b079954c18fdde646962bbd6107?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1175935/jon"}, "reply_to_user": {"reputation": 235, "user_id": 5463612, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/8db406cc56455a6b5032a8d32701c525?s=128&d=identicon&r=PG&f=1", "display_name": "robbiestells", "link": "https://stackoverflow.com/users/5463612/robbiestells"}, "edited": false, "score": 0, "creation_date": 1447895007, "post_id": 33792666, "comment_id": 55353765, "body": "Hard to say what the problem was, but this timer is not 100% accurate and also your code is not thread safe."}, {"owner": {"reputation": 235, "user_id": 5463612, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/8db406cc56455a6b5032a8d32701c525?s=128&d=identicon&r=PG&f=1", "display_name": "robbiestells", "link": "https://stackoverflow.com/users/5463612/robbiestells"}, "edited": false, "score": 0, "creation_date": 1447934481, "post_id": 33792666, "comment_id": 55372084, "body": "thanks again! Is there a better way to implement this?"}, {"owner": {"reputation": 2861, "user_id": 1175935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42b57b079954c18fdde646962bbd6107?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1175935/jon"}, "reply_to_user": {"reputation": 235, "user_id": 5463612, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/8db406cc56455a6b5032a8d32701c525?s=128&d=identicon&r=PG&f=1", "display_name": "robbiestells", "link": "https://stackoverflow.com/users/5463612/robbiestells"}, "edited": false, "score": 0, "creation_date": 1447971823, "post_id": 33792666, "comment_id": 55396657, "body": "If you want more accuracy, you could read the System.Environment.TickCount value in each callback, and calculate the elapsed seconds from that."}], "tags": [], "owner": {"reputation": 2861, "user_id": 1175935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42b57b079954c18fdde646962bbd6107?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1175935/jon"}, "is_accepted": true, "score": 0, "last_activity_date": 1447890524, "last_edit_date": 1447890524, "creation_date": 1447890159, "answer_id": 33792666, "question_id": 33792199, "link": "https://stackoverflow.com/questions/33792199/xaml-c-uwp-stopwatch-delay/33792666#33792666", "title": "Xaml C#, UWP Stopwatch delay", "body": "<p>You could eliminate the complexity and just continually count the seconds and then set the TextBlocks like this:</p>\n\n<pre><code>HoursTextBlock.Text = (secondscount / 3600).ToString();\nMinutesTextBlock.Text = (secondscount % 3600) / 60).ToString();\nSecondsTextBlock.Text = (secondscount % 60).ToString();\n</code></pre>\n\n<p>Or something similar. Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5585730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe4a20cdb7e4026803708c04bd1ad66c?s=128&d=identicon&r=PG&f=1", "display_name": "Janekdererste", "link": "https://stackoverflow.com/users/5585730/janekdererste"}, "is_accepted": false, "score": 1, "last_activity_date": 1448025508, "creation_date": 1448025508, "answer_id": 33827719, "question_id": 33792199, "link": "https://stackoverflow.com/questions/33792199/xaml-c-uwp-stopwatch-delay/33827719#33827719", "title": "Xaml C#, UWP Stopwatch delay", "body": "<p>You could also use the StopWatch class. </p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.diagnostics.stopwatch%28v=vs.110%29.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/system.diagnostics.stopwatch%28v=vs.110%29.aspx</a></p>\n\n<pre><code>var stopWatch = new StopWatch();\nstopWatch.Start();\n</code></pre>\n\n<p>It'll give you the elapsed time like this</p>\n\n<pre><code>HoursTextBlock.Text = stopWatch.Elapsed.Hours.ToString();\nMinutesTextBlock.Text = stopWatch.Elapsed.Minutes.ToString();\nSecondsTextBlock.Text = stopWatch.Elapsed.Seconds.ToString();\n</code></pre>\n"}], "owner": {"reputation": 235, "user_id": 5463612, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/8db406cc56455a6b5032a8d32701c525?s=128&d=identicon&r=PG&f=1", "display_name": "robbiestells", "link": "https://stackoverflow.com/users/5463612/robbiestells"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1944, "favorite_count": 0, "accepted_answer_id": 33792666, "answer_count": 2, "score": 1, "last_activity_date": 1448025508, "creation_date": 1447887829, "question_id": 33792199, "link": "https://stackoverflow.com/questions/33792199/xaml-c-uwp-stopwatch-delay", "title": "Xaml C#, UWP Stopwatch delay", "body": "<p>I'm trying to make a stopwatch feature for a Windows 10 Universal app. Using DispatcherTimer I've been able to get a working stopwatch in that the seconds will count up to 60, trigger the minute to add 1, and reset to zero. The seconds will continue counting up, but there's a 1 second delay when it resets back to zero. Basically when it hits 60, the seconds resets to 0, it stays on 0 for the next second, and then goes up to 1 the following second. Any ideas what might be causing this? Thanks so much!</p>\n\n<pre><code>public sealed partial class MainPage : Page\n{\n    DispatcherTimer secondstimer = new DispatcherTimer();\n    int secondscount = 0;\n\n    int minutescount = 0;\n    int hourscount = 0;\n\n    public MainPage()\n    {\n\n        this.InitializeComponent();\n\n        secondstimer.Interval = new TimeSpan(0, 0, 1);\n        secondstimer.Tick += Secondstimer_Tick;\n\n        SecondsTextBlock.Text = \"00\";\n        MinutesTextBlock.Text = \"00\";\n        HoursTextBlock.Text = \"00\";\n    }\n\n    private void Secondstimer_Tick(object sender, object e)\n    {\n        SecondsTextBlock.Text = secondscount++.ToString();\n\n        if (secondscount == 61)\n        {\n            minutescount++;\n            secondscount = 0;\n\n            MinutesTextBlock.Text = minutescount.ToString();\n            SecondsTextBlock.Text = secondscount.ToString();\n\n        }\n        if (minutescount == 61)\n        {\n            hourscount++;\n            minutescount = 0;\n            MinutesTextBlock.Text = minutescount.ToString();\n            HoursTextBlock.Text = hourscount.ToString();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "arrays", "unit-testing", "visual-studio-2013"], "answers": [{"tags": [], "owner": {"reputation": 4225, "user_id": 314547, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4nbmP.png?s=128&g=1", "display_name": "doobop", "link": "https://stackoverflow.com/users/314547/doobop"}, "is_accepted": true, "score": 0, "last_activity_date": 1447888573, "creation_date": 1447888573, "answer_id": 33792369, "question_id": 33792089, "link": "https://stackoverflow.com/questions/33792089/what-is-the-correct-syntax-to-test-an-array-using-collectionassert-in-vs-2013/33792369#33792369", "title": "What is the correct syntax to test an array using CollectionAssert in VS 2013?", "body": "<p>As Grant asked, what are you trying to test?\nJust testing simple values, this works as expected</p>\n\n<pre><code>    [TestMethod]\n    public void CheckFloats()\n    {\n        float[] array1 = new float[] { 1.0f, 2.0f, 3.0f };\n        float[] array2 = new float[] { 4.0f, 5.0f, 6.0f };\n\n        CollectionAssert.AreEqual(array1, GenerateFloats());\n    }\n\n    private float[] GenerateFloats()\n    {\n        return new float[] { 1.0f, 2.0f, 3.0f };\n    }\n</code></pre>\n\n<p>It passes as written.  It fails if swap <em>array2</em> for <em>array1</em> in the AreEqual call.</p>\n"}], "owner": {"reputation": 3, "user_id": 5244445, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NnyCUZVihSk/AAAAAAAAAAI/AAAAAAAAM9g/fKIKgOhJzK0/photo.jpg?sz=128", "display_name": "Kim", "link": "https://stackoverflow.com/users/5244445/kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 33792369, "answer_count": 1, "score": 0, "last_activity_date": 1447972001, "creation_date": 1447887402, "last_edit_date": 1447972001, "question_id": 33792089, "link": "https://stackoverflow.com/questions/33792089/what-is-the-correct-syntax-to-test-an-array-using-collectionassert-in-vs-2013", "title": "What is the correct syntax to test an array using CollectionAssert in VS 2013?", "body": "<p>Just learning how to conduct unit tests in c# using Visual Studio 2013. I have created a test which assigns specific floating numbers to an array but not sure how to test. I am attempting to use the <code>CollectionAssert</code> class but cannot get the syntax right.</p>\n\n<p>Code snippet:</p>\n\n<pre><code>[TestMethod]\npublic void ArrayTest()\n{\n        float[] grades;\n        grades = new float[2];\n\n        grades[0] = 91f;\n        grades[1] = 89.1f;\n\n        foreach (float grade in grades)\n            Console.WriteLine(grade);\n}\n</code></pre>\n\n<p>I just want to test whether or not the grades will be printed to console.</p>\n"}, {"tags": ["c#", "asp.net", "webforms"], "comments": [{"owner": {"reputation": 8349, "user_id": 1588897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gzUvv.jpg?s=128&g=1", "display_name": "DinoMyte", "link": "https://stackoverflow.com/users/1588897/dinomyte"}, "edited": false, "score": 0, "creation_date": 1447889296, "post_id": 33792023, "comment_id": 55351836, "body": "How are you populating module_choice checkboxlist ?"}, {"owner": {"reputation": 1295, "user_id": 3113377, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/74d1e80d392b85f3196d487adc38e285?s=128&d=identicon&r=PG&f=1", "display_name": "mcclosa", "link": "https://stackoverflow.com/users/3113377/mcclosa"}, "reply_to_user": {"reputation": 8349, "user_id": 1588897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gzUvv.jpg?s=128&g=1", "display_name": "DinoMyte", "link": "https://stackoverflow.com/users/1588897/dinomyte"}, "edited": false, "score": 0, "creation_date": 1447889973, "post_id": 33792023, "comment_id": 55352096, "body": "@DinoMyte I have updated my question with the datasource I use to populate the <code>module_choice</code> checkboxlist."}, {"owner": {"reputation": 8349, "user_id": 1588897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gzUvv.jpg?s=128&g=1", "display_name": "DinoMyte", "link": "https://stackoverflow.com/users/1588897/dinomyte"}, "edited": false, "score": 0, "creation_date": 1447890798, "post_id": 33792023, "comment_id": 55352376, "body": "Thanks. What is module_id in the context ?"}, {"owner": {"reputation": 1295, "user_id": 3113377, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/74d1e80d392b85f3196d487adc38e285?s=128&d=identicon&r=PG&f=1", "display_name": "mcclosa", "link": "https://stackoverflow.com/users/3113377/mcclosa"}, "reply_to_user": {"reputation": 8349, "user_id": 1588897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gzUvv.jpg?s=128&g=1", "display_name": "DinoMyte", "link": "https://stackoverflow.com/users/1588897/dinomyte"}, "edited": false, "score": 0, "creation_date": 1447891517, "post_id": 33792023, "comment_id": 55352625, "body": "@DinoMyte As in the value? There will be multiple selections so there will be multiple values, they are all 4 digit ints starting at 2000 and auto increment with each insert. Or do you mean what the module_id is used for? As it is the unique primary key in the <code>modules</code> table and is also used to link other tables through lookup tables, an example being <code>students_vs_modules</code> where it links a student to a module. I hope this helps."}], "answers": [{"tags": [], "owner": {"reputation": 4215, "user_id": 1342846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d930032a4518cc840cbffab3fea684ff?s=128&d=identicon&r=PG", "display_name": "Prashanth Thurairatnam", "link": "https://stackoverflow.com/users/1342846/prashanth-thurairatnam"}, "is_accepted": false, "score": 0, "last_activity_date": 1447891931, "creation_date": 1447891931, "answer_id": 33793018, "question_id": 33792023, "link": "https://stackoverflow.com/questions/33792023/method-of-passing-two-values-in-checkboxlist-selections/33793018#33793018", "title": "Method of Passing Two values in CheckBoxList selections", "body": "<p>If I understood your question correctly you want to store <code>module_id</code> &amp; <code>cat_points</code> for each listed <code>module_name</code> in the CheckBoxList &amp; on selection of check boxes you want to get hold of the selected <code>module_id</code> &amp; <code>cat_points</code>.</p>\n\n<p>Out of the box <code>CheckBoxList</code> has a <code>DataTextField</code> and <code>DataValueField</code> (to represent the text to show and the corresponding value). You could extend the <code>CheckBoxList</code> control to hold an additional value. </p>\n\n<p>However the easiest option would be to return the concatenated value with a delimiter from the data source and use this as the <code>DataValueField</code>. Now when you are processing you can split the selected value and get hold of the separate values (under <code>sem_1_cat_Click</code> event)</p>\n\n<p>In your case <code>cats_points</code> &amp; <code>module_id</code> can be combined into a single field called <code>mod_id_catpoints</code> (which could be for example like <code>23**345</code> where <code>**</code> is the delimiter)</p>\n\n<p>In this case <code>mod_id_catpoints</code> will be your <code>DataValueField</code></p>\n\n<p>Under <code>sem_1_cat_Click event</code> you would split <code>23**345</code> into <code>23</code> and <code>345</code> where <code>23</code> would be the <code>module_id</code> and <code>245</code> would be the <code>cat_points</code></p>\n"}], "owner": {"reputation": 1295, "user_id": 3113377, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/74d1e80d392b85f3196d487adc38e285?s=128&d=identicon&r=PG&f=1", "display_name": "mcclosa", "link": "https://stackoverflow.com/users/3113377/mcclosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 364, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447891931, "creation_date": 1447887162, "last_edit_date": 1447889902, "question_id": 33792023, "link": "https://stackoverflow.com/questions/33792023/method-of-passing-two-values-in-checkboxlist-selections", "title": "Method of Passing Two values in CheckBoxList selections", "body": "<p>I have an enrolment wizard on a student portal where students choose their modules each academic year. They have a choice of modules and each module carries a number of points and students are restricted to a certain number of points depending on their course. I have the asp.net code below that has a <code>CheckBoxList</code> <code>module_choice</code> of all available modules for that academic year.</p>\n\n<pre><code>&lt;asp:View ID=\"semester_1_view\" runat=\"server\"&gt;\n\n    &lt;p&gt;CATS points Required:&lt;/p&gt;\n    &lt;asp:DropDownList ID=\"cat_points_total\" runat=\"server\" DataSourceID=\"semester\" \n        DataTextField=\"cats_points_total\" DataValueField=\"cats_points_total\" \n        Visible=\"true\"&gt;&lt;/asp:DropDownList&gt;\n\n    &lt;asp:CheckBoxList ID=\"module_choice\" runat=\"server\" DataSourceID=\"semester\" \n        DataTextField=\"module_name\" DataValueField=\"cats_points\"&gt;&lt;/asp:CheckBoxList&gt;\n    &lt;asp:Label ID=\"sem_1_fb\" runat=\"server\" Text=\"\"&gt;&lt;/asp:Label&gt;\n    &lt;asp:Button ID=\"sem_1_cat\" runat=\"server\" Text=\"Test\" OnClick=\"sem_1_cat_Click\" /&gt;\n    &lt;asp:Button CommandName=\"NextView\" ID=\"btnnext2\" runat=\"server\" Text=\"Next\" \n        OnClick=\"btnnext2_Click\" /&gt;\n    &lt;asp:Button ID=\"Button1\" runat=\"server\" CommandName=\"PrevView\" Text=\"Previous\" \n        CssClass=\"submitbtn\" /&gt;\n&lt;/asp:View&gt;\n</code></pre>\n\n<p>At the moment this only passes the <code>cats_points</code> I also want some method to pass the <code>module_id</code> of the selected items.</p>\n\n<p>I then have the following C# that calculates the total of cats points selected and provides feedback whether the total selected equals the total required or not.</p>\n\n<pre><code>protected void sem_1_cat_Click(object sender, EventArgs e)\n    {\n        int catselected = 0;\n\n        for (int i = 0; i &lt; module_choice.Items.Count; i++)\n        {\n            if (module_choice.Items[i].Selected)\n            {\n                string value = module_choice.Items[i].Value;\n                catselected += int.Parse(value);\n            }\n        }\n        int cattotal = int.Parse(cat_points_total.SelectedValue);\n        int catcalc = cattotal - catselected;\n        int zero = 0;\n\n        if (catcalc != zero)\n        {\n            sem_1_fb.Visible = true;\n            sem_1_fb.Text = \"&lt;b&gt; Not Enough Points&lt;/b&gt; cattotal =\" + cattotal + \" catselected =\" + catselected + \" catcalc =\" + catcalc +\".\";\n        }\n\n        else\n        {\n            sem_1_fb.Visible = true;\n            sem_1_fb.Text = \"&lt;b&gt;Point Criteria Met&lt;/b&gt; cattotal =\" + cattotal + \" catselected =\" + catselected + \" catcalc =\" + catcalc +\".\";\n        }\n    }\n</code></pre>\n\n<p>I want to be able to run a check that the total is correct and if it is insert the selected <code>module_id</code> from each selection into a database with something similar to this but obviously at the moment I do not have the <code>module_id</code> information to do so only the <code>cats_points</code>;</p>\n\n<pre><code>int count = module_choice.Items.Count;\n\n        for (int i = 0; i &lt; count; i++)\n        {\n            if (moduleselect.Items[i].Selected)\n            {\n                string value = module_choice.Items[i].Value;\n\n                String query = \"INSERT INTO students_vs_modules (user_id, module_id) \n                VALUES (@user_id, @module_id)\";\n\n                SqlCommand myCommand = new SqlCommand(query, myConnection);\n                myCommand.Parameters.AddWithValue(\"@user_id\", user);\n                myCommand.Parameters.AddWithValue(\"@module_id\", value);\n\n                myCommand.ExecuteNonQuery();\n            }\n        }\n</code></pre>\n\n<p>Any help would be greatly appreciated as I am fairly new to C#</p>\n\n<h1>EDIT</h1>\n\n<p>This is the datasource I use to populate the <code>module_choice</code> CheckBoxList</p>\n\n<pre><code>&lt;asp:SqlDataSource ID=\"semester\" runat=\"server\"\nConnectionString=\"&lt;%$ ConnectionStrings:ConnectionString %&gt;\"\nSelectCommand=\"SELECT modules.module_id, modules.module_name, modules.module_tutor, \n    staff_records.f_name, staff_records.l_name, modules.compulsory, modules.year, \n    modules.cats_points, modules.description, courses.course_name, \n    student_records.user_id, courses.cats_points_total \n    FROM modules \n    INNER JOIN courses_vs_modules ON modules.module_id = courses_vs_modules.module_id \n    INNER JOIN staff_records ON modules.module_tutor = staff_records.user_id \n    INNER JOIN courses ON courses_vs_modules.course_id = courses.course_id \n    INNER JOIN student_records ON courses.course_id = student_records.course_id \n    WHERE (student_records.user_id = @user_id)\"\nInsertCommand=\"INSERT INTO [students_vs_modules]([user_id], [module_id]) \n    VALUES (@user_id, @module_id)\"&gt;\n&lt;InsertParameters&gt;\n    &lt;asp:Parameter Name=\"user_id\" Type=\"Int32\" /&gt;\n    &lt;asp:Parameter Name=\"module_id\" Type=\"Int32\" /&gt;\n&lt;/InsertParameters&gt;\n&lt;SelectParameters&gt;\n    &lt;asp:QueryStringParameter QueryStringField=\"user_id\" Name=\"user_id\" Type=\"Int32\"&gt;&lt;/asp:QueryStringParameter&gt;\n&lt;/SelectParameters&gt;\n&lt;/asp:SqlDataSource&gt;\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 184, "user_id": 5391413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6621ed61929450bd2ca527dca370901b?s=128&d=identicon&r=PG&f=1", "display_name": "seagulledge", "link": "https://stackoverflow.com/users/5391413/seagulledge"}, "edited": false, "score": 2, "creation_date": 1496960366, "post_id": 33792020, "comment_id": 75890371, "body": "A work-around would be to use a SQL View to filter out the soft-deleted records.  Then use the View as your database-first model."}], "answers": [{"tags": [], "owner": {"reputation": 408, "user_id": 3488758, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/ACHpv.jpg?s=128&g=1", "display_name": "Shahzad Khan", "link": "https://stackoverflow.com/users/3488758/shahzad-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1559112349, "creation_date": 1559112349, "answer_id": 56354541, "question_id": 33792020, "link": "https://stackoverflow.com/questions/33792020/how-to-use-dbmodelbuilder-with-database-first-approach-to-implement-soft-delete/56354541#56354541", "title": "How to use DbModelBuilder with Database First Approach to implement Soft Delete", "body": "<pre><code>public class MyContext : DbContext\n{\n    public virtual IDbSet&lt;Company&gt; Companies { get; set; }\n\n    protected override void OnModelCreating(DbModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity&lt;Company&gt;()\n            .Map(m =&gt; m.Requires(\"IsDeleted\").HasValue(false))\n            .Ignore(m =&gt; m.IsDeleted);\n\n        base.OnModelCreating(modelBuilder);\n    }\n}\n</code></pre>\n\n<p>You need to write the base.OnModelCreating(modelBuilder); build you query &amp; i have also highlighted line in the post.</p>\n"}], "owner": {"reputation": 111, "user_id": 1880727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oLkJZ.jpg?s=128&g=1", "display_name": "rd53hu", "link": "https://stackoverflow.com/users/1880727/rd53hu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1088, "favorite_count": 2, "answer_count": 1, "score": 11, "last_activity_date": 1559112349, "creation_date": 1447887150, "question_id": 33792020, "link": "https://stackoverflow.com/questions/33792020/how-to-use-dbmodelbuilder-with-database-first-approach-to-implement-soft-delete", "title": "How to use DbModelBuilder with Database First Approach to implement Soft Delete", "body": "<p>I'm trying to implement a soft delete in our EF 6 project. We are using the database first approach and I noticed that you cannot override <code>OnModelCreating</code>.</p>\n\n<p>When using the Code-First approach it's possible to apply a global filter for a particular entity as described in this <a href=\"https://putshello.wordpress.com/2014/08/20/entity-framework-soft-deletes-are-easy/#gist14000410\" rel=\"noreferrer\">blog post</a>.</p>\n\n<p>How can I recreate this using the Database First approach?</p>\n\n<pre><code>public class MyContext : DbContext\n{\n    public virtual IDbSet&lt;Company&gt; Companies { get; set; }\n\n    protected override void OnModelCreating(DbModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity&lt;Company&gt;()\n            .Map(m =&gt; m.Requires(\"IsDeleted\").HasValue(false))\n            .Ignore(m =&gt; m.IsDeleted);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "char", "int", "type-conversion"], "comments": [{"owner": {"reputation": 95848, "user_id": 298053, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4ba6db482e54ae5cbb940e6708c23859?s=128&d=identicon&r=PG", "display_name": "Brad Christie", "link": "https://stackoverflow.com/users/298053/brad-christie"}, "edited": false, "score": 0, "creation_date": 1447887092, "post_id": 33791965, "comment_id": 55350993, "body": "So, you want the character equivalent of 3=&gt;&#39;3&#39;, 5=&gt;&#39;5&#39;, etc (not the decimal equivalent, e.g. 3=&gt;51, 5=&gt;53, etc.)"}], "answers": [{"comments": [{"owner": {"reputation": 95848, "user_id": 298053, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4ba6db482e54ae5cbb940e6708c23859?s=128&d=identicon&r=PG", "display_name": "Brad Christie", "link": "https://stackoverflow.com/users/298053/brad-christie"}, "edited": false, "score": 0, "creation_date": 1447887147, "post_id": 33791991, "comment_id": 55351006, "body": "Indeed, offset the incoming integer with the &quot;starting point&quot; of the numerics; though this doesn&#39;t avoid edge cases."}, {"owner": {"reputation": 51, "user_id": 5578791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/484d83ad72ddbf2c9257ae766eb29af4?s=128&d=identicon&r=PG&f=1", "display_name": "Mister R.U.B.I", "link": "https://stackoverflow.com/users/5578791/mister-r-u-b-i"}, "edited": false, "score": 0, "creation_date": 1447887176, "post_id": 33791991, "comment_id": 55351019, "body": "Where <code>3</code> equals to my int, right?"}, {"owner": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "reply_to_user": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "edited": false, "score": 0, "creation_date": 1447887186, "post_id": 33791991, "comment_id": 55351026, "body": "@Stefan: Because <code>System.Convert.ToInt32</code> doesn&#39;t solve the problem, and doesn&#39;t even produce a <code>char</code>."}, {"owner": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "reply_to_user": {"reputation": 51, "user_id": 5578791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/484d83ad72ddbf2c9257ae766eb29af4?s=128&d=identicon&r=PG&f=1", "display_name": "Mister R.U.B.I", "link": "https://stackoverflow.com/users/5578791/mister-r-u-b-i"}, "edited": false, "score": 0, "creation_date": 1447887194, "post_id": 33791991, "comment_id": 55351031, "body": "@MisterR.U.B.I: yes."}, {"owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "edited": false, "score": 0, "creation_date": 1447887322, "post_id": 33791991, "comment_id": 55351077, "body": "Keep in mind that this won&#39;t work for int&#39;s above 9."}, {"owner": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "reply_to_user": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "edited": false, "score": 0, "creation_date": 1447887363, "post_id": 33791991, "comment_id": 55351097, "body": "@Stefan: Naturally.  Nothing works for integers above 9, since there is no single character base-10 representation of those numbers."}, {"owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "edited": false, "score": 0, "creation_date": 1447887538, "post_id": 33791991, "comment_id": 55351181, "body": "Could be converted to char array or even string though. While i&#39;m at it: <code>3.ToString().ToCharArray()[0]</code>"}, {"owner": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "reply_to_user": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "edited": false, "score": 2, "creation_date": 1447887590, "post_id": 33791991, "comment_id": 55351196, "body": "@Stefan:  I see what you mean.  BTW, you can cut out the array.  <code>3.ToString()[0]</code>"}, {"owner": {"reputation": 51, "user_id": 5578791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/484d83ad72ddbf2c9257ae766eb29af4?s=128&d=identicon&r=PG&f=1", "display_name": "Mister R.U.B.I", "link": "https://stackoverflow.com/users/5578791/mister-r-u-b-i"}, "edited": false, "score": 0, "creation_date": 1447887776, "post_id": 33791991, "comment_id": 55351276, "body": "It does work, but for some reason not in my code. I need to fix it. Thanks."}, {"owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "edited": false, "score": 0, "creation_date": 1447887780, "post_id": 33791991, "comment_id": 55351282, "body": "oww nice, again! :-)"}], "tags": [], "owner": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "is_accepted": true, "score": 8, "last_activity_date": 1447887044, "creation_date": 1447887044, "answer_id": 33791991, "question_id": 33791965, "link": "https://stackoverflow.com/questions/33791965/how-to-convert-a-int-to-a-numeric-char-in-c/33791991#33791991", "title": "How to convert a int to a numeric char in C#?", "body": "<p>I think this is the easiest, most readable way:</p>\n\n<pre><code>(char)('0' + 3)\n</code></pre>\n\n<p>If you want to be more culture aware, you can use this.</p>\n\n<pre><code>CultureInfo.CurrentCulture.NumberFormat.NativeDigits[3]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 98, "user_id": 5195303, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/787281521387784/picture?type=large", "display_name": "zafar hayat", "link": "https://stackoverflow.com/users/5195303/zafar-hayat"}, "is_accepted": false, "score": 1, "last_activity_date": 1447887171, "creation_date": 1447887171, "answer_id": 33792028, "question_id": 33791965, "link": "https://stackoverflow.com/questions/33791965/how-to-convert-a-int-to-a-numeric-char-in-c/33792028#33792028", "title": "How to convert a int to a numeric char in C#?", "body": "<pre><code>(char)('0' + IntegerValue)\n</code></pre>\n\n<p>Note: you use 3 so your integer value is 3 you can write 3 instead of integer value</p>\n"}, {"tags": [], "owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "is_accepted": false, "score": 0, "last_activity_date": 1447939844, "last_edit_date": 1447939844, "creation_date": 1447888534, "answer_id": 33792363, "question_id": 33791965, "link": "https://stackoverflow.com/questions/33791965/how-to-convert-a-int-to-a-numeric-char-in-c/33792363#33792363", "title": "How to convert a int to a numeric char in C#?", "body": "<p>Just as an alternative, from earlier comments (with special thanks to @recursive):</p>\n\n<pre><code>int yourInt = 3; //can be double or decimal as well\nchar val = yourInt.ToString()[0];\n</code></pre>\n\n<p>Although it takes the first digit, it will work for other numeric types as well (double, decimal, ...).</p>\n"}], "owner": {"reputation": 51, "user_id": 5578791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/484d83ad72ddbf2c9257ae766eb29af4?s=128&d=identicon&r=PG&f=1", "display_name": "Mister R.U.B.I", "link": "https://stackoverflow.com/users/5578791/mister-r-u-b-i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "closed_date": 1447915467, "accepted_answer_id": 33791991, "answer_count": 3, "score": 3, "last_activity_date": 1447939844, "creation_date": 1447886926, "last_edit_date": 1447887067, "question_id": 33791965, "link": "https://stackoverflow.com/questions/33791965/how-to-convert-a-int-to-a-numeric-char-in-c", "closed_reason": "Duplicate", "title": "How to convert a int to a numeric char in C#?", "body": "<p>I wan't to convert a int to a char, but I don't want the <code>(char)int</code> method, because <code>(char)3</code> won't give <code>'3'</code> but <code>'\ue003'</code>. </p>\n\n<p>So, there's a built-in way to get what I want, or I need to make it myself?</p>\n"}, {"tags": ["c#", "reflection", "delegates"], "answers": [{"comments": [{"owner": {"reputation": 2264, "user_id": 5132509, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/453dee1b3bacfbb401b476efdda71a34?s=128&d=identicon&r=PG&f=1", "display_name": "Regis May", "link": "https://stackoverflow.com/users/5132509/regis-may"}, "edited": false, "score": 0, "creation_date": 1447889715, "post_id": 33791998, "comment_id": 55351990, "body": "That&#39;s exactly what I wanted to know. Is there no better way than to do it like this? There are dozens of convenience methods for everything, for methods, for constructors, for properties, for fields and everything. But not for delegates? Seems like that - and you might think of it different, but I find it a bit strange. But anyway: Thank you for your reply."}, {"owner": {"reputation": 3477, "user_id": 4035472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbc92ffb817c9fec91d1f6c7618c5c66?s=128&d=identicon&r=PG&f=1", "display_name": "thehennyy", "link": "https://stackoverflow.com/users/4035472/thehennyy"}, "reply_to_user": {"reputation": 2264, "user_id": 5132509, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/453dee1b3bacfbb401b476efdda71a34?s=128&d=identicon&r=PG&f=1", "display_name": "Regis May", "link": "https://stackoverflow.com/users/5132509/regis-may"}, "edited": false, "score": 0, "creation_date": 1447891002, "post_id": 33791998, "comment_id": 55352444, "body": "I think delegates are just normal types in terms of metadata."}], "tags": [], "owner": {"reputation": 3477, "user_id": 4035472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbc92ffb817c9fec91d1f6c7618c5c66?s=128&d=identicon&r=PG&f=1", "display_name": "thehennyy", "link": "https://stackoverflow.com/users/4035472/thehennyy"}, "is_accepted": false, "score": 1, "last_activity_date": 1447887068, "creation_date": 1447887068, "answer_id": 33791998, "question_id": 33791853, "link": "https://stackoverflow.com/questions/33791853/how-to-reflect-a-nested-delegate-in-c/33791998#33791998", "title": "How to reflect a nested delegate in C#?", "body": "<p>You have to loop through the nested types and test if they are derived from <code>MulticastDelegate</code>.</p>\n\n<pre><code>var delegates = typeof(TestEvents).GetNestedTypes().Where(x =&gt; x.BaseType == typeof(MulticastDelegate));\nforeach(var del in delegates)\n    Console.WriteLine(del.Name);\n</code></pre>\n"}], "owner": {"reputation": 2264, "user_id": 5132509, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/453dee1b3bacfbb401b476efdda71a34?s=128&d=identicon&r=PG&f=1", "display_name": "Regis May", "link": "https://stackoverflow.com/users/5132509/regis-may"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1447887068, "creation_date": 1447886468, "question_id": 33791853, "link": "https://stackoverflow.com/questions/33791853/how-to-reflect-a-nested-delegate-in-c", "title": "How to reflect a nested delegate in C#?", "body": "<p>Given the following (minimal) class:</p>\n\n<pre><code>public class TestEvents\n{\n    public delegate void MyDelegate(params string[] data);\n\n    public TestEvents()\n    {\n    }\n}\n</code></pre>\n\n<p>If I retrieve the <code>Type</code> object representing this class from an assembly how can I identify all nested delegates defined in this class? I can find a lot of information how to invoke a delegate via reflection, but nothing on how to obtain a suitable object from a <code>Type</code> object in the beginning (<em>without</em> knowing the delegates name).</p>\n"}, {"tags": ["c#", "reflection"], "answers": [{"tags": [], "owner": {"reputation": 486, "user_id": 1580801, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2c84fd4e9b92c40b2466e4f1ee0faef9?s=128&d=identicon&r=PG", "display_name": "MD Luffy", "link": "https://stackoverflow.com/users/1580801/md-luffy"}, "is_accepted": false, "score": 0, "last_activity_date": 1447887125, "creation_date": 1447887125, "answer_id": 33792011, "question_id": 33791791, "link": "https://stackoverflow.com/questions/33791791/c-check-if-a-class-has-defined-enum/33792011#33792011", "title": "c# check if a class has defined enum", "body": "<p>Figured it out:</p>\n\n<pre><code>var asm = System.Reflection.Assembly.GetExecutingAssembly(); \nvar typ = asm.GetType(\"SomeClass+Status\")\nvar enumExists = (typ != null &amp;&amp; typ.IsEnum);\n</code></pre>\n\n<p>Trick is to put + after class name when you GetType.</p>\n"}, {"tags": [], "owner": {"reputation": 6266, "user_id": 5497207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e185da0f69447ef588089e15e15198?s=128&d=identicon&r=PG&f=1", "display_name": "Oguz Ozgul", "link": "https://stackoverflow.com/users/5497207/oguz-ozgul"}, "is_accepted": true, "score": 2, "last_activity_date": 1447887234, "creation_date": 1447887234, "answer_id": 33792046, "question_id": 33791791, "link": "https://stackoverflow.com/questions/33791791/c-check-if-a-class-has-defined-enum/33792046#33792046", "title": "c# check if a class has defined enum", "body": "<p>Enums are types themselves.</p>\n\n<p>Nested types are named with + between the container class and the type name</p>\n\n<p>Therefore, the name of the mystery method would be Type.GetType</p>\n\n<pre><code>public class SomeClass\n{\n    public enum Status\n    {\n\n    }\n}\n\npublic class Program\n{\n    public static void Main(string[] args)\n    {\n        Type t = Type.GetType(\"Lab.SomeClass+Status\", false);\n        bool isEnum = t.IsEnum;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 486, "user_id": 1580801, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2c84fd4e9b92c40b2466e4f1ee0faef9?s=128&d=identicon&r=PG", "display_name": "MD Luffy", "link": "https://stackoverflow.com/users/1580801/md-luffy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 33792046, "answer_count": 2, "score": 0, "last_activity_date": 1447887234, "creation_date": 1447886206, "question_id": 33791791, "link": "https://stackoverflow.com/questions/33791791/c-check-if-a-class-has-defined-enum", "title": "c# check if a class has defined enum", "body": "<p>I have a class like this</p>\n\n<pre><code>public class SomeClass {\npublic enum Status { A,B,C}\n}\n</code></pre>\n\n<p>I want to do</p>\n\n<pre><code>bool enumExists = MysteryMethod(\"SomeClass.Status\");\n</code></pre>\n\n<p>What goes inside MysteryMethod ?</p>\n"}, {"tags": ["c#", "wpf", "caching", "icons", "cd-rom"], "answers": [{"tags": [], "owner": {"reputation": 405, "user_id": 3964383, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b841699b999beec064d2273f3392422?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Koernke", "link": "https://stackoverflow.com/users/3964383/robert-koernke"}, "is_accepted": true, "score": 0, "last_activity_date": 1448892416, "creation_date": 1448892416, "answer_id": 34000504, "question_id": 33791759, "link": "https://stackoverflow.com/questions/33791759/get-icon-wpf-code-not-working-on-cd-rom/34000504#34000504", "title": "Get Icon WPF code not working on CD-ROM", "body": "<p>So I even paid a guy to help me on one of those sites that you can get an expert.  We worked together for a while and couldn't find a good solution.  </p>\n\n<p>Finally we found that the 'Shell-API' would report a GDI+ error anytime it couldn't write to the protected drive.  (That was my nearest guess anyway.)  So the 'imperfect' solution I came up with is this:  BTW... This does not use WPF.  </p>\n\n<pre><code>        string tempfile = Path.ChangeExtension(Path.GetTempFileName(), Path.GetExtension(filename));\n        File.Copy(filename, tempfile);\n        IShellItem2 ppsi = null;\n        IntPtr hbitmap = IntPtr.Zero;\n        // GUID of IShellItem.\n        Guid uuid = new Guid(\"43826d1e-e718-42ee-bc55-a1e261c37bfe\");\n        ShellHelper.SHCreateItemFromParsingName(tempfile, IntPtr.Zero, ref uuid, out ppsi);\n        ((IShellItemImageFactory)ppsi).GetImage(new SIZE(cx, cx), 0x0, out hbitmap);\n        Bitmap result = Bitmap.FromHbitmap(hbitmap);\n        return result;\n</code></pre>\n\n<p>So I just move the file into a Temp-File.  Then I use the 'WinAPI-Shell-Factory' to get the Thumbnail from it.  Boom it works.  It's slow, but getting an icon off a CD-Rom is always slow.  </p>\n\n<p>Note: I tried to do a 'File-Delete' in this procedure.  But that blew-up... You may have to wait until the user logs out for these temp-files to disappear.</p>\n"}], "owner": {"reputation": 405, "user_id": 3964383, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b841699b999beec064d2273f3392422?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Koernke", "link": "https://stackoverflow.com/users/3964383/robert-koernke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 34000504, "answer_count": 1, "score": 0, "last_activity_date": 1448892416, "creation_date": 1447886065, "question_id": 33791759, "link": "https://stackoverflow.com/questions/33791759/get-icon-wpf-code-not-working-on-cd-rom", "title": "Get Icon WPF code not working on CD-ROM", "body": "<p>This is pretty standard code:</p>\n\n<pre><code> public static System.Windows.Media.Imaging.BitmapSource GetIcon(string Path, int Width = 256, int Height = 256)\n    {\n        IShellItem ppsi = null;\n        IntPtr hbitmap = IntPtr.Zero;\n        Guid uuid = new Guid(\"43826d1e-e718-42ee-bc55-a1e261c37bfe\");\n\n        SHCreateItemFromParsingName(Path, IntPtr.Zero, uuid, ref ppsi);\n        ((IShellItemImageFactory)ppsi).GetImage(new SIZE(Width, Height), SIIGBF.SIIGBF_RESIZETOFIT, ref hbitmap);\n        return System.Windows.Interop.Imaging.CreateBitmapSourceFromHBitmap(hbitmap, IntPtr.Zero, System.Windows.Int32Rect.Empty, System.Windows.Media.Imaging.BitmapSizeOptions.FromEmptyOptions());\n    }\n</code></pre>\n\n<p>It works all the time except when trying to see icons (notably WMV) icons on a CD-ROM.  Does it need more time to download?  Or something... The Bitmapsource object does have a 'downloading' event.  But I've stepped through the code and that is not being hit.  </p>\n\n<p>It seems this could also be a 'caching' issue.  But oddly only affecting the CD-Rom icons? </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 9112, "user_id": 2721883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c8448407184c2a90cc46db06c159ca?s=128&d=identicon&r=PG&f=1", "display_name": "clcto", "link": "https://stackoverflow.com/users/2721883/clcto"}, "edited": false, "score": 5, "creation_date": 1447885824, "post_id": 33791659, "comment_id": 55350492, "body": "What are you trying to do with this <code>Console.WriteLine(nbOccurences);</code>?"}, {"owner": {"reputation": 43256, "user_id": 57611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fbIWO.jpg?s=128&g=1", "display_name": "ErikE", "link": "https://stackoverflow.com/users/57611/erike"}, "edited": false, "score": 0, "creation_date": 1447886172, "post_id": 33791659, "comment_id": 55350639, "body": "it looks like you want to return the value of <code>m</code>. You should do that by making <code>nbOccurrences</code> <code>public int nbOccurrences</code> and <code>return m;</code> at the end. Then, assign the result by doing <code>int occurences = n1.nbOccurrences(test123, chiffrebase);</code>. Finally, do <code>Console.WriteLine(occurrences);</code>. The problem is that your method has no output, so it can&#39;t give anything to the <code>WriteLine</code> function that will be sent to the console (how does it know what to put there?). And also, <code>nbOccurrences</code> by itself doesn&#39;t <i>run</i> the function, just names it."}], "answers": [{"tags": [], "owner": {"reputation": 811, "user_id": 647728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6e780ee0dc0dd59c93cdcaf45cdef2e4?s=128&d=identicon&r=PG", "display_name": "agrath", "link": "https://stackoverflow.com/users/647728/agrath"}, "is_accepted": false, "score": 1, "last_activity_date": 1447885817, "creation_date": 1447885817, "answer_id": 33791703, "question_id": 33791659, "link": "https://stackoverflow.com/questions/33791659/c-impossible-to-convert-method-group-to-bool/33791703#33791703", "title": "C# Impossible to convert method group to bool?", "body": "<p>The Console.WriteLine function has many overloads, one of which is expecting a bool as a parameter. \nWhen you call a function like this</p>\n\n<pre><code> Console.WriteLine(1); \n</code></pre>\n\n<p>the compiler determines which version of the function you want to call (in my above example it should be the int version.</p>\n\n<p>In your sample code, you simply need to add some brackets so it looks like this if you wanted to call the function.\nIt's worth noting that your nbOccurrences function does not actually return a value (it's return type is void) so this will likely still fail.</p>\n\n<pre><code>Console.WriteLine(nbOccurences());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3762, "user_id": 3276027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e2e43f741889c0d1c599747a318ddf5?s=128&d=identicon&r=PG&f=1", "display_name": "Gian Paolo", "link": "https://stackoverflow.com/users/3276027/gian-paolo"}, "is_accepted": false, "score": 3, "last_activity_date": 1447886222, "last_edit_date": 1447886222, "creation_date": 1447885896, "answer_id": 33791720, "question_id": 33791659, "link": "https://stackoverflow.com/questions/33791659/c-impossible-to-convert-method-group-to-bool/33791720#33791720", "title": "C# Impossible to convert method group to bool?", "body": "<pre><code>Console.WriteLine(nbOccurences);\n</code></pre>\n\n<p><code>nbOccurrences</code> is a mehtod (returning void, by the way). \nso compiler complains saying \"I need something to print on writeline, maybe you want me to print a bool, but I can't convert a method to a bool\"</p>\n\n<p>Also, your <code>nbOccurrences</code> seems to do nothing useful: it iterates on an Array, checks some condition and eventually increase the parameter value. But calling code will not be aware of the m value, which remains internal to your function. You should change your method declaration returning an <code>int</code> (or using an <code>out int m</code> parameter, which would not be my choice)</p>\n"}, {"tags": [], "owner": {"reputation": 43256, "user_id": 57611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fbIWO.jpg?s=128&g=1", "display_name": "ErikE", "link": "https://stackoverflow.com/users/57611/erike"}, "is_accepted": false, "score": 2, "last_activity_date": 1510257456, "last_edit_date": 1510257456, "creation_date": 1447886444, "answer_id": 33791849, "question_id": 33791659, "link": "https://stackoverflow.com/questions/33791659/c-impossible-to-convert-method-group-to-bool/33791849#33791849", "title": "C# Impossible to convert method group to bool?", "body": "<p>This is my best guess as to what you're actually aiming at:</p>\n\n<pre><code>public int nbOccurrences(int[] base1, int n)\n{\n   int count = 0;\n   foreach (int i in base1)\n   {\n      if (n == 32)\n      {\n         count++;\n      }\n   }\n   return count;\n}\n\nstatic void Main(string[] args)\n{\n    int chiffrebase = 32;\n    int[] test123 = new int[] { 12, 32, 33, 64, 75, 46, 42, 32 };\n    int occurrences = nbOccurrences(test123, chiffrebase, occurrence);\n    Console.WriteLine(occurrences);\n}\n</code></pre>\n\n<p>Your method <code>nbOccurrences</code> didn't return anything before, so how can it be used to do anything? There <em>is</em> a way to use an <code>out</code> or <code>ref</code> parameter to get values back from method via parameters, but <em>you should NOT do that until you are much more expert</em>.</p>\n\n<p>The <code>WriteLine</code> method is looking for a <code>string</code> or something that can be converted to a string or have <code>ToString</code> run on it. Instead, you gave it the name of a method (not the result of a method call, the method itself). How would it know what to do with that?</p>\n\n<p>One invokes a method using parentheses, so pay careful attention to note that <code>nbOccurrences</code> is NOT the same thing as <code>nbOccurrences()</code>.</p>\n\n<p>Finally, I'm gambling that you do NOT need <code>new Program</code>. It <em>works</em>, but probably isn't what you want. Instead, just call the method which is in the current, same program as the one you're running, <code>Program</code>.</p>\n\n<p>Finally, while this may be too soon in your C# journey, note that this same task can be performed this way (add <code>using System.Linq;</code>):</p>\n\n<pre><code>static void Main(string[] args)\n{\n    int chiffrebase = 32;\n    int[] test123 = new int[] { 12, 32, 33, 64, 75, 46, 42, 32 };\n    int occurrences = test123.Count(i =&gt; i == chiffrebase);\n    Console.WriteLine(occrurences);\n}\n</code></pre>\n\n<p>P.S. <em>Occurrences</em> is spelled with two Rs. Not one.</p>\n"}], "owner": {"reputation": 9, "user_id": 5578750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ca36bd076e335a0e3afca62a5dcabe7?s=128&d=identicon&r=PG&f=1", "display_name": "need help fast", "link": "https://stackoverflow.com/users/5578750/need-help-fast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6957, "favorite_count": 0, "answer_count": 3, "score": -5, "last_activity_date": 1510257456, "creation_date": 1447885621, "question_id": 33791659, "link": "https://stackoverflow.com/questions/33791659/c-impossible-to-convert-method-group-to-bool", "title": "C# Impossible to convert method group to bool?", "body": "<pre><code>      public void nbOccurences(int[] base1, int n, int m)\n     {\n         foreach (int i in base1)\n         {\n             if (n == 32)\n             {\n                 m++;\n             }\n         }\n     }\n    static void Main(string[] args)\n    {\n        int chiffrebase = 32;\n        int occurence = 0;\n        int[] test123 = new int[] { 12, 32, 33, 64, 75, 46, 42, 32 };\n        Program n1 = new Program();\n        n1.nbOccurences(test123, chiffrebase, occurence);\n        Console.WriteLine(nbOccurences);\n    }\n</code></pre>\n\n<p>I keep getting a \"Impossible to convert from method group to bool\" message, what's causing the problem? I'm trying to use the method I made in the main program.</p>\n"}, {"tags": ["c#", "active-directory", "activedirectorymembership"], "comments": [{"owner": {"reputation": 1833, "user_id": 748133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2a6588c1ba88e39283d0b4b9e28884dc?s=128&d=identicon&r=PG", "display_name": "Guy Lowe", "link": "https://stackoverflow.com/users/748133/guy-lowe"}, "edited": false, "score": 0, "creation_date": 1447885582, "post_id": 33791559, "comment_id": 55350389, "body": "Can you not just use string.format(&quot;OU=Domain {0},OU={1};DC=jmlab,DC=net&quot;, &quot;test Users&quot;, &quot;test&quot;); taking the input and manipulating it to fix the string?"}, {"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 1, "creation_date": 1447886513, "post_id": 33791559, "comment_id": 55350779, "body": "If the user inputs only &quot;Test Users&quot;, how would you know that he means the &quot;Test Users&quot; OU that is inside &quot;test&quot; OU or say the &quot;Development&quot; OU?. There could exist an OU in AD with this DN: &quot;OU=Test Users, OU=Development, ..&quot;"}], "owner": {"reputation": 33, "user_id": 5191931, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/83691ea235512ef5db87586b7d2ba557?s=128&d=identicon&r=PG&f=1", "display_name": "John Balan", "link": "https://stackoverflow.com/users/5191931/john-balan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447885207, "creation_date": 1447885207, "question_id": 33791559, "link": "https://stackoverflow.com/questions/33791559/c-combining-two-strings", "title": "C# combining two strings", "body": "<p>I am working on an app that will create users in AD.  What I need want to do to be flexible is to create the users in a user defined OU (via GUI).  So if a user enters OU=test users, OU=test, I would like to take that and concatenate it to the rest of my AD path.  Basically this out allow me to build a string like \nstring ldappath = \"OU=Domain test Users,OU=test,DC=jmlab,DC=net\"</p>\n\n<p>This is how the user input would work:\n<a href=\"http://imgur.com/huPhsiA\" rel=\"nofollow\">http://imgur.com/huPhsiA</a></p>\n\n<p>My question is two fold.  One is there a way to have the user input only Test USers instead of the full path?  And two how can I combine the variables?</p>\n\n<pre><code>public string myDomain = \"DC=jmlab,DC=net\";\npublic string ou;\npublic string ldapPath = ou + myDefaultOU;\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "edited": false, "score": 0, "creation_date": 1447885826, "post_id": 33791533, "comment_id": 55350494, "body": "Your browser is already inspecting these things in detail in order to make the download happen. Why would you expect your own process to be able to skip all this without itself creating a full web browser?"}, {"owner": {"reputation": 23, "user_id": 5578668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54288b1518ba59d793097b8856521d6?s=128&d=identicon&r=PG&f=1", "display_name": "sat", "link": "https://stackoverflow.com/users/5578668/sat"}, "reply_to_user": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "edited": false, "score": 0, "creation_date": 1448025756, "post_id": 33791533, "comment_id": 55420395, "body": "Hello Joel, well my goal isn&#39;t creating a web browser. I simply need to download a file from an URL"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5578668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54288b1518ba59d793097b8856521d6?s=128&d=identicon&r=PG&f=1", "display_name": "sat", "link": "https://stackoverflow.com/users/5578668/sat"}, "edited": false, "score": 0, "creation_date": 1448025827, "post_id": 33791623, "comment_id": 55420445, "body": "Hello Brad, using the WebBrowser control seems as a hack, which it is not a very clean solution"}], "tags": [], "owner": {"reputation": 95848, "user_id": 298053, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4ba6db482e54ae5cbb940e6708c23859?s=128&d=identicon&r=PG", "display_name": "Brad Christie", "link": "https://stackoverflow.com/users/298053/brad-christie"}, "is_accepted": false, "score": 0, "last_activity_date": 1447885456, "creation_date": 1447885456, "answer_id": 33791623, "question_id": 33791533, "link": "https://stackoverflow.com/questions/33791533/download-a-file-using-webrequest-create-c-via-redirected-link/33791623#33791623", "title": "Download a File using webrequest.create c# via redirected link", "body": "<p>Could use <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser%28v=vs.110%29.aspx\" rel=\"nofollow\">WebBrowser</a> control (which can handle JS execution) then subscribe to the <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.filedownload(v=vs.110).aspx\" rel=\"nofollow\">FileDownload</a> event.</p>\n\n<p>For a little earlier notice, you could subscribe to <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.navigating(v=vs.110).aspx\" rel=\"nofollow\">Navigating</a> (which should get triggered once the JS kicks in).</p>\n"}], "owner": {"reputation": 23, "user_id": 5578668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54288b1518ba59d793097b8856521d6?s=128&d=identicon&r=PG&f=1", "display_name": "sat", "link": "https://stackoverflow.com/users/5578668/sat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447885456, "creation_date": 1447885090, "question_id": 33791533, "link": "https://stackoverflow.com/questions/33791533/download-a-file-using-webrequest-create-c-via-redirected-link", "title": "Download a File using webrequest.create c# via redirected link", "body": "<p>I am trying to download a file from a page that redirects itself using JS.\nFor example: <a href=\"https://wix.codeplex.com/downloads/get/119160\" rel=\"nofollow\">https://wix.codeplex.com/downloads/get/119160</a>\nWhen that page is loaded in the browser the file download starts automatically using a JS function.\nBut when I try to download it using webrequest.create I only get the HTML of that page (119160).</p>\n\n<p>Is there any clean way to download the file without inspecting the html/js manually?</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1447885055, "post_id": 33791509, "comment_id": 55350142, "body": "It is a base64 encoded string. Decode it, then you&#39;ll get the byte array."}, {"owner": {"reputation": 1740, "user_id": 3117338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/062054032beb9c3abbce7837d9992aca?s=128&d=identicon&r=PG", "display_name": "A.Konzel", "link": "https://stackoverflow.com/users/3117338/a-konzel"}, "edited": false, "score": 1, "creation_date": 1447885347, "post_id": 33791509, "comment_id": 55350281, "body": "You might consider using <code>Convert.FromBase64String</code> to get the <code>byte[]</code>, then run that through <code>Encoding.UTF8.GetString</code> to get your final value."}], "owner": {"reputation": 55, "user_id": 5578693, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-X2GqmNkpc6w/AAAAAAAAAAI/AAAAAAAAABE/nGwu369ZDYQ/photo.jpg?sz=128", "display_name": "donxnik", "link": "https://stackoverflow.com/users/5578693/donxnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "closed_date": 1447885079, "answer_count": 0, "score": 0, "last_activity_date": 1447887976, "creation_date": 1447884988, "last_edit_date": 1447887976, "question_id": 33791509, "link": "https://stackoverflow.com/questions/33791509/how-to-convert-byted-string-back-to-byte-without-string", "closed_reason": "Duplicate", "title": "How To Convert &quot;Byted&quot; String Back to Byte Without String", "body": "<p>I have an encryption key that looks like this:</p>\n\n<blockquote>\n  <p>Z2FzYWdlYmk= </p>\n</blockquote>\n\n<p>I read the key to a <code>byte[]</code> using <code>Encoding.UTF8.GetBytes(text)</code></p>\n\n<p>My problem is when I try to turn the <code>byte[]</code> back into a string like this:  <code>Encoding.UTF8.GetString</code> </p>\n\n<p>This doesn't help, because it need to be byte.</p>\n\n<p>I just want to know how to \"Remove\" the string format on this key and then safety convert it back to a string again.</p>\n"}, {"tags": ["c#", "redirect", "iis"], "answers": [{"tags": [], "owner": {"reputation": 2237, "user_id": 2610857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/5RMeX.jpg?s=128&g=1", "display_name": "Mindless", "link": "https://stackoverflow.com/users/2610857/mindless"}, "is_accepted": false, "score": 0, "last_activity_date": 1458103291, "creation_date": 1458103291, "answer_id": 36026933, "question_id": 33791489, "link": "https://stackoverflow.com/questions/33791489/can-not-redirect-http-domain-com-to-http-www-domain-com-iis/36026933#36026933", "title": "Can not redirect http://domain.com to http://www.domain.com IIS", "body": "<pre><code>&lt;rule name=\"Redirect to WWW\" stopProcessing=\"true\"&gt;\n    &lt;match url=\".*\" /&gt;\n    &lt;conditions&gt;\n        &lt;add input=\"{HTTP_HOST}\" pattern=\"^domain.com$\" /&gt;\n    &lt;/conditions&gt;\n    &lt;action type=\"Redirect\" url=\"http://www.domain.com/{R:0}\" redirectType=\"Permanent\" /&gt;\n&lt;/rule&gt;\n\n&lt;rule name=\"Force HTTPS\" enabled=\"true\"&gt;\n    &lt;match url=\"(.*)\" ignoreCase=\"false\" /&gt;\n    &lt;conditions&gt;\n        &lt;add input=\"{HTTPS}\" pattern=\"off\" /&gt;\n    &lt;/conditions&gt;\n    &lt;action type=\"Redirect\" url=\"https://{HTTP_HOST}/{R:1}\" appendQueryString=\"true\" redirectType=\"Permanent\" /&gt;\n&lt;/rule&gt;\n</code></pre>\n"}], "owner": {"reputation": 545, "user_id": 4609437, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4e113f53435cb12da410617571142714?s=128&d=identicon&r=PG&f=1", "display_name": "AlCode", "link": "https://stackoverflow.com/users/4609437/alcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 216, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458103291, "creation_date": 1447884867, "question_id": 33791489, "link": "https://stackoverflow.com/questions/33791489/can-not-redirect-http-domain-com-to-http-www-domain-com-iis", "title": "Can not redirect http://domain.com to http://www.domain.com IIS", "body": "<pre><code>            &lt;rules&gt;\n                &lt;clear /&gt;\n                &lt;rule name=\"Redirect to www\" patternSyntax=\"Wildcard\" stopProcessing=\"true\"&gt;\n                    &lt;match url=\"*\" ignoreCase=\"true\" /&gt;\n                    &lt;conditions logicalGrouping=\"MatchAll\" trackAllCaptures=\"false\"&gt;\n                        &lt;add input=\"{HTTP_HOST}\" pattern=\"domain.com\" /&gt;\n                    &lt;/conditions&gt;\n                    &lt;action type=\"Redirect\" url=\"http://www.domain.com/{R:0}\" redirectType=\"Permanent\" /&gt;\n                &lt;/rule&gt;\n\n\n                &lt;rule name=\"Redirect HTTPS\" stopProcessing=\"true\"&gt;\n                    &lt;match url=\"(.*)\" /&gt;\n                    &lt;conditions logicalGrouping=\"MatchAll\" trackAllCaptures=\"false\"&gt;\n                        &lt;add input=\"{HTTPS}\" pattern=\"^OFF$\" /&gt;\n                    &lt;/conditions&gt;\n                    &lt;action type=\"Redirect\" url=\"https://{HTTP_HOST}/{R:1}\" /&gt;\n                &lt;/rule&gt;\n            &lt;/rules&gt;\n</code></pre>\n\n<p>Guys, im stuck at this for 2 hours, please help, these are my 2 rules which, if you type in browser \"domain.com\" should redirect you to \"<a href=\"https://www.domain.com\" rel=\"nofollow\">https://www.domain.com</a>\"\nmy certificate is registered on \"www.domain.com\" so i need to add the www in fron of my domain and make it work when people type in browser domain.com to redirect them to www.domain.com with HTTPS enabled. What am I doing wrong?</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 3, "creation_date": 1447884920, "post_id": 33791437, "comment_id": 55350078, "body": "Because <code>itemGenre</code> (dropdownlist name) is not <code>itemGenere</code> (method parameter). Use view models and the strongly types html helpers"}, {"owner": {"reputation": 1701, "user_id": 1683846, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/r7hnJ.jpg?s=128&g=1", "display_name": "Philo", "link": "https://stackoverflow.com/users/1683846/philo"}, "edited": false, "score": 0, "creation_date": 1447885049, "post_id": 33791437, "comment_id": 55350140, "body": "wow. Spelling error.....thank you Stephen."}, {"owner": {"reputation": 1701, "user_id": 1683846, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/r7hnJ.jpg?s=128&g=1", "display_name": "Philo", "link": "https://stackoverflow.com/users/1683846/philo"}, "edited": false, "score": 0, "creation_date": 1447885120, "post_id": 33791437, "comment_id": 55350171, "body": "@StephenMuecke: Is there a way to make the dropdown menu filter dynamic, as soon as there is a selection, the search in the controller is initiated, rather than having to do a manual filter postback?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1447885221, "post_id": 33791437, "comment_id": 55350225, "body": "You would need javascript/jquery to handle the <code>.change()</code> event of the dropdownlist and submit the form (but that&#39;s not the normal expected behavior so I would not recommend it). And you would get better performance if you use ajax to post the values and update the DOM without a full page refresh"}], "owner": {"reputation": 1701, "user_id": 1683846, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/r7hnJ.jpg?s=128&g=1", "display_name": "Philo", "link": "https://stackoverflow.com/users/1683846/philo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447884672, "creation_date": 1447884672, "question_id": 33791437, "link": "https://stackoverflow.com/questions/33791437/mvc-dropdown-filter-doesnt-postback-the-selected-value", "title": "MVC dropDown Filter doesn&#39;t postback the selected value", "body": "<p>I am creating my first sample MVC based sample app.</p>\n\n<p>I have a model:-</p>\n\n<pre><code> public class SampleClass\n    {\n        public int ID { get; set; }\n\n        [Required]\n        public string Description { get; set; }\n\n        [Range(1,100)]\n        public int Age { get; set; }\n\n        [Display(Name=\"Created On\")]\n        [DataType(DataType.Date)]\n        [DisplayFormat(DataFormatString = \"{0:yyyy-MM-dd}\", ApplyFormatInEditMode = true)]\n        public DateTime CreatedDate { get; set; }\n\n        [DataType(DataType.Date)]\n        [DisplayFormat(DataFormatString = \"{0:yyyy-MM-dd}\", ApplyFormatInEditMode = true)]\n        public DateTime? LastUpdated { get; set; }\n\n        public string itemGenre { get; set; }\n\n    }\n</code></pre>\n\n<p>An Index.cshtml page that shows:-</p>\n\n<pre><code>&lt;p&gt;\n    @Html.ActionLink(\"Create New\", \"Create\")\n    @using (Html.BeginForm(\"Index\", \"Sample\", FormMethod.Get))\n    {\n        &lt;p style=\"margin-bottom:30px;\"&gt;\n\n            &lt;div style=\"display:inline-block; float:left; border:1px dotted black; padding:20px;\"&gt;\n                Created Date: @Html.TextBox(\"fromDate\")\n                &lt;input type=\"submit\" value=\"Filter\" /&gt;\n            &lt;/div&gt;\n\n            &lt;div style=\"display: inline-block; border: 1px dotted black; padding: 20px; margin-left:170px;\"&gt;\n                Genre: @Html.DropDownList(\"itemGenre\", \"All\")\n            &lt;/div&gt;\n\n            &lt;div style=\"display: inline-block; float: right; border: 1px dotted black; padding: 20px;\"&gt;\n                Search: @Html.TextBox(\"searchString\")\n                &lt;input type=\"submit\" value=\"Filter\" /&gt;\n            &lt;/div&gt;\n        &lt;/p&gt;\n    }\n\n&lt;/p&gt;\n</code></pre>\n\n<p>I have got my filter methods for CreatedDate and SearchString to work correctly. But I cannot seem to get my DropDown menu filter \"itemGenre\" to work properly. Although my dropdown menu populates with the correct values/strings stored in my database, every time I do a postback, the itemGenre is retrieved as a null value in my controller class:-</p>\n\n<pre><code>        public ActionResult Index(DateTime? fromDate, string itemGenere, string searchString)\n        {\n\n            var GenreList = new List&lt;string&gt;();\n            var GenreQuery = from d in db.Sample\n                             orderby d.itemGenre\n                             select d.itemGenre;\n            GenreList.AddRange(GenreQuery.Distinct());\n            ViewBag.itemGenre = new SelectList(GenreList);\n\n            var items = from i in db.Sample\n                        select i;\n\n            if (!String.IsNullOrEmpty(searchString))\n            {\n                items = items.Where(o =&gt; o.Description.Contains(searchString));\n            }\n\n            if (!String.IsNullOrEmpty(Convert.ToString(fromDate)))\n            {\n                items = items.Where(p =&gt; p.CreatedDate &gt;= fromDate);\n            }\n\n            if(!String.IsNullOrEmpty(itemGenere))\n            {\n                items = items.Where(q =&gt; q.itemGenre == itemGenere);\n            }\n\n            return View(items);\n\n        }\n</code></pre>\n\n<p>I would like to know where I am going wrong? </p>\n"}, {"tags": ["c#", "arrays", "sorting", "counting-sort"], "comments": [{"owner": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 1, "creation_date": 1447884386, "post_id": 33791334, "comment_id": 55349805, "body": "What have you tried to implement a counting sort? Have you looked at the various code samples available online?"}, {"owner": {"reputation": 13, "user_id": 5578663, "user_type": "registered", "profile_image": "https://graph.facebook.com/1505001619829062/picture?type=large", "display_name": "\u0420\u043e\u043c\u0430\u043d \u0413\u043e\u0440\u043e\u0448\u043a\u043e", "link": "https://stackoverflow.com/users/5578663/%d0%a0%d0%be%d0%bc%d0%b0%d0%bd-%d0%93%d0%be%d1%80%d0%be%d1%88%d0%ba%d0%be"}, "reply_to_user": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 0, "creation_date": 1447884557, "post_id": 33791334, "comment_id": 55349900, "body": "Yes, I found the solution for 1d array, but I need to sort 2d array rows. <a href=\"http://rosettacode.org/wiki/Sorting_algorithms/Counting_sort#C.23\" rel=\"nofollow noreferrer\">rosettacode.org/wiki/Sorting_algorithms/Counting_sort#C.23</a>"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1447932378, "post_id": 33791334, "comment_id": 55370627, "body": "Counting sort is not applicable for <code>double</code>s. See <a href=\"http://stackoverflow.com/questions/33741875/sort-2d-array-rows-in-ascending-order-of-their-first-elements-in-c-sharp/33742498#33742498\" title=\"sort 2d array rows in ascending order of their first elements in c sharp\">stackoverflow.com/questions/33741875/&hellip;</a> for how you can effectively sort a 2d array."}], "answers": [{"tags": [], "owner": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "is_accepted": true, "score": 0, "last_activity_date": 1447888520, "last_edit_date": 1447888520, "creation_date": 1447888218, "answer_id": 33792286, "question_id": 33791334, "link": "https://stackoverflow.com/questions/33791334/change-2d-array-bubble-sort-to-counting-sort/33792286#33792286", "title": "Change 2d array bubble sort to counting sort", "body": "<p>As you do bubble sort based on first element of each row. you should do counting sort like that too. so you just need to count first item of each row.</p>\n\n<pre><code>private static int[,] CountingSort2D(int[,] arr)\n{\n    // find the max number by first item of each row\n    int max = arr[0, 0];\n    for (int i = 0; i &lt; arr.GetLength(0); i++)\n    {\n        if (arr[i, 0] &gt; max) max = arr[i, 0]; \n    }\n\n    // we want to get count of first items of each row. thus we need 1d array.\n    int[] counts = new int[max + 1]; \n\n    // do the counting. again on first index of each row\n    for (int i = 0; i &lt; arr.GetLength(0); i++)\n    {\n        counts[arr[i, 0]]++; \n    }\n    for (int i = 1; i &lt; counts.Length; i++)\n    {\n        counts[i] += counts[i - 1];\n    }\n\n    // result is sorted array\n    int[,] result = new int[arr.GetLength(0), arr.GetLength(1)];\n\n    for (int i = arr.GetLength(0) - 1; i &gt;= 0; i--)\n    {\n        counts[arr[i, 0]]--;\n\n        // now we need to copy columns too. thus we need another loop\n        for (int j = 0; j &lt; arr.GetLength(1); j++)\n        {\n            result[counts[arr[i, 0]], j] = arr[i, j];\n        }\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>Here is the test.</p>\n\n<pre><code>static void Main()\n{\n    Random rand = new Random();\n    int[,] arr = new int[3,3];\n    for (int i = 0; i &lt; 3; i++)\n    {\n        for (int j = 0; j &lt; 3; j++)\n        {\n            arr[i, j] = rand.Next(0, 100);\n        }\n    }\n\n    int[,] newarr = CountingSort2D(arr);\n\n    for (int i = 0; i &lt; arr.GetLength(0); i++)\n    {\n        Console.Write(\"{ \");\n        for (int j = 0; j &lt; arr.GetLength(1); j++)\n        {\n            Console.Write(arr[i, j] + \" ,\");\n        }\n        Console.Write(\"} ,\");\n    }\n\n    Console.WriteLine();\n\n    for (int i = 0; i &lt; newarr.GetLength(0); i++)\n    {\n        Console.Write(\"{ \");\n        for (int j = 0; j &lt; newarr.GetLength(1); j++)\n        {\n            Console.Write(newarr[i, j] + \" ,\");\n        }\n        Console.Write(\"} ,\");\n    }\n\n    Console.WriteLine();\n}\n</code></pre>\n\n<p>Example Output:</p>\n\n<pre><code>{ 49,66,8 },{ 33,39,64 },{ 65,52,76 } // Original array\n{ 33,39,64 },{ 49,66,8 },{ 65,52,76 } // Sorted array\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5578663, "user_type": "registered", "profile_image": "https://graph.facebook.com/1505001619829062/picture?type=large", "display_name": "\u0420\u043e\u043c\u0430\u043d \u0413\u043e\u0440\u043e\u0448\u043a\u043e", "link": "https://stackoverflow.com/users/5578663/%d0%a0%d0%be%d0%bc%d0%b0%d0%bd-%d0%93%d0%be%d1%80%d0%be%d1%88%d0%ba%d0%be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 1, "accepted_answer_id": 33792286, "answer_count": 1, "score": 0, "last_activity_date": 1447888520, "creation_date": 1447884270, "last_edit_date": 1447887186, "question_id": 33791334, "link": "https://stackoverflow.com/questions/33791334/change-2d-array-bubble-sort-to-counting-sort", "title": "Change 2d array bubble sort to counting sort", "body": "<p>The following code sorts rows by the first element using bubble method.\nI can't change it to counting sort.</p>\n\n<pre><code>public void SortStack(double[,] n)\n{\n   for (int i = 0; i &lt; n.GetLength(0) - 1; i++)\n   {\n       for (int j = i; j &lt; n.GetLength(0); j++)\n       {\n           if (n[i, 0] &gt; n[j, 0]) \n           {\n               for (int k = 0; k &lt; n.GetLength(1); k++)\n               {\n                   var temp = n[i, k];\n                   n[i, k] = n[j, k];\n                   n[j, k] = temp;\n               }\n           }\n        }\n   }\n}\n</code></pre>\n\n<p>Please help.</p>\n"}, {"tags": ["c#", "c++", "pinvoke", "marshalling", "wchar-t"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1447884354, "post_id": 33791288, "comment_id": 55349781, "body": "You declared the 2nd argument to be wchar_t**.  Delete <code>ref</code>."}, {"owner": {"reputation": 445, "user_id": 385499, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/077fa4c26792fae18e2f9d9b49ef2a79?s=128&d=identicon&r=PG", "display_name": "John Ten Cate", "link": "https://stackoverflow.com/users/385499/john-ten-cate"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1447886328, "post_id": 33791288, "comment_id": 55350701, "body": "I Removed the ref from the pinvoke call and the c# code, but the StringBuilder is still empty upon return."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1447886789, "post_id": 33791288, "comment_id": 55350893, "body": "Next bug is <code>result = new wchar_t[lengthIn];</code>, delete that line."}, {"owner": {"reputation": 445, "user_id": 385499, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/077fa4c26792fae18e2f9d9b49ef2a79?s=128&d=identicon&r=PG", "display_name": "John Ten Cate", "link": "https://stackoverflow.com/users/385499/john-ten-cate"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1447898112, "post_id": 33791288, "comment_id": 55354625, "body": "Hans, That was it. Those two changes made all the difference! Working like a charm now."}], "owner": {"reputation": 445, "user_id": 385499, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/077fa4c26792fae18e2f9d9b49ef2a79?s=128&d=identicon&r=PG", "display_name": "John Ten Cate", "link": "https://stackoverflow.com/users/385499/john-ten-cate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 460, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447884117, "creation_date": 1447884117, "question_id": 33791288, "link": "https://stackoverflow.com/questions/33791288/marshalling-wchar-t-via-pinvoke-in-c-does-not-return-its-value-back-to-stringb", "title": "Marshalling wchar_*t via pinvoke in c# does not return its value back to StringBuilder", "body": "<p>First of all I want to say that I know enough about c++ and pinvoke to be frustrated.</p>\n\n<p>I am currently working on a c++ wrapper and pinvoke that is not returning the info I need.</p>\n\n<p>Below are the pieces of what I am doing:\nI have a c++ method with the signature of:</p>\n\n<pre><code>DllExport int LookupFamilyName(__in PCWSTR familyName,__out_opt wchar_t* result, int lengthIn)\n</code></pre>\n\n<p>With the internal code:</p>\n\n<pre><code>UINT32 count = 0;\nUINT32 length = 0;\n\nLONG rc = GetPackagesByPackageFamily(familyName, &amp;count, NULL, &amp;length, NULL);\nif (rc == ERROR_SUCCESS)\n{\n    return int(rc);\n}\nelse if (rc != ERROR_INSUFFICIENT_BUFFER)  //122\n{\n    return int(rc);\n}\n\nPWSTR *fullNames = (PWSTR *) malloc(count * sizeof(*fullNames));\n\nif (fullNames == NULL)\n{\n    return 700010; //faile to allocate memeory\n}\n\nPWSTR buffer = (PWSTR) malloc(length * sizeof(WCHAR));\nif (buffer == NULL)\n{\n    return 700011; //faile to allocate memeory\n}\n\nrc = GetPackagesByPackageFamily(familyName, &amp;count, fullNames, &amp;length, buffer);\n\n\nif (rc != ERROR_SUCCESS)\n{\n    return int(rc);\n}\nelse\n{\n    result = new wchar_t[lengthIn];\n    for (UINT32 i = 0; i &lt; count; ++i)\n    {\n        wcscpy_s(result,lengthIn,fullNames[i]);\n    }\n}\nfree(buffer);\nfree(fullNames);\n</code></pre>\n\n<p>I am then using the following to invoke:</p>\n\n<pre><code>    [DllImport(\"ClassLibrary1.dll\", CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Unicode)]\n    public static extern int LookupFamilyName(string familyName, ref StringBuilder sbPackageFullName, int len);\n</code></pre>\n\n<p>And then I am calling it from C# with the following:</p>\n\n<pre><code>string packagename = \"Microsoft.MicrosoftEdge_8wekyb3d8bbwe\";\nStringBuilder showmethemoney = new StringBuilder(64);\nint x = LookupFamilyName(packagename, ref showmethemoney,showmethemoney.Capacity);\n</code></pre>\n\n<p>I'm passing in a StringBuilder for the wchar_t* and that value is filled in with what I want by the time we get to the end of the LookupFamilyName method but when we get back to the c# code, the StringBuilder does not have the value that the wchar_t* had in the c++ code.</p>\n\n<p>For those of you that know far more then I, what do I need to do to make sure that the the value in the wchar_t* result gets passed back to the StringBuilder?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "web-services", "rest"], "answers": [{"tags": [], "owner": {"reputation": 23981, "user_id": 2813589, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/9axBj.jpg?s=128&g=1", "display_name": "\u30a2\u30ec\u30c3\u30af\u30b9", "link": "https://stackoverflow.com/users/2813589/%e3%82%a2%e3%83%ac%e3%83%83%e3%82%af%e3%82%b9"}, "is_accepted": false, "score": 1, "last_activity_date": 1447884164, "creation_date": 1447884164, "answer_id": 33791301, "question_id": 33791125, "link": "https://stackoverflow.com/questions/33791125/send-post-an-image-from-one-application-to-another-get-by-url/33791301#33791301", "title": "Send (post) an image from one application to another (get) by URL?", "body": "<p>Application #2, the receiver,  has to have REST Web API which accepts a file (an appropriate mime type) and saves it, that's it.</p>\n"}], "owner": {"reputation": 1418, "user_id": 962672, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/50d56dedcb74c7d5d2f0a15d99cc74b4?s=128&d=identicon&r=PG", "display_name": "Xtreme", "link": "https://stackoverflow.com/users/962672/xtreme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "closed_date": 1447894172, "answer_count": 1, "score": 0, "last_activity_date": 1447884164, "creation_date": 1447883534, "question_id": 33791125, "link": "https://stackoverflow.com/questions/33791125/send-post-an-image-from-one-application-to-another-get-by-url", "closed_reason": "Needs more focus", "title": "Send (post) an image from one application to another (get) by URL?", "body": "<p>I need to send a picture from one asp.net application to another. My receiver is an asp.net MVC application, but the sender can be a simple console application.</p>\n\n<p>Senario</p>\n\n<p>Application one has a link to an image and send/post this to application two by URL.</p>\n\n<p>Application two receives/get the image and saves it to a folder on the server.</p>\n\n<p>I have heard of REST, asp.net web api and web service but not found any tutorial how to do this.</p>\n"}, {"tags": ["c#", "datagridview"], "answers": [{"tags": [], "owner": {"reputation": 1479, "user_id": 1933253, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/cx3k4.jpg?s=128&g=1", "display_name": "Pabinator", "link": "https://stackoverflow.com/users/1933253/pabinator"}, "is_accepted": false, "score": 0, "last_activity_date": 1447890257, "creation_date": 1447890257, "answer_id": 33792685, "question_id": 33791087, "link": "https://stackoverflow.com/questions/33791087/how-to-change-a-datagridviewcombboxcell-by-another-datagridview/33792685#33792685", "title": "How to change a Datagridviewcombboxcell by another Datagridview", "body": "<p>Maybe just copy the contents from one dataGridView to the other dataGridView when you finish editing the dataGridView.</p>\n\n<p>Here is a copy dataGridViews function:</p>\n\n<pre><code>public void CopyDataGridViews(DataGridView SourceDGV, DataGridView DestinationDGV)\n{\n    // Clear Destination DataGridView\n    DestinationDGV.Columns.Clear();\n    DestinationDGV.Rows.Clear();\n\n    // Create Destination Columns\n    for (int j = 0; j &lt; SourceDGV.Columns.Count; j++)\n    {\n        DestinationDGV.Columns.Add(SourceDGV.Columns[j].Clone() as DataGridViewColumn);\n    }\n\n    // Create Destination Rows\n    for (int i = 0; i &lt; SourceDGV.Rows.Count - 1; i++)\n    {\n        DestinationDGV.Rows.Add(SourceDGV.Rows[i].Clone() as DataGridViewRow);\n    }\n\n    // Copy Data to Destination\n    for (int column = 0; column &lt; SourceDGV.Columns.Count; column++)\n    {\n        for (int row = 0; row &lt; SourceDGV.Rows.Count; row++)\n        {\n            DestinationDGV.Rows[row].Cells[column].Value = SourceDGV.Rows[row].Cells[column].Value;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 2344121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a50b2643f6466449b43acdd7341838eb?s=128&d=identicon&r=PG", "display_name": "Psyko-Mike", "link": "https://stackoverflow.com/users/2344121/psyko-mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447890257, "creation_date": 1447883404, "last_edit_date": 1495540742, "question_id": 33791087, "link": "https://stackoverflow.com/questions/33791087/how-to-change-a-datagridviewcombboxcell-by-another-datagridview", "title": "How to change a Datagridviewcombboxcell by another Datagridview", "body": "<p>I got two different Datagridviews. \nDatagridview2 has just text columns. Datagridview1 contains mostly text columns and one DatagridviewComboBoxColumn. The comboxbox contains a list of all values from one column in Datagridview2. \nI want to update each comboboxcell  everytime Datagridview2 changes. \nI\u2019ve a read and tried a lot but i still haven\u2019t found a way how i can change the values of a DatagridviewComboboxcell during runtime with content from another Datagridview.</p>\n\n<p>To make things a bit more clear, here is a little code-snippet of how i want to change the content on a specific event (this code don\u2019t work)</p>\n\n<pre><code>var cls = new List&lt;string&gt;();\n\n        if (dataGridView2.Rows.Count &gt; 0)\n        {\n\n            for (int rows = 0; rows &lt; dataGridView2.Rows.Count; rows++)\n            {\n\n                if (dataGridView2[0, rows].Value != null)\n                {\n\n                    cls.Add(dataGridView2[0, rows].Value.ToString());\n\n                }\n\n            }\n\n            for (int rows = 0; rows &lt; dataGridView1.Rows.Count; rows++)\n            {\n\n                DataGridViewComboBoxCell cl = new DataGridViewComboBoxCell();\n                var cl_content = cls;\n                cl.DataSource = cl_content;\n\n                var cell = dataGridView1[1, rows] as DataGridViewComboBoxCell;\n\n\n                cell.DataSource = cl;\n\n            }\n\n        }\n</code></pre>\n\n<p>I\u2019ve tried some ideas from another post </p>\n\n<p><a href=\"https://stackoverflow.com/questions/13079070/dynamically-setting-datagridviewcomboboxcells-datasource-to-filtered-dataview-b\">Dynamically setting DataGridViewComboBoxCell's DataSource to filtered DataView based off of other cell selection</a></p>\n\n<p>but nothing worked.</p>\n"}, {"tags": ["c#", "navigation", "windows-phone-8.1"], "comments": [{"owner": {"reputation": 1512, "user_id": 853344, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/UP1oL.jpg?s=128&g=1", "display_name": "Mr Mush", "link": "https://stackoverflow.com/users/853344/mr-mush"}, "edited": false, "score": 0, "creation_date": 1447883355, "post_id": 33791027, "comment_id": 55349247, "body": "It is hard to help without the context of the line, could you had some more code?"}, {"owner": {"reputation": 3091, "user_id": 1332734, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aDwy0.png?s=128&g=1", "display_name": "Kristian Vukusic", "link": "https://stackoverflow.com/users/1332734/kristian-vukusic"}, "edited": false, "score": 0, "creation_date": 1447883540, "post_id": 33791027, "comment_id": 55349349, "body": "Is your <code>InformationView</code> of type <code>Page</code>?"}, {"owner": {"reputation": 3, "user_id": 5578611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a8864e9b810ef8d9718346a8c17374?s=128&d=identicon&r=PG&f=1", "display_name": "FizzyMustard", "link": "https://stackoverflow.com/users/5578611/fizzymustard"}, "edited": false, "score": 0, "creation_date": 1447883674, "post_id": 33791027, "comment_id": 55349423, "body": "It&#39;s PhoneApplicationPage"}, {"owner": {"reputation": 91, "user_id": 3685131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YKXmR.jpg?s=128&g=1", "display_name": "ap3rus", "link": "https://stackoverflow.com/users/3685131/ap3rus"}, "edited": false, "score": 0, "creation_date": 1447884366, "post_id": 33791027, "comment_id": 55349788, "body": "<code>PhoneApplicationPage</code> means the project is a Windows Phone Silverlight project. The <code>Frame.Navigate</code> has different signatures in Windows Phone Silverlight and Windows Phone Runtime projects, WP Sliverlight accepts <code>System.Uri</code> while WP Runtime accepts <code>System.Type</code>. Be aware of this when looking for examples or documentation in the internet."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5578611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a8864e9b810ef8d9718346a8c17374?s=128&d=identicon&r=PG&f=1", "display_name": "FizzyMustard", "link": "https://stackoverflow.com/users/5578611/fizzymustard"}, "edited": false, "score": 0, "creation_date": 1447883891, "post_id": 33791158, "comment_id": 55349530, "body": "Ok, but now I have error &quot;An object reference is required for the non-static field, method, or property &#39;Frame.Navigate(Uri)&quot;"}, {"owner": {"reputation": 91, "user_id": 3685131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YKXmR.jpg?s=128&g=1", "display_name": "ap3rus", "link": "https://stackoverflow.com/users/3685131/ap3rus"}, "reply_to_user": {"reputation": 3, "user_id": 5578611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a8864e9b810ef8d9718346a8c17374?s=128&d=identicon&r=PG&f=1", "display_name": "FizzyMustard", "link": "https://stackoverflow.com/users/5578611/fizzymustard"}, "edited": false, "score": 0, "creation_date": 1447884061, "post_id": 33791158, "comment_id": 55349619, "body": "In the <code>xaml</code> of the page of code behind which you&#39;re inserting this code, what is the value of  <code>Name</code> attribute of <code>Frame</code> tag?"}, {"owner": {"reputation": 3, "user_id": 5578611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a8864e9b810ef8d9718346a8c17374?s=128&d=identicon&r=PG&f=1", "display_name": "FizzyMustard", "link": "https://stackoverflow.com/users/5578611/fizzymustard"}, "edited": false, "score": 0, "creation_date": 1447884888, "post_id": 33791158, "comment_id": 55350066, "body": "I don&#39;t have a Frame tag, i can&#39;t even create it (&quot;The type &quot;Frame&quot; was not found&quot;)"}, {"owner": {"reputation": 3, "user_id": 5578611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a8864e9b810ef8d9718346a8c17374?s=128&d=identicon&r=PG&f=1", "display_name": "FizzyMustard", "link": "https://stackoverflow.com/users/5578611/fizzymustard"}, "edited": false, "score": 0, "creation_date": 1447884944, "post_id": 33791158, "comment_id": 55350094, "body": "I tried use NavigationService.Navigate(new Uri(&quot;/Views/InformationView.xaml&quot;, UriKind.Relative)); but then I have NullReferenceException"}], "tags": [], "owner": {"reputation": 91, "user_id": 3685131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YKXmR.jpg?s=128&g=1", "display_name": "ap3rus", "link": "https://stackoverflow.com/users/3685131/ap3rus"}, "is_accepted": false, "score": 0, "last_activity_date": 1447883622, "creation_date": 1447883622, "answer_id": 33791158, "question_id": 33791027, "link": "https://stackoverflow.com/questions/33791027/how-can-i-use-frame-navigate-method-in-windows-phone-application/33791158#33791158", "title": "How can I use Frame.Navigate method in Windows Phone application?", "body": "<p>As the error said, the <code>Frame.Navigate</code> expects <code>System.Uri</code> containing the relative path to the view you want to navigate, for example like this:</p>\n\n<pre><code>Frame.Navigate(new Uri(\"Views/InformationView.xaml\", UriKind.Relative));\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5578611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a8864e9b810ef8d9718346a8c17374?s=128&d=identicon&r=PG&f=1", "display_name": "FizzyMustard", "link": "https://stackoverflow.com/users/5578611/fizzymustard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 364, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447883622, "creation_date": 1447883143, "question_id": 33791027, "link": "https://stackoverflow.com/questions/33791027/how-can-i-use-frame-navigate-method-in-windows-phone-application", "title": "How can I use Frame.Navigate method in Windows Phone application?", "body": "<p>I am writing application on Windows Phone 8.1 and I have problem with navigating to another page. Probably I can't use Frame.Navigate in proper way. I want to navigate to page for example InformationView (which is in Views folder). I did it like this:</p>\n\n<p>Frame.Navigate(typeof(InformationView));</p>\n\n<p>but I have error: Cannot convert from System.Type to System.Uri.\nI'm new in Windows Phone and don't understand this problem. Anybody can help?</p>\n"}, {"tags": ["c#", "wpf", "multithreading"], "comments": [{"owner": {"reputation": 4707, "user_id": 3980115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0346113c8f43a8036d8989fa0ba3ae55?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad274", "link": "https://stackoverflow.com/users/3980115/vlad274"}, "edited": false, "score": 1, "creation_date": 1447884738, "post_id": 33791011, "comment_id": 55349987, "body": "What is the exception, and what line is it on?"}, {"owner": {"reputation": 3059, "user_id": 2428407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76fdba35cfb51f3d55dcef8262b13126?s=128&d=identicon&r=PG", "display_name": "vesan", "link": "https://stackoverflow.com/users/2428407/vesan"}, "edited": false, "score": 0, "creation_date": 1447885546, "post_id": 33791011, "comment_id": 55350372, "body": "Personally, I would recommend creating a copy of the BitmapImages you&#39;re working with (possibly as <code>Bitmap</code> objects) and work with them in the background thread."}], "answers": [{"tags": [], "owner": {"reputation": 2020, "user_id": 2087055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32213d2e4f8f36694ac9d3736abcc631?s=128&d=identicon&r=PG&f=1", "display_name": "Kosala W", "link": "https://stackoverflow.com/users/2087055/kosala-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1447885157, "creation_date": 1447885157, "answer_id": 33791550, "question_id": 33791011, "link": "https://stackoverflow.com/questions/33791011/how-to-pass-a-field-from-the-main-ui-as-an-argument-for-a-method-from-different/33791550#33791550", "title": "How to pass a field from the Main UI as an argument for a method from different thread", "body": "<p>You have to use BackgroundThreads for UI related activities. Try Changing your code like this.</p>\n\n<pre><code>    private void CompareButton_Click(object sender, RoutedEventArgs e)\n    {\n        BackgroundWorker workerThread = new BackgroundWorker();\n        workerThread.DoWork+=workerThread_DoWork;\n        workerThread.RunWorkerCompleted +=workerThread_RunWorkerCompleted;\n        workerThread.RunWorkerAsync();\n    }\n\n    private void workerThread_RunWorkerCompleted(object sender, RunWorkerCompletedEventArgs e)\n    {\n        Console.WriteLine(\"Process completed\");\n    }\n\n    private void workerThread_DoWork(object sender, DoWorkEventArgs e)\n    {\n        Compare();\n    }\n\n    private void Compare()\n    {\n        //your method\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 5578603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be23c6cb1bc821e07a178572c406285d?s=128&d=identicon&r=PG&f=1", "display_name": "IskanderS", "link": "https://stackoverflow.com/users/5578603/iskanders"}, "is_accepted": false, "score": 0, "last_activity_date": 1447887872, "creation_date": 1447887872, "answer_id": 33792206, "question_id": 33791011, "link": "https://stackoverflow.com/questions/33791011/how-to-pass-a-field-from-the-main-ui-as-an-argument-for-a-method-from-different/33792206#33792206", "title": "How to pass a field from the Main UI as an argument for a method from different thread", "body": "<p>I tried using background worker as Kosala Suggested however it still hasn't  solved my problem, then after googling a bit more I found out that you can pass an argument to the RunWorkerAsync() and then use it in your Do_Work Class, so what I did was I passed two string values that contain adrresses to the bitmap images to the RUnWorkerAsync and then used them to create  new instances of Bitmap images and then I passed those two new instances as an arguments to my functions. Solution looks a bit dirty to me , but I couldn't find a better one , so here's my Do_Work method:</p>\n\n<pre><code> void worker_DoWork(object sender, DoWorkEventArgs e)\n    {\n        List&lt;string&gt; strings = (List&lt;string&gt;)e.Argument;\n        string string1 = strings[0];\n        string string2 = strings[1];\n        BitmapImage image1 = new BitmapImage();\n        image1.BeginInit();\n        image1.UriSource = new Uri(string1);\n        image1.EndInit();\n\n        BitmapImage image2 = new BitmapImage();\n        image2.BeginInit();\n        image2.UriSource = new Uri(string2);\n        image2.EndInit();\n        Compare(image1, image2);\n    }\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5578603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be23c6cb1bc821e07a178572c406285d?s=128&d=identicon&r=PG&f=1", "display_name": "IskanderS", "link": "https://stackoverflow.com/users/5578603/iskanders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1447887872, "creation_date": 1447883076, "question_id": 33791011, "link": "https://stackoverflow.com/questions/33791011/how-to-pass-a-field-from-the-main-ui-as-an-argument-for-a-method-from-different", "title": "How to pass a field from the Main UI as an argument for a method from different thread", "body": "<p>I am writing a program using c# and Wpf. I call the methods that perform my calculations in a different thread to keep the App responsive , however when I try to pass a field from the main thread as an argument for those methods from a different thread I get an exception. I've tried using Dispatcher it didn't solve my problem.Here's the method that is called in the different thread:</p>\n\n<pre><code>        private void Compare()\n    {\n        //gets a hashcode using getpixel string instance and checks if image is cropped using CompareStrings method of check instance\n        BitmapImage Image1 = new BitmapImage();\n        BitmapImage Image2 = new BitmapImage();\n        Action a = () =&gt;\n        {\n            Image1.UriSource = image1.UriSource;\n            Image2.UriSource = image2.UriSource;\n        };\n        Dispatcher.Invoke(a);\n             hashcode1 = getPixel.GetHashCode(Image1);\n             hashcode2 = getPixel.GetHashCode(Image2);\n             bool match = check.CompareStrings(hashcode2, hashcode1);\n             if (match)\n             {\n                 MessageBox.Show(\"The image is Cropped\");\n             }\n             else\n             {\n                 MessageBox.Show(\"These are two different images\");\n             }\n\n\n    }\n</code></pre>\n\n<p>Here's code that calls thread:</p>\n\n<pre><code>        private void CompareButton_Click(object sender, RoutedEventArgs e)\n    {\n        Thread workerThread = new Thread(Compare);\n        workerThread.Start();\n    }\n</code></pre>\n\n<p>Here's a code for a GetHashCode method, that's where I get an exception:</p>\n\n<pre><code>public List&lt;string&gt; GetHashCode(BitmapImage bitmap)\n    {//takes a bitmap and translates it into the hashcode list\n        List&lt;string&gt; hashCode= new List&lt;string&gt;();\n\n        int stride = bitmap.PixelWidth * (bitmap.Format.BitsPerPixel / 8);\n        for (int i = 0; i &lt; bitmap.PixelHeight; i++)//divides an image into rows \n        {\n            string row=\"\";\n            for (int x = 0; x &lt; bitmap.PixelWidth; x++)//iterates through each pixel in the row\n            {\n                byte[] pixel = new byte[bitmap.PixelHeight];//holds color values of a single pixel\n                bitmap.CopyPixels(new Int32Rect(x, i, 1, 1), pixel, stride, 0);//assigns color values of a single pixel to the pixel array\n                Color singlePixel = new Color();//creates new color objects and assigns the color values found in pixel array to it\n                singlePixel.B = pixel[0];\n                singlePixel.G = pixel[1];\n                singlePixel.R = pixel[2];\n                singlePixel.A = pixel[3];\n                row += singlePixel.GetHashCode().ToString();//converst the color value into the hashcode and converts it to the string\n            }\n            hashCode.Add(row);\n            UpdatePRogress();\n        }\n</code></pre>\n\n<p>As you see I tried using Dispatcher  method but it didn't work</p>\n"}, {"tags": ["c#", "unity3d", "google-cardboard"], "owner": {"reputation": 51, "user_id": 5278329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daf45507f23995c70760f5b67f4619e?s=128&d=identicon&r=PG&f=1", "display_name": "G.Soria", "link": "https://stackoverflow.com/users/5278329/g-soria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 273, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1447900004, "creation_date": 1447882746, "last_edit_date": 1447900004, "question_id": 33790922, "link": "https://stackoverflow.com/questions/33790922/navigation-in-cardboard-unity-using-the-cardboard-magnetic-sensor", "title": "Navigation in Cardboard-Unity using the Cardboard Magnetic sensor", "body": "<p>Hi I did a unity scene where the player can walk in a garden, this work fine, but I need when I pull\nthe magnetic sensor in the cardboard, the player walk without stopping until drop the magnetic sensor.\nI used the example for the movement <a href=\"https://www.youtube.com/watch?v=9w5WdImac2M\" rel=\"nofollow\">Navigation Plug-in</a></p>\n\n<pre><code>using UnityEngine;\nusing System.Collections;\n\npublic class PlayerMotor : MonoBehaviour {\n\npublic GameObject Cursor; // Google Cardboard SDK: Cursor / GazePointer from CardboardMain Prefab\nprivate Vector3 goal;\nprivate NavMeshAgent agent;\n\n\npublic GameObject miPlayer;\nprivate Vector3 startingPosition;\nprivate Vector3 firstFloorPosition;\nprivate Vector3 secondFloorPosition;\nprivate Vector3 thirdFloorPosition;\n\nvoid Start() {\n    this.agent = GetComponent&lt;NavMeshAgent&gt;();\n    this.goal = new Vector3(0f, 0f, 0f);\n    startingPosition = miPlayer.transform.localPosition;\n}\n\n//Set navigation destination to the position of the cursor\n//Ex. Call this from an event trigger on the floor object\npublic void SetDestinationToCursor() {\n    this.goal = Cursor.transform.position;\n    MoveToDestination();\n}\n////code of move of position of the player(Camara)\npublic void goToFirstFloor(){\n    this.goal = firstFloorPosition;\n    MoveToDestination();\n}\npublic void goToSecondFloor(){\n    this.goal = firstFloorPosition;\n    MoveToDestination();\n}\npublic void goToThirdFloor(){\n    this.goal = thirdFloorPosition;\n    MoveToDestination();\n}\n////\npublic void DisableMeshRendererCursor(GameObject cursor){\n    cursor.GetComponent &lt;MeshRenderer&gt;().enabled = false;\n}\n\npublic void EnableMeshRendererCursor(GameObject cursor){\n    cursor.GetComponent &lt;MeshRenderer&gt;().enabled = true;\n}\n\n\npublic void ResetDestinationToCursor() {\n    this.goal = startingPosition;\n    MoveToDestination();\n}\n\npublic void ExitApplication(){\n    Application.Quit ();\n}\n\nvoid MoveToDestination(){\n    this.agent.destination = goal; \n}\n}\n</code></pre>\n\n<p>I prove other code of the example in the Unity manual but no work <a href=\"http://docs.unity3d.com/ScriptReference/Input.html\" rel=\"nofollow\">docs.unity3d</a></p>\n"}, {"tags": ["c#", "ninject", "inversion-of-control"], "answers": [{"comments": [{"owner": {"reputation": 7275, "user_id": 3329836, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fc1f21187a572afe47d95587c32ce68f?s=128&d=identicon&r=PG", "display_name": "Jamie Rees", "link": "https://stackoverflow.com/users/3329836/jamie-rees"}, "edited": false, "score": 0, "creation_date": 1447885304, "post_id": 33791336, "comment_id": 55350262, "body": "Awesome, thank you. I&#39;ve been pulling my hair out about this one!"}], "tags": [], "owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "is_accepted": true, "score": 2, "last_activity_date": 1447884654, "last_edit_date": 1447884654, "creation_date": 1447884278, "answer_id": 33791336, "question_id": 33790832, "link": "https://stackoverflow.com/questions/33790832/ninject-pass-constructor-argument-typeof-class-that-implements-the-interface/33791336#33791336", "title": "Ninject pass constructor argument typeof class that implements the interface", "body": "<p>Assuming that your classes look like this:</p>\n\n<pre><code>public class EntityObject\n{\n    public ILogger Logger { get; set; } //it is better by the way to convert this into a private field\n\n    public EntityObject(ILogger logger)\n    {\n        Logger = logger;\n    }\n}\n</code></pre>\n\n<p>You would need to register your <code>NLogLogger</code> like this:</p>\n\n<pre><code>Bind&lt;ILogger&gt;().To&lt;NLogLogger&gt;()\n    .WithConstructorArgument(\n        typeof(Type),\n        x =&gt; x.Request.ParentContext.Plan.Type);\n</code></pre>\n"}], "owner": {"reputation": 7275, "user_id": 3329836, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fc1f21187a572afe47d95587c32ce68f?s=128&d=identicon&r=PG", "display_name": "Jamie Rees", "link": "https://stackoverflow.com/users/3329836/jamie-rees"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 786, "favorite_count": 0, "accepted_answer_id": 33791336, "answer_count": 1, "score": 2, "last_activity_date": 1447884654, "creation_date": 1447882419, "question_id": 33790832, "link": "https://stackoverflow.com/questions/33790832/ninject-pass-constructor-argument-typeof-class-that-implements-the-interface", "title": "Ninject pass constructor argument typeof class that implements the interface", "body": "<p>I am attempting to use Ninject with my application logging wrapper.</p>\n\n<p>Here is the wrapper:</p>\n\n<pre><code>public class NLogLogger : ILogger\n{\n    private readonly Logger _logger;\n\n    public NLogLogger(Type t)\n    {\n        _logger = LogManager.GetLogger(t.Name);\n    }\n}\n</code></pre>\n\n<p>As you can see I am passing the type into the loggers constrctor, so I would use it like the following:</p>\n\n<pre><code>public class EntityObject\n{\n    public ILogger Logger { get; set; }\n\n    public EntityObject()\n    {\n        Logger = new NLogLogger(typeof(EntityObject));\n    }\n}\n</code></pre>\n\n<p>Now I cannot seem to find out how to do something similar with using Ninject.\nHere is my binding module:</p>\n\n<pre><code>public class LoggerModule : NinjectModule\n{\n    public override void Load()\n    {\n        Bind&lt;ILogger&gt;().To&lt;NLogLogger&gt;();\n    }\n}\n</code></pre>\n\n<p>Now obviously I get an exception thrown because it cannot inject the type into the constructor. Any ideas how I can do this?</p>\n\n<blockquote>\n  <p>Error activating Type</p>\n  \n  <p>No matching bindings are available, and the type is not self-bindable.</p>\n  \n  <p>Activation path:</p>\n  \n  <p>4) Injection of dependency Type into parameter t of constructor of type NLogLogger</p>\n  \n  <p>3) Injection of dependency ILogger into parameter logger of constructor of type NzbGetSettingsService</p>\n  \n  <p>2) Injection of dependency ISettingsService{NzbGetSettingsDto} into parameter nzbGetService of constructor of type DashboardController</p>\n  \n  <p>1) Request for DashboardController</p>\n</blockquote>\n"}, {"tags": ["c#", "optimization", "bit-manipulation"], "comments": [{"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 2, "creation_date": 1447882429, "post_id": 33790773, "comment_id": 55348738, "body": "Since <code>Indices</code> is a small, immutable type have you tried making it a <code>struct</code>?"}, {"owner": {"reputation": 20105, "user_id": 451540, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/jajjn.png?s=128&g=1", "display_name": "thumbmunkeys", "link": "https://stackoverflow.com/users/451540/thumbmunkeys"}, "edited": false, "score": 0, "creation_date": 1447883070, "post_id": 33790773, "comment_id": 55349088, "body": "is <code>PrecomputedIndices</code> an array or <code>List</code>?"}, {"owner": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "edited": false, "score": 0, "creation_date": 1447883343, "post_id": 33790773, "comment_id": 55349237, "body": "If you sort the indices by either input or output index, you can halve the size of that thing and also make access of one of them linear. Also if it&#39;s an interleave in the usual sense (perfect shuffle) then you don&#39;t need any indexes."}, {"owner": {"reputation": 4459, "user_id": 127251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b6273d6505f5cead55793f95dbe7873?s=128&d=identicon&r=PG", "display_name": "Paul Chernoch", "link": "https://stackoverflow.com/users/127251/paul-chernoch"}, "edited": false, "score": 0, "creation_date": 1447883653, "post_id": 33790773, "comment_id": 55349409, "body": "* PrecomputedIndices is an array, not a List.   * I considered making Indices a struct. That would give it value semantics, which would mean the foreach loop would make copies of the struct. That seems to give and take at the same time, so not sure which is faster.  * The permutation is constant for one instance of the transformation of points. (All points have their bits permuted in the same way.) However, the program is a solver that will try thousands of permutations, looking for an optimal solution of a problem. Each permutation is randomly generated."}, {"owner": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "edited": false, "score": 1, "creation_date": 1447883801, "post_id": 33790773, "comment_id": 55349482, "body": "You could make it an array of ints (perhaps smaller) to avoid struct copying"}, {"owner": {"reputation": 20105, "user_id": 451540, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/jajjn.png?s=128&g=1", "display_name": "thumbmunkeys", "link": "https://stackoverflow.com/users/451540/thumbmunkeys"}, "edited": false, "score": 0, "creation_date": 1447883865, "post_id": 33790773, "comment_id": 55349517, "body": "@PaulChernoch making it a struct will give the elements cache locality, the compiler may handle the copying cleverly, best thing is to try it."}, {"owner": {"reputation": 4459, "user_id": 127251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b6273d6505f5cead55793f95dbe7873?s=128&d=identicon&r=PG", "display_name": "Paul Chernoch", "link": "https://stackoverflow.com/users/127251/paul-chernoch"}, "reply_to_user": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "edited": false, "score": 0, "creation_date": 1447883926, "post_id": 33790773, "comment_id": 55349544, "body": "@Harold - It is a sort of round-robin thing. I take the highest important bit from one dimension, then the highest bit from a second, etc until done. Then I move on to the second highest bit of each dimension, taking the dimensions in the same order (an order that was initially randomly generated.)"}, {"owner": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "edited": false, "score": 2, "creation_date": 1447884028, "post_id": 33790773, "comment_id": 55349601, "body": "since you call this millions of times use <code>for</code> loop instead of <code>foreach</code>. it will save a very short time. but better than nothing."}, {"owner": {"reputation": 4459, "user_id": 127251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b6273d6505f5cead55793f95dbe7873?s=128&d=identicon&r=PG", "display_name": "Paul Chernoch", "link": "https://stackoverflow.com/users/127251/paul-chernoch"}, "reply_to_user": {"reputation": 20105, "user_id": 451540, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/jajjn.png?s=128&g=1", "display_name": "thumbmunkeys", "link": "https://stackoverflow.com/users/451540/thumbmunkeys"}, "edited": false, "score": 1, "creation_date": 1447884034, "post_id": 33790773, "comment_id": 55349603, "body": "@thumbmunkeys - Good point. I am not clever about things related to cache locality. Did lots of C programming in the eighties, but C# has spoiled me and ruined my good habits."}, {"owner": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "edited": false, "score": 1, "creation_date": 1447884142, "post_id": 33790773, "comment_id": 55349667, "body": "Then why not just keep the order of the dimensions? You already know the rest of the order, and it&#39;s trivial to generate on the fly. Also there is a really nice optimization there: you can build one <code>uint</code> at the time (gathering the bits) without it going back and forth through memory (and you can poke it into the byte array directly with <code>unsafe</code>)"}, {"owner": {"reputation": 4459, "user_id": 127251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b6273d6505f5cead55793f95dbe7873?s=128&d=identicon&r=PG", "display_name": "Paul Chernoch", "link": "https://stackoverflow.com/users/127251/paul-chernoch"}, "reply_to_user": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "edited": false, "score": 0, "creation_date": 1447884430, "post_id": 33790773, "comment_id": 55349836, "body": "@Harold - yes I can sort PrecomputedIndices array so as to ensure that I build bytes in an increasing sequence or read them in an increasing sequence (not sure which is best, but I can only do one). I was ready to give up. You all have such good ideas. Thx!"}], "answers": [{"comments": [{"owner": {"reputation": 38606, "user_id": 23771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NeuGc.jpg?s=128&g=1", "display_name": "Mike Dunlavey", "link": "https://stackoverflow.com/users/23771/mike-dunlavey"}, "edited": false, "score": 0, "creation_date": 1447961102, "post_id": 33812277, "comment_id": 55390747, "body": "You&#39;re confining the reordering to bytes? Why not just create a 256-byte array of translated values, and then just index into it? If you&#39;re translating lots of bytes, it will fly after you&#39;ve generated the table."}, {"owner": {"reputation": 4459, "user_id": 127251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b6273d6505f5cead55793f95dbe7873?s=128&d=identicon&r=PG", "display_name": "Paul Chernoch", "link": "https://stackoverflow.com/users/127251/paul-chernoch"}, "reply_to_user": {"reputation": 38606, "user_id": 23771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NeuGc.jpg?s=128&g=1", "display_name": "Mike Dunlavey", "link": "https://stackoverflow.com/users/23771/mike-dunlavey"}, "edited": false, "score": 0, "creation_date": 1447962284, "post_id": 33812277, "comment_id": 55391416, "body": "Typical case: Array X[4000] integers have their bits rearranged. The first output byte gets one bit from X[0], one bit from X[1], one from X[2], etc. That is the interleaving process. I do not think a lookup table will work. If it could, I would be interested."}, {"owner": {"reputation": 38606, "user_id": 23771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NeuGc.jpg?s=128&g=1", "display_name": "Mike Dunlavey", "link": "https://stackoverflow.com/users/23771/mike-dunlavey"}, "edited": false, "score": 0, "creation_date": 1447979044, "post_id": 33812277, "comment_id": 55399516, "body": "Another idea: unpack the input data into a byte array, one LSB bit per byte. Then use your index array to copy them, with random access, to a second byte array. Then pack the second array into the output array. With some unrolling, the unpack and pack loops should get your bitwise operations done with minimal cycles."}], "tags": [], "owner": {"reputation": 4459, "user_id": 127251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b6273d6505f5cead55793f95dbe7873?s=128&d=identicon&r=PG", "display_name": "Paul Chernoch", "link": "https://stackoverflow.com/users/127251/paul-chernoch"}, "is_accepted": false, "score": 0, "last_activity_date": 1617361331, "last_edit_date": 1617361331, "creation_date": 1447959741, "answer_id": 33812277, "question_id": 33790773, "link": "https://stackoverflow.com/questions/33790773/optimize-the-rearranging-of-bits/33812277#33812277", "title": "Optimize the rearranging of bits", "body": "<p>These are the crucial parts of my revised implementation, with ideas drawn from the commenters:</p>\n<ol>\n<li><p>Convert object to struct, shrink data types to smaller ints, and rearrange so that the object should fit into a 64-bit value, which is better for a 64-bit machine:</p>\n<pre><code>struct Indices\n{\n    /// &lt;summary&gt;\n    /// Index into source vector of source uint to read.\n    /// &lt;/summary&gt;\n    public readonly int iFromUintVector;\n    /// &lt;summary&gt;\n    /// Index into target vector of target byte to write.\n    /// &lt;/summary&gt;\n    public readonly short iToByteVector;\n    /// &lt;summary&gt;\n    /// Index into source uint of source bit to read.\n    /// &lt;/summary&gt;\n    public readonly byte iFromUintBit;\n    /// &lt;summary&gt;\n    /// Index into target byte of target bit to write.\n    /// &lt;/summary&gt;\n    public readonly byte iToByteBit;\n    public Indices(int fromUintVector, byte fromUintBit, short toByteVector, byte toByteBit)\n    {\n        iFromUintVector = fromUintVector;\n        iFromUintBit = fromUintBit;\n        iToByteVector = toByteVector;\n        iToByteBit = toByteBit;\n    }\n}\n</code></pre>\n</li>\n<li><p>Sort the PrecomputedIndices so that I write each target byte and bit in ascending order, which improves memory cache access:</p>\n<pre><code>Comparison&lt;Indices&gt; sortByTargetByteAndBit = (a, b) =&gt;\n{\n    if (a.iToByteVector &lt; b.iToByteVector) return -1;\n    if (a.iToByteVector &gt; b.iToByteVector) return 1;\n    if (a.iToByteBit &lt; b.iToByteBit) return -1;\n    if (a.iToByteBit &gt; b.iToByteBit) return 1;\n    return 0;\n};\nArray.Sort(PrecomputedIndices, sortByTargetByteAndBit);\n</code></pre>\n</li>\n<li><p>Unroll the loop so that a whole target byte is assembled at once, reducing the number of times I access the target array:</p>\n<pre><code>public byte[] Interleave(uint[] vector)\n{\n    var byteVector = new byte[BytesNeeded + 1]; // An extra byte is needed to hold the extra bits and a sign bit for the BigInteger.\n    var extraBits = Bits - BytesNeeded &lt;&lt; 3;\n    int iIndex = 0;\n    var iByte = 0;\n    for (; iByte &lt; BytesNeeded; iByte++)\n    {\n        // Unroll the loop so we compute the bits for a whole byte at a time.\n        uint bits = 0;\n        var idx0 = PrecomputedIndices[iIndex];\n        var idx1 = PrecomputedIndices[iIndex + 1];\n        var idx2 = PrecomputedIndices[iIndex + 2];\n        var idx3 = PrecomputedIndices[iIndex + 3];\n        var idx4 = PrecomputedIndices[iIndex + 4];\n        var idx5 = PrecomputedIndices[iIndex + 5];\n        var idx6 = PrecomputedIndices[iIndex + 6];\n        var idx7 = PrecomputedIndices[iIndex + 7];\n        bits = (((vector[idx0.iFromUintVector] &gt;&gt; idx0.iFromUintBit) &amp; 1U))\n             | (((vector[idx1.iFromUintVector] &gt;&gt; idx1.iFromUintBit) &amp; 1U) &lt;&lt; 1)\n             | (((vector[idx2.iFromUintVector] &gt;&gt; idx2.iFromUintBit) &amp; 1U) &lt;&lt; 2)\n             | (((vector[idx3.iFromUintVector] &gt;&gt; idx3.iFromUintBit) &amp; 1U) &lt;&lt; 3)\n             | (((vector[idx4.iFromUintVector] &gt;&gt; idx4.iFromUintBit) &amp; 1U) &lt;&lt; 4)\n             | (((vector[idx5.iFromUintVector] &gt;&gt; idx5.iFromUintBit) &amp; 1U) &lt;&lt; 5)\n             | (((vector[idx6.iFromUintVector] &gt;&gt; idx6.iFromUintBit) &amp; 1U) &lt;&lt; 6)\n             | (((vector[idx7.iFromUintVector] &gt;&gt; idx7.iFromUintBit) &amp; 1U) &lt;&lt; 7);\n        byteVector[iByte] = (Byte)bits;\n        iIndex += 8;\n    }\n    for (; iIndex &lt; PrecomputedIndices.Length; iIndex++)\n    {\n        var idx = PrecomputedIndices[iIndex];\n        var bit = (byte)(((vector[idx.iFromUintVector] &gt;&gt; idx.iFromUintBit) &amp; 1U) &lt;&lt; idx.iToByteBit);\n        byteVector[idx.iToByteVector] |= bit;\n    }\n    return byteVector;\n}\n</code></pre>\n</li>\n</ol>\n<ul>\n<li>#1 cuts the function from taking up 35% of the execution time to 30% of the execution time (14% savings).</li>\n<li>#2 did not speed the function up, but made #3 possible.</li>\n<li>#3 cuts the function from 30% of exec time to 19.6%, another 33% in savings.</li>\n</ul>\n<p><strong>Total savings: 44%!!!</strong></p>\n"}], "owner": {"reputation": 4459, "user_id": 127251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b6273d6505f5cead55793f95dbe7873?s=128&d=identicon&r=PG", "display_name": "Paul Chernoch", "link": "https://stackoverflow.com/users/127251/paul-chernoch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1617361375, "creation_date": 1447882221, "last_edit_date": 1617361375, "question_id": 33790773, "link": "https://stackoverflow.com/questions/33790773/optimize-the-rearranging-of-bits", "title": "Optimize the rearranging of bits", "body": "<p>I have a core C# function that I am trying to speed up. Suggestions involving safe or unsafe code are equally welcome. Here is the method:</p>\n<pre><code>public byte[] Interleave(uint[] vector)\n{\n    var byteVector = new byte[BytesNeeded + 1]; // Extra byte needed when creating a BigInteger, for sign bit.\n    foreach (var idx in PrecomputedIndices)\n    {\n        var bit = (byte)(((vector[idx.iFromUintVector] &gt;&gt; idx.iFromUintBit) &amp; 1U) &lt;&lt; idx.iToByteBit);\n        byteVector[idx.iToByteVector] |= bit;\n    }\n    return byteVector;\n}\n</code></pre>\n<p><code>PrecomputedIndices</code> is an array of the following class:</p>\n<pre><code>class Indices\n{\n    public readonly int iFromUintVector;\n    public readonly int iFromUintBit;\n    public readonly int iToByteVector;\n    public readonly int iToByteBit;\n\n    public Indices(int fromUintVector, int fromUintBit, int toByteVector, int toByteBit)\n    {\n        iFromUintVector = fromUintVector;\n        iFromUintBit = fromUintBit;\n        iToByteVector = toByteVector;\n        iToByteBit = toByteBit;\n    }\n}\n</code></pre>\n<p>The purpose of the <code>Interleave</code> method is to copy bits from an array of uints to an array of bytes. I have pre-computed the source and target array index and the source and target bit number and stored them in the Indices objects. No two adjacent bits in the source will be adjacent in the target, so that rules out certain optimizations.</p>\n<p>To give you an idea of scale, the problem I am working on has about 4,200 dimensions, so &quot;vector&quot; has 4,200 elements. The values in vector range from zero to twelve, so I only need to use four bits to store their values in the byte array, thus I need 4,200 x 4 = 16,800 bits of data, or 2,100 bytes of output per vector. This method will be called millions of times. It consumes approximately a third of the time in the larger procedure I need to optimize.</p>\n<p><strong>UPDATE 1:</strong> Changing &quot;Indices&quot; to a struct and shrinking a few of the datatypes so that the object was just eight bytes (an int, a short, and two bytes) reduced the percentage of execution time from 35% to 30%.</p>\n"}, {"tags": ["c#", "json", "ajax", "reflection", "asp.net-web-api"], "comments": [{"owner": {"reputation": 15799, "user_id": 1195273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/392b9a49e8a308036d37c9d07e9c7d9b?s=128&d=identicon&r=PG", "display_name": "crush", "link": "https://stackoverflow.com/users/1195273/crush"}, "edited": false, "score": 1, "creation_date": 1447882182, "post_id": 33790711, "comment_id": 55348579, "body": "Going to need a lot more information for this, like are you using MVC.NET, WebApi, WCF? Something else? If you just want to turn that into JSON, use <code>DataContractJsonSerializer</code> or JSON.Net."}, {"owner": {"reputation": 83, "user_id": 2438077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d28c4298ba9c26a8f41006fc3f918cf3?s=128&d=identicon&r=PG", "display_name": "user2438077", "link": "https://stackoverflow.com/users/2438077/user2438077"}, "reply_to_user": {"reputation": 15799, "user_id": 1195273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/392b9a49e8a308036d37c9d07e9c7d9b?s=128&d=identicon&r=PG", "display_name": "crush", "link": "https://stackoverflow.com/users/1195273/crush"}, "edited": false, "score": 0, "creation_date": 1447882819, "post_id": 33790711, "comment_id": 55348951, "body": "Using WebApi with post to /api/products object posted: {Data : &quot;Name,Price.PriceFormated&quot;}  Work well except I always get All the object serialized and would like to be able to selet what parts of the object i get back based on my data in the post"}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1447883168, "post_id": 33790711, "comment_id": 55349151, "body": "The JSON part is rather trivial once you&#39;ve got the actual problem solved: generate a type at runtime that only has the specified properties, and the values of the source list for those properties. While an interesting question, a full-blown solution would be too broad. Can you explain what you have tried, and with what part specifically you need help?"}, {"owner": {"reputation": 6834, "user_id": 2216380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f211d4b44d6c2cafdf0fe0ea5e13cd4?s=128&d=identicon&r=PG", "display_name": "Royal Bg", "link": "https://stackoverflow.com/users/2216380/royal-bg"}, "edited": false, "score": 1, "creation_date": 1447883331, "post_id": 33790711, "comment_id": 55349233, "body": "Smells like a lot of reflection"}, {"owner": {"reputation": 83, "user_id": 2438077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d28c4298ba9c26a8f41006fc3f918cf3?s=128&d=identicon&r=PG", "display_name": "user2438077", "link": "https://stackoverflow.com/users/2438077/user2438077"}, "edited": false, "score": 0, "creation_date": 1447883503, "post_id": 33790711, "comment_id": 55349328, "body": "My first idea was the following using System.Reflection.Emit.TypeBuilder and then create all as string and use AutoMapping to copy the data from object to the new but then have some issues with converting the type&#168;"}, {"owner": {"reputation": 83, "user_id": 2438077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d28c4298ba9c26a8f41006fc3f918cf3?s=128&d=identicon&r=PG", "display_name": "user2438077", "link": "https://stackoverflow.com/users/2438077/user2438077"}, "edited": false, "score": 0, "creation_date": 1447883556, "post_id": 33790711, "comment_id": 55349360, "body": "Second i did try find a good way to do with reflection  but cant seem to get it right&#39;"}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 1, "creation_date": 1447883619, "post_id": 33790711, "comment_id": 55349395, "body": "Then please <a href=\"https://stackoverflow.com/posts/33790711/edit\">edit</a> your question to include your code, the input and the actual result."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1447886839, "post_id": 33790711, "comment_id": 55350916, "body": "Sounds similar to <a href=\"http://stackoverflow.com/questions/5139467/how-to-create-linq-query-from-string\">How to create LINQ Query from string?</a>.  It&#39;s also possible to use Json.NET to serialize only selected properties using a custom <a href=\"http://www.newtonsoft.com/json/help/html/contractresolver.htm\" rel=\"nofollow noreferrer\"><code>ContractResolver</code></a>, or to filter the results afterward.  Can you show us a <a href=\"http://stackoverflow.com/help/mcve\">concrete example</a> of one your API calls?"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1447971102, "post_id": 33790711, "comment_id": 55396275, "body": "WebApi uses Json.NET.  You might consider serializing to a <code>JToken</code> hierarchy, filtering the hierarchy using the answer from <a href=\"https://stackoverflow.com/questions/30304128\">How to perform partial object serialization providing \u201cpaths\u201d using Newtonsoft JSON.NET</a>, then returning the trimmed-down <code>JToken</code> using <a href=\"http://www.bizcoder.com/returning-raw-json-content-from-asp-net-web-api\" rel=\"nofollow noreferrer\">Returning raw JSON content from ASP.NET Web API</a>."}], "owner": {"reputation": 83, "user_id": 2438077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d28c4298ba9c26a8f41006fc3f918cf3?s=128&d=identicon&r=PG", "display_name": "user2438077", "link": "https://stackoverflow.com/users/2438077/user2438077"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447887536, "creation_date": 1447881976, "last_edit_date": 1447887536, "question_id": 33790711, "link": "https://stackoverflow.com/questions/33790711/select-only-a-specified-set-of-properties-from-a-list-of-objects", "title": "Select only a specified set of properties from a list of objects", "body": "<p>Given a <code>List&lt;Product&gt;</code> of the following definition:</p>\n\n<pre><code>public class Product\n{\n    public String Name;\n    Public String Description;\n    public Price price;\n}\n\npublic class Price \n{\n    float Price;\n    String PriceFormated;\n}\n</code></pre>\n\n<p>Now I need to be able to fulfill an Ajax request where I'm requested only the specified property names in a string array, such as <code>{ \"Name\", \"Price.PriceFormated\" }</code>. I think I need to use reflection for this.</p>\n\n<p>This would be the resulting response, only showing the requested properties:</p>\n\n<pre><code>[\n    {\n        \"Name\": \"Something\"\n        \"Price\" : {\n            \"PriceFormated\": \"100 USD\"\n        }\n    },{\n        \"Name\": \"Something1\"\n        \"Price\" : {\n            \"PriceFormated\": \"101 USD\"\n        }\n    }\n]\n</code></pre>\n\n<p>It need to work on any class, not just the ones shown.</p>\n"}, {"tags": ["c#", "list", "silverlight", "selecteditem", "longlistselector"], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 4092872, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a546880d2adb0ddfa46816528836e4d2?s=128&d=identicon&r=PG&f=1", "display_name": "bazsibazsi", "link": "https://stackoverflow.com/users/4092872/bazsibazsi"}, "is_accepted": false, "score": 0, "last_activity_date": 1448147953, "creation_date": 1448147953, "answer_id": 33849790, "question_id": 33790591, "link": "https://stackoverflow.com/questions/33790591/longlistselector-c-how-to-get-selecteditem-as-string-from-grouped-data-list/33849790#33849790", "title": "LongListSelector C# - How to get SelectedItem as string from grouped data list - Windows Phone Silverlight 8.1", "body": "<p>I don't know what a grouped list exactly is, but if your RoomList class looks for example somehow like this:</p>\n\n<pre><code>internal class RoomList\n{\n    public string Location { get; set; }\n    public string ClassNumber { get; set; }\n}\n</code></pre>\n\n<p>and you create a new instance of RoomList</p>\n\n<pre><code>RoomList selectedRoom  = new RoomList()\n{\n    Location = \"north\",\n    ClassNumber = \"n01\"\n}\n</code></pre>\n\n<p>and you call selectedRoom .ToString() you will get 'WPLongListSelectorDemo.RoomList' because you converts the type itself to string (which returns the namespace and the name of the type), not the string property of the instance selectedRoom.</p>\n\n<p>Instead, you should do this:</p>\n\n<pre><code>MessageBox.Show(selectedRoom .Location.ToString()) \n</code></pre>\n\n<p>or</p>\n\n<pre><code>MessageBox.Show(selectedRoom.ClassNumber.ToString()).\n</code></pre>\n\n<p>(In this case, you don't even need ToString(), because both Location and ClassNumber are strings.)</p>\n\n<p>You can also override the ToString() method of RoomList:</p>\n\n<pre><code>internal class RoomList\n{\n    public string Location { get; set; }\n    public string ClassNumber { get; set; }\n\n    public override string ToString()\n    {\n        return Location + \", \" + ClassNumber;\n    } \n}\n</code></pre>\n\n<p>In that case, selectedRoom.ToString() will returns 'north, n01'.</p>\n"}], "owner": {"reputation": 79, "user_id": 5578521, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-vVr-P0spJAk/AAAAAAAAAAI/AAAAAAAAAbk/7cfBuPTzwCc/photo.jpg?sz=128", "display_name": "Jason Brown", "link": "https://stackoverflow.com/users/5578521/jason-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1448147953, "creation_date": 1447881520, "question_id": 33790591, "link": "https://stackoverflow.com/questions/33790591/longlistselector-c-how-to-get-selecteditem-as-string-from-grouped-data-list", "title": "LongListSelector C# - How to get SelectedItem as string from grouped data list - Windows Phone Silverlight 8.1", "body": "<p>I'm building my first WP Silverlight 8.1 app in C# so still quite novice!</p>\n\n<p>I've got a LongListSelector in my app which allows a user to choose a room. When a user taps on a room I want the room name (eg 'N01', 'N07', 'N12' - see code below!) to be stored as a string. </p>\n\n<p>I have the rooms stored in a grouped list - the list 'dataSource' is bound to the LongListSelector (which btw is called 'longListSelectorState').</p>\n\n<p>Here is my C# code of the list:</p>\n\n<pre><code>namespace WPLongListSelectorDemo\n{\npublic partial class MainPage : PhoneApplicationPage\n{\n    List&lt;RoomList&gt; dataSource;\n    // Constructor\n    public MainPage()\n    {\n\n        InitializeList();\n        InitializeComponent();\n   List&lt;RoomGroup&lt;RoomList&gt;&gt; DataSource = RoomGroup&lt;RoomList&gt;.CreateGroups(dataSource,\n            System.Threading.Thread.CurrentThread.CurrentUICulture,\n            (RoomList s) =&gt; { return s.RoomName; }, true);\n        longListSelectorState.ItemsSource = DataSource;\n        // Sample code to localize the ApplicationBar\n        //BuildLocalizedApplicationBar();\n    }\n\n    private void InitializeList()\n    {\n        dataSource = new List&lt;RoomList&gt;();\n        //North Rooms - Classrooms\n        dataSource.Add(new RoomList(\"N01\", \"North\"));\n        dataSource.Add(new RoomList(\"N02\", \"North\"));\n        dataSource.Add(new RoomList(\"N03\", \"North\"));\n        dataSource.Add(new RoomList(\"N04\", \"North\"));\n        dataSource.Add(new RoomList(\"N05\", \"North\"));\n        dataSource.Add(new RoomList(\"N06\", \"North\"));\n        dataSource.Add(new RoomList(\"N07\", \"North\"));\n        dataSource.Add(new RoomList(\"N08\", \"North\"));\n        dataSource.Add(new RoomList(\"N09\", \"North\"));\n        dataSource.Add(new RoomList(\"N10\", \"North\"));\n        dataSource.Add(new RoomList(\"N11\", \"North\"));\n        dataSource.Add(new RoomList(\"N12\", \"North\"));\n        dataSource.Add(new RoomList(\"N13\", \"North\"));\n        dataSource.Add(new RoomList(\"N14\", \"North\"));\n        dataSource.Add(new RoomList(\"N15\", \"North\"));\n        dataSource.Add(new RoomList(\"N16\", \"North\"));\n        dataSource.Add(new RoomList(\"N17\", \"North\"));\n        dataSource.Add(new RoomList(\"N18\", \"North\"));\n        dataSource.Add(new RoomList(\"N19\", \"North\"));\n        dataSource.Add(new RoomList(\"N20\", \"North\"));\n        dataSource.Add(new RoomList(\"N21\", \"North\")); \n</code></pre>\n\n<p>The list is actually longer than that but I've cut it down a bit here. There's over 100 elements in the list.   </p>\n\n<p>I've tried using the following code to get the SelectedItem from the list and then display it in a message box.</p>\n\n<pre><code>  private void longListSelectorState_SelectionChanged(object sender, SelectionChangedEventArgs e)\n    {\n        var selectedRoom = longListSelectorState.SelectedItem;\n        MessageBox.Show(selectedRoom.ToString());\n\n    }\n</code></pre>\n\n<p>But the message box just shows 'WPLongListSelectorDemo.RoomList' as the SelectedItem. WPLongListSelector is the namespace and RoonList is the list name, so that makes sense I guess, but it's not what I want! I want it to say 'N01', for example. </p>\n\n<p>How do I go about getting the actual room from the list as the SelectedItem as a string?</p>\n\n<p>Thanks! </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 364, "user_id": 5294783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Tvf5.jpg?s=128&g=1", "display_name": "Matthew Chrobak", "link": "https://stackoverflow.com/users/5294783/matthew-chrobak"}, "edited": false, "score": 0, "creation_date": 1447881730, "post_id": 33790573, "comment_id": 55348319, "body": "What word do you need to remove from your text file?"}, {"owner": {"reputation": 1, "user_id": 5578536, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TKjYOkpysgw/AAAAAAAAAAI/AAAAAAAANvw/JW8ZRqcgTqM/photo.jpg?sz=128", "display_name": "Maximilian Henn", "link": "https://stackoverflow.com/users/5578536/maximilian-henn"}, "reply_to_user": {"reputation": 364, "user_id": 5294783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Tvf5.jpg?s=128&g=1", "display_name": "Matthew Chrobak", "link": "https://stackoverflow.com/users/5294783/matthew-chrobak"}, "edited": false, "score": 0, "creation_date": 1447881759, "post_id": 33790573, "comment_id": 55348335, "body": "for example the word &quot;test&quot;"}, {"owner": {"reputation": 5480, "user_id": 1264360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed97babb5c190f0eacce8cb27affe733?s=128&d=identicon&r=PG", "display_name": "Shawn C.", "link": "https://stackoverflow.com/users/1264360/shawn-c"}, "edited": false, "score": 0, "creation_date": 1447881817, "post_id": 33790573, "comment_id": 55348371, "body": "what is happening? what is wrong? what else have you attempted?"}, {"owner": {"reputation": 12857, "user_id": 1282539, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d73911f3fb624361e7d39b82f9395cc1?s=128&d=identicon&r=PG", "display_name": "SimpleVar", "link": "https://stackoverflow.com/users/1282539/simplevar"}, "edited": false, "score": 1, "creation_date": 1447881822, "post_id": 33790573, "comment_id": 55348374, "body": "What&#39;s the problem with your current code? Is it that you want it by word and not by line?"}, {"owner": {"reputation": 1, "user_id": 5578536, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TKjYOkpysgw/AAAAAAAAAAI/AAAAAAAANvw/JW8ZRqcgTqM/photo.jpg?sz=128", "display_name": "Maximilian Henn", "link": "https://stackoverflow.com/users/5578536/maximilian-henn"}, "edited": false, "score": 0, "creation_date": 1447881879, "post_id": 33790573, "comment_id": 55348401, "body": "My current code is still not working"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1447881887, "post_id": 33790573, "comment_id": 55348407, "body": "So what is the question? When you run the code, what happens? What does the output file look like?  Please clearly define &quot;not working&quot;."}, {"owner": {"reputation": 1, "user_id": 5578536, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TKjYOkpysgw/AAAAAAAAAAI/AAAAAAAANvw/JW8ZRqcgTqM/photo.jpg?sz=128", "display_name": "Maximilian Henn", "link": "https://stackoverflow.com/users/5578536/maximilian-henn"}, "edited": false, "score": 0, "creation_date": 1447882013, "post_id": 33790573, "comment_id": 55348475, "body": "My code just do nothing."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1447882034, "post_id": 33790573, "comment_id": 55348488, "body": "Try adding <code>.ToArray</code> at the end of your line selection, ie: <code>File.ReadAllLines(fileName).Where(l =&gt; l != selectedTextString).ToArray();</code>"}, {"owner": {"reputation": 364, "user_id": 5294783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Tvf5.jpg?s=128&g=1", "display_name": "Matthew Chrobak", "link": "https://stackoverflow.com/users/5294783/matthew-chrobak"}, "edited": false, "score": 0, "creation_date": 1447882054, "post_id": 33790573, "comment_id": 55348502, "body": "When you run it, does an output file get created? If so, what text does that contain?"}, {"owner": {"reputation": 1, "user_id": 5578536, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TKjYOkpysgw/AAAAAAAAAAI/AAAAAAAANvw/JW8ZRqcgTqM/photo.jpg?sz=128", "display_name": "Maximilian Henn", "link": "https://stackoverflow.com/users/5578536/maximilian-henn"}, "edited": false, "score": 0, "creation_date": 1447882171, "post_id": 33790573, "comment_id": 55348572, "body": ".ToArray(); brings no different."}, {"owner": {"reputation": 1, "user_id": 5578536, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TKjYOkpysgw/AAAAAAAAAAI/AAAAAAAANvw/JW8ZRqcgTqM/photo.jpg?sz=128", "display_name": "Maximilian Henn", "link": "https://stackoverflow.com/users/5578536/maximilian-henn"}, "edited": false, "score": 0, "creation_date": 1447882249, "post_id": 33790573, "comment_id": 55348612, "body": "The text file is there before I start my program. But my program changes nothing."}, {"owner": {"reputation": 91, "user_id": 3685131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YKXmR.jpg?s=128&g=1", "display_name": "ap3rus", "link": "https://stackoverflow.com/users/3685131/ap3rus"}, "edited": false, "score": 0, "creation_date": 1447882850, "post_id": 33790573, "comment_id": 55348970, "body": "Do you have any exceptions, or it just runs quietly without effects? Can you make some breakpoints to see what&#39;s inside <code>selectedTextString</code> and what&#39;s inside <code>unselectedLines</code> after filtering out?"}, {"owner": {"reputation": 8993, "user_id": 1354537, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/24aaaba3c6140eaef24f9ed711644033?s=128&d=identicon&r=PG", "display_name": "Marged", "link": "https://stackoverflow.com/users/1354537/marged"}, "edited": false, "score": 1, "creation_date": 1447885161, "post_id": 33790573, "comment_id": 55350198, "body": "Dann fragst Du die falschen Leute ;-) -&gt; This means you are asking the wrong guys"}, {"owner": {"reputation": 108835, "user_id": 15541, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/515ca9736a9a8ce65e58af764ccddf46?s=128&d=identicon&r=PG", "display_name": "leppie", "link": "https://stackoverflow.com/users/15541/leppie"}, "edited": false, "score": 0, "creation_date": 1448055543, "post_id": 33790573, "comment_id": 55438284, "body": "Your problem is describing your problem. Whatever it is, the solution is likely trival. (And yes yes, ignore the current answers....)"}], "answers": [{"tags": [], "owner": {"reputation": 2020, "user_id": 2087055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32213d2e4f8f36694ac9d3736abcc631?s=128&d=identicon&r=PG&f=1", "display_name": "Kosala W", "link": "https://stackoverflow.com/users/2087055/kosala-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1447884560, "last_edit_date": 1447884560, "creation_date": 1447884165, "answer_id": 33791302, "question_id": 33790573, "link": "https://stackoverflow.com/questions/33790573/c-delete-a-word-from-a-txt-file/33791302#33791302", "title": "c#: Delete a word from a .txt file", "body": "<p>You code has a few issues.</p>\n\n<p>1) It looks like you are reading from a network drive.   (\"\\\\itworks\\txt\\dlist_file.txt\";). Make sure you have access to the file.</p>\n\n<p>2) This line does not make sense.  var selectedText = Objectt; (What is Objectt? why does it have to be an object, not a string?) If you are trying to define a filter, you can define it as a string array instead.</p>\n\n<p>3) This line is not necessary. (var selectedTextString = selectedText.ToString());</p>\n\n<p>4) Your intention is correct in this line. But it will not work because of the way you have defined your selectedTextString variable (var unselectedLines = File.ReadAllLines(fileName).Where(l => l != selectedTextString);)</p>\n\n<p>5) Here you are overwriting your original file. Why not create a new file instead and compare your existing file with the new one?\nFile.WriteAllLines(fileName, unselectedLines);</p>\n\n<p>Can you correct these issues by yourself? If not, we can help you.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5578536, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TKjYOkpysgw/AAAAAAAAAAI/AAAAAAAANvw/JW8ZRqcgTqM/photo.jpg?sz=128", "display_name": "Maximilian Henn", "link": "https://stackoverflow.com/users/5578536/maximilian-henn"}, "edited": false, "score": 0, "creation_date": 1447929479, "post_id": 33791438, "comment_id": 55368629, "body": "tanks for your answer. My Visual Studio can&#180;t start the program, the mistake is &quot;Dump();&quot;:"}, {"owner": {"reputation": 808, "user_id": 1430857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jB7Ar.jpg?s=128&g=1", "display_name": "Sacrilege", "link": "https://stackoverflow.com/users/1430857/sacrilege"}, "reply_to_user": {"reputation": 1, "user_id": 5578536, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TKjYOkpysgw/AAAAAAAAAAI/AAAAAAAANvw/JW8ZRqcgTqM/photo.jpg?sz=128", "display_name": "Maximilian Henn", "link": "https://stackoverflow.com/users/5578536/maximilian-henn"}, "edited": false, "score": 0, "creation_date": 1447943388, "post_id": 33791438, "comment_id": 55378568, "body": "That is a function specific to LINQPad. I changed the code spit out each line to the console instead."}], "tags": [], "owner": {"reputation": 808, "user_id": 1430857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jB7Ar.jpg?s=128&g=1", "display_name": "Sacrilege", "link": "https://stackoverflow.com/users/1430857/sacrilege"}, "is_accepted": false, "score": 0, "last_activity_date": 1447943277, "last_edit_date": 1447943277, "creation_date": 1447884673, "answer_id": 33791438, "question_id": 33790573, "link": "https://stackoverflow.com/questions/33790573/c-delete-a-word-from-a-txt-file/33791438#33791438", "title": "c#: Delete a word from a .txt file", "body": "<p>There is nothing functionally wrong with the code except perhaps this line:</p>\n\n<p><code>var selectedText = Objectt;</code></p>\n\n<p>I copied and pasted the code into LINQPad and got the desired results.</p>\n\n<pre><code>string fileName = @\"C:\\temp\\Homework.txt\";\nvar selectedText = \"test\";\nvar selectedTextString = selectedText.ToString();\n\nvar unselectedLines = File.ReadAllLines(fileName).Where(l =&gt; l != selectedTextString);\n\nFile.WriteAllLines(fileName, unselectedLines);\n\nforeach (String line in File.ReadAllLines(fileName))\n{\n    Console.WriteLine(line);\n}\n\nConsole.ReadLine();\n</code></pre>\n\n<p>Here is the content of my file:</p>\n\n<pre><code>hello\ntest\nyeah\n</code></pre>\n\n<p>Here is the output:</p>\n\n<pre><code>hello \nyeah \n</code></pre>\n\n<p>Perhaps there is a permissions issue or something similar. I would expect you to get an exception when trying to write the file if that were the case though.</p>\n"}], "owner": {"reputation": 1, "user_id": 5578536, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TKjYOkpysgw/AAAAAAAAAAI/AAAAAAAANvw/JW8ZRqcgTqM/photo.jpg?sz=128", "display_name": "Maximilian Henn", "link": "https://stackoverflow.com/users/5578536/maximilian-henn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1448055263, "creation_date": 1447881471, "last_edit_date": 1448055263, "question_id": 33790573, "link": "https://stackoverflow.com/questions/33790573/c-delete-a-word-from-a-txt-file", "title": "c#: Delete a word from a .txt file", "body": "<p>I am trying to write a program to delete one word from a text file, but on running it nothing is deleted from the text file.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>string fileName = \"\\\\\\\\itworks\\\\txt\\\\dlist_file.txt\";\nvar selectedText = Objectt;\nvar selectedTextString = selectedText.ToString();\n\nvar unselectedLines = File.ReadAllLines(fileName).Where(l =&gt; l != selectedTextString);\n\nFile.WriteAllLines(fileName, unselectedLines);\n</code></pre>\n\n<p>The text file <code>dlist_file.txt</code> looks like this</p>\n\n<pre><code>hello\ntest\nyeah\n</code></pre>\n"}, {"tags": ["c#", "reflection", "asp.net-core", "dnx", "coreclr"], "answers": [{"tags": [], "owner": {"reputation": 32703, "user_id": 542757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KVgrz.png?s=128&g=1", "display_name": "K&#233;vin Chalet", "link": "https://stackoverflow.com/users/542757/k%c3%a9vin-chalet"}, "is_accepted": true, "score": 3, "last_activity_date": 1447895800, "creation_date": 1447895800, "answer_id": 33793600, "question_id": 33790560, "link": "https://stackoverflow.com/questions/33790560/activator-createinstance-throws-system-missingmethodexception-when-using-corec/33793600#33793600", "title": "Activator.CreateInstance throws &#39;System.MissingMethodException&#39; when using CoreCLR", "body": "<p>On CoreCLR, <code>Activator</code> doesn't have an overload accepting a boolean parameter indicating whether non-public constructors can be used to instantiate the type. </p>\n\n<p>Your snippet builds correctly because the compiler chooses the <code>CreateInstance(Type type, params object[] args)</code> overload, which treats your boolean like a constructor parameter: since your constructor is parameterless, an exception is thrown.</p>\n"}], "owner": {"reputation": 1476, "user_id": 5795, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9709428edf06193b38c6f655a196d4eb?s=128&d=identicon&r=PG", "display_name": "henningst", "link": "https://stackoverflow.com/users/5795/henningst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1482, "favorite_count": 0, "accepted_answer_id": 33793600, "answer_count": 1, "score": 2, "last_activity_date": 1447895800, "creation_date": 1447881403, "question_id": 33790560, "link": "https://stackoverflow.com/questions/33790560/activator-createinstance-throws-system-missingmethodexception-when-using-corec", "title": "Activator.CreateInstance throws &#39;System.MissingMethodException&#39; when using CoreCLR", "body": "<p>I'm trying to create an instance of a class in my CoreCLR app, but when I call Activator.CreateInstance, I get a System.MissingMethodException saying that it can't find a constructor on the class it's trying to create. The class indeed has a constructor. What am I doing wrong?</p>\n\n<p>The project is only targeting dnxcore50.</p>\n\n<p>This is the code:</p>\n\n<pre><code>using System;\n\nnamespace MyNamespace\n{\n    public class Program\n    {\n        public void Main(string[] args)\n        {\n            Activator.CreateInstance(typeof (MyClass), true);\n        }\n    }\n\n    public class MyClass\n    {\n        public MyClass() { }\n    }\n}\n</code></pre>\n\n<p>And this is the exception:</p>\n\n<pre><code>System.MissingMethodException was unhandled by user code\n  HResult=-2146233069\n  Message=Constructor on type 'MyNamespace.MyClass' not found.\n  Source=mscorlib\n  StackTrace:\n       at System.RuntimeType.CreateInstanceImpl(BindingFlags bindingAttr, Binder binder, Object[] args, CultureInfo culture, Object[] activationAttributes, StackCrawlMark&amp; stackMark)\n       at System.Activator.CreateInstance(Type type, BindingFlags bindingAttr, Binder binder, Object[] args, CultureInfo culture, Object[] activationAttributes)\n       at System.Activator.CreateInstance(Type type, Object[] args)\n       at MyNamespace.Program.Main(String[] args) in C:\\projects\\coreclrplayground\\InvokeMember\\src\\InvokeMember\\Program.cs:line 9\n  InnerException:\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 7145, "user_id": 31326, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/375fe48b92417121e65b2145dcc840be?s=128&d=identicon&r=PG", "display_name": "Peter M", "link": "https://stackoverflow.com/users/31326/peter-m"}, "edited": false, "score": 0, "creation_date": 1447881622, "post_id": 33790549, "comment_id": 55348249, "body": "Where/how does <code>ChangeVisibility</code> ever get called?"}, {"owner": {"reputation": 317, "user_id": 5418904, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78ca500b536ef2fe98267e85edc21199?s=128&d=identicon&r=PG&f=1", "display_name": "Koosshh56", "link": "https://stackoverflow.com/users/5418904/koosshh56"}, "reply_to_user": {"reputation": 7145, "user_id": 31326, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/375fe48b92417121e65b2145dcc840be?s=128&d=identicon&r=PG", "display_name": "Peter M", "link": "https://stackoverflow.com/users/31326/peter-m"}, "edited": false, "score": 0, "creation_date": 1447881845, "post_id": 33790549, "comment_id": 55348386, "body": "See the edit, I&#39;ve added it"}, {"owner": {"reputation": 1064, "user_id": 2113715, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/845d9270b0406b8d9e341206ddd29c63?s=128&d=identicon&r=PG&f=1", "display_name": "Max Hampton", "link": "https://stackoverflow.com/users/2113715/max-hampton"}, "edited": false, "score": 1, "creation_date": 1447881982, "post_id": 33790549, "comment_id": 55348462, "body": "You need an event handler for the SelectionChanged event on the ComboBox. That is where the code in your ChangeVisibility method belongs. Alternatively, you could bind the visibility property to the SelectedItem property in XAML, and use an IValueConverter to check for null."}, {"owner": {"reputation": 317, "user_id": 5418904, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78ca500b536ef2fe98267e85edc21199?s=128&d=identicon&r=PG&f=1", "display_name": "Koosshh56", "link": "https://stackoverflow.com/users/5418904/koosshh56"}, "edited": false, "score": 0, "creation_date": 1447882188, "post_id": 33790549, "comment_id": 55348581, "body": "If I use the SelectionChanged event, will it be called with every item in the combobox? My grid should be hidden with no selection and visible with any selection"}, {"owner": {"reputation": 1064, "user_id": 2113715, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/845d9270b0406b8d9e341206ddd29c63?s=128&d=identicon&r=PG&f=1", "display_name": "Max Hampton", "link": "https://stackoverflow.com/users/2113715/max-hampton"}, "edited": false, "score": 1, "creation_date": 1447882340, "post_id": 33790549, "comment_id": 55348675, "body": "@Koosshh56 Every time the selection changes in the ComboBox, the event will fire. So if any item gets selected, the grid will show up. If the selected item becomes null (no selection), the grid will become hidden again."}, {"owner": {"reputation": 317, "user_id": 5418904, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78ca500b536ef2fe98267e85edc21199?s=128&d=identicon&r=PG&f=1", "display_name": "Koosshh56", "link": "https://stackoverflow.com/users/5418904/koosshh56"}, "reply_to_user": {"reputation": 1064, "user_id": 2113715, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/845d9270b0406b8d9e341206ddd29c63?s=128&d=identicon&r=PG&f=1", "display_name": "Max Hampton", "link": "https://stackoverflow.com/users/2113715/max-hampton"}, "edited": false, "score": 0, "creation_date": 1447882630, "post_id": 33790549, "comment_id": 55348836, "body": "@MaxHampton exactly what I had in mind. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 3243, "user_id": 2396510, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/w9K3z.gif?s=128&g=1", "display_name": "Maximus", "link": "https://stackoverflow.com/users/2396510/maximus"}, "is_accepted": false, "score": 0, "last_activity_date": 1447882487, "creation_date": 1447882487, "answer_id": 33790855, "question_id": 33790549, "link": "https://stackoverflow.com/questions/33790549/c-wpf-change-grid-visibility-if-combobox-item-is-selected/33790855#33790855", "title": "C# WPF change grid visibility if combobox item is selected", "body": "<pre><code> &lt;ComboBox x:Name=\"cb\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\" Width=\"140\" Height=\"25\"/&gt;\n    &lt;Grid x:Name=\"gr\"&gt;\n        &lt;Grid.Style&gt;\n            &lt;Style TargetType=\"Grid\"&gt;\n                &lt;Setter Property=\"Visibility\" Value=\"Visible\"/&gt;\n                &lt;Style.Triggers&gt;\n                    &lt;DataTrigger Binding=\"{Binding ElementName=cb, Path=SelectedItem}\" Value=\"{x:Null}\"&gt;\n                        &lt;Setter Property=\"Visibility\" Value=\"Collapsed\"/&gt;\n                    &lt;/DataTrigger&gt;\n                &lt;/Style.Triggers&gt;\n            &lt;/Style&gt;\n        &lt;/Grid.Style&gt;\n        &lt;Border BorderThickness=\"1\" HorizontalAlignment=\"Left\" Height=\"600\"  VerticalAlignment=\"Top\" Width=\"346\"&gt;\n            &lt;Border  BorderThickness=\"1\" RenderTransformOrigin=\"0.5,0.5\"&gt;\n            &lt;/Border&gt;\n    &lt;/Grid&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1065, "user_id": 1572683, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/905aaf23b902a09d801f304735703105?s=128&d=identicon&r=PG", "display_name": "rraszewski", "link": "https://stackoverflow.com/users/1572683/rraszewski"}, "is_accepted": false, "score": 0, "last_activity_date": 1447883386, "last_edit_date": 1447883386, "creation_date": 1447882678, "answer_id": 33790904, "question_id": 33790549, "link": "https://stackoverflow.com/questions/33790549/c-wpf-change-grid-visibility-if-combobox-item-is-selected/33790904#33790904", "title": "C# WPF change grid visibility if combobox item is selected", "body": "<p>Try with</p>\n\n<p><strong>MainWindow.xaml.cs</strong></p>\n\n<pre><code>private void ComboBox_Selected(object sender, RoutedEventArgs e)\n{\n    var item = Combo.SelectedItem as ComboBoxItem;\n    if (item.Content.ToString() == \"Visible\")\n    {\n        RedGrid.Visibility = System.Windows.Visibility.Visible;\n    }\n    else\n\n    {\n        RedGrid.Visibility = System.Windows.Visibility.Hidden;\n    }\n}\n</code></pre>\n\n<p><strong>MainWindow.xaml:</strong></p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition Height=\"30\"/&gt;\n        &lt;RowDefinition /&gt;\n    &lt;/Grid.RowDefinitions&gt;\n    &lt;ComboBox Name=\"Combo\" SelectionChanged=\"ComboBox_Selected\"&gt;\n        &lt;ComboBoxItem Content=\"Visible\" /&gt;\n        &lt;ComboBoxItem Content=\"Hidden\" /&gt;\n    &lt;/ComboBox&gt;\n    &lt;Grid Name=\"RedGrid\" Grid.Row=\"1\" Background=\"Red\"&gt;\n\n    &lt;/Grid&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>Or to be more similar to your problem:</p>\n\n<p><strong>MainWindow.xaml.cs:</strong></p>\n\n<pre><code>private void ComboBox_Selected(object sender, RoutedEventArgs e)\n{\n    var item = Combo.SelectedItem as ComboBoxItem;\n    if (item != null)\n    {\n        RedGrid.Visibility = System.Windows.Visibility.Visible;\n    }\n}\n</code></pre>\n\n<p><strong>MainWindow.xaml:</strong></p>\n\n<pre><code>&lt;ComboBox Name=\"Combo\" SelectionChanged=\"ComboBox_Selected\" &gt;\n    &lt;ComboBoxItem Content=\"Element 1\" /&gt;\n    &lt;ComboBoxItem Content=\"Element 2\" /&gt;\n&lt;/ComboBox&gt;\n&lt;Grid Name=\"RedGrid\" Grid.Row=\"1\" Background=\"Red\" Visibility=\"Hidden\"&gt;\n\n&lt;/Grid&gt;\n</code></pre>\n\n<p>But I am not sure, that your approach is correct. You cannot easily deselect item in ComboBox so basically if you select anything Grid will be always visible. I will rather chose solution with multiple ComboBoxItem where one of them will be \"none\", \"hide\" or sth like that.</p>\n\n<p>You can always think about MVVM pattern which is very popular with WPF framework</p>\n"}], "owner": {"reputation": 317, "user_id": 5418904, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78ca500b536ef2fe98267e85edc21199?s=128&d=identicon&r=PG&f=1", "display_name": "Koosshh56", "link": "https://stackoverflow.com/users/5418904/koosshh56"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1545, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1447883386, "creation_date": 1447881376, "last_edit_date": 1447881826, "question_id": 33790549, "link": "https://stackoverflow.com/questions/33790549/c-wpf-change-grid-visibility-if-combobox-item-is-selected", "title": "C# WPF change grid visibility if combobox item is selected", "body": "<p>I'm trying to display a <code>Grid</code>and its contents when an item (anyone) in <code>combobox</code> is selected. If nothing is selected, grid will remain hidden.</p>\n\n<p><strong>XAML</strong></p>\n\n<pre><code>    &lt;ComboBox x:Name=\"cb\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\" Width=\"140\" Height=\"25\"/&gt;\n    &lt;Grid x:Name=\"gr\" Visibility=\"Hidden\"&gt;\n            &lt;Border BorderThickness=\"1\" HorizontalAlignment=\"Left\" Height=\"600\"  VerticalAlignment=\"Top\" Width=\"346\"&gt;\n                &lt;Border  BorderThickness=\"1\" RenderTransformOrigin=\"0.5,0.5\"&gt;\n            &lt;/Border&gt;\n    &lt;/Grid&gt;\n</code></pre>\n\n<p>I've tried with this:</p>\n\n<p><strong>XAML.CS</strong></p>\n\n<pre><code>public void ChangeVisibility(ComboBox cb, Grid gr)\n    {\n        if (cb.SelectedItem != null)\n        {\n            gr.Visibility = Visibility.Visible;\n        }\n        else\n        {\n            gr.Visibility = Visibility.Hidden;\n        }\n</code></pre>\n\n<p>But it doesn't change anything. I've tried in multiple ways, even with <code>string.IsNullOrEmpty</code>.\nSource of <code>combobox</code> is a <code>List&lt;string&gt;</code>.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Method is called here</p>\n\n<pre><code>public MainWindow()\n        {\n            InitializeComponent();\n            WindowStartupLocation = WindowStartupLocation.CenterScreen;\n            ChangeVisibility(cb, gr);\n        }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "string", "xaml", "visual-studio-2013"], "comments": [{"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 2, "creation_date": 1447881444, "post_id": 33790534, "comment_id": 55348149, "body": "<code>((Path)sender).Fill = ...</code>"}, {"owner": {"reputation": 11781, "user_id": 8384, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/08bc2edb5f1342c0c1e4805f4d4585bf?s=128&d=identicon&r=PG", "display_name": "McKay", "link": "https://stackoverflow.com/users/8384/mckay"}, "edited": false, "score": 1, "creation_date": 1447881466, "post_id": 33790534, "comment_id": 55348162, "body": "The phrase &quot;cast the string to an UI Element&quot; doesn&#39;t make sense. What do you have in the string? It looks like you mean &quot;name of the current path that the mouse entered&quot;, but I don&#39;t know what that means either."}, {"owner": {"reputation": 1154, "user_id": 5521111, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8e093586ada3c2edcc8ef616e9dce736?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno Joaquim", "link": "https://stackoverflow.com/users/5521111/bruno-joaquim"}, "edited": false, "score": 0, "creation_date": 1447893166, "post_id": 33790534, "comment_id": 55353205, "body": "I think you could use trigger to achieve your goal, can you provide some XAML code to help me answer your question?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4515473, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-fEOkqE_zpRY/AAAAAAAAAAI/AAAAAAAAAKA/O8NsrhlT_ZI/photo.jpg?sz=128", "display_name": "silviussa", "link": "https://stackoverflow.com/users/4515473/silviussa"}, "is_accepted": false, "score": 0, "last_activity_date": 1447884311, "last_edit_date": 1447884311, "creation_date": 1447882157, "answer_id": 33790759, "question_id": 33790534, "link": "https://stackoverflow.com/questions/33790534/wpf-convert-string-to-ui-element/33790759#33790759", "title": "WPF: Convert string to UI Element", "body": "<p>Thank you Clemens.</p>\n\n<p>This is the answer:</p>\n\n<pre><code>private void MouseEnter(object sender, MouseEventArgs e)\n{\n    var mouseWasDownOn = e.Source as FrameworkElement;\n    if (mouseWasDownOn != null)\n    {\n        string elementName = mouseWasDownOn.Name;\n\n        ((Path)mouseWasDownOn).Fill = new SolidColorBrush(Color.FromArgb(255, 193, 194, 194));     \n    }\n\n\n}\n</code></pre>\n\n<p>Or shorter:</p>\n\n<pre><code>private void MouseEnter(object sender, MouseEventArgs e)\n{\n    ((Path)sender).Fill = new SolidColorBrush(Color.FromArgb(255, 193, 194, 194));  \n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4515473, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-fEOkqE_zpRY/AAAAAAAAAAI/AAAAAAAAAKA/O8NsrhlT_ZI/photo.jpg?sz=128", "display_name": "silviussa", "link": "https://stackoverflow.com/users/4515473/silviussa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 894, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447884311, "creation_date": 1447881338, "question_id": 33790534, "link": "https://stackoverflow.com/questions/33790534/wpf-convert-string-to-ui-element", "title": "WPF: Convert string to UI Element", "body": "<p>Here's what i'm trying to do: I have lots of paths that are acting as buttons, I wanted to change the fill color of any of them on mouse over and mouse exit. To do so, I wanted to create a function that scans the name of the current path that the mouse entered, store it in a variable or string, and then use that to change the fill color.</p>\n\n<p>The Problem is: I have no idea how to cast the string to an UI Element, nothing that used to work on Windows Forms seems to work on WPF. The code that retrieves the name of the element does work fine.</p>\n\n<pre><code>private void MouseEnter(object sender, MouseEventArgs e)\n    {\n        var mouseWasDownOn = e.Source as FrameworkElement;\n        if (mouseWasDownOn != null)\n        {\n            string elementName = mouseWasDownOn.Name;\n\n            [no idea what goes here].Fill = new SolidColorBrush(Color.FromArgb(255, 193, 194, 194));     \n        }\n\n\n    }\n</code></pre>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["c#", ".net", "windows"], "answers": [{"tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 0, "last_activity_date": 1447884007, "creation_date": 1447884007, "answer_id": 33791248, "question_id": 33790506, "link": "https://stackoverflow.com/questions/33790506/cannot-write-the-event-log-when-the-app-runs-on-windows-server-2012-from-server/33791248#33791248", "title": "Cannot write the event log when the app runs on windows server 2012 from server 2008", "body": "<p>The problem may be the rights to create the event source - I can't see why 32 vs 64-bit would make a difference.  You may have to run the app with admin privileges (at least the first time) to create the event source.</p>\n\n<p>From <a href=\"https://msdn.microsoft.com/en-us/library/2awhba7a.aspx\" rel=\"nofollow\">MSDN</a>:</p>\n\n<blockquote>\n  <p>To create an event source in Windows Vista and later or Windows Server\n  2003, you must have administrative privileges.</p>\n  \n  <p>The reason for this requirement is that all event logs, including\n  security, must be searched to determine whether the event source is\n  unique. Starting with Windows Vista, users do not have permission to\n  access the security log; therefore, a SecurityException is thrown.</p>\n  \n  <p>In Windows Vista and later, User Account Control (UAC) determines the\n  privileges of a user. If you are a member of the Built-in\n  Administrators group, you are assigned two run-time access tokens: a\n  standard user access token and an administrator access token. By\n  default, you are in the standard user role. To execute the code that\n  accesses the security log, you must first elevate your privileges from\n  standard user to administrator. <strong>You can do this when you start an\n  application by right-clicking the application icon and indicating that\n  you want to run as an administrator.</strong></p>\n</blockquote>\n"}], "owner": {"reputation": 1338, "user_id": 819774, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e1c114adb6cc6ca788bb9b2c8b0d3534?s=128&d=identicon&r=PG", "display_name": "user819774", "link": "https://stackoverflow.com/users/819774/user819774"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 638, "favorite_count": 0, "accepted_answer_id": 33791248, "answer_count": 1, "score": 0, "last_activity_date": 1447884007, "creation_date": 1447881257, "question_id": 33790506, "link": "https://stackoverflow.com/questions/33790506/cannot-write-the-event-log-when-the-app-runs-on-windows-server-2012-from-server", "title": "Cannot write the event log when the app runs on windows server 2012 from server 2008", "body": "<p>I upgrade my app which worked fine on Windows Server 2008(32 bit) from framework 3.5 to 4.5 for Windows Server 2012(64 bit). In the app, there is third party component runs on 32 bit. We cannot upgrade it because the supplier has no plans to update it. Therefore my app platform target is set for any CPU but Prefer 32-bit on my project property. All function is work except writing the event log. Would anyone provide suggestion to deal with this issue? Thank in advance.</p>\n\n<p>There is my code to write the event log. </p>\n\n<pre><code>private static void RecordEventLog(string sMessage, EventLogEntryType ErrorType)\n    {\n        string source = \"Testing App\";\n        string logName = \"Application\";\n        string machineName = \".\";\n        if (!EventLog.SourceExists(source, machineName))\n        {\n            EventSourceCreationData sourceData = new EventSourceCreationData(source, logName);\n            sourceData.MachineName = machineName;\n            EventLog.CreateEventSource(sourceData);\n        }\n        new EventLog(logName, machineName, source).WriteEntry(sMessage, ErrorType);\n    }\n</code></pre>\n"}, {"tags": ["c#", "ibm-mq"], "answers": [{"comments": [{"owner": {"reputation": 2347, "user_id": 639176, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e24baea5fd012ef2acaf9e31e39ac35c?s=128&d=identicon&r=PG&f=1", "display_name": "Anil Soman", "link": "https://stackoverflow.com/users/639176/anil-soman"}, "edited": false, "score": 0, "creation_date": 1496226496, "post_id": 33790548, "comment_id": 75571087, "body": "How to read other headers from MQ Message? Like if I want to read header called &quot;type&quot; from the message, then how to write a code to read it?"}, {"owner": {"reputation": 1996, "user_id": 2856530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48fe00bf3cbd2fea1f606816551dfd6c?s=128&d=identicon&r=PG&f=1", "display_name": "JasonE", "link": "https://stackoverflow.com/users/2856530/jasone"}, "reply_to_user": {"reputation": 2347, "user_id": 639176, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e24baea5fd012ef2acaf9e31e39ac35c?s=128&d=identicon&r=PG&f=1", "display_name": "Anil Soman", "link": "https://stackoverflow.com/users/639176/anil-soman"}, "edited": false, "score": 0, "creation_date": 1496875734, "post_id": 33790548, "comment_id": 75846342, "body": "@AnilSoman follow the link in the answer, and there&#39;s a list of properties, such as Format, MessageType etc (depends on what you actually mean by type)"}], "tags": [], "owner": {"reputation": 1996, "user_id": 2856530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48fe00bf3cbd2fea1f606816551dfd6c?s=128&d=identicon&r=PG&f=1", "display_name": "JasonE", "link": "https://stackoverflow.com/users/2856530/jasone"}, "is_accepted": true, "score": 6, "last_activity_date": 1447881591, "last_edit_date": 1447881591, "creation_date": 1447881373, "answer_id": 33790548, "question_id": 33790349, "link": "https://stackoverflow.com/questions/33790349/read-the-header-of-an-mq-message/33790548#33790548", "title": "Read the header of an MQ message", "body": "<p>Access the <a href=\"http://www-01.ibm.com/support/knowledgecenter/SSFKSJ_8.0.0/com.ibm.mq.ref.dev.doc/q111220_.htm\">Userid property of MQMessage</a> - i.e., <code>message.UserId</code></p>\n\n<blockquote>\n  <p><code>public string UserId { get; set; }</code><br>\n  UserId is part of the identity context of the message. The queue manager generally provides the value. You can override the value if you have authority to set the identity context.</p>\n</blockquote>\n"}], "owner": {"reputation": 709, "user_id": 5313605, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ef0fcbbded463b4ddfe2ddbcfcf6cd64?s=128&d=identicon&r=PG&f=1", "display_name": "nlstack01", "link": "https://stackoverflow.com/users/5313605/nlstack01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 841, "favorite_count": 0, "accepted_answer_id": 33790548, "answer_count": 1, "score": 2, "last_activity_date": 1447881672, "creation_date": 1447880715, "last_edit_date": 1447881672, "question_id": 33790349, "link": "https://stackoverflow.com/questions/33790349/read-the-header-of-an-mq-message", "title": "Read the header of an MQ message", "body": "<p>I am getting a message from MQ with the following code</p>\n\n<pre><code>MQQueue queue = mqManager.AccessQueue(queueName, openOptions);\n\nMQGetMessageOptions gmo = new MQGetMessageOptions();\ngmo.Options = MQC.MQGMO_FAIL_IF_QUIESCING | MQC.MQGMO_WAIT;\ngmo.WaitInterval = MQC.MQWI_UNLIMITED;\n\nqueue.Get(message, gmo);\n\nstring message = message.ReadString(message.MessageLength);\n</code></pre>\n\n<p>The problem is I need access to the header information of this message as well. Namely the userId from whom the message was sent which is found in the header information. How can I access the header information of the message?</p>\n"}, {"tags": ["c#", "ssl", "smtpclient"], "comments": [{"owner": {"reputation": 1740, "user_id": 3117338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/062054032beb9c3abbce7837d9992aca?s=128&d=identicon&r=PG", "display_name": "A.Konzel", "link": "https://stackoverflow.com/users/3117338/a-konzel"}, "edited": false, "score": 0, "creation_date": 1447885797, "post_id": 33790331, "comment_id": 55350478, "body": "Have you verified that you are connecting on port 587 for TLS support?"}, {"owner": {"reputation": 3884, "user_id": 1701463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e27e87b40bc3c624c85816c6adc155?s=128&d=identicon&r=PG", "display_name": "MikeH", "link": "https://stackoverflow.com/users/1701463/mikeh"}, "reply_to_user": {"reputation": 1740, "user_id": 3117338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/062054032beb9c3abbce7837d9992aca?s=128&d=identicon&r=PG", "display_name": "A.Konzel", "link": "https://stackoverflow.com/users/3117338/a-konzel"}, "edited": false, "score": 0, "creation_date": 1447895380, "post_id": 33790331, "comment_id": 55353874, "body": "@SaxxonPike Yes, this was working before I messed with the cipher suites."}, {"owner": {"reputation": 1740, "user_id": 3117338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/062054032beb9c3abbce7837d9992aca?s=128&d=identicon&r=PG", "display_name": "A.Konzel", "link": "https://stackoverflow.com/users/3117338/a-konzel"}, "edited": false, "score": 0, "creation_date": 1447952414, "post_id": 33790331, "comment_id": 55385300, "body": "The only thing I can think to do at this point is add ciphers back to the list one by one until you land on one you feel is secure enough, starting with the most secure and working your way down. It&#39;s unusual that a service such as Gmail wouldn&#39;t support <i>at least one</i> of those ciphers, but I can&#39;t seem to find a list of all the ones they accept to confirm."}, {"owner": {"reputation": 3884, "user_id": 1701463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e27e87b40bc3c624c85816c6adc155?s=128&d=identicon&r=PG", "display_name": "MikeH", "link": "https://stackoverflow.com/users/1701463/mikeh"}, "reply_to_user": {"reputation": 1740, "user_id": 3117338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/062054032beb9c3abbce7837d9992aca?s=128&d=identicon&r=PG", "display_name": "A.Konzel", "link": "https://stackoverflow.com/users/3117338/a-konzel"}, "edited": false, "score": 0, "creation_date": 1447955431, "post_id": 33790331, "comment_id": 55387258, "body": "@SaxxonPike Yeah, I think that&#39;s what I&#39;ll have to do.  Thanks for your time."}, {"owner": {"reputation": 3193, "user_id": 166815, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d74cbbf1c36704e4645521bf5b08e10a?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Gilbert", "link": "https://stackoverflow.com/users/166815/jonathan-gilbert"}, "edited": false, "score": 0, "creation_date": 1480025399, "post_id": 33790331, "comment_id": 68812307, "body": "@MikeH Did you identify which cipher the SMTP connection needed? I am now running into exactly the same issue for exactly the same reason. :-)"}, {"owner": {"reputation": 3884, "user_id": 1701463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e27e87b40bc3c624c85816c6adc155?s=128&d=identicon&r=PG", "display_name": "MikeH", "link": "https://stackoverflow.com/users/1701463/mikeh"}, "reply_to_user": {"reputation": 3193, "user_id": 166815, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d74cbbf1c36704e4645521bf5b08e10a?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Gilbert", "link": "https://stackoverflow.com/users/166815/jonathan-gilbert"}, "edited": false, "score": 0, "creation_date": 1480610985, "post_id": 33790331, "comment_id": 69044329, "body": "@JonathanGilbert Sorry, I don&#39;t recall what I did."}, {"owner": {"reputation": 3193, "user_id": 166815, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d74cbbf1c36704e4645521bf5b08e10a?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Gilbert", "link": "https://stackoverflow.com/users/166815/jonathan-gilbert"}, "edited": false, "score": 0, "creation_date": 1480821960, "post_id": 33790331, "comment_id": 69119669, "body": "Thanks anyway -- I figured it out in the end. In my case, it was the older generation SHA-1 hashing algorithm. I thought SHA-2 with its 256, 384 and 512 byte hash lengths would be adequate, but it looks like there are big names out there still using SHA-1 in their certificates and GMail is one of them."}], "answers": [{"tags": [], "owner": {"reputation": 94, "user_id": 3034616, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003883074929/picture?type=large", "display_name": "Tsukuru", "link": "https://stackoverflow.com/users/3034616/tsukuru"}, "is_accepted": false, "score": 0, "last_activity_date": 1562663229, "creation_date": 1562663229, "answer_id": 56949045, "question_id": 33790331, "link": "https://stackoverflow.com/questions/33790331/after-updating-ssl-settings-cant-send-email-through-smtp/56949045#56949045", "title": "After updating SSL Settings Can&#39;t Send Email Through SMTP", "body": "<p>What .NET version do you use? .NET 4.6 uses TLS 1.2 automatically but older versions like .NET 4.5 don't use TLS 1.2 by default. I hope it helps.</p>\n\n<pre><code>ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12; // .NET 4.5\nServicePointManager.SecurityProtocol = (SecurityProtocolType)3072; // .NET 4.0\n</code></pre>\n"}], "owner": {"reputation": 3884, "user_id": 1701463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e27e87b40bc3c624c85816c6adc155?s=128&d=identicon&r=PG", "display_name": "MikeH", "link": "https://stackoverflow.com/users/1701463/mikeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 575, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1562663229, "creation_date": 1447880635, "question_id": 33790331, "link": "https://stackoverflow.com/questions/33790331/after-updating-ssl-settings-cant-send-email-through-smtp", "title": "After updating SSL Settings Can&#39;t Send Email Through SMTP", "body": "<p>I run a server at home using IIS7.5 and recently ran an SSL test (<a href=\"https://www.ssllabs.com/ssltest\" rel=\"nofollow\">https://www.ssllabs.com/ssltest</a>) on it.  It came back with a recommendation to change the cipher suites that I use to eliminate deprecated ones from being used.  I followed the instructions from here: <a href=\"https://weakdh.org/sysadmin.html\" rel=\"nofollow\">https://weakdh.org/sysadmin.html</a> (scroll down to <code>Microsoft IIS</code>).  The cipher suites that I am now using came from here: <a href=\"https://weakdh.org/sysadmin.html\" rel=\"nofollow\">https://weakdh.org/sysadmin.html</a> under <code>1.1 Modern Compatibility</code>.  Obviously that is the most restrictive.</p>\n\n<p>Now, when I attempt to send an email using <code>SmptClient</code> I get the following error:</p>\n\n<pre><code>A call to SSPI failed, see inner exception.\n</code></pre>\n\n<p>Inner Exception:</p>\n\n<pre><code>The client and server cannot communicate, because they do not possess a common algorithm\n</code></pre>\n\n<p>I'm sending the emails through <code>smtp.gmail.com</code> which I would assume supports modern cipher suites (bad assumption?).  </p>\n"}, {"tags": ["c#", "partial-methods"], "answers": [{"comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1447880927, "post_id": 33790345, "comment_id": 55347850, "body": "I think that covers the parameter names part, but not the type parameter names.  Which means that <code>parital void Foo&lt;T&gt;()</code> and <code>partial void Foo&lt;A&gt;()</code> would also compile."}], "tags": [], "owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "is_accepted": false, "score": 5, "last_activity_date": 1447881019, "last_edit_date": 1447881019, "creation_date": 1447880697, "answer_id": 33790345, "question_id": 33790307, "link": "https://stackoverflow.com/questions/33790307/what-does-parameter-and-type-parameter-names-do-not-have-to-be-the-same-in-the/33790345#33790345", "title": "What does &quot;Parameter and type parameter names do not have to be the same in the implementing declaration as in the defining one&quot; mean?", "body": "<p>That means that the following code, note the parameter names, successfully compiles: </p>\n\n<pre><code>// Definition in file1.cs\npartial void Foo(string foo);\n\n// Implementation in file2.cs\npartial void Foo(string bar)\n{\n  // method body\n}\n</code></pre>\n\n<p>Just as it is the case with interfaces:</p>\n\n<pre><code>public interface IFoo\n{\n    void Bar(string baz);\n}\n\npublic class Foo : IFoo\n{\n    public void Bar(string qux)\n    {\n    }\n}\n</code></pre>\n\n<p>It's parameter order that matters. You can choose whatever valid name you want in the implementation.</p>\n\n<p>For the \"type parameter names\" part, that part specifically is about generics (<code>T</code> versus <code>V</code>), where again the order matters, not the name:</p>\n\n<pre><code>// Definition in file1.cs\npartial void Foo&lt;T&gt;(string foo);\n\n// Implementation in file2.cs\npartial void Foo&lt;V&gt;(string bar)\n{\n  // method body\n}\n</code></pre>\n"}], "owner": {"reputation": 1350, "user_id": 3976630, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/70cf3098524ab40f6935099be92e1423?s=128&d=identicon&r=PG", "display_name": "DPM", "link": "https://stackoverflow.com/users/3976630/dpm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1447881019, "creation_date": 1447880550, "last_edit_date": 1447880912, "question_id": 33790307, "link": "https://stackoverflow.com/questions/33790307/what-does-parameter-and-type-parameter-names-do-not-have-to-be-the-same-in-the", "title": "What does &quot;Parameter and type parameter names do not have to be the same in the implementing declaration as in the defining one&quot; mean?", "body": "<p>While reading about <a href=\"https://msdn.microsoft.com/en-us/library/wa80x488.aspx/\" rel=\"nofollow\" title=\"This is the link for the documentation\">\"partial methods\"</a> in the C# documentation, I found the following sentence: </p>\n\n<blockquote>\n  <p>Parameter and type parameter names do not have to be the same in the implementing declaration as in the defining one.</p>\n</blockquote>\n\n<p>Can someone explains me with an example what this sentence means?</p>\n"}, {"tags": ["c#", "wpf", "rect"], "comments": [{"owner": {"reputation": 1693, "user_id": 1828486, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/paI4G.png?s=128&g=1", "display_name": "Mage Xy", "link": "https://stackoverflow.com/users/1828486/mage-xy"}, "edited": false, "score": 1, "creation_date": 1447881787, "post_id": 33790302, "comment_id": 55348350, "body": "Well, first of all, &quot;overlapping&quot; does not necessarily mean that edges are perfectly touching each other... checking if one edge == another is probably not the correct logic. However, I don&#39;t really understand the rest of your question. What are you trying to accomplish?"}, {"owner": {"reputation": 25, "user_id": 5526956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dddb0a0a7f82bc07beafc716a6b96f7b?s=128&d=identicon&r=PG&f=1", "display_name": "wannabEngineer", "link": "https://stackoverflow.com/users/5526956/wannabengineer"}, "reply_to_user": {"reputation": 1693, "user_id": 1828486, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/paI4G.png?s=128&g=1", "display_name": "Mage Xy", "link": "https://stackoverflow.com/users/1828486/mage-xy"}, "edited": false, "score": 0, "creation_date": 1447883543, "post_id": 33790302, "comment_id": 55349352, "body": "Just trying some simple things. For example: if rect2 hit the top side of rect1 then move rect1 some pixel to bottom direction, and the same with the other sides."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5526956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dddb0a0a7f82bc07beafc716a6b96f7b?s=128&d=identicon&r=PG&f=1", "display_name": "wannabEngineer", "link": "https://stackoverflow.com/users/5526956/wannabengineer"}, "edited": false, "score": 0, "creation_date": 1447943267, "post_id": 33791557, "comment_id": 55378461, "body": "Unfortunately its stil gives me wrong results. Exmaple when it hits the right side, the rect1.Top is can be smaller than rect2.Bottom and handling that like hitting the top of rect1. Any idea? There is something wrong with the conditions."}, {"owner": {"reputation": 1693, "user_id": 1828486, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/paI4G.png?s=128&g=1", "display_name": "Mage Xy", "link": "https://stackoverflow.com/users/1828486/mage-xy"}, "reply_to_user": {"reputation": 25, "user_id": 5526956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dddb0a0a7f82bc07beafc716a6b96f7b?s=128&d=identicon&r=PG&f=1", "display_name": "wannabEngineer", "link": "https://stackoverflow.com/users/5526956/wannabengineer"}, "edited": false, "score": 0, "creation_date": 1447943522, "post_id": 33791557, "comment_id": 55378667, "body": "You are using <code>else-if</code>, which means only one of these conditions will trigger when the rectangles intersect. Remove the <code>else</code> if you want to check each of them at once."}], "tags": [], "owner": {"reputation": 1693, "user_id": 1828486, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/paI4G.png?s=128&g=1", "display_name": "Mage Xy", "link": "https://stackoverflow.com/users/1828486/mage-xy"}, "is_accepted": false, "score": 0, "last_activity_date": 1447885192, "creation_date": 1447885192, "answer_id": 33791557, "question_id": 33790302, "link": "https://stackoverflow.com/questions/33790302/how-to-handle-the-4-sides-of-rect-object-in-case-of-intersectswith-another-one/33791557#33791557", "title": "How to handle the 4 sides of rect object in case of intersectsWith another one?", "body": "<p>It appears that you already have a way to determine whether the two rectangles are colliding, which is good because it makes your job easier. All you have to do now is to determine which side the collision happened on, and then to act accordingly. </p>\n\n<p>If that's the case, then you're already on the right track. However, your logic on the checks is a bit faulty. You're checking if one edge <em>is exactly on top of</em> another edge. In most applications, this is actually pretty rare. What you should be checking is if there is any overlap, which you need the <code>&lt;=</code> and <code>&gt;=</code> comparators for. </p>\n\n<pre><code>if (rect1.IntersectsWith(rect2))\n{\n    // assumes that positive Y signifies downward direction\n    if (rect1.Top &lt;= rect2.Bottom)\n    {\n        ...\n    }\n    else if (rect1.Bottom &gt;= rect2.Top)\n    {\n        ...\n    }\n    else if (rect1.Left &lt;= rect2.Right)\n    {\n        ...\n    }\n    else if (rect1.Right &gt;= rect2.Left)\n    {\n        ...\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 5526956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dddb0a0a7f82bc07beafc716a6b96f7b?s=128&d=identicon&r=PG&f=1", "display_name": "wannabEngineer", "link": "https://stackoverflow.com/users/5526956/wannabengineer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447885192, "creation_date": 1447880544, "question_id": 33790302, "link": "https://stackoverflow.com/questions/33790302/how-to-handle-the-4-sides-of-rect-object-in-case-of-intersectswith-another-one", "title": "How to handle the 4 sides of rect object in case of intersectsWith another one?", "body": "<p>I have to 2 rect objects. One of that cannot move, another one is moving. I would like handle that when its intersectsWith the first one of each side. Something like:</p>\n\n<pre><code>if (rect1.IntersectsWith(rect2))\n {\n     if (rect1.Top == rect2.Bottom)\n     {\n      ...\n     }\n     else if (rect1.Bottom == rect2.Top)\n     {\n      ...\n     }\n     else if (rect1.Left == rect2.Right)\n     {\n      ...\n     }\n     else if (rect1.Right == rect2.Left)\n     {\n      ...\n     }\n }\n</code></pre>\n\n<p>This gives me not an accurate results. Any idea?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1447880085, "post_id": 33790129, "comment_id": 55347365, "body": "Trace it in the debugger and see where the error is coming from.  There&#39;s usually at least 3 layers that the validation could be in (e.g. View, Model, Entity)."}, {"owner": {"reputation": 3657, "user_id": 2840178, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pjr6.png?s=128&g=1", "display_name": "kar", "link": "https://stackoverflow.com/users/2840178/kar"}, "reply_to_user": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1447880811, "post_id": 33790129, "comment_id": 55347779, "body": "I have used breakpoints on the files I have changed. Nothing shows up. IT is not an exception and instead shows a string thus the exception is caught somewhere. The exact string is &quot;Email cannot be null or empty&quot;. Tried to search using find an the string does not show up either on the common files. guess I gotta go file by file."}, {"owner": {"reputation": 5480, "user_id": 1264360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed97babb5c190f0eacce8cb27affe733?s=128&d=identicon&r=PG", "display_name": "Shawn C.", "link": "https://stackoverflow.com/users/1264360/shawn-c"}, "edited": false, "score": 0, "creation_date": 1447881452, "post_id": 33790129, "comment_id": 55348152, "body": "UserManager is still looking for an email which as you commented it out makes sense. Require the email for registering but not login."}, {"owner": {"reputation": 3657, "user_id": 2840178, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pjr6.png?s=128&g=1", "display_name": "kar", "link": "https://stackoverflow.com/users/2840178/kar"}, "reply_to_user": {"reputation": 5480, "user_id": 1264360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed97babb5c190f0eacce8cb27affe733?s=128&d=identicon&r=PG", "display_name": "Shawn C.", "link": "https://stackoverflow.com/users/1264360/shawn-c"}, "edited": false, "score": 0, "creation_date": 1447881981, "post_id": 33790129, "comment_id": 55348461, "body": "@ShawnC How do I make it not a requirement for registering? Cos I tried removing that comment and also placing back Email at AccountViewModel, leave out Email field at View -- and same error message when I try to register."}], "answers": [{"comments": [{"owner": {"reputation": 3657, "user_id": 2840178, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pjr6.png?s=128&g=1", "display_name": "kar", "link": "https://stackoverflow.com/users/2840178/kar"}, "edited": false, "score": 0, "creation_date": 1447883862, "post_id": 33790974, "comment_id": 55349514, "body": "where is this file? You mentioned startup as in  App_Start/Startup.Auth.cs ?"}], "tags": [], "owner": {"reputation": 5480, "user_id": 1264360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed97babb5c190f0eacce8cb27affe733?s=128&d=identicon&r=PG", "display_name": "Shawn C.", "link": "https://stackoverflow.com/users/1264360/shawn-c"}, "is_accepted": true, "score": 0, "last_activity_date": 1447882956, "creation_date": 1447882956, "answer_id": 33790974, "question_id": 33790129, "link": "https://stackoverflow.com/questions/33790129/changing-user-log-in-from-email-to-username/33790974#33790974", "title": "Changing user log in from Email to Username", "body": "<p>This is a guess so please be kind.</p>\n\n<p>In your startup you configure the AddIdentity.</p>\n\n<p>Something like this is most likely there:</p>\n\n<pre><code>// Add Identity services to the services container.\nservices.AddIdentity&lt;ApplicationUser, IdentityRole&gt;()\n    .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;()\n    .AddDefaultTokenProviders();\n</code></pre>\n\n<p>Change it to </p>\n\n<pre><code>  // Add Identity services to the services container.\n  services.AddIdentity&lt;ApplicationUser, IdentityRole&gt;(options =&gt; {\n        options.User.RequireUniqueEmail = false; })\n    .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;()\n    .AddDefaultTokenProviders();\n</code></pre>\n\n<p>This is based on the assumption of using EF and <a href=\"https://github.com/aspnet/Identity/blob/dev/src/Microsoft.AspNet.Identity/UserValidator.cs#L55\" rel=\"nofollow\">https://github.com/aspnet/Identity/blob/dev/src/Microsoft.AspNet.Identity/UserValidator.cs#L55</a></p>\n"}], "owner": {"reputation": 3657, "user_id": 2840178, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pjr6.png?s=128&g=1", "display_name": "kar", "link": "https://stackoverflow.com/users/2840178/kar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 33790974, "answer_count": 1, "score": 1, "last_activity_date": 1447882956, "creation_date": 1447879991, "question_id": 33790129, "link": "https://stackoverflow.com/questions/33790129/changing-user-log-in-from-email-to-username", "title": "Changing user log in from Email to Username", "body": "<p>In ASP.NET MVC 5, by default the login and register setup comes with Email and Password. I want to instead use username and password. There are number of similar cases posted here but following them doesn't help. When I try to register, I get the error message saying \"Email can't be null.\" It seems the setup for email is still valid somewhere and am not sure where. Changes I have made to user Username instead of Email as follows':  </p>\n\n<p>AccountViewModel</p>\n\n<pre><code>//Removed Email and added username for RegisterViewModel \n\npublic class RegisterViewModel\n    {\n        [Required]\n        [Display(Name = \"User name\")]\n        public string Username { get; set; }\n}\n</code></pre>\n\n<p>Accountcontroller change email to username at Register</p>\n\n<pre><code>public async Task&lt;ActionResult&gt; Register(RegisterViewModel model)\n{\n    if (ModelState.IsValid)\n    {   //changed email to username\n        var user = new ApplicationUser { UserName = model.Username};\n        //var user = new ApplicationUser { UserName = model.Email, Email = model.Email };\n        var result = await UserManager.CreateAsync(user, model.Password);\n        if (result.Succeeded)\n        {\n            await SignInManager.SignInAsync(user, isPersistent:false, rememberBrowser:false);                    \n            return RedirectToAction(\"Index\", \"Home\");\n        }\n        AddErrors(result);\n    }\n</code></pre>\n\n<p>Register.cshtml</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n    @Html.LabelFor(m =&gt; m.Username, new { @class = \"col-md-2 control-label\" })\n    &lt;div class=\"col-md-10\"&gt;\n        @Html.TextBoxFor(m =&gt; m.Username, new { @class = \"form-control\" })\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I would do the same for login upon understanding what step I am missing.</p>\n"}, {"tags": ["c#", "wpf", "sip"], "comments": [{"owner": {"reputation": 17024, "user_id": 1296707, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cc4319dbdd4adbb6d25f1eb2309eec20?s=128&d=identicon&r=PG", "display_name": "Markus W Mahlberg", "link": "https://stackoverflow.com/users/1296707/markus-w-mahlberg"}, "edited": false, "score": 0, "creation_date": 1447928685, "post_id": 33790115, "comment_id": 55368047, "body": "Please take the <a href=\"http://www.stackoverflow.com/tour\">introductory tour</a>. This question is way too broad. Some side notes: If you have to ask this, it is propably a Very Bad Idea\u2122 to reinvent a wheel already there, up and running. You should have a deeeeeeeeeeep look if you can integrate an existing soft phone. I did this once by installing a protocol handler for <code>sip:&#47;&#47;</code> URLs."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5578464, "user_type": "registered", "profile_image": "https://graph.facebook.com/1214161408600230/picture?type=large", "display_name": "Shawn Matthews", "link": "https://stackoverflow.com/users/5578464/shawn-matthews"}, "edited": false, "score": 0, "creation_date": 1447882120, "post_id": 33790434, "comment_id": 55348545, "body": "Will definitely check this out, thanks for the advice!"}], "tags": [], "owner": {"reputation": 61, "user_id": 581606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e401b38cdbcd919dc4482eb2dc43c5?s=128&d=identicon&r=PG", "display_name": "kully", "link": "https://stackoverflow.com/users/581606/kully"}, "is_accepted": true, "score": 0, "last_activity_date": 1447881007, "creation_date": 1447881007, "answer_id": 33790434, "question_id": 33790115, "link": "https://stackoverflow.com/questions/33790115/trying-to-build-an-onsip-compatible-softphone-in-c-wpf/33790434#33790434", "title": "Trying to build an OnSIP compatible softphone in C# WPF", "body": "<p>I'm presuming this is a desktop application?</p>\n\n<p>Lookup pjsip.org, it's a portable C library which is very well proven. It will allow you to do all that you are asking, although it'll take you some time to write the wrapper code - you can find examples on the internet, however we have written a wrapper ourselves which I'll check on as we had intended open sourcing it. This is because when we did this last year, the examples just didn't work too well :-)</p>\n"}], "owner": {"reputation": 3, "user_id": 5578464, "user_type": "registered", "profile_image": "https://graph.facebook.com/1214161408600230/picture?type=large", "display_name": "Shawn Matthews", "link": "https://stackoverflow.com/users/5578464/shawn-matthews"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "closed_date": 1447929951, "accepted_answer_id": 33790434, "answer_count": 1, "score": 0, "last_activity_date": 1447881007, "creation_date": 1447879933, "question_id": 33790115, "link": "https://stackoverflow.com/questions/33790115/trying-to-build-an-onsip-compatible-softphone-in-c-wpf", "closed_reason": "Needs more focus", "title": "Trying to build an OnSIP compatible softphone in C# WPF", "body": "<p>I work for a small Point of Sale Company, and we are working on a in-house tool to make our lives easier when it comes to ticketing and troubleshooting. Part of my task in this tool is to write a 'softphone' in C# WPF that we can use to accept incoming and make ongoing calls with. </p>\n\n<p>We currently use OnSIP as our SIP provider, and are looking to build custom software to essentially allow us to auto-generate support tickets based on the phone number of the incoming call. In addition we will need call transferring, recording, hold/wait, etc. </p>\n\n<p>The question that seems to be causing me the most trouble is really where to begin on something like this. Thoughts?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 3762, "user_id": 3276027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e2e43f741889c0d1c599747a318ddf5?s=128&d=identicon&r=PG&f=1", "display_name": "Gian Paolo", "link": "https://stackoverflow.com/users/3276027/gian-paolo"}, "edited": false, "score": 0, "creation_date": 1447880529, "post_id": 33790101, "comment_id": 55347610, "body": "is Class B a dialog window open from class A and that will close when user press OK?"}, {"owner": {"reputation": 797, "user_id": 2756489, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/p7Fwh.png?s=128&g=1", "display_name": "Bennett Yeo", "link": "https://stackoverflow.com/users/2756489/bennett-yeo"}, "edited": false, "score": 0, "creation_date": 1447881316, "post_id": 33790101, "comment_id": 55348082, "body": "Couldn&#39;t you just do <code>ClassA.FillData();</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2691659"}, "reply_to_user": {"reputation": 3762, "user_id": 3276027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e2e43f741889c0d1c599747a318ddf5?s=128&d=identicon&r=PG&f=1", "display_name": "Gian Paolo", "link": "https://stackoverflow.com/users/3276027/gian-paolo"}, "edited": false, "score": 0, "creation_date": 1447881550, "post_id": 33790101, "comment_id": 55348212, "body": "@GianPaolo thanks got it solved.But there are all equally windows or forms if i may say."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2691659"}, "reply_to_user": {"reputation": 797, "user_id": 2756489, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/p7Fwh.png?s=128&g=1", "display_name": "Bennett Yeo", "link": "https://stackoverflow.com/users/2756489/bennett-yeo"}, "edited": false, "score": 0, "creation_date": 1447881597, "post_id": 33790101, "comment_id": 55348235, "body": "@KiroYakuza from my OOP knowledge you can&#39;t access non static variables like that or can you ?"}, {"owner": {"reputation": 3762, "user_id": 3276027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e2e43f741889c0d1c599747a318ddf5?s=128&d=identicon&r=PG&f=1", "display_name": "Gian Paolo", "link": "https://stackoverflow.com/users/3276027/gian-paolo"}, "edited": false, "score": 0, "creation_date": 1447881923, "post_id": 33790101, "comment_id": 55348427, "body": "you can access non static members of a class from another class as long as the member are public. for non static member, of course, you need an instance of that class to access the public members (<b>of that instance</b>)."}, {"owner": {"reputation": 3762, "user_id": 3276027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e2e43f741889c0d1c599747a318ddf5?s=128&d=identicon&r=PG&f=1", "display_name": "Gian Paolo", "link": "https://stackoverflow.com/users/3276027/gian-paolo"}, "edited": false, "score": 0, "creation_date": 1447882136, "post_id": 33790101, "comment_id": 55348556, "body": "and in general, avoid a design that require static variable. Static variables are actually global variables (one copy of the variable in the entire program, even if they are scoped within a class). There are cases that they can be useful, passing a return value from a Dialog is not one of them."}], "answers": [{"tags": [], "owner": {"reputation": 364, "user_id": 5294783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Tvf5.jpg?s=128&g=1", "display_name": "Matthew Chrobak", "link": "https://stackoverflow.com/users/5294783/matthew-chrobak"}, "is_accepted": true, "score": 0, "last_activity_date": 1447880185, "creation_date": 1447880185, "answer_id": 33790192, "question_id": 33790101, "link": "https://stackoverflow.com/questions/33790101/trigger-method-in-other-class-without-new-instance-static/33790192#33790192", "title": "Trigger method in other class without new instance/static", "body": "<p>If you can use the static keyword, you could simply make the instances of both classes static inside your main class. This way, you don't have to make anything static inside your classes.</p>\n\n<pre><code>public static ClassA Instance1 = new ClassA();\npublic static ClassB Instance2 = new ClassB();\n</code></pre>\n\n<p>e.g.</p>\n\n<pre><code>Program.Instance1.FillData();\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2691659"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 33790192, "answer_count": 1, "score": 0, "last_activity_date": 1447880185, "creation_date": 1447879901, "question_id": 33790101, "link": "https://stackoverflow.com/questions/33790101/trigger-method-in-other-class-without-new-instance-static", "title": "Trigger method in other class without new instance/static", "body": "<p>I am stuck in this phase of my project. I have 2 window classes.</p>\n\n<pre><code>ClassA\n//This window is like a main form which can take you to Class B\n\nClassB\n//This window is a search window that's suppose to set a static object in class A and fire a method `FillData()` in class A.\n</code></pre>\n\n<p>I can't make this method static since it will require me to change a lot of variables within it's scope to static.</p>\n\n<p>How would you trigger the <code>FillData()</code> method in class A from Class B without using static ? <code>FillData()</code> is suppose to be called when i press an OK button from <code>classB</code> after search.</p>\n\n<p>This is my 2nd week in the C# world :)</p>\n"}, {"tags": ["c#", ".net", "visual-studio", "datetime"], "comments": [{"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 2, "creation_date": 1447879935, "post_id": 33790046, "comment_id": 55347259, "body": "We can&#39;t really debug your application for you.  You&#39;re explicitly throwing that exception if certain conditions are not met.  Therefore it would appear that those conditions are not being met.  Step through your code in a debugger and examine the runtime values.  What are those values when the exception is thrown?"}, {"owner": {"reputation": 5, "user_id": 5535241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bf69b9afe5365957e777cfa4338adde2?s=128&d=identicon&r=PG&f=1", "display_name": "ramteen1993", "link": "https://stackoverflow.com/users/5535241/ramteen1993"}, "reply_to_user": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1447880008, "post_id": 33790046, "comment_id": 55347308, "body": "I am inputting 03/03/2012 for example. I have tried many different dates"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1447880044, "post_id": 33790046, "comment_id": 55347339, "body": "you need to use <code>DateTime.ParseExact</code> function do you need an example on how to use it..?"}, {"owner": {"reputation": 5, "user_id": 5535241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bf69b9afe5365957e777cfa4338adde2?s=128&d=identicon&r=PG&f=1", "display_name": "ramteen1993", "link": "https://stackoverflow.com/users/5535241/ramteen1993"}, "edited": false, "score": 0, "creation_date": 1447880134, "post_id": 33790046, "comment_id": 55347382, "body": "I do not want to use DateTime at all, as I am creating my own DateTime class"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 3, "creation_date": 1447880178, "post_id": 33790046, "comment_id": 55347411, "body": "why are you re-inventing the wheel..?"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1447880292, "post_id": 33790046, "comment_id": 55347470, "body": "<code>var someDate2 = &quot;03&#47;03&#47;2012&quot;;  DateTime d = DateTime.ParseExact(someDate2, &quot;dd&#47;MM&#47;yyyy&quot;, CultureInfo.InvariantCulture);  Console.WriteLine(d.ToString(&quot;dd&#47;MM&#47;yyyy&quot;));</code>"}, {"owner": {"reputation": 3564, "user_id": 1189566, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/YXOz8.png?s=128&g=1", "display_name": "sab669", "link": "https://stackoverflow.com/users/1189566/sab669"}, "edited": false, "score": 0, "creation_date": 1447880456, "post_id": 33790046, "comment_id": 55347576, "body": "I believe the problem is that you are assigning <code>day</code> before <code>month</code>, so the second condition of your <code>if</code> and <code>else-if</code> won&#39;t work correctly. Learn to use a break point and step through your code."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1447885746, "post_id": 33790046, "comment_id": 55350454, "body": "Another trap to consider:  You can change the month and end up with an invalid date without any way to prevent it.  One way to fix that is to make the class immutable and only validate in the constructor (or factory method) after ALL values are set."}], "answers": [{"tags": [], "owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "is_accepted": false, "score": 5, "last_activity_date": 1447880285, "creation_date": 1447880285, "answer_id": 33790224, "question_id": 33790046, "link": "https://stackoverflow.com/questions/33790046/c-check-for-datetime-not-working/33790224#33790224", "title": "c# check for datetime not working", "body": "<p>The first thing you do in your constructor is set the <code>Day</code> property:</p>\n\n<pre><code>public Date(int day, int month, int year)\n{\n    Day = day;\n    Month = month;\n    Year = year;\n}\n</code></pre>\n\n<p>What does that setter <em>do</em>?  A lot, it seems.  Specifically, first it checks this:</p>\n\n<pre><code>if (value &gt; 0 &amp;&amp; value &lt;= days[_month])\n</code></pre>\n\n<p>For your given input (in a comment above), <code>value</code> is <code>3</code>.  <code>3 &gt; 0</code> is true, so that's ok.  But <code>3</code> is not <code>&lt;= 0</code>.  And <code>days[_month]</code> is <code>0</code> at this time.  So this condition is false.</p>\n\n<p>Your next condition is:</p>\n\n<pre><code>else if (_month == 2 &amp;&amp; value == 29 &amp;&amp;\n</code></pre>\n\n<p>This is also false, since <code>_month</code> is currently <code>0</code> (and <code>value</code> is <code>3</code>).</p>\n\n<p>So then what does your method do?  This:</p>\n\n<pre><code>throw new ArgumentOutOfRangeException(\"Day\", value, \"Day is out of range\");\n</code></pre>\n\n<p>Which explains why you're getting an <code>ArgumentOutOfRangeException</code>.  When you throw an exception, that exception is, well, thrown.</p>\n\n<hr />\n\n<p>It <em>seems</em> like you want to set <code>Day</code> <em>last</em> in your constructor:</p>\n\n<pre><code>public Date(int day, int month, int year)\n{\n    Year = year;\n    Month = month;\n    Day = day;\n}\n</code></pre>\n\n<p>Though having so much hidden dependencies between your values probably should be addressed at a higher logical level as well.</p>\n"}, {"comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1447880458, "post_id": 33790238, "comment_id": 55347579, "body": "exactly what my point is OP is trying to re-invent the wheel when they should be understanding the DateTime class and it&#39;s powerful methods / functions"}, {"owner": {"reputation": 1500, "user_id": 3854195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6y5Ws.png?s=128&g=1", "display_name": "Morpheus", "link": "https://stackoverflow.com/users/3854195/morpheus"}, "edited": false, "score": 0, "creation_date": 1447880683, "post_id": 33790238, "comment_id": 55347696, "body": "Another vote for don&#39;t re-invent the wheel"}, {"owner": {"reputation": 1167, "user_id": 3279247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uVAYZ.jpg?s=128&g=1", "display_name": "Igor Quirino", "link": "https://stackoverflow.com/users/3279247/igor-quirino"}, "edited": false, "score": 0, "creation_date": 1447890527, "post_id": 33790238, "comment_id": 55352280, "body": "What about &quot;please enter date as dd/MM/yyyy&quot;?"}, {"owner": {"reputation": 1167, "user_id": 3279247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uVAYZ.jpg?s=128&g=1", "display_name": "Igor Quirino", "link": "https://stackoverflow.com/users/3279247/igor-quirino"}, "reply_to_user": {"reputation": 1500, "user_id": 3854195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6y5Ws.png?s=128&g=1", "display_name": "Morpheus", "link": "https://stackoverflow.com/users/3854195/morpheus"}, "edited": false, "score": 0, "creation_date": 1447890652, "post_id": 33790238, "comment_id": 55352316, "body": "@Morpheus you are right. OP please dont reinvent the Wheel. I use c# more than 8 years and never need to do this.."}, {"owner": {"reputation": 100127, "user_id": 67392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95e28ac250c4604a6f9d7e34705c3259?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/67392/richard"}, "reply_to_user": {"reputation": 1167, "user_id": 3279247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uVAYZ.jpg?s=128&g=1", "display_name": "Igor Quirino", "link": "https://stackoverflow.com/users/3279247/igor-quirino"}, "edited": false, "score": 0, "creation_date": 1447921783, "post_id": 33790238, "comment_id": 55363289, "body": "@IgorQuirino What about it? It has nothing \u2013 as far as I can see \u2013 to do with any argument exceptions."}, {"owner": {"reputation": 1167, "user_id": 3279247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uVAYZ.jpg?s=128&g=1", "display_name": "Igor Quirino", "link": "https://stackoverflow.com/users/3279247/igor-quirino"}, "edited": false, "score": 0, "creation_date": 1447926248, "post_id": 33790238, "comment_id": 55366197, "body": "@Richard mimimi bla bla bla la la la. You are not right..."}, {"owner": {"reputation": 100127, "user_id": 67392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95e28ac250c4604a6f9d7e34705c3259?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/67392/richard"}, "reply_to_user": {"reputation": 1167, "user_id": 3279247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uVAYZ.jpg?s=128&g=1", "display_name": "Igor Quirino", "link": "https://stackoverflow.com/users/3279247/igor-quirino"}, "edited": false, "score": 0, "creation_date": 1447934233, "post_id": 33790238, "comment_id": 55371894, "body": "@IgorQuirino You&#39;re going to need to say why clearly,"}], "tags": [], "owner": {"reputation": 100127, "user_id": 67392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95e28ac250c4604a6f9d7e34705c3259?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/67392/richard"}, "is_accepted": false, "score": 5, "last_activity_date": 1447880330, "creation_date": 1447880330, "answer_id": 33790238, "question_id": 33790046, "link": "https://stackoverflow.com/questions/33790046/c-check-for-datetime-not-working/33790238#33790238", "title": "c# check for datetime not working", "body": "<p>In your constructor:</p>\n\n<blockquote>\n<pre><code>public Date(int day, int month, int year) {\n  Day = day;\n  Month = month;\n  Year = year;\n}\n</code></pre>\n</blockquote>\n\n<p>you assigned the <code>Day</code> property first. At this point <code>Month</code> will be default initialised \u2013 to zero \u2013 but the checks in the <code>Day</code> setter assume <code>Month</code> has been set. So the days in the month value will be 0.</p>\n\n<p>You need to rethink how you do this. Probably better is to not use automatic properties so you can set the fields and then validate the date as a whole.</p>\n\n<p>Reserve setters and validation there to the external interface.</p>\n\n<p>Even better would be to make it an imutable value type.</p>\n\n<p>Better still would be to not re-invent the wheel (unless you have very <a href=\"http://nodatime.org/\">good reason</a>).</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5578931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e13bc0e5c9ca30b0a8042548399f5d86?s=128&d=identicon&r=PG&f=1", "display_name": "Sree", "link": "https://stackoverflow.com/users/5578931/sree"}, "is_accepted": false, "score": -2, "last_activity_date": 1447890447, "last_edit_date": 1447890447, "creation_date": 1447890126, "answer_id": 33792663, "question_id": 33790046, "link": "https://stackoverflow.com/questions/33790046/c-check-for-datetime-not-working/33792663#33792663", "title": "c# check for datetime not working", "body": "<p><code>Date</code> constructor using _month before assign. Assign Month before Day. You need to change Date constructor as follows.   </p>\n\n<pre><code>public Date(int day, int month, int year)\n{\n   Month = month;             \n   Day = day;\n   Year = year;\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 5535241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bf69b9afe5365957e777cfa4338adde2?s=128&d=identicon&r=PG&f=1", "display_name": "ramteen1993", "link": "https://stackoverflow.com/users/5535241/ramteen1993"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 868, "favorite_count": 0, "closed_date": 1447899009, "answer_count": 3, "score": -7, "last_activity_date": 1447890447, "creation_date": 1447879659, "last_edit_date": 1447879682, "question_id": 33790046, "link": "https://stackoverflow.com/questions/33790046/c-check-for-datetime-not-working", "closed_reason": "Not suitable for this site", "title": "c# check for datetime not working", "body": "<p>I am creating my own DateTime class within C# and for some reason my checks are not working. When I run the program and enter a date it always stops and reaches the last line which is on the \"Day\" method and says \"ArgumentOutOfException. Is there anyway to solve this issue and to make my checks called \"Value\" working?</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace date\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Console.WriteLine(\"\\t\\t\\t\\t\\t\\tNextDate Application\\n\\t\\t\\t\\t\\t-------------------------------------\");\n\n            Console.WriteLine(\"please enter date as dd/MM/yyyy\");\n            int day;\n            int month;\n            int year;\n\n            string[] read = Console.ReadLine().Split('/');\n            day = int.Parse(read[0]);\n            month = int.Parse(read[1]);\n            year = int.Parse(read[2]);\n\n            Date date = new Date(day, month, year);\n            Console.WriteLine(\"{0}/{1}/{2}\", date.Day, date.Month, date.Year);\n            Console.ReadLine();\n        }\n\n        class Date\n        {\n            private int _month; // 1-12\n            private int _day; // 1-31 depending on month\n            private int _year;\n\n            public Date(int day, int month, int year)\n            {\n                Day = day;\n                Month = month;\n                Year = year;\n            }\n\n            public int Year\n            {\n                get { return _year; }\n                set\n                {\n                    if (value &gt;= 1820 &amp;&amp; value &lt;= 2020)\n                        _year = value;\n                    else\n                        throw new ArgumentOutOfRangeException(\"year\", value, \"year out of range\");\n                }\n            }\n\n            public int Month\n            {\n                get { return _month; }\n                set\n                {\n                    if (value &gt; 0 &amp;&amp; value &lt;= 12)\n                        _month = value;\n                    else\n                        throw new ArgumentOutOfRangeException(\"Month\", value, \"Month must be 1-12\");\n                }\n            }\n\n            public int Day\n            {\n                get { return _day; }\n                set\n                {\n\n                    int[] days = { 0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };\n\n                    if (value &gt; 0 &amp;&amp; value &lt;= days[_month])\n                        _day = value;\n\n                    else if (_month == 2 &amp;&amp; value == 29 &amp;&amp;\n                        _year % 400 == 0 || (_year % 4 == 0 &amp;&amp; _year % 100 != 0))\n                        _day = value;\n                    else\n                    throw new ArgumentOutOfRangeException(\"Day\", value, \"Day is out of range\");\n\n\n\n                }\n\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "web-services", "wcf", ".net-4.0", "windows-server-2008-r2"], "comments": [{"owner": {"reputation": 2020, "user_id": 2087055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32213d2e4f8f36694ac9d3736abcc631?s=128&d=identicon&r=PG&f=1", "display_name": "Kosala W", "link": "https://stackoverflow.com/users/2087055/kosala-w"}, "edited": false, "score": 0, "creation_date": 1447895292, "post_id": 33790009, "comment_id": 55353846, "body": "The actual error seems to be a timeout. <code>.System.ServiceModel.Channels.HttpChannelFactory.HttpRequest&zwnj;&#8203;Channel.HttpChannelR&zwnj;&#8203;equest.WaitForReply(&zwnj;&#8203;TimeSpan timeout) at System.ServiceModel.Channels.RequestChannel.Request(Message message, TimeSpan timeout) at </code>. Since you are saying that it works in your local env, I believe this is a network issue between server and the WS host. Check the firewall settings and firewall logs. They may give you some clues."}, {"owner": {"reputation": 3044, "user_id": 393581, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f10a8776b856dd7dfbc7fbf8d95c910b?s=128&d=identicon&r=PG", "display_name": "garfbradaz", "link": "https://stackoverflow.com/users/393581/garfbradaz"}, "reply_to_user": {"reputation": 2020, "user_id": 2087055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32213d2e4f8f36694ac9d3736abcc631?s=128&d=identicon&r=PG&f=1", "display_name": "Kosala W", "link": "https://stackoverflow.com/users/2087055/kosala-w"}, "edited": false, "score": 0, "creation_date": 1447917944, "post_id": 33790009, "comment_id": 55361290, "body": "@KosalaW Im getting the firewall logs looked at as we speak - i thought it might be something like that. We shall see! :P"}, {"owner": {"reputation": 8696, "user_id": 77121, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/ae6e341d7bd17c2d08d1876b264f6d4d?s=128&d=identicon&r=PG", "display_name": "StackTrace", "link": "https://stackoverflow.com/users/77121/stacktrace"}, "edited": false, "score": 1, "creation_date": 1448001640, "post_id": 33790009, "comment_id": 55406556, "body": "You can get a much more clear error message if you enable WCF tracing. See following article for how to <a href=\"http://www.codeproject.com/Articles/420538/Simple-Steps-to-Enable-Tracing-in-WCF\" rel=\"nofollow noreferrer\">codeproject.com/Articles/420538/&hellip;</a>"}, {"owner": {"reputation": 3044, "user_id": 393581, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f10a8776b856dd7dfbc7fbf8d95c910b?s=128&d=identicon&r=PG", "display_name": "garfbradaz", "link": "https://stackoverflow.com/users/393581/garfbradaz"}, "reply_to_user": {"reputation": 8696, "user_id": 77121, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/ae6e341d7bd17c2d08d1876b264f6d4d?s=128&d=identicon&r=PG", "display_name": "StackTrace", "link": "https://stackoverflow.com/users/77121/stacktrace"}, "edited": false, "score": 0, "creation_date": 1448003100, "post_id": 33790009, "comment_id": 55407190, "body": "hey @StackTrace - I have done that and I will be updating the question :)  It seems the Firewall isnt blocking the outgoing packets so I&#39;m stumped. Will update when I get to work, inlcuding the *svclog files."}, {"owner": {"reputation": 3044, "user_id": 393581, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f10a8776b856dd7dfbc7fbf8d95c910b?s=128&d=identicon&r=PG", "display_name": "garfbradaz", "link": "https://stackoverflow.com/users/393581/garfbradaz"}, "edited": false, "score": 0, "creation_date": 1448379252, "post_id": 33790009, "comment_id": 55557836, "body": "Added more detail. I worked with our third party supplier and they confirm they are not receviing any requests from the Server App at all BUT they did receive our SOAP UI request from the same server box - this has to point to the server .net config?"}, {"owner": {"reputation": 5747, "user_id": 631599, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5fc6b2cf893347e70c0a965f39a67209?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/631599/matt"}, "edited": false, "score": 0, "creation_date": 1448403724, "post_id": 33790009, "comment_id": 55572588, "body": "Is there a proxy server in the middle? You can use Fiddler to trace the commnication"}, {"owner": {"reputation": 3044, "user_id": 393581, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f10a8776b856dd7dfbc7fbf8d95c910b?s=128&d=identicon&r=PG", "display_name": "garfbradaz", "link": "https://stackoverflow.com/users/393581/garfbradaz"}, "reply_to_user": {"reputation": 5747, "user_id": 631599, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5fc6b2cf893347e70c0a965f39a67209?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/631599/matt"}, "edited": false, "score": 0, "creation_date": 1448441878, "post_id": 33790009, "comment_id": 55586198, "body": "@Matt: Used fiddler and it is tunnelling direct to the server I expect it to. Just times out."}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1448480195, "post_id": 33790009, "comment_id": 55610986, "body": "According to the configuration the service requires Transport security. Have you not forgot to install the certificate of provide certification information on <b>Test Machine</b>? Because this error is coming from Third party server not from WCF."}], "answers": [{"tags": [], "owner": {"reputation": 1293, "user_id": 626761, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/64884cb4418e82f1c671c1430b4f0b8c?s=128&d=identicon&r=PG", "display_name": "nodots", "link": "https://stackoverflow.com/users/626761/nodots"}, "is_accepted": false, "score": 0, "last_activity_date": 1448890066, "last_edit_date": 1495540337, "creation_date": 1448890066, "answer_id": 33999758, "question_id": 33790009, "link": "https://stackoverflow.com/questions/33790009/issue-connecting-to-server-from-wcf-client-https-endpoint-works-on-local-dev/33999758#33999758", "title": "Issue connecting to Server from WCF Client - HTTPS endpoint - Works on Local Dev but not Server", "body": "<p>Do some SSL troubleshooting. Some options:</p>\n\n<ol>\n<li><p>Quick attempt: There is an <a href=\"https://stackoverflow.com/a/12244894/626761\">Stack Overflow question with the same error message \"Received an unexpected EOF or 0 bytes from the transport stream\"</a> where the solution was to explicitly set the SSL version before the call:</p>\n\n<pre><code>ServicePointManager.SecurityProtocol = SecurityProtocolType.Ssl3;\n</code></pre></li>\n<li><p><a href=\"http://blogs.msdn.com/b/webapps/archive/2012/11/05/use-system-net-trace-and-ssl-alert-protocol-to-tshoot-ssl-connection-issue.aspx\" rel=\"nofollow noreferrer\">Enable the <code>System.Net</code> trace</a> which might give you further clues.</p></li>\n<li><p>Use Wireshark or similar to <a href=\"http://www.moserware.com/2009/06/first-few-milliseconds-of-https.html\" rel=\"nofollow noreferrer\">sniff the SSL handshake</a>.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 3044, "user_id": 393581, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f10a8776b856dd7dfbc7fbf8d95c910b?s=128&d=identicon&r=PG", "display_name": "garfbradaz", "link": "https://stackoverflow.com/users/393581/garfbradaz"}, "is_accepted": true, "score": 1, "last_activity_date": 1448912846, "creation_date": 1448912846, "answer_id": 34006722, "question_id": 33790009, "link": "https://stackoverflow.com/questions/33790009/issue-connecting-to-server-from-wcf-client-https-endpoint-works-on-local-dev/34006722#34006722", "title": "Issue connecting to Server from WCF Client - HTTPS endpoint - Works on Local Dev but not Server", "body": "<p>The issue in the end was i needed .NET 4.5.1 installed on the Windows 2008 Server R2. Even though I was targeting the .NET 4.0. This fixed the issue complete and now works.</p>\n"}], "owner": {"reputation": 3044, "user_id": 393581, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f10a8776b856dd7dfbc7fbf8d95c910b?s=128&d=identicon&r=PG", "display_name": "garfbradaz", "link": "https://stackoverflow.com/users/393581/garfbradaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1365, "favorite_count": 0, "accepted_answer_id": 34006722, "answer_count": 2, "score": 5, "last_activity_date": 1448912846, "creation_date": 1447879523, "last_edit_date": 1448383811, "question_id": 33790009, "link": "https://stackoverflow.com/questions/33790009/issue-connecting-to-server-from-wcf-client-https-endpoint-works-on-local-dev", "title": "Issue connecting to Server from WCF Client - HTTPS endpoint - Works on Local Dev but not Server", "body": "<p><strong>UPDATE LOG:</strong></p>\n\n<ol>\n<li>Added more detail - Included the WCF Trace.</li>\n</ol>\n\n<p>Firstly, not a lot of WCF experience, so apologies if this is an obvious error. I'm writing a simple console application, that needs to connect to a third-party SOAP web service. The WSDL supplied by the supplier is here:</p>\n\n<p><a href=\"http://pastebin.com/LJurv0qA\" rel=\"nofollow noreferrer\" title=\"Pastbin WSDL\">http://pastebin.com/LJurv0qA</a></p>\n\n<p>I have used this to create a <strong>Service Reference</strong> within Visual Studio 2010  (Using .NET 4.0) to create the auto-generated code behind. I have also setup the app.config for the various configurations:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;configuration&gt;\n  &lt;configSections&gt;\n    &lt;section name=\"CompanyCustomConfig\"\n             type=\"Company.Common.CustomConfigSections.EncryptedSomethingQuiteStrangeCredentialsSection, Company.Common\"\n             /&gt;\n    &lt;section name=\"CompanyMachineConfig\"\n             type=\"Company.Common.CustomConfigSections.MachineEnvironmentKeySection, Company.Common\"\n             /&gt;\n  &lt;/configSections&gt;\n  &lt;system.serviceModel&gt;\n    &lt;bindings&gt;\n      &lt;basicHttpBinding&gt;\n        &lt;binding name=\"sessionMethodsSoap\"\n                 receiveTimeout=\"00:10:00\"\n                 closeTimeout=\"00:10:00\"\n                 openTimeout=\"00:10:00\"\n                 sendTimeout=\"00:10:00\"\n                 maxBufferSize=\"2147483647\"\n                 maxBufferPoolSize=\"2147483647\"\n                 maxReceivedMessageSize=\"2147483647\"&gt;\n          &lt;security mode=\"Transport\" /&gt;\n        &lt;/binding&gt;\n        &lt;binding name=\"sessionMethodsSoap1\" /&gt;\n        &lt;binding name=\"recipientMethodsSoap\"&gt;\n          &lt;security mode=\"Transport\"&gt;\n            &lt;!--&lt;transport clientCredentialType=\"None\" proxyCredentialType=\"None\" realm=\"\"/&gt;--&gt;\n          &lt;/security&gt;\n        &lt;/binding&gt;\n        &lt;!--&lt;binding name=\"recipientMethodsSoap1\" /&gt;--&gt;\n      &lt;/basicHttpBinding&gt;\n    &lt;/bindings&gt;\n    &lt;client&gt;\n      &lt;endpoint address=\"https:test.jsp\"\n          binding=\"basicHttpBinding\" bindingConfiguration=\"sessionMethodsSoap\"\n          contract=\"Session.sessionMethodsSoap\" name=\"sessionMethodsSoap\" /&gt;\n      &lt;endpoint address=\"https:test.jsp\"\n          binding=\"basicHttpBinding\" bindingConfiguration=\"recipientMethodsSoap\"\n          contract=\"Recipient.recipientMethodsSoap\" name=\"recipientMethodsSoap\"        /&gt;\n    &lt;/client&gt;\n  &lt;/system.serviceModel&gt;\n  &lt;appSettings&gt;\n    &lt;add key=\"SomethingQuiteStrangeActionsClientBaseUrlWL0280\" value=\"http://localhost.fiddler:13298/api/ua\"/&gt;\n    &lt;add key=\"SomethingQuiteStrangeActionsContentTypeWL0280\" value=\"application/json\"/&gt;\n    &lt;add key=\"SomethingQuiteStrangeActionsClientBaseUrlTesting\" value=\"http://localhost:13298/api/SomethingQuiteStrangeactions\"/&gt;\n    &lt;add key=\"SomethingQuiteStrangeActionsContentTypeTesting\" value=\"application/json\"/&gt;\n    &lt;add key=\"SomethingQuiteStrangeDetailsClientBaseUrlLocalDevelopment\" value=\"http://localhost.fiddler:13298/api/detailsofsomething/&gt;\n    &lt;add key=\"SomethingQuiteStrangeDetailsContentTypeLocalDevelopment\" value=\"application/json\"/&gt;\n    &lt;add key=\"SomethingQuiteStrangeDetailsClientBaseUrlTesting\" value=\"http://localhost:13298/api/SomethingQuiteStrangedetails\"/&gt;\n    &lt;add key=\"SomethingQuiteStrangeDetailsContentTypeTesting\" value=\"application/json\"/&gt;\n    &lt;add key=\"LogFileDirectoryTesting\" value=\"C\"/&gt;\n    &lt;add key=\"LogFileDirectoryLocalDevelopment\" value=\"C:\\LogFiles\\CRM\"/&gt;\n  &lt;/appSettings&gt;\n  &lt;startup&gt;\n    &lt;supportedRuntime version=\"v4.0\" sku=\".NETFramework,Version=v4.0\"/&gt;\n  &lt;/startup&gt;\n  &lt;CompanyCustomConfig&gt;\n    &lt;EncryptedSomethingQuiteStrangeCredentials&gt;\n      &lt;EncryptedSomethingQuiteStrangeCredential service=\"ThingLocalDevelopment\" SomethingQuiteStrangeName=\"un\" password=\"pw\"/&gt;\n    &lt;/EncryptedSomethingQuiteStrangeCredentials&gt;\n  &lt;/CompanyCustomConfig&gt;\n  &lt;CompanyMachineConfig&gt;\n    &lt;MachineEnvironmentKeys&gt;\n      &lt;MachineEnvironmentKey name=\"DEV\" environment=\"LocalDevelopment\" /&gt;\n      &lt;MachineEnvironmentKey name=\"SERVER\" environment=\"Testing\" /&gt;\n    &lt;/MachineEnvironmentKeys&gt;\n  &lt;/CompanyMachineConfig&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Now on my <strong>LocalDevelopment</strong> box (i.e. my laptop) the client works fine, I'm able to connect to the thirdparties service, using their Logon() action. When i deploy my code to our Testing server, the same code and configuratio,n throws the following exception:</p>\n\n<blockquote>\n  <p>Log File Started: 18/11/2015 20:11:25 on machine TESTSERVER\n  ============================================================================  18/11/2015 20:11 >>>> *** Application Logged:  Date Logged: 18/11/2015\n  20:11:25 Message: Issue in Client (Client.Logon()) - communication\n  problem - Message:  An error occurred while making the HTTP request to\n  test.jsp. This could be\n  due to the fact that the server certificate is not configured properly\n  with HTTP.SYS in the HTTPS case. This could also be caused by a\n  mismatch of the security binding between the client and the server.\n  Stack Trace: </p>\n  \n  <p>Server stack trace:     at\n  System.ServiceModel.Channels.HttpChannelUtilities.ProcessGetResponseWebException(WebException\n  webException, HttpWebRequest request, HttpAbortReason abortReason)<br>\n  at\n  System.ServiceModel.Channels.HttpChannelFactory.HttpRequestChannel.HttpChannelRequest.WaitForReply(TimeSpan\n  timeout)    at\n  System.ServiceModel.Channels.RequestChannel.Request(Message message,\n  TimeSpan timeout)    at\n  System.ServiceModel.Dispatcher.RequestChannelBinder.Request(Message\n  message, TimeSpan timeout)    at\n  System.ServiceModel.Channels.ServiceChannel.Call(String action,\n  Boolean oneway, ProxyOperationRuntime operation, Object[] ins,\n  Object[] outs, TimeSpan timeout)    at\n  System.ServiceModel.Channels.ServiceChannelProxy.InvokeService(IMethodCallMessage\n  methodCall, ProxyOperationRuntime operation)    at\n  System.ServiceModel.Channels.ServiceChannelProxy.Invoke(IMessage\n  message)</p>\n  \n  <p>Exception rethrown at [0]:     at\n  System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage\n  reqMsg, IMessage retMsg)    at\n  System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData&amp;\n  msgData, Int32 type)    at\n  Hachette.CRM.AdobeCRMService.Session.sessionMethodsSoap.Logon(LogonRequest\n  request)    at Hachette.CRM.AdobeCRMService.AdobeClient.Logon() in\n  C:\\My\n  Documents\\Hachette.CRM\\Hachette.CRM.AdobeCRMService\\AdobeClient.cs:line\n  84other:  System.Collections.ListDictionaryInternal</p>\n</blockquote>\n\n<p>On the advice of a commentee below, I have turned on WCF Tracing on the Server where the error is occurring. The exception is being thrown after a message has been <strong>sent over a channel</strong></p>\n\n<pre><code>Exception Type:\nSystem.Net.WebException, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\n\nMessage:\nThe underlying connection was closed: An unexpected error occurred on a send.\n\nException Type:\nSystem.IO.IOException, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\n\nMessage:\nReceived an unexpected EOF or 0 bytes from the transport stream.\n</code></pre>\n\n<p>Here is an image for clarity:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QwhV2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QwhV2.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now even though we are using HTTPS, the thirdparty doesnt require certifcates - the Logon() action provides me with a sessionId to use later on - so i presume using <strong>basicHttpBinding</strong> i fine?</p>\n\n<p>Things to know:</p>\n\n<ol>\n<li>My local development box is running Windows 8.1</li>\n<li>The test server Im deploying to is running Windows Server2008 R2 Standard (SP1 installed).</li>\n<li>My Client is a .NET 4.0 C# Console App.</li>\n<li>Tried SOAP UI on the Server that is failing, using the same WSDL - the request worked and left out network, so it must be a WCF/.NET Issue on the box.</li>\n<li>In addition does the WCF Activation need to set on for apps that use WCF like mine - with added Service References and auto-generated code behind? Ours is off because it caused other sites to crash (needing Service Model 3.0.0.0):</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/wsTyf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wsTyf.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "asp.net", "sql-server"], "comments": [{"owner": {"reputation": 5485, "user_id": 4302070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8L9uj.jpg?s=128&g=1", "display_name": "trashr0x", "link": "https://stackoverflow.com/users/4302070/trashr0x"}, "edited": false, "score": 0, "creation_date": 1447880059, "post_id": 33790006, "comment_id": 55347350, "body": "so you want to retrieve the property values of the newly-registered user object? is this Web Forms or MVC?"}, {"owner": {"reputation": 63, "user_id": 603189, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1418cb42ab3574ff7b8bf269fb0ab937?s=128&d=identicon&r=PG", "display_name": "Joshua Bates", "link": "https://stackoverflow.com/users/603189/joshua-bates"}, "reply_to_user": {"reputation": 5485, "user_id": 4302070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8L9uj.jpg?s=128&g=1", "display_name": "trashr0x", "link": "https://stackoverflow.com/users/4302070/trashr0x"}, "edited": false, "score": 0, "creation_date": 1447880540, "post_id": 33790006, "comment_id": 55347613, "body": "Precisely. Specifically the auto-generated ID I have setup on the table. This is web forms."}, {"owner": {"reputation": 5485, "user_id": 4302070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8L9uj.jpg?s=128&g=1", "display_name": "trashr0x", "link": "https://stackoverflow.com/users/4302070/trashr0x"}, "edited": false, "score": 2, "creation_date": 1447880588, "post_id": 33790006, "comment_id": 55347645, "body": "are you using EF? if so see my answer <a href=\"http://stackoverflow.com/a/32653020/4302070\">here</a>"}, {"owner": {"reputation": 63, "user_id": 603189, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1418cb42ab3574ff7b8bf269fb0ab937?s=128&d=identicon&r=PG", "display_name": "Joshua Bates", "link": "https://stackoverflow.com/users/603189/joshua-bates"}, "reply_to_user": {"reputation": 5485, "user_id": 4302070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8L9uj.jpg?s=128&g=1", "display_name": "trashr0x", "link": "https://stackoverflow.com/users/4302070/trashr0x"}, "edited": false, "score": 0, "creation_date": 1447880871, "post_id": 33790006, "comment_id": 55347806, "body": "Many thanks. I have it figured out now."}], "owner": {"reputation": 63, "user_id": 603189, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1418cb42ab3574ff7b8bf269fb0ab937?s=128&d=identicon&r=PG", "display_name": "Joshua Bates", "link": "https://stackoverflow.com/users/603189/joshua-bates"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447879502, "creation_date": 1447879502, "question_id": 33790006, "link": "https://stackoverflow.com/questions/33790006/retrieve-scope-identity-using-microsoft-aspnet-identity-after-creating-new-accou", "title": "Retrieve Scope_Identity using Microsoft.AspNet.Identity after creating new account", "body": "<p>I have a working solution using Microsoft.AspNet.Identity allowing for registration and login. </p>\n\n<p>Upon successful registration, how do I get the scope_identity when the record is inserted in the database table? I do not see any stored procedures that I can modify to retrieve it.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "android", "xamarin"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5488123"}, "edited": false, "score": 0, "creation_date": 1448955708, "post_id": 33790959, "comment_id": 55785402, "body": "How I can show what in preferences in another activity?"}], "tags": [], "owner": {"reputation": 3462, "user_id": 1296369, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JjLiq.jpg?s=128&g=1", "display_name": "kevskree", "link": "https://stackoverflow.com/users/1296369/kevskree"}, "is_accepted": false, "score": 1, "last_activity_date": 1447882892, "creation_date": 1447882892, "answer_id": 33790959, "question_id": 33789956, "link": "https://stackoverflow.com/questions/33789956/make-two-sharedpreferences/33790959#33790959", "title": "Make two SharedPreferences", "body": "<p>If you want to store the data in separate places you can use a different <code>SharedPreferences</code> file. For example in the first activity,</p>\n\n<pre><code>var prefs = Application.Context.GetSharedPreferences(\"first_activity\", FileCreationMode.Private);\nvar editor = prefs.Edit();\neditor.PutString(\"key\", \"value1\");\neditor.Commit();\n</code></pre>\n\n<p>Then in the second do this,</p>\n\n<pre><code>var prefs = Application.Context.GetSharedPreferences(\"second_activity\", FileCreationMode.Private);\nvar editor = prefs.Edit();\neditor.PutString(\"key\", \"value2\");\neditor.Commit();\n</code></pre>\n\n<p>Notice the first parameter in <code>GetSharedPreferences()</code> which takes a filename.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5488123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1447882892, "creation_date": 1447879293, "question_id": 33789956, "link": "https://stackoverflow.com/questions/33789956/make-two-sharedpreferences", "title": "Make two SharedPreferences", "body": "<p>I using shared preferences in my xamarin Android project.</p>\n\n<p>I want to know can I use two Shared Prefences in two different activities</p>\n\n<p>Like this in first activity</p>\n\n<pre><code>ISharedPreferences prefs = PreferenceManager.GetDefaultSharedPreferences (this);\n            ISharedPreferencesEditor editor = prefs.Edit ();\n\n            editor.PutString (\"title\", (string)(firstitem [\"post_title\"]));\n            editor.PutString (\"price\", (string)(firstitem [\"price\"] + \" \u0433\u0440\u043d\"));\n            editor.PutString (\"weight\", (string)(firstitem [\"weight\"] + \"\u0433\"));\n\n            editor.Apply ();\n</code></pre>\n\n<p>And this and second activity:</p>\n\n<pre><code>ISharedPreferences prefs2 = PreferenceManager.GetDefaultSharedPreferences (this);\n            ISharedPreferencesEditor editor2 = prefs2.Edit ();\n\n            editor2.PutString (\"title\", (string)(firstitem [\"post_title\"]));\n            editor2.PutString (\"price\", (string)(firstitem [\"price\"] + \" \u0433\u0440\u043d\"));\n            editor2.PutString (\"weight\", (string)(firstitem [\"weight\"] + \"\u0433\"));\n\n            editor2.Apply ();\n</code></pre>\n"}, {"tags": ["c#", "tcp", "client-server"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1447879561, "post_id": 33789916, "comment_id": 55347062, "body": "are you getting any errors? have you added any logging ? in the catch blocks of your code if they are being hit.. why don&#39;t you capture  <code>var errMsg = e.Message;</code> use the debugger and step through your code"}, {"owner": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1447881156, "post_id": 33789916, "comment_id": 55347992, "body": "I am not getting any errors nor  Exceptions. The Program just sit there. If I turn off the Client than the server goes to the next line and saves the picture. But only if I turn off the client with the debugger. why is that ?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1447881778, "post_id": 33789916, "comment_id": 55348343, "body": "Don&#39;t use ASCII Encoding [byte[] message = Encoding.ASCII.GetBytes(To_send);].  Change to UTF8 encoding."}], "owner": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447882419, "creation_date": 1447879152, "last_edit_date": 1447879498, "question_id": 33789916, "link": "https://stackoverflow.com/questions/33789916/client-server-cannot-send-a-picture-over-tcp", "title": "Client / Server cannot send a picture over TCP", "body": "<p>I send a picture to a service over TCP  but the code stop at this line :</p>\n\n<pre><code>temp_Image = Image.FromStream(stream);\n</code></pre>\n\n<p>here is my client:</p>\n\n<pre><code>// send picture button \n  private void button3_Click(object sender, EventArgs e)\n    {\n        try\n        {\n            openFileDialog1.ShowDialog();\n            string _path = openFileDialog1.FileName;\n            pictureBox1.Image = Image.FromFile(_path);\n            bool yo = picture_send();\n            if (yo == true)\n            {\n                ms = new MemoryStream();\n                pictureBox1.Image.Save(ms, pictureBox1.Image.RawFormat);\n                byte[] buffer = ms.GetBuffer();\n                br = new BinaryWriter(stream);\n                br.Write(buffer);\n            }\n        }\n        catch(Exception ex)\n        {\n            int stop = 0;\n        }\n    }\n\n bool picture_send()\n    {\n        string To_send = \"Picture: \";\n        byte[] message = Encoding.ASCII.GetBytes(To_send);\n        stream.Write(message, 0, message.Length);\n        string temp = ReadTCP();\n        updateUI(temp);\n        if (temp == \"Send picture\")\n        return true;\n        else\n        return false;\n          }\n</code></pre>\n\n<p>and here is the Server:</p>\n\n<pre><code>private void TCPL ( object client)\n    {\n        TcpClient mClient = (TcpClient)client;\n        while (true)\n        {\n            NetworkStream stream = mClient.GetStream();\n            BinaryReader _reader = new BinaryReader(stream);\n            int temp1 = mClient.Available;\n            if (temp1 &gt; 0 )\n            {\n                        Byte[] message = new byte[temp1];\n                stream.Read(message, 0, message.Length);\n                String temp = Encoding.ASCII.GetString(message);\n                process(temp, stream);\n                }\n\n            }\n        }\n\n\n  void process(string message, NetworkStream stream)\n    {\n\n       string[] temp = message.Split(':');\n        if( temp[0] == \"Login\")\n        {\n           process_Login(temp[1], stream);\n        }\n        else if (temp[0] ==\"Sign-up\" )\n        {\n            process_Sign_up(temp[1], stream);\n        }\n        else if (temp[0] == \"Picture\")\n        {\n            SendFunction(\"Send picture\", stream);\n            ReciveImage(stream);\n        }\n\n    }\n\n   void ReciveImage(NetworkStream stream)\n    {\n        Image temp_Image = null;\n            try\n            {\n                temp_Image = Image.FromStream(stream);\n                temp_Image.Save(@\"c:\\theImage.jpg\", System.Drawing.Imaging.ImageFormat.Jpeg);\n\n            }catch (Exception e)\n            {\n                int stop = 0;\n            }\n    }\n</code></pre>\n\n<p>so on the Client side is make it to  </p>\n\n<pre><code>br.Write(buffer);\n</code></pre>\n\n<p>and on the server side it make it to </p>\n\n<pre><code>temp_Image = Image.FromStream(stream);\n</code></pre>\n\n<p>and it never comes back</p>\n\n<p>why? can anyone help me?</p>\n"}, {"tags": ["c#", "recursion", "export-to-excel", "access-violation", "worksheet"], "comments": [{"owner": {"reputation": 12119, "user_id": 5265292, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0b9b1031971201aa02e13287af690946?s=128&d=identicon&r=PG&f=1", "display_name": "grek40", "link": "https://stackoverflow.com/users/5265292/grek40"}, "edited": false, "score": 0, "creation_date": 1447886893, "post_id": 33789867, "comment_id": 55350936, "body": "As far as I can see, you have a recursive call for each cell in your worksheet. For example a sheet with 256 Columns and 70 Rows leads to a recursion depth around 18000 and each recursion step needs a portion of your stack... Maybe you can measure your recursion depth and adjust your code if thats the problem?"}, {"owner": {"reputation": 12119, "user_id": 5265292, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0b9b1031971201aa02e13287af690946?s=128&d=identicon&r=PG&f=1", "display_name": "grek40", "link": "https://stackoverflow.com/users/5265292/grek40"}, "edited": false, "score": 1, "creation_date": 1447949301, "post_id": 33789867, "comment_id": 55383014, "body": "Do NOT use recursion if you don&#39;t know how to determine recursion depth. Find a different solution to the problem, using loops instead of recursion."}], "answers": [{"tags": [], "owner": {"reputation": 402, "user_id": 5578333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6rpV.png?s=128&g=1", "display_name": "Rodolfo Luna", "link": "https://stackoverflow.com/users/5578333/rodolfo-luna"}, "is_accepted": true, "score": 0, "last_activity_date": 1452862942, "creation_date": 1452862942, "answer_id": 34811704, "question_id": 33789867, "link": "https://stackoverflow.com/questions/33789867/recursive-error-access-violation/34811704#34811704", "title": "Recursive error access violation", "body": "<p>I cannot use this recursive mode.</p>\n\n<p>My solution was EPPlus.dll</p>\n\n<pre><code>using OfficeOpenXml;\n</code></pre>\n\n<p>this method:</p>\n\n<pre><code>DataTable dt = Conversao.ConvertTo(list);\nif (dt == null || dt.Columns.Count == 0)\n    throw new Exception(\"ExportToExcel: Null or empty input table!\\n\");\n\nOfficeOpenXml.ExcelPackage excel = new ExcelPackage();\n\nExcelWorksheet worksheet = excel.Workbook.Worksheets.Add(\"Plan 1\");\nworksheet.Cells[\"A1\"].LoadFromDataTable(dt, true);\n\nfor (var i = 0; i &lt; dt.Columns.Count; i++)\n{\n    if (dt.Columns[i].DataType == System.Type.GetType(\"System.DateTime\"))\n    {\n        worksheet.Column(i + 1).Style.Numberformat.Format = \"dd/mm/yyyy hh:mm:ss\";\n    }\n}\n\nResponse.Clear();\nResponse.AddHeader(\"content-disposition\", \"attachment;filename=rel.xlsx\");\n\nResponse.ContentType = \"application/vnd.ms-excel\";\nResponse.ContentEncoding = System.Text.Encoding.Default;\n\nResponse.Cache.SetCacheability(HttpCacheability.NoCache);\n\nSystem.IO.MemoryStream stream = new System.IO.MemoryStream();\nexcel.SaveAs(stream);\n\nstream.WriteTo(Response.OutputStream);\n\nResponse.End();\n</code></pre>\n\n<p>Thanks grek40</p>\n"}], "owner": {"reputation": 402, "user_id": 5578333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6rpV.png?s=128&g=1", "display_name": "Rodolfo Luna", "link": "https://stackoverflow.com/users/5578333/rodolfo-luna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 1, "accepted_answer_id": 34811704, "answer_count": 1, "score": 1, "last_activity_date": 1453932070, "creation_date": 1447878949, "last_edit_date": 1592644375, "question_id": 33789867, "link": "https://stackoverflow.com/questions/33789867/recursive-error-access-violation", "title": "Recursive error access violation", "body": "<p>I did a class on C# to open Excel with a DataTable:</p>\n<pre><code>var excelApp = new ExcelInterop.Application();\nexcelApp.Workbooks.Add();\nExcelInterop._Worksheet workSheet = excelApp.ActiveSheet;\n\nfor (int i = 0; i &lt; dt.Columns.Count; i++)\n{\n    workSheet.Cells[1, (i + 1)] = dt.Columns[i].ColumnName;\n}\n\nExcelRecursive(dt, workSheet, 0, 0);\nexcelApp.Visible = true;\n</code></pre>\n<p>The method recursive:</p>\n<pre><code>public void ExcelRecursive(DataTable dt, ExcelInterop._Worksheet ws, int i, int j)\n{\n    ws.Cells[(i + 2), (j + 1)] = dt.Rows[i][j];\n    if (j + 1 &lt; dt.Columns.Count)\n        ExcelRecursive(dt, ws, i, j + 1);\n    else if (i + 1 &lt; dt.Rows.Count)\n        ExcelRecursive(dt, ws, i + 1, 0);\n}       \n</code></pre>\n<p>DataTables with 70 rows it's work very well, but more then that the application stopped and on console show an error 'Access Violation':</p>\n<blockquote>\n<p>The program '[3396] iisexpress.exe: Program Trace' has exited with code 0 (0x0).</p>\n<p>The program '[3396] iisexpress.exe' has exited with code -1073741819 (0xc0000005) 'Access violation'.</p>\n</blockquote>\n<p>I try this:</p>\n<pre><code>for (int i = 0; i &lt; dt.Rows.Count; i++)\n{\n    // to do: format datetime values before printing\n    for (int j = 0; j &lt; dt.Columns.Count; j++)\n    {\n        workSheet.Cells[(i + 2), (j + 1)] = dt.Rows[i][j];\n    }\n}\n</code></pre>\n<p>And this:</p>\n<pre><code>public ExcelInterop._Worksheet ExcelRecursive(DataTable dt, ExcelInterop._Worksheet ws, int i, int j)\n{\n    ws.Cells[(i + 2), (j + 1)] = dt.Rows[i][j];\n\n    if (j + 1 &lt; dt.Columns.Count)\n        return ExcelRecursive(dt, ws, i, j + 1);\n    else if (i + 1 &lt; dt.Rows.Count)\n        return ExcelRecursive(dt, ws, i + 1, 0);\n    else\n        return ws;\n}\n    \n</code></pre>\n<p>But my code only works on little DataTables</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "edited": false, "score": 0, "creation_date": 1447879041, "post_id": 33789866, "comment_id": 55346780, "body": "what do you mean by &quot;system started&quot;, the time the machine was powered on ?"}, {"owner": {"reputation": 1321, "user_id": 2955896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/zVEA2.jpg?s=128&g=1", "display_name": "JayGatsby", "link": "https://stackoverflow.com/users/2955896/jaygatsby"}, "reply_to_user": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "edited": false, "score": 0, "creation_date": 1447879175, "post_id": 33789866, "comment_id": 55346840, "body": "in msdn page it says Environment.TickCount Property: Gets the number of milliseconds elapsed since the system started."}, {"owner": {"reputation": 51472, "user_id": 479512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd12be661edf6a381ae75cef69a7a333?s=128&d=identicon&r=PG", "display_name": "Mark Hall", "link": "https://stackoverflow.com/users/479512/mark-hall"}, "edited": false, "score": 1, "creation_date": 1447879301, "post_id": 33789866, "comment_id": 55346915, "body": "No guarantee that it was last written during the current session. What exactly are you needing."}, {"owner": {"reputation": 364, "user_id": 5294783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Tvf5.jpg?s=128&g=1", "display_name": "Matthew Chrobak", "link": "https://stackoverflow.com/users/5294783/matthew-chrobak"}, "edited": false, "score": 0, "creation_date": 1447879581, "post_id": 33789866, "comment_id": 55347069, "body": "GetLastWriteTime returns a DateTime. Take that and the DateTime on the current session and convert that into ticks."}, {"owner": {"reputation": 1321, "user_id": 2955896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/zVEA2.jpg?s=128&g=1", "display_name": "JayGatsby", "link": "https://stackoverflow.com/users/2955896/jaygatsby"}, "reply_to_user": {"reputation": 364, "user_id": 5294783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Tvf5.jpg?s=128&g=1", "display_name": "Matthew Chrobak", "link": "https://stackoverflow.com/users/5294783/matthew-chrobak"}, "edited": false, "score": 0, "creation_date": 1447879648, "post_id": 33789866, "comment_id": 55347113, "body": "@Venovani how can I convert it into ticks? that&#39;s what i need"}, {"owner": {"reputation": 364, "user_id": 5294783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Tvf5.jpg?s=128&g=1", "display_name": "Matthew Chrobak", "link": "https://stackoverflow.com/users/5294783/matthew-chrobak"}, "edited": false, "score": 0, "creation_date": 1447879806, "post_id": 33789866, "comment_id": 55347192, "body": "Try looking up how to get the current date and time into a DateTime object. Then convert it in terms of seconds, and multiply it by 1000. That should give you the ticks."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5294349"}, "is_accepted": true, "score": 2, "last_activity_date": 1447879571, "creation_date": 1447879571, "answer_id": 33790018, "question_id": 33789866, "link": "https://stackoverflow.com/questions/33789866/can-i-get-tick-count-from-getlastwritetime/33790018#33790018", "title": "Can I get tick count from GetLastWriteTime", "body": "<p>Yes, you would do something like this:</p>\n\n<p><code>var ts = file.GetLastWriteTime() - DateTime.Now.AddMilliseconds(-Environment.TickCount);</code></p>\n\n<p>That will return you a <code>TimeSpan</code> object representing time between system boot up and file write time.</p>\n\n<p>Note: if the file's last write time was before the system started, then the <code>TimeSpan</code> will be negative.</p>\n\n<p>And you can use <code>ts.TotalMilliseconds</code> to get just what you want: the value in milliseconds.  But the <code>TimeSpan</code> object will also give you a full breakdown of the time span, should you want it.</p>\n"}], "owner": {"reputation": 1321, "user_id": 2955896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/zVEA2.jpg?s=128&g=1", "display_name": "JayGatsby", "link": "https://stackoverflow.com/users/2955896/jaygatsby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 33790018, "answer_count": 1, "score": 0, "last_activity_date": 1447879571, "creation_date": 1447878946, "question_id": 33789866, "link": "https://stackoverflow.com/questions/33789866/can-i-get-tick-count-from-getlastwritetime", "title": "Can I get tick count from GetLastWriteTime", "body": "<p>Let's say I have a file and I get it's last write time via <code>GetLastWriteTime</code> method. Is it possible to see the number of milliseconds elapsed between the system is started and file is written. Is there any relation between them?</p>\n"}, {"tags": ["c#", "wpf", "popup"], "comments": [{"owner": {"reputation": 1163, "user_id": 2299091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55424cec303e5d0e8a3dbf88b1cde603?s=128&d=identicon&r=PG", "display_name": "tgpdyk", "link": "https://stackoverflow.com/users/2299091/tgpdyk"}, "edited": false, "score": 1, "creation_date": 1447894429, "post_id": 33789843, "comment_id": 55353604, "body": "If I may suggest try putting a breakpoint on your code. Specifically your your eventhandlers textBox_LostFocus and  textBox_GotFocus. If you do, you will realize that when the Popup shows, the lost focus handler will be hit. And the code is setting the IsOpen to false.. Start there..."}], "owner": {"reputation": 1220, "user_id": 3814741, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/de0b189c626d4385afd9af1381af8993?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Hasan", "link": "https://stackoverflow.com/users/3814741/amit-hasan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 836, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1447878866, "creation_date": 1447878866, "question_id": 33789843, "link": "https://stackoverflow.com/questions/33789843/how-to-close-popup-when-clicked-outside-of-popup-without-staysopen-false", "title": "How to close popup when clicked outside of popup without StaysOpen=false?", "body": "<p>XAML:</p>\n\n<pre><code>   &lt;TextBox x:Name=\"textBox\" GotFocus=\"textBox_GotFocus\" LostFocus=\"textBox_LostFocus\"/&gt;\n    &lt;Popup x:Name=\"pop\" StaysOpen=\"True\" Placement=\"Bottom\" IsOpen=\"True\" PlacementTarget=\"{Binding ElementName=textBox}\" Width=\"{Binding Width, ElementName=textBox}\" &gt;\n        &lt;TextBlock Background=\"White\" Text=\"Some Message\"/&gt;\n    &lt;/Popup&gt;\n</code></pre>\n\n<p>On code behind I currently have:</p>\n\n<pre><code>    private void textBox_GotFocus(object sender, RoutedEventArgs e)\n    {\n        pop.IsOpen = true;\n    }\n\n    private void textBox_LostFocus(object sender, RoutedEventArgs e)\n    {\n        pop.IsOpen = false;\n    }\n</code></pre>\n\n<p>I would like to show the popup while the textbox gets focus and stays until anywhere else is clicked or the textbox loses focus. So StaysOpen=false does not work. After a lot of search I looked up the code of the combobox which is <a href=\"http://referencesource.microsoft.com/#PresentationFramework/src/Framework/System/Windows/Controls/Primitives/Popup.cs\" rel=\"nofollow\">here</a></p>\n\n<p>I think the following code is the reason setting StaysOpen=false causes the popup to close when clicked outside of popup. I have no idea how to override this behavior.\nThe exact link of the following code is <a href=\"http://referencesource.microsoft.com/#PresentationFramework/src/Framework/System/Windows/Controls/Primitives/Popup.cs,753e3c23e2428b14\" rel=\"nofollow\">here</a> (Comments removed for brevity)</p>\n\n<pre><code>private static void OnLostMouseCapture(object sender, MouseEventArgs e)\n    {\n        Popup popup = sender as Popup;\n         if (!popup.StaysOpen)\n        {\n            PopupRoot root = popup._popupRoot.Value;\n            bool reestablishCapture = e.OriginalSource != root &amp;&amp; Mouse.Captured == null &amp;&amp; MS.Win32.SafeNativeMethods.GetCapture() == IntPtr.Zero;\n\n            if(reestablishCapture)\n            {\n                popup.EstablishPopupCapture();\n                e.Handled = true;\n            }\n            else\n            {\n                if(Mouse.Captured != root)\n                {\n                    popup._cacheValid[(int)CacheBits.CaptureEngaged] = false;\n                }\n\n                bool newCaptureInsidePopup = Mouse.Captured != null &amp;&amp; MenuBase.IsDescendant(root, Mouse.Captured as DependencyObject);\n                bool newCaptureOutsidePopup = !newCaptureInsidePopup &amp;&amp; Mouse.Captured != root;\n                if(newCaptureOutsidePopup &amp;&amp; !popup.IsDragDropActive)\n                {\n                    popup.SetCurrentValueInternal(IsOpenProperty, BooleanBoxes.FalseBox);\n                }\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "sql", "linq"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1447878841, "post_id": 33789794, "comment_id": 55346687, "body": "what if I typed my name as <code>this,is,my,name</code> ?"}, {"owner": {"reputation": 958, "user_id": 154661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e7f6cc7d065052c9b7e34b9db7218f5d?s=128&d=identicon&r=PG", "display_name": "joeldow", "link": "https://stackoverflow.com/users/154661/joeldow"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1447879160, "post_id": 33789794, "comment_id": 55346834, "body": "Erik - I&#39;m just using the CSV format as a way to communicate the data structure.  Assume that&#39;s all being scrubbed.  CSV will put that in quotes, so that&#39;s the solve."}, {"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1447879918, "post_id": 33789794, "comment_id": 55347256, "body": "Why are you grouping by <code>EntryKey</code> if before that you are filtering for a specific <code>EntryKey</code>? Your group will contain one parent item only."}, {"owner": {"reputation": 16714, "user_id": 426894, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/LyG6D.jpg?s=128&g=1", "display_name": "asawyer", "link": "https://stackoverflow.com/users/426894/asawyer"}, "edited": false, "score": 0, "creation_date": 1447880561, "post_id": 33789794, "comment_id": 55347626, "body": "If your query is filtering on the key why group the data? Seems like it&#39;s already grouped by the filter."}, {"owner": {"reputation": 21178, "user_id": 89586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fe3afc9020eddb5c7445e286eead4a?s=128&d=identicon&r=PG", "display_name": "Matthew Whited", "link": "https://stackoverflow.com/users/89586/matthew-whited"}, "edited": false, "score": 0, "creation_date": 1447881155, "post_id": 33789794, "comment_id": 55347991, "body": "You can do this much nicer with SQL... especially if your column field names are fixed.  Check out the <code>PIVOT</code> keyword.  Then use <code>.ExecuteQuery&lt;T&gt;(\u2026)</code> and pass in a class that has property names that match your fields.  <a href=\"https://technet.microsoft.com/en-us/library/ms177410(v=sql.105).aspx\" rel=\"nofollow noreferrer\">technet.microsoft.com/en-us/library/ms177410(v=sql.105).aspx</a> <a href=\"https://msdn.microsoft.com/en-us/library/bb361109(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/bb361109(v=vs.110).aspx</a>"}, {"owner": {"reputation": 21178, "user_id": 89586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fe3afc9020eddb5c7445e286eead4a?s=128&d=identicon&r=PG", "display_name": "Matthew Whited", "link": "https://stackoverflow.com/users/89586/matthew-whited"}, "edited": false, "score": 0, "creation_date": 1447881377, "post_id": 33789794, "comment_id": 55348110, "body": "You can do dynamic pivots in LINQ but they aren&#39;t pretty <a href=\"http://stackoverflow.com/questions/3565168/is-a-dynamic-pivot-using-linq-possible\" title=\"is a dynamic pivot using linq possible\">stackoverflow.com/questions/3565168/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 958, "user_id": 154661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e7f6cc7d065052c9b7e34b9db7218f5d?s=128&d=identicon&r=PG", "display_name": "joeldow", "link": "https://stackoverflow.com/users/154661/joeldow"}, "edited": false, "score": 0, "creation_date": 1447879683, "post_id": 33789979, "comment_id": 55347130, "body": "Thanks Totalo, I know how to serialize the data, but I&#39;m trying to treat the objects as dynamic and set properties based on the DetailName fields."}, {"owner": {"reputation": 5695, "user_id": 5466575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-HQWnjB6PMu0/AAAAAAAAAAI/AAAAAAAAAF0/JyBt49xzaLU/photo.jpg?sz=128", "display_name": "Neha Jain", "link": "https://stackoverflow.com/users/5466575/neha-jain"}, "reply_to_user": {"reputation": 958, "user_id": 154661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e7f6cc7d065052c9b7e34b9db7218f5d?s=128&d=identicon&r=PG", "display_name": "joeldow", "link": "https://stackoverflow.com/users/154661/joeldow"}, "edited": false, "score": 0, "creation_date": 1447880943, "post_id": 33789979, "comment_id": 55347862, "body": "Thanks for pointing it out. I have update my answer to meet your expectation. Please let me know if this work for you"}], "tags": [], "owner": {"reputation": 5695, "user_id": 5466575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-HQWnjB6PMu0/AAAAAAAAAAI/AAAAAAAAAF0/JyBt49xzaLU/photo.jpg?sz=128", "display_name": "Neha Jain", "link": "https://stackoverflow.com/users/5466575/neha-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1447880883, "last_edit_date": 1447880883, "creation_date": 1447879377, "answer_id": 33789979, "question_id": 33789794, "link": "https://stackoverflow.com/questions/33789794/use-linq-to-flatten-name-value-collection/33789979#33789979", "title": "Use Linq to flatten name/value collection", "body": "<p>You can use XML or JSON serialization to achieve this. After serialization you can very easily convert the data into plain text </p>\n\n<p>Following link help you to write the serialization and de-serialization code.</p>\n\n<ul>\n<li><a href=\"http://www.totaldotnet.com/sub/serialize-and-deserialize-list-generic-or-other-collections-in-csharp-c\" rel=\"nofollow\">XML Serialization</a> </li>\n<li><a href=\"http://www.totaldotnet.com/sub/code-to-convert-javascript-json-to-c-type\" rel=\"nofollow\">JSON Serialization</a></li>\n</ul>\n\n<p><strong>Update</strong>\nTo get the property dynamically, you can use <code>ExpandoObject</code> (using System.Dynamic namespace), this will help you to define property dynamically. Once it is generated then you can serialize it to specified Type. Following is sample code that helps.</p>\n\n<pre><code>    var xNewExpando = new ExpandoObject() as IDictionary&lt;string, Object&gt;;\n\n    foreach (var adv in advocateDetails)\n    {\n        xNewExpando.Add(adv.DetailName, adv.DetailValue);\n    }\n\n    var yourString = JsonConvert.SerializeObject(xNewExpando);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 958, "user_id": 154661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e7f6cc7d065052c9b7e34b9db7218f5d?s=128&d=identicon&r=PG", "display_name": "joeldow", "link": "https://stackoverflow.com/users/154661/joeldow"}, "edited": false, "score": 0, "creation_date": 1447880286, "post_id": 33790114, "comment_id": 55347466, "body": "Erik - I&#39;m not trying to produce a CSV output per se - I just showed an example of the output in CSV format to show how I want the recordset to be output."}], "tags": [], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "is_accepted": false, "score": 0, "last_activity_date": 1447880370, "last_edit_date": 1447880370, "creation_date": 1447879932, "answer_id": 33790114, "question_id": 33789794, "link": "https://stackoverflow.com/questions/33789794/use-linq-to-flatten-name-value-collection/33790114#33790114", "title": "Use Linq to flatten name/value collection", "body": "<p>I think you should be able to do something like:</p>\n\n<pre><code>var results = db.EntryDetails\n  .GroupBy(ed =&gt; ed.EntryKey)\n  .ToList()\n  .Select(ek =&gt; new List&lt;List&lt;string&gt;&gt;()\n    {\n      ek.Select(gb =&gt; gb.DetailName).ToList(),\n      ek.Select(gb =&gt; gb.DetailValue).ToList()\n    });\n  .SelectMany(ed =&gt; ed)\n  .ToList();\n</code></pre>\n\n<p>The result will be a <code>List&lt;List&lt;string&gt;&gt;</code>.</p>\n\n<p>The first <code>List&lt;&gt;</code> is each row.</p>\n\n<p>The contents of each of these lists is a <code>List&lt;string&gt;</code> of columns.</p>\n"}], "owner": {"reputation": 958, "user_id": 154661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e7f6cc7d065052c9b7e34b9db7218f5d?s=128&d=identicon&r=PG", "display_name": "joeldow", "link": "https://stackoverflow.com/users/154661/joeldow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 591, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1447880883, "creation_date": 1447878670, "question_id": 33789794, "link": "https://stackoverflow.com/questions/33789794/use-linq-to-flatten-name-value-collection", "title": "Use Linq to flatten name/value collection", "body": "<p>The IGrouping result below shows some sample form data. I'm storing Name/Value pairs in the database to collect form data.  The data below is a basic example of what I'm collecting from a user completing a form.</p>\n\n<p><a href=\"https://i.stack.imgur.com/z3qQh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z3qQh.png\" alt=\"LinqPad screenshot\"></a>\nI would like have a linq query or SQL query that provides a flattened version of this data.  Example as csv data:</p>\n\n<pre><code>FirstName,LastName,Email,EmailVerify,Meta\nsdfsdf,sdfsdf,yu@yu.com,yu@yu.com,\n</code></pre>\n\n<p>The records are related by EntryKey.  How can I get result data like the example above?  Thanks.</p>\n"}, {"tags": ["c#", "kinect", "speech-recognition", "speech"], "comments": [{"owner": {"reputation": 64429, "user_id": 1188513, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wNdZG.jpg?s=128&g=1", "display_name": "Mathieu Guindon", "link": "https://stackoverflow.com/users/1188513/mathieu-guindon"}, "reply_to_user": {"reputation": 2666, "user_id": 382780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e2b7c885cfa6c044bd14500052d2060?s=128&d=identicon&r=PG", "display_name": "31eee384", "link": "https://stackoverflow.com/users/382780/31eee384"}, "edited": false, "score": 2, "creation_date": 1447879192, "post_id": 33789766, "comment_id": 55346845, "body": "@31eee384 code that&#39;s not yet written isn&#39;t ready to be peer reviewed - that would be off-topic for <a href=\"https://codereview.stackexchange.com\">Code Review</a>"}, {"owner": {"reputation": 703, "user_id": 3670165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1jKMw.jpg?s=128&g=1", "display_name": "jbuchel", "link": "https://stackoverflow.com/users/3670165/jbuchel"}, "reply_to_user": {"reputation": 64429, "user_id": 1188513, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wNdZG.jpg?s=128&g=1", "display_name": "Mathieu Guindon", "link": "https://stackoverflow.com/users/1188513/mathieu-guindon"}, "edited": false, "score": 0, "creation_date": 1447950814, "post_id": 33789766, "comment_id": 55384159, "body": "I have written code. The function SpeechRecognized listens for audio input that equals one of the possible words (see the code). My problem is that when I run the debugger my program never reaches the function. Where can I call latter?"}], "answers": [{"tags": [], "owner": {"reputation": 703, "user_id": 3670165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1jKMw.jpg?s=128&g=1", "display_name": "jbuchel", "link": "https://stackoverflow.com/users/3670165/jbuchel"}, "is_accepted": true, "score": 2, "last_activity_date": 1447966317, "creation_date": 1447966317, "answer_id": 33814151, "question_id": 33789766, "link": "https://stackoverflow.com/questions/33789766/how-do-i-implement-speech-recognition-in-my-skeleton-tracking-program/33814151#33814151", "title": "How do I implement speech recognition in my skeleton tracking program?", "body": "<p>I found my mistake. Apparently I have to start the sensor, then start the audio stream and then add the event handler for the skeleton tracking. It works now. Thank you.</p>\n"}], "owner": {"reputation": 703, "user_id": 3670165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1jKMw.jpg?s=128&g=1", "display_name": "jbuchel", "link": "https://stackoverflow.com/users/3670165/jbuchel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 1, "accepted_answer_id": 33814151, "answer_count": 1, "score": 2, "last_activity_date": 1447966317, "creation_date": 1447878555, "question_id": 33789766, "link": "https://stackoverflow.com/questions/33789766/how-do-i-implement-speech-recognition-in-my-skeleton-tracking-program", "title": "How do I implement speech recognition in my skeleton tracking program?", "body": "<p>I am working with the <strong>Kinect v1</strong>. I wrote some code that involved the calculation of the angles between the arms and the body. Now I want to implement speech recognition, but I have failed so far.</p>\n\n<p>My <strong>goal</strong>: Give a command to the Kinect. This command triggers a function, that does stuff. The stuff it does is irrelevant for now.\nThis is my code:</p>\n\n<pre><code>namespace Kinect_Robot\n{\n    using System.IO;\n    using System.IO.Ports;\n    using System.Threading;\n    using System;\n    using System.Windows;\n    using System.Windows.Forms;\n    using System.Windows.Media;\n    using Microsoft.Kinect;\n    using Microsoft.Kinect.Toolkit.Fusion;\n    using System.Windows.Media.Media3D;\n\n    using Microsoft.Speech.AudioFormat;\n    using Microsoft.Speech.Recognition;\n    using System.Windows.Documents;\n    using System.Text;\n    using System.ComponentModel;\n    using System.Collections.Generic;\n\n\n\n\n    public class Angles\n    {\n        public double AngleBetweenTwoVectors(Vector3D vectorA, Vector3D vectorB)\n        {\n            double dotProduct;\n            vectorA.Normalize();\n            vectorB.Normalize();\n            dotProduct = Vector3D.DotProduct(vectorA, vectorB);\n\n            return (double)Math.Acos(dotProduct) / Math.PI * 180;\n        }\n\n        public byte[] GetVector(Skeleton skeleton)\n        {\n            Vector3D ShoulderCenter = new Vector3D(skeleton.Joints[JointType.ShoulderCenter].Position.X, skeleton.Joints[JointType.ShoulderCenter].Position.Y, skeleton.Joints[JointType.ShoulderCenter].Position.Z);\n            Vector3D RightShoulder = new Vector3D(skeleton.Joints[JointType.ShoulderRight].Position.X, skeleton.Joints[JointType.ShoulderRight].Position.Y, skeleton.Joints[JointType.ShoulderRight].Position.Z);\n            Vector3D LeftShoulder = new Vector3D(skeleton.Joints[JointType.ShoulderLeft].Position.X, skeleton.Joints[JointType.ShoulderLeft].Position.Y, skeleton.Joints[JointType.ShoulderLeft].Position.Z);\n            Vector3D RightElbow = new Vector3D(skeleton.Joints[JointType.ElbowRight].Position.X, skeleton.Joints[JointType.ElbowRight].Position.Y, skeleton.Joints[JointType.ElbowRight].Position.Z);\n            Vector3D LeftElbow = new Vector3D(skeleton.Joints[JointType.ElbowLeft].Position.X, skeleton.Joints[JointType.ElbowLeft].Position.Y, skeleton.Joints[JointType.ElbowLeft].Position.Z);\n            Vector3D RightWrist = new Vector3D(skeleton.Joints[JointType.WristRight].Position.X, skeleton.Joints[JointType.WristRight].Position.Y, skeleton.Joints[JointType.WristRight].Position.Z);\n            Vector3D LeftWrist = new Vector3D(skeleton.Joints[JointType.WristLeft].Position.X, skeleton.Joints[JointType.WristLeft].Position.Y, skeleton.Joints[JointType.WristLeft].Position.Z);\n            Vector3D UpVector = new Vector3D(0.0, 1.0, 0.0);\n\n            double AngleRightElbow = AngleBetweenTwoVectors(RightElbow - RightShoulder, RightElbow - RightWrist);\n            double AngleRightShoulder = AngleBetweenTwoVectors(UpVector, RightShoulder - RightElbow);\n            double AngleLeftElbow = AngleBetweenTwoVectors(LeftElbow - LeftShoulder, LeftElbow - LeftWrist);\n            double AngleLeftShoulder = AngleBetweenTwoVectors(UpVector, LeftShoulder - LeftElbow);\n\n\n            byte[] Angles = { Convert.ToByte(AngleRightElbow), Convert.ToByte(180 - AngleRightShoulder), Convert.ToByte(180 - AngleLeftElbow), Convert.ToByte(AngleLeftShoulder) };\n            return Angles;\n        }\n    }\n\n    /// Interaction logic for MainWindow.xaml\n    public partial class  MainWindow : Window\n    {\n\n        SerialPort ArduinoPort;\n        public Boolean PortOpen = false;\n\n        /// Width of output drawing\n        private const float RenderWidth = 640.0f;\n\n        /// Height of our output drawing\n        private const float RenderHeight = 480.0f;\n\n        /// Thickness of drawn joint lines\n        private const double JointThickness = 3;\n\n        /// Thickness of body center ellipse\n        private const double BodyCenterThickness = 10;\n\n        /// Thickness of clip edge rectangles\n        private const double ClipBoundsThickness = 10;\n\n        /// Brush used to draw skeleton center point\n        private readonly Brush centerPointBrush = Brushes.Blue;\n\n        /// Brush used for drawing joints that are currently tracked\n        private readonly Brush trackedJointBrush = new SolidColorBrush(Color.FromArgb(255, 68, 192, 68));\n\n        /// Brush used for drawing joints that are currently inferred\n        private readonly Brush inferredJointBrush = Brushes.Yellow;\n\n        /// Pen used for drawing bones that are currently tracked\n        private readonly Pen trackedBonePen = new Pen(Brushes.Green, 6);\n\n        /// Pen used for drawing bones that are currently inferred\n        private readonly Pen inferredBonePen = new Pen(Brushes.Gray, 1);\n\n        /// Active Kinect sensor\n        private KinectSensor sensor;\n\n        private SpeechRecognitionEngine speechEngine;\n\n        /// Drawing group for skeleton rendering output\n        private DrawingGroup drawingGroup;\n\n        /// Drawing image that we will display\n        private DrawingImage imageSource;\n\n        /// Initializes a new instance of the MainWindow class.\n        public MainWindow()\n        {\n            InitializeComponent();\n        }\n\n        private static RecognizerInfo GetKinectRecognizer()\n        {\n            foreach (RecognizerInfo recognizer in SpeechRecognitionEngine.InstalledRecognizers())\n            {\n                string value;\n                recognizer.AdditionalInfo.TryGetValue(\"Kinect\", out value);\n                if (\"True\".Equals(value, StringComparison.OrdinalIgnoreCase) &amp;&amp; \"en-US\".Equals(recognizer.Culture.Name, StringComparison.OrdinalIgnoreCase))\n                {\n                    return recognizer;\n                }\n            }\n\n            return null;\n        }\n\n        private static void RenderClippedEdges(Skeleton skeleton, DrawingContext drawingContext)\n        {\n            if (skeleton.ClippedEdges.HasFlag(FrameEdges.Bottom))\n            {\n                drawingContext.DrawRectangle(\n                    Brushes.Red,\n                    null,\n                    new Rect(0, RenderHeight - ClipBoundsThickness, RenderWidth, ClipBoundsThickness));\n            }\n\n            if (skeleton.ClippedEdges.HasFlag(FrameEdges.Top))\n            {\n                drawingContext.DrawRectangle(\n                    Brushes.Red,\n                    null,\n                    new Rect(0, 0, RenderWidth, ClipBoundsThickness));\n            }\n\n            if (skeleton.ClippedEdges.HasFlag(FrameEdges.Left))\n            {\n                drawingContext.DrawRectangle(\n                    Brushes.Red,\n                    null,\n                    new Rect(0, 0, ClipBoundsThickness, RenderHeight));\n            }\n\n            if (skeleton.ClippedEdges.HasFlag(FrameEdges.Right))\n            {\n                drawingContext.DrawRectangle(\n                    Brushes.Red,\n                    null,\n                    new Rect(RenderWidth - ClipBoundsThickness, 0, ClipBoundsThickness, RenderHeight));\n            }\n        }\n\n        private void WindowLoaded(object sender, RoutedEventArgs e)\n        {\n\n            // Create the drawing group we'll use for drawing\n            this.drawingGroup = new DrawingGroup();\n\n            // Create an image source that we can use in our image control\n            this.imageSource = new DrawingImage(this.drawingGroup);\n\n            // Display the drawing using our image control\n            Image.Source = this.imageSource;\n\n            // Look through all sensors and start the first connected one.\n            // This requires that a Kinect is connected at the time of app startup.\n            // To make your app robust against plug/unplug, \n            // it is recommended to use KinectSensorChooser provided in Microsoft.Kinect.Toolkit (See components in Toolkit Browser).\n            foreach (var potentialSensor in KinectSensor.KinectSensors)\n            {\n                if (potentialSensor.Status == KinectStatus.Connected)\n                {\n                    this.sensor = potentialSensor;\n                    break;\n                }\n            }\n\n            if (null != this.sensor)\n            {\n                // Turn on the skeleton stream to receive skeleton frames\n                this.sensor.SkeletonStream.Enable();\n\n                // Add an event handler to be called whenever there is new color frame data\n                this.sensor.SkeletonFrameReady += this.SensorSkeletonFrameReady;\n\n                // Start the sensor!\n                try\n                {\n                    this.sensor.Start();\n                }\n                catch (IOException)\n                {\n                    this.sensor = null;\n                }\n            }\n\n            if (null == this.sensor)\n            {\n                this.statusBarText.Text = Properties.Resources.NoKinectReady;\n            }\n\n            RecognizerInfo ri = GetKinectRecognizer();\n\n            if (null != ri)\n            {\n                this.speechEngine = new SpeechRecognitionEngine(ri.Id);\n                using (var memoryStream = new MemoryStream(Encoding.ASCII.GetBytes(Properties.Resources.SpeechGrammar)))\n                {\n                    var g = new Grammar(memoryStream);\n                    speechEngine.LoadGrammar(g);\n                }\n\n                speechEngine.SpeechRecognized += SpeechRecognized;\n                speechEngine.SpeechRecognitionRejected += SpeechRejected;\n                speechEngine.SetInputToAudioStream(\n                    sensor.AudioSource.Start(), new SpeechAudioFormatInfo(EncodingFormat.Pcm, 16000, 16, 1, 32000, 2, null));\n                speechEngine.RecognizeAsync(RecognizeMode.Multiple);\n            }\n            else\n            {\n                this.statusBarText.Text = Properties.Resources.NoSpeechRecognizer;\n            }\n        }\n\n        private void WindowClosing(object sender, System.ComponentModel.CancelEventArgs e)\n        {\n\n            if (null != this.sensor)\n            {\n                this.sensor.AudioSource.Stop();\n                try\n                {\n                    ArduinoPort.Close();\n                }\n                catch (NullReferenceException) { };\n\n                this.sensor.Stop();\n                this.sensor = null;\n            }\n            if (null != this.speechEngine)\n            {\n                this.speechEngine.SpeechRecognized -= SpeechRecognized;\n                this.speechEngine.SpeechRecognitionRejected -= SpeechRejected;\n                this.speechEngine.RecognizeAsyncStop();\n            }\n        }\n\n        private void SpeechRecognized(object sender, SpeechRecognizedEventArgs e)\n        {\n            // Speech utterance confidence below which we treat speech as if it hadn't been heard\n            const double ConfidenceThreshold = 0.3;\n\n            if (e.Result.Confidence &gt;= ConfidenceThreshold)\n            {\n                switch (e.Result.Semantics.Value.ToString())\n                {\n                    case \"SPREAD\":\n                        this.CommandTextBox.Text = \"Spread\";\n                        break;\n\n                    case \"SOMETHING1\":\n\n                        break;\n\n                    case \"SOMETHING2\":\n\n                        break;\n\n                    case \"SOMETHING3\":\n\n                        break;\n                }\n            }\n        }\n\n        private void SpeechRejected(object sender, SpeechRecognitionRejectedEventArgs e)\n        {\n\n        }\n\n        private void SensorSkeletonFrameReady(object sender, SkeletonFrameReadyEventArgs e)\n        {\n            Skeleton[] skeletons = new Skeleton[0];\n\n            using (SkeletonFrame skeletonFrame = e.OpenSkeletonFrame())\n            {\n                if (skeletonFrame != null)\n                {\n                    skeletons = new Skeleton[skeletonFrame.SkeletonArrayLength];\n                    skeletonFrame.CopySkeletonDataTo(skeletons);\n\n                }\n            }\n\n            using (DrawingContext dc = this.drawingGroup.Open())\n            {\n                // Draw a transparent background to set the render size\n                dc.DrawRectangle(Brushes.Black, null, new Rect(0.0, 0.0, RenderWidth, RenderHeight));\n\n                if (skeletons.Length != 0)\n                {\n                    foreach (Skeleton skel in skeletons)\n                    {\n                        RenderClippedEdges(skel, dc);\n\n                        if (skel.TrackingState == SkeletonTrackingState.Tracked)\n                        {\n                            this.DrawBonesAndJoints(skel, dc);\n\n                            Angles MyAngles = new Angles(); //Instance of class angles\n                            byte[] ReadyAngles = MyAngles.GetVector(skel);//Save angles to byte array and call GetVector\n                            RightElbow.Text = ReadyAngles[0].ToString(); //Write Angle into textbox\n                            RightShoulder.Text = ReadyAngles[1].ToString();//Write Angle into textbox\n                            LeftElbow.Text = ReadyAngles[2].ToString();//Write Angle into textbox\n                            LeftShoulder.Text = ReadyAngles[3].ToString();//Write Angle into textbox\n                            byte[] SequenceStart = { 255 };\n\n                            //if (ArduinoPort.IsOpen)\n                            if (PortOpen)\n                            {\n                                ArduinoPort.Write(SequenceStart, 0, 1);\n                                ArduinoPort.Write(ReadyAngles, 0, 4);\n                            }\n                        }\n                        else if (skel.TrackingState == SkeletonTrackingState.PositionOnly)\n                        {\n                            dc.DrawEllipse(\n                            this.centerPointBrush,\n                            null,\n                            this.SkeletonPointToScreen(skel.Position),\n                            BodyCenterThickness,\n                            BodyCenterThickness);\n                        }\n                    }\n                }\n\n                // prevent drawing outside of our render area\n                this.drawingGroup.ClipGeometry = new RectangleGeometry(new Rect(0.0, 0.0, RenderWidth, RenderHeight));\n            }\n        }\n\n        private void DrawBonesAndJoints(Skeleton skeleton, DrawingContext drawingContext)\n        {\n            // Render Torso\n            this.DrawBone(skeleton, drawingContext, JointType.Head, JointType.ShoulderCenter);\n            this.DrawBone(skeleton, drawingContext, JointType.ShoulderCenter, JointType.ShoulderLeft);\n            this.DrawBone(skeleton, drawingContext, JointType.ShoulderCenter, JointType.ShoulderRight);\n            this.DrawBone(skeleton, drawingContext, JointType.ShoulderCenter, JointType.Spine);\n            this.DrawBone(skeleton, drawingContext, JointType.Spine, JointType.HipCenter);\n            this.DrawBone(skeleton, drawingContext, JointType.HipCenter, JointType.HipLeft);\n            this.DrawBone(skeleton, drawingContext, JointType.HipCenter, JointType.HipRight);\n\n            // Left Arm\n            this.DrawBone(skeleton, drawingContext, JointType.ShoulderLeft, JointType.ElbowLeft);\n            this.DrawBone(skeleton, drawingContext, JointType.ElbowLeft, JointType.WristLeft);\n            this.DrawBone(skeleton, drawingContext, JointType.WristLeft, JointType.HandLeft);\n\n            // Right Arm\n            this.DrawBone(skeleton, drawingContext, JointType.ShoulderRight, JointType.ElbowRight);\n            this.DrawBone(skeleton, drawingContext, JointType.ElbowRight, JointType.WristRight);\n            this.DrawBone(skeleton, drawingContext, JointType.WristRight, JointType.HandRight);\n\n            // Left Leg\n            this.DrawBone(skeleton, drawingContext, JointType.HipLeft, JointType.KneeLeft);\n            this.DrawBone(skeleton, drawingContext, JointType.KneeLeft, JointType.AnkleLeft);\n            this.DrawBone(skeleton, drawingContext, JointType.AnkleLeft, JointType.FootLeft);\n\n            // Right Leg\n            this.DrawBone(skeleton, drawingContext, JointType.HipRight, JointType.KneeRight);\n            this.DrawBone(skeleton, drawingContext, JointType.KneeRight, JointType.AnkleRight);\n            this.DrawBone(skeleton, drawingContext, JointType.AnkleRight, JointType.FootRight);\n\n\n            // Render Joints\n            foreach (Joint joint in skeleton.Joints)\n            {\n                Brush drawBrush = null;\n\n                if (joint.TrackingState == JointTrackingState.Tracked)\n                {\n                    drawBrush = this.trackedJointBrush;\n                }\n                else if (joint.TrackingState == JointTrackingState.Inferred)\n                {\n                    drawBrush = this.inferredJointBrush;\n                }\n\n                if (drawBrush != null)\n                {\n                    drawingContext.DrawEllipse(drawBrush, null, this.SkeletonPointToScreen(joint.Position), JointThickness, JointThickness);\n                }\n            }\n        }\n\n        private Point SkeletonPointToScreen(SkeletonPoint skelpoint)\n        {\n            // Convert point to depth space.  \n            // We are not using depth directly, but we do want the points in our 640x480 output resolution.\n            DepthImagePoint depthPoint = this.sensor.CoordinateMapper.MapSkeletonPointToDepthPoint(skelpoint, DepthImageFormat.Resolution640x480Fps30);\n            return new Point(depthPoint.X, depthPoint.Y);\n        }\n\n        private void DrawBone(Skeleton skeleton, DrawingContext drawingContext, JointType jointType0, JointType jointType1)\n        {\n            Joint joint0 = skeleton.Joints[jointType0];\n            Joint joint1 = skeleton.Joints[jointType1];\n\n            // If we can't find either of these joints, exit\n            if (joint0.TrackingState == JointTrackingState.NotTracked ||\n                joint1.TrackingState == JointTrackingState.NotTracked)\n            {\n                return;\n            }\n\n            // Don't draw if both points are inferred\n            if (joint0.TrackingState == JointTrackingState.Inferred &amp;&amp;\n                joint1.TrackingState == JointTrackingState.Inferred)\n            {\n                return;\n            }\n\n            // We assume all drawn bones are inferred unless BOTH joints are tracked\n            Pen drawPen = this.inferredBonePen;\n            if (joint0.TrackingState == JointTrackingState.Tracked &amp;&amp; joint1.TrackingState == JointTrackingState.Tracked)\n            {\n                drawPen = this.trackedBonePen;\n            }\n\n            drawingContext.DrawLine(drawPen, this.SkeletonPointToScreen(joint0.Position), this.SkeletonPointToScreen(joint1.Position));\n        }\n\n        private void CheckBoxSeatedModeChanged(object sender, RoutedEventArgs e)\n        {\n            if (null != this.sensor)\n            {\n                if (this.checkBoxSeatedMode.IsChecked.GetValueOrDefault())\n                {\n                    this.sensor.SkeletonStream.TrackingMode = SkeletonTrackingMode.Seated;\n                }\n                else\n                {\n                    this.sensor.SkeletonStream.TrackingMode = SkeletonTrackingMode.Default;\n                }\n            }\n        }\n\n        private void CheckBoxConnectArduino(object sender, RoutedEventArgs e)\n        {\n\n            if (this.checkArduinoConnected.IsChecked.GetValueOrDefault())\n            {\n                string MyCOM = \"COM10\";\n                ArduinoPort = new SerialPort(MyCOM, 9600);\n                ArduinoPort.Open();\n                Thread.Sleep(200);\n                byte[] SequenceStart = { 254, 0, 0, 0, 0 };\n\n                if (ArduinoPort.IsOpen)\n                {\n                    PortOpen = true;\n                    ArduinoPort.Write(SequenceStart, 0, 5);\n                    Thread.Sleep(200);\n                }\n                int count = ArduinoPort.BytesToRead;\n                if (count == 2)\n                {\n                    short Voltage;\n                    double VoltageDouble;\n                    byte[] SerialInBytes = { 0, 0 };\n                    SerialInBytes[0] = Convert.ToByte(ArduinoPort.ReadByte());\n                    SerialInBytes[1] = Convert.ToByte(ArduinoPort.ReadByte());\n                    Voltage = BitConverter.ToInt16(SerialInBytes, 0);\n                    VoltageDouble = Voltage * 10.653 / 1000;\n                    string VoltageString = String.Format(\"{0:0.00}\", VoltageDouble);\n                    VoltageTextBox.Text = VoltageString;\n                }\n                else\n                {\n                    System.Windows.Forms.MessageBox.Show(\"No Arduino connected\");\n                }\n            }\n            else\n            {\n                ArduinoPort.Close();\n                PortOpen = false;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Description</strong>: I have two classes: Angles and the mainClass. The class Angles calculates the angles. It is irrelevant. In the mainClass we start off with some variables. We also declare a speechEngine and the sensor.</p>\n\n<p>Here comes the part I have problems with: As you can see I have an event handler, that calls a function every frame. Once it has entered this function (SensorSkeletonFrameReady) it continues in a loop of drawing skeletons and calling that function.</p>\n\n<p>My <strong>question</strong>: Where and how should I implement the code for the speech recognition, which is already written?</p>\n\n<p>I know it is a big chunk of code, but I am grateful for any advice! Thank you.</p>\n\n<p>PS: Here's a picture of my robot, which uses the angles to imitate my arm movements.<a href=\"https://i.stack.imgur.com/1cwU3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1cwU3.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "entity-framework", "transactions"], "comments": [{"owner": {"reputation": 999, "user_id": 5185389, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8c63dbf6d7df7773c3757322d70486b7?s=128&d=identicon&r=PG&f=1", "display_name": "DevilSuichiro", "link": "https://stackoverflow.com/users/5185389/devilsuichiro"}, "edited": false, "score": 0, "creation_date": 1447881775, "post_id": 33789745, "comment_id": 55348341, "body": "both add and update actions are wrapped into a transaction, which is called upon calling SaveChanges(). your call to Single() will be another transaction of course, but usually all changes to the context will be reflected in one transaction, namely at SaveChanges()."}], "answers": [{"comments": [{"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1447885119, "post_id": 33790694, "comment_id": 55350170, "body": "SaveChanges is transactional but the rest is not. That&#39;s an important difference."}, {"owner": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 1, "creation_date": 1447899872, "post_id": 33790694, "comment_id": 55355113, "body": "What do you mean by &quot;the rest&quot;?"}, {"owner": {"reputation": 18407, "user_id": 797882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YKWuK.jpg?s=128&g=1", "display_name": "CodeNotFound", "link": "https://stackoverflow.com/users/797882/codenotfound"}, "reply_to_user": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 0, "creation_date": 1447916538, "post_id": 33790694, "comment_id": 55360658, "body": "Good question, @mFeinstein. What do he mean by &quot;the rest&quot;?"}], "tags": [], "owner": {"reputation": 18407, "user_id": 797882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YKWuK.jpg?s=128&g=1", "display_name": "CodeNotFound", "link": "https://stackoverflow.com/users/797882/codenotfound"}, "is_accepted": true, "score": 1, "last_activity_date": 1447881899, "creation_date": 1447881899, "answer_id": 33790694, "question_id": 33789745, "link": "https://stackoverflow.com/questions/33789745/native-entity-framework-transactions-behavior/33790694#33790694", "title": "Native Entity Framework Transactions Behavior", "body": "<blockquote>\n  <p>Does it wrap all the insert, update or delete into one transaction, or each one of them get it's own transaction? </p>\n</blockquote>\n\n<p>For the time you instantiate your context until you reach the SaveChanges() method, all operations insert, update and update are executed in a single transaction hence as an atomic operation to the database server. If one of your operation failed all of the operations that are executed in success before reaching the failed one are rollback. But your entites will still have their modifications you have done on them. Only the database server will reject the changes.</p>\n\n<blockquote>\n  <p>The term \"that operation\" in the text can be both the whole SaveChanges() operation or the individual insert, update or delete.</p>\n</blockquote>\n\n<p>It represents the hole <code>SaveChanges</code> as an ACID (Atomicity, Consistency, Isolation, Durability) operation. </p>\n\n<blockquote>\n  <p>I would like that if there are any errors setting myObject2.Value1 to 10, the whole operation is canceled, so myObject1 isn't added to the DB as well and vice versa.</p>\n</blockquote>\n\n<p>Your object modifications aren't added to the database but object's state in your application is not lost. The value 10 will still be there as a value of <code>Value1</code> if you check the value of this property.</p>\n"}], "owner": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 33790694, "answer_count": 1, "score": 3, "last_activity_date": 1447881899, "creation_date": 1447878499, "question_id": 33789745, "link": "https://stackoverflow.com/questions/33789745/native-entity-framework-transactions-behavior", "title": "Native Entity Framework Transactions Behavior", "body": "<p>I read some articles, like <a href=\"https://msdn.microsoft.com/en-us/data/dn456843.aspx\" rel=\"nofollow\">this</a> one, where they say:</p>\n\n<blockquote>\n  <p>In all versions of Entity Framework, whenever you execute\n  SaveChanges() to insert, update or delete on the database the\n  framework will wrap that operation in a transaction. This transaction\n  lasts only long enough to execute the operation and then completes.\n  When you execute another such operation a new transaction is started.</p>\n</blockquote>\n\n<p>But I can't understand from this description how does EF behaves when I have multiple changes to be executed. Does it wrap all the <code>insert</code>, <code>update</code> or <code>delete</code> into one <code>transaction</code>, or each one of them get it's own <code>transaction</code>? The term \"<em>that operation</em>\" in the text can be both the whole <code>SaveChanges()</code> operation or the individual <code>insert</code>, <code>update</code> or <code>delete</code>.</p>\n\n<p>A practical example of my question is:</p>\n\n<pre><code>using(var context = new MyContext())\n{\n    context.MyClass1.Add(myObject1);\n    var myObject2 = context.MyClass2.Single();\n    myObject2.Value1 = 10;\n\n    context.SaveChanges();\n}\n</code></pre>\n\n<p>I would like that if there are any errors setting <code>myObject2.Value1</code>  to <code>10</code>, the whole operation is canceled, so <code>myObject1</code> isn't added to the DB as well and vice versa.</p>\n"}, {"tags": ["c#", ".net", "parallel.foreach", "plinq"], "comments": [{"owner": {"reputation": 90105, "user_id": 106159, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Qfp6z.png?s=128&g=1", "display_name": "Matthew Watson", "link": "https://stackoverflow.com/users/106159/matthew-watson"}, "edited": false, "score": 0, "creation_date": 1447878736, "post_id": 33789721, "comment_id": 55346621, "body": "It might be related to this: <a href=\"http://stackoverflow.com/questions/15143931/strange-behaviour-of-console-readkey-with-multithreading\" title=\"strange behaviour of console readkey with multithreading\">stackoverflow.com/questions/15143931/&hellip;</a> - you are calling Console.WriteLine() in a background thread before it&#39;s been initialised properly."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 1, "creation_date": 1447879375, "post_id": 33789721, "comment_id": 55346961, "body": "You got lucky with <code>sb.AppendLine</code>, the method is not thread safe, if you had more and longer strings your strings would be malformed or some would even be missing."}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1447879625, "post_id": 33789721, "comment_id": 55347098, "body": "For me it locks even without <code>Console.WriteLine</code> inside <code>Program</code>&#39;s static constructor. Calling <code>ForAll</code> (with an empty body) in the cctor triggers the hang. (Targeting 4.5.2, VS 2013)"}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1447880450, "post_id": 33789721, "comment_id": 55347575, "body": "I&#39;m just guessing here but I think that <code>Program</code>&#39;s static constructor is not finished when the parallel loop is called and the underlying code goes into a waiting state for the static constructor to finish iniitalizing the type (from where the threads start). If you move the logic to a separate static function, it works without hanging."}, {"owner": {"reputation": 361, "user_id": 1821133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46448955c9ddeb819648e6e8f37fdd85?s=128&d=identicon&r=PG", "display_name": "johnnyjob", "link": "https://stackoverflow.com/users/1821133/johnnyjob"}, "edited": false, "score": 0, "creation_date": 1447884372, "post_id": 33789721, "comment_id": 55349792, "body": "Possible duplicate of this: &quot;<a href=\"http://stackoverflow.com/questions/5770478/plinq-statement-gets-deadlocked-inside-static-constructor\" title=\"plinq statement gets deadlocked inside static constructor\">stackoverflow.com/questions/5770478/&hellip;</a>&quot; Console.WriteLine has nothing to do with it."}], "answers": [{"comments": [{"owner": {"reputation": 6097, "user_id": 208318, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/AqTVR.jpg?s=128&g=1", "display_name": "Doug", "link": "https://stackoverflow.com/users/208318/doug"}, "edited": false, "score": 1, "creation_date": 1447941314, "post_id": 33792150, "comment_id": 55376980, "body": "Thanks, this explains it very well. It&#39;s still nice to point out that the blocking in static method calls occur only between different threads. Static methods called from within the same thread the static constructor is running are called just fine. Maybe not a good practice, tho."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 6097, "user_id": 208318, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/AqTVR.jpg?s=128&g=1", "display_name": "Doug", "link": "https://stackoverflow.com/users/208318/doug"}, "edited": false, "score": 0, "creation_date": 1447952581, "post_id": 33792150, "comment_id": 55385425, "body": "<i>&quot; the blocking in static method calls occur only between different threads&quot;</i> -- yes, that is correct. <i>&quot;Maybe not a good practice&quot;</i> -- no, I think it&#39;s fine, as long as one is not violating some other good practice wrt static constructors. I.e. assuming the initialization is suitable for a static constructor but wordy enough that factoring it into one or more methods improves the code, then doing that is a <i>good</i> thing, not something to be avoided. I&#39;ll edit the question to clarify the point about the cross-thread call."}], "tags": [], "owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "is_accepted": true, "score": 1, "last_activity_date": 1447952695, "last_edit_date": 1495540745, "creation_date": 1447887640, "answer_id": 33792150, "question_id": 33789721, "link": "https://stackoverflow.com/questions/33789721/apparent-deadlock-using-console-and-plinq/33792150#33792150", "title": "Apparent deadlock using Console and PLinq", "body": "<p>The short version: don't ever block inside a constructor, and especially not in a <code>static</code> constructor.</p>\n\n<p>In your example, the difference has to do with the anonymous method you use. In the first case, you've captured a local variable which causes the anonymous method to be compiled into its own class. But in the second case, there's no variable capturing and so a <code>static</code> method suffices. Except that the static method is put into the <code>Program</code> class. Which is still being initialized.</p>\n\n<p>So, the call to the anonymous method is blocked by the initialization of the class (you can't, from a thread other than where the static constructor is being executed, execute a method in a class until that class has completed initialization), and the initialization of the class is blocked by the execution of the anonymous method (the <code>ForAll()</code> method won't return until all of those methods have executed).</p>\n\n<p>Deadlock.</p>\n\n<p><br/>\nIt is difficult to know what a good proposal of a work-around might be, given that the example is (as expected) a simplified version of whatever you're really doing. But the bottom line is that that you shouldn't be doing long-running computations in the static constructor. If it's a slow enough algorithm that it justifies the use of <code>ForAll()</code>, then it's slow enough that it really shouldn't be part of the class initialization in the first place.</p>\n\n<p>Among many possible options for addressing the issue, one you might choose is the <code>Lazy&lt;T&gt;</code> class, which makes it easy to defer some initialization until it's actually needed.</p>\n\n<p>For example, let's assume that your parallel code is not just writing out elements of the list but is actually processing them in some way. I.e. it's part of the actual initialization of the list. Then you can wrap that initialization in a factory method executed by <code>Lazy&lt;T&gt;</code> on demand instead of in the static constructor:</p>\n\n<pre><code>public class Program\n{   \n    public static void Main() \n    {\n        Console.WriteLine(\"foo\");\n    }\n\n    private static readonly Lazy&lt;List&lt;int&gt;&gt; _list = new Lazy&lt;List&lt;int&gt;&gt;(() =&gt; InitList());\n\n    private static List&lt;int&gt; InitList()\n    {\n        var list = new List&lt;int&gt;() { 1,2,3 };\n        list.AsParallel().WithDegreeOfParallelism(4).ForAll(item =&gt; { Console.WriteLine(item.ToString()); });\n\n        return list;\n    }\n}\n</code></pre>\n\n<p>Then the initialization code won't even be executed at all, until some code needs to access the list, which it can do via <code>_list.Value</code>.</p>\n\n<p><br/>\nThis is subtly different enough that I felt it warranted a new answer (i.e. the kind of use of the anonymous method changes the behavior), but there are at least two other very closely related questions and answers on Stack Overflow:<br/>\n<a href=\"https://stackoverflow.com/q/5770478\">Plinq statement gets deadlocked inside static constructor</a><br/>\n<a href=\"https://stackoverflow.com/q/27612772\">Task.Run in Static Initializer</a></p>\n\n<p><br/>\nAs an aside: I learned recently that with the new Roslyn compiler, they have changed how they implement anonymous methods in this scenario, and even ones that could be static methods are made instance methods in a separate class (if I recall correctly). I don't know whether this was to reduce the prevalence of this kind of bug or not, but it would definitely change the behavior (and would eliminate the anonymous method as a source of deadlock&hellip;of course one could always still reproduce the problem with a call to an explicitly declared static, named method).</p>\n"}], "owner": {"reputation": 6097, "user_id": 208318, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/AqTVR.jpg?s=128&g=1", "display_name": "Doug", "link": "https://stackoverflow.com/users/208318/doug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 33792150, "answer_count": 1, "score": 2, "last_activity_date": 1447952695, "creation_date": 1447878451, "question_id": 33789721, "link": "https://stackoverflow.com/questions/33789721/apparent-deadlock-using-console-and-plinq", "title": "Apparent deadlock using Console and PLinq", "body": "<p>The following code runs with no issues:</p>\n\n<pre><code>// This code outputs:\n// 3\n// 2\n// 1\n//\n// foo\n// DotNetFiddle: https://dotnetfiddle.net/wDRD9L\npublic class Program\n{   \n    public static void Main() \n    {\n        Console.WriteLine(\"foo\");\n    }\n\n    static Program() \n    {       \n        var sb = new System.Text.StringBuilder();\n        var list = new List&lt;int&gt;() { 1,2,3 };\n        list.AsParallel().WithDegreeOfParallelism(4).ForAll(item =&gt; { sb.AppendLine(item.ToString()); });\n        Console.WriteLine(sb.ToString());\n    }\n}\n</code></pre>\n\n<p>As soon as I replace <code>sb.AppendLine</code> with a call to <code>Console.WriteLine</code> the code hangs, like there's a deadlock somewhere.</p>\n\n<pre><code>// This code hangs.\n// DotNetFiddle: https://dotnetfiddle.net/pbhNR2\npublic class Program\n{   \n    public static void Main() \n    {\n        Console.WriteLine(\"foo\");\n    }\n\n    static Program() \n    {       \n        var list = new List&lt;int&gt;() { 1,2,3 };\n        list.AsParallel().WithDegreeOfParallelism(4).ForAll(item =&gt; { Console.WriteLine(item.ToString()); });\n    }\n}\n</code></pre>\n\n<p>At first I suspected <code>Console.WriteLine</code> was not thread-safe, but according to documentation it is thread-safe.</p>\n\n<p>What's the explanation for this behavior?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "entity-framework", "entity-framework-6"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1447878735, "post_id": 33789720, "comment_id": 55346619, "body": "<i>DbContext in an async manner since then, the upper level might think the Repo is finished with it and prematurely dispose of it</i> - to my knowledge this can&#39;t happen."}, {"owner": {"reputation": 124, "user_id": 828293, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b4c0dab4971bbcd20067ea2ab1afe746?s=128&d=identicon&r=PG", "display_name": "zoombini", "link": "https://stackoverflow.com/users/828293/zoombini"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1447878997, "post_id": 33789720, "comment_id": 55346751, "body": "yeah, I&#39;m going to edit my post since I&#39;ve been doing a lot of reading about how DbContext is not thread-safe, and that it&#39;s apparently not a huge deal to spin up another context."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1447879380, "post_id": 33789720, "comment_id": 55346965, "body": "Async and threading are not the same thing AT ALL."}, {"owner": {"reputation": 124, "user_id": 828293, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b4c0dab4971bbcd20067ea2ab1afe746?s=128&d=identicon&r=PG", "display_name": "zoombini", "link": "https://stackoverflow.com/users/828293/zoombini"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1447880574, "post_id": 33789720, "comment_id": 55347635, "body": "sorry I wasn&#39;t referring to the C# async pattern, I was referring to multithreading."}], "answers": [{"comments": [{"owner": {"reputation": 124, "user_id": 828293, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b4c0dab4971bbcd20067ea2ab1afe746?s=128&d=identicon&r=PG", "display_name": "zoombini", "link": "https://stackoverflow.com/users/828293/zoombini"}, "edited": false, "score": 0, "creation_date": 1447891309, "post_id": 33790068, "comment_id": 55352554, "body": "Hey Harsh, thanks for the insight. OOC, in your experience, which do you prefer, going through a service layer, or some kind of IRepository interface with dependency injection?"}, {"owner": {"reputation": 538, "user_id": 345223, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/49ef10b2c8977cd34cb08ea0849dcfd4?s=128&d=identicon&r=PG", "display_name": "Harsh Shah", "link": "https://stackoverflow.com/users/345223/harsh-shah"}, "reply_to_user": {"reputation": 124, "user_id": 828293, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b4c0dab4971bbcd20067ea2ab1afe746?s=128&d=identicon&r=PG", "display_name": "zoombini", "link": "https://stackoverflow.com/users/828293/zoombini"}, "edited": false, "score": 0, "creation_date": 1447940573, "post_id": 33790068, "comment_id": 55376412, "body": "I personally like the IRepository Interface with DI better. There are a couple of advantages for this: 1. It makes testing easier. In your unit test, you can create a mock implementation of IRepository and pass it to the controller. 2. If you want to support multiple databases or if you want to change the database,  you can simply create another implementation of IRepo and inject the implementation you want as and when required. With the service layer approach, the controller always calls the service which directly calls the repository there is still some (indirect) coupling."}, {"owner": {"reputation": 124, "user_id": 828293, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b4c0dab4971bbcd20067ea2ab1afe746?s=128&d=identicon&r=PG", "display_name": "zoombini", "link": "https://stackoverflow.com/users/828293/zoombini"}, "edited": false, "score": 0, "creation_date": 1448059521, "post_id": 33790068, "comment_id": 55440036, "body": "oh okay, does that mean you put your business logic in the controllers then? Shouldn&#39;t the business logic be separate from the presentation layer?"}], "tags": [], "owner": {"reputation": 538, "user_id": 345223, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/49ef10b2c8977cd34cb08ea0849dcfd4?s=128&d=identicon&r=PG", "display_name": "Harsh Shah", "link": "https://stackoverflow.com/users/345223/harsh-shah"}, "is_accepted": true, "score": 1, "last_activity_date": 1447879761, "creation_date": 1447879761, "answer_id": 33790068, "question_id": 33789720, "link": "https://stackoverflow.com/questions/33789720/appropriate-layers-of-design-abstraction-for-objects/33790068#33790068", "title": "Appropriate layers of design abstraction for objects?", "body": "<p>The answer to question 2 is loose coupling. If you use the repository directly in your controller that creates a tight coupling and if you ever want to change your data access, you will have to change the controllers. If you have the service layer, you won't be required to change the controllers. Now if your repository is based on an interface (let's call it IDAL) that defines all the data access methods you might want (e.g. GetBooksByAuthor etc), you can do away with the service layer and inject the respository directly into your controller. This way if you ever want to change the dataaccess, you can derive from the IDAL interface and inject this new concrete data access layer into your controller.</p>\n\n<p>The answers to 1 and 3 depends on the complexity of your application. If your database tables closely match your domain objects then the repo can directly work the entity models. If not, then it's best to convert them into domain objects and pass them on to service or controller for further business logic. Domain models would normally be converted into ViewModel in controller before sending it to view.</p>\n"}], "owner": {"reputation": 124, "user_id": 828293, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b4c0dab4971bbcd20067ea2ab1afe746?s=128&d=identicon&r=PG", "display_name": "zoombini", "link": "https://stackoverflow.com/users/828293/zoombini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 33790068, "answer_count": 1, "score": 1, "last_activity_date": 1447879761, "creation_date": 1447878451, "last_edit_date": 1447879047, "question_id": 33789720, "link": "https://stackoverflow.com/questions/33789720/appropriate-layers-of-design-abstraction-for-objects", "title": "Appropriate layers of design abstraction for objects?", "body": "<p>I've been getting back into ASP MVC development recently, and with EF 6 I had a few questions about the design logic.</p>\n\n<p>I'm going with the following pattern:\nController -> Service -> Repository -> DbContext -> Database</p>\n\n<p>I read some stuff about the UnitOfWork pattern, but I always make something similar to this:</p>\n\n<pre><code>public abstract class BaseRepository : IDisposable\n{\n    SiteContext Context;\n    public BaseRepository(SiteContext context) { \n        Context = context; \n        IsContextDisposable = false; \n    }\n\n    public BaseRepository() { \n        Context = new SiteContext(); \n        IsContextDisposable = true; \n    }\n}\n\npublic class ForumRepository : BaseRepository\n{\n}\n</code></pre>\n\n<p>So if some method requires multiple repos, it can just pass around its a single DbContext and dispose of it later.</p>\n\n<p><strong>Questions</strong>:</p>\n\n<ol>\n<li><p>Should my repository be working with the Entity Framework Models (that are used to construct my code-first database)? Or should the repo fetch them and immediately convert the EF models into domain objects using Automapper or something similar? </p></li>\n<li><p>What is the point of the service? Why can't I just instantiate a repository directly from the controller? What is the responsibility of the Service?</p></li>\n<li><p>Is it a normal flow to have Entity Models converted to Domain Objects then converted into ViewModels?</p></li>\n</ol>\n"}, {"tags": ["c#", "c++", "sql-server", "algorithm", "performance"], "comments": [{"owner": {"reputation": 2884, "user_id": 3200592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/839149db060ef342b17a143ed5673610?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Shaw", "link": "https://stackoverflow.com/users/3200592/stan-shaw"}, "edited": false, "score": 1, "creation_date": 1447878736, "post_id": 33789672, "comment_id": 55346620, "body": "Can you rephrase your question?  I read it three times and am still unsure what you&#39;re asking."}, {"owner": {"reputation": 625, "user_id": 5471706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/904857529607067/picture?type=large", "display_name": "Raj Felix", "link": "https://stackoverflow.com/users/5471706/raj-felix"}, "reply_to_user": {"reputation": 2884, "user_id": 3200592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/839149db060ef342b17a143ed5673610?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Shaw", "link": "https://stackoverflow.com/users/3200592/stan-shaw"}, "edited": false, "score": 0, "creation_date": 1447878794, "post_id": 33789672, "comment_id": 55346654, "body": "@Stan, thanks, i have edited it(take a look), i will try harder"}, {"owner": {"reputation": 2884, "user_id": 3200592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/839149db060ef342b17a143ed5673610?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Shaw", "link": "https://stackoverflow.com/users/3200592/stan-shaw"}, "edited": false, "score": 0, "creation_date": 1447879015, "post_id": 33789672, "comment_id": 55346765, "body": "now your question makes sense, but this forum isn&#39;t intended for people to provide you with code.  You&#39;re supposed to post what you&#39;ve tried and explain what you want to happen, explain what is happening, and ask for help.  This post can roughly be translated into &quot;Write code for me that connects to SQL server&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 625, "user_id": 5471706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/904857529607067/picture?type=large", "display_name": "Raj Felix", "link": "https://stackoverflow.com/users/5471706/raj-felix"}, "edited": false, "score": 0, "creation_date": 1447879470, "post_id": 33789918, "comment_id": 55347012, "body": "thank you for quickly posting an answer, my intention was going to the lower level part of the communication with SQL SERVER (2008/2012), and not via using SqlClinet as a whole, if there&#39;s any such way."}, {"owner": {"reputation": 2884, "user_id": 3200592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/839149db060ef342b17a143ed5673610?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Shaw", "link": "https://stackoverflow.com/users/3200592/stan-shaw"}, "reply_to_user": {"reputation": 625, "user_id": 5471706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/904857529607067/picture?type=large", "display_name": "Raj Felix", "link": "https://stackoverflow.com/users/5471706/raj-felix"}, "edited": false, "score": 0, "creation_date": 1447879742, "post_id": 33789918, "comment_id": 55347161, "body": "Ahhh, I see what you&#39;re trying to do, now.  I assume it&#39;s possible, although I don&#39;t know offhand and wasn&#39;t able to quickly find it with a Google search.  Why are you trying to avoid using SqlClient?"}, {"owner": {"reputation": 625, "user_id": 5471706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/904857529607067/picture?type=large", "display_name": "Raj Felix", "link": "https://stackoverflow.com/users/5471706/raj-felix"}, "edited": false, "score": 0, "creation_date": 1447879852, "post_id": 33789918, "comment_id": 55347214, "body": "regarding your second comment on my question i am not asking for a code that will complete an ORM , i just wish to start a &quot;Hand Shake&quot; with the server, the base function of the reader to accomplish login and say give me some data from a table or call a stored procedure, how does the <code>DataReader</code> gets to say &quot;give me&quot; without all the other irrelevant to that minimal task members in the class"}, {"owner": {"reputation": 625, "user_id": 5471706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/904857529607067/picture?type=large", "display_name": "Raj Felix", "link": "https://stackoverflow.com/users/5471706/raj-felix"}, "edited": false, "score": 0, "creation_date": 1447880023, "post_id": 33789918, "comment_id": 55347321, "body": "<i>Why are you trying to avoid using SqlClient</i> : i am trying to test my own way to query data , say i want to return a <code>bit</code> yes /no i want to use my own implementation for minimal interaction with SQL SERVER"}, {"owner": {"reputation": 625, "user_id": 5471706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/904857529607067/picture?type=large", "display_name": "Raj Felix", "link": "https://stackoverflow.com/users/5471706/raj-felix"}, "edited": false, "score": 0, "creation_date": 1447880739, "post_id": 33789918, "comment_id": 55347734, "body": "i think this is a start (: <a href=\"https://msdn.microsoft.com/en-us/library/ms811006.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ms811006.aspx</a>"}, {"owner": {"reputation": 2884, "user_id": 3200592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/839149db060ef342b17a143ed5673610?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Shaw", "link": "https://stackoverflow.com/users/3200592/stan-shaw"}, "reply_to_user": {"reputation": 625, "user_id": 5471706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/904857529607067/picture?type=large", "display_name": "Raj Felix", "link": "https://stackoverflow.com/users/5471706/raj-felix"}, "edited": false, "score": 0, "creation_date": 1447936438, "post_id": 33789918, "comment_id": 55373473, "body": "Yes, I forgot about the ODBC SQL connections.  However, I would suggest using the built-in SQL classes - the overhead of which is rendered negligible by modern processing power.  I can&#39;t think of an environment that has SQL server but lacks the necessary processing power to use these classes."}], "tags": [], "owner": {"reputation": 2884, "user_id": 3200592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/839149db060ef342b17a143ed5673610?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Shaw", "link": "https://stackoverflow.com/users/3200592/stan-shaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1447879160, "creation_date": 1447879160, "answer_id": 33789918, "question_id": 33789672, "link": "https://stackoverflow.com/questions/33789672/sql-data-reader-sql-server-core-implementation/33789918#33789918", "title": "SQL Data Reader SQL Server core implementation", "body": "<p>Here is a link to the beginner's guide to connecting to SQL Server with C#:</p>\n\n<p><a href=\"http://www.codeproject.com/Articles/4416/Beginners-guide-to-accessing-SQL-Server-through-C\" rel=\"nofollow\">http://www.codeproject.com/Articles/4416/Beginners-guide-to-accessing-SQL-Server-through-C</a></p>\n\n<p>But you should make sure to properly separate code-responsibility so that you're not rewriting the same code all over the place.  Have a class that interfaces with the database (dataaccess layer) so you can just call it from all of your business objects and static classes.</p>\n"}, {"comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 1, "creation_date": 1448031123, "post_id": 33828240, "comment_id": 55424040, "body": "A link to the <a href=\"https://msdn.microsoft.com/en-us/library/dd304523.aspx\" rel=\"nofollow noreferrer\">TDS specification</a> in case the OP does want to go down the route of writing his own client."}], "tags": [], "owner": {"reputation": 34977, "user_id": 3711162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7XKVx.png?s=128&g=1", "display_name": "Dan Guzman", "link": "https://stackoverflow.com/users/3711162/dan-guzman"}, "is_accepted": false, "score": 1, "last_activity_date": 1448027108, "creation_date": 1448027108, "answer_id": 33828240, "question_id": 33789672, "link": "https://stackoverflow.com/questions/33789672/sql-data-reader-sql-server-core-implementation/33828240#33828240", "title": "SQL Data Reader SQL Server core implementation", "body": "<p>System.Data.SqlClient (.NET Provider for SQL Server) is a low-level \"DLL\".  It communicates with SQL Server using the low-level TDS protocol similarly to ODBC and OLEDB.  The difference is SqlClient is a managed provider whereas ODBC drivers and OLEDB providers are native (unmanaged).  The unmanaged driver/providers provide a call-level interface and COM interface respectively, which is intended to be used from native code like unmanaged C++.  </p>\n\n<p>All these providers/drivers communicate with SQL Server using the low-level TDS protocol.  The TDS protocol itself is not directly exposed.  System.Data.SqlClient.SqlDataReader is the lowest level data access from managed code and provides the highest performance for .NET applications.</p>\n"}], "owner": {"reputation": 625, "user_id": 5471706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/904857529607067/picture?type=large", "display_name": "Raj Felix", "link": "https://stackoverflow.com/users/5471706/raj-felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1448027108, "creation_date": 1447878268, "last_edit_date": 1447878905, "question_id": 33789672, "link": "https://stackoverflow.com/questions/33789672/sql-data-reader-sql-server-core-implementation", "title": "SQL Data Reader SQL Server core implementation", "body": "<p>while i am learning core of <code>System.Data</code> i tried reading <a href=\"http://referencesource.microsoft.com/#System.Data/System/Data/SqlClient/SqlDataReader.cs\" rel=\"nofollow\">MSDN</a> Core implementation code.</p>\n\n<p>in the same way i could call some low level system dll (win32) to read hdd drive\ninfo i was trying to test and learn from system data SQL through the above MSDN link, as i am trying to break it down i couldn't find the entry point.\nmy question is:</p>\n\n<p><strong>what is the minimal code required to connect to SQL SERVER and return some data ?</strong> </p>\n\n<p>*either with <code>c#</code> <sub>preferred</sub> or <code>c++</code> (if there's noticeably less overhead) </p>\n\n<p><strong>Edit:</strong>\nusing only some parts From the <code>System.Data</code> <code>SqlDataReader</code> Rather than whole class.</p>\n"}, {"tags": ["c#", "database", "entity-framework", "azure", "entity-framework-migrations"], "comments": [{"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1447883967, "post_id": 33789595, "comment_id": 55349568, "body": "I apologize for the wall of text, but I hope that my answer gives you a bit more insight into what is actually happening."}, {"owner": {"reputation": 4925, "user_id": 980771, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/08c7dccc1f67be5f7d3b41128932e8bf?s=128&d=identicon&r=PG", "display_name": "The Senator", "link": "https://stackoverflow.com/users/980771/the-senator"}, "reply_to_user": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1447919113, "post_id": 33789595, "comment_id": 55361871, "body": "No apology necessary here, it&#39;s a great wall of text, I&#39;m just reading it through. I have a couple of questions which I will append to your answer. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 4925, "user_id": 980771, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/08c7dccc1f67be5f7d3b41128932e8bf?s=128&d=identicon&r=PG", "display_name": "The Senator", "link": "https://stackoverflow.com/users/980771/the-senator"}, "edited": false, "score": 0, "creation_date": 1447919330, "post_id": 33791224, "comment_id": 55361987, "body": "Claies, this is a great answer and I absolutely did not know about the EdmMetadata table. I understand that the migrations versus creation are different things now, I assumed that the creation mechanism was just the first step of the migration approach. To me it seemed sensible to opt for the &#39;create database if it doesn&#39;t exist&#39; approach. Let me alter my code to use the MigrateDatabaseToLatestVersion now and see what happens and I&#39;ll report back!"}, {"owner": {"reputation": 4925, "user_id": 980771, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/08c7dccc1f67be5f7d3b41128932e8bf?s=128&d=identicon&r=PG", "display_name": "The Senator", "link": "https://stackoverflow.com/users/980771/the-senator"}, "edited": false, "score": 0, "creation_date": 1447922018, "post_id": 33791224, "comment_id": 55363408, "body": "OK, so I&#39;ve switched to using the MigrateDatabaseToLatestVersion (which I set in a static constructor of my DbContext, is this ok?). I had to create a migration for the initial state of the model. I then ran migrate.exe which created the database. I have a single __MigrationHistory record which is my initial model. On application startup I still get the same error. Must be something subtle I&#39;ve missed."}, {"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "reply_to_user": {"reputation": 4925, "user_id": 980771, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/08c7dccc1f67be5f7d3b41128932e8bf?s=128&d=identicon&r=PG", "display_name": "The Senator", "link": "https://stackoverflow.com/users/980771/the-senator"}, "edited": false, "score": 0, "creation_date": 1447922327, "post_id": 33791224, "comment_id": 55363576, "body": "do you happen to have an extra connection string in your web.config? something that starts with <code>metadata=res ...</code>?  These aren&#39;t actually necessary with migrations, and if they are present in the web.config but pointing to the local test db, they may not be updated automatically in azure the way that the actual db connection string is."}, {"owner": {"reputation": 4925, "user_id": 980771, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/08c7dccc1f67be5f7d3b41128932e8bf?s=128&d=identicon&r=PG", "display_name": "The Senator", "link": "https://stackoverflow.com/users/980771/the-senator"}, "edited": false, "score": 0, "creation_date": 1447922534, "post_id": 33791224, "comment_id": 55363712, "body": "Good though, but no sign of any metadata&#39;s in my config files. I&#39;ll keep digging!"}, {"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "reply_to_user": {"reputation": 4925, "user_id": 980771, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/08c7dccc1f67be5f7d3b41128932e8bf?s=128&d=identicon&r=PG", "display_name": "The Senator", "link": "https://stackoverflow.com/users/980771/the-senator"}, "edited": false, "score": 0, "creation_date": 1447922891, "post_id": 33791224, "comment_id": 55363932, "body": "<code>EdmMetadata</code> is actually obsolete;  it was a simple way of determining if the Code First model had been changed since the database was created. However, it couldn\u2019t be used to determine <i>how</i> the model used to create the database was different from the current model. This didn\u2019t matter too much since there was no way to migrate the database from one version to the next. (The entire database was just dropped and recreated).  Migrations can actually detect the order that tables should be created and deleted; if you are getting this error, perhaps the <code>_MigrationHistory</code> table is at fault?"}, {"owner": {"reputation": 4925, "user_id": 980771, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/08c7dccc1f67be5f7d3b41128932e8bf?s=128&d=identicon&r=PG", "display_name": "The Senator", "link": "https://stackoverflow.com/users/980771/the-senator"}, "edited": false, "score": 0, "creation_date": 1447924941, "post_id": 33791224, "comment_id": 55365274, "body": "I think you might be right that the MigrationHistory table is at fault. I&#39;ve just started reading this article: <a href=\"http://tech.trailmax.info/2014/03/inside_of_ef_migrations/\" rel=\"nofollow noreferrer\">tech.trailmax.info/2014/03/inside_of_ef_migrations</a> which is pointing some fingers potentially at a mismatched local db (which I&#39;m generating migrations from) or perhaps that Azure databases don&#39;t have the 4 part naming structure, but I&#39;m guessing at the moment."}, {"owner": {"reputation": 4925, "user_id": 980771, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/08c7dccc1f67be5f7d3b41128932e8bf?s=128&d=identicon&r=PG", "display_name": "The Senator", "link": "https://stackoverflow.com/users/980771/the-senator"}, "edited": false, "score": 0, "creation_date": 1447928552, "post_id": 33791224, "comment_id": 55367955, "body": "Well, ultimately your answer led to me finding out that there were a combination of errors that led to this message. So, I think it only fair that you get my accepted answer and up-vote. I shall fill out a bit more detail in a separate answer alongside. Thank you very much for your time and effort."}], "tags": [], "owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "is_accepted": true, "score": 2, "last_activity_date": 1447883933, "creation_date": 1447883933, "answer_id": 33791224, "question_id": 33789595, "link": "https://stackoverflow.com/questions/33789595/do-i-need-a-migration-for-ef-code-first-when-the-database-does-not-exist-in-sql/33791224#33791224", "title": "Do I need a migration for EF code first when the database does not exist in SQL Azure?", "body": "<p>Migrations and the Database Initializer <code>CreateDatabaseIfNotExists</code> <strong>are not the same</strong>.</p>\n\n<p>Migrations uses the Database Initializer <code>MigrateDatabaseToLatestVersion</code>, which relies upon a special table in the database <code>_MigrationsHistory</code>.</p>\n\n<p>By contrast, <code>CreateDatabaseIfNotExists</code> is one of the Database Initializers which relies upon the special database table <code>EdmMetadata</code>.  It does exactly as it implies:  Creates a database with tables matching the current state of the model, i.e. a table for each <code>DbSet&lt;T&gt;</code>, <strong><em>only when the database does not exist</em></strong>.</p>\n\n<p>The specific error you have quoted here, <code>Model compatibility cannot be checked because the database does not contain model metadata.</code>, occurs due to the existence of <code>DbSet&lt;T&gt;</code> objects which were added to the code base <em>after</em> the initial database creation, and do not exist in <code>EdmMetadata</code>.</p>\n\n<p>There are 4 basic Database Initializers available, 3 of which are for use when migrations is not being used:</p>\n\n<ul>\n<li><code>CreateDatabaseIfNotExists</code></li>\n<li><code>DropCreateDatabaseWhenModelChanges</code></li>\n<li><code>DropCreateDatabaseAlways</code></li>\n</ul>\n\n<p>Also note, the 4th Initializer, <code>MigrateDatabaseToLatestVersion</code>, will allow you to use Migrations <em>even if</em> <code>AutomaticMigrations</code> is disabled;  <code>AutomaticMigrations</code> serves a diffierent purpose, and does not interact with the Database Initializers directly.</p>\n\n<p>If you intend to use Migrations, you should change the Database Initializer to <code>MigrateDatabaseToLatestVersion</code> and forget about the other 3.  If, instead, you intend to <em>not</em> use Migrations, then the choice of Initializer is situational.</p>\n\n<ul>\n<li><code>CreateDatabaseIfNotExists</code> will be more appropriate when you are certain that your data model is not undergoing active change, and you only intend to be concerned with database creation on a new deployment.  This Initializer will elp ensure that you do not have any issues with accidental deletion of a database or live data.</li>\n<li><code>DropCreateDatabaseWhenModelChanges</code> is most appropriate in development, when you are changing the model fairly often, and want to be able to verify these changes to the model.  It would not be appropriate for a production server, as changes to the model could inadvertently cause the database to be recreated.</li>\n<li><code>DropCreateDatabaseAlways</code> is only appropriate in testing, where your database is created from scratch every time you run your tests.</li>\n</ul>\n\n<p>Migrations differs from these 3 Database Initializers, in that it never <em>drops the</em> <strong><em>database</em></strong>, it instead uses Data Motion to execute a series of <code>Create Table</code> and <code>Drop Table</code> SQL calls.</p>\n\n<p>You also can use <code>Update-Database -Script -SourceMigration:0</code> in the Package Manager Console at any time, no matter which Database Initializer you are using, to generate a full SQL script that can be run against a server to recreate the database.</p>\n"}, {"tags": [], "owner": {"reputation": 4925, "user_id": 980771, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/08c7dccc1f67be5f7d3b41128932e8bf?s=128&d=identicon&r=PG", "display_name": "The Senator", "link": "https://stackoverflow.com/users/980771/the-senator"}, "is_accepted": false, "score": 0, "last_activity_date": 1447929308, "creation_date": 1447929308, "answer_id": 33801434, "question_id": 33789595, "link": "https://stackoverflow.com/questions/33789595/do-i-need-a-migration-for-ef-code-first-when-the-database-does-not-exist-in-sql/33801434#33801434", "title": "Do I need a migration for EF code first when the database does not exist in SQL Azure?", "body": "<p>Firstly, many thanks to Claies who helped me get to the bottom of this problem. I have accepted his answer as correct as ultimately it was a combination of his response and a few additional bits of reading that got me to my solution.</p>\n\n<p>In answer to the actual posts question 'Do I need a migration for EF code first when the database does not exist in SQL Azure?' the answer is yes you do if you have disabled automatic migrations. But there is a little more to be aware of:</p>\n\n<p>The Azure aspects of this particular problem are actually irrelevant in my situation. My problem was two-fold:</p>\n\n<ol>\n<li><p>The migration being generated was out of sync with respect to the target model. What do I mean? I mean, that I was generating the migration script from my local database which itself was not in sync with the local codebase which created a migration that was incorrect. This can be seen by comparing the first few lines of the Model text in the __MigrationHistory. This awareness was helped by referring to this helpful <a href=\"http://blog.randomdust.com/2015/07/entity-framework-code-first-deployment-of-azure-ad-sample/\" rel=\"nofollow\" title=\"post\">post</a> which explains how it works.</p></li>\n<li><p>And more embarrassingly (I'm sure we've all done it) is that my octopus deployment of the web site itself (using Octopack) somehow neglected to include the Web.Config file. From what I can tell, this may have occurred after I installed a transform extension to Visual Studio. Within my nuget package I can see that there is a web.config.transform file but not a web.config. Basically this meant that when the application started up, it had no configuration file to turn to, no connections string at all. But this resulted in the slightly misleading error </p></li>\n</ol>\n\n<blockquote>\n  <p>Model compatibility cannot be checked because the database does not\n  contain model metadata.</p>\n</blockquote>\n\n<p>Whereas what it should have said was, there isn't a connection string you idiot.\nHopefully this helps people understand the process a little better after reading Claies answer and also that blog-post. First though, check you have a web.config file and that it has a connection string in it... </p>\n"}], "owner": {"reputation": 4925, "user_id": 980771, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/08c7dccc1f67be5f7d3b41128932e8bf?s=128&d=identicon&r=PG", "display_name": "The Senator", "link": "https://stackoverflow.com/users/980771/the-senator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 817, "favorite_count": 0, "accepted_answer_id": 33791224, "answer_count": 2, "score": 1, "last_activity_date": 1447929308, "creation_date": 1447877990, "question_id": 33789595, "link": "https://stackoverflow.com/questions/33789595/do-i-need-a-migration-for-ef-code-first-when-the-database-does-not-exist-in-sql", "title": "Do I need a migration for EF code first when the database does not exist in SQL Azure?", "body": "<p>I have tried lots of variations of EF migration v6.0.1 (from no database, to empty databases to existing databases) and I have a particular problem with <strong>Azure</strong> DB instances not being able to correctly be created on first deploy using Octopus deploy.</p>\n\n<p>There are a number of places where this could be going wrong, so I thought I would check some basics of EF Code First migration with you fine people if I may:</p>\n\n<p>If I create a code-first model, and know that the database <strong>does not exist</strong> in the intended target database server on Azure. With the default of 'CreateDatabaseIfNotExists' approach <strong>and</strong> with AutomaticMigrations disabled;</p>\n\n<p>If I then call 'migrate.exe' with the assembly containing my DbContext and migration Configuration will I get a new database created with the current state of the model? or will I get a new database with nothing in it? i.e. do I need to explicitly 'add-migration' for the initial state of the model?</p>\n\n<p>I have read in the documentation that the database instance should be created automatically by the migration process, but no one states clearly (at least to me) that this newly created database will be generated with the current model without a formal 'initial state' migration created. </p>\n\n<p>So the question is this: do I need an explicit migration model generated for migrate.exe to work from?</p>\n\n<p>Through whatever means I try, I get a database but the application launches with the unfriendly message \"Model compatibility cannot be checked because the database does not contain model metadata. Model compatibility can only be checked for databases created using Code First or Code First Migrations.\" Remembering that this is the same application library that just created the database in the first place (from scratch) I fail to understand how this has happened!</p>\n\n<p>I did manually delete the target database a few times via SQL Server management studio, is this bad? Have I removed some vital user account that I need to recover? </p>\n"}, {"tags": ["c#", ".net", "winforms", "data-binding", ".net-4.0"], "comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1447878460, "post_id": 33789575, "comment_id": 55346473, "body": "You don&#39;t have any properties in your classes - just fields."}, {"owner": {"reputation": 6198, "user_id": 697477, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/qkuEi.png?s=128&g=1", "display_name": "teynon", "link": "https://stackoverflow.com/users/697477/teynon"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1447878610, "post_id": 33789575, "comment_id": 55346555, "body": "@IvanStoev Sorry, the actual code uses properties. I updated the example code accordingly. I can&#39;t copy / paste the code because it could reveal things about the project. I am building a full reproducible sample now."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1447878836, "post_id": 33789575, "comment_id": 55346684, "body": "Another thing to mention (except <code>extends</code> which I guess is <code>:</code>) - class <code>B</code> does not have a property <code>Message</code> and WF does not support property path like WPF (you cannot use &quot;c.Message&quot;)"}, {"owner": {"reputation": 6198, "user_id": 697477, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/qkuEi.png?s=128&g=1", "display_name": "teynon", "link": "https://stackoverflow.com/users/697477/teynon"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1447879581, "post_id": 33789575, "comment_id": 55347068, "body": "@IvanStoev That&#39;s what I get for trying to rewrite sample code. (I don&#39;t remember which language extends keyword comes from in my head. Maybe PHP.) I updated the code to working code. If you run the code on a machine with .NET 4.5 installed, it will work. If you run it on a .NET 4.0 machine, it will give you a .NET error."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 1, "creation_date": 1447879891, "post_id": 33789575, "comment_id": 55347241, "body": "I see. Actually I learned something from you today! I&#39;m pretty sure property path was not supported, but looks like they added that support later. So may be that&#39;s the limitation you are talking about. To verify that, try <code>textBox1.DataBindings.Add(new Binding(&quot;Text&quot;, ((B)myObj).c, &quot;Message&quot;));</code> on .NET 4.0 machine (unfortunately I have no such available right now)"}, {"owner": {"reputation": 6198, "user_id": 697477, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/qkuEi.png?s=128&g=1", "display_name": "teynon", "link": "https://stackoverflow.com/users/697477/teynon"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1447879950, "post_id": 33789575, "comment_id": 55347270, "body": "@IvanStoev I actually just tried it and that is in fact what happened. So this is the answer. Please add it and I&#39;ll accept it."}], "answers": [{"comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1447880738, "post_id": 33790212, "comment_id": 55347733, "body": "Reza, did you know that? I&#39;m ashamed."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1447880890, "post_id": 33790212, "comment_id": 55347824, "body": "@IvanStoev didn&#39;t know the issue is fixed for a machine running .Net 4.5, but I have used such workaround before. +1 for your good answer :)"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1447884278, "post_id": 33790212, "comment_id": 55349740, "body": "@IvanStoev I couldn&#39;t even reproduce the problem on a machine having .Net 2.0 only! So now I don&#39;t know why such codes was written while <code>textBox1.DataBindings.Add(new Binding(&quot;Text&quot;, myObj, &quot;c.Message&quot;));</code> worked on a machine with .Net 2.0 only! Am I missing something?"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1447886305, "post_id": 33790212, "comment_id": 55350692, "body": "It&#39;s kind of a mistery. Unfortunately I didn&#39;t have a clean machine, so can&#39;t check. But I&#39;m pretty sure it didn&#39;t work when we started with .NET - a long time ago, but I remember it was just after 2.0 (we were waiting for generics). OP seems to be an experienced developer, so I trust what he say. Anyway, as usual, was nice to talk with you! Take care."}], "tags": [], "owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "is_accepted": false, "score": 4, "last_activity_date": 1447883614, "last_edit_date": 1447883614, "creation_date": 1447880252, "answer_id": 33790212, "question_id": 33789575, "link": "https://stackoverflow.com/questions/33789575/databinding-to-nested-property-cannot-bind-property-or-column-winforms/33790212#33790212", "title": "Databinding to nested property - Cannot bind property or column (Winforms)", "body": "<p>You can use either of these options:</p>\n\n<pre><code>B myObj = new B();\ntextBox1.DataBindings.Add(new Binding(\"Text\", ((B)myObj).c, \"Message\"));\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>var bs = new BindingSource(myObj, null);\ntextBox1.DataBindings.Add(\"Text\", bs, \"c.Message\");\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>textBox1.DataBindings.Add(\"Text\", new B[] { myObj }, \"c.Message\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16599, "user_id": 24472, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2020a7f739da6d67e7deb61ed40ba0a6?s=128&d=identicon&r=PG", "display_name": "Larry", "link": "https://stackoverflow.com/users/24472/larry"}, "edited": false, "score": 0, "creation_date": 1448053904, "post_id": 33790268, "comment_id": 55437555, "body": "If only Microsoft had added this for to DataPropertyName of the DataGridView as well, I would have better days."}], "tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 3, "last_activity_date": 1447880409, "creation_date": 1447880409, "answer_id": 33790268, "question_id": 33789575, "link": "https://stackoverflow.com/questions/33789575/databinding-to-nested-property-cannot-bind-property-or-column-winforms/33790268#33790268", "title": "Databinding to nested property - Cannot bind property or column (Winforms)", "body": "<p>Short story: Windows Forms data binding doesn't support property path, that's why you are getting the error.  </p>\n\n<p>Well, this is what I was thinking until today. But trying your code I was surprised that it <strong>indeed</strong> works on .NET 4.5 machine! So looks like MS has added that at some point - to be honest, have no idea when. But it's there now! Anyway, if backward compatibility is a concern, one should avoid using that feature (although it would be quite pity).</p>\n"}], "owner": {"reputation": 6198, "user_id": 697477, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/qkuEi.png?s=128&g=1", "display_name": "teynon", "link": "https://stackoverflow.com/users/697477/teynon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 761, "favorite_count": 0, "accepted_answer_id": 33790268, "answer_count": 2, "score": 3, "last_activity_date": 1547747528, "creation_date": 1447877907, "last_edit_date": 1547747528, "question_id": 33789575, "link": "https://stackoverflow.com/questions/33789575/databinding-to-nested-property-cannot-bind-property-or-column-winforms", "title": "Databinding to nested property - Cannot bind property or column (Winforms)", "body": "<p>We are running a .NET 4.0 application using Windows Forms. The application uses a single form for two different types of objects. </p>\n\n<pre><code>namespace NetIssue\n{\n    public partial class Form1 : Form\n    {\n        B myObj;\n        public Form1()\n        {\n            InitializeComponent();\n\n            myObj = new B();\n        }\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n            textBox1.DataBindings.Add(new Binding(\"Text\", myObj, \"c.Message\"));\n        }\n    }\n\n    public class Comment {\n        public int ID { get; set; }\n        public string Message { get; set; }\n\n        public Comment(string msg)\n        {\n            Message = msg;\n        }\n    }\n\n    public class A {\n        string MyName = \"\";\n    }\n\n    public class B : A {\n        public Comment c { get; set; }\n\n        public B()\n        {\n            c = new Comment(\"test\");\n        }\n    }\n}\n</code></pre>\n\n<p>When the binding above is run in .NET 4.0, we get the error</p>\n\n<blockquote>\n  <p>An error occured: Cannot bind to the property or column Message on the\n  DataSource. Parameter name: dataMember</p>\n</blockquote>\n\n<p>However, if we install .NET 4.5 this error goes away. </p>\n\n<p><strong>Is this a limitation of .NET 4.0, a bug in .NET 4.0, or is something else going on?</strong></p>\n"}, {"tags": ["c#", ".net", "entity-framework-6", "ef-fluent-api"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 5437882, "user_type": "registered", "profile_image": "https://graph.facebook.com/10107239033450814/picture?type=large", "display_name": "Adam Nester", "link": "https://stackoverflow.com/users/5437882/adam-nester"}, "edited": false, "score": 0, "creation_date": 1447880322, "post_id": 33790008, "comment_id": 55347492, "body": "I added the HasKey and this is the error that I get now.  One or more validation errors were detected during model generation:  SPM.Data.Stratification_Physician: : Multiplicity conflicts with the referential constraint in Role &#39;Stratification_Physician_Target&#39; in relationship &#39;Stratification_Physician&#39;. Because all of the properties in the Dependent Role are non-nullable, multiplicity of the Principal Role must be &#39;1&#39;."}, {"owner": {"reputation": 93, "user_id": 5437882, "user_type": "registered", "profile_image": "https://graph.facebook.com/10107239033450814/picture?type=large", "display_name": "Adam Nester", "link": "https://stackoverflow.com/users/5437882/adam-nester"}, "edited": false, "score": 0, "creation_date": 1447882534, "post_id": 33790008, "comment_id": 55348784, "body": "That was a different issue with another property being nullable.  This works.  Thanks"}], "tags": [], "owner": {"reputation": 7267, "user_id": 1051621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JAEvg.jpg?s=128&g=1", "display_name": "Mark Shevchenko", "link": "https://stackoverflow.com/users/1051621/mark-shevchenko"}, "is_accepted": true, "score": 0, "last_activity_date": 1447879522, "creation_date": 1447879522, "answer_id": 33790008, "question_id": 33789574, "link": "https://stackoverflow.com/questions/33789574/entity-framework-one-to-many-relations-ship-fluent-api-with-composite-keys/33790008#33790008", "title": "Entity Framework One to Many Relations ship Fluent API with composite keys", "body": "<p>Try this:</p>\n\n<pre><code>public class PatientClientPhysicianConfiguration : \n    EntityConfigurationBase&lt;PatientClientPhysician&gt;\n{\n    public PatientClientPhysicianConfiguration()\n    {\n        ToTable(\"patientclientphysician\");\n\n        // Composite key:\n        HasKey(t =&gt; new { t.ClientId, t.PatientId, t.PhysicianId });\n\n        Property(m =&gt; m.ClientId).HasColumnName(\"clientid\");\n        Property(m =&gt; m.PatientId).HasColumnName(\"patientid\");\n        Property(m =&gt; m.PhysicianId).HasColumnName(\"physicianid\");\n\n        HasRequired(m =&gt; m.Patient).WithMany().HasForeignKey(p =&gt; p.PatientId);\n        HasRequired(m =&gt; m.Client).WithMany().HasForeignKey(c =&gt; c.ClientId);\n        HasRequired(m =&gt; m.Physician).WithMany().HasForeignKey(p =&gt; p.PhysicianId);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 5437882, "user_type": "registered", "profile_image": "https://graph.facebook.com/10107239033450814/picture?type=large", "display_name": "Adam Nester", "link": "https://stackoverflow.com/users/5437882/adam-nester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 33790008, "answer_count": 1, "score": 0, "last_activity_date": 1447880663, "creation_date": 1447877898, "last_edit_date": 1447880663, "question_id": 33789574, "link": "https://stackoverflow.com/questions/33789574/entity-framework-one-to-many-relations-ship-fluent-api-with-composite-keys", "title": "Entity Framework One to Many Relations ship Fluent API with composite keys", "body": "<p>Below are the classes that I am using.  I want to create a one way reference from Stratification to PatientClientPhysician.  I can also do a one to many relationship if that is required by Entity Framework but this will always be a 1-1 even though this is a linker table.</p>\n\n<p>I have to use a composite key for this ClientId, PatientId, PhysicianId.  the errors that I keep getting are.</p>\n\n<pre><code>One or more validation errors were detected during model generation:\n\nSPM.Data.Stratification_Physician: : Multiplicity conflicts with the referential constraint in Role 'Stratification_Physician_Target' in relationship 'Stratification_Physician'. Because all of the properties in the Dependent Role are non-nullable, multiplicity of the Principal Role must be '1'.\nStratification_PrimaryPhysician_Target_Stratification_PrimaryPhysician_Source: : The number of properties in the Dependent and Principal Roles in a relationship constraint must be identical.\nPatientClientPhysician_Stratifications_Target_PatientClientPhysician_Stratifications_Source: : The number of properties in the Dependent and Principal Roles in a relationship constraint must be identical.\n</code></pre>\n\n<p>What is the correct fluent api calls for this?</p>\n\n<p>I would really like to go through the PatientClientPhysician class straight to Physician if that is possible.</p>\n\n<p>Thanks</p>\n\n<pre><code>public class PatientClientPhysician : BaseEntity\n{\n    public Guid ClientId { get; set; }\n    public Guid PatientId { get; set; }\n    public Guid PhysicianId { get; set; }\n\n    public virtual Client Client { get; set; }\n    public virtual Patient Patient { get; set; }\n    public virtual Physician Physician { get; set; }\n\n    public PatientClientPhysician()\n        : base()\n    {\n\n    }\n}\n\n\npublic class PatientClientPhysicianConfiguration : \n    EntityConfigurationBase&lt;PatientClientPhysician&gt;\n{\n    public PatientClientPhysicianConfiguration()\n    {\n        ToTable(\"patientclientphysician\");\n\n        //Property(m =&gt; m.Id).HasColumnName(\"id\");\n        Property(m =&gt; m.ClientId).HasColumnName(\"clientid\");\n        Property(m =&gt; m.PatientId).HasColumnName(\"patientid\");\n        Property(m =&gt; m.PhysicianId).HasColumnName(\"physicianid\");\n\n        HasRequired(m =&gt; m.Patient).WithMany().HasForeignKey(p =&gt; p.PatientId);\n        HasRequired(m =&gt; m.Client).WithMany().HasForeignKey(c =&gt; c.ClientId);\n        HasRequired(m =&gt; m.Physician).WithMany().HasForeignKey(p =&gt; p.PhysicianId);\n    }\n}\n\npublic class Stratification : BaseEntity\n{\n    public Stratification()\n    {\n        LabOrders = new List&lt;StratLabOrder&gt;();\n        Observations = new List&lt;StratObs&gt;();\n        Contacts = new List&lt;StratContact&gt;();\n        StratIcd9s = new List&lt;StratIcd9&gt;();\n    }\n\n    public Guid ClientLocationId { get; set; }\n    public Guid PatientId { get; set; }\n    public Guid StratInputId { get; set; }\n    public Guid ClientId { get; set; }\n    public Guid PhysicianId { get; set; }\n\n    public virtual ClientLocation ClientLocation { get; set; }\n    public virtual Patient Patient { get; set; }\n    public virtual StratInput StratInput { get; set; }\n    public string EpisodeNumber { get; set; }\n    public virtual Physician Physician { get; set; }\n    public PrintStatus LetterPrintStatus { get; set; }\n\n    public virtual ICollection&lt;StratLabOrder&gt; LabOrders { get; set; }\n    public virtual ICollection&lt;StratObs&gt; Observations { get; set; }\n    public virtual ICollection&lt;StratContact&gt; Contacts { get; set; }\n    public virtual ICollection&lt;StratIcd9&gt; StratIcd9s { get; set; }\n    public virtual PatientClientPhysician PrimaryPhysician { get; set; }\n}\n\n//this is in EntityConfigurationBase&lt;Stratification&gt; class\nHasRequired(m =&gt; m.PrimaryPhysician).WithRequired().HasForeignKey(p =&gt; new { p.ClientId, p.PatientId, p.PhysicianId });\n</code></pre>\n\n<p>edit 1</p>\n\n<p>I added</p>\n\n<pre><code>HasKey(t =&gt; new { t.ClientId, t.PatientId, t.PhysicianId });\n</code></pre>\n\n<p>To the PatientClientPhysicianConfiguration class and get this error.</p>\n\n<pre><code>One or more validation errors were detected during model generation:\n\nSPM.Data.Stratification_Physician: : Multiplicity conflicts with the referential constraint in Role 'Stratification_Physician_Target' in relationship 'Stratification_Physician'. Because all of the properties in the Dependent Role are non-nullable, multiplicity of the Principal Role must be '1'.\n</code></pre>\n\n<p>This is what I have the relationship set to right now.</p>\n\n<pre><code>HasRequired(m =&gt; m.PatientClientPhysicians).WithMany().HasForeignKey(p =&gt; new { p.ClientId, p.PatientId, p.PhysicianId });\n</code></pre>\n"}, {"tags": ["c#"], "answers": [{"comments": [{"owner": {"reputation": 3555, "user_id": 1831118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/c240e46e93b7e692ae8319c40f40e7cc?s=128&d=identicon&r=PG", "display_name": "Nathan Hanna", "link": "https://stackoverflow.com/users/1831118/nathan-hanna"}, "edited": false, "score": 0, "creation_date": 1447890932, "post_id": 33789640, "comment_id": 55352419, "body": "So I already know how to do it <i>without</i> named arguments: <code>Activator.CreateInstance(Type.GetType(className), integration, logger);</code> I want to know how to do it <i>with</i> named arguments. I don&#39;t understand how your question is suggesting I accomplish this goal."}], "tags": [], "owner": {"reputation": 2180, "user_id": 3263867, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/378IE.jpg?s=128&g=1", "display_name": "Xela", "link": "https://stackoverflow.com/users/3263867/xela"}, "is_accepted": false, "score": 0, "last_activity_date": 1447878152, "creation_date": 1447878152, "answer_id": 33789640, "question_id": 33789475, "link": "https://stackoverflow.com/questions/33789475/how-can-i-create-a-new-instance-of-a-class-specified-by-a-string-and-also-use/33789640#33789640", "title": "How can I create a new instance of a class (specified by a string) and also use named arguments?", "body": "<p>Take a look at the parameter </p>\n\n<pre><code>params Object[] args \n</code></pre>\n\n<p>and </p>\n\n<pre><code>Activator.CreateInstance\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3555, "user_id": 1831118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/c240e46e93b7e692ae8319c40f40e7cc?s=128&d=identicon&r=PG", "display_name": "Nathan Hanna", "link": "https://stackoverflow.com/users/1831118/nathan-hanna"}, "edited": false, "score": 0, "creation_date": 1447891072, "post_id": 33789646, "comment_id": 55352462, "body": "Would you explain how you would use named arguments with this method."}], "tags": [], "owner": {"reputation": 471, "user_id": 873703, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4e654d99c125053d4f1eae192efc1553?s=128&d=identicon&r=PG", "display_name": "wentimo", "link": "https://stackoverflow.com/users/873703/wentimo"}, "is_accepted": false, "score": 0, "last_activity_date": 1447878180, "creation_date": 1447878180, "answer_id": 33789646, "question_id": 33789475, "link": "https://stackoverflow.com/questions/33789475/how-can-i-create-a-new-instance-of-a-class-specified-by-a-string-and-also-use/33789646#33789646", "title": "How can I create a new instance of a class (specified by a string) and also use named arguments?", "body": "<p>You can accomplish this using Activator.CreateInstance(Type type)</p>\n\n<p>Please see here: <a href=\"https://msdn.microsoft.com/en-us/library/wccyzw83(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/wccyzw83(v=vs.110).aspx</a></p>\n"}], "owner": {"reputation": 3555, "user_id": 1831118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/c240e46e93b7e692ae8319c40f40e7cc?s=128&d=identicon&r=PG", "display_name": "Nathan Hanna", "link": "https://stackoverflow.com/users/1831118/nathan-hanna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "closed_date": 1447878325, "answer_count": 2, "score": 0, "last_activity_date": 1447878180, "creation_date": 1447877616, "question_id": 33789475, "link": "https://stackoverflow.com/questions/33789475/how-can-i-create-a-new-instance-of-a-class-specified-by-a-string-and-also-use", "closed_reason": "Duplicate", "title": "How can I create a new instance of a class (specified by a string) and also use named arguments?", "body": "<p>How can I instantiate an object using the string variable className and also pass in the constructor parameters as named pairs? (I don't want the parameters to be order dependent, and I don't want to pass them in as objects and have to cast them to their original class)</p>\n\n<pre><code>string className = \"ExternalApi\";\nIntegration integration = getIntegrationObject();\nLogger logger = new Logger();\n\n// how to do new ExternalApi(integration:integration, logger:logger)\n</code></pre>\n"}, {"tags": ["c#", ".net", "c#-4.0"], "answers": [{"tags": [], "owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "is_accepted": true, "score": 0, "last_activity_date": 1447879806, "last_edit_date": 1447879806, "creation_date": 1447879406, "answer_id": 33789986, "question_id": 33789447, "link": "https://stackoverflow.com/questions/33789447/project-euler-task-17/33789986#33789986", "title": "Project Euler Task 17", "body": "<p>\"forty\" is 5 letters, but in your <code>Tens</code> method you have</p>\n\n<pre><code> case 4:\n     Sum += 6;\n     Ones();\n     break;\n</code></pre>\n\n<p>and \"forty\" would show up 100 times so there's the difference.</p>\n\n<p>Personally I think it would be better to have arrays that map the digit to the number of letters instead of using a bunch of switch cases.  That's how I did it and I just double checked my values against yours to find the error.  Something like</p>\n\n<pre><code>var onesDigit = new[] { 0, 3, 3, 5, 4, 4, 3, 5, 5, 4 };\nvar teens = new[] { 3, 6, 6, 8, 8, 7, 7, 9, 8, 8 };\nvar tensDigit = new[] { 0, 0, 6, 6, 5, 5, 5, 7, 6, 6 };\n</code></pre>\n\n<p>And the <code>onesDigit</code> can be reused with the hundreds + the 7 for the word \"hundred\".</p>\n"}], "owner": {"reputation": 21, "user_id": 5578314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e1ec70fc7d355ea41f22caf7efbd8f6?s=128&d=identicon&r=PG&f=1", "display_name": "Loke", "link": "https://stackoverflow.com/users/5578314/loke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "closed_date": 1448054465, "accepted_answer_id": 33789986, "answer_count": 1, "score": -2, "last_activity_date": 1447879806, "creation_date": 1447877525, "last_edit_date": 1592644375, "question_id": 33789447, "link": "https://stackoverflow.com/questions/33789447/project-euler-task-17", "closed_reason": "Not suitable for this site", "title": "Project Euler Task 17", "body": "<p>So I am currently going through Project Euler I am on problem 17. The problem is</p>\n<blockquote>\n<p>If the numbers 1 to 5 are written out in words: one, two, three, four, five, then there are 3 + 3 + 5 + 4 + 4 = 19 letters used in total.</p>\n<p>If all the numbers from 1 to 1000 (one thousand) inclusive were written out in words, how many letters would be used?</p>\n</blockquote>\n<p>Personally I though the problem would be pretty straight forward. Now, I know that my code isn't the most optimal and I know that I can find solutions all over the web. But I am merely looking for what is wrong with my code. The answer I get is 21224, while the correct answer is 21124.</p>\n<pre><code>  int Sum = 0;\n    int Hundred;\n    int Ten;\n    int One;\n    void Count()\n    {\n        for(int i = 0; i &lt; 10; i++)\n        {\n            Hundred = i;\n            for(int j = 0; j &lt; 10; j++)\n            {\n                Ten = j;\n                for(int k = 0; k &lt; 10; k++)\n                {\n                    One = k;\n                    switch(i)\n                    {\n                        case 0:\n                            Tens();\n                            break;\n                        case 1:\n                            Sum += 3;\n                            Sum += 7;\n                            Tens();\n                            break;\n                        case 2:\n                            Sum += 3;\n                            Sum += 7;\n                            Tens();\n                            break;\n                        case 3:\n                            Sum += 5;\n                            Sum += 7;\n                            Tens();\n                            break;\n                        case 4:\n                            Sum += 4;\n                            Sum += 7;\n                            Tens();\n                            break;\n                        case 5:\n                            Sum += 4;\n                            Sum += 7;\n                            Tens();\n                            break;\n                        case 6:\n                            Sum += 3;\n                            Sum += 7;\n                            Tens();\n                            break;\n                        case 7:\n                            Sum += 5;\n                            Sum += 7;\n                            Tens();\n                            break;\n                        case 8:\n                            Sum += 5;\n                            Sum += 7;\n                            Tens();\n                            break;\n                        case 9:\n                            Sum += 4;\n                            Sum += 7;\n                            Tens();\n                            break;\n                    }\n                    \n                }\n            }\n        }\n        \n        Sum += 11 + 99*9*3; //Taking into account the &quot;one thousand&quot; and the &quot;and&quot;s\n        label1.Text = Sum.ToString();\n    }\n    void Tens()\n    {\n        switch (Ten)\n        {\n            case 0:\n                Ones();\n                break;\n            case 1:\n                switch (One)\n                {\n                    case 0:\n                        Sum += 3;\n                        \n                        break;\n                    case 1:\n                        Sum += 6;\n                        \n                        break;\n                    case 2:\n                        Sum += 6;\n                        \n                        break;\n                    case 3:\n                        Sum += 8;\n                        \n                        break;\n                    case 4:\n                        Sum += 8;\n                        \n                        break;\n                    case 5:\n                        Sum += 7;\n                        \n                        break;\n                    case 6:\n                        Sum += 7;\n                        \n                        break;\n                    case 7:\n                        Sum += 9;\n                        \n                        break;\n                    case 8:\n                        Sum += 8;\n                        \n                        break;\n                    case 9:\n                        Sum += 8;\n\n                        break;\n                }\n                break;\n            case 2:\n                Sum += 6;\n                Ones();\n                break;\n            case 3:\n                Sum += 6;\n                Ones();\n                break;\n            case 4:\n                Sum += 6;\n                Ones();\n                break;\n            case 5:\n                Sum += 5;\n                Ones();\n                break;\n            case 6:\n                Sum += 5;\n                Ones();\n                break;\n            case 7:\n                Sum += 7;\n                Ones();\n                break;\n            case 8:\n                Sum += 6;\n                Ones();\n                break;\n            case 9:\n                Sum += 6;\n                Ones();\n                break;\n        }\n    }\n    \n    void Ones()\n    {\n        switch(One)\n        {\n            case 0:\n                \n                break;\n            case 1:\n                Sum += 3;\n                \n                break;\n            case 2:\n                Sum += 3;\n                \n                break;\n            case 3:\n                Sum += 5;\n                \n                break;\n            case 4:\n                Sum += 4;\n                \n                break;\n            case 5:\n                Sum += 4;\n                \n                break;\n            case 6:\n                Sum += 3;\n                \n                break;\n            case 7:\n                Sum += 5;\n\n                break;\n            case 8:\n                Sum += 5;\n                \n                break;\n            case 9:\n                Sum += 4;\n                \n                break;\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 697, "user_id": 202891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed15e526de056b3fe7d84760f131c8f6?s=128&d=identicon&r=PG", "display_name": "maniak1982", "link": "https://stackoverflow.com/users/202891/maniak1982"}, "edited": false, "score": 0, "creation_date": 1447877921, "post_id": 33789416, "comment_id": 55346150, "body": "What line throws the exception?"}, {"owner": {"reputation": 41, "user_id": 3396248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e76c54c90732eb23a404311a6cdc49bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3396248", "link": "https://stackoverflow.com/users/3396248/user3396248"}, "edited": false, "score": 0, "creation_date": 1447878128, "post_id": 33789416, "comment_id": 55346281, "body": "if (newPix.File.ContentLength &gt; 0) this line"}], "answers": [{"tags": [], "owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "is_accepted": false, "score": 1, "last_activity_date": 1447877971, "creation_date": 1447877971, "answer_id": 33789589, "question_id": 33789416, "link": "https://stackoverflow.com/questions/33789416/why-am-i-getting-a-nullreferenceexception-when-i-try-to-upload-a-image/33789589#33789589", "title": "why am i getting a NullReferenceException when I try to upload a image?", "body": "<p>You are getting the null reference exception when you tried to read <code>newPix.File</code> property. <code>newPix</code> is <strong>null</strong> and you are trying to read some property of null.</p>\n\n<p>It is <strong><em>null</em></strong> because Model binding failed! Model binding happens when your view model property names and your form element names are same. Your form element is missing the <code>name</code> attribute. Add it and it should work.</p>\n\n<pre><code>&lt;input type=\"file\" name=\"File\" id=\"File\" /&gt;\n</code></pre>\n\n<p>Next time when you get an error, put a visual studio break point in your code and inspect the variable values and you will get an idea why it failed.</p>\n"}, {"tags": [], "owner": {"reputation": 1527, "user_id": 5454225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Kgm6.jpg?s=128&g=1", "display_name": "Moe", "link": "https://stackoverflow.com/users/5454225/moe"}, "is_accepted": false, "score": 2, "last_activity_date": 1447878795, "last_edit_date": 1447878795, "creation_date": 1447878079, "answer_id": 33789618, "question_id": 33789416, "link": "https://stackoverflow.com/questions/33789416/why-am-i-getting-a-nullreferenceexception-when-i-try-to-upload-a-image/33789618#33789618", "title": "why am i getting a NullReferenceException when I try to upload a image?", "body": "<p>Your input file id is \"<strong>File</strong>\" and the action result is expecting \"<strong>pic</strong>\" </p>\n\n<p>Update your HTML to </p>\n\n<pre><code>&lt;td&gt;&lt;input type=\"file\" id=\"file\" name=\"file\" /&gt;&lt;/td&gt;\n</code></pre>\n\n<p>Update your your Action Method to</p>\n\n<pre><code> public ActionResult Index(HttpPostedFileBase file)\n    {\n        Picture newPix = file;\n        if (newPix.File.ContentLength &gt; 0)\n        {\n            var fileName = Path.GetFileName(pic.File.FileName);\n            //var fileName = pic.File.FileName;\n            var path = Path.Combine(Server.MapPath(\"~/Content/images\"), fileName);\n            pic.File.SaveAs(path);\n        }\n        return RedirectToAction(\"Index\");\n    }\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 3396248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e76c54c90732eb23a404311a6cdc49bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3396248", "link": "https://stackoverflow.com/users/3396248/user3396248"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1126, "favorite_count": 0, "closed_date": 1447897942, "answer_count": 2, "score": 0, "last_activity_date": 1451658521, "creation_date": 1447877390, "last_edit_date": 1451658521, "question_id": 33789416, "link": "https://stackoverflow.com/questions/33789416/why-am-i-getting-a-nullreferenceexception-when-i-try-to-upload-a-image", "closed_reason": "Duplicate", "title": "why am i getting a NullReferenceException when I try to upload a image?", "body": "<p>hi im new to C# and i am struggling whith this proplem.</p>\n\n<p>i am trying to upload an image and save it to a local folder, but i am geting\na NullReferenceException when i try it..</p>\n\n<p>my controller</p>\n\n<pre><code>[HttpPost]\n    public ActionResult Index(Picture pic)\n    {\n        Picture newPix = pic;\n        if (newPix.File.ContentLength &gt; 0)\n        {\n            var fileName = Path.GetFileName(pic.File.FileName);\n            //var fileName = pic.File.FileName;\n            var path = Path.Combine(Server.MapPath(\"~/Content/images\"), fileName);\n            pic.File.SaveAs(path);\n        }\n        return RedirectToAction(\"Index\");\n    }\n</code></pre>\n\n<p>my view</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n@using (Html.BeginForm(null, null, FormMethod.Post, new { enctype = \"multipart/form-data\" }))\n{\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;File:&lt;/td&gt;\n            &lt;td&gt;&lt;input type=\"file\" id=\"File\" /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;input type=\"submit\" name=\"submit\" value=\"Upload\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    &lt;/table&gt;\n}\n</code></pre>\n\n<p></p>\n\n<p>my model</p>\n\n<pre><code>{\n        public HttpPostedFileBase File { get; set; }\n    }\n</code></pre>\n\n<p>when i debug, I can see that pic in the controller is NULL,, am i sending the file wrong to the controler from the form?</p>\n"}, {"tags": ["c#", "windows", "uwp", "winrt-async", "winrt-httpclient"], "comments": [{"owner": {"reputation": 2861, "user_id": 1175935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42b57b079954c18fdde646962bbd6107?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1175935/jon"}, "edited": false, "score": 0, "creation_date": 1447883437, "post_id": 33789383, "comment_id": 55349293, "body": "Where are you calling this from? Make sure you are not calling this from the UI thread."}, {"owner": {"reputation": 127, "user_id": 2859460, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/VMLyI.jpg?s=128&g=1", "display_name": "hal9k2", "link": "https://stackoverflow.com/users/2859460/hal9k2"}, "reply_to_user": {"reputation": 2861, "user_id": 1175935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42b57b079954c18fdde646962bbd6107?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1175935/jon"}, "edited": false, "score": 0, "creation_date": 1447912191, "post_id": 33789383, "comment_id": 55358748, "body": "Thank you @Jon , I found that I miss <code>await</code> operator before calling method...stupid mistake..."}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 2859460, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/VMLyI.jpg?s=128&g=1", "display_name": "hal9k2", "link": "https://stackoverflow.com/users/2859460/hal9k2"}, "edited": false, "score": 0, "creation_date": 1447882066, "post_id": 33790334, "comment_id": 55348509, "body": "I have used your code, but result is same, app hangs in the line of : &#39;HttpResponseMessage response = await client.GetAsync(uri);&#39; Fiddler shows that server responded and sent data. I have no idea what can be a reason of that."}], "tags": [], "owner": {"reputation": 5480, "user_id": 1264360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed97babb5c190f0eacce8cb27affe733?s=128&d=identicon&r=PG", "display_name": "Shawn C.", "link": "https://stackoverflow.com/users/1264360/shawn-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1447880644, "creation_date": 1447880644, "answer_id": 33790334, "question_id": 33789383, "link": "https://stackoverflow.com/questions/33789383/how-to-get-data-deserialized-using-windows-web-httpclient/33790334#33790334", "title": "How to get data deserialized using Windows.Web.HttpClient?", "body": "<p>I use this method when using the HttpClient and want to return an object from a JSON response. </p>\n\n<pre><code>    public async Task&lt;TResult&gt; MakeGetRequest&lt;TResult&gt;(string uri)\n    {\n        using (var client = new HttpClient())\n        {\n            client.DefaultRequestHeaders.Accept.Clear();\n            client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n            client.DefaultRequestHeaders.TryAddWithoutValidation(\"Accept-Encoding\", \"gzip, deflate\");\n            client.DefaultRequestHeaders.TryAddWithoutValidation(\"Accept-Charset\", \"ISO-8859-1\");\n\n            HttpResponseMessage response = await client.GetAsync(uri);\n            response.EnsureSuccessStatusCode();\n            var data = await response.Content.ReadAsStringAsync();\n            return JsonConvert.DeserializeObject&lt;TResult&gt;(data);\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5480, "user_id": 1264360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed97babb5c190f0eacce8cb27affe733?s=128&d=identicon&r=PG", "display_name": "Shawn C.", "link": "https://stackoverflow.com/users/1264360/shawn-c"}, "edited": false, "score": 0, "creation_date": 1447941702, "post_id": 33803731, "comment_id": 55377278, "body": "If this is the answer then it should be marked as such."}], "tags": [], "owner": {"reputation": 127, "user_id": 2859460, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/VMLyI.jpg?s=128&g=1", "display_name": "hal9k2", "link": "https://stackoverflow.com/users/2859460/hal9k2"}, "is_accepted": true, "score": 1, "last_activity_date": 1447935355, "creation_date": 1447935355, "answer_id": 33803731, "question_id": 33789383, "link": "https://stackoverflow.com/questions/33789383/how-to-get-data-deserialized-using-windows-web-httpclient/33803731#33803731", "title": "How to get data deserialized using Windows.Web.HttpClient?", "body": "<p>Problem was so miserable stupid, I forgot to put <code>await</code> before method name that calls for data from web service, thus blocking UI.</p>\n\n<p>before</p>\n\n<pre><code>ListOfTvChannels = _remoteController.GetChannelListAsync();\n</code></pre>\n\n<p>after</p>\n\n<pre><code>ListOfTvChannels = await _remoteController.GetChannelListAsync();\n</code></pre>\n\n<p>Thanks all for trying to help.</p>\n"}], "owner": {"reputation": 127, "user_id": 2859460, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/VMLyI.jpg?s=128&g=1", "display_name": "hal9k2", "link": "https://stackoverflow.com/users/2859460/hal9k2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 524, "favorite_count": 0, "accepted_answer_id": 33803731, "answer_count": 2, "score": 0, "last_activity_date": 1447935355, "creation_date": 1447877265, "question_id": 33789383, "link": "https://stackoverflow.com/questions/33789383/how-to-get-data-deserialized-using-windows-web-httpclient", "title": "How to get data deserialized using Windows.Web.HttpClient?", "body": "<p>I need to get list of objects deserialized from Json.</p>\n\n<p>My problem is that this code hangs in line <code>responseMessage = await httpClient.GetAsync(uri);</code> I have checked get and response in Fiddler, I am getting Json in Fiddler, everything has code 200 OK, but for some reason code do not move forward to next line while debuging in VS or not, it just hangs forever. What I lack in this code to get list of objects?</p>\n\n<p>Since code hangs in mentioned line issue must be somewhere in HttpClient.</p>\n\n<pre><code>using (HttpClient httpClient = new HttpClient())\n            {\n                try\n                {\n                    var headers = httpClient.DefaultRequestHeaders;\n\n                    HttpResponseMessage responseMessage;\n\n                    responseMessage = await httpClient.GetAsync(uri);\n                    responseMessage.Content.Headers.ContentType = new HttpMediaTypeHeaderValue(\"application/x-www-form-urlencoded; charset=UTF-8\");\n\n                    var content = responseMessage.Content.ReadAsStringAsync();\n\n\n                    tvChannelList = JsonConvert.DeserializeObject&lt;List&lt;TvChannels&gt;&gt;(content.GetResults());\n\n                    return tvChannelList;\n                }\n                catch (Exception ex)\n                {\n                    throw;\n                }\n            }\n</code></pre>\n\n<p>Thanks in advance for any hints.</p>\n"}, {"tags": ["c#", "linq", "list"], "comments": [{"owner": {"reputation": 1190, "user_id": 2492620, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/fmiHk.jpg?s=128&g=1", "display_name": "Michael Queue", "link": "https://stackoverflow.com/users/2492620/michael-queue"}, "edited": false, "score": 0, "creation_date": 1447877380, "post_id": 33789374, "comment_id": 55345827, "body": "Maybe use <a href=\"http://www.tutorialspoint.com/csharp/csharp_reflection.htm\" rel=\"nofollow noreferrer\">reflection</a>?"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1447888340, "post_id": 33789374, "comment_id": 55351503, "body": "Friendly Notice: The accepted answer (and all others in this thread) is everything else (more readable, shorter) but not more efficient. Basically it&#39;s a 3 nested <code>foreach</code> methods with extra compiler generated class, extra class instance created, local variables turned into a class fields and some delegates created and invoked.  Welcome to the LINQ world. Next time make sure using words like &quot;fancy&quot;, &quot;cool&quot;, &quot;modern&quot; etc."}], "answers": [{"tags": [], "owner": {"reputation": 593, "user_id": 2004122, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/RxVmP.jpg?s=128&g=1", "display_name": "Steven Ackley", "link": "https://stackoverflow.com/users/2004122/steven-ackley"}, "is_accepted": false, "score": 0, "last_activity_date": 1447877925, "last_edit_date": 1447877925, "creation_date": 1447877468, "answer_id": 33789435, "question_id": 33789374, "link": "https://stackoverflow.com/questions/33789374/how-to-check-if-a-property-from-an-object-in-a-listt-exists-in-another-listt/33789435#33789435", "title": "How to check if a property from an object in a List&lt;T&gt; exists in another List&lt;T&gt;?", "body": "<pre><code>joinedDiscounts.Where(joinedDiscountse =&gt; joinedDiscountse.Products.Any()).ToList()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 413, "user_id": 4746670, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh4.googleusercontent.com/-4_k9SBRAXD4/AAAAAAAAAAI/AAAAAAAAABE/o16JJwwosW0/photo.jpg?sz=128", "display_name": "Barry D.", "link": "https://stackoverflow.com/users/4746670/barry-d"}, "edited": false, "score": 0, "creation_date": 1447877648, "post_id": 33789459, "comment_id": 55345984, "body": "How do I loop through the results? Right now this would be returning bool. I need a list of the matches found, please :)"}, {"owner": {"reputation": 2085, "user_id": 4372746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7421528d3e64e8186fcc0f6020cc1f14?s=128&d=identicon&r=PG&f=1", "display_name": "Glorin Oakenfoot", "link": "https://stackoverflow.com/users/4372746/glorin-oakenfoot"}, "reply_to_user": {"reputation": 413, "user_id": 4746670, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh4.googleusercontent.com/-4_k9SBRAXD4/AAAAAAAAAAI/AAAAAAAAABE/o16JJwwosW0/photo.jpg?sz=128", "display_name": "Barry D.", "link": "https://stackoverflow.com/users/4746670/barry-d"}, "edited": false, "score": 0, "creation_date": 1447877702, "post_id": 33789459, "comment_id": 55346019, "body": "If you simply want a <code>bool</code> that states that <i>at least</i> one of the <code>joinedDiscounts</code> matches the case, then change the <code>Where</code> to an <code>Any</code>."}, {"owner": {"reputation": 2085, "user_id": 4372746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7421528d3e64e8186fcc0f6020cc1f14?s=128&d=identicon&r=PG&f=1", "display_name": "Glorin Oakenfoot", "link": "https://stackoverflow.com/users/4372746/glorin-oakenfoot"}, "reply_to_user": {"reputation": 413, "user_id": 4746670, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh4.googleusercontent.com/-4_k9SBRAXD4/AAAAAAAAAAI/AAAAAAAAABE/o16JJwwosW0/photo.jpg?sz=128", "display_name": "Barry D.", "link": "https://stackoverflow.com/users/4746670/barry-d"}, "edited": false, "score": 0, "creation_date": 1447877770, "post_id": 33789459, "comment_id": 55346062, "body": "The query returns an <code>IEnumerable</code> that you can iterate over. If you have a hard requirement of a <code>List</code> for some reason, simply tack on <code>.ToList()</code>"}, {"owner": {"reputation": 2085, "user_id": 4372746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7421528d3e64e8186fcc0f6020cc1f14?s=128&d=identicon&r=PG&f=1", "display_name": "Glorin Oakenfoot", "link": "https://stackoverflow.com/users/4372746/glorin-oakenfoot"}, "reply_to_user": {"reputation": 413, "user_id": 4746670, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh4.googleusercontent.com/-4_k9SBRAXD4/AAAAAAAAAAI/AAAAAAAAABE/o16JJwwosW0/photo.jpg?sz=128", "display_name": "Barry D.", "link": "https://stackoverflow.com/users/4746670/barry-d"}, "edited": false, "score": 0, "creation_date": 1447877867, "post_id": 33789459, "comment_id": 55346117, "body": "I&#39;d highly suggest learning Linq for stuff like this. Very handy for working with sets/collections.  :)"}, {"owner": {"reputation": 413, "user_id": 4746670, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh4.googleusercontent.com/-4_k9SBRAXD4/AAAAAAAAAAI/AAAAAAAAABE/o16JJwwosW0/photo.jpg?sz=128", "display_name": "Barry D.", "link": "https://stackoverflow.com/users/4746670/barry-d"}, "edited": false, "score": 0, "creation_date": 1447877963, "post_id": 33789459, "comment_id": 55346160, "body": "Yeah I&#39;ve been using a lot of <code>Where x=&gt;x.prop {operator} {value}</code> queries, but I need to get more into the complex side of it."}], "tags": [], "owner": {"reputation": 2085, "user_id": 4372746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7421528d3e64e8186fcc0f6020cc1f14?s=128&d=identicon&r=PG&f=1", "display_name": "Glorin Oakenfoot", "link": "https://stackoverflow.com/users/4372746/glorin-oakenfoot"}, "is_accepted": true, "score": 2, "last_activity_date": 1447877569, "creation_date": 1447877569, "answer_id": 33789459, "question_id": 33789374, "link": "https://stackoverflow.com/questions/33789374/how-to-check-if-a-property-from-an-object-in-a-listt-exists-in-another-listt/33789459#33789459", "title": "How to check if a property from an object in a List&lt;T&gt; exists in another List&lt;T&gt;?", "body": "<p>This should give you an enumeration of the <code>JoinedDiscount</code>s in <code>joinedDiscounts</code> that contain a <code>Product</code> in <code>products</code>.</p>\n\n<pre><code>joinedDiscounts.Where(disc =&gt; disc.Products.Any(prod =&gt; products.Contains(prod)))\n</code></pre>\n\n<p>I <em>think</em> that covers what you're looking for.</p>\n"}, {"comments": [{"owner": {"reputation": 413, "user_id": 4746670, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh4.googleusercontent.com/-4_k9SBRAXD4/AAAAAAAAAAI/AAAAAAAAABE/o16JJwwosW0/photo.jpg?sz=128", "display_name": "Barry D.", "link": "https://stackoverflow.com/users/4746670/barry-d"}, "edited": false, "score": 0, "creation_date": 1447877879, "post_id": 33789507, "comment_id": 55346126, "body": "Thanks for the answer. Could you tell me why you compare the IDs instead of the objects themselves?"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 413, "user_id": 4746670, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh4.googleusercontent.com/-4_k9SBRAXD4/AAAAAAAAAAI/AAAAAAAAABE/o16JJwwosW0/photo.jpg?sz=128", "display_name": "Barry D.", "link": "https://stackoverflow.com/users/4746670/barry-d"}, "edited": false, "score": 0, "creation_date": 1447880037, "post_id": 33789507, "comment_id": 55347329, "body": "Just out of habit,  I don&#39;t know whether you would be going through linq to entityframework or if it was on linq objects,  but Id rather compare on a known unique field, because then the operation will be the same vs if you were to compare the entity, you would be doing something entirely different in sql than what you would be doing in objects, SQL would most likely end up comparing the entire row instead of just the id"}], "tags": [], "owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "is_accepted": false, "score": 0, "last_activity_date": 1447877700, "creation_date": 1447877700, "answer_id": 33789507, "question_id": 33789374, "link": "https://stackoverflow.com/questions/33789374/how-to-check-if-a-property-from-an-object-in-a-listt-exists-in-another-listt/33789507#33789507", "title": "How to check if a property from an object in a List&lt;T&gt; exists in another List&lt;T&gt;?", "body": "<p>Using linq you can do this</p>\n\n<pre><code>List&lt;JoinedDiscount&gt; joinedDiscounts; //the joined products\nList&lt;Product&gt; products; //desired products\n\n\njoinedDiscounts.Where(d =&gt; d.Products.Any(\n                     p =&gt; products.Select(prod =&gt; prod.ID).Contains(p.ID)\n                     ).ToList()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 413, "user_id": 4746670, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh4.googleusercontent.com/-4_k9SBRAXD4/AAAAAAAAAAI/AAAAAAAAABE/o16JJwwosW0/photo.jpg?sz=128", "display_name": "Barry D.", "link": "https://stackoverflow.com/users/4746670/barry-d"}, "edited": false, "score": 0, "creation_date": 1447878080, "post_id": 33789566, "comment_id": 55346245, "body": "I understand thanks to your simple way of explaining it. I appreciate this. :)"}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1447878423, "post_id": 33789566, "comment_id": 55346457, "body": "Apparently someone disagrees by way of a down-vote :-/  But I&#39;m glad I could help!"}], "tags": [], "owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "is_accepted": false, "score": 3, "last_activity_date": 1447878297, "last_edit_date": 1447878297, "creation_date": 1447877872, "answer_id": 33789566, "question_id": 33789374, "link": "https://stackoverflow.com/questions/33789374/how-to-check-if-a-property-from-an-object-in-a-listt-exists-in-another-listt/33789566#33789566", "title": "How to check if a property from an object in a List&lt;T&gt; exists in another List&lt;T&gt;?", "body": "<p>Let's start from the top down...</p>\n\n<blockquote>\n  <p>if any of the Joined Discounts</p>\n</blockquote>\n\n<p>Ok, so the outer structure is:</p>\n\n<pre><code>joinedDiscounts.Any()\n</code></pre>\n\n<p>But we need a boolean clause in there...</p>\n\n<blockquote>\n  <p>have a list of Products wherein any</p>\n</blockquote>\n\n<p>Ok, we want to examine the <code>.Products</code> property and know if anything in that list matches a condition:</p>\n\n<pre><code>joinedDiscounts.Any(jd =&gt; jd.Products.Any())\n</code></pre>\n\n<p>Now we need a boolean clause in <em>there</em>...</p>\n\n<blockquote>\n  <p>any Product from the products list exists</p>\n</blockquote>\n\n<p>So, if the <code>products</code> contains any given product of this collection?</p>\n\n<pre><code>joinedDiscounts.Any(jd =&gt; jd.Products.Any(p =&gt; products.Contains(p)))\n</code></pre>\n\n<p>That ought to do it, at least semantically.</p>\n\n<p><em>However</em>, if the comparator for <code>Product</code> isn't defined on that class then the code might just do a reference comparison, which might not be what you want.  (Two instances may have the same values and may <em>conceptually</em> represent the same product, but they wouldn't <em>be</em> the same instance of the <code>Product</code> class.)  If you need to drill further into the <code>ID</code> to manually compare, you'd have to do something like this:</p>\n\n<pre><code>joinedDiscounts.Any(jd =&gt; jd.Products.Any(prod =&gt; products.Select(p =&gt; p.ID).Contains(prod.ID)))\n</code></pre>\n\n<p>As the code grows, I'd recommend encapsulating comparison logic into your models appropriately.  Implementing <code>.Equals()</code> and <code>.GetHashCode()</code> should do the trick in this case.  That way consuming code stays simple and the logic is encapsulated on the objects where it belongs.  That would allow you to perform semantically intuitive comparisons of your objects instead of drilling in to <code>ID</code> values manually.</p>\n"}], "owner": {"reputation": 413, "user_id": 4746670, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh4.googleusercontent.com/-4_k9SBRAXD4/AAAAAAAAAAI/AAAAAAAAABE/o16JJwwosW0/photo.jpg?sz=128", "display_name": "Barry D.", "link": "https://stackoverflow.com/users/4746670/barry-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 1, "accepted_answer_id": 33789459, "answer_count": 4, "score": 0, "last_activity_date": 1447878297, "creation_date": 1447877228, "question_id": 33789374, "link": "https://stackoverflow.com/questions/33789374/how-to-check-if-a-property-from-an-object-in-a-listt-exists-in-another-listt", "title": "How to check if a property from an object in a List&lt;T&gt; exists in another List&lt;T&gt;?", "body": "<p>Friendly Notice:\nI am aware of the nested foreach method, but I'm trying to avoid it if there is a more efficient way.</p>\n\n<p>Setup of Class 1:</p>\n\n<pre><code>public class Product{\n\n      public int ID {get; set;}\n      //Other irrelevant properties\n}\n</code></pre>\n\n<p>Setup of Class 2:</p>\n\n<pre><code>public class JoinedDiscounts{\n\n      public int ID {get; set;}\n      public List&lt;Product&gt; Products = new List&lt;Product&gt;();\n      //Other irrelevant properties\n\n}\n</code></pre>\n\n<p>Suppose I now have a list of products (I've filtered specific products out into this list):</p>\n\n<pre><code>List&lt;Product&gt; products;\n</code></pre>\n\n<p>I also have this list.</p>\n\n<pre><code>List&lt;JoinedDiscount&gt; joinedDiscounts;\n</code></pre>\n\n<p>My goal is to check if any of the Joined Discounts from the <code>joinedDiscounts</code> list have a list of Products wherein any Product from the <code>products</code> list exists.</p>\n\n<p>I think I've spent too much time thinking about it and now I'm having difficulty figuring out something that's probably very simple.</p>\n\n<p>Any help is much appreciated</p>\n"}, {"tags": ["c#", "unity3d", "raytracing"], "comments": [{"owner": {"reputation": 314, "user_id": 4360540, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5189caab5f13df983223bebe66ada81e?s=128&d=identicon&r=PG&f=1", "display_name": "Farhan Ali", "link": "https://stackoverflow.com/users/4360540/farhan-ali"}, "edited": false, "score": 0, "creation_date": 1447877332, "post_id": 33789369, "comment_id": 55345795, "body": "Please Help me for that, thanks in advance"}, {"owner": {"reputation": 23854, "user_id": 70345, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/aV45a.jpg?s=128&g=1", "display_name": "Ian Kemp", "link": "https://stackoverflow.com/users/70345/ian-kemp"}, "edited": false, "score": 0, "creation_date": 1447959705, "post_id": 33789369, "comment_id": 55389851, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/4660142/what-is-a-nullreferenceexception-and-how-do-i-fix-it\">What is a NullReferenceException and how do I fix it?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 314, "user_id": 4360540, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5189caab5f13df983223bebe66ada81e?s=128&d=identicon&r=PG&f=1", "display_name": "Farhan Ali", "link": "https://stackoverflow.com/users/4360540/farhan-ali"}, "edited": false, "score": 1, "creation_date": 1448023403, "post_id": 33790155, "comment_id": 55419025, "body": "Thank you So Much.. it is fixed..@Neven"}], "tags": [], "owner": {"reputation": 653, "user_id": 4126229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4e33e4ebeaf066ebd0054e3181f3dcc?s=128&d=identicon&r=PG&f=1", "display_name": "Neven Ignjic", "link": "https://stackoverflow.com/users/4126229/neven-ignjic"}, "is_accepted": true, "score": 1, "last_activity_date": 1447880069, "creation_date": 1447880069, "answer_id": 33790155, "question_id": 33789369, "link": "https://stackoverflow.com/questions/33789369/getcomponent-nullreferenceexception/33790155#33790155", "title": "GetComponent: NullReferenceException", "body": "<p>Try writing the same line like this:</p>\n\n<pre><code>Ray ray = Camera.main.gameObject.GetComponent&lt;Camera&gt;().ScreenPointToRay(new Vector3(x, y, 0));\n</code></pre>\n\n<p>First of all FindWithTag and any Find is pretty expansive (doesn't matter much in your case since you call it only once but just so you know for the record), you should check the spelling there and experiment with Debug.Log(); Print to console value of mainCamera, of Ray etc... and see when you get unexpected results. For now just try my code, it's pretty much the same it only uses different reference to camera</p>\n\n<p><a href=\"http://docs.unity3d.com/ScriptReference/Camera-main.html\" rel=\"nofollow\">http://docs.unity3d.com/ScriptReference/Camera-main.html</a></p>\n"}], "owner": {"reputation": 314, "user_id": 4360540, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5189caab5f13df983223bebe66ada81e?s=128&d=identicon&r=PG&f=1", "display_name": "Farhan Ali", "link": "https://stackoverflow.com/users/4360540/farhan-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "accepted_answer_id": 33790155, "answer_count": 1, "score": 0, "last_activity_date": 1555015088, "creation_date": 1447877207, "last_edit_date": 1555015088, "question_id": 33789369, "link": "https://stackoverflow.com/questions/33789369/getcomponent-nullreferenceexception", "title": "GetComponent: NullReferenceException", "body": "<p>I am getting the following error:</p>\n\n<blockquote>\n  <p>NullReferenceException: Object reference not set to an instance of an object</p>\n</blockquote>\n\n<p>when trying to pick object at this line:</p>\n\n<pre><code>Ray ray = mainCamera.GetComponent&lt;Camera&gt;().ScreenPointToRay(new Vector3(x, y));\n</code></pre>\n\n<p>Full code:</p>\n\n<pre><code>using UnityEngine;\nusing System.Collections;\npublic class pickupobject : \n\nMonoBehaviour {\n    GameObject mainCamera;\n    public float distance;\n    GameObject carryObject;\n    bool carrying;\n    void start() {\n        mainCamera = GameObject.FindWithTag(\"MainCamera\");\n    }\n\n    void pickup()\n    {\n        if (Input.GetKeyDown(KeyCode.F))\n        {\n            int x = Screen.width / 2;\n            int y = Screen.height / 2;\n            Ray ray = mainCamera.GetComponent&lt;Camera&gt;().ScreenPointToRay(new Vector3(x, y));\n            // Debug.DrawRay(ray.origin, ray.direction * 10, Color.yellow);\n            RaycastHit hit;\n            if (Physics.Raycast(ray, out hit))\n            {\n                pickupcube p = hit.collider.GetComponent&lt;pickupcube&gt;();\n                if (p != null)\n                {\n                    carrying = true;\n                    carryObject = p.gameObject;\n                }\n            }\n        }\n    }\n\n    void carry(GameObject o)\n    {\n        o.GetComponent&lt;Rigidbody&gt;().isKinematic = true;\n        o.transform.position = mainCamera.transform.position + mainCamera.transform.forward * distance;\n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n        if (carrying)\n        {\n            carry(carryObject);\n        }\n        else\n        {\n            pickup();\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 468, "user_id": 2829494, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2a65b077259fd54fe704b08beff43054?s=128&d=identicon&r=PG&f=1", "display_name": "DeathTails", "link": "https://stackoverflow.com/users/2829494/deathtails"}, "edited": false, "score": 1, "creation_date": 1447877686, "post_id": 33789343, "comment_id": 55346006, "body": "Possible duplicate of: <a href=\"http://stackoverflow.com/questions/974598/find-all-controls-in-wpf-window-by-type\" title=\"find all controls in wpf window by type\">stackoverflow.com/questions/974598/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5521657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eb36ed16272437557dfa1e710607537?s=128&d=identicon&r=PG&f=1", "display_name": "prparikh", "link": "https://stackoverflow.com/users/5521657/prparikh"}, "edited": false, "score": 0, "creation_date": 1447878098, "post_id": 33789499, "comment_id": 55346258, "body": "I tried that way but it gets me null value every time. also I tried something like  object item = dgTest.FindName(&quot;testTemp&quot;). But item always be null"}, {"owner": {"reputation": 468, "user_id": 2829494, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2a65b077259fd54fe704b08beff43054?s=128&d=identicon&r=PG&f=1", "display_name": "DeathTails", "link": "https://stackoverflow.com/users/2829494/deathtails"}, "edited": false, "score": 2, "creation_date": 1447878284, "post_id": 33789499, "comment_id": 55346380, "body": "Are you running it after the Loaded Event? Otherwise, you&#39;ll always get null."}, {"owner": {"reputation": 3564, "user_id": 1189566, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/YXOz8.png?s=128&g=1", "display_name": "sab669", "link": "https://stackoverflow.com/users/1189566/sab669"}, "reply_to_user": {"reputation": 31, "user_id": 5521657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eb36ed16272437557dfa1e710607537?s=128&d=identicon&r=PG&f=1", "display_name": "prparikh", "link": "https://stackoverflow.com/users/5521657/prparikh"}, "edited": false, "score": 0, "creation_date": 1447878470, "post_id": 33789499, "comment_id": 55346480, "body": "@prparikh Well you&#39;re doing something wrong, because now that I&#39;m looking deeper into it this is almost identical to MSDN&#39;s example: <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.media.visualtreehelper.getchild(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}, {"owner": {"reputation": 31, "user_id": 5521657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eb36ed16272437557dfa1e710607537?s=128&d=identicon&r=PG&f=1", "display_name": "prparikh", "link": "https://stackoverflow.com/users/5521657/prparikh"}, "edited": false, "score": 0, "creation_date": 1447878794, "post_id": 33789499, "comment_id": 55346655, "body": "@DeathTrails: it is after button click event."}, {"owner": {"reputation": 468, "user_id": 2829494, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2a65b077259fd54fe704b08beff43054?s=128&d=identicon&r=PG&f=1", "display_name": "DeathTails", "link": "https://stackoverflow.com/users/2829494/deathtails"}, "edited": false, "score": 0, "creation_date": 1447879406, "post_id": 33789499, "comment_id": 55346978, "body": "Are you using it like: <code>var list = FindVisualChildren&lt;UIElement&gt;(myDataGridColumn);</code>? This function works perfectly fine for me. That should get all the UIElements in the DataGridTemplateColumn. Recursively, that is. You may want to take out the recursive call if you only want a single level."}, {"owner": {"reputation": 31, "user_id": 5521657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eb36ed16272437557dfa1e710607537?s=128&d=identicon&r=PG&f=1", "display_name": "prparikh", "link": "https://stackoverflow.com/users/5521657/prparikh"}, "edited": false, "score": 0, "creation_date": 1447939082, "post_id": 33789499, "comment_id": 55375368, "body": "I&#39;m trying to access datagrid inside RowDetailsTemplate so it is something like &lt;DataGrid x:name=myDataGrid&gt;&lt;RowDetailsTemplate&gt;&lt;DataGrid&gt;&lt;/DataGrid&gt;&lt;&zwnj;&#8203;/RowDetailsTemplate&gt;&zwnj;&#8203;&lt;/DataGrid&gt;. But when I use VisualTreeHelper.GetChildrenCount(myDataGrid), it returns 1."}], "tags": [], "owner": {"reputation": 3564, "user_id": 1189566, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/YXOz8.png?s=128&g=1", "display_name": "sab669", "link": "https://stackoverflow.com/users/1189566/sab669"}, "is_accepted": true, "score": 0, "last_activity_date": 1447877683, "last_edit_date": 1495539880, "creation_date": 1447877683, "answer_id": 33789499, "question_id": 33789343, "link": "https://stackoverflow.com/questions/33789343/find-all-the-child-controls-in-wpf/33789499#33789499", "title": "Find all the child controls in wpf", "body": "<p>What have you tried that \"require a name to be passed or simply don't work\" and what's wrong with the former?</p>\n\n<pre><code>private void FindAllChildren()\n{\n    var depObj = dataGrid;\n\n    for (int i = 0; i &lt; VisualTreeHelper.GetChildrenCount(depObj); i++)\n    {\n        DependencyObject child = VisualTreeHelper.GetChild(depObj, i);\n        if (child is DataGridTemplateColumn)\n        {\n            // do a thing\n        }\n    }\n}\n</code></pre>\n\n<p>Adapted from here: <a href=\"https://stackoverflow.com/a/978352/1189566\">https://stackoverflow.com/a/978352/1189566</a></p>\n"}], "owner": {"reputation": 31, "user_id": 5521657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eb36ed16272437557dfa1e710607537?s=128&d=identicon&r=PG&f=1", "display_name": "prparikh", "link": "https://stackoverflow.com/users/5521657/prparikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1615, "favorite_count": 0, "accepted_answer_id": 33789499, "answer_count": 1, "score": 0, "last_activity_date": 1447877683, "creation_date": 1447877119, "question_id": 33789343, "link": "https://stackoverflow.com/questions/33789343/find-all-the-child-controls-in-wpf", "title": "Find all the child controls in wpf", "body": "<p>I would like to find all of the controls within a WPF control specially in Datagrid, DataGridTemplateColumn. I have had a look at a lot of samples and it seems that they all either require a Name to be passed as parameter or simply do not work.</p>\n"}, {"tags": ["c#", "entity-framework", "foreign-keys"], "comments": [{"owner": {"reputation": 679, "user_id": 3924229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a61eb14c091f063cfe326620f9a02de1?s=128&d=identicon&r=PG&f=1", "display_name": "Nate", "link": "https://stackoverflow.com/users/3924229/nate"}, "edited": false, "score": 0, "creation_date": 1447877113, "post_id": 33789225, "comment_id": 55345670, "body": "Can we see the code that is creating the users?"}, {"owner": {"reputation": 2742, "user_id": 4892515, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/JHSqd.png?s=128&g=1", "display_name": "Antoine Pelletier", "link": "https://stackoverflow.com/users/4892515/antoine-pelletier"}, "edited": false, "score": 0, "creation_date": 1447878464, "post_id": 33789225, "comment_id": 55346476, "body": "Yep, how do you add your userOverride to your user object, and also, what&#39;s the goal of all this ?"}, {"owner": {"reputation": 11, "user_id": 5578236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4ebbb7a5b62464c4bd85990ac508072?s=128&d=identicon&r=PG&f=1", "display_name": "MungDrool", "link": "https://stackoverflow.com/users/5578236/mungdrool"}, "edited": false, "score": 0, "creation_date": 1447880187, "post_id": 33789225, "comment_id": 55347417, "body": "See my edits above.  The goal is to allow a user of an application we are writing to emulate running the application as a different user, thus inheriting all of his permissions within the application.  Mostly used for debugging"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1447886550, "post_id": 33789225, "comment_id": 55350799, "body": "You must set <code>ImpersonatedUser = impersonatedUser</code> only, <i>not</i> the <code>Id</code>."}, {"owner": {"reputation": 11, "user_id": 5578236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4ebbb7a5b62464c4bd85990ac508072?s=128&d=identicon&r=PG&f=1", "display_name": "MungDrool", "link": "https://stackoverflow.com/users/5578236/mungdrool"}, "edited": false, "score": 0, "creation_date": 1447937476, "post_id": 33789225, "comment_id": 55374217, "body": "I tried setting ImpersonatedUser = impersonatedUser, but it changed it to the current user when it tried to save, same as it does if I set the id"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5578236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4ebbb7a5b62464c4bd85990ac508072?s=128&d=identicon&r=PG&f=1", "display_name": "MungDrool", "link": "https://stackoverflow.com/users/5578236/mungdrool"}, "edited": false, "score": 0, "creation_date": 1447880370, "post_id": 33789836, "comment_id": 55347528, "body": "See my edits above.  This is what I tried first, but it assigns the current user object to the impersonated user property.  It changes the ImpersonatedUserId that I assigned to be the UserId of the new User it just saved.  In other words, I assign ImpersonatedUserId = 1, cal save, but when it returns, ImpersonatedUserId = 3 or whatever the new user&#39;s id is"}], "tags": [], "owner": {"reputation": 362, "user_id": 5415542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88ad8f37e833877483875efca62d1f30?s=128&d=identicon&r=PG", "display_name": "Manish Kumar", "link": "https://stackoverflow.com/users/5415542/manish-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1447878825, "creation_date": 1447878825, "answer_id": 33789836, "question_id": 33789225, "link": "https://stackoverflow.com/questions/33789225/entity-framework-multiple-foreign-keys-on-same-table-not-mapping-correctly/33789836#33789836", "title": "Entity Framework Multiple Foreign Keys on same table not mapping correctly", "body": "<p>Did you try just setting the Id and leaving the navigation properties alone?\nBasically, when you say:</p>\n\n<blockquote>\n  <p>I am setting the ImpersonatedUserId equal to the UserId from that\n  user and adding this entity to the list of ImpersonatedUsers on User.</p>\n</blockquote>\n\n<p>Leave the second part (after and) and just set the Id of User in ImpersonatedUserId property. That should create correct relationship.</p>\n\n<p>Let me know how did it go.</p>\n"}], "owner": {"reputation": 11, "user_id": 5578236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4ebbb7a5b62464c4bd85990ac508072?s=128&d=identicon&r=PG&f=1", "display_name": "MungDrool", "link": "https://stackoverflow.com/users/5578236/mungdrool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1447880709, "creation_date": 1447876723, "last_edit_date": 1447880709, "question_id": 33789225, "link": "https://stackoverflow.com/questions/33789225/entity-framework-multiple-foreign-keys-on-same-table-not-mapping-correctly", "title": "Entity Framework Multiple Foreign Keys on same table not mapping correctly", "body": "<p>I have seen several examples on this site of mapping multiple foreign keys on the same table to an entity.  I think I have coded things the way they are shown on the examples, but when I try to save my entity, both foreign keys are pointing to the same entity rather than two separate ones.  I am expecting that my parent entity would have reference to two different entities from the linked table.  My classes are as follows:</p>\n\n<pre><code>public class User: PersistentEntity\n{\n    [Required]\n    public string FullName { get; set; }\n    [Required]\n    public string HID { get; set; }\n    [Required]\n    public string VID { get; set; }\n    [Required]\n    [MaxLength(100)]\n    public string UserName { get; set; }\n\n    //nav properties\n    [InverseProperty(\"ImpersonatedUser\")]\n    public virtual ICollection&lt;UserOverride&gt; ImpersonatedUsers { get; set; }\n    [InverseProperty(\"User\")]\n    public virtual ICollection&lt;UserOverride&gt; Users { get; set; }\n}\n\npublic class UserOverride: PersistentEntity\n{\n    [Required]\n    [ForeignKey(\"User\")]\n    public int UserId { get; set; }\n    [Required]\n    [ForeignKey(\"ImpersonatedUser\")]\n    public int ImpersonatedUserId { get; set; }\n    [Required]\n    public bool Active { get; set; }\n\n    //nav fields\n    [IgnoreForValidation]\n    [ForeignKey(\"UserId\")]\n    public virtual User User { get; set; }\n    [IgnoreForValidation]\n    [ForeignKey(\"ImpersonatedUserId\")]\n    public virtual User ImpersonatedUser { get; set; }\n} \n</code></pre>\n\n<p>I create several users without any ImpersonatedUser objects on them, then try to create a new User object with one of these previous users set as the ImpersonatedUser.  I am setting the ImpersonatedUserId equal to the UserId from that user and adding this entity to the list of ImpersonatedUsers on User, but when I try to save, it changes the ImpersonatedUserId to the id of the new user I am saving, and adds this same user to the list of Users on the User object.  If I try to set the entire ImpersonatedUseer object and then save, I get an error about multiplicity of foreign keys not being correct.</p>\n\n<p>My question is, what am I doing wrong?  this looks like what I have seen as other examples out here, but I can't get it to work properly. Do I have it modeled correctly?  Thanks for any help.</p>\n\n<p>EDIT---</p>\n\n<pre><code>        //create a couple users\n        var user = new User\n        {\n            FullName = \"Ritchie Blackmore\",\n            HID = \"01010101\",\n            VID = \"rblackmore\",\n            UserName = \"rblackmore\"\n        };\n        var userResult = UserService.SaveOrUpdate(user);\n</code></pre>\n\n<p>here is how I am creating my user I am trying to save:</p>\n\n<pre><code>        var impersonatedUsers = UserService.FindByReadOnly(u =&gt; u.UserName.Equals(\"rblackmore\"));\n        var impersonatedUser = Queryable.FirstOrDefault(impersonatedUsers);\n\n\nvar user = new User\n        {\n            FullName = \"Ronnie James Dio2\",\n            HID = \"03030303\",\n            VID = \"rjdio2\",\n            UserName = \"rjdio2\",\n            Roles = new List&lt;Role&gt;\n            {\n                roleResult1.Entity,  //pre-existing role\n                //TODO: the following are new roles, added while adding the user\n                //probably shouldn't allow this scenario, but it might come in handy\n                new Role\n                {\n                    Name = \"Client2\",\n                    Description = \"Client\",\n                    DisplayName = \"Client\"\n                },\n                new Role\n                {\n                    Name = \"Developer2\",\n                    Description = \"Developer\",\n                    DisplayName = \"Developer\"\n\n                }\n            },\n            ImpersonatedUsers = new List&lt;UserOverride&gt;\n            {\n                new UserOverride {ImpersonatedUserId = impersonatedUser.Id, SystemId = system.Id, Active = true}\n            }\n        };\n        var result = UserService.SaveOrUpdate(user);\n</code></pre>\n\n<p>As you can see, I am only setting the id of the impersonated user, not the entire impersonated user object.  I have tried assigning the entire object as well, which threw an exception as it tried to change the key of the object to the new user's key.</p>\n"}, {"tags": ["c#", "database", "entity-framework"], "comments": [{"owner": {"reputation": 7185, "user_id": 1645737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0tr7.png?s=128&g=1", "display_name": "keenthinker", "link": "https://stackoverflow.com/users/1645737/keenthinker"}, "edited": false, "score": 0, "creation_date": 1447878522, "post_id": 33789186, "comment_id": 55346503, "body": "Have you tried to put the <code>ts.Complete</code> inside the <code>using (SqlCommand sqlCommand...</code> block? Could it be, that the transaction somehow wraps/needs the command and because the command is destroyed on completion (because of the using block) it fails?"}, {"owner": {"reputation": 7185, "user_id": 1645737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0tr7.png?s=128&g=1", "display_name": "keenthinker", "link": "https://stackoverflow.com/users/1645737/keenthinker"}, "edited": false, "score": 0, "creation_date": 1447878825, "post_id": 33789186, "comment_id": 55346680, "body": "It has something to do with the isolation level of EF. Maybe overwriting the <a href=\"http://stackoverflow.com/questions/5657145/what-is-the-default-transaction-isolation-level-in-entity-framework-when-i-issue\">SaveChanges method</a> or changing the isolation level could solve the problem."}, {"owner": {"reputation": 7185, "user_id": 1645737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0tr7.png?s=128&g=1", "display_name": "keenthinker", "link": "https://stackoverflow.com/users/1645737/keenthinker"}, "edited": false, "score": 0, "creation_date": 1447878941, "post_id": 33789186, "comment_id": 55346732, "body": "Have a look at point 17. int this CodeProject article <a href=\"http://www.codeproject.com/Articles/690136/All-About-TransactionScope\" rel=\"nofollow noreferrer\">All About TransactionScope</a>. It looks similiar to your case."}, {"owner": {"reputation": 8619, "user_id": 1489378, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/50ed7965373e0ba9115d5e96556cd8f2?s=128&d=identicon&r=PG", "display_name": "NealR", "link": "https://stackoverflow.com/users/1489378/nealr"}, "reply_to_user": {"reputation": 7185, "user_id": 1645737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0tr7.png?s=128&g=1", "display_name": "keenthinker", "link": "https://stackoverflow.com/users/1645737/keenthinker"}, "edited": false, "score": 0, "creation_date": 1447881665, "post_id": 33789186, "comment_id": 55348274, "body": "@pasty: Took a look and that seems to also suggest editing the Security Configuration on the database server. Excellent resource for TransactionScope in general, though, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 8619, "user_id": 1489378, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/50ed7965373e0ba9115d5e96556cd8f2?s=128&d=identicon&r=PG", "display_name": "NealR", "link": "https://stackoverflow.com/users/1489378/nealr"}, "edited": false, "score": 0, "creation_date": 1447958041, "post_id": 33792296, "comment_id": 55388788, "body": "Still ran into the same MSDTC error on the <code>sqlConn.Open()</code> command"}], "tags": [], "owner": {"reputation": 9503, "user_id": 4270650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/88ba8368f50d9a96716c7205195df444?s=128&d=identicon&r=PG", "display_name": "Will Ray", "link": "https://stackoverflow.com/users/4270650/will-ray"}, "is_accepted": false, "score": 0, "last_activity_date": 1447888249, "last_edit_date": 1495542190, "creation_date": 1447888249, "answer_id": 33792296, "question_id": 33789186, "link": "https://stackoverflow.com/questions/33789186/use-transactionscope-sqlcommand-to-keep-databases-in-sync/33792296#33792296", "title": "Use TransactionScope &amp; SqlCommand to keep databases in sync", "body": "<p>The second bit of code is causing an error because it is opening multiple database connections within a single <code>TransactionScope</code>. When a program opens a second database connection inside of a single scope, it gets promoted to a distributed transaction. <a href=\"https://msdn.microsoft.com/en-us/library/ms254973.aspx\" rel=\"nofollow noreferrer\">You can read more information about distributed transactions here</a>.</p>\n\n<p>Searching for \"multiple database connections in one transaction scope\" is going to help you find a lot more StackOverflow posts. Here are two relevant ones:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/22512450/c-sharp-controlling-a-transaction-across-multiple-databases\">C# controlling a transaction across multiple databases</a></li>\n<li><a href=\"https://stackoverflow.com/questions/761031/how-do-you-get-around-multiple-database-connections-inside-a-transactionscope-if\">How do you get around multiple database connections inside a TransactionScope if MSDTC is disabled?</a></li>\n</ul>\n\n<p>Before you walk off into the land of distributed transactions though, there may be a simpler solution for this case. Transaction scopes can be nested, and parent scopes will rollback if any of their nested scopes fail. Each scope only has to worry about one connection or just nested scopes, so we may not run into the MSDTC issue.</p>\n\n<p>Give this a try:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var scopeOptions = new TransactionOptions();\nscopeOptions.IsolationLevel = System.Transactions.IsolationLevel.ReadCommitted;\nscopeOptions.Timeout = TimeSpan.MaxValue;\n\nusing (var ts = new TransactionScope(TransactionScopeOption.Required, scopeOptions))\n{\n    using (var scope1 = new TransactionScope(TransactionScopeOption.Required))\n    {\n        // if you can wrap a using statment around the db context here that would be good\n        db.Product.Add(product);\n        db.SaveChanges();\n        scope1.Complete();\n    }\n    using (var scope2 = new TransactionScope(TransactionScopeOption.Required))\n    {\n        // omitted the other \"using\" statments for the connection/command part for brevity\n        var sqlConn = new SqlConnection(ConfigurationManager.ConnectionStrings[\"Monet\"].ConnectionString);\n        sqlConn.Open();\n        SqlCommand sqlCommand = sqlConn.CreateCommand();\n        sqlCommand.CommandText = InsertMonetProduct(product);\n        sqlCommand.ExecuteNonQuery(); // if this fails, the parent scope will roll everything back\n        scope2.Complete();\n    }\n    ts.Complete();\n}\n</code></pre>\n"}], "owner": {"reputation": 8619, "user_id": 1489378, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/50ed7965373e0ba9115d5e96556cd8f2?s=128&d=identicon&r=PG", "display_name": "NealR", "link": "https://stackoverflow.com/users/1489378/nealr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1567, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1447888249, "creation_date": 1447876575, "last_edit_date": 1495540313, "question_id": 33789186, "link": "https://stackoverflow.com/questions/33789186/use-transactionscope-sqlcommand-to-keep-databases-in-sync", "title": "Use TransactionScope &amp; SqlCommand to keep databases in sync", "body": "<p>We track the same information across two databases in tables that have a similar (enough) schema. When we update the data in one database we want to make sure the data stays in sync with the table in the other database. </p>\n\n<p>We use Entity Framework 5 in both databases, so I had originally wanted to simply import a <code>DbContext</code> of the secondary database and use <code>TransactionsScope</code> to make sure the Create/Updates were atomic. </p>\n\n<p>However, I quickly found out that would be a pain to code, since the table names are the same (anyone working in this controller would have to refer to the <code>Product</code> table as <code>&lt;Conext&gt;.Product</code>), so I used a <code>SqlConnection</code> object for the secondary table, but received some results I don't quite undestand. </p>\n\n<p>If I use the syntax below, the two tables will update atomically/everything goes as planned. </p>\n\n<pre><code>var scopeOptions = new TransactionOptions();\nscopeOptions.IsolationLevel = System.Transactions.IsolationLevel.ReadCommitted;\nscopeOptions.Timeout = TimeSpan.MaxValue;\n\nvar sqlConn = new SqlConnection(ConfigurationManager.ConnectionStrings[\"Monet\"].ConnectionString);\nsqlConn.Open();\nSqlCommand sqlCommand = sqlConn.CreateCommand();\nsqlCommand.CommandText = InsertMonetProduct(product);\n\nusing (var ts = new TransactionScope(TransactionScopeOption.Required, scopeOptions))\n{\n    db.Product.Add(product);\n    db.SaveChanges(); \n    sqlCommand.ExecuteNonQuery();\n    ts.Complete();\n}\n</code></pre>\n\n<p>However if I use this syntax below the code crashes on the <code>db.SaveChanges()</code> command with the following message:</p>\n\n<blockquote>\n  <p>Network access for Distributed Transaction Manager (MSDTC) has been disabled. Please enable DTC for network access in the security configuration for MSDTC using the Component Services Administrative tool.</p>\n</blockquote>\n\n<pre><code>var scopeOptions = new TransactionOptions();\nscopeOptions.IsolationLevel = System.Transactions.IsolationLevel.ReadCommitted;\nscopeOptions.Timeout = TimeSpan.MaxValue;\n\nusing (var ts = new TransactionScope(TransactionScopeOption.Required, scopeOptions))\n{\n    using(var sqlConn = new SqlConnection(ConfigurationManager.ConnectionStrings[\"Monet\"].ConnectionString))\n    {\n        sqlConn.Open();\n        using (SqlCommand sqlCommand = sqlConn.CreateCommand())\n        {\n            sqlCommand.CommandText = InsertMonetProduct(product);\n            sqlCommand.ExecuteNonQuery();\n\n            db.Product.Add(product);\n            db.SaveChanges();                                \n        }\n        ts.Complete();\n    }\n}\n</code></pre>\n\n<p>Any idea why the first syntax works and the second crashes? From what I've read <a href=\"https://stackoverflow.com/questions/7694/how-do-i-enable-msdtc-on-sql-server\">online</a> this is supposed to be a change made on the database/database server itself. </p>\n"}, {"tags": ["c#", "sqlite", "database-connection", "xamarin.forms"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1447876968, "post_id": 33789168, "comment_id": 55345570, "body": "If you are worried about performance, you should measure the difference between the two approach. You are the only one that has the file, know what data retrieve and has already the code in place."}], "answers": [{"tags": [], "owner": {"reputation": 15568, "user_id": 540339, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/83c24ca34c5e0d48987c0a777d339ed0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/540339/adam"}, "is_accepted": true, "score": 2, "last_activity_date": 1447883930, "creation_date": 1447883930, "answer_id": 33791222, "question_id": 33789168, "link": "https://stackoverflow.com/questions/33789168/should-i-open-a-single-or-multiple-connections-to-a-local-sqlite-database/33791222#33791222", "title": "Should I open a single or multiple connections to a local SQLite database?", "body": "<p>If you are going to use a lot of queries straight after each other to pull data from the DB, then I would reuse the SQLite connection. There is overhead for each connection request and nothing is really gained by creating a new one each time, other than just more work.</p>\n\n<p>I accidentally had my application creating new connections on each query. I noticed an increase in speed when I corrected it back to reusing a single connection.</p>\n"}], "owner": {"reputation": 1693, "user_id": 1828486, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/paI4G.png?s=128&g=1", "display_name": "Mage Xy", "link": "https://stackoverflow.com/users/1828486/mage-xy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1260, "favorite_count": 0, "accepted_answer_id": 33791222, "answer_count": 1, "score": 1, "last_activity_date": 1447883930, "creation_date": 1447876517, "question_id": 33789168, "link": "https://stackoverflow.com/questions/33789168/should-i-open-a-single-or-multiple-connections-to-a-local-sqlite-database", "title": "Should I open a single or multiple connections to a local SQLite database?", "body": "<p>I am in the process of writing a Xamarin.Forms app. I have a database manager class which handles inserting, deleting, etc. from a local SQLite database. Since the DB file is locally stored on a single device, only one user will ever be accessing the DB at any given time. I'm not reading/writing to the DB often, but when I do, I'm grabbing a lot of data. </p>\n\n<p>My question is this: Should I create a single connection to the DB and simply reuse that over and over throughout the entire application, or is it better to create a new connection every time I access the DB? Creating a new connection each time would probably be more flexible (for my app anyway), but I'm worried about the overhead. </p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-web-api"], "comments": [{"owner": {"reputation": 4925, "user_id": 980771, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/08c7dccc1f67be5f7d3b41128932e8bf?s=128&d=identicon&r=PG", "display_name": "The Senator", "link": "https://stackoverflow.com/users/980771/the-senator"}, "edited": false, "score": 0, "creation_date": 1447876723, "post_id": 33789145, "comment_id": 55345402, "body": "Can you explain why you want to mix them? Perhaps an actual example of what you are trying to achieve would help?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1447876754, "post_id": 33789145, "comment_id": 55345423, "body": "Assuming your Web API is hosted in IIS, you can absolutely place them in the same project.  Even if you&#39;re self-hosting, you still can.  This is answerable by googling &quot;web api mvc same project&quot;.  Every result talks about how to do this."}, {"owner": {"reputation": 1610, "user_id": 1842261, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0e47affe0b5b8143a52c6cd694abe6e8?s=128&d=identicon&r=PG", "display_name": "hbulens", "link": "https://stackoverflow.com/users/1842261/hbulens"}, "edited": false, "score": 0, "creation_date": 1447877585, "post_id": 33789145, "comment_id": 55345948, "body": "Although it is certainly possible, the question I want to ask is: why? Why do you want to make it yourself hard if you can make it easy. Visual Studio  does a lot of things for you when you create a MVC application. If you choose to ignore this, you&#39;ll have to do all those steps by yourself (like initiating the application, configuring the routes, filters, ...)"}, {"owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1447882038, "post_id": 33789145, "comment_id": 55348491, "body": "@Amy Have you read the solution of the link you posted? I don`t think so. I will paste it here:&quot;...below article gives you step by step implementation of ASP.NET Web API in MVC application...&quot; I did NOT ask about using a Web API in a MVC application. I asked how I can use MVC inside a web api project - because we want to use the easy forms handling with razor instead of doing a SPA... which is overhead."}, {"owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "reply_to_user": {"reputation": 1610, "user_id": 1842261, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0e47affe0b5b8143a52c6cd694abe6e8?s=128&d=identicon&r=PG", "display_name": "hbulens", "link": "https://stackoverflow.com/users/1842261/hbulens"}, "edited": false, "score": 0, "creation_date": 1447882094, "post_id": 33789145, "comment_id": 55348524, "body": "@hbulens I can not create a MVC project because we already have a legacy web api."}, {"owner": {"reputation": 2873, "user_id": 2789978, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b5ec692bf03786cc14d3f242dfa1bd17?s=128&d=identicon&r=PG&f=1", "display_name": "TejSoft", "link": "https://stackoverflow.com/users/2789978/tejsoft"}, "edited": false, "score": 0, "creation_date": 1447889890, "post_id": 33789145, "comment_id": 55352062, "body": "If you create an Web Api using Visual Studio and default setting, it will create a folder called &quot;Areas&quot; under which the help pages resides. This gives a nice mvc setup within an Web Api project. How about using the same infrastructure and develop further?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1447895679, "post_id": 33789145, "comment_id": 55353973, "body": "@Elisabeth, I didn&#39;t paste a link...  I think you have a fundamental misunderstanding here.  You have an ASP.Net project that uses Web API.  You can absolutely add MVC to the mix.  You just add the Nuget packages and the configuration, and that&#39;s it.  What you have isn&#39;t &quot;a web api project&quot;.  What you have is a ASP.Net project <i>with Web Api</i>."}, {"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1447898946, "post_id": 33789145, "comment_id": 55354856, "body": "this question doesn&#39;t really make sense.  WebAPI and MVC are not &quot;Projects&quot;, they are modules that can be used in a project."}], "answers": [{"comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1447878069, "post_id": 33789334, "comment_id": 55346240, "body": "Creating an area is not necessary."}, {"owner": {"reputation": 4618, "user_id": 13532, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/251f2d48076e5b06015cd2a7271df006?s=128&d=identicon&r=PG", "display_name": "Christopher G. Lewis", "link": "https://stackoverflow.com/users/13532/christopher-g-lewis"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1447945426, "post_id": 33789334, "comment_id": 55380073, "body": "Certainly not necessary, but useful in that it allows you to have duplicate controllers in the WebAPI and UI with separated functionality."}], "tags": [], "owner": {"reputation": 4618, "user_id": 13532, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/251f2d48076e5b06015cd2a7271df006?s=128&d=identicon&r=PG", "display_name": "Christopher G. Lewis", "link": "https://stackoverflow.com/users/13532/christopher-g-lewis"}, "is_accepted": false, "score": -1, "last_activity_date": 1447877100, "last_edit_date": 1495541713, "creation_date": 1447877100, "answer_id": 33789334, "question_id": 33789145, "link": "https://stackoverflow.com/questions/33789145/use-asp-net-mvc-within-a-web-api-project/33789334#33789334", "title": "Use asp.net mvc within a web api project", "body": "<p>It's simple and I use it on several sites - create a new Area (I use 'UI') and treat it as a simple MVC site.</p>\n\n<p>You will have to fix your default routes per this: <a href=\"https://stackoverflow.com/questions/7842293/multiple-types-were-found-that-match-the-controller-named-home\">Multiple types were found that match the controller named &#39;Home&#39;</a></p>\n"}, {"tags": [], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "is_accepted": true, "score": 1, "last_activity_date": 1447898020, "last_edit_date": 1447898020, "creation_date": 1447896692, "answer_id": 33793716, "question_id": 33789145, "link": "https://stackoverflow.com/questions/33789145/use-asp-net-mvc-within-a-web-api-project/33793716#33793716", "title": "Use asp.net mvc within a web api project", "body": "<p>I'm starting these instructions from an empty ASP.Net project setup with Web API.  </p>\n\n<ol>\n<li><p>Install the <code>Microsoft.AspNet.Mvc</code> Nuget package.</p></li>\n<li><p><a href=\"http://www.prideparrot.com/blog/archive/2012/7/understanding_routing\" rel=\"nofollow\">Set up MVC routes</a> and any other MVC configuration in your global.asax, where you configure Web API.  You can do this configuration in a separate class and call it from global.asax, if you wish.</p></li>\n</ol>\n\n<p>Example:</p>\n\n<pre><code>RouteTable.Routes.MapRoute(\n    \"Default\", // Route name\n    \"{controller}/{action}/{id}\", // URL with parameters\n    new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional } // Parameter defaults\n);\n</code></pre>\n\n<ol start=\"3\">\n<li><p>Add an MVC controller to a <code>controllers</code> folder.  This should be a separate folder that houses your Web API controllers, and does not have to be called <code>controllers</code>.</p></li>\n<li><p>Create a <code>Views</code> folder.  To make this a lot easier and less time consuming, create an MVC project in a throwaway solution and copy its <code>Views</code> folder over.  In particular, you want to copy over any files in the <code>Views\\Shared</code> folder, and all <code>.config</code> files inside the <code>Views</code> folder.  Without these, your MVC views won't work.</p></li>\n<li><p>If you created a throwaway project for #4, look through its web.config, in particular, at the <code>&lt;system.web&gt;</code> settings.  </p></li>\n</ol>\n\n<p>If you didn't, here's part of mine:</p>\n\n<pre><code>&lt;system.web&gt;\n   &lt;authentication mode=\"None\" /&gt;\n   &lt;compilation debug=\"true\" targetFramework=\"4.5.2\" /&gt;\n   &lt;httpRuntime targetFramework=\"4.5.2\" /&gt;\n&lt;/system.web&gt;\n</code></pre>\n\n<p>You should now have MVC working in a ASP.Net project alongside Web API.</p>\n\n<p>For more organization, you can create an <a href=\"https://msdn.microsoft.com/en-us/library/ee671793%28v=vs.100%29.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow\">MVC Area</a>.  To get started you don't need Areas, and if you decide later to add Areas, it's easy to move existing MVC code into one or more new Areas.  </p>\n\n<p>For more information, read <a href=\"http://www.davepaquette.com/archive/2013/12/30/so-you-inherited-an-asp-net-web-forms-application.aspx\" rel=\"nofollow\">this blog post by David Paquette</a>.  Yes, the article is about Web Forms, but the instructions and concepts are congruent.  Plus, Web Forms is just an ASP.Net project <em>with Web Forms</em>, just like Web API.  </p>\n"}], "owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1173, "favorite_count": 0, "accepted_answer_id": 33793716, "answer_count": 2, "score": -2, "last_activity_date": 1447898020, "creation_date": 1447876451, "question_id": 33789145, "link": "https://stackoverflow.com/questions/33789145/use-asp-net-mvc-within-a-web-api-project", "title": "Use asp.net mvc within a web api project", "body": "<p>All Links I find talk about using an Web API inside a mvc project.</p>\n\n<p>But I want the opposite.</p>\n\n<p>I can not find any info about that scenario and how to integrate mvc into a web api project.</p>\n\n<p>Is it possible at all?</p>\n"}, {"tags": ["c#", "string", "null", "nullreferenceexception", "object-reference"], "comments": [{"owner": {"reputation": 9940, "user_id": 282144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2a65f435aff57a1efbc51623da2eefbc?s=128&d=identicon&r=PG", "display_name": "esskar", "link": "https://stackoverflow.com/users/282144/esskar"}, "edited": false, "score": 3, "creation_date": 1447876527, "post_id": 33789121, "comment_id": 55345270, "body": "are you sure that the code before the condition is not setting your variable to null?"}, {"owner": {"reputation": 2085, "user_id": 4372746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7421528d3e64e8186fcc0f6020cc1f14?s=128&d=identicon&r=PG&f=1", "display_name": "Glorin Oakenfoot", "link": "https://stackoverflow.com/users/4372746/glorin-oakenfoot"}, "edited": false, "score": 4, "creation_date": 1447876536, "post_id": 33789121, "comment_id": 55345279, "body": "<code>String.Empty</code> is the equivalent of <code>&quot;&quot;</code>.  There&#39;s got to be something relevant you aren&#39;t showing us."}, {"owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "edited": false, "score": 4, "creation_date": 1447876540, "post_id": 33789121, "comment_id": 55345283, "body": "This shouldn&#39;t fail. Clean/rebuild your project. restart visual studio, this <code>String _monthYr4 = String.Empty; Console.WriteLine(_monthYr4.Length);</code> should never fail."}, {"owner": {"reputation": 2762, "user_id": 4508432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b484752ee826147fc4b35e1c6706bb?s=128&d=identicon&r=PG&f=1", "display_name": "dmeglio", "link": "https://stackoverflow.com/users/4508432/dmeglio"}, "edited": false, "score": 2, "creation_date": 1447876679, "post_id": 33789121, "comment_id": 55345375, "body": "If you weren&#39;t setting it to anything before your code wouldn&#39;t have even compiled because you were using an undefined variable. That means there must be some code that is setting it to null."}, {"owner": {"reputation": 2085, "user_id": 4372746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7421528d3e64e8186fcc0f6020cc1f14?s=128&d=identicon&r=PG&f=1", "display_name": "Glorin Oakenfoot", "link": "https://stackoverflow.com/users/4372746/glorin-oakenfoot"}, "reply_to_user": {"reputation": 2762, "user_id": 4508432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b484752ee826147fc4b35e1c6706bb?s=128&d=identicon&r=PG&f=1", "display_name": "dmeglio", "link": "https://stackoverflow.com/users/4508432/dmeglio"}, "edited": false, "score": 0, "creation_date": 1447876741, "post_id": 33789121, "comment_id": 55345414, "body": "@dman2306 It looks like this is an instance variable, which <i>is</i> initialized to the default value of <code>null</code> automatically."}], "answers": [{"tags": [], "owner": {"reputation": 4029, "user_id": 170407, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a75384bf5d1a33902a2ddf5d1bc3c8a8?s=128&d=identicon&r=PG", "display_name": "FMM", "link": "https://stackoverflow.com/users/170407/fmm"}, "is_accepted": true, "score": 1, "last_activity_date": 1447876580, "creation_date": 1447876580, "answer_id": 33789188, "question_id": 33789121, "link": "https://stackoverflow.com/questions/33789121/why-is-a-string-assigned-string-empty-seen-as-null-c/33789188#33789188", "title": "Why is a string assigned String.Empty seen as null (C#)?", "body": "<p>Likely something is assigning null to that variable later on. Use ReSharper to find all references (Shift-F12) of _monthYr4, and make sure that all the write accesses can't assign null.</p>\n"}], "owner": {"reputation": 525, "user_id": 875317, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/tQ8Th.jpg?s=128&g=1", "display_name": "B. Clay Shannon", "link": "https://stackoverflow.com/users/875317/b-clay-shannon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "closed_date": 1447876808, "accepted_answer_id": 33789188, "answer_count": 1, "score": 0, "last_activity_date": 1447876580, "creation_date": 1447876379, "question_id": 33789121, "link": "https://stackoverflow.com/questions/33789121/why-is-a-string-assigned-string-empty-seen-as-null-c", "closed_reason": "Not suitable for this site", "title": "Why is a string assigned String.Empty seen as null (C#)?", "body": "<p>I originally had some conditional code like this:</p>\n\n<pre><code>String _monthYr4;\n. . .\nif (_monthYr4.Length &gt; 0)\n</code></pre>\n\n<p>...but when _monthYr4 was not assigned to prior to the conditional being reached, it blew up at run time, with the old chestnut, \"Object reference not set to an instance of an object.\"</p>\n\n<p>So I added what I thought was a default string value (albeit empty) to _monthYr4, like this:</p>\n\n<pre><code>private String _monthYr4 = String.Empty;\n</code></pre>\n\n<p>...but it still crashed in the exact same way. So I finally changed the conditional to this:</p>\n\n<pre><code>if (null != _monthYr4)\n</code></pre>\n\n<p>...and that works fine. But why? Shouldn't _monthYr4 be non-null, after assigning String.Empty to it?</p>\n\n<p>On a side note, before I assigned String.Empty to _monthYr4, it looked like this:</p>\n\n<pre><code>String _monthYr4;\n</code></pre>\n\n<p>...but after I assigned String.Empty to _monthYr4, Visual Studio (or Resharper, maybe?) automagically  prepended a \"private\" part so that it is:</p>\n\n<pre><code>private String _monthYr4 = String.Empty;\n</code></pre>\n\n<p>...but I don't know why.</p>\n"}, {"tags": ["c#", "visual-studio-2015", "code-snippets"], "comments": [{"owner": {"reputation": 9503, "user_id": 4270650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/88ba8368f50d9a96716c7205195df444?s=128&d=identicon&r=PG", "display_name": "Will Ray", "link": "https://stackoverflow.com/users/4270650/will-ray"}, "edited": false, "score": 0, "creation_date": 1447876568, "post_id": 33789102, "comment_id": 55345296, "body": "The VS snippets are located in &quot;~Program Files (x86)\\Microsoft Visual Studio 14.0\\VC#\\Snippets\\1033\\Visual C#&quot;. Are there .snippet files in that location?"}, {"owner": {"reputation": 25, "user_id": 3875020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1107fa4b82de29e7b62c7d522e315860?s=128&d=identicon&r=PG&f=1", "display_name": "Nining", "link": "https://stackoverflow.com/users/3875020/nining"}, "reply_to_user": {"reputation": 9503, "user_id": 4270650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/88ba8368f50d9a96716c7205195df444?s=128&d=identicon&r=PG", "display_name": "Will Ray", "link": "https://stackoverflow.com/users/4270650/will-ray"}, "edited": false, "score": 0, "creation_date": 1447886086, "post_id": 33789102, "comment_id": 55350610, "body": "Yes there are 38 .snippet files in there and code snippet manager also point to this folder."}, {"owner": {"reputation": 25, "user_id": 3875020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1107fa4b82de29e7b62c7d522e315860?s=128&d=identicon&r=PG&f=1", "display_name": "Nining", "link": "https://stackoverflow.com/users/3875020/nining"}, "reply_to_user": {"reputation": 9503, "user_id": 4270650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/88ba8368f50d9a96716c7205195df444?s=128&d=identicon&r=PG", "display_name": "Will Ray", "link": "https://stackoverflow.com/users/4270650/will-ray"}, "edited": false, "score": 2, "creation_date": 1447887029, "post_id": 33789102, "comment_id": 55350979, "body": "I have just tried to import all the files using code snippet manager, then I could select &quot;My Code Snippets&quot; folder or &quot;ASP.NET MVC 4&quot; folder, so I choosed &quot;My Code Snippets&quot; folder. It is working fine now. Not sure why the other folders are not working."}, {"owner": {"reputation": 9503, "user_id": 4270650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/88ba8368f50d9a96716c7205195df444?s=128&d=identicon&r=PG", "display_name": "Will Ray", "link": "https://stackoverflow.com/users/4270650/will-ray"}, "edited": false, "score": 0, "creation_date": 1447888308, "post_id": 33789102, "comment_id": 55351491, "body": "I&#39;m not certain off of the top of my head, either. Glad you got it working!"}, {"owner": {"reputation": 336, "user_id": 119239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f683a80ca1b3d583e580d3e93b7097b?s=128&d=identicon&r=PG", "display_name": "Emrah GOZCU", "link": "https://stackoverflow.com/users/119239/emrah-gozcu"}, "edited": false, "score": 0, "creation_date": 1448433845, "post_id": 33789102, "comment_id": 55582186, "body": "@Nining you should change your comment to an answer. Your solution is the work-around."}], "answers": [{"tags": [], "owner": {"reputation": 117, "user_id": 4012386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dA6ER.jpg?s=128&g=1", "display_name": "Rafael C&#243;rdova", "link": "https://stackoverflow.com/users/4012386/rafael-c%c3%b3rdova"}, "is_accepted": false, "score": 0, "last_activity_date": 1464807987, "last_edit_date": 1464807987, "creation_date": 1464804792, "answer_id": 37575971, "question_id": 33789102, "link": "https://stackoverflow.com/questions/33789102/visual-studio-2015-empty-code-snippets/37575971#37575971", "title": "Visual Studio 2015 empty code snippets", "body": "<p>Like you said in your comments, the workaround to this problem is to copy all the Visual C# code snippets located in <code>C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC#\\Snippets\\3082\\Visual C#</code> inside your Code Snippets folder located in <code>C:\\Users\\&lt;UserName&gt;\\Documents\\Visual Studio 2015\\Code Snippets</code>. Another solution or option is to use an external tool like <em>Visual Assis</em>t for <em>Visual Studio</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 5761877, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OFFCa.jpg?s=128&g=1", "display_name": "Juano", "link": "https://stackoverflow.com/users/5761877/juano"}, "is_accepted": false, "score": 0, "last_activity_date": 1467738186, "last_edit_date": 1495541778, "creation_date": 1467738186, "answer_id": 38208900, "question_id": 33789102, "link": "https://stackoverflow.com/questions/33789102/visual-studio-2015-empty-code-snippets/38208900#38208900", "title": "Visual Studio 2015 empty code snippets", "body": "<p>After a whole evening not finding an answer I found it in the most simple way:</p>\n\n<p>Inside C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC#\\Snippets there are two folders: 1033 and 3082. Copy the files and folders from 3082 to 1033. </p>\n\n<p>If you have the two folders try to copy and paste them, it worked like a charm for me and I tried \"imports\" before with no results.</p>\n\n<p>I found this solution here, I want to honor this guy (elmonopascual) but don't have the reputation yet to do so :) --> <a href=\"https://stackoverflow.com/a/36829804/5761877\">https://stackoverflow.com/a/36829804/5761877</a></p>\n"}], "owner": {"reputation": 25, "user_id": 3875020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1107fa4b82de29e7b62c7d522e315860?s=128&d=identicon&r=PG&f=1", "display_name": "Nining", "link": "https://stackoverflow.com/users/3875020/nining"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 869, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1467738186, "creation_date": 1447876296, "last_edit_date": 1447876429, "question_id": 33789102, "link": "https://stackoverflow.com/questions/33789102/visual-studio-2015-empty-code-snippets", "title": "Visual Studio 2015 empty code snippets", "body": "<p>I have using Visual Studio 2015 and have installed all available updates. \nWhen I am typing for/foreach and Tab, I won't get any snippet any more. I have tried the shortcut Ctrl+K, X, then get an empty list for snippets. I have run the repair Visual Studio and tried all suggestions I could find online, but the result is still the same. </p>\n\n<p><strong>VS screen shot</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/7IcTz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7IcTz.jpg\" alt=\"VS screen shot\"></a></p>\n"}, {"tags": ["c#", "sql-server", "entity-framework"], "comments": [{"owner": {"reputation": 593, "user_id": 2004122, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/RxVmP.jpg?s=128&g=1", "display_name": "Steven Ackley", "link": "https://stackoverflow.com/users/2004122/steven-ackley"}, "edited": false, "score": 0, "creation_date": 1447877046, "post_id": 33789032, "comment_id": 55345627, "body": "Has there been any new tables added to the model?"}, {"owner": {"reputation": 1504, "user_id": 224301, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/697fc9bc088df50876de1ee7b28e69f4?s=128&d=identicon&r=PG", "display_name": "Julen", "link": "https://stackoverflow.com/users/224301/julen"}, "reply_to_user": {"reputation": 593, "user_id": 2004122, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/RxVmP.jpg?s=128&g=1", "display_name": "Steven Ackley", "link": "https://stackoverflow.com/users/2004122/steven-ackley"}, "edited": false, "score": 0, "creation_date": 1447939034, "post_id": 33789032, "comment_id": 55375338, "body": "No, that is the thing. EF should not ask for any further migration."}], "answers": [{"tags": [], "owner": {"reputation": 1504, "user_id": 224301, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/697fc9bc088df50876de1ee7b28e69f4?s=128&d=identicon&r=PG", "display_name": "Julen", "link": "https://stackoverflow.com/users/224301/julen"}, "is_accepted": false, "score": 2, "last_activity_date": 1447939489, "creation_date": 1447939489, "answer_id": 33805216, "question_id": 33789032, "link": "https://stackoverflow.com/questions/33789032/entity-framework-does-not-create-a-new-migration-database-name-is-invalid/33805216#33805216", "title": "Entity Framework does not create a new migration: database name is invalid", "body": "<p>Finally the solution was quite straight forward, just run the <code>Add-Migration</code> command along with the <code>IgnoreChanges</code> parameter.</p>\n\n<p>This did not yeld any error and created a blank migration. Then, we updated the database without adding anything to the blank migration, deleted the files attached to it and we were able to create standard migrations again.</p>\n\n<p>Why EF could not add new migrations before and the origin of the error message is still a mistery to us.</p>\n\n<p>Thank you everyone for your help!</p>\n"}], "owner": {"reputation": 1504, "user_id": 224301, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/697fc9bc088df50876de1ee7b28e69f4?s=128&d=identicon&r=PG", "display_name": "Julen", "link": "https://stackoverflow.com/users/224301/julen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447939647, "creation_date": 1447876068, "last_edit_date": 1447939647, "question_id": 33789032, "link": "https://stackoverflow.com/questions/33789032/entity-framework-does-not-create-a-new-migration-database-name-is-invalid", "title": "Entity Framework does not create a new migration: database name is invalid", "body": "<p>We are using Entity Framework migrations in a project. So far we have added several migrations with no problem but it stopped working. Now whenever we try to add a migration EF shows an error with the following message: </p>\n\n<blockquote>\n  <p>The database name 'my-table-name' is invalid. Database names must be of the form [schema_name.]object_name.</p>\n</blockquote>\n\n<p>Furthermore if we execute the <code>update-database</code> command, EF tells us that the model does not match the database. But the model has not been changed (we want to create an \"empty\" migration).</p>\n\n<p>We have tried to go back to previous migrations, start from scratch but we always get the same result. Oddly enough sometimes the invalid table varies. We don't think is related to any pluralization issues on the context configuration.</p>\n\n<p>Any help will be greatly appreciated.</p>\n\n<ul>\n<li>Entity-Framework version: 6.1.3-40302</li>\n<li>Database: SQL Server 11.0.5058.0</li>\n</ul>\n"}, {"tags": ["c#", ".net", "sonarqube", "sonar-runner", "sonarqube5.1"], "answers": [{"comments": [{"owner": {"reputation": 21279, "user_id": 507793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6G686.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/507793/matthew"}, "edited": false, "score": 0, "creation_date": 1447948328, "post_id": 33799706, "comment_id": 55382245, "body": "I&#39;ll give this a try, can you answer whether it&#39;s typical for the behavior I am facing, if a file analyzed twice, you don&#39;t get analysis for it?"}], "tags": [], "owner": {"reputation": 2921, "user_id": 287740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6909efccb081a0ee8ccba82dd2f19828?s=128&d=identicon&r=PG", "display_name": "Dinesh Bolkensteyn", "link": "https://stackoverflow.com/users/287740/dinesh-bolkensteyn"}, "is_accepted": false, "score": 1, "last_activity_date": 1447924891, "creation_date": 1447924891, "answer_id": 33799706, "question_id": 33788988, "link": "https://stackoverflow.com/questions/33788988/gather-statistics-for-shared-project/33799706#33799706", "title": "Gather statistics for shared project", "body": "<p>In the shared app, you can conditionally set a <code>&lt;SonarQubeExclude&gt;true&lt;/SonarQubeExclude&gt;</code> property, such that it will be set only when building either <code>App.Web</code> or <code>App.Console</code>.</p>\n\n<p>You can find a proposal on how to achieve this in the Microsoft ALM Rangers guide to SonarQube under Appendix 3, \"Explicitly associating an MSBuild project with a SonarQube project\": <a href=\"http://redirect.sonarsource.com/doc/sq-setup-guide-for-dotnet-users.html\" rel=\"nofollow\">http://redirect.sonarsource.com/doc/sq-setup-guide-for-dotnet-users.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 491, "user_id": 4092546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mn5Q.jpg?s=128&g=1", "display_name": "Dennis Mieszala", "link": "https://stackoverflow.com/users/4092546/dennis-mieszala"}, "is_accepted": false, "score": 1, "last_activity_date": 1463774112, "creation_date": 1463774112, "answer_id": 37354852, "question_id": 33788988, "link": "https://stackoverflow.com/questions/33788988/gather-statistics-for-shared-project/37354852#37354852", "title": "Gather statistics for shared project", "body": "<p>The issue might be that you have an extra *.sln file in your solution.  I encountered this when there was an old, dormant .sln file in a project folder.  Deleting it resolved the issue.</p>\n"}], "owner": {"reputation": 21279, "user_id": 507793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6G686.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/507793/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1475598388, "creation_date": 1447875940, "question_id": 33788988, "link": "https://stackoverflow.com/questions/33788988/gather-statistics-for-shared-project", "title": "Gather statistics for shared project", "body": "<p>I have a C# solution with 3 projects.</p>\n\n<ul>\n<li>App.Console\\App.Console.csproj</li>\n<li>App.Web\\App.Web.csproj</li>\n<li>App.Shared\\App.Shared.csproj</li>\n</ul>\n\n<p>Both <code>App.Console</code> and <code>App.Web</code> reference <code>App.Shared</code>.  Currently, I build each project separately as they have slightly different MSBuild arguments.</p>\n\n<p>My current build process is as follows</p>\n\n<pre><code>MSBuild.SonarQube.Runner.exe begin /k:\"MyApp\" /n:\"My App\" /v:\"1.0\"\nmsbuild.exe msbuild App.Console\\App.Console.csproj /t:'Rebuild' /p:Configuration=Release /p:OutDir=C:\\Out\\Console\nmsbuild.exe msbuild App.Web\\App.Web.csproj /p:DeployOnBuild=True /p:DeployDefaultTarget=WebPublish /p:WebPublishMethod=FileSystem /p:DeleteExistingFiles=True /p:publishUrl=C:\\Out\\Web\nMSBuild.SonarQube.Runner.exe end\n</code></pre>\n\n<p>I see statistics for both <code>App.Console</code> and <code>App.Web</code>, however, <strong>statistics for <code>App.Shared</code> is missing</strong>.  Instead, I notice a warning in the SonarQube runner output.</p>\n\n<blockquote>\n  <p>WARNING: Duplicate project GUID: \"21889c3d-d9c4-40d6-a4e4-971735d19ee2\". Check that the project is only being built for a single platform/configuration and that that the project guid is unique. The project will not be analyzed by SonarQube. Project file: C:\\Projects\\MyApp\\App.Shared\\App.Shared.csproj</p>\n</blockquote>\n\n<p>I believe this warning is the root of my problem.</p>\n\n<p>If I do the following:</p>\n\n<pre><code>MSBuild.SonarQube.Runner.exe begin /k:\"MyConsoleApp\" /n:\"My Console App\" /v:\"1.0\"\nmsbuild.exe msbuild App.Console\\App.Console.csproj /t:'Rebuild' /p:Configuration=Release /p:OutDir=C:\\Out\\Console\nMSBuild.SonarQube.Runner.exe end\n\nMSBuild.SonarQube.Runner.exe begin /k:\"MyWebApp\" /n:\"My Web App\" /v:\"1.0\"\nmsbuild.exe msbuild App.Web\\App.Web.csproj /p:DeployOnBuild=True /p:DeployDefaultTarget=WebPublish /p:WebPublishMethod=FileSystem /p:DeleteExistingFiles=True /p:publishUrl=C:\\Out\\Web\nMSBuild.SonarQube.Runner.exe end\n</code></pre>\n\n<p>I now have 2 separate projects in SonarQube which both contain statistics for <code>App.Shared</code>.  This is bad because this information is duplicated between the two projects and does not accurately give me an overall technical debt for my solution.</p>\n\n<p>I have been able to get all three set of statistics in one project by building the solution only:</p>\n\n<pre><code>MSBuild.SonarQube.Runner.exe begin /k:\"MyApp\" /n:\"My App\" /v:\"1.0\"\nmsbuild.exe msbuild App.sln /t:'Rebuild' /p:Configuration=Release\nMSBuild.SonarQube.Runner.exe end\n</code></pre>\n\n<p>This is <em>not ideal</em> because building the solution does not build the web project the way I need, thus I must do a 2nd build <strong>after</strong> SonarQube completes (build the way <em>I</em> need it, not the way SonarQube wants it).</p>\n\n<p>Is it possible to run <code>msbuild</code> multiple times in-conjunction with the SonarQube MSBuild runner and get one set of complete statistics?</p>\n"}, {"tags": ["c#", "entity-framework", "edmx"], "comments": [{"owner": {"reputation": 1519, "user_id": 1726428, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cd4979ebad11e7266a4348e2ecfb47de?s=128&d=identicon&r=PG", "display_name": "InvisiblePanda", "link": "https://stackoverflow.com/users/1726428/invisiblepanda"}, "edited": false, "score": 0, "creation_date": 1447876096, "post_id": 33788945, "comment_id": 55344997, "body": "Do you set this in the designer or in the XML? Just guessing here, but in my project this setting does not ever reset after an &quot;Update model from database&quot;."}, {"owner": {"reputation": 243, "user_id": 2479684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8h5pC.jpg?s=128&g=1", "display_name": "raven-ai", "link": "https://stackoverflow.com/users/2479684/raven-ai"}, "reply_to_user": {"reputation": 1519, "user_id": 1726428, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cd4979ebad11e7266a4348e2ecfb47de?s=128&d=identicon&r=PG", "display_name": "InvisiblePanda", "link": "https://stackoverflow.com/users/1726428/invisiblepanda"}, "edited": false, "score": 0, "creation_date": 1447939444, "post_id": 33788945, "comment_id": 55375618, "body": "@InvisiblePanda I changed it in the designer.. in your projects is it a GUID field?"}, {"owner": {"reputation": 1519, "user_id": 1726428, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cd4979ebad11e7266a4348e2ecfb47de?s=128&d=identicon&r=PG", "display_name": "InvisiblePanda", "link": "https://stackoverflow.com/users/1726428/invisiblepanda"}, "edited": false, "score": 0, "creation_date": 1447945970, "post_id": 33788945, "comment_id": 55380490, "body": "Ah, from the answer below I guess the difference is that I&#39;m not using SQL Server at the moment, but Oracle, and with the sequences it works without resetting. Good luck then :)"}], "answers": [{"tags": [], "owner": {"reputation": 362, "user_id": 5415542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88ad8f37e833877483875efca62d1f30?s=128&d=identicon&r=PG", "display_name": "Manish Kumar", "link": "https://stackoverflow.com/users/5415542/manish-kumar"}, "is_accepted": false, "score": 2, "last_activity_date": 1447877623, "last_edit_date": 1447877623, "creation_date": 1447877189, "answer_id": 33789364, "question_id": 33788945, "link": "https://stackoverflow.com/questions/33788945/how-to-preserve-storegeneratedpattern-setting-when-refreshing-db-first-edmx/33789364#33789364", "title": "How to preserve StoreGeneratedPattern setting when refreshing DB First EDMX?", "body": "<p>That is because its not implicitly possible to set a GUID column as an auto incrementing identity in SQL Server. I know you can put a hack in place eg setting the default value for this \"so called\" identity column to newsequentialid() to automatically fill this column with a GUID but technically this column is not an identity column for this table per se. Obviously when EF generates the EDMX during \"Update model from DB\", it treats this column as a regular column and not as an auto incrementing identity hence, overwrites your manually edited StoreGeneratedPattern = Identity back to StoreGeneratedPattern = None.</p>\n\n<p>This is a hack and I would strongly suggest against making any changes to autogenerated code by EF. I've seen many developers getting burnt when they do so for an immediate remedy but when it comes back and bites them later they wish they never manipulated the auto generated code. </p>\n\n<p>Just a word of caution!!!</p>\n"}, {"tags": [], "owner": {"reputation": 1162, "user_id": 98317, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/21b52bf519befb001b84ae66b2e46efd?s=128&d=identicon&r=PG", "display_name": "Michael Sandler", "link": "https://stackoverflow.com/users/98317/michael-sandler"}, "is_accepted": false, "score": 0, "last_activity_date": 1452858016, "creation_date": 1452858016, "answer_id": 34810268, "question_id": 33788945, "link": "https://stackoverflow.com/questions/33788945/how-to-preserve-storegeneratedpattern-setting-when-refreshing-db-first-edmx/34810268#34810268", "title": "How to preserve StoreGeneratedPattern setting when refreshing DB First EDMX?", "body": "<p>All my Primary Keys are Guids with constraint <code>DEFAULT (newsequentialid())</code>. Ignoring @Manish's very good advice, I use the following two find-and-replace regexes in NotePad++ to update the <code>.edmx</code> file after updating from the DB:</p>\n\n<p><strong>Find #1:</strong> <code>(&lt;Key&gt;\\s*&lt;PropertyRef Name=\"([^\"]+)\" /&gt;\\s*&lt;/Key&gt;\\s*&lt;Property Name=\"\\2\" Type=\"uniqueidentifier\" )(Nullable=\"false\" /&gt;)</code></p>\n\n<p><strong>Replace #1:</strong> <code>\\1StoreGeneratedPattern=\"Identity\" \\3</code></p>\n\n<p><strong>Find #2:</strong> <code>(&lt;Key&gt;\\s*&lt;PropertyRef Name=\"([^\"]+)\" /&gt;\\s*&lt;/Key&gt;\\s*&lt;Property Name=\"\\2\" Type=\"Guid\" Nullable=\"false\" )(/&gt;)</code></p>\n\n<p><strong>Replace #2:</strong> <code>\\1annotation:StoreGeneratedPattern=\"Identity\" \\3</code></p>\n\n<p>This only works where the PK is the first field in the table.</p>\n\n<p>YMMV. Use at own risk.</p>\n"}], "owner": {"reputation": 243, "user_id": 2479684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8h5pC.jpg?s=128&g=1", "display_name": "raven-ai", "link": "https://stackoverflow.com/users/2479684/raven-ai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1395, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1452858016, "creation_date": 1447875774, "question_id": 33788945, "link": "https://stackoverflow.com/questions/33788945/how-to-preserve-storegeneratedpattern-setting-when-refreshing-db-first-edmx", "title": "How to preserve StoreGeneratedPattern setting when refreshing DB First EDMX?", "body": "<p>I have a Database First EDMX and one of the Entities has a Property that must be set as <strong>StoreGeneratedPattern = Identity</strong> in order to use sequential GUIDs as the primary key. </p>\n\n<p>This works correctly, however any time the model is refreshed with \"Update model from database\" the value is reset to <strong>StoreGeneratedPattern = None</strong>, and must be manually edited.</p>\n\n<p>It's a hassle and a significant source of potential human error, especially if multiple tables must be changed and multiple developers maybe making changes to the database and updating the EDMX as needed.</p>\n\n<p>I gathered there's no <em>simple</em> way to preserve the StoreGeneratedPattern value, but is there a <em>not simple</em> way? Maybe even an automated script that runs whenever the EDMX is updated and edits the EDMX? Any solution that doesn't involve having to know all the things that need to be edited?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["c#", "winforms", "datagridview"], "comments": [{"owner": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "edited": false, "score": 0, "creation_date": 1447875848, "post_id": 33788943, "comment_id": 55344839, "body": "Have you tried dataGridView1.Invalidate() or dataGridView1.Refresh()?"}, {"owner": {"reputation": 1702, "user_id": 3143065, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/qyVhK.jpg?s=128&g=1", "display_name": "Cjen1", "link": "https://stackoverflow.com/users/3143065/cjen1"}, "reply_to_user": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "edited": false, "score": 0, "creation_date": 1447876829, "post_id": 33788943, "comment_id": 55345479, "body": "Just worked it out I just had to set <code>AllowEdit</code> and <code>AllowNew</code> in the source for it to work"}], "owner": {"reputation": 1702, "user_id": 3143065, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/qyVhK.jpg?s=128&g=1", "display_name": "Cjen1", "link": "https://stackoverflow.com/users/3143065/cjen1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447875768, "creation_date": 1447875768, "question_id": 33788943, "link": "https://stackoverflow.com/questions/33788943/after-binding-a-datasource-to-a-datagridview-new-line-gui-doesnt-appear", "title": "After binding a datasource to a dataGridView new line GUI doesn&#39;t appear", "body": "<p>I'm trying to use a <code>BindingList</code> as my data source, however before I bound it I got a line like this is my <code>dataGridView</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9moDz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9moDz.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here I can add more rows to the table, however after I bound the <code>list</code> this is what appeared:</p>\n\n<p><a href=\"https://i.stack.imgur.com/l5pX0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l5pX0.png\" alt=\"enter image description here\"></a></p>\n\n<p>Hence I was wondering how to get this functionality back?</p>\n\n<p>I am using this code to use the <code>bindingList</code> as the datasource:</p>\n\n<pre><code>data = new BindingList&lt;Element&gt;();\ndataGridView1.DataSource = data;\ndataGridView1.AllowUserToAddRows = true;\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 6217, "user_id": 395500, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0b5bd8ba3af6a23f9aed2eea135a1f6f?s=128&d=identicon&r=PG", "display_name": "Marshal", "link": "https://stackoverflow.com/users/395500/marshal"}, "edited": false, "score": 1, "creation_date": 1447875549, "post_id": 33788849, "comment_id": 55344668, "body": "why not <code>orderby s.MonthName</code>"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1447875582, "post_id": 33788849, "comment_id": 55344688, "body": "if <code>MonthName</code> is a <code>string</code> you&#39;ll need to do something like <code>order by s.MonthName == &quot;Jan&quot; ? 1 : s.MonthName == &quot;Feb&quot; ? 2 : ...</code>."}, {"owner": {"reputation": 6144, "user_id": 441521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5bc98cddd5d06b2fd0c07a854e7fe15b?s=128&d=identicon&r=PG", "display_name": "user441521", "link": "https://stackoverflow.com/users/441521/user441521"}, "edited": false, "score": 1, "creation_date": 1447875585, "post_id": 33788849, "comment_id": 55344694, "body": "Because it&#39;s a string and won&#39;t order by the months correctly"}, {"owner": {"reputation": 6144, "user_id": 441521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5bc98cddd5d06b2fd0c07a854e7fe15b?s=128&d=identicon&r=PG", "display_name": "user441521", "link": "https://stackoverflow.com/users/441521/user441521"}, "edited": false, "score": 0, "creation_date": 1447875638, "post_id": 33788849, "comment_id": 55344721, "body": "Oh man, no better way :("}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1447875750, "post_id": 33788849, "comment_id": 55344782, "body": "@user441521 Not if you want to do the ordering in the DB.  Even in raw SQL I think you&#39;d have to do something with <code>CASE</code> to get it to work."}, {"owner": {"reputation": 6217, "user_id": 395500, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0b5bd8ba3af6a23f9aed2eea135a1f6f?s=128&d=identicon&r=PG", "display_name": "Marshal", "link": "https://stackoverflow.com/users/395500/marshal"}, "edited": false, "score": 0, "creation_date": 1447875809, "post_id": 33788849, "comment_id": 55344811, "body": "To parse by datetime, you need date and year part too"}, {"owner": {"reputation": 2023, "user_id": 4220169, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b71b07b928c4eddd58f75cf9465d3376?s=128&d=identicon&r=PG", "display_name": "David P", "link": "https://stackoverflow.com/users/4220169/david-p"}, "edited": false, "score": 0, "creation_date": 1447875842, "post_id": 33788849, "comment_id": 55344835, "body": "Do you actually want to order by MonthName as opposed to Month?"}, {"owner": {"reputation": 6144, "user_id": 441521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5bc98cddd5d06b2fd0c07a854e7fe15b?s=128&d=identicon&r=PG", "display_name": "user441521", "link": "https://stackoverflow.com/users/441521/user441521"}, "edited": false, "score": 0, "creation_date": 1447875875, "post_id": 33788849, "comment_id": 55344859, "body": "By Month. I was trying to convey that when I said &quot;I want the results sorted by the month (Jan, Feb, Mar, ...).&quot;"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1447875904, "post_id": 33788849, "comment_id": 55344877, "body": "You could create a table in your DB that maps the Month Name to a ordinal number, then join to that table in your query and use that to order by."}], "answers": [{"comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1447875799, "post_id": 33788930, "comment_id": 55344806, "body": "The alphabetical order of month names is not the same as their order as they occur within the year."}, {"owner": {"reputation": 6144, "user_id": 441521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5bc98cddd5d06b2fd0c07a854e7fe15b?s=128&d=identicon&r=PG", "display_name": "user441521", "link": "https://stackoverflow.com/users/441521/user441521"}, "edited": false, "score": 0, "creation_date": 1447875800, "post_id": 33788930, "comment_id": 55344807, "body": "Because MonthName is &quot;Jan&quot;, &quot;Feb&quot;, etc this won&#39;t order correctly because it&#39;s a string."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1447875988, "post_id": 33788930, "comment_id": 55344930, "body": "<code>DateTime.Parse</code> isn&#39;t going to work with EF.  That&#39;s the issue the OP is having in the first place."}, {"owner": {"reputation": 6144, "user_id": 441521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5bc98cddd5d06b2fd0c07a854e7fe15b?s=128&d=identicon&r=PG", "display_name": "user441521", "link": "https://stackoverflow.com/users/441521/user441521"}, "edited": false, "score": 0, "creation_date": 1447876098, "post_id": 33788930, "comment_id": 55344999, "body": "I get the idea. I guess I could do the if in my select to get the number and then select on that."}, {"owner": {"reputation": 6144, "user_id": 441521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5bc98cddd5d06b2fd0c07a854e7fe15b?s=128&d=identicon&r=PG", "display_name": "user441521", "link": "https://stackoverflow.com/users/441521/user441521"}, "edited": false, "score": 1, "creation_date": 1447876472, "post_id": 33788930, "comment_id": 55345234, "body": "This is what I ended up doing."}], "tags": [], "owner": {"reputation": 593, "user_id": 2004122, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/RxVmP.jpg?s=128&g=1", "display_name": "Steven Ackley", "link": "https://stackoverflow.com/users/2004122/steven-ackley"}, "is_accepted": false, "score": 0, "last_activity_date": 1447876256, "last_edit_date": 1447876256, "creation_date": 1447875724, "answer_id": 33788930, "question_id": 33788849, "link": "https://stackoverflow.com/questions/33788849/sort-by-month-in-linq-and-ef/33788930#33788930", "title": "Sort by month in linq and EF", "body": "<p>Something like this should work</p>\n\n<pre><code>var shockValues = ctx.Shocks.Where(s =&gt; s.ID == id).Select(x =&gt; new {x.MonthName, MonthNum = x.MonthName == \"Jan\" : 1 ? x.MonthName == \"Feb\" : 2 ? 0}).OrderBy(s =&gt; MonthNum).Select(s =&gt; new {val = s.MonthName + \"=\" + s.ShockValue}     \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6144, "user_id": 441521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5bc98cddd5d06b2fd0c07a854e7fe15b?s=128&d=identicon&r=PG", "display_name": "user441521", "link": "https://stackoverflow.com/users/441521/user441521"}, "edited": false, "score": 0, "creation_date": 1447876227, "post_id": 33789066, "comment_id": 55345094, "body": "LINQ to Entities does not recognize the method &#39;System.DateTime ToDateTime(System.String)&#39; method, and this method cannot be translated into a store expression."}, {"owner": {"reputation": 2023, "user_id": 4220169, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b71b07b928c4eddd58f75cf9465d3376?s=128&d=identicon&r=PG", "display_name": "David P", "link": "https://stackoverflow.com/users/4220169/david-p"}, "reply_to_user": {"reputation": 6144, "user_id": 441521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5bc98cddd5d06b2fd0c07a854e7fe15b?s=128&d=identicon&r=PG", "display_name": "user441521", "link": "https://stackoverflow.com/users/441521/user441521"}, "edited": false, "score": 0, "creation_date": 1447876325, "post_id": 33789066, "comment_id": 55345148, "body": "You did use &quot;Convert.ToDatetTime&quot; as opposed to &quot;System.DateTime.ToDatetTime&quot;, correct?"}, {"owner": {"reputation": 6144, "user_id": 441521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5bc98cddd5d06b2fd0c07a854e7fe15b?s=128&d=identicon&r=PG", "display_name": "user441521", "link": "https://stackoverflow.com/users/441521/user441521"}, "edited": false, "score": 0, "creation_date": 1447876587, "post_id": 33789066, "comment_id": 55345315, "body": "This is via EF so you can&#39;t use any of those functions directly."}], "tags": [], "owner": {"reputation": 2023, "user_id": 4220169, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b71b07b928c4eddd58f75cf9465d3376?s=128&d=identicon&r=PG", "display_name": "David P", "link": "https://stackoverflow.com/users/4220169/david-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1447876412, "last_edit_date": 1447876412, "creation_date": 1447876173, "answer_id": 33789066, "question_id": 33788849, "link": "https://stackoverflow.com/questions/33788849/sort-by-month-in-linq-and-ef/33789066#33789066", "title": "Sort by month in linq and EF", "body": "<p>Try:</p>\n\n<pre><code>orderby Convert.ToDateTime(s.MonthName + \" 1, \" + DateTime.Now.Year.ToString()).Month\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6144, "user_id": 441521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5bc98cddd5d06b2fd0c07a854e7fe15b?s=128&d=identicon&r=PG", "display_name": "user441521", "link": "https://stackoverflow.com/users/441521/user441521"}, "edited": false, "score": 0, "creation_date": 1447876542, "post_id": 33789140, "comment_id": 55345287, "body": "The in memory one is great. Thx!"}, {"owner": {"reputation": 9940, "user_id": 282144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2a65f435aff57a1efbc51623da2eefbc?s=128&d=identicon&r=PG", "display_name": "esskar", "link": "https://stackoverflow.com/users/282144/esskar"}, "reply_to_user": {"reputation": 6144, "user_id": 441521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5bc98cddd5d06b2fd0c07a854e7fe15b?s=128&d=identicon&r=PG", "display_name": "user441521", "link": "https://stackoverflow.com/users/441521/user441521"}, "edited": false, "score": 0, "creation_date": 1447876672, "post_id": 33789140, "comment_id": 55345370, "body": "@user441521 that is only a good idea when you do not expect lots of Shocks"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "reply_to_user": {"reputation": 9940, "user_id": 282144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2a65f435aff57a1efbc51623da2eefbc?s=128&d=identicon&r=PG", "display_name": "esskar", "link": "https://stackoverflow.com/users/282144/esskar"}, "edited": false, "score": 0, "creation_date": 1447876764, "post_id": 33789140, "comment_id": 55345432, "body": "@esskar Well the filtering is still done in the DB.  I guess it would be a little better to only select the required columns though."}], "tags": [], "owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "is_accepted": true, "score": 5, "last_activity_date": 1447876808, "last_edit_date": 1447876808, "creation_date": 1447876429, "answer_id": 33789140, "question_id": 33788849, "link": "https://stackoverflow.com/questions/33788849/sort-by-month-in-linq-and-ef/33789140#33789140", "title": "Sort by month in linq and EF", "body": "<p>You've got few options.  You could use a long list of optional operators to map the names to numbers</p>\n\n<pre><code>order by s.MonthName == \"Jan\" ? 1 : s.MonthName == \"Feb\" ? 2 : ...\n</code></pre>\n\n<p>You could create a table in your DB that maps the names to nummeric values</p>\n\n<pre><code>var shockValues = (from s in ctx.Shocks\n                   join o in MonthOrder on s.MonthName equals o.MonthName\n                   where s.ID == id\n                   orderby o.MonthNumber\n                   select new \n                   {\n                       val = s.MonthName + \"=\" + s.ShockValue\n                   });\n</code></pre>\n\n<p>Or do the ordering in memory</p>\n\n<pre><code>var shockValues = (from s in ctx.Shocks\n                   where s.ID == id\n                   select new\n                          {\n                              s.MonthName,\n                              s.ShockValue\n                          })\n                  .AsEnumerable()\n                  .OrderBy(s =&gt; DateTime.ParseExact(s.MonthName, \"MMM\", CultureInfo.InvariantCulture).Month)\n                  .Select(s =&gt; new \n                               {\n                                   val = s.MonthName + \"=\" + s.ShockValue\n                               });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6217, "user_id": 395500, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0b5bd8ba3af6a23f9aed2eea135a1f6f?s=128&d=identicon&r=PG", "display_name": "Marshal", "link": "https://stackoverflow.com/users/395500/marshal"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1447877120, "post_id": 33789242, "comment_id": 55345676, "body": "@juharr But names list is not an EF list its a normal string array."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1447877792, "post_id": 33789242, "comment_id": 55346071, "body": "EF still has to translate that to SQL"}, {"owner": {"reputation": 2023, "user_id": 4220169, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b71b07b928c4eddd58f75cf9465d3376?s=128&d=identicon&r=PG", "display_name": "David P", "link": "https://stackoverflow.com/users/4220169/david-p"}, "edited": false, "score": 0, "creation_date": 1447878273, "post_id": 33789242, "comment_id": 55346374, "body": "Juharr then probably has the right approach. Once you cast it to AsEnumerable then you should be able to use Cnvert and the other DateTime functions."}], "tags": [], "owner": {"reputation": 6217, "user_id": 395500, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0b5bd8ba3af6a23f9aed2eea135a1f6f?s=128&d=identicon&r=PG", "display_name": "Marshal", "link": "https://stackoverflow.com/users/395500/marshal"}, "is_accepted": false, "score": 0, "last_activity_date": 1447877370, "last_edit_date": 1447877370, "creation_date": 1447876785, "answer_id": 33789242, "question_id": 33788849, "link": "https://stackoverflow.com/questions/33788849/sort-by-month-in-linq-and-ef/33789242#33789242", "title": "Sort by month in linq and EF", "body": "<p>If you dont want to create a table in your database, you can do like</p>\n\n<pre><code>var names = DateTimeFormatInfo.CurrentInfo.MonthNames\n            .Take(12).Select(s =&gt; new[] {s.Substring(0,3)});\n</code></pre>\n\n<p>And then order against a separate list.</p>\n\n<pre><code>orderby names.IndexOf(s.MonthName)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 5110071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddba6cda7605b3de2fd7b6f88816472?s=128&d=identicon&r=PG&f=1", "display_name": "wesley7", "link": "https://stackoverflow.com/users/5110071/wesley7"}, "is_accepted": false, "score": 0, "last_activity_date": 1499174192, "creation_date": 1499174192, "answer_id": 44907107, "question_id": 33788849, "link": "https://stackoverflow.com/questions/33788849/sort-by-month-in-linq-and-ef/44907107#44907107", "title": "Sort by month in linq and EF", "body": "<p>The best way and easiest way is create a stored procedure </p>\n\n<pre><code>Create procedure sortevents\n   as\n SELECT *\n        FROM [SAGMJ].[dbo].[Events]\n        ORDER BY CASE \n                 WHEN MONTH([StartAt]) = MONTH(GETDATE())\n                    AND YEAR([StartAt])  = YEAR(GETDATE()) THEN 0\n                   ELSE 1\n                 END, [StartAt];\n</code></pre>\n\n<p>//Next call your sp</p>\n\n<pre><code>var v = (dc.sortevents()).ToList();\n</code></pre>\n"}], "owner": {"reputation": 6144, "user_id": 441521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5bc98cddd5d06b2fd0c07a854e7fe15b?s=128&d=identicon&r=PG", "display_name": "user441521", "link": "https://stackoverflow.com/users/441521/user441521"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1107, "favorite_count": 0, "accepted_answer_id": 33789140, "answer_count": 5, "score": 0, "last_activity_date": 1499174192, "creation_date": 1447875412, "last_edit_date": 1447876001, "question_id": 33788849, "link": "https://stackoverflow.com/questions/33788849/sort-by-month-in-linq-and-ef", "title": "Sort by month in linq and EF", "body": "<p>I have a linq query and inside of it is the month name. I want the results sorted by the month (Jan, Feb, Mar, ...).</p>\n\n<p>Currently I have the below but it's giving me and error:</p>\n\n<blockquote>\n  <p>LINQ to Entities does not recognize the method 'System.DateTime\n  Parse(System.String)' method, and this method cannot be translated\n  into a store expression.</p>\n</blockquote>\n\n<pre><code>var shockValues = (from s in ctx.Shocks\n                               where s.ID == id\n                               orderby DateTime.Parse(s.MonthName)\n                               select new \n                               {\n                                   val = s.MonthName + \"=\" + s.ShockValue\n                               });\n</code></pre>\n"}, {"tags": ["c#", "charts", "oxyplot", "stackedbarseries"], "owner": {"reputation": 11, "user_id": 5578214, "user_type": "registered", "profile_image": "https://graph.facebook.com/777704362340579/picture?type=large", "display_name": "Lucas Augusto", "link": "https://stackoverflow.com/users/5578214/lucas-augusto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1447875396, "creation_date": 1447875396, "question_id": 33788840, "link": "https://stackoverflow.com/questions/33788840/how-create-event-click-in-stacked-column-of-chart-oxyplot", "title": "How create event click in stacked column of chart oxyplot?", "body": "<p>I am trying to create an event just click on the column and not knowing how to do.\nSomeone has a tip ?\nI am making an android app using Xamarin . </p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "httpclient"], "answers": [{"comments": [{"owner": {"reputation": 607, "user_id": 3459652, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/BC2dT.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3459652/steve"}, "edited": false, "score": 0, "creation_date": 1447880643, "post_id": 33789086, "comment_id": 55347674, "body": "Hi esskar have you used a dictionary for speed?"}, {"owner": {"reputation": 9940, "user_id": 282144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2a65f435aff57a1efbc51623da2eefbc?s=128&d=identicon&r=PG", "display_name": "esskar", "link": "https://stackoverflow.com/users/282144/esskar"}, "reply_to_user": {"reputation": 607, "user_id": 3459652, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/BC2dT.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3459652/steve"}, "edited": false, "score": 0, "creation_date": 1447933602, "post_id": 33789086, "comment_id": 55371470, "body": "@Steve, no i just checked the constructor documentation <a href=\"https://msdn.microsoft.com/en-us/library/system.net.http.formurlencodedcontent.formurlencodedcontent(v=vs.118).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}], "tags": [], "owner": {"reputation": 9940, "user_id": 282144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2a65f435aff57a1efbc51623da2eefbc?s=128&d=identicon&r=PG", "display_name": "esskar", "link": "https://stackoverflow.com/users/282144/esskar"}, "is_accepted": false, "score": 0, "last_activity_date": 1447876254, "creation_date": 1447876254, "answer_id": 33789086, "question_id": 33788803, "link": "https://stackoverflow.com/questions/33788803/how-to-store-return-data-from-multiple-async-requests-using-httpclient-until-a/33789086#33789086", "title": "How to store return data from multiple async requests using HttpClient() until all requests complete?", "body": "<p>write a an asynchronous function that fires your post data (i just used your code, please add correct error/exception handling):</p>\n\n<pre><code>async Task&lt;string&gt; PostDataAsync(Dictionary&lt;string, string&gt; postData)\n{\n    var httpContent = new FormUrlEncodedContent(postData);           \n    var response = await client.PostAsync(\"/mydata\", httpContent).ConfigureAwait(false); \n\n    var responsecode = (int)response.StatusCode; \n\n    if (response.IsSuccessStatusCode)\n    {\n        var responseBodyAsText = await response.Content.ReadAsStringAsync().ConfigureAwait(false);\n        return responseBodyAsText;\n    }\n    else\n    {\n       return responsecode +\" \" +response.ReasonPhrase; \n    }\n}\n</code></pre>\n\n<p>Now, let's say you have a list of post data 'List> postDataCollection`, then build your requests</p>\n\n<pre><code>var postRequests = postDataCollection.Select(pd =&gt; PostDataAsync(pd)).ToArray();\n</code></pre>\n\n<p>and then wait for all of them to finish</p>\n\n<pre><code>var postResponses = await Task.WhenAll(postRequests);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 607, "user_id": 3459652, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/BC2dT.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3459652/steve"}, "edited": false, "score": 0, "creation_date": 1447880439, "post_id": 33789129, "comment_id": 55347569, "body": "Hi FMM When I call var tasks = myData .Select... does it need to be in a parallel.foreach loop or a simple foreach loop? And then call var resultsTask = Task... after the loop has finished?"}, {"owner": {"reputation": 4029, "user_id": 170407, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a75384bf5d1a33902a2ddf5d1bc3c8a8?s=128&d=identicon&r=PG", "display_name": "FMM", "link": "https://stackoverflow.com/users/170407/fmm"}, "reply_to_user": {"reputation": 607, "user_id": 3459652, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/BC2dT.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3459652/steve"}, "edited": false, "score": 0, "creation_date": 1447881065, "post_id": 33789129, "comment_id": 55347932, "body": "No reason to use a parallel foreach loop unless you&#39;ve got enough items in that collection that you need to farm it out to multiple cores."}, {"owner": {"reputation": 607, "user_id": 3459652, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/BC2dT.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3459652/steve"}, "edited": false, "score": 0, "creation_date": 1447927559, "post_id": 33789129, "comment_id": 55367184, "body": "Hi are you able to outline in more detail how you build up the link statement? Also, the main priority, can var resulsTask be called in a method that is itself not async? (to avoid a chain of methods having to become async!) Ta"}, {"owner": {"reputation": 4029, "user_id": 170407, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a75384bf5d1a33902a2ddf5d1bc3c8a8?s=128&d=identicon&r=PG", "display_name": "FMM", "link": "https://stackoverflow.com/users/170407/fmm"}, "reply_to_user": {"reputation": 607, "user_id": 3459652, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/BC2dT.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3459652/steve"}, "edited": false, "score": 0, "creation_date": 1447945588, "post_id": 33789129, "comment_id": 55380194, "body": "Added some comments to hopefully help answer your questions."}], "tags": [], "owner": {"reputation": 4029, "user_id": 170407, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a75384bf5d1a33902a2ddf5d1bc3c8a8?s=128&d=identicon&r=PG", "display_name": "FMM", "link": "https://stackoverflow.com/users/170407/fmm"}, "is_accepted": true, "score": 1, "last_activity_date": 1447945591, "last_edit_date": 1447945591, "creation_date": 1447876395, "answer_id": 33789129, "question_id": 33788803, "link": "https://stackoverflow.com/questions/33788803/how-to-store-return-data-from-multiple-async-requests-using-httpclient-until-a/33789129#33789129", "title": "How to store return data from multiple async requests using HttpClient() until all requests complete?", "body": "<p>Well, first, bear in mind that you've got an async problem here:</p>\n\n<pre><code> HttpContent httpContent = new FormUrlEncodedContent(postData);           \n\n // whoops! .Result makes this line synchronous.\n HttpResponseMessage response =  client.PostAsync(\"/mydata\", httpContent).Result;\n\n var responsecode = (int)response.StatusCode; \n\n if (response.IsSuccessStatusCode)\n {\n     var responseBodyAsText = await response.Content.ReadAsStringAsync();\n     return responseBodyAsText;\n }\n else\n {\n     return responsecode +\" \" +response.ReasonPhrase; \n }\n</code></pre>\n\n<p>Next, since <code>HttpClient</code> gives you a <code>Task&lt;HttpResponseMessage&gt;</code>, it seems that you want to have all of the responses, as strings, as something like, say, a <code>Task&lt;IEnumerable&lt;string&gt;&gt;</code>, right? We can easily write a function to turn a <code>Task&lt;HttpResponseMessage&gt;</code> into a <code>Task&lt;string&gt;</code>:</p>\n\n<pre><code>public async Task&lt;string&gt; ReadResultAsync(Task&lt;HttpResponseMessage&gt; responseTask)\n{\n    var response = await responseTask;\n\n    var responsecode = (int)response.StatusCode; \n\n    if (response.IsSuccessStatusCode)\n    {\n        var responseBodyAsText = await response.Content.ReadAsStringAsync();\n\n        return responseBodyAsText;\n    }\n    else\n    {\n        return responsecode + \" \" + response.ReasonPhrase; \n    }\n}\n</code></pre>\n\n<p>Now let's say you've got some collection of post data that you need to turn into this async collection of strings, called <code>myData</code>:</p>\n\n<pre><code>// bear in mind, this code doesn't (necessarily) need to be in a\n//  method marked \"async\". If you want to await on resultsTask, though,\n//  it would need to be in an async method.\n\nvar tasks = myData\n    .Select(x =&gt; new FormUrlEncodedContent(x)) //  IEnumerable&lt;FormUrlEncodedContent&gt;\n    .Select(x =&gt; client.PostAsync(\"/mydata\", x)) // IEnumerable&lt;Task&lt;HttpResponseMessage&gt;&gt;\n    .Select(x =&gt; ReadResultAsync(x)) // IEnumerable&lt;Task&lt;string&gt;&gt;\n    .ToArray(); // Task&lt;string&gt;[]\n\nvar resultsTask = Task.WhenAll(tasks); // here is Task&lt;string[]&gt;\n</code></pre>\n"}], "owner": {"reputation": 607, "user_id": 3459652, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/BC2dT.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3459652/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1116, "favorite_count": 1, "accepted_answer_id": 33789129, "answer_count": 2, "score": 3, "last_activity_date": 1447945591, "creation_date": 1447875266, "last_edit_date": 1447875571, "question_id": 33788803, "link": "https://stackoverflow.com/questions/33788803/how-to-store-return-data-from-multiple-async-requests-using-httpclient-until-a", "title": "How to store return data from multiple async requests using HttpClient() until all requests complete?", "body": "<p>I need to iterate through a series of post requests for data from a url. The requests need to be async. What is the best way to check all returns have completed, and to store that data until all data returned? Prefer to use HttpClient()</p>\n\n<p>Code snippet:</p>\n\n<pre><code>     HttpContent httpContent = new FormUrlEncodedContent(postData);           \n     HttpResponseMessage response =  client.PostAsync(\"/mydata\", httpContent).Result; \n\n     var responsecode = (int)response.StatusCode; \n\n     if (response.IsSuccessStatusCode)\n     {\n         var responseBodyAsText = await response.Content.ReadAsStringAsync();\n         return responseBodyAsText;\n     }\n     else\n     {\n         return responsecode +\" \" +response.ReasonPhrase; \n     }\n</code></pre>\n\n<p>`</p>\n"}, {"tags": ["c#", "asp.net-web-api", "asp.net-web-api2", "automapper", "simple-injector"], "comments": [{"owner": {"reputation": 468, "user_id": 207420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4543ffcd001928f8340de26cf570e892?s=128&d=identicon&r=PG", "display_name": "Apocatastasis", "link": "https://stackoverflow.com/users/207420/apocatastasis"}, "edited": false, "score": 1, "creation_date": 1447883847, "post_id": 33788762, "comment_id": 55349508, "body": "Hi Guillermo.  Problaby your problem is tied only to Automapper and SimpleInjector, WebApi is beside.  You must try the following in order to help you easily: 1.  Prepare a unit test demostrating the problem. 2.  Try to replace Automapper (e.g. with Value Injecter <a href=\"https://valueinjecter.codeplex.com/\" rel=\"nofollow noreferrer\">valueinjecter.codeplex.com</a> in order to determine if is a mapping problem). 3.  Try to replace SimpleInjector (e.g. with Windsor). This might provide some light in your darkness."}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1447884754, "post_id": 33788762, "comment_id": 55349999, "body": "Are you grtting any exception?  If so, please post the complete exception with inner exceptions and stack trace."}, {"owner": {"reputation": 4083, "user_id": 723059, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8baea4cb65bf22ba6aae4cff0a64ef89?s=128&d=identicon&r=PG", "display_name": "polonskyg", "link": "https://stackoverflow.com/users/723059/polonskyg"}, "reply_to_user": {"reputation": 468, "user_id": 207420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4543ffcd001928f8340de26cf570e892?s=128&d=identicon&r=PG", "display_name": "Apocatastasis", "link": "https://stackoverflow.com/users/207420/apocatastasis"}, "edited": false, "score": 0, "creation_date": 1447899279, "post_id": 33788762, "comment_id": 55354951, "body": "Hi @Apocatastasis, changing the IoC container is not an option for me as I&#39;m doing a &quot;plugin system&quot; to a bigger one already using it. I know it&#39;s a mapping problem. The problem is that IMappingEngine mappingEngine is not being injected into the Model&#39;s constructor. The problem is how to make it work.  Added error description to the question above."}, {"owner": {"reputation": 4083, "user_id": 723059, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8baea4cb65bf22ba6aae4cff0a64ef89?s=128&d=identicon&r=PG", "display_name": "polonskyg", "link": "https://stackoverflow.com/users/723059/polonskyg"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1447899294, "post_id": 33788762, "comment_id": 55354956, "body": "@Steven the error message is this:  Type needs to have a constructor with 0 args or only optional args\\r\\nParameter name: type  The problem is that IMappingEngine mappingEngine is not being injected into the Model&#39;s constructor. That&#39;s why the message says so, there is only one constructor for the Model with parameter.  Added error description to the question above."}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "reply_to_user": {"reputation": 468, "user_id": 207420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4543ffcd001928f8340de26cf570e892?s=128&d=identicon&r=PG", "display_name": "Apocatastasis", "link": "https://stackoverflow.com/users/207420/apocatastasis"}, "edited": false, "score": 0, "creation_date": 1447917644, "post_id": 33788762, "comment_id": 55361150, "body": "You misinterpreted @Apocatastasis comment. He doesn&#39;t advice you to move away from Simple Injector, he merely advices you to devide and conquer to pin point the problem. Build a minimal reproducible example. If you switch containers in that setup, and the problem goes away, you know the problem is in the DI configuration."}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1447917795, "post_id": 33788762, "comment_id": 55361216, "body": "Please add the full stack trace to your question. What I can tell you already however is that this is NOT an exception thrown by Simple Injector."}, {"owner": {"reputation": 4083, "user_id": 723059, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8baea4cb65bf22ba6aae4cff0a64ef89?s=128&d=identicon&r=PG", "display_name": "polonskyg", "link": "https://stackoverflow.com/users/723059/polonskyg"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1447936672, "post_id": 33788762, "comment_id": 55373635, "body": "@Steven I&#39;ve added the Stacktrace along with the lines where the exception is thrown. I should have said that this is an Automapper exception but it is thrown because the IMappingEngine is not injected."}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1447937088, "post_id": 33788762, "comment_id": 55373932, "body": "You didn&#39;t post the complete stack trace. There are inner exceptions and they have their stack trace as well."}], "answers": [{"comments": [{"owner": {"reputation": 4083, "user_id": 723059, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8baea4cb65bf22ba6aae4cff0a64ef89?s=128&d=identicon&r=PG", "display_name": "polonskyg", "link": "https://stackoverflow.com/users/723059/polonskyg"}, "edited": false, "score": 0, "creation_date": 1447963317, "post_id": 33804543, "comment_id": 55392048, "body": "hmm...those are Dto classes, not domain classes, not sure if it&#39;s the same case...will read that article anyways...thx"}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "reply_to_user": {"reputation": 4083, "user_id": 723059, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8baea4cb65bf22ba6aae4cff0a64ef89?s=128&d=identicon&r=PG", "display_name": "polonskyg", "link": "https://stackoverflow.com/users/723059/polonskyg"}, "edited": false, "score": 0, "creation_date": 1447963469, "post_id": 33804543, "comment_id": 55392137, "body": "@polonskyg: For DTOs the same thing holds, but I would say the argument is even stronger. While entities can make use of services (when applying Domain-Driven Design), DTOs should contain no logic at all (they are called <b><i>Data</b> transfer objects</i> for a reason), so injecting dependencies into them is a real big no-no."}, {"owner": {"reputation": 4083, "user_id": 723059, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8baea4cb65bf22ba6aae4cff0a64ef89?s=128&d=identicon&r=PG", "display_name": "polonskyg", "link": "https://stackoverflow.com/users/723059/polonskyg"}, "edited": false, "score": 1, "creation_date": 1448023849, "post_id": 33804543, "comment_id": 55419284, "body": "I gave it another thought and I think you&#39;re right, Why having an IMappingEngine inside what&#39;s being Mapped? That&#39;s a now, Controller will be responsible of converting Entities to Dtos and the one receiving the IMappingEngine. Thx!"}], "tags": [], "owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "is_accepted": true, "score": 1, "last_activity_date": 1447937586, "creation_date": 1447937586, "answer_id": 33804543, "question_id": 33788762, "link": "https://stackoverflow.com/questions/33788762/automapper-not-instantiating-imappingengine-using-simpleinjector-and-webapi2/33804543#33804543", "title": "AutoMapper not instantiating IMappingEngine using SimpleInjector and WebApi2", "body": "<p>Since your <code>EntityController</code> is resolved correctly by Simple Injector, and it depends on <code>IMapperEngine</code> you can rest assure that the mapper engine is injected correctly. What might be happening is that the registered <code>Mapper.Engine</code> is not correctly initialized at that point, but I'm just guessing about this. An Automapper expert should be able to see what's going wrong here.</p>\n\n<p>The core of your problem however is that you try to do dependency injection into domain entities. Take a look at <a href=\"https://lostechies.com/jimmybogard/2010/04/14/injecting-services-into-entities/\" rel=\"nofollow\">this article from Jimmy Bogard</a> (the creator of Automapper) who explains why this is a bad idea.</p>\n\n<p>Once you stop requiring service dependencies during the initialization of your entities, this problem will go away completely.</p>\n"}], "owner": {"reputation": 4083, "user_id": 723059, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8baea4cb65bf22ba6aae4cff0a64ef89?s=128&d=identicon&r=PG", "display_name": "polonskyg", "link": "https://stackoverflow.com/users/723059/polonskyg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 986, "favorite_count": 0, "accepted_answer_id": 33804543, "answer_count": 1, "score": 0, "last_activity_date": 1447937586, "creation_date": 1447875139, "last_edit_date": 1447936905, "question_id": 33788762, "link": "https://stackoverflow.com/questions/33788762/automapper-not-instantiating-imappingengine-using-simpleinjector-and-webapi2", "title": "AutoMapper not instantiating IMappingEngine using SimpleInjector and WebApi2", "body": "<p>I'm starting to use AutoMapper (latest version from Nuget) into my project (WebApi2, framework 4.5.1) and using SimpleInjector (latest version from Nuget).</p>\n\n<p>My problem is that I don't know how to configure SimpleInjector to inject IMappingEngine into my models by constructor. </p>\n\n<p><strong>Right now I'm getting the error:</strong>\n    <strong>Unmapped properties: MappingEngine</strong></p>\n\n<p>I'm using the IMappingEngine interface.</p>\n\n<p>I have a AutoMapperProfile class with all the Mapper.CreateMap&lt;></p>\n\n<p><strong>Example of AutoMapperConfig</strong> </p>\n\n<pre><code>public class WebApiAutomapperProfile : Profile\n{\n    /// &lt;summary&gt;\n    /// The configure.\n    /// &lt;/summary&gt;\n    protected override void Configure()\n    {\n        this.CreateMap&lt;Entity, EntityModel&gt;();\n    }\n}\n</code></pre>\n\n<p>The reason the models are receiving an IMappingEngine is that some mappings attributes have other mapping inside.</p>\n\n<p>In <strong>Global.asax</strong> (method Application_Start()) I'm calling:</p>\n\n<pre><code> GlobalConfiguration.Configure(WebApiConfig.Register);\n\n webApiContainer = new Container();\n\n webApiContainer.Options.DefaultScopedLifestyle = new WebApiRequestLifestyle();\n\n IocConfig.RegisterIoc(GlobalConfiguration.Configuration, webApiContainer);\n</code></pre>\n\n<p><strong>IocConfig.cs</strong></p>\n\n<pre><code>public static class IocConfig\n{\n    public static void RegisterIoc(HttpConfiguration config, Container container)\n    {\n        InstallDependencies(container);\n        RegisterDependencyResolver(container);\n    }\n\n    private static void InstallDependencies(Container container)\n    {\n        new ServiceInstallerSimpleInjector().Install(container);\n    }\n\n    private static void RegisterDependencyResolver(Container container)\n    {\n        GlobalConfiguration.Configuration.DependencyResolver = new SimpleInjectorWebApiDependencyResolver(container);\n    }\n</code></pre>\n\n<p><strong>ServiceInstallerSimpleInjector</strong> </p>\n\n<pre><code>public class ServiceInstallerSimpleInjector : IServiceInstallerSimpleInjector\n{\n    // Automapper registrations\n    container.Register(typeof(ITypeMapFactory), typeof(TypeMapFactory), Lifestyle.Scoped);\n    container.RegisterCollection&lt;IObjectMapper&gt;(MapperRegistry.Mappers);\n\n    var configurationRegistration = Lifestyle.Scoped.CreateRegistration&lt;ConfigurationStore&gt;(container);\n    container.AddRegistration(typeof(IConfiguration), configurationRegistration);\n    container.AddRegistration(typeof(IConfigurationProvider), configurationRegistration);\n\n    // The initialization runs all the map creation once so it is then done when you come to do your mapping. \n    // You can create a map whenever you want, but this will slow your code down as the mapping creation involves reflection.\n\n    Mapper.Initialize(config =&gt;\n    {\n        config.ConstructServicesUsing(container.GetInstance);\n        config.AddProfile(new WebApiAutomapperProfile());\n        config.AddGlobalIgnore(\"Errors\");\n        config.AddGlobalIgnore(\"IsModelValid\");\n        config.AddGlobalIgnore(\"BaseValidator\");\n        config.AddGlobalIgnore(\"AuditInformation\");\n     });\n\n     container.RegisterSingleton&lt;IMappingEngine&gt;(Mapper.Engine);\n\n     Mapper.AssertConfigurationIsValid();\n\n     container.RegisterWebApiControllers(GlobalConfiguration.Configuration);\n\n     container.Verify();\n}\n</code></pre>\n\n<p>Then each <strong>Controller</strong> receives a IMappingEngine in the constructor and uses:</p>\n\n<pre><code>MappingEngine.Map&lt;&gt;\n</code></pre>\n\n<p><strong>Models class sample</strong> </p>\n\n<pre><code>public class EntityModel : BaseModel.BaseModel&lt;EntityModel &gt;\n{\n    public EntityModel(IMappingEngine mappingEngine) : base(mappingEngine)\n    {\n    }\n}\n</code></pre>\n\n<p><strong>BaseModel</strong></p>\n\n<pre><code>public abstract class BaseModel&lt;T&gt; : IBaseModel\n        where T : class\n{\n    public IMappingEngine MappingEngine { get; set; }\n\n    protected BaseModel(IMappingEngine mappingEngine)\n    {\n        this.MappingEngine = mappingEngine;\n    }\n}\n</code></pre>\n\n<p><strong>The error message says:</strong></p>\n\n<pre><code>Type needs to have a constructor with 0 args or only optional args\\r\\nParameter name: type\n\nMapping types:\nEntity -&gt; EntityModel\nModel.Entity -&gt; WebApi.Models.EntityModel\n\nDestination path:\nEntityModel\n\nSource value:\nSystem.Data.Entity.DynamicProxies.Entity_1D417730D5BE3DEAF6292D57AB49B32FA18136A1DCF74193E8716EC6EE4DC62B\n</code></pre>\n\n<p>The problem is that IMappingEngine mappingEngine is not being injected into the Model's constructor. The problem is how to make it work.</p>\n\n<p><strong>The error is thrown when I'm trying to do a .Map</strong></p>\n\n<pre><code>return this.MappingEngine.Map&lt;Entity,EntityModel&gt;(this.EntityRepository.AllMaterialized().FirstOrDefault());\n</code></pre>\n\n<p><strong>And this is the Stacktrace</strong></p>\n\n<pre><code>   at WebApi.Controllers.Api.EntityController.Get() in c:\\Users\\Guillermo\\Downloads\\Backend\\WebApi\\Controllers\\Api\\EntityController.cs:line 108\n   at lambda_method(Closure , Object , Object[] )\n   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.&lt;&gt;c__DisplayClass10.&lt;GetExecutor&gt;b__9(Object instance, Object[] methodParameters)\n   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)\n   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)\n</code></pre>\n\n<p>Anything missing or wrong?</p>\n\n<p>Thanks in advance! Guillermo.</p>\n"}, {"tags": ["c#", "c++", "cryptography", "wincrypt"], "comments": [{"owner": {"reputation": 927, "user_id": 5476263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n8bho.jpg?s=128&g=1", "display_name": "Marco Fatica", "link": "https://stackoverflow.com/users/5476263/marco-fatica"}, "edited": false, "score": 2, "creation_date": 1447875396, "post_id": 33788687, "comment_id": 55344569, "body": "check this previous question it should have everything you need: <a href=\"http://stackoverflow.com/questions/935664/possible-to-call-c-code-from-c\" title=\"possible to call c code from c\">stackoverflow.com/questions/935664/&hellip;</a>"}, {"owner": {"reputation": 299, "user_id": 4111264, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6eNho.jpg?s=128&g=1", "display_name": "lucas.mdo", "link": "https://stackoverflow.com/users/4111264/lucas-mdo"}, "reply_to_user": {"reputation": 927, "user_id": 5476263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n8bho.jpg?s=128&g=1", "display_name": "Marco Fatica", "link": "https://stackoverflow.com/users/5476263/marco-fatica"}, "edited": false, "score": 0, "creation_date": 1447972926, "post_id": 33788687, "comment_id": 55397177, "body": "@MarcoFatica Thanks for the link, even thought doesn&#39;t seem that simple (deep down, I knew it wouldn&#39;t be), I&#39;ll study it and give it a shot."}], "owner": {"reputation": 299, "user_id": 4111264, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6eNho.jpg?s=128&g=1", "display_name": "lucas.mdo", "link": "https://stackoverflow.com/users/4111264/lucas-mdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 247, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1447874901, "creation_date": 1447874901, "question_id": 33788687, "link": "https://stackoverflow.com/questions/33788687/using-the-same-cryptography-approach-in-both-c-and-c", "title": "Using the same cryptography approach in both C++ and C#", "body": "<p><strong>CONTEXT:</strong> I'm developing an application that requires a licensing process to add some security to it. The application is major C#, but it has a small portion (an independent module, in fact) of it written in C++.</p>\n\n<p>The latter already has a licensing process implemented, which in summary consists of: when the app initializes, it looks for a license file containing encrypted info, generated by the developers based on some customer info (a <code>string</code>). If the file is valid, the app continues your execution, otherwise, it shuts down. The important part of it is that it uses the <code>wincrypt.h</code> library to add cryptography to strings.</p>\n\n<p><strong>DESIRE:</strong> Both parts (or modules) must have a license-based security and should share the same license file.</p>\n\n<p><strong>PROBLEM:</strong> I'm trying to adapt the security process described before to C# in order to use it on the other part of the app. I haven't found a way of using <code>wincrypt.h</code> functions to do so (maybe because my knownledge of C# is not that great, or maybe because I simply can't do that). I ended up using RSA, but I ended up with two different cryptograph methods.</p>\n\n<p><strong>QUESTION:</strong> Is there a way of using <code>wincrypt.h</code> in C#? If not, is there any other way of developing a (en|de)cription of a <code>string</code> process that can be used in both C++ and C#?</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["c#", "sql", "asp.net", "sql-server", "sql-server-2008-r2"], "comments": [{"owner": {"reputation": 5480, "user_id": 1264360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed97babb5c190f0eacce8cb27affe733?s=128&d=identicon&r=PG", "display_name": "Shawn C.", "link": "https://stackoverflow.com/users/1264360/shawn-c"}, "edited": false, "score": 3, "creation_date": 1447875081, "post_id": 33788641, "comment_id": 55344387, "body": "Multiple by 100 on Save and Divide by 100 on Retrieve. But this requires every process looking at field to understand that is what is going on."}, {"owner": {"reputation": 4595, "user_id": 314507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35fa938f2b64b7620be0181281f2ae1?s=128&d=identicon&r=PG", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/314507/jeremy"}, "edited": false, "score": 2, "creation_date": 1447875292, "post_id": 33788641, "comment_id": 55344501, "body": "the problem could be in your stored procedure parameter declaration. if you declare as just DECIMAL, it is just a whole number. a declaration of DECIMAL(10,2) gives you 2 decimal places."}, {"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 0, "creation_date": 1447875885, "post_id": 33788641, "comment_id": 55344865, "body": "Just <code>NUMERIC</code> or <code>DECIMAL</code> has a precision (after-the-comma digits) of <b>0</b> - no after-comma digits. Therefore, it only stores the &quot;integer&quot; part. You need to be <b>explicit</b> about what you need - use <code>DECIMAL(18,2)</code> or whatever makes sense - the first number is the number of <b>total digits</b> while the second number is the number of digits <i>after</i> the decimal point - in this case, 18 total digits, 2 of which after the decimal point (and therefore 16 before the decimal point)"}, {"owner": {"reputation": 4595, "user_id": 314507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35fa938f2b64b7620be0181281f2ae1?s=128&d=identicon&r=PG", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/314507/jeremy"}, "reply_to_user": {"reputation": 5480, "user_id": 1264360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed97babb5c190f0eacce8cb27affe733?s=128&d=identicon&r=PG", "display_name": "Shawn C.", "link": "https://stackoverflow.com/users/1264360/shawn-c"}, "edited": false, "score": 0, "creation_date": 1447875982, "post_id": 33788641, "comment_id": 55344929, "body": "one thought...what is the actual data type declaration in the table itself? Is it just NUMERIC with no parens afterwards? if that it the case it is essentially an INT, and you have to follow the advice of @ShawnC."}, {"owner": {"reputation": 653, "user_id": 3581526, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/31lGf.png?s=128&g=1", "display_name": "Nickso", "link": "https://stackoverflow.com/users/3581526/nickso"}, "edited": false, "score": 0, "creation_date": 1447876099, "post_id": 33788641, "comment_id": 55345000, "body": "You are right, I forgot to put that on the thread, it is numeric(9, 3) Let me edit it"}], "answers": [{"comments": [{"owner": {"reputation": 653, "user_id": 3581526, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/31lGf.png?s=128&g=1", "display_name": "Nickso", "link": "https://stackoverflow.com/users/3581526/nickso"}, "edited": false, "score": 0, "creation_date": 1447877545, "post_id": 33788851, "comment_id": 55345925, "body": "Space, I saw that previously some of my colleagues solve this problem like this: They changed the type of weight as <code>nvarchar</code>, so is like follows <code>@weight NVARCHAR(MAX),</code>  And make a convert; <code>p301_weight = CONVERT(NUMERIC(9,3),@weight)</code>  Is this wrong? or is another way to do it?"}, {"owner": {"reputation": 7514, "user_id": 7141, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/494dae39f3fd3c1e00518c4153e6a955?s=128&d=identicon&r=PG", "display_name": "HasaniH", "link": "https://stackoverflow.com/users/7141/hasanih"}, "reply_to_user": {"reputation": 653, "user_id": 3581526, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/31lGf.png?s=128&g=1", "display_name": "Nickso", "link": "https://stackoverflow.com/users/3581526/nickso"}, "edited": false, "score": 0, "creation_date": 1447877695, "post_id": 33788851, "comment_id": 55346013, "body": "@Nickso I wouldn&#39;t say it&#39;s wrong but in my opinion it&#39;s bad practice. You have an addition CONVERT that is unnecessary and you also open up the possibility of getting input that fails to CONVERT. What if someone calls the procedure with abcd?"}, {"owner": {"reputation": 653, "user_id": 3581526, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/31lGf.png?s=128&g=1", "display_name": "Nickso", "link": "https://stackoverflow.com/users/3581526/nickso"}, "edited": false, "score": 0, "creation_date": 1447877863, "post_id": 33788851, "comment_id": 55346112, "body": "So, even If I have a javascript that validates that textbox as numbers is not that good of a practice right?"}], "tags": [], "owner": {"reputation": 7514, "user_id": 7141, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/494dae39f3fd3c1e00518c4153e6a955?s=128&d=identicon&r=PG", "display_name": "HasaniH", "link": "https://stackoverflow.com/users/7141/hasanih"}, "is_accepted": true, "score": 4, "last_activity_date": 1447876208, "last_edit_date": 1447876208, "creation_date": 1447875434, "answer_id": 33788851, "question_id": 33788641, "link": "https://stackoverflow.com/questions/33788641/save-a-decimal-value-into-a-numeric-field-sql/33788851#33788851", "title": "Save a decimal value into a numeric field SQL", "body": "<p>You need to set the precision and scale on your decimal and numeric declarations in your stored procedure. If you don't when you assign 0.5 to your decimal it will already be converted to 1 and your numeric will also be one. See <a href=\"https://msdn.microsoft.com/en-us/library/ms187746.aspx\" rel=\"nofollow\">here</a></p>\n\n<p>So your stored procedure should look like:</p>\n\n<pre><code> @weight DECIMAL(9,3), \n ...\n p301_weight = @weight\n</code></pre>\n\n<p>The precision and scale you use should match what's set on the column in the table. If the table can only do whole numbers then you'll have to do something like what @Shawn C suggested and convert it to a whole number by multiplying then dividing to go the other way.</p>\n"}], "owner": {"reputation": 653, "user_id": 3581526, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/31lGf.png?s=128&g=1", "display_name": "Nickso", "link": "https://stackoverflow.com/users/3581526/nickso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2741, "favorite_count": 0, "accepted_answer_id": 33788851, "answer_count": 1, "score": 1, "last_activity_date": 1447876208, "creation_date": 1447874772, "last_edit_date": 1447876132, "question_id": 33788641, "link": "https://stackoverflow.com/questions/33788641/save-a-decimal-value-into-a-numeric-field-sql", "title": "Save a decimal value into a numeric field SQL", "body": "<p>I have the following in my code behind:</p>\n\n<pre><code>protected void SaveValue_Click(object sender, EventArgs e)\n{\n        ArticleDBHQ article = new ArticleDBHQ();\n        article.Weight = Convert.ToDecimal(tbWeight.Text);\n}\n</code></pre>\n\n<p>In my <code>ArticleDBHQ</code> class the member variable <code>Weight</code> is as follows:</p>\n\n<pre><code>public class ArticleDBHQ : Entity\n{\n    private decimal? weight;\n\n    public decimal? Weight\n    {\n        get { return weight; }\n        set { weight = value; }\n    }\n}\n</code></pre>\n\n<p>In my data access layer, when I want to save this to my database, I call a stored procedure with a <code>SqlCommand</code> like this:</p>\n\n<pre><code>SqlCommand cmd = new SqlCommand(\"MODIFY_ARTICLE\");\n</code></pre>\n\n<p>I pass the value:</p>\n\n<pre><code>cmd.Parameters.Add(\"@weight\", SqlDbType.Decimal).Value = (!Entity.Weight.HasValue ? SqlDecimal.Null : Entity.Weight.Value);\n</code></pre>\n\n<p>In my stored procedure, <code>Weight</code> is defined as follows:</p>\n\n<pre><code>    @weight DECIMAL, \n     ...\n    p301_weight = @weight\n</code></pre>\n\n<p>And in the table <code>p301</code> the column <code>weight</code> is defined as <code>numeric</code>.</p>\n\n<p>I can't change the type of the table, how can I save a <code>decimal</code> value to a <code>numeric</code>? As I understand (and I proved it) that it saves only the <code>integer</code> part, so instead of saving <code>0,5</code> is saving <code>1</code> (plus is rounding up).</p>\n\n<p>Maybe a <code>convert</code>? But how and where.</p>\n\n<p><strong>EDIT:</strong>\nfield <code>weight</code> on table <code>p301</code> is declared as <code>numeric(9, 3)</code></p>\n"}, {"tags": ["c#", "serialization", "unity3d", "json.net", "inspector"], "answers": [{"tags": [], "owner": {"reputation": 570, "user_id": 1950550, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f4a8d22759d122254adc06b457b78808?s=128&d=identicon&r=PG", "display_name": "sient", "link": "https://stackoverflow.com/users/1950550/sient"}, "is_accepted": true, "score": 1, "last_activity_date": 1451182646, "creation_date": 1451182646, "answer_id": 34477056, "question_id": 33788541, "link": "https://stackoverflow.com/questions/33788541/unity3d-fullinspector-and-json-net-not-serializing-data/34477056#34477056", "title": "Unity3d FullInspector and Json.net not serializing data", "body": "<p><code>JsonModel</code> is serialized by Unity - it needs a <code>[Serializable]</code> annotation.</p>\n\n<p>Please note that <code>BaseObject</code> only supports Full Serializer; this will work as is however because FS will serialize auto-properties by default.</p>\n"}], "owner": {"reputation": 584, "user_id": 3605070, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CbxgY.jpg?s=128&g=1", "display_name": "CostelloNicho", "link": "https://stackoverflow.com/users/3605070/costellonicho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "accepted_answer_id": 34477056, "answer_count": 1, "score": 2, "last_activity_date": 1451182646, "creation_date": 1447874470, "last_edit_date": 1447877632, "question_id": 33788541, "link": "https://stackoverflow.com/questions/33788541/unity3d-fullinspector-and-json-net-not-serializing-data", "title": "Unity3d FullInspector and Json.net not serializing data", "body": "<p><strong>Problem:</strong> I'm having a hard time serializing data with full inspector and json.net. </p>\n\n<p>Here is a example of a simple test I just ran. I have both json.net and full inspector in the project. When I place the test script on an object in the scene I can see the exposed model object and edit its properties. However when I run the application none of the data persists. Am I missing something? </p>\n\n<p>I see there is a ref wrapper <a href=\"http://jacobdufault.github.io/fullinspector/guide-1.2.html#usage\" rel=\"nofollow noreferrer\">in the documentation</a>, but that seems to be for serializing behavior references, not standard objects. (maybe I am wrong) </p>\n\n<pre><code>using FullInspector;\nusing Newtonsoft.Json;\n\npublic class test : BaseBehavior\n{\n    public JsonModel model;\n\n}\n\npublic class JsonModel : BaseObject\n{\n    [JsonProperty(propertyName: \"id\")]\n    public string ID { get; set; }\n}\n</code></pre>\n\n<p>You can see once I run the project in the unity editor, the data disappears. (running is indicated by the tint in color)</p>\n\n<p><a href=\"https://i.stack.imgur.com/Kwcm1.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kwcm1.gif\" alt=\"enter image description here\"></a></p>\n\n<p>The reason the above code has an attribute is because that is intended to be a json.net object so I can deserialize responses from my cms and bind the data to this object. That is not the only use for this model object though, I want to be able to expose it in the editor and manually plug data and save the data ( because some content will be housed locally and has the same structure ) .</p>\n\n<p><a href=\"https://i.stack.imgur.com/BD2X5.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BD2X5.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "xml", "enums"], "owner": {"reputation": 13, "user_id": 5572465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc373073adadab1c7b79c2fd847cec83?s=128&d=identicon&r=PG&f=1", "display_name": "Belluru Mohan Laxmikanth", "link": "https://stackoverflow.com/users/5572465/belluru-mohan-laxmikanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1447874376, "creation_date": 1447874376, "question_id": 33788518, "link": "https://stackoverflow.com/questions/33788518/how-to-skip-elements-which-are-null-while-using-xmlwriter-in-c", "title": "How to skip elements which are null while using xmlWriter in c#", "body": "<p>I have written a WriteXml method</p>\n\n<pre><code>public void WriteXml(XmlWriter writer)\n        {\n            if (this.value != null)\n            {\n                var type = this.value.GetType();\n\n                var memInfo = type.GetMember(this.value.ToString());\n\n                if (memInfo.Length &gt; 0)\n                {\n                    var attrs = memInfo[0].GetCustomAttributes&lt;XmlEnumAttribute&gt;();\n\n                    if (attrs != null &amp;&amp; attrs.IsNotEmpty())\n                    {\n                        writer.WriteValue(attrs.ToString());\n\n                        return;\n                    }\n                }\n                writer.WriteValue(this.value.ToString());\n            }\n        }\n</code></pre>\n\n<p>The main purpose of the whole class I have written is for custom enums. The issue is when the serialize is called in between a service there are few custom enums which uses class and if there is a special value or spaces in the enum it gets its attribute and returns and if there is a normal enum then also it works. But if there is a null in the enum value it is sending back null which is creating empty tags which I don't want to create.</p>\n\n<p>How to  not serialize the values which have null ? </p>\n\n<p>Empty Tags are nothing but <code>&lt;XYZ/&gt;</code></p>\n\n<p>I have lot of values under enums like </p>\n\n<pre><code>insurance\nproduct \nname \nN/A\nLast Days\n</code></pre>\n\n<p>The above all of them are retrieved but if there is a null I don't want to serialize a value.</p>\n\n<p>To be simple, If <code>this.value</code> is returning a null I don't want to serialize it.</p>\n\n<p>To add it to the above thing, All the values I get are not Enum. So only enum are using my custom class but not the different ones.</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 8041, "user_id": 1771817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zeTmI.jpg?s=128&g=1", "display_name": "adv12", "link": "https://stackoverflow.com/users/1771817/adv12"}, "edited": false, "score": 0, "creation_date": 1447874218, "post_id": 33788452, "comment_id": 55343841, "body": "Try <code>ListViewItem</code> instead of <code>DataRow</code>."}], "answers": [{"tags": [], "owner": {"reputation": 8041, "user_id": 1771817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zeTmI.jpg?s=128&g=1", "display_name": "adv12", "link": "https://stackoverflow.com/users/1771817/adv12"}, "is_accepted": true, "score": 0, "last_activity_date": 1447874589, "creation_date": 1447874589, "answer_id": 33788581, "question_id": 33788452, "link": "https://stackoverflow.com/questions/33788452/getting-selected-value-from-listview/33788581#33788581", "title": "Getting selected value from ListView", "body": "<p><code>ListView.GetItemAt()</code> returns a <code>ListViewItem</code>.  If you try to cast that to a <code>DataRow</code> via <code>as</code>, you'll get a null because that's what <code>as</code> returns when you try to cast to the wrong type.  Use <code>ListViewItem</code> where you've used <code>DataRow</code>, and use the <code>SubItems</code> list to get field values.  Also note that <code>GetItemAt()</code> returns null if there's no item at the specified index.</p>\n"}, {"tags": [], "owner": {"reputation": 225, "user_id": 5834683, "user_type": "registered", "profile_image": "https://graph.facebook.com/1117120751633582/picture?type=large", "display_name": "Muhammad Abbas", "link": "https://stackoverflow.com/users/5834683/muhammad-abbas"}, "is_accepted": false, "score": 1, "last_activity_date": 1485344463, "creation_date": 1485344463, "answer_id": 41850711, "question_id": 33788452, "link": "https://stackoverflow.com/questions/33788452/getting-selected-value-from-listview/41850711#41850711", "title": "Getting selected value from ListView", "body": "<p>I read the answer above but it was ambiguous so now I am giving the full code to do the job.</p>\n\n<pre><code>        int index = list_View.SelectedIndex;\n        DataRowView CompRow;\n        long KOT;\n        CompRow = list_View.Items.GetItemAt(index) as DataRowView;\n        KOT = Convert.ToInt16(CompRow[\"KOT\"]);\n        MessageBox.Show(KOT.ToString());\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 4148893, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a841b9d46c5cd21cba1c5e5a7b3d2b2e?s=128&d=identicon&r=PG&f=1", "display_name": "UkoM", "link": "https://stackoverflow.com/users/4148893/ukom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2780, "favorite_count": 0, "accepted_answer_id": 33788581, "answer_count": 2, "score": 0, "last_activity_date": 1485344463, "creation_date": 1447874139, "last_edit_date": 1447874794, "question_id": 33788452, "link": "https://stackoverflow.com/questions/33788452/getting-selected-value-from-listview", "title": "Getting selected value from ListView", "body": "<p>On button click I want to get a value from a <code>ListView</code> column. I have tried using <code>DataRow</code> but I am getting <code>NullReferenceExpection</code>.</p>\n\n<pre><code>int row = listView.SelectedIndex;\nDataRow dr = listView.Items.GetItemAt(row) as DataRow;\nlong ID = Convert.ToInt64(dr[\"ID\"]);\nTextBoxID.Text = ID.ToString();\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework", "ef-code-first", "entity-framework-migrations"], "comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1447876671, "post_id": 33788277, "comment_id": 55345369, "body": "Entity Framework version?"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1447917390, "post_id": 33788277, "comment_id": 55361048, "body": "I&#39;ve tried with &#39;byte[]&#39; property and your option 2 did work - resulted in  <code>binary(16)</code> column in the db table"}], "owner": {"reputation": 468, "user_id": 834808, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1082858520998ae6f56fc0e78088e442?s=128&d=identicon&r=PG", "display_name": "Vasilij", "link": "https://stackoverflow.com/users/834808/vasilij"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447873511, "creation_date": 1447873511, "question_id": 33788277, "link": "https://stackoverflow.com/questions/33788277/migrate-linq-binary-to-binary16", "title": "Migrate Linq.Binary to binary(16)", "body": "<p>I have a class with <code>Linq.Binary</code> property, which I wish to map to <code>binary(16)</code> in database. By default, this type isn't mapped when creating new migration.</p>\n\n<p>Changing from <code>Linq.Binary</code> to <code>byte[]</code> didn't help, because I can't found a way to set length of <code>binary()</code> in database.</p>\n\n<ol>\n<li><code>[MaxLength(16)]</code> data annotation didn't work.</li>\n<li>Fluent API: <code>modelBuilder.Entity&lt;MyEntity&gt;().Property(x =&gt; x.BinaryProperty).HasMaxLength(LengthOfBinaryField).IsFixedLength();</code> didn't work too.</li>\n</ol>\n\n<p>What can I do for a <code>Linq.Binary</code> (or <code>byte[]</code>) to make sure the column that gets created is a <code>binary(16)</code> in the database?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "visual-studio", "entity-framework-4", "moq"], "comments": [{"owner": {"reputation": 11824, "user_id": 3107430, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/55fDR.jpg?s=128&g=1", "display_name": "Domysee", "link": "https://stackoverflow.com/users/3107430/domysee"}, "edited": false, "score": 0, "creation_date": 1447874327, "post_id": 33788251, "comment_id": 55343905, "body": "Isn&#39;t this assert already doing that <code>Assert.IsFalse(product.FlgActive);</code>?"}, {"owner": {"reputation": 8323, "user_id": 2316200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83dc15723047a4717a5c77b3c55bb112?s=128&d=identicon&r=PG", "display_name": "Pierre-Luc Pineault", "link": "https://stackoverflow.com/users/2316200/pierre-luc-pineault"}, "edited": false, "score": 0, "creation_date": 1447875838, "post_id": 33788251, "comment_id": 55344833, "body": "It is not your service duty to check if the product has its flag set to false. Your service job is to check that the repo has been called correctly. The unit test of your repository should check if the flag is set correctly."}, {"owner": {"reputation": 51, "user_id": 4233841, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/oSdEA.jpg?s=128&g=1", "display_name": "Gouki0", "link": "https://stackoverflow.com/users/4233841/gouki0"}, "reply_to_user": {"reputation": 8323, "user_id": 2316200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83dc15723047a4717a5c77b3c55bb112?s=128&d=identicon&r=PG", "display_name": "Pierre-Luc Pineault", "link": "https://stackoverflow.com/users/2316200/pierre-luc-pineault"}, "edited": false, "score": 0, "creation_date": 1447876393, "post_id": 33788251, "comment_id": 55345189, "body": "@Pierre-LucPineault can you, please, explain to me how to do that using moq ?"}, {"owner": {"reputation": 8323, "user_id": 2316200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83dc15723047a4717a5c77b3c55bb112?s=128&d=identicon&r=PG", "display_name": "Pierre-Luc Pineault", "link": "https://stackoverflow.com/users/2316200/pierre-luc-pineault"}, "edited": false, "score": 0, "creation_date": 1447876614, "post_id": 33788251, "comment_id": 55345329, "body": "@Gouki0 Your issue is not really related to Moq itself, but more what to test. I&#39;ve added an answer which should be more detailed. A mock is used to isolate your class from the outside world, you can&#39;t expect it to have logic (like setting your flag to false)."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 4233841, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/oSdEA.jpg?s=128&g=1", "display_name": "Gouki0", "link": "https://stackoverflow.com/users/4233841/gouki0"}, "edited": false, "score": 0, "creation_date": 1447877192, "post_id": 33789165, "comment_id": 55345719, "body": "So, its impossible to test if some attribute was changed by mocking the repository. What i was really trying to achieve was to assert a business logic = &quot;Delete should change product flag to false&quot;. Anyway, thanks man, it was very helpful."}, {"owner": {"reputation": 8323, "user_id": 2316200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83dc15723047a4717a5c77b3c55bb112?s=128&d=identicon&r=PG", "display_name": "Pierre-Luc Pineault", "link": "https://stackoverflow.com/users/2316200/pierre-luc-pineault"}, "reply_to_user": {"reputation": 51, "user_id": 4233841, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/oSdEA.jpg?s=128&g=1", "display_name": "Gouki0", "link": "https://stackoverflow.com/users/4233841/gouki0"}, "edited": false, "score": 0, "creation_date": 1447878067, "post_id": 33789165, "comment_id": 55346238, "body": "@Gouki0 Well it&#39;s possible, if you test the correct class. You can test your business logic by testing the repository itself, like the last example. If you want to test the business logic between multiple classes (i.e. an integration test), use real classes instead of mocks. A Mock removes all the logic inside the methods so you can fake the outputs."}], "tags": [], "owner": {"reputation": 8323, "user_id": 2316200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83dc15723047a4717a5c77b3c55bb112?s=128&d=identicon&r=PG", "display_name": "Pierre-Luc Pineault", "link": "https://stackoverflow.com/users/2316200/pierre-luc-pineault"}, "is_accepted": true, "score": 1, "last_activity_date": 1447876495, "creation_date": 1447876495, "answer_id": 33789165, "question_id": 33788251, "link": "https://stackoverflow.com/questions/33788251/moq-test-if-an-attribute-was-changed-in-a-method-that-returns-void/33789165#33789165", "title": "Moq test if an attribute was changed in a method that returns void", "body": "<p>It is not your service which is setting the flag to false, so you should not test that behavior from your service. The job of this unit is to validate the product, then delegate the deletion to the repository.</p>\n\n<p>So you can remove that part from your test and rename it:</p>\n\n<pre><code>[TestMethod]\npublic void DeletionShouldBeSentToRepository() //RN03\n{\n    var product = new Product() { Id = 1, Name = \"aaaaaa\", Code = \"aaaaaa\", FlgActive = true };\n    var so = new ServiceOrder() {  };\n\n    var mockProductRepository = new Mock&lt;IProductRepository&gt;();\n    mockProductRepository.Setup(p =&gt; p.Delete(product));\n\n    var mockServiceOrderRepository = new Mock&lt;IServiceOrderRepository&gt;();\n    mockServiceOrderRepository.Setup(o =&gt; o.GetProductById(product.Id)).Returns(new List&lt;ServiceOrder&gt; { so });\n\n    var service = new ProductService(mockProductRepository.Object, mockServiceOrderRepository.Object);\n\n    service.Delete(product);\n\n    mockProductRepository.Verify(c =&gt; c.Delete(product), Times.Once());\n    mockProductRepository.Verify((s =&gt; s.Commit()), Times.Once());\n}\n</code></pre>\n\n<p><strong><em>NOTE</strong>: I's good to verify we're sending the good product to the repo. I've replaced your <code>It.IsAny</code> with the product you created previously.</em></p>\n\n<p>Now that we covered the duties of your service, we can test the deletion behavior into the repo itself, which should look like this:</p>\n\n<pre><code>[TestMethod]\npublic void DeletedProductFlagShouldBeFalse() //RN03\n{\n    var product = new Product() { Id = 1, Name = \"aaaaaa\", Code = \"aaaaaa\", FlgActive = true };\n\n    IProductRepository repository = new ProductRepository();\n\n    repository.Delete(product);\n\n    Assert.IsFalse(product.FlgActive);\n}\n</code></pre>\n\n<p>When you're doing unit tests, it's important to test only the behavior of the current class, not the side effects.</p>\n"}], "owner": {"reputation": 51, "user_id": 4233841, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/oSdEA.jpg?s=128&g=1", "display_name": "Gouki0", "link": "https://stackoverflow.com/users/4233841/gouki0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1131, "favorite_count": 0, "accepted_answer_id": 33789165, "answer_count": 1, "score": 0, "last_activity_date": 1447876495, "creation_date": 1447873431, "question_id": 33788251, "link": "https://stackoverflow.com/questions/33788251/moq-test-if-an-attribute-was-changed-in-a-method-that-returns-void", "title": "Moq test if an attribute was changed in a method that returns void", "body": "<p>I'd like to know if its possible to test, using Moq, if some attribute in an object was changed by some method, that method must be void.</p>\n\n<p>i want to check if the attribute \"FlgActive\" of product was changed from true to false.</p>\n\n<p>the delete method is void, and it just change that flag to false.</p>\n\n<p>if its possible, what should i add to my setup to check that ?</p>\n\n<p>Example:</p>\n\n<p>TEST</p>\n\n<pre><code>[TestMethod]\n    public void DeletedProductFlagShouldBeFalse() //RN03\n    {\n        var product = new Product() { Id = 1, Name = \"aaaaaa\", Code = \"aaaaaa\", FlgActive = true };\n        var so = new ServiceOrder() {  };\n\n        var mockProductRepository = new Mock&lt;IProductRepository&gt;();\n        mockProductRepository.Setup(p =&gt; p.Delete(product));\n\n        var mockServiceOrderRepository = new Mock&lt;IServiceOrderRepository&gt;();\n        mockServiceOrderRepository.Setup(o =&gt; o.GetProductById(product.Id)).Returns(new List&lt;ServiceOrder&gt; { so });\n\n        var service = new ProductService(mockProductRepository.Object, mockServiceOrderRepository.Object);\n\n        service.Delete(product);\n\n        mockProductRepository.Verify(c =&gt; c.Delete(It.IsAny&lt;Product&gt;()), Times.Once());\n        mockProductRepository.Verify((s =&gt; s.Commit()), Times.Once());\n\n        Assert.IsFalse(product.FlgActive);\n    }\n</code></pre>\n\n<p>SERVICE</p>\n\n<pre><code>public void Delete(Product product)\n    {\n        Validate(product);\n        repo.Delete(product);\n        repo.Commit();\n    }\n</code></pre>\n\n<p>REPOSITORY</p>\n\n<pre><code>public void Delete(Product product)\n    {\n        try\n        {\n            product.FlgActive = false;\n            Update(product);\n        }\n        catch (Exception ex)\n        {\n            throw new Exception(ex.Message, ex);\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1447873413, "post_id": 33788205, "comment_id": 55343358, "body": "What do you expect this code to do? (I suspect you trying to hack something like <code>double.Parse(&quot;1.234&quot;, CultureInfo.InvariantCulture)</code>, but I&#39;m not sure)."}, {"owner": {"reputation": 243, "user_id": 3594283, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/a18025991c9792d3c19b9fe94f8c0ee2?s=128&d=identicon&r=PG&f=1", "display_name": "graham23s", "link": "https://stackoverflow.com/users/3594283/graham23s"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1447873545, "post_id": 33788205, "comment_id": 55343437, "body": "Hi, yeah i&#39;m just rounding the digit up to 1 for example and cut off everything after the &quot;.&quot;"}], "owner": {"reputation": 243, "user_id": 3594283, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/a18025991c9792d3c19b9fe94f8c0ee2?s=128&d=identicon&r=PG&f=1", "display_name": "graham23s", "link": "https://stackoverflow.com/users/3594283/graham23s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1447873408, "answer_count": 0, "score": 0, "last_activity_date": 1447873430, "creation_date": 1447873273, "last_edit_date": 1447873430, "question_id": 33788205, "link": "https://stackoverflow.com/questions/33788205/input-string-not-in-correct-format-on-1-system", "closed_reason": "Duplicate", "title": "Input string not in correct format on 1 system", "body": "<p>This is a strange one, on most of my systems this code works fine:</p>\n\n<pre><code>var separator = Convert.ToChar(CultureInfo.CurrentCulture.NumberFormat.CurrencyDecimalSeparator);\nDA = Math.Round(double.Parse(M.Groups[1].Value.Replace('.', separator))).ToString();\n</code></pre>\n\n<p>It brings back a digit like for example: 12.6754645644 so we just round up the M.Groups[1].Value to <strong>12</strong> for example, although it works on most systems in 1 it is throwing an error:</p>\n\n<blockquote>\n  <p>System.FormatException: Input string was not in a correct format.\n     at System.Number.ParseDouble(String value, NumberStyles options, NumberFormatInfo numfmt)</p>\n</blockquote>\n\n<p>The strange thing is, it works on most systems I have tested on, is there something I am missing here?</p>\n"}, {"tags": ["c#", ".net", "memory-leaks", "using", "goto"], "answers": [{"comments": [{"owner": {"reputation": 1130, "user_id": 1985541, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/df4e5a1651fede44ab461995efdd77ef?s=128&d=identicon&r=PG", "display_name": "Zuzlx", "link": "https://stackoverflow.com/users/1985541/zuzlx"}, "edited": false, "score": 0, "creation_date": 1447873588, "post_id": 33788244, "comment_id": 55343462, "body": "Thank you.  Great info.  Now my life is complete. :)"}], "tags": [], "owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "is_accepted": false, "score": 2, "last_activity_date": 1447873590, "last_edit_date": 1447873590, "creation_date": 1447873405, "answer_id": 33788244, "question_id": 33788180, "link": "https://stackoverflow.com/questions/33788180/goto-in-using-statement-will-the-dispose-be-called/33788244#33788244", "title": "goto in Using statement, will the dispose be called?", "body": "<p>Yes <code>Dispose</code> will be called. <code>using</code> translates into <code>try/finally</code> block something like:</p>\n\n<pre><code>try\n{\n    goto Mars;\n    Console.WriteLine(\"in try\");\n}\nfinally\n{\n\n    Console.WriteLine(\"in finally\");\n}\nMars:\nConsole.WriteLine(\"in Mars\");\n</code></pre>\n\n<p>The output from above would be: </p>\n\n<pre><code>in finally\nin Mars\n</code></pre>\n\n<p>You can also test it by creating your own class that implements <code>IDisposable</code> like:</p>\n\n<pre><code>class MyDisposable : IDisposable\n{\n    public void Dispose()\n    {\n        Console.WriteLine(\"Dispose called\");\n    }\n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>using (MyDisposable myDisposable = new MyDisposable())\n{\n    goto Mars;\n}\n\nMars:\nConsole.WriteLine(\"in Mars\");\n</code></pre>\n\n<p>The output would be:</p>\n\n<pre><code>Dispose called\nin Mars\n</code></pre>\n"}], "owner": {"reputation": 1130, "user_id": 1985541, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/df4e5a1651fede44ab461995efdd77ef?s=128&d=identicon&r=PG", "display_name": "Zuzlx", "link": "https://stackoverflow.com/users/1985541/zuzlx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "closed_date": 1447873397, "answer_count": 1, "score": 1, "last_activity_date": 1447873590, "creation_date": 1447873183, "last_edit_date": 1447873307, "question_id": 33788180, "link": "https://stackoverflow.com/questions/33788180/goto-in-using-statement-will-the-dispose-be-called", "closed_reason": "Duplicate", "title": "goto in Using statement, will the dispose be called?", "body": "<p>Consider the following</p>\n\n<pre><code>using (Entity e = new Entity())\n{\n     goto: Mars\n}\n</code></pre>\n\n<p>Do I have a leak?  Not that I'm gonna do such foolishness but just wondering.  </p>\n"}, {"tags": ["c#", "wpf", "excel"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5577770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff33ab4e3505a53a99ec8085c0f44375?s=128&d=identicon&r=PG&f=1", "display_name": "S.GM", "link": "https://stackoverflow.com/users/5577770/s-gm"}, "edited": false, "score": 0, "creation_date": 1447878395, "post_id": 33788859, "comment_id": 55346441, "body": "I did it  and it still not working, same error as before. Thank you though ! I should have closed the application too."}, {"owner": {"reputation": 950, "user_id": 2621185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9dcbf058def07daaffc61f7ce7d50d?s=128&d=identicon&r=PG", "display_name": "JAZ", "link": "https://stackoverflow.com/users/2621185/jaz"}, "reply_to_user": {"reputation": 21, "user_id": 5577770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff33ab4e3505a53a99ec8085c0f44375?s=128&d=identicon&r=PG&f=1", "display_name": "S.GM", "link": "https://stackoverflow.com/users/5577770/s-gm"}, "edited": false, "score": 0, "creation_date": 1447883359, "post_id": 33788859, "comment_id": 55349249, "body": "Does this help <a href=\"http://stackoverflow.com/a/27930662/2621185\">Releasing COM Objects</a>"}, {"owner": {"reputation": 21, "user_id": 5577770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff33ab4e3505a53a99ec8085c0f44375?s=128&d=identicon&r=PG&f=1", "display_name": "S.GM", "link": "https://stackoverflow.com/users/5577770/s-gm"}, "edited": false, "score": 0, "creation_date": 1447948434, "post_id": 33788859, "comment_id": 55382317, "body": "Yes, a lot ! Thank you :)"}], "tags": [], "owner": {"reputation": 950, "user_id": 2621185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9dcbf058def07daaffc61f7ce7d50d?s=128&d=identicon&r=PG", "display_name": "JAZ", "link": "https://stackoverflow.com/users/2621185/jaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1447875474, "creation_date": 1447875474, "answer_id": 33788859, "question_id": 33788178, "link": "https://stackoverflow.com/questions/33788178/edit-an-existing-excel-file-in-c-comexception/33788859#33788859", "title": "Edit an existing Excel file in c#. COMException", "body": "<p>You probably still have the file locked. You need to close your Workbook and Application.</p>\n\n<pre><code>wb.Close(); \nws.Close(); \nxlapp.Quit();\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5577770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff33ab4e3505a53a99ec8085c0f44375?s=128&d=identicon&r=PG&f=1", "display_name": "S.GM", "link": "https://stackoverflow.com/users/5577770/s-gm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1223, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1447948573, "creation_date": 1447873181, "last_edit_date": 1447948573, "question_id": 33788178, "link": "https://stackoverflow.com/questions/33788178/edit-an-existing-excel-file-in-c-comexception", "title": "Edit an existing Excel file in c#. COMException", "body": "<p>So, I have created an Excel file in my same wpf Application on the Main Window. \nNow, I want to edit that file so that I can add another worksheet and place some data on it. </p>\n\n<p>The file creates itself just fine and puts all the necessary data on it, but when I try to call it again a COMExcpetion comes up saying that it can't found the file, but the file IS there !!</p>\n\n<p>I think it is nothing mayor, but thank you so much for any help !</p>\n\n<p>Here is the code: </p>\n\n<pre><code>private void Nextday_Click(object sender, RoutedEventArgs e)\n    {\n        Microsoft.Office.Interop.Excel.Application xlApp = new Microsoft.Office.Interop.Excel.Application();\n\n        xlApp.Visible = true;\n\n        Workbook wb = xlApp.Workbooks.Open(@\"C:Users\\Public\\Documents\\Report.xls\");\n        Worksheet ws2 = (Worksheet)wb.Worksheets[2];\n        ws2.Name = \"Part Function\";\n\n        object misValue = System.Reflection.Missing.Value;\n\n        int i = 1;\n        ws2.Cells[i, 1] = \"Part Function Auto\";\n        i++;\n        ws2.Cells[i, 1] = \"Problem Reported in TestID#:\";\n        i++;\n        ws2.Cells[i, 1] = \"Problem is:\";\n        i++;\n\n        ws2.Cells[2, 2] = testBox.Text;\n\n        wb.Save();\n        wb.Close();\n      }\n</code></pre>\n\n<p>And here is how I created the Excel file in the first place.</p>\n\n<pre><code> private void submit_Click(object sender, RoutedEventArgs e)\n    {\n\n        Microsoft.Office.Interop.Excel.Application xlApp = new Microsoft.Office.Interop.Excel.Application();\n\n        xlApp.Visible = false;\n\n        Workbook wb = xlApp.Workbooks.Add(XlWBATemplate.xlWBATWorksheet);\n        Worksheet ws = (Worksheet)wb.Worksheets[1];\n        ws.Name = \"Personal Info\";\n        wb.Sheets.Add(After: wb.Sheets[wb.Sheets.Count]);\n\n\n        object misValue = System.Reflection.Missing.Value;\n\n        TextRange programTxt = new TextRange(program.Document.ContentStart, program.Document.ContentEnd);\n        TextRange dateTxt = new TextRange(date.Document.ContentStart, date.Document.ContentEnd);\n        TextRange vinTxt = new TextRange(vin.Document.ContentStart, vin.Document.ContentEnd);\n        TextRange dandrTxt = new TextRange(dandr.Document.ContentStart, dandr.Document.ContentEnd);\n        TextRange cdsidTxt = new TextRange(cdsid.Document.ContentStart, cdsid.Document.ContentEnd);\n        TextRange milestoneTxt = new TextRange(milestone.Document.ContentStart, milestone.Document.ContentEnd);\n        TextRange alertTxt = new TextRange(alert.Document.ContentStart, alert.Document.ContentEnd);\n\n        int i = 1;\n        ws.Cells[i, 1] = \"Program:\";\n        i++;\n        ws.Cells[i, 1] = \"Date:\";\n        i++;\n        ws.Cells[i, 1] = \"VIN:\";\n        i++;\n        ws.Cells[i, 1] = \"D &amp; R:\";\n        i++;\n        ws.Cells[i, 1] = \"CDS ID:\";\n        i++;\n        ws.Cells[i, 1] = \"Milestone:\";\n        i++;\n        ws.Cells[i, 1] = \"Alert:\";\n        i++;\n        ws.Cells[i, 1] = \"Region:\";\n        i++;\n        int j = 1;\n        ws.Cells[j, 2] = programTxt.Text;\n        j++;\n        ws.Cells[j, 2] = dateTxt.Text;\n        j++;\n        ws.Cells[j, 2] = vinTxt.Text;\n        j++;\n        ws.Cells[j, 2] = dandrTxt.Text;\n        j++;\n        ws.Cells[j, 2] = cdsidTxt.Text;\n        j++; \n        ws.Cells[j, 2] = milestoneTxt.Text;\n        j++;\n        ws.Cells[j, 2] = alertTxt.Text;\n        j++;\n\n        if (EU.IsChecked == true)\n        {\n            ws.Cells[j, 2] = EU.Content;\n            j++;\n        }\n        if (Canada.IsChecked == true)\n        {\n            ws.Cells[j, 2] = Canada.Content;\n            j++;\n        }\n        if (USA.IsChecked == true)\n        {\n            ws.Cells[j, 2] = USA.Content;\n            j++;\n        }\n\n        wb.SaveAs(@\"C:Users\\Public\\Documents\\Report.xls\");\n        wb.Close();\n      }\n</code></pre>\n\n<p>EDIT, FIXED</p>\n\n<p>So, we fixed it! \nI don't really know why but apparently the file path was the problem. I changed it to <code>WB = _Excel.Workbooks.Open(\"C:\\\\Users\\\\Public\\\\Documents\\\\Report.xls\");</code>\nand now it works !</p>\n"}, {"tags": ["c#", "asp.net-mvc", "checkbox", "asp.net-mvc-5"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1447902439, "post_id": 33788160, "comment_id": 55355728, "body": "It it really necessary to dump all this code in the question? Just show the relevant code and you will have a better chance that someone will look at it. Refer <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1447904386, "post_id": 33788160, "comment_id": 55356312, "body": "As for how to solve this, one option would be make your property an enum with a <code>[Flags]</code> attribute  or a string where you store the values as a comma separated list, and use a view model to represent the checkboxes which you then map back to the property"}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 4350017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ad4f5da4882906cb293e7d21bad32d6a?s=128&d=identicon&r=PG&f=1", "display_name": "Umer Waqar", "link": "https://stackoverflow.com/users/4350017/umer-waqar"}, "edited": false, "score": 0, "creation_date": 1447903391, "post_id": 33788503, "comment_id": 55356014, "body": "I will try to create a new table. Thanks for the ideas you suggested!"}, {"owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "reply_to_user": {"reputation": 129, "user_id": 4350017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ad4f5da4882906cb293e7d21bad32d6a?s=128&d=identicon&r=PG&f=1", "display_name": "Umer Waqar", "link": "https://stackoverflow.com/users/4350017/umer-waqar"}, "edited": false, "score": 2, "creation_date": 1447950921, "post_id": 33788503, "comment_id": 55384244, "body": "You&#39;re welcome. Just so you know, since you&#39;re using MVC, you can clean your controller up a lot. MVC does quite a bit of work for you as far as binding objects. For instance, in your controller&#39;s post, instead of taking in just the <code>HttpPostedFileBase file</code>, take in your product model as well. <code>public ActionResult AddProduct(HttpPostedFileBase file, Product newProduct)</code>"}], "tags": [], "owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "is_accepted": false, "score": 3, "last_activity_date": 1447950610, "last_edit_date": 1447950610, "creation_date": 1447874331, "answer_id": 33788503, "question_id": 33788160, "link": "https://stackoverflow.com/questions/33788160/store-multiple-checkboxes-values-in-mvc/33788503#33788503", "title": "Store Multiple checkboxes values in MVC", "body": "<p>There are many things you can do. A couple are:</p>\n\n<p>A. You can add three properties of type <code>bool?</code> named small medium and large to your product object.</p>\n\n<p>B. You can create a size object with the three size properties also of type <code>bool?</code> and then add the size object to your product object.</p>\n\n<p>Then on the view you can use jquery to toggle their visibility depending on what product type they selected.</p>\n\n<p>It's really up to you how you want to handle storing it.</p>\n\n<p>A. If you have to use only one row in a table, you can store a string to parse like \"S;L\" and split/join by ';'.</p>\n\n<p>B. You could also do something ridiculous and create a new table that has every possible selection variation and assign each one an ID and pass the ID into the single row on the other table.</p>\n\n<p>C. I would personally create a new table that took in the product ID as a foreign key and have 3 columns for each size as a <code>bool</code>.</p>\n\n<p>However, I'm not sure what way would be considered 'good practice'.</p>\n"}], "owner": {"reputation": 129, "user_id": 4350017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ad4f5da4882906cb293e7d21bad32d6a?s=128&d=identicon&r=PG&f=1", "display_name": "Umer Waqar", "link": "https://stackoverflow.com/users/4350017/umer-waqar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1035, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1447950610, "creation_date": 1447873098, "last_edit_date": 1447874525, "question_id": 33788160, "link": "https://stackoverflow.com/questions/33788160/store-multiple-checkboxes-values-in-mvc", "title": "Store Multiple checkboxes values in MVC", "body": "<p>Below is the complete code of adding a new product in the database and it works.</p>\n\n<pre><code>I've 3 tables \"Product\",\"Category\" and \"SubCategory\".\n\nI've 5 Categories \"Electronics\",\"Clothing\",\"Sports\",\"Books\" and \"Others\".\n</code></pre>\n\n<p>I want to add a 3 checkboxes of sizes: small,medium &amp; large and I want these checkboxes as hidden unless I select \"Clothing\" category from dropdownlist. When I select Clothing from category dropdown the size checkboxes should appear so I can select size:small checkbox or may be both size:small and size:medium checkboxes and I want this to be stored in database. I don't think both values of checkboxes can be stored in one single row of database.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>productid = 1\n\nproduct name= polo t-shirt\n\nsizes: small &amp; medium (both checkboxes are checked)\n</code></pre>\n\n<p>and I want the available sizes in a dropdownlist when viewing the product details for add to cart function.</p>\n\n<p>I've a <strong>product model</strong>:</p>\n\n<pre><code>public int ProductId { get; set; }\n\n    public int? CategoryId { get; set; }\n\n    [Required]\n    [StringLength(50)]\n    public string Name { get; set; }\n\n    public string Description { get; set; }\n\n    public decimal? Price { get; set; }\n\n    public int? Quantity { get; set; }\n\n    [StringLength(100)]\n    public string ImagePath { get; set; }\n\n    public DateTime? Submitted { get; set; }\n\n    public int? StoreId { get; set; }\n\n    [StringLength(50)]\n    public string DeliveryDate { get; set; }\n\n    [StringLength(50)]\n    public string ShippingCharges { get; set; }\n\n    public int? SubCategoryId { get; set; }\n\n    public int? ProvinceId { get; set; }\n\n    public int? CityId { get; set; }\n\n    [StringLength(50)]\n    public string PaymentMethod { get; set; }\n\n    public virtual Category Category { get; set; }\n\n    public virtual City City { get; set; }\n\n    public virtual Province Province { get; set; }\n\n    public virtual Store Store { get; set; }\n\n    public virtual SubCategory SubCategory { get; set; }\n</code></pre>\n\n<p><strong>product controller</strong></p>\n\n<pre><code>[HttpPost]\n    [Authorize(Roles = \"StoreOwner\")]\n    [ValidateAntiForgeryToken]\n    public ActionResult AddProduct(HttpPostedFileBase file)\n    {\n        List&lt;string&gt; DeliveryDate = new List&lt;string&gt;();\n        DeliveryDate.Add(\"1-2 Days\");\n        DeliveryDate.Add(\"3-5 Days\");\n        DeliveryDate.Add(\"1 Week\");\n        SelectList dd = new SelectList(DeliveryDate);\n        ViewBag.DeliveryDate = dd;\n\n        List&lt;string&gt; PaymentMethods = new List&lt;string&gt;();\n        PaymentMethods.Add(\"Cash on Delivery\");\n        SelectList pm = new SelectList(PaymentMethods);\n        ViewBag.PaymentMethods = pm;\n\n        IEnumerable&lt;SelectListItem&gt; provinces = db.Provinces.Select(c =&gt; new SelectListItem\n        {\n            Value = c.ProvinceId.ToString(),\n            Text = c.ProvinceName\n\n        });\n        ViewBag.ProvinceId = provinces;\n\n        IEnumerable&lt;SelectListItem&gt; cities = db.Cities.Select(c =&gt; new SelectListItem\n        {\n            Value = c.CityId.ToString(),\n            Text = c.CityName\n\n        });\n        ViewBag.CityId = cities;\n\n        IEnumerable&lt;SelectListItem&gt; categories = db.Categories.Select(c =&gt; new SelectListItem\n        {\n            Value = c.CategoryId.ToString(),\n            Text = c.Name\n\n        });\n\n        ViewBag.CategoryId = categories;\n\n        IEnumerable&lt;SelectListItem&gt; subcategories = db.SubCategories.Select(c =&gt; new SelectListItem\n        {\n            Value = c.SubCatId.ToString(),\n            Text = c.SubCatName\n\n        });\n        ViewBag.SubCategoryId = subcategories;\n\n\n        IEnumerable&lt;SelectListItem&gt; stores = db.Stores.Select(c =&gt; new SelectListItem\n        {\n            Value = c.StoreId.ToString(),\n            Text = c.Name\n\n        });\n        ViewBag.Stores = stores;\n\n         if (file != null)\n            {\n                string ImagePath = System.IO.Path.GetFileName(file.FileName);\n                string physicalPath = Server.MapPath(\"~/ProductImages/\" + ImagePath);\n\n                file.SaveAs(physicalPath);\n\n                //save new record in database\n                Product newRecord = new Product();\n                newRecord.Name = Request.Form[\"Name\"];\n                newRecord.CategoryId = Convert.ToInt32(Request.Form[\"CategoryId\"]);\n                newRecord.SubCategoryId = Convert.ToInt32(Request.Form[\"SubCategoryId\"]);\n                newRecord.StoreId = Convert.ToInt32(Request.Form[\"Stores\"]);\n                newRecord.Description = Request.Form[\"Description\"];\n                newRecord.Price = Convert.ToDecimal(Request.Form[\"Price\"]);\n                newRecord.Quantity = Convert.ToInt32(Request.Form[\"Quantity\"]);\n                newRecord.ProvinceId = Convert.ToInt32(Request.Form[\"ProvinceId\"]);\n                newRecord.CityId = Convert.ToInt32(Request.Form[\"CityId\"]);\n                newRecord.ShippingCharges = Request.Form[\"ShippingCharges\"];\n                newRecord.DeliveryDate = Request.Form[\"DeliveryDate\"];\n                newRecord.PaymentMethod = Request.Form[\"PaymentMethods\"];\n                newRecord.ImagePath = ImagePath;\n                newRecord.Submitted = DateTime.Now;\n                db.Products.Add(newRecord);\n                db.SaveChanges();\n                return RedirectToAction(\"OwnerManage\",\"Manage\");\n            }\n\n        return View();\n    }\n</code></pre>\n\n<p><strong>view</strong></p>\n\n<pre><code>@using (Html.BeginForm(\"AddProduct\", \"Store\", FormMethod.Post, new { enctype = \"multipart/form-data\",   @class = \"form-horizontal\", role = \"form\" }))\n{\n@Html.AntiForgeryToken()\n&lt;h4&gt;Create a new product.&lt;/h4&gt;\n&lt;hr /&gt;\n@Html.ValidationSummary(true)\n&lt;div class=\"form-group\"&gt;\n    @Html.LabelFor(m =&gt; m.Name, new { @class = \"col-md-2 control-label\", data_val_required = \"required\" })\n    &lt;div class=\"col-md-10\"&gt;\n        @Html.TextBoxFor(m =&gt; m.Name, new { @class = \"form-control\" })\n        @Html.ValidationMessageFor(m=&gt;m.Name)\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"form-group\"&gt;\n    @Html.LabelFor(m =&gt; m.Description, new { @class = \"col-md-2 control-label\" })\n    &lt;div class=\"col-md-10\"&gt;\n        @Html.TextAreaFor(m =&gt; m.Description, new { @class = \"form-control\" })\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"form-group\"&gt;\n    @Html.LabelFor(m =&gt; m.CategoryId, new { @class = \"col-md-2 control-label\" })\n    &lt;div class=\"col-md-10\"&gt;\n        @Html.DropDownListFor(x =&gt; x.CategoryId, ViewBag.CategoryId as SelectList, new { @class = \"CssCategory\" })\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"form-group\"&gt;\n    @Html.LabelFor(m =&gt; m.SubCategoryId, new { @class = \"col-md-2 control-label subcatshow\" })\n    &lt;div class=\"col-md-10\"&gt;\n        @Html.DropDownListFor(x =&gt; x.SubCategoryId, ViewBag.SubCategoryId as SelectList, new { @class = \"CssSubCategory\" })\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n    @Html.LabelFor(m =&gt; m.StoreId, new { @class = \"col-md-2 control-label\" })\n    &lt;div class=\"col-md-10\"&gt;\n        @Html.DropDownList(\"Stores\", \"Select a Value\")\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n    @Html.LabelFor(m =&gt; m.ProvinceId, new { @class = \"col-md-2 control-label\" })\n    &lt;div class=\"col-md-10\"&gt;\n        @Html.DropDownListFor(x =&gt; x.ProvinceId, ViewBag.ProvinceId as SelectList, new { @class = \"CssProvince\" })\n\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n    @Html.LabelFor(m =&gt; m.CityId, new { @class = \"col-md-2 control-label cityshow\" })\n    &lt;div class=\"col-md-10\"&gt;\n        @Html.DropDownListFor(x =&gt; x.CityId, ViewBag.CityId as SelectList, new { @class = \"CssCity\" })\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n    @Html.LabelFor(m =&gt; m.Price, new { @class = \"col-md-2 control-label\" })\n    &lt;div class=\"col-md-10\"&gt;\n        @Html.TextBoxFor(x =&gt; x.Price, new { @class = \"form-control\" })\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n    @Html.LabelFor(m =&gt; m.Quantity, new { @class = \"col-md-2 control-label\" })\n    &lt;div class=\"col-md-10\"&gt;\n        @Html.TextBoxFor(x =&gt; x.Quantity, new { @class = \"form-control\" })\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n    @Html.LabelFor(m =&gt; m.DeliveryDate, new { @class = \"col-md-2 control-label\" })\n    &lt;div class=\"col-md-10\"&gt;\n        @Html.DropDownList(\"DeliveryDate\", ViewBag.DeliveryDate as SelectList)\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n    @Html.LabelFor(m =&gt; m.ShippingCharges, new { @class = \"col-md-2 control-label\" })\n    &lt;div class=\"col-md-10\"&gt;\n        @Html.TextBoxFor(x =&gt; x.ShippingCharges, new { @class = \"form-control\" })\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n    @Html.LabelFor(m =&gt; m.PaymentMethod, new { @class = \"col-md-2 control-label\" })\n    &lt;div class=\"col-md-10\"&gt;\n        @Html.DropDownList(\"PaymentMethods\", ViewBag.PaymentMethods as SelectList)\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n    @Html.LabelFor(m =&gt; m.ImagePath, new { @class = \"col-md-2 control-label\" })\n    &lt;div class=\"col-md-10\"&gt;\n        &lt;input type=\"file\" name=\"file\" id=\"file\" style=\"width: 100%;\" /&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n    &lt;div class=\"col-md-offset-2 col-md-10\"&gt;\n        &lt;input type=\"submit\" class=\"btn btn-default\" value=\"Create Product\" /&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "wpf", "prism"], "answers": [{"tags": [], "owner": {"reputation": 3243, "user_id": 2396510, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/w9K3z.gif?s=128&g=1", "display_name": "Maximus", "link": "https://stackoverflow.com/users/2396510/maximus"}, "is_accepted": false, "score": 1, "last_activity_date": 1447882012, "last_edit_date": 1447882012, "creation_date": 1447880928, "answer_id": 33790409, "question_id": 33788148, "link": "https://stackoverflow.com/questions/33788148/using-multiple-shells-windows-in-a-prism-application/33790409#33790409", "title": "Using multiple shells/windows in a Prism application", "body": "<p>The good patern is to stick to one window for the whole application. My proposal is to create splash screen as UserControl and then kind of mess around with visibility.\nYour MainView may be looking as follows</p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;ContentControl Content=\"{Binding CurrentViewModel}\"/&gt;\n    &lt;userControl:SplashScreen/&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>At this point your splash screen covers view and once the view is loaded you make the SplashScreen invisible. In order to do so create another class which will expose boolean property like IsVisible, and method Show/Hide for making splash screen visible and invisible respectively.<br/><br/> Subsequently, you set SplashScreen's DataContext to that class, bind Visibility property to IsVisible and make use of <em>BooleanToVisibilityConverter</em>, provided by WPF by default. For appearance sake, you can set splash sreen opacity to, for instance 0.75, so that it would show through splash screen displaying some destination view simultaneously. \n<br/><br/>\nWhenever you want to show splash screen you invoke Show method, within method you set IsVisible to true, <em>PropertyChanged</em> event is raised and changes are reflected at view. As a result Visibility is set to true and Splash screen shows up on the top covering everything else. \n<br/> <br/>\nIf you follow these steps you should acquire similar outcome. Message being displayed can be explicitly adjusted as well, as a replacement for hardcoded \"<em>Loading</em>\". <br/><br/>\n<a href=\"https://i.stack.imgur.com/UOqaz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UOqaz.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 3717, "user_id": 2385132, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc968f306ac82ad858db133fd3a5e91?s=128&d=identicon&r=PG", "display_name": "Marek M.", "link": "https://stackoverflow.com/users/2385132/marek-m"}, "edited": false, "score": 0, "creation_date": 1448015650, "post_id": 33794817, "comment_id": 55414141, "body": "By saying <code>SplashScreen</code> I don&#39;t mean the C# class named that way. I&#39;m building a custom screen that would show the logo of my product and below it a progress bar and some info on what&#39;s currently going on. So I guess creating and showing my custom SplashScreen window wouldn&#39;t stop the bootstrapper from continuing to process?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5420778"}, "reply_to_user": {"reputation": 3717, "user_id": 2385132, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc968f306ac82ad858db133fd3a5e91?s=128&d=identicon&r=PG", "display_name": "Marek M.", "link": "https://stackoverflow.com/users/2385132/marek-m"}, "edited": false, "score": 0, "creation_date": 1448027243, "post_id": 33794817, "comment_id": 55421372, "body": "It doesn&#39;t matter what you name it.  That is a Window class that can do anything you want it to.  Just call ShowDialog, and it will pause the bootstrapper from continuing.  So this means when your splash screen is closed, the bootstrapper will continue and your shell will be shown as normal."}, {"owner": {"reputation": 3717, "user_id": 2385132, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc968f306ac82ad858db133fd3a5e91?s=128&d=identicon&r=PG", "display_name": "Marek M.", "link": "https://stackoverflow.com/users/2385132/marek-m"}, "edited": false, "score": 0, "creation_date": 1448034234, "post_id": 33794817, "comment_id": 55426174, "body": "Didn&#39;t know that! Thanks! Btw. I&#39;m a great fan of you PS courses. Any plans to make some (for prism) in non-standard scenarios?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5420778"}, "reply_to_user": {"reputation": 3717, "user_id": 2385132, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc968f306ac82ad858db133fd3a5e91?s=128&d=identicon&r=PG", "display_name": "Marek M.", "link": "https://stackoverflow.com/users/2385132/marek-m"}, "edited": false, "score": 0, "creation_date": 1448129811, "post_id": 33794817, "comment_id": 55458311, "body": "I would have to know what those &quot;non-standard scenarios are&quot;.  I have already started advanced courses on a lot of other common scenarios."}, {"owner": {"reputation": 3737, "user_id": 276106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2dddc6d6d1341dac8ef046a959b3b619?s=128&d=identicon&r=PG", "display_name": "FosterZ", "link": "https://stackoverflow.com/users/276106/fosterz"}, "edited": false, "score": 0, "creation_date": 1577392164, "post_id": 33794817, "comment_id": 105160460, "body": "@BrianLagunas : how do we show a prism module as dialog and once this dialog is closed then show main shell."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5420778"}, "is_accepted": true, "score": 1, "last_activity_date": 1447904118, "creation_date": 1447904118, "answer_id": 33794817, "question_id": 33788148, "link": "https://stackoverflow.com/questions/33788148/using-multiple-shells-windows-in-a-prism-application/33794817#33794817", "title": "Using multiple shells/windows in a Prism application", "body": "<p>Why not just show your splash screen before you call MainWindow.Show?  Just show it as ShowDialog to stop the bootstrapper form continuing to process until you close your splash screen.</p>\n\n<pre><code>    protected override void InitializeShell()\n    {\n        var sc = new SplashScreen();\n        sc.ShowDialog();\n\n        App.Current.MainWindow = (Window)Shell;\n        App.Current.MainWindow.Show();\n    }\n</code></pre>\n"}], "owner": {"reputation": 3717, "user_id": 2385132, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc968f306ac82ad858db133fd3a5e91?s=128&d=identicon&r=PG", "display_name": "Marek M.", "link": "https://stackoverflow.com/users/2385132/marek-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1495, "favorite_count": 0, "accepted_answer_id": 33794817, "answer_count": 2, "score": 0, "last_activity_date": 1447904118, "creation_date": 1447873053, "question_id": 33788148, "link": "https://stackoverflow.com/questions/33788148/using-multiple-shells-windows-in-a-prism-application", "title": "Using multiple shells/windows in a Prism application", "body": "<p>I'm trying to create an application that would use multiple windows. For starters I'd like it to have a splash screen window and a \"main window\". I came along this article: <a href=\"http://southworks.com/blog/2010/01/26/creating-a-multi-shell-application-in-prism-v2/\" rel=\"nofollow\">http://southworks.com/blog/2010/01/26/creating-a-multi-shell-application-in-prism-v2/</a> however it doesn't seem to suit my needs. Author is creating 2 windows at the same time, also showing both right from the start. What I want to do is to create this splash screen window (with some nice loading indicators) and only when it's underlying logic will complete its tasks, I want to show another window</p>\n\n<pre><code>protected override DependencyObject CreateShell() {\n    //return Container.Resolve&lt;MainShell&gt;();\n    return Container.Resolve&lt;SplashScreenShell&gt;();\n}\n\nprotected override void InitializeShell() {\n    base.InitializeShell();\n\n    App.Current.MainWindow = (Window)Shell;\n    App.Current.MainWindow.Show();\n}\n</code></pre>\n\n<p>Another issue is that when I use this code, all my modules (so even those used only by MainShell) are getting loaded and initialized, and that's totally not what I want. Mainly because Prism looks for RegionName that is not present on SplashScreenShell (but is present on the second shell).</p>\n\n<p>I'm using Prism 6.1.0 and .NET 4.6.</p>\n"}]